const _0x4e7cd8=_0x1f15;(function(_0x374997,_0x4a6668){const _0x1d56fa=_0x1f15,_0x16cd23=_0x374997();while(!![]){try{const _0x53a49e=-parseInt(_0x1d56fa(0x145))/0x1*(-parseInt(_0x1d56fa(0xa47))/0x2)+-parseInt(_0x1d56fa(0x8b4))/0x3+parseInt(_0x1d56fa(0x6bd))/0x4*(parseInt(_0x1d56fa(0x840))/0x5)+-parseInt(_0x1d56fa(0x5b1))/0x6*(-parseInt(_0x1d56fa(0x5d5))/0x7)+-parseInt(_0x1d56fa(0xa98))/0x8*(parseInt(_0x1d56fa(0xc09))/0x9)+parseInt(_0x1d56fa(0xbeb))/0xa+-parseInt(_0x1d56fa(0x379))/0xb;if(_0x53a49e===_0x4a6668)break;else _0x16cd23['push'](_0x16cd23['shift']());}catch(_0x3dfc45){_0x16cd23['push'](_0x16cd23['shift']());}}}(_0x7460,0x82687));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x4e7cd8(0x3ca),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x87242d=_0x4e7cd8;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x87242d(0x7b5)][_0x87242d(0x1bf)](_0x87242d(0x11e)),console[_0x87242d(0x511)](_0x87242d(0xb6b)),wakeLock[_0x87242d(0xa37)]('release',()=>{const _0x320ed6=_0x87242d;console['log'](_0x320ed6(0x460));});}catch(_0x21cc4c){console[_0x87242d(0x2da)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x21cc4c['name']+',\x20'+_0x21cc4c[_0x87242d(0x516)]);}else console['warn'](_0x87242d(0x8be));},releaseWakeLock=async()=>{const _0x23d590=_0x4e7cd8;wakeLock!==null&&(await wakeLock[_0x23d590(0x7d8)](),wakeLock=null,console['log'](_0x23d590(0x915)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x39ebbc=_0x4e7cd8;if(dimTimer)clearTimeout(dimTimer);document[_0x39ebbc(0xa68)][_0x39ebbc(0x12e)][_0x39ebbc(0x1f9)](_0x39ebbc(0xc71)),dimTimer=setTimeout(()=>{const _0x457137=_0x39ebbc;document[_0x457137(0xa68)][_0x457137(0x12e)][_0x457137(0x7d7)](_0x457137(0xc71)),console['log'](_0x457137(0x1b0));},inactivityTime);}function stopDimTimer(){const _0x5e0d1b=_0x4e7cd8;if(dimTimer)clearTimeout(dimTimer);document[_0x5e0d1b(0xa68)][_0x5e0d1b(0x12e)][_0x5e0d1b(0x1f9)](_0x5e0d1b(0xc71)),window[_0x5e0d1b(0x208)](_0x5e0d1b(0x46b),resetDimTimer),window[_0x5e0d1b(0x208)](_0x5e0d1b(0x8af),resetDimTimer),window[_0x5e0d1b(0x208)]('touchstart',resetDimTimer),window[_0x5e0d1b(0x208)](_0x5e0d1b(0x31d),resetDimTimer),console[_0x5e0d1b(0x511)](_0x5e0d1b(0x878));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x397988,_0x185e7c=![]){const _0x3cbe66=_0x4e7cd8,_0xa6816d=allQuizzes['find'](_0xef8820=>_0xef8820['id']===_0x397988)||allQuizzesGlobal[_0x3cbe66(0x135)](_0x4854d1=>_0x4854d1['id']===_0x397988);if(!_0xa6816d){showMessage(_0x3cbe66(0x203));return;}currentQuizData=getShuffledQuiz(_0xa6816d);const _0x209693=Math[_0x3cbe66(0xa32)](0x3e8+Math['random']()*0x2328)[_0x3cbe66(0x8bf)]();try{const _0x3cbf31=await addDoc(collection(db,_0x3cbe66(0xbc5)+appId+_0x3cbe66(0x56e)),{'quizId':_0xa6816d['id'],'projectId':_0xa6816d[_0x3cbe66(0xa4a)],'status':_0x3cbe66(0x971),'pin':_0x209693,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x185e7c});currentTeamQuizId=_0x3cbf31['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x209693,_0xa6816d[_0x3cbe66(0xcaf)]),listenForTeamQuizUpdates();}catch(_0x5d31e5){console[_0x3cbe66(0x2da)](_0x3cbe66(0x6a8),_0x5d31e5),showMessage(_0x3cbe66(0x77f));}}function renderAdminTeamQuizDashboard(_0x372524,_0x5544c0,_0x2cc42b=_0x4e7cd8(0x96c)){const _0x327a84=_0x4e7cd8,_0x414acf=_0x2cc42b===_0x327a84(0xbe3)?_0x327a84(0x680):'Team\x20Quiz';liveGameView[_0x327a84(0x3e3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x414acf+':\x20'+_0x5544c0+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x372524+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById'](_0x327a84(0x762))[_0x327a84(0xa37)]('click',async()=>{const _0x376dfb=_0x327a84;showConfirmation(_0x376dfb(0x49f),async()=>{const _0x2498b3=_0x376dfb;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x2498b3(0x56e),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x8fe889=_0x4e7cd8;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x14ac4c=doc(db,_0x8fe889(0xbc5)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x14ac4c,_0x454a22=>{const _0x5d5144=_0x8fe889;if(!_0x454a22[_0x5d5144(0x7b7)]()){sessionStorage[_0x5d5144(0xc4b)](_0x5d5144(0xa7c));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x5d5144(0x185));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5d5144(0x9be)?showView(_0x5d5144(0x835)):showView('student');return;}const _0x1b5f5e=_0x454a22[_0x5d5144(0x921)]();if(currentMode===_0x5d5144(0x9be)){if(_0x1b5f5e['mode']==='group'&&_0x1b5f5e[_0x5d5144(0xb37)]!==_0x5d5144(0xab0)&&_0x1b5f5e[_0x5d5144(0xb37)]!=='finished'){const _0x49b686=Object[_0x5d5144(0x9a6)](_0x1b5f5e[_0x5d5144(0xafc)]||{});if(_0x49b686[_0x5d5144(0xa90)]>0x0){const _0x3f66a9=_0x49b686[_0x5d5144(0x46f)](_0x275896=>_0x275896[_0x5d5144(0x44d)]===!![]);_0x3f66a9&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x1b5f5e);}else{if(_0x1b5f5e['status']===_0x5d5144(0xab0)||_0x1b5f5e[_0x5d5144(0xb37)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x1b5f5e['mode']===_0x5d5144(0xbe3)){const _0xe0e7ef=_0x1b5f5e[_0x5d5144(0xafc)][userId];(!_0xe0e7ef||!_0xe0e7ef[_0x5d5144(0x44d)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x5d746b){const _0x5a74a9=_0x4e7cd8;console['log']('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x32be22=doc(db,_0x5a74a9(0xbc5)+appId+_0x5a74a9(0x56e),_0x5d746b);try{const _0x25a441=await getDoc(_0x32be22);if(_0x25a441['exists']()){const _0x5e36ea=_0x25a441['data']();_0x5e36ea[_0x5a74a9(0x9fe)]&&await saveGameResultsAsSubmissions(_0x5e36ea);}await updateDoc(_0x32be22,{'status':'podium'});}catch(_0x564d7e){console[_0x5a74a9(0x2da)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x564d7e);}}function updateAdminTeamDashboard(_0x4e42d8){const _0x139264=_0x4e7cd8,_0xea6d60=document[_0x139264(0x1c2)]('team-player-status-grid');if(!_0xea6d60)return;const _0x369513=_0x4e42d8[_0x139264(0x33d)]||_0x139264(0x96c),_0x238055=currentQuizData[_0x139264(0x966)][_0x139264(0xa90)];if(_0x369513===_0x139264(0xbe3)){const _0x41dc55=Object[_0x139264(0x9a6)](_0x4e42d8[_0x139264(0xafc)]||{});if(_0x41dc55[_0x139264(0xa90)]===0x0){_0xea6d60[_0x139264(0x3e3)]=_0x139264(0x659);return;}const _0x5e01bc=[..._0x41dc55][_0x139264(0x327)]((_0x3e80a6,_0x5a08f2)=>_0x5a08f2[_0x139264(0xb20)]-_0x3e80a6[_0x139264(0xb20)]),_0x440cff=_0x5e01bc['map']((_0x1c3535,_0x5c4e3a)=>{const _0x3a8b92=_0x139264,_0x54bfba=_0x1c3535[_0x3a8b92(0x361)]?.['length']||0x0;return _0x3a8b92(0x74e)+(_0x5c4e3a+0x1)+_0x3a8b92(0x6fb)+_0x1c3535[_0x3a8b92(0x24d)][_0x3a8b92(0xab6)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x54bfba+'/'+_0x238055+_0x3a8b92(0x3e7)+_0x1c3535[_0x3a8b92(0xb20)]+_0x3a8b92(0x640);})[_0x139264(0xab6)](''),_0x15d532=currentQuizData[_0x139264(0x966)][_0x139264(0xa26)]((_0xf0d0d2,_0x146d5f)=>{const _0x536745=_0x139264;let _0x335cdb=0x0,_0x4960f4=0x0;_0x41dc55[_0x536745(0x8ca)](_0x4427b4=>{const _0x37ab08=_0x536745,_0x527178=_0x4427b4[_0x37ab08(0x361)]?.[_0x37ab08(0x135)](_0x53748c=>_0x53748c[_0x37ab08(0x168)]===_0x146d5f);if(_0x527178){_0x4960f4++;if(_0x527178[_0x37ab08(0xaf8)])_0x335cdb++;}});const _0x502131=_0x4960f4>0x0&&_0x4960f4===_0x41dc55['length'],_0x391b6e=_0x502131?_0x536745(0xbcb):_0x536745(0x5ff),_0x2be4fd=_0x502131?_0x536745(0xa8e):'';return _0x536745(0x9e7)+_0x391b6e+_0x536745(0x48a)+(_0x146d5f+0x1)+_0x536745(0xa2d)+_0x2be4fd+_0x536745(0x67e)+_0x335cdb+'/'+_0x41dc55[_0x536745(0xa90)]+_0x536745(0xbd7);})[_0x139264(0xab6)]('');_0xea6d60[_0x139264(0x3e3)]=_0x139264(0x4d8)+_0x440cff+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x15d532+_0x139264(0xab5);return;}const _0x54642a=_0x4e42d8[_0x139264(0x377)]||{},_0x34e0ca=Object['keys'](_0x54642a);if(_0x34e0ca['length']===0x0){_0xea6d60['innerHTML']=_0x139264(0xb0a);return;}const _0x5c4ea6=_0x34e0ca[_0x139264(0xa26)](_0x5d1c32=>({'name':_0x5d1c32,'score':_0x54642a[_0x5d1c32][_0x139264(0xb20)]||0x0}))[_0x139264(0x327)]((_0x52d479,_0x4fa895)=>_0x4fa895['score']-_0x52d479[_0x139264(0xb20)]),_0x375d4a=_0x5c4ea6[_0x139264(0xa26)](_0xfcb76e=>{const _0x3e05b2=_0x139264,_0x21a19d=_0x54642a[_0xfcb76e[_0x3e05b2(0x82b)]]?.[_0x3e05b2(0x361)]?.[_0x3e05b2(0xa90)]||0x0,_0x5269cb=Math['ceil'](_0x238055/_0x34e0ca[_0x3e05b2(0xa90)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0xfcb76e[_0x3e05b2(0x82b)]+_0x3e05b2(0xc47)+_0x21a19d+'/'+_0x5269cb+_0x3e05b2(0x92f)+_0xfcb76e[_0x3e05b2(0xb20)]+_0x3e05b2(0x4ae);})[_0x139264(0xab6)](''),_0x37dadf=_0x34e0ca[_0x139264(0x7b3)]((_0xedf06c,_0x2f92bf)=>_0xedf06c+(_0x54642a[_0x2f92bf][_0x139264(0x361)]?.[_0x139264(0xa90)]||0x0),0x0),_0x14ae5c=currentQuizData[_0x139264(0x966)][_0x139264(0xa26)]((_0x580edc,_0x2da0b8)=>{const _0x306db2=_0x139264;let _0x1fd500=null,_0x58c8fe=null;for(const _0x1b23a1 of _0x34e0ca){const _0x4b7c61=_0x54642a[_0x1b23a1][_0x306db2(0x361)]?.[_0x306db2(0x135)](_0x39b820=>_0x39b820['questionIndex']===_0x2da0b8);if(_0x4b7c61){_0x1fd500=_0x4b7c61,_0x58c8fe=_0x1b23a1;break;}}const _0x53a4c0=!!_0x1fd500,_0x1ed6a9=_0x53a4c0&&_0x1fd500['isCorrect'],_0x33498a=(Math['floor'](_0x2da0b8/_0x34e0ca[_0x306db2(0xa90)])+0x1)*_0x34e0ca['length'],_0x29131f=_0x37dadf>=_0x33498a,_0x540f74=_0x29131f?_0x306db2(0xc50):_0x306db2(0x5ff),_0x53c5e5=_0x29131f?_0x306db2(0xa8e):'';let _0x397fd1=_0x306db2(0x4a9);return _0x53a4c0&&(_0x397fd1=_0x58c8fe+'\x20ตอบ'+(_0x1ed6a9?_0x306db2(0x746):'ผิด')),_0x306db2(0x9e7)+_0x540f74+_0x306db2(0x48a)+(_0x2da0b8+0x1)+_0x306db2(0xa2d)+_0x53c5e5+_0x306db2(0x8a7)+_0x397fd1+_0x306db2(0x3c3);})[_0x139264(0xab6)]('');_0xea6d60[_0x139264(0x3e3)]=_0x139264(0x2e5)+_0x375d4a+_0x139264(0x5c8)+_0x14ae5c+_0x139264(0xab5);}async function handleJoinTeamQuiz(){const _0x102ae8=_0x4e7cd8,_0x535c43=prompt(_0x102ae8(0x6fe));if(!_0x535c43||_0x535c43[_0x102ae8(0x492)]()[_0x102ae8(0xa90)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x5b4b88=collection(db,'artifacts/'+appId+_0x102ae8(0x56e)),_0x594378=query(_0x5b4b88,where(_0x102ae8(0x753),'==',_0x535c43[_0x102ae8(0x492)]()),where(_0x102ae8(0xb37),'==',_0x102ae8(0x971))),_0x26aa57=await getDocs(_0x594378);if(_0x26aa57[_0x102ae8(0x25c)]){showMessage(_0x102ae8(0x442));return;}const _0x23913e=_0x26aa57[_0x102ae8(0x378)][0x0];currentTeamQuizId=_0x23913e['id'];const _0x621d2=_0x23913e['data'](),_0x1d3400=doc(db,'artifacts/'+appId+_0x102ae8(0x6e3),_0x621d2[_0x102ae8(0xa4a)]),_0x3bb0fa=doc(db,_0x102ae8(0xbc5)+appId+_0x102ae8(0x5e2),_0x621d2['quizId']),[_0x582453,_0x37370]=await Promise[_0x102ae8(0x3ca)]([getDoc(_0x1d3400),getDoc(_0x3bb0fa)]);if(!_0x582453[_0x102ae8(0x7b7)]()||!_0x37370[_0x102ae8(0x7b7)]())throw new Error(_0x102ae8(0x216));currentQuizData=getShuffledQuiz({'id':_0x37370['id'],..._0x37370[_0x102ae8(0x921)]()});const _0x268095=_0x582453['data']();showTeamPlayerSelection(_0x268095[_0x102ae8(0x7f0)],currentQuizData[_0x102ae8(0xcaf)]);}catch(_0x11fa1a){console[_0x102ae8(0x2da)]('Error\x20joining\x20team\x20quiz:',_0x11fa1a),showMessage(_0x102ae8(0xb7c)+_0x11fa1a[_0x102ae8(0x516)]);}}async function handleJoinGroupActivity(){const _0xbad4bd=_0x4e7cd8,_0x28c3da=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x28c3da||_0x28c3da[_0xbad4bd(0x492)]()[_0xbad4bd(0xa90)]!==0x4){showMessage(_0xbad4bd(0x75c));return;}const _0x2b936a=_0x28c3da['trim']();showMessage(_0xbad4bd(0xbd1));try{const _0x3849f3=collection(db,'artifacts/'+appId+_0xbad4bd(0x56e)),_0x21f976=query(_0x3849f3,where(_0xbad4bd(0x753),'==',_0x2b936a),where(_0xbad4bd(0xb37),'==','lobby')),_0x219a8c=await getDocs(_0x21f976);if(!_0x219a8c[_0xbad4bd(0x25c)]){console[_0xbad4bd(0x511)](_0xbad4bd(0x4dc)),await proceedWithTeamQuizJoin(_0x219a8c[_0xbad4bd(0x378)][0x0]);return;}const _0x59aec6=collection(db,_0xbad4bd(0xbc5)+appId+_0xbad4bd(0x1be)),_0x4e8cb3=query(_0x59aec6,where(_0xbad4bd(0x753),'==',_0x2b936a),where(_0xbad4bd(0xb37),'==',_0xbad4bd(0x971))),_0x667ed8=await getDocs(_0x4e8cb3);if(!_0x667ed8[_0xbad4bd(0x25c)]){console[_0xbad4bd(0x511)](_0xbad4bd(0x2c2)),await proceedWithSyncQuizJoin(_0x667ed8[_0xbad4bd(0x378)][0x0]);return;}showMessage(_0xbad4bd(0x2bf));}catch(_0xa73060){console[_0xbad4bd(0x2da)](_0xbad4bd(0x163),_0xa73060),showMessage(_0xbad4bd(0x9c5)+_0xa73060['message']);}}async function proceedWithTeamQuizJoin(_0x4313ec){const _0x22eeba=_0x4e7cd8;currentTeamQuizId=_0x4313ec['id'];const _0x5893ac=_0x4313ec['data'](),_0x59d73d=doc(db,_0x22eeba(0xbc5)+appId+'/public/data/projects',_0x5893ac[_0x22eeba(0xa4a)]),_0x2d8bba=doc(db,_0x22eeba(0xbc5)+appId+_0x22eeba(0x5e2),_0x5893ac[_0x22eeba(0x224)]),[_0x27aa87,_0x16e8c9]=await Promise[_0x22eeba(0x3ca)]([getDoc(_0x59d73d),getDoc(_0x2d8bba)]);if(!_0x27aa87[_0x22eeba(0x7b7)]()||!_0x16e8c9[_0x22eeba(0x7b7)]())throw new Error(_0x22eeba(0x216));currentQuizData=getShuffledQuiz({'id':_0x16e8c9['id'],..._0x16e8c9['data']()}),showTeamPlayerSelection(_0x27aa87['data']()[_0x22eeba(0x7f0)],currentQuizData[_0x22eeba(0xcaf)],_0x5893ac[_0x22eeba(0x33d)]||'team'),messageModal[_0x22eeba(0x12e)][_0x22eeba(0x7d7)]('hidden');}async function proceedWithSyncQuizJoin(_0x4e5f85){const _0x96c072=_0x4e7cd8;currentLiveGameId=_0x4e5f85['id'];const _0x583a82=_0x4e5f85[_0x96c072(0x921)](),_0x514783=doc(db,'artifacts/'+appId+_0x96c072(0x5e2),_0x583a82['quizId']),_0x75b220=await getDoc(_0x514783);if(!_0x75b220[_0x96c072(0x7b7)]())throw new Error(_0x96c072(0x203));const _0x404ce5=_0x75b220[_0x96c072(0x921)](),_0x300623=doc(db,_0x96c072(0xbc5)+appId+_0x96c072(0x6e3),_0x404ce5[_0x96c072(0xa4a)]),_0x1ae391=await getDoc(_0x300623);if(!_0x1ae391[_0x96c072(0x7b7)]())throw new Error(_0x96c072(0x6de));currentQuizData=_0x583a82['shuffledQuiz'],showView('student-team-join'),showTeamPlayerSelection(_0x1ae391[_0x96c072(0x921)]()[_0x96c072(0x7f0)],_0x404ce5[_0x96c072(0xcaf)],_0x96c072(0xa3d)),document[_0x96c072(0x1c2)](_0x96c072(0x95c))[_0x96c072(0xa41)]=confirmAndJoinSyncGame,messageModal[_0x96c072(0x12e)][_0x96c072(0x7d7)](_0x96c072(0x30a));}function getCleanApplicationHTML(){const _0x54c259=_0x4e7cd8,_0x5712da=document[_0x54c259(0x1c2)](_0x54c259(0x8f1));if(!_0x5712da)return'';const _0x2adf92=_0x5712da[_0x54c259(0x87b)](!![]);return _0x2adf92[_0x54c259(0x9f4)]('.application-options\x20button')['forEach'](_0x3d8a42=>{const _0xa5c1e5=_0x54c259;_0x3d8a42[_0xa5c1e5(0x12e)][_0xa5c1e5(0x1f9)](_0xa5c1e5(0x25f),_0xa5c1e5(0xcae)),_0x3d8a42[_0xa5c1e5(0x78a)]=![];}),_0x2adf92['innerHTML'];}function showTeamPlayerSelection(_0x36c4cf,_0x35ed91,_0x35b59f=_0x4e7cd8(0x96c)){const _0x3dbf84=_0x4e7cd8;studentInitialView[_0x3dbf84(0x12e)][_0x3dbf84(0x7d7)](_0x3dbf84(0x30a)),studentJoinGameView['classList'][_0x3dbf84(0x7d7)]('hidden'),document[_0x3dbf84(0x1c2)](_0x3dbf84(0xb5a))[_0x3dbf84(0x12e)][_0x3dbf84(0x1f9)]('hidden');let _0x1e9072=_0x3dbf84(0x38d);if(_0x35b59f===_0x3dbf84(0xbe3))_0x1e9072=_0x3dbf84(0x680);else _0x35b59f===_0x3dbf84(0xa3d)&&(_0x1e9072='Sync\x20Mode');document[_0x3dbf84(0x1c2)]('team-quiz-topic')['textContent']=_0x1e9072+':\x20'+_0x35ed91;const _0x10c807=document[_0x3dbf84(0x1c2)](_0x3dbf84(0xbfa));if(!_0x36c4cf||_0x36c4cf[_0x3dbf84(0xa90)]===0x0){_0x10c807['innerHTML']=_0x3dbf84(0x7c6),document[_0x3dbf84(0x1c2)](_0x3dbf84(0x95c))['disabled']=!![];return;}_0x10c807['innerHTML']=_0x36c4cf[_0x3dbf84(0xa26)](_0x94dbed=>_0x3dbf84(0x5df)+_0x94dbed+_0x3dbf84(0x140)+_0x94dbed+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x3dbf84(0xab6)](''),document[_0x3dbf84(0x1c2)]('confirm-team-players-btn')[_0x3dbf84(0x78a)]=![];}async function confirmAndStartTeamQuiz(){const _0x1dea01=_0x4e7cd8,_0x2e96b3=Array[_0x1dea01(0x1c7)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))['map'](_0x423c60=>_0x423c60[_0x1dea01(0x9f1)]);if(_0x2e96b3[_0x1dea01(0xa90)]===0x0){showMessage(_0x1dea01(0x59a));return;}localTeamPlayers=_0x2e96b3,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x35dcad=doc(db,_0x1dea01(0xbc5)+appId+_0x1dea01(0x56e),currentTeamQuizId);try{const _0x3d0f49=await getDoc(_0x35dcad);if(!_0x3d0f49[_0x1dea01(0x7b7)]())throw new Error(_0x1dea01(0xa4b));const _0x350885=_0x3d0f49[_0x1dea01(0x921)]();if(_0x350885[_0x1dea01(0x33d)]==='group'){const _0x2e8c60={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x35dcad,_0x2e8c60);}else{const _0x415ebc=_0x350885[_0x1dea01(0x377)]||{};localTeamPlayers[_0x1dea01(0x8ca)](_0x5a52e0=>{!_0x415ebc[_0x5a52e0]&&(_0x415ebc[_0x5a52e0]={'score':0x0,'answers':[]});}),await updateDoc(_0x35dcad,{'responses':_0x415ebc});}document[_0x1dea01(0x1c2)](_0x1dea01(0xb5a))[_0x1dea01(0x12e)][_0x1dea01(0x7d7)](_0x1dea01(0x30a)),renderTeamQuizQuestion();const _0x3faf8c={'gameId':currentTeamQuizId,'mode':_0x350885[_0x1dea01(0x33d)]||_0x1dea01(0x96c),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1dea01(0x9d1)](_0x1dea01(0xa7c),JSON['stringify'](_0x3faf8c)),listenForTeamQuizUpdates();}catch(_0x220704){console['error']('Error\x20confirming\x20players:',_0x220704),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x292716=_0x4e7cd8;if(localQuestionIndex>=currentQuizData[_0x292716(0x966)][_0x292716(0xa90)]){displayTeamQuizFinalResults();return;}const _0x446a38=currentQuizData['questions'][localQuestionIndex],_0x5e5a16=localTeamPlayers[localPlayerIndex],_0x155d29=_0x446a38['questionType']||currentQuizData[_0x292716(0x769)];let _0x4d3877=_0x446a38['stem']||_0x446a38[_0x292716(0x2b3)],_0x5b8307='';switch(_0x155d29){case _0x292716(0x4bb):case _0x292716(0xc96):_0x5b8307=_0x446a38[_0x292716(0x4d1)][_0x292716(0xa26)]((_0x5915e1,_0x38b621)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x38b621+_0x292716(0x20f)+_0x38b621+_0x292716(0x139)+_0x38b621+'\x22>'+_0x5915e1+_0x292716(0x1f0))[_0x292716(0xab6)]('');break;case _0x292716(0x7f4):_0x5b8307=_0x292716(0x616);break;case _0x292716(0xc3f):case _0x292716(0x4df):_0x5b8307='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x292716(0x220):_0x5b8307=_0x292716(0xc1e)+_0x446a38[_0x292716(0x998)][_0x292716(0xa26)](_0x515b1d=>_0x292716(0xc29)+_0x515b1d+'\x22>'+_0x515b1d+_0x292716(0x848))['join']('')+'</select>';break;default:_0x5b8307=_0x292716(0x572);break;}studentQuizArea['innerHTML']=_0x292716(0x1ca)+(localQuestionIndex+0x1)+_0x292716(0xbbf)+currentQuizData['questions'][_0x292716(0xa90)]+_0x292716(0xa04)+_0x5e5a16+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x4d3877+_0x292716(0x658)+(_0x446a38[_0x292716(0x291)]?_0x292716(0xbb7)+_0x446a38[_0x292716(0x291)]+'</div>':'')+_0x292716(0x8fe)+_0x5b8307+_0x292716(0x4fb),studentQuizArea[_0x292716(0x12e)][_0x292716(0x1f9)]('hidden');if(window[_0x292716(0x196)])MathJax[_0x292716(0x7ca)]([studentQuizArea]);document['getElementById'](_0x292716(0x4f7))['addEventListener'](_0x292716(0xbdd),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x54f035=_0x4e7cd8,_0x54d846=currentQuizData[_0x54f035(0x966)][localQuestionIndex],_0x3b423f=_0x54d846[_0x54f035(0x93a)]||currentQuizData[_0x54f035(0x769)];let _0x1ffd33=null,_0x2c8ab6=![];if(_0x3b423f===_0x54f035(0xc3f)||_0x3b423f===_0x54f035(0x4df)){const _0x4da8c9=document['querySelector'](_0x54f035(0xada));if(!_0x4da8c9||!_0x4da8c9[_0x54f035(0x9f1)]['trim']()){showMessage(_0x54f035(0xb06));return;}_0x1ffd33=_0x4da8c9[_0x54f035(0x9f1)]['trim'](),_0x2c8ab6=await gradeShortAnswer(_0x1ffd33,_0x54d846);}else{const _0x472e3b=document[_0x54f035(0x8b9)](_0x54f035(0xa07));if(!_0x472e3b||_0x472e3b['value']===''){showMessage(_0x54f035(0x894));return;}_0x1ffd33=_0x472e3b[_0x54f035(0x9f1)];switch(_0x3b423f){case _0x54f035(0x7f4):_0x2c8ab6=_0x1ffd33===_0x54f035(0xaa3)===_0x54d846['correctAnswer'];break;case _0x54f035(0x220):_0x2c8ab6=_0x1ffd33===_0x54d846['correctResponse'];break;default:_0x2c8ab6=parseInt(_0x1ffd33)===_0x54d846['correctAnswerIndex'];break;}}const _0x46135e={'questionIndex':localQuestionIndex,'isCorrect':_0x2c8ab6},_0x2cb6bd=userId,_0x8b46cf={[_0x54f035(0x59b)+_0x2cb6bd+_0x54f035(0x47e)]:arrayUnion(_0x46135e)};_0x2c8ab6&&(_0x8b46cf[_0x54f035(0x59b)+_0x2cb6bd+_0x54f035(0x3e1)]=increment(0x1));try{await updateDoc(doc(db,_0x54f035(0xbc5)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x8b46cf),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x54f035(0x966)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x2c607c){console[_0x54f035(0x2da)](_0x54f035(0xbb1),_0x2c607c),showMessage(_0x54f035(0x987));}}async function handleTeamAnswerSubmit(){const _0x4eb4d0=_0x4e7cd8,_0x6fce6b=await getDoc(doc(db,_0x4eb4d0(0xbc5)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x6fce6b[_0x4eb4d0(0x7b7)]())return;const _0x565246=_0x6fce6b['data']();if(_0x565246[_0x4eb4d0(0x33d)]===_0x4eb4d0(0xbe3)){handleGroupAnswerSubmit();return;}const _0x210779=localTeamPlayers[localPlayerIndex],_0xda9341=currentQuizData['questions'][localQuestionIndex],_0x3d53b3=_0xda9341[_0x4eb4d0(0x93a)]||currentQuizData[_0x4eb4d0(0x769)];let _0x503475=null,_0x38a78f=![];if(_0x3d53b3===_0x4eb4d0(0xc3f)||_0x3d53b3===_0x4eb4d0(0x4df)){const _0xef91bd=document[_0x4eb4d0(0x8b9)](_0x4eb4d0(0xada));if(!_0xef91bd||!_0xef91bd[_0x4eb4d0(0x9f1)]['trim']()){showMessage(_0x4eb4d0(0x973));return;}_0x503475=_0xef91bd[_0x4eb4d0(0x9f1)]['trim'](),_0x38a78f=await gradeShortAnswer(_0x503475,_0xda9341);}else{const _0x26f80e=document[_0x4eb4d0(0x8b9)](_0x4eb4d0(0xa07));if(!_0x26f80e||_0x26f80e[_0x4eb4d0(0x9f1)]===''){showMessage(_0x4eb4d0(0x4a3));return;}_0x503475=_0x26f80e[_0x4eb4d0(0x9f1)];switch(_0x3d53b3){case _0x4eb4d0(0x7f4):_0x38a78f=_0x503475===_0x4eb4d0(0xaa3)===_0xda9341[_0x4eb4d0(0x209)];break;case _0x4eb4d0(0x220):_0x38a78f=_0x503475===_0xda9341[_0x4eb4d0(0x47a)];break;default:_0x38a78f=parseInt(_0x503475)===_0xda9341[_0x4eb4d0(0xcab)];break;}}const _0x7e1f0d={'questionIndex':localQuestionIndex,'isCorrect':_0x38a78f,'answerValue':_0x503475},_0x24e135={[_0x4eb4d0(0x7c2)+_0x210779+_0x4eb4d0(0x47e)]:arrayUnion(_0x7e1f0d)};_0x38a78f&&(_0x24e135[_0x4eb4d0(0x7c2)+_0x210779+_0x4eb4d0(0x3e1)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x4eb4d0(0x56e),currentTeamQuizId),_0x24e135),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x4eb4d0(0xa90)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x5f38fb){console['error'](_0x4eb4d0(0x52b),_0x5f38fb),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x4d5d5e=_0x4e7cd8;studentQuizArea[_0x4d5d5e(0x12e)][_0x4d5d5e(0x7d7)](_0x4d5d5e(0x30a)),studentResultArea['classList'][_0x4d5d5e(0x1f9)](_0x4d5d5e(0x30a));const _0x2eafd7=doc(db,_0x4d5d5e(0xbc5)+appId+_0x4d5d5e(0x56e),currentTeamQuizId),_0x25c713=await getDoc(_0x2eafd7);if(!_0x25c713['exists']()){studentResultArea['innerHTML']=_0x4d5d5e(0x28a);return;}const _0x270c54=_0x25c713[_0x4d5d5e(0x921)]();let _0x366db2=[];const _0x14ce76=_0x270c54[_0x4d5d5e(0x33d)]||'team';if(_0x14ce76==='group'){const _0x5c9972=_0x270c54['groups'][userId];_0x5c9972?_0x366db2=[{'name':_0x4d5d5e(0x191)+localTeamPlayers[_0x4d5d5e(0xab6)](',\x20'),'score':_0x5c9972[_0x4d5d5e(0xb20)]||0x0}]:_0x366db2=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0x366db2=localTeamPlayers['map'](_0x444106=>({'name':_0x444106,'score':_0x270c54['responses'][_0x444106]?.[_0x4d5d5e(0xb20)]||0x0}))['sort']((_0x7259f7,_0x267c2f)=>_0x267c2f[_0x4d5d5e(0xb20)]-_0x7259f7[_0x4d5d5e(0xb20)]);studentResultArea['innerHTML']=_0x4d5d5e(0x395)+_0x366db2[_0x4d5d5e(0xa26)](_0x5c64fa=>_0x4d5d5e(0x226)+_0x5c64fa['name']+_0x4d5d5e(0x72b)+_0x5c64fa[_0x4d5d5e(0xb20)]+_0x4d5d5e(0x190))[_0x4d5d5e(0xab6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x4d5d5e(0xc4b)](_0x4d5d5e(0xa7c)),currentMode===_0x4d5d5e(0x9be)&&currentTeamQuizId&&setTimeout(()=>{const _0x29f715=_0x4d5d5e;deleteDoc(doc(db,_0x29f715(0xbc5)+appId+_0x29f715(0x56e),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4e7cd8(0x3fa),'pinnedProjects':[],'projectView':_0x4e7cd8(0x9f7)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x4e7cd8(0x908)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x602)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x927)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x6c8)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0xa53)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0xb74)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0xc94)},{'category':_0x4e7cd8(0xb9b),'name':'การหาร'},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x5d1)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x3fe)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x45c)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x4e7cd8(0xb9b),'name':'เส้นจำนวน'},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x827)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x3ae)},{'category':_0x4e7cd8(0xb9b),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x92c)},{'category':_0x4e7cd8(0xb9b),'name':'อัตราและอัตราหน่วย'},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x1df)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x798)},{'category':'จำนวนและการดำเนินการ','name':_0x4e7cd8(0x910)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x342)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0xc87)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0xc89)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x427)},{'category':'จำนวนและการดำเนินการ','name':_0x4e7cd8(0x657)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0xb04)},{'category':_0x4e7cd8(0xb9b),'name':'การคูณทศนิยม'},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x3f3)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0xb42)},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x4e7cd8(0x714)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0xca6)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x1a7)},{'category':_0x4e7cd8(0xb9b),'name':_0x4e7cd8(0x7fc)},{'category':'จำนวนและการดำเนินการ','name':_0x4e7cd8(0x193)},{'category':_0x4e7cd8(0x542),'name':_0x4e7cd8(0x369)},{'category':'การวัด','name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x4e7cd8(0x542),'name':_0x4e7cd8(0xc37)},{'category':_0x4e7cd8(0x542),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x4e7cd8(0x542),'name':_0x4e7cd8(0x989)},{'category':_0x4e7cd8(0x542),'name':_0x4e7cd8(0xab3)},{'category':_0x4e7cd8(0x542),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x4e7cd8(0x542),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':_0x4e7cd8(0x86a)},{'category':_0x4e7cd8(0x542),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x4e7cd8(0x542),'name':_0x4e7cd8(0x16d)},{'category':_0x4e7cd8(0x542),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x4e7cd8(0x525)},{'category':'การวัด','name':_0x4e7cd8(0xc86)},{'category':'เรขาคณิต','name':_0x4e7cd8(0x681)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0x907)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0x97d)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0xb31)},{'category':'เรขาคณิต','name':_0x4e7cd8(0x234)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0x35b)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0x309)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0x27b)},{'category':'เรขาคณิต','name':_0x4e7cd8(0x466)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0x40d)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0xc5e)},{'category':_0x4e7cd8(0xa94),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x4e7cd8(0xa94),'name':'สมมาตร\x20(แกน/จุด)'},{'category':'เรขาคณิต','name':_0x4e7cd8(0xa7e)},{'category':_0x4e7cd8(0xa94),'name':_0x4e7cd8(0x3ac)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0xb4f)},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x2db)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x5f2)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x3c1)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x439)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x398)},{'category':_0x4e7cd8(0x7da),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0xc8f)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x50c)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x8e2)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0xc58)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x8df)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4e7cd8(0x425)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x712)},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x850)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0xb69)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x99a)},{'category':_0x4e7cd8(0x7da),'name':'ฟังก์ชันพหุนาม'},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x1d0)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x58e)},{'category':_0x4e7cd8(0x7da),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4e7cd8(0x633)},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x81c)},{'category':_0x4e7cd8(0x7da),'name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4e7cd8(0x2be)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x4e7cd8(0x7da),'name':_0x4e7cd8(0x55f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4e7cd8(0x1f1)},{'category':_0x4e7cd8(0x7da),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x4e7cd8(0xa1a)},{'category':_0x4e7cd8(0xa29),'name':_0x4e7cd8(0x33a)},{'category':_0x4e7cd8(0xa29),'name':_0x4e7cd8(0x52e)},{'category':_0x4e7cd8(0xa29),'name':_0x4e7cd8(0x826)},{'category':_0x4e7cd8(0xa29),'name':_0x4e7cd8(0x486)},{'category':_0x4e7cd8(0xa29),'name':'พาราโบลา'},{'category':_0x4e7cd8(0xa29),'name':_0x4e7cd8(0x491)},{'category':_0x4e7cd8(0xa29),'name':'ไฮเพอร์โบลา'},{'category':_0x4e7cd8(0xbbd),'name':_0x4e7cd8(0xc66)},{'category':_0x4e7cd8(0xbbd),'name':_0x4e7cd8(0x174)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':_0x4e7cd8(0xbf3)},{'category':'ตรีโกณมิติ','name':_0x4e7cd8(0xc4d)},{'category':_0x4e7cd8(0xbbd),'name':'กฎของโคไซน์'},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':_0x4e7cd8(0x2ec)},{'category':_0x4e7cd8(0xbbd),'name':_0x4e7cd8(0x41f)},{'category':_0x4e7cd8(0xbbd),'name':_0x4e7cd8(0x520)},{'category':_0x4e7cd8(0xbbd),'name':_0x4e7cd8(0x9b1)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x5aa)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x215)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x268)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x16a)},{'category':_0x4e7cd8(0x811),'name':'ฮิสโตแกรม'},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x318)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0xbea)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x2c3)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x166)},{'category':_0x4e7cd8(0x811),'name':'พิสัย'},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x85c)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x95d)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x39c)},{'category':_0x4e7cd8(0x811),'name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':_0x4e7cd8(0xa9b)},{'category':_0x4e7cd8(0x811),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x721)},{'category':_0x4e7cd8(0x811),'name':'แผนภาพเวนน์'},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x2ff)},{'category':_0x4e7cd8(0x811),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x4e7cd8(0xcbd)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x461)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x972)},{'category':_0x4e7cd8(0x811),'name':_0x4e7cd8(0x599)},{'category':_0x4e7cd8(0x245),'name':_0x4e7cd8(0x1c9)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4e7cd8(0x3ce)},{'category':_0x4e7cd8(0x245),'name':_0x4e7cd8(0x729)},{'category':_0x4e7cd8(0x245),'name':_0x4e7cd8(0xab1)},{'category':_0x4e7cd8(0x245),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4e7cd8(0x860)},{'category':_0x4e7cd8(0x245),'name':_0x4e7cd8(0x279)},{'category':_0x4e7cd8(0x245),'name':_0x4e7cd8(0x25d)},{'category':_0x4e7cd8(0x245),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x4e7cd8(0x245),'name':_0x4e7cd8(0x980)},{'category':_0x4e7cd8(0x245),'name':'ปริพันธ์จำกัด'},{'category':_0x4e7cd8(0x245),'name':_0x4e7cd8(0x348)},{'category':'แคลคูลัสเบื้องต้น','name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x4e7cd8(0x56c),'name':_0x4e7cd8(0xb9a)},{'category':_0x4e7cd8(0x56c),'name':_0x4e7cd8(0x40a)},{'category':_0x4e7cd8(0x56c),'name':_0x4e7cd8(0x56d)},{'category':_0x4e7cd8(0x56c),'name':_0x4e7cd8(0x231)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4e7cd8(0xbc8)},{'category':_0x4e7cd8(0x56c),'name':_0x4e7cd8(0x94a)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4e7cd8(0x45a)},{'category':_0x4e7cd8(0x2d0),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x4e7cd8(0x2d0),'name':_0x4e7cd8(0x58f)},{'category':_0x4e7cd8(0x2d0),'name':_0x4e7cd8(0x711)},{'category':_0x4e7cd8(0x2d0),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4e7cd8(0x8dc)},{'category':_0x4e7cd8(0x4d2),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x4e7cd8(0x7cd)},{'category':_0x4e7cd8(0x4d2),'name':_0x4e7cd8(0x734)}];function renderTopicCheckboxes(){const _0x559c6b=_0x4e7cd8,_0x2aa637=document['getElementById'](_0x559c6b(0x274));if(!_0x2aa637)return;const _0x24d8fe=allMathTopics,_0xd8d49a=customMathTopics[_0x559c6b(0xa26)](_0x532dbc=>({'id':_0x532dbc['id'],'category':_0x559c6b(0x8cb),'name':_0x532dbc['name']})),_0x4deb54=[..._0x24d8fe,..._0xd8d49a],_0x28cba6=_0x4deb54[_0x559c6b(0x7b3)]((_0x17f677,_0x8c372c)=>{const _0x4572a5=_0x559c6b;return!_0x17f677[_0x8c372c['category']]&&(_0x17f677[_0x8c372c[_0x4572a5(0x304)]]=[]),_0x17f677[_0x8c372c[_0x4572a5(0x304)]][_0x4572a5(0x6d9)](_0x8c372c),_0x17f677;},{});let _0x41398d='';const _0x4850ba=[_0x559c6b(0x8cb),...Object['keys'](_0x28cba6)[_0x559c6b(0x473)](_0x4e77c6=>_0x4e77c6!==_0x559c6b(0x8cb))];for(const _0x46d83f of _0x4850ba){if(_0x28cba6[_0x46d83f]){const _0x4201df=_0x46d83f===_0x559c6b(0x8cb),_0x9b38c9=_0x4201df?_0x559c6b(0x587):_0x559c6b(0x14a),_0x13a20d=_0x4201df?_0x559c6b(0xae4):_0x559c6b(0xb50);_0x41398d+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x41398d+=_0x559c6b(0xa28)+_0x13a20d+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x9b38c9+_0x559c6b(0x50d)+_0x46d83f+_0x559c6b(0x35e),_0x28cba6[_0x46d83f][_0x559c6b(0x8ca)](_0x51d041=>{const _0x3200d5=_0x559c6b,_0x34451e=!!_0x51d041['id'],_0x2b933a=_0x34451e?_0x3200d5(0x345)+_0x51d041['id']+_0x3200d5(0xc1b)+_0x51d041['id']+_0x3200d5(0x662)+_0x51d041['id']+_0x3200d5(0xca5)+_0x51d041['id']+_0x3200d5(0x222):'';_0x41398d+=_0x3200d5(0xa3e)+(_0x51d041['id']||'')+_0x3200d5(0xa9a)+_0x51d041['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x51d041[_0x3200d5(0x82b)]+_0x3200d5(0x11b)+(_0x34451e?_0x3200d5(0x8c5)+_0x51d041['name']+'\x22>':'')+_0x3200d5(0x263)+_0x2b933a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x41398d+='</div>';}}_0x2aa637[_0x559c6b(0x3e3)]=_0x41398d||_0x559c6b(0x5cf),_0x2aa637['removeEventListener'](_0x559c6b(0x6c5),updateSelectedTopicsCount),_0x2aa637[_0x559c6b(0xa37)](_0x559c6b(0x6c5),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x1ce92f,_0x464366){const _0x52a24d=_0x4e7cd8;if(!_0x1ce92f||!_0x464366[_0x52a24d(0x492)]()){showMessage(_0x52a24d(0x162));return;}try{const _0x4adf02=doc(db,_0x52a24d(0xbc5)+appId+_0x52a24d(0xad5),_0x1ce92f);await updateDoc(_0x4adf02,{'name':_0x464366[_0x52a24d(0x492)]()}),showMessage(_0x52a24d(0x728));}catch(_0x54e340){console['error'](_0x52a24d(0x836),_0x54e340),showMessage(_0x52a24d(0x790));}}function toggleTopicEditMode(_0x58734e,_0x2bf16f){const _0x3e51c2=_0x4e7cd8;if(!_0x58734e)return;const _0x4da8a3=_0x58734e[_0x3e51c2(0x8b9)]('.topic-name-display'),_0xa7cd2e=_0x58734e['querySelector'](_0x3e51c2(0x5d2)),_0x208e46=_0x58734e[_0x3e51c2(0x8b9)](_0x3e51c2(0x52c)),_0x57c17b=_0x58734e[_0x3e51c2(0x8b9)](_0x3e51c2(0x27d));_0x4da8a3[_0x3e51c2(0x12e)][_0x3e51c2(0x770)]('hidden',_0x2bf16f),_0xa7cd2e[_0x3e51c2(0x12e)][_0x3e51c2(0x770)](_0x3e51c2(0x30a),!_0x2bf16f),_0x208e46[_0x3e51c2(0x12e)]['toggle'](_0x3e51c2(0x30a),_0x2bf16f),_0x57c17b[_0x3e51c2(0x12e)][_0x3e51c2(0x770)](_0x3e51c2(0x30a),!_0x2bf16f),_0x2bf16f&&(_0xa7cd2e[_0x3e51c2(0xa2f)](),_0xa7cd2e[_0x3e51c2(0x6c3)]());}async function handleStartLiveRace(_0x475e08){const _0x3f6356=_0x4e7cd8;let _0x5ce3d6=allQuizzes[_0x3f6356(0x135)](_0x3287ab=>_0x3287ab['id']===_0x475e08);if(!_0x5ce3d6){const _0x237a05=doc(db,_0x3f6356(0xbc5)+appId+_0x3f6356(0x5e2),_0x475e08),_0xcf7f0c=await getDoc(_0x237a05);if(!_0xcf7f0c[_0x3f6356(0x7b7)]()){showMessage(_0x3f6356(0x203));return;}_0x5ce3d6={'id':_0xcf7f0c['id'],..._0xcf7f0c[_0x3f6356(0x921)]()};}const _0x2010fb=getShuffledQuiz(_0x5ce3d6);currentQuizData=_0x2010fb;const _0x1c3b8c=_0x5ce3d6[_0x3f6356(0xa4a)]||currentProjectId||null,_0x28e358=Math[_0x3f6356(0xa32)](0x3e8+Math[_0x3f6356(0xad8)]()*0x2328)[_0x3f6356(0x8bf)]();currentLiveGamePin=_0x28e358;try{const _0x41f657=await addDoc(collection(db,'artifacts/'+appId+_0x3f6356(0x372)),{'quizId':_0x475e08,'projectId':_0x1c3b8c,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x28e358,'createdAt':serverTimestamp(),'shuffledQuiz':_0x2010fb});currentLiveGameId=_0x41f657['id'],showAdminLobbyView(_0x28e358,_0x5ce3d6['topic']),listenForLiveGameUpdates();}catch(_0x335181){console[_0x3f6356(0x2da)](_0x3f6356(0xaaa),_0x335181),showMessage(_0x3f6356(0x1c8));}}function updateSelectedTopicsCount(){const _0x22387b=_0x4e7cd8,_0x50329b=document[_0x22387b(0x1c2)](_0x22387b(0x274)),_0x4d0381=_0x50329b[_0x22387b(0x9f4)]('input[type=\x22checkbox\x22]:checked')[_0x22387b(0xa90)],_0x11d3b0=document[_0x22387b(0x1c2)]('selected-topics-count');_0x4d0381>0x0?_0x11d3b0['textContent']=_0x22387b(0x368)+_0x4d0381+'\x20หัวข้อ)':_0x11d3b0[_0x22387b(0x9a1)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x4e7cd8(0x7e4),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x4e7cd8(0xc68),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x51bb55,_0x4ca6a9){const _0xde9369=_0x4e7cd8;return Math[_0xde9369(0x505)](Math['pow'](_0x51bb55['x']-_0x4ca6a9['x'],0x2)+Math['pow'](_0x51bb55['y']-_0x4ca6a9['y'],0x2));}function getMidpoint(_0x252593,_0x44fc0a){return{'x':(_0x252593['x']+_0x44fc0a['x'])/0x2,'y':(_0x252593['y']+_0x44fc0a['y'])/0x2};}function getTransformedPoint(_0x56cf80,_0x29f20c){return{'x':(_0x56cf80-scratchpadOffset['x'])/scratchpadScale,'y':(_0x29f20c-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x4cb01c=_0x4e7cd8;if(!scratchpadCtx)return;const _0x5e2057=scratchpadCtx[_0x4cb01c(0x9a2)],_0x29f911=window[_0x4cb01c(0x2fb)]||0x1,_0x491804=document[_0x4cb01c(0x1c2)](_0x4cb01c(0x341));_0x491804&&(_0x491804['style'][_0x4cb01c(0x400)]=_0x4cb01c(0x388),_0x491804[_0x4cb01c(0xa10)][_0x4cb01c(0x7ef)]=_0x4cb01c(0x3d6)+scratchpadOffset['x']+_0x4cb01c(0x424)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x29f911,0x0,0x0,_0x29f911,0x0,0x0),scratchpadCtx[_0x4cb01c(0x809)](0x0,0x0,_0x5e2057[_0x4cb01c(0x814)],_0x5e2057[_0x4cb01c(0x59f)]),scratchpadCtx[_0x4cb01c(0xb7a)](),scratchpadCtx[_0x4cb01c(0xc84)](),scratchpadCtx[_0x4cb01c(0xcbf)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x4cb01c(0x8ca)](_0x483437=>{drawStroke(_0x483437);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x4cb01c(0xb7a)]();}function renderGroupModeQuestion(){const _0x22dfb0=_0x4e7cd8;if(localQuestionIndex>=currentQuizData[_0x22dfb0(0x966)][_0x22dfb0(0xa90)]){displayTeamQuizFinalResults();return;}const _0xbc97c3=currentQuizData[_0x22dfb0(0x966)][localQuestionIndex],_0x253145=_0xbc97c3[_0x22dfb0(0x93a)]||currentQuizData[_0x22dfb0(0x769)];let _0x216416=_0xbc97c3['stem']||_0xbc97c3[_0x22dfb0(0x2b3)],_0x1222ad='';switch(_0x253145){case _0x22dfb0(0x4bb):case'fill_in_with_choices':_0x1222ad=_0xbc97c3['options'][_0x22dfb0(0xa26)]((_0x2bd783,_0xf38f9e)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0xf38f9e+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0xf38f9e+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0xf38f9e+'\x22>'+_0x2bd783+'</label></div>')['join']('');break;case'true_false':_0x1222ad=_0x22dfb0(0x616);break;case _0x22dfb0(0xc3f):case _0x22dfb0(0x4df):_0x1222ad='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0x22dfb0(0x220):_0x1222ad='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0xbc97c3[_0x22dfb0(0x998)][_0x22dfb0(0xa26)](_0x46e5ee=>_0x22dfb0(0xc29)+_0x46e5ee+'\x22>'+_0x46e5ee+_0x22dfb0(0x848))[_0x22dfb0(0xab6)]('')+_0x22dfb0(0x7bb);break;default:_0x1222ad=_0x22dfb0(0x572);break;}studentQuizArea[_0x22dfb0(0x3e3)]=_0x22dfb0(0x1ca)+(localQuestionIndex+0x1)+_0x22dfb0(0xbbf)+currentQuizData[_0x22dfb0(0x966)]['length']+_0x22dfb0(0x5bc)+localTeamPlayers[_0x22dfb0(0xab6)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x216416+_0x22dfb0(0x658)+(_0xbc97c3['imageCode']?_0x22dfb0(0xbb7)+_0xbc97c3[_0x22dfb0(0x291)]+'</div>':'')+_0x22dfb0(0x8fe)+_0x1222ad+_0x22dfb0(0xa7b),studentQuizArea[_0x22dfb0(0x12e)][_0x22dfb0(0x1f9)]('hidden');if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x22dfb0(0x1c2)](_0x22dfb0(0xa2e))[_0x22dfb0(0xa37)](_0x22dfb0(0xbdd),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x4cd487,_0x5a8648=null,_0x3b487d,_0x5e6182=null,_0x4c5d32=![],_0xe07cc6=null){const _0x3cf7fb=_0x4e7cd8,_0x4bfc09=document[_0x3cf7fb(0x1c2)]('quiz-generation-area');_0x4bfc09&&_0x4bfc09['scrollIntoView']({'behavior':_0x3cf7fb(0x4be),'block':'center'}),generateQuiz(_0x4cd487,_0x5a8648,null,_0xe07cc6,!![],_0x3b487d,_0x5e6182,_0x4c5d32);}function handleGenerateAndShowLesson(_0x13d7e,_0x331c3a){const _0x47b0af=_0x4e7cd8,_0x577ea2=document['getElementById'](_0x47b0af(0x418)),_0x25aadd=document[_0x47b0af(0x1c2)]('lesson-view-title'),_0x1acf1b=document[_0x47b0af(0x1c2)](_0x47b0af(0x859)),_0xb42615=document[_0x47b0af(0x1c2)]('lesson-sections-container');['pointContent',_0x47b0af(0x7ec),_0x47b0af(0x8f1),_0x47b0af(0xcc2)][_0x47b0af(0x8ca)](_0xc8fc4b=>{const _0x1bde50=_0x47b0af,_0x1779d6=document[_0x1bde50(0x1c2)](_0xc8fc4b)['parentElement'];_0x1779d6&&(_0x1779d6[_0x1bde50(0xa10)][_0x1bde50(0x28f)]='block');}),_0x25aadd['textContent']=_0x47b0af(0x53d)+_0x13d7e,_0xb42615[_0x47b0af(0x12e)][_0x47b0af(0x7d7)](_0x47b0af(0x30a)),_0x1acf1b[_0x47b0af(0x12e)]['remove'](_0x47b0af(0x30a)),_0x577ea2[_0x47b0af(0x12e)][_0x47b0af(0x1f9)]('hidden'),generateLesson(_0x13d7e,_0x331c3a)[_0x47b0af(0xba5)](_0x26db04=>{const _0x16f604=_0x47b0af;console[_0x16f604(0x2da)](_0x16f604(0x9a3),_0x26db04),showMessage(_0x16f604(0x37a)),_0x577ea2['classList'][_0x16f604(0x7d7)](_0x16f604(0x30a));});}function handlePointerDown(_0x18e1a8){const _0x59c2bb=_0x4e7cd8;_0x18e1a8[_0x59c2bb(0x3fd)]();const _0x58ef2c=scratchpadCtx[_0x59c2bb(0x9a2)],_0x295659=_0x58ef2c[_0x59c2bb(0xac2)](),_0x5de1d2=_0x18e1a8[_0x59c2bb(0x9bc)]||(_0x18e1a8['touches']?_0x59c2bb(0x9ad):'mouse');if(_0x5de1d2===_0x59c2bb(0x1fe)||_0x5de1d2==='mouse'){if(_0x18e1a8[_0x59c2bb(0x9bc)]===_0x59c2bb(0x7dd)&&_0x18e1a8[_0x59c2bb(0x397)]!==0x0){_0x18e1a8[_0x59c2bb(0x397)]===0x1&&(isMousePanning=!![],panStart={'x':_0x18e1a8[_0x59c2bb(0x1b7)],'y':_0x18e1a8[_0x59c2bb(0xb1f)]},_0x58ef2c[_0x59c2bb(0xa10)][_0x59c2bb(0x17f)]='grabbing');return;}activeTool===_0x59c2bb(0x340)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x54b118=getTransformedPoint(_0x18e1a8[_0x59c2bb(0x1b7)]-_0x295659[_0x59c2bb(0x993)],_0x18e1a8['clientY']-_0x295659[_0x59c2bb(0x9a0)]);let _0xf1f654={'tool':activeTool,'points':[_0x54b118]};if(activeTool===_0x59c2bb(0x4a2))_0xf1f654['color']=scratchpadHighlighterColor,_0xf1f654[_0x59c2bb(0x7ee)]=scratchpadHighlighterSize;else activeTool===_0x59c2bb(0x340)?(_0xf1f654[_0x59c2bb(0xaf5)]=scratchpadPenColor,_0xf1f654[_0x59c2bb(0x7ee)]=scratchpadPenSize):(_0xf1f654[_0x59c2bb(0xaf5)]=scratchpadPenColor,_0xf1f654['size']=scratchpadPenSize);currentStroke=_0xf1f654;}else _0x18e1a8[_0x59c2bb(0x85d)]&&(_0x18e1a8[_0x59c2bb(0x85d)][_0x59c2bb(0xa90)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x18e1a8[_0x59c2bb(0x85d)][0x0][_0x59c2bb(0x1b7)],'y':_0x18e1a8['touches'][0x0][_0x59c2bb(0xb1f)]},{'x':_0x18e1a8[_0x59c2bb(0x85d)][0x1][_0x59c2bb(0x1b7)],'y':_0x18e1a8[_0x59c2bb(0x85d)][0x1][_0x59c2bb(0xb1f)]}),initialPinchDistance=getDistance({'x':_0x18e1a8[_0x59c2bb(0x85d)][0x0]['clientX'],'y':_0x18e1a8['touches'][0x0][_0x59c2bb(0xb1f)]},{'x':_0x18e1a8[_0x59c2bb(0x85d)][0x1][_0x59c2bb(0x1b7)],'y':_0x18e1a8[_0x59c2bb(0x85d)][0x1][_0x59c2bb(0xb1f)]})));}function animateTrail(){const _0x599689=_0x4e7cd8,_0x4f6aef=Date[_0x599689(0x6d6)]();let _0x4fba9f=![];for(let _0x1425e3=strokes['length']-0x1;_0x1425e3>=0x0;_0x1425e3--){const _0x4b702c=strokes[_0x1425e3];if(_0x4b702c['tool']===_0x599689(0x340)&&_0x4b702c['fadeStartTime']){const _0x16622f=_0x4f6aef-_0x4b702c['fadeStartTime'];_0x16622f>=TRAIL_DURATION?strokes[_0x599689(0x8f7)](_0x1425e3,0x1):(_0x4b702c[_0x599689(0x16f)]=0x1-_0x16622f/TRAIL_DURATION,_0x4fba9f=!![]);}}redrawScratchpad(),_0x4fba9f?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x25056a){const _0x16e3e6=_0x4e7cd8;if(!_0x25056a||_0x25056a[_0x16e3e6(0xb70)][_0x16e3e6(0xa90)]<0x1)return;scratchpadCtx[_0x16e3e6(0xc84)](),scratchpadCtx['lineJoin']=_0x16e3e6(0x82c),scratchpadCtx[_0x16e3e6(0xbed)]='round';if(_0x25056a[_0x16e3e6(0x4ff)]===_0x16e3e6(0x340)){const _0x2e4d96=_0x25056a[_0x16e3e6(0x7ee)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x25056a[_0x16e3e6(0x16f)]??0x1,scratchpadCtx[_0x16e3e6(0x13d)]=_0x16e3e6(0x4a8),scratchpadCtx[_0x16e3e6(0x1c6)]=_0x2e4d96*0x3,scratchpadCtx[_0x16e3e6(0x21e)]=_0x16e3e6(0x803),scratchpadCtx[_0x16e3e6(0x2c7)]=_0x2e4d96*2.5,scratchpadCtx[_0x16e3e6(0x853)](),scratchpadCtx[_0x16e3e6(0xa79)](_0x25056a['points'][0x0]['x'],_0x25056a[_0x16e3e6(0xb70)][0x0]['y']);for(let _0x4195ec=0x1;_0x4195ec<_0x25056a[_0x16e3e6(0xb70)][_0x16e3e6(0xa90)]-0x1;_0x4195ec++){const _0x2b35ec=getMidpoint(_0x25056a['points'][_0x4195ec],_0x25056a[_0x16e3e6(0xb70)][_0x4195ec+0x1]);scratchpadCtx[_0x16e3e6(0x73f)](_0x25056a[_0x16e3e6(0xb70)][_0x4195ec]['x'],_0x25056a['points'][_0x4195ec]['y'],_0x2b35ec['x'],_0x2b35ec['y']);}scratchpadCtx[_0x16e3e6(0x2c0)](),scratchpadCtx['shadowColor']=_0x16e3e6(0x696),scratchpadCtx[_0x16e3e6(0x1c6)]=0x0,scratchpadCtx[_0x16e3e6(0x21e)]=_0x16e3e6(0x817),scratchpadCtx['lineWidth']=_0x2e4d96,scratchpadCtx['stroke'](),scratchpadCtx[_0x16e3e6(0x354)]();}else{if(_0x25056a['tool']===_0x16e3e6(0x4a2)){scratchpadCtx[_0x16e3e6(0x17b)]=_0x16e3e6(0x8d5),scratchpadCtx['strokeStyle']=_0x25056a[_0x16e3e6(0xaf5)],scratchpadCtx[_0x16e3e6(0x2c7)]=_0x25056a[_0x16e3e6(0x7ee)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x25056a['points'][0x0]['x'],_0x25056a[_0x16e3e6(0xb70)][0x0]['y']);for(let _0x3c5fc5=0x1;_0x3c5fc5<_0x25056a['points'][_0x16e3e6(0xa90)]-0x1;_0x3c5fc5++){const _0x250174=getMidpoint(_0x25056a[_0x16e3e6(0xb70)][_0x3c5fc5],_0x25056a[_0x16e3e6(0xb70)][_0x3c5fc5+0x1]);scratchpadCtx[_0x16e3e6(0x73f)](_0x25056a['points'][_0x3c5fc5]['x'],_0x25056a[_0x16e3e6(0xb70)][_0x3c5fc5]['y'],_0x250174['x'],_0x250174['y']);}scratchpadCtx[_0x16e3e6(0x2c0)](),scratchpadCtx[_0x16e3e6(0x354)]();}else{scratchpadCtx['globalCompositeOperation']=_0x25056a['tool']===_0x16e3e6(0x510)?_0x16e3e6(0x4a4):'source-over',scratchpadCtx['strokeStyle']=_0x25056a[_0x16e3e6(0xaf5)],scratchpadCtx[_0x16e3e6(0x2c7)]=_0x25056a['size'],scratchpadCtx[_0x16e3e6(0x853)](),scratchpadCtx['moveTo'](_0x25056a[_0x16e3e6(0xb70)][0x0]['x'],_0x25056a[_0x16e3e6(0xb70)][0x0]['y']);for(let _0x2530ec=0x1;_0x2530ec<_0x25056a[_0x16e3e6(0xb70)]['length']-0x1;_0x2530ec++){const _0xb925ba=getMidpoint(_0x25056a[_0x16e3e6(0xb70)][_0x2530ec],_0x25056a[_0x16e3e6(0xb70)][_0x2530ec+0x1]);scratchpadCtx[_0x16e3e6(0x73f)](_0x25056a[_0x16e3e6(0xb70)][_0x2530ec]['x'],_0x25056a[_0x16e3e6(0xb70)][_0x2530ec]['y'],_0xb925ba['x'],_0xb925ba['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x16e3e6(0x354)]();}}scratchpadCtx[_0x16e3e6(0xb7a)]();}function handlePointerMove(_0x17a282){const _0x2ec5ed=_0x4e7cd8;_0x17a282[_0x2ec5ed(0x3fd)]();const _0x536481=scratchpadCtx[_0x2ec5ed(0x9a2)],_0x3bbcbc=_0x536481['getBoundingClientRect']();if(_0x17a282['touches']){if(_0x17a282['touches'][_0x2ec5ed(0xa90)]===0x1&&isDrawingOnScratchpad){const _0x4384e4=getTransformedPoint(_0x17a282['touches'][0x0]['clientX']-_0x3bbcbc[_0x2ec5ed(0x993)],_0x17a282['touches'][0x0]['clientY']-_0x3bbcbc[_0x2ec5ed(0x9a0)]);currentStroke[_0x2ec5ed(0xb70)][_0x2ec5ed(0x6d9)](_0x4384e4),redrawScratchpad();}else{if(_0x17a282[_0x2ec5ed(0x85d)]['length']===0x2&&isPanning){const _0x22c483=getDistance({'x':_0x17a282[_0x2ec5ed(0x85d)][0x0][_0x2ec5ed(0x1b7)],'y':_0x17a282[_0x2ec5ed(0x85d)][0x0][_0x2ec5ed(0xb1f)]},{'x':_0x17a282[_0x2ec5ed(0x85d)][0x1][_0x2ec5ed(0x1b7)],'y':_0x17a282['touches'][0x1][_0x2ec5ed(0xb1f)]}),_0x277dab=getMidpoint({'x':_0x17a282[_0x2ec5ed(0x85d)][0x0]['clientX'],'y':_0x17a282[_0x2ec5ed(0x85d)][0x0][_0x2ec5ed(0xb1f)]},{'x':_0x17a282[_0x2ec5ed(0x85d)][0x1][_0x2ec5ed(0x1b7)],'y':_0x17a282['touches'][0x1]['clientY']}),_0x53f1c1=_0x22c483/ initialPinchDistance,_0x5f3852=Math[_0x2ec5ed(0x90f)](Math[_0x2ec5ed(0x3a8)](scratchpadScale*_0x53f1c1,MIN_SCALE),MAX_SCALE),_0x1fe8bd=_0x277dab['x']-panStart['x'],_0x339f2c=_0x277dab['y']-panStart['y'];scratchpadOffset['x']=_0x277dab['x']-(_0x277dab['x']-scratchpadOffset['x'])*(_0x5f3852/scratchpadScale),scratchpadOffset['y']=_0x277dab['y']-(_0x277dab['y']-scratchpadOffset['y'])*(_0x5f3852/scratchpadScale),scratchpadOffset['x']+=_0x1fe8bd,scratchpadOffset['y']+=_0x339f2c,scratchpadScale=_0x5f3852,initialPinchDistance=_0x22c483,panStart=_0x277dab,redrawScratchpad();}}}else{if(isMousePanning){const _0x1f902b=_0x17a282[_0x2ec5ed(0x1b7)]-panStart['x'],_0x11750d=_0x17a282[_0x2ec5ed(0xb1f)]-panStart['y'];scratchpadOffset['x']+=_0x1f902b,scratchpadOffset['y']+=_0x11750d,panStart={'x':_0x17a282[_0x2ec5ed(0x1b7)],'y':_0x17a282[_0x2ec5ed(0xb1f)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x2ce65a=getTransformedPoint(_0x17a282[_0x2ec5ed(0x1b7)]-_0x3bbcbc[_0x2ec5ed(0x993)],_0x17a282[_0x2ec5ed(0xb1f)]-_0x3bbcbc[_0x2ec5ed(0x9a0)]);currentStroke[_0x2ec5ed(0xb70)][_0x2ec5ed(0x6d9)](_0x2ce65a),redrawScratchpad();}}}}function handlePointerUp(_0x1fcc8e){const _0x4cd8c3=_0x4e7cd8;_0x1fcc8e[_0x4cd8c3(0x3fd)]();const _0x59f76a=scratchpadCtx[_0x4cd8c3(0x9a2)];isMousePanning&&(isMousePanning=![],_0x59f76a['style'][_0x4cd8c3(0x17f)]=_0x4cd8c3(0x76c)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x4cd8c3(0xb70)][_0x4cd8c3(0xa90)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x4cd8c3(0x4ff)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x134c87=_0x4cd8c3,_0x53d54f=strokes[_0x134c87(0x473)](_0x1d80e3=>_0x1d80e3[_0x134c87(0x4ff)]==='trail'&&!_0x1d80e3[_0x134c87(0x32e)]);if(_0x53d54f['length']>0x0){const _0x449f5f=Date[_0x134c87(0x6d6)]();_0x53d54f[_0x134c87(0x8ca)](_0x18a69a=>_0x18a69a['fadeStartTime']=_0x449f5f),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x2bb856){const _0x4b3b81=_0x4e7cd8;_0x2bb856[_0x4b3b81(0x3fd)]();const _0x29784e=_0x2bb856['deltaY']*-0.005,_0x525e21=Math[_0x4b3b81(0x90f)](Math[_0x4b3b81(0x3a8)](scratchpadScale+_0x29784e,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x2bb856[_0x4b3b81(0x1b7)]-(_0x2bb856['clientX']-scratchpadOffset['x'])*(_0x525e21/scratchpadScale),scratchpadOffset['y']=_0x2bb856['clientY']-(_0x2bb856[_0x4b3b81(0xb1f)]-scratchpadOffset['y'])*(_0x525e21/scratchpadScale),scratchpadScale=_0x525e21,redrawScratchpad();}function undo(){const _0x54cba2=_0x4e7cd8;strokes[_0x54cba2(0xa90)]>0x0&&(redoStrokes[_0x54cba2(0x6d9)](strokes[_0x54cba2(0x241)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x1960cc=_0x4e7cd8;redoStrokes[_0x1960cc(0xa90)]>0x0&&(strokes['push'](redoStrokes[_0x1960cc(0x241)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x5d328b=_0x4e7cd8;document[_0x5d328b(0x1c2)]('undo-btn')[_0x5d328b(0x78a)]=strokes[_0x5d328b(0xa90)]===0x0,document[_0x5d328b(0x1c2)](_0x5d328b(0x8db))['disabled']=redoStrokes[_0x5d328b(0xa90)]===0x0;}function openScratchpad(_0x307a52,_0x271470){const _0x16193c=_0x4e7cd8,_0x2fcf1d=document[_0x16193c(0x1c2)](_0x16193c(0xbff)),_0x22b875=document[_0x16193c(0x1c2)]('scratchpad-question'),_0x5dc2bb=document['getElementById'](_0x16193c(0x926)),_0x51d1ee=document[_0x16193c(0x1c2)](_0x16193c(0x844));_0x22b875[_0x16193c(0x3e3)]=_0x307a52[_0x16193c(0x732)]||_0x307a52[_0x16193c(0x2b3)],_0x5dc2bb[_0x16193c(0x3e3)]=_0x271470[_0x16193c(0xa26)]((_0x9594c7,_0xf90883)=>'<div>'+String['fromCharCode'](0x41+_0xf90883)+'.\x20'+_0x9594c7+'</div>')[_0x16193c(0xab6)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2fcf1d[_0x16193c(0x12e)][_0x16193c(0x1f9)](_0x16193c(0x30a)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x16193c(0x196)])MathJax[_0x16193c(0x7ca)]([_0x22b875,_0x5dc2bb]);}function openBlueprintQuizSettings(){const _0x4b0cf6=_0x4e7cd8,_0x28ed1a=document['getElementById']('blueprint-settings-modal'),_0x148686=blueprintPageSettings||(currentProjectData?currentProjectData[_0x4b0cf6(0x9e2)]:{})||{};document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0x1a0))[_0x4b0cf6(0x9f1)]=_0x148686[_0x4b0cf6(0x769)]||document['getElementById'](_0x4b0cf6(0xa67))[_0x4b0cf6(0x9f1)],document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0x497))[_0x4b0cf6(0x3e3)]=document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0xae1))[_0x4b0cf6(0x3e3)],document['getElementById'](_0x4b0cf6(0x497))['value']=_0x148686['difficultyValue']||document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0xae1))[_0x4b0cf6(0x9f1)],document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0xbd5))['innerHTML']=document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0xb8a))[_0x4b0cf6(0x3e3)],document['getElementById'](_0x4b0cf6(0xbd5))[_0x4b0cf6(0x9f1)]=_0x148686[_0x4b0cf6(0x6b5)]||document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0xb8a))['value'],document['getElementById'](_0x4b0cf6(0x568))[_0x4b0cf6(0x9f1)]=_0x148686[_0x4b0cf6(0x807)]||document[_0x4b0cf6(0x1c2)]('num-questions')['value'],document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0x852))[_0x4b0cf6(0x9f1)]=_0x148686['passingScore']||document[_0x4b0cf6(0x1c2)]('passing-score-input')[_0x4b0cf6(0x9f1)],document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0x40b))['value']=_0x148686['numChoices']||document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0x975))['value'],document[_0x4b0cf6(0x1c2)]('bp-modal-shuffle-setting-select')[_0x4b0cf6(0x9f1)]=_0x148686[_0x4b0cf6(0x9c0)]||document['getElementById']('shuffle-setting-select')[_0x4b0cf6(0x9f1)],document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0x35d))[_0x4b0cf6(0x564)]=_0x148686['includeImages']||document[_0x4b0cf6(0x1c2)](_0x4b0cf6(0x819))[_0x4b0cf6(0x564)],_0x28ed1a['classList'][_0x4b0cf6(0x1f9)](_0x4b0cf6(0x30a));}function handleSaveBlueprintPageSettings(){const _0x47e0e9=_0x4e7cd8;blueprintPageSettings={'quizType':document['getElementById'](_0x47e0e9(0x1a0))['value'],'difficultyValue':document[_0x47e0e9(0x1c2)](_0x47e0e9(0x497))[_0x47e0e9(0x9f1)],'complexityValue':document[_0x47e0e9(0x1c2)](_0x47e0e9(0xbd5))[_0x47e0e9(0x9f1)],'numQuestions':document[_0x47e0e9(0x1c2)](_0x47e0e9(0x568))[_0x47e0e9(0x9f1)],'passingScore':document[_0x47e0e9(0x1c2)](_0x47e0e9(0x852))[_0x47e0e9(0x9f1)],'numChoices':document[_0x47e0e9(0x1c2)](_0x47e0e9(0x40b))[_0x47e0e9(0x9f1)],'shuffle':document[_0x47e0e9(0x1c2)](_0x47e0e9(0xb1e))[_0x47e0e9(0x9f1)],'includeImages':document[_0x47e0e9(0x1c2)](_0x47e0e9(0x35d))['checked']},showMessage(_0x47e0e9(0x98d)),document[_0x47e0e9(0x1c2)]('blueprint-settings-modal')['classList'][_0x47e0e9(0x7d7)](_0x47e0e9(0x30a));}function listenForParallelTestShortcuts(){const _0x24ed61=doc(db,'globalSettings','parallelTestShortcutsConfig');onSnapshot(_0x24ed61,_0x1107d5=>{const _0x5d8713=_0x1f15;let _0x1e47f4=[],_0x363132=[],_0x1c7f28={};if(_0x1107d5[_0x5d8713(0x7b7)]()){const _0x312299=_0x1107d5[_0x5d8713(0x921)]();_0x1e47f4=_0x312299[_0x5d8713(0xbf2)]||[],_0x363132=_0x312299['parallelShortcutTabs']||[],_0x1c7f28=_0x312299[_0x5d8713(0xbc6)]||{};}!_0x363132[_0x5d8713(0x135)](_0x4798cd=>_0x4798cd['id']===_0x5d8713(0x3ca))&&_0x363132['unshift']({'id':_0x5d8713(0x3ca),'name':_0x5d8713(0x22c),'isDefault':!![]}),!_0x1e47f4['find'](_0x3285f5=>_0x3285f5['id']===_0x5d8713(0x877))&&_0x1e47f4[_0x5d8713(0x7ac)]({'id':_0x5d8713(0x877),'name':_0x5d8713(0x2d9),'url':'','isDefault':!![]}),!_0x1e47f4[_0x5d8713(0x135)](_0xa2717c=>_0xa2717c['id']==='parallel-default-2')&&_0x1e47f4[_0x5d8713(0x7ac)]({'id':_0x5d8713(0xa0b),'name':_0x5d8713(0x6a3),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x1e47f4,parallelShortcutTabs=_0x363132,parallelShortcutOrder=_0x1c7f28,renderParallelTestShortcuts(),!document['getElementById']('additional-parallel-shortcuts-modal')[_0x5d8713(0x12e)]['contains'](_0x5d8713(0x30a))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x155a7e=_0x4e7cd8,_0x38d3ff=doc(db,_0x155a7e(0x7a0),_0x155a7e(0x2cb));try{await setDoc(_0x38d3ff,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x3adbb2){console[_0x155a7e(0x2da)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x3adbb2);}}function renderAdditionalParallelShortcutsModal(){const _0x5868e1=_0x4e7cd8,_0x42371a=document['getElementById'](_0x5868e1(0x399)),_0x9b6f8=document[_0x5868e1(0x1c2)]('additional-parallel-shortcuts-list');if(!_0x42371a||!_0x9b6f8)return;_0x42371a[_0x5868e1(0x3e3)]=parallelShortcutTabs['map'](_0x2acbf1=>{const _0x512707=_0x5868e1,_0x10c43c=_0x2acbf1['id']===activeParallelShortcutTabId;return _0x512707(0x73e)+_0x2acbf1['id']+_0x512707(0xbac)+(_0x10c43c?'border-indigo-500\x20text-indigo-600':'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x512707(0x7a8)+_0x2acbf1[_0x512707(0x82b)]+_0x512707(0x91e)+_0x2acbf1[_0x512707(0x82b)]+_0x512707(0xc91)+(!_0x2acbf1[_0x512707(0x333)]?_0x512707(0x77e)+_0x2acbf1['id']+_0x512707(0xa8a):'')+_0x512707(0x335);})['join']('');const _0x315df9=parallelShortcutTabs['find'](_0x37171c=>_0x37171c['id']===activeParallelShortcutTabId);let _0x451d09=_0x315df9?.[_0x5868e1(0x333)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x5868e1(0x473)](_0x495b8a=>(_0x315df9?.[_0x5868e1(0x858)]||[])['includes'](_0x495b8a['id']));const _0x32924d=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x451d09[_0x5868e1(0x327)]((_0xa64677,_0x506322)=>{const _0x2d1ffc=_0x5868e1,_0x167c2e=_0x32924d[_0x2d1ffc(0xb27)](_0xa64677['id']),_0x2e91f1=_0x32924d[_0x2d1ffc(0xb27)](_0x506322['id']);return(_0x167c2e===-0x1?Infinity:_0x167c2e)-(_0x2e91f1===-0x1?Infinity:_0x2e91f1);}),_0x9b6f8[_0x5868e1(0x3e3)]=_0x451d09[_0x5868e1(0xa26)](_0x1d0393=>{const _0x135cd0=_0x5868e1,_0x269450=_0x1d0393[_0x135cd0(0x637)]?'🔁':'🔗',_0x5aa0ba=parallelShortcutTabs[_0x135cd0(0x473)](_0x3acc7a=>!_0x3acc7a['isDefault']),_0x3d522a=_0x315df9['isDefault']&&_0x5aa0ba[_0x135cd0(0xa90)]>0x0?_0x135cd0(0x622)+_0x5aa0ba[_0x135cd0(0xa26)](_0x427970=>_0x135cd0(0x5d9)+_0x1d0393['id']+_0x135cd0(0x452)+_0x427970['id']+'\x22>'+_0x427970[_0x135cd0(0x82b)]+'</a>')[_0x135cd0(0xab6)]('')+_0x135cd0(0x9b5):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x1d0393['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x269450+'\x20'+_0x1d0393[_0x135cd0(0x82b)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1d0393['id']+_0x135cd0(0x2b4)+_0x1d0393['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1d0393[_0x135cd0(0x333)]?_0x135cd0(0x21c)+_0x1d0393['id']+_0x135cd0(0x292):'')+_0x135cd0(0x430)+(!_0x315df9[_0x135cd0(0x333)]?_0x135cd0(0x41c)+_0x1d0393['id']+_0x135cd0(0x669):'')+_0x135cd0(0x430)+_0x3d522a+_0x135cd0(0x67d);})['join']('')||_0x5868e1(0x80c),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x7a6781=_0x4e7cd8;document['querySelectorAll'](_0x7a6781(0xc75))[_0x7a6781(0x8ca)](_0x5be4a8=>{const _0xdf48dd=_0x7a6781;_0x5be4a8[_0xdf48dd(0xa41)]=_0x54637e=>{const _0x158d05=_0xdf48dd;activeParallelShortcutTabId=_0x54637e[_0x158d05(0x686)][_0x158d05(0x928)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x5be4a8[_0xdf48dd(0x366)]=_0x45a7af=>{const _0x41fe70=_0xdf48dd,_0x82dbc2=_0x45a7af['currentTarget'][_0x41fe70(0x8b9)](_0x41fe70(0x2dc));_0x45a7af[_0x41fe70(0x686)][_0x41fe70(0x8b9)](_0x41fe70(0x2a1))[_0x41fe70(0x12e)][_0x41fe70(0x7d7)](_0x41fe70(0x30a)),_0x82dbc2[_0x41fe70(0x12e)][_0x41fe70(0x1f9)](_0x41fe70(0x30a)),_0x82dbc2[_0x41fe70(0xa2f)](),_0x82dbc2[_0x41fe70(0x6c3)]();};}),document[_0x7a6781(0x9f4)](_0x7a6781(0x7b2))[_0x7a6781(0x8ca)](_0x6f546a=>{const _0x202799=_0x7a6781,_0x1c9f8d=()=>{const _0x23a1aa=_0x1f15,_0x2c1c80=_0x6f546a[_0x23a1aa(0xbdf)](_0x23a1aa(0xc75))[_0x23a1aa(0x928)]['tabId'],_0x3904ac=parallelShortcutTabs[_0x23a1aa(0x135)](_0x220d89=>_0x220d89['id']===_0x2c1c80);_0x3904ac&&(_0x3904ac[_0x23a1aa(0x82b)]=_0x6f546a[_0x23a1aa(0x9f1)][_0x23a1aa(0x492)]()||_0x3904ac['name'],saveParallelShortcutConfig());};_0x6f546a['onblur']=_0x1c9f8d,_0x6f546a[_0x202799(0x9a5)]=_0x4afbb3=>{const _0x5d5140=_0x202799;if(_0x4afbb3[_0x5d5140(0xa1e)]===_0x5d5140(0x416))_0x6f546a[_0x5d5140(0xbd4)]();};}),document[_0x7a6781(0x9f4)](_0x7a6781(0x7e6))[_0x7a6781(0x8ca)](_0x599d37=>_0x599d37[_0x7a6781(0xa41)]=_0x290904=>{const _0x3f6ec6=_0x7a6781,_0x294ebf=_0x290904[_0x3f6ec6(0x686)][_0x3f6ec6(0x928)]['tabId'];showConfirmation(_0x3f6ec6(0xb77),()=>{const _0x49ec23=_0x3f6ec6;parallelShortcutTabs=parallelShortcutTabs[_0x49ec23(0x473)](_0x397e15=>_0x397e15['id']!==_0x294ebf),delete parallelShortcutOrder[_0x294ebf];if(activeParallelShortcutTabId===_0x294ebf)activeParallelShortcutTabId=_0x49ec23(0x3ca);saveParallelShortcutConfig();});}),document['querySelectorAll']('.move-parallel-shortcut-item')['forEach'](_0x2f44c0=>_0x2f44c0[_0x7a6781(0xa41)]=_0xa07fbe=>{const _0x4e738e=_0x7a6781;_0xa07fbe[_0x4e738e(0x3fd)]();const {shortcutId:_0x45583c,targetTabId:_0xde57d6}=_0xa07fbe[_0x4e738e(0x686)]['dataset'],_0x46ba35=parallelShortcutTabs['find'](_0x11196b=>_0x11196b['id']===_0xde57d6);_0x46ba35&&!_0x46ba35['shortcutIds'][_0x4e738e(0x4c2)](_0x45583c)&&(_0x46ba35['shortcutIds'][_0x4e738e(0x6d9)](_0x45583c),saveParallelShortcutConfig());}),document[_0x7a6781(0x9f4)]('.remove-parallel-shortcut-from-tab-btn')[_0x7a6781(0x8ca)](_0x2cd047=>_0x2cd047['onclick']=_0xaeb3f7=>{const _0x37d9dd=_0x7a6781,_0x116fc9=_0xaeb3f7[_0x37d9dd(0x686)]['dataset'][_0x37d9dd(0xaad)],_0x124a66=parallelShortcutTabs[_0x37d9dd(0x135)](_0x10785e=>_0x10785e['id']===activeParallelShortcutTabId);_0x124a66&&!_0x124a66[_0x37d9dd(0x333)]&&(_0x124a66['shortcutIds']=_0x124a66[_0x37d9dd(0x858)][_0x37d9dd(0x473)](_0x5c8b71=>_0x5c8b71!==_0x116fc9),saveParallelShortcutConfig());}),document[_0x7a6781(0x9f4)](_0x7a6781(0x549))['forEach'](_0x4fc7ca=>_0x4fc7ca[_0x7a6781(0xa41)]=_0x248122=>{const _0x430f63=_0x7a6781;_0x248122['stopPropagation']();const _0x38328b=_0x248122[_0x430f63(0x686)][_0x430f63(0x4d4)];document['querySelectorAll']('.move-parallel-shortcut-dropdown')[_0x430f63(0x8ca)](_0x9a3959=>_0x9a3959['classList'][_0x430f63(0x7d7)](_0x430f63(0x30a))),_0x38328b[_0x430f63(0x12e)][_0x430f63(0x1f9)]('hidden');});const _0x81688f=document[_0x7a6781(0x1c2)]('additional-parallel-shortcuts-list');let _0x53c947=null;_0x81688f[_0x7a6781(0x7b0)]=_0x18127b=>{const _0x560f06=_0x7a6781;_0x53c947=_0x18127b['target'][_0x560f06(0xbdf)](_0x560f06(0xc79));if(_0x53c947)setTimeout(()=>_0x53c947[_0x560f06(0x12e)][_0x560f06(0x7d7)](_0x560f06(0x936)),0x0);},_0x81688f[_0x7a6781(0x313)]=()=>{const _0x5df280=_0x7a6781;_0x53c947&&(_0x53c947['classList'][_0x5df280(0x1f9)]('opacity-50'),_0x53c947=null);},_0x81688f[_0x7a6781(0xb12)]=_0x2b342d=>{_0x2b342d['preventDefault']();},_0x81688f[_0x7a6781(0xb6c)]=_0x47e314=>{const _0x300401=_0x7a6781;_0x47e314['preventDefault']();if(_0x53c947){const _0x15c612=[..._0x81688f['querySelectorAll'](_0x300401(0x353))][_0x300401(0x7b3)]((_0x1707d4,_0x25d3de)=>{const _0x28c783=_0x300401,_0x142d8f=_0x25d3de[_0x28c783(0xac2)](),_0x2f3c4c=_0x47e314['clientY']-_0x142d8f[_0x28c783(0x9a0)]-_0x142d8f[_0x28c783(0x59f)]/0x2;return _0x2f3c4c<0x0&&_0x2f3c4c>_0x1707d4[_0x28c783(0x437)]?{'offset':_0x2f3c4c,'element':_0x25d3de}:_0x1707d4;},{'offset':Number[_0x300401(0xb59)]})['element'];_0x15c612==null?_0x81688f[_0x300401(0xb7b)](_0x53c947):_0x81688f[_0x300401(0x60e)](_0x53c947,_0x15c612);const _0x3970d8=[..._0x81688f[_0x300401(0x9f4)](_0x300401(0xc79))]['map'](_0x2d260c=>_0x2d260c[_0x300401(0x928)][_0x300401(0xaad)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x3970d8,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x3effd6=_0x4e7cd8,_0x4b98b0=prompt(_0x3effd6(0x6ce),_0x3effd6(0x127));_0x4b98b0&&_0x4b98b0[_0x3effd6(0x492)]()&&(parallelShortcutTabs[_0x3effd6(0x6d9)]({'id':_0x3effd6(0x336)+Date[_0x3effd6(0x6d6)](),'name':_0x4b98b0['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x54f6de=_0x4e7cd8,_0x5d2ac1=document[_0x54f6de(0x1c2)](_0x54f6de(0x2d8)),_0xd86a6a=document[_0x54f6de(0x1c2)](_0x54f6de(0x7cc)),_0x35982d=document[_0x54f6de(0x1c2)](_0x54f6de(0x21d));if(_0x35982d)_0x35982d['classList'][_0x54f6de(0x7d7)](_0x54f6de(0x30a));if(!_0x5d2ac1||!_0xd86a6a)return;const _0xabb7e6=parallelTestShortcuts[_0x54f6de(0xb79)](0x0,0x4),_0x364593=parallelTestShortcuts['slice'](0x4);_0x5d2ac1[_0x54f6de(0x3e3)]=_0xabb7e6[_0x54f6de(0xa26)](_0x4ba773=>{const _0x16aa67=_0x54f6de,_0x226354=_0x4ba773[_0x16aa67(0x637)]&&_0x4ba773['url'][_0x16aa67(0x492)]()!=='',_0x5a7325=_0x226354?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x16aa67(0xafe),_0x20741a=_0x226354?'🔁':'🔗',_0xe023fb=!_0x4ba773[_0x16aa67(0x333)]?'<button\x20data-id=\x22'+_0x4ba773['id']+_0x16aa67(0x831):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x4ba773['id']+_0x16aa67(0x83d)+_0x5a7325+_0x16aa67(0xa31)+_0x20741a+'\x20'+_0x4ba773[_0x16aa67(0x82b)]+_0x16aa67(0x4af)+_0x4ba773['id']+_0x16aa67(0x31c)+_0xe023fb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x364593[_0x54f6de(0xa90)]>0x0&&(_0x5d2ac1['innerHTML']+=_0x54f6de(0x668)),_0x364593['length']>0x0?_0xd86a6a[_0x54f6de(0x3e3)]=_0x364593[_0x54f6de(0xa26)](_0x26be8d=>_0x54f6de(0x8a4)+(_0x26be8d['url']?'🔁':'🔗')+'\x20'+_0x26be8d[_0x54f6de(0x82b)]+_0x54f6de(0x26c)+_0x26be8d['id']+_0x54f6de(0xbf7)+_0x26be8d['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x26be8d[_0x54f6de(0x333)]?'<button\x20data-id=\x22'+_0x26be8d['id']+_0x54f6de(0x292):'')+_0x54f6de(0xbb8))[_0x54f6de(0xab6)](''):_0xd86a6a[_0x54f6de(0x3e3)]=_0x54f6de(0xbce);}function openParallelTestShortcutEditor(_0x1271c6=null){const _0x42eb26=_0x4e7cd8,_0x49320f=document[_0x42eb26(0x1c2)](_0x42eb26(0x339)),_0x23e028=document[_0x42eb26(0x1c2)](_0x42eb26(0x701)),_0x1c5516=document['getElementById'](_0x42eb26(0x61e)),_0x43d1da=document[_0x42eb26(0x1c2)](_0x42eb26(0x5af)),_0x262c27=document[_0x42eb26(0x1c2)]('parallel-shortcut-url-input');if(_0x1271c6){const _0x36c732=parallelTestShortcuts[_0x42eb26(0x135)](_0x4ca28b=>_0x4ca28b['id']===_0x1271c6);if(!_0x36c732)return;_0x23e028[_0x42eb26(0x9a1)]=_0x42eb26(0x795),_0x1c5516[_0x42eb26(0x9f1)]=_0x36c732['id'],_0x43d1da[_0x42eb26(0x9f1)]=_0x36c732[_0x42eb26(0x82b)],_0x262c27[_0x42eb26(0x9f1)]=_0x36c732[_0x42eb26(0x637)]||'';}else _0x23e028['textContent']=_0x42eb26(0x39b),_0x1c5516[_0x42eb26(0x9f1)]='',_0x43d1da[_0x42eb26(0x9f1)]='',_0x262c27[_0x42eb26(0x9f1)]='';_0x49320f[_0x42eb26(0x12e)][_0x42eb26(0x1f9)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x2cb305=_0x4e7cd8,_0x102a11=document[_0x2cb305(0x1c2)]('parallel-shortcut-id-input')[_0x2cb305(0x9f1)],_0x4779af=document[_0x2cb305(0x1c2)]('parallel-shortcut-name-input')[_0x2cb305(0x9f1)][_0x2cb305(0x492)](),_0x599581=document[_0x2cb305(0x1c2)](_0x2cb305(0x61b))[_0x2cb305(0x9f1)][_0x2cb305(0x492)]();if(!_0x4779af){showMessage(_0x2cb305(0x86e));return;}const _0x279c02={'id':_0x102a11||_0x2cb305(0x414)+Date[_0x2cb305(0x6d6)](),'name':_0x4779af,'url':_0x599581,'isDefault':_0x102a11[_0x2cb305(0x384)](_0x2cb305(0x9e3))};let _0x2d6bf6;_0x102a11?_0x2d6bf6=parallelTestShortcuts['map'](_0x5ec96a=>_0x5ec96a['id']===_0x102a11?_0x279c02:_0x5ec96a):_0x2d6bf6=[...parallelTestShortcuts,_0x279c02];try{const _0x40bc83=doc(db,_0x2cb305(0x7a0),_0x2cb305(0x2cb));await setDoc(_0x40bc83,{'shortcuts':_0x2d6bf6},{'merge':!![]}),document['getElementById'](_0x2cb305(0x339))[_0x2cb305(0x12e)][_0x2cb305(0x7d7)](_0x2cb305(0x30a));}catch(_0x59dc25){console[_0x2cb305(0x2da)](_0x2cb305(0xc11),_0x59dc25),showMessage(_0x2cb305(0x227));}}async function handleParallelTestShortcutClick(_0x9ffda5){const _0x32f2c8=_0x4e7cd8,_0x294d4b=parallelTestShortcuts['find'](_0x2396f9=>_0x2396f9['id']===_0x9ffda5);if(!_0x294d4b)return;if(!_0x294d4b['url']||_0x294d4b[_0x32f2c8(0x637)]['trim']()===''){openParallelTestShortcutEditor(_0x9ffda5);return;}const _0xe26dd1=document[_0x32f2c8(0x1c2)]('loader'),_0x5db148=document['getElementById'](_0x32f2c8(0xa09));document[_0x32f2c8(0x1c2)](_0x32f2c8(0x280))[_0x32f2c8(0x12e)][_0x32f2c8(0x1f9)](_0x32f2c8(0x30a)),document[_0x32f2c8(0x1c2)]('generated-quiz-container')[_0x32f2c8(0x3e3)]='',_0xe26dd1[_0x32f2c8(0x12e)]['remove']('hidden'),_0x5db148[_0x32f2c8(0x9a1)]=_0x32f2c8(0x32c);try{let _0x5525a9;_0x294d4b['url']['toLowerCase']()[_0x32f2c8(0x4c2)](_0x32f2c8(0x137))?_0x5525a9=_0x32f2c8(0xa59):_0x5525a9=_0x32f2c8(0x543);const _0x17efd7=await fetchFileFromUrl(_0x294d4b[_0x32f2c8(0x637)],_0x5525a9);await handleGenerateParallelTest(_0x17efd7);}catch(_0x552e3b){console['error']('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x552e3b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x552e3b['message']),_0xe26dd1['classList'][_0x32f2c8(0x7d7)](_0x32f2c8(0x30a));}}function initializeScratchpadCanvas(){const _0x7f2bc8=_0x4e7cd8,_0x10df11=document['getElementById'](_0x7f2bc8(0x685)),_0x1598c2=document[_0x7f2bc8(0x8b9)](_0x7f2bc8(0x5c0));if(!_0x10df11||!_0x1598c2)return;scratchpadCtx=_0x10df11['getContext']('2d',{'willReadFrequently':!![]});const _0x2e25ed=window[_0x7f2bc8(0x2fb)]||0x1,_0x38b17e=_0x1598c2['getBoundingClientRect']();_0x10df11[_0x7f2bc8(0x814)]=_0x38b17e[_0x7f2bc8(0x814)]*_0x2e25ed,_0x10df11[_0x7f2bc8(0x59f)]=_0x38b17e[_0x7f2bc8(0x59f)]*_0x2e25ed,_0x10df11[_0x7f2bc8(0xa10)][_0x7f2bc8(0x814)]=_0x38b17e[_0x7f2bc8(0x814)]+'px',_0x10df11[_0x7f2bc8(0xa10)]['height']=_0x38b17e[_0x7f2bc8(0x59f)]+'px',scratchpadCtx[_0x7f2bc8(0x5ef)](_0x2e25ed,_0x2e25ed),scratchpadCtx[_0x7f2bc8(0xa8f)]=_0x7f2bc8(0x82c),scratchpadCtx[_0x7f2bc8(0xbed)]='round',_0x10df11[_0x7f2bc8(0x208)](_0x7f2bc8(0xc45),handlePointerDown),_0x10df11[_0x7f2bc8(0x208)](_0x7f2bc8(0x86b),handlePointerMove),_0x10df11[_0x7f2bc8(0x208)](_0x7f2bc8(0x8f2),handlePointerUp),_0x10df11['removeEventListener']('pointercancel',handlePointerUp),_0x10df11[_0x7f2bc8(0x208)](_0x7f2bc8(0x219),handleWheel),_0x10df11['removeEventListener']('touchstart',handlePointerDown),_0x10df11[_0x7f2bc8(0x208)](_0x7f2bc8(0x780),handlePointerMove),_0x10df11[_0x7f2bc8(0x208)]('touchend',handlePointerUp),_0x10df11[_0x7f2bc8(0xa37)](_0x7f2bc8(0xc45),handlePointerDown),_0x10df11['addEventListener'](_0x7f2bc8(0x86b),handlePointerMove),_0x10df11['addEventListener']('pointerup',handlePointerUp),_0x10df11['addEventListener'](_0x7f2bc8(0x4c7),handlePointerUp),_0x10df11[_0x7f2bc8(0xa37)]('wheel',handleWheel,{'passive':![]}),_0x10df11[_0x7f2bc8(0xa37)]('touchstart',handlePointerDown,{'passive':![]}),_0x10df11[_0x7f2bc8(0xa37)](_0x7f2bc8(0x780),handlePointerMove,{'passive':![]}),_0x10df11[_0x7f2bc8(0xa37)](_0x7f2bc8(0xc0c),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x500383=_0x4e7cd8,_0x2dcdec=document[_0x500383(0x1c2)](_0x500383(0xbff)),_0x1f47a7=document[_0x500383(0x1c2)](_0x500383(0x844));_0x1f47a7[_0x500383(0x3e3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x4e6145=document['getElementById'](_0x500383(0x45e)),_0x1d4065=document[_0x500383(0x1c2)](_0x500383(0xa03)),_0x357364=document[_0x500383(0x1c2)]('trail-tool-btn'),_0x4f9d76=document[_0x500383(0x1c2)](_0x500383(0xa0e)),_0x139d9c=document[_0x500383(0x1c2)](_0x500383(0x69e)),_0x12420c=document[_0x500383(0x1c2)](_0x500383(0x512)),_0x4c9231=[_0x4e6145,_0x1d4065,_0x357364,_0x4f9d76];document[_0x500383(0x1c2)](_0x500383(0x180))['addEventListener'](_0x500383(0xbdd),()=>_0x2dcdec[_0x500383(0x12e)][_0x500383(0x7d7)]('hidden')),document[_0x500383(0x1c2)](_0x500383(0x8dd))[_0x500383(0xa37)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x500383(0x834))[_0x500383(0xa37)](_0x500383(0xbdd),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById']('undo-btn')[_0x500383(0xa37)](_0x500383(0xbdd),undo),document[_0x500383(0x1c2)](_0x500383(0x8db))[_0x500383(0xa37)](_0x500383(0xbdd),redo);const _0x270e29=_0x484065=>{const _0x14ec83=_0x500383;_0x4c9231['forEach'](_0x3c5c19=>_0x3c5c19[_0x14ec83(0x12e)][_0x14ec83(0x1f9)](_0x14ec83(0xae2))),_0x484065[_0x14ec83(0x12e)][_0x14ec83(0x7d7)]('active');const _0x47d1f4=_0x484065===_0x4f9d76;_0x139d9c[_0x14ec83(0x12e)][_0x14ec83(0x770)]('hidden',_0x47d1f4),_0x12420c[_0x14ec83(0x12e)][_0x14ec83(0x770)](_0x14ec83(0x30a),!_0x47d1f4);};_0x4e6145[_0x500383(0xa37)](_0x500383(0xbdd),()=>{activeTool='pen',_0x270e29(_0x4e6145);}),_0x1d4065[_0x500383(0xa37)](_0x500383(0xbdd),()=>{const _0x52885b=_0x500383;activeTool=_0x52885b(0x510),_0x270e29(_0x1d4065);}),_0x357364[_0x500383(0xa37)](_0x500383(0xbdd),()=>{activeTool='trail',_0x270e29(_0x357364);}),_0x4f9d76[_0x500383(0xa37)]('click',()=>{activeTool='highlighter',_0x270e29(_0x4f9d76);}),_0x139d9c[_0x500383(0x9f4)]('.pen-size-btn')[_0x500383(0x8ca)](_0x144dff=>{const _0xef2068=_0x500383;_0x144dff[_0xef2068(0xa37)](_0xef2068(0xbdd),_0x14ce0d=>{const _0xf6efd1=_0xef2068;scratchpadPenSize=parseInt(_0x14ce0d[_0xf6efd1(0x12a)][_0xf6efd1(0x928)][_0xf6efd1(0x7ee)],0xa),_0x139d9c['querySelectorAll'](_0xf6efd1(0xadf))[_0xf6efd1(0x8ca)](_0x3a46f9=>_0x3a46f9['classList'][_0xf6efd1(0x1f9)]('active')),_0x14ce0d['target'][_0xf6efd1(0x12e)][_0xf6efd1(0x7d7)]('active');});}),_0x139d9c[_0x500383(0x9f4)]('.pen-color-btn')[_0x500383(0x8ca)](_0x33d15b=>{const _0x4aeb44=_0x500383;_0x33d15b[_0x4aeb44(0xa37)]('click',_0x404ddb=>{const _0x5475f5=_0x4aeb44;scratchpadPenColor=_0x404ddb[_0x5475f5(0x12a)][_0x5475f5(0x928)][_0x5475f5(0xaf5)],_0x139d9c['querySelectorAll'](_0x5475f5(0x306))[_0x5475f5(0x8ca)](_0x76216e=>_0x76216e['classList'][_0x5475f5(0x1f9)](_0x5475f5(0xae2))),_0x404ddb[_0x5475f5(0x12a)][_0x5475f5(0x12e)][_0x5475f5(0x7d7)]('active');});}),_0x12420c[_0x500383(0x9f4)]('.highlighter-color-btn')['forEach'](_0x4265b7=>{const _0x465f45=_0x500383;_0x4265b7[_0x465f45(0xa37)](_0x465f45(0xbdd),_0x109358=>{const _0x40f5fc=_0x465f45;scratchpadHighlighterColor=_0x109358['target'][_0x40f5fc(0x928)][_0x40f5fc(0xaf5)],_0x12420c[_0x40f5fc(0x9f4)](_0x40f5fc(0xbde))[_0x40f5fc(0x8ca)](_0x2f031a=>_0x2f031a[_0x40f5fc(0x12e)][_0x40f5fc(0x1f9)](_0x40f5fc(0xae2))),_0x109358[_0x40f5fc(0x12a)][_0x40f5fc(0x12e)][_0x40f5fc(0x7d7)]('active');});});const _0x3fc5c=document[_0x500383(0x1c2)](_0x500383(0xcb3)),_0xe667df=document[_0x500383(0x1c2)](_0x500383(0x799));_0x3fc5c[_0x500383(0xa37)](_0x500383(0x288),_0x4c7765=>{const _0x3ce05b=_0x500383,_0x524fae=parseInt(_0x4c7765[_0x3ce05b(0x12a)][_0x3ce05b(0x9f1)],0xa);scratchpadHighlighterSize=_0x524fae,_0xe667df[_0x3ce05b(0x9a1)]=_0x524fae;}),window[_0x500383(0xa37)]('resize',()=>{const _0x497daa=_0x500383;!_0x2dcdec['classList'][_0x497daa(0xa84)](_0x497daa(0x30a))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4e7cd8(0xc1d),'name':'คะแนนเต็ม','description':_0x4e7cd8(0x68c),'icon':_0x4e7cd8(0x502)},'QUICK_THINKER':{'id':_0x4e7cd8(0x5c1),'name':_0x4e7cd8(0xb08),'description':_0x4e7cd8(0xc7f),'icon':_0x4e7cd8(0xa50)},'ON_FIRE':{'id':_0x4e7cd8(0xb26),'name':_0x4e7cd8(0x51d),'description':_0x4e7cd8(0x925),'icon':_0x4e7cd8(0x597)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x4e7cd8(0x664),'description':_0x4e7cd8(0x876),'icon':_0x4e7cd8(0x3fc)},'COMEBACK_KING':{'id':'comeback_king','name':_0x4e7cd8(0x16c),'description':_0x4e7cd8(0x76d),'icon':_0x4e7cd8(0x1c0)},'SPECIALIST':{'id':_0x4e7cd8(0x5d7),'name':_0x4e7cd8(0x20c),'description':_0x4e7cd8(0x846),'icon':_0x4e7cd8(0x5c2)},'PERSEVERANCE':{'id':_0x4e7cd8(0xc97),'name':_0x4e7cd8(0x6e1),'description':_0x4e7cd8(0xb8f),'icon':_0x4e7cd8(0x541)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x4e7cd8(0x740),'projectId':_0x4e7cd8(0x8c6),'storageBucket':_0x4e7cd8(0x454),'messagingSenderId':_0x4e7cd8(0xaf4),'appId':_0x4e7cd8(0xc4c),'measurementId':_0x4e7cd8(0xb4a)},appId=typeof __app_id!==_0x4e7cd8(0xb0c)?__app_id:_0x4e7cd8(0xb88),adminView=document['getElementById'](_0x4e7cd8(0x69c)),studentView=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0xb39)),projectDashboardView=document['getElementById'](_0x4e7cd8(0x89c)),projectDetailView=document['getElementById'](_0x4e7cd8(0x82e)),quizResultsView=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x589)),projectList=document[_0x4e7cd8(0x1c2)]('project-list'),noProjectsMsg=document['getElementById']('no-projects-msg'),projectTitle=document['getElementById'](_0x4e7cd8(0x451)),projectIdDisplay=document[_0x4e7cd8(0x1c2)]('project-id-display'),studentList=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x484)),messageModal=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x7b1)),modalMessage=document['getElementById'](_0x4e7cd8(0x444)),createProjectModal=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x94c)),adminPasswordModal=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x362)),confirmationModal=document['getElementById'](_0x4e7cd8(0x8b6)),userIdDisplay=document['getElementById'](_0x4e7cd8(0xb01)),topicTab=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0xca7)),textTab=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x59e)),topicInputArea=document[_0x4e7cd8(0x1c2)]('topic-input-area'),textInputArea=document[_0x4e7cd8(0x1c2)]('text-input-area'),manageTab=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x9c4)),resultsTab=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0xa4f)),leaderboardTab=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0xae6)),manageTabContent=document[_0x4e7cd8(0x1c2)]('manage-tab-content'),resultsTabContent=document[_0x4e7cd8(0x1c2)]('results-tab-content'),leaderboardTabContent=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x4ab)),projectQuizzesList=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x260)),fileTab=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x984)),fileInputArea=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x9b6)),fileUploadInput=document['getElementById'](_0x4e7cd8(0x21a)),worksheetTab=document['getElementById'](_0x4e7cd8(0x614)),worksheetInputArea=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x634)),generateWorksheetBtn=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x5e9)),studentInitialView=document[_0x4e7cd8(0x1c2)]('student-initial-view'),studentNameSelectionView=document['getElementById']('student-name-selection-view'),studentQuizArea=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0xc0a)),studentResultArea=document[_0x4e7cd8(0x1c2)]('student-result-area'),studentReadingArea=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x5b4)),loadQuizBtn=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0xa15)),startQuizBtn=document['getElementById'](_0x4e7cd8(0xa6e)),studentJoinGameView=document[_0x4e7cd8(0x1c2)]('student-join-game-view'),presentationModal=document['getElementById'](_0x4e7cd8(0x36d)),renameQuizModal=document[_0x4e7cd8(0x1c2)]('rename-quiz-modal'),moveQuizModal=document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0xc6f)),quizSettingsModal=document[_0x4e7cd8(0x1c2)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x4e7cd8(0x40e)),liveGameView=document[_0x4e7cd8(0x1c2)]('live-game-view');function handleFixLessonLatex(){const _0x5f0e29=_0x4e7cd8,_0x48fab2=document[_0x5f0e29(0x1c2)]('lesson-view-content');if(!_0x48fab2){showMessage(_0x5f0e29(0x474));return;}const _0x99436c=_0x48fab2['querySelectorAll'](['.ai-content\x20p',_0x5f0e29(0x1af),_0x5f0e29(0x273),_0x5f0e29(0x170),'.ai-content\x20h3']['join'](','));let _0x5f5764=0x0;const _0x52e0e3=_0x1e838a=>_0x1e838a[_0x5f0e29(0x9a1)]||'',_0xe77175=(_0x445fcb,_0xd4da3f)=>{const _0x47a8cd=_0x5f0e29;if(_0x445fcb[_0x47a8cd(0x8b9)]&&_0x445fcb[_0x47a8cd(0x8b9)](_0x47a8cd(0x87c)))return;_0x445fcb[_0x47a8cd(0x9a1)]=_0xd4da3f;},_0x2debd7=_0x2db331=>_0x2db331[_0x5f0e29(0x98e)](/\u00A0/g,'\x20')[_0x5f0e29(0x98e)](/\u200B/g,'')[_0x5f0e29(0x98e)](/\r\n?/g,'\x0a'),_0x42cb43=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4aa398=_0x2f41fa=>{const _0x2e7cb2=_0x5f0e29;let _0x346508=_0x2f41fa['trim']();const _0x2bb92b=[_0x2e7cb2(0xad9),'dfrac',_0x2e7cb2(0x976),_0x2e7cb2(0x505),_0x2e7cb2(0x4d7),_0x2e7cb2(0x1ce),_0x2e7cb2(0x1ab),_0x2e7cb2(0x691),_0x2e7cb2(0xc13),_0x2e7cb2(0x68a),'le','ge','neq','pm','approx',_0x2e7cb2(0x4c3),_0x2e7cb2(0x4cd),_0x2e7cb2(0x283),'log','ln',_0x2e7cb2(0x2c8),_0x2e7cb2(0xabd),_0x2e7cb2(0x738),_0x2e7cb2(0x993),_0x2e7cb2(0x707),_0x2e7cb2(0x79e),_0x2e7cb2(0x832),'circ',_0x2e7cb2(0xb92)];_0x2bb92b[_0x2e7cb2(0x8ca)](_0x946522=>{const _0x57bd47=_0x2e7cb2;_0x346508=_0x346508[_0x57bd47(0x98e)](new RegExp(_0x57bd47(0x205)+_0x946522+'\x5cb','g'),(_0x30a7cd,_0x22daed)=>_0x22daed+'\x5c'+_0x946522);});const _0x4c67fc=[[/×/g,'\x5ctimes'],[/·/g,_0x2e7cb2(0x42e)],[/÷/g,_0x2e7cb2(0x370)],[/≤/g,_0x2e7cb2(0x7bc)],[/≥/g,_0x2e7cb2(0x678)],[/≠/g,'\x5cneq'],[/±/g,_0x2e7cb2(0x64d)],[/∑/g,_0x2e7cb2(0x7f9)],[/−/g,'-']];return _0x4c67fc[_0x2e7cb2(0x8ca)](([_0x1ad44a,_0x1b6a08])=>{const _0x2438fa=_0x2e7cb2;_0x346508=_0x346508[_0x2438fa(0x98e)](_0x1ad44a,_0x1b6a08);}),_0x346508=_0x346508[_0x2e7cb2(0x98e)](/√\s*([A-Za-z0-9]+)/g,_0x2e7cb2(0xb72)),_0x346508=_0x346508[_0x2e7cb2(0x98e)](/(\d+)\s*%/g,_0x2e7cb2(0x881)),_0x346508;},_0x3e23f0=_0x478b17=>{const _0x4874f6=_0x5f0e29;if(/\$|\\\(|\\\[/[_0x4874f6(0x4e4)](_0x478b17))return _0x478b17;if(!_0x42cb43[_0x4874f6(0x4e4)](_0x478b17))return _0x478b17;const _0x59b9fb=_0x478b17[_0x4874f6(0xad2)](/^\s*/)[0x0],_0x38a0ca=_0x478b17[_0x4874f6(0xad2)](/\s*$/)[0x0],_0x3e6772=_0x478b17[_0x4874f6(0x492)]();return _0x59b9fb+'$'+_0x4aa398(_0x3e6772)+'$'+_0x38a0ca;};_0x99436c[_0x5f0e29(0x8ca)](_0x1a6fe1=>{const _0x17a982=_0x5f0e29,_0x449368=_0x52e0e3(_0x1a6fe1);let _0xc9630e=_0x2debd7(_0x449368);_0xc9630e=_0xc9630e[_0x17a982(0x98e)](/\$([^$]*?)\$/g,(_0x5ae9c5,_0x48ee28)=>'$'+_0x4aa398(_0x48ee28)+'$');const _0x1154e3=_0xc9630e[_0x17a982(0x671)](/(\s+)/),_0x58ec55=_0x1154e3[_0x17a982(0xa26)](_0x18fac4=>{const _0x1d1fb3=_0x17a982;if(/\s+/[_0x1d1fb3(0x4e4)](_0x18fac4))return _0x18fac4;return _0x3e23f0(_0x18fac4);});_0xc9630e=_0x58ec55[_0x17a982(0xab6)](''),_0xc9630e!==_0x449368&&(_0xe77175(_0x1a6fe1,_0xc9630e),_0x5f5764++);});if(_0x5f5764>0x0){showMessage(_0x5f0e29(0x99c)+_0x5f5764+_0x5f0e29(0x239));try{window[_0x5f0e29(0x196)]&&MathJax[_0x5f0e29(0x7ca)]&&MathJax[_0x5f0e29(0x7ca)]([_0x48fab2]);}catch(_0x518463){console[_0x5f0e29(0x2da)](_0x5f0e29(0x8a3),_0x518463);}}else showMessage(_0x5f0e29(0x782));}function handleAutoFixLatex(){const _0x31ec9a=_0x4e7cd8,_0x450e22=document[_0x31ec9a(0x1c2)](_0x31ec9a(0xa99))||document,_0x409664=_0x450e22[_0x31ec9a(0x9f4)](_0x31ec9a(0xaf6));let _0x30544d=0x0;const _0x4921d7=_0x2a0d21=>_0x31ec9a(0x9f1)in _0x2a0d21?String(_0x2a0d21[_0x31ec9a(0x9f1)]):_0x2a0d21[_0x31ec9a(0x1cd)]!==undefined?_0x2a0d21[_0x31ec9a(0x1cd)]:_0x2a0d21[_0x31ec9a(0x9a1)]||'',_0x5de4fb=(_0x1e8bfd,_0x2ec990)=>{const _0x38d096=_0x31ec9a;if('value'in _0x1e8bfd){_0x1e8bfd['value']=_0x2ec990;return;}if(_0x1e8bfd[_0x38d096(0x8b9)]&&_0x1e8bfd[_0x38d096(0x8b9)](_0x38d096(0x87c)))return;if(_0x1e8bfd[_0x38d096(0x1cd)]!==undefined)_0x1e8bfd[_0x38d096(0x1cd)]=_0x2ec990;else _0x1e8bfd[_0x38d096(0x9a1)]=_0x2ec990;},_0x33ada7=_0x387367=>_0x387367['replace'](/\u00A0/g,'\x20')[_0x31ec9a(0x98e)](/\u200B/g,'')[_0x31ec9a(0x98e)](/\r\n?/g,'\x0a'),_0x3e50af=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x2d8064=_0x3bfb4c=>{const _0x59c856=_0x31ec9a;let _0x5b7e5c=_0x3bfb4c[_0x59c856(0x492)]();_0x5b7e5c=_0x5b7e5c[_0x59c856(0x98e)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x59c856(0x4a7)),_0x5b7e5c=_0x5b7e5c[_0x59c856(0x98e)](/\bfrac(\d)(\d)/g,_0x59c856(0x4a7));const _0x2edb69=[_0x59c856(0xad9),'sqrt',_0x59c856(0x1ce),'cdot',_0x59c856(0x691),_0x59c856(0xc13),_0x59c856(0x68a),'neq','pm',_0x59c856(0x4c3),'cos',_0x59c856(0x283),_0x59c856(0x511),'ln'];_0x2edb69[_0x59c856(0x8ca)](_0x596358=>{const _0x427451=_0x59c856;_0x5b7e5c=_0x5b7e5c[_0x427451(0x98e)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x596358+'\x5cb','g'),(_0x5e6044,_0x5ab9ec)=>_0x5ab9ec+'\x5c'+_0x596358);});const _0x207dd1=[[/×/g,_0x59c856(0x652)],[/·/g,_0x59c856(0x42e)],[/÷/g,_0x59c856(0x370)],[/≤/g,_0x59c856(0x7bc)],[/≥/g,_0x59c856(0x678)],[/≠/g,_0x59c856(0xc43)],[/±/g,_0x59c856(0x64d)]];return _0x207dd1[_0x59c856(0x8ca)](([_0x49a8c0,_0x35db5f])=>{_0x5b7e5c=_0x5b7e5c['replace'](_0x49a8c0,_0x35db5f);}),_0x5b7e5c;},_0x18adf4=_0x5b1930=>{const _0x1dcc80=_0x31ec9a;if(/\$|\\\(|\\\[/[_0x1dcc80(0x4e4)](_0x5b1930))return _0x5b1930;if(!_0x3e50af['test'](_0x5b1930))return _0x5b1930;const _0x3acc67=_0x5b1930[_0x1dcc80(0xad2)](/^\s*/)[0x0],_0x57ba8f=_0x5b1930[_0x1dcc80(0xad2)](/\s*$/)[0x0],_0x155b33=_0x5b1930[_0x1dcc80(0x492)]();return _0x3acc67+'$'+_0x2d8064(_0x155b33)+'$'+_0x57ba8f;};_0x409664[_0x31ec9a(0x8ca)](_0x47a6a4=>{const _0x3c390a=_0x31ec9a,_0x53e19a=_0x4921d7(_0x47a6a4);let _0x823fde=_0x33ada7(_0x53e19a);_0x823fde=_0x823fde[_0x3c390a(0x98e)](/\$([^$]*?)\$/g,(_0x1bf1e2,_0x241868)=>'$'+_0x2d8064(_0x241868)+'$');const _0x1d09f2=_0x823fde[_0x3c390a(0x671)](/(\s+)/),_0x25126a=_0x1d09f2[_0x3c390a(0xa26)](_0x46ea5b=>/\s+/['test'](_0x46ea5b)?_0x46ea5b:_0x18adf4(_0x46ea5b));_0x823fde=_0x25126a[_0x3c390a(0xab6)](''),_0x823fde!==_0x53e19a&&(_0x5de4fb(_0x47a6a4,_0x823fde),_0x30544d++);});if(_0x30544d>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x30544d+'\x20จุด');try{if(window[_0x31ec9a(0x196)]&&MathJax['typesetPromise'])MathJax[_0x31ec9a(0x7ca)]();}catch(_0xdd7c0f){}}else showMessage(_0x31ec9a(0x498));}async function listenForCustomMathTopics(){const _0x22f04a=_0x4e7cd8,_0x1b756c=collection(db,_0x22f04a(0xbc5)+appId+_0x22f04a(0xad5));onSnapshot(_0x1b756c,_0x4f2782=>{customMathTopics=_0x4f2782['docs']['map'](_0x3cd4a1=>({'id':_0x3cd4a1['id'],..._0x3cd4a1['data']()})),renderTopicCheckboxes();},_0x511622=>{const _0x2bead6=_0x22f04a;console['error'](_0x2bead6(0x27e),_0x511622);});}function handleSelectAllTopics(){const _0x4d768f=_0x4e7cd8,_0xfea556=document[_0x4d768f(0x1c2)]('math-topics-checkbox-container'),_0x5ae2bf=_0xfea556[_0x4d768f(0x9f4)](_0x4d768f(0x5f0));_0x5ae2bf[_0x4d768f(0x8ca)](_0x46f2bc=>{_0x46f2bc['checked']=!![];}),updateSelectedTopicsCount();}function _0x7460(){const _0x804e4f=['จำนวนและการดำเนินการ','</div>\x0a</div>\x0a','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','แบบทดสอบซ่อมเสริม','none','attempts','sync-submit-btn','applicationData','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<p\x20class=\x22text-2xl\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','cancel-bulk-quiz-settings-btn','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','fa-pen','icon','Successfully\x20removed\x20','getItem','Error\x20submitting\x20group\x20answer:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','visibilitychange','\x20ชุด)</span>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-from-bp-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','text-yellow-800','.topic-name-display','ตรีโกณมิติ','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x20/\x20','ไม่พบข้อมูลหัวข้อที่จะบันทึก','Error\x20saving\x20to\x20question\x20bank:','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','parallelShortcutOrder','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อินเวอร์สของเมทริกซ์','สำหรับหัวข้อ\x20\x27','get','bg-green-200\x20text-green-900\x20font-bold','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','ย้าย','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','Error\x20processing\x20shortcut\x20click:','กำลังค้นหากิจกรรม...','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','blur','bp-modal-question-complexity-select','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x20กลุ่ม</p></div>','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','global-quiz-search-input','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20</div>','touchstart','click','.highlighter-color-btn','closest','teachingContent','.linkedQuizIds','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','group','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ค่าเฉลี่ย','317710SgDbnL','Error\x20in\x20handleApiCall:','lineCap','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','Error\x20generating\x20hybrid\x20quiz:','#student-project-leaderboard-content\x20thead','shortcuts','เรเดียนและการแปลงหน่วย','รายการนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','list','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','starred-project','blueprint-options-container','team-student-list','\x20(ID:\x20','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','[data-topic-id]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','scratchpad-modal','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','file-shortcut-editor-modal','Error\x20generating\x20worksheet:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','setAttribute','27819dOPwNs','student-quiz-area','.bp-create-content-quiz-btn','touchend','Failed\x20to\x20kick\x20player\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Error\x20saving\x20parallel\x20shortcut:','ON_FIRE','leq','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','cancel-passcode-btn','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','perfect_score','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','Error\x20unpairing\x20quizzes:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','retake-quiz-loop-btn','application/json','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','แก้ไขปุ่มลัดจากไฟล์','\x22\x20name=\x22question','blueprint-project-list','student-name-input','<option\x20value=\x22','file-default-2','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','add-parallel-shortcut-tab-btn','ไม่พบไฟล์\x20Test\x20Blueprint','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','พบข้อสอบ\x20','.ai-fix-question-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยเวลาและการคำนวณเวลา','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','add-file-shortcut-btn','timer-bar','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','studentName','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','ไม่ผ่าน','กำลังเตรียมไฟล์...','\x5cneq','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','pointerdown','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','classStrengths','txt','removeItem','1:274192258111:web:4120c9118229b5644dd48a','กฎของไซน์','getContext','</div>','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','.correct-response-input','rgba(16,\x20185,\x20129,\x200.7)','.quiz-bank-checkbox:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','สมการลอการิทึม','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','POST','onblur','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','toISOString','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','lesson-plan-content','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จาก\x20','comparison-chart','ระยะเวลา\x20(วินาที):','subTopic','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','presentation-ai-result','#000000','ยังไม่ส่ง','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','save-shortcut-btn','.edit-hidden-parallel-shortcut-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','removeChild','dimmed','bulk-confidence-mode-container','modal-confidence-mode-container','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','.parallel-shortcut-tab-btn','null','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','Copy\x20command\x20failed','.shortcut-list-item','startedAt','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','save-game-results-checkbox','start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ยังไม่มีนักเรียนส่งงาน','generated','endsWith','create-from-bank-btn','save','Error\x20saving\x20file\x20shortcut\x20config:','ค่าคลาดเคลื่อนของการวัด','การหารเศษส่วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','จำนวนคละ','Error\x20deleting\x20all\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','export-worksheet-pdf-btn','สมการค่าสัมบูรณ์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','การคูณ','not-found','fill_in_with_choices','perseverance','เปลี่ยนชื่อโปรเจคสำเร็จ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','commit','ไม่สามารถโหลดรายการโปรเจคได้','#F59E0B','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','select-all-topics-btn','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','topic-tab','ไม่พบแบบทดสอบสำหรับรหัสนี้','close-additional-file-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','incorrect','topic','.space-y-1.pl-4','text-red-800','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','highlighter-size-slider','\x22>ไม่ใช่</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','timerMode','analytics-tab-btn','ชื่อโปรเจคห้ามว่าง','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','showInStudentDashboard','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','translate','.edit-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','summaryContent','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','disabled\x20bg-gray-400\x20cursor-not-allowed','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','.linkedQuizId','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','...\x20(โค้ดส่วนนี้เหมือนเดิม)\x20...','.question-editor-item','screen','font-bold\x20text-green-700','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getDocument','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','นำแบบทดสอบออกจากคลังนี้แล้ว','font-bold\x20text-red-700\x20line-through','แท็บใหม่','save-settings-btn','แบบทดสอบที่ติดดาว','target','function','Auto-linking\x20new\x20quiz\x20','code','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','#open-additional-file-shortcuts-btn','scores-tab-btn','global-activity-modal','showRankings','show-results-btn','find','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','.txt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','projectView','.ai-fix-formula-btn','บันทึกแบบทดสอบสำเร็จแล้ว!','shadowColor','explanation','parentElement','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','Error\x20in\x20generating\x20from\x20files:','currentMode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','bg-green-100','1asjaYK','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','student-project-leaderboard-tab','quiz-search-input','view-my-progress-btn','fas\x20fa-bookmark','confirm-manual-bp-btn','sync-short-answer-input','sara','/public/data/blueprintProjects/','question-analytics-container','Error\x20analyzing\x20file\x20for\x20topics:','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','สร้างแบบทดสอบปรนัย','/public/data/quizzes/','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','custom-math-topic-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','export-leaderboard-pdf-btn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','file-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','thead','.bp-unlink-quiz-btn','ชื่อหัวข้อห้ามว่าง','Error\x20joining\x20activity:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','ฐานนิยม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','questionIndex','Error\x20calling\x20Gemini\x20API:','กราฟแท่ง\x20กราฟเส้น','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','ราชาคัมแบ็ก','ปริมาตรรูปทรงสามมิติ','</h3>','opacity','.ai-content\x20td','questions_only','Error\x20updating\x20pin\x20status:','text/csv;charset=utf-8;','มุมพิเศษ\x2030°-60°-90°','goto-next-question-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','.move-parallel-shortcut-dropdown','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','start-presentation-btn','main-correct-answer-display','globalCompositeOperation','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','<p\x20class=\x22text-xl\x22>','\x22\x20name=\x22confidence','cursor','scratchpad-close-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','open-sync-scratchpad-btn','interesting-stats-container','กิจกรรมสิ้นสุดลงแล้ว','ตรวจทานเฉลยเสร็จสิ้น!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-container','project-list','submission','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่ม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','project-passcode-modal','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','MathJax','#FCE7F3','afterend','STOP','modal-close-btn','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','write','quiz-bank-modal','bp-modal-quiz-type-select','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','text-purple-600','.bp-try-btn','Error\x20regenerating\x20question\x20in\x20editor:','Error\x20loading\x20quiz\x20for\x20student:','API\x20call\x20failed','รากที่สองและที่สาม','กำลังสร้างแบบทดสอบ\x20\x22','.use-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cdot','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบซ่อม','.ai-content\x20li','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','mixed','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','lessonPlan','clientX','summary','project-name-input','quiz-id-input','fill_in_the_blank','normal','line-through\x20text-red-700','/public/data/syncGames','request','fa-shield-alt\x20text-gray-600','select[name=\x22question_single\x22]','getElementById','confirm-game-start-btn','Error\x20pairing\x20quizzes:','file-shortcut-name-input','shadowBlur','from','เกิดข้อผิดพลาดในการสร้างห้องเกม','ลิมิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','index','innerText','times','file-shortcut_','ฟังก์ชันสัมพัทธ์\x20(rational)','Error\x20saving\x20project\x20order:','pow','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','documentElement','document','questionId','เพิ่มรายการที่เลือก','substr','shortcut-reference-url-input','bg-blue-100\x20text-blue-800','เศษส่วน\x20(ย่อ/ขยาย)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','not_confident','gameData','close-additional-parallel-shortcuts-btn','analyze-strengths-btn','.copy-quiz-id-list-btn','subTopics','</body></html>','student-progress-content','เกิดข้อผิดพลาดในการนำผู้เล่นออก','#E5E7EB','show_pass_fail_only','rgba(59,\x20130,\x20246,\x200.7)','original-mode-checkbox','</label></div>','ทฤษฎีทวินาม\x20(เบื้องต้น)','firstScore','สู้ๆ\x20ลองอีกครั้งนะ','_blank','next-question-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','rows','remove','.pin-project-btn','earned-badges-container','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','pen','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','scheduled','/studentProfiles','.delete-bp-project-btn','ไม่พบข้อมูลแบบทดสอบ','lesson-sections-container','(^|[^\x5c\x5c])\x5cb','center','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','correctAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','ผู้เชี่ยวชาญ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','gamePin','.regenerate-question-btn','ไม่พบโปรเจคที่ต้องการลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','border-green-300\x20bg-green-50','การจัดกลุ่มข้อมูล','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','results-display-select','ไม่สามารถเริ่มเกมได้','wheel','file-upload-input','#10B981','<button\x20data-id=\x22','parallel-shortcuts-loading-msg','strokeStyle','.bp-present-btn','matching_item','file-shortcut-tabs-nav','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','quizId','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','เกิดข้อผิดพลาดในการบันทึก','.game-start-btn','results-tab-content','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้นฉบับทั้งหมด','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','th-TH','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','เมทริกซ์:\x20บวก/คูณ','ข้อต่อไป','blueprint.pdf','ความเท่ากันทุกประการของสามเหลี่ยม','upperGroupResponders','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','bulk-quiz-settings-btn','\x20จุดเรียบร้อยแล้ว','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','bg-red-500','</tbody></table>','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-url-input','pop','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','บทเรียน','แคลคูลัสเบื้องต้น','confidence-scoring-checkbox','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','type','insertAdjacentHTML','answerValue','ยืนยันและอัปเดตทั้งหมด','เกิดข้อผิดพลาดในการจับคู่','members','Could\x20not\x20fetch\x20reference\x20file:','<option>กำลังโหลดโปรเจค...</option>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','topic-quiz-bank-modal','ผู้ควบคุม\x20(ทดสอบ)','.start-live-race-btn','generate-from-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเอกสารการส่งงานของ\x20','\x22.\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-quiz-status-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','empty','อัตราการเปลี่ยนแปลงทันที','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','project-quizzes-list','result','force-math-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','playerName','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','screen_exit','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','ตารางความถี่','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','แบบปรนัย\x204\x20ตัวเลือก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','arrayBuffer','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','Error\x20creating\x20project:','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','.ai-content\x20blockquote','math-topics-checkbox-container','กำลังอัปเดตแบบทดสอบ\x20','quiz-leaderboard-table-body','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','รูปหลายเหลี่ยมและมุมภายใน','<div\x20class=\x22my-6\x22>','.topic-actions-edit','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','quiz-generation-area','parse','.ideal-answer-input,\x20.correct-response-input','tan','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สร้างโปรเจคสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','input','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','-options\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ไม่พบตารางสำหรับ\x20Export','blueprint-topics-list-container','display','หัวข้อหลักใหม่','imageCode','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','modal-confidence-mode-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','bulk-confidence-scoring-checkbox','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','comparison-individual-tab','drop','bg-green-50','AI\x20Fix\x20Error:','Blueprint\x201','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','\x22\x20class=\x22pin-project-btn\x20','_opt','\x20(สำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.tab-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x201','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','ดีมาก','date_asc','.move-file-shortcut-dropdown','lesson-plan-title','\x22\x20value=\x22','Error\x20joining\x20live\x20game:','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-quiz-topic','\x22\x20data-name=\x22','table','isArray','เปลี่ยนชื่อแบบทดสอบสำเร็จ','questionText','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</button>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22...','add-shortcut-tab-btn','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','<li>','ลำดับเลขคณิต\x20(AP)','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','stroke','fixed','พบ\x20Sync\x20Game!','มัธยฐาน','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','lineWidth','sum','blueprint-settings-modal','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','parallelTestShortcutsConfig','json','solution','.delete-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','คณิตการเงิน/บูรณาการ','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','dragend','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','lowerGroupResponders','คะแนนยังไม่ถึงครึ่ง','separate-by-content-from-file-checkbox','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-container','ต้นฉบับ\x201','error','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','.tab-name-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','เลือกและบันทึก','slide-counter','/submissions','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','คะแนนเต็ม!','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','previousElementSibling','touchcancel','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','การแปลงรูปอัตลักษณ์','ไม่พบข้อมูลผู้ใช้','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','Error\x20saving\x20submission:','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dragstart','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคก่อน','additional-shortcuts-list','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','postScore','devicePixelRatio','modal-loop-until-pass-checkbox','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','ความน่าจะเป็นแบบมีเงื่อนไข',')\x22>','ไม่พบข้อมูลข้อสอบหลังเรียน','</p><div>','comparison-overall-content','category','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','.pen-color-btn','add-custom-math-topic-btn','.topic-category','รูปสี่เหลี่ยมและสมบัติ','hidden','Attempting\x20to\x20save\x20game\x20results...','</tr>','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','live-race','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','onerror','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','ondragend','Error\x20deleting\x20custom\x20topic:','quiz-editor-modal','class','อัปเดตการตั้งค่าของแบบทดสอบ\x20','แผนภาพกล่อง\x20(box\x20plot)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','เกิดข้อผิดพลาดในการเข้าร่วมเกม','visibilityState','reference.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','dispatchEvent','<div\x20class=\x22flex-1\x22></div>','topicName','จัดการ','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ที่พิมพ์ได้\x20จำนวน\x20','shortcutOrder','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','.group\x5c/dropdown-file','fadeStartTime','border-indigo-400\x20ring-2\x20ring-indigo-200','Error\x20saving\x20quiz:','แบบทดสอบ:\x20','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','isDefault','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','tab_','copy-quiz-id-btn','projectSort','parallel-shortcut-editor-modal','เส้นตรง:\x20รูปแบบสมการ','pointContent','text-gray-300\x20hover:text-white','mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list-container','trail','scratchpad-header','การคูณเศษส่วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','.admin-try-quiz-list-btn','ทฤษฎีบทพื้นฐานของแคลคูลัส','.presentation-option','webkitExitFullscreen','Test\x20Blueprint','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x20in\x20all\x20blueprint\x20projects.','presentation-slide-container','far\x20fa-star','classWeaknesses','timer-mode-select','.shortcut-list-item:not(.opacity-50)','closePath','bg-gray-50','\x27,\x20\x27','shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','shortcut-editor-modal','abs','ความคล้ายของรูป','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','bp-modal-include-images-checkbox','</p>','comparison-overall-tab','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','answers','admin-password-modal','\x20แบบทดสอบลงในคลังสำเร็จ!','https://drive.google.com/uc?export=download&id=','isScored','ondblclick','label[for=\x22num-questions\x22]','(เลือกแล้ว\x20','หน่วยความยาวและการแปลง','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','authed_project_','\x5cdiv','file-shortcut-container','/public/data/liveGames','ข้อที่\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-q-type=\x22','both','responses','docs','2467718ITOBhO','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','Error\x20saving\x20questions\x20to\x20practice\x20bank:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','</td></tr>','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','application/pdf','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','...','\x22\x20จำนวน\x20','student-passcode-input','startsWith','set','คะแนนเฉลี่ย','แผนการสอน','0\x200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','behaviorLog','label','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Team\x20Quiz','เกิดข้อผิดพลาดในการแก้ไข','div[data-question-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','originalQuestionText','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','parallel-shortcut-tabs-nav','student','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','ส่วนเบี่ยงเบนมาตรฐาน','_opt1\x22\x20name=\x22question','passcode-prompt-message','\x20mx-1\x20text-lg\x22></i></span>','blueprint-projects-modal','\x20คู่\x20','แบบทดสอบจากคลังส่วนตัว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','some','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','max','timestamp','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','prev-question-btn','ห.ร.ม.\x20(GCD)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','name_asc','justification','export-image-btn','total','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','bp-quiz-settings-btn','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#26890c','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','shortcut-id-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</p></div>','modal-adaptive-quiz-checkbox','auto','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>','visible','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','all','question','thead\x20.sortable-header','quizMode','ความต่อเนื่อง','ไม่ระบุ','confirm-bulk-quiz-settings-btn','passcode-input-container','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','stopPropagation','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','.confidence-choice-btn','translate(','confidence-input-','.edit-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','admin-testing','input[type=\x22radio\x22]:checked','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','modal-passing-score-input','student-initial-view','AI\x20ไม่สามารถประมวลผลข้อมูลได้','.score','gradeLevel','innerHTML','quiz-results','hasOwnProperty','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','isConfidenceScoringEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','update-old-quizzes-btn','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','bar','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','การหารทศนิยม','สร้างชุดคำถามจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ชุด)','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','hint-btn','button[type=\x22submit\x22]','date_desc','promptFeedback','fa-rocket\x20text-purple-500','preventDefault','จำนวนเต็มลบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','transformOrigin','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบฝึกฝนเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','reset-project-order-btn','add-from-global-bank-btn','readAsArrayBuffer','first_try_ace','ดอทโปรดักต์\x20(dot)','bp-modal-num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','quiz-status-modal','learningGaps','half_mark_status','บันทึกคำถามใหม่\x20','ไม่พบโปรเจค','modal-timer-mode-select','parallel-shortcut_','(คู่ขนาน)\x20','Enter','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-modal','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','ใช่','<button\x20data-shortcut-id=\x22','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','bg-green-200','สมการตรีโกณมิติ','.topic-selection-btn','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','ไม่ใช่','confidence','px,\x20','ระบบอสมการ','เพิ่มหัวข้อ\x20\x22','ทศนิยม\x20(ค่าประจำหลัก)','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','Error\x20resetting\x20project\x20order:','bank-tab','bank-quiz-list','text-blue-800','temp-loader-text-results','\x5ccdot','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-modal','กำลังดึงข้อมูลจากลิงก์...','Error\x20deleting\x20project:','bulk-quiz-settings-modal','topic-bank-subtopic-name','pointsLastQuestion','offset','QUICK_THINKER','ระบบสมการเชิงเส้นสองตัวแปร','pinnedProjects','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x20(p=','open','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','Error\x20fetching\x20quiz\x20settings:','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','กรุณาเลือกโปรเจคปลายทาง','modal-message','จากไฟล์ที่แนบมานี้,\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','confirm-game-start-modal','text-green-600','<button\x20data-value=\x22','<div\x20class=\x22space-y-4\x22>','isFinished','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ย้ายแบบทดสอบไปโปรเจคอื่น','interesting-stats-wrapper','project-title','\x22\x20data-target-tab-id=\x22','student-name-select','ai-quiz-app-aefee.firebasestorage.app','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x20คนที่ส่ง\x20ตอบถูก\x20(','.quiz-bank-try-btn','.view-bp-lesson-btn','sync-matching-select','แก้ระบบสมการด้วยเมทริกซ์','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','ศูนย์','submittedAt','pen-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','การจัดหมู่\x20(Combination)','stringify','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','Error\x20updating\x20quiz\x20settings:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','scores','back-to-student-initial-btn','OBJECT','Error\x20analyzing\x20blueprint\x20topics:','mousemove','</span>','gain','scrollIntoView','every','กำลังสร้างรูปภาพ...','แบบเติมคำตอบ','Error\x20adding\x20students:','filter','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','#open-additional-parallel-shortcuts-btn','close-additional-shortcuts-btn','No\x20player\x20data\x20to\x20save.','bg-red-100','cancel-bp-settings-btn','correctResponse','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','.answers','players.','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','exitFullscreen','back-to-project-btn','student-list','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','วงกลม:\x20สมการและสมบัติ','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','<li\x20class=\x22','Error\x20during\x20blueprint\x20link\x20cleanup:','bg-black/20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','Error\x20saving\x20quiz\x20edits:','วงรี','trim','idealAnswer','backgroundColor','enable-passcode-checkbox','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','bp-modal-difficulty-level-select','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','ไม่พบแบบทดสอบในระบบเลย','startTime','กำลังกลับเข้าสู่เกม\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','#view-rankings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','highlighter','กรุณาเลือกคำตอบ','destination-out','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','modal-shuffle-select','\x5cfrac{$1}{$2}','rgba(239,\x2068,\x2068,\x200.9)','รอ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','leaderboard-tab-content','กรุณาเลือกโปรเจคที่ต้องการบันทึก','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x20คะแนน</span></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','tabId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-summary-tooltip.visible','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','manual-bp-content','fullscreenchange','\x20สำเร็จ','btn','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','#file-shortcut-tabs-nav\x20.tab-name-input','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','list-view-btn','smooth','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','Error\x20toggling\x20star\x20status:','.bp-delete-topic-btn','includes','sin','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','กำลังวิเคราะห์หัวข้อ...','preTestId','pointercancel','inactive','lastIndexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','additional-file-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','บันทึกการตั้งค่าสำเร็จ','options','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','nextElementSibling','เกี่ยวกับหัวข้อ\x20\x22','cancel-global-activity-btn','text','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','ปิดใช้งาน','manual_release','พบ\x20Team\x20Quiz!','timer-duration-container','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','fill_in_no_choices','.move-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','whole_quiz','ref','test','shortcut-name-input','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-topic-input','hover:bg-indigo-100','#math-topics-checkbox-container\x20input:checked','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','file-default-','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20clearing\x20linked\x20quiz:','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','.delete-hidden-shortcut-btn','ไม่พบข้อมูลการจับคู่','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','submit-team-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการติดดาว','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tool','false','bg-red-100\x20text-red-800','fa-crown\x20text-yellow-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','.project-card-container[data-id]','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','includeImages','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการเหตุผล\x20(rational)','\x20mr-2\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','log','highlighter-tools-group','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','\x22\x20ให้เป็นคำถามประเภท\x20\x22','readAsDataURL','message','editable-text-','toLocaleDateString','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','generate-from-file-btn','ท็อปฟอร์ม','(หลังเรียน)\x20','Error\x20deleting\x20shortcut:','กราฟฟังก์ชันตรีโกณ','/users/','_opt0\x22\x20name=\x22question','text/plain','close-lesson-plan-modal-btn','สเกลและแผนที่','กรุณาเลือกสถานะ','-tab-content','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','content','save-blueprint-as-project-btn','Error\x20submitting\x20team\x20answer:','.topic-actions-view','verify-answers-btn','เส้นตรง:\x20ขนาน/ตั้งฉาก','string','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','<h1></h1>','description','กรุณาเลือกไฟล์ก่อน','เริ่มกิจกรรม:\x20','text-content-input','#results-table\x20thead\x20tr','\x22\x20data-pre-test-id=\x22','file-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างบทเรียน:\x20','bg-gray-200\x20text-gray-700','hint','doughnut','fa-dumbbell\x20text-gray-700','การวัด','source_document.pdf','Error\x20generating\x20from\x20link:','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คณิตศาสตร์','q-image-container-','additional-shortcuts-modal','.move-parallel-shortcut-menu-btn','.bp-view-analysis-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','อัปเดตพฤติกรรมสำหรับ\x20','ลบโปรเจคสำเร็จแล้ว','application','topicId','เกิดข้อผิดพลาดในการอ่านไฟล์','หมดเวลา!\x20กำลังส่งคำตอบ...','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20sync\x20game:','.project-card-container.opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20settings:','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','Error\x20generating\x20parallel\x20test\x20from\x20bank:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','num-questions','isPinned','download','ยกเลิกการเชื่อมโยงสำเร็จ','ผลรวมอนุกรม\x20(Σ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','checked','image/png','#student-quiz-leaderboard-content\x20thead','bp-reference-file-url','bp-modal-num-questions','<i\x20class=\x22fas\x20fa-pen\x22></i>','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','การประยุกต์เวกเตอร์พื้นฐาน','/public/data/teamQuizzes','confirm-link-quiz-btn','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','workerSrc','topics','.move-file-shortcut-menu-btn','แก้ไขข้อนี้','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','execCommand','เกิดข้อผิดพลาด','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','text-indigo-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','numPages','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','grid-view-btn','student-quiz-topic','\x22\x20data-quiz-id=\x22','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','bg-green-200\x20text-green-800','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','move-quiz-project-select','fas\x20fa-user-edit','linkedQuizIds','quiz-results-view','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-submission-btn','ฟังก์ชันราก\x20(root)','ดอกเบี้ยทบต้น','Error\x20comparing\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','_opt1\x22>ไม่ใช่</label></div>','getTextContent','suggestedAnswer','fa-fire\x20text-orange-500','input[type=\x22radio\x22][value=\x22','ความคาดหมาย\x20(Expected\x20value)','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','groups.','Error\x20listening\x20for\x20starred\x20quizzes:','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','text-tab','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','%</span>','passcode-error-msg','\x20|\x20','ไม่มีคำอธิบาย','open-blueprint-projects-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','ไม่ได้ตอบ','timed','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','API\x20Error\x20Body:','parallel-shortcut-name-input','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','54TIyIrZ','save-quiz-btn','.status','student-reading-area','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','selected-answer-index-hidden','isAdaptive','Error\x20unlinking\x20quiz:','คำถามถัดไป','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-scratchpad-btn','blueprintUrl','.scratchpad-content-wrapper','quick_thinker','fa-user-astronaut\x20text-blue-700','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20updating\x20old\x20quizzes:','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','end-sync-game-btn','cancel-file-shortcut-edit-btn','.group\x5c/dropdown','submit','/public/data/projects/','generated-quiz-actions','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','adaptive-quiz-checkbox','จำนวนเต็มบวก','.topic-name-input','/lessons','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','355243AlArXz','tooltipTarget','specialist','.move-shortcut-item','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','เปิดใช้งาน','bg-green-100\x20text-green-800','.quiz-bank-present-btn','cancel-test-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','confidence_single','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','/public/data/quizzes','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','timerDuration','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','dashboardConfig','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','generate-worksheet-btn','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','.group',';\x22\x20data-id=\x22','.shortcut-tab-btn','เพิ่มปุ่มลัดจากไฟล์ใหม่','scale','input[type=\x22checkbox\x22]','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','การแยกตัวประกอบ','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20deleting\x20submission:','delete','beforeend','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','answeredCurrentQuestion','score-distribution-chart','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','referenceUrl','บทเรียนเรื่อง:\x20','<span\x20class=\x22font-bold\x20','bg-black/10','confirm-rename-quiz-btn','createElement','ระบบเลขและค่าประจำหลัก','Firebase\x20initialization\x20failed:','<tr><td\x20colspan=\x22','standard','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','deselect-all-topics-btn','nickname-input','เกิดข้อผิดพลาดในการปักหมุด','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','insertBefore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerIndex','AI\x20Formula\x20Fix\x20Error:','.use-hidden-file-shortcut-btn','worksheet-topic-input','worksheet-tab','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','/public/data/blueprintProjects','blockReason','\x20ตัวเลือก.\x20','parallel-shortcut-url-input','.file-shortcut-btn[data-id=\x22','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','parallel-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','<p><strong>คำตอบที่แนะนำ:</strong>\x20','.ideal-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ข้อ\x20','Error\x20updating\x20project\x20name:','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','currentQuestionIndex','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','s;\x22\x20title=\x22','\x22><p\x20class=\x22font-semibold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionStatus','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','ฟังก์ชันแบบชิ้นส่วน','worksheet-input-area','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','numChoices','url','lastAnswerIndex','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','end-game-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preTScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','totalPoints','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleString','close-presentation-btn','export-pdf-btn','ไม่มีผู้ตอบตัวเลือกนี้','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','text-green-700\x20bg-green-100','\x5cpm','parseFromString','ตรวจพบการออกจากหน้าจอครบ\x20','บันทึกการตั้งค่าแล้ว','.lastAnswerCorrect','\x5ctimes','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','global-quiz-count','delete-svg-btn','การบวกทศนิยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','text-red-500\x20hover:text-red-700','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','numeric','\x22\x20class=\x22color-palette-btn\x20','results-table-container','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','ผ่านฉลุย','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','เกิดข้อผิดพลาดในการลบ','latestSubmittedAt','kick-player-btn','.delete-student-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-explanation-','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','split','text-red-300\x20hover:text-red-100','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','default-1','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x5cge','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x22\x20name=\x22question_single\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','Group\x20Mode','จุด\x20เส้น\x20ระนาบ','comparison','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','scratchpad-canvas','currentTarget','export-word-btn','```json','behavior-log-container','geq','confidence-scoring-description','ตอบถูกทุกข้อในแบบทดสอบนี้','.\x20แต่ละข้อมี\x20','อัปเดตแบบทดสอบเก่า\x20','shortcut-blueprint-url-input','กรุณาเลือกชื่อของคุณ','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','text-red-700','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','transparent','destroy','.parallel-shortcut-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','fullscreenElement','[data-field=\x22subTopic\x22]','admin-view','quiz-start-time','pen-tools-group','files','svg','\x22>จาก:\x20','close-game-final-btn','ต้นฉบับ\x202','show_results_and_answers','manual-create-blueprint-btn','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20starting\x20team\x20quiz:','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','cancel-delete-btn','parent','.project-card-container','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ARRAY','behavior-log-tab-btn','ยังไม่เต็มนะ','bulk-confidence-mode-select','<span\x20title=\x22','</h4>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','complexityValue','close','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','bestScore','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','กำลังอ่านและเตรียมไฟล์...','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','724228KvVYlT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','<div\x20class=\x22','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','select','leaderboard-quiz-tab-btn','change','.generate-content-btn',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ลำดับการดำเนินการ\x20(PEMDAS)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','leaderboard-quiz','กรุณาตั้งชื่อแท็บใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','Error\x20during\x20deep\x20delete:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x202','projectSortOrder','now','setAttributeNS','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','push','student-quiz-leaderboard-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจค','(ก่อนเรียน)','q-text-','ผู้ไม่ยอมแพ้','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','/public/data/projects','Re-grade\x20process\x20failed:','<p><strong>คำตอบของคุณ:</strong>\x20','export-compact-pdf-btn','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','cancel-parallel-shortcut-edit-btn','\x22\x20สำเร็จ','ลบโปรเจค\x20\x22','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','cancel-quiz-status-btn','referenceFileUrl','cancel-export-pdf-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','substring','<tr\x20class=\x22','clear-all-links-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','lowerGroupNames','.flex.justify-between.items-center','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','parallel-shortcut-modal-title','getAttributeNS','<p>','Error\x20starting\x20group\x20quiz:','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','right','#FEE2E2','submission-status-chart','.bp-create-onet-quiz-btn','Error\x20committing\x20score\x20updates:','.csv','Error\x20toggling\x20pin\x20status:','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x22><i\x20class=\x22fas\x20','\x20ชุดสำเร็จ!','เงินงวด\x20(อนุกรมเงินงวด)','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','perfect_score_status','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','.delete-svg-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','กำลังอ่านไฟล์อ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','totalQuestions','quiz-leaderboard-table','.pdf','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','not_generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Original\x20quiz\x20not\x20found','กฎบวกและกฎคูณ','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','/questionBank','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','แก้ไขหัวข้อสำเร็จ','อนุพันธ์:\x20กฎพื้นฐาน','save-quiz-edits-btn','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','back-to-home-manual-release','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','stem','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','save-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','/preferences/main','binom','.delete-file-shortcut-tab-btn','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','quadraticCurveTo','ai-quiz-app-aefee.firebaseapp.com','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sortable-header','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20updating\x20quiz\x20status:','ถูก','user','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','#E0E7FF','ลบผลสอบของ\x20','blueprint-topics-list','add-file-shortcut-tab-btn','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','live-submit-short-answer-btn','<tr>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','pin','shuffleSetting','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20projects:','แผนการสอน:\x20','Error\x20saving\x20manual\x20blueprint\x20project:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','modal-timer-duration-container','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','.pair-quiz-btn','Error\x20saving\x20game\x20results:','post-test','modal-timer-duration-input','\x22\x20class=\x22delete-project-btn\x20','end-team-quiz-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','requestFullscreen','upperGroupNames','toDate','PERSEVERANCE','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizType','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','qIndex','toggle','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.quiz-settings-btn','pairedQuizId','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</li>','decode','bp-project-title','comparison-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','finishReason','เนื้อหาสำหรับสอน:\x20','answer-counter','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','<button\x20data-tab-id=\x22','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','touchmove','Error\x20starting\x20game:','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','choices_only','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','mandatory','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้ปิดใช้งานอยู่','wasConfident','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','NUMBER','per_question','blob','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','input[type=\x22text\x22]','generate-from-blueprint-btn','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','การบวกเศษส่วน','highlighter-size-value','.draggable-text','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','Authentication\x20failed:','bp-topic-list-container','overline','confidence-mode-select','globalSettings','#FEF3C7','อัปเดตสถานะสำเร็จ','.file-shortcut-btn','onchange','per-question-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','toLowerCase','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','input[name=\x22team_player\x22]:checked','unshift','.delete-file-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','add-shortcut-btn','ondragstart','message-modal','#parallel-shortcut-tabs-nav\x20.tab-name-input','reduce','save-parallel-shortcut-btn','wakeLock','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','</select>','\x5cle','cancel-team-selection-btn','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','.quiz-bank-move-btn','.edit-quiz-btn','responses.','\x20ข้อ...','show-leaderboard-btn','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','.live-answer-btn,\x20#sync-submit-btn','mean','typesetPromise','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-list','รูปแบบการให้เหตุผล','.quiz-bank-delete-btn','endTime','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','.answered','สาระที่\x201','add','release','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','mouse','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','badgesCount','parallel-test-tab','.submittedAt','คัดลอกรหัสแล้ว!','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','desc','cancel-move-quiz-btn','.delete-parallel-shortcut-tab-btn','fileShortcutTabs','mode-switcher-btn','Error\x20processing\x20file\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','memoryContent','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','size','transform','students','cancel-quiz-bank-btn','parts','strength-weakness-analysis-container','true_false','.subTopic','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','back-to-results-btn','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','รูปสแควร์รูท\x20(surd)','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','Error\x20processing\x20file\x20for\x20AI:','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','เกิดข้อผิดพลาดในการสร้างใบงาน','rgba(239,\x2068,\x2068,\x200.7)','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','check-presentation-answer-btn','จับคู่เพื่อเปรียบเทียบผล','numQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','clearRect','.duplicate-quiz-btn','\x20link(s)\x20for\x20quiz\x20ID:\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','modal-timer-duration-label','questionDisplayedAt','raw','answered','สถิติและความน่าจะเป็น','.file-shortcut-tab-btn','Error\x20saving\x20lesson\x20to\x20project:','width','analytics','file-topics-list','#FFFFFF','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','include-images-checkbox','update','default-','ฟังก์ชันยกกำลัง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','ผ่าน','PROMPT_PLACEHOLDER','.cancel-edit-topic-btn','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','delete-all-students-btn','confirm-join-game-btn','confirm-delete-btn','ระยะจากจุดถึงเส้นตรง','ตัวประกอบและตัวประกอบเฉพาะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','name','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-detail-view','link-input-area','lesson-view-title','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','underline','ดูผลสรุปสุดท้าย','scratchpad-clear-btn','project-detail','Error\x20updating\x20custom\x20topic:','export-leaderboard-word-btn','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','</div><div\x20class=\x22space-y-2\x22>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','contents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','sync-player-management','ไม่ใช่\x20/\x20ผิด','10YVqYtO','createdBy','สร้างคำถามแบบใช่/ไม่ใช่','teacherSuggestions','scratchpad-controls','สรุปผลการวิเคราะห์:\x5cn','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','quiz','</option>','scores-tab-content','-\x20ข้อ\x20','player-count','\x20\x20\x20-\x20','results','padStart','timer-duration-input','ฟังก์ชันผกผัน','\x22\x20data-topic=\x22','bp-modal-passing-score-input','beginPath','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','.generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutIds','lesson-loader','text-gray-200','has','ส่วนเบี่ยงเบนเฉลี่ย','touches','-tab','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','qType','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','textarea','topic-bank-list','พื้นที่วงกลม/ส่วนของวงกลม','pointermove','</p><p><strong>เฉลย:</strong>\x20','(ไม่มีชื่อ)','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','student-progress-view','text-blue-700\x20bg-blue-100','selectedTopicNames','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','pre-test','passingScore','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ทำคะแนนเต็มในการทำครั้งแรก','parallel-default-1','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโปรเจค:\x20','cloneNode','mjx-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','Error\x20during\x20class\x20analysis:','.verification-result-editor','$1\x5c%','submissions','live-player-management','fileShortcutsConfig','.isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','project-search-input','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','isRemedial','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','</tbody></table></div>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','.delete-custom-topic-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-400\x20text-white\x20font-bold','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกคำตอบของกลุ่ม','projectOrder','blueprint-input-area','targetId','blueprint-shortcut-container','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','draggable-text','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','project-dashboard-view','bank-input-area','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','fas\x20fa-star\x20text-yellow-500','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','<p\x20class=\x22','MathJax\x20re-render\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','temp-loader-results','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาใส่ชื่อใหม่','\x22>ใช่</p>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','.delete-hidden-parallel-shortcut-btn','text-red-600','mousedown','Failed\x20to\x20resume\x20game\x20session:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','740289gdyugH','bg-blue-500\x20hover:bg-blue-600\x20text-white','confirmation-modal','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','resultsDisplay','Error\x20displaying\x20question\x20bank:','export-pdf-modal','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','toString','.regenerate-question-editor-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำเตือน\x20(','.move-quiz-btn','parallel-test-input-area','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ai-quiz-app-aefee','generate-from-link-btn','.move-file-shortcut-item','flex','forEach','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','text-red-700\x20bg-red-100','answerText','start-live-race-generated-btn','localeCompare','ก่อนเรียน','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','save-bp-reference-btn','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','multiply','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','title','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','redo-btn','ร้อยละประยุกต์','reset-view-btn','export-leaderboard-image-btn','อสมการค่าสัมบูรณ์','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','create-project-btn','สมการยกกำลัง','\x20ข้อ\x20','ลบหัวข้อสำเร็จ','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','FileReader\x20error:','.bp-generate-lesson-btn','bank-quiz-search-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','save-visibility-settings-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','order','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','</th>','กรุณาวาง\x20URL\x20ของบทความก่อน','confirm-create-project-btn','applicationContent','pointerup','close-lesson-view-btn','27411472','manage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','splice','analytics-summary-cards','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','progress-project-select','\x27\x20ในหัวข้อ\x20\x27','ยืนยันการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','handleGenerateQuizFromBlueprintTopic','กรุณาใส่ชื่อโปรเจค','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','ไฟล์ลัด\x202','starred','Error\x20generating\x20easy\x20version\x20quiz:','results-table','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ความสัมพันธ์ของมุม','การนับ','blueprint-tab','API\x20Error\x20Response:','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','shuffle-setting-select','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','href','min','การลบเศษส่วน','.quiz-bank-item','per-question-timer-container','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','responseSchema','เกิดข้อผิดพลาดในการลบผลสอบ','close-topic-bank-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','กำลังจับคู่...','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','actions-container-','.bp-edit-topic-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','onload','data','#e21b3c','):\x20','ไม่มี','ตอบถูก\x203\x20ข้อติดต่อกัน','scratchpad-options','การปัดเศษและประมาณค่า','dataset','manual-bp-project-name','\x20|\x20ID:\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','อัตราส่วนและสัดส่วน','fixedData','fromCharCode','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','file-shortcut-id-input','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','Error\x20saving\x20file\x20shortcut:','lesson-plan-modal','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','opacity-50','transition-all','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','matching','questionType','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ไม่สามารถบันทึกการตั้งค่าได้','topic-input','duration-300','%PDF','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20','STRING','sync-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','BOOLEAN','\x20ตัวเลือก)','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','fill','ดีเทอร์มิแนนต์','game-start-quiz-id','create-project-modal','live-game','.color-palette-popup','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','webkitRequestFullscreen','bg-yellow-50','number','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidence-modal','behavior-log-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','เปิด\x20(จับเวลา)','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','text-gray-400\x20hover:text-indigo-600','confirm-team-players-btn','ความแปรปรวน','lesson-view-content','curriculum','lower_group_count','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','.bp-open-topic-bank-btn','.mb-6.p-4','เกิดข้อผิดพลาดในการบันทึกโปรเจค','text-green-600\x20font-bold','questions','text-gray-100','.open-bp-project-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','.verification-result','team','per-question-options','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','practice-topic-btn','lobby','การแจกแจงทวินาม\x20(พื้นฐาน)','กรุณาพิมพ์คำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','num-choices','tfrac','</span></div>','offsetWidth','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','```','สามเหลี่ยม\x20(ชนิด/สมบัติ)','export-lesson-to-pdf-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ปริพันธ์ไม่จำกัด','shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','file-tab','http://www.w3.org/2000/svg','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','เกิดข้อผิดพลาดในการส่งคำตอบ','student-progress','อุณหภูมิและการแปลง','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','replace','difficultyValue','รีเซ็ตลำดับโปรเจคแล้ว','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','left','open-quiz-bank-btn','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','Error\x20fetching\x20lesson\x20content:','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','p-2\x20bg-black/10\x20rounded-md','แก้ไขสูตรคณิตศาสตร์\x20','createObjectURL','เกิดข้อผิดพลาดในการเปลี่ยนสี','Invalid\x20response\x20structure\x20from\x20AI.','top','textContent','canvas','Failed\x20to\x20generate\x20lesson:',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','onkeydown','values','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','text-white','Error\x20opening\x20quiz\x20editor:','generationConfig','confident','export-excel-btn','touch','findIndex','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','กำลังสแกนหาแบบทดสอบเก่า...','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','analytics-tab-content','commonMistakes','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','file-input-area','passing-score-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','parseInline','pointerType','</div></div>','admin','Error\x20displaying\x20blueprint\x20project:','shuffle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','[data-topic-container-id]','manage-tab','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','mainTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','presentation-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','results_','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','tGain','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','cancel-quiz-edits-btn-footer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','warn','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','game-pin-input','cancel-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','bg-red-50','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','manual-blueprint-modal','MathJax\x20typeset\x20error\x20(analytics):','Error\x20duplicating\x20quiz:','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','settings','parallel-default-','Error\x20editing\x20topic:','.quiz-result-card','red','<div\x20class=\x22p-2\x20rounded-md\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','.edit-hidden-file-shortcut-btn','.doc','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','then','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','PERFECT_SCORE','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','querySelectorAll','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','className','grid','.png','text-red-900','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shouldSaveResults','ยอดเยี่ยม!','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','eraser-tool-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','passcode','loader-text',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','parallel-default-2','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','toDataURL','highlighter-tool-btn','สลับไปโหมดนักเรียน','style','isPasscodeEnabled','.bp-create-topic-quiz-btn','topics.','project-passcode-input','load-quiz-btn','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','pinned-items','บันทึกผลการเล่นเกมของ\x20','ความชันและเส้นตรง','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x20from\x20sync\x20game:','คะแนน','key','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','element','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','editor-quiz-topic','jspdf','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','position','map','generate-from-parallel-test-btn','<p\x20class=\x22font-bold\x20text-sm\x20','เรขาคณิตวิเคราะห์','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<br>','student-team-join',':</span><span>','submit-group-answer-btn','focus','dragover','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','floor','ตรวจคะแนนใหม่\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','addEventListener','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x20quizzes\x20into\x20global\x20cache.','.quiz-bank-settings-btn','msRequestFullscreen','player-list-lobby','sync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','contentEditable','pdf','onclick','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x22\x20value=\x22false\x22\x20','handleGenerateAndShowLesson','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','673990hYaZvu','additional-file-shortcuts-modal','overallGroups','projectId','ไม่พบข้อมูลเกม','behavior-log','#confidence-input-','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','fa-bolt\x20text-blue-500','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','การบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-id-display','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','ผิด','source_document.txt','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','lesson-loader-text','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','open-global-live-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','ownerSVGElement','ไม่สามารถสร้างโปรเจคได้','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','.use-hidden-shortcut-btn','quiz-type-select','body','next-drill-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','back-to-dashboard-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','.question-editor-item[data-q-index=\x22','start-quiz-btn','แก้ไขปุ่มลัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','confirm-confident','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','projectName','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','บันทึกการแก้ไข','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','moveTo','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','activeGameSession','confidence-scoring-toggle','การสร้างรูปด้วยวงเวียน–สันตรง','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','https://corsproxy.io/?','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','save-project-name-btn','contains','hasPerfectScoreBonus','stepByStepExamples','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','</td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','lineJoin','length','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','เรขาคณิต','Error\x20fetching\x20project\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','Unexpected\x20API\x20response\x20structure:','472HJldVn','quiz-editor-questions-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','getScreenCTM','export-lesson-pdf-btn','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','.shortcut-btn','#ffffff','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','true','ตั้งเวลา\x20(เปิด)','dataIndex','entries','confirm-quiz-settings-btn','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','หมดเวลาสำหรับข้อนี้!','Error\x20starting\x20live\x20race:','summary_chart','global-activity-quiz-list','shortcutId','บันทึกโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','podium','อนุพันธ์:\x20กฎลูกโซ่','answering','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div></div>','join','admin-dashboard','border-red-300\x20bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','prod','border-indigo-500\x20text-indigo-600','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','fix-lesson-latex-btn','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','getBoundingClientRect','ทำคะแนนได้เกินครึ่ง','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','verify-answers-editor-btn','cancel-rename-quiz-btn','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','bg-red-200\x20text-red-800','items','confirm-not-confident','\x22,\x20','originalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','block','.unpair-quiz-btn','match','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','/public/data/customMathTopics','loader','.generate-post-test-btn','random','frac','textarea[name=\x22team_answer\x22]','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','applicationHTML','close-lesson-plan-modal-footer-btn','-options','.pen-size-btn','\x20ครั้ง)</span></td>','difficulty-level-select','active','จำนวนข้อ:','text-blue-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','leaderboard-tab','$1\x20\x5cfrac','.project-card-content','move','leaderboard','getBBox','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','autoTable','fileShortcutOrder','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','separate-by-content-checkbox','COMEBACK_KING','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','274192258111','color','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','msExitFullscreen','isCorrect','keys','instructions','\x20คะแนน\x20','groups','#F3E8FF','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','.quiz-status-btn','จากเนื้อหาต่อไปนี้:\x20\x22','user-id-display','cancel-create-project-btn','pointer-events-none','การลบทศนิยม','Error\x20saving\x20shortcut:','กรุณาพิมพ์คำตอบของกลุ่ม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','เซียนสมองไว','mouseleave','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','undefined','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','presentation-explanation','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ondragover','generate-from-text-btn','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20grading\x20failed:','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','shortcutTabs','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','cancel-admin-login-btn','ถูกต้อง!','<div\x20id=\x22q-image-container-','bp-modal-shuffle-setting-select','clientY','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','checkbox','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','Error\x20showing\x20quiz\x20detail\x20view:','on_fire','indexOf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','</span></p>','\x20รายการสำเร็จ!','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','.kick-player-btn-sync','\x20mb-2\x22>','N/A','พื้นที่สามเหลี่ยม','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20รายการ...','.edit-custom-topic-btn','status','<button\x20id=\x22','student-view','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','lastAnswerCorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20blueprint\x20projects:','players','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preScore','รหัสไม่ถูกต้อง','admin-password-input','เกิดข้อผิดพลาดในการอัปเดต:\x20','confidenceMode','.file-topic-selection-btn','G-V90KRM0L63','</form>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','quiz-form','Invalid\x20response\x20structure\x20from\x20API.','ตัวแปรและนิพจน์','text-indigo-700','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','check-answer-btn','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','เกมสิ้นสุดลงแล้ว','NEGATIVE_INFINITY','student-team-selection-view','print','upper_group_count','Error\x20preparing\x20content\x20quiz:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','Error\x20starting\x20sync\x20game:','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','show_results_only','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','SAFETY','topic_','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','handleGeneratePracticeTest','ฟังก์ชันเชิงเส้นและกราฟ','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','ondrop','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-blueprint-projects-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','points','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x5csqrt{$1}','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','คุณแน่ใจว่าต้องการลบแท็บนี้?','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','slice','restore','appendChild','เกิดข้อผิดพลาด:\x20','results-quiz-title','per-q-countdown','ส่งคำตอบ','คัดลอกไม่สำเร็จ','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','reference_onet.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20moving\x20quiz:','isStarred','กรุณาป้อนรหัสแบบทดสอบ','ai-quiz-generator-v3','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','question-complexity-select','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','answer','blueprint-project-manager-view','data:application/vnd.ms-word;charset=utf-8,','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','deg','bg-green-100\x20font-bold','\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','confirm-passcode-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','join-group-activity-btn','live-short-answer-input','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'];_0x7460=function(){return _0x804e4f;};return _0x7460();}function handleDeselectAllTopics(){const _0x4ab9ff=_0x4e7cd8,_0x319c14=document[_0x4ab9ff(0x1c2)]('math-topics-checkbox-container'),_0x141963=_0x319c14['querySelectorAll'](_0x4ab9ff(0x5f0));_0x141963['forEach'](_0x362ef2=>{const _0x1f06f7=_0x4ab9ff;_0x362ef2[_0x1f06f7(0x564)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x12b43f){const _0x3b3f02=_0x4e7cd8;if(!_0x12b43f)return;try{const _0x54399f=doc(db,_0x3b3f02(0xbc5)+appId+_0x3b3f02(0xad5),_0x12b43f);await deleteDoc(_0x54399f),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x18a9f8){console[_0x3b3f02(0x2da)](_0x3b3f02(0x314),_0x18a9f8),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x462a70=_0x4e7cd8,_0x2f8ed3=document[_0x462a70(0x1c2)](_0x462a70(0x158)),_0x50bb5e=_0x2f8ed3[_0x462a70(0x9f1)][_0x462a70(0x492)]();if(!_0x50bb5e){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x462a70(0x440));return;}try{const _0x3f4f4e=collection(db,_0x462a70(0xbc5)+appId+_0x462a70(0xad5));await addDoc(_0x3f4f4e,{'name':_0x50bb5e,'createdAt':serverTimestamp()}),_0x2f8ed3['value']='',showMessage(_0x462a70(0x426)+_0x50bb5e+_0x462a70(0x6eb));}catch(_0x2e43d1){console[_0x462a70(0x2da)]('Error\x20adding\x20custom\x20topic:',_0x2e43d1),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x295d29=_0x4e7cd8;showConfirmation(_0x295d29(0x88d),async()=>{const _0x35f8e1=_0x295d29,_0x2568dc=document[_0x35f8e1(0x1c2)](_0x35f8e1(0xad6)),_0x186f4c=document[_0x35f8e1(0x1c2)](_0x35f8e1(0xa09)),_0x13f367=_0x186f4c[_0x35f8e1(0x9a1)];_0x2568dc[_0x35f8e1(0x12e)]['remove']('hidden'),_0x186f4c['textContent']=_0x35f8e1(0x9b0);try{const _0x31a70b=collection(db,_0x35f8e1(0xbc5)+appId+_0x35f8e1(0x5e2)),_0x1a9537=await getDocs(_0x31a70b);if(_0x1a9537[_0x35f8e1(0x25c)]){showMessage(_0x35f8e1(0x49a));return;}const _0x11b2ab=writeBatch(db);let _0x559e07=0x0;_0x1a9537[_0x35f8e1(0x8ca)](_0x4a7ab2=>{const _0x45fa97=_0x35f8e1,_0x1d8df5=_0x4a7ab2[_0x45fa97(0x921)](),_0x3219cf=_0x4a7ab2['id'];if(_0x1d8df5[_0x45fa97(0x966)]&&_0x1d8df5['questions'][_0x45fa97(0xa90)]>0x0&&!_0x1d8df5[_0x45fa97(0x966)][0x0][_0x45fa97(0x3e5)]('id')){console['log'](_0x45fa97(0xb90)+_0x3219cf+'\x20('+_0x1d8df5['topic']+')'),_0x559e07++;const _0x1956bc=_0x1d8df5[_0x45fa97(0x966)][_0x45fa97(0xa26)]((_0x5e8cc7,_0x4fe3a3)=>{const _0x55a61d=_0x45fa97;return{..._0x5e8cc7,'id':_0x5e8cc7['id']||'q_'+Date[_0x55a61d(0x6d6)]()+'_'+_0x3219cf+'_'+_0x4fe3a3};}),_0x403176=doc(db,_0x45fa97(0xbc5)+appId+'/public/data/quizzes',_0x3219cf);_0x11b2ab[_0x45fa97(0x81a)](_0x403176,{'questions':_0x1956bc});}}),_0x559e07>0x0?(_0x186f4c[_0x35f8e1(0x9a1)]=_0x35f8e1(0x275)+_0x559e07+_0x35f8e1(0xb35),await _0x11b2ab[_0x35f8e1(0xc9b)](),showMessage(_0x35f8e1(0x68e)+_0x559e07+_0x35f8e1(0xb2a))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x3ca3ab){console['error'](_0x35f8e1(0x5c7),_0x3ca3ab),showMessage(_0x35f8e1(0xb47)+_0x3ca3ab[_0x35f8e1(0x516)]);}finally{_0x2568dc[_0x35f8e1(0x12e)][_0x35f8e1(0x7d7)](_0x35f8e1(0x30a)),_0x186f4c[_0x35f8e1(0x9a1)]=_0x13f367;}});}async function handleBulkUpdateQuizSettings(){const _0x2ba874=_0x4e7cd8,_0x40efeb={'shuffle':document[_0x2ba874(0x1c2)]('bulk-shuffle-select')[_0x2ba874(0x9f1)],'resultsDisplay':document[_0x2ba874(0x1c2)]('bulk-results-display-select')[_0x2ba874(0x9f1)],'loopUntilPass':document[_0x2ba874(0x1c2)]('bulk-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x2ba874(0x1c2)](_0x2ba874(0x295))['checked'],'confidenceMode':document['getElementById'](_0x2ba874(0x6b1))[_0x2ba874(0x9f1)]};try{showMessage(_0x2ba874(0x632));const _0x3bddb8=await getDocs(collection(db,_0x2ba874(0xbc5)+appId+_0x2ba874(0x5e2))),_0x324622=_0x3bddb8[_0x2ba874(0x378)][_0x2ba874(0xa26)](_0x57eaf9=>({'id':_0x57eaf9['id'],'data':_0x57eaf9[_0x2ba874(0x921)]()})),_0x14cbaa=_0x324622[_0x2ba874(0xa90)];showConfirmation(_0x2ba874(0x4ad)+_0x14cbaa+_0x2ba874(0xbc2),async()=>{const _0x40b2b1=_0x2ba874,_0x2d8139=document['getElementById'](_0x40b2b1(0x3d0));_0x2d8139[_0x40b2b1(0x78a)]=!![],_0x2d8139['innerHTML']=_0x40b2b1(0x617);try{const _0x1ccd3c=writeBatch(db);_0x324622['forEach'](_0xbd1fae=>{const _0x14b300=_0x40b2b1,_0x23f48d=doc(db,_0x14b300(0xbc5)+appId+_0x14b300(0x5e2),_0xbd1fae['id']),_0x4c3679={..._0xbd1fae[_0x14b300(0x921)][_0x14b300(0x9e2)]||{},..._0x40efeb};_0x1ccd3c[_0x14b300(0x81a)](_0x23f48d,{'settings':_0x4c3679});}),await _0x1ccd3c[_0x40b2b1(0xc9b)](),document[_0x40b2b1(0x1c2)]('bulk-quiz-settings-modal')['classList'][_0x40b2b1(0x7d7)](_0x40b2b1(0x30a)),showMessage(_0x40b2b1(0x317)+_0x14cbaa+_0x40b2b1(0x710));}catch(_0x4a8a8d){console['error'](_0x40b2b1(0x6ed),_0x4a8a8d),showMessage(_0x40b2b1(0x91b));}finally{_0x2d8139[_0x40b2b1(0x78a)]=![],_0x2d8139['innerHTML']=_0x40b2b1(0x24b);}});}catch(_0x472ad3){console[_0x2ba874(0x2da)](_0x2ba874(0x118),_0x472ad3),showMessage(_0x2ba874(0x75b));}}async function handleSaveProjectName(){const _0x3b6f9d=_0x4e7cd8,_0x2bd9d5=document['getElementById']('project-title'),_0x5051b8=document[_0x3b6f9d(0x1c2)](_0x3b6f9d(0xa83)),_0x49b6ce=_0x2bd9d5[_0x3b6f9d(0x9a1)][_0x3b6f9d(0x492)]();if(!_0x49b6ce||!currentProjectId){showMessage(_0x3b6f9d(0xcb9)),_0x2bd9d5[_0x3b6f9d(0x9a1)]=currentProjectData[_0x3b6f9d(0xa74)];return;}_0x5051b8['disabled']=!![],_0x5051b8[_0x3b6f9d(0x3e3)]=_0x3b6f9d(0xb89);try{const _0x4843a7=doc(db,_0x3b6f9d(0xbc5)+appId+_0x3b6f9d(0x6e3),currentProjectId);await updateDoc(_0x4843a7,{'projectName':_0x49b6ce}),currentProjectData&&(currentProjectData[_0x3b6f9d(0xa74)]=_0x49b6ce),showMessage(_0x3b6f9d(0xc98));}catch(_0x37bb82){console[_0x3b6f9d(0x2da)](_0x3b6f9d(0x625),_0x37bb82),showMessage(_0x3b6f9d(0x227)),_0x2bd9d5[_0x3b6f9d(0x9a1)]=currentProjectData['projectName'];}finally{_0x5051b8['classList'][_0x3b6f9d(0x7d7)]('hidden'),_0x5051b8[_0x3b6f9d(0x78a)]=![],_0x5051b8[_0x3b6f9d(0x3e3)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x267787,_0x31facd){const _0x59b29e=_0x4e7cd8,_0x15b594=document[_0x59b29e(0x1c2)](_0x59b29e(0x418)),_0x24ffc5=document[_0x59b29e(0x1c2)](_0x59b29e(0x830)),_0x5ad727=document['getElementById'](_0x59b29e(0x859)),_0x99a654=document[_0x59b29e(0x1c2)](_0x59b29e(0x204));_0x24ffc5[_0x59b29e(0x9a1)]='กำลังสร้างแบบทดสอบ:\x20'+_0x267787,_0x99a654[_0x59b29e(0x12e)][_0x59b29e(0x7d7)](_0x59b29e(0x30a)),_0x5ad727[_0x59b29e(0x12e)]['remove'](_0x59b29e(0x30a)),_0x15b594[_0x59b29e(0x12e)][_0x59b29e(0x1f9)](_0x59b29e(0x30a)),generatePracticeTest(_0x267787,_0x31facd)[_0x59b29e(0xba5)](_0x129494=>{const _0x2a3266=_0x59b29e;console[_0x2a3266(0x2da)]('Failed\x20to\x20generate\x20practice\x20test:',_0x129494),showMessage(_0x2a3266(0x8ed)),_0x15b594[_0x2a3266(0x12e)]['add'](_0x2a3266(0x30a));});}async function generatePracticeTest(_0x16a553,_0x5cbb30){const _0x466c30=_0x4e7cd8;[_0x466c30(0x33b),_0x466c30(0x7ec),_0x466c30(0x8f1),_0x466c30(0xcc2)][_0x466c30(0x8ca)](_0x4dd3e6=>{const _0xef61d8=_0x466c30,_0x2c4ce6=document[_0xef61d8(0x1c2)](_0x4dd3e6)[_0xef61d8(0x13f)];_0x2c4ce6&&(_0x2c4ce6[_0xef61d8(0xa10)][_0xef61d8(0x28f)]=_0xef61d8(0xba0));});try{const _0x5c8483=_0x466c30(0x50a),_0x18ba4c=_0x466c30(0xbee)+_0x5cbb30+_0x466c30(0x8fc)+_0x16a553+_0x466c30(0x635),_0x5d8f74=await callGemini(_0x18ba4c,!![]),_0x4b819b=document[_0x466c30(0x1c2)]('lesson-view-title'),_0x589a59=document[_0x466c30(0x1c2)](_0x466c30(0x859)),_0x4b5ecc=document[_0x466c30(0x1c2)](_0x466c30(0x204)),_0x2ee705=document['getElementById']('applicationContent')[_0x466c30(0x13f)];_0x4b819b[_0x466c30(0x1cd)]=_0x466c30(0x402)+_0x16a553[_0x466c30(0x98e)](/•\s/g,'')+_0x466c30(0x29f)+_0x5cbb30+')',currentApplicationData=JSON[_0x466c30(0x281)](_0x5d8f74);const _0xd4776e=document[_0x466c30(0x1c2)]('applicationContent');_0xd4776e[_0x466c30(0x3e3)]=currentApplicationData[_0x466c30(0xa26)]((_0x4a4021,_0x1b80ea)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x1b80ea+0x1)+'.\x20'+marked[_0x466c30(0x9bb)](_0x4a4021[_0x466c30(0x3cb)])+_0x466c30(0xa93)+_0x1b80ea+_0x466c30(0x8b7)+_0x4a4021[_0x466c30(0x4d1)][_0x466c30(0xa26)]((_0x5909da,_0x1a94d7)=>_0x466c30(0x627)+_0x1b80ea+',\x20'+_0x1a94d7+_0x466c30(0x300)+String[_0x466c30(0x92e)](0x61+_0x1a94d7)+'.\x20'+marked[_0x466c30(0x9bb)](_0x5909da)+_0x466c30(0x683))[_0x466c30(0xab6)]('')+_0x466c30(0xbb8))[_0x466c30(0xab6)](''),window[_0x466c30(0x196)]&&MathJax[_0x466c30(0x7ca)]([_0xd4776e]),_0x2ee705&&(_0x2ee705[_0x466c30(0xa10)][_0x466c30(0x28f)]=_0x466c30(0xad0)),_0x589a59[_0x466c30(0x12e)][_0x466c30(0x7d7)](_0x466c30(0x30a)),_0x4b5ecc[_0x466c30(0x12e)]['remove'](_0x466c30(0x30a));}catch(_0x1d972e){console[_0x466c30(0x2da)](_0x1d972e);throw _0x1d972e;}}async function callGemini(_0x4721d0,_0x23a833=![]){const _0x46fb39=_0x4e7cd8,_0xec5c40=_0x46fb39(0x65d),_0x35c80a='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0xec5c40,_0x30e9a5={'contents':[{'parts':[{'text':_0x4721d0}]}]};_0x23a833&&(_0x30e9a5[_0x46fb39(0x9aa)]={'responseMimeType':_0x46fb39(0xc23)},_0x4721d0[_0x46fb39(0x4c2)](_0x46fb39(0x34b))?_0x30e9a5[_0x46fb39(0x9aa)][_0x46fb39(0x916)]={'type':_0x46fb39(0x469),'properties':{'gradeLevel':{'type':_0x46fb39(0x942)},'curriculum':{'type':_0x46fb39(0x6ae),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x46fb39(0x942)},'mainTopics':{'type':_0x46fb39(0x6ae),'items':{'type':_0x46fb39(0x469),'properties':{'topicName':{'type':_0x46fb39(0x942)},'subTopics':{'type':_0x46fb39(0x6ae),'items':{'type':'STRING'}}},'required':[_0x46fb39(0x324),_0x46fb39(0x1e8)]}}},'required':[_0x46fb39(0x14d),_0x46fb39(0x9c6)]}}},'required':[_0x46fb39(0x3e2),_0x46fb39(0x95f)]}:_0x30e9a5[_0x46fb39(0x9aa)][_0x46fb39(0x916)]={'type':_0x46fb39(0x6ae),'items':{'type':_0x46fb39(0x469),'properties':{'question':{'type':_0x46fb39(0x942)},'options':{'type':_0x46fb39(0x6ae),'items':{'type':_0x46fb39(0x942)}},'answer':{'type':_0x46fb39(0x78d)}},'required':[_0x46fb39(0x3cb),'options',_0x46fb39(0xb8c)]}});try{const _0x567fc8=await fetch(_0x35c80a,{'method':_0x46fb39(0xc5a),'headers':{'Content-Type':_0x46fb39(0xc23)},'body':JSON['stringify'](_0x30e9a5)});if(!_0x567fc8['ok']){const _0x2c9477=await _0x567fc8[_0x46fb39(0x4d7)]();console[_0x46fb39(0x2da)](_0x46fb39(0x5ae),_0x2c9477);throw new Error(_0x46fb39(0x225)+_0x567fc8['status']);}const _0x415795=await _0x567fc8[_0x46fb39(0x2cc)]();if(_0x415795['candidates']&&_0x415795['candidates'][0x0][_0x46fb39(0x529)]&&_0x415795[_0x46fb39(0x719)][0x0][_0x46fb39(0x529)][_0x46fb39(0x7f2)][0x0])return _0x415795[_0x46fb39(0x719)][0x0][_0x46fb39(0x529)][_0x46fb39(0x7f2)][0x0]['text'];else{console[_0x46fb39(0x2da)](_0x46fb39(0xa97),_0x415795);if(_0x415795[_0x46fb39(0x719)]&&_0x415795[_0x46fb39(0x719)][0x0][_0x46fb39(0x77a)]===_0x46fb39(0xb65))return JSON[_0x46fb39(0x462)]({'error':_0x46fb39(0x948)});throw new Error(_0x46fb39(0xb4e));}}catch(_0x228335){console[_0x46fb39(0x2da)](_0x46fb39(0x169),_0x228335);throw _0x228335;}}async function generateLesson(_0xfcd853=null,_0x2a9939=null){const _0x8c7de=_0x4e7cd8,_0x3ec21a=_0xfcd853,_0x50e24f=_0x2a9939||_0x8c7de(0x3cf),_0x3be6c1=document['getElementById'](_0x8c7de(0x859)),_0x151973=document[_0x8c7de(0x1c2)](_0x8c7de(0xa5d));_0x151973['textContent']='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x3ec21a+'\x22...';try{let _0x413c55=[];const _0x250997=document[_0x8c7de(0x1c2)]('bp-reference-file-url')?.['value'][_0x8c7de(0x492)]();if(_0x250997)try{_0x151973[_0x8c7de(0x9a1)]=_0x8c7de(0x940);const _0x1d661e=await fetchFileFromUrl(_0x250997,_0x8c7de(0xb83)),_0x30dba8=await new Promise((_0x358844,_0x3c16dc)=>{const _0x202bce=_0x8c7de,_0x1f1d98=new FileReader();_0x1f1d98[_0x202bce(0x515)](_0x1d661e),_0x1f1d98['onload']=()=>_0x358844(_0x1f1d98[_0x202bce(0x261)][_0x202bce(0x671)](',')[0x1]),_0x1f1d98[_0x202bce(0x311)]=_0x3c16dc;});_0x413c55[_0x8c7de(0x6d9)]({'inlineData':{'mimeType':_0x1d661e[_0x8c7de(0x248)],'data':_0x30dba8}});}catch(_0x47fe94){console[_0x8c7de(0x2da)](_0x8c7de(0x722),_0x47fe94),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ');}const _0x1d81c5=_0x8c7de(0x56b)+_0x3ec21a+_0x8c7de(0x583)+_0x3ec21a+_0x8c7de(0x755);_0x151973[_0x8c7de(0x9a1)]=_0x8c7de(0x2c6)+_0x3ec21a+_0x8c7de(0x2b7);const _0x43f077='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x50e24f+'\x27\x20ในหัวข้อ\x20\x27'+_0x3ec21a+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x1d81c5+_0x8c7de(0xa00),_0x4b8614=_0x8c7de(0xbc9)+_0x3ec21a+_0x8c7de(0x391)+_0x50e24f+_0x8c7de(0x3f0)+_0x1d81c5+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0xae99e6=_0x8c7de(0xbee)+_0x50e24f+_0x8c7de(0x8fc)+_0x3ec21a+_0x8c7de(0xacf)+_0x1d81c5+_0x8c7de(0xbd8),_0x5089fe=_0x8c7de(0x26e)+_0x3ec21a+_0x8c7de(0x278)+_0x50e24f+_0x8c7de(0x7de)+_0x1d81c5+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x379a42={'type':_0x8c7de(0x6ae),'items':{'type':_0x8c7de(0x469),'properties':{'question':{'type':_0x8c7de(0x942)},'options':{'type':'ARRAY','items':{'type':_0x8c7de(0x942)}},'answer':{'type':'NUMBER'}},'required':[_0x8c7de(0x3cb),'options',_0x8c7de(0xb8c)]}},[_0x15d26e,_0xade6f6,_0x28e8b2,_0x4360a5]=await Promise['all']([handleApiCall([{'text':_0x43f077},..._0x413c55],_0x8c7de(0x381),null,null,![]),handleApiCall([{'text':_0x4b8614},..._0x413c55],'...',null,null,![]),handleApiCall([{'text':_0xae99e6},..._0x413c55],_0x8c7de(0x381),_0x379a42,null,![]),handleApiCall([{'text':_0x5089fe},..._0x413c55],_0x8c7de(0x381),null,null,![])]),_0x42d277=JSON[_0x8c7de(0x462)](_0x28e8b2||[]),_0x104c34=document['getElementById'](_0x8c7de(0x830)),_0x2c0d5c=document[_0x8c7de(0x1c2)]('lesson-sections-container');_0x104c34[_0x8c7de(0x1cd)]=_0x8c7de(0x5fd)+_0x3ec21a[_0x8c7de(0x98e)](/•\\s/g,'')+_0x8c7de(0x29f)+_0x50e24f+')',[_0x8c7de(0x33b),_0x8c7de(0x7ec),'summaryContent']['forEach'](_0x4ca8fe=>{const _0xfa6d7d=_0x8c7de;document[_0xfa6d7d(0x1c2)](_0x4ca8fe)['innerHTML']='';}),document['getElementById'](_0x8c7de(0x33b))[_0x8c7de(0x3e3)]=_0x15d26e?marked[_0x8c7de(0x281)](_0x15d26e):_0x8c7de(0xc59),document[_0x8c7de(0x1c2)](_0x8c7de(0x7ec))[_0x8c7de(0x3e3)]=_0xade6f6?marked['parse'](_0xade6f6):_0x8c7de(0xc59),document['getElementById'](_0x8c7de(0xcc2))['innerHTML']=_0x4360a5?marked[_0x8c7de(0x281)](_0x4360a5):_0x8c7de(0xc59),currentApplicationData=JSON['parse'](_0x42d277);const _0x1455f4=document[_0x8c7de(0x1c2)](_0x8c7de(0x8f1));_0x1455f4[_0x8c7de(0x3e3)]=(currentApplicationData||[])[_0x8c7de(0xa26)]((_0x4a4ff2,_0x11973f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x11973f+0x1)+'.\x20'+marked['parseInline'](_0x4a4ff2[_0x8c7de(0x3cb)]||'')+_0x8c7de(0xa93)+_0x11973f+_0x8c7de(0x8b7)+(_0x4a4ff2[_0x8c7de(0x4d1)]||[])[_0x8c7de(0xa26)]((_0x49bbed,_0x5167e9)=>_0x8c7de(0x627)+_0x11973f+',\x20'+_0x5167e9+')\x22>'+String[_0x8c7de(0x92e)](0x61+_0x5167e9)+'.\x20'+marked['parseInline'](_0x49bbed||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x8c7de(0xab6)]('')+_0x8c7de(0xbb8))['join']('')||_0x8c7de(0x1d5),window[_0x8c7de(0x196)]&&MathJax[_0x8c7de(0x7ca)]([_0x2c0d5c]),_0x3be6c1[_0x8c7de(0x12e)]['add'](_0x8c7de(0x30a)),_0x2c0d5c['classList'][_0x8c7de(0x1f9)](_0x8c7de(0x30a));}catch(_0xd7720){console[_0x8c7de(0x2da)](_0xd7720);throw _0xd7720;}}function checkAnswer(_0x31517f,_0x512d8e){const _0x56f856=_0x4e7cd8,_0x3d5b15=currentApplicationData[_0x31517f],_0x1bcb52=document['getElementById']('q'+_0x31517f+_0x56f856(0xade)),_0x340c53=_0x1bcb52['getElementsByTagName'](_0x56f856(0x397));for(let _0x29da5e of _0x340c53){_0x29da5e[_0x56f856(0x78a)]=!![];}_0x512d8e===_0x3d5b15[_0x56f856(0xb8c)]?_0x340c53[_0x512d8e][_0x56f856(0x12e)][_0x56f856(0x7d7)](_0x56f856(0x25f)):(_0x340c53[_0x512d8e][_0x56f856(0x12e)][_0x56f856(0x7d7)](_0x56f856(0xcae)),_0x340c53[_0x3d5b15[_0x56f856(0xb8c)]][_0x56f856(0x12e)][_0x56f856(0x7d7)](_0x56f856(0x25f)));}window[_0x4e7cd8(0xa45)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x4e7cd8(0xb68)]=handleGeneratePracticeTest,window[_0x4e7cd8(0x8ff)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x30d452=_0x4e7cd8;try{const _0xb6ddcc=initializeApp(firebaseConfig);db=getFirestore(_0xb6ddcc),auth=getAuth(_0xb6ddcc),setupAuthListener(),setupEventListeners(),showView(_0x30d452(0x39a)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x3e7854){console[_0x30d452(0x2da)](_0x30d452(0x603),_0x3e7854),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0xd6f243=_0x4e7cd8,_0x4307b0=document[_0xd6f243(0x1c2)](_0xd6f243(0x315));if(!_0x4307b0)return;const _0x212030=document[_0xd6f243(0x1c2)]('verify-answers-editor-btn');_0x212030[_0xd6f243(0x78a)]=!![],_0x212030['innerHTML']=_0xd6f243(0x269);try{const _0x182145=_0x4307b0['querySelectorAll'](_0xd6f243(0x11d)),_0x3ef546=Array['from'](_0x182145)['map']((_0x8699a6,_0x379202)=>{const _0x3cc322=_0xd6f243,_0x2ea193=_0x8699a6['dataset']['qType'],_0x9fe789=_0x8699a6[_0x3cc322(0x8b9)]('textarea')[_0x3cc322(0x9f1)];let _0x4b431b=null,_0x4049e9='';switch(_0x2ea193){case _0x3cc322(0x4bb):const _0x54d6a9=_0x8699a6[_0x3cc322(0x9f4)]('input[type=\x22text\x22]');_0x4b431b=Array[_0x3cc322(0x1c7)](_0x54d6a9)['map'](_0x33034e=>_0x33034e[_0x3cc322(0x9f1)]);const _0x3b198d=_0x8699a6[_0x3cc322(0x8b9)](_0x3cc322(0x3db));_0x3b198d&&(_0x4049e9=_0x4b431b[parseInt(_0x3b198d[_0x3cc322(0x9f1)])]);break;case _0x3cc322(0xc3f):_0x4049e9=_0x8699a6['querySelector']('.ideal-answer-input')[_0x3cc322(0x9f1)];break;case'true_false':const _0x5272ac=_0x8699a6[_0x3cc322(0x8b9)](_0x3cc322(0x3db));_0x4049e9=_0x5272ac?_0x5272ac[_0x3cc322(0x9f1)]:'';break;case'matching_item':_0x4049e9=_0x8699a6[_0x3cc322(0x8b9)]('.correct-response-input')[_0x3cc322(0x9f1)];break;}return{'question':_0x9fe789,'options':_0x4b431b,'proposedAnswer':_0x4049e9};}),_0x2cbf0b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x3ef546)+_0xd6f243(0x718),_0x2ebb55={'type':_0xd6f243(0x6ae),'items':{'type':_0xd6f243(0x469),'properties':{'questionIndex':{'type':_0xd6f243(0x78d)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0xd6f243(0x942)},'suggestedAnswer':{'type':_0xd6f243(0x942)}},'required':[_0xd6f243(0x168),_0xd6f243(0xaf8),_0xd6f243(0x3b3)]}},_0x2bd4d4=await callAnalysisApi(_0x2cbf0b,{'type':'OBJECT','properties':{'result':_0x2ebb55},'required':[_0xd6f243(0x261)]});displayVerificationResultsInEditor(_0x2bd4d4[_0xd6f243(0x261)]);}catch(_0x4252c){console[_0xd6f243(0x2da)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x4252c),showMessage(_0xd6f243(0x49d));}finally{_0x212030[_0xd6f243(0x78a)]=![],_0x212030[_0xd6f243(0x3e3)]=_0xd6f243(0x326);}}function displayVerificationResultsInEditor(_0x334d6b){const _0x323200=_0x4e7cd8;_0x334d6b[_0x323200(0x8ca)](_0x4f0234=>{const _0x11ee3a=_0x323200,_0x49cddb=document[_0x11ee3a(0x8b9)](_0x11ee3a(0xa6d)+_0x4f0234['questionIndex']+'\x22]');if(!_0x49cddb)return;const _0x76a1ca=_0x49cddb[_0x11ee3a(0x8b9)](_0x11ee3a(0x880));if(_0x76a1ca)_0x76a1ca[_0x11ee3a(0x1f9)]();let _0x2b5ff3='';if(_0x4f0234[_0x11ee3a(0xaf8)])_0x2b5ff3=_0x11ee3a(0x9d2);else{const _0x2305c2=_0x4f0234[_0x11ee3a(0x596)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x2b5ff3=_0x11ee3a(0x157)+_0x2305c2+_0x11ee3a(0x4a1)+_0x4f0234[_0x11ee3a(0x3b3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4f0234[_0x11ee3a(0x596)]?_0x11ee3a(0x620)+_0x4f0234[_0x11ee3a(0x596)]+_0x11ee3a(0x35e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x49cddb[_0x11ee3a(0x249)]('beforeend',_0x2b5ff3);if(!_0x4f0234[_0x11ee3a(0xaf8)]&&_0x4f0234[_0x11ee3a(0x596)]){const _0x22e026=_0x49cddb[_0x11ee3a(0x928)][_0x11ee3a(0x861)],_0xb73715=_0x54c42c=>{const _0x39d79a=_0x11ee3a;if(!_0x54c42c)return;_0x54c42c[_0x39d79a(0x12e)][_0x39d79a(0x7d7)](_0x39d79a(0x41e),_0x39d79a(0x937),_0x39d79a(0x93e)),setTimeout(()=>{const _0x5b7b00=_0x39d79a;_0x54c42c[_0x5b7b00(0x12e)][_0x5b7b00(0x1f9)]('bg-green-200');},0x9c4);};if(_0x22e026===_0x11ee3a(0x4bb)){const _0x3439d2=Array[_0x11ee3a(0x1c7)](_0x49cddb['querySelectorAll']('input[type=\x22text\x22]')),_0x48230f=_0x3439d2['findIndex'](_0x2b5097=>_0x2b5097['value'][_0x11ee3a(0x492)]()['toLowerCase']()===_0x4f0234[_0x11ee3a(0x596)][_0x11ee3a(0x492)]()[_0x11ee3a(0x7a9)]());if(_0x48230f!==-0x1){const _0x34c68c=_0x49cddb['querySelector'](_0x11ee3a(0x598)+_0x48230f+'\x22]');_0x34c68c&&(_0x34c68c['checked']=!![],_0xb73715(_0x34c68c[_0x11ee3a(0xbdf)]('div')));}}else{if(_0x22e026===_0x11ee3a(0xc3f)||_0x22e026===_0x11ee3a(0x220)){const _0x567a36=_0x49cddb['querySelector'](_0x11ee3a(0x282));_0x567a36&&(_0x567a36[_0x11ee3a(0x9f1)]=_0x4f0234[_0x11ee3a(0x596)],_0xb73715(_0x567a36));}else{if(_0x22e026===_0x11ee3a(0x7f4)){const _0x1028fc=_0x4f0234['suggestedAnswer'][_0x11ee3a(0x492)]()['toLowerCase'](),_0x2e4179=_0x49cddb['querySelector'](_0x11ee3a(0x598)+_0x1028fc+'\x22]');_0x2e4179&&(_0x2e4179[_0x11ee3a(0x564)]=!![],_0xb73715(_0x2e4179[_0x11ee3a(0xbdf)](_0x11ee3a(0x691))));}}}}}),showMessage(_0x323200(0x186));}async function handleVerifyAnswers(){const _0x47631c=_0x4e7cd8;if(!currentQuizData||!currentQuizData[_0x47631c(0x966)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x22b6a5=document[_0x47631c(0x1c2)](_0x47631c(0x52d));_0x22b6a5[_0x47631c(0x78a)]=!![],_0x22b6a5[_0x47631c(0x3e3)]=_0x47631c(0x269);try{const _0x1b4a90=currentQuizData[_0x47631c(0x966)]['map']((_0x4327d7,_0x3ac633)=>{const _0x31718f=_0x47631c;let _0x5988ec='';const _0x424f7b=_0x4327d7['questionType']||currentQuizData[_0x31718f(0x769)];switch(_0x424f7b){case _0x31718f(0x4bb):_0x5988ec=_0x4327d7['options'][_0x4327d7[_0x31718f(0xcab)]];break;case _0x31718f(0xc3f):_0x5988ec=_0x4327d7[_0x31718f(0x493)];break;case _0x31718f(0x7f4):_0x5988ec=_0x4327d7[_0x31718f(0x209)][_0x31718f(0x8bf)]();break;case _0x31718f(0x220):_0x5988ec=_0x4327d7['correctResponse'];break;}return{'question':_0x4327d7['stem']||_0x4327d7[_0x31718f(0x2b3)],'options':_0x4327d7[_0x31718f(0x4d1)]||null,'proposedAnswer':_0x5988ec};}),_0x4342af=_0x47631c(0x76e)+JSON[_0x47631c(0x462)](_0x1b4a90)+_0x47631c(0x644),_0x326af7={'type':_0x47631c(0x6ae),'items':{'type':_0x47631c(0x469),'properties':{'questionIndex':{'type':_0x47631c(0x78d)},'isCorrect':{'type':_0x47631c(0x945)},'justification':{'type':_0x47631c(0x942)},'suggestedAnswer':{'type':_0x47631c(0x942)}},'required':['questionIndex',_0x47631c(0xaf8),_0x47631c(0x3b3)]}},_0x18b0d8=await callAnalysisApi(_0x4342af,{'type':_0x47631c(0x469),'properties':{'result':_0x326af7},'required':['result']});displayVerificationResults(_0x18b0d8[_0x47631c(0x261)]);}catch(_0x3d2570){console[_0x47631c(0x2da)]('Error\x20verifying\x20answers:',_0x3d2570),showMessage(_0x47631c(0x49d));}finally{_0x22b6a5['disabled']=![],_0x22b6a5['innerHTML']=_0x47631c(0xb17);}}function displayVerificationResults(_0x4e97ad){const _0x488b80=_0x4e7cd8;_0x4e97ad[_0x488b80(0x8ca)](_0x20f299=>{const _0x341faa=_0x488b80,_0x3a60d8=document[_0x341faa(0x8b9)](_0x341faa(0x38f)+_0x20f299[_0x341faa(0x168)]+'\x22]');if(_0x3a60d8){const _0x5b3fce=_0x3a60d8[_0x341faa(0x8b9)](_0x341faa(0x96b));if(_0x5b3fce)_0x5b3fce[_0x341faa(0x1f9)]();let _0x39641e='';_0x20f299[_0x341faa(0xaf8)]?_0x39641e=_0x341faa(0x22b):_0x39641e=_0x341faa(0x287)+_0x20f299[_0x341faa(0x3b3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x20f299['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x20f299[_0x341faa(0x596)]+_0x341faa(0x35e):'')+_0x341faa(0xb2c),_0x3a60d8[_0x341faa(0x249)](_0x341faa(0x5f6),_0x39641e);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x4543a6,_0x4f39c1){const _0x311faa=_0x4e7cd8,_0x4f8c6b=String(_0x4543a6)[_0x311faa(0x98e)](',','.')['replace'](/[^\d.-]/g,'')[_0x311faa(0x492)](),_0x47f1a8=String(_0x4f39c1)['replace'](',','.')[_0x311faa(0x98e)](/[^\d.-]/g,'')['trim']();if(_0x4f8c6b===''||_0x47f1a8==='')return![];const _0x45c1d5=parseFloat(_0x4f8c6b),_0x1fca01=parseFloat(_0x47f1a8);if(isNaN(_0x45c1d5)||isNaN(_0x1fca01))return![];return Math[_0x311faa(0x35a)](_0x45c1d5-_0x1fca01)<0.001;}function isPotentiallyNumeric(_0x1ac4aa){const _0x1ce38b=_0x4e7cd8;if(typeof _0x1ac4aa!==_0x1ce38b(0x52f)&&typeof _0x1ac4aa!==_0x1ce38b(0x952))return![];const _0x385bce=String(_0x1ac4aa)[_0x1ce38b(0x98e)](',','.')[_0x1ce38b(0x492)]();return _0x385bce!==''&&!isNaN(parseFloat(_0x385bce))&&isFinite(_0x385bce);}async function gradeShortAnswer(_0x19a4dd,_0x2e3475){const _0x4a93ff=_0x4e7cd8,_0x5b3454=_0x2e3475[_0x4a93ff(0x493)],_0x5baeed=String(_0x19a4dd)[_0x4a93ff(0x98e)](/\$/g,'')['trim'](),_0x5c9974=String(_0x5b3454)['replace'](/\$/g,'')[_0x4a93ff(0x492)]();if(_0x5baeed[_0x4a93ff(0x7a9)]()===_0x5c9974[_0x4a93ff(0x7a9)]())return!![];if(isPotentiallyNumeric(_0x5baeed)&&isPotentiallyNumeric(_0x5c9974)){if(compareNumericalAnswers(_0x5baeed,_0x5c9974))return!![];}return console['log'](_0x4a93ff(0x72f)),await gradeShortAnswerWithAI(_0x19a4dd,_0x5b3454);}async function revealAnswerForAdmin(_0x47a999,_0x581923){const _0x585b2b=_0x4e7cd8,_0x323ac0=doc(db,_0x585b2b(0xbc5)+appId+_0x585b2b(0x372),currentLiveGameId);await updateDoc(_0x323ac0,{'questionStatus':_0x585b2b(0xaab)});}function showTop5LeaderboardView(_0x1dc317){const _0x5e4e30=_0x4e7cd8,_0x56fe9e=Object['values'](_0x1dc317[_0x5e4e30(0xb3e)]||{})['filter'](_0x2fa0c1=>_0x2fa0c1[_0x5e4e30(0xb37)]===_0x5e4e30(0xae2));_0x56fe9e[_0x5e4e30(0x327)]((_0x2884d6,_0x11f7ff)=>_0x11f7ff[_0x5e4e30(0xb20)]-_0x2884d6[_0x5e4e30(0xb20)]);const _0x239eee=_0x56fe9e['slice'](0x0,0x5),_0x425c40=_0x5e4e30(0x207)+_0x239eee[_0x5e4e30(0xa26)]((_0xad9222,_0x1dfff5)=>_0x5e4e30(0x3ab)+(_0x1dfff5+0x1)+'.\x20'+(_0xad9222[_0x5e4e30(0x82b)]||Object[_0x5e4e30(0xaf9)](_0x1dc317['players'])[_0x5e4e30(0x135)](_0x3b0b52=>_0x1dc317[_0x5e4e30(0xb3e)][_0x3b0b52]===_0xad9222))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0xad9222['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5e4e30(0xab6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1dc317[_0x5e4e30(0x628)]+0x1===currentQuizData['questions']['length']?'สรุปผลสุดท้าย':_0x5e4e30(0x232))+_0x5e4e30(0x22d);liveGameView[_0x5e4e30(0x3e3)]=_0x425c40,document['getElementById'](_0x5e4e30(0x175))[_0x5e4e30(0xa37)]('click',async()=>{const _0x42de13=_0x5e4e30,_0x297b7a=doc(db,_0x42de13(0xbc5)+appId+_0x42de13(0x372),currentLiveGameId),_0x174d4c=_0x1dc317['currentQuestionIndex']+0x1;if(_0x174d4c<currentQuizData[_0x42de13(0x966)][_0x42de13(0xa90)]){const _0x554783={'currentQuestionIndex':_0x174d4c,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x42de13(0xaf9)](_0x1dc317[_0x42de13(0xb3e)])[_0x42de13(0x8ca)](_0x5a79fc=>{const _0xd86a2a=_0x42de13;_0x554783[_0xd86a2a(0x47f)+_0x5a79fc+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x297b7a,_0x554783);}else await updateDoc(_0x297b7a,{'status':_0x42de13(0xab0)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1ecead=>{const _0x348588=_0x1f15;if(_0x1ecead){userId=_0x1ecead['uid'],userIdDisplay[_0x348588(0x9a1)]=userId;const _0x73883c=await loadUserPreferences();_0x73883c[_0x348588(0x6d5)]&&(document[_0x348588(0x1c2)](_0x348588(0x887))['value']=_0x73883c[_0x348588(0x6d5)]);globalDashboardSettings[_0x348588(0x13a)]=_0x73883c[_0x348588(0x13a)]||_0x348588(0x9f7);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x277df7,_0x3f1ac2){const _0x1f005c=_0x4e7cd8;if(!userId)return;try{const _0x45223e=doc(db,_0x1f005c(0xbc5)+appId+'/users/'+userId+_0x1f005c(0x737)),_0x2162b6={};_0x2162b6[_0x277df7]=_0x3f1ac2,await setDoc(_0x45223e,_0x2162b6,{'merge':!![]});}catch(_0xdaf623){console[_0x1f005c(0x2da)]('Error\x20saving\x20user\x20preference:',_0xdaf623);}}async function loadUserPreferences(){const _0x32a61d=_0x4e7cd8;if(!userId)return{};try{const _0x2bffad=doc(db,_0x32a61d(0xbc5)+appId+_0x32a61d(0x521)+userId+_0x32a61d(0x737)),_0x15838a=await getDoc(_0x2bffad);if(_0x15838a['exists']())return _0x15838a[_0x32a61d(0x921)]();return{};}catch(_0x3e976d){return console[_0x32a61d(0x2da)]('Error\x20loading\x20user\x20preferences:',_0x3e976d),{};}}function parseIndentedBlueprint(_0x10c9a0){const _0x58af32=_0x4e7cd8,_0x291183=_0x10c9a0[_0x58af32(0x671)]('\x0a')['filter'](_0x31902a=>_0x31902a[_0x58af32(0x492)]()!==''),_0x5527ca=[];let _0xe79ef4=null,_0x41a89c=null;return _0x291183[_0x58af32(0x8ca)](_0x25cad5=>{const _0x4dc531=_0x58af32,_0x2e8bf6=_0x25cad5['match'](/^\s*/)[0x0]['length'],_0x1d45d7=_0x25cad5['trim']();if(_0x2e8bf6===0x0)_0xe79ef4={'sara':_0x1d45d7,'mainTopics':[]},_0x5527ca[_0x4dc531(0x6d9)](_0xe79ef4),_0x41a89c=null;else{if(_0x2e8bf6>0x0&&_0x2e8bf6<0x8&&_0xe79ef4)_0x41a89c={'topicName':_0x1d45d7,'subTopics':[]},_0xe79ef4['mainTopics']['push'](_0x41a89c);else _0x2e8bf6>=0x8&&_0x41a89c&&_0x41a89c[_0x4dc531(0x1e8)][_0x4dc531(0x6d9)](_0x1d45d7);}}),{'curriculum':_0x5527ca};}async function handleManualBlueprintSave(){const _0x59be5d=_0x4e7cd8,_0x167313=document[_0x59be5d(0x1c2)]('manual-bp-project-name')['value'][_0x59be5d(0x492)](),_0x3e1f94=document[_0x59be5d(0x1c2)](_0x59be5d(0x626))['value'][_0x59be5d(0x492)](),_0x2dcd28=document[_0x59be5d(0x1c2)](_0x59be5d(0x4b5))[_0x59be5d(0x9f1)];if(!_0x167313||!_0x3e1f94||!_0x2dcd28){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x95e486=parseIndentedBlueprint(_0x2dcd28);if(!_0x95e486[_0x59be5d(0x95f)]||_0x95e486[_0x59be5d(0x95f)][_0x59be5d(0xa90)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x109b20={};let _0x115fdc=0x0;_0x95e486[_0x59be5d(0x95f)]['forEach'](_0x554a88=>{const _0x301b0a=_0x59be5d;_0x554a88[_0x301b0a(0x9c6)][_0x301b0a(0x8ca)](_0x126a74=>{const _0x15e8af=_0x301b0a;_0x126a74[_0x15e8af(0x1e8)][_0x15e8af(0x8ca)](_0x333e88=>{const _0x409aee=_0x15e8af,_0x286875=_0x409aee(0xb66)+Date[_0x409aee(0x6d6)]()+Math[_0x409aee(0xad8)]()['toString'](0x24)['substr'](0x2,0x9);_0x109b20[_0x286875]={'sara':_0x554a88[_0x409aee(0x14d)],'mainTopic':_0x126a74[_0x409aee(0x324)],'subTopic':_0x333e88,'status':_0x409aee(0x71e),'lessonContent':null,'order':_0x115fdc++};});});});try{const _0x12786=collection(db,_0x59be5d(0xbc5)+appId+_0x59be5d(0x618));await addDoc(_0x12786,{'projectName':_0x167313,'gradeLevel':_0x3e1f94,'topics':_0x109b20,'createdAt':serverTimestamp()}),showMessage(_0x59be5d(0xaae)+_0x167313+'\x22\x20สำเร็จ!'),document[_0x59be5d(0x1c2)](_0x59be5d(0x9de))[_0x59be5d(0x12e)]['add'](_0x59be5d(0x30a));}catch(_0x27dd5b){console[_0x59be5d(0x2da)](_0x59be5d(0x758),_0x27dd5b),showMessage(_0x59be5d(0x964));}}function handleClearAllLinksForTopic(_0x35ae50){const _0x54739e=_0x4e7cd8;showConfirmation(_0x54739e(0x50e),async()=>{const _0x392f33=_0x54739e;try{const _0x1d1b33=doc(db,_0x392f33(0xbc5)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1d1b33,{['topics.'+_0x35ae50+'.linkedQuizIds']:[]}),showMessage(_0x392f33(0x7a7)),openTopicQuizBank(_0x35ae50),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1cc4cb){console[_0x392f33(0x2da)]('Error\x20clearing\x20all\x20links:',_0x1cc4cb),showMessage(_0x392f33(0x4f3));}});}function showPodiumView(_0x2dbb2b,_0x145b38=_0x4e7cd8(0x30e)){const _0x101fd5=_0x4e7cd8,_0x2ead71=Object['entries'](_0x2dbb2b)[_0x101fd5(0xa26)](([_0xfc6cb3,_0xa04786])=>({'name':_0xfc6cb3,'score':_0xa04786[_0x101fd5(0xb20)]||0x0,'badges':_0xa04786['badges']||[],'hasPerfectScoreBonus':_0xa04786[_0x101fd5(0xa85)]||![]}));_0x2ead71[_0x101fd5(0x327)]((_0x47cae0,_0x24fa83)=>{const _0x539d00=_0x101fd5,_0x2f8123=_0x24fa83[_0x539d00(0xb20)]-_0x47cae0[_0x539d00(0xb20)];if(_0x2f8123!==0x0)return _0x2f8123;return(_0x24fa83['badges'][_0x539d00(0xa90)]||0x0)-(_0x47cae0[_0x539d00(0x74d)][_0x539d00(0xa90)]||0x0);});const _0x4d8530=_0x142875=>{const _0x18925f=_0x101fd5;if(!_0x142875||_0x142875[_0x18925f(0xa90)]===0x0)return'';const _0x35a4ae={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x142875[_0x18925f(0xa26)](_0x1897ce=>_0x35a4ae[_0x1897ce]||'')[_0x18925f(0xab6)]('')+'</div>';},_0x5ac096=_0x2ead71[_0x101fd5(0xb79)](0x3),_0xb25cb0=_0x5ac096[_0x101fd5(0xa90)]>0x0?_0x101fd5(0xb43)+_0x5ac096[_0x101fd5(0xa26)]((_0x5451b6,_0x3b9add)=>{const _0x37796f=_0x101fd5,_0x147ea9=_0x5451b6[_0x37796f(0xa85)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x37796f(0xc8d)+(_0x3b9add+0x4)+_0x37796f(0xbe7)+_0x5451b6[_0x37796f(0x82b)]+_0x37796f(0x818)+_0x5451b6[_0x37796f(0xb20)]+'\x20คะแนน\x20'+_0x147ea9+_0x37796f(0x18e);})['join']('')+_0x101fd5(0x5c4):'',_0x3fc55a=_0x101fd5(0xbe5)+(_0x2ead71[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2ead71[0x1][_0x101fd5(0x82b)]+_0x101fd5(0x35e)+_0x4d8530(_0x2ead71[0x1][_0x101fd5(0x74d)])+_0x101fd5(0x17d)+_0x2ead71[0x1][_0x101fd5(0xb20)]+_0x101fd5(0xafb)+(_0x2ead71[0x1][_0x101fd5(0xa85)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x101fd5(0x323))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ead71[0x0]?_0x101fd5(0x2e1)+_0x2ead71[0x0][_0x101fd5(0x82b)]+_0x101fd5(0x35e)+_0x4d8530(_0x2ead71[0x0][_0x101fd5(0x74d)])+_0x101fd5(0xba7)+_0x2ead71[0x0][_0x101fd5(0xb20)]+'\x20คะแนน\x20'+(_0x2ead71[0x0][_0x101fd5(0xa85)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x101fd5(0x15e)+(_0x2ead71[0x2]?_0x101fd5(0xb0b)+_0x2ead71[0x2][_0x101fd5(0x82b)]+_0x101fd5(0x35e)+_0x4d8530(_0x2ead71[0x2][_0x101fd5(0x74d)])+_0x101fd5(0x17d)+_0x2ead71[0x2][_0x101fd5(0xb20)]+_0x101fd5(0xafb)+(_0x2ead71[0x2][_0x101fd5(0xa85)]?_0x101fd5(0xa62):'')+_0x101fd5(0xc5c):_0x101fd5(0x323))+_0x101fd5(0x866)+_0xb25cb0+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x101fd5(0x9be)?_0x101fd5(0xc48):_0x101fd5(0xa9e))+_0x101fd5(0x63c);liveGameView[_0x101fd5(0x3e3)]=_0x3fc55a,currentMode===_0x101fd5(0x9be)&&document['getElementById'](_0x101fd5(0x6a2))[_0x101fd5(0xa37)](_0x101fd5(0xbdd),async()=>{const _0x4b022f=_0x101fd5;let _0x37b37b;_0x145b38==='sync'?_0x37b37b=doc(db,_0x4b022f(0xbc5)+appId+_0x4b022f(0x1be),currentLiveGameId):_0x37b37b=doc(db,_0x4b022f(0xbc5)+appId+_0x4b022f(0x372),currentLiveGameId),await deleteDoc(_0x37b37b);});}function renderSyncSummaryView(_0x2ea602,_0x3b4bd4,_0x8894f2){const _0x397729=_0x4e7cd8,_0x58fe8d=Object[_0x397729(0x9a6)](_0x2ea602[_0x397729(0xb3e)]||{}),_0x5dfd7d=_0x3b4bd4[_0x397729(0x93a)]||_0x2ea602[_0x397729(0x151)]['quizType'];let _0x43101e=[];_0x5dfd7d===_0x397729(0x7f4)?_0x43101e=[_0x397729(0x22a),_0x397729(0x83f)]:_0x43101e=_0x3b4bd4[_0x397729(0x4d1)]||[];const _0x4be8a3=new Array(_0x43101e[_0x397729(0xa90)])[_0x397729(0x949)](0x0),_0x3e8604={};_0x43101e[_0x397729(0x8ca)]((_0x39e4b6,_0x5b64f0)=>{_0x3e8604[_0x5b64f0]=[];}),Object[_0x397729(0xaa6)](_0x2ea602[_0x397729(0xb3e)]||{})[_0x397729(0x8ca)](([_0x542d9b,_0x26eea5])=>{const _0x3a5ad6=_0x397729;if(_0x26eea5[_0x3a5ad6(0xb37)]!=='inactive'&&_0x26eea5['lastAnswerIndex']!==undefined&&_0x26eea5[_0x3a5ad6(0x638)]!==null){const _0x54c96d=_0x26eea5[_0x3a5ad6(0x638)];_0x3e8604[_0x54c96d]!==undefined&&(_0x3e8604[_0x54c96d][_0x3a5ad6(0x6d9)](_0x542d9b),_0x4be8a3[_0x54c96d]++);}});let _0x5eddb='';_0x8894f2?_0x5eddb=_0x397729(0x50b):_0x5eddb=_0x397729(0x5e1);const _0x18d8cc=_0x397729(0x562)+_0x3b4bd4[_0x397729(0x2b3)]+_0x397729(0x3ec)+_0x4be8a3['map']((_0x12e214,_0x2e76a6)=>{const _0x5b9c8e=_0x397729,_0x2d46a5=_0x3e8604[_0x2e76a6][_0x5b9c8e(0xa90)]>0x0?_0x3e8604[_0x2e76a6]['join'](',\x20'):_0x5b9c8e(0x648),_0x36669e='#6366F1';return _0x5b9c8e(0x48e)+_0x12e214+_0x5b9c8e(0xa6a)+_0x36669e+_0x5b9c8e(0xa0a)+_0x2e76a6+_0x5b9c8e(0x25b)+_0x43101e[_0x2e76a6]+_0x5b9c8e(0x463)+_0x2e76a6+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d46a5+_0x5b9c8e(0x6a7);})['join']('')+_0x397729(0x53c)+_0x5eddb+_0x397729(0x152);liveGameView['innerHTML']=_0x18d8cc;if(window[_0x397729(0x196)])MathJax['typesetPromise']();_0x8894f2&&(document[_0x397729(0x1c2)](_0x397729(0x134))[_0x397729(0xa37)](_0x397729(0xbdd),async()=>{const _0x5b8fae=_0x397729,_0x3183bb=doc(db,_0x5b8fae(0xbc5)+appId+_0x5b8fae(0x1be),currentLiveGameId);await updateDoc(_0x3183bb,{'status':'results'});}),document['getElementById']('open-sync-scratchpad-btn')[_0x397729(0xa41)]=()=>{openScratchpad(_0x3b4bd4,_0x43101e);});}async function handleShowStudentRankings(){const _0x343329=_0x4e7cd8,_0x35629a=document['querySelector'](_0x343329(0x566));_0x35629a&&(_0x35629a[_0x343329(0x3e3)]=_0x343329(0x3e9));const _0x5ac86c=document['querySelector'](_0x343329(0xbf1));_0x5ac86c&&(_0x5ac86c[_0x343329(0x3e3)]=_0x343329(0x999));const _0x4536bf=document[_0x343329(0x1c2)]('student-rankings-modal');_0x4536bf[_0x343329(0x12e)][_0x343329(0x1f9)](_0x343329(0x30a)),document[_0x343329(0x1c2)]('close-student-rankings-btn')[_0x343329(0xa41)]=()=>_0x4536bf[_0x343329(0x12e)][_0x343329(0x7d7)](_0x343329(0x30a));const _0x33319d=document[_0x343329(0x1c2)](_0x343329(0x6da)),_0x2a4628=document[_0x343329(0x1c2)](_0x343329(0x147)),_0x2b9434=document[_0x343329(0x1c2)]('student-quiz-leaderboard-content'),_0x46003c=document['getElementById']('student-project-leaderboard-content');_0x33319d[_0x343329(0xa41)]=()=>{const _0x52bd23=_0x343329;_0x33319d[_0x52bd23(0x12e)]['add'](_0x52bd23(0xae2)),_0x2a4628[_0x52bd23(0x12e)]['remove'](_0x52bd23(0xae2)),_0x2b9434[_0x52bd23(0x12e)]['remove']('hidden'),_0x46003c[_0x52bd23(0x12e)][_0x52bd23(0x7d7)](_0x52bd23(0x30a));},_0x2a4628['onclick']=()=>{const _0x1d6159=_0x343329;_0x2a4628[_0x1d6159(0x12e)][_0x1d6159(0x7d7)](_0x1d6159(0xae2)),_0x33319d['classList'][_0x1d6159(0x1f9)](_0x1d6159(0xae2)),_0x46003c[_0x1d6159(0x12e)][_0x1d6159(0x1f9)](_0x1d6159(0x30a)),_0x2b9434[_0x1d6159(0x12e)][_0x1d6159(0x7d7)](_0x1d6159(0x30a));};try{const _0x40cde4=collection(db,_0x343329(0xbc5)+appId+_0x343329(0x155)+currentQuizData['id']+_0x343329(0x2e0)),_0x5d7603=await getDocs(_0x40cde4),_0x5e4643=_0x5d7603['docs'][_0x343329(0xa26)](_0x1dad86=>_0x1dad86[_0x343329(0x921)]());renderQuizLeaderboard(_0x5e4643,currentQuizData,'student-quiz-leaderboard-table-body');const _0x524b59=collection(db,_0x343329(0xbc5)+appId+_0x343329(0x5cd)+currentQuizData[_0x343329(0xa4a)]+_0x343329(0x201)),_0xcbbaab=await getDocs(_0x524b59),_0x721c90=_0xcbbaab[_0x343329(0x378)][_0x343329(0xa26)](_0x27779a=>_0x27779a[_0x343329(0x921)]());renderLeaderboard(_0x721c90,'student-project-leaderboard-table-body');}catch(_0x1ba174){console['error']('Error\x20fetching\x20student\x20rankings:',_0x1ba174),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x5c97d7){const _0x21c0c0=_0x4e7cd8,_0x57592d=_0x5c97d7[_0x21c0c0(0x686)],_0xe17b01=_0x57592d[_0x21c0c0(0x928)]['index'],_0x1aba8c=currentQuizData[_0x21c0c0(0x966)][_0xe17b01];if(!userId){showMessage(_0x21c0c0(0x2ed));return;}try{const _0x5ba75a={..._0x1aba8c,'originalTopic':currentQuizData[_0x21c0c0(0xcaf)],'savedAt':serverTimestamp()},_0x4392ec=collection(db,_0x21c0c0(0xbc5)+appId+_0x21c0c0(0x521)+userId+_0x21c0c0(0x723));await addDoc(_0x4392ec,_0x5ba75a),showMessage(_0x21c0c0(0xc30)),_0x57592d[_0x21c0c0(0x12e)]['remove'](_0x21c0c0(0x1a2)),_0x57592d[_0x21c0c0(0x12e)][_0x21c0c0(0x7d7)](_0x21c0c0(0x44a)),_0x57592d['disabled']=!![];}catch(_0x377d65){console[_0x21c0c0(0x2da)](_0x21c0c0(0xbc1),_0x377d65),showMessage(_0x21c0c0(0x227));}}async function selectProjectAndGenerateBlueprintQuiz(_0x3aa0c8,_0x132b55=null,_0x11fad2=null,_0x134e8c=![]){const _0x4baa44=_0x4e7cd8;cameFromBlueprint=!![];const _0x2c51fb=document[_0x4baa44(0x1c2)](_0x4baa44(0x567))?.[_0x4baa44(0x9f1)][_0x4baa44(0x492)]();let _0x151fd0=null;if(_0x2c51fb){showMessage(_0x4baa44(0x940));try{const _0x19b43b=await fetchFileFromUrl(_0x2c51fb,_0x4baa44(0xb83)),_0x5f5954=await new Promise((_0xc77582,_0xa769b)=>{const _0x56b88c=_0x4baa44,_0x2e35fb=new FileReader();_0x2e35fb[_0x56b88c(0x515)](_0x19b43b),_0x2e35fb['onload']=()=>_0xc77582(_0x2e35fb['result'][_0x56b88c(0x671)](',')[0x1]),_0x2e35fb[_0x56b88c(0x311)]=_0xa769b;});_0x151fd0=[{'inlineData':{'mimeType':_0x19b43b[_0x4baa44(0x248)],'data':_0x5f5954}}],messageModal[_0x4baa44(0x12e)]['add']('hidden');}catch(_0x1b18d3){console['error'](_0x4baa44(0x24e),_0x1b18d3),showMessage(_0x4baa44(0xaa8));}}const _0x35d57a=document[_0x4baa44(0x1c2)](_0x4baa44(0xc6f)),_0x46a3ba=document[_0x4baa44(0x1c2)](_0x4baa44(0x586)),_0x2316ae=_0x35d57a[_0x4baa44(0x8b9)]('h3'),_0x3c27db=document[_0x4baa44(0x1c2)](_0x4baa44(0x4ec)),_0x58c4c2=document[_0x4baa44(0x1c2)](_0x4baa44(0x7e5));_0x2316ae['textContent']=_0x4baa44(0x41a),_0x3c27db['textContent']='เลือกและเริ่มสร้าง',_0x3c27db[_0x4baa44(0x78a)]=!![];allProjects[_0x4baa44(0xa90)]===0x0?_0x46a3ba['innerHTML']=_0x4baa44(0x8d9):(_0x46a3ba[_0x4baa44(0x3e3)]=_0x4baa44(0x6e2)+allProjects['map'](_0xbc5add=>'<option\x20value=\x22'+_0xbc5add['id']+'\x22>'+_0xbc5add[_0x4baa44(0xa74)]+'</option>')[_0x4baa44(0xab6)](''),_0x3c27db[_0x4baa44(0x78a)]=![]);_0x35d57a[_0x4baa44(0x12e)]['remove'](_0x4baa44(0x30a));const _0xbe170d=async()=>{const _0x599536=_0x4baa44,_0x4f17ad=_0x46a3ba[_0x599536(0x9f1)];if(!_0x4f17ad){showMessage(_0x599536(0x2f7));return;}_0x35d57a['classList']['add'](_0x599536(0x30a)),document['getElementById'](_0x599536(0xb8d))[_0x599536(0x12e)][_0x599536(0x7d7)](_0x599536(0x30a)),await loadProjectDetails(_0x4f17ad),showView(_0x599536(0x835)),handleGenerateQuizFromBlueprintTopic(_0x3aa0c8,_0x132b55,_0x4f17ad,_0x11fad2,_0x134e8c,_0x151fd0),_0x38d4b4();},_0x38d4b4=()=>{const _0x2d3b95=_0x4baa44;_0x2316ae[_0x2d3b95(0x9a1)]=_0x2d3b95(0x44f),_0x3c27db[_0x2d3b95(0x9a1)]=_0x2d3b95(0xbcd),_0x3c27db[_0x2d3b95(0x208)](_0x2d3b95(0xbdd),_0xbe170d),_0x58c4c2[_0x2d3b95(0x208)](_0x2d3b95(0xbdd),_0x38d4b4),_0x3c27db[_0x2d3b95(0xa37)](_0x2d3b95(0xbdd),confirmMoveQuiz);};_0x3c27db['removeEventListener'](_0x4baa44(0xbdd),confirmMoveQuiz),_0x3c27db[_0x4baa44(0xa37)](_0x4baa44(0xbdd),_0xbe170d),_0x58c4c2['addEventListener'](_0x4baa44(0xbdd),_0x38d4b4);}function listenForStarredQuizzes(){const _0x20cd69=_0x4e7cd8;if(!userId)return;const _0x38495b=collection(db,_0x20cd69(0xbc5)+appId+_0x20cd69(0x5e2)),_0x35881a=query(_0x38495b,where(_0x20cd69(0xb86),'==',!![]));onSnapshot(_0x35881a,_0x1e3fb7=>{const _0x4c7870=_0x20cd69;starredQuizzes=_0x1e3fb7[_0x4c7870(0x378)][_0x4c7870(0xa26)](_0x319bec=>({'id':_0x319bec['id'],..._0x319bec[_0x4c7870(0x921)]()})),currentProjectId===_0x4c7870(0x903)?renderQuizzes():renderProjects();},_0x4fbdd8=>{const _0x1c17e2=_0x20cd69;console[_0x1c17e2(0x2da)](_0x1c17e2(0x59c),_0x4fbdd8);});}function listenForFileShortcuts(){const _0x2cb752=_0x4e7cd8,_0x357d80=doc(db,'globalSettings',_0x2cb752(0x884));onSnapshot(_0x357d80,_0x59d12b=>{const _0xc803be=_0x2cb752;let _0x9472b6=[],_0x1d83a7=[],_0x29a76a={};if(_0x59d12b[_0xc803be(0x7b7)]()){const _0x52e3fb=_0x59d12b[_0xc803be(0x921)]();_0x9472b6=_0x52e3fb[_0xc803be(0xbf2)]||[],_0x1d83a7=_0x52e3fb[_0xc803be(0x7e7)]||[],_0x29a76a=_0x52e3fb[_0xc803be(0xaee)]||{};}!_0x1d83a7[_0xc803be(0x135)](_0x462f26=>_0x462f26['id']===_0xc803be(0x3ca))&&_0x1d83a7[_0xc803be(0x7ac)]({'id':'all','name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x9472b6['find'](_0x3086f2=>_0x3086f2['id']===_0xc803be(0x53b))&&_0x9472b6[_0xc803be(0x7ac)]({'id':_0xc803be(0x53b),'name':_0xc803be(0x2a4),'url':'','isDefault':!![]}),!_0x9472b6[_0xc803be(0x135)](_0x5732d8=>_0x5732d8['id']===_0xc803be(0xc2a))&&_0x9472b6[_0xc803be(0x7ac)]({'id':_0xc803be(0xc2a),'name':_0xc803be(0x902),'url':'','isDefault':!![]}),fileShortcuts=_0x9472b6,fileShortcutTabs=_0x1d83a7,fileShortcutOrder=_0x29a76a,renderFileShortcuts(),!document[_0xc803be(0x1c2)](_0xc803be(0xa48))['classList']['contains']('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x40cdeb=_0x4e7cd8,_0x2dcb36=doc(db,_0x40cdeb(0x7a0),_0x40cdeb(0x884));try{await setDoc(_0x2dcb36,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x4d50e4){console[_0x40cdeb(0x2da)](_0x40cdeb(0xc85),_0x4d50e4);}}function renderAdditionalFileShortcutsModal(){const _0x3b0390=_0x4e7cd8,_0x1bdf9b=document[_0x3b0390(0x1c2)](_0x3b0390(0x221)),_0x2126d9=document[_0x3b0390(0x1c2)](_0x3b0390(0x4cb));if(!_0x1bdf9b||!_0x2126d9)return;_0x1bdf9b[_0x3b0390(0x3e3)]=fileShortcutTabs[_0x3b0390(0xa26)](_0x5e044f=>{const _0xb0264e=_0x3b0390,_0x6038f3=_0x5e044f['id']===activeFileShortcutTabId;return _0xb0264e(0x73e)+_0x5e044f['id']+_0xb0264e(0xa78)+(_0x6038f3?_0xb0264e(0xabe):_0xb0264e(0x4a5))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x5e044f[_0xb0264e(0x82b)]+_0xb0264e(0x91e)+_0x5e044f[_0xb0264e(0x82b)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5e044f[_0xb0264e(0x333)]?'<button\x20data-tab-id=\x22'+_0x5e044f['id']+_0xb0264e(0x7ba):'')+_0xb0264e(0x335);})[_0x3b0390(0xab6)]('');const _0x16fb80=fileShortcutTabs[_0x3b0390(0x135)](_0x332852=>_0x332852['id']===activeFileShortcutTabId);let _0x3e2a30=_0x16fb80?.[_0x3b0390(0x333)]?[...fileShortcuts]:fileShortcuts[_0x3b0390(0x473)](_0x481854=>(_0x16fb80?.[_0x3b0390(0x858)]||[])[_0x3b0390(0x4c2)](_0x481854['id']));const _0x4c9c17=fileShortcutOrder[activeFileShortcutTabId]||[];_0x3e2a30[_0x3b0390(0x327)]((_0x4e7d58,_0x4e12cb)=>{const _0x5e8708=_0x3b0390,_0x32c85f=_0x4c9c17[_0x5e8708(0xb27)](_0x4e7d58['id']),_0x255721=_0x4c9c17[_0x5e8708(0xb27)](_0x4e12cb['id']);return(_0x32c85f===-0x1?Infinity:_0x32c85f)-(_0x255721===-0x1?Infinity:_0x255721);}),_0x2126d9['innerHTML']=_0x3e2a30[_0x3b0390(0xa26)](_0xcad96f=>{const _0x16413b=_0x3b0390,_0x31cdf7=_0xcad96f[_0x16413b(0x637)]?'📄':'🔗',_0x399c36=fileShortcutTabs['filter'](_0x5d2501=>!_0x5d2501[_0x16413b(0x333)]),_0x3ea3f0=_0x16fb80['isDefault']&&_0x399c36[_0x16413b(0xa90)]>0x0?_0x16413b(0x828)+_0x399c36[_0x16413b(0xa26)](_0x131203=>_0x16413b(0x2c4)+_0xcad96f['id']+'\x22\x20data-target-tab-id=\x22'+_0x131203['id']+'\x22>'+_0x131203[_0x16413b(0x82b)]+'</a>')[_0x16413b(0xab6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x16413b(0x2ea)+_0xcad96f['id']+_0x16413b(0xc6a)+_0x31cdf7+'\x20'+_0xcad96f[_0x16413b(0x82b)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xcad96f['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xcad96f['id']+_0x16413b(0x793)+(!_0xcad96f[_0x16413b(0x333)]?_0x16413b(0x21c)+_0xcad96f['id']+_0x16413b(0xa76):'')+_0x16413b(0x430)+(!_0x16fb80[_0x16413b(0x333)]?_0x16413b(0x41c)+_0xcad96f['id']+_0x16413b(0x528):'')+_0x16413b(0x430)+_0x3ea3f0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3b0390(0xab6)]('')||_0x3b0390(0x80c),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x29655a=_0x4e7cd8;document[_0x29655a(0x9f4)]('.file-shortcut-tab-btn')[_0x29655a(0x8ca)](_0x19832b=>{const _0x565942=_0x29655a;_0x19832b[_0x565942(0xa41)]=_0x50aa3d=>{const _0x41d25a=_0x565942;activeFileShortcutTabId=_0x50aa3d[_0x41d25a(0x686)]['dataset']['tabId'],renderAdditionalFileShortcutsModal();},_0x19832b[_0x565942(0x366)]=_0x226473=>{const _0x14ded3=_0x565942,_0x55cb85=_0x226473[_0x14ded3(0x686)][_0x14ded3(0x8b9)](_0x14ded3(0x2dc));_0x226473[_0x14ded3(0x686)]['querySelector'](_0x14ded3(0x2a1))[_0x14ded3(0x12e)]['add'](_0x14ded3(0x30a)),_0x55cb85['classList']['remove']('hidden'),_0x55cb85[_0x14ded3(0xa2f)](),_0x55cb85[_0x14ded3(0x6c3)]();};}),document[_0x29655a(0x9f4)](_0x29655a(0x4ba))[_0x29655a(0x8ca)](_0x1c9303=>{const _0x1d651b=_0x29655a,_0x753e62=()=>{const _0x2ff080=_0x1f15,_0x1f6569=_0x1c9303[_0x2ff080(0xbdf)](_0x2ff080(0x812))[_0x2ff080(0x928)]['tabId'],_0x36c327=fileShortcutTabs[_0x2ff080(0x135)](_0x3e9f74=>_0x3e9f74['id']===_0x1f6569);_0x36c327&&(_0x36c327[_0x2ff080(0x82b)]=_0x1c9303['value']['trim']()||_0x36c327[_0x2ff080(0x82b)],saveFileShortcutConfig());};_0x1c9303[_0x1d651b(0xc5b)]=_0x753e62,_0x1c9303[_0x1d651b(0x9a5)]=_0x3d3d90=>{const _0x3d642c=_0x1d651b;if(_0x3d3d90[_0x3d642c(0xa1e)]==='Enter')_0x1c9303[_0x3d642c(0xbd4)]();};}),document[_0x29655a(0x9f4)](_0x29655a(0x739))[_0x29655a(0x8ca)](_0x514b00=>_0x514b00[_0x29655a(0xa41)]=_0x1542dd=>{const _0x52b00e=_0x29655a,_0x2bbaed=_0x1542dd[_0x52b00e(0x686)][_0x52b00e(0x928)]['tabId'];showConfirmation(_0x52b00e(0xb77),()=>{const _0x3936db=_0x52b00e;fileShortcutTabs=fileShortcutTabs[_0x3936db(0x473)](_0x44bfe8=>_0x44bfe8['id']!==_0x2bbaed),delete fileShortcutOrder[_0x2bbaed];if(activeFileShortcutTabId===_0x2bbaed)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x29655a(0x9f4)](_0x29655a(0x8c8))[_0x29655a(0x8ca)](_0x28c590=>_0x28c590[_0x29655a(0xa41)]=_0x53a8c4=>{const _0x25793f=_0x29655a;_0x53a8c4[_0x25793f(0x3fd)]();const {shortcutId:_0x374930,targetTabId:_0x25e80a}=_0x53a8c4['currentTarget'][_0x25793f(0x928)],_0x10d490=fileShortcutTabs[_0x25793f(0x135)](_0x444cd5=>_0x444cd5['id']===_0x25e80a);_0x10d490&&!_0x10d490[_0x25793f(0x858)][_0x25793f(0x4c2)](_0x374930)&&(_0x10d490[_0x25793f(0x858)][_0x25793f(0x6d9)](_0x374930),saveFileShortcutConfig());}),document[_0x29655a(0x9f4)]('.remove-file-shortcut-from-tab-btn')['forEach'](_0x4ae98f=>_0x4ae98f[_0x29655a(0xa41)]=_0x460110=>{const _0x4c4d44=_0x29655a,_0x3a7ce5=_0x460110[_0x4c4d44(0x686)][_0x4c4d44(0x928)]['shortcutId'],_0x10060a=fileShortcutTabs[_0x4c4d44(0x135)](_0x5d0b20=>_0x5d0b20['id']===activeFileShortcutTabId);_0x10060a&&!_0x10060a[_0x4c4d44(0x333)]&&(_0x10060a['shortcutIds']=_0x10060a[_0x4c4d44(0x858)][_0x4c4d44(0x473)](_0x215445=>_0x215445!==_0x3a7ce5),saveFileShortcutConfig());}),document['querySelectorAll'](_0x29655a(0x576))[_0x29655a(0x8ca)](_0x4921b1=>_0x4921b1[_0x29655a(0xa41)]=_0x18e294=>{const _0x4ebb47=_0x29655a;_0x18e294['stopPropagation']();const _0x187acb=_0x18e294[_0x4ebb47(0x686)][_0x4ebb47(0x4d4)];document[_0x4ebb47(0x9f4)]('.move-file-shortcut-dropdown')['forEach'](_0x3ac346=>_0x3ac346['classList'][_0x4ebb47(0x7d7)]('hidden')),_0x187acb[_0x4ebb47(0x12e)][_0x4ebb47(0x1f9)](_0x4ebb47(0x30a));});const _0x31769a=document[_0x29655a(0x1c2)](_0x29655a(0x4cb));let _0x9a776f=null;_0x31769a[_0x29655a(0x7b0)]=_0x4e2adc=>{const _0x465326=_0x29655a;_0x9a776f=_0x4e2adc[_0x465326(0x12a)][_0x465326(0xbdf)](_0x465326(0xc79));if(_0x9a776f)setTimeout(()=>_0x9a776f[_0x465326(0x12e)][_0x465326(0x7d7)]('opacity-50'),0x0);},_0x31769a[_0x29655a(0x313)]=()=>{const _0x41eb9e=_0x29655a;_0x9a776f&&(_0x9a776f[_0x41eb9e(0x12e)][_0x41eb9e(0x1f9)](_0x41eb9e(0x936)),_0x9a776f=null);},_0x31769a[_0x29655a(0xb12)]=_0x53c2d0=>{const _0x7f7ec7=_0x29655a;_0x53c2d0[_0x7f7ec7(0x3fd)]();},_0x31769a['ondrop']=_0x55a218=>{const _0x48e15f=_0x29655a;_0x55a218[_0x48e15f(0x3fd)]();if(_0x9a776f){const _0x5adb9b=[..._0x31769a[_0x48e15f(0x9f4)](_0x48e15f(0x353))][_0x48e15f(0x7b3)]((_0x18954e,_0x40da9e)=>{const _0x51ed2d=_0x48e15f,_0xb126e1=_0x40da9e['getBoundingClientRect'](),_0x54f7b9=_0x55a218[_0x51ed2d(0xb1f)]-_0xb126e1[_0x51ed2d(0x9a0)]-_0xb126e1[_0x51ed2d(0x59f)]/0x2;return _0x54f7b9<0x0&&_0x54f7b9>_0x18954e[_0x51ed2d(0x437)]?{'offset':_0x54f7b9,'element':_0x40da9e}:_0x18954e;},{'offset':Number['NEGATIVE_INFINITY']})[_0x48e15f(0xa20)];_0x5adb9b==null?_0x31769a['appendChild'](_0x9a776f):_0x31769a['insertBefore'](_0x9a776f,_0x5adb9b);const _0x497b48=[..._0x31769a[_0x48e15f(0x9f4)](_0x48e15f(0xc79))][_0x48e15f(0xa26)](_0x49b8ee=>_0x49b8ee[_0x48e15f(0x928)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x497b48,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x278b48=_0x4e7cd8,_0x573232=prompt(_0x278b48(0x6ce),_0x278b48(0x127));_0x573232&&_0x573232[_0x278b48(0x492)]()&&(fileShortcutTabs[_0x278b48(0x6d9)]({'id':_0x278b48(0x336)+Date[_0x278b48(0x6d6)](),'name':_0x573232[_0x278b48(0x492)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x35ddcd=_0x4e7cd8,_0x102add=document[_0x35ddcd(0x1c2)](_0x35ddcd(0x371)),_0x2fe146=document[_0x35ddcd(0x1c2)](_0x35ddcd(0x4cb)),_0x5a8cfd=document[_0x35ddcd(0x1c2)]('file-shortcuts-loading-msg');if(_0x5a8cfd)_0x5a8cfd[_0x35ddcd(0x12e)][_0x35ddcd(0x7d7)](_0x35ddcd(0x30a));if(!_0x102add||!_0x2fe146)return;const _0x420126=fileShortcuts[_0x35ddcd(0xb79)](0x0,0x4),_0xac8fde=fileShortcuts[_0x35ddcd(0xb79)](0x4);_0x102add[_0x35ddcd(0x3e3)]=_0x420126[_0x35ddcd(0xa26)](_0x424466=>{const _0x5191c2=_0x35ddcd,_0x177bc2=_0x424466[_0x5191c2(0x637)]&&_0x424466[_0x5191c2(0x637)][_0x5191c2(0x492)]()!=='',_0x3c326b=selectedFile&&selectedFile[_0x5191c2(0xaad)]===_0x424466['id'];let _0x27d77c=_0x5191c2(0xafe),_0x5a77bd='🔗';if(_0x3c326b)_0x27d77c=_0x5191c2(0xb14),_0x5a77bd=_0x5191c2(0xcc3);else _0x177bc2&&(_0x27d77c=_0x5191c2(0x8b5),_0x5a77bd='📄');const _0x5c31db=!_0x424466[_0x5191c2(0x333)]?_0x5191c2(0x21c)+_0x424466['id']+_0x5191c2(0x79b):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x424466['id']+_0x5191c2(0xb33)+_0x27d77c+_0x5191c2(0x901)+_0x5a77bd+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x424466[_0x5191c2(0x82b)]+_0x5191c2(0x623)+_0x424466['id']+_0x5191c2(0x6a6)+_0x5c31db+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x35ddcd(0xab6)](''),_0xac8fde[_0x35ddcd(0xa90)]>0x0&&(_0x102add['innerHTML']+=_0x35ddcd(0x36b)),_0xac8fde[_0x35ddcd(0xa90)]>0x0?_0x2fe146[_0x35ddcd(0x3e3)]=_0xac8fde[_0x35ddcd(0xa26)](_0x57a356=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x57a356['url']?'📄':'🔗')+'\x20'+_0x57a356[_0x35ddcd(0x82b)]+_0x35ddcd(0x26c)+_0x57a356['id']+_0x35ddcd(0x4b4)+_0x57a356['id']+_0x35ddcd(0x19b)+(!_0x57a356[_0x35ddcd(0x333)]?'<button\x20data-id=\x22'+_0x57a356['id']+_0x35ddcd(0xa76):'')+_0x35ddcd(0xbb8))[_0x35ddcd(0xab6)](''):_0x2fe146[_0x35ddcd(0x3e3)]=_0x35ddcd(0xbce);}function openFileShortcutEditor(_0x1ec837=null){const _0x32bcc6=_0x4e7cd8,_0x27f9c5=document[_0x32bcc6(0x1c2)](_0x32bcc6(0xc01)),_0x3b2b33=document['getElementById'](_0x32bcc6(0x15d)),_0x309959=document[_0x32bcc6(0x1c2)](_0x32bcc6(0x931)),_0x3a8baf=document[_0x32bcc6(0x1c2)](_0x32bcc6(0x1c5)),_0x541b44=document[_0x32bcc6(0x1c2)]('file-shortcut-url-input');if(_0x1ec837){const _0x39d72d=fileShortcuts[_0x32bcc6(0x135)](_0x531830=>_0x531830['id']===_0x1ec837);if(!_0x39d72d)return;_0x3b2b33[_0x32bcc6(0x9a1)]=_0x32bcc6(0xc25),_0x309959[_0x32bcc6(0x9f1)]=_0x39d72d['id'],_0x3a8baf[_0x32bcc6(0x9f1)]=_0x39d72d['name'],_0x541b44[_0x32bcc6(0x9f1)]=_0x39d72d[_0x32bcc6(0x637)]||'';}else _0x3b2b33['textContent']=_0x32bcc6(0x5ee),_0x309959[_0x32bcc6(0x9f1)]='',_0x3a8baf[_0x32bcc6(0x9f1)]='',_0x541b44[_0x32bcc6(0x9f1)]='';_0x27f9c5['classList'][_0x32bcc6(0x1f9)](_0x32bcc6(0x30a));}async function saveFileShortcutChanges(){const _0x3c8513=_0x4e7cd8,_0x297708=document[_0x3c8513(0x1c2)](_0x3c8513(0x931))[_0x3c8513(0x9f1)],_0x24f311=document[_0x3c8513(0x1c2)](_0x3c8513(0x1c5))[_0x3c8513(0x9f1)]['trim'](),_0xaa1b3b=document[_0x3c8513(0x1c2)](_0x3c8513(0x240))[_0x3c8513(0x9f1)][_0x3c8513(0x492)]();if(!_0x24f311){showMessage(_0x3c8513(0x86e));return;}const _0x383f7a={'id':_0x297708||_0x3c8513(0x1cf)+Date[_0x3c8513(0x6d6)](),'name':_0x24f311,'url':_0xaa1b3b,'isDefault':_0x297708[_0x3c8513(0x384)](_0x3c8513(0x4ee))};let _0x1ca740;_0x297708?_0x1ca740=fileShortcuts[_0x3c8513(0xa26)](_0x43d2c3=>_0x43d2c3['id']===_0x297708?_0x383f7a:_0x43d2c3):_0x1ca740=[...fileShortcuts,_0x383f7a];try{const _0x1f0e58=doc(db,_0x3c8513(0x7a0),_0x3c8513(0x884));await setDoc(_0x1f0e58,{'shortcuts':_0x1ca740},{'merge':!![]}),document[_0x3c8513(0x1c2)](_0x3c8513(0xc01))[_0x3c8513(0x12e)][_0x3c8513(0x7d7)](_0x3c8513(0x30a));}catch(_0x24459f){console['error'](_0x3c8513(0x933),_0x24459f),showMessage(_0x3c8513(0x227));}}async function handleFileShortcutClick(_0x125376){const _0x491e6c=_0x4e7cd8,_0xf751b1=fileShortcuts[_0x491e6c(0x135)](_0x573c20=>_0x573c20['id']===_0x125376);if(!_0xf751b1)return;if(!_0xf751b1[_0x491e6c(0x637)]||_0xf751b1['url'][_0x491e6c(0x492)]()===''){openFileShortcutEditor(_0x125376);return;}const _0x19fe92=document[_0x491e6c(0x8b9)](_0x491e6c(0x61c)+_0x125376+'\x22]');if(_0x19fe92){const _0x12e22f=_0x19fe92[_0x491e6c(0x3e3)];_0x19fe92['innerHTML']=_0x491e6c(0x332),_0x19fe92[_0x491e6c(0x78a)]=!![];}document[_0x491e6c(0x9f4)]('.file-shortcut-btn')[_0x491e6c(0x8ca)](_0x45f074=>{const _0x28afb8=_0x491e6c;if(_0x45f074['dataset']['id']!==_0x125376)_0x45f074[_0x28afb8(0x12e)][_0x28afb8(0x7d7)](_0x28afb8(0x936),'pointer-events-none');});try{const _0x3bf2c8=new URL(_0xf751b1[_0x491e6c(0x637)])['pathname'],_0x5f2247=_0x3bf2c8['substring'](_0x3bf2c8[_0x491e6c(0x4c9)]('/')+0x1)||(_0xf751b1[_0x491e6c(0x637)][_0x491e6c(0x4c2)](_0x491e6c(0x137))?'file.txt':'file.pdf'),_0x44e38d=await fetchFileFromUrl(_0xf751b1['url'],_0x5f2247);_0x44e38d[_0x491e6c(0xaad)]=_0x125376,selectedFile=_0x44e38d,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x491e6c(0x1c2)]('file-input-area')[_0x491e6c(0x46e)]({'behavior':_0x491e6c(0x4be),'block':_0x491e6c(0x206)});}catch(_0x5df9a0){console['error'](_0x491e6c(0x7e9),_0x5df9a0),showMessage(_0x491e6c(0x6d8)+_0x5df9a0[_0x491e6c(0x516)]),renderFileShortcuts();}finally{document[_0x491e6c(0x9f4)]('.file-shortcut-btn')['forEach'](_0xfe9cff=>{const _0x3f9cf9=_0x491e6c;_0xfe9cff[_0x3f9cf9(0x12e)][_0x3f9cf9(0x1f9)](_0x3f9cf9(0x936),_0x3f9cf9(0xb03)),_0xfe9cff[_0x3f9cf9(0x78a)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2bee41=_0x4e7cd8;if(allQuizzesGlobal[_0x2bee41(0xa90)]>0x0)return;console[_0x2bee41(0x511)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x295c5e=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x295c5e[_0x2bee41(0x378)][_0x2bee41(0xa26)](_0x399478=>({'id':_0x399478['id'],..._0x399478[_0x2bee41(0x921)]()})),console[_0x2bee41(0x511)]('Loaded\x20'+allQuizzesGlobal['length']+_0x2bee41(0xa39)),messageModal[_0x2bee41(0x12e)]['add'](_0x2bee41(0x30a));}catch(_0x2b457b){console[_0x2bee41(0x2da)](_0x2bee41(0x77d),_0x2b457b),messageModal[_0x2bee41(0x12e)][_0x2bee41(0x7d7)]('hidden');throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x47e318=_0x4e7cd8;if(!currentQuizData||!currentQuizData[_0x47e318(0x966)]){showMessage(_0x47e318(0x8d2));return;}const _0x54eca3=currentQuizData,_0x3d2eeb=window[_0x47e318(0x43d)]('',_0x47e318(0x1f4)),_0x1b3236=_0x580841=>String[_0x47e318(0x92e)](0x41+_0x580841),_0x42dedc=_0x47e318(0x22e)+_0x54eca3['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x54eca3[_0x47e318(0xcaf)]+_0x47e318(0x2b6)+_0x54eca3[_0x47e318(0x966)][_0x47e318(0xa26)]((_0x1439b0,_0x21803f)=>{const _0x28be4a=_0x47e318;let _0xc64c14='';const _0xcad49f=_0x1439b0[_0x28be4a(0x93a)]||_0x54eca3[_0x28be4a(0x769)];switch(_0xcad49f){case _0x28be4a(0x4bb):case _0x28be4a(0xc96):_0xc64c14=_0x28be4a(0x60d)+_0x1439b0[_0x28be4a(0x4d1)][_0x28be4a(0xa26)]((_0x108cbd,_0x3649b2)=>_0x28be4a(0x1cb)+_0x1b3236(_0x3649b2)+'.\x20'+_0x108cbd+_0x28be4a(0x9f5))['join']('<br>')+_0x28be4a(0xc4f);break;case _0x28be4a(0x7f4):_0xc64c14=_0x28be4a(0xadb);break;default:_0xc64c14='<div\x20class=\x22answer-space\x22></div>';break;}return _0x28be4a(0xc55)+(_0x21803f+0x1)+_0x28be4a(0x5f3)+(_0x1439b0[_0x28be4a(0x732)]||_0x1439b0['questionText'])+_0x28be4a(0x8c1)+(_0x1439b0[_0x28be4a(0x291)]?_0x28be4a(0x4fa)+_0x1439b0[_0x28be4a(0x291)]+_0x28be4a(0xc4f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc64c14+_0x28be4a(0x4f9);})['join']('')+_0x47e318(0xa71);_0x3d2eeb['document'][_0x47e318(0x19e)](_0x42dedc),_0x3d2eeb[_0x47e318(0x1d9)]['close'](),_0x3d2eeb[_0x47e318(0x920)]=function(){setTimeout(()=>{const _0x4ec2c6=_0x1f15;_0x3d2eeb[_0x4ec2c6(0xb5b)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x3c7abd=_0x4e7cd8;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x3c7abd(0x8d2));return;}const _0x25b8a2=currentQuizData,_0x366f28=window[_0x3c7abd(0x43d)]('',_0x3c7abd(0x1f4)),_0x4e3f7c=_0x174eed=>String[_0x3c7abd(0x92e)](0x41+_0x174eed),_0xa7b5a=_0x3c7abd(0x67a)+_0x25b8a2['topic']+_0x3c7abd(0xbc4)+_0x25b8a2['questions'][_0x3c7abd(0xa26)]((_0x4d527e,_0x27763e)=>{const _0x377250=_0x3c7abd;let _0x21ae01='';const _0x4ae046=_0x4d527e[_0x377250(0x93a)]||_0x25b8a2['quizType'];switch(_0x4ae046){case _0x377250(0x4bb):case _0x377250(0xc96):_0x21ae01=_0x377250(0xb41)+_0x4d527e[_0x377250(0x4d1)][_0x377250(0xa26)]((_0x2587f9,_0x3ddb5e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4e3f7c(_0x3ddb5e)+'.\x20'+_0x2587f9+_0x377250(0x46c))[_0x377250(0xab6)](_0x377250(0xa2b))+_0x377250(0xcac);break;case _0x377250(0x7f4):_0x21ae01=_0x377250(0x96f);break;default:_0x21ae01='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x25b8a2[_0x377250(0xcaf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x27763e+0x1)+_0x377250(0x585)+(_0x4d527e[_0x377250(0x732)]||_0x4d527e[_0x377250(0x2b3)])+_0x377250(0x8c1)+(_0x4d527e[_0x377250(0x291)]?_0x377250(0x27c)+_0x4d527e[_0x377250(0x291)]+'</div>':'')+_0x377250(0x857)+_0x21ae01+_0x377250(0xc18);})[_0x3c7abd(0xab6)]('')+_0x3c7abd(0x573);_0x366f28[_0x3c7abd(0x1d9)][_0x3c7abd(0x19e)](_0xa7b5a),_0x366f28[_0x3c7abd(0x1d9)][_0x3c7abd(0x6b6)](),_0x366f28[_0x3c7abd(0x920)]=function(){setTimeout(()=>{const _0x355bf2=_0x1f15;_0x366f28[_0x355bf2(0xb5b)]();},0x5dc);};}async function handleToggleStarQuiz(_0x4b1c89){const _0x5b3b83=_0x4e7cd8,_0x189384=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4b1c89);try{const _0x41138e=await getDoc(_0x189384);if(_0x41138e[_0x5b3b83(0x7b7)]()){const _0x5415b4=_0x41138e[_0x5b3b83(0x921)]()[_0x5b3b83(0xb86)]||![];await updateDoc(_0x189384,{'isStarred':!_0x5415b4});}}catch(_0x460287){console[_0x5b3b83(0x2da)](_0x5b3b83(0x4c0),_0x460287),showMessage(_0x5b3b83(0x4fc));}}async function displayQuestionBank(){const _0x2c4fdc=_0x4e7cd8,_0x42c1da=document[_0x2c4fdc(0x1c2)](_0x2c4fdc(0x89d));_0x42c1da[_0x2c4fdc(0x3e3)]=_0x2c4fdc(0xc38);try{const _0x2c420d=collection(db,_0x2c4fdc(0xbc5)+appId+_0x2c4fdc(0x521)+userId+'/questionBank'),_0x2ba8b3=query(_0x2c420d),_0x4d26a4=await getDocs(_0x2ba8b3);if(_0x4d26a4[_0x2c4fdc(0x25c)]){_0x42c1da['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x2fdcf4=_0x4d26a4['docs'][_0x2c4fdc(0xa26)](_0x509825=>{const _0x1d1b78=_0x2c4fdc,_0x5b1ddf=_0x509825[_0x1d1b78(0x921)](),_0x3fbabc=_0x509825['id'];return _0x1d1b78(0x6ca)+JSON[_0x1d1b78(0x462)](_0x5b1ddf)+_0x1d1b78(0x8e5)+(_0x5b1ddf[_0x1d1b78(0x2b3)]||_0x5b1ddf[_0x1d1b78(0x732)])+_0x1d1b78(0x390)+_0x5b1ddf[_0x1d1b78(0xacc)]+_0x1d1b78(0x236);})[_0x2c4fdc(0xab6)]('');_0x42c1da[_0x2c4fdc(0x3e3)]=_0x2c4fdc(0x695)+_0x2fdcf4+_0x2c4fdc(0x992),document[_0x2c4fdc(0x1c2)](_0x2c4fdc(0xc83))['addEventListener'](_0x2c4fdc(0xbdd),createQuizFromBank);}catch(_0x4d95e8){console[_0x2c4fdc(0x2da)](_0x2c4fdc(0x8bc),_0x4d95e8),_0x42c1da[_0x2c4fdc(0x3e3)]=_0x2c4fdc(0x8eb);}}async function handleExportLessonToPDF(){const _0x182116=_0x4e7cd8,_0x3b4e08=document[_0x182116(0x1c2)]('lesson-sections-container'),_0xe74f26=document['getElementById'](_0x182116(0x830))[_0x182116(0x9a1)]||_0x182116(0x244);if(!_0x3b4e08){showMessage(_0x182116(0xb91));return;}const _0x486286=window[_0x182116(0x43d)]('',_0x182116(0x1f4)),_0xea0392=_0x182116(0x164)+_0xe74f26+_0x182116(0xa6c)+_0xe74f26+_0x182116(0x7d3)+_0x3b4e08[_0x182116(0x3e3)]+_0x182116(0xa71);_0x486286['document']['write'](_0xea0392),_0x486286[_0x182116(0x1d9)][_0x182116(0x6b6)](),_0x486286['onload']=function(){setTimeout(()=>{const _0x569c7d=_0x1f15;_0x486286[_0x569c7d(0xb5b)]();},0x7d0);};}function showAdminLiveQuestionView(_0x105994,_0x1ce23e,_0x38bc6c){const _0x321be=_0x4e7cd8,_0x48cb5e=_0x105994[_0x321be(0x93a)]||currentQuizData[_0x321be(0x769)];let _0x512d00='';if(_0x48cb5e===_0x321be(0x4bb)||_0x48cb5e===_0x321be(0x7f4)){const _0x28d49a=_0x48cb5e===_0x321be(0x7f4)?[_0x321be(0x41b),'ไม่ใช่']:_0x105994[_0x321be(0x4d1)],_0x1ddbc4=_0x48cb5e===_0x321be(0x7f4)?_0x105994[_0x321be(0x209)]?0x0:0x1:_0x105994['correctAnswerIndex'];_0x512d00=_0x28d49a[_0x321be(0xa26)]((_0x2eac13,_0x18aa53)=>_0x321be(0x237)+(_0x18aa53===_0x1ddbc4)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2eac13+_0x321be(0x6e8))['join']('');}else{if(_0x48cb5e==='matching_item'){const _0x4fd2be=_0x105994[_0x321be(0x998)]||[];_0x512d00=_0x4fd2be[_0x321be(0xa26)](_0x2ac12b=>_0x321be(0x237)+(_0x2ac12b===_0x105994[_0x321be(0x47a)])+_0x321be(0x2f6)+_0x2ac12b+_0x321be(0x6e8))['join']('');}}const _0x3be41a=_0x105994['stem']||_0x105994[_0x321be(0x2b3)],_0x508f7a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x1ce23e+0x1)+'\x20/\x20'+_0x38bc6c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x321be(0x23b)+_0x3be41a+_0x321be(0x47b)+_0x512d00+_0x321be(0x49e);liveGameView[_0x321be(0x3e3)]=_0x508f7a,window[_0x321be(0x196)]&&MathJax[_0x321be(0x7ca)]&&MathJax[_0x321be(0x7ca)]([liveGameView]),document[_0x321be(0x1c2)]('reveal-answer-btn')['addEventListener'](_0x321be(0xbdd),()=>revealAnswerForAdmin(_0x1ce23e,_0x38bc6c)),document['getElementById'](_0x321be(0x63a))[_0x321be(0xa37)](_0x321be(0xbdd),async()=>{const _0x1efe73=_0x321be;showConfirmation(_0x1efe73(0xa91),async()=>{const _0xd6ea80=_0x1efe73,_0x1a001d=doc(db,_0xd6ea80(0xbc5)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1a001d,{'status':'podium'});});}),document[_0x321be(0x1c2)]('manage-players-btn')[_0x321be(0xa37)](_0x321be(0xbdd),()=>{const _0x190fc7=_0x321be;document[_0x190fc7(0x1c2)](_0x190fc7(0x883))['classList'][_0x190fc7(0x770)](_0x190fc7(0x30a));});}function promptForProjectBeforeGenerating(_0x30d3b3){const _0x10807a=_0x4e7cd8,_0x35d528=document[_0x10807a(0x1c2)](_0x10807a(0xc6f)),_0x2cd632=document[_0x10807a(0x1c2)](_0x10807a(0x586)),_0xfe03b0=_0x35d528[_0x10807a(0x8b9)]('h3'),_0x245a4b=document[_0x10807a(0x1c2)](_0x10807a(0x4ec)),_0x2eba52=document[_0x10807a(0x1c2)](_0x10807a(0x7e5));_0xfe03b0[_0x10807a(0x9a1)]=_0x10807a(0x41a),_0x245a4b[_0x10807a(0x9a1)]='เลือกและเริ่มสร้าง',_0x245a4b[_0x10807a(0x78a)]=!![];allProjects[_0x10807a(0xa90)]===0x0?_0x2cd632['innerHTML']=_0x10807a(0x8d9):(_0x2cd632[_0x10807a(0x3e3)]=_0x10807a(0x6e2)+allProjects['map'](_0x43b59a=>_0x10807a(0xc29)+_0x43b59a['id']+'\x22>'+_0x43b59a[_0x10807a(0xa74)]+'</option>')[_0x10807a(0xab6)](''),_0x245a4b[_0x10807a(0x78a)]=![]);_0x35d528['classList'][_0x10807a(0x1f9)](_0x10807a(0x30a));const _0xf7a785=async()=>{const _0x35dafd=_0x10807a,_0x5d7ccc=_0x2cd632[_0x35dafd(0x9f1)];if(!_0x5d7ccc){showMessage(_0x35dafd(0x2f7));return;}_0x35d528['classList'][_0x35dafd(0x7d7)](_0x35dafd(0x30a)),await loadProjectDetails(_0x5d7ccc),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x30d3b3),_0x29108a();},_0x29108a=()=>{const _0x5a1945=_0x10807a;_0xfe03b0[_0x5a1945(0x9a1)]=_0x5a1945(0x44f),_0x245a4b[_0x5a1945(0x9a1)]=_0x5a1945(0xbcd),_0x245a4b[_0x5a1945(0x208)]('click',_0xf7a785),_0x2eba52[_0x5a1945(0x208)]('click',_0x29108a),_0x245a4b[_0x5a1945(0xa37)](_0x5a1945(0xbdd),confirmMoveQuiz);};_0x245a4b[_0x10807a(0x208)](_0x10807a(0xbdd),confirmMoveQuiz),_0x245a4b[_0x10807a(0xa37)]('click',_0xf7a785),_0x2eba52[_0x10807a(0xa37)]('click',_0x29108a);}function showStudentLiveQuestionView(_0x3ed6cf,_0x27ca92,_0x4516a8){const _0x3b3acf=_0x4e7cd8,_0x54115d=_0x3ed6cf[_0x3b3acf(0x93a)]||currentQuizData[_0x3b3acf(0x769)];let _0x4cb724='';if(_0x54115d===_0x3b3acf(0x4bb)||_0x54115d===_0x3b3acf(0x7f4)){const _0x4e75be=_0x54115d==='true_false'?['ใช่',_0x3b3acf(0x422)]:_0x3ed6cf['options'];_0x4cb724=_0x4e75be[_0x3b3acf(0xa26)]((_0x35bd40,_0x41fd9f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x41fd9f+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35bd40+_0x3b3acf(0x6f8))[_0x3b3acf(0xab6)]('');}else{if(_0x54115d===_0x3b3acf(0x220)){const _0x1da96d=_0x3ed6cf['allResponses']||[];_0x4cb724=_0x1da96d[_0x3b3acf(0xa26)]((_0x2838b2,_0x266874)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x266874+_0x3b3acf(0x43e)+_0x2838b2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3b3acf(0xab6)]('');}else _0x54115d===_0x3b3acf(0xc3f)&&(_0x4cb724=_0x3b3acf(0x4e7));}const _0xcd2ee3=_0x3ed6cf[_0x3b3acf(0x732)]||_0x3ed6cf[_0x3b3acf(0x2b3)],_0x56f257=_0x3b3acf(0x27a)+(_0x27ca92+0x1)+_0x3b3acf(0xbbf)+_0x4516a8+_0x3b3acf(0x255)+_0xcd2ee3+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cb724+_0x3b3acf(0x3f5);liveGameView[_0x3b3acf(0x3e3)]=_0x56f257;window[_0x3b3acf(0x196)]&&MathJax[_0x3b3acf(0x7ca)]&&MathJax[_0x3b3acf(0x7ca)]([liveGameView]);const _0x20a14f=document[_0x3b3acf(0x1c2)](_0x3b3acf(0x74f));_0x20a14f&&_0x20a14f[_0x3b3acf(0xa37)](_0x3b3acf(0xbdd),()=>{const _0x5cbbe5=_0x3b3acf,_0x43c3b0=document['getElementById'](_0x5cbbe5(0xb99))[_0x5cbbe5(0x9f1)];handleLiveAnswer(_0x43c3b0,_0x3ed6cf);}),document[_0x3b3acf(0x1c2)]('live-options-container')[_0x3b3acf(0xa37)]('click',_0x280fee=>{const _0x5cc509=_0x3b3acf,_0x39078b=_0x280fee[_0x5cc509(0x12a)][_0x5cc509(0xbdf)](_0x5cc509(0x7d4));if(_0x39078b){const _0x26dbc3=parseInt(_0x39078b['dataset'][_0x5cc509(0x1cc)]);handleLiveAnswer(_0x26dbc3,_0x3ed6cf);}});}function listenForBlueprintShortcuts(){const _0x13225f=_0x4e7cd8,_0x16906f=doc(db,_0x13225f(0x7a0),'dashboardConfig');onSnapshot(_0x16906f,_0xcb01b1=>{const _0x1e5c90=_0x13225f;let _0x1cf6a1=[],_0x2058af=[],_0x28f2cf={};if(_0xcb01b1['exists']()){const _0x52394b=_0xcb01b1['data']();_0x1cf6a1=_0x52394b['blueprintShortcuts']||[],_0x2058af=_0x52394b[_0x1e5c90(0xb19)]||[],_0x28f2cf=_0x52394b[_0x1e5c90(0x32b)]||{};}!_0x2058af[_0x1e5c90(0x135)](_0x1a597c=>_0x1a597c['id']===_0x1e5c90(0x3ca))&&_0x2058af[_0x1e5c90(0x7ac)]({'id':_0x1e5c90(0x3ca),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x1cf6a1[_0x1e5c90(0x135)](_0x4c1890=>_0x4c1890['id']===_0x1e5c90(0x675))&&_0x1cf6a1[_0x1e5c90(0x7ac)]({'id':_0x1e5c90(0x675),'name':_0x1e5c90(0x29b),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x1cf6a1[_0x1e5c90(0x135)](_0x58927b=>_0x58927b['id']==='default-2')&&_0x1cf6a1[_0x1e5c90(0x7ac)]({'id':'default-2','name':_0x1e5c90(0x6d4),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x1cf6a1,shortcutTabs=_0x2058af,shortcutOrder=_0x28f2cf,renderBlueprintShortcuts(),!document['getElementById'](_0x1e5c90(0x548))[_0x1e5c90(0x12e)][_0x1e5c90(0xa84)](_0x1e5c90(0x30a))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x50042f=_0x4e7cd8,_0x390d4c=document[_0x50042f(0x1c2)](_0x50042f(0x357)),_0x571a0f=document['getElementById']('additional-shortcuts-list');if(!_0x390d4c||!_0x571a0f)return;_0x390d4c[_0x50042f(0x3e3)]=shortcutTabs['map'](_0x4dd6e6=>{const _0x11fe91=_0x50042f,_0x149823=_0x4dd6e6['id']===activeShortcutTabId,_0x196563=_0x11fe91(0xabe),_0x5bf779=_0x11fe91(0x4a5);return _0x11fe91(0x65b)+_0x4dd6e6['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x149823?_0x196563:_0x5bf779)+_0x11fe91(0xb07)+_0x4dd6e6['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x4dd6e6[_0x11fe91(0x82b)]+_0x11fe91(0x38c)+(!_0x4dd6e6[_0x11fe91(0x333)]?_0x11fe91(0x4bc)+_0x4dd6e6['id']+_0x11fe91(0x676):'')+_0x11fe91(0x6e8);})[_0x50042f(0xab6)]('');const _0x5a8c20=shortcutTabs[_0x50042f(0x135)](_0x321299=>_0x321299['id']===activeShortcutTabId);let _0xbc59e6=[];if(_0x5a8c20){if(_0x5a8c20[_0x50042f(0x333)])_0xbc59e6=[...blueprintShortcuts];else{const _0x30bad2=_0x5a8c20[_0x50042f(0x858)]||[];_0xbc59e6=blueprintShortcuts[_0x50042f(0x473)](_0x425742=>_0x30bad2[_0x50042f(0x4c2)](_0x425742['id']));}}const _0x4ceea8=shortcutOrder[activeShortcutTabId]||[];_0xbc59e6[_0x50042f(0x327)]((_0xf2ac3d,_0x2d6509)=>{const _0x2b8e9b=_0x50042f,_0x5be72c=_0x4ceea8[_0x2b8e9b(0xb27)](_0xf2ac3d['id']),_0x343401=_0x4ceea8[_0x2b8e9b(0xb27)](_0x2d6509['id']);if(_0x5be72c===-0x1)return 0x1;if(_0x343401===-0x1)return-0x1;return _0x5be72c-_0x343401;}),_0x571a0f[_0x50042f(0x3e3)]=_0xbc59e6['length']>0x0?_0xbc59e6[_0x50042f(0xa26)](_0x23d089=>{const _0x502b57=_0x50042f;let _0x3ee725='🧩';if(_0x23d089[_0x502b57(0x5bf)]&&_0x23d089['referenceUrl'])_0x3ee725='📗';else{if(_0x23d089[_0x502b57(0x5bf)])_0x3ee725='📘';}const _0x2a5a04=shortcutTabs[_0x502b57(0x473)](_0x3d4fb3=>!_0x3d4fb3[_0x502b57(0x333)]),_0x5e9ce4=_0x5a8c20[_0x502b57(0x333)]&&_0x2a5a04[_0x502b57(0xa90)]>0x0?_0x502b57(0x4eb)+_0x2a5a04[_0x502b57(0xa26)](_0x534821=>_0x502b57(0xca3)+_0x23d089['id']+_0x502b57(0x452)+_0x534821['id']+'\x22>'+_0x534821[_0x502b57(0x82b)]+_0x502b57(0x679))[_0x502b57(0xab6)]('')+_0x502b57(0x9fd):'';return _0x502b57(0x6cf)+_0x23d089['id']+_0x502b57(0x89e)+_0x3ee725+'\x20'+_0x23d089[_0x502b57(0x82b)]+_0x502b57(0x389)+_0x23d089['id']+_0x502b57(0x73b)+_0x23d089['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x23d089[_0x502b57(0x333)]?_0x502b57(0x21c)+_0x23d089['id']+_0x502b57(0x863):'')+_0x502b57(0x4cc)+(!_0x5a8c20[_0x502b57(0x333)]?_0x502b57(0x41c)+_0x23d089['id']+_0x502b57(0x6c2):'')+_0x502b57(0x4cc)+_0x5e9ce4+_0x502b57(0x9f3);})[_0x50042f(0xab6)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x43192b=_0x4e7cd8;document[_0x43192b(0x9f4)](_0x43192b(0x5ed))[_0x43192b(0x8ca)](_0x3a959b=>{const _0x56dd95=_0x43192b;_0x3a959b['addEventListener'](_0x56dd95(0xbdd),_0x4e1c4a=>{const _0x427e42=_0x56dd95;activeShortcutTabId=_0x4e1c4a[_0x427e42(0x686)][_0x427e42(0x928)]['tabId'],renderAdditionalShortcutsModal();}),_0x3a959b[_0x56dd95(0xa37)]('dblclick',_0x12d711=>{const _0x57e6a1=_0x56dd95,_0x135f75=_0x12d711[_0x57e6a1(0x686)];_0x135f75['querySelector'](_0x57e6a1(0x2a1))[_0x57e6a1(0x12e)][_0x57e6a1(0x7d7)](_0x57e6a1(0x30a));const _0xaa4d8d=_0x135f75[_0x57e6a1(0x8b9)](_0x57e6a1(0x2dc));_0xaa4d8d[_0x57e6a1(0x12e)][_0x57e6a1(0x1f9)]('hidden'),_0xaa4d8d[_0x57e6a1(0xa2f)](),_0xaa4d8d['select']();});}),document[_0x43192b(0x9f4)](_0x43192b(0x2dc))[_0x43192b(0x8ca)](_0x4a2882=>{const _0x58e248=_0x43192b,_0x309e58=()=>{const _0x636274=_0x1f15,_0x5e815a=_0x4a2882[_0x636274(0xbdf)](_0x636274(0x5ed))['dataset'][_0x636274(0x4b1)];handleRenameShortcutTab(_0x5e815a,_0x4a2882[_0x636274(0x9f1)]);};_0x4a2882[_0x58e248(0xa37)]('blur',_0x309e58),_0x4a2882[_0x58e248(0xa37)](_0x58e248(0x31d),_0x152bc3=>{const _0x18f2d7=_0x58e248;if(_0x152bc3[_0x18f2d7(0xa1e)]===_0x18f2d7(0x416))_0x4a2882['blur']();});}),document['querySelectorAll']('.delete-shortcut-tab-btn')['forEach'](_0x54459c=>{const _0x2a8236=_0x43192b;_0x54459c[_0x2a8236(0xa37)](_0x2a8236(0xbdd),_0x2c478e=>handleDeleteShortcutTab(_0x2c478e[_0x2a8236(0x686)][_0x2a8236(0x928)][_0x2a8236(0x4b1)]));}),document[_0x43192b(0x9f4)](_0x43192b(0x5d8))[_0x43192b(0x8ca)](_0x4f9621=>{const _0x1e3996=_0x43192b;_0x4f9621[_0x1e3996(0xa37)](_0x1e3996(0xbdd),_0x336030=>{const _0x3e5e07=_0x1e3996;_0x336030[_0x3e5e07(0x3fd)]();const {shortcutId:_0x1317ba,targetTabId:_0x5178da}=_0x336030[_0x3e5e07(0x686)][_0x3e5e07(0x928)];handleMoveShortcutToTab(_0x1317ba,_0x5178da);});}),document[_0x43192b(0x9f4)]('.remove-shortcut-from-tab-btn')[_0x43192b(0x8ca)](_0x22dca6=>{const _0x331d50=_0x43192b;_0x22dca6[_0x331d50(0xa37)]('click',_0x4721d3=>{const _0x472e3d=_0x331d50;handleRemoveShortcutFromTab(_0x4721d3[_0x472e3d(0x686)]['dataset'][_0x472e3d(0xaad)],activeShortcutTabId);});});const _0xed503d=document[_0x43192b(0x1c2)](_0x43192b(0x2f8));_0xed503d['querySelectorAll'](_0x43192b(0xa66))[_0x43192b(0x8ca)](_0x55b907=>{const _0x397c77=_0x43192b;_0x55b907[_0x397c77(0xa37)](_0x397c77(0xbdd),()=>{const _0x5ac6ef=_0x397c77;document['getElementById']('additional-shortcuts-modal')[_0x5ac6ef(0x12e)][_0x5ac6ef(0x7d7)](_0x5ac6ef(0x30a)),handleShortcutClick(_0x55b907['dataset']['id']);});});let _0x1be18a=null;_0xed503d[_0x43192b(0xa37)](_0x43192b(0x2f5),_0x606e65=>{const _0x58eb94=_0x43192b;_0x1be18a=_0x606e65[_0x58eb94(0x12a)]['closest'](_0x58eb94(0xc79)),_0x1be18a&&setTimeout(()=>_0x1be18a[_0x58eb94(0x12e)][_0x58eb94(0x7d7)](_0x58eb94(0x936)),0x0);}),_0xed503d[_0x43192b(0xa37)](_0x43192b(0x2d2),()=>{const _0x2ddc23=_0x43192b;_0x1be18a&&(_0x1be18a['classList'][_0x2ddc23(0x1f9)]('opacity-50'),_0x1be18a=null);}),_0xed503d['addEventListener'](_0x43192b(0xa30),_0x573268=>{const _0x1adb1d=_0x43192b;_0x573268[_0x1adb1d(0x3fd)]();const _0x212668=[..._0xed503d[_0x1adb1d(0x9f4)](_0x1adb1d(0x353))]['reduce']((_0x1cb8b8,_0x299acf)=>{const _0x2872f2=_0x1adb1d,_0x1de52d=_0x299acf['getBoundingClientRect'](),_0x518ab5=_0x573268[_0x2872f2(0xb1f)]-_0x1de52d['top']-_0x1de52d[_0x2872f2(0x59f)]/0x2;return _0x518ab5<0x0&&_0x518ab5>_0x1cb8b8[_0x2872f2(0x437)]?{'offset':_0x518ab5,'element':_0x299acf}:_0x1cb8b8;},{'offset':Number[_0x1adb1d(0xb59)]})[_0x1adb1d(0xa20)];_0x212668==null?_0xed503d['appendChild'](_0x1be18a):_0xed503d['insertBefore'](_0x1be18a,_0x212668);}),_0xed503d[_0x43192b(0xa37)](_0x43192b(0x298),_0x278fa3=>{const _0x491737=_0x43192b;_0x278fa3[_0x491737(0x3fd)]();if(_0x1be18a){const _0x38e7f4=[..._0xed503d[_0x491737(0x9f4)](_0x491737(0xc79))]['map'](_0x39d5c5=>_0x39d5c5['dataset'][_0x491737(0xaad)]);handleShortcutOrderChange(activeShortcutTabId,_0x38e7f4);}}),document[_0x43192b(0x9f4)](_0x43192b(0x1e1))[_0x43192b(0x8ca)](_0x312c69=>{const _0x11892a=_0x43192b;_0x312c69[_0x11892a(0xa37)](_0x11892a(0xbdd),_0x41a3a5=>{const _0x27d105=_0x11892a;_0x41a3a5[_0x27d105(0x3d3)]();const _0x1c73c6=_0x41a3a5['currentTarget'][_0x27d105(0x4d4)],_0x5a0fbc=_0x1c73c6[_0x27d105(0x12e)][_0x27d105(0xa84)]('hidden');document[_0x27d105(0x9f4)](_0x27d105(0x4e0))['forEach'](_0x494bcb=>_0x494bcb[_0x27d105(0x12e)]['add'](_0x27d105(0x30a))),_0x5a0fbc&&_0x1c73c6['classList'][_0x27d105(0x1f9)](_0x27d105(0x30a));});});}document[_0x4e7cd8(0xa37)](_0x4e7cd8(0xbdd),_0x2341d9=>{const _0x50cf03=_0x4e7cd8;!_0x2341d9[_0x50cf03(0x12a)][_0x50cf03(0xbdf)](_0x50cf03(0x5cb))&&document[_0x50cf03(0x9f4)](_0x50cf03(0x4e0))[_0x50cf03(0x8ca)](_0x44db33=>_0x44db33[_0x50cf03(0x12e)][_0x50cf03(0x7d7)]('hidden'));});async function saveShortcutConfig(){const _0x29127b=_0x4e7cd8,_0x47e385=doc(db,'globalSettings',_0x29127b(0x5e6));try{await setDoc(_0x47e385,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x2d2b74){console[_0x29127b(0x2da)]('Error\x20saving\x20shortcut\x20config:',_0x2d2b74);}}async function handleAddShortcutTab(){const _0x5ed5a1=_0x4e7cd8,_0x2dd9ba=prompt(_0x5ed5a1(0x6ce),_0x5ed5a1(0x127));if(!_0x2dd9ba||_0x2dd9ba['trim']()==='')return;shortcutTabs[_0x5ed5a1(0x6d9)]({'id':_0x5ed5a1(0x336)+Date[_0x5ed5a1(0x6d6)](),'name':_0x2dd9ba[_0x5ed5a1(0x492)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x101043,_0x3c23a1){const _0x46391c=_0x4e7cd8,_0x241fdd=shortcutTabs['find'](_0x54ef81=>_0x54ef81['id']===_0x101043);_0x241fdd&&_0x3c23a1[_0x46391c(0x492)]()!==''&&(_0x241fdd[_0x46391c(0x82b)]=_0x3c23a1['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x58005b){const _0x7d4ad3=_0x4e7cd8,_0x540bba=shortcutTabs[_0x7d4ad3(0x135)](_0x2f0eb9=>_0x2f0eb9['id']===_0x58005b);_0x540bba&&!_0x540bba[_0x7d4ad3(0x333)]&&showConfirmation(_0x7d4ad3(0x35c)+_0x540bba[_0x7d4ad3(0x82b)]+_0x7d4ad3(0x61d),async()=>{const _0x3ca6ba=_0x7d4ad3;shortcutTabs=shortcutTabs[_0x3ca6ba(0x473)](_0xf9f23e=>_0xf9f23e['id']!==_0x58005b),delete shortcutOrder[_0x58005b];if(activeShortcutTabId===_0x58005b)activeShortcutTabId=_0x3ca6ba(0x3ca);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x245903,_0x5dae83){const _0x3e68ba=_0x4e7cd8,_0x13f5ee=shortcutTabs['find'](_0x3f2c36=>_0x3f2c36['id']===_0x5dae83);_0x13f5ee&&!_0x13f5ee[_0x3e68ba(0x858)][_0x3e68ba(0x4c2)](_0x245903)&&(_0x13f5ee[_0x3e68ba(0x858)][_0x3e68ba(0x6d9)](_0x245903),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x4e9133,_0x51b6da){const _0x7ad4ff=_0x4e7cd8,_0x2bb884=shortcutTabs[_0x7ad4ff(0x135)](_0x2225bb=>_0x2225bb['id']===_0x51b6da);_0x2bb884&&!_0x2bb884['isDefault']&&(_0x2bb884[_0x7ad4ff(0x858)]=_0x2bb884[_0x7ad4ff(0x858)][_0x7ad4ff(0x473)](_0x55ea97=>_0x55ea97!==_0x4e9133),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x489d37,_0xc77e2){shortcutOrder[_0x489d37]=_0xc77e2,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x3f1824=_0x4e7cd8,_0x3510fe=document[_0x3f1824(0x1c2)](_0x3f1824(0x898)),_0xcacbe8=document['getElementById'](_0x3f1824(0x2f8)),_0x59a718=document[_0x3f1824(0x1c2)](_0x3f1824(0x981));_0x59a718&&_0x59a718[_0x3f1824(0x12e)]['add']('hidden');if(!_0x3510fe||!_0xcacbe8)return;const _0x8f196c=blueprintShortcuts[_0x3f1824(0xb79)](0x0,0x4),_0x58c82d=blueprintShortcuts[_0x3f1824(0xb79)](0x4);_0x3510fe[_0x3f1824(0x3e3)]=_0x8f196c[_0x3f1824(0xa26)](_0x4b0a80=>{const _0x576326=_0x3f1824;let _0x1468e0=_0x576326(0xafe),_0x7f7761='🧩';if(_0x4b0a80[_0x576326(0x5bf)]&&_0x4b0a80[_0x576326(0x5fc)])_0x1468e0='bg-green-500\x20hover:bg-green-600\x20text-white',_0x7f7761='📗';else _0x4b0a80[_0x576326(0x5bf)]&&(_0x1468e0='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x7f7761='📘');const _0x5e55b5=!_0x4b0a80[_0x576326(0x333)]?_0x576326(0x21c)+_0x4b0a80['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x576326(0x27f)+_0x4b0a80['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x1468e0+_0x576326(0xa31)+_0x7f7761+'\x20'+_0x4b0a80[_0x576326(0x82b)]+_0x576326(0x4af)+_0x4b0a80['id']+_0x576326(0xc36)+_0x5e55b5+_0x576326(0x6e8);})[_0x3f1824(0xab6)](''),_0x58c82d[_0x3f1824(0xa90)]>0x0&&(_0x3510fe[_0x3f1824(0x3e3)]+=_0x3f1824(0x256)),_0x58c82d['length']>0x0?_0xcacbe8[_0x3f1824(0x3e3)]=_0x58c82d['map'](_0x264909=>{const _0x3f4132=_0x3f1824;let _0x4d3520='🧩';if(_0x264909[_0x3f4132(0x5bf)]&&_0x264909['referenceUrl'])_0x4d3520='📗';else _0x264909[_0x3f4132(0x5bf)]&&(_0x4d3520='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x4d3520+'\x20'+_0x264909[_0x3f4132(0x82b)]+_0x3f4132(0x389)+_0x264909['id']+_0x3f4132(0x73b)+_0x264909['id']+_0x3f4132(0xaf3)+(!_0x264909[_0x3f4132(0x333)]?'<button\x20data-id=\x22'+_0x264909['id']+_0x3f4132(0x863):'')+_0x3f4132(0x36e);})[_0x3f1824(0xab6)](''):_0xcacbe8[_0x3f1824(0x3e3)]=_0x3f1824(0xbce);}function getMimeTypeFromFilename(_0x40b3c9){const _0x38f33d=_0x4e7cd8,_0x3e0a42=_0x40b3c9[_0x38f33d(0x671)]('.')['pop']()['toLowerCase']();switch(_0x3e0a42){case _0x38f33d(0xa40):return'application/pdf';case _0x38f33d(0xc4a):return _0x38f33d(0x523);default:return _0x38f33d(0x37f);}}function openShortcutEditor(_0x2dcd00=null){const _0x5d8316=_0x4e7cd8,_0x84a104=document['getElementById'](_0x5d8316(0x359)),_0x44069b=document['getElementById']('shortcut-modal-title'),_0x30f752=document['getElementById'](_0x5d8316(0x3bc)),_0x240f52=document['getElementById'](_0x5d8316(0x4e5)),_0x3e6531=document['getElementById'](_0x5d8316(0x68f)),_0x473e08=document[_0x5d8316(0x1c2)](_0x5d8316(0x1dd));if(_0x2dcd00){const _0x17e16c=blueprintShortcuts['find'](_0x5eb87f=>_0x5eb87f['id']===_0x2dcd00);if(!_0x17e16c)return;_0x44069b[_0x5d8316(0x9a1)]=_0x5d8316(0xa6f),_0x30f752[_0x5d8316(0x9f1)]=_0x17e16c['id'],_0x240f52['value']=_0x17e16c[_0x5d8316(0x82b)],_0x3e6531[_0x5d8316(0x9f1)]=_0x17e16c[_0x5d8316(0x5bf)]||'',_0x473e08['value']=_0x17e16c[_0x5d8316(0x5fc)]||'';}else _0x44069b[_0x5d8316(0x9a1)]='เพิ่มปุ่มลัดใหม่',_0x30f752[_0x5d8316(0x9f1)]='',_0x240f52[_0x5d8316(0x9f1)]='',_0x3e6531[_0x5d8316(0x9f1)]='',_0x473e08[_0x5d8316(0x9f1)]='';_0x84a104[_0x5d8316(0x12e)][_0x5d8316(0x1f9)](_0x5d8316(0x30a));}async function saveShortcutChanges(){const _0x3e1edf=_0x4e7cd8,_0x3da280=document['getElementById']('shortcut-id-input')[_0x3e1edf(0x9f1)],_0x2a4393=document['getElementById'](_0x3e1edf(0x4e5))[_0x3e1edf(0x9f1)][_0x3e1edf(0x492)](),_0xd91f0c=document[_0x3e1edf(0x1c2)]('shortcut-blueprint-url-input')[_0x3e1edf(0x9f1)][_0x3e1edf(0x492)]();if(!_0x2a4393||!_0xd91f0c){showMessage(_0x3e1edf(0x5ea));return;}const _0x268fcc={'id':_0x3da280||'shortcut_'+Date['now'](),'name':_0x2a4393,'blueprintUrl':_0xd91f0c,'referenceUrl':document['getElementById'](_0x3e1edf(0x1dd))[_0x3e1edf(0x9f1)][_0x3e1edf(0x492)](),'isDefault':_0x3da280[_0x3e1edf(0x384)](_0x3e1edf(0x81b))};let _0xd79b69;_0x3da280?_0xd79b69=blueprintShortcuts['map'](_0x4a4309=>_0x4a4309['id']===_0x3da280?_0x268fcc:_0x4a4309):_0xd79b69=[...blueprintShortcuts,_0x268fcc];try{const _0x1b2b28=doc(db,'globalSettings',_0x3e1edf(0x5e6));await setDoc(_0x1b2b28,{'blueprintShortcuts':_0xd79b69},{'merge':!![]}),document[_0x3e1edf(0x1c2)](_0x3e1edf(0x359))[_0x3e1edf(0x12e)][_0x3e1edf(0x7d7)]('hidden');}catch(_0x3de5fa){console[_0x3e1edf(0x2da)](_0x3e1edf(0xb05),_0x3de5fa),showMessage(_0x3e1edf(0x227));}}async function handleShortcutClick(_0x44ee1b){const _0x14330f=_0x4e7cd8,_0xc6c354=blueprintShortcuts['find'](_0x414d7a=>_0x414d7a['id']===_0x44ee1b);if(!_0xc6c354||!_0xc6c354[_0x14330f(0x5bf)])return;document[_0x14330f(0x1c2)](_0x14330f(0xbf9))[_0x14330f(0x12e)][_0x14330f(0x7d7)](_0x14330f(0x30a)),document['getElementById'](_0x14330f(0x792))[_0x14330f(0x78a)]=!![];const _0x488dbe=document[_0x14330f(0x1c2)](_0x14330f(0xad6)),_0x5b9fe9=document['getElementById'](_0x14330f(0xa09));document[_0x14330f(0x1c2)](_0x14330f(0x280))[_0x14330f(0x12e)][_0x14330f(0x1f9)]('hidden'),document[_0x14330f(0x1c2)](_0x14330f(0x188))[_0x14330f(0x3e3)]='',_0x488dbe[_0x14330f(0x12e)][_0x14330f(0x1f9)](_0x14330f(0x30a));try{_0x5b9fe9[_0x14330f(0x9a1)]=_0x14330f(0x797);const _0x1e8ee6=await fetchFileFromUrl(_0xc6c354[_0x14330f(0x5bf)],_0x14330f(0x233));let _0x40b105=null;if(_0xc6c354[_0x14330f(0x5fc)]){_0x5b9fe9[_0x14330f(0x9a1)]=_0x14330f(0x43b);const _0x5725fb=_0xc6c354[_0x14330f(0x5fc)][_0x14330f(0x7a9)]()[_0x14330f(0xc82)](_0x14330f(0x137))?'reference.txt':_0x14330f(0x320);_0x40b105=await fetchFileFromUrl(_0xc6c354['referenceUrl'],_0x5725fb);}await handleGenerateFromBlueprintWithFiles(_0x1e8ee6,_0x40b105);}catch(_0x4dc324){console[_0x14330f(0x2da)](_0x14330f(0xbd0),_0x4dc324),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4dc324[_0x14330f(0x516)]),_0x488dbe[_0x14330f(0x12e)][_0x14330f(0x7d7)](_0x14330f(0x30a));}}function getDirectDownloadUrl(_0x24553e){const _0x39c606=_0x4e7cd8,_0x11fc7a=_0x24553e['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x11fc7a&&_0x11fc7a[0x1])return _0x39c606(0x364)+_0x11fc7a[0x1];return _0x24553e;}async function fetchFileFromUrl(_0x1291fb,_0x1ca304){const _0x54edec=_0x4e7cd8,_0x5edab3=getDirectDownloadUrl(_0x1291fb),_0xa3d841=_0x54edec(0xa80)+encodeURIComponent(_0x5edab3),_0xce4eac=await fetch(_0xa3d841);if(!_0xce4eac['ok'])throw new Error(_0x54edec(0x7c5)+_0xce4eac[_0x54edec(0xb37)]+')');const _0x27264b=await _0xce4eac[_0x54edec(0x78f)](),_0x296b31=await new Promise((_0x5c38fe,_0x235e6e)=>{const _0x30b360=_0x54edec,_0x18ea6b=new FileReader();_0x18ea6b['onloadend']=()=>_0x5c38fe(new Uint8Array(_0x18ea6b[_0x30b360(0x261)])),_0x18ea6b[_0x30b360(0x311)]=_0x235e6e,_0x18ea6b[_0x30b360(0x408)](_0x27264b['slice'](0x0,0x4));});let _0x5380bd='';const _0x5e83c4=new TextDecoder()[_0x54edec(0x776)](_0x296b31);return _0x5e83c4===_0x54edec(0x93f)?(_0x5380bd=_0x54edec(0x37f),console[_0x54edec(0x511)](_0x54edec(0x7d2))):(_0x5380bd=_0x54edec(0x523),console[_0x54edec(0x511)](_0x54edec(0x8a5))),new File([_0x27264b],_0x1ca304,{'type':_0x5380bd});}async function handleGenerateFromBlueprintWithFiles(_0x2b3f85,_0x2ff769=null){const _0x45226c=_0x4e7cd8;if(!_0x2b3f85){showMessage(_0x45226c(0xc2f));return;}const _0x20a4e4=document['getElementById'](_0x45226c(0xad6)),_0x21bedc=document[_0x45226c(0x1c2)](_0x45226c(0xa09));_0x20a4e4[_0x45226c(0x12e)]['remove'](_0x45226c(0x30a)),document[_0x45226c(0x1c2)](_0x45226c(0x280))[_0x45226c(0x12e)][_0x45226c(0x1f9)](_0x45226c(0x30a)),document[_0x45226c(0x1c2)]('generated-quiz-container')['innerHTML']='';try{_0x21bedc['textContent']=_0x45226c(0xcb6);const _0x222d51=await new Promise((_0x4568ba,_0x33fa37)=>{const _0x1fb207=_0x45226c,_0x499667=new FileReader();_0x499667['readAsDataURL'](_0x2b3f85),_0x499667['onload']=()=>_0x4568ba(_0x499667['result'][_0x1fb207(0x671)](',')[0x1]),_0x499667[_0x1fb207(0x311)]=_0x33fa37;}),_0x46524d=[];if(_0x2ff769){_0x21bedc[_0x45226c(0x9a1)]=_0x45226c(0x717);const _0x3ca27a=await _0x2ff769[_0x45226c(0x4d7)]();_0x46524d[_0x45226c(0x6d9)]({'text':_0x45226c(0x947)+_0x3ca27a});}const _0x5a623e=[{'text':_0x45226c(0x381)},{'inlineData':{'mimeType':_0x2b3f85[_0x45226c(0x248)],'data':_0x222d51}},..._0x46524d];await handleGenerateFromBlueprint(_0x5a623e);}catch(_0x5512c6){console['error'](_0x45226c(0x141),_0x5512c6),showMessage(_0x45226c(0xb7c)+_0x5512c6[_0x45226c(0x516)]),_0x20a4e4[_0x45226c(0x12e)][_0x45226c(0x7d7)](_0x45226c(0x30a));}}async function handleLiveAnswer(_0x19cad9,_0x3b64f5){const _0x9f5980=_0x4e7cd8;document[_0x9f5980(0x9f4)](_0x9f5980(0x271))[_0x9f5980(0x8ca)](_0x26d6fd=>_0x26d6fd['disabled']=!![]);const _0x5849a8=_0x3b64f5['questionType']||currentQuizData[_0x9f5980(0x769)];let _0x1dc88f=![],_0x29221c=_0x19cad9;if(_0x5849a8==='short_answer'){const _0xd9c11c=(_0x19cad9||'')['toString']();_0x1dc88f=await gradeShortAnswer(_0xd9c11c,_0x3b64f5);}else{if(_0x5849a8==='multiple_choice')_0x1dc88f=_0x19cad9===_0x3b64f5[_0x9f5980(0xcab)];else{if(_0x5849a8===_0x9f5980(0x7f4)){const _0x3344c0=_0x3b64f5[_0x9f5980(0x209)];_0x1dc88f=_0x19cad9===0x0&&_0x3344c0||_0x19cad9===0x1&&!_0x3344c0;}else{if(_0x5849a8==='matching_item'){const _0x27aa0d=_0x3b64f5[_0x9f5980(0x998)][_0x19cad9];_0x1dc88f=_0x27aa0d===_0x3b64f5[_0x9f5980(0x47a)],_0x29221c=_0x27aa0d;}}}}const _0x5b43b6=doc(db,_0x9f5980(0xbc5)+appId+_0x9f5980(0x372),currentLiveGameId),_0x3eccce={};_0x3eccce[_0x9f5980(0x47f)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x3eccce[_0x9f5980(0x47f)+currentStudentName+_0x9f5980(0x651)]=_0x1dc88f,_0x3eccce['players.'+currentStudentName+_0x9f5980(0x610)]=_0x5849a8===_0x9f5980(0xc3f)||_0x5849a8==='matching_item'?null:_0x19cad9,_0x3eccce['players.'+currentStudentName+'.lastAnswerValue']=_0x29221c,_0x3eccce[_0x9f5980(0x47f)+currentStudentName+_0x9f5980(0x7e1)]=serverTimestamp(),_0x3eccce['players.'+currentStudentName+_0x9f5980(0x885)]=![],await updateDoc(_0x5b43b6,_0x3eccce),liveGameView[_0x9f5980(0x3e3)]=_0x9f5980(0x329);}function showAdminSummaryView(_0x5098ed,_0x24a5ac){const _0x55110a=_0x4e7cd8,_0x45e08a=Object[_0x55110a(0x9a6)](_0x5098ed[_0x55110a(0xb3e)]||{}),_0x4fee83=_0x24a5ac[_0x55110a(0x93a)]||currentQuizData[_0x55110a(0x769)],_0x43e731=_0x4fee83===_0x55110a(0x7f4)?[_0x55110a(0x41b),_0x55110a(0x422)]:_0x24a5ac[_0x55110a(0x4d1)]||_0x24a5ac[_0x55110a(0x998)]||[],_0x2bfef7={},_0x2e8da9=new Array(_0x43e731[_0x55110a(0xa90)])[_0x55110a(0x949)](0x0);_0x43e731[_0x55110a(0x8ca)]((_0x3d2021,_0x21f755)=>{_0x2bfef7[_0x21f755]=[];}),Object[_0x55110a(0xaa6)](_0x5098ed[_0x55110a(0xb3e)]||{})[_0x55110a(0x8ca)](([_0x4316e1,_0x42d6ad])=>{const _0x591dd6=_0x55110a;if(_0x42d6ad[_0x591dd6(0xb37)]==='active'&&_0x42d6ad[_0x591dd6(0x638)]!==undefined){const _0x4c8456=_0x42d6ad['lastAnswerIndex'];_0x2bfef7[_0x4c8456]&&(_0x2bfef7[_0x4c8456][_0x591dd6(0x6d9)](_0x4316e1),_0x2e8da9[_0x4c8456]++);}});const _0x3d45cb=Math[_0x55110a(0x3a8)](..._0x2e8da9,0x1),_0x43018f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x24a5ac[_0x55110a(0x732)]||_0x24a5ac[_0x55110a(0x2b3)])+_0x55110a(0x2d7)+_0x2e8da9['map']((_0x44058b,_0x5d6fd1)=>{const _0x3957fe=_0x55110a,_0x3c7c27=_0x2bfef7[_0x5d6fd1][_0x3957fe(0xa90)]>0x0?_0x2bfef7[_0x5d6fd1]['join'](',\x20'):_0x3957fe(0x648);let _0x4b8722=![];if(_0x4fee83==='multiple_choice')_0x4b8722=_0x5d6fd1===_0x24a5ac[_0x3957fe(0xcab)];else{if(_0x4fee83===_0x3957fe(0x7f4)){const _0x4d149c=_0x24a5ac[_0x3957fe(0x209)];_0x4b8722=_0x4d149c&&_0x5d6fd1===0x0||!_0x4d149c&&_0x5d6fd1===0x1;}else _0x4fee83==='matching_item'&&(_0x4b8722=_0x43e731[_0x5d6fd1]===_0x24a5ac['correctResponse']);}const _0x303048=_0x4b8722?_0x3957fe(0x3ba):_0x3957fe(0x922);return _0x3957fe(0x1e2)+_0x44058b+_0x3957fe(0x3f2)+_0x303048+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x5d6fd1+_0x3957fe(0x9d5)+_0x43e731[_0x5d6fd1]+_0x3957fe(0x463)+_0x5d6fd1+_0x3957fe(0x724)+_0x3c7c27+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x55110a(0xab6)]('')+_0x55110a(0x7a6);liveGameView[_0x55110a(0x3e3)]=_0x43018f;if(window[_0x55110a(0x196)])MathJax[_0x55110a(0x7ca)]();document[_0x55110a(0x1c2)](_0x55110a(0x7c4))[_0x55110a(0xa37)](_0x55110a(0xbdd),async()=>{const _0x1e61b9=_0x55110a,_0x3e697f=doc(db,_0x1e61b9(0xbc5)+appId+_0x1e61b9(0x372),currentLiveGameId);await updateDoc(_0x3e697f,{'questionStatus':'leaderboard'});}),document[_0x55110a(0x1c2)](_0x55110a(0x5be))['addEventListener'](_0x55110a(0xbdd),()=>{openScratchpad(_0x24a5ac,_0x43e731);});}function showPlayerSummaryView(_0x7d7d49,_0x25873a){const _0x1c2a92=_0x4e7cd8,_0x44ca26=Object['values'](_0x7d7d49['players']||{}),_0x474c08=_0x7d7d49[_0x1c2a92(0xb3e)][_0x25873a],_0x5026a3=_0x44ca26[_0x1c2a92(0x473)](_0x501a80=>_0x501a80['status']===_0x1c2a92(0xae2))[_0x1c2a92(0x327)]((_0x5accda,_0x2e7419)=>_0x2e7419['score']-_0x5accda[_0x1c2a92(0xb20)]),_0x24908a=_0x5026a3[_0x1c2a92(0x9ae)](_0x26d38e=>_0x26d38e===_0x474c08)+0x1,_0x22c2f3=_0x474c08[_0x1c2a92(0xb3b)]?_0x1c2a92(0xb1c):_0x1c2a92(0xa58),_0xfcff0d=_0x474c08[_0x1c2a92(0xb3b)]?'bg-green-500':_0x1c2a92(0x23c),_0x1532a6=_0x474c08[_0x1c2a92(0x436)]||0x0,_0x4cd3f9=_0x1c2a92(0x4f0),_0x51c4ca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x4cd3f9+_0x1c2a92(0x5f1)+_0xfcff0d+_0x1c2a92(0x7ff)+_0x22c2f3+_0x1c2a92(0x674)+_0x1532a6+_0x1c2a92(0xcba)+(_0x24908a>0x0?_0x24908a:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x51c4ca;}function createQuizFromBank(){const _0x29e773=_0x4e7cd8,_0x19130e=document[_0x29e773(0x9f4)](_0x29e773(0x743));if(_0x19130e[_0x29e773(0xa90)]===0x0){showMessage(_0x29e773(0x983));return;}const _0x1b54ee=[];_0x19130e[_0x29e773(0x8ca)](_0x18a230=>{const _0x2c50b3=_0x29e773;_0x1b54ee['push'](JSON[_0x2c50b3(0x281)](_0x18a230['value']));});const _0x588c2f={'topic':_0x29e773(0x3a2),'questions':_0x1b54ee};displayGeneratedQuiz(_0x588c2f);}function showAdminLobbyView(_0x2f6d5a,_0x3eddcc){const _0x1fa4b2=_0x4e7cd8;showView(_0x1fa4b2(0x94d));const _0xb3607d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x3eddcc+_0x1fa4b2(0xc99)+_0x2f6d5a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0xb3607d,document[_0x1fa4b2(0x1c2)]('start-game-btn')[_0x1fa4b2(0xa37)]('click',async()=>{const _0x2d182d=_0x1fa4b2;if(!currentQuizData||!currentQuizData[_0x2d182d(0x966)]||currentQuizData[_0x2d182d(0x966)][_0x2d182d(0xa90)]===0x0){showMessage(_0x2d182d(0x223));return;}try{const _0x55b2ac=doc(db,_0x2d182d(0xbc5)+appId+_0x2d182d(0x372),currentLiveGameId);await updateDoc(_0x55b2ac,{'status':_0x2d182d(0x3cb),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4602b1=currentQuizData[_0x2d182d(0x966)][0x0],_0x2e1f16=currentQuizData[_0x2d182d(0x966)][_0x2d182d(0xa90)];showAdminLiveQuestionView(_0x4602b1,0x0,_0x2e1f16);}catch(_0x57222e){console[_0x2d182d(0x2da)](_0x2d182d(0x781),_0x57222e),showMessage(_0x2d182d(0x218));}});}async function openQuizBankModal(){const _0x1ff0ad=_0x4e7cd8;if(allQuizzesGlobal[_0x1ff0ad(0xa90)]===0x0){const _0x3ca4ed=await getDocs(collection(db,_0x1ff0ad(0xbc5)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x3ca4ed[_0x1ff0ad(0x378)][_0x1ff0ad(0xa26)](_0x9d96a7=>({'id':_0x9d96a7['id'],..._0x9d96a7[_0x1ff0ad(0x921)]()}));}renderQuizBankList(''),document[_0x1ff0ad(0x1c2)]('quiz-bank-modal')['classList']['remove'](_0x1ff0ad(0x30a));}function renderQuizBankList(_0x3fe29b='',_0x473c99=![]){const _0x206d14=_0x4e7cd8,_0x29fd61=document[_0x206d14(0x1c2)](_0x206d14(0x42b)),_0x3a9c69=_0x3fe29b[_0x206d14(0x7a9)]()[_0x206d14(0x492)](),_0xcc4e2c=allQuizzesGlobal[_0x206d14(0xa26)](_0x2eee15=>({..._0x2eee15,'projectName':allProjects[_0x206d14(0x135)](_0x3cd8b6=>_0x3cd8b6['id']===_0x2eee15[_0x206d14(0xa4a)])?.[_0x206d14(0xa74)]||'N/A'}))[_0x206d14(0x473)](_0x2c0be6=>(_0x2c0be6[_0x206d14(0xcaf)]||'')[_0x206d14(0x7a9)]()[_0x206d14(0x4c2)](_0x3a9c69)||(_0x2c0be6[_0x206d14(0xa74)]||'')[_0x206d14(0x7a9)]()[_0x206d14(0x4c2)](_0x3a9c69)||_0x2c0be6['id'][_0x206d14(0x8bf)]()[_0x206d14(0x4c2)](_0x3a9c69));document[_0x206d14(0x1c2)]('quiz-bank-count')[_0x206d14(0x9a1)]='('+_0xcc4e2c['length']+_0x206d14(0x3f6),_0x29fd61[_0x206d14(0x3e3)]=_0xcc4e2c[_0x206d14(0xa90)]?_0xcc4e2c['map'](_0x4f25a9=>{const _0x58c8d2=_0x206d14,_0x2158b7=!_0x473c99?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f25a9['id']+_0x58c8d2(0x7d1)+_0x4f25a9['id']+_0x58c8d2(0x2f4)+_0x4f25a9['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f25a9['id']+_0x58c8d2(0x285)+_0x4f25a9['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f25a9['id']+_0x58c8d2(0x851)+_0x4f25a9[_0x58c8d2(0xcaf)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x58c8d2(0x61f)+_0x4f25a9['id']+_0x58c8d2(0xa16)+(_0x4f25a9['topic']||_0x58c8d2(0x86d))+_0x58c8d2(0x8f9)+(_0x4f25a9['questions']?.[_0x58c8d2(0xa90)]||0x0)+_0x58c8d2(0x4ed)+_0x4f25a9[_0x58c8d2(0xa74)]+_0x58c8d2(0x294)+_0x4f25a9['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2158b7+_0x58c8d2(0xbdb);})[_0x206d14(0xab6)](''):_0x206d14(0x6ef),!_0x473c99&&(_0x29fd61['querySelectorAll'](_0x206d14(0x911))[_0x206d14(0x8ca)](_0x1b31f5=>{const _0x3cb5e0=_0x206d14;_0x1b31f5[_0x3cb5e0(0xa37)](_0x3cb5e0(0xbdd),()=>{const _0x169437=_0x3cb5e0,_0xbdf7bc=_0x1b31f5[_0x169437(0x928)]['id'];document['getElementById'](_0x169437(0x19f))[_0x169437(0x12e)][_0x169437(0x7d7)]('hidden'),showQuizDetailView(_0xbdf7bc);});}),_0x29fd61[_0x206d14(0x9f4)](_0x206d14(0x457))[_0x206d14(0x8ca)](_0x1fe7de=>{const _0x3257ff=_0x206d14;_0x1fe7de[_0x3257ff(0xa37)]('click',_0xb277a1=>{const _0x29691d=_0x3257ff;_0xb277a1[_0x29691d(0x3d3)]();const _0x354d5f=_0x1fe7de[_0x29691d(0x928)]['id'],_0x47c793=allQuizzesGlobal[_0x29691d(0x135)](_0x451394=>_0x451394['id']===_0x354d5f);_0x47c793?(currentQuizData=_0x47c793,document[_0x29691d(0x1c2)]('quiz-bank-modal')[_0x29691d(0x12e)][_0x29691d(0x7d7)](_0x29691d(0x30a)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x29fd61[_0x206d14(0x9f4)]('.quiz-bank-parallel-btn')[_0x206d14(0x8ca)](_0x42011b=>{const _0xba6385=_0x206d14;_0x42011b[_0xba6385(0xa37)](_0xba6385(0xbdd),_0x505d8c=>{const _0x48d365=_0xba6385;_0x505d8c['stopPropagation']();const _0x28c3bb=_0x42011b[_0x48d365(0x928)]['id'],_0x53cbb3=allQuizzesGlobal[_0x48d365(0x135)](_0x5d9dd7=>_0x5d9dd7['id']===_0x28c3bb);_0x53cbb3?(document[_0x48d365(0x1c2)](_0x48d365(0x19f))['classList'][_0x48d365(0x7d7)](_0x48d365(0x30a)),handleGenerateParallelFromBank(_0x53cbb3)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x29fd61[_0x206d14(0x9f4)](_0x206d14(0x5dc))[_0x206d14(0x8ca)](_0x1f7dc3=>{const _0x195c82=_0x206d14;_0x1f7dc3[_0x195c82(0xa37)]('click',_0x29c24c=>{const _0x36663f=_0x195c82;_0x29c24c[_0x36663f(0x3d3)]();const _0x58efa4=_0x1f7dc3[_0x36663f(0x928)]['id'],_0x4fbc7b=allQuizzesGlobal[_0x36663f(0x135)](_0x54a83d=>_0x54a83d['id']===_0x58efa4);_0x4fbc7b?(document[_0x36663f(0x1c2)](_0x36663f(0x19f))[_0x36663f(0x12e)][_0x36663f(0x7d7)]('hidden'),startPresentation(_0x4fbc7b)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x29fd61[_0x206d14(0x9f4)](_0x206d14(0x7c0))[_0x206d14(0x8ca)](_0x56e667=>{_0x56e667['addEventListener']('click',_0x5978f2=>{const _0x236236=_0x1f15;_0x5978f2[_0x236236(0x3d3)]();const _0x48c4df=_0x56e667[_0x236236(0x928)]['id'];document[_0x236236(0x1c2)](_0x236236(0x19f))['classList'][_0x236236(0x7d7)](_0x236236(0x30a)),handleMoveQuiz(_0x48c4df);});}),_0x29fd61[_0x206d14(0x9f4)](_0x206d14(0xa3a))[_0x206d14(0x8ca)](_0x40f404=>{const _0x507491=_0x206d14;_0x40f404['addEventListener'](_0x507491(0xbdd),_0x4c55b4=>{const _0x50692c=_0x507491;_0x4c55b4['stopPropagation']();const _0x3328a5=_0x40f404[_0x50692c(0x928)]['id'];document[_0x50692c(0x1c2)](_0x50692c(0x19f))[_0x50692c(0x12e)][_0x50692c(0x7d7)](_0x50692c(0x30a)),handleQuizSettings(_0x3328a5);});}),_0x29fd61[_0x206d14(0x9f4)](_0x206d14(0x7ce))['forEach'](_0x2a61bd=>{const _0x32c698=_0x206d14;_0x2a61bd[_0x32c698(0xa37)](_0x32c698(0xbdd),_0x409db9=>{const _0x38d141=_0x32c698;_0x409db9[_0x38d141(0x3d3)]();const _0x123d24=_0x2a61bd[_0x38d141(0x928)]['id'],_0x258760=_0x2a61bd[_0x38d141(0x928)][_0x38d141(0xcaf)];showConfirmation(_0x38d141(0x7ed)+_0x258760+_0x38d141(0xb9e),()=>handleDeleteQuiz(_0x123d24));});}));}async function handleCompareResults(_0xa47e28,_0x53f995){const _0x5946f3=_0x4e7cd8,_0x449f0a=document[_0x5946f3(0x1c2)](_0x5946f3(0x778)),_0x268db6=document[_0x5946f3(0x1c2)]('comparison-overall-content'),_0x2f1786=document[_0x5946f3(0x1c2)](_0x5946f3(0xa06));document[_0x5946f3(0x1c2)](_0x5946f3(0x35f))[_0x5946f3(0x12e)][_0x5946f3(0x7d7)](_0x5946f3(0xae2)),document[_0x5946f3(0x1c2)](_0x5946f3(0x297))[_0x5946f3(0x12e)][_0x5946f3(0x1f9)]('active'),_0x268db6[_0x5946f3(0x12e)][_0x5946f3(0x1f9)]('hidden'),_0x2f1786[_0x5946f3(0x12e)]['add'](_0x5946f3(0x30a)),_0x268db6['innerHTML']=_0x5946f3(0xc38),_0x2f1786[_0x5946f3(0x3e3)]='',_0x449f0a[_0x5946f3(0x12e)][_0x5946f3(0x1f9)]('hidden');try{const _0x1e180f=doc(db,_0x5946f3(0xbc5)+appId+_0x5946f3(0x5e2),_0xa47e28),_0x2f4406=await getDoc(_0x1e180f);if(!_0x2f4406['exists']())throw new Error(_0x5946f3(0x301));const _0x58348a=_0x2f4406['data'](),_0x115384=_0x58348a[_0x5946f3(0x966)][_0x5946f3(0xa90)],_0x2e6c5d=collection(db,_0x5946f3(0xbc5)+appId+_0x5946f3(0x155)+_0x53f995+_0x5946f3(0x2e0)),_0xd954db=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0xa47e28+'/submissions'),[_0x1562e5,_0x595def]=await Promise[_0x5946f3(0x3ca)]([getDocs(_0x2e6c5d),getDocs(_0xd954db)]),_0x3b17d4=_0x1562e5[_0x5946f3(0x378)][_0x5946f3(0xa26)](_0x2b51b3=>_0x2b51b3[_0x5946f3(0x921)]()),_0x313028=_0x595def[_0x5946f3(0x378)][_0x5946f3(0xa26)](_0xecbd08=>_0xecbd08[_0x5946f3(0x921)]()),_0x589575=_0x3b17d4['map'](_0x4089f0=>_0x4089f0['latestScore']),_0x4c12e1=_0x313028[_0x5946f3(0xa26)](_0x1a9ec5=>_0x1a9ec5['latestScore']),_0x26af60=calculateMeanAndStdDev(_0x589575),_0x345d5c=calculateMeanAndStdDev(_0x4c12e1),_0x1d1bf0=_0x26af60['mean'],_0x2f55c8=_0x345d5c['mean'],_0x4a3791=_0x2f55c8-_0x1d1bf0;let _0x1ec786='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x1d1bf0[_0x5946f3(0x72c)](0x2)+_0x5946f3(0xbba)+_0x2f55c8['toFixed'](0x2)+_0x5946f3(0xca1)+(_0x4a3791>=0x0?'bg-emerald-100':'bg-red-100')+_0x5946f3(0xc21)+(_0x4a3791>=0x0?'text-emerald-800':_0x5946f3(0xcb1))+_0x5946f3(0x272)+(_0x4a3791>=0x0?'text-emerald-900':_0x5946f3(0x9f9))+'\x22>'+(_0x4a3791>=0x0?'+':'')+_0x4a3791[_0x5946f3(0x72c)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x268db6['innerHTML']=_0x1ec786;const _0x5b68cd=document['getElementById'](_0x5946f3(0xc62))['getContext']('2d');if(chartInstances[_0x5946f3(0x682)])chartInstances[_0x5946f3(0x682)][_0x5946f3(0x697)]();chartInstances[_0x5946f3(0x682)]=new Chart(_0x5b68cd,{'type':_0x5946f3(0x3f1),'data':{'labels':[_0x5946f3(0x386)],'datasets':[{'label':_0x5946f3(0x8d1),'data':[_0x1d1bf0],'backgroundColor':_0x5946f3(0x1ee)},{'label':'หลังเรียน','data':[_0x2f55c8],'backgroundColor':_0x5946f3(0xc53)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x115384}}}});const _0x5ae56f=currentProjectData[_0x5946f3(0x7f0)]||[],_0x16d4d7=_0x5ae56f[_0x5946f3(0xa26)](_0x39723a=>{const _0x5ada69=_0x5946f3,_0x454cff=_0x3b17d4['find'](_0x668786=>_0x668786[_0x5ada69(0xc3e)]===_0x39723a),_0x3d953a=_0x313028[_0x5ada69(0x135)](_0x604309=>_0x604309['studentName']===_0x39723a),_0x3f4795=_0x454cff?_0x454cff[_0x5ada69(0x156)]:null,_0x405cd9=_0x3d953a?_0x3d953a[_0x5ada69(0x156)]:null,_0x908f00=_0x3f4795!==null&&_0x405cd9!==null?_0x405cd9-_0x3f4795:null,_0x2e56af=_0x3f4795!==null?calculateZScore(_0x3f4795,_0x26af60['mean'],_0x26af60[_0x5ada69(0xa5c)]):null,_0xc0f326=_0x405cd9!==null?calculateZScore(_0x405cd9,_0x345d5c[_0x5ada69(0x7c9)],_0x345d5c[_0x5ada69(0xa5c)]):null,_0x2d0ae5=_0x2e56af!==null?calculateTScore(_0x2e56af):null,_0xfcbd37=_0xc0f326!==null?calculateTScore(_0xc0f326):null,_0x43ce40=_0x2d0ae5!==null&&_0xfcbd37!==null?_0xfcbd37-_0x2d0ae5:null;return{'name':_0x39723a,'preScore':_0x3f4795,'postScore':_0x405cd9,'gain':_0x908f00,'preTScore':_0x2d0ae5,'postTScore':_0xfcbd37,'tGain':_0x43ce40};});renderIndividualComparisonTable(_0x16d4d7,_0x2f1786);}catch(_0x2ec48c){console[_0x5946f3(0x2da)](_0x5946f3(0x590),_0x2ec48c),_0x268db6['innerHTML']=_0x5946f3(0x59d);}}async function saveBlueprintProject(){const _0x496d5f=_0x4e7cd8;if(!extractedBlueprintData||!extractedBlueprintData[_0x496d5f(0x95f)]){showMessage(_0x496d5f(0xbc0));return;}const _0x4ca369=prompt(_0x496d5f(0xc3a),'Blueprint\x20O-NET\x20ป.6');if(!_0x4ca369||_0x4ca369['trim']()==='')return;const _0x3ca761={};extractedBlueprintData['curriculum'][_0x496d5f(0x8ca)](_0x3cd8ad=>{const _0x2e8efa=_0x496d5f;_0x3cd8ad['mainTopics'][_0x2e8efa(0x8ca)](_0x18f396=>{const _0x59aaa8=_0x2e8efa;_0x18f396[_0x59aaa8(0x1e8)][_0x59aaa8(0x8ca)](_0x1a2251=>{const _0x20a80e=_0x59aaa8,_0x1a5100=_0x20a80e(0xb66)+Date['now']()+Math[_0x20a80e(0xad8)]()[_0x20a80e(0x8bf)](0x24)['substr'](0x2,0x9);_0x3ca761[_0x1a5100]={'sara':_0x3cd8ad[_0x20a80e(0x14d)],'mainTopic':_0x18f396[_0x20a80e(0x324)],'subTopic':_0x1a2251,'status':'not_generated','lessonContent':null};});});});try{const _0xe4a86a=collection(db,_0x496d5f(0xbc5)+appId+_0x496d5f(0x618));await addDoc(_0xe4a86a,{'projectName':_0x4ca369[_0x496d5f(0x492)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x3ca761,'createdAt':serverTimestamp()}),showMessage(_0x496d5f(0xaae)+_0x4ca369[_0x496d5f(0x492)]()+'\x22\x20สำเร็จ!'),document[_0x496d5f(0x1c2)](_0x496d5f(0x52a))['classList'][_0x496d5f(0x7d7)]('hidden');}catch(_0x24476f){console['error']('Error\x20saving\x20blueprint\x20project:',_0x24476f),showMessage(_0x496d5f(0x964));}}async function showBlueprintProjects(){const _0x1f8d2d=_0x4e7cd8,_0x126214=document[_0x1f8d2d(0x1c2)](_0x1f8d2d(0x3a0)),_0x41a013=document[_0x1f8d2d(0x1c2)](_0x1f8d2d(0xc27));_0x41a013[_0x1f8d2d(0x3e3)]=_0x1f8d2d(0x748),_0x126214['classList'][_0x1f8d2d(0x1f9)](_0x1f8d2d(0x30a));try{const _0x26c377=collection(db,_0x1f8d2d(0xbc5)+appId+_0x1f8d2d(0x618)),_0x558f09=await getDocs(_0x26c377);if(_0x558f09[_0x1f8d2d(0x25c)]){_0x41a013[_0x1f8d2d(0x3e3)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x53c544=_0x558f09[_0x1f8d2d(0x378)][_0x1f8d2d(0xa26)](_0xcedf0c=>({'id':_0xcedf0c['id'],..._0xcedf0c[_0x1f8d2d(0x921)]()}));_0x53c544['sort']((_0x3bbe3f,_0x5e9c70)=>_0x3bbe3f['projectName']['localeCompare'](_0x5e9c70['projectName'],'th')),_0x41a013['innerHTML']=_0x53c544[_0x1f8d2d(0xa26)](_0x44ddfb=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x44ddfb[_0x1f8d2d(0xa74)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x44ddfb[_0x1f8d2d(0x3e2)]+_0x1f8d2d(0x5a3)+Object['keys'](_0x44ddfb[_0x1f8d2d(0x575)])[_0x1f8d2d(0xa90)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x44ddfb['id']+_0x1f8d2d(0x2ac)+_0x44ddfb['id']+_0x1f8d2d(0x3b9))[_0x1f8d2d(0xab6)]('');}catch(_0x24c766){console[_0x1f8d2d(0x2da)](_0x1f8d2d(0xb3d),_0x24c766),_0x41a013[_0x1f8d2d(0x3e3)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0xd3924f){const _0x3be814=_0x4e7cd8;currentBlueprintProjectId=_0xd3924f,document[_0x3be814(0x1c2)](_0x3be814(0x3a0))[_0x3be814(0x12e)][_0x3be814(0x7d7)](_0x3be814(0x30a)),showView(_0x3be814(0xab7)),projectDashboardView[_0x3be814(0x12e)][_0x3be814(0x7d7)](_0x3be814(0x30a));const _0x38efd8=document[_0x3be814(0x1c2)](_0x3be814(0xb8d));_0x38efd8[_0x3be814(0x12e)][_0x3be814(0x1f9)](_0x3be814(0x30a)),document[_0x3be814(0x1c2)](_0x3be814(0x79d))['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x4ed4b4=doc(db,'artifacts/'+appId+_0x3be814(0x618),_0xd3924f),_0x514a07=await getDoc(_0x4ed4b4);if(!_0x514a07['exists']())throw new Error(_0x3be814(0x412));const _0x21e7d6={'id':_0x514a07['id'],..._0x514a07[_0x3be814(0x921)]()};document[_0x3be814(0x1c2)](_0x3be814(0x777))[_0x3be814(0x9a1)]=_0x21e7d6[_0x3be814(0xa74)],document['getElementById'](_0x3be814(0x567))[_0x3be814(0x9f1)]=_0x21e7d6[_0x3be814(0x6f2)]||'',renderBlueprintTopicManager(_0x21e7d6);}catch(_0x564eee){console[_0x3be814(0x2da)](_0x3be814(0x9bf),_0x564eee),showMessage(_0x564eee[_0x3be814(0x516)]),showView(_0x3be814(0xab7));}}function renderBlueprintTopicManager(_0x22a4b5){const _0x116e44=_0x4e7cd8,_0x44c829=document[_0x116e44(0x1c2)](_0x116e44(0x79d)),_0x179bdc=_0x22a4b5[_0x116e44(0x575)]||{};if(Object[_0x116e44(0xaf9)](_0x179bdc)[_0x116e44(0xa90)]===0x0){_0x44c829[_0x116e44(0x3e3)]=_0x116e44(0x37c);return;}const _0x1bcd81=Object[_0x116e44(0xaa6)](_0x179bdc)['map'](([_0x28f999,_0x2ea46b])=>({'id':_0x28f999,..._0x2ea46b}))[_0x116e44(0x327)]((_0x4d0b7d,_0x5586df)=>(_0x4d0b7d[_0x116e44(0x8ec)]??Infinity)-(_0x5586df[_0x116e44(0x8ec)]??Infinity)),_0x7fc325={};_0x1bcd81[_0x116e44(0x8ca)](_0x8062d4=>{const {sara:_0x3cf939,mainTopic:_0x150383}=_0x8062d4;!_0x7fc325[_0x3cf939]&&(_0x7fc325[_0x3cf939]={}),!_0x7fc325[_0x3cf939][_0x150383]&&(_0x7fc325[_0x3cf939][_0x150383]=[]),_0x7fc325[_0x3cf939][_0x150383]['push'](_0x8062d4);});let _0x4e8e2e='';for(const _0x975869 in _0x7fc325){_0x4e8e2e+=_0x116e44(0x37e)+_0x975869+_0x116e44(0x6b3);for(const _0xcbe6b4 in _0x7fc325[_0x975869]){_0x4e8e2e+=_0x116e44(0x1b3)+_0xcbe6b4+_0x116e44(0xb82),_0x7fc325[_0x975869][_0xcbe6b4][_0x116e44(0x8ca)](_0x1edd2b=>{const _0x514e23=_0x116e44,_0x1d4564=_0x1edd2b['id'],_0x5bd79b=_0x1edd2b[_0x514e23(0x588)]||[],_0x4bc2b9=_0x5bd79b['length']>0x0,_0xf4d8a9=_0x1edd2b[_0x514e23(0xb37)]===_0x514e23(0xc81);let _0x46bd8d='';_0x4bc2b9?_0x46bd8d=_0x514e23(0x1fc)+_0x5bd79b[_0x514e23(0xa90)]+_0x514e23(0xbb5):_0x46bd8d=_0x514e23(0x6c1)+(_0xf4d8a9?_0x514e23(0x584):_0x514e23(0x53e))+'\x22>'+(_0xf4d8a9?'สร้างแล้ว':'ยังไม่สร้าง')+_0x514e23(0x46c);const _0x12054a=!_0xf4d8a9?_0x514e23(0xcc4):'',_0x1c7791=!_0xf4d8a9?'กรุณาสร้างบทเรียนก่อน':'';let _0x7c6b53=_0xf4d8a9?_0x514e23(0x733):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x4e8e2e+=_0x514e23(0xc19)+_0x1d4564+_0x514e23(0xbb2)+_0x1edd2b[_0x514e23(0xc64)]+_0x514e23(0x5de)+_0x46bd8d+_0x514e23(0x9db)+_0x12054a+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x1c7791+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7c6b53+_0x514e23(0x6dd);}),_0x4e8e2e+=_0x116e44(0x9bd);}_0x4e8e2e+='</div>';}_0x44c829[_0x116e44(0x3e3)]=_0x4e8e2e;}async function handleDeepDeleteBlueprintProject(_0x3f87fb){const _0x58ecf2=_0x4e7cd8,_0x1d19b6=doc(db,_0x58ecf2(0xbc5)+appId+_0x58ecf2(0x618),_0x3f87fb),_0x49788d=await getDoc(_0x1d19b6);if(!_0x49788d['exists']()){showMessage(_0x58ecf2(0x212));return;}const _0x42846d=_0x49788d['data']()['projectName'];showConfirmation(_0x58ecf2(0x267)+_0x42846d+_0x58ecf2(0xb32),async()=>{const _0xc22cc1=_0x58ecf2;showMessage(_0xc22cc1(0x4e6));try{const _0x3306b6=writeBatch(db),_0x48c56d=_0x49788d[_0xc22cc1(0x921)](),_0x3ff1b8=_0x48c56d['topics']||{};for(const _0x3b8aaa in _0x3ff1b8){const _0x4e150b=doc(db,_0xc22cc1(0xbc5)+appId+_0xc22cc1(0x14e)+_0x3f87fb+_0xc22cc1(0x5d3),_0x3b8aaa);_0x3306b6['delete'](_0x4e150b);}const _0x5df5f9=new Set();for(const _0xddea5b in _0x3ff1b8){_0x3ff1b8[_0xddea5b][_0xc22cc1(0x588)]&&_0x3ff1b8[_0xddea5b][_0xc22cc1(0x588)][_0xc22cc1(0x8ca)](_0x2f708f=>_0x5df5f9[_0xc22cc1(0x7d7)](_0x2f708f));}for(const _0x3dee2b of _0x5df5f9){await handleDeleteQuiz(_0x3dee2b,![]);}_0x3306b6['delete'](_0x1d19b6),await _0x3306b6['commit'](),showMessage(_0xc22cc1(0x6ec)+_0x42846d+_0xc22cc1(0x932)),showBlueprintProjects();}catch(_0x30eb3e){console['error'](_0xc22cc1(0x6d2),_0x30eb3e),showMessage(_0xc22cc1(0x5c5));}});}async function openTopicQuizBank(_0x5e403b){const _0x3ae92c=_0x4e7cd8,_0x529a6d=document[_0x3ae92c(0x1c2)](_0x3ae92c(0x251)),_0x1edc1e=document[_0x3ae92c(0x1c2)](_0x3ae92c(0x869)),_0x1b105d=document[_0x3ae92c(0x1c2)](_0x3ae92c(0x6f7));try{await ensureGlobalQuizzesLoaded();const _0x3bf9f5=doc(db,_0x3ae92c(0xbc5)+appId+_0x3ae92c(0x618),currentBlueprintProjectId),_0x343993=await getDoc(_0x3bf9f5);if(!_0x343993[_0x3ae92c(0x7b7)]())return;const _0x317964=_0x343993[_0x3ae92c(0x921)](),_0x23bbe5=_0x317964['topics'][_0x5e403b];document['getElementById'](_0x3ae92c(0x435))[_0x3ae92c(0x9a1)]=_0x23bbe5[_0x3ae92c(0xc64)];const _0x3b397e=_0x23bbe5[_0x3ae92c(0x588)]||[];_0x1b105d['classList'][_0x3ae92c(0x770)](_0x3ae92c(0x30a),_0x3b397e['length']===0x0),_0x1b105d[_0x3ae92c(0xa41)]=()=>handleClearAllLinksForTopic(_0x5e403b);if(_0x3b397e['length']===0x0)_0x1edc1e[_0x3ae92c(0x3e3)]=_0x3ae92c(0x3a5);else{const _0x3c0445=allQuizzesGlobal[_0x3ae92c(0x473)](_0x25439b=>_0x3b397e[_0x3ae92c(0x4c2)](_0x25439b['id']));_0x1edc1e[_0x3ae92c(0x3e3)]=_0x3c0445[_0x3ae92c(0xa26)](_0x1541cc=>_0x3ae92c(0x9c2)+_0x1541cc['id']+_0x3ae92c(0x97a)+_0x1541cc['topic']+_0x3ae92c(0xae5)+_0x1541cc['id']+_0x3ae92c(0x5a3)+_0x1541cc[_0x3ae92c(0x966)]['length']+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1541cc['id']+_0x3ae92c(0x4cf)+_0x1541cc['id']+_0x3ae92c(0x8b3)+_0x1541cc['id']+_0x3ae92c(0x3be)+_0x1541cc['id']+_0x3ae92c(0x5c6)+_0x1541cc['id']+_0x3ae92c(0x487)+_0x1541cc['id']+_0x3ae92c(0x609)+_0x5e403b+_0x3ae92c(0x582)+_0x1541cc['id']+_0x3ae92c(0xa4e))[_0x3ae92c(0xab6)]('');}document[_0x3ae92c(0x1c2)](_0x3ae92c(0x407))[_0x3ae92c(0xa41)]=()=>{openQuizSelectorForBlueprint(_0x5e403b);},document['getElementById'](_0x3ae92c(0x918))['onclick']=()=>_0x529a6d[_0x3ae92c(0x12e)]['add'](_0x3ae92c(0x30a)),_0x529a6d[_0x3ae92c(0x12e)][_0x3ae92c(0x1f9)](_0x3ae92c(0x30a));}catch(_0xf22594){showMessage(_0xf22594[_0x3ae92c(0x516)]);}}async function openQuizSelectorForBlueprint(_0x290426){const _0xf8c89b=_0x4e7cd8,_0x30e921=document['getElementById']('quiz-bank-modal'),_0x44b00b=document[_0xf8c89b(0x1c2)]('topic-quiz-bank-modal');_0x44b00b[_0xf8c89b(0x12e)][_0xf8c89b(0x7d7)](_0xf8c89b(0x30a)),document['getElementById']('confirm-link-quiz-btn')?.['remove']();const _0xdb29a5=document[_0xf8c89b(0x601)](_0xf8c89b(0x397));_0xdb29a5['id']=_0xf8c89b(0x56f),_0xdb29a5[_0xf8c89b(0x9f6)]=_0xf8c89b(0x43f),_0xdb29a5[_0xf8c89b(0x9a1)]=_0xf8c89b(0x1db),_0xdb29a5[_0xf8c89b(0x78a)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x30e921[_0xf8c89b(0x12e)][_0xf8c89b(0x1f9)]('hidden'),renderQuizBankListForMultiSelect(''),document[_0xf8c89b(0x1c2)](_0xf8c89b(0x238))[_0xf8c89b(0xa10)][_0xf8c89b(0x28f)]=_0xf8c89b(0xba0),_0x30e921[_0xf8c89b(0x8b9)](_0xf8c89b(0x6fd))['appendChild'](_0xdb29a5);const _0x55fd52=(_0x5de59b=![])=>{const _0x46ea58=_0xf8c89b;_0x30e921[_0x46ea58(0x12e)]['add']('hidden'),document[_0x46ea58(0x1c2)](_0x46ea58(0x238))[_0x46ea58(0xa10)][_0x46ea58(0x28f)]=_0x46ea58(0x8c9),_0xdb29a5[_0x46ea58(0x1f9)](),_0x5de59b&&openTopicQuizBank(_0x290426);};_0xdb29a5[_0xf8c89b(0xa41)]=async()=>{const _0x2f67ce=_0xf8c89b,_0x222e58=Array[_0x2f67ce(0x1c7)](document[_0x2f67ce(0x9f4)](_0x2f67ce(0xc54)))[_0x2f67ce(0xa26)](_0x46a1d8=>_0x46a1d8[_0x2f67ce(0x9f1)]);if(_0x222e58[_0x2f67ce(0xa90)]===0x0)return;try{const _0x43f620=doc(db,_0x2f67ce(0xbc5)+appId+_0x2f67ce(0x618),currentBlueprintProjectId),_0x3e73b4=(await getDoc(_0x43f620))[_0x2f67ce(0x921)](),_0x1e4d82=_0x3e73b4[_0x2f67ce(0x575)][_0x290426][_0x2f67ce(0x588)]||[],_0x43b76e=[...new Set([..._0x1e4d82,..._0x222e58])];await updateDoc(_0x43f620,{[_0x2f67ce(0xa13)+_0x290426+'.linkedQuizIds']:_0x43b76e}),showMessage('เพิ่ม\x20'+_0x222e58[_0x2f67ce(0xa90)]+_0x2f67ce(0x363)),_0x55fd52(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x546cdb){console['error']('Error\x20linking\x20quizzes:',_0x546cdb);}},document[_0xf8c89b(0x1c2)](_0xf8c89b(0x7f1))[_0xf8c89b(0xa41)]=()=>_0x55fd52(!![]);}catch(_0x2f30a9){showMessage(_0x2f30a9[_0xf8c89b(0x516)]),_0x44b00b['classList'][_0xf8c89b(0x1f9)](_0xf8c89b(0x30a));}}function handleClearLinkedQuiz(_0x20bfb7){const _0x5c2b32=_0x4e7cd8;showConfirmation(_0x5c2b32(0x578),async()=>{const _0x2be727=_0x5c2b32;try{const _0x131df2=doc(db,'artifacts/'+appId+_0x2be727(0x618),currentBlueprintProjectId);await updateDoc(_0x131df2,{[_0x2be727(0xa13)+_0x20bfb7+_0x2be727(0x116)]:deleteField()}),showMessage(_0x2be727(0x55e)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2c3b6c){console[_0x2be727(0x2da)](_0x2be727(0x4f2),_0x2c3b6c),showMessage(_0x2be727(0x57a));}});}async function addTopicToProject(){const _0x594a44=_0x4e7cd8,_0x2e50f1=prompt(_0x594a44(0xb6a));if(!_0x2e50f1||_0x2e50f1[_0x594a44(0x492)]()==='')return;const _0x3b2878=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x594a44(0x7d6)),_0x364c41=prompt('อยู่ในหัวข้อหลักใด:',_0x594a44(0x290)),_0x1ddca8=_0x594a44(0xb66)+Date[_0x594a44(0x6d6)]()+Math[_0x594a44(0xad8)]()['toString'](0x24)[_0x594a44(0x1dc)](0x2,0x9),_0x48f51d={'sara':_0x3b2878,'mainTopic':_0x364c41,'subTopic':_0x2e50f1[_0x594a44(0x492)](),'status':_0x594a44(0x71e),'lessonContent':null};try{const _0x11be12=doc(db,_0x594a44(0xbc5)+appId+_0x594a44(0x618),currentBlueprintProjectId);await updateDoc(_0x11be12,{['topics.'+_0x1ddca8]:_0x48f51d}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x37ce80){console[_0x594a44(0x2da)]('Error\x20adding\x20topic:',_0x37ce80),showMessage(_0x594a44(0xc74));}}async function editTopicInProject(_0x4f2399){const _0x26d1ed=_0x4e7cd8,_0x189f05=document[_0x26d1ed(0x8b9)](_0x26d1ed(0xb2b)+_0x4f2399+'\x22]'),_0x2b7b98=_0x189f05[_0x26d1ed(0x8b9)](_0x26d1ed(0x69b)),_0x47ed21=_0x2b7b98['textContent'],_0x5546fb=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x47ed21);if(!_0x5546fb||_0x5546fb[_0x26d1ed(0x492)]()===''||_0x5546fb[_0x26d1ed(0x492)]()===_0x47ed21)return;try{const _0x501d02=doc(db,_0x26d1ed(0xbc5)+appId+_0x26d1ed(0x618),currentBlueprintProjectId);await updateDoc(_0x501d02,{['topics.'+_0x4f2399+_0x26d1ed(0x7f5)]:_0x5546fb['trim']()}),_0x2b7b98[_0x26d1ed(0x9a1)]=_0x5546fb[_0x26d1ed(0x492)](),showMessage(_0x26d1ed(0x728));}catch(_0x2b949e){console[_0x26d1ed(0x2da)](_0x26d1ed(0x9e4),_0x2b949e),showMessage(_0x26d1ed(0x38e));}}async function deleteTopicFromProject(_0x30522c){const _0x571263=_0x4e7cd8;if(!confirm(_0x571263(0x85f)))return;try{const _0x5b3168=doc(db,_0x571263(0xbc5)+appId+_0x571263(0x618),currentBlueprintProjectId);await updateDoc(_0x5b3168,{['topics.'+_0x30522c]:deleteField()}),document[_0x571263(0x8b9)]('[data-topic-id=\x22'+_0x30522c+'\x22]')[_0x571263(0x1f9)](),showMessage(_0x571263(0x8e4));}catch(_0x4fb4e5){console[_0x571263(0x2da)]('Error\x20deleting\x20topic:',_0x4fb4e5),showMessage(_0x571263(0x66a));}}async function generateAndSaveLessonForBlueprint(_0x389a38,_0x58226c,_0x15a8f1){handleGenerateAndShowLesson(_0x58226c,_0x15a8f1);const _0x119a53=setInterval(async()=>{const _0xb1a8b7=_0x1f15,_0x519ca7=document[_0xb1a8b7(0x1c2)](_0xb1a8b7(0x418)),_0x4ce412=_0x519ca7[_0xb1a8b7(0x12e)][_0xb1a8b7(0xa84)](_0xb1a8b7(0x30a));if(_0x4ce412){clearInterval(_0x119a53);if(currentApplicationData&&currentApplicationData[_0xb1a8b7(0xa90)]>0x0){const _0x438d79={'point':document[_0xb1a8b7(0x1c2)](_0xb1a8b7(0x33b))[_0xb1a8b7(0x3e3)],'memory':document[_0xb1a8b7(0x1c2)](_0xb1a8b7(0x7ec))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0xb1a8b7(0x1c2)]('summaryContent')[_0xb1a8b7(0x3e3)]};try{const _0x2f1f09=doc(db,'artifacts/'+appId+_0xb1a8b7(0x618),currentBlueprintProjectId),_0x453251=doc(db,_0xb1a8b7(0xbc5)+appId+_0xb1a8b7(0x14e)+currentBlueprintProjectId+_0xb1a8b7(0x5d3),_0x389a38),_0x27aad1=writeBatch(db);_0x27aad1[_0xb1a8b7(0x385)](_0x453251,{'content':_0x438d79}),_0x27aad1[_0xb1a8b7(0x81a)](_0x2f1f09,{[_0xb1a8b7(0xa13)+_0x389a38+'.status']:_0xb1a8b7(0xc81)}),await _0x27aad1[_0xb1a8b7(0xc9b)](),console[_0xb1a8b7(0x511)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x389a38+_0xb1a8b7(0x4b7)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x32b73c){console[_0xb1a8b7(0x2da)](_0xb1a8b7(0x813),_0x32b73c);}}}},0x3e8);}function displayHalfMarkResult(_0x4c8198,_0x27ef21){const _0x443ae0=_0x4e7cd8,_0x5475d3=_0x4c8198>=_0x27ef21/0x2,_0x3e0423=_0x5475d3?_0x443ae0(0x144):_0x443ae0(0x478),_0x28b658=_0x5475d3?_0x443ae0(0x663):_0x443ae0(0xb2d),_0x388622=_0x5475d3?'text-green-800':'text-red-800',_0x40eed9=_0x5475d3?_0x443ae0(0xac3):_0x443ae0(0x2d5),_0x217c2a=_0x5475d3?_0x443ae0(0x9ff):_0x443ae0(0x1f3);let _0x2c122d=_0x443ae0(0xbf5)+_0x3e0423+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28b658+_0x443ae0(0xaaf)+_0x388622+_0x443ae0(0xb2f)+_0x40eed9+_0x443ae0(0x63d)+_0x217c2a+_0x443ae0(0x81d);studentResultArea['innerHTML']=_0x2c122d,studentResultArea['classList'][_0x443ae0(0x1f9)](_0x443ae0(0x30a)),studentQuizArea[_0x443ae0(0x12e)][_0x443ae0(0x7d7)](_0x443ae0(0x30a)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x5475d3});}function displayPerfectScoreResult(_0x2f9d13,_0x5dad06){const _0x1021a2=_0x4e7cd8,_0x48c9a6=_0x2f9d13===_0x5dad06,_0x51c0b9=_0x48c9a6?_0x1021a2(0xb5f):'bg-blue-100',_0x251a49=_0x48c9a6?_0x1021a2(0x95a):_0x1021a2(0xc05),_0x17dd06=_0x48c9a6?_0x1021a2(0xbbb):_0x1021a2(0x42c),_0x3ac806=_0x48c9a6?_0x1021a2(0x2e2):_0x1021a2(0x6b0),_0x48e1d6=_0x48c9a6?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x1021a2(0xa1f);let _0x3a9ffe=_0x1021a2(0xbf5)+_0x51c0b9+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x251a49+_0x1021a2(0xaaf)+_0x17dd06+_0x1021a2(0xb2f)+_0x3ac806+_0x1021a2(0x63d)+_0x48e1d6+_0x1021a2(0x81d);studentResultArea[_0x1021a2(0x3e3)]=_0x3a9ffe,studentResultArea[_0x1021a2(0x12e)]['remove'](_0x1021a2(0x30a)),studentQuizArea[_0x1021a2(0x12e)][_0x1021a2(0x7d7)](_0x1021a2(0x30a)),setupResultScreenBackButton({'showRankings':![],'score':_0x2f9d13,'totalQuestions':_0x5dad06});}function renderIndividualComparisonTable(_0x27fb06,_0x210cbe){const _0x358679=_0x4e7cd8;_0x27fb06[_0x358679(0x327)]((_0x52610,_0x3391c8)=>(_0x3391c8[_0x358679(0x9d0)]??-Infinity)-(_0x52610[_0x358679(0x9d0)]??-Infinity));let _0x51db12='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x27fb06[_0x358679(0xa90)]===0x0?_0x51db12+=_0x358679(0x4d9):_0x27fb06[_0x358679(0x8ca)]((_0x44656a,_0x20e036)=>{const _0x463119=_0x358679;let _0x2a180f='-',_0x15a8a5='';if(_0x44656a[_0x463119(0x46d)]!==null){const _0x3bc503=_0x44656a[_0x463119(0x46d)]>0x0?_0x463119(0x44a):_0x44656a[_0x463119(0x46d)]<0x0?'text-red-600':_0x463119(0xbe4),_0x1cb54a=_0x44656a[_0x463119(0x46d)]>0x0?'+':'';_0x2a180f=_0x463119(0x5fe)+_0x3bc503+'\x22>'+_0x1cb54a+_0x44656a[_0x463119(0x46d)]+_0x463119(0x46c);if(_0x44656a['gain']>0x0)_0x15a8a5=_0x463119(0x958);else _0x44656a['gain']<0x0?_0x15a8a5=_0x463119(0x3eb):_0x15a8a5='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x45438a='-';if(_0x44656a[_0x463119(0x9d0)]!==null){const _0x37363f=_0x44656a[_0x463119(0x9d0)]>0x0?'text-green-600':_0x44656a[_0x463119(0x9d0)]<0x0?_0x463119(0x8ae):_0x463119(0xbe4),_0x5c2782=_0x44656a['tGain']>0x0?'+':'';_0x45438a=_0x463119(0x5fe)+_0x37363f+'\x22>'+_0x5c2782+_0x44656a[_0x463119(0x9d0)][_0x463119(0x72c)](0x2)+'</span>';}_0x51db12+=_0x463119(0x3b6)+(_0x20e036+0x1)+_0x463119(0xc88)+_0x44656a[_0x463119(0x82b)]+_0x463119(0xbfe)+(_0x44656a[_0x463119(0xb44)]??'-')+_0x463119(0x9fb)+(_0x44656a[_0x463119(0x2fa)]??'-')+_0x463119(0xbfe)+_0x2a180f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x15a8a5+_0x463119(0x93b)+(_0x44656a[_0x463119(0x641)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x44656a['postTScore']?.[_0x463119(0x72c)](0x2)??'-')+_0x463119(0xbfe)+_0x45438a+_0x463119(0xb5e);}),_0x51db12+=_0x358679(0x88c),_0x210cbe['innerHTML']=_0x51db12;}function handleRenameQuiz(_0xfd0a16,_0x3f7d8a){const _0x5dbf33=_0x4e7cd8;actionTargetId=_0xfd0a16,document[_0x5dbf33(0x1c2)]('rename-quiz-input')['value']=_0x3f7d8a,renameQuizModal[_0x5dbf33(0x12e)]['remove']('hidden');}function setupComparisonModalTabs(){const _0x4dda9c=_0x4e7cd8,_0x40fb57=document[_0x4dda9c(0x1c2)](_0x4dda9c(0x35f)),_0x147d0d=document[_0x4dda9c(0x1c2)](_0x4dda9c(0x297)),_0x9c22e7=document['getElementById'](_0x4dda9c(0x303)),_0x2bc8a3=document[_0x4dda9c(0x1c2)](_0x4dda9c(0xa06));_0x40fb57[_0x4dda9c(0xa37)](_0x4dda9c(0xbdd),()=>{const _0x253fb5=_0x4dda9c;_0x40fb57[_0x253fb5(0x12e)][_0x253fb5(0x7d7)]('active'),_0x147d0d[_0x253fb5(0x12e)]['remove']('active'),_0x9c22e7['classList'][_0x253fb5(0x1f9)](_0x253fb5(0x30a)),_0x2bc8a3['classList']['add']('hidden');}),_0x147d0d['addEventListener'](_0x4dda9c(0xbdd),()=>{const _0x5b5061=_0x4dda9c;_0x147d0d[_0x5b5061(0x12e)][_0x5b5061(0x7d7)](_0x5b5061(0xae2)),_0x40fb57[_0x5b5061(0x12e)][_0x5b5061(0x1f9)](_0x5b5061(0xae2)),_0x2bc8a3[_0x5b5061(0x12e)][_0x5b5061(0x1f9)](_0x5b5061(0x30a)),_0x9c22e7[_0x5b5061(0x12e)][_0x5b5061(0x7d7)](_0x5b5061(0x30a));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x5f3f8b=_0x4e7cd8;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x534a02=doc(db,_0x5f3f8b(0xbc5)+appId+_0x5f3f8b(0x372),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x534a02,_0x3d1d31=>{const _0x42f74f=_0x5f3f8b;if(!_0x3d1d31[_0x42f74f(0x7b7)]()){showMessage(_0x42f74f(0xb58));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x42f74f(0x835)):showView(_0x42f74f(0x39a));return;}const _0x133355=_0x3d1d31[_0x42f74f(0x921)]();_0x133355[_0x42f74f(0x151)]&&(currentQuizData=_0x133355[_0x42f74f(0x151)]);!currentQuizData&&_0x133355[_0x42f74f(0x224)]&&((async()=>{const _0x42ecd8=_0x42f74f;try{const _0x27ab8b=doc(db,'artifacts/'+appId+_0x42ecd8(0x5e2),_0x133355[_0x42ecd8(0x224)]),_0x23e595=await getDoc(_0x27ab8b);_0x23e595['exists']()&&(currentQuizData={'id':_0x23e595['id'],..._0x23e595[_0x42ecd8(0x921)]()});}catch(_0x424be9){console[_0x42ecd8(0x2da)](_0x42ecd8(0xb0d),_0x424be9);}})());switch(_0x133355['status']){case _0x42f74f(0x971):if(currentMode===_0x42f74f(0x9be)){const _0x30dbaf=_0x133355['players']?Object['entries'](_0x133355['players']):[],_0x401360=_0x30dbaf['filter'](([_0x246f69,_0x5d9822])=>_0x5d9822[_0x42f74f(0xb37)]===_0x42f74f(0xae2)),_0xca8051=document[_0x42f74f(0x1c2)](_0x42f74f(0x84b));if(_0xca8051)_0xca8051['textContent']=_0x401360[_0x42f74f(0xa90)];const _0x38b487=document[_0x42f74f(0x1c2)](_0x42f74f(0xa3c));_0x38b487&&(_0x38b487[_0x42f74f(0x3e3)]=_0x401360[_0x42f74f(0xa26)](([_0x1e7c8a,_0xecb30b])=>_0x42f74f(0x9ec)+_0x1e7c8a+_0x42f74f(0xa87)+_0x1e7c8a+_0x42f74f(0x50f))[_0x42f74f(0xab6)](''));const _0x38c84f=document['getElementById'](_0x42f74f(0xc7d));_0x38c84f&&(_0x38c84f['disabled']=_0x401360[_0x42f74f(0xa90)]===0x0);}else showView(_0x42f74f(0x94d)),liveGameView[_0x42f74f(0x3e3)]=_0x42f74f(0x392)+currentStudentName+_0x42f74f(0xbe9);break;case _0x42f74f(0x3cb):const _0x4adacb=_0x133355[_0x42f74f(0x628)];if(currentQuizData&&currentQuizData['questions'][_0x4adacb]){const _0x385fb0=currentQuizData[_0x42f74f(0x966)][_0x4adacb],_0x3dd0e3=_0x133355[_0x42f74f(0x631)]||_0x42f74f(0xab2);switch(_0x3dd0e3){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0x133355,_0x385fb0):showPlayerSummaryView(_0x133355,currentStudentName);break;case _0x42f74f(0xaea):currentMode===_0x42f74f(0x9be)&&showTop5LeaderboardView(_0x133355);break;case _0x42f74f(0xab2):default:if(currentMode==='admin'){const _0x685a87=writeBatch(db);let _0x567e2d=![];Object[_0x42f74f(0xaa6)](_0x133355[_0x42f74f(0xb3e)])[_0x42f74f(0x8ca)](([_0x38d283,_0x2e6451])=>{const _0x34bacd=_0x42f74f;if(_0x2e6451[_0x34bacd(0xb37)]===_0x34bacd(0xae2)&&_0x2e6451[_0x34bacd(0x45d)]&&!_0x2e6451[_0x34bacd(0x365)]){_0x567e2d=!![];const _0x4ac1c3=_0x2e6451[_0x34bacd(0x45d)][_0x34bacd(0x766)]()-_0x133355[_0x34bacd(0x80e)]['toDate']();let _0x3ea872=0x0;if(_0x2e6451[_0x34bacd(0xb3b)]){const _0x28a1f2=0x3e8,_0x33b9c8=0x1f4,_0x389906=0x4e20;let _0x339088=_0x4ac1c3/_0x389906;if(_0x339088>0x1)_0x339088=0x1;const _0x1adbf0=Math['round'](_0x339088*_0x33b9c8);_0x3ea872=_0x28a1f2-_0x1adbf0;}const _0x5428b5=doc(db,_0x34bacd(0xbc5)+appId+_0x34bacd(0x372),currentLiveGameId);_0x685a87[_0x34bacd(0x81a)](_0x5428b5,{[_0x34bacd(0x47f)+_0x38d283+_0x34bacd(0x3e1)]:increment(_0x3ea872),['players.'+_0x38d283+'.pointsLastQuestion']:_0x3ea872,[_0x34bacd(0x47f)+_0x38d283+'.isScored']:!![]});}});_0x567e2d&&_0x685a87[_0x42f74f(0xc9b)]()['catch'](_0x186d3d=>console[_0x42f74f(0x2da)](_0x42f74f(0x70b),_0x186d3d));lastRenderedAdminQuestionIndex!==_0x4adacb&&(showAdminLiveQuestionView(_0x385fb0,_0x4adacb,currentQuizData[_0x42f74f(0x966)][_0x42f74f(0xa90)]),lastRenderedAdminQuestionIndex=_0x4adacb);const _0x14b972=_0x133355[_0x42f74f(0xb3e)]||{},_0x2013aa=Object[_0x42f74f(0x9a6)](_0x14b972)['filter'](_0x449da6=>_0x449da6[_0x42f74f(0xb37)]===_0x42f74f(0xae2)),_0x216073=_0x2013aa['length'],_0x39873c=_0x2013aa[_0x42f74f(0x473)](_0x401564=>_0x401564[_0x42f74f(0x5f9)]===!![])[_0x42f74f(0xa90)],_0x5e3fba=document['getElementById'](_0x42f74f(0x77c));if(_0x5e3fba)_0x5e3fba['textContent']=_0x39873c+'/'+_0x216073;const _0x29da55=document[_0x42f74f(0x1c2)]('live-player-list');if(_0x29da55){let _0x353199=Object[_0x42f74f(0xaa6)](_0x14b972)[_0x42f74f(0x473)](([_0x693da1,_0x1c9d74])=>_0x1c9d74[_0x42f74f(0xb37)]===_0x42f74f(0xae2))[_0x42f74f(0xa26)](([_0x1b2e49,_0x59063c])=>{const _0x58dbba=_0x42f74f,_0x20e86c=_0x59063c['answeredCurrentQuestion']===!![],_0x181056=_0x20e86c?_0x58dbba(0x570):_0x58dbba(0x507),_0xdeb350=_0x20e86c?_0x58dbba(0xcc3):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x58dbba(0x9c1)+_0x181056+_0x58dbba(0xc6e)+_0xdeb350+_0x58dbba(0xa88)+_0x1b2e49+_0x58dbba(0x779)+_0x1b2e49+_0x58dbba(0x1ad);})['join']('');_0x29da55[_0x42f74f(0x3e3)]=_0x353199||_0x42f74f(0x639);}_0x216073>0x0&&_0x39873c===_0x216073&&revealAnswerForAdmin(_0x4adacb,currentQuizData[_0x42f74f(0x966)][_0x42f74f(0xa90)]);}else{const _0x40a1a3=_0x133355[_0x42f74f(0xb3e)][currentStudentName];_0x40a1a3&&!_0x40a1a3['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x385fb0,_0x4adacb,currentQuizData[_0x42f74f(0x966)][_0x42f74f(0xa90)]);}break;}}break;case _0x42f74f(0xab0):showPodiumView(_0x133355[_0x42f74f(0xb3e)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x4dd32e=_0x4e7cd8;if(allQuizzesGlobal[_0x4dd32e(0xa90)]===0x0){const _0x538fb2=await getDocs(collection(db,_0x4dd32e(0xbc5)+appId+_0x4dd32e(0x5e2)));allQuizzesGlobal=_0x538fb2[_0x4dd32e(0x378)][_0x4dd32e(0xa26)](_0xa47d41=>({'id':_0xa47d41['id'],..._0xa47d41['data']()}));}renderGlobalActivityList(''),document[_0x4dd32e(0x1c2)](_0x4dd32e(0x132))[_0x4dd32e(0x12e)][_0x4dd32e(0x1f9)](_0x4dd32e(0x30a));}function renderGlobalActivityList(_0x2b8eba=''){const _0x20c915=_0x4e7cd8,_0x24c473=document['getElementById'](_0x20c915(0xaac)),_0x36785b=_0x2b8eba[_0x20c915(0x7a9)]()[_0x20c915(0x492)](),_0x3de766=allQuizzesGlobal['map'](_0x900a2=>({..._0x900a2,'projectName':allProjects[_0x20c915(0x135)](_0xb951c7=>_0xb951c7['id']===_0x900a2[_0x20c915(0xa4a)])?.[_0x20c915(0xa74)]||_0x20c915(0xb30)}))[_0x20c915(0x473)](_0x34a3aa=>(_0x34a3aa['topic']||'')[_0x20c915(0x7a9)]()[_0x20c915(0x4c2)](_0x36785b)||(_0x34a3aa[_0x20c915(0xa74)]||'')[_0x20c915(0x7a9)]()['includes'](_0x36785b));document[_0x20c915(0x1c2)](_0x20c915(0x655))[_0x20c915(0x9a1)]='('+_0x3de766[_0x20c915(0xa90)]+_0x20c915(0x3f6),_0x24c473[_0x20c915(0x3e3)]=_0x3de766[_0x20c915(0xa90)]?_0x3de766['map'](_0x3857a9=>_0x20c915(0x57d)+(_0x3857a9['topic']||'(ไม่มีชื่อ)')+_0x20c915(0x4aa)+(_0x3857a9['questions']?.[_0x20c915(0xa90)]||0x0)+_0x20c915(0x6f4)+_0x3857a9[_0x20c915(0xa74)]+_0x20c915(0x642)+_0x3857a9['id']+_0x20c915(0x893)+_0x3857a9['id']+_0x20c915(0x906)+_0x3857a9['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3857a9['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')['join'](''):_0x20c915(0x6ef);}async function handleKickPlayer(_0x4aab70){const _0x5374f6=_0x4e7cd8;if(!currentLiveGameId||!_0x4aab70)return;const _0x59a714=doc(db,_0x5374f6(0xbc5)+appId+_0x5374f6(0x372),currentLiveGameId),_0x5b575e={};_0x5b575e[_0x5374f6(0x47f)+_0x4aab70+_0x5374f6(0x5b3)]=_0x5374f6(0x4c8);try{await updateDoc(_0x59a714,_0x5b575e);}catch(_0xb5a3f4){console[_0x5374f6(0x2da)](_0x5374f6(0xc0d)+_0x4aab70+':',_0xb5a3f4),showMessage(_0x5374f6(0x1eb));}}async function authenticateUser(){const _0x2b7ada=_0x4e7cd8;try{typeof __initial_auth_token!==_0x2b7ada(0xb0c)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4adf9a){console[_0x2b7ada(0x2da)](_0x2b7ada(0x79c),_0x4adf9a),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x33dc8e){const _0x5ec44f=_0x4e7cd8;adminView[_0x5ec44f(0x12e)]['add'](_0x5ec44f(0x30a)),studentView[_0x5ec44f(0x12e)]['add'](_0x5ec44f(0x30a)),projectDashboardView[_0x5ec44f(0x12e)][_0x5ec44f(0x7d7)]('hidden'),projectDetailView[_0x5ec44f(0x12e)]['add'](_0x5ec44f(0x30a)),quizResultsView[_0x5ec44f(0x12e)][_0x5ec44f(0x7d7)](_0x5ec44f(0x30a)),liveGameView[_0x5ec44f(0x12e)]['add'](_0x5ec44f(0x30a)),document[_0x5ec44f(0x1c2)](_0x5ec44f(0xb8d))[_0x5ec44f(0x12e)]['add'](_0x5ec44f(0x30a)),studentInitialView[_0x5ec44f(0x12e)][_0x5ec44f(0x7d7)]('hidden'),studentJoinGameView['classList'][_0x5ec44f(0x7d7)](_0x5ec44f(0x30a)),studentNameSelectionView[_0x5ec44f(0x12e)][_0x5ec44f(0x7d7)](_0x5ec44f(0x30a)),studentQuizArea[_0x5ec44f(0x12e)]['add'](_0x5ec44f(0x30a)),studentResultArea['classList'][_0x5ec44f(0x7d7)](_0x5ec44f(0x30a)),studentReadingArea[_0x5ec44f(0x12e)][_0x5ec44f(0x7d7)](_0x5ec44f(0x30a));const _0x117c84=document[_0x5ec44f(0x1c2)]('student-team-selection-view'),_0x33b562=document[_0x5ec44f(0x1c2)](_0x5ec44f(0x86f));if(_0x117c84)_0x117c84[_0x5ec44f(0x12e)][_0x5ec44f(0x7d7)](_0x5ec44f(0x30a));if(_0x33b562)_0x33b562[_0x5ec44f(0x12e)]['add'](_0x5ec44f(0x30a));switch(_0x33dc8e){case _0x5ec44f(0xab7):adminView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)](_0x5ec44f(0x30a)),projectDashboardView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)](_0x5ec44f(0x30a));break;case _0x5ec44f(0x835):adminView['classList']['remove'](_0x5ec44f(0x30a)),projectDetailView['classList']['remove'](_0x5ec44f(0x30a));break;case _0x5ec44f(0x3e4):adminView[_0x5ec44f(0x12e)]['remove'](_0x5ec44f(0x30a)),quizResultsView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)]('hidden');break;case _0x5ec44f(0x39a):studentView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)](_0x5ec44f(0x30a)),studentInitialView[_0x5ec44f(0x12e)]['remove']('hidden');break;case _0x5ec44f(0x94d):liveGameView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)](_0x5ec44f(0x30a));break;case _0x5ec44f(0xa2c):studentView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)]('hidden');if(_0x117c84)_0x117c84[_0x5ec44f(0x12e)]['remove'](_0x5ec44f(0x30a));break;case _0x5ec44f(0x988):studentView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)](_0x5ec44f(0x30a));if(_0x33b562)_0x33b562['classList']['remove']('hidden');break;default:studentView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)](_0x5ec44f(0x30a)),studentInitialView[_0x5ec44f(0x12e)][_0x5ec44f(0x1f9)](_0x5ec44f(0x30a));break;}}function showJoinGameView(){const _0x2c99d7=_0x4e7cd8;studentInitialView[_0x2c99d7(0x12e)]['add'](_0x2c99d7(0x30a)),studentJoinGameView['classList']['remove'](_0x2c99d7(0x30a));}async function handleSaveVisibilitySettings(){const _0x4c552e=_0x4e7cd8;if(!currentProjectId)return;const _0xcaee58=doc(db,_0x4c552e(0xbc5)+appId+_0x4c552e(0x6e3),currentProjectId);try{await updateDoc(_0xcaee58,{'settings.showInStudentDashboard':document['getElementById'](_0x4c552e(0xc2b))['checked'],'settings.isPasscodeEnabled':document[_0x4c552e(0x1c2)](_0x4c552e(0x495))[_0x4c552e(0x564)],'settings.passcode':document[_0x4c552e(0x1c2)](_0x4c552e(0xa14))[_0x4c552e(0x9f1)][_0x4c552e(0x492)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x135368){console[_0x4c552e(0x2da)]('Error\x20saving\x20visibility\x20settings:',_0x135368),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x32572f=_0x4e7cd8;document['getElementById'](_0x32572f(0x8d3))['addEventListener'](_0x32572f(0xbdd),async()=>{const _0x3f64c3=_0x32572f;if(!currentBlueprintProjectId)return;const _0x7e5789=document[_0x3f64c3(0x1c2)](_0x3f64c3(0x567))[_0x3f64c3(0x9f1)]['trim'](),_0x1cc437=doc(db,_0x3f64c3(0xbc5)+appId+_0x3f64c3(0x618),currentBlueprintProjectId);try{await updateDoc(_0x1cc437,{'referenceFileUrl':_0x7e5789}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0xe009f1){console[_0x3f64c3(0x2da)]('Error\x20saving\x20reference\x20URL:',_0xe009f1),showMessage(_0x3f64c3(0x227));}}),document[_0x32572f(0x1c2)](_0x32572f(0xc2e))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleAddParallelShortcutTab),document[_0x32572f(0x1c2)]('parallel-test-input-area')[_0x32572f(0xa37)]('click',_0x21e5c4=>{const _0x588d1d=_0x32572f;_0x21e5c4[_0x588d1d(0x12a)][_0x588d1d(0xbdf)](_0x588d1d(0x475))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x588d1d(0x1c2)](_0x588d1d(0x431))[_0x588d1d(0x12e)]['remove']('hidden'));}),document['getElementById'](_0x32572f(0x1e5))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x30e023=_0x32572f;document[_0x30e023(0x1c2)](_0x30e023(0x431))[_0x30e023(0x12e)]['add'](_0x30e023(0x30a));}),document[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x185ce0=>{const _0x5dbd26=_0x32572f;!_0x185ce0[_0x5dbd26(0x12a)][_0x5dbd26(0xbdf)]('.group\x5c/dropdown-parallel')&&document['querySelectorAll'](_0x5dbd26(0x177))[_0x5dbd26(0x8ca)](_0x430b69=>_0x430b69[_0x5dbd26(0x12e)][_0x5dbd26(0x7d7)](_0x5dbd26(0x30a)));}),document[_0x32572f(0x1c2)](_0x32572f(0x74c))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleAddFileShortcutTab),document[_0x32572f(0x1c2)](_0x32572f(0x9b6))[_0x32572f(0xa37)]('click',_0x4e31b7=>{const _0x433b2d=_0x32572f;_0x4e31b7[_0x433b2d(0x12a)][_0x433b2d(0xbdf)](_0x433b2d(0x130))&&(activeFileShortcutTabId=_0x433b2d(0x3ca),renderAdditionalFileShortcutsModal(),document[_0x433b2d(0x1c2)]('additional-file-shortcuts-modal')[_0x433b2d(0x12e)][_0x433b2d(0x1f9)]('hidden'));}),document[_0x32572f(0x1c2)](_0x32572f(0xca9))['addEventListener']('click',()=>{const _0x389a31=_0x32572f;document[_0x389a31(0x1c2)](_0x389a31(0xa48))[_0x389a31(0x12e)][_0x389a31(0x7d7)](_0x389a31(0x30a));}),document[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x452d9f=>{const _0x480d2f=_0x32572f;!_0x452d9f[_0x480d2f(0x12a)]['closest'](_0x480d2f(0x32d))&&document['querySelectorAll'](_0x480d2f(0x2a8))[_0x480d2f(0x8ca)](_0x24dd4a=>_0x24dd4a[_0x480d2f(0x12e)][_0x480d2f(0x7d7)](_0x480d2f(0x30a)));}),document[_0x32572f(0x1c2)](_0x32572f(0x2b8))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleAddShortcutTab),document[_0x32572f(0x1c2)](_0x32572f(0x2d8))['addEventListener']('click',_0x190667=>{const _0x331347=_0x32572f,_0x115b6=_0x190667[_0x331347(0x12a)]['closest'](_0x331347(0x698)),_0x318657=_0x190667['target'][_0x331347(0xbdf)]('.edit-parallel-shortcut-btn'),_0x4468c6=_0x190667[_0x331347(0x12a)][_0x331347(0xbdf)]('.delete-parallel-shortcut-btn');if(_0x318657)openParallelTestShortcutEditor(_0x318657[_0x331347(0x928)]['id']);else{if(_0x4468c6){const _0x43ac24=_0x4468c6[_0x331347(0x928)]['id'];showConfirmation(_0x331347(0x1d6),async()=>{const _0x492dfe=_0x331347,_0x3a9157=parallelTestShortcuts[_0x492dfe(0x473)](_0x4fcc71=>_0x4fcc71['id']!==_0x43ac24),_0x3ad5bc=doc(db,_0x492dfe(0x7a0),'parallelTestShortcutsConfig');await setDoc(_0x3ad5bc,{'shortcuts':_0x3a9157},{'merge':!![]});});}else _0x115b6&&handleParallelTestShortcutClick(_0x115b6['dataset']['id']);}}),document[_0x32572f(0x1c2)]('add-parallel-shortcut-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>openParallelTestShortcutEditor(null)),document[_0x32572f(0x1c2)](_0x32572f(0x6ea))['addEventListener']('click',()=>{const _0x348696=_0x32572f;document['getElementById']('parallel-shortcut-editor-modal')[_0x348696(0x12e)][_0x348696(0x7d7)](_0x348696(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0x7b4))[_0x32572f(0xa37)](_0x32572f(0xbdd),saveParallelTestShortcutChanges),document[_0x32572f(0x1c2)](_0x32572f(0x8c4))[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x369e2f=>{const _0x387f32=_0x32572f;_0x369e2f[_0x387f32(0x12a)][_0x387f32(0xbdf)](_0x387f32(0x475))&&document[_0x387f32(0x1c2)](_0x387f32(0x431))[_0x387f32(0x12e)][_0x387f32(0x1f9)](_0x387f32(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0x1e5))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x6f1e11=_0x32572f;document[_0x6f1e11(0x1c2)](_0x6f1e11(0x431))[_0x6f1e11(0x12e)][_0x6f1e11(0x7d7)]('hidden');}),document[_0x32572f(0x1c2)](_0x32572f(0x7cc))[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x3d52fb=>{const _0x4748ee=_0x32572f,_0x30750f=document[_0x4748ee(0x1c2)](_0x4748ee(0x431)),_0x18215f=_0x3d52fb['target'][_0x4748ee(0xbdf)](_0x4748ee(0x1a9)),_0xad3c30=_0x3d52fb[_0x4748ee(0x12a)][_0x4748ee(0xbdf)](_0x4748ee(0xc6c)),_0x5a53a1=_0x3d52fb['target'][_0x4748ee(0xbdf)](_0x4748ee(0x8ad));if(_0x18215f)_0x30750f[_0x4748ee(0x12e)][_0x4748ee(0x7d7)](_0x4748ee(0x30a)),handleParallelTestShortcutClick(_0x18215f[_0x4748ee(0x928)]['id']);else{if(_0xad3c30)_0x30750f['classList']['add'](_0x4748ee(0x30a)),openParallelTestShortcutEditor(_0xad3c30[_0x4748ee(0x928)]['id']);else{if(_0x5a53a1){const _0x3b96b1=_0x5a53a1[_0x4748ee(0x928)]['id'];showConfirmation(_0x4748ee(0x1d6),async()=>{const _0x5c0cde=_0x4748ee,_0x159a96=parallelTestShortcuts[_0x5c0cde(0x473)](_0x51989d=>_0x51989d['id']!==_0x3b96b1),_0x3ed5c2=doc(db,_0x5c0cde(0x7a0),'parallelTestShortcutsConfig');await setDoc(_0x3ed5c2,{'shortcuts':_0x159a96},{'merge':!![]});});}}}}),document['getElementById'](_0x32572f(0x371))[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x3a2ebf=>{const _0x372882=_0x32572f,_0x22406a=_0x3a2ebf[_0x372882(0x12a)][_0x372882(0xbdf)](_0x372882(0x7a3)),_0x1524eb=_0x3a2ebf[_0x372882(0x12a)][_0x372882(0xbdf)]('.edit-file-shortcut-btn'),_0x67d6f=_0x3a2ebf[_0x372882(0x12a)][_0x372882(0xbdf)](_0x372882(0x7ad));if(_0x1524eb)openFileShortcutEditor(_0x1524eb['dataset']['id']);else{if(_0x67d6f){const _0x3cdac7=_0x67d6f['dataset']['id'];showConfirmation(_0x372882(0x1d6),async()=>{const _0x1711c2=_0x372882,_0x162264=fileShortcuts[_0x1711c2(0x473)](_0x1d04ba=>_0x1d04ba['id']!==_0x3cdac7),_0x4c756f=doc(db,_0x1711c2(0x7a0),_0x1711c2(0x884));await setDoc(_0x4c756f,{'shortcuts':_0x162264},{'merge':!![]});});}else _0x22406a&&handleFileShortcutClick(_0x22406a[_0x372882(0x928)]['id']);}}),document[_0x32572f(0x1c2)](_0x32572f(0xc3b))[_0x32572f(0xa37)]('click',()=>openFileShortcutEditor(null)),document[_0x32572f(0x1c2)](_0x32572f(0x5ca))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x5b3c60=_0x32572f;document['getElementById'](_0x5b3c60(0xc01))[_0x5b3c60(0x12e)][_0x5b3c60(0x7d7)](_0x5b3c60(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0x735))[_0x32572f(0xa37)]('click',saveFileShortcutChanges),document[_0x32572f(0x1c2)](_0x32572f(0x9b6))[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x197d85=>{const _0x55b566=_0x32572f;_0x197d85['target']['closest']('#open-additional-file-shortcuts-btn')&&document[_0x55b566(0x1c2)]('additional-file-shortcuts-modal')[_0x55b566(0x12e)][_0x55b566(0x1f9)](_0x55b566(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0xca9))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x5228cf=_0x32572f;document['getElementById'](_0x5228cf(0xa48))[_0x5228cf(0x12e)]['add'](_0x5228cf(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0x4cb))['addEventListener'](_0x32572f(0xbdd),_0x449f1c=>{const _0x285644=_0x32572f,_0xa10f67=document['getElementById'](_0x285644(0xa48)),_0x259372=_0x449f1c[_0x285644(0x12a)]['closest'](_0x285644(0x612)),_0x4fb5fc=_0x449f1c[_0x285644(0x12a)][_0x285644(0xbdf)](_0x285644(0x9e9)),_0x365d34=_0x449f1c[_0x285644(0x12a)][_0x285644(0xbdf)]('.delete-hidden-file-shortcut-btn');if(_0x259372)_0xa10f67[_0x285644(0x12e)]['add'](_0x285644(0x30a)),handleFileShortcutClick(_0x259372[_0x285644(0x928)]['id']);else{if(_0x4fb5fc)_0xa10f67[_0x285644(0x12e)][_0x285644(0x7d7)]('hidden'),openFileShortcutEditor(_0x4fb5fc[_0x285644(0x928)]['id']);else{if(_0x365d34){const _0x5dada9=_0x365d34[_0x285644(0x928)]['id'];showConfirmation(_0x285644(0x1d6),async()=>{const _0x18ee7b=_0x285644,_0x524442=fileShortcuts[_0x18ee7b(0x473)](_0x17a54a=>_0x17a54a['id']!==_0x5dada9),_0x263c3d=doc(db,_0x18ee7b(0x7a0),_0x18ee7b(0x884));await setDoc(_0x263c3d,{'shortcuts':_0x524442},{'merge':!![]});});}}}}),document['getElementById'](_0x32572f(0x896))[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x4afcc6=>{const _0x3709a0=_0x32572f;_0x4afcc6[_0x3709a0(0x12a)]['closest']('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x3709a0(0x3ca),renderAdditionalShortcutsModal(),document['getElementById'](_0x3709a0(0x548))[_0x3709a0(0x12e)]['remove'](_0x3709a0(0x30a)));}),document[_0x32572f(0x1c2)](_0x32572f(0x476))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x2e9562=_0x32572f;document[_0x2e9562(0x1c2)](_0x2e9562(0x548))[_0x2e9562(0x12e)][_0x2e9562(0x7d7)]('hidden');}),document[_0x32572f(0x1c2)](_0x32572f(0x2f8))['addEventListener']('click',_0x82af84=>{const _0x5b8b8e=_0x32572f,_0x4d4b1c=_0x82af84[_0x5b8b8e(0x12a)]['closest'](_0x5b8b8e(0xa66)),_0x1c5db6=_0x82af84[_0x5b8b8e(0x12a)]['closest'](_0x5b8b8e(0xcc0)),_0x1cb8d5=_0x82af84[_0x5b8b8e(0x12a)]['closest'](_0x5b8b8e(0x4f4)),_0x4c8c77=document[_0x5b8b8e(0x1c2)](_0x5b8b8e(0x548));if(_0x4d4b1c)_0x4c8c77[_0x5b8b8e(0x12e)]['add']('hidden'),handleShortcutClick(_0x4d4b1c[_0x5b8b8e(0x928)]['id']);else{if(_0x1c5db6)_0x4c8c77[_0x5b8b8e(0x12e)]['add'](_0x5b8b8e(0x30a)),openShortcutEditor(_0x1c5db6[_0x5b8b8e(0x928)]['id']);else{if(_0x1cb8d5){const _0x479cbe=_0x1cb8d5[_0x5b8b8e(0x928)]['id'],_0x58a8b4=blueprintShortcuts['find'](_0x186234=>_0x186234['id']===_0x479cbe)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x58a8b4+'\x22?',async()=>{const _0x59247a=_0x5b8b8e,_0x3cbe9a=blueprintShortcuts['filter'](_0x2a4ec1=>_0x2a4ec1['id']!==_0x479cbe);try{const _0x1bb816=doc(db,'globalSettings',_0x59247a(0x5e6));await setDoc(_0x1bb816,{'blueprintShortcuts':_0x3cbe9a},{'merge':!![]});}catch(_0x1de228){console[_0x59247a(0x2da)](_0x59247a(0x51f),_0x1de228);}});}}}}),document['getElementById']('blueprint-shortcut-container')[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x4c5700=>{const _0x24a2e7=_0x32572f,_0x21976d=_0x4c5700['target'][_0x24a2e7(0xbdf)](_0x24a2e7(0xa9f)),_0x1ea758=_0x4c5700[_0x24a2e7(0x12a)]['closest'](_0x24a2e7(0x3d8)),_0x3d3fea=_0x4c5700[_0x24a2e7(0x12a)][_0x24a2e7(0xbdf)](_0x24a2e7(0x2ce));if(_0x1ea758)openShortcutEditor(_0x1ea758[_0x24a2e7(0x928)]['id']);else{if(_0x3d3fea){const _0x1c4232=_0x3d3fea['dataset']['id'],_0x3b35f9=blueprintShortcuts[_0x24a2e7(0x135)](_0x331b85=>_0x331b85['id']===_0x1c4232)?.['name'];showConfirmation(_0x24a2e7(0xa8b)+_0x3b35f9+'\x22?',async()=>{const _0x93d542=_0x24a2e7,_0xc4a59e=blueprintShortcuts[_0x93d542(0x473)](_0x797685=>_0x797685['id']!==_0x1c4232);try{const _0x14e41f=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x14e41f,{'blueprintShortcuts':_0xc4a59e},{'merge':!![]});}catch(_0x52a641){console[_0x93d542(0x2da)](_0x93d542(0x51f),_0x52a641);}});}else _0x21976d&&handleShortcutClick(_0x21976d['dataset']['id']);}}),document['getElementById'](_0x32572f(0x7af))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>openShortcutEditor(null)),document['getElementById']('cancel-shortcut-edit-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x38a588=_0x32572f;document[_0x38a588(0x1c2)](_0x38a588(0x359))[_0x38a588(0x12e)][_0x38a588(0x7d7)](_0x38a588(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0xc6b))[_0x32572f(0xa37)](_0x32572f(0xbdd),saveShortcutChanges),document[_0x32572f(0x1c2)](_0x32572f(0x792))[_0x32572f(0xa37)](_0x32572f(0xbdd),async()=>{const _0x475303=_0x32572f,_0x12139d=document[_0x475303(0x1c2)](_0x475303(0xc06)),_0x3f205d=document['getElementById'](_0x475303(0x98c));_0x12139d['files'][_0x475303(0xa90)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x12139d[_0x475303(0x69f)][0x0],_0x3f205d['files'][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document['getElementById'](_0x32572f(0x251))[_0x32572f(0xa37)](_0x32572f(0xbdd),async _0x3d47ae=>{const _0xcebfcd=_0x32572f,_0x29f48e=document[_0xcebfcd(0x1c2)](_0xcebfcd(0x251)),_0x3afd33=_0x3d47ae[_0xcebfcd(0x12a)][_0xcebfcd(0xbdf)](_0xcebfcd(0x54a)),_0x30a6f4=_0x3d47ae[_0xcebfcd(0x12a)][_0xcebfcd(0xbdf)](_0xcebfcd(0x161)),_0x1b63e1=_0x3d47ae[_0xcebfcd(0x12a)][_0xcebfcd(0xbdf)](_0xcebfcd(0x21f)),_0x5a3377=_0x3d47ae[_0xcebfcd(0x12a)]['closest'](_0xcebfcd(0x1a3)),_0x13bd2e=_0x3d47ae[_0xcebfcd(0x12a)]['closest']('.bp-live-btn'),_0x518206=_0x3d47ae['target'][_0xcebfcd(0xbdf)]('.bp-game-btn');if(_0x3afd33){cameFromBlueprint=!![];const _0x5c1956=_0x3afd33[_0xcebfcd(0x928)]['quizId'];showQuizDetailView(_0x5c1956),_0x29f48e[_0xcebfcd(0x12e)]['add'](_0xcebfcd(0x30a));}else{if(_0x30a6f4){const _0x8fdc3d=_0x30a6f4['dataset'][_0xcebfcd(0x54f)],_0x196585=_0x30a6f4[_0xcebfcd(0x928)][_0xcebfcd(0x224)],_0x2709bc=allQuizzesGlobal[_0xcebfcd(0x135)](_0x27f706=>_0x27f706['id']===_0x196585),_0x513baf=_0x2709bc?_0x2709bc[_0xcebfcd(0xcaf)]:_0xcebfcd(0xbf4);showConfirmation(_0xcebfcd(0x26a)+_0x513baf+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x24c1c5=_0xcebfcd;try{const _0x5688dd=doc(db,_0x24c1c5(0xbc5)+appId+_0x24c1c5(0x618),currentBlueprintProjectId);await updateDoc(_0x5688dd,{[_0x24c1c5(0xa13)+_0x8fdc3d+'.linkedQuizIds']:arrayRemove(_0x196585)}),showMessage(_0x24c1c5(0x125)),openTopicQuizBank(_0x8fdc3d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4c04ca){console['error'](_0x24c1c5(0x5ba),_0x4c04ca),showMessage(_0x24c1c5(0x889));}});}else{if(_0x1b63e1){cameFromBlueprint=!![];const _0x39b2be=_0x1b63e1['dataset']['quizId'],_0x44dcc0=allQuizzesGlobal['find'](_0x2509ed=>_0x2509ed['id']===_0x39b2be);_0x44dcc0&&(startPresentation(_0x44dcc0),_0x29f48e[_0xcebfcd(0x12e)][_0xcebfcd(0x7d7)]('hidden'));}else{if(_0x5a3377){cameFromBlueprint=!![];const _0x3a54bc=_0x5a3377[_0xcebfcd(0x928)][_0xcebfcd(0x224)],_0x494c25=allQuizzesGlobal[_0xcebfcd(0x135)](_0x5efd42=>_0x5efd42['id']===_0x3a54bc);_0x494c25&&(currentQuizData=_0x494c25,startAdminTest(),_0x29f48e[_0xcebfcd(0x12e)][_0xcebfcd(0x7d7)](_0xcebfcd(0x30a)));}else{if(_0x13bd2e)cameFromBlueprint=!![],handleStartLiveRace(_0x13bd2e['dataset'][_0xcebfcd(0x224)]),_0x29f48e[_0xcebfcd(0x12e)][_0xcebfcd(0x7d7)](_0xcebfcd(0x30a));else{if(_0x518206){cameFromBlueprint=!![];const _0x2f94ee=_0x518206[_0xcebfcd(0x928)][_0xcebfcd(0x224)],_0x36d2b8=_0x518206[_0xcebfcd(0x928)][_0xcebfcd(0x33d)],_0x54aad7=allQuizzesGlobal[_0xcebfcd(0x135)](_0x4ea206=>_0x4ea206['id']===_0x2f94ee);_0x54aad7&&(showGameStartConfirmationModal(_0x2f94ee,_0x36d2b8,_0x54aad7[_0xcebfcd(0xcaf)]),_0x29f48e[_0xcebfcd(0x12e)][_0xcebfcd(0x7d7)](_0xcebfcd(0x30a)));}}}}}}}),document['getElementById'](_0x32572f(0x6a5))[_0x32572f(0xa37)]('click',()=>{const _0xb46cf3=_0x32572f;document[_0xb46cf3(0x1c2)](_0xb46cf3(0x9de))['classList'][_0xb46cf3(0x1f9)]('hidden'),document['getElementById'](_0xb46cf3(0x929))[_0xb46cf3(0x9f1)]='',document[_0xb46cf3(0x1c2)](_0xb46cf3(0x626))[_0xb46cf3(0x9f1)]='',document[_0xb46cf3(0x1c2)](_0xb46cf3(0x4b5))[_0xb46cf3(0x9f1)]='';}),document[_0x32572f(0x1c2)](_0x32572f(0x9da))[_0x32572f(0xa37)]('click',()=>{const _0x3a9cb1=_0x32572f;document[_0x3a9cb1(0x1c2)](_0x3a9cb1(0x9de))[_0x3a9cb1(0x12e)][_0x3a9cb1(0x7d7)](_0x3a9cb1(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0x14b))['addEventListener'](_0x32572f(0xbdd),handleManualBlueprintSave),document[_0x32572f(0x1c2)](_0x32572f(0x479))[_0x32572f(0xa37)]('click',()=>document['getElementById'](_0x32572f(0x2c9))[_0x32572f(0x12e)]['add'](_0x32572f(0x30a))),document[_0x32572f(0x1c2)]('save-bp-settings-btn')['addEventListener'](_0x32572f(0xbdd),handleSaveBlueprintPageSettings),document[_0x32572f(0x1c2)](_0x32572f(0x3b7))[_0x32572f(0xa37)]('click',openBlueprintQuizSettings),document[_0x32572f(0x1c2)](_0x32572f(0x52a))['addEventListener']('click',saveBlueprintProject),document[_0x32572f(0x1c2)](_0x32572f(0x5a5))['addEventListener']('click',showBlueprintProjects),document[_0x32572f(0x1c2)](_0x32572f(0xb6e))[_0x32572f(0xa37)]('click',()=>{const _0x35e972=_0x32572f;document['getElementById']('blueprint-projects-modal')[_0x35e972(0x12e)][_0x35e972(0x7d7)](_0x35e972(0x30a));}),document['getElementById']('blueprint-project-list')[_0x32572f(0xa37)]('click',_0x2c3666=>{const _0x29c385=_0x32572f,_0x488807=_0x2c3666[_0x29c385(0x12a)][_0x29c385(0xbdf)](_0x29c385(0x968)),_0x515236=_0x2c3666[_0x29c385(0x12a)][_0x29c385(0xbdf)](_0x29c385(0x202));if(_0x488807)displayBlueprintProjectManager(_0x488807['dataset']['id']);else _0x515236&&handleDeepDeleteBlueprintProject(_0x515236[_0x29c385(0x928)]['id']);}),document[_0x32572f(0x1c2)](_0x32572f(0xbb9))[_0x32572f(0xa37)]('click',()=>{const _0xc8f9c8=_0x32572f;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0xc8f9c8(0xb8d))[_0xc8f9c8(0x12e)][_0xc8f9c8(0x7d7)](_0xc8f9c8(0x30a)),showView(_0xc8f9c8(0xab7));}),document[_0x32572f(0x1c2)]('bp-add-topic-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),addTopicToProject),document[_0x32572f(0x1c2)](_0x32572f(0x79d))['addEventListener']('click',async _0x35671e=>{const _0x519a58=_0x32572f,_0x1ff28e=_0x35671e[_0x519a58(0x12a)][_0x519a58(0xbdf)](_0x519a58(0xbfd));if(!_0x1ff28e)return;const _0x715463=_0x1ff28e['dataset'][_0x519a58(0x54f)],_0x5449e1=_0x35671e['target'][_0x519a58(0xbdf)](_0x519a58(0x70a)),_0x2aa104=_0x35671e['target'][_0x519a58(0xbdf)](_0x519a58(0xc0b)),_0x58239f=_0x35671e['target'][_0x519a58(0xbdf)](_0x519a58(0xa12)),_0x6cab6e=_0x35671e[_0x519a58(0x12a)][_0x519a58(0xbdf)](_0x519a58(0x962)),_0x746d65=_0x35671e[_0x519a58(0x12a)][_0x519a58(0xbdf)](_0x519a58(0x458)),_0x3c2fd9=_0x35671e[_0x519a58(0x12a)]['closest'](_0x519a58(0x8e7)),_0x49afd8=_0x35671e[_0x519a58(0x12a)]['closest'](_0x519a58(0x91d)),_0x2e9509=_0x35671e[_0x519a58(0x12a)][_0x519a58(0xbdf)](_0x519a58(0x4c1)),_0x46076d=_0xc89d3f=>{const _0x3177d1=_0x519a58,_0x1e9f7f=_0xc89d3f[_0x3177d1(0x8b9)](_0x3177d1(0x69b))[_0x3177d1(0x9a1)][_0x3177d1(0x492)](),_0x37f3fd=_0xc89d3f[_0x3177d1(0xbdf)](_0x3177d1(0xcb0))[_0x3177d1(0x2e8)],_0x41031a=_0x37f3fd?_0x37f3fd[_0x3177d1(0x9a1)][_0x3177d1(0x492)]():'';return _0x41031a+':\x20'+_0x1e9f7f;};if(_0x6cab6e)openTopicQuizBank(_0x715463);else{if(_0x5449e1){const _0x52a0ff=_0x46076d(_0x1ff28e);selectProjectAndGenerateBlueprintQuiz(_0x52a0ff,null,_0x715463,!![]);}else{if(_0x2aa104){const _0x2f042f=_0x46076d(_0x1ff28e);try{const _0x578a6c=doc(db,_0x519a58(0xbc5)+appId+_0x519a58(0x14e)+currentBlueprintProjectId+'/lessons',_0x715463),_0x1c94ba=await getDoc(_0x578a6c);if(_0x1c94ba[_0x519a58(0x7b7)]()){const _0x4a9ca0=_0x1c94ba[_0x519a58(0x921)]()['content'],_0x333596=document[_0x519a58(0x601)]('div'),_0x22ea7a=_0x59b78c=>{const _0x33b5ed=_0x519a58;if(!_0x59b78c)return'';return _0x333596[_0x33b5ed(0x3e3)]=_0x59b78c,_0x333596[_0x33b5ed(0x9a1)]||_0x333596[_0x33b5ed(0x1cd)]||'';},_0x24b8eb=(_0x22ea7a(_0x4a9ca0['point'])+'\x20'+_0x22ea7a(_0x4a9ca0[_0x519a58(0x606)])+'\x20'+_0x22ea7a(_0x4a9ca0['summary']))[_0x519a58(0x492)]();selectProjectAndGenerateBlueprintQuiz(_0x2f042f,_0x24b8eb,_0x715463,![]);}else showMessage(_0x519a58(0xbfc));}catch(_0x4a996a){console[_0x519a58(0x2da)](_0x519a58(0xb5d),_0x4a996a),showMessage(_0x519a58(0x9ee));}}else{if(_0x58239f){const _0x1008bc=_0x46076d(_0x1ff28e);selectProjectAndGenerateBlueprintQuiz(_0x1008bc,null,_0x715463,![]);}else{if(_0x746d65){const _0xc1d0d9=doc(db,_0x519a58(0xbc5)+appId+_0x519a58(0x618),currentBlueprintProjectId),_0x153a81=await getDoc(_0xc1d0d9);if(_0x153a81[_0x519a58(0x7b7)]()){const _0x59c791=_0x153a81[_0x519a58(0x921)](),_0x1157ba=_0x59c791['topics'][_0x715463];if(_0x1157ba&&_0x1157ba['status']==='generated')try{const _0x34a840=doc(db,_0x519a58(0xbc5)+appId+_0x519a58(0x14e)+currentBlueprintProjectId+_0x519a58(0x5d3),_0x715463),_0x2b36af=await getDoc(_0x34a840);if(_0x2b36af[_0x519a58(0x7b7)]()){const _0x57e22f=_0x2b36af[_0x519a58(0x921)]()['content'];document[_0x519a58(0x1c2)](_0x519a58(0x830))[_0x519a58(0x9a1)]=_0x519a58(0x5fd)+_0x46076d(_0x1ff28e),document[_0x519a58(0x1c2)](_0x519a58(0x33b))[_0x519a58(0x3e3)]=_0x57e22f['point'],document[_0x519a58(0x1c2)](_0x519a58(0x7ec))[_0x519a58(0x3e3)]=_0x57e22f['memory'],document[_0x519a58(0x1c2)](_0x519a58(0xcc2))[_0x519a58(0x3e3)]=_0x57e22f[_0x519a58(0x1b8)];const _0x174a8b=document['getElementById'](_0x519a58(0x8f1));_0x57e22f[_0x519a58(0xba3)]?(currentApplicationData=_0x57e22f['applicationData'],_0x174a8b[_0x519a58(0x3e3)]=currentApplicationData[_0x519a58(0xa26)]((_0x564b8b,_0x1c0401)=>_0x519a58(0xb54)+(_0x1c0401+0x1)+'.\x20'+marked[_0x519a58(0x9bb)](_0x564b8b['question'])+_0x519a58(0xc46)+_0x1c0401+_0x519a58(0x28b)+_0x564b8b[_0x519a58(0x4d1)][_0x519a58(0xa26)]((_0x3c76b3,_0x295d3e)=>_0x519a58(0x71d)+_0x1c0401+',\x20'+_0x295d3e+_0x519a58(0x300)+String['fromCharCode'](0x61+_0x295d3e)+'.\x20'+marked[_0x519a58(0x9bb)](_0x3c76b3)+_0x519a58(0x2b5))['join']('')+'</div></div>')['join']('')):(currentApplicationData=[],_0x174a8b['innerHTML']=_0x57e22f[_0x519a58(0xadc)]||_0x57e22f[_0x519a58(0x54e)]),document['getElementById']('lesson-loader')[_0x519a58(0x12e)][_0x519a58(0x7d7)](_0x519a58(0x30a)),document[_0x519a58(0x1c2)](_0x519a58(0x204))[_0x519a58(0x12e)][_0x519a58(0x1f9)]('hidden'),document[_0x519a58(0x1c2)](_0x519a58(0x418))[_0x519a58(0x12e)][_0x519a58(0x1f9)](_0x519a58(0x30a)),window['MathJax']&&MathJax['typesetPromise']([document[_0x519a58(0x1c2)](_0x519a58(0x95e))]);}else showMessage(_0x519a58(0x4ef));}catch(_0x210b0c){console['error'](_0x519a58(0x997),_0x210b0c),showMessage(_0x519a58(0x7e3));}else showMessage(_0x519a58(0x20b));}}else{if(_0x3c2fd9){const _0xe0adce=_0x46076d(_0x1ff28e),_0x48268b=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x31f139=await getDoc(_0x48268b);if(_0x31f139[_0x519a58(0x7b7)]()){const _0x2de11c=_0x31f139['data']();generateAndSaveLessonForBlueprint(_0x715463,_0xe0adce,_0x2de11c[_0x519a58(0x3e2)]);}}else{if(_0x49afd8)editTopicInProject(_0x715463);else _0x2e9509&&deleteTopicFromProject(_0x715463);}}}}}}}),document[_0x32572f(0x1c2)](_0x32572f(0xac0))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleFixLessonLatex),document[_0x32572f(0x1c2)](_0x32572f(0x97e))[_0x32572f(0xa37)]('click',handleExportLessonToPDF),document['getElementById'](_0x32572f(0x8f3))[_0x32572f(0xa37)]('click',()=>{const _0x20afa3=_0x32572f;document[_0x20afa3(0x1c2)](_0x20afa3(0x418))[_0x20afa3(0x12e)][_0x20afa3(0x7d7)]('hidden');});const _0x5db8ff=document[_0x32572f(0x1c2)](_0x32572f(0x295)),_0x125fb1=document['getElementById'](_0x32572f(0xc72));_0x5db8ff[_0x32572f(0xa37)](_0x32572f(0x6c5),()=>{const _0x5e5880=_0x32572f;_0x125fb1['classList']['toggle']('hidden',!_0x5db8ff[_0x5e5880(0x564)]);});const _0x308e55=document[_0x32572f(0x1c2)](_0x32572f(0x246)),_0xdc1eb5=document['getElementById'](_0x32572f(0x6dc));_0x308e55[_0x32572f(0xa37)](_0x32572f(0x6c5),()=>{const _0x48ba48=_0x32572f;_0xdc1eb5[_0x48ba48(0x12e)]['toggle'](_0x48ba48(0x30a),!_0x308e55['checked']);});const _0x2d6c0b=document[_0x32572f(0x1c2)]('modal-confidence-scoring-checkbox'),_0x11eb5f=document[_0x32572f(0x1c2)](_0x32572f(0xc73));_0x2d6c0b[_0x32572f(0xa37)](_0x32572f(0x6c5),()=>{const _0x2754e2=_0x32572f;_0x11eb5f[_0x2754e2(0x12e)][_0x2754e2(0x770)](_0x2754e2(0x30a),!_0x2d6c0b['checked']);});const _0x157482=document[_0x32572f(0x1c2)](_0x32572f(0x955)),_0x4b9e67=async _0x45fb55=>{const _0x52941a=_0x32572f,_0x2f0023=document[_0x52941a(0x1c2)](_0x52941a(0x955)),_0x59eb09=_0x2f0023[_0x52941a(0x928)][_0x52941a(0x142)],_0x135c0a=document[_0x52941a(0x1c2)](_0x52941a(0x5b8));_0x2f0023[_0x52941a(0x12e)]['add'](_0x52941a(0x30a));if(_0x59eb09==='timed'){const _0x3476a8=_0x135c0a['value'],_0x1a5ccb={'answer':_0x3476a8,'wasConfident':_0x45fb55};proceedToNextQuestion(_0x1a5ccb);}else{if(_0x59eb09===_0x52941a(0xa3d)){const _0x496d0a=_0x135c0a[_0x52941a(0x928)][_0x52941a(0x24a)],_0x1955ca=JSON[_0x52941a(0x281)](_0x135c0a['dataset'][_0x52941a(0x3cb)]),_0x293c80=JSON[_0x52941a(0x281)](_0x135c0a[_0x52941a(0x928)][_0x52941a(0x1e4)]),_0xfdc6c4=_0x135c0a['dataset']['playerName'];handleSyncAnswerSubmit(_0x496d0a,_0x1955ca,_0x293c80,_0xfdc6c4,_0x45fb55);}}_0x2f0023['dataset']['currentMode']='';};document[_0x32572f(0x1c2)](_0x32572f(0xa72))['addEventListener'](_0x32572f(0xbdd),()=>_0x4b9e67(!![])),document['getElementById'](_0x32572f(0xaca))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>_0x4b9e67(![])),liveGameView['addEventListener'](_0x32572f(0xbdd),_0x5aeb83=>{const _0x2f06f1=_0x32572f,_0x389c05=_0x5aeb83[_0x2f06f1(0x12a)][_0x2f06f1(0xbdf)](_0x2f06f1(0xb2e));if(_0x389c05){const _0x431771=_0x389c05[_0x2f06f1(0x928)][_0x2f06f1(0x264)];_0x431771&&handleKickPlayerSync(_0x431771);}});const _0x5ae0f9=document[_0x32572f(0x1c2)](_0x32572f(0x1c3)),_0x78ebda=document[_0x32572f(0x1c2)]('cancel-game-start-btn');_0x78ebda[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x18a56f=_0x32572f;document['getElementById'](_0x18a56f(0x449))['classList'][_0x18a56f(0x7d7)](_0x18a56f(0x30a));}),_0x5ae0f9[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x387dd7=_0x32572f,_0x352aec=document['getElementById'](_0x387dd7(0x94b))['value'],_0x22db4c=document[_0x387dd7(0x1c2)]('game-start-mode')[_0x387dd7(0x9f1)],_0x4d4956=document[_0x387dd7(0x1c2)](_0x387dd7(0xc7c))[_0x387dd7(0x564)];document[_0x387dd7(0x1c2)](_0x387dd7(0x449))[_0x387dd7(0x12e)][_0x387dd7(0x7d7)](_0x387dd7(0x30a));switch(_0x22db4c){case _0x387dd7(0x30e):handleStartLiveRace(_0x352aec,_0x4d4956);break;case'team':handleStartTeamQuiz(_0x352aec,_0x4d4956);break;case _0x387dd7(0xbe3):handleStartGroupMode(_0x352aec,_0x4d4956);break;case'sync':handleStartSyncMode(_0x352aec,_0x4d4956);break;}}),document[_0x32572f(0x1c2)](_0x32572f(0xb98))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleJoinGroupActivity),liveGameView['addEventListener'](_0x32572f(0xbdd),_0x140991=>{const _0x15b09f=_0x32572f,_0x98dbab=_0x140991[_0x15b09f(0x12a)][_0x15b09f(0xbdf)]('.summary-bar-item');document['querySelectorAll'](_0x15b09f(0x4b3))['forEach'](_0x5d8fda=>{const _0x5d76d1=_0x15b09f;(!_0x98dbab||_0x5d8fda['id']!==_0x98dbab['dataset'][_0x5d76d1(0x5d6)])&&_0x5d8fda[_0x5d76d1(0x12e)][_0x5d76d1(0x1f9)](_0x5d76d1(0x3c8));});if(!_0x98dbab)return;const _0x8d3a53=_0x98dbab[_0x15b09f(0x928)][_0x15b09f(0x5d6)],_0x1eca9a=document['getElementById'](_0x8d3a53);_0x1eca9a&&_0x1eca9a[_0x15b09f(0x12e)][_0x15b09f(0x770)](_0x15b09f(0x3c8));}),liveGameView[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x342ddd=>{const _0x31add4=_0x32572f;if(_0x342ddd[_0x31add4(0x12a)]['classList']['contains'](_0x31add4(0x66c))){const _0x74fbe7=_0x342ddd[_0x31add4(0x12a)][_0x31add4(0x928)]['playerName'];_0x74fbe7&&handleKickPlayer(_0x74fbe7);}}),document['getElementById'](_0x32572f(0x451))[_0x32572f(0xa37)](_0x32572f(0xa2f),()=>document[_0x32572f(0x1c2)]('save-project-name-btn')[_0x32572f(0x12e)]['remove']('hidden')),document['getElementById'](_0x32572f(0xa83))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleSaveProjectName),document[_0x32572f(0x1c2)](_0x32572f(0x451))['addEventListener'](_0x32572f(0x31d),_0x24911f=>{const _0x3214f1=_0x32572f;_0x24911f[_0x3214f1(0xa1e)]===_0x3214f1(0x416)&&(_0x24911f[_0x3214f1(0x3fd)](),_0x24911f['target'][_0x3214f1(0xbd4)](),handleSaveProjectName());}),document['getElementById'](_0x32572f(0x238))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x544aa9=_0x32572f;document[_0x544aa9(0x1c2)](_0x544aa9(0x434))[_0x544aa9(0x12e)][_0x544aa9(0x1f9)]('hidden');}),document[_0x32572f(0x1c2)](_0x32572f(0xbaa))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x56ec0f=_0x32572f;document[_0x56ec0f(0x1c2)](_0x56ec0f(0x434))['classList']['add'](_0x56ec0f(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0x3d0))[_0x32572f(0xa37)]('click',handleBulkUpdateQuizSettings),document[_0x32572f(0x1c2)](_0x32572f(0x7e8))[_0x32572f(0xa37)]('click',handleModeSwitch),document[_0x32572f(0x1c2)](_0x32572f(0x3ea))['addEventListener'](_0x32572f(0xbdd),handleUpdateOldQuizzes),document[_0x32572f(0x1c2)](_0x32572f(0x406))['addEventListener']('click',handleResetProjectOrder),document[_0x32572f(0x1c2)](_0x32572f(0x8ea))[_0x32572f(0xa37)]('click',handleSaveVisibilitySettings),document[_0x32572f(0x1c2)](_0x32572f(0x307))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleAddCustomMathTopic),document[_0x32572f(0x1c2)](_0x32572f(0xca4))[_0x32572f(0xa37)]('click',handleSelectAllTopics),document[_0x32572f(0x1c2)](_0x32572f(0x60a))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleDeselectAllTopics),document[_0x32572f(0x1c2)](_0x32572f(0xa6b))[_0x32572f(0xa37)]('click',()=>{const _0x32714f=_0x32572f;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x32714f(0xab7));}}),document[_0x32572f(0x1c2)](_0x32572f(0x483))['addEventListener'](_0x32572f(0xbdd),()=>{const _0x28896c=_0x32572f;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x28896c(0x835));}}),document[_0x32572f(0x1c2)]('back-to-dashboard-from-results-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{showView('admin-dashboard');}),document[_0x32572f(0x1c2)](_0x32572f(0x19a))['addEventListener']('click',()=>{const _0x1a8117=_0x32572f;messageModal[_0x1a8117(0x12e)][_0x1a8117(0x7d7)](_0x1a8117(0x30a)),typeof modalConfirmAction===_0x1a8117(0x12b)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x32572f(0x1c2)](_0x32572f(0x8e1))['addEventListener']('click',()=>createProjectModal['classList'][_0x32572f(0x1f9)](_0x32572f(0x30a))),document[_0x32572f(0x1c2)](_0x32572f(0xb02))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>createProjectModal[_0x32572f(0x12e)][_0x32572f(0x7d7)](_0x32572f(0x30a))),document[_0x32572f(0x1c2)](_0x32572f(0xb1b))[_0x32572f(0xa37)]('click',()=>adminPasswordModal['classList'][_0x32572f(0x7d7)](_0x32572f(0x30a))),document[_0x32572f(0x1c2)]('confirm-admin-login-btn')[_0x32572f(0xa37)]('click',handleAdminLogin),document['getElementById']('admin-password-input')[_0x32572f(0xa37)](_0x32572f(0xb3f),_0x45826b=>{const _0xc9dc33=_0x32572f;if(_0x45826b[_0xc9dc33(0xa1e)]==='Enter')handleAdminLogin();}),document[_0x32572f(0x1c2)](_0x32572f(0x6aa))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x136e1f=_0x32572f;confirmationModal[_0x136e1f(0x12e)][_0x136e1f(0x7d7)]('hidden'),confirmAction=null;}),document['getElementById'](_0x32572f(0x825))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x54f148=_0x32572f;confirmAction&&confirmAction(),confirmationModal[_0x54f148(0x12e)][_0x54f148(0x7d7)](_0x54f148(0x30a)),confirmAction=null;}),document[_0x32572f(0x1c2)](_0x32572f(0xac6))['addEventListener']('click',()=>renameQuizModal[_0x32572f(0x12e)]['add'](_0x32572f(0x30a))),document[_0x32572f(0x1c2)](_0x32572f(0x600))[_0x32572f(0xa37)](_0x32572f(0xbdd),confirmRenameQuiz),document[_0x32572f(0x1c2)]('cancel-move-quiz-btn')[_0x32572f(0xa37)]('click',()=>moveQuizModal['classList'][_0x32572f(0x7d7)](_0x32572f(0x30a))),document['getElementById'](_0x32572f(0x4ec))[_0x32572f(0xa37)](_0x32572f(0xbdd),confirmMoveQuiz),document[_0x32572f(0x1c2)]('cancel-quiz-settings-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>quizSettingsModal[_0x32572f(0x12e)][_0x32572f(0x7d7)](_0x32572f(0x30a))),document[_0x32572f(0x1c2)](_0x32572f(0xaa7))[_0x32572f(0xa37)](_0x32572f(0xbdd),confirmQuizSettings),document[_0x32572f(0x1c2)](_0x32572f(0x6f1))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>quizStatusModal[_0x32572f(0x12e)]['add'](_0x32572f(0x30a))),document[_0x32572f(0x1c2)](_0x32572f(0x25a))['addEventListener'](_0x32572f(0xbdd),confirmQuizStatus);const _0x465ded=document['getElementById'](_0x32572f(0x8bd));document['getElementById'](_0x32572f(0x6f3))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x142879=_0x32572f;_0x465ded['classList']['add'](_0x142879(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0x6e6))[_0x32572f(0xa37)]('click',async()=>{const _0x2ff878=_0x32572f,_0x11d130=allQuizzes[_0x2ff878(0x135)](_0x10fe2b=>_0x10fe2b['id']===actionTargetId);_0x11d130?(currentQuizData=_0x11d130,exportQuizAsWorksheetPDF()):showMessage(_0x2ff878(0x203)),_0x465ded[_0x2ff878(0x12e)][_0x2ff878(0x7d7)]('hidden');}),document['getElementById']('export-tutor-pdf-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),async()=>{const _0x5f3c2a=_0x32572f,_0x328e36=allQuizzes['find'](_0x2c615d=>_0x2c615d['id']===actionTargetId);_0x328e36?(currentQuizData=_0x328e36,exportQuizAsTutorPDF()):showMessage(_0x5f3c2a(0x203)),_0x465ded['classList'][_0x5f3c2a(0x7d7)](_0x5f3c2a(0x30a));});const _0xaf1b5b=document[_0x32572f(0x1c2)](_0x32572f(0xa5f));_0xaf1b5b[_0x32572f(0x3e3)]=_0x32572f(0x73a),_0xaf1b5b['addEventListener']('click',openGlobalActivityModal),document[_0x32572f(0x1c2)](_0x32572f(0x4d6))[_0x32572f(0xa37)]('click',()=>{const _0x55fd21=_0x32572f;document[_0x55fd21(0x1c2)]('global-activity-modal')[_0x55fd21(0x12e)][_0x55fd21(0x7d7)](_0x55fd21(0x30a));}),document['getElementById'](_0x32572f(0xbd9))[_0x32572f(0xa37)](_0x32572f(0x288),_0x1870ee=>{const _0x419edb=_0x32572f;renderGlobalActivityList(_0x1870ee['target'][_0x419edb(0x9f1)]);}),document[_0x32572f(0x1c2)](_0x32572f(0xaac))[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x2cfe9a=>{const _0x2d63db=_0x32572f,_0x171e3=_0x2cfe9a[_0x2d63db(0x12a)][_0x2d63db(0xbdf)](_0x2d63db(0x228));if(!_0x171e3)return;const _0x51d763=_0x171e3['dataset']['id'],_0x5d885e=_0x171e3[_0x2d63db(0x928)][_0x2d63db(0x33d)],_0x2513fa=allQuizzesGlobal[_0x2d63db(0x135)](_0x14abb7=>_0x14abb7['id']===_0x51d763);_0x2513fa&&(document['getElementById'](_0x2d63db(0x132))[_0x2d63db(0x12e)][_0x2d63db(0x7d7)]('hidden'),_0x5d885e===_0x2d63db(0x30e)?handleStartLiveRace(_0x51d763):showGameStartConfirmationModal(_0x51d763,_0x5d885e,_0x2513fa[_0x2d63db(0xcaf)]));}),document[_0x32572f(0x1c2)](_0x32572f(0x888))[_0x32572f(0xa37)]('input',renderProjects),document['getElementById'](_0x32572f(0x887))['addEventListener'](_0x32572f(0x6c5),async()=>{const _0x51ca1d=_0x32572f,_0x1e27d6=document[_0x51ca1d(0x1c2)](_0x51ca1d(0x887))[_0x51ca1d(0x9f1)],_0x2c7342=doc(db,_0x51ca1d(0x7a0),'dashboardConfig');try{await setDoc(_0x2c7342,{'projectSort':_0x1e27d6},{'merge':!![]});}catch(_0x337c6e){console[_0x51ca1d(0x2da)]('Error\x20updating\x20sort\x20preference:',_0x337c6e),showMessage(_0x51ca1d(0xbd2));}}),document[_0x32572f(0x1c2)](_0x32572f(0x148))[_0x32572f(0xa37)](_0x32572f(0x288),renderQuizzes),document[_0x32572f(0x1c2)](_0x32572f(0x580))[_0x32572f(0xa37)]('click',()=>{const _0x1a4a91=_0x32572f;globalDashboardSettings[_0x1a4a91(0x13a)]=_0x1a4a91(0x9f7),saveUserPreference('projectView','grid'),renderProjects();}),document[_0x32572f(0x1c2)]('list-view-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x3ac2aa=_0x32572f;globalDashboardSettings[_0x3ac2aa(0x13a)]='list',saveUserPreference('projectView',_0x3ac2aa(0xbf6)),renderProjects();}),manageTab[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>switchProjectTab(_0x32572f(0x8f5))),resultsTab[_0x32572f(0xa37)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>switchProjectTab(_0x32572f(0xaea))),document[_0x32572f(0x1c2)]('analytics-tab-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>switchQuizDetailTab(_0x32572f(0x815))),document[_0x32572f(0x1c2)](_0x32572f(0x131))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>switchQuizDetailTab(_0x32572f(0x467))),document[_0x32572f(0x1c2)](_0x32572f(0x6c4))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>switchQuizDetailTab(_0x32572f(0x6cd))),document['getElementById']('behavior-log-tab-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>switchQuizDetailTab(_0x32572f(0xa4c))),document['getElementById'](_0x32572f(0x1e6))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x32572f(0xbdd),generateWorksheet);const _0x4ed7b2=document[_0x32572f(0x1c2)](_0x32572f(0x9eb)),_0x4794b0=document[_0x32572f(0x1c2)](_0x32572f(0x82f)),_0x340fdc=document[_0x32572f(0x1c2)](_0x32572f(0x909)),_0x2862ca=document[_0x32572f(0x1c2)](_0x32572f(0x896)),_0x1067c3=document[_0x32572f(0x1c2)](_0x32572f(0x7e0)),_0x4f4ccd=document[_0x32572f(0x1c2)]('parallel-test-input-area');topicTab[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x5c2191=_0x32572f;topicTab[_0x5c2191(0x12e)][_0x5c2191(0x7d7)](_0x5c2191(0xae2)),textTab[_0x5c2191(0x12e)][_0x5c2191(0x1f9)]('active'),fileTab['classList']['remove'](_0x5c2191(0xae2)),worksheetTab['classList'][_0x5c2191(0x1f9)](_0x5c2191(0xae2));if(_0x4ed7b2)_0x4ed7b2[_0x5c2191(0x12e)][_0x5c2191(0x1f9)]('active');if(_0x340fdc)_0x340fdc['classList'][_0x5c2191(0x1f9)]('active');if(_0x1067c3)_0x1067c3[_0x5c2191(0x12e)][_0x5c2191(0x1f9)]('active');topicInputArea[_0x5c2191(0x12e)]['remove'](_0x5c2191(0x30a)),textInputArea[_0x5c2191(0x12e)][_0x5c2191(0x7d7)](_0x5c2191(0x30a)),fileInputArea[_0x5c2191(0x12e)][_0x5c2191(0x7d7)]('hidden'),worksheetInputArea['classList'][_0x5c2191(0x7d7)](_0x5c2191(0x30a));if(_0x4794b0)_0x4794b0['classList'][_0x5c2191(0x7d7)](_0x5c2191(0x30a));if(_0x2862ca)_0x2862ca[_0x5c2191(0x12e)][_0x5c2191(0x7d7)](_0x5c2191(0x30a));if(_0x4f4ccd)_0x4f4ccd[_0x5c2191(0x12e)]['add'](_0x5c2191(0x30a));}),textTab[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x3bf9a7=_0x32572f;textTab[_0x3bf9a7(0x12e)]['add'](_0x3bf9a7(0xae2)),topicTab[_0x3bf9a7(0x12e)]['remove'](_0x3bf9a7(0xae2)),fileTab[_0x3bf9a7(0x12e)][_0x3bf9a7(0x1f9)](_0x3bf9a7(0xae2)),worksheetTab[_0x3bf9a7(0x12e)][_0x3bf9a7(0x1f9)](_0x3bf9a7(0xae2));if(_0x4ed7b2)_0x4ed7b2[_0x3bf9a7(0x12e)][_0x3bf9a7(0x1f9)](_0x3bf9a7(0xae2));if(_0x340fdc)_0x340fdc['classList'][_0x3bf9a7(0x1f9)](_0x3bf9a7(0xae2));if(_0x1067c3)_0x1067c3['classList'][_0x3bf9a7(0x1f9)](_0x3bf9a7(0xae2));textInputArea[_0x3bf9a7(0x12e)][_0x3bf9a7(0x1f9)](_0x3bf9a7(0x30a)),topicInputArea[_0x3bf9a7(0x12e)][_0x3bf9a7(0x7d7)](_0x3bf9a7(0x30a)),fileInputArea[_0x3bf9a7(0x12e)][_0x3bf9a7(0x7d7)](_0x3bf9a7(0x30a)),worksheetInputArea[_0x3bf9a7(0x12e)][_0x3bf9a7(0x7d7)](_0x3bf9a7(0x30a));if(_0x4794b0)_0x4794b0[_0x3bf9a7(0x12e)][_0x3bf9a7(0x7d7)]('hidden');if(_0x2862ca)_0x2862ca[_0x3bf9a7(0x12e)][_0x3bf9a7(0x7d7)](_0x3bf9a7(0x30a));if(_0x4f4ccd)_0x4f4ccd['classList']['add'](_0x3bf9a7(0x30a));}),fileTab[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x355606=_0x32572f;fileTab['classList'][_0x355606(0x7d7)](_0x355606(0xae2)),topicTab[_0x355606(0x12e)][_0x355606(0x1f9)](_0x355606(0xae2)),textTab['classList']['remove'](_0x355606(0xae2)),worksheetTab['classList'][_0x355606(0x1f9)](_0x355606(0xae2));if(_0x4ed7b2)_0x4ed7b2['classList'][_0x355606(0x1f9)](_0x355606(0xae2));if(_0x340fdc)_0x340fdc[_0x355606(0x12e)]['remove'](_0x355606(0xae2));if(_0x1067c3)_0x1067c3['classList'][_0x355606(0x1f9)](_0x355606(0xae2));fileInputArea['classList'][_0x355606(0x1f9)](_0x355606(0x30a)),topicInputArea[_0x355606(0x12e)]['add'](_0x355606(0x30a)),textInputArea[_0x355606(0x12e)][_0x355606(0x7d7)]('hidden'),worksheetInputArea[_0x355606(0x12e)][_0x355606(0x7d7)](_0x355606(0x30a));if(_0x4794b0)_0x4794b0['classList'][_0x355606(0x7d7)](_0x355606(0x30a));if(_0x2862ca)_0x2862ca[_0x355606(0x12e)][_0x355606(0x7d7)](_0x355606(0x30a));if(_0x4f4ccd)_0x4f4ccd[_0x355606(0x12e)]['add'](_0x355606(0x30a));}),worksheetTab['addEventListener']('click',()=>{const _0x153395=_0x32572f;worksheetTab[_0x153395(0x12e)][_0x153395(0x7d7)](_0x153395(0xae2)),topicTab[_0x153395(0x12e)][_0x153395(0x1f9)](_0x153395(0xae2)),textTab[_0x153395(0x12e)]['remove'](_0x153395(0xae2)),fileTab[_0x153395(0x12e)][_0x153395(0x1f9)]('active');if(_0x4ed7b2)_0x4ed7b2[_0x153395(0x12e)]['remove'](_0x153395(0xae2));if(_0x340fdc)_0x340fdc['classList'][_0x153395(0x1f9)](_0x153395(0xae2));if(_0x1067c3)_0x1067c3[_0x153395(0x12e)][_0x153395(0x1f9)](_0x153395(0xae2));worksheetInputArea[_0x153395(0x12e)][_0x153395(0x1f9)]('hidden'),topicInputArea['classList'][_0x153395(0x7d7)](_0x153395(0x30a)),textInputArea[_0x153395(0x12e)][_0x153395(0x7d7)](_0x153395(0x30a)),fileInputArea[_0x153395(0x12e)][_0x153395(0x7d7)](_0x153395(0x30a));if(_0x4794b0)_0x4794b0[_0x153395(0x12e)]['add'](_0x153395(0x30a));if(_0x2862ca)_0x2862ca['classList'][_0x153395(0x7d7)](_0x153395(0x30a));if(_0x4f4ccd)_0x4f4ccd[_0x153395(0x12e)][_0x153395(0x7d7)]('hidden');});const _0x185aa9=document[_0x32572f(0x1c2)](_0x32572f(0x42a)),_0x12d87c=document[_0x32572f(0x1c2)](_0x32572f(0x89d));_0x185aa9&&_0x185aa9[_0x32572f(0xa37)]('click',()=>{const _0x18064b=_0x32572f;topicTab['classList']['remove']('active'),textTab[_0x18064b(0x12e)][_0x18064b(0x1f9)](_0x18064b(0xae2)),fileTab[_0x18064b(0x12e)][_0x18064b(0x1f9)](_0x18064b(0xae2)),worksheetTab[_0x18064b(0x12e)][_0x18064b(0x1f9)](_0x18064b(0xae2));if(_0x4ed7b2)_0x4ed7b2[_0x18064b(0x12e)]['remove'](_0x18064b(0xae2));if(_0x340fdc)_0x340fdc[_0x18064b(0x12e)][_0x18064b(0x1f9)](_0x18064b(0xae2));if(_0x1067c3)_0x1067c3[_0x18064b(0x12e)][_0x18064b(0x1f9)](_0x18064b(0xae2));_0x185aa9[_0x18064b(0x12e)][_0x18064b(0x7d7)](_0x18064b(0xae2)),topicInputArea['classList'][_0x18064b(0x7d7)]('hidden'),textInputArea[_0x18064b(0x12e)][_0x18064b(0x7d7)](_0x18064b(0x30a)),fileInputArea['classList'][_0x18064b(0x7d7)]('hidden'),worksheetInputArea[_0x18064b(0x12e)]['add'](_0x18064b(0x30a));if(_0x4794b0)_0x4794b0[_0x18064b(0x12e)][_0x18064b(0x7d7)](_0x18064b(0x30a));if(_0x2862ca)_0x2862ca[_0x18064b(0x12e)][_0x18064b(0x7d7)](_0x18064b(0x30a));if(_0x4f4ccd)_0x4f4ccd[_0x18064b(0x12e)][_0x18064b(0x7d7)](_0x18064b(0x30a));_0x12d87c[_0x18064b(0x12e)][_0x18064b(0x1f9)](_0x18064b(0x30a)),displayQuestionBank();});_0x4ed7b2&&(_0x4ed7b2[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x30a7a7=_0x32572f;_0x4ed7b2[_0x30a7a7(0x12e)][_0x30a7a7(0x7d7)](_0x30a7a7(0xae2)),topicTab[_0x30a7a7(0x12e)][_0x30a7a7(0x1f9)](_0x30a7a7(0xae2)),textTab[_0x30a7a7(0x12e)][_0x30a7a7(0x1f9)](_0x30a7a7(0xae2)),fileTab['classList'][_0x30a7a7(0x1f9)](_0x30a7a7(0xae2)),worksheetTab[_0x30a7a7(0x12e)]['remove'](_0x30a7a7(0xae2));if(_0x340fdc)_0x340fdc[_0x30a7a7(0x12e)][_0x30a7a7(0x1f9)](_0x30a7a7(0xae2));if(_0x1067c3)_0x1067c3[_0x30a7a7(0x12e)][_0x30a7a7(0x1f9)](_0x30a7a7(0xae2));_0x4794b0[_0x30a7a7(0x12e)][_0x30a7a7(0x1f9)](_0x30a7a7(0x30a)),topicInputArea[_0x30a7a7(0x12e)][_0x30a7a7(0x7d7)](_0x30a7a7(0x30a)),textInputArea[_0x30a7a7(0x12e)][_0x30a7a7(0x7d7)](_0x30a7a7(0x30a)),fileInputArea[_0x30a7a7(0x12e)][_0x30a7a7(0x7d7)](_0x30a7a7(0x30a)),worksheetInputArea['classList'][_0x30a7a7(0x7d7)]('hidden');if(_0x2862ca)_0x2862ca[_0x30a7a7(0x12e)]['add'](_0x30a7a7(0x30a));if(_0x4f4ccd)_0x4f4ccd['classList']['add'](_0x30a7a7(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0x8c7))['addEventListener'](_0x32572f(0xbdd),handleGenerateFromLink));_0x340fdc&&_0x340fdc[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x28f430=_0x32572f;_0x340fdc[_0x28f430(0x12e)][_0x28f430(0x7d7)](_0x28f430(0xae2)),topicTab['classList'][_0x28f430(0x1f9)]('active'),textTab['classList'][_0x28f430(0x1f9)]('active'),fileTab['classList'][_0x28f430(0x1f9)](_0x28f430(0xae2)),worksheetTab[_0x28f430(0x12e)][_0x28f430(0x1f9)](_0x28f430(0xae2));if(_0x4ed7b2)_0x4ed7b2['classList'][_0x28f430(0x1f9)]('active');if(_0x185aa9)_0x185aa9[_0x28f430(0x12e)][_0x28f430(0x1f9)](_0x28f430(0xae2));if(_0x1067c3)_0x1067c3['classList'][_0x28f430(0x1f9)](_0x28f430(0xae2));_0x2862ca[_0x28f430(0x12e)][_0x28f430(0x1f9)]('hidden'),topicInputArea[_0x28f430(0x12e)][_0x28f430(0x7d7)](_0x28f430(0x30a)),textInputArea['classList']['add']('hidden'),fileInputArea[_0x28f430(0x12e)]['add'](_0x28f430(0x30a)),worksheetInputArea[_0x28f430(0x12e)]['add']('hidden');if(_0x4794b0)_0x4794b0[_0x28f430(0x12e)][_0x28f430(0x7d7)]('hidden');if(_0x12d87c)_0x12d87c['classList']['add']('hidden');if(_0x4f4ccd)_0x4f4ccd['classList'][_0x28f430(0x7d7)]('hidden');});_0x1067c3&&_0x1067c3[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x339339=_0x32572f;_0x1067c3[_0x339339(0x12e)]['add'](_0x339339(0xae2)),topicTab[_0x339339(0x12e)][_0x339339(0x1f9)](_0x339339(0xae2)),textTab[_0x339339(0x12e)][_0x339339(0x1f9)](_0x339339(0xae2)),fileTab['classList']['remove']('active'),worksheetTab[_0x339339(0x12e)][_0x339339(0x1f9)]('active');if(_0x4ed7b2)_0x4ed7b2[_0x339339(0x12e)]['remove'](_0x339339(0xae2));if(_0x340fdc)_0x340fdc[_0x339339(0x12e)][_0x339339(0x1f9)]('active');if(_0x185aa9)_0x185aa9[_0x339339(0x12e)][_0x339339(0x1f9)](_0x339339(0xae2));_0x4f4ccd[_0x339339(0x12e)][_0x339339(0x1f9)](_0x339339(0x30a)),topicInputArea[_0x339339(0x12e)][_0x339339(0x7d7)](_0x339339(0x30a)),textInputArea['classList'][_0x339339(0x7d7)]('hidden'),fileInputArea[_0x339339(0x12e)][_0x339339(0x7d7)]('hidden'),worksheetInputArea[_0x339339(0x12e)][_0x339339(0x7d7)](_0x339339(0x30a));if(_0x4794b0)_0x4794b0[_0x339339(0x12e)]['add'](_0x339339(0x30a));if(_0x2862ca)_0x2862ca[_0x339339(0x12e)][_0x339339(0x7d7)](_0x339339(0x30a));if(_0x12d87c)_0x12d87c[_0x339339(0x12e)][_0x339339(0x7d7)](_0x339339(0x30a));});const _0x15f6a1=document['getElementById'](_0x32572f(0xc06)),_0x31b2b7=document['getElementById'](_0x32572f(0x792));if(_0x15f6a1){const _0x4d4e2b=document[_0x32572f(0x1c2)](_0x32572f(0xc06)),_0x9fdbf7=document[_0x32572f(0x1c2)](_0x32572f(0x792)),_0x3dd5b3=document[_0x32572f(0x1c2)](_0x32572f(0xbf9)),_0x3d6bfe=document['getElementById'](_0x32572f(0xaf0)),_0x4f7af5=document[_0x32572f(0x1c2)](_0x32572f(0x28e)),_0x4315b3=document[_0x32572f(0x1c2)](_0x32572f(0x74b));_0x4d4e2b&&_0x4d4e2b[_0x32572f(0xa37)](_0x32572f(0x6c5),async _0xd23d45=>{const _0x5cccd6=_0x32572f;_0x3dd5b3[_0x5cccd6(0x12e)][_0x5cccd6(0x7d7)](_0x5cccd6(0x30a)),_0x4f7af5[_0x5cccd6(0x12e)]['add'](_0x5cccd6(0x30a)),_0x3d6bfe[_0x5cccd6(0x564)]=![],_0x9fdbf7[_0x5cccd6(0x78a)]=!![];const _0x5216cf=_0xd23d45['target'][_0x5cccd6(0x69f)][0x0];if(_0x5216cf){_0x9fdbf7[_0x5cccd6(0x78a)]=![];try{const _0x2e6ac3=await extractTextFromPdf(_0x5216cf);await analyzeBlueprintForTopics(_0x2e6ac3);}catch(_0x24eeb3){showMessage(_0x5cccd6(0xa0c)),_0x3dd5b3['classList'][_0x5cccd6(0x7d7)](_0x5cccd6(0x30a));}}}),_0x3d6bfe&&_0x3d6bfe[_0x32572f(0xa37)]('change',_0x10d8c6=>{const _0x360c1d=_0x32572f,_0x8583dd=_0x10d8c6['target'][_0x360c1d(0x564)];_0x4f7af5[_0x360c1d(0x12e)][_0x360c1d(0x770)](_0x360c1d(0x30a),!_0x8583dd),_0x9fdbf7[_0x360c1d(0x78a)]=_0x8583dd;}),_0x4315b3&&(_0x4315b3&&_0x4315b3[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x5f228f=>{const _0x15963c=_0x32572f,_0x544017=_0x5f228f['target'][_0x15963c(0xbdf)](_0x15963c(0x420)),_0x35a9af=_0x5f228f[_0x15963c(0x12a)]['closest'](_0x15963c(0x6c6));if(_0x544017){const _0x74dc58=unescape(_0x544017[_0x15963c(0x928)][_0x15963c(0xcaf)]);generateQuizForSingleTopic(_0x74dc58);}else{if(_0x35a9af){const _0x2b45d1=unescape(_0x35a9af[_0x15963c(0x928)][_0x15963c(0xcaf)]);handleGenerateTeachingContent(_0x2b45d1);}}}));}_0x31b2b7&&_0x31b2b7['addEventListener'](_0x32572f(0xbdd),handleGenerateFromBlueprint);const _0x127a13=document[_0x32572f(0x1c2)]('parallel-test-upload-input'),_0x4650ed=document[_0x32572f(0x1c2)](_0x32572f(0xa27));_0x127a13&&_0x127a13[_0x32572f(0xa37)](_0x32572f(0x6c5),_0x5c7d8e=>{const _0x3caa01=_0x32572f;_0x4650ed['disabled']=_0x5c7d8e[_0x3caa01(0x12a)][_0x3caa01(0x69f)][_0x3caa01(0xa90)]===0x0;});_0x4650ed&&_0x4650ed['addEventListener']('click',()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener']('click',handleLoadQuiz),startQuizBtn[_0x32572f(0xa37)]('click',async()=>{const _0x4811ce=_0x32572f,_0x5e5fb3=document[_0x4811ce(0x1c2)](_0x4811ce(0x453));currentStudentName=_0x5e5fb3['value'];if(!currentStudentName){showMessage(_0x4811ce(0x690));return;}try{const _0x13247c=currentQuizData['id'],_0x35e963=doc(db,_0x4811ce(0xbc5)+appId+'/public/data/quizzes/'+_0x13247c+_0x4811ce(0x2e0),currentStudentName),_0x1e194f=await getDoc(_0x35e963);!_0x1e194f[_0x4811ce(0x7b7)]()?await setDoc(_0x35e963,{'studentName':currentStudentName,'startedAt':new Date()[_0x4811ce(0xc5d)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x35e963,{'startedAt':new Date()[_0x4811ce(0xc5d)]()});}catch(_0x5c11a7){console[_0x4811ce(0x2da)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x5c11a7),showMessage(_0x4811ce(0x117));return;}studentNameSelectionView['classList'][_0x4811ce(0x7d7)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x32572f(0x1c2)]('join-live-game-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),showJoinGameView),document[_0x32572f(0x1c2)](_0x32572f(0x824))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleJoinLiveGame),document[_0x32572f(0x1c2)](_0x32572f(0x468))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>showView(_0x32572f(0x39a)));const _0x1cea80=()=>{const _0x2b944c=_0x32572f,_0x1921d0=document[_0x2b944c(0x1c2)](_0x2b944c(0xb7d))[_0x2b944c(0x9a1)][_0x2b944c(0x98e)](/[^a-z0-9]/gi,'_')[_0x2b944c(0x7a9)]();return _0x2b944c(0x9ce)+(_0x1921d0||_0x2b944c(0x847));},_0x6873b0=document[_0x32572f(0x1c2)]('math-topic-search-input');_0x6873b0&&_0x6873b0[_0x32572f(0xa37)](_0x32572f(0x288),_0x46e6dc=>{const _0x144e65=_0x32572f,_0x41c8bb=_0x46e6dc[_0x144e65(0x12a)][_0x144e65(0x9f1)][_0x144e65(0x7a9)]()['trim'](),_0x354630=document[_0x144e65(0x1c2)]('math-topics-checkbox-container'),_0x517870=_0x354630[_0x144e65(0x9f4)](_0x144e65(0x308));_0x517870[_0x144e65(0x8ca)](_0x795649=>{const _0x3b72c1=_0x144e65;let _0x2978dc=![];const _0x4b749a=_0x795649[_0x3b72c1(0x9f4)]('.topic-row');_0x4b749a[_0x3b72c1(0x8ca)](_0x4d7787=>{const _0x3a8ca3=_0x3b72c1,_0x1a428b=_0x4d7787[_0x3a8ca3(0x8b9)](_0x3a8ca3(0xbbc))[_0x3a8ca3(0x9a1)][_0x3a8ca3(0x7a9)]();_0x1a428b['includes'](_0x41c8bb)?(_0x4d7787['style'][_0x3a8ca3(0x28f)]=_0x3a8ca3(0x8c9),_0x2978dc=!![]):_0x4d7787[_0x3a8ca3(0xa10)]['display']=_0x3a8ca3(0xba0);}),_0x2978dc?_0x795649[_0x3b72c1(0xa10)][_0x3b72c1(0x28f)]='block':_0x795649[_0x3b72c1(0xa10)][_0x3b72c1(0x28f)]=_0x3b72c1(0xba0);});});document[_0x32572f(0x1c2)](_0x32572f(0x3b4))[_0x32572f(0xa37)]('click',()=>exportTableAsImage(_0x32572f(0x661),_0x1cea80())),document[_0x32572f(0x1c2)](_0x32572f(0x647))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>exportTableAsPDF(_0x32572f(0x905),_0x1cea80())),document[_0x32572f(0x1c2)](_0x32572f(0x687))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>exportTableAsWord('results-table-container',_0x1cea80())),document[_0x32572f(0x1c2)](_0x32572f(0x9ac))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>exportTableAsExcel(_0x32572f(0x905),_0x1cea80()));const _0x25b241=()=>{const _0x3679de=_0x32572f,_0x394d64=document['getElementById'](_0x3679de(0xb7d))[_0x3679de(0x9a1)][_0x3679de(0x98e)](/[^a-z0-9]/gi,'_')[_0x3679de(0x7a9)]();return'leaderboard_'+(_0x394d64||_0x3679de(0x847));};document['getElementById'](_0x32572f(0x8de))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x25b241())),document[_0x32572f(0x1c2)](_0x32572f(0x15a))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>exportTableAsPDF(_0x32572f(0x71b),_0x25b241())),document['getElementById'](_0x32572f(0x837))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x25b241())),document['getElementById']('export-leaderboard-excel-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>exportTableAsExcel(_0x32572f(0x71b),_0x25b241())),projectQuizzesList[_0x32572f(0xa37)](_0x32572f(0xbdd),async _0x2bf408=>{const _0x15d857=_0x32572f,_0x2b99e2=_0x2bf408['target'][_0x15d857(0xbdf)](_0x15d857(0x9e5)),_0x251ace=_0x2bf408['target']['closest'](_0x15d857(0xad7)),_0x2ac680=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)]('.compare-results-btn'),_0x1dd6be=_0x2bf408['target'][_0x15d857(0xbdf)](_0x15d857(0x855)),_0x4e05a3=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)]('.star-quiz-btn'),_0x256dd3=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)](_0x15d857(0x1e7)),_0x1d0dfd=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)](_0x15d857(0x7c1)),_0x3a2f08=_0x2bf408['target']['closest'](_0x15d857(0x772)),_0x2c40a4=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)](_0x15d857(0x80a)),_0x5a1670=_0x2bf408[_0x15d857(0x12a)]['closest']('.rename-quiz-btn'),_0x52ed94=_0x2bf408['target'][_0x15d857(0xbdf)]('.parallel-quiz-btn'),_0x39b0fa=_0x2bf408['target']['closest'](_0x15d857(0x8c3)),_0x415c69=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)](_0x15d857(0x75d)),_0x47ab28=_0x2bf408['target'][_0x15d857(0xbdf)](_0x15d857(0xad1)),_0x23043f=_0x2bf408[_0x15d857(0x12a)]['closest']('.start-presentation-list-btn'),_0x2e2de4=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)](_0x15d857(0x347)),_0x530a25=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)]('.export-pdf-list-btn'),_0xa4114b=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)]('.delete-quiz-btn'),_0x579c2e=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)](_0x15d857(0xaff)),_0x290df6=_0x2bf408['target'][_0x15d857(0xbdf)]('.toggle-actions-btn'),_0x374047=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)]('.generate-easy-version-btn'),_0x283817=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)]('.start-game-btn'),_0x110de5=_0x2bf408[_0x15d857(0x12a)][_0x15d857(0xbdf)](_0x15d857(0x253));if(_0x283817){const _0x18bf70=_0x283817['dataset'][_0x15d857(0x224)],_0xdbf84e=_0x283817[_0x15d857(0x928)]['mode'],_0x1a5c77=allQuizzes[_0x15d857(0x135)](_0x1a93f5=>_0x1a93f5['id']===_0x18bf70);_0x1a5c77&&showGameStartConfirmationModal(_0x18bf70,_0xdbf84e,_0x1a5c77[_0x15d857(0xcaf)]);}else{if(_0x110de5){const _0x2b8aef=_0x110de5[_0x15d857(0x928)][_0x15d857(0x224)];handleStartLiveRace(_0x2b8aef);}else{if(_0x290df6){const _0x13f847=_0x290df6[_0x15d857(0x928)][_0x15d857(0x224)],_0x34cc14=document[_0x15d857(0x1c2)](_0x15d857(0x91c)+_0x13f847);_0x34cc14&&_0x34cc14['classList']['toggle']('hidden');}else{if(_0x251ace){const _0xf9a42d=_0x251ace[_0x15d857(0x928)][_0x15d857(0x224)],_0x133b1c=allQuizzes[_0x15d857(0x135)](_0x22b4c4=>_0x22b4c4['id']===_0xf9a42d);_0x133b1c&&handleGenerateParallelPostTest(_0x133b1c);}else{if(_0x2ac680)handleCompareResults(_0x2ac680[_0x15d857(0x928)]['quizId'],_0x2ac680[_0x15d857(0x928)][_0x15d857(0x4c6)]);else{if(_0x1dd6be){const _0x13834f=_0x1dd6be['dataset'][_0x15d857(0x224)],_0x2d2543=allQuizzes[_0x15d857(0x135)](_0x1dfbef=>_0x1dfbef['id']===_0x13834f);_0x2d2543&&_0x2d2543[_0x15d857(0x1b6)]?(displayLessonPlan(_0x2d2543['lessonPlan'],_0x2d2543),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x13834f)),document[_0x15d857(0x1c2)](_0x15d857(0x8b6))[_0x15d857(0x8b9)]('h3')[_0x15d857(0x9a1)]=_0x15d857(0x387),document[_0x15d857(0x1c2)](_0x15d857(0x825))[_0x15d857(0x9a1)]='สร้างใหม่'):handleGenerateLessonPlan(_0x13834f);}else{if(_0x4e05a3)handleToggleStarQuiz(_0x4e05a3[_0x15d857(0x928)][_0x15d857(0x224)]);else{if(_0x256dd3)copyTextToClipboard(_0x256dd3['dataset'][_0x15d857(0x224)],_0x15d857(0x7e2));else{if(_0x1d0dfd)handleOpenQuizEditor(_0x1d0dfd[_0x15d857(0x928)][_0x15d857(0x224)]);else{if(_0x3a2f08)handleQuizSettings(_0x3a2f08['dataset']['quizId']);else{if(_0x2c40a4)handleDuplicateQuiz(_0x2c40a4['dataset'][_0x15d857(0x224)]);else{if(_0x5a1670)handleRenameQuiz(_0x5a1670[_0x15d857(0x928)][_0x15d857(0x224)],_0x5a1670[_0x15d857(0x928)][_0x15d857(0xcaf)]);else{if(_0x52ed94){const _0x1820c4=_0x52ed94['dataset']['quizId'],_0x362f80=allQuizzes[_0x15d857(0x135)](_0x5e22ab=>_0x5e22ab['id']===_0x1820c4);_0x362f80&&handleGenerateParallelFromBank(_0x362f80);}else{if(_0x39b0fa)handleMoveQuiz(_0x39b0fa['dataset'][_0x15d857(0x224)]);else{if(_0x415c69)handleManualQuizPairing(_0x415c69[_0x15d857(0x928)][_0x15d857(0x224)]);else{if(_0x47ab28)handleUnpairQuiz(_0x47ab28[_0x15d857(0x928)]['quizId']);else{if(_0x23043f){const _0x3f6307=_0x23043f[_0x15d857(0x928)][_0x15d857(0x224)],_0x3e6d2c=allQuizzes['find'](_0x4b6ef9=>_0x4b6ef9['id']===_0x3f6307);if(_0x3e6d2c)startPresentation(_0x3e6d2c);}else{if(_0x2e2de4){const _0x50db96=_0x2e2de4[_0x15d857(0x928)][_0x15d857(0x224)],_0x65d4bf=allQuizzes['find'](_0x42836e=>_0x42836e['id']===_0x50db96);_0x65d4bf&&(currentQuizData=_0x65d4bf,startAdminTest());}else{if(_0x530a25)actionTargetId=_0x530a25[_0x15d857(0x928)][_0x15d857(0x224)],document[_0x15d857(0x1c2)](_0x15d857(0x8bd))[_0x15d857(0x12e)][_0x15d857(0x1f9)]('hidden');else{if(_0xa4114b)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0xa4114b[_0x15d857(0x928)][_0x15d857(0xcaf)]+_0x15d857(0x5ad),()=>handleDeleteQuiz(_0xa4114b['dataset']['quizId']));else{if(_0x579c2e)handleQuizStatus(_0x579c2e['dataset'][_0x15d857(0x224)]);else{if(_0x374047)handleGenerateEasyVersionQuiz(_0x374047[_0x15d857(0x928)][_0x15d857(0x224)]);else _0x2b99e2&&showQuizDetailView(_0x2b99e2[_0x15d857(0x928)][_0x15d857(0x224)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x32572f(0x1c2)](_0x32572f(0x7bd))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>showView(_0x32572f(0x39a))),document[_0x32572f(0x1c2)](_0x32572f(0x95c))[_0x32572f(0xa37)](_0x32572f(0xbdd),confirmAndStartTeamQuiz),document[_0x32572f(0x1c2)]('quiz-leaderboard-table')['querySelector'](_0x32572f(0x160))['addEventListener'](_0x32572f(0xbdd),_0x5664bc=>{const _0x5919c2=_0x32572f,_0x498dda=_0x5664bc['target'][_0x5919c2(0xbdf)](_0x5919c2(0x742));if(!_0x498dda||!_0x498dda[_0x5919c2(0x928)][_0x5919c2(0x327)])return;const _0x16151b=_0x498dda[_0x5919c2(0x928)][_0x5919c2(0x327)];if(quizLeaderboardSortBy===_0x16151b)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5919c2(0x56a)?_0x5919c2(0x7e4):_0x5919c2(0x56a);else{quizLeaderboardSortBy=_0x16151b;const _0x1f625b=[_0x5919c2(0xc3e)];quizLeaderboardSortOrder=_0x1f625b[_0x5919c2(0x4c2)](_0x16151b)?'asc':_0x5919c2(0x7e4);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x5919c2(0x276));}),document[_0x32572f(0x1c2)](_0x32572f(0x646))[_0x32572f(0xa37)](_0x32572f(0xbdd),closePresentation),document['getElementById']('prev-question-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x32572f(0x1c2)](_0x32572f(0x1f5))['addEventListener'](_0x32572f(0xbdd),()=>{const _0x545b08=_0x32572f;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x545b08(0x966)][_0x545b08(0xa90)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x32572f(0xa37)](_0x32572f(0x4b6),()=>{const _0x6a9e51=_0x32572f;!document['fullscreenElement']&&(presentationModal[_0x6a9e51(0xa10)][_0x6a9e51(0x28f)]=_0x6a9e51(0xba0));}),document[_0x32572f(0x1c2)](_0x32572f(0x823))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleDeleteAllStudents),studentList[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x2bf001=>{const _0x14cd82=_0x32572f,_0xe09a10=_0x2bf001[_0x14cd82(0x12a)]['closest'](_0x14cd82(0x66d));if(_0xe09a10){const _0x370c71=_0xe09a10[_0x14cd82(0x928)][_0x14cd82(0xc3e)];handleDeleteStudent(_0x370c71);}}),document[_0x32572f(0x1c2)](_0x32572f(0x51c))[_0x32572f(0xa37)](_0x32572f(0xbdd),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x32572f(0x6c5),_0x4971f4=>{const _0x1a928b=_0x32572f,_0x1b28ad=_0x4971f4[_0x1a928b(0x12a)]['files'][0x0],_0x1efe6b=document[_0x1a928b(0x1c2)](_0x1a928b(0x51c)),_0x2dbb8d=document[_0x1a928b(0x1c2)]('file-topics-list-container'),_0x38a104=document['getElementById'](_0x1a928b(0x2d6));_0x1b28ad?(selectedFile=_0x1b28ad,_0x38a104['checked']?(_0x1efe6b[_0x1a928b(0x78a)]=!![],analyzeFileForTopics(_0x1b28ad)):(_0x1efe6b['disabled']=![],_0x2dbb8d['classList']['add'](_0x1a928b(0x30a)))):(selectedFile=null,_0x1efe6b[_0x1a928b(0x78a)]=!![],_0x2dbb8d[_0x1a928b(0x12e)][_0x1a928b(0x7d7)]('hidden'));}),document[_0x32572f(0x1c2)](_0x32572f(0x2d6))['addEventListener'](_0x32572f(0x6c5),_0x40471d=>{const _0x58e931=_0x32572f,_0x3d3fec=_0x40471d[_0x58e931(0x12a)][_0x58e931(0x564)],_0x112679=document['getElementById'](_0x58e931(0x51c)),_0x157eaf=document[_0x58e931(0x1c2)](_0x58e931(0x33f));_0x3d3fec?(_0x112679[_0x58e931(0x78a)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x157eaf[_0x58e931(0x12e)][_0x58e931(0x1f9)](_0x58e931(0x30a)),document[_0x58e931(0x1c2)](_0x58e931(0x816))[_0x58e931(0x3e3)]=_0x58e931(0x700))):(_0x157eaf[_0x58e931(0x12e)][_0x58e931(0x7d7)]('hidden'),_0x112679[_0x58e931(0x78a)]=!selectedFile);}),document['getElementById']('file-topics-list-container')[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x184652=>{const _0x4849da=_0x32572f,_0x5844c1=_0x184652['target']['closest'](_0x4849da(0xb49)),_0x54cf02=_0x184652['target'][_0x4849da(0xbdf)](_0x4849da(0x6c6));if(_0x5844c1){const _0x2ce8bf=unescape(_0x5844c1['dataset'][_0x4849da(0xcaf)]);generateHybridQuizForTopic(_0x2ce8bf);}else{if(_0x54cf02){const _0x343c21=unescape(_0x54cf02[_0x4849da(0x928)][_0x4849da(0xcaf)]),_0x218403=document[_0x4849da(0x1c2)]('difficulty-level-select')[_0x4849da(0x9f1)];handleGenerateAndShowLesson(_0x343c21,_0x218403);}}}),document['getElementById'](_0x32572f(0x352))[_0x32572f(0xa37)](_0x32572f(0x6c5),_0x1bfd6e=>{const _0x22e9ce=_0x32572f,_0x3f1db6=document[_0x22e9ce(0x1c2)](_0x22e9ce(0x4dd)),_0x217fe9=document['getElementById'](_0x22e9ce(0x65a)),_0xb6a124=document[_0x22e9ce(0x1c2)](_0x22e9ce(0x84f));_0x1bfd6e[_0x22e9ce(0x12a)][_0x22e9ce(0x9f1)]===_0x22e9ce(0xba0)?_0x3f1db6[_0x22e9ce(0x12e)][_0x22e9ce(0x7d7)](_0x22e9ce(0x30a)):(_0x3f1db6[_0x22e9ce(0x12e)][_0x22e9ce(0x1f9)](_0x22e9ce(0x30a)),_0x1bfd6e[_0x22e9ce(0x12a)][_0x22e9ce(0x9f1)]==='whole_quiz'?(_0x217fe9[_0x22e9ce(0x9a1)]='ระยะเวลา\x20(นาที):',_0xb6a124['value']='10'):(_0x217fe9[_0x22e9ce(0x9a1)]=_0x22e9ce(0xc63),_0xb6a124[_0x22e9ce(0x9f1)]='30'));}),document[_0x32572f(0x1c2)]('quiz-type-select')[_0x32572f(0xa37)](_0x32572f(0x6c5),_0x4bfe53=>{const _0x4fa7f8=_0x32572f,_0x413894=document[_0x4fa7f8(0x1c2)]('num-choices-container'),_0x40f20d=_0x4bfe53['target']['value'],_0x181da4=document[_0x4fa7f8(0x8b9)](_0x4fa7f8(0x367)),_0x3bd966=document['getElementById'](_0x4fa7f8(0x9b7)),_0x44797d=document['getElementById'](_0x4fa7f8(0x55b));_0x40f20d==='matching'?_0x181da4['textContent']='จำนวนคู่:':_0x181da4[_0x4fa7f8(0x9a1)]=_0x4fa7f8(0xae3),_0x40f20d==='multiple_choice'||_0x40f20d===_0x4fa7f8(0xc96)||_0x40f20d===_0x4fa7f8(0x1b4)?_0x413894[_0x4fa7f8(0x12e)]['remove']('hidden'):_0x413894['classList'][_0x4fa7f8(0x7d7)](_0x4fa7f8(0x30a)),_0x3bd966['max']=_0x44797d[_0x4fa7f8(0x9f1)];}),document[_0x32572f(0x1c2)]('num-questions')[_0x32572f(0xa37)](_0x32572f(0x288),_0x33fff3=>{const _0x568b2d=_0x32572f;document['getElementById'](_0x568b2d(0x9b7))[_0x568b2d(0x3a8)]=_0x33fff3[_0x568b2d(0x12a)][_0x568b2d(0x9f1)];}),document[_0x32572f(0x1c2)](_0x32572f(0x413))[_0x32572f(0xa37)]('change',_0x20c9ae=>{const _0x2ac44d=_0x32572f,_0x26ad84=document[_0x2ac44d(0x1c2)](_0x2ac44d(0x75a)),_0x57a172=document['getElementById'](_0x2ac44d(0x80d)),_0x26939d=document['getElementById'](_0x2ac44d(0x760));_0x20c9ae[_0x2ac44d(0x12a)][_0x2ac44d(0x9f1)]===_0x2ac44d(0xba0)?_0x26ad84[_0x2ac44d(0x12e)][_0x2ac44d(0x7d7)](_0x2ac44d(0x30a)):(_0x26ad84[_0x2ac44d(0x12e)][_0x2ac44d(0x1f9)](_0x2ac44d(0x30a)),_0x20c9ae[_0x2ac44d(0x12a)]['value']===_0x2ac44d(0x4e2)?_0x57a172[_0x2ac44d(0x9a1)]='ระยะเวลา\x20(นาที):':_0x57a172[_0x2ac44d(0x9a1)]='ระยะเวลา\x20(วินาที):');}),document[_0x32572f(0x1c2)]('cancel-quiz-edits-btn')['addEventListener']('click',()=>{const _0x2dbfc7=_0x32572f;document[_0x2dbfc7(0x1c2)]('quiz-editor-modal')[_0x2dbfc7(0x12e)][_0x2dbfc7(0x7d7)](_0x2dbfc7(0x30a));}),document['getElementById'](_0x32572f(0x9d4))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x33aa77=_0x32572f;document[_0x33aa77(0x1c2)](_0x33aa77(0x315))[_0x33aa77(0x12e)][_0x33aa77(0x7d7)]('hidden');}),document[_0x32572f(0x1c2)](_0x32572f(0xac5))[_0x32572f(0xa37)]('click',handleVerifyAnswersInEditor),document[_0x32572f(0x1c2)](_0x32572f(0x72a))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x1eb26a=_0x32572f;document[_0x1eb26a(0x1c2)](_0x1eb26a(0x315))[_0x1eb26a(0x12e)][_0x1eb26a(0x7d7)](_0x1eb26a(0x30a)),showConfirmation(_0x1eb26a(0xa01),handleSaveChanges);}),document['getElementById']('auto-fix-latex-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),handleAutoFixLatex);const _0x463e02=document['getElementById']('quiz-editor-questions-container');_0x463e02&&_0x463e02[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x3dcc59=>{const _0x5a5e9d=_0x32572f,_0x39a6d2=_0x3dcc59['target'][_0x5a5e9d(0xbdf)](_0x5a5e9d(0x8c0)),_0x21828c=_0x3dcc59[_0x5a5e9d(0x12a)][_0x5a5e9d(0xbdf)](_0x5a5e9d(0x13b));if(_0x39a6d2){const _0x205fb0=_0x39a6d2[_0x5a5e9d(0xbdf)](_0x5a5e9d(0x11d)),_0x2e7d84=parseInt(_0x205fb0['dataset'][_0x5a5e9d(0x76f)],0xa);handleRegenerateQuestionInEditor(_0x2e7d84);}else{if(_0x21828c){const _0x554662=_0x21828c[_0x5a5e9d(0xbdf)](_0x5a5e9d(0x11d)),_0x5ae591=parseInt(_0x554662[_0x5a5e9d(0x928)][_0x5a5e9d(0x76f)],0xa);handleAiFixFormula(_0x5ae591);}}});document[_0x32572f(0x1c2)](_0x32572f(0x994))[_0x32572f(0xa37)]('click',openQuizBankModal),document['getElementById'](_0x32572f(0x7f1))[_0x32572f(0xa37)]('click',()=>{const _0xf73423=_0x32572f;document[_0xf73423(0x1c2)]('quiz-bank-modal')[_0xf73423(0x12e)][_0xf73423(0x7d7)]('hidden');}),document[_0x32572f(0x1c2)](_0x32572f(0x8e8))[_0x32572f(0xa37)](_0x32572f(0x288),_0x48715a=>renderQuizBankList(_0x48715a[_0x32572f(0x12a)][_0x32572f(0x9f1)]));const _0x1733d8=document[_0x32572f(0x1c2)](_0x32572f(0x274));if(_0x1733d8){let _0x49cdab=null;_0x1733d8[_0x32572f(0xa37)](_0x32572f(0xbdd),_0x360bcf=>{const _0x525fa4=_0x32572f,_0x28e152=_0x360bcf['target'],_0x47c3f6=_0x28e152[_0x525fa4(0xbdf)](_0x525fa4(0xb36)),_0xefb1cc=_0x28e152[_0x525fa4(0xbdf)](_0x525fa4(0x88e)),_0x3e01e4=_0x28e152[_0x525fa4(0xbdf)]('.save-custom-topic-btn'),_0x3c2706=_0x28e152[_0x525fa4(0xbdf)](_0x525fa4(0x821));if(_0xefb1cc){_0x360bcf[_0x525fa4(0x3fd)]();const _0x542b09=_0xefb1cc[_0x525fa4(0x928)]['id'],_0x1f1e28=_0xefb1cc[_0x525fa4(0xbdf)](_0x525fa4(0x5eb))[_0x525fa4(0x8b9)]('.topic-name-display')[_0x525fa4(0x9a1)];showConfirmation(_0x525fa4(0x88b)+_0x1f1e28+'\x22?',()=>handleDeleteCustomTopic(_0x542b09));}else{if(_0x47c3f6){_0x360bcf[_0x525fa4(0x3fd)]();_0x49cdab&&toggleTopicEditMode(_0x49cdab,![]);const _0x5cb69c=_0x47c3f6[_0x525fa4(0xbdf)](_0x525fa4(0x9c3));_0x49cdab=_0x5cb69c,toggleTopicEditMode(_0x5cb69c,!![]);}else{if(_0x3e01e4){_0x360bcf['preventDefault']();const _0x16c60f=_0x3e01e4[_0x525fa4(0x928)]['id'],_0x1fde45=_0x3e01e4[_0x525fa4(0xbdf)](_0x525fa4(0x9c3)),_0x17487=_0x1fde45[_0x525fa4(0x8b9)](_0x525fa4(0x5d2))['value'];handleUpdateCustomTopic(_0x16c60f,_0x17487),_0x49cdab=null;}else{if(_0x3c2706){_0x360bcf[_0x525fa4(0x3fd)]();const _0x331975=_0x3c2706[_0x525fa4(0xbdf)](_0x525fa4(0x9c3));toggleTopicEditMode(_0x331975,![]),_0x49cdab=null;}}}}}),document[_0x32572f(0x1c2)](_0x32572f(0x524))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x4c9a86=_0x32572f;document['getElementById'](_0x4c9a86(0x934))[_0x4c9a86(0x12e)][_0x4c9a86(0x7d7)]('hidden');}),document[_0x32572f(0x1c2)](_0x32572f(0xadd))[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x339874=_0x32572f;document[_0x339874(0x1c2)](_0x339874(0x934))['classList'][_0x339874(0x7d7)](_0x339874(0x30a));}),document[_0x32572f(0x1c2)](_0x32572f(0xa9d))['addEventListener'](_0x32572f(0xbdd),handleExportLessonPDF);}document[_0x32572f(0x1c2)]('close-comparison-modal-btn')['addEventListener'](_0x32572f(0xbdd),()=>{const _0x4593ae=_0x32572f;document[_0x4593ae(0x1c2)]('comparison-modal')[_0x4593ae(0x12e)][_0x4593ae(0x7d7)](_0x4593ae(0x30a));}),document[_0x32572f(0x1c2)]('close-comparison-modal-footer-btn')[_0x32572f(0xa37)](_0x32572f(0xbdd),()=>{const _0x29cb78=_0x32572f;document[_0x29cb78(0x1c2)]('comparison-modal')['classList']['add'](_0x29cb78(0x30a));}),setupComparisonModalTabs(),document[_0x32572f(0xa68)][_0x32572f(0xa37)](_0x32572f(0xbdd),function(_0x43ffc2){const _0x5d6397=_0x32572f;if(_0x43ffc2[_0x5d6397(0x12a)][_0x5d6397(0x12e)][_0x5d6397(0xa84)](_0x5d6397(0x970))){const _0xcfce26=unescape(_0x43ffc2[_0x5d6397(0x12a)][_0x5d6397(0x928)]['topic']);startSkillPractice(_0xcfce26);}}),document[_0x32572f(0x1c2)](_0x32572f(0x849))['addEventListener'](_0x32572f(0xbdd),_0x281040=>{const _0xe2166d=_0x32572f,_0x3e3054=_0x281040[_0xe2166d(0x12a)][_0xe2166d(0xbdf)](_0xe2166d(0x58d));if(_0x3e3054){const _0x401030=_0x3e3054[_0xe2166d(0x928)]['studentName'];handleDeleteSubmission(_0x401030);}});}async function handleStartGroupMode(_0xda3aa5,_0x484b09=![]){const _0x11f62c=_0x4e7cd8,_0x314da9=allQuizzes[_0x11f62c(0x135)](_0x1b54cb=>_0x1b54cb['id']===_0xda3aa5)||allQuizzesGlobal[_0x11f62c(0x135)](_0x606586=>_0x606586['id']===_0xda3aa5);if(!_0x314da9){showMessage(_0x11f62c(0x203));return;}currentQuizData=getShuffledQuiz(_0x314da9);const _0x4bf393=Math[_0x11f62c(0xa32)](0x3e8+Math['random']()*0x2328)[_0x11f62c(0x8bf)]();try{const _0x47977a=await addDoc(collection(db,_0x11f62c(0xbc5)+appId+_0x11f62c(0x56e)),{'quizId':_0x314da9['id'],'projectId':_0x314da9[_0x11f62c(0xa4a)],'status':_0x11f62c(0x971),'pin':_0x4bf393,'mode':_0x11f62c(0xbe3),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x484b09});currentTeamQuizId=_0x47977a['id'],showView(_0x11f62c(0x94d)),renderAdminTeamQuizDashboard(_0x4bf393,_0x314da9[_0x11f62c(0xcaf)],_0x11f62c(0xbe3)),listenForTeamQuizUpdates();}catch(_0x49a5e3){console[_0x11f62c(0x2da)](_0x11f62c(0x704),_0x49a5e3),showMessage(_0x11f62c(0x8b1));}}async function showStudentProgressView(){const _0x55bc5d=_0x4e7cd8;studentInitialView[_0x55bc5d(0x12e)][_0x55bc5d(0x7d7)](_0x55bc5d(0x30a)),document[_0x55bc5d(0x1c2)](_0x55bc5d(0x86f))['classList'][_0x55bc5d(0x1f9)](_0x55bc5d(0x30a));const _0x7701f7=document[_0x55bc5d(0x1c2)](_0x55bc5d(0x8fb)),_0x2fccaa=document[_0x55bc5d(0x1c2)]('progress-student-select'),_0x3aca01=document[_0x55bc5d(0x1c2)](_0x55bc5d(0x1ea));_0x3aca01[_0x55bc5d(0x3e3)]=_0x55bc5d(0x7fe),_0x2fccaa[_0x55bc5d(0x3e3)]=_0x55bc5d(0xca0),_0x2fccaa[_0x55bc5d(0x78a)]=!![],_0x7701f7['innerHTML']=_0x55bc5d(0x552);if(allProjects['length']===0x0){const _0x74fe94=collection(db,_0x55bc5d(0xbc5)+appId+_0x55bc5d(0x6e3)),_0x4cfe66=await getDocs(_0x74fe94);allProjects=_0x4cfe66[_0x55bc5d(0x378)]['map'](_0xe05e79=>({'id':_0xe05e79['id'],..._0xe05e79['data']()}));}const _0x1e7494=allProjects[_0x55bc5d(0x473)](_0x1a2991=>_0x1a2991[_0x55bc5d(0x9e2)]?.['showInStudentDashboard']!==![]);_0x1e7494[_0x55bc5d(0x327)]((_0x25361d,_0x183357)=>_0x25361d[_0x55bc5d(0xa74)][_0x55bc5d(0x8d0)](_0x183357['projectName'],'th')),_0x7701f7[_0x55bc5d(0x3e3)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x1e7494['map'](_0x20be92=>_0x55bc5d(0xc29)+_0x20be92['id']+'\x22>'+_0x20be92[_0x55bc5d(0xa74)]+'</option>')[_0x55bc5d(0xab6)](''),_0x7701f7['onchange']=()=>{const _0x462d94=_0x55bc5d,_0x2b01ef=_0x2fccaa[_0x462d94(0x9f1)],_0x208494=_0x7701f7[_0x462d94(0x9f1)];_0x2fccaa['disabled']=!![],_0x2fccaa[_0x462d94(0x3e3)]=_0x462d94(0xca0),_0x3aca01[_0x462d94(0x3e3)]=_0x462d94(0xb97);if(!_0x208494)return;const _0x303261=allProjects[_0x462d94(0x135)](_0x253fd6=>_0x253fd6['id']===_0x208494);if(!_0x303261||!_0x303261[_0x462d94(0x7f0)])return;const _0x490b1b=()=>{const _0x26c546=_0x462d94;_0x2fccaa[_0x26c546(0x3e3)]=_0x26c546(0xca0)+_0x303261[_0x26c546(0x7f0)][_0x26c546(0xa26)](_0x4137d3=>_0x26c546(0xc29)+_0x4137d3+'\x22>'+_0x4137d3+_0x26c546(0x848))[_0x26c546(0xab6)](''),_0x2fccaa[_0x26c546(0x78a)]=![];const _0x74c9a8=Array[_0x26c546(0x1c7)](_0x2fccaa[_0x26c546(0x4d1)])['map'](_0xbf08f=>_0xbf08f[_0x26c546(0x9f1)]);if(_0x2b01ef&&_0x74c9a8[_0x26c546(0x4c2)](_0x2b01ef))_0x2fccaa['value']=_0x2b01ef,_0x2fccaa['dispatchEvent'](new Event(_0x26c546(0x6c5)));else _0x303261[_0x26c546(0x7f0)][_0x26c546(0xa90)]===0x1&&(_0x2fccaa['value']=_0x303261['students'][0x0],_0x2fccaa[_0x26c546(0x322)](new Event('change')));};if(_0x303261[_0x462d94(0x9e2)]?.[_0x462d94(0xa11)]){if(sessionStorage[_0x462d94(0xbb0)](_0x462d94(0x36f)+_0x208494)===_0x462d94(0xaa3)){_0x490b1b();return;}const _0x4a24a7=document['getElementById'](_0x462d94(0x194)),_0x1e1627=document[_0x462d94(0x1c2)](_0x462d94(0xb96)),_0x1f49de=document['getElementById'](_0x462d94(0xc16)),_0x308de7=document[_0x462d94(0x1c2)](_0x462d94(0x383)),_0xb39764=document[_0x462d94(0x1c2)](_0x462d94(0x5a2));document[_0x462d94(0x1c2)](_0x462d94(0x39e))[_0x462d94(0x9a1)]=_0x462d94(0x87a)+_0x303261[_0x462d94(0xa74)],_0x308de7['value']='',_0xb39764['classList'][_0x462d94(0x7d7)](_0x462d94(0x30a)),_0x4a24a7[_0x462d94(0x12e)][_0x462d94(0x1f9)](_0x462d94(0x30a));const _0x533b5e=()=>{const _0x6c4769=_0x462d94,_0x586c4e=_0x308de7[_0x6c4769(0x9f1)][_0x6c4769(0x492)]();_0x586c4e===_0x303261[_0x6c4769(0x9e2)][_0x6c4769(0xa08)]?(sessionStorage['setItem'](_0x6c4769(0x36f)+_0x208494,_0x6c4769(0xaa3)),_0x4a24a7[_0x6c4769(0x12e)]['add']('hidden'),_0x490b1b(),_0x1e1627[_0x6c4769(0x208)](_0x6c4769(0xbdd),_0x533b5e)):_0xb39764['classList'][_0x6c4769(0x1f9)](_0x6c4769(0x30a));};_0x1e1627[_0x462d94(0xa41)]=_0x533b5e,_0x1f49de[_0x462d94(0xa41)]=()=>{const _0x36122e=_0x462d94;_0x4a24a7['classList'][_0x36122e(0x7d7)]('hidden'),_0x7701f7['value']='',_0x1e1627[_0x36122e(0x208)](_0x36122e(0xbdd),_0x533b5e);};}else _0x490b1b();},_0x2fccaa[_0x55bc5d(0x7a4)]=()=>{const _0x481720=_0x55bc5d,_0x54377a=_0x7701f7[_0x481720(0x9f1)],_0x4eef86=_0x2fccaa['value'];_0x54377a&&_0x4eef86&&renderStudentProgressDashboard(_0x54377a,_0x4eef86);};}async function confirmAndJoinSyncGame(){const _0x28b024=_0x4e7cd8,_0x954c93=Array[_0x28b024(0x1c7)](document[_0x28b024(0x9f4)](_0x28b024(0x7ab)))[_0x28b024(0xa26)](_0x3c01f6=>_0x3c01f6['value']);if(_0x954c93[_0x28b024(0xa90)]===0x0){showMessage(_0x28b024(0x59a));return;}localTeamPlayers=_0x954c93,localPlayerTurnIndex=0x0;const _0x54212b=doc(db,_0x28b024(0xbc5)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x148e0d=await getDoc(_0x54212b);if(!_0x148e0d[_0x28b024(0x7b7)]())throw new Error(_0x28b024(0xa4b));const _0x1d4178=_0x148e0d[_0x28b024(0x921)]()['players']||{};_0x954c93[_0x28b024(0x8ca)](_0x1d2542=>{const _0x1ff47a=_0x28b024;!_0x1d4178[_0x1d2542]&&(_0x1d4178[_0x1d2542]={'name':_0x1d2542,'score':0x0,'answered':![],'status':_0x1ff47a(0xae2)});}),await updateDoc(_0x54212b,{'players':_0x1d4178}),document[_0x28b024(0x1c2)](_0x28b024(0xb5a))[_0x28b024(0x12e)]['add'](_0x28b024(0x30a)),currentStudentName=_0x954c93[0x0],listenForSyncGameUpdates();const _0xb6b867={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x28b024(0x9d1)]('activeGameSession',JSON['stringify'](_0xb6b867));}catch(_0xefc0ed){console[_0x28b024(0x2da)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0xefc0ed),showMessage(_0x28b024(0x4b0));}}async function resumeActiveGameSession(){const _0x5ea8e4=_0x4e7cd8,_0x5e847f=sessionStorage[_0x5ea8e4(0xbb0)](_0x5ea8e4(0xa7c));if(!_0x5e847f)return;const _0x225f0f=JSON['parse'](_0x5e847f),{gameId:_0x61ce51,mode:_0x3ce925,players:_0x36011d,turnIndex:_0x312849}=_0x225f0f;try{let _0x5afebf,_0x352930;_0x3ce925===_0x5ea8e4(0xa3d)?_0x5afebf=doc(db,_0x5ea8e4(0xbc5)+appId+_0x5ea8e4(0x1be),_0x61ce51):_0x5afebf=doc(db,'artifacts/'+appId+_0x5ea8e4(0x56e),_0x61ce51);_0x352930=await getDoc(_0x5afebf);if(!_0x352930[_0x5ea8e4(0x7b7)]()||_0x352930['data']()[_0x5ea8e4(0xb37)]==='finished'||_0x352930['data']()['status']===_0x5ea8e4(0xab0)){sessionStorage[_0x5ea8e4(0xc4b)](_0x5ea8e4(0xa7c));return;}console[_0x5ea8e4(0x511)](_0x5ea8e4(0x49c)+_0x3ce925+_0x5ea8e4(0xbfb)+_0x61ce51+')'),localTeamPlayers=_0x36011d,localPlayerTurnIndex=_0x312849;if(_0x3ce925===_0x5ea8e4(0xa3d))currentLiveGameId=_0x61ce51,currentStudentName=_0x36011d[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x61ce51;const _0x1d1f09=_0x352930['data'](),_0x4f0f49=doc(db,_0x5ea8e4(0xbc5)+appId+_0x5ea8e4(0x5e2),_0x1d1f09[_0x5ea8e4(0x224)]),_0x23b731=await getDoc(_0x4f0f49);_0x23b731[_0x5ea8e4(0x7b7)]()&&(currentQuizData=getShuffledQuiz({'id':_0x23b731['id'],..._0x23b731[_0x5ea8e4(0x921)]()}),showView(_0x5ea8e4(0x39a)),studentInitialView[_0x5ea8e4(0x12e)][_0x5ea8e4(0x7d7)](_0x5ea8e4(0x30a)),renderTeamQuizQuestion());}}catch(_0x1e4a59){console[_0x5ea8e4(0x2da)](_0x5ea8e4(0x8b0),_0x1e4a59),sessionStorage[_0x5ea8e4(0xc4b)](_0x5ea8e4(0xa7c));}}function activateFileInputAreaWithLoadedFile(){const _0x53fd96=_0x4e7cd8,_0x6f7666=document[_0x53fd96(0x1c2)]('generate-from-file-btn'),_0x17bf9f=document[_0x53fd96(0x1c2)](_0x53fd96(0x33f)),_0x1e065c=document[_0x53fd96(0x1c2)](_0x53fd96(0x2d6));selectedFile?_0x1e065c[_0x53fd96(0x564)]?(_0x6f7666['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x6f7666[_0x53fd96(0x78a)]=![],_0x17bf9f[_0x53fd96(0x12e)]['add'](_0x53fd96(0x30a))):(_0x6f7666[_0x53fd96(0x78a)]=!![],_0x17bf9f[_0x53fd96(0x12e)][_0x53fd96(0x7d7)](_0x53fd96(0x30a)));}async function handleKickPlayerSync(_0x1be84e){const _0x53d858=_0x4e7cd8;if(!currentLiveGameId||!_0x1be84e)return;const _0x4c644d=doc(db,_0x53d858(0xbc5)+appId+_0x53d858(0x1be),currentLiveGameId),_0x2f1b67={};_0x2f1b67[_0x53d858(0x47f)+_0x1be84e+_0x53d858(0x5b3)]=_0x53d858(0x4c8);try{await updateDoc(_0x4c644d,_0x2f1b67);}catch(_0x10bf84){console['error'](_0x53d858(0xc0d)+_0x1be84e+_0x53d858(0xa1c),_0x10bf84),showMessage(_0x53d858(0x1eb));}}async function renderStudentProgressDashboard(_0x288afe,_0x1bcaaa){const _0x21f2e6=_0x4e7cd8,_0x336a28=document['getElementById'](_0x21f2e6(0x1ea));_0x336a28[_0x21f2e6(0x3e3)]=_0x21f2e6(0xc38);try{const _0x3d1de4=collection(db,'artifacts/'+appId+_0x21f2e6(0x5e2)),_0x2b8710=query(_0x3d1de4,where(_0x21f2e6(0xa4a),'==',_0x288afe)),_0x48cca1=await getDocs(_0x2b8710),_0x1c2844=_0x48cca1[_0x21f2e6(0x378)][_0x21f2e6(0xa26)](_0x13d523=>({'id':_0x13d523['id'],..._0x13d523['data']()})),_0x1a0ddc=_0x1c2844[_0x21f2e6(0xa26)](_0x42a2d6=>getDoc(doc(db,'artifacts/'+appId+_0x21f2e6(0x155)+_0x42a2d6['id']+_0x21f2e6(0x2e0),_0x1bcaaa))),_0x19db24=await Promise[_0x21f2e6(0x3ca)](_0x1a0ddc),_0x44873c=_0x19db24['filter'](_0x3d26e4=>_0x3d26e4[_0x21f2e6(0x7b7)]())[_0x21f2e6(0xa26)](_0x724296=>({'quizId':_0x724296[_0x21f2e6(0x4e3)][_0x21f2e6(0x6ab)][_0x21f2e6(0x6ab)]['id'],..._0x724296[_0x21f2e6(0x921)]()}));if(_0x44873c[_0x21f2e6(0xa90)]===0x0){_0x336a28['innerHTML']=_0x21f2e6(0x3bb);return;}let _0x589319=_0x21f2e6(0x44c);_0x44873c[_0x21f2e6(0x8ca)](_0x295467=>{const _0x226cbf=_0x21f2e6,_0x401c7f=_0x1c2844[_0x226cbf(0x135)](_0x38fd41=>_0x38fd41['id']===_0x295467['quizId']),_0xed3d2d=_0x401c7f['settings']?.[_0x226cbf(0x8bb)]||_0x226cbf(0x6a4),_0x216b53=_0x401c7f[_0x226cbf(0x9e2)]?.[_0x226cbf(0x874)]??0x0,_0x536440=_0x295467[_0x226cbf(0x6b8)]>=_0x216b53;let _0x1cb322='',_0x2779ff=_0x226cbf(0x355);switch(_0xed3d2d){case _0x226cbf(0x6a4):case _0x226cbf(0xb63):_0x2779ff=_0x536440?_0x226cbf(0x299):_0x226cbf(0x9dc),_0x1cb322='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x536440?'text-green-700':_0x226cbf(0x693))+'\x22>'+_0x295467['bestScore']+_0x226cbf(0xbbf)+_0x295467['totalQuestions']+_0x226cbf(0x5d4)+(_0x536440?_0x226cbf(0x584):_0x226cbf(0xac8))+'\x22>'+(_0x536440?_0x226cbf(0x81f):_0x226cbf(0xc41))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x226cbf(0x1ed):_0x2779ff=_0x536440?_0x226cbf(0x299):'bg-red-50',_0x1cb322=_0x226cbf(0x974)+(_0x536440?'bg-green-200\x20text-green-800':_0x226cbf(0xac8))+'\x22>'+(_0x536440?_0x226cbf(0x81f):_0x226cbf(0xc41))+_0x226cbf(0x658);break;case _0x226cbf(0x4db):_0x2779ff=_0x226cbf(0x951),_0x1cb322=_0x226cbf(0x328);break;}_0x589319+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x2779ff+_0x226cbf(0x3a6)+_0x401c7f[_0x226cbf(0xcaf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x295467[_0x226cbf(0xba1)][_0x226cbf(0xa90)]+_0x226cbf(0x1f6)+new Date(_0x295467[_0x226cbf(0x66b)])[_0x226cbf(0x518)](_0x226cbf(0x22f))+_0x226cbf(0x66e)+_0x1cb322+_0x226cbf(0xc34);}),_0x589319+=_0x21f2e6(0xc4f),_0x336a28[_0x21f2e6(0x3e3)]=_0x589319;}catch(_0x35f2f6){console['error']('Error\x20rendering\x20student\x20progress:',_0x35f2f6),_0x336a28[_0x21f2e6(0x3e3)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x20088b=''){const _0x36eb8a=_0x4e7cd8,_0x21b78e=document['getElementById'](_0x36eb8a(0x42b)),_0x5ebbb4=_0x20088b[_0x36eb8a(0x7a9)]()[_0x36eb8a(0x492)](),_0x4aef09=allQuizzesGlobal[_0x36eb8a(0xa26)](_0x402899=>({..._0x402899,'projectName':allProjects[_0x36eb8a(0x135)](_0x5a5921=>_0x5a5921['id']===_0x402899['projectId'])?.[_0x36eb8a(0xa74)]||_0x36eb8a(0xb30)}))[_0x36eb8a(0x473)](_0x124d31=>(_0x124d31[_0x36eb8a(0xcaf)]||'')['toLowerCase']()[_0x36eb8a(0x4c2)](_0x5ebbb4)||(_0x124d31[_0x36eb8a(0xa74)]||'')[_0x36eb8a(0x7a9)]()[_0x36eb8a(0x4c2)](_0x5ebbb4)||_0x124d31['id'][_0x36eb8a(0x8bf)]()[_0x36eb8a(0x4c2)](_0x5ebbb4));_0x21b78e['innerHTML']=_0x4aef09[_0x36eb8a(0xa90)]?_0x4aef09['map'](_0x169e8e=>_0x36eb8a(0xc07)+_0x169e8e['id']+_0x36eb8a(0x979)+(_0x169e8e[_0x36eb8a(0xcaf)]||_0x36eb8a(0x86d))+_0x36eb8a(0x4bf)+_0x169e8e['projectName']+_0x36eb8a(0x92a)+_0x169e8e['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''):_0x36eb8a(0x6ef),_0x21b78e[_0x36eb8a(0x7a4)]=()=>{const _0xca2051=_0x36eb8a,_0x40df46=document[_0xca2051(0x8b9)](_0xca2051(0xc54));document['getElementById']('confirm-link-quiz-btn')[_0xca2051(0x78a)]=!_0x40df46;};}function setupStudentProgressListeners(){const _0x4561b5=_0x4e7cd8;document['getElementById'](_0x4561b5(0x149))[_0x4561b5(0xa37)](_0x4561b5(0xbdd),showStudentProgressView),document[_0x4561b5(0x1c2)]('back-to-student-home-btn')[_0x4561b5(0xa37)]('click',()=>{const _0x51ecf4=_0x4561b5;document[_0x51ecf4(0x1c2)]('student-progress-view')['classList'][_0x51ecf4(0x7d7)](_0x51ecf4(0x30a)),document[_0x51ecf4(0x1c2)](_0x51ecf4(0x3df))[_0x51ecf4(0x12e)]['remove']('hidden');});}async function startSkillPractice(_0x384597){const _0x32c8fb=_0x4e7cd8;studentResultArea[_0x32c8fb(0x12e)][_0x32c8fb(0x7d7)]('hidden'),studentQuizArea[_0x32c8fb(0x3e3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x32c8fb(0x1f9)](_0x32c8fb(0x30a));try{const _0x1454b6=await getStandardizedTopic(_0x384597);console['log']('คำถามดิบ:\x20\x22'+_0x384597+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x1454b6+'\x22'),studentQuizArea['querySelector']('p')[_0x32c8fb(0x9a1)]=_0x32c8fb(0x182)+_0x1454b6+'\x22...';const _0x219bc3=collection(db,_0x32c8fb(0xbc5)+appId+'/public/data/practiceBank'),_0x15bfd8=query(_0x219bc3,where(_0x32c8fb(0xcaf),'==',_0x1454b6)),_0x35fd45=await getDocs(_0x15bfd8);if(_0x35fd45['docs'][_0x32c8fb(0xa90)]>=0x3){console[_0x32c8fb(0x511)](_0x32c8fb(0xc31)+_0x35fd45[_0x32c8fb(0x378)][_0x32c8fb(0xa90)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x1454b6+_0x32c8fb(0x90b));let _0x12a190=_0x35fd45[_0x32c8fb(0x378)][_0x32c8fb(0xa26)](_0x534611=>_0x534611[_0x32c8fb(0x921)]());shuffleArray(_0x12a190);const _0x38511d={'topic':_0x1454b6,'questions':_0x12a190[_0x32c8fb(0xb79)](0x0,0x3)};displaySkillPracticeDrill(_0x38511d);}else{console[_0x32c8fb(0x511)](_0x32c8fb(0x9b9)+_0x1454b6+_0x32c8fb(0x8fa));const _0x487cfb=await generatePracticeQuestions(_0x1454b6);await saveDrillToPracticeBank(_0x487cfb,_0x1454b6),displaySkillPracticeDrill(_0x487cfb);}}catch(_0x193e35){console[_0x32c8fb(0x2da)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x193e35),showMessage(_0x32c8fb(0x67b)),studentQuizArea[_0x32c8fb(0x12e)][_0x32c8fb(0x7d7)](_0x32c8fb(0x30a)),studentResultArea['classList'][_0x32c8fb(0x1f9)]('hidden');}}async function saveDrillToPracticeBank(_0x8bb334,_0x393989){const _0xe2e356=_0x4e7cd8,_0x1d49db=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x22c62d=writeBatch(db);_0x8bb334['questions'][_0xe2e356(0x8ca)](_0x362be2=>{const _0x412c5a=_0xe2e356,_0x312626=doc(_0x1d49db);_0x22c62d[_0x412c5a(0x385)](_0x312626,{'topic':_0x393989,'questionText':_0x362be2[_0x412c5a(0x2b3)],'options':_0x362be2[_0x412c5a(0x4d1)],'correctAnswerIndex':_0x362be2[_0x412c5a(0xcab)],'explanation':_0x362be2[_0x412c5a(0x13e)],'createdAt':serverTimestamp()});});try{await _0x22c62d['commit'](),console[_0xe2e356(0x511)](_0xe2e356(0x411)+_0x8bb334[_0xe2e356(0x966)][_0xe2e356(0xa90)]+_0xe2e356(0xaec));}catch(_0x44ed48){console['error'](_0xe2e356(0x37b),_0x44ed48);}}async function getStandardizedTopic(_0x34916b){const _0x336ef8=_0x4e7cd8,_0x5af1ba='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x34916b+_0x336ef8(0xa42),_0x44b86f={'type':'OBJECT','properties':{'standardTopic':{'type':_0x336ef8(0x942)}},'required':[_0x336ef8(0x23a)]};try{const _0x4e9252=await callAnalysisApi(_0x5af1ba,_0x44b86f);return _0x4e9252[_0x336ef8(0x23a)];}catch(_0x115e52){return console[_0x336ef8(0x2da)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x115e52),_0x34916b;}}async function handleGenerateEasyVersionQuiz(_0x3b9165){const _0x10427e=_0x4e7cd8,_0x1adbf9=document[_0x10427e(0x1c2)](_0x10427e(0x229)),_0x4ba437=document[_0x10427e(0x1c2)](_0x10427e(0x260));_0x4ba437[_0x10427e(0x12e)][_0x10427e(0x7d7)](_0x10427e(0x30a));const _0x4c20f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x1adbf9['insertAdjacentHTML'](_0x10427e(0x5f6),_0x4c20f);try{const _0x3376c2=allQuizzes[_0x10427e(0x135)](_0x3d8dc9=>_0x3d8dc9['id']===_0x3b9165);if(!_0x3376c2)throw new Error(_0x10427e(0x4b9));const _0x38587e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0x3376c2[_0x10427e(0x966)])+_0x10427e(0x2f1),_0x5a8044={'type':_0x10427e(0x469),'properties':{'questionText':{'type':_0x10427e(0x942)},'questionType':{'type':_0x10427e(0x942)},'options':{'type':_0x10427e(0x6ae),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x10427e(0x78d)},'idealAnswer':{'type':_0x10427e(0x942)},'explanation':{'type':_0x10427e(0x942)},'imageCode':{'type':'STRING'}},'required':[_0x10427e(0x2b3),_0x10427e(0x93a),_0x10427e(0x13e)]},_0x37b3b8={'type':_0x10427e(0x469),'properties':{'questions':{'type':_0x10427e(0x6ae),'items':_0x5a8044}},'required':[_0x10427e(0x966)]},_0x3837e1=await callAnalysisApi(_0x38587e,_0x37b3b8);_0x3837e1&&_0x3837e1[_0x10427e(0x966)]&&_0x3837e1[_0x10427e(0x966)]['forEach'](_0x45b52b=>{const _0x36f6c3=_0x10427e;if(_0x45b52b['hasOwnProperty']('imageCode')){const _0x32c0fe=String(_0x45b52b[_0x36f6c3(0x291)])[_0x36f6c3(0x492)]();(_0x32c0fe===''||_0x32c0fe[_0x36f6c3(0x7a9)]()===_0x36f6c3(0xc76)||!_0x32c0fe[_0x36f6c3(0x384)]('<svg'))&&delete _0x45b52b['imageCode'];}});if(!_0x3837e1||!_0x3837e1[_0x10427e(0x966)]||_0x3837e1['questions'][_0x10427e(0xa90)]===0x0)throw new Error(_0x10427e(0x6a9));const _0x4b67f5=_0x3837e1[_0x10427e(0x966)][_0x10427e(0xa26)]((_0x4c7d05,_0x569b30)=>({..._0x4c7d05,'id':'q_'+Date[_0x10427e(0x6d6)]()+'_'+_0x569b30})),_0x1a5bcf={'projectId':_0x3376c2['projectId'],'quizType':_0x3376c2[_0x10427e(0x769)],'settings':_0x3376c2[_0x10427e(0x9e2)],'createdBy':_0x3376c2[_0x10427e(0x841)],'status':_0x10427e(0xae2),'topic':'(ฉบับง่าย)\x20'+_0x3376c2['topic'],'questions':_0x4b67f5,'createdAt':new Date()[_0x10427e(0xc5d)](),'quizMode':_0x10427e(0x605),'pairedQuizId':null};let _0x2c4139;while(!![]){_0x2c4139=Math[_0x10427e(0xa32)](0x3e8+Math[_0x10427e(0xad8)]()*0x2328)['toString']();const _0x25156d=await getDoc(doc(db,'artifacts/'+appId+_0x10427e(0x5e2),_0x2c4139));if(!_0x25156d[_0x10427e(0x7b7)]())break;}await setDoc(doc(db,_0x10427e(0xbc5)+appId+_0x10427e(0x5e2),_0x2c4139),_0x1a5bcf),showMessage(_0x10427e(0x3f7));}catch(_0x556b43){console[_0x10427e(0x2da)](_0x10427e(0x904),_0x556b43),showMessage(_0x10427e(0xb7c)+_0x556b43[_0x10427e(0x516)]);}finally{const _0x4dcacb=document[_0x10427e(0x1c2)](_0x10427e(0x8a6));_0x4dcacb&&_0x4dcacb[_0x10427e(0x1f9)](),_0x4ba437['classList'][_0x10427e(0x1f9)]('hidden');}}async function generatePracticeQuestions(_0x25c39d){const _0x12619e=_0x4e7cd8,_0x563b0b=_0x12619e(0x358)+_0x25c39d+_0x12619e(0xb6d)+simpleMathPrompt+_0x12619e(0x953),_0x23a09e={'type':'OBJECT','properties':{'questionText':{'type':_0x12619e(0x942)},'options':{'type':_0x12619e(0x6ae),'items':{'type':_0x12619e(0x942)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x12619e(0x942)}},'required':[_0x12619e(0x2b3),_0x12619e(0x4d1),'correctAnswerIndex',_0x12619e(0x13e)]},_0x130b2a={'type':_0x12619e(0x469),'properties':{'topic':{'type':_0x12619e(0x942)},'questions':{'type':_0x12619e(0x6ae),'items':_0x23a09e}},'required':[_0x12619e(0xcaf),_0x12619e(0x966)]};return await callAnalysisApi(_0x563b0b,_0x130b2a);}function displayLessonPlan(_0x35cec2,_0x1d9ffd){const _0x1156bc=_0x4e7cd8,_0x4a40f1=_0x1156bc(0xa43)+_0x1d9ffd[_0x1156bc(0xcaf)]+_0x1156bc(0x5b7)+_0x35cec2[_0x1156bc(0x40f)][_0x1156bc(0xa26)](_0x2be2f5=>_0x1156bc(0x2bd)+_0x2be2f5+_0x1156bc(0x775))[_0x1156bc(0xab6)]('')+_0x1156bc(0x465)+_0x35cec2[_0x1156bc(0xbe0)]+_0x1156bc(0x2c5)+_0x35cec2[_0x1156bc(0x2ee)]['map'](_0x7de50f=>_0x1156bc(0x97f)+_0x7de50f[_0x1156bc(0x3cb)]+_0x1156bc(0x86c)+_0x7de50f[_0x1156bc(0x2cd)]+'</p></div>')[_0x1156bc(0xab6)]('')+_0x1156bc(0xba8);document[_0x1156bc(0x1c2)](_0x1156bc(0x2a9))['textContent']=_0x1156bc(0x757)+_0x1d9ffd['topic'],document['getElementById'](_0x1156bc(0xc5f))[_0x1156bc(0x3e3)]=_0x4a40f1,document[_0x1156bc(0x1c2)](_0x1156bc(0x934))[_0x1156bc(0x12e)][_0x1156bc(0x1f9)](_0x1156bc(0x30a));if(window[_0x1156bc(0x196)])MathJax[_0x1156bc(0x7ca)]();}function displaySkillPracticeDrill(_0x2b4b0f){const _0x5784fe=_0x4e7cd8;let _0x49eddb=0x0;const _0x263609=_0x2b4b0f[_0x5784fe(0x966)],_0x21dbb8=()=>{const _0x536aa2=_0x5784fe,_0x1fda94=_0x263609[_0x49eddb],_0x53e627=_0x536aa2(0x3ef)+(_0x49eddb+0x1)+_0x536aa2(0xbbf)+_0x263609[_0x536aa2(0xa90)]+_0x536aa2(0x1d3)+_0x1fda94[_0x536aa2(0x2b3)]+_0x536aa2(0x504)+_0x1fda94[_0x536aa2(0x4d1)][_0x536aa2(0xa26)]((_0x142006,_0x3341e4)=>_0x536aa2(0x28c)+_0x3341e4+_0x536aa2(0x6d1)+_0x3341e4+_0x536aa2(0xb71)+_0x3341e4+'\x22>'+_0x142006+_0x536aa2(0x768))[_0x536aa2(0xab6)]('')+_0x536aa2(0x4e1);studentQuizArea[_0x536aa2(0x3e3)]=_0x53e627;if(window[_0x536aa2(0x196)])MathJax[_0x536aa2(0x7ca)]([studentQuizArea]);document['getElementById'](_0x536aa2(0x3f8))[_0x536aa2(0xa37)](_0x536aa2(0xbdd),async()=>{const _0x4d914d=_0x536aa2,_0x162cc2=await getHintForQuestion(_0x1fda94[_0x4d914d(0x2b3)]);showMessage(_0x162cc2);}),document[_0x536aa2(0x1c2)](_0x536aa2(0xb55))[_0x536aa2(0xa37)]('click',()=>{const _0x3ee1d8=_0x536aa2,_0x20b61c=document[_0x3ee1d8(0x8b9)](_0x3ee1d8(0x6e9));if(!_0x20b61c){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x4a153f=document['getElementById']('drill-feedback'),_0x1c5824=parseInt(_0x20b61c[_0x3ee1d8(0x9f1)])===_0x1fda94[_0x3ee1d8(0xcab)];_0x1c5824?(_0x4a153f[_0x3ee1d8(0x9f6)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x4a153f[_0x3ee1d8(0x3e3)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x1fda94['explanation']):(_0x4a153f[_0x3ee1d8(0x9f6)]=_0x3ee1d8(0x9d8),_0x4a153f[_0x3ee1d8(0x3e3)]=_0x3ee1d8(0x9d3)+_0x1fda94[_0x3ee1d8(0x13e)]);_0x4a153f['classList'][_0x3ee1d8(0x1f9)](_0x3ee1d8(0x30a));if(window['MathJax'])MathJax[_0x3ee1d8(0x7ca)]([_0x4a153f]);document[_0x3ee1d8(0x1c2)](_0x3ee1d8(0xb55))[_0x3ee1d8(0x12e)][_0x3ee1d8(0x7d7)]('hidden'),document['getElementById'](_0x3ee1d8(0x3f8))['classList']['add'](_0x3ee1d8(0x30a)),document[_0x3ee1d8(0x1c2)](_0x3ee1d8(0xa69))[_0x3ee1d8(0x12e)][_0x3ee1d8(0x1f9)](_0x3ee1d8(0x30a));}),document[_0x536aa2(0x1c2)]('next-drill-btn')[_0x536aa2(0xa37)]('click',()=>{const _0x27cd06=_0x536aa2;_0x49eddb++,_0x49eddb<_0x263609[_0x27cd06(0xa90)]?_0x21dbb8():(studentQuizArea[_0x27cd06(0x3e3)]=_0x27cd06(0x4b2),document['getElementById'](_0x27cd06(0x7f8))[_0x27cd06(0xa37)](_0x27cd06(0xbdd),()=>{const _0x48e47b=_0x27cd06;studentQuizArea[_0x48e47b(0x12e)][_0x48e47b(0x7d7)]('hidden'),studentResultArea['classList'][_0x48e47b(0x1f9)](_0x48e47b(0x30a));}));});};_0x21dbb8();}async function getHintForQuestion(_0x4f6816){const _0x4472be=_0x4e7cd8,_0x2f514e=_0x4472be(0x36c)+_0x4f6816+_0x4472be(0xb57),_0x256bb1={'type':'OBJECT','properties':{'hint':{'type':_0x4472be(0x942)}},'required':[_0x4472be(0x53f)]};try{const _0x556c8a=await callAnalysisApi(_0x2f514e,_0x256bb1);return _0x556c8a[_0x4472be(0x53f)];}catch(_0x284381){return console[_0x4472be(0x2da)]('Failed\x20to\x20get\x20hint:',_0x284381),_0x4472be(0x8d4);}}async function extractTextFromPdf(_0x51b5fd){const _0xf7e61d=_0x4e7cd8;pdfjsLib[_0xf7e61d(0x58a)][_0xf7e61d(0x574)]=_0xf7e61d(0x67f);const _0x162631=await _0x51b5fd[_0xf7e61d(0x26d)](),_0x297439=await pdfjsLib[_0xf7e61d(0x121)](_0x162631)['promise'],_0x85847a=_0x297439[_0xf7e61d(0x57e)];let _0x514040='';for(let _0x57dc9c=0x1;_0x57dc9c<=_0x85847a;_0x57dc9c++){const _0x39f344=await _0x297439['getPage'](_0x57dc9c),_0x41f90d=await _0x39f344[_0xf7e61d(0x595)](),_0x147d17=_0x41f90d[_0xf7e61d(0xac9)][_0xf7e61d(0xa26)](_0x2b8e64=>_0x2b8e64['str'])['join']('\x20');_0x514040+=_0x147d17+'\x0a\x0a';}return _0x514040;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x2e4c05){const _0x4923c5=_0x4e7cd8,_0x4b06bd=document[_0x4923c5(0x1c2)](_0x4923c5(0xbf9)),_0x8c9bab=document[_0x4923c5(0x1c2)]('blueprint-topics-list'),_0x5ebf02=document[_0x4923c5(0x1c2)](_0x4923c5(0x52a));_0x4b06bd[_0x4923c5(0x12e)][_0x4923c5(0x1f9)](_0x4923c5(0x30a)),_0x8c9bab['innerHTML']='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x5ebf02[_0x4923c5(0x12e)]['add'](_0x4923c5(0x30a));try{const _0x58eb7c=_0x4923c5(0xb51)+_0x2e4c05+_0x4923c5(0x8b2),_0x14f6ff={'type':_0x4923c5(0x469),'properties':{'gradeLevel':{'type':_0x4923c5(0x942)},'curriculum':{'type':'ARRAY','items':{'type':_0x4923c5(0x469),'properties':{'sara':{'type':_0x4923c5(0x942)},'mainTopics':{'type':_0x4923c5(0x6ae),'items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x4923c5(0x6ae),'items':{'type':'STRING'}}},'required':['topicName',_0x4923c5(0x1e8)]}}},'required':[_0x4923c5(0x14d),_0x4923c5(0x9c6)]}}},'required':[_0x4923c5(0x3e2),_0x4923c5(0x95f)]},_0x42d8cf=await callAnalysisApi(_0x58eb7c,_0x14f6ff);if(_0x42d8cf&&_0x42d8cf[_0x4923c5(0x95f)])extractedBlueprintData=_0x42d8cf,renderBlueprintTopics(_0x42d8cf),_0x5ebf02['classList'][_0x4923c5(0x1f9)](_0x4923c5(0x30a));else throw new Error(_0x4923c5(0x872));}catch(_0x44f53e){console[_0x4923c5(0x2da)](_0x4923c5(0x46a),_0x44f53e),_0x8c9bab[_0x4923c5(0x3e3)]=_0x4923c5(0x919);}}function renderBlueprintTopics(_0x6702e4){const _0x57acc2=_0x4e7cd8,_0x24341b=document[_0x57acc2(0x1c2)](_0x57acc2(0x74b)),_0x5a1be3=_0x6702e4[_0x57acc2(0x3e2)],_0x430b77=_0x57acc2(0xa57)+_0x5a1be3+_0x57acc2(0x16e);let _0x507192='';_0x6702e4['curriculum']['forEach'](_0x1e035c=>{const _0x41f916=_0x57acc2;_0x507192+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x1e035c['sara']+_0x41f916(0x6b3),_0x1e035c['mainTopics']['forEach'](_0xbd0cd4=>{const _0x2eacc9=_0x41f916;_0x507192+=_0x2eacc9(0x982)+_0xbd0cd4['topicName']+_0x2eacc9(0x935),_0xbd0cd4[_0x2eacc9(0x1e8)][_0x2eacc9(0x8ca)](_0x521f7e=>{const _0x3f3ff3=_0x2eacc9;_0x507192+=_0x3f3ff3(0x16b)+_0x521f7e[_0x3f3ff3(0x98e)](/'/g,'\x5c\x27')+_0x3f3ff3(0x356)+_0x5a1be3[_0x3f3ff3(0x98e)](/'/g,'\x5c\x27')+_0x3f3ff3(0x938)+_0x521f7e+_0x3f3ff3(0x914)+_0x521f7e['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x507192+=_0x2eacc9(0x9bd);}),_0x507192+=_0x41f916(0xc4f);}),_0x24341b[_0x57acc2(0x3e3)]=_0x430b77+_0x507192;}async function handleGenerateTeachingContent(_0x1f90c2){const _0x4ac492=_0x4e7cd8,_0x50948c=document[_0x4ac492(0x1c2)](_0x4ac492(0x934)),_0x36d850=document[_0x4ac492(0x1c2)](_0x4ac492(0xc5f));document[_0x4ac492(0x1c2)](_0x4ac492(0x2a9))[_0x4ac492(0x9a1)]='กำลังสร้างเนื้อหา:\x20'+_0x1f90c2,_0x36d850[_0x4ac492(0x3e3)]=_0x4ac492(0x8a8),_0x50948c[_0x4ac492(0x12e)][_0x4ac492(0x1f9)](_0x4ac492(0x30a));try{const _0xf5af62=_0x4ac492(0xaa2)+_0x1f90c2+_0x4ac492(0x9e1),_0x16c55b={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x4ac492(0x6ae),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x4ac492(0x6ae),'items':{'type':'STRING'}},'stepByStepExamples':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x4ac492(0x942)},'solution':{'type':_0x4ac492(0x942)}},'required':[_0x4ac492(0x3cb),_0x4ac492(0x2cd)]}},'teacherTips':{'type':_0x4ac492(0x6ae),'items':{'type':_0x4ac492(0x942)}}},'required':['keyConcepts',_0x4ac492(0x9b3),_0x4ac492(0xa86),'teacherTips']},_0x30e93a=await callAnalysisApi(_0xf5af62,_0x16c55b);displayTeachingContent(_0x30e93a,_0x1f90c2);}catch(_0x43b94d){console[_0x4ac492(0x2da)]('Error\x20generating\x20teaching\x20content:',_0x43b94d),_0x36d850[_0x4ac492(0x3e3)]=_0x4ac492(0xc33)+_0x43b94d[_0x4ac492(0x516)]+_0x4ac492(0x35e);}}function displayTeachingContent(_0xe9896b,_0x257e08){const _0x472f5c=_0x4e7cd8,_0x4ed972=document[_0x472f5c(0x1c2)](_0x472f5c(0xc5f));document[_0x472f5c(0x1c2)](_0x472f5c(0x2a9))[_0x472f5c(0x9a1)]=_0x472f5c(0x77b)+_0x257e08;const _0x3790f4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0xe9896b['keyConcepts'][_0x472f5c(0xa26)](_0x1842b9=>_0x472f5c(0x2bd)+_0x1842b9+_0x472f5c(0x775))['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0xe9896b[_0x472f5c(0x9b3)][_0x472f5c(0xa26)](_0x477e98=>'<li>'+_0x477e98+_0x472f5c(0x775))[_0x472f5c(0xab6)]('')+_0x472f5c(0xc04)+_0xe9896b[_0x472f5c(0xa86)]['map'](_0x177252=>_0x472f5c(0xa61)+_0x177252[_0x472f5c(0x3cb)]+_0x472f5c(0x20d)+_0x177252[_0x472f5c(0x2cd)]+_0x472f5c(0x891))[_0x472f5c(0xab6)]('')+_0x472f5c(0x716)+_0xe9896b['teacherTips'][_0x472f5c(0xa26)](_0x1488bf=>_0x472f5c(0x2bd)+_0x1488bf+_0x472f5c(0x775))['join']('')+_0x472f5c(0xbc7);_0x4ed972['innerHTML']=_0x3790f4;if(window[_0x472f5c(0x196)])MathJax[_0x472f5c(0x7ca)]([_0x4ed972]);}async function generateQuizForSingleTopic(_0x4c6853){const _0x2b9e8c=_0x4e7cd8;console['log'](_0x2b9e8c(0x455)+_0x4c6853+'\x22');const _0x282771=document['getElementById'](_0x2b9e8c(0x98c)),_0x39673c=_0x282771['files']['length']>0x0?_0x282771[_0x2b9e8c(0x69f)][0x0]:null;let _0x377291=null;if(_0x39673c)try{const _0x5f3e57=new FileReader();_0x5f3e57['readAsDataURL'](_0x39673c);const _0x41a1b6=await new Promise((_0x4a9914,_0x162300)=>{const _0x36e2d2=_0x2b9e8c;_0x5f3e57[_0x36e2d2(0x920)]=()=>_0x4a9914(_0x5f3e57[_0x36e2d2(0x261)][_0x36e2d2(0x671)](',')[0x1]),_0x5f3e57[_0x36e2d2(0x311)]=_0x4c3c5b=>_0x162300(_0x4c3c5b);});_0x377291=[{'inlineData':{'mimeType':_0x39673c['type'],'data':_0x41a1b6}}];}catch(_0x59ae64){console['error'](_0x2b9e8c(0x421),_0x59ae64),showMessage(_0x2b9e8c(0xa5e));return;}generateQuiz(_0x4c6853,null,null,_0x377291,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x43d48c=null){const _0x4a039=_0x4e7cd8,_0x499298=document[_0x4a039(0x1c2)]('loader'),_0x3d2495=document[_0x4a039(0x1c2)]('loader-text');let _0x2f8b28;if(_0x43d48c)_0x2f8b28=_0x43d48c;else{const _0x4c7448=document['getElementById'](_0x4a039(0xc06)),_0x1deccb=_0x4c7448[_0x4a039(0x69f)][0x0];if(!_0x1deccb){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x3d2495[_0x4a039(0x9a1)]=_0x4a039(0xc42);const _0x440f6b=await new Promise((_0x1e222e,_0x46e1ab)=>{const _0x438cef=_0x4a039,_0x17abc6=new FileReader();_0x17abc6[_0x438cef(0x515)](_0x1deccb),_0x17abc6[_0x438cef(0x920)]=()=>_0x1e222e(_0x17abc6[_0x438cef(0x261)][_0x438cef(0x671)](',')[0x1]),_0x17abc6[_0x438cef(0x311)]=_0x46e1ab;});_0x2f8b28=[{'text':_0x4a039(0x820)},{'inlineData':{'mimeType':_0x1deccb['type'],'data':_0x440f6b}}];}const _0x5ba1d8=_0x4a039(0xc51),_0x15b818=_0x4a039(0xc0f),_0x2e9fdb=_0x4a039(0x838),_0x378ffd={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0x4a039(0xc3f),_0x4a039(0x7f4),_0x4a039(0x220)]},'options':{'type':_0x4a039(0x6ae),'items':{'type':_0x4a039(0x942)}},'correctAnswerIndex':{'type':_0x4a039(0x78d)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x4a039(0x945)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4a039(0x942)}},'required':['questionType',_0x4a039(0x13e)]},_0x49bb4b={'type':_0x4a039(0x469),'properties':{'topic':{'type':_0x4a039(0x942)},'questions':{'type':_0x4a039(0x6ae),'items':_0x378ffd}},'required':[_0x4a039(0xcaf),_0x4a039(0x966)]};_0x2f8b28[0x0][_0x4a039(0x4d7)]=_0x2e9fdb,await handleApiCall(_0x2f8b28,_0x4a039(0x5e7),_0x49bb4b);}function proceedToNextQuestion(_0x578aaa){const _0x563705=_0x4e7cd8;studentAnswersPerQuestion[_0x563705(0x6d9)](_0x578aaa),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x563705(0x966)][_0x563705(0xa90)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1df387,_0x3c174d){const _0x495043=_0x4e7cd8,_0x1dcda3=Object[_0x495043(0x9a6)](_0x1df387['players']||{}),_0x1bb813=_0x1dcda3[_0x495043(0xa90)],_0x3a43bf=[..._0x1dcda3][_0x495043(0x327)]((_0x30cbf5,_0x2cbf45)=>_0x2cbf45[_0x495043(0xb20)]-_0x30cbf5[_0x495043(0xb20)]),_0x4abce4=_0x1df387[_0x495043(0x628)];let _0x17a996='';const _0x3a2236=_0x1df387[_0x495043(0x151)][_0x495043(0x966)],_0x351220=_0x3a2236[_0x4abce4],_0x44d84d=_0x343816=>String[_0x495043(0x92e)](0x41+_0x343816);let _0x2b3b38='',_0x3d4c3f='';if(_0x351220){const _0x1fe11=_0x351220[_0x495043(0x93a)]||_0x1df387['shuffledQuiz'][_0x495043(0x769)];if(_0x1fe11===_0x495043(0x4bb)&&_0x351220[_0x495043(0x4d1)]&&_0x351220[_0x495043(0xcab)]!==undefined){const _0x4f287d=_0x351220[_0x495043(0xcab)];_0x2b3b38=_0x351220[_0x495043(0x4d1)][_0x4f287d],_0x3d4c3f=_0x44d84d(_0x4f287d)+'.';}else{if(_0x1fe11==='true_false'){const _0x14ff57=_0x351220[_0x495043(0x209)]===!![]||String(_0x351220['correctAnswer'])[_0x495043(0x7a9)]()===_0x495043(0xaa3);_0x14ff57?(_0x2b3b38=_0x495043(0x22a),_0x3d4c3f='ก.'):(_0x2b3b38=_0x495043(0x83f),_0x3d4c3f='ข.');}else{if(_0x1fe11==='matching_item')_0x2b3b38=_0x351220[_0x495043(0x47a)]||'-',_0x3d4c3f='';else _0x1fe11===_0x495043(0xc3f)&&(_0x2b3b38=_0x351220[_0x495043(0x493)]||'-',_0x3d4c3f='');}}}_0x2b3b38&&(_0x17a996=_0x495043(0x3a7)+(_0x4abce4+0x1)+_0x495043(0x30d)+_0x3d4c3f+'\x20'+_0x2b3b38+_0x495043(0x593));const _0x1afc43=_0x3a43bf[_0x495043(0xa26)](_0xd6022c=>{const _0x496cfe=_0x495043;let _0x5c0602=![];if(_0xd6022c[_0x496cfe(0x361)]&&_0x4abce4!==-0x1){const _0x1f915b=_0xd6022c[_0x496cfe(0x361)][_0x496cfe(0x135)](_0x2431c2=>_0x2431c2[_0x496cfe(0x168)]===_0x4abce4);_0x1f915b&&_0x1f915b[_0x496cfe(0xaf8)]&&(_0x5c0602=!![]);}const _0x50b00a=_0x5c0602?_0x496cfe(0x8da):_0x496cfe(0x48d);return _0x496cfe(0xb9d)+_0x50b00a+'\x22><span>'+_0xd6022c[_0x496cfe(0x82b)]+_0x496cfe(0x123)+_0xd6022c['score']+_0x496cfe(0x4ae);})['join'](''),_0x511225=_0x3a2236[_0x495043(0xa26)]((_0x4c3bfd,_0x43b77d)=>{const _0x4f4c19=_0x495043,_0x583616=_0x1dcda3[_0x4f4c19(0x473)](_0x4f869d=>_0x4f869d[_0x4f4c19(0x361)]&&_0x4f869d[_0x4f4c19(0x361)]['find'](_0x3b28f6=>_0x3b28f6[_0x4f4c19(0x168)]===_0x43b77d&&_0x3b28f6[_0x4f4c19(0xaf8)]))[_0x4f4c19(0xa90)],_0x408669=_0x43b77d===_0x4abce4,_0x571de1=_0x408669?_0x4f4c19(0x3b8):_0x4f4c19(0x99b);return _0x4f4c19(0x15c)+_0x571de1+_0x4f4c19(0x9b8)+(_0x43b77d+0x1)+_0x4f4c19(0x666)+_0x583616+_0x4f4c19(0xbbf)+_0x1bb813+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x495043(0xab6)]('');let _0x1c3d84='',_0x5b29ca='';if(_0x3c174d){const _0x3faaff=_0x1df387[_0x495043(0x628)]>=_0x3a2236['length']-0x1;_0x1c3d84='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x3faaff?_0x495043(0x833):'ข้อต่อไป')+_0x495043(0x5a6),_0x5b29ca=_0x495043(0xc44);}const _0x38a374='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x1df387['shuffledQuiz'][_0x495043(0xcaf)]+_0x495043(0x741)+_0x5b29ca+_0x495043(0x396)+_0x17a996+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x1afc43||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x511225+_0x495043(0x4fe)+(_0x3c174d?_0x495043(0x136)+_0x1c3d84+_0x495043(0xc4f):'')+_0x495043(0x6f9);liveGameView[_0x495043(0x3e3)]=_0x38a374;if(window[_0x495043(0x196)]){const _0x1e0039=document[_0x495043(0x1c2)](_0x495043(0x17a));_0x1e0039&&MathJax[_0x495043(0x7ca)]([_0x1e0039]);}if(_0x3c174d){document[_0x495043(0x1c2)]('next-sync-question-btn')[_0x495043(0xa41)]=async()=>{const _0x339ec9=_0x495043,_0x1251a2=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x17ffef=_0x1df387['currentQuestionIndex']+0x1;if(_0x17ffef<_0x3a2236[_0x339ec9(0xa90)]){const _0x380950={};Object['keys'](_0x1df387[_0x339ec9(0xb3e)])['forEach'](_0x52146c=>{const _0x574c04=_0x339ec9;_0x380950[_0x574c04(0x47f)+_0x52146c+_0x574c04(0x7d5)]=![],_0x380950['players.'+_0x52146c+_0x574c04(0x610)]=null;}),await updateDoc(_0x1251a2,{..._0x380950,'status':_0x339ec9(0x3cb),'currentQuestionIndex':_0x17ffef,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1251a2,{'status':'podium'});};const _0x4660a2=document['getElementById'](_0x495043(0x5c9));_0x4660a2&&(_0x4660a2[_0x495043(0xa41)]=()=>{const _0x358478=_0x495043;showConfirmation(_0x358478(0xa91),async()=>{const _0x8bab60=_0x358478,_0x356abb=doc(db,_0x8bab60(0xbc5)+appId+_0x8bab60(0x1be),currentLiveGameId);await updateDoc(_0x356abb,{'status':_0x8bab60(0xab0)});});});}}async function handleGenerateParallelFromBank(_0x191e3d){const _0x125339=_0x4e7cd8,_0x5e159a=document[_0x125339(0x1c2)](_0x125339(0x229)),_0x31e111=document[_0x125339(0x1c2)]('project-quizzes-list');_0x31e111[_0x125339(0x12e)]['add'](_0x125339(0x30a));const _0x4f76a7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x191e3d[_0x125339(0xcaf)]+_0x125339(0xa36);_0x5e159a['insertAdjacentHTML']('beforeend',_0x4f76a7);const _0x1876c5=document['getElementById'](_0x125339(0x42d));try{const _0x141642=_0x191e3d[_0x125339(0x966)]['map']((_0x4e3822,_0x4871c8)=>{const _0x12bbe0=_0x125339;let _0x505c47=_0x4871c8+0x1+'.\x20'+(_0x4e3822['questionText']||_0x4e3822[_0x12bbe0(0x732)])+'\x0a';if(_0x4e3822['options'])_0x505c47+=_0x4e3822[_0x12bbe0(0x4d1)]['map']((_0x185b18,_0x2a6d92)=>_0x12bbe0(0x84c)+(_0x2a6d92===_0x4e3822[_0x12bbe0(0xcab)]?'[*]':'')+'\x20'+_0x185b18)['join']('\x0a');else _0x4e3822[_0x12bbe0(0x493)]&&(_0x505c47+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x4e3822[_0x12bbe0(0x493)]);return _0x505c47;})[_0x125339(0xab6)]('\x0a\x0a');_0x1876c5['textContent']=_0x125339(0x2fd);const _0x171680=_0x125339(0x12f)+_0x191e3d[_0x125339(0xcaf)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x141642+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x125339(0x6cb),_0x369c90={'type':_0x125339(0x469),'properties':{'questionText':{'type':_0x125339(0x942)},'questionType':{'type':'STRING','enum':[_0x125339(0x4bb),'short_answer',_0x125339(0x7f4),'matching_item']},'options':{'type':_0x125339(0x6ae),'items':{'type':_0x125339(0x942)}},'correctAnswerIndex':{'type':_0x125339(0x78d)},'idealAnswer':{'type':_0x125339(0x942)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x125339(0x942)},'correctResponse':{'type':_0x125339(0x942)},'allResponses':{'type':_0x125339(0x6ae),'items':{'type':'STRING'}},'explanation':{'type':_0x125339(0x942)},'imageCode':{'type':'STRING'}},'required':[_0x125339(0x93a),_0x125339(0x13e)]},_0x25a9f7={'type':'OBJECT','properties':{'topic':{'type':_0x125339(0x942)},'questions':{'type':_0x125339(0x6ae),'items':_0x369c90}},'required':[_0x125339(0xcaf),_0x125339(0x966)]},_0x27bfbc=await callAnalysisApi(_0x171680,_0x25a9f7),_0x6cd2be=_0x27bfbc[_0x125339(0x966)][_0x125339(0xa26)]((_0x3f8df1,_0x3e98c3)=>({..._0x3f8df1,'id':'q_'+Date['now']()+'_'+_0x3e98c3})),_0x1ed68f=_0x125339(0x415)+_0x191e3d[_0x125339(0xcaf)],_0x4cb62c={'topic':_0x1ed68f,'questions':_0x6cd2be,'quizType':_0x191e3d[_0x125339(0x769)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x125339(0xae2),'settings':_0x191e3d[_0x125339(0x9e2)],'quizMode':_0x125339(0x605),'pairedQuizId':null,'lessonPlan':null};let _0xb2e86b;while(!![]){_0xb2e86b=Math[_0x125339(0xa32)](0x3e8+Math[_0x125339(0xad8)]()*0x2328)[_0x125339(0x8bf)]();const _0x5b8f5e=await getDoc(doc(db,_0x125339(0xbc5)+appId+'/public/data/quizzes',_0xb2e86b));if(!_0x5b8f5e[_0x125339(0x7b7)]())break;}await setDoc(doc(db,_0x125339(0xbc5)+appId+'/public/data/quizzes',_0xb2e86b),_0x4cb62c),showMessage(_0x125339(0x1ff));}catch(_0x583a49){console[_0x125339(0x2da)](_0x125339(0x559),_0x583a49),showMessage(_0x125339(0xb7c)+_0x583a49[_0x125339(0x516)]);}finally{const _0x4370d3=document[_0x125339(0x1c2)](_0x125339(0x8a6));_0x4370d3&&_0x4370d3[_0x125339(0x1f9)](),_0x31e111['classList']['remove'](_0x125339(0x30a));}}async function handleGenerateParallelPostTest(_0x545d46){const _0x28e835=_0x4e7cd8,_0xcc2b93=document[_0x28e835(0x1c2)](_0x28e835(0x229)),_0x2cca66=document[_0x28e835(0x1c2)]('project-quizzes-list');_0x2cca66['classList']['add'](_0x28e835(0x30a));const _0x31f776=_0x28e835(0x2ef);_0xcc2b93[_0x28e835(0x249)](_0x28e835(0x5f6),_0x31f776);try{const _0x5c13ee=_0x545d46[_0x28e835(0x966)][_0x28e835(0xa26)]((_0x183da2,_0x175c33)=>{const _0x350cbe=_0x28e835;let _0x5bcb8d=_0x175c33+0x1+'.\x20'+(_0x183da2[_0x350cbe(0x2b3)]||_0x183da2['stem']);if(_0x183da2[_0x350cbe(0x4d1)])_0x5bcb8d+=_0x350cbe(0x2b9)+_0x183da2[_0x350cbe(0x4d1)]['join'](',\x20');return _0x5bcb8d;})[_0x28e835(0xab6)]('\x0a\x0a'),_0x468cc2=_0x28e835(0xa35)+_0x545d46[_0x28e835(0xcaf)]+_0x28e835(0xa5b)+_0x5c13ee+_0x28e835(0xc0e)+simpleMathPrompt+_0x28e835(0x6cb),_0x52f876={'type':_0x28e835(0x469),'properties':{'topic':{'type':_0x28e835(0x942)},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x28e835(0x942)},'options':{'type':_0x28e835(0x6ae),'items':{'type':_0x28e835(0x942)}},'correctAnswerIndex':{'type':_0x28e835(0x78d)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x28e835(0x942)}},'required':[_0x28e835(0x2b3),_0x28e835(0x13e)]}}},'required':[_0x28e835(0xcaf),_0x28e835(0x966)]},_0x5edb63=await callAnalysisApi(_0x468cc2,_0x52f876),_0x33b0a0=_0x545d46['topic'][_0x28e835(0x98e)](_0x28e835(0x6df),'')[_0x28e835(0x492)](),_0x7fd6e3=_0x28e835(0x51e)+_0x33b0a0,_0x9e9144={..._0x5edb63,'topic':_0x7fd6e3,'quizType':_0x545d46[_0x28e835(0x769)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x28e835(0xae2),'settings':_0x545d46[_0x28e835(0x9e2)],'quizMode':'post-test','pairedQuizId':_0x545d46['id']};let _0x51d725;while(!![]){_0x51d725=Math['floor'](0x3e8+Math[_0x28e835(0xad8)]()*0x2328)['toString']();const _0x81f5e0=await getDoc(doc(db,_0x28e835(0xbc5)+appId+'/public/data/quizzes',_0x51d725));if(!_0x81f5e0[_0x28e835(0x7b7)]())break;}await setDoc(doc(db,_0x28e835(0xbc5)+appId+_0x28e835(0x5e2),_0x51d725),_0x9e9144);const _0x5c7e0e=doc(db,_0x28e835(0xbc5)+appId+_0x28e835(0x5e2),_0x545d46['id']);await updateDoc(_0x5c7e0e,{'pairedQuizId':_0x51d725}),showMessage(_0x28e835(0x30f));}catch(_0x3f6215){console[_0x28e835(0x2da)]('Error\x20generating\x20parallel\x20post-test:',_0x3f6215),showMessage(_0x28e835(0xb7c)+_0x3f6215[_0x28e835(0x516)]);}finally{const _0x33b050=document['getElementById'](_0x28e835(0x8a6));if(_0x33b050)_0x33b050[_0x28e835(0x1f9)]();_0x2cca66[_0x28e835(0x12e)][_0x28e835(0x1f9)](_0x28e835(0x30a));}}async function handleGenerateParallelTest(_0x41a217=null){const _0x136ab5=_0x4e7cd8;let _0x19fb46=_0x41a217;if(!_0x19fb46){const _0x252722=document[_0x136ab5(0x1c2)]('parallel-test-upload-input');_0x252722[_0x136ab5(0x69f)][_0x136ab5(0xa90)]>0x0&&(_0x19fb46=_0x252722['files'][0x0]);}if(!_0x19fb46){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x5e3bf7=document['getElementById'](_0x136ab5(0xad6)),_0x5a421a=document['getElementById'](_0x136ab5(0xa09)),_0x54f141=document[_0x136ab5(0x1c2)]('generated-quiz-container'),_0x4f4578=document[_0x136ab5(0x1c2)](_0x136ab5(0xa27));_0x4f4578[_0x136ab5(0x78a)]=!![],document[_0x136ab5(0x1c2)](_0x136ab5(0x280))[_0x136ab5(0x12e)][_0x136ab5(0x1f9)](_0x136ab5(0x30a)),_0x54f141[_0x136ab5(0x3e3)]='',_0x5e3bf7['classList']['remove'](_0x136ab5(0x30a)),_0x5a421a[_0x136ab5(0x9a1)]=_0x136ab5(0x533);const _0x123ac3=new FileReader();_0x123ac3[_0x136ab5(0x515)](_0x19fb46),_0x123ac3['onload']=async()=>{const _0x667ab8=_0x136ab5;try{const _0x36c7c3=_0x123ac3[_0x667ab8(0x261)][_0x667ab8(0x671)](',')[0x1],_0xfb005c=_0x19fb46[_0x667ab8(0x248)];_0x5a421a[_0x667ab8(0x9a1)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x631103=document[_0x667ab8(0x1c2)]('include-images-checkbox')[_0x667ab8(0x564)],_0x4a017c=_0x631103?_0x667ab8(0xabc):'',_0x358fce=_0x667ab8(0x31b),_0x434ab3={'type':_0x667ab8(0x469),'properties':{'questionText':{'type':_0x667ab8(0x942)},'questionType':{'type':'STRING','enum':[_0x667ab8(0x4bb),'short_answer']},'options':{'type':_0x667ab8(0x6ae),'items':{'type':_0x667ab8(0x942)}},'correctAnswerIndex':{'type':_0x667ab8(0x78d)},'idealAnswer':{'type':_0x667ab8(0x942)},'explanation':{'type':_0x667ab8(0x942)},'imageCode':{'type':_0x667ab8(0x942)}},'required':['questionText','questionType',_0x667ab8(0x13e)]},_0x1100c0={'type':_0x667ab8(0x469),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x667ab8(0x6ae),'items':_0x434ab3}},'required':[_0x667ab8(0xcaf),_0x667ab8(0x966)]},_0x1cec37=[{'text':_0x358fce},{'inlineData':{'mimeType':_0xfb005c,'data':_0x36c7c3}}];await handleApiCall(_0x1cec37,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x1100c0);}catch(_0x36b4bc){console[_0x667ab8(0x2da)](_0x667ab8(0x98a),_0x36b4bc),showMessage('เกิดข้อผิดพลาด:\x20'+_0x36b4bc[_0x667ab8(0x516)]),_0x54f141['innerHTML']=_0x667ab8(0x785);}finally{_0x5e3bf7[_0x667ab8(0x12e)]['add'](_0x667ab8(0x30a)),_0x4f4578[_0x667ab8(0x78a)]=![];}},_0x123ac3[_0x136ab5(0x311)]=_0x5747b1=>{const _0x522c3b=_0x136ab5;console['error'](_0x522c3b(0x8e6),_0x5747b1),showMessage(_0x522c3b(0x550)),_0x5e3bf7['classList'][_0x522c3b(0x7d7)](_0x522c3b(0x30a)),_0x4f4578[_0x522c3b(0x78a)]=![];};}async function handleRegenerateQuestionInEditor(_0x525563){const _0x234488=_0x4e7cd8;if(currentEditingQuizData===null)return;const _0x191ce8=document[_0x234488(0x8b9)](_0x234488(0xa6d)+_0x525563+'\x22]');_0x191ce8&&(_0x191ce8[_0x234488(0x3e3)]=_0x234488(0xa24));const _0x512cd8=currentEditingQuizData[_0x234488(0x966)][_0x525563],_0x59733c=currentEditingQuizData[_0x234488(0xcaf)],_0x3b58c5=_0x512cd8[_0x234488(0x93a)],_0x857628={'type':'OBJECT','properties':{'questionText':{'type':_0x234488(0x942)},'options':{'type':_0x234488(0x6ae),'items':{'type':_0x234488(0x942)}},'correctAnswerIndex':{'type':_0x234488(0x78d)},'explanation':{'type':_0x234488(0x942)}},'required':[_0x234488(0x2b3),_0x234488(0x4d1),_0x234488(0xcab),_0x234488(0x13e)]},_0x33e7c1={'type':_0x234488(0x469),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x234488(0x942)},'explanation':{'type':_0x234488(0x942)}},'required':[_0x234488(0x2b3),_0x234488(0x493),'explanation']};let _0x44ba21,_0x3f6103='';_0x3b58c5===_0x234488(0x4bb)?(_0x44ba21=_0x857628,_0x3f6103=_0x234488(0x26b)):(_0x44ba21=_0x33e7c1,_0x3f6103=_0x234488(0x471));const _0x6215ac=_0x234488(0xb24)+_0x59733c+_0x234488(0x514)+_0x3f6103+_0x234488(0x2fe)+(_0x512cd8[_0x234488(0x2b3)]||_0x512cd8[_0x234488(0x732)])+_0x234488(0x258)+simpleMathPrompt;try{const _0x5da672=await callAnalysisApi(_0x6215ac,_0x44ba21);currentEditingQuizData[_0x234488(0x966)][_0x525563]={..._0x512cd8,..._0x5da672},renderQuizEditor(currentEditingQuizData);}catch(_0x5d219f){console[_0x234488(0x2da)](_0x234488(0x1a4),_0x5d219f),showMessage(_0x234488(0x73c)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x2bd7e2=_0x4e7cd8,_0xa952b8=document[_0x2bd7e2(0x1c2)](_0x2bd7e2(0x7e8));currentMode===_0x2bd7e2(0x39a)?(currentMode=_0x2bd7e2(0x9be),_0xa952b8[_0x2bd7e2(0x3e3)]=_0x2bd7e2(0x751),_0xa952b8[_0x2bd7e2(0x8d7)]=_0x2bd7e2(0xa0f),showView(_0x2bd7e2(0xab7))):(currentMode=_0x2bd7e2(0x39a),_0xa952b8[_0x2bd7e2(0x3e3)]=_0x2bd7e2(0x83a),_0xa952b8[_0x2bd7e2(0x8d7)]=_0x2bd7e2(0x404),showView(_0x2bd7e2(0x39a)));}function handleAdminLogin(){const _0x37b64a=_0x4e7cd8,_0x239b2a=document[_0x37b64a(0x1c2)](_0x37b64a(0xb46)),_0x457c71=document[_0x37b64a(0x1c2)]('password-error-msg');if(_0x239b2a[_0x37b64a(0x9f1)]===_0x37b64a(0x8f4)){adminPasswordModal[_0x37b64a(0x12e)][_0x37b64a(0x7d7)](_0x37b64a(0x30a)),_0x239b2a[_0x37b64a(0x9f1)]='',_0x457c71[_0x37b64a(0x12e)][_0x37b64a(0x7d7)]('hidden'),currentMode=_0x37b64a(0x9be);const _0x1cafc1=document[_0x37b64a(0x1c2)](_0x37b64a(0x7e8));_0x1cafc1[_0x37b64a(0x3e3)]=_0x37b64a(0x751),_0x1cafc1[_0x37b64a(0x8d7)]='สลับไปโหมดนักเรียน',showView(_0x37b64a(0xab7));}else _0x457c71[_0x37b64a(0x12e)][_0x37b64a(0x1f9)]('hidden'),_0x239b2a[_0x37b64a(0x9f1)]='';}function switchProjectTab(_0x22c2d2){const _0x4648bb=_0x4e7cd8;[_0x4648bb(0x8f5),_0x4648bb(0x84d),_0x4648bb(0xaea)]['forEach'](_0x236fc7=>{const _0x5a8532=_0x4648bb;document[_0x5a8532(0x1c2)](_0x236fc7+_0x5a8532(0x85e))['classList'][_0x5a8532(0x1f9)]('active'),document['getElementById'](_0x236fc7+'-tab-content')[_0x5a8532(0x12e)][_0x5a8532(0x7d7)](_0x5a8532(0x30a));}),document[_0x4648bb(0x1c2)](_0x22c2d2+_0x4648bb(0x85e))[_0x4648bb(0x12e)][_0x4648bb(0x7d7)]('active'),document['getElementById'](_0x22c2d2+_0x4648bb(0x527))['classList'][_0x4648bb(0x1f9)](_0x4648bb(0x30a));}function switchQuizDetailTab(_0x1a5255){const _0x2eabdf=_0x4e7cd8,_0x1b16c3={'analytics':{'btn':_0x2eabdf(0xcb8),'content':_0x2eabdf(0x9b2)},'scores':{'btn':_0x2eabdf(0x131),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x2eabdf(0x6af),'content':_0x2eabdf(0x956)}};for(const _0x123681 in _0x1b16c3){document[_0x2eabdf(0x1c2)](_0x1b16c3[_0x123681][_0x2eabdf(0x4b8)])[_0x2eabdf(0x12e)]['remove'](_0x2eabdf(0xae2)),document['getElementById'](_0x1b16c3[_0x123681][_0x2eabdf(0x529)])[_0x2eabdf(0x12e)][_0x2eabdf(0x7d7)](_0x2eabdf(0x30a));}document[_0x2eabdf(0x1c2)](_0x1b16c3[_0x1a5255]['btn'])[_0x2eabdf(0x12e)]['add'](_0x2eabdf(0xae2)),document['getElementById'](_0x1b16c3[_0x1a5255][_0x2eabdf(0x529)])[_0x2eabdf(0x12e)][_0x2eabdf(0x1f9)](_0x2eabdf(0x30a));}function showMessage(_0x268378,_0x5d1581=null){const _0x3eb968=_0x4e7cd8;modalMessage[_0x3eb968(0x9a1)]=_0x268378,modalConfirmAction=_0x5d1581,messageModal['classList'][_0x3eb968(0x1f9)](_0x3eb968(0x30a));}function showConfirmation(_0x3939f7,_0x3b0e7c){const _0x53eedd=_0x4e7cd8;document[_0x53eedd(0x1c2)]('confirmation-message')[_0x53eedd(0x9a1)]=_0x3939f7,document[_0x53eedd(0x1c2)]('confirmation-modal')[_0x53eedd(0x8b9)]('h3')['textContent']='ยืนยันการกระทำ',confirmAction=_0x3b0e7c,confirmationModal[_0x53eedd(0x12e)][_0x53eedd(0x1f9)]('hidden');}function listenForProjects(){const _0x59511c=_0x4e7cd8,_0x95cf79=doc(db,_0x59511c(0x7a0),_0x59511c(0x5e6));onSnapshot(_0x95cf79,_0x24418e=>{const _0x58586b=_0x59511c;if(_0x24418e['exists']()){const _0x3b13d5=_0x24418e[_0x58586b(0x921)]();globalDashboardSettings['projectSort']=_0x3b13d5['projectSort']||_0x58586b(0x3fa),globalDashboardSettings[_0x58586b(0x43a)]=_0x3b13d5[_0x58586b(0x43a)]||[],globalDashboardSettings['projectOrder']=_0x3b13d5[_0x58586b(0x895)]||[];}allProjects[_0x58586b(0xa90)]>0x0&&renderProjects();});const _0x1e0124=collection(db,_0x59511c(0xbc5)+appId+_0x59511c(0x6e3));unsubscribeProjectsListener=onSnapshot(_0x1e0124,_0x447336=>{const _0x4364cf=_0x59511c;allProjects=_0x447336[_0x4364cf(0x378)]['map'](_0x383ac2=>({'id':_0x383ac2['id'],..._0x383ac2['data']()})),renderProjects();},_0x2261a3=>{const _0x1f1886=_0x59511c;console[_0x1f1886(0x2da)](_0x1f1886(0x756),_0x2261a3),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x3b5a34,_0x3556a4){const _0x49d538=_0x4e7cd8;document['querySelectorAll'](_0x49d538(0x94e))[_0x49d538(0x8ca)](_0x1ec473=>_0x1ec473['remove']());const _0x21d7c8=[_0x49d538(0x817),_0x49d538(0x708),_0x49d538(0x7a1),'#D1FAE5','#DBEAFE',_0x49d538(0x749),_0x49d538(0xafd),_0x49d538(0x197),_0x49d538(0x1ec)],_0x4be866=document[_0x49d538(0x601)]('div');_0x4be866['className']=_0x49d538(0x725),_0x21d7c8['forEach'](_0x5b92ef=>{const _0x21456a=_0x49d538,_0x4fb19b=document[_0x21456a(0x601)](_0x21456a(0x691));_0x4fb19b[_0x21456a(0x9f6)]=_0x21456a(0x485),_0x4fb19b[_0x21456a(0xa10)][_0x21456a(0x494)]=_0x5b92ef,_0x4fb19b[_0x21456a(0xa37)](_0x21456a(0xbdd),()=>{handleProjectColorChange(_0x3556a4,_0x5b92ef),_0x4be866['remove']();}),_0x4be866[_0x21456a(0xb7b)](_0x4fb19b);}),document[_0x49d538(0xa68)][_0x49d538(0xb7b)](_0x4be866);const _0x2e6bb6=_0x3b5a34[_0x49d538(0xac2)]();_0x4be866[_0x49d538(0xa10)]['top']=_0x2e6bb6['bottom']+window['scrollY']+'px',_0x4be866[_0x49d538(0xa10)][_0x49d538(0x993)]=_0x2e6bb6[_0x49d538(0x993)]+window['scrollX']-_0x4be866[_0x49d538(0x978)]/0x2+'px';}async function handleProjectColorChange(_0x3c9fa6,_0x1f472c){const _0x45c879=_0x4e7cd8,_0x2711c3=doc(db,_0x45c879(0xbc5)+appId+_0x45c879(0x6e3),_0x3c9fa6);try{await updateDoc(_0x2711c3,{'color':_0x1f472c});}catch(_0x158c22){console[_0x45c879(0x2da)]('Error\x20updating\x20project\x20color:',_0x158c22),showMessage(_0x45c879(0x99e));}}async function renderProjects(){const _0x5855a4=_0x4e7cd8,_0x3ba613=globalDashboardSettings[_0x5855a4(0x338)]||_0x5855a4(0x3fa),_0x23c545=new Set(globalDashboardSettings[_0x5855a4(0x43a)]||[]),_0x5d7868=globalDashboardSettings['projectView']||'grid',_0x40f1ae=document[_0x5855a4(0x1c2)](_0x5855a4(0x580)),_0x145546=document[_0x5855a4(0x1c2)](_0x5855a4(0x4bd));_0x40f1ae[_0x5855a4(0x12e)]['toggle'](_0x5855a4(0xae2),_0x5d7868===_0x5855a4(0x9f7)),_0x145546[_0x5855a4(0x12e)][_0x5855a4(0x770)]('active',_0x5d7868===_0x5855a4(0xbf6)),document['getElementById'](_0x5855a4(0x887))[_0x5855a4(0x9f1)]=_0x3ba613;const _0x52c821=document['getElementById']('project-search-input')[_0x5855a4(0x9f1)]['toLowerCase']();let _0x51e24e=allProjects[_0x5855a4(0x473)](_0xfd7d68=>_0xfd7d68[_0x5855a4(0xa74)]['toLowerCase']()[_0x5855a4(0x4c2)](_0x52c821));const _0x25b27f=_0x51e24e['filter'](_0x90b946=>_0x23c545[_0x5855a4(0x85b)](_0x90b946['id'])),_0x54101f=_0x51e24e['filter'](_0x5c2476=>!_0x23c545[_0x5855a4(0x85b)](_0x5c2476['id'])),_0x1a11c3=(_0x158371,_0x5c391c)=>{const _0x1bdc79=_0x5855a4;switch(_0x3ba613){case _0x1bdc79(0x3b2):return _0x158371[_0x1bdc79(0xa74)]['localeCompare'](_0x5c391c[_0x1bdc79(0xa74)],'th');case'name_desc':return _0x5c391c[_0x1bdc79(0xa74)][_0x1bdc79(0x8d0)](_0x158371[_0x1bdc79(0xa74)],'th');case _0x1bdc79(0x2a7):return new Date(_0x158371['createdAt'])-new Date(_0x5c391c[_0x1bdc79(0x561)]);default:return new Date(_0x5c391c[_0x1bdc79(0x561)])-new Date(_0x158371[_0x1bdc79(0x561)]);}};_0x25b27f['sort'](_0x1a11c3),_0x54101f[_0x5855a4(0x327)](_0x1a11c3);const _0x3a44c1=[..._0x25b27f,..._0x54101f],_0x2069a5=globalDashboardSettings[_0x5855a4(0x895)]||[];_0x2069a5[_0x5855a4(0xa90)]>0x0&&_0x5d7868===_0x5855a4(0x9f7)&&_0x3a44c1['sort']((_0x1c380a,_0x5e4661)=>{const _0x19fe46=_0x5855a4,_0x114904=_0x2069a5[_0x19fe46(0xb27)](_0x1c380a['id']),_0x3603b=_0x2069a5['indexOf'](_0x5e4661['id']);if(_0x114904===-0x1)return 0x1;if(_0x3603b===-0x1)return-0x1;return _0x114904-_0x3603b;});const _0x474c15={};await Promise[_0x5855a4(0x3ca)](_0x3a44c1['map'](async _0x9468b7=>{const _0x278e1f=_0x5855a4,_0x5e8956=query(collection(db,_0x278e1f(0xbc5)+appId+_0x278e1f(0x5e2)),where('projectId','==',_0x9468b7['id'])),_0x3c590c=await getDocs(_0x5e8956);_0x474c15[_0x9468b7['id']]=_0x3c590c['size'];}));const _0x1efca3=document[_0x5855a4(0x1c2)](_0x5855a4(0x189));let _0x174504='';if(_0x5d7868===_0x5855a4(0x9f7)){_0x1efca3[_0x5855a4(0x9f6)]=_0x5855a4(0x1ac);if(starredQuizzes[_0x5855a4(0xa90)]>0x0&&_0x52c821===''){const _0x6d2757=starredQuizzes[_0x5855a4(0xa26)](_0x508526=>{const _0x4fec84=_0x5855a4,_0x38b8fa=allProjects[_0x4fec84(0x135)](_0x5576a6=>_0x5576a6['id']===_0x508526[_0x4fec84(0xa4a)]);return{..._0x508526,'projectName':_0x38b8fa?_0x38b8fa[_0x4fec84(0xa74)]:_0x4fec84(0xb30)};});_0x174504+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6d2757[_0x5855a4(0xa26)](_0x36ac57=>_0x5855a4(0x944)+_0x36ac57[_0x5855a4(0xcaf)]+'\x22>'+_0x36ac57['topic']+_0x5855a4(0xb28)+_0x36ac57[_0x5855a4(0xa74)]+_0x5855a4(0x6a1)+_0x36ac57[_0x5855a4(0xa74)]+_0x5855a4(0x560))[_0x5855a4(0xab6)]('')+_0x5855a4(0x3dd)+starredQuizzes[_0x5855a4(0xa90)]+_0x5855a4(0xabb);}_0x3a44c1['forEach'](_0x148f47=>{const _0x2736ae=_0x5855a4,_0x46a520=_0x474c15[_0x148f47['id']]??0x0,_0x84f33a=_0x23c545[_0x2736ae(0x85b)](_0x148f47['id']),_0xc7a8a1=_0x148f47['color']||_0x2736ae(0x817),_0x490c4b=parseInt(_0xc7a8a1[_0x2736ae(0x6f5)](0x1,0x3),0x10)*0.299+parseInt(_0xc7a8a1['substring'](0x3,0x5),0x10)*0.587+parseInt(_0xc7a8a1['substring'](0x5,0x7),0x10)*0.114<0xba,_0x12ca77=_0x490c4b?_0x2736ae(0x9a8):_0x2736ae(0x57c),_0x1630f9=_0x490c4b?_0x2736ae(0x85a):_0x2736ae(0xbe4);_0x174504+=_0x2736ae(0x165)+(_0x84f33a?_0x2736ae(0x32f):_0x2736ae(0x6e7))+_0x2736ae(0x822)+_0xc7a8a1+_0x2736ae(0x5ec)+_0x148f47['id']+_0x2736ae(0xad4)+_0x148f47['id']+_0x2736ae(0x660)+(_0x490c4b?_0x2736ae(0x33c):_0x2736ae(0x95b))+_0x2736ae(0x91f)+_0x148f47['id']+_0x2736ae(0x29d)+(_0x490c4b?_0x2736ae(0x33c):_0x2736ae(0x95b))+_0x2736ae(0x247)+(_0x84f33a?_0x490c4b?'text-yellow-300':'text-indigo-600':'')+_0x2736ae(0xb0e)+_0x148f47['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x12ca77+_0x2736ae(0x3ed)+_0x148f47[_0x2736ae(0xa74)]+_0x2736ae(0xb34)+_0x1630f9+_0x2736ae(0x334)+new Date(_0x148f47[_0x2736ae(0x561)])['toLocaleDateString'](_0x2736ae(0x22f))+_0x2736ae(0x138)+(_0x490c4b?_0x2736ae(0x967):'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x46a520+_0x2736ae(0xa89)+_0x148f47['id']+_0x2736ae(0x2af)+_0x148f47[_0x2736ae(0xa74)]+_0x2736ae(0x761)+(_0x490c4b?_0x2736ae(0x672):_0x2736ae(0x65c))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x1efca3[_0x5855a4(0x9f6)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x5855a4(0xa90)]>0x0&&_0x52c821===''&&(_0x174504+=_0x5855a4(0x665)+starredQuizzes[_0x5855a4(0xa90)]+_0x5855a4(0xa92)),_0x174504+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3a44c1[_0x5855a4(0x8ca)](_0x2c1a82=>{const _0x24590c=_0x5855a4,_0x17dba2=_0x474c15[_0x2c1a82['id']]??0x0,_0x2731df=_0x23c545[_0x24590c(0x85b)](_0x2c1a82['id']);_0x174504+=_0x24590c(0x64a)+(_0x2c1a82[_0x24590c(0xaf5)]||'#E5E7EB')+_0x24590c(0x45b)+_0x2c1a82['id']+_0x24590c(0x3d4)+_0x2c1a82[_0x24590c(0xa74)]+_0x24590c(0x159)+_0x17dba2+_0x24590c(0x7b9)+new Date(_0x2c1a82[_0x24590c(0x561)])[_0x24590c(0x645)](_0x24590c(0x22f))+_0x24590c(0xace)+_0x2c1a82['id']+_0x24590c(0x90d)+(_0x2731df?_0x24590c(0x6bf):'')+_0x24590c(0x259)+_0x2c1a82['id']+_0x24590c(0x2af)+_0x2c1a82[_0x24590c(0xa74)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x5855a4(0x3e3)]=_0x174504,noProjectsMsg[_0x5855a4(0x12e)][_0x5855a4(0x770)](_0x5855a4(0x30a),_0x174504[_0x5855a4(0xa90)]>0x0);}document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x8f0))[_0x4e7cd8(0xa37)](_0x4e7cd8(0xbdd),async()=>{const _0x16f36d=_0x4e7cd8,_0x41c246=document['getElementById'](_0x16f36d(0x1b9)),_0x3a08e7=_0x41c246[_0x16f36d(0x9f1)][_0x16f36d(0x492)]();if(!_0x3a08e7){showMessage(_0x16f36d(0x900));return;}try{const _0x11a910=doc(collection(db,_0x16f36d(0xbc5)+appId+_0x16f36d(0x6e3)));await setDoc(_0x11a910,{'projectName':_0x3a08e7,'students':[],'settings':{'resultsDisplay':_0x16f36d(0x6a4),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x16f36d(0xba0),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x16f36d(0xc5d)]()}),_0x41c246['value']='',createProjectModal[_0x16f36d(0x12e)]['add'](_0x16f36d(0x30a)),showMessage(_0x16f36d(0x286));}catch(_0x301bcb){console[_0x16f36d(0x2da)](_0x16f36d(0x26f),_0x301bcb),showMessage(_0x16f36d(0xa64));}}),projectList[_0x4e7cd8(0xa37)](_0x4e7cd8(0xbdd),async _0x14f900=>{const _0x20471a=_0x4e7cd8,_0x4d80c5=_0x14f900[_0x20471a(0x12a)][_0x20471a(0xbdf)](_0x20471a(0xae8)),_0x1273a0=_0x14f900[_0x20471a(0x12a)][_0x20471a(0xbdf)]('.delete-project-btn'),_0x4f762b=_0x14f900[_0x20471a(0x12a)][_0x20471a(0xbdf)](_0x20471a(0x1fa)),_0x3b50ef=_0x14f900[_0x20471a(0x12a)][_0x20471a(0xbdf)]('.color-palette-btn');if(_0x4f762b){const _0x596f17=_0x4f762b['dataset']['id'],_0x54fd26=doc(db,'globalSettings','dashboardConfig'),_0x151f3f=globalDashboardSettings[_0x20471a(0x43a)];let _0x1b0f67;_0x151f3f[_0x20471a(0x4c2)](_0x596f17)?_0x1b0f67=_0x151f3f[_0x20471a(0x473)](_0x4f0792=>_0x4f0792!==_0x596f17):_0x1b0f67=[..._0x151f3f,_0x596f17];try{await setDoc(_0x54fd26,{'pinnedProjects':_0x1b0f67},{'merge':!![]});}catch(_0x522beb){console['error'](_0x20471a(0x172),_0x522beb),showMessage(_0x20471a(0x60c));}}else{if(_0x3b50ef){const _0x57247d=_0x3b50ef[_0x20471a(0x928)]['id'];showColorPalette(_0x3b50ef,_0x57247d);}else{if(_0x4d80c5){const _0x5d0d51=_0x4d80c5[_0x20471a(0x928)]['id'];_0x5d0d51===_0x20471a(0xbf8)?showStarredProjectView():(currentProjectId=_0x5d0d51,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x1273a0){const _0x50cd1d=_0x1273a0[_0x20471a(0x928)]['id'],_0x1b4450=_0x1273a0[_0x20471a(0x928)][_0x20471a(0x82b)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x1b4450+_0x20471a(0x5ad),()=>handleDeleteProject(_0x50cd1d));}}}}}),projectList['addEventListener'](_0x4e7cd8(0x2f5),_0x33024b=>{const _0x4fb849=_0x4e7cd8,_0x504096=_0x33024b[_0x4fb849(0x12a)]['closest'](_0x4fb849(0x6ac));_0x504096&&_0x504096['classList']['add'](_0x4fb849(0x936));}),projectList['addEventListener']('dragend',_0xb61f8b=>{const _0x5b4630=_0x4e7cd8,_0x5ac8f3=_0xb61f8b[_0x5b4630(0x12a)][_0x5b4630(0xbdf)]('.project-card-container');_0x5ac8f3&&_0x5ac8f3[_0x5b4630(0x12e)]['remove'](_0x5b4630(0x936));}),projectList[_0x4e7cd8(0xa37)](_0x4e7cd8(0xa30),_0x2f4a23=>{const _0x426b99=_0x4e7cd8;_0x2f4a23[_0x426b99(0x3fd)]();const _0x576898=document['querySelector'](_0x426b99(0x555));if(!_0x576898)return;const _0x1886b5=getDragAfterElement(projectList,_0x2f4a23['clientY']);_0x1886b5==null?projectList[_0x426b99(0xb7b)](_0x576898):projectList['insertBefore'](_0x576898,_0x1886b5);}),projectList[_0x4e7cd8(0xa37)](_0x4e7cd8(0x298),_0x19c63a=>{const _0x950701=_0x4e7cd8;_0x19c63a['preventDefault']();const _0x118f7f=[...projectList[_0x950701(0x9f4)](_0x950701(0x506))][_0x950701(0xa26)](_0x59f1ea=>_0x59f1ea['dataset']['id']);saveProjectOrder(_0x118f7f);});function renderBehaviorLog(_0x13018f){const _0x618706=_0x4e7cd8,_0x4667cc=document[_0x618706(0x1c2)](_0x618706(0x689));if(!_0x4667cc)return;const _0x307f44=_0x13018f[_0x618706(0x473)](_0x43d01f=>_0x43d01f[_0x618706(0x38a)]&&_0x43d01f['behaviorLog'][_0x618706(0xa90)]>0x0);if(_0x307f44[_0x618706(0xa90)]===0x0){_0x4667cc[_0x618706(0x3e3)]=_0x618706(0x3aa);return;}let _0x4ec092='';_0x307f44['forEach'](_0x581532=>{const _0x141f79=_0x618706;_0x4ec092+=_0x141f79(0x63e)+_0x581532[_0x141f79(0xc3e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x581532[_0x141f79(0x38a)][_0x141f79(0x327)]((_0x141df4,_0x571dbe)=>new Date(_0x571dbe[_0x141f79(0x3a9)])-new Date(_0x141df4['timestamp']))[_0x141f79(0x8ca)](_0x581cbd=>{const _0x1cac6f=_0x141f79,_0x519ebf=new Date(_0x581cbd[_0x1cac6f(0x3a9)])[_0x1cac6f(0x645)]('th-TH',{'dateStyle':'short','timeStyle':'medium'});_0x4ec092+=_0x1cac6f(0x7fa)+_0x581cbd['attemptNumber']+_0x1cac6f(0x6c7)+_0x519ebf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4ec092+=_0x141f79(0xbb8);}),_0x4667cc[_0x618706(0x3e3)]=_0x4ec092;}function getDragAfterElement(_0x4a5b8d,_0x461562){const _0xc1f039=_0x4e7cd8,_0x1c39d7=[..._0x4a5b8d[_0xc1f039(0x9f4)]('.project-card-container:not(.opacity-50)')];return _0x1c39d7[_0xc1f039(0x7b3)]((_0x1220da,_0x4ca4c3)=>{const _0x3d0ebd=_0xc1f039,_0x5c40ff=_0x4ca4c3[_0x3d0ebd(0xac2)](),_0x79166f=_0x461562-_0x5c40ff[_0x3d0ebd(0x9a0)]-_0x5c40ff[_0x3d0ebd(0x59f)]/0x2;return _0x79166f<0x0&&_0x79166f>_0x1220da['offset']?{'offset':_0x79166f,'element':_0x4ca4c3}:_0x1220da;},{'offset':Number[_0xc1f039(0xb59)]})['element'];}async function saveProjectOrder(_0xd35aa){const _0x4ef247=_0x4e7cd8,_0x182a4d=doc(db,'globalSettings',_0x4ef247(0x5e6));try{await setDoc(_0x182a4d,{'projectOrder':_0xd35aa},{'merge':!![]});}catch(_0x56a8bc){console['error'](_0x4ef247(0x1d1),_0x56a8bc),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x33de81,_0x57e2f4={}){const _0x3e7fdf=_0x4e7cd8;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3e7fdf(0x9d6)](_0x3e7fdf(0x7f7));return;}const _0x303858=doc(db,_0x3e7fdf(0xbc5)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x3e7fdf(0x2e0),currentStudentName),_0x4defda={'event':_0x33de81,'timestamp':new Date()[_0x3e7fdf(0xc5d)](),..._0x57e2f4};try{await updateDoc(_0x303858,{'behaviorLog':arrayUnion(_0x4defda)}),console[_0x3e7fdf(0x511)](_0x3e7fdf(0x54c)+currentStudentName+'\x20สำเร็จ');}catch(_0x17aae5){_0x17aae5[_0x3e7fdf(0x12d)]===_0x3e7fdf(0xc95)?console[_0x3e7fdf(0x9d6)](_0x3e7fdf(0x257)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console['error'](_0x3e7fdf(0xca2),_0x17aae5);}}function calculateMeanAndStdDev(_0x25ae34){const _0x268a43=_0x4e7cd8;if(_0x25ae34[_0x268a43(0xa90)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2df1ad=_0x25ae34[_0x268a43(0x7b3)]((_0x4bc135,_0x313e5a)=>_0x4bc135+_0x313e5a,0x0)/_0x25ae34[_0x268a43(0xa90)];if(_0x25ae34[_0x268a43(0xa90)]===0x1)return{'mean':_0x2df1ad,'stdDev':0x0};const _0x25cee6=Math['sqrt'](_0x25ae34[_0x268a43(0xa26)](_0xefaaf5=>Math[_0x268a43(0x1d2)](_0xefaaf5-_0x2df1ad,0x2))[_0x268a43(0x7b3)]((_0x294405,_0x4995af)=>_0x294405+_0x4995af,0x0)/(_0x25ae34[_0x268a43(0xa90)]-0x1));return{'mean':_0x2df1ad,'stdDev':_0x25cee6};}function calculateZScore(_0xc43998,_0x5183be,_0x296dd3){if(_0x296dd3===0x0)return 0x0;return(_0xc43998-_0x5183be)/_0x296dd3;}function calculateTScore(_0x289bca){return 0xa*_0x289bca+0x32;}function showStarredProjectView(){const _0x3773e6=_0x4e7cd8;currentProjectId=_0x3773e6(0x903),currentProjectData=null,projectTitle[_0x3773e6(0x9a1)]=_0x3773e6(0x129),projectIdDisplay[_0x3773e6(0x9a1)]=_0x3773e6(0xa18),showView(_0x3773e6(0x835)),manageTab[_0x3773e6(0x12e)][_0x3773e6(0x7d7)](_0x3773e6(0x30a)),leaderboardTab[_0x3773e6(0x12e)]['add'](_0x3773e6(0x30a)),switchProjectTab(_0x3773e6(0x84d)),renderQuizzes();}async function loadProjectDetails(_0x144e4a){const _0x5e2524=_0x4e7cd8,_0x2b23a0=doc(db,_0x5e2524(0xbc5)+appId+_0x5e2524(0x6e3),_0x144e4a),_0x1e4a8f=await getDoc(_0x2b23a0);if(_0x1e4a8f[_0x5e2524(0x7b7)]()){manageTab[_0x5e2524(0x12e)]['remove'](_0x5e2524(0x30a)),leaderboardTab[_0x5e2524(0x12e)][_0x5e2524(0x1f9)](_0x5e2524(0x30a)),currentProjectData=_0x1e4a8f['data'](),projectTitle[_0x5e2524(0x9a1)]=currentProjectData[_0x5e2524(0xa74)],projectIdDisplay[_0x5e2524(0x9a1)]=_0x144e4a;const _0x6446=currentProjectData['settings']||{};document['getElementById'](_0x5e2524(0x90c))[_0x5e2524(0x9f1)]=_0x6446[_0x5e2524(0x754)]||_0x5e2524(0xba0);const _0x3fee3c=document[_0x5e2524(0x1c2)](_0x5e2524(0xc2b));_0x3fee3c['checked']=_0x6446[_0x5e2524(0xcbc)]!==![];const _0x3b9204=document[_0x5e2524(0x1c2)](_0x5e2524(0x495)),_0x1977fc=document[_0x5e2524(0x1c2)](_0x5e2524(0x3d1)),_0x18849a=document['getElementById'](_0x5e2524(0xa14)),_0x3a8f3f=_0x6446['isPasscodeEnabled']||![];_0x3b9204[_0x5e2524(0x564)]=_0x3a8f3f,_0x18849a['value']=_0x6446[_0x5e2524(0xa08)]||'',_0x1977fc[_0x5e2524(0x12e)][_0x5e2524(0x770)](_0x5e2524(0x30a),!_0x3a8f3f),_0x3b9204[_0x5e2524(0x7a4)]=()=>{const _0x356cfc=_0x5e2524;_0x1977fc['classList'][_0x356cfc(0x770)](_0x356cfc(0x30a),!_0x3b9204[_0x356cfc(0x564)]);},document[_0x5e2524(0x1c2)](_0x5e2524(0x246))[_0x5e2524(0x564)]=_0x6446['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x144e4a),listenForProjectQuizzes(_0x144e4a),listenForStudentProfiles(_0x144e4a);}else showMessage(_0x5e2524(0x412)),showView(_0x5e2524(0xab7));}async function handleResetProjectOrder(){const _0x2ad882=_0x4e7cd8,_0x47ce58=doc(db,_0x2ad882(0x7a0),_0x2ad882(0x5e6));try{await setDoc(_0x47ce58,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x2ad882(0x990));}catch(_0x415668){console[_0x2ad882(0x2da)](_0x2ad882(0x429),_0x415668),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x3f55bd){const _0x2de619=_0x4e7cd8;if(!_0x3f55bd)return;const _0x5744e7=doc(db,'artifacts/'+appId+_0x2de619(0x6e3),_0x3f55bd);try{const _0x4b92b8=await getDoc(_0x5744e7);if(_0x4b92b8[_0x2de619(0x7b7)]()){const _0x5e1e5e=_0x4b92b8[_0x2de619(0x921)]()[_0x2de619(0x55c)]||![];await updateDoc(_0x5744e7,{'isPinned':!_0x5e1e5e});}}catch(_0x317918){console[_0x2de619(0x2da)](_0x2de619(0x70d),_0x317918),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x22ddf4){const _0x2d1dd7=_0x4e7cd8;try{const _0x1afb7e=writeBatch(db),_0xb0befa=collection(db,_0x2d1dd7(0xbc5)+appId+_0x2d1dd7(0x5e2)),_0x47460f=query(_0xb0befa,where('projectId','==',_0x22ddf4)),_0x30aaa2=await getDocs(_0x47460f);for(const _0xe21308 of _0x30aaa2['docs']){const _0x5b2ea8=collection(db,'artifacts/'+appId+_0x2d1dd7(0x155)+_0xe21308['id']+_0x2d1dd7(0x2e0)),_0x29f1c2=await getDocs(_0x5b2ea8);_0x29f1c2['forEach'](_0x53f1f9=>{const _0xff648=_0x2d1dd7;_0x1afb7e[_0xff648(0x5f5)](_0x53f1f9[_0xff648(0x4e3)]);}),_0x1afb7e[_0x2d1dd7(0x5f5)](_0xe21308[_0x2d1dd7(0x4e3)]);}const _0x17a2ca=collection(db,_0x2d1dd7(0xbc5)+appId+_0x2d1dd7(0x5cd)+_0x22ddf4+'/studentProfiles'),_0x59e0ae=await getDocs(_0x17a2ca);_0x59e0ae[_0x2d1dd7(0x8ca)](_0x187f0b=>{const _0x5dd5fa=_0x2d1dd7;_0x1afb7e[_0x5dd5fa(0x5f5)](_0x187f0b[_0x5dd5fa(0x4e3)]);});const _0x120f8f=doc(db,_0x2d1dd7(0xbc5)+appId+_0x2d1dd7(0x6e3),_0x22ddf4);_0x1afb7e['delete'](_0x120f8f),await _0x1afb7e['commit'](),showMessage(_0x2d1dd7(0x54d)),showView('admin-dashboard');}catch(_0x15cbc0){console[_0x2d1dd7(0x2da)](_0x2d1dd7(0x433),_0x15cbc0),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0x128))[_0x4e7cd8(0xa37)]('click',async()=>{const _0x1aced5=_0x4e7cd8;if(!currentProjectId)return;const _0x3ab193={'defaultNumQuestions':parseInt(document[_0x1aced5(0x1c2)](_0x1aced5(0x55b))['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x1aced5(0x975))[_0x1aced5(0x9f1)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x1aced5(0x9f1)]),'resultsDisplay':document['getElementById'](_0x1aced5(0x217))[_0x1aced5(0x9f1)],'shuffleSetting':document[_0x1aced5(0x1c2)](_0x1aced5(0x90c))[_0x1aced5(0x9f1)],'timerMode':document[_0x1aced5(0x1c2)](_0x1aced5(0x352))[_0x1aced5(0x9f1)],'timerDuration':parseInt(document[_0x1aced5(0x1c2)](_0x1aced5(0x84f))[_0x1aced5(0x9f1)]),'isConfidenceScoringEnabled':document['getElementById'](_0x1aced5(0x246))['checked'],'confidenceMode':document[_0x1aced5(0x1c2)](_0x1aced5(0x79f))[_0x1aced5(0x9f1)]};try{const _0xb07542=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0xb07542,{'settings':_0x3ab193}),showMessage(_0x1aced5(0x650));}catch(_0x4a8713){console[_0x1aced5(0x2da)](_0x1aced5(0x557),_0x4a8713),showMessage(_0x1aced5(0x93c));}});function listenForStudents(_0x305e4c){const _0x154593=_0x4e7cd8,_0x37721e=doc(db,'artifacts/'+appId+_0x154593(0x6e3),_0x305e4c);unsubscribeStudentsListener=onSnapshot(_0x37721e,_0x6bc310=>{const _0x246a5b=_0x154593;if(_0x6bc310[_0x246a5b(0x7b7)]()){const _0x3d4bc3=_0x6bc310[_0x246a5b(0x921)]();currentProjectData=_0x3d4bc3,renderStudentList(_0x3d4bc3[_0x246a5b(0x7f0)]||[]);}});}function renderStudentList(_0x57c958){const _0x3a7e0c=_0x4e7cd8,_0x304413=document[_0x3a7e0c(0x1c2)]('delete-all-students-btn');_0x57c958['length']===0x0?(studentList[_0x3a7e0c(0x3e3)]=_0x3a7e0c(0xbcc),_0x304413[_0x3a7e0c(0x12e)][_0x3a7e0c(0x7d7)](_0x3a7e0c(0x30a))):(studentList['innerHTML']=_0x57c958[_0x3a7e0c(0xa26)](_0x4ba007=>_0x3a7e0c(0x7db)+_0x4ba007+_0x3a7e0c(0x759)+_0x4ba007+_0x3a7e0c(0x2a3))['join'](''),_0x304413[_0x3a7e0c(0x12e)]['remove']('hidden'));}document[_0x4e7cd8(0x1c2)]('add-student-btn')[_0x4e7cd8(0xa37)](_0x4e7cd8(0xbdd),async()=>{const _0x4c0bbc=_0x4e7cd8;if(!currentProjectId)return;const _0x18b3fc=document[_0x4c0bbc(0x1c2)](_0x4c0bbc(0xc28)),_0x518800=_0x18b3fc[_0x4c0bbc(0x9f1)][_0x4c0bbc(0x492)]();if(!_0x518800){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x50d73b=_0x518800[_0x4c0bbc(0x671)]('\x0a')[_0x4c0bbc(0xa26)](_0x2db0f5=>_0x2db0f5[_0x4c0bbc(0x492)]())[_0x4c0bbc(0x473)](_0x4117e7=>_0x4117e7);if(_0x50d73b[_0x4c0bbc(0xa90)]===0x0)return;try{const _0x28be62=doc(db,_0x4c0bbc(0xbc5)+appId+_0x4c0bbc(0x6e3),currentProjectId),_0x193433=await getDoc(_0x28be62);if(_0x193433[_0x4c0bbc(0x7b7)]()){const _0xe604f6=_0x193433[_0x4c0bbc(0x921)]()[_0x4c0bbc(0x7f0)]||[],_0x341f1d=[...new Set([..._0xe604f6,..._0x50d73b])];await updateDoc(_0x28be62,{'students':_0x341f1d}),_0x18b3fc[_0x4c0bbc(0x9f1)]='';}}catch(_0x3fafd6){console['error'](_0x4c0bbc(0x472),_0x3fafd6),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x5d14f2){const _0x5727c0=_0x4e7cd8,_0x4a7eb5=document[_0x5727c0(0x1c2)](_0x5727c0(0xc6f)),_0x22c3e7=document[_0x5727c0(0x1c2)](_0x5727c0(0x586)),_0x48b8fd=_0x4a7eb5[_0x5727c0(0x8b9)]('h3'),_0xbe094b=document[_0x5727c0(0x1c2)](_0x5727c0(0x4ec)),_0x276649=document[_0x5727c0(0x1c2)](_0x5727c0(0x7e5));_0x48b8fd[_0x5727c0(0x9a1)]=_0x5727c0(0x806),_0x22c3e7[_0x5727c0(0x3e3)]=_0x5727c0(0x4f6),_0xbe094b[_0x5727c0(0x9a1)]=_0x5727c0(0x8fd),_0x4a7eb5[_0x5727c0(0x12e)][_0x5727c0(0x1f9)](_0x5727c0(0x30a));const _0x39903f=allQuizzes[_0x5727c0(0x473)](_0x2ab846=>_0x2ab846['id']!==_0x5d14f2);_0x39903f['length']===0x0?(_0x22c3e7[_0x5727c0(0x3e3)]=_0x5727c0(0x519),_0xbe094b[_0x5727c0(0x78a)]=!![]):(_0x22c3e7['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x39903f[_0x5727c0(0xa26)](_0x44eb0b=>_0x5727c0(0xc29)+_0x44eb0b['id']+'\x22>'+_0x44eb0b[_0x5727c0(0xcaf)]+_0x5727c0(0x848))[_0x5727c0(0xab6)](''),_0xbe094b[_0x5727c0(0x78a)]=![]);const _0x17c177=async()=>{const _0x182efa=_0x5727c0,_0x2c3911=_0x22c3e7[_0x182efa(0x9f1)];if(!_0x2c3911){showMessage(_0x182efa(0xb8b));return;}_0xbe094b[_0x182efa(0x78a)]=!![],_0xbe094b[_0x182efa(0x9a1)]=_0x182efa(0x91a);try{const _0x2dd130=doc(db,_0x182efa(0xbc5)+appId+_0x182efa(0x5e2),_0x5d14f2),_0x2b5461=doc(db,_0x182efa(0xbc5)+appId+_0x182efa(0x5e2),_0x2c3911),_0x51326c=writeBatch(db);_0x51326c['update'](_0x2dd130,{'pairedQuizId':_0x2c3911}),_0x51326c[_0x182efa(0x81a)](_0x2b5461,{'pairedQuizId':_0x5d14f2}),await _0x51326c[_0x182efa(0xc9b)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x4a7eb5['classList']['add'](_0x182efa(0x30a));}catch(_0x20a782){console[_0x182efa(0x2da)](_0x182efa(0x1c4),_0x20a782),showMessage(_0x182efa(0x24c));}finally{_0x48b8fd[_0x182efa(0x9a1)]=_0x182efa(0x44f),_0xbe094b[_0x182efa(0x9a1)]=_0x182efa(0xbcd),_0xbe094b['disabled']=![],_0xbe094b['removeEventListener'](_0x182efa(0xbdd),_0x17c177),_0x276649[_0x182efa(0x208)]('click',_0x345b06);}},_0x345b06=()=>{const _0x2f1dd0=_0x5727c0;_0x4a7eb5[_0x2f1dd0(0x12e)][_0x2f1dd0(0x7d7)](_0x2f1dd0(0x30a)),_0x48b8fd[_0x2f1dd0(0x9a1)]=_0x2f1dd0(0x44f),_0xbe094b[_0x2f1dd0(0x9a1)]='ย้าย',_0xbe094b[_0x2f1dd0(0x208)]('click',_0x17c177),_0x276649[_0x2f1dd0(0x208)]('click',_0x345b06);};_0xbe094b['addEventListener'](_0x5727c0(0xbdd),_0x17c177),_0x276649[_0x5727c0(0xa37)](_0x5727c0(0xbdd),_0x345b06);}function handleDeleteStudent(_0x3273e5){const _0x1161cb=_0x4e7cd8;showConfirmation(_0x1161cb(0x3d2)+_0x3273e5+_0x1161cb(0xb76),async()=>{const _0x178dbc=_0x1161cb;if(!currentProjectId||!currentProjectData)return;const _0x98cfb7=currentProjectData[_0x178dbc(0x7f0)][_0x178dbc(0x473)](_0x558ea3=>_0x558ea3!==_0x3273e5);try{const _0x3fd466=doc(db,_0x178dbc(0xbc5)+appId+'/public/data/projects',currentProjectId),_0x3e75e1=doc(db,_0x178dbc(0xbc5)+appId+_0x178dbc(0x5cd)+currentProjectId+_0x178dbc(0x201),_0x3273e5),_0x5b4e51=writeBatch(db);_0x5b4e51[_0x178dbc(0x81a)](_0x3fd466,{'students':_0x98cfb7}),_0x5b4e51[_0x178dbc(0x5f5)](_0x3e75e1),await _0x5b4e51['commit']();}catch(_0x4c6927){console[_0x178dbc(0x2da)]('Error\x20deleting\x20student:',_0x4c6927),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x39b3da=_0x1f15;if(!currentProjectId)return;try{const _0x5c9256=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x256522=collection(db,_0x39b3da(0xbc5)+appId+_0x39b3da(0x5cd)+currentProjectId+_0x39b3da(0x201)),_0x2146b7=await getDocs(_0x256522),_0x4905b4=writeBatch(db);_0x4905b4['update'](_0x5c9256,{'students':[]}),_0x2146b7[_0x39b3da(0x8ca)](_0x31d546=>_0x4905b4['delete'](_0x31d546['ref'])),await _0x4905b4[_0x39b3da(0xc9b)]();}catch(_0x4be2a4){console[_0x39b3da(0x2da)](_0x39b3da(0xc8a),_0x4be2a4),showMessage(_0x39b3da(0xabf));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0xc3601a){const _0x187165=_0x4e7cd8,_0x2ce657=document[_0x187165(0x1c2)](_0x187165(0x33f)),_0x424fb6=document['getElementById'](_0x187165(0x816));_0x2ce657['classList'][_0x187165(0x1f9)](_0x187165(0x30a)),_0x424fb6[_0x187165(0x3e3)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x58a562=new FileReader();_0x58a562[_0x187165(0x515)](_0xc3601a),await new Promise((_0x268828,_0x1adc11)=>{const _0x40d38b=_0x187165;_0x58a562['onload']=()=>{const _0x25f4d3=_0x1f15;fileDataBase64=_0x58a562['result'][_0x25f4d3(0x671)](',')[0x1],fileMimeType=_0xc3601a['type'],_0x268828();},_0x58a562[_0x40d38b(0x311)]=_0x5aaf60=>_0x1adc11(_0x5aaf60);});if(!fileDataBase64)throw new Error(_0x187165(0x513));const _0x4f0d3f=_0x187165(0x4ca),_0x4c7066={'type':_0x187165(0x469),'properties':{'topics':{'type':_0x187165(0x6ae),'items':{'type':_0x187165(0x942)}}},'required':['topics']},_0x4de2cb=[{'text':_0x4f0d3f},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x414d82=await handleApiCall(_0x4de2cb,_0x187165(0x4c5),_0x4c7066,null,![]);if(_0x414d82&&_0x414d82[_0x187165(0x575)])extractedFileTopics=_0x414d82['topics'],renderFileTopics();else throw new Error(_0x187165(0x296));}catch(_0x4941d0){console[_0x187165(0x2da)](_0x187165(0x150),_0x4941d0),_0x424fb6['innerHTML']=_0x187165(0x4ce)+_0x4941d0[_0x187165(0x516)]+_0x187165(0x35e);}}function renderFileTopics(){const _0xf62e41=_0x4e7cd8,_0xa98e02=document['getElementById']('file-topics-list');if(extractedFileTopics[_0xf62e41(0xa90)]===0x0){_0xa98e02['innerHTML']=_0xf62e41(0xc15);return;}_0xa98e02[_0xf62e41(0x3e3)]=extractedFileTopics['map'](_0x52c486=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x52c486+_0xf62e41(0x8ac)+escape(_0x52c486)+_0xf62e41(0xa8d)+escape(_0x52c486)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function generateHybridQuizForTopic(_0x3c4bc7){const _0x1b2fc6=_0x4e7cd8,_0x254040=parseInt(document[_0x1b2fc6(0x1c2)](_0x1b2fc6(0x55b))[_0x1b2fc6(0x9f1)],0xa),_0x290e89=document[_0x1b2fc6(0x1c2)](_0x1b2fc6(0xa67))[_0x1b2fc6(0x9f1)],_0x49d7e3=document[_0x1b2fc6(0x1c2)](_0x1b2fc6(0x975))[_0x1b2fc6(0x9f1)],_0x3e6068=document[_0x1b2fc6(0x1c2)]('include-images-checkbox')['checked'],_0x30e579=_0x3e6068?_0x1b2fc6(0x9fa):_0x1b2fc6(0x986);let _0x14e5fe='',_0x3cc43f;const _0x55cdf6={'type':_0x1b2fc6(0x469),'properties':{'questionText':{'type':_0x1b2fc6(0x942)},'options':{'type':_0x1b2fc6(0x6ae),'items':{'type':_0x1b2fc6(0x942)}},'correctAnswerIndex':{'type':_0x1b2fc6(0x78d)},'explanation':{'type':_0x1b2fc6(0x942)},'imageCode':{'type':'STRING'}},'required':[_0x1b2fc6(0x2b3),_0x1b2fc6(0x4d1),_0x1b2fc6(0xcab),'explanation']},_0x21b8ae={'type':_0x1b2fc6(0x469),'properties':{'questionText':{'type':_0x1b2fc6(0x942)},'correctAnswer':{'type':_0x1b2fc6(0x945)},'explanation':{'type':_0x1b2fc6(0x942)},'imageCode':{'type':'STRING'}},'required':[_0x1b2fc6(0x2b3),_0x1b2fc6(0x209),_0x1b2fc6(0x13e)]},_0xd3a02e={'type':_0x1b2fc6(0x469),'properties':{'questionText':{'type':_0x1b2fc6(0x942)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1b2fc6(0x942)}},'required':[_0x1b2fc6(0x2b3),'idealAnswer',_0x1b2fc6(0x13e)]},_0x389ce3={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x1b2fc6(0x220)]},'stem':{'type':_0x1b2fc6(0x942)},'correctResponse':{'type':_0x1b2fc6(0x942)},'allResponses':{'type':_0x1b2fc6(0x6ae),'items':{'type':'STRING'}},'explanation':{'type':_0x1b2fc6(0x942)},'imageCode':{'type':'STRING'}},'required':[_0x1b2fc6(0x93a),_0x1b2fc6(0x732),'correctResponse',_0x1b2fc6(0x998),'explanation']};switch(_0x290e89){case'multiple_choice':_0x14e5fe=_0x1b2fc6(0xc1c)+_0x49d7e3+_0x1b2fc6(0x946),_0x3cc43f=_0x55cdf6;break;case _0x1b2fc6(0x7f4):_0x14e5fe='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x3cc43f=_0x21b8ae;break;case _0x1b2fc6(0x4df):_0x14e5fe='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x3cc43f=_0xd3a02e;break;case _0x1b2fc6(0x939):_0x14e5fe='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x3cc43f=_0x389ce3;break;case'fill_in_with_choices':_0x14e5fe=_0x1b2fc6(0x176)+_0x49d7e3+_0x1b2fc6(0x946),_0x3cc43f=_0x55cdf6;break;default:_0x14e5fe='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x49d7e3+_0x1b2fc6(0x946),_0x3cc43f=_0x55cdf6;break;}const _0x4a7d41='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0xae9a77=document[_0x1b2fc6(0x1c2)]('loader'),_0x21dbee=document[_0x1b2fc6(0x1c2)](_0x1b2fc6(0xa09)),_0x10bf2d=document[_0x1b2fc6(0x1c2)]('generated-quiz-container');document[_0x1b2fc6(0x1c2)]('quiz-generation-area')[_0x1b2fc6(0x12e)]['remove'](_0x1b2fc6(0x30a)),_0x10bf2d[_0x1b2fc6(0x3e3)]='',_0xae9a77['classList'][_0x1b2fc6(0x1f9)](_0x1b2fc6(0x30a)),_0x21dbee[_0x1b2fc6(0x9a1)]=_0x1b2fc6(0x1b1)+_0x3c4bc7+_0x1b2fc6(0x382)+_0x254040+_0x1b2fc6(0x7c3);try{const _0x43e52b=_0x1b2fc6(0xa02),_0xa7587c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x3c4bc7+_0x1b2fc6(0x8a1)+_0x254040+_0x1b2fc6(0xa17)+_0x3c4bc7+_0x1b2fc6(0x23e)+_0x254040+_0x1b2fc6(0x9cd)+_0x30e579+_0x1b2fc6(0x243)+_0x14e5fe+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x4a7d41+_0x1b2fc6(0x7cb)+_0x43e52b+_0x1b2fc6(0x20a)+simpleMathPrompt+_0x1b2fc6(0x6cb),_0x155b1b={'type':_0x1b2fc6(0x469),'properties':{'topic':{'type':_0x1b2fc6(0x942)},'questions':{'type':_0x1b2fc6(0x6ae),'items':_0x3cc43f}},'required':[_0x1b2fc6(0xcaf),_0x1b2fc6(0x966)]},_0x524a2d=[{'text':_0xa7587c},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x524a2d,_0x1b2fc6(0x1a8)+_0x3c4bc7+_0x1b2fc6(0x2b7),_0x155b1b);}catch(_0x207a43){console['error'](_0x1b2fc6(0xbf0),_0x207a43),showMessage(_0x1b2fc6(0xb7c)+_0x207a43[_0x1b2fc6(0x516)]),_0x10bf2d[_0x1b2fc6(0x3e3)]=_0x1b2fc6(0x1a1);}finally{_0xae9a77[_0x1b2fc6(0x12e)][_0x1b2fc6(0x7d7)](_0x1b2fc6(0x30a));}}async function handleGenerateFromFileClick(){const _0x439939=_0x4e7cd8;if(!selectedFile){showMessage(_0x439939(0x536));return;}const _0x5180f8=document[_0x439939(0x1c2)](_0x439939(0xad6)),_0x1862e3=document[_0x439939(0x1c2)](_0x439939(0xa09)),_0x154c21=document[_0x439939(0x1c2)](_0x439939(0x188)),_0x412703=document[_0x439939(0x1c2)](_0x439939(0x51c));_0x412703[_0x439939(0x78a)]=!![],document[_0x439939(0x1c2)]('quiz-generation-area')['classList'][_0x439939(0x1f9)](_0x439939(0x30a)),_0x154c21[_0x439939(0x3e3)]='',_0x5180f8['classList'][_0x439939(0x1f9)](_0x439939(0x30a)),_0x1862e3[_0x439939(0x9a1)]=_0x439939(0x6ba);try{const _0x3b6c29=await new Promise((_0x336aa0,_0x59740f)=>{const _0x214468=_0x439939,_0x236d10=new FileReader();_0x236d10['readAsDataURL'](selectedFile),_0x236d10[_0x214468(0x920)]=()=>_0x336aa0(_0x236d10[_0x214468(0x261)][_0x214468(0x671)](',')[0x1]),_0x236d10['onerror']=_0x5c5aef=>_0x59740f(_0x5c5aef);});await generateQuizFromFile(selectedFile[_0x439939(0x248)],_0x3b6c29);}catch(_0x1948f9){console[_0x439939(0x2da)](_0x439939(0x800),_0x1948f9),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x1948f9[_0x439939(0x516)]),_0x5180f8[_0x439939(0x12e)]['add'](_0x439939(0x30a)),_0x412703[_0x439939(0x78a)]=![];}}function autoFormatMath(_0xb73064){const _0x1e3d8f=_0x4e7cd8;if(typeof _0xb73064!==_0x1e3d8f(0x52f)||!_0xb73064)return _0xb73064;const _0x29bbad=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x108a74=_0xb73064[_0x1e3d8f(0x98e)](_0x29bbad,_0x26b5a0=>{const _0x7d891f=_0x1e3d8f;return'$'+_0x26b5a0[_0x7d891f(0x492)]()+'$';});return _0x108a74;}function sanitizeQuizData(_0x2c4df3){const _0x44f82e=_0x4e7cd8;if(!_0x2c4df3||!_0x2c4df3[_0x44f82e(0x966)])return _0x2c4df3;const _0x5bd622={'imes':_0x44f82e(0x652),'div':'\x5cdiv'},_0x1ea3e2=_0x4d436e=>{const _0x4e4e59=_0x44f82e;if(typeof _0x4d436e!=='string')return _0x4d436e;let _0x1a26fe=_0x4d436e;for(const [_0x1ad783,_0xfb6991]of Object[_0x4e4e59(0xaa6)](_0x5bd622)){const _0x102d89=new RegExp('\x5cb'+_0x1ad783+'\x5cb','g');_0x1a26fe=_0x1a26fe[_0x4e4e59(0x98e)](_0x102d89,_0xfb6991);}return _0x1a26fe=_0x1a26fe['replace'](/\\\//g,_0x4e4e59(0x370)),_0x1a26fe=_0x1a26fe[_0x4e4e59(0x98e)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4e4e59(0x652))[_0x4e4e59(0x98e)](/÷/g,_0x4e4e59(0x370))[_0x4e4e59(0x98e)](/×/g,_0x4e4e59(0x652)),_0x1a26fe=_0x1a26fe['replace'](/(\d)(\\frac)/g,_0x4e4e59(0xae7)),_0x1a26fe=autoFormatMath(_0x1a26fe),_0x1a26fe;};return _0x2c4df3['topic']&&(_0x2c4df3[_0x44f82e(0xcaf)]=_0x1ea3e2(_0x2c4df3[_0x44f82e(0xcaf)])),_0x2c4df3['questions'][_0x44f82e(0x8ca)](_0x285c94=>{const _0x517287=_0x44f82e;_0x285c94[_0x517287(0x2b3)]=_0x1ea3e2(_0x285c94[_0x517287(0x2b3)]),_0x285c94['options']&&(_0x285c94[_0x517287(0x4d1)]=_0x285c94[_0x517287(0x4d1)]['map'](_0x1ea3e2)),_0x285c94[_0x517287(0x13e)]&&(_0x285c94['explanation']=_0x1ea3e2(_0x285c94[_0x517287(0x13e)])),_0x285c94['stem']&&(_0x285c94[_0x517287(0x732)]=_0x1ea3e2(_0x285c94[_0x517287(0x732)])),_0x285c94[_0x517287(0x47a)]&&(_0x285c94[_0x517287(0x47a)]=_0x1ea3e2(_0x285c94[_0x517287(0x47a)])),_0x285c94['allResponses']&&(_0x285c94[_0x517287(0x998)]=_0x285c94['allResponses']['map'](_0x1ea3e2));}),_0x2c4df3;}const simpleMathPrompt=_0x4e7cd8(0xb56);async function handleGenerateFromLink(){const _0x495615=_0x4e7cd8,_0x3f56d3=document['getElementById']('link-url-input'),_0x1fc247=document[_0x495615(0x1c2)](_0x495615(0x4e8)),_0xeb2ac6=_0x3f56d3['value'][_0x495615(0x492)](),_0x1c2ffc=_0x1fc247[_0x495615(0x9f1)][_0x495615(0x492)]();if(!_0xeb2ac6){showMessage(_0x495615(0x8ef));return;}const _0xea5233=document[_0x495615(0x1c2)](_0x495615(0xad6)),_0x318619=document[_0x495615(0x1c2)](_0x495615(0xa09)),_0x49ac1e=document[_0x495615(0x1c2)]('generated-quiz-container'),_0x584ffb=document[_0x495615(0x1c2)](_0x495615(0x8c7));document[_0x495615(0x1c2)](_0x495615(0x280))[_0x495615(0x12e)][_0x495615(0x1f9)](_0x495615(0x30a)),_0x49ac1e[_0x495615(0x3e3)]='',_0xea5233[_0x495615(0x12e)][_0x495615(0x1f9)](_0x495615(0x30a)),_0x318619[_0x495615(0x9a1)]=_0x495615(0x432),_0x584ffb[_0x495615(0x78a)]=!![];try{const _0x3020f7=_0x495615(0xa80)+encodeURIComponent(_0xeb2ac6),_0x1d50c3=await fetch(_0x3020f7);if(!_0x1d50c3['ok'])throw new Error(_0x495615(0x995)+_0x1d50c3['status']+')');const _0x4e0da0=await _0x1d50c3[_0x495615(0x4d7)](),_0x503674=extractTextFromHtml(_0x4e0da0);if(!_0x503674||_0x503674[_0x495615(0xa90)]<0x64)throw new Error(_0x495615(0x153));await generateQuiz(_0x1c2ffc,_0x503674);}catch(_0x1bc2fe){console[_0x495615(0x2da)](_0x495615(0x544),_0x1bc2fe),showMessage(_0x495615(0xb7c)+_0x1bc2fe[_0x495615(0x516)]),_0x49ac1e[_0x495615(0x3e3)]=_0x495615(0x146);}finally{_0xea5233[_0x495615(0x12e)][_0x495615(0x7d7)]('hidden'),_0x584ffb[_0x495615(0x78a)]=![];}}function extractTextFromHtml(_0x2638ec){const _0x465350=_0x4e7cd8,_0x265539=new DOMParser()[_0x465350(0x64e)](_0x2638ec,'text/html');return _0x265539[_0x465350(0x9f4)](_0x465350(0xa5a))['forEach'](_0x13220b=>_0x13220b[_0x465350(0x1f9)]()),_0x265539[_0x465350(0xa68)]['textContent']||'';}document['getElementById']('generate-from-topic-btn')[_0x4e7cd8(0xa37)](_0x4e7cd8(0xbdd),()=>{const _0x5b6335=_0x4e7cd8,_0x3711f7=document['getElementById']('topic-input')[_0x5b6335(0x9f1)][_0x5b6335(0x492)]();generateQuiz(_0x3711f7,null);}),document[_0x4e7cd8(0x1c2)](_0x4e7cd8(0xb13))[_0x4e7cd8(0xa37)](_0x4e7cd8(0xbdd),()=>{const _0x3d0e8a=_0x4e7cd8,_0x3e07d6=document['getElementById'](_0x3d0e8a(0x538))['value'][_0x3d0e8a(0x492)]();if(!_0x3e07d6){showMessage(_0x3d0e8a(0x250));return;}const _0x2c85c7=document['getElementById'](_0x3d0e8a(0x93d))[_0x3d0e8a(0x9f1)][_0x3d0e8a(0x492)]();generateQuiz(_0x2c85c7,_0x3e07d6);});async function generateQuiz(_0x35e8cb,_0x49e079,_0x18cd18=null,_0x4f1310=null,_0x4678b8=![],_0x3b4865=null,_0x3dc52a=null,_0x2ac145=![]){const _0x5cc4fe=_0x4e7cd8;let _0x9768df={};if(_0x4678b8&&blueprintPageSettings)_0x9768df=blueprintPageSettings;else{const _0x1e67a8=document[_0x5cc4fe(0x9f4)](_0x5cc4fe(0x4ea));_0x9768df={'quizType':document[_0x5cc4fe(0x1c2)]('quiz-type-select')['value'],'numQuestions':document[_0x5cc4fe(0x1c2)](_0x5cc4fe(0x55b))['value'],'numChoices':document['getElementById'](_0x5cc4fe(0x975))[_0x5cc4fe(0x9f1)],'includeImages':document['getElementById'](_0x5cc4fe(0x819))[_0x5cc4fe(0x564)],'isNormalTopic':document['getElementById']('force-math-checkbox')[_0x5cc4fe(0x564)],'difficultyValue':document['getElementById'](_0x5cc4fe(0xae1))[_0x5cc4fe(0x9f1)],'complexityValue':document[_0x5cc4fe(0x1c2)]('question-complexity-select')['value'],'selectedTopicNames':Array[_0x5cc4fe(0x1c7)](_0x1e67a8)['map'](_0x1d7838=>_0x1d7838['value'])};}const _0x1102a4=_0x9768df['isNormalTopic']?'':_0x5cc4fe(0x546),_0x58aedc=_0x9768df['difficultyValue']!==_0x5cc4fe(0x3c5)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x9768df[_0x5cc4fe(0x98f)]+'\x22':'',_0x2fb447=_0x9768df[_0x5cc4fe(0x6b5)]!==_0x5cc4fe(0x1b4)?_0x5cc4fe(0x41d)+_0x9768df['complexityValue']+_0x5cc4fe(0xa65):'';let _0x4b3a34='';_0x9768df[_0x5cc4fe(0x871)]&&_0x9768df[_0x5cc4fe(0x871)][_0x5cc4fe(0xa90)]>0x0&&(_0x4b3a34='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x9768df[_0x5cc4fe(0x871)][_0x5cc4fe(0xab6)](',\x20')+'.');let _0x8652f0='';_0x4f1310&&(_0x8652f0=_0x5cc4fe(0x78b));let _0x50bff9='',_0xe624ba='',_0x531167,_0x2ba490=_0x5cc4fe(0x4d5)+_0x35e8cb+'\x22';if(!_0x35e8cb&&_0x49e079)_0x2ba490='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x35e8cb&&!_0x49e079&&(_0x2ba490=_0x5cc4fe(0x346));const _0x57c4fb={'type':'OBJECT','properties':{'questionText':{'type':_0x5cc4fe(0x942)},'options':{'type':_0x5cc4fe(0x6ae),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5cc4fe(0x78d)},'explanation':{'type':_0x5cc4fe(0x942)},'imageCode':{'type':_0x5cc4fe(0x942)}},'required':[_0x5cc4fe(0x2b3),_0x5cc4fe(0x4d1),'correctAnswerIndex',_0x5cc4fe(0x13e)]},_0x102b20={'type':_0x5cc4fe(0x469),'properties':{'questionText':{'type':_0x5cc4fe(0x942)},'idealAnswer':{'type':_0x5cc4fe(0x942)},'explanation':{'type':_0x5cc4fe(0x942)},'imageCode':{'type':_0x5cc4fe(0x942)}},'required':[_0x5cc4fe(0x2b3),'idealAnswer',_0x5cc4fe(0x13e)]},_0x325962={'type':_0x5cc4fe(0x469),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5cc4fe(0x942),'enum':[_0x5cc4fe(0x4bb),_0x5cc4fe(0xc3f)]},'options':{'type':_0x5cc4fe(0x6ae),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5cc4fe(0x78d)},'idealAnswer':{'type':_0x5cc4fe(0x942)},'explanation':{'type':_0x5cc4fe(0x942)},'imageCode':{'type':_0x5cc4fe(0x942)}},'required':['questionText',_0x5cc4fe(0x93a),_0x5cc4fe(0x13e)]},_0x34fafb={'type':'OBJECT','properties':{'questionText':{'type':_0x5cc4fe(0x942)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x5cc4fe(0x942)},'imageCode':{'type':_0x5cc4fe(0x942)}},'required':['questionText','correctAnswer',_0x5cc4fe(0x13e)]},_0x1d40ee={'type':_0x5cc4fe(0x469),'properties':{'questionType':{'type':'STRING','enum':[_0x5cc4fe(0x220)]},'stem':{'type':_0x5cc4fe(0x942)},'correctResponse':{'type':_0x5cc4fe(0x942)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x5cc4fe(0x942)},'imageCode':{'type':_0x5cc4fe(0x942)}},'required':[_0x5cc4fe(0x93a),'stem',_0x5cc4fe(0x47a),_0x5cc4fe(0x998),_0x5cc4fe(0x13e)]};let _0x404167;if(_0x18cd18!==null){}else{const _0x2d89c4=_0x9768df[_0x5cc4fe(0x509)]?_0x5cc4fe(0x6ee):'';switch(_0x9768df[_0x5cc4fe(0x769)]){case'multiple_choice':_0x50bff9='สร้างแบบทดสอบปรนัย'+_0x1102a4+'\x20'+_0x9768df['numQuestions']+_0x5cc4fe(0x8e3)+_0x2ba490+'\x20'+_0x4b3a34+'\x20'+_0x58aedc+'\x20'+_0x2fb447+'\x20'+_0x8652f0+_0x5cc4fe(0x68d)+_0x9768df[_0x5cc4fe(0x636)]+_0x5cc4fe(0x1fd)+_0x2d89c4+'\x20'+simpleMathPrompt,_0x531167=_0x57c4fb;break;case _0x5cc4fe(0xc96):_0x50bff9=_0x5cc4fe(0x87e)+_0x1102a4+'\x20'+_0x9768df[_0x5cc4fe(0x807)]+'\x20ข้อ\x20'+_0x2ba490+'\x20'+_0x4b3a34+'\x20'+_0x58aedc+'\x20'+_0x2fb447+'\x20'+_0x8652f0+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x9768df[_0x5cc4fe(0x636)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2d89c4+'\x20'+simpleMathPrompt,_0x531167=_0x57c4fb;break;case'fill_in_no_choices':_0x50bff9=_0x5cc4fe(0x87e)+_0x1102a4+'\x20'+_0x9768df['numQuestions']+_0x5cc4fe(0x8e3)+_0x2ba490+'\x20'+_0x4b3a34+'\x20'+_0x58aedc+'\x20'+_0x2fb447+'\x20'+_0x8652f0+_0x5cc4fe(0x629)+_0x2d89c4+'\x20'+simpleMathPrompt,_0x531167=_0x102b20;break;case _0x5cc4fe(0x1b4):_0x50bff9=_0x5cc4fe(0x3ee)+_0x1102a4+'\x20'+_0x9768df[_0x5cc4fe(0x807)]+_0x5cc4fe(0x8e3)+_0x2ba490+'\x20'+_0x4b3a34+'\x20'+_0x58aedc+'\x20'+_0x2fb447+'\x20'+_0x8652f0+_0x5cc4fe(0x9a4)+_0x9768df['numChoices']+_0x5cc4fe(0x61a)+_0x2d89c4+'\x20'+simpleMathPrompt+'.',_0x531167=_0x325962;break;case _0x5cc4fe(0x7f4):_0x50bff9=_0x5cc4fe(0x842)+_0x1102a4+'\x20'+_0x9768df[_0x5cc4fe(0x807)]+_0x5cc4fe(0x8e3)+_0x2ba490+'\x20'+_0x4b3a34+'\x20'+_0x58aedc+'\x20'+_0x2fb447+'\x20'+_0x8652f0+_0x5cc4fe(0x2f9)+_0x2d89c4+'\x20'+simpleMathPrompt,_0x531167=_0x34fafb;break;case _0x5cc4fe(0x939):_0x50bff9=_0x5cc4fe(0x3f4)+_0x1102a4+'\x20'+_0x9768df[_0x5cc4fe(0x807)]+_0x5cc4fe(0x3a1)+_0x2ba490+'\x20'+_0x4b3a34+'\x20'+_0x58aedc+'\x20'+_0x2fb447+'\x20'+_0x8652f0+_0x5cc4fe(0xb52)+_0x2d89c4+'\x20'+simpleMathPrompt,_0x531167=_0x1d40ee;break;}_0x404167={'type':_0x5cc4fe(0x469),'properties':{'topic':{'type':_0x5cc4fe(0x942)},'questions':{'type':'ARRAY','items':_0x531167}},'required':[_0x5cc4fe(0xcaf),_0x5cc4fe(0x966)]};}const _0x3fdc9d=_0x5cc4fe(0x11c);_0x49e079?(_0x2ac145?_0x50bff9='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x49e079+_0x5cc4fe(0xacb)+_0x50bff9+_0x3fdc9d:_0x50bff9=_0x5cc4fe(0xb00)+_0x49e079+_0x5cc4fe(0xacb)+_0x50bff9,_0xe624ba='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x2ac145&&(_0x50bff9+=_0x3fdc9d),_0xe624ba=_0x5cc4fe(0x119));let _0xfac876;return _0x4f1310?(_0xfac876=[{'text':_0x50bff9},..._0x4f1310],_0xe624ba='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0xfac876=_0x50bff9,handleApiCall(_0xfac876,_0xe624ba,_0x404167,_0x18cd18,!![],_0x3b4865,_0x3dc52a);}async function generateQuizFromFile(_0x56c5ea,_0x16fcf5){const _0x184412=_0x4e7cd8,_0x5022f4=document[_0x184412(0x1c2)]('file-topic-input')[_0x184412(0x9f1)]['trim'](),_0x54a8ad=document[_0x184412(0x1c2)](_0x184412(0xa67))['value'],_0x222866=document[_0x184412(0x1c2)](_0x184412(0x55b))[_0x184412(0x9f1)],_0x3d3c6e=document[_0x184412(0x1c2)](_0x184412(0x975))['value'],_0x50cebc=document[_0x184412(0x1c2)](_0x184412(0x819))[_0x184412(0x564)],_0x35ebff=document['getElementById'](_0x184412(0x262))['checked'],_0x4d0bb0=_0x35ebff?'':_0x184412(0x546),_0x1fe987=document[_0x184412(0x1c2)](_0x184412(0x1ef))['checked'];let _0x2a56eb='',_0x118606;const _0x3e6569=_0x50cebc?_0x184412(0x6ee):'';if(_0x1fe987)_0x2a56eb=_0x184412(0x4fd)+_0x3e6569+'\x0a'+simpleMathPrompt+'\x0a',_0x118606={'type':_0x184412(0x469),'properties':{'questionText':{'type':_0x184412(0x942)},'questionType':{'type':_0x184412(0x942),'enum':['multiple_choice','short_answer','true_false',_0x184412(0x220)]},'options':{'type':_0x184412(0x6ae),'items':{'type':_0x184412(0x942)}},'correctAnswerIndex':{'type':_0x184412(0x78d)},'idealAnswer':{'type':_0x184412(0x942)},'correctAnswer':{'type':_0x184412(0x945)},'stem':{'type':_0x184412(0x942)},'correctResponse':{'type':_0x184412(0x942)},'allResponses':{'type':'ARRAY','items':{'type':_0x184412(0x942)}},'explanation':{'type':_0x184412(0x942)},'imageCode':{'type':_0x184412(0x942)}},'required':['questionType',_0x184412(0x13e)]};else{let _0x135c10='เกี่ยวกับหัวข้อ\x20\x22'+_0x5022f4+'\x22';!_0x5022f4&&(_0x135c10=_0x184412(0xc03));switch(_0x54a8ad){case'multiple_choice':_0x2a56eb=_0x184412(0x154)+_0x4d0bb0+'\x20'+_0x222866+_0x184412(0x8e3)+_0x135c10+_0x184412(0x68d)+_0x3d3c6e+_0x184412(0x1fd)+_0x3e6569+'\x20'+simpleMathPrompt,_0x118606={'type':'OBJECT','properties':{'questionText':{'type':_0x184412(0x942)},'options':{'type':_0x184412(0x6ae),'items':{'type':_0x184412(0x942)}},'correctAnswerIndex':{'type':_0x184412(0x78d)},'explanation':{'type':_0x184412(0x942)},'imageCode':{'type':_0x184412(0x942)}},'required':['questionText',_0x184412(0x4d1),_0x184412(0xcab),_0x184412(0x13e)]};break;case _0x184412(0xc96):_0x2a56eb=_0x184412(0x87e)+_0x4d0bb0+'\x20'+_0x222866+_0x184412(0x8e3)+_0x135c10+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x3d3c6e+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x3e6569+'\x20'+simpleMathPrompt,_0x118606={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x184412(0x6ae),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x184412(0x942)},'imageCode':{'type':_0x184412(0x942)}},'required':[_0x184412(0x2b3),'options',_0x184412(0xcab),_0x184412(0x13e)]};break;case'fill_in_no_choices':_0x2a56eb=_0x184412(0x87e)+_0x4d0bb0+'\x20'+_0x222866+_0x184412(0x8e3)+_0x135c10+_0x184412(0x360)+_0x3e6569+'\x20'+simpleMathPrompt,_0x118606={'type':_0x184412(0x469),'properties':{'questionText':{'type':_0x184412(0x942)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x184412(0x942)},'imageCode':{'type':_0x184412(0x942)}},'required':[_0x184412(0x2b3),_0x184412(0x493),_0x184412(0x13e)]};break;case _0x184412(0x1b4):_0x2a56eb='สร้างแบบทดสอบ'+_0x4d0bb0+'\x20'+_0x222866+'\x20ข้อ\x20'+_0x135c10+_0x184412(0x7fb)+_0x3d3c6e+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x3e6569+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x118606={'type':_0x184412(0x469),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x184412(0x942),'enum':['multiple_choice',_0x184412(0xc3f)]},'options':{'type':'ARRAY','items':{'type':_0x184412(0x942)}},'correctAnswerIndex':{'type':_0x184412(0x78d)},'idealAnswer':{'type':_0x184412(0x942)},'explanation':{'type':_0x184412(0x942)},'imageCode':{'type':_0x184412(0x942)}},'required':[_0x184412(0x2b3),_0x184412(0x93a),'explanation']};break;case _0x184412(0x7f4):_0x2a56eb='สร้างคำถามแบบใช่/ไม่ใช่'+_0x4d0bb0+'\x20'+_0x222866+'\x20ข้อ\x20'+_0x135c10+_0x184412(0xc3d)+_0x3e6569+'\x20'+simpleMathPrompt,_0x118606={'type':_0x184412(0x469),'properties':{'questionText':{'type':_0x184412(0x942)},'correctAnswer':{'type':_0x184412(0x945)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x184412(0x942)}},'required':['questionText','correctAnswer',_0x184412(0x13e)]};break;case _0x184412(0x939):_0x2a56eb=_0x184412(0x3f4)+_0x4d0bb0+'\x20'+_0x222866+'\x20คู่\x20'+_0x135c10+_0x184412(0x7f6)+_0x222866+_0x184412(0xb10)+_0x3e6569+'\x20'+simpleMathPrompt,_0x118606={'type':_0x184412(0x469),'properties':{'questionType':{'type':'STRING','enum':[_0x184412(0x220)]},'stem':{'type':_0x184412(0x942)},'correctResponse':{'type':_0x184412(0x942)},'allResponses':{'type':'ARRAY','items':{'type':_0x184412(0x942)}},'explanation':{'type':_0x184412(0x942)},'imageCode':{'type':_0x184412(0x942)}},'required':[_0x184412(0x93a),_0x184412(0x732),_0x184412(0x47a),'allResponses',_0x184412(0x13e)]};break;}}const _0x191b50={'type':'OBJECT','properties':{'topic':{'type':_0x184412(0x942)},'questions':{'type':_0x184412(0x6ae),'items':_0x118606}},'required':['topic',_0x184412(0x966)]},_0xdb383e=_0x184412(0x445)+_0x2a56eb,_0xb82586={'contents':[{'parts':[{'text':_0xdb383e},{'inlineData':{'mimeType':_0x56c5ea,'data':_0x16fcf5}}]}],'generationConfig':{'responseMimeType':_0x184412(0xc23),'responseSchema':_0x191b50}};return handleApiCall(_0xb82586[_0x184412(0x83b)][0x0][_0x184412(0x7f2)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x191b50);}async function handleApiCall(_0xb739e,_0x5d3be0,_0x3b4cd3,_0x22f1ef=null,_0x1f132d=!![],_0x2fbbd3=null,_0x3ebfbd=null){const _0x4153e0=_0x4e7cd8,_0x13dccc=document[_0x4153e0(0x1c2)](_0x4153e0(0x280)),_0x1fb6a1=document['getElementById'](_0x4153e0(0xad6)),_0x29d66b=document[_0x4153e0(0x1c2)](_0x4153e0(0xa09)),_0xf7e33b=document[_0x4153e0(0x1c2)](_0x4153e0(0x188));_0x13dccc[_0x4153e0(0x12e)][_0x4153e0(0x1f9)](_0x4153e0(0x30a));_0x22f1ef===null&&_0x1f132d&&(_0xf7e33b[_0x4153e0(0x3e3)]='');_0x1fb6a1['classList'][_0x4153e0(0x1f9)](_0x4153e0(0x30a)),_0x29d66b[_0x4153e0(0x9a1)]=_0x5d3be0,document[_0x4153e0(0x1c2)](_0x4153e0(0x254))[_0x4153e0(0x78a)]=!![],document[_0x4153e0(0x1c2)](_0x4153e0(0xb13))[_0x4153e0(0x78a)]=!![],document['getElementById'](_0x4153e0(0x8c7))[_0x4153e0(0x78a)]=!![];const _0x42bcd7=document[_0x4153e0(0x1c2)](_0x4153e0(0x51c));if(_0x42bcd7)_0x42bcd7[_0x4153e0(0x78a)]=!![];const _0x1df0a5=document[_0x4153e0(0x1c2)](_0x4153e0(0x792));if(_0x1df0a5)_0x1df0a5['disabled']=!![];const _0x27e619=document['getElementById'](_0x4153e0(0xa27));if(_0x27e619)_0x27e619[_0x4153e0(0x78a)]=!![];try{const _0x5a9add=Array[_0x4153e0(0x2b1)](_0xb739e)?_0xb739e:[{'text':_0xb739e}],_0x54e2cb={'contents':[{'role':'user','parts':_0x5a9add}]};_0x3b4cd3&&(_0x54e2cb['generationConfig']={'responseMimeType':_0x4153e0(0xc23),'responseSchema':_0x3b4cd3});const _0xbc5ab5=_0x4153e0(0x65d),_0x8550cb=_0x4153e0(0x310)+_0xbc5ab5,_0x75d6c8=await fetch(_0x8550cb,{'method':'POST','headers':{'Content-Type':_0x4153e0(0xc23)},'body':JSON[_0x4153e0(0x462)](_0x54e2cb)});if(!_0x75d6c8['ok']){const _0x5c6c08=await _0x75d6c8[_0x4153e0(0x4d7)]();console['error'](_0x4153e0(0x90a),_0x5c6c08);throw new Error(_0x4153e0(0x225)+_0x75d6c8['status']);}const _0x122ab0=await _0x75d6c8[_0x4153e0(0x2cc)]();if(!_0x122ab0[_0x4153e0(0x719)]||_0x122ab0['candidates'][_0x4153e0(0xa90)]===0x0){let _0x3ac697='AI\x20did\x20not\x20return\x20any\x20content.';return _0x122ab0['promptFeedback']?.[_0x4153e0(0x619)]&&(_0x3ac697=_0x4153e0(0xb18)+_0x122ab0[_0x4153e0(0x3fb)]['blockReason']+'.'),console['error'](_0x3ac697,JSON[_0x4153e0(0x462)](_0x122ab0)),null;}const _0x3c9d1e=_0x122ab0[_0x4153e0(0x719)][0x0][_0x4153e0(0x529)][_0x4153e0(0x7f2)][0x0]['text'];if(_0x3b4cd3){let _0x3c03c9=_0x3c9d1e;if(_0x3c03c9[_0x4153e0(0x384)](_0x4153e0(0x688)))_0x3c03c9=_0x3c03c9[_0x4153e0(0x6f5)](0x7,_0x3c03c9[_0x4153e0(0xa90)]-0x3)[_0x4153e0(0x492)]();else _0x3c03c9[_0x4153e0(0x384)](_0x4153e0(0x97c))&&(_0x3c03c9=_0x3c03c9['substring'](0x3,_0x3c03c9[_0x4153e0(0xa90)]-0x3)['trim']());let _0x19f984=JSON[_0x4153e0(0x281)](_0x3c03c9);if(_0x1f132d){if(_0x22f1ef!==null){}else currentQuizData=_0x19f984,displayGeneratedQuiz(currentQuizData,_0x2fbbd3,_0x3ebfbd);}return _0x19f984;}else return _0x3c9d1e;}catch(_0x1be485){console[_0x4153e0(0x2da)](_0x4153e0(0xbec),_0x1be485),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x1be485[_0x4153e0(0x516)]);_0x1f132d&&(_0xf7e33b['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x1be485;}finally{_0x1fb6a1[_0x4153e0(0x12e)][_0x4153e0(0x7d7)](_0x4153e0(0x30a)),document[_0x4153e0(0x1c2)](_0x4153e0(0x254))['disabled']=![],document[_0x4153e0(0x1c2)](_0x4153e0(0xb13))[_0x4153e0(0x78a)]=![],document[_0x4153e0(0x1c2)](_0x4153e0(0x8c7))[_0x4153e0(0x78a)]=![];if(_0x42bcd7)_0x42bcd7[_0x4153e0(0x78a)]=![];if(_0x1df0a5)_0x1df0a5[_0x4153e0(0x78a)]=![];if(_0x27e619)_0x27e619[_0x4153e0(0x78a)]=![];}}function exitFullscreen(){const _0x5687e7=_0x4e7cd8;if(document[_0x5687e7(0x482)])document[_0x5687e7(0x482)]()[_0x5687e7(0xba5)](_0x47f290=>console['error'](_0x47f290));else{if(document[_0x5687e7(0x34a)])document[_0x5687e7(0x34a)]();else document[_0x5687e7(0xaf7)]&&document[_0x5687e7(0xaf7)]();}}function enterFullscreen(){const _0x3b44a0=_0x4e7cd8,_0x1b481e=document[_0x3b44a0(0x1d8)];if(_0x1b481e[_0x3b44a0(0x764)])_0x1b481e[_0x3b44a0(0x764)]()[_0x3b44a0(0xba5)](_0x5795ec=>{const _0x18adc3=_0x3b44a0;console[_0x18adc3(0x2da)](_0x18adc3(0xc7b)+_0x5795ec[_0x18adc3(0x516)]+'\x20('+_0x5795ec[_0x18adc3(0x82b)]+')');});else{if(_0x1b481e[_0x3b44a0(0x950)])_0x1b481e[_0x3b44a0(0x950)]();else _0x1b481e['msRequestFullscreen']&&_0x1b481e[_0x3b44a0(0xa3b)]();}}function handleCheatingEvent(){const _0x131b5a=_0x4e7cd8;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x131b5a(0x266),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x131b5a(0x64f)+maxCheatAttempts+_0x131b5a(0x9cf)),document[_0x131b5a(0x1c2)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x131b5a(0xbb4),handleVisibilityChange),document[_0x131b5a(0x208)]('fullscreenchange',handleFullscreenChange)):showMessage(_0x131b5a(0x8c2)+cheatAttempts+'/'+maxCheatAttempts+_0x131b5a(0x312),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4fbeef=_0x4e7cd8;if(currentMode===_0x4fbeef(0x3da)||!isQuizActive)return;if(document[_0x4fbeef(0x31f)]===_0x4fbeef(0x30a))handleCheatingEvent();else document[_0x4fbeef(0x31f)]===_0x4fbeef(0x3c8)&&(console['log'](_0x4fbeef(0xa7a)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x43005d=_0x4e7cd8;if(currentMode===_0x43005d(0x3da)||!isQuizActive)return;!document[_0x43005d(0x69a)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x5082af,_0x5c2d3c=null,_0x515b28=null){const _0x3395dc=_0x4e7cd8,_0xffa873=document[_0x3395dc(0x1c2)](_0x3395dc(0x188));let _0x2733d1='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x5082af[_0x3395dc(0xcaf)]+'</h3>';_0x5082af[_0x3395dc(0x966)]['forEach']((_0x3d6ad0,_0x20f035)=>{const _0x19768d=_0x3395dc;!_0x3d6ad0['id']&&(_0x3d6ad0['id']='q_'+Date[_0x19768d(0x6d6)]()+'_'+_0x20f035);const _0x146728=_0x3d6ad0[_0x19768d(0x93a)]||_0x5082af[_0x19768d(0x769)];_0x2733d1+=_0x19768d(0x48f)+_0x20f035+_0x19768d(0x57f)+_0x20f035+_0x19768d(0xa75)+_0x20f035+_0x19768d(0x7d0);switch(_0x146728){case'matching_item':_0x2733d1+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x20f035+'\x22>'+(_0x20f035+0x1)+'.\x20'+_0x3d6ad0['stem']+'</p>';_0x3d6ad0[_0x19768d(0x291)]&&(_0x2733d1+='<div\x20id=\x22q-image-container-'+_0x20f035+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3d6ad0[_0x19768d(0x291)]+_0x19768d(0xc4f));_0x2733d1+=_0x19768d(0xc93)+_0x20f035+'\x22>'+_0x3d6ad0['correctResponse']+_0x19768d(0x977),_0x2733d1+=_0x19768d(0x4d3)+_0x20f035+'\x22>'+_0x3d6ad0[_0x19768d(0x13e)]+'</span></div>';break;case _0x19768d(0xc3f):_0x2733d1+=_0x19768d(0x801)+_0x20f035+'\x22>'+(_0x20f035+0x1)+'.\x20'+_0x3d6ad0['questionText']+_0x19768d(0x35e);_0x3d6ad0['imageCode']&&(_0x2733d1+=_0x19768d(0xb1d)+_0x20f035+_0x19768d(0x9a7)+_0x3d6ad0[_0x19768d(0x291)]+'</div>');_0x2733d1+=_0x19768d(0xa73)+_0x20f035+'\x22>'+_0x3d6ad0[_0x19768d(0x493)]+'</span></div>',_0x2733d1+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x20f035+'\x22>'+_0x3d6ad0[_0x19768d(0x13e)]+_0x19768d(0x977);break;case _0x19768d(0x7f4):_0x2733d1+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x20f035+'\x22>'+(_0x20f035+0x1)+'.\x20'+_0x3d6ad0[_0x19768d(0x2b3)]+'</p>';_0x3d6ad0['imageCode']&&(_0x2733d1+='<div\x20id=\x22q-image-container-'+_0x20f035+_0x19768d(0x9a7)+_0x3d6ad0[_0x19768d(0x291)]+'</div>');_0x2733d1+=_0x19768d(0xa1b)+(_0x3d6ad0[_0x19768d(0x209)]===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x3d6ad0[_0x19768d(0x209)]===![]?_0x19768d(0x965):'')+_0x19768d(0xbb6),_0x2733d1+=_0x19768d(0x4d3)+_0x20f035+'\x22>'+_0x3d6ad0[_0x19768d(0x13e)]+_0x19768d(0x977);break;case _0x19768d(0x1bb):case _0x19768d(0x4bb):default:_0x2733d1+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x20f035+'\x22>'+(_0x20f035+0x1)+'.\x20'+_0x3d6ad0[_0x19768d(0x2b3)]+_0x19768d(0x35e);_0x3d6ad0[_0x19768d(0x291)]&&(_0x2733d1+=_0x19768d(0xb1d)+_0x20f035+_0x19768d(0x9a7)+_0x3d6ad0['imageCode']+_0x19768d(0xc4f));_0x2733d1+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x20f035+_0x19768d(0x7d9)+(_0x3d6ad0[_0x19768d(0x4d1)]||[])[_0x19768d(0xa26)]((_0x44beb0,_0xdfe12e)=>_0x19768d(0x48b)+(_0xdfe12e===_0x3d6ad0[_0x19768d(0xcab)]?_0x19768d(0x965):'')+'\x22>'+_0x44beb0+_0x19768d(0x775))['join']('')+_0x19768d(0x856),_0x2733d1+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x20f035+'\x22>'+_0x3d6ad0[_0x19768d(0x13e)]+_0x19768d(0x977);break;}_0x2733d1+=_0x19768d(0xc4f);}),_0x2733d1+=_0x3395dc(0x8a0),_0xffa873['innerHTML']=_0x2733d1,document[_0x3395dc(0x9f4)]('.edit-question-btn')['forEach'](_0x4f55be=>_0x4f55be[_0x3395dc(0xa37)]('click',handleEditQuestion)),document[_0x3395dc(0x9f4)](_0x3395dc(0x211))['forEach'](_0x259455=>_0x259455[_0x3395dc(0xa37)](_0x3395dc(0xbdd),handleRegenerateQuestion)),document[_0x3395dc(0x1c2)](_0x3395dc(0xc8e))['addEventListener']('click',exportQuizAsWorksheetPDF),document[_0x3395dc(0x1c2)]('verify-answers-btn')['addEventListener'](_0x3395dc(0xbdd),handleVerifyAnswers);const _0x31ac6c=document[_0x3395dc(0x1c2)](_0x3395dc(0x5b2));if(_0x31ac6c){const _0x3d893f=_0x5c2d3c||currentProjectId;_0x31ac6c[_0x3395dc(0xa37)](_0x3395dc(0xbdd),()=>saveQuiz(_0x3d893f,_0x515b28));}if(window[_0x3395dc(0x196)])window[_0x3395dc(0x196)][_0x3395dc(0x7ca)]([_0xffa873]);}function handleRegenerateQuestion(_0x1702c9){const _0x248ec5=_0x4e7cd8,_0x5df795=_0x1702c9[_0x248ec5(0x686)][_0x248ec5(0x928)][_0x248ec5(0x1cc)],_0x4b63da=currentQuizData[_0x248ec5(0xcaf)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x5df795)+0x1)+'\x20ใหม่...'),generateQuiz(_0x4b63da,null,parseInt(_0x5df795));}function getPointerPosition(_0x7d8d30,_0x1bcbbe){const _0x9f0cb5=_0x4e7cd8,_0x269539=_0x7d8d30[_0x9f0cb5(0xa9c)]();let _0x32bfbc,_0x24c904;return _0x1bcbbe[_0x9f0cb5(0x85d)]&&_0x1bcbbe[_0x9f0cb5(0x85d)]['length']>0x0?(_0x32bfbc=_0x1bcbbe['touches'][0x0][_0x9f0cb5(0x1b7)],_0x24c904=_0x1bcbbe[_0x9f0cb5(0x85d)][0x0][_0x9f0cb5(0xb1f)]):(_0x32bfbc=_0x1bcbbe[_0x9f0cb5(0x1b7)],_0x24c904=_0x1bcbbe[_0x9f0cb5(0xb1f)]),{'x':(_0x32bfbc-_0x269539['e'])/_0x269539['a'],'y':(_0x24c904-_0x269539['f'])/_0x269539['d']};}function startDrag(_0x156dce){const _0xa7519d=_0x4e7cd8;_0x156dce[_0xa7519d(0x248)]==='touchstart'&&_0x156dce[_0xa7519d(0x3fd)]();const _0x4d15f2=_0x156dce[_0xa7519d(0x12a)][_0xa7519d(0xbdf)](_0xa7519d(0x79a));if(_0x4d15f2){draggedSvgElement=_0x4d15f2;const _0x3d94de=draggedSvgElement[_0xa7519d(0xa63)],_0x3506ab=getPointerPosition(_0x3d94de,_0x156dce);svgOffset['x']=_0x3506ab['x']-parseFloat(draggedSvgElement[_0xa7519d(0x702)](null,'x')),svgOffset['y']=_0x3506ab['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x2afec6,_0x2d609f){const _0x55073a=_0x4e7cd8,_0x3f0688={};if(_0x2d609f['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2999c5=[..._0x2d609f][_0x55073a(0x327)]((_0x541557,_0x4b6395)=>{const _0x439770=_0x55073a,_0x4d1292=_0x4b6395['latestScore']-_0x541557['latestScore'];if(_0x4d1292!==0x0)return _0x4d1292;const _0x31eeb0=_0x541557[_0x439770(0xba1)]?.[_0x439770(0xa90)]||0x1,_0x38b486=_0x4b6395[_0x439770(0xba1)]?.[_0x439770(0xa90)]||0x1,_0x502296=_0x31eeb0-_0x38b486;if(_0x502296!==0x0)return _0x502296;const _0x1e0214=new Date(_0x541557[_0x439770(0x66b)]),_0xce4463=new Date(_0x4b6395[_0x439770(0x66b)]),_0x494da8=_0x1e0214-_0xce4463;if(_0x494da8!==0x0)return _0x494da8;return _0x541557[_0x439770(0xc3e)][_0x439770(0x8d0)](_0x4b6395['studentName'],'th');}),_0x56832b=_0x2999c5[_0x55073a(0xa90)],_0x3ffbed=Math['max'](0x1,Math[_0x55073a(0xa32)](_0x56832b*0.33));if(_0x3ffbed===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x41e4d3=_0x2999c5[_0x55073a(0xb79)](0x0,_0x3ffbed),_0x10438a=_0x2999c5['slice'](-_0x3ffbed),_0x5a4cd7=_0x41e4d3[_0x55073a(0xa26)](_0x32334c=>_0x32334c[_0x55073a(0xc3e)]),_0x474e2b=_0x10438a[_0x55073a(0xa26)](_0x30f3e5=>_0x30f3e5[_0x55073a(0xc3e)]);return _0x2afec6['questions'][_0x55073a(0x8ca)]((_0x48f6ac,_0x3ac3f3)=>{const _0x1a7d14=_0x55073a,_0x33b569=_0x48f6ac[_0x1a7d14(0x732)]||_0x48f6ac[_0x1a7d14(0x2b3)];let _0x1776f0=0x0,_0x56d336=0x0,_0x296d74=0x0;const _0x3405b0=[],_0x238b2e=[];_0x41e4d3[_0x1a7d14(0x8ca)](_0x482ac1=>{const _0x5afc0f=_0x1a7d14,_0xda433e=_0x482ac1[_0x5afc0f(0xba1)][_0x482ac1[_0x5afc0f(0xba1)][_0x5afc0f(0xa90)]-0x1],_0x25a80d=_0xda433e[_0x5afc0f(0x361)][_0x5afc0f(0x135)](_0x3c0bc8=>_0x3c0bc8['originalQuestionText']===_0x33b569);_0x3405b0[_0x5afc0f(0x6d9)]({'name':_0x482ac1[_0x5afc0f(0xc3e)],'isCorrect':_0x25a80d?_0x25a80d[_0x5afc0f(0xaf8)]:![]}),_0x25a80d&&_0x25a80d[_0x5afc0f(0xaf8)]&&_0x56d336++;}),_0x10438a[_0x1a7d14(0x8ca)](_0x14e01d=>{const _0x5154bb=_0x1a7d14,_0x31aed9=_0x14e01d[_0x5154bb(0xba1)][_0x14e01d[_0x5154bb(0xba1)][_0x5154bb(0xa90)]-0x1],_0x25aeba=_0x31aed9[_0x5154bb(0x361)]['find'](_0x3736c6=>_0x3736c6[_0x5154bb(0x393)]===_0x33b569);_0x238b2e['push']({'name':_0x14e01d['studentName'],'isCorrect':_0x25aeba?_0x25aeba[_0x5154bb(0xaf8)]:![]}),_0x25aeba&&_0x25aeba[_0x5154bb(0xaf8)]&&_0x296d74++;}),_0x2d609f['forEach'](_0x1428c8=>{const _0x35f85e=_0x1a7d14,_0x20ebad=_0x1428c8[_0x35f85e(0xba1)][_0x1428c8[_0x35f85e(0xba1)][_0x35f85e(0xa90)]-0x1],_0x35871f=_0x20ebad['answers'][_0x35f85e(0x135)](_0x5b226b=>_0x5b226b[_0x35f85e(0x393)]===_0x33b569);_0x35871f&&_0x35871f[_0x35f85e(0xaf8)]&&_0x1776f0++;});const _0x1b9a36=_0x56832b>0x0?_0x1776f0/_0x56832b:0x0,_0x368575=_0x3ffbed>0x0?_0x56d336/_0x3ffbed-_0x296d74/_0x3ffbed:0x0;_0x3f0688[_0x3ac3f3]={'p':_0x1b9a36,'r':_0x368575,'upperGroupResponders':_0x3405b0,'lowerGroupResponders':_0x238b2e};}),{'perQuestionStats':_0x3f0688,'overallGroups':{'upperGroupNames':_0x5a4cd7,'lowerGroupNames':_0x474e2b}};}function drag(_0x4a0fad){const _0xe4f83e=_0x4e7cd8;if(draggedSvgElement){_0x4a0fad['preventDefault']();const _0x513e5b=draggedSvgElement[_0xe4f83e(0xa63)],_0x54c937=getPointerPosition(_0x513e5b,_0x4a0fad),_0x30dc6=_0x513e5b['viewBox'][_0xe4f83e(0x913)];let _0x46cb61=_0x54c937['x']-svgOffset['x'],_0x40fcf8=_0x54c937['y']-svgOffset['y'];const _0x11d596=draggedSvgElement[_0xe4f83e(0xaeb)]();_0x46cb61=Math[_0xe4f83e(0x3a8)](_0x30dc6['x'],Math[_0xe4f83e(0x90f)](_0x46cb61,_0x30dc6['x']+_0x30dc6[_0xe4f83e(0x814)]-_0x11d596[_0xe4f83e(0x814)])),_0x40fcf8=Math['max'](_0x30dc6['y'],Math[_0xe4f83e(0x90f)](_0x40fcf8,_0x30dc6['y']+_0x30dc6[_0xe4f83e(0x59f)]-_0x11d596[_0xe4f83e(0x59f)])),draggedSvgElement[_0xe4f83e(0x6d7)](null,'x',_0x46cb61),draggedSvgElement[_0xe4f83e(0x6d7)](null,'y',_0x40fcf8);}}function endDrag(_0x4586b4){draggedSvgElement=null;}function handleSvgEditClick(_0x3d98c8){const _0xaf0d0e=_0x4e7cd8;if(_0x3d98c8[_0xaf0d0e(0x12a)]['classList'][_0xaf0d0e(0xa84)](_0xaf0d0e(0x656))){const _0x5e9b30=_0x3d98c8['target'][_0xaf0d0e(0x928)][_0xaf0d0e(0x897)],_0x37f87d=_0x3d98c8['currentTarget'],_0x3d4b14=_0x37f87d['querySelector']('#'+_0x5e9b30);_0x3d4b14&&_0x3d4b14['remove'](),_0x3d98c8[_0xaf0d0e(0x12a)]['remove']();}}function handleEditQuestion(_0x2d011f){const _0x124d39=_0x4e7cd8,_0x2004ca=_0x2d011f['currentTarget'],_0x38a1f2=_0x2004ca[_0x124d39(0x928)][_0x124d39(0x1cc)],_0x5b4e55=currentQuizData[_0x124d39(0x966)][_0x38a1f2],_0x127161=document['getElementById'](_0x124d39(0x6e0)+_0x38a1f2),_0x144f91=document[_0x124d39(0x1c2)](_0x124d39(0x66f)+_0x38a1f2),_0x2097c1=document[_0x124d39(0x1c2)](_0x124d39(0x547)+_0x38a1f2);if(_0x2004ca[_0x124d39(0x3e3)][_0x124d39(0x4c2)](_0x124d39(0xbad))){_0x2004ca[_0x124d39(0x3e3)]=_0x124d39(0x3c7),_0x2004ca[_0x124d39(0x8d7)]=_0x124d39(0xa77);if(_0x127161)_0x127161[_0x124d39(0xa3f)]=!![];if(_0x144f91)_0x144f91[_0x124d39(0xa3f)]=!![];if(_0x2097c1){const _0x50de0b=_0x2097c1[_0x124d39(0x8b9)](_0x124d39(0x6a0));if(_0x50de0b){const _0x1fe63b=_0x50de0b[_0x124d39(0x9f4)]('text');_0x1fe63b[_0x124d39(0x8ca)]((_0x4b940f,_0x45852d)=>{const _0x1b2e7b=_0x124d39,_0x412bb1=_0x1b2e7b(0x517)+_0x38a1f2+'-'+_0x45852d;_0x4b940f['id']=_0x412bb1,_0x4b940f[_0x1b2e7b(0x12e)]['add'](_0x1b2e7b(0x89a)),_0x4b940f[_0x1b2e7b(0xa10)]['cursor']=_0x1b2e7b(0xae9);const _0x4f6a94=document[_0x1b2e7b(0x5f7)](_0x1b2e7b(0x985),'circle'),_0x2738aa=_0x4b940f[_0x1b2e7b(0xaeb)]();_0x4f6a94[_0x1b2e7b(0xc08)]('cx',String(_0x2738aa['x']+_0x2738aa['width']+0x5)),_0x4f6a94[_0x1b2e7b(0xc08)]('cy',String(_0x2738aa['y']+_0x2738aa[_0x1b2e7b(0x59f)]/0x2-0x5)),_0x4f6a94[_0x1b2e7b(0xc08)]('r','5'),_0x4f6a94[_0x1b2e7b(0xc08)]('fill',_0x1b2e7b(0x9e6)),_0x4f6a94[_0x1b2e7b(0xc08)](_0x1b2e7b(0x316),'delete-svg-btn'),_0x4f6a94[_0x1b2e7b(0x928)][_0x1b2e7b(0x897)]=_0x412bb1,_0x4b940f['after'](_0x4f6a94);}),_0x50de0b[_0x124d39(0xa37)]('mousedown',startDrag),_0x50de0b[_0x124d39(0xa37)](_0x124d39(0x46b),drag),_0x50de0b[_0x124d39(0xa37)]('mouseup',endDrag),_0x50de0b[_0x124d39(0xa37)](_0x124d39(0xb09),endDrag),_0x50de0b[_0x124d39(0xa37)](_0x124d39(0xbdc),startDrag,{'passive':![]}),_0x50de0b[_0x124d39(0xa37)]('touchmove',drag,{'passive':![]}),_0x50de0b[_0x124d39(0xa37)](_0x124d39(0xc0c),endDrag),_0x50de0b['addEventListener'](_0x124d39(0x2e9),endDrag),_0x50de0b[_0x124d39(0xa37)](_0x124d39(0xbdd),handleSvgEditClick);}}if(_0x127161)_0x127161[_0x124d39(0xa2f)]();}else{_0x2004ca[_0x124d39(0x3e3)]=_0x124d39(0x569),_0x2004ca['title']=_0x124d39(0x577);if(_0x127161){_0x127161['contentEditable']=![];const _0x5ab15d=_0x5b4e55[_0x124d39(0x93a)]||currentQuizData[_0x124d39(0x769)];_0x5ab15d===_0x124d39(0x220)?_0x5b4e55[_0x124d39(0x732)]=_0x127161[_0x124d39(0x1cd)][_0x124d39(0x6f5)](_0x127161[_0x124d39(0x1cd)][_0x124d39(0xb27)]('.')+0x2)['trim']():_0x5b4e55[_0x124d39(0x2b3)]=_0x127161[_0x124d39(0x1cd)][_0x124d39(0x6f5)](_0x127161[_0x124d39(0x1cd)][_0x124d39(0xb27)]('.')+0x2)[_0x124d39(0x492)]();}_0x144f91&&(_0x144f91[_0x124d39(0xa3f)]=![],_0x5b4e55[_0x124d39(0x13e)]=_0x144f91[_0x124d39(0x1cd)]);if(_0x2097c1){const _0x461595=_0x2097c1[_0x124d39(0x8b9)](_0x124d39(0x6a0));if(_0x461595){const _0x38330c=_0x461595['cloneNode'](!![]);_0x38330c[_0x124d39(0x9f4)](_0x124d39(0x715))[_0x124d39(0x8ca)](_0x37bbfb=>_0x37bbfb[_0x124d39(0x1f9)]()),_0x38330c['querySelectorAll'](_0x124d39(0x79a))['forEach'](_0x2f2520=>{const _0x4c11a4=_0x124d39;_0x2f2520[_0x4c11a4(0x12e)][_0x4c11a4(0x1f9)]('draggable-text'),_0x2f2520[_0x4c11a4(0xa10)][_0x4c11a4(0x17f)]=_0x4c11a4(0x76c),_0x2f2520['removeAttribute']('id');}),_0x5b4e55['imageCode']=_0x38330c['outerHTML'],_0x461595[_0x124d39(0x208)](_0x124d39(0x8af),startDrag),_0x461595[_0x124d39(0x208)](_0x124d39(0x46b),drag),_0x461595['removeEventListener']('mouseup',endDrag),_0x461595[_0x124d39(0x208)]('mouseleave',endDrag),_0x461595[_0x124d39(0x208)](_0x124d39(0xbdc),startDrag),_0x461595[_0x124d39(0x208)](_0x124d39(0x780),drag),_0x461595[_0x124d39(0x208)]('touchend',endDrag),_0x461595[_0x124d39(0x208)](_0x124d39(0x2e9),endDrag),_0x461595[_0x124d39(0x208)]('click',handleSvgEditClick),_0x461595['querySelectorAll']('.delete-svg-btn')[_0x124d39(0x8ca)](_0x34a998=>_0x34a998['remove']()),_0x461595[_0x124d39(0x9f4)](_0x124d39(0x79a))[_0x124d39(0x8ca)](_0x24516f=>{const _0x8b7f35=_0x124d39;_0x24516f['classList'][_0x8b7f35(0x1f9)]('draggable-text'),_0x24516f['style'][_0x8b7f35(0x17f)]=_0x8b7f35(0x76c);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x49fb44){const _0x1785c1=_0x4e7cd8,_0xaa58b4=document[_0x1785c1(0x1c2)](_0x1785c1(0x315)),_0x1648ac=document[_0x1785c1(0x1c2)](_0x1785c1(0xa99));_0x1648ac[_0x1785c1(0x3e3)]=_0x1785c1(0xc38),_0xaa58b4[_0x1785c1(0x12e)][_0x1785c1(0x1f9)](_0x1785c1(0x30a));try{const _0x39cd6a=doc(db,_0x1785c1(0xbc5)+appId+'/public/data/quizzes',_0x49fb44),_0x1738c8=await getDoc(_0x39cd6a);if(!_0x1738c8[_0x1785c1(0x7b7)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x49fb44,..._0x1738c8['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x49195c){console['error'](_0x1785c1(0x9a9),_0x49195c),showMessage(_0x1785c1(0x44e)),_0xaa58b4[_0x1785c1(0x12e)]['add'](_0x1785c1(0x30a));}}function renderQuizEditor(_0xe96e21){const _0x504acd=_0x4e7cd8;document[_0x504acd(0x1c2)](_0x504acd(0xa22))[_0x504acd(0x9f1)]=_0xe96e21[_0x504acd(0xcaf)];const _0x73fc60=document[_0x504acd(0x1c2)]('quiz-editor-questions-container');let _0x1c951c=_0xe96e21[_0x504acd(0x966)][_0x504acd(0xa26)]((_0x10ed0d,_0x224e9f)=>{const _0x5efb2d=_0x504acd;let _0x247325='';const _0x408759=_0x10ed0d[_0x5efb2d(0x93a)]||_0xe96e21['quizType'];switch(_0x408759){case _0x5efb2d(0x4bb):const _0x56e07e=(_0x10ed0d[_0x5efb2d(0x4d1)]||[])[_0x5efb2d(0xa26)]((_0x10271d,_0x50e072)=>_0x5efb2d(0xa82)+_0x224e9f+'\x22\x20value=\x22'+_0x50e072+'\x22\x20'+(_0x50e072===_0x10ed0d[_0x5efb2d(0xcab)]?'checked':'')+_0x5efb2d(0xa2a)+_0x10271d+_0x5efb2d(0x5b5))[_0x5efb2d(0xab6)]('');_0x247325=_0x5efb2d(0x34d)+_0x56e07e+_0x5efb2d(0xcb5);break;case'short_answer':_0x247325='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x10ed0d[_0x5efb2d(0x493)]||'')+_0x5efb2d(0x401);break;case _0x5efb2d(0x7f4):_0x247325=_0x5efb2d(0xba6)+_0x224e9f+'\x22\x20value=\x22true\x22\x20'+(_0x10ed0d[_0x5efb2d(0x209)]===!![]?_0x5efb2d(0x564):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x224e9f+_0x5efb2d(0xa44)+(_0x10ed0d[_0x5efb2d(0x209)]===![]?_0x5efb2d(0x564):'')+_0x5efb2d(0x417);break;case _0x5efb2d(0x220):_0x247325=_0x5efb2d(0x530)+(_0x10ed0d[_0x5efb2d(0x47a)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x444dc2=_0x10ed0d[_0x5efb2d(0x2b3)]||_0x10ed0d[_0x5efb2d(0x732)]||'';return _0x5efb2d(0x97b)+_0x224e9f+_0x5efb2d(0x375)+_0x408759+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x224e9f+0x1)+'\x20('+_0x408759+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x444dc2+_0x5efb2d(0x94f)+_0x247325+_0x5efb2d(0xb9c);})[_0x504acd(0xab6)]('');_0x73fc60['innerHTML']=_0x1c951c,_0x73fc60['querySelectorAll'](_0x504acd(0xc32))[_0x504acd(0x8ca)](_0x5e4142=>{const _0x1a54f1=_0x504acd;_0x5e4142[_0x1a54f1(0xa37)]('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x599bf5){const _0x24fac2=_0x4e7cd8,_0x1d183d=_0x599bf5[_0x24fac2(0x686)],_0x2b6a48=_0x1d183d[_0x24fac2(0xbdf)](_0x24fac2(0x11d));if(!_0x2b6a48)return;const _0xce2ebf=parseInt(_0x2b6a48['dataset'][_0x24fac2(0x76f)],0xa);if(isNaN(_0xce2ebf)||!currentEditingQuizData['questions'][_0xce2ebf]){showMessage(_0x24fac2(0xbbe));return;}const _0x58d914=currentEditingQuizData['questions'][_0xce2ebf];_0x1d183d[_0x24fac2(0x3e3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x1d183d['disabled']=!![];const _0x3fbf29=_0x24fac2(0x45f)+JSON[_0x24fac2(0x462)](_0x58d914)+_0x24fac2(0x82a);let _0x50d887;const _0x5615a9=_0x58d914['questionType']||currentEditingQuizData['quizType'];switch(_0x5615a9){case _0x24fac2(0xc3f):_0x50d887={'type':_0x24fac2(0x469),'properties':{'questionText':{'type':_0x24fac2(0x942)},'idealAnswer':{'type':_0x24fac2(0x942)},'explanation':{'type':_0x24fac2(0x942)},'imageCode':{'type':_0x24fac2(0x942)}},'required':['questionText','idealAnswer','explanation']};break;case'multiple_choice':default:_0x50d887={'type':_0x24fac2(0x469),'properties':{'questionText':{'type':_0x24fac2(0x942)},'options':{'type':_0x24fac2(0x6ae),'items':{'type':_0x24fac2(0x942)}},'correctAnswerIndex':{'type':_0x24fac2(0x78d)},'explanation':{'type':_0x24fac2(0x942)},'imageCode':{'type':_0x24fac2(0x942)}},'required':['questionText','options','correctAnswerIndex','explanation']};break;}try{let _0x226c28=await callAnalysisApi(_0x3fbf29,_0x50d887);_0x226c28[_0x24fac2(0x4d1)]&&Array[_0x24fac2(0x2b1)](_0x226c28[_0x24fac2(0x4d1)])&&(_0x226c28[_0x24fac2(0x4d1)]=_0x226c28[_0x24fac2(0x4d1)][_0x24fac2(0xa26)](_0x256460=>typeof _0x256460===_0x24fac2(0x52f)?_0x256460[_0x24fac2(0x98e)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x256460)),_0x58d914['imageCode']&&_0x58d914[_0x24fac2(0x291)]['includes']('fix\x20the\x20option')&&(_0x226c28[_0x24fac2(0x291)]=''),currentEditingQuizData[_0x24fac2(0x966)][_0xce2ebf]={..._0x58d914,..._0x226c28},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x5afb9d){console[_0x24fac2(0x2da)](_0x24fac2(0x29a),_0x5afb9d),showMessage(_0x24fac2(0x5c3)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x163bca=_0x4e7cd8,_0x47035e=document[_0x163bca(0x1c2)](_0x163bca(0x72a));_0x47035e[_0x163bca(0x78a)]=!![],_0x47035e['innerHTML']=_0x163bca(0x419);try{const _0x5b3747=document[_0x163bca(0x1c2)](_0x163bca(0xa22))[_0x163bca(0x9f1)],_0x516830=document[_0x163bca(0x9f4)](_0x163bca(0x11d));let _0x18c1e7=[];const _0x430c2c=Array[_0x163bca(0x1c7)](_0x516830)[_0x163bca(0xa26)]((_0x3d9f09,_0x5744a7)=>{const _0x45c767=_0x163bca,_0x448b0d=_0x3d9f09[_0x45c767(0x928)][_0x45c767(0x861)],_0x1a5819=_0x3d9f09[_0x45c767(0x8b9)](_0x45c767(0x868))[_0x45c767(0x9f1)][_0x45c767(0x98e)](/\n/g,'<br>');let _0xe4087f={'questionType':_0x448b0d};const _0x15ae35=currentEditingQuizData['questions'][_0x5744a7];switch(_0x448b0d){case _0x45c767(0x4bb):_0xe4087f[_0x45c767(0x2b3)]=_0x1a5819;const _0x320fa6=_0x3d9f09['querySelectorAll']('input[type=\x22text\x22]');_0xe4087f['options']=Array['from'](_0x320fa6)[_0x45c767(0xa26)](_0x5df6e0=>_0x5df6e0[_0x45c767(0x9f1)]);const _0x159b86=_0x3d9f09['querySelector'](_0x45c767(0x3db));_0xe4087f[_0x45c767(0xcab)]=_0x159b86?parseInt(_0x159b86[_0x45c767(0x9f1)]):0x0;break;case _0x45c767(0xc3f):_0xe4087f['questionText']=_0x1a5819,_0xe4087f[_0x45c767(0x493)]=_0x3d9f09['querySelector']('.ideal-answer-input')['value'];break;case _0x45c767(0x7f4):_0xe4087f[_0x45c767(0x2b3)]=_0x1a5819;const _0x29b62b=_0x3d9f09[_0x45c767(0x8b9)](_0x45c767(0x3db));_0xe4087f[_0x45c767(0x209)]=_0x29b62b?_0x29b62b[_0x45c767(0x9f1)]===_0x45c767(0xaa3):!![];break;case _0x45c767(0x220):_0xe4087f[_0x45c767(0x732)]=_0x1a5819;const _0x3d520f=_0x3d9f09[_0x45c767(0x8b9)](_0x45c767(0xc52));_0xe4087f[_0x45c767(0x47a)]=_0x3d520f?_0x3d520f[_0x45c767(0x9f1)]:'',_0x18c1e7[_0x45c767(0x6d9)](_0xe4087f['correctResponse']);break;default:_0xe4087f[_0x45c767(0x2b3)]=_0x1a5819;break;}return{..._0x15ae35,..._0xe4087f};});_0x18c1e7[_0x163bca(0xa90)]>0x0&&_0x430c2c['forEach'](_0x17bfbf=>{const _0x449881=_0x163bca;_0x17bfbf[_0x449881(0x93a)]==='matching_item'&&(_0x17bfbf[_0x449881(0x998)]=_0x18c1e7);});const _0x28dfab=currentEditingQuizData['id'],_0x170656=doc(db,'artifacts/'+appId+_0x163bca(0x5e2),_0x28dfab);await updateDoc(_0x170656,{'topic':_0x5b3747,'questions':_0x430c2c}),document[_0x163bca(0x1c2)](_0x163bca(0x315))[_0x163bca(0x12e)]['add'](_0x163bca(0x30a)),showMessage(_0x163bca(0x9e8),()=>initiateReGradeProcess(_0x28dfab));}catch(_0x33119b){console[_0x163bca(0x2da)](_0x163bca(0x490),_0x33119b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x47035e['disabled']=![],_0x47035e['innerHTML']=_0x163bca(0x7c7);}}async function initiateReGradeProcess(_0x2a3b80){const _0x18c26d=_0x4e7cd8;showMessage(_0x18c26d(0x448));try{const _0x2a6b25=doc(db,_0x18c26d(0xbc5)+appId+_0x18c26d(0x5e2),_0x2a3b80),_0x292279=await getDoc(_0x2a6b25);if(!_0x292279[_0x18c26d(0x7b7)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x15c2f4={'id':_0x2a3b80,..._0x292279[_0x18c26d(0x921)]()},_0x570b72=collection(db,'artifacts/'+appId+_0x18c26d(0x5e2),_0x2a3b80,_0x18c26d(0x882)),_0x3a6395=await getDocs(_0x570b72);if(_0x3a6395[_0x18c26d(0x25c)]){showMessage(_0x18c26d(0xb81));return;}const _0x3cf120=_0x3a6395[_0x18c26d(0x378)]['map'](_0x219792=>reGradeSingleSubmission(_0x219792,_0x15c2f4));await Promise['all'](_0x3cf120);if(_0x15c2f4['projectId']){const _0x5a5590=doc(db,'artifacts/'+appId+_0x18c26d(0x6e3),_0x15c2f4[_0x18c26d(0xa4a)]),_0x1eb2b7=await getDoc(_0x5a5590);if(_0x1eb2b7['exists']()&&_0x1eb2b7[_0x18c26d(0x921)]()[_0x18c26d(0x7f0)]){const _0x280762=_0x1eb2b7['data']()[_0x18c26d(0x7f0)][_0x18c26d(0xa26)](_0x19d0b7=>updateStudentProfile(_0x15c2f4[_0x18c26d(0xa4a)],_0x19d0b7));await Promise['all'](_0x280762);}}showMessage(_0x18c26d(0xa33)+_0x3a6395[_0x18c26d(0x7ee)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x5ba38b){console['error'](_0x18c26d(0x6e4),_0x5ba38b),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x5ba38b[_0x18c26d(0x516)]);}}async function reGradeSingleSubmission(_0x30c90e,_0x252f17){const _0x49bdca=_0x4e7cd8,_0x337f0a=_0x30c90e['data'](),_0x4070fa=_0x337f0a[_0x49bdca(0xc3e)],_0x733557=_0x337f0a['attempts']||[],_0x3696e9=[];for(const _0xbfde47 of _0x733557){let _0x2025ee=0x0,_0x344f34=[],_0x197ddc=0x0;const _0x2ee94a=[];for(const _0x2e05c3 of _0xbfde47[_0x49bdca(0x361)]){let _0x243c55;_0x2e05c3['questionId']&&(_0x243c55=_0x252f17[_0x49bdca(0x966)]['find'](_0x5f367f=>_0x5f367f['id']===_0x2e05c3[_0x49bdca(0x1da)]));!_0x243c55&&_0x2e05c3[_0x49bdca(0x393)]&&(_0x243c55=_0x252f17[_0x49bdca(0x966)]['find'](_0x651fcb=>(_0x651fcb[_0x49bdca(0x732)]||_0x651fcb[_0x49bdca(0x2b3)])===_0x2e05c3[_0x49bdca(0x393)]));let _0x265675=![];if(_0x243c55){const _0x1abb2a=_0x243c55[_0x49bdca(0x93a)]||_0x252f17[_0x49bdca(0x769)];switch(_0x1abb2a){case _0x49bdca(0x4bb):if(_0x243c55[_0x49bdca(0x4d1)]&&_0x243c55[_0x49bdca(0xcab)]<_0x243c55['options'][_0x49bdca(0xa90)]){const _0x469c66=_0x243c55[_0x49bdca(0x4d1)][_0x243c55[_0x49bdca(0xcab)]];_0x265675=_0x2e05c3[_0x49bdca(0x8ce)]===_0x469c66;}break;case'true_false':const _0x415ece=_0x2e05c3[_0x49bdca(0xb8c)]===!![]||_0x2e05c3['answer']===_0x49bdca(0xaa3);_0x265675=_0x415ece===_0x243c55[_0x49bdca(0x209)];break;case _0x49bdca(0x220):_0x265675=_0x2e05c3[_0x49bdca(0xb8c)]===_0x243c55[_0x49bdca(0x47a)];break;case _0x49bdca(0xc3f):_0x265675=await gradeShortAnswer(_0x2e05c3[_0x49bdca(0xb8c)],_0x243c55);break;default:_0x265675=_0x2e05c3[_0x49bdca(0xaf8)];break;}}if(_0x265675){_0x2025ee++,_0x197ddc++;if(_0x197ddc===0x3)_0x344f34[_0x49bdca(0x6d9)](BADGES[_0x49bdca(0xc12)]['id']);}else _0x197ddc=0x0;_0x2ee94a[_0x49bdca(0x6d9)]({..._0x2e05c3,'isCorrect':_0x265675});}let _0x54712c=_0x2025ee*0xa;_0x2025ee===_0x252f17['questions'][_0x49bdca(0xa90)]&&(_0x54712c+=0x32,_0x344f34[_0x49bdca(0x6d9)](BADGES['PERFECT_SCORE']['id'])),_0x3696e9[_0x49bdca(0x6d9)]({..._0xbfde47,'score':_0x2025ee,'points':_0x54712c,'badges':Array[_0x49bdca(0x1c7)](new Set(_0x344f34)),'answers':_0x2ee94a});}const _0x202b80=_0x3696e9['length']>0x0?_0x3696e9[0x0][_0x49bdca(0xb20)]:0x0,_0x31004b=Math[_0x49bdca(0x3a8)](..._0x3696e9[_0x49bdca(0xa26)](_0x5d9542=>_0x5d9542[_0x49bdca(0xb20)])),_0x16f2e4=_0x3696e9[_0x49bdca(0xa90)]>0x0?_0x3696e9[_0x3696e9[_0x49bdca(0xa90)]-0x1][_0x49bdca(0xb20)]:0x0,_0x587388=_0x3696e9[_0x49bdca(0xa90)]>0x0?_0x3696e9[_0x3696e9[_0x49bdca(0xa90)]-0x1][_0x49bdca(0xb70)]:0x0,_0xd6223=doc(db,_0x49bdca(0xbc5)+appId+_0x49bdca(0x155)+_0x252f17['id']+_0x49bdca(0x2e0),_0x4070fa);await updateDoc(_0xd6223,{'attempts':_0x3696e9,'firstScore':_0x202b80,'bestScore':_0x31004b,'latestScore':_0x16f2e4,'points':_0x587388});}function cleanupQuizOptions(_0x39e0f3){const _0xb488d5=_0x4e7cd8,_0x1f04b4=(_0x4cea73,_0x4860d7)=>_0x4860d7===0x0?_0x4cea73:_0x1f04b4(_0x4860d7,_0x4cea73%_0x4860d7),_0x29793e=_0x330a4e=>{const _0x4f365d=_0x1f15;if(typeof _0x330a4e!=='string')return null;_0x330a4e=_0x330a4e[_0x4f365d(0x492)]();const _0xfc6a8b=_0x330a4e[_0x4f365d(0x671)](/[ /]/)['filter'](_0x90c549=>_0x90c549!=='');if(_0xfc6a8b[_0x4f365d(0xa90)]===0x3)return parseInt(_0xfc6a8b[0x0])+parseInt(_0xfc6a8b[0x1])/parseInt(_0xfc6a8b[0x2]);else{if(_0xfc6a8b['length']===0x2)return parseInt(_0xfc6a8b[0x0])/parseInt(_0xfc6a8b[0x1]);else{if(_0xfc6a8b[_0x4f365d(0xa90)]===0x1&&!isNaN(_0xfc6a8b[0x0]))return parseFloat(_0xfc6a8b[0x0]);}}return null;},_0x16f57a=_0x176812=>{const _0x4f1ee2=_0x1f15;if(typeof _0x176812!==_0x4f1ee2(0x52f))return _0x176812;const _0x24a487=_0x176812[_0x4f1ee2(0xad2)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x24a487){const _0x5824cd=parseInt(_0x24a487[0x1]);let _0x2f4ee0=parseInt(_0x24a487[0x2]),_0x197f3d=parseInt(_0x24a487[0x3]);const _0x5e509a=_0x1f04b4(_0x2f4ee0,_0x197f3d);_0x2f4ee0/=_0x5e509a,_0x197f3d/=_0x5e509a;if(_0x197f3d===0x1)return(_0x5824cd+_0x2f4ee0)['toString']();return _0x5824cd+'\x20'+_0x2f4ee0+'/'+_0x197f3d;}return _0x176812;};return _0x39e0f3&&_0x39e0f3[_0xb488d5(0x966)]&&_0x39e0f3[_0xb488d5(0x966)][_0xb488d5(0x8ca)](_0x5523c2=>{const _0x2279c2=_0xb488d5;if(_0x5523c2[_0x2279c2(0x93a)]==='multiple_choice'&&_0x5523c2[_0x2279c2(0x4d1)]){const _0x13ece7=new Map(),_0x2fd6e8=_0x5523c2[_0x2279c2(0x4d1)][_0x5523c2['correctAnswerIndex']];_0x5523c2[_0x2279c2(0x4d1)]['forEach'](_0x235410=>{const _0x21b2b4=_0x2279c2,_0x126e63=_0x16f57a(_0x235410),_0x280acc=_0x29793e(_0x126e63);_0x280acc!==null&&!_0x13ece7[_0x21b2b4(0x85b)](_0x280acc)&&_0x13ece7[_0x21b2b4(0x385)](_0x280acc,_0x126e63);}),_0x5523c2['options']=Array[_0x2279c2(0x1c7)](_0x13ece7[_0x2279c2(0x9a6)]());const _0x381d92=_0x5523c2[_0x2279c2(0x4d1)][_0x2279c2(0x9ae)](_0x348ecb=>_0x348ecb===_0x16f57a(_0x2fd6e8));_0x5523c2[_0x2279c2(0xcab)]=_0x381d92!==-0x1?_0x381d92:0x0;}}),_0x39e0f3;}function showGameStartConfirmationModal(_0x4a3bf2,_0x49795a,_0x473c2b){const _0x264231=_0x4e7cd8,_0x47c4c4=document[_0x264231(0x1c2)](_0x264231(0x449));document['getElementById']('game-start-modal-title')['textContent']=_0x264231(0x537)+_0x473c2b,document[_0x264231(0x1c2)](_0x264231(0x94b))[_0x264231(0x9f1)]=_0x4a3bf2,document[_0x264231(0x1c2)]('game-start-mode')[_0x264231(0x9f1)]=_0x49795a,document[_0x264231(0x1c2)]('save-game-results-checkbox')['checked']=!![],_0x47c4c4[_0x264231(0x12e)][_0x264231(0x1f9)]('hidden');}async function saveGameResultsAsSubmissions(_0x14274a){const _0x494fd1=_0x4e7cd8;console['log'](_0x494fd1(0x30b),_0x14274a);const _0x2cd42c=_0x14274a['quizId'];let _0x4a352a=[];if(_0x14274a[_0x494fd1(0xb3e)])_0x4a352a=Object[_0x494fd1(0xaa6)](_0x14274a[_0x494fd1(0xb3e)])['map'](([_0x23ef8f,_0x1dbfd0])=>({'name':_0x23ef8f,..._0x1dbfd0}));else{if(_0x14274a['groups'])Object['values'](_0x14274a[_0x494fd1(0xafc)])[_0x494fd1(0x8ca)](_0x289938=>{const _0x20b1fb=_0x494fd1;_0x289938[_0x20b1fb(0x24d)][_0x20b1fb(0x8ca)](_0xc18296=>{const _0x4dda30=_0x20b1fb;_0x4a352a['push']({'name':_0xc18296,'score':_0x289938[_0x4dda30(0xb20)],'answers':_0x289938[_0x4dda30(0x361)]});});});else _0x14274a[_0x494fd1(0x377)]&&Object['entries'](_0x14274a['responses'])[_0x494fd1(0x8ca)](([_0xfd3a10,_0x2301d4])=>{const _0xe74c7e=_0x494fd1;_0x4a352a[_0xe74c7e(0x6d9)]({'name':_0xfd3a10,..._0x2301d4});});}if(_0x4a352a[_0x494fd1(0xa90)]===0x0){console[_0x494fd1(0x511)](_0x494fd1(0x477));return;}const _0x4645ba=_0x14274a[_0x494fd1(0x151)]?.[_0x494fd1(0x966)][_0x494fd1(0xa90)]||currentQuizData[_0x494fd1(0x966)]['length'],_0x34e5d7=writeBatch(db);for(const _0x2be57b of _0x4a352a){const _0x421e9c=doc(db,'artifacts/'+appId+_0x494fd1(0x155)+_0x2cd42c+_0x494fd1(0x2e0),_0x2be57b[_0x494fd1(0x82b)]),_0x649ac8=(_0x2be57b[_0x494fd1(0x361)]||[])['filter'](_0x39b095=>_0x39b095['isCorrect'])[_0x494fd1(0xa90)];let _0x437791=_0x649ac8;_0x14274a['isConfidenceScoringEnabled']&&_0x2be57b[_0x494fd1(0x361)]&&_0x2be57b[_0x494fd1(0x361)][_0x494fd1(0x8ca)](_0xf863e4=>{const _0x302bd3=_0x494fd1;if(_0xf863e4[_0x302bd3(0xaf8)]&&(_0xf863e4[_0x302bd3(0x789)]===!![]||_0xf863e4['wasConfident']===_0x302bd3(0x9ab)))_0x437791+=0x1;else!_0xf863e4['isCorrect']&&(_0xf863e4['wasConfident']===!![]||_0xf863e4[_0x302bd3(0x789)]===_0x302bd3(0x9ab))&&(_0x437791-=0x1);});_0x4645ba>0x0&&_0x649ac8===_0x4645ba&&(_0x437791+=0x1);const _0x4248ee={'score':_0x649ac8,'points':_0x437791,'badges':_0x2be57b['badges']||[],'submittedAt':new Date()[_0x494fd1(0xc5d)](),'answers':(_0x2be57b[_0x494fd1(0x361)]||[])[_0x494fd1(0xa26)](_0x10c684=>({'questionId':_0x10c684[_0x494fd1(0x1da)],'answer':_0x10c684[_0x494fd1(0xb8c)],'answerText':_0x10c684['answerText'],'isCorrect':_0x10c684[_0x494fd1(0xaf8)],'originalQuestionText':_0x10c684[_0x494fd1(0x393)],'wasConfident':_0x10c684['wasConfident']}))},_0x48f950=await getDoc(_0x421e9c),_0x300aaf=_0x48f950[_0x494fd1(0x7b7)]()?_0x48f950['data']():{},_0x5061d9=_0x300aaf['bestScore']||0x0,_0x96df5=_0x300aaf[_0x494fd1(0xba1)]||[],_0x57e9a4={'studentName':_0x2be57b[_0x494fd1(0x82b)],'totalQuestions':_0x4645ba,'attempts':arrayUnion(_0x4248ee),'latestScore':_0x649ac8,'points':_0x437791,'latestSubmittedAt':_0x4248ee[_0x494fd1(0x45d)],'bestScore':Math[_0x494fd1(0x3a8)](_0x5061d9,_0x649ac8),'firstScore':_0x96df5[_0x494fd1(0xa90)]===0x0?_0x649ac8:_0x300aaf[_0x494fd1(0x1f2)]||0x0};_0x34e5d7[_0x494fd1(0x385)](_0x421e9c,_0x57e9a4,{'merge':!![]});}try{await _0x34e5d7[_0x494fd1(0xc9b)](),showMessage(_0x494fd1(0xa19)+_0x4a352a[_0x494fd1(0xa90)]+'\x20รายการ\x20สำเร็จ!');const _0x3098ec=_0x14274a['shuffledQuiz']?.[_0x494fd1(0xa4a)]||currentQuizData?.['projectId']||currentProjectId;if(_0x3098ec){const _0xb1b1bf=[...new Set(_0x4a352a[_0x494fd1(0xa26)](_0x2f2a46=>_0x2f2a46[_0x494fd1(0x82b)]))];for(const _0x3a1933 of _0xb1b1bf){await updateStudentProfile(_0x3098ec,_0x3a1933);}}}catch(_0x56e739){console['error'](_0x494fd1(0x75e),_0x56e739),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(_0x28ec62=null,_0x1942fb=null){const _0x2ec38a=_0x4e7cd8,_0x9e36aa=_0x28ec62||currentProjectId;if(!_0x9e36aa){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x2ec38a(0x9ef));return;}const _0x2bf4ec=document[_0x2ec38a(0x1c2)]('save-quiz-btn');_0x2bf4ec[_0x2ec38a(0x78a)]=!![],_0x2bf4ec[_0x2ec38a(0x3e3)]=_0x2ec38a(0x419);const _0x37c695=document[_0x2ec38a(0x1c2)]('pre-test-checkbox')[_0x2ec38a(0x564)];let _0x2ae7cc=document[_0x2ec38a(0x1c2)](_0x2ec38a(0x2ae))['innerText'][_0x2ec38a(0x492)]();_0x37c695&&!_0x2ae7cc[_0x2ec38a(0x384)]('(ก่อนเรียน)')&&(_0x2ae7cc='(ก่อนเรียน)\x20'+_0x2ae7cc);try{const _0x1df150={'resultsDisplay':document[_0x2ec38a(0x1c2)](_0x2ec38a(0x217))[_0x2ec38a(0x9f1)],'shuffle':document[_0x2ec38a(0x1c2)](_0x2ec38a(0x90c))[_0x2ec38a(0x9f1)],'timerMode':document[_0x2ec38a(0x1c2)]('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x2ec38a(0x1c2)](_0x2ec38a(0x84f))[_0x2ec38a(0x9f1)])||0xa,'passingScore':parseInt(document['getElementById'](_0x2ec38a(0x9b7))[_0x2ec38a(0x9f1)])||0x0,'isAdaptive':document[_0x2ec38a(0x1c2)](_0x2ec38a(0x5d0))['checked'],'loopUntilPass':document[_0x2ec38a(0x1c2)]('loop-until-pass-checkbox')[_0x2ec38a(0x564)]},_0x4d7b42=(currentQuizData[_0x2ec38a(0x966)]||[])['map']((_0xbddade,_0x144623)=>{const _0x52c95f=_0x2ec38a,_0x5cc85e=document[_0x52c95f(0x1c2)](_0x52c95f(0xa67))[_0x52c95f(0x9f1)],_0x294c1a={'id':'q_'+Date[_0x52c95f(0x6d6)]()+'_'+_0x144623,'questionText':_0xbddade[_0x52c95f(0x2b3)]||'','explanation':_0xbddade[_0x52c95f(0x13e)]||_0x52c95f(0x5a4),'questionType':_0xbddade['questionType']||_0x5cc85e,'imageCode':_0xbddade[_0x52c95f(0x291)]||null};return(_0x294c1a[_0x52c95f(0x93a)]===_0x52c95f(0x4bb)||_0x294c1a[_0x52c95f(0x93a)]===_0x52c95f(0xc96)||_0x294c1a[_0x52c95f(0x93a)]===_0x52c95f(0x1b4)&&_0xbddade['options'])&&(_0x294c1a[_0x52c95f(0x4d1)]=_0xbddade[_0x52c95f(0x4d1)]||[],_0x294c1a[_0x52c95f(0xcab)]=_0xbddade[_0x52c95f(0xcab)]!==undefined?_0xbddade['correctAnswerIndex']:0x0),(_0x294c1a[_0x52c95f(0x93a)]===_0x52c95f(0xc3f)||_0x294c1a['questionType']===_0x52c95f(0x4df)||_0x294c1a[_0x52c95f(0x93a)]===_0x52c95f(0x1b4)&&_0xbddade[_0x52c95f(0x493)])&&(_0x294c1a['idealAnswer']=_0xbddade[_0x52c95f(0x493)]||''),_0x294c1a['questionType']===_0x52c95f(0x7f4)&&(_0x294c1a[_0x52c95f(0x209)]=_0xbddade[_0x52c95f(0x209)]===!![]),_0x294c1a['questionType']===_0x52c95f(0x220)&&(_0x294c1a[_0x52c95f(0x732)]=_0xbddade[_0x52c95f(0x732)]||'',_0x294c1a[_0x52c95f(0x47a)]=_0xbddade[_0x52c95f(0x47a)]||'',_0x294c1a['allResponses']=_0xbddade[_0x52c95f(0x998)]||[]),_0x294c1a;}),_0x22df11={'topic':_0x2ae7cc,'quizType':currentQuizData[_0x2ec38a(0x769)]||'multiple_choice','questions':_0x4d7b42,'projectId':_0x9e36aa,'createdBy':userId,'createdAt':new Date()[_0x2ec38a(0xc5d)](),'status':_0x2ec38a(0xae2),'settings':_0x1df150,'quizMode':_0x37c695?_0x2ec38a(0x873):'standard','pairedQuizId':null,'lessonPlan':null};let _0x958643;while(!![]){_0x958643=Math[_0x2ec38a(0xa32)](0x3e8+Math[_0x2ec38a(0xad8)]()*0x2328)[_0x2ec38a(0x8bf)]();const _0x3dbfd6=await getDoc(doc(db,_0x2ec38a(0xbc5)+appId+_0x2ec38a(0x5e2),_0x958643));if(!_0x3dbfd6[_0x2ec38a(0x7b7)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x958643),_0x22df11);if(_0x1942fb&&currentBlueprintProjectId){console[_0x2ec38a(0x511)](_0x2ec38a(0x12c)+_0x958643+'\x20to\x20blueprint\x20topic\x20'+_0x1942fb);try{const _0x596406=doc(db,_0x2ec38a(0xbc5)+appId+_0x2ec38a(0x618),currentBlueprintProjectId);await updateDoc(_0x596406,{[_0x2ec38a(0xa13)+_0x1942fb+_0x2ec38a(0xbe1)]:arrayUnion(_0x958643)});}catch(_0x1acce8){console['error'](_0x2ec38a(0x70e),_0x1acce8);}}currentQuizData[_0x2ec38a(0x9e2)]=_0x1df150,currentQuizData['id']=_0x958643;const _0x35336e=document['getElementById'](_0x2ec38a(0x5ce));_0x35336e[_0x2ec38a(0x3e3)]=_0x2ec38a(0xa96)+_0x958643+_0x2ec38a(0x277),document[_0x2ec38a(0x1c2)](_0x2ec38a(0x337))[_0x2ec38a(0xa37)](_0x2ec38a(0xbdd),()=>copyTextToClipboard(_0x958643,'คัดลอกรหัสแล้ว!')),document[_0x2ec38a(0x1c2)](_0x2ec38a(0x8cf))[_0x2ec38a(0xa37)](_0x2ec38a(0xbdd),()=>handleStartLiveRace(_0x958643)),document[_0x2ec38a(0x1c2)](_0x2ec38a(0x179))[_0x2ec38a(0xa37)]('click',()=>startPresentation(currentQuizData)),document[_0x2ec38a(0x1c2)]('admin-try-quiz-btn')[_0x2ec38a(0xa37)]('click',startAdminTest),showMessage(_0x2ec38a(0x13c));}catch(_0x8a9193){console[_0x2ec38a(0x2da)](_0x2ec38a(0x330),_0x8a9193),showMessage(_0x2ec38a(0x892));}finally{_0x2bf4ec[_0x2ec38a(0x78a)]=![],_0x2bf4ec[_0x2ec38a(0x3e3)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x82f8b6=_0x4e7cd8,_0x5bb0f6=document['getElementById'](_0x82f8b6(0xc6f)),_0x27a916=document[_0x82f8b6(0x1c2)](_0x82f8b6(0x586)),_0x56731d=_0x5bb0f6[_0x82f8b6(0x8b9)]('h3'),_0x11395a=document[_0x82f8b6(0x1c2)](_0x82f8b6(0x4ec));_0x56731d[_0x82f8b6(0x9a1)]='เลือกโปรเจคเพื่อบันทึก',_0x11395a[_0x82f8b6(0x9a1)]=_0x82f8b6(0x2de);allProjects[_0x82f8b6(0xa90)]===0x0?(_0x27a916[_0x82f8b6(0x3e3)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x11395a[_0x82f8b6(0x78a)]=!![]):(_0x27a916[_0x82f8b6(0x3e3)]=allProjects[_0x82f8b6(0xa26)](_0xefd6c2=>_0x82f8b6(0xc29)+_0xefd6c2['id']+'\x22>'+_0xefd6c2[_0x82f8b6(0xa74)]+'</option>')[_0x82f8b6(0xab6)](''),_0x11395a['disabled']=![]);_0x5bb0f6['classList'][_0x82f8b6(0x1f9)]('hidden');const _0x4f59d8=()=>{const _0x5d9311=_0x82f8b6,_0x135de4=_0x27a916[_0x5d9311(0x9f1)];_0x135de4?(currentProjectId=_0x135de4,_0x5bb0f6[_0x5d9311(0x12e)][_0x5d9311(0x7d7)](_0x5d9311(0x30a)),saveQuiz(),_0x56731d[_0x5d9311(0x9a1)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x11395a[_0x5d9311(0x9a1)]='ย้าย',_0x11395a[_0x5d9311(0x208)]('click',_0x4f59d8),_0x11395a[_0x5d9311(0xa37)]('click',confirmMoveQuiz)):showMessage(_0x5d9311(0x4ac));};_0x11395a['removeEventListener'](_0x82f8b6(0xbdd),confirmMoveQuiz),_0x11395a[_0x82f8b6(0xa37)]('click',_0x4f59d8);}function copyTextToClipboard(_0x426df8,_0x1d5184){const _0x24e7c1=_0x4e7cd8,_0x25b6ee=document[_0x24e7c1(0x601)](_0x24e7c1(0x868));_0x25b6ee[_0x24e7c1(0x9f1)]=_0x426df8,_0x25b6ee['style'][_0x24e7c1(0xa25)]=_0x24e7c1(0x2c1),_0x25b6ee[_0x24e7c1(0xa10)][_0x24e7c1(0x16f)]='0',document[_0x24e7c1(0xa68)]['appendChild'](_0x25b6ee),_0x25b6ee[_0x24e7c1(0xa2f)](),_0x25b6ee['select']();try{const _0x5d039f=document[_0x24e7c1(0x579)]('copy');showMessage(_0x5d039f?_0x1d5184:_0x24e7c1(0xb80));}catch(_0x2af53e){showMessage('คัดลอกไม่สำเร็จ'),console[_0x24e7c1(0x2da)](_0x24e7c1(0xc78),_0x2af53e);}document['body']['removeChild'](_0x25b6ee);}function listenForProjectQuizzes(_0x8bc372){const _0x1a509b=_0x4e7cd8,_0x183390=collection(db,_0x1a509b(0xbc5)+appId+_0x1a509b(0x5e2)),_0x5cc437=query(_0x183390,where(_0x1a509b(0xa4a),'==',_0x8bc372));unsubscribeQuizzesListener=onSnapshot(_0x5cc437,async _0x43f980=>{const _0x5975d4=_0x1a509b;allQuizzes=_0x43f980['docs'][_0x5975d4(0xa26)](_0x5eed9b=>({'id':_0x5eed9b['id'],..._0x5eed9b[_0x5975d4(0x921)]()})),renderQuizzes();},_0x3ab0d3=>{const _0x54ed1c=_0x1a509b;console['error'](_0x54ed1c(0xa95),_0x3ab0d3),document[_0x54ed1c(0x1c2)]('project-quizzes-list')[_0x54ed1c(0x3e3)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x351958=_0x4e7cd8,_0x402eac=document[_0x351958(0x1c2)]('project-quizzes-list'),_0x5392cb=document[_0x351958(0x1c2)](_0x351958(0x148))['value'][_0x351958(0x7a9)]();let _0x539ca1;currentProjectId===_0x351958(0x903)?_0x539ca1=starredQuizzes:_0x539ca1=allQuizzes;let _0x7bbbd=_0x539ca1[_0x351958(0x473)](_0x120ca9=>_0x120ca9[_0x351958(0xcaf)][_0x351958(0x7a9)]()[_0x351958(0x4c2)](_0x5392cb));_0x7bbbd[_0x351958(0x327)]((_0x4621bf,_0x5555b2)=>new Date(_0x5555b2[_0x351958(0x561)])-new Date(_0x4621bf[_0x351958(0x561)]));if(_0x7bbbd['length']===0x0){_0x402eac[_0x351958(0x3e3)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x2d6449={},_0x30d50e=_0x7bbbd[_0x351958(0xa26)](async _0x43dd23=>{const _0x265a15=_0x351958,_0x47a128=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x43dd23['id']+'/submissions'),_0x132d3f=await getDocs(_0x47a128);_0x2d6449[_0x43dd23['id']]=_0x132d3f[_0x265a15(0x7ee)];});await Promise['all'](_0x30d50e);let _0x4c86c5='';_0x7bbbd['forEach'](_0x57be8a=>{const _0x4eaef4=_0x351958,_0x18fa00=_0x2d6449[_0x57be8a['id']]||0x0,_0x5247d2=_0x57be8a[_0x4eaef4(0xb37)]||_0x4eaef4(0xae2),_0x2b76cc=_0x57be8a[_0x4eaef4(0x9e2)]?.[_0x4eaef4(0xcb7)]||_0x4eaef4(0xba0);let _0x4748eb='',_0xb0839d='';const _0x3c1b1d=new Date();let _0x281585=_0x5247d2;if(_0x5247d2===_0x4eaef4(0x200)){const _0x6151d5=_0x57be8a[_0x4eaef4(0x49b)]?new Date(_0x57be8a[_0x4eaef4(0x49b)]):null,_0xc0a950=_0x57be8a[_0x4eaef4(0x7cf)]?new Date(_0x57be8a[_0x4eaef4(0x7cf)]):null;if(_0xc0a950&&_0x3c1b1d>_0xc0a950)_0x281585=_0x4eaef4(0x4c8);else _0x6151d5&&_0x3c1b1d<_0x6151d5?_0x281585='scheduled_pending':_0x281585=_0x4eaef4(0xae2);}switch(_0x281585){case'inactive':_0x4748eb=_0x4eaef4(0x4da),_0xb0839d=_0x4eaef4(0x8cd);break;case _0x4eaef4(0x78c):_0x4748eb=_0x4eaef4(0x694),_0xb0839d=_0x4eaef4(0x870);break;case _0x4eaef4(0xae2):_0x4748eb=_0x2b76cc!==_0x4eaef4(0xba0)?_0x4eaef4(0x959):_0x4eaef4(0x5da),_0xb0839d=_0x4eaef4(0x64c);break;default:_0x4748eb=_0x4eaef4(0xaa4),_0xb0839d=_0x4eaef4(0x64c);break;}let _0x11ee18='';const _0x2ccfa8={'day':_0x4eaef4(0x2f2),'month':'2-digit','year':_0x4eaef4(0x65f),'hour':_0x4eaef4(0x2f2),'minute':_0x4eaef4(0x2f2),'hour12':![]};if(_0x5247d2===_0x4eaef4(0x200)){if(_0x57be8a['startTime'])_0x11ee18+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x57be8a['startTime'])[_0x4eaef4(0x645)](_0x4eaef4(0x22f),_0x2ccfa8)+_0x4eaef4(0x35e);if(_0x57be8a['endTime'])_0x11ee18+=_0x4eaef4(0x9cc)+new Date(_0x57be8a[_0x4eaef4(0x7cf)])[_0x4eaef4(0x645)](_0x4eaef4(0x22f),_0x2ccfa8)+_0x4eaef4(0x35e);}let _0x2bfd61='';if(_0x57be8a['pairedQuizId']){const _0x4d5e47=allQuizzes[_0x4eaef4(0x135)](_0x593ccf=>_0x593ccf['id']===_0x57be8a[_0x4eaef4(0x773)]);if(_0x4d5e47){let _0x29ce7c,_0x1b64f5;new Date(_0x57be8a['createdAt'])<new Date(_0x4d5e47[_0x4eaef4(0x561)])?(_0x29ce7c=_0x57be8a['id'],_0x1b64f5=_0x4d5e47['id']):(_0x29ce7c=_0x4d5e47['id'],_0x1b64f5=_0x57be8a['id']),_0x2bfd61+=_0x4eaef4(0x5f8)+_0x1b64f5+_0x4eaef4(0x53a)+_0x29ce7c+_0x4eaef4(0x374);}}else _0x57be8a[_0x4eaef4(0x3cd)]==='pre-test'&&(_0x2bfd61+=_0x4eaef4(0xbe6)+_0x57be8a['id']+_0x4eaef4(0x62b));if(_0x57be8a[_0x4eaef4(0x3cd)]===_0x4eaef4(0x873)&&_0x18fa00>0x0)_0x2bfd61+=_0x4eaef4(0xbe6)+_0x57be8a['id']+_0x4eaef4(0xa55);else!_0x57be8a['pairedQuizId']&&_0x57be8a['quizMode']!=='pre-test'&&_0x18fa00>0x0&&(_0x2bfd61+=_0x4eaef4(0xbe6)+_0x57be8a['id']+_0x4eaef4(0x2e7));let _0x28dc4b='';_0x57be8a['pairedQuizId']?_0x28dc4b=_0x4eaef4(0xbda)+_0x57be8a['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x28dc4b=_0x4eaef4(0xbda)+_0x57be8a['id']+_0x4eaef4(0xc92),_0x4c86c5+=_0x4eaef4(0x2bc)+_0x57be8a['id']+_0x4eaef4(0x7ae)+_0x57be8a[_0x4eaef4(0xcaf)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x57be8a[_0x4eaef4(0x966)][_0x4eaef4(0xa90)]+_0x4eaef4(0x242)+new Date(_0x57be8a[_0x4eaef4(0x561)])[_0x4eaef4(0x645)](_0x4eaef4(0x22f))+_0x4eaef4(0x1f7)+_0x18fa00+_0x4eaef4(0xb53)+_0x11ee18+_0x4eaef4(0xc57)+_0xb0839d+'\x22>'+_0x4748eb+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x57be8a['id']+_0x4eaef4(0xc8c)+_0x57be8a['id']+_0x4eaef4(0x731)+(_0x57be8a[_0x4eaef4(0xb86)]?_0x4eaef4(0x89f):_0x4eaef4(0x350))+_0x4eaef4(0x5bd)+_0x2bfd61+_0x4eaef4(0x654)+_0x57be8a['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x57be8a['id']+_0x4eaef4(0x63b)+_0x57be8a['id']+_0x4eaef4(0x11a)+_0x57be8a['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x57be8a['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x57be8a['id']+_0x4eaef4(0x774)+_0x57be8a['id']+'\x22\x20data-topic=\x22'+_0x57be8a[_0x4eaef4(0xcaf)]+_0x4eaef4(0xb75)+_0x57be8a['id']+_0x4eaef4(0x783)+_0x57be8a['id']+_0x4eaef4(0xc6d)+_0x28dc4b+_0x4eaef4(0x794)+_0x57be8a['id']+_0x4eaef4(0xa51)+_0x57be8a['id']+_0x4eaef4(0x73d)+_0x57be8a['id']+_0x4eaef4(0x545)+_0x57be8a['id']+_0x4eaef4(0x284)+_0x57be8a['id']+_0x4eaef4(0x744)+_0x57be8a['id']+_0x4eaef4(0x446)+_0x57be8a['id']+_0x4eaef4(0x2e4)+_0x57be8a['id']+'\x22\x20data-topic=\x22'+_0x57be8a[_0x4eaef4(0xcaf)]+_0x4eaef4(0x8d6)+_0x57be8a['id']+_0x4eaef4(0x6ad);}),_0x402eac[_0x351958(0x3e3)]=_0x4c86c5,document[_0x351958(0x9f4)](_0x351958(0x9e5))[_0x351958(0x8ca)](_0x46d920=>{const _0x595fae=_0x351958;_0x46d920[_0x595fae(0xa37)](_0x595fae(0xbdd),()=>{const _0x9443fe=_0x595fae,_0x48508a=_0x46d920['dataset'][_0x9443fe(0x224)];showQuizDetailView(_0x48508a);});});}async function handleUnpairQuiz(_0x524a9c){const _0x4a21b5=_0x4e7cd8,_0x35f639=allQuizzes[_0x4a21b5(0x135)](_0x58af8e=>_0x58af8e['id']===_0x524a9c);if(!_0x35f639||!_0x35f639[_0x4a21b5(0x773)]){showMessage(_0x4a21b5(0x4f5));return;}showConfirmation(_0x4a21b5(0xac1),async()=>{const _0x170a68=_0x4a21b5;try{const _0xacec99=doc(db,'artifacts/'+appId+_0x170a68(0x5e2),_0x524a9c),_0x39c183=doc(db,_0x170a68(0xbc5)+appId+_0x170a68(0x5e2),_0x35f639[_0x170a68(0x773)]),_0x3a25ae=writeBatch(db);_0x3a25ae[_0x170a68(0x81a)](_0xacec99,{'pairedQuizId':null}),_0x3a25ae[_0x170a68(0x81a)](_0x39c183,{'pairedQuizId':null}),await _0x3a25ae[_0x170a68(0xc9b)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x3aafaf){console[_0x170a68(0x2da)](_0x170a68(0xc1f),_0x3aafaf),showMessage(_0x170a68(0x124));}});}function formatAndPrintLessonPlan(_0x45323d,_0x260527){const _0xd9d043=_0x4e7cd8,_0x23e484=window[_0xd9d043(0x43d)]('',_0xd9d043(0x1f4)),_0x24b619=_0xd9d043(0x563)+_0x260527[_0xd9d043(0xcaf)]+_0xd9d043(0x31a)+_0x260527[_0xd9d043(0xcaf)]+_0xd9d043(0x20e)+_0x45323d[_0xd9d043(0x40f)][_0xd9d043(0xa26)](_0x18d771=>_0xd9d043(0x2bd)+_0x18d771+_0xd9d043(0x775))[_0xd9d043(0xab6)]('')+_0xd9d043(0x6d0)+_0x45323d[_0xd9d043(0xbe0)]+_0xd9d043(0x2ba)+_0x45323d[_0xd9d043(0x2ee)]['map'](_0xc763ee=>_0xd9d043(0xcaa)+_0xc763ee[_0xd9d043(0x3cb)]+_0xd9d043(0x7aa)+_0xc763ee[_0xd9d043(0x2cd)]+_0xd9d043(0x51a))[_0xd9d043(0xab6)]('')+_0xd9d043(0x607);_0x23e484[_0xd9d043(0x1d9)][_0xd9d043(0x19e)](_0x24b619),_0x23e484[_0xd9d043(0x1d9)][_0xd9d043(0x6b6)](),_0x23e484['onload']=function(){setTimeout(()=>{_0x23e484['print']();},0x3e8);};}async function handleAiFixFormula(_0x35260f){const _0x27ddb7=_0x4e7cd8,_0x80978a=document['querySelector'](_0x27ddb7(0xa6d)+_0x35260f+'\x22]');if(!_0x80978a)return;const _0x31ca80=_0x80978a[_0x27ddb7(0x928)]['qType'],_0x1200c4=_0x80978a[_0x27ddb7(0x8b9)](_0x27ddb7(0x13b));let _0x282522={'question':_0x80978a[_0x27ddb7(0x8b9)](_0x27ddb7(0x868))[_0x27ddb7(0x9f1)]};switch(_0x31ca80){case'multiple_choice':_0x282522[_0x27ddb7(0x4d1)]=Array[_0x27ddb7(0x1c7)](_0x80978a[_0x27ddb7(0x9f4)](_0x27ddb7(0x791)))['map'](_0x302988=>_0x302988[_0x27ddb7(0x9f1)]);break;case _0x27ddb7(0xc3f):_0x282522[_0x27ddb7(0x493)]=_0x80978a['querySelector'](_0x27ddb7(0x621))['value'];break;case _0x27ddb7(0x220):_0x282522[_0x27ddb7(0x47a)]=_0x80978a[_0x27ddb7(0x8b9)](_0x27ddb7(0xc52))[_0x27ddb7(0x9f1)];break;}_0x1200c4[_0x27ddb7(0x3e3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x1200c4[_0x27ddb7(0x78a)]=!![];try{const _0xbc069e=_0x27ddb7(0x47c)+JSON[_0x27ddb7(0x462)](_0x282522)+_0x27ddb7(0x5a7),_0x5a6c96={'type':_0x27ddb7(0x469),'properties':{'fixedData':{'type':_0x27ddb7(0x469),'properties':{'question':{'type':_0x27ddb7(0x942)},'options':{'type':_0x27ddb7(0x6ae),'items':{'type':_0x27ddb7(0x942)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x27ddb7(0x942)}},'required':['question']}},'required':[_0x27ddb7(0x92d)]},_0x7fc878=await callAnalysisApi(_0xbc069e,_0x5a6c96);if(_0x7fc878&&_0x7fc878['fixedData']){const _0x388119=_0x7fc878['fixedData'];_0x80978a['querySelector'](_0x27ddb7(0x868))[_0x27ddb7(0x9f1)]=_0x388119[_0x27ddb7(0x3cb)]||_0x282522['question'];switch(_0x31ca80){case _0x27ddb7(0x4bb):_0x388119[_0x27ddb7(0x4d1)]&&_0x388119[_0x27ddb7(0x4d1)][_0x27ddb7(0xa90)]>0x0&&_0x80978a[_0x27ddb7(0x9f4)]('input[type=\x22text\x22]')[_0x27ddb7(0x8ca)]((_0x7b8354,_0x4c72f5)=>{const _0x2c9c52=_0x27ddb7;_0x7b8354['value']=_0x388119[_0x2c9c52(0x4d1)][_0x4c72f5]||_0x282522[_0x2c9c52(0x4d1)][_0x4c72f5];});break;case _0x27ddb7(0xc3f):_0x80978a[_0x27ddb7(0x8b9)](_0x27ddb7(0x621))[_0x27ddb7(0x9f1)]=_0x388119['idealAnswer']||_0x282522[_0x27ddb7(0x493)];break;case _0x27ddb7(0x220):_0x80978a[_0x27ddb7(0x8b9)](_0x27ddb7(0xc52))[_0x27ddb7(0x9f1)]=_0x388119[_0x27ddb7(0x47a)]||_0x282522['correctResponse'];break;}if(_0x282522[_0x27ddb7(0x3cb)]!==_0x388119[_0x27ddb7(0x3cb)])try{const _0x178861=collection(db,_0x27ddb7(0xbc5)+appId+'/public/data/learnedFixes');await addDoc(_0x178861,{'broken':_0x282522[_0x27ddb7(0x3cb)],'fixed':_0x388119[_0x27ddb7(0x3cb)],'createdAt':serverTimestamp()});}catch(_0x165c57){console[_0x27ddb7(0x2da)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x165c57);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x27ddb7(0x3e0));}catch(_0x274fa6){console[_0x27ddb7(0x2da)](_0x27ddb7(0x611),_0x274fa6),showMessage(_0x27ddb7(0xc9e));}finally{_0x1200c4[_0x27ddb7(0x3e3)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x1200c4[_0x27ddb7(0x78a)]=![];}}async function handleGenerateLessonPlan(_0x28d8f8){const _0x64505=_0x4e7cd8;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x13dd16=doc(db,_0x64505(0xbc5)+appId+_0x64505(0x5e2),_0x28d8f8),_0x5873af=await getDoc(_0x13dd16);if(!_0x5873af[_0x64505(0x7b7)]())throw new Error(_0x64505(0x203));const _0x2b106e={'id':_0x28d8f8,..._0x5873af[_0x64505(0x921)]()},_0x4a38c0=collection(db,_0x64505(0xbc5)+appId+_0x64505(0x5e2),_0x28d8f8,_0x64505(0x882)),_0x4e542a=await getDocs(_0x4a38c0),_0x26333c=_0x4e542a[_0x64505(0x378)]['map'](_0x43bacc=>_0x43bacc[_0x64505(0x921)]());if(_0x26333c[_0x64505(0xa90)]===0x0)throw new Error(_0x64505(0xc80));const _0x624138=calculateItemAnalysis(_0x2b106e,_0x26333c)[_0x64505(0x867)],_0x260607=calculateDistractorAnalysis(_0x2b106e,_0x26333c),_0x4dd27e=_0x128c70=>{const _0x2d90c4=_0x64505;if(!_0x128c70)return'';return _0x128c70[_0x2d90c4(0x98e)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x2d90c4(0x98e)](/\n/g,'\x5cn');};let _0x126185=_0x64505(0x845);_0x2b106e[_0x64505(0x966)][_0x64505(0x8ca)]((_0x535700,_0x57782a)=>{const _0x21c38c=_0x64505,_0x128dbc=_0x624138[_0x57782a]?.['p'][_0x21c38c(0x72c)](0x2)||_0x21c38c(0xb30),_0xdf4f53=_0x624138[_0x57782a]?.['r'][_0x21c38c(0x72c)](0x2)||'N/A',_0x45492b=_0x4dd27e(_0x535700[_0x21c38c(0x2b3)]||_0x535700[_0x21c38c(0x732)]);_0x126185+=_0x21c38c(0x84a)+(_0x57782a+0x1)+_0x21c38c(0x43c)+_0x128dbc+',\x20r='+_0xdf4f53+_0x21c38c(0x923)+_0x45492b+'\x5cn';if(_0x535700[_0x21c38c(0x93a)]===_0x21c38c(0x4bb)&&_0x260607[_0x57782a]){const _0x2f7697=_0x260607[_0x57782a],_0x28ddd5=Object[_0x21c38c(0xaf9)](_0x2f7697)[_0x21c38c(0x473)](_0x56139a=>parseInt(_0x56139a)!==_0x535700[_0x21c38c(0xcab)])[_0x21c38c(0x327)]((_0x2dbdc5,_0x5aaf11)=>_0x2f7697[_0x5aaf11]['total']-_0x2f7697[_0x2dbdc5]['total'])[0x0];if(_0x28ddd5&&_0x2f7697[_0x28ddd5]['total']>0x0){const _0x1a5f22=_0x4dd27e(_0x2f7697[_0x28ddd5][_0x21c38c(0x4d7)]);_0x126185+=_0x21c38c(0xb67)+_0x1a5f22+'\x22\x5cn';}}});const _0x51244c=_0x64505(0xc40)+_0x2b106e['topic']+_0x64505(0x2e6)+_0x126185+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5de8d2={'type':_0x64505(0x469),'properties':{'learningGaps':{'type':_0x64505(0x6ae),'items':{'type':_0x64505(0x942)}},'teachingContent':{'type':_0x64505(0x942)},'practiceProblems':{'type':_0x64505(0x6ae),'items':{'type':_0x64505(0x469),'properties':{'question':{'type':_0x64505(0x942)},'solution':{'type':_0x64505(0x942)}}}}},'required':['learningGaps','teachingContent',_0x64505(0x2ee)]},_0x26af75=await callAnalysisApi(_0x51244c,_0x5de8d2);await updateDoc(_0x13dd16,{'lessonPlan':_0x26af75});const _0x2dc498='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x2b106e[_0x64505(0xcaf)]+_0x64505(0x289)+_0x26af75[_0x64505(0x40f)][_0x64505(0xa26)](_0x56a7d1=>_0x64505(0x2bd)+_0x56a7d1+_0x64505(0x775))['join']('')+_0x64505(0x18b)+_0x26af75[_0x64505(0xbe0)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x26af75[_0x64505(0x2ee)][_0x64505(0xa26)](_0x408a78=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x408a78[_0x64505(0x3cb)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x408a78['solution']+_0x64505(0x3c3))['join']('')+_0x64505(0xaba);document[_0x64505(0x1c2)]('lesson-plan-title')[_0x64505(0x9a1)]=_0x64505(0x757)+_0x2b106e['topic'],document[_0x64505(0x1c2)](_0x64505(0xc5f))[_0x64505(0x3e3)]=_0x2dc498,document[_0x64505(0x1c2)]('lesson-plan-modal')[_0x64505(0x12e)]['remove'](_0x64505(0x30a));if(window[_0x64505(0x196)])MathJax[_0x64505(0x7ca)]();messageModal[_0x64505(0x12e)][_0x64505(0x7d7)]('hidden');}catch(_0x4c9494){console['error'](_0x64505(0xc56),_0x4c9494),showMessage(_0x64505(0xb7c)+_0x4c9494[_0x64505(0x516)]);}}async function handleDuplicateQuiz(_0x19a50e){const _0x328f96=_0x4e7cd8;try{const _0x582125=doc(db,_0x328f96(0xbc5)+appId+_0x328f96(0x5e2),_0x19a50e),_0x5368ab=await getDoc(_0x582125);if(_0x5368ab[_0x328f96(0x7b7)]()){const _0x4f808a=_0x5368ab['data']();let _0x5c1a18='',_0x39d687='standard',_0x2a734a=null;if(_0x4f808a[_0x328f96(0x3cd)]==='pre-test'){let _0x57a6de=_0x4f808a['topic'][_0x328f96(0x98e)](_0x328f96(0x6df),'')['trim']();_0x5c1a18=_0x328f96(0x51e)+_0x57a6de,_0x39d687=_0x328f96(0x75f),_0x2a734a=_0x19a50e;}else _0x5c1a18=_0x328f96(0x394)+_0x4f808a[_0x328f96(0xcaf)];const _0x256154={..._0x4f808a,'topic':_0x5c1a18,'createdAt':new Date()[_0x328f96(0xc5d)](),'quizMode':_0x39d687,'pairedQuizId':_0x2a734a};let _0x1e714c;while(!![]){_0x1e714c=Math['floor'](0x3e8+Math[_0x328f96(0xad8)]()*0x2328)[_0x328f96(0x8bf)]();const _0x3a6221=await getDoc(doc(db,'artifacts/'+appId+_0x328f96(0x5e2),_0x1e714c));if(!_0x3a6221[_0x328f96(0x7b7)]())break;}const _0x551981=doc(db,_0x328f96(0xbc5)+appId+_0x328f96(0x5e2),_0x1e714c);await setDoc(_0x551981,_0x256154),_0x256154['quizMode']===_0x328f96(0x75f)&&await updateDoc(_0x582125,{'pairedQuizId':_0x1e714c}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x328f96(0x720));}catch(_0x3cf3d9){console['error'](_0x328f96(0x9e0),_0x3cf3d9),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x2d05d3,_0x2d862c=!![]){const _0x3c3f8b=_0x4e7cd8;try{const _0x1eb871=writeBatch(db),_0x16eea3=collection(db,_0x3c3f8b(0xbc5)+appId+_0x3c3f8b(0x155)+_0x2d05d3+_0x3c3f8b(0x2e0)),_0x27e52f=await getDocs(_0x16eea3);_0x27e52f['forEach'](_0x6beeef=>{const _0x23c9ba=_0x3c3f8b;_0x1eb871[_0x23c9ba(0x5f5)](doc(_0x16eea3,_0x6beeef['id']));});const _0x4df996=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2d05d3);_0x1eb871['delete'](_0x4df996),await _0x1eb871[_0x3c3f8b(0xc9b)]();try{console[_0x3c3f8b(0x511)](_0x3c3f8b(0x804)+_0x2d05d3+_0x3c3f8b(0x34e));const _0x2e5715=collection(db,_0x3c3f8b(0xbc5)+appId+_0x3c3f8b(0x618)),_0x3e7e0b=await getDocs(_0x2e5715),_0x497ad5=[];_0x3e7e0b[_0x3c3f8b(0x8ca)](_0x39ec64=>{const _0x29b05a=_0x3c3f8b,_0xaa0a21=_0x39ec64[_0x29b05a(0x921)](),_0x3075f9=_0xaa0a21['topics']||{};let _0x5ed452=![];for(const _0x5a4c0b in _0x3075f9){const _0x29b23a=_0x3075f9[_0x5a4c0b];if(_0x29b23a[_0x29b05a(0x588)]&&_0x29b23a[_0x29b05a(0x588)][_0x29b05a(0x4c2)](_0x2d05d3)){_0x5ed452=!![];const _0x32b8b6=doc(db,_0x29b05a(0xbc5)+appId+_0x29b05a(0x618),_0x39ec64['id']),_0x388852=updateDoc(_0x32b8b6,{[_0x29b05a(0xa13)+_0x5a4c0b+_0x29b05a(0xbe1)]:arrayRemove(_0x2d05d3)});_0x497ad5[_0x29b05a(0x6d9)](_0x388852);}}}),_0x497ad5['length']>0x0&&(await Promise[_0x3c3f8b(0x3ca)](_0x497ad5),console[_0x3c3f8b(0x511)](_0x3c3f8b(0xbaf)+_0x497ad5[_0x3c3f8b(0xa90)]+_0x3c3f8b(0x80b)+_0x2d05d3+'.'));}catch(_0x243cda){console[_0x3c3f8b(0x2da)](_0x3c3f8b(0x48c),_0x243cda);}_0x2d862c&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x53fd51){console[_0x3c3f8b(0x2da)]('Error\x20deleting\x20quiz:',_0x53fd51),_0x2d862c&&showMessage(_0x3c3f8b(0xa38));}}async function showQuizDetailView(_0x288be7){const _0x4f7de9=_0x4e7cd8;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x410807=doc(db,_0x4f7de9(0xbc5)+appId+_0x4f7de9(0x5e2),_0x288be7),_0x781f01=await getDoc(_0x410807);if(!_0x781f01[_0x4f7de9(0x7b7)]()){showMessage(_0x4f7de9(0x203));return;}const _0x505ac8={'id':_0x781f01['id'],..._0x781f01[_0x4f7de9(0x921)]()};currentQuizData=_0x505ac8;const _0x4591c4=doc(db,'artifacts/'+appId+_0x4f7de9(0x6e3),_0x505ac8[_0x4f7de9(0xa4a)]),_0x3ba2b9=await getDoc(_0x4591c4);_0x3ba2b9[_0x4f7de9(0x7b7)]()?(currentProjectData=_0x3ba2b9[_0x4f7de9(0x921)](),currentProjectId=_0x505ac8[_0x4f7de9(0xa4a)]):(currentProjectData={'students':[]},currentProjectId=_0x505ac8[_0x4f7de9(0xa4a)]);document['getElementById'](_0x4f7de9(0xb7d))[_0x4f7de9(0x9a1)]=_0x505ac8[_0x4f7de9(0xcaf)],document[_0x4f7de9(0x1c2)](_0x4f7de9(0xa56))[_0x4f7de9(0x9a1)]=_0x288be7;const _0x2d320c=collection(db,_0x4f7de9(0xbc5)+appId+_0x4f7de9(0x5e2),_0x288be7,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x2d320c,_0x58b4d8=>{const _0x5f1295=_0x4f7de9,_0x441af1=_0x58b4d8['docs'][_0x5f1295(0xa26)](_0x4c0a3b=>({'id':_0x4c0a3b['id'],..._0x4c0a3b[_0x5f1295(0x921)]()}));currentSubmissions=_0x441af1;const _0x3150d3=_0x441af1[_0x5f1295(0x473)](_0x59ad36=>_0x59ad36[_0x5f1295(0xba1)]&&_0x59ad36['attempts'][_0x5f1295(0xa90)]>0x0);renderBehaviorLog(_0x441af1),renderAnswerGrid(currentProjectData[_0x5f1295(0x7f0)],_0x3150d3,_0x505ac8),renderAnalytics(_0x505ac8,_0x3150d3),renderQuizResultsTable(currentProjectData[_0x5f1295(0x7f0)],_0x441af1,_0x505ac8),renderQuizLeaderboard(_0x3150d3,_0x505ac8,_0x5f1295(0x276));}),showView(_0x4f7de9(0x3e4));}catch(_0x455743){console[_0x4f7de9(0x2da)](_0x4f7de9(0xb25),_0x455743),showMessage(_0x4f7de9(0x2d1));}}function renderAnswerGrid(_0x1b48c1,_0x1c4234,_0x1c2ad2){const _0x1b6366=_0x4e7cd8,_0x5c285b=document['getElementById']('answer-grid-container');if(!_0x5c285b)return;if(!_0x1b48c1||_0x1b48c1['length']===0x0){_0x5c285b[_0x1b6366(0x3e3)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x3069f0=_0x1c2ad2['questions'],_0x29d50a=_0x1c4234[_0x1b6366(0x7b3)]((_0x2319a5,_0x41d5b3)=>{const _0x381ed7=_0x1b6366;return _0x2319a5[_0x41d5b3[_0x381ed7(0xc3e)]]=_0x41d5b3,_0x2319a5;},{}),_0x48b64e=_0x861fb1=>String[_0x1b6366(0x92e)](0x41+_0x861fb1),_0x585c2d=_0x1feb7f=>{const _0x3d9eae=_0x1b6366,_0x3cf739=_0x1feb7f['questionType']||_0x1c2ad2[_0x3d9eae(0x769)];switch(_0x3cf739){case _0x3d9eae(0x4bb):return _0x1feb7f[_0x3d9eae(0x4d1)]&&_0x1feb7f[_0x3d9eae(0x4d1)][_0x3d9eae(0xa90)]>_0x1feb7f[_0x3d9eae(0xcab)]?_0x48b64e(_0x1feb7f[_0x3d9eae(0xcab)]):'-';case'true_false':const _0x4e1c31=_0x1feb7f[_0x3d9eae(0x209)]===!![]||String(_0x1feb7f['correctAnswer'])[_0x3d9eae(0x7a9)]()===_0x3d9eae(0xaa3);return _0x4e1c31?'ใช่':_0x3d9eae(0x422);case _0x3d9eae(0x220):return _0x1feb7f[_0x3d9eae(0x47a)]||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x5b5f98=(_0x24537a,_0x5e0510)=>{const _0x1920c5=_0x1b6366;if(_0x5e0510[_0x1920c5(0xb8c)]===null||_0x5e0510[_0x1920c5(0xb8c)]===undefined)return'-';const _0x5d2fa5=_0x24537a[_0x1920c5(0x93a)]||_0x1c2ad2[_0x1920c5(0x769)];switch(_0x5d2fa5){case _0x1920c5(0x4bb):const _0x6780bd=_0x24537a[_0x1920c5(0x4d1)]['findIndex'](_0x3a8f01=>_0x3a8f01===_0x5e0510['answerText']);return _0x6780bd!==-0x1?_0x48b64e(_0x6780bd):_0x5e0510['answerText']||'-';case _0x1920c5(0x7f4):if(_0x5e0510['answer']=='0'||_0x5e0510[_0x1920c5(0xb8c)]===!![]||_0x5e0510[_0x1920c5(0xb8c)]===_0x1920c5(0xaa3))return'ใช่';return'ไม่ใช่';default:return _0x5e0510['answer'];}};let _0x32bf30=_0x1b6366(0x1aa)+_0x3069f0[_0x1b6366(0xa26)]((_0x44c6bc,_0x3104fe)=>_0x1b6366(0x81e)+(_0x3104fe+0x1)+_0x1b6366(0x8ee))[_0x1b6366(0xab6)]('')+_0x1b6366(0x33e)+_0x3069f0[_0x1b6366(0xa26)](_0x381a11=>_0x1b6366(0xc1a)+_0x585c2d(_0x381a11)+_0x1b6366(0xa8c))[_0x1b6366(0xab6)]('')+_0x1b6366(0x3c2);_0x1b48c1['forEach'](_0x32627f=>{const _0x545b3b=_0x1b6366;_0x32bf30+=_0x545b3b(0x750),_0x32bf30+=_0x545b3b(0xb78)+_0x32627f+_0x545b3b(0xa8c);const _0x52b1e6=_0x29d50a[_0x32627f];if(_0x52b1e6){const _0x2ec56e=_0x52b1e6['attempts'][_0x52b1e6[_0x545b3b(0xba1)]['length']-0x1];_0x3069f0[_0x545b3b(0x8ca)]((_0x2d7bc8,_0x25537f)=>{const _0x236ac9=_0x545b3b,_0x37dbc3=_0x2ec56e[_0x236ac9(0x361)][_0x236ac9(0x135)](_0x4a853e=>_0x4a853e[_0x236ac9(0x1da)]===_0x2d7bc8['id']);if(_0x37dbc3){let _0x48897a='';const _0x56c7b8=_0x37dbc3[_0x236ac9(0xaf8)]===!![],_0x56d74d=_0x37dbc3['wasConfident']===!![]||_0x37dbc3['wasConfident']===_0x236ac9(0x9ab);_0x56d74d?_0x48897a=_0x56c7b8?_0x236ac9(0x890):'bg-red-500\x20text-white\x20font-bold':_0x48897a=_0x56c7b8?'bg-green-100':_0x236ac9(0x478),_0x32bf30+=_0x236ac9(0x6ff)+_0x48897a+'\x22>'+_0x5b5f98(_0x2d7bc8,_0x37dbc3)+'</td>';}else _0x32bf30+=_0x236ac9(0x7b8);});}else _0x32bf30+=_0x3069f0[_0x545b3b(0xa26)](()=>_0x545b3b(0x6f0))['join']('');_0x32bf30+=_0x545b3b(0x30c);}),_0x32bf30+=_0x1b6366(0x23d),_0x5c285b[_0x1b6366(0x3e3)]=_0x32bf30;}function renderQuizResultsTable(_0xd8577,_0x59304b,_0x38b8e3){const _0x292bc5=_0x4e7cd8,_0x2cac53=_0x59304b[_0x292bc5(0x7b3)]((_0x2b1f2c,_0x564f15)=>{const _0x5098a0=_0x292bc5;return _0x2b1f2c[_0x564f15[_0x5098a0(0xc3e)]]=_0x564f15,_0x2b1f2c;},{}),_0x631693=document[_0x292bc5(0x8b9)](_0x292bc5(0x539));_0x631693&&!_0x631693['innerHTML'][_0x292bc5(0x4c2)](_0x292bc5(0x325))&&(_0x631693[_0x292bc5(0x3e3)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x102b5c=document[_0x292bc5(0x1c2)]('quiz-results-table-body');if(!_0xd8577||_0xd8577[_0x292bc5(0xa90)]===0x0){_0x102b5c['innerHTML']=_0x292bc5(0x115);return;}const _0x4b2e82=_0x38b8e3[_0x292bc5(0x88a)]===!![],_0x2aaa9f=_0x38b8e3[_0x292bc5(0x9e2)]?.[_0x292bc5(0x874)]??-0x1;let _0xa5bb31='';_0xd8577[_0x292bc5(0x8ca)](_0x5737f8=>{const _0x10a710=_0x292bc5,_0x369343=_0x2cac53[_0x5737f8];let _0xc83a7b=_0x10a710(0x480)+(_0x4b2e82?'bg-amber-100\x20text-amber-800':_0x10a710(0x1de))+'\x22>'+(_0x4b2e82?_0x10a710(0x1ae):'สอบปกติ')+_0x10a710(0x51b);if(_0x369343){if(_0x369343[_0x10a710(0xba1)]&&_0x369343[_0x10a710(0xba1)][_0x10a710(0xa90)]>0x0){let _0x3358b4=_0x4b2e82?_0x369343['bestScore']===_0x369343[_0x10a710(0x71a)]:_0x2aaa9f!==-0x1&&_0x369343[_0x10a710(0x6b8)]>=_0x2aaa9f;const _0x54a136=_0x3358b4?_0x10a710(0x5db):_0x10a710(0x501),_0x5934bf=_0x3358b4?_0x10a710(0x81f):_0x10a710(0xc41),_0x3476be=_0x10a710(0x3af)+_0x54a136+'\x22>'+_0x5934bf+_0x10a710(0x51b),_0x58071b='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x369343[_0x10a710(0xba1)]?.['length']||0x1)+_0x10a710(0xae0);_0xa5bb31+=_0x10a710(0x65e)+_0x5737f8+_0x10a710(0xc10)+_0x369343[_0x10a710(0x6b8)]+_0x10a710(0xbbf)+_0x369343[_0x10a710(0x71a)]+_0x10a710(0x343)+_0x3476be+_0x10a710(0x76b)+_0xc83a7b+_0x10a710(0x692)+_0x369343[_0x10a710(0x1f2)]+_0x10a710(0xbbf)+_0x369343[_0x10a710(0x71a)]+_0x10a710(0x5fb)+_0x369343[_0x10a710(0x156)]+'\x20/\x20'+_0x369343[_0x10a710(0x71a)]+_0x10a710(0xa21)+(_0x369343[_0x10a710(0xb70)]||0x0)+_0x10a710(0x343)+_0x58071b+_0x10a710(0xc8b)+new Date(_0x369343[_0x10a710(0x66b)])['toLocaleString']('th-TH')+_0x10a710(0x8d8)+_0x5737f8+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x52288e=_0x10a710(0x8e9);_0xa5bb31+=_0x10a710(0xb84)+_0x5737f8+_0x10a710(0x6d3)+_0xc83a7b+_0x10a710(0x3c0)+_0x52288e+_0x10a710(0xc8b)+new Date(_0x369343[_0x10a710(0xc7a)])[_0x10a710(0x645)](_0x10a710(0x22f))+_0x10a710(0x706)+_0x5737f8+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x19106a=_0x10a710(0x2dd);_0xa5bb31+=_0x10a710(0x71f)+_0x5737f8+_0x10a710(0x87d)+_0xc83a7b+_0x10a710(0x556)+_0x19106a+_0x10a710(0x2a0);}}),_0x102b5c[_0x292bc5(0x3e3)]=_0xa5bb31;}async function confirmRenameQuiz(){const _0x30dd0b=_0x4e7cd8,_0x2f10bd=document[_0x30dd0b(0x1c2)]('rename-quiz-input')[_0x30dd0b(0x9f1)]['trim']();if(!_0x2f10bd){showMessage(_0x30dd0b(0x8a9));return;}if(!actionTargetId)return;const _0x58667a=doc(db,_0x30dd0b(0xbc5)+appId+_0x30dd0b(0x5e2),actionTargetId);try{await updateDoc(_0x58667a,{'topic':_0x2f10bd}),showMessage(_0x30dd0b(0x2b2)),renameQuizModal['classList'][_0x30dd0b(0x7d7)](_0x30dd0b(0x30a)),actionTargetId=null;}catch(_0x558645){console[_0x30dd0b(0x2da)]('Error\x20renaming\x20quiz:',_0x558645),showMessage(_0x30dd0b(0xb62));}}async function handleMoveQuiz(_0x5b02fb){const _0x199804=_0x4e7cd8;actionTargetId=_0x5b02fb;const _0x273d72=document[_0x199804(0x1c2)](_0x199804(0x586));_0x273d72['innerHTML']=_0x199804(0x24f),moveQuizModal[_0x199804(0x12e)][_0x199804(0x1f9)](_0x199804(0x30a));try{const _0x4df7a5=collection(db,_0x199804(0xbc5)+appId+_0x199804(0x6e3)),_0x7514f4=await getDocs(_0x4df7a5),_0x3a4a26=_0x7514f4['docs'][_0x199804(0xa26)](_0x17a60d=>({'id':_0x17a60d['id'],..._0x17a60d[_0x199804(0x921)]()})),_0x3e7e8d=_0x3a4a26['filter'](_0xf5bab5=>_0xf5bab5['id']!==currentProjectId);if(_0x3e7e8d[_0x199804(0xa90)]===0x0){_0x273d72[_0x199804(0x3e3)]=_0x199804(0x195),document['getElementById'](_0x199804(0x4ec))[_0x199804(0x78a)]=!![];return;}_0x273d72[_0x199804(0x3e3)]=_0x3e7e8d[_0x199804(0xa26)](_0x562fc2=>_0x199804(0xc29)+_0x562fc2['id']+'\x22>'+_0x562fc2[_0x199804(0xa74)]+_0x199804(0x848))[_0x199804(0xab6)](''),document[_0x199804(0x1c2)](_0x199804(0x4ec))[_0x199804(0x78a)]=![];}catch(_0x5f0de2){console[_0x199804(0x2da)]('Error\x20fetching\x20projects\x20for\x20move:',_0x5f0de2),showMessage(_0x199804(0xc9c)),moveQuizModal[_0x199804(0x12e)][_0x199804(0x7d7)](_0x199804(0x30a));}}async function confirmMoveQuiz(){const _0x8c11be=_0x4e7cd8,_0x50f8b1=document[_0x8c11be(0x1c2)](_0x8c11be(0x586))[_0x8c11be(0x9f1)];if(!_0x50f8b1){showMessage(_0x8c11be(0x443));return;}if(!actionTargetId)return;const _0x3f1558=doc(db,_0x8c11be(0xbc5)+appId+_0x8c11be(0x5e2),actionTargetId);try{await updateDoc(_0x3f1558,{'projectId':_0x50f8b1}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList']['add'](_0x8c11be(0x30a)),actionTargetId=null;}catch(_0x45fc02){console[_0x8c11be(0x2da)](_0x8c11be(0xb85),_0x45fc02),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x9566a2){const _0x598c17=_0x4e7cd8;actionTargetId=_0x9566a2;const _0x2bbdaa=doc(db,'artifacts/'+appId+_0x598c17(0x5e2),_0x9566a2);try{const _0x3763dc=await getDoc(_0x2bbdaa);if(_0x3763dc[_0x598c17(0x7b7)]()){const _0x4bc888=_0x3763dc[_0x598c17(0x921)](),_0xac6559=_0x4bc888[_0x598c17(0x9e2)]||{},_0x18c924=_0x4bc888[_0x598c17(0x966)][_0x598c17(0xa90)];document[_0x598c17(0x1c2)](_0x598c17(0x4a6))[_0x598c17(0x9f1)]=_0xac6559['shuffle']||_0x598c17(0xba0),document[_0x598c17(0x1c2)](_0x598c17(0x5b6))[_0x598c17(0x9f1)]=_0xac6559[_0x598c17(0x8bb)]||_0x598c17(0x6a4),document[_0x598c17(0x1c2)](_0x598c17(0x413))[_0x598c17(0x9f1)]=_0xac6559['timerMode']||_0x598c17(0xba0),document[_0x598c17(0x1c2)]('modal-timer-duration-input')[_0x598c17(0x9f1)]=_0xac6559[_0x598c17(0x5e4)]||0xa,document[_0x598c17(0x1c2)]('modal-passing-score-input')['value']=_0xac6559[_0x598c17(0x874)]||Math['floor'](_0x18c924/0x2),document[_0x598c17(0x1c2)]('modal-passing-score-input')[_0x598c17(0x3a8)]=_0x18c924,document['getElementById']('modal-adaptive-quiz-checkbox')[_0x598c17(0x564)]=_0xac6559['isAdaptive']||![],document[_0x598c17(0x1c2)](_0x598c17(0x2fc))[_0x598c17(0x564)]=_0xac6559[_0x598c17(0x829)]||![];const _0x713494=_0xac6559[_0x598c17(0x3e8)]||![];document['getElementById']('modal-confidence-scoring-checkbox')[_0x598c17(0x564)]=_0x713494,document[_0x598c17(0x1c2)](_0x598c17(0x293))[_0x598c17(0x9f1)]=_0xac6559[_0x598c17(0xb48)]||_0x598c17(0xb23);const _0x53bb3a=document[_0x598c17(0x1c2)]('modal-confidence-mode-container');_0x53bb3a[_0x598c17(0x12e)]['toggle'](_0x598c17(0x30a),!_0x713494),document[_0x598c17(0x1c2)](_0x598c17(0x413))[_0x598c17(0x322)](new Event('change')),quizSettingsModal[_0x598c17(0x12e)][_0x598c17(0x1f9)](_0x598c17(0x30a));}else showMessage(_0x598c17(0x203));}catch(_0x36e877){console[_0x598c17(0x2da)](_0x598c17(0x441),_0x36e877),showMessage(_0x598c17(0xbef));}}async function confirmQuizSettings(){const _0x4319e5=_0x4e7cd8;if(!actionTargetId)return;const _0x57389e=doc(db,_0x4319e5(0xbc5)+appId+_0x4319e5(0x5e2),actionTargetId),_0x41e4e1={'shuffle':document['getElementById'](_0x4319e5(0x4a6))[_0x4319e5(0x9f1)],'resultsDisplay':document[_0x4319e5(0x1c2)](_0x4319e5(0x5b6))[_0x4319e5(0x9f1)],'timerMode':document['getElementById'](_0x4319e5(0x413))[_0x4319e5(0x9f1)],'timerDuration':parseInt(document[_0x4319e5(0x1c2)](_0x4319e5(0x760))[_0x4319e5(0x9f1)])||0xa,'passingScore':parseInt(document[_0x4319e5(0x1c2)](_0x4319e5(0x3de))[_0x4319e5(0x9f1)])||0x0,'isAdaptive':document[_0x4319e5(0x1c2)](_0x4319e5(0x3c4))[_0x4319e5(0x564)],'loopUntilPass':document[_0x4319e5(0x1c2)]('modal-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x4319e5(0x1c2)]('modal-confidence-scoring-checkbox')[_0x4319e5(0x564)],'confidenceMode':document['getElementById']('modal-confidence-mode-select')[_0x4319e5(0x9f1)]};try{await updateDoc(_0x57389e,{'settings':_0x41e4e1}),showMessage(_0x4319e5(0x4d0)),quizSettingsModal['classList'][_0x4319e5(0x7d7)](_0x4319e5(0x30a)),actionTargetId=null;}catch(_0x5e51cb){console[_0x4319e5(0x2da)](_0x4319e5(0x464),_0x5e51cb),showMessage(_0x4319e5(0x227));}}async function confirmQuizStatus(){const _0x478333=_0x4e7cd8;if(!actionTargetId)return;const _0x231d7c=doc(db,_0x478333(0xbc5)+appId+_0x478333(0x5e2),actionTargetId),_0x3ce741=document[_0x478333(0x8b9)]('input[name=\x22status-option\x22]:checked');if(!_0x3ce741){showMessage(_0x478333(0x526));return;}const _0xc346b6=_0x3ce741['value'];let _0x3f2fdc={};if(_0xc346b6==='active'||_0xc346b6===_0x478333(0x4c8))_0x3f2fdc={'status':_0xc346b6,'startTime':null,'endTime':null};else{if(_0xc346b6==='schedule'){const _0x53f26f=document['getElementById'](_0x478333(0x69d))['value'],_0x4818be=document[_0x478333(0x1c2)]('quiz-end-time')['value'];if(!_0x53f26f&&!_0x4818be){showMessage(_0x478333(0x4de));return;}_0x3f2fdc={'status':_0x478333(0x200),'startTime':_0x53f26f?new Date(_0x53f26f)[_0x478333(0xc5d)]():null,'endTime':_0x4818be?new Date(_0x4818be)[_0x478333(0xc5d)]():null};}}try{await updateDoc(_0x231d7c,_0x3f2fdc),showMessage(_0x478333(0x7a2)),quizStatusModal[_0x478333(0x12e)]['add'](_0x478333(0x30a)),actionTargetId=null;}catch(_0x57018b){console[_0x478333(0x2da)](_0x478333(0x745),_0x57018b),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x5cdc49){const _0x2c78c0=_0x4e7cd8,_0x17b438=collection(db,'artifacts/'+appId+_0x2c78c0(0x5cd)+_0x5cdc49+_0x2c78c0(0x201));unsubscribeStudentProfilesListener=onSnapshot(_0x17b438,_0x2ea65b=>{const _0x364a10=_0x2c78c0,_0x2c33ef=_0x2ea65b['docs'][_0x364a10(0xa26)](_0x2ad11f=>_0x2ad11f[_0x364a10(0x921)]());renderLeaderboard(_0x2c33ef,_0x364a10(0x42f));},_0x3e3f9a=>{const _0x417499=_0x2c78c0;console[_0x417499(0x2da)](_0x417499(0x62c),_0x3e3f9a),document[_0x417499(0x1c2)](_0x417499(0x42f))[_0x417499(0x3e3)]=_0x417499(0xac4);});}function renderLeaderboard(_0x57f1c7,_0x287e2f){const _0x2d7943=_0x4e7cd8,_0x5391d7=document[_0x2d7943(0x1c2)](_0x287e2f);if(!_0x57f1c7||_0x57f1c7[_0x2d7943(0xa90)]===0x0){_0x5391d7[_0x2d7943(0x3e3)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x57f1c7[_0x2d7943(0x327)]((_0x462667,_0x4302ab)=>{const _0x31fa9b=_0x2d7943,_0x253a6c=(_0x4302ab[_0x31fa9b(0x643)]||0x0)-(_0x462667[_0x31fa9b(0x643)]||0x0);if(_0x253a6c!==0x0)return _0x253a6c;const _0x1a54b0=(_0x4302ab['badgesCount']?.[_0x31fa9b(0x5d7)]||0x0)-(_0x462667['badgesCount']?.['specialist']||0x0);if(_0x1a54b0!==0x0)return _0x1a54b0;const _0x3b7433=(_0x4302ab['badgesCount']?.[_0x31fa9b(0x409)]||0x0)-(_0x462667[_0x31fa9b(0x7df)]?.['first_try_ace']||0x0);if(_0x3b7433!==0x0)return _0x3b7433;const _0x3c10a8=(_0x4302ab['badgesCount']?.[_0x31fa9b(0xc1d)]||0x0)-(_0x462667[_0x31fa9b(0x7df)]?.[_0x31fa9b(0xc1d)]||0x0);if(_0x3c10a8!==0x0)return _0x3c10a8;const _0x64d129=(_0x4302ab[_0x31fa9b(0x7df)]?.[_0x31fa9b(0x5c1)]||0x0)-(_0x462667['badgesCount']?.[_0x31fa9b(0x5c1)]||0x0);if(_0x64d129!==0x0)return _0x64d129;return _0x462667[_0x31fa9b(0xc3e)][_0x31fa9b(0x8d0)](_0x4302ab[_0x31fa9b(0xc3e)],'th');});let _0x12c72b='';_0x57f1c7[_0x2d7943(0x8ca)]((_0x4309d0,_0x44f79d)=>{const _0x5b8c56=_0x2d7943,_0x186afd=_0x44f79d+0x1,_0x3c81cd=_0x4309d0['badgesCount']||{};let _0x5d70f6='';const _0xa98114=[_0x5b8c56(0x5d7),_0x5b8c56(0xc1d),_0x5b8c56(0x409),'quick_thinker'];_0xa98114['forEach'](_0x52afbd=>{const _0x124865=_0x5b8c56;if(_0x3c81cd[_0x52afbd]>0x0){const _0xb0cc17=Object[_0x124865(0x9a6)](BADGES)['find'](_0xdc6dc2=>_0xdc6dc2['id']===_0x52afbd);_0xb0cc17&&(_0x52afbd==='specialist'?_0x5d70f6+=_0x124865(0xa54)+_0xb0cc17['name']+_0x124865(0xb6f)+_0xb0cc17['icon']+_0x124865(0xc14):_0x5d70f6+=_0x124865(0xa54)+_0xb0cc17['name']+'\x20('+_0x3c81cd[_0x52afbd]+_0x124865(0x991)+_0xb0cc17[_0x124865(0xbae)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x3c81cd[_0x52afbd]+_0x124865(0x488));}}),_0x12c72b+=_0x5b8c56(0x9f2)+_0x186afd+_0x5b8c56(0x62d)+_0x4309d0[_0x5b8c56(0xc3e)]+_0x5b8c56(0xc90)+(_0x4309d0[_0x5b8c56(0x643)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x5d70f6||'-')+_0x5b8c56(0x630);}),_0x5391d7[_0x2d7943(0x3e3)]=_0x12c72b;}function displayLoopScreen(_0x3fdbce,_0x56639a,_0x1a0475){const _0x33d4c2=_0x4e7cd8;let _0x33b61c='';_0x1a0475!==_0x33d4c2(0x1ed)&&(_0x33b61c=_0x33d4c2(0x2a5)+_0x3fdbce+'\x20/\x20'+_0x56639a+'</strong></p>');const _0x19a609=_0x33d4c2(0xb40)+_0x33b61c+_0x33d4c2(0x403);studentResultArea[_0x33d4c2(0x3e3)]=_0x19a609,studentResultArea[_0x33d4c2(0x12e)][_0x33d4c2(0x1f9)](_0x33d4c2(0x30a)),studentQuizArea[_0x33d4c2(0x12e)][_0x33d4c2(0x7d7)](_0x33d4c2(0x30a)),document[_0x33d4c2(0x1c2)]('retake-quiz-loop-btn')[_0x33d4c2(0xa37)](_0x33d4c2(0xbdd),()=>{const _0x43f66d=_0x33d4c2;studentResultArea['classList'][_0x43f66d(0x7d7)](_0x43f66d(0x30a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x113e8e,_0x519590,_0x5ad79a){const _0x39723c=_0x4e7cd8,_0x4f59a0=document[_0x39723c(0x1c2)](_0x5ad79a),_0x9ee3d2=_0x5ad79a===_0x39723c(0x2bb),_0x550443=_0x519590[_0x39723c(0x966)][_0x39723c(0xa90)],_0x1f5c8a=document[_0x39723c(0x1c2)](_0x5ad79a)['closest'](_0x39723c(0x2b0));if(_0x1f5c8a&&!_0x9ee3d2){const _0x5d9ddb=_0x1f5c8a['querySelector']('thead');_0x5d9ddb[_0x39723c(0x3e3)]=_0x39723c(0x6fa);}if(!_0x113e8e||_0x113e8e[_0x39723c(0xa90)]===0x0){_0x4f59a0[_0x39723c(0x3e3)]=_0x39723c(0x604)+(_0x9ee3d2?0x6:0x8)+_0x39723c(0x428);return;}const _0x38817c=[..._0x113e8e];_0x38817c[_0x39723c(0x327)]((_0x529ef8,_0x163021)=>{const _0x380792=_0x39723c;let _0x18b967,_0x27ef1f;switch(quizLeaderboardSortBy){case _0x380792(0xc3e):_0x18b967=_0x529ef8[_0x380792(0xc3e)]||'',_0x27ef1f=_0x163021[_0x380792(0xc3e)]||'';return quizLeaderboardSortOrder===_0x380792(0x56a)?_0x18b967[_0x380792(0x8d0)](_0x27ef1f,'th'):_0x27ef1f['localeCompare'](_0x18b967,'th');case _0x380792(0xb70):_0x18b967=_0x529ef8[_0x380792(0xb70)]||0x0,_0x27ef1f=_0x163021[_0x380792(0xb70)]||0x0;break;case _0x380792(0xba1):_0x18b967=_0x529ef8[_0x380792(0xba1)]?.['length']||0x1,_0x27ef1f=_0x163021[_0x380792(0xba1)]?.[_0x380792(0xa90)]||0x1;break;case _0x380792(0x66b):_0x18b967=new Date(_0x529ef8[_0x380792(0x66b)]),_0x27ef1f=new Date(_0x163021['latestSubmittedAt']);break;case _0x380792(0x6b8):default:_0x18b967=_0x529ef8[_0x380792(0x6b8)],_0x27ef1f=_0x163021[_0x380792(0x6b8)];break;}if(_0x18b967<_0x27ef1f)return quizLeaderboardSortOrder===_0x380792(0x56a)?-0x1:0x1;if(_0x18b967>_0x27ef1f)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x33c9bc=_0x519590[_0x39723c(0x88a)]===!![],_0x3dd81b=_0x519590[_0x39723c(0x9e2)]?.['passingScore']??-0x1;let _0x40cc22='';_0x38817c[_0x39723c(0x8ca)]((_0x522d50,_0x5937f1)=>{const _0x5f395c=_0x39723c,_0x46b510=_0x5937f1+0x1;let _0x283a01=_0x5f395c(0x55a);if(_0x33c9bc||_0x3dd81b!==-0x1){let _0x1cec3d=_0x33c9bc?_0x522d50[_0x5f395c(0x6b8)]===_0x550443:_0x522d50[_0x5f395c(0x6b8)]>=_0x3dd81b;const _0x594d0c=_0x1cec3d?_0x5f395c(0x5db):_0x5f395c(0x501),_0x5c58c9=_0x1cec3d?_0x5f395c(0x81f):_0x5f395c(0xc41);_0x283a01='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x594d0c+'\x22>'+_0x5c58c9+'</span></td>';}const _0x1a037e=_0x522d50['attempts'][_0x522d50[_0x5f395c(0xba1)]['length']-0x1],_0x8c8fef=(_0x1a037e[_0x5f395c(0x74d)]||[])[_0x5f395c(0xa26)](_0x5da564=>{const _0x26aca4=_0x5f395c,_0x5ec2ae=Object['values'](BADGES)[_0x26aca4(0x135)](_0x40c6ec=>_0x40c6ec['id']===_0x5da564);return _0x5ec2ae?_0x26aca4(0x6b2)+_0x5ec2ae[_0x26aca4(0x82b)]+_0x26aca4(0x70f)+_0x5ec2ae[_0x26aca4(0xbae)]+_0x26aca4(0x39f):'';})[_0x5f395c(0xab6)]('');_0x40cc22+=_0x5f395c(0xba9)+_0x46b510+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x522d50[_0x5f395c(0xc3e)]+_0x5f395c(0x143)+_0x522d50[_0x5f395c(0x6b8)]+_0x5f395c(0xbbf)+_0x550443+_0x5f395c(0x122)+_0x283a01+_0x5f395c(0xcc1)+(_0x522d50[_0x5f395c(0xb70)]||0x0)+_0x5f395c(0x122)+(_0x9ee3d2?'':_0x5f395c(0x3e6)+(_0x522d50['attempts']?.[_0x5f395c(0xa90)]||0x1)+'</td>')+_0x5f395c(0x15e)+(_0x9ee3d2?'':_0x5f395c(0xbe2)+new Date(_0x522d50['latestSubmittedAt'])['toLocaleString']('th-TH')+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x8c8fef||'-')+_0x5f395c(0x3bd);}),_0x4f59a0[_0x39723c(0x3e3)]=_0x40cc22,_0x1f5c8a&&!_0x9ee3d2&&_0x1f5c8a[_0x39723c(0x9f4)](_0x39723c(0x3cc))[_0x39723c(0x8ca)](_0x20feae=>{const _0x246978=_0x39723c,_0x4e7fb1=_0x20feae[_0x246978(0x8b9)]('.sort-indicator');if(_0x4e7fb1)_0x4e7fb1[_0x246978(0x1f9)]();_0x20feae[_0x246978(0x928)][_0x246978(0x327)]===quizLeaderboardSortBy&&(_0x20feae['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x246978(0x56a)?'▲':'▼')+_0x246978(0x46c));});}async function handleDeleteSubmission(_0xe7758f){const _0x587066=_0x4e7cd8;if(!currentQuizData||!currentQuizData['id']||!_0xe7758f){showMessage(_0x587066(0x6b7));return;}showConfirmation(_0x587066(0x15b)+_0xe7758f+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x109d27=_0x587066,_0x315918=currentQuizData['id'],_0x5933ba=doc(db,_0x109d27(0xbc5)+appId+_0x109d27(0x155)+_0x315918+_0x109d27(0x2e0),_0xe7758f);try{await deleteDoc(_0x5933ba),showMessage(_0x109d27(0x74a)+_0xe7758f+_0x109d27(0x4b7));}catch(_0x564411){console[_0x109d27(0x2da)](_0x109d27(0x5f4),_0x564411),showMessage(_0x109d27(0x917));}});}async function handleLoadQuiz(){const _0x2f6237=_0x4e7cd8,_0x4ba072=document['getElementById'](_0x2f6237(0x1ba)),_0x59baef=_0x4ba072['value'][_0x2f6237(0x492)]();if(!_0x59baef){showMessage(_0x2f6237(0xb87));return;}loadQuizBtn[_0x2f6237(0x78a)]=!![],loadQuizBtn[_0x2f6237(0x3e3)]=_0x2f6237(0x5e5);try{const _0x593c53=doc(db,'artifacts/'+appId+_0x2f6237(0x5e2),_0x59baef),_0x23e336=await getDoc(_0x593c53);if(!_0x23e336[_0x2f6237(0x7b7)]()){showMessage(_0x2f6237(0xca8));return;}currentQuizData={'id':_0x23e336['id'],..._0x23e336[_0x2f6237(0x921)]()};const _0x28042e=currentQuizData['status']||_0x2f6237(0xae2),_0x3648a2=new Date();if(_0x28042e===_0x2f6237(0x4c8)){showMessage(_0x2f6237(0x788));return;}if(_0x28042e===_0x2f6237(0x200)){const _0x1619c1=currentQuizData[_0x2f6237(0x49b)]?new Date(currentQuizData[_0x2f6237(0x49b)]):null,_0x20329a=currentQuizData['endTime']?new Date(currentQuizData[_0x2f6237(0x7cf)]):null;if(_0x1619c1&&_0x3648a2<_0x1619c1){showMessage(_0x2f6237(0x8ab)+_0x1619c1[_0x2f6237(0x645)](_0x2f6237(0x22f),{'hour12':![]}));return;}if(_0x20329a&&_0x3648a2>_0x20329a){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x104510=currentQuizData[_0x2f6237(0xa4a)];currentProjectId=_0x104510;const _0x54bdda=doc(db,_0x2f6237(0xbc5)+appId+_0x2f6237(0x6e3),_0x104510),_0x3cd9a1=await getDoc(_0x54bdda);if(!_0x3cd9a1[_0x2f6237(0x7b7)]()){showMessage(_0x2f6237(0x7bf));return;}const _0x44c975=_0x3cd9a1[_0x2f6237(0x921)]();currentStudentProjectData=_0x44c975,displayStudentNameSelector(_0x44c975[_0x2f6237(0x7f0)],currentQuizData[_0x2f6237(0xcaf)]);}catch(_0x10ae75){console[_0x2f6237(0x2da)](_0x2f6237(0x1a5),_0x10ae75),showMessage(_0x2f6237(0xbd6));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x2f6237(0x3e3)]=_0x2f6237(0x615);}}async function handleJoinLiveGame(){const _0x45198e=_0x4e7cd8,_0xe721a1=document[_0x45198e(0x1c2)](_0x45198e(0x9d9)),_0x294a5f=document['getElementById'](_0x45198e(0x60b)),_0x148a44=document[_0x45198e(0x1c2)](_0x45198e(0x824)),_0x1ddde0=_0xe721a1[_0x45198e(0x9f1)][_0x45198e(0x492)](),_0xca1da5=_0x294a5f[_0x45198e(0x9f1)][_0x45198e(0x492)]();if(!_0x1ddde0||!_0xca1da5){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x148a44['disabled']=!![],_0x148a44[_0x45198e(0x3e3)]=_0x45198e(0x265);try{const _0x4af24e=collection(db,_0x45198e(0xbc5)+appId+'/public/data/liveGames'),_0x9aa26=query(_0x4af24e,where(_0x45198e(0x210),'==',_0x1ddde0),where(_0x45198e(0xb37),'in',['lobby',_0x45198e(0x3cb)])),_0x54d6a7=await getDocs(_0x9aa26);if(_0x54d6a7[_0x45198e(0x25c)]){showMessage(_0x45198e(0x3dc));return;}const _0x4e012e=_0x54d6a7[_0x45198e(0x378)][0x0],_0x1ad1a3=_0x4e012e[_0x45198e(0x921)]();currentLiveGameId=_0x4e012e['id'];const _0x1b479a=_0x1ad1a3['quizId'],_0x3a513c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1b479a),_0x234782=await getDoc(_0x3a513c);if(!_0x234782[_0x45198e(0x7b7)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x234782['id'],..._0x234782[_0x45198e(0x921)]()};if(_0x1ad1a3[_0x45198e(0xb3e)]&&_0x1ad1a3[_0x45198e(0xb3e)][_0xca1da5]){const _0x114101=_0x1ad1a3[_0x45198e(0xb3e)][_0xca1da5];if(_0x114101[_0x45198e(0xb37)]===_0x45198e(0x4c8)){_0x148a44[_0x45198e(0x3e3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0xf80d43={};_0xf80d43[_0x45198e(0x47f)+_0xca1da5+_0x45198e(0x5b3)]=_0x45198e(0xae2),await updateDoc(doc(db,_0x45198e(0xbc5)+appId+'/public/data/liveGames',currentLiveGameId),_0xf80d43),showView(_0x45198e(0x94d)),currentStudentName=_0xca1da5,listenForLiveGameUpdates();return;}else{showMessage(_0x45198e(0x3b0));return;}}if(_0x1ad1a3['status']!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x148a44[_0x45198e(0x3e3)]=_0x45198e(0x796);const _0x465f37={};_0x465f37[_0x45198e(0x47f)+_0xca1da5]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x45198e(0xae2)},await updateDoc(doc(db,_0x45198e(0xbc5)+appId+_0x45198e(0x372),currentLiveGameId),_0x465f37),currentStudentName=_0xca1da5,listenForLiveGameUpdates();}catch(_0x52ece3){console['error'](_0x45198e(0x2ab),_0x52ece3),showMessage(_0x45198e(0x31e));}finally{_0x148a44['disabled']=![],_0x148a44['innerHTML']=_0x45198e(0xb61);}}function displayStudentNameSelector(_0x4aaf31,_0x1b935f){const _0x1dffff=_0x4e7cd8,_0x3af07c=document[_0x1dffff(0x1c2)](_0x1dffff(0x453));document[_0x1dffff(0x1c2)](_0x1dffff(0x581))[_0x1dffff(0x9a1)]=_0x1dffff(0x331)+_0x1b935f,!_0x4aaf31||_0x4aaf31['length']===0x0?(_0x3af07c[_0x1dffff(0x3e3)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0x3af07c[_0x1dffff(0x3e3)]=_0x1dffff(0x2ca),_0x4aaf31[_0x1dffff(0x8ca)](_0x195d3f=>{const _0x150b9f=_0x1dffff,_0x4ea0c9=document[_0x150b9f(0x601)]('option');_0x4ea0c9[_0x150b9f(0x9f1)]=_0x195d3f,_0x4ea0c9['textContent']=_0x195d3f,_0x3af07c[_0x150b9f(0xb7b)](_0x4ea0c9);}),startQuizBtn[_0x1dffff(0x78a)]=![]),studentInitialView[_0x1dffff(0x12e)]['add'](_0x1dffff(0x30a)),studentNameSelectionView['classList']['remove'](_0x1dffff(0x30a));}function shuffleArray(_0x3f1275){const _0x46e439=_0x4e7cd8;for(let _0x2d572f=_0x3f1275['length']-0x1;_0x2d572f>0x0;_0x2d572f--){const _0x5744b2=Math[_0x46e439(0xa32)](Math[_0x46e439(0xad8)]()*(_0x2d572f+0x1));[_0x3f1275[_0x2d572f],_0x3f1275[_0x5744b2]]=[_0x3f1275[_0x5744b2],_0x3f1275[_0x2d572f]];}}function getShuffledQuiz(_0x30ea2e){const _0x4b6604=_0x4e7cd8;let _0x6eb518=JSON[_0x4b6604(0x281)](JSON[_0x4b6604(0x462)](_0x30ea2e));const _0x49da72=_0x6eb518['settings']?.[_0x4b6604(0x9c0)]||_0x4b6604(0xba0);if(_0x49da72==='none')return _0x6eb518;return(_0x49da72===_0x4b6604(0x171)||_0x49da72===_0x4b6604(0x376))&&shuffleArray(_0x6eb518[_0x4b6604(0x966)]),(_0x49da72===_0x4b6604(0x784)||_0x49da72==='both')&&_0x6eb518[_0x4b6604(0x966)]['forEach'](_0x50d6bb=>{const _0x2beb97=_0x4b6604,_0x2917c8=_0x50d6bb['questionType']||_0x6eb518[_0x2beb97(0x769)];if(_0x50d6bb[_0x2beb97(0x4d1)]){let _0x351a7f=_0x50d6bb[_0x2beb97(0x4d1)][_0x2beb97(0xa26)]((_0x3428ef,_0x40bbab)=>({'text':_0x3428ef,'isCorrect':_0x40bbab===_0x50d6bb[_0x2beb97(0xcab)]}));shuffleArray(_0x351a7f),_0x50d6bb[_0x2beb97(0x4d1)]=_0x351a7f['map'](_0x48d377=>_0x48d377[_0x2beb97(0x4d7)]),_0x50d6bb[_0x2beb97(0xcab)]=_0x351a7f[_0x2beb97(0x9ae)](_0xeb7125=>_0xeb7125['isCorrect']);}_0x2917c8==='matching_item'&&_0x50d6bb[_0x2beb97(0x998)]&&shuffleArray(_0x50d6bb['allResponses']);}),_0x6eb518;}function displayQuizForStudent(_0x16869b){const _0x534348=_0x4e7cd8;studentQuizArea[_0x534348(0x12e)]['remove'](_0x534348(0x30a)),currentDisplayedQuiz=getShuffledQuiz(_0x16869b);currentMode!==_0x534348(0x3da)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x534348(0xa37)](_0x534348(0x4b6),handleFullscreenChange),document['addEventListener'](_0x534348(0xbb4),handleVisibilityChange),enterFullscreen(),window[_0x534348(0xa37)](_0x534348(0x46b),resetDimTimer),window[_0x534348(0xa37)](_0x534348(0x8af),resetDimTimer),window[_0x534348(0xa37)](_0x534348(0xbdc),resetDimTimer),window[_0x534348(0xa37)]('keydown',resetDimTimer),resetDimTimer());const _0x431293=currentDisplayedQuiz[_0x534348(0x9e2)]?.['timerMode']||_0x534348(0xba0);if(_0x431293===_0x534348(0x4e2))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x534348(0x5e4)]);else _0x431293===_0x534348(0x78e)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x491649=_0x4e7cd8,_0xe1a83d=currentDisplayedQuiz[_0x491649(0x9e2)]?.['isConfidenceScoringEnabled']===!![],_0x200797=currentDisplayedQuiz[_0x491649(0x9e2)]?.[_0x491649(0xb48)]||'checkbox';let _0x38fd38='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x491649(0x7b6)+(currentMode===_0x491649(0x3da)?_0x491649(0x684):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0x491649(0x8ca)]((_0x4b8318,_0x3cd0c0)=>{const _0xd4005c=_0x491649,_0x3558db=_0x4b8318[_0xd4005c(0x93a)]||currentDisplayedQuiz[_0xd4005c(0x769)];_0x38fd38+=_0xd4005c(0xa05);if(_0x3558db===_0xd4005c(0x220)){}else _0x38fd38+=_0xd4005c(0x703)+(_0x3cd0c0+0x1)+'.\x20'+(_0x4b8318[_0xd4005c(0xafa)]||_0x4b8318[_0xd4005c(0x2b3)])+'</p>',_0x4b8318[_0xd4005c(0x291)]&&(_0x38fd38+=_0xd4005c(0xbb7)+_0x4b8318[_0xd4005c(0x291)]+_0xd4005c(0xc4f));_0x38fd38+=_0xd4005c(0x839);switch(_0x3558db){case _0xd4005c(0xc3f):_0x38fd38+='<textarea\x20name=\x22question'+_0x3cd0c0+_0xd4005c(0x19c);break;case _0xd4005c(0x7f4):_0x38fd38+=_0xd4005c(0x677)+_0x3cd0c0+_0xd4005c(0x522)+_0x3cd0c0+_0xd4005c(0x9d7)+_0x3cd0c0+'_opt0\x22>ใช่</label></div>',_0x38fd38+=_0xd4005c(0x677)+_0x3cd0c0+_0xd4005c(0x39d)+_0x3cd0c0+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x3cd0c0+_0xd4005c(0x594);break;case _0xd4005c(0x220):_0x38fd38+=_0xd4005c(0xb21)+_0x4b8318[_0xd4005c(0x732)]+_0xd4005c(0xc20)+_0x3cd0c0+_0xd4005c(0xa60)+_0x4b8318['allResponses'][_0xd4005c(0xa26)](_0x2c218f=>_0xd4005c(0xc29)+_0x2c218f+'\x22>'+_0x2c218f+_0xd4005c(0x848))[_0xd4005c(0xab6)]('')+_0xd4005c(0x6be);break;default:_0x38fd38+=_0x4b8318[_0xd4005c(0x4d1)][_0xd4005c(0xa26)]((_0x33805e,_0x3c6be3)=>_0xd4005c(0xab9)+_0x3cd0c0+_0xd4005c(0x29e)+_0x3c6be3+_0xd4005c(0xc26)+_0x3cd0c0+_0xd4005c(0x2aa)+_0x3c6be3+_0xd4005c(0xbcf)+_0x3cd0c0+_0xd4005c(0x29e)+_0x3c6be3+'\x22>'+_0x33805e+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xd4005c(0xab6)]('');break;}_0x38fd38+=_0xd4005c(0xc4f),_0xe1a83d&&(_0x38fd38+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x200797==='mandatory'?_0x38fd38+=_0xd4005c(0x4f8)+_0x3cd0c0+_0xd4005c(0x17e)+_0x3cd0c0+_0xd4005c(0x996)+_0x3cd0c0+_0xd4005c(0xb64)+_0x3cd0c0+_0xd4005c(0x862):_0x38fd38+=_0xd4005c(0x62a)+_0x3cd0c0+_0xd4005c(0x17e)+_0x3cd0c0+_0xd4005c(0xc77)+_0x3cd0c0+_0xd4005c(0x553),_0x38fd38+=_0xd4005c(0xc4f)),_0x38fd38+=_0xd4005c(0xc4f);}),_0x38fd38+=_0x491649(0x2d3),_0x38fd38+=_0x491649(0xb4b),studentQuizArea[_0x491649(0x3e3)]=_0x38fd38;if(currentMode===_0x491649(0x3da)){const _0x1b2e08=document[_0x491649(0x1c2)](_0x491649(0x5dd));if(_0x1b2e08)_0x1b2e08[_0x491649(0xa37)](_0x491649(0xbdd),cancelAdminTest);}const _0x270b3e=document['getElementById'](_0x491649(0xb4d));_0x270b3e&&(_0x270b3e[_0x491649(0xa37)](_0x491649(0x5cc),handleSubmitQuiz),_0x270b3e[_0x491649(0xa37)]('click',_0xd80936=>{const _0x30317c=_0x491649;if(_0xd80936['target'][_0x30317c(0x12e)]['contains']('confidence-choice-btn')){const _0x195967=_0xd80936['target'],_0x3271a4=_0x195967[_0x30317c(0x928)][_0x30317c(0x168)],_0x1cacf8=_0x195967[_0x30317c(0x928)][_0x30317c(0x9f1)];document[_0x30317c(0x1c2)](_0x30317c(0x3d7)+_0x3271a4)['value']=_0x1cacf8;const _0xabae4e=_0x195967[_0x30317c(0x13f)];_0xabae4e[_0x30317c(0x9f4)](_0x30317c(0x3d5))[_0x30317c(0x8ca)](_0x316024=>_0x316024[_0x30317c(0x12e)]['remove'](_0x30317c(0xae2))),_0x195967[_0x30317c(0x12e)][_0x30317c(0x7d7)](_0x30317c(0xae2));}}));if(window[_0x491649(0x196)])window[_0x491649(0x196)][_0x491649(0x7ca)]([studentQuizArea]);}async function handleSubmitQuiz(_0x2f2bcb){const _0x331f16=_0x4e7cd8;if(_0x2f2bcb)_0x2f2bcb[_0x331f16(0x3fd)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xc4f00c=document[_0x331f16(0x1c2)](_0x331f16(0xb4d));if(!_0xc4f00c)return;const _0x2adcac=currentDisplayedQuiz[_0x331f16(0x9e2)]?.[_0x331f16(0x3e8)]===!![],_0x4372ad=currentDisplayedQuiz[_0x331f16(0x9e2)]?.['confidenceMode']||_0x331f16(0xb23);if(_0x2adcac&&_0x4372ad===_0x331f16(0x786)){let _0x3d1302=!![];for(let _0x271661=0x0;_0x271661<currentDisplayedQuiz[_0x331f16(0x966)][_0x331f16(0xa90)];_0x271661++){const _0x1316a6=_0xc4f00c[_0x331f16(0x8b9)](_0x331f16(0xa4d)+_0x271661);if(!_0x1316a6||_0x1316a6[_0x331f16(0x9f1)]===''){_0x3d1302=![];break;}}if(!_0x3d1302){showMessage(_0x331f16(0x18c));return;}}const _0xd1c55b=_0xc4f00c[_0x331f16(0x8b9)](_0x331f16(0x3f9)),_0x335c79=currentDisplayedQuiz[_0x331f16(0x966)][_0x331f16(0x3a4)](_0x31ab4d=>_0x31ab4d['questionType']==='short_answer');_0xd1c55b&&(_0xd1c55b[_0x331f16(0x78a)]=!![],_0xd1c55b['innerHTML']=_0x335c79?_0x331f16(0xc2d):_0x331f16(0x2f0));const _0x16ab05=new FormData(_0xc4f00c),_0x37b465=currentDisplayedQuiz[_0x331f16(0x966)]['map']((_0x1c0f2,_0xa5b985)=>{const _0x4bb668=_0x331f16,_0x358de0=_0x16ab05[_0x4bb668(0xbca)]('question'+_0xa5b985);let _0x378873;_0x4372ad===_0x4bb668(0x786)?_0x378873=_0x16ab05[_0x4bb668(0xbca)](_0x4bb668(0x423)+_0xa5b985):_0x378873=_0x16ab05[_0x4bb668(0xbca)](_0x4bb668(0x423)+_0xa5b985)==='on';let _0x211445=null;if(_0x358de0!==null&&_0x358de0!==undefined){const _0x447360=_0x1c0f2[_0x4bb668(0x93a)]||currentDisplayedQuiz[_0x4bb668(0x769)];_0x447360===_0x4bb668(0x4bb)||_0x447360===_0x4bb668(0x1bb)?_0x211445=parseInt(_0x358de0):_0x211445=_0x358de0;}return{'answer':_0x211445,'wasConfident':_0x378873};}),_0x50fc43=currentQuizData['id'],_0x57bef4=doc(db,_0x331f16(0xbc5)+appId+'/public/data/quizzes/'+_0x50fc43+_0x331f16(0x2e0),currentStudentName),_0x8135a2=await getDoc(_0x57bef4),_0x11c9df=_0x8135a2['exists']()?_0x8135a2[_0x331f16(0x921)]():{},_0x573035=_0x11c9df[_0x331f16(0xba1)]||[];await processAndSubmitAnswers(_0x37b465,_0x573035);}async function gradeShortAnswerWithAI(_0xce2ae0,_0x284aec){const _0x5a57e=_0x4e7cd8;if(!_0xce2ae0||!_0x284aec)return![];try{const _0x5a4442=_0x5a57e(0x730)+_0xce2ae0+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x284aec+_0x5a57e(0x930),_0x52c424={'contents':[{'role':'user','parts':[{'text':_0x5a4442}]}]},_0x84c4c6=_0x5a57e(0x65d),_0x529853=_0x5a57e(0x310)+_0x84c4c6,_0x356bfc=await fetch(_0x529853,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x52c424)});if(!_0x356bfc['ok'])throw new Error(_0x5a57e(0x1a6));const _0xd716a3=await _0x356bfc[_0x5a57e(0x2cc)](),_0x197481=_0xd716a3['candidates'][0x0][_0x5a57e(0x529)][_0x5a57e(0x7f2)][0x0][_0x5a57e(0x4d7)]['trim']()['toLowerCase']();return _0x197481===_0x5a57e(0xaa3);}catch(_0x2ab221){return console[_0x5a57e(0x2da)](_0x5a57e(0xb16),_0x2ab221),![];}}async function processAndSubmitAnswers(_0x20851d,_0x5d3d52){const _0x568cb5=_0x4e7cd8;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x568cb5(0x208)](_0x568cb5(0x4b6),handleFullscreenChange),document[_0x568cb5(0x208)]('visibilitychange',handleVisibilityChange);let _0x2a782a=0x0;const _0x51436c=[],_0x3223ec=currentDisplayedQuiz[_0x568cb5(0x966)][_0x568cb5(0xa90)];let _0x2f21ba=0x0,_0x3fdd11=[];const _0x5e95be=currentDisplayedQuiz['questions'];for(let _0x1b2205=0x0;_0x1b2205<_0x5e95be[_0x568cb5(0xa90)];_0x1b2205++){const _0x433361=_0x5e95be[_0x1b2205],_0x44cff4=_0x20851d[_0x1b2205],_0x344c6e=_0x44cff4?_0x44cff4[_0x568cb5(0xb8c)]:null,_0x5aa8a7=_0x44cff4?_0x44cff4[_0x568cb5(0x789)]:null;let _0x59d1da=![],_0x173ad3=0x0;if(_0x344c6e!==null&&_0x344c6e!==''){const _0x4f36d8=_0x433361[_0x568cb5(0x93a)]||currentDisplayedQuiz['quizType'];switch(_0x4f36d8){case _0x568cb5(0x220):_0x59d1da=_0x344c6e===_0x433361[_0x568cb5(0x47a)];break;case _0x568cb5(0x7f4):const _0x5a19e8=_0x344c6e===!![]||_0x344c6e===_0x568cb5(0xaa3);_0x59d1da=_0x5a19e8===_0x433361[_0x568cb5(0x209)];break;case'short_answer':_0x59d1da=await gradeShortAnswer(_0x344c6e,_0x433361);break;case _0x568cb5(0x4bb):default:_0x59d1da=Number(_0x344c6e)===_0x433361[_0x568cb5(0xcab)];break;}}if(currentDisplayedQuiz[_0x568cb5(0x9e2)]?.[_0x568cb5(0x3e8)]){const _0x5ed298=_0x44cff4?_0x44cff4['wasConfident']:null;if(_0x59d1da&&(_0x5ed298===!![]||_0x5ed298==='confident'))_0x173ad3=0x2;else{if(_0x59d1da)_0x173ad3=0x1;else{if(!_0x59d1da&&(_0x5ed298===![]||_0x5ed298===_0x568cb5(0x1e3)||_0x5ed298===null))_0x173ad3=0x0;else!_0x59d1da&&(_0x5ed298===!![]||_0x5ed298===_0x568cb5(0x9ab))&&(_0x173ad3=-0x1);}}}else _0x173ad3=_0x59d1da?0x1:0x0;_0x2a782a+=_0x173ad3;if(_0x59d1da){_0x2f21ba++;if(_0x2f21ba===0x3)_0x3fdd11[_0x568cb5(0x6d9)](BADGES[_0x568cb5(0xc12)]['id']);}else _0x2f21ba=0x0;let _0x37a080=null;_0x433361[_0x568cb5(0x4d1)]&&_0x344c6e!==null&&(_0x37a080=_0x433361[_0x568cb5(0x4d1)][_0x344c6e]),_0x51436c[_0x568cb5(0x6d9)]({'questionId':_0x433361['id'],'answer':_0x344c6e,'answerText':_0x37a080,'isCorrect':_0x59d1da,'wasConfident':_0x5aa8a7,'pointsAwarded':_0x173ad3,'originalQuestionText':_0x433361[_0x568cb5(0x732)]||_0x433361['questionText']});}const _0x50f64b=_0x51436c[_0x568cb5(0x473)](_0xa143=>_0xa143[_0x568cb5(0xaf8)])[_0x568cb5(0xa90)],_0x45ecfe=currentDisplayedQuiz['settings']?.[_0x568cb5(0x874)]??Math['floor'](_0x3223ec/0x2);_0x50f64b===_0x3223ec&&_0x3223ec>0x0&&!currentDisplayedQuiz[_0x568cb5(0x88a)]&&_0x3fdd11[_0x568cb5(0x6d9)](BADGES[_0x568cb5(0x9f0)]['id']);const _0x1acf46=currentDisplayedQuiz[_0x568cb5(0x9e2)]?.['timerMode'];if(_0x1acf46==='whole_quiz'&&quizStartTime){const _0x106a1d=(new Date()-quizStartTime)/0x3e8,_0x34172a=currentDisplayedQuiz[_0x568cb5(0x9e2)][_0x568cb5(0x5e4)]*0x3c;_0x50f64b>=_0x45ecfe&&_0x106a1d<_0x34172a/0x2&&_0x3fdd11[_0x568cb5(0x6d9)](BADGES[_0x568cb5(0x438)]['id']);}_0x5d3d52[_0x568cb5(0xa90)]===0x0&&_0x50f64b===_0x3223ec&&_0x3223ec>0x0&&_0x3fdd11[_0x568cb5(0x6d9)](BADGES['FIRST_TRY_ACE']['id']);if(_0x5d3d52[_0x568cb5(0xa90)]>0x0){const _0xc2e334=_0x5d3d52[0x0][_0x568cb5(0xb20)];if(_0xc2e334<_0x45ecfe&&_0x50f64b>=_0x45ecfe){const _0x14b2a1=_0x5d3d52[_0x568cb5(0x3a4)](_0x1c23b5=>(_0x1c23b5[_0x568cb5(0x74d)]||[])[_0x568cb5(0x4c2)](BADGES[_0x568cb5(0xaf1)]['id']));!_0x14b2a1&&_0x3fdd11[_0x568cb5(0x6d9)](BADGES[_0x568cb5(0xaf1)]['id']);}}_0x5d3d52[_0x568cb5(0xa90)]===0x4&&_0x3fdd11[_0x568cb5(0x6d9)](BADGES[_0x568cb5(0x767)]['id']);const _0x2ed2b1=currentDisplayedQuiz['settings'][_0x568cb5(0x8bb)];if(currentMode==='admin-testing'){handleResultDisplay(_0x2ed2b1,_0x50f64b,_0x2a782a,_0x3fdd11,_0x51436c,_0x3223ec);return;}const _0x3ae193=currentQuizData['id'],_0x434514=doc(db,_0x568cb5(0xbc5)+appId+_0x568cb5(0x155)+_0x3ae193+_0x568cb5(0x2e0),currentStudentName);try{const _0x1615dc=[..._0x5d3d52],_0x464538={'score':_0x50f64b,'points':_0x2a782a,'badges':Array[_0x568cb5(0x1c7)](new Set(_0x3fdd11)),'submittedAt':new Date()[_0x568cb5(0xc5d)](),'answers':_0x51436c};_0x1615dc['push'](_0x464538);const _0x4a95af=_0x5d3d52[_0x568cb5(0xa90)]===0x0?_0x50f64b:_0x5d3d52[0x0][_0x568cb5(0xb20)]||0x0,_0x38282f=Math['max'](..._0x1615dc[_0x568cb5(0xa26)](_0x2776cb=>_0x2776cb[_0x568cb5(0xb20)]));await setDoc(_0x434514,{'studentName':currentStudentName,'totalQuestions':_0x3223ec,'attempts':_0x1615dc,'firstScore':_0x4a95af,'bestScore':_0x38282f,'latestScore':_0x50f64b,'points':_0x2a782a,'latestSubmittedAt':_0x464538[_0x568cb5(0x45d)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x568cb5(0xa4a)],currentStudentName),handleResultDisplay(_0x2ed2b1,_0x50f64b,_0x2a782a,_0x3fdd11,_0x51436c,_0x3223ec);}catch(_0x338e60){console[_0x568cb5(0x2da)](_0x568cb5(0x2f3),_0x338e60),showMessage(_0x568cb5(0x961));}}async function updateStudentProfile(_0x319ca6,_0x471306){const _0x5e33e7=_0x4e7cd8,_0x1f96e8=doc(db,_0x5e33e7(0xbc5)+appId+_0x5e33e7(0x5cd)+_0x319ca6+_0x5e33e7(0x201),_0x471306);try{const _0x1eefce=query(collection(db,'artifacts/'+appId+_0x5e33e7(0x5e2)),where('projectId','==',_0x319ca6)),_0x35d21d=await getDocs(_0x1eefce),_0x39ec7e=new Map(_0x35d21d[_0x5e33e7(0x378)][_0x5e33e7(0xa26)](_0x3a64e9=>[_0x3a64e9['id'],_0x3a64e9['data']()])),_0x49324a=Array[_0x5e33e7(0x1c7)](_0x39ec7e[_0x5e33e7(0xaf9)]());await runTransaction(db,async _0x30af6c=>{const _0x430143=_0x5e33e7;let _0x45d10b=0x0;const _0xe6e9f3={};let _0x5a66dd=!![],_0x12b80e=0x0,_0xe9b5c9=0x0;for(const _0x2bdd7c of _0x49324a){const _0x4f8a55=_0x39ec7e[_0x430143(0xbca)](_0x2bdd7c),_0x596bc3=doc(db,_0x430143(0xbc5)+appId+'/public/data/quizzes/'+_0x2bdd7c+_0x430143(0x2e0),_0x471306),_0x117198=await _0x30af6c[_0x430143(0xbca)](_0x596bc3);if(_0x117198[_0x430143(0x7b7)]()){const _0xbb5470=_0x117198[_0x430143(0x921)](),_0x22227b=_0xbb5470['attempts']||[];if(_0x22227b['length']>0x0){const _0x36fea5=_0x22227b['reduce']((_0x3c7e88,_0xefb894)=>{const _0xa5b59a=_0x430143;if(_0xefb894[_0xa5b59a(0xb20)]>_0x3c7e88[_0xa5b59a(0xb20)])return _0xefb894;if(_0xefb894['score']===_0x3c7e88[_0xa5b59a(0xb20)])return(_0xefb894['points']||0x0)>(_0x3c7e88['points']||0x0)?_0xefb894:_0x3c7e88;return _0x3c7e88;},{'score':-0x1,'points':-0x1});_0x36fea5[_0x430143(0xb20)]>-0x1&&(_0x45d10b+=_0x36fea5[_0x430143(0xb70)]||0x0,(_0x36fea5[_0x430143(0x74d)]||[])[_0x430143(0x8ca)](_0x1bcb20=>{_0xe6e9f3[_0x1bcb20]=(_0xe6e9f3[_0x1bcb20]||0x0)+0x1;}));}}if(_0x4f8a55[_0x430143(0xcaf)]!==_0x430143(0xb9f)){_0xe9b5c9++;if(_0x117198[_0x430143(0x7b7)]()){_0x12b80e++;const _0x103697=_0x117198[_0x430143(0x921)]();_0x103697[_0x430143(0x6b8)]!==_0x103697['totalQuestions']&&(_0x5a66dd=![]);}else _0x5a66dd=![];}}_0xe9b5c9>0x0&&_0x12b80e===_0xe9b5c9&&_0x5a66dd?_0xe6e9f3[_0x430143(0x5d7)]=0x1:_0xe6e9f3[_0x430143(0x5d7)]=0x0,_0x30af6c[_0x430143(0x385)](_0x1f96e8,{'studentName':_0x471306,'totalPoints':_0x45d10b,'unlockedBadges':Object['keys'](_0xe6e9f3)[_0x430143(0x473)](_0x426b5d=>_0xe6e9f3[_0x426b5d]>0x0),'badgesCount':_0xe6e9f3},{'merge':!![]});});}catch(_0x23272c){console[_0x5e33e7(0x2da)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x23272c),showMessage(_0x5e33e7(0x57b));}}function startAdminTest(){const _0x3f8074=_0x4e7cd8;if(!currentQuizData){showMessage(_0x3f8074(0x667));return;}let _0x5bf095=JSON[_0x3f8074(0x281)](JSON[_0x3f8074(0x462)](currentQuizData));currentMode=_0x3f8074(0x3da),currentStudentName=_0x3f8074(0x252),adminView[_0x3f8074(0x12e)][_0x3f8074(0x7d7)](_0x3f8074(0x30a)),studentView['classList'][_0x3f8074(0x1f9)](_0x3f8074(0x30a)),studentInitialView[_0x3f8074(0x12e)][_0x3f8074(0x7d7)](_0x3f8074(0x30a)),studentNameSelectionView[_0x3f8074(0x12e)][_0x3f8074(0x7d7)](_0x3f8074(0x30a)),studentResultArea['classList'][_0x3f8074(0x7d7)](_0x3f8074(0x30a)),studentQuizArea['classList'][_0x3f8074(0x1f9)](_0x3f8074(0x30a)),quizStartTime=new Date(),displayQuizForStudent(_0x5bf095);}function handleResultDisplay(_0xae3f33,_0x4f03e8,_0x421d7c,_0x3f7cf9,_0x1514d8,_0x36f3a7){const _0x154f34=_0x4e7cd8;if(_0xae3f33===_0x154f34(0x4db)){displaySubmissionConfirmation();return;}const _0x4df06c=currentDisplayedQuiz['settings']?.[_0x154f34(0x874)]??Math[_0x154f34(0xa32)](_0x36f3a7/0x2),_0x4ad7aa=currentDisplayedQuiz[_0x154f34(0x9e2)]?.[_0x154f34(0x5b9)]??![],_0x44a55c=currentDisplayedQuiz[_0x154f34(0x9e2)]?.['loopUntilPass']===!![],_0x1642fa=_0x4f03e8<_0x4df06c,_0x4388a2=_0xae3f33===_0x154f34(0x410)||_0xae3f33==='perfect_score_status';if(_0x44a55c&&_0x1642fa&&!_0x4388a2){_0xae3f33===_0x154f34(0x6a4)?displayResultsWithAnswers(_0x4f03e8,_0x421d7c,_0x3f7cf9,_0x1514d8,_0x36f3a7,!![]):displayLoopScreen(_0x4f03e8,_0x36f3a7,_0xae3f33);return;}if(_0x4ad7aa&&_0x1642fa){startAdaptiveFlow(_0x1514d8,_0x4f03e8,_0x36f3a7);return;}switch(_0xae3f33){case _0x154f34(0x6a4):displayResultsWithAnswers(_0x4f03e8,_0x421d7c,_0x3f7cf9,_0x1514d8,_0x36f3a7);break;case _0x154f34(0xb63):displayResultsScoreOnly(_0x4f03e8,_0x421d7c,_0x3f7cf9,_0x36f3a7);break;case _0x154f34(0x1ed):displayPassFailOnly(_0x4f03e8,_0x36f3a7);break;case _0x154f34(0x410):displayHalfMarkResult(_0x4f03e8,_0x36f3a7);break;case _0x154f34(0x713):displayPerfectScoreResult(_0x4f03e8,_0x36f3a7);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x27f9ca){const _0x1b1f00=_0x4e7cd8;studentReadingArea[_0x1b1f00(0x3e3)]=_0x1b1f00(0xab4);const _0x1f2ba0=_0x1b1f00(0x608)+_0x27f9ca+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x1b1f00(0x941),_0x4750c4={'type':_0x1b1f00(0x469),'properties':{'questionText':{'type':_0x1b1f00(0x942)},'options':{'type':_0x1b1f00(0x6ae),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1b1f00(0x78d)},'explanation':{'type':_0x1b1f00(0x942)}},'required':['questionText',_0x1b1f00(0x4d1),_0x1b1f00(0xcab),_0x1b1f00(0x13e)]},_0x209ff1={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4750c4}},'required':[_0x1b1f00(0xcaf),_0x1b1f00(0x966)]};try{const _0x4735df=await callAnalysisApi(_0x1f2ba0,_0x209ff1);_0x4735df[_0x1b1f00(0x88a)]=!![],studentReadingArea[_0x1b1f00(0x12e)][_0x1b1f00(0x7d7)](_0x1b1f00(0x30a));const _0x24e066={...currentDisplayedQuiz[_0x1b1f00(0x9e2)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x4735df[_0x1b1f00(0x9e2)]=_0x24e066,displayQuizForStudent(_0x4735df);}catch(_0x1311c5){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x1311c5),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x1b1f00(0x39a));}}function _0x1f15(_0x4a474e,_0x10d5a3){const _0x746058=_0x7460();return _0x1f15=function(_0x1f15e8,_0x2d2c16){_0x1f15e8=_0x1f15e8-0x115;let _0x36be9b=_0x746058[_0x1f15e8];return _0x36be9b;},_0x1f15(_0x4a474e,_0x10d5a3);}function displayPassFailOnly(_0x1b2914,_0x5a5d23){const _0x1b7c1b=_0x4e7cd8,_0x272adc=currentDisplayedQuiz[_0x1b7c1b(0x9e2)]?.[_0x1b7c1b(0x874)]??-0x1,_0x114365=currentDisplayedQuiz['isRemedial']===!![];let _0x3fcf28='',_0x4ef938=![];if(_0x114365||_0x272adc!==-0x1){_0x4ef938=_0x114365?_0x1b2914===_0x5a5d23:_0x1b2914>=_0x272adc;const _0xe5d5cb=_0x4ef938?_0x1b7c1b(0x5db):'bg-red-100\x20text-red-800',_0x522ddf=_0x4ef938?_0x1b7c1b(0x81f):_0x1b7c1b(0xc41);_0x3fcf28=_0x1b7c1b(0x532)+_0xe5d5cb+'\x22>'+_0x522ddf+_0x1b7c1b(0x977);}else _0x3fcf28=_0x1b7c1b(0x854);let _0x196228='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x1b7c1b(0xc9f)+_0x3fcf28+_0x1b7c1b(0x6f9);studentResultArea['innerHTML']=_0x196228,studentResultArea['classList'][_0x1b7c1b(0x1f9)](_0x1b7c1b(0x30a)),studentQuizArea[_0x1b7c1b(0x12e)][_0x1b7c1b(0x7d7)](_0x1b7c1b(0x30a)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4ef938});}function cancelAdminTest(){const _0x32a072=_0x4e7cd8;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x32a072(0x208)](_0x32a072(0x4b6),handleFullscreenChange),document[_0x32a072(0x208)]('visibilitychange',handleVisibilityChange),currentMode='admin',studentView[_0x32a072(0x12e)][_0x32a072(0x7d7)](_0x32a072(0x30a)),adminView[_0x32a072(0x12e)][_0x32a072(0x1f9)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x248e1b){const _0x2fa08a=_0x4e7cd8,_0x165c33={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x248e1b};if(_0x165c33['isLooping']){const _0x40c2c1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x2fa08a(0x249)](_0x2fa08a(0x5f6),_0x40c2c1),document[_0x2fa08a(0x1c2)](_0x2fa08a(0xc22))[_0x2fa08a(0xa37)](_0x2fa08a(0xbdd),()=>{const _0x4df39c=_0x2fa08a;studentResultArea[_0x4df39c(0x12e)][_0x4df39c(0x7d7)](_0x4df39c(0x30a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5f3a82='back-from-results-btn',_0x11a687=currentMode===_0x2fa08a(0x3da),_0x474c1c=_0x11a687?_0x2fa08a(0x181):_0x2fa08a(0x9af);let _0x4e2a8c='';_0x165c33[_0x2fa08a(0x133)]&&(_0x4e2a8c+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x1fffe8=_0x165c33[_0x2fa08a(0x864)];_0x1fffe8===undefined&&(_0x1fffe8=_0x165c33[_0x2fa08a(0xb20)]<_0x165c33['totalQuestions']);_0x1fffe8&&(_0x4e2a8c+=_0x2fa08a(0x447));_0x4e2a8c+=_0x2fa08a(0xb38)+_0x5f3a82+_0x2fa08a(0xa52)+_0x474c1c+_0x2fa08a(0x2b5);const _0x422aa0='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x4e2a8c+'</div>';studentResultArea['insertAdjacentHTML'](_0x2fa08a(0x5f6),_0x422aa0),studentResultArea['querySelector'](_0x2fa08a(0x4a0))?.[_0x2fa08a(0xa37)](_0x2fa08a(0xbdd),handleShowStudentRankings);const _0x44d2d8=studentResultArea[_0x2fa08a(0x8b9)]('#retake-for-improvement-btn');_0x44d2d8&&_0x44d2d8[_0x2fa08a(0xa37)](_0x2fa08a(0xbdd),()=>{const _0x6b3be4=_0x2fa08a;studentResultArea[_0x6b3be4(0x12e)][_0x6b3be4(0x7d7)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2fa08a(0x1c2)](_0x5f3a82)[_0x2fa08a(0xa37)](_0x2fa08a(0xbdd),()=>{const _0x3dd711=_0x2fa08a;_0x11a687?(currentMode=_0x3dd711(0x9be),studentView['classList'][_0x3dd711(0x7d7)](_0x3dd711(0x30a)),adminView[_0x3dd711(0x12e)][_0x3dd711(0x1f9)](_0x3dd711(0x30a)),showView(_0x3dd711(0x835))):(showView(_0x3dd711(0x39a)),document['getElementById']('quiz-id-input')[_0x3dd711(0x9f1)]='');});}function displayResultsWithAnswers(_0x1aa433,_0xcd6cfb,_0x58733b,_0x15d92a,_0x53c0c8,_0x14164c=![]){const _0x141929=_0x4e7cd8,_0x5afbb2=_0x53c0c8>0x0?_0x1aa433/_0x53c0c8*0x64:0x0,_0xfb15de=currentDisplayedQuiz[_0x141929(0x9e2)]?.['passingScore']??-0x1,_0x1c2fe0=currentDisplayedQuiz[_0x141929(0x88a)]===!![];let _0x45b959='';if(_0x1c2fe0||_0xfb15de!==-0x1){let _0x180ee3=_0x1c2fe0?_0x1aa433===_0x53c0c8:_0x1aa433>=_0xfb15de;const _0x3453e9=_0x180ee3?_0x141929(0x5db):_0x141929(0x501),_0x410066=_0x180ee3?_0x141929(0x81f):'ไม่ผ่าน';_0x45b959=_0x141929(0xbd3)+_0x3453e9+'\x22>'+_0x410066+_0x141929(0x35e);}let _0x5dad2e=_0x141929(0x865)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x1aa433+_0x141929(0x7dc)+_0x53c0c8+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x45b959+_0x141929(0xacd)+_0xcd6cfb+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x5afbb2[_0x141929(0x72c)](0x0)+_0x141929(0x405);currentDisplayedQuiz[_0x141929(0x966)][_0x141929(0x8ca)]((_0x34e61e,_0x54e6cc)=>{const _0x57c184=_0x141929,_0x4886cd=_0x15d92a[_0x54e6cc],_0x1cab1e=_0x4886cd['answer'],_0x19d53c=_0x4886cd[_0x57c184(0xaf8)],_0x25d2ed=_0x34e61e[_0x57c184(0x93a)]||currentDisplayedQuiz[_0x57c184(0x769)];_0x5dad2e+=_0x57c184(0x8e0)+(_0x19d53c?_0x57c184(0x214):_0x57c184(0xab8))+_0x57c184(0x62f)+(_0x54e6cc+0x1)+'.\x20'+(_0x34e61e['stem']||_0x34e61e['questionText'])+_0x57c184(0xac7);switch(_0x25d2ed){case _0x57c184(0x220):const _0x398a16=_0x1cab1e||_0x57c184(0x5ab),_0x5d7a63=_0x34e61e[_0x57c184(0x47a)];_0x5dad2e+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x19d53c?_0x57c184(0x1bd):'')+'\x22>'+_0x398a16+_0x57c184(0xb29);!_0x19d53c&&(_0x5dad2e+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x5d7a63+_0x57c184(0x35e));break;case _0x57c184(0xc3f):_0x5dad2e+=_0x57c184(0x6e5)+(_0x1cab1e||_0x57c184(0x5ab))+'</p>',_0x5dad2e+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x34e61e[_0x57c184(0x493)]+_0x57c184(0x35e);break;case _0x57c184(0x7f4):_0x5dad2e+=_0x57c184(0x8a2)+(_0x34e61e[_0x57c184(0x209)]===!![]?_0x57c184(0x11f):'')+'\x20'+(_0x1cab1e===_0x57c184(0xaa3)&&!_0x19d53c?'line-through\x20text-red-700':'')+_0x57c184(0x8aa),_0x5dad2e+=_0x57c184(0x8a2)+(_0x34e61e[_0x57c184(0x209)]===![]?_0x57c184(0x11f):'')+'\x20'+(_0x1cab1e===_0x57c184(0x500)&&!_0x19d53c?_0x57c184(0x1bd):'')+_0x57c184(0xcb4);break;default:_0x5dad2e+=_0x34e61e['options'][_0x57c184(0xa26)]((_0x2a54bb,_0x392f13)=>{const _0x2e68a0=_0x57c184;let _0x452684='',_0x346ff9='';if(_0x392f13===_0x34e61e[_0x2e68a0(0xcab)])_0x452684=_0x2e68a0(0x11f),_0x346ff9=_0x2e68a0(0xaef);else _0x392f13===_0x1cab1e&&(_0x452684=_0x2e68a0(0x126),_0x346ff9=_0x2e68a0(0xba4));return _0x2e68a0(0x6c0)+_0x452684+'\x22>'+_0x346ff9+_0x2a54bb+_0x2e68a0(0xc4f);})['join']('');break;}_0x5dad2e+=_0x57c184(0x489)+(_0x34e61e[_0x57c184(0x13e)]||_0x57c184(0x5a4))+_0x57c184(0xc4f);if(!_0x19d53c){const _0x3f7132=_0x34e61e[_0x57c184(0x732)]||_0x34e61e[_0x57c184(0x2b3)];_0x5dad2e+=_0x57c184(0x649)+escape(_0x3f7132)+_0x57c184(0xbb3);}_0x5dad2e+=_0x57c184(0xc4f);}),studentResultArea[_0x141929(0x3e3)]=_0x5dad2e,renderEarnedBadges(_0x58733b,_0x141929(0x1fb)),studentResultArea[_0x141929(0x12e)][_0x141929(0x1f9)](_0x141929(0x30a)),studentQuizArea[_0x141929(0x12e)][_0x141929(0x7d7)](_0x141929(0x30a)),setupResultScreenBackButton({'isLooping':_0x14164c,'score':_0x1aa433,'totalQuestions':_0x53c0c8,'showRankings':!![]});if(window[_0x141929(0x196)])window['MathJax'][_0x141929(0x7ca)]([studentResultArea]);}function displayResultsScoreOnly(_0x43558c,_0x49246a,_0x5327c1,_0x1ea877){const _0x157543=_0x4e7cd8,_0x11860b=_0x1ea877>0x0?_0x43558c/_0x1ea877*0x64:0x0,_0x39eff1=currentDisplayedQuiz['settings']?.[_0x157543(0x874)]??-0x1,_0x2689a7=currentDisplayedQuiz[_0x157543(0x88a)]===!![];let _0x54feb6='';if(_0x2689a7||_0x39eff1!==-0x1){let _0x1a49e4=_0x2689a7?_0x43558c===_0x1ea877:_0x43558c>=_0x39eff1;const _0x141240=_0x1a49e4?'bg-green-100\x20text-green-800':_0x157543(0x501),_0x5484c4=_0x1a49e4?'ผ่าน':_0x157543(0xc41);_0x54feb6=_0x157543(0xbd3)+_0x141240+'\x22>'+_0x5484c4+_0x157543(0x35e);}let _0x9c55ba=_0x157543(0x6bc)+currentStudentName+_0x157543(0x3b1)+_0x43558c+_0x157543(0x7fd)+_0x1ea877+_0x157543(0x5a9)+_0x54feb6+_0x157543(0xacd)+_0x49246a+_0x157543(0x17c)+_0x11860b['toFixed'](0x0)+_0x157543(0x954);studentResultArea[_0x157543(0x3e3)]=_0x9c55ba,renderEarnedBadges(_0x5327c1,_0x157543(0x1fb)),studentResultArea[_0x157543(0x12e)][_0x157543(0x1f9)](_0x157543(0x30a)),studentQuizArea[_0x157543(0x12e)][_0x157543(0x7d7)](_0x157543(0x30a)),setupResultScreenBackButton({'score':_0x43558c,'totalQuestions':_0x1ea877,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x186a44=_0x4e7cd8;let _0x5d2721=_0x186a44(0x9c7)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x186a44(0x3e3)]=_0x5d2721,studentResultArea[_0x186a44(0x12e)]['remove'](_0x186a44(0x30a)),studentQuizArea[_0x186a44(0x12e)][_0x186a44(0x7d7)]('hidden'),document['getElementById'](_0x186a44(0x72e))[_0x186a44(0xa37)](_0x186a44(0xbdd),()=>{const _0x4e3961=_0x186a44;showView(_0x4e3961(0x39a)),document[_0x4e3961(0x1c2)]('quiz-id-input')['value']='';});}function renderEarnedBadges(_0x4bf70a,_0x22c71f){const _0x57aa2d=_0x4e7cd8,_0x100de7=document[_0x57aa2d(0x1c2)](_0x22c71f);if(!_0x100de7||!_0x4bf70a||_0x4bf70a[_0x57aa2d(0xa90)]===0x0)return;let _0x526d4b='';_0x4bf70a[_0x57aa2d(0x8ca)]((_0x5060fc,_0x390360)=>{const _0x26f334=_0x57aa2d,_0x399dff=Object[_0x26f334(0x9a6)](BADGES)[_0x26f334(0x135)](_0x4e8403=>_0x4e8403['id']===_0x5060fc);_0x399dff&&(_0x526d4b+=_0x26f334(0x808)+_0x390360*0.2+_0x26f334(0x62e)+_0x399dff[_0x26f334(0x535)]+_0x26f334(0x503)+_0x399dff[_0x26f334(0xbae)]+_0x26f334(0x96e)+_0x399dff['name']+_0x26f334(0x187));}),_0x100de7['innerHTML']=_0x526d4b;}function startPresentation(_0x5cc319){const _0x81979f=_0x4e7cd8;currentQuizData=getShuffledQuiz(_0x5cc319),currentPresentationSlide=0x0,presentationModal[_0x81979f(0xa10)][_0x81979f(0x28f)]=_0x81979f(0x8c9),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2a7359=_0x4e7cd8;document[_0x2a7359(0x69a)]&&document['exitFullscreen'](),presentationModal[_0x2a7359(0xa10)]['display']=_0x2a7359(0xba0);}function renderPresentationSlide(_0x81f97d){const _0x4b39c8=_0x4e7cd8,_0x508cfb=document[_0x4b39c8(0x1c2)](_0x4b39c8(0x34f));if(!currentQuizData||!currentQuizData[_0x4b39c8(0x966)]||!currentQuizData[_0x4b39c8(0x966)][_0x81f97d]){_0x508cfb['innerHTML']=_0x4b39c8(0xad3);return;}const _0x58921d=currentQuizData[_0x4b39c8(0x966)][_0x81f97d],_0x565f56=_0x58921d[_0x4b39c8(0x93a)]||currentQuizData[_0x4b39c8(0x769)];_0x508cfb[_0x4b39c8(0x3e3)]='';let _0x387085=_0x4b39c8(0x9c9)+(_0x58921d[_0x4b39c8(0x291)]?_0x4b39c8(0xbb7)+_0x58921d[_0x4b39c8(0x291)]+_0x4b39c8(0xc4f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x81f97d+0x1)+'.\x20'+(_0x58921d[_0x4b39c8(0x732)]||_0x58921d[_0x4b39c8(0x2b3)])+_0x4b39c8(0xa70);switch(_0x565f56){case'matching_item':_0x387085+=_0x58921d[_0x4b39c8(0x998)][_0x4b39c8(0xa26)](_0x653f9f=>_0x4b39c8(0x591)+_0x653f9f+_0x4b39c8(0x4f1))[_0x4b39c8(0xab6)]('');break;case _0x4b39c8(0x7f4):_0x387085+=_0x4b39c8(0x89b),_0x387085+=_0x4b39c8(0x5e3);break;case _0x4b39c8(0x4df):case _0x4b39c8(0xc3f):_0x387085+=_0x4b39c8(0x879);break;case _0x4b39c8(0x1bb):case'multiple_choice':default:_0x387085+=_0x58921d[_0x4b39c8(0x4d1)]['map']((_0x36fc2f,_0x1e3f5a)=>_0x4b39c8(0x736)+_0x1e3f5a+_0x4b39c8(0x88f)+_0x36fc2f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4b39c8(0xab6)]('');break;}_0x387085+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x58921d[_0x4b39c8(0x13e)]||_0x4b39c8(0x5a4))+_0x4b39c8(0xc34),_0x508cfb['innerHTML']=_0x387085;if(window[_0x4b39c8(0x196)])window['MathJax'][_0x4b39c8(0x7ca)]([_0x508cfb]);let _0x221900=[];switch(_0x565f56){case'matching_item':_0x221900=_0x58921d[_0x4b39c8(0x998)]||[];break;case _0x4b39c8(0x7f4):_0x221900=[_0x4b39c8(0x41b),'ไม่ใช่'];break;default:_0x221900=_0x58921d[_0x4b39c8(0x4d1)]||[];break;}const _0x4cdfc9=document[_0x4b39c8(0x1c2)](_0x4b39c8(0x9c8));_0x4cdfc9&&(_0x4cdfc9[_0x4b39c8(0xa41)]=()=>{openScratchpad(_0x58921d,_0x221900);});document[_0x4b39c8(0x9f4)](_0x4b39c8(0x349))[_0x4b39c8(0x8ca)](_0xdced64=>{const _0x8c2144=_0x4b39c8;_0xdced64[_0x8c2144(0xa37)](_0x8c2144(0xbdd),_0x13af9e=>revealAnswerForPresentation(_0x81f97d,_0x13af9e['currentTarget']));});const _0x2cc4a8=document[_0x4b39c8(0x1c2)](_0x4b39c8(0x805));_0x2cc4a8&&_0x2cc4a8['addEventListener'](_0x4b39c8(0xbdd),()=>checkShortAnswerForPresentation(_0x81f97d)),document[_0x4b39c8(0x1c2)](_0x4b39c8(0x2df))['textContent']=_0x4b39c8(0x373)+(_0x81f97d+0x1)+_0x4b39c8(0xbbf)+currentQuizData[_0x4b39c8(0x966)]['length'],document[_0x4b39c8(0x1c2)](_0x4b39c8(0x3ad))['disabled']=_0x81f97d===0x0,document['getElementById'](_0x4b39c8(0x1f5))['disabled']=_0x81f97d===currentQuizData[_0x4b39c8(0x966)][_0x4b39c8(0xa90)]-0x1;}async function checkShortAnswerForPresentation(_0x4b5927){const _0x589065=_0x4e7cd8,_0x530b61=currentQuizData['questions'][_0x4b5927],_0x1abc7c=document[_0x589065(0x1c2)]('presentation-short-answer-input'),_0x5d6516=document[_0x589065(0x1c2)](_0x589065(0x805)),_0x16b271=document['getElementById'](_0x589065(0xc67)),_0x34d1db=document[_0x589065(0x1c2)](_0x589065(0xb0f));if(!_0x1abc7c||!_0x5d6516||!_0x16b271||!_0x34d1db)return;const _0x126353=_0x1abc7c[_0x589065(0x9f1)]['trim']();if(_0x126353==='')return;_0x5d6516[_0x589065(0x78a)]=!![],_0x5d6516[_0x589065(0x3e3)]=_0x589065(0xaf2),_0x1abc7c[_0x589065(0x78a)]=!![];const _0x1a5fbb=await gradeShortAnswer(_0x126353,_0x530b61);_0x1a5fbb?_0x16b271[_0x589065(0x3e3)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x16b271['innerHTML']=_0x589065(0xbc3)+_0x530b61[_0x589065(0x493)]+')',_0x16b271[_0x589065(0x12e)]['remove'](_0x589065(0x30a)),_0x34d1db[_0x589065(0x12e)]['remove']('hidden'),_0x5d6516[_0x589065(0x12e)][_0x589065(0x7d7)](_0x589065(0x30a));}function revealAnswerForPresentation(_0x177eea,_0x33bc58){const _0x3a6c4d=_0x4e7cd8,_0x13d0d1=currentQuizData['questions'][_0x177eea],_0x2d5ab8=_0x13d0d1[_0x3a6c4d(0x93a)]||currentQuizData[_0x3a6c4d(0x769)];document[_0x3a6c4d(0x9f4)](_0x3a6c4d(0x349))[_0x3a6c4d(0x8ca)](_0x68969e=>{const _0x13ea0a=_0x3a6c4d;_0x68969e[_0x13ea0a(0x78a)]=!![],_0x68969e[_0x13ea0a(0x12e)][_0x13ea0a(0x1f9)](_0x13ea0a(0x4e9));let _0xa5273a=![];if(_0x2d5ab8===_0x13ea0a(0x4bb)||_0x2d5ab8===_0x13ea0a(0x1bb)){const _0xd6fdda=parseInt(_0x68969e[_0x13ea0a(0x928)][_0x13ea0a(0x1cc)]);_0xa5273a=_0xd6fdda===_0x13d0d1['correctAnswerIndex'];}else{if(_0x2d5ab8===_0x13ea0a(0x7f4)){const _0xfbb565=_0x68969e[_0x13ea0a(0x928)]['answer']===_0x13ea0a(0xaa3);_0xa5273a=_0xfbb565===_0x13d0d1[_0x13ea0a(0x209)];}else _0x2d5ab8===_0x13ea0a(0x220)&&(_0xa5273a=_0x68969e[_0x13ea0a(0x9a1)][_0x13ea0a(0x492)]()===_0x13d0d1[_0x13ea0a(0x47a)]);}_0xa5273a?_0x68969e[_0x13ea0a(0x12e)][_0x13ea0a(0x7d7)]('bg-green-500',_0x13ea0a(0x9a8),'border-green-700'):_0x68969e[_0x13ea0a(0x12e)][_0x13ea0a(0x7d7)](_0x13ea0a(0x936));}),_0x33bc58[_0x3a6c4d(0x12e)][_0x3a6c4d(0x1f9)](_0x3a6c4d(0x936));let _0x3fee35=![];if(_0x2d5ab8===_0x3a6c4d(0x4bb))_0x3fee35=parseInt(_0x33bc58[_0x3a6c4d(0x928)]['index'])===_0x13d0d1[_0x3a6c4d(0xcab)];else{if(_0x2d5ab8===_0x3a6c4d(0x7f4))_0x3fee35=_0x33bc58['dataset'][_0x3a6c4d(0xb8c)]===_0x3a6c4d(0xaa3)===_0x13d0d1['correctAnswer'];else _0x2d5ab8==='matching_item'&&(_0x3fee35=_0x33bc58[_0x3a6c4d(0x9a1)][_0x3a6c4d(0x492)]()===_0x13d0d1[_0x3a6c4d(0x47a)]);}!_0x3fee35&&_0x33bc58[_0x3a6c4d(0x12e)][_0x3a6c4d(0x7d7)]('bg-red-500',_0x3a6c4d(0x9a8),'border-red-700'),document[_0x3a6c4d(0x1c2)](_0x3a6c4d(0xb0f))[_0x3a6c4d(0x12e)]['remove']('hidden');}function startWholeQuizTimer(_0x152442){const _0x370759=_0x4e7cd8,_0x49c1c1=document[_0x370759(0x1c2)]('timer-container');if(!_0x49c1c1)return;const _0x12cabb=Date[_0x370759(0x6d6)]()+_0x152442*0x3c*0x3e8;_0x49c1c1[_0x370759(0x3e3)]=_0x370759(0x7ea);const _0x2ba238=document['getElementById']('countdown-display');quizTimerInterval=setInterval(()=>{const _0x585390=_0x370759,_0x44d028=_0x12cabb-Date[_0x585390(0x6d6)]();if(_0x44d028<=0x0)clearInterval(quizTimerInterval),_0x2ba238[_0x585390(0x9a1)]='00:00',showMessage(_0x585390(0x551)),handleSubmitQuiz(null);else{const _0x3929da=Math['floor'](_0x44d028/0x3e8/0x3c%0x3c)['toString']()[_0x585390(0x84e)](0x2,'0'),_0x27e75e=Math[_0x585390(0xa32)](_0x44d028/0x3e8%0x3c)[_0x585390(0x8bf)]()[_0x585390(0x84e)](0x2,'0');_0x2ba238[_0x585390(0x9a1)]=_0x3929da+':'+_0x27e75e;}},0x3e8);}function renderPerQuestionView(){const _0x67a520=_0x4e7cd8;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x44f5da=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4c9c50=_0x44f5da[_0x67a520(0x93a)]||currentDisplayedQuiz[_0x67a520(0x769)],_0x265097=currentDisplayedQuiz[_0x67a520(0x9e2)]?.[_0x67a520(0x3e8)]===!![];let _0x477233=_0x67a520(0xc2c)+(currentQuestionIndex+0x1)+_0x67a520(0xc61)+currentDisplayedQuiz[_0x67a520(0x966)]['length']+_0x67a520(0xb3c)+(currentMode===_0x67a520(0x3da)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x67a520(0x178);studentQuizArea[_0x67a520(0x3e3)]=_0x477233;let _0x38635e=_0x44f5da[_0x67a520(0x732)]||_0x44f5da[_0x67a520(0x2b3)];_0x44f5da['imageCode']&&(_0x38635e+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x44f5da[_0x67a520(0x291)]+_0x67a520(0xc4f));let _0x485d68='';switch(_0x4c9c50){case _0x67a520(0xc3f):case _0x67a520(0x4df):_0x485d68=_0x67a520(0xbe8);break;case _0x67a520(0x7f4):_0x485d68=_0x67a520(0x29c);break;case _0x67a520(0x220):_0x485d68='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x44f5da[_0x67a520(0x998)]||[])[_0x67a520(0xa26)](_0x569fad=>_0x67a520(0xc29)+_0x569fad+'\x22>'+_0x569fad+'</option>')[_0x67a520(0xab6)]('')+_0x67a520(0x508);break;default:_0x44f5da[_0x67a520(0x4d1)]&&(_0x485d68=_0x44f5da[_0x67a520(0x4d1)]['map']((_0x3fbd28,_0x42436c)=>_0x67a520(0xb1a)+_0x42436c+_0x67a520(0x67c)+_0x42436c+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x42436c+'\x22>'+_0x3fbd28+_0x67a520(0x1f0))['join'](''));break;}document[_0x67a520(0x1c2)](_0x67a520(0x7a5))[_0x67a520(0x3e3)]=_0x38635e,document[_0x67a520(0x1c2)](_0x67a520(0x96d))[_0x67a520(0x3e3)]=_0x485d68;const _0x5b12f7=currentDisplayedQuiz[_0x67a520(0x9e2)]?.[_0x67a520(0x3e8)]===!![],_0x4604ae=currentDisplayedQuiz[_0x67a520(0x9e2)]?.[_0x67a520(0xb48)]||'checkbox';if(_0x5b12f7&&_0x4604ae===_0x67a520(0xb23)){const _0x1e87ce=_0x67a520(0x192);studentQuizArea[_0x67a520(0x8b9)](_0x67a520(0x963))[_0x67a520(0x249)](_0x67a520(0x5f6),_0x1e87ce);}studentQuizArea[_0x67a520(0x249)]('beforeend',_0x67a520(0x2ad)+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?_0x67a520(0xb7f):_0x67a520(0x5bb))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x67a520(0x3da)&&document[_0x67a520(0x1c2)](_0x67a520(0x5dd))?.[_0x67a520(0xa37)](_0x67a520(0xbdd),cancelAdminTest);document[_0x67a520(0x1c2)]('next-question-timed-btn')[_0x67a520(0xa37)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x67a520(0x196)][_0x67a520(0x7ca)]([studentQuizArea]);currentDisplayedQuiz[_0x67a520(0x9e2)]?.[_0x67a520(0xcb7)]===_0x67a520(0x78e)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x1b4287=_0x4e7cd8,_0x44f5d8=currentDisplayedQuiz['settings'][_0x1b4287(0x5e4)],_0x29c46b=document[_0x1b4287(0x1c2)](_0x1b4287(0x912));if(!_0x29c46b)return;let _0x28d43b=_0x44f5d8;_0x29c46b[_0x1b4287(0x3e3)]=_0x1b4287(0x40c)+_0x28d43b+_0x1b4287(0x726);const _0x525fcc=document[_0x1b4287(0x1c2)](_0x1b4287(0xc3c)),_0x4a45ef=document[_0x1b4287(0x1c2)](_0x1b4287(0xb7e));perQuestionTimerInterval=setInterval(()=>{const _0x3b099f=_0x1b4287;_0x28d43b--;const _0x4812b3=_0x28d43b/_0x44f5d8*0x64;_0x525fcc[_0x3b099f(0xa10)]['width']=_0x4812b3+'%',_0x4a45ef['textContent']=_0x28d43b,_0x28d43b<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3b099f(0xaa9)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x490088=![]){const _0x2a41e1=_0x4e7cd8;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1035f9=null,_0x4535dc=![];if(!_0x490088){const _0x2ac56f=currentDisplayedQuiz[_0x2a41e1(0x966)][currentQuestionIndex],_0x46c167=_0x2ac56f[_0x2a41e1(0x93a)]||currentDisplayedQuiz['quizType'];if(_0x46c167===_0x2a41e1(0xc3f)||_0x46c167==='fill_in_no_choices')_0x1035f9=document[_0x2a41e1(0x8b9)]('textarea[name=\x22question_single\x22]')?.[_0x2a41e1(0x9f1)][_0x2a41e1(0x492)]()??'';else{if(_0x46c167===_0x2a41e1(0x220))_0x1035f9=document[_0x2a41e1(0x8b9)](_0x2a41e1(0x1c1))?.[_0x2a41e1(0x9f1)]??'';else{const _0x10866a=document[_0x2a41e1(0x8b9)]('input[name=\x22question_single\x22]:checked');_0x10866a&&(_0x1035f9=_0x10866a[_0x2a41e1(0x9f1)]);}}if(_0x1035f9===null||_0x1035f9===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x555373=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x15e428=currentDisplayedQuiz[_0x2a41e1(0x9e2)]?.['confidenceMode']||_0x2a41e1(0xb23);if(_0x555373&&_0x15e428===_0x2a41e1(0x786)){document[_0x2a41e1(0x1c2)](_0x2a41e1(0x955))[_0x2a41e1(0x928)]['currentMode']=_0x2a41e1(0x5ac),document['getElementById'](_0x2a41e1(0x5b8))[_0x2a41e1(0x9f1)]=_0x1035f9,document[_0x2a41e1(0x1c2)]('confidence-modal')[_0x2a41e1(0x12e)]['remove'](_0x2a41e1(0x30a));return;}const _0x363e21=document[_0x2a41e1(0x1c2)](_0x2a41e1(0x5e0));_0x363e21&&(_0x4535dc=_0x363e21['checked']);}const _0x589df2={'answer':_0x1035f9,'wasConfident':_0x4535dc};proceedToNextQuestion(_0x589df2);}async function finalizePerQuestionQuiz(){const _0x434991=_0x4e7cd8,_0x3f7a52=currentDisplayedQuiz[_0x434991(0x966)][_0x434991(0x3a4)](_0x371728=>_0x371728[_0x434991(0x93a)]===_0x434991(0xc3f));_0x3f7a52?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x434991(0x9dd));const _0x15065d=currentQuizData['id'],_0x239f35=doc(db,_0x434991(0xbc5)+appId+_0x434991(0x155)+_0x15065d+_0x434991(0x2e0),currentStudentName),_0xfb4049=await getDoc(_0x239f35),_0x4bb630=_0xfb4049['exists']()?_0xfb4049[_0x434991(0x921)]():{},_0x46031c=_0x4bb630[_0x434991(0xba1)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x46031c);}function getResultsFilename(){const _0x172f57=_0x4e7cd8,_0xea1190=document[_0x172f57(0x1c2)](_0x172f57(0xb7d))[_0x172f57(0x9a1)][_0x172f57(0x98e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0xea1190||_0x172f57(0x847));}function exportResultsAsImage(){const _0x37ee6f=_0x4e7cd8,_0xfb8690=document[_0x37ee6f(0x1c2)]('results-table-container');showMessage(_0x37ee6f(0x470)),html2canvas(_0xfb8690)['then'](_0x157ecd=>{const _0x3876be=_0x37ee6f,_0x142a80=document[_0x3876be(0x601)]('a');_0x142a80[_0x3876be(0x55d)]=getResultsFilename()+_0x3876be(0x9f8),_0x142a80[_0x3876be(0x90e)]=_0x157ecd[_0x3876be(0xa0d)]('image/png'),_0x142a80[_0x3876be(0xbdd)](),messageModal[_0x3876be(0x12e)][_0x3876be(0x7d7)]('hidden');});}function exportResultsAsPDF(){const _0x549c17=_0x4e7cd8,{jsPDF:_0x2241e1}=window['jspdf'],_0x1ab379=new _0x2241e1();_0x1ab379['setFont'](_0x549c17(0xaa1),_0x549c17(0x1bc)),_0x1ab379['autoTable']({'html':_0x549c17(0x344)}),_0x1ab379['save'](getResultsFilename()+_0x549c17(0x71c));}function exportResultsAsWord(){const _0x4d8e2d=_0x4e7cd8,_0x39461e='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x4d8e2d(0x496)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x60a4fb=_0x4d8e2d(0x1e9),_0xde72be=_0x39461e+document['getElementById'](_0x4d8e2d(0x661))[_0x4d8e2d(0x3e3)]+_0x60a4fb,_0x57cfc4=_0x4d8e2d(0xb8e)+encodeURIComponent(_0xde72be),_0xf7094e=document[_0x4d8e2d(0x601)]('a');document['body'][_0x4d8e2d(0xb7b)](_0xf7094e),_0xf7094e['href']=_0x57cfc4,_0xf7094e[_0x4d8e2d(0x55d)]=getResultsFilename()+'.doc',_0xf7094e[_0x4d8e2d(0xbdd)](),document[_0x4d8e2d(0xa68)][_0x4d8e2d(0xc70)](_0xf7094e);}function exportResultsAsExcel(){const _0x1f20a0=_0x4e7cd8,_0x231c9a=document[_0x1f20a0(0x1c2)](_0x1f20a0(0x905));let _0x938c00=[];for(let _0x2da9e0=0x0;_0x2da9e0<_0x231c9a[_0x1f20a0(0x1f8)][_0x1f20a0(0xa90)];_0x2da9e0++){let _0x174c37=[],_0x17eb1a=_0x231c9a[_0x1f20a0(0x1f8)][_0x2da9e0][_0x1f20a0(0x9f4)]('td,\x20th');for(let _0x1fdc14=0x0;_0x1fdc14<_0x17eb1a[_0x1f20a0(0xa90)];_0x1fdc14++){_0x174c37[_0x1f20a0(0x6d9)]('\x22'+_0x17eb1a[_0x1fdc14][_0x1f20a0(0x1cd)][_0x1f20a0(0x98e)](/"/g,'\x22\x22')+'\x22');}_0x938c00[_0x1f20a0(0x6d9)](_0x174c37['join'](','));}const _0x2265a0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x938c00[_0x1f20a0(0xab6)]('\x0a')],{'type':_0x1f20a0(0x173)}),_0xfba40=document[_0x1f20a0(0x601)]('a');_0xfba40['href']=URL[_0x1f20a0(0x99d)](_0x2265a0),_0xfba40[_0x1f20a0(0x55d)]=getResultsFilename()+_0x1f20a0(0x70c),_0xfba40['click']();}function exportTableAsImage(_0x4ab9e4,_0x1ae9c3){const _0x43f1a3=_0x4e7cd8,_0x3e06b6=document['getElementById'](_0x4ab9e4);if(!_0x3e06b6){showMessage(_0x43f1a3(0x28d));return;}showMessage(_0x43f1a3(0x470)),html2canvas(_0x3e06b6)[_0x43f1a3(0x9ed)](_0x85562b=>{const _0x2f1c10=_0x43f1a3,_0x149391=document['createElement']('a');_0x149391[_0x2f1c10(0x55d)]=_0x1ae9c3+_0x2f1c10(0x9f8),_0x149391['href']=_0x85562b[_0x2f1c10(0xa0d)](_0x2f1c10(0x565)),_0x149391['click'](),messageModal['classList'][_0x2f1c10(0x7d7)](_0x2f1c10(0x30a));});}function exportTableAsPDF(_0x35dcde,_0x20bfb1){const _0xfb32f3=_0x4e7cd8,{jsPDF:_0x4e9c3a}=window[_0xfb32f3(0xa23)],_0x2814c5=new _0x4e9c3a();_0x2814c5[_0xfb32f3(0x7eb)](_0xfb32f3(0xaa1),_0xfb32f3(0x1bc)),_0x2814c5[_0xfb32f3(0xaed)]({'html':'#'+_0x35dcde}),_0x2814c5['save'](_0x20bfb1+_0xfb32f3(0x71c));}function exportTableAsWord(_0x503e27,_0x15ca61){const _0x5a5c79=_0x4e7cd8,_0xcc79aa=document[_0x5a5c79(0x1c2)](_0x503e27);if(!_0xcc79aa){showMessage(_0x5a5c79(0x28d));return;}const _0x25d4b5=_0x5a5c79(0x6b9)+_0x5a5c79(0x496)+_0x5a5c79(0x230)+_0x5a5c79(0x705),_0x12dec9='</body></html>',_0x47023d=_0x25d4b5+_0xcc79aa['innerHTML']+_0x12dec9,_0x366877='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x47023d),_0x284697=document[_0x5a5c79(0x601)]('a');document[_0x5a5c79(0xa68)][_0x5a5c79(0xb7b)](_0x284697),_0x284697[_0x5a5c79(0x90e)]=_0x366877,_0x284697[_0x5a5c79(0x55d)]=_0x15ca61+_0x5a5c79(0x9ea),_0x284697[_0x5a5c79(0xbdd)](),document[_0x5a5c79(0xa68)][_0x5a5c79(0xc70)](_0x284697);}function exportTableAsExcel(_0x4bf984,_0x3c95ba){const _0x5b3ea8=_0x4e7cd8,_0x45405e=document['getElementById'](_0x4bf984);if(!_0x45405e){showMessage(_0x5b3ea8(0x28d));return;}let _0x29923a=[];for(let _0x60613f=0x0;_0x60613f<_0x45405e[_0x5b3ea8(0x1f8)]['length'];_0x60613f++){let _0x16aab9=[],_0x2188cb=_0x45405e[_0x5b3ea8(0x1f8)][_0x60613f]['querySelectorAll']('td,\x20th');for(let _0x4c9269=0x0;_0x4c9269<_0x2188cb[_0x5b3ea8(0xa90)];_0x4c9269++){_0x16aab9['push']('\x22'+_0x2188cb[_0x4c9269][_0x5b3ea8(0x1cd)][_0x5b3ea8(0x98e)](/"/g,'\x22\x22')+'\x22');}_0x29923a[_0x5b3ea8(0x6d9)](_0x16aab9[_0x5b3ea8(0xab6)](','));}const _0x13305b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x29923a[_0x5b3ea8(0xab6)]('\x0a')],{'type':_0x5b3ea8(0x173)}),_0x1258ab=document[_0x5b3ea8(0x601)]('a');_0x1258ab[_0x5b3ea8(0x90e)]=URL[_0x5b3ea8(0x99d)](_0x13305b),_0x1258ab['download']=_0x3c95ba+_0x5b3ea8(0x70c),_0x1258ab['click']();}function renderAnalytics(_0x761ffa,_0x12ba0f){const _0x3598e3=_0x4e7cd8,_0x21fdcd=_0x12ba0f[_0x3598e3(0x473)](_0x1ebc21=>_0x1ebc21[_0x3598e3(0x156)]!==undefined),_0x5217f6=currentProjectData['students'][_0x3598e3(0xa90)],_0x322469=_0x21fdcd['length'],_0x1e421b=_0x5217f6-_0x322469,_0x1f47c5=_0x5217f6>0x0?_0x322469/_0x5217f6*0x64:0x0,_0x592709=_0x21fdcd['map'](_0x5e4ba3=>_0x5e4ba3[_0x3598e3(0x156)]),_0x24b688=_0x592709[_0x3598e3(0xa90)]>0x0?_0x592709[_0x3598e3(0x7b3)]((_0x4b93e1,_0xc2e8a3)=>_0x4b93e1+_0xc2e8a3,0x0)/_0x592709[_0x3598e3(0xa90)]:0x0,_0x1e5981=_0x761ffa[_0x3598e3(0x966)][_0x3598e3(0xa90)],_0x635738=_0x1e5981>0x0?_0x24b688/_0x1e5981*0x64:0x0,_0x3c41a6=calculateItemAnalysis(_0x761ffa,_0x21fdcd),_0x6d9062=calculateReliabilityKR20(_0x761ffa,_0x21fdcd,_0x3c41a6[_0x3598e3(0x867)]);let _0x3386af='';if(_0x6d9062!==null){let _0x4a6bc9='';if(_0x6d9062>=0.9)_0x4a6bc9='ยอดเยี่ยม';else{if(_0x6d9062>=0.8)_0x4a6bc9=_0x3598e3(0x2a6);else{if(_0x6d9062>=0.7)_0x4a6bc9='ดี';else{if(_0x6d9062>=0.6)_0x4a6bc9='พอใช้';else _0x4a6bc9='ควรปรับปรุง';}}}_0x3386af=_0x3598e3(0x8cc)+_0x6d9062['toFixed'](0x2)+_0x3598e3(0xc65)+_0x4a6bc9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x4bf926=document[_0x3598e3(0x1c2)](_0x3598e3(0x8f8));_0x4bf926[_0x3598e3(0x3e3)]=_0x3598e3(0x58b)+_0x1f47c5[_0x3598e3(0x72c)](0x0)+_0x3598e3(0xcb2)+_0x322469+'/'+_0x5217f6+_0x3598e3(0x18f)+_0x24b688[_0x3598e3(0x72c)](0x2)+_0x3598e3(0x54b)+_0x635738[_0x3598e3(0x72c)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x592709[_0x3598e3(0xa90)]>0x0?Math[_0x3598e3(0x3a8)](..._0x592709):'N/A')+_0x3598e3(0xb11)+(_0x592709[_0x3598e3(0xa90)]>0x0?Math[_0x3598e3(0x90f)](..._0x592709):_0x3598e3(0xb30))+_0x3598e3(0x18d)+_0x3386af+_0x3598e3(0x941);const _0xd62a24=document[_0x3598e3(0x1c2)](_0x3598e3(0x450));_0xd62a24&&_0xd62a24[_0x3598e3(0x1f9)]();const _0x186b47='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4bf926[_0x3598e3(0x249)](_0x3598e3(0x198),_0x186b47);const _0x50856e=currentProjectData['students']||[];renderSubmissionChart(_0x322469,_0x1e421b,_0x21fdcd,_0x50856e),renderScoreDistributionChart(_0x21fdcd,_0x1e5981),renderQuestionAnalytics(_0x761ffa,_0x21fdcd,_0x50856e),renderInterestingStats(_0x761ffa,_0x21fdcd);}async function handleExportLessonPDF(){const _0x14e1f2=_0x4e7cd8,_0x11eefc=document[_0x14e1f2(0x1c2)](_0x14e1f2(0xc5f)),_0x12a25c=document['getElementById'](_0x14e1f2(0x2a9))[_0x14e1f2(0x9a1)],_0x52311d=window[_0x14e1f2(0x43d)]('','_blank'),_0x11a49e=_0x14e1f2(0x164)+_0x12a25c+_0x14e1f2(0x1e0)+_0x11eefc[_0x14e1f2(0x3e3)]+_0x14e1f2(0x5e8);_0x52311d[_0x14e1f2(0x1d9)][_0x14e1f2(0x19e)](_0x11a49e),_0x52311d[_0x14e1f2(0x1d9)]['close'](),_0x52311d[_0x14e1f2(0x920)]=function(){setTimeout(()=>{const _0x28d17e=_0x1f15;_0x52311d[_0x28d17e(0xb5b)]();},0x5dc);};}function renderInterestingStats(_0x1d71a9,_0x4ba409){const _0x595732=_0x4e7cd8,_0x590435=document[_0x595732(0x1c2)](_0x595732(0x184));if(!_0x590435)return;if(_0x4ba409[_0x595732(0xa90)]===0x0){_0x590435[_0x595732(0x3e3)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x3de433=_0x1d71a9[_0x595732(0x966)][_0x595732(0xa26)]((_0xf9441a,_0x4ceda6)=>({'index':_0x4ceda6+0x1,'text':_0xf9441a[_0x595732(0x2b3)]||_0xf9441a[_0x595732(0x732)],'correct':0x0}));_0x4ba409[_0x595732(0x8ca)](_0x5c83ad=>{const _0x44816c=_0x595732,_0x11e4e6=_0x5c83ad[_0x44816c(0xba1)][_0x5c83ad[_0x44816c(0xba1)][_0x44816c(0xa90)]-0x1];_0x11e4e6&&_0x11e4e6[_0x44816c(0x361)]&&_0x11e4e6[_0x44816c(0x361)]['forEach'](_0x590479=>{const _0x274ca9=_0x44816c,_0x2df7a2=_0x3de433[_0x274ca9(0x135)](_0x24028a=>_0x24028a[_0x274ca9(0x4d7)]===_0x590479[_0x274ca9(0x393)]);_0x590479[_0x274ca9(0xaf8)]&&_0x2df7a2&&_0x2df7a2[_0x274ca9(0x25f)]++;});});const _0x154695=_0x4ba409[_0x595732(0xa90)],_0x5e30b2=Math[_0x595732(0x3a8)](..._0x3de433[_0x595732(0xa26)](_0x14afed=>_0x14afed[_0x595732(0x25f)])),_0x24562e=Math[_0x595732(0x90f)](..._0x3de433['map'](_0x514532=>_0x514532['correct'])),_0x494257=_0x3de433[_0x595732(0x473)](_0x40082e=>_0x40082e[_0x595732(0x25f)]===_0x5e30b2)[_0x595732(0xa26)](_0x4dd0f1=>_0x595732(0x624)+_0x4dd0f1[_0x595732(0x1cc)]),_0x417b82=_0x3de433[_0x595732(0x473)](_0x33566c=>_0x33566c['correct']===_0x24562e)['map'](_0x302e03=>_0x595732(0x624)+_0x302e03[_0x595732(0x1cc)]),_0x538fed=_0x4ba409[_0x595732(0x327)]((_0x685049,_0x50470d)=>_0x50470d['latestScore']-_0x685049[_0x595732(0x156)])[_0x595732(0x473)]((_0x4f989d,_0x2ae29b,_0x18e61a)=>_0x4f989d[_0x595732(0x156)]===_0x18e61a[0x0][_0x595732(0x156)]),_0x3d880b=_0x4ba409[_0x595732(0x327)]((_0x3fdc96,_0x29f5e6)=>_0x3fdc96[_0x595732(0x156)]-_0x29f5e6[_0x595732(0x156)])[_0x595732(0x473)]((_0x253aed,_0x502b32,_0x17f71a)=>_0x253aed[_0x595732(0x156)]===_0x17f71a[0x0][_0x595732(0x156)]),_0x803555='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x494257[_0x595732(0xab6)](',\x20')+_0x595732(0x3ff)+_0x5e30b2+_0x595732(0xbbf)+_0x154695+_0x595732(0x499)+_0x417b82[_0x595732(0xab6)](',\x20')+_0x595732(0x3ff)+(_0x154695-_0x24562e)+_0x595732(0xbbf)+_0x154695+_0x595732(0x5b0)+_0x538fed['map'](_0x451e09=>_0x451e09[_0x595732(0xc3e)])[_0x595732(0xab6)](',\x20')+_0x595732(0x76a)+_0x538fed[0x0]['latestScore']+_0x595732(0xb4c)+_0x3d880b[_0x595732(0xa26)](_0x3fe813=>_0x3fe813[_0x595732(0xc3e)])[_0x595732(0xab6)](',\x20')+_0x595732(0x76a)+_0x3d880b[0x0]['latestScore']+_0x595732(0xb22);_0x590435[_0x595732(0x3e3)]=_0x803555;}function renderSubmissionChart(_0x1a0746,_0x4c64f7,_0x256010,_0x166945){const _0xac5fc6=_0x4e7cd8,_0x4c50cc=document[_0xac5fc6(0x1c2)](_0xac5fc6(0x709))[_0xac5fc6(0xc4e)]('2d'),_0x31a81a=_0x256010[_0xac5fc6(0xa26)](_0x472888=>_0x472888['studentName']),_0x112c9a=_0x166945[_0xac5fc6(0x473)](_0x39929b=>!_0x31a81a['includes'](_0x39929b));chartInstances[_0xac5fc6(0x18a)]&&chartInstances[_0xac5fc6(0x18a)]['destroy'](),chartInstances['submission']=new Chart(_0x4c50cc,{'type':_0xac5fc6(0x540),'data':{'labels':['ส่งแล้ว',_0xac5fc6(0xc69)],'datasets':[{'data':[_0x1a0746,_0x4c64f7],'backgroundColor':[_0xac5fc6(0x21b),_0xac5fc6(0xc9d)],'borderColor':['#ffffff',_0xac5fc6(0xaa0)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x5962be){const _0x243299=_0xac5fc6;let _0x1121ee=_0x5962be[_0x243299(0x38b)]||'';return _0x1121ee&&(_0x1121ee+=':\x20'),_0x1121ee+=_0x5962be[_0x243299(0x80f)],_0x1121ee;},'afterLabel':function(_0x311ebe){const _0x5b9c56=_0xac5fc6;let _0x422ce3;return _0x311ebe[_0x5b9c56(0xaa5)]===0x0?_0x422ce3=_0x31a81a:_0x422ce3=_0x112c9a,_0x422ce3[_0x5b9c56(0xa90)]>0x0?_0x422ce3[_0x5b9c56(0xab6)]('\x0a'):_0x5b9c56(0x924);}}}}}});}function renderScoreDistributionChart(_0x3efcf7,_0x28180e){const _0x5e3f45=_0x4e7cd8,_0x2b1cb9=document[_0x5e3f45(0x1c2)](_0x5e3f45(0x5fa))[_0x5e3f45(0xc4e)]('2d'),_0x4c20ab={};for(let _0x2f2c57=0x0;_0x2f2c57<=_0x28180e;_0x2f2c57++){_0x4c20ab[_0x2f2c57]=0x0;}_0x3efcf7[_0x5e3f45(0x8ca)](_0x56d492=>{const _0x2375a0=_0x5e3f45;_0x4c20ab[_0x56d492[_0x2375a0(0x156)]]!==undefined&&_0x4c20ab[_0x56d492[_0x2375a0(0x156)]]++;}),chartInstances[_0x5e3f45(0xb20)]&&chartInstances['score'][_0x5e3f45(0x697)](),chartInstances[_0x5e3f45(0xb20)]=new Chart(_0x2b1cb9,{'type':_0x5e3f45(0x3f1),'data':{'labels':Object['keys'](_0x4c20ab),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x5e3f45(0x9a6)](_0x4c20ab),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5e3f45(0xa1d)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x54ece5){const _0x37e8c3=_0x5e3f45,_0x489946=_0x54ece5['label'],_0x94a2a4=_0x3efcf7[_0x37e8c3(0x473)](_0x3b5ab4=>_0x3b5ab4['latestScore']==_0x489946)[_0x37e8c3(0xa26)](_0x60fb89=>_0x60fb89[_0x37e8c3(0xc3e)]);return _0x94a2a4[_0x37e8c3(0xa90)]>0x0?_0x94a2a4[_0x37e8c3(0xab6)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0xb2c699,_0x33f60e,_0x5690c6){const _0x48a3b5=_0x4e7cd8,_0x46b993=document[_0x48a3b5(0x1c2)](_0x48a3b5(0x14f));if(_0x5690c6[_0x48a3b5(0xa90)]===0x0){_0x46b993['innerHTML']=_0x48a3b5(0x592);return;}const _0x5ad201=calculateItemAnalysis(_0xb2c699,_0x33f60e),_0x41e50a=calculateDistractorAnalysis(_0xb2c699,_0x33f60e);let _0x4fc94a='';_0x5ad201['overallGroups']&&(_0x4fc94a=_0x48a3b5(0x5a0)+_0x5ad201[_0x48a3b5(0xa49)][_0x48a3b5(0x765)][_0x48a3b5(0xa90)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ad201[_0x48a3b5(0xa49)][_0x48a3b5(0x765)][_0x48a3b5(0xa26)](_0x2dace2=>_0x48a3b5(0x2bd)+_0x2dace2+'</li>')[_0x48a3b5(0xab6)]('')+_0x48a3b5(0x2a2)+_0x5ad201[_0x48a3b5(0xa49)][_0x48a3b5(0x6fc)][_0x48a3b5(0xa90)]+_0x48a3b5(0x787)+_0x5ad201['overallGroups'][_0x48a3b5(0x6fc)][_0x48a3b5(0xa26)](_0x519d39=>_0x48a3b5(0x2bd)+_0x519d39+_0x48a3b5(0x775))['join']('')+_0x48a3b5(0x82d));let _0x4313b='';const _0x88979e=_0x33f60e[_0x48a3b5(0xa26)](_0x5e9660=>_0x5e9660['studentName']),_0x2631fc=_0x529843=>{const _0x4842bf=_0x48a3b5;if(_0x529843>=0.8)return _0x4842bf(0x6cc);if(_0x529843>=0.6)return _0x4842bf(0x875);if(_0x529843>=0.4)return _0x4842bf(0x4c4);if(_0x529843>=0.2)return _0x4842bf(0x727);return _0x4842bf(0x9ca);},_0x30e881=_0x474669=>{const _0x4e8bac=_0x48a3b5;if(_0x474669<0x0)return _0x4e8bac(0x92b);if(_0x474669>=0.4)return _0x4e8bac(0x481);if(_0x474669>=0.3)return _0x4e8bac(0x380);if(_0x474669>=0.2)return _0x4e8bac(0x1b5);return _0x4e8bac(0xb95);},_0x28d8a1=_0x3997a1=>{const _0x37a91c=_0x48a3b5,_0x290c75=_0x3997a1[_0x37a91c(0x72c)](0x0);if(parseFloat(_0x290c75)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x290c75+_0x37a91c(0x5a1);if(_0x3997a1>=0x32)return _0x37a91c(0xbab)+_0x290c75+_0x37a91c(0x5a1);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x290c75+_0x37a91c(0x5a1);};_0xb2c699[_0x48a3b5(0x966)][_0x48a3b5(0x8ca)]((_0x3f3b68,_0x124d9d)=>{const _0x1f4401=_0x48a3b5,_0x4596a3=_0x5ad201[_0x1f4401(0x867)][_0x124d9d],_0x19e7ed=_0x41e50a[_0x124d9d],_0x134270=_0x3f3b68[_0x1f4401(0x732)]||_0x3f3b68['questionText']||_0x3f3b68['instructions'];let _0xb6dda4=0x0;const _0x696a0d=[],_0x57010e=[];_0x33f60e[_0x1f4401(0x8ca)](_0x4f1327=>{const _0x732f9c=_0x1f4401,_0x4d2c41=_0x4f1327[_0x732f9c(0xba1)][_0x4f1327[_0x732f9c(0xba1)][_0x732f9c(0xa90)]-0x1];if(_0x4d2c41&&_0x4d2c41[_0x732f9c(0x361)]){const _0x24c076=_0x4d2c41['answers'][_0x732f9c(0x135)](_0x3fd6ba=>_0x3fd6ba[_0x732f9c(0x393)]===_0x134270)??_0x4d2c41[_0x732f9c(0x361)][_0x124d9d]??null;_0x24c076&&(_0x24c076[_0x732f9c(0xaf8)]?(_0xb6dda4++,_0x696a0d[_0x732f9c(0x6d9)](_0x4f1327[_0x732f9c(0xc3e)])):_0x57010e[_0x732f9c(0x6d9)](_0x4f1327[_0x732f9c(0xc3e)]));}});const _0x69caa2=_0x33f60e[_0x1f4401(0xa90)]>0x0?_0xb6dda4/_0x33f60e['length']*0x64:0x0,_0x5688b0=_0x5690c6[_0x1f4401(0x473)](_0x10ff14=>!_0x88979e[_0x1f4401(0x4c2)](_0x10ff14)),_0x252df9=_0x4596a3?_0x1f4401(0x83c)+_0x4596a3['p'][_0x1f4401(0x72c)](0x2)+_0x1f4401(0x302)+_0x2631fc(_0x4596a3['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x4596a3['r'][_0x1f4401(0x72c)](0x2)+_0x1f4401(0x302)+_0x30e881(_0x4596a3['r'])+_0x1f4401(0x9cb)+_0x28d8a1(_0x69caa2)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0xe5e1ac='';_0x19e7ed&&(_0xe5e1ac=_0x1f4401(0x3d9)+Object[_0x1f4401(0xaf9)](_0x19e7ed)[_0x1f4401(0xa26)](_0x4b8c19=>{const _0x398714=_0x1f4401,_0x3e69bb=_0x19e7ed[_0x4b8c19],_0x5f4c4f=parseInt(_0x4b8c19)===_0x3f3b68[_0x398714(0xcab)],_0x4c8ae6=!_0x5f4c4f&&_0x3e69bb[_0x398714(0x960)]>_0x3e69bb[_0x398714(0xb5c)];return _0x398714(0x6f6)+(_0x5f4c4f?_0x398714(0xb93):'')+_0x398714(0x63f)+(_0x5f4c4f?'✔\x20':'')+_0x3e69bb['text']+_0x398714(0xc24)+_0x3e69bb[_0x398714(0xb5c)]+_0x398714(0xc24)+_0x3e69bb['lower_group_count']+'\x20'+(_0x4c8ae6?'👍':'')+_0x398714(0xc24)+_0x3e69bb['total']+_0x398714(0x37d);})[_0x1f4401(0xab6)]('')+_0x1f4401(0x321));let _0xca9f6f='';_0x4596a3&&_0x4596a3['upperGroupResponders']&&(_0xca9f6f=_0x1f4401(0x8f6)+_0x4596a3[_0x1f4401(0x235)][_0x1f4401(0xa90)]+_0x1f4401(0x2eb)+_0x4596a3[_0x1f4401(0x235)]['map'](_0x3265a5=>_0x1f4401(0x2bd)+(_0x3265a5[_0x1f4401(0xaf8)]?_0x1f4401(0x2e3):_0x1f4401(0x653))+'\x20'+_0x3265a5['name']+'</li>')[_0x1f4401(0xab6)]('')+_0x1f4401(0x969)+_0x4596a3[_0x1f4401(0x2d4)]['length']+_0x1f4401(0x2eb)+_0x4596a3['lowerGroupResponders'][_0x1f4401(0xa26)](_0x17266e=>_0x1f4401(0x2bd)+(_0x17266e[_0x1f4401(0xaf8)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x1f4401(0x653))+'\x20'+_0x17266e[_0x1f4401(0x82b)]+_0x1f4401(0x775))[_0x1f4401(0xab6)]('')+_0x1f4401(0x771)),_0x4313b+=_0x1f4401(0xcbe)+(_0x124d9d+0x1)+':\x20'+_0x134270+_0x1f4401(0x752)+_0x252df9+_0x1f4401(0x670)+_0x134270+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0xb6dda4+_0x1f4401(0xc61)+_0x33f60e[_0x1f4401(0xa90)]+_0x1f4401(0x456)+_0x69caa2[_0x1f4401(0x72c)](0x0)+_0x1f4401(0x270)+_0x696a0d[_0x1f4401(0xa90)]+_0x1f4401(0xcad)+(_0x696a0d[_0x1f4401(0xa90)]>0x0?_0x696a0d[_0x1f4401(0xab6)](',\x20'):_0x1f4401(0x924))+_0x1f4401(0x899)+_0x57010e[_0x1f4401(0xa90)]+_0x1f4401(0xcad)+(_0x57010e[_0x1f4401(0xa90)]>0x0?_0x57010e[_0x1f4401(0xab6)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x5688b0[_0x1f4401(0xa90)]+_0x1f4401(0xcad)+(_0x5688b0['length']>0x0?_0x5688b0['join'](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe5e1ac+_0x1f4401(0x4cc)+_0xca9f6f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x46b993['innerHTML']=_0x4fc94a+_0x4313b;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x46b993]);}catch(_0x569591){console['error'](_0x48a3b5(0x9df),_0x569591);}}function calculateDistractorAnalysis(_0x16e641,_0x22be31){const _0x46d984=_0x4e7cd8,_0x4710c4={};if(_0x22be31[_0x46d984(0xa90)]<0x2)return _0x4710c4;const _0x349020=[..._0x22be31][_0x46d984(0x327)]((_0x38864f,_0x2dd0b6)=>{const _0x1ec7b2=_0x46d984,_0x40dd62=_0x2dd0b6[_0x1ec7b2(0x156)]-_0x38864f[_0x1ec7b2(0x156)];if(_0x40dd62!==0x0)return _0x40dd62;const _0x435bd2=_0x38864f['attempts']?.[_0x1ec7b2(0xa90)]||0x1,_0x51a0e6=_0x2dd0b6[_0x1ec7b2(0xba1)]?.[_0x1ec7b2(0xa90)]||0x1,_0x20e770=_0x435bd2-_0x51a0e6;if(_0x20e770!==0x0)return _0x20e770;const _0x39cd00=new Date(_0x38864f[_0x1ec7b2(0x66b)]),_0x304a89=new Date(_0x2dd0b6['latestSubmittedAt']),_0x21a0c9=_0x39cd00-_0x304a89;if(_0x21a0c9!==0x0)return _0x21a0c9;return _0x38864f[_0x1ec7b2(0xc3e)][_0x1ec7b2(0x8d0)](_0x2dd0b6[_0x1ec7b2(0xc3e)],'th');}),_0x479b62=_0x349020[_0x46d984(0xa90)],_0x55d37c=Math[_0x46d984(0x3a8)](0x1,Math[_0x46d984(0xa32)](_0x479b62*0.33)),_0x524967=_0x349020[_0x46d984(0xb79)](0x0,_0x55d37c),_0x486515=_0x349020['slice'](-_0x55d37c);return _0x16e641[_0x46d984(0x966)][_0x46d984(0x8ca)]((_0x2649db,_0x3f6a37)=>{const _0x47e352=_0x46d984;if(_0x2649db[_0x47e352(0x93a)]!==_0x47e352(0x4bb)||!_0x2649db[_0x47e352(0x4d1)])return;const _0x335d42=_0x2649db[_0x47e352(0x2b3)],_0x20b7e1={};_0x2649db[_0x47e352(0x4d1)][_0x47e352(0x8ca)]((_0x38a5c2,_0x2b02bf)=>{_0x20b7e1[_0x2b02bf]={'text':_0x38a5c2,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x349020[_0x47e352(0x8ca)](_0x56bb2b=>{const _0x48dca3=_0x47e352,_0x5a63ad=_0x56bb2b[_0x48dca3(0xba1)][_0x56bb2b['attempts'][_0x48dca3(0xa90)]-0x1],_0x38c2e9=_0x5a63ad[_0x48dca3(0x361)]['find'](_0x464236=>_0x464236[_0x48dca3(0x393)]===_0x335d42);if(_0x38c2e9&&_0x38c2e9[_0x48dca3(0xb8c)]!==null){const _0xe021f7=_0x2649db['options']['findIndex'](_0x2df2f4=>_0x2df2f4===_0x38c2e9[_0x48dca3(0x8ce)]);_0xe021f7!==-0x1&&_0x20b7e1[_0xe021f7]&&(_0x20b7e1[_0xe021f7][_0x48dca3(0x3b5)]++,_0x524967[_0x48dca3(0x4c2)](_0x56bb2b)&&_0x20b7e1[_0xe021f7]['upper_group_count']++,_0x486515[_0x48dca3(0x4c2)](_0x56bb2b)&&_0x20b7e1[_0xe021f7][_0x48dca3(0x960)]++);}}),_0x4710c4[_0x3f6a37]=_0x20b7e1;}),_0x4710c4;}function calculateReliabilityKR20(_0x55d96d,_0x9fd0a9,_0x244757){const _0x2d4b56=_0x4e7cd8,_0x2951de=_0x55d96d[_0x2d4b56(0x966)][_0x2d4b56(0xa90)];if(_0x2951de<0x2||_0x9fd0a9[_0x2d4b56(0xa90)]<0x2)return null;const _0xb6e0d0=_0x9fd0a9['map'](_0x3f8522=>_0x3f8522[_0x2d4b56(0x156)]),_0x4482da=_0xb6e0d0['reduce']((_0x107a15,_0xa7fd78)=>_0x107a15+_0xa7fd78,0x0)/_0xb6e0d0[_0x2d4b56(0xa90)],_0x2507f6=_0xb6e0d0['map'](_0x46d779=>Math[_0x2d4b56(0x1d2)](_0x46d779-_0x4482da,0x2))[_0x2d4b56(0x7b3)]((_0x3ddf77,_0x843045)=>_0x3ddf77+_0x843045,0x0)/_0xb6e0d0['length'];if(_0x2507f6===0x0)return null;let _0x231b5c=0x0;for(let _0x189c97=0x0;_0x189c97<_0x2951de;_0x189c97++){const _0x137454=_0x244757[_0x189c97]?.['p'];if(_0x137454===undefined)continue;const _0x29d95b=0x1-_0x137454;_0x231b5c+=_0x137454*_0x29d95b;}if(_0x231b5c===0x0)return null;const _0x333056=_0x2951de/(_0x2951de-0x1)*(0x1-_0x231b5c/_0x2507f6);if(_0x333056>0x1)return null;return _0x333056;}async function handleAnalyzeClass(){const _0x5a287f=_0x4e7cd8;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x5a287f(0x15f));return;}const _0x384f9f=collection(db,_0x5a287f(0xbc5)+appId+_0x5a287f(0x155)+currentQuizData['id']+_0x5a287f(0x2e0)),_0x244ece=await getDocs(_0x384f9f),_0x245658=_0x244ece['docs'][_0x5a287f(0xa26)](_0xd17102=>_0xd17102[_0x5a287f(0x921)]());if(_0x245658['length']<0x2){showMessage(_0x5a287f(0x9ba));return;}const _0x45e4d9=document[_0x5a287f(0x1c2)](_0x5a287f(0x7f3));_0x45e4d9['innerHTML']=_0x5a287f(0xc35),document[_0x5a287f(0x1c2)](_0x5a287f(0x1e6))['disabled']=!![];const _0x3509ec=_0x245658[_0x5a287f(0xa26)]((_0x37a926,_0x44856)=>{const _0x1740d8=_0x5a287f,_0x28c319=_0x37a926[_0x1740d8(0xba1)][_0x37a926['attempts'][_0x1740d8(0xa90)]-0x1];if(!_0x28c319)return'';return _0x1740d8(0x571)+(_0x44856+0x1)+'\x20('+_0x37a926['studentName']+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x28c319[_0x1740d8(0xb20)]+'/'+_0x37a926[_0x1740d8(0x71a)]+_0x1740d8(0x2cf)+JSON[_0x1740d8(0x462)](_0x28c319[_0x1740d8(0x361)])+_0x1740d8(0x6cb);})[_0x5a287f(0xab6)]('\x0a---\x0a'),_0x29c377=_0x5a287f(0xcbb)+currentQuizData[_0x5a287f(0xcaf)]+_0x5a287f(0x6c9)+JSON[_0x5a287f(0x462)](currentQuizData[_0x5a287f(0x966)])+_0x5a287f(0xb15)+_0x3509ec+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x5a6ae1={'type':'OBJECT','properties':{'classStrengths':{'type':'ARRAY','items':{'type':'STRING'}},'classWeaknesses':{'type':_0x5a287f(0x6ae),'items':{'type':_0x5a287f(0x942)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x5a287f(0x942)}}},'required':[_0x5a287f(0xc49),_0x5a287f(0x351),'teacherSuggestions']};try{const _0x2e8ad8=await callAnalysisApi(_0x29c377,_0x5a6ae1);displayClassAnalysis(_0x2e8ad8);}catch(_0x592e33){console[_0x5a287f(0x2da)](_0x5a287f(0x87f),_0x592e33),_0x45e4d9[_0x5a287f(0x3e3)]=_0x5a287f(0x763)+_0x592e33[_0x5a287f(0x516)]+_0x5a287f(0x3c3);}finally{document[_0x5a287f(0x1c2)](_0x5a287f(0x1e6))[_0x5a287f(0x78a)]=![];}}function displayClassAnalysis(_0xa361e9){const _0x179893=_0x4e7cd8,_0x263b1d=document['getElementById'](_0x179893(0x7f3));if(!_0xa361e9){_0x263b1d['innerHTML']=_0x179893(0x64b);return;}_0x263b1d[_0x179893(0x3e3)]=_0x179893(0x3bf)+_0xa361e9['classStrengths'][_0x179893(0xa26)](_0x5cefe7=>_0x179893(0x2bd)+_0x5cefe7+_0x179893(0x775))['join']('')+_0x179893(0x957)+_0xa361e9[_0x179893(0x351)][_0x179893(0xa26)](_0x3f83af=>_0x179893(0x2bd)+_0x3f83af+_0x179893(0x775))[_0x179893(0xab6)]('')+_0x179893(0x23f)+_0xa361e9[_0x179893(0x843)][_0x179893(0xa26)](_0x59235c=>_0x179893(0x2bd)+_0x59235c+_0x179893(0x775))[_0x179893(0xab6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x2d9c22,_0x5b7720){const _0x3588ed=_0x4e7cd8,_0x16f11c=_0x3588ed(0x1b2)+_0x2d9c22[_0x3588ed(0xcaf)]+_0x3588ed(0x36a)+_0x2d9c22[_0x3588ed(0xcaf)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d9c22['questions'][_0x3588ed(0xa26)]((_0x354522,_0x10bfca)=>_0x3588ed(0x72d)+(_0x10bfca+0x1)+'.\x20'+_0x354522[_0x3588ed(0x2b3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x354522['imageCode']?_0x3588ed(0xc00)+_0x354522[_0x3588ed(0x291)]+_0x3588ed(0xc4f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3588ed(0xab6)]('')+_0x3588ed(0xa71);_0x5b7720[_0x3588ed(0x1d9)][_0x3588ed(0x19e)](_0x16f11c),_0x5b7720['document']['close'](),_0x5b7720[_0x3588ed(0x920)]=function(){setTimeout(()=>{const _0x582d39=_0x1f15;_0x5b7720[_0x582d39(0xb5b)]();},0x3e8);};}async function generateWorksheet(){const _0x37b820=_0x4e7cd8,_0x4388c5=document['getElementById'](_0x37b820(0x613))[_0x37b820(0x9f1)][_0x37b820(0x492)]();if(!_0x4388c5){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x32dab2=document[_0x37b820(0x1c2)](_0x37b820(0x262))[_0x37b820(0x564)],_0x1475e3=_0x32dab2?'':_0x37b820(0x546),_0x5d3993=window['open']('',_0x37b820(0x1f4));_0x5d3993[_0x37b820(0x1d9)][_0x37b820(0x19e)](_0x37b820(0x534));const _0x54a644=parseInt(document[_0x37b820(0x1c2)](_0x37b820(0x55b))[_0x37b820(0x9f1)]),_0x33fd9f=document[_0x37b820(0x1c2)](_0x37b820(0x819))[_0x37b820(0x564)],_0x34aa44=_0x33fd9f?_0x37b820(0x9fc):'',_0x5d85e6=_0x37b820(0x96a)+_0x1475e3+_0x37b820(0x32a)+_0x54a644+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x4388c5+_0x37b820(0x8b8)+_0x34aa44+_0x37b820(0x58c)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x4bbabb={'type':_0x37b820(0x469),'properties':{'topic':{'type':_0x37b820(0x942)},'questions':{'type':'ARRAY','items':{'type':_0x37b820(0x469),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x37b820(0x942)}},'required':[_0x37b820(0x2b3)]}}},'required':[_0x37b820(0xcaf),'questions']};document[_0x37b820(0x1c2)](_0x37b820(0xa09))[_0x37b820(0x9a1)]='',document[_0x37b820(0x1c2)](_0x37b820(0xad6))[_0x37b820(0x12e)]['remove'](_0x37b820(0x30a)),document[_0x37b820(0x1c2)](_0x37b820(0x280))[_0x37b820(0x12e)][_0x37b820(0x1f9)](_0x37b820(0x30a)),generateWorksheetBtn[_0x37b820(0x78a)]=!![];try{const _0x155a23=await callAnalysisApi(_0x5d85e6,_0x4bbabb);formatAndPrintWorksheet(_0x155a23,_0x5d3993);}catch(_0x114863){console[_0x37b820(0x2da)](_0x37b820(0xc02),_0x114863);if(_0x5d3993)_0x5d3993[_0x37b820(0x6b6)]();showMessage(_0x37b820(0x802));}finally{document[_0x37b820(0x1c2)](_0x37b820(0xad6))['classList'][_0x37b820(0x7d7)](_0x37b820(0x30a)),document['getElementById'](_0x37b820(0x280))[_0x37b820(0x12e)][_0x37b820(0x7d7)](_0x37b820(0x30a)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x75704c,_0x27f746){const _0x58465d=_0x4e7cd8,_0x317097={'contents':[{'role':_0x58465d(0x747),'parts':[{'text':_0x75704c}]}],'generationConfig':{'responseMimeType':_0x58465d(0xc23),'responseSchema':_0x27f746}},_0x293256=_0x58465d(0x65d),_0x4ba305=_0x58465d(0x310)+_0x293256,_0x1d3d0b=await fetch(_0x4ba305,{'method':_0x58465d(0xc5a),'headers':{'Content-Type':_0x58465d(0xc23)},'body':JSON['stringify'](_0x317097)});if(!_0x1d3d0b['ok'])throw new Error(_0x58465d(0x225)+_0x1d3d0b[_0x58465d(0xb37)]);const _0x388c87=await _0x1d3d0b[_0x58465d(0x2cc)]();if(_0x388c87[_0x58465d(0x719)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON['parse'](_0x388c87['candidates'][0x0][_0x58465d(0x529)][_0x58465d(0x7f2)][0x0]['text']);else{let _0x175c18=_0x58465d(0x99f);if(_0x388c87[_0x58465d(0x3fb)]?.['blockReason'])_0x175c18=_0x58465d(0xa34)+_0x388c87[_0x58465d(0x3fb)][_0x58465d(0x619)]+'.';else _0x388c87[_0x58465d(0x719)]?.[0x0]?.[_0x58465d(0x77a)]&&_0x388c87[_0x58465d(0x719)][0x0][_0x58465d(0x77a)]!==_0x58465d(0x199)&&(_0x175c18=_0x58465d(0x19d)+_0x388c87[_0x58465d(0x719)][0x0][_0x58465d(0x77a)]+'.');console['error'](_0x175c18,JSON[_0x58465d(0x462)](_0x388c87));throw new Error(_0x175c18);}}async function handleStartSyncMode(_0x7a0865,_0x4430ba=![]){const _0x1a9cfe=_0x4e7cd8,_0x4e25c0=allQuizzes[_0x1a9cfe(0x135)](_0x4bbc02=>_0x4bbc02['id']===_0x7a0865)||allQuizzesGlobal[_0x1a9cfe(0x135)](_0xfdf6ad=>_0xfdf6ad['id']===_0x7a0865);if(!_0x4e25c0){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x4e25c0);const _0x173aa9=Math[_0x1a9cfe(0xa32)](0x3e8+Math[_0x1a9cfe(0xad8)]()*0x2328)[_0x1a9cfe(0x8bf)]();try{const _0x2a86e8=await addDoc(collection(db,_0x1a9cfe(0xbc5)+appId+_0x1a9cfe(0x1be)),{'quizId':_0x4e25c0['id'],'pin':_0x173aa9,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4430ba,'players':{}});currentLiveGameId=_0x2a86e8['id'],showView(_0x1a9cfe(0x94d)),renderSyncLobbyView(_0x173aa9,_0x4e25c0['topic']),listenForSyncGameUpdates();}catch(_0xfedfc5){console[_0x1a9cfe(0x2da)](_0x1a9cfe(0xb60),_0xfedfc5),showMessage(_0x1a9cfe(0x3c9));}}function calculateFinalPodiumScores(_0x30d6dd){const _0x4cd82d=_0x4e7cd8;if(!_0x30d6dd||!_0x30d6dd['shuffledQuiz']||!_0x30d6dd[_0x4cd82d(0xb3e)])return _0x30d6dd[_0x4cd82d(0xb3e)]||{};const _0x2ddffa=_0x30d6dd[_0x4cd82d(0x151)]['questions'][_0x4cd82d(0xa90)],_0x320108=JSON[_0x4cd82d(0x281)](JSON[_0x4cd82d(0x462)](_0x30d6dd[_0x4cd82d(0xb3e)]));return Object[_0x4cd82d(0x9a6)](_0x320108)['forEach'](_0x18941d=>{const _0x570ce5=_0x4cd82d,_0x562661=_0x18941d[_0x570ce5(0xb20)];let _0x36da35=_0x562661,_0x521273=0x0;_0x30d6dd[_0x570ce5(0x3e8)]&&_0x18941d['answers']&&_0x18941d[_0x570ce5(0x361)][_0x570ce5(0x8ca)](_0x182453=>{const _0x6b9008=_0x570ce5;if(_0x182453['isCorrect']&&(_0x182453[_0x6b9008(0x789)]===!![]||_0x182453[_0x6b9008(0x789)]===_0x6b9008(0x9ab)))_0x521273+=0x1;else!_0x182453['isCorrect']&&(_0x182453[_0x6b9008(0x789)]===!![]||_0x182453[_0x6b9008(0x789)]===_0x6b9008(0x9ab))&&(_0x521273-=0x1);}),_0x36da35+=_0x521273,_0x2ddffa>0x0&&_0x562661===_0x2ddffa&&(_0x36da35+=0x1,_0x18941d['hasPerfectScoreBonus']=!![]),_0x18941d[_0x570ce5(0xb20)]=_0x36da35;}),_0x320108;}function listenForSyncGameUpdates(){const _0x4b3c6f=_0x4e7cd8;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x66405=doc(db,_0x4b3c6f(0xbc5)+appId+_0x4b3c6f(0x1be),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x66405,_0x2f3066=>{const _0x207e20=_0x4b3c6f;if(!_0x2f3066[_0x207e20(0x7b7)]()){sessionStorage[_0x207e20(0xc4b)](_0x207e20(0xa7c));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x207e20(0x185));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x207e20(0x9be)?showView('project-detail'):showView(_0x207e20(0x39a));return;}const _0x49e53c=_0x2f3066[_0x207e20(0x921)]();currentMode===_0x207e20(0x9be)?updateAdminSyncView(_0x49e53c):updateStudentSyncView(_0x49e53c);});}function renderSyncLobbyView(_0x4078d1,_0x55419e){const _0x4e7ddf=_0x4e7cd8;liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x55419e+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x4078d1+_0x4e7ddf(0x6db);const _0x8a5aa2=document[_0x4e7ddf(0x1c2)]('confidence-scoring-toggle'),_0x1882df=document[_0x4e7ddf(0x1c2)](_0x4e7ddf(0x68b));_0x8a5aa2[_0x4e7ddf(0xa37)](_0x4e7ddf(0x6c5),()=>{const _0x1b73ab=_0x4e7ddf;_0x1882df[_0x1b73ab(0xa10)][_0x1b73ab(0x28f)]=_0x8a5aa2['checked']?_0x1b73ab(0xad0):_0x1b73ab(0xba0);}),document[_0x4e7ddf(0x1c2)]('start-sync-game-btn')['addEventListener'](_0x4e7ddf(0xbdd),async()=>{const _0x578c07=_0x4e7ddf,_0x547154=doc(db,_0x578c07(0xbc5)+appId+_0x578c07(0x1be),currentLiveGameId),_0x42fe1a=document[_0x578c07(0x1c2)](_0x578c07(0xa7d))[_0x578c07(0x564)];await updateDoc(_0x547154,{'status':_0x578c07(0x3cb),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x42fe1a});});}function updateAdminSyncView(_0x5902b9){const _0x2706e3=_0x4e7cd8;switch(_0x5902b9[_0x2706e3(0xb37)]){case _0x2706e3(0x971):renderSyncLobbyView(_0x5902b9[_0x2706e3(0x753)],_0x5902b9['shuffledQuiz'][_0x2706e3(0xcaf)]);const _0x3eb012=Object['entries'](_0x5902b9[_0x2706e3(0xb3e)]||{})[_0x2706e3(0x473)](([_0x3706ba,_0x2119af])=>_0x2119af[_0x2706e3(0xb37)]!=='inactive');document[_0x2706e3(0x1c2)](_0x2706e3(0x84b))[_0x2706e3(0x9a1)]=_0x3eb012[_0x2706e3(0xa90)],document[_0x2706e3(0x1c2)](_0x2706e3(0xa3c))[_0x2706e3(0x3e3)]=_0x3eb012[_0x2706e3(0xa26)](([_0xe29d,_0x4affc8])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xe29d+_0x2706e3(0x3a3)+_0xe29d+_0x2706e3(0xb73))[_0x2706e3(0xab6)]('')||_0x2706e3(0xc9a),document['getElementById']('start-sync-game-btn')['disabled']=_0x3eb012[_0x2706e3(0xa90)]===0x0;break;case _0x2706e3(0x3cb):const _0x13242e=Object[_0x2706e3(0x9a6)](_0x5902b9[_0x2706e3(0xb3e)]||{})[_0x2706e3(0x473)](_0xa9371e=>_0xa9371e[_0x2706e3(0xb37)]!==_0x2706e3(0x4c8)),_0x5d745f=_0x13242e['filter'](_0x288e7b=>_0x288e7b[_0x2706e3(0x810)])[_0x2706e3(0xa90)],_0x288946=_0x5d745f===_0x13242e['length']&&_0x13242e[_0x2706e3(0xa90)]>0x0;if(_0x288946&&_0x5902b9[_0x2706e3(0xb37)]==='question'){const _0x510aaf=doc(db,_0x2706e3(0xbc5)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x510aaf,{'status':_0x2706e3(0x1b8)});}else{if(document['getElementById'](_0x2706e3(0x83e))===null)renderAdminSyncQuestionView(_0x5902b9);else{const _0xdfbcae=document['getElementById'](_0x2706e3(0x77c));_0xdfbcae&&(_0xdfbcae[_0x2706e3(0x9a1)]=_0x5d745f+'/'+_0x13242e[_0x2706e3(0xa90)]);const _0x1f34d4=document[_0x2706e3(0x1c2)](_0x2706e3(0x943));_0x1f34d4&&(_0x1f34d4[_0x2706e3(0x3e3)]=_0x13242e[_0x2706e3(0xa26)](_0xbf9554=>{const _0x443217=_0x2706e3,_0x1458b3=_0xbf9554['answered']?_0x443217(0x570):'bg-gray-500',_0x2c488e=_0xbf9554[_0x443217(0x810)]?_0x443217(0xcc3):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x443217(0x531)+_0x1458b3+_0x443217(0x120)+_0x2c488e+_0x443217(0x213)+_0xbf9554[_0x443217(0x82b)]+_0x443217(0x34c)+_0xbf9554[_0x443217(0x82b)]+_0x443217(0xc60);})[_0x2706e3(0xab6)](''));}}break;case _0x2706e3(0x1b8):const _0x18d3f2=_0x5902b9['currentQuestionIndex'],_0x57a0f8=_0x5902b9[_0x2706e3(0x151)][_0x2706e3(0x966)][_0x18d3f2];renderSyncSummaryView(_0x5902b9,_0x57a0f8,!![]);break;case _0x2706e3(0x84d):renderAdminSyncDashboard(_0x5902b9,!![]);break;case'podium':_0x5902b9[_0x2706e3(0x9fe)]&&saveGameResultsAsSubmissions(_0x5902b9);sessionStorage[_0x2706e3(0xc4b)](_0x2706e3(0xa7c));const _0x2d69a5=calculateFinalPodiumScores(_0x5902b9);showPodiumView(_0x2d69a5,_0x2706e3(0xa3d));break;}}function renderAdminSyncQuestionView(_0x89028a){const _0x59fd9b=_0x4e7cd8,_0x7b8658=_0x89028a[_0x59fd9b(0x628)],_0x135873=_0x89028a[_0x59fd9b(0x151)][_0x59fd9b(0x966)][_0x7b8658],_0xce231b=_0x89028a[_0x59fd9b(0x151)][_0x59fd9b(0x966)]['length'],_0x1ac503=Object[_0x59fd9b(0x9a6)](_0x89028a[_0x59fd9b(0xb3e)]||{})['filter'](_0x4b9cbc=>_0x4b9cbc['status']!==_0x59fd9b(0x4c8)),_0x39e735=_0x1ac503[_0x59fd9b(0x473)](_0x262ea4=>_0x262ea4['answered'])[_0x59fd9b(0xa90)],_0x5e0509=_0x39e735===_0x1ac503['length']&&_0x1ac503[_0x59fd9b(0xa90)]>0x0,_0x57b435=(_0x135873[_0x59fd9b(0x4d1)]||[])[_0x59fd9b(0xa26)](_0x4d010d=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x4d010d+'</div>')['join']('');liveGameView[_0x59fd9b(0x3e3)]=_0x59fd9b(0xc39)+(_0x7b8658+0x1)+_0x59fd9b(0xbbf)+_0xce231b+_0x59fd9b(0x167)+_0x39e735+'/'+_0x1ac503[_0x59fd9b(0xa90)]+_0x59fd9b(0x7be)+_0x135873[_0x59fd9b(0x2b3)]+_0x59fd9b(0x6b4)+_0x57b435+_0x59fd9b(0x319)+(!_0x5e0509?_0x59fd9b(0x78a):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window['MathJax'])MathJax['typesetPromise']();document[_0x59fd9b(0x1c2)](_0x59fd9b(0x134))[_0x59fd9b(0xa37)](_0x59fd9b(0xbdd),async()=>{const _0x1e5f54=_0x59fd9b,_0x5a85f8=doc(db,_0x1e5f54(0xbc5)+appId+_0x1e5f54(0x1be),currentLiveGameId);await updateDoc(_0x5a85f8,{'status':'results'});}),document[_0x59fd9b(0x1c2)](_0x59fd9b(0x183))[_0x59fd9b(0xa41)]=()=>{const _0x377e32=_0x59fd9b;openScratchpad(_0x135873,_0x135873[_0x377e32(0x4d1)]||[]);},document[_0x59fd9b(0x1c2)]('sync-manage-players-btn')[_0x59fd9b(0xa37)](_0x59fd9b(0xbdd),()=>{const _0x4bfae7=_0x59fd9b;document[_0x4bfae7(0x1c2)]('sync-player-management')[_0x4bfae7(0x12e)][_0x4bfae7(0x770)]('hidden');});}function renderSyncLeaderboardView(_0x1f38c3,_0x4cbf37){const _0x4542de=_0x4e7cd8,_0x4851e5=Object[_0x4542de(0x9a6)](_0x1f38c3[_0x4542de(0xb3e)]||{});_0x4851e5[_0x4542de(0x327)]((_0x5489a9,_0x21ec4b)=>_0x21ec4b[_0x4542de(0xb20)]-_0x5489a9[_0x4542de(0xb20)]);const _0x4d9e5d=_0x4851e5[_0x4542de(0xb79)](0x0,0x5);let _0x1e7052='';if(_0x4cbf37){const _0x5c05ab=_0x1f38c3[_0x4542de(0x628)]>=_0x1f38c3[_0x4542de(0x151)][_0x4542de(0x966)][_0x4542de(0xa90)]-0x1;_0x1e7052=_0x4542de(0x305)+(_0x5c05ab?_0x4542de(0x833):_0x4542de(0x232))+_0x4542de(0x5a6);}else _0x1e7052=_0x4542de(0x6bb);liveGameView[_0x4542de(0x3e3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x4d9e5d[_0x4542de(0xa26)]((_0x33b6d8,_0x2ae33d)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x2ae33d+0x1)+'.\x20'+_0x33b6d8[_0x4542de(0x82b)]+_0x4542de(0x123)+_0x33b6d8[_0x4542de(0xb20)]+'</span></div>')[_0x4542de(0xab6)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e7052+_0x4542de(0x6f9),_0x4cbf37&&document[_0x4542de(0x1c2)]('next-sync-question-btn')[_0x4542de(0xa37)](_0x4542de(0xbdd),async()=>{const _0x318810=_0x4542de,_0x45b2a8=doc(db,'artifacts/'+appId+_0x318810(0x1be),currentLiveGameId),_0x53d292=_0x1f38c3['currentQuestionIndex']+0x1;if(_0x53d292<_0x1f38c3[_0x318810(0x151)][_0x318810(0x966)][_0x318810(0xa90)]){const _0x4352da={};Object['keys'](_0x1f38c3[_0x318810(0xb3e)])[_0x318810(0x8ca)](_0x39e07a=>{const _0x3b961b=_0x318810;_0x4352da[_0x3b961b(0x47f)+_0x39e07a+_0x3b961b(0x7d5)]=![];}),await updateDoc(_0x45b2a8,{..._0x4352da,'status':_0x318810(0x3cb),'currentQuestionIndex':_0x53d292,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x45b2a8,{'status':_0x318810(0xab0)});});}async function handleJoinSyncGame(){const _0x1955ec=_0x4e7cd8,_0x36e948=prompt(_0x1955ec(0x558));if(!_0x36e948||_0x36e948[_0x1955ec(0x492)]()['length']!==0x2){showMessage(_0x1955ec(0xb45));return;}try{const _0x29d617=collection(db,_0x1955ec(0xbc5)+appId+_0x1955ec(0x1be)),_0xb6e3ff=query(_0x29d617,where(_0x1955ec(0x753),'==',_0x36e948['trim']()),where(_0x1955ec(0xb37),'==','lobby')),_0x2829d1=await getDocs(_0xb6e3ff);if(_0x2829d1[_0x1955ec(0x25c)]){showMessage(_0x1955ec(0x9b4));return;}const _0x27a948=_0x2829d1[_0x1955ec(0x378)][0x0];currentLiveGameId=_0x27a948['id'];const _0x4cd74a=_0x27a948[_0x1955ec(0x921)](),_0x44188d=doc(db,_0x1955ec(0xbc5)+appId+_0x1955ec(0x5e2),_0x4cd74a['quizId']),_0xad9923=await getDoc(_0x44188d);if(!_0xad9923[_0x1955ec(0x7b7)]())throw new Error(_0x1955ec(0xc17));const _0x341130=_0xad9923[_0x1955ec(0x921)](),_0xcd9759=doc(db,_0x1955ec(0xbc5)+appId+_0x1955ec(0x6e3),_0x341130[_0x1955ec(0xa4a)]),_0x4cfe92=await getDoc(_0xcd9759);if(!_0x4cfe92[_0x1955ec(0x7b7)]())throw new Error(_0x1955ec(0x6de));currentQuizData=_0x4cd74a[_0x1955ec(0x151)];const _0x515894=_0x4cfe92[_0x1955ec(0x921)]();showView(_0x1955ec(0xa2c)),showTeamPlayerSelection(_0x515894[_0x1955ec(0x7f0)],_0x341130[_0x1955ec(0xcaf)]);const _0x5adc7a=document[_0x1955ec(0x1c2)](_0x1955ec(0x95c));_0x5adc7a['onclick']=confirmAndJoinSyncGame;}catch(_0x2a805d){console[_0x1955ec(0x2da)](_0x1955ec(0x554),_0x2a805d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2a805d[_0x1955ec(0x516)]);}}function updateStudentSyncView(_0x5388de){const _0x4ce2df=_0x4e7cd8,_0x31b3b0=_0x5388de['players'][localTeamPlayers[0x0]];switch(_0x5388de[_0x4ce2df(0xb37)]){case _0x4ce2df(0x971):showView(_0x4ce2df(0x94d)),liveGameView[_0x4ce2df(0x3e3)]=_0x4ce2df(0xb3a);break;case _0x4ce2df(0x3cb):const _0xddc38b=localTeamPlayers[_0x4ce2df(0x46f)](_0x178a8d=>_0x5388de[_0x4ce2df(0xb3e)][_0x178a8d]?.[_0x4ce2df(0x810)]===!![]);_0xddc38b?liveGameView[_0x4ce2df(0x3e3)]=_0x4ce2df(0x47d):renderStudentSyncQuestionView(_0x5388de);break;case _0x4ce2df(0x1b8):liveGameView[_0x4ce2df(0x3e3)]=_0x4ce2df(0x25e);break;case'results':localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x5388de);break;case _0x4ce2df(0xab0):sessionStorage[_0x4ce2df(0xc4b)](_0x4ce2df(0xa7c));const _0x5697f0=calculateFinalPodiumScores(_0x5388de);showPodiumView(_0x5697f0,_0x4ce2df(0xa3d));break;}}function renderStudentSyncResultsView(_0x39f053){const _0x518ca9=_0x4e7cd8,_0x42dde1=localTeamPlayers[_0x518ca9(0xa26)](_0x38e7d8=>_0x39f053[_0x518ca9(0xb3e)][_0x38e7d8])[_0x518ca9(0x473)](Boolean);_0x42dde1['sort']((_0xc890bf,_0x1fcaa6)=>(_0x1fcaa6['score']||0x0)-(_0xc890bf[_0x518ca9(0xb20)]||0x0));const _0x113ba1=_0x39f053[_0x518ca9(0x628)]>=_0x39f053[_0x518ca9(0x151)][_0x518ca9(0x966)]['length']-0x1;let _0x44f8ab='';_0x113ba1?_0x44f8ab=_0x518ca9(0xa46):_0x44f8ab=_0x518ca9(0xa81);const _0x2e08ea=_0x518ca9(0x886)+_0x42dde1[_0x518ca9(0xa26)]((_0x492447,_0x26e8e1)=>_0x518ca9(0xc7e)+(_0x26e8e1+0x1)+_0x518ca9(0x673)+_0x492447[_0x518ca9(0x82b)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x492447[_0x518ca9(0xb20)]+_0x518ca9(0x190))[_0x518ca9(0xab6)]('')+_0x518ca9(0x866)+_0x44f8ab+_0x518ca9(0xb94);liveGameView[_0x518ca9(0x3e3)]=_0x2e08ea;}function renderStudentSyncQuestionView(_0x1d26d6){const _0x30a2c5=_0x4e7cd8;while(localPlayerTurnIndex<localTeamPlayers[_0x30a2c5(0xa90)]&&_0x1d26d6[_0x30a2c5(0xb3e)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x30a2c5(0x810)]===!![]){localPlayerTurnIndex++;}const _0x30be88=localTeamPlayers[localPlayerTurnIndex];if(!_0x30be88)return;const _0x5c9702=_0x1d26d6[_0x30a2c5(0x628)],_0x259ec5=_0x1d26d6[_0x30a2c5(0x151)][_0x30a2c5(0x966)][_0x30a2c5(0xa90)],_0x2d72a0=_0x1d26d6[_0x30a2c5(0x151)][_0x30a2c5(0x966)][_0x5c9702],_0x485f4f=_0x2d72a0[_0x30a2c5(0x93a)]||_0x1d26d6[_0x30a2c5(0x151)][_0x30a2c5(0x769)];let _0x5d7697='',_0x16b473=![];switch(_0x485f4f){case _0x30a2c5(0x7f4):_0x5d7697=_0x30a2c5(0x1d7);break;case'short_answer':case _0x30a2c5(0x4df):_0x16b473=!![],_0x5d7697='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x16b473=!![],_0x5d7697=_0x30a2c5(0x60f)+(_0x2d72a0[_0x30a2c5(0x998)]||[])[_0x30a2c5(0xa26)](_0x1ab4a1=>_0x30a2c5(0xc29)+_0x1ab4a1+'\x22>'+_0x1ab4a1+_0x30a2c5(0x848))[_0x30a2c5(0xab6)]('')+_0x30a2c5(0x98b);break;case'multiple_choice':default:_0x5d7697=(_0x2d72a0[_0x30a2c5(0x4d1)]||[])[_0x30a2c5(0xa26)]((_0x439583,_0x549225)=>_0x30a2c5(0x44b)+_0x549225+_0x30a2c5(0x699)+_0x439583+_0x30a2c5(0x2b5))[_0x30a2c5(0xab6)]('');break;}liveGameView[_0x30a2c5(0x3e3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x5c9702+0x1)+'\x20/\x20'+_0x259ec5+_0x30a2c5(0x1d4)+_0x30be88+_0x30a2c5(0x5a8)+(_0x2d72a0[_0x30a2c5(0x2b3)]||_0x2d72a0[_0x30a2c5(0x732)])+_0x30a2c5(0x3c6)+_0x5d7697+_0x30a2c5(0x8ba);if(window[_0x30a2c5(0x196)])MathJax['typesetPromise']();function _0x297e30(_0x3dffe2,_0xe524eb,_0xe8df07,_0x1417fc){const _0x5a1368=_0x30a2c5,_0x5f19f9=_0xe8df07[_0x5a1368(0x3e8)]===!![];if(_0x5f19f9){document['getElementById']('confidence-modal')['dataset'][_0x5a1368(0x142)]=_0x5a1368(0xa3d);const _0x326036=document[_0x5a1368(0x1c2)]('selected-answer-index-hidden');_0x326036[_0x5a1368(0x928)][_0x5a1368(0x24a)]=_0x3dffe2,_0x326036[_0x5a1368(0x928)][_0x5a1368(0x3cb)]=JSON[_0x5a1368(0x462)](_0xe524eb),_0x326036['dataset'][_0x5a1368(0x1e4)]=JSON[_0x5a1368(0x462)](_0xe8df07),_0x326036['dataset'][_0x5a1368(0x264)]=_0x1417fc,document[_0x5a1368(0x1c2)](_0x5a1368(0x955))['classList'][_0x5a1368(0x1f9)](_0x5a1368(0x30a));}else handleSyncAnswerSubmit(_0x3dffe2,_0xe524eb,_0xe8df07,_0x1417fc,![]);}_0x16b473?document['getElementById'](_0x30a2c5(0xba2))[_0x30a2c5(0xa37)](_0x30a2c5(0xbdd),()=>{const _0x21b450=_0x30a2c5,_0x35bd94=document[_0x21b450(0x1c2)](_0x21b450(0x14c))||document[_0x21b450(0x1c2)](_0x21b450(0x459));if(_0x35bd94['value'][_0x21b450(0x492)]()===''){showMessage(_0x21b450(0xa7f));return;}_0x297e30(_0x35bd94[_0x21b450(0x9f1)],_0x2d72a0,_0x1d26d6,_0x30be88);}):document['querySelectorAll'](_0x30a2c5(0x7d4))[_0x30a2c5(0x8ca)](_0x78925c=>{const _0x5b55c5=_0x30a2c5;_0x78925c[_0x5b55c5(0xa37)](_0x5b55c5(0xbdd),()=>{const _0x1a74cb=_0x5b55c5;_0x297e30(_0x78925c[_0x1a74cb(0x928)][_0x1a74cb(0x9f1)],_0x2d72a0,_0x1d26d6,_0x30be88);});});}async function handleSyncAnswerSubmit(_0x512e5c,_0x105093,_0x274663,_0x12582d,_0x598c59){const _0x396ccc=_0x4e7cd8;document[_0x396ccc(0x9f4)](_0x396ccc(0x7c8))[_0x396ccc(0x8ca)](_0x127a15=>_0x127a15[_0x396ccc(0x78a)]=!![]);const _0x2f687f=_0x105093['questionType']||_0x274663['shuffledQuiz'][_0x396ccc(0x769)];let _0x174151=![],_0x297c40=_0x512e5c;switch(_0x2f687f){case'true_false':const _0x4cf588=parseInt(_0x512e5c),_0x2e9845=_0x105093[_0x396ccc(0x209)]===!![]||String(_0x105093[_0x396ccc(0x209)])['toLowerCase']()===_0x396ccc(0xaa3);_0x174151=_0x4cf588===0x0&&_0x2e9845||_0x4cf588===0x1&&!_0x2e9845,_0x297c40=_0x4cf588===0x0?_0x396ccc(0x22a):'ไม่ใช่\x20/\x20ผิด';break;case _0x396ccc(0xc3f):case _0x396ccc(0x4df):_0x174151=await gradeShortAnswer(_0x512e5c,_0x105093);break;case _0x396ccc(0x220):_0x174151=_0x512e5c===_0x105093[_0x396ccc(0x47a)];break;case _0x396ccc(0x4bb):default:const _0x2289fc=parseInt(_0x512e5c);_0x174151=_0x2289fc===_0x105093[_0x396ccc(0xcab)];_0x105093[_0x396ccc(0x4d1)]&&_0x105093[_0x396ccc(0x4d1)][_0x2289fc]&&(_0x297c40=_0x105093[_0x396ccc(0x4d1)][_0x2289fc]);break;}const _0x3f3d18=_0x174151?0x1:0x0,_0x1140ab=doc(db,_0x396ccc(0xbc5)+appId+'/public/data/syncGames',currentLiveGameId),_0x4a01ed={};_0x4a01ed['players.'+_0x12582d+_0x396ccc(0x3e1)]=increment(_0x3f3d18),_0x4a01ed[_0x396ccc(0x47f)+_0x12582d+'.answered']=!![];let _0x284994=null;(_0x2f687f===_0x396ccc(0x4bb)||_0x2f687f===_0x396ccc(0x7f4)||_0x2f687f===_0x396ccc(0xc96))&&(_0x284994=parseInt(_0x512e5c));_0x4a01ed['players.'+_0x12582d+_0x396ccc(0x610)]=_0x284994;const _0x57a371={'questionIndex':_0x274663[_0x396ccc(0x628)],'questionId':_0x105093['id'],'answer':_0x512e5c,'answerText':_0x297c40,'isCorrect':_0x174151,'originalQuestionText':_0x105093['questionText']||_0x105093['stem'],'wasConfident':_0x598c59};_0x4a01ed['players.'+_0x12582d+_0x396ccc(0x47e)]=arrayUnion(_0x57a371),await updateDoc(_0x1140ab,_0x4a01ed);}initialize();
