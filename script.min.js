const _0x2ee497=_0x1ea5;(function(_0x1c4f69,_0x74b3f){const _0x63b6e6=_0x1ea5,_0x5f33f5=_0x1c4f69();while(!![]){try{const _0x1069d5=parseInt(_0x63b6e6(0x50c))/0x1+-parseInt(_0x63b6e6(0x179))/0x2+parseInt(_0x63b6e6(0x1fc))/0x3+parseInt(_0x63b6e6(0x2ac))/0x4*(-parseInt(_0x63b6e6(0x8cb))/0x5)+-parseInt(_0x63b6e6(0x633))/0x6*(-parseInt(_0x63b6e6(0x85d))/0x7)+-parseInt(_0x63b6e6(0x84c))/0x8+-parseInt(_0x63b6e6(0x5d5))/0x9*(parseInt(_0x63b6e6(0x436))/0xa);if(_0x1069d5===_0x74b3f)break;else _0x5f33f5['push'](_0x5f33f5['shift']());}catch(_0x59c449){_0x5f33f5['push'](_0x5f33f5['shift']());}}}(_0x5bdc,0x4e406));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x3c78ef=_0x1ea5;if(_0x3c78ef(0x3ed)in navigator)try{wakeLock=await navigator[_0x3c78ef(0x3ed)][_0x3c78ef(0x893)]('screen'),console[_0x3c78ef(0x650)](_0x3c78ef(0x222)),wakeLock['addEventListener'](_0x3c78ef(0x561),()=>{const _0x28c2e9=_0x3c78ef;console[_0x28c2e9(0x650)](_0x28c2e9(0x10a));});}catch(_0x197aab){console[_0x3c78ef(0x4e7)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x197aab[_0x3c78ef(0x2eb)]+',\x20'+_0x197aab[_0x3c78ef(0x63d)]);}else console[_0x3c78ef(0x747)](_0x3c78ef(0x3a8));},releaseWakeLock=async()=>{const _0x4a7a42=_0x1ea5;wakeLock!==null&&(await wakeLock[_0x4a7a42(0x561)](),wakeLock=null,console[_0x4a7a42(0x650)](_0x4a7a42(0x869)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x45a4f5=_0x1ea5;if(dimTimer)clearTimeout(dimTimer);document[_0x45a4f5(0x7c6)][_0x45a4f5(0xe6)][_0x45a4f5(0x728)](_0x45a4f5(0x1c9)),dimTimer=setTimeout(()=>{const _0xc5208c=_0x45a4f5;document[_0xc5208c(0x7c6)][_0xc5208c(0xe6)][_0xc5208c(0x34f)]('dimmed'),console[_0xc5208c(0x650)](_0xc5208c(0x75c));},inactivityTime);}function stopDimTimer(){const _0x265f66=_0x1ea5;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x265f66(0xe6)][_0x265f66(0x728)](_0x265f66(0x1c9)),window['removeEventListener'](_0x265f66(0x623),resetDimTimer),window[_0x265f66(0x7c1)](_0x265f66(0x145),resetDimTimer),window[_0x265f66(0x7c1)](_0x265f66(0x799),resetDimTimer),window['removeEventListener'](_0x265f66(0x7ce),resetDimTimer),console['log'](_0x265f66(0x8b9));}let modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x2ee497(0x813),'pinnedProjects':[],'projectView':_0x2ee497(0x6f8)};const allMathTopics=[{'category':_0x2ee497(0x684),'name':_0x2ee497(0x463)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x2c7)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x50a)},{'category':_0x2ee497(0x684),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x2ee497(0x684),'name':'การบวก'},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x8aa)},{'category':'จำนวนและการดำเนินการ','name':_0x2ee497(0x33c)},{'category':'จำนวนและการดำเนินการ','name':_0x2ee497(0x5fe)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x25a)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x38f)},{'category':_0x2ee497(0x684),'name':'ศูนย์'},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x2e5)},{'category':_0x2ee497(0x684),'name':'เส้นจำนวน'},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x780)},{'category':_0x2ee497(0x684),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x2ee497(0x4c8)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x643)},{'category':_0x2ee497(0x684),'name':'อัตราและอัตราหน่วย'},{'category':_0x2ee497(0x684),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x2ee497(0x684),'name':'การบวกเศษส่วน'},{'category':_0x2ee497(0x684),'name':'การลบเศษส่วน'},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x306)},{'category':_0x2ee497(0x684),'name':'การหารเศษส่วน'},{'category':_0x2ee497(0x684),'name':'จำนวนคละ'},{'category':'จำนวนและการดำเนินการ','name':_0x2ee497(0x4e8)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x7fc)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x7cf)},{'category':'จำนวนและการดำเนินการ','name':_0x2ee497(0x68e)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0xeb)},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x4bf)},{'category':_0x2ee497(0x684),'name':'ร้อยละพื้นฐาน'},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x42b)},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':_0x2ee497(0x3e5)},{'category':_0x2ee497(0x684),'name':'รากที่สองและที่สาม'},{'category':_0x2ee497(0x684),'name':_0x2ee497(0x391)},{'category':'จำนวนและการดำเนินการ','name':_0x2ee497(0x2c5)},{'category':_0x2ee497(0x534),'name':'หน่วยความยาวและการแปลง'},{'category':_0x2ee497(0x534),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x2ee497(0x534),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x2ee497(0x534),'name':_0x2ee497(0x507)},{'category':_0x2ee497(0x534),'name':_0x2ee497(0x316)},{'category':_0x2ee497(0x534),'name':'เส้นรอบรูป'},{'category':_0x2ee497(0x534),'name':_0x2ee497(0x2af)},{'category':'การวัด','name':_0x2ee497(0x6d7)},{'category':_0x2ee497(0x534),'name':_0x2ee497(0x498)},{'category':'การวัด','name':_0x2ee497(0x7b8)},{'category':_0x2ee497(0x534),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x2ee497(0x534),'name':'มุมและการวัดมุม'},{'category':_0x2ee497(0x534),'name':'สเกลและแผนที่'},{'category':'การวัด','name':_0x2ee497(0x3ee)},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x40d)},{'category':_0x2ee497(0x65f),'name':'ความสัมพันธ์ของมุม'},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x8a1)},{'category':'เรขาคณิต','name':_0x2ee497(0x6d7)},{'category':'เรขาคณิต','name':_0x2ee497(0x1d9)},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x64e)},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x5fc)},{'category':'เรขาคณิต','name':_0x2ee497(0x7e7)},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x268)},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x62d)},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x753)},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x861)},{'category':_0x2ee497(0x65f),'name':_0x2ee497(0x6f2)},{'category':'เรขาคณิต','name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x2ee497(0x65f),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x132)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x1ae)},{'category':'พีชคณิตและฟังก์ชัน','name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2ee497(0x334)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x851)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2ee497(0x757)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x19c)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x438)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x4d7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2ee497(0x555)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2ee497(0xc8)},{'category':_0x2ee497(0x310),'name':'สมการยกกำลัง'},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x1c5)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x71b)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x7d8)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x3b6)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x63f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2ee497(0x69e)},{'category':'พีชคณิตและฟังก์ชัน','name':'องค์ประกอบของฟังก์ชัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2ee497(0x35b)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x697)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x8b0)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x40e)},{'category':_0x2ee497(0x310),'name':'ฟังก์ชันพหุนาม'},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x843)},{'category':_0x2ee497(0x310),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x60d)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x596)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x3c7)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x207)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x770)},{'category':_0x2ee497(0x310),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x2ee497(0x310),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x7e2)},{'category':_0x2ee497(0x310),'name':_0x2ee497(0x541)},{'category':_0x2ee497(0x2be),'name':_0x2ee497(0x11e)},{'category':'เรขาคณิตวิเคราะห์','name':'ความชันและเส้นตรง'},{'category':_0x2ee497(0x2be),'name':_0x2ee497(0x49d)},{'category':'เรขาคณิตวิเคราะห์','name':_0x2ee497(0x65c)},{'category':_0x2ee497(0x2be),'name':_0x2ee497(0xcd)},{'category':_0x2ee497(0x2be),'name':_0x2ee497(0x340)},{'category':_0x2ee497(0x2be),'name':'พาราโบลา'},{'category':'เรขาคณิตวิเคราะห์','name':_0x2ee497(0x3fc)},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x2ee497(0x599),'name':_0x2ee497(0x43e)},{'category':'ตรีโกณมิติ','name':_0x2ee497(0x60b)},{'category':_0x2ee497(0x599),'name':_0x2ee497(0x496)},{'category':_0x2ee497(0x599),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x2ee497(0x599),'name':_0x2ee497(0x458)},{'category':_0x2ee497(0x599),'name':_0x2ee497(0x74e)},{'category':_0x2ee497(0x599),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x2ee497(0x599),'name':_0x2ee497(0x83f)},{'category':'ตรีโกณมิติ','name':_0x2ee497(0x47e)},{'category':_0x2ee497(0x599),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x14a)},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x61d)},{'category':_0x2ee497(0x7d2),'name':'ตารางความถี่'},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x71c)},{'category':_0x2ee497(0x7d2),'name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x589)},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0xee)},{'category':_0x2ee497(0x7d2),'name':'ฐานนิยม'},{'category':_0x2ee497(0x7d2),'name':'พิสัย'},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x497)},{'category':'สถิติและความน่าจะเป็น','name':_0x2ee497(0x8ba)},{'category':'สถิติและความน่าจะเป็น','name':_0x2ee497(0x34a)},{'category':'สถิติและความน่าจะเป็น','name':_0x2ee497(0x849)},{'category':_0x2ee497(0x7d2),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x7b7)},{'category':'สถิติและความน่าจะเป็น','name':'กฎบวกและกฎคูณ'},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x231)},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x2d5)},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x6bf)},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x523)},{'category':'สถิติและความน่าจะเป็น','name':_0x2ee497(0x2d0)},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x4cc)},{'category':_0x2ee497(0x7d2),'name':_0x2ee497(0x5f5)},{'category':_0x2ee497(0x682),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x2ee497(0x7ae)},{'category':_0x2ee497(0x682),'name':_0x2ee497(0x769)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2ee497(0x7df)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2ee497(0x3eb)},{'category':_0x2ee497(0x682),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x2ee497(0x682),'name':'ความชันเส้นสัมผัส'},{'category':_0x2ee497(0x682),'name':_0x2ee497(0x7ff)},{'category':_0x2ee497(0x682),'name':_0x2ee497(0x766)},{'category':_0x2ee497(0x682),'name':_0x2ee497(0x485)},{'category':_0x2ee497(0x682),'name':_0x2ee497(0x6b3)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2ee497(0x269)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2ee497(0x6e6)},{'category':_0x2ee497(0x826),'name':_0x2ee497(0x3ce)},{'category':_0x2ee497(0x826),'name':_0x2ee497(0x536)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2ee497(0x7dc)},{'category':_0x2ee497(0x826),'name':_0x2ee497(0x601)},{'category':_0x2ee497(0x826),'name':_0x2ee497(0x258)},{'category':_0x2ee497(0x826),'name':_0x2ee497(0x79d)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2ee497(0x1e5)},{'category':_0x2ee497(0x5b0),'name':_0x2ee497(0x742)},{'category':_0x2ee497(0x5b0),'name':_0x2ee497(0x11b)},{'category':_0x2ee497(0x5b0),'name':_0x2ee497(0x866)},{'category':_0x2ee497(0x5b0),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2ee497(0xe5)},{'category':_0x2ee497(0x3b1),'name':_0x2ee497(0x1f8)},{'category':_0x2ee497(0x3b1),'name':_0x2ee497(0x524)},{'category':_0x2ee497(0x3b1),'name':_0x2ee497(0x70a)}];function renderTopicCheckboxes(){const _0x401c05=_0x2ee497,_0x55bb37=document[_0x401c05(0x339)](_0x401c05(0x71e));if(!_0x55bb37)return;const _0x36cee6=allMathTopics,_0x366376=customMathTopics[_0x401c05(0x71d)](_0x1f121f=>({'id':_0x1f121f['id'],'category':_0x401c05(0x841),'name':_0x1f121f[_0x401c05(0x2eb)]})),_0x39d673=[..._0x36cee6,..._0x366376],_0x563168=_0x39d673[_0x401c05(0x24a)]((_0x4515dd,_0x16fb4d)=>{const _0xd26c83=_0x401c05;return!_0x4515dd[_0x16fb4d['category']]&&(_0x4515dd[_0x16fb4d[_0xd26c83(0x153)]]=[]),_0x4515dd[_0x16fb4d[_0xd26c83(0x153)]]['push'](_0x16fb4d),_0x4515dd;},{});let _0x25ace7='';const _0x59fffd=[_0x401c05(0x841),...Object[_0x401c05(0x58b)](_0x563168)[_0x401c05(0x802)](_0x3f2839=>_0x3f2839!==_0x401c05(0x841))];for(const _0x3b074a of _0x59fffd){if(_0x563168[_0x3b074a]){const _0x5af082=_0x3b074a===_0x401c05(0x841),_0xfcdc9f=_0x5af082?_0x401c05(0x3f1):'fas\x20fa-bookmark',_0x21f7ec=_0x5af082?_0x401c05(0x89f):_0x401c05(0x565);_0x25ace7+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x25ace7+=_0x401c05(0x28a)+_0x21f7ec+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0xfcdc9f+_0x401c05(0x3a6)+_0x3b074a+_0x401c05(0x174),_0x563168[_0x3b074a][_0x401c05(0x2f1)](_0xc01e15=>{const _0x4d69ad=_0x401c05,_0x4707a6=!!_0xc01e15['id'],_0x34aad1=_0x4707a6?_0x4d69ad(0x43f)+_0xc01e15['id']+_0x4d69ad(0x206)+_0xc01e15['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xc01e15['id']+_0x4d69ad(0xfa)+_0xc01e15['id']+_0x4d69ad(0x527):'';_0x25ace7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0xc01e15['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0xc01e15[_0x4d69ad(0x2eb)]+_0x4d69ad(0x6ac)+_0xc01e15['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4707a6?_0x4d69ad(0x313)+_0xc01e15[_0x4d69ad(0x2eb)]+'\x22>':'')+_0x4d69ad(0x3af)+_0x34aad1+_0x4d69ad(0x1c4);}),_0x25ace7+=_0x401c05(0x22a);}}_0x55bb37[_0x401c05(0x7de)]=_0x25ace7||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x55bb37[_0x401c05(0x7c1)](_0x401c05(0x31d),updateSelectedTopicsCount),_0x55bb37[_0x401c05(0x834)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3526a7,_0x3f8080){const _0x43e77c=_0x2ee497;if(!_0x3526a7||!_0x3f8080[_0x43e77c(0x6df)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x5a1e68=doc(db,_0x43e77c(0x100)+appId+_0x43e77c(0x4fb),_0x3526a7);await updateDoc(_0x5a1e68,{'name':_0x3f8080[_0x43e77c(0x6df)]()}),showMessage(_0x43e77c(0x1b7));}catch(_0x14d711){console[_0x43e77c(0x4e7)](_0x43e77c(0x2f6),_0x14d711),showMessage(_0x43e77c(0x19d));}}function toggleTopicEditMode(_0x9b0962,_0x402f83){const _0xbbb317=_0x2ee497;if(!_0x9b0962)return;const _0x14d86b=_0x9b0962[_0xbbb317(0x205)](_0xbbb317(0x75d)),_0x2e1ea6=_0x9b0962[_0xbbb317(0x205)](_0xbbb317(0x4d0)),_0x3495b8=_0x9b0962[_0xbbb317(0x205)](_0xbbb317(0x6ba)),_0xb1446c=_0x9b0962[_0xbbb317(0x205)](_0xbbb317(0x476));_0x14d86b[_0xbbb317(0xe6)][_0xbbb317(0x634)](_0xbbb317(0x730),_0x402f83),_0x2e1ea6[_0xbbb317(0xe6)][_0xbbb317(0x634)]('hidden',!_0x402f83),_0x3495b8['classList']['toggle']('hidden',_0x402f83),_0xb1446c[_0xbbb317(0xe6)][_0xbbb317(0x634)](_0xbbb317(0x730),!_0x402f83),_0x402f83&&(_0x2e1ea6['focus'](),_0x2e1ea6[_0xbbb317(0x8c1)]());}function updateSelectedTopicsCount(){const _0x57f374=_0x2ee497,_0x465460=document[_0x57f374(0x339)](_0x57f374(0x71e)),_0x17c884=_0x465460['querySelectorAll'](_0x57f374(0x2b1))[_0x57f374(0x2fe)],_0x14a777=document[_0x57f374(0x339)](_0x57f374(0x486));_0x17c884>0x0?_0x14a777[_0x57f374(0x477)]=_0x57f374(0x645)+_0x17c884+_0x57f374(0x4b3):_0x14a777[_0x57f374(0x477)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2ee497(0x189),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x2ee497(0x46b),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x2ee497(0x29f),'name':_0x2ee497(0x56f),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x2ee497(0x73e),'name':_0x2ee497(0x5be),'description':_0x2ee497(0xf1),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x2ee497(0x54a),'name':_0x2ee497(0x4c5),'description':_0x2ee497(0x885),'icon':_0x2ee497(0x560)},'FIRST_TRY_ACE':{'id':_0x2ee497(0x116),'name':_0x2ee497(0x88d),'description':_0x2ee497(0x381),'icon':_0x2ee497(0x37e)},'COMEBACK_KING':{'id':_0x2ee497(0x890),'name':_0x2ee497(0x664),'description':_0x2ee497(0x415),'icon':_0x2ee497(0x5af)},'SPECIALIST':{'id':_0x2ee497(0x5c4),'name':_0x2ee497(0x2cf),'description':_0x2ee497(0x63c),'icon':_0x2ee497(0x685)},'PERSEVERANCE':{'id':'perseverance','name':_0x2ee497(0x5b5),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x2ee497(0x7a4)}},firebaseConfig={'apiKey':_0x2ee497(0x1bf),'authDomain':_0x2ee497(0x18a),'projectId':_0x2ee497(0x273),'storageBucket':_0x2ee497(0x83b),'messagingSenderId':'274192258111','appId':_0x2ee497(0x341),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x2ee497(0x4fe)?__app_id:_0x2ee497(0x146),adminView=document['getElementById'](_0x2ee497(0x760)),studentView=document['getElementById'](_0x2ee497(0x47f)),projectDashboardView=document['getElementById']('project-dashboard-view'),projectDetailView=document['getElementById'](_0x2ee497(0x817)),quizResultsView=document[_0x2ee497(0x339)](_0x2ee497(0x5ed)),projectList=document['getElementById'](_0x2ee497(0x2c2)),noProjectsMsg=document[_0x2ee497(0x339)](_0x2ee497(0x584)),projectTitle=document['getElementById'](_0x2ee497(0x19f)),projectIdDisplay=document['getElementById'](_0x2ee497(0x25f)),studentList=document[_0x2ee497(0x339)](_0x2ee497(0x236)),messageModal=document[_0x2ee497(0x339)]('message-modal'),modalMessage=document['getElementById'](_0x2ee497(0x89c)),createProjectModal=document[_0x2ee497(0x339)](_0x2ee497(0x51d)),adminPasswordModal=document['getElementById']('admin-password-modal'),confirmationModal=document['getElementById'](_0x2ee497(0x6f5)),userIdDisplay=document[_0x2ee497(0x339)](_0x2ee497(0x3b7)),topicTab=document[_0x2ee497(0x339)](_0x2ee497(0x295)),textTab=document[_0x2ee497(0x339)](_0x2ee497(0x7d4)),topicInputArea=document['getElementById'](_0x2ee497(0x439)),textInputArea=document[_0x2ee497(0x339)]('text-input-area'),manageTab=document[_0x2ee497(0x339)](_0x2ee497(0x3d2)),resultsTab=document['getElementById'](_0x2ee497(0x472)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document[_0x2ee497(0x339)](_0x2ee497(0x4c3)),resultsTabContent=document[_0x2ee497(0x339)](_0x2ee497(0x350)),leaderboardTabContent=document['getElementById'](_0x2ee497(0x5e3)),projectQuizzesList=document[_0x2ee497(0x339)](_0x2ee497(0x278)),fileTab=document[_0x2ee497(0x339)](_0x2ee497(0x35e)),fileInputArea=document[_0x2ee497(0x339)](_0x2ee497(0x1aa)),fileUploadInput=document['getElementById']('file-upload-input'),worksheetTab=document[_0x2ee497(0x339)](_0x2ee497(0x1f0)),worksheetInputArea=document[_0x2ee497(0x339)](_0x2ee497(0x343)),generateWorksheetBtn=document[_0x2ee497(0x339)]('generate-worksheet-btn'),studentInitialView=document[_0x2ee497(0x339)](_0x2ee497(0x430)),studentNameSelectionView=document['getElementById'](_0x2ee497(0x74c)),studentQuizArea=document[_0x2ee497(0x339)]('student-quiz-area'),studentResultArea=document[_0x2ee497(0x339)](_0x2ee497(0x803)),studentReadingArea=document[_0x2ee497(0x339)]('student-reading-area'),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x2ee497(0x339)](_0x2ee497(0x1eb)),studentJoinGameView=document['getElementById'](_0x2ee497(0x70c)),presentationModal=document[_0x2ee497(0x339)]('presentation-modal'),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0x2ee497(0x339)]('move-quiz-modal'),quizSettingsModal=document[_0x2ee497(0x339)](_0x2ee497(0x2f2)),quizStatusModal=document[_0x2ee497(0x339)](_0x2ee497(0x2e2)),liveGameView=document[_0x2ee497(0x339)](_0x2ee497(0x390));function handleAutoFixLatex(){const _0xd50e81=_0x2ee497,_0x43e540=document[_0xd50e81(0x339)](_0xd50e81(0x56a))||document,_0x16e3df=_0x43e540[_0xd50e81(0x450)]([_0xd50e81(0x593),_0xd50e81(0x594),_0xd50e81(0x4fa),'[role=\x22textbox\x22]',_0xd50e81(0x3d8),_0xd50e81(0x7ad),'.choice-text',_0xd50e81(0x6a5),_0xd50e81(0x44c)][_0xd50e81(0x8bf)](','));let _0xcef1c7=0x0;const _0x24eca1=_0x58b7b6=>'value'in _0x58b7b6?String(_0x58b7b6[_0xd50e81(0x2b8)]):_0x58b7b6['innerText']!==undefined?_0x58b7b6[_0xd50e81(0x856)]:_0x58b7b6[_0xd50e81(0x477)]||'',_0x3db0d6=(_0x1b11f7,_0x80c54f)=>{const _0x458432=_0xd50e81;if('value'in _0x1b11f7){_0x1b11f7[_0x458432(0x2b8)]=_0x80c54f;return;}if(_0x1b11f7[_0x458432(0x205)]&&_0x1b11f7[_0x458432(0x205)](_0x458432(0x768)))return;if(_0x1b11f7[_0x458432(0x856)]!==undefined)_0x1b11f7['innerText']=_0x80c54f;else _0x1b11f7['textContent']=_0x80c54f;},_0x3964fe=_0x3f6ff0=>_0x3f6ff0[_0xd50e81(0x16b)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0xd50e81(0x16b)](/\r\n?/g,'\x0a'),_0x2e6d40=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x92b318=_0x21a53d=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0xd50e81(0x29c)](_0x21a53d),_0x47204d=_0x14ca24=>{const _0x353e0b=_0xd50e81,_0x2c414a=(_0x14ca24[_0x353e0b(0x123)](/\{/g)||[])[_0x353e0b(0x2fe)],_0xb6e9ae=(_0x14ca24['match'](/\}/g)||[])[_0x353e0b(0x2fe)];if(_0x2c414a>_0xb6e9ae)_0x14ca24=_0x14ca24+'}'[_0x353e0b(0x78c)](_0x2c414a-_0xb6e9ae);return _0x14ca24;},_0x5259a4=_0x2ba964=>{const _0x4f403c=_0xd50e81;let _0x5eaf17=_0x2ba964[_0x4f403c(0x6df)]();const _0x5ca73b=['frac',_0x4f403c(0x66b),_0x4f403c(0x828),_0x4f403c(0x374),_0x4f403c(0x67c),_0x4f403c(0x58e),'cdot',_0x4f403c(0x172),_0x4f403c(0x53f),'geq','le','ge',_0x4f403c(0x2f8),'pm','approx',_0x4f403c(0x6fa),_0x4f403c(0x831),_0x4f403c(0x388),_0x4f403c(0x650),'ln','sum',_0x4f403c(0x736),'binom',_0x4f403c(0x82d),_0x4f403c(0x53a),_0x4f403c(0x467),_0x4f403c(0x6ee),_0x4f403c(0x8be),'deg'];_0x5eaf17=_0x5eaf17[_0x4f403c(0x16b)](new RegExp(_0x4f403c(0x5e4)+_0x5ca73b[_0x4f403c(0x8bf)]('|')+_0x4f403c(0x6cd),'g'),'\x5c'),_0x5ca73b[_0x4f403c(0x2f1)](_0x23fdb2=>{const _0x5b833c=_0x4f403c;_0x5eaf17=_0x5eaf17[_0x5b833c(0x16b)](new RegExp(_0x5b833c(0x72d)+_0x23fdb2+'\x5cb','g'),(_0x1c2a28,_0x1f294b)=>_0x1f294b+'\x5c'+_0x23fdb2);});const _0x53cc8c=[[/×/g,_0x4f403c(0x272)],[/·/g,_0x4f403c(0x630)],[/÷/g,'\x5cdiv'],[/≤/g,_0x4f403c(0x7bd)],[/≥/g,_0x4f403c(0x776)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,_0x4f403c(0x3f3)],[/−/g,'-']];_0x53cc8c[_0x4f403c(0x2f1)](([_0x1846fc,_0x229f84])=>{const _0x1bfdd2=_0x4f403c;_0x5eaf17=_0x5eaf17[_0x1bfdd2(0x16b)](_0x1846fc,_0x229f84);}),_0x5eaf17=_0x5eaf17['replace'](/√\s*\(([^)]*)\)/g,_0x4f403c(0x8a2)),_0x5eaf17=_0x5eaf17['replace'](/√\s*([A-Za-z0-9]+)/g,_0x4f403c(0x8a2)),_0x5eaf17=_0x5eaf17[_0x4f403c(0x16b)](/(^|[^\\])\bimes\b/g,_0x4f403c(0x433))[_0x4f403c(0x16b)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x4f403c(0x24c))[_0x4f403c(0x16b)](/(^|[^\\])ext\{/g,_0x4f403c(0x378))[_0x4f403c(0x16b)](/(^|[^\\])ext\(/g,_0x4f403c(0x5a9))[_0x4f403c(0x16b)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x4f403c(0x16b)](/\s\\frac/g,_0x4f403c(0x330)),_0x5eaf17=_0x5eaf17[_0x4f403c(0x16b)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x51171c,_0x229c28,_0x3e7915,_0x5e4781)=>_0x229c28+_0x4f403c(0x203)+_0x3e7915+'}{'+_0x5e4781+'}'),_0x5eaf17=_0x5eaf17[_0x4f403c(0x16b)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x4f403c(0x678))[_0x4f403c(0x16b)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x4f403c(0x678))[_0x4f403c(0x16b)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x4f403c(0x678)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x4f403c(0x754)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x4f403c(0x754)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x4f403c(0x754)],[/(\d+)\s*°\s*C/g,_0x4f403c(0x754)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x4f403c(0x754)]][_0x4f403c(0x2f1)](([_0x4ca7bc,_0x287797])=>{const _0x67abab=_0x4f403c;_0x5eaf17=_0x5eaf17[_0x67abab(0x16b)](_0x4ca7bc,_0x287797);}),_0x5eaf17=_0x5eaf17[_0x4f403c(0x16b)](/(\d+)\s*%/g,'$1\x5c%'),_0x5eaf17=_0x5eaf17[_0x4f403c(0x16b)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4f403c(0x58a))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x4f403c(0x746)),[_0x4f403c(0x6fa),_0x4f403c(0x831),'tan',_0x4f403c(0x650),'ln'][_0x4f403c(0x2f1)](_0x56417a=>{const _0xc068e8=_0x4f403c;_0x5eaf17=_0x5eaf17[_0xc068e8(0x16b)](new RegExp(_0xc068e8(0x72d)+_0x56417a+'\x5cs*\x5c(','g'),(_0x4cc230,_0x3f160d)=>_0x3f160d+'\x5c'+_0x56417a+'(');});const _0x498aa1=(_0x5eaf17['match'](/\\left\b/g)||[])['length'],_0x3f870b=(_0x5eaf17[_0x4f403c(0x123)](/\\right\b/g)||[])['length'];if(_0x498aa1!==_0x3f870b)_0x5eaf17=_0x5eaf17[_0x4f403c(0x16b)](/\\left\b/g,'')[_0x4f403c(0x16b)](/\\right\b/g,'');return _0x5eaf17=_0x47204d(_0x5eaf17),_0x5eaf17;},_0x301438=_0x3dd56f=>{const _0xbba49d=_0xd50e81;if(/\$|\\\(|\\\[/[_0xbba49d(0x29c)](_0x3dd56f))return _0x3dd56f;if(!_0x2e6d40[_0xbba49d(0x29c)](_0x3dd56f))return _0x3dd56f;const _0x4063b6=_0x3dd56f['match'](/^\s*/)[0x0],_0x592ce1=_0x3dd56f[_0xbba49d(0x123)](/\s*$/)[0x0],_0x3d922c=_0x3dd56f['trim']();return _0x4063b6+'$'+_0x5259a4(_0x3d922c)+'$'+_0x592ce1;},_0x42f9dc=_0x93cda3=>_0x93cda3[_0xd50e81(0x78a)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x16e3df[_0xd50e81(0x2f1)](_0x14de01=>{const _0x1ec796=_0xd50e81;if(_0x14de01[_0x1ec796(0x205)]&&_0x14de01[_0x1ec796(0x205)]('mjx-container'))return;const _0x52cc44=_0x24eca1(_0x14de01);let _0x4f0258=_0x3964fe(_0x52cc44);_0x4f0258=_0x4f0258['replace'](/\$\$([\s\S]*?)\$\$/g,(_0xca8d71,_0x4d1ad3)=>'$$'+_0x5259a4(_0x4d1ad3)+'$$')[_0x1ec796(0x16b)](/\$([^$]*?)\$/g,(_0x2f71da,_0x2517da)=>'$'+_0x5259a4(_0x2517da)+'$')[_0x1ec796(0x16b)](/\\\(([\s\S]*?)\\\)/g,(_0xb509cb,_0x5528b2)=>'\x5c('+_0x5259a4(_0x5528b2)+'\x5c)')[_0x1ec796(0x16b)](/\\\[([\s\S]*?)\\\]/g,(_0x1b45e8,_0x2f1fa3)=>'\x5c['+_0x5259a4(_0x2f1fa3)+'\x5c]');let _0x4aaf7e=_0x4f0258,_0x56f02e=0x0;const _0x1cd652=_0x36559e=>_0x36559e['replace'](/S([^S]{0,2000}?)S/g,(_0x58c551,_0x23b36b)=>_0x2e6d40[_0x1ec796(0x29c)](_0x23b36b)?'$'+_0x5259a4(_0x23b36b)+'$':_0x58c551);while(_0x56f02e++<0x14){const _0x368c4b=_0x1cd652(_0x4aaf7e);if(_0x368c4b===_0x4aaf7e)break;_0x4aaf7e=_0x368c4b;}_0x4f0258=_0x4aaf7e,_0x4f0258=_0x4f0258[_0x1ec796(0x78a)]('\x0a')['map'](_0x338f18=>{const _0x87c975=_0x1ec796;if(!(/[,\u3001，;；]/[_0x87c975(0x29c)](_0x338f18)||/\s(?:และ|หรือ)\s/[_0x87c975(0x29c)](_0x338f18))||!_0x2e6d40[_0x87c975(0x29c)](_0x338f18))return _0x338f18;return _0x42f9dc(_0x338f18)[_0x87c975(0x71d)](_0x512129=>{const _0x5a36ba=_0x87c975;if(/^\s(?:และ|หรือ)\s$/[_0x5a36ba(0x29c)](_0x512129)||/^[,\u3001，;；]$/[_0x5a36ba(0x29c)](_0x512129))return _0x512129;return _0x301438(_0x512129);})[_0x87c975(0x8bf)]('');})[_0x1ec796(0x8bf)]('\x0a'),_0x4f0258=_0x4f0258['split']('\x0a')[_0x1ec796(0x71d)](_0x147fb1=>{const _0x10727e=_0x1ec796,_0x2e2b66=_0x147fb1[_0x10727e(0x6df)]();if(!_0x2e2b66)return _0x147fb1;const _0x5daada=/\$|\\\(|\\\[/['test'](_0x2e2b66),_0x83e84=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x2e2b66);if(_0x5daada||!_0x83e84||_0x92b318(_0x2e2b66))return _0x147fb1;return _0x147fb1[_0x10727e(0x16b)](_0x2e2b66,'$'+_0x5259a4(_0x2e2b66)+'$');})['join']('\x0a'),_0x4f0258=_0x4f0258[_0x1ec796(0x16b)](/(\d+)\s*°\s*C\b/g,(_0x332fe5,_0x1011e8,_0x319a52,_0x16e0a4)=>{const _0x1c85b1=_0x1ec796,_0x3c78dc=_0x16e0a4[_0x319a52-0x1];if(_0x3c78dc==='$'||_0x3c78dc==='S'||_0x3c78dc==='\x5c')return _0x332fe5;return'$'+_0x1011e8+_0x1c85b1(0x393);})[_0x1ec796(0x16b)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x1a82b4,_0x590d2f,_0x1162f5,_0x29290d)=>{const _0x2b8e56=_0x1ec796,_0x462c5c=_0x29290d[_0x1162f5-0x1];if(_0x462c5c==='$'||_0x462c5c==='S'||_0x462c5c==='\x5c')return _0x1a82b4;return'$'+_0x590d2f+_0x2b8e56(0x393);})[_0x1ec796(0x16b)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x412a8c,_0x2ca66f,_0x554e42,_0x265c1a)=>{const _0x510e28=_0x1ec796,_0x129308=_0x265c1a[_0x554e42-0x1];if(_0x129308==='$'||_0x129308==='S'||_0x129308==='\x5c')return _0x412a8c;return'$'+_0x2ca66f+_0x510e28(0x393);}),_0x4f0258=_0x4f0258[_0x1ec796(0x16b)](/\$\s*\$/g,'$$'),_0x4f0258!==_0x52cc44&&(_0x3db0d6(_0x14de01,_0x4f0258),_0xcef1c7++);});if(_0xcef1c7>0x0){showMessage(_0xd50e81(0x81a)+_0xcef1c7+'\x20ช่อง');try{if(window[_0xd50e81(0x20e)]&&MathJax[_0xd50e81(0x190)])MathJax[_0xd50e81(0x190)]();window[_0xd50e81(0x170)]&&typeof renderMathInElement===_0xd50e81(0x1b0)&&renderMathInElement(_0x43e540,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x22e4c8){}}else showMessage(_0xd50e81(0x6c4));}async function listenForCustomMathTopics(){const _0x5199f9=_0x2ee497,_0x15ca81=collection(db,_0x5199f9(0x100)+appId+_0x5199f9(0x4fb));onSnapshot(_0x15ca81,_0x2284f9=>{const _0xde5a97=_0x5199f9;customMathTopics=_0x2284f9[_0xde5a97(0x830)][_0xde5a97(0x71d)](_0x3e4aa0=>({'id':_0x3e4aa0['id'],..._0x3e4aa0[_0xde5a97(0x656)]()})),renderTopicCheckboxes();},_0x487e3d=>{const _0x3a49ee=_0x5199f9;console[_0x3a49ee(0x4e7)](_0x3a49ee(0x2ae),_0x487e3d);});}function handleSelectAllTopics(){const _0x5e107c=_0x2ee497,_0x11dd78=document['getElementById'](_0x5e107c(0x71e)),_0x3f0ecb=_0x11dd78[_0x5e107c(0x450)](_0x5e107c(0x23f));_0x3f0ecb[_0x5e107c(0x2f1)](_0x5e2890=>{_0x5e2890['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4f557e=_0x2ee497,_0x3a5e09=document[_0x4f557e(0x339)]('math-topics-checkbox-container'),_0x3ff111=_0x3a5e09[_0x4f557e(0x450)](_0x4f557e(0x23f));_0x3ff111[_0x4f557e(0x2f1)](_0x39dbdc=>{const _0x627812=_0x4f557e;_0x39dbdc[_0x627812(0x149)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x25caad){const _0x45a1e4=_0x2ee497;if(!_0x25caad)return;try{const _0x37353d=doc(db,'artifacts/'+appId+_0x45a1e4(0x4fb),_0x25caad);await deleteDoc(_0x37353d),showMessage(_0x45a1e4(0x5e1));}catch(_0x55b1b9){console[_0x45a1e4(0x4e7)](_0x45a1e4(0x265),_0x55b1b9),showMessage(_0x45a1e4(0x214));}}async function handleAddCustomMathTopic(){const _0x16beff=_0x2ee497,_0x518e3b=document['getElementById']('custom-math-topic-input'),_0x209240=_0x518e3b['value']['trim']();if(!_0x209240){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x16beff(0x5da));return;}try{const _0x4a9905=collection(db,_0x16beff(0x100)+appId+_0x16beff(0x4fb));await addDoc(_0x4a9905,{'name':_0x209240,'createdAt':serverTimestamp()}),_0x518e3b[_0x16beff(0x2b8)]='',showMessage(_0x16beff(0x3e2)+_0x209240+_0x16beff(0x731));}catch(_0x3e5372){console['error'](_0x16beff(0x7a7),_0x3e5372),showMessage(_0x16beff(0x1fd));}}async function handleUpdateOldQuizzes(){const _0x416c35=_0x2ee497;showConfirmation(_0x416c35(0x82c),async()=>{const _0x5b3e25=_0x416c35,_0xb0c237=document[_0x5b3e25(0x339)](_0x5b3e25(0x1cd)),_0x3b3a60=document[_0x5b3e25(0x339)](_0x5b3e25(0x877)),_0x2555f0=_0x3b3a60['textContent'];_0xb0c237[_0x5b3e25(0xe6)][_0x5b3e25(0x728)](_0x5b3e25(0x730)),_0x3b3a60['textContent']=_0x5b3e25(0x329);try{const _0x46c551=collection(db,'artifacts/'+appId+_0x5b3e25(0x50f)),_0x4b887d=await getDocs(_0x46c551);if(_0x4b887d[_0x5b3e25(0x2b5)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x415ba6=writeBatch(db);let _0x1e6cb9=0x0;_0x4b887d[_0x5b3e25(0x2f1)](_0x57a63c=>{const _0x2937fa=_0x5b3e25,_0x3784f2=_0x57a63c[_0x2937fa(0x656)](),_0x5a2c51=_0x57a63c['id'];if(_0x3784f2['questions']&&_0x3784f2['questions'][_0x2937fa(0x2fe)]>0x0&&!_0x3784f2['questions'][0x0][_0x2937fa(0x737)]('id')){console[_0x2937fa(0x650)](_0x2937fa(0x87d)+_0x5a2c51+'\x20('+_0x3784f2[_0x2937fa(0x5fb)]+')'),_0x1e6cb9++;const _0x1dc0ad=_0x3784f2['questions'][_0x2937fa(0x71d)]((_0x40c6e8,_0x30d5a6)=>{const _0x3dd52b=_0x2937fa;return{..._0x40c6e8,'id':_0x40c6e8['id']||'q_'+Date[_0x3dd52b(0x582)]()+'_'+_0x5a2c51+'_'+_0x30d5a6};}),_0x330e55=doc(db,_0x2937fa(0x100)+appId+'/public/data/quizzes',_0x5a2c51);_0x415ba6['update'](_0x330e55,{'questions':_0x1dc0ad});}}),_0x1e6cb9>0x0?(_0x3b3a60[_0x5b3e25(0x477)]=_0x5b3e25(0xe3)+_0x1e6cb9+_0x5b3e25(0x6d9),await _0x415ba6['commit'](),showMessage(_0x5b3e25(0x301)+_0x1e6cb9+_0x5b3e25(0x487))):showMessage(_0x5b3e25(0x77a));}catch(_0x13aec6){console['error'](_0x5b3e25(0x6a1),_0x13aec6),showMessage(_0x5b3e25(0x6eb)+_0x13aec6[_0x5b3e25(0x63d)]);}finally{_0xb0c237[_0x5b3e25(0xe6)][_0x5b3e25(0x34f)](_0x5b3e25(0x730)),_0x3b3a60[_0x5b3e25(0x477)]=_0x2555f0;}});}async function handleBulkUpdateQuizSettings(){const _0x3385cd=_0x2ee497,_0x502f72={'shuffle':document[_0x3385cd(0x339)](_0x3385cd(0x28d))[_0x3385cd(0x2b8)],'resultsDisplay':document[_0x3385cd(0x339)](_0x3385cd(0x749))['value'],'loopUntilPass':document[_0x3385cd(0x339)](_0x3385cd(0x2f5))[_0x3385cd(0x149)]},_0x2e35c2=allQuizzesGlobal[_0x3385cd(0x2fe)];showConfirmation(_0x3385cd(0x14d)+_0x2e35c2+_0x3385cd(0x1b8),async()=>{const _0x3ac0e8=_0x3385cd,_0x65c6b=document[_0x3ac0e8(0x339)]('confirm-bulk-quiz-settings-btn');_0x65c6b['disabled']=!![],_0x65c6b[_0x3ac0e8(0x7de)]=_0x3ac0e8(0x1e0);try{const _0x3f3f02=writeBatch(db);allQuizzesGlobal[_0x3ac0e8(0x2f1)](_0x380bd4=>{const _0x2deb7f=_0x3ac0e8,_0x5e93e6=doc(db,_0x2deb7f(0x100)+appId+_0x2deb7f(0x50f),_0x380bd4['id']),_0x5f02ed={..._0x380bd4[_0x2deb7f(0x481)]||{},..._0x502f72};_0x3f3f02['update'](_0x5e93e6,{'settings':_0x5f02ed});}),await _0x3f3f02[_0x3ac0e8(0x712)](),document[_0x3ac0e8(0x339)]('bulk-quiz-settings-modal')[_0x3ac0e8(0xe6)][_0x3ac0e8(0x34f)](_0x3ac0e8(0x730)),showMessage(_0x3ac0e8(0x550)+_0x2e35c2+'\x20ชุดสำเร็จ!');}catch(_0x3d0b3e){console[_0x3ac0e8(0x4e7)](_0x3ac0e8(0x1b4),_0x3d0b3e),showMessage(_0x3ac0e8(0x246));}finally{_0x65c6b[_0x3ac0e8(0x154)]=![],_0x65c6b['innerHTML']=_0x3ac0e8(0x7bb);}});}async function handleSaveProjectName(){const _0x355f1f=_0x2ee497,_0x5294b=document[_0x355f1f(0x339)](_0x355f1f(0x19f)),_0x325ae1=document['getElementById'](_0x355f1f(0x7a1)),_0x2a9d7f=_0x5294b[_0x355f1f(0x477)][_0x355f1f(0x6df)]();if(!_0x2a9d7f||!currentProjectId){showMessage(_0x355f1f(0x194)),_0x5294b[_0x355f1f(0x477)]=currentProjectData['projectName'];return;}_0x325ae1['disabled']=!![],_0x325ae1[_0x355f1f(0x7de)]=_0x355f1f(0x707);try{const _0x34d521=doc(db,_0x355f1f(0x100)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x34d521,{'projectName':_0x2a9d7f}),currentProjectData&&(currentProjectData[_0x355f1f(0x72f)]=_0x2a9d7f),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x5ca048){console['error']('Error\x20updating\x20project\x20name:',_0x5ca048),showMessage(_0x355f1f(0x280)),_0x5294b['textContent']=currentProjectData[_0x355f1f(0x72f)];}finally{_0x325ae1[_0x355f1f(0xe6)][_0x355f1f(0x34f)](_0x355f1f(0x730)),_0x325ae1[_0x355f1f(0x154)]=![],_0x325ae1[_0x355f1f(0x7de)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x27ac04=_0x2ee497;try{const _0x312959=initializeApp(firebaseConfig);db=getFirestore(_0x312959),auth=getAuth(_0x312959),setupAuthListener(),setupEventListeners(),showView(_0x27ac04(0x189)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x1af525){console[_0x27ac04(0x4e7)](_0x27ac04(0x4db),_0x1af525),showMessage(_0x27ac04(0x4d9));}}async function handleVerifyAnswersInEditor(){const _0x328341=_0x2ee497,_0xaf9eff=document['getElementById'](_0x328341(0x4ab));if(!_0xaf9eff)return;const _0x148422=document[_0x328341(0x339)](_0x328341(0x125));_0x148422[_0x328341(0x154)]=!![],_0x148422[_0x328341(0x7de)]=_0x328341(0x3d9);try{const _0x52d31f=_0xaf9eff[_0x328341(0x450)](_0x328341(0x897)),_0x294efa=Array['from'](_0x52d31f)[_0x328341(0x71d)]((_0x22b37f,_0x5465c2)=>{const _0x47cee0=_0x328341,_0x5088b3=_0x22b37f[_0x47cee0(0x185)][_0x47cee0(0x68c)],_0x114b9d=_0x22b37f['querySelector'](_0x47cee0(0x593))[_0x47cee0(0x2b8)];let _0x45635b=null,_0x150a4a='';switch(_0x5088b3){case _0x47cee0(0x73c):const _0x1d9826=_0x22b37f[_0x47cee0(0x450)](_0x47cee0(0x594));_0x45635b=Array['from'](_0x1d9826)[_0x47cee0(0x71d)](_0x439e85=>_0x439e85[_0x47cee0(0x2b8)]);const _0xc656ac=_0x22b37f[_0x47cee0(0x205)](_0x47cee0(0x74b));_0xc656ac&&(_0x150a4a=_0x45635b[parseInt(_0xc656ac[_0x47cee0(0x2b8)])]);break;case _0x47cee0(0x324):_0x150a4a=_0x22b37f[_0x47cee0(0x205)](_0x47cee0(0x8a4))['value'];break;case _0x47cee0(0x354):const _0x4e19be=_0x22b37f['querySelector']('input[type=\x22radio\x22]:checked');_0x150a4a=_0x4e19be?_0x4e19be[_0x47cee0(0x2b8)]:'';break;case'matching_item':_0x150a4a=_0x22b37f[_0x47cee0(0x205)](_0x47cee0(0x619))[_0x47cee0(0x2b8)];break;}return{'question':_0x114b9d,'options':_0x45635b,'proposedAnswer':_0x150a4a};}),_0x1bdc8a=_0x328341(0x72a)+JSON[_0x328341(0x5f7)](_0x294efa)+_0x328341(0x695),_0x2b9a49={'type':_0x328341(0xfb),'items':{'type':_0x328341(0x4f1),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x328341(0x531)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':[_0x328341(0x845),_0x328341(0x358),_0x328341(0x6d6)]}},_0x590eca=await callAnalysisApi(_0x1bdc8a,{'type':_0x328341(0x4f1),'properties':{'result':_0x2b9a49},'required':[_0x328341(0x796)]});displayVerificationResultsInEditor(_0x590eca[_0x328341(0x796)]);}catch(_0x32a807){console['error'](_0x328341(0x10c),_0x32a807),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x148422['disabled']=![],_0x148422[_0x328341(0x7de)]=_0x328341(0x31a);}}function displayVerificationResultsInEditor(_0x16ff1a){const _0x3d9899=_0x2ee497;_0x16ff1a[_0x3d9899(0x2f1)](_0x2b14c5=>{const _0x36c5c5=_0x3d9899,_0x59517=document[_0x36c5c5(0x205)](_0x36c5c5(0x6b0)+_0x2b14c5[_0x36c5c5(0x845)]+'\x22]');if(_0x59517){const _0x39a87e=_0x59517[_0x36c5c5(0x205)](_0x36c5c5(0x644));if(_0x39a87e)_0x39a87e[_0x36c5c5(0x728)]();let _0x3b9495='';_0x2b14c5['isCorrect']?_0x3b9495=_0x36c5c5(0x243):_0x3b9495='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x2b14c5[_0x36c5c5(0x6d6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2b14c5[_0x36c5c5(0x2a3)]?_0x36c5c5(0x6ad)+_0x2b14c5[_0x36c5c5(0x2a3)]+_0x36c5c5(0x174):'')+_0x36c5c5(0x590),_0x59517[_0x36c5c5(0x2aa)](_0x36c5c5(0x1ed),_0x3b9495);}}),showMessage(_0x3d9899(0x625));}async function handleVerifyAnswers(){const _0x2c1f6d=_0x2ee497;if(!currentQuizData||!currentQuizData[_0x2c1f6d(0x2f4)]){showMessage(_0x2c1f6d(0x21b));return;}const _0x3959b0=document['getElementById'](_0x2c1f6d(0x351));_0x3959b0[_0x2c1f6d(0x154)]=!![],_0x3959b0[_0x2c1f6d(0x7de)]=_0x2c1f6d(0x3d9);try{const _0x2eda55=currentQuizData[_0x2c1f6d(0x2f4)]['map']((_0x57d6a1,_0x2b79a1)=>{const _0x333c67=_0x2c1f6d;let _0x49ea19='';const _0x184c41=_0x57d6a1[_0x333c67(0x790)]||currentQuizData[_0x333c67(0x867)];switch(_0x184c41){case'multiple_choice':_0x49ea19=_0x57d6a1[_0x333c67(0x7e1)][_0x57d6a1['correctAnswerIndex']];break;case _0x333c67(0x324):_0x49ea19=_0x57d6a1['idealAnswer'];break;case _0x333c67(0x354):_0x49ea19=_0x57d6a1[_0x333c67(0x394)][_0x333c67(0x289)]();break;case _0x333c67(0x368):_0x49ea19=_0x57d6a1[_0x333c67(0x41d)];break;}return{'question':_0x57d6a1[_0x333c67(0x37b)]||_0x57d6a1[_0x333c67(0x325)],'options':_0x57d6a1['options']||null,'proposedAnswer':_0x49ea19};}),_0x1cc919=_0x2c1f6d(0x119)+JSON['stringify'](_0x2eda55)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2b0042={'type':_0x2c1f6d(0xfb),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x2c1f6d(0xda)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x2c1f6d(0x5e0)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0x2c1f6d(0x358),_0x2c1f6d(0x6d6)]}},_0x4e0baa=await callAnalysisApi(_0x1cc919,{'type':_0x2c1f6d(0x4f1),'properties':{'result':_0x2b0042},'required':['result']});displayVerificationResults(_0x4e0baa[_0x2c1f6d(0x796)]);}catch(_0x543ba0){console[_0x2c1f6d(0x4e7)](_0x2c1f6d(0x453),_0x543ba0),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3959b0[_0x2c1f6d(0x154)]=![],_0x3959b0[_0x2c1f6d(0x7de)]=_0x2c1f6d(0x7f0);}}function displayVerificationResults(_0x18389b){const _0x58009c=_0x2ee497;_0x18389b['forEach'](_0x28a5d3=>{const _0x388a0e=_0x1ea5,_0x10efc6=document[_0x388a0e(0x205)](_0x388a0e(0x878)+_0x28a5d3[_0x388a0e(0x845)]+'\x22]');if(_0x10efc6){const _0x4baf34=_0x10efc6[_0x388a0e(0x205)](_0x388a0e(0x348));if(_0x4baf34)_0x4baf34[_0x388a0e(0x728)]();let _0x35e0fb='';_0x28a5d3[_0x388a0e(0x358)]?_0x35e0fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x35e0fb=_0x388a0e(0x505)+_0x28a5d3['justification']+_0x388a0e(0x2c0)+(_0x28a5d3[_0x388a0e(0x2a3)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x28a5d3[_0x388a0e(0x2a3)]+'</p>':'')+_0x388a0e(0x3b9),_0x10efc6['insertAdjacentHTML']('beforeend',_0x35e0fb);}}),showMessage(_0x58009c(0x625));}function compareNumericalAnswers(_0x271b20,_0x42f1e0){const _0x3c067c=_0x2ee497,_0x910247=String(_0x271b20)[_0x3c067c(0x16b)](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x5ac04e=String(_0x42f1e0)[_0x3c067c(0x16b)](',','.')['replace'](/[^\d.-]/g,'')[_0x3c067c(0x6df)]();if(_0x910247===''||_0x5ac04e==='')return![];const _0x5603b5=parseFloat(_0x910247),_0x45417b=parseFloat(_0x5ac04e);if(isNaN(_0x5603b5)||isNaN(_0x45417b))return![];return Math[_0x3c067c(0x165)](_0x5603b5-_0x45417b)<0.001;}async function gradeShortAnswer(_0x18ef4a,_0xa52b20){const _0x13972e=_0x2ee497,_0x267919=_0xa52b20[_0x13972e(0x575)];if(String(_0x18ef4a)[_0x13972e(0x6df)]()[_0x13972e(0x47d)]()===String(_0x267919)[_0x13972e(0x6df)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x18ef4a,_0x267919))return!![];return console[_0x13972e(0x650)](_0x13972e(0x55f)),await gradeShortAnswerWithAI(_0x18ef4a,_0x267919);}async function revealAnswerForAdmin(_0x108880,_0x1c9c83){const _0x46ba77=_0x2ee497,_0x47f964=doc(db,_0x46ba77(0x100)+appId+_0x46ba77(0x5f0),currentLiveGameId);await updateDoc(_0x47f964,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x556719){const _0x280554=_0x2ee497,_0x387688=Object[_0x280554(0x718)](_0x556719['players']||{})['filter'](_0x4d3a41=>_0x4d3a41['status']===_0x280554(0x4ca));_0x387688['sort']((_0x2ee2dd,_0x54889b)=>_0x54889b[_0x280554(0x13c)]-_0x2ee2dd[_0x280554(0x13c)]);const _0x39fd1f=_0x387688[_0x280554(0x38c)](0x0,0x5),_0xa25c33='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39fd1f[_0x280554(0x71d)]((_0x440729,_0x178afc)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x178afc+0x1)+'.\x20'+(_0x440729[_0x280554(0x2eb)]||Object[_0x280554(0x58b)](_0x556719[_0x280554(0x448)])['find'](_0x213b20=>_0x556719['players'][_0x213b20]===_0x440729))+_0x280554(0x7ef)+_0x440729[_0x280554(0x13c)]+_0x280554(0x667))[_0x280554(0x8bf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x556719['currentQuestionIndex']+0x1===currentQuizData[_0x280554(0x2f4)][_0x280554(0x2fe)]?'สรุปผลสุดท้าย':_0x280554(0x181))+_0x280554(0x7f4);liveGameView['innerHTML']=_0xa25c33,document['getElementById']('goto-next-question-btn')['addEventListener'](_0x280554(0x5c7),async()=>{const _0x4d80b9=_0x280554,_0x2e1e24=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x5b9497=_0x556719[_0x4d80b9(0x7c7)]+0x1;if(_0x5b9497<currentQuizData['questions']['length']){const _0x544f23={'currentQuestionIndex':_0x5b9497,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x4d80b9(0x58b)](_0x556719['players'])[_0x4d80b9(0x2f1)](_0xe5a8ce=>{const _0x23dfc3=_0x4d80b9;_0x544f23[_0x23dfc3(0x402)+_0xe5a8ce+_0x23dfc3(0x2d8)]=![];}),await updateDoc(_0x2e1e24,_0x544f23);}else await updateDoc(_0x2e1e24,{'status':_0x4d80b9(0x186)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x296ce1=>{const _0x37f35a=_0x1ea5;if(_0x296ce1){userId=_0x296ce1[_0x37f35a(0x2f7)],userIdDisplay[_0x37f35a(0x477)]=userId;const _0x2a84f2=await loadUserPreferences();_0x2a84f2[_0x37f35a(0x57b)]&&(document[_0x37f35a(0x339)](_0x37f35a(0x6b5))[_0x37f35a(0x2b8)]=_0x2a84f2[_0x37f35a(0x57b)]);globalDashboardSettings[_0x37f35a(0x27f)]=_0x2a84f2[_0x37f35a(0x27f)]||_0x37f35a(0x6f8);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x2bd9be,_0x5cd883){const _0x5814f6=_0x2ee497;if(!userId)return;try{const _0x10ea94=doc(db,_0x5814f6(0x100)+appId+'/users/'+userId+'/preferences/main'),_0x452fa3={};_0x452fa3[_0x2bd9be]=_0x5cd883,await setDoc(_0x10ea94,_0x452fa3,{'merge':!![]});}catch(_0x43856d){console[_0x5814f6(0x4e7)]('Error\x20saving\x20user\x20preference:',_0x43856d);}}async function loadUserPreferences(){const _0x1d9ff4=_0x2ee497;if(!userId)return{};try{const _0x241bdd=doc(db,_0x1d9ff4(0x100)+appId+'/users/'+userId+_0x1d9ff4(0x369)),_0x53de2d=await getDoc(_0x241bdd);if(_0x53de2d[_0x1d9ff4(0x475)]())return _0x53de2d[_0x1d9ff4(0x656)]();return{};}catch(_0x4703c3){return console[_0x1d9ff4(0x4e7)](_0x1d9ff4(0x26e),_0x4703c3),{};}}function showPodiumView(_0x2de87a){const _0x22e8cb=_0x2ee497,_0x399dbf=Object[_0x22e8cb(0x7bf)](_0x2de87a)[_0x22e8cb(0x71d)](([_0x516107,_0x36e2da])=>({'name':_0x516107,'score':_0x36e2da[_0x22e8cb(0x13c)]||0x0,'badges':_0x36e2da[_0x22e8cb(0x4ee)]||[]}));_0x399dbf[_0x22e8cb(0x377)]((_0x7161ac,_0x48c812)=>{const _0x100adc=_0x22e8cb,_0x562676=_0x48c812['score']-_0x7161ac[_0x100adc(0x13c)];if(_0x562676!==0x0)return _0x562676;return(_0x48c812[_0x100adc(0x4ee)][_0x100adc(0x2fe)]||0x0)-(_0x7161ac['badges'][_0x100adc(0x2fe)]||0x0);});const _0x61dd99=_0xc5764a=>{const _0x4cf851=_0x22e8cb;if(!_0xc5764a||_0xc5764a[_0x4cf851(0x2fe)]===0x0)return'';const _0x50a131={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x4cf851(0x60a)+_0xc5764a[_0x4cf851(0x71d)](_0xc1c9d3=>_0x50a131[_0xc1c9d3]||'')[_0x4cf851(0x8bf)]('')+_0x4cf851(0x22a);},_0x15d2d0=_0x399dbf['slice'](0x3),_0x45e46a=_0x15d2d0[_0x22e8cb(0x2fe)]>0x0?_0x22e8cb(0x233)+_0x15d2d0['map']((_0x2ca002,_0x42fafb)=>_0x22e8cb(0x5aa)+(_0x42fafb+0x4)+_0x22e8cb(0x7db)+_0x2ca002[_0x22e8cb(0x2eb)]+_0x22e8cb(0x5e7)+_0x2ca002['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x22e8cb(0x8bf)]('')+_0x22e8cb(0x670):'',_0x26006b=_0x22e8cb(0x22f)+(_0x399dbf[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x399dbf[0x1][_0x22e8cb(0x2eb)]+_0x22e8cb(0x3a2)+_0x61dd99(_0x399dbf[0x1][_0x22e8cb(0x4ee)])+_0x22e8cb(0x471)+_0x399dbf[0x1]['score']+_0x22e8cb(0x5ab):_0x22e8cb(0x59a))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x399dbf[0x0]?_0x22e8cb(0x8b3)+_0x399dbf[0x0][_0x22e8cb(0x2eb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x61dd99(_0x399dbf[0x0][_0x22e8cb(0x4ee)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x399dbf[0x0][_0x22e8cb(0x13c)]+_0x22e8cb(0x421):_0x22e8cb(0x59a))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x399dbf[0x2]?_0x22e8cb(0x74d)+_0x399dbf[0x2][_0x22e8cb(0x2eb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x61dd99(_0x399dbf[0x2][_0x22e8cb(0x4ee)])+_0x22e8cb(0x471)+_0x399dbf[0x2][_0x22e8cb(0x13c)]+_0x22e8cb(0x5dd):_0x22e8cb(0x59a))+_0x22e8cb(0x230)+_0x45e46a+_0x22e8cb(0x42d)+(currentMode===_0x22e8cb(0x79b)?_0x22e8cb(0x810):_0x22e8cb(0x39a))+_0x22e8cb(0x58d);liveGameView[_0x22e8cb(0x7de)]=_0x26006b,currentMode===_0x22e8cb(0x79b)&&document[_0x22e8cb(0x339)](_0x22e8cb(0x163))[_0x22e8cb(0x834)](_0x22e8cb(0x5c7),async()=>{const _0x11f690=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x11f690),showView('admin-dashboard');});}async function handleStartLiveRace(_0x27ff8e){const _0x87eb5b=_0x2ee497;let _0x5636cb=allQuizzes[_0x87eb5b(0x5f9)](_0xf9bf10=>_0xf9bf10['id']===_0x27ff8e);if(!_0x5636cb){const _0x594a17=doc(db,_0x87eb5b(0x100)+appId+_0x87eb5b(0x50f),_0x27ff8e),_0x463e6e=await getDoc(_0x594a17);if(!_0x463e6e[_0x87eb5b(0x475)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x5636cb={'id':_0x463e6e['id'],..._0x463e6e[_0x87eb5b(0x656)]()};}const _0x33033d=getShuffledQuiz(_0x5636cb);currentQuizData=_0x33033d;const _0x5cb545=_0x5636cb[_0x87eb5b(0x2a2)]||currentProjectId||null,_0x3a6033=Math[_0x87eb5b(0x6be)](0x3e8+Math[_0x87eb5b(0x26a)]()*0x2328)[_0x87eb5b(0x289)]();currentLiveGamePin=_0x3a6033;try{const _0x21370c=await addDoc(collection(db,_0x87eb5b(0x100)+appId+_0x87eb5b(0x5f0)),{'quizId':_0x27ff8e,'projectId':_0x5cb545,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3a6033,'createdAt':serverTimestamp(),'shuffledQuiz':_0x33033d});currentLiveGameId=_0x21370c['id'],showAdminLobbyView(_0x3a6033,_0x5636cb[_0x87eb5b(0x5fb)]),listenForLiveGameUpdates();}catch(_0x339039){console[_0x87eb5b(0x4e7)](_0x87eb5b(0x4d2),_0x339039),showMessage(_0x87eb5b(0x2df));}}async function handleShowStudentRankings(){const _0x160b80=_0x2ee497,_0x4bef0b=document['querySelector']('#student-quiz-leaderboard-content\x20thead');_0x4bef0b&&(_0x4bef0b[_0x160b80(0x7de)]=_0x160b80(0x7eb));const _0x1b59e7=document['querySelector'](_0x160b80(0x19b));_0x1b59e7&&(_0x1b59e7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x39977d=document[_0x160b80(0x339)](_0x160b80(0x404));_0x39977d[_0x160b80(0xe6)]['remove']('hidden'),document[_0x160b80(0x339)]('close-student-rankings-btn')[_0x160b80(0x798)]=()=>_0x39977d['classList'][_0x160b80(0x34f)](_0x160b80(0x730));const _0x3df335=document[_0x160b80(0x339)](_0x160b80(0x254)),_0x5e3686=document[_0x160b80(0x339)](_0x160b80(0x464)),_0x3c3c18=document[_0x160b80(0x339)](_0x160b80(0x704)),_0x5b3d58=document['getElementById'](_0x160b80(0x130));_0x3df335['onclick']=()=>{const _0x227b8c=_0x160b80;_0x3df335[_0x227b8c(0xe6)][_0x227b8c(0x34f)](_0x227b8c(0x4ca)),_0x5e3686[_0x227b8c(0xe6)]['remove'](_0x227b8c(0x4ca)),_0x3c3c18[_0x227b8c(0xe6)]['remove'](_0x227b8c(0x730)),_0x5b3d58['classList']['add'](_0x227b8c(0x730));},_0x5e3686['onclick']=()=>{const _0x3e7dd1=_0x160b80;_0x5e3686[_0x3e7dd1(0xe6)][_0x3e7dd1(0x34f)]('active'),_0x3df335[_0x3e7dd1(0xe6)]['remove'](_0x3e7dd1(0x4ca)),_0x5b3d58[_0x3e7dd1(0xe6)][_0x3e7dd1(0x728)](_0x3e7dd1(0x730)),_0x3c3c18['classList'][_0x3e7dd1(0x34f)](_0x3e7dd1(0x730));};try{const _0x4cd69a=collection(db,_0x160b80(0x100)+appId+_0x160b80(0x3ac)+currentQuizData['id']+'/submissions'),_0x24eeeb=await getDocs(_0x4cd69a),_0x4ec5ee=_0x24eeeb[_0x160b80(0x830)][_0x160b80(0x71d)](_0x4c30cb=>_0x4c30cb['data']());renderQuizLeaderboard(_0x4ec5ee,currentQuizData,_0x160b80(0x4d3));const _0x52de87=collection(db,_0x160b80(0x100)+appId+_0x160b80(0x51b)+currentQuizData['projectId']+_0x160b80(0x24e)),_0x30157f=await getDocs(_0x52de87),_0x157722=_0x30157f[_0x160b80(0x830)][_0x160b80(0x71d)](_0x1247f2=>_0x1247f2['data']());renderLeaderboard(_0x157722,_0x160b80(0x21e));}catch(_0x1998c8){console['error'](_0x160b80(0x2ea),_0x1998c8),showMessage(_0x160b80(0x77f));}}async function handleSaveToBank(_0x2e4d2f){const _0x43ed01=_0x2ee497,_0x293772=_0x2e4d2f[_0x43ed01(0x620)],_0x44af5f=_0x293772['dataset'][_0x43ed01(0x6d8)],_0x6b51cb=currentQuizData['questions'][_0x44af5f];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x26d3da={..._0x6b51cb,'originalTopic':currentQuizData[_0x43ed01(0x5fb)],'savedAt':serverTimestamp()},_0x43fd44=collection(db,_0x43ed01(0x100)+appId+_0x43ed01(0x57c)+userId+'/questionBank');await addDoc(_0x43fd44,_0x26d3da),showMessage(_0x43ed01(0x3ec)),_0x293772[_0x43ed01(0xe6)][_0x43ed01(0x728)](_0x43ed01(0x49a)),_0x293772[_0x43ed01(0xe6)][_0x43ed01(0x34f)]('text-green-600'),_0x293772[_0x43ed01(0x154)]=!![];}catch(_0xdcd081){console[_0x43ed01(0x4e7)](_0x43ed01(0x6fe),_0xdcd081),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x3d0157=_0x2ee497;if(!userId)return;const _0x5f3cd7=collection(db,_0x3d0157(0x100)+appId+_0x3d0157(0x50f)),_0x1f7315=query(_0x5f3cd7,where(_0x3d0157(0x7e8),'==',!![]));onSnapshot(_0x1f7315,_0x464eb6=>{const _0x5377e8=_0x3d0157;starredQuizzes=_0x464eb6['docs'][_0x5377e8(0x71d)](_0x4c3596=>({'id':_0x4c3596['id'],..._0x4c3596[_0x5377e8(0x656)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x416d0f=>{const _0x51ea49=_0x3d0157;console[_0x51ea49(0x4e7)](_0x51ea49(0x1d5),_0x416d0f);});}function exportQuizAsWorksheetPDF(){const _0x2135f3=_0x2ee497;if(!currentQuizData||!currentQuizData[_0x2135f3(0x2f4)]){showMessage(_0x2135f3(0x237));return;}const _0x1b903d=currentQuizData,_0x517d61=window[_0x2135f3(0x400)]('',_0x2135f3(0x1bb)),_0x5e6d61=_0x556086=>String['fromCharCode'](0x41+_0x556086),_0x840c68=_0x2135f3(0x825)+_0x1b903d['topic']+_0x2135f3(0x6af)+_0x1b903d[_0x2135f3(0x5fb)]+_0x2135f3(0x651)+_0x1b903d['questions'][_0x2135f3(0x71d)]((_0x560cb1,_0x1eabde)=>{const _0x5f4f34=_0x2135f3;let _0x192fa9='';const _0x35c22e=_0x560cb1[_0x5f4f34(0x790)]||_0x1b903d['quizType'];switch(_0x35c22e){case _0x5f4f34(0x73c):case'fill_in_with_choices':_0x192fa9=_0x5f4f34(0x183)+_0x560cb1[_0x5f4f34(0x7e1)][_0x5f4f34(0x71d)]((_0x4a557c,_0x4d5899)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5e6d61(_0x4d5899)+'.\x20'+_0x4a557c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x5f4f34(0x3e9))+_0x5f4f34(0x22a);break;case _0x5f4f34(0x354):_0x192fa9='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x192fa9='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x1eabde+0x1)+_0x5f4f34(0x6bd)+(_0x560cb1['stem']||_0x560cb1[_0x5f4f34(0x325)])+_0x5f4f34(0x248)+(_0x560cb1[_0x5f4f34(0x216)]?_0x5f4f34(0x52a)+_0x560cb1[_0x5f4f34(0x216)]+_0x5f4f34(0x22a):'')+_0x5f4f34(0x14c)+_0x192fa9+_0x5f4f34(0x6e9);})[_0x2135f3(0x8bf)]('')+_0x2135f3(0x213);_0x517d61[_0x2135f3(0x820)][_0x2135f3(0x518)](_0x840c68),_0x517d61[_0x2135f3(0x820)][_0x2135f3(0x126)](),_0x517d61[_0x2135f3(0x191)]=function(){setTimeout(()=>{const _0x5e5cb6=_0x1ea5;_0x517d61[_0x5e5cb6(0x88f)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x149125=_0x2ee497;if(!currentQuizData||!currentQuizData[_0x149125(0x2f4)]){showMessage(_0x149125(0x237));return;}const _0x24670f=currentQuizData,_0x1c0e9d=window[_0x149125(0x400)]('',_0x149125(0x1bb)),_0x1fa75e=_0x3de1fd=>String['fromCharCode'](0x41+_0x3de1fd),_0x516800='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x24670f[_0x149125(0x5fb)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24670f[_0x149125(0x2f4)][_0x149125(0x71d)]((_0x16e796,_0x275573)=>{const _0x20bfe3=_0x149125;let _0x10c67c='';const _0x272165=_0x16e796['questionType']||_0x24670f[_0x20bfe3(0x867)];switch(_0x272165){case _0x20bfe3(0x73c):case _0x20bfe3(0x10d):_0x10c67c='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x16e796[_0x20bfe3(0x7e1)][_0x20bfe3(0x71d)]((_0x3827ec,_0x3a5d8e)=>_0x20bfe3(0x6a7)+_0x1fa75e(_0x3a5d8e)+'.\x20'+_0x3827ec+_0x20bfe3(0x85e))['join'](_0x20bfe3(0x3e9))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x20bfe3(0x354):_0x10c67c=_0x20bfe3(0x70e);break;default:_0x10c67c='';break;}return _0x20bfe3(0x2da)+_0x24670f[_0x20bfe3(0x5fb)]+_0x20bfe3(0x844)+(_0x275573+0x1)+_0x20bfe3(0x8b1)+(_0x16e796[_0x20bfe3(0x37b)]||_0x16e796[_0x20bfe3(0x325)])+_0x20bfe3(0x248)+(_0x16e796[_0x20bfe3(0x216)]?_0x20bfe3(0x5dc)+_0x16e796[_0x20bfe3(0x216)]+_0x20bfe3(0x22a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10c67c+_0x20bfe3(0x209);})[_0x149125(0x8bf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1c0e9d[_0x149125(0x820)][_0x149125(0x518)](_0x516800),_0x1c0e9d[_0x149125(0x820)][_0x149125(0x126)](),_0x1c0e9d[_0x149125(0x191)]=function(){setTimeout(()=>{const _0x3c4c7f=_0x1ea5;_0x1c0e9d[_0x3c4c7f(0x88f)]();},0x5dc);};}async function handleToggleStarQuiz(_0x1bbed3){const _0x117a46=_0x2ee497,_0x191843=doc(db,_0x117a46(0x100)+appId+'/public/data/quizzes',_0x1bbed3);try{const _0x42c8dc=await getDoc(_0x191843);if(_0x42c8dc[_0x117a46(0x475)]()){const _0xaafdc5=_0x42c8dc[_0x117a46(0x656)]()[_0x117a46(0x7e8)]||![];await updateDoc(_0x191843,{'isStarred':!_0xaafdc5});}}catch(_0x36be7f){console['error'](_0x117a46(0x13b),_0x36be7f),showMessage(_0x117a46(0x2d6));}}async function displayQuestionBank(){const _0x53abf6=_0x2ee497,_0x1c61a4=document[_0x53abf6(0x339)](_0x53abf6(0x79f));_0x1c61a4[_0x53abf6(0x7de)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x488fdc=collection(db,_0x53abf6(0x100)+appId+_0x53abf6(0x57c)+userId+_0x53abf6(0x1f1)),_0xb6a0d6=query(_0x488fdc),_0x285459=await getDocs(_0xb6a0d6);if(_0x285459[_0x53abf6(0x2b5)]){_0x1c61a4[_0x53abf6(0x7de)]=_0x53abf6(0x139);return;}let _0x350b80=_0x285459[_0x53abf6(0x830)][_0x53abf6(0x71d)](_0xbd5fc6=>{const _0x15a879=_0x53abf6,_0x68294c=_0xbd5fc6[_0x15a879(0x656)](),_0x116b77=_0xbd5fc6['id'];return _0x15a879(0x2d7)+JSON[_0x15a879(0x5f7)](_0x68294c)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x68294c['questionText']||_0x68294c[_0x15a879(0x37b)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x68294c[_0x15a879(0x5c0)]+_0x15a879(0x331);})['join']('');_0x1c61a4['innerHTML']=_0x53abf6(0x7e3)+_0x350b80+_0x53abf6(0x38d),document['getElementById'](_0x53abf6(0x532))[_0x53abf6(0x834)](_0x53abf6(0x5c7),createQuizFromBank);}catch(_0x583d8a){console['error'](_0x53abf6(0x173),_0x583d8a),_0x1c61a4['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x51081e,_0xedb585,_0x4c81f3){const _0x38277a=_0x2ee497,_0x8ec6fd=_0x51081e[_0x38277a(0x790)]||currentQuizData[_0x38277a(0x867)];let _0x5a7c6e='';if(_0x8ec6fd===_0x38277a(0x73c)||_0x8ec6fd===_0x38277a(0x354)){const _0x46304b=_0x8ec6fd===_0x38277a(0x354)?[_0x38277a(0x32d),_0x38277a(0x171)]:_0x51081e[_0x38277a(0x7e1)],_0x30895e=_0x8ec6fd===_0x38277a(0x354)?_0x51081e[_0x38277a(0x394)]?0x0:0x1:_0x51081e[_0x38277a(0x75e)];_0x5a7c6e=_0x46304b[_0x38277a(0x71d)]((_0x492a97,_0x56f097)=>_0x38277a(0x8b5)+(_0x56f097===_0x30895e)+_0x38277a(0x522)+_0x492a97+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x38277a(0x8bf)]('');}else{if(_0x8ec6fd===_0x38277a(0x368)){const _0x3fa2d6=_0x51081e[_0x38277a(0x8a0)]||[];_0x5a7c6e=_0x3fa2d6[_0x38277a(0x71d)](_0x18c730=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x18c730===_0x51081e['correctResponse'])+_0x38277a(0x522)+_0x18c730+_0x38277a(0x141))[_0x38277a(0x8bf)]('');}}const _0x3459b4=_0x51081e[_0x38277a(0x37b)]||_0x51081e[_0x38277a(0x325)],_0xbff007=_0x38277a(0x382)+(_0xedb585+0x1)+_0x38277a(0x3d5)+_0x4c81f3+_0x38277a(0x572)+_0x3459b4+_0x38277a(0x595)+_0x5a7c6e+_0x38277a(0x45d);liveGameView[_0x38277a(0x7de)]=_0xbff007,window['MathJax']&&MathJax[_0x38277a(0x190)]&&MathJax[_0x38277a(0x190)]([liveGameView]),document[_0x38277a(0x339)]('reveal-answer-btn')['addEventListener'](_0x38277a(0x5c7),()=>revealAnswerForAdmin(_0xedb585,_0x4c81f3)),document[_0x38277a(0x339)](_0x38277a(0x15e))[_0x38277a(0x834)](_0x38277a(0x5c7),async()=>{const _0x40618e=_0x38277a,_0x105f32=doc(db,_0x40618e(0x100)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x105f32),showView('admin-dashboard');}),document['getElementById'](_0x38277a(0x56e))['addEventListener'](_0x38277a(0x5c7),()=>{const _0x36aef9=_0x38277a;document['getElementById'](_0x36aef9(0x62c))[_0x36aef9(0xe6)][_0x36aef9(0x634)](_0x36aef9(0x730));});}function showStudentLiveQuestionView(_0x56b6d0,_0x36cf0f,_0x883639){const _0x39513a=_0x2ee497,_0x4c999a=_0x56b6d0['questionType']||currentQuizData[_0x39513a(0x867)];let _0x5948bc='';if(_0x4c999a==='multiple_choice'||_0x4c999a===_0x39513a(0x354)){const _0x21dca1=_0x4c999a===_0x39513a(0x354)?[_0x39513a(0x32d),_0x39513a(0x171)]:_0x56b6d0['options'];_0x5948bc=_0x21dca1[_0x39513a(0x71d)]((_0x37cd38,_0x325250)=>_0x39513a(0x7f3)+_0x325250+_0x39513a(0x1e8)+_0x37cd38+_0x39513a(0x1d1))[_0x39513a(0x8bf)]('');}else{if(_0x4c999a===_0x39513a(0x368)){const _0x3ff1a2=_0x56b6d0[_0x39513a(0x8a0)]||[];_0x5948bc=_0x3ff1a2['map']((_0x8c3776,_0xd1e828)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xd1e828+_0x39513a(0x1e8)+_0x8c3776+_0x39513a(0x1d1))[_0x39513a(0x8bf)]('');}else _0x4c999a==='short_answer'&&(_0x5948bc=_0x39513a(0x525));}const _0x441ab9=_0x56b6d0[_0x39513a(0x37b)]||_0x56b6d0['questionText'],_0x3b7435='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x36cf0f+0x1)+'\x20/\x20'+_0x883639+_0x39513a(0x812)+_0x441ab9+_0x39513a(0x264)+_0x5948bc+_0x39513a(0x1c6);liveGameView[_0x39513a(0x7de)]=_0x3b7435;window[_0x39513a(0x20e)]&&MathJax[_0x39513a(0x190)]&&MathJax[_0x39513a(0x190)]([liveGameView]);const _0x4af24f=document[_0x39513a(0x339)](_0x39513a(0x5c9));_0x4af24f&&_0x4af24f[_0x39513a(0x834)]('click',()=>{const _0x4a18be=_0x39513a,_0x357d50=document[_0x4a18be(0x339)](_0x4a18be(0x29e))[_0x4a18be(0x2b8)];handleLiveAnswer(_0x357d50,_0x56b6d0);}),document[_0x39513a(0x339)](_0x39513a(0x774))[_0x39513a(0x834)](_0x39513a(0x5c7),_0x27314b=>{const _0x41fb0c=_0x39513a,_0x5aa3c7=_0x27314b[_0x41fb0c(0x462)]['closest'](_0x41fb0c(0x879));if(_0x5aa3c7){const _0xc0bfbb=parseInt(_0x5aa3c7[_0x41fb0c(0x185)][_0x41fb0c(0x6d8)]);handleLiveAnswer(_0xc0bfbb,_0x56b6d0);}});}async function handleLiveAnswer(_0x35ee2f,_0x6a7fb0){const _0x195084=_0x2ee497;document[_0x195084(0x450)](_0x195084(0xdd))[_0x195084(0x2f1)](_0x10c995=>_0x10c995[_0x195084(0x154)]=!![]);const _0x337aec=_0x6a7fb0[_0x195084(0x790)]||currentQuizData['quizType'];let _0x16cf2c=![],_0x2531e1=_0x35ee2f;if(_0x337aec===_0x195084(0x324)){const _0x189891=(_0x35ee2f||'')[_0x195084(0x289)]();_0x16cf2c=await gradeShortAnswer(_0x189891,_0x6a7fb0);}else{if(_0x337aec===_0x195084(0x73c))_0x16cf2c=_0x35ee2f===_0x6a7fb0[_0x195084(0x75e)];else{if(_0x337aec===_0x195084(0x354)){const _0x2e5a78=_0x6a7fb0[_0x195084(0x394)];_0x16cf2c=_0x35ee2f===0x0&&_0x2e5a78||_0x35ee2f===0x1&&!_0x2e5a78;}else{if(_0x337aec===_0x195084(0x368)){const _0xa0650f=_0x6a7fb0[_0x195084(0x8a0)][_0x35ee2f];_0x16cf2c=_0xa0650f===_0x6a7fb0[_0x195084(0x41d)],_0x2531e1=_0xa0650f;}}}}const _0xd54085=doc(db,_0x195084(0x100)+appId+_0x195084(0x5f0),currentLiveGameId),_0x7807b={};_0x7807b[_0x195084(0x402)+currentStudentName+_0x195084(0x2d8)]=!![],_0x7807b[_0x195084(0x402)+currentStudentName+_0x195084(0x396)]=_0x16cf2c,_0x7807b[_0x195084(0x402)+currentStudentName+'.lastAnswerIndex']=_0x337aec===_0x195084(0x324)||_0x337aec===_0x195084(0x368)?null:_0x35ee2f,_0x7807b['players.'+currentStudentName+_0x195084(0x85c)]=_0x2531e1,_0x7807b[_0x195084(0x402)+currentStudentName+_0x195084(0x398)]=serverTimestamp(),_0x7807b[_0x195084(0x402)+currentStudentName+_0x195084(0x73f)]=![],await updateDoc(_0xd54085,_0x7807b),liveGameView[_0x195084(0x7de)]=_0x195084(0x4f8);}function showAdminSummaryView(_0x1029dd,_0x5a9245){const _0x27a7a1=_0x2ee497,_0x32ddb3=Object[_0x27a7a1(0x718)](_0x1029dd[_0x27a7a1(0x448)]||{}),_0x5acc5c=_0x5a9245[_0x27a7a1(0x790)]||currentQuizData[_0x27a7a1(0x867)],_0x46b496=_0x5acc5c===_0x27a7a1(0x354)?[_0x27a7a1(0x32d),_0x27a7a1(0x171)]:_0x5a9245['options']||_0x5a9245['allResponses']||[],_0x5a2aa2={},_0x15fc7b=new Array(_0x46b496[_0x27a7a1(0x2fe)])[_0x27a7a1(0x34b)](0x0);_0x46b496[_0x27a7a1(0x2f1)]((_0x122c75,_0x364617)=>{_0x5a2aa2[_0x364617]=[];}),Object[_0x27a7a1(0x7bf)](_0x1029dd['players']||{})[_0x27a7a1(0x2f1)](([_0x16ca2d,_0x5df1af])=>{const _0x5e8300=_0x27a7a1;if(_0x5df1af[_0x5e8300(0x675)]===_0x5e8300(0x4ca)&&_0x5df1af['lastAnswerIndex']!==undefined){const _0x2fd64e=_0x5df1af[_0x5e8300(0x29b)];_0x5a2aa2[_0x2fd64e]&&(_0x5a2aa2[_0x2fd64e][_0x5e8300(0x447)](_0x16ca2d),_0x15fc7b[_0x2fd64e]++);}});const _0x4a9029=Math[_0x27a7a1(0x187)](..._0x15fc7b,0x1),_0x225bac=_0x27a7a1(0x166)+(_0x5a9245[_0x27a7a1(0x37b)]||_0x5a9245[_0x27a7a1(0x325)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15fc7b['map']((_0xf3e18,_0x3ab6b7)=>{const _0x20fe6b=_0x27a7a1,_0x2b19e2=_0x5a2aa2[_0x3ab6b7][_0x20fe6b(0x2fe)]>0x0?_0x5a2aa2[_0x3ab6b7][_0x20fe6b(0x8bf)](',\x20'):_0x20fe6b(0xd6);let _0x25f43a=![];if(_0x5acc5c===_0x20fe6b(0x73c))_0x25f43a=_0x3ab6b7===_0x5a9245[_0x20fe6b(0x75e)];else{if(_0x5acc5c===_0x20fe6b(0x354)){const _0x10f7c2=_0x5a9245[_0x20fe6b(0x394)];_0x25f43a=_0x10f7c2&&_0x3ab6b7===0x0||!_0x10f7c2&&_0x3ab6b7===0x1;}else _0x5acc5c==='matching_item'&&(_0x25f43a=_0x46b496[_0x3ab6b7]===_0x5a9245[_0x20fe6b(0x41d)]);}const _0x259ec2=_0x25f43a?'#26890c':_0x20fe6b(0x8c2);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0xf3e18+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x259ec2+_0x20fe6b(0x315)+_0x3ab6b7+_0x20fe6b(0x3fe)+_0x46b496[_0x3ab6b7]+_0x20fe6b(0x61a)+_0x3ab6b7+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x20transition-opacity\x20duration-300\x20pointer-events-none\x20opacity-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b19e2+_0x20fe6b(0x35c);})['join']('')+_0x27a7a1(0xec);liveGameView[_0x27a7a1(0x7de)]=_0x225bac;if(window[_0x27a7a1(0x20e)])MathJax['typesetPromise']();document[_0x27a7a1(0x339)]('show-leaderboard-btn')[_0x27a7a1(0x834)](_0x27a7a1(0x5c7),async()=>{const _0x11edc2=_0x27a7a1,_0x14887c=doc(db,_0x11edc2(0x100)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x14887c,{'questionStatus':_0x11edc2(0x62a)});});}function showPlayerSummaryView(_0x21c7e0,_0x247bad){const _0x1cb674=_0x2ee497,_0x70a70b=Object['values'](_0x21c7e0[_0x1cb674(0x448)]||{}),_0x1d3d19=_0x21c7e0[_0x1cb674(0x448)][_0x247bad],_0x154806=_0x70a70b[_0x1cb674(0x802)](_0x3b9cdf=>_0x3b9cdf[_0x1cb674(0x675)]===_0x1cb674(0x4ca))['sort']((_0x16369b,_0x131b3a)=>_0x131b3a[_0x1cb674(0x13c)]-_0x16369b[_0x1cb674(0x13c)]),_0x38efd4=_0x154806['findIndex'](_0x2ebd02=>_0x2ebd02===_0x1d3d19)+0x1,_0x2106b2=_0x1d3d19['lastAnswerCorrect']?_0x1cb674(0x323):_0x1cb674(0x69f),_0x3155cc=_0x1d3d19[_0x1cb674(0x260)]?_0x1cb674(0x212):_0x1cb674(0x5e2),_0x14096f=_0x1d3d19[_0x1cb674(0x352)]||0x0,_0x589243=_0x1cb674(0x6a9),_0x1b5c98='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x589243+_0x1cb674(0x648)+_0x3155cc+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x2106b2+_0x1cb674(0x87e)+_0x14096f+_0x1cb674(0x62f)+(_0x38efd4>0x0?_0x38efd4:'-')+_0x1cb674(0x773);liveGameView[_0x1cb674(0x7de)]=_0x1b5c98;}function createQuizFromBank(){const _0x154607=_0x2ee497,_0x3dda3d=document[_0x154607(0x450)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x3dda3d[_0x154607(0x2fe)]===0x0){showMessage(_0x154607(0x553));return;}const _0xd2861c=[];_0x3dda3d[_0x154607(0x2f1)](_0x521e8f=>{const _0xe12e02=_0x154607;_0xd2861c['push'](JSON[_0xe12e02(0x2ed)](_0x521e8f[_0xe12e02(0x2b8)]));});const _0x1b734c={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0xd2861c};displayGeneratedQuiz(_0x1b734c);}function showAdminLobbyView(_0x53388d,_0x3646e9){const _0x23a1a0=_0x2ee497;showView(_0x23a1a0(0x76a));const _0x28834e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x3646e9+_0x23a1a0(0x86b)+_0x53388d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x23a1a0(0x7de)]=_0x28834e,document[_0x23a1a0(0x339)](_0x23a1a0(0x809))['addEventListener']('click',async()=>{const _0x5e3800=_0x23a1a0;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x5e3800(0x2f4)][_0x5e3800(0x2fe)]===0x0){showMessage(_0x5e3800(0x549));return;}try{const _0x433f90=doc(db,_0x5e3800(0x100)+appId+_0x5e3800(0x5f0),currentLiveGameId);await updateDoc(_0x433f90,{'status':_0x5e3800(0x638),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x443340=currentQuizData[_0x5e3800(0x2f4)][0x0],_0x4efbc9=currentQuizData['questions'][_0x5e3800(0x2fe)];showAdminLiveQuestionView(_0x443340,0x0,_0x4efbc9);}catch(_0x45bb6a){console[_0x5e3800(0x4e7)](_0x5e3800(0x82f),_0x45bb6a),showMessage(_0x5e3800(0x5c2));}});}async function openGlobalLiveModal(){const _0x3fa535=_0x2ee497;if(allQuizzesGlobal['length']===0x0){const _0x383879=await getDocs(collection(db,_0x3fa535(0x100)+appId+_0x3fa535(0x50f)));allQuizzesGlobal=_0x383879[_0x3fa535(0x830)][_0x3fa535(0x71d)](_0x1f7792=>({'id':_0x1f7792['id'],..._0x1f7792[_0x3fa535(0x656)]()}));}renderGlobalQuizList(''),document['getElementById'](_0x3fa535(0x365))[_0x3fa535(0xe6)][_0x3fa535(0x728)](_0x3fa535(0x730));}async function openQuizBankModal(){const _0xebf53b=_0x2ee497;if(allQuizzesGlobal[_0xebf53b(0x2fe)]===0x0){const _0x124334=await getDocs(collection(db,'artifacts/'+appId+_0xebf53b(0x50f)));allQuizzesGlobal=_0x124334['docs'][_0xebf53b(0x71d)](_0x359756=>({'id':_0x359756['id'],..._0x359756[_0xebf53b(0x656)]()}));}renderQuizBankList(''),document[_0xebf53b(0x339)]('quiz-bank-modal')[_0xebf53b(0xe6)][_0xebf53b(0x728)](_0xebf53b(0x730));}function renderQuizBankList(_0x4c4cff=''){const _0xb992ff=_0x2ee497,_0x44ffe6=document[_0xb992ff(0x339)](_0xb992ff(0x59b)),_0x38bd41=_0x4c4cff[_0xb992ff(0x47d)]()['trim'](),_0x27c10b=allQuizzesGlobal[_0xb992ff(0x71d)](_0x499c2a=>({..._0x499c2a,'projectName':allProjects[_0xb992ff(0x5f9)](_0x27cf36=>_0x27cf36['id']===_0x499c2a[_0xb992ff(0x2a2)])?.[_0xb992ff(0x72f)]||_0xb992ff(0x78d)}))[_0xb992ff(0x802)](_0x6abfed=>(_0x6abfed[_0xb992ff(0x5fb)]||'')['toLowerCase']()[_0xb992ff(0x54e)](_0x38bd41)||(_0x6abfed[_0xb992ff(0x72f)]||'')['toLowerCase']()[_0xb992ff(0x54e)](_0x38bd41)||_0x6abfed['id']['toString']()['includes'](_0x38bd41));document['getElementById']('quiz-bank-count')[_0xb992ff(0x477)]='('+_0x27c10b[_0xb992ff(0x2fe)]+'\x20ชุด)',_0x44ffe6[_0xb992ff(0x7de)]=_0x27c10b['length']?_0x27c10b[_0xb992ff(0x71d)](_0x27a0ee=>_0xb992ff(0x7fb)+_0x27a0ee['id']+_0xb992ff(0x8c4)+(_0x27a0ee[_0xb992ff(0x5fb)]||'(ไม่มีชื่อ)')+_0xb992ff(0x151)+(_0x27a0ee[_0xb992ff(0x2f4)]?.['length']||0x0)+_0xb992ff(0x5a0)+_0x27a0ee[_0xb992ff(0x72f)]+_0xb992ff(0x18c)+_0x27a0ee['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x27a0ee['id']+_0xb992ff(0x88c)+_0x27a0ee['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x27a0ee['id']+_0xb992ff(0x65a)+_0x27a0ee['id']+_0xb992ff(0x4ec)+_0x27a0ee['id']+_0xb992ff(0x721)+_0x27a0ee['id']+_0xb992ff(0xe9)+_0x27a0ee[_0xb992ff(0x5fb)]+_0xb992ff(0x1b5))['join'](''):_0xb992ff(0x7c4),_0x44ffe6[_0xb992ff(0x450)](_0xb992ff(0x26d))[_0xb992ff(0x2f1)](_0x279b09=>{const _0x359b1e=_0xb992ff;_0x279b09[_0x359b1e(0x834)](_0x359b1e(0x5c7),()=>{const _0x3e8ff6=_0x359b1e,_0x2e465f=_0x279b09['dataset']['id'];document[_0x3e8ff6(0x339)](_0x3e8ff6(0x395))['classList'][_0x3e8ff6(0x34f)](_0x3e8ff6(0x730)),showQuizDetailView(_0x2e465f);});}),_0x44ffe6['querySelectorAll']('.quiz-bank-try-btn')[_0xb992ff(0x2f1)](_0x544cbc=>{const _0x3f8d3e=_0xb992ff;_0x544cbc['addEventListener'](_0x3f8d3e(0x5c7),_0x47fe17=>{const _0x81ea60=_0x3f8d3e;_0x47fe17[_0x81ea60(0x255)]();const _0x1b1bf0=_0x544cbc[_0x81ea60(0x185)]['id'],_0x533100=allQuizzesGlobal[_0x81ea60(0x5f9)](_0x32b990=>_0x32b990['id']===_0x1b1bf0);_0x533100?(currentQuizData=_0x533100,document[_0x81ea60(0x339)](_0x81ea60(0x395))[_0x81ea60(0xe6)][_0x81ea60(0x34f)](_0x81ea60(0x730)),startAdminTest()):showMessage(_0x81ea60(0x800));});}),_0x44ffe6[_0xb992ff(0x450)](_0xb992ff(0x1a1))[_0xb992ff(0x2f1)](_0xfd1fdb=>{const _0x438826=_0xb992ff;_0xfd1fdb[_0x438826(0x834)](_0x438826(0x5c7),_0x23bc86=>{const _0x2aaab1=_0x438826;_0x23bc86[_0x2aaab1(0x255)]();const _0x1b73ad=_0xfd1fdb[_0x2aaab1(0x185)]['id'],_0xaa8d90=allQuizzesGlobal[_0x2aaab1(0x5f9)](_0x3e7776=>_0x3e7776['id']===_0x1b73ad);_0xaa8d90?(document[_0x2aaab1(0x339)](_0x2aaab1(0x395))['classList']['add'](_0x2aaab1(0x730)),handleGenerateParallelFromBank(_0xaa8d90)):showMessage(_0x2aaab1(0x800));});}),_0x44ffe6[_0xb992ff(0x450)](_0xb992ff(0x5bb))[_0xb992ff(0x2f1)](_0x13fc2c=>{const _0x5cd743=_0xb992ff;_0x13fc2c[_0x5cd743(0x834)](_0x5cd743(0x5c7),_0x25a4f7=>{const _0x1f45ae=_0x5cd743;_0x25a4f7[_0x1f45ae(0x255)]();const _0x41ac51=_0x13fc2c[_0x1f45ae(0x185)]['id'],_0x1b2dd2=allQuizzesGlobal['find'](_0x45e862=>_0x45e862['id']===_0x41ac51);_0x1b2dd2?(document[_0x1f45ae(0x339)]('quiz-bank-modal')[_0x1f45ae(0xe6)][_0x1f45ae(0x34f)](_0x1f45ae(0x730)),startPresentation(_0x1b2dd2)):showMessage(_0x1f45ae(0x800));});}),_0x44ffe6[_0xb992ff(0x450)](_0xb992ff(0xd2))[_0xb992ff(0x2f1)](_0x5c3039=>{const _0x4de367=_0xb992ff;_0x5c3039['addEventListener'](_0x4de367(0x5c7),_0x1ae646=>{const _0x5309e8=_0x4de367;_0x1ae646[_0x5309e8(0x255)]();const _0xddc0d7=_0x5c3039[_0x5309e8(0x185)]['id'];document[_0x5309e8(0x339)](_0x5309e8(0x395))[_0x5309e8(0xe6)][_0x5309e8(0x34f)](_0x5309e8(0x730)),handleMoveQuiz(_0xddc0d7);});}),_0x44ffe6[_0xb992ff(0x450)](_0xb992ff(0x15f))[_0xb992ff(0x2f1)](_0x150201=>{const _0x37c6bb=_0xb992ff;_0x150201[_0x37c6bb(0x834)]('click',_0x14b2f9=>{const _0x24b975=_0x37c6bb;_0x14b2f9[_0x24b975(0x255)]();const _0x22036c=_0x150201['dataset']['id'];document['getElementById'](_0x24b975(0x395))[_0x24b975(0xe6)]['add'](_0x24b975(0x730)),handleQuizSettings(_0x22036c);});}),_0x44ffe6[_0xb992ff(0x450)](_0xb992ff(0x403))[_0xb992ff(0x2f1)](_0x38946f=>{const _0x4d4ade=_0xb992ff;_0x38946f[_0x4d4ade(0x834)](_0x4d4ade(0x5c7),_0x44ba90=>{const _0x380596=_0x4d4ade;_0x44ba90[_0x380596(0x255)]();const _0x1d521f=_0x38946f[_0x380596(0x185)]['id'],_0x3bcbb0=_0x38946f[_0x380596(0x185)][_0x380596(0x5fb)];showConfirmation(_0x380596(0x84b)+_0x3bcbb0+_0x380596(0x27d),()=>handleDeleteQuiz(_0x1d521f));});});}async function handleCompareResults(_0x483f5d,_0x48b1e6){const _0xd56a61=_0x2ee497,_0x36db2e=document[_0xd56a61(0x339)](_0xd56a61(0xe2)),_0x3edd17=document[_0xd56a61(0x339)](_0xd56a61(0x542)),_0x45b1d4=document[_0xd56a61(0x339)](_0xd56a61(0x66d));document['getElementById']('comparison-overall-tab')[_0xd56a61(0xe6)][_0xd56a61(0x34f)]('active'),document[_0xd56a61(0x339)](_0xd56a61(0x28e))[_0xd56a61(0xe6)][_0xd56a61(0x728)](_0xd56a61(0x4ca)),_0x3edd17[_0xd56a61(0xe6)][_0xd56a61(0x728)](_0xd56a61(0x730)),_0x45b1d4[_0xd56a61(0xe6)][_0xd56a61(0x34f)]('hidden'),_0x3edd17['innerHTML']=_0xd56a61(0x39e),_0x45b1d4['innerHTML']='',_0x36db2e[_0xd56a61(0xe6)][_0xd56a61(0x728)](_0xd56a61(0x730));try{const _0x17dc1e=doc(db,'artifacts/'+appId+_0xd56a61(0x50f),_0x483f5d),_0x841953=await getDoc(_0x17dc1e);if(!_0x841953[_0xd56a61(0x475)]())throw new Error(_0xd56a61(0x86a));const _0x13afde=_0x841953[_0xd56a61(0x656)](),_0x598c97=_0x13afde[_0xd56a61(0x2f4)][_0xd56a61(0x2fe)],_0xd4103d=collection(db,_0xd56a61(0x100)+appId+'/public/data/quizzes/'+_0x48b1e6+_0xd56a61(0x607)),_0x3589ec=collection(db,_0xd56a61(0x100)+appId+_0xd56a61(0x3ac)+_0x483f5d+_0xd56a61(0x607)),[_0x16db0d,_0x13c876]=await Promise[_0xd56a61(0x7d1)]([getDocs(_0xd4103d),getDocs(_0x3589ec)]),_0x1aa710=_0x16db0d['docs'][_0xd56a61(0x71d)](_0x5ac703=>_0x5ac703[_0xd56a61(0x656)]()),_0x3400a8=_0x13c876[_0xd56a61(0x830)]['map'](_0x348c03=>_0x348c03['data']()),_0x3b3a46=_0x1aa710[_0xd56a61(0x71d)](_0x2d52c9=>_0x2d52c9['latestScore']),_0x5801f6=_0x3400a8[_0xd56a61(0x71d)](_0x57516d=>_0x57516d[_0xd56a61(0x5df)]),_0x3c57d3=calculateMeanAndStdDev(_0x3b3a46),_0x1444b0=calculateMeanAndStdDev(_0x5801f6),_0x1f21b1=_0x3c57d3['mean'],_0x50f31e=_0x1444b0['mean'],_0x5ad390=_0x50f31e-_0x1f21b1;let _0x2f4e67=_0xd56a61(0x4c6)+_0x1f21b1[_0xd56a61(0x83e)](0x2)+_0xd56a61(0x61b)+_0x50f31e[_0xd56a61(0x83e)](0x2)+_0xd56a61(0x7f5)+(_0x5ad390>=0x0?_0xd56a61(0x559):'bg-red-100')+_0xd56a61(0x384)+(_0x5ad390>=0x0?_0xd56a61(0x48a):_0xd56a61(0x6aa))+_0xd56a61(0x46d)+(_0x5ad390>=0x0?_0xd56a61(0xde):'text-red-900')+'\x22>'+(_0x5ad390>=0x0?'+':'')+_0x5ad390['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x3edd17['innerHTML']=_0x2f4e67;const _0x349f7f=document[_0xd56a61(0x339)](_0xd56a61(0x277))[_0xd56a61(0x8a6)]('2d');if(chartInstances[_0xd56a61(0x1dc)])chartInstances['comparison'][_0xd56a61(0x4e5)]();chartInstances[_0xd56a61(0x1dc)]=new Chart(_0x349f7f,{'type':_0xd56a61(0x706),'data':{'labels':[_0xd56a61(0x479)],'datasets':[{'label':_0xd56a61(0x521),'data':[_0x1f21b1],'backgroundColor':_0xd56a61(0x3b8)},{'label':_0xd56a61(0x52c),'data':[_0x50f31e],'backgroundColor':_0xd56a61(0x3c2)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x598c97}}}});const _0x5e8e14=currentProjectData[_0xd56a61(0x3ba)]||[],_0x4da0fc=_0x5e8e14['map'](_0x171df3=>{const _0x9e9246=_0xd56a61,_0x5dc865=_0x1aa710[_0x9e9246(0x5f9)](_0x2c38f8=>_0x2c38f8[_0x9e9246(0x7af)]===_0x171df3),_0xeb3807=_0x3400a8[_0x9e9246(0x5f9)](_0x175f19=>_0x175f19[_0x9e9246(0x7af)]===_0x171df3),_0x45fde1=_0x5dc865?_0x5dc865[_0x9e9246(0x5df)]:null,_0xb5704e=_0xeb3807?_0xeb3807[_0x9e9246(0x5df)]:null,_0x10878a=_0x45fde1!==null&&_0xb5704e!==null?_0xb5704e-_0x45fde1:null,_0x55faec=_0x45fde1!==null?calculateZScore(_0x45fde1,_0x3c57d3[_0x9e9246(0x12f)],_0x3c57d3['stdDev']):null,_0x45bfef=_0xb5704e!==null?calculateZScore(_0xb5704e,_0x1444b0[_0x9e9246(0x12f)],_0x1444b0['stdDev']):null,_0xe90426=_0x55faec!==null?calculateTScore(_0x55faec):null,_0x33c20e=_0x45bfef!==null?calculateTScore(_0x45bfef):null,_0x3bb156=_0xe90426!==null&&_0x33c20e!==null?_0x33c20e-_0xe90426:null;return{'name':_0x171df3,'preScore':_0x45fde1,'postScore':_0xb5704e,'gain':_0x10878a,'preTScore':_0xe90426,'postTScore':_0x33c20e,'tGain':_0x3bb156};});renderIndividualComparisonTable(_0x4da0fc,_0x45b1d4);}catch(_0x236000){console['error']('Error\x20comparing\x20results:',_0x236000),_0x3edd17[_0xd56a61(0x7de)]=_0xd56a61(0x519);}}function displayHalfMarkResult(_0x2aa021,_0x3ec201){const _0x5248e7=_0x2ee497,_0x2a323a=_0x2aa021>=_0x3ec201/0x2,_0x375743=_0x2a323a?'bg-green-100':'bg-red-100',_0x3300b6=_0x2a323a?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x5248e7(0x690),_0x1ce542=_0x2a323a?'text-green-800':_0x5248e7(0x6aa),_0x4c5846=_0x2a323a?_0x5248e7(0x8c7):'คะแนนยังไม่ถึงครึ่ง',_0x5915af=_0x2a323a?_0x5248e7(0x226):_0x5248e7(0x17d);let _0x217571='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x375743+_0x5248e7(0x13d)+_0x3300b6+_0x5248e7(0x424)+_0x1ce542+_0x5248e7(0x723)+_0x4c5846+_0x5248e7(0x31b)+_0x5915af+_0x5248e7(0x220);studentResultArea[_0x5248e7(0x7de)]=_0x217571,studentResultArea[_0x5248e7(0xe6)][_0x5248e7(0x728)](_0x5248e7(0x730)),studentQuizArea[_0x5248e7(0xe6)][_0x5248e7(0x34f)](_0x5248e7(0x730)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x2a323a});}function displayPerfectScoreResult(_0x2d2335,_0x57695f){const _0x58944e=_0x2ee497,_0x505901=_0x2d2335===_0x57695f,_0x5d2eba=_0x505901?_0x58944e(0x4f3):_0x58944e(0x568),_0x190a58=_0x505901?_0x58944e(0x824):_0x58944e(0x32a),_0x11ce60=_0x505901?_0x58944e(0x8ad):'text-blue-800',_0x34026d=_0x505901?'คะแนนเต็ม!':_0x58944e(0x429),_0xa9f6cc=_0x505901?_0x58944e(0x150):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x218a53=_0x58944e(0x451)+_0x5d2eba+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x190a58+_0x58944e(0x424)+_0x11ce60+'\x20mb-2\x22>'+_0x34026d+_0x58944e(0x31b)+_0xa9f6cc+_0x58944e(0x220);studentResultArea[_0x58944e(0x7de)]=_0x218a53,studentResultArea['classList'][_0x58944e(0x728)](_0x58944e(0x730)),studentQuizArea[_0x58944e(0xe6)][_0x58944e(0x34f)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x2d2335,'totalQuestions':_0x57695f});}function renderIndividualComparisonTable(_0x204e04,_0x3f4623){const _0x49618d=_0x2ee497;_0x204e04['sort']((_0x4e71b8,_0x15cdb3)=>(_0x15cdb3[_0x49618d(0x296)]??-Infinity)-(_0x4e71b8[_0x49618d(0x296)]??-Infinity));let _0x3ed030=_0x49618d(0x880);_0x204e04[_0x49618d(0x2fe)]===0x0?_0x3ed030+=_0x49618d(0x336):_0x204e04[_0x49618d(0x2f1)]((_0x4116ae,_0x1d416e)=>{const _0x4bc56f=_0x49618d;let _0x1a0e45='-',_0x493a40='';if(_0x4116ae['gain']!==null){const _0x3d2074=_0x4116ae[_0x4bc56f(0x4f7)]>0x0?_0x4bc56f(0x30c):_0x4116ae['gain']<0x0?'text-red-600':_0x4bc56f(0x346),_0x342393=_0x4116ae[_0x4bc56f(0x4f7)]>0x0?'+':'';_0x1a0e45=_0x4bc56f(0x1ab)+_0x3d2074+'\x22>'+_0x342393+_0x4116ae[_0x4bc56f(0x4f7)]+_0x4bc56f(0x85e);if(_0x4116ae[_0x4bc56f(0x4f7)]>0x0)_0x493a40='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x4116ae[_0x4bc56f(0x4f7)]<0x0?_0x493a40=_0x4bc56f(0x441):_0x493a40='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x5cfa46='-';if(_0x4116ae[_0x4bc56f(0x296)]!==null){const _0x29f0b8=_0x4116ae[_0x4bc56f(0x296)]>0x0?'text-green-600':_0x4116ae[_0x4bc56f(0x296)]<0x0?'text-red-600':_0x4bc56f(0x346),_0x322dd6=_0x4116ae['tGain']>0x0?'+':'';_0x5cfa46=_0x4bc56f(0x1ab)+_0x29f0b8+'\x22>'+_0x322dd6+_0x4116ae['tGain'][_0x4bc56f(0x83e)](0x2)+_0x4bc56f(0x85e);}_0x3ed030+=_0x4bc56f(0x7e5)+(_0x1d416e+0x1)+_0x4bc56f(0x5d3)+_0x4116ae[_0x4bc56f(0x2eb)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x4116ae[_0x4bc56f(0x5cd)]??'-')+_0x4bc56f(0x751)+(_0x4116ae[_0x4bc56f(0x444)]??'-')+_0x4bc56f(0x71f)+_0x1a0e45+_0x4bc56f(0x2a6)+_0x493a40+_0x4bc56f(0x24b)+(_0x4116ae[_0x4bc56f(0x7d5)]?.[_0x4bc56f(0x83e)](0x2)??'-')+_0x4bc56f(0x279)+(_0x4116ae[_0x4bc56f(0xd5)]?.[_0x4bc56f(0x83e)](0x2)??'-')+_0x4bc56f(0x71f)+_0x5cfa46+_0x4bc56f(0x62b);}),_0x3ed030+=_0x49618d(0x829),_0x3f4623[_0x49618d(0x7de)]=_0x3ed030;}function handleRenameQuiz(_0x172ca9,_0x2bba74){const _0x5ae753=_0x2ee497;actionTargetId=_0x172ca9,document[_0x5ae753(0x339)](_0x5ae753(0x6b7))['value']=_0x2bba74,renameQuizModal[_0x5ae753(0xe6)]['remove'](_0x5ae753(0x730));}function setupComparisonModalTabs(){const _0x3d2cc4=_0x2ee497,_0x44efdf=document['getElementById'](_0x3d2cc4(0x63b)),_0x479f94=document['getElementById']('comparison-individual-tab'),_0xbc6fef=document[_0x3d2cc4(0x339)]('comparison-overall-content'),_0x33fa2a=document[_0x3d2cc4(0x339)](_0x3d2cc4(0x66d));_0x44efdf[_0x3d2cc4(0x834)](_0x3d2cc4(0x5c7),()=>{const _0x2582c2=_0x3d2cc4;_0x44efdf['classList'][_0x2582c2(0x34f)](_0x2582c2(0x4ca)),_0x479f94[_0x2582c2(0xe6)][_0x2582c2(0x728)](_0x2582c2(0x4ca)),_0xbc6fef[_0x2582c2(0xe6)][_0x2582c2(0x728)]('hidden'),_0x33fa2a['classList'][_0x2582c2(0x34f)](_0x2582c2(0x730));}),_0x479f94['addEventListener'](_0x3d2cc4(0x5c7),()=>{const _0x2bb9f6=_0x3d2cc4;_0x479f94[_0x2bb9f6(0xe6)][_0x2bb9f6(0x34f)]('active'),_0x44efdf[_0x2bb9f6(0xe6)][_0x2bb9f6(0x728)](_0x2bb9f6(0x4ca)),_0x33fa2a[_0x2bb9f6(0xe6)][_0x2bb9f6(0x728)]('hidden'),_0xbc6fef[_0x2bb9f6(0xe6)]['add']('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0xeaba3b=''){const _0x4714b7=_0x2ee497,_0x13f400=document[_0x4714b7(0x339)](_0x4714b7(0x811)),_0x5c6d13=_0xeaba3b[_0x4714b7(0x47d)]()[_0x4714b7(0x6df)](),_0x18111a=allQuizzesGlobal['map'](_0x5726af=>({..._0x5726af,'projectName':allProjects[_0x4714b7(0x5f9)](_0x36bdbe=>_0x36bdbe['id']===_0x5726af[_0x4714b7(0x2a2)])?.[_0x4714b7(0x72f)]||_0x5726af[_0x4714b7(0x2a2)]}))['filter'](_0x2e5937=>(_0x2e5937[_0x4714b7(0x5fb)]||'')[_0x4714b7(0x47d)]()[_0x4714b7(0x54e)](_0x5c6d13)||(_0x2e5937['projectName']||'')['toLowerCase']()[_0x4714b7(0x54e)](_0x5c6d13));document[_0x4714b7(0x339)]('global-live-game-count')[_0x4714b7(0x477)]='('+_0x18111a[_0x4714b7(0x2fe)]+_0x4714b7(0x4e3),_0x13f400[_0x4714b7(0x7de)]=_0x18111a['length']?_0x18111a['map'](_0x227bfe=>_0x4714b7(0xc7)+_0x227bfe['id']+_0x4714b7(0x158)+(_0x227bfe['topic']||_0x4714b7(0x853))+_0x4714b7(0xd9)+(_0x227bfe[_0x4714b7(0x2f4)]?.['length']||0x0)+_0x4714b7(0x5b9)+_0x227bfe[_0x4714b7(0x72f)]+_0x4714b7(0x3bc))[_0x4714b7(0x8bf)](''):_0x4714b7(0xdf),selectedGlobalQuizId=null,document[_0x4714b7(0x339)](_0x4714b7(0x79e))[_0x4714b7(0x154)]=!![],_0x13f400[_0x4714b7(0x450)](_0x4714b7(0x6d0))[_0x4714b7(0x2f1)](_0x4c0af3=>{const _0x46c151=_0x4714b7;_0x4c0af3[_0x46c151(0x834)]('click',()=>{const _0x36df8f=_0x46c151;selectedGlobalQuizId=_0x4c0af3[_0x36df8f(0x185)]['id'],_0x13f400[_0x36df8f(0x450)](_0x36df8f(0x6f0))[_0x36df8f(0x2f1)](_0x471c8e=>_0x471c8e[_0x36df8f(0xe6)][_0x36df8f(0x728)](_0x36df8f(0x30d),_0x36df8f(0x1c0),_0x36df8f(0x52f))),_0x4c0af3[_0x36df8f(0xe6)][_0x36df8f(0x34f)](_0x36df8f(0x30d),_0x36df8f(0x1c0),_0x36df8f(0x52f)),document[_0x36df8f(0x339)](_0x36df8f(0x79e))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0xaf2985=_0x2ee497;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3acc73=doc(db,'artifacts/'+appId+_0xaf2985(0x5f0),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3acc73,_0x1cdc8a=>{const _0x1e9766=_0xaf2985;if(!_0x1cdc8a[_0x1e9766(0x475)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0xbe764e=_0x1cdc8a['data']();_0xbe764e[_0x1e9766(0x533)]&&(currentQuizData=_0xbe764e[_0x1e9766(0x533)]);!currentQuizData&&_0xbe764e[_0x1e9766(0x6ca)]&&((async()=>{const _0x2d71ac=_0x1e9766;try{const _0xc0539f=doc(db,_0x2d71ac(0x100)+appId+_0x2d71ac(0x50f),_0xbe764e[_0x2d71ac(0x6ca)]),_0x3f1ef0=await getDoc(_0xc0539f);_0x3f1ef0[_0x2d71ac(0x475)]()&&(currentQuizData={'id':_0x3f1ef0['id'],..._0x3f1ef0[_0x2d71ac(0x656)]()});}catch(_0x16e703){console[_0x2d71ac(0x4e7)](_0x2d71ac(0x840),_0x16e703);}})());switch(_0xbe764e['status']){case _0x1e9766(0x1e1):if(currentMode===_0x1e9766(0x79b)){const _0x4199f8=_0xbe764e[_0x1e9766(0x448)]?Object[_0x1e9766(0x7bf)](_0xbe764e[_0x1e9766(0x448)]):[],_0xa8882e=_0x4199f8[_0x1e9766(0x802)](([_0xb6f4d6,_0x3d4d14])=>_0x3d4d14[_0x1e9766(0x675)]===_0x1e9766(0x4ca)),_0x209a87=document[_0x1e9766(0x339)](_0x1e9766(0x1a0));if(_0x209a87)_0x209a87[_0x1e9766(0x477)]=_0xa8882e[_0x1e9766(0x2fe)];const _0x4b5b80=document[_0x1e9766(0x339)](_0x1e9766(0x362));_0x4b5b80&&(_0x4b5b80[_0x1e9766(0x7de)]=_0xa8882e[_0x1e9766(0x71d)](([_0x57fb27,_0x2c0b4f])=>_0x1e9766(0x3d6)+_0x57fb27+_0x1e9766(0xea)+_0x57fb27+_0x1e9766(0x622))[_0x1e9766(0x8bf)](''));const _0x2af850=document[_0x1e9766(0x339)](_0x1e9766(0x809));_0x2af850&&(_0x2af850[_0x1e9766(0x154)]=_0xa8882e[_0x1e9766(0x2fe)]===0x0);}else showView('live-game'),liveGameView[_0x1e9766(0x7de)]=_0x1e9766(0x511)+currentStudentName+_0x1e9766(0x814);break;case _0x1e9766(0x638):const _0x40bc3c=_0xbe764e[_0x1e9766(0x7c7)];if(currentQuizData&&currentQuizData[_0x1e9766(0x2f4)][_0x40bc3c]){const _0x8a4a0f=currentQuizData[_0x1e9766(0x2f4)][_0x40bc3c],_0x54af7c=_0xbe764e['questionStatus']||_0x1e9766(0x3dd);switch(_0x54af7c){case'summary_chart':currentMode===_0x1e9766(0x79b)?showAdminSummaryView(_0xbe764e,_0x8a4a0f):showPlayerSummaryView(_0xbe764e,currentStudentName);break;case _0x1e9766(0x62a):if(currentMode==='admin')showTop5LeaderboardView(_0xbe764e);else{}break;case _0x1e9766(0x3dd):default:if(currentMode===_0x1e9766(0x79b)){const _0x383664=writeBatch(db);let _0x5b7537=![];Object[_0x1e9766(0x7bf)](_0xbe764e[_0x1e9766(0x448)])['forEach'](([_0x486c7c,_0x2818c0])=>{const _0x2a4c5f=_0x1e9766;if(_0x2818c0[_0x2a4c5f(0x675)]===_0x2a4c5f(0x4ca)&&_0x2818c0[_0x2a4c5f(0x5e5)]&&!_0x2818c0[_0x2a4c5f(0x881)]){_0x5b7537=!![];const _0x2d4935=_0x2818c0['submittedAt'][_0x2a4c5f(0x259)]()-_0xbe764e[_0x2a4c5f(0x83a)]['toDate']();let _0x136db1=0x0;if(_0x2818c0['lastAnswerCorrect']){const _0x449e32=0x3e8,_0x369456=0x1f4,_0x29ba78=0x4e20;let _0x39ffd7=_0x2d4935/_0x29ba78;if(_0x39ffd7>0x1)_0x39ffd7=0x1;const _0x423379=Math['round'](_0x39ffd7*_0x369456);_0x136db1=_0x449e32-_0x423379;}const _0x3cf847=doc(db,'artifacts/'+appId+_0x2a4c5f(0x5f0),currentLiveGameId);_0x383664['update'](_0x3cf847,{[_0x2a4c5f(0x402)+_0x486c7c+'.score']:increment(_0x136db1),[_0x2a4c5f(0x402)+_0x486c7c+_0x2a4c5f(0x7b5)]:_0x136db1,[_0x2a4c5f(0x402)+_0x486c7c+'.isScored']:!![]});}});_0x5b7537&&_0x383664['commit']()[_0x1e9766(0x7d9)](_0x2f1b48=>console[_0x1e9766(0x4e7)](_0x1e9766(0x858),_0x2f1b48));lastRenderedAdminQuestionIndex!==_0x40bc3c&&(showAdminLiveQuestionView(_0x8a4a0f,_0x40bc3c,currentQuizData[_0x1e9766(0x2f4)]['length']),lastRenderedAdminQuestionIndex=_0x40bc3c);const _0x10442a=_0xbe764e['players']||{},_0x211c15=Object['values'](_0x10442a)['filter'](_0x3299b4=>_0x3299b4[_0x1e9766(0x675)]==='active'),_0x8b9589=_0x211c15[_0x1e9766(0x2fe)],_0x4e0c6b=_0x211c15[_0x1e9766(0x802)](_0x5506c2=>_0x5506c2['answeredCurrentQuestion']===!![])['length'],_0x30af5e=document[_0x1e9766(0x339)](_0x1e9766(0x414));if(_0x30af5e)_0x30af5e[_0x1e9766(0x477)]=_0x4e0c6b+'/'+_0x8b9589;_0x8b9589>0x0&&_0x4e0c6b===_0x8b9589&&revealAnswerForAdmin(_0x40bc3c,currentQuizData[_0x1e9766(0x2f4)][_0x1e9766(0x2fe)]);}else{const _0x2e1b26=_0xbe764e[_0x1e9766(0x448)][currentStudentName];_0x2e1b26&&!_0x2e1b26[_0x1e9766(0xe7)]&&showStudentLiveQuestionView(_0x8a4a0f,_0x40bc3c,currentQuizData['questions'][_0x1e9766(0x2fe)]);}break;}}break;case'podium':showPodiumView(_0xbe764e['players']);break;}});}async function handleKickPlayer(_0x25b811){const _0x38b324=_0x2ee497;if(!currentLiveGameId||!_0x25b811)return;const _0x568989=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x2280e8={};_0x2280e8['players.'+_0x25b811+'.status']='inactive';try{await updateDoc(_0x568989,_0x2280e8);}catch(_0x33e843){console[_0x38b324(0x4e7)]('Failed\x20to\x20kick\x20player\x20'+_0x25b811+':',_0x33e843),showMessage(_0x38b324(0x271));}}async function authenticateUser(){const _0x33df5b=_0x2ee497;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xf4699a){console['error'](_0x33df5b(0x2b9),_0xf4699a),showMessage(_0x33df5b(0x114));}}function showView(_0x228781){const _0x33b166=_0x2ee497,_0x742da3=[_0x33b166(0x760),'student-view',_0x33b166(0x1ad),_0x33b166(0x817),'quiz-results-view',_0x33b166(0x390),_0x33b166(0x425)];_0x742da3[_0x33b166(0x2f1)](_0x152abb=>document[_0x33b166(0x339)](_0x152abb)?.[_0x33b166(0xe6)][_0x33b166(0x34f)]('hidden'));if(_0x228781===_0x33b166(0x459))adminView[_0x33b166(0xe6)][_0x33b166(0x728)](_0x33b166(0x730)),projectDashboardView[_0x33b166(0xe6)][_0x33b166(0x728)](_0x33b166(0x730));else{if(_0x228781===_0x33b166(0x189))studentView[_0x33b166(0xe6)][_0x33b166(0x728)](_0x33b166(0x730)),studentInitialView[_0x33b166(0xe6)]['remove']('hidden'),studentNameSelectionView[_0x33b166(0xe6)][_0x33b166(0x34f)]('hidden'),studentQuizArea[_0x33b166(0xe6)][_0x33b166(0x34f)](_0x33b166(0x730)),studentResultArea[_0x33b166(0xe6)]['add'](_0x33b166(0x730)),studentReadingArea[_0x33b166(0xe6)][_0x33b166(0x34f)](_0x33b166(0x730)),studentJoinGameView[_0x33b166(0xe6)][_0x33b166(0x34f)]('hidden');else{if(_0x228781==='project-detail')adminView[_0x33b166(0xe6)][_0x33b166(0x728)](_0x33b166(0x730)),projectDetailView[_0x33b166(0xe6)][_0x33b166(0x728)](_0x33b166(0x730));else{if(_0x228781==='quiz-results')adminView[_0x33b166(0xe6)][_0x33b166(0x728)]('hidden'),quizResultsView[_0x33b166(0xe6)]['remove']('hidden');else _0x228781===_0x33b166(0x76a)&&liveGameView['classList'][_0x33b166(0x728)](_0x33b166(0x730));}}}}function showJoinGameView(){const _0x380eef=_0x2ee497;studentInitialView['classList'][_0x380eef(0x34f)](_0x380eef(0x730)),studentJoinGameView[_0x380eef(0xe6)][_0x380eef(0x728)]('hidden');}async function handleSaveVisibilitySettings(){const _0x2448f6=_0x2ee497;if(!currentProjectId)return;const _0x38a004=doc(db,_0x2448f6(0x100)+appId+_0x2448f6(0x537),currentProjectId);try{await updateDoc(_0x38a004,{'settings.showInStudentDashboard':document[_0x2448f6(0x339)]('show-in-student-dashboard-checkbox')['checked'],'settings.isPasscodeEnabled':document['getElementById']('enable-passcode-checkbox')[_0x2448f6(0x149)],'settings.passcode':document[_0x2448f6(0x339)](_0x2448f6(0x1f9))[_0x2448f6(0x2b8)][_0x2448f6(0x6df)]()}),showMessage(_0x2448f6(0x152));}catch(_0x183983){console[_0x2448f6(0x4e7)](_0x2448f6(0x80a),_0x183983),showMessage(_0x2448f6(0x280));}}function setupEventListeners(){const _0x2bbc97=_0x2ee497,_0x2ce9eb=document[_0x2bbc97(0x339)](_0x2bbc97(0x390));_0x2ce9eb[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),_0x25ea67=>{const _0x2257ee=_0x2bbc97,_0x112c99=_0x25ea67[_0x2257ee(0x462)][_0x2257ee(0x762)]('.summary-bar-item');document['querySelectorAll'](_0x2257ee(0x62e))[_0x2257ee(0x2f1)](_0x23e722=>{const _0x3fb329=_0x2257ee;(!_0x112c99||_0x23e722['id']!==_0x112c99[_0x3fb329(0x185)][_0x3fb329(0x1b6)])&&_0x23e722[_0x3fb329(0xe6)][_0x3fb329(0x728)]('visible');});if(!_0x112c99)return;const _0x2b06c8=_0x112c99[_0x2257ee(0x185)][_0x2257ee(0x1b6)],_0x982aa2=document[_0x2257ee(0x339)](_0x2b06c8);_0x982aa2&&_0x982aa2[_0x2257ee(0xe6)][_0x2257ee(0x634)](_0x2257ee(0x59e));}),_0x2ce9eb[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),_0x548fcf=>{const _0x2bd3a3=_0x2bbc97;if(_0x548fcf[_0x2bd3a3(0x462)]['classList']['contains'](_0x2bd3a3(0x122))){const _0x275278=_0x548fcf[_0x2bd3a3(0x462)]['dataset'][_0x2bd3a3(0x1f4)];_0x275278&&handleKickPlayer(_0x275278);}}),document[_0x2bbc97(0x339)](_0x2bbc97(0x19f))[_0x2bbc97(0x834)](_0x2bbc97(0x15a),()=>document['getElementById']('save-project-name-btn')[_0x2bbc97(0xe6)][_0x2bbc97(0x728)](_0x2bbc97(0x730))),document['getElementById']('save-project-name-btn')[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleSaveProjectName),document[_0x2bbc97(0x339)](_0x2bbc97(0x19f))[_0x2bbc97(0x834)](_0x2bbc97(0x7ce),_0x2060f8=>{const _0x978678=_0x2bbc97;_0x2060f8[_0x978678(0x4e9)]===_0x978678(0x19e)&&(_0x2060f8[_0x978678(0x5a2)](),_0x2060f8[_0x978678(0x462)][_0x978678(0x68f)](),handleSaveProjectName());}),document[_0x2bbc97(0x339)](_0x2bbc97(0x4c1))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x19ffe7=_0x2bbc97;document[_0x19ffe7(0x339)](_0x19ffe7(0x624))[_0x19ffe7(0xe6)][_0x19ffe7(0x728)](_0x19ffe7(0x730));}),document['getElementById'](_0x2bbc97(0x6e8))['addEventListener']('click',()=>{const _0x5f179d=_0x2bbc97;document[_0x5f179d(0x339)](_0x5f179d(0x624))[_0x5f179d(0xe6)][_0x5f179d(0x34f)](_0x5f179d(0x730));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x4ad))[_0x2bbc97(0x834)]('click',handleBulkUpdateQuizSettings),document[_0x2bbc97(0x339)](_0x2bbc97(0x72c))['addEventListener'](_0x2bbc97(0x5c7),handleModeSwitch),document['getElementById'](_0x2bbc97(0x117))['addEventListener'](_0x2bbc97(0x5c7),handleUpdateOldQuizzes),document[_0x2bbc97(0x339)]('reset-project-order-btn')[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleResetProjectOrder),document[_0x2bbc97(0x339)](_0x2bbc97(0x312))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleSaveVisibilitySettings),document[_0x2bbc97(0x339)](_0x2bbc97(0x672))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleAddCustomMathTopic),document[_0x2bbc97(0x339)](_0x2bbc97(0x576))[_0x2bbc97(0x834)]('click',handleSelectAllTopics),document[_0x2bbc97(0x339)](_0x2bbc97(0x1c8))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleDeselectAllTopics),document['getElementById'](_0x2bbc97(0x88a))['addEventListener'](_0x2bbc97(0x5c7),()=>{const _0xf43b45=_0x2bbc97;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0xf43b45(0x459));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x431))['addEventListener']('click',()=>{const _0x500f7b=_0x2bbc97;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x500f7b(0x43c));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x52d))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x4c4d94=_0x2bbc97;showView(_0x4c4d94(0x459));}),document['getElementById'](_0x2bbc97(0x2c8))['addEventListener'](_0x2bbc97(0x5c7),()=>{const _0x58d432=_0x2bbc97;messageModal[_0x58d432(0xe6)]['add']('hidden'),typeof modalConfirmAction===_0x58d432(0x1b0)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x2bbc97(0x339)](_0x2bbc97(0x30e))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>createProjectModal[_0x2bbc97(0xe6)]['remove']('hidden')),document[_0x2bbc97(0x339)](_0x2bbc97(0x852))[_0x2bbc97(0x834)]('click',()=>createProjectModal[_0x2bbc97(0xe6)][_0x2bbc97(0x34f)](_0x2bbc97(0x730))),document[_0x2bbc97(0x339)](_0x2bbc97(0x55a))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>adminPasswordModal['classList'][_0x2bbc97(0x34f)](_0x2bbc97(0x730))),document[_0x2bbc97(0x339)](_0x2bbc97(0x12d))[_0x2bbc97(0x834)]('click',handleAdminLogin),document[_0x2bbc97(0x339)](_0x2bbc97(0x30a))[_0x2bbc97(0x834)](_0x2bbc97(0x6b6),_0x481a92=>{const _0x26e3b7=_0x2bbc97;if(_0x481a92[_0x26e3b7(0x4e9)]===_0x26e3b7(0x19e))handleAdminLogin();}),document[_0x2bbc97(0x339)]('cancel-delete-btn')[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x273d87=_0x2bbc97;confirmationModal[_0x273d87(0xe6)][_0x273d87(0x34f)](_0x273d87(0x730)),confirmAction=null;}),document[_0x2bbc97(0x339)](_0x2bbc97(0xc9))['addEventListener']('click',()=>{const _0x59436e=_0x2bbc97;confirmAction&&confirmAction(),confirmationModal['classList'][_0x59436e(0x34f)](_0x59436e(0x730)),confirmAction=null;}),document[_0x2bbc97(0x339)]('cancel-rename-quiz-btn')[_0x2bbc97(0x834)]('click',()=>renameQuizModal[_0x2bbc97(0xe6)][_0x2bbc97(0x34f)](_0x2bbc97(0x730))),document[_0x2bbc97(0x339)](_0x2bbc97(0x76f))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),confirmRenameQuiz),document[_0x2bbc97(0x339)](_0x2bbc97(0x4a7))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>moveQuizModal[_0x2bbc97(0xe6)][_0x2bbc97(0x34f)]('hidden')),document[_0x2bbc97(0x339)](_0x2bbc97(0x872))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),confirmMoveQuiz),document[_0x2bbc97(0x339)](_0x2bbc97(0x88e))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>quizSettingsModal[_0x2bbc97(0xe6)][_0x2bbc97(0x34f)]('hidden')),document[_0x2bbc97(0x339)](_0x2bbc97(0x7b3))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),confirmQuizSettings),document[_0x2bbc97(0x339)](_0x2bbc97(0x2ec))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>quizStatusModal[_0x2bbc97(0xe6)][_0x2bbc97(0x34f)](_0x2bbc97(0x730))),document[_0x2bbc97(0x339)](_0x2bbc97(0x5c3))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),confirmQuizStatus);const _0x1b5091=document['getElementById'](_0x2bbc97(0x1db));document[_0x2bbc97(0x339)](_0x2bbc97(0x11d))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x2801b7=_0x2bbc97;_0x1b5091[_0x2801b7(0xe6)]['add'](_0x2801b7(0x730));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x5fa))['addEventListener'](_0x2bbc97(0x5c7),async()=>{const _0x48c3a7=_0x2bbc97,_0x57dbec=allQuizzes['find'](_0x43980d=>_0x43980d['id']===actionTargetId);_0x57dbec?(currentQuizData=_0x57dbec,exportQuizAsWorksheetPDF()):showMessage(_0x48c3a7(0x800)),_0x1b5091[_0x48c3a7(0xe6)][_0x48c3a7(0x34f)](_0x48c3a7(0x730));}),document[_0x2bbc97(0x339)]('export-tutor-pdf-btn')[_0x2bbc97(0x834)]('click',async()=>{const _0x15c8e7=_0x2bbc97,_0x1e8388=allQuizzes[_0x15c8e7(0x5f9)](_0x27c066=>_0x27c066['id']===actionTargetId);_0x1e8388?(currentQuizData=_0x1e8388,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x1b5091[_0x15c8e7(0xe6)][_0x15c8e7(0x34f)](_0x15c8e7(0x730));}),document[_0x2bbc97(0x339)]('open-global-live-btn')[_0x2bbc97(0x834)]('click',openGlobalLiveModal),document[_0x2bbc97(0x339)](_0x2bbc97(0x291))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x5869aa=_0x2bbc97;document['getElementById'](_0x5869aa(0x365))[_0x5869aa(0xe6)][_0x5869aa(0x34f)]('hidden'),selectedGlobalQuizId=null;}),document[_0x2bbc97(0x339)](_0x2bbc97(0x8b6))[_0x2bbc97(0x834)](_0x2bbc97(0x309),_0x4d86d0=>renderGlobalQuizList(_0x4d86d0[_0x2bbc97(0x462)]['value'])),document[_0x2bbc97(0x339)](_0x2bbc97(0x79e))[_0x2bbc97(0x834)]('click',()=>{const _0x1e0406=_0x2bbc97,_0xc182b3=selectedGlobalQuizId;if(!_0xc182b3)return;document['getElementById'](_0x1e0406(0x365))[_0x1e0406(0xe6)][_0x1e0406(0x34f)](_0x1e0406(0x730)),handleStartLiveRace(_0xc182b3);}),document[_0x2bbc97(0x339)]('project-search-input')[_0x2bbc97(0x834)](_0x2bbc97(0x309),renderProjects),document['getElementById'](_0x2bbc97(0x6b5))[_0x2bbc97(0x834)](_0x2bbc97(0x31d),async()=>{const _0x71737d=_0x2bbc97,_0x575546=document['getElementById'](_0x71737d(0x6b5))['value'],_0x270e35=doc(db,'globalSettings',_0x71737d(0x36b));try{await setDoc(_0x270e35,{'projectSort':_0x575546},{'merge':!![]});}catch(_0xbac4ed){console[_0x71737d(0x4e7)]('Error\x20updating\x20sort\x20preference:',_0xbac4ed),showMessage(_0x71737d(0x6a8));}}),document['getElementById'](_0x2bbc97(0x64a))[_0x2bbc97(0x834)](_0x2bbc97(0x309),renderQuizzes),document['getElementById']('grid-view-btn')[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x2ab162=_0x2bbc97;globalDashboardSettings[_0x2ab162(0x27f)]='grid',saveUserPreference(_0x2ab162(0x27f),'grid'),renderProjects();}),document[_0x2bbc97(0x339)]('list-view-btn')['addEventListener']('click',()=>{const _0x4cd680=_0x2bbc97;globalDashboardSettings['projectView']=_0x4cd680(0x80d),saveUserPreference('projectView','list'),renderProjects();}),manageTab[_0x2bbc97(0x834)]('click',()=>switchProjectTab('manage')),resultsTab[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>switchProjectTab(_0x2bbc97(0x579))),leaderboardTab[_0x2bbc97(0x834)]('click',()=>switchProjectTab(_0x2bbc97(0x62a))),document[_0x2bbc97(0x339)](_0x2bbc97(0x4f0))[_0x2bbc97(0x834)]('click',()=>switchQuizDetailTab(_0x2bbc97(0x138))),document[_0x2bbc97(0x339)](_0x2bbc97(0x355))[_0x2bbc97(0x834)]('click',()=>switchQuizDetailTab(_0x2bbc97(0x24f))),document[_0x2bbc97(0x339)](_0x2bbc97(0x68d))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>switchQuizDetailTab(_0x2bbc97(0x80e))),document[_0x2bbc97(0x339)](_0x2bbc97(0x713))['addEventListener']('click',()=>switchQuizDetailTab('behavior-log')),document[_0x2bbc97(0x339)](_0x2bbc97(0x13f))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleAnalyzeClass),generateWorksheetBtn[_0x2bbc97(0x834)]('click',generateWorksheet);const _0x265972=document[_0x2bbc97(0x339)]('link-tab'),_0x4383a4=document[_0x2bbc97(0x339)]('link-input-area'),_0x5ba696=document['getElementById']('blueprint-tab'),_0x4e5001=document['getElementById']('blueprint-input-area'),_0x257ebd=document[_0x2bbc97(0x339)](_0x2bbc97(0x401)),_0x3fa4ee=document[_0x2bbc97(0x339)](_0x2bbc97(0x199));topicTab[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x2e2976=_0x2bbc97;topicTab['classList']['add'](_0x2e2976(0x4ca)),textTab[_0x2e2976(0xe6)][_0x2e2976(0x728)](_0x2e2976(0x4ca)),fileTab[_0x2e2976(0xe6)][_0x2e2976(0x728)](_0x2e2976(0x4ca)),worksheetTab[_0x2e2976(0xe6)][_0x2e2976(0x728)](_0x2e2976(0x4ca));if(_0x265972)_0x265972[_0x2e2976(0xe6)][_0x2e2976(0x728)](_0x2e2976(0x4ca));if(_0x5ba696)_0x5ba696[_0x2e2976(0xe6)][_0x2e2976(0x728)](_0x2e2976(0x4ca));if(_0x257ebd)_0x257ebd[_0x2e2976(0xe6)][_0x2e2976(0x728)](_0x2e2976(0x4ca));topicInputArea['classList']['remove'](_0x2e2976(0x730)),textInputArea[_0x2e2976(0xe6)][_0x2e2976(0x34f)](_0x2e2976(0x730)),fileInputArea[_0x2e2976(0xe6)][_0x2e2976(0x34f)](_0x2e2976(0x730)),worksheetInputArea['classList'][_0x2e2976(0x34f)](_0x2e2976(0x730));if(_0x4383a4)_0x4383a4[_0x2e2976(0xe6)][_0x2e2976(0x34f)](_0x2e2976(0x730));if(_0x4e5001)_0x4e5001[_0x2e2976(0xe6)][_0x2e2976(0x34f)](_0x2e2976(0x730));if(_0x3fa4ee)_0x3fa4ee['classList'][_0x2e2976(0x34f)](_0x2e2976(0x730));}),textTab[_0x2bbc97(0x834)]('click',()=>{const _0x4a146b=_0x2bbc97;textTab[_0x4a146b(0xe6)][_0x4a146b(0x34f)](_0x4a146b(0x4ca)),topicTab[_0x4a146b(0xe6)]['remove'](_0x4a146b(0x4ca)),fileTab['classList'][_0x4a146b(0x728)](_0x4a146b(0x4ca)),worksheetTab[_0x4a146b(0xe6)][_0x4a146b(0x728)](_0x4a146b(0x4ca));if(_0x265972)_0x265972[_0x4a146b(0xe6)]['remove'](_0x4a146b(0x4ca));if(_0x5ba696)_0x5ba696[_0x4a146b(0xe6)]['remove'](_0x4a146b(0x4ca));if(_0x257ebd)_0x257ebd[_0x4a146b(0xe6)]['remove'](_0x4a146b(0x4ca));textInputArea[_0x4a146b(0xe6)][_0x4a146b(0x728)](_0x4a146b(0x730)),topicInputArea[_0x4a146b(0xe6)][_0x4a146b(0x34f)]('hidden'),fileInputArea[_0x4a146b(0xe6)][_0x4a146b(0x34f)](_0x4a146b(0x730)),worksheetInputArea[_0x4a146b(0xe6)][_0x4a146b(0x34f)](_0x4a146b(0x730));if(_0x4383a4)_0x4383a4[_0x4a146b(0xe6)][_0x4a146b(0x34f)]('hidden');if(_0x4e5001)_0x4e5001[_0x4a146b(0xe6)]['add'](_0x4a146b(0x730));if(_0x3fa4ee)_0x3fa4ee['classList'][_0x4a146b(0x34f)](_0x4a146b(0x730));}),fileTab[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x1c442a=_0x2bbc97;fileTab[_0x1c442a(0xe6)]['add'](_0x1c442a(0x4ca)),topicTab[_0x1c442a(0xe6)][_0x1c442a(0x728)](_0x1c442a(0x4ca)),textTab[_0x1c442a(0xe6)]['remove'](_0x1c442a(0x4ca)),worksheetTab[_0x1c442a(0xe6)][_0x1c442a(0x728)]('active');if(_0x265972)_0x265972[_0x1c442a(0xe6)][_0x1c442a(0x728)](_0x1c442a(0x4ca));if(_0x5ba696)_0x5ba696['classList'][_0x1c442a(0x728)](_0x1c442a(0x4ca));if(_0x257ebd)_0x257ebd[_0x1c442a(0xe6)]['remove']('active');fileInputArea[_0x1c442a(0xe6)][_0x1c442a(0x728)](_0x1c442a(0x730)),topicInputArea['classList'][_0x1c442a(0x34f)]('hidden'),textInputArea[_0x1c442a(0xe6)][_0x1c442a(0x34f)]('hidden'),worksheetInputArea['classList'][_0x1c442a(0x34f)](_0x1c442a(0x730));if(_0x4383a4)_0x4383a4[_0x1c442a(0xe6)]['add']('hidden');if(_0x4e5001)_0x4e5001[_0x1c442a(0xe6)][_0x1c442a(0x34f)](_0x1c442a(0x730));if(_0x3fa4ee)_0x3fa4ee[_0x1c442a(0xe6)][_0x1c442a(0x34f)]('hidden');}),worksheetTab[_0x2bbc97(0x834)]('click',()=>{const _0x4b9bfb=_0x2bbc97;worksheetTab['classList'][_0x4b9bfb(0x34f)](_0x4b9bfb(0x4ca)),topicTab[_0x4b9bfb(0xe6)][_0x4b9bfb(0x728)](_0x4b9bfb(0x4ca)),textTab['classList'][_0x4b9bfb(0x728)](_0x4b9bfb(0x4ca)),fileTab[_0x4b9bfb(0xe6)][_0x4b9bfb(0x728)](_0x4b9bfb(0x4ca));if(_0x265972)_0x265972['classList'][_0x4b9bfb(0x728)](_0x4b9bfb(0x4ca));if(_0x5ba696)_0x5ba696['classList'][_0x4b9bfb(0x728)]('active');if(_0x257ebd)_0x257ebd[_0x4b9bfb(0xe6)][_0x4b9bfb(0x728)](_0x4b9bfb(0x4ca));worksheetInputArea[_0x4b9bfb(0xe6)][_0x4b9bfb(0x728)]('hidden'),topicInputArea[_0x4b9bfb(0xe6)]['add'](_0x4b9bfb(0x730)),textInputArea[_0x4b9bfb(0xe6)][_0x4b9bfb(0x34f)]('hidden'),fileInputArea[_0x4b9bfb(0xe6)][_0x4b9bfb(0x34f)](_0x4b9bfb(0x730));if(_0x4383a4)_0x4383a4[_0x4b9bfb(0xe6)][_0x4b9bfb(0x34f)](_0x4b9bfb(0x730));if(_0x4e5001)_0x4e5001[_0x4b9bfb(0xe6)][_0x4b9bfb(0x34f)](_0x4b9bfb(0x730));if(_0x3fa4ee)_0x3fa4ee['classList'][_0x4b9bfb(0x34f)](_0x4b9bfb(0x730));});const _0x6e01f3=document[_0x2bbc97(0x339)](_0x2bbc97(0x2c3)),_0x524fa3=document[_0x2bbc97(0x339)]('bank-input-area');_0x6e01f3&&_0x6e01f3[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0xb5484c=_0x2bbc97;topicTab[_0xb5484c(0xe6)][_0xb5484c(0x728)](_0xb5484c(0x4ca)),textTab['classList'][_0xb5484c(0x728)](_0xb5484c(0x4ca)),fileTab[_0xb5484c(0xe6)][_0xb5484c(0x728)]('active'),worksheetTab[_0xb5484c(0xe6)][_0xb5484c(0x728)](_0xb5484c(0x4ca));if(_0x265972)_0x265972[_0xb5484c(0xe6)]['remove'](_0xb5484c(0x4ca));if(_0x5ba696)_0x5ba696[_0xb5484c(0xe6)]['remove'](_0xb5484c(0x4ca));if(_0x257ebd)_0x257ebd[_0xb5484c(0xe6)]['remove'](_0xb5484c(0x4ca));_0x6e01f3[_0xb5484c(0xe6)][_0xb5484c(0x34f)](_0xb5484c(0x4ca)),topicInputArea[_0xb5484c(0xe6)][_0xb5484c(0x34f)](_0xb5484c(0x730)),textInputArea[_0xb5484c(0xe6)][_0xb5484c(0x34f)]('hidden'),fileInputArea[_0xb5484c(0xe6)][_0xb5484c(0x34f)](_0xb5484c(0x730)),worksheetInputArea[_0xb5484c(0xe6)][_0xb5484c(0x34f)]('hidden');if(_0x4383a4)_0x4383a4['classList'][_0xb5484c(0x34f)](_0xb5484c(0x730));if(_0x4e5001)_0x4e5001[_0xb5484c(0xe6)][_0xb5484c(0x34f)](_0xb5484c(0x730));if(_0x3fa4ee)_0x3fa4ee[_0xb5484c(0xe6)][_0xb5484c(0x34f)]('hidden');_0x524fa3[_0xb5484c(0xe6)][_0xb5484c(0x728)](_0xb5484c(0x730)),displayQuestionBank();});_0x265972&&(_0x265972[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x535bde=_0x2bbc97;_0x265972[_0x535bde(0xe6)][_0x535bde(0x34f)](_0x535bde(0x4ca)),topicTab[_0x535bde(0xe6)][_0x535bde(0x728)](_0x535bde(0x4ca)),textTab[_0x535bde(0xe6)][_0x535bde(0x728)](_0x535bde(0x4ca)),fileTab[_0x535bde(0xe6)][_0x535bde(0x728)](_0x535bde(0x4ca)),worksheetTab[_0x535bde(0xe6)]['remove'](_0x535bde(0x4ca));if(_0x5ba696)_0x5ba696[_0x535bde(0xe6)][_0x535bde(0x728)](_0x535bde(0x4ca));if(_0x257ebd)_0x257ebd['classList'][_0x535bde(0x728)](_0x535bde(0x4ca));_0x4383a4[_0x535bde(0xe6)]['remove'](_0x535bde(0x730)),topicInputArea[_0x535bde(0xe6)][_0x535bde(0x34f)](_0x535bde(0x730)),textInputArea[_0x535bde(0xe6)][_0x535bde(0x34f)](_0x535bde(0x730)),fileInputArea['classList'][_0x535bde(0x34f)](_0x535bde(0x730)),worksheetInputArea['classList'][_0x535bde(0x34f)](_0x535bde(0x730));if(_0x4e5001)_0x4e5001[_0x535bde(0xe6)][_0x535bde(0x34f)]('hidden');if(_0x3fa4ee)_0x3fa4ee[_0x535bde(0xe6)][_0x535bde(0x34f)](_0x535bde(0x730));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x7f2))[_0x2bbc97(0x834)]('click',handleGenerateFromLink));_0x5ba696&&_0x5ba696[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x56f5a9=_0x2bbc97;_0x5ba696[_0x56f5a9(0xe6)][_0x56f5a9(0x34f)](_0x56f5a9(0x4ca)),topicTab['classList'][_0x56f5a9(0x728)](_0x56f5a9(0x4ca)),textTab[_0x56f5a9(0xe6)]['remove'](_0x56f5a9(0x4ca)),fileTab[_0x56f5a9(0xe6)][_0x56f5a9(0x728)](_0x56f5a9(0x4ca)),worksheetTab['classList'][_0x56f5a9(0x728)](_0x56f5a9(0x4ca));if(_0x265972)_0x265972['classList'][_0x56f5a9(0x728)](_0x56f5a9(0x4ca));if(_0x6e01f3)_0x6e01f3[_0x56f5a9(0xe6)][_0x56f5a9(0x728)]('active');if(_0x257ebd)_0x257ebd[_0x56f5a9(0xe6)][_0x56f5a9(0x728)](_0x56f5a9(0x4ca));_0x4e5001[_0x56f5a9(0xe6)][_0x56f5a9(0x728)]('hidden'),topicInputArea[_0x56f5a9(0xe6)]['add'](_0x56f5a9(0x730)),textInputArea['classList']['add'](_0x56f5a9(0x730)),fileInputArea[_0x56f5a9(0xe6)][_0x56f5a9(0x34f)](_0x56f5a9(0x730)),worksheetInputArea[_0x56f5a9(0xe6)][_0x56f5a9(0x34f)](_0x56f5a9(0x730));if(_0x4383a4)_0x4383a4[_0x56f5a9(0xe6)]['add'](_0x56f5a9(0x730));if(_0x524fa3)_0x524fa3[_0x56f5a9(0xe6)][_0x56f5a9(0x34f)](_0x56f5a9(0x730));if(_0x3fa4ee)_0x3fa4ee['classList'][_0x56f5a9(0x34f)]('hidden');});_0x257ebd&&_0x257ebd['addEventListener']('click',()=>{const _0x4a0ccf=_0x2bbc97;_0x257ebd[_0x4a0ccf(0xe6)][_0x4a0ccf(0x34f)](_0x4a0ccf(0x4ca)),topicTab['classList']['remove'](_0x4a0ccf(0x4ca)),textTab[_0x4a0ccf(0xe6)]['remove'](_0x4a0ccf(0x4ca)),fileTab[_0x4a0ccf(0xe6)][_0x4a0ccf(0x728)](_0x4a0ccf(0x4ca)),worksheetTab[_0x4a0ccf(0xe6)][_0x4a0ccf(0x728)](_0x4a0ccf(0x4ca));if(_0x265972)_0x265972[_0x4a0ccf(0xe6)][_0x4a0ccf(0x728)](_0x4a0ccf(0x4ca));if(_0x5ba696)_0x5ba696[_0x4a0ccf(0xe6)][_0x4a0ccf(0x728)](_0x4a0ccf(0x4ca));if(_0x6e01f3)_0x6e01f3[_0x4a0ccf(0xe6)][_0x4a0ccf(0x728)](_0x4a0ccf(0x4ca));_0x3fa4ee[_0x4a0ccf(0xe6)][_0x4a0ccf(0x728)](_0x4a0ccf(0x730)),topicInputArea[_0x4a0ccf(0xe6)]['add'](_0x4a0ccf(0x730)),textInputArea[_0x4a0ccf(0xe6)][_0x4a0ccf(0x34f)](_0x4a0ccf(0x730)),fileInputArea[_0x4a0ccf(0xe6)][_0x4a0ccf(0x34f)](_0x4a0ccf(0x730)),worksheetInputArea[_0x4a0ccf(0xe6)][_0x4a0ccf(0x34f)]('hidden');if(_0x4383a4)_0x4383a4[_0x4a0ccf(0xe6)]['add'](_0x4a0ccf(0x730));if(_0x4e5001)_0x4e5001['classList'][_0x4a0ccf(0x34f)](_0x4a0ccf(0x730));if(_0x524fa3)_0x524fa3[_0x4a0ccf(0xe6)][_0x4a0ccf(0x34f)]('hidden');});const _0xd0a92b=document[_0x2bbc97(0x339)](_0x2bbc97(0x557)),_0x3590f1=document[_0x2bbc97(0x339)]('generate-from-blueprint-btn');_0xd0a92b&&_0xd0a92b[_0x2bbc97(0x834)](_0x2bbc97(0x31d),_0x49b13d=>{const _0x53907a=_0x2bbc97;_0x49b13d[_0x53907a(0x462)][_0x53907a(0x27a)][_0x53907a(0x2fe)]>0x0?_0x3590f1[_0x53907a(0x154)]=![]:_0x3590f1[_0x53907a(0x154)]=!![];});_0x3590f1&&_0x3590f1[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleGenerateFromBlueprint);const _0x4e313b=document['getElementById'](_0x2bbc97(0x392)),_0x168aa8=document['getElementById']('generate-from-parallel-test-btn');_0x4e313b&&_0x4e313b[_0x2bbc97(0x834)]('change',_0x369ce1=>{const _0x18a5ff=_0x2bbc97;_0x168aa8[_0x18a5ff(0x154)]=_0x369ce1[_0x18a5ff(0x462)][_0x18a5ff(0x27a)][_0x18a5ff(0x2fe)]===0x0;});_0x168aa8&&_0x168aa8[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleGenerateParallelTest);loadQuizBtn[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleLoadQuiz),startQuizBtn[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),async()=>{const _0xbd8147=_0x2bbc97,_0x16341e=document[_0xbd8147(0x339)](_0xbd8147(0x4a6));currentStudentName=_0x16341e[_0xbd8147(0x2b8)];if(!currentStudentName){showMessage(_0xbd8147(0x51c));return;}try{const _0x1b747d=currentQuizData['id'],_0x33754d=doc(db,_0xbd8147(0x100)+appId+_0xbd8147(0x3ac)+_0x1b747d+'/submissions',currentStudentName);await setDoc(_0x33754d,{'studentName':currentStudentName,'startedAt':new Date()[_0xbd8147(0x70b)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x6cdf53){console[_0xbd8147(0x4e7)](_0xbd8147(0x37c),_0x6cdf53),showMessage(_0xbd8147(0x600));return;}studentNameSelectionView[_0xbd8147(0xe6)][_0xbd8147(0x34f)](_0xbd8147(0x730)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2bbc97(0x339)](_0x2bbc97(0x8ac))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),showJoinGameView),document[_0x2bbc97(0x339)](_0x2bbc97(0x3a9))[_0x2bbc97(0x834)]('click',handleJoinLiveGame),document[_0x2bbc97(0x339)](_0x2bbc97(0x3c6))['addEventListener'](_0x2bbc97(0x5c7),()=>showView(_0x2bbc97(0x189)));const _0x42be53=()=>{const _0x57e31e=_0x2bbc97,_0x7b3dfa=document['getElementById'](_0x57e31e(0x729))[_0x57e31e(0x477)][_0x57e31e(0x16b)](/[^a-z0-9]/gi,'_')[_0x57e31e(0x47d)]();return _0x57e31e(0x6ed)+(_0x7b3dfa||_0x57e31e(0x5bd));},_0x2dbf01=document['getElementById'](_0x2bbc97(0x3e1));_0x2dbf01&&_0x2dbf01[_0x2bbc97(0x834)](_0x2bbc97(0x309),_0x43891f=>{const _0x7a79a4=_0x2bbc97,_0x517462=_0x43891f[_0x7a79a4(0x462)][_0x7a79a4(0x2b8)]['toLowerCase']()[_0x7a79a4(0x6df)](),_0x275d22=document[_0x7a79a4(0x339)](_0x7a79a4(0x71e)),_0x5a3de7=_0x275d22[_0x7a79a4(0x450)](_0x7a79a4(0x602));_0x5a3de7[_0x7a79a4(0x2f1)](_0xe1b64c=>{const _0x3da9db=_0x7a79a4;let _0x194942=![];const _0x216dba=_0xe1b64c[_0x3da9db(0x450)](_0x3da9db(0x899));_0x216dba[_0x3da9db(0x2f1)](_0x53c68e=>{const _0x57e5a7=_0x3da9db,_0x51286d=_0x53c68e[_0x57e5a7(0x205)](_0x57e5a7(0x75d))[_0x57e5a7(0x477)]['toLowerCase']();_0x51286d['includes'](_0x517462)?(_0x53c68e['style'][_0x57e5a7(0x5e9)]='flex',_0x194942=!![]):_0x53c68e[_0x57e5a7(0x6fd)][_0x57e5a7(0x5e9)]='none';}),_0x194942?_0xe1b64c[_0x3da9db(0x6fd)]['display']=_0x3da9db(0x85a):_0xe1b64c[_0x3da9db(0x6fd)]['display']='none';});});document[_0x2bbc97(0x339)](_0x2bbc97(0x640))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>exportTableAsImage(_0x2bbc97(0x5ee),_0x42be53())),document[_0x2bbc97(0x339)](_0x2bbc97(0x256))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>exportTableAsPDF('results-table',_0x42be53())),document[_0x2bbc97(0x339)]('export-word-btn')[_0x2bbc97(0x834)]('click',()=>exportTableAsWord('results-table-container',_0x42be53())),document[_0x2bbc97(0x339)](_0x2bbc97(0x842))[_0x2bbc97(0x834)]('click',()=>exportTableAsExcel(_0x2bbc97(0x200),_0x42be53()));const _0x4e9019=()=>{const _0x23ff0c=_0x2bbc97,_0x1fcdf5=document[_0x23ff0c(0x339)](_0x23ff0c(0x729))[_0x23ff0c(0x477)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x1fcdf5||_0x23ff0c(0x5bd));};document[_0x2bbc97(0x339)](_0x2bbc97(0x818))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>exportTableAsImage(_0x2bbc97(0x196),_0x4e9019())),document['getElementById'](_0x2bbc97(0x12a))['addEventListener'](_0x2bbc97(0x5c7),()=>exportTableAsPDF('quiz-leaderboard-table',_0x4e9019())),document[_0x2bbc97(0x339)](_0x2bbc97(0x1f5))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4e9019())),document[_0x2bbc97(0x339)](_0x2bbc97(0x380))['addEventListener']('click',()=>exportTableAsExcel(_0x2bbc97(0x819),_0x4e9019())),projectQuizzesList['addEventListener'](_0x2bbc97(0x5c7),async _0x2bb177=>{const _0x539c56=_0x2bbc97,_0x21f912=_0x2bb177['target'][_0x539c56(0x762)](_0x539c56(0x889)),_0x232c4f=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0xe8)),_0x583e19=_0x2bb177[_0x539c56(0x462)]['closest'](_0x539c56(0x6a2)),_0x3f83eb=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0x1d8)),_0x26f5c0=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0x3fa)),_0x14337f=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0x3cb)),_0x215d55=_0x2bb177[_0x539c56(0x462)]['closest']('.edit-quiz-btn'),_0x4735a9=_0x2bb177[_0x539c56(0x462)]['closest']('.quiz-settings-btn'),_0x24c996=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)]('.duplicate-quiz-btn'),_0x391ae0=_0x2bb177[_0x539c56(0x462)]['closest'](_0x539c56(0x7ee)),_0xcbb54f=_0x2bb177[_0x539c56(0x462)]['closest'](_0x539c56(0x20f)),_0x157aee=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0x2bd)),_0x6b4b84=_0x2bb177[_0x539c56(0x462)]['closest'](_0x539c56(0x490)),_0x50148a=_0x2bb177['target'][_0x539c56(0x762)](_0x539c56(0x564)),_0x3a69e0=_0x2bb177['target'][_0x539c56(0x762)]('.start-presentation-list-btn'),_0x3fbf78=_0x2bb177[_0x539c56(0x462)]['closest'](_0x539c56(0x7e6)),_0x41fa6e=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0x304)),_0x94907c=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0x1ca)),_0xb46026=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0x5cc)),_0xb0510d=_0x2bb177[_0x539c56(0x462)]['closest'](_0x539c56(0x11c)),_0x59bdfa=_0x2bb177[_0x539c56(0x462)][_0x539c56(0x762)](_0x539c56(0x48b)),_0x30da8a=_0x2bb177['target']['closest'](_0x539c56(0x1bd));if(_0x59bdfa){const _0x20d7ec=_0x59bdfa[_0x539c56(0x185)][_0x539c56(0x6ca)],_0x1b9791=document[_0x539c56(0x339)](_0x539c56(0x66e)+_0x20d7ec);_0x1b9791&&_0x1b9791[_0x539c56(0xe6)][_0x539c56(0x634)](_0x539c56(0x730));}else{if(_0x232c4f){const _0x38aa78=_0x232c4f[_0x539c56(0x185)]['quizId'],_0x548a38=allQuizzes[_0x539c56(0x5f9)](_0x384116=>_0x384116['id']===_0x38aa78);_0x548a38&&handleGenerateParallelPostTest(_0x548a38);}else{if(_0x583e19)handleCompareResults(_0x583e19[_0x539c56(0x185)][_0x539c56(0x6ca)],_0x583e19[_0x539c56(0x185)]['preTestId']);else{if(_0x3f83eb){const _0x44c7da=_0x3f83eb[_0x539c56(0x185)][_0x539c56(0x6ca)],_0x25871f=allQuizzes[_0x539c56(0x5f9)](_0x78cfbf=>_0x78cfbf['id']===_0x44c7da);_0x25871f&&_0x25871f[_0x539c56(0x4cb)]?(displayLessonPlan(_0x25871f[_0x539c56(0x4cb)],_0x25871f),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x44c7da)),document[_0x539c56(0x339)](_0x539c56(0x6f5))[_0x539c56(0x205)]('h3')['textContent']=_0x539c56(0x50d),document['getElementById'](_0x539c56(0xc9))[_0x539c56(0x477)]=_0x539c56(0x750)):handleGenerateLessonPlan(_0x44c7da);}else{if(_0x26f5c0)handleToggleStarQuiz(_0x26f5c0['dataset'][_0x539c56(0x6ca)]);else{if(_0x14337f)copyTextToClipboard(_0x14337f[_0x539c56(0x185)]['quizId'],'คัดลอกรหัสแล้ว!');else{if(_0x215d55)handleOpenQuizEditor(_0x215d55[_0x539c56(0x185)][_0x539c56(0x6ca)]);else{if(_0x4735a9)handleQuizSettings(_0x4735a9[_0x539c56(0x185)][_0x539c56(0x6ca)]);else{if(_0x24c996)handleDuplicateQuiz(_0x24c996[_0x539c56(0x185)]['quizId']);else{if(_0x391ae0)handleRenameQuiz(_0x391ae0[_0x539c56(0x185)][_0x539c56(0x6ca)],_0x391ae0[_0x539c56(0x185)][_0x539c56(0x5fb)]);else{if(_0xcbb54f){const _0x2e434b=_0xcbb54f[_0x539c56(0x185)][_0x539c56(0x6ca)],_0x492921=allQuizzes['find'](_0x37c15c=>_0x37c15c['id']===_0x2e434b);_0x492921&&handleGenerateParallelFromBank(_0x492921);}else{if(_0x157aee)handleMoveQuiz(_0x157aee['dataset'][_0x539c56(0x6ca)]);else{if(_0x6b4b84)handleManualQuizPairing(_0x6b4b84[_0x539c56(0x185)][_0x539c56(0x6ca)]);else{if(_0x50148a)handleUnpairQuiz(_0x50148a[_0x539c56(0x185)]['quizId']);else{if(_0x3a69e0){const _0x5c8d63=_0x3a69e0[_0x539c56(0x185)][_0x539c56(0x6ca)],_0x170e9b=allQuizzes[_0x539c56(0x5f9)](_0x4d703c=>_0x4d703c['id']===_0x5c8d63);if(_0x170e9b)startPresentation(_0x170e9b);}else{if(_0x3fbf78){const _0x25a824=_0x3fbf78['dataset']['quizId'],_0x5ae8cc=allQuizzes['find'](_0x3793ed=>_0x3793ed['id']===_0x25a824);_0x5ae8cc&&(currentQuizData=_0x5ae8cc,startAdminTest());}else{if(_0x41fa6e)handleStartLiveRace(_0x41fa6e[_0x539c56(0x185)]['quizId']);else{if(_0x94907c)actionTargetId=_0x94907c[_0x539c56(0x185)][_0x539c56(0x6ca)],document[_0x539c56(0x339)]('export-pdf-modal')[_0x539c56(0xe6)][_0x539c56(0x728)](_0x539c56(0x730));else{if(_0xb46026)showConfirmation(_0x539c56(0x84b)+_0xb46026['dataset'][_0x539c56(0x5fb)]+_0x539c56(0x1cf),()=>handleDeleteQuiz(_0xb46026[_0x539c56(0x185)][_0x539c56(0x6ca)]));else{if(_0xb0510d)handleQuizStatus(_0xb0510d[_0x539c56(0x185)][_0x539c56(0x6ca)]);else{if(_0x30da8a)handleGenerateEasyVersionQuiz(_0x30da8a[_0x539c56(0x185)][_0x539c56(0x6ca)]);else _0x21f912&&showQuizDetailView(_0x21f912['dataset'][_0x539c56(0x6ca)]);}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x2bbc97(0x819))[_0x2bbc97(0x205)](_0x2bbc97(0x15c))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),_0x3ca448=>{const _0x29a725=_0x2bbc97,_0xed7b78=_0x3ca448[_0x29a725(0x462)][_0x29a725(0x762)](_0x29a725(0x11f));if(!_0xed7b78||!_0xed7b78[_0x29a725(0x185)][_0x29a725(0x377)])return;const _0x5350a5=_0xed7b78['dataset'][_0x29a725(0x377)];if(quizLeaderboardSortBy===_0x5350a5)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x29a725(0x46b):'asc';else{quizLeaderboardSortBy=_0x5350a5;const _0x303d43=['studentName'];quizLeaderboardSortOrder=_0x303d43[_0x29a725(0x54e)](_0x5350a5)?_0x29a725(0x1e7):_0x29a725(0x46b);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x29a725(0x4f2));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x2bc))['addEventListener'](_0x2bbc97(0x5c7),closePresentation),document[_0x2bbc97(0x339)](_0x2bbc97(0x175))['addEventListener'](_0x2bbc97(0x5c7),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x710))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{currentQuizData['questions']&&currentPresentationSlide<currentQuizData['questions']['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x2bbc97(0x834)](_0x2bbc97(0x76b),()=>{const _0x5f00ea=_0x2bbc97;!document[_0x5f00ea(0x219)]&&(presentationModal['style'][_0x5f00ea(0x5e9)]=_0x5f00ea(0x253));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x79c))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleDeleteAllStudents),studentList[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),_0x3a22f3=>{const _0x4988bf=_0x2bbc97,_0x148929=_0x3a22f3[_0x4988bf(0x462)][_0x4988bf(0x762)]('.delete-student-btn');if(_0x148929){const _0x686c3=_0x148929[_0x4988bf(0x185)][_0x4988bf(0x7af)];handleDeleteStudent(_0x686c3);}}),document[_0x2bbc97(0x339)](_0x2bbc97(0x4dc))['addEventListener'](_0x2bbc97(0x5c7),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x2bbc97(0x31d),_0x5ee403=>{const _0x186429=_0x2bbc97,_0x2a26f8=_0x5ee403[_0x186429(0x462)][_0x186429(0x27a)][0x0],_0x426c1d=document[_0x186429(0x339)]('generate-from-file-btn');_0x2a26f8?(selectedFile=_0x2a26f8,_0x426c1d[_0x186429(0x154)]=![]):(selectedFile=null,_0x426c1d['disabled']=!![]);}),document[_0x2bbc97(0x339)](_0x2bbc97(0x288))['addEventListener'](_0x2bbc97(0x31d),_0x1775b1=>{const _0x6cadbd=_0x2bbc97,_0x5cbd14=document[_0x6cadbd(0x339)](_0x6cadbd(0x4e2)),_0x2b21a8=document[_0x6cadbd(0x339)](_0x6cadbd(0x473)),_0x3562c0=document[_0x6cadbd(0x339)](_0x6cadbd(0x14b));_0x1775b1['target'][_0x6cadbd(0x2b8)]===_0x6cadbd(0x253)?_0x5cbd14[_0x6cadbd(0xe6)]['add'](_0x6cadbd(0x730)):(_0x5cbd14[_0x6cadbd(0xe6)][_0x6cadbd(0x728)](_0x6cadbd(0x730)),_0x1775b1['target'][_0x6cadbd(0x2b8)]===_0x6cadbd(0x7ab)?(_0x2b21a8[_0x6cadbd(0x477)]=_0x6cadbd(0x299),_0x3562c0[_0x6cadbd(0x2b8)]='10'):(_0x2b21a8[_0x6cadbd(0x477)]=_0x6cadbd(0x1b9),_0x3562c0[_0x6cadbd(0x2b8)]='30'));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x5d8))[_0x2bbc97(0x834)](_0x2bbc97(0x31d),_0x222522=>{const _0x23cfa7=_0x2bbc97,_0x1f3b6e=document['getElementById'](_0x23cfa7(0x218)),_0x414712=_0x222522[_0x23cfa7(0x462)][_0x23cfa7(0x2b8)],_0x2894f8=document[_0x23cfa7(0x205)]('label[for=\x22num-questions\x22]'),_0x6dbbee=document['getElementById'](_0x23cfa7(0x3c3)),_0xdb7e7e=document[_0x23cfa7(0x339)](_0x23cfa7(0x39b));_0x414712===_0x23cfa7(0x208)?_0x2894f8[_0x23cfa7(0x477)]=_0x23cfa7(0x61c):_0x2894f8[_0x23cfa7(0x477)]=_0x23cfa7(0x577),_0x414712===_0x23cfa7(0x73c)||_0x414712===_0x23cfa7(0x10d)||_0x414712===_0x23cfa7(0x397)?_0x1f3b6e[_0x23cfa7(0xe6)][_0x23cfa7(0x728)](_0x23cfa7(0x730)):_0x1f3b6e['classList'][_0x23cfa7(0x34f)](_0x23cfa7(0x730)),_0x6dbbee[_0x23cfa7(0x187)]=_0xdb7e7e[_0x23cfa7(0x2b8)];}),document['getElementById'](_0x2bbc97(0x39b))[_0x2bbc97(0x834)](_0x2bbc97(0x309),_0x22643b=>{const _0x58503d=_0x2bbc97;document[_0x58503d(0x339)](_0x58503d(0x3c3))[_0x58503d(0x187)]=_0x22643b[_0x58503d(0x462)][_0x58503d(0x2b8)];}),document[_0x2bbc97(0x339)](_0x2bbc97(0x6cb))['addEventListener']('change',_0x5208f2=>{const _0x2c96be=_0x2bbc97,_0x27e2fe=document[_0x2c96be(0x339)](_0x2c96be(0x1e2)),_0x232931=document['getElementById'](_0x2c96be(0x8b4)),_0x202780=document['getElementById'](_0x2c96be(0x744));_0x5208f2[_0x2c96be(0x462)][_0x2c96be(0x2b8)]===_0x2c96be(0x253)?_0x27e2fe[_0x2c96be(0xe6)][_0x2c96be(0x34f)](_0x2c96be(0x730)):(_0x27e2fe[_0x2c96be(0xe6)][_0x2c96be(0x728)](_0x2c96be(0x730)),_0x5208f2['target'][_0x2c96be(0x2b8)]===_0x2c96be(0x7ab)?_0x232931[_0x2c96be(0x477)]='ระยะเวลา\x20(นาที):':_0x232931['textContent']=_0x2c96be(0x1b9));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x540))[_0x2bbc97(0x834)]('click',()=>{const _0x12fc46=_0x2bbc97;document[_0x12fc46(0x339)]('quiz-editor-modal')['classList'][_0x12fc46(0x34f)](_0x12fc46(0x730));}),document['getElementById'](_0x2bbc97(0x4f9))['addEventListener']('click',()=>{const _0x1765e5=_0x2bbc97;document[_0x1765e5(0x339)](_0x1765e5(0x4ab))[_0x1765e5(0xe6)]['add'](_0x1765e5(0x730));}),document[_0x2bbc97(0x339)](_0x2bbc97(0x125))[_0x2bbc97(0x834)]('click',handleVerifyAnswersInEditor),document[_0x2bbc97(0x339)](_0x2bbc97(0x314))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x9a4848=_0x2bbc97;document[_0x9a4848(0x339)](_0x9a4848(0x4ab))['classList']['add'](_0x9a4848(0x730)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x2bbc97(0x339)](_0x2bbc97(0x570))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),handleAutoFixLatex);const _0x1a8eaa=document[_0x2bbc97(0x339)](_0x2bbc97(0x56a));_0x1a8eaa&&_0x1a8eaa['addEventListener'](_0x2bbc97(0x5c7),_0x5c206d=>{const _0x27a1ef=_0x2bbc97,_0xa64abd=_0x5c206d[_0x27a1ef(0x462)]['closest'](_0x27a1ef(0x227));if(_0xa64abd){const _0x17e9f3=_0xa64abd['closest'](_0x27a1ef(0x897)),_0x9b7cfe=parseInt(_0x17e9f3[_0x27a1ef(0x185)][_0x27a1ef(0xfe)],0xa);handleRegenerateQuestionInEditor(_0x9b7cfe);}});document[_0x2bbc97(0x339)](_0x2bbc97(0x2b0))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),openQuizBankModal),document['getElementById'](_0x2bbc97(0x4a2))[_0x2bbc97(0x834)]('click',()=>{const _0x537bd7=_0x2bbc97;document['getElementById'](_0x537bd7(0x395))[_0x537bd7(0xe6)][_0x537bd7(0x34f)]('hidden');}),document[_0x2bbc97(0x339)](_0x2bbc97(0x67e))[_0x2bbc97(0x834)](_0x2bbc97(0x309),_0x2940ff=>renderQuizBankList(_0x2940ff['target'][_0x2bbc97(0x2b8)]));const _0x45d23d=document[_0x2bbc97(0x339)](_0x2bbc97(0x71e));if(_0x45d23d){let _0x3e0ae7=null;_0x45d23d[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),_0x162bc0=>{const _0x2e271a=_0x2bbc97,_0x38b7fe=_0x162bc0[_0x2e271a(0x462)],_0x49c93f=_0x38b7fe['closest']('.edit-custom-topic-btn'),_0x595da5=_0x38b7fe[_0x2e271a(0x762)](_0x2e271a(0x282)),_0x2bf913=_0x38b7fe[_0x2e271a(0x762)](_0x2e271a(0x81e)),_0x206072=_0x38b7fe[_0x2e271a(0x762)](_0x2e271a(0x19a));if(_0x595da5){_0x162bc0['preventDefault']();const _0x2e70fc=_0x595da5[_0x2e271a(0x185)]['id'],_0x41fdb1=_0x595da5[_0x2e271a(0x762)](_0x2e271a(0x73a))[_0x2e271a(0x205)](_0x2e271a(0x75d))[_0x2e271a(0x477)];showConfirmation(_0x2e271a(0x252)+_0x41fdb1+'\x22?',()=>handleDeleteCustomTopic(_0x2e70fc));}else{if(_0x49c93f){_0x162bc0[_0x2e271a(0x5a2)]();_0x3e0ae7&&toggleTopicEditMode(_0x3e0ae7,![]);const _0x3a8ad4=_0x49c93f[_0x2e271a(0x762)](_0x2e271a(0x4a0));_0x3e0ae7=_0x3a8ad4,toggleTopicEditMode(_0x3a8ad4,!![]);}else{if(_0x2bf913){_0x162bc0['preventDefault']();const _0x4dbb4f=_0x2bf913[_0x2e271a(0x185)]['id'],_0xa3219a=_0x2bf913[_0x2e271a(0x762)](_0x2e271a(0x4a0)),_0x5b397b=_0xa3219a[_0x2e271a(0x205)](_0x2e271a(0x4d0))[_0x2e271a(0x2b8)];handleUpdateCustomTopic(_0x4dbb4f,_0x5b397b),_0x3e0ae7=null;}else{if(_0x206072){_0x162bc0[_0x2e271a(0x5a2)]();const _0x2be8b9=_0x206072['closest'](_0x2e271a(0x4a0));toggleTopicEditMode(_0x2be8b9,![]),_0x3e0ae7=null;}}}}}),document[_0x2bbc97(0x339)](_0x2bbc97(0x420))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x4a81c0=_0x2bbc97;document[_0x4a81c0(0x339)](_0x4a81c0(0x73b))['classList']['add'](_0x4a81c0(0x730));}),document['getElementById']('close-lesson-plan-modal-footer-btn')[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x5e7075=_0x2bbc97;document['getElementById'](_0x5e7075(0x73b))[_0x5e7075(0xe6)][_0x5e7075(0x34f)](_0x5e7075(0x730));}),document[_0x2bbc97(0x339)](_0x2bbc97(0xd4))['addEventListener']('click',handleExportLessonPDF);}document[_0x2bbc97(0x339)](_0x2bbc97(0x1af))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x56bfc8=_0x2bbc97;document['getElementById'](_0x56bfc8(0xe2))[_0x56bfc8(0xe6)]['add'](_0x56bfc8(0x730));}),document['getElementById'](_0x2bbc97(0x432))[_0x2bbc97(0x834)](_0x2bbc97(0x5c7),()=>{const _0x5d2ede=_0x2bbc97;document[_0x5d2ede(0x339)](_0x5d2ede(0xe2))[_0x5d2ede(0xe6)][_0x5d2ede(0x34f)](_0x5d2ede(0x730));}),setupComparisonModalTabs(),document[_0x2bbc97(0x7c6)]['addEventListener'](_0x2bbc97(0x5c7),function(_0x2dbece){const _0x14b700=_0x2bbc97;if(_0x2dbece[_0x14b700(0x462)]['classList'][_0x14b700(0x56d)](_0x14b700(0x5a1))){const _0x551412=unescape(_0x2dbece[_0x14b700(0x462)][_0x14b700(0x185)][_0x14b700(0x5fb)]);startSkillPractice(_0x551412);}}),document[_0x2bbc97(0x339)](_0x2bbc97(0x720))[_0x2bbc97(0x834)]('click',_0x4be98e=>{const _0x3d95c5=_0x2bbc97,_0x34eb54=_0x4be98e[_0x3d95c5(0x462)][_0x3d95c5(0x762)](_0x3d95c5(0x178));if(_0x34eb54){const _0x11f87c=_0x34eb54[_0x3d95c5(0x185)][_0x3d95c5(0x7af)];handleDeleteSubmission(_0x11f87c);}});}async function showStudentProgressView(){const _0x971739=_0x2ee497;studentInitialView[_0x971739(0xe6)][_0x971739(0x34f)](_0x971739(0x730)),document[_0x971739(0x339)]('student-progress-view')['classList'][_0x971739(0x728)]('hidden');const _0x4cd4b3=document[_0x971739(0x339)](_0x971739(0x89b)),_0x5ba2d8=document['getElementById'](_0x971739(0x261)),_0x397c72=document[_0x971739(0x339)](_0x971739(0x4b0));_0x397c72[_0x971739(0x7de)]=_0x971739(0x6f3),_0x5ba2d8[_0x971739(0x7de)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x5ba2d8[_0x971739(0x154)]=!![],_0x4cd4b3[_0x971739(0x7de)]=_0x971739(0x359);if(allProjects[_0x971739(0x2fe)]===0x0){const _0x502c65=collection(db,_0x971739(0x100)+appId+_0x971739(0x537)),_0x5b4c5f=await getDocs(_0x502c65);allProjects=_0x5b4c5f[_0x971739(0x830)][_0x971739(0x71d)](_0x58c641=>({'id':_0x58c641['id'],..._0x58c641[_0x971739(0x656)]()}));}const _0x16f9b4=allProjects[_0x971739(0x802)](_0x3de5c0=>_0x3de5c0[_0x971739(0x481)]?.[_0x971739(0x16c)]!==![]);_0x16f9b4['sort']((_0x22d79b,_0xff6643)=>_0x22d79b[_0x971739(0x72f)][_0x971739(0x2c4)](_0xff6643[_0x971739(0x72f)],'th')),_0x4cd4b3['innerHTML']=_0x971739(0xcc)+_0x16f9b4[_0x971739(0x71d)](_0x2837a8=>_0x971739(0x118)+_0x2837a8['id']+'\x22>'+_0x2837a8['projectName']+'</option>')[_0x971739(0x8bf)](''),_0x4cd4b3[_0x971739(0x107)]=()=>{const _0x373fba=_0x971739,_0x446a49=_0x5ba2d8[_0x373fba(0x2b8)],_0x52d168=_0x4cd4b3[_0x373fba(0x2b8)];_0x5ba2d8['disabled']=!![],_0x5ba2d8['innerHTML']=_0x373fba(0x78b),_0x397c72[_0x373fba(0x7de)]=_0x373fba(0x6e5);if(!_0x52d168)return;const _0xad7bbd=allProjects[_0x373fba(0x5f9)](_0x58d1c8=>_0x58d1c8['id']===_0x52d168);if(!_0xad7bbd||!_0xad7bbd[_0x373fba(0x3ba)])return;const _0x2b7e23=()=>{const _0x2f9a15=_0x373fba;_0x5ba2d8[_0x2f9a15(0x7de)]=_0x2f9a15(0x78b)+_0xad7bbd[_0x2f9a15(0x3ba)][_0x2f9a15(0x71d)](_0x95fee=>_0x2f9a15(0x118)+_0x95fee+'\x22>'+_0x95fee+_0x2f9a15(0x715))[_0x2f9a15(0x8bf)](''),_0x5ba2d8[_0x2f9a15(0x154)]=![];const _0x38349b=Array['from'](_0x5ba2d8[_0x2f9a15(0x7e1)])['map'](_0xe8ed7a=>_0xe8ed7a['value']);if(_0x446a49&&_0x38349b[_0x2f9a15(0x54e)](_0x446a49))_0x5ba2d8[_0x2f9a15(0x2b8)]=_0x446a49,_0x5ba2d8[_0x2f9a15(0x8bb)](new Event('change'));else _0xad7bbd[_0x2f9a15(0x3ba)][_0x2f9a15(0x2fe)]===0x1&&(_0x5ba2d8[_0x2f9a15(0x2b8)]=_0xad7bbd[_0x2f9a15(0x3ba)][0x0],_0x5ba2d8[_0x2f9a15(0x8bb)](new Event('change')));};if(_0xad7bbd[_0x373fba(0x481)]?.[_0x373fba(0x30f)]){if(sessionStorage['getItem'](_0x373fba(0x639)+_0x52d168)===_0x373fba(0x36f)){_0x2b7e23();return;}const _0x1da3c0=document[_0x373fba(0x339)](_0x373fba(0x794)),_0x3721b2=document[_0x373fba(0x339)](_0x373fba(0x1cb)),_0x4d2aeb=document[_0x373fba(0x339)](_0x373fba(0x406)),_0x4ad84f=document['getElementById'](_0x373fba(0x276)),_0x588c2b=document[_0x373fba(0x339)](_0x373fba(0x719));document[_0x373fba(0x339)](_0x373fba(0x745))['textContent']=_0x373fba(0x503)+_0xad7bbd[_0x373fba(0x72f)],_0x4ad84f[_0x373fba(0x2b8)]='',_0x588c2b['classList'][_0x373fba(0x34f)](_0x373fba(0x730)),_0x1da3c0[_0x373fba(0xe6)][_0x373fba(0x728)](_0x373fba(0x730));const _0x52ee65=()=>{const _0x4470c6=_0x373fba,_0x5bd49b=_0x4ad84f['value']['trim']();_0x5bd49b===_0xad7bbd['settings']['passcode']?(sessionStorage[_0x4470c6(0x241)]('authed_project_'+_0x52d168,_0x4470c6(0x36f)),_0x1da3c0[_0x4470c6(0xe6)][_0x4470c6(0x34f)](_0x4470c6(0x730)),_0x2b7e23(),_0x3721b2['removeEventListener'](_0x4470c6(0x5c7),_0x52ee65)):_0x588c2b[_0x4470c6(0xe6)][_0x4470c6(0x728)]('hidden');};_0x3721b2[_0x373fba(0x798)]=_0x52ee65,_0x4d2aeb[_0x373fba(0x798)]=()=>{const _0x47a5d4=_0x373fba;_0x1da3c0[_0x47a5d4(0xe6)]['add'](_0x47a5d4(0x730)),_0x4cd4b3[_0x47a5d4(0x2b8)]='',_0x3721b2[_0x47a5d4(0x7c1)](_0x47a5d4(0x5c7),_0x52ee65);};}else _0x2b7e23();},_0x5ba2d8[_0x971739(0x107)]=()=>{const _0x46331c=_0x971739,_0x2a1f8f=_0x4cd4b3[_0x46331c(0x2b8)],_0x463dbb=_0x5ba2d8[_0x46331c(0x2b8)];_0x2a1f8f&&_0x463dbb&&renderStudentProgressDashboard(_0x2a1f8f,_0x463dbb);};}async function renderStudentProgressDashboard(_0x158a95,_0x4ac09c){const _0x3943b1=_0x2ee497,_0x2e1c44=document[_0x3943b1(0x339)](_0x3943b1(0x4b0));_0x2e1c44['innerHTML']=_0x3943b1(0x39e);try{const _0x55f034=collection(db,_0x3943b1(0x100)+appId+_0x3943b1(0x50f)),_0x37957f=query(_0x55f034,where(_0x3943b1(0x2a2),'==',_0x158a95)),_0xc58147=await getDocs(_0x37957f),_0x586bd0=_0xc58147[_0x3943b1(0x830)][_0x3943b1(0x71d)](_0x47f3c4=>({'id':_0x47f3c4['id'],..._0x47f3c4[_0x3943b1(0x656)]()})),_0x2f4bf1=_0x586bd0[_0x3943b1(0x71d)](_0x453c83=>getDoc(doc(db,_0x3943b1(0x100)+appId+_0x3943b1(0x3ac)+_0x453c83['id']+'/submissions',_0x4ac09c))),_0xd82f73=await Promise[_0x3943b1(0x7d1)](_0x2f4bf1),_0x10a7ae=_0xd82f73['filter'](_0x1ad54e=>_0x1ad54e[_0x3943b1(0x475)]())[_0x3943b1(0x71d)](_0x2302ce=>({'quizId':_0x2302ce[_0x3943b1(0x6f4)][_0x3943b1(0x4c7)][_0x3943b1(0x4c7)]['id'],..._0x2302ce[_0x3943b1(0x656)]()}));if(_0x10a7ae[_0x3943b1(0x2fe)]===0x0){_0x2e1c44[_0x3943b1(0x7de)]=_0x3943b1(0x18e);return;}let _0x229255=_0x3943b1(0x29a);_0x10a7ae[_0x3943b1(0x2f1)](_0x526d93=>{const _0x41557b=_0x3943b1,_0x5e794f=_0x586bd0['find'](_0x15374f=>_0x15374f['id']===_0x526d93[_0x41557b(0x6ca)]),_0x13d8df=_0x5e794f[_0x41557b(0x481)]?.[_0x41557b(0x70d)]||_0x41557b(0x545),_0x5bcf05=_0x5e794f['settings']?.[_0x41557b(0x342)]??0x0,_0x58a312=_0x526d93[_0x41557b(0x653)]>=_0x5bcf05;let _0x1e064f='',_0x5eb2cf=_0x41557b(0x18f);switch(_0x13d8df){case _0x41557b(0x545):case _0x41557b(0x32b):_0x5eb2cf=_0x58a312?_0x41557b(0x681):_0x41557b(0x1d4),_0x1e064f=_0x41557b(0x456)+(_0x58a312?'text-green-700':_0x41557b(0x2ff))+'\x22>'+_0x526d93[_0x41557b(0x653)]+_0x41557b(0x3d5)+_0x526d93[_0x41557b(0x60f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x58a312?_0x41557b(0x543):'bg-red-200\x20text-red-800')+'\x22>'+(_0x58a312?'ผ่าน':'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'show_pass_fail_only':_0x5eb2cf=_0x58a312?'bg-green-50':'bg-red-50',_0x1e064f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x58a312?_0x41557b(0x543):_0x41557b(0x39f))+'\x22>'+(_0x58a312?_0x41557b(0x303):_0x41557b(0x12e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x41557b(0x45c):_0x5eb2cf='bg-yellow-50',_0x1e064f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x229255+=_0x41557b(0x895)+_0x5eb2cf+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x5e794f['topic']+_0x41557b(0x217)+_0x526d93[_0x41557b(0x535)][_0x41557b(0x2fe)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x526d93['latestSubmittedAt'])[_0x41557b(0x46a)](_0x41557b(0x4eb))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e064f+_0x41557b(0x670);}),_0x229255+=_0x3943b1(0x22a),_0x2e1c44[_0x3943b1(0x7de)]=_0x229255;}catch(_0x42174e){console['error'](_0x3943b1(0x563),_0x42174e),_0x2e1c44[_0x3943b1(0x7de)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x3f77f9=_0x2ee497;document['getElementById'](_0x3f77f9(0x4f6))[_0x3f77f9(0x834)]('click',showStudentProgressView),document['getElementById'](_0x3f77f9(0x783))[_0x3f77f9(0x834)](_0x3f77f9(0x5c7),()=>{const _0x54f65b=_0x3f77f9;document[_0x54f65b(0x339)]('student-progress-view')[_0x54f65b(0xe6)][_0x54f65b(0x34f)](_0x54f65b(0x730)),document['getElementById']('student-initial-view')[_0x54f65b(0xe6)][_0x54f65b(0x728)]('hidden');});}async function startSkillPractice(_0x2c4c7f){const _0x2e5ce7=_0x2ee497;studentResultArea[_0x2e5ce7(0xe6)]['add'](_0x2e5ce7(0x730)),studentQuizArea[_0x2e5ce7(0x7de)]=_0x2e5ce7(0x502),studentQuizArea[_0x2e5ce7(0xe6)][_0x2e5ce7(0x728)](_0x2e5ce7(0x730));try{const _0x4b5388=await getStandardizedTopic(_0x2c4c7f);console[_0x2e5ce7(0x650)]('คำถามดิบ:\x20\x22'+_0x2c4c7f+_0x2e5ce7(0x3f7)+_0x4b5388+'\x22'),studentQuizArea['querySelector']('p')[_0x2e5ce7(0x477)]=_0x2e5ce7(0x59d)+_0x4b5388+_0x2e5ce7(0x4fd);const _0x59898e=collection(db,_0x2e5ce7(0x100)+appId+_0x2e5ce7(0x6d4)),_0x59f422=query(_0x59898e,where('topic','==',_0x4b5388)),_0x18361a=await getDocs(_0x59f422);if(_0x18361a['docs'][_0x2e5ce7(0x2fe)]>=0x3){console[_0x2e5ce7(0x650)](_0x2e5ce7(0x3b3)+_0x18361a[_0x2e5ce7(0x830)][_0x2e5ce7(0x2fe)]+_0x2e5ce7(0xcb)+_0x4b5388+_0x2e5ce7(0x2e0));let _0x2c0801=_0x18361a[_0x2e5ce7(0x830)][_0x2e5ce7(0x71d)](_0xbd9dde=>_0xbd9dde[_0x2e5ce7(0x656)]());shuffleArray(_0x2c0801);const _0xf2fbe1={'topic':_0x4b5388,'questions':_0x2c0801['slice'](0x0,0x3)};displaySkillPracticeDrill(_0xf2fbe1);}else{console[_0x2e5ce7(0x650)](_0x2e5ce7(0x6da)+_0x4b5388+_0x2e5ce7(0x44a));const _0x1a6bb9=await generatePracticeQuestions(_0x4b5388);await saveDrillToPracticeBank(_0x1a6bb9,_0x4b5388),displaySkillPracticeDrill(_0x1a6bb9);}}catch(_0x433c86){console[_0x2e5ce7(0x4e7)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x433c86),showMessage(_0x2e5ce7(0x501)),studentQuizArea['classList'][_0x2e5ce7(0x34f)](_0x2e5ce7(0x730)),studentResultArea[_0x2e5ce7(0xe6)][_0x2e5ce7(0x728)](_0x2e5ce7(0x730));}}async function saveDrillToPracticeBank(_0x24f918,_0x4f196f){const _0x71cc1=_0x2ee497,_0x3bd215=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x45929c=writeBatch(db);_0x24f918[_0x71cc1(0x2f4)]['forEach'](_0x44ff41=>{const _0x4dd931=_0x71cc1,_0x359082=doc(_0x3bd215);_0x45929c[_0x4dd931(0x4b5)](_0x359082,{'topic':_0x4f196f,'questionText':_0x44ff41[_0x4dd931(0x325)],'options':_0x44ff41[_0x4dd931(0x7e1)],'correctAnswerIndex':_0x44ff41[_0x4dd931(0x75e)],'explanation':_0x44ff41[_0x4dd931(0x105)],'createdAt':serverTimestamp()});});try{await _0x45929c[_0x71cc1(0x712)](),console['log'](_0x71cc1(0x140)+_0x24f918[_0x71cc1(0x2f4)]['length']+_0x71cc1(0x5cb));}catch(_0x2b639e){console[_0x71cc1(0x4e7)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x2b639e);}}async function getStandardizedTopic(_0x3c6572){const _0xe68054=_0x2ee497,_0x3e8c88=_0xe68054(0x2e8)+_0x3c6572+_0xe68054(0x157),_0x3968c6={'type':_0xe68054(0x4f1),'properties':{'standardTopic':{'type':'STRING'}},'required':['standardTopic']};try{const _0x4388a4=await callAnalysisApi(_0x3e8c88,_0x3968c6);return _0x4388a4['standardTopic'];}catch(_0x16c130){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x16c130),_0x3c6572;}}async function handleGenerateEasyVersionQuiz(_0x4472d9){showConfirmation('คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้',async()=>{const _0x3145a7=_0x1ea5;showMessage('AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่');try{const _0x156554=allQuizzes['find'](_0x4ff996=>_0x4ff996['id']===_0x4472d9);if(!_0x156554)throw new Error(_0x3145a7(0x4c0));const _0x6054bd=_0x3145a7(0x1f3)+JSON[_0x3145a7(0x5f7)](_0x156554['questions'])+_0x3145a7(0x786),_0x355d10={'type':_0x3145a7(0x4f1),'properties':{'questionText':{'type':_0x3145a7(0x5e0)},'questionType':{'type':_0x3145a7(0x5e0)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3145a7(0xda)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3145a7(0x5e0)},'imageCode':{'type':_0x3145a7(0x5e0)}},'required':[_0x3145a7(0x325),'questionType','explanation']},_0x12ebab={'type':_0x3145a7(0x4f1),'properties':{'questions':{'type':_0x3145a7(0xfb),'items':_0x355d10}},'required':['questions']},_0xb6ea0d=await callAnalysisApi(_0x6054bd,_0x12ebab);_0xb6ea0d&&_0xb6ea0d[_0x3145a7(0x2f4)]&&_0xb6ea0d[_0x3145a7(0x2f4)][_0x3145a7(0x2f1)](_0x50260d=>{const _0x54f3a1=_0x3145a7;_0x50260d['questionText']&&(_0x50260d[_0x54f3a1(0x325)]=_0x50260d[_0x54f3a1(0x325)][_0x54f3a1(0x6df)]()[_0x54f3a1(0x16b)](/,$/,'')[_0x54f3a1(0x6df)]());_0x50260d[_0x54f3a1(0x7e1)]&&Array['isArray'](_0x50260d[_0x54f3a1(0x7e1)])&&(_0x50260d['options']=_0x50260d['options'][_0x54f3a1(0x71d)](_0x7f6d4c=>_0x7f6d4c||_0x54f3a1(0x587)));if(_0x50260d['imageCode']){const _0x1ba549=_0x50260d['imageCode'][_0x54f3a1(0x6df)]();_0x1ba549===''||_0x1ba549[_0x54f3a1(0x47d)]()===_0x54f3a1(0x1fa)||!_0x1ba549[_0x54f3a1(0x27b)](_0x54f3a1(0x6d1))?delete _0x50260d[_0x54f3a1(0x216)]:_0x50260d[_0x54f3a1(0x216)]=_0x1ba549;}});if(!_0xb6ea0d||!_0xb6ea0d[_0x3145a7(0x2f4)]||_0xb6ea0d[_0x3145a7(0x2f4)][_0x3145a7(0x2fe)]===0x0)throw new Error(_0x3145a7(0x7a0));const _0x40bd93={'projectId':_0x156554[_0x3145a7(0x2a2)],'quizType':_0x156554[_0x3145a7(0x867)],'settings':_0x156554[_0x3145a7(0x481)],'createdBy':_0x156554['createdBy'],'status':'active','topic':_0x3145a7(0x7f6)+_0x156554[_0x3145a7(0x5fb)],'questions':_0xb6ea0d['questions'],'createdAt':new Date()[_0x3145a7(0x70b)](),'quizMode':_0x3145a7(0x2b7),'pairedQuizId':null};let _0x594cd6;while(!![]){_0x594cd6=Math[_0x3145a7(0x6be)](0x3e8+Math[_0x3145a7(0x26a)]()*0x2328)[_0x3145a7(0x289)]();const _0x3a9556=await getDoc(doc(db,_0x3145a7(0x100)+appId+'/public/data/quizzes',_0x594cd6));if(!_0x3a9556[_0x3145a7(0x475)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3145a7(0x50f),_0x594cd6),_0x40bd93),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x582401){console['error'](_0x3145a7(0x373),_0x582401),showMessage(_0x3145a7(0x13a)+_0x582401[_0x3145a7(0x63d)]);}});}async function generatePracticeQuestions(_0x321732){const _0x1a05f1=_0x2ee497,_0x492927=_0x1a05f1(0x327)+_0x321732+_0x1a05f1(0x4cd)+simpleMathPrompt+_0x1a05f1(0x22e),_0x2a8375={'type':_0x1a05f1(0x4f1),'properties':{'questionText':{'type':_0x1a05f1(0x5e0)},'options':{'type':_0x1a05f1(0xfb),'items':{'type':_0x1a05f1(0x5e0)}},'correctAnswerIndex':{'type':_0x1a05f1(0xda)},'explanation':{'type':_0x1a05f1(0x5e0)}},'required':[_0x1a05f1(0x325),_0x1a05f1(0x7e1),_0x1a05f1(0x75e),'explanation']},_0x261350={'type':_0x1a05f1(0x4f1),'properties':{'topic':{'type':_0x1a05f1(0x5e0)},'questions':{'type':_0x1a05f1(0xfb),'items':_0x2a8375}},'required':[_0x1a05f1(0x5fb),_0x1a05f1(0x2f4)]};return await callAnalysisApi(_0x492927,_0x261350);}function displayLessonPlan(_0x95a664,_0x40626e){const _0x4c6364=_0x2ee497,_0x3b81a9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x40626e[_0x4c6364(0x5fb)]+_0x4c6364(0x488)+_0x95a664[_0x4c6364(0x85f)][_0x4c6364(0x71d)](_0x52009d=>_0x4c6364(0x734)+_0x52009d+_0x4c6364(0x201))[_0x4c6364(0x8bf)]('')+_0x4c6364(0x12b)+_0x95a664[_0x4c6364(0x5d0)]+_0x4c6364(0x328)+_0x95a664[_0x4c6364(0x2dd)][_0x4c6364(0x71d)](_0x85c699=>_0x4c6364(0x1b2)+_0x85c699['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x85c699[_0x4c6364(0x28f)]+_0x4c6364(0x45e))[_0x4c6364(0x8bf)]('')+_0x4c6364(0x1e3);document[_0x4c6364(0x339)](_0x4c6364(0x7b0))[_0x4c6364(0x477)]='แผนการสอน:\x20'+_0x40626e[_0x4c6364(0x5fb)],document['getElementById'](_0x4c6364(0x86f))[_0x4c6364(0x7de)]=_0x3b81a9,document[_0x4c6364(0x339)](_0x4c6364(0x73b))[_0x4c6364(0xe6)][_0x4c6364(0x728)](_0x4c6364(0x730));if(window[_0x4c6364(0x20e)])MathJax[_0x4c6364(0x190)]();}function displaySkillPracticeDrill(_0x32660d){const _0x1d52df=_0x2ee497;let _0x372677=0x0;const _0x3b734c=_0x32660d[_0x1d52df(0x2f4)],_0x31cebb=()=>{const _0x1612ec=_0x1d52df,_0x145c4b=_0x3b734c[_0x372677],_0x49d923=_0x1612ec(0x23d)+(_0x372677+0x1)+_0x1612ec(0x3d5)+_0x3b734c['length']+_0x1612ec(0x666)+_0x145c4b['questionText']+_0x1612ec(0x764)+_0x145c4b[_0x1612ec(0x7e1)][_0x1612ec(0x71d)]((_0xc58ec,_0x59f23b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x59f23b+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x59f23b+_0x1612ec(0x504)+_0x59f23b+'\x22>'+_0xc58ec+_0x1612ec(0x422))[_0x1612ec(0x8bf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x49d923;if(window[_0x1612ec(0x20e)])MathJax[_0x1612ec(0x190)]([studentQuizArea]);document[_0x1612ec(0x339)](_0x1612ec(0x6e7))[_0x1612ec(0x834)](_0x1612ec(0x5c7),async()=>{const _0x4cbce3=_0x1612ec,_0x3b7f4e=await getHintForQuestion(_0x145c4b[_0x4cbce3(0x325)]);showMessage(_0x3b7f4e);}),document['getElementById'](_0x1612ec(0x4c2))['addEventListener'](_0x1612ec(0x5c7),()=>{const _0x8c9cb6=_0x1612ec,_0x4089b7=document[_0x8c9cb6(0x205)](_0x8c9cb6(0x89a));if(!_0x4089b7){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0xf91142=document[_0x8c9cb6(0x339)]('drill-feedback'),_0x26bdd9=parseInt(_0x4089b7['value'])===_0x145c4b['correctAnswerIndex'];_0x26bdd9?(_0xf91142[_0x8c9cb6(0x3b2)]=_0x8c9cb6(0x5ce),_0xf91142[_0x8c9cb6(0x7de)]=_0x8c9cb6(0x5ac)+_0x145c4b[_0x8c9cb6(0x105)]):(_0xf91142['className']=_0x8c9cb6(0x27e),_0xf91142[_0x8c9cb6(0x7de)]=_0x8c9cb6(0x8a9)+_0x145c4b[_0x8c9cb6(0x105)]);_0xf91142[_0x8c9cb6(0xe6)]['remove'](_0x8c9cb6(0x730));if(window[_0x8c9cb6(0x20e)])MathJax['typesetPromise']([_0xf91142]);document[_0x8c9cb6(0x339)](_0x8c9cb6(0x4c2))[_0x8c9cb6(0xe6)][_0x8c9cb6(0x34f)](_0x8c9cb6(0x730)),document['getElementById']('hint-btn')['classList'][_0x8c9cb6(0x34f)](_0x8c9cb6(0x730)),document['getElementById'](_0x8c9cb6(0x18b))[_0x8c9cb6(0xe6)]['remove'](_0x8c9cb6(0x730));}),document[_0x1612ec(0x339)](_0x1612ec(0x18b))[_0x1612ec(0x834)](_0x1612ec(0x5c7),()=>{const _0x449fbb=_0x1612ec;_0x372677++,_0x372677<_0x3b734c[_0x449fbb(0x2fe)]?_0x31cebb():(studentQuizArea[_0x449fbb(0x7de)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById']('back-to-results-btn')[_0x449fbb(0x834)](_0x449fbb(0x5c7),()=>{const _0x3c68dc=_0x449fbb;studentQuizArea[_0x3c68dc(0xe6)]['add'](_0x3c68dc(0x730)),studentResultArea['classList'][_0x3c68dc(0x728)](_0x3c68dc(0x730));}));});};_0x31cebb();}function _0x5bdc(){const _0x5935c3=['question-analytics-container','str','whole_quiz','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','label','ความต่อเนื่อง','studentName','lesson-plan-title','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','confirm-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','.pointsLastQuestion','Error\x20during\x20class\x20analysis:','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','พื้นที่ผิวรูปทรงสามมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','POST','ยืนยันและอัปเดตทั้งหมด','\x22\x20class=\x22delete-project-btn\x20','\x5cle','pre-test','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','has','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','อัปเดตพฤติกรรมสำหรับ\x20','body','currentQuestionIndex','isLooping','\x22\x20data-pre-test-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ยืนยันการกระทำ','toDataURL','keydown','การลบทศนิยม','http://www.w3.org/2000/svg','all','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','text-tab','preTScore','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการค่าสัมบูรณ์','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','อนุพันธ์:\x20กฎลูกโซ่','generated-quiz-container','options','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','smooth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','.admin-try-quiz-list-btn','รูปหลายเหลี่ยมและมุมภายใน','isStarred','\x22>ใช่</p>','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','image/png','.rename-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','(ฉบับง่าย)\x20','Error\x20generating\x20quiz:','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','from','ไม่พบข้อมูลการจับคู่','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','การบวกทศนิยม','จำนวนนักเรียน','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','อัตราการเปลี่ยนแปลงทันที','ไม่พบข้อมูลแบบทดสอบ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','filter','student-result-area','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x22,\x20','#F59E0B','start-game-btn','Error\x20saving\x20visibility\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>','list','leaderboard-quiz','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-quiz-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','date_desc','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','project-detail-view','export-leaderboard-image-btn','quiz-leaderboard-table','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','project-name-input','#E0E7FF','Original\x20quiz\x20not\x20found','.save-custom-topic-btn','input[name=\x22status-option\x22]:checked','document','color','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','.edit-question-btn','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','tfrac','</tbody></table></div>','#D1FAE5','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','left','execCommand','Error\x20starting\x20game:','docs','cos','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','modal-adaptive-quiz-checkbox','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดนักเรียน','attemptNumber','questionDisplayedAt','ai-quiz-app-aefee.firebasestorage.app','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test-checkbox','toFixed','สมการตรีโกณมิติ','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','หัวข้อที่สร้างเอง','export-excel-btn','ฟังก์ชันสัมพัทธ์\x20(rational)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','questionIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','การแจกแจงปกติและ\x20z-score','Error\x20listening\x20for\x20projects:','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','1228976GLLMnU','points','overallGroups','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สมการเชิงเส้นตัวแปรเดียว','cancel-create-project-btn','(ไม่มีชื่อ)','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lower_group_count','innerText','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','Error\x20committing\x20score\x20updates:','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','block','text-gray-300\x20hover:text-white','.lastAnswerValue','417984IXnopN','</span>','learningGaps','<p><strong>คำตอบของคุณ:</strong>\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','กรุณาเลือกไฟล์ก่อน','contents','force-math-checkbox','เงินงวด\x20(อนุกรมเงินงวด)','quizType','presentation-ai-result','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','ไม่พบข้อมูลข้อสอบหลังเรียน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','-\x20ข้อ\x20','.project-card-container:not(.opacity-50)','กรุณาป้อนหัวข้อสำหรับใบงาน','lesson-plan-content','\x20pointer-events-none\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','confirm-move-quiz-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','border-indigo-400\x20ring-2\x20ring-indigo-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','top','loader-text','div[data-question-index=\x22','.live-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','move-quiz-project-select','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','.sort-indicator','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','isScored','</tr>','เปิดใช้งาน','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','touchend','\x20ตัวเลือก.\x20','.quiz-result-card','back-to-dashboard-btn','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ผ่านฉลุย','cancel-quiz-settings-btn','print','comeback_king','back-to-home-manual-release','\x22.\x20','request','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','.question-editor-item','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.topic-row','input[name=\x22drill_answer\x22]:checked','progress-project-select','modal-message','min','#results-table\x20thead\x20tr','text-blue-700','allResponses','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x5csqrt{$1}','เกิดข้อผิดพลาดในการอ่านไฟล์','.ideal-answer-input','save-quiz-btn','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','การลบ','string','join-live-game-btn','text-yellow-800','<i\x20class=\x22fas\x20fa-pen\x22></i>','mouseleave','ฟังก์ชันเชิงเส้นและกราฟ','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','modal-timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','global-quiz-search-input','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','หยุดระบบจับเวลาหรี่หน้าจอ','ความแปรปรวน','dispatchEvent','pinnedProjects','promptFeedback','circ','join','\x22\x20เพื่อสร้างชุดคู่ขนาน...','select','#e21b3c','backgroundColor','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนได้เกินครึ่ง','pinned-items','not-found','บันทึกการตั้งค่าสำเร็จ','5TzIoRf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สมการราก\x20(radical)','confirm-delete-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ระยะจากจุดถึงเส้นตรง','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','แก้ไขข้อนี้','(คัดลอก)\x20','.quiz-bank-move-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-lesson-pdf-btn','postTScore','ไม่มีผู้ตอบตัวเลือกนี้','next-question-timed-btn','move-quiz-modal','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','NUMBER','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','text-emerald-900','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-modal','กำลังอัปเดตแบบทดสอบ\x20','getBBox','ร้อยละประยุกต์','classList','answeredCurrentQuestion','.generate-post-test-btn','\x22\x20data-topic=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มัธยฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','loop-until-pass-checkbox','<button\x20data-quiz-id=\x22','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','admin-try-quiz-btn','จากเนื้อหาต่อไปนี้:\x20\x22','per-q-countdown','text-red-300\x20hover:text-red-100','\x20ข้อ\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','qIndex','จัดการ','artifacts/','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','Error\x20joining\x20live\x20game:','badgesCount','explanation','Error\x20pairing\x20quizzes:','onchange','delete-svg-btn','line-through\x20text-red-700','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','viewBox','Error\x20verifying\x20answers\x20in\x20editor:','fill_in_with_choices','ON_FIRE','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','delete','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22','การยืนยันตัวตนล้มเหลว','text-white','first_try_ace','update-old-quizzes-btn','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ดอกเบี้ยทบต้น','.quiz-status-btn','cancel-export-pdf-btn','ระยะทางและจุดกึ่งกลาง','.sortable-header','scrollX','อัปเดตสถานะสำเร็จ','kick-player-btn','match','Error\x20processing\x20file\x20for\x20AI:','verify-answers-editor-btn','close','.project-card-content','<li\x20class=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q','export-leaderboard-pdf-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','confirm-admin-login-btn','ไม่ผ่าน','mean','student-project-leaderboard-content','ไม่พบโปรเจค','ตัวแปรและนิพจน์','input[name=\x22status-option\x22]','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','QUICK_THINKER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','inactive','analytics','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','เกิดข้อผิดพลาด:\x20','Error\x20toggling\x20star\x20status:','score','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex\x20flex-col\x20gap-2','analyze-strengths-btn','บันทึกคำถามใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','ai-quiz-generator-v3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','download','checked','ชนิดของข้อมูลและการเก็บข้อมูล','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','สุดยอด!\x20ตอบถูกทุกข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','บันทึกการตั้งค่าการแสดงผลสำเร็จ','category','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','text-gray-400\x20hover:text-indigo-600','focus','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','thead','default','end-game-btn','.quiz-bank-settings-btn','createdAt','createElementNS','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','close-game-final-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','latestSubmittedAt','replace','showInStudentDashboard','คัดลอกไม่สำเร็จ','answer','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','katex','ไม่ใช่','div','Error\x20displaying\x20question\x20bank:','</p>','prev-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-submission-btn','463782WtoJzq','manage','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','difficulty-level-select','สู้ๆ\x20ลองอีกครั้งนะ','icon','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','สลับไปโหมดผู้ควบคุม','ข้อต่อไป','leaderboard-table-body','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','dataset','podium','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student','ai-quiz-app-aefee.firebaseapp.com','next-drill-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','bg-gray-50','typesetPromise','onload','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<button\x20id=\x22','ชื่อโปรเจคห้ามว่าง','\x20\x20\x20-\x20','quiz-leaderboard-table-container','เกิดข้อผิดพลาดในการลบโปรเจค','Error\x20toggling\x20pin\x20status:','parallel-test-input-area','.cancel-edit-topic-btn','#student-project-leaderboard-content\x20thead','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','Enter','project-title','player-count','.quiz-bank-parallel-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','.delete-svg-btn','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','file-input-area','<span\x20class=\x22font-bold\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','project-dashboard-view','การกระจายและการจัดหมู่','close-comparison-modal-btn','function','(หลังเรียน)\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','.pin-project-btn','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tooltipTarget','แก้ไขหัวข้อสำเร็จ','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ระยะเวลา\x20(วินาที):','[*]','_blank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','.generate-easy-version-btn','สอบซ่อม','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','ring-2','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','toLocaleString','shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','deselect-all-topics-btn','dimmed','.export-pdf-list-btn','confirm-passcode-btn','.save-to-bank-btn','loader','Error\x20deleting\x20all\x20students:','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','bg-red-50','Error\x20listening\x20for\x20starred\x20quizzes:','documentElement','#FCE7F3','.generate-lesson-btn','ความเท่ากันทุกประการของสามเหลี่ยม','class','export-pdf-modal','comparison','#ffffff','.csv','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','lobby','modal-timer-duration-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','แก้ระบบสมการด้วยเมทริกซ์','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','asc','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','showRankings','start-quiz-btn','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','beforeend','totalPoints','\x5cdiv','worksheet-tab','/questionBank','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','playerName','export-leaderboard-word-btn','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','project-passcode-input','null','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','1230051JnOPHr','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','content','scheduled','results-table','</li>','include-images-checkbox','\x5cfrac{','สร้างแบบทดสอบปรนัย','querySelector','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ฟังก์ชันลอการิทึม','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','MathJax','.parallel-quiz-btn','timer-bar','Error\x20regenerating\x20question\x20in\x20editor:','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','imageCode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','num-choices-container','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','opacity-50','student-project-leaderboard-table-body','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ยอดเยี่ยม!','.regenerate-question-editor-btn','PERFECT_SCORE','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</div>','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<div\x20class=\x22','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพเวนน์',',\x20r=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','.doc','student-list','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','border-gray-200','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','ไม่มีคำอธิบาย','input[type=\x22checkbox\x22]','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','\x20\x20\x20-\x20คำตอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','reduce','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','$1\x5cfrac','เกิดข้อผิดพลาดในการลบแบบทดสอบ','/studentProfiles','scores','Error\x20creating\x20project:','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','none','student-quiz-leaderboard-tab','stopPropagation','export-pdf-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','อินเวอร์สของเมทริกซ์','toDate','จำนวนเต็มบวก','Error\x20listening\x20for\x20student\x20profiles:','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-id-display','lastAnswerCorrect','progress-student-select','#DBEAFE','#retake-for-improvement-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20custom\x20topic:','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','ทฤษฎีบทพื้นฐานของแคลคูลัส','random','td,\x20th','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','.quiz-bank-item','Error\x20loading\x20user\x20preferences:','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','จับคู่แบบทดสอบสำเร็จ!','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x5ctimes','ai-quiz-app-aefee','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','student-passcode-input','comparison-chart','project-quizzes-list','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','files','startsWith','fixed','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','projectView','เกิดข้อผิดพลาดในการบันทึก','both','.delete-custom-topic-btn','Error\x20generating\x20lesson\x20plan:','.project-card-container[data-id]','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','timer-mode-select','toString','<p\x20class=\x22font-bold\x20text-sm\x20','Error\x20updating\x20quiz\x20status:','visibilityState','bulk-shuffle-select','comparison-individual-tab','solution','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-global-live-btn','\x20ใหม่...','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','Error\x20loading\x20quiz\x20for\x20student:','topic-tab','tGain','กรุณาป้อนรหัสแบบทดสอบ','คณิตศาสตร์','ระยะเวลา\x20(นาที):','<div\x20class=\x22space-y-4\x22>','lastAnswerIndex','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-short-answer-input','perfect_score','<h1></h1>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','projectId','suggestedAnswer','จับคู่เพื่อเปรียบเทียบผล','ที่พิมพ์ได้\x20จำนวน\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','classStrengths','</p><div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','insertAdjacentHTML','dragover','1268732Chymmr','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','พื้นที่สี่เหลี่ยม','open-quiz-bank-btn','input[type=\x22checkbox\x22]:checked','upperGroupNames','data:application/vnd.ms-word;charset=utf-8,','contentEditable','empty','candidates','standard','value','Authentication\x20failed:','สร้างคำถามใหม่\x201\x20ข้อ\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','close-presentation-btn','.move-quiz-btn','เรขาคณิตวิเคราะห์','description','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','project-list','bank-tab','localeCompare','สัญกรณ์วิทยาศาสตร์','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ระบบเลขและค่าประจำหลัก','modal-close-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','แบบทดสอบซ่อมเสริม','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','text-yellow-300','คำเตือน\x20(','score-distribution-chart','ผู้เชี่ยวชาญ','การจัดหมู่\x20(Combination)','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fill_in_the_blank','schedule','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','ความน่าจะเป็นแบบมีเงื่อนไข','เกิดข้อผิดพลาดในการติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','.answeredCurrentQuestion','numeric','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','text-green-600\x20font-bold','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practiceProblems','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.\x20แต่ละข้อมี\x20','quiz-status-modal','\x22\x20value=\x22true\x22\x20','code','ค่าสัมบูรณ์','rgba(79,\x2070,\x20229,\x200.8)','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','Error\x20fetching\x20student\x20rankings:','name','cancel-quiz-status-btn','parse','ไม่มี','</span></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','forEach','quiz-settings-modal','then','questions','bulk-loop-until-pass-checkbox','Error\x20updating\x20custom\x20topic:','uid','neq','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','รอเปิด','border-red-700','length','text-red-700','quiz-form','อัปเดตแบบทดสอบเก่า\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','.start-live-race-btn','เกิดข้อผิดพลาดในการจับคู่','การคูณเศษส่วน','medium','\x20จาก\x20','input','admin-password-input','กำลังสร้างแบบทดสอบจากหัวข้อ...','text-green-600','bg-purple-50','create-project-btn','isPasscodeEnabled','พีชคณิตและฟังก์ชัน','หมดเวลา!\x20กำลังส่งคำตอบ...','save-visibility-settings-btn','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','save-quiz-edits-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','อุณหภูมิและการแปลง','height','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','quiz-status-options','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','presentation-short-answer-input','change','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','submission-status-chart','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','endTime','show_pass_fail_only','ถูกต้อง!','short_answer','questionText','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','กำลังสแกนหาแบบทดสอบเก่า...','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','show_results_only','(ก่อนเรียน)','ใช่','แบบทดสอบที่ติดดาว','s;\x22\x20title=\x22','\x5cfrac','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-700\x20bg-green-100','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','การแยกตัวประกอบ','Error\x20fetching\x20project\x20quizzes:','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','questionId','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','getElementById','list-view-btn','MathJax\x20typeset\x20error\x20(analytics):','การคูณ','Error\x20deleting\x20quiz:','admin-testing','file-topic-input','วงกลม:\x20สมการและสมบัติ','1:274192258111:web:4120c9118229b5644dd48a','passingScore','worksheet-input-area','bottom','ดีมาก','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','.verification-result','ownerSVGElement','ส่วนเบี่ยงเบนมาตรฐาน','fill','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','analytics-summary-cards','add','results-tab-content','verify-answers-btn','pointsLastQuestion','_opt1\x22\x20name=\x22question','true_false','scores-tab-btn','Error\x20updating\x20pin\x20status:','outerHTML','isCorrect','<option\x20value=\x22\x22>กำลังโหลด...</option>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','file-tab','border-red-300\x20bg-red-50','type','user','player-list-lobby','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-live-game-modal','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','adaptive-quiz-checkbox','matching_item','/preferences/main','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dashboardConfig','กำลังจับคู่...','editor-quiz-topic','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','true','export-worksheet-pdf-btn','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','ควรปรับปรุง','Error\x20generating\x20easy\x20version\x20quiz:','sqrt','webkitRequestFullscreen','touches','sort','$1\x5ctext{','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','stem','Failed\x20to\x20create\x20initial\x20submission\x20record:','password-error-msg','fa-rocket\x20text-purple-500','</form>','export-leaderboard-excel-btn','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','</td></tr>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','แบบปรนัย\x204\x20ตัวเลือก','touchmove','tan','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','results-quiz-id-display','findIndex','slice','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนเต็มลบ','live-game-view','รูปสแควร์รูท\x20(surd)','parallel-test-upload-input','^{\x5ccirc}\x5ctext{C}$','correctAnswer','quiz-bank-modal','.lastAnswerCorrect','mixed','.submittedAt','autoTable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','shuffleSetting','<div\x20class=\x22loader\x20mx-auto\x22></div>','bg-red-200\x20text-red-800','start-presentation-btn','Error\x20generating\x20from\x20blueprint:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','Copy\x20command\x20failed','upperGroupResponders','\x20mr-2\x22></i>','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','confirm-join-game-btn','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','quiz-id-input','/public/data/quizzes/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20generating\x20worksheet:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','className','พบข้อสอบ\x20','ไม่สามารถบันทึกการตั้งค่าได้','leaderboard-quiz-tab-content','ระบบอสมการ','user-id-display','rgba(59,\x20130,\x20246,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','students','.presentation-option','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','Remedial\x20quiz\x20generation\x20failed:','สอบปกติ','rgba(16,\x20185,\x20129,\x200.7)','passing-score-input','</button>','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','back-to-student-initial-btn','ฟังก์ชันยกกำลัง','baseVal','raw','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.copy-quiz-id-list-btn','ย้ายแบบทดสอบสำเร็จ','createObjectURL','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','manage-tab','</tbody></table>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','per-question-text','.ql-editor','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','grid-view-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','Error\x20fetching\x20quiz\x20status:','answering','bg-red-100','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','math-topic-search-input','เพิ่มหัวข้อ\x20\x22','student-quiz-topic','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','.delete-project-btn','update','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<br>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อนุพันธ์:\x20ผลคูณ/ผลหาร','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','wakeLock','ค่าคลาดเคลื่อนของการวัด','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','far\x20fa-star','fas\x20fa-user-edit','แบบทดสอบนี้หมดเวลาแล้ว','\x5csum','ตั้งเวลา\x20(เปิด)','คะแนน','startTime','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','กรุณาเลือกโปรเจคที่ต้องการบันทึก','(คู่ขนาน)\x20','.star-quiz-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','วงรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x22>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','open','parallel-test-tab','players.','.quiz-bank-delete-btn','student-rankings-modal','game-pin-input','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','_opt','https://corsproxy.io/?','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission','editable-text-','จุด\x20เส้น\x20ระนาบ','ฟังก์ชันกำลังสองและกราฟ','สร้างชุดคำถามจับคู่','slide-counter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-counter','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','dataIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','name_desc','</strong></p>','พิมพ์ตอบ','correctResponse','title','generated-quiz-actions','close-lesson-plan-modal-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','student-progress-view','คำถามถัดไป','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','FileReader\x20error:','ยังไม่เต็มนะ','modal-loop-until-pass-checkbox','ปรับเพิ่ม/ลดเป็นร้อยละ','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button[type=\x22submit\x22]','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','back-to-project-btn','close-comparison-modal-footer-btn','$1\x5ctimes','กรุณาใส่ชื่อใหม่','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','58440tILkoG','\x22\x20name=\x22question','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','topic-input-area','removeChild','\x20สำเร็จ','project-detail','ส่งคำตอบ','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','quiz-results','font-bold\x20text-red-700\x20line-through','postScore','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','players','exitFullscreen','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.answer-text','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','generate-from-topic-btn','text-gray-200','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','คัดลอกแบบทดสอบสำเร็จ','Error\x20verifying\x20answers:','num-choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎของไซน์','admin-dashboard','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x22\x5cn','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>','COMEBACK_KING','Error\x20generating\x20from\x20link:','parseFromString','target','การนับ','student-project-leaderboard-tab','modal-passing-score-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overline','padStart','countdown-display','toLocaleDateString','desc','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','<textarea\x20name=\x22question','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','results-tab','timer-duration-label','Error\x20resetting\x20project\x20order:','exists','.topic-actions-edit','textContent','AI\x20request\x20was\x20blocked.\x20Reason:\x20','คะแนนเฉลี่ย','API\x20call\x20failed','draggable-text','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','toLowerCase','กราฟฟังก์ชันตรีโกณ','student-view','cursor','settings','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ปริพันธ์ไม่จำกัด','selected-topics-count','\x20รายการสำเร็จ!','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','results-display-select','text-emerald-800','.toggle-actions-btn','.project-card-container.opacity-50','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ควบคุม\x20(ทดสอบ)','#per-question-options\x20textarea','.pair-quiz-btn','getPage','svg','</body></html>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','มุมพิเศษ\x2045°-45°-90°','ส่วนเบี่ยงเบนเฉลี่ย','พื้นที่วงกลม/ส่วนของวงกลม','เปิด\x20(จับเวลา)','text-purple-600','Error\x20moving\x20quiz:','upper_group_count','เส้นตรง:\x20รูปแบบสมการ','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','table','[data-topic-container-id]','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-bank-btn','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','behavior-log-container','workerSrc','student-name-select','cancel-move-quiz-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','quiz-editor-modal','</span></p>','confirm-bulk-quiz-settings-btn','เปลี่ยนชื่อแบบทดสอบสำเร็จ','confirm-create-project-btn','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy-quiz-id-btn','\x20หัวข้อ)','blockReason','set','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','question-complexity-select','flex','\x22\x20data-q-type=\x22','arrayBuffer','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20\x0a\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI:','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','bulk-quiz-settings-btn','check-answer-btn','manage-tab-content','ไม่พบตารางสำหรับ\x20Export','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','parent','ค.ร.น.\x20(LCM)','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','lessonPlan','การแจกแจงทวินาม\x20(พื้นฐาน)','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','size','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.topic-name-input','Error\x20showing\x20quiz\x20detail\x20view:','Error\x20starting\x20live\x20race:','student-quiz-leaderboard-table-body','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','quiz-end-time','quiz-schedule-end-container','สมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','bg-green-100','Firebase\x20initialization\x20failed:','generate-from-file-btn','\x20(p=','สรุปผลการวิเคราะห์:\x5cn','เกิดข้อผิดพลาดในการอัปเดตสถานะ','temp-loader-results','\x22.\x20Ideal\x20Answer:\x20\x22','timer-duration-container','\x20ชุด)','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','destroy','#FEF3C7','error','ทศนิยม\x20(ค่าประจำหลัก)','key','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','th-TH','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','badges','worksheet-topic-input','analytics-tab-btn','OBJECT','quiz-leaderboard-table-body','bg-yellow-100','text-content-input','instructions','view-my-progress-btn','gain','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','cancel-quiz-edits-btn-footer','[contenteditable=\x22true\x22]','/public/data/customMathTopics','indexOf','\x22...','undefined','setAttributeNS','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สำหรับโปรเจค:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ปริมาตร/ความจุและการแปลง','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','การปัดเศษและประมาณค่า','generate-from-text-btn','614709SuOfBN','แผนการสอน','.draggable-text','/public/data/quizzes','save','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','loopUntilPass','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','getAttributeNS','สร้างแบบทดสอบ','write','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','false','/public/data/projects/','กรุณาเลือกชื่อของคุณ','create-project-modal','lowerGroupNames','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','btn','ก่อนเรียน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การเรียงสับเปลี่ยน\x20(Permutation)','รูปแบบการให้เหตุผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หลังเรียน','back-to-dashboard-from-results-btn','cancel-test-btn','ring-purple-400','2-digit','BOOLEAN','create-from-bank-btn','shuffledQuiz','การวัด','attempts','ดอทโปรดักต์\x20(dot)','/public/data/projects','Error\x20generating\x20parallel\x20test\x20from\x20bank:','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','submissions','```','q-explanation-','leq','cancel-quiz-edits-btn','จำนวนเชิงซ้อน\x20(เสริม)','comparison-overall-content','bg-green-200\x20text-green-800','parts','show_results_and_answers','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','cloneNode','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','on_fire','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','NEGATIVE_INFINITY','includes','enable-passcode-checkbox','อัปเดตการตั้งค่าของแบบทดสอบ\x20','border-green-700','startedAt','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','กรุณาใส่ชื่อนักเรียน','สมการเหตุผล\x20(rational)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','blueprint-upload-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','bg-emerald-100','cancel-admin-login-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','#F3E8FF','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','fa-fire\x20text-orange-500','release','00:00','Error\x20rendering\x20student\x20progress:','.unpair-quiz-btn','text-indigo-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','พอใช้','bg-blue-100','items','quiz-editor-questions-container','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','clientX','contains','manage-players-btn','คะแนนเต็ม','auto-fix-latex-btn','red','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Error\x20saving\x20quiz:','กรุณาเลือกโปรเจคปลายทาง','idealAnswer','select-all-topics-btn','จำนวนข้อ:','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','results','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','projectSortOrder','/users/','option','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answers','%</span>','ลบผลสอบของ\x20','now','input[name=\x22question_single\x22]:checked','no-projects-msg','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','(ตัวเลือกผิดพลาด)','timerMode','ค่าเฉลี่ย','$1_{$2}','keys','student-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','times','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fa-pen','copy','textarea','input[type=\x22text\x22]','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','ยังไม่ส่ง','bg-blue-100\x20text-blue-800','ตรีโกณมิติ','<div\x20class=\x22flex-1\x22></div>','bank-quiz-list','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','visible','lowerGroupResponders','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','practice-topic-btn','preventDefault','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','questions_only','quiz-start-time','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','answer-grid-container','$1\x5ctext(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','setFont','fa-shield-alt\x20text-gray-600','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','answerText','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','ผู้ไม่ยอมแพ้','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','behaviorLog','.quiz-bank-present-btn','pairedQuizId','quiz','เซียนสมองไว','กำลังสร้างรูปภาพ...','originalTopic','targetId','ไม่สามารถเริ่มเกมได้','confirm-quiz-status-btn','specialist','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','click','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','live-submit-short-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','.delete-quiz-btn','preScore','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','font-bold\x20text-green-700','teachingContent','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','738FCDbQS','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','quiz-type-select','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','<div\x20class=\x22my-6\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20renaming\x20quiz:','latestScore','STRING','ลบหัวข้อสำเร็จ','bg-red-500','leaderboard-tab-content','\x5c\x5c\x5c\x5c(?=(','submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','display','Error\x20generating\x20parallel\x20post-test:','getTextContent','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','quiz-results-view','results-table-container','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','/public/data/liveGames','ย้าย','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','border-green-300\x20bg-green-50','ความคาดหมาย\x20(Expected\x20value)','readAsDataURL','stringify','after','find','export-compact-pdf-btn','topic','รูปสี่เหลี่ยมและสมบัติ','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','การหาร','ตรวจพบการออกจากหน้าจอครบ\x20','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','เมทริกซ์:\x20บวก/คูณ','.topic-category','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','fill_in_no_choices','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/submissions','Error\x20adding\x20students:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','มุมพิเศษ\x2030°-60°-90°','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ฟังก์ชันค่าสัมบูรณ์','getBoundingClientRect','totalQuestions','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','circle','globalSettings','$1\x20\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','.correct-response-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','จำนวนคู่:','การจัดกลุ่มข้อมูล','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','currentTarget','\x22\x20name=\x22question_single\x22\x20value=\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','bulk-quiz-settings-modal','ตรวจทานเฉลยเสร็จสิ้น!','requestFullscreen','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','visibilitychange','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','leaderboard','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-player-management','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','.live-summary-tooltip.visible','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x5ccdot','confirmation-message','ยกเลิกการจับคู่สำเร็จ','48qPUxHM','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-green-100\x20text-green-800','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','question','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','comparison-overall-tab','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','message','onerror','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','export-image-btn','screen_exit','some','อัตราส่วนและสัดส่วน','.verification-result-editor','(เลือกแล้ว\x20','.project-card-container','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','insertBefore','quiz-search-input','text-indigo-600','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dragend','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','log','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bestScore','timer-container','<div\x20id=\x22q-image-container-','data','\x22\x20class=\x22pin-project-btn\x20','\x20mx-1\x20text-lg\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','จากไฟล์ที่แนบมานี้,\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','starred','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','เรขาคณิต','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text/csv;charset=utf-8;','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ราชาคัมแบ็ก','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','dfrac','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','actions-container-','ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','add-custom-math-topic-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','strength-weakness-analysis-container','status','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','ลบแบบทดสอบสำเร็จแล้ว','\x5cfrac{$1}{$2}','บันทึกการแก้ไข','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','msExitFullscreen','text','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','bank-quiz-search-input','ไม่สามารถสร้างโปรเจคได้','getScreenCTM','bg-green-50','แคลคูลัสเบื้องต้น','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','จำนวนและการดำเนินการ','fa-user-astronaut\x20text-blue-700','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','กรุณาใส่ชื่อโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ไม่ได้ตอบ','Error\x20deleting\x20project:','\x22><p\x20class=\x22font-semibold\x22>','qType','leaderboard-quiz-tab-btn','การคูณทศนิยม','blur','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','msRequestFullscreen','สร้างโปรเจคสำเร็จ!',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','โดเมนและเรนจ์','ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20updating\x20old\x20quizzes:','.compare-results-btn','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.option-text','post-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','text-red-800','#10B981','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','#FFFFFF','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','.question-editor-item[data-q-index=\x22','scrollIntoView','nickname-input','ปริพันธ์จำกัด','quiz-generation-area','project-sort-select','keyup','rename-quiz-input','timestamp','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','.topic-actions-view','total','\x22><i\x20class=\x22fas\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','floor','ความเป็นอิสระของเหตุการณ์','เกิดข้อผิดพลาดในการบันทึกลำดับ','projectOrder','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','Re-grade\x20process\x20failed:','fas\x20fa-star\x20text-yellow-500','hover:bg-indigo-100','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','createElement','quizId','modal-timer-mode-select','ตรวจคะแนนใหม่\x20',')\x5cb)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode','button[data-id]','<svg','_opt1\x22>ไม่ใช่</label></div>','เกิดข้อผิดพลาดในการสร้างใบงาน','/public/data/practiceBank','quiz-schedule-start-container','justification','พื้นที่สามเหลี่ยม','index','\x20รายการ...','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','trim','.color-palette-popup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','hint-btn','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','สร้างคำถามแบบใช่/ไม่ใช่','results_','underline','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','สมมาตร\x20(แกน/จุด)','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ref','confirmation-modal','originalQuestionText','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','grid','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','sin','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','style','Error\x20saving\x20to\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','starred-project','student-quiz-leaderboard-content','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','bar','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','toISOString','student-join-game-view','resultsDisplay','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-red-700\x20bg-red-100','next-question-btn','Error\x20generating\x20from\x20parallel\x20test\x20file:','commit','behavior-log-tab-btn','เกิดข้อผิดพลาดในการโหลดสถานะ','</option>','touchcancel','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','values','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','อสมการเชิงเส้น','กราฟแท่ง\x20กราฟเส้น','map','math-topics-checkbox-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','scores-tab-content','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','element','\x20mb-2\x22>','generate-from-parallel-test-btn','shuffle','text-gray-700','move','remove','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','สร้างคำถามแบบเติมคำในช่องว่าง','mode-switcher-btn','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectName','hidden','\x22\x20สำเร็จ','text-blue-700\x20bg-blue-100','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','<li>','rgba(79,\x2070,\x20229,\x201)','prod','hasOwnProperty','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','Error\x20saving\x20quiz\x20edits:','.group','lesson-plan-modal','multiple_choice','.pdf','quick_thinker','.isScored','per-question-options','หมดเวลาสำหรับข้อนี้!','ดอกเบี้ยอย่างง่าย','กรุณาเลือกสถานะ','modal-timer-duration-input','passcode-prompt-message','{$1}','warn','</p><p><strong>เฉลย:</strong>\x20','bulk-results-display-select','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','input[type=\x22radio\x22]:checked','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','กฎของโคไซน์','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างใหม่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','$1^{\x5ccirc}\x5ctext{C}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','bg-red-100\x20text-red-800','ระบบสมการเชิงเส้นสองตัวแปร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22\x20class=\x22color-palette-btn\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','.topic-name-display','correctAnswerIndex','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','admin-view','Invalid\x20response\x20structure\x20from\x20AI.','closest','start-live-race-generated-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','mjx-container','อนุพันธ์:\x20กฎพื้นฐาน','live-game','fullscreenchange','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','half_mark_status','offsetWidth','confirm-rename-quiz-btn','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-options-container','\x0a---\x0a','\x5cge','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20project\x20order:','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-amber-100\x20text-amber-800','ไม่สามารถโหลดข้อมูลอันดับได้','ตัวประกอบและตัวประกอบเฉพาะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-home-btn','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','classWeaknesses','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</label>\x0a\x20\x20\x20\x20</div>\x0a','split','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','repeat','N/A','scheduled_pending','offset','questionType','choices_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','correct','project-passcode-modal','appendChild','result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','onclick','touchstart','get','admin','delete-all-students-btn','ดีเทอร์มิแนนต์','confirm-global-live-btn','bank-input-area','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','save-project-name-btn','application/json','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','fa-dumbbell\x20text-gray-700','กำลังสร้างคำถามข้อ\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','Error\x20adding\x20custom\x20topic:','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'];_0x5bdc=function(){return _0x5935c3;};return _0x5bdc();}async function getHintForQuestion(_0xbe84ca){const _0x2dc8f8=_0x2ee497,_0x35f74d=_0x2dc8f8(0x427)+_0xbe84ca+_0x2dc8f8(0x1f6),_0x276fd0={'type':_0x2dc8f8(0x4f1),'properties':{'hint':{'type':'STRING'}},'required':[_0x2dc8f8(0x832)]};try{const _0xca5e22=await callAnalysisApi(_0x35f74d,_0x276fd0);return _0xca5e22[_0x2dc8f8(0x832)];}catch(_0x1d09fb){return console['error']('Failed\x20to\x20get\x20hint:',_0x1d09fb),_0x2dc8f8(0x10f);}}async function extractTextFromPdf(_0x34737a){const _0x62b689=_0x2ee497;pdfjsLib['GlobalWorkerOptions'][_0x62b689(0x4a5)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x2e0bb9=await _0x34737a[_0x62b689(0x4ba)](),_0x4e37bc=await pdfjsLib['getDocument'](_0x2e0bb9)['promise'],_0x5d4540=_0x4e37bc['numPages'];let _0x11c44b='';for(let _0x3b7af8=0x1;_0x3b7af8<=_0x5d4540;_0x3b7af8++){const _0x58add4=await _0x4e37bc[_0x62b689(0x491)](_0x3b7af8),_0x224de7=await _0x58add4[_0x62b689(0x5eb)](),_0x21f56b=_0x224de7[_0x62b689(0x569)]['map'](_0x58d55c=>_0x58d55c[_0x62b689(0x7aa)])[_0x62b689(0x8bf)]('\x20');_0x11c44b+=_0x21f56b+'\x0a\x0a';}return _0x11c44b;}async function handleGenerateFromBlueprint(){const _0x2e3b45=_0x2ee497,_0x504564=document['getElementById'](_0x2e3b45(0x557)),_0x85013f=document[_0x2e3b45(0x339)]('reference-pdf-upload'),_0x210e79=_0x504564['files'][0x0],_0x57c07c=_0x85013f['files'][_0x2e3b45(0x2fe)]>0x0?_0x85013f[_0x2e3b45(0x27a)][0x0]:null;if(!_0x210e79){showMessage(_0x2e3b45(0x20a));return;}const _0x517743=document[_0x2e3b45(0x339)](_0x2e3b45(0x1cd)),_0x56aa97=document[_0x2e3b45(0x339)](_0x2e3b45(0x877)),_0x1bde2e=document[_0x2e3b45(0x339)](_0x2e3b45(0x7e0)),_0x4b372f=document['getElementById']('generate-from-blueprint-btn');_0x4b372f[_0x2e3b45(0x154)]=!![],document[_0x2e3b45(0x339)]('quiz-generation-area')[_0x2e3b45(0xe6)][_0x2e3b45(0x728)](_0x2e3b45(0x730)),_0x1bde2e['innerHTML']='',_0x517743[_0x2e3b45(0xe6)][_0x2e3b45(0x728)]('hidden');try{_0x56aa97['textContent']=_0x2e3b45(0x363);const _0x245981=await extractTextFromPdf(_0x210e79);if(!_0x245981[_0x2e3b45(0x6df)]())throw new Error(_0x2e3b45(0x26f));let _0xcfc11='';_0x57c07c&&(_0x56aa97['textContent']=_0x2e3b45(0x22b),_0xcfc11=await extractTextFromPdf(_0x57c07c));_0x56aa97['textContent']=_0x2e3b45(0x1ec);const _0x4989b0=document[_0x2e3b45(0x339)](_0x2e3b45(0x202))[_0x2e3b45(0x149)],_0x2a3e08=_0x4989b0?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x47b316=_0xcfc11?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcfc11+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x4dbc59='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xcfc11?_0x2e3b45(0x1a5):'')+_0x2e3b45(0x6ce)+_0x245981+_0x2e3b45(0xdc)+_0x47b316+_0x2e3b45(0xe0)+_0x2a3e08+_0x2e3b45(0x659)+simpleMathPrompt+_0x2e3b45(0x606),_0x564f40={'type':_0x2e3b45(0x4f1),'properties':{'questionText':{'type':_0x2e3b45(0x5e0)},'questionType':{'type':_0x2e3b45(0x5e0),'enum':[_0x2e3b45(0x73c),_0x2e3b45(0x324)]},'options':{'type':'ARRAY','items':{'type':_0x2e3b45(0x5e0)}},'correctAnswerIndex':{'type':_0x2e3b45(0xda)},'idealAnswer':{'type':_0x2e3b45(0x5e0)},'explanation':{'type':_0x2e3b45(0x5e0)},'imageCode':{'type':_0x2e3b45(0x5e0)}},'required':[_0x2e3b45(0x325),_0x2e3b45(0x790),_0x2e3b45(0x105)]},_0x32b5bb={'type':_0x2e3b45(0x4f1),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2e3b45(0xfb),'items':_0x564f40}},'required':[_0x2e3b45(0x5fb),_0x2e3b45(0x2f4)]};await handleApiCall(_0x4dbc59,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x32b5bb);}catch(_0x25e2a1){console['error'](_0x2e3b45(0x3a1),_0x25e2a1),showMessage(_0x2e3b45(0x13a)+_0x25e2a1[_0x2e3b45(0x63d)]),_0x1bde2e['innerHTML']=_0x2e3b45(0x5c6);}finally{_0x517743[_0x2e3b45(0xe6)][_0x2e3b45(0x34f)](_0x2e3b45(0x730)),_0x4b372f[_0x2e3b45(0x154)]=![];}}async function handleGenerateParallelFromBank(_0x4a12a8){const _0x22eb5e=_0x2ee497;switchProjectTab(_0x22eb5e(0x17a));const _0x2096b4=document[_0x22eb5e(0x339)](_0x22eb5e(0x1cd)),_0x3621c1=document['getElementById'](_0x22eb5e(0x877)),_0x5b5e42=document[_0x22eb5e(0x339)](_0x22eb5e(0x7e0));document['getElementById'](_0x22eb5e(0x6b4))[_0x22eb5e(0xe6)][_0x22eb5e(0x728)](_0x22eb5e(0x730)),_0x5b5e42['innerHTML']='',_0x2096b4['classList'][_0x22eb5e(0x728)]('hidden'),_0x3621c1[_0x22eb5e(0x477)]='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x4a12a8['topic']+_0x22eb5e(0x8c0);try{const _0x2e35f0=_0x4a12a8[_0x22eb5e(0x2f4)][_0x22eb5e(0x71d)]((_0x239f22,_0x5cdbca)=>{const _0x418aec=_0x22eb5e;let _0x3f22ab=_0x5cdbca+0x1+'.\x20'+(_0x239f22[_0x418aec(0x325)]||_0x239f22[_0x418aec(0x37b)])+'\x0a';if(_0x239f22[_0x418aec(0x7e1)])_0x3f22ab+=_0x239f22[_0x418aec(0x7e1)]['map']((_0x192bb2,_0x54c19c)=>_0x418aec(0x195)+(_0x54c19c===_0x239f22[_0x418aec(0x75e)]?_0x418aec(0x1ba):'')+'\x20'+_0x192bb2)[_0x418aec(0x8bf)]('\x0a');else _0x239f22[_0x418aec(0x575)]&&(_0x3f22ab+=_0x418aec(0x242)+_0x239f22['idealAnswer']);return _0x3f22ab;})[_0x22eb5e(0x8bf)]('\x0a\x0a');_0x3621c1[_0x22eb5e(0x477)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xb64413=_0x22eb5e(0x611)+_0x4a12a8[_0x22eb5e(0x5fb)]+_0x22eb5e(0x508)+_0x2e35f0+_0x22eb5e(0x3be)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x548c9f={'type':_0x22eb5e(0x4f1),'properties':{'questionText':{'type':_0x22eb5e(0x5e0)},'questionType':{'type':'STRING','enum':[_0x22eb5e(0x73c),_0x22eb5e(0x324),_0x22eb5e(0x354),_0x22eb5e(0x368)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x22eb5e(0xda)},'idealAnswer':{'type':_0x22eb5e(0x5e0)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x22eb5e(0x5e0)},'correctResponse':{'type':_0x22eb5e(0x5e0)},'allResponses':{'type':_0x22eb5e(0xfb),'items':{'type':_0x22eb5e(0x5e0)}},'explanation':{'type':_0x22eb5e(0x5e0)},'imageCode':{'type':_0x22eb5e(0x5e0)}},'required':[_0x22eb5e(0x325),_0x22eb5e(0x790),_0x22eb5e(0x7e1),'correctAnswerIndex',_0x22eb5e(0x105)]},_0x59f1e6={'type':_0x22eb5e(0x4f1),'properties':{'topic':{'type':_0x22eb5e(0x5e0)},'questions':{'type':_0x22eb5e(0xfb),'items':_0x548c9f}},'required':[_0x22eb5e(0x5fb),'questions']},_0x1f9398=await callAnalysisApi(_0xb64413,_0x59f1e6);_0x1f9398[_0x22eb5e(0x5fb)]=_0x22eb5e(0x3f9)+_0x4a12a8[_0x22eb5e(0x5fb)],_0x1f9398[_0x22eb5e(0x867)]=_0x4a12a8[_0x22eb5e(0x867)],currentQuizData=_0x1f9398,displayGeneratedQuiz(_0x1f9398),document[_0x22eb5e(0x339)]('manage-tab-content')[_0x22eb5e(0x6b1)]({'behavior':_0x22eb5e(0x7e4)});}catch(_0x145601){console[_0x22eb5e(0x4e7)](_0x22eb5e(0x538),_0x145601),showMessage(_0x22eb5e(0x13a)+_0x145601[_0x22eb5e(0x63d)]),_0x5b5e42['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x2096b4[_0x22eb5e(0xe6)]['add'](_0x22eb5e(0x730));}}async function handleGenerateParallelPostTest(_0x2192f6){const _0x391e78=_0x2ee497,_0x2ca102=document['getElementById'](_0x391e78(0x350)),_0x2aa3d0=document['getElementById']('project-quizzes-list');_0x2aa3d0[_0x391e78(0xe6)]['add'](_0x391e78(0x730));const _0x22e251=_0x391e78(0x875);_0x2ca102[_0x391e78(0x2aa)](_0x391e78(0x1ed),_0x22e251);try{const _0x2fcafa=_0x2192f6[_0x391e78(0x2f4)]['map']((_0x2fae35,_0x290b9e)=>{const _0x4b327a=_0x391e78;let _0x4bbc6d=_0x290b9e+0x1+'.\x20'+(_0x2fae35[_0x4b327a(0x325)]||_0x2fae35[_0x4b327a(0x37b)]);if(_0x2fae35[_0x4b327a(0x7e1)])_0x4bbc6d+=_0x4b327a(0x7f8)+_0x2fae35[_0x4b327a(0x7e1)][_0x4b327a(0x8bf)](',\x20');return _0x4bbc6d;})['join']('\x0a\x0a'),_0x32cd8d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x2192f6['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2fcafa+_0x391e78(0x29d)+simpleMathPrompt+_0x391e78(0x606),_0x59228c={'type':_0x391e78(0x4f1),'properties':{'topic':{'type':_0x391e78(0x5e0)},'questions':{'type':_0x391e78(0xfb),'items':{'type':_0x391e78(0x4f1),'properties':{'questionText':{'type':_0x391e78(0x5e0)},'questionType':{'type':_0x391e78(0x5e0)},'options':{'type':_0x391e78(0xfb),'items':{'type':_0x391e78(0x5e0)}},'correctAnswerIndex':{'type':_0x391e78(0xda)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x391e78(0x5e0)}},'required':[_0x391e78(0x325),_0x391e78(0x105)]}}},'required':[_0x391e78(0x5fb),_0x391e78(0x2f4)]},_0x1b704a=await callAnalysisApi(_0x32cd8d,_0x59228c),_0x14f280=_0x2192f6[_0x391e78(0x5fb)][_0x391e78(0x16b)](_0x391e78(0x32c),'')[_0x391e78(0x6df)](),_0x250afc=_0x391e78(0x1b1)+_0x14f280,_0x3ac7cf={..._0x1b704a,'topic':_0x250afc,'quizType':_0x2192f6[_0x391e78(0x867)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x391e78(0x70b)](),'status':_0x391e78(0x4ca),'settings':_0x2192f6['settings'],'quizMode':'post-test','pairedQuizId':_0x2192f6['id']};let _0x2f9266;while(!![]){_0x2f9266=Math[_0x391e78(0x6be)](0x3e8+Math[_0x391e78(0x26a)]()*0x2328)[_0x391e78(0x289)]();const _0x3f7acd=await getDoc(doc(db,_0x391e78(0x100)+appId+_0x391e78(0x50f),_0x2f9266));if(!_0x3f7acd[_0x391e78(0x475)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x391e78(0x50f),_0x2f9266),_0x3ac7cf);const _0x4b5bdb=doc(db,_0x391e78(0x100)+appId+_0x391e78(0x50f),_0x2192f6['id']);await updateDoc(_0x4b5bdb,{'pairedQuizId':_0x2f9266}),showMessage(_0x391e78(0x2bb));}catch(_0x1f5dd2){console[_0x391e78(0x4e7)](_0x391e78(0x5ea),_0x1f5dd2),showMessage(_0x391e78(0x13a)+_0x1f5dd2[_0x391e78(0x63d)]);}finally{const _0x2bc188=document[_0x391e78(0x339)](_0x391e78(0x4e0));if(_0x2bc188)_0x2bc188['remove']();_0x2aa3d0['classList'][_0x391e78(0x728)](_0x391e78(0x730));}}async function handleGenerateParallelTest(){const _0x3082f5=_0x2ee497,_0x4db7f2=document['getElementById']('parallel-test-upload-input'),_0x25b922=_0x4db7f2[_0x3082f5(0x27a)][0x0];if(!_0x25b922){showMessage(_0x3082f5(0x333));return;}const _0x46c11c=document[_0x3082f5(0x339)]('loader'),_0x43e73c=document[_0x3082f5(0x339)](_0x3082f5(0x877)),_0x2b6a47=document[_0x3082f5(0x339)]('generated-quiz-container'),_0x4abd81=document[_0x3082f5(0x339)](_0x3082f5(0x724));_0x4abd81['disabled']=!![],document[_0x3082f5(0x339)](_0x3082f5(0x6b4))[_0x3082f5(0xe6)]['remove'](_0x3082f5(0x730)),_0x2b6a47['innerHTML']='',_0x46c11c[_0x3082f5(0xe6)]['remove'](_0x3082f5(0x730)),_0x43e73c['textContent']=_0x3082f5(0x371);try{const _0x15e23f=await extractTextFromPdf(_0x25b922);if(!_0x15e23f[_0x3082f5(0x6df)]())throw new Error(_0x3082f5(0x7d6));_0x43e73c[_0x3082f5(0x477)]=_0x3082f5(0x738);const _0x222fde=document['getElementById'](_0x3082f5(0x202))[_0x3082f5(0x149)],_0x4306f1=_0x222fde?_0x3082f5(0x3bf):'',_0x5a68a3=_0x3082f5(0x833)+_0x15e23f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4306f1+_0x3082f5(0x659)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x434e23={'type':'OBJECT','properties':{'questionText':{'type':_0x3082f5(0x5e0)},'questionType':{'type':_0x3082f5(0x5e0),'enum':['multiple_choice',_0x3082f5(0x324)]},'options':{'type':_0x3082f5(0xfb),'items':{'type':_0x3082f5(0x5e0)}},'correctAnswerIndex':{'type':_0x3082f5(0xda)},'idealAnswer':{'type':_0x3082f5(0x5e0)},'explanation':{'type':_0x3082f5(0x5e0)},'imageCode':{'type':_0x3082f5(0x5e0)}},'required':[_0x3082f5(0x325),_0x3082f5(0x790),'explanation']},_0x2a9636={'type':_0x3082f5(0x4f1),'properties':{'topic':{'type':_0x3082f5(0x5e0)},'questions':{'type':'ARRAY','items':_0x434e23}},'required':[_0x3082f5(0x5fb),_0x3082f5(0x2f4)]};await handleApiCall(_0x5a68a3,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x2a9636);}catch(_0x55370b){console[_0x3082f5(0x4e7)](_0x3082f5(0x711),_0x55370b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x55370b['message']),_0x2b6a47[_0x3082f5(0x7de)]=_0x3082f5(0x7ac);}finally{_0x46c11c[_0x3082f5(0xe6)]['add'](_0x3082f5(0x730)),_0x4abd81['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x5e66b8){const _0xdb700b=_0x2ee497;if(currentEditingQuizData===null)return;const _0x28c13d=document[_0xdb700b(0x205)](_0xdb700b(0x6b0)+_0x5e66b8+'\x22]');_0x28c13d&&(_0x28c13d[_0xdb700b(0x7de)]=_0xdb700b(0x75f));const _0x28d0b2=currentEditingQuizData[_0xdb700b(0x2f4)][_0x5e66b8],_0x712b25=currentEditingQuizData[_0xdb700b(0x5fb)],_0x366b03=_0x28d0b2[_0xdb700b(0x790)],_0x37b1b2={'type':_0xdb700b(0x4f1),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0xdb700b(0x5e0)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xdb700b(0x5e0)}},'required':['questionText','options',_0xdb700b(0x75e),_0xdb700b(0x105)]},_0x594079={'type':_0xdb700b(0x4f1),'properties':{'questionText':{'type':_0xdb700b(0x5e0)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xdb700b(0x5e0)}},'required':[_0xdb700b(0x325),_0xdb700b(0x575),_0xdb700b(0x105)]};let _0x12d4a7,_0x516853='';_0x366b03===_0xdb700b(0x73c)?(_0x12d4a7=_0x37b1b2,_0x516853=_0xdb700b(0x386)):(_0x12d4a7=_0x594079,_0x516853='แบบเติมคำตอบ');const _0xf49274=_0xdb700b(0x42c)+_0x712b25+_0xdb700b(0x613)+_0x516853+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x28d0b2['questionText']||_0x28d0b2[_0xdb700b(0x37b)])+_0xdb700b(0x892)+simpleMathPrompt;try{const _0x5cdb65=await callAnalysisApi(_0xf49274,_0x12d4a7);currentEditingQuizData[_0xdb700b(0x2f4)][_0x5e66b8]={..._0x28d0b2,..._0x5cdb65},renderQuizEditor(currentEditingQuizData);}catch(_0x543e58){console[_0xdb700b(0x4e7)](_0xdb700b(0x211),_0x543e58),showMessage(_0xdb700b(0x5b7)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4623b1=_0x2ee497,_0x7269b4=document[_0x4623b1(0x339)](_0x4623b1(0x72c));currentMode===_0x4623b1(0x189)?(currentMode=_0x4623b1(0x79b),_0x7269b4[_0x4623b1(0x7de)]=_0x4623b1(0x494),_0x7269b4['title']=_0x4623b1(0x838),showView(_0x4623b1(0x459))):(currentMode=_0x4623b1(0x189),_0x7269b4[_0x4623b1(0x7de)]=_0x4623b1(0x2a1),_0x7269b4['title']=_0x4623b1(0x180),showView(_0x4623b1(0x189)));}function handleAdminLogin(){const _0x327205=_0x2ee497,_0x2d058a=document[_0x327205(0x339)](_0x327205(0x30a)),_0x26b275=document[_0x327205(0x339)](_0x327205(0x37d));if(_0x2d058a[_0x327205(0x2b8)]===_0x327205(0x2e7)){adminPasswordModal['classList'][_0x327205(0x34f)](_0x327205(0x730)),_0x2d058a[_0x327205(0x2b8)]='',_0x26b275[_0x327205(0xe6)]['add'](_0x327205(0x730)),currentMode=_0x327205(0x79b);const _0x4bfea6=document[_0x327205(0x339)](_0x327205(0x72c));_0x4bfea6[_0x327205(0x7de)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x4bfea6[_0x327205(0x41e)]=_0x327205(0x838),showView(_0x327205(0x459));}else _0x26b275['classList'][_0x327205(0x728)](_0x327205(0x730)),_0x2d058a[_0x327205(0x2b8)]='';}function switchProjectTab(_0x46991f){const _0x1ede0b=_0x2ee497;[_0x1ede0b(0x17a),_0x1ede0b(0x579),_0x1ede0b(0x62a)][_0x1ede0b(0x2f1)](_0x310ba8=>{const _0x3bd4c7=_0x1ede0b;document[_0x3bd4c7(0x339)](_0x310ba8+'-tab')[_0x3bd4c7(0xe6)]['remove'](_0x3bd4c7(0x4ca)),document[_0x3bd4c7(0x339)](_0x310ba8+_0x3bd4c7(0x224))[_0x3bd4c7(0xe6)][_0x3bd4c7(0x34f)](_0x3bd4c7(0x730));}),document[_0x1ede0b(0x339)](_0x46991f+'-tab')[_0x1ede0b(0xe6)][_0x1ede0b(0x34f)]('active'),document['getElementById'](_0x46991f+'-tab-content')[_0x1ede0b(0xe6)][_0x1ede0b(0x728)]('hidden');}function switchQuizDetailTab(_0x2242e9){const _0x5411ae=_0x2ee497,_0x105945={'analytics':{'btn':'analytics-tab-btn','content':'analytics-tab-content'},'scores':{'btn':'scores-tab-btn','content':_0x5411ae(0x720)},'leaderboard-quiz':{'btn':_0x5411ae(0x68d),'content':_0x5411ae(0x3b5)},'behavior-log':{'btn':'behavior-log-tab-btn','content':'behavior-log-tab-content'}};for(const _0x49e790 in _0x105945){document[_0x5411ae(0x339)](_0x105945[_0x49e790][_0x5411ae(0x520)])[_0x5411ae(0xe6)]['remove'](_0x5411ae(0x4ca)),document[_0x5411ae(0x339)](_0x105945[_0x49e790]['content'])[_0x5411ae(0xe6)]['add'](_0x5411ae(0x730));}document[_0x5411ae(0x339)](_0x105945[_0x2242e9]['btn'])[_0x5411ae(0xe6)][_0x5411ae(0x34f)](_0x5411ae(0x4ca)),document[_0x5411ae(0x339)](_0x105945[_0x2242e9]['content'])['classList']['remove'](_0x5411ae(0x730));}function showMessage(_0x42948f,_0x4dc175=null){const _0x457a09=_0x2ee497;modalMessage[_0x457a09(0x477)]=_0x42948f,modalConfirmAction=_0x4dc175,messageModal[_0x457a09(0xe6)]['remove'](_0x457a09(0x730));}function showConfirmation(_0x1e0c6c,_0x5a0b8d){const _0x2a41ac=_0x2ee497;document[_0x2a41ac(0x339)](_0x2a41ac(0x631))['textContent']=_0x1e0c6c,document[_0x2a41ac(0x339)](_0x2a41ac(0x6f5))[_0x2a41ac(0x205)]('h3')[_0x2a41ac(0x477)]=_0x2a41ac(0x7cc),confirmAction=_0x5a0b8d,confirmationModal['classList']['remove'](_0x2a41ac(0x730));}function listenForProjects(){const _0x4bc248=_0x2ee497,_0x4967b8=doc(db,'globalSettings',_0x4bc248(0x36b));onSnapshot(_0x4967b8,_0x110514=>{const _0xbd08e3=_0x4bc248;if(_0x110514[_0xbd08e3(0x475)]()){const _0x1cbcfb=_0x110514[_0xbd08e3(0x656)]();globalDashboardSettings['projectSort']=_0x1cbcfb[_0xbd08e3(0x5d1)]||_0xbd08e3(0x813),globalDashboardSettings[_0xbd08e3(0x8bc)]=_0x1cbcfb[_0xbd08e3(0x8bc)]||[],globalDashboardSettings[_0xbd08e3(0x6c1)]=_0x1cbcfb[_0xbd08e3(0x6c1)]||[];}allProjects[_0xbd08e3(0x2fe)]>0x0&&renderProjects();});const _0x22f498=collection(db,_0x4bc248(0x100)+appId+_0x4bc248(0x537));unsubscribeProjectsListener=onSnapshot(_0x22f498,_0x11cc81=>{const _0x15f9ca=_0x4bc248;allProjects=_0x11cc81[_0x15f9ca(0x830)][_0x15f9ca(0x71d)](_0x111ba0=>({'id':_0x111ba0['id'],..._0x111ba0[_0x15f9ca(0x656)]()})),renderProjects();},_0x534196=>{const _0x31306b=_0x4bc248;console[_0x31306b(0x4e7)](_0x31306b(0x84a),_0x534196),showMessage(_0x31306b(0x2c1));});}function showColorPalette(_0x421422,_0x3cf00e){const _0x581af1=_0x2ee497;document[_0x581af1(0x450)](_0x581af1(0x6e0))[_0x581af1(0x2f1)](_0x16d44e=>_0x16d44e[_0x581af1(0x728)]());const _0x2c27df=[_0x581af1(0x6ae),'#FEE2E2',_0x581af1(0x4e6),_0x581af1(0x82a),_0x581af1(0x262),_0x581af1(0x81c),_0x581af1(0x55e),_0x581af1(0x1d7),'#E5E7EB'],_0x34948d=document[_0x581af1(0x6c9)](_0x581af1(0x172));_0x34948d[_0x581af1(0x3b2)]=_0x581af1(0x752),_0x2c27df['forEach'](_0xa709c9=>{const _0x459068=_0x581af1,_0x5d8da4=document[_0x459068(0x6c9)](_0x459068(0x172));_0x5d8da4['className']='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x5d8da4[_0x459068(0x6fd)][_0x459068(0x8c3)]=_0xa709c9,_0x5d8da4['addEventListener'](_0x459068(0x5c7),()=>{const _0x5b35cd=_0x459068;handleProjectColorChange(_0x3cf00e,_0xa709c9),_0x34948d[_0x5b35cd(0x728)]();}),_0x34948d['appendChild'](_0x5d8da4);}),document[_0x581af1(0x7c6)][_0x581af1(0x795)](_0x34948d);const _0x534d63=_0x421422[_0x581af1(0x60e)]();_0x34948d[_0x581af1(0x6fd)][_0x581af1(0x876)]=_0x534d63['bottom']+window['scrollY']+'px',_0x34948d[_0x581af1(0x6fd)][_0x581af1(0x82d)]=_0x534d63[_0x581af1(0x82d)]+window[_0x581af1(0x120)]-_0x34948d[_0x581af1(0x76e)]/0x2+'px';}async function handleProjectColorChange(_0xe428b7,_0x1da61c){const _0x49db23=_0x2ee497,_0x5144b1=doc(db,_0x49db23(0x100)+appId+_0x49db23(0x537),_0xe428b7);try{await updateDoc(_0x5144b1,{'color':_0x1da61c});}catch(_0x3f1758){console[_0x49db23(0x4e7)](_0x49db23(0x84f),_0x3f1758),showMessage(_0x49db23(0x509));}}async function renderProjects(){const _0x1245d5=_0x2ee497,_0x47df8a=globalDashboardSettings['projectSort']||'date_desc',_0xa7d399=new Set(globalDashboardSettings[_0x1245d5(0x8bc)]||[]),_0x34f293=globalDashboardSettings[_0x1245d5(0x27f)]||_0x1245d5(0x6f8),_0x8e5995=document[_0x1245d5(0x339)](_0x1245d5(0x3da)),_0x3d087e=document[_0x1245d5(0x339)](_0x1245d5(0x33a));_0x8e5995[_0x1245d5(0xe6)][_0x1245d5(0x634)](_0x1245d5(0x4ca),_0x34f293===_0x1245d5(0x6f8)),_0x3d087e[_0x1245d5(0xe6)][_0x1245d5(0x634)](_0x1245d5(0x4ca),_0x34f293===_0x1245d5(0x80d)),document[_0x1245d5(0x339)](_0x1245d5(0x6b5))[_0x1245d5(0x2b8)]=_0x47df8a;const _0xc8ab91=document[_0x1245d5(0x339)]('project-search-input')[_0x1245d5(0x2b8)][_0x1245d5(0x47d)]();let _0x5912bf=allProjects[_0x1245d5(0x802)](_0xcafd7c=>_0xcafd7c[_0x1245d5(0x72f)][_0x1245d5(0x47d)]()[_0x1245d5(0x54e)](_0xc8ab91));const _0x33a507=_0x5912bf['filter'](_0x1e2ac4=>_0xa7d399[_0x1245d5(0x7c3)](_0x1e2ac4['id'])),_0x457d99=_0x5912bf[_0x1245d5(0x802)](_0x4543d6=>!_0xa7d399['has'](_0x4543d6['id'])),_0x194d93=(_0x5c53a6,_0x202bba)=>{const _0x2e8b00=_0x1245d5;switch(_0x47df8a){case'name_asc':return _0x5c53a6[_0x2e8b00(0x72f)][_0x2e8b00(0x2c4)](_0x202bba['projectName'],'th');case _0x2e8b00(0x41a):return _0x202bba[_0x2e8b00(0x72f)][_0x2e8b00(0x2c4)](_0x5c53a6[_0x2e8b00(0x72f)],'th');case'date_asc':return new Date(_0x5c53a6[_0x2e8b00(0x160)])-new Date(_0x202bba[_0x2e8b00(0x160)]);default:return new Date(_0x202bba[_0x2e8b00(0x160)])-new Date(_0x5c53a6['createdAt']);}};_0x33a507[_0x1245d5(0x377)](_0x194d93),_0x457d99[_0x1245d5(0x377)](_0x194d93);const _0x4686f8=[..._0x33a507,..._0x457d99],_0x37a935=globalDashboardSettings[_0x1245d5(0x6c1)]||[];_0x37a935[_0x1245d5(0x2fe)]>0x0&&_0x34f293===_0x1245d5(0x6f8)&&_0x4686f8['sort']((_0x5c4a42,_0xf06f51)=>{const _0x658a46=_0x1245d5,_0xf7dc5e=_0x37a935['indexOf'](_0x5c4a42['id']),_0x47988b=_0x37a935[_0x658a46(0x4fc)](_0xf06f51['id']);if(_0xf7dc5e===-0x1)return 0x1;if(_0x47988b===-0x1)return-0x1;return _0xf7dc5e-_0x47988b;});const _0x175a8e={};await Promise[_0x1245d5(0x7d1)](_0x4686f8[_0x1245d5(0x71d)](async _0x23f99c=>{const _0x2812c8=_0x1245d5,_0x423d29=query(collection(db,_0x2812c8(0x100)+appId+_0x2812c8(0x50f)),where(_0x2812c8(0x2a2),'==',_0x23f99c['id'])),_0x145215=await getDocs(_0x423d29);_0x175a8e[_0x23f99c['id']]=_0x145215['size'];}));const _0x163b3a=document[_0x1245d5(0x339)](_0x1245d5(0x2c2));let _0x4a72db='';if(_0x34f293===_0x1245d5(0x6f8)){_0x163b3a[_0x1245d5(0x3b2)]=_0x1245d5(0x77c);if(starredQuizzes[_0x1245d5(0x2fe)]>0x0&&_0xc8ab91===''){const _0x295297=starredQuizzes[_0x1245d5(0x71d)](_0x418be5=>{const _0x6b0d35=_0x1245d5,_0x359a90=allProjects[_0x6b0d35(0x5f9)](_0x4d362b=>_0x4d362b['id']===_0x418be5['projectId']);return{..._0x418be5,'projectName':_0x359a90?_0x359a90[_0x6b0d35(0x72f)]:_0x6b0d35(0x78d)};});_0x4a72db+=_0x1245d5(0x446)+_0x295297[_0x1245d5(0x71d)](_0x3422f4=>_0x1245d5(0x5a7)+_0x3422f4['topic']+'\x22>'+_0x3422f4[_0x1245d5(0x5fb)]+_0x1245d5(0x797)+_0x3422f4['projectName']+'\x22>จาก:\x20'+_0x3422f4[_0x1245d5(0x72f)]+_0x1245d5(0x417))[_0x1245d5(0x8bf)]('')+_0x1245d5(0xef)+starredQuizzes[_0x1245d5(0x2fe)]+_0x1245d5(0x854);}_0x4686f8['forEach'](_0x5138fb=>{const _0x439f2e=_0x1245d5,_0x8f49d9=_0x175a8e[_0x5138fb['id']]??0x0,_0x4c69ae=_0xa7d399['has'](_0x5138fb['id']),_0x14b405=_0x5138fb[_0x439f2e(0x821)]||_0x439f2e(0x6ae),_0x4d0517=parseInt(_0x14b405[_0x439f2e(0x816)](0x1,0x3),0x10)*0.299+parseInt(_0x14b405[_0x439f2e(0x816)](0x3,0x5),0x10)*0.587+parseInt(_0x14b405[_0x439f2e(0x816)](0x5,0x7),0x10)*0.114<0xba,_0x1cbe80=_0x4d0517?_0x439f2e(0x115):'text-indigo-800',_0x15dd8f=_0x4d0517?_0x439f2e(0x44f):'text-gray-500';_0x4a72db+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x4c69ae?_0x439f2e(0x874):_0x439f2e(0x238))+_0x439f2e(0x605)+_0x14b405+';\x22\x20data-id=\x22'+_0x5138fb['id']+_0x439f2e(0x38e)+_0x5138fb['id']+_0x439f2e(0x75b)+(_0x4d0517?_0x439f2e(0x85b):_0x439f2e(0x159))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5138fb['id']+_0x439f2e(0x657)+(_0x4d0517?'text-gray-300\x20hover:text-white':_0x439f2e(0x159))+_0x439f2e(0x6a3)+(_0x4c69ae?_0x4d0517?_0x439f2e(0x2cc):_0x439f2e(0x64b):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x5138fb['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x1cbe80+_0x439f2e(0x870)+_0x5138fb[_0x439f2e(0x72f)]+_0x439f2e(0x513)+_0x15dd8f+_0x439f2e(0x44b)+new Date(_0x5138fb[_0x439f2e(0x160)])['toLocaleDateString'](_0x439f2e(0x4eb))+_0x439f2e(0x7b4)+(_0x4d0517?'text-gray-100':_0x439f2e(0x726))+_0x439f2e(0x18d)+_0x8f49d9+_0x439f2e(0x2d1)+_0x5138fb['id']+'\x22\x20data-name=\x22'+_0x5138fb[_0x439f2e(0x72f)]+_0x439f2e(0x7bc)+(_0x4d0517?_0x439f2e(0xf8):'text-red-500\x20hover:text-red-700')+_0x439f2e(0x2c6);});}else _0x163b3a[_0x1245d5(0x3b2)]=_0x1245d5(0x13e),starredQuizzes['length']>0x0&&_0xc8ab91===''&&(_0x4a72db+=_0x1245d5(0x293)+starredQuizzes[_0x1245d5(0x2fe)]+_0x1245d5(0x637)),_0x4a72db+=_0x1245d5(0x6dc),_0x4686f8[_0x1245d5(0x2f1)](_0x166d20=>{const _0x1f5745=_0x1245d5,_0x494989=_0x175a8e[_0x166d20['id']]??0x0,_0x332337=_0xa7d399['has'](_0x166d20['id']);_0x4a72db+=_0x1f5745(0x618)+(_0x166d20['color']||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x166d20['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x166d20[_0x1f5745(0x72f)]+_0x1f5745(0x5ca)+_0x494989+_0x1f5745(0x3df)+new Date(_0x166d20[_0x1f5745(0x160)])[_0x1f5745(0x1c2)](_0x1f5745(0x4eb))+_0x1f5745(0x389)+_0x166d20['id']+_0x1f5745(0x4bc)+(_0x332337?_0x1f5745(0x64b):'')+_0x1f5745(0x64c)+_0x166d20['id']+_0x1f5745(0x234)+_0x166d20['projectName']+_0x1f5745(0x54b);});projectList['innerHTML']=_0x4a72db,noProjectsMsg['classList'][_0x1245d5(0x634)](_0x1245d5(0x730),_0x4a72db[_0x1245d5(0x2fe)]>0x0);}document[_0x2ee497(0x339)](_0x2ee497(0x4af))[_0x2ee497(0x834)]('click',async()=>{const _0x186e7e=_0x2ee497,_0x372797=document[_0x186e7e(0x339)](_0x186e7e(0x81b)),_0xfd1c13=_0x372797[_0x186e7e(0x2b8)][_0x186e7e(0x6df)]();if(!_0xfd1c13){showMessage(_0x186e7e(0x687));return;}try{const _0x37e6bf=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x37e6bf,{'projectName':_0xfd1c13,'students':[],'settings':{'resultsDisplay':_0x186e7e(0x545),'shuffleSetting':_0x186e7e(0x253),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x186e7e(0x253),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x186e7e(0x70b)]()}),_0x372797[_0x186e7e(0x2b8)]='',createProjectModal[_0x186e7e(0xe6)][_0x186e7e(0x34f)](_0x186e7e(0x730)),showMessage(_0x186e7e(0x692));}catch(_0x1f6cd9){console['error'](_0x186e7e(0x250),_0x1f6cd9),showMessage(_0x186e7e(0x67f));}}),projectList[_0x2ee497(0x834)]('click',async _0x166f49=>{const _0x392d61=_0x2ee497,_0x32d27f=_0x166f49[_0x392d61(0x462)][_0x392d61(0x762)](_0x392d61(0x127)),_0x287b38=_0x166f49['target']['closest'](_0x392d61(0x3e6)),_0x585eec=_0x166f49[_0x392d61(0x462)][_0x392d61(0x762)](_0x392d61(0x1b3)),_0x3182ab=_0x166f49[_0x392d61(0x462)][_0x392d61(0x762)]('.color-palette-btn');if(_0x585eec){const _0x1e9409=_0x585eec[_0x392d61(0x185)]['id'],_0x413556=doc(db,_0x392d61(0x616),'dashboardConfig'),_0x30aba6=globalDashboardSettings[_0x392d61(0x8bc)];let _0xac619d;_0x30aba6['includes'](_0x1e9409)?_0xac619d=_0x30aba6['filter'](_0x294a65=>_0x294a65!==_0x1e9409):_0xac619d=[..._0x30aba6,_0x1e9409];try{await setDoc(_0x413556,{'pinnedProjects':_0xac619d},{'merge':!![]});}catch(_0x1a3ed2){console['error'](_0x392d61(0x356),_0x1a3ed2),showMessage(_0x392d61(0x58f));}}else{if(_0x3182ab){const _0x4343a4=_0x3182ab[_0x392d61(0x185)]['id'];showColorPalette(_0x3182ab,_0x4343a4);}else{if(_0x32d27f){const _0x38f180=_0x32d27f['dataset']['id'];_0x38f180===_0x392d61(0x703)?showStarredProjectView():(currentProjectId=_0x38f180,await loadProjectDetails(currentProjectId),showView(_0x392d61(0x43c)));}else{if(_0x287b38){const _0x326fee=_0x287b38[_0x392d61(0x185)]['id'],_0x294553=_0x287b38['dataset']['name'];showConfirmation(_0x392d61(0x683)+_0x294553+_0x392d61(0x1cf),()=>handleDeleteProject(_0x326fee));}}}}}),projectList[_0x2ee497(0x834)]('dragstart',_0x40d38b=>{const _0x1878a7=_0x2ee497,_0x3a0956=_0x40d38b['target'][_0x1878a7(0x762)]('.project-card-container');_0x3a0956&&_0x3a0956['classList']['add'](_0x1878a7(0x21d));}),projectList[_0x2ee497(0x834)](_0x2ee497(0x64d),_0xa253fd=>{const _0x5d47d1=_0x2ee497,_0x4751b3=_0xa253fd[_0x5d47d1(0x462)][_0x5d47d1(0x762)](_0x5d47d1(0x646));_0x4751b3&&_0x4751b3['classList']['remove'](_0x5d47d1(0x21d));}),projectList['addEventListener'](_0x2ee497(0x2ab),_0x330f22=>{const _0x223461=_0x2ee497;_0x330f22[_0x223461(0x5a2)]();const _0x51024e=document[_0x223461(0x205)](_0x223461(0x48c));if(!_0x51024e)return;const _0x504281=getDragAfterElement(projectList,_0x330f22[_0x223461(0x483)]);_0x504281==null?projectList[_0x223461(0x795)](_0x51024e):projectList[_0x223461(0x649)](_0x51024e,_0x504281);}),projectList[_0x2ee497(0x834)]('drop',_0x3a0e03=>{const _0x32bcea=_0x2ee497;_0x3a0e03['preventDefault']();const _0x4276b4=[...projectList[_0x32bcea(0x450)](_0x32bcea(0x284))][_0x32bcea(0x71d)](_0x511382=>_0x511382[_0x32bcea(0x185)]['id']);saveProjectOrder(_0x4276b4);});function renderBehaviorLog(_0x2962e3){const _0x2c6a81=_0x2ee497,_0x2c01fe=document[_0x2c6a81(0x339)](_0x2c6a81(0x4a4));if(!_0x2c01fe)return;const _0x1d29b0=_0x2962e3[_0x2c6a81(0x802)](_0x2f0c08=>_0x2f0c08[_0x2c6a81(0x5ba)]&&_0x2f0c08['behaviorLog'][_0x2c6a81(0x2fe)]>0x0);if(_0x1d29b0[_0x2c6a81(0x2fe)]===0x0){_0x2c01fe[_0x2c6a81(0x7de)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x447fc6='';_0x1d29b0[_0x2c6a81(0x2f1)](_0x17fa7e=>{const _0x1e6210=_0x2c6a81;_0x447fc6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x17fa7e['studentName']+_0x1e6210(0x2f0),_0x17fa7e[_0x1e6210(0x5ba)]['sort']((_0x500477,_0x3a3f91)=>new Date(_0x3a3f91[_0x1e6210(0x6b8)])-new Date(_0x500477[_0x1e6210(0x6b8)]))[_0x1e6210(0x2f1)](_0x11c4c4=>{const _0x14fad0=_0x1e6210,_0x2e5b19=new Date(_0x11c4c4['timestamp'])[_0x14fad0(0x1c2)](_0x14fad0(0x4eb),{'dateStyle':'short','timeStyle':_0x14fad0(0x307)});_0x447fc6+=_0x14fad0(0x184)+_0x11c4c4[_0x14fad0(0x839)]+_0x14fad0(0x806)+_0x2e5b19+_0x14fad0(0x699);}),_0x447fc6+=_0x1e6210(0x144);}),_0x2c01fe['innerHTML']=_0x447fc6;}function getDragAfterElement(_0xdf4e3,_0x28d32f){const _0x51c98d=_0x2ee497,_0x235252=[..._0xdf4e3['querySelectorAll'](_0x51c98d(0x86d))];return _0x235252[_0x51c98d(0x24a)]((_0x463fb2,_0x2ace59)=>{const _0x130c0a=_0x51c98d,_0x4826c2=_0x2ace59[_0x130c0a(0x60e)](),_0x513afa=_0x28d32f-_0x4826c2[_0x130c0a(0x876)]-_0x4826c2['height']/0x2;return _0x513afa<0x0&&_0x513afa>_0x463fb2[_0x130c0a(0x78f)]?{'offset':_0x513afa,'element':_0x2ace59}:_0x463fb2;},{'offset':Number[_0x51c98d(0x54d)]})[_0x51c98d(0x722)];}async function saveProjectOrder(_0x5a149a){const _0xd443c=_0x2ee497,_0x60fbb2=doc(db,_0xd443c(0x616),_0xd443c(0x36b));try{await setDoc(_0x60fbb2,{'projectOrder':_0x5a149a},{'merge':!![]});}catch(_0x2793f0){console[_0xd443c(0x4e7)](_0xd443c(0x779),_0x2793f0),showMessage(_0xd443c(0x6c0));}}async function logBehaviorEvent(_0xc5a738,_0x584fe3={}){const _0x5d8f33=_0x2ee497;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x5d8f33(0x747)](_0x5d8f33(0x482));return;}const _0x34db9d=doc(db,_0x5d8f33(0x100)+appId+_0x5d8f33(0x3ac)+currentQuizData['id']+_0x5d8f33(0x607),currentStudentName),_0x19c225={'event':_0xc5a738,'timestamp':new Date()['toISOString'](),..._0x584fe3};try{await updateDoc(_0x34db9d,{'behaviorLog':arrayUnion(_0x19c225)}),console['log'](_0x5d8f33(0x7c5)+currentStudentName+'\x20สำเร็จ');}catch(_0x175e0d){_0x175e0d[_0x5d8f33(0x2e4)]===_0x5d8f33(0x8c9)?console[_0x5d8f33(0x747)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x5d8f33(0x788)):console[_0x5d8f33(0x4e7)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x175e0d);}}function calculateMeanAndStdDev(_0x204bb2){const _0x3a203a=_0x2ee497;if(_0x204bb2['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2f9ba0=_0x204bb2[_0x3a203a(0x24a)]((_0x216278,_0x19b316)=>_0x216278+_0x19b316,0x0)/_0x204bb2[_0x3a203a(0x2fe)];if(_0x204bb2[_0x3a203a(0x2fe)]===0x1)return{'mean':_0x2f9ba0,'stdDev':0x0};const _0x4125e0=Math['sqrt'](_0x204bb2['map'](_0x19b90e=>Math['pow'](_0x19b90e-_0x2f9ba0,0x2))[_0x3a203a(0x24a)]((_0x14749f,_0x2b8d64)=>_0x14749f+_0x2b8d64,0x0)/(_0x204bb2[_0x3a203a(0x2fe)]-0x1));return{'mean':_0x2f9ba0,'stdDev':_0x4125e0};}function calculateZScore(_0x4bbf82,_0x34fea6,_0x5db83c){if(_0x5db83c===0x0)return 0x0;return(_0x4bbf82-_0x34fea6)/_0x5db83c;}function calculateTScore(_0x2e3e7e){return 0xa*_0x2e3e7e+0x32;}function showStarredProjectView(){const _0x2da2a9=_0x2ee497;currentProjectId=_0x2da2a9(0x65d),currentProjectData=null,projectTitle[_0x2da2a9(0x477)]=_0x2da2a9(0x32e),projectIdDisplay[_0x2da2a9(0x477)]=_0x2da2a9(0x8c8),showView(_0x2da2a9(0x43c)),manageTab[_0x2da2a9(0xe6)]['add']('hidden'),leaderboardTab[_0x2da2a9(0xe6)][_0x2da2a9(0x34f)](_0x2da2a9(0x730)),switchProjectTab(_0x2da2a9(0x579)),renderQuizzes();}async function loadProjectDetails(_0x43bcb9){const _0x36e10c=_0x2ee497,_0x1321b0=doc(db,_0x36e10c(0x100)+appId+_0x36e10c(0x537),_0x43bcb9),_0x3994fb=await getDoc(_0x1321b0);if(_0x3994fb[_0x36e10c(0x475)]()){manageTab[_0x36e10c(0xe6)][_0x36e10c(0x728)](_0x36e10c(0x730)),leaderboardTab[_0x36e10c(0xe6)][_0x36e10c(0x728)](_0x36e10c(0x730)),currentProjectData=_0x3994fb['data'](),projectTitle['textContent']=currentProjectData[_0x36e10c(0x72f)],projectIdDisplay[_0x36e10c(0x477)]=_0x43bcb9;const _0x6b3f80=currentProjectData['settings']||{};document[_0x36e10c(0x339)](_0x36e10c(0x1c3))['value']=_0x6b3f80[_0x36e10c(0x39d)]||_0x36e10c(0x253);const _0x837478=document[_0x36e10c(0x339)]('show-in-student-dashboard-checkbox');_0x837478[_0x36e10c(0x149)]=_0x6b3f80[_0x36e10c(0x16c)]!==![];const _0x2460c7=document[_0x36e10c(0x339)](_0x36e10c(0x54f)),_0x425c7e=document[_0x36e10c(0x339)](_0x36e10c(0x5f2)),_0xe8e759=document[_0x36e10c(0x339)](_0x36e10c(0x1f9)),_0xbfae4c=_0x6b3f80[_0x36e10c(0x30f)]||![];_0x2460c7[_0x36e10c(0x149)]=_0xbfae4c,_0xe8e759[_0x36e10c(0x2b8)]=_0x6b3f80[_0x36e10c(0x6cf)]||'',_0x425c7e[_0x36e10c(0xe6)][_0x36e10c(0x634)](_0x36e10c(0x730),!_0xbfae4c),_0x2460c7[_0x36e10c(0x107)]=()=>{const _0x297bba=_0x36e10c;_0x425c7e['classList'][_0x297bba(0x634)](_0x297bba(0x730),!_0x2460c7[_0x297bba(0x149)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x43bcb9),listenForProjectQuizzes(_0x43bcb9),listenForStudentProfiles(_0x43bcb9);}else showMessage(_0x36e10c(0x131)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x1680ae=_0x2ee497,_0x4a00e5=doc(db,_0x1680ae(0x616),'dashboardConfig');try{await setDoc(_0x4a00e5,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x31f1b2){console[_0x1680ae(0x4e7)](_0x1680ae(0x474),_0x31f1b2),showMessage(_0x1680ae(0x506));}}async function handleTogglePinProject(_0x23c00a){const _0x18915e=_0x2ee497;if(!_0x23c00a)return;const _0x7b2bd6=doc(db,'artifacts/'+appId+_0x18915e(0x537),_0x23c00a);try{const _0x3f54c1=await getDoc(_0x7b2bd6);if(_0x3f54c1['exists']()){const _0x30fd5e=_0x3f54c1[_0x18915e(0x656)]()['isPinned']||![];await updateDoc(_0x7b2bd6,{'isPinned':!_0x30fd5e});}}catch(_0x57f352){console[_0x18915e(0x4e7)](_0x18915e(0x198),_0x57f352),showMessage(_0x18915e(0x58f));}}async function handleDeleteProject(_0x860a14){const _0x5b420d=_0x2ee497;try{const _0x21b3df=writeBatch(db),_0x458906=collection(db,'artifacts/'+appId+_0x5b420d(0x50f)),_0x1784f2=query(_0x458906,where(_0x5b420d(0x2a2),'==',_0x860a14)),_0x168586=await getDocs(_0x1784f2);for(const _0x40fad4 of _0x168586[_0x5b420d(0x830)]){const _0x107694=collection(db,_0x5b420d(0x100)+appId+_0x5b420d(0x3ac)+_0x40fad4['id']+_0x5b420d(0x607)),_0x1841b0=await getDocs(_0x107694);_0x1841b0[_0x5b420d(0x2f1)](_0x201b29=>{const _0x23f44f=_0x5b420d;_0x21b3df[_0x23f44f(0x110)](_0x201b29[_0x23f44f(0x6f4)]);}),_0x21b3df[_0x5b420d(0x110)](_0x40fad4[_0x5b420d(0x6f4)]);}const _0xb49709=collection(db,'artifacts/'+appId+_0x5b420d(0x51b)+_0x860a14+_0x5b420d(0x24e)),_0x38c739=await getDocs(_0xb49709);_0x38c739['forEach'](_0x257320=>{const _0x2c9fdd=_0x5b420d;_0x21b3df['delete'](_0x257320[_0x2c9fdd(0x6f4)]);});const _0x46daea=doc(db,_0x5b420d(0x100)+appId+_0x5b420d(0x537),_0x860a14);_0x21b3df['delete'](_0x46daea),await _0x21b3df[_0x5b420d(0x712)](),showMessage(_0x5b420d(0x244)),showView(_0x5b420d(0x459));}catch(_0x26e8c5){console[_0x5b420d(0x4e7)](_0x5b420d(0x68a),_0x26e8c5),showMessage(_0x5b420d(0x197));}}document['getElementById']('save-settings-btn')[_0x2ee497(0x834)]('click',async()=>{const _0x4f5929=_0x2ee497;if(!currentProjectId)return;const _0x3633a7={'defaultNumQuestions':parseInt(document[_0x4f5929(0x339)](_0x4f5929(0x39b))[_0x4f5929(0x2b8)]),'defaultNumChoices':parseInt(document[_0x4f5929(0x339)](_0x4f5929(0x454))[_0x4f5929(0x2b8)]),'defaultPassingScore':parseInt(document[_0x4f5929(0x339)]('passing-score-input')[_0x4f5929(0x2b8)]),'resultsDisplay':document[_0x4f5929(0x339)](_0x4f5929(0x489))[_0x4f5929(0x2b8)],'shuffleSetting':document[_0x4f5929(0x339)](_0x4f5929(0x1c3))[_0x4f5929(0x2b8)],'timerMode':document[_0x4f5929(0x339)](_0x4f5929(0x288))[_0x4f5929(0x2b8)],'timerDuration':parseInt(document[_0x4f5929(0x339)](_0x4f5929(0x14b))[_0x4f5929(0x2b8)])};try{const _0xb99cb7=doc(db,'artifacts/'+appId+_0x4f5929(0x537),currentProjectId);await updateDoc(_0xb99cb7,{'settings':_0x3633a7}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x3db204){console[_0x4f5929(0x4e7)]('Error\x20saving\x20settings:',_0x3db204),showMessage(_0x4f5929(0x3b4));}});function listenForStudents(_0x1a44db){const _0x44da55=_0x2ee497,_0x255df6=doc(db,_0x44da55(0x100)+appId+_0x44da55(0x537),_0x1a44db);unsubscribeStudentsListener=onSnapshot(_0x255df6,_0x551312=>{const _0x378dc0=_0x44da55;if(_0x551312[_0x378dc0(0x475)]()){const _0x5c7bda=_0x551312[_0x378dc0(0x656)]();currentProjectData=_0x5c7bda,renderStudentList(_0x5c7bda[_0x378dc0(0x3ba)]||[]);}});}function renderStudentList(_0x15d12f){const _0x31f273=_0x2ee497,_0x1d4072=document[_0x31f273(0x339)](_0x31f273(0x79c));_0x15d12f['length']===0x0?(studentList[_0x31f273(0x7de)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x1d4072['classList'][_0x31f273(0x34f)](_0x31f273(0x730))):(studentList[_0x31f273(0x7de)]=_0x15d12f[_0x31f273(0x71d)](_0x1056f4=>_0x31f273(0x6fc)+_0x1056f4+_0x31f273(0x35d)+_0x1056f4+_0x31f273(0x4c9))['join'](''),_0x1d4072['classList'][_0x31f273(0x728)](_0x31f273(0x730)));}document[_0x2ee497(0x339)]('add-student-btn')[_0x2ee497(0x834)](_0x2ee497(0x5c7),async()=>{const _0x3c54ad=_0x2ee497;if(!currentProjectId)return;const _0x1f36dc=document[_0x3c54ad(0x339)](_0x3c54ad(0x58c)),_0x4bd7c3=_0x1f36dc[_0x3c54ad(0x2b8)][_0x3c54ad(0x6df)]();if(!_0x4bd7c3){showMessage(_0x3c54ad(0x554));return;}const _0x4c2483=_0x4bd7c3[_0x3c54ad(0x78a)]('\x0a')[_0x3c54ad(0x71d)](_0x2fdab2=>_0x2fdab2[_0x3c54ad(0x6df)]())['filter'](_0x5e4f84=>_0x5e4f84);if(_0x4c2483[_0x3c54ad(0x2fe)]===0x0)return;try{const _0x559de2=doc(db,_0x3c54ad(0x100)+appId+'/public/data/projects',currentProjectId),_0x24ae70=await getDoc(_0x559de2);if(_0x24ae70[_0x3c54ad(0x475)]()){const _0x181c43=_0x24ae70[_0x3c54ad(0x656)]()[_0x3c54ad(0x3ba)]||[],_0x1a940b=[...new Set([..._0x181c43,..._0x4c2483])];await updateDoc(_0x559de2,{'students':_0x1a940b}),_0x1f36dc['value']='';}}catch(_0x35aa59){console[_0x3c54ad(0x4e7)](_0x3c54ad(0x608),_0x35aa59),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x12c3bc){const _0x215812=_0x2ee497,_0x4ae3a3=document['getElementById'](_0x215812(0xd8)),_0x2fd276=document[_0x215812(0x339)]('move-quiz-project-select'),_0x407b03=_0x4ae3a3['querySelector']('h3'),_0x2fc603=document['getElementById'](_0x215812(0x872)),_0x23bb75=document['getElementById'](_0x215812(0x4a7));_0x407b03[_0x215812(0x477)]=_0x215812(0x2a4),_0x2fd276[_0x215812(0x7de)]=_0x215812(0x215),_0x2fc603['textContent']='ยืนยันการจับคู่',_0x4ae3a3[_0x215812(0xe6)]['remove'](_0x215812(0x730));const _0x4fb251=allQuizzes[_0x215812(0x802)](_0x5322b2=>_0x5322b2['id']!==_0x12c3bc);_0x4fb251[_0x215812(0x2fe)]===0x0?(_0x2fd276[_0x215812(0x7de)]=_0x215812(0x2fa),_0x2fc603[_0x215812(0x154)]=!![]):(_0x2fd276[_0x215812(0x7de)]=_0x215812(0x5fd)+_0x4fb251['map'](_0x41cd66=>'<option\x20value=\x22'+_0x41cd66['id']+'\x22>'+_0x41cd66[_0x215812(0x5fb)]+'</option>')[_0x215812(0x8bf)](''),_0x2fc603[_0x215812(0x154)]=![]);const _0x1e7bd2=async()=>{const _0x1be05b=_0x215812,_0x2d88a1=_0x2fd276[_0x1be05b(0x2b8)];if(!_0x2d88a1){showMessage(_0x1be05b(0x56b));return;}_0x2fc603[_0x1be05b(0x154)]=!![],_0x2fc603[_0x1be05b(0x477)]=_0x1be05b(0x36c);try{const _0x413c17=doc(db,'artifacts/'+appId+_0x1be05b(0x50f),_0x12c3bc),_0x11dcad=doc(db,_0x1be05b(0x100)+appId+_0x1be05b(0x50f),_0x2d88a1),_0x1e044f=writeBatch(db);_0x1e044f['update'](_0x413c17,{'pairedQuizId':_0x2d88a1}),_0x1e044f['update'](_0x11dcad,{'pairedQuizId':_0x12c3bc}),await _0x1e044f[_0x1be05b(0x712)](),showMessage(_0x1be05b(0x270)),_0x4ae3a3[_0x1be05b(0xe6)][_0x1be05b(0x34f)]('hidden');}catch(_0x5e2ee7){console['error'](_0x1be05b(0x106),_0x5e2ee7),showMessage(_0x1be05b(0x305));}finally{_0x407b03[_0x1be05b(0x477)]=_0x1be05b(0x54c),_0x2fc603[_0x1be05b(0x477)]='ย้าย',_0x2fc603[_0x1be05b(0x154)]=![],_0x2fc603[_0x1be05b(0x7c1)](_0x1be05b(0x5c7),_0x1e7bd2),_0x23bb75['removeEventListener'](_0x1be05b(0x5c7),_0xd66545);}},_0xd66545=()=>{const _0x3c3c12=_0x215812;_0x4ae3a3[_0x3c3c12(0xe6)][_0x3c3c12(0x34f)]('hidden'),_0x407b03[_0x3c3c12(0x477)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2fc603[_0x3c3c12(0x477)]=_0x3c3c12(0x5f1),_0x2fc603[_0x3c3c12(0x7c1)](_0x3c3c12(0x5c7),_0x1e7bd2),_0x23bb75['removeEventListener']('click',_0xd66545);};_0x2fc603[_0x215812(0x834)](_0x215812(0x5c7),_0x1e7bd2),_0x23bb75[_0x215812(0x834)](_0x215812(0x5c7),_0xd66545);}function handleDeleteStudent(_0x13e0d3){const _0x47573f=_0x2ee497;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x13e0d3+_0x47573f(0x528),async()=>{const _0x2eb5f5=_0x47573f;if(!currentProjectId||!currentProjectData)return;const _0x34e97f=currentProjectData['students'][_0x2eb5f5(0x802)](_0x454028=>_0x454028!==_0x13e0d3);try{const _0x4454f2=doc(db,_0x2eb5f5(0x100)+appId+_0x2eb5f5(0x537),currentProjectId),_0x3f5c08=doc(db,_0x2eb5f5(0x100)+appId+_0x2eb5f5(0x51b)+currentProjectId+'/studentProfiles',_0x13e0d3),_0x50a7d1=writeBatch(db);_0x50a7d1[_0x2eb5f5(0x3e7)](_0x4454f2,{'students':_0x34e97f}),_0x50a7d1['delete'](_0x3f5c08),await _0x50a7d1[_0x2eb5f5(0x712)]();}catch(_0x3f7323){console['error'](_0x2eb5f5(0x5a6),_0x3f7323),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x43d505=_0x2ee497;showConfirmation(_0x43d505(0x665),async()=>{const _0x3bc946=_0x43d505;if(!currentProjectId)return;try{const _0x14c677=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x5f1179=collection(db,_0x3bc946(0x100)+appId+_0x3bc946(0x51b)+currentProjectId+_0x3bc946(0x24e)),_0x382b8f=await getDocs(_0x5f1179),_0x152483=writeBatch(db);_0x152483[_0x3bc946(0x3e7)](_0x14c677,{'students':[]}),_0x382b8f['forEach'](_0x2cb88b=>_0x152483[_0x3bc946(0x110)](_0x2cb88b['ref'])),await _0x152483[_0x3bc946(0x712)]();}catch(_0x4fdd44){console[_0x3bc946(0x4e7)](_0x3bc946(0x1ce),_0x4fdd44),showMessage(_0x3bc946(0x12c));}});}async function handleGenerateFromFileClick(){const _0x424461=_0x2ee497;if(!selectedFile){showMessage(_0x424461(0x863));return;}const _0x29d142=document['getElementById'](_0x424461(0x1cd)),_0x103fb1=document[_0x424461(0x339)](_0x424461(0x877)),_0x2a2e9f=document[_0x424461(0x339)](_0x424461(0x7e0)),_0xbcbfd=document[_0x424461(0x339)]('generate-from-file-btn');_0xbcbfd[_0x424461(0x154)]=!![],document[_0x424461(0x339)]('quiz-generation-area')[_0x424461(0xe6)][_0x424461(0x728)](_0x424461(0x730)),_0x2a2e9f['innerHTML']='',_0x29d142[_0x424461(0xe6)]['remove'](_0x424461(0x730)),_0x103fb1['textContent']='กำลังอ่านและเตรียมไฟล์...';const _0x1c7f62=new FileReader();_0x1c7f62[_0x424461(0x5f6)](selectedFile),_0x1c7f62[_0x424461(0x191)]=async()=>{const _0x4409c0=_0x424461;try{const _0x173b32=_0x1c7f62[_0x4409c0(0x796)][_0x4409c0(0x78a)](',')[0x1],_0x40f856=selectedFile['type'];await generateQuizFromFile(_0x40f856,_0x173b32);}catch(_0x244547){console[_0x4409c0(0x4e7)](_0x4409c0(0x124),_0x244547),showMessage(_0x4409c0(0x6ef)+_0x244547[_0x4409c0(0x63d)]),_0x29d142[_0x4409c0(0xe6)][_0x4409c0(0x34f)]('hidden');}finally{}},_0x1c7f62[_0x424461(0x63e)]=_0x46f57a=>{const _0x3e4f51=_0x424461;console[_0x3e4f51(0x4e7)](_0x3e4f51(0x428),_0x46f57a),showMessage(_0x3e4f51(0x8a3)),_0x29d142['classList'][_0x3e4f51(0x34f)](_0x3e4f51(0x730)),_0xbcbfd[_0x3e4f51(0x154)]=![];};}function autoFormatMath(_0x31426c){const _0x32418e=_0x2ee497;if(typeof _0x31426c!==_0x32418e(0x8ab)||!_0x31426c)return _0x31426c;const _0x277c96=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x499ac6=_0x31426c['replace'](_0x277c96,_0x4bc8ff=>{const _0xa93612=_0x32418e;return'$'+_0x4bc8ff[_0xa93612(0x6df)]()+'$';});return _0x499ac6;}function sanitizeQuizData(_0x5c4fec){const _0x116f77=_0x2ee497;if(!_0x5c4fec||!_0x5c4fec[_0x116f77(0x2f4)])return _0x5c4fec;const _0xb9d64b={'imes':'\x5ctimes','div':'\x5cdiv'},_0x906f24=_0x166d15=>{const _0x1f48d7=_0x116f77;if(typeof _0x166d15!=='string')return _0x166d15;let _0x3322d6=_0x166d15;for(const [_0x83a63c,_0x4ebbb5]of Object[_0x1f48d7(0x7bf)](_0xb9d64b)){const _0x4360f5=new RegExp('\x5cb'+_0x83a63c+'\x5cb','g');_0x3322d6=_0x3322d6[_0x1f48d7(0x16b)](_0x4360f5,_0x4ebbb5);}return _0x3322d6=_0x3322d6[_0x1f48d7(0x16b)](/\\\//g,_0x1f48d7(0x1ef)),_0x3322d6=_0x3322d6[_0x1f48d7(0x16b)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x1f48d7(0x16b)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x1f48d7(0x16b)](/÷/g,'\x5cdiv')[_0x1f48d7(0x16b)](/×/g,_0x1f48d7(0x272)),_0x3322d6=_0x3322d6[_0x1f48d7(0x16b)](/(\d)(\\frac)/g,_0x1f48d7(0x617)),_0x3322d6=autoFormatMath(_0x3322d6),_0x3322d6;};return _0x5c4fec['topic']&&(_0x5c4fec[_0x116f77(0x5fb)]=_0x906f24(_0x5c4fec[_0x116f77(0x5fb)])),_0x5c4fec['questions'][_0x116f77(0x2f1)](_0x4a04e5=>{const _0x3e4de3=_0x116f77;_0x4a04e5[_0x3e4de3(0x325)]=_0x906f24(_0x4a04e5[_0x3e4de3(0x325)]),_0x4a04e5[_0x3e4de3(0x7e1)]&&(_0x4a04e5[_0x3e4de3(0x7e1)]=_0x4a04e5['options']['map'](_0x906f24)),_0x4a04e5[_0x3e4de3(0x105)]&&(_0x4a04e5[_0x3e4de3(0x105)]=_0x906f24(_0x4a04e5[_0x3e4de3(0x105)])),_0x4a04e5[_0x3e4de3(0x37b)]&&(_0x4a04e5[_0x3e4de3(0x37b)]=_0x906f24(_0x4a04e5['stem'])),_0x4a04e5[_0x3e4de3(0x41d)]&&(_0x4a04e5[_0x3e4de3(0x41d)]=_0x906f24(_0x4a04e5[_0x3e4de3(0x41d)])),_0x4a04e5[_0x3e4de3(0x8a0)]&&(_0x4a04e5[_0x3e4de3(0x8a0)]=_0x4a04e5[_0x3e4de3(0x8a0)]['map'](_0x906f24));}),_0x5c4fec;}const simpleMathPrompt=_0x2ee497(0x3a3);async function handleGenerateFromLink(){const _0x14b3cf=_0x2ee497,_0x4ff572=document[_0x14b3cf(0x339)]('link-url-input'),_0x67f6c3=document[_0x14b3cf(0x339)]('link-topic-input'),_0x472e9a=_0x4ff572[_0x14b3cf(0x2b8)][_0x14b3cf(0x6df)](),_0x59d8f5=_0x67f6c3[_0x14b3cf(0x2b8)][_0x14b3cf(0x6df)]();if(!_0x472e9a){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x58e41f=document[_0x14b3cf(0x339)](_0x14b3cf(0x1cd)),_0x46cb26=document['getElementById']('loader-text'),_0x56578c=document[_0x14b3cf(0x339)](_0x14b3cf(0x7e0)),_0x48f6c6=document[_0x14b3cf(0x339)](_0x14b3cf(0x7f2));document['getElementById'](_0x14b3cf(0x6b4))[_0x14b3cf(0xe6)][_0x14b3cf(0x728)](_0x14b3cf(0x730)),_0x56578c[_0x14b3cf(0x7de)]='',_0x58e41f[_0x14b3cf(0xe6)][_0x14b3cf(0x728)](_0x14b3cf(0x730)),_0x46cb26[_0x14b3cf(0x477)]=_0x14b3cf(0x772),_0x48f6c6['disabled']=!![];try{const _0x47d54a=_0x14b3cf(0x409)+encodeURIComponent(_0x472e9a),_0x4bd8d=await fetch(_0x47d54a);if(!_0x4bd8d['ok'])throw new Error(_0x14b3cf(0x515)+_0x4bd8d[_0x14b3cf(0x675)]+')');const _0x23234e=await _0x4bd8d['text'](),_0x359c44=extractTextFromHtml(_0x23234e);if(!_0x359c44||_0x359c44['length']<0x64)throw new Error(_0x14b3cf(0x539));await generateQuiz(_0x59d8f5,_0x359c44);}catch(_0x3d32db){console[_0x14b3cf(0x4e7)](_0x14b3cf(0x460),_0x3d32db),showMessage(_0x14b3cf(0x13a)+_0x3d32db[_0x14b3cf(0x63d)]),_0x56578c['innerHTML']=_0x14b3cf(0x2cb);}finally{_0x58e41f[_0x14b3cf(0xe6)][_0x14b3cf(0x34f)](_0x14b3cf(0x730)),_0x48f6c6['disabled']=![];}}function extractTextFromHtml(_0x148d0f){const _0x15fc11=_0x2ee497,_0xea7101=new DOMParser()[_0x15fc11(0x461)](_0x148d0f,'text/html');return _0xea7101['querySelectorAll'](_0x15fc11(0x5ad))['forEach'](_0x2bf99a=>_0x2bf99a[_0x15fc11(0x728)]()),_0xea7101[_0x15fc11(0x7c6)][_0x15fc11(0x477)]||'';}document['getElementById'](_0x2ee497(0x44e))[_0x2ee497(0x834)](_0x2ee497(0x5c7),()=>{const _0x26bf77=_0x2ee497,_0x2420ff=document[_0x26bf77(0x339)]('topic-input')[_0x26bf77(0x2b8)][_0x26bf77(0x6df)]();generateQuiz(_0x2420ff,null);}),document[_0x2ee497(0x339)]('generate-from-text-btn')['addEventListener'](_0x2ee497(0x5c7),()=>{const _0x3d2fbf=_0x2ee497,_0x2b871d=document[_0x3d2fbf(0x339)](_0x3d2fbf(0x4f4))[_0x3d2fbf(0x2b8)][_0x3d2fbf(0x6df)]();if(!_0x2b871d){showMessage(_0x3d2fbf(0x5d9));return;}const _0x4c882c=document['getElementById']('topic-input')[_0x3d2fbf(0x2b8)][_0x3d2fbf(0x6df)]();generateQuiz(_0x4c882c,_0x2b871d);});async function generateQuiz(_0x5a6805,_0x2c4763,_0x165f11=null){const _0x26dc72=_0x2ee497,_0x3548e9=document['getElementById'](_0x26dc72(0x202))[_0x26dc72(0x149)],_0x259430=document['getElementById'](_0x26dc72(0x5d8))[_0x26dc72(0x2b8)],_0x75a851=document[_0x26dc72(0x339)](_0x26dc72(0x39b))[_0x26dc72(0x2b8)],_0x1d1304=document[_0x26dc72(0x339)](_0x26dc72(0x454))[_0x26dc72(0x2b8)],_0x612eeb=document[_0x26dc72(0x339)](_0x26dc72(0x865))[_0x26dc72(0x149)],_0x3d2ae8=_0x612eeb?'':_0x26dc72(0x298),_0x16319b=document[_0x26dc72(0x339)](_0x26dc72(0x17c)),_0x14d71f=_0x16319b[_0x26dc72(0x2b8)];let _0x5026a2='';_0x14d71f!==_0x26dc72(0x156)&&(_0x5026a2=_0x26dc72(0x3d4)+_0x14d71f+'\x22');const _0xef5f24=document[_0x26dc72(0x339)](_0x26dc72(0x4b7)),_0xa96f81=_0xef5f24[_0x26dc72(0x2b8)];let _0x3aab59='';_0xa96f81!==_0x26dc72(0x397)&&(_0x3aab59=_0x26dc72(0x49e)+_0xa96f81+_0x26dc72(0x686));const _0x2aaec8=document[_0x26dc72(0x450)]('#math-topics-checkbox-container\x20input:checked'),_0x39a1e8=Array['from'](_0x2aaec8)[_0x26dc72(0x71d)](_0x2e4179=>_0x2e4179[_0x26dc72(0x2b8)]);let _0x422ba8='';_0x39a1e8[_0x26dc72(0x2fe)]>0x0&&(_0x422ba8='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x39a1e8['join'](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x58ec39='',_0x586e58='',_0x282af8,_0x237335=_0x26dc72(0x14e)+_0x5a6805+'\x22';if(!_0x5a6805&&_0x2c4763)_0x237335=_0x26dc72(0x871);else!_0x5a6805&&!_0x2c4763&&(_0x237335=_0x26dc72(0x39c));const _0x38c26e={'type':_0x26dc72(0x4f1),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x26dc72(0x5e0)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x26dc72(0x5e0)},'imageCode':{'type':_0x26dc72(0x5e0)}},'required':[_0x26dc72(0x325),'options',_0x26dc72(0x75e),_0x26dc72(0x105)]},_0x3cd2be={'type':_0x26dc72(0x4f1),'properties':{'questionText':{'type':_0x26dc72(0x5e0)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x26dc72(0x5e0)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x26dc72(0x575),'explanation']},_0x297ba9={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x26dc72(0x5e0),'enum':['multiple_choice','short_answer']},'options':{'type':_0x26dc72(0xfb),'items':{'type':_0x26dc72(0x5e0)}},'correctAnswerIndex':{'type':_0x26dc72(0xda)},'idealAnswer':{'type':_0x26dc72(0x5e0)},'explanation':{'type':_0x26dc72(0x5e0)},'imageCode':{'type':_0x26dc72(0x5e0)}},'required':[_0x26dc72(0x325),'questionType','explanation']},_0x3c2593={'type':_0x26dc72(0x4f1),'properties':{'questionText':{'type':_0x26dc72(0x5e0)},'correctAnswer':{'type':_0x26dc72(0x531)},'explanation':{'type':_0x26dc72(0x5e0)},'imageCode':{'type':_0x26dc72(0x5e0)}},'required':[_0x26dc72(0x325),'correctAnswer',_0x26dc72(0x105)]},_0x3828b2={'type':_0x26dc72(0x4f1),'properties':{'questionType':{'type':_0x26dc72(0x5e0),'enum':[_0x26dc72(0x368)]},'stem':{'type':_0x26dc72(0x5e0)},'correctResponse':{'type':_0x26dc72(0x5e0)},'allResponses':{'type':_0x26dc72(0xfb),'items':{'type':_0x26dc72(0x5e0)}},'explanation':{'type':_0x26dc72(0x5e0)},'imageCode':{'type':_0x26dc72(0x5e0)}},'required':[_0x26dc72(0x790),_0x26dc72(0x37b),'correctResponse',_0x26dc72(0x8a0),'explanation']};let _0x190479;if(_0x165f11!==null){const _0x4dd52c=currentQuizData['questions'][_0x165f11][_0x26dc72(0x790)],_0x25858a=_0x3548e9?_0x26dc72(0x647):'';_0x58ec39=_0x26dc72(0x2ba)+_0x237335+'\x20'+_0x422ba8+'\x20'+_0x5026a2+_0x26dc72(0x629)+_0x25858a+'\x20'+simpleMathPrompt;if(_0x4dd52c===_0x26dc72(0x73c))_0x282af8=_0x38c26e;else{if(_0x4dd52c===_0x26dc72(0x368))_0x282af8={'type':_0x26dc72(0x4f1),'properties':{'questionType':{'type':_0x26dc72(0x5e0),'enum':[_0x26dc72(0x368)]},'stem':{'type':_0x26dc72(0x5e0)},'correctResponse':{'type':_0x26dc72(0x5e0)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x26dc72(0x5e0)}},'required':[_0x26dc72(0x790),_0x26dc72(0x37b),_0x26dc72(0x41d),_0x26dc72(0x105)]};else _0x282af8=_0x3cd2be;}_0x190479=_0x282af8;}else{const _0x239c5=_0x3548e9?_0x26dc72(0x702):'',_0x45ed6f=_0x26dc72(0xcf);switch(_0x259430){case _0x26dc72(0x73c):_0x58ec39='สร้างแบบทดสอบปรนัย'+_0x3d2ae8+'\x20'+_0x75a851+_0x26dc72(0xf9)+_0x237335+'\x20'+_0x422ba8+'\x20'+_0x5026a2+'\x20'+_0x3aab59+_0x26dc72(0x2e1)+_0x1d1304+_0x26dc72(0x2de)+_0x239c5+'\x20'+simpleMathPrompt,_0x282af8=_0x38c26e;break;case _0x26dc72(0x10d):_0x58ec39=_0x26dc72(0x72b)+_0x3d2ae8+'\x20'+_0x75a851+'\x20ข้อ\x20'+_0x237335+'\x20'+_0x422ba8+'\x20'+_0x5026a2+'\x20'+_0x3aab59+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x1d1304+_0x26dc72(0x326)+_0x239c5+'\x20'+simpleMathPrompt,_0x282af8=_0x38c26e;break;case _0x26dc72(0x604):_0x58ec39='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3d2ae8+'\x20'+_0x75a851+_0x26dc72(0xf9)+_0x237335+'\x20'+_0x422ba8+'\x20'+_0x5026a2+'\x20'+_0x3aab59+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x239c5+'\x20'+simpleMathPrompt,_0x282af8=_0x3cd2be;break;case _0x26dc72(0x397):_0x58ec39=_0x26dc72(0x517)+_0x3d2ae8+'\x20'+_0x75a851+_0x26dc72(0xf9)+_0x237335+'\x20'+_0x422ba8+'\x20'+_0x5026a2+'\x20'+_0x3aab59+_0x26dc72(0x495)+_0x1d1304+_0x26dc72(0x888)+_0x239c5+'\x20'+simpleMathPrompt+'.',_0x282af8=_0x297ba9;break;case _0x26dc72(0x354):_0x58ec39=_0x26dc72(0x6ec)+_0x3d2ae8+'\x20'+_0x75a851+_0x26dc72(0xf9)+_0x237335+'\x20'+_0x422ba8+'\x20'+_0x5026a2+'\x20'+_0x3aab59+_0x26dc72(0x7a6)+_0x239c5+'\x20'+simpleMathPrompt,_0x282af8=_0x3c2593;break;case'matching':_0x58ec39='สร้างชุดคำถามจับคู่'+_0x3d2ae8+'\x20'+_0x75a851+'\x20คู่\x20'+_0x237335+'\x20'+_0x422ba8+'\x20'+_0x5026a2+'\x20'+_0x3aab59+_0x26dc72(0x11a)+_0x239c5+'\x20'+simpleMathPrompt,_0x282af8=_0x3828b2;break;}_0x190479={'type':_0x26dc72(0x4f1),'properties':{'topic':{'type':_0x26dc72(0x5e0)},'questions':{'type':_0x26dc72(0xfb),'items':_0x282af8}},'required':[_0x26dc72(0x5fb),_0x26dc72(0x2f4)]};}return _0x2c4763?(_0x58ec39=_0x26dc72(0xf6)+_0x2c4763+_0x26dc72(0x807)+_0x58ec39,_0x586e58=_0x26dc72(0x221)):_0x586e58=_0x26dc72(0x30b),handleApiCall(_0x58ec39,_0x586e58,_0x190479,_0x165f11);}async function generateQuizFromFile(_0x25e1cf,_0x2287b1){const _0x5833c1=_0x2ee497,_0x83f94e=document[_0x5833c1(0x339)](_0x5833c1(0x33f))[_0x5833c1(0x2b8)]['trim'](),_0x451f70=document[_0x5833c1(0x339)](_0x5833c1(0x5d8))[_0x5833c1(0x2b8)],_0x26b32f=document[_0x5833c1(0x339)](_0x5833c1(0x39b))[_0x5833c1(0x2b8)],_0x385dc9=document['getElementById']('num-choices')['value'],_0x2038cd=document['getElementById'](_0x5833c1(0x202))[_0x5833c1(0x149)],_0x417577=document['getElementById'](_0x5833c1(0x865))['checked'],_0x37f9d7=_0x417577?'':_0x5833c1(0x298);let _0x520f21='',_0x2ce2fe,_0x464a65=_0x5833c1(0x14e)+_0x83f94e+'\x22';!_0x83f94e&&(_0x464a65='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x487534=_0x2038cd?_0x5833c1(0x702):'';switch(_0x451f70){case _0x5833c1(0x73c):_0x520f21=_0x5833c1(0x204)+_0x37f9d7+'\x20'+_0x26b32f+_0x5833c1(0xf9)+_0x464a65+_0x5833c1(0x2e1)+_0x385dc9+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x487534+'\x20'+simpleMathPrompt,_0x2ce2fe={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5833c1(0xfb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5833c1(0x5e0)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x5833c1(0x75e),_0x5833c1(0x105)]};break;case'fill_in_with_choices':_0x520f21=_0x5833c1(0x72b)+_0x37f9d7+'\x20'+_0x26b32f+_0x5833c1(0xf9)+_0x464a65+_0x5833c1(0x22c)+_0x385dc9+_0x5833c1(0x326)+_0x487534+'\x20'+simpleMathPrompt,_0x2ce2fe={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5833c1(0xfb),'items':{'type':_0x5833c1(0x5e0)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5833c1(0x5e0)},'imageCode':{'type':_0x5833c1(0x5e0)}},'required':[_0x5833c1(0x325),_0x5833c1(0x7e1),_0x5833c1(0x75e),'explanation']};break;case _0x5833c1(0x604):_0x520f21=_0x5833c1(0x72b)+_0x37f9d7+'\x20'+_0x26b32f+_0x5833c1(0xf9)+_0x464a65+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x487534+'\x20'+simpleMathPrompt,_0x2ce2fe={'type':_0x5833c1(0x4f1),'properties':{'questionText':{'type':_0x5833c1(0x5e0)},'idealAnswer':{'type':_0x5833c1(0x5e0)},'explanation':{'type':_0x5833c1(0x5e0)},'imageCode':{'type':_0x5833c1(0x5e0)}},'required':['questionText','idealAnswer',_0x5833c1(0x105)]};break;case _0x5833c1(0x397):_0x520f21=_0x5833c1(0x517)+_0x37f9d7+'\x20'+_0x26b32f+_0x5833c1(0xf9)+_0x464a65+_0x5833c1(0x693)+_0x385dc9+'\x20ตัวเลือก.\x20'+_0x487534+'\x20'+simpleMathPrompt+_0x5833c1(0x87b),_0x2ce2fe={'type':_0x5833c1(0x4f1),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5833c1(0x5e0),'enum':[_0x5833c1(0x73c),'short_answer']},'options':{'type':_0x5833c1(0xfb),'items':{'type':_0x5833c1(0x5e0)}},'correctAnswerIndex':{'type':_0x5833c1(0xda)},'idealAnswer':{'type':_0x5833c1(0x5e0)},'explanation':{'type':_0x5833c1(0x5e0)},'imageCode':{'type':'STRING'}},'required':[_0x5833c1(0x325),_0x5833c1(0x790),'explanation']};break;case _0x5833c1(0x354):_0x520f21='สร้างคำถามแบบใช่/ไม่ใช่'+_0x37f9d7+'\x20'+_0x26b32f+_0x5833c1(0xf9)+_0x464a65+_0x5833c1(0x59c)+_0x487534+'\x20'+simpleMathPrompt,_0x2ce2fe={'type':_0x5833c1(0x4f1),'properties':{'questionText':{'type':_0x5833c1(0x5e0)},'correctAnswer':{'type':_0x5833c1(0x531)},'explanation':{'type':_0x5833c1(0x5e0)},'imageCode':{'type':_0x5833c1(0x5e0)}},'required':[_0x5833c1(0x325),'correctAnswer','explanation']};break;case _0x5833c1(0x208):_0x520f21=_0x5833c1(0x40f)+_0x37f9d7+'\x20'+_0x26b32f+'\x20คู่\x20'+_0x464a65+_0x5833c1(0x5d6)+_0x26b32f+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x487534+'\x20'+simpleMathPrompt,_0x2ce2fe={'type':_0x5833c1(0x4f1),'properties':{'questionType':{'type':_0x5833c1(0x5e0),'enum':[_0x5833c1(0x368)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x5833c1(0x5e0)},'allResponses':{'type':_0x5833c1(0xfb),'items':{'type':_0x5833c1(0x5e0)}},'explanation':{'type':_0x5833c1(0x5e0)},'imageCode':{'type':_0x5833c1(0x5e0)}},'required':[_0x5833c1(0x790),'stem',_0x5833c1(0x41d),'allResponses',_0x5833c1(0x105)]};break;}const _0x209eb4={'type':_0x5833c1(0x4f1),'properties':{'topic':{'type':_0x5833c1(0x5e0)},'questions':{'type':'ARRAY','items':_0x2ce2fe}},'required':[_0x5833c1(0x5fb),_0x5833c1(0x2f4)]},_0x9a0b41=_0x5833c1(0x65b)+_0x520f21,_0x260c08={'contents':[{'parts':[{'text':_0x9a0b41},{'inlineData':{'mimeType':_0x25e1cf,'data':_0x2287b1}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x209eb4}};return handleApiCall(_0x260c08[_0x5833c1(0x864)][0x0]['parts'],_0x5833c1(0x873),_0x209eb4);}async function handleApiCall(_0x50be1d,_0x4ef145,_0x2c9be0,_0x38dc38=null){const _0x1d1871=_0x2ee497,_0x476b3c=document[_0x1d1871(0x339)](_0x1d1871(0x6b4)),_0x2b69e3=document[_0x1d1871(0x339)](_0x1d1871(0x1cd)),_0x5be10c=document[_0x1d1871(0x339)](_0x1d1871(0x877)),_0x35d3ac=document[_0x1d1871(0x339)](_0x1d1871(0x7e0));_0x476b3c[_0x1d1871(0xe6)]['remove'](_0x1d1871(0x730));_0x38dc38===null&&(_0x35d3ac[_0x1d1871(0x7de)]='');_0x2b69e3[_0x1d1871(0xe6)][_0x1d1871(0x728)](_0x1d1871(0x730)),_0x5be10c[_0x1d1871(0x477)]=_0x4ef145,document[_0x1d1871(0x339)]('generate-from-topic-btn')[_0x1d1871(0x154)]=!![],document[_0x1d1871(0x339)](_0x1d1871(0x50b))['disabled']=!![],document[_0x1d1871(0x339)]('generate-from-link-btn')[_0x1d1871(0x154)]=!![];try{const _0x3e0870={'responseMimeType':_0x1d1871(0x7a2),'responseSchema':_0x2c9be0},_0x11a2f8=Array['isArray'](_0x50be1d)?_0x50be1d:[{'text':_0x50be1d}],_0x292d83={'contents':[{'role':_0x1d1871(0x361),'parts':_0x11a2f8}],'generationConfig':_0x3e0870},_0x4087a7=_0x1d1871(0x3c5),_0x2ddc26=_0x1d1871(0x733)+_0x4087a7,_0x24df2a=await fetch(_0x2ddc26,{'method':_0x1d1871(0x7ba),'headers':{'Content-Type':_0x1d1871(0x7a2)},'body':JSON[_0x1d1871(0x5f7)](_0x292d83)});if(!_0x24df2a['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x24df2a[_0x1d1871(0x675)]);const _0x329976=await _0x24df2a['json']();if(_0x329976[_0x1d1871(0x2b6)]?.[0x0]?.[_0x1d1871(0x1fe)]?.['parts']?.[0x0]){let _0x273f33=_0x329976['candidates'][0x0][_0x1d1871(0x1fe)][_0x1d1871(0x544)][0x0][_0x1d1871(0x67c)],_0x256194;try{if(_0x273f33[_0x1d1871(0x27b)]('```json'))_0x273f33=_0x273f33[_0x1d1871(0x816)](0x7,_0x273f33[_0x1d1871(0x2fe)]-0x3)[_0x1d1871(0x6df)]();else _0x273f33[_0x1d1871(0x27b)](_0x1d1871(0x53d))&&(_0x273f33=_0x273f33[_0x1d1871(0x816)](0x3,_0x273f33[_0x1d1871(0x2fe)]-0x3)[_0x1d1871(0x6df)]());_0x256194=JSON['parse'](_0x273f33);}catch(_0x506eb4){console[_0x1d1871(0x4e7)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x506eb4,_0x273f33);throw new Error(_0x1d1871(0x761));}if(_0x38dc38!==null){if(_0x256194[_0x1d1871(0x790)]===_0x1d1871(0x368)){const _0x48a134=currentQuizData['questions'][_0x1d1871(0x71d)](_0x339eb3=>_0x339eb3[_0x1d1871(0x41d)]);_0x256194['allResponses']=_0x48a134;const _0x1b91dd=currentQuizData['questions'][_0x38dc38][_0x1d1871(0x41d)],_0x46ba99=_0x48a134[_0x1d1871(0x4fc)](_0x1b91dd);_0x46ba99>-0x1&&(_0x48a134[_0x46ba99]=_0x256194[_0x1d1871(0x41d)]),currentQuizData[_0x1d1871(0x2f4)][_0x1d1871(0x2f1)](_0xd7d1b4=>{const _0x5be1c5=_0x1d1871;if(_0xd7d1b4[_0x5be1c5(0x790)]===_0x5be1c5(0x368))_0xd7d1b4[_0x5be1c5(0x8a0)]=_0x48a134;});}currentQuizData[_0x1d1871(0x2f4)][_0x38dc38]=_0x256194,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x256194;const _0x2ab632=document[_0x1d1871(0x339)]('quiz-type-select')[_0x1d1871(0x2b8)];currentQuizData[_0x1d1871(0x867)]=_0x2ab632,currentQuizData['questions']&&currentQuizData[_0x1d1871(0x2f4)][_0x1d1871(0x2f1)](_0x111352=>{const _0xd82ce7=_0x1d1871;if(!_0x111352[_0xd82ce7(0x790)]){if(_0x2ab632===_0xd82ce7(0x10d))_0x111352[_0xd82ce7(0x790)]=_0xd82ce7(0x73c);else _0x2ab632===_0xd82ce7(0x604)?_0x111352[_0xd82ce7(0x790)]=_0xd82ce7(0x324):_0x111352[_0xd82ce7(0x790)]=_0x2ab632;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x1d1871(0x4e7)](_0x1d1871(0x4be),JSON[_0x1d1871(0x5f7)](_0x329976));throw new Error(_0x1d1871(0x761));}}catch(_0x361388){console[_0x1d1871(0x4e7)](_0x1d1871(0x7f7),_0x361388),showMessage(_0x1d1871(0x2e9)),_0x38dc38===null&&(_0x35d3ac[_0x1d1871(0x7de)]=_0x1d1871(0x556));}finally{_0x2b69e3['classList'][_0x1d1871(0x34f)](_0x1d1871(0x730)),document[_0x1d1871(0x339)]('generate-from-topic-btn')[_0x1d1871(0x154)]=![],document[_0x1d1871(0x339)](_0x1d1871(0x50b))[_0x1d1871(0x154)]=![],document[_0x1d1871(0x339)]('generate-from-link-btn')[_0x1d1871(0x154)]=![];const _0x296870=document['getElementById'](_0x1d1871(0x4dc));_0x296870&&(_0x296870[_0x1d1871(0x154)]=![]);}}function exitFullscreen(){const _0x2ce15e=_0x2ee497;if(document[_0x2ce15e(0x449)])document[_0x2ce15e(0x449)]()['catch'](_0x490091=>console[_0x2ce15e(0x4e7)](_0x490091));else{if(document[_0x2ce15e(0x8b2)])document[_0x2ce15e(0x8b2)]();else document[_0x2ce15e(0x67b)]&&document[_0x2ce15e(0x67b)]();}}function enterFullscreen(){const _0x55c0a4=_0x2ee497,_0x1e9760=document[_0x55c0a4(0x1d6)];if(_0x1e9760[_0x55c0a4(0x626)])_0x1e9760[_0x55c0a4(0x626)]()['catch'](_0x33def3=>{const _0x50e27a=_0x55c0a4;console[_0x50e27a(0x4e7)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x33def3[_0x50e27a(0x63d)]+'\x20('+_0x33def3[_0x50e27a(0x2eb)]+')');});else{if(_0x1e9760[_0x55c0a4(0x375)])_0x1e9760[_0x55c0a4(0x375)]();else _0x1e9760[_0x55c0a4(0x691)]&&_0x1e9760['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x1dab2b=_0x2ee497;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x1dab2b(0x641),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x1dab2b(0x5ff)+maxCheatAttempts+_0x1dab2b(0x1a2)),document[_0x1dab2b(0x339)](_0x1dab2b(0x300))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x1dab2b(0x7c1)](_0x1dab2b(0x628),handleVisibilityChange),document[_0x1dab2b(0x7c1)](_0x1dab2b(0x76b),handleFullscreenChange)):showMessage(_0x1dab2b(0x2cd)+cheatAttempts+'/'+maxCheatAttempts+_0x1dab2b(0x5b4),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0xb77b70=_0x2ee497;if(currentMode===_0xb77b70(0x33e)||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document[_0xb77b70(0x28c)]===_0xb77b70(0x59e)&&(console[_0xb77b70(0x650)](_0xb77b70(0x111)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1e6f0c=_0x2ee497;if(currentMode===_0x1e6f0c(0x33e)||!isQuizActive)return;!document[_0x1e6f0c(0x219)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x29c662){const _0x4dc0f1=_0x2ee497,_0x55db69=document['getElementById'](_0x4dc0f1(0x7e0));let _0x155479=_0x4dc0f1(0x31e)+_0x29c662[_0x4dc0f1(0x5fb)]+'</h3>';_0x29c662[_0x4dc0f1(0x2f4)][_0x4dc0f1(0x2f1)]((_0x36aea9,_0x2449d6)=>{const _0x4ccc5d=_0x4dc0f1;!_0x36aea9['id']&&(_0x36aea9['id']='q_'+Date[_0x4ccc5d(0x582)]()+'_'+_0x2449d6);const _0x2fb605=_0x36aea9['questionType']||_0x29c662[_0x4ccc5d(0x867)];_0x155479+=_0x4ccc5d(0x862)+_0x2449d6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2449d6+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2449d6+_0x4ccc5d(0x5b6)+_0x2449d6+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2fb605){case _0x4ccc5d(0x368):_0x155479+=_0x4ccc5d(0x801)+_0x2449d6+'\x22>'+(_0x2449d6+0x1)+'.\x20'+_0x36aea9[_0x4ccc5d(0x37b)]+_0x4ccc5d(0x174);_0x36aea9[_0x4ccc5d(0x216)]&&(_0x155479+='<div\x20id=\x22q-image-container-'+_0x2449d6+_0x4ccc5d(0x251)+_0x36aea9[_0x4ccc5d(0x216)]+_0x4ccc5d(0x22a));_0x155479+=_0x4ccc5d(0x257)+_0x2449d6+'\x22>'+_0x36aea9[_0x4ccc5d(0x41d)]+'</span></div>',_0x155479+=_0x4ccc5d(0x134)+_0x2449d6+'\x22>'+_0x36aea9[_0x4ccc5d(0x105)]+_0x4ccc5d(0x2ef);break;case _0x4ccc5d(0x324):_0x155479+=_0x4ccc5d(0x801)+_0x2449d6+'\x22>'+(_0x2449d6+0x1)+'.\x20'+_0x36aea9[_0x4ccc5d(0x325)]+_0x4ccc5d(0x174);_0x36aea9[_0x4ccc5d(0x216)]&&(_0x155479+=_0x4ccc5d(0x655)+_0x2449d6+_0x4ccc5d(0x251)+_0x36aea9[_0x4ccc5d(0x216)]+'</div>');_0x155479+=_0x4ccc5d(0x445)+_0x2449d6+'\x22>'+_0x36aea9[_0x4ccc5d(0x575)]+'</span></div>',_0x155479+=_0x4ccc5d(0x134)+_0x2449d6+'\x22>'+_0x36aea9[_0x4ccc5d(0x105)]+_0x4ccc5d(0x2ef);break;case _0x4ccc5d(0x354):_0x155479+=_0x4ccc5d(0x801)+_0x2449d6+'\x22>'+(_0x2449d6+0x1)+'.\x20'+_0x36aea9[_0x4ccc5d(0x325)]+'</p>';_0x36aea9[_0x4ccc5d(0x216)]&&(_0x155479+=_0x4ccc5d(0x655)+_0x2449d6+_0x4ccc5d(0x251)+_0x36aea9[_0x4ccc5d(0x216)]+_0x4ccc5d(0x22a));_0x155479+=_0x4ccc5d(0x2fb)+(_0x36aea9['correctAnswer']===!![]?_0x4ccc5d(0x2db):'')+_0x4ccc5d(0x320)+(_0x36aea9['correctAnswer']===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x155479+=_0x4ccc5d(0x134)+_0x2449d6+'\x22>'+_0x36aea9[_0x4ccc5d(0x105)]+'</span></div>';break;case _0x4ccc5d(0x2d2):case _0x4ccc5d(0x73c):default:_0x155479+=_0x4ccc5d(0x801)+_0x2449d6+'\x22>'+(_0x2449d6+0x1)+'.\x20'+_0x36aea9['questionText']+_0x4ccc5d(0x174);_0x36aea9[_0x4ccc5d(0x216)]&&(_0x155479+=_0x4ccc5d(0x655)+_0x2449d6+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x36aea9[_0x4ccc5d(0x216)]+_0x4ccc5d(0x22a));_0x155479+=_0x4ccc5d(0x612)+_0x2449d6+_0x4ccc5d(0x6e4)+_0x36aea9['options'][_0x4ccc5d(0x71d)]((_0x5de3e9,_0x3d04cd)=>_0x4ccc5d(0x128)+(_0x3d04cd===_0x36aea9['correctAnswerIndex']?_0x4ccc5d(0x2db):'')+'\x22>'+_0x5de3e9+'</li>')[_0x4ccc5d(0x8bf)]('')+_0x4ccc5d(0x5d2),_0x155479+=_0x4ccc5d(0x134)+_0x2449d6+'\x22>'+_0x36aea9[_0x4ccc5d(0x105)]+_0x4ccc5d(0x2ef);break;}_0x155479+='</div>';}),_0x155479+=_0x4dc0f1(0x6de),_0x55db69[_0x4dc0f1(0x7de)]=_0x155479,document[_0x4dc0f1(0x450)](_0x4dc0f1(0x823))[_0x4dc0f1(0x2f1)](_0x43579e=>_0x43579e[_0x4dc0f1(0x834)](_0x4dc0f1(0x5c7),handleEditQuestion)),document[_0x4dc0f1(0x450)]('.regenerate-question-btn')[_0x4dc0f1(0x2f1)](_0x5693ba=>_0x5693ba[_0x4dc0f1(0x834)]('click',handleRegenerateQuestion)),document[_0x4dc0f1(0x450)](_0x4dc0f1(0x1cc))[_0x4dc0f1(0x2f1)](_0x1b8f2d=>_0x1b8f2d[_0x4dc0f1(0x834)](_0x4dc0f1(0x5c7),handleSaveToBank)),document[_0x4dc0f1(0x339)](_0x4dc0f1(0x370))[_0x4dc0f1(0x834)](_0x4dc0f1(0x5c7),exportQuizAsWorksheetPDF),document['getElementById'](_0x4dc0f1(0x8a5))[_0x4dc0f1(0x834)](_0x4dc0f1(0x5c7),saveQuiz),document[_0x4dc0f1(0x339)](_0x4dc0f1(0x351))['addEventListener'](_0x4dc0f1(0x5c7),handleVerifyAnswers);if(window[_0x4dc0f1(0x20e)])window[_0x4dc0f1(0x20e)][_0x4dc0f1(0x190)]([_0x55db69]);}function handleRegenerateQuestion(_0x46ccf2){const _0x5ac3d2=_0x2ee497,_0x2975b5=_0x46ccf2[_0x5ac3d2(0x620)][_0x5ac3d2(0x185)][_0x5ac3d2(0x6d8)],_0x30875e=currentQuizData['topic'];showMessage(_0x5ac3d2(0x7a5)+(parseInt(_0x2975b5)+0x1)+_0x5ac3d2(0x292)),generateQuiz(_0x30875e,null,parseInt(_0x2975b5));}function getPointerPosition(_0x2b4d28,_0x2b78f0){const _0x1bde9d=_0x2ee497,_0x114751=_0x2b4d28[_0x1bde9d(0x680)]();let _0xfbd5fe,_0x1954c1;return _0x2b78f0[_0x1bde9d(0x376)]&&_0x2b78f0['touches'][_0x1bde9d(0x2fe)]>0x0?(_0xfbd5fe=_0x2b78f0[_0x1bde9d(0x376)][0x0][_0x1bde9d(0x56c)],_0x1954c1=_0x2b78f0['touches'][0x0][_0x1bde9d(0x483)]):(_0xfbd5fe=_0x2b78f0['clientX'],_0x1954c1=_0x2b78f0[_0x1bde9d(0x483)]),{'x':(_0xfbd5fe-_0x114751['e'])/_0x114751['a'],'y':(_0x1954c1-_0x114751['f'])/_0x114751['d']};}function startDrag(_0x26aab4){const _0x3beba2=_0x2ee497;_0x26aab4[_0x3beba2(0x360)]===_0x3beba2(0x799)&&_0x26aab4[_0x3beba2(0x5a2)]();const _0x4d9191=_0x26aab4[_0x3beba2(0x462)][_0x3beba2(0x762)](_0x3beba2(0x50e));if(_0x4d9191){draggedSvgElement=_0x4d9191;const _0x2d591d=draggedSvgElement[_0x3beba2(0x349)],_0x3056ba=getPointerPosition(_0x2d591d,_0x26aab4);svgOffset['x']=_0x3056ba['x']-parseFloat(draggedSvgElement[_0x3beba2(0x516)](null,'x')),svgOffset['y']=_0x3056ba['y']-parseFloat(draggedSvgElement[_0x3beba2(0x516)](null,'y'));}}function calculateItemAnalysis(_0x5ae782,_0x17e806){const _0x4e75be=_0x2ee497,_0x317275={};if(_0x17e806[_0x4e75be(0x2fe)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x7b4cf6=[..._0x17e806][_0x4e75be(0x377)]((_0x29892b,_0x5a16de)=>{const _0x4ad4c2=_0x4e75be,_0x22fb3b=_0x5a16de[_0x4ad4c2(0x5df)]-_0x29892b[_0x4ad4c2(0x5df)];if(_0x22fb3b!==0x0)return _0x22fb3b;const _0x1e4cd2=_0x29892b[_0x4ad4c2(0x535)]?.[_0x4ad4c2(0x2fe)]||0x1,_0x1359e1=_0x5a16de[_0x4ad4c2(0x535)]?.[_0x4ad4c2(0x2fe)]||0x1,_0x3bb283=_0x1e4cd2-_0x1359e1;if(_0x3bb283!==0x0)return _0x3bb283;const _0x247bc0=new Date(_0x29892b['latestSubmittedAt']),_0x4ac358=new Date(_0x5a16de[_0x4ad4c2(0x16a)]),_0x341aab=_0x247bc0-_0x4ac358;if(_0x341aab!==0x0)return _0x341aab;return _0x29892b[_0x4ad4c2(0x7af)][_0x4ad4c2(0x2c4)](_0x5a16de[_0x4ad4c2(0x7af)],'th');}),_0x3006d8=_0x7b4cf6['length'],_0x425b51=Math[_0x4e75be(0x187)](0x1,Math[_0x4e75be(0x6be)](_0x3006d8*0.33));if(_0x425b51===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3c951e=_0x7b4cf6['slice'](0x0,_0x425b51),_0x3bf6b8=_0x7b4cf6[_0x4e75be(0x38c)](-_0x425b51),_0x32c171=_0x3c951e[_0x4e75be(0x71d)](_0x2e6715=>_0x2e6715[_0x4e75be(0x7af)]),_0x2545c7=_0x3bf6b8[_0x4e75be(0x71d)](_0xcc1939=>_0xcc1939[_0x4e75be(0x7af)]);return _0x5ae782[_0x4e75be(0x2f4)]['forEach']((_0x13d517,_0x4433c9)=>{const _0x4d0b5b=_0x4e75be,_0x51db78=_0x13d517['stem']||_0x13d517[_0x4d0b5b(0x325)];let _0x57027c=0x0,_0x13e268=0x0,_0x2603f5=0x0;const _0x4d085a=[],_0x2e2d0e=[];_0x3c951e['forEach'](_0x2d4214=>{const _0x1688b1=_0x4d0b5b,_0x279423=_0x2d4214[_0x1688b1(0x535)][_0x2d4214[_0x1688b1(0x535)][_0x1688b1(0x2fe)]-0x1],_0x5c0af2=_0x279423[_0x1688b1(0x57f)][_0x1688b1(0x5f9)](_0x87cee2=>_0x87cee2[_0x1688b1(0x6f6)]===_0x51db78);_0x4d085a[_0x1688b1(0x447)]({'name':_0x2d4214[_0x1688b1(0x7af)],'isCorrect':_0x5c0af2?_0x5c0af2[_0x1688b1(0x358)]:![]}),_0x5c0af2&&_0x5c0af2[_0x1688b1(0x358)]&&_0x13e268++;}),_0x3bf6b8[_0x4d0b5b(0x2f1)](_0x50ae24=>{const _0x4e04c1=_0x4d0b5b,_0x119a83=_0x50ae24[_0x4e04c1(0x535)][_0x50ae24[_0x4e04c1(0x535)]['length']-0x1],_0x28dc14=_0x119a83['answers'][_0x4e04c1(0x5f9)](_0xdf5dd7=>_0xdf5dd7['originalQuestionText']===_0x51db78);_0x2e2d0e[_0x4e04c1(0x447)]({'name':_0x50ae24[_0x4e04c1(0x7af)],'isCorrect':_0x28dc14?_0x28dc14[_0x4e04c1(0x358)]:![]}),_0x28dc14&&_0x28dc14['isCorrect']&&_0x2603f5++;}),_0x17e806[_0x4d0b5b(0x2f1)](_0x5195b2=>{const _0x2ff29c=_0x4d0b5b,_0x45b05f=_0x5195b2[_0x2ff29c(0x535)][_0x5195b2[_0x2ff29c(0x535)]['length']-0x1],_0x4c8c50=_0x45b05f[_0x2ff29c(0x57f)][_0x2ff29c(0x5f9)](_0x3762e4=>_0x3762e4[_0x2ff29c(0x6f6)]===_0x51db78);_0x4c8c50&&_0x4c8c50[_0x2ff29c(0x358)]&&_0x57027c++;});const _0x1afe46=_0x3006d8>0x0?_0x57027c/_0x3006d8:0x0,_0xe1cd6=_0x425b51>0x0?_0x13e268/_0x425b51-_0x2603f5/_0x425b51:0x0;_0x317275[_0x4433c9]={'p':_0x1afe46,'r':_0xe1cd6,'upperGroupResponders':_0x4d085a,'lowerGroupResponders':_0x2e2d0e};}),{'perQuestionStats':_0x317275,'overallGroups':{'upperGroupNames':_0x32c171,'lowerGroupNames':_0x2545c7}};}function drag(_0x4e1e57){const _0x1bdee9=_0x2ee497;if(draggedSvgElement){_0x4e1e57[_0x1bdee9(0x5a2)]();const _0x3a8cae=draggedSvgElement['ownerSVGElement'],_0x571f01=getPointerPosition(_0x3a8cae,_0x4e1e57),_0x272b34=_0x3a8cae[_0x1bdee9(0x10b)][_0x1bdee9(0x3c8)];let _0x20b7a8=_0x571f01['x']-svgOffset['x'],_0x3f8236=_0x571f01['y']-svgOffset['y'];const _0x8ce110=draggedSvgElement[_0x1bdee9(0xe4)]();_0x20b7a8=Math['max'](_0x272b34['x'],Math[_0x1bdee9(0x89d)](_0x20b7a8,_0x272b34['x']+_0x272b34[_0x1bdee9(0x266)]-_0x8ce110[_0x1bdee9(0x266)])),_0x3f8236=Math[_0x1bdee9(0x187)](_0x272b34['y'],Math[_0x1bdee9(0x89d)](_0x3f8236,_0x272b34['y']+_0x272b34['height']-_0x8ce110[_0x1bdee9(0x317)])),draggedSvgElement[_0x1bdee9(0x4ff)](null,'x',_0x20b7a8),draggedSvgElement[_0x1bdee9(0x4ff)](null,'y',_0x3f8236);}}function endDrag(_0x4c94ac){draggedSvgElement=null;}function handleSvgEditClick(_0x407805){const _0x3267ff=_0x2ee497;if(_0x407805[_0x3267ff(0x462)]['classList'][_0x3267ff(0x56d)](_0x3267ff(0x108))){const _0x503daa=_0x407805[_0x3267ff(0x462)][_0x3267ff(0x185)][_0x3267ff(0x5c1)],_0x414a4a=_0x407805[_0x3267ff(0x620)],_0x5cf99f=_0x414a4a[_0x3267ff(0x205)]('#'+_0x503daa);_0x5cf99f&&_0x5cf99f[_0x3267ff(0x728)](),_0x407805[_0x3267ff(0x462)]['remove']();}}function handleEditQuestion(_0x5ac5bd){const _0x3e7e2c=_0x2ee497,_0x4b2382=_0x5ac5bd[_0x3e7e2c(0x620)],_0x23d02d=_0x4b2382[_0x3e7e2c(0x185)][_0x3e7e2c(0x6d8)],_0x4b67b0=currentQuizData[_0x3e7e2c(0x2f4)][_0x23d02d],_0x50f5d9=document[_0x3e7e2c(0x339)]('q-text-'+_0x23d02d),_0x5540f0=document[_0x3e7e2c(0x339)](_0x3e7e2c(0x53e)+_0x23d02d),_0x3c41ce=document[_0x3e7e2c(0x339)]('q-image-container-'+_0x23d02d);if(_0x4b2382[_0x3e7e2c(0x7de)][_0x3e7e2c(0x54e)](_0x3e7e2c(0x591))){_0x4b2382[_0x3e7e2c(0x7de)]=_0x3e7e2c(0xf0),_0x4b2382[_0x3e7e2c(0x41e)]=_0x3e7e2c(0x679);if(_0x50f5d9)_0x50f5d9[_0x3e7e2c(0x2b4)]=!![];if(_0x5540f0)_0x5540f0[_0x3e7e2c(0x2b4)]=!![];if(_0x3c41ce){const _0x45f307=_0x3c41ce[_0x3e7e2c(0x205)](_0x3e7e2c(0x492));if(_0x45f307){const _0x52be84=_0x45f307[_0x3e7e2c(0x450)]('text');_0x52be84[_0x3e7e2c(0x2f1)]((_0x94391f,_0x48f34b)=>{const _0x1ab135=_0x3e7e2c,_0x4a667d=_0x1ab135(0x40c)+_0x23d02d+'-'+_0x48f34b;_0x94391f['id']=_0x4a667d,_0x94391f['classList'][_0x1ab135(0x34f)](_0x1ab135(0x47b)),_0x94391f[_0x1ab135(0x6fd)][_0x1ab135(0x480)]=_0x1ab135(0x727);const _0x2550ba=document[_0x1ab135(0x161)](_0x1ab135(0x7d0),_0x1ab135(0x615)),_0x20a1f0=_0x94391f[_0x1ab135(0xe4)]();_0x2550ba[_0x1ab135(0x470)]('cx',String(_0x20a1f0['x']+_0x20a1f0['width']+0x5)),_0x2550ba['setAttribute']('cy',String(_0x20a1f0['y']+_0x20a1f0[_0x1ab135(0x317)]/0x2-0x5)),_0x2550ba[_0x1ab135(0x470)]('r','5'),_0x2550ba[_0x1ab135(0x470)](_0x1ab135(0x34b),_0x1ab135(0x571)),_0x2550ba[_0x1ab135(0x470)](_0x1ab135(0x1da),_0x1ab135(0x108)),_0x2550ba[_0x1ab135(0x185)][_0x1ab135(0x5c1)]=_0x4a667d,_0x94391f[_0x1ab135(0x5f8)](_0x2550ba);}),_0x45f307[_0x3e7e2c(0x834)]('mousedown',startDrag),_0x45f307[_0x3e7e2c(0x834)](_0x3e7e2c(0x623),drag),_0x45f307[_0x3e7e2c(0x834)]('mouseup',endDrag),_0x45f307[_0x3e7e2c(0x834)]('mouseleave',endDrag),_0x45f307[_0x3e7e2c(0x834)](_0x3e7e2c(0x799),startDrag,{'passive':![]}),_0x45f307['addEventListener'](_0x3e7e2c(0x387),drag,{'passive':![]}),_0x45f307[_0x3e7e2c(0x834)](_0x3e7e2c(0x887),endDrag),_0x45f307[_0x3e7e2c(0x834)](_0x3e7e2c(0x716),endDrag),_0x45f307[_0x3e7e2c(0x834)]('click',handleSvgEditClick);}}if(_0x50f5d9)_0x50f5d9['focus']();}else{_0x4b2382[_0x3e7e2c(0x7de)]=_0x3e7e2c(0x8ae),_0x4b2382[_0x3e7e2c(0x41e)]=_0x3e7e2c(0xd0);if(_0x50f5d9){_0x50f5d9[_0x3e7e2c(0x2b4)]=![];const _0x4ba87e=_0x4b67b0[_0x3e7e2c(0x790)]||currentQuizData[_0x3e7e2c(0x867)];_0x4ba87e==='matching_item'?_0x4b67b0[_0x3e7e2c(0x37b)]=_0x50f5d9[_0x3e7e2c(0x856)][_0x3e7e2c(0x816)](_0x50f5d9[_0x3e7e2c(0x856)][_0x3e7e2c(0x4fc)]('.')+0x2)[_0x3e7e2c(0x6df)]():_0x4b67b0[_0x3e7e2c(0x325)]=_0x50f5d9[_0x3e7e2c(0x856)][_0x3e7e2c(0x816)](_0x50f5d9['innerText'][_0x3e7e2c(0x4fc)]('.')+0x2)['trim']();}_0x5540f0&&(_0x5540f0[_0x3e7e2c(0x2b4)]=![],_0x4b67b0[_0x3e7e2c(0x105)]=_0x5540f0[_0x3e7e2c(0x856)]);if(_0x3c41ce){const _0x2d065c=_0x3c41ce[_0x3e7e2c(0x205)]('svg');if(_0x2d065c){const _0x59ba97=_0x2d065c[_0x3e7e2c(0x547)](!![]);_0x59ba97[_0x3e7e2c(0x450)](_0x3e7e2c(0x1a6))[_0x3e7e2c(0x2f1)](_0x432a40=>_0x432a40['remove']()),_0x59ba97[_0x3e7e2c(0x450)](_0x3e7e2c(0x50e))[_0x3e7e2c(0x2f1)](_0x195b07=>{const _0x2f07a5=_0x3e7e2c;_0x195b07['classList'][_0x2f07a5(0x728)](_0x2f07a5(0x47b)),_0x195b07[_0x2f07a5(0x6fd)][_0x2f07a5(0x480)]=_0x2f07a5(0x15d),_0x195b07['removeAttribute']('id');}),_0x4b67b0[_0x3e7e2c(0x216)]=_0x59ba97[_0x3e7e2c(0x357)],_0x2d065c['removeEventListener'](_0x3e7e2c(0x145),startDrag),_0x2d065c[_0x3e7e2c(0x7c1)]('mousemove',drag),_0x2d065c[_0x3e7e2c(0x7c1)]('mouseup',endDrag),_0x2d065c[_0x3e7e2c(0x7c1)](_0x3e7e2c(0x8af),endDrag),_0x2d065c[_0x3e7e2c(0x7c1)]('touchstart',startDrag),_0x2d065c[_0x3e7e2c(0x7c1)](_0x3e7e2c(0x387),drag),_0x2d065c[_0x3e7e2c(0x7c1)]('touchend',endDrag),_0x2d065c['removeEventListener'](_0x3e7e2c(0x716),endDrag),_0x2d065c[_0x3e7e2c(0x7c1)]('click',handleSvgEditClick),_0x2d065c[_0x3e7e2c(0x450)](_0x3e7e2c(0x1a6))['forEach'](_0x2adea9=>_0x2adea9[_0x3e7e2c(0x728)]()),_0x2d065c[_0x3e7e2c(0x450)](_0x3e7e2c(0x50e))[_0x3e7e2c(0x2f1)](_0x5b957f=>{const _0xa9ddf5=_0x3e7e2c;_0x5b957f[_0xa9ddf5(0xe6)][_0xa9ddf5(0x728)](_0xa9ddf5(0x47b)),_0x5b957f[_0xa9ddf5(0x6fd)][_0xa9ddf5(0x480)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x474fa4){const _0x485f82=_0x2ee497,_0xe15eff=document['getElementById'](_0x485f82(0x4ab)),_0x4db7db=document['getElementById'](_0x485f82(0x56a));_0x4db7db[_0x485f82(0x7de)]=_0x485f82(0x39e),_0xe15eff[_0x485f82(0xe6)]['remove']('hidden');try{const _0x348f85=doc(db,_0x485f82(0x100)+appId+_0x485f82(0x50f),_0x474fa4),_0x2dd8d1=await getDoc(_0x348f85);if(!_0x2dd8d1[_0x485f82(0x475)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x474fa4,..._0x2dd8d1[_0x485f82(0x656)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x5bc903){console[_0x485f82(0x4e7)](_0x485f82(0x1d0),_0x5bc903),showMessage(_0x485f82(0x229)),_0xe15eff[_0x485f82(0xe6)]['add'](_0x485f82(0x730));}}function renderQuizEditor(_0x532eb4){const _0x292dc1=_0x2ee497;document['getElementById'](_0x292dc1(0x36d))[_0x292dc1(0x2b8)]=_0x532eb4[_0x292dc1(0x5fb)];const _0x1551f9=document['getElementById']('quiz-editor-questions-container');let _0x1789b6=_0x532eb4[_0x292dc1(0x2f4)][_0x292dc1(0x71d)]((_0x284bf6,_0xc717e6)=>{const _0x3cfc59=_0x292dc1;let _0x39660c='';const _0xba224a=_0x284bf6[_0x3cfc59(0x790)]||_0x532eb4[_0x3cfc59(0x867)];switch(_0xba224a){case'multiple_choice':const _0x5ae836=(_0x284bf6[_0x3cfc59(0x7e1)]||[])[_0x3cfc59(0x71d)]((_0x2be275,_0x255586)=>_0x3cfc59(0x886)+_0xc717e6+_0x3cfc59(0x113)+_0x255586+'\x22\x20'+(_0x255586===_0x284bf6[_0x3cfc59(0x75e)]?_0x3cfc59(0x149):'')+_0x3cfc59(0x5ec)+_0x2be275+_0x3cfc59(0x4a1))[_0x3cfc59(0x8bf)]('');_0x39660c=_0x3cfc59(0x7b9)+_0x5ae836+_0x3cfc59(0x55b);break;case _0x3cfc59(0x324):_0x39660c=_0x3cfc59(0x5e6)+(_0x284bf6[_0x3cfc59(0x575)]||'')+_0x3cfc59(0x8c6);break;case _0x3cfc59(0x354):_0x39660c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0xc717e6+_0x3cfc59(0x2e3)+(_0x284bf6[_0x3cfc59(0x394)]===!![]?'checked':'')+_0x3cfc59(0x21c)+_0xc717e6+'\x22\x20value=\x22false\x22\x20'+(_0x284bf6[_0x3cfc59(0x394)]===![]?_0x3cfc59(0x149):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3cfc59(0x368):_0x39660c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x284bf6[_0x3cfc59(0x41d)]||'')+_0x3cfc59(0x112);break;}const _0x48ad73=_0x284bf6[_0x3cfc59(0x325)]||_0x284bf6[_0x3cfc59(0x37b)]||'';return _0x3cfc59(0x435)+_0xc717e6+_0x3cfc59(0x4b9)+_0xba224a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0xc717e6+0x1)+'\x20('+_0xba224a+_0x3cfc59(0x1fb)+_0x48ad73+_0x3cfc59(0x627)+_0x39660c+_0x3cfc59(0x83c);})[_0x292dc1(0x8bf)]('');_0x1551f9['innerHTML']=_0x1789b6;}async function handleSaveChanges(){const _0x3cc290=_0x2ee497,_0xd0ca97=document[_0x3cc290(0x339)](_0x3cc290(0x314));_0xd0ca97[_0x3cc290(0x154)]=!![],_0xd0ca97[_0x3cc290(0x7de)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x2b8b78=document[_0x3cc290(0x339)](_0x3cc290(0x36d))[_0x3cc290(0x2b8)],_0x5dbbce=document['querySelectorAll']('.question-editor-item');let _0x4cc8c1=[];const _0x469e24=Array['from'](_0x5dbbce)['map']((_0xa33516,_0x48e3ce)=>{const _0x2923e4=_0x3cc290,_0x463b4a=_0xa33516[_0x2923e4(0x185)][_0x2923e4(0x68c)],_0x13bb7c=_0xa33516[_0x2923e4(0x205)](_0x2923e4(0x593))['value'];let _0x4466f2={'questionType':_0x463b4a};const _0x453c44=currentEditingQuizData[_0x2923e4(0x2f4)][_0x48e3ce];switch(_0x463b4a){case _0x2923e4(0x73c):_0x4466f2[_0x2923e4(0x325)]=_0x13bb7c;const _0xb05ecd=_0xa33516[_0x2923e4(0x450)](_0x2923e4(0x594));_0x4466f2[_0x2923e4(0x7e1)]=Array['from'](_0xb05ecd)[_0x2923e4(0x71d)](_0x20fdce=>_0x20fdce[_0x2923e4(0x2b8)]);const _0x151603=_0xa33516['querySelector'](_0x2923e4(0x74b));_0x4466f2[_0x2923e4(0x75e)]=_0x151603?parseInt(_0x151603['value']):0x0;break;case _0x2923e4(0x324):_0x4466f2[_0x2923e4(0x325)]=_0x13bb7c,_0x4466f2[_0x2923e4(0x575)]=_0xa33516[_0x2923e4(0x205)](_0x2923e4(0x8a4))[_0x2923e4(0x2b8)];break;case _0x2923e4(0x354):_0x4466f2[_0x2923e4(0x325)]=_0x13bb7c;const _0x58dec5=_0xa33516[_0x2923e4(0x205)](_0x2923e4(0x74b));_0x4466f2['correctAnswer']=_0x58dec5?_0x58dec5[_0x2923e4(0x2b8)]===_0x2923e4(0x36f):!![];break;case _0x2923e4(0x368):_0x4466f2[_0x2923e4(0x37b)]=_0x13bb7c;const _0x3668e9=_0xa33516[_0x2923e4(0x205)]('.correct-response-input');_0x4466f2[_0x2923e4(0x41d)]=_0x3668e9?_0x3668e9[_0x2923e4(0x2b8)]:'',_0x4cc8c1['push'](_0x4466f2['correctResponse']);break;default:_0x4466f2[_0x2923e4(0x325)]=_0x13bb7c;break;}return{..._0x453c44,..._0x4466f2};});_0x4cc8c1[_0x3cc290(0x2fe)]>0x0&&_0x469e24[_0x3cc290(0x2f1)](_0x3b0450=>{const _0x31ca7c=_0x3cc290;_0x3b0450[_0x31ca7c(0x790)]===_0x31ca7c(0x368)&&(_0x3b0450[_0x31ca7c(0x8a0)]=_0x4cc8c1);});const _0x29f1cd=currentEditingQuizData['id'],_0x15e414=doc(db,'artifacts/'+appId+_0x3cc290(0x50f),_0x29f1cd);await updateDoc(_0x15e414,{'topic':_0x2b8b78,'questions':_0x469e24}),document[_0x3cc290(0x339)](_0x3cc290(0x4ab))['classList'][_0x3cc290(0x34f)]('hidden'),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x29f1cd));}catch(_0x4086c4){console['error'](_0x3cc290(0x739),_0x4086c4),showMessage(_0x3cc290(0x280));}finally{_0xd0ca97['disabled']=![],_0xd0ca97['innerHTML']=_0x3cc290(0x142);}}async function initiateReGradeProcess(_0x1953d4){const _0x1397aa=_0x2ee497;showMessage(_0x1397aa(0x529));try{const _0x40aa38=doc(db,_0x1397aa(0x100)+appId+_0x1397aa(0x50f),_0x1953d4),_0xe6f329=await getDoc(_0x40aa38);if(!_0xe6f329['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x12ff8e={'id':_0x1953d4,..._0xe6f329[_0x1397aa(0x656)]()},_0x2fedbc=collection(db,_0x1397aa(0x100)+appId+_0x1397aa(0x50f),_0x1953d4,_0x1397aa(0x53c)),_0x509940=await getDocs(_0x2fedbc);if(_0x509940[_0x1397aa(0x2b5)]){showMessage(_0x1397aa(0x548));return;}const _0x3ea66f=_0x509940[_0x1397aa(0x830)][_0x1397aa(0x71d)](_0x4ba3c4=>reGradeSingleSubmission(_0x4ba3c4,_0x12ff8e));await Promise[_0x1397aa(0x7d1)](_0x3ea66f);if(_0x12ff8e[_0x1397aa(0x2a2)]){const _0x19dc10=doc(db,_0x1397aa(0x100)+appId+_0x1397aa(0x537),_0x12ff8e[_0x1397aa(0x2a2)]),_0x205fd9=await getDoc(_0x19dc10);if(_0x205fd9[_0x1397aa(0x475)]()&&_0x205fd9[_0x1397aa(0x656)]()[_0x1397aa(0x3ba)]){const _0x31a76f=_0x205fd9[_0x1397aa(0x656)]()[_0x1397aa(0x3ba)]['map'](_0x23a447=>updateStudentProfile(_0x12ff8e['projectId'],_0x23a447));await Promise[_0x1397aa(0x7d1)](_0x31a76f);}}showMessage(_0x1397aa(0x6cc)+_0x509940[_0x1397aa(0x4ce)]+_0x1397aa(0x859));}catch(_0x23b702){console[_0x1397aa(0x4e7)](_0x1397aa(0x6c5),_0x23b702),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x23b702[_0x1397aa(0x63d)]);}}async function reGradeSingleSubmission(_0x246edd,_0x5b22cd){const _0x4cc3f9=_0x2ee497,_0x1a0727=_0x246edd[_0x4cc3f9(0x656)](),_0x237932=_0x1a0727[_0x4cc3f9(0x7af)],_0x4991cd=_0x1a0727[_0x4cc3f9(0x535)]||[],_0xfed1f6=[];for(const _0x41c958 of _0x4991cd){let _0x2b09ca=0x0,_0x1d3d5c=[],_0x2e7a6b=0x0;const _0x367647=[];for(const _0x1c1958 of _0x41c958['answers']){let _0x2576b3;_0x1c1958[_0x4cc3f9(0x337)]&&(_0x2576b3=_0x5b22cd[_0x4cc3f9(0x2f4)][_0x4cc3f9(0x5f9)](_0xf81660=>_0xf81660['id']===_0x1c1958[_0x4cc3f9(0x337)]));!_0x2576b3&&_0x1c1958['originalQuestionText']&&(_0x2576b3=_0x5b22cd['questions'][_0x4cc3f9(0x5f9)](_0xa37094=>(_0xa37094['stem']||_0xa37094[_0x4cc3f9(0x325)])===_0x1c1958[_0x4cc3f9(0x6f6)]));let _0x335641=![];if(_0x2576b3){const _0x3c0694=_0x2576b3[_0x4cc3f9(0x790)]||_0x5b22cd['quizType'];switch(_0x3c0694){case _0x4cc3f9(0x73c):if(_0x2576b3[_0x4cc3f9(0x7e1)]&&_0x2576b3[_0x4cc3f9(0x75e)]<_0x2576b3['options'][_0x4cc3f9(0x2fe)]){const _0x12d577=_0x2576b3[_0x4cc3f9(0x7e1)][_0x2576b3[_0x4cc3f9(0x75e)]];_0x335641=_0x1c1958[_0x4cc3f9(0x5b2)]===_0x12d577;}break;case _0x4cc3f9(0x354):const _0x5837c4=_0x1c1958['answer']===!![]||_0x1c1958[_0x4cc3f9(0x16e)]===_0x4cc3f9(0x36f);_0x335641=_0x5837c4===_0x2576b3[_0x4cc3f9(0x394)];break;case'matching_item':_0x335641=_0x1c1958[_0x4cc3f9(0x16e)]===_0x2576b3[_0x4cc3f9(0x41d)];break;case _0x4cc3f9(0x324):_0x335641=await gradeShortAnswer(_0x1c1958[_0x4cc3f9(0x16e)],_0x2576b3);break;default:_0x335641=_0x1c1958[_0x4cc3f9(0x358)];break;}}if(_0x335641){_0x2b09ca++,_0x2e7a6b++;if(_0x2e7a6b===0x3)_0x1d3d5c['push'](BADGES[_0x4cc3f9(0x10e)]['id']);}else _0x2e7a6b=0x0;_0x367647[_0x4cc3f9(0x447)]({..._0x1c1958,'isCorrect':_0x335641});}let _0x34f72e=_0x2b09ca*0xa;_0x2b09ca===_0x5b22cd['questions']['length']&&(_0x34f72e+=0x32,_0x1d3d5c['push'](BADGES[_0x4cc3f9(0x228)]['id'])),_0xfed1f6[_0x4cc3f9(0x447)]({..._0x41c958,'score':_0x2b09ca,'points':_0x34f72e,'badges':Array[_0x4cc3f9(0x7f9)](new Set(_0x1d3d5c)),'answers':_0x367647});}const _0x15ca41=_0xfed1f6[_0x4cc3f9(0x2fe)]>0x0?_0xfed1f6[0x0][_0x4cc3f9(0x13c)]:0x0,_0x5c9be9=Math[_0x4cc3f9(0x187)](..._0xfed1f6[_0x4cc3f9(0x71d)](_0x3eb1b4=>_0x3eb1b4['score'])),_0x2e29be=_0xfed1f6[_0x4cc3f9(0x2fe)]>0x0?_0xfed1f6[_0xfed1f6[_0x4cc3f9(0x2fe)]-0x1]['score']:0x0,_0x2e1490=_0xfed1f6[_0x4cc3f9(0x2fe)]>0x0?_0xfed1f6[_0xfed1f6[_0x4cc3f9(0x2fe)]-0x1][_0x4cc3f9(0x84d)]:0x0,_0x3685eb=doc(db,_0x4cc3f9(0x100)+appId+_0x4cc3f9(0x3ac)+_0x5b22cd['id']+'/submissions',_0x237932);await updateDoc(_0x3685eb,{'attempts':_0xfed1f6,'firstScore':_0x15ca41,'bestScore':_0x5c9be9,'latestScore':_0x2e29be,'points':_0x2e1490});}function cleanupQuizOptions(_0x3e6e02){const _0x1fa81d=_0x2ee497,_0x5b56aa=(_0x3a57b1,_0x26a596)=>_0x26a596===0x0?_0x3a57b1:_0x5b56aa(_0x26a596,_0x3a57b1%_0x26a596),_0x788724=_0x24f496=>{const _0x31d7ef=_0x1ea5;if(typeof _0x24f496!=='string')return null;_0x24f496=_0x24f496[_0x31d7ef(0x6df)]();const _0x4192b4=_0x24f496[_0x31d7ef(0x78a)](/[ /]/)['filter'](_0xb4289d=>_0xb4289d!=='');if(_0x4192b4[_0x31d7ef(0x2fe)]===0x3)return parseInt(_0x4192b4[0x0])+parseInt(_0x4192b4[0x1])/parseInt(_0x4192b4[0x2]);else{if(_0x4192b4['length']===0x2)return parseInt(_0x4192b4[0x0])/parseInt(_0x4192b4[0x1]);else{if(_0x4192b4[_0x31d7ef(0x2fe)]===0x1&&!isNaN(_0x4192b4[0x0]))return parseFloat(_0x4192b4[0x0]);}}return null;},_0x41c1e=_0xafe2bb=>{const _0x91048f=_0x1ea5;if(typeof _0xafe2bb!==_0x91048f(0x8ab))return _0xafe2bb;const _0x39b031=_0xafe2bb[_0x91048f(0x123)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x39b031){const _0x2a0ea=parseInt(_0x39b031[0x1]);let _0xcd551d=parseInt(_0x39b031[0x2]),_0x45af41=parseInt(_0x39b031[0x3]);const _0x1895bc=_0x5b56aa(_0xcd551d,_0x45af41);_0xcd551d/=_0x1895bc,_0x45af41/=_0x1895bc;if(_0x45af41===0x1)return(_0x2a0ea+_0xcd551d)[_0x91048f(0x289)]();return _0x2a0ea+'\x20'+_0xcd551d+'/'+_0x45af41;}return _0xafe2bb;};return _0x3e6e02&&_0x3e6e02[_0x1fa81d(0x2f4)]&&_0x3e6e02[_0x1fa81d(0x2f4)][_0x1fa81d(0x2f1)](_0x1afa94=>{const _0x4a2feb=_0x1fa81d;if(_0x1afa94[_0x4a2feb(0x790)]===_0x4a2feb(0x73c)&&_0x1afa94[_0x4a2feb(0x7e1)]){const _0x4b08d3=new Map(),_0xa9dbf6=_0x1afa94['options'][_0x1afa94[_0x4a2feb(0x75e)]];_0x1afa94[_0x4a2feb(0x7e1)][_0x4a2feb(0x2f1)](_0x554806=>{const _0x4384ee=_0x4a2feb,_0x4a22bc=_0x41c1e(_0x554806),_0x1e218b=_0x788724(_0x4a22bc);_0x1e218b!==null&&!_0x4b08d3['has'](_0x1e218b)&&_0x4b08d3[_0x4384ee(0x4b5)](_0x1e218b,_0x4a22bc);}),_0x1afa94['options']=Array[_0x4a2feb(0x7f9)](_0x4b08d3['values']());const _0x7621c2=_0x1afa94[_0x4a2feb(0x7e1)][_0x4a2feb(0x38b)](_0x581e8c=>_0x581e8c===_0x41c1e(_0xa9dbf6));_0x1afa94[_0x4a2feb(0x75e)]=_0x7621c2!==-0x1?_0x7621c2:0x0;}}),_0x3e6e02;}async function saveQuiz(){const _0x22220e=_0x2ee497;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x22220e(0x2f4)]||!userId){showMessage(_0x22220e(0x6b9));return;}const _0xc5bbd9=document['getElementById']('save-quiz-btn');_0xc5bbd9[_0x22220e(0x154)]=!![],_0xc5bbd9['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x499ea4=document[_0x22220e(0x339)](_0x22220e(0x83d))[_0x22220e(0x149)];let _0xc10c6e=document[_0x22220e(0x339)]('editable-quiz-topic')[_0x22220e(0x856)][_0x22220e(0x6df)]();_0x499ea4&&!_0xc10c6e[_0x22220e(0x27b)](_0x22220e(0x32c))&&(_0xc10c6e='(ก่อนเรียน)\x20'+_0xc10c6e);try{const _0x282bc8={'resultsDisplay':document['getElementById']('results-display-select')[_0x22220e(0x2b8)],'shuffle':document[_0x22220e(0x339)]('shuffle-setting-select')[_0x22220e(0x2b8)],'timerMode':document[_0x22220e(0x339)](_0x22220e(0x288))['value'],'timerDuration':parseInt(document[_0x22220e(0x339)](_0x22220e(0x14b))[_0x22220e(0x2b8)])||0xa,'passingScore':parseInt(document[_0x22220e(0x339)]('passing-score-input')[_0x22220e(0x2b8)])||0x0,'isAdaptive':document[_0x22220e(0x339)](_0x22220e(0x367))[_0x22220e(0x149)],'loopUntilPass':document[_0x22220e(0x339)](_0x22220e(0xf2))[_0x22220e(0x149)]},_0x50f9dc=(currentQuizData[_0x22220e(0x2f4)]||[])[_0x22220e(0x71d)]((_0x4a495c,_0xf80a2c)=>{const _0x38f3fd=_0x22220e,_0x3e4f5c=document[_0x38f3fd(0x339)](_0x38f3fd(0x5d8))[_0x38f3fd(0x2b8)],_0x24376d={'id':'q_'+Date['now']()+'_'+_0xf80a2c,'questionText':_0x4a495c['questionText']||'','explanation':_0x4a495c[_0x38f3fd(0x105)]||'ไม่มีคำอธิบาย','questionType':_0x4a495c[_0x38f3fd(0x790)]||_0x3e4f5c,'imageCode':_0x4a495c[_0x38f3fd(0x216)]||null};return(_0x24376d[_0x38f3fd(0x790)]===_0x38f3fd(0x73c)||_0x24376d[_0x38f3fd(0x790)]==='fill_in_with_choices'||_0x24376d[_0x38f3fd(0x790)]==='mixed'&&_0x4a495c['options'])&&(_0x24376d[_0x38f3fd(0x7e1)]=_0x4a495c[_0x38f3fd(0x7e1)]||[],_0x24376d['correctAnswerIndex']=_0x4a495c[_0x38f3fd(0x75e)]!==undefined?_0x4a495c['correctAnswerIndex']:0x0),(_0x24376d[_0x38f3fd(0x790)]===_0x38f3fd(0x324)||_0x24376d['questionType']===_0x38f3fd(0x604)||_0x24376d[_0x38f3fd(0x790)]==='mixed'&&_0x4a495c[_0x38f3fd(0x575)])&&(_0x24376d['idealAnswer']=_0x4a495c[_0x38f3fd(0x575)]||''),_0x24376d['questionType']===_0x38f3fd(0x354)&&(_0x24376d['correctAnswer']=_0x4a495c[_0x38f3fd(0x394)]===!![]),_0x24376d[_0x38f3fd(0x790)]===_0x38f3fd(0x368)&&(_0x24376d[_0x38f3fd(0x37b)]=_0x4a495c['stem']||'',_0x24376d[_0x38f3fd(0x41d)]=_0x4a495c[_0x38f3fd(0x41d)]||'',_0x24376d[_0x38f3fd(0x8a0)]=_0x4a495c[_0x38f3fd(0x8a0)]||[]),_0x24376d;}),_0x92ecc5={'topic':_0xc10c6e,'quizType':currentQuizData[_0x22220e(0x867)]||_0x22220e(0x73c),'questions':_0x50f9dc,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x22220e(0x70b)](),'status':_0x22220e(0x4ca),'settings':_0x282bc8,'quizMode':_0x499ea4?_0x22220e(0x7be):_0x22220e(0x2b7),'pairedQuizId':null,'lessonPlan':null};let _0x95b97;while(!![]){_0x95b97=Math[_0x22220e(0x6be)](0x3e8+Math[_0x22220e(0x26a)]()*0x2328)['toString']();const _0x4f07f4=await getDoc(doc(db,_0x22220e(0x100)+appId+'/public/data/quizzes',_0x95b97));if(!_0x4f07f4[_0x22220e(0x475)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x22220e(0x50f),_0x95b97),_0x92ecc5),currentQuizData[_0x22220e(0x481)]=_0x282bc8,currentQuizData['id']=_0x95b97;const _0x4cbb65=document['getElementById'](_0x22220e(0x41f));_0x4cbb65[_0x22220e(0x7de)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x95b97+_0x22220e(0x290),document[_0x22220e(0x339)](_0x22220e(0x4b2))['addEventListener'](_0x22220e(0x5c7),()=>copyTextToClipboard(_0x95b97,'คัดลอกรหัสแล้ว!')),document[_0x22220e(0x339)](_0x22220e(0x763))[_0x22220e(0x834)](_0x22220e(0x5c7),()=>handleStartLiveRace(_0x95b97)),document[_0x22220e(0x339)](_0x22220e(0x3a0))[_0x22220e(0x834)](_0x22220e(0x5c7),()=>startPresentation(currentQuizData)),document['getElementById'](_0x22220e(0xf5))['addEventListener']('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x15157d){console['error'](_0x22220e(0x573),_0x15157d),showMessage(_0x22220e(0x585)),_0xc5bbd9[_0x22220e(0x154)]=![],_0xc5bbd9[_0x22220e(0x7de)]=_0x22220e(0x287);}}function promptForProjectAndSave(){const _0x438f48=_0x2ee497,_0x2bab59=document['getElementById']('move-quiz-modal'),_0x3bc5f6=document[_0x438f48(0x339)](_0x438f48(0x87c)),_0x3db7d1=_0x2bab59['querySelector']('h3'),_0x115f79=document[_0x438f48(0x339)](_0x438f48(0x872));_0x3db7d1[_0x438f48(0x477)]='เลือกโปรเจคเพื่อบันทึก',_0x115f79[_0x438f48(0x477)]='เลือกและบันทึก';allProjects[_0x438f48(0x2fe)]===0x0?(_0x3bc5f6[_0x438f48(0x7de)]=_0x438f48(0x5e8),_0x115f79[_0x438f48(0x154)]=!![]):(_0x3bc5f6[_0x438f48(0x7de)]=allProjects[_0x438f48(0x71d)](_0x557527=>_0x438f48(0x118)+_0x557527['id']+'\x22>'+_0x557527[_0x438f48(0x72f)]+_0x438f48(0x715))[_0x438f48(0x8bf)](''),_0x115f79[_0x438f48(0x154)]=![]);_0x2bab59['classList'][_0x438f48(0x728)](_0x438f48(0x730));const _0x1a0270=()=>{const _0x5c74ab=_0x438f48,_0x19861c=_0x3bc5f6[_0x5c74ab(0x2b8)];_0x19861c?(currentProjectId=_0x19861c,_0x2bab59['classList'][_0x5c74ab(0x34f)](_0x5c74ab(0x730)),saveQuiz(),_0x3db7d1[_0x5c74ab(0x477)]=_0x5c74ab(0x54c),_0x115f79[_0x5c74ab(0x477)]=_0x5c74ab(0x5f1),_0x115f79[_0x5c74ab(0x7c1)](_0x5c74ab(0x5c7),_0x1a0270),_0x115f79['addEventListener'](_0x5c74ab(0x5c7),confirmMoveQuiz)):showMessage(_0x5c74ab(0x3f8));};_0x115f79['removeEventListener'](_0x438f48(0x5c7),confirmMoveQuiz),_0x115f79['addEventListener']('click',_0x1a0270);}function copyTextToClipboard(_0x3d4d0e,_0x3210db){const _0xfe38c9=_0x2ee497,_0x1d042c=document[_0xfe38c9(0x6c9)](_0xfe38c9(0x593));_0x1d042c[_0xfe38c9(0x2b8)]=_0x3d4d0e,_0x1d042c[_0xfe38c9(0x6fd)]['position']=_0xfe38c9(0x27c),_0x1d042c[_0xfe38c9(0x6fd)]['opacity']='0',document[_0xfe38c9(0x7c6)]['appendChild'](_0x1d042c),_0x1d042c[_0xfe38c9(0x15a)](),_0x1d042c[_0xfe38c9(0x8c1)]();try{const _0x4b0833=document[_0xfe38c9(0x82e)](_0xfe38c9(0x592));showMessage(_0x4b0833?_0x3210db:_0xfe38c9(0x16d));}catch(_0x2bc9c1){showMessage('คัดลอกไม่สำเร็จ'),console[_0xfe38c9(0x4e7)](_0xfe38c9(0x3a4),_0x2bc9c1);}document['body'][_0xfe38c9(0x43a)](_0x1d042c);}function listenForProjectQuizzes(_0x40cf74){const _0x35b3fb=_0x2ee497,_0x735b16=collection(db,_0x35b3fb(0x100)+appId+_0x35b3fb(0x50f)),_0x24e776=query(_0x735b16,where(_0x35b3fb(0x2a2),'==',_0x40cf74));unsubscribeQuizzesListener=onSnapshot(_0x24e776,async _0xd41397=>{const _0xe732f9=_0x35b3fb;allQuizzes=_0xd41397[_0xe732f9(0x830)][_0xe732f9(0x71d)](_0x31b927=>({'id':_0x31b927['id'],..._0x31b927[_0xe732f9(0x656)]()})),renderQuizzes();},_0x3c1377=>{const _0x3930f5=_0x35b3fb;console[_0x3930f5(0x4e7)](_0x3930f5(0x335),_0x3c1377),document[_0x3930f5(0x339)](_0x3930f5(0x278))[_0x3930f5(0x7de)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x492d8d=_0x2ee497,_0x47137e=document[_0x492d8d(0x339)]('project-quizzes-list'),_0xe65d27=document[_0x492d8d(0x339)]('quiz-search-input')[_0x492d8d(0x2b8)]['toLowerCase']();let _0x1d997f;currentProjectId==='starred'?_0x1d997f=starredQuizzes:_0x1d997f=allQuizzes;let _0x42da85=_0x1d997f['filter'](_0x4014fc=>_0x4014fc[_0x492d8d(0x5fb)][_0x492d8d(0x47d)]()[_0x492d8d(0x54e)](_0xe65d27));_0x42da85[_0x492d8d(0x377)]((_0x3ee1da,_0x2f99fe)=>new Date(_0x2f99fe[_0x492d8d(0x160)])-new Date(_0x3ee1da[_0x492d8d(0x160)]));if(_0x42da85['length']===0x0){_0x47137e[_0x492d8d(0x7de)]=_0x492d8d(0x412);return;}const _0x27944b={},_0xe4afb4=_0x42da85[_0x492d8d(0x71d)](async _0x2f0428=>{const _0x972206=_0x492d8d,_0x415eaa=collection(db,_0x972206(0x100)+appId+'/public/data/quizzes/'+_0x2f0428['id']+'/submissions'),_0x1a372d=await getDocs(_0x415eaa);_0x27944b[_0x2f0428['id']]=_0x1a372d['size'];});await Promise['all'](_0xe4afb4);let _0x54b7d8='';_0x42da85[_0x492d8d(0x2f1)](_0x528f73=>{const _0x3550c9=_0x492d8d,_0x2ae948=_0x27944b[_0x528f73['id']]||0x0,_0x119711=_0x528f73[_0x3550c9(0x675)]||_0x3550c9(0x4ca),_0x1d1648=_0x528f73[_0x3550c9(0x481)]?.[_0x3550c9(0x588)]||_0x3550c9(0x253);let _0x3d0ef6='',_0x1c9e08='';const _0x550c0c=new Date();let _0x5cbe54=_0x119711;if(_0x119711===_0x3550c9(0x1ff)){const _0x2b80d8=_0x528f73[_0x3550c9(0x3f6)]?new Date(_0x528f73[_0x3550c9(0x3f6)]):null,_0x135d1d=_0x528f73[_0x3550c9(0x321)]?new Date(_0x528f73[_0x3550c9(0x321)]):null;if(_0x135d1d&&_0x550c0c>_0x135d1d)_0x5cbe54=_0x3550c9(0x137);else _0x2b80d8&&_0x550c0c<_0x2b80d8?_0x5cbe54=_0x3550c9(0x78e):_0x5cbe54=_0x3550c9(0x4ca);}switch(_0x5cbe54){case _0x3550c9(0x137):_0x3d0ef6='ปิดใช้งาน',_0x1c9e08=_0x3550c9(0x70f);break;case _0x3550c9(0x78e):_0x3d0ef6=_0x3550c9(0x2fc),_0x1c9e08=_0x3550c9(0x732);break;case _0x3550c9(0x4ca):_0x3d0ef6=_0x1d1648!=='none'?_0x3550c9(0x499):_0x3550c9(0x883),_0x1c9e08='text-green-700\x20bg-green-100';break;default:_0x3d0ef6=_0x3550c9(0x3f4),_0x1c9e08=_0x3550c9(0x332);break;}let _0x588878='';const _0x353ea6={'day':_0x3550c9(0x530),'month':_0x3550c9(0x530),'year':_0x3550c9(0x2d9),'hour':_0x3550c9(0x530),'minute':_0x3550c9(0x530),'hour12':![]};if(_0x119711==='scheduled'){if(_0x528f73[_0x3550c9(0x3f6)])_0x588878+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x528f73[_0x3550c9(0x3f6)])[_0x3550c9(0x1c2)](_0x3550c9(0x4eb),_0x353ea6)+_0x3550c9(0x174);if(_0x528f73['endTime'])_0x588878+=_0x3550c9(0x74a)+new Date(_0x528f73[_0x3550c9(0x321)])[_0x3550c9(0x1c2)](_0x3550c9(0x4eb),_0x353ea6)+'</p>';}let _0x8b4d3b='';if(_0x528f73['pairedQuizId']){const _0x310c7c=allQuizzes['find'](_0xdec853=>_0xdec853['id']===_0x528f73[_0x3550c9(0x5bc)]);if(_0x310c7c){let _0x407217,_0x4fd0d5;new Date(_0x528f73['createdAt'])<new Date(_0x310c7c[_0x3550c9(0x160)])?(_0x407217=_0x528f73['id'],_0x4fd0d5=_0x310c7c['id']):(_0x407217=_0x310c7c['id'],_0x4fd0d5=_0x528f73['id']),_0x8b4d3b+=_0x3550c9(0x64f)+_0x4fd0d5+_0x3550c9(0x7c9)+_0x407217+_0x3550c9(0x6db);}}else _0x528f73['quizMode']==='pre-test'&&(_0x8b4d3b+=_0x3550c9(0xfc)+_0x528f73['id']+_0x3550c9(0x837));if(_0x528f73[_0x3550c9(0x700)]===_0x3550c9(0x7be)&&_0x2ae948>0x0)_0x8b4d3b+=_0x3550c9(0xfc)+_0x528f73['id']+_0x3550c9(0x3a7);else!_0x528f73[_0x3550c9(0x5bc)]&&_0x528f73['quizMode']!==_0x3550c9(0x7be)&&_0x2ae948>0x0&&(_0x8b4d3b+=_0x3550c9(0xfc)+_0x528f73['id']+_0x3550c9(0x413));let _0x51dc6f='';_0x528f73['pairedQuizId']?_0x51dc6f=_0x3550c9(0xf3)+_0x528f73['id']+_0x3550c9(0x857):_0x51dc6f=_0x3550c9(0xf3)+_0x528f73['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x54b7d8+=_0x3550c9(0x7da)+_0x528f73['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x528f73[_0x3550c9(0x5fb)]+_0x3550c9(0x894)+_0x528f73[_0x3550c9(0x2f4)][_0x3550c9(0x2fe)]+_0x3550c9(0x3e0)+new Date(_0x528f73[_0x3550c9(0x160)])['toLocaleString'](_0x3550c9(0x4eb))+_0x3550c9(0x176)+_0x2ae948+_0x3550c9(0x4bb)+_0x588878+_0x3550c9(0x5db)+_0x1c9e08+'\x22>'+_0x3d0ef6+_0x3550c9(0x239)+_0x528f73['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x528f73['id']+_0x3550c9(0x7b2)+(_0x528f73['isStarred']?_0x3550c9(0x6c6):_0x3550c9(0x3f0))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8b4d3b+_0x3550c9(0x3ad)+_0x528f73['id']+_0x3550c9(0x784)+_0x528f73['id']+_0x3550c9(0x652)+_0x528f73['id']+_0x3550c9(0x286)+_0x528f73['id']+_0x3550c9(0x7ec)+_0x528f73['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x528f73['id']+_0x3550c9(0x23b)+_0x528f73['id']+_0x3550c9(0xe9)+_0x528f73['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x528f73['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x528f73['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51dc6f+_0x3550c9(0x758)+_0x528f73['id']+_0x3550c9(0x3ea)+_0x528f73['id']+_0x3550c9(0x177)+_0x528f73['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x528f73['id']+_0x3550c9(0x2f9)+_0x528f73['id']+'\x22\x20data-topic=\x22'+_0x528f73['topic']+_0x3550c9(0x546)+_0x528f73['id']+_0x3550c9(0x57e);}),_0x47137e[_0x492d8d(0x7de)]=_0x54b7d8,document[_0x492d8d(0x450)](_0x492d8d(0x889))['forEach'](_0xf5bb2d=>{const _0x543fe0=_0x492d8d;_0xf5bb2d['addEventListener'](_0x543fe0(0x5c7),()=>{const _0x1d77e5=_0x543fe0,_0x5ad84b=_0xf5bb2d[_0x1d77e5(0x185)][_0x1d77e5(0x6ca)];showQuizDetailView(_0x5ad84b);});});}async function handleUnpairQuiz(_0x31ba6d){const _0x1074b2=_0x2ee497,_0x121f73=allQuizzes['find'](_0x1ae9c7=>_0x1ae9c7['id']===_0x31ba6d);if(!_0x121f73||!_0x121f73[_0x1074b2(0x5bc)]){showMessage(_0x1074b2(0x7fa));return;}showConfirmation(_0x1074b2(0x884),async()=>{const _0x4eae58=_0x1074b2;try{const _0x46eacc=doc(db,_0x4eae58(0x100)+appId+_0x4eae58(0x50f),_0x31ba6d),_0x43f61b=doc(db,_0x4eae58(0x100)+appId+_0x4eae58(0x50f),_0x121f73['pairedQuizId']),_0x1cd486=writeBatch(db);_0x1cd486[_0x4eae58(0x3e7)](_0x46eacc,{'pairedQuizId':null}),_0x1cd486[_0x4eae58(0x3e7)](_0x43f61b,{'pairedQuizId':null}),await _0x1cd486['commit'](),showMessage(_0x4eae58(0x632));}catch(_0xde5b18){console[_0x4eae58(0x4e7)]('Error\x20unpairing\x20quizzes:',_0xde5b18),showMessage(_0x4eae58(0x822));}});}function formatAndPrintLessonPlan(_0x2c1c9f,_0x4cf00e){const _0x547a2d=_0x2ee497,_0x4fa1f4=window[_0x547a2d(0x400)]('','_blank'),_0x27a050=_0x547a2d(0x484)+_0x4cf00e[_0x547a2d(0x5fb)]+_0x547a2d(0x318)+_0x4cf00e[_0x547a2d(0x5fb)]+_0x547a2d(0x240)+_0x2c1c9f[_0x547a2d(0x85f)][_0x547a2d(0x71d)](_0x59b6ea=>_0x547a2d(0x734)+_0x59b6ea+'</li>')[_0x547a2d(0x8bf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x2c1c9f['teachingContent']+_0x547a2d(0x302)+_0x2c1c9f['practiceProblems'][_0x547a2d(0x71d)](_0x2186df=>_0x547a2d(0x225)+_0x2186df['question']+_0x547a2d(0x223)+_0x2186df[_0x547a2d(0x28f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x547a2d(0x8bf)]('')+_0x547a2d(0x6e2);_0x4fa1f4[_0x547a2d(0x820)][_0x547a2d(0x518)](_0x27a050),_0x4fa1f4[_0x547a2d(0x820)][_0x547a2d(0x126)](),_0x4fa1f4[_0x547a2d(0x191)]=function(){setTimeout(()=>{const _0x453706=_0x1ea5;_0x4fa1f4[_0x453706(0x88f)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x1e0378){const _0x2ba886=_0x2ee497;showMessage(_0x2ba886(0x366));try{const _0x553028=doc(db,_0x2ba886(0x100)+appId+_0x2ba886(0x50f),_0x1e0378),_0x25b005=await getDoc(_0x553028);if(!_0x25b005[_0x2ba886(0x475)]())throw new Error(_0x2ba886(0x800));const _0xf6d3a3={'id':_0x1e0378,..._0x25b005[_0x2ba886(0x656)]()},_0x42dbf6=collection(db,_0x2ba886(0x100)+appId+_0x2ba886(0x50f),_0x1e0378,'submissions'),_0x16f823=await getDocs(_0x42dbf6),_0x3b41ff=_0x16f823[_0x2ba886(0x830)][_0x2ba886(0x71d)](_0x340607=>_0x340607[_0x2ba886(0x656)]());if(_0x3b41ff[_0x2ba886(0x2fe)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x2af166=calculateItemAnalysis(_0xf6d3a3,_0x3b41ff)[_0x2ba886(0x80f)],_0x1a809f=calculateDistractorAnalysis(_0xf6d3a3,_0x3b41ff),_0x5f0ae4=_0x29c8cd=>{const _0x2a73cd=_0x2ba886;if(!_0x29c8cd)return'';return _0x29c8cd[_0x2a73cd(0x16b)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x2a73cd(0x16b)](/\n/g,'\x5cn');};let _0x153b54=_0x2ba886(0x4de);_0xf6d3a3['questions'][_0x2ba886(0x2f1)]((_0xc45f9b,_0x2b47c9)=>{const _0x33a094=_0x2ba886,_0x273bb8=_0x2af166[_0x2b47c9]?.['p'][_0x33a094(0x83e)](0x2)||_0x33a094(0x78d),_0x39b198=_0x2af166[_0x2b47c9]?.['r'][_0x33a094(0x83e)](0x2)||_0x33a094(0x78d),_0xf4b33e=_0x5f0ae4(_0xc45f9b['questionText']||_0xc45f9b[_0x33a094(0x37b)]);_0x153b54+=_0x33a094(0x86c)+(_0x2b47c9+0x1)+_0x33a094(0x4dd)+_0x273bb8+_0x33a094(0x232)+_0x39b198+'):\x20'+_0xf4b33e+'\x5cn';if(_0xc45f9b[_0x33a094(0x790)]==='multiple_choice'&&_0x1a809f[_0x2b47c9]){const _0x33d3dc=_0x1a809f[_0x2b47c9],_0x4a6888=Object[_0x33a094(0x58b)](_0x33d3dc)[_0x33a094(0x802)](_0x5d714c=>parseInt(_0x5d714c)!==_0xc45f9b[_0x33a094(0x75e)])['sort']((_0x4b3ef6,_0x5078bd)=>_0x33d3dc[_0x5078bd][_0x33a094(0x6bb)]-_0x33d3dc[_0x4b3ef6][_0x33a094(0x6bb)])[0x0];if(_0x4a6888&&_0x33d3dc[_0x4a6888][_0x33a094(0x6bb)]>0x0){const _0x484113=_0x5f0ae4(_0x33d3dc[_0x4a6888][_0x33a094(0x67c)]);_0x153b54+=_0x33a094(0x7a8)+_0x484113+_0x33a094(0x45b);}}});const _0x276bb4=_0x2ba886(0x75a)+_0xf6d3a3[_0x2ba886(0x5fb)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x153b54+_0x2ba886(0x136),_0xacc0db={'type':'OBJECT','properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x2ba886(0x5e0)}},'teachingContent':{'type':_0x2ba886(0x5e0)},'practiceProblems':{'type':_0x2ba886(0xfb),'items':{'type':'OBJECT','properties':{'question':{'type':_0x2ba886(0x5e0)},'solution':{'type':_0x2ba886(0x5e0)}}}}},'required':[_0x2ba886(0x85f),_0x2ba886(0x5d0),_0x2ba886(0x2dd)]},_0x389a9e=await callAnalysisApi(_0x276bb4,_0xacc0db);await updateDoc(_0x553028,{'lessonPlan':_0x389a9e});const _0x57911d=_0x2ba886(0x143)+_0xf6d3a3['topic']+_0x2ba886(0x7b1)+_0x389a9e['learningGaps'][_0x2ba886(0x71d)](_0x4bd5b3=>_0x2ba886(0x734)+_0x4bd5b3+_0x2ba886(0x201))[_0x2ba886(0x8bf)]('')+_0x2ba886(0x4b6)+_0x389a9e[_0x2ba886(0x5d0)]+_0x2ba886(0x3db)+_0x389a9e['practiceProblems'][_0x2ba886(0x71d)](_0x4b8788=>_0x2ba886(0x1b2)+_0x4b8788[_0x2ba886(0x638)]+_0x2ba886(0x748)+_0x4b8788[_0x2ba886(0x28f)]+_0x2ba886(0x45e))['join']('')+_0x2ba886(0x2a9);document[_0x2ba886(0x339)](_0x2ba886(0x7b0))[_0x2ba886(0x477)]='แผนการสอน:\x20'+_0xf6d3a3['topic'],document[_0x2ba886(0x339)]('lesson-plan-content')[_0x2ba886(0x7de)]=_0x57911d,document[_0x2ba886(0x339)]('lesson-plan-modal')[_0x2ba886(0xe6)][_0x2ba886(0x728)](_0x2ba886(0x730));if(window[_0x2ba886(0x20e)])MathJax[_0x2ba886(0x190)]();messageModal[_0x2ba886(0xe6)][_0x2ba886(0x34f)](_0x2ba886(0x730));}catch(_0xb108f9){console['error'](_0x2ba886(0x283),_0xb108f9),showMessage(_0x2ba886(0x13a)+_0xb108f9[_0x2ba886(0x63d)]);}}async function handleDuplicateQuiz(_0x3a1d89){const _0x37fa6c=_0x2ee497;try{const _0x10232d=doc(db,_0x37fa6c(0x100)+appId+_0x37fa6c(0x50f),_0x3a1d89),_0x7ea43f=await getDoc(_0x10232d);if(_0x7ea43f[_0x37fa6c(0x475)]()){const _0x1e2ab2=_0x7ea43f['data']();let _0x44ba1c='',_0x272e65='standard',_0x479906=null;if(_0x1e2ab2[_0x37fa6c(0x700)]===_0x37fa6c(0x7be)){let _0x877af=_0x1e2ab2[_0x37fa6c(0x5fb)][_0x37fa6c(0x16b)](_0x37fa6c(0x32c),'')[_0x37fa6c(0x6df)]();_0x44ba1c='(หลังเรียน)\x20'+_0x877af,_0x272e65=_0x37fa6c(0x6a6),_0x479906=_0x3a1d89;}else _0x44ba1c=_0x37fa6c(0xd1)+_0x1e2ab2['topic'];const _0x224b43={..._0x1e2ab2,'topic':_0x44ba1c,'createdAt':new Date()[_0x37fa6c(0x70b)](),'quizMode':_0x272e65,'pairedQuizId':_0x479906};let _0x255d15;while(!![]){_0x255d15=Math[_0x37fa6c(0x6be)](0x3e8+Math[_0x37fa6c(0x26a)]()*0x2328)[_0x37fa6c(0x289)]();const _0x5c4b33=await getDoc(doc(db,_0x37fa6c(0x100)+appId+_0x37fa6c(0x50f),_0x255d15));if(!_0x5c4b33[_0x37fa6c(0x475)]())break;}const _0xdd8dc7=doc(db,_0x37fa6c(0x100)+appId+_0x37fa6c(0x50f),_0x255d15);await setDoc(_0xdd8dc7,_0x224b43),_0x224b43[_0x37fa6c(0x700)]===_0x37fa6c(0x6a6)&&await updateDoc(_0x10232d,{'pairedQuizId':_0x255d15}),showMessage(_0x37fa6c(0x452));}else throw new Error(_0x37fa6c(0x81d));}catch(_0x1edbee){console[_0x37fa6c(0x4e7)]('Error\x20duplicating\x20quiz:',_0x1edbee),showMessage(_0x37fa6c(0x25c));}}async function handleDeleteQuiz(_0xec60a1,_0x4bd4dd=!![]){const _0x187dd2=_0x2ee497;try{const _0x4daba9=writeBatch(db),_0x5a2073=collection(db,_0x187dd2(0x100)+appId+_0x187dd2(0x3ac)+_0xec60a1+_0x187dd2(0x607)),_0x2109f8=await getDocs(_0x5a2073);_0x2109f8['forEach'](_0x49e186=>{const _0x5d1c43=_0x187dd2;_0x4daba9[_0x5d1c43(0x110)](doc(_0x5a2073,_0x49e186['id']));});const _0x4e9a5c=doc(db,_0x187dd2(0x100)+appId+_0x187dd2(0x50f),_0xec60a1);_0x4daba9['delete'](_0x4e9a5c),await _0x4daba9[_0x187dd2(0x712)](),_0x4bd4dd&&showMessage(_0x187dd2(0x677));}catch(_0x26313c){console[_0x187dd2(0x4e7)](_0x187dd2(0x33d),_0x26313c),_0x4bd4dd&&showMessage(_0x187dd2(0x24d));}}async function showQuizDetailView(_0x298302){const _0x5bdf95=_0x2ee497;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x5bdf95(0x138));try{const _0x23b011=doc(db,_0x5bdf95(0x100)+appId+_0x5bdf95(0x50f),_0x298302),_0x48ac4e=await getDoc(_0x23b011);if(!_0x48ac4e[_0x5bdf95(0x475)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x44bc57={'id':_0x48ac4e['id'],..._0x48ac4e[_0x5bdf95(0x656)]()};currentQuizData=_0x44bc57;const _0x126edf=doc(db,'artifacts/'+appId+'/public/data/projects',_0x44bc57[_0x5bdf95(0x2a2)]),_0x138161=await getDoc(_0x126edf);_0x138161[_0x5bdf95(0x475)]()?(currentProjectData=_0x138161[_0x5bdf95(0x656)](),currentProjectId=_0x44bc57[_0x5bdf95(0x2a2)]):(currentProjectData={'students':[]},currentProjectId=_0x44bc57[_0x5bdf95(0x2a2)]);document[_0x5bdf95(0x339)]('results-quiz-title')[_0x5bdf95(0x477)]=_0x44bc57[_0x5bdf95(0x5fb)],document[_0x5bdf95(0x339)](_0x5bdf95(0x38a))[_0x5bdf95(0x477)]=_0x298302;const _0x3834ac=collection(db,_0x5bdf95(0x100)+appId+_0x5bdf95(0x50f),_0x298302,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x3834ac,_0x5f3c36=>{const _0x256443=_0x5bdf95,_0x17dab=_0x5f3c36[_0x256443(0x830)]['map'](_0x24813f=>({'id':_0x24813f['id'],..._0x24813f[_0x256443(0x656)]()}));currentSubmissions=_0x17dab;const _0x1cf734=_0x17dab['filter'](_0x358f9a=>_0x358f9a[_0x256443(0x535)]&&_0x358f9a[_0x256443(0x535)][_0x256443(0x2fe)]>0x0);renderBehaviorLog(_0x17dab),renderAnswerGrid(currentProjectData['students'],_0x1cf734,_0x44bc57),renderAnalytics(_0x44bc57,_0x1cf734),renderQuizResultsTable(currentProjectData[_0x256443(0x3ba)],_0x17dab,_0x44bc57),renderQuizLeaderboard(_0x1cf734,_0x44bc57,_0x256443(0x4f2));}),showView(_0x5bdf95(0x442));}catch(_0x3fb2a0){console['error'](_0x5bdf95(0x4d1),_0x3fb2a0),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x38b6f5,_0x2d6c0f,_0x1da92a){const _0x1498d7=_0x2ee497,_0x578729=document[_0x1498d7(0x339)](_0x1498d7(0x5a8));if(!_0x578729)return;if(!_0x38b6f5||_0x38b6f5[_0x1498d7(0x2fe)]===0x0){_0x578729[_0x1498d7(0x7de)]=_0x1498d7(0x37a);return;}const _0x25616c=_0x1da92a['questions'],_0x332c72=_0x2d6c0f[_0x1498d7(0x24a)]((_0x4a3987,_0x1e7ebb)=>{const _0x42bc0c=_0x1498d7;return _0x4a3987[_0x1e7ebb[_0x42bc0c(0x7af)]]=_0x1e7ebb,_0x4a3987;},{}),_0x20876e=_0x3b3aa6=>String['fromCharCode'](0x41+_0x3b3aa6),_0x129a1b=_0x3418c0=>{const _0x2246fd=_0x1498d7,_0x2f7e1f=_0x3418c0[_0x2246fd(0x790)]||_0x1da92a[_0x2246fd(0x867)];switch(_0x2f7e1f){case _0x2246fd(0x73c):return _0x3418c0[_0x2246fd(0x7e1)]&&_0x3418c0['options']['length']>_0x3418c0[_0x2246fd(0x75e)]?_0x20876e(_0x3418c0[_0x2246fd(0x75e)]):'-';case'true_false':return _0x3418c0[_0x2246fd(0x394)]?_0x2246fd(0x32d):'ไม่ใช่';case _0x2246fd(0x368):return _0x3418c0[_0x2246fd(0x41d)]||'-';case'short_answer':return _0x2246fd(0x41c);default:return'-';}},_0x5daa97=(_0x1ad416,_0x33189d)=>{const _0x31fab9=_0x1498d7;if(_0x33189d[_0x31fab9(0x16e)]===null||_0x33189d[_0x31fab9(0x16e)]===undefined)return'-';const _0x3950a7=_0x1ad416[_0x31fab9(0x790)]||_0x1da92a[_0x31fab9(0x867)];switch(_0x3950a7){case _0x31fab9(0x73c):const _0x3e70c0=_0x1ad416[_0x31fab9(0x7e1)]['findIndex'](_0x5c6d8d=>_0x5c6d8d===_0x33189d[_0x31fab9(0x5b2)]);return _0x3e70c0!==-0x1?_0x20876e(_0x3e70c0):_0x33189d['answerText']||'-';case _0x31fab9(0x354):return _0x33189d[_0x31fab9(0x16e)]===_0x31fab9(0x36f)||_0x33189d[_0x31fab9(0x16e)]===!![]?_0x31fab9(0x32d):_0x31fab9(0x171);default:return _0x33189d[_0x31fab9(0x16e)];}};let _0x178935=_0x1498d7(0xe1)+_0x25616c['map']((_0x1b07e1,_0x4db7b7)=>_0x1498d7(0x4ea)+(_0x4db7b7+0x1)+'</th>')[_0x1498d7(0x8bf)]('')+_0x1498d7(0x3fd)+_0x25616c[_0x1498d7(0x71d)](_0xf19661=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x129a1b(_0xf19661)+_0x1498d7(0x80c))[_0x1498d7(0x8bf)]('')+_0x1498d7(0x63a);_0x38b6f5[_0x1498d7(0x2f1)](_0x329c12=>{const _0x54409d=_0x1498d7;_0x178935+='<tr>',_0x178935+=_0x54409d(0x2d4)+_0x329c12+_0x54409d(0x80c);const _0x534029=_0x332c72[_0x329c12];if(_0x534029){const _0x5c1c61=_0x534029[_0x54409d(0x535)][_0x534029[_0x54409d(0x535)]['length']-0x1];_0x25616c['forEach']((_0x211949,_0x3d26da)=>{const _0x46ab5c=_0x54409d,_0x53b656=_0x5c1c61['answers']['find'](_0x119e17=>_0x119e17[_0x46ab5c(0x6f6)]===(_0x211949[_0x46ab5c(0x37b)]||_0x211949[_0x46ab5c(0x325)]));if(_0x53b656){let _0x33d65c=![];const _0x5149d6=_0x211949['questionType']||_0x1da92a[_0x46ab5c(0x867)];if(_0x53b656[_0x46ab5c(0x16e)]!==null&&_0x53b656[_0x46ab5c(0x16e)]!==undefined)switch(_0x5149d6){case _0x46ab5c(0x73c):const _0x318525=_0x211949[_0x46ab5c(0x7e1)][_0x211949[_0x46ab5c(0x75e)]];_0x33d65c=_0x53b656[_0x46ab5c(0x5b2)]===_0x318525;break;case'true_false':const _0x1b0093=_0x53b656['answer']===!![]||_0x53b656[_0x46ab5c(0x16e)]===_0x46ab5c(0x36f);_0x33d65c=_0x1b0093===_0x211949[_0x46ab5c(0x394)];break;case _0x46ab5c(0x368):_0x33d65c=_0x53b656[_0x46ab5c(0x16e)]===_0x211949['correctResponse'];break;default:_0x33d65c=_0x53b656[_0x46ab5c(0x358)];break;}const _0x338a52=_0x33d65c?_0x46ab5c(0x4da):_0x46ab5c(0x3de);_0x178935+=_0x46ab5c(0x2c9)+_0x338a52+'\x22>'+_0x5daa97(_0x211949,_0x53b656)+_0x46ab5c(0x80c);}else _0x178935+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x178935+=_0x25616c[_0x54409d(0x71d)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x54409d(0x8bf)]('');_0x178935+=_0x54409d(0x882);}),_0x178935+=_0x1498d7(0x3d3),_0x578729[_0x1498d7(0x7de)]=_0x178935;}function renderQuizResultsTable(_0x177ecb,_0x34eb37,_0x4c70a8){const _0x2f4a46=_0x2ee497,_0x6c68eb=_0x34eb37['reduce']((_0xe5a344,_0x4ebb1f)=>{return _0xe5a344[_0x4ebb1f['studentName']]=_0x4ebb1f,_0xe5a344;},{}),_0x43b817=document[_0x2f4a46(0x205)](_0x2f4a46(0x89e));_0x43b817&&!_0x43b817[_0x2f4a46(0x7de)]['includes'](_0x2f4a46(0xff))&&(_0x43b817[_0x2f4a46(0x7de)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0xd4e4a6=document[_0x2f4a46(0x339)]('quiz-results-table-body');if(!_0x177ecb||_0x177ecb[_0x2f4a46(0x2fe)]===0x0){_0xd4e4a6[_0x2f4a46(0x7de)]=_0x2f4a46(0x21f);return;}const _0x3177dc=_0x4c70a8['isRemedial']===!![],_0x4f037c=_0x4c70a8[_0x2f4a46(0x481)]?.[_0x2f4a46(0x342)]??-0x1;let _0xe598f1='';_0x177ecb[_0x2f4a46(0x2f1)](_0x1b406f=>{const _0x45cfa9=_0x2f4a46,_0x417e03=_0x6c68eb[_0x1b406f];let _0x4bcfdb='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x3177dc?_0x45cfa9(0x77e):_0x45cfa9(0x598))+'\x22>'+(_0x3177dc?_0x45cfa9(0x1be):_0x45cfa9(0x3c1))+'</span></td>';if(_0x417e03){if(_0x417e03[_0x45cfa9(0x535)]&&_0x417e03[_0x45cfa9(0x535)][_0x45cfa9(0x2fe)]>0x0){let _0x56ca48=_0x3177dc?_0x417e03['bestScore']===_0x417e03['totalQuestions']:_0x4f037c!==-0x1&&_0x417e03['bestScore']>=_0x4f037c;const _0x172b17=_0x56ca48?_0x45cfa9(0x636):_0x45cfa9(0x756),_0x77362a=_0x56ca48?_0x45cfa9(0x303):_0x45cfa9(0x12e),_0xdbd877=_0x45cfa9(0x2ad)+_0x172b17+'\x22>'+_0x77362a+'</span></td>',_0x2977c2=_0x45cfa9(0x102)+(_0x417e03[_0x45cfa9(0x535)]?.[_0x45cfa9(0x2fe)]||0x1)+_0x45cfa9(0x1e9);_0xe598f1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1b406f+_0x45cfa9(0x1e4)+_0x417e03[_0x45cfa9(0x653)]+_0x45cfa9(0x3d5)+_0x417e03[_0x45cfa9(0x60f)]+_0x45cfa9(0x5b8)+_0xdbd877+_0x45cfa9(0x815)+_0x4bcfdb+_0x45cfa9(0x1a3)+_0x417e03[_0x45cfa9(0x4aa)]+'\x20/\x20'+_0x417e03[_0x45cfa9(0x60f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x417e03['latestScore']+_0x45cfa9(0x3d5)+_0x417e03[_0x45cfa9(0x60f)]+_0x45cfa9(0x566)+(_0x417e03[_0x45cfa9(0x84d)]||0x0)+_0x45cfa9(0x5b8)+_0x2977c2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x417e03[_0x45cfa9(0x16a)])[_0x45cfa9(0x1c2)](_0x45cfa9(0x4eb))+_0x45cfa9(0x500)+_0x1b406f+_0x45cfa9(0x66c);}else{const _0x3f2dd7=_0x45cfa9(0x1e6);_0xe598f1+=_0x45cfa9(0x407)+_0x1b406f+_0x45cfa9(0x364)+_0x4bcfdb+_0x45cfa9(0x72e)+_0x3f2dd7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x417e03[_0x45cfa9(0x552)])[_0x45cfa9(0x1c2)]('th-TH')+_0x45cfa9(0x67a)+_0x1b406f+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0xd6411e=_0x45cfa9(0x3b0);_0xe598f1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1b406f+_0x45cfa9(0x40a)+_0x4bcfdb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd6411e+_0x45cfa9(0x709);}}),_0xd4e4a6[_0x2f4a46(0x7de)]=_0xe598f1;}async function confirmRenameQuiz(){const _0x897af2=_0x2ee497,_0x322f80=document['getElementById'](_0x897af2(0x6b7))[_0x897af2(0x2b8)]['trim']();if(!_0x322f80){showMessage(_0x897af2(0x434));return;}if(!actionTargetId)return;const _0xf18911=doc(db,_0x897af2(0x100)+appId+_0x897af2(0x50f),actionTargetId);try{await updateDoc(_0xf18911,{'topic':_0x322f80}),showMessage(_0x897af2(0x4ae)),renameQuizModal[_0x897af2(0xe6)][_0x897af2(0x34f)](_0x897af2(0x730)),actionTargetId=null;}catch(_0x2a4d77){console['error'](_0x897af2(0x5de),_0x2a4d77),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x391cca){const _0x526d15=_0x2ee497;actionTargetId=_0x391cca;const _0x125641=document[_0x526d15(0x339)](_0x526d15(0x87c));_0x125641[_0x526d15(0x7de)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x526d15(0xe6)]['remove'](_0x526d15(0x730));try{const _0x43e6aa=collection(db,'artifacts/'+appId+_0x526d15(0x537)),_0x2333ef=await getDocs(_0x43e6aa),_0x5164fd=_0x2333ef[_0x526d15(0x830)][_0x526d15(0x71d)](_0x22862a=>({'id':_0x22862a['id'],..._0x22862a['data']()})),_0x10a20d=_0x5164fd[_0x526d15(0x802)](_0x5c2f1c=>_0x5c2f1c['id']!==currentProjectId);if(_0x10a20d[_0x526d15(0x2fe)]===0x0){_0x125641[_0x526d15(0x7de)]=_0x526d15(0x7c2),document[_0x526d15(0x339)](_0x526d15(0x872))[_0x526d15(0x154)]=!![];return;}_0x125641[_0x526d15(0x7de)]=_0x10a20d[_0x526d15(0x71d)](_0x41fcdf=>_0x526d15(0x118)+_0x41fcdf['id']+'\x22>'+_0x41fcdf[_0x526d15(0x72f)]+_0x526d15(0x715))[_0x526d15(0x8bf)](''),document[_0x526d15(0x339)](_0x526d15(0x872))[_0x526d15(0x154)]=![];}catch(_0x379281){console[_0x526d15(0x4e7)](_0x526d15(0x167),_0x379281),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x526d15(0xe6)][_0x526d15(0x34f)](_0x526d15(0x730));}}async function confirmMoveQuiz(){const _0x3b220f=_0x2ee497,_0xaf2e87=document[_0x3b220f(0x339)](_0x3b220f(0x87c))[_0x3b220f(0x2b8)];if(!_0xaf2e87){showMessage(_0x3b220f(0x574));return;}if(!actionTargetId)return;const _0x1acddd=doc(db,_0x3b220f(0x100)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1acddd,{'projectId':_0xaf2e87}),showMessage(_0x3b220f(0x3cc)),moveQuizModal[_0x3b220f(0xe6)][_0x3b220f(0x34f)]('hidden'),actionTargetId=null;}catch(_0xf07c69){console['error'](_0x3b220f(0x49b),_0xf07c69),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x35b830){const _0x3e90a9=_0x2ee497;actionTargetId=_0x35b830;const _0x3870db=doc(db,_0x3e90a9(0x100)+appId+_0x3e90a9(0x50f),_0x35b830);try{const _0x4b115c=await getDoc(_0x3870db);if(_0x4b115c[_0x3e90a9(0x475)]()){const _0x4193c0=_0x4b115c[_0x3e90a9(0x656)](),_0x21270f=_0x4193c0[_0x3e90a9(0x481)]||{},_0x23abe2=_0x4193c0[_0x3e90a9(0x2f4)][_0x3e90a9(0x2fe)];document['getElementById']('modal-shuffle-select')[_0x3e90a9(0x2b8)]=_0x21270f['shuffle']||_0x3e90a9(0x253),document[_0x3e90a9(0x339)]('modal-results-display-select')[_0x3e90a9(0x2b8)]=_0x21270f[_0x3e90a9(0x70d)]||'show_results_and_answers',document[_0x3e90a9(0x339)](_0x3e90a9(0x6cb))['value']=_0x21270f[_0x3e90a9(0x588)]||'none',document[_0x3e90a9(0x339)](_0x3e90a9(0x744))[_0x3e90a9(0x2b8)]=_0x21270f[_0x3e90a9(0x69b)]||0xa,document[_0x3e90a9(0x339)](_0x3e90a9(0x465))[_0x3e90a9(0x2b8)]=_0x21270f[_0x3e90a9(0x342)]||Math[_0x3e90a9(0x6be)](_0x23abe2/0x2),document[_0x3e90a9(0x339)]('modal-passing-score-input')['max']=_0x23abe2,document[_0x3e90a9(0x339)](_0x3e90a9(0x836))[_0x3e90a9(0x149)]=_0x21270f['isAdaptive']||![],document[_0x3e90a9(0x339)](_0x3e90a9(0x42a))[_0x3e90a9(0x149)]=_0x21270f[_0x3e90a9(0x512)]||![],document['getElementById']('modal-timer-mode-select')[_0x3e90a9(0x8bb)](new Event(_0x3e90a9(0x31d))),quizSettingsModal['classList'][_0x3e90a9(0x728)]('hidden');}else showMessage(_0x3e90a9(0x800));}catch(_0x3f100f){console[_0x3e90a9(0x4e7)]('Error\x20fetching\x20quiz\x20settings:',_0x3f100f),showMessage(_0x3e90a9(0x676));}}async function confirmQuizSettings(){const _0x4a5c2f=_0x2ee497;if(!actionTargetId)return;const _0x26422d=doc(db,_0x4a5c2f(0x100)+appId+'/public/data/quizzes',actionTargetId),_0x22b129={'shuffle':document[_0x4a5c2f(0x339)]('modal-shuffle-select')[_0x4a5c2f(0x2b8)],'resultsDisplay':document['getElementById']('modal-results-display-select')['value'],'timerMode':document[_0x4a5c2f(0x339)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document[_0x4a5c2f(0x339)](_0x4a5c2f(0x744))[_0x4a5c2f(0x2b8)])||0xa,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')['value'])||0x0,'passingScore':parseInt(document[_0x4a5c2f(0x339)](_0x4a5c2f(0x465))['value'])||0x0,'isAdaptive':document[_0x4a5c2f(0x339)](_0x4a5c2f(0x836))[_0x4a5c2f(0x149)],'loopUntilPass':document[_0x4a5c2f(0x339)](_0x4a5c2f(0x42a))[_0x4a5c2f(0x149)]};try{await updateDoc(_0x26422d,{'settings':_0x22b129}),showMessage(_0x4a5c2f(0x8ca)),quizSettingsModal['classList'][_0x4a5c2f(0x34f)](_0x4a5c2f(0x730)),actionTargetId=null;}catch(_0x154e86){console[_0x4a5c2f(0x4e7)]('Error\x20updating\x20quiz\x20settings:',_0x154e86),showMessage(_0x4a5c2f(0x280));}}async function handleQuizStatus(_0x2af71f){const _0x1d3042=_0x2ee497;actionTargetId=_0x2af71f;const _0x239466=doc(db,_0x1d3042(0x100)+appId+'/public/data/quizzes',_0x2af71f);try{const _0x11be01=await getDoc(_0x239466);if(_0x11be01[_0x1d3042(0x475)]()){const _0x3f17b9=_0x11be01[_0x1d3042(0x656)](),_0x3b3f7c=_0x3f17b9['status']||'active',_0x53ef80=document[_0x1d3042(0x339)](_0x1d3042(0x319)),_0x2eee29=document[_0x1d3042(0x339)](_0x1d3042(0x6d5)),_0x2ae96b=document[_0x1d3042(0x339)](_0x1d3042(0x4d6));let _0x22d63a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x3b3f7c===_0x1d3042(0x4ca)?_0x1d3042(0x149):'')+_0x1d3042(0x36e)+(_0x3b3f7c===_0x1d3042(0x137)?_0x1d3042(0x149):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x3b3f7c===_0x1d3042(0x1ff)?'checked':'')+_0x1d3042(0x778);_0x53ef80[_0x1d3042(0x7de)]=_0x22d63a;const _0x16ec7a=_0x3b3f7c==='scheduled';_0x2eee29['classList']['toggle'](_0x1d3042(0x730),!_0x16ec7a),_0x2ae96b[_0x1d3042(0xe6)][_0x1d3042(0x634)](_0x1d3042(0x730),!_0x16ec7a),document['getElementById'](_0x1d3042(0x5a5))[_0x1d3042(0x2b8)]=_0x3f17b9[_0x1d3042(0x3f6)]?_0x3f17b9[_0x1d3042(0x3f6)][_0x1d3042(0x816)](0x0,0x10):'',document[_0x1d3042(0x339)](_0x1d3042(0x4d5))[_0x1d3042(0x2b8)]=_0x3f17b9['endTime']?_0x3f17b9[_0x1d3042(0x321)][_0x1d3042(0x816)](0x0,0x10):'',_0x53ef80[_0x1d3042(0x450)](_0x1d3042(0x133))[_0x1d3042(0x2f1)](_0x150c65=>{const _0x89b564=_0x1d3042;_0x150c65[_0x89b564(0x834)](_0x89b564(0x31d),_0x5b76b1=>{const _0x14f66a=_0x89b564,_0x23d06f=_0x5b76b1['target']['value']==='schedule';_0x2eee29[_0x14f66a(0xe6)]['toggle'](_0x14f66a(0x730),!_0x23d06f),_0x2ae96b['classList'][_0x14f66a(0x634)]('hidden',!_0x23d06f);});}),quizStatusModal['classList']['remove'](_0x1d3042(0x730));}}catch(_0x13da02){console[_0x1d3042(0x4e7)](_0x1d3042(0x3dc),_0x13da02),showMessage(_0x1d3042(0x714));}}async function confirmQuizStatus(){const _0x41ad71=_0x2ee497;if(!actionTargetId)return;const _0x2a307e=doc(db,_0x41ad71(0x100)+appId+_0x41ad71(0x50f),actionTargetId),_0x676fe6=document[_0x41ad71(0x205)](_0x41ad71(0x81f));if(!_0x676fe6){showMessage(_0x41ad71(0x743));return;}const _0x69ee41=_0x676fe6[_0x41ad71(0x2b8)];let _0x1e3c93={};if(_0x69ee41==='active'||_0x69ee41===_0x41ad71(0x137))_0x1e3c93={'status':_0x69ee41,'startTime':null,'endTime':null};else{if(_0x69ee41===_0x41ad71(0x2d3)){const _0x3bdad1=document[_0x41ad71(0x339)](_0x41ad71(0x5a5))[_0x41ad71(0x2b8)],_0x2c68aa=document[_0x41ad71(0x339)](_0x41ad71(0x4d5))['value'];if(!_0x3bdad1&&!_0x2c68aa){showMessage(_0x41ad71(0x701));return;}_0x1e3c93={'status':_0x41ad71(0x1ff),'startTime':_0x3bdad1?new Date(_0x3bdad1)[_0x41ad71(0x70b)]():null,'endTime':_0x2c68aa?new Date(_0x2c68aa)[_0x41ad71(0x70b)]():null};}}try{await updateDoc(_0x2a307e,_0x1e3c93),showMessage(_0x41ad71(0x121)),quizStatusModal[_0x41ad71(0xe6)][_0x41ad71(0x34f)]('hidden'),actionTargetId=null;}catch(_0x455da7){console[_0x41ad71(0x4e7)](_0x41ad71(0x28b),_0x455da7),showMessage(_0x41ad71(0x4df));}}function listenForStudentProfiles(_0x5b1d74){const _0x2a1afe=_0x2ee497,_0x2fd51d=collection(db,_0x2a1afe(0x100)+appId+'/public/data/projects/'+_0x5b1d74+_0x2a1afe(0x24e));unsubscribeStudentProfilesListener=onSnapshot(_0x2fd51d,_0x440a97=>{const _0x4ac2d1=_0x2a1afe,_0x714319=_0x440a97['docs'][_0x4ac2d1(0x71d)](_0x37b394=>_0x37b394[_0x4ac2d1(0x656)]());renderLeaderboard(_0x714319,_0x4ac2d1(0x182));},_0x4a9b64=>{const _0x27ddac=_0x2a1afe;console[_0x27ddac(0x4e7)](_0x27ddac(0x25b),_0x4a9b64),document[_0x27ddac(0x339)]('leaderboard-table-body')[_0x27ddac(0x7de)]=_0x27ddac(0x804);});}function renderLeaderboard(_0x56b541,_0x36a5cf){const _0xcf1f01=_0x2ee497,_0x473b59=document[_0xcf1f01(0x339)](_0x36a5cf);if(!_0x56b541||_0x56b541[_0xcf1f01(0x2fe)]===0x0){_0x473b59['innerHTML']=_0xcf1f01(0x162);return;}_0x56b541[_0xcf1f01(0x377)]((_0x168795,_0x5a7db7)=>{const _0x504532=_0xcf1f01,_0x54b1b8=(_0x5a7db7[_0x504532(0x1ee)]||0x0)-(_0x168795[_0x504532(0x1ee)]||0x0);if(_0x54b1b8!==0x0)return _0x54b1b8;const _0x47bbda=(_0x5a7db7['badgesCount']?.[_0x504532(0x5c4)]||0x0)-(_0x168795[_0x504532(0x104)]?.[_0x504532(0x5c4)]||0x0);if(_0x47bbda!==0x0)return _0x47bbda;const _0x4fc042=(_0x5a7db7[_0x504532(0x104)]?.[_0x504532(0x116)]||0x0)-(_0x168795[_0x504532(0x104)]?.['first_try_ace']||0x0);if(_0x4fc042!==0x0)return _0x4fc042;const _0x28277f=(_0x5a7db7[_0x504532(0x104)]?.[_0x504532(0x29f)]||0x0)-(_0x168795[_0x504532(0x104)]?.['perfect_score']||0x0);if(_0x28277f!==0x0)return _0x28277f;const _0x10ba72=(_0x5a7db7[_0x504532(0x104)]?.['quick_thinker']||0x0)-(_0x168795[_0x504532(0x104)]?.[_0x504532(0x73e)]||0x0);if(_0x10ba72!==0x0)return _0x10ba72;return _0x168795[_0x504532(0x7af)][_0x504532(0x2c4)](_0x5a7db7[_0x504532(0x7af)],'th');});let _0x130847='';_0x56b541[_0xcf1f01(0x2f1)]((_0x5e0a37,_0x19d3e3)=>{const _0x49d1a2=_0xcf1f01,_0x4b83f4=_0x19d3e3+0x1,_0x1f560b=_0x5e0a37['badgesCount']||{};let _0x5a2257='';const _0x375b15=[_0x49d1a2(0x5c4),'perfect_score',_0x49d1a2(0x116),_0x49d1a2(0x73e)];_0x375b15[_0x49d1a2(0x2f1)](_0x2eb95d=>{const _0x28f640=_0x49d1a2;if(_0x1f560b[_0x2eb95d]>0x0){const _0x20dd3e=Object[_0x28f640(0x718)](BADGES)[_0x28f640(0x5f9)](_0x79fdf2=>_0x79fdf2['id']===_0x2eb95d);_0x20dd3e&&(_0x2eb95d===_0x28f640(0x5c4)?_0x5a2257+=_0x28f640(0x169)+_0x20dd3e[_0x28f640(0x2eb)]+_0x28f640(0x846)+_0x20dd3e[_0x28f640(0x17e)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5a2257+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x20dd3e[_0x28f640(0x2eb)]+'\x20('+_0x1f560b[_0x2eb95d]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x20dd3e[_0x28f640(0x17e)]+_0x28f640(0x249)+_0x1f560b[_0x2eb95d]+_0x28f640(0x36a));}}),_0x130847+=_0x49d1a2(0x53b)+_0x4b83f4+_0x49d1a2(0x663)+_0x5e0a37['studentName']+_0x49d1a2(0x603)+(_0x5e0a37[_0x49d1a2(0x1ee)]||0x0)+_0x49d1a2(0x663)+(_0x5a2257||'-')+_0x49d1a2(0x5c5);}),_0x473b59[_0xcf1f01(0x7de)]=_0x130847;}function displayLoopScreen(_0x5e6f1c,_0x45d51e,_0x61127){const _0xb254a4=_0x2ee497;let _0x5bc8c0='';_0x61127!==_0xb254a4(0x322)&&(_0x5bc8c0=_0xb254a4(0x1ac)+_0x5e6f1c+'\x20/\x20'+_0x45d51e+_0xb254a4(0x41b));const _0x3bafb2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bc8c0+_0xb254a4(0x423);studentResultArea['innerHTML']=_0x3bafb2,studentResultArea[_0xb254a4(0xe6)][_0xb254a4(0x728)]('hidden'),studentQuizArea[_0xb254a4(0xe6)][_0xb254a4(0x34f)]('hidden'),document[_0xb254a4(0x339)]('retake-quiz-loop-btn')['addEventListener'](_0xb254a4(0x5c7),()=>{const _0x3e73e8=_0xb254a4;studentResultArea[_0x3e73e8(0xe6)][_0x3e73e8(0x34f)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x2634bc,_0x1675c3,_0x4f29e3){const _0x3c7ae8=_0x2ee497,_0x473b36=document['getElementById'](_0x4f29e3),_0x46b629=_0x4f29e3==='student-quiz-leaderboard-table-body',_0x2f6524=_0x1675c3['questions'][_0x3c7ae8(0x2fe)],_0x36049c=document[_0x3c7ae8(0x339)](_0x4f29e3)[_0x3c7ae8(0x762)](_0x3c7ae8(0x49f));if(_0x36049c&&!_0x46b629){const _0x54ba93=_0x36049c['querySelector']('thead');_0x54ba93[_0x3c7ae8(0x7de)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x2634bc||_0x2634bc[_0x3c7ae8(0x2fe)]===0x0){_0x473b36['innerHTML']='<tr><td\x20colspan=\x22'+(_0x46b629?0x6:0x8)+_0x3c7ae8(0x101);return;}const _0x5609f0=[..._0x2634bc];_0x5609f0[_0x3c7ae8(0x377)]((_0x33b1dd,_0x3d98ec)=>{const _0xd7fd2d=_0x3c7ae8;let _0x1de61e,_0x56cb39;switch(quizLeaderboardSortBy){case'studentName':_0x1de61e=_0x33b1dd[_0xd7fd2d(0x7af)]||'',_0x56cb39=_0x3d98ec[_0xd7fd2d(0x7af)]||'';return quizLeaderboardSortOrder==='asc'?_0x1de61e[_0xd7fd2d(0x2c4)](_0x56cb39,'th'):_0x56cb39[_0xd7fd2d(0x2c4)](_0x1de61e,'th');case _0xd7fd2d(0x84d):_0x1de61e=_0x33b1dd[_0xd7fd2d(0x84d)]||0x0,_0x56cb39=_0x3d98ec[_0xd7fd2d(0x84d)]||0x0;break;case'attempts':_0x1de61e=_0x33b1dd['attempts']?.[_0xd7fd2d(0x2fe)]||0x1,_0x56cb39=_0x3d98ec[_0xd7fd2d(0x535)]?.['length']||0x1;break;case _0xd7fd2d(0x16a):_0x1de61e=new Date(_0x33b1dd[_0xd7fd2d(0x16a)]),_0x56cb39=new Date(_0x3d98ec[_0xd7fd2d(0x16a)]);break;case _0xd7fd2d(0x653):default:_0x1de61e=_0x33b1dd[_0xd7fd2d(0x653)],_0x56cb39=_0x3d98ec['bestScore'];break;}if(_0x1de61e<_0x56cb39)return quizLeaderboardSortOrder===_0xd7fd2d(0x1e7)?-0x1:0x1;if(_0x1de61e>_0x56cb39)return quizLeaderboardSortOrder===_0xd7fd2d(0x1e7)?0x1:-0x1;return 0x0;});const _0x4a4f1b=_0x1675c3[_0x3c7ae8(0x6fb)]===!![],_0x9aa297=_0x1675c3[_0x3c7ae8(0x481)]?.['passingScore']??-0x1;let _0x4341f0='';_0x5609f0['forEach']((_0x31f07a,_0x2cc209)=>{const _0x142359=_0x3c7ae8,_0x1b2542=_0x2cc209+0x1;let _0x3d31e1=_0x142359(0x46f);if(_0x4a4f1b||_0x9aa297!==-0x1){let _0x254244=_0x4a4f1b?_0x31f07a[_0x142359(0x653)]===_0x2f6524:_0x31f07a[_0x142359(0x653)]>=_0x9aa297;const _0x3de9da=_0x254244?'bg-green-100\x20text-green-800':_0x142359(0x756),_0x1b1a72=_0x254244?_0x142359(0x303):'ไม่ผ่าน';_0x3d31e1=_0x142359(0x7a3)+_0x3de9da+'\x22>'+_0x1b1a72+_0x142359(0x1f2);}const _0x34ebf2=_0x31f07a['attempts'][_0x31f07a[_0x142359(0x535)]['length']-0x1],_0x135531=(_0x34ebf2[_0x142359(0x4ee)]||[])['map'](_0x51b2d=>{const _0xfedb5d=_0x142359,_0x4b3ab5=Object['values'](BADGES)[_0xfedb5d(0x5f9)](_0x168e17=>_0x168e17['id']===_0x51b2d);return _0x4b3ab5?'<span\x20title=\x22'+_0x4b3ab5[_0xfedb5d(0x2eb)]+_0xfedb5d(0x6bc)+_0x4b3ab5['icon']+_0xfedb5d(0x658):'';})[_0x142359(0x8bf)]('');_0x4341f0+=_0x142359(0x4d8)+_0x1b2542+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x31f07a[_0x142359(0x7af)]+_0x142359(0x759)+_0x31f07a[_0x142359(0x653)]+'\x20/\x20'+_0x2f6524+_0x142359(0x48d)+_0x3d31e1+_0x142359(0x20b)+(_0x31f07a[_0x142359(0x84d)]||0x0)+_0x142359(0x48d)+(_0x46b629?'':_0x142359(0x45a)+(_0x31f07a[_0x142359(0x535)]?.[_0x142359(0x2fe)]||0x1)+_0x142359(0x80c))+_0x142359(0x77d)+(_0x46b629?'':_0x142359(0x1a4)+new Date(_0x31f07a[_0x142359(0x16a)])[_0x142359(0x1c2)](_0x142359(0x4eb))+_0x142359(0x80c))+_0x142359(0x850)+(_0x135531||'-')+_0x142359(0x660);}),_0x473b36['innerHTML']=_0x4341f0,_0x36049c&&!_0x46b629&&_0x36049c[_0x3c7ae8(0x450)]('thead\x20.sortable-header')[_0x3c7ae8(0x2f1)](_0x334f39=>{const _0x5b2a87=_0x3c7ae8,_0x2a76ee=_0x334f39[_0x5b2a87(0x205)](_0x5b2a87(0x87f));if(_0x2a76ee)_0x2a76ee[_0x5b2a87(0x728)]();_0x334f39['dataset'][_0x5b2a87(0x377)]===quizLeaderboardSortBy&&(_0x334f39[_0x5b2a87(0x7de)]+=_0x5b2a87(0x694)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x5b2a87(0x85e));});}async function handleDeleteSubmission(_0x2a3ab8){const _0x56c988=_0x2ee497;if(!currentQuizData||!currentQuizData['id']||!_0x2a3ab8){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x56c988(0x66a)+_0x2a3ab8+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x14e8cc=_0x56c988,_0x1dfc40=currentQuizData['id'],_0x2db7a5=doc(db,_0x14e8cc(0x100)+appId+_0x14e8cc(0x3ac)+_0x1dfc40+_0x14e8cc(0x607),_0x2a3ab8);try{await deleteDoc(_0x2db7a5),showMessage(_0x14e8cc(0x581)+_0x2a3ab8+_0x14e8cc(0x43b));}catch(_0x1454c5){console[_0x14e8cc(0x4e7)]('Error\x20deleting\x20submission:',_0x1454c5),showMessage(_0x14e8cc(0x3bd));}});}async function handleLoadQuiz(){const _0x374d8e=_0x2ee497,_0x43be85=document[_0x374d8e(0x339)](_0x374d8e(0x3ab)),_0x454b08=_0x43be85[_0x374d8e(0x2b8)][_0x374d8e(0x6df)]();if(!_0x454b08){showMessage(_0x374d8e(0x297));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x374d8e(0x7de)]=_0x374d8e(0x8c5);try{const _0x46a62c=doc(db,_0x374d8e(0x100)+appId+_0x374d8e(0x50f),_0x454b08),_0x1a909d=await getDoc(_0x46a62c);if(!_0x1a909d['exists']()){showMessage(_0x374d8e(0x61e));return;}currentQuizData={'id':_0x1a909d['id'],..._0x1a909d[_0x374d8e(0x656)]()};const _0x30ce73=currentQuizData[_0x374d8e(0x675)]||_0x374d8e(0x4ca),_0x13260a=new Date();if(_0x30ce73===_0x374d8e(0x137)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x30ce73===_0x374d8e(0x1ff)){const _0x277eb3=currentQuizData['startTime']?new Date(currentQuizData[_0x374d8e(0x3f6)]):null,_0x3b6a68=currentQuizData[_0x374d8e(0x321)]?new Date(currentQuizData[_0x374d8e(0x321)]):null;if(_0x277eb3&&_0x13260a<_0x277eb3){showMessage(_0x374d8e(0x787)+_0x277eb3[_0x374d8e(0x1c2)](_0x374d8e(0x4eb),{'hour12':![]}));return;}if(_0x3b6a68&&_0x13260a>_0x3b6a68){showMessage(_0x374d8e(0x3f2));return;}}const _0x3a0723=currentQuizData[_0x374d8e(0x2a2)];currentProjectId=_0x3a0723;const _0x22e024=doc(db,_0x374d8e(0x100)+appId+_0x374d8e(0x537),_0x3a0723),_0x559078=await getDoc(_0x22e024);if(!_0x559078[_0x374d8e(0x475)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x454134=_0x559078[_0x374d8e(0x656)]();currentStudentProjectData=_0x454134,displayStudentNameSelector(_0x454134[_0x374d8e(0x3ba)],currentQuizData['topic']);}catch(_0x26746f){console[_0x374d8e(0x4e7)](_0x374d8e(0x294),_0x26746f),showMessage(_0x374d8e(0x338));}finally{loadQuizBtn[_0x374d8e(0x154)]=![],loadQuizBtn[_0x374d8e(0x7de)]=_0x374d8e(0x3e4);}}async function handleJoinLiveGame(){const _0x23800b=_0x2ee497,_0x4ed1db=document[_0x23800b(0x339)](_0x23800b(0x405)),_0x231358=document[_0x23800b(0x339)](_0x23800b(0x6b2)),_0x32b610=document['getElementById'](_0x23800b(0x3a9)),_0x428efa=_0x4ed1db['value'][_0x23800b(0x6df)](),_0x5026ca=_0x231358[_0x23800b(0x2b8)][_0x23800b(0x6df)]();if(!_0x428efa||!_0x5026ca){showMessage(_0x23800b(0xce));return;}_0x32b610[_0x23800b(0x154)]=!![],_0x32b610['innerHTML']=_0x23800b(0xca);try{const _0x393b2b=collection(db,_0x23800b(0x100)+appId+_0x23800b(0x5f0)),_0x5245bf=query(_0x393b2b,where('gamePin','==',_0x428efa),where(_0x23800b(0x675),'==','lobby')),_0x50fdfd=await getDocs(_0x5245bf);if(_0x50fdfd[_0x23800b(0x2b5)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x3eaaf7=_0x50fdfd[_0x23800b(0x830)][0x0],_0x243270=_0x3eaaf7['data']();currentLiveGameId=_0x3eaaf7['id'];const _0x2999de=_0x243270['quizId'],_0x54b9db=doc(db,_0x23800b(0x100)+appId+_0x23800b(0x50f),_0x2999de),_0x7cb20a=await getDoc(_0x54b9db);if(!_0x7cb20a[_0x23800b(0x475)]()){showMessage(_0x23800b(0x7ca));return;}currentQuizData={'id':_0x7cb20a['id'],..._0x7cb20a[_0x23800b(0x656)]()};if(_0x243270[_0x23800b(0x448)]&&_0x243270['players'][_0x5026ca]){showMessage(_0x23800b(0x767));return;}const _0x12d4be={};_0x12d4be[_0x23800b(0x402)+_0x5026ca]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x23800b(0x4ca)},await updateDoc(doc(db,_0x23800b(0x100)+appId+_0x23800b(0x5f0),currentLiveGameId),_0x12d4be),currentStudentName=_0x5026ca,listenForLiveGameUpdates();}catch(_0x2eedaa){console[_0x23800b(0x4e7)](_0x23800b(0x103),_0x2eedaa),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x32b610[_0x23800b(0x154)]=![],_0x32b610[_0x23800b(0x7de)]=_0x23800b(0x4d4);}}function displayStudentNameSelector(_0x3383db,_0x19a491){const _0x111cef=_0x2ee497,_0x3823b5=document[_0x111cef(0x339)](_0x111cef(0x4a6));document[_0x111cef(0x339)](_0x111cef(0x3e3))[_0x111cef(0x477)]='แบบทดสอบ:\x20'+_0x19a491,!_0x3383db||_0x3383db[_0x111cef(0x2fe)]===0x0?(_0x3823b5['innerHTML']=_0x111cef(0x4a3),startQuizBtn[_0x111cef(0x154)]=!![]):(_0x3823b5[_0x111cef(0x7de)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x3383db[_0x111cef(0x2f1)](_0x274a14=>{const _0xdb588d=_0x111cef,_0x1a1398=document[_0xdb588d(0x6c9)](_0xdb588d(0x57d));_0x1a1398[_0xdb588d(0x2b8)]=_0x274a14,_0x1a1398[_0xdb588d(0x477)]=_0x274a14,_0x3823b5[_0xdb588d(0x795)](_0x1a1398);}),startQuizBtn[_0x111cef(0x154)]=![]),studentInitialView['classList'][_0x111cef(0x34f)](_0x111cef(0x730)),studentNameSelectionView[_0x111cef(0xe6)][_0x111cef(0x728)](_0x111cef(0x730));}function shuffleArray(_0x480179){const _0x1772a8=_0x2ee497;for(let _0x8fece1=_0x480179[_0x1772a8(0x2fe)]-0x1;_0x8fece1>0x0;_0x8fece1--){const _0x5dcb7c=Math[_0x1772a8(0x6be)](Math[_0x1772a8(0x26a)]()*(_0x8fece1+0x1));[_0x480179[_0x8fece1],_0x480179[_0x5dcb7c]]=[_0x480179[_0x5dcb7c],_0x480179[_0x8fece1]];}}function getShuffledQuiz(_0x2809bb){const _0x1f02ff=_0x2ee497;let _0x21dc04=JSON[_0x1f02ff(0x2ed)](JSON['stringify'](_0x2809bb));const _0x562d95=_0x21dc04[_0x1f02ff(0x481)]?.[_0x1f02ff(0x725)]||_0x1f02ff(0x253);if(_0x562d95===_0x1f02ff(0x253))return _0x21dc04;return(_0x562d95===_0x1f02ff(0x5a4)||_0x562d95===_0x1f02ff(0x281))&&shuffleArray(_0x21dc04[_0x1f02ff(0x2f4)]),(_0x562d95===_0x1f02ff(0x791)||_0x562d95===_0x1f02ff(0x281))&&_0x21dc04[_0x1f02ff(0x2f4)]['forEach'](_0x12a237=>{const _0x2fa6ee=_0x1f02ff,_0x268a2a=_0x12a237['questionType']||_0x21dc04[_0x2fa6ee(0x867)];if(_0x12a237[_0x2fa6ee(0x7e1)]){let _0x527bf5=_0x12a237[_0x2fa6ee(0x7e1)]['map']((_0x5591a1,_0x158fe7)=>({'text':_0x5591a1,'isCorrect':_0x158fe7===_0x12a237[_0x2fa6ee(0x75e)]}));shuffleArray(_0x527bf5),_0x12a237['options']=_0x527bf5[_0x2fa6ee(0x71d)](_0x47c4df=>_0x47c4df[_0x2fa6ee(0x67c)]),_0x12a237['correctAnswerIndex']=_0x527bf5[_0x2fa6ee(0x38b)](_0x237fcf=>_0x237fcf[_0x2fa6ee(0x358)]);}_0x268a2a===_0x2fa6ee(0x368)&&_0x12a237[_0x2fa6ee(0x8a0)]&&shuffleArray(_0x12a237[_0x2fa6ee(0x8a0)]);}),_0x21dc04;}function displayQuizForStudent(_0x59bec9){const _0x4055d3=_0x2ee497;studentQuizArea[_0x4055d3(0xe6)]['remove'](_0x4055d3(0x730)),currentDisplayedQuiz=getShuffledQuiz(_0x59bec9);currentMode!==_0x4055d3(0x33e)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4055d3(0x834)](_0x4055d3(0x76b),handleFullscreenChange),document[_0x4055d3(0x834)](_0x4055d3(0x628),handleVisibilityChange),enterFullscreen(),window[_0x4055d3(0x834)]('mousemove',resetDimTimer),window['addEventListener'](_0x4055d3(0x145),resetDimTimer),window[_0x4055d3(0x834)](_0x4055d3(0x799),resetDimTimer),window[_0x4055d3(0x834)]('keydown',resetDimTimer),resetDimTimer());const _0xd55c05=currentDisplayedQuiz[_0x4055d3(0x481)]?.[_0x4055d3(0x588)]||'none';if(_0xd55c05==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4055d3(0x481)][_0x4055d3(0x69b)]);else _0xd55c05==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xb01ab9=_0x2ee497;let _0xaf9212=_0xb01ab9(0x668)+currentDisplayedQuiz[_0xb01ab9(0x5fb)]+_0xb01ab9(0xed)+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0xb01ab9(0x245);currentDisplayedQuiz['questions']['forEach']((_0x2472f1,_0x2069dc)=>{const _0x30db72=_0xb01ab9,_0x2a9d29=_0x2472f1[_0x30db72(0x790)]||currentDisplayedQuiz[_0x30db72(0x867)];_0xaf9212+=_0x30db72(0x781);_0x2a9d29==='matching_item'?_0xaf9212+=_0x30db72(0x673)+(_0x2069dc+0x1)+'.\x20'+_0x2472f1[_0x30db72(0x37b)]+_0x30db72(0x275)+_0x2069dc+_0x30db72(0x717)+_0x2472f1[_0x30db72(0x8a0)][_0x30db72(0x71d)](_0x461455=>_0x30db72(0x118)+_0x461455+'\x22>'+_0x461455+'</option>')[_0x30db72(0x8bf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0xaf9212+=_0x30db72(0x23a)+(_0x2069dc+0x1)+'.\x20'+(_0x2472f1[_0x30db72(0x4f5)]||_0x2472f1[_0x30db72(0x325)])+_0x30db72(0x174),_0x2472f1['imageCode']&&(_0xaf9212+=_0x30db72(0x55c)+_0x2472f1['imageCode']+_0x30db72(0x22a)));_0xaf9212+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x2a9d29){case _0x30db72(0x324):_0xaf9212+=_0x30db72(0x46e)+_0x2069dc+_0x30db72(0x765);break;case _0x30db72(0x354):_0xaf9212+=_0x30db72(0x129)+_0x2069dc+'_opt0\x22\x20name=\x22question'+_0x2069dc+_0x30db72(0x827)+_0x2069dc+'_opt0\x22>ใช่</label></div>',_0xaf9212+=_0x30db72(0x129)+_0x2069dc+_0x30db72(0x353)+_0x2069dc+_0x30db72(0x247)+_0x2069dc+_0x30db72(0x6d2);break;case _0x30db72(0x368):break;case _0x30db72(0x2d2):case _0x30db72(0x73c):default:_0xaf9212+=_0x2472f1[_0x30db72(0x7e1)][_0x30db72(0x71d)]((_0x177e77,_0x2b50be)=>_0x30db72(0x419)+_0x2069dc+_0x30db72(0x408)+_0x2b50be+_0x30db72(0x437)+_0x2069dc+_0x30db72(0x113)+_0x2b50be+_0x30db72(0x285)+_0x2069dc+'_opt'+_0x2b50be+'\x22>'+_0x177e77+_0x30db72(0x789))[_0x30db72(0x8bf)]('');break;}_0xaf9212+=_0x30db72(0x457);}),_0xaf9212+=_0xb01ab9(0x3ff),_0xaf9212+=_0xb01ab9(0x37f),studentQuizArea[_0xb01ab9(0x7de)]=_0xaf9212;if(currentMode==='admin-testing'){const _0x579b5c=document[_0xb01ab9(0x339)](_0xb01ab9(0x52e));if(_0x579b5c)_0x579b5c[_0xb01ab9(0x834)](_0xb01ab9(0x5c7),cancelAdminTest);}document[_0xb01ab9(0x339)](_0xb01ab9(0x300))[_0xb01ab9(0x834)]('submit',handleSubmitQuiz);if(window['MathJax'])window[_0xb01ab9(0x20e)][_0xb01ab9(0x190)]([studentQuizArea]);}async function handleSubmitQuiz(_0x2d380d){const _0x286669=_0x2ee497;if(_0x2d380d)_0x2d380d[_0x286669(0x5a2)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4b5787=document[_0x286669(0x339)](_0x286669(0x300));if(!_0x4b5787)return;const _0x1aa478=_0x4b5787[_0x286669(0x205)](_0x286669(0x42e)),_0x35340d=currentDisplayedQuiz[_0x286669(0x2f4)]['some'](_0x55bce6=>_0x55bce6[_0x286669(0x790)]===_0x286669(0x324));_0x1aa478&&(_0x1aa478['disabled']=!![],_0x35340d?_0x1aa478['innerHTML']=_0x286669(0x34d):_0x1aa478[_0x286669(0x7de)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x5ad5df=new FormData(_0x4b5787),_0xc03a8=currentDisplayedQuiz[_0x286669(0x2f4)]['map']((_0x21e81f,_0x5ecfa3)=>{const _0x552e4a=_0x286669,_0x19c309=_0x21e81f[_0x552e4a(0x790)]||currentDisplayedQuiz[_0x552e4a(0x867)],_0x2396fb=_0x5ad5df[_0x552e4a(0x79a)]('question'+_0x5ecfa3);if(_0x2396fb!==null&&_0x2396fb!==undefined){if(_0x19c309===_0x552e4a(0x73c)||_0x19c309==='fill_in_the_blank')return parseInt(_0x2396fb);return _0x2396fb;}return null;}),_0x566be4=currentQuizData['id'],_0x14bf00=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x566be4+_0x286669(0x607),currentStudentName),_0x40f295=await getDoc(_0x14bf00),_0x384320=_0x40f295[_0x286669(0x475)]()?_0x40f295['data']():{},_0x3adf1d=_0x384320[_0x286669(0x535)]||[];await processAndSubmitAnswers(_0xc03a8,_0x3adf1d);}async function gradeShortAnswerWithAI(_0x29de09,_0x11a005){const _0x6aa1d4=_0x2ee497;if(!_0x29de09||!_0x11a005)return![];try{const _0x29cca1=_0x6aa1d4(0x17f)+_0x29de09+_0x6aa1d4(0x4e1)+_0x11a005+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0xb70451={'contents':[{'role':_0x6aa1d4(0x361),'parts':[{'text':_0x29cca1}]}]},_0x1d31f5=_0x6aa1d4(0x3c5),_0x1c4ffb=_0x6aa1d4(0x733)+_0x1d31f5,_0x2b68a2=await fetch(_0x1c4ffb,{'method':'POST','headers':{'Content-Type':_0x6aa1d4(0x7a2)},'body':JSON[_0x6aa1d4(0x5f7)](_0xb70451)});if(!_0x2b68a2['ok'])throw new Error(_0x6aa1d4(0x47a));const _0x42fd19=await _0x2b68a2['json'](),_0x979c2f=_0x42fd19['candidates'][0x0][_0x6aa1d4(0x1fe)]['parts'][0x0][_0x6aa1d4(0x67c)]['trim']()['toLowerCase']();return _0x979c2f===_0x6aa1d4(0x36f);}catch(_0x3b338f){return console[_0x6aa1d4(0x4e7)]('AI\x20grading\x20failed:',_0x3b338f),![];}}async function processAndSubmitAnswers(_0x155c81,_0x3fa8b5){const _0x150bd8=_0x2ee497;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x150bd8(0x7c1)]('fullscreenchange',handleFullscreenChange),document[_0x150bd8(0x7c1)](_0x150bd8(0x628),handleVisibilityChange);let _0x25594c=0x0,_0x24f18d=0x0,_0x2497f2=[];const _0x4f4a47=[],_0x296626=currentDisplayedQuiz[_0x150bd8(0x2f4)][_0x150bd8(0x2fe)];let _0x5d9d94=0x0;const _0x3d0b88=currentDisplayedQuiz[_0x150bd8(0x2f4)];for(let _0x524c2f=0x0;_0x524c2f<_0x3d0b88[_0x150bd8(0x2fe)];_0x524c2f++){const _0x199583=_0x3d0b88[_0x524c2f],_0x31a206=_0x155c81[_0x524c2f],_0x5cae8b=_0x199583[_0x150bd8(0x790)]||currentDisplayedQuiz[_0x150bd8(0x867)];let _0x157807=![];if(_0x31a206!==null&&_0x31a206!=='')switch(_0x5cae8b){case _0x150bd8(0x368):_0x157807=_0x31a206===_0x199583[_0x150bd8(0x41d)];break;case _0x150bd8(0x354):const _0x3dca6d=_0x31a206===!![]||_0x31a206===_0x150bd8(0x36f);_0x157807=_0x3dca6d===_0x199583[_0x150bd8(0x394)];break;case _0x150bd8(0x2d2):case _0x150bd8(0x73c):default:_0x157807=Number(_0x31a206)===_0x199583['correctAnswerIndex'];break;case'short_answer':_0x157807=await gradeShortAnswer(_0x31a206,_0x199583);break;}_0x157807?(_0x25594c++,_0x5d9d94++,_0x5d9d94===0x3&&(_0x2497f2['push'](BADGES[_0x150bd8(0x10e)]['id']),_0x5d9d94=0x0)):_0x5d9d94=0x0;let _0x27f61f=null;_0x199583[_0x150bd8(0x7e1)]&&_0x31a206!==null&&(_0x27f61f=_0x199583[_0x150bd8(0x7e1)][_0x31a206]),_0x4f4a47['push']({'questionId':_0x199583['id'],'answer':_0x31a206,'answerText':_0x27f61f,'isCorrect':_0x157807,'originalQuestionText':_0x199583[_0x150bd8(0x37b)]||_0x199583['questionText']});}_0x24f18d=_0x25594c*0xa;_0x25594c===_0x296626&&_0x296626>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x24f18d+=0x32,_0x2497f2[_0x150bd8(0x447)](BADGES[_0x150bd8(0x228)]['id']));const _0x2c3fb0=currentDisplayedQuiz[_0x150bd8(0x481)]?.[_0x150bd8(0x342)]??Math[_0x150bd8(0x6be)](_0x296626/0x2),_0x512d4d=currentDisplayedQuiz[_0x150bd8(0x481)]?.[_0x150bd8(0x588)];if(_0x512d4d==='whole_quiz'&&quizStartTime){const _0x5c9b18=(new Date()-quizStartTime)/0x3e8,_0x221c10=currentDisplayedQuiz['settings'][_0x150bd8(0x69b)]*0x3c;_0x25594c>=_0x2c3fb0&&_0x5c9b18<_0x221c10/0x2&&(_0x24f18d+=0x14,_0x2497f2[_0x150bd8(0x447)](BADGES[_0x150bd8(0x135)]['id']));}_0x3fa8b5[_0x150bd8(0x2fe)]===0x0&&_0x25594c===_0x296626&&_0x296626>0x0&&_0x2497f2[_0x150bd8(0x447)](BADGES['FIRST_TRY_ACE']['id']);if(_0x3fa8b5[_0x150bd8(0x2fe)]>0x0){const _0x251e51=_0x3fa8b5[0x0][_0x150bd8(0x13c)];if(_0x251e51<_0x2c3fb0&&_0x25594c>=_0x2c3fb0){const _0x54eb16=_0x3fa8b5['some'](_0x441a19=>(_0x441a19[_0x150bd8(0x4ee)]||[])[_0x150bd8(0x54e)](BADGES['COMEBACK_KING']['id']));!_0x54eb16&&_0x2497f2['push'](BADGES[_0x150bd8(0x45f)]['id']);}}_0x3fa8b5[_0x150bd8(0x2fe)]===0x4&&_0x2497f2[_0x150bd8(0x447)](BADGES['PERSEVERANCE']['id']);const _0x18cd29=currentDisplayedQuiz[_0x150bd8(0x481)][_0x150bd8(0x70d)];if(currentMode===_0x150bd8(0x33e)){handleResultDisplay(_0x18cd29,_0x25594c,_0x24f18d,_0x2497f2,_0x4f4a47,_0x296626);return;}const _0x5a8f0b=currentQuizData['id'],_0x11860e=doc(db,'artifacts/'+appId+_0x150bd8(0x3ac)+_0x5a8f0b+_0x150bd8(0x607),currentStudentName);try{const _0xe93eeb=[..._0x3fa8b5],_0x3a8d0e={'score':_0x25594c,'points':_0x24f18d,'badges':_0x2497f2,'submittedAt':new Date()[_0x150bd8(0x70b)](),'answers':_0x4f4a47};_0xe93eeb[_0x150bd8(0x447)](_0x3a8d0e);const _0x50d8f8=_0xe93eeb[0x0]['score'],_0x14b816=Math[_0x150bd8(0x187)](..._0xe93eeb[_0x150bd8(0x71d)](_0x450fd6=>_0x450fd6[_0x150bd8(0x13c)])),_0x1402a5=_0x25594c,_0x183a23=_0x3a8d0e[_0x150bd8(0x5e5)];await setDoc(_0x11860e,{'studentName':currentStudentName,'totalQuestions':_0x296626,'attempts':_0xe93eeb,'firstScore':_0x50d8f8,'bestScore':_0x14b816,'latestScore':_0x1402a5,'points':_0x24f18d,'latestSubmittedAt':_0x183a23},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x18cd29,_0x25594c,_0x24f18d,_0x2497f2,_0x4f4a47,_0x296626);}catch(_0x413d2e){console[_0x150bd8(0x4e7)]('Error\x20saving\x20submission:',_0x413d2e),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x1360f2,_0x571430){const _0x431989=_0x2ee497,_0x27ca1f=doc(db,_0x431989(0x100)+appId+_0x431989(0x51b)+_0x1360f2+_0x431989(0x24e),_0x571430);try{const _0x5390a8=query(collection(db,_0x431989(0x100)+appId+_0x431989(0x50f)),where('projectId','==',_0x1360f2)),_0x4b495b=await getDocs(_0x5390a8),_0x5503e2=new Map(_0x4b495b[_0x431989(0x830)]['map'](_0x2fac88=>[_0x2fac88['id'],_0x2fac88['data']()])),_0x8f64b3=Array[_0x431989(0x7f9)](_0x5503e2['keys']());await runTransaction(db,async _0x22df9c=>{const _0x119923=_0x431989;let _0x5800af=0x0;const _0x2564bd={};let _0x5f40bb=!![],_0x4012f2=0x0,_0x20b6c1=0x0;for(const _0x32abdf of _0x8f64b3){const _0x5801e3=_0x5503e2[_0x119923(0x79a)](_0x32abdf),_0xa18421=doc(db,_0x119923(0x100)+appId+'/public/data/quizzes/'+_0x32abdf+_0x119923(0x607),_0x571430),_0x1ef849=await _0x22df9c['get'](_0xa18421);if(_0x1ef849[_0x119923(0x475)]()){const _0x8565c7=_0x1ef849[_0x119923(0x656)](),_0x379b60=_0x8565c7[_0x119923(0x535)]||[];if(_0x379b60[_0x119923(0x2fe)]>0x0){const _0x2ef02=_0x379b60[_0x119923(0x24a)]((_0x3587bd,_0x22d728)=>{const _0x357b39=_0x119923;if(_0x22d728[_0x357b39(0x13c)]>_0x3587bd['score'])return _0x22d728;if(_0x22d728[_0x357b39(0x13c)]===_0x3587bd[_0x357b39(0x13c)])return(_0x22d728['points']||0x0)>(_0x3587bd[_0x357b39(0x84d)]||0x0)?_0x22d728:_0x3587bd;return _0x3587bd;},{'score':-0x1,'points':-0x1});_0x2ef02['score']>-0x1&&(_0x5800af+=_0x2ef02[_0x119923(0x84d)]||0x0,(_0x2ef02[_0x119923(0x4ee)]||[])[_0x119923(0x2f1)](_0x31e363=>{_0x2564bd[_0x31e363]=(_0x2564bd[_0x31e363]||0x0)+0x1;}));}}if(_0x5801e3[_0x119923(0x5fb)]!==_0x119923(0x2ca)){_0x20b6c1++;if(_0x1ef849[_0x119923(0x475)]()){_0x4012f2++;const _0x1fb6cc=_0x1ef849[_0x119923(0x656)]();_0x1fb6cc[_0x119923(0x653)]!==_0x1fb6cc['totalQuestions']&&(_0x5f40bb=![]);}else _0x5f40bb=![];}}_0x20b6c1>0x0&&_0x4012f2===_0x20b6c1&&_0x5f40bb?_0x2564bd[_0x119923(0x5c4)]=0x1:_0x2564bd['specialist']=0x0,_0x22df9c[_0x119923(0x4b5)](_0x27ca1f,{'studentName':_0x571430,'totalPoints':_0x5800af,'unlockedBadges':Object[_0x119923(0x58b)](_0x2564bd)[_0x119923(0x802)](_0x4e7147=>_0x2564bd[_0x4e7147]>0x0),'badgesCount':_0x2564bd},{'merge':!![]});});}catch(_0x16f807){console[_0x431989(0x4e7)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x16f807),showMessage(_0x431989(0x44d));}}function _0x1ea5(_0xc1edbf,_0xce539){const _0x5bdc6a=_0x5bdc();return _0x1ea5=function(_0x1ea5ce,_0x1cb059){_0x1ea5ce=_0x1ea5ce-0xc7;let _0x2f9258=_0x5bdc6a[_0x1ea5ce];return _0x2f9258;},_0x1ea5(_0xc1edbf,_0xce539);}function startAdminTest(){const _0x3279d4=_0x2ee497;if(!currentQuizData){showMessage(_0x3279d4(0x55d));return;}let _0x452cc0=JSON[_0x3279d4(0x2ed)](JSON[_0x3279d4(0x5f7)](currentQuizData));currentMode=_0x3279d4(0x33e),currentStudentName=_0x3279d4(0x48e),adminView['classList'][_0x3279d4(0x34f)](_0x3279d4(0x730)),studentView[_0x3279d4(0xe6)][_0x3279d4(0x728)](_0x3279d4(0x730)),studentInitialView[_0x3279d4(0xe6)][_0x3279d4(0x34f)]('hidden'),studentNameSelectionView[_0x3279d4(0xe6)][_0x3279d4(0x34f)]('hidden'),studentResultArea[_0x3279d4(0xe6)]['add']('hidden'),studentQuizArea[_0x3279d4(0xe6)][_0x3279d4(0x728)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x452cc0);}function handleResultDisplay(_0x50e7d6,_0x15e866,_0x252a2c,_0x82acd2,_0x319f33,_0x2fcfc4){const _0xe7aaba=_0x2ee497;if(_0x50e7d6==='manual_release'){displaySubmissionConfirmation();return;}const _0x4daa41=currentDisplayedQuiz[_0xe7aaba(0x481)]?.['passingScore']??Math[_0xe7aaba(0x6be)](_0x2fcfc4/0x2),_0x4ccdb4=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x337c43=currentDisplayedQuiz[_0xe7aaba(0x481)]?.['loopUntilPass']===!![],_0x396980=_0x15e866<_0x4daa41,_0x28afc0=_0x50e7d6===_0xe7aaba(0x76d)||_0x50e7d6==='perfect_score_status';if(_0x337c43&&_0x396980&&!_0x28afc0){_0x50e7d6===_0xe7aaba(0x545)?displayResultsWithAnswers(_0x15e866,_0x252a2c,_0x82acd2,_0x319f33,_0x2fcfc4,!![]):displayLoopScreen(_0x15e866,_0x2fcfc4,_0x50e7d6);return;}if(_0x4ccdb4&&_0x396980){startAdaptiveFlow(_0x319f33,_0x15e866,_0x2fcfc4);return;}switch(_0x50e7d6){case _0xe7aaba(0x545):displayResultsWithAnswers(_0x15e866,_0x252a2c,_0x82acd2,_0x319f33,_0x2fcfc4);break;case _0xe7aaba(0x32b):displayResultsScoreOnly(_0x15e866,_0x252a2c,_0x82acd2,_0x2fcfc4);break;case'show_pass_fail_only':displayPassFailOnly(_0x15e866,_0x2fcfc4);break;case'half_mark_status':displayHalfMarkResult(_0x15e866,_0x2fcfc4);break;case'perfect_score_status':displayPerfectScoreResult(_0x15e866,_0x2fcfc4);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x15975e){const _0x2fce36=_0x2ee497;studentReadingArea[_0x2fce36(0x7de)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x1274bd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15975e+_0x2fce36(0x26c)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x1d3a19={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2fce36(0xfb),'items':{'type':_0x2fce36(0x5e0)}},'correctAnswerIndex':{'type':_0x2fce36(0xda)},'explanation':{'type':_0x2fce36(0x5e0)}},'required':[_0x2fce36(0x325),_0x2fce36(0x7e1),'correctAnswerIndex','explanation']},_0x148d07={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2fce36(0xfb),'items':_0x1d3a19}},'required':['topic',_0x2fce36(0x2f4)]};try{const _0x30e959=await callAnalysisApi(_0x1274bd,_0x148d07);_0x30e959[_0x2fce36(0x6fb)]=!![],studentReadingArea[_0x2fce36(0xe6)][_0x2fce36(0x34f)](_0x2fce36(0x730));const _0x3ab337={...currentDisplayedQuiz[_0x2fce36(0x481)],'isAdaptive':![],'resultsDisplay':_0x2fce36(0x545)};_0x30e959['settings']=_0x3ab337,displayQuizForStudent(_0x30e959);}catch(_0x4866e2){console[_0x2fce36(0x4e7)](_0x2fce36(0x3c0),_0x4866e2),showMessage(_0x2fce36(0x5d4)),showView(_0x2fce36(0x189));}}function displayPassFailOnly(_0x5a5968,_0x1f2569){const _0x27ed60=_0x2ee497,_0x13336f=currentDisplayedQuiz[_0x27ed60(0x481)]?.[_0x27ed60(0x342)]??-0x1,_0x1bea89=currentDisplayedQuiz[_0x27ed60(0x6fb)]===!![];let _0x3fb730='',_0x30d7c5=![];if(_0x1bea89||_0x13336f!==-0x1){_0x30d7c5=_0x1bea89?_0x5a5968===_0x1f2569:_0x5a5968>=_0x13336f;const _0x243e83=_0x30d7c5?'bg-green-100\x20text-green-800':_0x27ed60(0x756),_0x2263aa=_0x30d7c5?_0x27ed60(0x303):_0x27ed60(0x12e);_0x3fb730='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x243e83+'\x22>'+_0x2263aa+_0x27ed60(0x2ef);}else _0x3fb730=_0x27ed60(0x418);let _0x386f11=_0x27ed60(0x69a)+currentStudentName+_0x27ed60(0x466)+_0x3fb730+_0x27ed60(0x6a0);studentResultArea[_0x27ed60(0x7de)]=_0x386f11,studentResultArea[_0x27ed60(0xe6)][_0x27ed60(0x728)]('hidden'),studentQuizArea['classList'][_0x27ed60(0x34f)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x30d7c5});}function cancelAdminTest(){const _0x58c737=_0x2ee497;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x58c737(0x7c1)](_0x58c737(0x76b),handleFullscreenChange),document[_0x58c737(0x7c1)]('visibilitychange',handleVisibilityChange),currentMode=_0x58c737(0x79b),studentView['classList'][_0x58c737(0x34f)](_0x58c737(0x730)),adminView['classList'][_0x58c737(0x728)](_0x58c737(0x730)),showView(_0x58c737(0x43c));}function setupResultScreenBackButton(_0x31aba8){const _0x4b7ac5=_0x2ee497,_0x1bd655={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x31aba8};if(_0x1bd655[_0x4b7ac5(0x7c8)]){const _0x183ac6=_0x4b7ac5(0x7dd);studentResultArea[_0x4b7ac5(0x2aa)](_0x4b7ac5(0x1ed),_0x183ac6),document[_0x4b7ac5(0x339)]('retake-quiz-loop-btn')[_0x4b7ac5(0x834)](_0x4b7ac5(0x5c7),()=>{const _0x13615e=_0x4b7ac5;studentResultArea[_0x13615e(0xe6)][_0x13615e(0x34f)](_0x13615e(0x730)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x1043b2='back-from-results-btn',_0x10d44d=currentMode===_0x4b7ac5(0x33e),_0x750ee8=_0x10d44d?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x12f714='';_0x1bd655[_0x4b7ac5(0x1ea)]&&(_0x12f714+=_0x4b7ac5(0x5ef));let _0x2a118f=_0x1bd655['showImproveButton'];_0x2a118f===undefined&&(_0x2a118f=_0x1bd655[_0x4b7ac5(0x13c)]<_0x1bd655['totalQuestions']);_0x2a118f&&(_0x12f714+=_0x4b7ac5(0xf4));_0x12f714+=_0x4b7ac5(0x193)+_0x1043b2+_0x4b7ac5(0x67d)+_0x750ee8+_0x4b7ac5(0x3c4);const _0x332033=_0x4b7ac5(0x1a7)+_0x12f714+_0x4b7ac5(0x22a);studentResultArea[_0x4b7ac5(0x2aa)](_0x4b7ac5(0x1ed),_0x332033),studentResultArea[_0x4b7ac5(0x205)]('#view-rankings-btn')?.[_0x4b7ac5(0x834)]('click',handleShowStudentRankings);const _0x7c4e17=studentResultArea['querySelector'](_0x4b7ac5(0x263));_0x7c4e17&&_0x7c4e17[_0x4b7ac5(0x834)]('click',()=>{const _0x36ef84=_0x4b7ac5;studentResultArea['classList'][_0x36ef84(0x34f)](_0x36ef84(0x730)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x1043b2)[_0x4b7ac5(0x834)](_0x4b7ac5(0x5c7),()=>{const _0xbcbc4b=_0x4b7ac5;_0x10d44d?(currentMode=_0xbcbc4b(0x79b),studentView[_0xbcbc4b(0xe6)][_0xbcbc4b(0x34f)]('hidden'),adminView[_0xbcbc4b(0xe6)]['remove'](_0xbcbc4b(0x730)),showView(_0xbcbc4b(0x43c))):(showView(_0xbcbc4b(0x189)),document['getElementById'](_0xbcbc4b(0x3ab))[_0xbcbc4b(0x2b8)]='');});}function displayResultsWithAnswers(_0x17b273,_0x2ac653,_0x37bdd1,_0x178f0c,_0x4a3a8e,_0x33fc10=![]){const _0x44d299=_0x2ee497,_0x546db8=_0x4a3a8e>0x0?_0x17b273/_0x4a3a8e*0x64:0x0,_0x370280=currentDisplayedQuiz[_0x44d299(0x481)]?.[_0x44d299(0x342)]??-0x1,_0x398017=currentDisplayedQuiz[_0x44d299(0x6fb)]===!![];let _0x1c7005='';if(_0x398017||_0x370280!==-0x1){let _0x3ce418=_0x398017?_0x17b273===_0x4a3a8e:_0x17b273>=_0x370280;const _0x200d6d=_0x3ce418?_0x44d299(0x636):_0x44d299(0x756),_0x46fd73=_0x3ce418?_0x44d299(0x303):_0x44d299(0x12e);_0x1c7005=_0x44d299(0xfd)+_0x200d6d+'\x22>'+_0x46fd73+_0x44d299(0x174);}let _0x50705d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x44d299(0x558)+_0x17b273+_0x44d299(0x3ef)+_0x4a3a8e+_0x44d299(0x42f)+_0x1c7005+_0x44d299(0x6e1)+_0x2ac653+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x546db8['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x44d299(0x2f4)][_0x44d299(0x2f1)]((_0x46ac4e,_0x263b43)=>{const _0x558416=_0x44d299,_0x467ecd=_0x178f0c[_0x263b43],_0x48c864=_0x467ecd[_0x558416(0x16e)],_0x43f836=_0x467ecd[_0x558416(0x358)],_0x44ac22=_0x46ac4e['questionType']||currentDisplayedQuiz[_0x558416(0x867)];_0x50705d+=_0x558416(0x662)+(_0x43f836?_0x558416(0x5f4):_0x558416(0x35f))+_0x558416(0x68b)+(_0x263b43+0x1)+'.\x20'+(_0x46ac4e[_0x558416(0x37b)]||_0x46ac4e[_0x558416(0x325)])+_0x558416(0x671);switch(_0x44ac22){case _0x558416(0x368):const _0x261098=_0x48c864||_0x558416(0x689),_0x1d4646=_0x46ac4e['correctResponse'];_0x50705d+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x43f836?'line-through\x20text-red-700':'')+'\x22>'+_0x261098+_0x558416(0x4ac);!_0x43f836&&(_0x50705d+=_0x558416(0x34c)+_0x1d4646+'</p>');break;case _0x558416(0x324):_0x50705d+=_0x558416(0x860)+(_0x48c864||_0x558416(0x689))+_0x558416(0x174),_0x50705d+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x46ac4e[_0x558416(0x575)]+_0x558416(0x174);break;case _0x558416(0x354):_0x50705d+=_0x558416(0x696)+(_0x46ac4e['correctAnswer']===!![]?_0x558416(0x5cf):'')+'\x20'+(_0x48c864===_0x558416(0x36f)&&!_0x43f836?_0x558416(0x109):'')+_0x558416(0x7e9),_0x50705d+='<p\x20class=\x22'+(_0x46ac4e[_0x558416(0x394)]===![]?_0x558416(0x5cf):'')+'\x20'+(_0x48c864===_0x558416(0x51a)&&!_0x43f836?_0x558416(0x109):'')+'\x22>ไม่ใช่</p>';break;default:_0x50705d+=_0x46ac4e[_0x558416(0x7e1)][_0x558416(0x71d)]((_0x1df42a,_0x5aa493)=>{const _0x4dd2cf=_0x558416;let _0x230308='',_0x4f14ea='';if(_0x5aa493===_0x46ac4e[_0x4dd2cf(0x75e)])_0x230308=_0x4dd2cf(0x5cf),_0x4f14ea=_0x4dd2cf(0x7f1);else _0x5aa493===_0x48c864&&(_0x230308=_0x4dd2cf(0x443),_0x4f14ea=_0x4dd2cf(0x3aa));return _0x4dd2cf(0x22d)+_0x230308+'\x22>'+_0x4f14ea+_0x1df42a+_0x4dd2cf(0x22a);})[_0x558416(0x8bf)]('');break;}_0x50705d+=_0x558416(0x192)+(_0x46ac4e['explanation']||_0x558416(0x23e))+_0x558416(0x22a);if(!_0x43f836){const _0x4a23da=_0x46ac4e[_0x558416(0x37b)]||_0x46ac4e[_0x558416(0x325)];_0x50705d+=_0x558416(0x6dd)+escape(_0x4a23da)+_0x558416(0x76c);}_0x50705d+=_0x558416(0x22a);}),studentResultArea[_0x44d299(0x7de)]=_0x50705d,renderEarnedBadges(_0x37bdd1,'earned-badges-container'),studentResultArea[_0x44d299(0xe6)][_0x44d299(0x728)](_0x44d299(0x730)),studentQuizArea['classList'][_0x44d299(0x34f)](_0x44d299(0x730)),setupResultScreenBackButton({'isLooping':_0x33fc10,'score':_0x17b273,'totalQuestions':_0x4a3a8e,'showRankings':!![]});if(window[_0x44d299(0x20e)])window[_0x44d299(0x20e)][_0x44d299(0x190)]([studentResultArea]);}function displayResultsScoreOnly(_0x54dd9e,_0xfe7855,_0x2ac1ef,_0x566604){const _0x5dba33=_0x2ee497,_0x4a38d4=_0x566604>0x0?_0x54dd9e/_0x566604*0x64:0x0,_0x157dfa=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x13d7b3=currentDisplayedQuiz[_0x5dba33(0x6fb)]===!![];let _0x29b8d4='';if(_0x13d7b3||_0x157dfa!==-0x1){let _0x3a0d1c=_0x13d7b3?_0x54dd9e===_0x566604:_0x54dd9e>=_0x157dfa;const _0x2bfaad=_0x3a0d1c?_0x5dba33(0x636):_0x5dba33(0x756),_0x3c5683=_0x3a0d1c?_0x5dba33(0x303):_0x5dba33(0x12e);_0x29b8d4=_0x5dba33(0xfd)+_0x2bfaad+'\x22>'+_0x3c5683+_0x5dba33(0x174);}let _0x30f6c7=_0x5dba33(0x69a)+currentStudentName+_0x5dba33(0x20c)+_0x54dd9e+_0x5dba33(0x6ea)+_0x566604+_0x5dba33(0x42f)+_0x29b8d4+_0x5dba33(0x6e1)+_0xfe7855+_0x5dba33(0x379)+_0x4a38d4[_0x5dba33(0x83e)](0x0)+_0x5dba33(0x4cf);studentResultArea['innerHTML']=_0x30f6c7,renderEarnedBadges(_0x2ac1ef,'earned-badges-container'),studentResultArea[_0x5dba33(0xe6)][_0x5dba33(0x728)](_0x5dba33(0x730)),studentQuizArea[_0x5dba33(0xe6)]['add'](_0x5dba33(0x730)),setupResultScreenBackButton({'score':_0x54dd9e,'totalQuestions':_0x566604,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x520b0f=_0x2ee497;let _0x284fc3=_0x520b0f(0x87a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x520b0f(0x7de)]=_0x284fc3,studentResultArea[_0x520b0f(0xe6)]['remove'](_0x520b0f(0x730)),studentQuizArea[_0x520b0f(0xe6)]['add'](_0x520b0f(0x730)),document[_0x520b0f(0x339)](_0x520b0f(0x891))['addEventListener']('click',()=>{const _0x4586e4=_0x520b0f;showView(_0x4586e4(0x189)),document[_0x4586e4(0x339)]('quiz-id-input')[_0x4586e4(0x2b8)]='';});}function renderEarnedBadges(_0x50c7fc,_0x276d2e){const _0xc11c9e=_0x2ee497,_0x3ab26f=document['getElementById'](_0x276d2e);if(!_0x3ab26f||!_0x50c7fc||_0x50c7fc[_0xc11c9e(0x2fe)]===0x0)return;let _0x5130fc='';_0x50c7fc[_0xc11c9e(0x2f1)]((_0x256a20,_0x43dd6b)=>{const _0x222a80=_0xc11c9e,_0x5ea057=Object[_0x222a80(0x718)](BADGES)[_0x222a80(0x5f9)](_0x26bbc2=>_0x26bbc2['id']===_0x256a20);_0x5ea057&&(_0x5130fc+=_0x222a80(0x8b8)+_0x43dd6b*0.2+_0x222a80(0x32f)+_0x5ea057[_0x222a80(0x2bf)]+_0x222a80(0x3e8)+_0x5ea057[_0x222a80(0x17e)]+_0x222a80(0x6c3)+_0x5ea057[_0x222a80(0x2eb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x3ab26f['innerHTML']=_0x5130fc;}function startPresentation(_0x5addf6){const _0x3e7cda=_0x2ee497;currentQuizData=getShuffledQuiz(_0x5addf6),currentPresentationSlide=0x0,presentationModal[_0x3e7cda(0x6fd)]['display']=_0x3e7cda(0x4b8),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x556815=_0x2ee497;document[_0x556815(0x219)]&&document['exitFullscreen'](),presentationModal[_0x556815(0x6fd)][_0x556815(0x5e9)]=_0x556815(0x253);}function renderPresentationSlide(_0x302fa4){const _0x2543b5=_0x2ee497,_0x5afc72=document['getElementById']('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x2543b5(0x2f4)]||!currentQuizData['questions'][_0x302fa4]){_0x5afc72[_0x2543b5(0x7de)]=_0x2543b5(0x4e4);return;}const _0x33a347=currentQuizData[_0x2543b5(0x2f4)][_0x302fa4],_0x39ff98=_0x33a347[_0x2543b5(0x790)]||currentQuizData[_0x2543b5(0x867)];_0x5afc72[_0x2543b5(0x7de)]='';let _0x1a152d=_0x2543b5(0x782)+(_0x33a347[_0x2543b5(0x216)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x33a347['imageCode']+_0x2543b5(0x22a):'')+_0x2543b5(0x147)+(_0x302fa4+0x1)+'.\x20'+(_0x33a347['stem']||_0x33a347[_0x2543b5(0x325)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x39ff98){case _0x2543b5(0x368):_0x1a152d+=_0x33a347['allResponses']['map'](_0x156597=>_0x2543b5(0x4b1)+_0x156597+_0x2543b5(0x69c))[_0x2543b5(0x8bf)]('');break;case _0x2543b5(0x354):_0x1a152d+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x1a152d+=_0x2543b5(0x23c);break;case'fill_in_no_choices':case'short_answer':_0x1a152d+=_0x2543b5(0x771);break;case _0x2543b5(0x2d2):case'multiple_choice':default:_0x1a152d+=_0x33a347[_0x2543b5(0x7e1)]['map']((_0x59faf9,_0x4cfed3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x4cfed3+_0x2543b5(0xd3)+_0x59faf9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x1a152d+=_0x2543b5(0x848)+(_0x33a347[_0x2543b5(0x105)]||_0x2543b5(0x23e))+_0x2543b5(0x670),_0x5afc72[_0x2543b5(0x7de)]=_0x1a152d;if(window[_0x2543b5(0x20e)])window[_0x2543b5(0x20e)]['typesetPromise']([_0x5afc72]);document[_0x2543b5(0x450)]('.presentation-option')['forEach'](_0x162991=>{const _0x172d00=_0x2543b5;_0x162991[_0x172d00(0x834)](_0x172d00(0x5c7),_0x4d37a6=>revealAnswerForPresentation(_0x302fa4,_0x4d37a6[_0x172d00(0x620)]));});const _0x1023ac=document[_0x2543b5(0x339)]('check-presentation-answer-btn');_0x1023ac&&_0x1023ac['addEventListener'](_0x2543b5(0x5c7),()=>checkShortAnswerForPresentation(_0x302fa4)),document[_0x2543b5(0x339)](_0x2543b5(0x410))[_0x2543b5(0x477)]=_0x2543b5(0x3cf)+(_0x302fa4+0x1)+_0x2543b5(0x3d5)+currentQuizData[_0x2543b5(0x2f4)][_0x2543b5(0x2fe)],document[_0x2543b5(0x339)](_0x2543b5(0x175))['disabled']=_0x302fa4===0x0,document[_0x2543b5(0x339)](_0x2543b5(0x710))[_0x2543b5(0x154)]=_0x302fa4===currentQuizData[_0x2543b5(0x2f4)][_0x2543b5(0x2fe)]-0x1;}async function checkShortAnswerForPresentation(_0x1a2fb4){const _0x4056ed=_0x2ee497,_0x220bbd=currentQuizData['questions'][_0x1a2fb4],_0x25221b=document[_0x4056ed(0x339)](_0x4056ed(0x31c)),_0x27f37f=document[_0x4056ed(0x339)](_0x4056ed(0x1d2)),_0x5cbd4a=document[_0x4056ed(0x339)](_0x4056ed(0x868)),_0x54330c=document[_0x4056ed(0x339)]('presentation-explanation');if(!_0x25221b||!_0x27f37f||!_0x5cbd4a||!_0x54330c)return;const _0x455418=_0x25221b[_0x4056ed(0x2b8)][_0x4056ed(0x6df)]();if(_0x455418==='')return;_0x27f37f['disabled']=!![],_0x27f37f[_0x4056ed(0x7de)]=_0x4056ed(0x5d7),_0x25221b['disabled']=!![];const _0x537370=await gradeShortAnswer(_0x455418,_0x220bbd);_0x537370?_0x5cbd4a[_0x4056ed(0x7de)]=_0x4056ed(0x6c2):_0x5cbd4a[_0x4056ed(0x7de)]=_0x4056ed(0x586)+_0x220bbd[_0x4056ed(0x575)]+')',_0x5cbd4a[_0x4056ed(0xe6)][_0x4056ed(0x728)](_0x4056ed(0x730)),_0x54330c[_0x4056ed(0xe6)][_0x4056ed(0x728)](_0x4056ed(0x730)),_0x27f37f[_0x4056ed(0xe6)][_0x4056ed(0x34f)]('hidden');}function revealAnswerForPresentation(_0x5dc5f8,_0x5a9593){const _0x52c168=_0x2ee497,_0x2b40cf=currentQuizData[_0x52c168(0x2f4)][_0x5dc5f8],_0x3860b5=_0x2b40cf[_0x52c168(0x790)]||currentQuizData[_0x52c168(0x867)];document[_0x52c168(0x450)](_0x52c168(0x3bb))[_0x52c168(0x2f1)](_0xa75a33=>{const _0x46442c=_0x52c168;_0xa75a33[_0x46442c(0x154)]=!![],_0xa75a33[_0x46442c(0xe6)][_0x46442c(0x728)](_0x46442c(0x6c7));let _0x1a0f71=![];if(_0x3860b5===_0x46442c(0x73c)||_0x3860b5===_0x46442c(0x2d2)){const _0x342c28=parseInt(_0xa75a33['dataset'][_0x46442c(0x6d8)]);_0x1a0f71=_0x342c28===_0x2b40cf[_0x46442c(0x75e)];}else{if(_0x3860b5===_0x46442c(0x354)){const _0x58f3e8=_0xa75a33[_0x46442c(0x185)][_0x46442c(0x16e)]===_0x46442c(0x36f);_0x1a0f71=_0x58f3e8===_0x2b40cf[_0x46442c(0x394)];}else _0x3860b5===_0x46442c(0x368)&&(_0x1a0f71=_0xa75a33[_0x46442c(0x477)][_0x46442c(0x6df)]()===_0x2b40cf[_0x46442c(0x41d)]);}_0x1a0f71?_0xa75a33['classList'][_0x46442c(0x34f)]('bg-green-500','text-white',_0x46442c(0x551)):_0xa75a33[_0x46442c(0xe6)][_0x46442c(0x34f)](_0x46442c(0x21d));}),_0x5a9593[_0x52c168(0xe6)][_0x52c168(0x728)](_0x52c168(0x21d));let _0x5be132=![];if(_0x3860b5===_0x52c168(0x73c))_0x5be132=parseInt(_0x5a9593[_0x52c168(0x185)][_0x52c168(0x6d8)])===_0x2b40cf[_0x52c168(0x75e)];else{if(_0x3860b5===_0x52c168(0x354))_0x5be132=_0x5a9593[_0x52c168(0x185)][_0x52c168(0x16e)]==='true'===_0x2b40cf[_0x52c168(0x394)];else _0x3860b5==='matching_item'&&(_0x5be132=_0x5a9593['textContent'][_0x52c168(0x6df)]()===_0x2b40cf[_0x52c168(0x41d)]);}!_0x5be132&&_0x5a9593[_0x52c168(0xe6)][_0x52c168(0x34f)](_0x52c168(0x5e2),_0x52c168(0x115),_0x52c168(0x2fd)),document[_0x52c168(0x339)]('presentation-explanation')[_0x52c168(0xe6)][_0x52c168(0x728)]('hidden');}function startWholeQuizTimer(_0x3cf5d5){const _0x31bacf=_0x2ee497,_0x33df3f=document['getElementById'](_0x31bacf(0x654));if(!_0x33df3f)return;const _0x149604=Date[_0x31bacf(0x582)]()+_0x3cf5d5*0x3c*0x3e8;_0x33df3f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x19dd51=document[_0x31bacf(0x339)](_0x31bacf(0x469));quizTimerInterval=setInterval(()=>{const _0x5b8854=_0x31bacf,_0x550f37=_0x149604-Date['now']();if(_0x550f37<=0x0)clearInterval(quizTimerInterval),_0x19dd51[_0x5b8854(0x477)]=_0x5b8854(0x562),showMessage(_0x5b8854(0x311)),handleSubmitQuiz(null);else{const _0x44605e=Math[_0x5b8854(0x6be)](_0x550f37/0x3e8/0x3c%0x3c)[_0x5b8854(0x289)]()[_0x5b8854(0x468)](0x2,'0'),_0x255690=Math[_0x5b8854(0x6be)](_0x550f37/0x3e8%0x3c)['toString']()[_0x5b8854(0x468)](0x2,'0');_0x19dd51[_0x5b8854(0x477)]=_0x44605e+':'+_0x255690;}},0x3e8);}function renderPerQuestionView(){const _0x5a3a3b=_0x2ee497;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x319250=currentDisplayedQuiz[_0x5a3a3b(0x2f4)][currentQuestionIndex],_0x1ff9f4=_0x319250[_0x5a3a3b(0x790)]||currentDisplayedQuiz[_0x5a3a3b(0x867)];let _0x128315='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x5a3a3b(0x308)+currentDisplayedQuiz[_0x5a3a3b(0x2f4)][_0x5a3a3b(0x2fe)]+_0x5a3a3b(0x7d7)+(currentMode===_0x5a3a3b(0x33e)?_0x5a3a3b(0x17b):'')+_0x5a3a3b(0x6f1)+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x5a3a3b(0x2fe)]-0x1?_0x5a3a3b(0x43d):_0x5a3a3b(0x426))+_0x5a3a3b(0x614);studentQuizArea[_0x5a3a3b(0x7de)]=_0x128315;let _0x356235='',_0x18eb6f='';switch(_0x1ff9f4){case _0x5a3a3b(0x368):_0x356235=currentQuestionIndex+0x1+'.\x20'+_0x319250[_0x5a3a3b(0x37b)],_0x18eb6f=_0x5a3a3b(0x155)+_0x319250[_0x5a3a3b(0x8a0)][_0x5a3a3b(0x71d)](_0x5c02cb=>_0x5a3a3b(0x118)+_0x5c02cb+'\x22>'+_0x5c02cb+'</option>')[_0x5a3a3b(0x8bf)]('')+_0x5a3a3b(0x3d0);break;case _0x5a3a3b(0x354):_0x356235=currentQuestionIndex+0x1+'.\x20'+_0x319250[_0x5a3a3b(0x325)],_0x18eb6f=_0x5a3a3b(0x7c0);break;case _0x5a3a3b(0x324):case _0x5a3a3b(0x604):_0x356235=currentQuestionIndex+0x1+'.\x20'+_0x319250[_0x5a3a3b(0x325)],_0x18eb6f=_0x5a3a3b(0x5c8);break;case _0x5a3a3b(0x73c):case _0x5a3a3b(0x10d):default:_0x356235=currentQuestionIndex+0x1+'.\x20'+_0x319250[_0x5a3a3b(0x325)],_0x18eb6f=_0x319250[_0x5a3a3b(0x7e1)]['map']((_0x50a5ca,_0x53945e)=>_0x5a3a3b(0x71a)+_0x53945e+_0x5a3a3b(0x621)+_0x53945e+_0x5a3a3b(0x5a3)+_0x53945e+'\x22>'+_0x50a5ca+_0x5a3a3b(0x610))[_0x5a3a3b(0x8bf)]('');break;}_0x319250[_0x5a3a3b(0x216)]&&(_0x356235+=_0x5a3a3b(0x55c)+_0x319250[_0x5a3a3b(0x216)]+_0x5a3a3b(0x22a));document[_0x5a3a3b(0x339)](_0x5a3a3b(0x3d7))[_0x5a3a3b(0x7de)]=_0x356235,document['getElementById'](_0x5a3a3b(0x740))[_0x5a3a3b(0x7de)]=_0x18eb6f;if(currentMode===_0x5a3a3b(0x33e)){const _0x387a92=document[_0x5a3a3b(0x339)](_0x5a3a3b(0x52e));if(_0x387a92)_0x387a92[_0x5a3a3b(0x834)]('click',cancelAdminTest);}document['getElementById'](_0x5a3a3b(0xd7))[_0x5a3a3b(0x834)](_0x5a3a3b(0x5c7),()=>handleNextQuestionInTimedMode(![]));if(window[_0x5a3a3b(0x20e)])window[_0x5a3a3b(0x20e)][_0x5a3a3b(0x190)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x4321e8=_0x2ee497,_0x208938=currentDisplayedQuiz[_0x4321e8(0x481)][_0x4321e8(0x69b)],_0x51a289=document[_0x4321e8(0x339)]('per-question-timer-container');if(!_0x51a289)return;let _0x4853c0=_0x208938;_0x51a289[_0x4321e8(0x7de)]=_0x4321e8(0x14f)+_0x4853c0+_0x4321e8(0x74f);const _0x5bdd89=document[_0x4321e8(0x339)](_0x4321e8(0x210)),_0x15bff7=document['getElementById'](_0x4321e8(0xf7));perQuestionTimerInterval=setInterval(()=>{const _0x4ff902=_0x4321e8;_0x4853c0--;const _0x464f6c=_0x4853c0/_0x208938*0x64;_0x5bdd89[_0x4ff902(0x6fd)][_0x4ff902(0x266)]=_0x464f6c+'%',_0x15bff7['textContent']=_0x4853c0,_0x4853c0<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4ff902(0x741)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x457def=![]){const _0x2b6876=_0x2ee497;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2a0c1b=null;if(!_0x457def){const _0x4a0f59=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x3ec764=_0x4a0f59['questionType']||currentDisplayedQuiz[_0x2b6876(0x867)];if(_0x3ec764===_0x2b6876(0x324)||_0x3ec764===_0x2b6876(0x604)){const _0x4a3aa4=document[_0x2b6876(0x205)](_0x2b6876(0x48f));_0x2a0c1b=_0x4a3aa4?_0x4a3aa4[_0x2b6876(0x2b8)][_0x2b6876(0x6df)]():'';}else{if(_0x3ec764===_0x2b6876(0x368)){const _0x330e0b=document['querySelector']('#per-question-options\x20select');_0x2a0c1b=_0x330e0b?_0x330e0b[_0x2b6876(0x2b8)]:'';}else{const _0x194dcd=document[_0x2b6876(0x205)](_0x2b6876(0x583));if(_0x194dcd){const _0x35dcf5=_0x194dcd['value'];_0x2a0c1b=!isNaN(parseInt(_0x35dcf5,0xa))&&_0x35dcf5['trim']()!==''?parseInt(_0x35dcf5,0xa):_0x35dcf5;}}}}studentAnswersPerQuestion[_0x2b6876(0x447)](_0x2a0c1b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2b6876(0x2f4)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x248d6f=_0x2ee497,_0x48d2ca=currentDisplayedQuiz['questions'][_0x248d6f(0x642)](_0x2e419a=>_0x2e419a[_0x248d6f(0x790)]===_0x248d6f(0x324));_0x48d2ca?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x248d6f(0x82b));const _0x444fee=currentQuizData['id'],_0x4bc3f6=doc(db,_0x248d6f(0x100)+appId+'/public/data/quizzes/'+_0x444fee+_0x248d6f(0x607),currentStudentName),_0x3b13a2=await getDoc(_0x4bc3f6),_0x270da8=_0x3b13a2[_0x248d6f(0x475)]()?_0x3b13a2[_0x248d6f(0x656)]():{},_0x1334ad=_0x270da8[_0x248d6f(0x535)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x1334ad);}function getResultsFilename(){const _0x1d7cef=_0x2ee497,_0x1462e2=document[_0x1d7cef(0x339)](_0x1d7cef(0x729))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x1d7cef(0x47d)]();return'results_'+(_0x1462e2||_0x1d7cef(0x5bd));}function exportResultsAsImage(){const _0x2df6aa=_0x2ee497,_0x41afac=document[_0x2df6aa(0x339)](_0x2df6aa(0x5ee));showMessage(_0x2df6aa(0x5bf)),html2canvas(_0x41afac)['then'](_0x1ffc7f=>{const _0x2f4ccf=_0x2df6aa,_0x4da2df=document[_0x2f4ccf(0x6c9)]('a');_0x4da2df[_0x2f4ccf(0x148)]=getResultsFilename()+'.png',_0x4da2df['href']=_0x1ffc7f['toDataURL'](_0x2f4ccf(0x7ed)),_0x4da2df['click'](),messageModal['classList'][_0x2f4ccf(0x34f)]('hidden');});}function exportResultsAsPDF(){const _0x154799=_0x2ee497,{jsPDF:_0x28b94d}=window[_0x154799(0x847)],_0x30d414=new _0x28b94d();_0x30d414['setFont'](_0x154799(0x7ea),'normal'),_0x30d414[_0x154799(0x399)]({'html':'#results-table'}),_0x30d414[_0x154799(0x510)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x236bba=_0x2ee497,_0x2de200=_0x236bba(0x705)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x236bba(0x8a8),_0x19e89d=_0x236bba(0x493),_0x25d257=_0x2de200+document[_0x236bba(0x339)](_0x236bba(0x5ee))['innerHTML']+_0x19e89d,_0x335c08=_0x236bba(0x2b3)+encodeURIComponent(_0x25d257),_0x13a4b1=document[_0x236bba(0x6c9)]('a');document[_0x236bba(0x7c6)]['appendChild'](_0x13a4b1),_0x13a4b1[_0x236bba(0x69d)]=_0x335c08,_0x13a4b1[_0x236bba(0x148)]=getResultsFilename()+_0x236bba(0x235),_0x13a4b1['click'](),document['body'][_0x236bba(0x43a)](_0x13a4b1);}function exportResultsAsExcel(){const _0x31c92e=_0x2ee497,_0xf67306=document['getElementById'](_0x31c92e(0x200));let _0x28054d=[];for(let _0x434673=0x0;_0x434673<_0xf67306['rows'][_0x31c92e(0x2fe)];_0x434673++){let _0x47c899=[],_0xfeab66=_0xf67306[_0x31c92e(0x3d1)][_0x434673][_0x31c92e(0x450)](_0x31c92e(0x26b));for(let _0x21dd59=0x0;_0x21dd59<_0xfeab66['length'];_0x21dd59++){_0x47c899[_0x31c92e(0x447)]('\x22'+_0xfeab66[_0x21dd59]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x28054d[_0x31c92e(0x447)](_0x47c899[_0x31c92e(0x8bf)](','));}const _0x5a762b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x28054d['join']('\x0a')],{'type':_0x31c92e(0x661)}),_0x38da5f=document[_0x31c92e(0x6c9)]('a');_0x38da5f[_0x31c92e(0x69d)]=URL['createObjectURL'](_0x5a762b),_0x38da5f[_0x31c92e(0x148)]=getResultsFilename()+_0x31c92e(0x1de),_0x38da5f[_0x31c92e(0x5c7)]();}function exportTableAsImage(_0x259dde,_0x5132f8){const _0x57e67f=_0x2ee497,_0x988b00=document[_0x57e67f(0x339)](_0x259dde);if(!_0x988b00){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x57e67f(0x5bf)),html2canvas(_0x988b00)[_0x57e67f(0x2f3)](_0x1bf1f8=>{const _0x489583=_0x57e67f,_0x4fc2dd=document[_0x489583(0x6c9)]('a');_0x4fc2dd[_0x489583(0x148)]=_0x5132f8+_0x489583(0x708),_0x4fc2dd[_0x489583(0x69d)]=_0x1bf1f8[_0x489583(0x7cd)](_0x489583(0x7ed)),_0x4fc2dd[_0x489583(0x5c7)](),messageModal[_0x489583(0xe6)][_0x489583(0x34f)](_0x489583(0x730));});}function exportTableAsPDF(_0x5f2105,_0x2185b3){const _0x536d44=_0x2ee497,{jsPDF:_0x4b6060}=window[_0x536d44(0x847)],_0x5ab094=new _0x4b6060();_0x5ab094[_0x536d44(0x5ae)](_0x536d44(0x7ea),'normal'),_0x5ab094[_0x536d44(0x399)]({'html':'#'+_0x5f2105}),_0x5ab094[_0x536d44(0x510)](_0x2185b3+_0x536d44(0x73d));}function exportTableAsWord(_0x1ed0e3,_0x54c3cb){const _0x47ff30=_0x2ee497,_0x471f2c=document[_0x47ff30(0x339)](_0x1ed0e3);if(!_0x471f2c){showMessage(_0x47ff30(0x4c4));return;}const _0x1978ea='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x47ff30(0x35a)+_0x47ff30(0x6e3)+_0x47ff30(0x8a8),_0x4ed510=_0x47ff30(0x493),_0x2d0e0a=_0x1978ea+_0x471f2c[_0x47ff30(0x7de)]+_0x4ed510,_0x12dc93=_0x47ff30(0x2b3)+encodeURIComponent(_0x2d0e0a),_0x408195=document[_0x47ff30(0x6c9)]('a');document['body']['appendChild'](_0x408195),_0x408195[_0x47ff30(0x69d)]=_0x12dc93,_0x408195['download']=_0x54c3cb+'.doc',_0x408195[_0x47ff30(0x5c7)](),document[_0x47ff30(0x7c6)][_0x47ff30(0x43a)](_0x408195);}function exportTableAsExcel(_0x17efd8,_0x554d89){const _0x98d04a=_0x2ee497,_0x3f3207=document[_0x98d04a(0x339)](_0x17efd8);if(!_0x3f3207){showMessage(_0x98d04a(0x4c4));return;}let _0x11c3db=[];for(let _0x14dbf4=0x0;_0x14dbf4<_0x3f3207[_0x98d04a(0x3d1)][_0x98d04a(0x2fe)];_0x14dbf4++){let _0x43c886=[],_0x157ec9=_0x3f3207['rows'][_0x14dbf4][_0x98d04a(0x450)](_0x98d04a(0x26b));for(let _0x42cc48=0x0;_0x42cc48<_0x157ec9[_0x98d04a(0x2fe)];_0x42cc48++){_0x43c886[_0x98d04a(0x447)]('\x22'+_0x157ec9[_0x42cc48][_0x98d04a(0x856)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x11c3db[_0x98d04a(0x447)](_0x43c886['join'](','));}const _0x3e0bad=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x11c3db[_0x98d04a(0x8bf)]('\x0a')],{'type':_0x98d04a(0x661)}),_0x5370d1=document['createElement']('a');_0x5370d1[_0x98d04a(0x69d)]=URL[_0x98d04a(0x3cd)](_0x3e0bad),_0x5370d1[_0x98d04a(0x148)]=_0x554d89+_0x98d04a(0x1de),_0x5370d1[_0x98d04a(0x5c7)]();}function renderAnalytics(_0x4667f1,_0x5d896f){const _0x1e6176=_0x2ee497,_0x1dcb8e=_0x5d896f['filter'](_0x43f0be=>_0x43f0be[_0x1e6176(0x5df)]!==undefined),_0x2e85f2=currentProjectData[_0x1e6176(0x3ba)][_0x1e6176(0x2fe)],_0x12e3b2=_0x1dcb8e[_0x1e6176(0x2fe)],_0x24af55=_0x2e85f2-_0x12e3b2,_0x182b60=_0x2e85f2>0x0?_0x12e3b2/_0x2e85f2*0x64:0x0,_0x436506=_0x1dcb8e[_0x1e6176(0x71d)](_0x114820=>_0x114820[_0x1e6176(0x5df)]),_0x50cde8=_0x436506[_0x1e6176(0x2fe)]>0x0?_0x436506[_0x1e6176(0x24a)]((_0x24884a,_0x436c64)=>_0x24884a+_0x436c64,0x0)/_0x436506[_0x1e6176(0x2fe)]:0x0,_0x375fc5=_0x4667f1['questions'][_0x1e6176(0x2fe)],_0x50b60a=_0x375fc5>0x0?_0x50cde8/_0x375fc5*0x64:0x0,_0x47f786=calculateItemAnalysis(_0x4667f1,_0x1dcb8e),_0x150448=calculateReliabilityKR20(_0x4667f1,_0x1dcb8e,_0x47f786['perQuestionStats']);let _0xb65619='';if(_0x150448!==null){let _0x22016a='';if(_0x150448>=0.9)_0x22016a='ยอดเยี่ยม';else{if(_0x150448>=0.8)_0x22016a=_0x1e6176(0x345);else{if(_0x150448>=0.7)_0x22016a='ดี';else{if(_0x150448>=0.6)_0x22016a=_0x1e6176(0x567);else _0x22016a=_0x1e6176(0x372);}}}_0xb65619=_0x1e6176(0x61f)+_0x150448['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x22016a+_0x1e6176(0x5b3);}const _0x578126=document[_0x1e6176(0x339)](_0x1e6176(0x34e));_0x578126[_0x1e6176(0x7de)]=_0x1e6176(0x347)+_0x182b60[_0x1e6176(0x83e)](0x0)+_0x1e6176(0x20d)+_0x12e3b2+'/'+_0x2e85f2+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x50cde8['toFixed'](0x2)+_0x1e6176(0x455)+_0x50b60a[_0x1e6176(0x83e)](0x0)+_0x1e6176(0x1c1)+(_0x436506[_0x1e6176(0x2fe)]>0x0?Math[_0x1e6176(0x187)](..._0x436506):_0x1e6176(0x78d))+_0x1e6176(0x1bc)+(_0x436506[_0x1e6176(0x2fe)]>0x0?Math[_0x1e6176(0x89d)](..._0x436506):_0x1e6176(0x78d))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb65619+'\x0a\x20\x20\x20\x20';const _0xfa47f0=document[_0x1e6176(0x339)]('interesting-stats-wrapper');_0xfa47f0&&_0xfa47f0[_0x1e6176(0x728)]();const _0x233d8e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x578126[_0x1e6176(0x2aa)]('afterend',_0x233d8e);const _0x562e7e=currentProjectData['students']||[];renderSubmissionChart(_0x12e3b2,_0x24af55,_0x1dcb8e,_0x562e7e),renderScoreDistributionChart(_0x1dcb8e,_0x375fc5),renderQuestionAnalytics(_0x4667f1,_0x1dcb8e,_0x562e7e),renderInterestingStats(_0x4667f1,_0x1dcb8e);}async function handleExportLessonPDF(){const _0x64cceb=_0x2ee497,_0x2450c9=document[_0x64cceb(0x339)]('lesson-plan-content'),_0x518fc9=document[_0x64cceb(0x339)](_0x64cceb(0x7b0))['textContent'],_0x5c755d=window['open']('',_0x64cceb(0x1bb)),_0x23367d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x518fc9+_0x64cceb(0x4a9)+_0x2450c9['innerHTML']+_0x64cceb(0x609);_0x5c755d[_0x64cceb(0x820)][_0x64cceb(0x518)](_0x23367d),_0x5c755d[_0x64cceb(0x820)][_0x64cceb(0x126)](),_0x5c755d[_0x64cceb(0x191)]=function(){setTimeout(()=>{_0x5c755d['print']();},0x5dc);};}function renderInterestingStats(_0x841a09,_0xb05f08){const _0x2144d6=_0x2ee497,_0x7884e0=document[_0x2144d6(0x339)]('interesting-stats-container');if(!_0x7884e0)return;if(_0xb05f08['length']===0x0){_0x7884e0[_0x2144d6(0x7de)]=_0x2144d6(0x65e);return;}const _0x371078=_0x841a09[_0x2144d6(0x2f4)][_0x2144d6(0x71d)]((_0x22dba8,_0x40ee2b)=>({'index':_0x40ee2b+0x1,'text':_0x22dba8[_0x2144d6(0x325)]||_0x22dba8[_0x2144d6(0x37b)],'correct':0x0}));_0xb05f08['forEach'](_0xc44ec6=>{const _0x3698ac=_0x2144d6,_0x44624e=_0xc44ec6['attempts'][_0xc44ec6[_0x3698ac(0x535)][_0x3698ac(0x2fe)]-0x1];_0x44624e&&_0x44624e[_0x3698ac(0x57f)]&&_0x44624e['answers'][_0x3698ac(0x2f1)](_0x533f08=>{const _0x22d05d=_0x3698ac,_0x4d2242=_0x371078[_0x22d05d(0x5f9)](_0x2739be=>_0x2739be['text']===_0x533f08[_0x22d05d(0x6f6)]);_0x533f08['isCorrect']&&_0x4d2242&&_0x4d2242[_0x22d05d(0x793)]++;});});const _0xab7861=_0xb05f08[_0x2144d6(0x2fe)],_0x3935fe=Math[_0x2144d6(0x187)](..._0x371078[_0x2144d6(0x71d)](_0x56af54=>_0x56af54[_0x2144d6(0x793)])),_0x3a51cd=Math[_0x2144d6(0x89d)](..._0x371078['map'](_0x1000d9=>_0x1000d9[_0x2144d6(0x793)])),_0x185932=_0x371078[_0x2144d6(0x802)](_0x254af5=>_0x254af5['correct']===_0x3935fe)['map'](_0x541abb=>_0x2144d6(0x66f)+_0x541abb[_0x2144d6(0x6d8)]),_0x2930ad=_0x371078[_0x2144d6(0x802)](_0x3d25f1=>_0x3d25f1[_0x2144d6(0x793)]===_0x3a51cd)[_0x2144d6(0x71d)](_0x33ee91=>_0x2144d6(0x66f)+_0x33ee91[_0x2144d6(0x6d8)]),_0x44d099=_0xb05f08[_0x2144d6(0x377)]((_0x8bde7b,_0xb7b49b)=>_0xb7b49b[_0x2144d6(0x5df)]-_0x8bde7b['latestScore'])[_0x2144d6(0x802)]((_0x433f53,_0x1ab6a1,_0x2f6d6f)=>_0x433f53[_0x2144d6(0x5df)]===_0x2f6d6f[0x0]['latestScore']),_0x553988=_0xb05f08[_0x2144d6(0x377)]((_0x17b5b3,_0x391d2f)=>_0x17b5b3[_0x2144d6(0x5df)]-_0x391d2f['latestScore'])[_0x2144d6(0x802)]((_0x354c41,_0x34b016,_0x5804d1)=>_0x354c41[_0x2144d6(0x5df)]===_0x5804d1[0x0][_0x2144d6(0x5df)]),_0xb0d175=_0x2144d6(0x755)+_0x185932['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x3935fe+_0x2144d6(0x3d5)+_0xab7861+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x2930ad['join'](',\x20')+_0x2144d6(0x1d3)+(_0xab7861-_0x3a51cd)+_0x2144d6(0x3d5)+_0xab7861+_0x2144d6(0x16f)+_0x44d099[_0x2144d6(0x71d)](_0x1d67b1=>_0x1d67b1[_0x2144d6(0x7af)])['join'](',\x20')+_0x2144d6(0x4ed)+_0x44d099[0x0][_0x2144d6(0x5df)]+_0x2144d6(0x6f9)+_0x553988[_0x2144d6(0x71d)](_0x3bcdc2=>_0x3bcdc2['studentName'])[_0x2144d6(0x8bf)](',\x20')+_0x2144d6(0x4ed)+_0x553988[0x0][_0x2144d6(0x5df)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x7884e0['innerHTML']=_0xb0d175;}function renderSubmissionChart(_0x2763ff,_0x3a39bd,_0x449bde,_0x10fd26){const _0x4aa5eb=_0x2ee497,_0x1ede3e=document['getElementById'](_0x4aa5eb(0x31f))['getContext']('2d'),_0x2e6b0b=_0x449bde[_0x4aa5eb(0x71d)](_0x51a20c=>_0x51a20c[_0x4aa5eb(0x7af)]),_0x59ea09=_0x10fd26[_0x4aa5eb(0x802)](_0x504fe9=>!_0x2e6b0b[_0x4aa5eb(0x54e)](_0x504fe9));chartInstances[_0x4aa5eb(0x40b)]&&chartInstances[_0x4aa5eb(0x40b)][_0x4aa5eb(0x4e5)](),chartInstances[_0x4aa5eb(0x40b)]=new Chart(_0x1ede3e,{'type':'doughnut','data':{'labels':['ส่งแล้ว',_0x4aa5eb(0x597)],'datasets':[{'data':[_0x2763ff,_0x3a39bd],'backgroundColor':[_0x4aa5eb(0x6ab),_0x4aa5eb(0x808)],'borderColor':[_0x4aa5eb(0x1dd),_0x4aa5eb(0x1dd)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4aa5eb(0x344)},'tooltip':{'callbacks':{'label':function(_0x4e9892){const _0x170b92=_0x4aa5eb;let _0x26ae31=_0x4e9892[_0x170b92(0x7ad)]||'';return _0x26ae31&&(_0x26ae31+=':\x20'),_0x26ae31+=_0x4e9892[_0x170b92(0x3c9)],_0x26ae31;},'afterLabel':function(_0xf58606){const _0x3ccfd5=_0x4aa5eb;let _0x4616d6;return _0xf58606[_0x3ccfd5(0x416)]===0x0?_0x4616d6=_0x2e6b0b:_0x4616d6=_0x59ea09,_0x4616d6['length']>0x0?_0x4616d6[_0x3ccfd5(0x8bf)]('\x0a'):_0x3ccfd5(0x2ee);}}}}}});}function renderScoreDistributionChart(_0x1154e1,_0x3f59e5){const _0x539300=_0x2ee497,_0x23cc33=document[_0x539300(0x339)](_0x539300(0x2ce))[_0x539300(0x8a6)]('2d'),_0x17acc6={};for(let _0x1ce556=0x0;_0x1ce556<=_0x3f59e5;_0x1ce556++){_0x17acc6[_0x1ce556]=0x0;}_0x1154e1['forEach'](_0x151224=>{const _0x40bd77=_0x539300;_0x17acc6[_0x151224[_0x40bd77(0x5df)]]!==undefined&&_0x17acc6[_0x151224[_0x40bd77(0x5df)]]++;}),chartInstances['score']&&chartInstances['score'][_0x539300(0x4e5)](),chartInstances[_0x539300(0x13c)]=new Chart(_0x23cc33,{'type':_0x539300(0x706),'data':{'labels':Object[_0x539300(0x58b)](_0x17acc6),'datasets':[{'label':_0x539300(0x7fd),'data':Object['values'](_0x17acc6),'backgroundColor':_0x539300(0x2e6),'borderColor':_0x539300(0x735),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x539300(0x3f5)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x321006){const _0x347395=_0x539300,_0x4b965e=_0x321006['label'],_0x4a6f5c=_0x1154e1['filter'](_0x3dd766=>_0x3dd766[_0x347395(0x5df)]==_0x4b965e)[_0x347395(0x71d)](_0x188b77=>_0x188b77[_0x347395(0x7af)]);return _0x4a6f5c[_0x347395(0x2fe)]>0x0?_0x4a6f5c[_0x347395(0x8bf)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x50a61b,_0x531b51,_0x174ad1){const _0x15fd44=_0x2ee497,_0x1e743d=document[_0x15fd44(0x339)](_0x15fd44(0x7a9));if(_0x174ad1[_0x15fd44(0x2fe)]===0x0){_0x1e743d['innerHTML']=_0x15fd44(0x3fb);return;}const _0x4957d4=calculateItemAnalysis(_0x50a61b,_0x531b51),_0x18a547=calculateDistractorAnalysis(_0x50a61b,_0x531b51);let _0x328357='';_0x4957d4[_0x15fd44(0x84e)]&&(_0x328357=_0x15fd44(0x7d3)+_0x4957d4[_0x15fd44(0x84e)][_0x15fd44(0x2b2)][_0x15fd44(0x2fe)]+_0x15fd44(0x440)+_0x4957d4[_0x15fd44(0x84e)][_0x15fd44(0x2b2)][_0x15fd44(0x71d)](_0x4c1f97=>'<li>'+_0x4c1f97+_0x15fd44(0x201))[_0x15fd44(0x8bf)]('')+_0x15fd44(0x526)+_0x4957d4[_0x15fd44(0x84e)][_0x15fd44(0x51e)][_0x15fd44(0x2fe)]+_0x15fd44(0x440)+_0x4957d4[_0x15fd44(0x84e)]['lowerGroupNames'][_0x15fd44(0x71d)](_0xde282e=>'<li>'+_0xde282e+_0x15fd44(0x201))[_0x15fd44(0x8bf)]('')+_0x15fd44(0x52b));let _0x2dbbd5='';const _0x2c2170=_0x531b51['map'](_0x24cfc7=>_0x24cfc7[_0x15fd44(0x7af)]),_0x530977=_0x4d1d81=>{const _0x5b438f=_0x15fd44;if(_0x4d1d81>=0.8)return _0x5b438f(0x1a9);if(_0x4d1d81>=0.6)return _0x5b438f(0x164);if(_0x4d1d81>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x4d1d81>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x5b438f(0x578);},_0x12be49=_0x10e45e=>{const _0x443325=_0x15fd44;if(_0x10e45e<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x10e45e>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x10e45e>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x10e45e>=0.2)return _0x443325(0x51f);return _0x443325(0x698);},_0x4bb5be=_0xc30909=>{const _0x54d482=_0x15fd44,_0x9adaf0=_0xc30909[_0x54d482(0x83e)](0x0);if(parseFloat(_0x9adaf0)===0x64)return _0x54d482(0x514)+_0x9adaf0+_0x54d482(0x580);if(_0xc30909>=0x32)return _0x54d482(0x835)+_0x9adaf0+_0x54d482(0x580);return _0x54d482(0x898)+_0x9adaf0+'%</span>';};_0x50a61b[_0x15fd44(0x2f4)][_0x15fd44(0x2f1)]((_0x17f01f,_0x1c763e)=>{const _0x11da47=_0x15fd44,_0x1c2ab6=_0x4957d4[_0x11da47(0x80f)][_0x1c763e],_0x499501=_0x18a547[_0x1c763e],_0x20b08d=_0x17f01f[_0x11da47(0x37b)]||_0x17f01f[_0x11da47(0x325)]||_0x17f01f[_0x11da47(0x4f5)];let _0x5119b0=0x0;const _0x34e30c=[],_0x53406b=[];_0x531b51[_0x11da47(0x2f1)](_0x221ffc=>{const _0xc1904d=_0x11da47,_0x211c3a=_0x221ffc['attempts'][_0x221ffc['attempts'][_0xc1904d(0x2fe)]-0x1];if(_0x211c3a&&_0x211c3a[_0xc1904d(0x57f)]){const _0x832367=_0x211c3a[_0xc1904d(0x57f)]['find'](_0x4a0905=>_0x4a0905['originalQuestionText']===_0x20b08d)??_0x211c3a[_0xc1904d(0x57f)][_0x1c763e]??null;_0x832367&&(_0x832367['isCorrect']?(_0x5119b0++,_0x34e30c[_0xc1904d(0x447)](_0x221ffc[_0xc1904d(0x7af)])):_0x53406b[_0xc1904d(0x447)](_0x221ffc[_0xc1904d(0x7af)]));}});const _0x23e9a7=_0x531b51[_0x11da47(0x2fe)]>0x0?_0x5119b0/_0x531b51[_0x11da47(0x2fe)]*0x64:0x0,_0x2f5fc5=_0x174ad1[_0x11da47(0x802)](_0x35efd9=>!_0x2c2170[_0x11da47(0x54e)](_0x35efd9)),_0xe3e6f0=_0x1c2ab6?_0x11da47(0x21a)+_0x1c2ab6['p']['toFixed'](0x2)+_0x11da47(0x2a8)+_0x530977(_0x1c2ab6['p'])+_0x11da47(0x805)+_0x1c2ab6['r'][_0x11da47(0x83e)](0x2)+'</p><div>'+_0x12be49(_0x1c2ab6['r'])+_0x11da47(0x2dc)+_0x4bb5be(_0x23e9a7)+_0x11da47(0x635):'';let _0x37a7d9='';_0x499501&&(_0x37a7d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x11da47(0x58b)](_0x499501)[_0x11da47(0x71d)](_0x5a4436=>{const _0x39638e=_0x11da47,_0x4f30f4=_0x499501[_0x5a4436],_0x1e9ba8=parseInt(_0x5a4436)===_0x17f01f[_0x39638e(0x75e)],_0x1bab5c=!_0x1e9ba8&&_0x4f30f4[_0x39638e(0x855)]>_0x4f30f4[_0x39638e(0x49c)];return'<tr\x20class=\x22'+(_0x1e9ba8?'bg-green-100\x20font-bold':'')+_0x39638e(0x60c)+(_0x1e9ba8?'✔\x20':'')+_0x4f30f4[_0x39638e(0x67c)]+_0x39638e(0x669)+_0x4f30f4[_0x39638e(0x49c)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4f30f4[_0x39638e(0x855)]+'\x20'+(_0x1bab5c?'👍':'')+_0x39638e(0x669)+_0x4f30f4['total']+_0x39638e(0x383);})[_0x11da47(0x8bf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x3277f9='';_0x1c2ab6&&_0x1c2ab6[_0x11da47(0x3a5)]&&(_0x3277f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x1c2ab6[_0x11da47(0x3a5)][_0x11da47(0x2fe)]+_0x11da47(0x57a)+_0x1c2ab6[_0x11da47(0x3a5)][_0x11da47(0x71d)](_0x1f1f8b=>'<li>'+(_0x1f1f8b[_0x11da47(0x358)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x11da47(0x77b))+'\x20'+_0x1f1f8b[_0x11da47(0x2eb)]+'</li>')[_0x11da47(0x8bf)]('')+_0x11da47(0x1df)+_0x1c2ab6[_0x11da47(0x59f)]['length']+_0x11da47(0x57a)+_0x1c2ab6[_0x11da47(0x59f)][_0x11da47(0x71d)](_0x30e6ae=>'<li>'+(_0x30e6ae[_0x11da47(0x358)]?_0x11da47(0x47c):_0x11da47(0x77b))+'\x20'+_0x30e6ae[_0x11da47(0x2eb)]+_0x11da47(0x201))[_0x11da47(0x8bf)]('')+_0x11da47(0x6f7)),_0x2dbbd5+=_0x11da47(0x792)+(_0x1c763e+0x1)+':\x20'+_0x20b08d+_0x11da47(0x777)+_0xe3e6f0+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x20b08d+_0x11da47(0xdb)+_0x5119b0+_0x11da47(0x308)+_0x531b51[_0x11da47(0x2fe)]+_0x11da47(0x896)+_0x23e9a7[_0x11da47(0x83e)](0x0)+_0x11da47(0x1a8)+_0x34e30c[_0x11da47(0x2fe)]+_0x11da47(0x15b)+(_0x34e30c['length']>0x0?_0x34e30c[_0x11da47(0x8bf)](',\x20'):_0x11da47(0x2ee))+_0x11da47(0x6c8)+_0x53406b[_0x11da47(0x2fe)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x53406b[_0x11da47(0x2fe)]>0x0?_0x53406b[_0x11da47(0x8bf)](',\x20'):_0x11da47(0x2ee))+_0x11da47(0x1c7)+_0x2f5fc5['length']+_0x11da47(0x15b)+(_0x2f5fc5[_0x11da47(0x2fe)]>0x0?_0x2f5fc5[_0x11da47(0x8bf)](',\x20'):_0x11da47(0x2ee))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37a7d9+_0x11da47(0x6ff)+_0x3277f9+_0x11da47(0x5f3);}),_0x1e743d['innerHTML']=_0x328357+_0x2dbbd5;try{window[_0x15fd44(0x20e)]&&MathJax[_0x15fd44(0x190)]&&MathJax[_0x15fd44(0x190)]([_0x1e743d]);}catch(_0x155e35){console[_0x15fd44(0x4e7)](_0x15fd44(0x33b),_0x155e35);}}function calculateDistractorAnalysis(_0x86f499,_0x15580b){const _0x45f759=_0x2ee497,_0x164f46={};if(_0x15580b['length']<0x2)return _0x164f46;const _0x5ae943=[..._0x15580b]['sort']((_0x35974b,_0x5567ab)=>{const _0x1e4d9f=_0x1ea5,_0x8d7b4b=_0x5567ab[_0x1e4d9f(0x5df)]-_0x35974b[_0x1e4d9f(0x5df)];if(_0x8d7b4b!==0x0)return _0x8d7b4b;const _0x738193=_0x35974b[_0x1e4d9f(0x535)]?.[_0x1e4d9f(0x2fe)]||0x1,_0x3ce38a=_0x5567ab[_0x1e4d9f(0x535)]?.['length']||0x1,_0x51f8b4=_0x738193-_0x3ce38a;if(_0x51f8b4!==0x0)return _0x51f8b4;const _0x3db34b=new Date(_0x35974b['latestSubmittedAt']),_0x125225=new Date(_0x5567ab[_0x1e4d9f(0x16a)]),_0x4e944b=_0x3db34b-_0x125225;if(_0x4e944b!==0x0)return _0x4e944b;return _0x35974b[_0x1e4d9f(0x7af)][_0x1e4d9f(0x2c4)](_0x5567ab[_0x1e4d9f(0x7af)],'th');}),_0x3676cc=_0x5ae943[_0x45f759(0x2fe)],_0x185951=Math[_0x45f759(0x187)](0x1,Math[_0x45f759(0x6be)](_0x3676cc*0.33)),_0x96b78f=_0x5ae943[_0x45f759(0x38c)](0x0,_0x185951),_0x185d36=_0x5ae943[_0x45f759(0x38c)](-_0x185951);return _0x86f499['questions'][_0x45f759(0x2f1)]((_0x3b8600,_0x514f79)=>{const _0x2e9129=_0x45f759;if(_0x3b8600[_0x2e9129(0x790)]!==_0x2e9129(0x73c)||!_0x3b8600[_0x2e9129(0x7e1)])return;const _0x41ca2a=_0x3b8600[_0x2e9129(0x325)],_0x1d38d2={};_0x3b8600[_0x2e9129(0x7e1)]['forEach']((_0x4cb0dd,_0x1ed462)=>{_0x1d38d2[_0x1ed462]={'text':_0x4cb0dd,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5ae943[_0x2e9129(0x2f1)](_0x1b388c=>{const _0x15acdc=_0x2e9129,_0x1f5a34=_0x1b388c[_0x15acdc(0x535)][_0x1b388c['attempts']['length']-0x1],_0x29d46b=_0x1f5a34[_0x15acdc(0x57f)][_0x15acdc(0x5f9)](_0x5d6e2b=>_0x5d6e2b[_0x15acdc(0x6f6)]===_0x41ca2a);if(_0x29d46b&&_0x29d46b[_0x15acdc(0x16e)]!==null){const _0x253b82=_0x3b8600['options'][_0x15acdc(0x38b)](_0x120dca=>_0x120dca===_0x29d46b[_0x15acdc(0x5b2)]);_0x253b82!==-0x1&&_0x1d38d2[_0x253b82]&&(_0x1d38d2[_0x253b82][_0x15acdc(0x6bb)]++,_0x96b78f[_0x15acdc(0x54e)](_0x1b388c)&&_0x1d38d2[_0x253b82][_0x15acdc(0x49c)]++,_0x185d36[_0x15acdc(0x54e)](_0x1b388c)&&_0x1d38d2[_0x253b82][_0x15acdc(0x855)]++);}}),_0x164f46[_0x514f79]=_0x1d38d2;}),_0x164f46;}function calculateReliabilityKR20(_0x30a03d,_0x242267,_0x9d04c4){const _0xccd0d7=_0x2ee497,_0x1a7cb9=_0x30a03d['questions'][_0xccd0d7(0x2fe)];if(_0x1a7cb9<0x2||_0x242267[_0xccd0d7(0x2fe)]<0x2)return null;const _0x5c40f2=_0x242267[_0xccd0d7(0x71d)](_0x2da1fc=>_0x2da1fc[_0xccd0d7(0x5df)]),_0x13746b=_0x5c40f2['reduce']((_0x1b75ed,_0x244223)=>_0x1b75ed+_0x244223,0x0)/_0x5c40f2[_0xccd0d7(0x2fe)],_0x2a4cbf=_0x5c40f2[_0xccd0d7(0x71d)](_0x4b1966=>Math['pow'](_0x4b1966-_0x13746b,0x2))[_0xccd0d7(0x24a)]((_0x813f2f,_0x2c09a7)=>_0x813f2f+_0x2c09a7,0x0)/_0x5c40f2[_0xccd0d7(0x2fe)];if(_0x2a4cbf===0x0)return null;let _0x13f3f2=0x0;for(let _0x51dcd1=0x0;_0x51dcd1<_0x1a7cb9;_0x51dcd1++){const _0x12d975=_0x9d04c4[_0x51dcd1]?.['p'];if(_0x12d975===undefined)continue;const _0x58c431=0x1-_0x12d975;_0x13f3f2+=_0x12d975*_0x58c431;}if(_0x13f3f2===0x0)return null;const _0x3be0f2=_0x1a7cb9/(_0x1a7cb9-0x1)*(0x1-_0x13f3f2/_0x2a4cbf);if(_0x3be0f2>0x1)return null;return _0x3be0f2;}async function handleAnalyzeClass(){const _0x18117d=_0x2ee497;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x18117d(0x25d));return;}const _0x44f457=collection(db,_0x18117d(0x100)+appId+_0x18117d(0x3ac)+currentQuizData['id']+_0x18117d(0x607)),_0x5dcda1=await getDocs(_0x44f457),_0x599b3f=_0x5dcda1[_0x18117d(0x830)][_0x18117d(0x71d)](_0x1232c4=>_0x1232c4[_0x18117d(0x656)]());if(_0x599b3f[_0x18117d(0x2fe)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x43a4dc=document['getElementById'](_0x18117d(0x674));_0x43a4dc[_0x18117d(0x7de)]=_0x18117d(0x25e),document[_0x18117d(0x339)]('analyze-strengths-btn')[_0x18117d(0x154)]=!![];const _0x122bc4=_0x599b3f[_0x18117d(0x71d)]((_0x3ea25e,_0x3e1b11)=>{const _0x149f01=_0x18117d,_0x48765e=_0x3ea25e['attempts'][_0x3ea25e[_0x149f01(0x535)]['length']-0x1];if(!_0x48765e)return'';return _0x149f01(0x5b1)+(_0x3e1b11+0x1)+'\x20('+_0x3ea25e[_0x149f01(0x7af)]+_0x149f01(0x88b)+_0x48765e[_0x149f01(0x13c)]+'/'+_0x3ea25e['totalQuestions']+_0x149f01(0x267)+JSON['stringify'](_0x48765e['answers'])+_0x149f01(0x606);})[_0x18117d(0x8bf)](_0x18117d(0x775)),_0xe8bf61='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x18117d(0x5fb)]+_0x18117d(0x385)+JSON[_0x18117d(0x5f7)](currentQuizData[_0x18117d(0x2f4)])+_0x18117d(0x3ca)+_0x122bc4+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x3164b3={'type':_0x18117d(0x4f1),'properties':{'classStrengths':{'type':_0x18117d(0xfb),'items':{'type':'STRING'}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x18117d(0x5e0)}},'teacherSuggestions':{'type':_0x18117d(0xfb),'items':{'type':'STRING'}}},'required':[_0x18117d(0x2a7),_0x18117d(0x785),'teacherSuggestions']};try{const _0x528292=await callAnalysisApi(_0xe8bf61,_0x3164b3);displayClassAnalysis(_0x528292);}catch(_0x375be5){console[_0x18117d(0x4e7)](_0x18117d(0x7b6),_0x375be5),_0x43a4dc[_0x18117d(0x7de)]=_0x18117d(0x7fe)+_0x375be5[_0x18117d(0x63d)]+_0x18117d(0x45e);}finally{document[_0x18117d(0x339)](_0x18117d(0x13f))[_0x18117d(0x154)]=![];}}function displayClassAnalysis(_0x298267){const _0x3e64c9=_0x2ee497,_0x7bbe31=document['getElementById']('strength-weakness-analysis-container');if(!_0x298267){_0x7bbe31[_0x3e64c9(0x7de)]=_0x3e64c9(0x4a8);return;}_0x7bbe31[_0x3e64c9(0x7de)]=_0x3e64c9(0x80b)+_0x298267[_0x3e64c9(0x2a7)]['map'](_0xc3ef8f=>_0x3e64c9(0x734)+_0xc3ef8f+_0x3e64c9(0x201))[_0x3e64c9(0x8bf)]('')+_0x3e64c9(0x188)+_0x298267[_0x3e64c9(0x785)]['map'](_0x3ba22b=>_0x3e64c9(0x734)+_0x3ba22b+_0x3e64c9(0x201))[_0x3e64c9(0x8bf)]('')+_0x3e64c9(0x274)+_0x298267['teacherSuggestions'][_0x3e64c9(0x71d)](_0x5723ab=>_0x3e64c9(0x734)+_0x5723ab+_0x3e64c9(0x201))[_0x3e64c9(0x8bf)]('')+_0x3e64c9(0x8a7);}function formatAndPrintWorksheet(_0x120c9d,_0x2e3606){const _0x2e9276=_0x2ee497,_0x26162a=_0x2e9276(0x7cb)+_0x120c9d[_0x2e9276(0x5fb)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x120c9d[_0x2e9276(0x5fb)]+_0x2e9276(0x1f7)+_0x120c9d[_0x2e9276(0x2f4)][_0x2e9276(0x71d)]((_0x3dfa2b,_0x28b128)=>_0x2e9276(0x688)+(_0x28b128+0x1)+'.\x20'+_0x3dfa2b['questionText']+_0x2e9276(0x411)+(_0x3dfa2b['imageCode']?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x3dfa2b[_0x2e9276(0x216)]+'</div>':'')+_0x2e9276(0x6a4))[_0x2e9276(0x8bf)]('')+_0x2e9276(0x213);_0x2e3606[_0x2e9276(0x820)][_0x2e9276(0x518)](_0x26162a),_0x2e3606[_0x2e9276(0x820)]['close'](),_0x2e3606[_0x2e9276(0x191)]=function(){setTimeout(()=>{const _0x2f4492=_0x1ea5;_0x2e3606[_0x2f4492(0x88f)]();},0x3e8);};}async function generateWorksheet(){const _0x57c3de=_0x2ee497,_0x218308=document['getElementById'](_0x57c3de(0x4ef))[_0x57c3de(0x2b8)][_0x57c3de(0x6df)]();if(!_0x218308){showMessage(_0x57c3de(0x86e));return;}const _0x629194=document[_0x57c3de(0x339)](_0x57c3de(0x865))[_0x57c3de(0x149)],_0x5b5bb1=_0x629194?'':'คณิตศาสตร์',_0x398102=window[_0x57c3de(0x400)]('',_0x57c3de(0x1bb));_0x398102['document'][_0x57c3de(0x518)](_0x57c3de(0x2a0));const _0x22805e=parseInt(document[_0x57c3de(0x339)]('num-questions')['value']),_0xad0e2c=document[_0x57c3de(0x339)](_0x57c3de(0x202))[_0x57c3de(0x149)],_0x25e496=_0xad0e2c?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x5167ed=_0x57c3de(0x168)+_0x5b5bb1+_0x57c3de(0x2a5)+_0x22805e+_0x57c3de(0x46c)+_0x218308+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25e496+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x57c3de(0x4bd),_0x11da22={'type':'OBJECT','properties':{'topic':{'type':_0x57c3de(0x5e0)},'questions':{'type':_0x57c3de(0xfb),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x57c3de(0x5e0)},'imageCode':{'type':_0x57c3de(0x5e0)}},'required':[_0x57c3de(0x325)]}}},'required':[_0x57c3de(0x5fb),_0x57c3de(0x2f4)]};document['getElementById'](_0x57c3de(0x877))[_0x57c3de(0x477)]='',document[_0x57c3de(0x339)](_0x57c3de(0x1cd))[_0x57c3de(0xe6)][_0x57c3de(0x728)](_0x57c3de(0x730)),document[_0x57c3de(0x339)](_0x57c3de(0x6b4))[_0x57c3de(0xe6)][_0x57c3de(0x728)](_0x57c3de(0x730)),generateWorksheetBtn['disabled']=!![];try{const _0x360202=await callAnalysisApi(_0x5167ed,_0x11da22);formatAndPrintWorksheet(_0x360202,_0x398102);}catch(_0x26aaa9){console[_0x57c3de(0x4e7)](_0x57c3de(0x3ae),_0x26aaa9);if(_0x398102)_0x398102[_0x57c3de(0x126)]();showMessage(_0x57c3de(0x6d3));}finally{document['getElementById'](_0x57c3de(0x1cd))[_0x57c3de(0xe6)]['add'](_0x57c3de(0x730)),document['getElementById']('quiz-generation-area')['classList'][_0x57c3de(0x34f)](_0x57c3de(0x730)),generateWorksheetBtn[_0x57c3de(0x154)]=![];}}async function callAnalysisApi(_0x12dafe,_0x43b0a4){const _0x3508c1=_0x2ee497,_0x402624={'contents':[{'role':_0x3508c1(0x361),'parts':[{'text':_0x12dafe}]}],'generationConfig':{'responseMimeType':_0x3508c1(0x7a2),'responseSchema':_0x43b0a4}},_0x385ff8='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x47f2ca='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x385ff8,_0x40be45=await fetch(_0x47f2ca,{'method':_0x3508c1(0x7ba),'headers':{'Content-Type':_0x3508c1(0x7a2)},'body':JSON['stringify'](_0x402624)});if(!_0x40be45['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x40be45[_0x3508c1(0x675)]);const _0x4ea62e=await _0x40be45['json']();if(_0x4ea62e[_0x3508c1(0x2b6)]?.[0x0]?.[_0x3508c1(0x1fe)]?.[_0x3508c1(0x544)]?.[0x0])return JSON[_0x3508c1(0x2ed)](_0x4ea62e[_0x3508c1(0x2b6)][0x0][_0x3508c1(0x1fe)]['parts'][0x0][_0x3508c1(0x67c)]);else{let _0x1cf123='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x4ea62e[_0x3508c1(0x8bd)]?.[_0x3508c1(0x4b4)])_0x1cf123=_0x3508c1(0x478)+_0x4ea62e[_0x3508c1(0x8bd)]['blockReason']+'.';else _0x4ea62e[_0x3508c1(0x2b6)]?.[0x0]?.[_0x3508c1(0x8b7)]&&_0x4ea62e[_0x3508c1(0x2b6)][0x0]['finishReason']!=='STOP'&&(_0x1cf123='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x4ea62e['candidates'][0x0][_0x3508c1(0x8b7)]+'.');console[_0x3508c1(0x4e7)](_0x1cf123,JSON[_0x3508c1(0x5f7)](_0x4ea62e));throw new Error(_0x1cf123);}}initialize();
