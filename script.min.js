const _0xbb2a9e=_0x1a06;(function(_0x3b83d4,_0x470a91){const _0x35c715=_0x1a06,_0x35ee61=_0x3b83d4();while(!![]){try{const _0x542093=parseInt(_0x35c715(0x2ea))/0x1+parseInt(_0x35c715(0x79c))/0x2+-parseInt(_0x35c715(0x9a8))/0x3+-parseInt(_0x35c715(0x8b9))/0x4+-parseInt(_0x35c715(0x975))/0x5*(-parseInt(_0x35c715(0x328))/0x6)+parseInt(_0x35c715(0x6a5))/0x7+parseInt(_0x35c715(0x202))/0x8*(parseInt(_0x35c715(0xa03))/0x9);if(_0x542093===_0x470a91)break;else _0x35ee61['push'](_0x35ee61['shift']());}catch(_0x1c0a00){_0x35ee61['push'](_0x35ee61['shift']());}}}(_0x373f,0xd0791));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x58c346=_0x1a06;if(_0x58c346(0x1e9)in navigator)try{wakeLock=await navigator[_0x58c346(0x1e9)][_0x58c346(0x245)]('screen'),console[_0x58c346(0x73c)](_0x58c346(0x1d4)),wakeLock[_0x58c346(0x4da)](_0x58c346(0x735),()=>{const _0x3302a3=_0x58c346;console[_0x3302a3(0x73c)](_0x3302a3(0x831));});}catch(_0x2ad90a){console[_0x58c346(0x746)](_0x58c346(0x4b6)+_0x2ad90a['name']+',\x20'+_0x2ad90a['message']);}else console[_0x58c346(0x41e)](_0x58c346(0x973));},releaseWakeLock=async()=>{const _0x434132=_0x1a06;wakeLock!==null&&(await wakeLock[_0x434132(0x735)](),wakeLock=null,console[_0x434132(0x73c)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x506c79=_0x1a06;if(dimTimer)clearTimeout(dimTimer);document[_0x506c79(0xad8)][_0x506c79(0x431)]['remove'](_0x506c79(0x3d4)),dimTimer=setTimeout(()=>{const _0x2a874b=_0x506c79;document['body'][_0x2a874b(0x431)][_0x2a874b(0x8af)](_0x2a874b(0x3d4)),console[_0x2a874b(0x73c)](_0x2a874b(0x7d4));},inactivityTime);}function stopDimTimer(){const _0x172ec2=_0x1a06;if(dimTimer)clearTimeout(dimTimer);document[_0x172ec2(0xad8)][_0x172ec2(0x431)][_0x172ec2(0x905)]('dimmed'),window[_0x172ec2(0x734)](_0x172ec2(0x8f7),resetDimTimer),window[_0x172ec2(0x734)](_0x172ec2(0x40f),resetDimTimer),window[_0x172ec2(0x734)]('touchstart',resetDimTimer),window[_0x172ec2(0x734)](_0x172ec2(0x664),resetDimTimer),console[_0x172ec2(0x73c)](_0x172ec2(0xa85));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0;async function handleStartTeamQuiz(_0x318f74,_0xf4da6f=![]){const _0x41ed0c=_0x1a06,_0x290c4f=allQuizzes[_0x41ed0c(0x748)](_0x5d6b94=>_0x5d6b94['id']===_0x318f74)||allQuizzesGlobal['find'](_0x1b53b6=>_0x1b53b6['id']===_0x318f74);if(!_0x290c4f){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x290c4f);const _0x1989ed=Math[_0x41ed0c(0x7b0)](0x3e8+Math['random']()*0x2328)[_0x41ed0c(0x86b)]();try{const _0xf2c39e=await addDoc(collection(db,_0x41ed0c(0x44d)+appId+_0x41ed0c(0x4ee)),{'quizId':_0x290c4f['id'],'projectId':_0x290c4f[_0x41ed0c(0x430)],'status':_0x41ed0c(0x443),'pin':_0x1989ed,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xf4da6f});currentTeamQuizId=_0xf2c39e['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x1989ed,_0x290c4f[_0x41ed0c(0xb4a)]),listenForTeamQuizUpdates();}catch(_0x55c851){console[_0x41ed0c(0x746)](_0x41ed0c(0xb25),_0x55c851),showMessage(_0x41ed0c(0x97f));}}function renderAdminTeamQuizDashboard(_0x21fe22,_0x1b8608,_0x3025c3='team'){const _0x376cff=_0x1a06,_0x150a52=_0x3025c3==='group'?_0x376cff(0x9f0):'Team\x20Quiz';liveGameView[_0x376cff(0x1c3)]=_0x376cff(0x29f)+_0x150a52+':\x20'+_0x1b8608+_0x376cff(0x414)+_0x21fe22+_0x376cff(0x1f2),document[_0x376cff(0x9c1)](_0x376cff(0x1f8))['addEventListener'](_0x376cff(0x3fb),async()=>{const _0x4d40ee=_0x376cff;showConfirmation(_0x4d40ee(0xb28),async()=>{const _0x124982=_0x4d40ee;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x124982(0x44d)+appId+_0x124982(0x4ee),currentTeamQuizId)),showView(_0x124982(0x68d));});});}function listenForTeamQuizUpdates(){const _0x168f86=_0x1a06;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x5672aa=doc(db,_0x168f86(0x44d)+appId+_0x168f86(0x4ee),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x5672aa,_0x1ab845=>{const _0x27e2b1=_0x168f86;if(!_0x1ab845[_0x27e2b1(0x9ce)]()){sessionStorage[_0x27e2b1(0x293)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode==='admin')showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode==='admin'?_0x27e2b1(0x68d):'student');return;}const _0x5ba33d=_0x1ab845[_0x27e2b1(0x24b)]();if(currentMode===_0x27e2b1(0x817)){if(_0x5ba33d['mode']===_0x27e2b1(0xab6)&&_0x5ba33d[_0x27e2b1(0x3f1)]!==_0x27e2b1(0x95f)&&_0x5ba33d[_0x27e2b1(0x3f1)]!==_0x27e2b1(0x7a8)){const _0x1c00ac=Object['values'](_0x5ba33d[_0x27e2b1(0x8c7)]||{});if(_0x1c00ac['length']>0x0){const _0x39a3ab=_0x1c00ac[_0x27e2b1(0x3aa)](_0x269940=>_0x269940[_0x27e2b1(0x7f0)]===!![]);_0x39a3ab&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5ba33d);}else{if(_0x5ba33d[_0x27e2b1(0x3f1)]===_0x27e2b1(0x95f)||_0x5ba33d['status']===_0x27e2b1(0x7a8)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5ba33d['mode']===_0x27e2b1(0xab6)){const _0x4708d8=_0x5ba33d['groups'][userId];(!_0x4708d8||!_0x4708d8[_0x27e2b1(0x7f0)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x300a36){const _0x2f890a=_0x1a06;console[_0x2f890a(0x73c)](_0x2f890a(0x3c7));const _0x2aeb9a=doc(db,'artifacts/'+appId+_0x2f890a(0x4ee),_0x300a36);try{const _0x31689c=await getDoc(_0x2aeb9a);if(_0x31689c[_0x2f890a(0x9ce)]()){const _0x46bc88=_0x31689c['data']();_0x46bc88[_0x2f890a(0xa8d)]&&await saveGameResultsAsSubmissions(_0x46bc88);}await updateDoc(_0x2aeb9a,{'status':'podium'});}catch(_0xb35258){console['error'](_0x2f890a(0x3eb),_0xb35258);}}function updateAdminTeamDashboard(_0x4386a6){const _0x2a46bd=_0x1a06,_0x1845af=document[_0x2a46bd(0x9c1)](_0x2a46bd(0x92a));if(!_0x1845af)return;const _0x21713d=_0x4386a6[_0x2a46bd(0x247)]||_0x2a46bd(0x273),_0x3ad36c=currentQuizData['questions'][_0x2a46bd(0xa7c)];if(_0x21713d===_0x2a46bd(0xab6)){const _0x122226=Object[_0x2a46bd(0x8b5)](_0x4386a6[_0x2a46bd(0x8c7)]||{});if(_0x122226[_0x2a46bd(0xa7c)]===0x0){_0x1845af[_0x2a46bd(0x1c3)]=_0x2a46bd(0x3bd);return;}const _0x3f961f=[..._0x122226][_0x2a46bd(0x415)]((_0x2d467c,_0x36ea81)=>_0x36ea81[_0x2a46bd(0x6bd)]-_0x2d467c['score']),_0x154c96=_0x3f961f[_0x2a46bd(0x791)]((_0x4167fa,_0x156ecd)=>{const _0x93fc23=_0x2a46bd,_0x296241=_0x4167fa[_0x93fc23(0x219)]?.['length']||0x0;return _0x93fc23(0x1d0)+(_0x156ecd+0x1)+_0x93fc23(0x74d)+_0x4167fa[_0x93fc23(0x21a)]['join'](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x296241+'/'+_0x3ad36c+_0x93fc23(0x78b)+_0x4167fa[_0x93fc23(0x6bd)]+_0x93fc23(0x3c4);})[_0x2a46bd(0x3cf)](''),_0x300478=currentQuizData[_0x2a46bd(0xa17)][_0x2a46bd(0x791)]((_0x40f082,_0xb600c9)=>{const _0x17fce0=_0x2a46bd;let _0x41372d=0x0,_0x1fe053=0x0;_0x122226[_0x17fce0(0x803)](_0x159a56=>{const _0x4af984=_0x17fce0,_0x37e7e4=_0x159a56['answers']?.['find'](_0x3b4296=>_0x3b4296[_0x4af984(0x5e6)]===_0xb600c9);if(_0x37e7e4){_0x1fe053++;if(_0x37e7e4[_0x4af984(0x6f8)])_0x41372d++;}});const _0x4a077d=_0x1fe053>0x0&&_0x1fe053===_0x122226[_0x17fce0(0xa7c)],_0x36b111=_0x4a077d?_0x17fce0(0xa4b):_0x17fce0(0x45e),_0x4ab635=_0x4a077d?_0x17fce0(0xa83):'';return _0x17fce0(0xa4e)+_0x36b111+_0x17fce0(0x2fe)+(_0xb600c9+0x1)+_0x17fce0(0x789)+_0x4ab635+_0x17fce0(0x2d9)+_0x41372d+'/'+_0x122226['length']+'\x20กลุ่ม</p></div>';})[_0x2a46bd(0x3cf)]('');_0x1845af[_0x2a46bd(0x1c3)]=_0x2a46bd(0x3fd)+_0x154c96+_0x2a46bd(0x6de)+_0x300478+_0x2a46bd(0xa31);return;}const _0x2ab4f9=_0x4386a6[_0x2a46bd(0x2a2)]||{},_0x4efc28=Object[_0x2a46bd(0x790)](_0x2ab4f9);if(_0x4efc28[_0x2a46bd(0xa7c)]===0x0){_0x1845af['innerHTML']=_0x2a46bd(0x731);return;}const _0x42565f=_0x4efc28['map'](_0x3defe3=>({'name':_0x3defe3,'score':_0x2ab4f9[_0x3defe3][_0x2a46bd(0x6bd)]||0x0}))[_0x2a46bd(0x415)]((_0x3b893a,_0xd45757)=>_0xd45757['score']-_0x3b893a[_0x2a46bd(0x6bd)]),_0x4ca0ee=_0x42565f[_0x2a46bd(0x791)](_0x15e088=>{const _0x5c3f97=_0x2a46bd,_0x16f931=_0x2ab4f9[_0x15e088['name']]?.['answers']?.[_0x5c3f97(0xa7c)]||0x0,_0x20eab6=Math[_0x5c3f97(0x565)](_0x3ad36c/_0x4efc28[_0x5c3f97(0xa7c)]);return _0x5c3f97(0x7ea)+_0x15e088[_0x5c3f97(0x98a)]+_0x5c3f97(0x4db)+_0x16f931+'/'+_0x20eab6+_0x5c3f97(0x96f)+_0x15e088[_0x5c3f97(0x6bd)]+_0x5c3f97(0x491);})['join'](''),_0x409cd2=_0x4efc28[_0x2a46bd(0x32f)]((_0x42cb24,_0x340279)=>_0x42cb24+(_0x2ab4f9[_0x340279][_0x2a46bd(0x219)]?.[_0x2a46bd(0xa7c)]||0x0),0x0),_0x46c616=currentQuizData[_0x2a46bd(0xa17)]['map']((_0x5108cc,_0xf5d109)=>{const _0x358c33=_0x2a46bd;let _0x1c76f9=null,_0x40df32=null;for(const _0x460b6e of _0x4efc28){const _0x570abd=_0x2ab4f9[_0x460b6e][_0x358c33(0x219)]?.[_0x358c33(0x748)](_0x10539a=>_0x10539a[_0x358c33(0x5e6)]===_0xf5d109);if(_0x570abd){_0x1c76f9=_0x570abd,_0x40df32=_0x460b6e;break;}}const _0xa114c0=!!_0x1c76f9,_0x4bc580=_0xa114c0&&_0x1c76f9[_0x358c33(0x6f8)],_0x41ae22=(Math[_0x358c33(0x7b0)](_0xf5d109/_0x4efc28[_0x358c33(0xa7c)])+0x1)*_0x4efc28[_0x358c33(0xa7c)],_0x1dfc11=_0x409cd2>=_0x41ae22,_0x36928d=_0x1dfc11?'bg-green-200\x20text-green-900':_0x358c33(0x45e),_0xc7bf65=_0x1dfc11?_0x358c33(0xa83):'';let _0x236a99='รอ...';return _0xa114c0&&(_0x236a99=_0x40df32+_0x358c33(0xb41)+(_0x4bc580?_0x358c33(0x863):'ผิด')),_0x358c33(0xa4e)+_0x36928d+_0x358c33(0x2fe)+(_0xf5d109+0x1)+_0x358c33(0x789)+_0xc7bf65+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x236a99+_0x358c33(0x5a2);})[_0x2a46bd(0x3cf)]('');_0x1845af[_0x2a46bd(0x1c3)]=_0x2a46bd(0x9b6)+_0x4ca0ee+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x46c616+_0x2a46bd(0xa31);}async function handleJoinTeamQuiz(){const _0x12ae5e=_0x1a06,_0x6b277f=prompt(_0x12ae5e(0x677));if(!_0x6b277f||_0x6b277f['trim']()['length']!==0x4){showMessage(_0x12ae5e(0x22b));return;}try{const _0x41fdc7=collection(db,_0x12ae5e(0x44d)+appId+_0x12ae5e(0x4ee)),_0x1bd8ac=query(_0x41fdc7,where(_0x12ae5e(0x588),'==',_0x6b277f[_0x12ae5e(0x9aa)]()),where('status','==',_0x12ae5e(0x443))),_0xd8c7a7=await getDocs(_0x1bd8ac);if(_0xd8c7a7['empty']){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x32e730=_0xd8c7a7[_0x12ae5e(0x95a)][0x0];currentTeamQuizId=_0x32e730['id'];const _0x303270=_0x32e730[_0x12ae5e(0x24b)](),_0x222860=doc(db,'artifacts/'+appId+_0x12ae5e(0xb3c),_0x303270[_0x12ae5e(0x430)]),_0x244512=doc(db,_0x12ae5e(0x44d)+appId+_0x12ae5e(0x622),_0x303270[_0x12ae5e(0x521)]),[_0x5945f5,_0x128f9f]=await Promise[_0x12ae5e(0x5d4)]([getDoc(_0x222860),getDoc(_0x244512)]);if(!_0x5945f5[_0x12ae5e(0x9ce)]()||!_0x128f9f['exists']())throw new Error(_0x12ae5e(0x37f));currentQuizData=getShuffledQuiz({'id':_0x128f9f['id'],..._0x128f9f[_0x12ae5e(0x24b)]()});const _0x173699=_0x5945f5[_0x12ae5e(0x24b)]();showTeamPlayerSelection(_0x173699[_0x12ae5e(0x3dc)],currentQuizData[_0x12ae5e(0xb4a)]);}catch(_0x40ae21){console[_0x12ae5e(0x746)](_0x12ae5e(0x7cb),_0x40ae21),showMessage(_0x12ae5e(0x73f)+_0x40ae21[_0x12ae5e(0x3f4)]);}}async function handleJoinGroupActivity(){const _0x2be0ca=_0x1a06,_0x717e06=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x717e06||_0x717e06['trim']()[_0x2be0ca(0xa7c)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x1bd036=_0x717e06['trim']();showMessage(_0x2be0ca(0x614));try{const _0x4442c8=collection(db,_0x2be0ca(0x44d)+appId+'/public/data/teamQuizzes'),_0x1f9795=query(_0x4442c8,where(_0x2be0ca(0x588),'==',_0x1bd036),where(_0x2be0ca(0x3f1),'==',_0x2be0ca(0x443))),_0x4feaa3=await getDocs(_0x1f9795);if(!_0x4feaa3[_0x2be0ca(0x384)]){console[_0x2be0ca(0x73c)](_0x2be0ca(0x27b)),await proceedWithTeamQuizJoin(_0x4feaa3[_0x2be0ca(0x95a)][0x0]);return;}const _0x3acaef=collection(db,_0x2be0ca(0x44d)+appId+_0x2be0ca(0x268)),_0xceda0a=query(_0x3acaef,where(_0x2be0ca(0x588),'==',_0x1bd036),where(_0x2be0ca(0x3f1),'==','lobby')),_0xacf1cf=await getDocs(_0xceda0a);if(!_0xacf1cf[_0x2be0ca(0x384)]){console[_0x2be0ca(0x73c)](_0x2be0ca(0xa09)),await proceedWithSyncQuizJoin(_0xacf1cf['docs'][0x0]);return;}showMessage(_0x2be0ca(0x5e0));}catch(_0x470de2){console[_0x2be0ca(0x746)]('Error\x20joining\x20activity:',_0x470de2),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x470de2[_0x2be0ca(0x3f4)]);}}async function proceedWithTeamQuizJoin(_0xe87406){const _0x303f3e=_0x1a06;currentTeamQuizId=_0xe87406['id'];const _0x5f4323=_0xe87406['data'](),_0x58d556=doc(db,_0x303f3e(0x44d)+appId+_0x303f3e(0xb3c),_0x5f4323['projectId']),_0x25535f=doc(db,_0x303f3e(0x44d)+appId+'/public/data/quizzes',_0x5f4323[_0x303f3e(0x521)]),[_0x13f99a,_0x38a969]=await Promise['all']([getDoc(_0x58d556),getDoc(_0x25535f)]);if(!_0x13f99a[_0x303f3e(0x9ce)]()||!_0x38a969['exists']())throw new Error(_0x303f3e(0x37f));currentQuizData=getShuffledQuiz({'id':_0x38a969['id'],..._0x38a969[_0x303f3e(0x24b)]()}),showTeamPlayerSelection(_0x13f99a[_0x303f3e(0x24b)]()[_0x303f3e(0x3dc)],currentQuizData[_0x303f3e(0xb4a)],_0x5f4323[_0x303f3e(0x247)]||_0x303f3e(0x273)),messageModal['classList'][_0x303f3e(0x8af)](_0x303f3e(0x450));}async function proceedWithSyncQuizJoin(_0x83cb23){const _0x5c1141=_0x1a06;currentLiveGameId=_0x83cb23['id'];const _0x18417c=_0x83cb23['data'](),_0x1b151f=doc(db,_0x5c1141(0x44d)+appId+_0x5c1141(0x622),_0x18417c[_0x5c1141(0x521)]),_0x4b1981=await getDoc(_0x1b151f);if(!_0x4b1981[_0x5c1141(0x9ce)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x3556ba=_0x4b1981[_0x5c1141(0x24b)](),_0x1eeb0e=doc(db,_0x5c1141(0x44d)+appId+_0x5c1141(0xb3c),_0x3556ba['projectId']),_0x23e1d1=await getDoc(_0x1eeb0e);if(!_0x23e1d1[_0x5c1141(0x9ce)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x18417c['shuffledQuiz'],showView(_0x5c1141(0x1d2)),showTeamPlayerSelection(_0x23e1d1[_0x5c1141(0x24b)]()[_0x5c1141(0x3dc)],_0x3556ba[_0x5c1141(0xb4a)],_0x5c1141(0x52d)),document[_0x5c1141(0x9c1)](_0x5c1141(0x2f1))['onclick']=confirmAndJoinSyncGame,messageModal[_0x5c1141(0x431)][_0x5c1141(0x8af)](_0x5c1141(0x450));}function showTeamPlayerSelection(_0x420632,_0x1c955c,_0x3f3235='team'){const _0x34a29e=_0x1a06;studentInitialView[_0x34a29e(0x431)][_0x34a29e(0x8af)]('hidden'),studentJoinGameView[_0x34a29e(0x431)]['add'](_0x34a29e(0x450)),document[_0x34a29e(0x9c1)](_0x34a29e(0x5ff))['classList']['remove'](_0x34a29e(0x450));let _0x56b770=_0x34a29e(0x85b);if(_0x3f3235===_0x34a29e(0xab6))_0x56b770=_0x34a29e(0x9f0);else _0x3f3235===_0x34a29e(0x52d)&&(_0x56b770=_0x34a29e(0x8fb));document['getElementById'](_0x34a29e(0x4be))[_0x34a29e(0x410)]=_0x56b770+':\x20'+_0x1c955c;const _0x5295cc=document[_0x34a29e(0x9c1)](_0x34a29e(0x96e));if(!_0x420632||_0x420632[_0x34a29e(0xa7c)]===0x0){_0x5295cc[_0x34a29e(0x1c3)]=_0x34a29e(0x6ed),document['getElementById']('confirm-team-players-btn')[_0x34a29e(0x9d7)]=!![];return;}_0x5295cc[_0x34a29e(0x1c3)]=_0x420632[_0x34a29e(0x791)](_0x73fa6a=>_0x34a29e(0x6a6)+_0x73fa6a+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x73fa6a+_0x34a29e(0x28c))[_0x34a29e(0x3cf)](''),document[_0x34a29e(0x9c1)](_0x34a29e(0x2f1))[_0x34a29e(0x9d7)]=![];}async function confirmAndStartTeamQuiz(){const _0x38c756=_0x1a06,_0x683940=Array[_0x38c756(0x693)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))[_0x38c756(0x791)](_0x14b68c=>_0x14b68c[_0x38c756(0x9b2)]);if(_0x683940['length']===0x0){showMessage(_0x38c756(0x1c4));return;}localTeamPlayers=_0x683940,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x28c9bc=doc(db,'artifacts/'+appId+_0x38c756(0x4ee),currentTeamQuizId);try{const _0x3fb222=await getDoc(_0x28c9bc);if(!_0x3fb222[_0x38c756(0x9ce)]())throw new Error(_0x38c756(0xa6d));const _0x26b9d1=_0x3fb222[_0x38c756(0x24b)]();if(_0x26b9d1[_0x38c756(0x247)]==='group'){const _0x6248d5={[_0x38c756(0x464)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x28c9bc,_0x6248d5);}else{const _0x1989a5=_0x26b9d1[_0x38c756(0x2a2)]||{};localTeamPlayers[_0x38c756(0x803)](_0x3d75fc=>{!_0x1989a5[_0x3d75fc]&&(_0x1989a5[_0x3d75fc]={'score':0x0,'answers':[]});}),await updateDoc(_0x28c9bc,{'responses':_0x1989a5});}document['getElementById'](_0x38c756(0x5ff))['classList'][_0x38c756(0x8af)](_0x38c756(0x450)),renderTeamQuizQuestion();const _0x2df784={'gameId':currentTeamQuizId,'mode':_0x26b9d1['mode']||_0x38c756(0x273),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x38c756(0x740)]('activeGameSession',JSON[_0x38c756(0x994)](_0x2df784)),listenForTeamQuizUpdates();}catch(_0x5616dc){console[_0x38c756(0x746)]('Error\x20confirming\x20players:',_0x5616dc),showMessage(_0x38c756(0x615));}}async function renderTeamQuizQuestion(){const _0xad7d95=_0x1a06;if(localQuestionIndex>=currentQuizData[_0xad7d95(0xa17)][_0xad7d95(0xa7c)]){displayTeamQuizFinalResults();return;}const _0x3c0592=currentQuizData[_0xad7d95(0xa17)][localQuestionIndex],_0x29a736=localTeamPlayers[localPlayerIndex],_0x34e6c3=_0x3c0592[_0xad7d95(0x368)]||currentQuizData[_0xad7d95(0x950)];let _0xe4105c=_0x3c0592[_0xad7d95(0x8ce)]||_0x3c0592['questionText'],_0x5cdc73='';switch(_0x34e6c3){case _0xad7d95(0xad6):case _0xad7d95(0x32e):_0x5cdc73=_0x3c0592[_0xad7d95(0x643)][_0xad7d95(0x791)]((_0x4573a6,_0x4549c3)=>_0xad7d95(0x9a4)+_0x4549c3+_0xad7d95(0x998)+_0x4549c3+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x4549c3+'\x22>'+_0x4573a6+_0xad7d95(0x77b))['join']('');break;case'true_false':_0x5cdc73=_0xad7d95(0x7e6);break;case'short_answer':case _0xad7d95(0x97c):_0x5cdc73=_0xad7d95(0x888);break;case _0xad7d95(0xa4a):_0x5cdc73=_0xad7d95(0x781)+_0x3c0592[_0xad7d95(0x82a)][_0xad7d95(0x791)](_0xd8e540=>_0xad7d95(0x520)+_0xd8e540+'\x22>'+_0xd8e540+_0xad7d95(0x6d2))[_0xad7d95(0x3cf)]('')+_0xad7d95(0xb51);break;default:_0x5cdc73='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea['innerHTML']=_0xad7d95(0x26c)+(localQuestionIndex+0x1)+_0xad7d95(0xafc)+currentQuizData[_0xad7d95(0xa17)][_0xad7d95(0xa7c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x29a736+_0xad7d95(0x2dc)+(localQuestionIndex+0x1)+'.\x20'+_0xe4105c+_0xad7d95(0x7d7)+(_0x3c0592['imageCode']?_0xad7d95(0x3d8)+_0x3c0592[_0xad7d95(0x84f)]+_0xad7d95(0xa1c):'')+_0xad7d95(0x8fc)+_0x5cdc73+_0xad7d95(0x455),studentQuizArea[_0xad7d95(0x431)][_0xad7d95(0x905)](_0xad7d95(0x450));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0xad7d95(0x9c1)](_0xad7d95(0x590))[_0xad7d95(0x4da)](_0xad7d95(0x3fb),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x5e2b5d=_0x1a06,_0x1262da=currentQuizData[_0x5e2b5d(0xa17)][localQuestionIndex],_0x16a957=_0x1262da[_0x5e2b5d(0x368)]||currentQuizData[_0x5e2b5d(0x950)];let _0x877815=null,_0x2f11f1=![];if(_0x16a957===_0x5e2b5d(0x68a)||_0x16a957===_0x5e2b5d(0x97c)){const _0x3e9452=document['querySelector'](_0x5e2b5d(0x442));if(!_0x3e9452||!_0x3e9452[_0x5e2b5d(0x9b2)][_0x5e2b5d(0x9aa)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x877815=_0x3e9452[_0x5e2b5d(0x9b2)][_0x5e2b5d(0x9aa)](),_0x2f11f1=await gradeShortAnswer(_0x877815,_0x1262da);}else{const _0x273b3b=document[_0x5e2b5d(0x729)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x273b3b||_0x273b3b['value']===''){showMessage(_0x5e2b5d(0xadd));return;}_0x877815=_0x273b3b[_0x5e2b5d(0x9b2)];switch(_0x16a957){case'true_false':_0x2f11f1=_0x877815===_0x5e2b5d(0x304)===_0x1262da[_0x5e2b5d(0x2ae)];break;case _0x5e2b5d(0xa4a):_0x2f11f1=_0x877815===_0x1262da[_0x5e2b5d(0x4cc)];break;default:_0x2f11f1=parseInt(_0x877815)===_0x1262da[_0x5e2b5d(0xad0)];break;}}const _0x277cf7={'questionIndex':localQuestionIndex,'isCorrect':_0x2f11f1},_0x500712=userId,_0x23ac67={[_0x5e2b5d(0x464)+_0x500712+_0x5e2b5d(0x671)]:arrayUnion(_0x277cf7)};_0x2f11f1&&(_0x23ac67[_0x5e2b5d(0x464)+_0x500712+_0x5e2b5d(0x8b2)]=increment(0x1));try{await updateDoc(doc(db,_0x5e2b5d(0x44d)+appId+_0x5e2b5d(0x4ee),currentTeamQuizId),_0x23ac67),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x5e2b5d(0xa17)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x42eb16){console[_0x5e2b5d(0x746)]('Error\x20submitting\x20group\x20answer:',_0x42eb16),showMessage(_0x5e2b5d(0x43d));}}async function handleTeamAnswerSubmit(){const _0x8646fd=_0x1a06,_0x30edff=await getDoc(doc(db,'artifacts/'+appId+_0x8646fd(0x4ee),currentTeamQuizId));if(!_0x30edff[_0x8646fd(0x9ce)]())return;const _0x321489=_0x30edff[_0x8646fd(0x24b)]();if(_0x321489[_0x8646fd(0x247)]===_0x8646fd(0xab6)){handleGroupAnswerSubmit();return;}const _0x380631=localTeamPlayers[localPlayerIndex],_0x1a20ab=currentQuizData[_0x8646fd(0xa17)][localQuestionIndex],_0x20f6d8=_0x1a20ab[_0x8646fd(0x368)]||currentQuizData[_0x8646fd(0x950)];let _0x3b4085=null,_0x1e6836=![];if(_0x20f6d8==='short_answer'||_0x20f6d8===_0x8646fd(0x97c)){const _0x4e013b=document['querySelector'](_0x8646fd(0x442));if(!_0x4e013b||!_0x4e013b[_0x8646fd(0x9b2)][_0x8646fd(0x9aa)]()){showMessage(_0x8646fd(0x9cb));return;}_0x3b4085=_0x4e013b['value']['trim'](),_0x1e6836=await gradeShortAnswer(_0x3b4085,_0x1a20ab);}else{const _0x2a39a8=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x2a39a8||_0x2a39a8[_0x8646fd(0x9b2)]===''){showMessage(_0x8646fd(0x510));return;}_0x3b4085=_0x2a39a8[_0x8646fd(0x9b2)];switch(_0x20f6d8){case _0x8646fd(0xb53):_0x1e6836=_0x3b4085===_0x8646fd(0x304)===_0x1a20ab[_0x8646fd(0x2ae)];break;case _0x8646fd(0xa4a):_0x1e6836=_0x3b4085===_0x1a20ab[_0x8646fd(0x4cc)];break;default:_0x1e6836=parseInt(_0x3b4085)===_0x1a20ab[_0x8646fd(0xad0)];break;}}const _0x26cd6c={'questionIndex':localQuestionIndex,'isCorrect':_0x1e6836,'answerValue':_0x3b4085},_0x319487={[_0x8646fd(0x6fc)+_0x380631+_0x8646fd(0x671)]:arrayUnion(_0x26cd6c)};_0x1e6836&&(_0x319487['responses.'+_0x380631+_0x8646fd(0x8b2)]=increment(0x1));try{await updateDoc(doc(db,_0x8646fd(0x44d)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x319487),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x8646fd(0xa7c)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x2f01cc){console['error']('Error\x20submitting\x20team\x20answer:',_0x2f01cc),showMessage(_0x8646fd(0x43d));}}async function displayTeamQuizFinalResults(){const _0x270786=_0x1a06;studentQuizArea[_0x270786(0x431)][_0x270786(0x8af)](_0x270786(0x450)),studentResultArea[_0x270786(0x431)][_0x270786(0x905)]('hidden');const _0x3bec84=doc(db,'artifacts/'+appId+_0x270786(0x4ee),currentTeamQuizId),_0x43affd=await getDoc(_0x3bec84);if(!_0x43affd[_0x270786(0x9ce)]()){studentResultArea['innerHTML']=_0x270786(0x995);return;}const _0x33be4b=_0x43affd[_0x270786(0x24b)]();let _0x4fc958=[];const _0x3dd661=_0x33be4b['mode']||_0x270786(0x273);if(_0x3dd661==='group'){const _0x52e217=_0x33be4b['groups'][userId];_0x52e217?_0x4fc958=[{'name':_0x270786(0xaf7)+localTeamPlayers['join'](',\x20'),'score':_0x52e217[_0x270786(0x6bd)]||0x0}]:_0x4fc958=[{'name':_0x270786(0x698),'score':_0x270786(0x605)}];}else _0x4fc958=localTeamPlayers[_0x270786(0x791)](_0x3d6245=>({'name':_0x3d6245,'score':_0x33be4b[_0x270786(0x2a2)][_0x3d6245]?.[_0x270786(0x6bd)]||0x0}))[_0x270786(0x415)]((_0x529fc7,_0x539e8b)=>_0x539e8b['score']-_0x529fc7[_0x270786(0x6bd)]);studentResultArea[_0x270786(0x1c3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fc958[_0x270786(0x791)](_0x36ebc7=>_0x270786(0x848)+_0x36ebc7['name']+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x36ebc7[_0x270786(0x6bd)]+_0x270786(0x1b8))[_0x270786(0x3cf)]('')+_0x270786(0xa2a),sessionStorage['removeItem']('activeGameSession'),currentMode===_0x270786(0x817)&&currentTeamQuizId&&setTimeout(()=>{const _0x126faf=_0x270786;deleteDoc(doc(db,'artifacts/'+appId+_0x126faf(0x4ee),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0xbb2a9e(0x924),'pinnedProjects':[],'projectView':_0xbb2a9e(0x637)};const allMathTopics=[{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x37d)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x8f4)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x504)},{'category':'จำนวนและการดำเนินการ','name':_0xbb2a9e(0x422)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x8b7)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x75a)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x242)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0xa80)},{'category':'จำนวนและการดำเนินการ','name':_0xbb2a9e(0x234)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0xbb2a9e(0xabf)},{'category':_0xbb2a9e(0x670),'name':'ค่าสัมบูรณ์'},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x80f)},{'category':_0xbb2a9e(0x670),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x9da)},{'category':_0xbb2a9e(0x670),'name':'ค.ร.น.\x20(LCM)'},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x30a)},{'category':_0xbb2a9e(0x670),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0xbb2a9e(0x6c2)},{'category':'จำนวนและการดำเนินการ','name':_0xbb2a9e(0xacc)},{'category':'จำนวนและการดำเนินการ','name':'การลบเศษส่วน'},{'category':_0xbb2a9e(0x670),'name':'การคูณเศษส่วน'},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x2fc)},{'category':_0xbb2a9e(0x670),'name':'จำนวนคละ'},{'category':_0xbb2a9e(0x670),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x5e2)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x928)},{'category':'จำนวนและการดำเนินการ','name':_0xbb2a9e(0xab5)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x479)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0xbb2a9e(0xa3f)},{'category':_0xbb2a9e(0x670),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x467)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x979)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x2dd)},{'category':'จำนวนและการดำเนินการ','name':_0xbb2a9e(0x797)},{'category':_0xbb2a9e(0x670),'name':_0xbb2a9e(0x7f6)},{'category':_0xbb2a9e(0x9bc),'name':'หน่วยความยาวและการแปลง'},{'category':_0xbb2a9e(0x9bc),'name':_0xbb2a9e(0x2b9)},{'category':_0xbb2a9e(0x9bc),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0xbb2a9e(0x9bc),'name':_0xbb2a9e(0x4f2)},{'category':'การวัด','name':_0xbb2a9e(0xaba)},{'category':'การวัด','name':_0xbb2a9e(0xa0f)},{'category':_0xbb2a9e(0x9bc),'name':_0xbb2a9e(0x33b)},{'category':_0xbb2a9e(0x9bc),'name':_0xbb2a9e(0x7fa)},{'category':_0xbb2a9e(0x9bc),'name':_0xbb2a9e(0x581)},{'category':_0xbb2a9e(0x9bc),'name':_0xbb2a9e(0x2b7)},{'category':'การวัด','name':_0xbb2a9e(0x356)},{'category':_0xbb2a9e(0x9bc),'name':_0xbb2a9e(0x747)},{'category':_0xbb2a9e(0x9bc),'name':'สเกลและแผนที่'},{'category':_0xbb2a9e(0x9bc),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':'เรขาคณิต','name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x640)},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x895)},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x7fa)},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x275)},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x540)},{'category':_0xbb2a9e(0xabb),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0xbb2a9e(0xabb),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0xaf6)},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x485)},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x244)},{'category':_0xbb2a9e(0xabb),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x7ce)},{'category':_0xbb2a9e(0xabb),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0xbb2a9e(0xabb),'name':_0xbb2a9e(0x76c)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x2d1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0x593)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x808)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x471)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x33c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0x7c6)},{'category':_0xbb2a9e(0x70f),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0x9dc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0x625)},{'category':_0xbb2a9e(0x70f),'name':'สมการเหตุผล\x20(rational)'},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x96a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0xa41)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x6da)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x7df)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x1ff)},{'category':_0xbb2a9e(0x70f),'name':'ระบบอสมการ'},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x6cb)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x459)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0x45d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0xaeb)},{'category':_0xbb2a9e(0x70f),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x4e9)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x3e4)},{'category':_0xbb2a9e(0x70f),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0x6e1)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x307)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x3c9)},{'category':_0xbb2a9e(0x70f),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันลอการิทึม'},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x292)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x6ab)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xbb2a9e(0x792)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x569)},{'category':_0xbb2a9e(0x70f),'name':_0xbb2a9e(0x918)},{'category':_0xbb2a9e(0x31c),'name':_0xbb2a9e(0x2db)},{'category':_0xbb2a9e(0x31c),'name':'ความชันและเส้นตรง'},{'category':_0xbb2a9e(0x31c),'name':_0xbb2a9e(0x8b3)},{'category':_0xbb2a9e(0x31c),'name':_0xbb2a9e(0x9fb)},{'category':_0xbb2a9e(0x31c),'name':_0xbb2a9e(0x7ff)},{'category':_0xbb2a9e(0x31c),'name':_0xbb2a9e(0x7c5)},{'category':_0xbb2a9e(0x31c),'name':'พาราโบลา'},{'category':_0xbb2a9e(0x31c),'name':'วงรี'},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0xbb2a9e(0x4b0),'name':_0xbb2a9e(0x1dd)},{'category':_0xbb2a9e(0x4b0),'name':_0xbb2a9e(0x58b)},{'category':_0xbb2a9e(0x4b0),'name':_0xbb2a9e(0x941)},{'category':_0xbb2a9e(0x4b0),'name':_0xbb2a9e(0x1db)},{'category':_0xbb2a9e(0x4b0),'name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':_0xbb2a9e(0x346)},{'category':_0xbb2a9e(0x4b0),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0xbb2a9e(0x4b0),'name':_0xbb2a9e(0x71b)},{'category':_0xbb2a9e(0x4b0),'name':'สมการตรีโกณมิติ'},{'category':_0xbb2a9e(0x4b0),'name':_0xbb2a9e(0x742)},{'category':_0xbb2a9e(0x4b0),'name':_0xbb2a9e(0x454)},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x91c)},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x5d9)},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x598)},{'category':'สถิติและความน่าจะเป็น','name':_0xbb2a9e(0x7b7)},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x225)},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x92c)},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x85c)},{'category':_0xbb2a9e(0x741),'name':'ฐานนิยม'},{'category':'สถิติและความน่าจะเป็น','name':_0xbb2a9e(0x591)},{'category':_0xbb2a9e(0x741),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0xbb2a9e(0x56e)},{'category':'สถิติและความน่าจะเป็น','name':_0xbb2a9e(0x58a)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':_0xbb2a9e(0x5d0)},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x58c)},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x9de)},{'category':_0xbb2a9e(0x741),'name':'แผนภาพเวนน์'},{'category':_0xbb2a9e(0x741),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0xbb2a9e(0xad3)},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x4af)},{'category':_0xbb2a9e(0x741),'name':'การจัดหมู่\x20(Combination)'},{'category':_0xbb2a9e(0x741),'name':_0xbb2a9e(0x4f8)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0xbb2a9e(0xb4b),'name':_0xbb2a9e(0x34a)},{'category':_0xbb2a9e(0xb4b),'name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':_0xbb2a9e(0x676)},{'category':'แคลคูลัสเบื้องต้น','name':_0xbb2a9e(0x1e3)},{'category':'แคลคูลัสเบื้องต้น','name':_0xbb2a9e(0x61c)},{'category':_0xbb2a9e(0xb4b),'name':_0xbb2a9e(0x7db)},{'category':'แคลคูลัสเบื้องต้น','name':_0xbb2a9e(0x57f)},{'category':_0xbb2a9e(0xb4b),'name':_0xbb2a9e(0x63e)},{'category':_0xbb2a9e(0xb4b),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':_0xbb2a9e(0xb4b),'name':_0xbb2a9e(0x379)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0xbb2a9e(0xb4b),'name':_0xbb2a9e(0x6d0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xbb2a9e(0x380)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดอทโปรดักต์\x20(dot)'},{'category':_0xbb2a9e(0x4ca),'name':_0xbb2a9e(0x435)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xbb2a9e(0x4d9)},{'category':_0xbb2a9e(0x4ca),'name':_0xbb2a9e(0x8c9)},{'category':_0xbb2a9e(0x4ca),'name':'ดีเทอร์มิแนนต์'},{'category':_0xbb2a9e(0x4ca),'name':_0xbb2a9e(0x630)},{'category':_0xbb2a9e(0x309),'name':_0xbb2a9e(0x885)},{'category':_0xbb2a9e(0x309),'name':'ดอกเบี้ยทบต้น'},{'category':_0xbb2a9e(0x309),'name':_0xbb2a9e(0x411)},{'category':_0xbb2a9e(0x309),'name':_0xbb2a9e(0x6fe)},{'category':_0xbb2a9e(0x309),'name':_0xbb2a9e(0x903)},{'category':_0xbb2a9e(0x22c),'name':_0xbb2a9e(0x719)},{'category':_0xbb2a9e(0x22c),'name':_0xbb2a9e(0x770)},{'category':_0xbb2a9e(0x22c),'name':_0xbb2a9e(0x932)}];function renderTopicCheckboxes(){const _0x1697e0=_0xbb2a9e,_0x37b234=document[_0x1697e0(0x9c1)]('math-topics-checkbox-container');if(!_0x37b234)return;const _0x303aaf=allMathTopics,_0x3f42f7=customMathTopics[_0x1697e0(0x791)](_0x22ed9d=>({'id':_0x22ed9d['id'],'category':_0x1697e0(0xaed),'name':_0x22ed9d['name']})),_0x5c6739=[..._0x303aaf,..._0x3f42f7],_0x40b458=_0x5c6739['reduce']((_0x2c105c,_0x579047)=>{const _0x40344c=_0x1697e0;return!_0x2c105c[_0x579047[_0x40344c(0x5d2)]]&&(_0x2c105c[_0x579047['category']]=[]),_0x2c105c[_0x579047[_0x40344c(0x5d2)]][_0x40344c(0x40b)](_0x579047),_0x2c105c;},{});let _0x19a2e0='';const _0x1e7997=['หัวข้อที่สร้างเอง',...Object[_0x1697e0(0x790)](_0x40b458)[_0x1697e0(0x51b)](_0x437e08=>_0x437e08!==_0x1697e0(0xaed))];for(const _0x2c7413 of _0x1e7997){if(_0x40b458[_0x2c7413]){const _0x365cc5=_0x2c7413===_0x1697e0(0xaed),_0x343503=_0x365cc5?'fas\x20fa-user-edit':_0x1697e0(0x882),_0x2aa87c=_0x365cc5?_0x1697e0(0x98d):_0x1697e0(0x996);_0x19a2e0+=_0x1697e0(0x7e2),_0x19a2e0+=_0x1697e0(0x899)+_0x2aa87c+_0x1697e0(0x955)+_0x343503+_0x1697e0(0x305)+_0x2c7413+_0x1697e0(0x40c),_0x40b458[_0x2c7413][_0x1697e0(0x803)](_0x338939=>{const _0x210ec2=_0x1697e0,_0x4ff7f5=!!_0x338939['id'],_0x458384=_0x4ff7f5?_0x210ec2(0x318)+_0x338939['id']+_0x210ec2(0x30c)+_0x338939['id']+_0x210ec2(0x41b)+_0x338939['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x338939['id']+_0x210ec2(0x798):'';_0x19a2e0+=_0x210ec2(0x50b)+(_0x338939['id']||'')+_0x210ec2(0x54f)+_0x338939[_0x210ec2(0x98a)]+_0x210ec2(0x7d5)+_0x338939[_0x210ec2(0x98a)]+_0x210ec2(0x8f1)+(_0x4ff7f5?_0x210ec2(0x41c)+_0x338939[_0x210ec2(0x98a)]+'\x22>':'')+_0x210ec2(0x624)+_0x458384+_0x210ec2(0x4d3);}),_0x19a2e0+=_0x1697e0(0xa1c);}}_0x37b234[_0x1697e0(0x1c3)]=_0x19a2e0||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x37b234['removeEventListener'](_0x1697e0(0x9af),updateSelectedTopicsCount),_0x37b234[_0x1697e0(0x4da)](_0x1697e0(0x9af),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5e7a27,_0x1af29e){const _0x2e3dc3=_0xbb2a9e;if(!_0x5e7a27||!_0x1af29e[_0x2e3dc3(0x9aa)]()){showMessage(_0x2e3dc3(0x72a));return;}try{const _0x57659c=doc(db,'artifacts/'+appId+_0x2e3dc3(0xa95),_0x5e7a27);await updateDoc(_0x57659c,{'name':_0x1af29e[_0x2e3dc3(0x9aa)]()}),showMessage(_0x2e3dc3(0xad7));}catch(_0x424094){console['error'](_0x2e3dc3(0x807),_0x424094),showMessage(_0x2e3dc3(0x74f));}}function toggleTopicEditMode(_0x1574e6,_0x1944e6){const _0x2c313d=_0xbb2a9e;if(!_0x1574e6)return;const _0x42e626=_0x1574e6[_0x2c313d(0x729)](_0x2c313d(0x53a)),_0x5f10cd=_0x1574e6[_0x2c313d(0x729)](_0x2c313d(0x97e)),_0xba27d1=_0x1574e6['querySelector'](_0x2c313d(0x52e)),_0x3aece8=_0x1574e6[_0x2c313d(0x729)](_0x2c313d(0xb0e));_0x42e626['classList']['toggle']('hidden',_0x1944e6),_0x5f10cd[_0x2c313d(0x431)][_0x2c313d(0x5ea)](_0x2c313d(0x450),!_0x1944e6),_0xba27d1[_0x2c313d(0x431)][_0x2c313d(0x5ea)](_0x2c313d(0x450),_0x1944e6),_0x3aece8[_0x2c313d(0x431)][_0x2c313d(0x5ea)](_0x2c313d(0x450),!_0x1944e6),_0x1944e6&&(_0x5f10cd['focus'](),_0x5f10cd['select']());}async function handleStartLiveRace(_0xf51b2){const _0x29c297=_0xbb2a9e;let _0x58f9a6=allQuizzes[_0x29c297(0x748)](_0x200886=>_0x200886['id']===_0xf51b2);if(!_0x58f9a6){const _0x3eb39a=doc(db,'artifacts/'+appId+_0x29c297(0x622),_0xf51b2),_0x2b7816=await getDoc(_0x3eb39a);if(!_0x2b7816[_0x29c297(0x9ce)]()){showMessage(_0x29c297(0x931));return;}_0x58f9a6={'id':_0x2b7816['id'],..._0x2b7816[_0x29c297(0x24b)]()};}const _0xe91fc0=getShuffledQuiz(_0x58f9a6);currentQuizData=_0xe91fc0;const _0x1fcb0d=_0x58f9a6[_0x29c297(0x430)]||currentProjectId||null,_0x5d9f98=Math[_0x29c297(0x7b0)](0x3e8+Math['random']()*0x2328)[_0x29c297(0x86b)]();currentLiveGamePin=_0x5d9f98;try{const _0x458e0c=await addDoc(collection(db,_0x29c297(0x44d)+appId+'/public/data/liveGames'),{'quizId':_0xf51b2,'projectId':_0x1fcb0d,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x5d9f98,'createdAt':serverTimestamp(),'shuffledQuiz':_0xe91fc0});currentLiveGameId=_0x458e0c['id'],showAdminLobbyView(_0x5d9f98,_0x58f9a6[_0x29c297(0xb4a)]),listenForLiveGameUpdates();}catch(_0x3455f6){console[_0x29c297(0x746)](_0x29c297(0x463),_0x3455f6),showMessage(_0x29c297(0x78c));}}function updateSelectedTopicsCount(){const _0x377e12=_0xbb2a9e,_0x231c34=document['getElementById'](_0x377e12(0x8a3)),_0x2ce755=_0x231c34[_0x377e12(0x345)]('input[type=\x22checkbox\x22]:checked')[_0x377e12(0xa7c)],_0x2b4aa3=document[_0x377e12(0x9c1)](_0x377e12(0x335));_0x2ce755>0x0?_0x2b4aa3[_0x377e12(0x410)]='(เลือกแล้ว\x20'+_0x2ce755+_0x377e12(0x537):_0x2b4aa3['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0xbb2a9e(0x7c9),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0xbb2a9e(0x358),quizLeaderboardSortOrder=_0xbb2a9e(0x8a7),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0xbb2a9e(0x7fc),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x30dfdb,_0x244f68){const _0x4a9f60=_0xbb2a9e;return Math[_0x4a9f60(0x907)](Math[_0x4a9f60(0x3e3)](_0x30dfdb['x']-_0x244f68['x'],0x2)+Math['pow'](_0x30dfdb['y']-_0x244f68['y'],0x2));}function getMidpoint(_0x5271eb,_0x3666db){return{'x':(_0x5271eb['x']+_0x3666db['x'])/0x2,'y':(_0x5271eb['y']+_0x3666db['y'])/0x2};}function getTransformedPoint(_0x5656c2,_0x519833){return{'x':(_0x5656c2-scratchpadOffset['x'])/scratchpadScale,'y':(_0x519833-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1f6fa8=_0xbb2a9e;if(!scratchpadCtx)return;const _0x4a288b=scratchpadCtx[_0x1f6fa8(0x6ad)],_0x3c8375=window[_0x1f6fa8(0x9b5)]||0x1,_0x75d41f=document[_0x1f6fa8(0x9c1)]('scratchpad-header');_0x75d41f&&(_0x75d41f[_0x1f6fa8(0x29c)]['transformOrigin']=_0x1f6fa8(0x7cf),_0x75d41f[_0x1f6fa8(0x29c)][_0x1f6fa8(0x1e6)]='translate('+scratchpadOffset['x']+_0x1f6fa8(0x9e0)+scratchpadOffset['y']+_0x1f6fa8(0xa2e)+scratchpadScale+')'),scratchpadCtx[_0x1f6fa8(0x53f)](),scratchpadCtx[_0x1f6fa8(0x2b1)](_0x3c8375,0x0,0x0,_0x3c8375,0x0,0x0),scratchpadCtx[_0x1f6fa8(0x7ad)](0x0,0x0,_0x4a288b['width'],_0x4a288b[_0x1f6fa8(0x35d)]),scratchpadCtx['restore'](),scratchpadCtx[_0x1f6fa8(0x53f)](),scratchpadCtx[_0x1f6fa8(0xa12)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x1f6fa8(0x803)](_0x59bb4f=>{drawStroke(_0x59bb4f);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1f6fa8(0x9d2)]();}function renderGroupModeQuestion(){const _0x385a49=_0xbb2a9e;if(localQuestionIndex>=currentQuizData[_0x385a49(0xa17)][_0x385a49(0xa7c)]){displayTeamQuizFinalResults();return;}const _0x17a139=currentQuizData[_0x385a49(0xa17)][localQuestionIndex],_0x1dfa52=_0x17a139['questionType']||currentQuizData[_0x385a49(0x950)];let _0x130aa3=_0x17a139[_0x385a49(0x8ce)]||_0x17a139[_0x385a49(0x23b)],_0x34f7d7='';switch(_0x1dfa52){case _0x385a49(0xad6):case _0x385a49(0x32e):_0x34f7d7=_0x17a139[_0x385a49(0x643)][_0x385a49(0x791)]((_0x112e33,_0x2adbc2)=>_0x385a49(0x9a4)+_0x2adbc2+_0x385a49(0x998)+_0x2adbc2+_0x385a49(0x5e4)+_0x2adbc2+'\x22>'+_0x112e33+_0x385a49(0x77b))[_0x385a49(0x3cf)]('');break;case _0x385a49(0xb53):_0x34f7d7='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x385a49(0x68a):case'fill_in_no_choices':_0x34f7d7=_0x385a49(0x398);break;case _0x385a49(0xa4a):_0x34f7d7=_0x385a49(0x781)+_0x17a139[_0x385a49(0x82a)][_0x385a49(0x791)](_0x11834a=>_0x385a49(0x520)+_0x11834a+'\x22>'+_0x11834a+'</option>')[_0x385a49(0x3cf)]('')+'</select>';break;default:_0x34f7d7=_0x385a49(0x651);break;}studentQuizArea[_0x385a49(0x1c3)]=_0x385a49(0x26c)+(localQuestionIndex+0x1)+_0x385a49(0xafc)+currentQuizData[_0x385a49(0xa17)][_0x385a49(0xa7c)]+_0x385a49(0xb0f)+localTeamPlayers[_0x385a49(0x3cf)](',\x20')+_0x385a49(0x2dc)+(localQuestionIndex+0x1)+'.\x20'+_0x130aa3+_0x385a49(0x7d7)+(_0x17a139[_0x385a49(0x84f)]?_0x385a49(0x3d8)+_0x17a139['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x34f7d7+_0x385a49(0x594),studentQuizArea[_0x385a49(0x431)][_0x385a49(0x905)](_0x385a49(0x450));if(window[_0x385a49(0x7b6)])MathJax[_0x385a49(0x987)]([studentQuizArea]);document['getElementById'](_0x385a49(0x66f))[_0x385a49(0x4da)](_0x385a49(0x3fb),handleGroupAnswerSubmit);}function handlePointerDown(_0x1a0293){const _0x3a609e=_0xbb2a9e;_0x1a0293[_0x3a609e(0x457)]();const _0x3763b1=scratchpadCtx['canvas'],_0xbfb330=_0x3763b1[_0x3a609e(0x35c)](),_0x5186d2=_0x1a0293['pointerType']||(_0x1a0293[_0x3a609e(0x3f5)]?_0x3a609e(0x4ab):_0x3a609e(0x8f8));if(_0x5186d2==='pen'||_0x5186d2===_0x3a609e(0x8f8)){if(_0x1a0293[_0x3a609e(0xa48)]===_0x3a609e(0x8f8)&&_0x1a0293['button']!==0x0){_0x1a0293[_0x3a609e(0x5f6)]===0x1&&(isMousePanning=!![],panStart={'x':_0x1a0293[_0x3a609e(0x80a)],'y':_0x1a0293[_0x3a609e(0x704)]},_0x3763b1[_0x3a609e(0x29c)][_0x3a609e(0xa61)]=_0x3a609e(0x2fd));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0xbb43a3=getTransformedPoint(_0x1a0293[_0x3a609e(0x80a)]-_0xbfb330[_0x3a609e(0x60d)],_0x1a0293['clientY']-_0xbfb330['top']);let _0x51761e={'tool':activeTool,'points':[_0xbb43a3]};if(activeTool===_0x3a609e(0x4f6))_0x51761e[_0x3a609e(0x8d9)]=scratchpadHighlighterColor,_0x51761e['size']=scratchpadHighlighterSize;else activeTool===_0x3a609e(0xa43)?(_0x51761e[_0x3a609e(0x8d9)]=scratchpadPenColor,_0x51761e[_0x3a609e(0x9f1)]=scratchpadPenSize):(_0x51761e[_0x3a609e(0x8d9)]=scratchpadPenColor,_0x51761e[_0x3a609e(0x9f1)]=scratchpadPenSize);currentStroke=_0x51761e;}else _0x1a0293[_0x3a609e(0x3f5)]&&(_0x1a0293[_0x3a609e(0x3f5)][_0x3a609e(0xa7c)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1a0293[_0x3a609e(0x3f5)][0x0][_0x3a609e(0x80a)],'y':_0x1a0293[_0x3a609e(0x3f5)][0x0][_0x3a609e(0x704)]},{'x':_0x1a0293['touches'][0x1][_0x3a609e(0x80a)],'y':_0x1a0293[_0x3a609e(0x3f5)][0x1][_0x3a609e(0x704)]}),initialPinchDistance=getDistance({'x':_0x1a0293['touches'][0x0][_0x3a609e(0x80a)],'y':_0x1a0293[_0x3a609e(0x3f5)][0x0][_0x3a609e(0x704)]},{'x':_0x1a0293[_0x3a609e(0x3f5)][0x1]['clientX'],'y':_0x1a0293['touches'][0x1][_0x3a609e(0x704)]})));}function animateTrail(){const _0x41e94f=_0xbb2a9e,_0x4e5075=Date[_0x41e94f(0x756)]();let _0x5dd306=![];for(let _0x52c7ab=strokes[_0x41e94f(0xa7c)]-0x1;_0x52c7ab>=0x0;_0x52c7ab--){const _0x3da9b6=strokes[_0x52c7ab];if(_0x3da9b6['tool']===_0x41e94f(0xa43)&&_0x3da9b6['fadeStartTime']){const _0x200489=_0x4e5075-_0x3da9b6[_0x41e94f(0x2bd)];_0x200489>=TRAIL_DURATION?strokes[_0x41e94f(0x1f7)](_0x52c7ab,0x1):(_0x3da9b6['opacity']=0x1-_0x200489/TRAIL_DURATION,_0x5dd306=!![]);}}redrawScratchpad(),_0x5dd306?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x3fa27b){const _0x3bc61c=_0xbb2a9e;if(!_0x3fa27b||_0x3fa27b[_0x3bc61c(0x3bb)][_0x3bc61c(0xa7c)]<0x1)return;scratchpadCtx[_0x3bc61c(0x53f)](),scratchpadCtx[_0x3bc61c(0x7f7)]=_0x3bc61c(0x39e),scratchpadCtx[_0x3bc61c(0x9fa)]=_0x3bc61c(0x39e);if(_0x3fa27b[_0x3bc61c(0xa68)]===_0x3bc61c(0xa43)){const _0x190f6f=_0x3fa27b[_0x3bc61c(0x9f1)]/scratchpadScale;scratchpadCtx[_0x3bc61c(0x89d)]=_0x3fa27b['opacity']??0x1,scratchpadCtx[_0x3bc61c(0x7cd)]=_0x3bc61c(0x515),scratchpadCtx[_0x3bc61c(0x317)]=_0x190f6f*0x3,scratchpadCtx[_0x3bc61c(0x963)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx['lineWidth']=_0x190f6f*2.5,scratchpadCtx[_0x3bc61c(0x623)](),scratchpadCtx[_0x3bc61c(0x684)](_0x3fa27b['points'][0x0]['x'],_0x3fa27b[_0x3bc61c(0x3bb)][0x0]['y']);for(let _0x12e59e=0x1;_0x12e59e<_0x3fa27b[_0x3bc61c(0x3bb)]['length']-0x1;_0x12e59e++){const _0x7eb1f5=getMidpoint(_0x3fa27b[_0x3bc61c(0x3bb)][_0x12e59e],_0x3fa27b[_0x3bc61c(0x3bb)][_0x12e59e+0x1]);scratchpadCtx[_0x3bc61c(0x2b2)](_0x3fa27b['points'][_0x12e59e]['x'],_0x3fa27b['points'][_0x12e59e]['y'],_0x7eb1f5['x'],_0x7eb1f5['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x3bc61c(0x7cd)]=_0x3bc61c(0x65e),scratchpadCtx[_0x3bc61c(0x317)]=0x0,scratchpadCtx[_0x3bc61c(0x963)]=_0x3bc61c(0x6c5),scratchpadCtx[_0x3bc61c(0xb19)]=_0x190f6f,scratchpadCtx['stroke'](),scratchpadCtx[_0x3bc61c(0x4ad)]();}else{if(_0x3fa27b[_0x3bc61c(0xa68)]===_0x3bc61c(0x4f6)){scratchpadCtx[_0x3bc61c(0x6bf)]=_0x3bc61c(0x97b),scratchpadCtx[_0x3bc61c(0x963)]=_0x3fa27b[_0x3bc61c(0x8d9)],scratchpadCtx[_0x3bc61c(0xb19)]=_0x3fa27b[_0x3bc61c(0x9f1)],scratchpadCtx[_0x3bc61c(0x623)](),scratchpadCtx[_0x3bc61c(0x684)](_0x3fa27b[_0x3bc61c(0x3bb)][0x0]['x'],_0x3fa27b[_0x3bc61c(0x3bb)][0x0]['y']);for(let _0x2581f1=0x1;_0x2581f1<_0x3fa27b[_0x3bc61c(0x3bb)]['length']-0x1;_0x2581f1++){const _0x48c3dc=getMidpoint(_0x3fa27b[_0x3bc61c(0x3bb)][_0x2581f1],_0x3fa27b[_0x3bc61c(0x3bb)][_0x2581f1+0x1]);scratchpadCtx[_0x3bc61c(0x2b2)](_0x3fa27b[_0x3bc61c(0x3bb)][_0x2581f1]['x'],_0x3fa27b['points'][_0x2581f1]['y'],_0x48c3dc['x'],_0x48c3dc['y']);}scratchpadCtx[_0x3bc61c(0x7f8)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x3bc61c(0x6bf)]=_0x3fa27b[_0x3bc61c(0xa68)]==='eraser'?_0x3bc61c(0x8b0):_0x3bc61c(0x29b),scratchpadCtx[_0x3bc61c(0x963)]=_0x3fa27b[_0x3bc61c(0x8d9)],scratchpadCtx[_0x3bc61c(0xb19)]=_0x3fa27b['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x3bc61c(0x684)](_0x3fa27b[_0x3bc61c(0x3bb)][0x0]['x'],_0x3fa27b[_0x3bc61c(0x3bb)][0x0]['y']);for(let _0x4a6c5e=0x1;_0x4a6c5e<_0x3fa27b[_0x3bc61c(0x3bb)][_0x3bc61c(0xa7c)]-0x1;_0x4a6c5e++){const _0x36e5a3=getMidpoint(_0x3fa27b[_0x3bc61c(0x3bb)][_0x4a6c5e],_0x3fa27b[_0x3bc61c(0x3bb)][_0x4a6c5e+0x1]);scratchpadCtx[_0x3bc61c(0x2b2)](_0x3fa27b['points'][_0x4a6c5e]['x'],_0x3fa27b[_0x3bc61c(0x3bb)][_0x4a6c5e]['y'],_0x36e5a3['x'],_0x36e5a3['y']);}scratchpadCtx[_0x3bc61c(0x7f8)](),scratchpadCtx['closePath']();}}scratchpadCtx['restore']();}function handlePointerMove(_0x2b1f06){const _0x24f892=_0xbb2a9e;_0x2b1f06[_0x24f892(0x457)]();const _0x465c9c=scratchpadCtx[_0x24f892(0x6ad)],_0x2ff8c6=_0x465c9c[_0x24f892(0x35c)]();if(_0x2b1f06[_0x24f892(0x3f5)]){if(_0x2b1f06[_0x24f892(0x3f5)][_0x24f892(0xa7c)]===0x1&&isDrawingOnScratchpad){const _0xb5f25c=getTransformedPoint(_0x2b1f06[_0x24f892(0x3f5)][0x0]['clientX']-_0x2ff8c6['left'],_0x2b1f06['touches'][0x0][_0x24f892(0x704)]-_0x2ff8c6['top']);currentStroke['points']['push'](_0xb5f25c),redrawScratchpad();}else{if(_0x2b1f06[_0x24f892(0x3f5)][_0x24f892(0xa7c)]===0x2&&isPanning){const _0x1d1ef5=getDistance({'x':_0x2b1f06['touches'][0x0]['clientX'],'y':_0x2b1f06['touches'][0x0]['clientY']},{'x':_0x2b1f06[_0x24f892(0x3f5)][0x1][_0x24f892(0x80a)],'y':_0x2b1f06[_0x24f892(0x3f5)][0x1][_0x24f892(0x704)]}),_0x4c68cc=getMidpoint({'x':_0x2b1f06[_0x24f892(0x3f5)][0x0]['clientX'],'y':_0x2b1f06['touches'][0x0][_0x24f892(0x704)]},{'x':_0x2b1f06[_0x24f892(0x3f5)][0x1][_0x24f892(0x80a)],'y':_0x2b1f06['touches'][0x1][_0x24f892(0x704)]}),_0x2c1f41=_0x1d1ef5/ initialPinchDistance,_0x2f81d0=Math[_0x24f892(0x2e8)](Math[_0x24f892(0xaa3)](scratchpadScale*_0x2c1f41,MIN_SCALE),MAX_SCALE),_0x1dc274=_0x4c68cc['x']-panStart['x'],_0x5aff44=_0x4c68cc['y']-panStart['y'];scratchpadOffset['x']=_0x4c68cc['x']-(_0x4c68cc['x']-scratchpadOffset['x'])*(_0x2f81d0/scratchpadScale),scratchpadOffset['y']=_0x4c68cc['y']-(_0x4c68cc['y']-scratchpadOffset['y'])*(_0x2f81d0/scratchpadScale),scratchpadOffset['x']+=_0x1dc274,scratchpadOffset['y']+=_0x5aff44,scratchpadScale=_0x2f81d0,initialPinchDistance=_0x1d1ef5,panStart=_0x4c68cc,redrawScratchpad();}}}else{if(isMousePanning){const _0x162a94=_0x2b1f06[_0x24f892(0x80a)]-panStart['x'],_0x4b081e=_0x2b1f06['clientY']-panStart['y'];scratchpadOffset['x']+=_0x162a94,scratchpadOffset['y']+=_0x4b081e,panStart={'x':_0x2b1f06[_0x24f892(0x80a)],'y':_0x2b1f06['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0xbae6c6=getTransformedPoint(_0x2b1f06[_0x24f892(0x80a)]-_0x2ff8c6[_0x24f892(0x60d)],_0x2b1f06['clientY']-_0x2ff8c6[_0x24f892(0x3db)]);currentStroke[_0x24f892(0x3bb)]['push'](_0xbae6c6),redrawScratchpad();}}}}function handlePointerUp(_0x163524){const _0x35a97f=_0xbb2a9e;_0x163524[_0x35a97f(0x457)]();const _0x35c1ac=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x35c1ac[_0x35a97f(0x29c)][_0x35a97f(0xa61)]=_0x35a97f(0x3e5)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x35a97f(0x3bb)][_0x35a97f(0xa7c)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x35a97f(0xa68)]===_0x35a97f(0xa43)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3e9315=_0x35a97f,_0x3761c0=strokes[_0x3e9315(0x51b)](_0x5d39bf=>_0x5d39bf[_0x3e9315(0xa68)]===_0x3e9315(0xa43)&&!_0x5d39bf[_0x3e9315(0x2bd)]);if(_0x3761c0[_0x3e9315(0xa7c)]>0x0){const _0x4069c5=Date['now']();_0x3761c0[_0x3e9315(0x803)](_0x43d259=>_0x43d259['fadeStartTime']=_0x4069c5),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x477ba9){const _0x16d547=_0xbb2a9e;_0x477ba9['preventDefault']();const _0xb94c42=_0x477ba9[_0x16d547(0x897)]*-0.005,_0x2f5703=Math[_0x16d547(0x2e8)](Math['max'](scratchpadScale+_0xb94c42,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x477ba9[_0x16d547(0x80a)]-(_0x477ba9[_0x16d547(0x80a)]-scratchpadOffset['x'])*(_0x2f5703/scratchpadScale),scratchpadOffset['y']=_0x477ba9['clientY']-(_0x477ba9['clientY']-scratchpadOffset['y'])*(_0x2f5703/scratchpadScale),scratchpadScale=_0x2f5703,redrawScratchpad();}function undo(){const _0x1de16d=_0xbb2a9e;strokes['length']>0x0&&(redoStrokes['push'](strokes[_0x1de16d(0x709)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5ad371=_0xbb2a9e;redoStrokes[_0x5ad371(0xa7c)]>0x0&&(strokes[_0x5ad371(0x40b)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x21c111=_0xbb2a9e;document[_0x21c111(0x9c1)](_0x21c111(0x2ac))[_0x21c111(0x9d7)]=strokes[_0x21c111(0xa7c)]===0x0,document[_0x21c111(0x9c1)](_0x21c111(0x211))[_0x21c111(0x9d7)]=redoStrokes['length']===0x0;}function openScratchpad(_0x455e80,_0x1d0db6){const _0x3c1f66=_0xbb2a9e,_0x5988f2=document[_0x3c1f66(0x9c1)](_0x3c1f66(0x2d2)),_0xdefd9=document[_0x3c1f66(0x9c1)]('scratchpad-question'),_0x3a7178=document[_0x3c1f66(0x9c1)](_0x3c1f66(0x25e)),_0x322d56=document[_0x3c1f66(0x9c1)]('scratchpad-controls');_0xdefd9['innerHTML']=_0x455e80[_0x3c1f66(0x8ce)]||_0x455e80[_0x3c1f66(0x23b)],_0x3a7178[_0x3c1f66(0x1c3)]=_0x1d0db6[_0x3c1f66(0x791)]((_0x5bd294,_0x69a9bc)=>_0x3c1f66(0x61b)+String[_0x3c1f66(0x2df)](0x41+_0x69a9bc)+'.\x20'+_0x5bd294+_0x3c1f66(0xa1c))['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5988f2[_0x3c1f66(0x431)][_0x3c1f66(0x905)](_0x3c1f66(0x450)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x3c1f66(0x7b6)])MathJax[_0x3c1f66(0x987)]([_0xdefd9,_0x3a7178]);}function initializeScratchpadCanvas(){const _0x33fc4d=_0xbb2a9e,_0x259402=document[_0x33fc4d(0x9c1)](_0x33fc4d(0xa10)),_0x2177de=document['querySelector']('.scratchpad-content-wrapper');if(!_0x259402||!_0x2177de)return;scratchpadCtx=_0x259402['getContext']('2d',{'willReadFrequently':!![]});const _0x135bed=window[_0x33fc4d(0x9b5)]||0x1,_0x536423=_0x2177de[_0x33fc4d(0x35c)]();_0x259402['width']=_0x536423[_0x33fc4d(0x7e7)]*_0x135bed,_0x259402[_0x33fc4d(0x35d)]=_0x536423[_0x33fc4d(0x35d)]*_0x135bed,_0x259402[_0x33fc4d(0x29c)]['width']=_0x536423[_0x33fc4d(0x7e7)]+'px',_0x259402[_0x33fc4d(0x29c)][_0x33fc4d(0x35d)]=_0x536423[_0x33fc4d(0x35d)]+'px',scratchpadCtx[_0x33fc4d(0x575)](_0x135bed,_0x135bed),scratchpadCtx[_0x33fc4d(0x7f7)]=_0x33fc4d(0x39e),scratchpadCtx['lineCap']=_0x33fc4d(0x39e),_0x259402[_0x33fc4d(0x734)](_0x33fc4d(0x6aa),handlePointerDown),_0x259402['removeEventListener'](_0x33fc4d(0x992),handlePointerMove),_0x259402['removeEventListener']('pointerup',handlePointerUp),_0x259402[_0x33fc4d(0x734)](_0x33fc4d(0x1ca),handlePointerUp),_0x259402[_0x33fc4d(0x734)](_0x33fc4d(0x52c),handleWheel),_0x259402[_0x33fc4d(0x734)](_0x33fc4d(0x3b9),handlePointerDown),_0x259402[_0x33fc4d(0x734)](_0x33fc4d(0x5c5),handlePointerMove),_0x259402[_0x33fc4d(0x734)](_0x33fc4d(0x223),handlePointerUp),_0x259402[_0x33fc4d(0x4da)](_0x33fc4d(0x6aa),handlePointerDown),_0x259402['addEventListener']('pointermove',handlePointerMove),_0x259402[_0x33fc4d(0x4da)]('pointerup',handlePointerUp),_0x259402[_0x33fc4d(0x4da)](_0x33fc4d(0x1ca),handlePointerUp),_0x259402[_0x33fc4d(0x4da)](_0x33fc4d(0x52c),handleWheel,{'passive':![]}),_0x259402[_0x33fc4d(0x4da)](_0x33fc4d(0x3b9),handlePointerDown,{'passive':![]}),_0x259402[_0x33fc4d(0x4da)]('touchmove',handlePointerMove,{'passive':![]}),_0x259402[_0x33fc4d(0x4da)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x478eff=_0xbb2a9e,_0x5b94f1=document[_0x478eff(0x9c1)](_0x478eff(0x2d2)),_0x3a381f=document[_0x478eff(0x9c1)](_0x478eff(0xa35));_0x3a381f[_0x478eff(0x1c3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x1b2485=document[_0x478eff(0x9c1)](_0x478eff(0x7b3)),_0x1b81c1=document[_0x478eff(0x9c1)](_0x478eff(0x3f6)),_0x45e1bf=document[_0x478eff(0x9c1)](_0x478eff(0x695)),_0x4a92d6=document[_0x478eff(0x9c1)](_0x478eff(0xaa7)),_0xadd7cb=document['getElementById'](_0x478eff(0x3de)),_0x268bb7=document[_0x478eff(0x9c1)](_0x478eff(0xaf1)),_0x30b2c3=[_0x1b2485,_0x1b81c1,_0x45e1bf,_0x4a92d6];document[_0x478eff(0x9c1)](_0x478eff(0x260))[_0x478eff(0x4da)](_0x478eff(0x3fb),()=>_0x5b94f1[_0x478eff(0x431)]['add']('hidden')),document[_0x478eff(0x9c1)](_0x478eff(0x929))[_0x478eff(0x4da)](_0x478eff(0x3fb),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x478eff(0x9c1)](_0x478eff(0x682))['addEventListener'](_0x478eff(0x3fb),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById']('undo-btn')[_0x478eff(0x4da)](_0x478eff(0x3fb),undo),document['getElementById'](_0x478eff(0x211))[_0x478eff(0x4da)](_0x478eff(0x3fb),redo);const _0x5d2380=_0x36483b=>{const _0x46e2ac=_0x478eff;_0x30b2c3[_0x46e2ac(0x803)](_0x4b3284=>_0x4b3284[_0x46e2ac(0x431)][_0x46e2ac(0x905)](_0x46e2ac(0x645))),_0x36483b[_0x46e2ac(0x431)][_0x46e2ac(0x8af)](_0x46e2ac(0x645));const _0x23c567=_0x36483b===_0x4a92d6;_0xadd7cb[_0x46e2ac(0x431)][_0x46e2ac(0x5ea)](_0x46e2ac(0x450),_0x23c567),_0x268bb7[_0x46e2ac(0x431)]['toggle'](_0x46e2ac(0x450),!_0x23c567);};_0x1b2485[_0x478eff(0x4da)](_0x478eff(0x3fb),()=>{const _0x43c3f0=_0x478eff;activeTool=_0x43c3f0(0x8d4),_0x5d2380(_0x1b2485);}),_0x1b81c1[_0x478eff(0x4da)](_0x478eff(0x3fb),()=>{const _0x2f5540=_0x478eff;activeTool=_0x2f5540(0x77c),_0x5d2380(_0x1b81c1);}),_0x45e1bf[_0x478eff(0x4da)](_0x478eff(0x3fb),()=>{activeTool='trail',_0x5d2380(_0x45e1bf);}),_0x4a92d6[_0x478eff(0x4da)](_0x478eff(0x3fb),()=>{const _0x3ba1c1=_0x478eff;activeTool=_0x3ba1c1(0x4f6),_0x5d2380(_0x4a92d6);}),_0xadd7cb[_0x478eff(0x345)](_0x478eff(0xb31))[_0x478eff(0x803)](_0x1dbb70=>{const _0xbcf78a=_0x478eff;_0x1dbb70[_0xbcf78a(0x4da)](_0xbcf78a(0x3fb),_0x327cbd=>{const _0x4f6d55=_0xbcf78a;scratchpadPenSize=parseInt(_0x327cbd[_0x4f6d55(0x3a6)][_0x4f6d55(0x1f9)][_0x4f6d55(0x9f1)],0xa),_0xadd7cb[_0x4f6d55(0x345)](_0x4f6d55(0xb31))[_0x4f6d55(0x803)](_0x545fc7=>_0x545fc7[_0x4f6d55(0x431)][_0x4f6d55(0x905)](_0x4f6d55(0x645))),_0x327cbd[_0x4f6d55(0x3a6)][_0x4f6d55(0x431)][_0x4f6d55(0x8af)](_0x4f6d55(0x645));});}),_0xadd7cb[_0x478eff(0x345)]('.pen-color-btn')[_0x478eff(0x803)](_0x150f82=>{const _0x3c7eb6=_0x478eff;_0x150f82[_0x3c7eb6(0x4da)](_0x3c7eb6(0x3fb),_0x2e4745=>{const _0x265e39=_0x3c7eb6;scratchpadPenColor=_0x2e4745[_0x265e39(0x3a6)][_0x265e39(0x1f9)][_0x265e39(0x8d9)],_0xadd7cb[_0x265e39(0x345)](_0x265e39(0x3cd))['forEach'](_0x3fe6c5=>_0x3fe6c5[_0x265e39(0x431)][_0x265e39(0x905)](_0x265e39(0x645))),_0x2e4745[_0x265e39(0x3a6)][_0x265e39(0x431)][_0x265e39(0x8af)](_0x265e39(0x645));});}),_0x268bb7['querySelectorAll'](_0x478eff(0x5a5))[_0x478eff(0x803)](_0x2e1679=>{const _0x1f7f99=_0x478eff;_0x2e1679[_0x1f7f99(0x4da)](_0x1f7f99(0x3fb),_0x25a854=>{const _0x529e52=_0x1f7f99;scratchpadHighlighterColor=_0x25a854[_0x529e52(0x3a6)][_0x529e52(0x1f9)][_0x529e52(0x8d9)],_0x268bb7[_0x529e52(0x345)](_0x529e52(0x5a5))[_0x529e52(0x803)](_0x412aae=>_0x412aae['classList'][_0x529e52(0x905)](_0x529e52(0x645))),_0x25a854[_0x529e52(0x3a6)]['classList'][_0x529e52(0x8af)](_0x529e52(0x645));});});const _0x3bf16c=document['getElementById'](_0x478eff(0x9db)),_0x1a39f8=document[_0x478eff(0x9c1)](_0x478eff(0x52f));_0x3bf16c[_0x478eff(0x4da)](_0x478eff(0x43a),_0x3f9fe7=>{const _0x5c5b4b=_0x478eff,_0x1d227a=parseInt(_0x3f9fe7[_0x5c5b4b(0x3a6)]['value'],0xa);scratchpadHighlighterSize=_0x1d227a,_0x1a39f8[_0x5c5b4b(0x410)]=_0x1d227a;}),window['addEventListener']('resize',()=>{const _0x1cfded=_0x478eff;!_0x5b94f1[_0x1cfded(0x431)]['contains'](_0x1cfded(0x450))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0xbb2a9e(0x563),'description':_0xbb2a9e(0x482),'icon':_0xbb2a9e(0x4ff)},'QUICK_THINKER':{'id':_0xbb2a9e(0x758),'name':'เซียนสมองไว','description':_0xbb2a9e(0x8d0),'icon':_0xbb2a9e(0x509)},'ON_FIRE':{'id':'on_fire','name':_0xbb2a9e(0x374),'description':_0xbb2a9e(0x76e),'icon':_0xbb2a9e(0x665)},'FIRST_TRY_ACE':{'id':_0xbb2a9e(0x475),'name':'ผ่านฉลุย','description':_0xbb2a9e(0x63d),'icon':_0xbb2a9e(0x69d)},'COMEBACK_KING':{'id':_0xbb2a9e(0x8fe),'name':_0xbb2a9e(0x5bc),'description':_0xbb2a9e(0x919),'icon':_0xbb2a9e(0x70c)},'SPECIALIST':{'id':_0xbb2a9e(0x316),'name':_0xbb2a9e(0x6df),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0xbb2a9e(0x8e9)},'PERSEVERANCE':{'id':_0xbb2a9e(0x946),'name':'ผู้ไม่ยอมแพ้','description':_0xbb2a9e(0x5b2),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0xbb2a9e(0x34e),'authDomain':_0xbb2a9e(0x691),'projectId':_0xbb2a9e(0x8b1),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0xbb2a9e(0x302),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0xbb2a9e(0xa7a)},appId=typeof __app_id!=='undefined'?__app_id:_0xbb2a9e(0x85a),adminView=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x554)),studentView=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x3f3)),projectDashboardView=document[_0xbb2a9e(0x9c1)]('project-dashboard-view'),projectDetailView=document['getElementById']('project-detail-view'),quizResultsView=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x891)),projectList=document[_0xbb2a9e(0x9c1)]('project-list'),noProjectsMsg=document['getElementById'](_0xbb2a9e(0x42e)),projectTitle=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x8c8)),projectIdDisplay=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x73b)),studentList=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x7a4)),messageModal=document['getElementById']('message-modal'),modalMessage=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x9be)),createProjectModal=document[_0xbb2a9e(0x9c1)]('create-project-modal'),adminPasswordModal=document['getElementById'](_0xbb2a9e(0x452)),confirmationModal=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x9e2)),userIdDisplay=document[_0xbb2a9e(0x9c1)]('user-id-display'),topicTab=document['getElementById']('topic-tab'),textTab=document[_0xbb2a9e(0x9c1)]('text-tab'),topicInputArea=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x495)),textInputArea=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x418)),manageTab=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x65d)),resultsTab=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x5b0)),leaderboardTab=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x285)),manageTabContent=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x350)),resultsTabContent=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0xb2b)),leaderboardTabContent=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x8bf)),projectQuizzesList=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x396)),fileTab=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x2d6)),fileInputArea=document[_0xbb2a9e(0x9c1)]('file-input-area'),fileUploadInput=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x984)),worksheetTab=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x312)),worksheetInputArea=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x3b8)),generateWorksheetBtn=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x4c4)),studentInitialView=document['getElementById']('student-initial-view'),studentNameSelectionView=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x3d9)),studentQuizArea=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x98e)),studentResultArea=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x93f)),studentReadingArea=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x55f)),loadQuizBtn=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x320)),startQuizBtn=document[_0xbb2a9e(0x9c1)]('start-quiz-btn'),studentJoinGameView=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x81a)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x6c7)),moveQuizModal=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x69e)),quizSettingsModal=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x357)),quizStatusModal=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x65a)),liveGameView=document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x8d2));function handleAutoFixLatex(){const _0x1f5b2e=_0xbb2a9e,_0x35e12d=document[_0x1f5b2e(0x9c1)](_0x1f5b2e(0x37c))||document,_0x5689d4=_0x35e12d[_0x1f5b2e(0x345)]([_0x1f5b2e(0xa34),_0x1f5b2e(0x308),_0x1f5b2e(0x1de),_0x1f5b2e(0x7a2),'.ql-editor','label','.choice-text','.option-text',_0x1f5b2e(0x4e4)][_0x1f5b2e(0x3cf)](','));let _0x2499e1=0x0;const _0x102da2=_0x7bef4e=>_0x1f5b2e(0x9b2)in _0x7bef4e?String(_0x7bef4e[_0x1f5b2e(0x9b2)]):_0x7bef4e['innerText']!==undefined?_0x7bef4e[_0x1f5b2e(0x506)]:_0x7bef4e[_0x1f5b2e(0x410)]||'',_0x549ff1=(_0x2f2156,_0x27c4df)=>{const _0xb73c84=_0x1f5b2e;if(_0xb73c84(0x9b2)in _0x2f2156){_0x2f2156[_0xb73c84(0x9b2)]=_0x27c4df;return;}if(_0x2f2156[_0xb73c84(0x729)]&&_0x2f2156[_0xb73c84(0x729)](_0xb73c84(0x90f)))return;if(_0x2f2156[_0xb73c84(0x506)]!==undefined)_0x2f2156[_0xb73c84(0x506)]=_0x27c4df;else _0x2f2156['textContent']=_0x27c4df;},_0x4921f1=_0x505b98=>_0x505b98[_0x1f5b2e(0x99c)](/\u00A0/g,'\x20')[_0x1f5b2e(0x99c)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x508c76=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x168859=_0x4902fa=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x4902fa),_0x21c8c6=_0x22de5a=>{const _0x4b33a3=_0x1f5b2e,_0xf77290=(_0x22de5a['match'](/\{/g)||[])['length'],_0x5b354b=(_0x22de5a['match'](/\}/g)||[])[_0x4b33a3(0xa7c)];if(_0xf77290>_0x5b354b)_0x22de5a=_0x22de5a+'}'[_0x4b33a3(0x3f7)](_0xf77290-_0x5b354b);return _0x22de5a;},_0xab7766=_0x12ad93=>{const _0x4ccafd=_0x1f5b2e;let _0x3657a5=_0x12ad93[_0x4ccafd(0x9aa)]();const _0x1331cd=[_0x4ccafd(0x757),_0x4ccafd(0xb08),'tfrac',_0x4ccafd(0x907),_0x4ccafd(0x7e8),'times',_0x4ccafd(0x675),_0x4ccafd(0x6e9),'leq',_0x4ccafd(0x57d),'le','ge',_0x4ccafd(0x7bf),'pm',_0x4ccafd(0x270),_0x4ccafd(0xadb),_0x4ccafd(0xa73),_0x4ccafd(0x2e7),'log','ln',_0x4ccafd(0x574),_0x4ccafd(0x557),_0x4ccafd(0x6e3),_0x4ccafd(0x60d),_0x4ccafd(0x2a8),_0x4ccafd(0x49b),'underline',_0x4ccafd(0xad9),_0x4ccafd(0x715)];_0x3657a5=_0x3657a5[_0x4ccafd(0x99c)](new RegExp(_0x4ccafd(0x427)+_0x1331cd[_0x4ccafd(0x3cf)]('|')+')\x5cb)','g'),'\x5c'),_0x1331cd[_0x4ccafd(0x803)](_0x47e89e=>{const _0x183a10=_0x4ccafd;_0x3657a5=_0x3657a5['replace'](new RegExp(_0x183a10(0x2cc)+_0x47e89e+'\x5cb','g'),(_0x35b559,_0x92c7cd)=>_0x92c7cd+'\x5c'+_0x47e89e);});const _0x1f7392=[[/×/g,_0x4ccafd(0x483)],[/·/g,_0x4ccafd(0xa8c)],[/÷/g,_0x4ccafd(0x2bc)],[/≤/g,_0x4ccafd(0x69c)],[/≥/g,_0x4ccafd(0x2c3)],[/≠/g,_0x4ccafd(0x35b)],[/±/g,_0x4ccafd(0x7fe)],[/∑/g,_0x4ccafd(0xb32)],[/−/g,'-']];_0x1f7392['forEach'](([_0x5a206c,_0x265f03])=>{const _0x511789=_0x4ccafd;_0x3657a5=_0x3657a5[_0x511789(0x99c)](_0x5a206c,_0x265f03);}),_0x3657a5=_0x3657a5[_0x4ccafd(0x99c)](/√\s*\(([^)]*)\)/g,_0x4ccafd(0x532)),_0x3657a5=_0x3657a5['replace'](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x3657a5=_0x3657a5[_0x4ccafd(0x99c)](/(^|[^\\])\bimes\b/g,_0x4ccafd(0xafb))['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x4ccafd(0x99c)](/(^|[^\\])ext\{/g,_0x4ccafd(0x9e4))[_0x4ccafd(0x99c)](/(^|[^\\])ext\(/g,_0x4ccafd(0xac8))[_0x4ccafd(0x99c)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x4ccafd(0x99c)](/\s\\frac/g,'\x5cfrac'),_0x3657a5=_0x3657a5['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x24073d,_0x431c92,_0x13b889,_0x3036c0)=>_0x431c92+'\x5cfrac{'+_0x13b889+'}{'+_0x3036c0+'}'),_0x3657a5=_0x3657a5[_0x4ccafd(0x99c)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x4ccafd(0x639))[_0x4ccafd(0x99c)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x4ccafd(0x639)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x4ccafd(0x641)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x4ccafd(0x641)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x4ccafd(0x641)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x4ccafd(0x3dd)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x4ccafd(0x641)]][_0x4ccafd(0x803)](([_0x2493e0,_0x5315dd])=>{_0x3657a5=_0x3657a5['replace'](_0x2493e0,_0x5315dd);}),_0x3657a5=_0x3657a5[_0x4ccafd(0x99c)](/(\d+)\s*%/g,_0x4ccafd(0x760)),_0x3657a5=_0x3657a5[_0x4ccafd(0x99c)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4ccafd(0x9e5))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4ccafd(0x66a))[_0x4ccafd(0x99c)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),['sin','cos',_0x4ccafd(0x2e7),_0x4ccafd(0x73c),'ln']['forEach'](_0x102538=>{const _0x31bed6=_0x4ccafd;_0x3657a5=_0x3657a5[_0x31bed6(0x99c)](new RegExp(_0x31bed6(0x2cc)+_0x102538+_0x31bed6(0x516),'g'),(_0x1498ef,_0x2c06dd)=>_0x2c06dd+'\x5c'+_0x102538+'(');});const _0x302fda=(_0x3657a5[_0x4ccafd(0x453)](/\\left\b/g)||[])[_0x4ccafd(0xa7c)],_0x1f7e2e=(_0x3657a5[_0x4ccafd(0x453)](/\\right\b/g)||[])[_0x4ccafd(0xa7c)];if(_0x302fda!==_0x1f7e2e)_0x3657a5=_0x3657a5[_0x4ccafd(0x99c)](/\\left\b/g,'')[_0x4ccafd(0x99c)](/\\right\b/g,'');return _0x3657a5=_0x21c8c6(_0x3657a5),_0x3657a5;},_0x2406f1=_0x1188f4=>{const _0x13cc62=_0x1f5b2e;if(/\$|\\\(|\\\[/[_0x13cc62(0x2b6)](_0x1188f4))return _0x1188f4;if(!_0x508c76['test'](_0x1188f4))return _0x1188f4;const _0x3061c1=_0x1188f4[_0x13cc62(0x453)](/^\s*/)[0x0],_0x19abe1=_0x1188f4[_0x13cc62(0x453)](/\s*$/)[0x0],_0x45355e=_0x1188f4['trim']();return _0x3061c1+'$'+_0xab7766(_0x45355e)+'$'+_0x19abe1;},_0x44eae6=_0x5dea95=>_0x5dea95[_0x1f5b2e(0x8cd)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x5689d4[_0x1f5b2e(0x803)](_0x3ded1b=>{const _0x4bc480=_0x1f5b2e;if(_0x3ded1b[_0x4bc480(0x729)]&&_0x3ded1b['querySelector'](_0x4bc480(0x90f)))return;const _0x3cf046=_0x102da2(_0x3ded1b);let _0x87bf7e=_0x4921f1(_0x3cf046);_0x87bf7e=_0x87bf7e[_0x4bc480(0x99c)](/\$\$([\s\S]*?)\$\$/g,(_0x316711,_0x347e09)=>'$$'+_0xab7766(_0x347e09)+'$$')[_0x4bc480(0x99c)](/\$([^$]*?)\$/g,(_0x2f8111,_0x1f95d0)=>'$'+_0xab7766(_0x1f95d0)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0xc65d86,_0x12ce18)=>'\x5c('+_0xab7766(_0x12ce18)+'\x5c)')[_0x4bc480(0x99c)](/\\\[([\s\S]*?)\\\]/g,(_0x41146b,_0x5d770e)=>'\x5c['+_0xab7766(_0x5d770e)+'\x5c]');let _0x37f1aa=_0x87bf7e,_0x29963d=0x0;const _0x10c149=_0x4049be=>_0x4049be[_0x4bc480(0x99c)](/S([^S]{0,2000}?)S/g,(_0xe2b411,_0x3503a9)=>_0x508c76['test'](_0x3503a9)?'$'+_0xab7766(_0x3503a9)+'$':_0xe2b411);while(_0x29963d++<0x14){const _0x3432cb=_0x10c149(_0x37f1aa);if(_0x3432cb===_0x37f1aa)break;_0x37f1aa=_0x3432cb;}_0x87bf7e=_0x37f1aa,_0x87bf7e=_0x87bf7e[_0x4bc480(0x8cd)]('\x0a')['map'](_0x3496a0=>{const _0x28a24c=_0x4bc480;if(!(/[,\u3001，;；]/[_0x28a24c(0x2b6)](_0x3496a0)||/\s(?:และ|หรือ)\s/[_0x28a24c(0x2b6)](_0x3496a0))||!_0x508c76['test'](_0x3496a0))return _0x3496a0;return _0x44eae6(_0x3496a0)[_0x28a24c(0x791)](_0x501230=>{const _0x4930b3=_0x28a24c;if(/^\s(?:และ|หรือ)\s$/[_0x4930b3(0x2b6)](_0x501230)||/^[,\u3001，;；]$/['test'](_0x501230))return _0x501230;return _0x2406f1(_0x501230);})['join']('');})[_0x4bc480(0x3cf)]('\x0a'),_0x87bf7e=_0x87bf7e[_0x4bc480(0x8cd)]('\x0a')[_0x4bc480(0x791)](_0x494bad=>{const _0x2a8f6f=_0x4bc480,_0x3409c9=_0x494bad[_0x2a8f6f(0x9aa)]();if(!_0x3409c9)return _0x494bad;const _0x13a42f=/\$|\\\(|\\\[/[_0x2a8f6f(0x2b6)](_0x3409c9),_0x81f6b6=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x2a8f6f(0x2b6)](_0x3409c9);if(_0x13a42f||!_0x81f6b6||_0x168859(_0x3409c9))return _0x494bad;return _0x494bad[_0x2a8f6f(0x99c)](_0x3409c9,'$'+_0xab7766(_0x3409c9)+'$');})[_0x4bc480(0x3cf)]('\x0a'),_0x87bf7e=_0x87bf7e[_0x4bc480(0x99c)](/(\d+)\s*°\s*C\b/g,(_0xe0686d,_0x50194a,_0x2c9a62,_0x46606f)=>{const _0x10cb35=_0x4bc480,_0x30941c=_0x46606f[_0x2c9a62-0x1];if(_0x30941c==='$'||_0x30941c==='S'||_0x30941c==='\x5c')return _0xe0686d;return'$'+_0x50194a+_0x10cb35(0x59c);})[_0x4bc480(0x99c)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x2a8bdc,_0xe45a11,_0x5dddbd,_0x5b38ad)=>{const _0x475521=_0x5b38ad[_0x5dddbd-0x1];if(_0x475521==='$'||_0x475521==='S'||_0x475521==='\x5c')return _0x2a8bdc;return'$'+_0xe45a11+'^{\x5ccirc}\x5ctext{C}$';})[_0x4bc480(0x99c)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0xaa439f,_0x4717e3,_0x17b042,_0x3772f5)=>{const _0x12a6d5=_0x4bc480,_0x4a1e46=_0x3772f5[_0x17b042-0x1];if(_0x4a1e46==='$'||_0x4a1e46==='S'||_0x4a1e46==='\x5c')return _0xaa439f;return'$'+_0x4717e3+_0x12a6d5(0x59c);}),_0x87bf7e=_0x87bf7e[_0x4bc480(0x99c)](/\$\s*\$/g,'$$'),_0x87bf7e!==_0x3cf046&&(_0x549ff1(_0x3ded1b,_0x87bf7e),_0x2499e1++);});if(_0x2499e1>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x2499e1+_0x1f5b2e(0x9d0));try{if(window[_0x1f5b2e(0x7b6)]&&MathJax[_0x1f5b2e(0x987)])MathJax[_0x1f5b2e(0x987)]();window[_0x1f5b2e(0x215)]&&typeof renderMathInElement===_0x1f5b2e(0xae0)&&renderMathInElement(_0x35e12d,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x3cafea){}}else showMessage(_0x1f5b2e(0x2f6));}async function listenForCustomMathTopics(){const _0x46f149=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x46f149,_0x20a831=>{const _0xe68f27=_0x1a06;customMathTopics=_0x20a831[_0xe68f27(0x95a)][_0xe68f27(0x791)](_0x223a16=>({'id':_0x223a16['id'],..._0x223a16['data']()})),renderTopicCheckboxes();},_0x5b3874=>{const _0x50f65b=_0x1a06;console[_0x50f65b(0x746)](_0x50f65b(0x2f2),_0x5b3874);});}function handleSelectAllTopics(){const _0x36f709=_0xbb2a9e,_0x4c6955=document['getElementById']('math-topics-checkbox-container'),_0x4c97e9=_0x4c6955[_0x36f709(0x345)]('input[type=\x22checkbox\x22]');_0x4c97e9[_0x36f709(0x803)](_0x87cb5f=>{_0x87cb5f['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2b7129=_0xbb2a9e,_0x1bfee3=document[_0x2b7129(0x9c1)](_0x2b7129(0x8a3)),_0x3441dc=_0x1bfee3[_0x2b7129(0x345)](_0x2b7129(0xa1e));_0x3441dc['forEach'](_0x58bf8c=>{const _0x3520a6=_0x2b7129;_0x58bf8c[_0x3520a6(0x6a4)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x286654){const _0x4df0e4=_0xbb2a9e;if(!_0x286654)return;try{const _0x3cc5e7=doc(db,_0x4df0e4(0x44d)+appId+_0x4df0e4(0xa95),_0x286654);await deleteDoc(_0x3cc5e7),showMessage(_0x4df0e4(0x8cb));}catch(_0x45b255){console['error']('Error\x20deleting\x20custom\x20topic:',_0x45b255),showMessage(_0x4df0e4(0x5a0));}}async function handleAddCustomMathTopic(){const _0x53e887=_0xbb2a9e,_0x9ce5bb=document[_0x53e887(0x9c1)](_0x53e887(0x469)),_0x271380=_0x9ce5bb['value'][_0x53e887(0x9aa)]();if(!_0x271380){showMessage(_0x53e887(0x93a));return;}if(!userId){showMessage(_0x53e887(0x584));return;}try{const _0xf2697c=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');await addDoc(_0xf2697c,{'name':_0x271380,'createdAt':serverTimestamp()}),_0x9ce5bb['value']='',showMessage(_0x53e887(0x935)+_0x271380+_0x53e887(0x98c));}catch(_0xc681b9){console[_0x53e887(0x746)](_0x53e887(0x608),_0xc681b9),showMessage(_0x53e887(0x8cf));}}async function handleUpdateOldQuizzes(){const _0x5af332=_0xbb2a9e;showConfirmation(_0x5af332(0x1ba),async()=>{const _0xf9fd2d=_0x5af332,_0x11dd63=document[_0xf9fd2d(0x9c1)](_0xf9fd2d(0x1f5)),_0xf53d6e=document[_0xf9fd2d(0x9c1)]('loader-text'),_0xdaf8b8=_0xf53d6e[_0xf9fd2d(0x410)];_0x11dd63[_0xf9fd2d(0x431)][_0xf9fd2d(0x905)](_0xf9fd2d(0x450)),_0xf53d6e[_0xf9fd2d(0x410)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x3b1b71=collection(db,_0xf9fd2d(0x44d)+appId+_0xf9fd2d(0x622)),_0x117db8=await getDocs(_0x3b1b71);if(_0x117db8[_0xf9fd2d(0x384)]){showMessage(_0xf9fd2d(0x39a));return;}const _0x28aa91=writeBatch(db);let _0x5757d7=0x0;_0x117db8[_0xf9fd2d(0x803)](_0x35546e=>{const _0x4cd384=_0xf9fd2d,_0x5c6011=_0x35546e[_0x4cd384(0x24b)](),_0x410ecd=_0x35546e['id'];if(_0x5c6011[_0x4cd384(0xa17)]&&_0x5c6011['questions'][_0x4cd384(0xa7c)]>0x0&&!_0x5c6011[_0x4cd384(0xa17)][0x0][_0x4cd384(0x8a1)]('id')){console[_0x4cd384(0x73c)](_0x4cd384(0xaa2)+_0x410ecd+'\x20('+_0x5c6011[_0x4cd384(0xb4a)]+')'),_0x5757d7++;const _0xc33b57=_0x5c6011[_0x4cd384(0xa17)]['map']((_0x494771,_0x3fb834)=>{const _0xc24de4=_0x4cd384;return{..._0x494771,'id':_0x494771['id']||'q_'+Date[_0xc24de4(0x756)]()+'_'+_0x410ecd+'_'+_0x3fb834};}),_0x404405=doc(db,_0x4cd384(0x44d)+appId+_0x4cd384(0x622),_0x410ecd);_0x28aa91['update'](_0x404405,{'questions':_0xc33b57});}}),_0x5757d7>0x0?(_0xf53d6e[_0xf9fd2d(0x410)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x5757d7+_0xf9fd2d(0x626),await _0x28aa91['commit'](),showMessage(_0xf9fd2d(0x393)+_0x5757d7+_0xf9fd2d(0x94a))):showMessage(_0xf9fd2d(0x4b8));}catch(_0x43bf82){console[_0xf9fd2d(0x746)]('Error\x20updating\x20old\x20quizzes:',_0x43bf82),showMessage(_0xf9fd2d(0x406)+_0x43bf82[_0xf9fd2d(0x3f4)]);}finally{_0x11dd63[_0xf9fd2d(0x431)]['add'](_0xf9fd2d(0x450)),_0xf53d6e['textContent']=_0xdaf8b8;}});}async function handleBulkUpdateQuizSettings(){const _0x24aca3=_0xbb2a9e,_0x2abde5={'shuffle':document[_0x24aca3(0x9c1)]('bulk-shuffle-select')[_0x24aca3(0x9b2)],'resultsDisplay':document[_0x24aca3(0x9c1)](_0x24aca3(0xa06))[_0x24aca3(0x9b2)],'loopUntilPass':document[_0x24aca3(0x9c1)]('bulk-loop-until-pass-checkbox')[_0x24aca3(0x6a4)],'isConfidenceScoringEnabled':document['getElementById']('bulk-confidence-scoring-checkbox')[_0x24aca3(0x6a4)],'confidenceMode':document['getElementById'](_0x24aca3(0x3ec))[_0x24aca3(0x9b2)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x1aa09b=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes')),_0x5040a1=_0x1aa09b[_0x24aca3(0x95a)][_0x24aca3(0x791)](_0x1908d8=>({'id':_0x1908d8['id'],'data':_0x1908d8['data']()})),_0xa1fc8c=_0x5040a1['length'];showConfirmation(_0x24aca3(0xb12)+_0xa1fc8c+_0x24aca3(0x84d),async()=>{const _0x4c1af0=_0x24aca3,_0x104508=document[_0x4c1af0(0x9c1)]('confirm-bulk-quiz-settings-btn');_0x104508[_0x4c1af0(0x9d7)]=!![],_0x104508[_0x4c1af0(0x1c3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x37d32f=writeBatch(db);_0x5040a1[_0x4c1af0(0x803)](_0x548024=>{const _0x86a880=_0x4c1af0,_0x3aff2c=doc(db,_0x86a880(0x44d)+appId+_0x86a880(0x622),_0x548024['id']),_0x2d9279={..._0x548024[_0x86a880(0x24b)]['settings']||{},..._0x2abde5};_0x37d32f[_0x86a880(0x553)](_0x3aff2c,{'settings':_0x2d9279});}),await _0x37d32f[_0x4c1af0(0x4c6)](),document[_0x4c1af0(0x9c1)](_0x4c1af0(0x6e5))[_0x4c1af0(0x431)][_0x4c1af0(0x8af)](_0x4c1af0(0x450)),showMessage(_0x4c1af0(0x36f)+_0xa1fc8c+_0x4c1af0(0x5a3));}catch(_0x53f1d5){console[_0x4c1af0(0x746)](_0x4c1af0(0x71a),_0x53f1d5),showMessage(_0x4c1af0(0x24e));}finally{_0x104508[_0x4c1af0(0x9d7)]=![],_0x104508[_0x4c1af0(0x1c3)]=_0x4c1af0(0x702);}});}catch(_0x356ec3){console[_0x24aca3(0x746)](_0x24aca3(0xaa8),_0x356ec3),showMessage(_0x24aca3(0xa00));}}async function handleSaveProjectName(){const _0x40fcd2=_0xbb2a9e,_0x651763=document['getElementById'](_0x40fcd2(0x8c8)),_0x2e8171=document[_0x40fcd2(0x9c1)](_0x40fcd2(0x487)),_0x10cf19=_0x651763['textContent'][_0x40fcd2(0x9aa)]();if(!_0x10cf19||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x651763[_0x40fcd2(0x410)]=currentProjectData[_0x40fcd2(0x8f6)];return;}_0x2e8171[_0x40fcd2(0x9d7)]=!![],_0x2e8171['innerHTML']=_0x40fcd2(0x673);try{const _0x4d2fdc=doc(db,_0x40fcd2(0x44d)+appId+_0x40fcd2(0xb3c),currentProjectId);await updateDoc(_0x4d2fdc,{'projectName':_0x10cf19}),currentProjectData&&(currentProjectData[_0x40fcd2(0x8f6)]=_0x10cf19),showMessage(_0x40fcd2(0x2d7));}catch(_0x366b80){console[_0x40fcd2(0x746)](_0x40fcd2(0xb1e),_0x366b80),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x651763['textContent']=currentProjectData[_0x40fcd2(0x8f6)];}finally{_0x2e8171[_0x40fcd2(0x431)]['add'](_0x40fcd2(0x450)),_0x2e8171[_0x40fcd2(0x9d7)]=![],_0x2e8171[_0x40fcd2(0x1c3)]=_0x40fcd2(0x73d);}}async function initialize(){const _0x1c3aa3=_0xbb2a9e;try{const _0x17555a=initializeApp(firebaseConfig);db=getFirestore(_0x17555a),auth=getAuth(_0x17555a),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x508563){console[_0x1c3aa3(0x746)](_0x1c3aa3(0x755),_0x508563),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x2a66f1=_0xbb2a9e,_0x21bb22=document[_0x2a66f1(0x9c1)](_0x2a66f1(0x894));if(!_0x21bb22)return;const _0x496ae4=document[_0x2a66f1(0x9c1)]('verify-answers-editor-btn');_0x496ae4['disabled']=!![],_0x496ae4['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x563ce1=_0x21bb22[_0x2a66f1(0x345)]('.question-editor-item'),_0xc555eb=Array['from'](_0x563ce1)[_0x2a66f1(0x791)]((_0x214fd0,_0xfd3724)=>{const _0x4c6d08=_0x2a66f1,_0x14bc84=_0x214fd0['dataset'][_0x4c6d08(0x3b3)],_0x2efd93=_0x214fd0[_0x4c6d08(0x729)](_0x4c6d08(0xa34))['value'];let _0x28e1bc=null,_0x3ca2cb='';switch(_0x14bc84){case _0x4c6d08(0xad6):const _0x538606=_0x214fd0[_0x4c6d08(0x345)](_0x4c6d08(0x308));_0x28e1bc=Array['from'](_0x538606)['map'](_0x2ccdf1=>_0x2ccdf1[_0x4c6d08(0x9b2)]);const _0x43d107=_0x214fd0['querySelector'](_0x4c6d08(0x470));_0x43d107&&(_0x3ca2cb=_0x28e1bc[parseInt(_0x43d107[_0x4c6d08(0x9b2)])]);break;case _0x4c6d08(0x68a):_0x3ca2cb=_0x214fd0[_0x4c6d08(0x729)](_0x4c6d08(0x2c6))[_0x4c6d08(0x9b2)];break;case _0x4c6d08(0xb53):const _0x332d86=_0x214fd0['querySelector'](_0x4c6d08(0x470));_0x3ca2cb=_0x332d86?_0x332d86['value']:'';break;case _0x4c6d08(0xa4a):_0x3ca2cb=_0x214fd0[_0x4c6d08(0x729)]('.correct-response-input')[_0x4c6d08(0x9b2)];break;}return{'question':_0x2efd93,'options':_0x28e1bc,'proposedAnswer':_0x3ca2cb};}),_0x3c024a=_0x2a66f1(0x835)+JSON[_0x2a66f1(0x994)](_0xc555eb)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x32573a={'type':_0x2a66f1(0xa9c),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x2a66f1(0x300)},'justification':{'type':_0x2a66f1(0x4e5)},'suggestedAnswer':{'type':_0x2a66f1(0x4e5)}},'required':['questionIndex',_0x2a66f1(0x6f8),_0x2a66f1(0x982)]}},_0x2619f5=await callAnalysisApi(_0x3c024a,{'type':'OBJECT','properties':{'result':_0x32573a},'required':[_0x2a66f1(0x9ee)]});displayVerificationResultsInEditor(_0x2619f5[_0x2a66f1(0x9ee)]);}catch(_0x3c5f60){console['error'](_0x2a66f1(0x7d3),_0x3c5f60),showMessage(_0x2a66f1(0x722));}finally{_0x496ae4['disabled']=![],_0x496ae4[_0x2a66f1(0x1c3)]=_0x2a66f1(0x5f8);}}function displayVerificationResultsInEditor(_0xe97bd1){const _0x557f6a=_0xbb2a9e;_0xe97bd1[_0x557f6a(0x803)](_0x5b67f1=>{const _0x21f63a=_0x557f6a,_0x2c1be6=document['querySelector'](_0x21f63a(0x4b7)+_0x5b67f1[_0x21f63a(0x5e6)]+'\x22]');if(!_0x2c1be6)return;const _0x3a2e79=_0x2c1be6[_0x21f63a(0x729)](_0x21f63a(0x50a));if(_0x3a2e79)_0x3a2e79[_0x21f63a(0x905)]();let _0x33d935='';if(_0x5b67f1[_0x21f63a(0x6f8)])_0x33d935=_0x21f63a(0x458);else{const _0x37cabd=_0x5b67f1[_0x21f63a(0x9a7)]?_0x21f63a(0x1eb):'';_0x33d935=_0x21f63a(0x607)+_0x37cabd+_0x21f63a(0x9b9)+_0x5b67f1['justification']+_0x21f63a(0x976)+(_0x5b67f1[_0x21f63a(0x9a7)]?_0x21f63a(0x906)+_0x5b67f1[_0x21f63a(0x9a7)]+_0x21f63a(0x40c):'')+_0x21f63a(0x620);}_0x2c1be6[_0x21f63a(0x1d3)]('beforeend',_0x33d935);if(!_0x5b67f1[_0x21f63a(0x6f8)]&&_0x5b67f1[_0x21f63a(0x9a7)]){const _0x56f7bf=_0x2c1be6[_0x21f63a(0x1f9)]['qType'],_0x456a4f=_0x31c18e=>{const _0x5c7f1b=_0x21f63a;if(!_0x31c18e)return;_0x31c18e[_0x5c7f1b(0x431)][_0x5c7f1b(0x8af)](_0x5c7f1b(0x70a),_0x5c7f1b(0x1ea),_0x5c7f1b(0x214)),setTimeout(()=>{const _0x286a25=_0x5c7f1b;_0x31c18e[_0x286a25(0x431)][_0x286a25(0x905)]('bg-green-200');},0x9c4);};if(_0x56f7bf===_0x21f63a(0xad6)){const _0x32b515=Array[_0x21f63a(0x693)](_0x2c1be6[_0x21f63a(0x345)](_0x21f63a(0x308))),_0x20df36=_0x32b515[_0x21f63a(0x4d1)](_0x39b0d4=>_0x39b0d4['value']['trim']()[_0x21f63a(0x57e)]()===_0x5b67f1[_0x21f63a(0x9a7)][_0x21f63a(0x9aa)]()[_0x21f63a(0x57e)]());if(_0x20df36!==-0x1){const _0x178795=_0x2c1be6[_0x21f63a(0x729)](_0x21f63a(0x1ce)+_0x20df36+'\x22]');_0x178795&&(_0x178795['checked']=!![],_0x456a4f(_0x178795['closest'](_0x21f63a(0x6e9))));}}else{if(_0x56f7bf==='short_answer'||_0x56f7bf===_0x21f63a(0xa4a)){const _0x2b117f=_0x2c1be6[_0x21f63a(0x729)](_0x21f63a(0x927));_0x2b117f&&(_0x2b117f['value']=_0x5b67f1[_0x21f63a(0x9a7)],_0x456a4f(_0x2b117f));}else{if(_0x56f7bf===_0x21f63a(0xb53)){const _0x18c505=_0x5b67f1[_0x21f63a(0x9a7)]['trim']()[_0x21f63a(0x57e)](),_0x4362d2=_0x2c1be6[_0x21f63a(0x729)](_0x21f63a(0x1ce)+_0x18c505+'\x22]');_0x4362d2&&(_0x4362d2['checked']=!![],_0x456a4f(_0x4362d2[_0x21f63a(0x775)](_0x21f63a(0x6e9))));}}}}}),showMessage(_0x557f6a(0x4df));}async function handleVerifyAnswers(){const _0xd4897f=_0xbb2a9e;if(!currentQuizData||!currentQuizData[_0xd4897f(0xa17)]){showMessage(_0xd4897f(0xb3e));return;}const _0x305c63=document[_0xd4897f(0x9c1)]('verify-answers-btn');_0x305c63[_0xd4897f(0x9d7)]=!![],_0x305c63[_0xd4897f(0x1c3)]=_0xd4897f(0x7a1);try{const _0x1c3fdd=currentQuizData[_0xd4897f(0xa17)][_0xd4897f(0x791)]((_0x55d1ed,_0x19ec44)=>{const _0xbab518=_0xd4897f;let _0x127598='';const _0x619ff1=_0x55d1ed['questionType']||currentQuizData[_0xbab518(0x950)];switch(_0x619ff1){case _0xbab518(0xad6):_0x127598=_0x55d1ed[_0xbab518(0x643)][_0x55d1ed[_0xbab518(0xad0)]];break;case _0xbab518(0x68a):_0x127598=_0x55d1ed[_0xbab518(0x26d)];break;case _0xbab518(0xb53):_0x127598=_0x55d1ed['correctAnswer'][_0xbab518(0x86b)]();break;case'matching_item':_0x127598=_0x55d1ed[_0xbab518(0x4cc)];break;}return{'question':_0x55d1ed[_0xbab518(0x8ce)]||_0x55d1ed[_0xbab518(0x23b)],'options':_0x55d1ed[_0xbab518(0x643)]||null,'proposedAnswer':_0x127598};}),_0x24a2c5=_0xd4897f(0xae5)+JSON[_0xd4897f(0x994)](_0x1c3fdd)+_0xd4897f(0x5a9),_0xe1a59b={'type':_0xd4897f(0xa9c),'items':{'type':_0xd4897f(0x7b2),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0xd4897f(0x300)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0xd4897f(0x4e5)}},'required':[_0xd4897f(0x5e6),'isCorrect',_0xd4897f(0x982)]}},_0x866f39=await callAnalysisApi(_0x24a2c5,{'type':'OBJECT','properties':{'result':_0xe1a59b},'required':[_0xd4897f(0x9ee)]});displayVerificationResults(_0x866f39['result']);}catch(_0x8f57f9){console[_0xd4897f(0x746)]('Error\x20verifying\x20answers:',_0x8f57f9),showMessage(_0xd4897f(0x722));}finally{_0x305c63['disabled']=![],_0x305c63[_0xd4897f(0x1c3)]=_0xd4897f(0x49a);}}function displayVerificationResults(_0x1fc864){const _0xae58ec=_0xbb2a9e;_0x1fc864['forEach'](_0x16e5de=>{const _0x3e0b2b=_0x1a06,_0x5301eb=document[_0x3e0b2b(0x729)]('div[data-question-index=\x22'+_0x16e5de[_0x3e0b2b(0x5e6)]+'\x22]');if(_0x5301eb){const _0x22f3d6=_0x5301eb[_0x3e0b2b(0x729)](_0x3e0b2b(0x911));if(_0x22f3d6)_0x22f3d6[_0x3e0b2b(0x905)]();let _0x37b333='';_0x16e5de[_0x3e0b2b(0x6f8)]?_0x37b333=_0x3e0b2b(0x30f):_0x37b333='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x16e5de['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16e5de[_0x3e0b2b(0x9a7)]?_0x3e0b2b(0x906)+_0x16e5de[_0x3e0b2b(0x9a7)]+_0x3e0b2b(0x40c):'')+_0x3e0b2b(0xac1),_0x5301eb['insertAdjacentHTML']('beforeend',_0x37b333);}}),showMessage(_0xae58ec(0x4df));}function compareNumericalAnswers(_0x2fe358,_0x14215b){const _0x69726d=_0xbb2a9e,_0x31b953=String(_0x2fe358)[_0x69726d(0x99c)](',','.')[_0x69726d(0x99c)](/[^\d.-]/g,'')[_0x69726d(0x9aa)](),_0x1b67be=String(_0x14215b)[_0x69726d(0x99c)](',','.')[_0x69726d(0x99c)](/[^\d.-]/g,'')[_0x69726d(0x9aa)]();if(_0x31b953===''||_0x1b67be==='')return![];const _0x5a806c=parseFloat(_0x31b953),_0x514e61=parseFloat(_0x1b67be);if(isNaN(_0x5a806c)||isNaN(_0x514e61))return![];return Math[_0x69726d(0x5f4)](_0x5a806c-_0x514e61)<0.001;}function isPotentiallyNumeric(_0x3f8c24){const _0x5dd6e9=_0xbb2a9e;if(typeof _0x3f8c24!=='string'&&typeof _0x3f8c24!==_0x5dd6e9(0x21e))return![];const _0x4afedb=String(_0x3f8c24)[_0x5dd6e9(0x99c)](',','.')['trim']();return _0x4afedb!==''&&!isNaN(parseFloat(_0x4afedb))&&isFinite(_0x4afedb);}async function gradeShortAnswer(_0x2facb5,_0x1b809b){const _0x53e890=_0xbb2a9e,_0x46c570=_0x1b809b[_0x53e890(0x26d)],_0x2046be=String(_0x2facb5)[_0x53e890(0x99c)](/\$/g,'')[_0x53e890(0x9aa)](),_0x37c774=String(_0x46c570)[_0x53e890(0x99c)](/\$/g,'')[_0x53e890(0x9aa)]();if(_0x2046be[_0x53e890(0x57e)]()===_0x37c774['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x2046be)&&isPotentiallyNumeric(_0x37c774)){if(compareNumericalAnswers(_0x2046be,_0x37c774))return!![];}return console[_0x53e890(0x73c)](_0x53e890(0x6d5)),await gradeShortAnswerWithAI(_0x2facb5,_0x46c570);}async function revealAnswerForAdmin(_0x3585cf,_0x2e3b19){const _0xefc12=_0xbb2a9e,_0x5b5212=doc(db,_0xefc12(0x44d)+appId+_0xefc12(0x8c4),currentLiveGameId);await updateDoc(_0x5b5212,{'questionStatus':_0xefc12(0x609)});}function showTop5LeaderboardView(_0x9afb81){const _0x4cf53f=_0xbb2a9e,_0x4ec933=Object[_0x4cf53f(0x8b5)](_0x9afb81['players']||{})[_0x4cf53f(0x51b)](_0x59c7bf=>_0x59c7bf[_0x4cf53f(0x3f1)]===_0x4cf53f(0x645));_0x4ec933[_0x4cf53f(0x415)]((_0x238fea,_0x8b8a4c)=>_0x8b8a4c[_0x4cf53f(0x6bd)]-_0x238fea['score']);const _0x4539d3=_0x4ec933[_0x4cf53f(0x55c)](0x0,0x5),_0xa3230c=_0x4cf53f(0x49f)+_0x4539d3[_0x4cf53f(0x791)]((_0x289c39,_0x17e133)=>_0x4cf53f(0x816)+(_0x17e133+0x1)+'.\x20'+(_0x289c39[_0x4cf53f(0x98a)]||Object[_0x4cf53f(0x790)](_0x9afb81[_0x4cf53f(0x526)])[_0x4cf53f(0x748)](_0x1dfa6f=>_0x9afb81[_0x4cf53f(0x526)][_0x1dfa6f]===_0x289c39))+_0x4cf53f(0x91a)+_0x289c39['score']+_0x4cf53f(0x7be))[_0x4cf53f(0x3cf)]('')+_0x4cf53f(0x769)+(_0x9afb81[_0x4cf53f(0x4bc)]+0x1===currentQuizData[_0x4cf53f(0xa17)][_0x4cf53f(0xa7c)]?'สรุปผลสุดท้าย':_0x4cf53f(0x960))+_0x4cf53f(0xa1f);liveGameView[_0x4cf53f(0x1c3)]=_0xa3230c,document[_0x4cf53f(0x9c1)](_0x4cf53f(0x780))['addEventListener']('click',async()=>{const _0x2c67f1=_0x4cf53f,_0x1bdd9f=doc(db,_0x2c67f1(0x44d)+appId+_0x2c67f1(0x8c4),currentLiveGameId),_0xb5854d=_0x9afb81[_0x2c67f1(0x4bc)]+0x1;if(_0xb5854d<currentQuizData['questions']['length']){const _0x42e4ec={'currentQuestionIndex':_0xb5854d,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x2c67f1(0x525)};Object[_0x2c67f1(0x790)](_0x9afb81[_0x2c67f1(0x526)])[_0x2c67f1(0x803)](_0x1648ff=>{const _0x3724ad=_0x2c67f1;_0x42e4ec[_0x3724ad(0x886)+_0x1648ff+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x1bdd9f,_0x42e4ec);}else await updateDoc(_0x1bdd9f,{'status':_0x2c67f1(0x95f)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5b353d=>{const _0x28ac8d=_0x1a06;if(_0x5b353d){userId=_0x5b353d[_0x28ac8d(0x505)],userIdDisplay[_0x28ac8d(0x410)]=userId;const _0x5ccf9a=await loadUserPreferences();_0x5ccf9a[_0x28ac8d(0xa24)]&&(document['getElementById'](_0x28ac8d(0x5f2))[_0x28ac8d(0x9b2)]=_0x5ccf9a[_0x28ac8d(0xa24)]);globalDashboardSettings[_0x28ac8d(0x661)]=_0x5ccf9a[_0x28ac8d(0x661)]||_0x28ac8d(0x637);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x2e138a,_0x390ddf){const _0x4b3492=_0xbb2a9e;if(!userId)return;try{const _0x5074ed=doc(db,_0x4b3492(0x44d)+appId+_0x4b3492(0xb4e)+userId+_0x4b3492(0x81e)),_0x2e327d={};_0x2e327d[_0x2e138a]=_0x390ddf,await setDoc(_0x5074ed,_0x2e327d,{'merge':!![]});}catch(_0x46728b){console[_0x4b3492(0x746)]('Error\x20saving\x20user\x20preference:',_0x46728b);}}async function loadUserPreferences(){const _0x4b3665=_0xbb2a9e;if(!userId)return{};try{const _0x49675f=doc(db,_0x4b3665(0x44d)+appId+_0x4b3665(0xb4e)+userId+'/preferences/main'),_0x1e4661=await getDoc(_0x49675f);if(_0x1e4661[_0x4b3665(0x9ce)]())return _0x1e4661[_0x4b3665(0x24b)]();return{};}catch(_0x1e04b5){return console[_0x4b3665(0x746)](_0x4b3665(0xae4),_0x1e04b5),{};}}function showPodiumView(_0x238c54,_0x48d4aa=_0xbb2a9e(0x27a)){const _0x3cf3a3=_0xbb2a9e,_0x511ea0=Object[_0x3cf3a3(0xaae)](_0x238c54)['map'](([_0x53e7f7,_0x32c3e3])=>({'name':_0x53e7f7,'score':_0x32c3e3[_0x3cf3a3(0x6bd)]||0x0,'badges':_0x32c3e3[_0x3cf3a3(0x9dd)]||[],'hasPerfectScoreBonus':_0x32c3e3[_0x3cf3a3(0x70e)]||![]}));_0x511ea0['sort']((_0x541755,_0x444d84)=>{const _0x40e2b2=_0x3cf3a3,_0x5c62d6=_0x444d84['score']-_0x541755[_0x40e2b2(0x6bd)];if(_0x5c62d6!==0x0)return _0x5c62d6;return(_0x444d84[_0x40e2b2(0x9dd)][_0x40e2b2(0xa7c)]||0x0)-(_0x541755[_0x40e2b2(0x9dd)]['length']||0x0);});const _0x10b2e0=_0xda51b1=>{const _0x5862ba=_0x3cf3a3;if(!_0xda51b1||_0xda51b1[_0x5862ba(0xa7c)]===0x0)return'';const _0x2d235b={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0xda51b1[_0x5862ba(0x791)](_0x2c6274=>_0x2d235b[_0x2c6274]||'')[_0x5862ba(0x3cf)]('')+'</div>';},_0x573a66=_0x511ea0[_0x3cf3a3(0x55c)](0x3),_0x521161=_0x573a66['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x573a66[_0x3cf3a3(0x791)]((_0x480f89,_0x45410c)=>{const _0xba41e8=_0x3cf3a3,_0x254d2b=_0x480f89['hasPerfectScoreBonus']?_0xba41e8(0x2b0):'';return _0xba41e8(0x2d4)+(_0x45410c+0x4)+_0xba41e8(0x959)+_0x480f89[_0xba41e8(0x98a)]+_0xba41e8(0x5ae)+_0x480f89[_0xba41e8(0x6bd)]+_0xba41e8(0x460)+_0x254d2b+_0xba41e8(0x82c);})[_0x3cf3a3(0x3cf)]('')+_0x3cf3a3(0x844):'',_0x3ec5bc=_0x3cf3a3(0x216)+(_0x511ea0[0x1]?_0x3cf3a3(0x226)+_0x511ea0[0x1][_0x3cf3a3(0x98a)]+'</p>'+_0x10b2e0(_0x511ea0[0x1][_0x3cf3a3(0x9dd)])+_0x3cf3a3(0x7af)+_0x511ea0[0x1][_0x3cf3a3(0x6bd)]+'\x20คะแนน\x20'+(_0x511ea0[0x1][_0x3cf3a3(0x70e)]?_0x3cf3a3(0x27e):'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x3cf3a3(0x49c))+_0x3cf3a3(0x47d)+(_0x511ea0[0x0]?_0x3cf3a3(0x7e5)+_0x511ea0[0x0][_0x3cf3a3(0x98a)]+_0x3cf3a3(0x40c)+_0x10b2e0(_0x511ea0[0x0][_0x3cf3a3(0x9dd)])+'<p\x20class=\x22text-2xl\x22>'+_0x511ea0[0x0][_0x3cf3a3(0x6bd)]+_0x3cf3a3(0x460)+(_0x511ea0[0x0][_0x3cf3a3(0x70e)]?_0x3cf3a3(0x27e):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x3cf3a3(0x49c))+_0x3cf3a3(0x47d)+(_0x511ea0[0x2]?_0x3cf3a3(0x51e)+_0x511ea0[0x2]['name']+'</p>'+_0x10b2e0(_0x511ea0[0x2]['badges'])+'<p\x20class=\x22text-xl\x22>'+_0x511ea0[0x2][_0x3cf3a3(0x6bd)]+'\x20คะแนน\x20'+(_0x511ea0[0x2][_0x3cf3a3(0x70e)]?_0x3cf3a3(0x27e):'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x3cf3a3(0x49c))+_0x3cf3a3(0x1d9)+_0x521161+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?_0x3cf3a3(0x360):_0x3cf3a3(0x279))+_0x3cf3a3(0x4f4);liveGameView[_0x3cf3a3(0x1c3)]=_0x3ec5bc,currentMode===_0x3cf3a3(0x817)&&document[_0x3cf3a3(0x9c1)]('close-game-final-btn')['addEventListener'](_0x3cf3a3(0x3fb),async()=>{const _0x48dcfb=_0x3cf3a3;let _0xbbd7a2;_0x48d4aa===_0x48dcfb(0x52d)?_0xbbd7a2=doc(db,_0x48dcfb(0x44d)+appId+'/public/data/syncGames',currentLiveGameId):_0xbbd7a2=doc(db,'artifacts/'+appId+_0x48dcfb(0x8c4),currentLiveGameId),await deleteDoc(_0xbbd7a2);});}function renderSyncSummaryView(_0x45e411,_0x120da9,_0xd6340b){const _0x328974=_0xbb2a9e,_0x1f5e20=Object[_0x328974(0x8b5)](_0x45e411[_0x328974(0x526)]||{}),_0x2d755a=_0x120da9[_0x328974(0x368)]||_0x45e411[_0x328974(0x53b)][_0x328974(0x950)];let _0x28e477=[];_0x2d755a===_0x328974(0xb53)?_0x28e477=[_0x328974(0x5d5),_0x328974(0x990)]:_0x28e477=_0x120da9['options']||[];const _0x529b5e=new Array(_0x28e477['length'])[_0x328974(0x1da)](0x0),_0x6eaed={};_0x28e477[_0x328974(0x803)]((_0x2330f5,_0x62d4cf)=>{_0x6eaed[_0x62d4cf]=[];}),Object[_0x328974(0xaae)](_0x45e411[_0x328974(0x526)]||{})['forEach'](([_0x10246e,_0x3ebf58])=>{const _0x63ded7=_0x328974;if(_0x3ebf58[_0x63ded7(0x3f1)]!==_0x63ded7(0x541)&&_0x3ebf58[_0x63ded7(0x20b)]!==undefined&&_0x3ebf58['lastAnswerIndex']!==null){const _0x44de43=_0x3ebf58['lastAnswerIndex'];_0x6eaed[_0x44de43]!==undefined&&(_0x6eaed[_0x44de43][_0x63ded7(0x40b)](_0x10246e),_0x529b5e[_0x44de43]++);}});let _0x155bb7='';_0xd6340b?_0x155bb7=_0x328974(0x56d):_0x155bb7='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x4daa84='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x120da9[_0x328974(0x23b)]+_0x328974(0xb47)+_0x529b5e['map']((_0x5f2c10,_0x2fa37f)=>{const _0x254296=_0x328974,_0x381cb6=_0x6eaed[_0x2fa37f][_0x254296(0xa7c)]>0x0?_0x6eaed[_0x2fa37f][_0x254296(0x3cf)](',\x20'):_0x254296(0x8ec),_0x3bdb0e=_0x254296(0x6fa);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x5f2c10+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x3bdb0e+_0x254296(0x578)+_0x2fa37f+_0x254296(0x6be)+_0x28e477[_0x2fa37f]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x2fa37f+_0x254296(0xa44)+_0x381cb6+_0x254296(0x3c0);})[_0x328974(0x3cf)]('')+_0x328974(0x40d)+_0x155bb7+_0x328974(0x4f5);liveGameView[_0x328974(0x1c3)]=_0x4daa84;if(window[_0x328974(0x7b6)])MathJax['typesetPromise']();_0xd6340b&&(document[_0x328974(0x9c1)](_0x328974(0x8a2))[_0x328974(0x4da)](_0x328974(0x3fb),async()=>{const _0x11bf5f=_0x328974,_0x1afa16=doc(db,_0x11bf5f(0x44d)+appId+_0x11bf5f(0x268),currentLiveGameId);await updateDoc(_0x1afa16,{'status':'results'});}),document[_0x328974(0x9c1)](_0x328974(0x47f))[_0x328974(0xb46)]=()=>{openScratchpad(_0x120da9,_0x28e477);});}async function handleShowStudentRankings(){const _0x4ad397=_0xbb2a9e,_0x330797=document[_0x4ad397(0x729)](_0x4ad397(0x2c7));_0x330797&&(_0x330797['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x3c4af6=document[_0x4ad397(0x729)](_0x4ad397(0xa46));_0x3c4af6&&(_0x3c4af6['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x3222f3=document['getElementById']('student-rankings-modal');_0x3222f3[_0x4ad397(0x431)][_0x4ad397(0x905)](_0x4ad397(0x450)),document[_0x4ad397(0x9c1)](_0x4ad397(0x488))['onclick']=()=>_0x3222f3[_0x4ad397(0x431)][_0x4ad397(0x8af)](_0x4ad397(0x450));const _0xc78ec1=document[_0x4ad397(0x9c1)](_0x4ad397(0xa98)),_0xfb4c05=document[_0x4ad397(0x9c1)]('student-project-leaderboard-tab'),_0xa13fa2=document[_0x4ad397(0x9c1)](_0x4ad397(0x87a)),_0x4d3531=document[_0x4ad397(0x9c1)](_0x4ad397(0xadc));_0xc78ec1['onclick']=()=>{const _0x194e46=_0x4ad397;_0xc78ec1['classList'][_0x194e46(0x8af)](_0x194e46(0x645)),_0xfb4c05['classList'][_0x194e46(0x905)](_0x194e46(0x645)),_0xa13fa2[_0x194e46(0x431)][_0x194e46(0x905)]('hidden'),_0x4d3531['classList'][_0x194e46(0x8af)](_0x194e46(0x450));},_0xfb4c05['onclick']=()=>{const _0x3bb2fd=_0x4ad397;_0xfb4c05['classList']['add']('active'),_0xc78ec1['classList'][_0x3bb2fd(0x905)]('active'),_0x4d3531['classList'][_0x3bb2fd(0x905)](_0x3bb2fd(0x450)),_0xa13fa2['classList']['add']('hidden');};try{const _0x5ed540=collection(db,_0x4ad397(0x44d)+appId+_0x4ad397(0x3b6)+currentQuizData['id']+_0x4ad397(0x6d8)),_0x45235a=await getDocs(_0x5ed540),_0x2df98b=_0x45235a['docs']['map'](_0x301947=>_0x301947[_0x4ad397(0x24b)]());renderQuizLeaderboard(_0x2df98b,currentQuizData,_0x4ad397(0x49d));const _0x2fc891=collection(db,'artifacts/'+appId+_0x4ad397(0xa74)+currentQuizData[_0x4ad397(0x430)]+_0x4ad397(0xb0a)),_0x22c0a6=await getDocs(_0x2fc891),_0x4a9fa2=_0x22c0a6[_0x4ad397(0x95a)][_0x4ad397(0x791)](_0xd8ee39=>_0xd8ee39[_0x4ad397(0x24b)]());renderLeaderboard(_0x4a9fa2,_0x4ad397(0x9fe));}catch(_0x27bef5){console['error']('Error\x20fetching\x20student\x20rankings:',_0x27bef5),showMessage(_0x4ad397(0x50f));}}async function handleSaveToBank(_0x17bd59){const _0x326b34=_0xbb2a9e,_0x1e4d7d=_0x17bd59[_0x326b34(0x7c3)],_0x2997cb=_0x1e4d7d[_0x326b34(0x1f9)][_0x326b34(0x6f7)],_0x5eaa65=currentQuizData['questions'][_0x2997cb];if(!userId){showMessage(_0x326b34(0x212));return;}try{const _0x382ff5={..._0x5eaa65,'originalTopic':currentQuizData[_0x326b34(0xb4a)],'savedAt':serverTimestamp()},_0x5e884d=collection(db,_0x326b34(0x44d)+appId+'/users/'+userId+_0x326b34(0x802));await addDoc(_0x5e884d,_0x382ff5),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x1e4d7d[_0x326b34(0x431)]['remove']('text-purple-600'),_0x1e4d7d['classList'][_0x326b34(0x8af)](_0x326b34(0x4cd)),_0x1e4d7d[_0x326b34(0x9d7)]=!![];}catch(_0x57b013){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0x57b013),showMessage(_0x326b34(0x44c));}}function listenForStarredQuizzes(){const _0x3675f0=_0xbb2a9e;if(!userId)return;const _0x25677d=collection(db,_0x3675f0(0x44d)+appId+_0x3675f0(0x622)),_0x337903=query(_0x25677d,where(_0x3675f0(0xa91),'==',!![]));onSnapshot(_0x337903,_0x1aeb11=>{const _0x1e958=_0x3675f0;starredQuizzes=_0x1aeb11['docs'][_0x1e958(0x791)](_0x269b49=>({'id':_0x269b49['id'],..._0x269b49[_0x1e958(0x24b)]()})),currentProjectId===_0x1e958(0x95e)?renderQuizzes():renderProjects();},_0x380ba1=>{const _0x4caf71=_0x3675f0;console[_0x4caf71(0x746)](_0x4caf71(0xa16),_0x380ba1);});}function exportQuizAsWorksheetPDF(){const _0x599523=_0xbb2a9e;if(!currentQuizData||!currentQuizData[_0x599523(0xa17)]){showMessage(_0x599523(0xa5f));return;}const _0x430a9a=currentQuizData,_0x2b576a=window[_0x599523(0x354)]('',_0x599523(0x72f)),_0x2f0460=_0x23932d=>String[_0x599523(0x2df)](0x41+_0x23932d),_0x489326=_0x599523(0x288)+_0x430a9a['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x430a9a[_0x599523(0xb4a)]+_0x599523(0x2c9)+_0x430a9a[_0x599523(0xa17)][_0x599523(0x791)]((_0x547108,_0x449906)=>{const _0x5c4378=_0x599523;let _0x250c21='';const _0x58d06d=_0x547108[_0x5c4378(0x368)]||_0x430a9a[_0x5c4378(0x950)];switch(_0x58d06d){case _0x5c4378(0xad6):case _0x5c4378(0x32e):_0x250c21='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x547108[_0x5c4378(0x643)]['map']((_0x3f523f,_0x4c7a26)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2f0460(_0x4c7a26)+'.\x20'+_0x3f523f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5c4378(0x3cf)](_0x5c4378(0xb52))+_0x5c4378(0xa1c);break;case _0x5c4378(0xb53):_0x250c21=_0x5c4378(0x4a4);break;default:_0x250c21=_0x5c4378(0xa0e);break;}return _0x5c4378(0x612)+(_0x449906+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x547108['stem']||_0x547108[_0x5c4378(0x23b)])+_0x5c4378(0x872)+(_0x547108['imageCode']?_0x5c4378(0x7bd)+_0x547108[_0x5c4378(0x84f)]+_0x5c4378(0xa1c):'')+_0x5c4378(0xb04)+_0x250c21+_0x5c4378(0x969);})['join']('')+_0x599523(0x9e3);_0x2b576a[_0x599523(0x6f3)][_0x599523(0x720)](_0x489326),_0x2b576a[_0x599523(0x6f3)][_0x599523(0x22d)](),_0x2b576a['onload']=function(){setTimeout(()=>{const _0xfdadef=_0x1a06;_0x2b576a[_0xfdadef(0x4c9)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x569874=_0xbb2a9e;if(!currentQuizData||!currentQuizData[_0x569874(0xa17)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x21938e=currentQuizData,_0x5cb8e3=window[_0x569874(0x354)]('',_0x569874(0x72f)),_0x223a0c=_0x2b3255=>String[_0x569874(0x2df)](0x41+_0x2b3255),_0x55efcf=_0x569874(0x261)+_0x21938e[_0x569874(0xb4a)]+_0x569874(0x580)+_0x21938e[_0x569874(0xa17)]['map']((_0x20dec1,_0x59e7e2)=>{const _0xcfa60f=_0x569874;let _0x2c4c5d='';const _0x106c65=_0x20dec1[_0xcfa60f(0x368)]||_0x21938e['quizType'];switch(_0x106c65){case _0xcfa60f(0xad6):case _0xcfa60f(0x32e):_0x2c4c5d='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x20dec1[_0xcfa60f(0x643)][_0xcfa60f(0x791)]((_0x5d605f,_0x4b5e53)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x223a0c(_0x4b5e53)+'.\x20'+_0x5d605f+_0xcfa60f(0x85f))[_0xcfa60f(0x3cf)](_0xcfa60f(0xb52))+_0xcfa60f(0x620);break;case _0xcfa60f(0xb53):_0x2c4c5d='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x2c4c5d='';break;}return _0xcfa60f(0xae3)+_0x21938e[_0xcfa60f(0xb4a)]+_0xcfa60f(0x243)+(_0x59e7e2+0x1)+_0xcfa60f(0x981)+(_0x20dec1[_0xcfa60f(0x8ce)]||_0x20dec1[_0xcfa60f(0x23b)])+_0xcfa60f(0x872)+(_0x20dec1['imageCode']?_0xcfa60f(0x48a)+_0x20dec1[_0xcfa60f(0x84f)]+_0xcfa60f(0xa1c):'')+_0xcfa60f(0xb04)+_0x2c4c5d+_0xcfa60f(0x64b);})[_0x569874(0x3cf)]('')+_0x569874(0x341);_0x5cb8e3['document']['write'](_0x55efcf),_0x5cb8e3[_0x569874(0x6f3)][_0x569874(0x22d)](),_0x5cb8e3[_0x569874(0x726)]=function(){setTimeout(()=>{const _0x3346bd=_0x1a06;_0x5cb8e3[_0x3346bd(0x4c9)]();},0x5dc);};}async function handleToggleStarQuiz(_0x504b08){const _0x55f1a6=_0xbb2a9e,_0x5ee054=doc(db,_0x55f1a6(0x44d)+appId+_0x55f1a6(0x622),_0x504b08);try{const _0x2bf652=await getDoc(_0x5ee054);if(_0x2bf652['exists']()){const _0x334778=_0x2bf652[_0x55f1a6(0x24b)]()['isStarred']||![];await updateDoc(_0x5ee054,{'isStarred':!_0x334778});}}catch(_0x2d80e0){console[_0x55f1a6(0x746)](_0x55f1a6(0x1d1),_0x2d80e0),showMessage(_0x55f1a6(0x477));}}async function displayQuestionBank(){const _0x5577db=_0xbb2a9e,_0x413a8f=document['getElementById']('bank-input-area');_0x413a8f[_0x5577db(0x1c3)]=_0x5577db(0x7eb);try{const _0x5063b2=collection(db,_0x5577db(0x44d)+appId+_0x5577db(0xb4e)+userId+_0x5577db(0x802)),_0x29e6fe=query(_0x5063b2),_0x3794e7=await getDocs(_0x29e6fe);if(_0x3794e7[_0x5577db(0x384)]){_0x413a8f['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x38a6b2=_0x3794e7['docs'][_0x5577db(0x791)](_0x570e16=>{const _0x52d352=_0x5577db,_0x422948=_0x570e16[_0x52d352(0x24b)](),_0x47c02b=_0x570e16['id'];return _0x52d352(0x89a)+JSON[_0x52d352(0x994)](_0x422948)+_0x52d352(0x5da)+(_0x422948[_0x52d352(0x23b)]||_0x422948[_0x52d352(0x8ce)])+_0x52d352(0x297)+_0x422948[_0x52d352(0x1fd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x413a8f[_0x5577db(0x1c3)]=_0x5577db(0x1d6)+_0x38a6b2+_0x5577db(0x3ab),document[_0x5577db(0x9c1)](_0x5577db(0x76d))[_0x5577db(0x4da)](_0x5577db(0x3fb),createQuizFromBank);}catch(_0x84f461){console[_0x5577db(0x746)](_0x5577db(0x804),_0x84f461),_0x413a8f[_0x5577db(0x1c3)]=_0x5577db(0xa0c);}}function showAdminLiveQuestionView(_0x2aefbe,_0x38aaae,_0x35d395){const _0x2a3cda=_0xbb2a9e,_0x2cb4a3=_0x2aefbe[_0x2a3cda(0x368)]||currentQuizData['quizType'];let _0x48ba66='';if(_0x2cb4a3===_0x2a3cda(0xad6)||_0x2cb4a3===_0x2a3cda(0xb53)){const _0xc9178f=_0x2cb4a3===_0x2a3cda(0xb53)?['ใช่',_0x2a3cda(0x205)]:_0x2aefbe[_0x2a3cda(0x643)],_0x2d645e=_0x2cb4a3==='true_false'?_0x2aefbe[_0x2a3cda(0x2ae)]?0x0:0x1:_0x2aefbe[_0x2a3cda(0xad0)];_0x48ba66=_0xc9178f[_0x2a3cda(0x791)]((_0x12cba9,_0x1acd9c)=>_0x2a3cda(0x9ae)+(_0x1acd9c===_0x2d645e)+_0x2a3cda(0x7ca)+_0x12cba9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x2cb4a3===_0x2a3cda(0xa4a)){const _0x41f16b=_0x2aefbe[_0x2a3cda(0x82a)]||[];_0x48ba66=_0x41f16b[_0x2a3cda(0x791)](_0x1b72b0=>_0x2a3cda(0x9ae)+(_0x1b72b0===_0x2aefbe[_0x2a3cda(0x4cc)])+_0x2a3cda(0x7ca)+_0x1b72b0+_0x2a3cda(0xa2f))[_0x2a3cda(0x3cf)]('');}}const _0x8b0010=_0x2aefbe['stem']||_0x2aefbe[_0x2a3cda(0x23b)],_0xdecae8=_0x2a3cda(0x7fb)+(_0x38aaae+0x1)+_0x2a3cda(0xafc)+_0x35d395+_0x2a3cda(0x5fd)+currentLiveGamePin+_0x2a3cda(0x7b5)+_0x8b0010+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48ba66+_0x2a3cda(0x388);liveGameView[_0x2a3cda(0x1c3)]=_0xdecae8,window['MathJax']&&MathJax[_0x2a3cda(0x987)]&&MathJax['typesetPromise']([liveGameView]),document[_0x2a3cda(0x9c1)](_0x2a3cda(0xa47))[_0x2a3cda(0x4da)](_0x2a3cda(0x3fb),()=>revealAnswerForAdmin(_0x38aaae,_0x35d395)),document[_0x2a3cda(0x9c1)](_0x2a3cda(0x934))[_0x2a3cda(0x4da)](_0x2a3cda(0x3fb),async()=>{const _0x76d6cd=_0x2a3cda;showConfirmation(_0x76d6cd(0x438),async()=>{const _0x182f04=_0x76d6cd,_0xc64da1=doc(db,'artifacts/'+appId+_0x182f04(0x8c4),currentLiveGameId);await updateDoc(_0xc64da1,{'status':'podium'});});}),document[_0x2a3cda(0x9c1)](_0x2a3cda(0x334))['addEventListener'](_0x2a3cda(0x3fb),()=>{const _0x231572=_0x2a3cda;document[_0x231572(0x9c1)](_0x231572(0x7ee))[_0x231572(0x431)][_0x231572(0x5ea)](_0x231572(0x450));});}function showStudentLiveQuestionView(_0x5d5ed4,_0x19f241,_0x33f558){const _0x4a5976=_0xbb2a9e,_0x4d8781=_0x5d5ed4[_0x4a5976(0x368)]||currentQuizData[_0x4a5976(0x950)];let _0x2f092c='';if(_0x4d8781==='multiple_choice'||_0x4d8781===_0x4a5976(0xb53)){const _0x508910=_0x4d8781===_0x4a5976(0xb53)?['ใช่',_0x4a5976(0x205)]:_0x5d5ed4[_0x4a5976(0x643)];_0x2f092c=_0x508910['map']((_0x8eab1d,_0x586e4a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x586e4a+_0x4a5976(0x484)+_0x8eab1d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x4d8781===_0x4a5976(0xa4a)){const _0x270e76=_0x5d5ed4['allResponses']||[];_0x2f092c=_0x270e76[_0x4a5976(0x791)]((_0x5ccde6,_0x20a634)=>_0x4a5976(0x699)+_0x20a634+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ccde6+_0x4a5976(0x372))['join']('');}else _0x4d8781===_0x4a5976(0x68a)&&(_0x2f092c=_0x4a5976(0x5ab));}const _0x472de5=_0x5d5ed4[_0x4a5976(0x8ce)]||_0x5d5ed4['questionText'],_0x4900ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x19f241+0x1)+_0x4a5976(0xafc)+_0x33f558+_0x4a5976(0x252)+_0x472de5+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f092c+_0x4a5976(0x678);liveGameView['innerHTML']=_0x4900ff;window[_0x4a5976(0x7b6)]&&MathJax['typesetPromise']&&MathJax[_0x4a5976(0x987)]([liveGameView]);const _0x4f8d69=document[_0x4a5976(0x9c1)](_0x4a5976(0x7b1));_0x4f8d69&&_0x4f8d69[_0x4a5976(0x4da)](_0x4a5976(0x3fb),()=>{const _0x5b8a54=_0x4a5976,_0x2fe053=document[_0x5b8a54(0x9c1)](_0x5b8a54(0xa28))[_0x5b8a54(0x9b2)];handleLiveAnswer(_0x2fe053,_0x5d5ed4);}),document[_0x4a5976(0x9c1)](_0x4a5976(0x961))[_0x4a5976(0x4da)]('click',_0x517184=>{const _0x420eef=_0x4a5976,_0x29c2c9=_0x517184[_0x420eef(0x3a6)][_0x420eef(0x775)](_0x420eef(0x856));if(_0x29c2c9){const _0x441c22=parseInt(_0x29c2c9[_0x420eef(0x1f9)][_0x420eef(0x6f7)]);handleLiveAnswer(_0x441c22,_0x5d5ed4);}});}async function handleLiveAnswer(_0x4f5c91,_0xc72725){const _0x53ed3b=_0xbb2a9e;document['querySelectorAll'](_0x53ed3b(0x8a5))['forEach'](_0x415747=>_0x415747[_0x53ed3b(0x9d7)]=!![]);const _0x4b94c4=_0xc72725[_0x53ed3b(0x368)]||currentQuizData[_0x53ed3b(0x950)];let _0x1b0a5f=![],_0x358cce=_0x4f5c91;if(_0x4b94c4===_0x53ed3b(0x68a)){const _0x455279=(_0x4f5c91||'')[_0x53ed3b(0x86b)]();_0x1b0a5f=await gradeShortAnswer(_0x455279,_0xc72725);}else{if(_0x4b94c4===_0x53ed3b(0xad6))_0x1b0a5f=_0x4f5c91===_0xc72725[_0x53ed3b(0xad0)];else{if(_0x4b94c4===_0x53ed3b(0xb53)){const _0x1dddf8=_0xc72725[_0x53ed3b(0x2ae)];_0x1b0a5f=_0x4f5c91===0x0&&_0x1dddf8||_0x4f5c91===0x1&&!_0x1dddf8;}else{if(_0x4b94c4===_0x53ed3b(0xa4a)){const _0x104c17=_0xc72725['allResponses'][_0x4f5c91];_0x1b0a5f=_0x104c17===_0xc72725[_0x53ed3b(0x4cc)],_0x358cce=_0x104c17;}}}}const _0x5a5e94=doc(db,_0x53ed3b(0x44d)+appId+_0x53ed3b(0x8c4),currentLiveGameId),_0x2a9268={};_0x2a9268['players.'+currentStudentName+_0x53ed3b(0x962)]=!![],_0x2a9268[_0x53ed3b(0x886)+currentStudentName+_0x53ed3b(0x692)]=_0x1b0a5f,_0x2a9268[_0x53ed3b(0x886)+currentStudentName+_0x53ed3b(0x377)]=_0x4b94c4===_0x53ed3b(0x68a)||_0x4b94c4===_0x53ed3b(0xa4a)?null:_0x4f5c91,_0x2a9268[_0x53ed3b(0x886)+currentStudentName+_0x53ed3b(0xa2c)]=_0x358cce,_0x2a9268[_0x53ed3b(0x886)+currentStudentName+_0x53ed3b(0x2ed)]=serverTimestamp(),_0x2a9268['players.'+currentStudentName+_0x53ed3b(0x6a9)]=![],await updateDoc(_0x5a5e94,_0x2a9268),liveGameView[_0x53ed3b(0x1c3)]=_0x53ed3b(0x9f3);}function showAdminSummaryView(_0xe24832,_0x559972){const _0x39833f=_0xbb2a9e,_0x6b58a1=Object[_0x39833f(0x8b5)](_0xe24832[_0x39833f(0x526)]||{}),_0x27c189=_0x559972[_0x39833f(0x368)]||currentQuizData[_0x39833f(0x950)],_0xe68c8e=_0x27c189==='true_false'?[_0x39833f(0x53e),_0x39833f(0x205)]:_0x559972[_0x39833f(0x643)]||_0x559972['allResponses']||[],_0x492600={},_0x5c30eb=new Array(_0xe68c8e[_0x39833f(0xa7c)])['fill'](0x0);_0xe68c8e[_0x39833f(0x803)]((_0x48b3c3,_0x2057e9)=>{_0x492600[_0x2057e9]=[];}),Object['entries'](_0xe24832[_0x39833f(0x526)]||{})['forEach'](([_0x489829,_0x2621d8])=>{const _0x2a94a2=_0x39833f;if(_0x2621d8[_0x2a94a2(0x3f1)]==='active'&&_0x2621d8[_0x2a94a2(0x20b)]!==undefined){const _0x32cd17=_0x2621d8[_0x2a94a2(0x20b)];_0x492600[_0x32cd17]&&(_0x492600[_0x32cd17]['push'](_0x489829),_0x5c30eb[_0x32cd17]++);}});const _0xeb1cb8=Math[_0x39833f(0xaa3)](..._0x5c30eb,0x1),_0x350603='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x559972[_0x39833f(0x8ce)]||_0x559972[_0x39833f(0x23b)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c30eb[_0x39833f(0x791)]((_0x3f961b,_0x30143d)=>{const _0x2d566c=_0x39833f,_0x3a0318=_0x492600[_0x30143d][_0x2d566c(0xa7c)]>0x0?_0x492600[_0x30143d][_0x2d566c(0x3cf)](',\x20'):_0x2d566c(0x8ec);let _0x5f4ab6=![];if(_0x27c189===_0x2d566c(0xad6))_0x5f4ab6=_0x30143d===_0x559972[_0x2d566c(0xad0)];else{if(_0x27c189===_0x2d566c(0xb53)){const _0x1d5807=_0x559972[_0x2d566c(0x2ae)];_0x5f4ab6=_0x1d5807&&_0x30143d===0x0||!_0x1d5807&&_0x30143d===0x1;}else _0x27c189===_0x2d566c(0xa4a)&&(_0x5f4ab6=_0xe68c8e[_0x30143d]===_0x559972[_0x2d566c(0x4cc)]);}const _0x5be464=_0x5f4ab6?_0x2d566c(0x481):_0x2d566c(0x5fe);return _0x2d566c(0x3a0)+_0x3f961b+_0x2d566c(0xa59)+_0x5be464+_0x2d566c(0x578)+_0x30143d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0xe68c8e[_0x30143d]+_0x2d566c(0x99e)+_0x30143d+_0x2d566c(0xa44)+_0x3a0318+_0x2d566c(0x3c0);})[_0x39833f(0x3cf)]('')+_0x39833f(0x900);liveGameView['innerHTML']=_0x350603;if(window['MathJax'])MathJax[_0x39833f(0x987)]();document[_0x39833f(0x9c1)](_0x39833f(0x37b))[_0x39833f(0x4da)]('click',async()=>{const _0x28a0d8=_0x39833f,_0x9a1ac9=doc(db,_0x28a0d8(0x44d)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x9a1ac9,{'questionStatus':_0x28a0d8(0x40e)});}),document[_0x39833f(0x9c1)]('open-scratchpad-btn')['addEventListener'](_0x39833f(0x3fb),()=>{openScratchpad(_0x559972,_0xe68c8e);});}function showPlayerSummaryView(_0x2b5a2a,_0x401a62){const _0x5c9d92=_0xbb2a9e,_0x58764b=Object[_0x5c9d92(0x8b5)](_0x2b5a2a[_0x5c9d92(0x526)]||{}),_0xca2554=_0x2b5a2a[_0x5c9d92(0x526)][_0x401a62],_0x4deac4=_0x58764b[_0x5c9d92(0x51b)](_0x31ae3e=>_0x31ae3e[_0x5c9d92(0x3f1)]===_0x5c9d92(0x645))['sort']((_0x2034d7,_0x12a420)=>_0x12a420['score']-_0x2034d7[_0x5c9d92(0x6bd)]),_0x5343d5=_0x4deac4[_0x5c9d92(0x4d1)](_0x4aefbf=>_0x4aefbf===_0xca2554)+0x1,_0x573fd9=_0xca2554[_0x5c9d92(0x7c7)]?'ถูกต้อง!':'ผิด',_0x583af9=_0xca2554[_0x5c9d92(0x7c7)]?'bg-green-500':_0x5c9d92(0x8a6),_0x27fc9d=_0xca2554['pointsLastQuestion']||0x0,_0x4e6560=_0x5c9d92(0x8e3),_0x188100='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x4e6560+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x583af9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x573fd9+_0x5c9d92(0x3d7)+_0x27fc9d+_0x5c9d92(0x728)+(_0x5343d5>0x0?_0x5343d5:'-')+_0x5c9d92(0x952);liveGameView[_0x5c9d92(0x1c3)]=_0x188100;}function createQuizFromBank(){const _0x27fe0f=_0xbb2a9e,_0x136565=document[_0x27fe0f(0x345)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x136565[_0x27fe0f(0xa7c)]===0x0){showMessage(_0x27fe0f(0x5c4));return;}const _0x19abc3=[];_0x136565[_0x27fe0f(0x803)](_0x1125d7=>{const _0x501cac=_0x27fe0f;_0x19abc3['push'](JSON[_0x501cac(0x74a)](_0x1125d7[_0x501cac(0x9b2)]));});const _0x4c9612={'topic':_0x27fe0f(0x1bd),'questions':_0x19abc3};displayGeneratedQuiz(_0x4c9612);}function showAdminLobbyView(_0x409afb,_0x29c615){const _0x4faf7d=_0xbb2a9e;showView(_0x4faf7d(0x50c));const _0x419d9f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x29c615+_0x4faf7d(0x414)+_0x409afb+_0x4faf7d(0x82b);liveGameView[_0x4faf7d(0x1c3)]=_0x419d9f,document['getElementById'](_0x4faf7d(0x628))['addEventListener'](_0x4faf7d(0x3fb),async()=>{const _0xe83264=_0x4faf7d;if(!currentQuizData||!currentQuizData[_0xe83264(0xa17)]||currentQuizData['questions'][_0xe83264(0xa7c)]===0x0){showMessage(_0xe83264(0x1fb));return;}try{const _0x591f70=doc(db,_0xe83264(0x44d)+appId+_0xe83264(0x8c4),currentLiveGameId);await updateDoc(_0x591f70,{'status':_0xe83264(0x533),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5bde27=currentQuizData[_0xe83264(0xa17)][0x0],_0x62b386=currentQuizData['questions']['length'];showAdminLiveQuestionView(_0x5bde27,0x0,_0x62b386);}catch(_0x3b9326){console[_0xe83264(0x746)](_0xe83264(0x1ef),_0x3b9326),showMessage(_0xe83264(0x25c));}});}async function openGlobalLiveModal(){const _0x5f4aac=_0xbb2a9e;if(allQuizzesGlobal[_0x5f4aac(0xa7c)]===0x0){const _0x73351a=await getDocs(collection(db,_0x5f4aac(0x44d)+appId+_0x5f4aac(0x622)));allQuizzesGlobal=_0x73351a[_0x5f4aac(0x95a)][_0x5f4aac(0x791)](_0xd151a7=>({'id':_0xd151a7['id'],..._0xd151a7[_0x5f4aac(0x24b)]()}));}renderGlobalQuizList(''),document[_0x5f4aac(0x9c1)](_0x5f4aac(0x284))[_0x5f4aac(0x431)][_0x5f4aac(0x905)](_0x5f4aac(0x450));}async function openQuizBankModal(){const _0x1c4ff3=_0xbb2a9e;if(allQuizzesGlobal[_0x1c4ff3(0xa7c)]===0x0){const _0x23d94c=await getDocs(collection(db,_0x1c4ff3(0x44d)+appId+_0x1c4ff3(0x622)));allQuizzesGlobal=_0x23d94c[_0x1c4ff3(0x95a)][_0x1c4ff3(0x791)](_0x95f74e=>({'id':_0x95f74e['id'],..._0x95f74e[_0x1c4ff3(0x24b)]()}));}renderQuizBankList(''),document[_0x1c4ff3(0x9c1)](_0x1c4ff3(0x7c8))[_0x1c4ff3(0x431)][_0x1c4ff3(0x905)]('hidden');}function renderQuizBankList(_0x37badd=''){const _0x513908=_0xbb2a9e,_0x284532=document[_0x513908(0x9c1)]('bank-quiz-list'),_0x1835ac=_0x37badd[_0x513908(0x57e)]()[_0x513908(0x9aa)](),_0x582813=allQuizzesGlobal[_0x513908(0x791)](_0x162172=>({..._0x162172,'projectName':allProjects['find'](_0x4450db=>_0x4450db['id']===_0x162172[_0x513908(0x430)])?.[_0x513908(0x8f6)]||_0x513908(0x605)}))['filter'](_0x5832cd=>(_0x5832cd[_0x513908(0xb4a)]||'')[_0x513908(0x57e)]()[_0x513908(0x913)](_0x1835ac)||(_0x5832cd[_0x513908(0x8f6)]||'')[_0x513908(0x57e)]()[_0x513908(0x913)](_0x1835ac)||_0x5832cd['id'][_0x513908(0x86b)]()['includes'](_0x1835ac));document[_0x513908(0x9c1)]('quiz-bank-count')[_0x513908(0x410)]='('+_0x582813[_0x513908(0xa7c)]+'\x20ชุด)',_0x284532[_0x513908(0x1c3)]=_0x582813[_0x513908(0xa7c)]?_0x582813[_0x513908(0x791)](_0x8d5b1c=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x8d5b1c['id']+_0x513908(0x589)+(_0x8d5b1c[_0x513908(0xb4a)]||_0x513908(0x498))+_0x513908(0x80d)+(_0x8d5b1c[_0x513908(0xa17)]?.[_0x513908(0xa7c)]||0x0)+_0x513908(0x827)+_0x8d5b1c[_0x513908(0x8f6)]+_0x513908(0x8c3)+_0x8d5b1c['id']+_0x513908(0x745)+_0x8d5b1c['id']+_0x513908(0x2b8)+_0x8d5b1c['id']+_0x513908(0x434)+_0x8d5b1c['id']+_0x513908(0x81d)+_0x8d5b1c['id']+_0x513908(0x428)+_0x8d5b1c['id']+_0x513908(0x8ee)+_0x8d5b1c['id']+_0x513908(0x9fc)+_0x8d5b1c[_0x513908(0xb4a)]+_0x513908(0x96d))[_0x513908(0x3cf)](''):_0x513908(0xb24),_0x284532['querySelectorAll']('.quiz-bank-item')[_0x513908(0x803)](_0x3c62cb=>{const _0x260d09=_0x513908;_0x3c62cb[_0x260d09(0x4da)](_0x260d09(0x3fb),()=>{const _0x140f48=_0x260d09,_0x5be406=_0x3c62cb[_0x140f48(0x1f9)]['id'];document[_0x140f48(0x9c1)]('quiz-bank-modal')[_0x140f48(0x431)][_0x140f48(0x8af)](_0x140f48(0x450)),showQuizDetailView(_0x5be406);});}),_0x284532['querySelectorAll'](_0x513908(0x71d))[_0x513908(0x803)](_0x5d41b3=>{const _0x379fee=_0x513908;_0x5d41b3[_0x379fee(0x4da)](_0x379fee(0x3fb),_0xd456d9=>{const _0x53406d=_0x379fee;_0xd456d9[_0x53406d(0x6a0)]();const _0x118f5d=_0x5d41b3['dataset']['id'],_0x2f76a6=allQuizzesGlobal['find'](_0x5c68f6=>_0x5c68f6['id']===_0x118f5d);_0x2f76a6?(currentQuizData=_0x2f76a6,document[_0x53406d(0x9c1)](_0x53406d(0x7c8))[_0x53406d(0x431)][_0x53406d(0x8af)]('hidden'),startAdminTest()):showMessage(_0x53406d(0x931));});}),_0x284532['querySelectorAll'](_0x513908(0x1cd))[_0x513908(0x803)](_0x44c934=>{const _0x52ed84=_0x513908;_0x44c934[_0x52ed84(0x4da)](_0x52ed84(0x3fb),_0x507e16=>{const _0x39a8d7=_0x52ed84;_0x507e16[_0x39a8d7(0x6a0)]();const _0x4b5dc3=_0x44c934['dataset']['id'],_0x431196=allQuizzesGlobal[_0x39a8d7(0x748)](_0xcf09e3=>_0xcf09e3['id']===_0x4b5dc3);_0x431196?(document['getElementById']('quiz-bank-modal')[_0x39a8d7(0x431)][_0x39a8d7(0x8af)](_0x39a8d7(0x450)),handleGenerateParallelFromBank(_0x431196)):showMessage(_0x39a8d7(0x931));});}),_0x284532[_0x513908(0x345)](_0x513908(0x3e0))[_0x513908(0x803)](_0x5589fe=>{_0x5589fe['addEventListener']('click',_0x5be880=>{const _0xa93987=_0x1a06;_0x5be880[_0xa93987(0x6a0)]();const _0x1c3c04=_0x5589fe[_0xa93987(0x1f9)]['id'],_0x1f3deb=allQuizzesGlobal['find'](_0x2e7800=>_0x2e7800['id']===_0x1c3c04);_0x1f3deb?(document[_0xa93987(0x9c1)](_0xa93987(0x7c8))[_0xa93987(0x431)][_0xa93987(0x8af)](_0xa93987(0x450)),startPresentation(_0x1f3deb)):showMessage(_0xa93987(0x931));});}),_0x284532[_0x513908(0x345)](_0x513908(0x62f))['forEach'](_0xf1f19d=>{const _0x56d41b=_0x513908;_0xf1f19d['addEventListener'](_0x56d41b(0x3fb),_0x2b0c3f=>{const _0x2b45fa=_0x56d41b;_0x2b0c3f[_0x2b45fa(0x6a0)]();const _0x76374c=_0xf1f19d[_0x2b45fa(0x1f9)]['id'];document[_0x2b45fa(0x9c1)](_0x2b45fa(0x7c8))[_0x2b45fa(0x431)][_0x2b45fa(0x8af)](_0x2b45fa(0x450)),handleMoveQuiz(_0x76374c);});}),_0x284532[_0x513908(0x345)](_0x513908(0x52b))['forEach'](_0x504b67=>{const _0x1a2be0=_0x513908;_0x504b67['addEventListener'](_0x1a2be0(0x3fb),_0x11fcdb=>{const _0xc7b74b=_0x1a2be0;_0x11fcdb[_0xc7b74b(0x6a0)]();const _0x567ce0=_0x504b67['dataset']['id'];document['getElementById'](_0xc7b74b(0x7c8))[_0xc7b74b(0x431)][_0xc7b74b(0x8af)]('hidden'),handleQuizSettings(_0x567ce0);});}),_0x284532[_0x513908(0x345)]('.quiz-bank-delete-btn')[_0x513908(0x803)](_0x152b05=>{const _0x3352f7=_0x513908;_0x152b05['addEventListener'](_0x3352f7(0x3fb),_0x585842=>{const _0x737c87=_0x3352f7;_0x585842[_0x737c87(0x6a0)]();const _0x339e58=_0x152b05[_0x737c87(0x1f9)]['id'],_0x560fa0=_0x152b05['dataset'][_0x737c87(0xb4a)];showConfirmation(_0x737c87(0x387)+_0x560fa0+_0x737c87(0xaab),()=>handleDeleteQuiz(_0x339e58));});});}async function handleCompareResults(_0x53e175,_0x251395){const _0x1017f6=_0xbb2a9e,_0x118838=document['getElementById'](_0x1017f6(0x837)),_0x461526=document['getElementById'](_0x1017f6(0x75c)),_0x1c2df0=document[_0x1017f6(0x9c1)]('comparison-individual-content');document['getElementById'](_0x1017f6(0x9cf))[_0x1017f6(0x431)][_0x1017f6(0x8af)]('active'),document['getElementById'](_0x1017f6(0x6ea))[_0x1017f6(0x431)][_0x1017f6(0x905)](_0x1017f6(0x645)),_0x461526[_0x1017f6(0x431)][_0x1017f6(0x905)](_0x1017f6(0x450)),_0x1c2df0[_0x1017f6(0x431)][_0x1017f6(0x8af)](_0x1017f6(0x450)),_0x461526[_0x1017f6(0x1c3)]=_0x1017f6(0x7eb),_0x1c2df0[_0x1017f6(0x1c3)]='',_0x118838[_0x1017f6(0x431)][_0x1017f6(0x905)](_0x1017f6(0x450));try{const _0xc7d6c2=doc(db,_0x1017f6(0x44d)+appId+_0x1017f6(0x622),_0x53e175),_0x348df0=await getDoc(_0xc7d6c2);if(!_0x348df0[_0x1017f6(0x9ce)]())throw new Error(_0x1017f6(0x2cf));const _0x2bd3c5=_0x348df0[_0x1017f6(0x24b)](),_0x337f20=_0x2bd3c5[_0x1017f6(0xa17)][_0x1017f6(0xa7c)],_0x3d5364=collection(db,_0x1017f6(0x44d)+appId+_0x1017f6(0x3b6)+_0x251395+_0x1017f6(0x6d8)),_0x1370e3=collection(db,_0x1017f6(0x44d)+appId+'/public/data/quizzes/'+_0x53e175+'/submissions'),[_0x4619af,_0x4c8f28]=await Promise['all']([getDocs(_0x3d5364),getDocs(_0x1370e3)]),_0x56875c=_0x4619af[_0x1017f6(0x95a)][_0x1017f6(0x791)](_0x4abd93=>_0x4abd93[_0x1017f6(0x24b)]()),_0x184809=_0x4c8f28[_0x1017f6(0x95a)][_0x1017f6(0x791)](_0x2520d5=>_0x2520d5[_0x1017f6(0x24b)]()),_0x42b0cc=_0x56875c[_0x1017f6(0x791)](_0x57db09=>_0x57db09['latestScore']),_0x1facba=_0x184809['map'](_0x2a0202=>_0x2a0202[_0x1017f6(0x419)]),_0x778463=calculateMeanAndStdDev(_0x42b0cc),_0x44b304=calculateMeanAndStdDev(_0x1facba),_0x9e8a4c=_0x778463['mean'],_0x50e3f3=_0x44b304['mean'],_0xd2eb1d=_0x50e3f3-_0x9e8a4c;let _0x2ae665=_0x1017f6(0x933)+_0x9e8a4c[_0x1017f6(0x4f9)](0x2)+_0x1017f6(0x602)+_0x50e3f3[_0x1017f6(0x4f9)](0x2)+_0x1017f6(0x231)+(_0xd2eb1d>=0x0?_0x1017f6(0x462):_0x1017f6(0x366))+_0x1017f6(0xb55)+(_0xd2eb1d>=0x0?_0x1017f6(0x50e):_0x1017f6(0x1cc))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0xd2eb1d>=0x0?_0x1017f6(0xa54):_0x1017f6(0x9d4))+'\x22>'+(_0xd2eb1d>=0x0?'+':'')+_0xd2eb1d[_0x1017f6(0x4f9)](0x2)+_0x1017f6(0x60b);_0x461526[_0x1017f6(0x1c3)]=_0x2ae665;const _0x33130c=document[_0x1017f6(0x9c1)](_0x1017f6(0xaac))[_0x1017f6(0x55e)]('2d');if(chartInstances['comparison'])chartInstances[_0x1017f6(0x301)]['destroy']();chartInstances['comparison']=new Chart(_0x33130c,{'type':_0x1017f6(0x706),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0x9e8a4c],'backgroundColor':_0x1017f6(0x8bc)},{'label':_0x1017f6(0x600),'data':[_0x50e3f3],'backgroundColor':_0x1017f6(0x73a)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x337f20}}}});const _0x43faab=currentProjectData['students']||[],_0x567801=_0x43faab[_0x1017f6(0x791)](_0x1580f9=>{const _0x186343=_0x1017f6,_0x244907=_0x56875c['find'](_0x40021d=>_0x40021d[_0x186343(0x711)]===_0x1580f9),_0x542d15=_0x184809[_0x186343(0x748)](_0x553ed6=>_0x553ed6[_0x186343(0x711)]===_0x1580f9),_0x197ed3=_0x244907?_0x244907[_0x186343(0x419)]:null,_0x1ce0b9=_0x542d15?_0x542d15[_0x186343(0x419)]:null,_0x358a01=_0x197ed3!==null&&_0x1ce0b9!==null?_0x1ce0b9-_0x197ed3:null,_0x226bbc=_0x197ed3!==null?calculateZScore(_0x197ed3,_0x778463[_0x186343(0x382)],_0x778463['stdDev']):null,_0x18f78e=_0x1ce0b9!==null?calculateZScore(_0x1ce0b9,_0x44b304[_0x186343(0x382)],_0x44b304[_0x186343(0x9d9)]):null,_0x394ec0=_0x226bbc!==null?calculateTScore(_0x226bbc):null,_0xe3c4ab=_0x18f78e!==null?calculateTScore(_0x18f78e):null,_0x4b0a48=_0x394ec0!==null&&_0xe3c4ab!==null?_0xe3c4ab-_0x394ec0:null;return{'name':_0x1580f9,'preScore':_0x197ed3,'postScore':_0x1ce0b9,'gain':_0x358a01,'preTScore':_0x394ec0,'postTScore':_0xe3c4ab,'tGain':_0x4b0a48};});renderIndividualComparisonTable(_0x567801,_0x1c2df0);}catch(_0x1d6801){console[_0x1017f6(0x746)](_0x1017f6(0x2cd),_0x1d6801),_0x461526['innerHTML']=_0x1017f6(0x53d);}}function displayHalfMarkResult(_0x9b8368,_0xe14ea1){const _0x52049d=_0xbb2a9e,_0x48babe=_0x9b8368>=_0xe14ea1/0x2,_0x52ed80=_0x48babe?_0x52049d(0x572):_0x52049d(0x366),_0x434c15=_0x48babe?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x52049d(0x67a),_0x4630e6=_0x48babe?_0x52049d(0x217):_0x52049d(0x1cc),_0x43c0e7=_0x48babe?_0x52049d(0xa5b):_0x52049d(0x44a),_0x6cd777=_0x48babe?_0x52049d(0x342):_0x52049d(0x8b4);let _0x4b5522=_0x52049d(0x8bd)+_0x52ed80+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x434c15+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4630e6+_0x52049d(0x964)+_0x43c0e7+_0x52049d(0x9ed)+_0x6cd777+_0x52049d(0x5f9);studentResultArea[_0x52049d(0x1c3)]=_0x4b5522,studentResultArea[_0x52049d(0x431)][_0x52049d(0x905)](_0x52049d(0x450)),studentQuizArea['classList']['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x48babe});}function displayPerfectScoreResult(_0x30eaf3,_0x4c359c){const _0x3b2a76=_0xbb2a9e,_0x3a8fbe=_0x30eaf3===_0x4c359c,_0x519b9b=_0x3a8fbe?_0x3b2a76(0x2aa):_0x3b2a76(0x3d3),_0x46acb3=_0x3a8fbe?_0x3b2a76(0x86c):_0x3b2a76(0x61d),_0x4c49e6=_0x3a8fbe?_0x3b2a76(0x873):_0x3b2a76(0x253),_0x1ee043=_0x3a8fbe?_0x3b2a76(0x914):_0x3b2a76(0x560),_0x3c19bd=_0x3a8fbe?_0x3b2a76(0x890):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x3b4cc3=_0x3b2a76(0x8bd)+_0x519b9b+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46acb3+_0x3b2a76(0x70d)+_0x4c49e6+_0x3b2a76(0x964)+_0x1ee043+_0x3b2a76(0x9ed)+_0x3c19bd+_0x3b2a76(0x5f9);studentResultArea[_0x3b2a76(0x1c3)]=_0x3b4cc3,studentResultArea[_0x3b2a76(0x431)][_0x3b2a76(0x905)]('hidden'),studentQuizArea[_0x3b2a76(0x431)][_0x3b2a76(0x8af)](_0x3b2a76(0x450)),setupResultScreenBackButton({'showRankings':![],'score':_0x30eaf3,'totalQuestions':_0x4c359c});}function renderIndividualComparisonTable(_0x29e069,_0x1b7368){const _0x169285=_0xbb2a9e;_0x29e069[_0x169285(0x415)]((_0x58f32f,_0x5a1826)=>(_0x5a1826[_0x169285(0x5c6)]??-Infinity)-(_0x58f32f[_0x169285(0x5c6)]??-Infinity));let _0x4f5004=_0x169285(0x619);_0x29e069['length']===0x0?_0x4f5004+=_0x169285(0x480):_0x29e069['forEach']((_0x131ad8,_0x4cdc37)=>{const _0x1802d8=_0x169285;let _0x23a2db='-',_0x2ffe35='';if(_0x131ad8[_0x1802d8(0x9bb)]!==null){const _0x1565b5=_0x131ad8[_0x1802d8(0x9bb)]>0x0?_0x1802d8(0x4cd):_0x131ad8['gain']<0x0?_0x1802d8(0x338):_0x1802d8(0x1e0),_0x37c579=_0x131ad8[_0x1802d8(0x9bb)]>0x0?'+':'';_0x23a2db=_0x1802d8(0x777)+_0x1565b5+'\x22>'+_0x37c579+_0x131ad8[_0x1802d8(0x9bb)]+_0x1802d8(0x85f);if(_0x131ad8[_0x1802d8(0x9bb)]>0x0)_0x2ffe35=_0x1802d8(0x230);else _0x131ad8['gain']<0x0?_0x2ffe35=_0x1802d8(0x2a6):_0x2ffe35=_0x1802d8(0x8c2);}let _0x45250a='-';if(_0x131ad8['tGain']!==null){const _0x4dfba4=_0x131ad8[_0x1802d8(0x5c6)]>0x0?_0x1802d8(0x4cd):_0x131ad8[_0x1802d8(0x5c6)]<0x0?'text-red-600':_0x1802d8(0x1e0),_0x40a855=_0x131ad8['tGain']>0x0?'+':'';_0x45250a='<span\x20class=\x22font-bold\x20'+_0x4dfba4+'\x22>'+_0x40a855+_0x131ad8[_0x1802d8(0x5c6)][_0x1802d8(0x4f9)](0x2)+_0x1802d8(0x85f);}_0x4f5004+=_0x1802d8(0x4ae)+(_0x4cdc37+0x1)+_0x1802d8(0x349)+_0x131ad8[_0x1802d8(0x98a)]+_0x1802d8(0x367)+(_0x131ad8[_0x1802d8(0xa75)]??'-')+_0x1802d8(0x821)+(_0x131ad8[_0x1802d8(0x4e3)]??'-')+_0x1802d8(0x367)+_0x23a2db+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x2ffe35+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x131ad8[_0x1802d8(0x43c)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x131ad8[_0x1802d8(0xb48)]?.[_0x1802d8(0x4f9)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x45250a+_0x1802d8(0x730);}),_0x4f5004+='</tbody></table></div>',_0x1b7368['innerHTML']=_0x4f5004;}function handleRenameQuiz(_0x132738,_0x595694){const _0x5c38a9=_0xbb2a9e;actionTargetId=_0x132738,document[_0x5c38a9(0x9c1)]('rename-quiz-input')[_0x5c38a9(0x9b2)]=_0x595694,renameQuizModal[_0x5c38a9(0x431)][_0x5c38a9(0x905)](_0x5c38a9(0x450));}function setupComparisonModalTabs(){const _0x57962f=_0xbb2a9e,_0x9c9d33=document['getElementById'](_0x57962f(0x9cf)),_0x2c4679=document[_0x57962f(0x9c1)](_0x57962f(0x6ea)),_0x330f3f=document[_0x57962f(0x9c1)](_0x57962f(0x75c)),_0x315292=document[_0x57962f(0x9c1)](_0x57962f(0x650));_0x9c9d33[_0x57962f(0x4da)](_0x57962f(0x3fb),()=>{const _0x2852f3=_0x57962f;_0x9c9d33[_0x2852f3(0x431)]['add']('active'),_0x2c4679['classList'][_0x2852f3(0x905)](_0x2852f3(0x645)),_0x330f3f[_0x2852f3(0x431)]['remove']('hidden'),_0x315292[_0x2852f3(0x431)][_0x2852f3(0x8af)](_0x2852f3(0x450));}),_0x2c4679[_0x57962f(0x4da)](_0x57962f(0x3fb),()=>{const _0x349220=_0x57962f;_0x2c4679['classList'][_0x349220(0x8af)]('active'),_0x9c9d33[_0x349220(0x431)][_0x349220(0x905)](_0x349220(0x645)),_0x315292['classList']['remove']('hidden'),_0x330f3f['classList']['add'](_0x349220(0x450));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x115238=''){const _0x114152=_0xbb2a9e,_0x378bcc=document['getElementById'](_0x114152(0x849)),_0x565660=_0x115238['toLowerCase']()[_0x114152(0x9aa)](),_0x139862=allQuizzesGlobal[_0x114152(0x791)](_0x1862e5=>({..._0x1862e5,'projectName':allProjects[_0x114152(0x748)](_0x40885c=>_0x40885c['id']===_0x1862e5[_0x114152(0x430)])?.['projectName']||_0x1862e5[_0x114152(0x430)]}))['filter'](_0x58e331=>(_0x58e331[_0x114152(0xb4a)]||'')[_0x114152(0x57e)]()[_0x114152(0x913)](_0x565660)||(_0x58e331['projectName']||'')['toLowerCase']()[_0x114152(0x913)](_0x565660));document['getElementById'](_0x114152(0x4a8))[_0x114152(0x410)]='('+_0x139862['length']+_0x114152(0x93e),_0x378bcc['innerHTML']=_0x139862[_0x114152(0xa7c)]?_0x139862[_0x114152(0x791)](_0x46a9e7=>_0x114152(0x83f)+_0x46a9e7['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x46a9e7[_0x114152(0xb4a)]||'(ไม่มีชื่อ)')+_0x114152(0x631)+(_0x46a9e7[_0x114152(0xa17)]?.['length']||0x0)+_0x114152(0x75e)+_0x46a9e7[_0x114152(0x8f6)]+_0x114152(0x708))[_0x114152(0x3cf)](''):_0x114152(0x236),selectedGlobalQuizId=null,document['getElementById'](_0x114152(0x48f))[_0x114152(0x9d7)]=!![],_0x378bcc[_0x114152(0x345)]('button[data-id]')[_0x114152(0x803)](_0x45334f=>{const _0x110bb0=_0x114152;_0x45334f[_0x110bb0(0x4da)]('click',()=>{const _0x1c56a1=_0x110bb0;selectedGlobalQuizId=_0x45334f[_0x1c56a1(0x1f9)]['id'],_0x378bcc['querySelectorAll'](_0x1c56a1(0x5f6))['forEach'](_0x54db1d=>_0x54db1d[_0x1c56a1(0x431)][_0x1c56a1(0x905)]('bg-purple-50','ring-2','ring-purple-400')),_0x45334f[_0x1c56a1(0x431)][_0x1c56a1(0x8af)](_0x1c56a1(0x7cc),_0x1c56a1(0x795),_0x1c56a1(0x519)),document[_0x1c56a1(0x9c1)](_0x1c56a1(0x48f))[_0x1c56a1(0x9d7)]=![];});});}function listenForLiveGameUpdates(){const _0x25f7ca=_0xbb2a9e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x266764=doc(db,_0x25f7ca(0x44d)+appId+_0x25f7ca(0x8c4),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x266764,_0x4a7e58=>{const _0x16a41f=_0x25f7ca;if(!_0x4a7e58['exists']()){showMessage(_0x16a41f(0xb21)),showView(currentMode);return;}const _0x31cb7f=_0x4a7e58[_0x16a41f(0x24b)]();_0x31cb7f[_0x16a41f(0x53b)]&&(currentQuizData=_0x31cb7f[_0x16a41f(0x53b)]);!currentQuizData&&_0x31cb7f[_0x16a41f(0x521)]&&((async()=>{const _0x1eb540=_0x16a41f;try{const _0x2cfee3=doc(db,_0x1eb540(0x44d)+appId+_0x1eb540(0x622),_0x31cb7f[_0x1eb540(0x521)]),_0x169d0e=await getDoc(_0x2cfee3);_0x169d0e[_0x1eb540(0x9ce)]()&&(currentQuizData={'id':_0x169d0e['id'],..._0x169d0e['data']()});}catch(_0x19310b){console[_0x1eb540(0x746)](_0x1eb540(0xa99),_0x19310b);}})());switch(_0x31cb7f[_0x16a41f(0x3f1)]){case _0x16a41f(0x443):if(currentMode===_0x16a41f(0x817)){const _0x2c17e1=_0x31cb7f[_0x16a41f(0x526)]?Object[_0x16a41f(0xaae)](_0x31cb7f[_0x16a41f(0x526)]):[],_0x2deb1a=_0x2c17e1[_0x16a41f(0x51b)](([_0x6f6d5b,_0x3be1c3])=>_0x3be1c3['status']===_0x16a41f(0x645)),_0x2ce525=document[_0x16a41f(0x9c1)]('player-count');if(_0x2ce525)_0x2ce525[_0x16a41f(0x410)]=_0x2deb1a[_0x16a41f(0xa7c)];const _0x10732b=document['getElementById']('player-list-lobby');_0x10732b&&(_0x10732b[_0x16a41f(0x1c3)]=_0x2deb1a[_0x16a41f(0x791)](([_0x5c53d1,_0xa5245c])=>_0x16a41f(0xa5e)+_0x5c53d1+_0x16a41f(0x1f1)+_0x5c53d1+_0x16a41f(0x71f))[_0x16a41f(0x3cf)](''));const _0x1a61d9=document[_0x16a41f(0x9c1)]('start-game-btn');_0x1a61d9&&(_0x1a61d9[_0x16a41f(0x9d7)]=_0x2deb1a[_0x16a41f(0xa7c)]===0x0);}else showView(_0x16a41f(0x50c)),liveGameView[_0x16a41f(0x1c3)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x16a41f(0x47a);break;case'question':const _0x4b44f5=_0x31cb7f[_0x16a41f(0x4bc)];if(currentQuizData&&currentQuizData['questions'][_0x4b44f5]){const _0x318933=currentQuizData['questions'][_0x4b44f5],_0x817a25=_0x31cb7f[_0x16a41f(0x5af)]||_0x16a41f(0x525);switch(_0x817a25){case _0x16a41f(0x609):currentMode==='admin'?showAdminSummaryView(_0x31cb7f,_0x318933):showPlayerSummaryView(_0x31cb7f,currentStudentName);break;case _0x16a41f(0x40e):currentMode===_0x16a41f(0x817)&&showTop5LeaderboardView(_0x31cb7f);break;case'answering':default:if(currentMode===_0x16a41f(0x817)){const _0x1054cc=writeBatch(db);let _0x486be0=![];Object[_0x16a41f(0xaae)](_0x31cb7f[_0x16a41f(0x526)])['forEach'](([_0x1a2147,_0x1be0d6])=>{const _0x3c8da9=_0x16a41f;if(_0x1be0d6[_0x3c8da9(0x3f1)]===_0x3c8da9(0x645)&&_0x1be0d6[_0x3c8da9(0x4fa)]&&!_0x1be0d6['isScored']){_0x486be0=!![];const _0x59a2d9=_0x1be0d6[_0x3c8da9(0x4fa)][_0x3c8da9(0x2f8)]()-_0x31cb7f['questionDisplayedAt'][_0x3c8da9(0x2f8)]();let _0x17258e=0x0;if(_0x1be0d6[_0x3c8da9(0x7c7)]){const _0x47e532=0x3e8,_0x17a90f=0x1f4,_0x15494d=0x4e20;let _0x12a119=_0x59a2d9/_0x15494d;if(_0x12a119>0x1)_0x12a119=0x1;const _0x5019d9=Math[_0x3c8da9(0x39e)](_0x12a119*_0x17a90f);_0x17258e=_0x47e532-_0x5019d9;}const _0x5a2930=doc(db,_0x3c8da9(0x44d)+appId+_0x3c8da9(0x8c4),currentLiveGameId);_0x1054cc[_0x3c8da9(0x553)](_0x5a2930,{[_0x3c8da9(0x886)+_0x1a2147+_0x3c8da9(0x8b2)]:increment(_0x17258e),[_0x3c8da9(0x886)+_0x1a2147+_0x3c8da9(0x1fa)]:_0x17258e,[_0x3c8da9(0x886)+_0x1a2147+_0x3c8da9(0x6a9)]:!![]});}});_0x486be0&&_0x1054cc[_0x16a41f(0x4c6)]()[_0x16a41f(0x3e2)](_0x210aa8=>console['error'](_0x16a41f(0x953),_0x210aa8));lastRenderedAdminQuestionIndex!==_0x4b44f5&&(showAdminLiveQuestionView(_0x318933,_0x4b44f5,currentQuizData[_0x16a41f(0xa17)][_0x16a41f(0xa7c)]),lastRenderedAdminQuestionIndex=_0x4b44f5);const _0x2ac62d=_0x31cb7f['players']||{},_0x14b15d=Object[_0x16a41f(0x8b5)](_0x2ac62d)[_0x16a41f(0x51b)](_0x136691=>_0x136691[_0x16a41f(0x3f1)]===_0x16a41f(0x645)),_0x2e12dd=_0x14b15d[_0x16a41f(0xa7c)],_0x5b8da5=_0x14b15d['filter'](_0x1cab86=>_0x1cab86[_0x16a41f(0x2e4)]===!![])[_0x16a41f(0xa7c)],_0x1cafa8=document[_0x16a41f(0x9c1)]('answer-counter');if(_0x1cafa8)_0x1cafa8[_0x16a41f(0x410)]=_0x5b8da5+'/'+_0x2e12dd;const _0x14f639=document[_0x16a41f(0x9c1)](_0x16a41f(0x3ba));if(_0x14f639){let _0x430d8c=Object[_0x16a41f(0xaae)](_0x2ac62d)['filter'](([_0x52089c,_0x43d5d6])=>_0x43d5d6['status']===_0x16a41f(0x645))[_0x16a41f(0x791)](([_0x3b2c20,_0x31b388])=>{const _0x546ab9=_0x16a41f,_0x534049=_0x31b388[_0x546ab9(0x2e4)]===!![],_0x356e60=_0x534049?'bg-green-500':_0x546ab9(0x1c9),_0x2ab43f=_0x534049?_0x546ab9(0xb3a):_0x546ab9(0x778);return _0x546ab9(0x870)+_0x356e60+_0x546ab9(0x6ee)+_0x2ab43f+_0x546ab9(0x4d4)+_0x3b2c20+_0x546ab9(0xa29)+_0x3b2c20+_0x546ab9(0xacb);})['join']('');_0x14f639[_0x16a41f(0x1c3)]=_0x430d8c||_0x16a41f(0x264);}_0x2e12dd>0x0&&_0x5b8da5===_0x2e12dd&&revealAnswerForAdmin(_0x4b44f5,currentQuizData[_0x16a41f(0xa17)]['length']);}else{const _0x3e0c91=_0x31cb7f[_0x16a41f(0x526)][currentStudentName];_0x3e0c91&&!_0x3e0c91[_0x16a41f(0x2e4)]&&showStudentLiveQuestionView(_0x318933,_0x4b44f5,currentQuizData['questions'][_0x16a41f(0xa7c)]);}break;}}break;case _0x16a41f(0x95f):showPodiumView(_0x31cb7f[_0x16a41f(0x526)],_0x16a41f(0x27a));break;}});}async function handleKickPlayer(_0x706f5b){const _0x5b6c66=_0xbb2a9e;if(!currentLiveGameId||!_0x706f5b)return;const _0x3fa3b5=doc(db,'artifacts/'+appId+_0x5b6c66(0x8c4),currentLiveGameId),_0x2e4d71={};_0x2e4d71[_0x5b6c66(0x886)+_0x706f5b+_0x5b6c66(0x2f3)]=_0x5b6c66(0x541);try{await updateDoc(_0x3fa3b5,_0x2e4d71);}catch(_0x249dce){console['error'](_0x5b6c66(0x85e)+_0x706f5b+':',_0x249dce),showMessage(_0x5b6c66(0x7b8));}}async function authenticateUser(){const _0x1a8ad6=_0xbb2a9e;try{typeof __initial_auth_token!==_0x1a8ad6(0x378)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x210f33){console[_0x1a8ad6(0x746)](_0x1a8ad6(0x603),_0x210f33),showMessage(_0x1a8ad6(0x3ca));}}function showView(_0x5afab0){const _0x23cd52=_0xbb2a9e;adminView[_0x23cd52(0x431)][_0x23cd52(0x8af)](_0x23cd52(0x450)),studentView[_0x23cd52(0x431)][_0x23cd52(0x8af)](_0x23cd52(0x450)),projectDashboardView[_0x23cd52(0x431)][_0x23cd52(0x8af)](_0x23cd52(0x450)),projectDetailView[_0x23cd52(0x431)][_0x23cd52(0x8af)]('hidden'),quizResultsView[_0x23cd52(0x431)][_0x23cd52(0x8af)](_0x23cd52(0x450)),liveGameView['classList'][_0x23cd52(0x8af)](_0x23cd52(0x450)),studentInitialView[_0x23cd52(0x431)][_0x23cd52(0x8af)](_0x23cd52(0x450)),studentJoinGameView[_0x23cd52(0x431)]['add']('hidden'),studentNameSelectionView[_0x23cd52(0x431)][_0x23cd52(0x8af)]('hidden'),studentQuizArea[_0x23cd52(0x431)][_0x23cd52(0x8af)](_0x23cd52(0x450)),studentResultArea[_0x23cd52(0x431)][_0x23cd52(0x8af)]('hidden'),studentReadingArea[_0x23cd52(0x431)][_0x23cd52(0x8af)](_0x23cd52(0x450));const _0x13062c=document[_0x23cd52(0x9c1)](_0x23cd52(0x5ff)),_0x1ac38b=document[_0x23cd52(0x9c1)](_0x23cd52(0x644));if(_0x13062c)_0x13062c['classList'][_0x23cd52(0x8af)]('hidden');if(_0x1ac38b)_0x1ac38b['classList'][_0x23cd52(0x8af)](_0x23cd52(0x450));switch(_0x5afab0){case _0x23cd52(0x8e7):adminView[_0x23cd52(0x431)]['remove'](_0x23cd52(0x450)),projectDashboardView[_0x23cd52(0x431)][_0x23cd52(0x905)](_0x23cd52(0x450));break;case'project-detail':adminView['classList'][_0x23cd52(0x905)](_0x23cd52(0x450)),projectDetailView['classList'][_0x23cd52(0x905)]('hidden');break;case'quiz-results':adminView[_0x23cd52(0x431)][_0x23cd52(0x905)]('hidden'),quizResultsView[_0x23cd52(0x431)][_0x23cd52(0x905)](_0x23cd52(0x450));break;case _0x23cd52(0x7c9):studentView['classList'][_0x23cd52(0x905)]('hidden'),studentInitialView[_0x23cd52(0x431)][_0x23cd52(0x905)]('hidden');break;case _0x23cd52(0x50c):liveGameView[_0x23cd52(0x431)][_0x23cd52(0x905)](_0x23cd52(0x450));break;case _0x23cd52(0x1d2):studentView['classList'][_0x23cd52(0x905)](_0x23cd52(0x450));if(_0x13062c)_0x13062c[_0x23cd52(0x431)][_0x23cd52(0x905)](_0x23cd52(0x450));break;case _0x23cd52(0x753):studentView[_0x23cd52(0x431)][_0x23cd52(0x905)](_0x23cd52(0x450));if(_0x1ac38b)_0x1ac38b[_0x23cd52(0x431)][_0x23cd52(0x905)](_0x23cd52(0x450));break;default:studentView[_0x23cd52(0x431)][_0x23cd52(0x905)](_0x23cd52(0x450)),studentInitialView[_0x23cd52(0x431)]['remove']('hidden');break;}}function showJoinGameView(){const _0x1f0933=_0xbb2a9e;studentInitialView[_0x1f0933(0x431)][_0x1f0933(0x8af)](_0x1f0933(0x450)),studentJoinGameView[_0x1f0933(0x431)][_0x1f0933(0x905)](_0x1f0933(0x450));}async function handleSaveVisibilitySettings(){const _0x38dc66=_0xbb2a9e;if(!currentProjectId)return;const _0x470365=doc(db,_0x38dc66(0x44d)+appId+_0x38dc66(0xb3c),currentProjectId);try{await updateDoc(_0x470365,{'settings.showInStudentDashboard':document[_0x38dc66(0x9c1)](_0x38dc66(0x25f))[_0x38dc66(0x6a4)],'settings.isPasscodeEnabled':document['getElementById'](_0x38dc66(0x4a9))[_0x38dc66(0x6a4)],'settings.passcode':document[_0x38dc66(0x9c1)](_0x38dc66(0x9c9))[_0x38dc66(0x9b2)][_0x38dc66(0x9aa)]()}),showMessage(_0x38dc66(0x61f));}catch(_0x4d63b4){console[_0x38dc66(0x746)]('Error\x20saving\x20visibility\x20settings:',_0x4d63b4),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x535b9d=_0xbb2a9e,_0x36c97b=document[_0x535b9d(0x9c1)](_0x535b9d(0x5f3)),_0x5bb09a=document['getElementById'](_0x535b9d(0x6e6));_0x36c97b[_0x535b9d(0x4da)](_0x535b9d(0x9af),()=>{const _0x26ef23=_0x535b9d;_0x5bb09a[_0x26ef23(0x431)][_0x26ef23(0x5ea)](_0x26ef23(0x450),!_0x36c97b[_0x26ef23(0x6a4)]);});const _0x323390=document[_0x535b9d(0x9c1)]('confidence-scoring-checkbox'),_0xc6d339=document[_0x535b9d(0x9c1)](_0x535b9d(0x486));_0x323390[_0x535b9d(0x4da)](_0x535b9d(0x9af),()=>{const _0x4d2444=_0x535b9d;_0xc6d339[_0x4d2444(0x431)]['toggle'](_0x4d2444(0x450),!_0x323390[_0x4d2444(0x6a4)]);});const _0xb898d4=document[_0x535b9d(0x9c1)](_0x535b9d(0x210)),_0x5aca2b=document[_0x535b9d(0x9c1)]('modal-confidence-mode-container');_0xb898d4[_0x535b9d(0x4da)]('change',()=>{const _0xcc8028=_0x535b9d;_0x5aca2b['classList'][_0xcc8028(0x5ea)](_0xcc8028(0x450),!_0xb898d4['checked']);});const _0x38a1f3=document['getElementById'](_0x535b9d(0x336)),_0x368bfd=async _0x3a6dc7=>{const _0x2ba58c=_0x535b9d,_0x1ac7a1=document[_0x2ba58c(0x9c1)](_0x2ba58c(0x336)),_0x1197bd=_0x1ac7a1[_0x2ba58c(0x1f9)][_0x2ba58c(0x772)],_0x4f9c24=document[_0x2ba58c(0x9c1)](_0x2ba58c(0x843));_0x1ac7a1[_0x2ba58c(0x431)][_0x2ba58c(0x8af)](_0x2ba58c(0x450));if(_0x1197bd==='timed'){const _0x4f68e6=_0x4f9c24['value'],_0xeac534={'answer':_0x4f68e6,'wasConfident':_0x3a6dc7};proceedToNextQuestion(_0xeac534);}else{if(_0x1197bd===_0x2ba58c(0x52d)){const _0x3a6e9f=_0x4f9c24[_0x2ba58c(0x1f9)][_0x2ba58c(0x88d)],_0x3e7b7f=JSON['parse'](_0x4f9c24[_0x2ba58c(0x1f9)][_0x2ba58c(0x533)]),_0x358742=JSON[_0x2ba58c(0x74a)](_0x4f9c24['dataset'][_0x2ba58c(0x233)]),_0x260a4a=_0x4f9c24[_0x2ba58c(0x1f9)]['playerName'];handleSyncAnswerSubmit(_0x3a6e9f,_0x3e7b7f,_0x358742,_0x260a4a,_0x3a6dc7);}}_0x1ac7a1[_0x2ba58c(0x1f9)][_0x2ba58c(0x772)]='';};document[_0x535b9d(0x9c1)](_0x535b9d(0x5bb))[_0x535b9d(0x4da)]('click',()=>_0x368bfd(!![])),document[_0x535b9d(0x9c1)](_0x535b9d(0x69a))[_0x535b9d(0x4da)]('click',()=>_0x368bfd(![])),liveGameView['addEventListener'](_0x535b9d(0x3fb),_0x23bf79=>{const _0x2fde22=_0x535b9d,_0x3c12a3=_0x23bf79['target']['closest'](_0x2fde22(0x2ce));if(_0x3c12a3){const _0x500b8d=_0x3c12a3['dataset'][_0x2fde22(0x2e1)];_0x500b8d&&handleKickPlayerSync(_0x500b8d);}});const _0x16169a=document[_0x535b9d(0x9c1)](_0x535b9d(0x997)),_0x1424d4=document[_0x535b9d(0x9c1)](_0x535b9d(0x74c));_0x1424d4[_0x535b9d(0x4da)]('click',()=>{const _0x1365ae=_0x535b9d;document[_0x1365ae(0x9c1)]('confirm-game-start-modal')[_0x1365ae(0x431)][_0x1365ae(0x8af)](_0x1365ae(0x450));}),_0x16169a[_0x535b9d(0x4da)]('click',()=>{const _0x567f29=_0x535b9d,_0x538103=document[_0x567f29(0x9c1)](_0x567f29(0x8c6))[_0x567f29(0x9b2)],_0x53f1bb=document[_0x567f29(0x9c1)](_0x567f29(0x36c))[_0x567f29(0x9b2)],_0x1bc15a=document['getElementById'](_0x567f29(0x6b0))[_0x567f29(0x6a4)];document['getElementById'](_0x567f29(0x633))[_0x567f29(0x431)][_0x567f29(0x8af)](_0x567f29(0x450));switch(_0x53f1bb){case'live-race':handleStartLiveRace(_0x538103,_0x1bc15a);break;case _0x567f29(0x273):handleStartTeamQuiz(_0x538103,_0x1bc15a);break;case _0x567f29(0xab6):handleStartGroupMode(_0x538103,_0x1bc15a);break;case _0x567f29(0x52d):handleStartSyncMode(_0x538103,_0x1bc15a);break;}}),document[_0x535b9d(0x9c1)](_0x535b9d(0x583))[_0x535b9d(0x4da)]('click',handleJoinGroupActivity),liveGameView[_0x535b9d(0x4da)](_0x535b9d(0x3fb),_0x494ff9=>{const _0x35c1df=_0x535b9d,_0xa8fa5c=_0x494ff9[_0x35c1df(0x3a6)][_0x35c1df(0x775)](_0x35c1df(0x8d3));document['querySelectorAll'](_0x35c1df(0xab9))[_0x35c1df(0x803)](_0x14b12d=>{const _0x147a8a=_0x35c1df;(!_0xa8fa5c||_0x14b12d['id']!==_0xa8fa5c[_0x147a8a(0x1f9)][_0x147a8a(0x543)])&&_0x14b12d['classList']['remove'](_0x147a8a(0x400));});if(!_0xa8fa5c)return;const _0x50c23c=_0xa8fa5c[_0x35c1df(0x1f9)][_0x35c1df(0x543)],_0xd1201=document[_0x35c1df(0x9c1)](_0x50c23c);_0xd1201&&_0xd1201[_0x35c1df(0x431)][_0x35c1df(0x5ea)]('visible');}),liveGameView[_0x535b9d(0x4da)](_0x535b9d(0x3fb),_0x5b81ba=>{const _0x6b06c0=_0x535b9d;if(_0x5b81ba['target'][_0x6b06c0(0x431)][_0x6b06c0(0x7b4)](_0x6b06c0(0x7f2))){const _0x419958=_0x5b81ba[_0x6b06c0(0x3a6)][_0x6b06c0(0x1f9)][_0x6b06c0(0x2e1)];_0x419958&&handleKickPlayer(_0x419958);}}),document['getElementById'](_0x535b9d(0x8c8))[_0x535b9d(0x4da)]('focus',()=>document['getElementById'](_0x535b9d(0x487))[_0x535b9d(0x431)][_0x535b9d(0x905)](_0x535b9d(0x450))),document[_0x535b9d(0x9c1)](_0x535b9d(0x487))[_0x535b9d(0x4da)]('click',handleSaveProjectName),document[_0x535b9d(0x9c1)](_0x535b9d(0x8c8))[_0x535b9d(0x4da)](_0x535b9d(0x664),_0x2b75ae=>{const _0x44322c=_0x535b9d;_0x2b75ae[_0x44322c(0x9bf)]==='Enter'&&(_0x2b75ae[_0x44322c(0x457)](),_0x2b75ae[_0x44322c(0x3a6)][_0x44322c(0x353)](),handleSaveProjectName());}),document[_0x535b9d(0x9c1)](_0x535b9d(0xb00))['addEventListener'](_0x535b9d(0x3fb),()=>{const _0x4dc7e8=_0x535b9d;document['getElementById'](_0x4dc7e8(0x6e5))['classList'][_0x4dc7e8(0x905)]('hidden');}),document['getElementById']('cancel-bulk-quiz-settings-btn')['addEventListener']('click',()=>{const _0x3f0f43=_0x535b9d;document[_0x3f0f43(0x9c1)](_0x3f0f43(0x6e5))['classList'][_0x3f0f43(0x8af)](_0x3f0f43(0x450));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x646))[_0x535b9d(0x4da)]('click',handleBulkUpdateQuizSettings),document[_0x535b9d(0x9c1)](_0x535b9d(0x20e))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleModeSwitch),document[_0x535b9d(0x9c1)](_0x535b9d(0x562))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleUpdateOldQuizzes),document['getElementById'](_0x535b9d(0xa7f))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleResetProjectOrder),document[_0x535b9d(0x9c1)]('save-visibility-settings-btn')[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleSaveVisibilitySettings),document[_0x535b9d(0x9c1)](_0x535b9d(0x90b))[_0x535b9d(0x4da)]('click',handleAddCustomMathTopic),document[_0x535b9d(0x9c1)](_0x535b9d(0x822))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleSelectAllTopics),document[_0x535b9d(0x9c1)](_0x535b9d(0x23f))[_0x535b9d(0x4da)]('click',handleDeselectAllTopics),document['getElementById'](_0x535b9d(0x926))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x5dea9d=_0x535b9d;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5dea9d(0x8e7));}),document[_0x535b9d(0x9c1)]('back-to-project-btn')[_0x535b9d(0x4da)]('click',()=>{const _0x1bcc18=_0x535b9d;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1bcc18(0x68d));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x771))[_0x535b9d(0x4da)]('click',()=>{const _0x1ec594=_0x535b9d;showView(_0x1ec594(0x8e7));}),document[_0x535b9d(0x9c1)](_0x535b9d(0xb4d))[_0x535b9d(0x4da)]('click',()=>{const _0xe3e25d=_0x535b9d;messageModal[_0xe3e25d(0x431)][_0xe3e25d(0x8af)]('hidden'),typeof modalConfirmAction===_0xe3e25d(0xae0)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x535b9d(0x9c1)](_0x535b9d(0xaa4))['addEventListener'](_0x535b9d(0x3fb),()=>createProjectModal['classList']['remove'](_0x535b9d(0x450))),document[_0x535b9d(0x9c1)](_0x535b9d(0x8de))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>createProjectModal[_0x535b9d(0x431)][_0x535b9d(0x8af)](_0x535b9d(0x450))),document[_0x535b9d(0x9c1)](_0x535b9d(0x3ae))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>adminPasswordModal['classList'][_0x535b9d(0x8af)](_0x535b9d(0x450))),document[_0x535b9d(0x9c1)](_0x535b9d(0x954))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleAdminLogin),document['getElementById'](_0x535b9d(0x313))[_0x535b9d(0x4da)](_0x535b9d(0x87d),_0x6c0e87=>{const _0x2831cc=_0x535b9d;if(_0x6c0e87[_0x2831cc(0x9bf)]==='Enter')handleAdminLogin();}),document['getElementById']('cancel-delete-btn')[_0x535b9d(0x4da)]('click',()=>{const _0xfa804e=_0x535b9d;confirmationModal[_0xfa804e(0x431)][_0xfa804e(0x8af)](_0xfa804e(0x450)),confirmAction=null;}),document[_0x535b9d(0x9c1)](_0x535b9d(0x877))[_0x535b9d(0x4da)]('click',()=>{const _0x11b66d=_0x535b9d;confirmAction&&confirmAction(),confirmationModal[_0x11b66d(0x431)]['add']('hidden'),confirmAction=null;}),document[_0x535b9d(0x9c1)](_0x535b9d(0x1c7))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>renameQuizModal[_0x535b9d(0x431)][_0x535b9d(0x8af)](_0x535b9d(0x450))),document[_0x535b9d(0x9c1)](_0x535b9d(0x436))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),confirmRenameQuiz),document[_0x535b9d(0x9c1)](_0x535b9d(0xb4f))['addEventListener'](_0x535b9d(0x3fb),()=>moveQuizModal[_0x535b9d(0x431)][_0x535b9d(0x8af)](_0x535b9d(0x450))),document[_0x535b9d(0x9c1)](_0x535b9d(0x3c3))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),confirmMoveQuiz),document[_0x535b9d(0x9c1)](_0x535b9d(0x99b))['addEventListener'](_0x535b9d(0x3fb),()=>quizSettingsModal[_0x535b9d(0x431)][_0x535b9d(0x8af)](_0x535b9d(0x450))),document['getElementById'](_0x535b9d(0x6e7))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),confirmQuizSettings),document[_0x535b9d(0x9c1)](_0x535b9d(0x9c0))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>quizStatusModal['classList'][_0x535b9d(0x8af)](_0x535b9d(0x450))),document[_0x535b9d(0x9c1)](_0x535b9d(0x7dd))[_0x535b9d(0x4da)]('click',confirmQuizStatus);const _0x325ab6=document['getElementById']('export-pdf-modal');document[_0x535b9d(0x9c1)](_0x535b9d(0x30e))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x528586=_0x535b9d;_0x325ab6[_0x528586(0x431)][_0x528586(0x8af)](_0x528586(0x450));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x5e1))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),async()=>{const _0x560e71=_0x535b9d,_0x1af547=allQuizzes[_0x560e71(0x748)](_0x3f8bd8=>_0x3f8bd8['id']===actionTargetId);_0x1af547?(currentQuizData=_0x1af547,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x325ab6['classList'][_0x560e71(0x8af)]('hidden');}),document[_0x535b9d(0x9c1)]('export-tutor-pdf-btn')['addEventListener'](_0x535b9d(0x3fb),async()=>{const _0x29d517=_0x535b9d,_0x1156b6=allQuizzes[_0x29d517(0x748)](_0x4072fe=>_0x4072fe['id']===actionTargetId);_0x1156b6?(currentQuizData=_0x1156b6,exportQuizAsTutorPDF()):showMessage(_0x29d517(0x931)),_0x325ab6[_0x29d517(0x431)][_0x29d517(0x8af)]('hidden');}),document[_0x535b9d(0x9c1)](_0x535b9d(0x3c5))['addEventListener'](_0x535b9d(0x3fb),openGlobalLiveModal),document['getElementById'](_0x535b9d(0x764))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x5a71e2=_0x535b9d;document[_0x5a71e2(0x9c1)](_0x5a71e2(0x284))[_0x5a71e2(0x431)][_0x5a71e2(0x8af)]('hidden'),selectedGlobalQuizId=null;}),document[_0x535b9d(0x9c1)]('global-quiz-search-input')[_0x535b9d(0x4da)](_0x535b9d(0x43a),_0x317bf3=>renderGlobalQuizList(_0x317bf3[_0x535b9d(0x3a6)][_0x535b9d(0x9b2)])),document[_0x535b9d(0x9c1)](_0x535b9d(0x48f))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x1174df=_0x535b9d,_0x13377f=selectedGlobalQuizId;if(!_0x13377f)return;document[_0x1174df(0x9c1)]('global-live-game-modal')[_0x1174df(0x431)][_0x1174df(0x8af)](_0x1174df(0x450)),handleStartLiveRace(_0x13377f);}),document['getElementById'](_0x535b9d(0xa11))[_0x535b9d(0x4da)](_0x535b9d(0x43a),renderProjects),document[_0x535b9d(0x9c1)](_0x535b9d(0x5f2))[_0x535b9d(0x4da)](_0x535b9d(0x9af),async()=>{const _0x47361f=_0x535b9d,_0xc5bb=document[_0x47361f(0x9c1)]('project-sort-select')[_0x47361f(0x9b2)],_0x48ec25=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x48ec25,{'projectSort':_0xc5bb},{'merge':!![]});}catch(_0x3f7c96){console[_0x47361f(0x746)](_0x47361f(0x263),_0x3f7c96),showMessage(_0x47361f(0x662));}}),document[_0x535b9d(0x9c1)](_0x535b9d(0x1d7))[_0x535b9d(0x4da)]('input',renderQuizzes),document['getElementById'](_0x535b9d(0x6e0))[_0x535b9d(0x4da)]('click',()=>{const _0x105950=_0x535b9d;globalDashboardSettings[_0x105950(0x661)]=_0x105950(0x637),saveUserPreference(_0x105950(0x661),_0x105950(0x637)),renderProjects();}),document[_0x535b9d(0x9c1)](_0x535b9d(0x2a1))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x1c1c9d=_0x535b9d;globalDashboardSettings[_0x1c1c9d(0x661)]=_0x1c1c9d(0x34b),saveUserPreference(_0x1c1c9d(0x661),_0x1c1c9d(0x34b)),renderProjects();}),manageTab[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>switchProjectTab(_0x535b9d(0x660))),resultsTab[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>switchProjectTab(_0x535b9d(0x573))),leaderboardTab[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>switchProjectTab('leaderboard')),document['getElementById'](_0x535b9d(0x3e6))['addEventListener'](_0x535b9d(0x3fb),()=>switchQuizDetailTab(_0x535b9d(0x38d))),document['getElementById'](_0x535b9d(0x322))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>switchQuizDetailTab(_0x535b9d(0x840))),document[_0x535b9d(0x9c1)](_0x535b9d(0x9c5))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>switchQuizDetailTab(_0x535b9d(0x1e8))),document[_0x535b9d(0x9c1)](_0x535b9d(0x1e1))['addEventListener'](_0x535b9d(0x3fb),()=>switchQuizDetailTab('behavior-log')),document[_0x535b9d(0x9c1)](_0x535b9d(0x7e0))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x464a98=document[_0x535b9d(0x9c1)](_0x535b9d(0x39b)),_0x12d867=document['getElementById'](_0x535b9d(0x55a)),_0x4ab31e=document[_0x535b9d(0x9c1)](_0x535b9d(0x943)),_0x2e4b1f=document[_0x535b9d(0x9c1)](_0x535b9d(0x893)),_0x321a78=document[_0x535b9d(0x9c1)](_0x535b9d(0x38e)),_0x48d7a7=document[_0x535b9d(0x9c1)](_0x535b9d(0x980));topicTab[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x4a0d12=_0x535b9d;topicTab[_0x4a0d12(0x431)]['add']('active'),textTab['classList'][_0x4a0d12(0x905)](_0x4a0d12(0x645)),fileTab['classList'][_0x4a0d12(0x905)]('active'),worksheetTab[_0x4a0d12(0x431)][_0x4a0d12(0x905)](_0x4a0d12(0x645));if(_0x464a98)_0x464a98[_0x4a0d12(0x431)][_0x4a0d12(0x905)](_0x4a0d12(0x645));if(_0x4ab31e)_0x4ab31e[_0x4a0d12(0x431)][_0x4a0d12(0x905)]('active');if(_0x321a78)_0x321a78[_0x4a0d12(0x431)][_0x4a0d12(0x905)](_0x4a0d12(0x645));topicInputArea['classList'][_0x4a0d12(0x905)](_0x4a0d12(0x450)),textInputArea['classList'][_0x4a0d12(0x8af)](_0x4a0d12(0x450)),fileInputArea[_0x4a0d12(0x431)][_0x4a0d12(0x8af)](_0x4a0d12(0x450)),worksheetInputArea['classList']['add'](_0x4a0d12(0x450));if(_0x12d867)_0x12d867[_0x4a0d12(0x431)][_0x4a0d12(0x8af)](_0x4a0d12(0x450));if(_0x2e4b1f)_0x2e4b1f['classList'][_0x4a0d12(0x8af)](_0x4a0d12(0x450));if(_0x48d7a7)_0x48d7a7['classList'][_0x4a0d12(0x8af)](_0x4a0d12(0x450));}),textTab[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x11920b=_0x535b9d;textTab[_0x11920b(0x431)][_0x11920b(0x8af)](_0x11920b(0x645)),topicTab['classList'][_0x11920b(0x905)](_0x11920b(0x645)),fileTab['classList'][_0x11920b(0x905)]('active'),worksheetTab[_0x11920b(0x431)][_0x11920b(0x905)](_0x11920b(0x645));if(_0x464a98)_0x464a98['classList'][_0x11920b(0x905)](_0x11920b(0x645));if(_0x4ab31e)_0x4ab31e[_0x11920b(0x431)][_0x11920b(0x905)](_0x11920b(0x645));if(_0x321a78)_0x321a78[_0x11920b(0x431)]['remove']('active');textInputArea['classList']['remove'](_0x11920b(0x450)),topicInputArea[_0x11920b(0x431)][_0x11920b(0x8af)](_0x11920b(0x450)),fileInputArea[_0x11920b(0x431)][_0x11920b(0x8af)](_0x11920b(0x450)),worksheetInputArea[_0x11920b(0x431)][_0x11920b(0x8af)](_0x11920b(0x450));if(_0x12d867)_0x12d867[_0x11920b(0x431)][_0x11920b(0x8af)](_0x11920b(0x450));if(_0x2e4b1f)_0x2e4b1f[_0x11920b(0x431)][_0x11920b(0x8af)](_0x11920b(0x450));if(_0x48d7a7)_0x48d7a7['classList'][_0x11920b(0x8af)](_0x11920b(0x450));}),fileTab[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x153fce=_0x535b9d;fileTab[_0x153fce(0x431)][_0x153fce(0x8af)]('active'),topicTab[_0x153fce(0x431)][_0x153fce(0x905)](_0x153fce(0x645)),textTab[_0x153fce(0x431)][_0x153fce(0x905)](_0x153fce(0x645)),worksheetTab[_0x153fce(0x431)][_0x153fce(0x905)](_0x153fce(0x645));if(_0x464a98)_0x464a98['classList'][_0x153fce(0x905)](_0x153fce(0x645));if(_0x4ab31e)_0x4ab31e[_0x153fce(0x431)][_0x153fce(0x905)](_0x153fce(0x645));if(_0x321a78)_0x321a78['classList'][_0x153fce(0x905)](_0x153fce(0x645));fileInputArea[_0x153fce(0x431)][_0x153fce(0x905)](_0x153fce(0x450)),topicInputArea['classList'][_0x153fce(0x8af)](_0x153fce(0x450)),textInputArea[_0x153fce(0x431)]['add']('hidden'),worksheetInputArea[_0x153fce(0x431)][_0x153fce(0x8af)](_0x153fce(0x450));if(_0x12d867)_0x12d867[_0x153fce(0x431)]['add'](_0x153fce(0x450));if(_0x2e4b1f)_0x2e4b1f[_0x153fce(0x431)][_0x153fce(0x8af)]('hidden');if(_0x48d7a7)_0x48d7a7[_0x153fce(0x431)][_0x153fce(0x8af)](_0x153fce(0x450));}),worksheetTab[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x40bc38=_0x535b9d;worksheetTab[_0x40bc38(0x431)]['add'](_0x40bc38(0x645)),topicTab[_0x40bc38(0x431)][_0x40bc38(0x905)](_0x40bc38(0x645)),textTab[_0x40bc38(0x431)]['remove'](_0x40bc38(0x645)),fileTab[_0x40bc38(0x431)][_0x40bc38(0x905)](_0x40bc38(0x645));if(_0x464a98)_0x464a98[_0x40bc38(0x431)][_0x40bc38(0x905)](_0x40bc38(0x645));if(_0x4ab31e)_0x4ab31e[_0x40bc38(0x431)]['remove']('active');if(_0x321a78)_0x321a78[_0x40bc38(0x431)][_0x40bc38(0x905)](_0x40bc38(0x645));worksheetInputArea[_0x40bc38(0x431)][_0x40bc38(0x905)](_0x40bc38(0x450)),topicInputArea[_0x40bc38(0x431)]['add'](_0x40bc38(0x450)),textInputArea[_0x40bc38(0x431)][_0x40bc38(0x8af)](_0x40bc38(0x450)),fileInputArea[_0x40bc38(0x431)][_0x40bc38(0x8af)](_0x40bc38(0x450));if(_0x12d867)_0x12d867[_0x40bc38(0x431)][_0x40bc38(0x8af)](_0x40bc38(0x450));if(_0x2e4b1f)_0x2e4b1f[_0x40bc38(0x431)][_0x40bc38(0x8af)](_0x40bc38(0x450));if(_0x48d7a7)_0x48d7a7[_0x40bc38(0x431)][_0x40bc38(0x8af)](_0x40bc38(0x450));});const _0x5d45a5=document[_0x535b9d(0x9c1)]('bank-tab'),_0x58a29a=document['getElementById'](_0x535b9d(0x237));_0x5d45a5&&_0x5d45a5[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x441d7c=_0x535b9d;topicTab['classList']['remove'](_0x441d7c(0x645)),textTab[_0x441d7c(0x431)][_0x441d7c(0x905)](_0x441d7c(0x645)),fileTab[_0x441d7c(0x431)][_0x441d7c(0x905)](_0x441d7c(0x645)),worksheetTab['classList'][_0x441d7c(0x905)](_0x441d7c(0x645));if(_0x464a98)_0x464a98['classList'][_0x441d7c(0x905)](_0x441d7c(0x645));if(_0x4ab31e)_0x4ab31e[_0x441d7c(0x431)][_0x441d7c(0x905)](_0x441d7c(0x645));if(_0x321a78)_0x321a78[_0x441d7c(0x431)][_0x441d7c(0x905)](_0x441d7c(0x645));_0x5d45a5['classList'][_0x441d7c(0x8af)](_0x441d7c(0x645)),topicInputArea[_0x441d7c(0x431)]['add'](_0x441d7c(0x450)),textInputArea['classList']['add'](_0x441d7c(0x450)),fileInputArea['classList'][_0x441d7c(0x8af)]('hidden'),worksheetInputArea[_0x441d7c(0x431)]['add']('hidden');if(_0x12d867)_0x12d867[_0x441d7c(0x431)][_0x441d7c(0x8af)]('hidden');if(_0x2e4b1f)_0x2e4b1f[_0x441d7c(0x431)]['add'](_0x441d7c(0x450));if(_0x48d7a7)_0x48d7a7[_0x441d7c(0x431)][_0x441d7c(0x8af)](_0x441d7c(0x450));_0x58a29a[_0x441d7c(0x431)][_0x441d7c(0x905)](_0x441d7c(0x450)),displayQuestionBank();});_0x464a98&&(_0x464a98['addEventListener'](_0x535b9d(0x3fb),()=>{const _0x2fdda7=_0x535b9d;_0x464a98[_0x2fdda7(0x431)][_0x2fdda7(0x8af)](_0x2fdda7(0x645)),topicTab[_0x2fdda7(0x431)][_0x2fdda7(0x905)]('active'),textTab['classList']['remove']('active'),fileTab['classList'][_0x2fdda7(0x905)](_0x2fdda7(0x645)),worksheetTab[_0x2fdda7(0x431)][_0x2fdda7(0x905)]('active');if(_0x4ab31e)_0x4ab31e[_0x2fdda7(0x431)][_0x2fdda7(0x905)]('active');if(_0x321a78)_0x321a78[_0x2fdda7(0x431)][_0x2fdda7(0x905)](_0x2fdda7(0x645));_0x12d867[_0x2fdda7(0x431)][_0x2fdda7(0x905)](_0x2fdda7(0x450)),topicInputArea[_0x2fdda7(0x431)][_0x2fdda7(0x8af)](_0x2fdda7(0x450)),textInputArea[_0x2fdda7(0x431)][_0x2fdda7(0x8af)]('hidden'),fileInputArea[_0x2fdda7(0x431)][_0x2fdda7(0x8af)]('hidden'),worksheetInputArea[_0x2fdda7(0x431)][_0x2fdda7(0x8af)](_0x2fdda7(0x450));if(_0x2e4b1f)_0x2e4b1f[_0x2fdda7(0x431)][_0x2fdda7(0x8af)]('hidden');if(_0x48d7a7)_0x48d7a7['classList']['add'](_0x2fdda7(0x450));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x3a7))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleGenerateFromLink));_0x4ab31e&&_0x4ab31e['addEventListener'](_0x535b9d(0x3fb),()=>{const _0x4856f0=_0x535b9d;_0x4ab31e[_0x4856f0(0x431)][_0x4856f0(0x8af)](_0x4856f0(0x645)),topicTab[_0x4856f0(0x431)]['remove']('active'),textTab['classList'][_0x4856f0(0x905)](_0x4856f0(0x645)),fileTab[_0x4856f0(0x431)]['remove']('active'),worksheetTab[_0x4856f0(0x431)][_0x4856f0(0x905)](_0x4856f0(0x645));if(_0x464a98)_0x464a98[_0x4856f0(0x431)][_0x4856f0(0x905)](_0x4856f0(0x645));if(_0x5d45a5)_0x5d45a5[_0x4856f0(0x431)]['remove'](_0x4856f0(0x645));if(_0x321a78)_0x321a78[_0x4856f0(0x431)][_0x4856f0(0x905)](_0x4856f0(0x645));_0x2e4b1f['classList'][_0x4856f0(0x905)](_0x4856f0(0x450)),topicInputArea[_0x4856f0(0x431)][_0x4856f0(0x8af)](_0x4856f0(0x450)),textInputArea[_0x4856f0(0x431)]['add'](_0x4856f0(0x450)),fileInputArea[_0x4856f0(0x431)]['add'](_0x4856f0(0x450)),worksheetInputArea['classList'][_0x4856f0(0x8af)](_0x4856f0(0x450));if(_0x12d867)_0x12d867[_0x4856f0(0x431)]['add'](_0x4856f0(0x450));if(_0x58a29a)_0x58a29a[_0x4856f0(0x431)][_0x4856f0(0x8af)]('hidden');if(_0x48d7a7)_0x48d7a7['classList']['add'](_0x4856f0(0x450));});_0x321a78&&_0x321a78['addEventListener']('click',()=>{const _0x2f0232=_0x535b9d;_0x321a78[_0x2f0232(0x431)][_0x2f0232(0x8af)](_0x2f0232(0x645)),topicTab[_0x2f0232(0x431)][_0x2f0232(0x905)](_0x2f0232(0x645)),textTab[_0x2f0232(0x431)][_0x2f0232(0x905)](_0x2f0232(0x645)),fileTab[_0x2f0232(0x431)][_0x2f0232(0x905)](_0x2f0232(0x645)),worksheetTab[_0x2f0232(0x431)][_0x2f0232(0x905)](_0x2f0232(0x645));if(_0x464a98)_0x464a98[_0x2f0232(0x431)]['remove']('active');if(_0x4ab31e)_0x4ab31e[_0x2f0232(0x431)]['remove'](_0x2f0232(0x645));if(_0x5d45a5)_0x5d45a5[_0x2f0232(0x431)][_0x2f0232(0x905)]('active');_0x48d7a7[_0x2f0232(0x431)][_0x2f0232(0x905)](_0x2f0232(0x450)),topicInputArea[_0x2f0232(0x431)][_0x2f0232(0x8af)](_0x2f0232(0x450)),textInputArea['classList'][_0x2f0232(0x8af)]('hidden'),fileInputArea['classList'][_0x2f0232(0x8af)](_0x2f0232(0x450)),worksheetInputArea[_0x2f0232(0x431)]['add'](_0x2f0232(0x450));if(_0x12d867)_0x12d867[_0x2f0232(0x431)][_0x2f0232(0x8af)](_0x2f0232(0x450));if(_0x2e4b1f)_0x2e4b1f[_0x2f0232(0x431)][_0x2f0232(0x8af)](_0x2f0232(0x450));if(_0x58a29a)_0x58a29a[_0x2f0232(0x431)][_0x2f0232(0x8af)]('hidden');});const _0x571d78=document[_0x535b9d(0x9c1)](_0x535b9d(0x674)),_0x1af148=document[_0x535b9d(0x9c1)](_0x535b9d(0x818));if(_0x571d78){const _0x21469b=document[_0x535b9d(0x9c1)](_0x535b9d(0x674)),_0x562b8c=document[_0x535b9d(0x9c1)](_0x535b9d(0x818)),_0x5135ae=document[_0x535b9d(0x9c1)](_0x535b9d(0x1f0)),_0x2ea1d2=document[_0x535b9d(0x9c1)](_0x535b9d(0x3b5)),_0x5938f9=document[_0x535b9d(0x9c1)](_0x535b9d(0x79e)),_0x193610=document[_0x535b9d(0x9c1)](_0x535b9d(0x8e8));_0x21469b&&_0x21469b[_0x535b9d(0x4da)](_0x535b9d(0x9af),async _0x4fad8d=>{const _0x2acb3a=_0x535b9d;_0x5135ae[_0x2acb3a(0x431)][_0x2acb3a(0x8af)](_0x2acb3a(0x450)),_0x5938f9['classList']['add']('hidden'),_0x2ea1d2[_0x2acb3a(0x6a4)]=![],_0x562b8c['disabled']=!![];const _0x59a529=_0x4fad8d[_0x2acb3a(0x3a6)][_0x2acb3a(0x3e7)][0x0];if(_0x59a529){_0x562b8c[_0x2acb3a(0x9d7)]=![];try{const _0x596417=await extractTextFromPdf(_0x59a529);await analyzeBlueprintForTopics(_0x596417);}catch(_0x10216a){showMessage(_0x2acb3a(0x3fa)),_0x5135ae['classList'][_0x2acb3a(0x8af)](_0x2acb3a(0x450));}}}),_0x2ea1d2&&_0x2ea1d2['addEventListener'](_0x535b9d(0x9af),_0x1c8bc4=>{const _0x3ff62f=_0x535b9d,_0x50a213=_0x1c8bc4[_0x3ff62f(0x3a6)]['checked'];_0x5938f9['classList']['toggle'](_0x3ff62f(0x450),!_0x50a213),_0x562b8c[_0x3ff62f(0x9d7)]=_0x50a213;}),_0x193610&&(_0x193610&&_0x193610['addEventListener']('click',_0x21789f=>{const _0xe435e8=_0x535b9d,_0x36e5bd=_0x21789f[_0xe435e8(0x3a6)][_0xe435e8(0x775)](_0xe435e8(0x3b4)),_0x264977=_0x21789f[_0xe435e8(0x3a6)][_0xe435e8(0x775)]('.generate-content-btn');if(_0x36e5bd){const _0x39d8ed=unescape(_0x36e5bd[_0xe435e8(0x1f9)][_0xe435e8(0xb4a)]);generateQuizForSingleTopic(_0x39d8ed);}else{if(_0x264977){const _0x50cbe1=unescape(_0x264977[_0xe435e8(0x1f9)][_0xe435e8(0xb4a)]);handleGenerateTeachingContent(_0x50cbe1);}}}));}_0x1af148&&_0x1af148['addEventListener'](_0x535b9d(0x3fb),handleGenerateFromBlueprint);const _0x2bede0=document[_0x535b9d(0x9c1)](_0x535b9d(0x448)),_0x448f2e=document[_0x535b9d(0x9c1)](_0x535b9d(0x4c1));_0x2bede0&&_0x2bede0['addEventListener'](_0x535b9d(0x9af),_0x29855c=>{const _0x3579d8=_0x535b9d;_0x448f2e[_0x3579d8(0x9d7)]=_0x29855c[_0x3579d8(0x3a6)][_0x3579d8(0x3e7)][_0x3579d8(0xa7c)]===0x0;});_0x448f2e&&_0x448f2e[_0x535b9d(0x4da)]('click',handleGenerateParallelTest);loadQuizBtn[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleLoadQuiz),startQuizBtn[_0x535b9d(0x4da)](_0x535b9d(0x3fb),async()=>{const _0x268bd3=_0x535b9d,_0x4375ff=document[_0x268bd3(0x9c1)](_0x268bd3(0x5b3));currentStudentName=_0x4375ff['value'];if(!currentStudentName){showMessage(_0x268bd3(0xb22));return;}try{const _0x30a350=currentQuizData['id'],_0x2532bb=doc(db,_0x268bd3(0x44d)+appId+_0x268bd3(0x3b6)+_0x30a350+_0x268bd3(0x6d8),currentStudentName),_0x4d4573=await getDoc(_0x2532bb);!_0x4d4573['exists']()?await setDoc(_0x2532bb,{'studentName':currentStudentName,'startedAt':new Date()[_0x268bd3(0x8eb)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x2532bb,{'startedAt':new Date()[_0x268bd3(0x8eb)]()});}catch(_0x17cbe1){console[_0x268bd3(0x746)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x17cbe1),showMessage(_0x268bd3(0x2bb));return;}studentNameSelectionView[_0x268bd3(0x431)][_0x268bd3(0x8af)](_0x268bd3(0x450)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x535b9d(0x9c1)]('join-live-game-btn')['addEventListener'](_0x535b9d(0x3fb),showJoinGameView),document['getElementById'](_0x535b9d(0x375))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleJoinLiveGame),document[_0x535b9d(0x9c1)](_0x535b9d(0x555))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>showView(_0x535b9d(0x7c9)));const _0x4e3228=()=>{const _0x3cc131=_0x535b9d,_0x484747=document['getElementById'](_0x3cc131(0xacf))[_0x3cc131(0x410)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3cc131(0x8ca)+(_0x484747||_0x3cc131(0x71e));},_0x4ecd98=document['getElementById']('math-topic-search-input');_0x4ecd98&&_0x4ecd98['addEventListener'](_0x535b9d(0x43a),_0x1f780d=>{const _0x1a68a8=_0x535b9d,_0x4616c9=_0x1f780d[_0x1a68a8(0x3a6)]['value']['toLowerCase']()[_0x1a68a8(0x9aa)](),_0x42acfc=document[_0x1a68a8(0x9c1)](_0x1a68a8(0x8a3)),_0x32746d=_0x42acfc['querySelectorAll'](_0x1a68a8(0x5eb));_0x32746d['forEach'](_0x36a07b=>{const _0x494d54=_0x1a68a8;let _0x12fb2a=![];const _0x1466f3=_0x36a07b[_0x494d54(0x345)]('.topic-row');_0x1466f3[_0x494d54(0x803)](_0x293d06=>{const _0x50bf25=_0x494d54,_0x34ccbe=_0x293d06[_0x50bf25(0x729)](_0x50bf25(0x53a))['textContent'][_0x50bf25(0x57e)]();_0x34ccbe[_0x50bf25(0x913)](_0x4616c9)?(_0x293d06[_0x50bf25(0x29c)]['display']=_0x50bf25(0x1e7),_0x12fb2a=!![]):_0x293d06[_0x50bf25(0x29c)]['display']=_0x50bf25(0x806);}),_0x12fb2a?_0x36a07b[_0x494d54(0x29c)][_0x494d54(0x6ae)]='block':_0x36a07b[_0x494d54(0x29c)]['display']='none';});});document[_0x535b9d(0x9c1)](_0x535b9d(0x94e))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>exportTableAsImage(_0x535b9d(0x56f),_0x4e3228())),document[_0x535b9d(0x9c1)](_0x535b9d(0x4dd))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>exportTableAsPDF('results-table',_0x4e3228())),document[_0x535b9d(0x9c1)](_0x535b9d(0x710))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>exportTableAsWord(_0x535b9d(0x56f),_0x4e3228())),document[_0x535b9d(0x9c1)](_0x535b9d(0xb4c))[_0x535b9d(0x4da)]('click',()=>exportTableAsExcel(_0x535b9d(0x207),_0x4e3228()));const _0x55dea5=()=>{const _0x228bd1=_0x535b9d,_0x5e3b5c=document[_0x228bd1(0x9c1)]('results-quiz-title')[_0x228bd1(0x410)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x228bd1(0x89c)+(_0x5e3b5c||'quiz');};document['getElementById'](_0x535b9d(0x29d))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>exportTableAsImage(_0x535b9d(0x37a),_0x55dea5())),document[_0x535b9d(0x9c1)](_0x535b9d(0x5c2))[_0x535b9d(0x4da)]('click',()=>exportTableAsPDF(_0x535b9d(0x8ff),_0x55dea5())),document[_0x535b9d(0x9c1)](_0x535b9d(0x5fa))['addEventListener']('click',()=>exportTableAsWord(_0x535b9d(0x37a),_0x55dea5())),document[_0x535b9d(0x9c1)](_0x535b9d(0x468))['addEventListener']('click',()=>exportTableAsExcel('quiz-leaderboard-table',_0x55dea5())),projectQuizzesList['addEventListener'](_0x535b9d(0x3fb),async _0x516c65=>{const _0x6c3686=_0x535b9d,_0x2a9b41=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)](_0x6c3686(0x917)),_0x2fda2c=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)](_0x6c3686(0x274)),_0x282a7b=_0x516c65['target'][_0x6c3686(0x775)](_0x6c3686(0xaea)),_0x14a85d=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)]('.generate-lesson-btn'),_0x18ef9c=_0x516c65[_0x6c3686(0x3a6)]['closest']('.star-quiz-btn'),_0x3d80f6=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)]('.copy-quiz-id-list-btn'),_0x16af73=_0x516c65['target'][_0x6c3686(0x775)](_0x6c3686(0x983)),_0x8d4548=_0x516c65['target'][_0x6c3686(0x775)](_0x6c3686(0x7d9)),_0x3c4334=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)]('.duplicate-quiz-btn'),_0x1fa9ea=_0x516c65['target'][_0x6c3686(0x775)]('.rename-quiz-btn'),_0x2648b4=_0x516c65['target'][_0x6c3686(0x775)](_0x6c3686(0x725)),_0x17c3e1=_0x516c65['target'][_0x6c3686(0x775)](_0x6c3686(0x850)),_0x1aacf1=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)](_0x6c3686(0x9f2)),_0x451214=_0x516c65['target'][_0x6c3686(0x775)]('.unpair-quiz-btn'),_0x48045e=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)](_0x6c3686(0x5d8)),_0x49d3ef=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)](_0x6c3686(0x6b1)),_0x2a0ff9=_0x516c65['target'][_0x6c3686(0x775)]('.export-pdf-list-btn'),_0x371702=_0x516c65[_0x6c3686(0x3a6)]['closest']('.delete-quiz-btn'),_0x5199c6=_0x516c65['target'][_0x6c3686(0x775)](_0x6c3686(0x942)),_0x39a1ba=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)](_0x6c3686(0x749)),_0x9d1f3e=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)](_0x6c3686(0x8dc)),_0x1e86b3=_0x516c65[_0x6c3686(0x3a6)]['closest'](_0x6c3686(0x4a3)),_0x5a5114=_0x516c65[_0x6c3686(0x3a6)][_0x6c3686(0x775)](_0x6c3686(0x5c9));if(_0x1e86b3){const _0x1e1833=_0x1e86b3[_0x6c3686(0x1f9)][_0x6c3686(0x521)],_0x538561=_0x1e86b3['dataset'][_0x6c3686(0x247)],_0x3ac5c8=allQuizzes[_0x6c3686(0x748)](_0xa50352=>_0xa50352['id']===_0x1e1833);_0x3ac5c8&&showGameStartConfirmationModal(_0x1e1833,_0x538561,_0x3ac5c8['topic']);}else{if(_0x5a5114){const _0x4a6e72=_0x5a5114['dataset'][_0x6c3686(0x521)];handleStartLiveRace(_0x4a6e72);}else{if(_0x39a1ba){const _0x213c8c=_0x39a1ba['dataset'][_0x6c3686(0x521)],_0x4a7cec=document['getElementById'](_0x6c3686(0x39d)+_0x213c8c);_0x4a7cec&&_0x4a7cec[_0x6c3686(0x431)]['toggle'](_0x6c3686(0x450));}else{if(_0x2fda2c){const _0x41802c=_0x2fda2c['dataset'][_0x6c3686(0x521)],_0x5ee28d=allQuizzes['find'](_0x2c2801=>_0x2c2801['id']===_0x41802c);_0x5ee28d&&handleGenerateParallelPostTest(_0x5ee28d);}else{if(_0x282a7b)handleCompareResults(_0x282a7b[_0x6c3686(0x1f9)][_0x6c3686(0x521)],_0x282a7b['dataset'][_0x6c3686(0x7b9)]);else{if(_0x14a85d){const _0x22ca0b=_0x14a85d[_0x6c3686(0x1f9)]['quizId'],_0x3cbc4d=allQuizzes[_0x6c3686(0x748)](_0xb9072e=>_0xb9072e['id']===_0x22ca0b);_0x3cbc4d&&_0x3cbc4d[_0x6c3686(0x6f0)]?(displayLessonPlan(_0x3cbc4d['lessonPlan'],_0x3cbc4d),showConfirmation(_0x6c3686(0x276),()=>handleGenerateLessonPlan(_0x22ca0b)),document['getElementById'](_0x6c3686(0x9e2))[_0x6c3686(0x729)]('h3')[_0x6c3686(0x410)]=_0x6c3686(0xa32),document['getElementById'](_0x6c3686(0x877))[_0x6c3686(0x410)]='สร้างใหม่'):handleGenerateLessonPlan(_0x22ca0b);}else{if(_0x18ef9c)handleToggleStarQuiz(_0x18ef9c[_0x6c3686(0x1f9)][_0x6c3686(0x521)]);else{if(_0x3d80f6)copyTextToClipboard(_0x3d80f6['dataset'][_0x6c3686(0x521)],_0x6c3686(0x6a3));else{if(_0x16af73)handleOpenQuizEditor(_0x16af73[_0x6c3686(0x1f9)][_0x6c3686(0x521)]);else{if(_0x8d4548)handleQuizSettings(_0x8d4548[_0x6c3686(0x1f9)][_0x6c3686(0x521)]);else{if(_0x3c4334)handleDuplicateQuiz(_0x3c4334['dataset'][_0x6c3686(0x521)]);else{if(_0x1fa9ea)handleRenameQuiz(_0x1fa9ea[_0x6c3686(0x1f9)][_0x6c3686(0x521)],_0x1fa9ea[_0x6c3686(0x1f9)][_0x6c3686(0xb4a)]);else{if(_0x2648b4){const _0x3026a4=_0x2648b4[_0x6c3686(0x1f9)][_0x6c3686(0x521)],_0x30bee8=allQuizzes[_0x6c3686(0x748)](_0x50ed49=>_0x50ed49['id']===_0x3026a4);_0x30bee8&&handleGenerateParallelFromBank(_0x30bee8);}else{if(_0x17c3e1)handleMoveQuiz(_0x17c3e1['dataset'][_0x6c3686(0x521)]);else{if(_0x1aacf1)handleManualQuizPairing(_0x1aacf1[_0x6c3686(0x1f9)][_0x6c3686(0x521)]);else{if(_0x451214)handleUnpairQuiz(_0x451214[_0x6c3686(0x1f9)][_0x6c3686(0x521)]);else{if(_0x48045e){const _0x2d15dd=_0x48045e['dataset'][_0x6c3686(0x521)],_0x239c78=allQuizzes[_0x6c3686(0x748)](_0x33321f=>_0x33321f['id']===_0x2d15dd);if(_0x239c78)startPresentation(_0x239c78);}else{if(_0x49d3ef){const _0xc2a2cc=_0x49d3ef[_0x6c3686(0x1f9)][_0x6c3686(0x521)],_0xa29ada=allQuizzes[_0x6c3686(0x748)](_0x5def5f=>_0x5def5f['id']===_0xc2a2cc);_0xa29ada&&(currentQuizData=_0xa29ada,startAdminTest());}else{if(_0x2a0ff9)actionTargetId=_0x2a0ff9['dataset'][_0x6c3686(0x521)],document['getElementById'](_0x6c3686(0x4c8))[_0x6c3686(0x431)][_0x6c3686(0x905)]('hidden');else{if(_0x371702)showConfirmation(_0x6c3686(0x387)+_0x371702[_0x6c3686(0x1f9)][_0x6c3686(0xb4a)]+_0x6c3686(0xa42),()=>handleDeleteQuiz(_0x371702['dataset'][_0x6c3686(0x521)]));else{if(_0x5199c6)handleQuizStatus(_0x5199c6[_0x6c3686(0x1f9)]['quizId']);else{if(_0x9d1f3e)handleGenerateEasyVersionQuiz(_0x9d1f3e[_0x6c3686(0x1f9)][_0x6c3686(0x521)]);else _0x2a9b41&&showQuizDetailView(_0x2a9b41[_0x6c3686(0x1f9)][_0x6c3686(0x521)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById']('cancel-team-selection-btn')[_0x535b9d(0x4da)]('click',()=>showView(_0x535b9d(0x7c9))),document[_0x535b9d(0x9c1)](_0x535b9d(0x2f1))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),confirmAndStartTeamQuiz),document['getElementById'](_0x535b9d(0x8ff))[_0x535b9d(0x729)](_0x535b9d(0x38c))['addEventListener']('click',_0x154627=>{const _0x2637a1=_0x535b9d,_0x12a8c5=_0x154627[_0x2637a1(0x3a6)][_0x2637a1(0x775)](_0x2637a1(0x5e9));if(!_0x12a8c5||!_0x12a8c5[_0x2637a1(0x1f9)][_0x2637a1(0x415)])return;const _0x1e2c18=_0x12a8c5['dataset']['sort'];if(quizLeaderboardSortBy===_0x1e2c18)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x2637a1(0xb35)?_0x2637a1(0x8a7):_0x2637a1(0xb35);else{quizLeaderboardSortBy=_0x1e2c18;const _0x443d2a=[_0x2637a1(0x711)];quizLeaderboardSortOrder=_0x443d2a[_0x2637a1(0x913)](_0x1e2c18)?_0x2637a1(0xb35):_0x2637a1(0x8a7);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x2637a1(0xa37));}),document['getElementById'](_0x535b9d(0x3cb))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),closePresentation),document[_0x535b9d(0x9c1)](_0x535b9d(0xb14))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x535b9d(0x9c1)](_0x535b9d(0xa26))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x1baaf6=_0x535b9d;currentQuizData[_0x1baaf6(0xa17)]&&currentPresentationSlide<currentQuizData[_0x1baaf6(0xa17)][_0x1baaf6(0xa7c)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x535b9d(0x4da)](_0x535b9d(0x616),()=>{const _0x2a032e=_0x535b9d;!document['fullscreenElement']&&(presentationModal[_0x2a032e(0x29c)]['display']=_0x2a032e(0x806));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x5bf))['addEventListener'](_0x535b9d(0x3fb),handleDeleteAllStudents),studentList[_0x535b9d(0x4da)](_0x535b9d(0x3fb),_0x6ae899=>{const _0x54ff23=_0x535b9d,_0x138935=_0x6ae899['target'][_0x54ff23(0x775)](_0x54ff23(0x89b));if(_0x138935){const _0x2bfcf1=_0x138935[_0x54ff23(0x1f9)][_0x54ff23(0x711)];handleDeleteStudent(_0x2bfcf1);}}),document[_0x535b9d(0x9c1)](_0x535b9d(0x6ac))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleGenerateFromFileClick),fileUploadInput[_0x535b9d(0x4da)](_0x535b9d(0x9af),_0x11b713=>{const _0xd1be05=_0x535b9d,_0x364501=_0x11b713['target']['files'][0x0],_0x4fb5e1=document[_0xd1be05(0x9c1)]('generate-from-file-btn'),_0x1bdcda=document[_0xd1be05(0x9c1)]('file-topics-list-container'),_0x51d3d6=document[_0xd1be05(0x9c1)](_0xd1be05(0x63c));_0x364501?(selectedFile=_0x364501,_0x51d3d6['checked']?(_0x4fb5e1[_0xd1be05(0x9d7)]=!![],analyzeFileForTopics(_0x364501)):(_0x4fb5e1[_0xd1be05(0x9d7)]=![],_0x1bdcda[_0xd1be05(0x431)][_0xd1be05(0x8af)](_0xd1be05(0x450)))):(selectedFile=null,_0x4fb5e1[_0xd1be05(0x9d7)]=!![],_0x1bdcda['classList']['add'](_0xd1be05(0x450)));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x63c))[_0x535b9d(0x4da)]('change',_0x369ed6=>{const _0x4b7ff8=_0x535b9d,_0x30f8b9=_0x369ed6[_0x4b7ff8(0x3a6)]['checked'],_0x19b3e1=document[_0x4b7ff8(0x9c1)](_0x4b7ff8(0x6ac)),_0x5c29c8=document['getElementById'](_0x4b7ff8(0x559));_0x30f8b9?(_0x19b3e1[_0x4b7ff8(0x9d7)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x5c29c8[_0x4b7ff8(0x431)][_0x4b7ff8(0x905)](_0x4b7ff8(0x450)),document['getElementById'](_0x4b7ff8(0x654))[_0x4b7ff8(0x1c3)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x5c29c8[_0x4b7ff8(0x431)][_0x4b7ff8(0x8af)]('hidden'),_0x19b3e1['disabled']=!selectedFile);}),document[_0x535b9d(0x9c1)](_0x535b9d(0x559))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),_0x1fa398=>{const _0x72d25b=_0x535b9d,_0xb80a7d=_0x1fa398[_0x72d25b(0x3a6)][_0x72d25b(0x775)](_0x72d25b(0x86d)),_0x2712e9=_0x1fa398[_0x72d25b(0x3a6)]['closest'](_0x72d25b(0x811));if(_0xb80a7d){const _0x28b122=unescape(_0xb80a7d[_0x72d25b(0x1f9)][_0x72d25b(0xb4a)]);generateHybridQuizForTopic(_0x28b122);}else{if(_0x2712e9){const _0x10e1ff=unescape(_0x2712e9[_0x72d25b(0x1f9)][_0x72d25b(0xb4a)]);handleGenerateTeachingContent(_0x10e1ff);}}}),document[_0x535b9d(0x9c1)](_0x535b9d(0x5c0))[_0x535b9d(0x4da)]('change',_0x31d353=>{const _0x57f7b9=_0x535b9d,_0x50430a=document['getElementById'](_0x57f7b9(0xa57)),_0x5108df=document['getElementById'](_0x57f7b9(0x492)),_0x569682=document[_0x57f7b9(0x9c1)](_0x57f7b9(0xa3a));_0x31d353[_0x57f7b9(0x3a6)][_0x57f7b9(0x9b2)]===_0x57f7b9(0x806)?_0x50430a[_0x57f7b9(0x431)]['add'](_0x57f7b9(0x450)):(_0x50430a[_0x57f7b9(0x431)][_0x57f7b9(0x905)](_0x57f7b9(0x450)),_0x31d353['target'][_0x57f7b9(0x9b2)]===_0x57f7b9(0x3bc)?(_0x5108df[_0x57f7b9(0x410)]=_0x57f7b9(0x98f),_0x569682[_0x57f7b9(0x9b2)]='10'):(_0x5108df[_0x57f7b9(0x410)]='ระยะเวลา\x20(วินาที):',_0x569682['value']='30'));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x23a))[_0x535b9d(0x4da)]('change',_0x2031cc=>{const _0x6b5654=_0x535b9d,_0x99c31c=document[_0x6b5654(0x9c1)](_0x6b5654(0xa20)),_0x3c3bf6=_0x2031cc[_0x6b5654(0x3a6)][_0x6b5654(0x9b2)],_0x10ab3f=document[_0x6b5654(0x729)](_0x6b5654(0xa22)),_0x614f9f=document['getElementById'](_0x6b5654(0x238)),_0x5aab3a=document[_0x6b5654(0x9c1)]('num-questions');_0x3c3bf6===_0x6b5654(0x67f)?_0x10ab3f[_0x6b5654(0x410)]=_0x6b5654(0xa9f):_0x10ab3f['textContent']=_0x6b5654(0x43e),_0x3c3bf6===_0x6b5654(0xad6)||_0x3c3bf6===_0x6b5654(0x32e)||_0x3c3bf6===_0x6b5654(0x679)?_0x99c31c[_0x6b5654(0x431)][_0x6b5654(0x905)](_0x6b5654(0x450)):_0x99c31c[_0x6b5654(0x431)][_0x6b5654(0x8af)](_0x6b5654(0x450)),_0x614f9f[_0x6b5654(0xaa3)]=_0x5aab3a[_0x6b5654(0x9b2)];}),document['getElementById'](_0x535b9d(0x204))[_0x535b9d(0x4da)]('input',_0x4f022a=>{const _0x5303ed=_0x535b9d;document[_0x5303ed(0x9c1)]('passing-score-input')[_0x5303ed(0xaa3)]=_0x4f022a[_0x5303ed(0x3a6)][_0x5303ed(0x9b2)];}),document['getElementById']('modal-timer-mode-select')[_0x535b9d(0x4da)](_0x535b9d(0x9af),_0xecd637=>{const _0x3db3d3=_0x535b9d,_0x2cbe63=document['getElementById'](_0x3db3d3(0x22a)),_0x2ec4f7=document['getElementById'](_0x3db3d3(0xb39)),_0x235dda=document['getElementById'](_0x3db3d3(0x6ff));_0xecd637['target']['value']===_0x3db3d3(0x806)?_0x2cbe63[_0x3db3d3(0x431)][_0x3db3d3(0x8af)]('hidden'):(_0x2cbe63[_0x3db3d3(0x431)]['remove'](_0x3db3d3(0x450)),_0xecd637[_0x3db3d3(0x3a6)][_0x3db3d3(0x9b2)]==='whole_quiz'?_0x2ec4f7[_0x3db3d3(0x410)]=_0x3db3d3(0x98f):_0x2ec4f7[_0x3db3d3(0x410)]=_0x3db3d3(0x842));}),document[_0x535b9d(0x9c1)](_0x535b9d(0xb2c))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x31064b=_0x535b9d;document[_0x31064b(0x9c1)](_0x31064b(0x894))['classList'][_0x31064b(0x8af)](_0x31064b(0x450));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x5c1))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x45ff9b=_0x535b9d;document[_0x45ff9b(0x9c1)](_0x45ff9b(0x894))[_0x45ff9b(0x431)][_0x45ff9b(0x8af)](_0x45ff9b(0x450));}),document[_0x535b9d(0x9c1)]('verify-answers-editor-btn')['addEventListener'](_0x535b9d(0x3fb),handleVerifyAnswersInEditor),document[_0x535b9d(0x9c1)](_0x535b9d(0x1c0))[_0x535b9d(0x4da)]('click',()=>{const _0xf28afa=_0x535b9d;document['getElementById'](_0xf28afa(0x894))[_0xf28afa(0x431)][_0xf28afa(0x8af)](_0xf28afa(0x450)),showConfirmation(_0xf28afa(0x82d),handleSaveChanges);}),document[_0x535b9d(0x9c1)](_0x535b9d(0x7aa))['addEventListener'](_0x535b9d(0x3fb),handleAutoFixLatex);const _0x1dbb97=document[_0x535b9d(0x9c1)](_0x535b9d(0x37c));_0x1dbb97&&_0x1dbb97[_0x535b9d(0x4da)](_0x535b9d(0x3fb),_0x14dea4=>{const _0x5de6c0=_0x535b9d,_0xeaa306=_0x14dea4[_0x5de6c0(0x3a6)]['closest'](_0x5de6c0(0x9eb)),_0x180efc=_0x14dea4[_0x5de6c0(0x3a6)]['closest'](_0x5de6c0(0x26a));if(_0xeaa306){const _0x31909b=_0xeaa306['closest'](_0x5de6c0(0x9b1)),_0x23ef4a=parseInt(_0x31909b[_0x5de6c0(0x1f9)][_0x5de6c0(0xb23)],0xa);handleRegenerateQuestionInEditor(_0x23ef4a);}else{if(_0x180efc){const _0x2fa409=_0x180efc['closest']('.question-editor-item'),_0x4f8eef=parseInt(_0x2fa409[_0x5de6c0(0x1f9)][_0x5de6c0(0xb23)],0xa);handleAiFixFormula(_0x4f8eef);}}});document[_0x535b9d(0x9c1)]('open-quiz-bank-btn')[_0x535b9d(0x4da)](_0x535b9d(0x3fb),openQuizBankModal),document[_0x535b9d(0x9c1)]('cancel-quiz-bank-btn')['addEventListener']('click',()=>{const _0x3463b3=_0x535b9d;document[_0x3463b3(0x9c1)](_0x3463b3(0x7c8))[_0x3463b3(0x431)][_0x3463b3(0x8af)](_0x3463b3(0x450));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x2da))[_0x535b9d(0x4da)](_0x535b9d(0x43a),_0x2c8488=>renderQuizBankList(_0x2c8488['target']['value']));const _0x23cde5=document[_0x535b9d(0x9c1)](_0x535b9d(0x8a3));if(_0x23cde5){let _0xc86bad=null;_0x23cde5[_0x535b9d(0x4da)]('click',_0x4b198e=>{const _0x357ea4=_0x535b9d,_0x319c62=_0x4b198e[_0x357ea4(0x3a6)],_0x32ca0c=_0x319c62[_0x357ea4(0x775)](_0x357ea4(0x315)),_0x135819=_0x319c62[_0x357ea4(0x775)](_0x357ea4(0x528)),_0x3e99a6=_0x319c62[_0x357ea4(0x775)](_0x357ea4(0x6af)),_0x3f73f4=_0x319c62[_0x357ea4(0x775)](_0x357ea4(0x90c));if(_0x135819){_0x4b198e[_0x357ea4(0x457)]();const _0x2faf7d=_0x135819[_0x357ea4(0x1f9)]['id'],_0x274a5d=_0x135819['closest'](_0x357ea4(0xb07))['querySelector'](_0x357ea4(0x53a))[_0x357ea4(0x410)];showConfirmation(_0x357ea4(0x8e5)+_0x274a5d+'\x22?',()=>handleDeleteCustomTopic(_0x2faf7d));}else{if(_0x32ca0c){_0x4b198e[_0x357ea4(0x457)]();_0xc86bad&&toggleTopicEditMode(_0xc86bad,![]);const _0x433c3f=_0x32ca0c[_0x357ea4(0x775)](_0x357ea4(0x2fa));_0xc86bad=_0x433c3f,toggleTopicEditMode(_0x433c3f,!![]);}else{if(_0x3e99a6){_0x4b198e['preventDefault']();const _0x5be35b=_0x3e99a6[_0x357ea4(0x1f9)]['id'],_0xdee73=_0x3e99a6[_0x357ea4(0x775)]('[data-topic-container-id]'),_0x4b95d6=_0xdee73['querySelector'](_0x357ea4(0x97e))[_0x357ea4(0x9b2)];handleUpdateCustomTopic(_0x5be35b,_0x4b95d6),_0xc86bad=null;}else{if(_0x3f73f4){_0x4b198e['preventDefault']();const _0xd5b9e7=_0x3f73f4['closest'](_0x357ea4(0x2fa));toggleTopicEditMode(_0xd5b9e7,![]),_0xc86bad=null;}}}}}),document[_0x535b9d(0x9c1)]('close-lesson-plan-modal-btn')['addEventListener'](_0x535b9d(0x3fb),()=>{const _0x4eeef4=_0x535b9d;document[_0x4eeef4(0x9c1)]('lesson-plan-modal')['classList']['add'](_0x4eeef4(0x450));}),document[_0x535b9d(0x9c1)](_0x535b9d(0x566))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x3fd47a=_0x535b9d;document[_0x3fd47a(0x9c1)](_0x3fd47a(0x299))['classList']['add'](_0x3fd47a(0x450));}),document['getElementById'](_0x535b9d(0x3af))[_0x535b9d(0x4da)](_0x535b9d(0x3fb),handleExportLessonPDF);}document[_0x535b9d(0x9c1)]('close-comparison-modal-btn')[_0x535b9d(0x4da)](_0x535b9d(0x3fb),()=>{const _0x1c829f=_0x535b9d;document[_0x1c829f(0x9c1)](_0x1c829f(0x837))['classList'][_0x1c829f(0x8af)]('hidden');}),document[_0x535b9d(0x9c1)](_0x535b9d(0x7a5))['addEventListener']('click',()=>{const _0x51bd5d=_0x535b9d;document[_0x51bd5d(0x9c1)](_0x51bd5d(0x837))[_0x51bd5d(0x431)]['add'](_0x51bd5d(0x450));}),setupComparisonModalTabs(),document[_0x535b9d(0xad8)][_0x535b9d(0x4da)](_0x535b9d(0x3fb),function(_0x33c4dd){const _0x5c73f0=_0x535b9d;if(_0x33c4dd[_0x5c73f0(0x3a6)][_0x5c73f0(0x431)][_0x5c73f0(0x7b4)]('practice-topic-btn')){const _0x25372d=unescape(_0x33c4dd[_0x5c73f0(0x3a6)][_0x5c73f0(0x1f9)][_0x5c73f0(0xb4a)]);startSkillPractice(_0x25372d);}}),document[_0x535b9d(0x9c1)](_0x535b9d(0x501))['addEventListener'](_0x535b9d(0x3fb),_0x37ec0b=>{const _0x5e781a=_0x535b9d,_0x4e9fe1=_0x37ec0b[_0x5e781a(0x3a6)][_0x5e781a(0x775)](_0x5e781a(0x910));if(_0x4e9fe1){const _0xfe7d5f=_0x4e9fe1[_0x5e781a(0x1f9)][_0x5e781a(0x711)];handleDeleteSubmission(_0xfe7d5f);}});}async function handleStartGroupMode(_0x4ad4a4,_0x23aa78=![]){const _0x44cb37=_0xbb2a9e,_0x6d795b=allQuizzes['find'](_0x471204=>_0x471204['id']===_0x4ad4a4)||allQuizzesGlobal[_0x44cb37(0x748)](_0x48dbee=>_0x48dbee['id']===_0x4ad4a4);if(!_0x6d795b){showMessage(_0x44cb37(0x931));return;}currentQuizData=getShuffledQuiz(_0x6d795b);const _0x20c274=Math[_0x44cb37(0x7b0)](0x3e8+Math['random']()*0x2328)[_0x44cb37(0x86b)]();try{const _0x16c394=await addDoc(collection(db,_0x44cb37(0x44d)+appId+_0x44cb37(0x4ee)),{'quizId':_0x6d795b['id'],'projectId':_0x6d795b[_0x44cb37(0x430)],'status':'lobby','pin':_0x20c274,'mode':_0x44cb37(0xab6),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x23aa78});currentTeamQuizId=_0x16c394['id'],showView(_0x44cb37(0x50c)),renderAdminTeamQuizDashboard(_0x20c274,_0x6d795b['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x39cb55){console['error'](_0x44cb37(0x439),_0x39cb55),showMessage(_0x44cb37(0x7bb));}}async function showStudentProgressView(){const _0x1a19db=_0xbb2a9e;studentInitialView['classList']['add'](_0x1a19db(0x450)),document['getElementById']('student-progress-view')['classList']['remove'](_0x1a19db(0x450));const _0x10c4aa=document[_0x1a19db(0x9c1)](_0x1a19db(0xb40)),_0x10daab=document[_0x1a19db(0x9c1)](_0x1a19db(0x965)),_0x18588a=document['getElementById'](_0x1a19db(0x24f));_0x18588a[_0x1a19db(0x1c3)]=_0x1a19db(0xa0d),_0x10daab[_0x1a19db(0x1c3)]=_0x1a19db(0x8f0),_0x10daab[_0x1a19db(0x9d7)]=!![],_0x10c4aa[_0x1a19db(0x1c3)]=_0x1a19db(0x327);if(allProjects['length']===0x0){const _0x1ce3e8=collection(db,'artifacts/'+appId+_0x1a19db(0xb3c)),_0x4131d2=await getDocs(_0x1ce3e8);allProjects=_0x4131d2[_0x1a19db(0x95a)][_0x1a19db(0x791)](_0x3e6095=>({'id':_0x3e6095['id'],..._0x3e6095[_0x1a19db(0x24b)]()}));}const _0x356493=allProjects[_0x1a19db(0x51b)](_0x53be8f=>_0x53be8f[_0x1a19db(0xa79)]?.[_0x1a19db(0x568)]!==![]);_0x356493[_0x1a19db(0x415)]((_0x2805e0,_0x310e99)=>_0x2805e0[_0x1a19db(0x8f6)]['localeCompare'](_0x310e99[_0x1a19db(0x8f6)],'th')),_0x10c4aa[_0x1a19db(0x1c3)]=_0x1a19db(0x65c)+_0x356493[_0x1a19db(0x791)](_0x516e2a=>'<option\x20value=\x22'+_0x516e2a['id']+'\x22>'+_0x516e2a[_0x1a19db(0x8f6)]+_0x1a19db(0x6d2))['join'](''),_0x10c4aa[_0x1a19db(0xb13)]=()=>{const _0x3486b5=_0x1a19db,_0x3bbc0c=_0x10daab['value'],_0x484390=_0x10c4aa['value'];_0x10daab[_0x3486b5(0x9d7)]=!![],_0x10daab[_0x3486b5(0x1c3)]=_0x3486b5(0x8f0),_0x18588a[_0x3486b5(0x1c3)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x484390)return;const _0x1cd6e7=allProjects['find'](_0x21f533=>_0x21f533['id']===_0x484390);if(!_0x1cd6e7||!_0x1cd6e7['students'])return;const _0x58e680=()=>{const _0x26f03a=_0x3486b5;_0x10daab[_0x26f03a(0x1c3)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x1cd6e7[_0x26f03a(0x3dc)]['map'](_0x5c8fd5=>_0x26f03a(0x520)+_0x5c8fd5+'\x22>'+_0x5c8fd5+_0x26f03a(0x6d2))[_0x26f03a(0x3cf)](''),_0x10daab['disabled']=![];const _0x4d123e=Array['from'](_0x10daab[_0x26f03a(0x643)])[_0x26f03a(0x791)](_0x3339b1=>_0x3339b1[_0x26f03a(0x9b2)]);if(_0x3bbc0c&&_0x4d123e[_0x26f03a(0x913)](_0x3bbc0c))_0x10daab[_0x26f03a(0x9b2)]=_0x3bbc0c,_0x10daab[_0x26f03a(0x4cf)](new Event(_0x26f03a(0x9af)));else _0x1cd6e7['students'][_0x26f03a(0xa7c)]===0x1&&(_0x10daab[_0x26f03a(0x9b2)]=_0x1cd6e7[_0x26f03a(0x3dc)][0x0],_0x10daab[_0x26f03a(0x4cf)](new Event(_0x26f03a(0x9af))));};if(_0x1cd6e7[_0x3486b5(0xa79)]?.[_0x3486b5(0x85d)]){if(sessionStorage['getItem']('authed_project_'+_0x484390)===_0x3486b5(0x304)){_0x58e680();return;}const _0x554f0d=document[_0x3486b5(0x9c1)]('project-passcode-modal'),_0x131c9d=document['getElementById'](_0x3486b5(0x32b)),_0xe9131c=document['getElementById'](_0x3486b5(0x201)),_0x2d311e=document['getElementById']('student-passcode-input'),_0x1bf60e=document[_0x3486b5(0x9c1)]('passcode-error-msg');document['getElementById'](_0x3486b5(0xa1a))[_0x3486b5(0x410)]=_0x3486b5(0x762)+_0x1cd6e7['projectName'],_0x2d311e[_0x3486b5(0x9b2)]='',_0x1bf60e['classList']['add'](_0x3486b5(0x450)),_0x554f0d[_0x3486b5(0x431)][_0x3486b5(0x905)]('hidden');const _0x584da3=()=>{const _0x28f100=_0x3486b5,_0x5af5bf=_0x2d311e[_0x28f100(0x9b2)][_0x28f100(0x9aa)]();_0x5af5bf===_0x1cd6e7['settings'][_0x28f100(0x923)]?(sessionStorage[_0x28f100(0x740)](_0x28f100(0x9d8)+_0x484390,_0x28f100(0x304)),_0x554f0d[_0x28f100(0x431)][_0x28f100(0x8af)](_0x28f100(0x450)),_0x58e680(),_0x131c9d[_0x28f100(0x734)]('click',_0x584da3)):_0x1bf60e[_0x28f100(0x431)][_0x28f100(0x905)]('hidden');};_0x131c9d[_0x3486b5(0xb46)]=_0x584da3,_0xe9131c[_0x3486b5(0xb46)]=()=>{const _0xb9bdfd=_0x3486b5;_0x554f0d[_0xb9bdfd(0x431)][_0xb9bdfd(0x8af)](_0xb9bdfd(0x450)),_0x10c4aa[_0xb9bdfd(0x9b2)]='',_0x131c9d[_0xb9bdfd(0x734)](_0xb9bdfd(0x3fb),_0x584da3);};}else _0x58e680();},_0x10daab[_0x1a19db(0xb13)]=()=>{const _0xa4e99a=_0x1a19db,_0x338453=_0x10c4aa[_0xa4e99a(0x9b2)],_0x241876=_0x10daab[_0xa4e99a(0x9b2)];_0x338453&&_0x241876&&renderStudentProgressDashboard(_0x338453,_0x241876);};}function _0x1a06(_0x5f5120,_0x53f6ba){const _0x373f11=_0x373f();return _0x1a06=function(_0x1a067f,_0x5c5324){_0x1a067f=_0x1a067f-0x1b0;let _0x427a4b=_0x373f11[_0x1a067f];return _0x427a4b;},_0x1a06(_0x5f5120,_0x53f6ba);}async function confirmAndJoinSyncGame(){const _0x4454cb=_0xbb2a9e,_0x1284fc=Array[_0x4454cb(0x693)](document['querySelectorAll'](_0x4454cb(0x51a)))[_0x4454cb(0x791)](_0x5dd08b=>_0x5dd08b['value']);if(_0x1284fc[_0x4454cb(0xa7c)]===0x0){showMessage(_0x4454cb(0x1c4));return;}localTeamPlayers=_0x1284fc,localPlayerTurnIndex=0x0;const _0x13ced1=doc(db,_0x4454cb(0x44d)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x91c2d7=await getDoc(_0x13ced1);if(!_0x91c2d7[_0x4454cb(0x9ce)]())throw new Error(_0x4454cb(0xa6d));const _0x183238=_0x91c2d7[_0x4454cb(0x24b)]()['players']||{};_0x1284fc[_0x4454cb(0x803)](_0x2495a8=>{!_0x183238[_0x2495a8]&&(_0x183238[_0x2495a8]={'name':_0x2495a8,'score':0x0,'answered':![],'status':'active'});}),await updateDoc(_0x13ced1,{'players':_0x183238}),document[_0x4454cb(0x9c1)]('student-team-selection-view')[_0x4454cb(0x431)][_0x4454cb(0x8af)]('hidden'),currentStudentName=_0x1284fc[0x0],listenForSyncGameUpdates();const _0x2bb45c={'gameId':currentLiveGameId,'mode':_0x4454cb(0x52d),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4454cb(0x740)]('activeGameSession',JSON[_0x4454cb(0x994)](_0x2bb45c));}catch(_0x21db56){console[_0x4454cb(0x746)](_0x4454cb(0x739),_0x21db56),showMessage(_0x4454cb(0x615));}}async function resumeActiveGameSession(){const _0x44afc1=_0xbb2a9e,_0x5d2054=sessionStorage[_0x44afc1(0x5db)](_0x44afc1(0xada));if(!_0x5d2054)return;const _0x34e3de=JSON[_0x44afc1(0x74a)](_0x5d2054),{gameId:_0x29c41e,mode:_0x43a1c8,players:_0x330281,turnIndex:_0x2bd64e}=_0x34e3de;try{let _0x174c7f,_0x436ff6;_0x43a1c8===_0x44afc1(0x52d)?_0x174c7f=doc(db,_0x44afc1(0x44d)+appId+_0x44afc1(0x268),_0x29c41e):_0x174c7f=doc(db,_0x44afc1(0x44d)+appId+_0x44afc1(0x4ee),_0x29c41e);_0x436ff6=await getDoc(_0x174c7f);if(!_0x436ff6['exists']()||_0x436ff6['data']()[_0x44afc1(0x3f1)]===_0x44afc1(0x7a8)||_0x436ff6[_0x44afc1(0x24b)]()['status']===_0x44afc1(0x95f)){sessionStorage[_0x44afc1(0x293)](_0x44afc1(0xada));return;}console[_0x44afc1(0x73c)]('กำลังกลับเข้าสู่เกม\x20'+_0x43a1c8+_0x44afc1(0x966)+_0x29c41e+')'),localTeamPlayers=_0x330281,localPlayerTurnIndex=_0x2bd64e;if(_0x43a1c8==='sync')currentLiveGameId=_0x29c41e,currentStudentName=_0x330281[0x0],showView(_0x44afc1(0x50c)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x29c41e;const _0x25e858=_0x436ff6[_0x44afc1(0x24b)](),_0x4c275e=doc(db,_0x44afc1(0x44d)+appId+_0x44afc1(0x622),_0x25e858[_0x44afc1(0x521)]),_0x760d73=await getDoc(_0x4c275e);_0x760d73['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x760d73['id'],..._0x760d73[_0x44afc1(0x24b)]()}),showView('student'),studentInitialView[_0x44afc1(0x431)][_0x44afc1(0x8af)](_0x44afc1(0x450)),renderTeamQuizQuestion());}}catch(_0x29bb23){console['error'](_0x44afc1(0x232),_0x29bb23),sessionStorage['removeItem'](_0x44afc1(0xada));}}async function handleKickPlayerSync(_0x5ca02c){const _0x2d7b7f=_0xbb2a9e;if(!currentLiveGameId||!_0x5ca02c)return;const _0x29063b=doc(db,_0x2d7b7f(0x44d)+appId+'/public/data/syncGames',currentLiveGameId),_0x276300={};_0x276300[_0x2d7b7f(0x886)+_0x5ca02c+'.status']=_0x2d7b7f(0x541);try{await updateDoc(_0x29063b,_0x276300);}catch(_0x4a8cf8){console['error'](_0x2d7b7f(0x85e)+_0x5ca02c+_0x2d7b7f(0x1c8),_0x4a8cf8),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x4054a1,_0x52e4c1){const _0x2f3a42=_0xbb2a9e,_0x415b1a=document['getElementById']('student-progress-content');_0x415b1a[_0x2f3a42(0x1c3)]=_0x2f3a42(0x7eb);try{const _0x48180b=collection(db,_0x2f3a42(0x44d)+appId+'/public/data/quizzes'),_0x500b0e=query(_0x48180b,where('projectId','==',_0x4054a1)),_0x3fb542=await getDocs(_0x500b0e),_0x343904=_0x3fb542['docs']['map'](_0x5d7d14=>({'id':_0x5d7d14['id'],..._0x5d7d14['data']()})),_0x82435d=_0x343904[_0x2f3a42(0x791)](_0x4fea5e=>getDoc(doc(db,'artifacts/'+appId+_0x2f3a42(0x3b6)+_0x4fea5e['id']+_0x2f3a42(0x6d8),_0x52e4c1))),_0x11df29=await Promise[_0x2f3a42(0x5d4)](_0x82435d),_0xa3cd=_0x11df29[_0x2f3a42(0x51b)](_0x483007=>_0x483007[_0x2f3a42(0x9ce)]())[_0x2f3a42(0x791)](_0x26dd7b=>({'quizId':_0x26dd7b[_0x2f3a42(0x7ef)]['parent']['parent']['id'],..._0x26dd7b[_0x2f3a42(0x24b)]()}));if(_0xa3cd['length']===0x0){_0x415b1a[_0x2f3a42(0x1c3)]=_0x2f3a42(0xa23);return;}let _0x34a2f3=_0x2f3a42(0xa4d);_0xa3cd[_0x2f3a42(0x803)](_0x3d616a=>{const _0x35a31f=_0x2f3a42,_0xd80cc9=_0x343904[_0x35a31f(0x748)](_0x3ed70e=>_0x3ed70e['id']===_0x3d616a['quizId']),_0x83a930=_0xd80cc9[_0x35a31f(0xa79)]?.[_0x35a31f(0xa65)]||'show_results_and_answers',_0x14a96f=_0xd80cc9[_0x35a31f(0xa79)]?.[_0x35a31f(0xa14)]??0x0,_0x318970=_0x3d616a[_0x35a31f(0x358)]>=_0x14a96f;let _0xda5508='',_0x166620=_0x35a31f(0x820);switch(_0x83a930){case _0x35a31f(0x76a):case _0x35a31f(0x99a):_0x166620=_0x318970?'bg-green-50':_0x35a31f(0x776),_0xda5508=_0x35a31f(0x45a)+(_0x318970?_0x35a31f(0x2f0):_0x35a31f(0x774))+'\x22>'+_0x3d616a[_0x35a31f(0x358)]+_0x35a31f(0xafc)+_0x3d616a[_0x35a31f(0x812)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x318970?_0x35a31f(0x46d):'bg-red-200\x20text-red-800')+'\x22>'+(_0x318970?_0x35a31f(0x417):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x35a31f(0x392):_0x166620=_0x318970?_0x35a31f(0x52a):_0x35a31f(0x776),_0xda5508='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x318970?'bg-green-200\x20text-green-800':_0x35a31f(0x4e1))+'\x22>'+(_0x318970?_0x35a31f(0x417):'ไม่ผ่าน')+_0x35a31f(0x7d7);break;case _0x35a31f(0x7f5):_0x166620=_0x35a31f(0xa02),_0xda5508=_0x35a31f(0xa50);break;}_0x34a2f3+=_0x35a31f(0x551)+_0x166620+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0xd80cc9['topic']+_0x35a31f(0x66b)+_0x3d616a[_0x35a31f(0x405)]['length']+_0x35a31f(0x4c3)+new Date(_0x3d616a['latestSubmittedAt'])[_0x35a31f(0x949)](_0x35a31f(0x743))+_0x35a31f(0x28d)+_0xda5508+_0x35a31f(0x77f);}),_0x34a2f3+=_0x2f3a42(0xa1c),_0x415b1a[_0x2f3a42(0x1c3)]=_0x34a2f3;}catch(_0x1b4483){console[_0x2f3a42(0x746)](_0x2f3a42(0x437),_0x1b4483),_0x415b1a[_0x2f3a42(0x1c3)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x42cb45=_0xbb2a9e;document[_0x42cb45(0x9c1)](_0x42cb45(0x80e))['addEventListener']('click',showStudentProgressView),document[_0x42cb45(0x9c1)](_0x42cb45(0xb45))[_0x42cb45(0x4da)](_0x42cb45(0x3fb),()=>{const _0xcd60bd=_0x42cb45;document['getElementById'](_0xcd60bd(0x644))[_0xcd60bd(0x431)]['add'](_0xcd60bd(0x450)),document[_0xcd60bd(0x9c1)](_0xcd60bd(0xa49))['classList'][_0xcd60bd(0x905)](_0xcd60bd(0x450));});}async function startSkillPractice(_0x47018d){const _0x394182=_0xbb2a9e;studentResultArea[_0x394182(0x431)][_0x394182(0x8af)](_0x394182(0x450)),studentQuizArea[_0x394182(0x1c3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x394182(0x431)]['remove'](_0x394182(0x450));try{const _0x5c5bcd=await getStandardizedTopic(_0x47018d);console['log'](_0x394182(0x408)+_0x47018d+_0x394182(0x829)+_0x5c5bcd+'\x22'),studentQuizArea['querySelector']('p')[_0x394182(0x410)]=_0x394182(0x6a7)+_0x5c5bcd+_0x394182(0x29a);const _0x135c7a=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x3819ec=query(_0x135c7a,where(_0x394182(0xb4a),'==',_0x5c5bcd)),_0xdeb7f2=await getDocs(_0x3819ec);if(_0xdeb7f2['docs']['length']>=0x3){console[_0x394182(0x73c)]('พบข้อสอบ\x20'+_0xdeb7f2[_0x394182(0x95a)]['length']+_0x394182(0x241)+_0x5c5bcd+_0x394182(0x571));let _0x2751cc=_0xdeb7f2[_0x394182(0x95a)][_0x394182(0x791)](_0xa7ab37=>_0xa7ab37[_0x394182(0x24b)]());shuffleArray(_0x2751cc);const _0x44e587={'topic':_0x5c5bcd,'questions':_0x2751cc['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x44e587);}else{console[_0x394182(0x73c)](_0x394182(0xaef)+_0x5c5bcd+_0x394182(0x5ec));const _0x253205=await generatePracticeQuestions(_0x5c5bcd);await saveDrillToPracticeBank(_0x253205,_0x5c5bcd),displaySkillPracticeDrill(_0x253205);}}catch(_0xbaf48d){console[_0x394182(0x746)](_0x394182(0x2cb),_0xbaf48d),showMessage(_0x394182(0x472)),studentQuizArea['classList'][_0x394182(0x8af)](_0x394182(0x450)),studentResultArea[_0x394182(0x431)][_0x394182(0x905)](_0x394182(0x450));}}async function saveDrillToPracticeBank(_0x33a54e,_0x4db7d6){const _0x2455a7=_0xbb2a9e,_0x4811d0=collection(db,_0x2455a7(0x44d)+appId+_0x2455a7(0x91d)),_0x4fe1b6=writeBatch(db);_0x33a54e[_0x2455a7(0xa17)]['forEach'](_0x5eda84=>{const _0x23020a=_0x2455a7,_0x395765=doc(_0x4811d0);_0x4fe1b6[_0x23020a(0x787)](_0x395765,{'topic':_0x4db7d6,'questionText':_0x5eda84[_0x23020a(0x23b)],'options':_0x5eda84[_0x23020a(0x643)],'correctAnswerIndex':_0x5eda84[_0x23020a(0xad0)],'explanation':_0x5eda84[_0x23020a(0x324)],'createdAt':serverTimestamp()});});try{await _0x4fe1b6[_0x2455a7(0x4c6)](),console[_0x2455a7(0x73c)]('บันทึกคำถามใหม่\x20'+_0x33a54e[_0x2455a7(0xa17)]['length']+_0x2455a7(0x78d));}catch(_0x455dfa){console['error'](_0x2455a7(0x4f3),_0x455dfa);}}async function getStandardizedTopic(_0x5095b3){const _0x413a3a=_0xbb2a9e,_0x5b675b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x5095b3+_0x413a3a(0xa84),_0x32b5d7={'type':'OBJECT','properties':{'standardTopic':{'type':_0x413a3a(0x4e5)}},'required':['standardTopic']};try{const _0xd33526=await callAnalysisApi(_0x5b675b,_0x32b5d7);return _0xd33526[_0x413a3a(0xb2d)];}catch(_0x4b41bb){return console[_0x413a3a(0x746)](_0x413a3a(0xa92),_0x4b41bb),_0x5095b3;}}function _0x373f(){const _0x401895=['file-upload-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','bg-red-100\x20text-red-800','typesetPromise','\x20pointer-events-none\x22>','generate-from-text-btn','name','loader-text','\x22\x20สำเร็จ','text-blue-700','student-quiz-area','ระยะเวลา\x20(นาที):','ไม่ใช่\x20/\x20ผิด','#FEE2E2','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','stringify','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','text-indigo-700','confirm-game-start-btn','\x22\x20name=\x22team_answer\x22\x20value=\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_only','cancel-quiz-settings-btn','replace','visibilityState','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','null','toLocaleString','numPages','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','s;\x22\x20title=\x22','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','suggestedAnswer','2905860KhGEIb','เกิดข้อผิดพลาดในการบันทึกลำดับ','trim','NEGATIVE_INFINITY','_opt','ไม่พบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.question-editor-item','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20เพื่อหา\x20\x22จำนวนข้อสอบรวม\x22\x20และ\x20\x22จำนวนข้อของแต่ละรูปแบบ\x22\x20(เช่น\x20\x22ปรนัย\x204\x20ตัวเลือก\x20...\x2015\x20ข้อ\x22,\x20\x22ระบายตัวเลข\x20...\x204\x20ข้อ\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20วิเคราะห์\x20\x22สาระการเรียนรู้แกนกลาง\x22\x20และ\x20\x22ตัวชี้วัด\x22\x20ทั้งหมดที่ต้องใช้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','devicePixelRatio','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','gain','การวัด','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','modal-message','key','cancel-quiz-status-btn','getElementById','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','เกิดข้อผิดพลาดในการลบผลสอบ','dataIndex','leaderboard-quiz-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','link-url-input','\x22\x20name=\x22confidence','project-passcode-input','</span></td>','กรุณาพิมพ์คำตอบ','generated-quiz-container','confidenceMode','exists','comparison-overall-tab','\x20ช่อง','<li\x20class=\x22','restore','Error\x20saving\x20settings:','text-red-900','jspdf','reference-pdf-upload','disabled','authed_project_','stdDev','ห.ร.ม.\x20(GCD)','highlighter-size-slider','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','badges','กฎบวกและกฎคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','px,\x20','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','$1\x5ctext{','$1^{$2}','position','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','confident','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','.regenerate-question-editor-btn','confidence-mode-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','result','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','Group\x20Mode','size','.pair-quiz-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','lower_group_count','timer-container','standard','Error\x20generating\x20from\x20blueprint:','กำลังสร้างรูปภาพ...','\x20ตัวเลือก.\x20','lineCap','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x22\x20data-topic=\x22','#FCE7F3','student-project-leaderboard-table-body','bottom','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','bg-yellow-50','9IdSqFm','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','start-presentation-btn','bulk-results-display-select','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Sync\x20Game!','interesting-stats-wrapper','#F59E0B','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<div\x20class=\x22answer-space\x22></div>','เส้นรอบรูป','scratchpad-canvas','project-search-input','translate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','passingScore','timestamp','Error\x20listening\x20for\x20starred\x20quizzes:','questions','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','workerSrc','passcode-prompt-message','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','</div>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','input[type=\x22checkbox\x22]','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices-container','\x20mx-1\x20text-lg\x22></i></span>','label[for=\x22num-questions\x22]','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','projectSortOrder','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','next-question-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','live-short-answer-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','.lastAnswerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','px)\x20scale(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','</div></div></div>','แผนการสอน','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','textarea','scratchpad-controls','submission','quiz-leaderboard-table-body','.project-card-content','fix\x20the\x20option','timer-duration-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.project-card-container:not(.opacity-50)','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','สมการยกกำลัง','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','trail','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','#student-project-leaderboard-content\x20thead','reveal-answer-btn','pointerType','student-initial-view','matching_item','bg-green-200\x20text-green-900\x20font-bold','PERSEVERANCE','<div\x20class=\x22space-y-4\x22>','<div\x20class=\x22p-2\x20rounded-md\x20','perfect_score_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','.live-answer-btn,\x20#sync-submit-btn','ยกเลิกการจับคู่สำเร็จ','text-emerald-900','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','timer-duration-container','แบบทดสอบที่ติดดาว','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ทำคะแนนได้เกินครึ่ง','adaptive-quiz-checkbox','กำลังวิเคราะห์หัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','cursor','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','text-indigo-600','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','timed','tool','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','text-green-600\x20font-bold','ไม่พบข้อมูลเกม','perfect_score','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','upperGroupResponders','</tr>','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','cos','/public/data/projects/','preScore','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','settings','G-V90KRM0L63','ไม่พบข้อมูลการจับคู่','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','reset-project-order-btn','การหาร','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','description','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','difficulty-level-select','contentEditable','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence_single','application/json','interesting-stats-container','\x5ccdot','shouldSaveResults','Attempting\x20to\x20save\x20game\x20results...','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','isStarred','Failed\x20to\x20get\x20standardized\x20topic:','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','ไม่มีคำอธิบาย','/public/data/customMathTopics','</p><div>','admin-testing','student-quiz-leaderboard-tab','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','จัดการ','ARRAY','msExitFullscreen','ไม่พบแบบทดสอบสำหรับรหัสนี้','จำนวนคู่:','/public/data/learnedFixes','-tab-content','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','max','create-project-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','เปิดใช้งาน','highlighter-tool-btn','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x22>ใช่</p>','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','comparison-chart','visibilitychange','entries','beforeend','temp-loader-results','#confidence-input-','NUMBER','AI\x20Formula\x20Fix\x20Error:','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','การคูณทศนิยม','group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','.live-summary-tooltip.visible','อุณหภูมิและการแปลง','เรขาคณิต','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ศูนย์','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22status-option\x22]:checked','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','firstScore','\x22\x20name=\x22drill_answer\x22\x20value=\x22','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','fill_in_the_blank','$1\x5ctext(','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกเศษส่วน','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','results-quiz-title','correctAnswerIndex','setAttributeNS','Failed\x20to\x20get\x20hint:','ความเป็นอิสระของเหตุการณ์','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเอกสารการส่งงานของ\x20','multiple_choice','แก้ไขหัวข้อสำเร็จ','body','circ','activeGameSession','sin','student-project-leaderboard-content','กรุณาเลือกคำตอบของกลุ่ม','\x203.\x20\x20**[กฎรูปแบบ]\x20','offset','function','globalSettings','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','Error\x20loading\x20user\x20preferences:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ไม่สามารถบันทึกการตั้งค่าได้','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','delete','.compare-results-btn','ฟังก์ชันผกผัน','setFont','หัวข้อที่สร้างเอง','indexOf','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','#DBEAFE','highlighter-tools-group','block','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x22\x20value=\x22','วงกลม:\x20คอร์ดและเส้นสัมผัส','กลุ่ม:\x20','อัปเดตสถานะสำเร็จ','passcode-input-container','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','$1\x5ctimes','\x20/\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','bulk-quiz-settings-btn','lesson-plan-title','เกิดข้อผิดพลาดในการสร้างใบงาน','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','จากไฟล์ที่แนบมานี้,\x20','.group','dfrac','title','/studentProfiles','verify-answers-btn','str','earned-badges-container','.topic-actions-edit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','text-red-500\x20hover:text-red-700','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','onchange','prev-question-btn','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','Error\x20fetching\x20project\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','lineWidth','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ตรวจคะแนนใหม่\x20','จำนวนนักเรียน','Error\x20updating\x20project\x20name:','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','hint','เกมสิ้นสุดลงแล้ว','กรุณาเลือกชื่อของคุณ','qIndex','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','Error\x20starting\x20team\x20quiz:','candidates','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','Error\x20deleting\x20student:','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','cancel-quiz-edits-btn','standardTopic','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-size-btn','\x5csum','per-question-timer-container','shuffle-setting-select','asc','removeAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','/public/data/projects','แก้ไขข้อนี้','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','\x20ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','back-to-student-home-btn','onclick','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postTScore','กรุณาวาง\x20URL\x20ของบทความก่อน','topic','แคลคูลัสเบื้องต้น','export-excel-btn','modal-close-btn','/users/','cancel-move-quiz-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','</select>','<br>','true_false','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','แบบทดสอบจากคลังส่วนตัว','bg-green-100\x20text-green-800','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','save-quiz-edits-btn','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เลือกโปรเจคเพื่อบันทึก','innerHTML','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','presentation-explanation','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','cancel-rename-quiz-btn','\x20from\x20sync\x20game:','bg-gray-500','pointercancel','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','text-red-800','.quiz-bank-parallel-btn','input[type=\x22radio\x22][value=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','Error\x20toggling\x20star\x20status:','student-team-join','insertAdjacentHTML','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','quiz-search-input','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','เรเดียนและการแปลงหน่วย','presentation-slide-container','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','[contenteditable=\x22true\x22]','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','text-gray-500','behavior-log-tab-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','อนุพันธ์:\x20กฎลูกโซ่','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','per_question','transform','flex','leaderboard-quiz','wakeLock','transition-all','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','input[name=\x22question_single\x22]:checked','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','teachingContent','Error\x20starting\x20game:','blueprint-options-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>','loader','เลือกและบันทึก','splice','end-team-quiz-btn','dataset','.pointsLastQuestion','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','originalTopic','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','อสมการค่าสัมบูรณ์','Error\x20generating\x20easy\x20version\x20quiz:','cancel-passcode-btn','14968312BdOfuQ','getScreenCTM','num-questions','ไม่ใช่','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lastAnswerIndex','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','ไม่พบข้อมูลโปรเจค','mode-switcher-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','modal-confidence-scoring-checkbox','redo-btn','ไม่พบข้อมูลผู้ใช้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','duration-300','katex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-800','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','answers','members','#D1FAE5','FIRST_TRY_ACE','getBBox','number','เกิดข้อผิดพลาดในการปักหมุด','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','localeCompare','touchend','total','แผนภาพกล่อง\x20(box\x20plot)','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-timer-duration-container','รหัสไม่ถูกต้อง','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','close','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','Failed\x20to\x20resume\x20game\x20session:','gameData','จำนวนเต็มบวก','game-start-modal-title','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','bank-input-area','passing-score-input','player-list-lobby','quiz-type-select','questionText','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ข้อที่\x20','focus','deselect-all-topics-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','การคูณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','request','<tr>','mode','Error\x20showing\x20quiz\x20detail\x20view:','ไม่ผ่าน','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','data','text-content-input','modal-loop-until-pass-checkbox','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','student-progress-content','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','quiz-results-table-body','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ไม่สามารถเริ่มเกมได้','.color-palette-popup','scratchpad-options','show-in-student-dashboard-checkbox','scratchpad-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','behaviorLog','Error\x20updating\x20sort\x20preference:','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','quiz-generation-area',',\x20r=','/public/data/syncGames','ปิดใช้งาน','.ai-fix-formula-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','idealAnswer','player-count','practiceProblems','approx','exitFullscreen','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','team','.generate-post-test-btn','ความเท่ากันทุกประการของสามเหลี่ยม','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','sync-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','live-race','พบ\x20Team\x20Quiz!','เกิดข้อผิดพลาดในการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','FileReader\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x22\x20data-pre-test-id=\x22','delete-svg-btn','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','global-live-game-modal','leaderboard-tab','isAdaptive','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','both','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','modal-results-display-select','ลำดับเลขคณิต\x20(AP)','removeItem','drop','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','totalPoints','lesson-plan-modal','\x22...','source-over','style','export-leaderboard-image-btn','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','list-view-btn','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','Error\x20saving\x20quiz:','undo-btn','has','correctAnswer','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','setTransform','quadraticCurveTo','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','test','พื้นที่ผิวรูปทรงสามมิติ','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','หน่วยมวล/น้ำหนักและการแปลง','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x5cdiv','fadeStartTime','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','then','endTime','\x5cge','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','short','.ideal-answer-input','#student-quiz-leaderboard-content\x20thead','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','(^|[^\x5c\x5c])\x5cb','Error\x20comparing\x20results:','.kick-player-btn-sync','ไม่พบข้อมูลข้อสอบหลังเรียน','lesson-plan-content','ตัวแปรและนิพจน์','scratchpad-modal','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','file-tab','เปลี่ยนชื่อโปรเจคสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','bank-quiz-search-input','ระยะทางและจุดกึ่งกลาง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','รากที่สองและที่สาม','%</span>','fromCharCode','check-answer-btn','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','border-green-300\x20bg-green-50','tan','min','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','640733pyWAeG','ที่พิมพ์ได้\x20จำนวน\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','.submittedAt','<p><strong>คำตอบของคุณ:</strong>\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','text-green-700','confirm-team-players-btn','Error\x20listening\x20for\x20custom\x20math\x20topics:','.status','showImproveButton','.project-card-container','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','num-choices','toDate','execCommand','[data-topic-container-id]','เนื้อหาสำหรับสอน:\x20','การหารเศษส่วน','grabbing','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','BOOLEAN','comparison','274192258111','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','true','\x20mr-2\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันค่าสัมบูรณ์','input[type=\x22text\x22]','คณิตการเงิน/บูรณาการ','อัตราส่วนและสัดส่วน','loopUntilPass','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<p\x20class=\x22','worksheet-tab','admin-password-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','.edit-custom-topic-btn','specialist','shadowBlur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</tbody></table>','Error\x20saving\x20quiz\x20edits:','</li>','เรขาคณิตวิเคราะห์','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','<div\x20class=\x22','AI\x20grading\x20failed:','load-quiz-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-btn','image/png','explanation','startedAt','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','<option\x20value=\x22\x22>กำลังโหลด...</option>','114hKtdJx','.pdf','retake-quiz-loop-btn','confirm-passcode-btn','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','fill_in_with_choices','reduce','Error\x20generating\x20from\x20link:','td,\x20th','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','(หลังเรียน)\x20','manage-players-btn','selected-topics-count','confidence-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-600','Error\x20generating\x20quiz:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','พื้นที่สี่เหลี่ยม','สมการเชิงเส้นตัวแปรเดียว','คัดลอกแบบทดสอบสำเร็จ','Error\x20listening\x20for\x20projects:','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','not_confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ยอดเยี่ยม!','export-worksheet-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','กฎของโคไซน์','text-red-300\x20hover:text-red-100','blockReason','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','ลิมิต','list','pre-test-checkbox','</span></div>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','manage-tab-content','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','summary','blur','open','AI\x20ไม่สามารถแยกหัวข้อได้','ปริมาตรรูปทรงสามมิติ','quiz-settings-modal','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','Error\x20generating\x20teaching\x20content:','\x5cneq','getBoundingClientRect','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','behavior-log-container','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20data-name=\x22','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','bg-red-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','questionType','http://www.w3.org/2000/svg','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','game-start-mode','classWeaknesses','isRemedial','อัปเดตการตั้งค่าของแบบทดสอบ\x20','.color-palette-btn','\x20\x20\x20-\x20คำตอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','ท็อปฟอร์ม','confirm-join-game-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerIndex','undefined','ปริพันธ์จำกัด','quiz-leaderboard-table-container','show-leaderboard-btn','quiz-editor-questions-container','การนับ','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mean','start-sync-game-btn','empty','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','Error\x20updating\x20quiz\x20status:','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dragend','post-test','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','thead','analytics','parallel-test-tab','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','textarea[name=\x22question_single\x22]','show_pass_fail_only','อัปเดตแบบทดสอบเก่า\x20','fixedData','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-quizzes-list','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','<tr><td\x20colspan=\x22','ไม่พบแบบทดสอบในระบบเลย','link-tab','teacherTips','actions-container-','round','analytics-summary-cards','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results-display-select','จับคู่แบบทดสอบสำเร็จ!','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','target','generate-from-link-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','normal','every','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</strong></p>','cancel-admin-login-btn','export-lesson-pdf-btn','touchcancel','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','qType','.topic-selection-btn','separate-by-content-checkbox','/public/data/quizzes/','#retake-for-improvement-btn','worksheet-input-area','touchstart','live-player-list','points','whole_quiz','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','quiz-form','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','บันทึกแบบทดสอบสำเร็จแล้ว!','เกี่ยวกับหัวข้อ\x20\x22','confirm-move-quiz-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-global-live-btn','fixed','All\x20groups\x20have\x20finished.\x20Ending\x20game.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','ฟังก์ชันแบบชิ้นส่วน','การยืนยันตัวตนล้มเหลว','close-presentation-btn','hover:bg-indigo-100','.pen-color-btn','.presentation-option','join','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','confidence-scoring-description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100','dimmed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','student-name-selection-view','label','top','students','$1^{\x5ccirc}','pen-tools-group','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','.quiz-bank-present-btn','screen_exit','catch','pow','ฟังก์ชันพหุนาม','default','analytics-tab-btn','files','.draggable-text','\x20ตัวเลือก)','padStart','Failed\x20to\x20end\x20group\x20mode\x20game:','bulk-confidence-mode-select','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','admin-try-quiz-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','status','isArray','student-view','message','touches','eraser-tool-btn','repeat','temp-loader-text-results','per-question-options','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','click','กรุณาป้อนรหัสแบบทดสอบ','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','visible','Error\x20adding\x20students:','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-test-btn','attempts','เกิดข้อผิดพลาดในการอัปเดต:\x20','\x20สำเร็จ','คำถามดิบ:\x20\x22','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x20รายการ\x20สำเร็จ!','push','</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','mousedown','textContent','เงินงวด\x20(อนุกรมเงินงวด)','\x22\x5cn','getAttributeNS','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','sort','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','ผ่าน','text-input-area','latestScore','learningGaps','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','warn','2-digit','draggable-text','</div>\x0a</div>\x0a','ลำดับการดำเนินการ\x20(PEMDAS)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบซ่อม','</p><p><strong>เฉลย:</strong>\x20','q-explanation-','\x5c\x5c\x5c\x5c(?=(','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','.doc','Error\x20generating\x20worksheet:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20parallel\x20test\x20from\x20bank:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','no-projects-msg','back-from-results-btn','projectId','classList','.confidence-choice-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','การประยุกต์เวกเตอร์พื้นฐาน','confirm-rename-quiz-btn','Error\x20rendering\x20student\x20progress:','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','Error\x20starting\x20group\x20quiz:','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','preTScore','เกิดข้อผิดพลาดในการส่งคำตอบ','จำนวนข้อ:','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','#math-topics-checkbox-container\x20input:checked','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','textarea[name=\x22team_answer\x22]','lobby','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','parallel-test-upload-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','เกิดข้อผิดพลาดในการบันทึก','artifacts/','Error\x20during\x20class\x20analysis:','original-mode-checkbox','hidden','กิจกรรมสิ้นสุดลงแล้ว','admin-password-modal','match','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','preventDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','pairedQuizId','\x22\x20value=\x22false\x22\x20','องค์ประกอบของฟังก์ชัน','bg-black/10','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คะแนน\x20','Error\x20saving\x20submission:','bg-emerald-100','Error\x20starting\x20live\x20race:','groups.','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','export-leaderboard-excel-btn','custom-math-topic-input','.ai-fix-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','medium','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','thead\x20.sortable-header','input[type=\x22radio\x22]:checked','การแยกตัวประกอบ','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x201.\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x202.\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x203.\x20ตัวลวงทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผล\x204.\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ','first_try_ace','No\x20player\x20data\x20to\x20save.','เกิดข้อผิดพลาดในการติดดาว','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','การหารทศนิยม','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','text/html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','open-sync-scratchpad-btn','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','#26890c','ตอบถูกทุกข้อในแบบทดสอบนี้','\x5ctimes','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','confidence-mode-container','save-project-name-btn','close-student-rankings-btn','#view-rankings-btn','<div\x20class=\x22my-6\x22>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','text-red-700\x20bg-red-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','confirm-global-live-btn','rename-quiz-input','\x20คะแนน</span></div>','timer-duration-label','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','topic-input-area','latestSubmittedAt','API\x20call\x20failed','(ไม่มีชื่อ)','upper_group_count','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','overline','<div\x20class=\x22flex-1\x22></div>','student-quiz-leaderboard-table-body','</span></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>','arrayBuffer','ไม่สามารถเพิ่มนักเรียนได้','.start-game-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ไม่มี','global-live-game-count','enable-passcode-checkbox','confidence-input-','touch','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','closePath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','ตรีโกณมิติ','getTextContent','Error\x20opening\x20quiz\x20editor:','rgba(79,\x2070,\x20229,\x201)','font-bold\x20text-red-700\x20line-through','(ฉบับง่าย)\x20','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','.question-editor-item[data-q-index=\x22','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','#FEF3C7','per-question-text','class','currentQuestionIndex','กรุณาเลือกไฟล์ก่อน','team-quiz-topic','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-parallel-test-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','generate-worksheet-btn','\x22\x20จำนวน\x20','commit','-\x20ข้อ\x20','export-pdf-modal','print','เวกเตอร์และเมทริกซ์\x20(เสริม)','save-settings-btn','correctResponse','text-green-600','startsWith','dispatchEvent','Leaderboard\x20update\x20transaction\x20failed:\x20','findIndex','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์หลักสูตรการศึกษา\x20(Curriculum\x20Analyst)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือการอ่านและวิเคราะห์ข้อความที่คัดลอกมาจากเอกสาร\x20\x22Test\x20Blueprint\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อความต่อไปนี้\x20ให้ระบุ\x20\x22สาระการเรียนรู้\x22\x20หรือ\x20\x22หัวข้อหลัก\x22\x20ที่จะทำการทดสอบออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อความจาก\x20Blueprint:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','link-topic-input','เมทริกซ์:\x20บวก/คูณ','addEventListener','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','pre-test','export-pdf-btn','appendChild','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-red-200\x20text-red-800','promise','postScore','.answer-text','STRING','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','mandatory','promptFeedback','ฟังก์ชันกำลังสองและกราฟ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not-found','[*]','/public/data/teamQuizzes','สร้างคำถามแบบใช่/ไม่ใช่','POST','isConfidenceScoringEnabled','ปริมาตร/ความจุและการแปลง','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','การแจกแจงทวินาม\x20(พื้นฐาน)','toFixed','submittedAt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','far\x20fa-star','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','fa-crown\x20text-yellow-500','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','scores-tab-content','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','next-sync-question-btn','การปัดเศษและประมาณค่า','uid','innerText','COMEBACK_KING','instructions','fa-bolt\x20text-blue-500','.verification-result-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','live-game','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','text-emerald-800','ไม่สามารถโหลดข้อมูลอันดับได้','กรุณาเลือกคำตอบ','(คัดลอก)\x20','pinned-items','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','rgba(239,\x2068,\x2068,\x200.9)','\x5cs*\x5c(','sync-submit-btn','commonMistakes','ring-purple-400','input[name=\x22team_player\x22]:checked','filter','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','strength-weakness-analysis-container','<option\x20value=\x22','quizId','end-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkbox','answering','players','แบบทดสอบนี้ปิดใช้งานอยู่','.delete-custom-topic-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','bg-green-50','.quiz-bank-settings-btn','wheel','sync','.topic-actions-view','highlighter-size-value','q-text-','AI\x20แก้ไขคำถามสำเร็จ!','\x5csqrt{$1}','question','.edit-question-btn','text-indigo-800','สอบปกติ','\x20หัวข้อ)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','.topic-name-display','shuffledQuiz','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ใช่','save','ความคล้ายของรูป','inactive',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','tooltipTarget','presentation-scratchpad-btn','Error\x20fetching\x20quiz\x20settings:','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','font-bold\x20text-green-700','<option>กำลังโหลดโปรเจค...</option>','<textarea\x20name=\x22question','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','string','.csv','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','Error\x20fetching\x20projects\x20for\x20move:','update','admin-view','back-to-student-initial-btn','บันทึกการตั้งค่าสำเร็จ','prod','$1\x20\x5cfrac','file-topics-list-container','link-input-area','answer','slice','\x22>ไม่ใช่</p>','getContext','student-reading-area','ยังไม่เต็มนะ','\x22\x20name=\x22question_single\x22\x20value=\x22','update-old-quizzes-btn','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','ceil','close-lesson-plan-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','showInStudentDashboard','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คู่\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','results-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','bg-green-100','results','sum','scale','createElement','pinnedProjects',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','คำเตือน\x20(','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x22\x20class=\x22pin-project-btn\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','geq','toLowerCase','ความชันเส้นสัมผัส','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','join-group-activity-btn','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','bg-red-500\x20text-white\x20font-bold','ยอดเยี่ยม','บันทึกการตั้งค่าแล้ว','pin','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ส่วนเบี่ยงเบนมาตรฐาน','มุมพิเศษ\x2030°-60°-90°','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','confidence-scoring-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit-team-answer-btn','พิสัย','\x22><i\x20class=\x22fas\x20','การกระจายและการจัดหมู่','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Copy\x20command\x20failed','generate-from-topic-btn','.delete-svg-btn','กราฟแท่ง\x20กราฟเส้น','เกิดข้อผิดพลาดในการลบแบบทดสอบ','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','^{\x5ccirc}\x5ctext{C}$','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20game\x20results:','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','เกิดข้อผิดพลาดในการลบหัวข้อ','destroy','</p></div>','\x20ชุดสำเร็จ!','Error\x20generating\x20from\x20parallel\x20test\x20file:','.highlighter-color-btn','เปิด\x20(จับเวลา)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','correct','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22>ไม่ใช่</label></div>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','questionStatus','results-tab','half_mark_status','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','student-name-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','แบบทดสอบนี้หมดเวลาแล้ว','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','keyConcepts','confirm-confident','ราชาคัมแบ็ก','nickname-input','ไม่สามารถโหลดรายการโปรเจคได้','delete-all-students-btn','timer-mode-select','cancel-quiz-edits-btn-footer','export-leaderboard-pdf-btn','back-to-home-manual-release','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','touchmove','tGain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','isPinned','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','กำลังจับคู่...','<i\x20class=\x22fas\x20fa-pen\x22></i>','คัดลอกไม่สำเร็จ','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','ON_FIRE','category','removeChild','all','ใช่\x20/\x20ถูก','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','.start-presentation-list-btn','ตารางความถี่','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','getItem','ลบแบบทดสอบสำเร็จแล้ว','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','export-compact-pdf-btn','การบวกทศนิยม','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','กำลังสร้างเนื้อหา:\x20','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.sortable-header','toggle','.topic-category','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','score-distribution-chart','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','originalQuestionText','project-sort-select','bulk-confidence-scoring-checkbox','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','export-leaderboard-word-btn','schedule','แบบเติมคำตอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','#e21b3c','student-team-selection-view','หลังเรียน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','Authentication\x20failed:','starred-project','N/A','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','Error\x20adding\x20custom\x20topic:','summary_chart','\x22\x20class=\x22delete-project-btn\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','left','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','fa-pen','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','#results-table\x20thead\x20tr','กำลังค้นหากิจกรรม...','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','fullscreenchange','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','ไม่ได้ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','presentation-ai-result','<div>','อนุพันธ์:\x20ผลคูณ/ผลหาร','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','สรุปผลการวิเคราะห์:\x5cn','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','/public/data/quizzes','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการค่าสัมบูรณ์','\x20รายการ...','text-white','start-game-btn','```json','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20listening\x20for\x20student\x20profiles:','text/csv;charset=utf-8;','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topic-input','.quiz-bank-move-btn','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','กำลังสร้างแบบทดสอบ\x20\x22','confirm-game-start-modal','<i\x20class=\x22fas\x20fa-magic\x22></i>','border-gray-200','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','grid','force-math-checkbox','\x5cfrac{$1}{$2}','leaderboard-table-body','</button>','separate-by-content-from-file-checkbox','ทำคะแนนเต็มในการทำครั้งแรก','อัตราการเปลี่ยนแปลงทันที','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความสัมพันธ์ของมุม','$1^{\x5ccirc}\x5ctext{C}','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','options','student-progress-view','active','confirm-bulk-quiz-settings-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','text-gray-400\x20hover:text-indigo-600','code','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','modal-timer-mode-select','Error\x20starting\x20sync\x20game:','คำถามถัดไป','comparison-individual-content','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','attemptNumber','\x22>จาก:\x20','file-topics-list','สร้างคำถามแบบเติมคำในช่องว่าง','แบบทดสอบ:\x20','.correct-response-input','กรุณาเลือกสถานะ','.pin-project-btn','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','manage-tab','transparent','bg-green-400\x20text-white\x20font-bold','manage','projectView','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','keydown','fa-fire\x20text-orange-500','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed\x20with\x20status:\x20','$1_{$2}','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','_opt0\x22\x20name=\x22question','submit-group-answer-btn','จำนวนและการดำเนินการ','.answers','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','blueprint-upload-input','cdot','อนุพันธ์:\x20กฎพื้นฐาน','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mixed','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','กำลังเตรียมไฟล์ข้อสอบอ้างอิง...','สลับไปโหมดนักเรียน','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','viewBox','matching','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-clear-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','moveTo','afterend','สร้างแบบทดสอบ','type','random','copy-quiz-id-btn','short_answer','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','timerDuration','project-detail','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','json','ai-quiz-app-aefee.firebaseapp.com','.lastAnswerCorrect','from','stepByStepExamples','trail-tool-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','outerHTML','กลุ่มของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','confirm-not-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x5cle','fa-rocket\x20text-purple-500','move-quiz-modal','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','stopPropagation','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','คัดลอกรหัสแล้ว!','checked','1326003KIETlY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','parseFromString','.isScored','pointerdown','ลำดับเรขาคณิต\x20(GP)','generate-from-file-btn','canvas','display','.save-custom-topic-btn','save-game-results-checkbox','.admin-try-quiz-list-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','showRankings','option','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','name_desc','AI\x20ไม่สามารถประมวลผลข้อมูลได้','score','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','globalCompositeOperation','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerMode','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','#FFFFFF','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','rename-quiz-modal','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','download','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','#E5E7EB','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','พื้นที่ใต้กราฟ/ระหว่างกราฟ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','</option>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','readAsDataURL','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','shuffleSetting','/submissions','confirm-create-project-btn','สมการลอการิทึม','cloneNode','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','ผู้เชี่ยวชาญ','grid-view-btn','ฟังก์ชันราก\x20(root)','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','binom','Error\x20analyzing\x20file\x20for\x20topics:','bulk-quiz-settings-modal','bulk-confidence-mode-container','confirm-quiz-settings-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','div','comparison-individual-tab','student-quiz-topic','<li>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lessonPlan','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','document','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','index','isCorrect','\x20คนที่ส่ง\x20ตอบถูก\x20(','#6366F1','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses.','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','ค่าเสื่อมราคา','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','topic-input','ยืนยันและอัปเดตทั้งหมด','<p\x20class=\x22text-gray-500\x22>ไม่พบหัวข้อที่ชัดเจนใน\x20Blueprint\x20นี้</p>','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','bar','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','pop','bg-green-200','opacity-50','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','hasPerfectScoreBonus','พีชคณิตและฟังก์ชัน','export-word-btn','studentName','doughnut','.regenerate-question-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','deg','worksheet-topic-input','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x20</div>\x0a\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','การแปลงรูปอัตลักษณ์','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','.quiz-bank-try-btn','quiz','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','red','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','drill-feedback','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','.parallel-quiz-btn','onload','behavior-log-tab-content','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','querySelector','ชื่อหัวข้อห้ามว่าง','.mb-6.p-4','select[name=\x22question_single\x22]','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','ไม่สามารถสร้างโปรเจคได้','_blank','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','modal-confidence-mode-select','dashboardConfig','removeEventListener','release','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','submit','Invalid\x20response\x20structure\x20from\x20AI.','Error\x20confirming\x20players\x20for\x20sync\x20game:','rgba(16,\x20185,\x20129,\x200.7)','project-id-display','log','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','เกิดข้อผิดพลาด:\x20','setItem','สถิติและความน่าจะเป็น','กราฟฟังก์ชันตรีโกณ','th-TH','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','error','มุมและการวัดมุม','find','.toggle-actions-btn','parse',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','cancel-game-start-btn','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x22\x20value=\x22true\x22\x20','student-progress','documentElement','Firebase\x20initialization\x20failed:','now','frac','quick_thinker','questionId','การลบ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','comparison-overall-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5c%','<div><input\x20type=\x22radio\x22\x20id=\x22q','สำหรับโปรเจค:\x20','text-gray-700','cancel-global-live-btn','confidence-scoring-toggle','backgroundColor','ยังไม่มีนักเรียนส่งงาน','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_and_answers','contents','ทฤษฎีบทพีทาโกรัสและการประยุกต์','create-from-bank-btn','ตอบถูก\x203\x20ข้อติดต่อกัน','line-through\x20text-red-700','รูปแบบการให้เหตุผล','back-to-dashboard-from-results-btn','currentMode','#ffffff','text-red-700','closest','bg-red-50','<span\x20class=\x22font-bold\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','presentation-short-answer-input','</label></div>','eraser','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','goto-next-question-btn','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','สลับไปโหมดผู้ควบคุม','คณิตศาสตร์','หมดเวลาสำหรับข้อนี้!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','after','set','lowerGroupResponders',':</span><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','ไม่พบโปรเจค','เกิดข้อผิดพลาดในการเข้าร่วมเกม','keys','map','ผลรวมอนุกรม\x20(Σ)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.png','ring-2','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','รูปสแควร์รูท\x20(surd)','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</body></html>','กรุณาเลือกโปรเจคปลายทาง','ข้อ\x20','217524oRHXVb','ยังไม่ส่ง','blueprint-topics-list-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','[role=\x22textbox\x22]','substring','student-list','close-comparison-modal-footer-btn','ตั้งเวลา\x20(เปิด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','finished','text-gray-300\x20hover:text-white','auto-fix-latex-btn','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','href','clearRect','Re-grade\x20process\x20failed:','<p\x20class=\x22text-xl\x22>','floor','live-submit-short-answer-btn','OBJECT','pen-tool-btn','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','MathJax','ฮิสโตแกรม','เกิดข้อผิดพลาดในการนำผู้เล่นออก','preTestId','parentElement','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','<div\x20class=\x22my-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','neq','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','projectSort','sync-short-answer-input','currentTarget','autoTable','วงกลม:\x20สมการและสมบัติ','ระบบสมการเชิงเส้นสองตัวแปร','lastAnswerCorrect','quiz-bank-modal','student','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20team\x20quiz:','bg-purple-50','shadowColor','สมมาตร\x20(แกน/จุด)','0\x200','game-pin-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Error\x20loading\x20quiz\x20for\x20student:','Error\x20verifying\x20answers\x20in\x20editor:','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.quiz-settings-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','editable-quiz-topic','confirm-quiz-status-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','อสมการเชิงเส้น','analyze-strengths-btn','<div\x20id=\x22q-image-container-','<div\x20class=\x22mb-3\x20topic-category\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','overallGroups','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','width','text','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','<div\x20class=\x22loader\x20mx-auto\x22></div>','startTime','<tr\x20class=\x22','live-player-management','ref','isFinished','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','kick-player-btn','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','bg-green-100\x20font-bold','manual_release','สัญกรณ์วิทยาศาสตร์','lineJoin','stroke','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','rgba(255,\x20255,\x200,\x200.5)','.project-card-container.opacity-50','\x5cpm','ระยะจากจุดถึงเส้นตรง','.\x20แต่ละข้อมี\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','/questionBank','forEach','Error\x20displaying\x20question\x20bank:','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','Error\x20updating\x20custom\x20topic:','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','check-presentation-answer-btn','clientX','get','\x22.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','view-my-progress-btn','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-content-btn','totalQuestions','btn','getPage','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','admin','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','student-join-game-view','กรุณาใส่ชื่อโปรเจค','#results-table','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','/preferences/main','<button\x20id=\x22','bg-gray-50','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','select-all-topics-btn','แบบทดสอบซ่อมเสริม','ดูผลสรุปสุดท้าย','(คู่ขนาน)\x20','setAttribute','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','(ก่อนเรียน)','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','allResponses','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','bg-black/20','svg','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x22\x20data-q-type=\x22','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','comparison-modal','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','createdAt','00:00','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','<h1></h1>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scores','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','selected-answer-index-hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20updating\x20quiz\x20settings:','move-quiz-project-select','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','global-quiz-list','lowerGroupNames','Error\x20updating\x20project\x20color:','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','modal-passing-score-input','imageCode','.move-quiz-btn','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.live-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-drill-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ai-quiz-generator-v3','Team\x20Quiz','มัธยฐาน','isPasscodeEnabled','Failed\x20to\x20kick\x20player\x20','</span>','บันทึกผลการเล่นเกมของ\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','PERFECT_SCORE','ถูก','onerror','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','projectOrder','scheduled','สร้างชุดคำถามจับคู่','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','topics','toString','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','.file-topic-selection-btn','answerText','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-800','Original\x20quiz\x20not\x20found','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','include-images-checkbox','confirm-delete-btn','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','requestFullscreen','student-quiz-leaderboard-content','move','editor-quiz-topic','keyup','save-quiz-btn','สร้างแบบทดสอบปรนัย','Error\x20generating\x20hybrid\x20quiz:','results-quiz-id-display','fas\x20fa-bookmark','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x22.\x20Ideal\x20Answer:\x20\x22','ดอกเบี้ยอย่างง่าย','players.','mouseleave','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x20ข้อ...','name_asc','Error\x20unpairing\x20quizzes:','answerValue','\x22\x20ให้เป็นคำถามประเภท\x20\x22','ลบผลสอบของ\x20','สุดยอด!\x20ตอบถูกทุกข้อ','quiz-results-view','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprint-input-area','quiz-editor-modal','สามเหลี่ยม\x20(ชนิด/สมบัติ)','Error\x20toggling\x20pin\x20status:','deltaY','content','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','.delete-student-btn','leaderboard_','globalAlpha','webkitRequestFullscreen','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','hasOwnProperty','show-results-btn','math-topics-checkbox-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','bg-red-500','desc','\x20ใหม่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','offsetWidth','submissions','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add','destination-out','ai-quiz-app-aefee','.score','เส้นตรง:\x20รูปแบบสมการ','สู้ๆ\x20ลองอีกครั้งนะ','values','gamePin','การบวก','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','4112924DUvTcb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','จากเนื้อหาต่อไปนี้:\x20\x22','rgba(59,\x20130,\x20246,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','Error\x20resetting\x20project\x20order:','leaderboard-tab-content','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','/public/data/liveGames','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-quiz-id','groups','project-title','อินเวอร์สของเมทริกซ์','results_','ลบหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปแต่ละหัวข้อให้สั้น\x20กระชับ\x20และเข้าใจง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ไม่ต้องใส่รหัสตัวชี้วัดหรือรายละเอียดปลีกย่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตอบกลับมาเป็น\x20JSON\x20array\x20ของ\x20string\x20เท่านั้น\x20โดยแต่ละ\x20string\x20คือชื่อหัวข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์ที่ต้องการ:\x20[\x22การบวก\x20ลบ\x20คูณ\x20หารระคน\x22,\x20\x22การเปรียบเทียบเศษส่วน\x22,\x20\x22โจทย์ปัญหาอัตราส่วนและร้อยละ\x22,\x20\x22ความยาวรอบรูปและพื้นที่ของวงกลม\x22]\x0a\x20\x20\x20\x20\x20\x20\x20\x20','split','stem','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','classStrengths','live-game-view','.summary-bar-item','pen','#E0E7FF','hint-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDataURL','color','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','leaderboard-quiz-tab-content','.generate-easy-version-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','cancel-create-project-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','</span><span\x20class=\x22font-bold\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','admin-dashboard','blueprint-topics-list','fa-user-astronaut\x20text-blue-700','-tab','toISOString','ไม่มีผู้ตอบตัวเลือกนี้','confirmation-message','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','#F3E8FF','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','projectName','mousemove','mouse','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Sync\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','comeback_king','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','upperGroupNames','ควรปรับปรุง','ร้อยละประยุกต์','Error\x20joining\x20live\x20game:','remove','<p><strong>คำตอบที่แนะนำ:</strong>\x20','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-star\x20text-yellow-500','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-custom-math-topic-btn','.cancel-edit-topic-btn','เกิดข้อผิดพลาดในการโหลดโปรเจค','ย้ายแบบทดสอบสำเร็จ','mjx-container','.delete-submission-btn','.verification-result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','includes','คะแนนเต็ม!','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','items','.quiz-result-card','จำนวนเชิงซ้อน\x20(เสริม)','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','perQuestionStats','การจัดกลุ่มข้อมูล','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','some','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','project-name-input','passcode','date_desc','เกิดข้อผิดพลาดในการอ่านไฟล์','back-to-dashboard-btn','.ideal-answer-input,\x20.correct-response-input','การลบทศนิยม','reset-view-btn','team-player-status-grid','border-red-300\x20bg-red-50','ค่าเฉลี่ย','rows','fullscreenElement','คะแนน','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','ไม่พบข้อมูลแบบทดสอบ','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','end-game-btn','เพิ่มหัวข้อ\x20\x22','กรุณาใส่ชื่อใหม่','sync-manage-players-btn','\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','.answered','sync-matching-select','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ชุด)','student-result-area','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','มุมพิเศษ\x2045°-45°-90°','.quiz-status-btn','blueprint-tab','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','perseverance','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','scrollX','toLocaleDateString','\x20รายการสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','จับคู่เพื่อเปรียบเทียบผล','quizType','next-question-timed-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20committing\x20score\x20updates:','confirm-admin-login-btn','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','3.\x20วิเคราะห์\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจสไตล์และระดับความยาก','GlobalWorkerOptions','submission-status-chart','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createObjectURL','Error\x20generating\x20lesson\x20plan:','starred','podium','ข้อต่อไป','live-options-container','.answeredCurrentQuestion','strokeStyle','\x20mb-2\x22>','progress-student-select','\x20(ID:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการราก\x20(radical)','generated-quiz-actions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','team-student-list','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','กำลังอ่านและเตรียมไฟล์...','shuffle','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','10735euoJEJ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasConfident','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ownerSVGElement','multiply','fill_in_no_choices','\x22><p\x20class=\x22font-semibold\x22>','.topic-name-input','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','parallel-test-input-area','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','justification','.edit-quiz-btn'];_0x373f=function(){return _0x401895;};return _0x373f();}async function handleGenerateEasyVersionQuiz(_0x246717){const _0x513f9f=_0xbb2a9e,_0x4135e2=document[_0x513f9f(0x9c1)](_0x513f9f(0xb2b)),_0x12874f=document[_0x513f9f(0x9c1)](_0x513f9f(0x396));_0x12874f[_0x513f9f(0x431)]['add']('hidden');const _0x562f86=_0x513f9f(0xa3d);_0x4135e2['insertAdjacentHTML']('beforeend',_0x562f86);try{const _0xfc9923=allQuizzes[_0x513f9f(0x748)](_0x506955=>_0x506955['id']===_0x246717);if(!_0xfc9923)throw new Error(_0x513f9f(0x871));const _0xaba89f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0xfc9923[_0x513f9f(0xa17)])+_0x513f9f(0x908),_0x5a1773={'type':_0x513f9f(0x7b2),'properties':{'questionText':{'type':_0x513f9f(0x4e5)},'questionType':{'type':'STRING'},'options':{'type':_0x513f9f(0xa9c),'items':{'type':_0x513f9f(0x4e5)}},'correctAnswerIndex':{'type':_0x513f9f(0xab2)},'idealAnswer':{'type':_0x513f9f(0x4e5)},'explanation':{'type':_0x513f9f(0x4e5)},'imageCode':{'type':'STRING'}},'required':[_0x513f9f(0x23b),'questionType','explanation']},_0x430306={'type':_0x513f9f(0x7b2),'properties':{'questions':{'type':_0x513f9f(0xa9c),'items':_0x5a1773}},'required':[_0x513f9f(0xa17)]},_0x19fae1=await callAnalysisApi(_0xaba89f,_0x430306);_0x19fae1&&_0x19fae1['questions']&&_0x19fae1[_0x513f9f(0xa17)][_0x513f9f(0x803)](_0x19bd38=>{const _0x4b8ee1=_0x513f9f;if(_0x19bd38[_0x4b8ee1(0x8a1)]('imageCode')){const _0x293ab8=String(_0x19bd38['imageCode'])[_0x4b8ee1(0x9aa)]();(_0x293ab8===''||_0x293ab8[_0x4b8ee1(0x57e)]()===_0x4b8ee1(0x99f)||!_0x293ab8[_0x4b8ee1(0x4ce)]('<svg'))&&delete _0x19bd38[_0x4b8ee1(0x84f)];}});if(!_0x19fae1||!_0x19fae1[_0x513f9f(0xa17)]||_0x19fae1['questions']['length']===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x53ce2b=_0x19fae1['questions']['map']((_0x37acd0,_0x345b13)=>({..._0x37acd0,'id':'q_'+Date[_0x513f9f(0x756)]()+'_'+_0x345b13})),_0x25d997={'projectId':_0xfc9923[_0x513f9f(0x430)],'quizType':_0xfc9923['quizType'],'settings':_0xfc9923[_0x513f9f(0xa79)],'createdBy':_0xfc9923['createdBy'],'status':'active','topic':_0x513f9f(0x4b5)+_0xfc9923['topic'],'questions':_0x53ce2b,'createdAt':new Date()['toISOString'](),'quizMode':_0x513f9f(0x9f6),'pairedQuizId':null};let _0x308de0;while(!![]){_0x308de0=Math['floor'](0x3e8+Math[_0x513f9f(0x688)]()*0x2328)[_0x513f9f(0x86b)]();const _0x36c3ae=await getDoc(doc(db,_0x513f9f(0x44d)+appId+'/public/data/quizzes',_0x308de0));if(!_0x36c3ae[_0x513f9f(0x9ce)]())break;}await setDoc(doc(db,_0x513f9f(0x44d)+appId+_0x513f9f(0x622),_0x308de0),_0x25d997),showMessage(_0x513f9f(0x8e1));}catch(_0x3c5233){console[_0x513f9f(0x746)](_0x513f9f(0x200),_0x3c5233),showMessage(_0x513f9f(0x73f)+_0x3c5233[_0x513f9f(0x3f4)]);}finally{const _0x3db0a6=document[_0x513f9f(0x9c1)](_0x513f9f(0xab0));_0x3db0a6&&_0x3db0a6['remove'](),_0x12874f[_0x513f9f(0x431)][_0x513f9f(0x905)](_0x513f9f(0x450));}}async function generatePracticeQuestions(_0x53f067){const _0x274b03=_0xbb2a9e,_0x5827be=_0x274b03(0x6b3)+_0x53f067+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x274b03(0x5b5),_0x1fa833={'type':_0x274b03(0x7b2),'properties':{'questionText':{'type':_0x274b03(0x4e5)},'options':{'type':_0x274b03(0xa9c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x274b03(0xab2)},'explanation':{'type':_0x274b03(0x4e5)}},'required':['questionText',_0x274b03(0x643),_0x274b03(0xad0),_0x274b03(0x324)]},_0x2eda97={'type':_0x274b03(0x7b2),'properties':{'topic':{'type':_0x274b03(0x4e5)},'questions':{'type':_0x274b03(0xa9c),'items':_0x1fa833}},'required':[_0x274b03(0xb4a),_0x274b03(0xa17)]};return await callAnalysisApi(_0x5827be,_0x2eda97);}function displayLessonPlan(_0x1871e0,_0x387487){const _0x568234=_0xbb2a9e,_0x1306a3=_0x568234(0x2a3)+_0x387487[_0x568234(0xb4a)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x1871e0[_0x568234(0x41a)]['map'](_0x1fd3b5=>_0x568234(0x6ec)+_0x1fd3b5+_0x568234(0x31b))['join']('')+_0x568234(0x240)+_0x1871e0[_0x568234(0x1ee)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x1871e0[_0x568234(0x26f)][_0x568234(0x791)](_0x309e9b=>_0x568234(0x8c1)+_0x309e9b[_0x568234(0x533)]+_0x568234(0x425)+_0x309e9b['solution']+_0x568234(0x5a2))[_0x568234(0x3cf)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x568234(0xb01))[_0x568234(0x410)]=_0x568234(0x287)+_0x387487[_0x568234(0xb4a)],document['getElementById'](_0x568234(0x2d0))[_0x568234(0x1c3)]=_0x1306a3,document[_0x568234(0x9c1)](_0x568234(0x299))[_0x568234(0x431)]['remove'](_0x568234(0x450));if(window['MathJax'])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x3d5232){const _0x381d3a=_0xbb2a9e;let _0x5572ff=0x0;const _0x45b53b=_0x3d5232[_0x381d3a(0xa17)],_0x74bbef=()=>{const _0x45ed0d=_0x381d3a,_0x59298f=_0x45b53b[_0x5572ff],_0x2dbd3a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x5572ff+0x1)+_0x45ed0d(0xafc)+_0x45b53b[_0x45ed0d(0xa7c)]+_0x45ed0d(0x6d1)+_0x59298f[_0x45ed0d(0x23b)]+_0x45ed0d(0x8f3)+_0x59298f[_0x45ed0d(0x643)][_0x45ed0d(0x791)]((_0x147326,_0x423fc9)=>_0x45ed0d(0x43b)+_0x423fc9+_0x45ed0d(0xac5)+_0x423fc9+_0x45ed0d(0x2d5)+_0x423fc9+'\x22>'+_0x147326+_0x45ed0d(0x999))[_0x45ed0d(0x3cf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x45ed0d(0x1c3)]=_0x2dbd3a;if(window[_0x45ed0d(0x7b6)])MathJax[_0x45ed0d(0x987)]([studentQuizArea]);document[_0x45ed0d(0x9c1)](_0x45ed0d(0x8d6))[_0x45ed0d(0x4da)]('click',async()=>{const _0x3d5b87=_0x45ed0d,_0x31ea34=await getHintForQuestion(_0x59298f[_0x3d5b87(0x23b)]);showMessage(_0x31ea34);}),document[_0x45ed0d(0x9c1)](_0x45ed0d(0x2e0))[_0x45ed0d(0x4da)](_0x45ed0d(0x3fb),()=>{const _0x5e9249=_0x45ed0d,_0x21e1c4=document[_0x5e9249(0x729)]('input[name=\x22drill_answer\x22]:checked');if(!_0x21e1c4){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x3664ad=document[_0x5e9249(0x9c1)](_0x5e9249(0x723)),_0x16a94a=parseInt(_0x21e1c4[_0x5e9249(0x9b2)])===_0x59298f[_0x5e9249(0xad0)];_0x16a94a?(_0x3664ad[_0x5e9249(0x9b7)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x3664ad[_0x5e9249(0x1c3)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x59298f['explanation']):(_0x3664ad[_0x5e9249(0x9b7)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x3664ad['innerHTML']=_0x5e9249(0xae7)+_0x59298f[_0x5e9249(0x324)]);_0x3664ad[_0x5e9249(0x431)][_0x5e9249(0x905)](_0x5e9249(0x450));if(window[_0x5e9249(0x7b6)])MathJax['typesetPromise']([_0x3664ad]);document['getElementById'](_0x5e9249(0x2e0))[_0x5e9249(0x431)][_0x5e9249(0x8af)]('hidden'),document['getElementById'](_0x5e9249(0x8d6))[_0x5e9249(0x431)][_0x5e9249(0x8af)]('hidden'),document[_0x5e9249(0x9c1)]('next-drill-btn')[_0x5e9249(0x431)][_0x5e9249(0x905)](_0x5e9249(0x450));}),document[_0x45ed0d(0x9c1)](_0x45ed0d(0x858))[_0x45ed0d(0x4da)](_0x45ed0d(0x3fb),()=>{const _0x14f380=_0x45ed0d;_0x5572ff++,_0x5572ff<_0x45b53b['length']?_0x74bbef():(studentQuizArea[_0x14f380(0x1c3)]=_0x14f380(0x403),document[_0x14f380(0x9c1)]('back-to-results-btn')[_0x14f380(0x4da)]('click',()=>{const _0x2fe3fd=_0x14f380;studentQuizArea[_0x2fe3fd(0x431)][_0x2fe3fd(0x8af)](_0x2fe3fd(0x450)),studentResultArea['classList']['remove'](_0x2fe3fd(0x450));}));});};_0x74bbef();}async function getHintForQuestion(_0x119d14){const _0x147ce1=_0xbb2a9e,_0x631703=_0x147ce1(0x397)+_0x119d14+_0x147ce1(0x921),_0xac1873={'type':_0x147ce1(0x7b2),'properties':{'hint':{'type':'STRING'}},'required':[_0x147ce1(0xb20)]};try{const _0x145274=await callAnalysisApi(_0x631703,_0xac1873);return _0x145274[_0x147ce1(0xb20)];}catch(_0x3df16b){return console[_0x147ce1(0x746)](_0x147ce1(0xad2),_0x3df16b),_0x147ce1(0x878);}}async function extractTextFromPdf(_0x2d341f){const _0x3618cc=_0xbb2a9e;pdfjsLib[_0x3618cc(0x957)][_0x3618cc(0xa19)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x2852a5=await _0x2d341f[_0x3618cc(0x4a1)](),_0x11d071=await pdfjsLib['getDocument'](_0x2852a5)[_0x3618cc(0x4e2)],_0x53225d=_0x11d071[_0x3618cc(0x9a1)];let _0x8b72ee='';for(let _0x2d8f83=0x1;_0x2d8f83<=_0x53225d;_0x2d8f83++){const _0x5c556b=await _0x11d071[_0x3618cc(0x814)](_0x2d8f83),_0x1a2960=await _0x5c556b[_0x3618cc(0x4b1)](),_0x2efbac=_0x1a2960[_0x3618cc(0x916)][_0x3618cc(0x791)](_0x4ba663=>_0x4ba663[_0x3618cc(0xb0c)])[_0x3618cc(0x3cf)]('\x20');_0x8b72ee+=_0x2efbac+'\x0a\x0a';}return _0x8b72ee;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x22ae64){const _0xdf4a0=_0xbb2a9e,_0x129bda=document[_0xdf4a0(0x9c1)](_0xdf4a0(0x1f0)),_0x431af1=document['getElementById'](_0xdf4a0(0x8e8));_0x129bda[_0xdf4a0(0x431)][_0xdf4a0(0x905)](_0xdf4a0(0x450)),_0x431af1[_0xdf4a0(0x1c3)]=_0xdf4a0(0xa1d);try{const _0x5f9fe2=_0xdf4a0(0x4d5)+_0x22ae64+_0xdf4a0(0x8cc),_0x330f3d={'type':'OBJECT','properties':{'topics':{'type':_0xdf4a0(0xa9c),'items':{'type':_0xdf4a0(0x4e5)}}},'required':['topics']},_0x1b2c6f=await callAnalysisApi(_0x5f9fe2,_0x330f3d);if(_0x1b2c6f&&_0x1b2c6f['topics'])extractedBlueprintTopics=_0x1b2c6f['topics'],renderBlueprintTopics();else throw new Error(_0xdf4a0(0x355));}catch(_0x5e2495){console[_0xdf4a0(0x746)]('Error\x20analyzing\x20blueprint\x20topics:',_0x5e2495),_0x431af1[_0xdf4a0(0x1c3)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(){const _0x3c567c=_0xbb2a9e,_0x45ba06=document[_0x3c567c(0x9c1)]('blueprint-topics-list');if(extractedBlueprintTopics['length']===0x0){_0x45ba06[_0x3c567c(0x1c3)]=_0x3c567c(0x703);return;}_0x45ba06[_0x3c567c(0x1c3)]=extractedBlueprintTopics[_0x3c567c(0x791)](_0x5e4010=>_0x3c567c(0xa66)+_0x5e4010+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x5e4010)+_0x3c567c(0x1c6)+escape(_0x5e4010)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function handleGenerateTeachingContent(_0x523eec){const _0x16af47=_0xbb2a9e,_0xb1fef4=document['getElementById'](_0x16af47(0x299)),_0x38dc21=document['getElementById'](_0x16af47(0x2d0));document[_0x16af47(0x9c1)]('lesson-plan-title')['textContent']=_0x16af47(0x5e5)+_0x523eec,_0x38dc21['innerHTML']=_0x16af47(0xb17),_0xb1fef4['classList'][_0x16af47(0x905)](_0x16af47(0x450));try{const _0x480104='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x523eec+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5bc496={'type':_0x16af47(0x7b2),'properties':{'keyConcepts':{'type':_0x16af47(0xa9c),'items':{'type':_0x16af47(0x4e5)}},'commonMistakes':{'type':_0x16af47(0xa9c),'items':{'type':'STRING'}},'stepByStepExamples':{'type':_0x16af47(0xa9c),'items':{'type':_0x16af47(0x7b2),'properties':{'question':{'type':_0x16af47(0x4e5)},'solution':{'type':_0x16af47(0x4e5)}},'required':[_0x16af47(0x533),'solution']}},'teacherTips':{'type':_0x16af47(0xa9c),'items':{'type':_0x16af47(0x4e5)}}},'required':['keyConcepts',_0x16af47(0x518),_0x16af47(0x694),_0x16af47(0x39c)]},_0x4f1484=await callAnalysisApi(_0x480104,_0x5bc496);displayTeachingContent(_0x4f1484,_0x523eec);}catch(_0x3912d1){console[_0x16af47(0x746)](_0x16af47(0x35a),_0x3912d1),_0x38dc21[_0x16af47(0x1c3)]=_0x16af47(0x43f)+_0x3912d1[_0x16af47(0x3f4)]+_0x16af47(0x40c);}}function displayTeachingContent(_0x3227b0,_0x55ad92){const _0x17e347=_0xbb2a9e,_0x2fdb3b=document[_0x17e347(0x9c1)](_0x17e347(0x2d0));document[_0x17e347(0x9c1)](_0x17e347(0xb01))['textContent']=_0x17e347(0x2fb)+_0x55ad92;const _0x261c36=_0x17e347(0x945)+_0x3227b0[_0x17e347(0x5ba)]['map'](_0x4f1c4f=>'<li>'+_0x4f1c4f+_0x17e347(0x31b))[_0x17e347(0x3cf)]('')+_0x17e347(0x736)+_0x3227b0[_0x17e347(0x518)]['map'](_0x31e168=>'<li>'+_0x31e168+_0x17e347(0x31b))[_0x17e347(0x3cf)]('')+_0x17e347(0x1fe)+_0x3227b0[_0x17e347(0x694)][_0x17e347(0x791)](_0x3e3571=>_0x17e347(0xaf4)+_0x3e3571['question']+_0x17e347(0x796)+_0x3e3571['solution']+_0x17e347(0x601))[_0x17e347(0x3cf)]('')+_0x17e347(0x213)+_0x3227b0[_0x17e347(0x39c)][_0x17e347(0x791)](_0x4775aa=>'<li>'+_0x4775aa+_0x17e347(0x31b))['join']('')+_0x17e347(0x3b2);_0x2fdb3b['innerHTML']=_0x261c36;if(window['MathJax'])MathJax[_0x17e347(0x987)]([_0x2fdb3b]);}async function generateQuizForSingleTopic(_0x42fb49){const _0x1763cd=_0xbb2a9e;console[_0x1763cd(0x73c)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x42fb49+'\x22');const _0x51ca32=document[_0x1763cd(0x9c1)](_0x1763cd(0x9d6)),_0x593f59=_0x51ca32[_0x1763cd(0x3e7)][_0x1763cd(0xa7c)]>0x0?_0x51ca32[_0x1763cd(0x3e7)][0x0]:null;let _0x55241f=null;if(_0x593f59)try{const _0x558dd8=new FileReader();_0x558dd8[_0x1763cd(0x6d4)](_0x593f59);const _0x4ae026=await new Promise((_0x429ea9,_0x46abfe)=>{const _0x4ad021=_0x1763cd;_0x558dd8[_0x4ad021(0x726)]=()=>_0x429ea9(_0x558dd8[_0x4ad021(0x9ee)]['split'](',')[0x1]),_0x558dd8['onerror']=_0x10e807=>_0x46abfe(_0x10e807);});_0x55241f=[{'inlineData':{'mimeType':_0x593f59[_0x1763cd(0x687)],'data':_0x4ae026}}];}catch(_0xf4de16){console[_0x1763cd(0x746)](_0x1763cd(0xa01),_0xf4de16),showMessage(_0x1763cd(0x7c0));return;}generateQuiz(_0x42fb49,null,null,_0x55241f);}async function handleGenerateFromBlueprint(){const _0x18172f=_0xbb2a9e,_0x15d45a=document[_0x18172f(0x9c1)]('blueprint-upload-input'),_0x378cc8=document[_0x18172f(0x9c1)]('reference-pdf-upload'),_0x39ef32=_0x15d45a[_0x18172f(0x3e7)][0x0],_0x487fb8=_0x378cc8[_0x18172f(0x3e7)][_0x18172f(0xa7c)]>0x0?_0x378cc8[_0x18172f(0x3e7)][0x0]:null;if(!_0x39ef32){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x5180d6=document[_0x18172f(0x9c1)]('loader'),_0x5cd8f2=document[_0x18172f(0x9c1)](_0x18172f(0x98b)),_0xbb469=document[_0x18172f(0x9c1)](_0x18172f(0x9cc)),_0x2e6c48=document[_0x18172f(0x9c1)](_0x18172f(0x818));_0x2e6c48[_0x18172f(0x9d7)]=!![],document[_0x18172f(0x9c1)]('quiz-generation-area')[_0x18172f(0x431)][_0x18172f(0x905)](_0x18172f(0x450)),_0xbb469[_0x18172f(0x1c3)]='',_0x5180d6[_0x18172f(0x431)][_0x18172f(0x905)](_0x18172f(0x450));try{_0x5cd8f2['textContent']='กำลังเตรียมไฟล์\x20Test\x20Blueprint...';const _0x1d7240=new FileReader();_0x1d7240[_0x18172f(0x6d4)](_0x39ef32);const _0x5ae976=await new Promise((_0xdda70f,_0x25bf66)=>{const _0x2b9c4b=_0x18172f;_0x1d7240[_0x2b9c4b(0x726)]=()=>_0xdda70f(_0x1d7240[_0x2b9c4b(0x9ee)]['split'](',')[0x1]),_0x1d7240[_0x2b9c4b(0x864)]=_0x23441e=>_0x25bf66(_0x23441e);}),_0x3a1930=[];if(_0x487fb8){_0x5cd8f2['textContent']=_0x18172f(0x67b);const _0x157bfc=new FileReader();_0x157bfc[_0x18172f(0x6d4)](_0x487fb8);const _0x5caaf5=await new Promise((_0x1ba613,_0x4bf7f8)=>{const _0x2dd9bc=_0x18172f;_0x157bfc[_0x2dd9bc(0x726)]=()=>_0x1ba613(_0x157bfc[_0x2dd9bc(0x9ee)][_0x2dd9bc(0x8cd)](',')[0x1]),_0x157bfc['onerror']=_0xe24a1e=>_0x4bf7f8(_0xe24a1e);});_0x3a1930[_0x18172f(0x40b)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'}),_0x3a1930[_0x18172f(0x40b)]({'inlineData':{'mimeType':_0x487fb8['type'],'data':_0x5caaf5}});}const _0xade741=_0x18172f(0x63f),_0x5165b6=_0x18172f(0x9b3)+(_0x487fb8?_0x18172f(0x956):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีคุณสมบัติดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20a.\x20\x20**[กฎที่สำคัญที่สุด]**\x20จำนวนข้อสอบรวม\x20และจำนวนข้อในแต่ละรูปแบบ\x20**ต้องตรงกับตัวเลขที่คุณวิเคราะห์ได้จาก\x20Test\x20Blueprint\x20ในข้อ\x201\x20ทุกประการ**\x20ห้ามสร้างข้อสอบเกินหรือขาดจากจำนวนนี้อย่างเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b.\x20\x20**ต้องเรียงลำดับคำถามตามรูปแบบ**\x20ที่ระบุใน\x20Blueprint\x20(เช่น\x20ปรนัยทั้งหมดก่อน,\x20ตามด้วยระบายตัวเลข)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.\x20\x20**สำหรับรูปแบบ\x20\x27ถูก/ผิด\x27\x20(ถ้ามี):**\x20ต้องสร้างเป็นประโยคบอกเล่า\x20(Statement)\x20ห้ามสร้างเป็นคำถามให้คำนวณหาค่า\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.\x20\x20ต้องครอบคลุมเนื้อหาตามสาระการเรียนรู้ที่กำหนด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e.\x20\x20ต้องสร้างสรรค์โจทย์\x20ไม่ซ้ำซากจำเจ\x20และเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xade741+_0x18172f(0x27d)+simpleMathPrompt+_0x18172f(0xb37),_0xd27322={'type':_0x18172f(0x7b2),'properties':{'questionText':{'type':_0x18172f(0x4e5)},'questionType':{'type':'STRING','enum':[_0x18172f(0xad6),_0x18172f(0x68a),'true_false','matching_item']},'options':{'type':_0x18172f(0xa9c),'items':{'type':_0x18172f(0x4e5)}},'correctAnswerIndex':{'type':_0x18172f(0xab2)},'idealAnswer':{'type':_0x18172f(0x4e5)},'correctAnswer':{'type':_0x18172f(0x300)},'explanation':{'type':_0x18172f(0x4e5)},'imageCode':{'type':'STRING'}},'required':[_0x18172f(0x368),_0x18172f(0x324)]},_0x4a59ce={'type':_0x18172f(0x7b2),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0xd27322}},'required':[_0x18172f(0xb4a),_0x18172f(0xa17)]},_0x59ccb2=[{'text':_0x5165b6},{'inlineData':{'mimeType':_0x39ef32['type'],'data':_0x5ae976}},..._0x3a1930];await handleApiCall(_0x59ccb2,_0x18172f(0x326),_0x4a59ce);}catch(_0x5b8e0b){console[_0x18172f(0x746)](_0x18172f(0x9f7),_0x5b8e0b),showMessage(_0x18172f(0x73f)+_0x5b8e0b['message']),_0xbb469[_0x18172f(0x1c3)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x5180d6[_0x18172f(0x431)]['add'](_0x18172f(0x450)),_0x2e6c48['disabled']=![];}}function proceedToNextQuestion(_0x5d9180){const _0x3f30c1=_0xbb2a9e;studentAnswersPerQuestion[_0x3f30c1(0x40b)](_0x5d9180),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3f30c1(0xa17)][_0x3f30c1(0xa7c)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0xc487bd,_0x1dc940){const _0x43c56d=_0xbb2a9e,_0x2ff9c1=Object[_0x43c56d(0x8b5)](_0xc487bd[_0x43c56d(0x526)]||{}),_0x34edf4=_0x2ff9c1[_0x43c56d(0xa7c)],_0x484a3c=[..._0x2ff9c1][_0x43c56d(0x415)]((_0x1b74e7,_0x4f037e)=>_0x4f037e['score']-_0x1b74e7['score']),_0x20ab87=_0xc487bd['currentQuestionIndex'];let _0x20f395='';const _0x5015e2=_0xc487bd[_0x43c56d(0x53b)][_0x43c56d(0xa17)],_0x424e56=_0x5015e2[_0x20ab87],_0x43600b=_0x329082=>String[_0x43c56d(0x2df)](0x41+_0x329082);let _0xebbc66='',_0x203d10='';if(_0x424e56){const _0x48c1c1=_0x424e56['questionType']||_0xc487bd[_0x43c56d(0x53b)][_0x43c56d(0x950)];if(_0x48c1c1==='multiple_choice'&&_0x424e56[_0x43c56d(0x643)]&&_0x424e56['correctAnswerIndex']!==undefined){const _0x819cc7=_0x424e56[_0x43c56d(0xad0)];_0xebbc66=_0x424e56[_0x43c56d(0x643)][_0x819cc7],_0x203d10=_0x43600b(_0x819cc7)+'.';}else{if(_0x48c1c1===_0x43c56d(0xb53)){const _0x4dade8=_0x424e56[_0x43c56d(0x2ae)]===!![]||String(_0x424e56[_0x43c56d(0x2ae)])[_0x43c56d(0x57e)]()===_0x43c56d(0x304);_0x4dade8?(_0xebbc66='ใช่\x20/\x20ถูก',_0x203d10='ก.'):(_0xebbc66=_0x43c56d(0x990),_0x203d10='ข.');}else{if(_0x48c1c1==='matching_item')_0xebbc66=_0x424e56[_0x43c56d(0x4cc)]||'-',_0x203d10='';else _0x48c1c1===_0x43c56d(0x68a)&&(_0xebbc66=_0x424e56[_0x43c56d(0x26d)]||'-',_0x203d10='');}}}_0xebbc66&&(_0x20f395='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x20ab87+0x1)+_0x43c56d(0xafa)+_0x203d10+'\x20'+_0xebbc66+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');const _0x61523e=_0x484a3c[_0x43c56d(0x791)](_0x5a4c01=>{const _0x4cd2e2=_0x43c56d;let _0x3ea859=![];if(_0x5a4c01[_0x4cd2e2(0x219)]&&_0x20ab87!==-0x1){const _0x599e64=_0x5a4c01[_0x4cd2e2(0x219)]['find'](_0xa99b7a=>_0xa99b7a[_0x4cd2e2(0x5e6)]===_0x20ab87);_0x599e64&&_0x599e64[_0x4cd2e2(0x6f8)]&&(_0x3ea859=!![]);}const _0x70f697=_0x3ea859?_0x4cd2e2(0xb11):_0x4cd2e2(0x82f);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x70f697+'\x22><span>'+_0x5a4c01[_0x4cd2e2(0x98a)]+_0x4cd2e2(0x8e4)+_0x5a4c01[_0x4cd2e2(0x6bd)]+_0x4cd2e2(0x491);})['join'](''),_0x2dd2fc=_0x5015e2['map']((_0x17d6c6,_0x493478)=>{const _0x1d407a=_0x43c56d,_0x593734=_0x2ff9c1[_0x1d407a(0x51b)](_0x5432cf=>_0x5432cf[_0x1d407a(0x219)]&&_0x5432cf['answers'][_0x1d407a(0x748)](_0x23471b=>_0x23471b['questionIndex']===_0x493478&&_0x23471b['isCorrect']))[_0x1d407a(0xa7c)],_0x4415a2=_0x493478===_0x20ab87,_0x58d23f=_0x4415a2?_0x1d407a(0xa51):'p-2\x20bg-black/10\x20rounded-md';return _0x1d407a(0x456)+_0x58d23f+_0x1d407a(0x33a)+(_0x493478+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x593734+_0x1d407a(0xafc)+_0x34edf4+_0x1d407a(0x1c1);})[_0x43c56d(0x3cf)]('');let _0x22d668='',_0x2c5c91='';if(_0x1dc940){const _0x575919=_0xc487bd[_0x43c56d(0x4bc)]>=_0x5015e2[_0x43c56d(0xa7c)]-0x1;_0x22d668=_0x43c56d(0x3a4)+(_0x575919?_0x43c56d(0x824):_0x43c56d(0x960))+_0x43c56d(0x861),_0x2c5c91=_0x43c56d(0x8ad);}const _0x2dd029='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0xc487bd[_0x43c56d(0x53b)]['topic']+_0x43c56d(0x815)+_0x2c5c91+_0x43c56d(0xb43)+_0x20f395+_0x43c56d(0xb1b)+(_0x61523e||_0x43c56d(0x59f))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x2dd2fc+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1dc940?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x22d668+_0x43c56d(0xa1c):'')+_0x43c56d(0xabe);liveGameView['innerHTML']=_0x2dd029;if(window[_0x43c56d(0x7b6)]){const _0x1050fb=document[_0x43c56d(0x9c1)]('main-correct-answer-display');_0x1050fb&&MathJax[_0x43c56d(0x987)]([_0x1050fb]);}if(_0x1dc940){document[_0x43c56d(0x9c1)]('next-sync-question-btn')['onclick']=async()=>{const _0x1dcbbb=_0x43c56d,_0x5f09f9=doc(db,_0x1dcbbb(0x44d)+appId+_0x1dcbbb(0x268),currentLiveGameId),_0x39809a=_0xc487bd['currentQuestionIndex']+0x1;if(_0x39809a<_0x5015e2['length']){const _0xa7974f={};Object[_0x1dcbbb(0x790)](_0xc487bd[_0x1dcbbb(0x526)])['forEach'](_0x589998=>{const _0x41af11=_0x1dcbbb;_0xa7974f[_0x41af11(0x886)+_0x589998+_0x41af11(0x93b)]=![],_0xa7974f[_0x41af11(0x886)+_0x589998+_0x41af11(0x377)]=null;}),await updateDoc(_0x5f09f9,{..._0xa7974f,'status':'question','currentQuestionIndex':_0x39809a,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5f09f9,{'status':'podium'});};const _0x7c83fd=document[_0x43c56d(0x9c1)](_0x43c56d(0x522));_0x7c83fd&&(_0x7c83fd['onclick']=()=>{const _0x4588a2=_0x43c56d;showConfirmation(_0x4588a2(0x438),async()=>{const _0x2cecf6=_0x4588a2,_0x56052f=doc(db,_0x2cecf6(0x44d)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x56052f,{'status':_0x2cecf6(0x95f)});});});}}async function handleGenerateParallelFromBank(_0x1428d3){const _0x59423a=_0xbb2a9e,_0xa8030a=document[_0x59423a(0x9c1)](_0x59423a(0xb2b)),_0x1c6e40=document[_0x59423a(0x9c1)](_0x59423a(0x396));_0x1c6e40[_0x59423a(0x431)][_0x59423a(0x8af)](_0x59423a(0x450));const _0x584294=_0x59423a(0xa78)+_0x1428d3[_0x59423a(0xb4a)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xa8030a[_0x59423a(0x1d3)](_0x59423a(0xaaf),_0x584294);const _0x38da00=document[_0x59423a(0x9c1)](_0x59423a(0x3f8));try{const _0x567757=_0x1428d3[_0x59423a(0xa17)][_0x59423a(0x791)]((_0x5125d4,_0x16213a)=>{const _0x4d9a1c=_0x59423a;let _0xc2b2e4=_0x16213a+0x1+'.\x20'+(_0x5125d4[_0x4d9a1c(0x23b)]||_0x5125d4[_0x4d9a1c(0x8ce)])+'\x0a';if(_0x5125d4[_0x4d9a1c(0x643)])_0xc2b2e4+=_0x5125d4[_0x4d9a1c(0x643)]['map']((_0xe8b9de,_0x2d3738)=>'\x20\x20\x20-\x20'+(_0x2d3738===_0x5125d4['correctAnswerIndex']?_0x4d9a1c(0x4ed):'')+'\x20'+_0xe8b9de)[_0x4d9a1c(0x3cf)]('\x0a');else _0x5125d4['idealAnswer']&&(_0xc2b2e4+=_0x4d9a1c(0x371)+_0x5125d4[_0x4d9a1c(0x26d)]);return _0xc2b2e4;})[_0x59423a(0x3cf)]('\x0a\x0a');_0x38da00[_0x59423a(0x410)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x3691a0=_0x59423a(0x78a)+_0x1428d3['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x567757+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x274f3d={'type':_0x59423a(0x7b2),'properties':{'questionText':{'type':_0x59423a(0x4e5)},'questionType':{'type':_0x59423a(0x4e5),'enum':[_0x59423a(0xad6),'short_answer',_0x59423a(0xb53),_0x59423a(0xa4a)]},'options':{'type':'ARRAY','items':{'type':_0x59423a(0x4e5)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x59423a(0x4e5)},'correctAnswer':{'type':_0x59423a(0x300)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x59423a(0x4e5)},'allResponses':{'type':_0x59423a(0xa9c),'items':{'type':_0x59423a(0x4e5)}},'explanation':{'type':_0x59423a(0x4e5)},'imageCode':{'type':_0x59423a(0x4e5)}},'required':['questionType',_0x59423a(0x324)]},_0x421348={'type':'OBJECT','properties':{'topic':{'type':_0x59423a(0x4e5)},'questions':{'type':_0x59423a(0xa9c),'items':_0x274f3d}},'required':['topic',_0x59423a(0xa17)]},_0x4c0f28=await callAnalysisApi(_0x3691a0,_0x421348),_0x48990d=_0x4c0f28[_0x59423a(0xa17)]['map']((_0x1c39f4,_0x30f352)=>({..._0x1c39f4,'id':'q_'+Date[_0x59423a(0x756)]()+'_'+_0x30f352})),_0x2e9291=_0x59423a(0x825)+_0x1428d3[_0x59423a(0xb4a)],_0x5bb1a6={'topic':_0x2e9291,'questions':_0x48990d,'quizType':_0x1428d3[_0x59423a(0x950)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x1428d3[_0x59423a(0xa79)],'quizMode':_0x59423a(0x9f6),'pairedQuizId':null,'lessonPlan':null};let _0x2f3ba8;while(!![]){_0x2f3ba8=Math[_0x59423a(0x7b0)](0x3e8+Math[_0x59423a(0x688)]()*0x2328)[_0x59423a(0x86b)]();const _0x4b3fd5=await getDoc(doc(db,_0x59423a(0x44d)+appId+_0x59423a(0x622),_0x2f3ba8));if(!_0x4b3fd5[_0x59423a(0x9ce)]())break;}await setDoc(doc(db,_0x59423a(0x44d)+appId+_0x59423a(0x622),_0x2f3ba8),_0x5bb1a6),showMessage(_0x59423a(0xa6b));}catch(_0x427bcb){console['error'](_0x59423a(0x42c),_0x427bcb),showMessage('เกิดข้อผิดพลาด:\x20'+_0x427bcb[_0x59423a(0x3f4)]);}finally{const _0x3ec19c=document[_0x59423a(0x9c1)](_0x59423a(0xab0));_0x3ec19c&&_0x3ec19c[_0x59423a(0x905)](),_0x1c6e40[_0x59423a(0x431)][_0x59423a(0x905)](_0x59423a(0x450));}}async function handleGenerateParallelPostTest(_0x360c96){const _0x53cf41=_0xbb2a9e,_0x1656ad=document[_0x53cf41(0x9c1)]('results-tab-content'),_0x16874b=document[_0x53cf41(0x9c1)](_0x53cf41(0x396));_0x16874b['classList'][_0x53cf41(0x8af)](_0x53cf41(0x450));const _0x539add='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x1656ad[_0x53cf41(0x1d3)](_0x53cf41(0xaaf),_0x539add);try{const _0x50f270=_0x360c96['questions'][_0x53cf41(0x791)]((_0x55a43d,_0x5b712b)=>{const _0x1ebb71=_0x53cf41;let _0x244b63=_0x5b712b+0x1+'.\x20'+(_0x55a43d['questionText']||_0x55a43d[_0x1ebb71(0x8ce)]);if(_0x55a43d[_0x1ebb71(0x643)])_0x244b63+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x55a43d[_0x1ebb71(0x643)]['join'](',\x20');return _0x244b63;})['join']('\x0a\x0a'),_0x59c0e5=_0x53cf41(0x5f7)+_0x360c96[_0x53cf41(0xb4a)]+_0x53cf41(0xb3f)+_0x50f270+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x53cf41(0xb37),_0x371e={'type':_0x53cf41(0x7b2),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x53cf41(0xa9c),'items':{'type':_0x53cf41(0x7b2),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x53cf41(0x4e5)},'options':{'type':_0x53cf41(0xa9c),'items':{'type':_0x53cf41(0x4e5)}},'correctAnswerIndex':{'type':_0x53cf41(0xab2)},'idealAnswer':{'type':_0x53cf41(0x4e5)},'explanation':{'type':'STRING'}},'required':['questionText','explanation']}}},'required':[_0x53cf41(0xb4a),_0x53cf41(0xa17)]},_0x556135=await callAnalysisApi(_0x59c0e5,_0x371e),_0x1d88ea=_0x360c96[_0x53cf41(0xb4a)][_0x53cf41(0x99c)]('(ก่อนเรียน)','')[_0x53cf41(0x9aa)](),_0x192748=_0x53cf41(0x333)+_0x1d88ea,_0x52bcbe={..._0x556135,'topic':_0x192748,'quizType':_0x360c96[_0x53cf41(0x950)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x53cf41(0x8eb)](),'status':_0x53cf41(0x645),'settings':_0x360c96[_0x53cf41(0xa79)],'quizMode':_0x53cf41(0x38a),'pairedQuizId':_0x360c96['id']};let _0x4c04d2;while(!![]){_0x4c04d2=Math[_0x53cf41(0x7b0)](0x3e8+Math[_0x53cf41(0x688)]()*0x2328)[_0x53cf41(0x86b)]();const _0x2ff2d2=await getDoc(doc(db,'artifacts/'+appId+_0x53cf41(0x622),_0x4c04d2));if(!_0x2ff2d2[_0x53cf41(0x9ce)]())break;}await setDoc(doc(db,_0x53cf41(0x44d)+appId+_0x53cf41(0x622),_0x4c04d2),_0x52bcbe);const _0x1d0db8=doc(db,'artifacts/'+appId+_0x53cf41(0x622),_0x360c96['id']);await updateDoc(_0x1d0db8,{'pairedQuizId':_0x4c04d2}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x1d8f35){console[_0x53cf41(0x746)]('Error\x20generating\x20parallel\x20post-test:',_0x1d8f35),showMessage(_0x53cf41(0x73f)+_0x1d8f35[_0x53cf41(0x3f4)]);}finally{const _0x44a145=document[_0x53cf41(0x9c1)](_0x53cf41(0xab0));if(_0x44a145)_0x44a145[_0x53cf41(0x905)]();_0x16874b[_0x53cf41(0x431)][_0x53cf41(0x905)](_0x53cf41(0x450));}}async function handleGenerateParallelTest(){const _0x49321c=_0xbb2a9e,_0x18b766=document['getElementById'](_0x49321c(0x448)),_0x3577a1=_0x18b766[_0x49321c(0x3e7)][0x0];if(!_0x3577a1){showMessage(_0x49321c(0x514));return;}const _0x261ece=document[_0x49321c(0x9c1)](_0x49321c(0x1f5)),_0x1e2c57=document['getElementById'](_0x49321c(0x98b)),_0x191267=document[_0x49321c(0x9c1)]('generated-quiz-container'),_0x341845=document[_0x49321c(0x9c1)]('generate-from-parallel-test-btn');_0x341845[_0x49321c(0x9d7)]=!![],document['getElementById'](_0x49321c(0x266))[_0x49321c(0x431)][_0x49321c(0x905)](_0x49321c(0x450)),_0x191267['innerHTML']='',_0x261ece['classList'][_0x49321c(0x905)]('hidden'),_0x1e2c57[_0x49321c(0x410)]=_0x49321c(0xb15);const _0x5d646b=new FileReader();_0x5d646b[_0x49321c(0x6d4)](_0x3577a1),_0x5d646b[_0x49321c(0x726)]=async()=>{const _0x92f1f7=_0x49321c;try{const _0x3effd5=_0x5d646b[_0x92f1f7(0x9ee)][_0x92f1f7(0x8cd)](',')[0x1],_0x3e5ea6=_0x3577a1[_0x92f1f7(0x687)];_0x1e2c57[_0x92f1f7(0x410)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x3f4ea8=document['getElementById'](_0x92f1f7(0x876))[_0x92f1f7(0x6a4)],_0x32241c=_0x3f4ea8?_0x92f1f7(0x717):'',_0x226b70='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32241c+_0x92f1f7(0x47d)+simpleMathPrompt+_0x92f1f7(0x27d),_0x2fa1f3={'type':_0x92f1f7(0x7b2),'properties':{'questionText':{'type':_0x92f1f7(0x4e5)},'questionType':{'type':_0x92f1f7(0x4e5),'enum':[_0x92f1f7(0xad6),_0x92f1f7(0x68a)]},'options':{'type':_0x92f1f7(0xa9c),'items':{'type':_0x92f1f7(0x4e5)}},'correctAnswerIndex':{'type':_0x92f1f7(0xab2)},'idealAnswer':{'type':_0x92f1f7(0x4e5)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x92f1f7(0x4e5)}},'required':['questionText',_0x92f1f7(0x368),_0x92f1f7(0x324)]},_0x36708f={'type':_0x92f1f7(0x7b2),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x2fa1f3}},'required':[_0x92f1f7(0xb4a),_0x92f1f7(0xa17)]},_0x391b64=[{'text':_0x226b70},{'inlineData':{'mimeType':_0x3e5ea6,'data':_0x3effd5}}];await handleApiCall(_0x391b64,_0x92f1f7(0x6c6),_0x36708f);}catch(_0x2630a3){console[_0x92f1f7(0x746)](_0x92f1f7(0x5a4),_0x2630a3),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2630a3['message']),_0x191267['innerHTML']=_0x92f1f7(0x42d);}finally{_0x261ece[_0x92f1f7(0x431)]['add'](_0x92f1f7(0x450)),_0x341845[_0x92f1f7(0x9d7)]=![];}},_0x5d646b['onerror']=_0x255474=>{const _0x51015f=_0x49321c;console[_0x51015f(0x746)]('FileReader\x20error:',_0x255474),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x261ece['classList'][_0x51015f(0x8af)]('hidden'),_0x341845[_0x51015f(0x9d7)]=![];};}async function handleRegenerateQuestionInEditor(_0x396064){const _0x275029=_0xbb2a9e;if(currentEditingQuizData===null)return;const _0x3311d3=document[_0x275029(0x729)](_0x275029(0x4b7)+_0x396064+'\x22]');_0x3311d3&&(_0x3311d3[_0x275029(0x1c3)]=_0x275029(0x364));const _0x378518=currentEditingQuizData[_0x275029(0xa17)][_0x396064],_0x5f460b=currentEditingQuizData[_0x275029(0xb4a)],_0xb9cc57=_0x378518[_0x275029(0x368)],_0x42824e={'type':'OBJECT','properties':{'questionText':{'type':_0x275029(0x4e5)},'options':{'type':_0x275029(0xa9c),'items':{'type':_0x275029(0x4e5)}},'correctAnswerIndex':{'type':_0x275029(0xab2)},'explanation':{'type':_0x275029(0x4e5)}},'required':[_0x275029(0x23b),'options',_0x275029(0xad0),'explanation']},_0x1a76bf={'type':_0x275029(0x7b2),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x275029(0x4e5)},'explanation':{'type':_0x275029(0x4e5)}},'required':[_0x275029(0x23b),_0x275029(0x26d),_0x275029(0x324)]};let _0x426bcc,_0x306d80='';_0xb9cc57===_0x275029(0xad6)?(_0x426bcc=_0x42824e,_0x306d80='แบบปรนัย\x204\x20ตัวเลือก'):(_0x426bcc=_0x1a76bf,_0x306d80=_0x275029(0x5fc));const _0x2c6e9e=_0x275029(0x611)+_0x5f460b+_0x275029(0x88e)+_0x306d80+_0x275029(0xa60)+(_0x378518[_0x275029(0x23b)]||_0x378518['stem'])+_0x275029(0x80c)+simpleMathPrompt;try{const _0x2d567a=await callAnalysisApi(_0x2c6e9e,_0x426bcc);currentEditingQuizData[_0x275029(0xa17)][_0x396064]={..._0x378518,..._0x2d567a},renderQuizEditor(currentEditingQuizData);}catch(_0x1d4a9e){console[_0x275029(0x746)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x1d4a9e),showMessage(_0x275029(0xa8f)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4630bd=_0xbb2a9e,_0x28cbc3=document['getElementById'](_0x4630bd(0x20e));currentMode===_0x4630bd(0x7c9)?(currentMode=_0x4630bd(0x817),_0x28cbc3[_0x4630bd(0x1c3)]=_0x4630bd(0x38f),_0x28cbc3[_0x4630bd(0xb09)]=_0x4630bd(0x67c),showView('admin-dashboard')):(currentMode=_0x4630bd(0x7c9),_0x28cbc3[_0x4630bd(0x1c3)]=_0x4630bd(0x2ff),_0x28cbc3[_0x4630bd(0xb09)]=_0x4630bd(0x782),showView(_0x4630bd(0x7c9)));}function handleAdminLogin(){const _0x1ea5a6=_0xbb2a9e,_0x575743=document[_0x1ea5a6(0x9c1)](_0x1ea5a6(0x313)),_0x21ea9d=document['getElementById']('password-error-msg');if(_0x575743[_0x1ea5a6(0x9b2)]==='27411472'){adminPasswordModal['classList'][_0x1ea5a6(0x8af)]('hidden'),_0x575743['value']='',_0x21ea9d['classList'][_0x1ea5a6(0x8af)](_0x1ea5a6(0x450)),currentMode=_0x1ea5a6(0x817);const _0x1167cf=document['getElementById'](_0x1ea5a6(0x20e));_0x1167cf[_0x1ea5a6(0x1c3)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x1167cf['title']=_0x1ea5a6(0x67c),showView('admin-dashboard');}else _0x21ea9d['classList'][_0x1ea5a6(0x905)](_0x1ea5a6(0x450)),_0x575743['value']='';}function switchProjectTab(_0xcc586c){const _0x379e47=_0xbb2a9e;[_0x379e47(0x660),'results',_0x379e47(0x40e)][_0x379e47(0x803)](_0x237785=>{const _0x1ddc57=_0x379e47;document[_0x1ddc57(0x9c1)](_0x237785+_0x1ddc57(0x8ea))['classList'][_0x1ddc57(0x905)](_0x1ddc57(0x645)),document['getElementById'](_0x237785+'-tab-content')[_0x1ddc57(0x431)][_0x1ddc57(0x8af)]('hidden');}),document['getElementById'](_0xcc586c+_0x379e47(0x8ea))[_0x379e47(0x431)][_0x379e47(0x8af)](_0x379e47(0x645)),document[_0x379e47(0x9c1)](_0xcc586c+_0x379e47(0xaa1))[_0x379e47(0x431)][_0x379e47(0x905)](_0x379e47(0x450));}function switchQuizDetailTab(_0x5f29d4){const _0x2b988d=_0xbb2a9e,_0x40e5e0={'analytics':{'btn':_0x2b988d(0x3e6),'content':'analytics-tab-content'},'scores':{'btn':_0x2b988d(0x322),'content':_0x2b988d(0x501)},'leaderboard-quiz':{'btn':_0x2b988d(0x9c5),'content':_0x2b988d(0x8db)},'behavior-log':{'btn':_0x2b988d(0x1e1),'content':_0x2b988d(0x727)}};for(const _0x5c8bac in _0x40e5e0){document[_0x2b988d(0x9c1)](_0x40e5e0[_0x5c8bac]['btn'])[_0x2b988d(0x431)][_0x2b988d(0x905)](_0x2b988d(0x645)),document[_0x2b988d(0x9c1)](_0x40e5e0[_0x5c8bac][_0x2b988d(0x898)])[_0x2b988d(0x431)][_0x2b988d(0x8af)]('hidden');}document[_0x2b988d(0x9c1)](_0x40e5e0[_0x5f29d4][_0x2b988d(0x813)])[_0x2b988d(0x431)][_0x2b988d(0x8af)](_0x2b988d(0x645)),document[_0x2b988d(0x9c1)](_0x40e5e0[_0x5f29d4][_0x2b988d(0x898)])[_0x2b988d(0x431)]['remove'](_0x2b988d(0x450));}function showMessage(_0x33934c,_0x34906d=null){const _0x5b0f53=_0xbb2a9e;modalMessage[_0x5b0f53(0x410)]=_0x33934c,modalConfirmAction=_0x34906d,messageModal[_0x5b0f53(0x431)][_0x5b0f53(0x905)]('hidden');}function showConfirmation(_0x35fed5,_0x208336){const _0x1168d3=_0xbb2a9e;document['getElementById'](_0x1168d3(0x8ed))[_0x1168d3(0x410)]=_0x35fed5,document[_0x1168d3(0x9c1)](_0x1168d3(0x9e2))['querySelector']('h3')[_0x1168d3(0x410)]='ยืนยันการกระทำ',confirmAction=_0x208336,confirmationModal['classList']['remove'](_0x1168d3(0x450));}function listenForProjects(){const _0x1ebcc4=_0xbb2a9e,_0xef5721=doc(db,_0x1ebcc4(0xae1),_0x1ebcc4(0x733));onSnapshot(_0xef5721,_0x155e6e=>{const _0x7c1c45=_0x1ebcc4;if(_0x155e6e[_0x7c1c45(0x9ce)]()){const _0xe4dbf3=_0x155e6e['data']();globalDashboardSettings[_0x7c1c45(0x7c1)]=_0xe4dbf3[_0x7c1c45(0x7c1)]||_0x7c1c45(0x924),globalDashboardSettings[_0x7c1c45(0x577)]=_0xe4dbf3[_0x7c1c45(0x577)]||[],globalDashboardSettings[_0x7c1c45(0x866)]=_0xe4dbf3[_0x7c1c45(0x866)]||[];}allProjects[_0x7c1c45(0xa7c)]>0x0&&renderProjects();});const _0x4f6276=collection(db,_0x1ebcc4(0x44d)+appId+_0x1ebcc4(0xb3c));unsubscribeProjectsListener=onSnapshot(_0x4f6276,_0x3e3155=>{const _0x108c80=_0x1ebcc4;allProjects=_0x3e3155[_0x108c80(0x95a)][_0x108c80(0x791)](_0x41245e=>({'id':_0x41245e['id'],..._0x41245e[_0x108c80(0x24b)]()})),renderProjects();},_0x3ec370=>{const _0x4edce3=_0x1ebcc4;console['error'](_0x4edce3(0x33e),_0x3ec370),showMessage(_0x4edce3(0x90d));});}function showColorPalette(_0x156a69,_0x43a4fb){const _0x43bf66=_0xbb2a9e;document[_0x43bf66(0x345)](_0x43bf66(0x25d))['forEach'](_0x22e269=>_0x22e269['remove']());const _0x5bdce4=[_0x43bf66(0x6c5),_0x43bf66(0x991),_0x43bf66(0x4b9),_0x43bf66(0x21b),_0x43bf66(0xaf0),_0x43bf66(0x8d5),_0x43bf66(0x8ef),_0x43bf66(0x9fd),_0x43bf66(0x6cc)],_0x521240=document[_0x43bf66(0x576)](_0x43bf66(0x6e9));_0x521240[_0x43bf66(0x9b7)]=_0x43bf66(0x5ad),_0x5bdce4[_0x43bf66(0x803)](_0x1c6c22=>{const _0x16f016=_0x43bf66,_0x5b4aa8=document[_0x16f016(0x576)](_0x16f016(0x6e9));_0x5b4aa8[_0x16f016(0x9b7)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x5b4aa8[_0x16f016(0x29c)][_0x16f016(0x766)]=_0x1c6c22,_0x5b4aa8['addEventListener'](_0x16f016(0x3fb),()=>{const _0x1e0844=_0x16f016;handleProjectColorChange(_0x43a4fb,_0x1c6c22),_0x521240[_0x1e0844(0x905)]();}),_0x521240[_0x16f016(0x4de)](_0x5b4aa8);}),document['body'][_0x43bf66(0x4de)](_0x521240);const _0xfd4e89=_0x156a69[_0x43bf66(0x35c)]();_0x521240[_0x43bf66(0x29c)][_0x43bf66(0x3db)]=_0xfd4e89[_0x43bf66(0x9ff)]+window['scrollY']+'px',_0x521240['style'][_0x43bf66(0x60d)]=_0xfd4e89[_0x43bf66(0x60d)]+window[_0x43bf66(0x948)]-_0x521240[_0x43bf66(0x8ab)]/0x2+'px';}async function handleProjectColorChange(_0xd90ac5,_0x346a08){const _0x1f8f83=_0xbb2a9e,_0x561b86=doc(db,_0x1f8f83(0x44d)+appId+'/public/data/projects',_0xd90ac5);try{await updateDoc(_0x561b86,{'color':_0x346a08});}catch(_0x25ddf8){console[_0x1f8f83(0x746)](_0x1f8f83(0x84b),_0x25ddf8),showMessage(_0x1f8f83(0x801));}}async function renderProjects(){const _0x4bd218=_0xbb2a9e,_0x2c6c9c=globalDashboardSettings[_0x4bd218(0x7c1)]||_0x4bd218(0x924),_0x5c78e4=new Set(globalDashboardSettings[_0x4bd218(0x577)]||[]),_0x1407ae=globalDashboardSettings[_0x4bd218(0x661)]||_0x4bd218(0x637),_0x377f48=document[_0x4bd218(0x9c1)](_0x4bd218(0x6e0)),_0x3be90f=document['getElementById']('list-view-btn');_0x377f48['classList'][_0x4bd218(0x5ea)]('active',_0x1407ae===_0x4bd218(0x637)),_0x3be90f[_0x4bd218(0x431)]['toggle'](_0x4bd218(0x645),_0x1407ae==='list'),document['getElementById'](_0x4bd218(0x5f2))[_0x4bd218(0x9b2)]=_0x2c6c9c;const _0x1453ac=document[_0x4bd218(0x9c1)](_0x4bd218(0xa11))[_0x4bd218(0x9b2)][_0x4bd218(0x57e)]();let _0x58a7a0=allProjects['filter'](_0x1ea09a=>_0x1ea09a['projectName'][_0x4bd218(0x57e)]()[_0x4bd218(0x913)](_0x1453ac));const _0x3f07ff=_0x58a7a0[_0x4bd218(0x51b)](_0xb0db10=>_0x5c78e4['has'](_0xb0db10['id'])),_0x467eb8=_0x58a7a0[_0x4bd218(0x51b)](_0x58c06c=>!_0x5c78e4[_0x4bd218(0x2ad)](_0x58c06c['id'])),_0x24f1a8=(_0x274c12,_0x3e7fd7)=>{const _0x4785be=_0x4bd218;switch(_0x2c6c9c){case _0x4785be(0x88b):return _0x274c12['projectName'][_0x4785be(0x222)](_0x3e7fd7[_0x4785be(0x8f6)],'th');case _0x4785be(0x6bb):return _0x3e7fd7[_0x4785be(0x8f6)]['localeCompare'](_0x274c12[_0x4785be(0x8f6)],'th');case _0x4785be(0x86f):return new Date(_0x274c12[_0x4785be(0x839)])-new Date(_0x3e7fd7[_0x4785be(0x839)]);default:return new Date(_0x3e7fd7[_0x4785be(0x839)])-new Date(_0x274c12[_0x4785be(0x839)]);}};_0x3f07ff[_0x4bd218(0x415)](_0x24f1a8),_0x467eb8[_0x4bd218(0x415)](_0x24f1a8);const _0x102673=[..._0x3f07ff,..._0x467eb8],_0x5d492c=globalDashboardSettings[_0x4bd218(0x866)]||[];_0x5d492c[_0x4bd218(0xa7c)]>0x0&&_0x1407ae===_0x4bd218(0x637)&&_0x102673[_0x4bd218(0x415)]((_0x430e6b,_0x35fe06)=>{const _0x2a938f=_0x4bd218,_0x1fcc08=_0x5d492c['indexOf'](_0x430e6b['id']),_0x11b250=_0x5d492c[_0x2a938f(0xaee)](_0x35fe06['id']);if(_0x1fcc08===-0x1)return 0x1;if(_0x11b250===-0x1)return-0x1;return _0x1fcc08-_0x11b250;});const _0x3e39ec={};await Promise['all'](_0x102673[_0x4bd218(0x791)](async _0x12a5a5=>{const _0x218324=_0x4bd218,_0x269314=query(collection(db,_0x218324(0x44d)+appId+_0x218324(0x622)),where(_0x218324(0x430),'==',_0x12a5a5['id'])),_0x253224=await getDocs(_0x269314);_0x3e39ec[_0x12a5a5['id']]=_0x253224[_0x218324(0x9f1)];}));const _0x1bdd92=document[_0x4bd218(0x9c1)]('project-list');let _0x28d60c='';if(_0x1407ae===_0x4bd218(0x637)){_0x1bdd92[_0x4bd218(0x9b7)]=_0x4bd218(0x8f9);if(starredQuizzes[_0x4bd218(0xa7c)]>0x0&&_0x1453ac===''){const _0x3bdd03=starredQuizzes[_0x4bd218(0x791)](_0x18875f=>{const _0x12a812=_0x4bd218,_0x5633b1=allProjects[_0x12a812(0x748)](_0x486cab=>_0x486cab['id']===_0x18875f[_0x12a812(0x430)]);return{..._0x18875f,'projectName':_0x5633b1?_0x5633b1[_0x12a812(0x8f6)]:_0x12a812(0x605)};});_0x28d60c+=_0x4bd218(0xa88)+_0x3bdd03[_0x4bd218(0x791)](_0x47ce6b=>_0x4bd218(0x359)+_0x47ce6b['topic']+'\x22>'+_0x47ce6b[_0x4bd218(0xb4a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x47ce6b[_0x4bd218(0x8f6)]+_0x4bd218(0x653)+_0x47ce6b['projectName']+_0x4bd218(0x3fe))[_0x4bd218(0x3cf)]('')+_0x4bd218(0xa13)+starredQuizzes['length']+_0x4bd218(0x8e0);}_0x102673[_0x4bd218(0x803)](_0x118a37=>{const _0x2b5557=_0x4bd218,_0x358db6=_0x3e39ec[_0x118a37['id']]??0x0,_0xe4b0f6=_0x5c78e4[_0x2b5557(0x2ad)](_0x118a37['id']),_0x387d73=_0x118a37[_0x2b5557(0x8d9)]||_0x2b5557(0x6c5),_0x2cfec6=parseInt(_0x387d73[_0x2b5557(0x7a3)](0x1,0x3),0x10)*0.299+parseInt(_0x387d73[_0x2b5557(0x7a3)](0x3,0x5),0x10)*0.587+parseInt(_0x387d73[_0x2b5557(0x7a3)](0x5,0x7),0x10)*0.114<0xba,_0x16b43e=_0x2cfec6?_0x2b5557(0x627):_0x2b5557(0x535),_0x1a226a=_0x2cfec6?'text-gray-200':_0x2b5557(0x1e0);_0x28d60c+=_0x2b5557(0x9c6)+(_0xe4b0f6?_0x2b5557(0x2e3):_0x2b5557(0x635))+_0x2b5557(0x38b)+_0x387d73+';\x22\x20data-id=\x22'+_0x118a37['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x118a37['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x2cfec6?_0x2b5557(0x7a9):_0x2b5557(0x648))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x118a37['id']+_0x2b5557(0x57b)+(_0x2cfec6?_0x2b5557(0x7a9):_0x2b5557(0x648))+_0x2b5557(0x28e)+(_0xe4b0f6?_0x2cfec6?'text-yellow-300':_0x2b5557(0xa64):'')+_0x2b5557(0x75b)+_0x118a37['id']+_0x2b5557(0xb3b)+_0x16b43e+_0x2b5557(0x988)+_0x118a37['projectName']+_0x2b5557(0x53c)+_0x1a226a+_0x2b5557(0x1ed)+new Date(_0x118a37['createdAt'])[_0x2b5557(0x949)]('th-TH')+_0x2b5557(0x859)+(_0x2cfec6?'text-gray-100':_0x2b5557(0x763))+_0x2b5557(0x25b)+_0x358db6+_0x2b5557(0x3ac)+_0x118a37['id']+'\x22\x20data-name=\x22'+_0x118a37[_0x2b5557(0x8f6)]+_0x2b5557(0x60a)+(_0x2cfec6?_0x2b5557(0x347):_0x2b5557(0xb10))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x1bdd92[_0x4bd218(0x9b7)]='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x1453ac===''&&(_0x28d60c+=_0x4bd218(0x2a5)+starredQuizzes['length']+_0x4bd218(0x1f3)),_0x28d60c+=_0x4bd218(0x892),_0x102673['forEach'](_0x55db00=>{const _0x15d23a=_0x4bd218,_0x2df1e0=_0x3e39ec[_0x55db00['id']]??0x0,_0x41d13b=_0x5c78e4['has'](_0x55db00['id']);_0x28d60c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x55db00[_0x15d23a(0x8d9)]||'#E5E7EB')+_0x15d23a(0x6cf)+_0x55db00['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x55db00[_0x15d23a(0x8f6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x2df1e0+_0x15d23a(0x680)+new Date(_0x55db00['createdAt'])['toLocaleString']('th-TH')+_0x15d23a(0x42b)+_0x55db00['id']+_0x15d23a(0x915)+(_0x41d13b?_0x15d23a(0xa64):'')+_0x15d23a(0x93d)+_0x55db00['id']+_0x15d23a(0x363)+_0x55db00['projectName']+_0x15d23a(0x5dd);});projectList[_0x4bd218(0x1c3)]=_0x28d60c,noProjectsMsg[_0x4bd218(0x431)]['toggle'](_0x4bd218(0x450),_0x28d60c['length']>0x0);}document['getElementById'](_0xbb2a9e(0x6d9))[_0xbb2a9e(0x4da)]('click',async()=>{const _0x5e2df0=_0xbb2a9e,_0x1aaf2c=document[_0x5e2df0(0x9c1)](_0x5e2df0(0x922)),_0x17319c=_0x1aaf2c[_0x5e2df0(0x9b2)][_0x5e2df0(0x9aa)]();if(!_0x17319c){showMessage(_0x5e2df0(0x81b));return;}try{const _0xc1838e=doc(collection(db,_0x5e2df0(0x44d)+appId+'/public/data/projects'));await setDoc(_0xc1838e,{'projectName':_0x17319c,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x5e2df0(0x806),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x5e2df0(0x806),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x5e2df0(0x8eb)]()}),_0x1aaf2c[_0x5e2df0(0x9b2)]='',createProjectModal[_0x5e2df0(0x431)][_0x5e2df0(0x8af)](_0x5e2df0(0x450)),showMessage(_0x5e2df0(0x209));}catch(_0xf78bbb){console[_0x5e2df0(0x746)](_0x5e2df0(0x289),_0xf78bbb),showMessage(_0x5e2df0(0x72e));}}),projectList[_0xbb2a9e(0x4da)](_0xbb2a9e(0x3fb),async _0x5cd9e1=>{const _0x207de6=_0xbb2a9e,_0x44183e=_0x5cd9e1['target']['closest'](_0x207de6(0xa38)),_0x1f71ff=_0x5cd9e1[_0x207de6(0x3a6)][_0x207de6(0x775)]('.delete-project-btn'),_0xca086a=_0x5cd9e1[_0x207de6(0x3a6)][_0x207de6(0x775)](_0x207de6(0x659)),_0x48623f=_0x5cd9e1[_0x207de6(0x3a6)][_0x207de6(0x775)](_0x207de6(0x370));if(_0xca086a){const _0x1af766=_0xca086a[_0x207de6(0x1f9)]['id'],_0x5deda3=doc(db,'globalSettings',_0x207de6(0x733)),_0x420588=globalDashboardSettings[_0x207de6(0x577)];let _0x1fe19d;_0x420588['includes'](_0x1af766)?_0x1fe19d=_0x420588[_0x207de6(0x51b)](_0x26e15d=>_0x26e15d!==_0x1af766):_0x1fe19d=[..._0x420588,_0x1af766];try{await setDoc(_0x5deda3,{'pinnedProjects':_0x1fe19d},{'merge':!![]});}catch(_0x349403){console[_0x207de6(0x746)]('Error\x20updating\x20pin\x20status:',_0x349403),showMessage(_0x207de6(0x21f));}}else{if(_0x48623f){const _0x228a0d=_0x48623f[_0x207de6(0x1f9)]['id'];showColorPalette(_0x48623f,_0x228a0d);}else{if(_0x44183e){const _0x2f06fc=_0x44183e[_0x207de6(0x1f9)]['id'];_0x2f06fc===_0x207de6(0x604)?showStarredProjectView():(currentProjectId=_0x2f06fc,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x1f71ff){const _0x3b0371=_0x1f71ff['dataset']['id'],_0x25c653=_0x1f71ff[_0x207de6(0x1f9)][_0x207de6(0x98a)];showConfirmation(_0x207de6(0x2ca)+_0x25c653+_0x207de6(0xa42),()=>handleDeleteProject(_0x3b0371));}}}}}),projectList[_0xbb2a9e(0x4da)]('dragstart',_0x3b351a=>{const _0x1e52bf=_0xbb2a9e,_0xb8a30e=_0x3b351a[_0x1e52bf(0x3a6)][_0x1e52bf(0x775)](_0x1e52bf(0x2f5));_0xb8a30e&&_0xb8a30e[_0x1e52bf(0x431)][_0x1e52bf(0x8af)]('opacity-50');}),projectList[_0xbb2a9e(0x4da)](_0xbb2a9e(0x389),_0x728444=>{const _0x28c54b=_0xbb2a9e,_0x5031f3=_0x728444[_0x28c54b(0x3a6)][_0x28c54b(0x775)](_0x28c54b(0x2f5));_0x5031f3&&_0x5031f3['classList']['remove']('opacity-50');}),projectList[_0xbb2a9e(0x4da)](_0xbb2a9e(0x361),_0x27c7f0=>{const _0x3a8765=_0xbb2a9e;_0x27c7f0[_0x3a8765(0x457)]();const _0x1d9186=document[_0x3a8765(0x729)](_0x3a8765(0x7fd));if(!_0x1d9186)return;const _0x3eec86=getDragAfterElement(projectList,_0x27c7f0[_0x3a8765(0x704)]);_0x3eec86==null?projectList[_0x3a8765(0x4de)](_0x1d9186):projectList['insertBefore'](_0x1d9186,_0x3eec86);}),projectList[_0xbb2a9e(0x4da)](_0xbb2a9e(0x294),_0x306ef4=>{const _0xb89b90=_0xbb2a9e;_0x306ef4['preventDefault']();const _0x2e6407=[...projectList['querySelectorAll']('.project-card-container[data-id]')]['map'](_0x1c2e6c=>_0x1c2e6c[_0xb89b90(0x1f9)]['id']);saveProjectOrder(_0x2e6407);});function renderBehaviorLog(_0x247fbd){const _0x556acb=_0xbb2a9e,_0x1d50b3=document['getElementById'](_0x556acb(0x35f));if(!_0x1d50b3)return;const _0x2ef88c=_0x247fbd[_0x556acb(0x51b)](_0x1de085=>_0x1de085[_0x556acb(0x262)]&&_0x1de085[_0x556acb(0x262)]['length']>0x0);if(_0x2ef88c[_0x556acb(0xa7c)]===0x0){_0x1d50b3[_0x556acb(0x1c3)]=_0x556acb(0x441);return;}let _0x550ba4='';_0x2ef88c[_0x556acb(0x803)](_0x2c845a=>{const _0x158b31=_0x556acb;_0x550ba4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x2c845a[_0x158b31(0x711)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c845a[_0x158b31(0x262)][_0x158b31(0x415)]((_0xb16dad,_0x2bbb76)=>new Date(_0x2bbb76[_0x158b31(0xa15)])-new Date(_0xb16dad['timestamp']))['forEach'](_0x14d623=>{const _0x4f712f=_0x158b31,_0x34c1b7=new Date(_0x14d623['timestamp'])['toLocaleString'](_0x4f712f(0x743),{'dateStyle':_0x4f712f(0x2c5),'timeStyle':_0x4f712f(0x46c)});_0x550ba4+=_0x4f712f(0x5b4)+_0x14d623[_0x4f712f(0x652)]+_0x4f712f(0x66d)+_0x34c1b7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x550ba4+=_0x158b31(0xa08);}),_0x1d50b3[_0x556acb(0x1c3)]=_0x550ba4;}function getDragAfterElement(_0x1d9e6f,_0x196d26){const _0x54d518=_0xbb2a9e,_0x26dace=[..._0x1d9e6f[_0x54d518(0x345)](_0x54d518(0xa3e))];return _0x26dace[_0x54d518(0x32f)]((_0xb7fe9c,_0x5d3f44)=>{const _0x598c2a=_0x54d518,_0x403f56=_0x5d3f44[_0x598c2a(0x35c)](),_0xaee4d1=_0x196d26-_0x403f56[_0x598c2a(0x3db)]-_0x403f56[_0x598c2a(0x35d)]/0x2;return _0xaee4d1<0x0&&_0xaee4d1>_0xb7fe9c[_0x598c2a(0xadf)]?{'offset':_0xaee4d1,'element':_0x5d3f44}:_0xb7fe9c;},{'offset':Number[_0x54d518(0x9ab)]})['element'];}async function saveProjectOrder(_0x46dbe1){const _0x57314f=_0xbb2a9e,_0x4ffb0b=doc(db,'globalSettings',_0x57314f(0x733));try{await setDoc(_0x4ffb0b,{'projectOrder':_0x46dbe1},{'merge':!![]});}catch(_0x1918b9){console[_0x57314f(0x746)]('Error\x20saving\x20project\x20order:',_0x1918b9),showMessage(_0x57314f(0x9a9));}}async function logBehaviorEvent(_0x33dcf4,_0x9d81a3={}){const _0x551ff7=_0xbb2a9e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x551ff7(0x41e)](_0x551ff7(0xa2b));return;}const _0x396b4f=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x551ff7(0x6d8),currentStudentName),_0xb047b7={'event':_0x33dcf4,'timestamp':new Date()[_0x551ff7(0x8eb)](),..._0x9d81a3};try{await updateDoc(_0x396b4f,{'behaviorLog':arrayUnion(_0xb047b7)}),console['log']('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x551ff7(0x407));}catch(_0x4da21f){_0x4da21f[_0x551ff7(0x649)]===_0x551ff7(0x4ec)?console[_0x551ff7(0x41e)](_0x551ff7(0xad5)+currentStudentName+_0x551ff7(0x206)):console[_0x551ff7(0x746)](_0x551ff7(0x9a6),_0x4da21f);}}function calculateMeanAndStdDev(_0x5ed93c){const _0x4ad1a3=_0xbb2a9e;if(_0x5ed93c[_0x4ad1a3(0xa7c)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x512998=_0x5ed93c[_0x4ad1a3(0x32f)]((_0x968bc2,_0x46fd9d)=>_0x968bc2+_0x46fd9d,0x0)/_0x5ed93c['length'];if(_0x5ed93c[_0x4ad1a3(0xa7c)]===0x1)return{'mean':_0x512998,'stdDev':0x0};const _0x435271=Math[_0x4ad1a3(0x907)](_0x5ed93c[_0x4ad1a3(0x791)](_0x3cda87=>Math[_0x4ad1a3(0x3e3)](_0x3cda87-_0x512998,0x2))[_0x4ad1a3(0x32f)]((_0x2eb962,_0x877255)=>_0x2eb962+_0x877255,0x0)/(_0x5ed93c[_0x4ad1a3(0xa7c)]-0x1));return{'mean':_0x512998,'stdDev':_0x435271};}function calculateZScore(_0x52d749,_0x2e1909,_0x194594){if(_0x194594===0x0)return 0x0;return(_0x52d749-_0x2e1909)/_0x194594;}function calculateTScore(_0x4b11c6){return 0xa*_0x4b11c6+0x32;}function showStarredProjectView(){const _0x31978a=_0xbb2a9e;currentProjectId=_0x31978a(0x95e),currentProjectData=null,projectTitle[_0x31978a(0x410)]=_0x31978a(0xa58),projectIdDisplay[_0x31978a(0x410)]=_0x31978a(0x512),showView(_0x31978a(0x68d)),manageTab['classList'][_0x31978a(0x8af)]('hidden'),leaderboardTab[_0x31978a(0x431)][_0x31978a(0x8af)](_0x31978a(0x450)),switchProjectTab(_0x31978a(0x573)),renderQuizzes();}async function loadProjectDetails(_0x43df3f){const _0x55575b=_0xbb2a9e,_0x185528=doc(db,'artifacts/'+appId+'/public/data/projects',_0x43df3f),_0x212ec9=await getDoc(_0x185528);if(_0x212ec9[_0x55575b(0x9ce)]()){manageTab[_0x55575b(0x431)][_0x55575b(0x905)](_0x55575b(0x450)),leaderboardTab[_0x55575b(0x431)]['remove'](_0x55575b(0x450)),currentProjectData=_0x212ec9[_0x55575b(0x24b)](),projectTitle['textContent']=currentProjectData[_0x55575b(0x8f6)],projectIdDisplay['textContent']=_0x43df3f;const _0x430b3f=currentProjectData[_0x55575b(0xa79)]||{};document[_0x55575b(0x9c1)](_0x55575b(0xb34))['value']=_0x430b3f[_0x55575b(0x6d7)]||_0x55575b(0x806);const _0x4c5f06=document[_0x55575b(0x9c1)](_0x55575b(0x25f));_0x4c5f06[_0x55575b(0x6a4)]=_0x430b3f[_0x55575b(0x568)]!==![];const _0x101e43=document['getElementById'](_0x55575b(0x4a9)),_0x2a3eca=document[_0x55575b(0x9c1)](_0x55575b(0xaf9)),_0x5b2674=document[_0x55575b(0x9c1)]('project-passcode-input'),_0x1c0d87=_0x430b3f[_0x55575b(0x85d)]||![];_0x101e43[_0x55575b(0x6a4)]=_0x1c0d87,_0x5b2674[_0x55575b(0x9b2)]=_0x430b3f[_0x55575b(0x923)]||'',_0x2a3eca['classList'][_0x55575b(0x5ea)]('hidden',!_0x1c0d87),_0x101e43[_0x55575b(0xb13)]=()=>{const _0x246a58=_0x55575b;_0x2a3eca['classList']['toggle'](_0x246a58(0x450),!_0x101e43[_0x246a58(0x6a4)]);},document['getElementById'](_0x55575b(0x58e))[_0x55575b(0x6a4)]=_0x430b3f['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x43df3f),listenForProjectQuizzes(_0x43df3f),listenForStudentProfiles(_0x43df3f);}else showMessage(_0x55575b(0x78e)),showView(_0x55575b(0x8e7));}async function handleResetProjectOrder(){const _0xa2e864=_0xbb2a9e,_0x235e94=doc(db,_0xa2e864(0xae1),_0xa2e864(0x733));try{await setDoc(_0x235e94,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x548f11){console[_0xa2e864(0x746)](_0xa2e864(0x8be),_0x548f11),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x1dd3ae){const _0x23ee34=_0xbb2a9e;if(!_0x1dd3ae)return;const _0xb1ec5=doc(db,'artifacts/'+appId+_0x23ee34(0xb3c),_0x1dd3ae);try{const _0x44219a=await getDoc(_0xb1ec5);if(_0x44219a['exists']()){const _0x335732=_0x44219a['data']()[_0x23ee34(0x5c8)]||![];await updateDoc(_0xb1ec5,{'isPinned':!_0x335732});}}catch(_0x5b85bb){console[_0x23ee34(0x746)](_0x23ee34(0x896),_0x5b85bb),showMessage(_0x23ee34(0x21f));}}async function handleDeleteProject(_0x1be4c3){const _0x39cb75=_0xbb2a9e;try{const _0x4e5ab0=writeBatch(db),_0x6515c4=collection(db,_0x39cb75(0x44d)+appId+_0x39cb75(0x622)),_0x144983=query(_0x6515c4,where(_0x39cb75(0x430),'==',_0x1be4c3)),_0x274e5f=await getDocs(_0x144983);for(const _0x5e38f8 of _0x274e5f[_0x39cb75(0x95a)]){const _0x306d4d=collection(db,'artifacts/'+appId+_0x39cb75(0x3b6)+_0x5e38f8['id']+'/submissions'),_0x2acbd4=await getDocs(_0x306d4d);_0x2acbd4[_0x39cb75(0x803)](_0x5c55bf=>{const _0x1d0b18=_0x39cb75;_0x4e5ab0[_0x1d0b18(0xae9)](_0x5c55bf['ref']);}),_0x4e5ab0[_0x39cb75(0xae9)](_0x5e38f8[_0x39cb75(0x7ef)]);}const _0x2d6274=collection(db,_0x39cb75(0x44d)+appId+_0x39cb75(0xa74)+_0x1be4c3+'/studentProfiles'),_0x58a74=await getDocs(_0x2d6274);_0x58a74['forEach'](_0x43e0af=>{const _0x24617c=_0x39cb75;_0x4e5ab0[_0x24617c(0xae9)](_0x43e0af[_0x24617c(0x7ef)]);});const _0x5ef820=doc(db,'artifacts/'+appId+_0x39cb75(0xb3c),_0x1be4c3);_0x4e5ab0[_0x39cb75(0xae9)](_0x5ef820),await _0x4e5ab0[_0x39cb75(0x4c6)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x39cb75(0x8e7));}catch(_0x1b8275){console[_0x39cb75(0x746)]('Error\x20deleting\x20project:',_0x1b8275),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x4cb))[_0xbb2a9e(0x4da)]('click',async()=>{const _0x3ffc9=_0xbb2a9e;if(!currentProjectId)return;const _0x4a75f3={'defaultNumQuestions':parseInt(document['getElementById'](_0x3ffc9(0x204))[_0x3ffc9(0x9b2)]),'defaultNumChoices':parseInt(document['getElementById'](_0x3ffc9(0x2f7))['value']),'defaultPassingScore':parseInt(document['getElementById'](_0x3ffc9(0x238))['value']),'resultsDisplay':document['getElementById'](_0x3ffc9(0x3a2))[_0x3ffc9(0x9b2)],'shuffleSetting':document['getElementById'](_0x3ffc9(0xb34))[_0x3ffc9(0x9b2)],'timerMode':document[_0x3ffc9(0x9c1)](_0x3ffc9(0x5c0))[_0x3ffc9(0x9b2)],'timerDuration':parseInt(document[_0x3ffc9(0x9c1)]('timer-duration-input')[_0x3ffc9(0x9b2)]),'isConfidenceScoringEnabled':document['getElementById']('confidence-scoring-checkbox')[_0x3ffc9(0x6a4)],'confidenceMode':document[_0x3ffc9(0x9c1)](_0x3ffc9(0x9ec))[_0x3ffc9(0x9b2)]};try{const _0x3eb03c=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x3eb03c,{'settings':_0x4a75f3}),showMessage(_0x3ffc9(0x587));}catch(_0x5c5fc9){console[_0x3ffc9(0x746)](_0x3ffc9(0x9d3),_0x5c5fc9),showMessage(_0x3ffc9(0xae6));}});function listenForStudents(_0x4c2313){const _0x5ce561=_0xbb2a9e,_0x11aa31=doc(db,_0x5ce561(0x44d)+appId+'/public/data/projects',_0x4c2313);unsubscribeStudentsListener=onSnapshot(_0x11aa31,_0x434916=>{const _0x630d=_0x5ce561;if(_0x434916[_0x630d(0x9ce)]()){const _0x48b549=_0x434916[_0x630d(0x24b)]();currentProjectData=_0x48b549,renderStudentList(_0x48b549[_0x630d(0x3dc)]||[]);}});}function renderStudentList(_0x401316){const _0x217e5f=_0xbb2a9e,_0x8a0952=document[_0x217e5f(0x9c1)](_0x217e5f(0x5bf));_0x401316[_0x217e5f(0xa7c)]===0x0?(studentList[_0x217e5f(0x1c3)]=_0x217e5f(0x610),_0x8a0952['classList']['add']('hidden')):(studentList[_0x217e5f(0x1c3)]=_0x401316['map'](_0x451e3b=>_0x217e5f(0x2b5)+_0x451e3b+_0x217e5f(0x2e9)+_0x451e3b+_0x217e5f(0x6b7))[_0x217e5f(0x3cf)](''),_0x8a0952[_0x217e5f(0x431)]['remove'](_0x217e5f(0x450)));}document[_0xbb2a9e(0x9c1)]('add-student-btn')[_0xbb2a9e(0x4da)](_0xbb2a9e(0x3fb),async()=>{const _0x3e0143=_0xbb2a9e;if(!currentProjectId)return;const _0x286b7f=document[_0x3e0143(0x9c1)]('student-name-input'),_0x35b502=_0x286b7f[_0x3e0143(0x9b2)][_0x3e0143(0x9aa)]();if(!_0x35b502){showMessage(_0x3e0143(0x851));return;}const _0x3ab915=_0x35b502[_0x3e0143(0x8cd)]('\x0a')[_0x3e0143(0x791)](_0x9336a9=>_0x9336a9[_0x3e0143(0x9aa)]())[_0x3e0143(0x51b)](_0x409ba4=>_0x409ba4);if(_0x3ab915['length']===0x0)return;try{const _0x2527df=doc(db,_0x3e0143(0x44d)+appId+'/public/data/projects',currentProjectId),_0x800e29=await getDoc(_0x2527df);if(_0x800e29[_0x3e0143(0x9ce)]()){const _0x24d159=_0x800e29['data']()[_0x3e0143(0x3dc)]||[],_0x3681b7=[...new Set([..._0x24d159,..._0x3ab915])];await updateDoc(_0x2527df,{'students':_0x3681b7}),_0x286b7f[_0x3e0143(0x9b2)]='';}}catch(_0x53315c){console[_0x3e0143(0x746)](_0x3e0143(0x401),_0x53315c),showMessage(_0x3e0143(0x4a2));}});async function handleManualQuizPairing(_0x4e539b){const _0x9943aa=_0xbb2a9e,_0x1c1fb4=document[_0x9943aa(0x9c1)](_0x9943aa(0x69e)),_0x1c79cc=document[_0x9943aa(0x9c1)](_0x9943aa(0x846)),_0x123937=_0x1c1fb4[_0x9943aa(0x729)]('h3'),_0x3fd4a7=document[_0x9943aa(0x9c1)](_0x9943aa(0x3c3)),_0x395452=document[_0x9943aa(0x9c1)](_0x9943aa(0xb4f));_0x123937[_0x9943aa(0x410)]=_0x9943aa(0x94f),_0x1c79cc[_0x9943aa(0x1c3)]=_0x9943aa(0x1df),_0x3fd4a7[_0x9943aa(0x410)]='ยืนยันการจับคู่',_0x1c1fb4[_0x9943aa(0x431)]['remove'](_0x9943aa(0x450));const _0x373c3a=allQuizzes[_0x9943aa(0x51b)](_0x3b6411=>_0x3b6411['id']!==_0x4e539b);_0x373c3a['length']===0x0?(_0x1c79cc[_0x9943aa(0x1c3)]=_0x9943aa(0x642),_0x3fd4a7['disabled']=!![]):(_0x1c79cc['innerHTML']=_0x9943aa(0x20c)+_0x373c3a['map'](_0xb16949=>_0x9943aa(0x520)+_0xb16949['id']+'\x22>'+_0xb16949['topic']+'</option>')[_0x9943aa(0x3cf)](''),_0x3fd4a7[_0x9943aa(0x9d7)]=![]);const _0x2b5485=async()=>{const _0x50c670=_0x9943aa,_0x42effc=_0x1c79cc['value'];if(!_0x42effc){showMessage(_0x50c670(0xa81));return;}_0x3fd4a7['disabled']=!![],_0x3fd4a7[_0x50c670(0x410)]=_0x50c670(0x5cd);try{const _0x3f5d57=doc(db,_0x50c670(0x44d)+appId+_0x50c670(0x622),_0x4e539b),_0x888903=doc(db,'artifacts/'+appId+_0x50c670(0x622),_0x42effc),_0x1a008a=writeBatch(db);_0x1a008a['update'](_0x3f5d57,{'pairedQuizId':_0x42effc}),_0x1a008a['update'](_0x888903,{'pairedQuizId':_0x4e539b}),await _0x1a008a['commit'](),showMessage(_0x50c670(0x3a3)),_0x1c1fb4[_0x50c670(0x431)][_0x50c670(0x8af)](_0x50c670(0x450));}catch(_0x58803d){console['error']('Error\x20pairing\x20quizzes:',_0x58803d),showMessage(_0x50c670(0x27c));}finally{_0x123937[_0x50c670(0x410)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3fd4a7['textContent']='ย้าย',_0x3fd4a7[_0x50c670(0x9d7)]=![],_0x3fd4a7[_0x50c670(0x734)](_0x50c670(0x3fb),_0x2b5485),_0x395452['removeEventListener'](_0x50c670(0x3fb),_0x36fd6d);}},_0x36fd6d=()=>{const _0x50da93=_0x9943aa;_0x1c1fb4[_0x50da93(0x431)][_0x50da93(0x8af)](_0x50da93(0x450)),_0x123937['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3fd4a7[_0x50da93(0x410)]='ย้าย',_0x3fd4a7[_0x50da93(0x734)](_0x50da93(0x3fb),_0x2b5485),_0x395452[_0x50da93(0x734)](_0x50da93(0x3fb),_0x36fd6d);};_0x3fd4a7[_0x9943aa(0x4da)](_0x9943aa(0x3fb),_0x2b5485),_0x395452[_0x9943aa(0x4da)]('click',_0x36fd6d);}function handleDeleteStudent(_0x242a99){const _0x2f443c=_0xbb2a9e;showConfirmation(_0x2f443c(0x416)+_0x242a99+_0x2f443c(0x6e2),async()=>{const _0x5b6765=_0x2f443c;if(!currentProjectId||!currentProjectData)return;const _0x2e2db7=currentProjectData[_0x5b6765(0x3dc)][_0x5b6765(0x51b)](_0x561302=>_0x561302!==_0x242a99);try{const _0x2031db=doc(db,_0x5b6765(0x44d)+appId+_0x5b6765(0xb3c),currentProjectId),_0x435cae=doc(db,_0x5b6765(0x44d)+appId+_0x5b6765(0xa74)+currentProjectId+_0x5b6765(0xb0a),_0x242a99),_0x3a05da=writeBatch(db);_0x3a05da[_0x5b6765(0x553)](_0x2031db,{'students':_0x2e2db7}),_0x3a05da[_0x5b6765(0xae9)](_0x435cae),await _0x3a05da[_0x5b6765(0x4c6)]();}catch(_0x48368d){console['error'](_0x5b6765(0xb29),_0x48368d),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x1dfaf2=_0xbb2a9e;showConfirmation(_0x1dfaf2(0xac3),async()=>{const _0x5777e2=_0x1dfaf2;if(!currentProjectId)return;try{const _0x3441da=doc(db,'artifacts/'+appId+_0x5777e2(0xb3c),currentProjectId),_0x542c2c=collection(db,_0x5777e2(0x44d)+appId+_0x5777e2(0xa74)+currentProjectId+_0x5777e2(0xb0a)),_0x591b26=await getDocs(_0x542c2c),_0x1f5582=writeBatch(db);_0x1f5582[_0x5777e2(0x553)](_0x3441da,{'students':[]}),_0x591b26[_0x5777e2(0x803)](_0x451a8e=>_0x1f5582[_0x5777e2(0xae9)](_0x451a8e[_0x5777e2(0x7ef)])),await _0x1f5582[_0x5777e2(0x4c6)]();}catch(_0x497cd0){console[_0x5777e2(0x746)]('Error\x20deleting\x20all\x20students:',_0x497cd0),showMessage(_0x5777e2(0x32c));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x56838f){const _0x427f96=_0xbb2a9e,_0x27103b=document[_0x427f96(0x9c1)](_0x427f96(0x559)),_0x149ed4=document['getElementById'](_0x427f96(0x654));_0x27103b['classList'][_0x427f96(0x905)]('hidden'),_0x149ed4[_0x427f96(0x1c3)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x2e7b56=new FileReader();_0x2e7b56['readAsDataURL'](_0x56838f),await new Promise((_0x5e1e71,_0x1f5136)=>{const _0x580a2f=_0x427f96;_0x2e7b56['onload']=()=>{const _0x31b69c=_0x1a06;fileDataBase64=_0x2e7b56[_0x31b69c(0x9ee)][_0x31b69c(0x8cd)](',')[0x1],fileMimeType=_0x56838f[_0x31b69c(0x687)],_0x5e1e71();},_0x2e7b56[_0x580a2f(0x864)]=_0x53ea78=>_0x1f5136(_0x53ea78);});if(!fileDataBase64)throw new Error(_0x427f96(0x970));const _0x5dadf8=_0x427f96(0x344),_0x4b29bd={'type':'OBJECT','properties':{'topics':{'type':_0x427f96(0xa9c),'items':{'type':'STRING'}}},'required':[_0x427f96(0x86a)]},_0x2d3d91=[{'text':_0x5dadf8},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x485b1f=await handleApiCall(_0x2d3d91,_0x427f96(0xa5d),_0x4b29bd,null,![]);if(_0x485b1f&&_0x485b1f[_0x427f96(0x86a)])extractedFileTopics=_0x485b1f['topics'],renderFileTopics();else throw new Error(_0x427f96(0x6c4));}catch(_0x1839c5){console[_0x427f96(0x746)](_0x427f96(0x6e4),_0x1839c5),_0x149ed4['innerHTML']=_0x427f96(0x255)+_0x1839c5['message']+_0x427f96(0x40c);}}function renderFileTopics(){const _0x50953d=_0xbb2a9e,_0x22168f=document[_0x50953d(0x9c1)]('file-topics-list');if(extractedFileTopics[_0x50953d(0xa7c)]===0x0){_0x22168f[_0x50953d(0x1c3)]=_0x50953d(0x6a1);return;}_0x22168f['innerHTML']=extractedFileTopics['map'](_0x32b718=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x32b718+_0x50953d(0x912)+escape(_0x32b718)+_0x50953d(0x20f)+escape(_0x32b718)+_0x50953d(0x1cf))['join']('');}async function generateHybridQuizForTopic(_0x1187b1){const _0x277e48=_0xbb2a9e,_0x22da1b=parseInt(document[_0x277e48(0x9c1)](_0x277e48(0x204))[_0x277e48(0x9b2)],0xa),_0x517d1e=document[_0x277e48(0x9c1)](_0x277e48(0x23a))[_0x277e48(0x9b2)],_0x1c3831=document[_0x277e48(0x9c1)](_0x277e48(0x2f7))['value'],_0xec5a16=document['getElementById'](_0x277e48(0x876))[_0x277e48(0x6a4)],_0x4ebaa2=_0xec5a16?_0x277e48(0x8b8):_0x277e48(0x7ab);let _0x41f129='',_0x462596;const _0x484fed={'type':_0x277e48(0x7b2),'properties':{'questionText':{'type':_0x277e48(0x4e5)},'options':{'type':'ARRAY','items':{'type':_0x277e48(0x4e5)}},'correctAnswerIndex':{'type':_0x277e48(0xab2)},'explanation':{'type':_0x277e48(0x4e5)},'imageCode':{'type':_0x277e48(0x4e5)}},'required':[_0x277e48(0x23b),_0x277e48(0x643),_0x277e48(0xad0),'explanation']},_0x23b823={'type':_0x277e48(0x7b2),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x277e48(0x300)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x277e48(0x4e5)}},'required':[_0x277e48(0x23b),'correctAnswer','explanation']},_0x2567f6={'type':'OBJECT','properties':{'questionText':{'type':_0x277e48(0x4e5)},'idealAnswer':{'type':_0x277e48(0x4e5)},'explanation':{'type':_0x277e48(0x4e5)},'imageCode':{'type':_0x277e48(0x4e5)}},'required':[_0x277e48(0x23b),_0x277e48(0x26d),'explanation']},_0x540dde={'type':'OBJECT','properties':{'questionType':{'type':_0x277e48(0x4e5),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x277e48(0xa9c),'items':{'type':_0x277e48(0x4e5)}},'explanation':{'type':_0x277e48(0x4e5)},'imageCode':{'type':_0x277e48(0x4e5)}},'required':[_0x277e48(0x368),_0x277e48(0x8ce),'correctResponse','allResponses','explanation']};switch(_0x517d1e){case _0x277e48(0xad6):_0x41f129='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x1c3831+_0x277e48(0x3e9),_0x462596=_0x484fed;break;case _0x277e48(0xb53):_0x41f129='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x462596=_0x23b823;break;case _0x277e48(0x97c):_0x41f129=_0x277e48(0x91f),_0x462596=_0x2567f6;break;case _0x277e48(0x67f):_0x41f129='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x462596=_0x540dde;break;case _0x277e48(0x32e):_0x41f129=_0x277e48(0x24a)+_0x1c3831+_0x277e48(0x3e9),_0x462596=_0x484fed;break;default:_0x41f129='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x1c3831+_0x277e48(0x3e9),_0x462596=_0x484fed;break;}const _0x2ad122='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x55e095=document[_0x277e48(0x9c1)](_0x277e48(0x1f5)),_0x50ee3d=document['getElementById'](_0x277e48(0x98b)),_0x5364f6=document[_0x277e48(0x9c1)](_0x277e48(0x9cc));document[_0x277e48(0x9c1)](_0x277e48(0x266))[_0x277e48(0x431)][_0x277e48(0x905)]('hidden'),_0x5364f6[_0x277e48(0x1c3)]='',_0x55e095[_0x277e48(0x431)][_0x277e48(0x905)](_0x277e48(0x450)),_0x50ee3d['textContent']=_0x277e48(0xa72)+_0x1187b1+_0x277e48(0x4c5)+_0x22da1b+_0x277e48(0x88a);try{const _0x28315a=_0x277e48(0x1b3)+_0x1187b1+_0x277e48(0x73e)+_0x22da1b+_0x277e48(0x58d)+_0x1187b1+_0x277e48(0x1bb)+_0x22da1b+_0x277e48(0x444)+_0x4ebaa2+_0x277e48(0xade)+_0x41f129+_0x277e48(0x9e1)+_0x2ad122+_0x277e48(0x4bf)+simpleMathPrompt+_0x277e48(0xb37),_0x3c0597={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x277e48(0xa9c),'items':_0x462596}},'required':[_0x277e48(0xb4a),_0x277e48(0xa17)]},_0x258e88=[{'text':_0x28315a},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x258e88,_0x277e48(0x632)+_0x1187b1+'\x22...',_0x3c0597);}catch(_0x5a59a6){console['error'](_0x277e48(0x880),_0x5a59a6),showMessage(_0x277e48(0x73f)+_0x5a59a6[_0x277e48(0x3f4)]),_0x5364f6[_0x277e48(0x1c3)]=_0x277e48(0x54a);}finally{_0x55e095[_0x277e48(0x431)][_0x277e48(0x8af)](_0x277e48(0x450));}}async function handleGenerateFromFileClick(){const _0x2091c4=_0xbb2a9e;if(!selectedFile){showMessage(_0x2091c4(0x4bd));return;}const _0x16c27c=document[_0x2091c4(0x9c1)](_0x2091c4(0x1f5)),_0x49ace9=document['getElementById'](_0x2091c4(0x98b)),_0x3c2d99=document[_0x2091c4(0x9c1)](_0x2091c4(0x9cc)),_0x197c70=document[_0x2091c4(0x9c1)](_0x2091c4(0x6ac));_0x197c70['disabled']=!![],document[_0x2091c4(0x9c1)]('quiz-generation-area')[_0x2091c4(0x431)][_0x2091c4(0x905)](_0x2091c4(0x450)),_0x3c2d99[_0x2091c4(0x1c3)]='',_0x16c27c['classList'][_0x2091c4(0x905)](_0x2091c4(0x450)),_0x49ace9['textContent']=_0x2091c4(0x971);const _0x38f044=new FileReader();_0x38f044[_0x2091c4(0x6d4)](selectedFile),_0x38f044[_0x2091c4(0x726)]=async()=>{const _0x21e8f1=_0x2091c4;try{const _0x3dcde1=_0x38f044['result']['split'](',')[0x1],_0x135f80=selectedFile[_0x21e8f1(0x687)];await generateQuizFromFile(_0x135f80,_0x3dcde1);}catch(_0x3bf827){console[_0x21e8f1(0x746)]('Error\x20processing\x20file\x20for\x20AI:',_0x3bf827),showMessage(_0x21e8f1(0x4a5)+_0x3bf827[_0x21e8f1(0x3f4)]),_0x16c27c['classList']['add'](_0x21e8f1(0x450));}finally{}},_0x38f044[_0x2091c4(0x864)]=_0x3832fe=>{const _0x4487eb=_0x2091c4;console['error'](_0x4487eb(0x27f),_0x3832fe),showMessage(_0x4487eb(0x925)),_0x16c27c[_0x4487eb(0x431)]['add'](_0x4487eb(0x450)),_0x197c70[_0x4487eb(0x9d7)]=![];};}function autoFormatMath(_0x38024d){const _0xd0a4ab=_0xbb2a9e;if(typeof _0x38024d!=='string'||!_0x38024d)return _0x38024d;const _0x56a455=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x33f070=_0x38024d[_0xd0a4ab(0x99c)](_0x56a455,_0x48ec54=>{const _0xfcf04b=_0xd0a4ab;return'$'+_0x48ec54[_0xfcf04b(0x9aa)]()+'$';});return _0x33f070;}function sanitizeQuizData(_0x47645c){const _0x2501d0=_0xbb2a9e;if(!_0x47645c||!_0x47645c[_0x2501d0(0xa17)])return _0x47645c;const _0x53d4a8={'imes':'\x5ctimes','div':_0x2501d0(0x2bc)},_0x3888d2=_0x5d27dd=>{const _0x430537=_0x2501d0;if(typeof _0x5d27dd!==_0x430537(0x54b))return _0x5d27dd;let _0x5e9fd0=_0x5d27dd;for(const [_0x542e7a,_0x15470e]of Object[_0x430537(0xaae)](_0x53d4a8)){const _0x5d316f=new RegExp('\x5cb'+_0x542e7a+'\x5cb','g');_0x5e9fd0=_0x5e9fd0[_0x430537(0x99c)](_0x5d316f,_0x15470e);}return _0x5e9fd0=_0x5e9fd0[_0x430537(0x99c)](/\\\//g,_0x430537(0x2bc)),_0x5e9fd0=_0x5e9fd0[_0x430537(0x99c)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x430537(0x2bc))[_0x430537(0x99c)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x430537(0x483))[_0x430537(0x99c)](/÷/g,_0x430537(0x2bc))[_0x430537(0x99c)](/×/g,'\x5ctimes'),_0x5e9fd0=_0x5e9fd0[_0x430537(0x99c)](/(\d)(\\frac)/g,_0x430537(0x558)),_0x5e9fd0=autoFormatMath(_0x5e9fd0),_0x5e9fd0;};return _0x47645c[_0x2501d0(0xb4a)]&&(_0x47645c[_0x2501d0(0xb4a)]=_0x3888d2(_0x47645c['topic'])),_0x47645c[_0x2501d0(0xa17)][_0x2501d0(0x803)](_0x33c878=>{const _0x1ffc5a=_0x2501d0;_0x33c878['questionText']=_0x3888d2(_0x33c878['questionText']),_0x33c878[_0x1ffc5a(0x643)]&&(_0x33c878[_0x1ffc5a(0x643)]=_0x33c878['options'][_0x1ffc5a(0x791)](_0x3888d2)),_0x33c878['explanation']&&(_0x33c878['explanation']=_0x3888d2(_0x33c878[_0x1ffc5a(0x324)])),_0x33c878[_0x1ffc5a(0x8ce)]&&(_0x33c878[_0x1ffc5a(0x8ce)]=_0x3888d2(_0x33c878['stem'])),_0x33c878['correctResponse']&&(_0x33c878[_0x1ffc5a(0x4cc)]=_0x3888d2(_0x33c878[_0x1ffc5a(0x4cc)])),_0x33c878['allResponses']&&(_0x33c878[_0x1ffc5a(0x82a)]=_0x33c878[_0x1ffc5a(0x82a)][_0x1ffc5a(0x791)](_0x3888d2));}),_0x47645c;}const simpleMathPrompt=_0xbb2a9e(0x220);async function handleGenerateFromLink(){const _0x487089=_0xbb2a9e,_0x55b946=document['getElementById'](_0x487089(0x9c7)),_0x4e97af=document[_0x487089(0x9c1)](_0x487089(0x4d8)),_0x29020f=_0x55b946[_0x487089(0x9b2)][_0x487089(0x9aa)](),_0x3cb5f0=_0x4e97af['value'][_0x487089(0x9aa)]();if(!_0x29020f){showMessage(_0x487089(0xb49));return;}const _0x550d2a=document[_0x487089(0x9c1)](_0x487089(0x1f5)),_0x510e44=document[_0x487089(0x9c1)](_0x487089(0x98b)),_0x185524=document[_0x487089(0x9c1)](_0x487089(0x9cc)),_0x58e021=document[_0x487089(0x9c1)]('generate-from-link-btn');document[_0x487089(0x9c1)](_0x487089(0x266))['classList'][_0x487089(0x905)](_0x487089(0x450)),_0x185524['innerHTML']='',_0x550d2a[_0x487089(0x431)]['remove']('hidden'),_0x510e44[_0x487089(0x410)]='กำลังดึงข้อมูลจากลิงก์...',_0x58e021['disabled']=!![];try{const _0x1e6a5f='https://corsproxy.io/?'+encodeURIComponent(_0x29020f),_0xa5aa2d=await fetch(_0x1e6a5f);if(!_0xa5aa2d['ok'])throw new Error(_0x487089(0x310)+_0xa5aa2d[_0x487089(0x3f1)]+')');const _0x3431a2=await _0xa5aa2d[_0x487089(0x7e8)](),_0xe2c4c2=extractTextFromHtml(_0x3431a2);if(!_0xe2c4c2||_0xe2c4c2['length']<0x64)throw new Error(_0x487089(0x72d));await generateQuiz(_0x3cb5f0,_0xe2c4c2);}catch(_0x202d66){console[_0x487089(0x746)](_0x487089(0x330),_0x202d66),showMessage('เกิดข้อผิดพลาด:\x20'+_0x202d66[_0x487089(0x3f4)]),_0x185524[_0x487089(0x1c3)]=_0x487089(0xa07);}finally{_0x550d2a['classList'][_0x487089(0x8af)](_0x487089(0x450)),_0x58e021[_0x487089(0x9d7)]=![];}}function extractTextFromHtml(_0x34ab47){const _0x2309f3=_0xbb2a9e,_0x3658d2=new DOMParser()[_0x2309f3(0x6a8)](_0x34ab47,_0x2309f3(0x47c));return _0x3658d2[_0x2309f3(0x345)](_0x2309f3(0x834))['forEach'](_0x443efc=>_0x443efc[_0x2309f3(0x905)]()),_0x3658d2[_0x2309f3(0xad8)][_0x2309f3(0x410)]||'';}document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x596))[_0xbb2a9e(0x4da)](_0xbb2a9e(0x3fb),()=>{const _0x482d0a=_0xbb2a9e,_0x2a2aa2=document['getElementById']('topic-input')['value'][_0x482d0a(0x9aa)]();generateQuiz(_0x2a2aa2,null);}),document[_0xbb2a9e(0x9c1)](_0xbb2a9e(0x989))[_0xbb2a9e(0x4da)](_0xbb2a9e(0x3fb),()=>{const _0x30c8ef=_0xbb2a9e,_0x4439a0=document[_0x30c8ef(0x9c1)](_0x30c8ef(0x24c))[_0x30c8ef(0x9b2)][_0x30c8ef(0x9aa)]();if(!_0x4439a0){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x47568a=document[_0x30c8ef(0x9c1)](_0x30c8ef(0x701))[_0x30c8ef(0x9b2)][_0x30c8ef(0x9aa)]();generateQuiz(_0x47568a,_0x4439a0);});async function generateQuiz(_0x5ee58b,_0x344ef1,_0x24d016=null,_0x56874c=null){const _0x372a2a=_0xbb2a9e,_0x1e0e39=document[_0x372a2a(0x9c1)](_0x372a2a(0x876))['checked'],_0x1eee5d=document[_0x372a2a(0x9c1)]('quiz-type-select')['value'],_0xa4b19b=document['getElementById'](_0x372a2a(0x204))[_0x372a2a(0x9b2)],_0x518d20=document[_0x372a2a(0x9c1)]('num-choices')[_0x372a2a(0x9b2)],_0x388533=document[_0x372a2a(0x9c1)](_0x372a2a(0x638))[_0x372a2a(0x6a4)],_0x2756d2=_0x388533?'':_0x372a2a(0x783),_0x54d660=document['getElementById'](_0x372a2a(0xa86)),_0x44d6c2=_0x54d660['value'];let _0x53fb9a='';_0x44d6c2!=='auto'&&(_0x53fb9a=_0x372a2a(0x4c2)+_0x44d6c2+'\x22');const _0x4cc8db=document[_0x372a2a(0x9c1)]('question-complexity-select'),_0x1f81ad=_0x4cc8db[_0x372a2a(0x9b2)];let _0x13a309='';_0x1f81ad!==_0x372a2a(0x679)&&(_0x13a309=_0x372a2a(0x74e)+_0x1f81ad+_0x372a2a(0x256));const _0x25cf3a=document[_0x372a2a(0x345)](_0x372a2a(0x440)),_0x40d666=Array['from'](_0x25cf3a)[_0x372a2a(0x791)](_0x3b0d5f=>_0x3b0d5f['value']);let _0x269eaa='';_0x40d666[_0x372a2a(0xa7c)]>0x0&&(_0x269eaa=_0x372a2a(0x33f)+_0x40d666['join'](',\x20')+_0x372a2a(0x5d7));let _0xfc11a0='';_0x56874c&&(_0xfc11a0=_0x372a2a(0x66c));let _0x1733f2='',_0x4ffbac='',_0x46ccee,_0x49a3a5='เกี่ยวกับหัวข้อ\x20\x22'+_0x5ee58b+'\x22';if(!_0x5ee58b&&_0x344ef1)_0x49a3a5=_0x372a2a(0xb05);else!_0x5ee58b&&!_0x344ef1&&(_0x49a3a5=_0x372a2a(0x8dd));const _0x5737ce={'type':_0x372a2a(0x7b2),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x372a2a(0xa9c),'items':{'type':_0x372a2a(0x4e5)}},'correctAnswerIndex':{'type':_0x372a2a(0xab2)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x372a2a(0x23b),_0x372a2a(0x643),_0x372a2a(0xad0),_0x372a2a(0x324)]},_0x455c12={'type':_0x372a2a(0x7b2),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x372a2a(0x4e5)},'explanation':{'type':_0x372a2a(0x4e5)},'imageCode':{'type':_0x372a2a(0x4e5)}},'required':[_0x372a2a(0x23b),_0x372a2a(0x26d),'explanation']},_0x1b5522={'type':_0x372a2a(0x7b2),'properties':{'questionText':{'type':_0x372a2a(0x4e5)},'questionType':{'type':_0x372a2a(0x4e5),'enum':[_0x372a2a(0xad6),'short_answer']},'options':{'type':_0x372a2a(0xa9c),'items':{'type':_0x372a2a(0x4e5)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x372a2a(0x4e5)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x372a2a(0x4e5)}},'required':['questionText',_0x372a2a(0x368),_0x372a2a(0x324)]},_0x1642ac={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x372a2a(0x300)},'explanation':{'type':_0x372a2a(0x4e5)},'imageCode':{'type':_0x372a2a(0x4e5)}},'required':[_0x372a2a(0x23b),'correctAnswer',_0x372a2a(0x324)]},_0x5f7b7f={'type':'OBJECT','properties':{'questionType':{'type':_0x372a2a(0x4e5),'enum':[_0x372a2a(0xa4a)]},'stem':{'type':_0x372a2a(0x4e5)},'correctResponse':{'type':_0x372a2a(0x4e5)},'allResponses':{'type':'ARRAY','items':{'type':_0x372a2a(0x4e5)}},'explanation':{'type':_0x372a2a(0x4e5)},'imageCode':{'type':'STRING'}},'required':[_0x372a2a(0x368),_0x372a2a(0x8ce),_0x372a2a(0x4cc),_0x372a2a(0x82a),'explanation']};let _0x5b9e18;if(_0x24d016!==null){const _0x2720d1=currentQuizData[_0x372a2a(0xa17)][_0x24d016]['questionType'],_0xccdc52=_0x1e0e39?_0x372a2a(0x1cb):'';_0x1733f2=_0x372a2a(0x7e3)+_0x49a3a5+'\x20'+_0x269eaa+'\x20'+_0x53fb9a+_0x372a2a(0x257)+_0xccdc52+'\x20'+simpleMathPrompt;if(_0x2720d1===_0x372a2a(0xad6))_0x46ccee=_0x5737ce;else{if(_0x2720d1===_0x372a2a(0xa4a))_0x46ccee={'type':_0x372a2a(0x7b2),'properties':{'questionType':{'type':_0x372a2a(0x4e5),'enum':[_0x372a2a(0xa4a)]},'stem':{'type':_0x372a2a(0x4e5)},'correctResponse':{'type':_0x372a2a(0x4e5)},'explanation':{'type':_0x372a2a(0x4e5)},'imageCode':{'type':_0x372a2a(0x4e5)}},'required':['questionType',_0x372a2a(0x8ce),'correctResponse',_0x372a2a(0x324)]};else _0x46ccee=_0x455c12;}_0x5b9e18=_0x46ccee;}else{const _0x275b70=_0x1e0e39?_0x372a2a(0x9b4):'',_0x8ce742=_0x372a2a(0x474);switch(_0x1eee5d){case'multiple_choice':_0x1733f2=_0x372a2a(0x87f)+_0x2756d2+'\x20'+_0xa4b19b+_0x372a2a(0x68e)+_0x49a3a5+'\x20'+_0x269eaa+'\x20'+_0x53fb9a+'\x20'+_0x13a309+'\x20'+_0xfc11a0+_0x372a2a(0x800)+_0x518d20+_0x372a2a(0x4a6)+_0x275b70+'\x20'+simpleMathPrompt,_0x46ccee=_0x5737ce;break;case _0x372a2a(0x32e):_0x1733f2=_0x372a2a(0x655)+_0x2756d2+'\x20'+_0xa4b19b+_0x372a2a(0x68e)+_0x49a3a5+'\x20'+_0x269eaa+'\x20'+_0x53fb9a+'\x20'+_0x13a309+'\x20'+_0xfc11a0+_0x372a2a(0x672)+_0x518d20+_0x372a2a(0x473)+_0x275b70+'\x20'+simpleMathPrompt,_0x46ccee=_0x5737ce;break;case _0x372a2a(0x97c):_0x1733f2=_0x372a2a(0x655)+_0x2756d2+'\x20'+_0xa4b19b+_0x372a2a(0x68e)+_0x49a3a5+'\x20'+_0x269eaa+'\x20'+_0x53fb9a+'\x20'+_0x13a309+'\x20'+_0xfc11a0+_0x372a2a(0x538)+_0x275b70+'\x20'+simpleMathPrompt,_0x46ccee=_0x455c12;break;case'mixed':_0x1733f2=_0x372a2a(0x686)+_0x2756d2+'\x20'+_0xa4b19b+_0x372a2a(0x68e)+_0x49a3a5+'\x20'+_0x269eaa+'\x20'+_0x53fb9a+'\x20'+_0x13a309+'\x20'+_0xfc11a0+_0x372a2a(0x74b)+_0x518d20+_0x372a2a(0x9f9)+_0x275b70+'\x20'+simpleMathPrompt+'.',_0x46ccee=_0x1b5522;break;case _0x372a2a(0xb53):_0x1733f2=_0x372a2a(0x4ef)+_0x2756d2+'\x20'+_0xa4b19b+'\x20ข้อ\x20'+_0x49a3a5+'\x20'+_0x269eaa+'\x20'+_0x53fb9a+'\x20'+_0x13a309+'\x20'+_0xfc11a0+_0x372a2a(0x478)+_0x275b70+'\x20'+simpleMathPrompt,_0x46ccee=_0x1642ac;break;case _0x372a2a(0x67f):_0x1733f2=_0x372a2a(0x868)+_0x2756d2+'\x20'+_0xa4b19b+'\x20คู่\x20'+_0x49a3a5+'\x20'+_0x269eaa+'\x20'+_0x53fb9a+'\x20'+_0x13a309+'\x20'+_0xfc11a0+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x275b70+'\x20'+simpleMathPrompt,_0x46ccee=_0x5f7b7f;break;}_0x5b9e18={'type':_0x372a2a(0x7b2),'properties':{'topic':{'type':_0x372a2a(0x4e5)},'questions':{'type':_0x372a2a(0xa9c),'items':_0x46ccee}},'required':[_0x372a2a(0xb4a),_0x372a2a(0xa17)]};}_0x344ef1?(_0x1733f2=_0x372a2a(0x8bb)+_0x344ef1+'\x22,\x20'+_0x1733f2,_0x4ffbac=_0x372a2a(0x502)):_0x4ffbac='กำลังสร้างแบบทดสอบจากหัวข้อ...';let _0x65f5d4;return _0x56874c?_0x65f5d4=[{'text':_0x1733f2},..._0x56874c]:_0x65f5d4=_0x1733f2,handleApiCall(_0x65f5d4,_0x4ffbac,_0x5b9e18,_0x24d016);}async function generateQuizFromFile(_0x2ac73e,_0x1629a3){const _0x10d67c=_0xbb2a9e,_0x541abf=document['getElementById'](_0x10d67c(0x62e))['value'][_0x10d67c(0x9aa)](),_0xa88079=document['getElementById'](_0x10d67c(0x23a))[_0x10d67c(0x9b2)],_0x5ef2e6=document[_0x10d67c(0x9c1)](_0x10d67c(0x204))['value'],_0x178bec=document[_0x10d67c(0x9c1)](_0x10d67c(0x2f7))[_0x10d67c(0x9b2)],_0x4c9c15=document[_0x10d67c(0x9c1)](_0x10d67c(0x876))[_0x10d67c(0x6a4)],_0x4d8016=document['getElementById'](_0x10d67c(0x638))['checked'],_0xa58360=_0x4d8016?'':_0x10d67c(0x783),_0x1bdda2=document[_0x10d67c(0x9c1)](_0x10d67c(0x44f))[_0x10d67c(0x6a4)];let _0x4af637='',_0x3b1d50;const _0x535411=_0x4c9c15?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x1bdda2)_0x4af637='\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20'+_0x535411+_0x10d67c(0x938)+simpleMathPrompt+'\x0a',_0x3b1d50={'type':'OBJECT','properties':{'questionText':{'type':_0x10d67c(0x4e5)},'questionType':{'type':_0x10d67c(0x4e5),'enum':[_0x10d67c(0xad6),_0x10d67c(0x68a),_0x10d67c(0xb53),_0x10d67c(0xa4a)]},'options':{'type':_0x10d67c(0xa9c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x10d67c(0xab2)},'idealAnswer':{'type':_0x10d67c(0x4e5)},'correctAnswer':{'type':_0x10d67c(0x300)},'stem':{'type':_0x10d67c(0x4e5)},'correctResponse':{'type':_0x10d67c(0x4e5)},'allResponses':{'type':_0x10d67c(0xa9c),'items':{'type':_0x10d67c(0x4e5)}},'explanation':{'type':_0x10d67c(0x4e5)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x10d67c(0x324)]};else{let _0x1c66ee=_0x10d67c(0x3c2)+_0x541abf+'\x22';!_0x541abf&&(_0x1c66ee=_0x10d67c(0x9bd));switch(_0xa88079){case _0x10d67c(0xad6):_0x4af637=_0x10d67c(0x87f)+_0xa58360+'\x20'+_0x5ef2e6+_0x10d67c(0x68e)+_0x1c66ee+_0x10d67c(0x800)+_0x178bec+_0x10d67c(0x4a6)+_0x535411+'\x20'+simpleMathPrompt,_0x3b1d50={'type':_0x10d67c(0x7b2),'properties':{'questionText':{'type':_0x10d67c(0x4e5)},'options':{'type':_0x10d67c(0xa9c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x10d67c(0xab2)},'explanation':{'type':_0x10d67c(0x4e5)},'imageCode':{'type':_0x10d67c(0x4e5)}},'required':[_0x10d67c(0x23b),_0x10d67c(0x643),_0x10d67c(0xad0),_0x10d67c(0x324)]};break;case _0x10d67c(0x32e):_0x4af637=_0x10d67c(0x655)+_0xa58360+'\x20'+_0x5ef2e6+_0x10d67c(0x68e)+_0x1c66ee+_0x10d67c(0x672)+_0x178bec+_0x10d67c(0x473)+_0x535411+'\x20'+simpleMathPrompt,_0x3b1d50={'type':'OBJECT','properties':{'questionText':{'type':_0x10d67c(0x4e5)},'options':{'type':_0x10d67c(0xa9c),'items':{'type':_0x10d67c(0x4e5)}},'correctAnswerIndex':{'type':_0x10d67c(0xab2)},'explanation':{'type':_0x10d67c(0x4e5)},'imageCode':{'type':_0x10d67c(0x4e5)}},'required':[_0x10d67c(0x23b),'options',_0x10d67c(0xad0),_0x10d67c(0x324)]};break;case _0x10d67c(0x97c):_0x4af637=_0x10d67c(0x655)+_0xa58360+'\x20'+_0x5ef2e6+_0x10d67c(0x68e)+_0x1c66ee+_0x10d67c(0x538)+_0x535411+'\x20'+simpleMathPrompt,_0x3b1d50={'type':_0x10d67c(0x7b2),'properties':{'questionText':{'type':_0x10d67c(0x4e5)},'idealAnswer':{'type':_0x10d67c(0x4e5)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x10d67c(0x4e5)}},'required':[_0x10d67c(0x23b),'idealAnswer',_0x10d67c(0x324)]};break;case _0x10d67c(0x679):_0x4af637='สร้างแบบทดสอบ'+_0xa58360+'\x20'+_0x5ef2e6+_0x10d67c(0x68e)+_0x1c66ee+_0x10d67c(0x542)+_0x178bec+_0x10d67c(0x9f9)+_0x535411+'\x20'+simpleMathPrompt+_0x10d67c(0x69f),_0x3b1d50={'type':_0x10d67c(0x7b2),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x10d67c(0x4e5),'enum':[_0x10d67c(0xad6),'short_answer']},'options':{'type':_0x10d67c(0xa9c),'items':{'type':_0x10d67c(0x4e5)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x10d67c(0x4e5)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x10d67c(0x4e5)}},'required':[_0x10d67c(0x23b),'questionType','explanation']};break;case _0x10d67c(0xb53):_0x4af637='สร้างคำถามแบบใช่/ไม่ใช่'+_0xa58360+'\x20'+_0x5ef2e6+_0x10d67c(0x68e)+_0x1c66ee+_0x10d67c(0x8e6)+_0x535411+'\x20'+simpleMathPrompt,_0x3b1d50={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x10d67c(0x300)},'explanation':{'type':_0x10d67c(0x4e5)},'imageCode':{'type':_0x10d67c(0x4e5)}},'required':[_0x10d67c(0x23b),_0x10d67c(0x2ae),'explanation']};break;case _0x10d67c(0x67f):_0x4af637='สร้างชุดคำถามจับคู่'+_0xa58360+'\x20'+_0x5ef2e6+_0x10d67c(0x56b)+_0x1c66ee+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x5ef2e6+_0x10d67c(0x303)+_0x535411+'\x20'+simpleMathPrompt,_0x3b1d50={'type':_0x10d67c(0x7b2),'properties':{'questionType':{'type':_0x10d67c(0x4e5),'enum':[_0x10d67c(0xa4a)]},'stem':{'type':_0x10d67c(0x4e5)},'correctResponse':{'type':_0x10d67c(0x4e5)},'allResponses':{'type':_0x10d67c(0xa9c),'items':{'type':_0x10d67c(0x4e5)}},'explanation':{'type':_0x10d67c(0x4e5)},'imageCode':{'type':_0x10d67c(0x4e5)}},'required':[_0x10d67c(0x368),'stem',_0x10d67c(0x4cc),'allResponses','explanation']};break;}}const _0xa94a1d={'type':_0x10d67c(0x7b2),'properties':{'topic':{'type':_0x10d67c(0x4e5)},'questions':{'type':_0x10d67c(0xa9c),'items':_0x3b1d50}},'required':[_0x10d67c(0xb4a),'questions']},_0x208838=_0x10d67c(0xb06)+_0x4af637,_0x17885b={'contents':[{'parts':[{'text':_0x208838},{'inlineData':{'mimeType':_0x2ac73e,'data':_0x1629a3}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0xa94a1d}};return handleApiCall(_0x17885b[_0x10d67c(0x76b)][0x0][_0x10d67c(0xacd)],_0x10d67c(0xb1f),_0xa94a1d);}async function handleApiCall(_0x374023,_0x232dcd,_0x409c26,_0x194421=null,_0xcf259=!![]){const _0x34bc50=_0xbb2a9e,_0x173974=document['getElementById'](_0x34bc50(0x266)),_0x4bc973=document[_0x34bc50(0x9c1)]('loader'),_0x314965=document[_0x34bc50(0x9c1)]('loader-text'),_0x57446c=document[_0x34bc50(0x9c1)](_0x34bc50(0x9cc));_0x173974[_0x34bc50(0x431)][_0x34bc50(0x905)](_0x34bc50(0x450));_0x194421===null&&_0xcf259&&(_0x57446c[_0x34bc50(0x1c3)]='');_0x4bc973[_0x34bc50(0x431)][_0x34bc50(0x905)](_0x34bc50(0x450)),_0x314965[_0x34bc50(0x410)]=_0x232dcd,document[_0x34bc50(0x9c1)](_0x34bc50(0x596))['disabled']=!![],document['getElementById']('generate-from-text-btn')[_0x34bc50(0x9d7)]=!![],document[_0x34bc50(0x9c1)](_0x34bc50(0x3a7))[_0x34bc50(0x9d7)]=!![];try{const _0x568c33={'responseMimeType':_0x34bc50(0xa8a),'responseSchema':_0x409c26},_0x478683=Array['isArray'](_0x374023)?_0x374023:[{'text':_0x374023}],_0x47ba90={'contents':[{'role':'user','parts':_0x478683}],'generationConfig':_0x568c33},_0x42a0d4='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x531745=_0x34bc50(0x8da)+_0x42a0d4,_0x1635b6=await fetch(_0x531745,{'method':_0x34bc50(0x4f0),'headers':{'Content-Type':_0x34bc50(0xa8a)},'body':JSON[_0x34bc50(0x994)](_0x47ba90)});if(!_0x1635b6['ok'])throw new Error(_0x34bc50(0x669)+_0x1635b6[_0x34bc50(0x3f1)]);const _0x380588=await _0x1635b6[_0x34bc50(0x690)]();if(_0x380588[_0x34bc50(0xb26)]?.[0x0]?.[_0x34bc50(0x898)]?.[_0x34bc50(0xacd)]?.[0x0]){let _0x2a16bb=_0x380588['candidates'][0x0]['content'][_0x34bc50(0xacd)][0x0]['text'];if(_0x2a16bb[_0x34bc50(0x4ce)](_0x34bc50(0x629)))_0x2a16bb=_0x2a16bb['substring'](0x7,_0x2a16bb['length']-0x3)['trim']();else _0x2a16bb[_0x34bc50(0x4ce)](_0x34bc50(0x6b9))&&(_0x2a16bb=_0x2a16bb[_0x34bc50(0x7a3)](0x3,_0x2a16bb[_0x34bc50(0xa7c)]-0x3)[_0x34bc50(0x9aa)]());let _0x3aafd5=JSON[_0x34bc50(0x74a)](_0x2a16bb);if(_0xcf259){if(_0x194421!==null){if(_0x3aafd5['questionType']===_0x34bc50(0xa4a)){const _0x71bb8=currentQuizData[_0x34bc50(0xa17)]['map'](_0x365eea=>_0x365eea[_0x34bc50(0x4cc)]);_0x3aafd5[_0x34bc50(0x82a)]=_0x71bb8;const _0x2e7d45=currentQuizData['questions'][_0x194421]['correctResponse'],_0x677363=_0x71bb8[_0x34bc50(0xaee)](_0x2e7d45);_0x677363>-0x1&&(_0x71bb8[_0x677363]=_0x3aafd5[_0x34bc50(0x4cc)]),currentQuizData['questions'][_0x34bc50(0x803)](_0x576595=>{const _0x3ae0d2=_0x34bc50;if(_0x576595['questionType']===_0x3ae0d2(0xa4a))_0x576595['allResponses']=_0x71bb8;});}currentQuizData[_0x34bc50(0xa17)][_0x194421]=_0x3aafd5,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x3aafd5;const _0xa37e2e=document[_0x34bc50(0x9c1)](_0x34bc50(0x23a))['value'];currentQuizData[_0x34bc50(0x950)]=_0xa37e2e,currentQuizData[_0x34bc50(0xa17)]&&currentQuizData[_0x34bc50(0xa17)][_0x34bc50(0x803)](_0x2c2e11=>{const _0x3625ab=_0x34bc50;if(!_0x2c2e11[_0x3625ab(0x368)]){if(_0xa37e2e===_0x3625ab(0x32e))_0x2c2e11[_0x3625ab(0x368)]=_0x3625ab(0xad6);else{if(_0xa37e2e===_0x3625ab(0x97c))_0x2c2e11[_0x3625ab(0x368)]=_0x3625ab(0x68a);else _0x2c2e11[_0x3625ab(0x368)]=_0xa37e2e;}}}),displayGeneratedQuiz(currentQuizData);}}return _0x3aafd5;}else throw new Error(_0x34bc50(0x738));}catch(_0x1a3e45){console[_0x34bc50(0x746)](_0x34bc50(0x339),_0x1a3e45),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง');_0x194421===null&&(_0x57446c[_0x34bc50(0x1c3)]=_0x34bc50(0x54a));throw _0x1a3e45;}finally{_0x4bc973[_0x34bc50(0x431)][_0x34bc50(0x8af)]('hidden'),document['getElementById'](_0x34bc50(0x596))[_0x34bc50(0x9d7)]=![],document[_0x34bc50(0x9c1)]('generate-from-text-btn')[_0x34bc50(0x9d7)]=![],document[_0x34bc50(0x9c1)]('generate-from-link-btn')[_0x34bc50(0x9d7)]=![];const _0x2290d6=document[_0x34bc50(0x9c1)](_0x34bc50(0x6ac));if(_0x2290d6)_0x2290d6[_0x34bc50(0x9d7)]=![];}}function exitFullscreen(){const _0x28c3b1=_0xbb2a9e;if(document[_0x28c3b1(0x271)])document[_0x28c3b1(0x271)]()[_0x28c3b1(0x3e2)](_0x59cd25=>console[_0x28c3b1(0x746)](_0x59cd25));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document[_0x28c3b1(0xa9d)]&&document[_0x28c3b1(0xa9d)]();}}function enterFullscreen(){const _0x266758=_0xbb2a9e,_0x2af285=document[_0x266758(0x754)];if(_0x2af285[_0x266758(0x879)])_0x2af285['requestFullscreen']()[_0x266758(0x3e2)](_0x314958=>{const _0x12c317=_0x266758;console[_0x12c317(0x746)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x314958[_0x12c317(0x3f4)]+'\x20('+_0x314958[_0x12c317(0x98a)]+')');});else{if(_0x2af285[_0x266758(0x89e)])_0x2af285[_0x266758(0x89e)]();else _0x2af285['msRequestFullscreen']&&_0x2af285['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x3d9b28=_0xbb2a9e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x3d9b28(0x3e1),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x3d9b28(0x9c1)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document['removeEventListener'](_0x3d9b28(0x616),handleFullscreenChange)):showMessage(_0x3d9b28(0x579)+cheatAttempts+'/'+maxCheatAttempts+_0x3d9b28(0x51c),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x39806a=_0xbb2a9e;if(currentMode===_0x39806a(0xa97)||!isQuizActive)return;if(document[_0x39806a(0x99d)]===_0x39806a(0x450))handleCheatingEvent();else document['visibilityState']===_0x39806a(0x400)&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){if(currentMode==='admin-testing'||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x486438){const _0x53f29b=_0xbb2a9e,_0x29358c=document['getElementById'](_0x53f29b(0x9cc));let _0x390061=_0x53f29b(0x2a0)+_0x486438[_0x53f29b(0xb4a)]+_0x53f29b(0x4a0);_0x486438[_0x53f29b(0xa17)][_0x53f29b(0x803)]((_0x310964,_0x58e449)=>{const _0x4e75c9=_0x53f29b;!_0x310964['id']&&(_0x310964['id']='q_'+Date[_0x4e75c9(0x756)]()+'_'+_0x58e449);const _0x1fc4f2=_0x310964[_0x4e75c9(0x368)]||_0x486438['quizType'];_0x390061+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x58e449+_0x4e75c9(0xa27)+_0x58e449+_0x4e75c9(0x32d)+_0x58e449+_0x4e75c9(0x666);switch(_0x1fc4f2){case _0x4e75c9(0xa4a):_0x390061+=_0x4e75c9(0x8df)+_0x58e449+'\x22>'+(_0x58e449+0x1)+'.\x20'+_0x310964[_0x4e75c9(0x8ce)]+_0x4e75c9(0x40c);_0x310964[_0x4e75c9(0x84f)]&&(_0x390061+=_0x4e75c9(0x7e1)+_0x58e449+_0x4e75c9(0x6a2)+_0x310964[_0x4e75c9(0x84f)]+_0x4e75c9(0xa1c));_0x390061+=_0x4e75c9(0x768)+_0x58e449+'\x22>'+_0x310964['correctResponse']+_0x4e75c9(0x34d),_0x390061+=_0x4e75c9(0x939)+_0x58e449+'\x22>'+_0x310964[_0x4e75c9(0x324)]+'</span></div>';break;case'short_answer':_0x390061+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x58e449+'\x22>'+(_0x58e449+0x1)+'.\x20'+_0x310964[_0x4e75c9(0x23b)]+_0x4e75c9(0x40c);_0x310964[_0x4e75c9(0x84f)]&&(_0x390061+=_0x4e75c9(0x7e1)+_0x58e449+_0x4e75c9(0x6a2)+_0x310964[_0x4e75c9(0x84f)]+'</div>');_0x390061+=_0x4e75c9(0x77e)+_0x58e449+'\x22>'+_0x310964[_0x4e75c9(0x26d)]+_0x4e75c9(0x34d),_0x390061+=_0x4e75c9(0x939)+_0x58e449+'\x22>'+_0x310964[_0x4e75c9(0x324)]+_0x4e75c9(0x34d);break;case _0x4e75c9(0xb53):_0x390061+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x58e449+'\x22>'+(_0x58e449+0x1)+'.\x20'+_0x310964[_0x4e75c9(0x23b)]+'</p>';_0x310964[_0x4e75c9(0x84f)]&&(_0x390061+=_0x4e75c9(0x7e1)+_0x58e449+_0x4e75c9(0x6a2)+_0x310964['imageCode']+'</div>');_0x390061+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x310964[_0x4e75c9(0x2ae)]===!![]?_0x4e75c9(0xa6c):'')+_0x4e75c9(0x82e)+(_0x310964['correctAnswer']===![]?_0x4e75c9(0xa6c):'')+_0x4e75c9(0x1b5),_0x390061+=_0x4e75c9(0x939)+_0x58e449+'\x22>'+_0x310964[_0x4e75c9(0x324)]+_0x4e75c9(0x34d);break;case _0x4e75c9(0xac7):case _0x4e75c9(0xad6):default:_0x390061+=_0x4e75c9(0x8df)+_0x58e449+'\x22>'+(_0x58e449+0x1)+'.\x20'+_0x310964['questionText']+_0x4e75c9(0x40c);_0x310964[_0x4e75c9(0x84f)]&&(_0x390061+=_0x4e75c9(0x7e1)+_0x58e449+_0x4e75c9(0x6a2)+_0x310964[_0x4e75c9(0x84f)]+_0x4e75c9(0xa1c));_0x390061+=_0x4e75c9(0x8c0)+_0x58e449+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x310964[_0x4e75c9(0x643)][_0x4e75c9(0x791)]((_0xb9a101,_0x256869)=>_0x4e75c9(0x9d1)+(_0x256869===_0x310964[_0x4e75c9(0xad0)]?_0x4e75c9(0xa6c):'')+'\x22>'+_0xb9a101+'</li>')[_0x4e75c9(0x3cf)]('')+_0x4e75c9(0x6c3),_0x390061+=_0x4e75c9(0x939)+_0x58e449+'\x22>'+_0x310964[_0x4e75c9(0x324)]+_0x4e75c9(0x34d);break;}_0x390061+=_0x4e75c9(0xa1c);}),_0x390061+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x29358c[_0x53f29b(0x1c3)]=_0x390061,document[_0x53f29b(0x345)](_0x53f29b(0x534))[_0x53f29b(0x803)](_0x3ca2a0=>_0x3ca2a0[_0x53f29b(0x4da)]('click',handleEditQuestion)),document[_0x53f29b(0x345)](_0x53f29b(0x713))[_0x53f29b(0x803)](_0x46985f=>_0x46985f[_0x53f29b(0x4da)](_0x53f29b(0x3fb),handleRegenerateQuestion)),document['getElementById'](_0x53f29b(0x343))[_0x53f29b(0x4da)]('click',exportQuizAsWorksheetPDF),document[_0x53f29b(0x9c1)](_0x53f29b(0x87e))[_0x53f29b(0x4da)]('click',saveQuiz),document['getElementById'](_0x53f29b(0xb0b))[_0x53f29b(0x4da)](_0x53f29b(0x3fb),handleVerifyAnswers);if(window[_0x53f29b(0x7b6)])window['MathJax']['typesetPromise']([_0x29358c]);}function handleRegenerateQuestion(_0x1d4ce5){const _0x1b0500=_0xbb2a9e,_0x3900f0=_0x1d4ce5[_0x1b0500(0x7c3)][_0x1b0500(0x1f9)]['index'],_0x1e543f=currentQuizData[_0x1b0500(0xb4a)];showMessage(_0x1b0500(0x1b0)+(parseInt(_0x3900f0)+0x1)+_0x1b0500(0x8a8)),generateQuiz(_0x1e543f,null,parseInt(_0x3900f0));}function getPointerPosition(_0x467fa3,_0xa3448c){const _0x3cfca7=_0xbb2a9e,_0x1e5929=_0x467fa3[_0x3cfca7(0x203)]();let _0x310ffe,_0x8dc543;return _0xa3448c['touches']&&_0xa3448c[_0x3cfca7(0x3f5)][_0x3cfca7(0xa7c)]>0x0?(_0x310ffe=_0xa3448c['touches'][0x0]['clientX'],_0x8dc543=_0xa3448c['touches'][0x0]['clientY']):(_0x310ffe=_0xa3448c[_0x3cfca7(0x80a)],_0x8dc543=_0xa3448c[_0x3cfca7(0x704)]),{'x':(_0x310ffe-_0x1e5929['e'])/_0x1e5929['a'],'y':(_0x8dc543-_0x1e5929['f'])/_0x1e5929['d']};}function startDrag(_0x3477bc){const _0xf24c22=_0xbb2a9e;_0x3477bc[_0xf24c22(0x687)]===_0xf24c22(0x3b9)&&_0x3477bc['preventDefault']();const _0x27ba46=_0x3477bc[_0xf24c22(0x3a6)][_0xf24c22(0x775)](_0xf24c22(0x3e8));if(_0x27ba46){draggedSvgElement=_0x27ba46;const _0x1f1e75=draggedSvgElement[_0xf24c22(0x97a)],_0x512008=getPointerPosition(_0x1f1e75,_0x3477bc);svgOffset['x']=_0x512008['x']-parseFloat(draggedSvgElement[_0xf24c22(0x413)](null,'x')),svgOffset['y']=_0x512008['y']-parseFloat(draggedSvgElement[_0xf24c22(0x413)](null,'y'));}}function calculateItemAnalysis(_0x5779cd,_0x56d52c){const _0x298724=_0xbb2a9e,_0x1ee418={};if(_0x56d52c['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x555118=[..._0x56d52c][_0x298724(0x415)]((_0x2c756d,_0x2d0920)=>{const _0x517562=_0x298724,_0x1f8203=_0x2d0920[_0x517562(0x419)]-_0x2c756d[_0x517562(0x419)];if(_0x1f8203!==0x0)return _0x1f8203;const _0x3e4d63=_0x2c756d['attempts']?.[_0x517562(0xa7c)]||0x1,_0x110e59=_0x2d0920[_0x517562(0x405)]?.['length']||0x1,_0x1fb880=_0x3e4d63-_0x110e59;if(_0x1fb880!==0x0)return _0x1fb880;const _0x2ed20e=new Date(_0x2c756d['latestSubmittedAt']),_0x3bb149=new Date(_0x2d0920['latestSubmittedAt']),_0xbd9b77=_0x2ed20e-_0x3bb149;if(_0xbd9b77!==0x0)return _0xbd9b77;return _0x2c756d[_0x517562(0x711)][_0x517562(0x222)](_0x2d0920['studentName'],'th');}),_0x4f9274=_0x555118[_0x298724(0xa7c)],_0x53cad6=Math[_0x298724(0xaa3)](0x1,Math[_0x298724(0x7b0)](_0x4f9274*0.33));if(_0x53cad6===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2b8191=_0x555118[_0x298724(0x55c)](0x0,_0x53cad6),_0x5c2762=_0x555118['slice'](-_0x53cad6),_0x468f36=_0x2b8191[_0x298724(0x791)](_0x25fe0a=>_0x25fe0a[_0x298724(0x711)]),_0x37921c=_0x5c2762['map'](_0x1304ee=>_0x1304ee['studentName']);return _0x5779cd[_0x298724(0xa17)][_0x298724(0x803)]((_0x2d8a19,_0x59b119)=>{const _0x3527a8=_0x298724,_0x30a39a=_0x2d8a19[_0x3527a8(0x8ce)]||_0x2d8a19[_0x3527a8(0x23b)];let _0x71a867=0x0,_0x7e4aad=0x0,_0x9a3360=0x0;const _0x55495c=[],_0x2016d1=[];_0x2b8191[_0x3527a8(0x803)](_0x567466=>{const _0x26b697=_0x3527a8,_0x37a5f8=_0x567466[_0x26b697(0x405)][_0x567466[_0x26b697(0x405)][_0x26b697(0xa7c)]-0x1],_0x20f01a=_0x37a5f8[_0x26b697(0x219)][_0x26b697(0x748)](_0x489718=>_0x489718[_0x26b697(0x5f1)]===_0x30a39a);_0x55495c[_0x26b697(0x40b)]({'name':_0x567466['studentName'],'isCorrect':_0x20f01a?_0x20f01a['isCorrect']:![]}),_0x20f01a&&_0x20f01a[_0x26b697(0x6f8)]&&_0x7e4aad++;}),_0x5c2762[_0x3527a8(0x803)](_0x47c36c=>{const _0x101095=_0x3527a8,_0x24af77=_0x47c36c[_0x101095(0x405)][_0x47c36c['attempts'][_0x101095(0xa7c)]-0x1],_0x5cf41b=_0x24af77[_0x101095(0x219)][_0x101095(0x748)](_0x40592c=>_0x40592c[_0x101095(0x5f1)]===_0x30a39a);_0x2016d1[_0x101095(0x40b)]({'name':_0x47c36c[_0x101095(0x711)],'isCorrect':_0x5cf41b?_0x5cf41b[_0x101095(0x6f8)]:![]}),_0x5cf41b&&_0x5cf41b[_0x101095(0x6f8)]&&_0x9a3360++;}),_0x56d52c[_0x3527a8(0x803)](_0x5c1bc8=>{const _0x57743d=_0x3527a8,_0x464d35=_0x5c1bc8['attempts'][_0x5c1bc8[_0x57743d(0x405)][_0x57743d(0xa7c)]-0x1],_0x1aa6fe=_0x464d35[_0x57743d(0x219)]['find'](_0x962897=>_0x962897[_0x57743d(0x5f1)]===_0x30a39a);_0x1aa6fe&&_0x1aa6fe[_0x57743d(0x6f8)]&&_0x71a867++;});const _0x50ef69=_0x4f9274>0x0?_0x71a867/_0x4f9274:0x0,_0x200f8a=_0x53cad6>0x0?_0x7e4aad/_0x53cad6-_0x9a3360/_0x53cad6:0x0;_0x1ee418[_0x59b119]={'p':_0x50ef69,'r':_0x200f8a,'upperGroupResponders':_0x55495c,'lowerGroupResponders':_0x2016d1};}),{'perQuestionStats':_0x1ee418,'overallGroups':{'upperGroupNames':_0x468f36,'lowerGroupNames':_0x37921c}};}function drag(_0x45fa0d){const _0x19ed68=_0xbb2a9e;if(draggedSvgElement){_0x45fa0d[_0x19ed68(0x457)]();const _0x20b106=draggedSvgElement[_0x19ed68(0x97a)],_0x28f63f=getPointerPosition(_0x20b106,_0x45fa0d),_0x1e2382=_0x20b106[_0x19ed68(0x67e)][_0x19ed68(0x847)];let _0x1e38f6=_0x28f63f['x']-svgOffset['x'],_0x7632b1=_0x28f63f['y']-svgOffset['y'];const _0x15a844=draggedSvgElement['getBBox']();_0x1e38f6=Math[_0x19ed68(0xaa3)](_0x1e2382['x'],Math[_0x19ed68(0x2e8)](_0x1e38f6,_0x1e2382['x']+_0x1e2382[_0x19ed68(0x7e7)]-_0x15a844[_0x19ed68(0x7e7)])),_0x7632b1=Math[_0x19ed68(0xaa3)](_0x1e2382['y'],Math['min'](_0x7632b1,_0x1e2382['y']+_0x1e2382[_0x19ed68(0x35d)]-_0x15a844['height'])),draggedSvgElement[_0x19ed68(0xad1)](null,'x',_0x1e38f6),draggedSvgElement[_0x19ed68(0xad1)](null,'y',_0x7632b1);}}function endDrag(_0x5daa62){draggedSvgElement=null;}function handleSvgEditClick(_0x945036){const _0x40ac4d=_0xbb2a9e;if(_0x945036[_0x40ac4d(0x3a6)][_0x40ac4d(0x431)][_0x40ac4d(0x7b4)](_0x40ac4d(0x282))){const _0x26ef54=_0x945036[_0x40ac4d(0x3a6)][_0x40ac4d(0x1f9)]['targetId'],_0x5d86a0=_0x945036[_0x40ac4d(0x7c3)],_0xa6e7a4=_0x5d86a0[_0x40ac4d(0x729)]('#'+_0x26ef54);_0xa6e7a4&&_0xa6e7a4['remove'](),_0x945036[_0x40ac4d(0x3a6)][_0x40ac4d(0x905)]();}}function handleEditQuestion(_0x1839cf){const _0x1f952f=_0xbb2a9e,_0x3f5ad9=_0x1839cf[_0x1f952f(0x7c3)],_0x3ede0d=_0x3f5ad9[_0x1f952f(0x1f9)][_0x1f952f(0x6f7)],_0x15b33a=currentQuizData['questions'][_0x3ede0d],_0x51bef3=document['getElementById'](_0x1f952f(0x530)+_0x3ede0d),_0x2d4f31=document[_0x1f952f(0x9c1)](_0x1f952f(0x426)+_0x3ede0d),_0x45e07f=document[_0x1f952f(0x9c1)]('q-image-container-'+_0x3ede0d);if(_0x3f5ad9[_0x1f952f(0x1c3)]['includes'](_0x1f952f(0x60f))){_0x3f5ad9[_0x1f952f(0x1c3)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x3f5ad9[_0x1f952f(0xb09)]='บันทึกการแก้ไข';if(_0x51bef3)_0x51bef3[_0x1f952f(0xa87)]=!![];if(_0x2d4f31)_0x2d4f31[_0x1f952f(0xa87)]=!![];if(_0x45e07f){const _0x1686af=_0x45e07f['querySelector'](_0x1f952f(0x830));if(_0x1686af){const _0x5dc4bd=_0x1686af[_0x1f952f(0x345)](_0x1f952f(0x7e8));_0x5dc4bd['forEach']((_0x7cb978,_0x5ae122)=>{const _0xff804b=_0x1f952f,_0x4161ad='editable-text-'+_0x3ede0d+'-'+_0x5ae122;_0x7cb978['id']=_0x4161ad,_0x7cb978[_0xff804b(0x431)][_0xff804b(0x8af)]('draggable-text'),_0x7cb978[_0xff804b(0x29c)][_0xff804b(0xa61)]=_0xff804b(0x87b);const _0x5101b9=document['createElementNS'](_0xff804b(0x369),_0xff804b(0xa3c)),_0x26605d=_0x7cb978[_0xff804b(0x21d)]();_0x5101b9[_0xff804b(0x826)]('cx',String(_0x26605d['x']+_0x26605d[_0xff804b(0x7e7)]+0x5)),_0x5101b9[_0xff804b(0x826)]('cy',String(_0x26605d['y']+_0x26605d[_0xff804b(0x35d)]/0x2-0x5)),_0x5101b9[_0xff804b(0x826)]('r','5'),_0x5101b9[_0xff804b(0x826)]('fill',_0xff804b(0x721)),_0x5101b9[_0xff804b(0x826)](_0xff804b(0x4bb),'delete-svg-btn'),_0x5101b9[_0xff804b(0x1f9)][_0xff804b(0x83e)]=_0x4161ad,_0x7cb978[_0xff804b(0x786)](_0x5101b9);}),_0x1686af[_0x1f952f(0x4da)]('mousedown',startDrag),_0x1686af[_0x1f952f(0x4da)](_0x1f952f(0x8f7),drag),_0x1686af[_0x1f952f(0x4da)]('mouseup',endDrag),_0x1686af[_0x1f952f(0x4da)]('mouseleave',endDrag),_0x1686af[_0x1f952f(0x4da)](_0x1f952f(0x3b9),startDrag,{'passive':![]}),_0x1686af[_0x1f952f(0x4da)](_0x1f952f(0x5c5),drag,{'passive':![]}),_0x1686af['addEventListener'](_0x1f952f(0x223),endDrag),_0x1686af[_0x1f952f(0x4da)](_0x1f952f(0x3b0),endDrag),_0x1686af['addEventListener']('click',handleSvgEditClick);}}if(_0x51bef3)_0x51bef3[_0x1f952f(0x23e)]();}else{_0x3f5ad9[_0x1f952f(0x1c3)]=_0x1f952f(0x5ce),_0x3f5ad9['title']=_0x1f952f(0xb3d);if(_0x51bef3){_0x51bef3[_0x1f952f(0xa87)]=![];const _0x3457e1=_0x15b33a['questionType']||currentQuizData[_0x1f952f(0x950)];_0x3457e1===_0x1f952f(0xa4a)?_0x15b33a[_0x1f952f(0x8ce)]=_0x51bef3[_0x1f952f(0x506)][_0x1f952f(0x7a3)](_0x51bef3[_0x1f952f(0x506)]['indexOf']('.')+0x2)[_0x1f952f(0x9aa)]():_0x15b33a['questionText']=_0x51bef3[_0x1f952f(0x506)]['substring'](_0x51bef3[_0x1f952f(0x506)][_0x1f952f(0xaee)]('.')+0x2)[_0x1f952f(0x9aa)]();}_0x2d4f31&&(_0x2d4f31['contentEditable']=![],_0x15b33a[_0x1f952f(0x324)]=_0x2d4f31[_0x1f952f(0x506)]);if(_0x45e07f){const _0x4f787c=_0x45e07f[_0x1f952f(0x729)](_0x1f952f(0x830));if(_0x4f787c){const _0x226ca8=_0x4f787c[_0x1f952f(0x6db)](!![]);_0x226ca8[_0x1f952f(0x345)]('.delete-svg-btn')[_0x1f952f(0x803)](_0x18300c=>_0x18300c[_0x1f952f(0x905)]()),_0x226ca8[_0x1f952f(0x345)](_0x1f952f(0x3e8))[_0x1f952f(0x803)](_0x234b0a=>{const _0x1b302e=_0x1f952f;_0x234b0a[_0x1b302e(0x431)][_0x1b302e(0x905)](_0x1b302e(0x420)),_0x234b0a['style']['cursor']=_0x1b302e(0x3e5),_0x234b0a[_0x1b302e(0xb36)]('id');}),_0x15b33a[_0x1f952f(0x84f)]=_0x226ca8[_0x1f952f(0x697)],_0x4f787c[_0x1f952f(0x734)]('mousedown',startDrag),_0x4f787c[_0x1f952f(0x734)](_0x1f952f(0x8f7),drag),_0x4f787c[_0x1f952f(0x734)]('mouseup',endDrag),_0x4f787c[_0x1f952f(0x734)](_0x1f952f(0x887),endDrag),_0x4f787c['removeEventListener']('touchstart',startDrag),_0x4f787c['removeEventListener'](_0x1f952f(0x5c5),drag),_0x4f787c[_0x1f952f(0x734)](_0x1f952f(0x223),endDrag),_0x4f787c[_0x1f952f(0x734)](_0x1f952f(0x3b0),endDrag),_0x4f787c[_0x1f952f(0x734)](_0x1f952f(0x3fb),handleSvgEditClick),_0x4f787c['querySelectorAll'](_0x1f952f(0x597))[_0x1f952f(0x803)](_0x14e81c=>_0x14e81c[_0x1f952f(0x905)]()),_0x4f787c['querySelectorAll'](_0x1f952f(0x3e8))[_0x1f952f(0x803)](_0x53cdcb=>{const _0x39ebd4=_0x1f952f;_0x53cdcb[_0x39ebd4(0x431)][_0x39ebd4(0x905)]('draggable-text'),_0x53cdcb[_0x39ebd4(0x29c)][_0x39ebd4(0xa61)]=_0x39ebd4(0x3e5);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5ecca5){const _0xbdf1a7=_0xbb2a9e,_0x527a92=document[_0xbdf1a7(0x9c1)]('quiz-editor-modal'),_0x2ac002=document[_0xbdf1a7(0x9c1)](_0xbdf1a7(0x37c));_0x2ac002[_0xbdf1a7(0x1c3)]=_0xbdf1a7(0x7eb),_0x527a92[_0xbdf1a7(0x431)][_0xbdf1a7(0x905)]('hidden');try{const _0x5764e2=doc(db,_0xbdf1a7(0x44d)+appId+_0xbdf1a7(0x622),_0x5ecca5),_0x2f8279=await getDoc(_0x5764e2);if(!_0x2f8279['exists']())throw new Error(_0xbdf1a7(0x9ad));currentEditingQuizData={'id':_0x5ecca5,..._0x2f8279[_0xbdf1a7(0x24b)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3427fb){console[_0xbdf1a7(0x746)](_0xbdf1a7(0x4b2),_0x3427fb),showMessage(_0xbdf1a7(0x2c8)),_0x527a92[_0xbdf1a7(0x431)][_0xbdf1a7(0x8af)](_0xbdf1a7(0x450));}}function renderQuizEditor(_0x33a2ef){const _0xb3cf86=_0xbb2a9e;document[_0xb3cf86(0x9c1)](_0xb3cf86(0x87c))[_0xb3cf86(0x9b2)]=_0x33a2ef[_0xb3cf86(0xb4a)];const _0x4a427a=document['getElementById'](_0xb3cf86(0x37c));let _0x149d03=_0x33a2ef['questions'][_0xb3cf86(0x791)]((_0x24e5ba,_0x156481)=>{const _0x1da819=_0xb3cf86;let _0x4294d4='';const _0x2a0641=_0x24e5ba[_0x1da819(0x368)]||_0x33a2ef[_0x1da819(0x950)];switch(_0x2a0641){case _0x1da819(0xad6):const _0x5678f9=(_0x24e5ba[_0x1da819(0x643)]||[])[_0x1da819(0x791)]((_0x3356bc,_0x7a29ee)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x156481+_0x1da819(0xaf5)+_0x7a29ee+'\x22\x20'+(_0x7a29ee===_0x24e5ba[_0x1da819(0xad0)]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x3356bc+_0x1da819(0x54d))[_0x1da819(0x3cf)]('');_0x4294d4=_0x1da819(0x832)+_0x5678f9+_0x1da819(0x423);break;case _0x1da819(0x68a):_0x4294d4=_0x1da819(0x8f2)+(_0x24e5ba[_0x1da819(0x26d)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'true_false':_0x4294d4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x156481+_0x1da819(0x752)+(_0x24e5ba[_0x1da819(0x2ae)]===!![]?_0x1da819(0x6a4):'')+_0x1da819(0x67d)+_0x156481+_0x1da819(0x45c)+(_0x24e5ba[_0x1da819(0x2ae)]===![]?'checked':'')+_0x1da819(0x59d);break;case'matching_item':_0x4294d4=_0x1da819(0x1b6)+(_0x24e5ba['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x1b6e56=_0x24e5ba[_0x1da819(0x23b)]||_0x24e5ba[_0x1da819(0x8ce)]||'';return _0x1da819(0x9a3)+_0x156481+_0x1da819(0x833)+_0x2a0641+_0x1da819(0xb2e)+(_0x156481+0x1)+'\x20('+_0x2a0641+_0x1da819(0x493)+_0x1b6e56+_0x1da819(0xa6a)+_0x4294d4+_0x1da819(0x421);})[_0xb3cf86(0x3cf)]('');_0x4a427a[_0xb3cf86(0x1c3)]=_0x149d03,_0x4a427a[_0xb3cf86(0x345)](_0xb3cf86(0x46a))[_0xb3cf86(0x803)](_0x5a30d1=>{const _0x320c2d=_0xb3cf86;_0x5a30d1[_0x320c2d(0x4da)](_0x320c2d(0x3fb),handleAiFixQuestion);});}async function handleAiFixQuestion(_0xb07d73){const _0x3d5d1c=_0xbb2a9e,_0x311a11=_0xb07d73['currentTarget'],_0x49f8f6=_0x311a11[_0x3d5d1c(0x775)]('.question-editor-item');if(!_0x49f8f6)return;const _0x3e41b5=parseInt(_0x49f8f6[_0x3d5d1c(0x1f9)][_0x3d5d1c(0xb23)],0xa);if(isNaN(_0x3e41b5)||!currentEditingQuizData['questions'][_0x3e41b5]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x532a17=currentEditingQuizData['questions'][_0x3e41b5];_0x311a11[_0x3d5d1c(0x1c3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x311a11[_0x3d5d1c(0x9d7)]=!![];const _0x4d27c5=_0x3d5d1c(0x705)+JSON[_0x3d5d1c(0x994)](_0x532a17)+_0x3d5d1c(0x34f);let _0x5d26de;const _0x205611=_0x532a17[_0x3d5d1c(0x368)]||currentEditingQuizData['quizType'];switch(_0x205611){case _0x3d5d1c(0x68a):_0x5d26de={'type':_0x3d5d1c(0x7b2),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3d5d1c(0x4e5)},'imageCode':{'type':_0x3d5d1c(0x4e5)}},'required':[_0x3d5d1c(0x23b),_0x3d5d1c(0x26d),'explanation']};break;case _0x3d5d1c(0xad6):default:_0x5d26de={'type':'OBJECT','properties':{'questionText':{'type':_0x3d5d1c(0x4e5)},'options':{'type':_0x3d5d1c(0xa9c),'items':{'type':_0x3d5d1c(0x4e5)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3d5d1c(0x4e5)},'imageCode':{'type':_0x3d5d1c(0x4e5)}},'required':[_0x3d5d1c(0x23b),_0x3d5d1c(0x643),_0x3d5d1c(0xad0),_0x3d5d1c(0x324)]};break;}try{let _0x45a3ad=await callAnalysisApi(_0x4d27c5,_0x5d26de);_0x45a3ad['options']&&Array[_0x3d5d1c(0x3f2)](_0x45a3ad[_0x3d5d1c(0x643)])&&(_0x45a3ad[_0x3d5d1c(0x643)]=_0x45a3ad[_0x3d5d1c(0x643)][_0x3d5d1c(0x791)](_0x3f9b83=>typeof _0x3f9b83===_0x3d5d1c(0x54b)?_0x3f9b83[_0x3d5d1c(0x99c)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x3f9b83)),_0x532a17[_0x3d5d1c(0x84f)]&&_0x532a17[_0x3d5d1c(0x84f)]['includes'](_0x3d5d1c(0xa39))&&(_0x45a3ad[_0x3d5d1c(0x84f)]=''),currentEditingQuizData[_0x3d5d1c(0xa17)][_0x3e41b5]={..._0x532a17,..._0x45a3ad},renderQuizEditor(currentEditingQuizData),showMessage(_0x3d5d1c(0x531));}catch(_0x167e57){console[_0x3d5d1c(0x746)](_0x3d5d1c(0x4d6),_0x167e57),showMessage(_0x3d5d1c(0xb44)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x59022f=_0xbb2a9e,_0x1ab9fd=document['getElementById'](_0x59022f(0x1c0));_0x1ab9fd[_0x59022f(0x9d7)]=!![],_0x1ab9fd[_0x59022f(0x1c3)]=_0x59022f(0x647);try{const _0x3033e9=document[_0x59022f(0x9c1)](_0x59022f(0x87c))[_0x59022f(0x9b2)],_0x4f799e=document[_0x59022f(0x345)](_0x59022f(0x9b1));let _0x41eca4=[];const _0x11823e=Array[_0x59022f(0x693)](_0x4f799e)[_0x59022f(0x791)]((_0x32b4d1,_0x14f305)=>{const _0x4fc1bc=_0x59022f,_0x208981=_0x32b4d1[_0x4fc1bc(0x1f9)][_0x4fc1bc(0x3b3)],_0x2ab48c=_0x32b4d1[_0x4fc1bc(0x729)](_0x4fc1bc(0xa34))[_0x4fc1bc(0x9b2)][_0x4fc1bc(0x99c)](/\n/g,_0x4fc1bc(0xb52));let _0x3d85b6={'questionType':_0x208981};const _0x54a506=currentEditingQuizData[_0x4fc1bc(0xa17)][_0x14f305];switch(_0x208981){case'multiple_choice':_0x3d85b6[_0x4fc1bc(0x23b)]=_0x2ab48c;const _0x319a60=_0x32b4d1['querySelectorAll'](_0x4fc1bc(0x308));_0x3d85b6[_0x4fc1bc(0x643)]=Array[_0x4fc1bc(0x693)](_0x319a60)['map'](_0x37d240=>_0x37d240[_0x4fc1bc(0x9b2)]);const _0x460f73=_0x32b4d1['querySelector'](_0x4fc1bc(0x470));_0x3d85b6[_0x4fc1bc(0xad0)]=_0x460f73?parseInt(_0x460f73[_0x4fc1bc(0x9b2)]):0x0;break;case _0x4fc1bc(0x68a):_0x3d85b6[_0x4fc1bc(0x23b)]=_0x2ab48c,_0x3d85b6[_0x4fc1bc(0x26d)]=_0x32b4d1['querySelector']('.ideal-answer-input')[_0x4fc1bc(0x9b2)];break;case _0x4fc1bc(0xb53):_0x3d85b6[_0x4fc1bc(0x23b)]=_0x2ab48c;const _0x9c8ca4=_0x32b4d1[_0x4fc1bc(0x729)](_0x4fc1bc(0x470));_0x3d85b6[_0x4fc1bc(0x2ae)]=_0x9c8ca4?_0x9c8ca4[_0x4fc1bc(0x9b2)]===_0x4fc1bc(0x304):!![];break;case _0x4fc1bc(0xa4a):_0x3d85b6[_0x4fc1bc(0x8ce)]=_0x2ab48c;const _0x1bb344=_0x32b4d1['querySelector'](_0x4fc1bc(0x657));_0x3d85b6['correctResponse']=_0x1bb344?_0x1bb344[_0x4fc1bc(0x9b2)]:'',_0x41eca4[_0x4fc1bc(0x40b)](_0x3d85b6['correctResponse']);break;default:_0x3d85b6['questionText']=_0x2ab48c;break;}return{..._0x54a506,..._0x3d85b6};});_0x41eca4[_0x59022f(0xa7c)]>0x0&&_0x11823e['forEach'](_0x1e52d8=>{const _0x2e6859=_0x59022f;_0x1e52d8[_0x2e6859(0x368)]===_0x2e6859(0xa4a)&&(_0x1e52d8[_0x2e6859(0x82a)]=_0x41eca4);});const _0x3beea0=currentEditingQuizData['id'],_0x1ccd9f=doc(db,'artifacts/'+appId+_0x59022f(0x622),_0x3beea0);await updateDoc(_0x1ccd9f,{'topic':_0x3033e9,'questions':_0x11823e}),document['getElementById'](_0x59022f(0x894))[_0x59022f(0x431)][_0x59022f(0x8af)]('hidden'),showMessage(_0x59022f(0x23c),()=>initiateReGradeProcess(_0x3beea0));}catch(_0x564f0d){console[_0x59022f(0x746)](_0x59022f(0x31a),_0x564f0d),showMessage(_0x59022f(0x44c));}finally{_0x1ab9fd[_0x59022f(0x9d7)]=![],_0x1ab9fd[_0x59022f(0x1c3)]=_0x59022f(0x6b2);}}async function initiateReGradeProcess(_0x581ee7){const _0x28f902=_0xbb2a9e;showMessage(_0x28f902(0x539));try{const _0x1d194a=doc(db,_0x28f902(0x44d)+appId+'/public/data/quizzes',_0x581ee7),_0x36f406=await getDoc(_0x1d194a);if(!_0x36f406[_0x28f902(0x9ce)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x6962a7={'id':_0x581ee7,..._0x36f406[_0x28f902(0x24b)]()},_0x345815=collection(db,_0x28f902(0x44d)+appId+_0x28f902(0x622),_0x581ee7,_0x28f902(0x8ac)),_0x205cda=await getDocs(_0x345815);if(_0x205cda[_0x28f902(0x384)]){showMessage(_0x28f902(0x332));return;}const _0x143d5d=_0x205cda['docs'][_0x28f902(0x791)](_0x3bb43a=>reGradeSingleSubmission(_0x3bb43a,_0x6962a7));await Promise[_0x28f902(0x5d4)](_0x143d5d);if(_0x6962a7[_0x28f902(0x430)]){const _0x1e1216=doc(db,'artifacts/'+appId+'/public/data/projects',_0x6962a7[_0x28f902(0x430)]),_0x36b45c=await getDoc(_0x1e1216);if(_0x36b45c['exists']()&&_0x36b45c[_0x28f902(0x24b)]()[_0x28f902(0x3dc)]){const _0x2a811b=_0x36b45c[_0x28f902(0x24b)]()[_0x28f902(0x3dc)][_0x28f902(0x791)](_0x262e43=>updateStudentProfile(_0x6962a7[_0x28f902(0x430)],_0x262e43));await Promise['all'](_0x2a811b);}}showMessage(_0x28f902(0xb1c)+_0x205cda[_0x28f902(0x9f1)]+_0x28f902(0x621));}catch(_0x34d6fe){console[_0x28f902(0x746)](_0x28f902(0x7ae),_0x34d6fe),showMessage(_0x28f902(0xa9a)+_0x34d6fe['message']);}}async function reGradeSingleSubmission(_0x556c46,_0x59b3c5){const _0xb72603=_0xbb2a9e,_0x2883cb=_0x556c46[_0xb72603(0x24b)](),_0x3ed1a0=_0x2883cb['studentName'],_0x4145c3=_0x2883cb[_0xb72603(0x405)]||[],_0x5ebbe9=[];for(const _0x2ad728 of _0x4145c3){let _0x401225=0x0,_0x55aa81=[],_0x449326=0x0;const _0x25c9b6=[];for(const _0x46abb1 of _0x2ad728[_0xb72603(0x219)]){let _0x573fef;_0x46abb1['questionId']&&(_0x573fef=_0x59b3c5['questions'][_0xb72603(0x748)](_0x178451=>_0x178451['id']===_0x46abb1['questionId']));!_0x573fef&&_0x46abb1[_0xb72603(0x5f1)]&&(_0x573fef=_0x59b3c5[_0xb72603(0xa17)][_0xb72603(0x748)](_0x360cd3=>(_0x360cd3[_0xb72603(0x8ce)]||_0x360cd3[_0xb72603(0x23b)])===_0x46abb1[_0xb72603(0x5f1)]));let _0xce19b6=![];if(_0x573fef){const _0x3dbe04=_0x573fef[_0xb72603(0x368)]||_0x59b3c5['quizType'];switch(_0x3dbe04){case _0xb72603(0xad6):if(_0x573fef[_0xb72603(0x643)]&&_0x573fef[_0xb72603(0xad0)]<_0x573fef[_0xb72603(0x643)][_0xb72603(0xa7c)]){const _0x574dc8=_0x573fef['options'][_0x573fef[_0xb72603(0xad0)]];_0xce19b6=_0x46abb1[_0xb72603(0x86e)]===_0x574dc8;}break;case'true_false':const _0x22ebb5=_0x46abb1[_0xb72603(0x55b)]===!![]||_0x46abb1[_0xb72603(0x55b)]===_0xb72603(0x304);_0xce19b6=_0x22ebb5===_0x573fef['correctAnswer'];break;case _0xb72603(0xa4a):_0xce19b6=_0x46abb1[_0xb72603(0x55b)]===_0x573fef[_0xb72603(0x4cc)];break;case _0xb72603(0x68a):_0xce19b6=await gradeShortAnswer(_0x46abb1['answer'],_0x573fef);break;default:_0xce19b6=_0x46abb1['isCorrect'];break;}}if(_0xce19b6){_0x401225++,_0x449326++;if(_0x449326===0x3)_0x55aa81[_0xb72603(0x40b)](BADGES[_0xb72603(0x5d1)]['id']);}else _0x449326=0x0;_0x25c9b6[_0xb72603(0x40b)]({..._0x46abb1,'isCorrect':_0xce19b6});}let _0x4e2288=_0x401225*0xa;_0x401225===_0x59b3c5[_0xb72603(0xa17)][_0xb72603(0xa7c)]&&(_0x4e2288+=0x32,_0x55aa81[_0xb72603(0x40b)](BADGES[_0xb72603(0x862)]['id'])),_0x5ebbe9[_0xb72603(0x40b)]({..._0x2ad728,'score':_0x401225,'points':_0x4e2288,'badges':Array[_0xb72603(0x693)](new Set(_0x55aa81)),'answers':_0x25c9b6});}const _0x1fb733=_0x5ebbe9[_0xb72603(0xa7c)]>0x0?_0x5ebbe9[0x0]['score']:0x0,_0x25f4fd=Math[_0xb72603(0xaa3)](..._0x5ebbe9[_0xb72603(0x791)](_0x1d2836=>_0x1d2836[_0xb72603(0x6bd)])),_0x5d5ce4=_0x5ebbe9['length']>0x0?_0x5ebbe9[_0x5ebbe9[_0xb72603(0xa7c)]-0x1][_0xb72603(0x6bd)]:0x0,_0x233995=_0x5ebbe9['length']>0x0?_0x5ebbe9[_0x5ebbe9['length']-0x1][_0xb72603(0x3bb)]:0x0,_0xb2867c=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x59b3c5['id']+_0xb72603(0x6d8),_0x3ed1a0);await updateDoc(_0xb2867c,{'attempts':_0x5ebbe9,'firstScore':_0x1fb733,'bestScore':_0x25f4fd,'latestScore':_0x5d5ce4,'points':_0x233995});}function cleanupQuizOptions(_0x218ac2){const _0x53dc9e=_0xbb2a9e,_0x5dd7a3=(_0x514eee,_0x58ceeb)=>_0x58ceeb===0x0?_0x514eee:_0x5dd7a3(_0x58ceeb,_0x514eee%_0x58ceeb),_0x402ce7=_0x2d4073=>{const _0x445a61=_0x1a06;if(typeof _0x2d4073!==_0x445a61(0x54b))return null;_0x2d4073=_0x2d4073[_0x445a61(0x9aa)]();const _0x17c84d=_0x2d4073[_0x445a61(0x8cd)](/[ /]/)[_0x445a61(0x51b)](_0x35ddae=>_0x35ddae!=='');if(_0x17c84d[_0x445a61(0xa7c)]===0x3)return parseInt(_0x17c84d[0x0])+parseInt(_0x17c84d[0x1])/parseInt(_0x17c84d[0x2]);else{if(_0x17c84d[_0x445a61(0xa7c)]===0x2)return parseInt(_0x17c84d[0x0])/parseInt(_0x17c84d[0x1]);else{if(_0x17c84d['length']===0x1&&!isNaN(_0x17c84d[0x0]))return parseFloat(_0x17c84d[0x0]);}}return null;},_0x31edd4=_0x1c6efa=>{const _0x21e1e4=_0x1a06;if(typeof _0x1c6efa!==_0x21e1e4(0x54b))return _0x1c6efa;const _0x4f8d65=_0x1c6efa[_0x21e1e4(0x453)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4f8d65){const _0x62023c=parseInt(_0x4f8d65[0x1]);let _0x1f8c67=parseInt(_0x4f8d65[0x2]),_0x3a7aae=parseInt(_0x4f8d65[0x3]);const _0x48ce53=_0x5dd7a3(_0x1f8c67,_0x3a7aae);_0x1f8c67/=_0x48ce53,_0x3a7aae/=_0x48ce53;if(_0x3a7aae===0x1)return(_0x62023c+_0x1f8c67)[_0x21e1e4(0x86b)]();return _0x62023c+'\x20'+_0x1f8c67+'/'+_0x3a7aae;}return _0x1c6efa;};return _0x218ac2&&_0x218ac2[_0x53dc9e(0xa17)]&&_0x218ac2[_0x53dc9e(0xa17)][_0x53dc9e(0x803)](_0x3ab59f=>{const _0x3de6cc=_0x53dc9e;if(_0x3ab59f['questionType']===_0x3de6cc(0xad6)&&_0x3ab59f['options']){const _0x2fd6d=new Map(),_0x521223=_0x3ab59f['options'][_0x3ab59f[_0x3de6cc(0xad0)]];_0x3ab59f[_0x3de6cc(0x643)][_0x3de6cc(0x803)](_0xa6e5c3=>{const _0xde9be7=_0x3de6cc,_0x14dd28=_0x31edd4(_0xa6e5c3),_0x5ddeac=_0x402ce7(_0x14dd28);_0x5ddeac!==null&&!_0x2fd6d[_0xde9be7(0x2ad)](_0x5ddeac)&&_0x2fd6d[_0xde9be7(0x787)](_0x5ddeac,_0x14dd28);}),_0x3ab59f[_0x3de6cc(0x643)]=Array['from'](_0x2fd6d[_0x3de6cc(0x8b5)]());const _0x2e05dc=_0x3ab59f['options'][_0x3de6cc(0x4d1)](_0x1a7fe2=>_0x1a7fe2===_0x31edd4(_0x521223));_0x3ab59f[_0x3de6cc(0xad0)]=_0x2e05dc!==-0x1?_0x2e05dc:0x0;}}),_0x218ac2;}function showGameStartConfirmationModal(_0xaaa338,_0x22d038,_0x2f2627){const _0x1975b9=_0xbb2a9e,_0x8c29c7=document[_0x1975b9(0x9c1)]('confirm-game-start-modal');document[_0x1975b9(0x9c1)](_0x1975b9(0x235))['textContent']='เริ่มกิจกรรม:\x20'+_0x2f2627,document[_0x1975b9(0x9c1)](_0x1975b9(0x8c6))['value']=_0xaaa338,document[_0x1975b9(0x9c1)]('game-start-mode')['value']=_0x22d038,document[_0x1975b9(0x9c1)](_0x1975b9(0x6b0))['checked']=!![],_0x8c29c7['classList'][_0x1975b9(0x905)](_0x1975b9(0x450));}async function saveGameResultsAsSubmissions(_0x3c17d2){const _0x358636=_0xbb2a9e;console[_0x358636(0x73c)](_0x358636(0xa8e),_0x3c17d2);const _0x4616b7=_0x3c17d2[_0x358636(0x521)];let _0xf541c4=[];if(_0x3c17d2[_0x358636(0x526)])_0xf541c4=Object[_0x358636(0xaae)](_0x3c17d2['players'])[_0x358636(0x791)](([_0x246662,_0x28b91f])=>({'name':_0x246662,..._0x28b91f}));else{if(_0x3c17d2['groups'])Object[_0x358636(0x8b5)](_0x3c17d2[_0x358636(0x8c7)])[_0x358636(0x803)](_0x5864b9=>{const _0x8b9776=_0x358636;_0x5864b9['members'][_0x8b9776(0x803)](_0x5378e0=>{const _0xf68f5e=_0x8b9776;_0xf541c4[_0xf68f5e(0x40b)]({'name':_0x5378e0,'score':_0x5864b9[_0xf68f5e(0x6bd)]});});});else _0x3c17d2['responses']&&Object['entries'](_0x3c17d2[_0x358636(0x2a2)])['forEach'](([_0x1e35e1,_0x50f965])=>{const _0x30a905=_0x358636;_0xf541c4[_0x30a905(0x40b)]({'name':_0x1e35e1,..._0x50f965});});}if(_0xf541c4['length']===0x0){console[_0x358636(0x73c)](_0x358636(0x476));return;}const _0x16ab36=_0x3c17d2[_0x358636(0x53b)]?.[_0x358636(0xa17)][_0x358636(0xa7c)]||currentQuizData[_0x358636(0xa17)][_0x358636(0xa7c)],_0x4e3fcb=writeBatch(db);for(const _0x5a62bf of _0xf541c4){const _0x41d13c=_0x5a62bf[_0x358636(0x6bd)]||0x0,_0x33a4ab=doc(db,_0x358636(0x44d)+appId+_0x358636(0x3b6)+_0x4616b7+_0x358636(0x6d8),_0x5a62bf[_0x358636(0x98a)]),_0x3a037c=(_0x5a62bf[_0x358636(0x219)]||[])[_0x358636(0x51b)](_0x6e07ee=>_0x6e07ee['isCorrect'])[_0x358636(0xa7c)],_0x56b751={'score':_0x3a037c,'points':_0x41d13c,'badges':_0x5a62bf[_0x358636(0x9dd)]||[],'submittedAt':new Date()[_0x358636(0x8eb)](),'answers':(_0x5a62bf[_0x358636(0x219)]||[])['map'](_0x28a340=>({'questionId':_0x28a340[_0x358636(0x759)],'answer':_0x28a340[_0x358636(0x55b)],'answerText':_0x28a340[_0x358636(0x86e)],'isCorrect':_0x28a340[_0x358636(0x6f8)],'originalQuestionText':_0x28a340[_0x358636(0x5f1)],'wasConfident':_0x28a340['wasConfident']}))},_0x3831c6=await getDoc(_0x33a4ab),_0x3f52f3=_0x3831c6[_0x358636(0x9ce)]()?_0x3831c6[_0x358636(0x24b)]():{},_0x1b7345=_0x3f52f3[_0x358636(0x358)]||0x0,_0x665aef=_0x3f52f3[_0x358636(0x405)]||[],_0x2335af={'studentName':_0x5a62bf[_0x358636(0x98a)],'totalQuestions':_0x16ab36,'attempts':arrayUnion(_0x56b751),'latestScore':_0x3a037c,'points':_0x41d13c,'latestSubmittedAt':_0x56b751['submittedAt'],'bestScore':Math[_0x358636(0xaa3)](_0x1b7345,_0x3a037c),'firstScore':_0x665aef[_0x358636(0xa7c)]===0x0?_0x3a037c:_0x3f52f3[_0x358636(0xac4)]||0x0};_0x4e3fcb[_0x358636(0x787)](_0x33a4ab,_0x2335af,{'merge':!![]});}try{await _0x4e3fcb[_0x358636(0x4c6)](),showMessage(_0x358636(0x860)+_0xf541c4[_0x358636(0xa7c)]+_0x358636(0x40a));const _0x16b1b3=_0x3c17d2[_0x358636(0x53b)]?.[_0x358636(0x430)]||currentQuizData?.[_0x358636(0x430)]||currentProjectId;if(_0x16b1b3){const _0x1141e0=[...new Set(_0xf541c4['map'](_0x3286ba=>_0x3286ba[_0x358636(0x98a)]))];for(const _0xff0572 of _0x1141e0){await updateStudentProfile(_0x16b1b3,_0xff0572);}}}catch(_0x435446){console['error'](_0x358636(0x59e),_0x435446),showMessage(_0x358636(0x636));}}async function saveQuiz(){const _0x5241fd=_0xbb2a9e;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x28e63b=document['getElementById'](_0x5241fd(0x87e));_0x28e63b[_0x5241fd(0x9d7)]=!![],_0x28e63b[_0x5241fd(0x1c3)]=_0x5241fd(0x647);const _0x2a56f8=document[_0x5241fd(0x9c1)](_0x5241fd(0x34c))[_0x5241fd(0x6a4)];let _0x2250e7=document[_0x5241fd(0x9c1)](_0x5241fd(0x7dc))['innerText'][_0x5241fd(0x9aa)]();_0x2a56f8&&!_0x2250e7[_0x5241fd(0x4ce)](_0x5241fd(0x828))&&(_0x2250e7='(ก่อนเรียน)\x20'+_0x2250e7);try{const _0x2f703c={'resultsDisplay':document[_0x5241fd(0x9c1)]('results-display-select')[_0x5241fd(0x9b2)],'shuffle':document[_0x5241fd(0x9c1)](_0x5241fd(0xb34))[_0x5241fd(0x9b2)],'timerMode':document['getElementById'](_0x5241fd(0x5c0))['value'],'timerDuration':parseInt(document[_0x5241fd(0x9c1)](_0x5241fd(0xa3a))['value'])||0xa,'passingScore':parseInt(document[_0x5241fd(0x9c1)]('passing-score-input')[_0x5241fd(0x9b2)])||0x0,'isAdaptive':document[_0x5241fd(0x9c1)](_0x5241fd(0xa5c))[_0x5241fd(0x6a4)],'loopUntilPass':document[_0x5241fd(0x9c1)]('loop-until-pass-checkbox')['checked']},_0x35d0f8=(currentQuizData[_0x5241fd(0xa17)]||[])[_0x5241fd(0x791)]((_0x308721,_0x20796b)=>{const _0x636c7f=_0x5241fd,_0x2f6de0=document[_0x636c7f(0x9c1)](_0x636c7f(0x23a))[_0x636c7f(0x9b2)],_0x505923={'id':'q_'+Date[_0x636c7f(0x756)]()+'_'+_0x20796b,'questionText':_0x308721[_0x636c7f(0x23b)]||'','explanation':_0x308721[_0x636c7f(0x324)]||_0x636c7f(0xa94),'questionType':_0x308721['questionType']||_0x2f6de0,'imageCode':_0x308721[_0x636c7f(0x84f)]||null};return(_0x505923['questionType']===_0x636c7f(0xad6)||_0x505923[_0x636c7f(0x368)]==='fill_in_with_choices'||_0x505923[_0x636c7f(0x368)]===_0x636c7f(0x679)&&_0x308721[_0x636c7f(0x643)])&&(_0x505923[_0x636c7f(0x643)]=_0x308721[_0x636c7f(0x643)]||[],_0x505923[_0x636c7f(0xad0)]=_0x308721[_0x636c7f(0xad0)]!==undefined?_0x308721[_0x636c7f(0xad0)]:0x0),(_0x505923[_0x636c7f(0x368)]===_0x636c7f(0x68a)||_0x505923[_0x636c7f(0x368)]===_0x636c7f(0x97c)||_0x505923[_0x636c7f(0x368)]===_0x636c7f(0x679)&&_0x308721[_0x636c7f(0x26d)])&&(_0x505923[_0x636c7f(0x26d)]=_0x308721[_0x636c7f(0x26d)]||''),_0x505923[_0x636c7f(0x368)]==='true_false'&&(_0x505923[_0x636c7f(0x2ae)]=_0x308721[_0x636c7f(0x2ae)]===!![]),_0x505923[_0x636c7f(0x368)]===_0x636c7f(0xa4a)&&(_0x505923['stem']=_0x308721[_0x636c7f(0x8ce)]||'',_0x505923[_0x636c7f(0x4cc)]=_0x308721[_0x636c7f(0x4cc)]||'',_0x505923['allResponses']=_0x308721[_0x636c7f(0x82a)]||[]),_0x505923;}),_0x3b435e={'topic':_0x2250e7,'quizType':currentQuizData[_0x5241fd(0x950)]||_0x5241fd(0xad6),'questions':_0x35d0f8,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5241fd(0x8eb)](),'status':'active','settings':_0x2f703c,'quizMode':_0x2a56f8?_0x5241fd(0x4dc):_0x5241fd(0x9f6),'pairedQuizId':null,'lessonPlan':null};let _0xd485d;while(!![]){_0xd485d=Math[_0x5241fd(0x7b0)](0x3e8+Math['random']()*0x2328)[_0x5241fd(0x86b)]();const _0x53192e=await getDoc(doc(db,_0x5241fd(0x44d)+appId+'/public/data/quizzes',_0xd485d));if(!_0x53192e[_0x5241fd(0x9ce)]())break;}await setDoc(doc(db,_0x5241fd(0x44d)+appId+_0x5241fd(0x622),_0xd485d),_0x3b435e),currentQuizData['settings']=_0x2f703c,currentQuizData['id']=_0xd485d;const _0x33471b=document[_0x5241fd(0x9c1)](_0x5241fd(0x96b));_0x33471b[_0x5241fd(0x1c3)]=_0x5241fd(0x5f5)+_0xd485d+_0x5241fd(0x8fd),document['getElementById'](_0x5241fd(0x689))[_0x5241fd(0x4da)](_0x5241fd(0x3fb),()=>copyTextToClipboard(_0xd485d,'คัดลอกรหัสแล้ว!')),document['getElementById']('start-live-race-generated-btn')[_0x5241fd(0x4da)](_0x5241fd(0x3fb),()=>handleStartLiveRace(_0xd485d)),document[_0x5241fd(0x9c1)](_0x5241fd(0xa05))[_0x5241fd(0x4da)](_0x5241fd(0x3fb),()=>startPresentation(currentQuizData)),document['getElementById'](_0x5241fd(0x3ef))['addEventListener']('click',startAdminTest),showMessage(_0x5241fd(0x3c1));}catch(_0x5e0498){console['error'](_0x5241fd(0x2ab),_0x5e0498),showMessage(_0x5241fd(0x6f4)),_0x28e63b['disabled']=![],_0x28e63b[_0x5241fd(0x1c3)]=_0x5241fd(0x865);}}function promptForProjectAndSave(){const _0xe54e2b=_0xbb2a9e,_0x46de82=document['getElementById']('move-quiz-modal'),_0x19c236=document['getElementById'](_0xe54e2b(0x846)),_0x4c1a73=_0x46de82[_0xe54e2b(0x729)]('h3'),_0x4697b0=document['getElementById'](_0xe54e2b(0x3c3));_0x4c1a73[_0xe54e2b(0x410)]=_0xe54e2b(0x1c2),_0x4697b0[_0xe54e2b(0x410)]=_0xe54e2b(0x1f6);allProjects[_0xe54e2b(0xa7c)]===0x0?(_0x19c236['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x4697b0[_0xe54e2b(0x9d7)]=!![]):(_0x19c236[_0xe54e2b(0x1c3)]=allProjects[_0xe54e2b(0x791)](_0x48c582=>_0xe54e2b(0x520)+_0x48c582['id']+'\x22>'+_0x48c582['projectName']+'</option>')[_0xe54e2b(0x3cf)](''),_0x4697b0[_0xe54e2b(0x9d7)]=![]);_0x46de82['classList'][_0xe54e2b(0x905)](_0xe54e2b(0x450));const _0x1eaec4=()=>{const _0x46ddce=_0xe54e2b,_0x36b0b3=_0x19c236['value'];_0x36b0b3?(currentProjectId=_0x36b0b3,_0x46de82[_0x46ddce(0x431)]['add']('hidden'),saveQuiz(),_0x4c1a73[_0x46ddce(0x410)]=_0x46ddce(0xafd),_0x4697b0['textContent']=_0x46ddce(0x28b),_0x4697b0[_0x46ddce(0x734)](_0x46ddce(0x3fb),_0x1eaec4),_0x4697b0[_0x46ddce(0x4da)](_0x46ddce(0x3fb),confirmMoveQuiz)):showMessage(_0x46ddce(0x57a));};_0x4697b0[_0xe54e2b(0x734)](_0xe54e2b(0x3fb),confirmMoveQuiz),_0x4697b0['addEventListener'](_0xe54e2b(0x3fb),_0x1eaec4);}function copyTextToClipboard(_0xa1cde3,_0x451316){const _0x90c340=_0xbb2a9e,_0x235402=document['createElement'](_0x90c340(0xa34));_0x235402[_0x90c340(0x9b2)]=_0xa1cde3,_0x235402[_0x90c340(0x29c)][_0x90c340(0x9e6)]=_0x90c340(0x3c6),_0x235402[_0x90c340(0x29c)]['opacity']='0',document[_0x90c340(0xad8)][_0x90c340(0x4de)](_0x235402),_0x235402['focus'](),_0x235402['select']();try{const _0x5d3cae=document[_0x90c340(0x2f9)]('copy');showMessage(_0x5d3cae?_0x451316:_0x90c340(0x5cf));}catch(_0x58205e){showMessage(_0x90c340(0x5cf)),console[_0x90c340(0x746)](_0x90c340(0x595),_0x58205e);}document[_0x90c340(0xad8)]['removeChild'](_0x235402);}function listenForProjectQuizzes(_0x5b0847){const _0x4f9fe0=_0xbb2a9e,_0x30496c=collection(db,_0x4f9fe0(0x44d)+appId+_0x4f9fe0(0x622)),_0x1f5934=query(_0x30496c,where('projectId','==',_0x5b0847));unsubscribeQuizzesListener=onSnapshot(_0x1f5934,async _0x12a65b=>{const _0x2b8e45=_0x4f9fe0;allQuizzes=_0x12a65b[_0x2b8e45(0x95a)]['map'](_0xdb6d89=>({'id':_0xdb6d89['id'],..._0xdb6d89['data']()})),renderQuizzes();},_0x5aaef6=>{const _0x2e0bdf=_0x4f9fe0;console[_0x2e0bdf(0x746)](_0x2e0bdf(0xb16),_0x5aaef6),document[_0x2e0bdf(0x9c1)]('project-quizzes-list')[_0x2e0bdf(0x1c3)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x149fce=_0xbb2a9e,_0x4a0905=document[_0x149fce(0x9c1)](_0x149fce(0x396)),_0x503ed5=document['getElementById'](_0x149fce(0x1d7))[_0x149fce(0x9b2)][_0x149fce(0x57e)]();let _0x4a8df2;currentProjectId===_0x149fce(0x95e)?_0x4a8df2=starredQuizzes:_0x4a8df2=allQuizzes;let _0x5aaf8f=_0x4a8df2[_0x149fce(0x51b)](_0x1f9630=>_0x1f9630['topic'][_0x149fce(0x57e)]()['includes'](_0x503ed5));_0x5aaf8f[_0x149fce(0x415)]((_0x46136e,_0x38256f)=>new Date(_0x38256f[_0x149fce(0x839)])-new Date(_0x46136e[_0x149fce(0x839)]));if(_0x5aaf8f[_0x149fce(0xa7c)]===0x0){_0x4a0905[_0x149fce(0x1c3)]=_0x149fce(0x44b);return;}const _0x154de9={},_0x3b5792=_0x5aaf8f[_0x149fce(0x791)](async _0x18763e=>{const _0x265d38=_0x149fce,_0x330a07=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x18763e['id']+_0x265d38(0x6d8)),_0x2d9f61=await getDocs(_0x330a07);_0x154de9[_0x18763e['id']]=_0x2d9f61[_0x265d38(0x9f1)];});await Promise[_0x149fce(0x5d4)](_0x3b5792);let _0x75db20='';_0x5aaf8f['forEach'](_0x467de3=>{const _0x181e67=_0x149fce,_0x4ce186=_0x154de9[_0x467de3['id']]||0x0,_0x2817e1=_0x467de3[_0x181e67(0x3f1)]||'active',_0x3107e0=_0x467de3[_0x181e67(0xa79)]?.['timerMode']||_0x181e67(0x806);let _0x9af37d='',_0x24ba19='';const _0x4d2273=new Date();let _0x5e399c=_0x2817e1;if(_0x2817e1==='scheduled'){const _0x5c5057=_0x467de3[_0x181e67(0x7ec)]?new Date(_0x467de3[_0x181e67(0x7ec)]):null,_0xacdcdf=_0x467de3[_0x181e67(0x2c2)]?new Date(_0x467de3[_0x181e67(0x2c2)]):null;if(_0xacdcdf&&_0x4d2273>_0xacdcdf)_0x5e399c=_0x181e67(0x541);else _0x5c5057&&_0x4d2273<_0x5c5057?_0x5e399c=_0x181e67(0x3ff):_0x5e399c=_0x181e67(0x645);}switch(_0x5e399c){case _0x181e67(0x541):_0x9af37d=_0x181e67(0x269),_0x24ba19=_0x181e67(0x48c);break;case'scheduled_pending':_0x9af37d='รอเปิด',_0x24ba19='text-blue-700\x20bg-blue-100';break;case'active':_0x9af37d=_0x3107e0!=='none'?_0x181e67(0x5a6):_0x181e67(0xaa6),_0x24ba19='text-green-700\x20bg-green-100';break;default:_0x9af37d=_0x181e67(0x7a6),_0x24ba19='text-green-700\x20bg-green-100';break;}let _0x53e61a='';const _0x542990={'day':_0x181e67(0x41f),'month':_0x181e67(0x41f),'year':'numeric','hour':'2-digit','minute':_0x181e67(0x41f),'hour12':![]};if(_0x2817e1===_0x181e67(0x867)){if(_0x467de3[_0x181e67(0x7ec)])_0x53e61a+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x467de3['startTime'])['toLocaleString'](_0x181e67(0x743),_0x542990)+_0x181e67(0x40c);if(_0x467de3[_0x181e67(0x2c2)])_0x53e61a+=_0x181e67(0x529)+new Date(_0x467de3[_0x181e67(0x2c2)])[_0x181e67(0x9a0)](_0x181e67(0x743),_0x542990)+_0x181e67(0x40c);}let _0x589513='';if(_0x467de3['pairedQuizId']){const _0x2a35a7=allQuizzes[_0x181e67(0x748)](_0x545873=>_0x545873['id']===_0x467de3['pairedQuizId']);if(_0x2a35a7){let _0xd0f607,_0x271a35;new Date(_0x467de3[_0x181e67(0x839)])<new Date(_0x2a35a7[_0x181e67(0x839)])?(_0xd0f607=_0x467de3['id'],_0x271a35=_0x2a35a7['id']):(_0xd0f607=_0x2a35a7['id'],_0x271a35=_0x467de3['id']),_0x589513+=_0x181e67(0xb42)+_0x271a35+_0x181e67(0x281)+_0xd0f607+_0x181e67(0x7f9);}}else _0x467de3[_0x181e67(0xabd)]==='pre-test'&&(_0x589513+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0x7da));if(_0x467de3[_0x181e67(0xabd)]===_0x181e67(0x4dc)&&_0x4ce186>0x0)_0x589513+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0x2be);else!_0x467de3[_0x181e67(0x45b)]&&_0x467de3[_0x181e67(0xabd)]!=='pre-test'&&_0x4ce186>0x0&&(_0x589513+=_0x181e67(0x9b0)+_0x467de3['id']+_0x181e67(0x805));let _0x111281='';_0x467de3[_0x181e67(0x45b)]?_0x111281=_0x181e67(0x446)+_0x467de3['id']+_0x181e67(0x7f3):_0x111281='<button\x20data-quiz-id=\x22'+_0x467de3['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x75db20+=_0x181e67(0x567)+_0x467de3['id']+_0x181e67(0x4fb)+_0x467de3[_0x181e67(0xb4a)]+_0x181e67(0x57c)+_0x467de3[_0x181e67(0xa17)][_0x181e67(0xa7c)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x467de3[_0x181e67(0x839)])[_0x181e67(0x9a0)]('th-TH')+_0x181e67(0x46b)+_0x4ce186+_0x181e67(0x6fb)+_0x53e61a+_0x181e67(0xa40)+_0x24ba19+'\x22>'+_0x9af37d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0x259)+_0x467de3['id']+_0x181e67(0x6fd)+(_0x467de3[_0x181e67(0xa91)]?_0x181e67(0x909):_0x181e67(0x4fd))+_0x181e67(0x6cd)+_0x589513+_0x181e67(0x4e0)+_0x467de3['id']+_0x181e67(0x36a)+_0x467de3['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0x45f)+_0x467de3['id']+_0x181e67(0x56a)+_0x467de3['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0x20a)+_0x467de3['id']+_0x181e67(0x9fc)+_0x467de3[_0x181e67(0xb4a)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0x75f)+_0x111281+_0x181e67(0x65b)+_0x467de3['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0xa62)+_0x467de3['id']+_0x181e67(0x62a)+_0x467de3['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0x9fc)+_0x467de3[_0x181e67(0xb4a)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x467de3['id']+_0x181e67(0x8ae);}),_0x4a0905[_0x149fce(0x1c3)]=_0x75db20,document[_0x149fce(0x345)](_0x149fce(0x917))[_0x149fce(0x803)](_0x34df02=>{_0x34df02['addEventListener']('click',()=>{const _0xaa8765=_0x34df02['dataset']['quizId'];showQuizDetailView(_0xaa8765);});});}async function handleUnpairQuiz(_0x79e244){const _0x36a2ce=_0xbb2a9e,_0x153131=allQuizzes[_0x36a2ce(0x748)](_0x4afe71=>_0x4afe71['id']===_0x79e244);if(!_0x153131||!_0x153131['pairedQuizId']){showMessage(_0x36a2ce(0xa7b));return;}showConfirmation(_0x36a2ce(0x5aa),async()=>{const _0x49c585=_0x36a2ce;try{const _0x1e9081=doc(db,'artifacts/'+appId+_0x49c585(0x622),_0x79e244),_0x3bac7c=doc(db,_0x49c585(0x44d)+appId+_0x49c585(0x622),_0x153131[_0x49c585(0x45b)]),_0x21b8da=writeBatch(db);_0x21b8da['update'](_0x1e9081,{'pairedQuizId':null}),_0x21b8da[_0x49c585(0x553)](_0x3bac7c,{'pairedQuizId':null}),await _0x21b8da[_0x49c585(0x4c6)](),showMessage(_0x49c585(0xa53));}catch(_0x3f82b3){console[_0x49c585(0x746)](_0x49c585(0x88c),_0x3f82b3),showMessage(_0x49c585(0x77d));}});}function formatAndPrintLessonPlan(_0x1b3a1b,_0x10e6a2){const _0x1e0839=_0xbb2a9e,_0x1a1830=window[_0x1e0839(0x354)]('',_0x1e0839(0x72f)),_0x1dbcb9=_0x1e0839(0x46e)+_0x10e6a2[_0x1e0839(0xb4a)]+_0x1e0839(0x48e)+_0x10e6a2[_0x1e0839(0xb4a)]+_0x1e0839(0x6c0)+_0x1b3a1b[_0x1e0839(0x41a)][_0x1e0839(0x791)](_0x66d123=>'<li>'+_0x66d123+'</li>')[_0x1e0839(0x3cf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x1b3a1b[_0x1e0839(0x1ee)]+_0x1e0839(0x96c)+_0x1b3a1b['practiceProblems']['map'](_0x16b655=>_0x1e0839(0xa56)+_0x16b655[_0x1e0839(0x533)]+_0x1e0839(0x853)+_0x16b655['solution']+_0x1e0839(0x75d))[_0x1e0839(0x3cf)]('')+_0x1e0839(0x36b);_0x1a1830[_0x1e0839(0x6f3)][_0x1e0839(0x720)](_0x1dbcb9),_0x1a1830[_0x1e0839(0x6f3)][_0x1e0839(0x22d)](),_0x1a1830[_0x1e0839(0x726)]=function(){setTimeout(()=>{const _0x35a39e=_0x1a06;_0x1a1830[_0x35a39e(0x4c9)]();},0x3e8);};}async function handleAiFixFormula(_0x1377b8){const _0x663c12=_0xbb2a9e,_0x50e63b=document[_0x663c12(0x729)](_0x663c12(0x4b7)+_0x1377b8+'\x22]');if(!_0x50e63b)return;const _0x42755e=_0x50e63b[_0x663c12(0x1f9)][_0x663c12(0x3b3)],_0x5ebbb3=_0x50e63b[_0x663c12(0x729)](_0x663c12(0x26a));let _0x5b39a6={'question':_0x50e63b['querySelector'](_0x663c12(0xa34))[_0x663c12(0x9b2)]};switch(_0x42755e){case'multiple_choice':_0x5b39a6['options']=Array[_0x663c12(0x693)](_0x50e63b[_0x663c12(0x345)](_0x663c12(0x308)))[_0x663c12(0x791)](_0x36f7a6=>_0x36f7a6[_0x663c12(0x9b2)]);break;case'short_answer':_0x5b39a6[_0x663c12(0x26d)]=_0x50e63b[_0x663c12(0x729)](_0x663c12(0x2c6))[_0x663c12(0x9b2)];break;case _0x663c12(0xa4a):_0x5b39a6[_0x663c12(0x4cc)]=_0x50e63b['querySelector'](_0x663c12(0x657))[_0x663c12(0x9b2)];break;}_0x5ebbb3[_0x663c12(0x1c3)]=_0x663c12(0x673),_0x5ebbb3[_0x663c12(0x9d7)]=!![];try{const _0x40b079='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x663c12(0x994)](_0x5b39a6)+_0x663c12(0x6ef),_0x4d65fb={'type':_0x663c12(0x7b2),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x663c12(0x4e5)},'options':{'type':_0x663c12(0xa9c),'items':{'type':_0x663c12(0x4e5)}},'idealAnswer':{'type':_0x663c12(0x4e5)},'correctResponse':{'type':_0x663c12(0x4e5)}},'required':[_0x663c12(0x533)]}},'required':[_0x663c12(0x394)]},_0x3b1e57=await callAnalysisApi(_0x40b079,_0x4d65fb);if(_0x3b1e57&&_0x3b1e57[_0x663c12(0x394)]){const _0x4f1a8d=_0x3b1e57['fixedData'];_0x50e63b[_0x663c12(0x729)](_0x663c12(0xa34))[_0x663c12(0x9b2)]=_0x4f1a8d[_0x663c12(0x533)]||_0x5b39a6[_0x663c12(0x533)];switch(_0x42755e){case _0x663c12(0xad6):_0x4f1a8d[_0x663c12(0x643)]&&_0x4f1a8d[_0x663c12(0x643)]['length']>0x0&&_0x50e63b[_0x663c12(0x345)](_0x663c12(0x308))['forEach']((_0x215377,_0x85f561)=>{const _0x1231a1=_0x663c12;_0x215377[_0x1231a1(0x9b2)]=_0x4f1a8d[_0x1231a1(0x643)][_0x85f561]||_0x5b39a6[_0x1231a1(0x643)][_0x85f561];});break;case'short_answer':_0x50e63b[_0x663c12(0x729)](_0x663c12(0x2c6))[_0x663c12(0x9b2)]=_0x4f1a8d['idealAnswer']||_0x5b39a6['idealAnswer'];break;case _0x663c12(0xa4a):_0x50e63b[_0x663c12(0x729)](_0x663c12(0x657))[_0x663c12(0x9b2)]=_0x4f1a8d[_0x663c12(0x4cc)]||_0x5b39a6[_0x663c12(0x4cc)];break;}if(_0x5b39a6[_0x663c12(0x533)]!==_0x4f1a8d['question'])try{const _0x4b6b37=collection(db,_0x663c12(0x44d)+appId+_0x663c12(0xaa0));await addDoc(_0x4b6b37,{'broken':_0x5b39a6[_0x663c12(0x533)],'fixed':_0x4f1a8d[_0x663c12(0x533)],'createdAt':serverTimestamp()});}catch(_0x18b622){console[_0x663c12(0x746)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x18b622);}showMessage(_0x663c12(0x500));}else throw new Error(_0x663c12(0x6bc));}catch(_0x3b2dd2){console[_0x663c12(0x746)](_0x663c12(0xab3),_0x3b2dd2),showMessage(_0x663c12(0xa33));}finally{_0x5ebbb3[_0x663c12(0x1c3)]=_0x663c12(0x634),_0x5ebbb3[_0x663c12(0x9d7)]=![];}}async function handleGenerateLessonPlan(_0x532534){const _0xaf5c57=_0xbb2a9e;showMessage(_0xaf5c57(0x2ef));try{const _0x43775d=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x532534),_0x5d64e8=await getDoc(_0x43775d);if(!_0x5d64e8[_0xaf5c57(0x9ce)]())throw new Error(_0xaf5c57(0x931));const _0xc7cd9f={'id':_0x532534,..._0x5d64e8[_0xaf5c57(0x24b)]()},_0x492b58=collection(db,_0xaf5c57(0x44d)+appId+'/public/data/quizzes',_0x532534,_0xaf5c57(0x8ac)),_0x37d838=await getDocs(_0x492b58),_0x334d65=_0x37d838[_0xaf5c57(0x95a)]['map'](_0x321929=>_0x321929['data']());if(_0x334d65[_0xaf5c57(0xa7c)]===0x0)throw new Error(_0xaf5c57(0x767));const _0x3a55b5=calculateItemAnalysis(_0xc7cd9f,_0x334d65)[_0xaf5c57(0x91b)],_0x59705e=calculateDistractorAnalysis(_0xc7cd9f,_0x334d65),_0xd6794b=_0x32372d=>{const _0x439415=_0xaf5c57;if(!_0x32372d)return'';return _0x32372d['replace'](/\\/g,'\x5c\x5c')[_0x439415(0x99c)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x391b7b=_0xaf5c57(0x61e);_0xc7cd9f[_0xaf5c57(0xa17)]['forEach']((_0x481a4a,_0x3871f0)=>{const _0x3111f8=_0xaf5c57,_0x244ca3=_0x3a55b5[_0x3871f0]?.['p'][_0x3111f8(0x4f9)](0x2)||_0x3111f8(0x605),_0x232079=_0x3a55b5[_0x3871f0]?.['r'][_0x3111f8(0x4f9)](0x2)||_0x3111f8(0x605),_0xccb99=_0xd6794b(_0x481a4a[_0x3111f8(0x23b)]||_0x481a4a[_0x3111f8(0x8ce)]);_0x391b7b+=_0x3111f8(0x4c7)+(_0x3871f0+0x1)+'\x20(p='+_0x244ca3+_0x3111f8(0x267)+_0x232079+'):\x20'+_0xccb99+'\x5cn';if(_0x481a4a[_0x3111f8(0x368)]===_0x3111f8(0xad6)&&_0x59705e[_0x3871f0]){const _0x5764f3=_0x59705e[_0x3871f0],_0x47a6a1=Object[_0x3111f8(0x790)](_0x5764f3)[_0x3111f8(0x51b)](_0x58edd6=>parseInt(_0x58edd6)!==_0x481a4a[_0x3111f8(0xad0)])['sort']((_0x28b40b,_0x57d488)=>_0x5764f3[_0x57d488]['total']-_0x5764f3[_0x28b40b][_0x3111f8(0x224)])[0x0];if(_0x47a6a1&&_0x5764f3[_0x47a6a1]['total']>0x0){const _0x204e78=_0xd6794b(_0x5764f3[_0x47a6a1][_0x3111f8(0x7e8)]);_0x391b7b+=_0x3111f8(0x56c)+_0x204e78+_0x3111f8(0x412);}}});const _0x17329a=_0xaf5c57(0x94b)+_0xc7cd9f[_0xaf5c57(0xb4a)]+_0xaf5c57(0x3ed)+_0x391b7b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x49684b={'type':_0xaf5c57(0x7b2),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':'STRING'}},'teachingContent':{'type':_0xaf5c57(0x4e5)},'practiceProblems':{'type':_0xaf5c57(0xa9c),'items':{'type':_0xaf5c57(0x7b2),'properties':{'question':{'type':_0xaf5c57(0x4e5)},'solution':{'type':_0xaf5c57(0x4e5)}}}}},'required':[_0xaf5c57(0x41a),_0xaf5c57(0x1ee),_0xaf5c57(0x26f)]},_0x327b15=await callAnalysisApi(_0x17329a,_0x49684b);await updateDoc(_0x43775d,{'lessonPlan':_0x327b15});const _0x37ad39='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0xc7cd9f[_0xaf5c57(0xb4a)]+_0xaf5c57(0x59b)+_0x327b15[_0xaf5c57(0x41a)][_0xaf5c57(0x791)](_0xec30e1=>_0xaf5c57(0x6ec)+_0xec30e1+_0xaf5c57(0x31b))[_0xaf5c57(0x3cf)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x327b15[_0xaf5c57(0x1ee)]+_0xaf5c57(0x6e8)+_0x327b15[_0xaf5c57(0x26f)][_0xaf5c57(0x791)](_0x3f81e9=>_0xaf5c57(0x8c1)+_0x3f81e9['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x3f81e9['solution']+_0xaf5c57(0x5a2))[_0xaf5c57(0x3cf)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0xaf5c57(0x9c1)](_0xaf5c57(0xb01))['textContent']=_0xaf5c57(0x287)+_0xc7cd9f[_0xaf5c57(0xb4a)],document[_0xaf5c57(0x9c1)](_0xaf5c57(0x2d0))[_0xaf5c57(0x1c3)]=_0x37ad39,document['getElementById'](_0xaf5c57(0x299))[_0xaf5c57(0x431)][_0xaf5c57(0x905)]('hidden');if(window[_0xaf5c57(0x7b6)])MathJax[_0xaf5c57(0x987)]();messageModal[_0xaf5c57(0x431)]['add']('hidden');}catch(_0x2a8afa){console[_0xaf5c57(0x746)](_0xaf5c57(0x95d),_0x2a8afa),showMessage(_0xaf5c57(0x73f)+_0x2a8afa['message']);}}async function handleDuplicateQuiz(_0x5a34dd){const _0x4154b0=_0xbb2a9e;try{const _0x2ae4c4=doc(db,_0x4154b0(0x44d)+appId+'/public/data/quizzes',_0x5a34dd),_0x22261c=await getDoc(_0x2ae4c4);if(_0x22261c[_0x4154b0(0x9ce)]()){const _0x4dbecd=_0x22261c[_0x4154b0(0x24b)]();let _0x1d93ce='',_0x1bc98d=_0x4154b0(0x9f6),_0x146cb8=null;if(_0x4dbecd[_0x4154b0(0xabd)]===_0x4154b0(0x4dc)){let _0x302e66=_0x4dbecd[_0x4154b0(0xb4a)][_0x4154b0(0x99c)](_0x4154b0(0x828),'')[_0x4154b0(0x9aa)]();_0x1d93ce='(หลังเรียน)\x20'+_0x302e66,_0x1bc98d=_0x4154b0(0x38a),_0x146cb8=_0x5a34dd;}else _0x1d93ce=_0x4154b0(0x511)+_0x4dbecd[_0x4154b0(0xb4a)];const _0x195e89={..._0x4dbecd,'topic':_0x1d93ce,'createdAt':new Date()['toISOString'](),'quizMode':_0x1bc98d,'pairedQuizId':_0x146cb8};let _0x1965e2;while(!![]){_0x1965e2=Math[_0x4154b0(0x7b0)](0x3e8+Math['random']()*0x2328)[_0x4154b0(0x86b)]();const _0x3b4d09=await getDoc(doc(db,_0x4154b0(0x44d)+appId+'/public/data/quizzes',_0x1965e2));if(!_0x3b4d09[_0x4154b0(0x9ce)]())break;}const _0x2ac671=doc(db,_0x4154b0(0x44d)+appId+_0x4154b0(0x622),_0x1965e2);await setDoc(_0x2ac671,_0x195e89),_0x195e89['quizMode']===_0x4154b0(0x38a)&&await updateDoc(_0x2ae4c4,{'pairedQuizId':_0x1965e2}),showMessage(_0x4154b0(0x33d));}else throw new Error(_0x4154b0(0x874));}catch(_0x29fe92){console['error']('Error\x20duplicating\x20quiz:',_0x29fe92),showMessage(_0x4154b0(0x83b));}}async function handleDeleteQuiz(_0x2e2f5a,_0x6792aa=!![]){const _0x126af6=_0xbb2a9e;try{const _0x23f7ea=writeBatch(db),_0x5dcaeb=collection(db,'artifacts/'+appId+_0x126af6(0x3b6)+_0x2e2f5a+_0x126af6(0x6d8)),_0x2f2604=await getDocs(_0x5dcaeb);_0x2f2604['forEach'](_0x3ab39f=>{_0x23f7ea['delete'](doc(_0x5dcaeb,_0x3ab39f['id']));});const _0x165dd4=doc(db,_0x126af6(0x44d)+appId+_0x126af6(0x622),_0x2e2f5a);_0x23f7ea[_0x126af6(0xae9)](_0x165dd4),await _0x23f7ea['commit'](),_0x6792aa&&showMessage(_0x126af6(0x5dc));}catch(_0x1939df){console['error']('Error\x20deleting\x20quiz:',_0x1939df),_0x6792aa&&showMessage(_0x126af6(0x599));}}async function showQuizDetailView(_0x479011){const _0x28bc40=_0xbb2a9e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x28bc40(0x38d));try{const _0x1549de=doc(db,_0x28bc40(0x44d)+appId+_0x28bc40(0x622),_0x479011),_0xa1a96c=await getDoc(_0x1549de);if(!_0xa1a96c[_0x28bc40(0x9ce)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x37b378={'id':_0xa1a96c['id'],..._0xa1a96c['data']()};currentQuizData=_0x37b378;const _0x23befa=doc(db,_0x28bc40(0x44d)+appId+'/public/data/projects',_0x37b378[_0x28bc40(0x430)]),_0x27d76d=await getDoc(_0x23befa);_0x27d76d[_0x28bc40(0x9ce)]()?(currentProjectData=_0x27d76d[_0x28bc40(0x24b)](),currentProjectId=_0x37b378['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x37b378[_0x28bc40(0x430)]);document[_0x28bc40(0x9c1)](_0x28bc40(0xacf))[_0x28bc40(0x410)]=_0x37b378[_0x28bc40(0xb4a)],document[_0x28bc40(0x9c1)](_0x28bc40(0x881))[_0x28bc40(0x410)]=_0x479011;const _0x5e5445=collection(db,_0x28bc40(0x44d)+appId+_0x28bc40(0x622),_0x479011,_0x28bc40(0x8ac));unsubscribeSubmissionsListener=onSnapshot(_0x5e5445,_0x546350=>{const _0x52e238=_0x28bc40,_0x4fca51=_0x546350[_0x52e238(0x95a)][_0x52e238(0x791)](_0x2a3616=>({'id':_0x2a3616['id'],..._0x2a3616[_0x52e238(0x24b)]()}));currentSubmissions=_0x4fca51;const _0x395bba=_0x4fca51[_0x52e238(0x51b)](_0x454cd2=>_0x454cd2[_0x52e238(0x405)]&&_0x454cd2[_0x52e238(0x405)]['length']>0x0);renderBehaviorLog(_0x4fca51),renderAnswerGrid(currentProjectData[_0x52e238(0x3dc)],_0x395bba,_0x37b378),renderAnalytics(_0x37b378,_0x395bba),renderQuizResultsTable(currentProjectData[_0x52e238(0x3dc)],_0x4fca51,_0x37b378),renderQuizLeaderboard(_0x395bba,_0x37b378,_0x52e238(0xa37));}),showView('quiz-results');}catch(_0x282b7d){console[_0x28bc40(0x746)](_0x28bc40(0x248),_0x282b7d),showMessage(_0x28bc40(0x724));}}function renderAnswerGrid(_0x5bb628,_0x11e41b,_0x38f640){const _0x164ea4=_0xbb2a9e,_0x21a90e=document[_0x164ea4(0x9c1)]('answer-grid-container');if(!_0x21a90e)return;if(!_0x5bb628||_0x5bb628[_0x164ea4(0xa7c)]===0x0){_0x21a90e[_0x164ea4(0x1c3)]=_0x164ea4(0x6c9);return;}const _0x2179e9=_0x38f640[_0x164ea4(0xa17)],_0x5254f3=_0x11e41b['reduce']((_0x26960a,_0x4967db)=>{const _0xc20d94=_0x164ea4;return _0x26960a[_0x4967db[_0xc20d94(0x711)]]=_0x4967db,_0x26960a;},{}),_0x4d71b3=_0x571451=>String[_0x164ea4(0x2df)](0x41+_0x571451),_0x30d232=_0xb5e5a8=>{const _0x51c14b=_0x164ea4,_0x632eb4=_0xb5e5a8[_0x51c14b(0x368)]||_0x38f640['quizType'];switch(_0x632eb4){case _0x51c14b(0xad6):return _0xb5e5a8[_0x51c14b(0x643)]&&_0xb5e5a8['options'][_0x51c14b(0xa7c)]>_0xb5e5a8[_0x51c14b(0xad0)]?_0x4d71b3(_0xb5e5a8['correctAnswerIndex']):'-';case'true_false':const _0x33039b=_0xb5e5a8[_0x51c14b(0x2ae)]===!![]||String(_0xb5e5a8[_0x51c14b(0x2ae)])[_0x51c14b(0x57e)]()===_0x51c14b(0x304);return _0x33039b?'ใช่':_0x51c14b(0x205);case'matching_item':return _0xb5e5a8[_0x51c14b(0x4cc)]||'-';case _0x51c14b(0x68a):return _0x51c14b(0x550);default:return'-';}},_0x1ab4d5=(_0x1c2c9b,_0x30df94)=>{const _0x2919c0=_0x164ea4;if(_0x30df94[_0x2919c0(0x55b)]===null||_0x30df94[_0x2919c0(0x55b)]===undefined)return'-';const _0x3b51f3=_0x1c2c9b[_0x2919c0(0x368)]||_0x38f640['quizType'];switch(_0x3b51f3){case _0x2919c0(0xad6):const _0x2be43c=_0x1c2c9b[_0x2919c0(0x643)]['findIndex'](_0x213541=>_0x213541===_0x30df94[_0x2919c0(0x86e)]);return _0x2be43c!==-0x1?_0x4d71b3(_0x2be43c):_0x30df94[_0x2919c0(0x86e)]||'-';case _0x2919c0(0xb53):if(_0x30df94['answer']=='0'||_0x30df94['answer']===!![]||_0x30df94[_0x2919c0(0x55b)]===_0x2919c0(0x304))return _0x2919c0(0x53e);return'ไม่ใช่';default:return _0x30df94[_0x2919c0(0x55b)];}};let _0x4e3397=_0x164ea4(0x2a9)+_0x2179e9[_0x164ea4(0x791)]((_0x160f7c,_0x22957f)=>_0x164ea4(0x37e)+(_0x22957f+0x1)+'</th>')[_0x164ea4(0x3cf)]('')+_0x164ea4(0x810)+_0x2179e9['map'](_0x183d9e=>_0x164ea4(0x2a4)+_0x30d232(_0x183d9e)+'</td>')[_0x164ea4(0x3cf)]('')+_0x164ea4(0x852);_0x5bb628[_0x164ea4(0x803)](_0x3f6cfc=>{const _0x195310=_0x164ea4;_0x4e3397+=_0x195310(0x246),_0x4e3397+=_0x195310(0x5b6)+_0x3f6cfc+_0x195310(0x1f4);const _0x3b78f0=_0x5254f3[_0x3f6cfc];if(_0x3b78f0){const _0x3d9c22=_0x3b78f0[_0x195310(0x405)][_0x3b78f0[_0x195310(0x405)]['length']-0x1];_0x2179e9[_0x195310(0x803)]((_0x50dc8d,_0x18dc22)=>{const _0x520f17=_0x195310,_0x37dbb1=_0x3d9c22[_0x520f17(0x219)][_0x520f17(0x748)](_0x1f8a5a=>_0x1f8a5a[_0x520f17(0x759)]===_0x50dc8d['id']);if(_0x37dbb1){let _0x5d2a3b='';const _0x27dcaf=_0x37dbb1[_0x520f17(0x6f8)]===!![],_0x1bd604=_0x37dbb1[_0x520f17(0x977)]===!![]||_0x37dbb1[_0x520f17(0x977)]==='confident';_0x1bd604?_0x5d2a3b=_0x27dcaf?_0x520f17(0x65f):_0x520f17(0x585):_0x5d2a3b=_0x27dcaf?'bg-green-100':'bg-red-100',_0x4e3397+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x5d2a3b+'\x22>'+_0x1ab4d5(_0x50dc8d,_0x37dbb1)+_0x520f17(0x1f4);}else _0x4e3397+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x4e3397+=_0x2179e9[_0x195310(0x791)](()=>_0x195310(0x7e9))[_0x195310(0x3cf)]('');_0x4e3397+=_0x195310(0xa71);}),_0x4e3397+=_0x164ea4(0x319),_0x21a90e[_0x164ea4(0x1c3)]=_0x4e3397;}function renderQuizResultsTable(_0x2bbb66,_0x11925a,_0x3d2c43){const _0xc38d19=_0xbb2a9e,_0x49fe52=_0x11925a[_0xc38d19(0x32f)]((_0x559c99,_0x2d6045)=>{const _0x5d21be=_0xc38d19;return _0x559c99[_0x2d6045[_0x5d21be(0x711)]]=_0x2d6045,_0x559c99;},{}),_0x23a814=document[_0xc38d19(0x729)](_0xc38d19(0x613));_0x23a814&&!_0x23a814[_0xc38d19(0x1c3)][_0xc38d19(0x913)](_0xc38d19(0xa9b))&&(_0x23a814['innerHTML']+=_0xc38d19(0x31d));const _0x1ec225=document[_0xc38d19(0x9c1)](_0xc38d19(0x258));if(!_0x2bbb66||_0x2bbb66['length']===0x0){_0x1ec225['innerHTML']=_0xc38d19(0x4ac);return;}const _0xaeb4d2=_0x3d2c43['isRemedial']===!![],_0x5268bd=_0x3d2c43[_0xc38d19(0xa79)]?.[_0xc38d19(0xa14)]??-0x1;let _0x40220c='';_0x2bbb66[_0xc38d19(0x803)](_0x35c450=>{const _0x323620=_0xc38d19,_0x59c66e=_0x49fe52[_0x35c450];let _0x1db815=_0x323620(0x22e)+(_0xaeb4d2?_0x323620(0x1b2):_0x323620(0x1d8))+'\x22>'+(_0xaeb4d2?_0x323620(0x424):_0x323620(0x536))+_0x323620(0x9ca);if(_0x59c66e){if(_0x59c66e[_0x323620(0x405)]&&_0x59c66e['attempts'][_0x323620(0xa7c)]>0x0){let _0x4864ee=_0xaeb4d2?_0x59c66e['bestScore']===_0x59c66e[_0x323620(0x812)]:_0x5268bd!==-0x1&&_0x59c66e[_0x323620(0x358)]>=_0x5268bd;const _0x2123c4=_0x4864ee?_0x323620(0x1be):_0x323620(0x986),_0x4d8d0b=_0x4864ee?_0x323620(0x417):_0x323620(0x249),_0x48720c=_0x323620(0x1bf)+_0x2123c4+'\x22>'+_0x4d8d0b+_0x323620(0x9ca),_0x1415a7=_0x323620(0x9a2)+(_0x59c66e[_0x323620(0x405)]?.[_0x323620(0xa7c)]||0x1)+'\x20ครั้ง)</span></td>';_0x40220c+=_0x323620(0x683)+_0x35c450+_0x323620(0x7d1)+_0x59c66e['bestScore']+_0x323620(0xafc)+_0x59c66e[_0x323620(0x812)]+_0x323620(0x25a)+_0x48720c+_0x323620(0x28a)+_0x1db815+_0x323620(0x9df)+_0x59c66e[_0x323620(0xac4)]+_0x323620(0xafc)+_0x59c66e[_0x323620(0x812)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x59c66e[_0x323620(0x419)]+_0x323620(0xafc)+_0x59c66e[_0x323620(0x812)]+_0x323620(0x265)+(_0x59c66e['points']||0x0)+_0x323620(0x25a)+_0x1415a7+_0x323620(0x564)+new Date(_0x59c66e['latestSubmittedAt'])[_0x323620(0x9a0)](_0x323620(0x743))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x35c450+_0x323620(0xb2a);}else{const _0x2d4a71=_0x323620(0x6d6);_0x40220c+=_0x323620(0x819)+_0x35c450+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1db815+_0x323620(0x523)+_0x2d4a71+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x59c66e[_0x323620(0x325)])['toLocaleString']('th-TH')+_0x323620(0x68b)+_0x35c450+_0x323620(0xb2a);}}else{const _0x6b8174=_0x323620(0x218);_0x40220c+=_0x323620(0x362)+_0x35c450+_0x323620(0x306)+_0x1db815+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6b8174+_0x323620(0x278);}}),_0x1ec225['innerHTML']=_0x40220c;}async function confirmRenameQuiz(){const _0x4982ea=_0xbb2a9e,_0x4ed7d0=document[_0x4982ea(0x9c1)](_0x4982ea(0x490))[_0x4982ea(0x9b2)]['trim']();if(!_0x4ed7d0){showMessage(_0x4982ea(0x936));return;}if(!actionTargetId)return;const _0x426eed=doc(db,_0x4982ea(0x44d)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x426eed,{'topic':_0x4ed7d0}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x4982ea(0x431)][_0x4982ea(0x8af)](_0x4982ea(0x450)),actionTargetId=null;}catch(_0x1739ad){console[_0x4982ea(0x746)]('Error\x20renaming\x20quiz:',_0x1739ad),showMessage(_0x4982ea(0xa25));}}async function handleMoveQuiz(_0x26752a){const _0x3e0b41=_0xbb2a9e;actionTargetId=_0x26752a;const _0xbd8004=document['getElementById']('move-quiz-project-select');_0xbd8004[_0x3e0b41(0x1c3)]=_0x3e0b41(0x548),moveQuizModal[_0x3e0b41(0x431)][_0x3e0b41(0x905)](_0x3e0b41(0x450));try{const _0x28725d=collection(db,_0x3e0b41(0x44d)+appId+_0x3e0b41(0xb3c)),_0x5efa61=await getDocs(_0x28725d),_0x367103=_0x5efa61[_0x3e0b41(0x95a)][_0x3e0b41(0x791)](_0x438f9c=>({'id':_0x438f9c['id'],..._0x438f9c[_0x3e0b41(0x24b)]()})),_0x110570=_0x367103['filter'](_0x410f2b=>_0x410f2b['id']!==currentProjectId);if(_0x110570[_0x3e0b41(0xa7c)]===0x0){_0xbd8004[_0x3e0b41(0x1c3)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x3e0b41(0x9c1)]('confirm-move-quiz-btn')[_0x3e0b41(0x9d7)]=!![];return;}_0xbd8004['innerHTML']=_0x110570[_0x3e0b41(0x791)](_0x2a2dea=>'<option\x20value=\x22'+_0x2a2dea['id']+'\x22>'+_0x2a2dea['projectName']+_0x3e0b41(0x6d2))[_0x3e0b41(0x3cf)](''),document[_0x3e0b41(0x9c1)](_0x3e0b41(0x3c3))['disabled']=![];}catch(_0x56042f){console['error'](_0x3e0b41(0x552),_0x56042f),showMessage(_0x3e0b41(0x5be)),moveQuizModal[_0x3e0b41(0x431)][_0x3e0b41(0x8af)]('hidden');}}async function confirmMoveQuiz(){const _0x4d5aac=_0xbb2a9e,_0xeb06ff=document[_0x4d5aac(0x9c1)](_0x4d5aac(0x846))[_0x4d5aac(0x9b2)];if(!_0xeb06ff){showMessage(_0x4d5aac(0x79a));return;}if(!actionTargetId)return;const _0x42a2b5=doc(db,_0x4d5aac(0x44d)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x42a2b5,{'projectId':_0xeb06ff}),showMessage(_0x4d5aac(0x90e)),moveQuizModal[_0x4d5aac(0x431)][_0x4d5aac(0x8af)](_0x4d5aac(0x450)),actionTargetId=null;}catch(_0x3accfc){console[_0x4d5aac(0x746)](_0x4d5aac(0x1b9),_0x3accfc),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x5713a5){const _0x259646=_0xbb2a9e;actionTargetId=_0x5713a5;const _0x12138f=doc(db,_0x259646(0x44d)+appId+_0x259646(0x622),_0x5713a5);try{const _0xbbf5c=await getDoc(_0x12138f);if(_0xbbf5c[_0x259646(0x9ce)]()){const _0x22cce2=_0xbbf5c[_0x259646(0x24b)](),_0x59b99d=_0x22cce2['settings']||{},_0x1bd7e1=_0x22cce2[_0x259646(0xa17)][_0x259646(0xa7c)];document[_0x259646(0x9c1)]('modal-shuffle-select')[_0x259646(0x9b2)]=_0x59b99d[_0x259646(0x972)]||_0x259646(0x806),document[_0x259646(0x9c1)](_0x259646(0x291))['value']=_0x59b99d['resultsDisplay']||_0x259646(0x76a),document[_0x259646(0x9c1)](_0x259646(0x64d))[_0x259646(0x9b2)]=_0x59b99d[_0x259646(0x6c1)]||'none',document[_0x259646(0x9c1)](_0x259646(0x6ff))['value']=_0x59b99d[_0x259646(0x68c)]||0xa,document[_0x259646(0x9c1)](_0x259646(0x84e))[_0x259646(0x9b2)]=_0x59b99d[_0x259646(0xa14)]||Math['floor'](_0x1bd7e1/0x2),document['getElementById'](_0x259646(0x84e))[_0x259646(0xaa3)]=_0x1bd7e1,document['getElementById']('modal-adaptive-quiz-checkbox')['checked']=_0x59b99d[_0x259646(0x286)]||![],document['getElementById'](_0x259646(0x24d))[_0x259646(0x6a4)]=_0x59b99d[_0x259646(0x30b)]||![];const _0x18574f=_0x59b99d[_0x259646(0x4f1)]||![];document[_0x259646(0x9c1)](_0x259646(0x210))[_0x259646(0x6a4)]=_0x18574f,document[_0x259646(0x9c1)](_0x259646(0x732))[_0x259646(0x9b2)]=_0x59b99d[_0x259646(0x9cd)]||_0x259646(0x524);const _0x5e6366=document['getElementById']('modal-confidence-mode-container');_0x5e6366[_0x259646(0x431)][_0x259646(0x5ea)]('hidden',!_0x18574f),document[_0x259646(0x9c1)](_0x259646(0x64d))['dispatchEvent'](new Event(_0x259646(0x9af))),quizSettingsModal[_0x259646(0x431)][_0x259646(0x905)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x2d281c){console[_0x259646(0x746)](_0x259646(0x545),_0x2d281c),showMessage(_0x259646(0x714));}}async function confirmQuizSettings(){const _0x538ed3=_0xbb2a9e;if(!actionTargetId)return;const _0x1c2841=doc(db,_0x538ed3(0x44d)+appId+'/public/data/quizzes',actionTargetId),_0x59f620={'shuffle':document[_0x538ed3(0x9c1)]('modal-shuffle-select')[_0x538ed3(0x9b2)],'resultsDisplay':document[_0x538ed3(0x9c1)](_0x538ed3(0x291))[_0x538ed3(0x9b2)],'timerMode':document[_0x538ed3(0x9c1)]('modal-timer-mode-select')[_0x538ed3(0x9b2)],'timerDuration':parseInt(document[_0x538ed3(0x9c1)](_0x538ed3(0x6ff))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x538ed3(0x84e))[_0x538ed3(0x9b2)])||0x0,'isAdaptive':document[_0x538ed3(0x9c1)]('modal-adaptive-quiz-checkbox')[_0x538ed3(0x6a4)],'loopUntilPass':document[_0x538ed3(0x9c1)](_0x538ed3(0x24d))[_0x538ed3(0x6a4)],'isConfidenceScoringEnabled':document[_0x538ed3(0x9c1)](_0x538ed3(0x210))['checked'],'confidenceMode':document['getElementById'](_0x538ed3(0x732))[_0x538ed3(0x9b2)]};try{await updateDoc(_0x1c2841,{'settings':_0x59f620}),showMessage(_0x538ed3(0x556)),quizSettingsModal[_0x538ed3(0x431)][_0x538ed3(0x8af)](_0x538ed3(0x450)),actionTargetId=null;}catch(_0x2fe2dc){console['error'](_0x538ed3(0x845),_0x2fe2dc),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x4337e8=_0xbb2a9e;if(!actionTargetId)return;const _0x57a277=doc(db,'artifacts/'+appId+_0x4337e8(0x622),actionTargetId),_0x1d124a=document[_0x4337e8(0x729)](_0x4337e8(0xac2));if(!_0x1d124a){showMessage(_0x4337e8(0x658));return;}const _0x530f36=_0x1d124a[_0x4337e8(0x9b2)];let _0x6a38bd={};if(_0x530f36===_0x4337e8(0x645)||_0x530f36===_0x4337e8(0x541))_0x6a38bd={'status':_0x530f36,'startTime':null,'endTime':null};else{if(_0x530f36===_0x4337e8(0x5fb)){const _0xd39787=document['getElementById']('quiz-start-time')[_0x4337e8(0x9b2)],_0x572a2e=document[_0x4337e8(0x9c1)]('quiz-end-time')['value'];if(!_0xd39787&&!_0x572a2e){showMessage(_0x4337e8(0xaa9));return;}_0x6a38bd={'status':_0x4337e8(0x867),'startTime':_0xd39787?new Date(_0xd39787)[_0x4337e8(0x8eb)]():null,'endTime':_0x572a2e?new Date(_0x572a2e)[_0x4337e8(0x8eb)]():null};}}try{await updateDoc(_0x57a277,_0x6a38bd),showMessage(_0x4337e8(0xaf8)),quizStatusModal[_0x4337e8(0x431)][_0x4337e8(0x8af)](_0x4337e8(0x450)),actionTargetId=null;}catch(_0x3b0701){console[_0x4337e8(0x746)](_0x4337e8(0x386),_0x3b0701),showMessage(_0x4337e8(0x83d));}}function listenForStudentProfiles(_0x4fafa9){const _0x22262b=_0xbb2a9e,_0x40af51=collection(db,_0x22262b(0x44d)+appId+_0x22262b(0xa74)+_0x4fafa9+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x40af51,_0xa3bc8a=>{const _0x1346b9=_0x22262b,_0x46fd4b=_0xa3bc8a[_0x1346b9(0x95a)][_0x1346b9(0x791)](_0x1416c7=>_0x1416c7[_0x1346b9(0x24b)]());renderLeaderboard(_0x46fd4b,_0x1346b9(0x63a));},_0x150622=>{const _0x5e86db=_0x22262b;console[_0x5e86db(0x746)](_0x5e86db(0x62b),_0x150622),document[_0x5e86db(0x9c1)](_0x5e86db(0x63a))['innerHTML']=_0x5e86db(0xa18);});}function renderLeaderboard(_0x21d264,_0x9cbb8e){const _0x2098f0=_0xbb2a9e,_0x189280=document[_0x2098f0(0x9c1)](_0x9cbb8e);if(!_0x21d264||_0x21d264['length']===0x0){_0x189280['innerHTML']=_0x2098f0(0x385);return;}_0x21d264[_0x2098f0(0x415)]((_0x13eb7a,_0x418fe8)=>{const _0x4a83e0=_0x2098f0,_0xfac896=(_0x418fe8['totalPoints']||0x0)-(_0x13eb7a[_0x4a83e0(0x298)]||0x0);if(_0xfac896!==0x0)return _0xfac896;const _0x256c95=(_0x418fe8[_0x4a83e0(0x4d2)]?.['specialist']||0x0)-(_0x13eb7a[_0x4a83e0(0x4d2)]?.[_0x4a83e0(0x316)]||0x0);if(_0x256c95!==0x0)return _0x256c95;const _0x1eb3fa=(_0x418fe8[_0x4a83e0(0x4d2)]?.[_0x4a83e0(0x475)]||0x0)-(_0x13eb7a['badgesCount']?.[_0x4a83e0(0x475)]||0x0);if(_0x1eb3fa!==0x0)return _0x1eb3fa;const _0x52e2f9=(_0x418fe8[_0x4a83e0(0x4d2)]?.[_0x4a83e0(0xa6e)]||0x0)-(_0x13eb7a[_0x4a83e0(0x4d2)]?.['perfect_score']||0x0);if(_0x52e2f9!==0x0)return _0x52e2f9;const _0x143c7f=(_0x418fe8['badgesCount']?.[_0x4a83e0(0x758)]||0x0)-(_0x13eb7a[_0x4a83e0(0x4d2)]?.['quick_thinker']||0x0);if(_0x143c7f!==0x0)return _0x143c7f;return _0x13eb7a['studentName']['localeCompare'](_0x418fe8['studentName'],'th');});let _0x838932='';_0x21d264[_0x2098f0(0x803)]((_0x524187,_0x6e94a9)=>{const _0x71009a=_0x2098f0,_0x556248=_0x6e94a9+0x1,_0xb209cc=_0x524187['badgesCount']||{};let _0x865ead='';const _0x453e37=[_0x71009a(0x316),_0x71009a(0xa6e),_0x71009a(0x475),'quick_thinker'];_0x453e37['forEach'](_0x3c6149=>{const _0x199821=_0x71009a;if(_0xb209cc[_0x3c6149]>0x0){const _0x3ccd86=Object[_0x199821(0x8b5)](BADGES)[_0x199821(0x748)](_0x615d5d=>_0x615d5d['id']===_0x3c6149);_0x3ccd86&&(_0x3c6149==='specialist'?_0x865ead+=_0x199821(0x5c7)+_0x3ccd86[_0x199821(0x98a)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3ccd86[_0x199821(0x29e)]+_0x199821(0xb38):_0x865ead+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x3ccd86[_0x199821(0x98a)]+'\x20('+_0xb209cc[_0x3c6149]+_0x199821(0x7f1)+_0x3ccd86[_0x199821(0x29e)]+_0x199821(0x3f0)+_0xb209cc[_0x3c6149]+_0x199821(0x5ee));}}),_0x838932+=_0x71009a(0x7d8)+_0x556248+_0x71009a(0x4ea)+_0x524187[_0x71009a(0x711)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x524187[_0x71009a(0x298)]||0x0)+_0x71009a(0x4ea)+(_0x865ead||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x189280['innerHTML']=_0x838932;}function displayLoopScreen(_0x2c740d,_0x15a8f3,_0x8c4644){const _0x49b928=_0xbb2a9e;let _0xf4720f='';_0x8c4644!==_0x49b928(0x392)&&(_0xf4720f=_0x49b928(0xa45)+_0x2c740d+_0x49b928(0xafc)+_0x15a8f3+_0x49b928(0x3ad));const _0x67f5b=_0x49b928(0x91e)+_0xf4720f+_0x49b928(0x3a1);studentResultArea[_0x49b928(0x1c3)]=_0x67f5b,studentResultArea[_0x49b928(0x431)][_0x49b928(0x905)](_0x49b928(0x450)),studentQuizArea['classList'][_0x49b928(0x8af)]('hidden'),document[_0x49b928(0x9c1)](_0x49b928(0x32a))[_0x49b928(0x4da)]('click',()=>{const _0x1eaa25=_0x49b928;studentResultArea[_0x1eaa25(0x431)][_0x1eaa25(0x8af)](_0x1eaa25(0x450)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x205389,_0x4a8982,_0x3f383a){const _0xe7bd5f=_0xbb2a9e,_0x16f56e=document[_0xe7bd5f(0x9c1)](_0x3f383a),_0x349cfc=_0x3f383a===_0xe7bd5f(0x49d),_0x1f803d=_0x4a8982[_0xe7bd5f(0xa17)][_0xe7bd5f(0xa7c)],_0x197be3=document[_0xe7bd5f(0x9c1)](_0x3f383a)[_0xe7bd5f(0x775)]('table');if(_0x197be3&&!_0x349cfc){const _0xec1198=_0x197be3[_0xe7bd5f(0x729)]('thead');_0xec1198[_0xe7bd5f(0x1c3)]=_0xe7bd5f(0x993);}if(!_0x205389||_0x205389[_0xe7bd5f(0xa7c)]===0x0){_0x16f56e[_0xe7bd5f(0x1c3)]=_0xe7bd5f(0x399)+(_0x349cfc?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x581827=[..._0x205389];_0x581827[_0xe7bd5f(0x415)]((_0x1f2561,_0x24cc90)=>{const _0x39aaf1=_0xe7bd5f;let _0x4bfa6f,_0x2d1815;switch(quizLeaderboardSortBy){case _0x39aaf1(0x711):_0x4bfa6f=_0x1f2561[_0x39aaf1(0x711)]||'',_0x2d1815=_0x24cc90['studentName']||'';return quizLeaderboardSortOrder===_0x39aaf1(0xb35)?_0x4bfa6f['localeCompare'](_0x2d1815,'th'):_0x2d1815[_0x39aaf1(0x222)](_0x4bfa6f,'th');case _0x39aaf1(0x3bb):_0x4bfa6f=_0x1f2561[_0x39aaf1(0x3bb)]||0x0,_0x2d1815=_0x24cc90[_0x39aaf1(0x3bb)]||0x0;break;case _0x39aaf1(0x405):_0x4bfa6f=_0x1f2561[_0x39aaf1(0x405)]?.[_0x39aaf1(0xa7c)]||0x1,_0x2d1815=_0x24cc90['attempts']?.['length']||0x1;break;case _0x39aaf1(0x496):_0x4bfa6f=new Date(_0x1f2561[_0x39aaf1(0x496)]),_0x2d1815=new Date(_0x24cc90[_0x39aaf1(0x496)]);break;case _0x39aaf1(0x358):default:_0x4bfa6f=_0x1f2561[_0x39aaf1(0x358)],_0x2d1815=_0x24cc90[_0x39aaf1(0x358)];break;}if(_0x4bfa6f<_0x2d1815)return quizLeaderboardSortOrder===_0x39aaf1(0xb35)?-0x1:0x1;if(_0x4bfa6f>_0x2d1815)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x3518af=_0x4a8982[_0xe7bd5f(0x36e)]===!![],_0x1a88e2=_0x4a8982[_0xe7bd5f(0xa79)]?.['passingScore']??-0x1;let _0x2fa228='';_0x581827[_0xe7bd5f(0x803)]((_0x23badc,_0x95dd92)=>{const _0x10a3af=_0xe7bd5f,_0x4ceec2=_0x95dd92+0x1;let _0x3e7411=_0x10a3af(0xaf3);if(_0x3518af||_0x1a88e2!==-0x1){let _0x2d671d=_0x3518af?_0x23badc[_0x10a3af(0x358)]===_0x1f803d:_0x23badc[_0x10a3af(0x358)]>=_0x1a88e2;const _0x54a8db=_0x2d671d?'bg-green-100\x20text-green-800':_0x10a3af(0x986),_0x228db1=_0x2d671d?_0x10a3af(0x417):_0x10a3af(0x249);_0x3e7411=_0x10a3af(0x985)+_0x54a8db+'\x22>'+_0x228db1+_0x10a3af(0x9ca);}const _0x53601c=_0x23badc[_0x10a3af(0x405)][_0x23badc['attempts']['length']-0x1],_0x531ccf=(_0x53601c[_0x10a3af(0x9dd)]||[])[_0x10a3af(0x791)](_0x5cd045=>{const _0x56206f=_0x10a3af,_0x473132=Object['values'](BADGES)['find'](_0x15bc7c=>_0x15bc7c['id']===_0x5cd045);return _0x473132?'<span\x20title=\x22'+_0x473132[_0x56206f(0x98a)]+_0x56206f(0x592)+_0x473132[_0x56206f(0x29e)]+_0x56206f(0xa21):'';})[_0x10a3af(0x3cf)]('');_0x2fa228+=_0x10a3af(0x8a0)+_0x4ceec2+_0x10a3af(0x793)+_0x23badc[_0x10a3af(0x711)]+_0x10a3af(0x4fe)+_0x23badc[_0x10a3af(0x358)]+_0x10a3af(0xafc)+_0x1f803d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e7411+_0x10a3af(0xa63)+(_0x23badc[_0x10a3af(0x3bb)]||0x0)+_0x10a3af(0x841)+(_0x349cfc?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x23badc[_0x10a3af(0x405)]?.[_0x10a3af(0xa7c)]||0x1)+_0x10a3af(0x1f4))+_0x10a3af(0x47d)+(_0x349cfc?'':_0x10a3af(0x967)+new Date(_0x23badc[_0x10a3af(0x496)])['toLocaleString'](_0x10a3af(0x743))+_0x10a3af(0x1f4))+_0x10a3af(0x3d5)+(_0x531ccf||'-')+_0x10a3af(0x48d);}),_0x16f56e['innerHTML']=_0x2fa228,_0x197be3&&!_0x349cfc&&_0x197be3[_0xe7bd5f(0x345)](_0xe7bd5f(0x46f))['forEach'](_0x443676=>{const _0x349612=_0xe7bd5f,_0x46eb1a=_0x443676[_0x349612(0x729)]('.sort-indicator');if(_0x46eb1a)_0x46eb1a['remove']();_0x443676['dataset']['sort']===quizLeaderboardSortBy&&(_0x443676[_0x349612(0x1c3)]+=_0x349612(0x883)+(quizLeaderboardSortOrder===_0x349612(0xb35)?'▲':'▼')+_0x349612(0x85f));});}async function handleDeleteSubmission(_0x5c923d){const _0x1a7ac6=_0xbb2a9e;if(!currentQuizData||!currentQuizData['id']||!_0x5c923d){showMessage(_0x1a7ac6(0x5e3));return;}showConfirmation(_0x1a7ac6(0x838)+_0x5c923d+_0x1a7ac6(0x707),async()=>{const _0x5719aa=_0x1a7ac6,_0x240154=currentQuizData['id'],_0x4a0b8e=doc(db,_0x5719aa(0x44d)+appId+_0x5719aa(0x3b6)+_0x240154+_0x5719aa(0x6d8),_0x5c923d);try{await deleteDoc(_0x4a0b8e),showMessage(_0x5719aa(0x88f)+_0x5c923d+_0x5719aa(0x407));}catch(_0x3a6661){console[_0x5719aa(0x746)]('Error\x20deleting\x20submission:',_0x3a6661),showMessage(_0x5719aa(0x9c3));}});}async function handleLoadQuiz(){const _0x3e6e9c=_0xbb2a9e,_0xf72a0a=document[_0x3e6e9c(0x9c1)]('quiz-id-input'),_0x39d5b8=_0xf72a0a[_0x3e6e9c(0x9b2)]['trim']();if(!_0x39d5b8){showMessage(_0x3e6e9c(0x3fc));return;}loadQuizBtn[_0x3e6e9c(0x9d7)]=!![],loadQuizBtn['innerHTML']=_0x3e6e9c(0x2af);try{const _0x330d16=doc(db,_0x3e6e9c(0x44d)+appId+_0x3e6e9c(0x622),_0x39d5b8),_0x24f6f3=await getDoc(_0x330d16);if(!_0x24f6f3[_0x3e6e9c(0x9ce)]()){showMessage(_0x3e6e9c(0xa9e));return;}currentQuizData={'id':_0x24f6f3['id'],..._0x24f6f3[_0x3e6e9c(0x24b)]()};const _0x3a9f27=currentQuizData[_0x3e6e9c(0x3f1)]||'active',_0x4c855e=new Date();if(_0x3a9f27==='inactive'){showMessage(_0x3e6e9c(0x527));return;}if(_0x3a9f27===_0x3e6e9c(0x867)){const _0x5be91d=currentQuizData[_0x3e6e9c(0x7ec)]?new Date(currentQuizData[_0x3e6e9c(0x7ec)]):null,_0x48c00b=currentQuizData['endTime']?new Date(currentQuizData[_0x3e6e9c(0x2c2)]):null;if(_0x5be91d&&_0x4c855e<_0x5be91d){showMessage(_0x3e6e9c(0x9c2)+_0x5be91d[_0x3e6e9c(0x9a0)](_0x3e6e9c(0x743),{'hour12':![]}));return;}if(_0x48c00b&&_0x4c855e>_0x48c00b){showMessage(_0x3e6e9c(0x5b8));return;}}const _0x7bf224=currentQuizData[_0x3e6e9c(0x430)];currentProjectId=_0x7bf224;const _0x35c99e=doc(db,_0x3e6e9c(0x44d)+appId+'/public/data/projects',_0x7bf224),_0x4bfb89=await getDoc(_0x35c99e);if(!_0x4bfb89[_0x3e6e9c(0x9ce)]()){showMessage(_0x3e6e9c(0x290));return;}const _0x6cd5a5=_0x4bfb89['data']();currentStudentProjectData=_0x6cd5a5,displayStudentNameSelector(_0x6cd5a5[_0x3e6e9c(0x3dc)],currentQuizData[_0x3e6e9c(0xb4a)]);}catch(_0x3e44eb){console[_0x3e6e9c(0x746)](_0x3e6e9c(0x7d2),_0x3e44eb),showMessage(_0x3e6e9c(0x250));}finally{loadQuizBtn[_0x3e6e9c(0x9d7)]=![],loadQuizBtn['innerHTML']=_0x3e6e9c(0x5cb);}}async function handleJoinLiveGame(){const _0x41137e=_0xbb2a9e,_0x4a785f=document[_0x41137e(0x9c1)](_0x41137e(0x7d0)),_0x5dc13b=document[_0x41137e(0x9c1)](_0x41137e(0x5bd)),_0x283487=document[_0x41137e(0x9c1)](_0x41137e(0x375)),_0x4fde48=_0x4a785f[_0x41137e(0x9b2)]['trim'](),_0xb37162=_0x5dc13b[_0x41137e(0x9b2)][_0x41137e(0x9aa)]();if(!_0x4fde48||!_0xb37162){showMessage(_0x41137e(0x869));return;}_0x283487[_0x41137e(0x9d7)]=!![],_0x283487['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x10edc0=collection(db,'artifacts/'+appId+_0x41137e(0x8c4)),_0x1e27f6=query(_0x10edc0,where(_0x41137e(0x8b6),'==',_0x4fde48),where(_0x41137e(0x3f1),'in',[_0x41137e(0x443),_0x41137e(0x533)])),_0x478dac=await getDocs(_0x1e27f6);if(_0x478dac[_0x41137e(0x384)]){showMessage(_0x41137e(0x64c));return;}const _0x591eef=_0x478dac[_0x41137e(0x95a)][0x0],_0x327ae5=_0x591eef['data']();currentLiveGameId=_0x591eef['id'];const _0x3afbb4=_0x327ae5[_0x41137e(0x521)],_0x2c3d3d=doc(db,_0x41137e(0x44d)+appId+'/public/data/quizzes',_0x3afbb4),_0x4d5e58=await getDoc(_0x2c3d3d);if(!_0x4d5e58[_0x41137e(0x9ce)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x4d5e58['id'],..._0x4d5e58[_0x41137e(0x24b)]()};if(_0x327ae5[_0x41137e(0x526)]&&_0x327ae5[_0x41137e(0x526)][_0xb37162]){const _0x1e5531=_0x327ae5[_0x41137e(0x526)][_0xb37162];if(_0x1e5531[_0x41137e(0x3f1)]===_0x41137e(0x541)){_0x283487[_0x41137e(0x1c3)]=_0x41137e(0xa1b);const _0x509c29={};_0x509c29[_0x41137e(0x886)+_0xb37162+_0x41137e(0x2f3)]='active',await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x509c29),showView('live-game'),currentStudentName=_0xb37162,listenForLiveGameUpdates();return;}else{showMessage(_0x41137e(0x5cc));return;}}if(_0x327ae5[_0x41137e(0x3f1)]!=='lobby'){showMessage(_0x41137e(0xa90));return;}_0x283487[_0x41137e(0x1c3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x8800f5={};_0x8800f5[_0x41137e(0x886)+_0xb37162]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x41137e(0x645)},await updateDoc(doc(db,_0x41137e(0x44d)+appId+_0x41137e(0x8c4),currentLiveGameId),_0x8800f5),currentStudentName=_0xb37162,listenForLiveGameUpdates();}catch(_0x202f2f){console['error'](_0x41137e(0x904),_0x202f2f),showMessage(_0x41137e(0x78f));}finally{_0x283487[_0x41137e(0x9d7)]=![],_0x283487[_0x41137e(0x1c3)]=_0x41137e(0x1d5);}}function displayStudentNameSelector(_0x28f62b,_0x29a283){const _0x5a4639=_0xbb2a9e,_0x53e5a0=document['getElementById'](_0x5a4639(0x5b3));document['getElementById'](_0x5a4639(0x6eb))[_0x5a4639(0x410)]=_0x5a4639(0x656)+_0x29a283,!_0x28f62b||_0x28f62b[_0x5a4639(0xa7c)]===0x0?(_0x53e5a0[_0x5a4639(0x1c3)]=_0x5a4639(0x409),startQuizBtn[_0x5a4639(0x9d7)]=!![]):(_0x53e5a0[_0x5a4639(0x1c3)]=_0x5a4639(0x390),_0x28f62b[_0x5a4639(0x803)](_0x56d569=>{const _0x3c0e65=_0x5a4639,_0x10faa7=document['createElement'](_0x3c0e65(0x6b5));_0x10faa7['value']=_0x56d569,_0x10faa7[_0x3c0e65(0x410)]=_0x56d569,_0x53e5a0[_0x3c0e65(0x4de)](_0x10faa7);}),startQuizBtn[_0x5a4639(0x9d7)]=![]),studentInitialView[_0x5a4639(0x431)]['add'](_0x5a4639(0x450)),studentNameSelectionView[_0x5a4639(0x431)][_0x5a4639(0x905)](_0x5a4639(0x450));}function shuffleArray(_0xa070df){const _0x5db2a9=_0xbb2a9e;for(let _0xee26b5=_0xa070df[_0x5db2a9(0xa7c)]-0x1;_0xee26b5>0x0;_0xee26b5--){const _0x4de705=Math['floor'](Math[_0x5db2a9(0x688)]()*(_0xee26b5+0x1));[_0xa070df[_0xee26b5],_0xa070df[_0x4de705]]=[_0xa070df[_0x4de705],_0xa070df[_0xee26b5]];}}function getShuffledQuiz(_0x45a0c1){const _0x505232=_0xbb2a9e;let _0x24dd8a=JSON['parse'](JSON[_0x505232(0x994)](_0x45a0c1));const _0x39faea=_0x24dd8a[_0x505232(0xa79)]?.[_0x505232(0x972)]||_0x505232(0x806);if(_0x39faea===_0x505232(0x806))return _0x24dd8a;return(_0x39faea===_0x505232(0xa76)||_0x39faea===_0x505232(0x28f))&&shuffleArray(_0x24dd8a[_0x505232(0xa17)]),(_0x39faea==='choices_only'||_0x39faea==='both')&&_0x24dd8a[_0x505232(0xa17)]['forEach'](_0x2d3a18=>{const _0x5be4da=_0x505232,_0x57b234=_0x2d3a18[_0x5be4da(0x368)]||_0x24dd8a[_0x5be4da(0x950)];if(_0x2d3a18['options']){let _0x427d67=_0x2d3a18[_0x5be4da(0x643)][_0x5be4da(0x791)]((_0x3af0f1,_0xef1212)=>({'text':_0x3af0f1,'isCorrect':_0xef1212===_0x2d3a18[_0x5be4da(0xad0)]}));shuffleArray(_0x427d67),_0x2d3a18[_0x5be4da(0x643)]=_0x427d67[_0x5be4da(0x791)](_0x2cb6b0=>_0x2cb6b0[_0x5be4da(0x7e8)]),_0x2d3a18[_0x5be4da(0xad0)]=_0x427d67[_0x5be4da(0x4d1)](_0x479aad=>_0x479aad[_0x5be4da(0x6f8)]);}_0x57b234===_0x5be4da(0xa4a)&&_0x2d3a18['allResponses']&&shuffleArray(_0x2d3a18[_0x5be4da(0x82a)]);}),_0x24dd8a;}function displayQuizForStudent(_0x45f04c){const _0x3fdaa9=_0xbb2a9e;studentQuizArea[_0x3fdaa9(0x431)][_0x3fdaa9(0x905)](_0x3fdaa9(0x450)),currentDisplayedQuiz=getShuffledQuiz(_0x45f04c);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x3fdaa9(0x616),handleFullscreenChange),document['addEventListener'](_0x3fdaa9(0xaad),handleVisibilityChange),enterFullscreen(),window[_0x3fdaa9(0x4da)](_0x3fdaa9(0x8f7),resetDimTimer),window[_0x3fdaa9(0x4da)](_0x3fdaa9(0x40f),resetDimTimer),window[_0x3fdaa9(0x4da)](_0x3fdaa9(0x3b9),resetDimTimer),window['addEventListener'](_0x3fdaa9(0x664),resetDimTimer),resetDimTimer());const _0x332785=currentDisplayedQuiz[_0x3fdaa9(0xa79)]?.[_0x3fdaa9(0x6c1)]||_0x3fdaa9(0x806);if(_0x332785===_0x3fdaa9(0x3bc))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x3fdaa9(0xa79)][_0x3fdaa9(0x68c)]);else _0x332785==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x13b84b=_0xbb2a9e,_0x5e1040=currentDisplayedQuiz[_0x13b84b(0xa79)]?.[_0x13b84b(0x4f1)]===!![],_0x36c5ef=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x13b84b(0x524);let _0x4bd8a1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x13b84b(0xb4a)]+_0x13b84b(0x854)+(currentMode===_0x13b84b(0xa97)?_0x13b84b(0xab4):'')+_0x13b84b(0x700);currentDisplayedQuiz[_0x13b84b(0xa17)][_0x13b84b(0x803)]((_0x2a76bc,_0x5e4326)=>{const _0x511f1e=_0x13b84b,_0x26f601=_0x2a76bc[_0x511f1e(0x368)]||currentDisplayedQuiz['quizType'];_0x4bd8a1+=_0x511f1e(0x68f);if(_0x26f601===_0x511f1e(0xa4a)){}else _0x4bd8a1+='<p>'+(_0x5e4326+0x1)+'.\x20'+(_0x2a76bc[_0x511f1e(0x508)]||_0x2a76bc['questionText'])+_0x511f1e(0x40c),_0x2a76bc[_0x511f1e(0x84f)]&&(_0x4bd8a1+=_0x511f1e(0x3d8)+_0x2a76bc[_0x511f1e(0x84f)]+_0x511f1e(0xa1c));_0x4bd8a1+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x26f601){case'short_answer':_0x4bd8a1+=_0x511f1e(0x549)+_0x5e4326+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x511f1e(0xb53):_0x4bd8a1+=_0x511f1e(0x761)+_0x5e4326+_0x511f1e(0x66e)+_0x5e4326+_0x511f1e(0x546)+_0x5e4326+'_opt0\x22>ใช่</label></div>',_0x4bd8a1+=_0x511f1e(0x761)+_0x5e4326+'_opt1\x22\x20name=\x22question'+_0x5e4326+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x5e4326+_0x511f1e(0x5ac);break;case _0x511f1e(0xa4a):_0x4bd8a1+=_0x511f1e(0x2d8)+_0x2a76bc['stem']+_0x511f1e(0xab8)+_0x5e4326+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a76bc[_0x511f1e(0x82a)][_0x511f1e(0x791)](_0x14a9b0=>_0x511f1e(0x520)+_0x14a9b0+'\x22>'+_0x14a9b0+'</option>')[_0x511f1e(0x3cf)]('')+_0x511f1e(0x337);break;default:_0x4bd8a1+=_0x2a76bc[_0x511f1e(0x643)][_0x511f1e(0x791)]((_0x1854f2,_0x4b2bf8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x5e4326+_0x511f1e(0x9ac)+_0x4b2bf8+_0x511f1e(0x5ef)+_0x5e4326+_0x511f1e(0xaf5)+_0x4b2bf8+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x5e4326+'_opt'+_0x4b2bf8+'\x22>'+_0x1854f2+_0x511f1e(0x376))['join']('');break;}_0x4bd8a1+='</div>',_0x5e1040&&(_0x4bd8a1+=_0x511f1e(0x283),_0x36c5ef===_0x511f1e(0x4e7)?_0x4bd8a1+=_0x511f1e(0x2e5)+_0x5e4326+_0x511f1e(0x9c8)+_0x5e4326+_0x511f1e(0x296)+_0x5e4326+_0x511f1e(0xb54)+_0x5e4326+_0x511f1e(0x668):_0x4bd8a1+=_0x511f1e(0xa2d)+_0x5e4326+_0x511f1e(0x9c8)+_0x5e4326+_0x511f1e(0xb50)+_0x5e4326+_0x511f1e(0x62d),_0x4bd8a1+=_0x511f1e(0xa1c)),_0x4bd8a1+='</div>';}),_0x4bd8a1+=_0x13b84b(0xae8),_0x4bd8a1+='</form>',studentQuizArea[_0x13b84b(0x1c3)]=_0x4bd8a1;if(currentMode===_0x13b84b(0xa97)){const _0x5d0fc1=document[_0x13b84b(0x9c1)]('cancel-test-btn');if(_0x5d0fc1)_0x5d0fc1[_0x13b84b(0x4da)](_0x13b84b(0x3fb),cancelAdminTest);}const _0x2ee8de=document[_0x13b84b(0x9c1)](_0x13b84b(0x3be));_0x2ee8de&&(_0x2ee8de[_0x13b84b(0x4da)](_0x13b84b(0x737),handleSubmitQuiz),_0x2ee8de[_0x13b84b(0x4da)]('click',_0xcbc392=>{const _0x2cccd3=_0x13b84b;if(_0xcbc392[_0x2cccd3(0x3a6)]['classList'][_0x2cccd3(0x7b4)]('confidence-choice-btn')){const _0x5d9fca=_0xcbc392[_0x2cccd3(0x3a6)],_0xbe57e1=_0x5d9fca[_0x2cccd3(0x1f9)][_0x2cccd3(0x5e6)],_0x2e9542=_0x5d9fca[_0x2cccd3(0x1f9)][_0x2cccd3(0x9b2)];document[_0x2cccd3(0x9c1)](_0x2cccd3(0x4aa)+_0xbe57e1)[_0x2cccd3(0x9b2)]=_0x2e9542;const _0x3cb6d1=_0x5d9fca[_0x2cccd3(0x7ba)];_0x3cb6d1['querySelectorAll'](_0x2cccd3(0x432))[_0x2cccd3(0x803)](_0x10fbfa=>_0x10fbfa['classList']['remove'](_0x2cccd3(0x645))),_0x5d9fca[_0x2cccd3(0x431)][_0x2cccd3(0x8af)]('active');}}));if(window[_0x13b84b(0x7b6)])window[_0x13b84b(0x7b6)][_0x13b84b(0x987)]([studentQuizArea]);}async function handleSubmitQuiz(_0x301efa){const _0x180f59=_0xbb2a9e;if(_0x301efa)_0x301efa[_0x180f59(0x457)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x1f6efe=document[_0x180f59(0x9c1)](_0x180f59(0x3be));if(!_0x1f6efe)return;const _0x1a1ff6=currentDisplayedQuiz[_0x180f59(0xa79)]?.[_0x180f59(0x4f1)]===!![],_0x57dd30=currentDisplayedQuiz[_0x180f59(0xa79)]?.[_0x180f59(0x9cd)]||_0x180f59(0x524);if(_0x1a1ff6&&_0x57dd30===_0x180f59(0x4e7)){let _0x407f72=!![];for(let _0x5c67d1=0x0;_0x5c67d1<currentDisplayedQuiz[_0x180f59(0xa17)][_0x180f59(0xa7c)];_0x5c67d1++){const _0x2b8437=_0x1f6efe[_0x180f59(0x729)](_0x180f59(0xab1)+_0x5c67d1);if(!_0x2b8437||_0x2b8437[_0x180f59(0x9b2)]===''){_0x407f72=![];break;}}if(!_0x407f72){showMessage(_0x180f59(0xa93));return;}}const _0x2ffe42=_0x1f6efe[_0x180f59(0x729)](_0x180f59(0x2d3)),_0x1e306b=currentDisplayedQuiz['questions']['some'](_0x53fa43=>_0x53fa43['questionType']===_0x180f59(0x68a));_0x2ffe42&&(_0x2ffe42[_0x180f59(0x9d7)]=!![],_0x2ffe42[_0x180f59(0x1c3)]=_0x1e306b?_0x180f59(0x447):_0x180f59(0x6d3));const _0x42735a=new FormData(_0x1f6efe),_0x2a282a=currentDisplayedQuiz[_0x180f59(0xa17)][_0x180f59(0x791)]((_0x320039,_0x336aa2)=>{const _0x3856cc=_0x180f59,_0x1bed20=_0x42735a['get'](_0x3856cc(0x533)+_0x336aa2);let _0x610da1;_0x57dd30===_0x3856cc(0x4e7)?_0x610da1=_0x42735a[_0x3856cc(0x80b)]('confidence'+_0x336aa2):_0x610da1=_0x42735a[_0x3856cc(0x80b)]('confidence'+_0x336aa2)==='on';let _0x33ffd9=null;if(_0x1bed20!==null&&_0x1bed20!==undefined){const _0x3adb97=_0x320039[_0x3856cc(0x368)]||currentDisplayedQuiz['quizType'];_0x3adb97===_0x3856cc(0xad6)||_0x3adb97===_0x3856cc(0xac7)?_0x33ffd9=parseInt(_0x1bed20):_0x33ffd9=_0x1bed20;}return{'answer':_0x33ffd9,'wasConfident':_0x610da1};}),_0x4f38e9=currentQuizData['id'],_0x2f4a65=doc(db,_0x180f59(0x44d)+appId+_0x180f59(0x3b6)+_0x4f38e9+_0x180f59(0x6d8),currentStudentName),_0x21a8ae=await getDoc(_0x2f4a65),_0x1013a0=_0x21a8ae[_0x180f59(0x9ce)]()?_0x21a8ae[_0x180f59(0x24b)]():{},_0x2ee0c9=_0x1013a0[_0x180f59(0x405)]||[];await processAndSubmitAnswers(_0x2a282a,_0x2ee0c9);}async function gradeShortAnswerWithAI(_0xd27141,_0x1e5f0d){const _0x248278=_0xbb2a9e;if(!_0xd27141||!_0x1e5f0d)return![];try{const _0x20b38b=_0x248278(0x7d6)+_0xd27141+_0x248278(0x884)+_0x1e5f0d+_0x248278(0x365),_0x22f7a0={'contents':[{'role':_0x248278(0x6b8),'parts':[{'text':_0x20b38b}]}]},_0x5336d9='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x186ee7='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5336d9,_0x4214d0=await fetch(_0x186ee7,{'method':_0x248278(0x4f0),'headers':{'Content-Type':_0x248278(0xa8a)},'body':JSON[_0x248278(0x994)](_0x22f7a0)});if(!_0x4214d0['ok'])throw new Error(_0x248278(0x497));const _0x1739dd=await _0x4214d0[_0x248278(0x690)](),_0x323248=_0x1739dd['candidates'][0x0]['content'][_0x248278(0xacd)][0x0]['text']['trim']()[_0x248278(0x57e)]();return _0x323248==='true';}catch(_0xf5f1fd){return console[_0x248278(0x746)](_0x248278(0x31f),_0xf5f1fd),![];}}async function processAndSubmitAnswers(_0xcbb25e,_0x4958e6){const _0x188a0b=_0xbb2a9e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x188a0b(0x734)](_0x188a0b(0x616),handleFullscreenChange),document[_0x188a0b(0x734)](_0x188a0b(0xaad),handleVisibilityChange);let _0x52eab7=0x0;const _0x3359ab=[],_0x2b2376=currentDisplayedQuiz['questions']['length'];let _0x16df24=0x0,_0xce4a45=[];const _0x4b1523=currentDisplayedQuiz[_0x188a0b(0xa17)];for(let _0x27d5cc=0x0;_0x27d5cc<_0x4b1523[_0x188a0b(0xa7c)];_0x27d5cc++){const _0x5b16cb=_0x4b1523[_0x27d5cc],_0x43df44=_0xcbb25e[_0x27d5cc],_0x51e118=_0x43df44?_0x43df44[_0x188a0b(0x55b)]:null,_0x331d2b=_0x43df44?_0x43df44[_0x188a0b(0x977)]:null;let _0x24fdfd=![],_0x1d183e=0x0;if(_0x51e118!==null&&_0x51e118!==''){const _0xb31006=_0x5b16cb[_0x188a0b(0x368)]||currentDisplayedQuiz[_0x188a0b(0x950)];switch(_0xb31006){case'matching_item':_0x24fdfd=_0x51e118===_0x5b16cb[_0x188a0b(0x4cc)];break;case _0x188a0b(0xb53):const _0x3df1d5=_0x51e118===!![]||_0x51e118===_0x188a0b(0x304);_0x24fdfd=_0x3df1d5===_0x5b16cb[_0x188a0b(0x2ae)];break;case'short_answer':_0x24fdfd=await gradeShortAnswer(_0x51e118,_0x5b16cb);break;case _0x188a0b(0xad6):default:_0x24fdfd=Number(_0x51e118)===_0x5b16cb['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']){const _0x10fad9=_0x43df44?_0x43df44['wasConfident']:null;if(_0x24fdfd&&(_0x10fad9===!![]||_0x10fad9==='confident'))_0x1d183e=0x2;else{if(_0x24fdfd)_0x1d183e=0x1;else{if(!_0x24fdfd&&(_0x10fad9===![]||_0x10fad9===_0x188a0b(0x340)||_0x10fad9===null))_0x1d183e=0x0;else!_0x24fdfd&&(_0x10fad9===!![]||_0x10fad9===_0x188a0b(0x9e9))&&(_0x1d183e=-0x1);}}}else _0x1d183e=_0x24fdfd?0x1:0x0;_0x52eab7+=_0x1d183e;if(_0x24fdfd){_0x16df24++;if(_0x16df24===0x3)_0xce4a45[_0x188a0b(0x40b)](BADGES[_0x188a0b(0x5d1)]['id']);}else _0x16df24=0x0;let _0x44e44d=null;_0x5b16cb['options']&&_0x51e118!==null&&(_0x44e44d=_0x5b16cb[_0x188a0b(0x643)][_0x51e118]),_0x3359ab[_0x188a0b(0x40b)]({'questionId':_0x5b16cb['id'],'answer':_0x51e118,'answerText':_0x44e44d,'isCorrect':_0x24fdfd,'wasConfident':_0x331d2b,'pointsAwarded':_0x1d183e,'originalQuestionText':_0x5b16cb['stem']||_0x5b16cb[_0x188a0b(0x23b)]});}const _0x5227a4=_0x3359ab[_0x188a0b(0x51b)](_0x5c4d65=>_0x5c4d65[_0x188a0b(0x6f8)])[_0x188a0b(0xa7c)],_0x401fe5=currentDisplayedQuiz[_0x188a0b(0xa79)]?.[_0x188a0b(0xa14)]??Math[_0x188a0b(0x7b0)](_0x2b2376/0x2);_0x5227a4===_0x2b2376&&_0x2b2376>0x0&&!currentDisplayedQuiz['isRemedial']&&_0xce4a45[_0x188a0b(0x40b)](BADGES[_0x188a0b(0x862)]['id']);const _0x25665a=currentDisplayedQuiz[_0x188a0b(0xa79)]?.[_0x188a0b(0x6c1)];if(_0x25665a===_0x188a0b(0x3bc)&&quizStartTime){const _0x11b1ab=(new Date()-quizStartTime)/0x3e8,_0x45c06c=currentDisplayedQuiz[_0x188a0b(0xa79)][_0x188a0b(0x68c)]*0x3c;_0x5227a4>=_0x401fe5&&_0x11b1ab<_0x45c06c/0x2&&_0xce4a45[_0x188a0b(0x40b)](BADGES['QUICK_THINKER']['id']);}_0x4958e6[_0x188a0b(0xa7c)]===0x0&&_0x5227a4===_0x2b2376&&_0x2b2376>0x0&&_0xce4a45[_0x188a0b(0x40b)](BADGES[_0x188a0b(0x21c)]['id']);if(_0x4958e6[_0x188a0b(0xa7c)]>0x0){const _0x1f2b1c=_0x4958e6[0x0][_0x188a0b(0x6bd)];if(_0x1f2b1c<_0x401fe5&&_0x5227a4>=_0x401fe5){const _0x340435=_0x4958e6[_0x188a0b(0x920)](_0x14ee0f=>(_0x14ee0f[_0x188a0b(0x9dd)]||[])[_0x188a0b(0x913)](BADGES['COMEBACK_KING']['id']));!_0x340435&&_0xce4a45[_0x188a0b(0x40b)](BADGES[_0x188a0b(0x507)]['id']);}}_0x4958e6[_0x188a0b(0xa7c)]===0x4&&_0xce4a45[_0x188a0b(0x40b)](BADGES[_0x188a0b(0xa4c)]['id']);const _0x5379b3=currentDisplayedQuiz[_0x188a0b(0xa79)]['resultsDisplay'];if(currentMode===_0x188a0b(0xa97)){handleResultDisplay(_0x5379b3,_0x5227a4,_0x52eab7,_0xce4a45,_0x3359ab,_0x2b2376);return;}const _0x5aa6c4=currentQuizData['id'],_0xe53692=doc(db,_0x188a0b(0x44d)+appId+'/public/data/quizzes/'+_0x5aa6c4+_0x188a0b(0x6d8),currentStudentName);try{const _0x357d94=[..._0x4958e6],_0x145960={'score':_0x5227a4,'points':_0x52eab7,'badges':Array[_0x188a0b(0x693)](new Set(_0xce4a45)),'submittedAt':new Date()[_0x188a0b(0x8eb)](),'answers':_0x3359ab};_0x357d94[_0x188a0b(0x40b)](_0x145960);const _0x79aebd=_0x4958e6[_0x188a0b(0xa7c)]===0x0?_0x5227a4:_0x4958e6[0x0][_0x188a0b(0x6bd)]||0x0,_0x371116=Math[_0x188a0b(0xaa3)](..._0x357d94[_0x188a0b(0x791)](_0x96f83d=>_0x96f83d[_0x188a0b(0x6bd)]));await setDoc(_0xe53692,{'studentName':currentStudentName,'totalQuestions':_0x2b2376,'attempts':_0x357d94,'firstScore':_0x79aebd,'bestScore':_0x371116,'latestScore':_0x5227a4,'points':_0x52eab7,'latestSubmittedAt':_0x145960[_0x188a0b(0x4fa)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x188a0b(0x430)],currentStudentName),handleResultDisplay(_0x5379b3,_0x5227a4,_0x52eab7,_0xce4a45,_0x3359ab,_0x2b2376);}catch(_0x2beddf){console[_0x188a0b(0x746)](_0x188a0b(0x461),_0x2beddf),showMessage(_0x188a0b(0x582));}}async function updateStudentProfile(_0x5b982f,_0x40766b){const _0x68b217=_0xbb2a9e,_0x5052cc=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x5b982f+_0x68b217(0xb0a),_0x40766b);try{const _0xd5c43f=query(collection(db,_0x68b217(0x44d)+appId+_0x68b217(0x622)),where(_0x68b217(0x430),'==',_0x5b982f)),_0x379033=await getDocs(_0xd5c43f),_0x551919=new Map(_0x379033[_0x68b217(0x95a)][_0x68b217(0x791)](_0x229925=>[_0x229925['id'],_0x229925[_0x68b217(0x24b)]()])),_0x4b3b48=Array['from'](_0x551919[_0x68b217(0x790)]());await runTransaction(db,async _0x3553f1=>{const _0x51ceb3=_0x68b217;let _0x474d6d=0x0;const _0x9a4993={};let _0x3b07c1=!![],_0x1fdd88=0x0,_0x3a48d0=0x0;for(const _0x2b36c5 of _0x4b3b48){const _0x45197a=_0x551919[_0x51ceb3(0x80b)](_0x2b36c5),_0x4c1db0=doc(db,_0x51ceb3(0x44d)+appId+_0x51ceb3(0x3b6)+_0x2b36c5+'/submissions',_0x40766b),_0x14c275=await _0x3553f1['get'](_0x4c1db0);if(_0x14c275['exists']()){const _0x4aec96=_0x14c275[_0x51ceb3(0x24b)](),_0xd4cf02=_0x4aec96[_0x51ceb3(0x405)]||[];if(_0xd4cf02[_0x51ceb3(0xa7c)]>0x0){const _0x93e949=_0xd4cf02[_0x51ceb3(0x32f)]((_0x2bd6cb,_0x52d666)=>{const _0x4b3b2b=_0x51ceb3;if(_0x52d666[_0x4b3b2b(0x6bd)]>_0x2bd6cb[_0x4b3b2b(0x6bd)])return _0x52d666;if(_0x52d666[_0x4b3b2b(0x6bd)]===_0x2bd6cb[_0x4b3b2b(0x6bd)])return(_0x52d666[_0x4b3b2b(0x3bb)]||0x0)>(_0x2bd6cb[_0x4b3b2b(0x3bb)]||0x0)?_0x52d666:_0x2bd6cb;return _0x2bd6cb;},{'score':-0x1,'points':-0x1});_0x93e949['score']>-0x1&&(_0x474d6d+=_0x93e949[_0x51ceb3(0x3bb)]||0x0,(_0x93e949[_0x51ceb3(0x9dd)]||[])['forEach'](_0x427db7=>{_0x9a4993[_0x427db7]=(_0x9a4993[_0x427db7]||0x0)+0x1;}));}}if(_0x45197a[_0x51ceb3(0xb4a)]!==_0x51ceb3(0x823)){_0x3a48d0++;if(_0x14c275[_0x51ceb3(0x9ce)]()){_0x1fdd88++;const _0x285175=_0x14c275[_0x51ceb3(0x24b)]();_0x285175[_0x51ceb3(0x358)]!==_0x285175[_0x51ceb3(0x812)]&&(_0x3b07c1=![]);}else _0x3b07c1=![];}}_0x3a48d0>0x0&&_0x1fdd88===_0x3a48d0&&_0x3b07c1?_0x9a4993['specialist']=0x1:_0x9a4993[_0x51ceb3(0x316)]=0x0,_0x3553f1[_0x51ceb3(0x787)](_0x5052cc,{'studentName':_0x40766b,'totalPoints':_0x474d6d,'unlockedBadges':Object[_0x51ceb3(0x790)](_0x9a4993)['filter'](_0x8ee5e=>_0x9a4993[_0x8ee5e]>0x0),'badgesCount':_0x9a4993},{'merge':!![]});});}catch(_0x187f54){console[_0x68b217(0x746)](_0x68b217(0x4d0),_0x187f54),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x1bc45a=_0xbb2a9e;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x5a99cc=JSON[_0x1bc45a(0x74a)](JSON[_0x1bc45a(0x994)](currentQuizData));currentMode=_0x1bc45a(0xa97),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView['classList']['add']('hidden'),studentView[_0x1bc45a(0x431)][_0x1bc45a(0x905)](_0x1bc45a(0x450)),studentInitialView['classList'][_0x1bc45a(0x8af)](_0x1bc45a(0x450)),studentNameSelectionView[_0x1bc45a(0x431)][_0x1bc45a(0x8af)](_0x1bc45a(0x450)),studentResultArea[_0x1bc45a(0x431)]['add'](_0x1bc45a(0x450)),studentQuizArea['classList']['remove']('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x5a99cc);}function handleResultDisplay(_0x3519b9,_0x2ee4d2,_0x4419b2,_0x23b508,_0x188de0,_0xa4f7a9){const _0xd2b915=_0xbb2a9e;if(_0x3519b9==='manual_release'){displaySubmissionConfirmation();return;}const _0x39c2b2=currentDisplayedQuiz['settings']?.['passingScore']??Math['floor'](_0xa4f7a9/0x2),_0x259597=currentDisplayedQuiz[_0xd2b915(0xa79)]?.[_0xd2b915(0x286)]??![],_0x1b858c=currentDisplayedQuiz[_0xd2b915(0xa79)]?.[_0xd2b915(0x30b)]===!![],_0x7ffa16=_0x2ee4d2<_0x39c2b2,_0x4bd4f8=_0x3519b9===_0xd2b915(0x5b1)||_0x3519b9===_0xd2b915(0xa4f);if(_0x1b858c&&_0x7ffa16&&!_0x4bd4f8){_0x3519b9==='show_results_and_answers'?displayResultsWithAnswers(_0x2ee4d2,_0x4419b2,_0x23b508,_0x188de0,_0xa4f7a9,!![]):displayLoopScreen(_0x2ee4d2,_0xa4f7a9,_0x3519b9);return;}if(_0x259597&&_0x7ffa16){startAdaptiveFlow(_0x188de0,_0x2ee4d2,_0xa4f7a9);return;}switch(_0x3519b9){case _0xd2b915(0x76a):displayResultsWithAnswers(_0x2ee4d2,_0x4419b2,_0x23b508,_0x188de0,_0xa4f7a9);break;case _0xd2b915(0x99a):displayResultsScoreOnly(_0x2ee4d2,_0x4419b2,_0x23b508,_0xa4f7a9);break;case _0xd2b915(0x392):displayPassFailOnly(_0x2ee4d2,_0xa4f7a9);break;case'half_mark_status':displayHalfMarkResult(_0x2ee4d2,_0xa4f7a9);break;case _0xd2b915(0xa4f):displayPerfectScoreResult(_0x2ee4d2,_0xa4f7a9);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x14b341){const _0x480947=_0xbb2a9e;studentReadingArea[_0x480947(0x1c3)]=_0x480947(0x9ba);const _0x1dd8a6=_0x480947(0x4c0)+_0x14b341+_0x480947(0x89f)+simpleMathPrompt+_0x480947(0x938),_0x187379={'type':_0x480947(0x7b2),'properties':{'questionText':{'type':_0x480947(0x4e5)},'options':{'type':_0x480947(0xa9c),'items':{'type':_0x480947(0x4e5)}},'correctAnswerIndex':{'type':_0x480947(0xab2)},'explanation':{'type':_0x480947(0x4e5)}},'required':[_0x480947(0x23b),'options','correctAnswerIndex','explanation']},_0x3b7be4={'type':_0x480947(0x7b2),'properties':{'topic':{'type':_0x480947(0x4e5)},'questions':{'type':_0x480947(0xa9c),'items':_0x187379}},'required':[_0x480947(0xb4a),'questions']};try{const _0x841326=await callAnalysisApi(_0x1dd8a6,_0x3b7be4);_0x841326[_0x480947(0x36e)]=!![],studentReadingArea['classList'][_0x480947(0x8af)]('hidden');const _0x15da8d={...currentDisplayedQuiz[_0x480947(0xa79)],'isAdaptive':![],'resultsDisplay':_0x480947(0x76a)};_0x841326[_0x480947(0xa79)]=_0x15da8d,displayQuizForStudent(_0x841326);}catch(_0x31288d){console[_0x480947(0x746)]('Remedial\x20quiz\x20generation\x20failed:',_0x31288d),showMessage(_0x480947(0xaff)),showView('student');}}function displayPassFailOnly(_0x5f1f05,_0x1251d6){const _0x3ba085=_0xbb2a9e,_0x3ba7bb=currentDisplayedQuiz[_0x3ba085(0xa79)]?.[_0x3ba085(0xa14)]??-0x1,_0x57d2bd=currentDisplayedQuiz[_0x3ba085(0x36e)]===!![];let _0x4ad8c4='',_0x26f81d=![];if(_0x57d2bd||_0x3ba7bb!==-0x1){_0x26f81d=_0x57d2bd?_0x5f1f05===_0x1251d6:_0x5f1f05>=_0x3ba7bb;const _0x3a98c5=_0x26f81d?_0x3ba085(0x1be):'bg-red-100\x20text-red-800',_0x50a024=_0x26f81d?'ผ่าน':_0x3ba085(0x249);_0x4ad8c4='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x3a98c5+'\x22>'+_0x50a024+_0x3ba085(0x34d);}else _0x4ad8c4=_0x3ba085(0x51d);let _0xb29ae8=_0x3ba085(0x9e8)+currentStudentName+_0x3ba085(0x449)+_0x4ad8c4+_0x3ba085(0xabe);studentResultArea[_0x3ba085(0x1c3)]=_0xb29ae8,studentResultArea[_0x3ba085(0x431)][_0x3ba085(0x905)](_0x3ba085(0x450)),studentQuizArea[_0x3ba085(0x431)][_0x3ba085(0x8af)](_0x3ba085(0x450)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x26f81d});}function cancelAdminTest(){const _0x286bfb=_0xbb2a9e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x286bfb(0x616),handleFullscreenChange),document[_0x286bfb(0x734)](_0x286bfb(0xaad),handleVisibilityChange),currentMode='admin',studentView[_0x286bfb(0x431)]['add'](_0x286bfb(0x450)),adminView['classList']['remove']('hidden'),showView(_0x286bfb(0x68d));}function setupResultScreenBackButton(_0x44b292){const _0x3c3650=_0xbb2a9e,_0x37313f={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x44b292};if(_0x37313f['isLooping']){const _0x464db5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x3c3650(0xaaf),_0x464db5),document[_0x3c3650(0x9c1)](_0x3c3650(0x32a))[_0x3c3650(0x4da)]('click',()=>{const _0x13ff73=_0x3c3650;studentResultArea['classList'][_0x13ff73(0x8af)](_0x13ff73(0x450)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0xc8a8eb=_0x3c3650(0x42f),_0x1ade2f=currentMode===_0x3c3650(0xa97),_0x332b36=_0x1ade2f?_0x3c3650(0x402):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x4a3471='';_0x37313f[_0x3c3650(0x6b4)]&&(_0x4a3471+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x2cd221=_0x37313f[_0x3c3650(0x2f4)];_0x2cd221===undefined&&(_0x2cd221=_0x37313f[_0x3c3650(0x6bd)]<_0x37313f[_0x3c3650(0x812)]);_0x2cd221&&(_0x4a3471+=_0x3c3650(0x84c));_0x4a3471+=_0x3c3650(0x81f)+_0xc8a8eb+_0x3c3650(0x1e4)+_0x332b36+_0x3c3650(0x63b);const _0x5008db=_0x3c3650(0x6b6)+_0x4a3471+_0x3c3650(0xa1c);studentResultArea[_0x3c3650(0x1d3)](_0x3c3650(0xaaf),_0x5008db),studentResultArea[_0x3c3650(0x729)](_0x3c3650(0x489))?.['addEventListener'](_0x3c3650(0x3fb),handleShowStudentRankings);const _0x3eeacd=studentResultArea[_0x3c3650(0x729)](_0x3c3650(0x3b7));_0x3eeacd&&_0x3eeacd[_0x3c3650(0x4da)](_0x3c3650(0x3fb),()=>{const _0x10957b=_0x3c3650;studentResultArea[_0x10957b(0x431)][_0x10957b(0x8af)](_0x10957b(0x450)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3c3650(0x9c1)](_0xc8a8eb)[_0x3c3650(0x4da)](_0x3c3650(0x3fb),()=>{const _0x1976cf=_0x3c3650;_0x1ade2f?(currentMode=_0x1976cf(0x817),studentView[_0x1976cf(0x431)][_0x1976cf(0x8af)](_0x1976cf(0x450)),adminView[_0x1976cf(0x431)][_0x1976cf(0x905)](_0x1976cf(0x450)),showView(_0x1976cf(0x68d))):(showView(_0x1976cf(0x7c9)),document[_0x1976cf(0x9c1)](_0x1976cf(0x3bf))[_0x1976cf(0x9b2)]='');});}function displayResultsWithAnswers(_0x1b9a8e,_0x4939ca,_0x1aad03,_0x251fb4,_0x456a98,_0x4e0d01=![]){const _0x47120c=_0xbb2a9e,_0x187331=_0x456a98>0x0?_0x1b9a8e/_0x456a98*0x64:0x0,_0x10f2c3=currentDisplayedQuiz[_0x47120c(0xa79)]?.[_0x47120c(0xa14)]??-0x1,_0x10457d=currentDisplayedQuiz['isRemedial']===!![];let _0x3e2845='';if(_0x10457d||_0x10f2c3!==-0x1){let _0x626262=_0x10457d?_0x1b9a8e===_0x456a98:_0x1b9a8e>=_0x10f2c3;const _0x2bca74=_0x626262?'bg-green-100\x20text-green-800':_0x47120c(0x986),_0x51bf0b=_0x626262?_0x47120c(0x417):_0x47120c(0x249);_0x3e2845=_0x47120c(0x4e6)+_0x2bca74+'\x22>'+_0x51bf0b+_0x47120c(0x40c);}let _0x128304='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x47120c(0x494)+_0x1b9a8e+_0x47120c(0x2b3)+_0x456a98+_0x47120c(0x381)+_0x3e2845+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x4939ca+_0x47120c(0x6dc)+_0x187331[_0x47120c(0x4f9)](0x0)+_0x47120c(0x1e2);currentDisplayedQuiz[_0x47120c(0xa17)]['forEach']((_0x4d7f4f,_0x2443da)=>{const _0x1a93f0=_0x47120c,_0x14231f=_0x251fb4[_0x2443da],_0x18baff=_0x14231f[_0x1a93f0(0x55b)],_0x21ecc2=_0x14231f[_0x1a93f0(0x6f8)],_0x2e0e77=_0x4d7f4f[_0x1a93f0(0x368)]||currentDisplayedQuiz[_0x1a93f0(0x950)];_0x128304+=_0x1a93f0(0xa69)+(_0x21ecc2?_0x1a93f0(0x2e6):_0x1a93f0(0x92b))+_0x1a93f0(0x97d)+(_0x2443da+0x1)+'.\x20'+(_0x4d7f4f[_0x1a93f0(0x8ce)]||_0x4d7f4f[_0x1a93f0(0x23b)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x2e0e77){case'matching_item':const _0x4c533b=_0x18baff||_0x1a93f0(0x618),_0x114d59=_0x4d7f4f['correctResponse'];_0x128304+=_0x1a93f0(0x221)+(!_0x21ecc2?_0x1a93f0(0x76f):'')+'\x22>'+_0x4c533b+_0x1a93f0(0x49e);!_0x21ecc2&&(_0x128304+=_0x1a93f0(0x930)+_0x114d59+_0x1a93f0(0x40c));break;case'short_answer':_0x128304+=_0x1a93f0(0x2ee)+(_0x18baff||_0x1a93f0(0x618))+_0x1a93f0(0x40c),_0x128304+=_0x1a93f0(0x974)+_0x4d7f4f[_0x1a93f0(0x26d)]+_0x1a93f0(0x40c);break;case _0x1a93f0(0xb53):_0x128304+=_0x1a93f0(0x311)+(_0x4d7f4f['correctAnswer']===!![]?_0x1a93f0(0x547):'')+'\x20'+(_0x18baff===_0x1a93f0(0x304)&&!_0x21ecc2?_0x1a93f0(0x76f):'')+_0x1a93f0(0xaaa),_0x128304+='<p\x20class=\x22'+(_0x4d7f4f[_0x1a93f0(0x2ae)]===![]?_0x1a93f0(0x547):'')+'\x20'+(_0x18baff==='false'&&!_0x21ecc2?_0x1a93f0(0x76f):'')+_0x1a93f0(0x55d);break;default:_0x128304+=_0x4d7f4f[_0x1a93f0(0x643)][_0x1a93f0(0x791)]((_0x5c0b5e,_0x569fed)=>{const _0x3787bc=_0x1a93f0;let _0x481b85='',_0x329ad8='';if(_0x569fed===_0x4d7f4f[_0x3787bc(0xad0)])_0x481b85=_0x3787bc(0x547),_0x329ad8=_0x3787bc(0xaca);else _0x569fed===_0x18baff&&(_0x481b85=_0x3787bc(0x4b4),_0x329ad8='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x3787bc(0x31e)+_0x481b85+'\x22>'+_0x329ad8+_0x5c0b5e+_0x3787bc(0xa1c);})[_0x1a93f0(0x3cf)]('');break;}_0x128304+=_0x1a93f0(0xac6)+(_0x4d7f4f[_0x1a93f0(0x324)]||_0x1a93f0(0xa94))+_0x1a93f0(0xa1c);if(!_0x21ecc2){const _0x1f7af7=_0x4d7f4f[_0x1a93f0(0x8ce)]||_0x4d7f4f[_0x1a93f0(0x23b)];_0x128304+=_0x1a93f0(0x4fc)+escape(_0x1f7af7)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x128304+=_0x1a93f0(0xa1c);}),studentResultArea[_0x47120c(0x1c3)]=_0x128304,renderEarnedBadges(_0x1aad03,_0x47120c(0xb0d)),studentResultArea[_0x47120c(0x431)][_0x47120c(0x905)](_0x47120c(0x450)),studentQuizArea[_0x47120c(0x431)][_0x47120c(0x8af)]('hidden'),setupResultScreenBackButton({'isLooping':_0x4e0d01,'score':_0x1b9a8e,'totalQuestions':_0x456a98,'showRankings':!![]});if(window['MathJax'])window[_0x47120c(0x7b6)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x3e4645,_0x5187dc,_0x5042fb,_0x5e32dd){const _0x264b65=_0xbb2a9e,_0x289da9=_0x5e32dd>0x0?_0x3e4645/_0x5e32dd*0x64:0x0,_0x5a275a=currentDisplayedQuiz[_0x264b65(0xa79)]?.[_0x264b65(0xa14)]??-0x1,_0x58dfc5=currentDisplayedQuiz[_0x264b65(0x36e)]===!![];let _0x2ef3a9='';if(_0x58dfc5||_0x5a275a!==-0x1){let _0x24801f=_0x58dfc5?_0x3e4645===_0x5e32dd:_0x3e4645>=_0x5a275a;const _0x28231c=_0x24801f?_0x264b65(0x1be):_0x264b65(0x986),_0x4c7583=_0x24801f?'ผ่าน':_0x264b65(0x249);_0x2ef3a9=_0x264b65(0x4e6)+_0x28231c+'\x22>'+_0x4c7583+'</p>';}let _0x482ae0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x264b65(0x3df)+_0x3e4645+_0x264b65(0x351)+_0x5e32dd+_0x264b65(0x381)+_0x2ef3a9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x5187dc+_0x264b65(0x617)+_0x289da9['toFixed'](0x0)+_0x264b65(0x8aa);studentResultArea[_0x264b65(0x1c3)]=_0x482ae0,renderEarnedBadges(_0x5042fb,_0x264b65(0xb0d)),studentResultArea[_0x264b65(0x431)][_0x264b65(0x905)]('hidden'),studentQuizArea[_0x264b65(0x431)][_0x264b65(0x8af)](_0x264b65(0x450)),setupResultScreenBackButton({'score':_0x3e4645,'totalQuestions':_0x5e32dd,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x27ab98=_0xbb2a9e;let _0x5e1efa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x27ab98(0x875);studentResultArea[_0x27ab98(0x1c3)]=_0x5e1efa,studentResultArea[_0x27ab98(0x431)]['remove'](_0x27ab98(0x450)),studentQuizArea[_0x27ab98(0x431)]['add'](_0x27ab98(0x450)),document[_0x27ab98(0x9c1)](_0x27ab98(0x5c3))['addEventListener'](_0x27ab98(0x3fb),()=>{const _0x5235d6=_0x27ab98;showView(_0x5235d6(0x7c9)),document[_0x5235d6(0x9c1)](_0x5235d6(0x3bf))[_0x5235d6(0x9b2)]='';});}function renderEarnedBadges(_0x3340e3,_0xcae736){const _0x2eb956=_0xbb2a9e,_0x134605=document[_0x2eb956(0x9c1)](_0xcae736);if(!_0x134605||!_0x3340e3||_0x3340e3[_0x2eb956(0xa7c)]===0x0)return;let _0x339b7f='';_0x3340e3[_0x2eb956(0x803)]((_0x445773,_0x190ce9)=>{const _0x1de1dc=_0x2eb956,_0x3d2235=Object[_0x1de1dc(0x8b5)](BADGES)[_0x1de1dc(0x748)](_0x773992=>_0x773992['id']===_0x445773);_0x3d2235&&(_0x339b7f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x190ce9*0.2+_0x1de1dc(0x9a5)+_0x3d2235[_0x1de1dc(0xa82)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3d2235[_0x1de1dc(0x29e)]+_0x1de1dc(0x2c4)+_0x3d2235[_0x1de1dc(0x98a)]+_0x1de1dc(0x8a4));}),_0x134605[_0x2eb956(0x1c3)]=_0x339b7f;}function startPresentation(_0x49bcb1){const _0x3c576d=_0xbb2a9e;currentQuizData=getShuffledQuiz(_0x49bcb1),currentPresentationSlide=0x0,presentationModal[_0x3c576d(0x29c)][_0x3c576d(0x6ae)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1cb587=_0xbb2a9e;document[_0x1cb587(0x92e)]&&document['exitFullscreen'](),presentationModal[_0x1cb587(0x29c)][_0x1cb587(0x6ae)]='none';}function renderPresentationSlide(_0x5fff48){const _0x55cb7d=_0xbb2a9e,_0x1137c6=document[_0x55cb7d(0x9c1)](_0x55cb7d(0x1dc));if(!currentQuizData||!currentQuizData[_0x55cb7d(0xa17)]||!currentQuizData[_0x55cb7d(0xa17)][_0x5fff48]){_0x1137c6[_0x55cb7d(0x1c3)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x5cac3f=currentQuizData['questions'][_0x5fff48],_0x54351b=_0x5cac3f[_0x55cb7d(0x368)]||currentQuizData['quizType'];_0x1137c6[_0x55cb7d(0x1c3)]='';let _0xaedb88=_0x55cb7d(0x681)+(_0x5cac3f[_0x55cb7d(0x84f)]?_0x55cb7d(0x3d8)+_0x5cac3f[_0x55cb7d(0x84f)]+_0x55cb7d(0xa1c):'')+_0x55cb7d(0x35e)+(_0x5fff48+0x1)+'.\x20'+(_0x5cac3f[_0x55cb7d(0x8ce)]||_0x5cac3f[_0x55cb7d(0x23b)])+_0x55cb7d(0x3a8);switch(_0x54351b){case _0x55cb7d(0xa4a):_0xaedb88+=_0x5cac3f[_0x55cb7d(0x82a)]['map'](_0x233a1c=>_0x55cb7d(0x8fa)+_0x233a1c+_0x55cb7d(0x94d))['join']('');break;case _0x55cb7d(0xb53):_0xaedb88+=_0x55cb7d(0x940),_0xaedb88+=_0x55cb7d(0xac9);break;case _0x55cb7d(0x97c):case _0x55cb7d(0x68a):_0xaedb88+=_0x55cb7d(0xb30);break;case _0x55cb7d(0xac7):case _0x55cb7d(0xad6):default:_0xaedb88+=_0x5cac3f[_0x55cb7d(0x643)][_0x55cb7d(0x791)]((_0x11e4e6,_0x130e88)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x130e88+_0x55cb7d(0x4eb)+_0x11e4e6+_0x55cb7d(0x94d))[_0x55cb7d(0x3cf)]('');break;}_0xaedb88+=_0x55cb7d(0x7bc)+(_0x5cac3f[_0x55cb7d(0x324)]||_0x55cb7d(0xa94))+_0x55cb7d(0x77f),_0x1137c6[_0x55cb7d(0x1c3)]=_0xaedb88;if(window[_0x55cb7d(0x7b6)])window[_0x55cb7d(0x7b6)][_0x55cb7d(0x987)]([_0x1137c6]);let _0x36028d=[];switch(_0x54351b){case _0x55cb7d(0xa4a):_0x36028d=_0x5cac3f[_0x55cb7d(0x82a)]||[];break;case _0x55cb7d(0xb53):_0x36028d=[_0x55cb7d(0x53e),'ไม่ใช่'];break;default:_0x36028d=_0x5cac3f['options']||[];break;}const _0x3e3f4a=document['getElementById'](_0x55cb7d(0x544));_0x3e3f4a&&(_0x3e3f4a[_0x55cb7d(0xb46)]=()=>{openScratchpad(_0x5cac3f,_0x36028d);});document['querySelectorAll'](_0x55cb7d(0x3ce))[_0x55cb7d(0x803)](_0x385934=>{const _0x4db198=_0x55cb7d;_0x385934[_0x4db198(0x4da)]('click',_0x3ae63e=>revealAnswerForPresentation(_0x5fff48,_0x3ae63e[_0x4db198(0x7c3)]));});const _0x216577=document[_0x55cb7d(0x9c1)](_0x55cb7d(0x809));_0x216577&&_0x216577[_0x55cb7d(0x4da)](_0x55cb7d(0x3fb),()=>checkShortAnswerForPresentation(_0x5fff48)),document['getElementById']('slide-counter')['textContent']=_0x55cb7d(0x23d)+(_0x5fff48+0x1)+_0x55cb7d(0xafc)+currentQuizData[_0x55cb7d(0xa17)]['length'],document['getElementById']('prev-question-btn')['disabled']=_0x5fff48===0x0,document['getElementById']('next-question-btn')[_0x55cb7d(0x9d7)]=_0x5fff48===currentQuizData['questions'][_0x55cb7d(0xa7c)]-0x1;}async function checkShortAnswerForPresentation(_0x76ec8f){const _0xe1046d=_0xbb2a9e,_0x116ebd=currentQuizData[_0xe1046d(0xa17)][_0x76ec8f],_0x2fba1a=document[_0xe1046d(0x9c1)](_0xe1046d(0x77a)),_0x4b15f1=document['getElementById']('check-presentation-answer-btn'),_0x25a33d=document[_0xe1046d(0x9c1)](_0xe1046d(0x61a)),_0x538352=document[_0xe1046d(0x9c1)](_0xe1046d(0x1c5));if(!_0x2fba1a||!_0x4b15f1||!_0x25a33d||!_0x538352)return;const _0x51eae2=_0x2fba1a['value'][_0xe1046d(0x9aa)]();if(_0x51eae2==='')return;_0x4b15f1['disabled']=!![],_0x4b15f1[_0xe1046d(0x1c3)]=_0xe1046d(0xa3b),_0x2fba1a[_0xe1046d(0x9d7)]=!![];const _0x2538c4=await gradeShortAnswer(_0x51eae2,_0x116ebd);_0x2538c4?_0x25a33d[_0xe1046d(0x1c3)]=_0xe1046d(0x2b4):_0x25a33d[_0xe1046d(0x1c3)]=_0xe1046d(0x272)+_0x116ebd[_0xe1046d(0x26d)]+')',_0x25a33d[_0xe1046d(0x431)]['remove']('hidden'),_0x538352[_0xe1046d(0x431)]['remove'](_0xe1046d(0x450)),_0x4b15f1['classList']['add'](_0xe1046d(0x450));}function revealAnswerForPresentation(_0x4086a7,_0x3f478a){const _0x175533=_0xbb2a9e,_0x5992d4=currentQuizData['questions'][_0x4086a7],_0xd06082=_0x5992d4['questionType']||currentQuizData['quizType'];document[_0x175533(0x345)](_0x175533(0x3ce))[_0x175533(0x803)](_0x2895df=>{const _0x1c4db7=_0x175533;_0x2895df[_0x1c4db7(0x9d7)]=!![],_0x2895df[_0x1c4db7(0x431)][_0x1c4db7(0x905)](_0x1c4db7(0x3cc));let _0x4a5ff2=![];if(_0xd06082===_0x1c4db7(0xad6)||_0xd06082==='fill_in_the_blank'){const _0x235224=parseInt(_0x2895df[_0x1c4db7(0x1f9)]['index']);_0x4a5ff2=_0x235224===_0x5992d4[_0x1c4db7(0xad0)];}else{if(_0xd06082===_0x1c4db7(0xb53)){const _0x251730=_0x2895df[_0x1c4db7(0x1f9)][_0x1c4db7(0x55b)]===_0x1c4db7(0x304);_0x4a5ff2=_0x251730===_0x5992d4[_0x1c4db7(0x2ae)];}else _0xd06082===_0x1c4db7(0xa4a)&&(_0x4a5ff2=_0x2895df['textContent'][_0x1c4db7(0x9aa)]()===_0x5992d4[_0x1c4db7(0x4cc)]);}_0x4a5ff2?_0x2895df[_0x1c4db7(0x431)][_0x1c4db7(0x8af)](_0x1c4db7(0xae2),_0x1c4db7(0x627),'border-green-700'):_0x2895df[_0x1c4db7(0x431)][_0x1c4db7(0x8af)]('opacity-50');}),_0x3f478a['classList']['remove'](_0x175533(0x70b));let _0x398699=![];if(_0xd06082===_0x175533(0xad6))_0x398699=parseInt(_0x3f478a[_0x175533(0x1f9)]['index'])===_0x5992d4[_0x175533(0xad0)];else{if(_0xd06082===_0x175533(0xb53))_0x398699=_0x3f478a[_0x175533(0x1f9)][_0x175533(0x55b)]===_0x175533(0x304)===_0x5992d4[_0x175533(0x2ae)];else _0xd06082==='matching_item'&&(_0x398699=_0x3f478a['textContent'][_0x175533(0x9aa)]()===_0x5992d4[_0x175533(0x4cc)]);}!_0x398699&&_0x3f478a[_0x175533(0x431)][_0x175533(0x8af)](_0x175533(0x8a6),_0x175533(0x627),'border-red-700'),document[_0x175533(0x9c1)]('presentation-explanation')[_0x175533(0x431)]['remove'](_0x175533(0x450));}function startWholeQuizTimer(_0x345ef6){const _0x4d1e87=_0xbb2a9e,_0xe8b9a=document[_0x4d1e87(0x9c1)](_0x4d1e87(0x9f5));if(!_0xe8b9a)return;const _0x373763=Date['now']()+_0x345ef6*0x3c*0x3e8;_0xe8b9a[_0x4d1e87(0x1c3)]=_0x4d1e87(0x94c);const _0x3b2ddb=document[_0x4d1e87(0x9c1)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x1b3ec8=_0x4d1e87,_0x29281d=_0x373763-Date['now']();if(_0x29281d<=0x0)clearInterval(quizTimerInterval),_0x3b2ddb['textContent']=_0x1b3ec8(0x83a),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x562232=Math['floor'](_0x29281d/0x3e8/0x3c%0x3c)[_0x1b3ec8(0x86b)]()[_0x1b3ec8(0x3ea)](0x2,'0'),_0x924483=Math[_0x1b3ec8(0x7b0)](_0x29281d/0x3e8%0x3c)[_0x1b3ec8(0x86b)]()[_0x1b3ec8(0x3ea)](0x2,'0');_0x3b2ddb[_0x1b3ec8(0x410)]=_0x562232+':'+_0x924483;}},0x3e8);}function renderPerQuestionView(){const _0x416c4a=_0xbb2a9e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2e14fe=currentDisplayedQuiz[_0x416c4a(0xa17)][currentQuestionIndex],_0x2fb472=_0x2e14fe[_0x416c4a(0x368)]||currentDisplayedQuiz[_0x416c4a(0x950)],_0x53d6b6=currentDisplayedQuiz[_0x416c4a(0xa79)]?.[_0x416c4a(0x4f1)]===!![];let _0x44f196=_0x416c4a(0xace)+(currentQuestionIndex+0x1)+_0x416c4a(0xac0)+currentDisplayedQuiz[_0x416c4a(0xa17)][_0x416c4a(0xa7c)]+_0x416c4a(0xb1a)+(currentMode===_0x416c4a(0xa97)?_0x416c4a(0xab4):'')+_0x416c4a(0x5de)+currentDisplayedQuiz['topic']+_0x416c4a(0x5e8);studentQuizArea[_0x416c4a(0x1c3)]=_0x44f196;let _0xeb3abe=_0x2e14fe[_0x416c4a(0x8ce)]||_0x2e14fe[_0x416c4a(0x23b)];_0x2e14fe['imageCode']&&(_0xeb3abe+=_0x416c4a(0x3d8)+_0x2e14fe['imageCode']+'</div>');let _0x2944f5='';switch(_0x2fb472){case'short_answer':case _0x416c4a(0x97c):_0x2944f5=_0x416c4a(0x1bc);break;case _0x416c4a(0xb53):_0x2944f5=_0x416c4a(0x8f5);break;case'matching_item':_0x2944f5=_0x416c4a(0x513)+(_0x2e14fe[_0x416c4a(0x82a)]||[])[_0x416c4a(0x791)](_0x5462a4=>_0x416c4a(0x520)+_0x5462a4+'\x22>'+_0x5462a4+_0x416c4a(0x6d2))[_0x416c4a(0x3cf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x2e14fe['options']&&(_0x2944f5=_0x2e14fe['options'][_0x416c4a(0x791)]((_0x2f4662,_0x1e29c9)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x1e29c9+_0x416c4a(0x561)+_0x1e29c9+_0x416c4a(0xa04)+_0x1e29c9+'\x22>'+_0x2f4662+_0x416c4a(0x77b))[_0x416c4a(0x3cf)](''));break;}document['getElementById'](_0x416c4a(0x4ba))[_0x416c4a(0x1c3)]=_0xeb3abe,document['getElementById'](_0x416c4a(0x3f9))[_0x416c4a(0x1c3)]=_0x2944f5;const _0x3fd1b6=currentDisplayedQuiz['settings']?.[_0x416c4a(0x4f1)]===!![],_0x34d49f=currentDisplayedQuiz[_0x416c4a(0xa79)]?.[_0x416c4a(0x9cd)]||_0x416c4a(0x524);if(_0x3fd1b6&&_0x34d49f==='checkbox'){const _0x3d7035=_0x416c4a(0x4d7);studentQuizArea[_0x416c4a(0x729)](_0x416c4a(0x72b))[_0x416c4a(0x1d3)]('beforeend',_0x3d7035);}studentQuizArea['insertAdjacentHTML'](_0x416c4a(0xaaf),_0x416c4a(0x3d2)+(currentQuestionIndex===currentDisplayedQuiz[_0x416c4a(0xa17)][_0x416c4a(0xa7c)]-0x1?'ส่งคำตอบ':_0x416c4a(0x64f))+_0x416c4a(0x254));currentMode===_0x416c4a(0xa97)&&document[_0x416c4a(0x9c1)](_0x416c4a(0x404))?.['addEventListener'](_0x416c4a(0x3fb),cancelAdminTest);document['getElementById'](_0x416c4a(0x951))[_0x416c4a(0x4da)](_0x416c4a(0x3fb),()=>handleNextQuestionInTimedMode(![]));if(window[_0x416c4a(0x7b6)])window['MathJax']['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x416c4a(0xa79)]?.['timerMode']===_0x416c4a(0x1e5)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x4b6bfa=_0xbb2a9e,_0xc3a2f3=currentDisplayedQuiz[_0x4b6bfa(0xa79)][_0x4b6bfa(0x68c)],_0x346e07=document[_0x4b6bfa(0x9c1)](_0x4b6bfa(0xb33));if(!_0x346e07)return;let _0xdc009b=_0xc3a2f3;_0x346e07[_0x4b6bfa(0x1c3)]=_0x4b6bfa(0x314)+_0xdc009b+_0x4b6bfa(0x90a);const _0x7ced94=document[_0x4b6bfa(0x9c1)](_0x4b6bfa(0x228)),_0xe63272=document[_0x4b6bfa(0x9c1)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x36547c=_0x4b6bfa;_0xdc009b--;const _0x4588d=_0xdc009b/_0xc3a2f3*0x64;_0x7ced94[_0x36547c(0x29c)][_0x36547c(0x7e7)]=_0x4588d+'%',_0xe63272[_0x36547c(0x410)]=_0xdc009b,_0xdc009b<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x36547c(0x784)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x597403=![]){const _0x5f31cd=_0xbb2a9e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0xf45b99=null,_0x12d1aa=![];if(!_0x597403){const _0x2cc647=currentDisplayedQuiz[_0x5f31cd(0xa17)][currentQuestionIndex],_0x41170c=_0x2cc647[_0x5f31cd(0x368)]||currentDisplayedQuiz[_0x5f31cd(0x950)];if(_0x41170c===_0x5f31cd(0x68a)||_0x41170c==='fill_in_no_choices')_0xf45b99=document[_0x5f31cd(0x729)](_0x5f31cd(0x391))?.[_0x5f31cd(0x9b2)][_0x5f31cd(0x9aa)]()??'';else{if(_0x41170c==='matching_item')_0xf45b99=document[_0x5f31cd(0x729)](_0x5f31cd(0x72c))?.[_0x5f31cd(0x9b2)]??'';else{const _0x3afd22=document[_0x5f31cd(0x729)](_0x5f31cd(0x1ec));_0x3afd22&&(_0xf45b99=_0x3afd22[_0x5f31cd(0x9b2)]);}}if(_0xf45b99===null||_0xf45b99===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x7f5fce=currentDisplayedQuiz[_0x5f31cd(0xa79)]?.[_0x5f31cd(0x4f1)]===!![],_0x4f30a9=currentDisplayedQuiz[_0x5f31cd(0xa79)]?.['confidenceMode']||'checkbox';if(_0x7f5fce&&_0x4f30a9===_0x5f31cd(0x4e7)){document[_0x5f31cd(0x9c1)]('confidence-modal')[_0x5f31cd(0x1f9)][_0x5f31cd(0x772)]=_0x5f31cd(0xa67),document['getElementById'](_0x5f31cd(0x843))[_0x5f31cd(0x9b2)]=_0xf45b99,document[_0x5f31cd(0x9c1)](_0x5f31cd(0x336))[_0x5f31cd(0x431)][_0x5f31cd(0x905)](_0x5f31cd(0x450));return;}const _0x45eaa4=document[_0x5f31cd(0x9c1)](_0x5f31cd(0xa89));_0x45eaa4&&(_0x12d1aa=_0x45eaa4[_0x5f31cd(0x6a4)]);}const _0x1557bc={'answer':_0xf45b99,'wasConfident':_0x12d1aa};proceedToNextQuestion(_0x1557bc);}async function finalizePerQuestionQuiz(){const _0x13ef43=_0xbb2a9e,_0x46f1af=currentDisplayedQuiz[_0x13ef43(0xa17)]['some'](_0x36f1f7=>_0x36f1f7[_0x13ef43(0x368)]===_0x13ef43(0x68a));_0x46f1af?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x13ef43(0x5df));const _0x585490=currentQuizData['id'],_0x554b7d=doc(db,_0x13ef43(0x44d)+appId+_0x13ef43(0x3b6)+_0x585490+'/submissions',currentStudentName),_0x1f9a5a=await getDoc(_0x554b7d),_0xdc0072=_0x1f9a5a[_0x13ef43(0x9ce)]()?_0x1f9a5a[_0x13ef43(0x24b)]():{},_0x23c011=_0xdc0072[_0x13ef43(0x405)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x23c011);}function getResultsFilename(){const _0x3582e0=_0xbb2a9e,_0x3148c9=document[_0x3582e0(0x9c1)](_0x3582e0(0xacf))[_0x3582e0(0x410)][_0x3582e0(0x99c)](/[^a-z0-9]/gi,'_')[_0x3582e0(0x57e)]();return _0x3582e0(0x8ca)+(_0x3148c9||_0x3582e0(0x71e));}function exportResultsAsImage(){const _0x245f2c=_0xbb2a9e,_0x299033=document[_0x245f2c(0x9c1)](_0x245f2c(0x56f));showMessage(_0x245f2c(0x9f8)),html2canvas(_0x299033)['then'](_0x16238d=>{const _0x1fd430=_0x245f2c,_0x18105b=document['createElement']('a');_0x18105b['download']=getResultsFilename()+_0x1fd430(0x794),_0x18105b[_0x1fd430(0x7ac)]=_0x16238d[_0x1fd430(0x8d8)](_0x1fd430(0x323)),_0x18105b[_0x1fd430(0x3fb)](),messageModal['classList'][_0x1fd430(0x8af)](_0x1fd430(0x450));});}function exportResultsAsPDF(){const _0x3bf42d=_0xbb2a9e,{jsPDF:_0x344eb1}=window[_0x3bf42d(0x9d5)],_0x3af5e8=new _0x344eb1();_0x3af5e8['setFont']('helvetica',_0x3bf42d(0x3a9)),_0x3af5e8[_0x3bf42d(0x7c4)]({'html':_0x3bf42d(0x81c)}),_0x3af5e8[_0x3bf42d(0x53f)](getResultsFilename()+_0x3bf42d(0x329));}function exportResultsAsWord(){const _0xc63872=_0xbb2a9e,_0x226a42='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0xc63872(0x744)+_0xc63872(0x59a)+_0xc63872(0x60c),_0x2c3d0a=_0xc63872(0x799),_0x356f32=_0x226a42+document[_0xc63872(0x9c1)](_0xc63872(0x56f))[_0xc63872(0x1c3)]+_0x2c3d0a,_0x4ed2ce=_0xc63872(0x9e7)+encodeURIComponent(_0x356f32),_0x76c3ba=document['createElement']('a');document[_0xc63872(0xad8)][_0xc63872(0x4de)](_0x76c3ba),_0x76c3ba[_0xc63872(0x7ac)]=_0x4ed2ce,_0x76c3ba[_0xc63872(0x6ca)]=getResultsFilename()+_0xc63872(0x429),_0x76c3ba['click'](),document[_0xc63872(0xad8)][_0xc63872(0x5d3)](_0x76c3ba);}function exportResultsAsExcel(){const _0x3be088=_0xbb2a9e,_0x53e0f4=document[_0x3be088(0x9c1)]('results-table');let _0x385a0c=[];for(let _0x4bb5e4=0x0;_0x4bb5e4<_0x53e0f4[_0x3be088(0x92d)][_0x3be088(0xa7c)];_0x4bb5e4++){let _0x19072d=[],_0x46df86=_0x53e0f4[_0x3be088(0x92d)][_0x4bb5e4]['querySelectorAll']('td,\x20th');for(let _0x37156d=0x0;_0x37156d<_0x46df86[_0x3be088(0xa7c)];_0x37156d++){_0x19072d[_0x3be088(0x40b)]('\x22'+_0x46df86[_0x37156d][_0x3be088(0x506)][_0x3be088(0x99c)](/"/g,'\x22\x22')+'\x22');}_0x385a0c[_0x3be088(0x40b)](_0x19072d[_0x3be088(0x3cf)](','));}const _0x2cc850=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x385a0c['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x58133a=document[_0x3be088(0x576)]('a');_0x58133a[_0x3be088(0x7ac)]=URL[_0x3be088(0x95c)](_0x2cc850),_0x58133a[_0x3be088(0x6ca)]=getResultsFilename()+_0x3be088(0x54c),_0x58133a[_0x3be088(0x3fb)]();}function exportTableAsImage(_0x28abd1,_0x4f8d41){const _0x1a08cc=_0xbb2a9e,_0x885b0b=document[_0x1a08cc(0x9c1)](_0x28abd1);if(!_0x885b0b){showMessage(_0x1a08cc(0x2bf));return;}showMessage(_0x1a08cc(0x9f8)),html2canvas(_0x885b0b)[_0x1a08cc(0x2c1)](_0x1f898c=>{const _0x1d851d=_0x1a08cc,_0x2bd337=document[_0x1d851d(0x576)]('a');_0x2bd337['download']=_0x4f8d41+_0x1d851d(0x794),_0x2bd337[_0x1d851d(0x7ac)]=_0x1f898c['toDataURL'](_0x1d851d(0x323)),_0x2bd337['click'](),messageModal[_0x1d851d(0x431)][_0x1d851d(0x8af)]('hidden');});}function exportTableAsPDF(_0x58bb41,_0x44a5a6){const _0x948aae=_0xbb2a9e,{jsPDF:_0x416380}=window[_0x948aae(0x9d5)],_0xf3de81=new _0x416380();_0xf3de81[_0x948aae(0xaec)](_0x948aae(0xa55),_0x948aae(0x3a9)),_0xf3de81['autoTable']({'html':'#'+_0x58bb41}),_0xf3de81[_0x948aae(0x53f)](_0x44a5a6+_0x948aae(0x329));}function exportTableAsWord(_0x29e84f,_0x16a58e){const _0x12eb85=_0xbb2a9e,_0x446335=document[_0x12eb85(0x9c1)](_0x29e84f);if(!_0x446335){showMessage(_0x12eb85(0x2bf));return;}const _0x38870a=_0x12eb85(0x2ba)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x12eb85(0x60c),_0x8b8979=_0x12eb85(0x799),_0x2d3ace=_0x38870a+_0x446335[_0x12eb85(0x1c3)]+_0x8b8979,_0x43f1ba=_0x12eb85(0x9e7)+encodeURIComponent(_0x2d3ace),_0x1b7b14=document['createElement']('a');document[_0x12eb85(0xad8)][_0x12eb85(0x4de)](_0x1b7b14),_0x1b7b14['href']=_0x43f1ba,_0x1b7b14[_0x12eb85(0x6ca)]=_0x16a58e+_0x12eb85(0x429),_0x1b7b14['click'](),document[_0x12eb85(0xad8)][_0x12eb85(0x5d3)](_0x1b7b14);}function exportTableAsExcel(_0x545c38,_0x56f778){const _0x52b278=_0xbb2a9e,_0x143fea=document[_0x52b278(0x9c1)](_0x545c38);if(!_0x143fea){showMessage(_0x52b278(0x2bf));return;}let _0x14dbab=[];for(let _0x39b081=0x0;_0x39b081<_0x143fea[_0x52b278(0x92d)][_0x52b278(0xa7c)];_0x39b081++){let _0x482613=[],_0x572e87=_0x143fea[_0x52b278(0x92d)][_0x39b081][_0x52b278(0x345)](_0x52b278(0x331));for(let _0x46544f=0x0;_0x46544f<_0x572e87[_0x52b278(0xa7c)];_0x46544f++){_0x482613[_0x52b278(0x40b)]('\x22'+_0x572e87[_0x46544f][_0x52b278(0x506)][_0x52b278(0x99c)](/"/g,'\x22\x22')+'\x22');}_0x14dbab[_0x52b278(0x40b)](_0x482613[_0x52b278(0x3cf)](','));}const _0x422a37=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x14dbab[_0x52b278(0x3cf)]('\x0a')],{'type':_0x52b278(0x62c)}),_0x288d3d=document['createElement']('a');_0x288d3d[_0x52b278(0x7ac)]=URL[_0x52b278(0x95c)](_0x422a37),_0x288d3d[_0x52b278(0x6ca)]=_0x56f778+'.csv',_0x288d3d[_0x52b278(0x3fb)]();}function renderAnalytics(_0x5f3a10,_0x4a1582){const _0x3ed0ec=_0xbb2a9e,_0x471111=_0x4a1582['filter'](_0x5ccd30=>_0x5ccd30[_0x3ed0ec(0x419)]!==undefined),_0x2149ea=currentProjectData['students'][_0x3ed0ec(0xa7c)],_0x5adfc8=_0x471111[_0x3ed0ec(0xa7c)],_0x1beae9=_0x2149ea-_0x5adfc8,_0xe6857d=_0x2149ea>0x0?_0x5adfc8/_0x2149ea*0x64:0x0,_0x55f389=_0x471111[_0x3ed0ec(0x791)](_0x13b14e=>_0x13b14e[_0x3ed0ec(0x419)]),_0x1f71ef=_0x55f389[_0x3ed0ec(0xa7c)]>0x0?_0x55f389['reduce']((_0xfbd027,_0x56645c)=>_0xfbd027+_0x56645c,0x0)/_0x55f389[_0x3ed0ec(0xa7c)]:0x0,_0x5f36ea=_0x5f3a10[_0x3ed0ec(0xa17)][_0x3ed0ec(0xa7c)],_0x459f40=_0x5f36ea>0x0?_0x1f71ef/_0x5f36ea*0x64:0x0,_0x1e8af6=calculateItemAnalysis(_0x5f3a10,_0x471111),_0xb0539d=calculateReliabilityKR20(_0x5f3a10,_0x471111,_0x1e8af6[_0x3ed0ec(0x91b)]);let _0x80953c='';if(_0xb0539d!==null){let _0x2f2d7b='';if(_0xb0539d>=0.9)_0x2f2d7b=_0x3ed0ec(0x586);else{if(_0xb0539d>=0.8)_0x2f2d7b='ดีมาก';else{if(_0xb0539d>=0.7)_0x2f2d7b='ดี';else{if(_0xb0539d>=0.6)_0x2f2d7b='พอใช้';else _0x2f2d7b=_0x3ed0ec(0x902);}}}_0x80953c=_0x3ed0ec(0xa7d)+_0xb0539d[_0x3ed0ec(0x4f9)](0x2)+_0x3ed0ec(0x79f)+_0x2f2d7b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x3ef0ed=document['getElementById'](_0x3ed0ec(0x39f));_0x3ef0ed[_0x3ed0ec(0x1c3)]=_0x3ed0ec(0x8ba)+_0xe6857d[_0x3ed0ec(0x4f9)](0x0)+_0x3ed0ec(0xa30)+_0x5adfc8+'/'+_0x2149ea+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x1f71ef[_0x3ed0ec(0x4f9)](0x2)+_0x3ed0ec(0x22f)+_0x459f40[_0x3ed0ec(0x4f9)](0x0)+_0x3ed0ec(0xb2f)+(_0x55f389['length']>0x0?Math['max'](..._0x55f389):_0x3ed0ec(0x605))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x55f389[_0x3ed0ec(0xa7c)]>0x0?Math[_0x3ed0ec(0x2e8)](..._0x55f389):_0x3ed0ec(0x605))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x80953c+_0x3ed0ec(0x938);const _0x55fcf9=document[_0x3ed0ec(0x9c1)](_0x3ed0ec(0xa0a));_0x55fcf9&&_0x55fcf9[_0x3ed0ec(0x905)]();const _0x310b12=_0x3ed0ec(0x229);_0x3ef0ed[_0x3ed0ec(0x1d3)](_0x3ed0ec(0x685),_0x310b12);const _0x38b6c6=currentProjectData[_0x3ed0ec(0x3dc)]||[];renderSubmissionChart(_0x5adfc8,_0x1beae9,_0x471111,_0x38b6c6),renderScoreDistributionChart(_0x471111,_0x5f36ea),renderQuestionAnalytics(_0x5f3a10,_0x471111,_0x38b6c6),renderInterestingStats(_0x5f3a10,_0x471111);}async function handleExportLessonPDF(){const _0x44fc8f=_0xbb2a9e,_0x17471c=document[_0x44fc8f(0x9c1)](_0x44fc8f(0x2d0)),_0x32605b=document[_0x44fc8f(0x9c1)](_0x44fc8f(0xb01))['textContent'],_0x5b7ab0=window[_0x44fc8f(0x354)]('',_0x44fc8f(0x72f)),_0x471dbb=_0x44fc8f(0x26b)+_0x32605b+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17471c[_0x44fc8f(0x1c3)]+_0x44fc8f(0x5b9);_0x5b7ab0[_0x44fc8f(0x6f3)][_0x44fc8f(0x720)](_0x471dbb),_0x5b7ab0[_0x44fc8f(0x6f3)]['close'](),_0x5b7ab0['onload']=function(){setTimeout(()=>{const _0x2fe783=_0x1a06;_0x5b7ab0[_0x2fe783(0x4c9)]();},0x5dc);};}function renderInterestingStats(_0x725e67,_0x477cf8){const _0x16006d=_0xbb2a9e,_0x35d82c=document[_0x16006d(0x9c1)](_0x16006d(0xa8b));if(!_0x35d82c)return;if(_0x477cf8[_0x16006d(0xa7c)]===0x0){_0x35d82c[_0x16006d(0x1c3)]=_0x16006d(0x71c);return;}const _0x33dff0=_0x725e67[_0x16006d(0xa17)]['map']((_0x46bef1,_0x5dc788)=>({'index':_0x5dc788+0x1,'text':_0x46bef1[_0x16006d(0x23b)]||_0x46bef1[_0x16006d(0x8ce)],'correct':0x0}));_0x477cf8[_0x16006d(0x803)](_0xb21d6a=>{const _0x33ba3c=_0x16006d,_0x2a42a1=_0xb21d6a[_0x33ba3c(0x405)][_0xb21d6a[_0x33ba3c(0x405)]['length']-0x1];_0x2a42a1&&_0x2a42a1['answers']&&_0x2a42a1[_0x33ba3c(0x219)]['forEach'](_0xf31fa2=>{const _0x45a173=_0x33ba3c,_0xda216b=_0x33dff0[_0x45a173(0x748)](_0x471035=>_0x471035[_0x45a173(0x7e8)]===_0xf31fa2['originalQuestionText']);_0xf31fa2[_0x45a173(0x6f8)]&&_0xda216b&&_0xda216b['correct']++;});});const _0x17c39c=_0x477cf8[_0x16006d(0xa7c)],_0x4fc0c1=Math[_0x16006d(0xaa3)](..._0x33dff0['map'](_0x267df6=>_0x267df6[_0x16006d(0x5a8)])),_0x2ed846=Math['min'](..._0x33dff0['map'](_0x519b15=>_0x519b15[_0x16006d(0x5a8)])),_0x515845=_0x33dff0[_0x16006d(0x51b)](_0x5e02de=>_0x5e02de['correct']===_0x4fc0c1)['map'](_0xee609d=>_0x16006d(0x79b)+_0xee609d['index']),_0xdd16b5=_0x33dff0[_0x16006d(0x51b)](_0x1ec3ae=>_0x1ec3ae['correct']===_0x2ed846)[_0x16006d(0x791)](_0x556eab=>_0x16006d(0x79b)+_0x556eab['index']),_0x3e12f2=_0x477cf8[_0x16006d(0x415)]((_0x330e54,_0x5aba6c)=>_0x5aba6c[_0x16006d(0x419)]-_0x330e54[_0x16006d(0x419)])[_0x16006d(0x51b)]((_0xb6ede4,_0x403407,_0x32b9ac)=>_0xb6ede4['latestScore']===_0x32b9ac[0x0]['latestScore']),_0x4e666f=_0x477cf8[_0x16006d(0x415)]((_0x2cb8ba,_0x253ae3)=>_0x2cb8ba[_0x16006d(0x419)]-_0x253ae3[_0x16006d(0x419)])['filter']((_0x39b898,_0x3a74ce,_0x595d6b)=>_0x39b898['latestScore']===_0x595d6b[0x0][_0x16006d(0x419)]),_0x1b538d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x515845[_0x16006d(0x3cf)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x4fc0c1+_0x16006d(0xafc)+_0x17c39c+_0x16006d(0x6dd)+_0xdd16b5['join'](',\x20')+_0x16006d(0x3c8)+(_0x17c39c-_0x2ed846)+_0x16006d(0xafc)+_0x17c39c+_0x16006d(0x50d)+_0x3e12f2['map'](_0x28967b=>_0x28967b['studentName'])[_0x16006d(0x3cf)](',\x20')+_0x16006d(0x8a9)+_0x3e12f2[0x0][_0x16006d(0x419)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x4e666f['map'](_0x1f1fe8=>_0x1f1fe8[_0x16006d(0x711)])[_0x16006d(0x3cf)](',\x20')+_0x16006d(0x8a9)+_0x4e666f[0x0][_0x16006d(0x419)]+_0x16006d(0x1b4);_0x35d82c[_0x16006d(0x1c3)]=_0x1b538d;}function renderSubmissionChart(_0x28b497,_0x456b42,_0x127716,_0x39337f){const _0x2d9bd9=_0xbb2a9e,_0x5e539e=document[_0x2d9bd9(0x9c1)](_0x2d9bd9(0x958))[_0x2d9bd9(0x55e)]('2d'),_0x45bc3c=_0x127716[_0x2d9bd9(0x791)](_0x142a7c=>_0x142a7c['studentName']),_0x2cf7d9=_0x39337f[_0x2d9bd9(0x51b)](_0x27891c=>!_0x45bc3c[_0x2d9bd9(0x913)](_0x27891c));chartInstances[_0x2d9bd9(0xa36)]&&chartInstances['submission'][_0x2d9bd9(0x5a1)](),chartInstances[_0x2d9bd9(0xa36)]=new Chart(_0x5e539e,{'type':_0x2d9bd9(0x712),'data':{'labels':['ส่งแล้ว',_0x2d9bd9(0x79d)],'datasets':[{'data':[_0x28b497,_0x456b42],'backgroundColor':['#10B981',_0x2d9bd9(0xa0b)],'borderColor':['#ffffff',_0x2d9bd9(0x773)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2d9bd9(0x9ff)},'tooltip':{'callbacks':{'label':function(_0x123c5f){const _0x454a13=_0x2d9bd9;let _0x272892=_0x123c5f[_0x454a13(0x3da)]||'';return _0x272892&&(_0x272892+=':\x20'),_0x272892+=_0x123c5f['raw'],_0x272892;},'afterLabel':function(_0x4497a5){const _0x129957=_0x2d9bd9;let _0x39d21a;return _0x4497a5[_0x129957(0x9c4)]===0x0?_0x39d21a=_0x45bc3c:_0x39d21a=_0x2cf7d9,_0x39d21a[_0x129957(0xa7c)]>0x0?_0x39d21a[_0x129957(0x3cf)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x4eb767,_0x83a977){const _0x418d40=_0xbb2a9e,_0x430cc7=document['getElementById'](_0x418d40(0x5ed))[_0x418d40(0x55e)]('2d'),_0x1c493a={};for(let _0x3ed112=0x0;_0x3ed112<=_0x83a977;_0x3ed112++){_0x1c493a[_0x3ed112]=0x0;}_0x4eb767['forEach'](_0x41b7f1=>{const _0x29f014=_0x418d40;_0x1c493a[_0x41b7f1[_0x29f014(0x419)]]!==undefined&&_0x1c493a[_0x41b7f1[_0x29f014(0x419)]]++;}),chartInstances['score']&&chartInstances['score'][_0x418d40(0x5a1)](),chartInstances[_0x418d40(0x6bd)]=new Chart(_0x430cc7,{'type':_0x418d40(0x706),'data':{'labels':Object[_0x418d40(0x790)](_0x1c493a),'datasets':[{'label':_0x418d40(0xb1d),'data':Object[_0x418d40(0x8b5)](_0x1c493a),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x418d40(0x4b3),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x418d40(0x92f)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0xecc6be){const _0x50d859=_0x418d40,_0x30f045=_0xecc6be['label'],_0x40ce63=_0x4eb767[_0x50d859(0x51b)](_0x2089b7=>_0x2089b7[_0x50d859(0x419)]==_0x30f045)[_0x50d859(0x791)](_0x3406ae=>_0x3406ae[_0x50d859(0x711)]);return _0x40ce63[_0x50d859(0xa7c)]>0x0?_0x40ce63[_0x50d859(0x3cf)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x520548,_0x9ccf21,_0x9e7882){const _0xe728d0=_0xbb2a9e,_0x1c0cd6=document['getElementById']('question-analytics-container');if(_0x9e7882[_0xe728d0(0xa7c)]===0x0){_0x1c0cd6[_0xe728d0(0x1c3)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x35212f=calculateItemAnalysis(_0x520548,_0x9ccf21),_0x4d4639=calculateDistractorAnalysis(_0x520548,_0x9ccf21);let _0x38ecd5='';_0x35212f[_0xe728d0(0x7e4)]&&(_0x38ecd5=_0xe728d0(0x5ca)+_0x35212f[_0xe728d0(0x7e4)][_0xe728d0(0x901)][_0xe728d0(0xa7c)]+_0xe728d0(0x321)+_0x35212f[_0xe728d0(0x7e4)][_0xe728d0(0x901)][_0xe728d0(0x791)](_0x28c079=>_0xe728d0(0x6ec)+_0x28c079+_0xe728d0(0x31b))[_0xe728d0(0x3cf)]('')+_0xe728d0(0x2c0)+_0x35212f['overallGroups'][_0xe728d0(0x84a)][_0xe728d0(0xa7c)]+_0xe728d0(0x321)+_0x35212f[_0xe728d0(0x7e4)][_0xe728d0(0x84a)]['map'](_0x27697d=>'<li>'+_0x27697d+_0xe728d0(0x31b))['join']('')+_0xe728d0(0x6f6));let _0x2f1679='';const _0x41cc03=_0x9ccf21[_0xe728d0(0x791)](_0x3f5b6d=>_0x3f5b6d[_0xe728d0(0x711)]),_0x2a70ca=_0x376a08=>{const _0x345f88=_0xe728d0;if(_0x376a08>=0.8)return _0x345f88(0xafe);if(_0x376a08>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x376a08>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x376a08>=0.2)return _0x345f88(0x751);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x3c97b9=_0x26922e=>{const _0x31e229=_0xe728d0;if(_0x26922e<0x0)return _0x31e229(0x947);if(_0x26922e>=0.4)return _0x31e229(0xa5a);if(_0x26922e>=0.3)return _0x31e229(0xb18);if(_0x26922e>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x246a40=_0x2942b0=>{const _0x32aa6b=_0xe728d0,_0x2ead80=_0x2942b0[_0x32aa6b(0x4f9)](0x0);if(parseFloat(_0x2ead80)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x2ead80+_0x32aa6b(0x2de);if(_0x2942b0>=0x32)return _0x32aa6b(0x8e2)+_0x2ead80+'%</span>';return _0x32aa6b(0x5b7)+_0x2ead80+_0x32aa6b(0x2de);};_0x520548[_0xe728d0(0xa17)][_0xe728d0(0x803)]((_0xd58b60,_0x400153)=>{const _0x1d6267=_0xe728d0,_0x28bf74=_0x35212f[_0x1d6267(0x91b)][_0x400153],_0x555fcf=_0x4d4639[_0x400153],_0x5dcc41=_0xd58b60[_0x1d6267(0x8ce)]||_0xd58b60[_0x1d6267(0x23b)]||_0xd58b60[_0x1d6267(0x508)];let _0x35d7f3=0x0;const _0x4a7cfd=[],_0x4454b9=[];_0x9ccf21[_0x1d6267(0x803)](_0x24a6f5=>{const _0x4373b8=_0x1d6267,_0x1ad57e=_0x24a6f5[_0x4373b8(0x405)][_0x24a6f5[_0x4373b8(0x405)][_0x4373b8(0xa7c)]-0x1];if(_0x1ad57e&&_0x1ad57e['answers']){const _0x266339=_0x1ad57e['answers'][_0x4373b8(0x748)](_0x6b23e4=>_0x6b23e4['originalQuestionText']===_0x5dcc41)??_0x1ad57e['answers'][_0x400153]??null;_0x266339&&(_0x266339[_0x4373b8(0x6f8)]?(_0x35d7f3++,_0x4a7cfd[_0x4373b8(0x40b)](_0x24a6f5[_0x4373b8(0x711)])):_0x4454b9['push'](_0x24a6f5[_0x4373b8(0x711)]));}});const _0x6e90af=_0x9ccf21[_0x1d6267(0xa7c)]>0x0?_0x35d7f3/_0x9ccf21[_0x1d6267(0xa7c)]*0x64:0x0,_0x48a4af=_0x9e7882[_0x1d6267(0x51b)](_0x3fa6bd=>!_0x41cc03['includes'](_0x3fa6bd)),_0x4acbaa=_0x28bf74?_0x1d6267(0xa77)+_0x28bf74['p']['toFixed'](0x2)+_0x1d6267(0xa96)+_0x2a70ca(_0x28bf74['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x28bf74['r'][_0x1d6267(0x4f9)](0x2)+_0x1d6267(0xa96)+_0x3c97b9(_0x28bf74['r'])+_0x1d6267(0x8d7)+_0x246a40(_0x6e90af)+_0x1d6267(0xab7):'';let _0x29220c='';_0x555fcf&&(_0x29220c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object['keys'](_0x555fcf)[_0x1d6267(0x791)](_0x373d7d=>{const _0x33495f=_0x1d6267,_0x31cb7c=_0x555fcf[_0x373d7d],_0x5bb956=parseInt(_0x373d7d)===_0xd58b60[_0x33495f(0xad0)],_0x53bd40=!_0x5bb956&&_0x31cb7c[_0x33495f(0x9f4)]>_0x31cb7c[_0x33495f(0x499)];return _0x33495f(0x7ed)+(_0x5bb956?_0x33495f(0x7f4):'')+_0x33495f(0x2ec)+(_0x5bb956?'✔\x20':'')+_0x31cb7c[_0x33495f(0x7e8)]+_0x33495f(0x6c8)+_0x31cb7c[_0x33495f(0x499)]+_0x33495f(0x6c8)+_0x31cb7c[_0x33495f(0x9f4)]+'\x20'+(_0x53bd40?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x31cb7c['total']+'</td></tr>';})[_0x1d6267(0x3cf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x25d391='';_0x28bf74&&_0x28bf74[_0x1d6267(0xa70)]&&(_0x25d391=_0x1d6267(0x69b)+_0x28bf74[_0x1d6267(0xa70)][_0x1d6267(0xa7c)]+_0x1d6267(0x48b)+_0x28bf74[_0x1d6267(0xa70)][_0x1d6267(0x791)](_0x2819b8=>_0x1d6267(0x6ec)+(_0x2819b8[_0x1d6267(0x6f8)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x1d6267(0x1fc))+'\x20'+_0x2819b8[_0x1d6267(0x98a)]+_0x1d6267(0x31b))[_0x1d6267(0x3cf)]('')+_0x1d6267(0x836)+_0x28bf74[_0x1d6267(0x788)][_0x1d6267(0xa7c)]+_0x1d6267(0x48b)+_0x28bf74['lowerGroupResponders'][_0x1d6267(0x791)](_0x1628b1=>_0x1d6267(0x6ec)+(_0x1628b1[_0x1d6267(0x6f8)]?_0x1d6267(0x7de):_0x1d6267(0x1fc))+'\x20'+_0x1628b1[_0x1d6267(0x98a)]+_0x1d6267(0x31b))[_0x1d6267(0x3cf)]('')+_0x1d6267(0x30d)),_0x2f1679+=_0x1d6267(0x1b1)+(_0x400153+0x1)+':\x20'+_0x5dcc41+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x4acbaa+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x5dcc41+_0x1d6267(0x251)+_0x35d7f3+'\x20จาก\x20'+_0x9ccf21['length']+_0x1d6267(0x6f9)+_0x6e90af[_0x1d6267(0x4f9)](0x0)+_0x1d6267(0x227)+_0x4a7cfd['length']+_0x1d6267(0x696)+(_0x4a7cfd[_0x1d6267(0xa7c)]>0x0?_0x4a7cfd[_0x1d6267(0x3cf)](',\x20'):_0x1d6267(0x4a7))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x4454b9[_0x1d6267(0xa7c)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4454b9[_0x1d6267(0xa7c)]>0x0?_0x4454b9[_0x1d6267(0x3cf)](',\x20'):_0x1d6267(0x4a7))+_0x1d6267(0x2a7)+_0x48a4af[_0x1d6267(0xa7c)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x48a4af[_0x1d6267(0xa7c)]>0x0?_0x48a4af['join'](',\x20'):_0x1d6267(0x4a7))+_0x1d6267(0x8c5)+_0x29220c+_0x1d6267(0x433)+_0x25d391+_0x1d6267(0x7a7);}),_0x1c0cd6['innerHTML']=_0x38ecd5+_0x2f1679;try{window[_0xe728d0(0x7b6)]&&MathJax[_0xe728d0(0x987)]&&MathJax[_0xe728d0(0x987)]([_0x1c0cd6]);}catch(_0x2a0a3c){console[_0xe728d0(0x746)]('MathJax\x20typeset\x20error\x20(analytics):',_0x2a0a3c);}}function calculateDistractorAnalysis(_0x43e038,_0xa54bb){const _0x325d14=_0xbb2a9e,_0x5be09c={};if(_0xa54bb[_0x325d14(0xa7c)]<0x2)return _0x5be09c;const _0x4c5c56=[..._0xa54bb][_0x325d14(0x415)]((_0x2c04dd,_0x390eda)=>{const _0x3c46d6=_0x325d14,_0x117e18=_0x390eda[_0x3c46d6(0x419)]-_0x2c04dd[_0x3c46d6(0x419)];if(_0x117e18!==0x0)return _0x117e18;const _0x51467f=_0x2c04dd[_0x3c46d6(0x405)]?.[_0x3c46d6(0xa7c)]||0x1,_0x2113bb=_0x390eda[_0x3c46d6(0x405)]?.[_0x3c46d6(0xa7c)]||0x1,_0x45f9f7=_0x51467f-_0x2113bb;if(_0x45f9f7!==0x0)return _0x45f9f7;const _0x16caad=new Date(_0x2c04dd[_0x3c46d6(0x496)]),_0x145741=new Date(_0x390eda[_0x3c46d6(0x496)]),_0x3f62f4=_0x16caad-_0x145741;if(_0x3f62f4!==0x0)return _0x3f62f4;return _0x2c04dd['studentName'][_0x3c46d6(0x222)](_0x390eda[_0x3c46d6(0x711)],'th');}),_0x387432=_0x4c5c56['length'],_0x17e05c=Math[_0x325d14(0xaa3)](0x1,Math[_0x325d14(0x7b0)](_0x387432*0.33)),_0x166f26=_0x4c5c56[_0x325d14(0x55c)](0x0,_0x17e05c),_0xdfd94c=_0x4c5c56['slice'](-_0x17e05c);return _0x43e038[_0x325d14(0xa17)][_0x325d14(0x803)]((_0x15405f,_0x25326a)=>{const _0x4853e3=_0x325d14;if(_0x15405f[_0x4853e3(0x368)]!=='multiple_choice'||!_0x15405f['options'])return;const _0x1b7175=_0x15405f[_0x4853e3(0x23b)],_0x3ab697={};_0x15405f['options'][_0x4853e3(0x803)]((_0x2daab0,_0x4479b2)=>{_0x3ab697[_0x4479b2]={'text':_0x2daab0,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x4c5c56[_0x4853e3(0x803)](_0x2d0512=>{const _0x40cc5f=_0x4853e3,_0x1dddea=_0x2d0512['attempts'][_0x2d0512[_0x40cc5f(0x405)][_0x40cc5f(0xa7c)]-0x1],_0x4d146d=_0x1dddea['answers']['find'](_0x3e6c83=>_0x3e6c83[_0x40cc5f(0x5f1)]===_0x1b7175);if(_0x4d146d&&_0x4d146d[_0x40cc5f(0x55b)]!==null){const _0x112588=_0x15405f[_0x40cc5f(0x643)][_0x40cc5f(0x4d1)](_0x3ae7a1=>_0x3ae7a1===_0x4d146d[_0x40cc5f(0x86e)]);_0x112588!==-0x1&&_0x3ab697[_0x112588]&&(_0x3ab697[_0x112588][_0x40cc5f(0x224)]++,_0x166f26['includes'](_0x2d0512)&&_0x3ab697[_0x112588][_0x40cc5f(0x499)]++,_0xdfd94c['includes'](_0x2d0512)&&_0x3ab697[_0x112588][_0x40cc5f(0x9f4)]++);}}),_0x5be09c[_0x25326a]=_0x3ab697;}),_0x5be09c;}function calculateReliabilityKR20(_0x54ffb2,_0x1ce846,_0x97c5fe){const _0x18bb01=_0xbb2a9e,_0x554f73=_0x54ffb2[_0x18bb01(0xa17)]['length'];if(_0x554f73<0x2||_0x1ce846[_0x18bb01(0xa7c)]<0x2)return null;const _0x58a5c6=_0x1ce846[_0x18bb01(0x791)](_0x4498c3=>_0x4498c3['latestScore']),_0x184d3e=_0x58a5c6[_0x18bb01(0x32f)]((_0x95b6ec,_0x3b48ae)=>_0x95b6ec+_0x3b48ae,0x0)/_0x58a5c6[_0x18bb01(0xa7c)],_0x582a9f=_0x58a5c6['map'](_0x42bf46=>Math['pow'](_0x42bf46-_0x184d3e,0x2))[_0x18bb01(0x32f)]((_0x154fe2,_0x5698ff)=>_0x154fe2+_0x5698ff,0x0)/_0x58a5c6['length'];if(_0x582a9f===0x0)return null;let _0x4d6b0a=0x0;for(let _0x1a48b8=0x0;_0x1a48b8<_0x554f73;_0x1a48b8++){const _0x16591a=_0x97c5fe[_0x1a48b8]?.['p'];if(_0x16591a===undefined)continue;const _0x2862de=0x1-_0x16591a;_0x4d6b0a+=_0x16591a*_0x2862de;}if(_0x4d6b0a===0x0)return null;const _0x3ff22d=_0x554f73/(_0x554f73-0x1)*(0x1-_0x4d6b0a/_0x582a9f);if(_0x3ff22d>0x1)return null;return _0x3ff22d;}async function handleAnalyzeClass(){const _0x164fa9=_0xbb2a9e;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x2e3784=collection(db,_0x164fa9(0x44d)+appId+_0x164fa9(0x3b6)+currentQuizData['id']+'/submissions'),_0x127eba=await getDocs(_0x2e3784),_0x5bb1cf=_0x127eba[_0x164fa9(0x95a)][_0x164fa9(0x791)](_0x46f6a8=>_0x46f6a8[_0x164fa9(0x24b)]());if(_0x5bb1cf[_0x164fa9(0xa7c)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0xda9187=document[_0x164fa9(0x9c1)]('strength-weakness-analysis-container');_0xda9187[_0x164fa9(0x1c3)]=_0x164fa9(0x208),document[_0x164fa9(0x9c1)](_0x164fa9(0x7e0))[_0x164fa9(0x9d7)]=!![];const _0x53dfa3=_0x5bb1cf[_0x164fa9(0x791)]((_0x2d7a7f,_0x1a4ea9)=>{const _0x4ac22e=_0x164fa9,_0x16e559=_0x2d7a7f[_0x4ac22e(0x405)][_0x2d7a7f[_0x4ac22e(0x405)]['length']-0x1];if(!_0x16e559)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x1a4ea9+0x1)+'\x20('+_0x2d7a7f['studentName']+_0x4ac22e(0x373)+_0x16e559[_0x4ac22e(0x6bd)]+'/'+_0x2d7a7f['totalQuestions']+_0x4ac22e(0x41d)+JSON[_0x4ac22e(0x994)](_0x16e559['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x164fa9(0x3cf)](_0x164fa9(0x64a)),_0x4f348e=_0x164fa9(0x280)+currentQuizData[_0x164fa9(0xb4a)]+_0x164fa9(0xa7e)+JSON[_0x164fa9(0x994)](currentQuizData[_0x164fa9(0xa17)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53dfa3+_0x164fa9(0x6ce),_0x2f3a93={'type':'OBJECT','properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x164fa9(0x4e5)}},'classWeaknesses':{'type':_0x164fa9(0xa9c),'items':{'type':_0x164fa9(0x4e5)}},'teacherSuggestions':{'type':_0x164fa9(0xa9c),'items':{'type':_0x164fa9(0x4e5)}}},'required':[_0x164fa9(0x8d1),_0x164fa9(0x36d),'teacherSuggestions']};try{const _0x37a9f2=await callAnalysisApi(_0x4f348e,_0x2f3a93);displayClassAnalysis(_0x37a9f2);}catch(_0x30aeb1){console['error'](_0x164fa9(0x44e),_0x30aeb1),_0xda9187['innerHTML']=_0x164fa9(0x60e)+_0x30aeb1['message']+'</p></div>';}finally{document['getElementById'](_0x164fa9(0x7e0))[_0x164fa9(0x9d7)]=![];}}function displayClassAnalysis(_0x681fe2){const _0x277d1a=_0xbb2a9e,_0x280bab=document[_0x277d1a(0x9c1)](_0x277d1a(0x51f));if(!_0x681fe2){_0x280bab[_0x277d1a(0x1c3)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x280bab[_0x277d1a(0x1c3)]=_0x277d1a(0x2e2)+_0x681fe2[_0x277d1a(0x8d1)][_0x277d1a(0x791)](_0x4bb1cf=>_0x277d1a(0x6ec)+_0x4bb1cf+_0x277d1a(0x31b))[_0x277d1a(0x3cf)]('')+_0x277d1a(0x785)+_0x681fe2['classWeaknesses']['map'](_0x343431=>'<li>'+_0x343431+'</li>')[_0x277d1a(0x3cf)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x681fe2['teacherSuggestions'][_0x277d1a(0x791)](_0x3c3bdc=>'<li>'+_0x3c3bdc+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x3676cb,_0x180307){const _0x1e74fe=_0xbb2a9e,_0x1ccf15='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x3676cb[_0x1e74fe(0xb4a)]+_0x1e74fe(0x6f1)+_0x3676cb['topic']+_0x1e74fe(0x944)+_0x3676cb[_0x1e74fe(0xa17)][_0x1e74fe(0x791)]((_0x1140a5,_0x3f96f6)=>_0x1e74fe(0x4f7)+(_0x3f96f6+0x1)+'.\x20'+_0x1140a5[_0x1e74fe(0x23b)]+_0x1e74fe(0x58f)+(_0x1140a5[_0x1e74fe(0x84f)]?_0x1e74fe(0x978)+_0x1140a5[_0x1e74fe(0x84f)]+_0x1e74fe(0xa1c):'')+_0x1e74fe(0x6f5))['join']('')+_0x1e74fe(0x9e3);_0x180307[_0x1e74fe(0x6f3)][_0x1e74fe(0x720)](_0x1ccf15),_0x180307[_0x1e74fe(0x6f3)][_0x1e74fe(0x22d)](),_0x180307[_0x1e74fe(0x726)]=function(){setTimeout(()=>{const _0x337b11=_0x1a06;_0x180307[_0x337b11(0x4c9)]();},0x3e8);};}async function generateWorksheet(){const _0x136fe6=_0xbb2a9e,_0x1eeef2=document[_0x136fe6(0x9c1)](_0x136fe6(0x716))[_0x136fe6(0x9b2)][_0x136fe6(0x9aa)]();if(!_0x1eeef2){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x43212c=document[_0x136fe6(0x9c1)](_0x136fe6(0x638))[_0x136fe6(0x6a4)],_0x1f9885=_0x43212c?'':'คณิตศาสตร์',_0x416d7e=window['open']('',_0x136fe6(0x72f));_0x416d7e[_0x136fe6(0x6f3)][_0x136fe6(0x720)](_0x136fe6(0x83c));const _0x4e43e8=parseInt(document[_0x136fe6(0x9c1)](_0x136fe6(0x204))[_0x136fe6(0x9b2)]),_0x4a3b0d=document['getElementById'](_0x136fe6(0x876))[_0x136fe6(0x6a4)],_0x4c1356=_0x4a3b0d?_0x136fe6(0x3ee):'',_0x3370d1=_0x136fe6(0x54e)+_0x1f9885+_0x136fe6(0x2eb)+_0x4e43e8+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x1eeef2+_0x136fe6(0x47e)+_0x4c1356+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x44af1b={'type':_0x136fe6(0x7b2),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x136fe6(0xa9c),'items':{'type':_0x136fe6(0x7b2),'properties':{'questionText':{'type':_0x136fe6(0x4e5)},'imageCode':{'type':_0x136fe6(0x4e5)}},'required':['questionText']}}},'required':[_0x136fe6(0xb4a),_0x136fe6(0xa17)]};document[_0x136fe6(0x9c1)]('loader-text')[_0x136fe6(0x410)]='',document[_0x136fe6(0x9c1)](_0x136fe6(0x1f5))[_0x136fe6(0x431)][_0x136fe6(0x905)]('hidden'),document['getElementById'](_0x136fe6(0x266))[_0x136fe6(0x431)][_0x136fe6(0x905)](_0x136fe6(0x450)),generateWorksheetBtn[_0x136fe6(0x9d7)]=!![];try{const _0x187a81=await callAnalysisApi(_0x3370d1,_0x44af1b);formatAndPrintWorksheet(_0x187a81,_0x416d7e);}catch(_0x5da532){console['error'](_0x136fe6(0x42a),_0x5da532);if(_0x416d7e)_0x416d7e[_0x136fe6(0x22d)]();showMessage(_0x136fe6(0xb02));}finally{document['getElementById'](_0x136fe6(0x1f5))[_0x136fe6(0x431)][_0x136fe6(0x8af)]('hidden'),document[_0x136fe6(0x9c1)](_0x136fe6(0x266))[_0x136fe6(0x431)][_0x136fe6(0x8af)](_0x136fe6(0x450)),generateWorksheetBtn[_0x136fe6(0x9d7)]=![];}}async function callAnalysisApi(_0x16ce0b,_0x349082){const _0x307f70=_0xbb2a9e,_0x19e16f={'contents':[{'role':_0x307f70(0x6b8),'parts':[{'text':_0x16ce0b}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x349082}},_0x2818ee=_0x307f70(0x9ea),_0x493800=_0x307f70(0x8da)+_0x2818ee,_0x2f54d0=await fetch(_0x493800,{'method':'POST','headers':{'Content-Type':_0x307f70(0xa8a)},'body':JSON[_0x307f70(0x994)](_0x19e16f)});if(!_0x2f54d0['ok'])throw new Error(_0x307f70(0x669)+_0x2f54d0[_0x307f70(0x3f1)]);const _0x2230f8=await _0x2f54d0[_0x307f70(0x690)]();if(_0x2230f8['candidates']?.[0x0]?.['content']?.[_0x307f70(0xacd)]?.[0x0])return JSON[_0x307f70(0x74a)](_0x2230f8[_0x307f70(0xb26)][0x0][_0x307f70(0x898)][_0x307f70(0xacd)][0x0][_0x307f70(0x7e8)]);else{let _0x22cb0c=_0x307f70(0x738);if(_0x2230f8[_0x307f70(0x4e8)]?.[_0x307f70(0x348)])_0x22cb0c=_0x307f70(0x465)+_0x2230f8[_0x307f70(0x4e8)]['blockReason']+'.';else _0x2230f8[_0x307f70(0xb26)]?.[0x0]?.[_0x307f70(0x667)]&&_0x2230f8[_0x307f70(0xb26)][0x0][_0x307f70(0x667)]!=='STOP'&&(_0x22cb0c='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x2230f8[_0x307f70(0xb26)][0x0]['finishReason']+'.');console[_0x307f70(0x746)](_0x22cb0c,JSON[_0x307f70(0x994)](_0x2230f8));throw new Error(_0x22cb0c);}}async function handleStartSyncMode(_0xee4abb,_0x866f58=![]){const _0x3511d1=_0xbb2a9e,_0xce95d3=allQuizzes[_0x3511d1(0x748)](_0x2941e4=>_0x2941e4['id']===_0xee4abb)||allQuizzesGlobal[_0x3511d1(0x748)](_0x4cb824=>_0x4cb824['id']===_0xee4abb);if(!_0xce95d3){showMessage(_0x3511d1(0x931));return;}currentQuizData=getShuffledQuiz(_0xce95d3);const _0x115ebf=Math[_0x3511d1(0x7b0)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x23cf92=await addDoc(collection(db,_0x3511d1(0x44d)+appId+'/public/data/syncGames'),{'quizId':_0xce95d3['id'],'pin':_0x115ebf,'status':_0x3511d1(0x443),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x866f58,'players':{}});currentLiveGameId=_0x23cf92['id'],showView(_0x3511d1(0x50c)),renderSyncLobbyView(_0x115ebf,_0xce95d3['topic']),listenForSyncGameUpdates();}catch(_0x12cdf4){console['error'](_0x3511d1(0x64e),_0x12cdf4),showMessage(_0x3511d1(0x3b1));}}function calculateFinalPodiumScores(_0x237748){const _0x58c3f1=_0xbb2a9e;if(!_0x237748||!_0x237748[_0x58c3f1(0x53b)]||!_0x237748['players'])return _0x237748[_0x58c3f1(0x526)]||{};const _0x465528=_0x237748[_0x58c3f1(0x53b)][_0x58c3f1(0xa17)][_0x58c3f1(0xa7c)],_0xc10deb=JSON['parse'](JSON[_0x58c3f1(0x994)](_0x237748[_0x58c3f1(0x526)]));return Object[_0x58c3f1(0x8b5)](_0xc10deb)[_0x58c3f1(0x803)](_0x2e54e7=>{const _0x460c51=_0x58c3f1,_0x783011=_0x2e54e7[_0x460c51(0x6bd)];let _0x2c651e=0x0;_0x237748['isConfidenceScoringEnabled']&&_0x2e54e7[_0x460c51(0x219)]&&_0x2e54e7['answers']['forEach'](_0x2a4100=>{const _0x5a31ba=_0x460c51;if(_0x2a4100[_0x5a31ba(0x6f8)]&&_0x2a4100[_0x5a31ba(0x977)])_0x2c651e+=0x1;else!_0x2a4100[_0x5a31ba(0x6f8)]&&_0x2a4100[_0x5a31ba(0x977)]&&(_0x2c651e-=0x1);}),_0x2e54e7[_0x460c51(0x6bd)]=_0x783011+_0x2c651e,_0x465528>0x0&&_0x783011===_0x465528&&(_0x2e54e7[_0x460c51(0x6bd)]+=0x1,_0x2e54e7[_0x460c51(0x70e)]=!![]);}),_0xc10deb;}function listenForSyncGameUpdates(){const _0x32d3bc=_0xbb2a9e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x539dcc=doc(db,_0x32d3bc(0x44d)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x539dcc,_0x1793cd=>{const _0x4fab86=_0x32d3bc;if(!_0x1793cd[_0x4fab86(0x9ce)]()){sessionStorage[_0x4fab86(0x293)](_0x4fab86(0xada));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x4fab86(0x451)),showView(currentMode==='admin'?_0x4fab86(0x68d):_0x4fab86(0x7c9));return;}const _0x3550cc=_0x1793cd[_0x4fab86(0x24b)]();currentMode===_0x4fab86(0x817)?updateAdminSyncView(_0x3550cc):updateStudentSyncView(_0x3550cc);});}function renderSyncLobbyView(_0x21a102,_0x5a561){const _0x16f7cb=_0xbb2a9e;liveGameView[_0x16f7cb(0x1c3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x5a561+_0x16f7cb(0x414)+_0x21a102+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x5a2502=document[_0x16f7cb(0x9c1)](_0x16f7cb(0x765)),_0xb674c4=document['getElementById'](_0x16f7cb(0x3d1));_0x5a2502[_0x16f7cb(0x4da)]('change',()=>{const _0x9adb51=_0x16f7cb;_0xb674c4[_0x9adb51(0x29c)]['display']=_0x5a2502['checked']?_0x9adb51(0xaf2):'none';}),document[_0x16f7cb(0x9c1)](_0x16f7cb(0x383))[_0x16f7cb(0x4da)](_0x16f7cb(0x3fb),async()=>{const _0x548505=_0x16f7cb,_0xfe668=doc(db,_0x548505(0x44d)+appId+_0x548505(0x268),currentLiveGameId),_0xb0d3f0=document['getElementById'](_0x548505(0x765))[_0x548505(0x6a4)];await updateDoc(_0xfe668,{'status':_0x548505(0x533),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0xb0d3f0});});}function updateAdminSyncView(_0x56b229){const _0x413973=_0xbb2a9e;switch(_0x56b229['status']){case _0x413973(0x443):renderSyncLobbyView(_0x56b229[_0x413973(0x588)],_0x56b229[_0x413973(0x53b)][_0x413973(0xb4a)]);const _0x4fc1e1=Object[_0x413973(0xaae)](_0x56b229[_0x413973(0x526)]||{})[_0x413973(0x51b)](([_0x449448,_0x85d13a])=>_0x85d13a[_0x413973(0x3f1)]!==_0x413973(0x541));document[_0x413973(0x9c1)](_0x413973(0x26e))['textContent']=_0x4fc1e1[_0x413973(0xa7c)],document[_0x413973(0x9c1)](_0x413973(0x239))[_0x413973(0x1c3)]=_0x4fc1e1[_0x413973(0x791)](([_0xc42e41,_0x4a6f3c])=>_0x413973(0x855)+_0xc42e41+_0x413973(0x779)+_0xc42e41+_0x413973(0xad4))[_0x413973(0x3cf)]('')||_0x413973(0x889),document[_0x413973(0x9c1)]('start-sync-game-btn')['disabled']=_0x4fc1e1['length']===0x0;break;case _0x413973(0x533):const _0x2ad53b=Object[_0x413973(0x8b5)](_0x56b229[_0x413973(0x526)]||{})['filter'](_0x24ae79=>_0x24ae79['status']!==_0x413973(0x541)),_0x393b1e=_0x2ad53b[_0x413973(0x51b)](_0x2779b1=>_0x2779b1[_0x413973(0x606)])[_0x413973(0xa7c)],_0x313c8d=_0x393b1e===_0x2ad53b['length']&&_0x2ad53b['length']>0x0;if(_0x313c8d&&_0x56b229['status']===_0x413973(0x533)){const _0x4ea935=doc(db,_0x413973(0x44d)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x4ea935,{'status':_0x413973(0x352)});}else{if(document[_0x413973(0x9c1)](_0x413973(0x277))===null)renderAdminSyncQuestionView(_0x56b229);else{const _0x220960=document['getElementById']('answer-counter');_0x220960&&(_0x220960[_0x413973(0x410)]=_0x393b1e+'/'+_0x2ad53b[_0x413973(0xa7c)]);const _0x3b8892=document[_0x413973(0x9c1)]('sync-player-list');_0x3b8892&&(_0x3b8892['innerHTML']=_0x2ad53b[_0x413973(0x791)](_0xd677cc=>{const _0x244732=_0x413973,_0x1356cb=_0xd677cc['answered']?'bg-green-500':'bg-gray-500',_0x58073d=_0xd677cc['answered']?_0x244732(0xb3a):_0x244732(0x778);return _0x244732(0x6ba)+_0x1356cb+_0x244732(0x968)+_0x58073d+_0x244732(0x5a7)+_0xd677cc[_0x244732(0x98a)]+_0x244732(0x47b)+_0xd677cc[_0x244732(0x98a)]+_0x244732(0x395);})['join'](''));}}break;case'summary':const _0x386e1b=_0x56b229['currentQuestionIndex'],_0x47e517=_0x56b229[_0x413973(0x53b)]['questions'][_0x386e1b];renderSyncSummaryView(_0x56b229,_0x47e517,!![]);break;case _0x413973(0x573):renderAdminSyncDashboard(_0x56b229,!![]);break;case _0x413973(0x95f):_0x56b229[_0x413973(0xa8d)]&&saveGameResultsAsSubmissions(_0x56b229);sessionStorage['removeItem'](_0x413973(0xada));const _0x5cd571=calculateFinalPodiumScores(_0x56b229);showPodiumView(_0x5cd571,_0x413973(0x52d));break;}}function renderAdminSyncQuestionView(_0x2224ce){const _0x4c373d=_0xbb2a9e,_0x4df543=_0x2224ce[_0x4c373d(0x4bc)],_0x579127=_0x2224ce[_0x4c373d(0x53b)]['questions'][_0x4df543],_0x2c235f=_0x2224ce[_0x4c373d(0x53b)][_0x4c373d(0xa17)]['length'],_0x4ca54f=Object['values'](_0x2224ce[_0x4c373d(0x526)]||{})[_0x4c373d(0x51b)](_0x1d4e55=>_0x1d4e55[_0x4c373d(0x3f1)]!==_0x4c373d(0x541)),_0x436641=_0x4ca54f['filter'](_0x163cf2=>_0x163cf2[_0x4c373d(0x606)])['length'],_0x4a0b95=_0x436641===_0x4ca54f[_0x4c373d(0xa7c)]&&_0x4ca54f[_0x4c373d(0xa7c)]>0x0,_0x232db2=(_0x579127[_0x4c373d(0x643)]||[])['map'](_0x55b034=>_0x4c373d(0xabc)+_0x55b034+_0x4c373d(0xa1c))[_0x4c373d(0x3cf)]('');liveGameView[_0x4c373d(0x1c3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x4df543+0x1)+_0x4c373d(0xafc)+_0x2c235f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x436641+'/'+_0x4ca54f['length']+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x579127['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x232db2+_0x4c373d(0x9ef)+(!_0x4a0b95?_0x4c373d(0x9d7):'')+_0x4c373d(0x5f0);if(window[_0x4c373d(0x7b6)])MathJax['typesetPromise']();document[_0x4c373d(0x9c1)](_0x4c373d(0x8a2))[_0x4c373d(0x4da)](_0x4c373d(0x3fb),async()=>{const _0x5e60b6=_0x4c373d,_0x401ec0=doc(db,'artifacts/'+appId+_0x5e60b6(0x268),currentLiveGameId);await updateDoc(_0x401ec0,{'status':_0x5e60b6(0x573)});}),document[_0x4c373d(0x9c1)](_0x4c373d(0x47f))[_0x4c373d(0xb46)]=()=>{const _0xfea6ae=_0x4c373d;openScratchpad(_0x579127,_0x579127[_0xfea6ae(0x643)]||[]);},document[_0x4c373d(0x9c1)](_0x4c373d(0x937))['addEventListener']('click',()=>{const _0x4e516f=_0x4c373d;document['getElementById']('sync-player-management')[_0x4e516f(0x431)][_0x4e516f(0x5ea)](_0x4e516f(0x450));});}function renderSyncLeaderboardView(_0x4206aa,_0x3a5845){const _0xac2dfd=_0xbb2a9e,_0x391c5f=Object[_0xac2dfd(0x8b5)](_0x4206aa[_0xac2dfd(0x526)]||{});_0x391c5f['sort']((_0x2b28fc,_0x6be014)=>_0x6be014['score']-_0x2b28fc['score']);const _0x22ba5f=_0x391c5f[_0xac2dfd(0x55c)](0x0,0x5);let _0x2091b2='';if(_0x3a5845){const _0x14cf84=_0x4206aa[_0xac2dfd(0x4bc)]>=_0x4206aa[_0xac2dfd(0x53b)]['questions'][_0xac2dfd(0xa7c)]-0x1;_0x2091b2=_0xac2dfd(0x5d6)+(_0x14cf84?_0xac2dfd(0x824):_0xac2dfd(0x960))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x2091b2=_0xac2dfd(0xb03);liveGameView['innerHTML']=_0xac2dfd(0x9b8)+_0x22ba5f[_0xac2dfd(0x791)]((_0x2f3544,_0x5b55ab)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x5b55ab+0x1)+'.\x20'+_0x2f3544[_0xac2dfd(0x98a)]+_0xac2dfd(0x8e4)+_0x2f3544[_0xac2dfd(0x6bd)]+_0xac2dfd(0x34d))[_0xac2dfd(0x3cf)]('')+_0xac2dfd(0xb27)+_0x2091b2+_0xac2dfd(0xabe),_0x3a5845&&document['getElementById'](_0xac2dfd(0x503))[_0xac2dfd(0x4da)]('click',async()=>{const _0x41b290=_0xac2dfd,_0x3fb42f=doc(db,_0x41b290(0x44d)+appId+_0x41b290(0x268),currentLiveGameId),_0x453831=_0x4206aa['currentQuestionIndex']+0x1;if(_0x453831<_0x4206aa['shuffledQuiz']['questions'][_0x41b290(0xa7c)]){const _0x5aaf20={};Object[_0x41b290(0x790)](_0x4206aa[_0x41b290(0x526)])[_0x41b290(0x803)](_0x29fdcd=>{const _0x39f5de=_0x41b290;_0x5aaf20[_0x39f5de(0x886)+_0x29fdcd+'.answered']=![];}),await updateDoc(_0x3fb42f,{..._0x5aaf20,'status':_0x41b290(0x533),'currentQuestionIndex':_0x453831,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3fb42f,{'status':_0x41b290(0x95f)});});}async function handleJoinSyncGame(){const _0x2b9b04=_0xbb2a9e,_0x56ca18=prompt(_0x2b9b04(0x3d6));if(!_0x56ca18||_0x56ca18['trim']()['length']!==0x2){showMessage(_0x2b9b04(0x22b));return;}try{const _0x59f2e1=collection(db,_0x2b9b04(0x44d)+appId+_0x2b9b04(0x268)),_0x51fe33=query(_0x59f2e1,where(_0x2b9b04(0x588),'==',_0x56ca18[_0x2b9b04(0x9aa)]()),where(_0x2b9b04(0x3f1),'==',_0x2b9b04(0x443))),_0x1b0208=await getDocs(_0x51fe33);if(_0x1b0208[_0x2b9b04(0x384)]){showMessage(_0x2b9b04(0x445));return;}const _0x3fc1ff=_0x1b0208[_0x2b9b04(0x95a)][0x0];currentLiveGameId=_0x3fc1ff['id'];const _0x480d09=_0x3fc1ff[_0x2b9b04(0x24b)](),_0x4a2569=doc(db,'artifacts/'+appId+_0x2b9b04(0x622),_0x480d09[_0x2b9b04(0x521)]),_0x24a8dc=await getDoc(_0x4a2569);if(!_0x24a8dc[_0x2b9b04(0x9ce)]())throw new Error(_0x2b9b04(0x3d0));const _0x42ea12=_0x24a8dc[_0x2b9b04(0x24b)](),_0x2ad5cd=doc(db,_0x2b9b04(0x44d)+appId+_0x2b9b04(0xb3c),_0x42ea12[_0x2b9b04(0x430)]),_0x5b4af6=await getDoc(_0x2ad5cd);if(!_0x5b4af6[_0x2b9b04(0x9ce)]())throw new Error(_0x2b9b04(0x20d));currentQuizData=_0x480d09['shuffledQuiz'];const _0x44ca91=_0x5b4af6[_0x2b9b04(0x24b)]();showView(_0x2b9b04(0x1d2)),showTeamPlayerSelection(_0x44ca91[_0x2b9b04(0x3dc)],_0x42ea12[_0x2b9b04(0xb4a)]);const _0x384c73=document[_0x2b9b04(0x9c1)](_0x2b9b04(0x2f1));_0x384c73[_0x2b9b04(0xb46)]=confirmAndJoinSyncGame;}catch(_0x41dbf2){console[_0x2b9b04(0x746)]('Error\x20joining\x20sync\x20game:',_0x41dbf2),showMessage(_0x2b9b04(0x73f)+_0x41dbf2[_0x2b9b04(0x3f4)]);}}function updateStudentSyncView(_0x3f692b){const _0x45dbb6=_0xbb2a9e,_0x5c0741=_0x3f692b['players'][localTeamPlayers[0x0]];switch(_0x3f692b[_0x45dbb6(0x3f1)]){case'lobby':showView('live-game'),liveGameView[_0x45dbb6(0x1c3)]=_0x45dbb6(0x3a5);break;case _0x45dbb6(0x533):const _0x42c5d5=localTeamPlayers[_0x45dbb6(0x3aa)](_0x5a820e=>_0x3f692b[_0x45dbb6(0x526)][_0x5a820e]?.[_0x45dbb6(0x606)]===!![]);_0x42c5d5?liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x3f692b);break;case _0x45dbb6(0x352):liveGameView['innerHTML']=_0x45dbb6(0x95b);break;case _0x45dbb6(0x573):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x3f692b);break;case _0x45dbb6(0x95f):sessionStorage[_0x45dbb6(0x293)](_0x45dbb6(0xada));const _0x510a2b=calculateFinalPodiumScores(_0x3f692b);showPodiumView(_0x510a2b,_0x45dbb6(0x52d));break;}}function renderStudentSyncResultsView(_0x578b2a){const _0x716560=_0xbb2a9e,_0x3edcee=localTeamPlayers['map'](_0x9cbe74=>_0x578b2a[_0x716560(0x526)][_0x9cbe74])[_0x716560(0x51b)](Boolean);_0x3edcee[_0x716560(0x415)]((_0x3b71c9,_0x2946ce)=>(_0x2946ce['score']||0x0)-(_0x3b71c9[_0x716560(0x6bd)]||0x0));const _0x1322e6=_0x578b2a['currentQuestionIndex']>=_0x578b2a[_0x716560(0x53b)][_0x716560(0xa17)][_0x716560(0xa7c)]-0x1;let _0x5c9a96='';_0x1322e6?_0x5c9a96=_0x716560(0x295):_0x5c9a96=_0x716560(0x663);const _0x1d97ec=_0x716560(0x5e7)+_0x3edcee[_0x716560(0x791)]((_0x4b87fb,_0x53cf92)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x53cf92+0x1)+_0x716560(0x6f2)+_0x4b87fb['name']+_0x716560(0x5ae)+_0x4b87fb[_0x716560(0x6bd)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x716560(0x3cf)]('')+_0x716560(0x1d9)+_0x5c9a96+_0x716560(0x718);liveGameView[_0x716560(0x1c3)]=_0x1d97ec;}function renderStudentSyncQuestionView(_0x557fcf){const _0x4d8d24=_0xbb2a9e;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x557fcf[_0x4d8d24(0x526)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x4d8d24(0x606)]===!![]){localPlayerTurnIndex++;}const _0x14dce2=localTeamPlayers[localPlayerTurnIndex];if(!_0x14dce2)return;const _0x1c531a=_0x557fcf[_0x4d8d24(0x4bc)],_0x36b570=_0x557fcf[_0x4d8d24(0x53b)][_0x4d8d24(0xa17)][_0x4d8d24(0xa7c)],_0x340433=_0x557fcf['shuffledQuiz'][_0x4d8d24(0xa17)][_0x1c531a],_0x4188ff=_0x340433[_0x4d8d24(0x368)]||_0x557fcf[_0x4d8d24(0x53b)][_0x4d8d24(0x950)];let _0x359bc5='',_0x266d07=![];switch(_0x4188ff){case _0x4d8d24(0xb53):_0x359bc5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4d8d24(0x68a):case _0x4d8d24(0x97c):_0x266d07=!![],_0x359bc5=_0x4d8d24(0x466);break;case _0x4d8d24(0xa4a):_0x266d07=!![],_0x359bc5=_0x4d8d24(0x857)+(_0x340433['allResponses']||[])[_0x4d8d24(0x791)](_0x4c0964=>_0x4d8d24(0x520)+_0x4c0964+'\x22>'+_0x4c0964+_0x4d8d24(0x6d2))[_0x4d8d24(0x3cf)]('')+_0x4d8d24(0x570);break;case _0x4d8d24(0xad6):default:_0x359bc5=(_0x340433[_0x4d8d24(0x643)]||[])[_0x4d8d24(0x791)]((_0x426f5b,_0x27271f)=>'<button\x20data-value=\x22'+_0x27271f+_0x4d8d24(0xa6f)+_0x426f5b+'</button>')[_0x4d8d24(0x3cf)]('');break;}liveGameView[_0x4d8d24(0x1c3)]=_0x4d8d24(0x1b7)+(_0x1c531a+0x1)+'\x20/\x20'+_0x36b570+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x14dce2+_0x4d8d24(0x7a0)+(_0x340433[_0x4d8d24(0x23b)]||_0x340433[_0x4d8d24(0x8ce)])+_0x4d8d24(0xaa5)+_0x359bc5+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0x4d8d24(0x7b6)])MathJax[_0x4d8d24(0x987)]();function _0xe6f2b1(_0x1a14de,_0x2eba84,_0x53a50e,_0x423d20){const _0x1f7c95=_0x4d8d24,_0x49d283=_0x53a50e[_0x1f7c95(0x4f1)]===!![];if(_0x49d283){document[_0x1f7c95(0x9c1)](_0x1f7c95(0x336))[_0x1f7c95(0x1f9)][_0x1f7c95(0x772)]=_0x1f7c95(0x52d);const _0x460d53=document[_0x1f7c95(0x9c1)]('selected-answer-index-hidden');_0x460d53[_0x1f7c95(0x1f9)][_0x1f7c95(0x88d)]=_0x1a14de,_0x460d53[_0x1f7c95(0x1f9)][_0x1f7c95(0x533)]=JSON[_0x1f7c95(0x994)](_0x2eba84),_0x460d53[_0x1f7c95(0x1f9)]['gameData']=JSON['stringify'](_0x53a50e),_0x460d53['dataset'][_0x1f7c95(0x2e1)]=_0x423d20,document[_0x1f7c95(0x9c1)](_0x1f7c95(0x336))['classList'][_0x1f7c95(0x905)](_0x1f7c95(0x450));}else handleSyncAnswerSubmit(_0x1a14de,_0x2eba84,_0x53a50e,_0x423d20,![]);}_0x266d07?document['getElementById'](_0x4d8d24(0x517))[_0x4d8d24(0x4da)]('click',()=>{const _0x178dd8=_0x4d8d24,_0x333801=document[_0x178dd8(0x9c1)](_0x178dd8(0x7c2))||document[_0x178dd8(0x9c1)](_0x178dd8(0x93c));if(_0x333801[_0x178dd8(0x9b2)][_0x178dd8(0x9aa)]()===''){showMessage(_0x178dd8(0x750));return;}_0xe6f2b1(_0x333801[_0x178dd8(0x9b2)],_0x340433,_0x557fcf,_0x14dce2);}):document['querySelectorAll']('.live-answer-btn')[_0x4d8d24(0x803)](_0xe15c1d=>{const _0x2b323f=_0x4d8d24;_0xe15c1d[_0x2b323f(0x4da)](_0x2b323f(0x3fb),()=>{const _0x269c56=_0x2b323f;_0xe6f2b1(_0xe15c1d['dataset'][_0x269c56(0x9b2)],_0x340433,_0x557fcf,_0x14dce2);});});}async function handleSyncAnswerSubmit(_0x1960f0,_0xf98410,_0x44885f,_0x12f2d5,_0x16c81c){const _0x25ddcb=_0xbb2a9e;document[_0x25ddcb(0x345)](_0x25ddcb(0xa52))[_0x25ddcb(0x803)](_0x136f5e=>_0x136f5e['disabled']=!![]);const _0xad2347=_0xf98410[_0x25ddcb(0x368)]||_0x44885f[_0x25ddcb(0x53b)][_0x25ddcb(0x950)];let _0x3d17c1=![],_0x3e4edf=_0x1960f0;switch(_0xad2347){case _0x25ddcb(0xb53):const _0xa471a4=parseInt(_0x1960f0),_0x37f6e6=_0xf98410[_0x25ddcb(0x2ae)]===!![]||String(_0xf98410['correctAnswer'])[_0x25ddcb(0x57e)]()==='true';_0x3d17c1=_0xa471a4===0x0&&_0x37f6e6||_0xa471a4===0x1&&!_0x37f6e6,_0x3e4edf=_0xa471a4===0x0?_0x25ddcb(0x5d5):_0x25ddcb(0x990);break;case _0x25ddcb(0x68a):case _0x25ddcb(0x97c):_0x3d17c1=await gradeShortAnswer(_0x1960f0,_0xf98410);break;case _0x25ddcb(0xa4a):_0x3d17c1=_0x1960f0===_0xf98410[_0x25ddcb(0x4cc)];break;case _0x25ddcb(0xad6):default:const _0x4be218=parseInt(_0x1960f0);_0x3d17c1=_0x4be218===_0xf98410[_0x25ddcb(0xad0)];_0xf98410[_0x25ddcb(0x643)]&&_0xf98410[_0x25ddcb(0x643)][_0x4be218]&&(_0x3e4edf=_0xf98410['options'][_0x4be218]);break;}let _0x3f83c3=0x0;if(_0x3d17c1&&_0x16c81c)_0x3f83c3=0x2;else{if(_0x3d17c1)_0x3f83c3=0x1;else!_0x3d17c1&&_0x16c81c&&(_0x3f83c3=-0x1);}const _0x56fc06=doc(db,'artifacts/'+appId+_0x25ddcb(0x268),currentLiveGameId),_0x4cb113={};_0x4cb113[_0x25ddcb(0x886)+_0x12f2d5+_0x25ddcb(0x8b2)]=increment(_0x3f83c3),_0x4cb113[_0x25ddcb(0x886)+_0x12f2d5+_0x25ddcb(0x93b)]=!![];let _0x33950a=null;(_0xad2347===_0x25ddcb(0xad6)||_0xad2347===_0x25ddcb(0xb53)||_0xad2347===_0x25ddcb(0x32e))&&(_0x33950a=parseInt(_0x1960f0));_0x4cb113['players.'+_0x12f2d5+_0x25ddcb(0x377)]=_0x33950a;const _0x2abd4d={'questionIndex':_0x44885f['currentQuestionIndex'],'questionId':_0xf98410['id'],'answer':_0x1960f0,'answerText':_0x3e4edf,'isCorrect':_0x3d17c1,'originalQuestionText':_0xf98410[_0x25ddcb(0x23b)]||_0xf98410[_0x25ddcb(0x8ce)],'wasConfident':_0x16c81c};_0x4cb113['players.'+_0x12f2d5+_0x25ddcb(0x671)]=arrayUnion(_0x2abd4d),await updateDoc(_0x56fc06,_0x4cb113);}initialize();
