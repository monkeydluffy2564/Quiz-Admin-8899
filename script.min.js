const _0x1b610a=_0x6978;(function(_0x41674a,_0x6a8fa2){const _0xdbf76f=_0x6978,_0x1a4f94=_0x41674a();while(!![]){try{const _0xbaab3a=-parseInt(_0xdbf76f(0x158))/0x1+parseInt(_0xdbf76f(0x3ed))/0x2+parseInt(_0xdbf76f(0x305))/0x3*(-parseInt(_0xdbf76f(0x5c7))/0x4)+-parseInt(_0xdbf76f(0x56b))/0x5*(parseInt(_0xdbf76f(0x915))/0x6)+parseInt(_0xdbf76f(0x9fe))/0x7+-parseInt(_0xdbf76f(0xc48))/0x8*(-parseInt(_0xdbf76f(0x34b))/0x9)+parseInt(_0xdbf76f(0xe3b))/0xa;if(_0xbaab3a===_0x6a8fa2)break;else _0x1a4f94['push'](_0x1a4f94['shift']());}catch(_0xc68de2){_0x1a4f94['push'](_0x1a4f94['shift']());}}}(_0xc89a,0xc3a22));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x1b610a(0x7ef),_0x1b610a(0x520),'เทพทรู','เหมียวขี้เซา',_0x1b610a(0x9d1),'เต่าสายฟ้า',_0x1b610a(0xe2e),_0x1b610a(0xbe4),_0x1b610a(0x600),_0x1b610a(0xc78),_0x1b610a(0x1f7),_0x1b610a(0x2fc),_0x1b610a(0x68f),_0x1b610a(0xcab),_0x1b610a(0x6ca),'จอมเวทย์ขนมหวาน',_0x1b610a(0xc53),_0x1b610a(0x50c),_0x1b610a(0x3d1),_0x1b610a(0xbca),_0x1b610a(0x3b6),_0x1b610a(0xde6),_0x1b610a(0x389),_0x1b610a(0x4a4),_0x1b610a(0x293),_0x1b610a(0x6e2),_0x1b610a(0x77d),_0x1b610a(0xc86),_0x1b610a(0x724),_0x1b610a(0x29b),_0x1b610a(0x4f8),_0x1b610a(0x5ce),_0x1b610a(0x83e),_0x1b610a(0x346),_0x1b610a(0x944),_0x1b610a(0x8fe),_0x1b610a(0xcc7),_0x1b610a(0x239),'เน็ตไอดอล',_0x1b610a(0xac0),'กาแฟขม',_0x1b610a(0x9bf),_0x1b610a(0xbb5),_0x1b610a(0xc6a),_0x1b610a(0x96e),_0x1b610a(0x5ed),_0x1b610a(0xbfb),_0x1b610a(0x199),_0x1b610a(0x5a7),_0x1b610a(0xcf1),_0x1b610a(0xb51),_0x1b610a(0x177),_0x1b610a(0x98b),_0x1b610a(0x9c8),_0x1b610a(0x7bc),'แบตหมด',_0x1b610a(0x4fa),_0x1b610a(0xd6f),'404\x20Not\x20Found','กองดอง',_0x1b610a(0x264),'ตะวันฉาย','สายหมอก','ก้อนเมฆ',_0x1b610a(0x35b),_0x1b610a(0x869),'ทะเล',_0x1b610a(0x133),_0x1b610a(0x2db),_0x1b610a(0x916),_0x1b610a(0x84b),'ช่างภาพ',_0x1b610a(0x363),'ศิลปิน','นักดนตรี',_0x1b610a(0x5d4),_0x1b610a(0xce4),'นักประดิษฐ์','นักกีฬา',_0x1b610a(0xb15),_0x1b610a(0xe54),_0x1b610a(0x641),'แปลงร่าง',_0x1b610a(0x9ff),_0x1b610a(0xa81),_0x1b610a(0x8a4),_0x1b610a(0xd52),_0x1b610a(0x268),'กัปตัน',_0x1b610a(0x3e4),_0x1b610a(0x31a),'คนโสด',_0x1b610a(0xdd1),'อกหัก',_0x1b610a(0x19f),_0x1b610a(0xd0f),_0x1b610a(0x597),_0x1b610a(0xad2),_0x1b610a(0x910),_0x1b610a(0x768)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x1b610a(0xbd8),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x1b610a(0xbd8),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x386558=_0x1b610a;if(_0x386558(0xce1)in navigator)try{wakeLock=await navigator[_0x386558(0xce1)][_0x386558(0xb6f)](_0x386558(0x322)),console[_0x386558(0xd62)](_0x386558(0x683)),wakeLock[_0x386558(0xd68)]('release',()=>{const _0x1d3404=_0x386558;console[_0x1d3404(0xd62)](_0x1d3404(0x319));});}catch(_0x2acdf8){console[_0x386558(0xce3)](_0x386558(0x4fe)+_0x2acdf8['name']+',\x20'+_0x2acdf8[_0x386558(0xba0)]);}else console['warn'](_0x386558(0xc14));},releaseWakeLock=async()=>{const _0x4662ba=_0x1b610a;wakeLock!==null&&(await wakeLock[_0x4662ba(0x805)](),wakeLock=null,console[_0x4662ba(0xd62)](_0x4662ba(0x410)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5aaee3=_0x1b610a;if(!document[_0x5aaee3(0x257)]['classList']['contains'](_0x5aaee3(0x414))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5733f1=_0x5aaee3;document['body'][_0x5733f1(0xb12)][_0x5733f1(0x786)]('dimmed'),console[_0x5733f1(0xd62)](_0x5733f1(0x979));},inactivityTime);}}function wakeUpScreen(_0x5bdc4e){const _0x2a677e=_0x1b610a;_0x5bdc4e&&(_0x5bdc4e[_0x2a677e(0x8fd)](),_0x5bdc4e[_0x2a677e(0x219)]());document[_0x2a677e(0x257)][_0x2a677e(0xb12)][_0x2a677e(0x1e9)](_0x2a677e(0x414));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1995ce=_0x2a677e;document[_0x1995ce(0x257)][_0x1995ce(0xb12)][_0x1995ce(0x786)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x5e2334=_0x1b610a;if(dimTimer)clearTimeout(dimTimer);document[_0x5e2334(0x257)][_0x5e2334(0xb12)][_0x5e2334(0x1e9)]('dimmed'),window[_0x5e2334(0xd06)](_0x5e2334(0x729),resetDimTimer),window[_0x5e2334(0xd06)](_0x5e2334(0xd14),resetDimTimer),window[_0x5e2334(0xd06)](_0x5e2334(0x71e),resetDimTimer),window[_0x5e2334(0xd06)](_0x5e2334(0xcd6),resetDimTimer),console[_0x5e2334(0xd62)](_0x5e2334(0x88d));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x16d01a,_0x3eef1b=![]){const _0x53e903=_0x1b610a,_0x37b2e3=allQuizzes[_0x53e903(0x6bf)](_0x581dd0=>_0x581dd0['id']===_0x16d01a)||allQuizzesGlobal[_0x53e903(0x6bf)](_0x30fe22=>_0x30fe22['id']===_0x16d01a);if(!_0x37b2e3){showMessage(_0x53e903(0x8ee));return;}currentQuizData=getShuffledQuiz(_0x37b2e3);const _0x2deacb=Math[_0x53e903(0x85e)](0x3e8+Math[_0x53e903(0xa73)]()*0x2328)['toString']();try{const _0x2c71e6=await addDoc(collection(db,_0x53e903(0x407)+appId+_0x53e903(0x280)),{'quizId':_0x37b2e3['id'],'projectId':_0x37b2e3[_0x53e903(0xccc)],'status':_0x53e903(0xd28),'pin':_0x2deacb,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3eef1b});currentTeamQuizId=_0x2c71e6['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x2deacb,_0x37b2e3['topic']),listenForTeamQuizUpdates();}catch(_0x6d5ae0){console[_0x53e903(0xce3)](_0x53e903(0x419),_0x6d5ae0),showMessage(_0x53e903(0xbec));}}function renderAdminTeamQuizDashboard(_0x4a5330,_0x4526d0,_0x42d515=_0x1b610a(0xbaf)){const _0x4b7d70=_0x1b610a,_0x31e2d3=_0x42d515===_0x4b7d70(0xa2d)?'Group\x20Mode':'Team\x20Quiz';liveGameView['innerHTML']=_0x4b7d70(0xc02)+_0x31e2d3+':\x20'+_0x4526d0+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x4a5330+_0x4b7d70(0x259),document['getElementById']('end-team-quiz-btn')[_0x4b7d70(0xd68)](_0x4b7d70(0xcc3),async()=>{const _0x2bc689=_0x4b7d70;showConfirmation(_0x2bc689(0x5af),async()=>{const _0x15f92b=_0x2bc689;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x15f92b(0x407)+appId+_0x15f92b(0x280),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x5188a0=_0x1b610a;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xb447f0=doc(db,_0x5188a0(0x407)+appId+_0x5188a0(0x280),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xb447f0,_0x425905=>{const _0xbf011c=_0x5188a0;if(!_0x425905[_0xbf011c(0xa90)]()){sessionStorage[_0xbf011c(0x4eb)](_0xbf011c(0x87d));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0xbf011c(0xdb1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0xbf011c(0xe00)?showView(_0xbf011c(0x535)):showView(_0xbf011c(0x28a));return;}const _0x5c9ed3=_0x425905[_0xbf011c(0x860)]();if(currentMode==='admin'){if(_0x5c9ed3['mode']==='group'&&_0x5c9ed3[_0xbf011c(0x9fb)]!==_0xbf011c(0x517)&&_0x5c9ed3[_0xbf011c(0x9fb)]!==_0xbf011c(0xe7d)){const _0x12973b=Object[_0xbf011c(0x17f)](_0x5c9ed3[_0xbf011c(0x300)]||{});if(_0x12973b[_0xbf011c(0x14c)]>0x0){const _0x385399=_0x12973b[_0xbf011c(0x409)](_0x343c01=>_0x343c01[_0xbf011c(0x652)]===!![]);_0x385399&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5c9ed3);}else{if(_0x5c9ed3[_0xbf011c(0x9fb)]===_0xbf011c(0x517)||_0x5c9ed3[_0xbf011c(0x9fb)]===_0xbf011c(0xe7d)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5c9ed3[_0xbf011c(0x301)]===_0xbf011c(0xa2d)){const _0x310698=_0x5c9ed3[_0xbf011c(0x300)][userId];(!_0x310698||!_0x310698['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x32e9fa){const _0x227742=_0x1b610a;console['log']('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x2961f1=doc(db,_0x227742(0x407)+appId+_0x227742(0x280),_0x32e9fa);try{const _0x5e4a2c=await getDoc(_0x2961f1);if(_0x5e4a2c[_0x227742(0xa90)]()){const _0x4475f1=_0x5e4a2c[_0x227742(0x860)]();_0x4475f1[_0x227742(0xb02)]&&await saveGameResultsAsSubmissions(_0x4475f1);}await updateDoc(_0x2961f1,{'status':_0x227742(0x517)});}catch(_0x319e52){console[_0x227742(0xce3)](_0x227742(0xc2d),_0x319e52);}}function updateAdminTeamDashboard(_0x5c30a2){const _0x59f7f3=_0x1b610a,_0x54c37f=document[_0x59f7f3(0x8a9)](_0x59f7f3(0x8c5));if(!_0x54c37f)return;const _0x205f6a=_0x5c30a2[_0x59f7f3(0x301)]||_0x59f7f3(0xbaf),_0x505fff=currentQuizData[_0x59f7f3(0x3c6)][_0x59f7f3(0x14c)];if(_0x205f6a===_0x59f7f3(0xa2d)){const _0x335694=Object[_0x59f7f3(0x17f)](_0x5c30a2['groups']||{});if(_0x335694[_0x59f7f3(0x14c)]===0x0){_0x54c37f['innerHTML']=_0x59f7f3(0x642);return;}const _0x5e20d5=[..._0x335694][_0x59f7f3(0x528)]((_0x51f709,_0x635ea5)=>_0x635ea5[_0x59f7f3(0xdd7)]-_0x51f709['score']),_0x23549d=_0x5e20d5[_0x59f7f3(0x4cb)]((_0x43d69c,_0x3669d1)=>{const _0x168308=_0x59f7f3,_0xdbdf1d=_0x43d69c['answers']?.[_0x168308(0x14c)]||0x0;return _0x168308(0x4be)+(_0x3669d1+0x1)+_0x168308(0x840)+_0x43d69c[_0x168308(0xa7c)][_0x168308(0x656)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0xdbdf1d+'/'+_0x505fff+_0x168308(0xc8e)+_0x43d69c['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x59f7f3(0x656)](''),_0x317ebf=currentQuizData[_0x59f7f3(0x3c6)]['map']((_0x546982,_0x1da0d3)=>{const _0x154cf4=_0x59f7f3;let _0x515c02=0x0,_0x3837ec=0x0;_0x335694['forEach'](_0x546361=>{const _0x55ea3d=_0x6978,_0x38bf08=_0x546361[_0x55ea3d(0x772)]?.[_0x55ea3d(0x6bf)](_0xc54dbe=>_0xc54dbe[_0x55ea3d(0x223)]===_0x1da0d3);if(_0x38bf08){_0x3837ec++;if(_0x38bf08[_0x55ea3d(0xe63)])_0x515c02++;}});const _0x3521e7=_0x3837ec>0x0&&_0x3837ec===_0x335694['length'],_0x34fe5f=_0x3521e7?'bg-green-200\x20text-green-900\x20font-bold':_0x154cf4(0x3a5),_0x30238e=_0x3521e7?_0x154cf4(0xa39):'';return _0x154cf4(0x684)+_0x34fe5f+_0x154cf4(0xb7e)+(_0x1da0d3+0x1)+_0x154cf4(0x6a3)+_0x30238e+_0x154cf4(0xbb2)+_0x515c02+'/'+_0x335694['length']+_0x154cf4(0x4a6);})[_0x59f7f3(0x656)]('');_0x54c37f['innerHTML']=_0x59f7f3(0xb57)+_0x23549d+_0x59f7f3(0x29e)+_0x317ebf+'</div></div></div>';return;}const _0x2a809a=_0x5c30a2[_0x59f7f3(0xdbe)]||{},_0x491db0=Object[_0x59f7f3(0x770)](_0x2a809a);if(_0x491db0['length']===0x0){_0x54c37f[_0x59f7f3(0x568)]=_0x59f7f3(0xd31);return;}const _0x3294fb=_0x491db0[_0x59f7f3(0x4cb)](_0x3028f5=>({'name':_0x3028f5,'score':_0x2a809a[_0x3028f5][_0x59f7f3(0xdd7)]||0x0}))[_0x59f7f3(0x528)]((_0xf2f159,_0x31b504)=>_0x31b504[_0x59f7f3(0xdd7)]-_0xf2f159[_0x59f7f3(0xdd7)]),_0x34009d=_0x3294fb[_0x59f7f3(0x4cb)](_0x55daa7=>{const _0x13da06=_0x59f7f3,_0x1e843d=_0x2a809a[_0x55daa7[_0x13da06(0x835)]]?.[_0x13da06(0x772)]?.[_0x13da06(0x14c)]||0x0,_0x34a332=Math[_0x13da06(0x235)](_0x505fff/_0x491db0['length']);return _0x13da06(0xb2d)+_0x55daa7[_0x13da06(0x835)]+_0x13da06(0x48c)+_0x1e843d+'/'+_0x34a332+_0x13da06(0x140)+_0x55daa7['score']+_0x13da06(0xb4d);})[_0x59f7f3(0x656)](''),_0x447ec8=_0x491db0[_0x59f7f3(0x817)]((_0x266f9c,_0x5cbdcd)=>_0x266f9c+(_0x2a809a[_0x5cbdcd][_0x59f7f3(0x772)]?.[_0x59f7f3(0x14c)]||0x0),0x0),_0x17cc44=currentQuizData[_0x59f7f3(0x3c6)][_0x59f7f3(0x4cb)]((_0x1f66d8,_0x317204)=>{const _0x1faa18=_0x59f7f3;let _0x1e806c=null,_0x49de4b=null;for(const _0x31619c of _0x491db0){const _0x208675=_0x2a809a[_0x31619c][_0x1faa18(0x772)]?.[_0x1faa18(0x6bf)](_0x365738=>_0x365738['questionIndex']===_0x317204);if(_0x208675){_0x1e806c=_0x208675,_0x49de4b=_0x31619c;break;}}const _0x2cc999=!!_0x1e806c,_0x4ba257=_0x2cc999&&_0x1e806c[_0x1faa18(0xe63)],_0x20d919=(Math[_0x1faa18(0x85e)](_0x317204/_0x491db0[_0x1faa18(0x14c)])+0x1)*_0x491db0['length'],_0x44e2f1=_0x447ec8>=_0x20d919,_0x5cb002=_0x44e2f1?'bg-green-200\x20text-green-900':_0x1faa18(0x3a5),_0x54784d=_0x44e2f1?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x14cec7='รอ...';return _0x2cc999&&(_0x14cec7=_0x49de4b+'\x20ตอบ'+(_0x4ba257?'ถูก':_0x1faa18(0x6f2))),_0x1faa18(0x684)+_0x5cb002+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x317204+0x1)+_0x1faa18(0x6a3)+_0x54784d+_0x1faa18(0x31b)+_0x14cec7+'</p></div>';})[_0x59f7f3(0x656)]('');_0x54c37f[_0x59f7f3(0x568)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x34009d+_0x59f7f3(0xc9f)+_0x17cc44+_0x59f7f3(0xdcd);}async function handleJoinTeamQuiz(){const _0x4bf2ee=_0x1b610a,_0x6813fa=prompt(_0x4bf2ee(0x8f6));if(!_0x6813fa||_0x6813fa[_0x4bf2ee(0x937)]()[_0x4bf2ee(0x14c)]!==0x4){showMessage(_0x4bf2ee(0x9ba));return;}try{const _0x31ad62=collection(db,_0x4bf2ee(0x407)+appId+_0x4bf2ee(0x280)),_0x306182=query(_0x31ad62,where(_0x4bf2ee(0xd00),'==',_0x6813fa['trim']()),where(_0x4bf2ee(0x9fb),'==',_0x4bf2ee(0xd28))),_0x17739b=await getDocs(_0x306182);if(_0x17739b[_0x4bf2ee(0x634)]){showMessage(_0x4bf2ee(0x444));return;}const _0x262402=_0x17739b[_0x4bf2ee(0x654)][0x0];currentTeamQuizId=_0x262402['id'];const _0x467e27=_0x262402[_0x4bf2ee(0x860)](),_0x99220f=doc(db,'artifacts/'+appId+_0x4bf2ee(0x622),_0x467e27['projectId']),_0x2ff89a=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x467e27[_0x4bf2ee(0x782)]),[_0x129e1f,_0x137011]=await Promise[_0x4bf2ee(0xbd8)]([getDoc(_0x99220f),getDoc(_0x2ff89a)]);if(!_0x129e1f[_0x4bf2ee(0xa90)]()||!_0x137011['exists']())throw new Error(_0x4bf2ee(0xdd4));currentQuizData=getShuffledQuiz({'id':_0x137011['id'],..._0x137011['data']()});const _0x175d6e=_0x129e1f[_0x4bf2ee(0x860)]();showTeamPlayerSelection(_0x175d6e[_0x4bf2ee(0x3a4)],currentQuizData[_0x4bf2ee(0x5cc)]);}catch(_0xfe1fa){console[_0x4bf2ee(0xce3)](_0x4bf2ee(0xe4c),_0xfe1fa),showMessage('เกิดข้อผิดพลาด:\x20'+_0xfe1fa[_0x4bf2ee(0xba0)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x54b16c=_0x1b610a;currentInputPin='',updatePinDisplay(),document[_0x54b16c(0x8a9)]('pin-entry-modal')['classList'][_0x54b16c(0x1e9)](_0x54b16c(0x9cf));}function updatePinDisplay(){const _0x244d31=_0x1b610a,_0x3d1cb8=document[_0x244d31(0x6b8)](_0x244d31(0x66b));_0x3d1cb8['forEach']((_0x5567e8,_0x3bac02)=>{const _0x51414f=_0x244d31;_0x3bac02<currentInputPin[_0x51414f(0x14c)]?(_0x5567e8[_0x51414f(0xab8)]=currentInputPin[_0x3bac02],_0x5567e8[_0x51414f(0xb12)][_0x51414f(0x786)](_0x51414f(0x188),_0x51414f(0x75a)),_0x5567e8[_0x51414f(0xb12)][_0x51414f(0x1e9)](_0x51414f(0xc71),_0x51414f(0xdab))):(_0x5567e8['textContent']='',_0x5567e8[_0x51414f(0xb12)]['remove'](_0x51414f(0x188),_0x51414f(0x75a)),_0x5567e8[_0x51414f(0xb12)][_0x51414f(0x786)](_0x51414f(0xc71),_0x51414f(0xdab)));});}async function handlePinKeyPress(_0x620c1e){const _0x121d53=_0x1b610a;if(_0x620c1e==='backspace')currentInputPin=currentInputPin['slice'](0x0,-0x1);else currentInputPin[_0x121d53(0x14c)]<0x4&&(currentInputPin+=_0x620c1e);updatePinDisplay(),currentInputPin[_0x121d53(0x14c)]===0x4&&setTimeout(async()=>{const _0x5367f9=_0x121d53;document[_0x5367f9(0x8a9)](_0x5367f9(0x831))[_0x5367f9(0xb12)]['add'](_0x5367f9(0x9cf)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x4c07a8){const _0x198430=_0x1b610a,_0x1fd7a5=_0x4c07a8[_0x198430(0x937)]();showMessage(_0x198430(0x1d7));try{const _0x515d61=collection(db,_0x198430(0x407)+appId+_0x198430(0x280)),_0x64988f=query(_0x515d61,where(_0x198430(0xd00),'==',_0x1fd7a5),where(_0x198430(0x9fb),'==',_0x198430(0xd28))),_0x2d50d6=await getDocs(_0x64988f);if(!_0x2d50d6[_0x198430(0x634)]){console[_0x198430(0xd62)](_0x198430(0x204)),await proceedWithTeamQuizJoin(_0x2d50d6['docs'][0x0]);return;}const _0x1618c5=collection(db,'artifacts/'+appId+_0x198430(0x709)),_0x27feb0=query(_0x1618c5,where('pin','==',_0x1fd7a5),where(_0x198430(0x9fb),'in',['lobby',_0x198430(0x824),_0x198430(0xa76),_0x198430(0x423)])),_0xef61ec=await getDocs(_0x27feb0);if(!_0xef61ec[_0x198430(0x634)]){console[_0x198430(0xd62)](_0x198430(0x725)),await proceedWithSyncQuizJoin(_0xef61ec[_0x198430(0x654)][0x0]);return;}showMessage(_0x198430(0xe4a));}catch(_0x1b3954){console['error'](_0x198430(0x7d2),_0x1b3954),showMessage(_0x198430(0x614)+_0x1b3954[_0x198430(0xba0)]);}}async function proceedWithTeamQuizJoin(_0x5343f1){const _0xf30b04=_0x1b610a;currentTeamQuizId=_0x5343f1['id'];const _0x2d2da9=_0x5343f1[_0xf30b04(0x860)](),_0x33498d=doc(db,'artifacts/'+appId+_0xf30b04(0x622),_0x2d2da9[_0xf30b04(0xccc)]),_0x29cf95=doc(db,'artifacts/'+appId+_0xf30b04(0x399),_0x2d2da9[_0xf30b04(0x782)]),[_0x16b529,_0x54bb15]=await Promise[_0xf30b04(0xbd8)]([getDoc(_0x33498d),getDoc(_0x29cf95)]);if(!_0x16b529[_0xf30b04(0xa90)]()||!_0x54bb15[_0xf30b04(0xa90)]())throw new Error(_0xf30b04(0xdd4));currentQuizData=getShuffledQuiz({'id':_0x54bb15['id'],..._0x54bb15['data']()}),showTeamPlayerSelection(_0x16b529['data']()['students'],currentQuizData[_0xf30b04(0x5cc)],_0x2d2da9[_0xf30b04(0x301)]||_0xf30b04(0xbaf)),messageModal['classList'][_0xf30b04(0x786)](_0xf30b04(0x9cf));}async function proceedWithSyncQuizJoin(_0x3d35ff){const _0x3cade0=_0x1b610a;currentLiveGameId=_0x3d35ff['id'];const _0x17db58=_0x3d35ff[_0x3cade0(0x860)](),_0x5eebeb=doc(db,_0x3cade0(0x407)+appId+_0x3cade0(0x399),_0x17db58[_0x3cade0(0x782)]),_0x33e4d3=await getDoc(_0x5eebeb);if(!_0x33e4d3[_0x3cade0(0xa90)]())throw new Error(_0x3cade0(0x8ee));const _0x5120d4=_0x33e4d3[_0x3cade0(0x860)](),_0x5761d1=doc(db,_0x3cade0(0x407)+appId+_0x3cade0(0x622),_0x5120d4['projectId']),_0x5b104d=await getDoc(_0x5761d1);if(!_0x5b104d['exists']())throw new Error(_0x3cade0(0x209));currentQuizData=_0x17db58[_0x3cade0(0x698)],showView(_0x3cade0(0x340)),showTeamPlayerSelection(_0x5b104d[_0x3cade0(0x860)]()[_0x3cade0(0x3a4)],_0x5120d4['topic'],_0x3cade0(0xb30));const _0x2d39be=document['getElementById'](_0x3cade0(0x62b)),_0xd3cfc6=_0x2d39be[_0x3cade0(0x965)](!![]);_0x2d39be[_0x3cade0(0xc9e)][_0x3cade0(0xb13)](_0xd3cfc6,_0x2d39be),_0xd3cfc6[_0x3cade0(0x743)]=confirmAndJoinSyncGame,messageModal['classList']['add'](_0x3cade0(0x9cf));}function getCleanApplicationHTML(){const _0x40f435=_0x1b610a,_0x218bc0=document[_0x40f435(0x8a9)](_0x40f435(0x424));if(!_0x218bc0)return'';const _0xae8779=_0x218bc0[_0x40f435(0x965)](!![]);return _0xae8779['querySelectorAll'](_0x40f435(0xd8c))['forEach'](_0x226aa5=>{const _0x3718f3=_0x40f435;_0x226aa5['classList']['remove']('correct','incorrect'),_0x226aa5[_0x3718f3(0x317)]=![];}),_0xae8779[_0x40f435(0x568)];}function showTeamPlayerSelection(_0x1b3ba2,_0x5d2476,_0x7ec587='team'){const _0x391d48=_0x1b610a;studentInitialView['classList']['add'](_0x391d48(0x9cf)),studentJoinGameView[_0x391d48(0xb12)][_0x391d48(0x786)](_0x391d48(0x9cf)),document[_0x391d48(0x8a9)]('student-team-selection-view')[_0x391d48(0xb12)][_0x391d48(0x1e9)](_0x391d48(0x9cf));let _0x5addbe=_0x391d48(0x888);if(_0x7ec587===_0x391d48(0xa2d))_0x5addbe='Group\x20Mode';else _0x7ec587==='sync'&&(_0x5addbe='Sync\x20Mode');document[_0x391d48(0x8a9)]('team-quiz-topic')[_0x391d48(0xab8)]=_0x5addbe+':\x20'+_0x5d2476;const _0x4d4195=document[_0x391d48(0x8a9)](_0x391d48(0x876));if(!_0x1b3ba2||_0x1b3ba2[_0x391d48(0x14c)]===0x0){_0x4d4195[_0x391d48(0x568)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x391d48(0x8a9)](_0x391d48(0x62b))[_0x391d48(0x317)]=!![];return;}_0x4d4195[_0x391d48(0x568)]=_0x1b3ba2[_0x391d48(0x4cb)](_0x2f3c56=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x2f3c56+_0x391d48(0xa87)+_0x2f3c56+_0x391d48(0x401))['join'](''),document[_0x391d48(0x8a9)]('confirm-team-players-btn')[_0x391d48(0x317)]=![];}async function confirmAndStartTeamQuiz(){const _0x97c0a9=_0x1b610a,_0x33a714=Array['from'](document[_0x97c0a9(0x6b8)](_0x97c0a9(0xa92)))['map'](_0x17a85d=>_0x17a85d[_0x97c0a9(0x61e)]);if(_0x33a714['length']===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x33a714,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x2a13f9=doc(db,_0x97c0a9(0x407)+appId+_0x97c0a9(0x280),currentTeamQuizId);try{const _0x288da2=await getDoc(_0x2a13f9);if(!_0x288da2[_0x97c0a9(0xa90)]())throw new Error(_0x97c0a9(0x4f6));const _0x569347=_0x288da2['data']();if(_0x569347[_0x97c0a9(0x301)]===_0x97c0a9(0xa2d)){const _0x7132db={[_0x97c0a9(0x18c)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x2a13f9,_0x7132db);}else{const _0x4fa32d=_0x569347[_0x97c0a9(0xdbe)]||{};localTeamPlayers[_0x97c0a9(0xacf)](_0x59848d=>{!_0x4fa32d[_0x59848d]&&(_0x4fa32d[_0x59848d]={'score':0x0,'answers':[]});}),await updateDoc(_0x2a13f9,{'responses':_0x4fa32d});}document[_0x97c0a9(0x8a9)](_0x97c0a9(0xad9))['classList']['add'](_0x97c0a9(0x9cf)),renderTeamQuizQuestion();const _0x48c103={'gameId':currentTeamQuizId,'mode':_0x569347[_0x97c0a9(0x301)]||_0x97c0a9(0xbaf),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x97c0a9(0x616)](_0x97c0a9(0x87d),JSON[_0x97c0a9(0xb0c)](_0x48c103)),listenForTeamQuizUpdates();}catch(_0x535e87){console[_0x97c0a9(0xce3)]('Error\x20confirming\x20players:',_0x535e87),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x1ab1f6=_0x1b610a;if(localQuestionIndex>=currentQuizData[_0x1ab1f6(0x3c6)][_0x1ab1f6(0x14c)]){displayTeamQuizFinalResults();return;}const _0x2226cb=currentQuizData[_0x1ab1f6(0x3c6)][localQuestionIndex],_0x43a461=localTeamPlayers[localPlayerIndex],_0x8e9e66=_0x2226cb[_0x1ab1f6(0xa9f)]||currentQuizData[_0x1ab1f6(0xcb6)];let _0x4a5c68=_0x2226cb[_0x1ab1f6(0xc35)]||_0x2226cb['questionText'],_0x14f85d='';switch(_0x8e9e66){case _0x1ab1f6(0x24a):case _0x1ab1f6(0x270):_0x14f85d=_0x2226cb[_0x1ab1f6(0x487)][_0x1ab1f6(0x4cb)]((_0xf45887,_0x345ef2)=>_0x1ab1f6(0x9f5)+_0x345ef2+_0x1ab1f6(0x61c)+_0x345ef2+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x345ef2+'\x22>'+_0xf45887+_0x1ab1f6(0x964))[_0x1ab1f6(0x656)]('');break;case _0x1ab1f6(0x8fb):_0x14f85d=_0x1ab1f6(0x704);break;case'short_answer':case _0x1ab1f6(0x312):_0x14f85d=_0x1ab1f6(0x7af);break;case _0x1ab1f6(0x3e6):_0x14f85d=_0x1ab1f6(0x921)+_0x2226cb['allResponses']['map'](_0x5dd030=>_0x1ab1f6(0x15f)+_0x5dd030+'\x22>'+_0x5dd030+_0x1ab1f6(0xbe2))['join']('')+_0x1ab1f6(0x2e0);break;default:_0x14f85d=_0x1ab1f6(0x81b);break;}studentQuizArea['innerHTML']=_0x1ab1f6(0xa86)+(localQuestionIndex+0x1)+_0x1ab1f6(0x2e6)+currentQuizData[_0x1ab1f6(0x3c6)][_0x1ab1f6(0x14c)]+_0x1ab1f6(0xe15)+_0x43a461+_0x1ab1f6(0xddb)+(localQuestionIndex+0x1)+'.\x20'+_0x4a5c68+_0x1ab1f6(0x57e)+(_0x2226cb[_0x1ab1f6(0x538)]?_0x1ab1f6(0x64b)+_0x2226cb[_0x1ab1f6(0x538)]+_0x1ab1f6(0x96b):'')+_0x1ab1f6(0x844)+_0x14f85d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x1ab1f6(0xb12)][_0x1ab1f6(0x1e9)](_0x1ab1f6(0x9cf));if(window[_0x1ab1f6(0xb1b)])MathJax[_0x1ab1f6(0x4a5)]([studentQuizArea]);document[_0x1ab1f6(0x8a9)](_0x1ab1f6(0x530))['addEventListener'](_0x1ab1f6(0xcc3),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x5431f7=_0x1b610a,_0x56256e=currentQuizData['questions'][localQuestionIndex],_0x54c0de=_0x56256e[_0x5431f7(0xa9f)]||currentQuizData[_0x5431f7(0xcb6)];let _0x38ad04=null,_0xa6672a=![];if(_0x54c0de==='short_answer'||_0x54c0de===_0x5431f7(0x312)){const _0x34bef8=document[_0x5431f7(0x2b0)](_0x5431f7(0xa1c));if(!_0x34bef8||!_0x34bef8[_0x5431f7(0x61e)][_0x5431f7(0x937)]()){showMessage(_0x5431f7(0x51c));return;}_0x38ad04=_0x34bef8[_0x5431f7(0x61e)]['trim'](),_0xa6672a=await gradeShortAnswer(_0x38ad04,_0x56256e);}else{const _0x29d08b=document['querySelector'](_0x5431f7(0x29d));if(!_0x29d08b||_0x29d08b[_0x5431f7(0x61e)]===''){showMessage(_0x5431f7(0x2dc));return;}_0x38ad04=_0x29d08b[_0x5431f7(0x61e)];switch(_0x54c0de){case _0x5431f7(0x8fb):_0xa6672a=_0x38ad04===_0x5431f7(0xd57)===_0x56256e[_0x5431f7(0xad3)];break;case'matching_item':_0xa6672a=_0x38ad04===_0x56256e[_0x5431f7(0x11c)];break;default:_0xa6672a=parseInt(_0x38ad04)===_0x56256e['correctAnswerIndex'];break;}}const _0x2211ae={'questionIndex':localQuestionIndex,'isCorrect':_0xa6672a},_0x427639=userId,_0x5ae0b1={[_0x5431f7(0x18c)+_0x427639+'.answers']:arrayUnion(_0x2211ae)};_0xa6672a&&(_0x5ae0b1[_0x5431f7(0x18c)+_0x427639+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x5431f7(0x407)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5ae0b1),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x5431f7(0x3c6)][_0x5431f7(0x14c)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x213763){console['error'](_0x5431f7(0x344),_0x213763),showMessage(_0x5431f7(0x73b));}}async function handleTeamAnswerSubmit(){const _0x590d6a=_0x1b610a,_0x3eb912=await getDoc(doc(db,_0x590d6a(0x407)+appId+_0x590d6a(0x280),currentTeamQuizId));if(!_0x3eb912[_0x590d6a(0xa90)]())return;const _0x48de01=_0x3eb912[_0x590d6a(0x860)]();if(_0x48de01[_0x590d6a(0x301)]===_0x590d6a(0xa2d)){handleGroupAnswerSubmit();return;}const _0x1831ab=localTeamPlayers[localPlayerIndex],_0x7e418f=currentQuizData[_0x590d6a(0x3c6)][localQuestionIndex],_0x1aff5e=_0x7e418f['questionType']||currentQuizData[_0x590d6a(0xcb6)];let _0x511358=null,_0x523f44=![];if(_0x1aff5e===_0x590d6a(0x815)||_0x1aff5e===_0x590d6a(0x312)){const _0x672fe9=document[_0x590d6a(0x2b0)](_0x590d6a(0xa1c));if(!_0x672fe9||!_0x672fe9[_0x590d6a(0x61e)]['trim']()){showMessage(_0x590d6a(0x7ce));return;}_0x511358=_0x672fe9[_0x590d6a(0x61e)][_0x590d6a(0x937)](),_0x523f44=await gradeShortAnswer(_0x511358,_0x7e418f);}else{const _0x33247a=document[_0x590d6a(0x2b0)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x33247a||_0x33247a[_0x590d6a(0x61e)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x511358=_0x33247a[_0x590d6a(0x61e)];switch(_0x1aff5e){case _0x590d6a(0x8fb):_0x523f44=_0x511358==='true'===_0x7e418f['correctAnswer'];break;case _0x590d6a(0x3e6):_0x523f44=_0x511358===_0x7e418f['correctResponse'];break;default:_0x523f44=parseInt(_0x511358)===_0x7e418f['correctAnswerIndex'];break;}}const _0x28f8a4={'questionIndex':localQuestionIndex,'isCorrect':_0x523f44,'answerValue':_0x511358},_0x3b7c6b={['responses.'+_0x1831ab+_0x590d6a(0x3a6)]:arrayUnion(_0x28f8a4)};_0x523f44&&(_0x3b7c6b[_0x590d6a(0x767)+_0x1831ab+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x590d6a(0x407)+appId+_0x590d6a(0x280),currentTeamQuizId),_0x3b7c6b),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x590d6a(0x14c)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x5af08d){console[_0x590d6a(0xce3)](_0x590d6a(0x847),_0x5af08d),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x5ef6d9=_0x1b610a;studentQuizArea['classList'][_0x5ef6d9(0x786)]('hidden'),studentResultArea[_0x5ef6d9(0xb12)][_0x5ef6d9(0x1e9)](_0x5ef6d9(0x9cf));const _0xbe2049=doc(db,'artifacts/'+appId+_0x5ef6d9(0x280),currentTeamQuizId),_0x45f915=await getDoc(_0xbe2049);if(!_0x45f915[_0x5ef6d9(0xa90)]()){studentResultArea['innerHTML']=_0x5ef6d9(0xb39);return;}const _0x544112=_0x45f915[_0x5ef6d9(0x860)]();let _0x593087=[];const _0x125d51=_0x544112[_0x5ef6d9(0x301)]||_0x5ef6d9(0xbaf);if(_0x125d51===_0x5ef6d9(0xa2d)){const _0x1b60df=_0x544112[_0x5ef6d9(0x300)][userId];_0x1b60df?_0x593087=[{'name':_0x5ef6d9(0xe66)+localTeamPlayers[_0x5ef6d9(0x656)](',\x20'),'score':_0x1b60df[_0x5ef6d9(0xdd7)]||0x0}]:_0x593087=[{'name':_0x5ef6d9(0x224),'score':'N/A'}];}else _0x593087=localTeamPlayers[_0x5ef6d9(0x4cb)](_0x2055db=>({'name':_0x2055db,'score':_0x544112['responses'][_0x2055db]?.[_0x5ef6d9(0xdd7)]||0x0}))['sort']((_0x5a75be,_0x99c090)=>_0x99c090[_0x5ef6d9(0xdd7)]-_0x5a75be[_0x5ef6d9(0xdd7)]);studentResultArea['innerHTML']=_0x5ef6d9(0x457)+_0x593087[_0x5ef6d9(0x4cb)](_0x586147=>_0x5ef6d9(0xc6c)+_0x586147[_0x5ef6d9(0x835)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x586147[_0x5ef6d9(0xdd7)]+_0x5ef6d9(0xae9))[_0x5ef6d9(0x656)]('')+_0x5ef6d9(0x9b1),sessionStorage[_0x5ef6d9(0x4eb)](_0x5ef6d9(0x87d)),currentMode===_0x5ef6d9(0xe00)&&currentTeamQuizId&&setTimeout(()=>{deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1b610a(0x475),'pinnedProjects':[],'projectView':_0x1b610a(0x734)};const allMathTopics=[{'category':_0x1b610a(0x4c4),'name':'การนับ'},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x39d)},{'category':'จำนวนและการดำเนินการ','name':_0x1b610a(0x8b0)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x703)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0xe1f)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x81e)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x7ee)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x6e8)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x8a0)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x411)},{'category':'จำนวนและการดำเนินการ','name':_0x1b610a(0x677)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x6e3)},{'category':'จำนวนและการดำเนินการ','name':_0x1b610a(0x82f)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x194)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x231)},{'category':_0x1b610a(0x4c4),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0xc77)},{'category':_0x1b610a(0x4c4),'name':'อัตราและอัตราหน่วย'},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0xcc4)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x33f)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0xdbb)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x764)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x6e9)},{'category':_0x1b610a(0x4c4),'name':'จำนวนคละ'},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x939)},{'category':_0x1b610a(0x4c4),'name':'การบวกทศนิยม'},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x1f8)},{'category':'จำนวนและการดำเนินการ','name':_0x1b610a(0xca2)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0xdd5)},{'category':_0x1b610a(0x4c4),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x3b1)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x611)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x3ad)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0x95c)},{'category':_0x1b610a(0x4c4),'name':_0x1b610a(0xc1b)},{'category':'จำนวนและการดำเนินการ','name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':_0x1b610a(0x415)},{'category':_0x1b610a(0x664),'name':_0x1b610a(0x1d6)},{'category':'การวัด','name':_0x1b610a(0x4ef)},{'category':_0x1b610a(0x664),'name':_0x1b610a(0x672)},{'category':_0x1b610a(0x664),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x1b610a(0x664),'name':_0x1b610a(0x890)},{'category':_0x1b610a(0x664),'name':_0x1b610a(0x7da)},{'category':_0x1b610a(0x664),'name':_0x1b610a(0xae3)},{'category':'การวัด','name':_0x1b610a(0xc47)},{'category':_0x1b610a(0x664),'name':_0x1b610a(0x216)},{'category':'การวัด','name':_0x1b610a(0xd08)},{'category':_0x1b610a(0x664),'name':_0x1b610a(0x59a)},{'category':_0x1b610a(0x664),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x1b610a(0x1b9)},{'category':_0x1b610a(0x664),'name':_0x1b610a(0x2c1)},{'category':_0x1b610a(0xc50),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x1b610a(0xc50),'name':_0x1b610a(0xd4d)},{'category':_0x1b610a(0xc50),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x1b610a(0xc50),'name':_0x1b610a(0xc47)},{'category':_0x1b610a(0xc50),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x1b610a(0xc50),'name':_0x1b610a(0x918)},{'category':_0x1b610a(0xc50),'name':_0x1b610a(0x398)},{'category':_0x1b610a(0xc50),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':'เรขาคณิต','name':_0x1b610a(0x6b7)},{'category':_0x1b610a(0xc50),'name':_0x1b610a(0x55d)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x1b610a(0xc50),'name':_0x1b610a(0xe09)},{'category':_0x1b610a(0xc50),'name':_0x1b610a(0xaee)},{'category':_0x1b610a(0xc50),'name':_0x1b610a(0x23d)},{'category':'เรขาคณิต','name':_0x1b610a(0x9b8)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':_0x1b610a(0x3cc),'name':'การกระจายและการจัดหมู่'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b610a(0xd5c)},{'category':_0x1b610a(0x3cc),'name':'การแยกตัวประกอบ'},{'category':_0x1b610a(0x3cc),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b610a(0x801)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x404)},{'category':_0x1b610a(0x3cc),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b610a(0xbad)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x836)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':_0x1b610a(0x3cc),'name':'สมการยกกำลัง'},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x24b)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x5f2)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x4ee)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x62a)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x2fb)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b610a(0x462)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x7c1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b610a(0x1d5)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0xb2e)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x180)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b610a(0xa68)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b610a(0x78e)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x84a)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0xe50)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x34f)},{'category':_0x1b610a(0x3cc),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0xd69)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x19a)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0xdf0)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0xb4e)},{'category':_0x1b610a(0x3cc),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1b610a(0x21a)},{'category':_0x1b610a(0x3cc),'name':_0x1b610a(0x800)},{'category':_0x1b610a(0x3d7),'name':_0x1b610a(0x3bc)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1b610a(0xcc2)},{'category':_0x1b610a(0x3d7),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x1b610a(0x3d7),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x1b610a(0x3d7),'name':_0x1b610a(0x562)},{'category':_0x1b610a(0x3d7),'name':_0x1b610a(0xa99)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1b610a(0xd09)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1b610a(0x168)},{'category':_0x1b610a(0x3d7),'name':_0x1b610a(0xa4e)},{'category':_0x1b610a(0x3bd),'name':_0x1b610a(0x7eb)},{'category':_0x1b610a(0x3bd),'name':_0x1b610a(0x583)},{'category':_0x1b610a(0x3bd),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':_0x1b610a(0x7e9)},{'category':_0x1b610a(0x3bd),'name':'กฎของไซน์'},{'category':_0x1b610a(0x3bd),'name':_0x1b610a(0x3ec)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x1b610a(0x3bd),'name':_0x1b610a(0xc06)},{'category':_0x1b610a(0x3bd),'name':'สมการตรีโกณมิติ'},{'category':_0x1b610a(0x3bd),'name':_0x1b610a(0x894)},{'category':_0x1b610a(0x3bd),'name':_0x1b610a(0x97f)},{'category':_0x1b610a(0xb88),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0xa2c)},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0x226)},{'category':'สถิติและความน่าจะเป็น','name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0xafd)},{'category':'สถิติและความน่าจะเป็น','name':_0x1b610a(0xe39)},{'category':'สถิติและความน่าจะเป็น','name':_0x1b610a(0x863)},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0x152)},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0x80d)},{'category':_0x1b610a(0xb88),'name':'พิสัย'},{'category':'สถิติและความน่าจะเป็น','name':_0x1b610a(0xdb2)},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0xaa5)},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0xc70)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0xaca)},{'category':'สถิติและความน่าจะเป็น','name':_0x1b610a(0x388)},{'category':'สถิติและความน่าจะเป็น','name':_0x1b610a(0x22d)},{'category':_0x1b610a(0xb88),'name':'แผนภาพเวนน์'},{'category':'สถิติและความน่าจะเป็น','name':_0x1b610a(0x84e)},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0x719)},{'category':_0x1b610a(0xb88),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0xe10)},{'category':'สถิติและความน่าจะเป็น','name':_0x1b610a(0xaf1)},{'category':_0x1b610a(0xb88),'name':_0x1b610a(0x3b2)},{'category':_0x1b610a(0x700),'name':_0x1b610a(0xe67)},{'category':_0x1b610a(0x700),'name':_0x1b610a(0x732)},{'category':_0x1b610a(0x700),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x1b610a(0x700),'name':_0x1b610a(0xb81)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1b610a(0xbf3)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1b610a(0x5e9)},{'category':_0x1b610a(0x700),'name':'ความชันเส้นสัมผัส'},{'category':_0x1b610a(0x700),'name':_0x1b610a(0x13b)},{'category':_0x1b610a(0x700),'name':_0x1b610a(0xb92)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x1b610a(0xe76)},{'category':_0x1b610a(0x700),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x1b610a(0x700),'name':_0x1b610a(0x63a)},{'category':_0x1b610a(0xd2c),'name':_0x1b610a(0x504)},{'category':_0x1b610a(0xd2c),'name':'ดอทโปรดักต์\x20(dot)'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1b610a(0xc7c)},{'category':_0x1b610a(0xd2c),'name':_0x1b610a(0x3ab)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1b610a(0x445)},{'category':_0x1b610a(0xd2c),'name':_0x1b610a(0xd74)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1b610a(0xa95)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1b610a(0x461)},{'category':_0x1b610a(0x551),'name':_0x1b610a(0x94b)},{'category':_0x1b610a(0x551),'name':_0x1b610a(0xdfb)},{'category':_0x1b610a(0x551),'name':'ค่าเสื่อมราคา'},{'category':_0x1b610a(0x551),'name':'ร้อยละประยุกต์'},{'category':_0x1b610a(0x4bc),'name':_0x1b610a(0x30f)},{'category':_0x1b610a(0x4bc),'name':'รูปแบบการให้เหตุผล'},{'category':_0x1b610a(0x4bc),'name':_0x1b610a(0x550)}];function renderTopicCheckboxes(){const _0x2a5298=_0x1b610a,_0x5cf827=document[_0x2a5298(0x8a9)]('math-topics-checkbox-container');if(!_0x5cf827)return;const _0x8d4c7b=allMathTopics,_0x4f10f9=customMathTopics[_0x2a5298(0x4cb)](_0x6df112=>({'id':_0x6df112['id'],'category':_0x2a5298(0xddc),'name':_0x6df112[_0x2a5298(0x835)]})),_0x2e9617=[..._0x8d4c7b,..._0x4f10f9],_0x11855a=_0x2e9617[_0x2a5298(0x817)]((_0x49d73b,_0xc2e8c6)=>{const _0x44fcb7=_0x2a5298;return!_0x49d73b[_0xc2e8c6[_0x44fcb7(0x3e5)]]&&(_0x49d73b[_0xc2e8c6[_0x44fcb7(0x3e5)]]=[]),_0x49d73b[_0xc2e8c6[_0x44fcb7(0x3e5)]][_0x44fcb7(0x6fd)](_0xc2e8c6),_0x49d73b;},{});let _0x511787='';const _0x3a83ba=[_0x2a5298(0xddc),...Object[_0x2a5298(0x770)](_0x11855a)[_0x2a5298(0x58f)](_0x328c6e=>_0x328c6e!==_0x2a5298(0xddc))];for(const _0x127ef4 of _0x3a83ba){if(_0x11855a[_0x127ef4]){const _0xf6ebc3=_0x127ef4===_0x2a5298(0xddc),_0x3791af=_0xf6ebc3?_0x2a5298(0x780):'fas\x20fa-bookmark',_0x1c6ada=_0xf6ebc3?_0x2a5298(0xe5e):_0x2a5298(0x56e);_0x511787+=_0x2a5298(0xa09),_0x511787+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x1c6ada+_0x2a5298(0x7b7)+_0x3791af+_0x2a5298(0xd72)+_0x127ef4+_0x2a5298(0x602),_0x11855a[_0x127ef4][_0x2a5298(0xacf)](_0x348a27=>{const _0x497710=_0x2a5298,_0x279e87=!!_0x348a27['id'],_0xff984=_0x279e87?_0x497710(0xd0a)+_0x348a27['id']+_0x497710(0x2a9)+_0x348a27['id']+_0x497710(0x74a)+_0x348a27['id']+_0x497710(0xd2e)+_0x348a27['id']+_0x497710(0x534):'';_0x511787+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x348a27['id']||'')+_0x497710(0x7fe)+_0x348a27['name']+_0x497710(0x183)+_0x348a27['name']+_0x497710(0xc10)+(_0x279e87?_0x497710(0x3dc)+_0x348a27[_0x497710(0x835)]+'\x22>':'')+_0x497710(0x7cc)+_0xff984+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x511787+=_0x2a5298(0x96b);}}_0x5cf827[_0x2a5298(0x568)]=_0x511787||_0x2a5298(0x977),_0x5cf827['removeEventListener']('change',updateSelectedTopicsCount),_0x5cf827['addEventListener'](_0x2a5298(0x39f),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x23071d,_0x26d9a4){const _0x3b3bd9=_0x1b610a;if(!_0x23071d||!_0x26d9a4['trim']()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x4b5bc6=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x23071d);await updateDoc(_0x4b5bc6,{'name':_0x26d9a4['trim']()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x1fa8a4){console['error'](_0x3b3bd9(0x386),_0x1fa8a4),showMessage(_0x3b3bd9(0x7ea));}}function toggleTopicEditMode(_0x80b131,_0x510ff4){const _0x164bdc=_0x1b610a;if(!_0x80b131)return;const _0x38c103=_0x80b131['querySelector']('.topic-name-display'),_0x3734c3=_0x80b131[_0x164bdc(0x2b0)](_0x164bdc(0x4ac)),_0x796a48=_0x80b131[_0x164bdc(0x2b0)](_0x164bdc(0x6d7)),_0x14cb30=_0x80b131[_0x164bdc(0x2b0)](_0x164bdc(0x1be));_0x38c103[_0x164bdc(0xb12)][_0x164bdc(0x830)](_0x164bdc(0x9cf),_0x510ff4),_0x3734c3[_0x164bdc(0xb12)][_0x164bdc(0x830)](_0x164bdc(0x9cf),!_0x510ff4),_0x796a48[_0x164bdc(0xb12)][_0x164bdc(0x830)](_0x164bdc(0x9cf),_0x510ff4),_0x14cb30['classList'][_0x164bdc(0x830)]('hidden',!_0x510ff4),_0x510ff4&&(_0x3734c3['focus'](),_0x3734c3[_0x164bdc(0xaf7)]());}async function handleStartLiveRace(_0x2900dd){const _0x393480=_0x1b610a;let _0x5cc290=allQuizzes[_0x393480(0x6bf)](_0xfb0a38=>_0xfb0a38['id']===_0x2900dd);if(!_0x5cc290){const _0x5ac54e=doc(db,_0x393480(0x407)+appId+_0x393480(0x399),_0x2900dd),_0x555a92=await getDoc(_0x5ac54e);if(!_0x555a92[_0x393480(0xa90)]()){showMessage(_0x393480(0x8ee));return;}_0x5cc290={'id':_0x555a92['id'],..._0x555a92[_0x393480(0x860)]()};}const _0x3822d1=getShuffledQuiz(_0x5cc290);currentQuizData=_0x3822d1;const _0x12327d=_0x5cc290[_0x393480(0xccc)]||currentProjectId||null,_0x147b96=Math[_0x393480(0x85e)](0x3e8+Math[_0x393480(0xa73)]()*0x2328)[_0x393480(0x91c)]();currentLiveGamePin=_0x147b96;try{const _0x453d60=await addDoc(collection(db,_0x393480(0x407)+appId+_0x393480(0x429)),{'quizId':_0x2900dd,'projectId':_0x12327d,'status':_0x393480(0xd28),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x147b96,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3822d1});currentLiveGameId=_0x453d60['id'],showAdminLobbyView(_0x147b96,_0x5cc290[_0x393480(0x5cc)]),listenForLiveGameUpdates();}catch(_0x2938ef){console['error'](_0x393480(0xe1e),_0x2938ef),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0xcbdc9b=_0x1b610a,_0x5e983f=document[_0xcbdc9b(0x8a9)](_0xcbdc9b(0x1e5)),_0x4a9213=_0x5e983f[_0xcbdc9b(0x6b8)](_0xcbdc9b(0x82c))[_0xcbdc9b(0x14c)],_0xe3d484=document[_0xcbdc9b(0x8a9)](_0xcbdc9b(0x75e));_0x4a9213>0x0?_0xe3d484[_0xcbdc9b(0xab8)]=_0xcbdc9b(0x610)+_0x4a9213+'\x20หัวข้อ)':_0xe3d484['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1b610a(0x28a),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1b610a(0x5db),quizLeaderboardSortOrder=_0x1b610a(0x8d6),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1b610a(0x39a),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1b610a(0x5fa),scratchpadPenColor=_0x1b610a(0x902),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x30a7b0,_0x3c96ce){const _0x44bc47=_0x1b610a;return Math[_0x44bc47(0xda3)](Math['pow'](_0x30a7b0['x']-_0x3c96ce['x'],0x2)+Math[_0x44bc47(0x92b)](_0x30a7b0['y']-_0x3c96ce['y'],0x2));}function getMidpoint(_0x4bc81c,_0xffc25d){return{'x':(_0x4bc81c['x']+_0xffc25d['x'])/0x2,'y':(_0x4bc81c['y']+_0xffc25d['y'])/0x2};}function getTransformedPoint(_0x4dd863,_0x18ed03){return{'x':(_0x4dd863-scratchpadOffset['x'])/scratchpadScale,'y':(_0x18ed03-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x3bf505=_0x1b610a;if(!scratchpadCtx)return;const _0x2b919e=scratchpadCtx['canvas'],_0x35f8ac=window[_0x3bf505(0x5f6)]||0x1,_0x569312=document[_0x3bf505(0x8a9)]('scratchpad-header');_0x569312&&(_0x569312['style'][_0x3bf505(0x452)]='0\x200',_0x569312['style'][_0x3bf505(0x472)]=_0x3bf505(0x88e)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x3bf505(0xa00)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x35f8ac,0x0,0x0,_0x35f8ac,0x0,0x0),scratchpadCtx[_0x3bf505(0xd9c)](0x0,0x0,_0x2b919e[_0x3bf505(0x29a)],_0x2b919e['height']),scratchpadCtx[_0x3bf505(0xca5)](),scratchpadCtx[_0x3bf505(0x2cd)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x3bf505(0x271)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x10a587=>{drawStroke(_0x10a587);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x3bf505(0xca5)]();}function renderGroupModeQuestion(){const _0x3d2fb0=_0x1b610a;if(localQuestionIndex>=currentQuizData[_0x3d2fb0(0x3c6)][_0x3d2fb0(0x14c)]){displayTeamQuizFinalResults();return;}const _0x88c6eb=currentQuizData['questions'][localQuestionIndex],_0x1d0118=_0x88c6eb[_0x3d2fb0(0xa9f)]||currentQuizData['quizType'];let _0x409f42=_0x88c6eb['stem']||_0x88c6eb[_0x3d2fb0(0x460)],_0x43665d='';switch(_0x1d0118){case _0x3d2fb0(0x24a):case _0x3d2fb0(0x270):_0x43665d=_0x88c6eb[_0x3d2fb0(0x487)]['map']((_0x4d744a,_0x4153bd)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x4153bd+_0x3d2fb0(0x61c)+_0x4153bd+_0x3d2fb0(0x7d4)+_0x4153bd+'\x22>'+_0x4d744a+'</label></div>')[_0x3d2fb0(0x656)]('');break;case'true_false':_0x43665d='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case _0x3d2fb0(0x312):_0x43665d=_0x3d2fb0(0xac1);break;case _0x3d2fb0(0x3e6):_0x43665d=_0x3d2fb0(0x921)+_0x88c6eb['allResponses'][_0x3d2fb0(0x4cb)](_0x40a2d7=>_0x3d2fb0(0x15f)+_0x40a2d7+'\x22>'+_0x40a2d7+_0x3d2fb0(0xbe2))[_0x3d2fb0(0x656)]('')+_0x3d2fb0(0x2e0);break;default:_0x43665d=_0x3d2fb0(0x81b);break;}studentQuizArea[_0x3d2fb0(0x568)]=_0x3d2fb0(0xa86)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x3d2fb0(0x3c6)][_0x3d2fb0(0x14c)]+_0x3d2fb0(0x380)+localTeamPlayers['join'](',\x20')+_0x3d2fb0(0xddb)+(localQuestionIndex+0x1)+'.\x20'+_0x409f42+_0x3d2fb0(0x57e)+(_0x88c6eb[_0x3d2fb0(0x538)]?_0x3d2fb0(0x64b)+_0x88c6eb[_0x3d2fb0(0x538)]+_0x3d2fb0(0x96b):'')+_0x3d2fb0(0x844)+_0x43665d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x3d2fb0(0xb12)][_0x3d2fb0(0x1e9)](_0x3d2fb0(0x9cf));if(window[_0x3d2fb0(0xb1b)])MathJax[_0x3d2fb0(0x4a5)]([studentQuizArea]);document[_0x3d2fb0(0x8a9)](_0x3d2fb0(0x7c7))[_0x3d2fb0(0xd68)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x36fc36,_0x5aa47a=null,_0x553c1e,_0x5c3643=null,_0x3fe593=![],_0x226b04=null){const _0x1852a1=_0x1b610a,_0x659b30=document[_0x1852a1(0x8a9)](_0x1852a1(0x694));_0x659b30&&_0x659b30['scrollIntoView']({'behavior':_0x1852a1(0xb8f),'block':_0x1852a1(0x6ac)}),generateQuiz(_0x36fc36,_0x5aa47a,null,_0x226b04,!![],_0x553c1e,_0x5c3643,_0x3fe593);}function handleGenerateAndShowLesson(_0x3380a8,_0x18cccf){const _0xc0128a=_0x1b610a,_0x4f82f3=document[_0xc0128a(0x8a9)](_0xc0128a(0x903)),_0xbd941c=document[_0xc0128a(0x8a9)](_0xc0128a(0x730)),_0x350e8f=document['getElementById'](_0xc0128a(0x3c9)),_0x180698=document[_0xc0128a(0x8a9)](_0xc0128a(0xaad));[_0xc0128a(0x739),_0xc0128a(0xbbb),_0xc0128a(0x424),'summaryContent'][_0xc0128a(0xacf)](_0x2ac9a8=>{const _0xc60c29=_0xc0128a,_0x1fb22a=document['getElementById'](_0x2ac9a8)[_0xc60c29(0xe08)];_0x1fb22a&&(_0x1fb22a[_0xc60c29(0x5a4)][_0xc60c29(0xe7a)]=_0xc60c29(0xcb2));}),_0xbd941c[_0xc0128a(0xab8)]='กำลังสร้างบทเรียน:\x20'+_0x3380a8,_0x180698[_0xc0128a(0xb12)]['add']('hidden'),_0x350e8f['classList']['remove'](_0xc0128a(0x9cf)),_0x4f82f3[_0xc0128a(0xb12)][_0xc0128a(0x1e9)](_0xc0128a(0x9cf)),generateLesson(_0x3380a8,_0x18cccf)[_0xc0128a(0x659)](_0x12138d=>{const _0x5eb021=_0xc0128a;console[_0x5eb021(0xce3)](_0x5eb021(0x255),_0x12138d),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x4f82f3['classList'][_0x5eb021(0x786)]('hidden');});}function handlePointerDown(_0x323695){const _0x4b92d6=_0x1b610a;_0x323695[_0x4b92d6(0x219)]();const _0x51c26e=scratchpadCtx[_0x4b92d6(0xe0b)],_0x48ec58=_0x51c26e[_0x4b92d6(0xd95)](),_0x109cfb=_0x323695[_0x4b92d6(0x2a5)]||(_0x323695['touches']?'touch':_0x4b92d6(0x8c6));if(_0x109cfb===_0x4b92d6(0x5fa)||_0x109cfb===_0x4b92d6(0x8c6)){if(_0x323695[_0x4b92d6(0x2a5)]===_0x4b92d6(0x8c6)&&_0x323695[_0x4b92d6(0xa9b)]!==0x0){_0x323695[_0x4b92d6(0xa9b)]===0x1&&(isMousePanning=!![],panStart={'x':_0x323695['clientX'],'y':_0x323695[_0x4b92d6(0x33c)]},_0x51c26e[_0x4b92d6(0x5a4)][_0x4b92d6(0xd6e)]='grabbing');return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0xdf0511=getTransformedPoint(_0x323695['clientX']-_0x48ec58[_0x4b92d6(0x8b7)],_0x323695[_0x4b92d6(0x33c)]-_0x48ec58[_0x4b92d6(0x2d3)]);let _0x1c5ae9={'tool':activeTool,'points':[_0xdf0511]};if(activeTool===_0x4b92d6(0x5fa))_0x1c5ae9['color']=scratchpadPenColor,_0x1c5ae9[_0x4b92d6(0xada)]=scratchpadPenSize;else{if(activeTool===_0x4b92d6(0xb63))_0x1c5ae9[_0x4b92d6(0x2f3)]=scratchpadPenColor,_0x1c5ae9[_0x4b92d6(0xada)]=scratchpadEraserSize;else{if(activeTool==='highlighter')_0x1c5ae9[_0x4b92d6(0x2f3)]=scratchpadHighlighterColor,_0x1c5ae9['size']=scratchpadHighlighterSize;else activeTool===_0x4b92d6(0xc67)&&(_0x1c5ae9[_0x4b92d6(0x2f3)]=scratchpadPenColor,_0x1c5ae9[_0x4b92d6(0xada)]=scratchpadPenSize);}}currentStroke=_0x1c5ae9;}else _0x323695['touches']&&(_0x323695[_0x4b92d6(0x579)][_0x4b92d6(0x14c)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x323695[_0x4b92d6(0x579)][0x0][_0x4b92d6(0xa07)],'y':_0x323695[_0x4b92d6(0x579)][0x0]['clientY']},{'x':_0x323695[_0x4b92d6(0x579)][0x1][_0x4b92d6(0xa07)],'y':_0x323695['touches'][0x1][_0x4b92d6(0x33c)]}),initialPinchDistance=getDistance({'x':_0x323695[_0x4b92d6(0x579)][0x0][_0x4b92d6(0xa07)],'y':_0x323695[_0x4b92d6(0x579)][0x0][_0x4b92d6(0x33c)]},{'x':_0x323695[_0x4b92d6(0x579)][0x1]['clientX'],'y':_0x323695[_0x4b92d6(0x579)][0x1][_0x4b92d6(0x33c)]})));}function animateTrail(){const _0x2a44e7=_0x1b610a,_0xc26eea=Date['now']();let _0x38e92b=![];for(let _0x746e10=strokes[_0x2a44e7(0x14c)]-0x1;_0x746e10>=0x0;_0x746e10--){const _0x25fe27=strokes[_0x746e10];if(_0x25fe27[_0x2a44e7(0xaa8)]===_0x2a44e7(0xc67)&&_0x25fe27['fadeStartTime']){const _0x1a7237=_0xc26eea-_0x25fe27[_0x2a44e7(0x2f8)];_0x1a7237>=TRAIL_DURATION?strokes[_0x2a44e7(0x49e)](_0x746e10,0x1):(_0x25fe27[_0x2a44e7(0xd3a)]=0x1-_0x1a7237/TRAIL_DURATION,_0x38e92b=!![]);}}redrawScratchpad(),_0x38e92b?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2a0c50){const _0x120dd2=_0x1b610a;if(!_0x2a0c50||_0x2a0c50[_0x120dd2(0xa28)]['length']<0x1)return;scratchpadCtx[_0x120dd2(0x2cd)](),scratchpadCtx[_0x120dd2(0x269)]=_0x120dd2(0x9db),scratchpadCtx[_0x120dd2(0x242)]=_0x120dd2(0x9db);if(_0x2a0c50[_0x120dd2(0xaa8)]===_0x120dd2(0xc67)){const _0x33bc9f=_0x2a0c50['size']/scratchpadScale;scratchpadCtx[_0x120dd2(0xbce)]=_0x2a0c50[_0x120dd2(0xd3a)]??0x1,scratchpadCtx[_0x120dd2(0xa75)]=_0x120dd2(0x141),scratchpadCtx['shadowBlur']=_0x33bc9f*0x3,scratchpadCtx[_0x120dd2(0xc84)]=_0x120dd2(0xd12),scratchpadCtx[_0x120dd2(0x4ba)]=_0x33bc9f*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x120dd2(0x7cb)](_0x2a0c50[_0x120dd2(0xa28)][0x0]['x'],_0x2a0c50['points'][0x0]['y']);for(let _0x758936=0x1;_0x758936<_0x2a0c50[_0x120dd2(0xa28)][_0x120dd2(0x14c)]-0x1;_0x758936++){const _0x3e0729=getMidpoint(_0x2a0c50[_0x120dd2(0xa28)][_0x758936],_0x2a0c50[_0x120dd2(0xa28)][_0x758936+0x1]);scratchpadCtx['quadraticCurveTo'](_0x2a0c50[_0x120dd2(0xa28)][_0x758936]['x'],_0x2a0c50[_0x120dd2(0xa28)][_0x758936]['y'],_0x3e0729['x'],_0x3e0729['y']);}scratchpadCtx[_0x120dd2(0xc5d)](),scratchpadCtx['shadowColor']=_0x120dd2(0xca8),scratchpadCtx[_0x120dd2(0xd4c)]=0x0,scratchpadCtx[_0x120dd2(0xc84)]=_0x120dd2(0x126),scratchpadCtx[_0x120dd2(0x4ba)]=_0x33bc9f,scratchpadCtx['stroke'](),scratchpadCtx[_0x120dd2(0xc34)]();}else{if(_0x2a0c50['tool']===_0x120dd2(0x76e)){scratchpadCtx[_0x120dd2(0x3d6)]=_0x120dd2(0x1e3),scratchpadCtx[_0x120dd2(0xc84)]=_0x2a0c50[_0x120dd2(0x2f3)],scratchpadCtx[_0x120dd2(0x4ba)]=_0x2a0c50[_0x120dd2(0xada)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x120dd2(0x7cb)](_0x2a0c50[_0x120dd2(0xa28)][0x0]['x'],_0x2a0c50[_0x120dd2(0xa28)][0x0]['y']);for(let _0x18de0e=0x1;_0x18de0e<_0x2a0c50[_0x120dd2(0xa28)][_0x120dd2(0x14c)]-0x1;_0x18de0e++){const _0x4a6b4e=getMidpoint(_0x2a0c50[_0x120dd2(0xa28)][_0x18de0e],_0x2a0c50[_0x120dd2(0xa28)][_0x18de0e+0x1]);scratchpadCtx[_0x120dd2(0x52d)](_0x2a0c50[_0x120dd2(0xa28)][_0x18de0e]['x'],_0x2a0c50['points'][_0x18de0e]['y'],_0x4a6b4e['x'],_0x4a6b4e['y']);}scratchpadCtx[_0x120dd2(0xc5d)](),scratchpadCtx[_0x120dd2(0xc34)]();}else{scratchpadCtx['globalCompositeOperation']=_0x2a0c50['tool']===_0x120dd2(0xb63)?_0x120dd2(0xd64):_0x120dd2(0xe27),scratchpadCtx['strokeStyle']=_0x2a0c50[_0x120dd2(0x2f3)],scratchpadCtx['lineWidth']=_0x2a0c50[_0x120dd2(0xada)],scratchpadCtx[_0x120dd2(0x5f8)](),scratchpadCtx[_0x120dd2(0x7cb)](_0x2a0c50['points'][0x0]['x'],_0x2a0c50[_0x120dd2(0xa28)][0x0]['y']);for(let _0x3ff892=0x1;_0x3ff892<_0x2a0c50[_0x120dd2(0xa28)][_0x120dd2(0x14c)]-0x1;_0x3ff892++){const _0x6fde2=getMidpoint(_0x2a0c50[_0x120dd2(0xa28)][_0x3ff892],_0x2a0c50[_0x120dd2(0xa28)][_0x3ff892+0x1]);scratchpadCtx[_0x120dd2(0x52d)](_0x2a0c50[_0x120dd2(0xa28)][_0x3ff892]['x'],_0x2a0c50[_0x120dd2(0xa28)][_0x3ff892]['y'],_0x6fde2['x'],_0x6fde2['y']);}scratchpadCtx[_0x120dd2(0xc5d)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x120dd2(0xca5)]();}function handlePointerMove(_0x38b5b2){const _0x43d401=_0x1b610a;_0x38b5b2[_0x43d401(0x219)]();const _0x446fca=scratchpadCtx[_0x43d401(0xe0b)],_0x16dbdd=_0x446fca[_0x43d401(0xd95)]();if(_0x38b5b2[_0x43d401(0x579)]){if(_0x38b5b2[_0x43d401(0x579)][_0x43d401(0x14c)]===0x1&&isDrawingOnScratchpad){const _0x532133=getTransformedPoint(_0x38b5b2[_0x43d401(0x579)][0x0]['clientX']-_0x16dbdd[_0x43d401(0x8b7)],_0x38b5b2[_0x43d401(0x579)][0x0]['clientY']-_0x16dbdd['top']);currentStroke[_0x43d401(0xa28)][_0x43d401(0x6fd)](_0x532133),redrawScratchpad();}else{if(_0x38b5b2['touches'][_0x43d401(0x14c)]===0x2&&isPanning){const _0x345771=getDistance({'x':_0x38b5b2[_0x43d401(0x579)][0x0][_0x43d401(0xa07)],'y':_0x38b5b2[_0x43d401(0x579)][0x0][_0x43d401(0x33c)]},{'x':_0x38b5b2[_0x43d401(0x579)][0x1][_0x43d401(0xa07)],'y':_0x38b5b2['touches'][0x1][_0x43d401(0x33c)]}),_0x4aa2aa=getMidpoint({'x':_0x38b5b2[_0x43d401(0x579)][0x0][_0x43d401(0xa07)],'y':_0x38b5b2[_0x43d401(0x579)][0x0]['clientY']},{'x':_0x38b5b2[_0x43d401(0x579)][0x1][_0x43d401(0xa07)],'y':_0x38b5b2[_0x43d401(0x579)][0x1]['clientY']}),_0x609a38=_0x345771/ initialPinchDistance,_0x5d8703=Math[_0x43d401(0x3b3)](Math[_0x43d401(0xb5e)](scratchpadScale*_0x609a38,MIN_SCALE),MAX_SCALE),_0x3ee347=_0x4aa2aa['x']-panStart['x'],_0x4f2599=_0x4aa2aa['y']-panStart['y'];scratchpadOffset['x']=_0x4aa2aa['x']-(_0x4aa2aa['x']-scratchpadOffset['x'])*(_0x5d8703/scratchpadScale),scratchpadOffset['y']=_0x4aa2aa['y']-(_0x4aa2aa['y']-scratchpadOffset['y'])*(_0x5d8703/scratchpadScale),scratchpadOffset['x']+=_0x3ee347,scratchpadOffset['y']+=_0x4f2599,scratchpadScale=_0x5d8703,initialPinchDistance=_0x345771,panStart=_0x4aa2aa,redrawScratchpad();}}}else{if(isMousePanning){const _0x268b2b=_0x38b5b2[_0x43d401(0xa07)]-panStart['x'],_0x4a03f6=_0x38b5b2['clientY']-panStart['y'];scratchpadOffset['x']+=_0x268b2b,scratchpadOffset['y']+=_0x4a03f6,panStart={'x':_0x38b5b2[_0x43d401(0xa07)],'y':_0x38b5b2[_0x43d401(0x33c)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x22c7ac=getTransformedPoint(_0x38b5b2[_0x43d401(0xa07)]-_0x16dbdd['left'],_0x38b5b2[_0x43d401(0x33c)]-_0x16dbdd[_0x43d401(0x2d3)]);currentStroke[_0x43d401(0xa28)][_0x43d401(0x6fd)](_0x22c7ac),redrawScratchpad();}}}}function handlePointerUp(_0x479f9a){const _0x1adf2f=_0x1b610a;_0x479f9a[_0x1adf2f(0x219)]();const _0x59044e=scratchpadCtx[_0x1adf2f(0xe0b)];isMousePanning&&(isMousePanning=![],_0x59044e[_0x1adf2f(0x5a4)][_0x1adf2f(0xd6e)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x1adf2f(0xa28)][_0x1adf2f(0x14c)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x1adf2f(0xaa8)]===_0x1adf2f(0xc67)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xef4dbc=_0x1adf2f,_0x4e243b=strokes[_0xef4dbc(0x58f)](_0x1d9a27=>_0x1d9a27[_0xef4dbc(0xaa8)]==='trail'&&!_0x1d9a27[_0xef4dbc(0x2f8)]);if(_0x4e243b[_0xef4dbc(0x14c)]>0x0){const _0x4dc457=Date[_0xef4dbc(0x82a)]();_0x4e243b[_0xef4dbc(0xacf)](_0xef5a99=>_0xef5a99['fadeStartTime']=_0x4dc457),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1e601a){const _0x4b77ae=_0x1b610a;_0x1e601a[_0x4b77ae(0x219)]();const _0x54cb64=_0x1e601a[_0x4b77ae(0x4a2)]*-0.005,_0xb6db14=Math[_0x4b77ae(0x3b3)](Math[_0x4b77ae(0xb5e)](scratchpadScale+_0x54cb64,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1e601a[_0x4b77ae(0xa07)]-(_0x1e601a[_0x4b77ae(0xa07)]-scratchpadOffset['x'])*(_0xb6db14/scratchpadScale),scratchpadOffset['y']=_0x1e601a[_0x4b77ae(0x33c)]-(_0x1e601a[_0x4b77ae(0x33c)]-scratchpadOffset['y'])*(_0xb6db14/scratchpadScale),scratchpadScale=_0xb6db14,redrawScratchpad();}function undo(){const _0x48b29d=_0x1b610a;strokes['length']>0x0&&(redoStrokes[_0x48b29d(0x6fd)](strokes[_0x48b29d(0xa9d)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x6a879f=_0x1b610a;redoStrokes[_0x6a879f(0x14c)]>0x0&&(strokes[_0x6a879f(0x6fd)](redoStrokes[_0x6a879f(0xa9d)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3aed4e=_0x1b610a;document['getElementById']('undo-btn')['disabled']=strokes[_0x3aed4e(0x14c)]===0x0,document[_0x3aed4e(0x8a9)](_0x3aed4e(0x948))['disabled']=redoStrokes[_0x3aed4e(0x14c)]===0x0;}function openScratchpad(_0x1972e4,_0x536fdf){const _0xef8a84=_0x1b610a,_0x5d35f4=document[_0xef8a84(0x8a9)](_0xef8a84(0xb08)),_0x4e4aa3=document['getElementById'](_0xef8a84(0x728)),_0x122e3c=document[_0xef8a84(0x8a9)](_0xef8a84(0x181)),_0x3336f2=document[_0xef8a84(0x8a9)](_0xef8a84(0x416));_0x4e4aa3[_0xef8a84(0x568)]=_0x1972e4[_0xef8a84(0xc35)]||_0x1972e4[_0xef8a84(0x460)],_0x122e3c[_0xef8a84(0x568)]=_0x536fdf[_0xef8a84(0x4cb)]((_0x2b5d78,_0x5e0feb)=>'<div>'+String['fromCharCode'](0x41+_0x5e0feb)+'.\x20'+_0x2b5d78+_0xef8a84(0x96b))[_0xef8a84(0x656)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5d35f4[_0xef8a84(0xb12)]['remove'](_0xef8a84(0x9cf)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0xef8a84(0x4a5)]([_0x4e4aa3,_0x122e3c]);}function openBlueprintQuizSettings(){const _0x139c2e=_0x1b610a,_0x21f9aa=document[_0x139c2e(0x8a9)](_0x139c2e(0x1e1)),_0x42d9e6=blueprintPageSettings||(currentProjectData?currentProjectData[_0x139c2e(0x43d)]:{})||{};document[_0x139c2e(0x8a9)](_0x139c2e(0x9e2))['value']=_0x42d9e6[_0x139c2e(0xcb6)]||document[_0x139c2e(0x8a9)](_0x139c2e(0x356))[_0x139c2e(0x61e)],document[_0x139c2e(0x8a9)](_0x139c2e(0x8f9))[_0x139c2e(0x568)]=document[_0x139c2e(0x8a9)](_0x139c2e(0x773))[_0x139c2e(0x568)],document[_0x139c2e(0x8a9)]('bp-modal-difficulty-level-select')['value']=_0x42d9e6[_0x139c2e(0xdfd)]||document[_0x139c2e(0x8a9)](_0x139c2e(0x773))['value'],document[_0x139c2e(0x8a9)](_0x139c2e(0x361))['innerHTML']=document[_0x139c2e(0x8a9)]('question-complexity-select')[_0x139c2e(0x568)],document[_0x139c2e(0x8a9)](_0x139c2e(0x361))[_0x139c2e(0x61e)]=_0x42d9e6['complexityValue']||document[_0x139c2e(0x8a9)](_0x139c2e(0x3af))[_0x139c2e(0x61e)],document[_0x139c2e(0x8a9)](_0x139c2e(0xdb5))[_0x139c2e(0x61e)]=_0x42d9e6[_0x139c2e(0xe62)]||document[_0x139c2e(0x8a9)](_0x139c2e(0x7ab))[_0x139c2e(0x61e)],document[_0x139c2e(0x8a9)](_0x139c2e(0x667))['value']=_0x42d9e6[_0x139c2e(0x253)]||document['getElementById']('passing-score-input')[_0x139c2e(0x61e)],document[_0x139c2e(0x8a9)](_0x139c2e(0xbfd))[_0x139c2e(0x61e)]=_0x42d9e6['numChoices']||document[_0x139c2e(0x8a9)](_0x139c2e(0x9f4))['value'],document[_0x139c2e(0x8a9)](_0x139c2e(0xb55))[_0x139c2e(0x61e)]=_0x42d9e6[_0x139c2e(0xb73)]||document[_0x139c2e(0x8a9)](_0x139c2e(0x24c))[_0x139c2e(0x61e)],document[_0x139c2e(0x8a9)](_0x139c2e(0xafc))[_0x139c2e(0xaa0)]=_0x42d9e6['includeImages']||document[_0x139c2e(0x8a9)]('include-images-checkbox')[_0x139c2e(0xaa0)],_0x21f9aa[_0x139c2e(0xb12)]['remove'](_0x139c2e(0x9cf));}function handleSaveBlueprintPageSettings(){const _0x718f24=_0x1b610a;blueprintPageSettings={'quizType':document[_0x718f24(0x8a9)]('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x718f24(0x8a9)]('bp-modal-difficulty-level-select')[_0x718f24(0x61e)],'complexityValue':document[_0x718f24(0x8a9)](_0x718f24(0x361))['value'],'numQuestions':document[_0x718f24(0x8a9)](_0x718f24(0xdb5))[_0x718f24(0x61e)],'passingScore':document['getElementById'](_0x718f24(0x667))['value'],'numChoices':document[_0x718f24(0x8a9)](_0x718f24(0xbfd))[_0x718f24(0x61e)],'shuffle':document[_0x718f24(0x8a9)](_0x718f24(0xb55))[_0x718f24(0x61e)],'includeImages':document[_0x718f24(0x8a9)](_0x718f24(0xafc))[_0x718f24(0xaa0)]},showMessage(_0x718f24(0xd3f)),document[_0x718f24(0x8a9)](_0x718f24(0x1e1))[_0x718f24(0xb12)]['add'](_0x718f24(0x9cf));}function listenForParallelTestShortcuts(){const _0x1f5cba=_0x1b610a,_0x2c0501=doc(db,'globalSettings',_0x1f5cba(0xb36));onSnapshot(_0x2c0501,_0x50b485=>{const _0x893c1b=_0x1f5cba;let _0x54685b=[],_0x1422db=[],_0x359b7c={};if(_0x50b485[_0x893c1b(0xa90)]()){const _0x5e5ed6=_0x50b485[_0x893c1b(0x860)]();_0x54685b=_0x5e5ed6[_0x893c1b(0x3f7)]||[],_0x1422db=_0x5e5ed6[_0x893c1b(0xdbc)]||[],_0x359b7c=_0x5e5ed6[_0x893c1b(0x9cb)]||{};}!_0x1422db[_0x893c1b(0x6bf)](_0x20c6dd=>_0x20c6dd['id']===_0x893c1b(0xbd8))&&_0x1422db[_0x893c1b(0x5b1)]({'id':_0x893c1b(0xbd8),'name':_0x893c1b(0x8ec),'isDefault':!![]}),!_0x54685b[_0x893c1b(0x6bf)](_0x36f9db=>_0x36f9db['id']==='parallel-default-1')&&_0x54685b[_0x893c1b(0x5b1)]({'id':_0x893c1b(0xaf5),'name':_0x893c1b(0xe0d),'url':'','isDefault':!![]}),!_0x54685b[_0x893c1b(0x6bf)](_0x1cae1f=>_0x1cae1f['id']==='parallel-default-2')&&_0x54685b[_0x893c1b(0x5b1)]({'id':'parallel-default-2','name':_0x893c1b(0x64a),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x54685b,parallelShortcutTabs=_0x1422db,parallelShortcutOrder=_0x359b7c,renderParallelTestShortcuts(),!document['getElementById'](_0x893c1b(0x147))['classList']['contains']('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x3500d0=_0x1b610a,_0x363fb4=doc(db,'globalSettings',_0x3500d0(0xb36));try{await setDoc(_0x363fb4,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1eb096){console[_0x3500d0(0xce3)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x1eb096);}}function renderAdditionalParallelShortcutsModal(){const _0x56e7c3=_0x1b610a,_0x2539d6=document[_0x56e7c3(0x8a9)](_0x56e7c3(0x619)),_0x47affc=document[_0x56e7c3(0x8a9)]('additional-parallel-shortcuts-list');if(!_0x2539d6||!_0x47affc)return;_0x2539d6[_0x56e7c3(0x568)]=parallelShortcutTabs[_0x56e7c3(0x4cb)](_0x48bdcd=>{const _0x137327=_0x56e7c3,_0x35fecd=_0x48bdcd['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x48bdcd['id']+_0x137327(0x82b)+(_0x35fecd?_0x137327(0xb1e):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x137327(0xd21)+_0x48bdcd[_0x137327(0x835)]+_0x137327(0xe4b)+_0x48bdcd[_0x137327(0x835)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x48bdcd[_0x137327(0x9e8)]?'<button\x20data-tab-id=\x22'+_0x48bdcd['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x137327(0xbed);})['join']('');const _0x1be80b=parallelShortcutTabs[_0x56e7c3(0x6bf)](_0x3bbec5=>_0x3bbec5['id']===activeParallelShortcutTabId);let _0x5283e0=_0x1be80b?.[_0x56e7c3(0x9e8)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x1c82ed=>(_0x1be80b?.[_0x56e7c3(0x6d2)]||[])[_0x56e7c3(0x55e)](_0x1c82ed['id']));const _0x2c8204=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x5283e0[_0x56e7c3(0x528)]((_0x52256b,_0x6a3ac6)=>{const _0x5d4439=_0x2c8204['indexOf'](_0x52256b['id']),_0x50d07c=_0x2c8204['indexOf'](_0x6a3ac6['id']);return(_0x5d4439===-0x1?Infinity:_0x5d4439)-(_0x50d07c===-0x1?Infinity:_0x50d07c);}),_0x47affc[_0x56e7c3(0x568)]=_0x5283e0[_0x56e7c3(0x4cb)](_0x29e94e=>{const _0x25f055=_0x56e7c3,_0x114934=_0x29e94e[_0x25f055(0xb2f)]?'🔁':'🔗',_0x21b623=parallelShortcutTabs['filter'](_0x20aa55=>!_0x20aa55[_0x25f055(0x9e8)]),_0x4d8344=_0x1be80b[_0x25f055(0x9e8)]&&_0x21b623[_0x25f055(0x14c)]>0x0?_0x25f055(0x465)+_0x21b623[_0x25f055(0x4cb)](_0x308da7=>_0x25f055(0x864)+_0x29e94e['id']+_0x25f055(0x9a1)+_0x308da7['id']+'\x22>'+_0x308da7[_0x25f055(0x835)]+_0x25f055(0xac3))['join']('')+_0x25f055(0xca4):'';return _0x25f055(0x748)+_0x29e94e['id']+_0x25f055(0xac6)+_0x114934+'\x20'+_0x29e94e[_0x25f055(0x835)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x29e94e['id']+_0x25f055(0x828)+_0x29e94e['id']+_0x25f055(0x2e4)+(!_0x29e94e['isDefault']?_0x25f055(0xb5f)+_0x29e94e['id']+_0x25f055(0x630):'')+_0x25f055(0xd94)+(!_0x1be80b[_0x25f055(0x9e8)]?_0x25f055(0x9aa)+_0x29e94e['id']+_0x25f055(0x726):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d8344+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x56e7c3(0x656)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x5eb00d=_0x1b610a;document[_0x5eb00d(0x6b8)](_0x5eb00d(0x4b1))[_0x5eb00d(0xacf)](_0x3bc4a7=>{const _0x84e196=_0x5eb00d;_0x3bc4a7[_0x84e196(0x743)]=_0x1f7eb7=>{const _0x1655b5=_0x84e196;activeParallelShortcutTabId=_0x1f7eb7[_0x1655b5(0x6b6)][_0x1655b5(0xd34)][_0x1655b5(0x49f)],renderAdditionalParallelShortcutsModal();},_0x3bc4a7[_0x84e196(0xd92)]=_0x325e42=>{const _0x5c554a=_0x84e196,_0x47fc41=_0x325e42[_0x5c554a(0x6b6)][_0x5c554a(0x2b0)](_0x5c554a(0xe0c));_0x325e42[_0x5c554a(0x6b6)][_0x5c554a(0x2b0)](_0x5c554a(0xa79))[_0x5c554a(0xb12)][_0x5c554a(0x786)]('hidden'),_0x47fc41['classList'][_0x5c554a(0x1e9)]('hidden'),_0x47fc41[_0x5c554a(0x8d7)](),_0x47fc41['select']();};}),document[_0x5eb00d(0x6b8)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x5eb00d(0xacf)](_0x36fd25=>{const _0x2fe659=_0x5eb00d,_0x23db03=()=>{const _0x391d6d=_0x6978,_0x38cc26=_0x36fd25['closest']('.parallel-shortcut-tab-btn')[_0x391d6d(0xd34)][_0x391d6d(0x49f)],_0x1b76ea=parallelShortcutTabs[_0x391d6d(0x6bf)](_0x220f17=>_0x220f17['id']===_0x38cc26);_0x1b76ea&&(_0x1b76ea[_0x391d6d(0x835)]=_0x36fd25[_0x391d6d(0x61e)][_0x391d6d(0x937)]()||_0x1b76ea[_0x391d6d(0x835)],saveParallelShortcutConfig());};_0x36fd25['onblur']=_0x23db03,_0x36fd25[_0x2fe659(0x4df)]=_0x426ca6=>{const _0x23cdb8=_0x2fe659;if(_0x426ca6['key']===_0x23cdb8(0x1ee))_0x36fd25[_0x23cdb8(0xa3d)]();};}),document[_0x5eb00d(0x6b8)](_0x5eb00d(0x6ee))[_0x5eb00d(0xacf)](_0x6845dc=>_0x6845dc['onclick']=_0x561dca=>{const _0xdb0475=_0x5eb00d,_0x575c13=_0x561dca[_0xdb0475(0x6b6)]['dataset']['tabId'];showConfirmation(_0xdb0475(0x6c0),()=>{const _0x502998=_0xdb0475;parallelShortcutTabs=parallelShortcutTabs[_0x502998(0x58f)](_0x133cc0=>_0x133cc0['id']!==_0x575c13),delete parallelShortcutOrder[_0x575c13];if(activeParallelShortcutTabId===_0x575c13)activeParallelShortcutTabId=_0x502998(0xbd8);saveParallelShortcutConfig();});}),document[_0x5eb00d(0x6b8)]('.move-parallel-shortcut-item')['forEach'](_0x1b5659=>_0x1b5659[_0x5eb00d(0x743)]=_0x1f07b5=>{const _0x49ae86=_0x5eb00d;_0x1f07b5[_0x49ae86(0x219)]();const {shortcutId:_0x4412ce,targetTabId:_0x18ff57}=_0x1f07b5[_0x49ae86(0x6b6)]['dataset'],_0xeefbbb=parallelShortcutTabs['find'](_0x29476b=>_0x29476b['id']===_0x18ff57);_0xeefbbb&&!_0xeefbbb[_0x49ae86(0x6d2)][_0x49ae86(0x55e)](_0x4412ce)&&(_0xeefbbb[_0x49ae86(0x6d2)][_0x49ae86(0x6fd)](_0x4412ce),saveParallelShortcutConfig());}),document[_0x5eb00d(0x6b8)]('.remove-parallel-shortcut-from-tab-btn')[_0x5eb00d(0xacf)](_0x36b560=>_0x36b560['onclick']=_0x52b19a=>{const _0x518991=_0x5eb00d,_0x2b91c5=_0x52b19a[_0x518991(0x6b6)]['dataset'][_0x518991(0x33b)],_0x11ee63=parallelShortcutTabs[_0x518991(0x6bf)](_0x14692e=>_0x14692e['id']===activeParallelShortcutTabId);_0x11ee63&&!_0x11ee63[_0x518991(0x9e8)]&&(_0x11ee63[_0x518991(0x6d2)]=_0x11ee63['shortcutIds'][_0x518991(0x58f)](_0x1c6f6e=>_0x1c6f6e!==_0x2b91c5),saveParallelShortcutConfig());}),document[_0x5eb00d(0x6b8)](_0x5eb00d(0x6b4))[_0x5eb00d(0xacf)](_0x473fd6=>_0x473fd6[_0x5eb00d(0x743)]=_0x63fa8b=>{const _0x356e07=_0x5eb00d;_0x63fa8b[_0x356e07(0x8fd)]();const _0x550d85=_0x63fa8b['currentTarget']['nextElementSibling'];document[_0x356e07(0x6b8)]('.move-parallel-shortcut-dropdown')[_0x356e07(0xacf)](_0x1c592b=>_0x1c592b[_0x356e07(0xb12)]['add'](_0x356e07(0x9cf))),_0x550d85[_0x356e07(0xb12)][_0x356e07(0x1e9)]('hidden');});const _0x1fe201=document[_0x5eb00d(0x8a9)](_0x5eb00d(0x179));let _0x19e42a=null;_0x1fe201[_0x5eb00d(0x543)]=_0x2d0af0=>{const _0x30d4b3=_0x5eb00d;_0x19e42a=_0x2d0af0[_0x30d4b3(0x61a)]['closest'](_0x30d4b3(0x44b));if(_0x19e42a)setTimeout(()=>_0x19e42a[_0x30d4b3(0xb12)][_0x30d4b3(0x786)](_0x30d4b3(0xb66)),0x0);},_0x1fe201[_0x5eb00d(0x58a)]=()=>{const _0x49fdbd=_0x5eb00d;_0x19e42a&&(_0x19e42a[_0x49fdbd(0xb12)][_0x49fdbd(0x1e9)](_0x49fdbd(0xb66)),_0x19e42a=null);},_0x1fe201['ondragover']=_0x44962d=>{const _0x3817d6=_0x5eb00d;_0x44962d[_0x3817d6(0x219)]();},_0x1fe201[_0x5eb00d(0x1ca)]=_0xf99444=>{const _0x192dc5=_0x5eb00d;_0xf99444[_0x192dc5(0x219)]();if(_0x19e42a){const _0x11c284=[..._0x1fe201[_0x192dc5(0x6b8)](_0x192dc5(0x222))]['reduce']((_0x5094e2,_0x1c0594)=>{const _0x15ab97=_0x192dc5,_0x7a2156=_0x1c0594[_0x15ab97(0xd95)](),_0x44d76c=_0xf99444['clientY']-_0x7a2156[_0x15ab97(0x2d3)]-_0x7a2156[_0x15ab97(0xb7f)]/0x2;return _0x44d76c<0x0&&_0x44d76c>_0x5094e2[_0x15ab97(0xdd0)]?{'offset':_0x44d76c,'element':_0x1c0594}:_0x5094e2;},{'offset':Number[_0x192dc5(0x6a9)]})['element'];_0x11c284==null?_0x1fe201[_0x192dc5(0x90c)](_0x19e42a):_0x1fe201['insertBefore'](_0x19e42a,_0x11c284);const _0x32900e=[..._0x1fe201['querySelectorAll']('.shortcut-list-item')][_0x192dc5(0x4cb)](_0x177b6f=>_0x177b6f[_0x192dc5(0xd34)][_0x192dc5(0x33b)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x32900e,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x2762c2=_0x1b610a,_0x2610c3=prompt(_0x2762c2(0x7a5),_0x2762c2(0xd27));_0x2610c3&&_0x2610c3[_0x2762c2(0x937)]()&&(parallelShortcutTabs[_0x2762c2(0x6fd)]({'id':'tab_'+Date[_0x2762c2(0x82a)](),'name':_0x2610c3[_0x2762c2(0x937)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0xf1abe8=_0x1b610a,_0x293f8b=document[_0xf1abe8(0x8a9)](_0xf1abe8(0xcdb)),_0x3e840d=document['getElementById'](_0xf1abe8(0x179)),_0x59b9be=document[_0xf1abe8(0x8a9)](_0xf1abe8(0x70b));if(_0x59b9be)_0x59b9be[_0xf1abe8(0xb12)][_0xf1abe8(0x786)](_0xf1abe8(0x9cf));if(!_0x293f8b||!_0x3e840d)return;const _0x55771d=parallelTestShortcuts[_0xf1abe8(0x8c0)](0x0,0x4),_0x67c0e2=parallelTestShortcuts['slice'](0x4);_0x293f8b[_0xf1abe8(0x568)]=_0x55771d[_0xf1abe8(0x4cb)](_0x2d0dae=>{const _0x243da9=_0xf1abe8,_0x1ffcd3=_0x2d0dae['url']&&_0x2d0dae[_0x243da9(0xb2f)]['trim']()!=='',_0x2a1aa8=_0x1ffcd3?_0x243da9(0x258):_0x243da9(0xd9d),_0x3857ee=_0x1ffcd3?'🔁':'🔗',_0x1c7c4b=!_0x2d0dae['isDefault']?_0x243da9(0xb5f)+_0x2d0dae['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x243da9(0x2b1)+_0x2d0dae['id']+_0x243da9(0xb84)+_0x2a1aa8+_0x243da9(0x8e1)+_0x3857ee+'\x20'+_0x2d0dae[_0x243da9(0x835)]+_0x243da9(0xae4)+_0x2d0dae['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c7c4b+_0x243da9(0x130);})[_0xf1abe8(0x656)](''),_0x67c0e2[_0xf1abe8(0x14c)]>0x0&&(_0x293f8b[_0xf1abe8(0x568)]+=_0xf1abe8(0xc20)),_0x67c0e2[_0xf1abe8(0x14c)]>0x0?_0x3e840d[_0xf1abe8(0x568)]=_0x67c0e2[_0xf1abe8(0x4cb)](_0x526533=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x526533[_0xf1abe8(0xb2f)]?'🔁':'🔗')+'\x20'+_0x526533[_0xf1abe8(0x835)]+_0xf1abe8(0xcb1)+_0x526533['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x526533['id']+_0xf1abe8(0xcb8)+(!_0x526533['isDefault']?_0xf1abe8(0xb5f)+_0x526533['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0xf1abe8(0xacd))[_0xf1abe8(0x656)](''):_0x3e840d[_0xf1abe8(0x568)]=_0xf1abe8(0x3da);}function openParallelTestShortcutEditor(_0x1d26f7=null){const _0x4bdd16=_0x1b610a,_0x34b73b=document[_0x4bdd16(0x8a9)](_0x4bdd16(0x2ab)),_0x1d0792=document[_0x4bdd16(0x8a9)](_0x4bdd16(0x413)),_0x36dc00=document[_0x4bdd16(0x8a9)]('parallel-shortcut-id-input'),_0x15b3b1=document[_0x4bdd16(0x8a9)](_0x4bdd16(0x968)),_0x5907d2=document[_0x4bdd16(0x8a9)]('parallel-shortcut-url-input');if(_0x1d26f7){const _0x49b1d0=parallelTestShortcuts[_0x4bdd16(0x6bf)](_0x7ed7b=>_0x7ed7b['id']===_0x1d26f7);if(!_0x49b1d0)return;_0x1d0792['textContent']=_0x4bdd16(0x73d),_0x36dc00['value']=_0x49b1d0['id'],_0x15b3b1['value']=_0x49b1d0[_0x4bdd16(0x835)],_0x5907d2[_0x4bdd16(0x61e)]=_0x49b1d0[_0x4bdd16(0xb2f)]||'';}else _0x1d0792[_0x4bdd16(0xab8)]=_0x4bdd16(0x7a0),_0x36dc00[_0x4bdd16(0x61e)]='',_0x15b3b1[_0x4bdd16(0x61e)]='',_0x5907d2['value']='';_0x34b73b[_0x4bdd16(0xb12)][_0x4bdd16(0x1e9)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x7c0bce=_0x1b610a,_0x361a40=document[_0x7c0bce(0x8a9)](_0x7c0bce(0x982))['value'],_0x15a059=document[_0x7c0bce(0x8a9)](_0x7c0bce(0x968))[_0x7c0bce(0x61e)][_0x7c0bce(0x937)](),_0x227f1d=document[_0x7c0bce(0x8a9)](_0x7c0bce(0x21d))[_0x7c0bce(0x61e)]['trim']();if(!_0x15a059){showMessage(_0x7c0bce(0x52b));return;}const _0x40874a={'id':_0x361a40||'parallel-shortcut_'+Date[_0x7c0bce(0x82a)](),'name':_0x15a059,'url':_0x227f1d,'isDefault':_0x361a40[_0x7c0bce(0x685)](_0x7c0bce(0xc58))};let _0x206c59;_0x361a40?_0x206c59=parallelTestShortcuts['map'](_0x2522e5=>_0x2522e5['id']===_0x361a40?_0x40874a:_0x2522e5):_0x206c59=[...parallelTestShortcuts,_0x40874a];try{const _0x497b34=doc(db,_0x7c0bce(0x18b),_0x7c0bce(0xb36));await setDoc(_0x497b34,{'shortcuts':_0x206c59},{'merge':!![]}),document[_0x7c0bce(0x8a9)]('parallel-shortcut-editor-modal')['classList'][_0x7c0bce(0x786)]('hidden');}catch(_0x97cd00){console[_0x7c0bce(0xce3)]('Error\x20saving\x20parallel\x20shortcut:',_0x97cd00),showMessage(_0x7c0bce(0x240));}}async function handleParallelTestShortcutClick(_0x3daeb0){const _0x48cd2e=_0x1b610a,_0x469415=parallelTestShortcuts[_0x48cd2e(0x6bf)](_0x45b853=>_0x45b853['id']===_0x3daeb0);if(!_0x469415)return;if(!_0x469415[_0x48cd2e(0xb2f)]||_0x469415[_0x48cd2e(0xb2f)][_0x48cd2e(0x937)]()===''){openParallelTestShortcutEditor(_0x3daeb0);return;}const _0x3aea1e=document['getElementById']('loader'),_0x2c1d5f=document[_0x48cd2e(0x8a9)](_0x48cd2e(0x1f4));document[_0x48cd2e(0x8a9)](_0x48cd2e(0x694))[_0x48cd2e(0xb12)][_0x48cd2e(0x1e9)](_0x48cd2e(0x9cf)),document[_0x48cd2e(0x8a9)](_0x48cd2e(0x505))[_0x48cd2e(0x568)]='',_0x3aea1e[_0x48cd2e(0xb12)][_0x48cd2e(0x1e9)](_0x48cd2e(0x9cf)),_0x2c1d5f[_0x48cd2e(0xab8)]=_0x48cd2e(0x8c3);try{let _0x6df9d8;_0x469415[_0x48cd2e(0xb2f)][_0x48cd2e(0x8dd)]()['includes']('.txt')?_0x6df9d8=_0x48cd2e(0x7fb):_0x6df9d8=_0x48cd2e(0x495);const _0x4b2583=await fetchFileFromUrl(_0x469415[_0x48cd2e(0xb2f)],_0x6df9d8);await handleGenerateParallelTest(_0x4b2583);}catch(_0x458446){console[_0x48cd2e(0xce3)](_0x48cd2e(0x24f),_0x458446),showMessage(_0x48cd2e(0x762)+_0x458446[_0x48cd2e(0xba0)]),_0x3aea1e[_0x48cd2e(0xb12)][_0x48cd2e(0x786)]('hidden');}}function initializeScratchpadCanvas(){const _0x59f96d=_0x1b610a,_0x2b36f2=document[_0x59f96d(0x8a9)]('scratchpad-canvas'),_0x43ed1b=document[_0x59f96d(0x2b0)](_0x59f96d(0x976));if(!_0x2b36f2||!_0x43ed1b)return;scratchpadCtx=_0x2b36f2['getContext']('2d',{'willReadFrequently':!![]});const _0x54a031=window[_0x59f96d(0x5f6)]||0x1,_0x51b722=_0x43ed1b['getBoundingClientRect']();_0x2b36f2[_0x59f96d(0x29a)]=_0x51b722['width']*_0x54a031,_0x2b36f2[_0x59f96d(0xb7f)]=_0x51b722[_0x59f96d(0xb7f)]*_0x54a031,_0x2b36f2[_0x59f96d(0x5a4)][_0x59f96d(0x29a)]=_0x51b722[_0x59f96d(0x29a)]+'px',_0x2b36f2[_0x59f96d(0x5a4)][_0x59f96d(0xb7f)]=_0x51b722['height']+'px',scratchpadCtx[_0x59f96d(0x271)](_0x54a031,_0x54a031),scratchpadCtx['lineJoin']=_0x59f96d(0x9db),scratchpadCtx[_0x59f96d(0x242)]=_0x59f96d(0x9db),_0x2b36f2[_0x59f96d(0xd06)]('pointerdown',handlePointerDown),_0x2b36f2[_0x59f96d(0xd06)](_0x59f96d(0x755),handlePointerMove),_0x2b36f2['removeEventListener'](_0x59f96d(0x4d7),handlePointerUp),_0x2b36f2[_0x59f96d(0xd06)](_0x59f96d(0xd81),handlePointerUp),_0x2b36f2[_0x59f96d(0xd06)](_0x59f96d(0xe17),handleWheel),_0x2b36f2[_0x59f96d(0xd06)](_0x59f96d(0x71e),handlePointerDown),_0x2b36f2[_0x59f96d(0xd06)](_0x59f96d(0x6ab),handlePointerMove),_0x2b36f2[_0x59f96d(0xd06)](_0x59f96d(0x5dd),handlePointerUp),_0x2b36f2[_0x59f96d(0xd68)](_0x59f96d(0xdfa),handlePointerDown),_0x2b36f2[_0x59f96d(0xd68)]('pointermove',handlePointerMove),_0x2b36f2[_0x59f96d(0xd68)](_0x59f96d(0x4d7),handlePointerUp),_0x2b36f2[_0x59f96d(0xd68)](_0x59f96d(0xd81),handlePointerUp),_0x2b36f2[_0x59f96d(0xd68)](_0x59f96d(0xe17),handleWheel,{'passive':![]}),_0x2b36f2[_0x59f96d(0xd68)]('touchstart',handlePointerDown,{'passive':![]}),_0x2b36f2[_0x59f96d(0xd68)](_0x59f96d(0x6ab),handlePointerMove,{'passive':![]}),_0x2b36f2['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x438ad7=_0x1b610a,_0xe31494=document[_0x438ad7(0x8a9)](_0x438ad7(0xb08)),_0x34c475=document[_0x438ad7(0x8a9)](_0x438ad7(0x416));_0x34c475[_0x438ad7(0x568)]=_0x438ad7(0x7f0)+scratchpadHighlighterSize+_0x438ad7(0xd16);const _0x1c9e45=document[_0x438ad7(0x8a9)]('pen-tool-btn'),_0x323146=document[_0x438ad7(0x8a9)]('eraser-tool-btn'),_0x1f6a91=document[_0x438ad7(0x8a9)](_0x438ad7(0x3b5)),_0xc9dc56=document[_0x438ad7(0x8a9)](_0x438ad7(0x8ab)),_0x1d4462=document[_0x438ad7(0x8a9)](_0x438ad7(0x6c1)),_0x3236ae=document[_0x438ad7(0x8a9)](_0x438ad7(0x418)),_0x207555=document[_0x438ad7(0x8a9)](_0x438ad7(0x733)),_0x3da6a6=[_0x1c9e45,_0x323146,_0x1f6a91,_0xc9dc56];document[_0x438ad7(0x8a9)](_0x438ad7(0x90d))[_0x438ad7(0xd68)](_0x438ad7(0xcc3),()=>_0xe31494[_0x438ad7(0xb12)][_0x438ad7(0x786)](_0x438ad7(0x9cf))),document[_0x438ad7(0x8a9)](_0x438ad7(0x943))['addEventListener'](_0x438ad7(0xcc3),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x438ad7(0x8a9)](_0x438ad7(0xb28))['addEventListener'](_0x438ad7(0xcc3),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x438ad7(0x8a9)](_0x438ad7(0x14b))[_0x438ad7(0xd68)](_0x438ad7(0xcc3),undo),document[_0x438ad7(0x8a9)](_0x438ad7(0x948))[_0x438ad7(0xd68)]('click',redo);const _0x175eef=_0x5c947c=>{const _0x1ab2ce=_0x438ad7;_0x3da6a6[_0x1ab2ce(0xacf)](_0x1167db=>_0x1167db[_0x1ab2ce(0xb12)][_0x1ab2ce(0x1e9)](_0x1ab2ce(0x6bc))),_0x5c947c[_0x1ab2ce(0xb12)][_0x1ab2ce(0x786)](_0x1ab2ce(0x6bc)),_0x1d4462[_0x1ab2ce(0xb12)][_0x1ab2ce(0x786)](_0x1ab2ce(0x9cf)),_0x3236ae[_0x1ab2ce(0xb12)]['add']('hidden'),_0x207555[_0x1ab2ce(0xb12)][_0x1ab2ce(0x786)](_0x1ab2ce(0x9cf));if(activeTool===_0x1ab2ce(0x5fa)||activeTool==='trail')_0x1d4462['classList'][_0x1ab2ce(0x1e9)](_0x1ab2ce(0x9cf));else{if(activeTool===_0x1ab2ce(0x76e))_0x3236ae[_0x1ab2ce(0xb12)]['remove'](_0x1ab2ce(0x9cf));else activeTool===_0x1ab2ce(0xb63)&&_0x207555[_0x1ab2ce(0xb12)][_0x1ab2ce(0x1e9)]('hidden');}};_0x1c9e45[_0x438ad7(0xd68)](_0x438ad7(0xcc3),()=>{const _0xaeabd0=_0x438ad7;activeTool=_0xaeabd0(0x5fa),_0x175eef(_0x1c9e45);}),_0x323146[_0x438ad7(0xd68)](_0x438ad7(0xcc3),()=>{const _0x335237=_0x438ad7;activeTool=_0x335237(0xb63),_0x175eef(_0x323146);}),_0x1f6a91[_0x438ad7(0xd68)]('click',()=>{const _0x1879b8=_0x438ad7;activeTool=_0x1879b8(0xc67),_0x175eef(_0x1f6a91);}),_0xc9dc56[_0x438ad7(0xd68)]('click',()=>{const _0x3ede3d=_0x438ad7;activeTool=_0x3ede3d(0x76e),_0x175eef(_0xc9dc56);}),_0x1d4462[_0x438ad7(0x6b8)](_0x438ad7(0xafa))[_0x438ad7(0xacf)](_0x6291e5=>{_0x6291e5['addEventListener']('click',_0x2dc4de=>{const _0x6467ad=_0x6978;scratchpadPenSize=parseInt(_0x2dc4de[_0x6467ad(0x61a)][_0x6467ad(0xd34)][_0x6467ad(0xada)],0xa),_0x1d4462[_0x6467ad(0x6b8)](_0x6467ad(0xafa))[_0x6467ad(0xacf)](_0x29f50a=>_0x29f50a[_0x6467ad(0xb12)][_0x6467ad(0x1e9)](_0x6467ad(0x6bc))),_0x2dc4de[_0x6467ad(0x61a)][_0x6467ad(0xb12)][_0x6467ad(0x786)](_0x6467ad(0x6bc));});}),_0x207555[_0x438ad7(0x6b8)](_0x438ad7(0x287))['forEach'](_0x5f3e06=>{const _0x41c478=_0x438ad7;_0x5f3e06[_0x41c478(0xd68)]('click',_0x495ce1=>{const _0x21f121=_0x41c478,_0xae522d=_0x495ce1[_0x21f121(0x6b6)];scratchpadEraserSize=parseInt(_0xae522d[_0x21f121(0xd34)]['size'],0xa),_0x207555[_0x21f121(0x6b8)](_0x21f121(0x287))[_0x21f121(0xacf)](_0x191191=>_0x191191['classList'][_0x21f121(0x1e9)]('active')),_0xae522d['classList'][_0x21f121(0x786)](_0x21f121(0x6bc));});}),_0x1d4462['querySelectorAll'](_0x438ad7(0x6f8))[_0x438ad7(0xacf)](_0xab189c=>{_0xab189c['addEventListener']('click',_0x3fa45a=>{const _0x5ac8f5=_0x6978;scratchpadPenColor=_0x3fa45a[_0x5ac8f5(0x61a)][_0x5ac8f5(0xd34)]['color'],_0x1d4462[_0x5ac8f5(0x6b8)]('.pen-color-btn')[_0x5ac8f5(0xacf)](_0x2599e6=>_0x2599e6[_0x5ac8f5(0xb12)][_0x5ac8f5(0x1e9)](_0x5ac8f5(0x6bc))),_0x3fa45a['target']['classList']['add'](_0x5ac8f5(0x6bc));});}),_0x3236ae['querySelectorAll']('.highlighter-color-btn')['forEach'](_0x79d1f5=>{const _0x3ee888=_0x438ad7;_0x79d1f5[_0x3ee888(0xd68)](_0x3ee888(0xcc3),_0x1f8bf0=>{const _0x31b56e=_0x3ee888;scratchpadHighlighterColor=_0x1f8bf0['target']['dataset'][_0x31b56e(0x2f3)],_0x3236ae[_0x31b56e(0x6b8)](_0x31b56e(0x79b))[_0x31b56e(0xacf)](_0x813f58=>_0x813f58['classList']['remove']('active')),_0x1f8bf0['target'][_0x31b56e(0xb12)][_0x31b56e(0x786)](_0x31b56e(0x6bc));});});const _0x451f48=document[_0x438ad7(0x8a9)](_0x438ad7(0x55a)),_0x251c9d=document[_0x438ad7(0x8a9)](_0x438ad7(0x2d4));_0x451f48[_0x438ad7(0xd68)](_0x438ad7(0x5ea),_0x27ba68=>{const _0x482f98=_0x438ad7,_0x63ff55=parseInt(_0x27ba68[_0x482f98(0x61a)][_0x482f98(0x61e)],0xa);scratchpadHighlighterSize=_0x63ff55,_0x251c9d[_0x482f98(0xab8)]=_0x63ff55;}),window[_0x438ad7(0xd68)](_0x438ad7(0x65d),()=>{const _0x3af66b=_0x438ad7;!_0xe31494[_0x3af66b(0xb12)][_0x3af66b(0x48e)](_0x3af66b(0x9cf))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x1b610a(0x77a),'description':_0x1b610a(0x137),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x1b610a(0xb9d),'description':_0x1b610a(0x750),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x1b610a(0xcbf),'name':_0x1b610a(0x2d8),'description':_0x1b610a(0xc7f),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x1b610a(0xaae),'name':_0x1b610a(0x4a7),'description':_0x1b610a(0xa6a),'icon':_0x1b610a(0x175)},'COMEBACK_KING':{'id':_0x1b610a(0x537),'name':_0x1b610a(0x208),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x1b610a(0x31f)},'SPECIALIST':{'id':_0x1b610a(0x325),'name':'ผู้เชี่ยวชาญ','description':_0x1b610a(0x9a3),'icon':_0x1b610a(0x6b0)},'PERSEVERANCE':{'id':_0x1b610a(0xa58),'name':_0x1b610a(0x8ba),'description':_0x1b610a(0x86d),'icon':_0x1b610a(0x28d)}},firebaseConfig={'apiKey':_0x1b610a(0xe86),'authDomain':_0x1b610a(0x132),'projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x1b610a(0x813),'appId':_0x1b610a(0x7a3),'measurementId':_0x1b610a(0x4fc)},appId=typeof __app_id!==_0x1b610a(0xc73)?__app_id:_0x1b610a(0x8c2),adminView=document[_0x1b610a(0x8a9)](_0x1b610a(0x63d)),studentView=document[_0x1b610a(0x8a9)](_0x1b610a(0x476)),projectDashboardView=document[_0x1b610a(0x8a9)]('project-dashboard-view'),projectDetailView=document[_0x1b610a(0x8a9)](_0x1b610a(0x25a)),quizResultsView=document[_0x1b610a(0x8a9)](_0x1b610a(0xc4d)),projectList=document[_0x1b610a(0x8a9)](_0x1b610a(0xb42)),noProjectsMsg=document[_0x1b610a(0x8a9)](_0x1b610a(0xb49)),projectTitle=document[_0x1b610a(0x8a9)](_0x1b610a(0xe2d)),projectIdDisplay=document[_0x1b610a(0x8a9)]('project-id-display'),studentList=document['getElementById'](_0x1b610a(0xb7c)),messageModal=document['getElementById']('message-modal'),modalMessage=document[_0x1b610a(0x8a9)](_0x1b610a(0xc26)),createProjectModal=document[_0x1b610a(0x8a9)](_0x1b610a(0x758)),adminPasswordModal=document[_0x1b610a(0x8a9)]('admin-password-modal'),confirmationModal=document[_0x1b610a(0x8a9)](_0x1b610a(0xe3c)),userIdDisplay=document[_0x1b610a(0x8a9)]('user-id-display'),topicTab=document[_0x1b610a(0x8a9)](_0x1b610a(0xc24)),textTab=document[_0x1b610a(0x8a9)](_0x1b610a(0x5e8)),topicInputArea=document[_0x1b610a(0x8a9)](_0x1b610a(0x81a)),textInputArea=document[_0x1b610a(0x8a9)](_0x1b610a(0xc98)),manageTab=document['getElementById'](_0x1b610a(0xb9e)),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document['getElementById'](_0x1b610a(0xc0a)),manageTabContent=document[_0x1b610a(0x8a9)](_0x1b610a(0x4ab)),resultsTabContent=document[_0x1b610a(0x8a9)]('results-tab-content'),leaderboardTabContent=document[_0x1b610a(0x8a9)](_0x1b610a(0x2ef)),projectQuizzesList=document['getElementById'](_0x1b610a(0x607)),fileTab=document[_0x1b610a(0x8a9)](_0x1b610a(0x901)),fileInputArea=document[_0x1b610a(0x8a9)](_0x1b610a(0xb44)),fileUploadInput=document['getElementById'](_0x1b610a(0xc17)),worksheetTab=document[_0x1b610a(0x8a9)](_0x1b610a(0x6bb)),worksheetInputArea=document['getElementById'](_0x1b610a(0xc83)),generateWorksheetBtn=document[_0x1b610a(0x8a9)](_0x1b610a(0x97c)),studentInitialView=document[_0x1b610a(0x8a9)]('student-initial-view'),studentNameSelectionView=document['getElementById']('student-name-selection-view'),studentQuizArea=document[_0x1b610a(0x8a9)](_0x1b610a(0x53f)),studentResultArea=document[_0x1b610a(0x8a9)](_0x1b610a(0xe87)),studentReadingArea=document['getElementById'](_0x1b610a(0xb48)),loadQuizBtn=document[_0x1b610a(0x8a9)]('load-quiz-btn'),startQuizBtn=document['getElementById'](_0x1b610a(0x342)),studentJoinGameView=document[_0x1b610a(0x8a9)](_0x1b610a(0xb52)),presentationModal=document[_0x1b610a(0x8a9)]('presentation-modal'),renameQuizModal=document[_0x1b610a(0x8a9)](_0x1b610a(0x996)),moveQuizModal=document[_0x1b610a(0x8a9)](_0x1b610a(0x207)),quizSettingsModal=document[_0x1b610a(0x8a9)](_0x1b610a(0x318)),quizStatusModal=document['getElementById'](_0x1b610a(0x195)),liveGameView=document[_0x1b610a(0x8a9)](_0x1b610a(0x9d3));function handleFixLessonLatex(){const _0x391a8b=_0x1b610a,_0x3928a3=document[_0x391a8b(0x8a9)](_0x391a8b(0x1c7));if(!_0x3928a3){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x472c8b=_0x3928a3[_0x391a8b(0x6b8)]([_0x391a8b(0x970),'.ai-content\x20li','.ai-content\x20blockquote',_0x391a8b(0x819),_0x391a8b(0xa20)][_0x391a8b(0x656)](','));let _0x3d9d41=0x0;const _0x3ba938=_0x4ca498=>_0x4ca498[_0x391a8b(0xab8)]||'',_0x34ea0b=(_0x3d21c6,_0x2f9653)=>{const _0x31be0d=_0x391a8b;if(_0x3d21c6[_0x31be0d(0x2b0)]&&_0x3d21c6['querySelector'](_0x31be0d(0x41c)))return;_0x3d21c6['textContent']=_0x2f9653;},_0x5022e4=_0x114243=>_0x114243[_0x391a8b(0xb27)](/\u00A0/g,'\x20')[_0x391a8b(0xb27)](/\u200B/g,'')[_0x391a8b(0xb27)](/\r\n?/g,'\x0a'),_0x94de9f=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5d072c=_0x45a01e=>{const _0xd95867=_0x391a8b;let _0x1e688a=_0x45a01e[_0xd95867(0x937)]();const _0x189d70=[_0xd95867(0x303),'dfrac','tfrac',_0xd95867(0xda3),'text',_0xd95867(0x9b4),_0xd95867(0x9d9),_0xd95867(0x98d),_0xd95867(0x12f),_0xd95867(0x304),'le','ge',_0xd95867(0xc01),'pm',_0xd95867(0x382),_0xd95867(0x605),_0xd95867(0x266),_0xd95867(0xbd9),'log','ln',_0xd95867(0x9d4),_0xd95867(0xbc5),_0xd95867(0xb54),'left',_0xd95867(0x62d),_0xd95867(0xd36),_0xd95867(0x23c),'circ','deg'];_0x189d70['forEach'](_0x56f56a=>{const _0x124158=_0xd95867;_0x1e688a=_0x1e688a[_0x124158(0xb27)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x56f56a+'\x5cb','g'),(_0x2fb4c3,_0x2e63ea)=>_0x2e63ea+'\x5c'+_0x56f56a);});const _0x48b728=[[/×/g,_0xd95867(0xd1b)],[/·/g,_0xd95867(0x1d9)],[/÷/g,_0xd95867(0xe82)],[/≤/g,'\x5cle'],[/≥/g,_0xd95867(0xa18)],[/≠/g,'\x5cneq'],[/±/g,_0xd95867(0x503)],[/∑/g,_0xd95867(0x578)],[/−/g,'-']];return _0x48b728['forEach'](([_0x52272b,_0x56043e])=>{const _0x1fe4d9=_0xd95867;_0x1e688a=_0x1e688a[_0x1fe4d9(0xb27)](_0x52272b,_0x56043e);}),_0x1e688a=_0x1e688a[_0xd95867(0xb27)](/√\s*([A-Za-z0-9]+)/g,_0xd95867(0x38c)),_0x1e688a=_0x1e688a['replace'](/(\d+)\s*%/g,_0xd95867(0x7c4)),_0x1e688a;},_0x36ddd0=_0x42d664=>{const _0x4ff767=_0x391a8b;if(/\$|\\\(|\\\[/[_0x4ff767(0x77f)](_0x42d664))return _0x42d664;if(!_0x94de9f[_0x4ff767(0x77f)](_0x42d664))return _0x42d664;const _0x198805=_0x42d664[_0x4ff767(0x3be)](/^\s*/)[0x0],_0x40d633=_0x42d664[_0x4ff767(0x3be)](/\s*$/)[0x0],_0x391e69=_0x42d664['trim']();return _0x198805+'$'+_0x5d072c(_0x391e69)+'$'+_0x40d633;};_0x472c8b[_0x391a8b(0xacf)](_0x130f4d=>{const _0x99c947=_0x391a8b,_0x503433=_0x3ba938(_0x130f4d);let _0x36c17=_0x5022e4(_0x503433);_0x36c17=_0x36c17[_0x99c947(0xb27)](/\$([^$]*?)\$/g,(_0x5226ce,_0x1d8f76)=>'$'+_0x5d072c(_0x1d8f76)+'$');const _0x5dc845=_0x36c17['split'](/(\s+)/),_0x3874e9=_0x5dc845[_0x99c947(0x4cb)](_0x48cbb1=>{const _0x490682=_0x99c947;if(/\s+/[_0x490682(0x77f)](_0x48cbb1))return _0x48cbb1;return _0x36ddd0(_0x48cbb1);});_0x36c17=_0x3874e9[_0x99c947(0x656)](''),_0x36c17!==_0x503433&&(_0x34ea0b(_0x130f4d,_0x36c17),_0x3d9d41++);});if(_0x3d9d41>0x0){showMessage(_0x391a8b(0x230)+_0x3d9d41+_0x391a8b(0x58d));try{window[_0x391a8b(0xb1b)]&&MathJax[_0x391a8b(0x4a5)]&&MathJax['typesetPromise']([_0x3928a3]);}catch(_0x3183f4){console[_0x391a8b(0xce3)]('MathJax\x20re-render\x20failed:',_0x3183f4);}}else showMessage(_0x391a8b(0x827));}function handleAutoFixLatex(){const _0x1f505d=_0x1b610a,_0x5bf07c=document[_0x1f505d(0x8a9)]('quiz-editor-questions-container')||document,_0x2dbe2d=_0x5bf07c[_0x1f505d(0x6b8)](_0x1f505d(0xbeb));let _0x30d846=0x0;const _0x398808=_0x5889a4=>'value'in _0x5889a4?String(_0x5889a4['value']):_0x5889a4['innerText']!==undefined?_0x5889a4[_0x1f505d(0x441)]:_0x5889a4[_0x1f505d(0xab8)]||'',_0x369898=(_0xebe4aa,_0x24c0ea)=>{const _0x5b193c=_0x1f505d;if('value'in _0xebe4aa){_0xebe4aa[_0x5b193c(0x61e)]=_0x24c0ea;return;}if(_0xebe4aa[_0x5b193c(0x2b0)]&&_0xebe4aa[_0x5b193c(0x2b0)]('mjx-container'))return;if(_0xebe4aa[_0x5b193c(0x441)]!==undefined)_0xebe4aa[_0x5b193c(0x441)]=_0x24c0ea;else _0xebe4aa['textContent']=_0x24c0ea;},_0xf05f43=_0x474a42=>_0x474a42[_0x1f505d(0xb27)](/\u00A0/g,'\x20')[_0x1f505d(0xb27)](/\u200B/g,'')[_0x1f505d(0xb27)](/\r\n?/g,'\x0a'),_0x3b25cf=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x18cd62=_0x5770c6=>{const _0x35e4b4=_0x1f505d;let _0x220d21=_0x5770c6[_0x35e4b4(0x937)]();_0x220d21=_0x220d21[_0x35e4b4(0xb27)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x35e4b4(0x3bb)),_0x220d21=_0x220d21['replace'](/\bfrac(\d)(\d)/g,_0x35e4b4(0x3bb));const _0x21d2c3=['frac','sqrt','times',_0x35e4b4(0x9d9),_0x35e4b4(0x98d),_0x35e4b4(0x12f),_0x35e4b4(0x304),_0x35e4b4(0xc01),'pm',_0x35e4b4(0x605),'cos','tan',_0x35e4b4(0xd62),'ln'];_0x21d2c3[_0x35e4b4(0xacf)](_0x3b219b=>{const _0x55f93e=_0x35e4b4;_0x220d21=_0x220d21[_0x55f93e(0xb27)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3b219b+'\x5cb','g'),(_0x441612,_0xbfaa3a)=>_0xbfaa3a+'\x5c'+_0x3b219b);});const _0x290035=[[/×/g,'\x5ctimes'],[/·/g,_0x35e4b4(0x1d9)],[/÷/g,_0x35e4b4(0xe82)],[/≤/g,'\x5cle'],[/≥/g,_0x35e4b4(0xa18)],[/≠/g,_0x35e4b4(0x628)],[/±/g,_0x35e4b4(0x503)]];return _0x290035[_0x35e4b4(0xacf)](([_0xf40ec3,_0x11346c])=>{const _0x7e5d84=_0x35e4b4;_0x220d21=_0x220d21[_0x7e5d84(0xb27)](_0xf40ec3,_0x11346c);}),_0x220d21;},_0x3d8344=_0x518553=>{const _0xefd1bb=_0x1f505d;if(/\$|\\\(|\\\[/['test'](_0x518553))return _0x518553;if(!_0x3b25cf['test'](_0x518553))return _0x518553;const _0x9bc062=_0x518553[_0xefd1bb(0x3be)](/^\s*/)[0x0],_0x43aeeb=_0x518553[_0xefd1bb(0x3be)](/\s*$/)[0x0],_0xc5adf4=_0x518553[_0xefd1bb(0x937)]();return _0x9bc062+'$'+_0x18cd62(_0xc5adf4)+'$'+_0x43aeeb;};_0x2dbe2d['forEach'](_0x1dd749=>{const _0x56f880=_0x1f505d,_0x659589=_0x398808(_0x1dd749);let _0x583508=_0xf05f43(_0x659589);_0x583508=_0x583508['replace'](/\$([^$]*?)\$/g,(_0xc23251,_0x2d49d3)=>'$'+_0x18cd62(_0x2d49d3)+'$');const _0x27e931=_0x583508[_0x56f880(0x59b)](/(\s+)/),_0x17af7b=_0x27e931[_0x56f880(0x4cb)](_0xe22ce5=>/\s+/['test'](_0xe22ce5)?_0xe22ce5:_0x3d8344(_0xe22ce5));_0x583508=_0x17af7b['join'](''),_0x583508!==_0x659589&&(_0x369898(_0x1dd749,_0x583508),_0x30d846++);});if(_0x30d846>0x0){showMessage(_0x1f505d(0x803)+_0x30d846+_0x1f505d(0xd39));try{if(window[_0x1f505d(0xb1b)]&&MathJax[_0x1f505d(0x4a5)])MathJax[_0x1f505d(0x4a5)]();}catch(_0x4b787e){}}else showMessage(_0x1f505d(0xbee));}async function listenForCustomMathTopics(){const _0x2157b4=_0x1b610a,_0x131d9b=collection(db,_0x2157b4(0x407)+appId+_0x2157b4(0x38b));onSnapshot(_0x131d9b,_0x263b7e=>{const _0x2a2b5d=_0x2157b4;customMathTopics=_0x263b7e[_0x2a2b5d(0x654)][_0x2a2b5d(0x4cb)](_0x296109=>({'id':_0x296109['id'],..._0x296109['data']()})),renderTopicCheckboxes();},_0x52ebf1=>{const _0x4089e4=_0x2157b4;console[_0x4089e4(0xce3)](_0x4089e4(0x15c),_0x52ebf1);});}function handleSelectAllTopics(){const _0x208c7a=_0x1b610a,_0x3242da=document[_0x208c7a(0x8a9)](_0x208c7a(0x1e5)),_0x2b1a6e=_0x3242da[_0x208c7a(0x6b8)](_0x208c7a(0xb91));_0x2b1a6e['forEach'](_0x506433=>{const _0x3ce6ec=_0x208c7a;_0x506433[_0x3ce6ec(0xaa0)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x54970b=_0x1b610a,_0xd83c08=document['getElementById'](_0x54970b(0x1e5)),_0x113c5a=_0xd83c08['querySelectorAll']('input[type=\x22checkbox\x22]');_0x113c5a[_0x54970b(0xacf)](_0x5cf1de=>{_0x5cf1de['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x5badea){const _0x5e8d85=_0x1b610a;if(!_0x5badea)return;try{const _0x1df544=doc(db,_0x5e8d85(0x407)+appId+_0x5e8d85(0x38b),_0x5badea);await deleteDoc(_0x1df544),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x5e79cb){console[_0x5e8d85(0xce3)](_0x5e8d85(0xbb4),_0x5e79cb),showMessage(_0x5e8d85(0x98e));}}async function handleAddCustomMathTopic(){const _0x364880=_0x1b610a,_0x42deca=document[_0x364880(0x8a9)]('custom-math-topic-input'),_0x278b28=_0x42deca['value'][_0x364880(0x937)]();if(!_0x278b28){showMessage(_0x364880(0x71c));return;}if(!userId){showMessage(_0x364880(0x609));return;}try{const _0xc8bfc1=collection(db,_0x364880(0x407)+appId+_0x364880(0x38b));await addDoc(_0xc8bfc1,{'name':_0x278b28,'createdAt':serverTimestamp()}),_0x42deca[_0x364880(0x61e)]='',showMessage(_0x364880(0x77c)+_0x278b28+_0x364880(0x135));}catch(_0x785a97){console[_0x364880(0xce3)](_0x364880(0x4c7),_0x785a97),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x2f81c4=_0x6978,_0x43d636=document[_0x2f81c4(0x8a9)](_0x2f81c4(0x60a)),_0xcbc8a0=document[_0x2f81c4(0x8a9)](_0x2f81c4(0x1f4)),_0x56a752=_0xcbc8a0['textContent'];_0x43d636[_0x2f81c4(0xb12)][_0x2f81c4(0x1e9)](_0x2f81c4(0x9cf)),_0xcbc8a0[_0x2f81c4(0xab8)]=_0x2f81c4(0x5aa);try{const _0x3c40fa=collection(db,'artifacts/'+appId+_0x2f81c4(0x399)),_0x5206db=await getDocs(_0x3c40fa);if(_0x5206db[_0x2f81c4(0x634)]){showMessage(_0x2f81c4(0x960));return;}const _0x55a856=writeBatch(db);let _0xace15c=0x0;_0x5206db[_0x2f81c4(0xacf)](_0x5e5791=>{const _0x5a74cc=_0x2f81c4,_0x2a720d=_0x5e5791[_0x5a74cc(0x860)](),_0x5b0da1=_0x5e5791['id'];if(_0x2a720d[_0x5a74cc(0x3c6)]&&_0x2a720d[_0x5a74cc(0x3c6)][_0x5a74cc(0x14c)]>0x0&&!_0x2a720d[_0x5a74cc(0x3c6)][0x0][_0x5a74cc(0x5cb)]('id')){console[_0x5a74cc(0xd62)](_0x5a74cc(0x802)+_0x5b0da1+'\x20('+_0x2a720d[_0x5a74cc(0x5cc)]+')'),_0xace15c++;const _0x125da4=_0x2a720d[_0x5a74cc(0x3c6)][_0x5a74cc(0x4cb)]((_0x45a430,_0x4a530f)=>{const _0x1c915a=_0x5a74cc;return{..._0x45a430,'id':_0x45a430['id']||'q_'+Date[_0x1c915a(0x82a)]()+'_'+_0x5b0da1+'_'+_0x4a530f};}),_0x30d6ad=doc(db,_0x5a74cc(0x407)+appId+_0x5a74cc(0x399),_0x5b0da1);_0x55a856[_0x5a74cc(0x6e5)](_0x30d6ad,{'questions':_0x125da4});}}),_0xace15c>0x0?(_0xcbc8a0[_0x2f81c4(0xab8)]=_0x2f81c4(0x3b9)+_0xace15c+_0x2f81c4(0x422),await _0x55a856[_0x2f81c4(0x394)](),showMessage(_0x2f81c4(0x250)+_0xace15c+_0x2f81c4(0x3ff))):showMessage(_0x2f81c4(0xcea));}catch(_0x3b8321){console[_0x2f81c4(0xce3)](_0x2f81c4(0x170),_0x3b8321),showMessage(_0x2f81c4(0x924)+_0x3b8321['message']);}finally{_0x43d636[_0x2f81c4(0xb12)][_0x2f81c4(0x786)]('hidden'),_0xcbc8a0[_0x2f81c4(0xab8)]=_0x56a752;}});}async function handleBulkUpdateQuizSettings(){const _0x3b15d3=_0x1b610a,_0x1e9c75={'shuffle':document[_0x3b15d3(0x8a9)](_0x3b15d3(0x546))[_0x3b15d3(0x61e)],'resultsDisplay':document['getElementById'](_0x3b15d3(0x260))[_0x3b15d3(0x61e)],'loopUntilPass':document[_0x3b15d3(0x8a9)](_0x3b15d3(0x990))['checked'],'isConfidenceScoringEnabled':document[_0x3b15d3(0x8a9)](_0x3b15d3(0xa2a))[_0x3b15d3(0xaa0)],'confidenceMode':document[_0x3b15d3(0x8a9)](_0x3b15d3(0xa62))['value']};try{showMessage(_0x3b15d3(0xe0f));const _0x4bcedd=await getDocs(collection(db,_0x3b15d3(0x407)+appId+_0x3b15d3(0x399))),_0x561eb1=_0x4bcedd[_0x3b15d3(0x654)][_0x3b15d3(0x4cb)](_0x14e2f2=>({'id':_0x14e2f2['id'],'data':_0x14e2f2[_0x3b15d3(0x860)]()})),_0x4aca38=_0x561eb1[_0x3b15d3(0x14c)];showConfirmation(_0x3b15d3(0x298)+_0x4aca38+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x262c70=_0x3b15d3,_0x59a505=document[_0x262c70(0x8a9)]('confirm-bulk-quiz-settings-btn');_0x59a505[_0x262c70(0x317)]=!![],_0x59a505['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x5d27d0=writeBatch(db);_0x561eb1[_0x262c70(0xacf)](_0x2d1af4=>{const _0x39178f=_0x262c70,_0x5cdf8c=doc(db,_0x39178f(0x407)+appId+_0x39178f(0x399),_0x2d1af4['id']),_0x180d57={..._0x2d1af4[_0x39178f(0x860)][_0x39178f(0x43d)]||{},..._0x1e9c75};_0x5d27d0[_0x39178f(0x6e5)](_0x5cdf8c,{'settings':_0x180d57});}),await _0x5d27d0['commit'](),document[_0x262c70(0x8a9)]('bulk-quiz-settings-modal')[_0x262c70(0xb12)]['add'](_0x262c70(0x9cf)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x4aca38+_0x262c70(0x53a));}catch(_0x5dff18){console[_0x262c70(0xce3)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x5dff18),showMessage(_0x262c70(0x849));}finally{_0x59a505[_0x262c70(0x317)]=![],_0x59a505['innerHTML']=_0x262c70(0xbdc);}});}catch(_0x51cf06){console[_0x3b15d3(0xce3)](_0x3b15d3(0x63c),_0x51cf06),showMessage(_0x3b15d3(0x9ea));}}async function handleSaveProjectName(){const _0x83021=_0x1b610a,_0x369e0c=document['getElementById'](_0x83021(0xe2d)),_0x46d69d=document[_0x83021(0x8a9)](_0x83021(0xa8a)),_0x3f9e73=_0x369e0c[_0x83021(0xab8)][_0x83021(0x937)]();if(!_0x3f9e73||!currentProjectId){showMessage(_0x83021(0x283)),_0x369e0c[_0x83021(0xab8)]=currentProjectData[_0x83021(0x252)];return;}_0x46d69d[_0x83021(0x317)]=!![],_0x46d69d[_0x83021(0x568)]=_0x83021(0x13d);try{const _0x15d1ee=doc(db,'artifacts/'+appId+_0x83021(0x622),currentProjectId);await updateDoc(_0x15d1ee,{'projectName':_0x3f9e73}),currentProjectData&&(currentProjectData['projectName']=_0x3f9e73),showMessage(_0x83021(0x914));}catch(_0x2858ce){console[_0x83021(0xce3)](_0x83021(0x744),_0x2858ce),showMessage(_0x83021(0x240)),_0x369e0c[_0x83021(0xab8)]=currentProjectData[_0x83021(0x252)];}finally{_0x46d69d[_0x83021(0xb12)][_0x83021(0x786)](_0x83021(0x9cf)),_0x46d69d['disabled']=![],_0x46d69d[_0x83021(0x568)]=_0x83021(0x324);}}function handleGeneratePracticeTest(_0x5e864e,_0x573002){const _0x2b1e66=_0x1b610a,_0x2504b6=document[_0x2b1e66(0x8a9)](_0x2b1e66(0x903)),_0x1b37c1=document[_0x2b1e66(0x8a9)](_0x2b1e66(0x730)),_0x4a4509=document[_0x2b1e66(0x8a9)](_0x2b1e66(0x3c9)),_0x573e84=document[_0x2b1e66(0x8a9)](_0x2b1e66(0xaad));_0x1b37c1['textContent']='กำลังสร้างแบบทดสอบ:\x20'+_0x5e864e,_0x573e84[_0x2b1e66(0xb12)]['add'](_0x2b1e66(0x9cf)),_0x4a4509[_0x2b1e66(0xb12)][_0x2b1e66(0x1e9)]('hidden'),_0x2504b6[_0x2b1e66(0xb12)][_0x2b1e66(0x1e9)]('hidden'),generatePracticeTest(_0x5e864e,_0x573002)[_0x2b1e66(0x659)](_0xa8cc11=>{const _0x3183d3=_0x2b1e66;console[_0x3183d3(0xce3)](_0x3183d3(0xa24),_0xa8cc11),showMessage(_0x3183d3(0xabb)),_0x2504b6[_0x3183d3(0xb12)][_0x3183d3(0x786)](_0x3183d3(0x9cf));});}async function generatePracticeTest(_0x54ffc0,_0x434f9d){const _0x286f53=_0x1b610a;[_0x286f53(0x739),'memoryContent',_0x286f53(0x424),_0x286f53(0x7ed)]['forEach'](_0x516a59=>{const _0x303424=_0x286f53,_0x3eef12=document[_0x303424(0x8a9)](_0x516a59)[_0x303424(0xe08)];_0x3eef12&&(_0x3eef12['style'][_0x303424(0xe7a)]=_0x303424(0x436));});try{const _0x1c5568=_0x286f53(0xbb9),_0x4607ab=_0x286f53(0x420)+_0x434f9d+_0x286f53(0x59f)+_0x54ffc0+_0x286f53(0xba3),_0x1bae2f=await callGemini(_0x4607ab,!![]),_0x20413f=document[_0x286f53(0x8a9)](_0x286f53(0x730)),_0x4ab634=document[_0x286f53(0x8a9)]('lesson-loader'),_0x582314=document[_0x286f53(0x8a9)](_0x286f53(0xaad)),_0x29fe9d=document[_0x286f53(0x8a9)]('applicationContent')[_0x286f53(0xe08)];_0x20413f['innerText']=_0x286f53(0x6c8)+_0x54ffc0[_0x286f53(0xb27)](/•\s/g,'')+_0x286f53(0xa78)+_0x434f9d+')',currentApplicationData=JSON[_0x286f53(0xbc4)](_0x1bae2f);const _0x183875=document[_0x286f53(0x8a9)]('applicationContent');_0x183875[_0x286f53(0x568)]=currentApplicationData[_0x286f53(0x4cb)]((_0xb1c33d,_0xa87ca4)=>_0x286f53(0x9fa)+(_0xa87ca4+0x1)+'.\x20'+marked[_0x286f53(0x1aa)](_0xb1c33d[_0x286f53(0x824)])+_0x286f53(0xac8)+_0xa87ca4+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb1c33d[_0x286f53(0x487)][_0x286f53(0x4cb)]((_0xe822dd,_0x2e1791)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0xa87ca4+',\x20'+_0x2e1791+_0x286f53(0x969)+String['fromCharCode'](0x61+_0x2e1791)+'.\x20'+marked[_0x286f53(0x1aa)](_0xe822dd)+_0x286f53(0x5bb))[_0x286f53(0x656)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x286f53(0x656)](''),window[_0x286f53(0xb1b)]&&MathJax[_0x286f53(0x4a5)]([_0x183875]),_0x29fe9d&&(_0x29fe9d['style'][_0x286f53(0xe7a)]='block'),_0x4ab634[_0x286f53(0xb12)]['add']('hidden'),_0x582314[_0x286f53(0xb12)][_0x286f53(0x1e9)](_0x286f53(0x9cf));}catch(_0x4196b2){console[_0x286f53(0xce3)](_0x4196b2);throw _0x4196b2;}}async function callGemini(_0x378230,_0x116673=![]){const _0x152b0b=_0x1b610a,_0x13ccc8=_0x152b0b(0x53d),_0x118501='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x13ccc8,_0x53a9d4={'contents':[{'parts':[{'text':_0x378230}]}]};_0x116673&&(_0x53a9d4[_0x152b0b(0xc28)]={'responseMimeType':'application/json'},_0x378230[_0x152b0b(0x55e)]('Test\x20Blueprint')?_0x53a9d4[_0x152b0b(0xc28)]['responseSchema']={'type':_0x152b0b(0x6da),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'sara':{'type':_0x152b0b(0x6a7)},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x152b0b(0x7b8),'items':{'type':_0x152b0b(0x6a7)}}},'required':[_0x152b0b(0x21e),_0x152b0b(0xa7b)]}}},'required':[_0x152b0b(0x493),_0x152b0b(0xe85)]}}},'required':[_0x152b0b(0x7bb),_0x152b0b(0x9ec)]}:_0x53a9d4[_0x152b0b(0xc28)][_0x152b0b(0xc05)]={'type':_0x152b0b(0x7b8),'items':{'type':_0x152b0b(0x6da),'properties':{'question':{'type':_0x152b0b(0x6a7)},'options':{'type':_0x152b0b(0x7b8),'items':{'type':_0x152b0b(0x6a7)}},'answer':{'type':'NUMBER'}},'required':[_0x152b0b(0x824),_0x152b0b(0x487),_0x152b0b(0x20c)]}});try{const _0x505340=await fetch(_0x118501,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x152b0b(0xb0c)](_0x53a9d4)});if(!_0x505340['ok']){const _0x297695=await _0x505340[_0x152b0b(0x9f6)]();console[_0x152b0b(0xce3)](_0x152b0b(0x439),_0x297695);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x505340['status']);}const _0xbda288=await _0x505340[_0x152b0b(0x160)]();if(_0xbda288['candidates']&&_0xbda288[_0x152b0b(0xe58)][0x0][_0x152b0b(0x5a3)]&&_0xbda288[_0x152b0b(0xe58)][0x0][_0x152b0b(0x5a3)][_0x152b0b(0x946)][0x0])return _0xbda288[_0x152b0b(0xe58)][0x0][_0x152b0b(0x5a3)]['parts'][0x0]['text'];else{console[_0x152b0b(0xce3)](_0x152b0b(0x2c7),_0xbda288);if(_0xbda288[_0x152b0b(0xe58)]&&_0xbda288['candidates'][0x0][_0x152b0b(0x4af)]===_0x152b0b(0x42f))return JSON[_0x152b0b(0xb0c)]({'error':_0x152b0b(0x2da)});throw new Error(_0x152b0b(0x3dd));}}catch(_0x57702f){console[_0x152b0b(0xce3)]('Error\x20calling\x20Gemini\x20API:',_0x57702f);throw _0x57702f;}}async function generateLesson(_0x25044a=null,_0x53fc9f=null){const _0x38ae31=_0x1b610a,_0x2fb8ca=_0x25044a,_0x35bd1a=_0x53fc9f||_0x38ae31(0x48b),_0x571b78=document[_0x38ae31(0x8a9)](_0x38ae31(0x3c9)),_0x3d44e3=document['getElementById'](_0x38ae31(0x675));_0x3d44e3[_0x38ae31(0xab8)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x2fb8ca+'\x22...';try{let _0x334364=[];const _0x344324=document[_0x38ae31(0x8a9)]('bp-reference-file-url')?.['value'][_0x38ae31(0x937)]();if(_0x344324)try{_0x3d44e3[_0x38ae31(0xab8)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x28e5ba=await fetchFileFromUrl(_0x344324,_0x38ae31(0x932)),_0x9b29b5=await new Promise((_0x566d44,_0x4b0c92)=>{const _0x52bf1e=_0x38ae31,_0x362260=new FileReader();_0x362260[_0x52bf1e(0xbc6)](_0x28e5ba),_0x362260[_0x52bf1e(0x92e)]=()=>_0x566d44(_0x362260['result'][_0x52bf1e(0x59b)](',')[0x1]),_0x362260['onerror']=_0x4b0c92;});_0x334364[_0x38ae31(0x6fd)]({'inlineData':{'mimeType':_0x28e5ba[_0x38ae31(0xb19)],'data':_0x9b29b5}});}catch(_0x3c18d2){console[_0x38ae31(0xce3)](_0x38ae31(0xb24),_0x3c18d2),showMessage(_0x38ae31(0x696));}const _0xf2bf07=_0x38ae31(0x846)+_0x2fb8ca+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x2fb8ca+_0x38ae31(0x920);_0x3d44e3[_0x38ae31(0xab8)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x2fb8ca+_0x38ae31(0x8ae);const _0x4b7176=_0x38ae31(0x63f)+_0x35bd1a+_0x38ae31(0x59f)+_0x2fb8ca+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0xf2bf07+_0x38ae31(0x9a4),_0x52dc13=_0x38ae31(0x582)+_0x2fb8ca+_0x38ae31(0xae0)+_0x35bd1a+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0xf2bf07+_0x38ae31(0x867),_0x3b1be4=_0x38ae31(0x5a8),_0x5400bb=_0x38ae31(0x420)+_0x35bd1a+_0x38ae31(0x59f)+_0x2fb8ca+_0x38ae31(0x70a)+_0xf2bf07+_0x38ae31(0xa30)+_0x3b1be4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x2ffe71=_0x38ae31(0x23e)+_0x2fb8ca+_0x38ae31(0xe6f)+_0x35bd1a+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0xf2bf07+_0x38ae31(0xc03),_0x4702e4={'type':_0x38ae31(0x7b8),'items':{'type':_0x38ae31(0x6da),'properties':{'question':{'type':_0x38ae31(0x6a7)},'options':{'type':_0x38ae31(0x7b8),'items':{'type':_0x38ae31(0x6a7)}},'answer':{'type':'NUMBER'}},'required':['question','options','answer']}},[_0xd0875,_0x55a7ea,_0x44428e,_0xbfcba4]=await Promise[_0x38ae31(0xbd8)]([handleApiCall([{'text':_0x4b7176},..._0x334364],_0x38ae31(0xb65),null,null,![]),handleApiCall([{'text':_0x52dc13},..._0x334364],_0x38ae31(0xb65),null,null,![]),handleApiCall([{'text':_0x5400bb},..._0x334364],_0x38ae31(0xb65),_0x4702e4,null,![]),handleApiCall([{'text':_0x2ffe71},..._0x334364],_0x38ae31(0xb65),null,null,![])]),_0x44b496=JSON['stringify'](_0x44428e||[]),_0x4a8085=document[_0x38ae31(0x8a9)](_0x38ae31(0x730)),_0x267aa4=document[_0x38ae31(0x8a9)](_0x38ae31(0xaad));_0x4a8085[_0x38ae31(0x441)]='บทเรียนเรื่อง:\x20'+_0x2fb8ca[_0x38ae31(0xb27)](/•\s/g,'')+_0x38ae31(0xa78)+_0x35bd1a+')',[_0x38ae31(0x739),'memoryContent',_0x38ae31(0x7ed)][_0x38ae31(0xacf)](_0x2b2b22=>{const _0x38c4bb=_0x38ae31;document['getElementById'](_0x2b2b22)[_0x38c4bb(0x568)]='';}),document[_0x38ae31(0x8a9)](_0x38ae31(0x739))['innerHTML']=_0xd0875?marked[_0x38ae31(0xbc4)](_0xd0875):_0x38ae31(0x2ee),document['getElementById'](_0x38ae31(0xbbb))[_0x38ae31(0x568)]=_0x55a7ea?marked[_0x38ae31(0xbc4)](_0x55a7ea):_0x38ae31(0x2ee),document[_0x38ae31(0x8a9)](_0x38ae31(0x7ed))[_0x38ae31(0x568)]=_0xbfcba4?marked[_0x38ae31(0xbc4)](_0xbfcba4):_0x38ae31(0x2ee),currentApplicationData=JSON[_0x38ae31(0xbc4)](_0x44b496);const _0x554527=document[_0x38ae31(0x8a9)](_0x38ae31(0x424));_0x554527[_0x38ae31(0x568)]=(currentApplicationData||[])[_0x38ae31(0x4cb)]((_0x2ab271,_0x26f45a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x26f45a+0x1)+'.\x20'+marked[_0x38ae31(0x1aa)](_0x2ab271['question']||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x26f45a+_0x38ae31(0x5b0)+(_0x2ab271[_0x38ae31(0x487)]||[])[_0x38ae31(0x4cb)]((_0x1fa131,_0x30483c)=>_0x38ae31(0x580)+_0x26f45a+',\x20'+_0x30483c+_0x38ae31(0x969)+String[_0x38ae31(0x7fd)](0x61+_0x30483c)+'.\x20'+marked['parseInline'](_0x1fa131||'')+_0x38ae31(0x5bb))[_0x38ae31(0x656)]('')+_0x38ae31(0xacd))[_0x38ae31(0x656)]('')||_0x38ae31(0x23a),window[_0x38ae31(0xb1b)]&&MathJax[_0x38ae31(0x4a5)]([_0x267aa4]),_0x571b78[_0x38ae31(0xb12)][_0x38ae31(0x786)]('hidden'),_0x267aa4[_0x38ae31(0xb12)][_0x38ae31(0x1e9)](_0x38ae31(0x9cf));}catch(_0x1691ec){console[_0x38ae31(0xce3)](_0x1691ec);throw _0x1691ec;}}function checkAnswer(_0x12cc07,_0x10f170){const _0x43a535=_0x1b610a,_0x3ddb0d=currentApplicationData[_0x12cc07],_0x200b0d=document[_0x43a535(0x8a9)]('q'+_0x12cc07+'-options'),_0x2cd3bd=_0x200b0d[_0x43a535(0xdc7)]('button');for(let _0x1d1b0f of _0x2cd3bd){_0x1d1b0f['disabled']=!![];}_0x10f170===_0x3ddb0d['answer']?_0x2cd3bd[_0x10f170][_0x43a535(0xb12)]['add'](_0x43a535(0xb98)):(_0x2cd3bd[_0x10f170]['classList'][_0x43a535(0x786)]('incorrect'),_0x2cd3bd[_0x3ddb0d[_0x43a535(0x20c)]]['classList'][_0x43a535(0x786)](_0x43a535(0xb98)));}window[_0x1b610a(0x297)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x1b610a(0x4e2)]=handleGeneratePracticeTest,window[_0x1b610a(0x5c0)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0xf8fc14=_0x1b610a;if(document[_0xf8fc14(0x8a9)](_0xf8fc14(0x2a4)))return;const _0x3d7722=_0xf8fc14(0xe07);document[_0xf8fc14(0x257)][_0xf8fc14(0xc04)](_0xf8fc14(0xdb4),_0x3d7722),setupCropperButtons();}function setupCropperButtons(){const _0x28d26f=_0x1b610a;document[_0x28d26f(0x8a9)]('cancel-crop-btn')['addEventListener'](_0x28d26f(0xcc3),()=>{const _0x53359b=_0x28d26f;document[_0x53359b(0x8a9)](_0x53359b(0x2a4))[_0x53359b(0xb12)]['add']('hidden'),cropperInstance&&(cropperInstance[_0x53359b(0xca6)](),cropperInstance=null),document[_0x53359b(0x8a9)](_0x53359b(0x1d4))['value']='';}),document[_0x28d26f(0x8a9)](_0x28d26f(0xdff))['addEventListener'](_0x28d26f(0xcc3),()=>{const _0x5ad21c=_0x28d26f;if(!cropperInstance)return;const _0x23d7dd=document[_0x5ad21c(0x8a9)](_0x5ad21c(0xdff)),_0x3353f1=_0x23d7dd['innerHTML'];_0x23d7dd['innerHTML']=_0x5ad21c(0xd1c),_0x23d7dd[_0x5ad21c(0x317)]=!![],cropperInstance[_0x5ad21c(0xdb6)]()[_0x5ad21c(0xbfc)](async _0x4f4808=>{const _0x5878e4=_0x5ad21c;document['getElementById'](_0x5878e4(0x2a4))[_0x5878e4(0xb12)][_0x5878e4(0x786)]('hidden');const _0x56d169=new File([_0x4f4808],_0x5878e4(0x481),{'type':_0x5878e4(0x315)});await handleScanImageForText(_0x56d169),_0x23d7dd[_0x5878e4(0x568)]=_0x3353f1,_0x23d7dd[_0x5878e4(0x317)]=![],cropperInstance['destroy'](),cropperInstance=null;},_0x5ad21c(0x315));});}function startCropper(_0xa4a399){const _0x1cad67=_0x1b610a;ensureCropperModalExists();const _0x17d0b4=document[_0x1cad67(0x8a9)](_0x1cad67(0x2a4)),_0x432152=document[_0x1cad67(0x8a9)](_0x1cad67(0x3f2)),_0x154701=new FileReader();_0x154701['onload']=_0x3bffd3=>{const _0x37b227=_0x1cad67;_0x432152[_0x37b227(0x92d)]=_0x3bffd3[_0x37b227(0x61a)][_0x37b227(0x8d1)],_0x17d0b4[_0x37b227(0xb12)]['remove'](_0x37b227(0x9cf));if(cropperInstance)cropperInstance[_0x37b227(0xca6)]();cropperInstance=new Cropper(_0x432152,{'viewMode':0x1,'dragMode':'move','autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x154701[_0x1cad67(0xbc6)](_0xa4a399);}document[_0x1b610a(0xd68)]('DOMContentLoaded',()=>{const _0x47433b=_0x1b610a,_0x44f6a8=document['getElementById'](_0x47433b(0x1d4)),_0x1453d9=document['getElementById'](_0x47433b(0x295));_0x1453d9&&_0x44f6a8&&(_0x1453d9[_0x47433b(0xd68)](_0x47433b(0xcc3),()=>{const _0x73daf7=_0x47433b;_0x44f6a8[_0x73daf7(0x61e)]='',_0x44f6a8[_0x73daf7(0xcc3)]();}),_0x44f6a8[_0x47433b(0xd68)]('change',_0x520c91=>{const _0x54b4a8=_0x47433b;_0x520c91[_0x54b4a8(0x61a)]['files']&&_0x520c91['target']['files'][_0x54b4a8(0x14c)]>0x0&&startCropper(_0x520c91[_0x54b4a8(0x61a)][_0x54b4a8(0x62c)][0x0]);}));});async function handleScanImageForText(_0x538785){const _0x4dd8ef=_0x1b610a,_0x490754=document[_0x4dd8ef(0x8a9)](_0x4dd8ef(0x1a0)),_0x8d661e=document[_0x4dd8ef(0x8a9)](_0x4dd8ef(0xab3));if(!_0x538785)return;_0x8d661e[_0x4dd8ef(0x317)]=!![],_0x8d661e['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...',_0x490754[_0x4dd8ef(0x736)]='AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...';try{const _0x593db3=await new Promise((_0x59364f,_0x10a6f4)=>{const _0x21f074=_0x4dd8ef,_0x13de75=new FileReader();_0x13de75[_0x21f074(0xbc6)](_0x538785),_0x13de75['onload']=()=>_0x59364f(_0x13de75[_0x21f074(0x8d1)][_0x21f074(0x59b)](',')[0x1]),_0x13de75[_0x21f074(0x2a0)]=_0x10a6f4;}),_0x134ad1=_0x4dd8ef(0x24d),_0x2273c3=[{'text':_0x134ad1},{'inlineData':{'mimeType':_0x538785[_0x4dd8ef(0xb19)],'data':_0x593db3}}],_0x1b7af6=await handleApiCall(_0x2273c3,_0x4dd8ef(0x806),null,null,![]);if(_0x1b7af6){const _0x477301=_0x490754['value']['trim']();_0x490754[_0x4dd8ef(0x61e)]=_0x477301?_0x477301+'\x0a\x0a'+_0x1b7af6:_0x1b7af6,showMessage(_0x4dd8ef(0x61f));}else throw new Error(_0x4dd8ef(0x666));}catch(_0x5e0b8f){console[_0x4dd8ef(0xce3)]('OCR\x20Error:',_0x5e0b8f),showMessage(_0x4dd8ef(0x3b0)+_0x5e0b8f[_0x4dd8ef(0xba0)]);}finally{_0x8d661e[_0x4dd8ef(0x317)]=![],_0x8d661e[_0x4dd8ef(0x568)]=_0x4dd8ef(0x124),document[_0x4dd8ef(0x8a9)]('scan-text-image-input')[_0x4dd8ef(0x61e)]='';}}async function initialize(){const _0x3ccbae=_0x1b610a;try{const _0x3d665e=initializeApp(firebaseConfig);db=getFirestore(_0x3d665e),auth=getAuth(_0x3d665e),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x2094aa){console[_0x3ccbae(0xce3)](_0x3ccbae(0xa40),_0x2094aa),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x1eaebf=_0x1b610a,_0x30e5a7=document[_0x1eaebf(0x8a9)](_0x1eaebf(0xa5f));if(!_0x30e5a7)return;const _0xc2a22d=document[_0x1eaebf(0x8a9)](_0x1eaebf(0x1ed));_0xc2a22d['disabled']=!![],_0xc2a22d[_0x1eaebf(0x568)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x38615f=_0x30e5a7[_0x1eaebf(0x6b8)](_0x1eaebf(0xd67)),_0x161cb7=Array[_0x1eaebf(0x52e)](_0x38615f)[_0x1eaebf(0x4cb)]((_0x564af2,_0x3bd438)=>{const _0x48d1eb=_0x1eaebf,_0x538b41=_0x564af2[_0x48d1eb(0xd34)][_0x48d1eb(0x9e4)],_0x576cc8=_0x564af2[_0x48d1eb(0x2b0)](_0x48d1eb(0x35d))[_0x48d1eb(0x61e)];let _0x32b008=null,_0x54b2cc='';switch(_0x538b41){case _0x48d1eb(0x24a):const _0x2fe780=_0x564af2[_0x48d1eb(0x6b8)]('input[type=\x22text\x22]');_0x32b008=Array['from'](_0x2fe780)[_0x48d1eb(0x4cb)](_0x3a88ff=>_0x3a88ff[_0x48d1eb(0x61e)]);const _0x1934cf=_0x564af2[_0x48d1eb(0x2b0)]('input[type=\x22radio\x22]:checked');_0x1934cf&&(_0x54b2cc=_0x32b008[parseInt(_0x1934cf[_0x48d1eb(0x61e)])]||'');break;case'short_answer':case _0x48d1eb(0x312):_0x32b008=[],_0x54b2cc=_0x564af2['querySelector']('.ideal-answer-input')[_0x48d1eb(0x61e)];break;case'true_false':_0x32b008=[_0x48d1eb(0xd57),_0x48d1eb(0xcb3)];const _0x93df09=_0x564af2[_0x48d1eb(0x2b0)]('input[type=\x22radio\x22]:checked');_0x54b2cc=_0x93df09?_0x93df09[_0x48d1eb(0x61e)]:'';break;case _0x48d1eb(0x3e6):_0x32b008=[],_0x54b2cc=_0x564af2[_0x48d1eb(0x2b0)]('.correct-response-input')[_0x48d1eb(0x61e)];break;}return{'questionIndex':_0x3bd438,'questionType':_0x538b41,'question':_0x576cc8,'options':_0x32b008,'proposedAnswer':_0x54b2cc};}),_0x5df174=_0x1eaebf(0x55c)+JSON[_0x1eaebf(0xb0c)](_0x161cb7)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x480174={'type':_0x1eaebf(0x7b8),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1eaebf(0x2c3)},'justification':{'type':_0x1eaebf(0x6a7)},'correctOptionExists':{'type':_0x1eaebf(0x2c3)},'suggestedAnswer':{'type':_0x1eaebf(0x6a7)},'newOptionsPayload':{'type':_0x1eaebf(0x6da),'properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x1eaebf(0x6a7)}},'newCorrectIndex':{'type':'NUMBER'}},'required':[_0x1eaebf(0xb1f),'newCorrectIndex']}},'required':[_0x1eaebf(0x223),_0x1eaebf(0xe63),_0x1eaebf(0x89b)]}},_0x163545=await callAnalysisApi(_0x5df174,{'type':'OBJECT','properties':{'result':_0x480174},'required':[_0x1eaebf(0x8d1)]});if(_0x163545&&_0x163545[_0x1eaebf(0x8d1)])displayVerificationResultsInEditor(_0x163545['result']);else throw new Error(_0x1eaebf(0xaf4));}catch(_0x16ccfa){console[_0x1eaebf(0xce3)](_0x1eaebf(0x19b),_0x16ccfa),showMessage(_0x1eaebf(0x33e)+_0x16ccfa['message']);}finally{_0xc2a22d[_0x1eaebf(0x317)]=![],_0xc2a22d[_0x1eaebf(0x568)]=_0x1eaebf(0xe25);}}function displayVerificationResultsInEditor(_0x2948a3){const _0x5ed9c7=_0x1b610a;_0x2948a3['forEach'](_0x1a227c=>{const _0x4870ed=_0x6978,_0x1ae1d1=document['querySelector'](_0x4870ed(0xcfb)+_0x1a227c[_0x4870ed(0x223)]+'\x22]');if(!_0x1ae1d1)return;const _0x5cd741=_0x1ae1d1[_0x4870ed(0x2b0)](_0x4870ed(0x37a));if(_0x5cd741)_0x5cd741[_0x4870ed(0x1e9)]();let _0x312328='';if(_0x1a227c['newOptionsPayload']&&_0x1a227c['newOptionsPayload']['newOptions']){const _0x14df2e=_0x1a227c[_0x4870ed(0xe5d)][_0x4870ed(0xb1f)],_0x194438=_0x1a227c['newOptionsPayload'][_0x4870ed(0x775)],_0x5e5a4d=_0x1ae1d1[_0x4870ed(0xd34)][_0x4870ed(0x9e4)];if(_0x5e5a4d===_0x4870ed(0x24a)){const _0xd18544=_0x1ae1d1['querySelectorAll'](_0x4870ed(0x11a));_0xd18544[_0x4870ed(0xacf)]((_0x19f9bf,_0x34c2f5)=>{const _0x1765fd=_0x4870ed;_0x14df2e[_0x34c2f5]?_0x19f9bf['value']=_0x14df2e[_0x34c2f5]:_0x19f9bf[_0x1765fd(0x61e)]=_0x1765fd(0x4fd);});const _0x2bba5d=_0x1ae1d1[_0x4870ed(0x2b0)](_0x4870ed(0x6d0)+_0x194438+'\x22]');_0x2bba5d&&(_0x2bba5d[_0x4870ed(0xaa0)]=!![]),_0x312328=_0x4870ed(0xd65),_0x1ae1d1[_0x4870ed(0xb12)][_0x4870ed(0x786)](_0x4870ed(0x564),_0x4870ed(0xb1c),_0x4870ed(0x7dc)),setTimeout(()=>{const _0x4dba02=_0x4870ed;_0x1ae1d1['classList'][_0x4dba02(0x1e9)]('bg-yellow-200');},0x9c4);}}else{if(!_0x1a227c['isCorrect']&&_0x1a227c[_0x4870ed(0x1a7)]){const _0x321611=_0x1a227c[_0x4870ed(0x1a7)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x312328=_0x4870ed(0x21b)+_0x321611+_0x4870ed(0x66e)+_0x1a227c['justification']+_0x4870ed(0xcec)+(_0x1a227c[_0x4870ed(0x1a7)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1a227c['suggestedAnswer']+_0x4870ed(0x602):'')+_0x4870ed(0x8c7);const _0x5e699b=_0x1ae1d1[_0x4870ed(0xd34)][_0x4870ed(0x9e4)],_0x128ce3=_0x78bccc=>{const _0x59bebe=_0x4870ed;if(!_0x78bccc)return;_0x78bccc[_0x59bebe(0xb12)]['add'](_0x59bebe(0x7d0),_0x59bebe(0xb1c),_0x59bebe(0x7dc)),setTimeout(()=>{const _0x37ec81=_0x59bebe;_0x78bccc[_0x37ec81(0xb12)]['remove'](_0x37ec81(0x7d0));},0x9c4);};if(_0x5e699b===_0x4870ed(0x24a)){const _0xd55772=Array[_0x4870ed(0x52e)](_0x1ae1d1[_0x4870ed(0x6b8)]('input[type=\x22text\x22]')),_0x39c88b=_0xd55772[_0x4870ed(0xcf6)](_0x2637df=>_0x2637df['value'][_0x4870ed(0x937)]()[_0x4870ed(0x8dd)]()===_0x1a227c[_0x4870ed(0x1a7)]['trim']()[_0x4870ed(0x8dd)]());if(_0x39c88b!==-0x1){const _0x38a681=_0x1ae1d1[_0x4870ed(0x2b0)](_0x4870ed(0x6d0)+_0x39c88b+'\x22]');_0x38a681&&(_0x38a681[_0x4870ed(0xaa0)]=!![],_0x128ce3(_0x38a681[_0x4870ed(0x156)](_0x4870ed(0x98d))));}}else{if(_0x5e699b==='short_answer'||_0x5e699b===_0x4870ed(0x3e6)){const _0x164830=_0x1ae1d1['querySelector'](_0x4870ed(0x8ac));_0x164830&&(_0x164830[_0x4870ed(0x61e)]=_0x1a227c[_0x4870ed(0x1a7)],_0x128ce3(_0x164830));}else{if(_0x5e699b==='true_false'){const _0x47cded=_0x1a227c[_0x4870ed(0x1a7)][_0x4870ed(0x937)]()[_0x4870ed(0x8dd)](),_0x67b196=_0x1ae1d1[_0x4870ed(0x2b0)]('input[type=\x22radio\x22][value=\x22'+_0x47cded+'\x22]');_0x67b196&&(_0x67b196[_0x4870ed(0xaa0)]=!![],_0x128ce3(_0x67b196[_0x4870ed(0x156)](_0x4870ed(0x98d))));}}}}else _0x1a227c[_0x4870ed(0xe63)]&&(_0x312328='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x1ae1d1[_0x4870ed(0xc04)](_0x4870ed(0xdb4),_0x312328);}),showMessage(_0x5ed9c7(0x6c2));}async function handleVerifyAnswers(){const _0x51ea68=_0x1b610a;if(!currentQuizData||!currentQuizData[_0x51ea68(0x3c6)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x3a6a68=document['getElementById'](_0x51ea68(0x7aa));_0x3a6a68[_0x51ea68(0x317)]=!![],_0x3a6a68[_0x51ea68(0x568)]=_0x51ea68(0x256);try{const _0x227c06=currentQuizData['questions']['map']((_0x526bf8,_0x4b7812)=>{const _0xe7c55c=_0x51ea68;let _0x497c61='';const _0x24594b=_0x526bf8[_0xe7c55c(0xa9f)]||currentQuizData['quizType'];switch(_0x24594b){case _0xe7c55c(0x24a):_0x497c61=_0x526bf8[_0xe7c55c(0x487)][_0x526bf8[_0xe7c55c(0x26c)]];break;case _0xe7c55c(0x815):_0x497c61=_0x526bf8[_0xe7c55c(0xc37)];break;case _0xe7c55c(0x8fb):_0x497c61=_0x526bf8[_0xe7c55c(0xad3)]['toString']();break;case _0xe7c55c(0x3e6):_0x497c61=_0x526bf8[_0xe7c55c(0x11c)];break;}return{'question':_0x526bf8[_0xe7c55c(0xc35)]||_0x526bf8[_0xe7c55c(0x460)],'options':_0x526bf8[_0xe7c55c(0x487)]||null,'proposedAnswer':_0x497c61};}),_0x2ce9af=_0x51ea68(0xb86)+JSON[_0x51ea68(0xb0c)](_0x227c06)+_0x51ea68(0x747),_0x4aace4={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x51ea68(0x832)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x51ea68(0x6a7)}},'required':[_0x51ea68(0x223),_0x51ea68(0xe63),'justification']}},_0x388c8c=await callAnalysisApi(_0x2ce9af,{'type':_0x51ea68(0x6da),'properties':{'result':_0x4aace4},'required':['result']});displayVerificationResults(_0x388c8c[_0x51ea68(0x8d1)]);}catch(_0x361b21){console['error'](_0x51ea68(0x6e7),_0x361b21),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3a6a68[_0x51ea68(0x317)]=![],_0x3a6a68['innerHTML']=_0x51ea68(0x576);}}function displayVerificationResults(_0x57bd4c){const _0x18bd9e=_0x1b610a;_0x57bd4c[_0x18bd9e(0xacf)](_0x3c8432=>{const _0x570d9f=_0x18bd9e,_0x13de06=document[_0x570d9f(0x2b0)](_0x570d9f(0x53e)+_0x3c8432[_0x570d9f(0x223)]+'\x22]');if(_0x13de06){const _0x5c929c=_0x13de06[_0x570d9f(0x2b0)](_0x570d9f(0x3df));if(_0x5c929c)_0x5c929c[_0x570d9f(0x1e9)]();let _0x5e4829='';_0x3c8432[_0x570d9f(0xe63)]?_0x5e4829='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5e4829=_0x570d9f(0x335)+_0x3c8432[_0x570d9f(0x89b)]+_0x570d9f(0xde4)+(_0x3c8432[_0x570d9f(0x1a7)]?_0x570d9f(0xb47)+_0x3c8432['suggestedAnswer']+_0x570d9f(0x602):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x13de06[_0x570d9f(0xc04)](_0x570d9f(0xdb4),_0x5e4829);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x46327c,_0xe04b73){const _0x27842b=_0x1b610a,_0x3432b9=String(_0x46327c)[_0x27842b(0xb27)](',','.')[_0x27842b(0xb27)](/[^\d.-]/g,'')[_0x27842b(0x937)](),_0x194669=String(_0xe04b73)[_0x27842b(0xb27)](',','.')[_0x27842b(0xb27)](/[^\d.-]/g,'')[_0x27842b(0x937)]();if(_0x3432b9===''||_0x194669==='')return![];const _0x496370=parseFloat(_0x3432b9),_0x474cf8=parseFloat(_0x194669);if(isNaN(_0x496370)||isNaN(_0x474cf8))return![];return Math[_0x27842b(0xcde)](_0x496370-_0x474cf8)<0.001;}function isPotentiallyNumeric(_0x311922){const _0x2c8c05=_0x1b610a;if(typeof _0x311922!==_0x2c8c05(0x8d8)&&typeof _0x311922!==_0x2c8c05(0x76c))return![];const _0x1835e7=String(_0x311922)[_0x2c8c05(0xb27)](',','.')['trim']();return _0x1835e7!==''&&!isNaN(parseFloat(_0x1835e7))&&isFinite(_0x1835e7);}async function gradeShortAnswer(_0x4b848d,_0x5b2652){const _0x2fc981=_0x1b610a,_0x4750e6=_0x5b2652[_0x2fc981(0xc37)],_0x5cadee=String(_0x4b848d)['replace'](/\$/g,'')[_0x2fc981(0x937)](),_0x6573a2=String(_0x4750e6)[_0x2fc981(0xb27)](/\$/g,'')[_0x2fc981(0x937)]();if(_0x5cadee['toLowerCase']()===_0x6573a2[_0x2fc981(0x8dd)]())return!![];if(isPotentiallyNumeric(_0x5cadee)&&isPotentiallyNumeric(_0x6573a2)){if(compareNumericalAnswers(_0x5cadee,_0x6573a2))return!![];}return console[_0x2fc981(0xd62)]('Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.'),![];}async function revealAnswerForAdmin(_0x5ac2ca,_0x30ff6e){const _0x2170ff=_0x1b610a,_0x336aca=doc(db,_0x2170ff(0x407)+appId+_0x2170ff(0x429),currentLiveGameId);await updateDoc(_0x336aca,{'questionStatus':_0x2170ff(0xbab)});}function showTop5LeaderboardView(_0x33a445){const _0x3c8887=_0x1b610a,_0x4e5dec=Object[_0x3c8887(0x17f)](_0x33a445[_0x3c8887(0x7e6)]||{})[_0x3c8887(0x58f)](_0x1369e2=>_0x1369e2[_0x3c8887(0x9fb)]===_0x3c8887(0x6bc));_0x4e5dec['sort']((_0x4e536b,_0x2ef7b2)=>_0x2ef7b2['score']-_0x4e536b['score']);const _0x48029f=_0x4e5dec[_0x3c8887(0x8c0)](0x0,0x5),_0x514717=_0x3c8887(0xc42)+_0x48029f[_0x3c8887(0x4cb)]((_0xee801d,_0x2e5c71)=>_0x3c8887(0x1a4)+(_0x2e5c71+0x1)+'.\x20'+(_0xee801d[_0x3c8887(0x835)]||Object[_0x3c8887(0x770)](_0x33a445['players'])['find'](_0x33e5e9=>_0x33a445['players'][_0x33e5e9]===_0xee801d))+_0x3c8887(0x524)+_0xee801d[_0x3c8887(0xdd7)]+_0x3c8887(0xaf0))[_0x3c8887(0x656)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x33a445[_0x3c8887(0x7c6)]+0x1===currentQuizData[_0x3c8887(0x3c6)]['length']?_0x3c8887(0x232):_0x3c8887(0xda8))+_0x3c8887(0x587);liveGameView[_0x3c8887(0x568)]=_0x514717,document[_0x3c8887(0x8a9)](_0x3c8887(0xddf))[_0x3c8887(0xd68)]('click',async()=>{const _0x575e41=_0x3c8887,_0x4a2f63=doc(db,_0x575e41(0x407)+appId+_0x575e41(0x429),currentLiveGameId),_0x6dd680=_0x33a445[_0x575e41(0x7c6)]+0x1;if(_0x6dd680<currentQuizData[_0x575e41(0x3c6)]['length']){const _0x1cfe78={'currentQuestionIndex':_0x6dd680,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x575e41(0x288)};Object[_0x575e41(0x770)](_0x33a445[_0x575e41(0x7e6)])[_0x575e41(0xacf)](_0x55c74b=>{const _0x3b6aee=_0x575e41;_0x1cfe78[_0x3b6aee(0x8b1)+_0x55c74b+_0x3b6aee(0xd55)]=![];}),await updateDoc(_0x4a2f63,_0x1cfe78);}else await updateDoc(_0x4a2f63,{'status':_0x575e41(0x517)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x42a5b3=>{const _0x3fcb21=_0x6978;if(_0x42a5b3){userId=_0x42a5b3[_0x3fcb21(0xb38)],userIdDisplay[_0x3fcb21(0xab8)]=userId;const _0x4fec08=await loadUserPreferences();_0x4fec08['projectSortOrder']&&(document[_0x3fcb21(0x8a9)](_0x3fcb21(0x466))[_0x3fcb21(0x61e)]=_0x4fec08[_0x3fcb21(0x604)]);globalDashboardSettings[_0x3fcb21(0x22e)]=_0x4fec08[_0x3fcb21(0x22e)]||_0x3fcb21(0x734);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x184dbd,_0x458ad6){const _0x1f0193=_0x1b610a;if(!userId)return;try{const _0x3f12ac=doc(db,_0x1f0193(0x407)+appId+_0x1f0193(0x4a1)+userId+_0x1f0193(0x251)),_0x1a1438={};_0x1a1438[_0x184dbd]=_0x458ad6,await setDoc(_0x3f12ac,_0x1a1438,{'merge':!![]});}catch(_0x540926){console[_0x1f0193(0xce3)](_0x1f0193(0x241),_0x540926);}}async function loadUserPreferences(){const _0x39b3f3=_0x1b610a;if(!userId)return{};try{const _0x3bdc04=doc(db,_0x39b3f3(0x407)+appId+_0x39b3f3(0x4a1)+userId+_0x39b3f3(0x251)),_0x12465a=await getDoc(_0x3bdc04);if(_0x12465a[_0x39b3f3(0xa90)]())return _0x12465a[_0x39b3f3(0x860)]();return{};}catch(_0x45c91c){return console[_0x39b3f3(0xce3)]('Error\x20loading\x20user\x20preferences:',_0x45c91c),{};}}function parseIndentedBlueprint(_0x1c803d){const _0x57aa50=_0x1b610a,_0x39298=_0x1c803d[_0x57aa50(0x59b)]('\x0a')[_0x57aa50(0x58f)](_0x3605e8=>_0x3605e8[_0x57aa50(0x937)]()!==''),_0x1d5b55=[];let _0x48f982=null,_0x1f2f01=null;return _0x39298['forEach'](_0x1df9db=>{const _0x48ac04=_0x57aa50,_0xdfdb9d=_0x1df9db[_0x48ac04(0x3be)](/^\s*/)[0x0][_0x48ac04(0x14c)],_0x3ce98c=_0x1df9db[_0x48ac04(0x937)]();if(_0xdfdb9d===0x0)_0x48f982={'sara':_0x3ce98c,'mainTopics':[]},_0x1d5b55['push'](_0x48f982),_0x1f2f01=null;else{if(_0xdfdb9d>0x0&&_0xdfdb9d<0x8&&_0x48f982)_0x1f2f01={'topicName':_0x3ce98c,'subTopics':[]},_0x48f982[_0x48ac04(0xe85)][_0x48ac04(0x6fd)](_0x1f2f01);else _0xdfdb9d>=0x8&&_0x1f2f01&&_0x1f2f01[_0x48ac04(0xa7b)][_0x48ac04(0x6fd)](_0x3ce98c);}}),{'curriculum':_0x1d5b55};}async function handleManualBlueprintSave(){const _0x8cd46f=_0x1b610a,_0x2086ec=document[_0x8cd46f(0x8a9)](_0x8cd46f(0x197))[_0x8cd46f(0x61e)][_0x8cd46f(0x937)](),_0xccdff8=document[_0x8cd46f(0x8a9)](_0x8cd46f(0x62f))[_0x8cd46f(0x61e)][_0x8cd46f(0x937)](),_0x237269=document[_0x8cd46f(0x8a9)](_0x8cd46f(0x625))['value'];if(!_0x2086ec||!_0xccdff8||!_0x237269){showMessage(_0x8cd46f(0xbd6));return;}const _0xf93597=parseIndentedBlueprint(_0x237269);if(!_0xf93597['curriculum']||_0xf93597[_0x8cd46f(0x9ec)][_0x8cd46f(0x14c)]===0x0){showMessage(_0x8cd46f(0x38a));return;}const _0x39f25f={};let _0xebef0=0x0;_0xf93597[_0x8cd46f(0x9ec)][_0x8cd46f(0xacf)](_0x14291e=>{const _0x13c320=_0x8cd46f;_0x14291e[_0x13c320(0xe85)][_0x13c320(0xacf)](_0x441097=>{const _0x182bb9=_0x13c320;_0x441097[_0x182bb9(0xa7b)][_0x182bb9(0xacf)](_0x1bd48b=>{const _0x534adb=_0x182bb9,_0x117236=_0x534adb(0x8a5)+Date[_0x534adb(0x82a)]()+Math[_0x534adb(0xa73)]()['toString'](0x24)[_0x534adb(0x8de)](0x2,0x9);_0x39f25f[_0x117236]={'sara':_0x14291e[_0x534adb(0x493)],'mainTopic':_0x441097[_0x534adb(0x21e)],'subTopic':_0x1bd48b,'status':_0x534adb(0x565),'lessonContent':null,'order':_0xebef0++};});});});try{const _0x26d135=collection(db,_0x8cd46f(0x407)+appId+_0x8cd46f(0x5b8));await addDoc(_0x26d135,{'projectName':_0x2086ec,'gradeLevel':_0xccdff8,'topics':_0x39f25f,'createdAt':serverTimestamp()}),showMessage(_0x8cd46f(0x1eb)+_0x2086ec+_0x8cd46f(0x5ee)),document[_0x8cd46f(0x8a9)](_0x8cd46f(0xc95))[_0x8cd46f(0xb12)][_0x8cd46f(0x786)](_0x8cd46f(0x9cf));}catch(_0x155c51){console['error'](_0x8cd46f(0xe19),_0x155c51),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x49f149){const _0x54c76f=_0x1b610a;showConfirmation(_0x54c76f(0xa34),async()=>{const _0x4325de=_0x54c76f;try{const _0x193578=doc(db,_0x4325de(0x407)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x193578,{[_0x4325de(0x1d1)+_0x49f149+_0x4325de(0x7d7)]:[]}),showMessage(_0x4325de(0x33d)),openTopicQuizBank(_0x49f149),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xb7653c){console[_0x4325de(0xce3)](_0x4325de(0x706),_0xb7653c),showMessage(_0x4325de(0x28e));}});}function showPodiumView(_0xb6f6fd,_0x21f90d=_0x1b610a(0xe81),_0x2244e6=null){const _0x2bafb5=_0x1b610a,_0x474520=_0x2244e6?.[_0x2bafb5(0xcfc)]===!![],_0x2f4735=Object[_0x2bafb5(0xc3c)](_0xb6f6fd)[_0x2bafb5(0x4cb)](([_0x46f45b,_0x49ca80])=>({'name':_0x46f45b,'realScore':_0x49ca80['realScore']||_0x49ca80[_0x2bafb5(0xdd7)]||0x0,'totalPoints':_0x49ca80[_0x2bafb5(0x9f0)]||0x0,'badges':_0x49ca80[_0x2bafb5(0x1ab)]||[],'hasPerfectScoreBonus':_0x49ca80['hasPerfectScoreBonus']||![]})),_0x26f304=Math[_0x2bafb5(0xb5e)](..._0x2f4735[_0x2bafb5(0x4cb)](_0x48362c=>_0x48362c[_0x2bafb5(0x9f0)]),-Infinity),_0x24418e=Math[_0x2bafb5(0xb5e)](..._0x2f4735[_0x2bafb5(0x4cb)](_0x54366d=>_0x54366d[_0x2bafb5(0x309)]),-Infinity);_0x2f4735[_0x2bafb5(0x528)]((_0x2981bf,_0x3fb0c4)=>{const _0xf73ba3=_0x2bafb5;if(_0x474520){const _0x595816=_0x3fb0c4[_0xf73ba3(0x9f0)]-_0x2981bf[_0xf73ba3(0x9f0)];if(_0x595816!==0x0)return _0x595816;const _0x4aa27f=_0x3fb0c4[_0xf73ba3(0x309)]-_0x2981bf[_0xf73ba3(0x309)];if(_0x4aa27f!==0x0)return _0x4aa27f;return _0x2981bf['name']['localeCompare'](_0x3fb0c4[_0xf73ba3(0x835)],'th');}else{const _0x44e2b7=_0x3fb0c4[_0xf73ba3(0x9f0)]-_0x2981bf[_0xf73ba3(0x9f0)];if(_0x44e2b7!==0x0)return _0x44e2b7;return _0x3fb0c4[_0xf73ba3(0x309)]-_0x2981bf[_0xf73ba3(0x309)];}});const _0x2c8e70=_0x1f8317=>{const _0x4429a3=_0x2bafb5;if(!_0x1f8317||_0x1f8317[_0x4429a3(0x14c)]===0x0)return'';const _0x566a17={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x1f8317[_0x4429a3(0x4cb)](_0x4ad79a=>_0x566a17[_0x4ad79a]||'')['join']('')+_0x4429a3(0x96b);},_0x59ca56=_0x45c7d4=>{const _0x536c5b=_0x2bafb5;let _0x38d54a='';if(_0x474520){if(_0x45c7d4[_0x536c5b(0x9f0)]===_0x26f304&&_0x26f304>0x0)_0x38d54a+=_0x536c5b(0x2d1);if(_0x45c7d4[_0x536c5b(0x309)]===_0x24418e&&_0x24418e>0x0)_0x38d54a+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0x45c7d4[_0x536c5b(0xc33)])_0x38d54a=_0x536c5b(0x848);}if(_0x474520){const _0x35c081=_0x45c7d4['totalPoints']>=0x0?'(+'+_0x45c7d4[_0x536c5b(0x9f0)][_0x536c5b(0x84c)]()+')':'('+_0x45c7d4[_0x536c5b(0x9f0)][_0x536c5b(0x84c)]()+')';return _0x536c5b(0xcd7)+_0x45c7d4[_0x536c5b(0x309)]+_0x536c5b(0xa0d)+_0x35c081+'\x20'+_0x38d54a+'</p>';}else return'<p\x20class=\x22text-xl\x22>'+_0x45c7d4[_0x536c5b(0x9f0)][_0x536c5b(0x84c)]()+_0x536c5b(0xa0d)+_0x38d54a+'</p>';},_0x182313=_0x2f4735['slice'](0x3),_0x334e89=_0x182313[_0x2bafb5(0x14c)]>0x0?_0x2bafb5(0x438)+_0x182313[_0x2bafb5(0x4cb)]((_0x4f6855,_0x338143)=>{const _0x3a02d2=_0x2bafb5;return _0x3a02d2(0x760)+(_0x338143+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4f6855[_0x3a02d2(0x835)]+_0x3a02d2(0xacb)+_0x59ca56(_0x4f6855)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2bafb5(0x656)]('')+_0x2bafb5(0x570):'',_0x5933e5=_0x2bafb5(0xb8c)+(_0x2f4735[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2f4735[0x1]['name']+'</p>'+_0x2c8e70(_0x2f4735[0x1][_0x2bafb5(0x1ab)])+_0x59ca56(_0x2f4735[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x2bafb5(0x866))+_0x2bafb5(0x898)+(_0x2f4735[0x0]?_0x2bafb5(0xa06)+_0x2f4735[0x0][_0x2bafb5(0x835)]+_0x2bafb5(0x602)+_0x2c8e70(_0x2f4735[0x0]['badges'])+_0x59ca56(_0x2f4735[0x0])+_0x2bafb5(0xcaa):_0x2bafb5(0x866))+_0x2bafb5(0x898)+(_0x2f4735[0x2]?_0x2bafb5(0x834)+_0x2f4735[0x2][_0x2bafb5(0x835)]+_0x2bafb5(0x602)+_0x2c8e70(_0x2f4735[0x2][_0x2bafb5(0x1ab)])+_0x59ca56(_0x2f4735[0x2])+_0x2bafb5(0xbea):_0x2bafb5(0x866))+_0x2bafb5(0x892)+_0x334e89+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?_0x2bafb5(0xb6e):'<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x2bafb5(0x568)]=_0x5933e5,currentMode===_0x2bafb5(0xe00)?document[_0x2bafb5(0x8a9)]('close-game-final-btn')['addEventListener'](_0x2bafb5(0xcc3),async()=>{const _0x37f850=_0x2bafb5;let _0x148f5f;_0x21f90d===_0x37f850(0xb30)?_0x148f5f=doc(db,'artifacts/'+appId+_0x37f850(0x709),currentLiveGameId):_0x148f5f=doc(db,_0x37f850(0x407)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x148f5f);}):document[_0x2bafb5(0x8a9)](_0x2bafb5(0x1bc))?.[_0x2bafb5(0xd68)](_0x2bafb5(0xcc3),()=>{showView('student');});}function renderSyncSummaryView(_0x214a61,_0x1374f3,_0x1887ad){const _0xe7a501=_0x1b610a,_0xdcf04e=_0x214a61[_0xe7a501(0xb8a)]||_0xe7a501(0xe88),_0xfc0de4=(_0xdcf04e==='anonymous'||_0xdcf04e===_0xe7a501(0x6fb))&&_0x214a61['isAnonymousRevealed']===![],_0x27d3a0=_0xdcf04e==='reveal_at_end'||_0xdcf04e===_0xe7a501(0x6fb),_0x419599=_0x214a61[_0xe7a501(0x698)][_0xe7a501(0x3c6)],_0x4fea3e=_0x1374f3[_0xe7a501(0xa9f)]||_0x214a61[_0xe7a501(0x698)][_0xe7a501(0xcb6)],_0x19d591=_0x4fea3e===_0xe7a501(0x815)||_0x4fea3e==='fill_in_no_choices';let _0x47c555='';if(_0x19d591){let _0x270eb2=0x0,_0xe375ed=0x0;const _0x339b14=[],_0x1d217b=[];Object[_0xe7a501(0xc3c)](_0x214a61['players']||{})[_0xe7a501(0xacf)](([_0x5d7284,_0x495c88])=>{const _0x4a15ae=_0xe7a501,_0x1ee6f1=(_0x495c88[_0x4a15ae(0x772)]||[])['find'](_0xf57a2e=>_0xf57a2e[_0x4a15ae(0x223)]===_0x214a61[_0x4a15ae(0x7c6)]);if(_0x495c88[_0x4a15ae(0x9fb)]!==_0x4a15ae(0xd60)&&_0x1ee6f1){const _0x2444f5=_0x1ee6f1[_0x4a15ae(0xb31)],_0x4a916c=_0xfc0de4?_0x214a61[_0x4a15ae(0x5e1)][_0x5d7284]||_0x4a15ae(0x6a0):_0x5d7284;_0x1ee6f1[_0x4a15ae(0xe63)]?(_0x270eb2++,_0x339b14[_0x4a15ae(0x6fd)](_0x4a916c)):(_0xe375ed++,_0x1d217b['push'](_0x4a15ae(0xb7d)+_0x4a916c+'</span>:\x20'+(_0x2444f5||'(ไม่ตอบ)')));}}),_0x47c555='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x270eb2+_0xe7a501(0x47b)+(_0x339b14[_0xe7a501(0x14c)]>0x0?_0x339b14[_0xe7a501(0x656)](',\x20'):'-')+_0xe7a501(0xa5e)+_0xe375ed+_0xe7a501(0xb45)+(_0x1d217b[_0xe7a501(0x14c)]>0x0?_0x1d217b[_0xe7a501(0x656)]('<br>'):'-')+_0xe7a501(0x857);}else{let _0x3160d7=[];_0x4fea3e==='true_false'?_0x3160d7=[_0xe7a501(0xa12),_0xe7a501(0xccf)]:_0x3160d7=_0x1374f3[_0xe7a501(0x487)]||[];const _0x1cfa3a=new Array(_0x3160d7[_0xe7a501(0x14c)])[_0xe7a501(0x650)](0x0),_0x27ce05={};_0x3160d7[_0xe7a501(0xacf)]((_0x274148,_0x401116)=>{_0x27ce05[_0x401116]=[];}),Object[_0xe7a501(0xc3c)](_0x214a61['players']||{})[_0xe7a501(0xacf)](([_0x3da527,_0x38f5f1])=>{const _0x976f78=_0xe7a501,_0x428e49=(_0x38f5f1[_0x976f78(0x772)]||[])[_0x976f78(0x6bf)](_0x4b554b=>_0x4b554b[_0x976f78(0x223)]===_0x214a61[_0x976f78(0x7c6)]);if(_0x38f5f1['status']!=='inactive'&&_0x428e49&&_0x428e49[_0x976f78(0x20c)]!==null){const _0xbb7046=parseInt(_0x428e49[_0x976f78(0x20c)]);if(!isNaN(_0xbb7046)&&_0x27ce05[_0xbb7046]!==undefined){const _0x16176a=_0xfc0de4?_0x214a61[_0x976f78(0x5e1)][_0x3da527]||_0x976f78(0x6a0):_0x3da527;_0x27ce05[_0xbb7046][_0x976f78(0x6fd)](_0x16176a),_0x1cfa3a[_0xbb7046]++;}}}),_0x47c555=_0xe7a501(0x688)+_0x1cfa3a[_0xe7a501(0x4cb)]((_0x25657c,_0x271233)=>{const _0x3da905=_0xe7a501,_0x59889d=_0x27ce05[_0x271233][_0x3da905(0x14c)]>0x0?_0x27ce05[_0x271233][_0x3da905(0x656)](',\x20'):_0x3da905(0x25e),_0x3584dc=_0x3da905(0x966);return _0x3da905(0x5c3)+_0x25657c+_0x3da905(0xd8e)+_0x3584dc+_0x3da905(0x8e7)+_0x271233+_0x3da905(0xdf3)+_0x3160d7[_0x271233]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x271233+_0x3da905(0xc6b)+_0x59889d+_0x3da905(0xa7d);})[_0xe7a501(0x656)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}let _0x383b20='';const _0xbc343f=_0x214a61[_0xe7a501(0x7c6)]>=_0x419599[_0xe7a501(0x14c)]-0x1;_0x1887ad?_0x27d3a0?_0xbc343f?_0x383b20='<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>':_0x383b20=_0xe7a501(0x784):_0x383b20='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x27d3a0?_0x383b20=_0xe7a501(0x193):_0x383b20=_0xe7a501(0x59e);const _0x298e6f=_0x1887ad?_0xe7a501(0x432)+_0x214a61[_0xe7a501(0xd00)]+_0xe7a501(0x1f0):'',_0x59e99d=_0xe7a501(0x387)+_0x298e6f+_0xe7a501(0x64d)+(_0x1374f3['questionText']||_0x1374f3[_0xe7a501(0xc35)]||'')+_0xe7a501(0xa74)+_0x47c555+_0xe7a501(0xc29)+_0x383b20+_0xe7a501(0x5d2);liveGameView[_0xe7a501(0x568)]=_0x59e99d;if(window[_0xe7a501(0xb1b)])MathJax[_0xe7a501(0x4a5)]();if(_0x1887ad){const _0x4b1d8e=doc(db,_0xe7a501(0x407)+appId+_0xe7a501(0x709),currentLiveGameId);document[_0xe7a501(0x8a9)](_0xe7a501(0x2b8))?.[_0xe7a501(0xd68)](_0xe7a501(0xcc3),async()=>{const _0x39b169=_0xe7a501,_0xa7699d=Object[_0x39b169(0x17f)](_0x214a61[_0x39b169(0x7e6)]||{})[_0x39b169(0x4cb)](_0x2e59fe=>({'name':_0x2e59fe[_0x39b169(0x835)],'score':_0x2e59fe[_0x39b169(0xdd7)]||0x0,'totalPoints':_0x2e59fe['totalPoints']||0x0,'pointsLastRound':_0x2e59fe[_0x39b169(0xdc0)]||0x0,'answers':_0x2e59fe[_0x39b169(0x772)]||[],'correctStreak':_0x2e59fe[_0x39b169(0x6e6)]||0x0}));await updateDoc(_0x4b1d8e,{'status':_0x39b169(0x423),'publicLeaderboard':_0xa7699d});}),document['getElementById'](_0xe7a501(0x4b6))?.[_0xe7a501(0xd68)](_0xe7a501(0xcc3),()=>{const _0x30f257=_0xe7a501;openScratchpad(_0x1374f3,_0x1374f3[_0x30f257(0x487)]||[]);}),document[_0xe7a501(0x8a9)](_0xe7a501(0xa94))?.['addEventListener'](_0xe7a501(0xcc3),async()=>{const _0x178340=_0xe7a501,_0x2db388=_0x214a61[_0x178340(0x7c6)]+0x1;await updateDoc(_0x4b1d8e,{'status':'question','currentQuestionIndex':_0x2db388,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0xe7a501(0x8a9)]('show-final-results-btn')?.[_0xe7a501(0xd68)](_0xe7a501(0xcc3),async()=>{const _0x36b043=_0xe7a501,_0xb3b4f4=Object['values'](_0x214a61[_0x36b043(0x7e6)]||{})['map'](_0x207fba=>({'name':_0x207fba[_0x36b043(0x835)],'score':_0x207fba['score']||0x0,'totalPoints':_0x207fba[_0x36b043(0x9f0)]||0x0,'pointsLastRound':_0x207fba['pointsLastRound']||0x0,'answers':_0x207fba[_0x36b043(0x772)]||[],'correctStreak':_0x207fba['correctStreak']||0x0}));await updateDoc(_0x4b1d8e,{'status':'results','reviewQuestionIndex':0x0,'publicLeaderboard':_0xb3b4f4});});}}function renderAnonymousStudentResultsView(_0xe8f1ff){const _0x1efe08=_0x1b610a,_0x50fcbd=_0xe8f1ff[_0x1efe08(0x7c6)]>=_0xe8f1ff[_0x1efe08(0x698)][_0x1efe08(0x3c6)]['length']-0x1;let _0x5a7009='';if(_0xe8f1ff[_0x1efe08(0xe55)]===!![]){const _0x4c9e8e=_0xe8f1ff[_0x1efe08(0x7e6)][localTeamPlayers[0x0]],_0x36e792=_0x4c9e8e[_0x1efe08(0x835)],_0xc2989d=_0x4c9e8e[_0x1efe08(0xdd7)];_0x5a7009=_0x1efe08(0xcc9)+_0x36e792+_0x1efe08(0xe74)+_0xc2989d+_0x1efe08(0x678);}else _0x5a7009='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x50fcbd?_0x1efe08(0x12b):_0x1efe08(0x7e8))+_0x1efe08(0x708);const _0x5ace64=_0x1efe08(0x9b5)+_0x5a7009+_0x1efe08(0x731);liveGameView['innerHTML']=_0x5ace64;}async function handleShowStudentRankings(){const _0x5bbcce=_0x1b610a,_0x5cf1a1=document[_0x5bbcce(0x2b0)]('#student-quiz-leaderboard-content\x20thead');_0x5cf1a1&&(_0x5cf1a1[_0x5bbcce(0x568)]=_0x5bbcce(0x7b4));const _0x3a3571=document[_0x5bbcce(0x2b0)]('#student-project-leaderboard-content\x20thead');_0x3a3571&&(_0x3a3571[_0x5bbcce(0x568)]=_0x5bbcce(0xced));const _0x442d94=document[_0x5bbcce(0x8a9)]('student-rankings-modal');_0x442d94[_0x5bbcce(0xb12)][_0x5bbcce(0x1e9)]('hidden'),document['getElementById'](_0x5bbcce(0xccb))['onclick']=()=>_0x442d94[_0x5bbcce(0xb12)]['add']('hidden');const _0xc9e0a0=document[_0x5bbcce(0x8a9)](_0x5bbcce(0x594)),_0x8bc38b=document[_0x5bbcce(0x8a9)]('student-project-leaderboard-tab'),_0x198d10=document[_0x5bbcce(0x8a9)](_0x5bbcce(0x8f8)),_0x599210=document[_0x5bbcce(0x8a9)](_0x5bbcce(0x531));_0xc9e0a0[_0x5bbcce(0x743)]=()=>{const _0x300ee1=_0x5bbcce;_0xc9e0a0[_0x300ee1(0xb12)][_0x300ee1(0x786)](_0x300ee1(0x6bc)),_0x8bc38b['classList']['remove'](_0x300ee1(0x6bc)),_0x198d10['classList'][_0x300ee1(0x1e9)](_0x300ee1(0x9cf)),_0x599210[_0x300ee1(0xb12)][_0x300ee1(0x786)](_0x300ee1(0x9cf));},_0x8bc38b[_0x5bbcce(0x743)]=()=>{const _0x1d8e49=_0x5bbcce;_0x8bc38b[_0x1d8e49(0xb12)]['add']('active'),_0xc9e0a0[_0x1d8e49(0xb12)]['remove'](_0x1d8e49(0x6bc)),_0x599210[_0x1d8e49(0xb12)]['remove']('hidden'),_0x198d10[_0x1d8e49(0xb12)][_0x1d8e49(0x786)](_0x1d8e49(0x9cf));};try{const _0x5303c6=collection(db,_0x5bbcce(0x407)+appId+_0x5bbcce(0x56f)+currentQuizData['id']+_0x5bbcce(0x8b6)),_0xaa69ea=await getDocs(_0x5303c6),_0x1a7068=_0xaa69ea['docs'][_0x5bbcce(0x4cb)](_0xae9ba3=>_0xae9ba3[_0x5bbcce(0x860)]());renderQuizLeaderboard(_0x1a7068,currentQuizData,_0x5bbcce(0x919));const _0xe445e1=collection(db,_0x5bbcce(0x407)+appId+'/public/data/projects/'+currentQuizData[_0x5bbcce(0xccc)]+_0x5bbcce(0x50b)),_0x44f6d6=await getDocs(_0xe445e1),_0x7b1290=_0x44f6d6[_0x5bbcce(0x654)][_0x5bbcce(0x4cb)](_0x3b355a=>_0x3b355a[_0x5bbcce(0x860)]());renderLeaderboard(_0x7b1290,_0x5bbcce(0xb68));}catch(_0xad0f2e){console[_0x5bbcce(0xce3)](_0x5bbcce(0x854),_0xad0f2e),showMessage(_0x5bbcce(0x5ae));}}async function handleSaveToBank(_0xf236d3){const _0x5b84ea=_0x1b610a,_0x33199a=_0xf236d3[_0x5b84ea(0x6b6)],_0x454174=_0x33199a['dataset'][_0x5b84ea(0x26b)],_0x3fa202=currentQuizData[_0x5b84ea(0x3c6)][_0x454174];if(!userId){showMessage(_0x5b84ea(0x35c));return;}try{const _0x4ad0e6={..._0x3fa202,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x1cab9a=collection(db,'artifacts/'+appId+_0x5b84ea(0x4a1)+userId+_0x5b84ea(0x1bd));await addDoc(_0x1cab9a,_0x4ad0e6),showMessage(_0x5b84ea(0xdaf)),_0x33199a[_0x5b84ea(0xb12)][_0x5b84ea(0x1e9)](_0x5b84ea(0x306)),_0x33199a[_0x5b84ea(0xb12)]['add'](_0x5b84ea(0x3d8)),_0x33199a[_0x5b84ea(0x317)]=!![];}catch(_0x4da9ee){console[_0x5b84ea(0xce3)](_0x5b84ea(0x2fd),_0x4da9ee),showMessage(_0x5b84ea(0x240));}}async function selectProjectAndGenerateBlueprintQuiz(_0x1f1ce1,_0x4f44a6=null,_0x3ad959=null,_0x383925=![]){const _0x34e007=_0x1b610a;cameFromBlueprint=!![];const _0x23c8bb=document[_0x34e007(0x8a9)](_0x34e007(0x676))?.[_0x34e007(0x61e)][_0x34e007(0x937)]();let _0x4e360f=null;if(_0x23c8bb){showMessage(_0x34e007(0x16c));try{const _0x59d4c0=await fetchFileFromUrl(_0x23c8bb,'reference_onet.pdf'),_0x1de760=await new Promise((_0xcedb32,_0x52e7af)=>{const _0x16f3b4=_0x34e007,_0x222d28=new FileReader();_0x222d28[_0x16f3b4(0xbc6)](_0x59d4c0),_0x222d28[_0x16f3b4(0x92e)]=()=>_0xcedb32(_0x222d28[_0x16f3b4(0x8d1)]['split'](',')[0x1]),_0x222d28[_0x16f3b4(0x2a0)]=_0x52e7af;});_0x4e360f=[{'inlineData':{'mimeType':_0x59d4c0[_0x34e007(0xb19)],'data':_0x1de760}}],messageModal[_0x34e007(0xb12)][_0x34e007(0x786)]('hidden');}catch(_0xa40bd7){console['error']('Could\x20not\x20fetch\x20reference\x20file:',_0xa40bd7),showMessage(_0x34e007(0xab6));}}const _0x1943f5=document[_0x34e007(0x8a9)](_0x34e007(0x207)),_0x364f58=document[_0x34e007(0x8a9)](_0x34e007(0x202)),_0x20d668=_0x1943f5[_0x34e007(0x2b0)]('h3'),_0x4bef3c=document[_0x34e007(0x8a9)](_0x34e007(0x145)),_0x36efd5=document[_0x34e007(0x8a9)](_0x34e007(0xdb3));_0x20d668['textContent']='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x4bef3c[_0x34e007(0xab8)]='เลือกและเริ่มสร้าง',_0x4bef3c[_0x34e007(0x317)]=!![];allProjects[_0x34e007(0x14c)]===0x0?_0x364f58[_0x34e007(0x568)]=_0x34e007(0x745):(_0x364f58[_0x34e007(0x568)]=_0x34e007(0x761)+allProjects[_0x34e007(0x4cb)](_0x174d08=>_0x34e007(0x15f)+_0x174d08['id']+'\x22>'+_0x174d08[_0x34e007(0x252)]+'</option>')[_0x34e007(0x656)](''),_0x4bef3c[_0x34e007(0x317)]=![]);_0x1943f5[_0x34e007(0xb12)]['remove'](_0x34e007(0x9cf));const _0x418de2=async()=>{const _0x5a6bdf=_0x34e007,_0x171046=_0x364f58[_0x5a6bdf(0x61e)];if(!_0x171046){showMessage(_0x5a6bdf(0x3c3));return;}_0x1943f5[_0x5a6bdf(0xb12)][_0x5a6bdf(0x786)](_0x5a6bdf(0x9cf)),document[_0x5a6bdf(0x8a9)](_0x5a6bdf(0xe8d))[_0x5a6bdf(0xb12)][_0x5a6bdf(0x786)](_0x5a6bdf(0x9cf)),await loadProjectDetails(_0x171046),showView(_0x5a6bdf(0x535)),handleGenerateQuizFromBlueprintTopic(_0x1f1ce1,_0x4f44a6,_0x171046,_0x3ad959,_0x383925,_0x4e360f),_0x48339e();},_0x48339e=()=>{const _0x5ce172=_0x34e007;_0x20d668[_0x5ce172(0xab8)]=_0x5ce172(0x176),_0x4bef3c[_0x5ce172(0xab8)]=_0x5ce172(0xcd0),_0x4bef3c[_0x5ce172(0xd06)](_0x5ce172(0xcc3),_0x418de2),_0x36efd5['removeEventListener'](_0x5ce172(0xcc3),_0x48339e),_0x4bef3c[_0x5ce172(0xd68)](_0x5ce172(0xcc3),confirmMoveQuiz);};_0x4bef3c[_0x34e007(0xd06)]('click',confirmMoveQuiz),_0x4bef3c[_0x34e007(0xd68)](_0x34e007(0xcc3),_0x418de2),_0x36efd5[_0x34e007(0xd68)]('click',_0x48339e);}function listenForStarredQuizzes(){const _0x1fa195=_0x1b610a;if(!userId)return;const _0x3992c0=collection(db,_0x1fa195(0x407)+appId+_0x1fa195(0x399)),_0x49063e=query(_0x3992c0,where(_0x1fa195(0xaa4),'==',!![]));onSnapshot(_0x49063e,_0x225b51=>{const _0x51a03c=_0x1fa195;starredQuizzes=_0x225b51['docs']['map'](_0x3be448=>({'id':_0x3be448['id'],..._0x3be448[_0x51a03c(0x860)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x7e3153=>{const _0x27a4a4=_0x1fa195;console[_0x27a4a4(0xce3)](_0x27a4a4(0xc2a),_0x7e3153);});}function listenForFileShortcuts(){const _0x545af4=_0x1b610a,_0x36833b=doc(db,'globalSettings',_0x545af4(0x9d8));onSnapshot(_0x36833b,_0x4a5bbb=>{const _0x107314=_0x545af4;let _0x20fa2a=[],_0x54780e=[],_0x527f04={};if(_0x4a5bbb[_0x107314(0xa90)]()){const _0x578e84=_0x4a5bbb[_0x107314(0x860)]();_0x20fa2a=_0x578e84[_0x107314(0x3f7)]||[],_0x54780e=_0x578e84[_0x107314(0x9fd)]||[],_0x527f04=_0x578e84[_0x107314(0x433)]||{};}!_0x54780e['find'](_0x5b4f68=>_0x5b4f68['id']==='all')&&_0x54780e['unshift']({'id':'all','name':_0x107314(0xb6a),'isDefault':!![]}),!_0x20fa2a[_0x107314(0x6bf)](_0x4512db=>_0x4512db['id']===_0x107314(0xb1d))&&_0x20fa2a['unshift']({'id':_0x107314(0xb1d),'name':_0x107314(0x91f),'url':'','isDefault':!![]}),!_0x20fa2a[_0x107314(0x6bf)](_0x30b858=>_0x30b858['id']===_0x107314(0x8d0))&&_0x20fa2a[_0x107314(0x5b1)]({'id':_0x107314(0x8d0),'name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x20fa2a,fileShortcutTabs=_0x54780e,fileShortcutOrder=_0x527f04,renderFileShortcuts(),!document['getElementById'](_0x107314(0xc38))[_0x107314(0xb12)][_0x107314(0x48e)](_0x107314(0x9cf))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x396d6d=_0x1b610a,_0x22dce5=doc(db,_0x396d6d(0x18b),'fileShortcutsConfig');try{await setDoc(_0x22dce5,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x87dfc8){console[_0x396d6d(0xce3)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x87dfc8);}}function renderAdditionalFileShortcutsModal(){const _0x5b29e6=_0x1b610a,_0x5eda61=document[_0x5b29e6(0x8a9)](_0x5b29e6(0xe20)),_0x500b0e=document[_0x5b29e6(0x8a9)](_0x5b29e6(0x983));if(!_0x5eda61||!_0x500b0e)return;_0x5eda61['innerHTML']=fileShortcutTabs[_0x5b29e6(0x4cb)](_0x21c502=>{const _0x3b248b=_0x5b29e6,_0x254098=_0x21c502['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x21c502['id']+_0x3b248b(0x20d)+(_0x254098?'border-indigo-500\x20text-indigo-600':_0x3b248b(0xd10))+_0x3b248b(0xd21)+_0x21c502[_0x3b248b(0x835)]+_0x3b248b(0xe4b)+_0x21c502[_0x3b248b(0x835)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x21c502[_0x3b248b(0x9e8)]?'<button\x20data-tab-id=\x22'+_0x21c502['id']+_0x3b248b(0x52a):'')+_0x3b248b(0xbed);})[_0x5b29e6(0x656)]('');const _0xcdbb99=fileShortcutTabs[_0x5b29e6(0x6bf)](_0x278df8=>_0x278df8['id']===activeFileShortcutTabId);let _0x1088f9=_0xcdbb99?.[_0x5b29e6(0x9e8)]?[...fileShortcuts]:fileShortcuts[_0x5b29e6(0x58f)](_0x1c546e=>(_0xcdbb99?.[_0x5b29e6(0x6d2)]||[])[_0x5b29e6(0x55e)](_0x1c546e['id']));const _0x53df70=fileShortcutOrder[activeFileShortcutTabId]||[];_0x1088f9[_0x5b29e6(0x528)]((_0xb3f814,_0x2194f4)=>{const _0x2b907f=_0x53df70['indexOf'](_0xb3f814['id']),_0x5ab517=_0x53df70['indexOf'](_0x2194f4['id']);return(_0x2b907f===-0x1?Infinity:_0x2b907f)-(_0x5ab517===-0x1?Infinity:_0x5ab517);}),_0x500b0e[_0x5b29e6(0x568)]=_0x1088f9['map'](_0x2dc5e7=>{const _0x4a5a65=_0x5b29e6,_0xca81b9=_0x2dc5e7[_0x4a5a65(0xb2f)]?'📄':'🔗',_0x40443a=fileShortcutTabs['filter'](_0xacbdc0=>!_0xacbdc0[_0x4a5a65(0x9e8)]),_0x67cd99=_0xcdbb99[_0x4a5a65(0x9e8)]&&_0x40443a[_0x4a5a65(0x14c)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40443a[_0x4a5a65(0x4cb)](_0x23ce76=>'<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x2dc5e7['id']+_0x4a5a65(0x9a1)+_0x23ce76['id']+'\x22>'+_0x23ce76[_0x4a5a65(0x835)]+_0x4a5a65(0xac3))['join']('')+_0x4a5a65(0xca4):'';return _0x4a5a65(0x748)+_0x2dc5e7['id']+_0x4a5a65(0xe37)+_0xca81b9+'\x20'+_0x2dc5e7[_0x4a5a65(0x835)]+_0x4a5a65(0x671)+_0x2dc5e7['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2dc5e7['id']+_0x4a5a65(0xb59)+(!_0x2dc5e7['isDefault']?'<button\x20data-id=\x22'+_0x2dc5e7['id']+_0x4a5a65(0x8a6):'')+_0x4a5a65(0xd94)+(!_0xcdbb99[_0x4a5a65(0x9e8)]?_0x4a5a65(0x9aa)+_0x2dc5e7['id']+_0x4a5a65(0xdfe):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x67cd99+_0x4a5a65(0xda0);})[_0x5b29e6(0x656)]('')||_0x5b29e6(0x680),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x545330=_0x1b610a;document['querySelectorAll'](_0x545330(0xb82))['forEach'](_0x36becb=>{const _0x363bc8=_0x545330;_0x36becb[_0x363bc8(0x743)]=_0x4d1692=>{const _0x1f08cd=_0x363bc8;activeFileShortcutTabId=_0x4d1692['currentTarget'][_0x1f08cd(0xd34)][_0x1f08cd(0x49f)],renderAdditionalFileShortcutsModal();},_0x36becb['ondblclick']=_0x1c6f0e=>{const _0xa4edb7=_0x363bc8,_0x30e040=_0x1c6f0e[_0xa4edb7(0x6b6)][_0xa4edb7(0x2b0)](_0xa4edb7(0xe0c));_0x1c6f0e['currentTarget'][_0xa4edb7(0x2b0)]('.tab-name-display')[_0xa4edb7(0xb12)]['add'](_0xa4edb7(0x9cf)),_0x30e040[_0xa4edb7(0xb12)][_0xa4edb7(0x1e9)](_0xa4edb7(0x9cf)),_0x30e040[_0xa4edb7(0x8d7)](),_0x30e040[_0xa4edb7(0xaf7)]();};}),document['querySelectorAll'](_0x545330(0xba2))[_0x545330(0xacf)](_0x2c7113=>{const _0x58bb0e=_0x545330,_0x1189ec=()=>{const _0x40e074=_0x6978,_0x122909=_0x2c7113[_0x40e074(0x156)](_0x40e074(0xb82))[_0x40e074(0xd34)][_0x40e074(0x49f)],_0x29ccd9=fileShortcutTabs['find'](_0x3f00ea=>_0x3f00ea['id']===_0x122909);_0x29ccd9&&(_0x29ccd9[_0x40e074(0x835)]=_0x2c7113[_0x40e074(0x61e)]['trim']()||_0x29ccd9['name'],saveFileShortcutConfig());};_0x2c7113[_0x58bb0e(0xa0a)]=_0x1189ec,_0x2c7113[_0x58bb0e(0x4df)]=_0x2e58fa=>{const _0x5abb05=_0x58bb0e;if(_0x2e58fa[_0x5abb05(0x2c4)]===_0x5abb05(0x1ee))_0x2c7113[_0x5abb05(0xa3d)]();};}),document[_0x545330(0x6b8)]('.delete-file-shortcut-tab-btn')[_0x545330(0xacf)](_0x2b3fad=>_0x2b3fad['onclick']=_0x54327c=>{const _0x1e0dd2=_0x545330,_0x4d6d5c=_0x54327c['currentTarget'][_0x1e0dd2(0xd34)][_0x1e0dd2(0x49f)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x57b0a9=_0x1e0dd2;fileShortcutTabs=fileShortcutTabs[_0x57b0a9(0x58f)](_0xac27d6=>_0xac27d6['id']!==_0x4d6d5c),delete fileShortcutOrder[_0x4d6d5c];if(activeFileShortcutTabId===_0x4d6d5c)activeFileShortcutTabId=_0x57b0a9(0xbd8);saveFileShortcutConfig();});}),document['querySelectorAll']('.move-file-shortcut-item')['forEach'](_0x44272e=>_0x44272e[_0x545330(0x743)]=_0x413663=>{const _0x436311=_0x545330;_0x413663[_0x436311(0x219)]();const {shortcutId:_0x3f94dd,targetTabId:_0x26ffda}=_0x413663['currentTarget'][_0x436311(0xd34)],_0x1a9b7f=fileShortcutTabs[_0x436311(0x6bf)](_0x2a2ba4=>_0x2a2ba4['id']===_0x26ffda);_0x1a9b7f&&!_0x1a9b7f[_0x436311(0x6d2)][_0x436311(0x55e)](_0x3f94dd)&&(_0x1a9b7f['shortcutIds'][_0x436311(0x6fd)](_0x3f94dd),saveFileShortcutConfig());}),document[_0x545330(0x6b8)](_0x545330(0x722))[_0x545330(0xacf)](_0x371be2=>_0x371be2[_0x545330(0x743)]=_0x30fd17=>{const _0x4dd7e0=_0x545330,_0x51f933=_0x30fd17['currentTarget'][_0x4dd7e0(0xd34)][_0x4dd7e0(0x33b)],_0x585222=fileShortcutTabs[_0x4dd7e0(0x6bf)](_0x1c0e6e=>_0x1c0e6e['id']===activeFileShortcutTabId);_0x585222&&!_0x585222[_0x4dd7e0(0x9e8)]&&(_0x585222[_0x4dd7e0(0x6d2)]=_0x585222[_0x4dd7e0(0x6d2)][_0x4dd7e0(0x58f)](_0x3c4ad0=>_0x3c4ad0!==_0x51f933),saveFileShortcutConfig());}),document[_0x545330(0x6b8)]('.move-file-shortcut-menu-btn')[_0x545330(0xacf)](_0x53380a=>_0x53380a[_0x545330(0x743)]=_0x568d9f=>{const _0x41d7a5=_0x545330;_0x568d9f[_0x41d7a5(0x8fd)]();const _0x51a2b5=_0x568d9f[_0x41d7a5(0x6b6)][_0x41d7a5(0xe80)];document[_0x41d7a5(0x6b8)]('.move-file-shortcut-dropdown')[_0x41d7a5(0xacf)](_0x213a81=>_0x213a81[_0x41d7a5(0xb12)][_0x41d7a5(0x786)](_0x41d7a5(0x9cf))),_0x51a2b5[_0x41d7a5(0xb12)][_0x41d7a5(0x1e9)](_0x41d7a5(0x9cf));});const _0x5aa6bc=document[_0x545330(0x8a9)](_0x545330(0x983));let _0x31d99c=null;_0x5aa6bc[_0x545330(0x543)]=_0x516bfe=>{const _0x523688=_0x545330;_0x31d99c=_0x516bfe[_0x523688(0x61a)][_0x523688(0x156)](_0x523688(0x44b));if(_0x31d99c)setTimeout(()=>_0x31d99c[_0x523688(0xb12)][_0x523688(0x786)]('opacity-50'),0x0);},_0x5aa6bc[_0x545330(0x58a)]=()=>{const _0x224e9a=_0x545330;_0x31d99c&&(_0x31d99c[_0x224e9a(0xb12)][_0x224e9a(0x1e9)](_0x224e9a(0xb66)),_0x31d99c=null);},_0x5aa6bc['ondragover']=_0x37fe2a=>{const _0x31106d=_0x545330;_0x37fe2a[_0x31106d(0x219)]();},_0x5aa6bc[_0x545330(0x1ca)]=_0x1024e9=>{const _0x1db196=_0x545330;_0x1024e9[_0x1db196(0x219)]();if(_0x31d99c){const _0x283d4f=[..._0x5aa6bc['querySelectorAll'](_0x1db196(0x222))]['reduce']((_0x2fbc8b,_0x58aef)=>{const _0x229671=_0x1db196,_0x25f4fd=_0x58aef[_0x229671(0xd95)](),_0xa09e17=_0x1024e9[_0x229671(0x33c)]-_0x25f4fd[_0x229671(0x2d3)]-_0x25f4fd[_0x229671(0xb7f)]/0x2;return _0xa09e17<0x0&&_0xa09e17>_0x2fbc8b[_0x229671(0xdd0)]?{'offset':_0xa09e17,'element':_0x58aef}:_0x2fbc8b;},{'offset':Number[_0x1db196(0x6a9)]})['element'];_0x283d4f==null?_0x5aa6bc[_0x1db196(0x90c)](_0x31d99c):_0x5aa6bc[_0x1db196(0x974)](_0x31d99c,_0x283d4f);const _0x40f6bc=[..._0x5aa6bc['querySelectorAll']('.shortcut-list-item')]['map'](_0x4e5e6f=>_0x4e5e6f[_0x1db196(0xd34)][_0x1db196(0x33b)]);fileShortcutOrder[activeFileShortcutTabId]=_0x40f6bc,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0xa35a84=_0x1b610a,_0xc78700=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0xa35a84(0xd27));_0xc78700&&_0xc78700[_0xa35a84(0x937)]()&&(fileShortcutTabs[_0xa35a84(0x6fd)]({'id':_0xa35a84(0x5fb)+Date[_0xa35a84(0x82a)](),'name':_0xc78700[_0xa35a84(0x937)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x59fe24=_0x1b610a,_0x2701b9=document['getElementById'](_0x59fe24(0xdfc)),_0x24ab69=document[_0x59fe24(0x8a9)](_0x59fe24(0x983)),_0x5cc473=document[_0x59fe24(0x8a9)](_0x59fe24(0x8f0));if(_0x5cc473)_0x5cc473[_0x59fe24(0xb12)][_0x59fe24(0x786)](_0x59fe24(0x9cf));if(!_0x2701b9||!_0x24ab69)return;const _0x554861=fileShortcuts['slice'](0x0,0x4),_0x400848=fileShortcuts['slice'](0x4);_0x2701b9[_0x59fe24(0x568)]=_0x554861[_0x59fe24(0x4cb)](_0x33ce37=>{const _0x50c468=_0x59fe24,_0x4d4494=_0x33ce37[_0x50c468(0xb2f)]&&_0x33ce37['url']['trim']()!=='',_0x9cca41=selectedFile&&selectedFile['shortcutId']===_0x33ce37['id'];let _0x521ee4=_0x50c468(0xd9d),_0x2af0f2='🔗';if(_0x9cca41)_0x521ee4=_0x50c468(0x41a),_0x2af0f2='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x4d4494&&(_0x521ee4=_0x50c468(0x7b5),_0x2af0f2='📄');const _0x54daaf=!_0x33ce37[_0x50c468(0x9e8)]?_0x50c468(0xb5f)+_0x33ce37['id']+_0x50c468(0x3ba):'';return _0x50c468(0x2b1)+_0x33ce37['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x521ee4+_0x50c468(0xa84)+_0x2af0f2+_0x50c468(0xe18)+_0x33ce37[_0x50c468(0x835)]+_0x50c468(0x8bc)+_0x33ce37['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54daaf+_0x50c468(0x130);})['join'](''),_0x400848[_0x59fe24(0x14c)]>0x0&&(_0x2701b9['innerHTML']+=_0x59fe24(0x881)),_0x400848[_0x59fe24(0x14c)]>0x0?_0x24ab69[_0x59fe24(0x568)]=_0x400848['map'](_0x4994f9=>_0x59fe24(0xcc5)+(_0x4994f9[_0x59fe24(0xb2f)]?'📄':'🔗')+'\x20'+_0x4994f9[_0x59fe24(0x835)]+_0x59fe24(0xcb1)+_0x4994f9['id']+_0x59fe24(0x618)+_0x4994f9['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4994f9[_0x59fe24(0x9e8)]?'<button\x20data-id=\x22'+_0x4994f9['id']+_0x59fe24(0x8a6):'')+_0x59fe24(0xacd))[_0x59fe24(0x656)](''):_0x24ab69[_0x59fe24(0x568)]=_0x59fe24(0x3da);}function openFileShortcutEditor(_0x54a23f=null){const _0x3ffbed=_0x1b610a,_0xf5e578=document[_0x3ffbed(0x8a9)](_0x3ffbed(0xdbf)),_0x36239c=document[_0x3ffbed(0x8a9)](_0x3ffbed(0x556)),_0x16eeb2=document[_0x3ffbed(0x8a9)](_0x3ffbed(0x8ff)),_0x67c5=document[_0x3ffbed(0x8a9)](_0x3ffbed(0xa96)),_0x4f0d63=document[_0x3ffbed(0x8a9)](_0x3ffbed(0x79a));if(_0x54a23f){const _0x45fdd5=fileShortcuts[_0x3ffbed(0x6bf)](_0x262ee3=>_0x262ee3['id']===_0x54a23f);if(!_0x45fdd5)return;_0x36239c[_0x3ffbed(0xab8)]=_0x3ffbed(0x485),_0x16eeb2['value']=_0x45fdd5['id'],_0x67c5[_0x3ffbed(0x61e)]=_0x45fdd5[_0x3ffbed(0x835)],_0x4f0d63[_0x3ffbed(0x61e)]=_0x45fdd5[_0x3ffbed(0xb2f)]||'';}else _0x36239c['textContent']=_0x3ffbed(0x53c),_0x16eeb2[_0x3ffbed(0x61e)]='',_0x67c5[_0x3ffbed(0x61e)]='',_0x4f0d63[_0x3ffbed(0x61e)]='';_0xf5e578[_0x3ffbed(0xb12)]['remove'](_0x3ffbed(0x9cf));}async function saveFileShortcutChanges(){const _0x1f6e89=_0x1b610a,_0x119654=document['getElementById'](_0x1f6e89(0x8ff))[_0x1f6e89(0x61e)],_0x5f1ed7=document[_0x1f6e89(0x8a9)](_0x1f6e89(0xa96))['value'][_0x1f6e89(0x937)](),_0x2f540e=document[_0x1f6e89(0x8a9)]('file-shortcut-url-input')['value']['trim']();if(!_0x5f1ed7){showMessage(_0x1f6e89(0x52b));return;}const _0x42eb90={'id':_0x119654||'file-shortcut_'+Date[_0x1f6e89(0x82a)](),'name':_0x5f1ed7,'url':_0x2f540e,'isDefault':_0x119654[_0x1f6e89(0x685)](_0x1f6e89(0x212))};let _0x5e6a2e;_0x119654?_0x5e6a2e=fileShortcuts[_0x1f6e89(0x4cb)](_0xf1a5ca=>_0xf1a5ca['id']===_0x119654?_0x42eb90:_0xf1a5ca):_0x5e6a2e=[...fileShortcuts,_0x42eb90];try{const _0x3547ab=doc(db,'globalSettings',_0x1f6e89(0x9d8));await setDoc(_0x3547ab,{'shortcuts':_0x5e6a2e},{'merge':!![]}),document[_0x1f6e89(0x8a9)](_0x1f6e89(0xdbf))[_0x1f6e89(0xb12)]['add']('hidden');}catch(_0x136e2a){console['error'](_0x1f6e89(0x45d),_0x136e2a),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0xd71bfd){const _0x549217=_0x1b610a,_0x3e021a=fileShortcuts[_0x549217(0x6bf)](_0x484e65=>_0x484e65['id']===_0xd71bfd);if(!_0x3e021a)return;if(!_0x3e021a[_0x549217(0xb2f)]||_0x3e021a[_0x549217(0xb2f)][_0x549217(0x937)]()===''){openFileShortcutEditor(_0xd71bfd);return;}const _0x5d715e=document[_0x549217(0x2b0)](_0x549217(0x947)+_0xd71bfd+'\x22]');if(_0x5d715e){const _0x335f3c=_0x5d715e[_0x549217(0x568)];_0x5d715e[_0x549217(0x568)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x5d715e['disabled']=!![];}document[_0x549217(0x6b8)]('.file-shortcut-btn')[_0x549217(0xacf)](_0x1b5973=>{const _0x37c671=_0x549217;if(_0x1b5973['dataset']['id']!==_0xd71bfd)_0x1b5973[_0x37c671(0xb12)][_0x37c671(0x786)]('opacity-50',_0x37c671(0x2f1));});try{const _0x4a1cef=new URL(_0x3e021a[_0x549217(0xb2f)])[_0x549217(0x78a)],_0x2c95c6=_0x4a1cef['substring'](_0x4a1cef[_0x549217(0xcbe)]('/')+0x1)||(_0x3e021a[_0x549217(0xb2f)][_0x549217(0x55e)](_0x549217(0x557))?'file.txt':_0x549217(0xc56)),_0x41917a=await fetchFileFromUrl(_0x3e021a[_0x549217(0xb2f)],_0x2c95c6);_0x41917a['shortcutId']=_0xd71bfd,selectedFile=_0x41917a,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x549217(0x8a9)](_0x549217(0xb44))[_0x549217(0x353)]({'behavior':_0x549217(0xb8f),'block':_0x549217(0x6ac)});}catch(_0x3b270f){console[_0x549217(0xce3)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x3b270f),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x3b270f[_0x549217(0xba0)]),renderFileShortcuts();}finally{document[_0x549217(0x6b8)](_0x549217(0xb0e))[_0x549217(0xacf)](_0x7e229d=>{const _0x451db0=_0x549217;_0x7e229d[_0x451db0(0xb12)][_0x451db0(0x1e9)](_0x451db0(0xb66),_0x451db0(0x2f1)),_0x7e229d['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x99a3=_0x1b610a;if(allQuizzesGlobal['length']>0x0)return;console[_0x99a3(0xd62)](_0x99a3(0x681)),showMessage(_0x99a3(0x44f));try{const _0x35235d=await getDocs(collection(db,_0x99a3(0x407)+appId+_0x99a3(0x399)));allQuizzesGlobal=_0x35235d[_0x99a3(0x654)][_0x99a3(0x4cb)](_0x4df1a2=>({'id':_0x4df1a2['id'],..._0x4df1a2[_0x99a3(0x860)]()})),console[_0x99a3(0xd62)]('Loaded\x20'+allQuizzesGlobal['length']+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x99a3(0xb12)][_0x99a3(0x786)]('hidden');}catch(_0x2296c4){console[_0x99a3(0xce3)](_0x99a3(0x40e),_0x2296c4),messageModal[_0x99a3(0xb12)][_0x99a3(0x786)](_0x99a3(0x9cf));throw new Error(_0x99a3(0x794));}}function exportQuizAsWorksheetPDF(){const _0x22f963=_0x1b610a;if(!currentQuizData||!currentQuizData[_0x22f963(0x3c6)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x52ae62=currentQuizData,_0x1e4f1e=window[_0x22f963(0x7d1)]('',_0x22f963(0xcca)),_0x43436a=_0x353c62=>String['fromCharCode'](0x41+_0x353c62),_0x2e0907='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x52ae62[_0x22f963(0x5cc)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x52ae62[_0x22f963(0x5cc)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52ae62[_0x22f963(0x3c6)][_0x22f963(0x4cb)]((_0x4e0ca6,_0x596309)=>{const _0x374904=_0x22f963;let _0x595a3a='';const _0x5be126=_0x4e0ca6[_0x374904(0xa9f)]||_0x52ae62['quizType'];switch(_0x5be126){case _0x374904(0x24a):case _0x374904(0x270):_0x595a3a='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x4e0ca6[_0x374904(0x487)]['map']((_0x4fd046,_0x311405)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x43436a(_0x311405)+'.\x20'+_0x4fd046+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x374904(0x656)](_0x374904(0x77e))+_0x374904(0x96b);break;case _0x374904(0x8fb):_0x595a3a=_0x374904(0xbda);break;default:_0x595a3a=_0x374904(0x790);break;}return _0x374904(0x6cd)+(_0x596309+0x1)+_0x374904(0x2df)+(_0x4e0ca6[_0x374904(0xc35)]||_0x4e0ca6[_0x374904(0x460)])+_0x374904(0x8dc)+(_0x4e0ca6[_0x374904(0x538)]?_0x374904(0x2f4)+_0x4e0ca6[_0x374904(0x538)]+'</div>':'')+_0x374904(0x6db)+_0x595a3a+_0x374904(0x37f);})[_0x22f963(0x656)]('')+_0x22f963(0xdb9);_0x1e4f1e[_0x22f963(0x6ef)][_0x22f963(0xb5b)](_0x2e0907),_0x1e4f1e[_0x22f963(0x6ef)][_0x22f963(0x9d5)](),_0x1e4f1e['onload']=function(){setTimeout(()=>{_0x1e4f1e['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x3c4a0c=_0x1b610a;if(!currentQuizData||!currentQuizData[_0x3c4a0c(0x3c6)]){showMessage(_0x3c4a0c(0xa0c));return;}const _0x2486c5=currentQuizData,_0x29e143=window[_0x3c4a0c(0x7d1)]('',_0x3c4a0c(0xcca)),_0x4b2d73=_0x3fc609=>String[_0x3c4a0c(0x7fd)](0x41+_0x3fc609),_0xbb89dc=_0x3c4a0c(0x186)+_0x2486c5[_0x3c4a0c(0x5cc)]+_0x3c4a0c(0x44e)+_0x2486c5[_0x3c4a0c(0x3c6)][_0x3c4a0c(0x4cb)]((_0x372f42,_0x4d6ef8)=>{const _0x299127=_0x3c4a0c;let _0x397168='';const _0xe53525=_0x372f42[_0x299127(0xa9f)]||_0x2486c5[_0x299127(0xcb6)];switch(_0xe53525){case _0x299127(0x24a):case _0x299127(0x270):_0x397168=_0x299127(0x63b)+_0x372f42[_0x299127(0x487)][_0x299127(0x4cb)]((_0xf00c6b,_0x53b47d)=>_0x299127(0x8d5)+_0x4b2d73(_0x53b47d)+'.\x20'+_0xf00c6b+_0x299127(0xbcd))[_0x299127(0x656)](_0x299127(0x77e))+_0x299127(0x8c7);break;case _0x299127(0x8fb):_0x397168=_0x299127(0x43e);break;default:_0x397168='';break;}return _0x299127(0x428)+_0x2486c5[_0x299127(0x5cc)]+_0x299127(0xcae)+(_0x4d6ef8+0x1)+_0x299127(0x302)+(_0x372f42[_0x299127(0xc35)]||_0x372f42[_0x299127(0x460)])+_0x299127(0x8dc)+(_0x372f42[_0x299127(0x538)]?_0x299127(0x73a)+_0x372f42[_0x299127(0x538)]+_0x299127(0x96b):'')+_0x299127(0x6db)+_0x397168+_0x299127(0xafe);})['join']('')+_0x3c4a0c(0xce2);_0x29e143['document'][_0x3c4a0c(0xb5b)](_0xbb89dc),_0x29e143['document'][_0x3c4a0c(0x9d5)](),_0x29e143[_0x3c4a0c(0x92e)]=function(){setTimeout(()=>{_0x29e143['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x1cce0f){const _0x5ae2ed=_0x1b610a,_0x1af708=doc(db,_0x5ae2ed(0x407)+appId+_0x5ae2ed(0x399),_0x1cce0f);try{const _0x3a49ab=await getDoc(_0x1af708);if(_0x3a49ab['exists']()){const _0x376268=_0x3a49ab[_0x5ae2ed(0x860)]()[_0x5ae2ed(0xaa4)]||![];await updateDoc(_0x1af708,{'isStarred':!_0x376268});}}catch(_0x548085){console[_0x5ae2ed(0xce3)]('Error\x20toggling\x20star\x20status:',_0x548085),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x48899e=_0x1b610a,_0x4f66ea=document['getElementById']('bank-input-area');_0x4f66ea[_0x48899e(0x568)]=_0x48899e(0x30b);try{const _0x3d0abe=collection(db,_0x48899e(0x407)+appId+_0x48899e(0x4a1)+userId+'/questionBank'),_0x241a59=query(_0x3d0abe),_0x4f6c85=await getDocs(_0x241a59);if(_0x4f6c85[_0x48899e(0x634)]){_0x4f66ea[_0x48899e(0x568)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x51e7c7=_0x4f6c85['docs'][_0x48899e(0x4cb)](_0x5afb14=>{const _0x5c0f7d=_0x48899e,_0x548611=_0x5afb14[_0x5c0f7d(0x860)](),_0x5e32c5=_0x5afb14['id'];return _0x5c0f7d(0x1dd)+JSON['stringify'](_0x548611)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x548611[_0x5c0f7d(0x460)]||_0x548611[_0x5c0f7d(0xc35)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x548611[_0x5c0f7d(0x96c)]+_0x5c0f7d(0x523);})[_0x48899e(0x656)]('');_0x4f66ea[_0x48899e(0x568)]=_0x48899e(0x354)+_0x51e7c7+_0x48899e(0xe46),document['getElementById'](_0x48899e(0x12e))[_0x48899e(0xd68)](_0x48899e(0xcc3),createQuizFromBank);}catch(_0x489f23){console[_0x48899e(0xce3)]('Error\x20displaying\x20question\x20bank:',_0x489f23),_0x4f66ea[_0x48899e(0x568)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x3b7085=_0x1b610a,_0x16a641=document[_0x3b7085(0x8a9)]('lesson-sections-container'),_0x1c80f0=document[_0x3b7085(0x8a9)](_0x3b7085(0x730))['textContent']||_0x3b7085(0x136);if(!_0x16a641){showMessage(_0x3b7085(0xd05));return;}const _0x24d43f=window[_0x3b7085(0x7d1)]('',_0x3b7085(0xcca)),_0xdc17e6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x1c80f0+_0x3b7085(0x48f)+_0x1c80f0+_0x3b7085(0x7e4)+_0x16a641[_0x3b7085(0x568)]+_0x3b7085(0xc46);_0x24d43f['document'][_0x3b7085(0xb5b)](_0xdc17e6),_0x24d43f['document'][_0x3b7085(0x9d5)](),_0x24d43f[_0x3b7085(0x92e)]=function(){setTimeout(()=>{const _0x4b8c65=_0x6978;_0x24d43f[_0x4b8c65(0xcfd)]();},0x7d0);};}function showAdminLiveQuestionView(_0x538828,_0x42caef,_0x4393aa){const _0x230802=_0x1b610a,_0xd2f011=_0x538828[_0x230802(0xa9f)]||currentQuizData[_0x230802(0xcb6)];let _0x4f06bd='';if(_0xd2f011===_0x230802(0x24a)||_0xd2f011===_0x230802(0x8fb)){const _0x270acd=_0xd2f011==='true_false'?[_0x230802(0x572),_0x230802(0x486)]:_0x538828[_0x230802(0x487)],_0x2bf0df=_0xd2f011===_0x230802(0x8fb)?_0x538828[_0x230802(0xad3)]?0x0:0x1:_0x538828[_0x230802(0x26c)];_0x4f06bd=_0x270acd['map']((_0x5127dd,_0x110b8a)=>_0x230802(0x516)+(_0x110b8a===_0x2bf0df)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5127dd+_0x230802(0x130))[_0x230802(0x656)]('');}else{if(_0xd2f011===_0x230802(0x3e6)){const _0x418dce=_0x538828[_0x230802(0x6cf)]||[];_0x4f06bd=_0x418dce[_0x230802(0x4cb)](_0x2d894c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x2d894c===_0x538828['correctResponse'])+_0x230802(0xc4f)+_0x2d894c+_0x230802(0x130))[_0x230802(0x656)]('');}}const _0x241ce8=_0x538828[_0x230802(0xc35)]||_0x538828[_0x230802(0x460)],_0x2122cc=_0x230802(0x1fb)+(_0x42caef+0x1)+_0x230802(0x2e6)+_0x4393aa+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x230802(0x69d)+_0x241ce8+_0x230802(0xd8b)+_0x4f06bd+_0x230802(0xa4d);liveGameView[_0x230802(0x568)]=_0x2122cc,window['MathJax']&&MathJax[_0x230802(0x4a5)]&&MathJax[_0x230802(0x4a5)]([liveGameView]),document[_0x230802(0x8a9)](_0x230802(0x913))['addEventListener'](_0x230802(0xcc3),()=>revealAnswerForAdmin(_0x42caef,_0x4393aa)),document[_0x230802(0x8a9)](_0x230802(0xc15))[_0x230802(0xd68)](_0x230802(0xcc3),async()=>{const _0x30a581=_0x230802;showConfirmation(_0x30a581(0x44d),async()=>{const _0x1b0958=_0x30a581,_0x5990f9=doc(db,_0x1b0958(0x407)+appId+_0x1b0958(0x429),currentLiveGameId);await updateDoc(_0x5990f9,{'status':_0x1b0958(0x517)});});}),document[_0x230802(0x8a9)](_0x230802(0x331))[_0x230802(0xd68)]('click',()=>{const _0x185489=_0x230802;document[_0x185489(0x8a9)]('live-player-management')[_0x185489(0xb12)][_0x185489(0x830)]('hidden');});}function promptForProjectBeforeGenerating(_0x59ec5c){const _0x31813e=_0x1b610a,_0x550ce9=document['getElementById'](_0x31813e(0x207)),_0x110d0f=document['getElementById'](_0x31813e(0x202)),_0x4f84a1=_0x550ce9[_0x31813e(0x2b0)]('h3'),_0xbbbdac=document['getElementById'](_0x31813e(0x145)),_0x325b77=document['getElementById']('cancel-move-quiz-btn');_0x4f84a1[_0x31813e(0xab8)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0xbbbdac[_0x31813e(0xab8)]='เลือกและเริ่มสร้าง',_0xbbbdac['disabled']=!![];allProjects['length']===0x0?_0x110d0f[_0x31813e(0x568)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x110d0f['innerHTML']=_0x31813e(0x761)+allProjects[_0x31813e(0x4cb)](_0xe3b62a=>_0x31813e(0x15f)+_0xe3b62a['id']+'\x22>'+_0xe3b62a[_0x31813e(0x252)]+_0x31813e(0xbe2))[_0x31813e(0x656)](''),_0xbbbdac['disabled']=![]);_0x550ce9[_0x31813e(0xb12)]['remove'](_0x31813e(0x9cf));const _0x462ed2=async()=>{const _0xa8b9d5=_0x31813e,_0x4626f8=_0x110d0f[_0xa8b9d5(0x61e)];if(!_0x4626f8){showMessage(_0xa8b9d5(0x3c3));return;}_0x550ce9[_0xa8b9d5(0xb12)]['add'](_0xa8b9d5(0x9cf)),await loadProjectDetails(_0x4626f8),showView(_0xa8b9d5(0x535)),handleGenerateQuizFromBlueprintTopic(_0x59ec5c),_0x1e39c9();},_0x1e39c9=()=>{const _0x198f22=_0x31813e;_0x4f84a1['textContent']=_0x198f22(0x176),_0xbbbdac[_0x198f22(0xab8)]=_0x198f22(0xcd0),_0xbbbdac['removeEventListener']('click',_0x462ed2),_0x325b77[_0x198f22(0xd06)](_0x198f22(0xcc3),_0x1e39c9),_0xbbbdac[_0x198f22(0xd68)]('click',confirmMoveQuiz);};_0xbbbdac[_0x31813e(0xd06)](_0x31813e(0xcc3),confirmMoveQuiz),_0xbbbdac[_0x31813e(0xd68)]('click',_0x462ed2),_0x325b77[_0x31813e(0xd68)]('click',_0x1e39c9);}function showStudentLiveQuestionView(_0x44ad3a,_0x560a13,_0x24cd98){const _0xdd7a6e=_0x1b610a,_0x39e7e0=_0x44ad3a[_0xdd7a6e(0xa9f)]||currentQuizData[_0xdd7a6e(0xcb6)];let _0x37b21f='';if(_0x39e7e0===_0xdd7a6e(0x24a)||_0x39e7e0===_0xdd7a6e(0x8fb)){const _0x5d03c8=_0x39e7e0===_0xdd7a6e(0x8fb)?[_0xdd7a6e(0x572),_0xdd7a6e(0x486)]:_0x44ad3a[_0xdd7a6e(0x487)];_0x37b21f=_0x5d03c8[_0xdd7a6e(0x4cb)]((_0x5a33c5,_0x201335)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x201335+_0xdd7a6e(0x3de)+_0x5a33c5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xdd7a6e(0x656)]('');}else{if(_0x39e7e0==='matching_item'){const _0x672c0c=_0x44ad3a[_0xdd7a6e(0x6cf)]||[];_0x37b21f=_0x672c0c[_0xdd7a6e(0x4cb)]((_0x217e68,_0x2e47d4)=>_0xdd7a6e(0x89d)+_0x2e47d4+_0xdd7a6e(0x3de)+_0x217e68+_0xdd7a6e(0x385))[_0xdd7a6e(0x656)]('');}else _0x39e7e0===_0xdd7a6e(0x815)&&(_0x37b21f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x250761=_0x44ad3a['stem']||_0x44ad3a[_0xdd7a6e(0x460)],_0x5a8d97=_0xdd7a6e(0x8db)+(_0x560a13+0x1)+_0xdd7a6e(0x2e6)+_0x24cd98+_0xdd7a6e(0x4d8)+_0x250761+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37b21f+_0xdd7a6e(0xaf8);liveGameView[_0xdd7a6e(0x568)]=_0x5a8d97;window[_0xdd7a6e(0xb1b)]&&MathJax[_0xdd7a6e(0x4a5)]&&MathJax['typesetPromise']([liveGameView]);const _0xbda26f=document[_0xdd7a6e(0x8a9)](_0xdd7a6e(0x95e));_0xbda26f&&_0xbda26f[_0xdd7a6e(0xd68)](_0xdd7a6e(0xcc3),()=>{const _0x50723c=_0xdd7a6e,_0x2faf19=document['getElementById'](_0x50723c(0x90a))[_0x50723c(0x61e)];handleLiveAnswer(_0x2faf19,_0x44ad3a);}),document['getElementById'](_0xdd7a6e(0x274))[_0xdd7a6e(0xd68)](_0xdd7a6e(0xcc3),_0x1e94ff=>{const _0x3664d7=_0xdd7a6e,_0x22e1bb=_0x1e94ff[_0x3664d7(0x61a)][_0x3664d7(0x156)]('.live-answer-btn');if(_0x22e1bb){const _0xe25603=parseInt(_0x22e1bb['dataset'][_0x3664d7(0x26b)]);handleLiveAnswer(_0xe25603,_0x44ad3a);}});}function listenForBlueprintShortcuts(){const _0x3ed133=_0x1b610a,_0x30e2ed=doc(db,_0x3ed133(0x18b),'dashboardConfig');onSnapshot(_0x30e2ed,_0x26027a=>{const _0x4703b0=_0x3ed133;let _0x65dc44=[],_0x2769df=[],_0x8129c2={};if(_0x26027a[_0x4703b0(0xa90)]()){const _0x3390c3=_0x26027a[_0x4703b0(0x860)]();_0x65dc44=_0x3390c3[_0x4703b0(0x615)]||[],_0x2769df=_0x3390c3[_0x4703b0(0x995)]||[],_0x8129c2=_0x3390c3[_0x4703b0(0x3f9)]||{};}!_0x2769df[_0x4703b0(0x6bf)](_0x5f4477=>_0x5f4477['id']===_0x4703b0(0xbd8))&&_0x2769df[_0x4703b0(0x5b1)]({'id':_0x4703b0(0xbd8),'name':_0x4703b0(0x554),'isDefault':!![]}),!_0x65dc44[_0x4703b0(0x6bf)](_0x37dc5d=>_0x37dc5d['id']===_0x4703b0(0xc66))&&_0x65dc44[_0x4703b0(0x5b1)]({'id':_0x4703b0(0xc66),'name':_0x4703b0(0x985),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x65dc44[_0x4703b0(0x6bf)](_0x425ac0=>_0x425ac0['id']===_0x4703b0(0xdea))&&_0x65dc44[_0x4703b0(0x5b1)]({'id':'default-2','name':_0x4703b0(0x972),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x65dc44,shortcutTabs=_0x2769df,shortcutOrder=_0x8129c2,renderBlueprintShortcuts(),!document[_0x4703b0(0x8a9)](_0x4703b0(0x3e8))[_0x4703b0(0xb12)][_0x4703b0(0x48e)](_0x4703b0(0x9cf))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x1a8b3a=_0x1b610a,_0x21256a=document[_0x1a8b3a(0x8a9)](_0x1a8b3a(0xd0c)),_0x36271b=document[_0x1a8b3a(0x8a9)](_0x1a8b3a(0x412));if(!_0x21256a||!_0x36271b)return;_0x21256a[_0x1a8b3a(0x568)]=shortcutTabs['map'](_0x207378=>{const _0x381b3a=_0x1a8b3a,_0x2677dc=_0x207378['id']===activeShortcutTabId,_0x2158e0=_0x381b3a(0xb1e),_0x2b5a38=_0x381b3a(0xd10);return _0x381b3a(0x71d)+_0x207378['id']+_0x381b3a(0xb05)+(_0x2677dc?_0x2158e0:_0x2b5a38)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x207378['name']+_0x381b3a(0x71a)+_0x207378[_0x381b3a(0x835)]+_0x381b3a(0xa41)+(!_0x207378['isDefault']?_0x381b3a(0xe5a)+_0x207378['id']+_0x381b3a(0xaac):'')+_0x381b3a(0x130);})[_0x1a8b3a(0x656)]('');const _0x38f411=shortcutTabs['find'](_0x54c213=>_0x54c213['id']===activeShortcutTabId);let _0x2ea514=[];if(_0x38f411){if(_0x38f411[_0x1a8b3a(0x9e8)])_0x2ea514=[...blueprintShortcuts];else{const _0x250b7e=_0x38f411[_0x1a8b3a(0x6d2)]||[];_0x2ea514=blueprintShortcuts['filter'](_0x493cce=>_0x250b7e[_0x1a8b3a(0x55e)](_0x493cce['id']));}}const _0x439db9=shortcutOrder[activeShortcutTabId]||[];_0x2ea514[_0x1a8b3a(0x528)]((_0x2ddca5,_0x3cf7b7)=>{const _0x56e8a5=_0x1a8b3a,_0x2d1ed2=_0x439db9[_0x56e8a5(0x5f3)](_0x2ddca5['id']),_0x1ed9c5=_0x439db9[_0x56e8a5(0x5f3)](_0x3cf7b7['id']);if(_0x2d1ed2===-0x1)return 0x1;if(_0x1ed9c5===-0x1)return-0x1;return _0x2d1ed2-_0x1ed9c5;}),_0x36271b[_0x1a8b3a(0x568)]=_0x2ea514[_0x1a8b3a(0x14c)]>0x0?_0x2ea514[_0x1a8b3a(0x4cb)](_0x5a4590=>{const _0x3ea819=_0x1a8b3a;let _0x426c0b='🧩';if(_0x5a4590['blueprintUrl']&&_0x5a4590[_0x3ea819(0x406)])_0x426c0b='📗';else{if(_0x5a4590['blueprintUrl'])_0x426c0b='📘';}const _0x3e0ee8=shortcutTabs[_0x3ea819(0x58f)](_0x3145dd=>!_0x3145dd[_0x3ea819(0x9e8)]),_0xcde278=_0x38f411[_0x3ea819(0x9e8)]&&_0x3e0ee8[_0x3ea819(0x14c)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e0ee8[_0x3ea819(0x4cb)](_0x33cb8d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x5a4590['id']+_0x3ea819(0x9a1)+_0x33cb8d['id']+'\x22>'+_0x33cb8d[_0x3ea819(0x835)]+_0x3ea819(0x769))[_0x3ea819(0x656)]('')+_0x3ea819(0x91e):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x5a4590['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x426c0b+'\x20'+_0x5a4590[_0x3ea819(0x835)]+_0x3ea819(0x65e)+_0x5a4590['id']+_0x3ea819(0x29f)+_0x5a4590['id']+_0x3ea819(0xcd2)+(!_0x5a4590[_0x3ea819(0x9e8)]?_0x3ea819(0xb5f)+_0x5a4590['id']+_0x3ea819(0xe40):'')+_0x3ea819(0xe6d)+(!_0x38f411['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x5a4590['id']+_0x3ea819(0x284):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcde278+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1a8b3a(0x656)](''):_0x1a8b3a(0x680),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x5064db=_0x1b610a;document[_0x5064db(0x6b8)](_0x5064db(0x741))[_0x5064db(0xacf)](_0x1e9cfa=>{const _0x4a111c=_0x5064db;_0x1e9cfa['addEventListener'](_0x4a111c(0xcc3),_0x114ca4=>{const _0x31b3eb=_0x4a111c;activeShortcutTabId=_0x114ca4[_0x31b3eb(0x6b6)]['dataset']['tabId'],renderAdditionalShortcutsModal();}),_0x1e9cfa[_0x4a111c(0xd68)](_0x4a111c(0xaa1),_0x3eefd1=>{const _0x17bfc8=_0x4a111c,_0x4208b7=_0x3eefd1[_0x17bfc8(0x6b6)];_0x4208b7['querySelector'](_0x17bfc8(0xa79))[_0x17bfc8(0xb12)][_0x17bfc8(0x786)](_0x17bfc8(0x9cf));const _0x270819=_0x4208b7[_0x17bfc8(0x2b0)](_0x17bfc8(0xe0c));_0x270819['classList'][_0x17bfc8(0x1e9)](_0x17bfc8(0x9cf)),_0x270819[_0x17bfc8(0x8d7)](),_0x270819[_0x17bfc8(0xaf7)]();});}),document[_0x5064db(0x6b8)](_0x5064db(0xe0c))[_0x5064db(0xacf)](_0x2e662e=>{const _0x25c083=_0x5064db,_0x2996bb=()=>{const _0x4f6269=_0x6978,_0xf54ad2=_0x2e662e[_0x4f6269(0x156)](_0x4f6269(0x741))['dataset']['tabId'];handleRenameShortcutTab(_0xf54ad2,_0x2e662e['value']);};_0x2e662e[_0x25c083(0xd68)]('blur',_0x2996bb),_0x2e662e[_0x25c083(0xd68)](_0x25c083(0xcd6),_0x1b6a41=>{const _0x431bd5=_0x25c083;if(_0x1b6a41[_0x431bd5(0x2c4)]===_0x431bd5(0x1ee))_0x2e662e['blur']();});}),document['querySelectorAll'](_0x5064db(0x693))[_0x5064db(0xacf)](_0x1d7f02=>{const _0x24a3e2=_0x5064db;_0x1d7f02[_0x24a3e2(0xd68)](_0x24a3e2(0xcc3),_0x448d4a=>handleDeleteShortcutTab(_0x448d4a['currentTarget'][_0x24a3e2(0xd34)][_0x24a3e2(0x49f)]));}),document[_0x5064db(0x6b8)](_0x5064db(0x11f))[_0x5064db(0xacf)](_0xaea0cc=>{const _0x1d311c=_0x5064db;_0xaea0cc[_0x1d311c(0xd68)](_0x1d311c(0xcc3),_0x3e2401=>{const _0xe10610=_0x1d311c;_0x3e2401['preventDefault']();const {shortcutId:_0xf4ae4,targetTabId:_0x57c220}=_0x3e2401[_0xe10610(0x6b6)][_0xe10610(0xd34)];handleMoveShortcutToTab(_0xf4ae4,_0x57c220);});}),document[_0x5064db(0x6b8)]('.remove-shortcut-from-tab-btn')[_0x5064db(0xacf)](_0x4f7ce9=>{const _0x280e0e=_0x5064db;_0x4f7ce9[_0x280e0e(0xd68)]('click',_0x418664=>{const _0x3f4f6e=_0x280e0e;handleRemoveShortcutFromTab(_0x418664[_0x3f4f6e(0x6b6)][_0x3f4f6e(0xd34)][_0x3f4f6e(0x33b)],activeShortcutTabId);});});const _0x4cfd3a=document[_0x5064db(0x8a9)](_0x5064db(0x412));_0x4cfd3a['querySelectorAll']('.use-hidden-shortcut-btn')[_0x5064db(0xacf)](_0x3801eb=>{const _0x3afcc3=_0x5064db;_0x3801eb['addEventListener'](_0x3afcc3(0xcc3),()=>{const _0x5bfe74=_0x3afcc3;document[_0x5bfe74(0x8a9)](_0x5bfe74(0x3e8))['classList'][_0x5bfe74(0x786)](_0x5bfe74(0x9cf)),handleShortcutClick(_0x3801eb[_0x5bfe74(0xd34)]['id']);});});let _0x1e0495=null;_0x4cfd3a[_0x5064db(0xd68)](_0x5064db(0x9c7),_0x86132a=>{const _0x5afade=_0x5064db;_0x1e0495=_0x86132a[_0x5afade(0x61a)][_0x5afade(0x156)](_0x5afade(0x44b)),_0x1e0495&&setTimeout(()=>_0x1e0495[_0x5afade(0xb12)][_0x5afade(0x786)]('opacity-50'),0x0);}),_0x4cfd3a[_0x5064db(0xd68)]('dragend',()=>{const _0x2bec7d=_0x5064db;_0x1e0495&&(_0x1e0495['classList'][_0x2bec7d(0x1e9)](_0x2bec7d(0xb66)),_0x1e0495=null);}),_0x4cfd3a[_0x5064db(0xd68)]('dragover',_0x2db1bf=>{const _0x5465a3=_0x5064db;_0x2db1bf['preventDefault']();const _0x2c60a1=[..._0x4cfd3a[_0x5465a3(0x6b8)]('.shortcut-list-item:not(.opacity-50)')][_0x5465a3(0x817)]((_0xf957f0,_0x42fd0b)=>{const _0x615981=_0x5465a3,_0x398085=_0x42fd0b['getBoundingClientRect'](),_0x2aa7c7=_0x2db1bf[_0x615981(0x33c)]-_0x398085[_0x615981(0x2d3)]-_0x398085[_0x615981(0xb7f)]/0x2;return _0x2aa7c7<0x0&&_0x2aa7c7>_0xf957f0[_0x615981(0xdd0)]?{'offset':_0x2aa7c7,'element':_0x42fd0b}:_0xf957f0;},{'offset':Number[_0x5465a3(0x6a9)]})[_0x5465a3(0x714)];_0x2c60a1==null?_0x4cfd3a[_0x5465a3(0x90c)](_0x1e0495):_0x4cfd3a['insertBefore'](_0x1e0495,_0x2c60a1);}),_0x4cfd3a[_0x5064db(0xd68)](_0x5064db(0x178),_0x55d2c7=>{const _0x9deb78=_0x5064db;_0x55d2c7['preventDefault']();if(_0x1e0495){const _0x591c38=[..._0x4cfd3a[_0x9deb78(0x6b8)]('.shortcut-list-item')]['map'](_0x571c87=>_0x571c87['dataset'][_0x9deb78(0x33b)]);handleShortcutOrderChange(activeShortcutTabId,_0x591c38);}}),document[_0x5064db(0x6b8)]('.move-shortcut-menu-btn')[_0x5064db(0xacf)](_0xe48377=>{const _0x241f56=_0x5064db;_0xe48377['addEventListener'](_0x241f56(0xcc3),_0x24b0d5=>{const _0x5a773a=_0x241f56;_0x24b0d5['stopPropagation']();const _0x24c4be=_0x24b0d5['currentTarget'][_0x5a773a(0xe80)],_0x5667fd=_0x24c4be[_0x5a773a(0xb12)][_0x5a773a(0x48e)](_0x5a773a(0x9cf));document['querySelectorAll'](_0x5a773a(0x333))[_0x5a773a(0xacf)](_0x3040fe=>_0x3040fe[_0x5a773a(0xb12)][_0x5a773a(0x786)](_0x5a773a(0x9cf))),_0x5667fd&&_0x24c4be[_0x5a773a(0xb12)]['remove'](_0x5a773a(0x9cf));});});}document['addEventListener'](_0x1b610a(0xcc3),_0x256a58=>{const _0x18d1c0=_0x1b610a;!_0x256a58[_0x18d1c0(0x61a)][_0x18d1c0(0x156)](_0x18d1c0(0x1db))&&document[_0x18d1c0(0x6b8)](_0x18d1c0(0x333))[_0x18d1c0(0xacf)](_0x244be5=>_0x244be5[_0x18d1c0(0xb12)][_0x18d1c0(0x786)](_0x18d1c0(0x9cf)));});async function saveShortcutConfig(){const _0x38207e=_0x1b610a,_0x48bb7c=doc(db,_0x38207e(0x18b),'dashboardConfig');try{await setDoc(_0x48bb7c,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x13ed1b){console[_0x38207e(0xce3)](_0x38207e(0x9ad),_0x13ed1b);}}async function handleAddShortcutTab(){const _0x6383ca=_0x1b610a,_0x330f7b=prompt(_0x6383ca(0x7a5),_0x6383ca(0xd27));if(!_0x330f7b||_0x330f7b['trim']()==='')return;shortcutTabs[_0x6383ca(0x6fd)]({'id':_0x6383ca(0x5fb)+Date[_0x6383ca(0x82a)](),'name':_0x330f7b[_0x6383ca(0x937)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x273a04,_0x4a36ca){const _0x4c79b1=_0x1b610a,_0x4918ed=shortcutTabs[_0x4c79b1(0x6bf)](_0x38e827=>_0x38e827['id']===_0x273a04);_0x4918ed&&_0x4a36ca[_0x4c79b1(0x937)]()!==''&&(_0x4918ed['name']=_0x4a36ca[_0x4c79b1(0x937)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x20bb2b){const _0x5e41d2=_0x1b610a,_0x55d237=shortcutTabs[_0x5e41d2(0x6bf)](_0x2903bd=>_0x2903bd['id']===_0x20bb2b);_0x55d237&&!_0x55d237[_0x5e41d2(0x9e8)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x55d237[_0x5e41d2(0x835)]+_0x5e41d2(0x7ac),async()=>{const _0xd081ea=_0x5e41d2;shortcutTabs=shortcutTabs[_0xd081ea(0x58f)](_0x5c375f=>_0x5c375f['id']!==_0x20bb2b),delete shortcutOrder[_0x20bb2b];if(activeShortcutTabId===_0x20bb2b)activeShortcutTabId=_0xd081ea(0xbd8);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x12e24b,_0xe46af8){const _0x697751=_0x1b610a,_0x265b04=shortcutTabs[_0x697751(0x6bf)](_0x35bcf5=>_0x35bcf5['id']===_0xe46af8);_0x265b04&&!_0x265b04[_0x697751(0x6d2)][_0x697751(0x55e)](_0x12e24b)&&(_0x265b04[_0x697751(0x6d2)][_0x697751(0x6fd)](_0x12e24b),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x3479db,_0x5b23ed){const _0x14cd43=_0x1b610a,_0x58de9c=shortcutTabs[_0x14cd43(0x6bf)](_0x3d3803=>_0x3d3803['id']===_0x5b23ed);_0x58de9c&&!_0x58de9c[_0x14cd43(0x9e8)]&&(_0x58de9c[_0x14cd43(0x6d2)]=_0x58de9c[_0x14cd43(0x6d2)][_0x14cd43(0x58f)](_0x5ba4f8=>_0x5ba4f8!==_0x3479db),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x5066d1,_0x350185){shortcutOrder[_0x5066d1]=_0x350185,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x2d1feb=_0x1b610a,_0x23b153=document[_0x2d1feb(0x8a9)](_0x2d1feb(0x753)),_0x471023=document[_0x2d1feb(0x8a9)](_0x2d1feb(0x412)),_0xd4ee76=document['getElementById']('shortcuts-loading-msg');_0xd4ee76&&_0xd4ee76[_0x2d1feb(0xb12)][_0x2d1feb(0x786)](_0x2d1feb(0x9cf));if(!_0x23b153||!_0x471023)return;const _0x12ef57=blueprintShortcuts['slice'](0x0,0x4),_0x1d5056=blueprintShortcuts[_0x2d1feb(0x8c0)](0x4);_0x23b153[_0x2d1feb(0x568)]=_0x12ef57[_0x2d1feb(0x4cb)](_0x562a56=>{const _0x360207=_0x2d1feb;let _0x39fa3c=_0x360207(0xd9d),_0x1b0ebb='🧩';if(_0x562a56[_0x360207(0xe77)]&&_0x562a56[_0x360207(0x406)])_0x39fa3c=_0x360207(0x701),_0x1b0ebb='📗';else _0x562a56[_0x360207(0xe77)]&&(_0x39fa3c=_0x360207(0x7b5),_0x1b0ebb='📘');const _0x37aa85=!_0x562a56[_0x360207(0x9e8)]?_0x360207(0xb5f)+_0x562a56['id']+_0x360207(0x7bf):'';return _0x360207(0x2b1)+_0x562a56['id']+_0x360207(0xbd3)+_0x39fa3c+_0x360207(0x8e1)+_0x1b0ebb+'\x20'+_0x562a56[_0x360207(0x835)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x562a56['id']+_0x360207(0x93c)+_0x37aa85+_0x360207(0x130);})[_0x2d1feb(0x656)](''),_0x1d5056[_0x2d1feb(0x14c)]>0x0&&(_0x23b153['innerHTML']+=_0x2d1feb(0x99e)),_0x1d5056[_0x2d1feb(0x14c)]>0x0?_0x471023['innerHTML']=_0x1d5056[_0x2d1feb(0x4cb)](_0xf23db5=>{const _0x4edee4=_0x2d1feb;let _0x321fb4='🧩';if(_0xf23db5[_0x4edee4(0xe77)]&&_0xf23db5['referenceUrl'])_0x321fb4='📗';else _0xf23db5[_0x4edee4(0xe77)]&&(_0x321fb4='📘');return _0x4edee4(0x8bf)+_0x321fb4+'\x20'+_0xf23db5['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf23db5['id']+_0x4edee4(0x29f)+_0xf23db5['id']+_0x4edee4(0xcd2)+(!_0xf23db5[_0x4edee4(0x9e8)]?_0x4edee4(0xb5f)+_0xf23db5['id']+_0x4edee4(0xe40):'')+_0x4edee4(0x345);})['join'](''):_0x471023['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x1c39ec){const _0x523936=_0x1b610a,_0xb65b19=_0x1c39ec['split']('.')['pop']()[_0x523936(0x8dd)]();switch(_0xb65b19){case'pdf':return _0x523936(0xc0d);case _0x523936(0x1b0):return _0x523936(0x254);default:return'application/pdf';}}function openShortcutEditor(_0x2ee1e9=null){const _0x131872=_0x1b610a,_0x37069e=document[_0x131872(0x8a9)](_0x131872(0x665)),_0x1fefcc=document[_0x131872(0x8a9)](_0x131872(0xe53)),_0x2e8dfc=document[_0x131872(0x8a9)](_0x131872(0x56c)),_0x1cb111=document['getElementById'](_0x131872(0x94c)),_0x4c6907=document[_0x131872(0x8a9)]('shortcut-blueprint-url-input'),_0x156ddd=document[_0x131872(0x8a9)](_0x131872(0x3e7));if(_0x2ee1e9){const _0x5786d6=blueprintShortcuts[_0x131872(0x6bf)](_0x61ba48=>_0x61ba48['id']===_0x2ee1e9);if(!_0x5786d6)return;_0x1fefcc[_0x131872(0xab8)]=_0x131872(0xbb7),_0x2e8dfc['value']=_0x5786d6['id'],_0x1cb111[_0x131872(0x61e)]=_0x5786d6['name'],_0x4c6907[_0x131872(0x61e)]=_0x5786d6['blueprintUrl']||'',_0x156ddd[_0x131872(0x61e)]=_0x5786d6[_0x131872(0x406)]||'';}else _0x1fefcc['textContent']=_0x131872(0x46f),_0x2e8dfc[_0x131872(0x61e)]='',_0x1cb111[_0x131872(0x61e)]='',_0x4c6907['value']='',_0x156ddd['value']='';_0x37069e[_0x131872(0xb12)][_0x131872(0x1e9)](_0x131872(0x9cf));}async function saveShortcutChanges(){const _0x43deaa=_0x1b610a,_0x5309fe=document[_0x43deaa(0x8a9)]('shortcut-id-input')['value'],_0x29af85=document[_0x43deaa(0x8a9)](_0x43deaa(0x94c))[_0x43deaa(0x61e)][_0x43deaa(0x937)](),_0x1ae389=document[_0x43deaa(0x8a9)](_0x43deaa(0x16a))[_0x43deaa(0x61e)][_0x43deaa(0x937)]();if(!_0x29af85||!_0x1ae389){showMessage(_0x43deaa(0x8cc));return;}const _0x3c46f0={'id':_0x5309fe||_0x43deaa(0x54d)+Date[_0x43deaa(0x82a)](),'name':_0x29af85,'blueprintUrl':_0x1ae389,'referenceUrl':document['getElementById']('shortcut-reference-url-input')[_0x43deaa(0x61e)][_0x43deaa(0x937)](),'isDefault':_0x5309fe[_0x43deaa(0x685)]('default-')};let _0x18ec89;_0x5309fe?_0x18ec89=blueprintShortcuts[_0x43deaa(0x4cb)](_0x6eb630=>_0x6eb630['id']===_0x5309fe?_0x3c46f0:_0x6eb630):_0x18ec89=[...blueprintShortcuts,_0x3c46f0];try{const _0x3a5097=doc(db,_0x43deaa(0x18b),_0x43deaa(0xaba));await setDoc(_0x3a5097,{'blueprintShortcuts':_0x18ec89},{'merge':!![]}),document['getElementById'](_0x43deaa(0x665))[_0x43deaa(0xb12)][_0x43deaa(0x786)]('hidden');}catch(_0x2806eb){console[_0x43deaa(0xce3)]('Error\x20saving\x20shortcut:',_0x2806eb),showMessage(_0x43deaa(0x240));}}async function handleShortcutClick(_0x47fa92){const _0x48fd03=_0x1b610a,_0x5df74e=blueprintShortcuts[_0x48fd03(0x6bf)](_0x359bc9=>_0x359bc9['id']===_0x47fa92);if(!_0x5df74e||!_0x5df74e[_0x48fd03(0xe77)])return;document['getElementById'](_0x48fd03(0x120))[_0x48fd03(0xb12)]['add']('hidden'),document[_0x48fd03(0x8a9)](_0x48fd03(0x451))[_0x48fd03(0x317)]=!![];const _0x1ec6d2=document[_0x48fd03(0x8a9)]('loader'),_0x37f0f8=document[_0x48fd03(0x8a9)](_0x48fd03(0x1f4));document[_0x48fd03(0x8a9)](_0x48fd03(0x694))[_0x48fd03(0xb12)][_0x48fd03(0x1e9)]('hidden'),document[_0x48fd03(0x8a9)](_0x48fd03(0x505))['innerHTML']='',_0x1ec6d2[_0x48fd03(0xb12)][_0x48fd03(0x1e9)]('hidden');try{_0x37f0f8[_0x48fd03(0xab8)]=_0x48fd03(0xd1d);const _0x11163e=await fetchFileFromUrl(_0x5df74e[_0x48fd03(0xe77)],_0x48fd03(0x49b));let _0x105e15=null;if(_0x5df74e[_0x48fd03(0x406)]){_0x37f0f8[_0x48fd03(0xab8)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x3b7208=_0x5df74e[_0x48fd03(0x406)]['toLowerCase']()[_0x48fd03(0x9c1)](_0x48fd03(0x557))?_0x48fd03(0x740):'reference.pdf';_0x105e15=await fetchFileFromUrl(_0x5df74e['referenceUrl'],_0x3b7208);}await handleGenerateFromBlueprintWithFiles(_0x11163e,_0x105e15);}catch(_0x196714){console['error']('Error\x20processing\x20shortcut\x20click:',_0x196714),showMessage(_0x48fd03(0x762)+_0x196714['message']),_0x1ec6d2[_0x48fd03(0xb12)][_0x48fd03(0x786)](_0x48fd03(0x9cf));}}function getDirectDownloadUrl(_0x1492d5){const _0x6cdd64=_0x1b610a,_0x266dea=_0x1492d5[_0x6cdd64(0x3be)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x266dea&&_0x266dea[0x1])return _0x6cdd64(0x97e)+_0x266dea[0x1];return _0x1492d5;}async function fetchFileFromUrl(_0x4b867f,_0x3e291b){const _0x488032=_0x1b610a,_0x4da470=getDirectDownloadUrl(_0x4b867f),_0x54473c='https://corsproxy.io/?'+encodeURIComponent(_0x4da470),_0x23f21d=await fetch(_0x54473c);if(!_0x23f21d['ok'])throw new Error(_0x488032(0xe31)+_0x23f21d[_0x488032(0x9fb)]+')');const _0x353f34=await _0x23f21d[_0x488032(0xa5d)](),_0x111a44=await new Promise((_0xc39e66,_0x55ff87)=>{const _0x185e3e=_0x488032,_0x47cd3e=new FileReader();_0x47cd3e[_0x185e3e(0xdd9)]=()=>_0xc39e66(new Uint8Array(_0x47cd3e['result'])),_0x47cd3e[_0x185e3e(0x2a0)]=_0x55ff87,_0x47cd3e[_0x185e3e(0x7c8)](_0x353f34['slice'](0x0,0x4));});let _0x298d72='';const _0x3ceaeb=new TextDecoder()['decode'](_0x111a44);return _0x3ceaeb===_0x488032(0xdf8)?(_0x298d72=_0x488032(0xc0d),console[_0x488032(0xd62)](_0x488032(0xc91))):(_0x298d72=_0x488032(0x254),console['log']('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x353f34],_0x3e291b,{'type':_0x298d72});}async function handleGenerateFromBlueprintWithFiles(_0x313772,_0x4e6c31=null){const _0x5205d0=_0x1b610a;if(!_0x313772){showMessage(_0x5205d0(0x9f9));return;}const _0x2c8ada=document['getElementById']('loader'),_0x5758a9=document[_0x5205d0(0x8a9)](_0x5205d0(0x1f4));_0x2c8ada[_0x5205d0(0xb12)]['remove'](_0x5205d0(0x9cf)),document[_0x5205d0(0x8a9)](_0x5205d0(0x694))[_0x5205d0(0xb12)]['remove'](_0x5205d0(0x9cf)),document[_0x5205d0(0x8a9)](_0x5205d0(0x505))[_0x5205d0(0x568)]='';try{_0x5758a9[_0x5205d0(0xab8)]=_0x5205d0(0x796);const _0x3159f2=await new Promise((_0x35c273,_0x5a413a)=>{const _0x20eb7f=_0x5205d0,_0x575319=new FileReader();_0x575319['readAsDataURL'](_0x313772),_0x575319[_0x20eb7f(0x92e)]=()=>_0x35c273(_0x575319[_0x20eb7f(0x8d1)][_0x20eb7f(0x59b)](',')[0x1]),_0x575319[_0x20eb7f(0x2a0)]=_0x5a413a;}),_0x51e38a=[];if(_0x4e6c31){_0x5758a9[_0x5205d0(0xab8)]=_0x5205d0(0x598);const _0x204820=await _0x4e6c31[_0x5205d0(0x9f6)]();_0x51e38a[_0x5205d0(0x6fd)]({'text':_0x5205d0(0x76b)+_0x204820});}const _0x6c6a4=[{'text':'...'},{'inlineData':{'mimeType':_0x313772['type'],'data':_0x3159f2}},..._0x51e38a];await handleGenerateFromBlueprint(_0x6c6a4);}catch(_0x382f4b){console[_0x5205d0(0xce3)](_0x5205d0(0xb60),_0x382f4b),showMessage(_0x5205d0(0x762)+_0x382f4b[_0x5205d0(0xba0)]),_0x2c8ada[_0x5205d0(0xb12)]['add'](_0x5205d0(0x9cf));}}async function handleLiveAnswer(_0x53d6e7,_0xcf9543){const _0x4cf731=_0x1b610a;document['querySelectorAll'](_0x4cf731(0x3a9))['forEach'](_0x124b2d=>_0x124b2d[_0x4cf731(0x317)]=!![]);const _0xf09407=_0xcf9543[_0x4cf731(0xa9f)]||currentQuizData[_0x4cf731(0xcb6)];let _0x1e9f9a=![],_0x2bc150=_0x53d6e7;if(_0xf09407===_0x4cf731(0x815)){const _0x34275e=(_0x53d6e7||'')[_0x4cf731(0x91c)]();_0x1e9f9a=await gradeShortAnswer(_0x34275e,_0xcf9543);}else{if(_0xf09407===_0x4cf731(0x24a))_0x1e9f9a=_0x53d6e7===_0xcf9543[_0x4cf731(0x26c)];else{if(_0xf09407===_0x4cf731(0x8fb)){const _0x2e8c1b=_0xcf9543[_0x4cf731(0xad3)];_0x1e9f9a=_0x53d6e7===0x0&&_0x2e8c1b||_0x53d6e7===0x1&&!_0x2e8c1b;}else{if(_0xf09407==='matching_item'){const _0x5e2017=_0xcf9543['allResponses'][_0x53d6e7];_0x1e9f9a=_0x5e2017===_0xcf9543[_0x4cf731(0x11c)],_0x2bc150=_0x5e2017;}}}}const _0x3079e4=doc(db,'artifacts/'+appId+_0x4cf731(0x429),currentLiveGameId),_0x574ed0={};_0x574ed0[_0x4cf731(0x8b1)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x574ed0[_0x4cf731(0x8b1)+currentStudentName+'.lastAnswerCorrect']=_0x1e9f9a,_0x574ed0[_0x4cf731(0x8b1)+currentStudentName+_0x4cf731(0x7c3)]=_0xf09407===_0x4cf731(0x815)||_0xf09407===_0x4cf731(0x3e6)?null:_0x53d6e7,_0x574ed0[_0x4cf731(0x8b1)+currentStudentName+_0x4cf731(0xa66)]=_0x2bc150,_0x574ed0[_0x4cf731(0x8b1)+currentStudentName+_0x4cf731(0x3e0)]=serverTimestamp(),_0x574ed0[_0x4cf731(0x8b1)+currentStudentName+_0x4cf731(0xac5)]=![],await updateDoc(_0x3079e4,_0x574ed0),liveGameView[_0x4cf731(0x568)]=_0x4cf731(0xaed);}function showAdminSummaryView(_0x488ff8,_0x444a0f){const _0x21aa5e=_0x1b610a,_0x59155a=Object[_0x21aa5e(0x17f)](_0x488ff8[_0x21aa5e(0x7e6)]||{}),_0x97641=_0x444a0f['questionType']||currentQuizData[_0x21aa5e(0xcb6)],_0x41a537=_0x97641===_0x21aa5e(0x8fb)?['ใช่','ไม่ใช่']:_0x444a0f['options']||_0x444a0f[_0x21aa5e(0x6cf)]||[],_0x26258e={},_0x552e54=new Array(_0x41a537['length'])[_0x21aa5e(0x650)](0x0);_0x41a537[_0x21aa5e(0xacf)]((_0x8e973a,_0x495ccf)=>{_0x26258e[_0x495ccf]=[];}),Object[_0x21aa5e(0xc3c)](_0x488ff8[_0x21aa5e(0x7e6)]||{})['forEach'](([_0x242e60,_0x1e818c])=>{const _0x2c73d1=_0x21aa5e;if(_0x1e818c[_0x2c73d1(0x9fb)]===_0x2c73d1(0x6bc)&&_0x1e818c[_0x2c73d1(0xa47)]!==undefined){const _0x1e301b=_0x1e818c[_0x2c73d1(0xa47)];_0x26258e[_0x1e301b]&&(_0x26258e[_0x1e301b][_0x2c73d1(0x6fd)](_0x242e60),_0x552e54[_0x1e301b]++);}});const _0x430082=Math[_0x21aa5e(0xb5e)](..._0x552e54,0x1),_0x18835f=_0x21aa5e(0x7f7)+(_0x444a0f[_0x21aa5e(0xc35)]||_0x444a0f[_0x21aa5e(0x460)])+_0x21aa5e(0x7c9)+_0x552e54[_0x21aa5e(0x4cb)]((_0x46ed8e,_0x32fc02)=>{const _0x1f5889=_0x21aa5e,_0x299428=_0x26258e[_0x32fc02][_0x1f5889(0x14c)]>0x0?_0x26258e[_0x32fc02][_0x1f5889(0x656)](',\x20'):_0x1f5889(0x25e);let _0x5df6b4=![];if(_0x97641===_0x1f5889(0x24a))_0x5df6b4=_0x32fc02===_0x444a0f[_0x1f5889(0x26c)];else{if(_0x97641===_0x1f5889(0x8fb)){const _0x47fc4a=_0x444a0f[_0x1f5889(0xad3)];_0x5df6b4=_0x47fc4a&&_0x32fc02===0x0||!_0x47fc4a&&_0x32fc02===0x1;}else _0x97641==='matching_item'&&(_0x5df6b4=_0x41a537[_0x32fc02]===_0x444a0f[_0x1f5889(0x11c)]);}const _0x1d0e0e=_0x5df6b4?_0x1f5889(0x789):_0x1f5889(0x28c);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x46ed8e+_0x1f5889(0x32e)+_0x1d0e0e+_0x1f5889(0x1a2)+_0x32fc02+_0x1f5889(0x9b7)+_0x41a537[_0x32fc02]+_0x1f5889(0x795)+_0x32fc02+_0x1f5889(0x5a2)+_0x299428+_0x1f5889(0xa7d);})[_0x21aa5e(0x656)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x21aa5e(0x568)]=_0x18835f;if(window['MathJax'])MathJax[_0x21aa5e(0x4a5)]();document[_0x21aa5e(0x8a9)](_0x21aa5e(0x122))[_0x21aa5e(0xd68)](_0x21aa5e(0xcc3),async()=>{const _0xb14c8d=_0x21aa5e,_0x4ab4f7=doc(db,_0xb14c8d(0x407)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4ab4f7,{'questionStatus':'leaderboard'});}),document[_0x21aa5e(0x8a9)](_0x21aa5e(0x6eb))['addEventListener'](_0x21aa5e(0xcc3),()=>{openScratchpad(_0x444a0f,_0x41a537);});}function showPlayerSummaryView(_0x414f2a,_0x5659fd){const _0x57eb93=_0x1b610a,_0x2935f9=Object[_0x57eb93(0x17f)](_0x414f2a[_0x57eb93(0x7e6)]||{}),_0x2da665=_0x414f2a[_0x57eb93(0x7e6)][_0x5659fd],_0x24c0d4=_0x2935f9[_0x57eb93(0x58f)](_0x3fdc6c=>_0x3fdc6c[_0x57eb93(0x9fb)]===_0x57eb93(0x6bc))[_0x57eb93(0x528)]((_0x59a0cf,_0x3b28c7)=>_0x3b28c7['score']-_0x59a0cf[_0x57eb93(0xdd7)]),_0x154898=_0x24c0d4['findIndex'](_0xe06ef7=>_0xe06ef7===_0x2da665)+0x1,_0x1878bd=_0x2da665[_0x57eb93(0x8c4)]?_0x57eb93(0x352):_0x57eb93(0x6f2),_0x3cad80=_0x2da665['lastAnswerCorrect']?_0x57eb93(0x1f5):_0x57eb93(0x395),_0x5f52d4=_0x2da665[_0x57eb93(0xddd)]||0x0,_0x12b8d5='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x501b1f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x12b8d5+_0x57eb93(0x86a)+_0x3cad80+_0x57eb93(0x7db)+_0x1878bd+_0x57eb93(0x1df)+_0x5f52d4+_0x57eb93(0x327)+(_0x154898>0x0?_0x154898:'-')+_0x57eb93(0x8a2);liveGameView[_0x57eb93(0x568)]=_0x501b1f;}function createQuizFromBank(){const _0x59a70e=_0x1b610a,_0x33fb4d=document['querySelectorAll'](_0x59a70e(0x873));if(_0x33fb4d['length']===0x0){showMessage(_0x59a70e(0xc99));return;}const _0x54f0bf=[];_0x33fb4d[_0x59a70e(0xacf)](_0x2a95ea=>{const _0x4fb457=_0x59a70e;_0x54f0bf[_0x4fb457(0x6fd)](JSON[_0x4fb457(0xbc4)](_0x2a95ea['value']));});const _0x17cc87={'topic':_0x59a70e(0x161),'questions':_0x54f0bf};displayGeneratedQuiz(_0x17cc87);}function showAdminLobbyView(_0x1c0658,_0x1c9b93){const _0x511bf4=_0x1b610a;showView('live-game');const _0x3b5880=_0x511bf4(0x6d3)+_0x1c9b93+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x1c0658+_0x511bf4(0x636);liveGameView[_0x511bf4(0x568)]=_0x3b5880,document['getElementById'](_0x511bf4(0xb26))[_0x511bf4(0xd68)](_0x511bf4(0xcc3),async()=>{const _0x383838=_0x511bf4;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x383838(0x3c6)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x4a3d29=doc(db,_0x383838(0x407)+appId+_0x383838(0x429),currentLiveGameId);await updateDoc(_0x4a3d29,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2db74b=currentQuizData[_0x383838(0x3c6)][0x0],_0x2171dd=currentQuizData['questions'][_0x383838(0x14c)];showAdminLiveQuestionView(_0x2db74b,0x0,_0x2171dd);}catch(_0x4dd314){console[_0x383838(0xce3)](_0x383838(0x75f),_0x4dd314),showMessage(_0x383838(0x6df));}});}async function openQuizBankModal(){const _0x874d20=_0x1b610a;if(allQuizzesGlobal[_0x874d20(0x14c)]===0x0){const _0x2b73a6=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2b73a6[_0x874d20(0x654)]['map'](_0xc60795=>({'id':_0xc60795['id'],..._0xc60795[_0x874d20(0x860)]()}));}renderQuizBankList(''),document['getElementById'](_0x874d20(0x364))[_0x874d20(0xb12)]['remove']('hidden');}function renderQuizBankList(_0x76380c='',_0x5630fe=![]){const _0x10c50d=_0x1b610a,_0x3fd182=document[_0x10c50d(0x8a9)](_0x10c50d(0xbf8)),_0x4f8991=_0x76380c[_0x10c50d(0x8dd)]()['trim'](),_0x4e32f1=allQuizzesGlobal[_0x10c50d(0x4cb)](_0x4638d2=>({..._0x4638d2,'projectName':allProjects['find'](_0x5a2824=>_0x5a2824['id']===_0x4638d2[_0x10c50d(0xccc)])?.[_0x10c50d(0x252)]||'N/A'}))['filter'](_0x2c7277=>(_0x2c7277[_0x10c50d(0x5cc)]||'')[_0x10c50d(0x8dd)]()[_0x10c50d(0x55e)](_0x4f8991)||(_0x2c7277[_0x10c50d(0x252)]||'')[_0x10c50d(0x8dd)]()['includes'](_0x4f8991)||_0x2c7277['id'][_0x10c50d(0x91c)]()[_0x10c50d(0x55e)](_0x4f8991));document[_0x10c50d(0x8a9)](_0x10c50d(0xd84))[_0x10c50d(0xab8)]='('+_0x4e32f1[_0x10c50d(0x14c)]+_0x10c50d(0x27d),_0x3fd182[_0x10c50d(0x568)]=_0x4e32f1[_0x10c50d(0x14c)]?_0x4e32f1[_0x10c50d(0x4cb)](_0x593caa=>{const _0x50a411=_0x10c50d,_0x70a363=!_0x5630fe?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x593caa['id']+_0x50a411(0xe3a)+_0x593caa['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x593caa['id']+_0x50a411(0xa02)+_0x593caa['id']+_0x50a411(0x166)+_0x593caa['id']+_0x50a411(0x381)+_0x593caa['id']+_0x50a411(0xd9e)+_0x593caa[_0x50a411(0x5cc)]+_0x50a411(0x7b6):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x593caa['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x593caa['topic']||_0x50a411(0xb46))+_0x50a411(0x310)+(_0x593caa[_0x50a411(0x3c6)]?.[_0x50a411(0x14c)]||0x0)+_0x50a411(0x4c0)+_0x593caa[_0x50a411(0x252)]+_0x50a411(0xd70)+_0x593caa['id']+_0x50a411(0x153)+_0x70a363+_0x50a411(0x84d);})[_0x10c50d(0x656)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x5630fe&&(_0x3fd182[_0x10c50d(0x6b8)](_0x10c50d(0xb14))['forEach'](_0x43bbaf=>{const _0x6f5d5f=_0x10c50d;_0x43bbaf[_0x6f5d5f(0xd68)](_0x6f5d5f(0xcc3),()=>{const _0x190bf9=_0x6f5d5f,_0x513a37=_0x43bbaf['dataset']['id'];document[_0x190bf9(0x8a9)]('quiz-bank-modal')['classList'][_0x190bf9(0x786)](_0x190bf9(0x9cf)),showQuizDetailView(_0x513a37);});}),_0x3fd182[_0x10c50d(0x6b8)](_0x10c50d(0x56d))[_0x10c50d(0xacf)](_0x40d61c=>{const _0x21df65=_0x10c50d;_0x40d61c['addEventListener'](_0x21df65(0xcc3),_0x541163=>{const _0x54b8b0=_0x21df65;_0x541163[_0x54b8b0(0x8fd)]();const _0x48a9e5=_0x40d61c[_0x54b8b0(0xd34)]['id'],_0x10ecd6=allQuizzesGlobal['find'](_0x2ddea2=>_0x2ddea2['id']===_0x48a9e5);_0x10ecd6?(currentQuizData=_0x10ecd6,document[_0x54b8b0(0x8a9)](_0x54b8b0(0x364))[_0x54b8b0(0xb12)][_0x54b8b0(0x786)](_0x54b8b0(0x9cf)),startAdminTest()):showMessage(_0x54b8b0(0x8ee));});}),_0x3fd182[_0x10c50d(0x6b8)](_0x10c50d(0x237))[_0x10c50d(0xacf)](_0x4240b8=>{const _0x597af2=_0x10c50d;_0x4240b8[_0x597af2(0xd68)](_0x597af2(0xcc3),_0x2db4b3=>{const _0x215f32=_0x597af2;_0x2db4b3['stopPropagation']();const _0x49b7e4=_0x4240b8['dataset']['id'],_0x5588dd=allQuizzesGlobal[_0x215f32(0x6bf)](_0x4d1a8d=>_0x4d1a8d['id']===_0x49b7e4);_0x5588dd?(document[_0x215f32(0x8a9)](_0x215f32(0x364))[_0x215f32(0xb12)]['add'](_0x215f32(0x9cf)),handleGenerateParallelFromBank(_0x5588dd)):showMessage(_0x215f32(0x8ee));});}),_0x3fd182[_0x10c50d(0x6b8)](_0x10c50d(0xe5f))[_0x10c50d(0xacf)](_0x341054=>{const _0x392c9d=_0x10c50d;_0x341054[_0x392c9d(0xd68)]('click',_0x25325e=>{const _0x3cafb7=_0x392c9d;_0x25325e['stopPropagation']();const _0x1f2af6=_0x341054[_0x3cafb7(0xd34)]['id'],_0x2c08a5=allQuizzesGlobal[_0x3cafb7(0x6bf)](_0x1d8421=>_0x1d8421['id']===_0x1f2af6);_0x2c08a5?(document[_0x3cafb7(0x8a9)](_0x3cafb7(0x364))['classList'][_0x3cafb7(0x786)](_0x3cafb7(0x9cf)),startPresentation(_0x2c08a5)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3fd182['querySelectorAll']('.quiz-bank-move-btn')[_0x10c50d(0xacf)](_0x53486f=>{const _0x9e42c9=_0x10c50d;_0x53486f[_0x9e42c9(0xd68)](_0x9e42c9(0xcc3),_0x364a4d=>{const _0x4edc3e=_0x9e42c9;_0x364a4d['stopPropagation']();const _0x4f7e77=_0x53486f[_0x4edc3e(0xd34)]['id'];document[_0x4edc3e(0x8a9)](_0x4edc3e(0x364))[_0x4edc3e(0xb12)][_0x4edc3e(0x786)](_0x4edc3e(0x9cf)),handleMoveQuiz(_0x4f7e77);});}),_0x3fd182[_0x10c50d(0x6b8)](_0x10c50d(0xa45))[_0x10c50d(0xacf)](_0x2f0452=>{const _0x2438de=_0x10c50d;_0x2f0452[_0x2438de(0xd68)](_0x2438de(0xcc3),_0x11ff8e=>{const _0x54498c=_0x2438de;_0x11ff8e[_0x54498c(0x8fd)]();const _0x6339c6=_0x2f0452[_0x54498c(0xd34)]['id'];document[_0x54498c(0x8a9)]('quiz-bank-modal')['classList'][_0x54498c(0x786)]('hidden'),handleQuizSettings(_0x6339c6);});}),_0x3fd182['querySelectorAll'](_0x10c50d(0xa82))[_0x10c50d(0xacf)](_0x3436f1=>{const _0x371b47=_0x10c50d;_0x3436f1[_0x371b47(0xd68)](_0x371b47(0xcc3),_0xa4f4a4=>{const _0x1da626=_0x371b47;_0xa4f4a4[_0x1da626(0x8fd)]();const _0x120ac4=_0x3436f1['dataset']['id'],_0x5ccdea=_0x3436f1[_0x1da626(0xd34)][_0x1da626(0x5cc)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x5ccdea+_0x1da626(0x771),()=>handleDeleteQuiz(_0x120ac4));});}));}async function handleCompareResults(_0x2fd028,_0x835a6c){const _0x6450c9=_0x1b610a,_0x200fdb=document['getElementById'](_0x6450c9(0xa60)),_0x554506=document[_0x6450c9(0x8a9)](_0x6450c9(0x434)),_0x2943b7=document[_0x6450c9(0x8a9)]('comparison-individual-content');document[_0x6450c9(0x8a9)](_0x6450c9(0xa2b))[_0x6450c9(0xb12)][_0x6450c9(0x786)](_0x6450c9(0x6bc)),document[_0x6450c9(0x8a9)](_0x6450c9(0xa57))[_0x6450c9(0xb12)][_0x6450c9(0x1e9)](_0x6450c9(0x6bc)),_0x554506[_0x6450c9(0xb12)][_0x6450c9(0x1e9)](_0x6450c9(0x9cf)),_0x2943b7[_0x6450c9(0xb12)][_0x6450c9(0x786)](_0x6450c9(0x9cf)),_0x554506[_0x6450c9(0x568)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x2943b7[_0x6450c9(0x568)]='',_0x200fdb[_0x6450c9(0xb12)]['remove'](_0x6450c9(0x9cf));try{const _0x10a75d=doc(db,_0x6450c9(0x407)+appId+_0x6450c9(0x399),_0x2fd028),_0x1c8e28=await getDoc(_0x10a75d);if(!_0x1c8e28[_0x6450c9(0xa90)]())throw new Error(_0x6450c9(0x98a));const _0x70582d=_0x1c8e28[_0x6450c9(0x860)](),_0x34b575=_0x70582d[_0x6450c9(0x3c6)][_0x6450c9(0x14c)],_0x3c4817=collection(db,_0x6450c9(0x407)+appId+_0x6450c9(0x56f)+_0x835a6c+_0x6450c9(0x8b6)),_0x5b69b1=collection(db,_0x6450c9(0x407)+appId+_0x6450c9(0x56f)+_0x2fd028+'/submissions'),[_0x27d013,_0x386819]=await Promise[_0x6450c9(0xbd8)]([getDocs(_0x3c4817),getDocs(_0x5b69b1)]),_0x23ce9b=_0x27d013[_0x6450c9(0x654)][_0x6450c9(0x4cb)](_0x54492d=>_0x54492d[_0x6450c9(0x860)]()),_0x3b5ac9=_0x386819['docs'][_0x6450c9(0x4cb)](_0x3f42fd=>_0x3f42fd[_0x6450c9(0x860)]()),_0xa2fbc5=_0x23ce9b[_0x6450c9(0x4cb)](_0x45e061=>_0x45e061[_0x6450c9(0xcbd)]),_0x219065=_0x3b5ac9['map'](_0x565a9a=>_0x565a9a['latestScore']),_0x191f56=calculateMeanAndStdDev(_0xa2fbc5),_0xcbff02=calculateMeanAndStdDev(_0x219065),_0x9f4cf9=_0x191f56[_0x6450c9(0x45a)],_0x1457db=_0xcbff02['mean'],_0x43f837=_0x1457db-_0x9f4cf9;let _0x52c040=_0x6450c9(0xb9b)+_0x9f4cf9[_0x6450c9(0x84f)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x1457db[_0x6450c9(0x84f)](0x2)+_0x6450c9(0x657)+(_0x43f837>=0x0?'bg-emerald-100':_0x6450c9(0xa65))+_0x6450c9(0x945)+(_0x43f837>=0x0?_0x6450c9(0x858):_0x6450c9(0x43b))+_0x6450c9(0x763)+(_0x43f837>=0x0?_0x6450c9(0x11b):_0x6450c9(0x548))+'\x22>'+(_0x43f837>=0x0?'+':'')+_0x43f837['toFixed'](0x2)+_0x6450c9(0xc44);_0x554506[_0x6450c9(0x568)]=_0x52c040;const _0xc0b118=document['getElementById']('comparison-chart')[_0x6450c9(0xe75)]('2d');if(chartInstances[_0x6450c9(0xbcc)])chartInstances[_0x6450c9(0xbcc)][_0x6450c9(0xca6)]();chartInstances[_0x6450c9(0xbcc)]=new Chart(_0xc0b118,{'type':_0x6450c9(0x663),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x6450c9(0x261),'data':[_0x9f4cf9],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x1457db],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x34b575}}}});const _0x4c453c=currentProjectData[_0x6450c9(0x3a4)]||[],_0x199c92=_0x4c453c[_0x6450c9(0x4cb)](_0x3127dc=>{const _0x214b73=_0x6450c9,_0x2b79f2=_0x23ce9b[_0x214b73(0x6bf)](_0x106fc1=>_0x106fc1[_0x214b73(0x311)]===_0x3127dc),_0x4b69ee=_0x3b5ac9[_0x214b73(0x6bf)](_0xccfd13=>_0xccfd13[_0x214b73(0x311)]===_0x3127dc),_0x253fef=_0x2b79f2?_0x2b79f2[_0x214b73(0xcbd)]:null,_0x373b0b=_0x4b69ee?_0x4b69ee[_0x214b73(0xcbd)]:null,_0x2b8f01=_0x253fef!==null&&_0x373b0b!==null?_0x373b0b-_0x253fef:null,_0x239e42=_0x253fef!==null?calculateZScore(_0x253fef,_0x191f56[_0x214b73(0x45a)],_0x191f56['stdDev']):null,_0x781c75=_0x373b0b!==null?calculateZScore(_0x373b0b,_0xcbff02[_0x214b73(0x45a)],_0xcbff02['stdDev']):null,_0x25e8e5=_0x239e42!==null?calculateTScore(_0x239e42):null,_0x2d4955=_0x781c75!==null?calculateTScore(_0x781c75):null,_0x202aa7=_0x25e8e5!==null&&_0x2d4955!==null?_0x2d4955-_0x25e8e5:null;return{'name':_0x3127dc,'preScore':_0x253fef,'postScore':_0x373b0b,'gain':_0x2b8f01,'preTScore':_0x25e8e5,'postTScore':_0x2d4955,'tGain':_0x202aa7};});renderIndividualComparisonTable(_0x199c92,_0x2943b7);}catch(_0x572fd0){console[_0x6450c9(0xce3)](_0x6450c9(0x27f),_0x572fd0),_0x554506['innerHTML']=_0x6450c9(0xa7a);}}async function saveBlueprintProject(){const _0x193e24=_0x1b610a;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x193e24(0x15e));return;}const _0x3de8ef=prompt(_0x193e24(0x545),_0x193e24(0xa63));if(!_0x3de8ef||_0x3de8ef[_0x193e24(0x937)]()==='')return;const _0x40dce0={};extractedBlueprintData[_0x193e24(0x9ec)][_0x193e24(0xacf)](_0x496cae=>{const _0x4b3af0=_0x193e24;_0x496cae[_0x4b3af0(0xe85)][_0x4b3af0(0xacf)](_0x4cef32=>{const _0x16032f=_0x4b3af0;_0x4cef32['subTopics'][_0x16032f(0xacf)](_0x3b04ef=>{const _0x486535=_0x16032f,_0x431ca8=_0x486535(0x8a5)+Date['now']()+Math[_0x486535(0xa73)]()[_0x486535(0x91c)](0x24)['substr'](0x2,0x9);_0x40dce0[_0x431ca8]={'sara':_0x496cae['sara'],'mainTopic':_0x4cef32[_0x486535(0x21e)],'subTopic':_0x3b04ef,'status':_0x486535(0x565),'lessonContent':null};});});});try{const _0x1053b8=collection(db,_0x193e24(0x407)+appId+_0x193e24(0x5b8));await addDoc(_0x1053b8,{'projectName':_0x3de8ef[_0x193e24(0x937)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x40dce0,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x3de8ef[_0x193e24(0x937)]()+_0x193e24(0x5ee)),document[_0x193e24(0x8a9)](_0x193e24(0x45f))[_0x193e24(0xb12)]['add'](_0x193e24(0x9cf));}catch(_0x410936){console['error'](_0x193e24(0xe60),_0x410936),showMessage(_0x193e24(0x4aa));}}async function showBlueprintProjects(){const _0x2e07a5=_0x1b610a,_0x29e1a3=document[_0x2e07a5(0x8a9)](_0x2e07a5(0x6a8)),_0x2626d5=document[_0x2e07a5(0x8a9)](_0x2e07a5(0x442));_0x2626d5[_0x2e07a5(0x568)]=_0x2e07a5(0x121),_0x29e1a3[_0x2e07a5(0xb12)]['remove'](_0x2e07a5(0x9cf));try{const _0x306c06=collection(db,_0x2e07a5(0x407)+appId+_0x2e07a5(0x5b8)),_0x1dea5c=await getDocs(_0x306c06);if(_0x1dea5c[_0x2e07a5(0x634)]){_0x2626d5[_0x2e07a5(0x568)]=_0x2e07a5(0xa4a);return;}const _0x10543c=_0x1dea5c[_0x2e07a5(0x654)][_0x2e07a5(0x4cb)](_0x5b4691=>({'id':_0x5b4691['id'],..._0x5b4691['data']()}));_0x10543c[_0x2e07a5(0x528)]((_0x4879fa,_0x1c20aa)=>_0x4879fa[_0x2e07a5(0x252)][_0x2e07a5(0x22f)](_0x1c20aa[_0x2e07a5(0x252)],'th')),_0x2626d5[_0x2e07a5(0x568)]=_0x10543c[_0x2e07a5(0x4cb)](_0x12a325=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x12a325[_0x2e07a5(0x252)]+_0x2e07a5(0xc22)+_0x12a325[_0x2e07a5(0x7bb)]+_0x2e07a5(0x296)+Object[_0x2e07a5(0x770)](_0x12a325[_0x2e07a5(0xc57)])[_0x2e07a5(0x14c)]+_0x2e07a5(0x808)+_0x12a325['id']+_0x2e07a5(0xdef)+_0x12a325['id']+_0x2e07a5(0x44a))[_0x2e07a5(0x656)]('');}catch(_0x545ecd){console['error'](_0x2e07a5(0x4cf),_0x545ecd),_0x2626d5[_0x2e07a5(0x568)]=_0x2e07a5(0x42c);}}async function displayBlueprintProjectManager(_0x37eef4){const _0x492930=_0x1b610a;currentBlueprintProjectId=_0x37eef4,document['getElementById'](_0x492930(0x6a8))[_0x492930(0xb12)][_0x492930(0x786)](_0x492930(0x9cf)),showView(_0x492930(0x88a)),projectDashboardView[_0x492930(0xb12)][_0x492930(0x786)](_0x492930(0x9cf));const _0x35c07b=document['getElementById'](_0x492930(0xe8d));_0x35c07b[_0x492930(0xb12)][_0x492930(0x1e9)](_0x492930(0x9cf)),document['getElementById'](_0x492930(0x78f))[_0x492930(0x568)]=_0x492930(0x30b);try{const _0x5cb3ba=doc(db,_0x492930(0x407)+appId+_0x492930(0x5b8),_0x37eef4),_0x3abb27=await getDoc(_0x5cb3ba);if(!_0x3abb27[_0x492930(0xa90)]())throw new Error('ไม่พบโปรเจค');const _0x496375={'id':_0x3abb27['id'],..._0x3abb27[_0x492930(0x860)]()};document[_0x492930(0x8a9)](_0x492930(0x4cd))[_0x492930(0xab8)]=_0x496375[_0x492930(0x252)],document[_0x492930(0x8a9)](_0x492930(0x676))[_0x492930(0x61e)]=_0x496375[_0x492930(0x1d3)]||'',renderBlueprintTopicManager(_0x496375);}catch(_0x3f05cd){console[_0x492930(0xce3)](_0x492930(0x5cd),_0x3f05cd),showMessage(_0x3f05cd[_0x492930(0xba0)]),showView(_0x492930(0x88a));}}function renderBlueprintTopicManager(_0x584dc4){const _0x5dfa8e=_0x1b610a,_0x325024=document[_0x5dfa8e(0x8a9)]('bp-topic-list-container'),_0x234c69=_0x584dc4[_0x5dfa8e(0xc57)]||{};if(Object['keys'](_0x234c69)[_0x5dfa8e(0x14c)]===0x0){_0x325024[_0x5dfa8e(0x568)]=_0x5dfa8e(0xcf0);return;}const _0x1a2592=Object[_0x5dfa8e(0xc3c)](_0x234c69)[_0x5dfa8e(0x4cb)](([_0x4e4599,_0x3588b6])=>({'id':_0x4e4599,..._0x3588b6}))['sort']((_0x138077,_0x21a5fe)=>(_0x138077[_0x5dfa8e(0x929)]??Infinity)-(_0x21a5fe[_0x5dfa8e(0x929)]??Infinity)),_0x190442={};_0x1a2592[_0x5dfa8e(0xacf)](_0x8f4837=>{const _0x56735b=_0x5dfa8e,{sara:_0x78e228,mainTopic:_0x2849bb}=_0x8f4837;!_0x190442[_0x78e228]&&(_0x190442[_0x78e228]={}),!_0x190442[_0x78e228][_0x2849bb]&&(_0x190442[_0x78e228][_0x2849bb]=[]),_0x190442[_0x78e228][_0x2849bb][_0x56735b(0x6fd)](_0x8f4837);});let _0x1095aa='';for(const _0x11bb7f in _0x190442){_0x1095aa+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x11bb7f+_0x5dfa8e(0x18a);for(const _0x3d968c in _0x190442[_0x11bb7f]){_0x1095aa+=_0x5dfa8e(0xb76)+_0x3d968c+_0x5dfa8e(0x220),_0x190442[_0x11bb7f][_0x3d968c][_0x5dfa8e(0xacf)](_0x196c34=>{const _0x3949f6=_0x5dfa8e,_0x8a6051=_0x196c34['id'],_0x4af089=_0x196c34[_0x3949f6(0x541)]||[],_0x52ec49=_0x4af089[_0x3949f6(0x14c)]>0x0,_0x8bfdf9=_0x196c34['status']===_0x3949f6(0xcf5);let _0x33e695='';_0x52ec49?_0x33e695=_0x3949f6(0xbfa)+_0x4af089[_0x3949f6(0x14c)]+'\x20ชุด)</span>':_0x33e695=_0x3949f6(0x3b4)+(_0x8bfdf9?_0x3949f6(0x3d9):_0x3949f6(0x5a5))+'\x22>'+(_0x8bfdf9?'สร้างแล้ว':_0x3949f6(0xa42))+_0x3949f6(0xbcd);const _0x4a6ee9=!_0x8bfdf9?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x2bb5bd=!_0x8bfdf9?_0x3949f6(0xdb8):'';let _0x29cec2=_0x8bfdf9?_0x3949f6(0x72e):_0x3949f6(0xcaf);_0x1095aa+=_0x3949f6(0x778)+_0x8a6051+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x196c34[_0x3949f6(0x3e2)]+_0x3949f6(0x697)+_0x33e695+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x4a6ee9+_0x3949f6(0x8b3)+_0x2bb5bd+_0x3949f6(0xa9a)+_0x29cec2+_0x3949f6(0x874);}),_0x1095aa+='</div></div>';}_0x1095aa+=_0x5dfa8e(0x96b);}_0x325024[_0x5dfa8e(0x568)]=_0x1095aa;}async function handleDeepDeleteBlueprintProject(_0x13f5ff){const _0x2151d2=_0x1b610a,_0x5c36e3=doc(db,_0x2151d2(0x407)+appId+'/public/data/blueprintProjects',_0x13f5ff),_0x562c94=await getDoc(_0x5c36e3);if(!_0x562c94['exists']()){showMessage(_0x2151d2(0x7e1));return;}const _0x18e4a4=_0x562c94[_0x2151d2(0x860)]()['projectName'];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x18e4a4+_0x2151d2(0x146),async()=>{const _0x223415=_0x2151d2;showMessage(_0x223415(0xa3c));try{const _0x897ef4=writeBatch(db),_0x1ece22=_0x562c94[_0x223415(0x860)](),_0x538f57=_0x1ece22[_0x223415(0xc57)]||{};for(const _0x2468be in _0x538f57){const _0x34ed07=doc(db,_0x223415(0x407)+appId+_0x223415(0x581)+_0x13f5ff+'/lessons',_0x2468be);_0x897ef4[_0x223415(0x5f7)](_0x34ed07);}const _0xa4f507=new Set();for(const _0x5f08c6 in _0x538f57){_0x538f57[_0x5f08c6][_0x223415(0x541)]&&_0x538f57[_0x5f08c6][_0x223415(0x541)][_0x223415(0xacf)](_0x1d54ab=>_0xa4f507[_0x223415(0x786)](_0x1d54ab));}for(const _0x5f104d of _0xa4f507){await handleDeleteQuiz(_0x5f104d,![]);}_0x897ef4[_0x223415(0x5f7)](_0x5c36e3),await _0x897ef4[_0x223415(0x394)](),showMessage(_0x223415(0x8b9)+_0x18e4a4+_0x223415(0xa67)),showBlueprintProjects();}catch(_0x580c01){console[_0x223415(0xce3)](_0x223415(0x46e),_0x580c01),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x1647ba){const _0x1a9509=_0x1b610a,_0x5d9ebd=document[_0x1a9509(0x8a9)](_0x1a9509(0xa6f)),_0x33fa0f=document[_0x1a9509(0x8a9)](_0x1a9509(0xd04)),_0x56a6ce=document[_0x1a9509(0x8a9)](_0x1a9509(0x1e7));try{await ensureGlobalQuizzesLoaded();const _0xa4652d=doc(db,_0x1a9509(0x407)+appId+_0x1a9509(0x5b8),currentBlueprintProjectId),_0x181c49=await getDoc(_0xa4652d);if(!_0x181c49[_0x1a9509(0xa90)]())return;const _0x31ce3a=_0x181c49[_0x1a9509(0x860)](),_0x44b3f3=_0x31ce3a[_0x1a9509(0xc57)][_0x1647ba];document[_0x1a9509(0x8a9)](_0x1a9509(0xdd3))[_0x1a9509(0xab8)]=_0x44b3f3['subTopic'];const _0x5b0cc2=_0x44b3f3[_0x1a9509(0x541)]||[];_0x56a6ce[_0x1a9509(0xb12)][_0x1a9509(0x830)](_0x1a9509(0x9cf),_0x5b0cc2['length']===0x0),_0x56a6ce['onclick']=()=>handleClearAllLinksForTopic(_0x1647ba);if(_0x5b0cc2[_0x1a9509(0x14c)]===0x0)_0x33fa0f[_0x1a9509(0x568)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x5974ba=allQuizzesGlobal[_0x1a9509(0x58f)](_0x2834c9=>_0x5b0cc2[_0x1a9509(0x55e)](_0x2834c9['id']));_0x33fa0f[_0x1a9509(0x568)]=_0x5974ba[_0x1a9509(0x4cb)](_0x4d2d39=>_0x1a9509(0x7b9)+_0x4d2d39['id']+_0x1a9509(0x19e)+_0x4d2d39[_0x1a9509(0x5cc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x4d2d39['id']+'\x20|\x20'+_0x4d2d39['questions'][_0x1a9509(0x14c)]+_0x1a9509(0x526)+_0x4d2d39['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x4d2d39['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x4d2d39['id']+_0x1a9509(0xce9)+_0x4d2d39['id']+_0x1a9509(0x453)+_0x1647ba+_0x1a9509(0x2e9)+_0x4d2d39['id']+_0x1a9509(0x552))[_0x1a9509(0x656)]('');}document[_0x1a9509(0x8a9)](_0x1a9509(0x36b))[_0x1a9509(0x743)]=()=>{openQuizSelectorForBlueprint(_0x1647ba);},document[_0x1a9509(0x8a9)](_0x1a9509(0x5b7))[_0x1a9509(0x743)]=()=>_0x5d9ebd['classList']['add']('hidden'),_0x5d9ebd[_0x1a9509(0xb12)][_0x1a9509(0x1e9)](_0x1a9509(0x9cf));}catch(_0x3c17b1){showMessage(_0x3c17b1[_0x1a9509(0xba0)]);}}async function openQuizSelectorForBlueprint(_0x2fa92){const _0x5d98a8=_0x1b610a,_0x30118c=document['getElementById'](_0x5d98a8(0x364)),_0x17a17d=document[_0x5d98a8(0x8a9)](_0x5d98a8(0xa6f));_0x17a17d['classList'][_0x5d98a8(0x786)](_0x5d98a8(0x9cf)),document['getElementById'](_0x5d98a8(0x8e0))?.['remove']();const _0x49aeae=document[_0x5d98a8(0xe6a)](_0x5d98a8(0xa9b));_0x49aeae['id']=_0x5d98a8(0x8e0),_0x49aeae[_0x5d98a8(0xe0a)]=_0x5d98a8(0xd22),_0x49aeae[_0x5d98a8(0xab8)]=_0x5d98a8(0x75d),_0x49aeae[_0x5d98a8(0x317)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x30118c[_0x5d98a8(0xb12)][_0x5d98a8(0x1e9)](_0x5d98a8(0x9cf)),renderQuizBankListForMultiSelect(''),document[_0x5d98a8(0x8a9)](_0x5d98a8(0x244))[_0x5d98a8(0x5a4)][_0x5d98a8(0xe7a)]=_0x5d98a8(0x436),_0x30118c['querySelector'](_0x5d98a8(0x6fc))[_0x5d98a8(0x90c)](_0x49aeae);const _0x387af1=(_0x5d85c8=![])=>{const _0x58f82b=_0x5d98a8;_0x30118c[_0x58f82b(0xb12)][_0x58f82b(0x786)](_0x58f82b(0x9cf)),document[_0x58f82b(0x8a9)]('bulk-quiz-settings-btn')['style'][_0x58f82b(0xe7a)]=_0x58f82b(0x447),_0x49aeae[_0x58f82b(0x1e9)](),_0x5d85c8&&openTopicQuizBank(_0x2fa92);};_0x49aeae[_0x5d98a8(0x743)]=async()=>{const _0x13e25b=_0x5d98a8,_0x5b028c=Array[_0x13e25b(0x52e)](document['querySelectorAll'](_0x13e25b(0xc16)))['map'](_0x3370cd=>_0x3370cd['value']);if(_0x5b028c['length']===0x0)return;try{const _0x5b8e68=doc(db,_0x13e25b(0x407)+appId+_0x13e25b(0x5b8),currentBlueprintProjectId),_0x153bfd=(await getDoc(_0x5b8e68))[_0x13e25b(0x860)](),_0x115648=_0x153bfd[_0x13e25b(0xc57)][_0x2fa92][_0x13e25b(0x541)]||[],_0x4eee7b=[...new Set([..._0x115648,..._0x5b028c])];await updateDoc(_0x5b8e68,{['topics.'+_0x2fa92+'.linkedQuizIds']:_0x4eee7b}),showMessage(_0x13e25b(0x7ca)+_0x5b028c[_0x13e25b(0x14c)]+_0x13e25b(0x839)),_0x387af1(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x221232){console[_0x13e25b(0xce3)](_0x13e25b(0x7b1),_0x221232);}},document['getElementById'](_0x5d98a8(0x16f))[_0x5d98a8(0x743)]=()=>_0x387af1(!![]);}catch(_0x5e2005){showMessage(_0x5e2005[_0x5d98a8(0xba0)]),_0x17a17d['classList'][_0x5d98a8(0x1e9)](_0x5d98a8(0x9cf));}}function handleClearLinkedQuiz(_0x1f48b3){const _0x5e6c07=_0x1b610a;showConfirmation(_0x5e6c07(0xa32),async()=>{const _0x2e4a76=_0x5e6c07;try{const _0x235887=doc(db,'artifacts/'+appId+_0x2e4a76(0x5b8),currentBlueprintProjectId);await updateDoc(_0x235887,{[_0x2e4a76(0x1d1)+_0x1f48b3+_0x2e4a76(0xab4)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x38b942){console['error'](_0x2e4a76(0xa4f),_0x38b942),showMessage(_0x2e4a76(0xb53));}});}async function addTopicToProject(){const _0x53981b=_0x1b610a,_0x77934e=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x77934e||_0x77934e[_0x53981b(0x937)]()==='')return;const _0x5df251=prompt(_0x53981b(0x3c4),_0x53981b(0x40a)),_0x242d9d=prompt(_0x53981b(0x57c),_0x53981b(0x631)),_0x2495fe=_0x53981b(0x8a5)+Date[_0x53981b(0x82a)]()+Math[_0x53981b(0xa73)]()[_0x53981b(0x91c)](0x24)[_0x53981b(0x8de)](0x2,0x9),_0x5939b2={'sara':_0x5df251,'mainTopic':_0x242d9d,'subTopic':_0x77934e[_0x53981b(0x937)](),'status':_0x53981b(0x565),'lessonContent':null};try{const _0x492e8e=doc(db,_0x53981b(0x407)+appId+_0x53981b(0x5b8),currentBlueprintProjectId);await updateDoc(_0x492e8e,{[_0x53981b(0x1d1)+_0x2495fe]:_0x5939b2}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x137e89){console['error'](_0x53981b(0x922),_0x137e89),showMessage(_0x53981b(0x1c2));}}async function editTopicInProject(_0x54e3b6){const _0x2791a1=_0x1b610a,_0x1589ed=document['querySelector']('[data-topic-id=\x22'+_0x54e3b6+'\x22]'),_0x57b792=_0x1589ed[_0x2791a1(0x2b0)]('[data-field=\x22subTopic\x22]'),_0x28412f=_0x57b792['textContent'],_0x40b315=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x28412f);if(!_0x40b315||_0x40b315['trim']()===''||_0x40b315[_0x2791a1(0x937)]()===_0x28412f)return;try{const _0x207580=doc(db,_0x2791a1(0x407)+appId+_0x2791a1(0x5b8),currentBlueprintProjectId);await updateDoc(_0x207580,{[_0x2791a1(0x1d1)+_0x54e3b6+_0x2791a1(0x278)]:_0x40b315[_0x2791a1(0x937)]()}),_0x57b792[_0x2791a1(0xab8)]=_0x40b315['trim'](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x56bf75){console[_0x2791a1(0xce3)](_0x2791a1(0x8d9),_0x56bf75),showMessage(_0x2791a1(0x8a1));}}async function deleteTopicFromProject(_0xaef74b){const _0x57f9ac=_0x1b610a;if(!confirm(_0x57f9ac(0x46b)))return;try{const _0x2d1dfe=doc(db,_0x57f9ac(0x407)+appId+_0x57f9ac(0x5b8),currentBlueprintProjectId);await updateDoc(_0x2d1dfe,{['topics.'+_0xaef74b]:deleteField()}),document[_0x57f9ac(0x2b0)](_0x57f9ac(0x5e6)+_0xaef74b+'\x22]')[_0x57f9ac(0x1e9)](),showMessage(_0x57f9ac(0xb8d));}catch(_0x28c4ad){console[_0x57f9ac(0xce3)]('Error\x20deleting\x20topic:',_0x28c4ad),showMessage(_0x57f9ac(0x2ba));}}async function generateAndSaveLessonForBlueprint(_0x598784,_0x5354f0,_0x234d3c){handleGenerateAndShowLesson(_0x5354f0,_0x234d3c);const _0x428a8e=setInterval(async()=>{const _0x4f112b=_0x6978,_0x128acf=document[_0x4f112b(0x8a9)](_0x4f112b(0x903)),_0x21502a=_0x128acf[_0x4f112b(0xb12)][_0x4f112b(0x48e)](_0x4f112b(0x9cf));if(_0x21502a){clearInterval(_0x428a8e);if(currentApplicationData&&currentApplicationData[_0x4f112b(0x14c)]>0x0){const _0x582963={'point':document['getElementById']('pointContent')[_0x4f112b(0x568)],'memory':document[_0x4f112b(0x8a9)](_0x4f112b(0xbbb))[_0x4f112b(0x568)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x4f112b(0x8a9)]('summaryContent')[_0x4f112b(0x568)]};try{const _0x3c4335=doc(db,_0x4f112b(0x407)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x34a82f=doc(db,_0x4f112b(0x407)+appId+_0x4f112b(0x581)+currentBlueprintProjectId+_0x4f112b(0x933),_0x598784),_0x40d5f9=writeBatch(db);_0x40d5f9[_0x4f112b(0x98f)](_0x34a82f,{'content':_0x582963}),_0x40d5f9[_0x4f112b(0x6e5)](_0x3c4335,{[_0x4f112b(0x1d1)+_0x598784+_0x4f112b(0xc51)]:'generated'}),await _0x40d5f9[_0x4f112b(0x394)](),console['log']('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x598784+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x389017){console[_0x4f112b(0xce3)]('Error\x20saving\x20lesson\x20to\x20project:',_0x389017);}}}},0x3e8);}function displayHalfMarkResult(_0x2b086d,_0x5785a0){const _0x594765=_0x1b610a,_0x1575d0=_0x2b086d>=_0x5785a0/0x2,_0x137584=_0x1575d0?_0x594765(0x2de):_0x594765(0xa65),_0x4e8c9b=_0x1575d0?_0x594765(0x27e):_0x594765(0x7a6),_0x4941a3=_0x1575d0?_0x594765(0x75b):'text-red-800',_0xd4e7d7=_0x1575d0?'ทำคะแนนได้เกินครึ่ง':_0x594765(0x781),_0x23ac49=_0x1575d0?_0x594765(0xdb0):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x5a4f56=_0x594765(0x1b6)+_0x137584+_0x594765(0x365)+_0x4e8c9b+_0x594765(0xd4a)+_0x4941a3+'\x20mb-2\x22>'+_0xd4e7d7+_0x594765(0x6b5)+_0x23ac49+_0x594765(0x425);studentResultArea[_0x594765(0x568)]=_0x5a4f56,studentResultArea[_0x594765(0xb12)][_0x594765(0x1e9)](_0x594765(0x9cf)),studentQuizArea['classList']['add'](_0x594765(0x9cf)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1575d0});}function displayPerfectScoreResult(_0x285fed,_0x116a4b){const _0x5ab222=_0x1b610a,_0x3063f1=_0x285fed===_0x116a4b,_0x4165e9=_0x3063f1?_0x5ab222(0x2ca):'bg-blue-100',_0x369cfc=_0x3063f1?_0x5ab222(0x7e5):_0x5ab222(0x499),_0x3878b5=_0x3063f1?'text-yellow-800':_0x5ab222(0x13e),_0x3cc94d=_0x3063f1?'คะแนนเต็ม!':_0x5ab222(0x35f),_0x4dd2cb=_0x3063f1?'สุดยอด!\x20ตอบถูกทุกข้อ':'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x337cce='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x4165e9+_0x5ab222(0x365)+_0x369cfc+_0x5ab222(0xd4a)+_0x3878b5+_0x5ab222(0xa1f)+_0x3cc94d+_0x5ab222(0x6b5)+_0x4dd2cb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x337cce,studentResultArea[_0x5ab222(0xb12)]['remove'](_0x5ab222(0x9cf)),studentQuizArea[_0x5ab222(0xb12)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x285fed,'totalQuestions':_0x116a4b});}function renderIndividualComparisonTable(_0x4183cc,_0x24d0d4){const _0x3a7a1c=_0x1b610a;_0x4183cc[_0x3a7a1c(0x528)]((_0x39cc1a,_0x3c0369)=>(_0x3c0369['tGain']??-Infinity)-(_0x39cc1a[_0x3a7a1c(0xc3f)]??-Infinity));let _0x4d35b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x4183cc[_0x3a7a1c(0x14c)]===0x0?_0x4d35b2+=_0x3a7a1c(0x519):_0x4183cc[_0x3a7a1c(0xacf)]((_0x422ec2,_0x5b8759)=>{const _0x2ed7c5=_0x3a7a1c;let _0x326b7b='-',_0x52333b='';if(_0x422ec2[_0x2ed7c5(0x4de)]!==null){const _0x5d258c=_0x422ec2[_0x2ed7c5(0x4de)]>0x0?'text-green-600':_0x422ec2['gain']<0x0?'text-red-600':_0x2ed7c5(0x39e),_0x38525c=_0x422ec2[_0x2ed7c5(0x4de)]>0x0?'+':'';_0x326b7b=_0x2ed7c5(0x9de)+_0x5d258c+'\x22>'+_0x38525c+_0x422ec2['gain']+_0x2ed7c5(0xbcd);if(_0x422ec2[_0x2ed7c5(0x4de)]>0x0)_0x52333b='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x422ec2[_0x2ed7c5(0x4de)]<0x0?_0x52333b=_0x2ed7c5(0x6c7):_0x52333b=_0x2ed7c5(0x67d);}let _0xb4b275='-';if(_0x422ec2[_0x2ed7c5(0xc3f)]!==null){const _0x50c391=_0x422ec2[_0x2ed7c5(0xc3f)]>0x0?_0x2ed7c5(0x3d8):_0x422ec2['tGain']<0x0?_0x2ed7c5(0x74b):_0x2ed7c5(0x39e),_0x22cb86=_0x422ec2[_0x2ed7c5(0xc3f)]>0x0?'+':'';_0xb4b275=_0x2ed7c5(0x9de)+_0x50c391+'\x22>'+_0x22cb86+_0x422ec2[_0x2ed7c5(0xc3f)]['toFixed'](0x2)+_0x2ed7c5(0xbcd);}_0x4d35b2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x5b8759+0x1)+_0x2ed7c5(0xcbc)+_0x422ec2[_0x2ed7c5(0x835)]+_0x2ed7c5(0x4c1)+(_0x422ec2[_0x2ed7c5(0x229)]??'-')+_0x2ed7c5(0xb3e)+(_0x422ec2[_0x2ed7c5(0xd41)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x326b7b+_0x2ed7c5(0x6f0)+_0x52333b+_0x2ed7c5(0x1cc)+(_0x422ec2[_0x2ed7c5(0x72f)]?.[_0x2ed7c5(0x84f)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x422ec2[_0x2ed7c5(0x143)]?.[_0x2ed7c5(0x84f)](0x2)??'-')+_0x2ed7c5(0x4c1)+_0xb4b275+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4d35b2+=_0x3a7a1c(0xe52),_0x24d0d4[_0x3a7a1c(0x568)]=_0x4d35b2;}function handleRenameQuiz(_0x5460d1,_0xd886a9){const _0x231380=_0x1b610a;actionTargetId=_0x5460d1,document[_0x231380(0x8a9)](_0x231380(0x294))['value']=_0xd886a9,renameQuizModal[_0x231380(0xb12)][_0x231380(0x1e9)](_0x231380(0x9cf));}function setupComparisonModalTabs(){const _0x179cd4=_0x1b610a,_0x45e346=document[_0x179cd4(0x8a9)](_0x179cd4(0xa2b)),_0x325c7f=document[_0x179cd4(0x8a9)](_0x179cd4(0xa57)),_0x55ab83=document[_0x179cd4(0x8a9)](_0x179cd4(0x434)),_0x4d39a6=document[_0x179cd4(0x8a9)](_0x179cd4(0x5de));_0x45e346[_0x179cd4(0xd68)](_0x179cd4(0xcc3),()=>{const _0x5c34a7=_0x179cd4;_0x45e346[_0x5c34a7(0xb12)][_0x5c34a7(0x786)](_0x5c34a7(0x6bc)),_0x325c7f[_0x5c34a7(0xb12)][_0x5c34a7(0x1e9)](_0x5c34a7(0x6bc)),_0x55ab83[_0x5c34a7(0xb12)][_0x5c34a7(0x1e9)](_0x5c34a7(0x9cf)),_0x4d39a6[_0x5c34a7(0xb12)]['add'](_0x5c34a7(0x9cf));}),_0x325c7f[_0x179cd4(0xd68)](_0x179cd4(0xcc3),()=>{const _0x3f83d2=_0x179cd4;_0x325c7f[_0x3f83d2(0xb12)][_0x3f83d2(0x786)](_0x3f83d2(0x6bc)),_0x45e346[_0x3f83d2(0xb12)][_0x3f83d2(0x1e9)]('active'),_0x4d39a6[_0x3f83d2(0xb12)][_0x3f83d2(0x1e9)](_0x3f83d2(0x9cf)),_0x55ab83[_0x3f83d2(0xb12)][_0x3f83d2(0x786)](_0x3f83d2(0x9cf));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x3169a2=_0x1b610a;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2e662b=doc(db,'artifacts/'+appId+_0x3169a2(0x429),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2e662b,_0x2b3aac=>{const _0x4afebb=_0x3169a2;if(!_0x2b3aac[_0x4afebb(0xa90)]()){showMessage(_0x4afebb(0xd89));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4afebb(0xe00)?showView(_0x4afebb(0x535)):showView(_0x4afebb(0x28a));return;}const _0x344ec5=_0x2b3aac[_0x4afebb(0x860)]();_0x344ec5[_0x4afebb(0x698)]&&(currentQuizData=_0x344ec5['shuffledQuiz']);!currentQuizData&&_0x344ec5[_0x4afebb(0x782)]&&((async()=>{const _0x3e9371=_0x4afebb;try{const _0x1b08b0=doc(db,'artifacts/'+appId+_0x3e9371(0x399),_0x344ec5[_0x3e9371(0x782)]),_0x3abab2=await getDoc(_0x1b08b0);_0x3abab2['exists']()&&(currentQuizData={'id':_0x3abab2['id'],..._0x3abab2[_0x3e9371(0x860)]()});}catch(_0x117169){console[_0x3e9371(0xce3)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x117169);}})());switch(_0x344ec5[_0x4afebb(0x9fb)]){case _0x4afebb(0xd28):if(currentMode===_0x4afebb(0xe00)){const _0x22c808=_0x344ec5['players']?Object[_0x4afebb(0xc3c)](_0x344ec5[_0x4afebb(0x7e6)]):[],_0x573190=_0x22c808[_0x4afebb(0x58f)](([_0x367359,_0x8ceea])=>_0x8ceea['status']===_0x4afebb(0x6bc)),_0x388c13=document[_0x4afebb(0x8a9)](_0x4afebb(0xe1a));if(_0x388c13)_0x388c13[_0x4afebb(0xab8)]=_0x573190['length'];const _0x3081e7=document[_0x4afebb(0x8a9)](_0x4afebb(0xae1));_0x3081e7&&(_0x3081e7[_0x4afebb(0x568)]=_0x573190[_0x4afebb(0x4cb)](([_0x337d88,_0x3a09ae])=>_0x4afebb(0x5bf)+_0x337d88+_0x4afebb(0x282)+_0x337d88+_0x4afebb(0x4a3))[_0x4afebb(0x656)](''));const _0x57c12e=document[_0x4afebb(0x8a9)](_0x4afebb(0xb26));_0x57c12e&&(_0x57c12e[_0x4afebb(0x317)]=_0x573190[_0x4afebb(0x14c)]===0x0);}else showView(_0x4afebb(0x70e)),liveGameView[_0x4afebb(0x568)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x42dc5c=_0x344ec5[_0x4afebb(0x7c6)];if(currentQuizData&&currentQuizData['questions'][_0x42dc5c]){const _0x39adf4=currentQuizData[_0x4afebb(0x3c6)][_0x42dc5c],_0x1e08fd=_0x344ec5[_0x4afebb(0x859)]||_0x4afebb(0x288);switch(_0x1e08fd){case _0x4afebb(0xbab):currentMode===_0x4afebb(0xe00)?showAdminSummaryView(_0x344ec5,_0x39adf4):showPlayerSummaryView(_0x344ec5,currentStudentName);break;case _0x4afebb(0x77b):currentMode===_0x4afebb(0xe00)&&showTop5LeaderboardView(_0x344ec5);break;case'answering':default:if(currentMode===_0x4afebb(0xe00)){const _0x44cfbc=writeBatch(db);let _0x4cb0b4=![];Object['entries'](_0x344ec5[_0x4afebb(0x7e6)])['forEach'](([_0x5d4afe,_0x4545c5])=>{const _0x24b21f=_0x4afebb;if(_0x4545c5[_0x24b21f(0x9fb)]===_0x24b21f(0x6bc)&&_0x4545c5[_0x24b21f(0xc13)]&&!_0x4545c5['isScored']){_0x4cb0b4=!![];const _0x4b6ebb=_0x4545c5[_0x24b21f(0xc13)][_0x24b21f(0xa17)]()-_0x344ec5[_0x24b21f(0x8df)][_0x24b21f(0xa17)]();let _0x21b603=0x0;if(_0x4545c5['lastAnswerCorrect']){const _0x5d2686=0x3e8,_0x444bd2=0x1f4,_0x16d6a1=0x4e20;let _0x5d1778=_0x4b6ebb/_0x16d6a1;if(_0x5d1778>0x1)_0x5d1778=0x1;const _0xb793f8=Math['round'](_0x5d1778*_0x444bd2);_0x21b603=_0x5d2686-_0xb793f8;}const _0x58523f=doc(db,_0x24b21f(0x407)+appId+_0x24b21f(0x429),currentLiveGameId);_0x44cfbc[_0x24b21f(0x6e5)](_0x58523f,{[_0x24b21f(0x8b1)+_0x5d4afe+_0x24b21f(0xa15)]:increment(_0x21b603),[_0x24b21f(0x8b1)+_0x5d4afe+_0x24b21f(0x5ac)]:_0x21b603,[_0x24b21f(0x8b1)+_0x5d4afe+_0x24b21f(0xac5)]:!![]});}});_0x4cb0b4&&_0x44cfbc[_0x4afebb(0x394)]()[_0x4afebb(0x659)](_0x4acdfe=>console[_0x4afebb(0xce3)](_0x4afebb(0x372),_0x4acdfe));lastRenderedAdminQuestionIndex!==_0x42dc5c&&(showAdminLiveQuestionView(_0x39adf4,_0x42dc5c,currentQuizData['questions'][_0x4afebb(0x14c)]),lastRenderedAdminQuestionIndex=_0x42dc5c);const _0x5a23c3=_0x344ec5[_0x4afebb(0x7e6)]||{},_0x28086d=Object['values'](_0x5a23c3)[_0x4afebb(0x58f)](_0x5e7803=>_0x5e7803['status']==='active'),_0x2f72fe=_0x28086d[_0x4afebb(0x14c)],_0xda2402=_0x28086d[_0x4afebb(0x58f)](_0x12ead7=>_0x12ead7[_0x4afebb(0xb56)]===!![])[_0x4afebb(0x14c)],_0x1ae7e9=document[_0x4afebb(0x8a9)](_0x4afebb(0xc09));if(_0x1ae7e9)_0x1ae7e9[_0x4afebb(0xab8)]=_0xda2402+'/'+_0x2f72fe;const _0x41207=document['getElementById'](_0x4afebb(0x4c5));if(_0x41207){let _0x612fdf=Object['entries'](_0x5a23c3)[_0x4afebb(0x58f)](([_0x109c6d,_0x4c7840])=>_0x4c7840[_0x4afebb(0x9fb)]===_0x4afebb(0x6bc))[_0x4afebb(0x4cb)](([_0x518448,_0x4c193c])=>{const _0x34ba3a=_0x4afebb,_0x59b492=_0x4c193c[_0x34ba3a(0xb56)]===!![],_0xa72c1=_0x59b492?_0x34ba3a(0x1f5):'bg-gray-500',_0x1e3666=_0x59b492?_0x34ba3a(0x8f2):_0x34ba3a(0x8e4);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0xa72c1+_0x34ba3a(0xc1c)+_0x1e3666+_0x34ba3a(0x7cf)+_0x518448+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x518448+_0x34ba3a(0xb95);})[_0x4afebb(0x656)]('');_0x41207[_0x4afebb(0x568)]=_0x612fdf||_0x4afebb(0x189);}_0x2f72fe>0x0&&_0xda2402===_0x2f72fe&&revealAnswerForAdmin(_0x42dc5c,currentQuizData[_0x4afebb(0x3c6)][_0x4afebb(0x14c)]);}else{const _0x54d5c8=_0x344ec5['players'][currentStudentName];_0x54d5c8&&!_0x54d5c8['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x39adf4,_0x42dc5c,currentQuizData['questions'][_0x4afebb(0x14c)]);}break;}}break;case _0x4afebb(0x517):showPodiumView(_0x344ec5['players'],'live-race');break;}});}async function openGlobalActivityModal(){const _0x1475bc=_0x1b610a;if(allQuizzesGlobal[_0x1475bc(0x14c)]===0x0){const _0x3f1ebb=await getDocs(collection(db,_0x1475bc(0x407)+appId+_0x1475bc(0x399)));allQuizzesGlobal=_0x3f1ebb[_0x1475bc(0x654)][_0x1475bc(0x4cb)](_0x29fde9=>({'id':_0x29fde9['id'],..._0x29fde9[_0x1475bc(0x860)]()}));}renderGlobalActivityList(''),document[_0x1475bc(0x8a9)]('global-activity-modal')[_0x1475bc(0xb12)]['remove'](_0x1475bc(0x9cf));}function renderGlobalActivityList(_0x1a988e=''){const _0x14ef3c=_0x1b610a,_0x28a8a4=document[_0x14ef3c(0x8a9)](_0x14ef3c(0x5df)),_0x2e9a18=_0x1a988e[_0x14ef3c(0x8dd)]()[_0x14ef3c(0x937)](),_0x1ae7dc=allQuizzesGlobal[_0x14ef3c(0x4cb)](_0x37a852=>({..._0x37a852,'projectName':allProjects[_0x14ef3c(0x6bf)](_0x3c14fa=>_0x3c14fa['id']===_0x37a852['projectId'])?.[_0x14ef3c(0x252)]||'N/A'}))[_0x14ef3c(0x58f)](_0x47c616=>(_0x47c616[_0x14ef3c(0x5cc)]||'')[_0x14ef3c(0x8dd)]()[_0x14ef3c(0x55e)](_0x2e9a18)||(_0x47c616[_0x14ef3c(0x252)]||'')[_0x14ef3c(0x8dd)]()[_0x14ef3c(0x55e)](_0x2e9a18));document[_0x14ef3c(0x8a9)](_0x14ef3c(0xdcb))['textContent']='('+_0x1ae7dc['length']+_0x14ef3c(0x27d),_0x28a8a4[_0x14ef3c(0x568)]=_0x1ae7dc[_0x14ef3c(0x14c)]?_0x1ae7dc['map'](_0x2fb5a7=>_0x14ef3c(0x547)+(_0x2fb5a7[_0x14ef3c(0x5cc)]||'(ไม่มีชื่อ)')+_0x14ef3c(0x4d5)+(_0x2fb5a7[_0x14ef3c(0x3c6)]?.['length']||0x0)+_0x14ef3c(0x5fd)+_0x2fb5a7[_0x14ef3c(0x252)]+_0x14ef3c(0xa0e)+_0x2fb5a7['id']+_0x14ef3c(0x7a4)+_0x2fb5a7['id']+_0x14ef3c(0x6a6))['join'](''):_0x14ef3c(0xdca);}async function handleKickPlayer(_0x5e0852){const _0x27c767=_0x1b610a;if(!currentLiveGameId||!_0x5e0852)return;const _0xde6a05=doc(db,_0x27c767(0x407)+appId+'/public/data/liveGames',currentLiveGameId),_0x3aeccb={};_0x3aeccb['players.'+_0x5e0852+_0x27c767(0xc51)]=_0x27c767(0xd60);try{await updateDoc(_0xde6a05,_0x3aeccb);}catch(_0x2613ca){console[_0x27c767(0xce3)](_0x27c767(0x577)+_0x5e0852+':',_0x2613ca),showMessage(_0x27c767(0x494));}}async function authenticateUser(){const _0x1acacc=_0x1b610a;try{typeof __initial_auth_token!==_0x1acacc(0xc73)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x453096){console[_0x1acacc(0xce3)](_0x1acacc(0x6d1),_0x453096),showMessage(_0x1acacc(0x6aa));}}function showView(_0x49a562){const _0x5d0477=_0x1b610a;adminView[_0x5d0477(0xb12)][_0x5d0477(0x786)](_0x5d0477(0x9cf)),studentView[_0x5d0477(0xb12)][_0x5d0477(0x786)]('hidden'),projectDashboardView[_0x5d0477(0xb12)][_0x5d0477(0x786)](_0x5d0477(0x9cf)),projectDetailView[_0x5d0477(0xb12)]['add'](_0x5d0477(0x9cf)),quizResultsView[_0x5d0477(0xb12)][_0x5d0477(0x786)](_0x5d0477(0x9cf)),liveGameView[_0x5d0477(0xb12)][_0x5d0477(0x786)](_0x5d0477(0x9cf)),document[_0x5d0477(0x8a9)](_0x5d0477(0xe8d))[_0x5d0477(0xb12)]['add']('hidden'),studentInitialView[_0x5d0477(0xb12)][_0x5d0477(0x786)](_0x5d0477(0x9cf)),studentJoinGameView['classList'][_0x5d0477(0x786)](_0x5d0477(0x9cf)),studentNameSelectionView[_0x5d0477(0xb12)][_0x5d0477(0x786)](_0x5d0477(0x9cf)),studentQuizArea[_0x5d0477(0xb12)][_0x5d0477(0x786)]('hidden'),studentResultArea[_0x5d0477(0xb12)]['add'](_0x5d0477(0x9cf)),studentReadingArea[_0x5d0477(0xb12)]['add']('hidden');const _0x44a9b5=document[_0x5d0477(0x8a9)](_0x5d0477(0xad9)),_0x45e262=document['getElementById'](_0x5d0477(0x23b));if(_0x44a9b5)_0x44a9b5[_0x5d0477(0xb12)]['add'](_0x5d0477(0x9cf));if(_0x45e262)_0x45e262[_0x5d0477(0xb12)][_0x5d0477(0x786)](_0x5d0477(0x9cf));switch(_0x49a562){case _0x5d0477(0x88a):adminView[_0x5d0477(0xb12)]['remove'](_0x5d0477(0x9cf)),projectDashboardView[_0x5d0477(0xb12)][_0x5d0477(0x1e9)](_0x5d0477(0x9cf));break;case _0x5d0477(0x535):adminView[_0x5d0477(0xb12)][_0x5d0477(0x1e9)](_0x5d0477(0x9cf)),projectDetailView[_0x5d0477(0xb12)]['remove'](_0x5d0477(0x9cf));break;case'quiz-results':adminView[_0x5d0477(0xb12)][_0x5d0477(0x1e9)]('hidden'),quizResultsView['classList'][_0x5d0477(0x1e9)]('hidden');break;case _0x5d0477(0x28a):studentView[_0x5d0477(0xb12)][_0x5d0477(0x1e9)](_0x5d0477(0x9cf)),studentInitialView['classList']['remove']('hidden');break;case'live-game':liveGameView[_0x5d0477(0xb12)][_0x5d0477(0x1e9)](_0x5d0477(0x9cf));break;case _0x5d0477(0x340):studentView[_0x5d0477(0xb12)]['remove'](_0x5d0477(0x9cf));if(_0x44a9b5)_0x44a9b5[_0x5d0477(0xb12)][_0x5d0477(0x1e9)](_0x5d0477(0x9cf));break;case'student-progress':studentView[_0x5d0477(0xb12)]['remove'](_0x5d0477(0x9cf));if(_0x45e262)_0x45e262[_0x5d0477(0xb12)][_0x5d0477(0x1e9)](_0x5d0477(0x9cf));break;default:studentView[_0x5d0477(0xb12)][_0x5d0477(0x1e9)](_0x5d0477(0x9cf)),studentInitialView[_0x5d0477(0xb12)][_0x5d0477(0x1e9)]('hidden');break;}}function showJoinGameView(){const _0x15fcd7=_0x1b610a;studentInitialView[_0x15fcd7(0xb12)][_0x15fcd7(0x786)](_0x15fcd7(0x9cf)),studentJoinGameView[_0x15fcd7(0xb12)][_0x15fcd7(0x1e9)](_0x15fcd7(0x9cf));}async function handleSaveVisibilitySettings(){const _0x272e3a=_0x1b610a;if(!currentProjectId)return;const _0x4337d2=doc(db,_0x272e3a(0x407)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x4337d2,{'settings.showInStudentDashboard':document[_0x272e3a(0x8a9)]('show-in-student-dashboard-checkbox')['checked'],'settings.isPasscodeEnabled':document[_0x272e3a(0x8a9)](_0x272e3a(0x4a9))[_0x272e3a(0xaa0)],'settings.passcode':document['getElementById'](_0x272e3a(0x2f9))[_0x272e3a(0x61e)][_0x272e3a(0x937)]()}),showMessage(_0x272e3a(0xd7d));}catch(_0x147929){console[_0x272e3a(0xce3)](_0x272e3a(0x70d),_0x147929),showMessage(_0x272e3a(0x240));}}function setupEventListeners(){const _0x58271b=_0x1b610a,_0x29f38c=document[_0x58271b(0x8a9)](_0x58271b(0xd79)),_0x5971db=document[_0x58271b(0x8a9)]('scan-text-image-btn');_0x29f38c&&_0x5971db&&(_0x5971db[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>_0x29f38c[_0x58271b(0xcc3)]()),_0x29f38c[_0x58271b(0xd68)](_0x58271b(0x39f),_0x48c459=>{const _0x48200c=_0x58271b;_0x48c459['target'][_0x48200c(0x62c)][_0x48200c(0x14c)]>0x0&&handleScanImageForText(_0x48c459['target'][_0x48200c(0x62c)][0x0]);}));const _0x5e85d0=document[_0x58271b(0x8a9)](_0x58271b(0xe8a));_0x5e85d0&&_0x5e85d0[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x57626f=_0x58271b,_0x4057d7=document['getElementById'](_0x57626f(0x11e)),_0x278a26=document['getElementById'](_0x57626f(0xb58));_0x4057d7&&(_0x4057d7['value']=_0x4057d7[_0x57626f(0xb5e)],_0x278a26&&(_0x278a26[_0x57626f(0xab8)]=_0x4057d7[_0x57626f(0x61e)],_0x278a26[_0x57626f(0xb12)]['remove'](_0x57626f(0xa72)),void _0x278a26[_0x57626f(0x66d)],_0x278a26[_0x57626f(0xb12)]['add'](_0x57626f(0x472),_0x57626f(0x1fc),_0x57626f(0xa72),'text-red-600'),setTimeout(()=>_0x278a26['classList'][_0x57626f(0x1e9)]('scale-125','text-red-600'),0xc8)));});document[_0x58271b(0x8a9)]('cancel-wager-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x12408b=_0x58271b;document[_0x12408b(0x8a9)](_0x12408b(0x735))['classList']['add'](_0x12408b(0x9cf));}),document['getElementById'](_0x58271b(0xc1d))['addEventListener'](_0x58271b(0xcc3),()=>{const _0x34f858=_0x58271b,_0x19cd00=document[_0x34f858(0x8a9)]('wager-modal'),_0x387008=document[_0x34f858(0x8a9)]('selected-answer-index-hidden-wager'),_0x2aedca=document[_0x34f858(0x8a9)](_0x34f858(0x11e))[_0x34f858(0x61e)],_0x10e2c5=_0x387008[_0x34f858(0xd34)][_0x34f858(0x99d)],_0x41e1c6=JSON[_0x34f858(0xbc4)](_0x387008[_0x34f858(0xd34)][_0x34f858(0x824)]),_0x287347=JSON['parse'](_0x387008['dataset'][_0x34f858(0x489)]),_0x2429e3=_0x387008[_0x34f858(0xd34)][_0x34f858(0x162)];_0x19cd00['classList']['add'](_0x34f858(0x9cf)),handleSyncAnswerSubmit(_0x10e2c5,_0x41e1c6,_0x287347,_0x2429e3,![],_0x2aedca);}),document[_0x58271b(0x6b8)]('input[name=\x22syncVariant\x22]')[_0x58271b(0xacf)](_0x260901=>{const _0x3ef896=_0x58271b;_0x260901['addEventListener'](_0x3ef896(0x39f),_0xa466de=>{const _0x4457c0=_0x3ef896,_0x343410=document['getElementById'](_0x4457c0(0xb18));_0xa466de[_0x4457c0(0x61a)]['value']===_0x4457c0(0xb23)?_0x343410[_0x4457c0(0xb12)][_0x4457c0(0x1e9)](_0x4457c0(0x9cf)):_0x343410[_0x4457c0(0xb12)]['add']('hidden');});}),document[_0x58271b(0x8a9)](_0x58271b(0xe3e))[_0x58271b(0xd68)](_0x58271b(0x39f),_0x33cf5f=>{const _0x18939c=_0x58271b;document[_0x18939c(0x8a9)](_0x18939c(0x967))['classList'][_0x18939c(0x830)](_0x18939c(0x9cf),!_0x33cf5f['target'][_0x18939c(0xaa0)]);});const _0x3e2d1f=document[_0x58271b(0x8a9)](_0x58271b(0x9a8)),_0x414a93=document['getElementById'](_0x58271b(0xe33));_0x3e2d1f&&_0x414a93&&_0x3e2d1f[_0x58271b(0xd68)]('click',()=>{const _0x44bc2e=_0x58271b;_0x414a93['classList'][_0x44bc2e(0x786)]('hidden'),_0x414a93[_0x44bc2e(0xd34)]['currentMode']='';});const _0x5cdcf9=document[_0x58271b(0x8a9)](_0x58271b(0x2e3));_0x5cdcf9&&(_0x5cdcf9[_0x58271b(0xd68)](_0x58271b(0xd14),wakeUpScreen),_0x5cdcf9[_0x58271b(0xd68)](_0x58271b(0x71e),wakeUpScreen));document['getElementById']('save-bp-reference-btn')['addEventListener'](_0x58271b(0xcc3),async()=>{const _0x1c996c=_0x58271b;if(!currentBlueprintProjectId)return;const _0x51d377=document[_0x1c996c(0x8a9)]('bp-reference-file-url')['value'][_0x1c996c(0x937)](),_0x15389c=doc(db,_0x1c996c(0x407)+appId+_0x1c996c(0x5b8),currentBlueprintProjectId);try{await updateDoc(_0x15389c,{'referenceFileUrl':_0x51d377}),showMessage(_0x1c996c(0x18d));}catch(_0x557d4d){console['error'](_0x1c996c(0x783),_0x557d4d),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x58271b(0x8a9)](_0x58271b(0x491))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleAddParallelShortcutTab),document['getElementById'](_0x58271b(0x6dc))[_0x58271b(0xd68)]('click',_0xee425d=>{const _0x4c829e=_0x58271b;_0xee425d['target'][_0x4c829e(0x156)](_0x4c829e(0x27b))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document['getElementById']('additional-parallel-shortcuts-modal')[_0x4c829e(0xb12)][_0x4c829e(0x1e9)]('hidden'));}),document['getElementById'](_0x58271b(0x408))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x3433fd=_0x58271b;document[_0x3433fd(0x8a9)](_0x3433fd(0x147))['classList'][_0x3433fd(0x786)](_0x3433fd(0x9cf));}),document[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x437076=>{const _0x3d33fa=_0x58271b;!_0x437076['target'][_0x3d33fa(0x156)](_0x3d33fa(0x629))&&document[_0x3d33fa(0x6b8)](_0x3d33fa(0xc9a))[_0x3d33fa(0xacf)](_0x25afe1=>_0x25afe1[_0x3d33fa(0xb12)]['add'](_0x3d33fa(0x9cf)));}),document['getElementById'](_0x58271b(0x150))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleAddFileShortcutTab),document[_0x58271b(0x8a9)]('file-input-area')['addEventListener'](_0x58271b(0xcc3),_0x64da80=>{const _0x17cf8c=_0x58271b;_0x64da80[_0x17cf8c(0x61a)][_0x17cf8c(0x156)](_0x17cf8c(0xa53))&&(activeFileShortcutTabId=_0x17cf8c(0xbd8),renderAdditionalFileShortcutsModal(),document['getElementById'](_0x17cf8c(0xc38))[_0x17cf8c(0xb12)][_0x17cf8c(0x1e9)](_0x17cf8c(0x9cf)));}),document[_0x58271b(0x8a9)](_0x58271b(0x246))[_0x58271b(0xd68)]('click',()=>{const _0x535991=_0x58271b;document[_0x535991(0x8a9)](_0x535991(0xc38))[_0x535991(0xb12)]['add'](_0x535991(0x9cf));}),document[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x4c1b0e=>{const _0x4f0e46=_0x58271b;!_0x4c1b0e[_0x4f0e46(0x61a)][_0x4f0e46(0x156)](_0x4f0e46(0x7df))&&document['querySelectorAll'](_0x4f0e46(0xdcc))[_0x4f0e46(0xacf)](_0x2e1f7b=>_0x2e1f7b[_0x4f0e46(0xb12)][_0x4f0e46(0x786)](_0x4f0e46(0x9cf)));}),document[_0x58271b(0x8a9)](_0x58271b(0x721))['addEventListener'](_0x58271b(0xcc3),handleAddShortcutTab),document['getElementById'](_0x58271b(0xcdb))[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x31b0f2=>{const _0x5d7781=_0x58271b,_0x428928=_0x31b0f2[_0x5d7781(0x61a)][_0x5d7781(0x156)](_0x5d7781(0xc4c)),_0x472794=_0x31b0f2[_0x5d7781(0x61a)][_0x5d7781(0x156)]('.edit-parallel-shortcut-btn'),_0x6770d7=_0x31b0f2[_0x5d7781(0x61a)]['closest'](_0x5d7781(0x86e));if(_0x472794)openParallelTestShortcutEditor(_0x472794[_0x5d7781(0xd34)]['id']);else{if(_0x6770d7){const _0x3e8355=_0x6770d7['dataset']['id'];showConfirmation(_0x5d7781(0xc07),async()=>{const _0xdc32fd=_0x5d7781,_0x485ce5=parallelTestShortcuts[_0xdc32fd(0x58f)](_0x36a14d=>_0x36a14d['id']!==_0x3e8355),_0x29671f=doc(db,'globalSettings',_0xdc32fd(0xb36));await setDoc(_0x29671f,{'shortcuts':_0x485ce5},{'merge':!![]});});}else _0x428928&&handleParallelTestShortcutClick(_0x428928[_0x5d7781(0xd34)]['id']);}}),document[_0x58271b(0x8a9)](_0x58271b(0xad4))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x58271b(0x94a))['addEventListener']('click',()=>{const _0x11a793=_0x58271b;document[_0x11a793(0x8a9)](_0x11a793(0x2ab))[_0x11a793(0xb12)][_0x11a793(0x786)](_0x11a793(0x9cf));}),document[_0x58271b(0x8a9)](_0x58271b(0xe21))[_0x58271b(0xd68)](_0x58271b(0xcc3),saveParallelTestShortcutChanges),document['getElementById'](_0x58271b(0x6dc))[_0x58271b(0xd68)]('click',_0x4ab510=>{const _0x38f59b=_0x58271b;_0x4ab510['target'][_0x38f59b(0x156)](_0x38f59b(0x27b))&&document[_0x38f59b(0x8a9)](_0x38f59b(0x147))['classList'][_0x38f59b(0x1e9)](_0x38f59b(0x9cf));}),document[_0x58271b(0x8a9)]('close-additional-parallel-shortcuts-btn')[_0x58271b(0xd68)]('click',()=>{const _0x150772=_0x58271b;document[_0x150772(0x8a9)]('additional-parallel-shortcuts-modal')[_0x150772(0xb12)][_0x150772(0x786)](_0x150772(0x9cf));}),document[_0x58271b(0x8a9)]('additional-parallel-shortcuts-list')['addEventListener']('click',_0x3dee2f=>{const _0x52ffa8=_0x58271b,_0x497316=document[_0x52ffa8(0x8a9)](_0x52ffa8(0x147)),_0x9ae046=_0x3dee2f['target'][_0x52ffa8(0x156)](_0x52ffa8(0xb3c)),_0x3b625f=_0x3dee2f['target'][_0x52ffa8(0x156)]('.edit-hidden-parallel-shortcut-btn'),_0x32812b=_0x3dee2f[_0x52ffa8(0x61a)][_0x52ffa8(0x156)](_0x52ffa8(0x362));if(_0x9ae046)_0x497316[_0x52ffa8(0xb12)][_0x52ffa8(0x786)](_0x52ffa8(0x9cf)),handleParallelTestShortcutClick(_0x9ae046['dataset']['id']);else{if(_0x3b625f)_0x497316['classList'][_0x52ffa8(0x786)](_0x52ffa8(0x9cf)),openParallelTestShortcutEditor(_0x3b625f[_0x52ffa8(0xd34)]['id']);else{if(_0x32812b){const _0xd35821=_0x32812b[_0x52ffa8(0xd34)]['id'];showConfirmation(_0x52ffa8(0xc07),async()=>{const _0x9cb5e8=_0x52ffa8,_0x2bc989=parallelTestShortcuts[_0x9cb5e8(0x58f)](_0x4f98e8=>_0x4f98e8['id']!==_0xd35821),_0x20e314=doc(db,_0x9cb5e8(0x18b),_0x9cb5e8(0xb36));await setDoc(_0x20e314,{'shortcuts':_0x2bc989},{'merge':!![]});});}}}}),document[_0x58271b(0x8a9)](_0x58271b(0xdfc))[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x2b2157=>{const _0x473dfb=_0x58271b,_0x3d20f8=_0x2b2157[_0x473dfb(0x61a)][_0x473dfb(0x156)](_0x473dfb(0xb0e)),_0x223097=_0x2b2157['target'][_0x473dfb(0x156)](_0x473dfb(0x165)),_0x365497=_0x2b2157[_0x473dfb(0x61a)][_0x473dfb(0x156)]('.delete-file-shortcut-btn');if(_0x223097)openFileShortcutEditor(_0x223097[_0x473dfb(0xd34)]['id']);else{if(_0x365497){const _0xea00df=_0x365497[_0x473dfb(0xd34)]['id'];showConfirmation(_0x473dfb(0xc07),async()=>{const _0x20f024=_0x473dfb,_0x3bfa72=fileShortcuts[_0x20f024(0x58f)](_0x28a7ef=>_0x28a7ef['id']!==_0xea00df),_0x168d8b=doc(db,_0x20f024(0x18b),'fileShortcutsConfig');await setDoc(_0x168d8b,{'shortcuts':_0x3bfa72},{'merge':!![]});});}else _0x3d20f8&&handleFileShortcutClick(_0x3d20f8[_0x473dfb(0xd34)]['id']);}}),document['getElementById'](_0x58271b(0xbe8))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>openFileShortcutEditor(null)),document[_0x58271b(0x8a9)](_0x58271b(0x490))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x4cd7a3=_0x58271b;document[_0x4cd7a3(0x8a9)](_0x4cd7a3(0xdbf))[_0x4cd7a3(0xb12)][_0x4cd7a3(0x786)]('hidden');}),document['getElementById'](_0x58271b(0x163))[_0x58271b(0xd68)]('click',saveFileShortcutChanges),document[_0x58271b(0x8a9)](_0x58271b(0xb44))[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x4a13d9=>{const _0x50b2d5=_0x58271b;_0x4a13d9[_0x50b2d5(0x61a)][_0x50b2d5(0x156)](_0x50b2d5(0xa53))&&document[_0x50b2d5(0x8a9)](_0x50b2d5(0xc38))[_0x50b2d5(0xb12)][_0x50b2d5(0x1e9)](_0x50b2d5(0x9cf));}),document[_0x58271b(0x8a9)](_0x58271b(0x246))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x2f0845=_0x58271b;document[_0x2f0845(0x8a9)](_0x2f0845(0xc38))['classList'][_0x2f0845(0x786)](_0x2f0845(0x9cf));}),document['getElementById'](_0x58271b(0x983))['addEventListener'](_0x58271b(0xcc3),_0x2861ad=>{const _0x415241=_0x58271b,_0x150c6e=document[_0x415241(0x8a9)](_0x415241(0xc38)),_0x480f2b=_0x2861ad[_0x415241(0x61a)]['closest'](_0x415241(0xb03)),_0x3e2185=_0x2861ad['target'][_0x415241(0x156)]('.edit-hidden-file-shortcut-btn'),_0x3b8054=_0x2861ad[_0x415241(0x61a)][_0x415241(0x156)](_0x415241(0x351));if(_0x480f2b)_0x150c6e['classList']['add']('hidden'),handleFileShortcutClick(_0x480f2b[_0x415241(0xd34)]['id']);else{if(_0x3e2185)_0x150c6e['classList'][_0x415241(0x786)](_0x415241(0x9cf)),openFileShortcutEditor(_0x3e2185[_0x415241(0xd34)]['id']);else{if(_0x3b8054){const _0x5b83bd=_0x3b8054['dataset']['id'];showConfirmation(_0x415241(0xc07),async()=>{const _0x363ce5=_0x415241,_0x3e6cd3=fileShortcuts[_0x363ce5(0x58f)](_0x39b9ec=>_0x39b9ec['id']!==_0x5b83bd),_0x48da7d=doc(db,_0x363ce5(0x18b),_0x363ce5(0x9d8));await setDoc(_0x48da7d,{'shortcuts':_0x3e6cd3},{'merge':!![]});});}}}}),document[_0x58271b(0x8a9)](_0x58271b(0x2d6))['addEventListener'](_0x58271b(0xcc3),_0xb92b51=>{const _0x41098d=_0x58271b;_0xb92b51[_0x41098d(0x61a)][_0x41098d(0x156)](_0x41098d(0xcf3))&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x41098d(0x8a9)](_0x41098d(0x3e8))[_0x41098d(0xb12)]['remove'](_0x41098d(0x9cf)));}),document[_0x58271b(0x8a9)](_0x58271b(0x51d))['addEventListener']('click',()=>{const _0x4d9e2e=_0x58271b;document[_0x4d9e2e(0x8a9)](_0x4d9e2e(0x3e8))['classList'][_0x4d9e2e(0x786)](_0x4d9e2e(0x9cf));}),document['getElementById'](_0x58271b(0x412))[_0x58271b(0xd68)]('click',_0xbd088e=>{const _0x1aaecf=_0x58271b,_0xce14ec=_0xbd088e[_0x1aaecf(0x61a)][_0x1aaecf(0x156)](_0x1aaecf(0xe03)),_0x2887c5=_0xbd088e[_0x1aaecf(0x61a)]['closest'](_0x1aaecf(0xe70)),_0x14fcc3=_0xbd088e['target'][_0x1aaecf(0x156)]('.delete-hidden-shortcut-btn'),_0x4e343b=document[_0x1aaecf(0x8a9)]('additional-shortcuts-modal');if(_0xce14ec)_0x4e343b[_0x1aaecf(0xb12)]['add'](_0x1aaecf(0x9cf)),handleShortcutClick(_0xce14ec[_0x1aaecf(0xd34)]['id']);else{if(_0x2887c5)_0x4e343b[_0x1aaecf(0xb12)][_0x1aaecf(0x786)]('hidden'),openShortcutEditor(_0x2887c5[_0x1aaecf(0xd34)]['id']);else{if(_0x14fcc3){const _0x4ea052=_0x14fcc3[_0x1aaecf(0xd34)]['id'],_0x192668=blueprintShortcuts[_0x1aaecf(0x6bf)](_0x356778=>_0x356778['id']===_0x4ea052)?.[_0x1aaecf(0x835)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x192668+'\x22?',async()=>{const _0x2de93b=_0x1aaecf,_0x3fdfe4=blueprintShortcuts[_0x2de93b(0x58f)](_0xea7381=>_0xea7381['id']!==_0x4ea052);try{const _0x5d3d3e=doc(db,_0x2de93b(0x18b),_0x2de93b(0xaba));await setDoc(_0x5d3d3e,{'blueprintShortcuts':_0x3fdfe4},{'merge':!![]});}catch(_0x228006){console[_0x2de93b(0xce3)]('Error\x20deleting\x20shortcut:',_0x228006);}});}}}}),document[_0x58271b(0x8a9)]('blueprint-shortcut-container')[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x198eea=>{const _0x5679e7=_0x58271b,_0x5aea43=_0x198eea['target']['closest'](_0x5679e7(0xb90)),_0x4148cb=_0x198eea[_0x5679e7(0x61a)][_0x5679e7(0x156)]('.edit-shortcut-btn'),_0x5bef2e=_0x198eea[_0x5679e7(0x61a)][_0x5679e7(0x156)](_0x5679e7(0x2e7));if(_0x4148cb)openShortcutEditor(_0x4148cb['dataset']['id']);else{if(_0x5bef2e){const _0x54eb54=_0x5bef2e['dataset']['id'],_0x4e3e07=blueprintShortcuts[_0x5679e7(0x6bf)](_0x4be062=>_0x4be062['id']===_0x54eb54)?.[_0x5679e7(0x835)];showConfirmation(_0x5679e7(0xb17)+_0x4e3e07+'\x22?',async()=>{const _0x373f2d=_0x5679e7,_0x484935=blueprintShortcuts[_0x373f2d(0x58f)](_0x241e3c=>_0x241e3c['id']!==_0x54eb54);try{const _0xeb8b2f=doc(db,_0x373f2d(0x18b),'dashboardConfig');await setDoc(_0xeb8b2f,{'blueprintShortcuts':_0x484935},{'merge':!![]});}catch(_0x5a1895){console[_0x373f2d(0xce3)](_0x373f2d(0x5e7),_0x5a1895);}});}else _0x5aea43&&handleShortcutClick(_0x5aea43[_0x5679e7(0xd34)]['id']);}}),document[_0x58271b(0x8a9)](_0x58271b(0x435))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>openShortcutEditor(null)),document[_0x58271b(0x8a9)](_0x58271b(0xa49))['addEventListener'](_0x58271b(0xcc3),()=>{const _0x1e9ea8=_0x58271b;document[_0x1e9ea8(0x8a9)](_0x1e9ea8(0x665))[_0x1e9ea8(0xb12)][_0x1e9ea8(0x786)](_0x1e9ea8(0x9cf));}),document[_0x58271b(0x8a9)]('save-shortcut-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),saveShortcutChanges),document[_0x58271b(0x8a9)](_0x58271b(0x451))[_0x58271b(0xd68)](_0x58271b(0xcc3),async()=>{const _0x26e8c0=_0x58271b,_0x885e6c=document['getElementById'](_0x26e8c0(0x2bd)),_0x31bf8f=document[_0x26e8c0(0x8a9)](_0x26e8c0(0x961));_0x885e6c['files'][_0x26e8c0(0x14c)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x885e6c[_0x26e8c0(0x62c)][0x0],_0x31bf8f[_0x26e8c0(0x62c)][0x0]||null):showMessage(_0x26e8c0(0xd71));}),document[_0x58271b(0x8a9)](_0x58271b(0xa6f))['addEventListener'](_0x58271b(0xcc3),async _0x29d59f=>{const _0x39a858=_0x58271b,_0x545096=document['getElementById'](_0x39a858(0xa6f)),_0x3aa006=_0x29d59f['target'][_0x39a858(0x156)](_0x39a858(0x8e3)),_0x4a2b19=_0x29d59f[_0x39a858(0x61a)][_0x39a858(0x156)](_0x39a858(0x7bd)),_0xf03c3=_0x29d59f['target'][_0x39a858(0x156)](_0x39a858(0x9b2)),_0x123bef=_0x29d59f[_0x39a858(0x61a)][_0x39a858(0x156)](_0x39a858(0x35e)),_0x42f0c1=_0x29d59f[_0x39a858(0x61a)][_0x39a858(0x156)](_0x39a858(0x46d)),_0x374bd8=_0x29d59f['target'][_0x39a858(0x156)](_0x39a858(0xbe3));if(_0x3aa006){cameFromBlueprint=!![];const _0x5034a9=_0x3aa006['dataset'][_0x39a858(0x782)];showQuizDetailView(_0x5034a9),_0x545096['classList'][_0x39a858(0x786)](_0x39a858(0x9cf));}else{if(_0x4a2b19){const _0x332cc9=_0x4a2b19[_0x39a858(0xd34)][_0x39a858(0x90b)],_0x1c55fd=_0x4a2b19[_0x39a858(0xd34)][_0x39a858(0x782)],_0x30a205=allQuizzesGlobal[_0x39a858(0x6bf)](_0x1e38d9=>_0x1e38d9['id']===_0x1c55fd),_0x544475=_0x30a205?_0x30a205[_0x39a858(0x5cc)]:_0x39a858(0x9ed);showConfirmation(_0x39a858(0xe56)+_0x544475+_0x39a858(0xbc3),async()=>{const _0x5208c3=_0x39a858;try{const _0x621557=doc(db,_0x5208c3(0x407)+appId+_0x5208c3(0x5b8),currentBlueprintProjectId);await updateDoc(_0x621557,{['topics.'+_0x332cc9+'.linkedQuizIds']:arrayRemove(_0x1c55fd)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x332cc9),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x14d983){console[_0x5208c3(0xce3)](_0x5208c3(0x6ec),_0x14d983),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0xf03c3){cameFromBlueprint=!![];const _0x10e0ac=_0xf03c3[_0x39a858(0xd34)][_0x39a858(0x782)],_0x2dba9b=allQuizzesGlobal[_0x39a858(0x6bf)](_0x578fcd=>_0x578fcd['id']===_0x10e0ac);_0x2dba9b&&(startPresentation(_0x2dba9b),_0x545096[_0x39a858(0xb12)][_0x39a858(0x786)](_0x39a858(0x9cf)));}else{if(_0x123bef){cameFromBlueprint=!![];const _0x590536=_0x123bef[_0x39a858(0xd34)][_0x39a858(0x782)],_0x376b9d=allQuizzesGlobal[_0x39a858(0x6bf)](_0x3282f3=>_0x3282f3['id']===_0x590536);_0x376b9d&&(currentQuizData=_0x376b9d,startAdminTest(),_0x545096[_0x39a858(0xb12)][_0x39a858(0x786)](_0x39a858(0x9cf)));}else{if(_0x42f0c1)cameFromBlueprint=!![],handleStartLiveRace(_0x42f0c1['dataset'][_0x39a858(0x782)]),_0x545096[_0x39a858(0xb12)][_0x39a858(0x786)](_0x39a858(0x9cf));else{if(_0x374bd8){cameFromBlueprint=!![];const _0x4784c0=_0x374bd8['dataset']['quizId'],_0x25d0eb=_0x374bd8['dataset'][_0x39a858(0x301)],_0x24afd5=allQuizzesGlobal[_0x39a858(0x6bf)](_0x4cb579=>_0x4cb579['id']===_0x4784c0);_0x24afd5&&(showGameStartConfirmationModal(_0x4784c0,_0x25d0eb,_0x24afd5[_0x39a858(0x5cc)]),_0x545096[_0x39a858(0xb12)][_0x39a858(0x786)]('hidden'));}}}}}}}),document[_0x58271b(0x8a9)](_0x58271b(0x682))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x44739f=_0x58271b;document[_0x44739f(0x8a9)]('manual-blueprint-modal')[_0x44739f(0xb12)]['remove']('hidden'),document[_0x44739f(0x8a9)](_0x44739f(0x197))['value']='',document['getElementById'](_0x44739f(0x62f))[_0x44739f(0x61e)]='',document['getElementById'](_0x44739f(0x625))[_0x44739f(0x61e)]='';}),document[_0x58271b(0x8a9)]('cancel-manual-bp-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x44fba2=_0x58271b;document[_0x44fba2(0x8a9)](_0x44fba2(0xc95))[_0x44fba2(0xb12)][_0x44fba2(0x786)](_0x44fba2(0x9cf));}),document[_0x58271b(0x8a9)](_0x58271b(0x558))[_0x58271b(0xd68)]('click',handleManualBlueprintSave),document[_0x58271b(0x8a9)](_0x58271b(0x12a))[_0x58271b(0xd68)]('click',()=>document[_0x58271b(0x8a9)](_0x58271b(0x1e1))[_0x58271b(0xb12)][_0x58271b(0x786)]('hidden')),document[_0x58271b(0x8a9)](_0x58271b(0x80b))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleSaveBlueprintPageSettings),document[_0x58271b(0x8a9)](_0x58271b(0x711))[_0x58271b(0xd68)](_0x58271b(0xcc3),openBlueprintQuizSettings),document[_0x58271b(0x8a9)]('save-blueprint-as-project-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),saveBlueprintProject),document['getElementById'](_0x58271b(0x9c4))[_0x58271b(0xd68)](_0x58271b(0xcc3),showBlueprintProjects),document[_0x58271b(0x8a9)](_0x58271b(0x2cc))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x9ffee=_0x58271b;document[_0x9ffee(0x8a9)](_0x9ffee(0x6a8))['classList'][_0x9ffee(0x786)](_0x9ffee(0x9cf));}),document[_0x58271b(0x8a9)]('blueprint-project-list')[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x530f60=>{const _0x156863=_0x58271b,_0x277127=_0x530f60[_0x156863(0x61a)][_0x156863(0x156)](_0x156863(0xc61)),_0x50d69b=_0x530f60[_0x156863(0x61a)][_0x156863(0x156)]('.delete-bp-project-btn');if(_0x277127)displayBlueprintProjectManager(_0x277127['dataset']['id']);else _0x50d69b&&handleDeepDeleteBlueprintProject(_0x50d69b[_0x156863(0xd34)]['id']);}),document[_0x58271b(0x8a9)]('back-to-dashboard-from-bp-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x49a545=_0x58271b;currentBlueprintProjectId=null,currentProjectId=null,document[_0x49a545(0x8a9)]('blueprint-project-manager-view')[_0x49a545(0xb12)][_0x49a545(0x786)](_0x49a545(0x9cf)),showView(_0x49a545(0x88a));}),document[_0x58271b(0x8a9)](_0x58271b(0x7c2))[_0x58271b(0xd68)](_0x58271b(0xcc3),addTopicToProject),document[_0x58271b(0x8a9)](_0x58271b(0x78f))[_0x58271b(0xd68)]('click',async _0x32e787=>{const _0x43a65d=_0x58271b,_0x29cc7c=_0x32e787['target'][_0x43a65d(0x156)](_0x43a65d(0x9d0));if(!_0x29cc7c)return;const _0x1f33ed=_0x29cc7c['dataset'][_0x43a65d(0x90b)],_0x52f4e1=_0x32e787['target']['closest'](_0x43a65d(0xd6c)),_0x309d78=_0x32e787[_0x43a65d(0x61a)]['closest']('.bp-create-content-quiz-btn'),_0x48f090=_0x32e787[_0x43a65d(0x61a)][_0x43a65d(0x156)](_0x43a65d(0xc0b)),_0x53d28c=_0x32e787['target']['closest']('.bp-open-topic-bank-btn'),_0x1369b9=_0x32e787[_0x43a65d(0x61a)][_0x43a65d(0x156)](_0x43a65d(0x5e0)),_0x55981b=_0x32e787[_0x43a65d(0x61a)][_0x43a65d(0x156)](_0x43a65d(0xd9f)),_0x18c3e3=_0x32e787['target'][_0x43a65d(0x156)](_0x43a65d(0x57b)),_0xe41597=_0x32e787['target'][_0x43a65d(0x156)](_0x43a65d(0xd54)),_0x5c41d5=_0x3adb32=>{const _0x454c17=_0x43a65d,_0x4df427=_0x3adb32['querySelector'](_0x454c17(0x5f0))[_0x454c17(0xab8)][_0x454c17(0x937)](),_0x42c734=_0x3adb32[_0x454c17(0x156)]('.space-y-1.pl-4')[_0x454c17(0xc45)],_0x2e8c9e=_0x42c734?_0x42c734[_0x454c17(0xab8)]['trim']():'';return _0x2e8c9e+':\x20'+_0x4df427;};if(_0x53d28c)openTopicQuizBank(_0x1f33ed);else{if(_0x52f4e1){const _0x2e10c1=_0x5c41d5(_0x29cc7c);selectProjectAndGenerateBlueprintQuiz(_0x2e10c1,null,_0x1f33ed,!![]);}else{if(_0x309d78){const _0x19ccb2=_0x5c41d5(_0x29cc7c);try{const _0x378183=doc(db,_0x43a65d(0x407)+appId+_0x43a65d(0x581)+currentBlueprintProjectId+_0x43a65d(0x933),_0x1f33ed),_0x4cd260=await getDoc(_0x378183);if(_0x4cd260['exists']()){const _0x10ad95=_0x4cd260[_0x43a65d(0x860)]()[_0x43a65d(0x5a3)],_0x5893d4=document['createElement'](_0x43a65d(0x98d)),_0x112ea3=_0x1dd548=>{const _0x29ceaf=_0x43a65d;if(!_0x1dd548)return'';return _0x5893d4[_0x29ceaf(0x568)]=_0x1dd548,_0x5893d4['textContent']||_0x5893d4[_0x29ceaf(0x441)]||'';},_0x23a0df=(_0x112ea3(_0x10ad95['point'])+'\x20'+_0x112ea3(_0x10ad95[_0x43a65d(0xdf4)])+'\x20'+_0x112ea3(_0x10ad95[_0x43a65d(0xa76)]))[_0x43a65d(0x937)]();selectProjectAndGenerateBlueprintQuiz(_0x19ccb2,_0x23a0df,_0x1f33ed,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x55c9e3){console[_0x43a65d(0xce3)]('Error\x20preparing\x20content\x20quiz:',_0x55c9e3),showMessage(_0x43a65d(0xa25));}}else{if(_0x48f090){const _0x319d9f=_0x5c41d5(_0x29cc7c);selectProjectAndGenerateBlueprintQuiz(_0x319d9f,null,_0x1f33ed,![]);}else{if(_0x1369b9){const _0xf1d893=doc(db,_0x43a65d(0x407)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1cdfd4=await getDoc(_0xf1d893);if(_0x1cdfd4[_0x43a65d(0xa90)]()){const _0x2a7ab1=_0x1cdfd4[_0x43a65d(0x860)](),_0x561e5c=_0x2a7ab1[_0x43a65d(0xc57)][_0x1f33ed];if(_0x561e5c&&_0x561e5c[_0x43a65d(0x9fb)]===_0x43a65d(0xcf5))try{const _0x2f7ba7=doc(db,_0x43a65d(0x407)+appId+_0x43a65d(0x581)+currentBlueprintProjectId+_0x43a65d(0x933),_0x1f33ed),_0x57206c=await getDoc(_0x2f7ba7);if(_0x57206c[_0x43a65d(0xa90)]()){const _0x2de45b=_0x57206c[_0x43a65d(0x860)]()[_0x43a65d(0x5a3)];document[_0x43a65d(0x8a9)](_0x43a65d(0x730))[_0x43a65d(0xab8)]=_0x43a65d(0x797)+_0x5c41d5(_0x29cc7c),document['getElementById'](_0x43a65d(0x739))[_0x43a65d(0x568)]=_0x2de45b[_0x43a65d(0x940)],document['getElementById'](_0x43a65d(0xbbb))[_0x43a65d(0x568)]=_0x2de45b[_0x43a65d(0xdf4)],document[_0x43a65d(0x8a9)](_0x43a65d(0x7ed))[_0x43a65d(0x568)]=_0x2de45b['summary'];const _0x566fd7=document['getElementById']('applicationContent');_0x2de45b[_0x43a65d(0x935)]?(currentApplicationData=_0x2de45b['applicationData'],_0x566fd7[_0x43a65d(0x568)]=currentApplicationData[_0x43a65d(0x4cb)]((_0x181fb2,_0x449db8)=>_0x43a65d(0x5c2)+(_0x449db8+0x1)+'.\x20'+marked[_0x43a65d(0x1aa)](_0x181fb2[_0x43a65d(0x824)])+_0x43a65d(0x196)+_0x449db8+_0x43a65d(0x2fa)+_0x181fb2[_0x43a65d(0x487)][_0x43a65d(0x4cb)]((_0x412e62,_0x333234)=>_0x43a65d(0x5be)+_0x449db8+',\x20'+_0x333234+_0x43a65d(0x969)+String[_0x43a65d(0x7fd)](0x61+_0x333234)+'.\x20'+marked[_0x43a65d(0x1aa)](_0x412e62)+_0x43a65d(0x896))['join']('')+'</div></div>')[_0x43a65d(0x656)]('')):(currentApplicationData=[],_0x566fd7['innerHTML']=_0x2de45b[_0x43a65d(0x371)]||_0x2de45b[_0x43a65d(0xc76)]),document['getElementById']('lesson-loader')[_0x43a65d(0xb12)][_0x43a65d(0x786)](_0x43a65d(0x9cf)),document[_0x43a65d(0x8a9)](_0x43a65d(0xaad))['classList'][_0x43a65d(0x1e9)]('hidden'),document['getElementById'](_0x43a65d(0x903))[_0x43a65d(0xb12)][_0x43a65d(0x1e9)](_0x43a65d(0x9cf)),window[_0x43a65d(0xb1b)]&&MathJax[_0x43a65d(0x4a5)]([document[_0x43a65d(0x8a9)]('lesson-view-content')]);}else showMessage(_0x43a65d(0xb10));}catch(_0x923a70){console[_0x43a65d(0xce3)](_0x43a65d(0x862),_0x923a70),showMessage(_0x43a65d(0xcd9));}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x55981b){const _0x4a5a06=_0x5c41d5(_0x29cc7c),_0x2a2446=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x64201=await getDoc(_0x2a2446);if(_0x64201[_0x43a65d(0xa90)]()){const _0x4c4979=_0x64201[_0x43a65d(0x860)]();generateAndSaveLessonForBlueprint(_0x1f33ed,_0x4a5a06,_0x4c4979[_0x43a65d(0x7bb)]);}}else{if(_0x18c3e3)editTopicInProject(_0x1f33ed);else _0xe41597&&deleteTopicFromProject(_0x1f33ed);}}}}}}}),document[_0x58271b(0x8a9)](_0x58271b(0x341))['addEventListener'](_0x58271b(0xcc3),handleFixLessonLatex),document['getElementById']('export-lesson-to-pdf-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),handleExportLessonToPDF),document['getElementById'](_0x58271b(0xe5b))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x5362cb=_0x58271b;document[_0x5362cb(0x8a9)](_0x5362cb(0x903))['classList']['add'](_0x5362cb(0x9cf));});const _0x50524e=document[_0x58271b(0x8a9)](_0x58271b(0xa2a)),_0x377b9d=document[_0x58271b(0x8a9)](_0x58271b(0xc7d));_0x50524e[_0x58271b(0xd68)](_0x58271b(0x39f),()=>{const _0x473917=_0x58271b;_0x377b9d[_0x473917(0xb12)][_0x473917(0x830)](_0x473917(0x9cf),!_0x50524e[_0x473917(0xaa0)]);});const _0x17adbb=document['getElementById'](_0x58271b(0xae6)),_0x24b2e7=document[_0x58271b(0x8a9)](_0x58271b(0x7a1));_0x17adbb[_0x58271b(0xd68)]('change',()=>{const _0x56706c=_0x58271b;_0x24b2e7['classList'][_0x56706c(0x830)]('hidden',!_0x17adbb[_0x56706c(0xaa0)]);});const _0x41cf53=document[_0x58271b(0x8a9)](_0x58271b(0xd8d)),_0x1b8113=document['getElementById'](_0x58271b(0xc5a));_0x41cf53[_0x58271b(0xd68)](_0x58271b(0x39f),()=>{const _0x391d9b=_0x58271b;_0x1b8113[_0x391d9b(0xb12)][_0x391d9b(0x830)](_0x391d9b(0x9cf),!_0x41cf53[_0x391d9b(0xaa0)]);});const _0x4ded98=document['getElementById'](_0x58271b(0xe33)),_0x5d4745=async _0x25e989=>{const _0x242fa1=_0x58271b,_0x3ee9ca=document[_0x242fa1(0x8a9)](_0x242fa1(0xe33)),_0x4f08f0=_0x3ee9ca[_0x242fa1(0xd34)]['currentMode'],_0x38f991=document[_0x242fa1(0x8a9)](_0x242fa1(0xb69));_0x3ee9ca[_0x242fa1(0xb12)][_0x242fa1(0x786)](_0x242fa1(0x9cf));if(_0x4f08f0===_0x242fa1(0x58b)){const _0x40868f=_0x38f991['value'],_0x306274={'answer':_0x40868f,'wasConfident':_0x25e989};proceedToNextQuestion(_0x306274);}else{if(_0x4f08f0==='sync'){const _0x55011b=_0x38f991[_0x242fa1(0xd34)][_0x242fa1(0x99d)],_0x4c7ed9=JSON[_0x242fa1(0xbc4)](_0x38f991[_0x242fa1(0xd34)][_0x242fa1(0x824)]),_0xf93e65=JSON['parse'](_0x38f991['dataset'][_0x242fa1(0x489)]),_0x35d92c=_0x38f991[_0x242fa1(0xd34)]['playerName'];handleSyncAnswerSubmit(_0x55011b,_0x4c7ed9,_0xf93e65,_0x35d92c,_0x25e989);}}_0x3ee9ca[_0x242fa1(0xd34)][_0x242fa1(0xad6)]='';};document[_0x58271b(0x8a9)]('confirm-confident')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>_0x5d4745(!![])),document[_0x58271b(0x8a9)](_0x58271b(0x79c))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>_0x5d4745(![])),liveGameView[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x4a9af1=>{const _0x2d139b=_0x58271b,_0x38f729=_0x4a9af1[_0x2d139b(0x61a)][_0x2d139b(0x156)](_0x2d139b(0x5b3));if(_0x38f729){const _0x1d4ce5=_0x38f729[_0x2d139b(0xd34)][_0x2d139b(0x162)];_0x1d4ce5&&handleKickPlayerSync(_0x1d4ce5);}});const _0x178c46=document[_0x58271b(0x8a9)](_0x58271b(0xd87)),_0x5e15e6=document[_0x58271b(0x8a9)](_0x58271b(0xd29));_0x5e15e6['addEventListener'](_0x58271b(0xcc3),()=>{const _0x23b338=_0x58271b;document[_0x23b338(0x8a9)](_0x23b338(0x2b5))[_0x23b338(0xb12)]['add'](_0x23b338(0x9cf));}),_0x178c46[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x24f556=_0x58271b,_0x501370=document[_0x24f556(0x8a9)](_0x24f556(0xb37))[_0x24f556(0x61e)],_0x3f855b=document[_0x24f556(0x8a9)](_0x24f556(0x855))[_0x24f556(0x61e)],_0xf7a68a=document[_0x24f556(0x8a9)](_0x24f556(0xa01))['checked'];document[_0x24f556(0x8a9)]('confirm-game-start-modal')[_0x24f556(0xb12)]['add']('hidden');switch(_0x3f855b){case _0x24f556(0xe81):handleStartLiveRace(_0x501370,_0xf7a68a);break;case _0x24f556(0xbaf):handleStartTeamQuiz(_0x501370,_0xf7a68a);break;case _0x24f556(0xa2d):handleStartGroupMode(_0x501370,_0xf7a68a);break;case _0x24f556(0xb30):const _0x1b8502=document[_0x24f556(0x2b0)]('input[name=\x22syncVariant\x22]:checked')['value']||'classic';handleStartSyncMode(_0x501370,_0xf7a68a,_0x1b8502);break;}}),document[_0x58271b(0x8a9)](_0x58271b(0x87c))[_0x58271b(0xd68)]('click',handleJoinGroupActivity),liveGameView[_0x58271b(0xd68)](_0x58271b(0xcc3),_0xb8aa69=>{const _0x31c18d=_0x58271b,_0x40503d=_0xb8aa69[_0x31c18d(0x61a)]['closest'](_0x31c18d(0x154));document[_0x31c18d(0x6b8)](_0x31c18d(0xba1))[_0x31c18d(0xacf)](_0x10c98e=>{const _0x1ab471=_0x31c18d;(!_0x40503d||_0x10c98e['id']!==_0x40503d[_0x1ab471(0xd34)][_0x1ab471(0xe41)])&&_0x10c98e['classList'][_0x1ab471(0x1e9)](_0x1ab471(0x2b9));});if(!_0x40503d)return;const _0x2a4617=_0x40503d['dataset'][_0x31c18d(0xe41)],_0xa2ab10=document[_0x31c18d(0x8a9)](_0x2a4617);_0xa2ab10&&_0xa2ab10['classList'][_0x31c18d(0x830)](_0x31c18d(0x2b9));}),liveGameView[_0x58271b(0xd68)]('click',_0x25acba=>{const _0x101902=_0x58271b;if(_0x25acba['target']['classList'][_0x101902(0x48e)](_0x101902(0xc9d))){const _0x37cc8f=_0x25acba[_0x101902(0x61a)][_0x101902(0xd34)][_0x101902(0x162)];_0x37cc8f&&handleKickPlayer(_0x37cc8f);}}),document[_0x58271b(0x8a9)](_0x58271b(0xe2d))['addEventListener'](_0x58271b(0x8d7),()=>document['getElementById']('save-project-name-btn')[_0x58271b(0xb12)]['remove'](_0x58271b(0x9cf))),document[_0x58271b(0x8a9)](_0x58271b(0xa8a))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleSaveProjectName),document[_0x58271b(0x8a9)]('project-title')[_0x58271b(0xd68)](_0x58271b(0xcd6),_0x5cc3af=>{const _0x45f742=_0x58271b;_0x5cc3af['key']===_0x45f742(0x1ee)&&(_0x5cc3af[_0x45f742(0x219)](),_0x5cc3af[_0x45f742(0x61a)]['blur'](),handleSaveProjectName());}),document[_0x58271b(0x8a9)](_0x58271b(0x244))['addEventListener'](_0x58271b(0xcc3),()=>{const _0x540b11=_0x58271b;document[_0x540b11(0x8a9)](_0x540b11(0x65a))['classList']['remove'](_0x540b11(0x9cf));}),document[_0x58271b(0x8a9)]('cancel-bulk-quiz-settings-btn')['addEventListener']('click',()=>{const _0x2e1143=_0x58271b;document[_0x2e1143(0x8a9)](_0x2e1143(0x65a))[_0x2e1143(0xb12)][_0x2e1143(0x786)]('hidden');}),document[_0x58271b(0x8a9)](_0x58271b(0x7f2))['addEventListener'](_0x58271b(0xcc3),handleBulkUpdateQuizSettings),document['getElementById'](_0x58271b(0x360))['addEventListener'](_0x58271b(0xcc3),handleModeSwitch),document[_0x58271b(0x8a9)](_0x58271b(0x514))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleUpdateOldQuizzes),document['getElementById'](_0x58271b(0x7fc))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleResetProjectOrder),document[_0x58271b(0x8a9)](_0x58271b(0x437))['addEventListener']('click',handleSaveVisibilitySettings),document[_0x58271b(0x8a9)](_0x58271b(0xadf))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleAddCustomMathTopic),document['getElementById'](_0x58271b(0x511))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleSelectAllTopics),document['getElementById'](_0x58271b(0xb3f))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleDeselectAllTopics),document[_0x58271b(0x8a9)](_0x58271b(0xc52))[_0x58271b(0xd68)]('click',()=>{const _0x136be3=_0x58271b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x136be3(0x88a));}}),document['getElementById'](_0x58271b(0x988))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0xfa302=_0x58271b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0xfa302(0x535));}}),document['getElementById'](_0x58271b(0x868))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x5a427e=_0x58271b;showView(_0x5a427e(0x88a));}),document[_0x58271b(0x8a9)]('modal-close-btn')[_0x58271b(0xd68)]('click',()=>{const _0x574e04=_0x58271b;messageModal[_0x574e04(0xb12)][_0x574e04(0x786)](_0x574e04(0x9cf)),typeof modalConfirmAction===_0x574e04(0xd26)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x58271b(0x9f7))['addEventListener'](_0x58271b(0xcc3),()=>createProjectModal[_0x58271b(0xb12)]['remove'](_0x58271b(0x9cf))),document[_0x58271b(0x8a9)]('cancel-create-project-btn')['addEventListener']('click',()=>createProjectModal[_0x58271b(0xb12)][_0x58271b(0x786)](_0x58271b(0x9cf))),document[_0x58271b(0x8a9)]('cancel-admin-login-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>adminPasswordModal[_0x58271b(0xb12)][_0x58271b(0x786)](_0x58271b(0x9cf))),document[_0x58271b(0x8a9)](_0x58271b(0x474))['addEventListener'](_0x58271b(0xcc3),handleAdminLogin),document[_0x58271b(0x8a9)]('admin-password-input')['addEventListener'](_0x58271b(0x82e),_0x37ae00=>{const _0x2cf03a=_0x58271b;if(_0x37ae00[_0x2cf03a(0x2c4)]===_0x2cf03a(0x1ee))handleAdminLogin();}),document[_0x58271b(0x8a9)]('cancel-delete-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x510317=_0x58271b;confirmationModal[_0x510317(0xb12)][_0x510317(0x786)](_0x510317(0x9cf)),typeof cancelAction===_0x510317(0xd26)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x58271b(0x51a))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x255ecf=_0x58271b;confirmAction&&confirmAction(),confirmationModal[_0x255ecf(0xb12)][_0x255ecf(0x786)](_0x255ecf(0x9cf)),confirmAction=null,cancelAction=null;}),document[_0x58271b(0x8a9)](_0x58271b(0x633))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>renameQuizModal[_0x58271b(0xb12)][_0x58271b(0x786)](_0x58271b(0x9cf))),document[_0x58271b(0x8a9)]('confirm-rename-quiz-btn')['addEventListener']('click',confirmRenameQuiz),document[_0x58271b(0x8a9)](_0x58271b(0xdb3))[_0x58271b(0xd68)]('click',()=>moveQuizModal[_0x58271b(0xb12)]['add'](_0x58271b(0x9cf))),document[_0x58271b(0x8a9)](_0x58271b(0x145))[_0x58271b(0xd68)](_0x58271b(0xcc3),confirmMoveQuiz),document[_0x58271b(0x8a9)](_0x58271b(0x6de))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>quizSettingsModal[_0x58271b(0xb12)][_0x58271b(0x786)]('hidden')),document[_0x58271b(0x8a9)]('confirm-quiz-settings-btn')[_0x58271b(0xd68)]('click',confirmQuizSettings),document[_0x58271b(0x8a9)](_0x58271b(0x455))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>quizStatusModal[_0x58271b(0xb12)]['add'](_0x58271b(0x9cf))),document['getElementById']('confirm-quiz-status-btn')[_0x58271b(0xd68)]('click',confirmQuizStatus);const _0x54703a=document[_0x58271b(0x8a9)](_0x58271b(0xb40));document[_0x58271b(0x8a9)](_0x58271b(0xd3e))[_0x58271b(0xd68)]('click',()=>{const _0x124c5f=_0x58271b;_0x54703a[_0x124c5f(0xb12)][_0x124c5f(0x786)]('hidden');}),document[_0x58271b(0x8a9)](_0x58271b(0xab0))['addEventListener'](_0x58271b(0xcc3),async()=>{const _0x2b9271=_0x58271b,_0x4f95a4=allQuizzes[_0x2b9271(0x6bf)](_0x17cddf=>_0x17cddf['id']===actionTargetId);_0x4f95a4?(currentQuizData=_0x4f95a4,exportQuizAsWorksheetPDF()):showMessage(_0x2b9271(0x8ee)),_0x54703a['classList']['add'](_0x2b9271(0x9cf));}),document[_0x58271b(0x8a9)]('export-tutor-pdf-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),async()=>{const _0x2e0bd6=_0x58271b,_0x3c3c51=allQuizzes[_0x2e0bd6(0x6bf)](_0x777d73=>_0x777d73['id']===actionTargetId);_0x3c3c51?(currentQuizData=_0x3c3c51,exportQuizAsTutorPDF()):showMessage(_0x2e0bd6(0x8ee)),_0x54703a[_0x2e0bd6(0xb12)][_0x2e0bd6(0x786)](_0x2e0bd6(0x9cf));});const _0x1d2302=document[_0x58271b(0x8a9)](_0x58271b(0x200));_0x1d2302[_0x58271b(0x568)]=_0x58271b(0x527),_0x1d2302[_0x58271b(0xd68)](_0x58271b(0xcc3),openGlobalActivityModal),document[_0x58271b(0x8a9)](_0x58271b(0x1ae))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x165c6d=_0x58271b;document[_0x165c6d(0x8a9)](_0x165c6d(0xc19))[_0x165c6d(0xb12)][_0x165c6d(0x786)](_0x165c6d(0x9cf));}),document[_0x58271b(0x8a9)]('global-quiz-search-input')[_0x58271b(0xd68)](_0x58271b(0x5ea),_0x4319b2=>{const _0x35cea6=_0x58271b;renderGlobalActivityList(_0x4319b2[_0x35cea6(0x61a)][_0x35cea6(0x61e)]);}),document['getElementById'](_0x58271b(0x5df))[_0x58271b(0xd68)]('click',_0x4eb3e8=>{const _0x555d59=_0x58271b,_0x4b9a14=_0x4eb3e8[_0x555d59(0x61a)][_0x555d59(0x156)]('.game-start-btn');if(!_0x4b9a14)return;const _0x2033cc=_0x4b9a14[_0x555d59(0xd34)]['id'],_0x51b4b1=_0x4b9a14[_0x555d59(0xd34)][_0x555d59(0x301)],_0x14689a=allQuizzesGlobal[_0x555d59(0x6bf)](_0x5bf3fc=>_0x5bf3fc['id']===_0x2033cc);_0x14689a&&(document[_0x555d59(0x8a9)](_0x555d59(0xc19))[_0x555d59(0xb12)]['add'](_0x555d59(0x9cf)),_0x51b4b1===_0x555d59(0xe81)?handleStartLiveRace(_0x2033cc):showGameStartConfirmationModal(_0x2033cc,_0x51b4b1,_0x14689a['topic']));}),document[_0x58271b(0x8a9)]('project-search-input')[_0x58271b(0xd68)](_0x58271b(0x5ea),renderProjects),document[_0x58271b(0x8a9)](_0x58271b(0x466))['addEventListener'](_0x58271b(0x39f),async()=>{const _0x193b3f=_0x58271b,_0xc8ac01=document[_0x193b3f(0x8a9)](_0x193b3f(0x466))[_0x193b3f(0x61e)],_0x51924e=doc(db,_0x193b3f(0x18b),'dashboardConfig');try{await setDoc(_0x51924e,{'projectSort':_0xc8ac01},{'merge':!![]});}catch(_0x19a462){console['error']('Error\x20updating\x20sort\x20preference:',_0x19a462),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x58271b(0x8a9)](_0x58271b(0xd43))[_0x58271b(0xd68)](_0x58271b(0x5ea),renderQuizzes),document[_0x58271b(0x8a9)](_0x58271b(0x426))['addEventListener'](_0x58271b(0xcc3),()=>{const _0x52fcfa=_0x58271b;globalDashboardSettings[_0x52fcfa(0x22e)]=_0x52fcfa(0x734),saveUserPreference(_0x52fcfa(0x22e),'grid'),renderProjects();}),document[_0x58271b(0x8a9)]('list-view-btn')['addEventListener']('click',()=>{const _0x517c29=_0x58271b;globalDashboardSettings[_0x517c29(0x22e)]=_0x517c29(0xa89),saveUserPreference(_0x517c29(0x22e),_0x517c29(0xa89)),renderProjects();}),manageTab['addEventListener']('click',()=>switchProjectTab('manage')),resultsTab[_0x58271b(0xd68)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>switchProjectTab('leaderboard')),document['getElementById'](_0x58271b(0xcf9))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>switchQuizDetailTab(_0x58271b(0x7f1))),document[_0x58271b(0x8a9)]('scores-tab-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>switchQuizDetailTab(_0x58271b(0x85d))),document[_0x58271b(0x8a9)]('leaderboard-quiz-tab-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>switchQuizDetailTab(_0x58271b(0x950))),document[_0x58271b(0x8a9)](_0x58271b(0x2a2))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>switchQuizDetailTab(_0x58271b(0x48d))),document[_0x58271b(0x8a9)]('analyze-strengths-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),handleAnalyzeClass),generateWorksheetBtn[_0x58271b(0xd68)](_0x58271b(0xcc3),generateWorksheet);const _0x577d33=document[_0x58271b(0x8a9)](_0x58271b(0x506)),_0x1e0d8d=document['getElementById'](_0x58271b(0x7a2)),_0x49f0e2=document[_0x58271b(0x8a9)](_0x58271b(0x3db)),_0x35fe30=document[_0x58271b(0x8a9)](_0x58271b(0x2d6)),_0xb09d18=document[_0x58271b(0x8a9)](_0x58271b(0x26e)),_0x275548=document['getElementById'](_0x58271b(0x6dc));topicTab[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x42d266=_0x58271b;topicTab[_0x42d266(0xb12)][_0x42d266(0x786)](_0x42d266(0x6bc)),textTab[_0x42d266(0xb12)][_0x42d266(0x1e9)](_0x42d266(0x6bc)),fileTab[_0x42d266(0xb12)]['remove']('active'),worksheetTab[_0x42d266(0xb12)]['remove']('active');if(_0x577d33)_0x577d33[_0x42d266(0xb12)][_0x42d266(0x1e9)](_0x42d266(0x6bc));if(_0x49f0e2)_0x49f0e2[_0x42d266(0xb12)][_0x42d266(0x1e9)](_0x42d266(0x6bc));if(_0xb09d18)_0xb09d18[_0x42d266(0xb12)]['remove'](_0x42d266(0x6bc));topicInputArea[_0x42d266(0xb12)]['remove'](_0x42d266(0x9cf)),textInputArea[_0x42d266(0xb12)][_0x42d266(0x786)](_0x42d266(0x9cf)),fileInputArea['classList']['add'](_0x42d266(0x9cf)),worksheetInputArea[_0x42d266(0xb12)][_0x42d266(0x786)](_0x42d266(0x9cf));if(_0x1e0d8d)_0x1e0d8d[_0x42d266(0xb12)][_0x42d266(0x786)](_0x42d266(0x9cf));if(_0x35fe30)_0x35fe30[_0x42d266(0xb12)][_0x42d266(0x786)](_0x42d266(0x9cf));if(_0x275548)_0x275548['classList'][_0x42d266(0x786)](_0x42d266(0x9cf));}),textTab[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x325184=_0x58271b;textTab[_0x325184(0xb12)][_0x325184(0x786)](_0x325184(0x6bc)),topicTab['classList'][_0x325184(0x1e9)](_0x325184(0x6bc)),fileTab['classList'][_0x325184(0x1e9)]('active'),worksheetTab[_0x325184(0xb12)][_0x325184(0x1e9)](_0x325184(0x6bc));if(_0x577d33)_0x577d33[_0x325184(0xb12)][_0x325184(0x1e9)]('active');if(_0x49f0e2)_0x49f0e2['classList']['remove'](_0x325184(0x6bc));if(_0xb09d18)_0xb09d18['classList'][_0x325184(0x1e9)](_0x325184(0x6bc));textInputArea[_0x325184(0xb12)]['remove'](_0x325184(0x9cf)),topicInputArea[_0x325184(0xb12)][_0x325184(0x786)](_0x325184(0x9cf)),fileInputArea[_0x325184(0xb12)]['add'](_0x325184(0x9cf)),worksheetInputArea[_0x325184(0xb12)][_0x325184(0x786)]('hidden');if(_0x1e0d8d)_0x1e0d8d['classList'][_0x325184(0x786)](_0x325184(0x9cf));if(_0x35fe30)_0x35fe30[_0x325184(0xb12)][_0x325184(0x786)](_0x325184(0x9cf));if(_0x275548)_0x275548[_0x325184(0xb12)][_0x325184(0x786)]('hidden');}),fileTab[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x4bfa8d=_0x58271b;fileTab[_0x4bfa8d(0xb12)]['add'](_0x4bfa8d(0x6bc)),topicTab[_0x4bfa8d(0xb12)]['remove'](_0x4bfa8d(0x6bc)),textTab['classList'][_0x4bfa8d(0x1e9)](_0x4bfa8d(0x6bc)),worksheetTab[_0x4bfa8d(0xb12)]['remove']('active');if(_0x577d33)_0x577d33[_0x4bfa8d(0xb12)][_0x4bfa8d(0x1e9)](_0x4bfa8d(0x6bc));if(_0x49f0e2)_0x49f0e2[_0x4bfa8d(0xb12)][_0x4bfa8d(0x1e9)]('active');if(_0xb09d18)_0xb09d18[_0x4bfa8d(0xb12)][_0x4bfa8d(0x1e9)]('active');fileInputArea[_0x4bfa8d(0xb12)][_0x4bfa8d(0x1e9)](_0x4bfa8d(0x9cf)),topicInputArea[_0x4bfa8d(0xb12)]['add'](_0x4bfa8d(0x9cf)),textInputArea['classList'][_0x4bfa8d(0x786)]('hidden'),worksheetInputArea[_0x4bfa8d(0xb12)][_0x4bfa8d(0x786)](_0x4bfa8d(0x9cf));if(_0x1e0d8d)_0x1e0d8d[_0x4bfa8d(0xb12)]['add']('hidden');if(_0x35fe30)_0x35fe30[_0x4bfa8d(0xb12)][_0x4bfa8d(0x786)](_0x4bfa8d(0x9cf));if(_0x275548)_0x275548['classList'][_0x4bfa8d(0x786)](_0x4bfa8d(0x9cf));}),worksheetTab['addEventListener'](_0x58271b(0xcc3),()=>{const _0x26d100=_0x58271b;worksheetTab[_0x26d100(0xb12)][_0x26d100(0x786)]('active'),topicTab[_0x26d100(0xb12)][_0x26d100(0x1e9)](_0x26d100(0x6bc)),textTab[_0x26d100(0xb12)][_0x26d100(0x1e9)]('active'),fileTab[_0x26d100(0xb12)]['remove'](_0x26d100(0x6bc));if(_0x577d33)_0x577d33[_0x26d100(0xb12)]['remove'](_0x26d100(0x6bc));if(_0x49f0e2)_0x49f0e2[_0x26d100(0xb12)][_0x26d100(0x1e9)](_0x26d100(0x6bc));if(_0xb09d18)_0xb09d18[_0x26d100(0xb12)][_0x26d100(0x1e9)]('active');worksheetInputArea['classList'][_0x26d100(0x1e9)](_0x26d100(0x9cf)),topicInputArea[_0x26d100(0xb12)][_0x26d100(0x786)](_0x26d100(0x9cf)),textInputArea[_0x26d100(0xb12)][_0x26d100(0x786)](_0x26d100(0x9cf)),fileInputArea['classList']['add']('hidden');if(_0x1e0d8d)_0x1e0d8d['classList']['add'](_0x26d100(0x9cf));if(_0x35fe30)_0x35fe30[_0x26d100(0xb12)][_0x26d100(0x786)](_0x26d100(0x9cf));if(_0x275548)_0x275548[_0x26d100(0xb12)]['add'](_0x26d100(0x9cf));});const _0x2ee547=document[_0x58271b(0x8a9)]('bank-tab'),_0x59db1=document[_0x58271b(0x8a9)](_0x58271b(0x7f3));_0x2ee547&&_0x2ee547[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x1762a6=_0x58271b;topicTab[_0x1762a6(0xb12)][_0x1762a6(0x1e9)]('active'),textTab[_0x1762a6(0xb12)][_0x1762a6(0x1e9)](_0x1762a6(0x6bc)),fileTab[_0x1762a6(0xb12)]['remove'](_0x1762a6(0x6bc)),worksheetTab[_0x1762a6(0xb12)][_0x1762a6(0x1e9)](_0x1762a6(0x6bc));if(_0x577d33)_0x577d33[_0x1762a6(0xb12)][_0x1762a6(0x1e9)]('active');if(_0x49f0e2)_0x49f0e2['classList'][_0x1762a6(0x1e9)]('active');if(_0xb09d18)_0xb09d18[_0x1762a6(0xb12)]['remove']('active');_0x2ee547[_0x1762a6(0xb12)]['add'](_0x1762a6(0x6bc)),topicInputArea[_0x1762a6(0xb12)]['add'](_0x1762a6(0x9cf)),textInputArea[_0x1762a6(0xb12)][_0x1762a6(0x786)](_0x1762a6(0x9cf)),fileInputArea['classList'][_0x1762a6(0x786)](_0x1762a6(0x9cf)),worksheetInputArea[_0x1762a6(0xb12)][_0x1762a6(0x786)]('hidden');if(_0x1e0d8d)_0x1e0d8d[_0x1762a6(0xb12)][_0x1762a6(0x786)](_0x1762a6(0x9cf));if(_0x35fe30)_0x35fe30[_0x1762a6(0xb12)][_0x1762a6(0x786)](_0x1762a6(0x9cf));if(_0x275548)_0x275548[_0x1762a6(0xb12)][_0x1762a6(0x786)](_0x1762a6(0x9cf));_0x59db1['classList']['remove'](_0x1762a6(0x9cf)),displayQuestionBank();});_0x577d33&&(_0x577d33[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x384930=_0x58271b;_0x577d33[_0x384930(0xb12)][_0x384930(0x786)](_0x384930(0x6bc)),topicTab['classList'][_0x384930(0x1e9)]('active'),textTab['classList']['remove'](_0x384930(0x6bc)),fileTab[_0x384930(0xb12)][_0x384930(0x1e9)](_0x384930(0x6bc)),worksheetTab[_0x384930(0xb12)][_0x384930(0x1e9)](_0x384930(0x6bc));if(_0x49f0e2)_0x49f0e2[_0x384930(0xb12)][_0x384930(0x1e9)](_0x384930(0x6bc));if(_0xb09d18)_0xb09d18[_0x384930(0xb12)][_0x384930(0x1e9)](_0x384930(0x6bc));_0x1e0d8d[_0x384930(0xb12)][_0x384930(0x1e9)]('hidden'),topicInputArea[_0x384930(0xb12)][_0x384930(0x786)]('hidden'),textInputArea[_0x384930(0xb12)][_0x384930(0x786)](_0x384930(0x9cf)),fileInputArea[_0x384930(0xb12)]['add']('hidden'),worksheetInputArea[_0x384930(0xb12)][_0x384930(0x786)]('hidden');if(_0x35fe30)_0x35fe30[_0x384930(0xb12)][_0x384930(0x786)](_0x384930(0x9cf));if(_0x275548)_0x275548[_0x384930(0xb12)][_0x384930(0x786)]('hidden');}),document[_0x58271b(0x8a9)](_0x58271b(0xc41))['addEventListener'](_0x58271b(0xcc3),handleGenerateFromLink));_0x49f0e2&&_0x49f0e2[_0x58271b(0xd68)]('click',()=>{const _0x25f0e6=_0x58271b;_0x49f0e2[_0x25f0e6(0xb12)][_0x25f0e6(0x786)]('active'),topicTab['classList']['remove'](_0x25f0e6(0x6bc)),textTab[_0x25f0e6(0xb12)][_0x25f0e6(0x1e9)](_0x25f0e6(0x6bc)),fileTab['classList']['remove']('active'),worksheetTab[_0x25f0e6(0xb12)][_0x25f0e6(0x1e9)](_0x25f0e6(0x6bc));if(_0x577d33)_0x577d33[_0x25f0e6(0xb12)]['remove'](_0x25f0e6(0x6bc));if(_0x2ee547)_0x2ee547[_0x25f0e6(0xb12)]['remove'](_0x25f0e6(0x6bc));if(_0xb09d18)_0xb09d18[_0x25f0e6(0xb12)][_0x25f0e6(0x1e9)](_0x25f0e6(0x6bc));_0x35fe30[_0x25f0e6(0xb12)][_0x25f0e6(0x1e9)](_0x25f0e6(0x9cf)),topicInputArea['classList'][_0x25f0e6(0x786)]('hidden'),textInputArea[_0x25f0e6(0xb12)][_0x25f0e6(0x786)](_0x25f0e6(0x9cf)),fileInputArea['classList']['add'](_0x25f0e6(0x9cf)),worksheetInputArea['classList'][_0x25f0e6(0x786)](_0x25f0e6(0x9cf));if(_0x1e0d8d)_0x1e0d8d[_0x25f0e6(0xb12)]['add'](_0x25f0e6(0x9cf));if(_0x59db1)_0x59db1['classList']['add'](_0x25f0e6(0x9cf));if(_0x275548)_0x275548[_0x25f0e6(0xb12)][_0x25f0e6(0x786)](_0x25f0e6(0x9cf));});_0xb09d18&&_0xb09d18[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x4aefe9=_0x58271b;_0xb09d18[_0x4aefe9(0xb12)]['add']('active'),topicTab[_0x4aefe9(0xb12)][_0x4aefe9(0x1e9)]('active'),textTab['classList']['remove'](_0x4aefe9(0x6bc)),fileTab[_0x4aefe9(0xb12)]['remove'](_0x4aefe9(0x6bc)),worksheetTab[_0x4aefe9(0xb12)][_0x4aefe9(0x1e9)](_0x4aefe9(0x6bc));if(_0x577d33)_0x577d33[_0x4aefe9(0xb12)][_0x4aefe9(0x1e9)]('active');if(_0x49f0e2)_0x49f0e2['classList'][_0x4aefe9(0x1e9)](_0x4aefe9(0x6bc));if(_0x2ee547)_0x2ee547['classList'][_0x4aefe9(0x1e9)](_0x4aefe9(0x6bc));_0x275548[_0x4aefe9(0xb12)][_0x4aefe9(0x1e9)](_0x4aefe9(0x9cf)),topicInputArea[_0x4aefe9(0xb12)][_0x4aefe9(0x786)]('hidden'),textInputArea[_0x4aefe9(0xb12)]['add'](_0x4aefe9(0x9cf)),fileInputArea['classList'][_0x4aefe9(0x786)]('hidden'),worksheetInputArea[_0x4aefe9(0xb12)][_0x4aefe9(0x786)](_0x4aefe9(0x9cf));if(_0x1e0d8d)_0x1e0d8d[_0x4aefe9(0xb12)][_0x4aefe9(0x786)](_0x4aefe9(0x9cf));if(_0x35fe30)_0x35fe30['classList'][_0x4aefe9(0x786)](_0x4aefe9(0x9cf));if(_0x59db1)_0x59db1[_0x4aefe9(0xb12)]['add'](_0x4aefe9(0x9cf));});const _0x107921=document[_0x58271b(0x8a9)](_0x58271b(0x2bd)),_0x28ef8a=document['getElementById'](_0x58271b(0x451));if(_0x107921){const _0x4ff493=document['getElementById'](_0x58271b(0x2bd)),_0x3b0459=document[_0x58271b(0x8a9)](_0x58271b(0x451)),_0x235930=document[_0x58271b(0x8a9)](_0x58271b(0x120)),_0x51d2b0=document['getElementById']('separate-by-content-checkbox'),_0x49b731=document[_0x58271b(0x8a9)]('blueprint-topics-list-container'),_0x32c06a=document['getElementById'](_0x58271b(0x3f4));_0x4ff493&&_0x4ff493[_0x58271b(0xd68)](_0x58271b(0x39f),async _0x3201e1=>{const _0x16281f=_0x58271b;_0x235930[_0x16281f(0xb12)][_0x16281f(0x786)](_0x16281f(0x9cf)),_0x49b731[_0x16281f(0xb12)]['add'](_0x16281f(0x9cf)),_0x51d2b0['checked']=![],_0x3b0459['disabled']=!![];const _0xc00585=_0x3201e1[_0x16281f(0x61a)][_0x16281f(0x62c)][0x0];if(_0xc00585){_0x3b0459[_0x16281f(0x317)]=![];try{const _0x18dfe7=await extractTextFromPdf(_0xc00585);await analyzeBlueprintForTopics(_0x18dfe7);}catch(_0x29a3df){showMessage(_0x16281f(0x378)),_0x235930[_0x16281f(0xb12)][_0x16281f(0x786)]('hidden');}}}),_0x51d2b0&&_0x51d2b0['addEventListener'](_0x58271b(0x39f),_0x590cb8=>{const _0x4b2d7b=_0x58271b,_0x187ce3=_0x590cb8['target']['checked'];_0x49b731[_0x4b2d7b(0xb12)][_0x4b2d7b(0x830)]('hidden',!_0x187ce3),_0x3b0459[_0x4b2d7b(0x317)]=_0x187ce3;}),_0x32c06a&&(_0x32c06a&&_0x32c06a[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x2b158b=>{const _0x1f5bd9=_0x58271b,_0x30389c=_0x2b158b[_0x1f5bd9(0x61a)][_0x1f5bd9(0x156)](_0x1f5bd9(0x72b)),_0x2f1822=_0x2b158b['target'][_0x1f5bd9(0x156)](_0x1f5bd9(0x2ea));if(_0x30389c){const _0x34326c=unescape(_0x30389c[_0x1f5bd9(0xd34)]['topic']);generateQuizForSingleTopic(_0x34326c);}else{if(_0x2f1822){const _0x3808c1=unescape(_0x2f1822[_0x1f5bd9(0xd34)][_0x1f5bd9(0x5cc)]);handleGenerateTeachingContent(_0x3808c1);}}}));}_0x28ef8a&&_0x28ef8a[_0x58271b(0xd68)](_0x58271b(0xcc3),handleGenerateFromBlueprint);const _0x5a03bd=document[_0x58271b(0x8a9)]('parallel-test-upload-input'),_0x18c907=document[_0x58271b(0x8a9)](_0x58271b(0xc75));_0x5a03bd&&_0x5a03bd['addEventListener'](_0x58271b(0x39f),_0x16b794=>{const _0x1a73dd=_0x58271b;_0x18c907[_0x1a73dd(0x317)]=_0x16b794['target'][_0x1a73dd(0x62c)][_0x1a73dd(0x14c)]===0x0;});_0x18c907&&_0x18c907[_0x58271b(0xd68)]('click',()=>{handleGenerateParallelTest();});loadQuizBtn[_0x58271b(0xd68)](_0x58271b(0xcc3),handleLoadQuiz),startQuizBtn[_0x58271b(0xd68)](_0x58271b(0xcc3),async()=>{const _0x437c8f=_0x58271b,_0x21c9fd=document[_0x437c8f(0x8a9)](_0x437c8f(0x7e0));currentStudentName=_0x21c9fd[_0x437c8f(0x61e)];if(!currentStudentName){showMessage(_0x437c8f(0x357));return;}try{const _0x49b483=currentQuizData['id'],_0xbd2730=doc(db,_0x437c8f(0x407)+appId+'/public/data/quizzes/'+_0x49b483+_0x437c8f(0x8b6),currentStudentName),_0x5b4afd=await getDoc(_0xbd2730);!_0x5b4afd[_0x437c8f(0xa90)]()?await setDoc(_0xbd2730,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0xbd2730,{'startedAt':new Date()[_0x437c8f(0x3f0)]()});}catch(_0x2841c7){console[_0x437c8f(0xce3)](_0x437c8f(0x501),_0x2841c7),showMessage(_0x437c8f(0xe84));return;}studentNameSelectionView[_0x437c8f(0xb12)][_0x437c8f(0x786)](_0x437c8f(0x9cf)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x58271b(0x8a9)](_0x58271b(0x4b9))[_0x58271b(0xd68)](_0x58271b(0xcc3),showJoinGameView),document[_0x58271b(0x8a9)](_0x58271b(0x563))[_0x58271b(0xd68)](_0x58271b(0xcc3),handleJoinLiveGame),document[_0x58271b(0x8a9)]('back-to-student-initial-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>showView(_0x58271b(0x28a)));const _0x44af6f=()=>{const _0x2648c7=_0x58271b,_0x5d03e6=document[_0x2648c7(0x8a9)]('results-quiz-title')[_0x2648c7(0xab8)]['replace'](/[^a-z0-9]/gi,'_')[_0x2648c7(0x8dd)]();return'results_'+(_0x5d03e6||_0x2648c7(0x32a));},_0x5d1903=document[_0x58271b(0x8a9)](_0x58271b(0x8a7));_0x5d1903&&_0x5d1903['addEventListener'](_0x58271b(0x5ea),_0x16827f=>{const _0x5280d1=_0x58271b,_0x5f20dc=_0x16827f[_0x5280d1(0x61a)][_0x5280d1(0x61e)][_0x5280d1(0x8dd)]()[_0x5280d1(0x937)](),_0x6f1f93=document['getElementById']('math-topics-checkbox-container'),_0x295815=_0x6f1f93[_0x5280d1(0x6b8)](_0x5280d1(0x184));_0x295815[_0x5280d1(0xacf)](_0x41cb78=>{const _0x5ad87b=_0x5280d1;let _0x3293af=![];const _0x2fd4b6=_0x41cb78[_0x5ad87b(0x6b8)](_0x5ad87b(0xa61));_0x2fd4b6[_0x5ad87b(0xacf)](_0x33d8d8=>{const _0x29afed=_0x5ad87b,_0x292bf2=_0x33d8d8[_0x29afed(0x2b0)](_0x29afed(0xd58))[_0x29afed(0xab8)][_0x29afed(0x8dd)]();_0x292bf2[_0x29afed(0x55e)](_0x5f20dc)?(_0x33d8d8[_0x29afed(0x5a4)]['display']=_0x29afed(0x447),_0x3293af=!![]):_0x33d8d8['style'][_0x29afed(0xe7a)]='none';}),_0x3293af?_0x41cb78[_0x5ad87b(0x5a4)]['display']='block':_0x41cb78['style'][_0x5ad87b(0xe7a)]=_0x5ad87b(0x436);});});document[_0x58271b(0x8a9)](_0x58271b(0xcdc))['addEventListener'](_0x58271b(0xcc3),()=>exportTableAsImage('results-table-container',_0x44af6f())),document[_0x58271b(0x8a9)](_0x58271b(0x7f8))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>exportTableAsPDF(_0x58271b(0x32c),_0x44af6f())),document[_0x58271b(0x8a9)](_0x58271b(0xaa2))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>exportTableAsWord(_0x58271b(0x32b),_0x44af6f())),document[_0x58271b(0x8a9)](_0x58271b(0x955))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>exportTableAsExcel(_0x58271b(0x32c),_0x44af6f()));const _0x5e251b=()=>{const _0x51ac17=_0x58271b,_0x4d3038=document[_0x51ac17(0x8a9)](_0x51ac17(0x2bc))[_0x51ac17(0xab8)]['replace'](/[^a-z0-9]/gi,'_')[_0x51ac17(0x8dd)]();return _0x51ac17(0xdc2)+(_0x4d3038||'quiz');};document[_0x58271b(0x8a9)]('export-leaderboard-image-btn')[_0x58271b(0xd68)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x5e251b())),document[_0x58271b(0x8a9)](_0x58271b(0xb16))['addEventListener'](_0x58271b(0xcc3),()=>exportTableAsPDF(_0x58271b(0xbe5),_0x5e251b())),document[_0x58271b(0x8a9)](_0x58271b(0xabe))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>exportTableAsWord(_0x58271b(0x9be),_0x5e251b())),document['getElementById'](_0x58271b(0x1a9))[_0x58271b(0xd68)]('click',()=>exportTableAsExcel(_0x58271b(0xbe5),_0x5e251b())),projectQuizzesList[_0x58271b(0xd68)](_0x58271b(0xcc3),async _0x286d17=>{const _0x2ed02a=_0x58271b,_0x4fd815=_0x286d17[_0x2ed02a(0x61a)]['closest'](_0x2ed02a(0xc79)),_0x1e1738=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)](_0x2ed02a(0xa8e)),_0x495436=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)]('.compare-results-btn'),_0x11bf9e=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)]('.generate-lesson-btn'),_0x31626e=_0x286d17[_0x2ed02a(0x61a)]['closest'](_0x2ed02a(0x47d)),_0x5da7ea=_0x286d17[_0x2ed02a(0x61a)]['closest'](_0x2ed02a(0x483)),_0x3e809a=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)]('.edit-quiz-btn'),_0x55f0e8=_0x286d17['target'][_0x2ed02a(0x156)](_0x2ed02a(0x2ad)),_0x1fae27=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)]('.duplicate-quiz-btn'),_0x245ef3=_0x286d17[_0x2ed02a(0x61a)]['closest'](_0x2ed02a(0x73c)),_0x9ef3da=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)]('.parallel-quiz-btn'),_0x28d82f=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)](_0x2ed02a(0xe0e)),_0x393dc5=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)](_0x2ed02a(0xe5c)),_0x5e0b81=_0x286d17['target'][_0x2ed02a(0x156)]('.unpair-quiz-btn'),_0x5e44fd=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)](_0x2ed02a(0x20f)),_0x4bfbcc=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)]('.admin-try-quiz-list-btn'),_0x4d483d=_0x286d17['target'][_0x2ed02a(0x156)]('.export-pdf-list-btn'),_0x51118b=_0x286d17['target'][_0x2ed02a(0x156)]('.delete-quiz-btn'),_0x1df2b9=_0x286d17['target'][_0x2ed02a(0x156)](_0x2ed02a(0xd3d)),_0x4eef27=_0x286d17['target'][_0x2ed02a(0x156)](_0x2ed02a(0x875)),_0x3d6e29=_0x286d17['target'][_0x2ed02a(0x156)](_0x2ed02a(0xbbe)),_0x2bd877=_0x286d17['target']['closest']('.start-game-btn'),_0x117c3f=_0x286d17[_0x2ed02a(0x61a)][_0x2ed02a(0x156)](_0x2ed02a(0x4a0));if(_0x2bd877){const _0x1b9191=_0x2bd877[_0x2ed02a(0xd34)]['quizId'],_0x30fab1=_0x2bd877['dataset']['mode'],_0x1e71d1=allQuizzes[_0x2ed02a(0x6bf)](_0x203056=>_0x203056['id']===_0x1b9191);_0x1e71d1&&showGameStartConfirmationModal(_0x1b9191,_0x30fab1,_0x1e71d1['topic']);}else{if(_0x117c3f){const _0xe55f2c=_0x117c3f[_0x2ed02a(0xd34)]['quizId'];handleStartLiveRace(_0xe55f2c);}else{if(_0x4eef27){const _0x31c249=_0x4eef27[_0x2ed02a(0xd34)]['quizId'],_0x14f2bf=document[_0x2ed02a(0x8a9)](_0x2ed02a(0xabc)+_0x31c249);_0x14f2bf&&_0x14f2bf['classList'][_0x2ed02a(0x830)]('hidden');}else{if(_0x1e1738){const _0x53ee64=_0x1e1738['dataset'][_0x2ed02a(0x782)],_0x30ed1c=allQuizzes[_0x2ed02a(0x6bf)](_0x28fd93=>_0x28fd93['id']===_0x53ee64);_0x30ed1c&&handleGenerateParallelPostTest(_0x30ed1c);}else{if(_0x495436)handleCompareResults(_0x495436[_0x2ed02a(0xd34)][_0x2ed02a(0x782)],_0x495436[_0x2ed02a(0xd34)]['preTestId']);else{if(_0x11bf9e){const _0x2c6741=_0x11bf9e[_0x2ed02a(0xd34)][_0x2ed02a(0x782)],_0x3dedf5=allQuizzes[_0x2ed02a(0x6bf)](_0x4cad89=>_0x4cad89['id']===_0x2c6741);_0x3dedf5&&_0x3dedf5[_0x2ed02a(0x6f7)]?(displayLessonPlan(_0x3dedf5['lessonPlan'],_0x3dedf5),showConfirmation(_0x2ed02a(0x210),()=>handleGenerateLessonPlan(_0x2c6741)),document[_0x2ed02a(0x8a9)](_0x2ed02a(0xe3c))[_0x2ed02a(0x2b0)]('h3')[_0x2ed02a(0xab8)]='แผนการสอน',document[_0x2ed02a(0x8a9)](_0x2ed02a(0x51a))[_0x2ed02a(0xab8)]=_0x2ed02a(0x8ef)):handleGenerateLessonPlan(_0x2c6741);}else{if(_0x31626e)handleToggleStarQuiz(_0x31626e[_0x2ed02a(0xd34)][_0x2ed02a(0x782)]);else{if(_0x5da7ea)copyTextToClipboard(_0x5da7ea['dataset'][_0x2ed02a(0x782)],'คัดลอกรหัสแล้ว!');else{if(_0x3e809a)handleOpenQuizEditor(_0x3e809a[_0x2ed02a(0xd34)][_0x2ed02a(0x782)]);else{if(_0x55f0e8)handleQuizSettings(_0x55f0e8[_0x2ed02a(0xd34)][_0x2ed02a(0x782)]);else{if(_0x1fae27)handleDuplicateQuiz(_0x1fae27['dataset'][_0x2ed02a(0x782)]);else{if(_0x245ef3)handleRenameQuiz(_0x245ef3['dataset'][_0x2ed02a(0x782)],_0x245ef3[_0x2ed02a(0xd34)]['topic']);else{if(_0x9ef3da){const _0x38bfb4=_0x9ef3da[_0x2ed02a(0xd34)][_0x2ed02a(0x782)],_0xb833f4=allQuizzes['find'](_0x15e31c=>_0x15e31c['id']===_0x38bfb4);_0xb833f4&&handleGenerateParallelFromBank(_0xb833f4);}else{if(_0x28d82f)handleMoveQuiz(_0x28d82f[_0x2ed02a(0xd34)]['quizId']);else{if(_0x393dc5)handleManualQuizPairing(_0x393dc5[_0x2ed02a(0xd34)][_0x2ed02a(0x782)]);else{if(_0x5e0b81)handleUnpairQuiz(_0x5e0b81['dataset'][_0x2ed02a(0x782)]);else{if(_0x5e44fd){const _0x2b0bbe=_0x5e44fd[_0x2ed02a(0xd34)][_0x2ed02a(0x782)],_0x81fd00=allQuizzes[_0x2ed02a(0x6bf)](_0x5943d3=>_0x5943d3['id']===_0x2b0bbe);if(_0x81fd00)startPresentation(_0x81fd00);}else{if(_0x4bfbcc){const _0x27600e=_0x4bfbcc['dataset'][_0x2ed02a(0x782)],_0x268494=allQuizzes[_0x2ed02a(0x6bf)](_0x465dcb=>_0x465dcb['id']===_0x27600e);_0x268494&&(currentQuizData=_0x268494,startAdminTest());}else{if(_0x4d483d)actionTargetId=_0x4d483d[_0x2ed02a(0xd34)][_0x2ed02a(0x782)],document[_0x2ed02a(0x8a9)]('export-pdf-modal')[_0x2ed02a(0xb12)][_0x2ed02a(0x1e9)](_0x2ed02a(0x9cf));else{if(_0x51118b)showConfirmation(_0x2ed02a(0x97d)+_0x51118b[_0x2ed02a(0xd34)][_0x2ed02a(0x5cc)]+_0x2ed02a(0x623),()=>handleDeleteQuiz(_0x51118b[_0x2ed02a(0xd34)][_0x2ed02a(0x782)]));else{if(_0x1df2b9)handleQuizStatus(_0x1df2b9['dataset'][_0x2ed02a(0x782)]);else{if(_0x3d6e29)handleGenerateEasyVersionQuiz(_0x3d6e29[_0x2ed02a(0xd34)][_0x2ed02a(0x782)]);else _0x4fd815&&showQuizDetailView(_0x4fd815[_0x2ed02a(0xd34)][_0x2ed02a(0x782)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x58271b(0x8a9)](_0x58271b(0xac7))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>showView(_0x58271b(0x28a))),document[_0x58271b(0x8a9)](_0x58271b(0x62b))[_0x58271b(0xd68)](_0x58271b(0xcc3),confirmAndStartTeamQuiz),document[_0x58271b(0x8a9)]('quiz-leaderboard-table')[_0x58271b(0x2b0)](_0x58271b(0xe1c))[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x131815=>{const _0x58a740=_0x58271b,_0x4ebb27=_0x131815[_0x58a740(0x61a)][_0x58a740(0x156)](_0x58a740(0xba6));if(!_0x4ebb27||!_0x4ebb27[_0x58a740(0xd34)][_0x58a740(0x528)])return;const _0xfdd323=_0x4ebb27[_0x58a740(0xd34)]['sort'];if(quizLeaderboardSortBy===_0xfdd323)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x58a740(0x68b)?'desc':'asc';else{quizLeaderboardSortBy=_0xfdd323;const _0x3a46b9=[_0x58a740(0x311)];quizLeaderboardSortOrder=_0x3a46b9[_0x58a740(0x55e)](_0xfdd323)?_0x58a740(0x68b):_0x58a740(0x8d6);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x58a740(0xb77));}),document[_0x58271b(0x8a9)]('close-presentation-btn')['addEventListener'](_0x58271b(0xcc3),closePresentation),document[_0x58271b(0x8a9)](_0x58271b(0xdbd))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById']('next-question-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x59bc7c=_0x58271b;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x59bc7c(0x3c6)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x58271b(0xd68)](_0x58271b(0xbe9),()=>{const _0x49bcbe=_0x58271b;!document[_0x49bcbe(0x7f6)]&&(presentationModal[_0x49bcbe(0x5a4)][_0x49bcbe(0xe7a)]='none');}),document[_0x58271b(0x8a9)]('delete-all-students-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),handleDeleteAllStudents),studentList['addEventListener']('click',_0x14fc39=>{const _0x366792=_0x58271b,_0x79addb=_0x14fc39['target'][_0x366792(0x156)](_0x366792(0x1d0));if(_0x79addb){const _0x365d62=_0x79addb['dataset'][_0x366792(0x311)];handleDeleteStudent(_0x365d62);}}),document[_0x58271b(0x8a9)](_0x58271b(0x88b))['addEventListener'](_0x58271b(0xcc3),handleGenerateFromFileClick),fileUploadInput[_0x58271b(0xd68)](_0x58271b(0x39f),_0x24a0e9=>{const _0x5f5997=_0x58271b,_0x3c039d=_0x24a0e9[_0x5f5997(0x61a)][_0x5f5997(0x62c)][0x0],_0x526cce=document[_0x5f5997(0x8a9)](_0x5f5997(0x88b)),_0x3115c3=document[_0x5f5997(0x8a9)](_0x5f5997(0xd07)),_0x4bb890=document[_0x5f5997(0x8a9)]('separate-by-content-from-file-checkbox');_0x3c039d?(selectedFile=_0x3c039d,_0x4bb890[_0x5f5997(0xaa0)]?(_0x526cce[_0x5f5997(0x317)]=!![],analyzeFileForTopics(_0x3c039d)):(_0x526cce['disabled']=![],_0x3115c3['classList'][_0x5f5997(0x786)](_0x5f5997(0x9cf)))):(selectedFile=null,_0x526cce[_0x5f5997(0x317)]=!![],_0x3115c3['classList']['add'](_0x5f5997(0x9cf)));}),document['getElementById'](_0x58271b(0x8fa))[_0x58271b(0xd68)](_0x58271b(0x39f),_0x13a219=>{const _0x579fd8=_0x58271b,_0x2d8b99=_0x13a219[_0x579fd8(0x61a)][_0x579fd8(0xaa0)],_0x48fe56=document['getElementById']('generate-from-file-btn'),_0x416eba=document[_0x579fd8(0x8a9)]('file-topics-list-container');_0x2d8b99?(_0x48fe56['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x416eba[_0x579fd8(0xb12)]['remove'](_0x579fd8(0x9cf)),document['getElementById']('file-topics-list')[_0x579fd8(0x568)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x416eba[_0x579fd8(0xb12)][_0x579fd8(0x786)]('hidden'),_0x48fe56[_0x579fd8(0x317)]=!selectedFile);}),document[_0x58271b(0x8a9)](_0x58271b(0xd07))[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x150ec8=>{const _0x93dfa7=_0x58271b,_0x58e47d=_0x150ec8[_0x93dfa7(0x61a)][_0x93dfa7(0x156)](_0x93dfa7(0x637)),_0x7b35a3=_0x150ec8[_0x93dfa7(0x61a)][_0x93dfa7(0x156)]('.generate-content-btn');if(_0x58e47d){const _0x11bcd0=unescape(_0x58e47d[_0x93dfa7(0xd34)][_0x93dfa7(0x5cc)]);generateHybridQuizForTopic(_0x11bcd0);}else{if(_0x7b35a3){const _0xecc741=unescape(_0x7b35a3[_0x93dfa7(0xd34)][_0x93dfa7(0x5cc)]),_0x1c7f74=document['getElementById']('difficulty-level-select')['value'];handleGenerateAndShowLesson(_0xecc741,_0x1c7f74);}}}),document[_0x58271b(0x8a9)]('timer-mode-select')[_0x58271b(0xd68)](_0x58271b(0x39f),_0x304221=>{const _0x3449b8=_0x58271b,_0xeee27=document[_0x3449b8(0x8a9)]('timer-duration-container'),_0x48568b=document['getElementById']('timer-duration-label'),_0x1f75cb=document[_0x3449b8(0x8a9)]('timer-duration-input');_0x304221[_0x3449b8(0x61a)][_0x3449b8(0x61e)]===_0x3449b8(0x436)?_0xeee27['classList'][_0x3449b8(0x786)](_0x3449b8(0x9cf)):(_0xeee27[_0x3449b8(0xb12)][_0x3449b8(0x1e9)](_0x3449b8(0x9cf)),_0x304221['target'][_0x3449b8(0x61e)]===_0x3449b8(0x1bb)?(_0x48568b[_0x3449b8(0xab8)]='ระยะเวลา\x20(นาที):',_0x1f75cb['value']='10'):(_0x48568b['textContent']=_0x3449b8(0xbf5),_0x1f75cb['value']='30'));}),document[_0x58271b(0x8a9)](_0x58271b(0x356))[_0x58271b(0xd68)]('change',_0x324d3f=>{const _0x36ca13=_0x58271b,_0x216616=document[_0x36ca13(0x8a9)](_0x36ca13(0x5f1)),_0x5a3a01=_0x324d3f[_0x36ca13(0x61a)]['value'],_0x25f68e=document[_0x36ca13(0x2b0)]('label[for=\x22num-questions\x22]'),_0x370608=document[_0x36ca13(0x8a9)](_0x36ca13(0x348)),_0x5030f9=document['getElementById'](_0x36ca13(0x7ab));_0x5a3a01==='matching'?_0x25f68e[_0x36ca13(0xab8)]=_0x36ca13(0x2f0):_0x25f68e[_0x36ca13(0xab8)]=_0x36ca13(0x639),_0x5a3a01===_0x36ca13(0x24a)||_0x5a3a01==='fill_in_with_choices'||_0x5a3a01===_0x36ca13(0xb34)?_0x216616[_0x36ca13(0xb12)]['remove'](_0x36ca13(0x9cf)):_0x216616['classList'][_0x36ca13(0x786)](_0x36ca13(0x9cf)),_0x370608[_0x36ca13(0xb5e)]=_0x5030f9[_0x36ca13(0x61e)];}),document[_0x58271b(0x8a9)](_0x58271b(0x7ab))['addEventListener'](_0x58271b(0x5ea),_0x58a199=>{const _0x5dd01c=_0x58271b;document[_0x5dd01c(0x8a9)]('passing-score-input')[_0x5dd01c(0xb5e)]=_0x58a199[_0x5dd01c(0x61a)][_0x5dd01c(0x61e)];}),document[_0x58271b(0x8a9)](_0x58271b(0x822))[_0x58271b(0xd68)](_0x58271b(0x39f),_0x1ea306=>{const _0x4d673f=_0x58271b,_0x29f1f1=document['getElementById'](_0x4d673f(0x8b4)),_0x5dd777=document['getElementById'](_0x4d673f(0xd45)),_0x64f60d=document[_0x4d673f(0x8a9)](_0x4d673f(0xdd6));_0x1ea306['target']['value']===_0x4d673f(0x436)?_0x29f1f1[_0x4d673f(0xb12)][_0x4d673f(0x786)]('hidden'):(_0x29f1f1[_0x4d673f(0xb12)][_0x4d673f(0x1e9)](_0x4d673f(0x9cf)),_0x1ea306[_0x4d673f(0x61a)]['value']==='whole_quiz'?_0x5dd777[_0x4d673f(0xab8)]=_0x4d673f(0x4f2):_0x5dd777[_0x4d673f(0xab8)]=_0x4d673f(0xbf5));}),document[_0x58271b(0x8a9)](_0x58271b(0x4f0))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0xed73c5=_0x58271b;document[_0xed73c5(0x8a9)]('quiz-editor-modal')[_0xed73c5(0xb12)]['add']('hidden');}),document['getElementById']('cancel-quiz-edits-btn-footer')[_0x58271b(0xd68)]('click',()=>{const _0x51bc3b=_0x58271b;document['getElementById'](_0x51bc3b(0xa5f))['classList'][_0x51bc3b(0x786)](_0x51bc3b(0x9cf));}),document[_0x58271b(0x8a9)]('verify-answers-editor-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),handleVerifyAnswersInEditor),document[_0x58271b(0x8a9)](_0x58271b(0x850))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x4c0b9e=_0x58271b;document[_0x4c0b9e(0x8a9)]('quiz-editor-modal')[_0x4c0b9e(0xb12)][_0x4c0b9e(0x786)]('hidden'),showConfirmation(_0x4c0b9e(0x670),handleSaveChanges);}),document['getElementById'](_0x58271b(0x57a))[_0x58271b(0xd68)]('click',handleAutoFixLatex);const _0x2c0d3b=document['getElementById']('quiz-editor-questions-container');_0x2c0d3b&&_0x2c0d3b[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x3306ed=>{const _0x3570b8=_0x58271b,_0x30d85f=_0x3306ed['target'][_0x3570b8(0x156)]('.regenerate-question-editor-btn');if(_0x30d85f){const _0x3cb2ba=_0x30d85f[_0x3570b8(0x156)]('.question-editor-item'),_0x2c2d2c=parseInt(_0x3cb2ba['dataset'][_0x3570b8(0xa80)],0xa);handleRegenerateQuestionInEditor(_0x2c2d2c);return;}const _0x1d4ba3=_0x3306ed['target'][_0x3570b8(0x156)](_0x3570b8(0xcff));if(_0x1d4ba3){const _0x498b31=_0x1d4ba3[_0x3570b8(0x156)](_0x3570b8(0xd67)),_0x238593=parseInt(_0x498b31[_0x3570b8(0xd34)][_0x3570b8(0xa80)],0xa);handleDeleteQuestionInEditor(_0x238593);return;}const _0x2dad6c=_0x3306ed[_0x3570b8(0x61a)][_0x3570b8(0x156)]('#add-question-editor-btn');if(_0x2dad6c){handleAddQuestionInEditor();return;}});document[_0x58271b(0x8a9)]('open-quiz-bank-btn')[_0x58271b(0xd68)]('click',openQuizBankModal),document['getElementById']('cancel-quiz-bank-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x2a011b=_0x58271b;document[_0x2a011b(0x8a9)](_0x2a011b(0x364))['classList'][_0x2a011b(0x786)]('hidden');}),document['getElementById'](_0x58271b(0xc88))[_0x58271b(0xd68)](_0x58271b(0x5ea),_0x3e5c29=>renderQuizBankList(_0x3e5c29[_0x58271b(0x61a)][_0x58271b(0x61e)]));const _0xea5d6=document[_0x58271b(0x8a9)]('math-topics-checkbox-container');if(_0xea5d6){let _0x1c2aa0=null;_0xea5d6[_0x58271b(0xd68)](_0x58271b(0xcc3),_0x9d757c=>{const _0x1b69a4=_0x58271b,_0x3ceab8=_0x9d757c[_0x1b69a4(0x61a)],_0xfb30e1=_0x3ceab8[_0x1b69a4(0x156)](_0x1b69a4(0xcf7)),_0x197cbf=_0x3ceab8['closest'](_0x1b69a4(0x6a4)),_0x4ee485=_0x3ceab8[_0x1b69a4(0x156)](_0x1b69a4(0x15a)),_0x380464=_0x3ceab8[_0x1b69a4(0x156)](_0x1b69a4(0x1cf));if(_0x197cbf){_0x9d757c['preventDefault']();const _0x257044=_0x197cbf[_0x1b69a4(0xd34)]['id'],_0x48c2b1=_0x197cbf[_0x1b69a4(0x156)](_0x1b69a4(0x9e7))[_0x1b69a4(0x2b0)](_0x1b69a4(0xd58))[_0x1b69a4(0xab8)];showConfirmation(_0x1b69a4(0x2b6)+_0x48c2b1+'\x22?',()=>handleDeleteCustomTopic(_0x257044));}else{if(_0xfb30e1){_0x9d757c[_0x1b69a4(0x219)]();_0x1c2aa0&&toggleTopicEditMode(_0x1c2aa0,![]);const _0x1715e1=_0xfb30e1[_0x1b69a4(0x156)]('[data-topic-container-id]');_0x1c2aa0=_0x1715e1,toggleTopicEditMode(_0x1715e1,!![]);}else{if(_0x4ee485){_0x9d757c['preventDefault']();const _0x11d204=_0x4ee485[_0x1b69a4(0xd34)]['id'],_0xe51114=_0x4ee485['closest'](_0x1b69a4(0xe1d)),_0x4b15a3=_0xe51114[_0x1b69a4(0x2b0)]('.topic-name-input')[_0x1b69a4(0x61e)];handleUpdateCustomTopic(_0x11d204,_0x4b15a3),_0x1c2aa0=null;}else{if(_0x380464){_0x9d757c[_0x1b69a4(0x219)]();const _0x1cf03a=_0x380464['closest']('[data-topic-container-id]');toggleTopicEditMode(_0x1cf03a,![]),_0x1c2aa0=null;}}}}}),document[_0x58271b(0x8a9)]('close-lesson-plan-modal-btn')['addEventListener']('click',()=>{const _0x3ee4c5=_0x58271b;document[_0x3ee4c5(0x8a9)](_0x3ee4c5(0xe2b))['classList'][_0x3ee4c5(0x786)](_0x3ee4c5(0x9cf));}),document[_0x58271b(0x8a9)](_0x58271b(0xe34))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x57274f=_0x58271b;document['getElementById'](_0x57274f(0xe2b))[_0x57274f(0xb12)][_0x57274f(0x786)](_0x57274f(0x9cf));}),document['getElementById']('export-lesson-pdf-btn')[_0x58271b(0xd68)](_0x58271b(0xcc3),handleExportLessonPDF);}document[_0x58271b(0x8a9)](_0x58271b(0xa9c))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0xcdadea=_0x58271b;document[_0xcdadea(0x8a9)](_0xcdadea(0xa60))['classList'][_0xcdadea(0x786)](_0xcdadea(0x9cf));}),document[_0x58271b(0x8a9)](_0x58271b(0xdce))[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{const _0x42af6b=_0x58271b;document[_0x42af6b(0x8a9)](_0x42af6b(0xa60))[_0x42af6b(0xb12)][_0x42af6b(0x786)](_0x42af6b(0x9cf));}),setupComparisonModalTabs(),document[_0x58271b(0x257)][_0x58271b(0xd68)](_0x58271b(0xcc3),function(_0x108019){const _0x1c44c4=_0x58271b;if(_0x108019[_0x1c44c4(0x61a)][_0x1c44c4(0xb12)][_0x1c44c4(0x48e)](_0x1c44c4(0x2bf))){const _0x3c9f3e=unescape(_0x108019[_0x1c44c4(0x61a)]['dataset'][_0x1c44c4(0x5cc)]);startSkillPractice(_0x3c9f3e);}}),document[_0x58271b(0x8a9)](_0x58271b(0x5ab))['addEventListener'](_0x58271b(0xcc3),_0x321bb1=>{const _0x493ff2=_0x58271b,_0x41efaa=_0x321bb1[_0x493ff2(0x61a)][_0x493ff2(0x156)]('.delete-submission-btn');if(_0x41efaa){const _0x102f9e=_0x41efaa[_0x493ff2(0xd34)][_0x493ff2(0x311)];handleDeleteSubmission(_0x102f9e);return;}const _0x2ba35a=_0x321bb1[_0x493ff2(0x61a)][_0x493ff2(0x156)]('.edit-points-btn');if(_0x2ba35a){const _0x4c6568=_0x2ba35a[_0x493ff2(0xd34)]['studentName'],_0x49db64=_0x2ba35a[_0x493ff2(0xd34)]['currentPoints'],_0x51f186=prompt(_0x493ff2(0xd2d)+_0x4c6568+_0x493ff2(0xade),_0x49db64);if(_0x51f186!==null&&_0x51f186[_0x493ff2(0x937)]()!==''){const _0x1ed254=parseInt(_0x51f186,0xa);!isNaN(_0x1ed254)?handleManualEditPoints(_0x4c6568,_0x1ed254):alert('กรุณากรอกเป็นตัวเลขเท่านั้น');}}}),document[_0x58271b(0x8a9)]('close-pin-modal-btn')?.['addEventListener'](_0x58271b(0xcc3),()=>{const _0x4f500b=_0x58271b;document[_0x4f500b(0x8a9)](_0x4f500b(0x831))[_0x4f500b(0xb12)]['add'](_0x4f500b(0x9cf));}),document[_0x58271b(0x6b8)](_0x58271b(0xbfe))[_0x58271b(0xacf)](_0x5efa3f=>{const _0x510bea=_0x58271b;_0x5efa3f[_0x510bea(0xd68)](_0x510bea(0xcc3),()=>{const _0x5b2c47=_0x510bea;handlePinKeyPress(_0x5efa3f[_0x5b2c47(0xd34)][_0x5b2c47(0xa5b)]);});}),document[_0x58271b(0x8a9)]('pin-backspace-btn')?.[_0x58271b(0xd68)](_0x58271b(0xcc3),()=>{handlePinKeyPress('backspace');});}async function handleStartGroupMode(_0x255c66,_0x43744e=![]){const _0x3df717=_0x1b610a,_0x2e9c13=allQuizzes[_0x3df717(0x6bf)](_0x70de2c=>_0x70de2c['id']===_0x255c66)||allQuizzesGlobal[_0x3df717(0x6bf)](_0x3249d3=>_0x3249d3['id']===_0x255c66);if(!_0x2e9c13){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x2e9c13);const _0x57bc7f=Math['floor'](0x3e8+Math[_0x3df717(0xa73)]()*0x2328)['toString']();try{const _0x3a11ff=await addDoc(collection(db,_0x3df717(0x407)+appId+'/public/data/teamQuizzes'),{'quizId':_0x2e9c13['id'],'projectId':_0x2e9c13['projectId'],'status':_0x3df717(0xd28),'pin':_0x57bc7f,'mode':_0x3df717(0xa2d),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x43744e});currentTeamQuizId=_0x3a11ff['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x57bc7f,_0x2e9c13[_0x3df717(0x5cc)],'group'),listenForTeamQuizUpdates();}catch(_0x1e4a6a){console[_0x3df717(0xce3)](_0x3df717(0x1dc),_0x1e4a6a),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x5134b1=_0x1b610a;studentInitialView[_0x5134b1(0xb12)][_0x5134b1(0x786)]('hidden'),document['getElementById'](_0x5134b1(0x23b))['classList'][_0x5134b1(0x1e9)](_0x5134b1(0x9cf));const _0xd9cd8b=document['getElementById'](_0x5134b1(0x5d6)),_0x164d6f=document[_0x5134b1(0x8a9)](_0x5134b1(0xde1)),_0x27c891=document[_0x5134b1(0x8a9)](_0x5134b1(0xa55));_0x27c891[_0x5134b1(0x568)]=_0x5134b1(0x2fe),_0x164d6f[_0x5134b1(0x568)]=_0x5134b1(0x9a2),_0x164d6f['disabled']=!![],_0xd9cd8b[_0x5134b1(0x568)]=_0x5134b1(0xdde);if(allProjects[_0x5134b1(0x14c)]===0x0){const _0x1de2b9=collection(db,'artifacts/'+appId+_0x5134b1(0x622)),_0x30d3dc=await getDocs(_0x1de2b9);allProjects=_0x30d3dc[_0x5134b1(0x654)][_0x5134b1(0x4cb)](_0x55d289=>({'id':_0x55d289['id'],..._0x55d289[_0x5134b1(0x860)]()}));}const _0x5d5074=allProjects[_0x5134b1(0x58f)](_0x30b994=>_0x30b994['settings']?.[_0x5134b1(0x6b3)]!==![]);_0x5d5074[_0x5134b1(0x528)]((_0x49ce7b,_0x16ff3a)=>_0x49ce7b[_0x5134b1(0x252)][_0x5134b1(0x22f)](_0x16ff3a[_0x5134b1(0x252)],'th')),_0xd9cd8b[_0x5134b1(0x568)]=_0x5134b1(0x761)+_0x5d5074[_0x5134b1(0x4cb)](_0xe91c7b=>_0x5134b1(0x15f)+_0xe91c7b['id']+'\x22>'+_0xe91c7b['projectName']+_0x5134b1(0xbe2))['join'](''),_0xd9cd8b[_0x5134b1(0x203)]=()=>{const _0x2f3885=_0x5134b1,_0x563f20=_0x164d6f['value'],_0x2de3a8=_0xd9cd8b['value'];_0x164d6f[_0x2f3885(0x317)]=!![],_0x164d6f[_0x2f3885(0x568)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x27c891['innerHTML']=_0x2f3885(0xe78);if(!_0x2de3a8)return;const _0x1c9395=allProjects[_0x2f3885(0x6bf)](_0x32f4c2=>_0x32f4c2['id']===_0x2de3a8);if(!_0x1c9395||!_0x1c9395[_0x2f3885(0x3a4)])return;const _0x300208=()=>{const _0x17a560=_0x2f3885;_0x164d6f['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x1c9395[_0x17a560(0x3a4)][_0x17a560(0x4cb)](_0xb0bee9=>_0x17a560(0x15f)+_0xb0bee9+'\x22>'+_0xb0bee9+_0x17a560(0xbe2))['join'](''),_0x164d6f[_0x17a560(0x317)]=![];const _0x15fedb=Array[_0x17a560(0x52e)](_0x164d6f[_0x17a560(0x487)])[_0x17a560(0x4cb)](_0x4fb147=>_0x4fb147[_0x17a560(0x61e)]);if(_0x563f20&&_0x15fedb[_0x17a560(0x55e)](_0x563f20))_0x164d6f[_0x17a560(0x61e)]=_0x563f20,_0x164d6f[_0x17a560(0x74f)](new Event('change'));else _0x1c9395[_0x17a560(0x3a4)][_0x17a560(0x14c)]===0x1&&(_0x164d6f['value']=_0x1c9395[_0x17a560(0x3a4)][0x0],_0x164d6f[_0x17a560(0x74f)](new Event(_0x17a560(0x39f))));};if(_0x1c9395['settings']?.['isPasscodeEnabled']){if(sessionStorage['getItem'](_0x2f3885(0x891)+_0x2de3a8)===_0x2f3885(0xd57)){_0x300208();return;}const _0x4bc3f7=document['getElementById'](_0x2f3885(0x459)),_0x445e76=document[_0x2f3885(0x8a9)](_0x2f3885(0xb79)),_0x380cb7=document[_0x2f3885(0x8a9)](_0x2f3885(0x861)),_0x4f9b94=document[_0x2f3885(0x8a9)](_0x2f3885(0x61d)),_0x2c27f6=document[_0x2f3885(0x8a9)](_0x2f3885(0x12d));document[_0x2f3885(0x8a9)](_0x2f3885(0x2d9))[_0x2f3885(0xab8)]=_0x2f3885(0xa2f)+_0x1c9395[_0x2f3885(0x252)],_0x4f9b94[_0x2f3885(0x61e)]='',_0x2c27f6[_0x2f3885(0xb12)][_0x2f3885(0x786)](_0x2f3885(0x9cf)),_0x4bc3f7[_0x2f3885(0xb12)][_0x2f3885(0x1e9)]('hidden');const _0x54ed03=()=>{const _0xa1a065=_0x2f3885,_0xb78bd6=_0x4f9b94[_0xa1a065(0x61e)][_0xa1a065(0x937)]();_0xb78bd6===_0x1c9395[_0xa1a065(0x43d)]['passcode']?(sessionStorage[_0xa1a065(0x616)](_0xa1a065(0x891)+_0x2de3a8,_0xa1a065(0xd57)),_0x4bc3f7['classList']['add'](_0xa1a065(0x9cf)),_0x300208(),_0x445e76['removeEventListener'](_0xa1a065(0xcc3),_0x54ed03)):_0x2c27f6[_0xa1a065(0xb12)][_0xa1a065(0x1e9)](_0xa1a065(0x9cf));};_0x445e76[_0x2f3885(0x743)]=_0x54ed03,_0x380cb7['onclick']=()=>{const _0x47a7c9=_0x2f3885;_0x4bc3f7['classList']['add'](_0x47a7c9(0x9cf)),_0xd9cd8b[_0x47a7c9(0x61e)]='',_0x445e76['removeEventListener']('click',_0x54ed03);};}else _0x300208();},_0x164d6f['onchange']=()=>{const _0x3f144a=_0x5134b1,_0x2dc8f4=_0xd9cd8b['value'],_0x404a83=_0x164d6f[_0x3f144a(0x61e)];_0x2dc8f4&&_0x404a83&&renderStudentProgressDashboard(_0x2dc8f4,_0x404a83);};}async function confirmAndJoinSyncGame(){const _0x1099ab=_0x1b610a;lastSeenQuestionIndex=-0x1,sessionStorage['removeItem'](_0x1099ab(0x9eb)),sessionStorage[_0x1099ab(0x4eb)](_0x1099ab(0xc4a)),Object['keys'](sessionStorage)['forEach'](_0x5eaf95=>{const _0x116577=_0x1099ab;(_0x5eaf95['startsWith'](_0x116577(0x6fa))||_0x5eaf95[_0x116577(0x685)](_0x116577(0x9d7))||_0x5eaf95[_0x116577(0x685)]('hiddenOptions_q'))&&sessionStorage[_0x116577(0x4eb)](_0x5eaf95);});const _0x2e51ad=Array[_0x1099ab(0x52e)](document['querySelectorAll'](_0x1099ab(0xa92)))[_0x1099ab(0x4cb)](_0x8029c8=>_0x8029c8[_0x1099ab(0x61e)]);if(_0x2e51ad[_0x1099ab(0x14c)]===0x0){showMessage(_0x1099ab(0x5c5));return;}localTeamPlayers=_0x2e51ad,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x1c084d=writeBatch(db),_0x152c6e=serverTimestamp();_0x2e51ad[_0x1099ab(0xacf)](_0x5436d9=>{const _0x22abf8=_0x1099ab,_0x138d1b=doc(db,_0x22abf8(0x407)+appId+_0x22abf8(0xa14)+currentLiveGameId+_0x22abf8(0xe45),_0x5436d9),_0x1bce27={'name':_0x5436d9,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x22abf8(0x6bc),'answers':[],'joinedAt':_0x152c6e,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x1c084d[_0x22abf8(0x98f)](_0x138d1b,_0x1bce27,{'merge':!![]});}),await _0x1c084d['commit'](),showView(_0x1099ab(0x70e)),document[_0x1099ab(0x8a9)](_0x1099ab(0xad9))['classList'][_0x1099ab(0x786)]('hidden'),currentStudentName=_0x2e51ad[0x0],listenForSyncGameUpdates();const _0x31287d={'gameId':currentLiveGameId,'mode':_0x1099ab(0xb30),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1099ab(0x616)](_0x1099ab(0x87d),JSON['stringify'](_0x31287d)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x1099ab(0xd68)](_0x1099ab(0xe26),handleVisibilityChange),enterFullscreen(),window[_0x1099ab(0xd68)](_0x1099ab(0x729),resetDimTimer),window[_0x1099ab(0xd68)]('mousedown',resetDimTimer),window[_0x1099ab(0xd68)](_0x1099ab(0x71e),resetDimTimer),window[_0x1099ab(0xd68)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x46a21b){console[_0x1099ab(0xce3)](_0x1099ab(0x6e1),_0x46a21b),showMessage('เกิดข้อผิดพลาดในการเข้าร่วม:\x20'+_0x46a21b[_0x1099ab(0xba0)]);}}async function resumeActiveGameSession(){const _0x1b7ce4=_0x1b610a,_0x10500c=sessionStorage[_0x1b7ce4(0x3b7)]('activeGameSession');if(!_0x10500c)return;const _0x25c3c8=JSON[_0x1b7ce4(0xbc4)](_0x10500c),{gameId:_0x4f257c,mode:_0x13530b,role:_0x1ec429,players:_0x1c6b5e,turnIndex:_0x111bc6}=_0x25c3c8;try{if(_0x1ec429===_0x1b7ce4(0xe00)&&_0x13530b===_0x1b7ce4(0xb30)){const _0x3c3649=doc(db,_0x1b7ce4(0x407)+appId+_0x1b7ce4(0x709),_0x4f257c),_0x2bcdc8=await getDoc(_0x3c3649);if(!_0x2bcdc8['exists']()||_0x2bcdc8[_0x1b7ce4(0x860)]()[_0x1b7ce4(0x9fb)]===_0x1b7ce4(0x517)||_0x2bcdc8[_0x1b7ce4(0x860)]()[_0x1b7ce4(0x9fb)]===_0x1b7ce4(0xe7d)){sessionStorage['removeItem'](_0x1b7ce4(0x87d));return;}console[_0x1b7ce4(0xd62)](_0x1b7ce4(0x6a5)+_0x4f257c+')'),currentMode='admin',currentLiveGameId=_0x4f257c,currentQuizData=_0x2bcdc8[_0x1b7ce4(0x860)]()[_0x1b7ce4(0x698)],showView(_0x1b7ce4(0x70e)),listenForSyncGameUpdates();}else{if(_0x13530b==='sync'&&_0x1c6b5e){const _0x40c6f9=doc(db,'artifacts/'+appId+_0x1b7ce4(0x709),_0x4f257c),_0x52c96e=await getDoc(_0x40c6f9);if(!_0x52c96e['exists']()||_0x52c96e[_0x1b7ce4(0x860)]()['status']===_0x1b7ce4(0x517)||_0x52c96e[_0x1b7ce4(0x860)]()[_0x1b7ce4(0x9fb)]===_0x1b7ce4(0xe7d)){sessionStorage[_0x1b7ce4(0x4eb)](_0x1b7ce4(0x87d));return;}console[_0x1b7ce4(0xd62)](_0x1b7ce4(0x4dd)+_0x4f257c+')'),currentLiveGameId=_0x4f257c,currentStudentName=_0x1c6b5e[0x0],localTeamPlayers=_0x1c6b5e,showView(_0x1b7ce4(0x70e)),listenForSyncGameUpdates();}else{if((_0x13530b===_0x1b7ce4(0xbaf)||_0x13530b===_0x1b7ce4(0xa2d))&&_0x1c6b5e){const _0x20bd01=doc(db,_0x1b7ce4(0x407)+appId+_0x1b7ce4(0x280),_0x4f257c),_0x977b0f=await getDoc(_0x20bd01);if(!_0x977b0f[_0x1b7ce4(0xa90)]()||_0x977b0f[_0x1b7ce4(0x860)]()[_0x1b7ce4(0x9fb)]==='podium'||_0x977b0f[_0x1b7ce4(0x860)]()[_0x1b7ce4(0x9fb)]===_0x1b7ce4(0xe7d)){sessionStorage[_0x1b7ce4(0x4eb)](_0x1b7ce4(0x87d));return;}console[_0x1b7ce4(0xd62)](_0x1b7ce4(0x60f)+_0x13530b+_0x1b7ce4(0x5fc)+_0x4f257c+')'),currentTeamQuizId=_0x4f257c,localTeamPlayers=_0x1c6b5e,localQuestionIndex=_0x25c3c8[_0x1b7ce4(0x223)]||0x0,localPlayerIndex=_0x25c3c8[_0x1b7ce4(0x1b1)]||0x0;const _0x4b7adc=_0x977b0f['data'](),_0x21d756=doc(db,_0x1b7ce4(0x407)+appId+_0x1b7ce4(0x399),_0x4b7adc[_0x1b7ce4(0x782)]),_0x3d8864=await getDoc(_0x21d756);_0x3d8864[_0x1b7ce4(0xa90)]()&&(currentQuizData=getShuffledQuiz({'id':_0x3d8864['id'],..._0x3d8864['data']()}),showView(_0x1b7ce4(0x28a)),studentInitialView['classList'][_0x1b7ce4(0x786)](_0x1b7ce4(0x9cf)),_0x13530b===_0x1b7ce4(0xa2d)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x3c9ceb){console[_0x1b7ce4(0xce3)](_0x1b7ce4(0x4fb),_0x3c9ceb),sessionStorage['removeItem'](_0x1b7ce4(0x87d));}}async function handleUsePowerup(_0x12a411,_0x3be9bf,_0xa6012d,_0x55586d,_0x4a1872){const _0x1f19ba=_0x1b610a,_0x62df67=_0x55586d[_0x1f19ba(0x7c6)],_0x3ff627=_0x1f19ba(0x9d7)+_0x62df67+'_p'+_0x12a411,_0x58e00f=sessionStorage['getItem'](_0x3ff627);if(_0x58e00f&&_0x3be9bf!=='buyTime'&&_0x3be9bf!==_0x1f19ba(0xb11)){showMessage(_0x1f19ba(0x825));const _0x175344=document[_0x1f19ba(0x8a9)](_0x1f19ba(0xbdf)+_0x3be9bf);if(_0x175344)_0x175344[_0x1f19ba(0x317)]=![];return;}if(_0x3be9bf===_0x1f19ba(0x8c8)){sessionStorage[_0x1f19ba(0x616)](_0x3ff627,_0x3be9bf),playSystemSound('powerup'),renderStudentSyncQuestionView(_0x55586d);return;}const _0x30fed4=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x1f19ba(0xe45),_0x12a411);try{await runTransaction(db,async _0x12a9f0=>{const _0x3dc764=_0x1f19ba,_0x2ac949=await _0x12a9f0[_0x3dc764(0xb2a)](_0x30fed4);if(!_0x2ac949[_0x3dc764(0xa90)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x4e200b=_0x2ac949[_0x3dc764(0x860)](),_0x151b86=_0x4e200b[_0x3dc764(0x9ae)]||{},_0x4b45a8=_0x151b86[_0x3be9bf]||0x0;if(_0x4b45a8<=0x0)throw _0x3dc764(0xbbf);const _0x1a3e1d={};_0x1a3e1d[_0x3dc764(0xc81)+_0x3be9bf]=increment(-0x1);_0x3be9bf!==_0x3dc764(0x8c8)&&(_0x1a3e1d[_0x3dc764(0x6e6)]=0x0);if(_0x3be9bf===_0x3dc764(0x4ff)){const _0x14bd78=(_0x55586d['timerDuration']||0xf0)*0x3e8,_0x1a25d4=_0x14bd78*0.25;_0x1a3e1d[_0x3dc764(0x2ec)]=increment(_0x1a25d4);}_0x12a9f0[_0x3dc764(0x6e5)](_0x30fed4,_0x1a3e1d);}),_0x3be9bf===_0x1f19ba(0x7ff)&&sessionStorage['setItem'](_0x1f19ba(0x9eb),_0x1f19ba(0xd57)),_0x3be9bf!==_0x1f19ba(0x4ff)&&_0x3be9bf!==_0x1f19ba(0xb11)&&sessionStorage[_0x1f19ba(0x616)](_0x3ff627,_0x3be9bf),playSystemSound(_0x1f19ba(0x5c6)),applyPowerupEffect(_0x12a411,_0x3be9bf,_0xa6012d,_0x55586d,_0x4a1872),(_0x3be9bf===_0x1f19ba(0xb9a)||_0x3be9bf===_0x1f19ba(0xd8a)||_0x3be9bf===_0x1f19ba(0x94d)||_0x3be9bf===_0x1f19ba(0x68a))&&renderStudentSyncQuestionView(_0x55586d),_0x3be9bf!==_0x1f19ba(0x8c8)&&_0x4a1872[_0x1f19ba(0x6e6)]>0x0&&showMessage(_0x1f19ba(0x927)+_0x3be9bf+_0x1f19ba(0x70f));}catch(_0x49f7d4){console[_0x1f19ba(0xce3)]('Powerup\x20use\x20failed:',_0x49f7d4),showMessage(typeof _0x49f7d4===_0x1f19ba(0x8d8)?_0x49f7d4:_0x1f19ba(0xae2));const _0x110832=document[_0x1f19ba(0x8a9)](_0x1f19ba(0xbdf)+_0x3be9bf);if(_0x110832)_0x110832[_0x1f19ba(0x317)]=![];}}async function getCachedOtherPlayers(_0x57fe7f,_0x1f47ae){const _0x3b0374=_0x1b610a,_0x1ffa37=_0x57fe7f[_0x3b0374(0x7c6)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x1ffa37)return console[_0x3b0374(0xd62)]('ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)'),cachedOtherPlayersForQuestion;console[_0x3b0374(0xd62)](_0x3b0374(0x13c));const _0x5e8dd0=collection(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+'/players'),_0x2095e3=query(_0x5e8dd0,where(_0x3b0374(0x9fb),'==',_0x3b0374(0x6bc))),_0x1b90cd=await getDocs(_0x2095e3),_0x396e26=[];return _0x1b90cd[_0x3b0374(0xacf)](_0x49ad20=>{const _0xc50c60=_0x49ad20['data']();_0x396e26['push'](_0xc50c60);}),cachedOtherPlayersForQuestion=_0x396e26,cachedQuestionIndexForPlayers=_0x1ffa37,_0x396e26;}async function applyPowerupEffect(_0xace5b1,_0x540bff,_0xc3ccd1,_0x3dc230,_0x3f707d){const _0x271ab8=_0x1b610a,_0x372dc9=_0xc3ccd1,_0x8c36d2=_0x3dc230['currentQuestionIndex'];switch(_0x540bff){case _0x271ab8(0x8c8):showMessage(_0x271ab8(0xaff));break;case _0x271ab8(0x5ef):showMessage(_0x271ab8(0x30a));break;case _0x271ab8(0x4ff):const _0x3a4b20=(_0x3dc230[_0x271ab8(0x60d)]||0xf0)*0.25;showMessage(_0x271ab8(0xb2b)+_0x3a4b20+'\x20วินาที');break;case'cutOne':case _0x271ab8(0xd8a):const _0x19d60b=document['querySelectorAll'](_0x271ab8(0x471));if(_0x19d60b[_0x271ab8(0x14c)]===0x0){showMessage(_0x271ab8(0x76a));return;}const _0xf6f050=_0x271ab8(0x900)+_0x8c36d2+'_p'+_0xace5b1,_0x3946ce=JSON[_0x271ab8(0xbc4)](sessionStorage[_0x271ab8(0x3b7)](_0xf6f050)||'[]');let _0x856094;const _0x24afab=_0x372dc9[_0x271ab8(0xa9f)]||_0x3dc230[_0x271ab8(0x698)]['quizType'];_0x24afab===_0x271ab8(0x8fb)?_0x856094=String(_0x372dc9[_0x271ab8(0xad3)])['toLowerCase']()==='true'?0x0:0x1:_0x856094=_0x372dc9[_0x271ab8(0x26c)];const _0x5f2bcb=Array[_0x271ab8(0x52e)](_0x19d60b)[_0x271ab8(0x58f)](_0x5e1103=>parseInt(_0x5e1103[_0x271ab8(0xd34)][_0x271ab8(0x61e)])!==_0x856094&&!_0x3946ce[_0x271ab8(0x55e)](_0x5e1103[_0x271ab8(0xd34)][_0x271ab8(0x61e)]));if(_0x5f2bcb[_0x271ab8(0x14c)]===0x0){showMessage('ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!');return;}shuffleArray(_0x5f2bcb);const _0x3004da=_0x540bff==='cutOne'?0x1:0x2,_0x145134=[];for(let _0x4be604=0x0;_0x4be604<_0x3004da;_0x4be604++){_0x5f2bcb[_0x4be604]&&(_0x5f2bcb[_0x4be604]['classList'][_0x271ab8(0x786)](_0x271ab8(0x9cf)),_0x145134['push'](_0x5f2bcb[_0x4be604][_0x271ab8(0xd34)]['value']));}const _0x18da2d=[..._0x3946ce,..._0x145134];sessionStorage['setItem'](_0xf6f050,JSON[_0x271ab8(0xb0c)](_0x18da2d)),showMessage(_0x540bff===_0x271ab8(0xb9a)?'⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!':_0x271ab8(0x265));break;default:showMessage(_0x271ab8(0xc27)+_0x540bff+'\x20แล้ว!');}}async function handleForceConfident(_0x3b353e,_0x257bcd){const _0x210a3b=_0x1b610a;if(!currentLiveGameId||!_0x3b353e)return;const _0x221089=doc(db,_0x210a3b(0x407)+appId+_0x210a3b(0xa14)+currentLiveGameId+_0x210a3b(0xe45),_0x3b353e);try{await updateDoc(_0x221089,{'isForcedConfident':!![]}),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0x257bcd+_0x210a3b(0xb01));}catch(_0x194eb7){console[_0x210a3b(0xce3)](_0x210a3b(0xc54),_0x194eb7),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x3ccde1,_0x10ecb6){const _0x263c6a=_0x1b610a,_0x4b0df8=doc(db,_0x263c6a(0x407)+appId+_0x263c6a(0xa14)+currentLiveGameId+_0x263c6a(0xe45),_0x3ccde1);try{const _0xd3cad4={};_0xd3cad4[_0x263c6a(0xc81)+_0x10ecb6]=increment(0x1),await updateDoc(_0x4b0df8,_0xd3cad4),console[_0x263c6a(0xd62)](_0x263c6a(0xde9)+_0x10ecb6+_0x263c6a(0x1b7)+_0x3ccde1);}catch(_0x6d506b){console['error'](_0x263c6a(0x590),_0x6d506b);}}async function handleApplyJinx(_0x2eb285,_0x31beec){const _0x1a24cd=_0x1b610a;if(!currentLiveGameId||!_0x2eb285)return;const _0x399b91=doc(db,_0x1a24cd(0x407)+appId+_0x1a24cd(0xa14)+currentLiveGameId+_0x1a24cd(0xe45),_0x2eb285);try{await updateDoc(_0x399b91,{'isJinxed':!![]}),showMessage(_0x1a24cd(0x3b8)+_0x31beec+'\x20สำเร็จ!');}catch(_0x506cc8){console[_0x1a24cd(0xce3)](_0x1a24cd(0x67a),_0x506cc8),showMessage(_0x1a24cd(0x7b0));}}function activateFileInputAreaWithLoadedFile(){const _0x1dc318=_0x1b610a,_0x383741=document[_0x1dc318(0x8a9)](_0x1dc318(0x88b)),_0x5c991a=document['getElementById']('file-topics-list-container'),_0x14ccd6=document[_0x1dc318(0x8a9)](_0x1dc318(0x8fa));selectedFile?_0x14ccd6[_0x1dc318(0xaa0)]?(_0x383741[_0x1dc318(0x317)]=!![],analyzeFileForTopics(selectedFile)):(_0x383741['disabled']=![],_0x5c991a['classList'][_0x1dc318(0x786)](_0x1dc318(0x9cf))):(_0x383741['disabled']=!![],_0x5c991a[_0x1dc318(0xb12)][_0x1dc318(0x786)]('hidden'));}async function handleKickPlayerSync(_0x25f425){const _0x370bf1=_0x1b610a;if(!currentLiveGameId||!_0x25f425)return;const _0x272bb2=doc(db,'artifacts/'+appId+_0x370bf1(0xa14)+currentLiveGameId+_0x370bf1(0xe45),_0x25f425);try{await updateDoc(_0x272bb2,{'status':'inactive'});}catch(_0x34c7c8){console[_0x370bf1(0xce3)](_0x370bf1(0x577)+_0x25f425+':',_0x34c7c8),showMessage(_0x370bf1(0x494));}}async function renderStudentProgressDashboard(_0x4679b9,_0x408edb){const _0x1f3d2f=_0x1b610a,_0x5df9ed=document[_0x1f3d2f(0x8a9)](_0x1f3d2f(0xa55));_0x5df9ed[_0x1f3d2f(0x568)]=_0x1f3d2f(0x30b);try{const _0x2dd3ec=collection(db,_0x1f3d2f(0x407)+appId+'/public/data/quizzes'),_0x3d8111=query(_0x2dd3ec,where('projectId','==',_0x4679b9)),_0x155ceb=await getDocs(_0x3d8111),_0x1246a9=_0x155ceb['docs'][_0x1f3d2f(0x4cb)](_0x4d224d=>({'id':_0x4d224d['id'],..._0x4d224d[_0x1f3d2f(0x860)]()})),_0xbdf1f7=_0x1246a9[_0x1f3d2f(0x4cb)](_0x217b7f=>getDoc(doc(db,_0x1f3d2f(0x407)+appId+_0x1f3d2f(0x56f)+_0x217b7f['id']+_0x1f3d2f(0x8b6),_0x408edb))),_0x354def=await Promise[_0x1f3d2f(0xbd8)](_0xbdf1f7),_0x321dcc=_0x354def[_0x1f3d2f(0x58f)](_0x453c6e=>_0x453c6e[_0x1f3d2f(0xa90)]())[_0x1f3d2f(0x4cb)](_0x187ce0=>({'quizId':_0x187ce0[_0x1f3d2f(0xcf8)][_0x1f3d2f(0xc49)][_0x1f3d2f(0xc49)]['id'],..._0x187ce0[_0x1f3d2f(0x860)]()}));if(_0x321dcc[_0x1f3d2f(0x14c)]===0x0){_0x5df9ed['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x524123=_0x1f3d2f(0xd17);_0x321dcc[_0x1f3d2f(0xacf)](_0x33d079=>{const _0x12f89e=_0x1f3d2f,_0x4cfcd9=_0x1246a9['find'](_0x2b4cb1=>_0x2b4cb1['id']===_0x33d079['quizId']),_0x454ebc=_0x4cfcd9[_0x12f89e(0x43d)]?.['resultsDisplay']||_0x12f89e(0xc1e),_0x1b9c61=_0x4cfcd9[_0x12f89e(0x43d)]?.['passingScore']??0x0,_0x1d853a=_0x33d079['bestScore']>=_0x1b9c61;let _0x48d956='',_0x48e80d='bg-gray-50';switch(_0x454ebc){case'show_results_and_answers':case _0x12f89e(0x1f6):_0x48e80d=_0x1d853a?'bg-green-50':_0x12f89e(0xce7),_0x48d956='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x1d853a?_0x12f89e(0x2f2):_0x12f89e(0xcc1))+'\x22>'+_0x33d079[_0x12f89e(0x5db)]+_0x12f89e(0x2e6)+_0x33d079[_0x12f89e(0x4f7)]+_0x12f89e(0xc21)+(_0x1d853a?_0x12f89e(0x3d9):_0x12f89e(0x488))+'\x22>'+(_0x1d853a?'ผ่าน':_0x12f89e(0x6c9))+_0x12f89e(0x57e);break;case _0x12f89e(0x5cf):_0x48e80d=_0x1d853a?'bg-green-50':_0x12f89e(0xce7),_0x48d956='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x1d853a?'bg-green-200\x20text-green-800':_0x12f89e(0x488))+'\x22>'+(_0x1d853a?_0x12f89e(0xb04):_0x12f89e(0x6c9))+_0x12f89e(0x57e);break;case _0x12f89e(0x2b4):_0x48e80d=_0x12f89e(0x5c4),_0x48d956=_0x12f89e(0x42d);break;}_0x524123+=_0x12f89e(0xdc9)+_0x48e80d+_0x12f89e(0x606)+_0x4cfcd9[_0x12f89e(0x5cc)]+_0x12f89e(0x3ca)+_0x33d079[_0x12f89e(0x289)][_0x12f89e(0x14c)]+_0x12f89e(0x998)+new Date(_0x33d079[_0x12f89e(0x588)])[_0x12f89e(0x1ec)]('th-TH')+_0x12f89e(0x8bb)+_0x48d956+_0x12f89e(0x679);}),_0x524123+=_0x1f3d2f(0x96b),_0x5df9ed[_0x1f3d2f(0x568)]=_0x524123;}catch(_0x25eb05){console[_0x1f3d2f(0xce3)](_0x1f3d2f(0xa54),_0x25eb05),_0x5df9ed[_0x1f3d2f(0x568)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x3ffa2e=''){const _0x498f46=_0x1b610a,_0x31dd68=document[_0x498f46(0x8a9)]('bank-quiz-list'),_0xa20ad0=_0x3ffa2e[_0x498f46(0x8dd)]()['trim'](),_0x5a9143=allQuizzesGlobal[_0x498f46(0x4cb)](_0x59c842=>({..._0x59c842,'projectName':allProjects['find'](_0x57e77d=>_0x57e77d['id']===_0x59c842[_0x498f46(0xccc)])?.['projectName']||'N/A'}))[_0x498f46(0x58f)](_0xa5d788=>(_0xa5d788[_0x498f46(0x5cc)]||'')['toLowerCase']()[_0x498f46(0x55e)](_0xa20ad0)||(_0xa5d788['projectName']||'')['toLowerCase']()[_0x498f46(0x55e)](_0xa20ad0)||_0xa5d788['id']['toString']()[_0x498f46(0x55e)](_0xa20ad0));_0x31dd68[_0x498f46(0x568)]=_0x5a9143['length']?_0x5a9143[_0x498f46(0x4cb)](_0x1c2385=>_0x498f46(0x880)+_0x1c2385['id']+_0x498f46(0xc30)+(_0x1c2385[_0x498f46(0x5cc)]||'(ไม่มีชื่อ)')+_0x498f46(0xd19)+_0x1c2385[_0x498f46(0x252)]+_0x498f46(0xc5f)+_0x1c2385['id']+_0x498f46(0xbef))[_0x498f46(0x656)](''):_0x498f46(0xdca),_0x31dd68[_0x498f46(0x203)]=()=>{const _0x338492=_0x498f46,_0x111846=document[_0x338492(0x2b0)]('.quiz-bank-checkbox:checked');document[_0x338492(0x8a9)](_0x338492(0x8e0))[_0x338492(0x317)]=!_0x111846;};}function setupStudentProgressListeners(){const _0x53dbb6=_0x1b610a;document['getElementById']('view-my-progress-btn')['addEventListener']('click',showStudentProgressView),document['getElementById'](_0x53dbb6(0x64c))['addEventListener'](_0x53dbb6(0xcc3),()=>{const _0x609f82=_0x53dbb6;document[_0x609f82(0x8a9)](_0x609f82(0x23b))[_0x609f82(0xb12)]['add']('hidden'),document[_0x609f82(0x8a9)](_0x609f82(0xaa3))[_0x609f82(0xb12)]['remove'](_0x609f82(0x9cf));});}async function startSkillPractice(_0xc6909){const _0x33cbbc=_0x1b610a;studentResultArea[_0x33cbbc(0xb12)][_0x33cbbc(0x786)](_0x33cbbc(0x9cf)),studentQuizArea[_0x33cbbc(0x568)]=_0x33cbbc(0xc3d),studentQuizArea['classList'][_0x33cbbc(0x1e9)](_0x33cbbc(0x9cf));try{const _0x6cbfad=await getStandardizedTopic(_0xc6909);console[_0x33cbbc(0xd62)]('คำถามดิบ:\x20\x22'+_0xc6909+_0x33cbbc(0x57d)+_0x6cbfad+'\x22'),studentQuizArea[_0x33cbbc(0x2b0)]('p')[_0x33cbbc(0xab8)]=_0x33cbbc(0x2e2)+_0x6cbfad+_0x33cbbc(0x8ae);const _0x500c75=collection(db,_0x33cbbc(0x407)+appId+'/public/data/practiceBank'),_0x158632=query(_0x500c75,where(_0x33cbbc(0x5cc),'==',_0x6cbfad)),_0x194dca=await getDocs(_0x158632);if(_0x194dca[_0x33cbbc(0x654)][_0x33cbbc(0x14c)]>=0x3){console[_0x33cbbc(0xd62)]('พบข้อสอบ\x20'+_0x194dca[_0x33cbbc(0x654)][_0x33cbbc(0x14c)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x6cbfad+_0x33cbbc(0x613));let _0x523ef1=_0x194dca[_0x33cbbc(0x654)][_0x33cbbc(0x4cb)](_0x2e9a1c=>_0x2e9a1c[_0x33cbbc(0x860)]());shuffleArray(_0x523ef1);const _0x2cdb51={'topic':_0x6cbfad,'questions':_0x523ef1[_0x33cbbc(0x8c0)](0x0,0x3)};displaySkillPracticeDrill(_0x2cdb51);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x6cbfad+_0x33cbbc(0xa13));const _0x109b9a=await generatePracticeQuestions(_0x6cbfad);await saveDrillToPracticeBank(_0x109b9a,_0x6cbfad),displaySkillPracticeDrill(_0x109b9a);}}catch(_0xe00a8e){console[_0x33cbbc(0xce3)](_0x33cbbc(0x1b2),_0xe00a8e),showMessage(_0x33cbbc(0xae8)),studentQuizArea[_0x33cbbc(0xb12)][_0x33cbbc(0x786)](_0x33cbbc(0x9cf)),studentResultArea[_0x33cbbc(0xb12)][_0x33cbbc(0x1e9)](_0x33cbbc(0x9cf));}}async function saveDrillToPracticeBank(_0x33fdfc,_0x1ee8aa){const _0x2c9000=_0x1b610a,_0xd35e85=collection(db,_0x2c9000(0x407)+appId+_0x2c9000(0x69e)),_0x35cdf9=writeBatch(db);_0x33fdfc[_0x2c9000(0x3c6)][_0x2c9000(0xacf)](_0xa36db8=>{const _0x51c85e=_0x2c9000,_0x2f0fc7=doc(_0xd35e85);_0x35cdf9[_0x51c85e(0x98f)](_0x2f0fc7,{'topic':_0x1ee8aa,'questionText':_0xa36db8[_0x51c85e(0x460)],'options':_0xa36db8[_0x51c85e(0x487)],'correctAnswerIndex':_0xa36db8[_0x51c85e(0x26c)],'explanation':_0xa36db8[_0x51c85e(0x658)],'createdAt':serverTimestamp()});});try{await _0x35cdf9[_0x2c9000(0x394)](),console['log'](_0x2c9000(0x1de)+_0x33fdfc[_0x2c9000(0x3c6)]['length']+_0x2c9000(0x42b));}catch(_0x9fc812){console[_0x2c9000(0xce3)](_0x2c9000(0xbbd),_0x9fc812);}}async function getStandardizedTopic(_0x3f4d7a){const _0x3f6c50=_0x1b610a,_0x565653=_0x3f6c50(0xc63)+_0x3f4d7a+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x8fb3f={'type':_0x3f6c50(0x6da),'properties':{'standardTopic':{'type':_0x3f6c50(0x6a7)}},'required':['standardTopic']};try{const _0x596d88=await callAnalysisApi(_0x565653,_0x8fb3f);return _0x596d88[_0x3f6c50(0x1c0)];}catch(_0x1354fb){return console['error'](_0x3f6c50(0xd96),_0x1354fb),_0x3f4d7a;}}async function handleGenerateEasyVersionQuiz(_0x447a24){const _0x26456a=_0x1b610a,_0x256ae5=document[_0x26456a(0x8a9)](_0x26456a(0xb96)),_0x270942=document[_0x26456a(0x8a9)](_0x26456a(0x607));_0x270942['classList'][_0x26456a(0x786)](_0x26456a(0x9cf));const _0x5eb05b=_0x26456a(0x6f5);_0x256ae5[_0x26456a(0xc04)]('beforeend',_0x5eb05b);try{const _0x2189f5=allQuizzes[_0x26456a(0x6bf)](_0x1582b1=>_0x1582b1['id']===_0x447a24);if(!_0x2189f5)throw new Error(_0x26456a(0xaaa));const _0x4da5ba=_0x26456a(0xa4b)+JSON['stringify'](_0x2189f5['questions'])+_0x26456a(0xa6b),_0x5288fe={'type':_0x26456a(0x6da),'properties':{'questionText':{'type':_0x26456a(0x6a7)},'questionType':{'type':_0x26456a(0x6a7)},'options':{'type':_0x26456a(0x7b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x26456a(0x6a7)},'explanation':{'type':_0x26456a(0x6a7)},'imageCode':{'type':_0x26456a(0x6a7)}},'required':[_0x26456a(0x460),_0x26456a(0xa9f),_0x26456a(0x658)]},_0x409a6b={'type':_0x26456a(0x6da),'properties':{'questions':{'type':_0x26456a(0x7b8),'items':_0x5288fe}},'required':[_0x26456a(0x3c6)]},_0x4b2165=await callAnalysisApi(_0x4da5ba,_0x409a6b);_0x4b2165&&_0x4b2165[_0x26456a(0x3c6)]&&_0x4b2165[_0x26456a(0x3c6)][_0x26456a(0xacf)](_0x490103=>{const _0x27707e=_0x26456a;if(_0x490103['hasOwnProperty'](_0x27707e(0x538))){const _0x2b3014=String(_0x490103[_0x27707e(0x538)])['trim']();(_0x2b3014===''||_0x2b3014[_0x27707e(0x8dd)]()==='null'||!_0x2b3014[_0x27707e(0x685)]('<svg'))&&delete _0x490103[_0x27707e(0x538)];}});if(!_0x4b2165||!_0x4b2165[_0x26456a(0x3c6)]||_0x4b2165[_0x26456a(0x3c6)][_0x26456a(0x14c)]===0x0)throw new Error(_0x26456a(0xbf2));const _0x204d3f=_0x4b2165[_0x26456a(0x3c6)][_0x26456a(0x4cb)]((_0x240e3c,_0xe0bd13)=>({..._0x240e3c,'id':'q_'+Date[_0x26456a(0x82a)]()+'_'+_0xe0bd13})),_0x5f0730={'projectId':_0x2189f5[_0x26456a(0xccc)],'quizType':_0x2189f5['quizType'],'settings':_0x2189f5['settings'],'createdBy':_0x2189f5[_0x26456a(0x2b2)],'status':_0x26456a(0x6bc),'topic':_0x26456a(0x26a)+_0x2189f5['topic'],'questions':_0x204d3f,'createdAt':new Date()[_0x26456a(0x3f0)](),'quizMode':_0x26456a(0x856),'pairedQuizId':null};let _0x499615;while(!![]){_0x499615=Math[_0x26456a(0x85e)](0x3e8+Math[_0x26456a(0xa73)]()*0x2328)[_0x26456a(0x91c)]();const _0x37030b=await getDoc(doc(db,_0x26456a(0x407)+appId+_0x26456a(0x399),_0x499615));if(!_0x37030b['exists']())break;}await setDoc(doc(db,_0x26456a(0x407)+appId+_0x26456a(0x399),_0x499615),_0x5f0730),showMessage(_0x26456a(0xb09));}catch(_0x44bd7e){console[_0x26456a(0xce3)](_0x26456a(0xc62),_0x44bd7e),showMessage(_0x26456a(0x762)+_0x44bd7e[_0x26456a(0xba0)]);}finally{const _0x4190d3=document[_0x26456a(0x8a9)](_0x26456a(0x68e));_0x4190d3&&_0x4190d3[_0x26456a(0x1e9)](),_0x270942['classList'][_0x26456a(0x1e9)](_0x26456a(0x9cf));}}async function generatePracticeQuestions(_0x2ba0dc){const _0x1cc579=_0x1b610a,_0x4dcc1d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x2ba0dc+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x27ca0e={'type':_0x1cc579(0x6da),'properties':{'questionText':{'type':_0x1cc579(0x6a7)},'options':{'type':_0x1cc579(0x7b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1cc579(0x832)},'explanation':{'type':_0x1cc579(0x6a7)}},'required':[_0x1cc579(0x460),_0x1cc579(0x487),'correctAnswerIndex',_0x1cc579(0x658)]},_0x33b936={'type':_0x1cc579(0x6da),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x27ca0e}},'required':['topic','questions']};return await callAnalysisApi(_0x4dcc1d,_0x33b936);}function _0xc89a(){const _0x5e3169=['Error\x20processing\x20file\x20for\x20AI:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','startedAt','confidence-scoring-toggle','function','แท็บใหม่','lobby','cancel-game-start-btn','leaderboard-quiz-tab-content','ตั้งเวลา\x20(เปิด)','เวกเตอร์และเมทริกซ์\x20(เสริม)','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เปิด\x20(จับเวลา)','label','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','border-red-300\x20bg-red-50','กรุณาใส่ชื่อนักเรียน','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overline','\x20คนที่ส่ง\x20ตอบถูก\x20(','.pdf','\x20จุด','opacity','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','screen_exit','.quiz-status-btn','cancel-export-pdf-btn','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','normal','postScore','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','quiz-search-input','href','modal-timer-duration-label','use-powerup-wagerMultiplier','27411472','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','shadowBlur','ความสัมพันธ์ของมุม','bg-[#EF4444]\x20text-white\x20font-bold','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','presentation-slide-container','sync-short-answer-input','ธอร์ค้อนบิน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.bp-delete-topic-btn','.answeredCurrentQuestion','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','true','.topic-name-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','border-indigo-400\x20ring-2\x20ring-indigo-200','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','inactive','0\x20(รอโบนัส)','log','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','destination-out','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fill_in_the_blank','.question-editor-item','addEventListener','ฟังก์ชันยกกำลัง','bg-red-100\x20text-red-800','กรุณาเลือกไฟล์ก่อน','.bp-create-onet-quiz-btn','#4338ca','cursor','โหลดนาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','\x20mr-2\x22></i>','</p><div>','ดีเทอร์มิแนนต์','\x22\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','scan-text-image-input','end-sync-game-btn','exitFullscreen','mouseleave','บันทึกการตั้งค่าการแสดงผลสำเร็จ','isLooping','ซื้อ\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','pointercancel','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','powerupUsedThisTurn','quiz-bank-count','\x20\x20\x20-\x20คำตอบ:\x20','exponentialRampToValueAtTime','confirm-game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','เกมสิ้นสุดลงแล้ว','fiftyFifty','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.application-options\x20button','modal-confidence-scoring-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','-\x20ข้อ\x20','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondblclick','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBoundingClientRect','Failed\x20to\x20get\x20standardized\x20topic:','select[name=\x22question_single\x22]','next-review-question-btn','suspended','```','confirmation-message','clearRect','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x22\x20data-topic=\x22','.bp-generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22><span\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20renaming\x20quiz:','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','ข้อต่อไป','removed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','bg-gray-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ยอดเยี่ยม!','กิจกรรมสิ้นสุดลงแล้ว','ส่วนเบี่ยงเบนเฉลี่ย','cancel-move-quiz-btn','beforeend','bp-modal-num-questions','getCroppedCanvas','helvetica','กรุณาสร้างบทเรียนก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','submission-status-chart','การลบเศษส่วน','parallelShortcutTabs','prev-question-btn','responses','file-shortcut-editor-modal','pointsLastRound','Error\x20resetting\x20project\x20order:','leaderboard_','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','getElementsByTagName','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','global-quiz-count','.move-file-shortcut-dropdown','</div></div></div>','close-comparison-modal-footer-btn','สร้างคำถามแบบใช่/ไม่ใช่','offset','แอบชอบ','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','topic-bank-subtopic-name','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','การหารทศนิยม','modal-timer-duration-input','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onloadend','<button\x20data-value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','หัวข้อที่สร้างเอง','pointsLastQuestion','<option\x20value=\x22\x22>กำลังโหลด...</option>','goto-next-question-btn','removeChild','progress-student-select','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','แมวเก้าชีวิต','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','Refunded\x20','default-2','คู่คำตอบ...','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','#math-topics-checkbox-container\x20input:checked','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ลำดับเลขคณิต\x20(AP)','_opt0\x22\x20name=\x22question','title','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','memory','save-quiz-btn','quick_thinker','Error\x20deleting\x20project:','%PDF','$$$1$','pointerdown','เงินงวด\x20(อนุกรมเงินงวด)','file-shortcut-container','difficultyValue','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','confirm-crop-btn','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.use-hidden-shortcut-btn','#10B981','hint-btn','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','parentElement','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','className','canvas','.tab-name-input','ต้นฉบับ\x201','.move-quiz-btn','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-market-btn','<span\x20title=\x22ใช้\x20','perQuestionStats','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','หมดเวลาสำหรับข้อนี้!','wheel','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','Error\x20saving\x20manual\x20blueprint\x20project:','player-count','หมดเวลา!\x20กำลังส่งคำตอบ...','thead','[data-topic-container-id]','Error\x20starting\x20live\x20race:','การบวก','file-shortcut-tabs-nav','save-parallel-shortcut-btn','#FEE2E2','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','starred','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','visibilitychange','source-over','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','แบบทดสอบซ่อมเสริม','modal-loop-until-pass-checkbox','lesson-plan-modal','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','project-title','โลมาบิน','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','post-test','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confidence-modal','close-lesson-plan-modal-footer-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','แผนภาพกล่อง\x20(box\x20plot)','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','24228420aSVBCM','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','sync-timer-enable-checkbox','FileReader\x20error:','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','tooltipTarget','half_mark_status','<textarea\x20name=\x22question','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','/players','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','confidence_single','1000px','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20joining\x20team\x20quiz:','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','zIndex','.project-card-content','ฟังก์ชันราก\x20(root)','buy-time-quantity-input','</tbody></table></div>','shortcut-modal-title','พลังคลื่นเต่า','isAnonymousRevealed','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','ไม่พบข้อมูลผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','close-lesson-view-btn','.pair-quiz-btn','newOptionsPayload','text-blue-700','.quiz-bank-present-btn','Error\x20saving\x20blueprint\x20project:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','numQuestions','isCorrect','🚀\x20คุณเดิมพันหมดหน้าตัก!','\x20\x20\x20-\x20','กลุ่ม:\x20','ลิมิต','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x22\x5cn','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','.edit-hidden-shortcut-btn','quiz-editor-questions-container','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','contentEditable','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','getContext','ปริพันธ์จำกัด','blueprintUrl','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','display','icon','\x22\x20title=\x22','finished','28px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','nextElementSibling','live-race','\x5cdiv','bg-green-100\x20font-bold','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','mainTopics','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','student-result-area','classic','setFont','wager-all-in-btn','\x20จาก\x20','เกิดข้อผิดพลาดในการซื้อ','blueprint-project-manager-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','black-market-modal','input[type=\x22text\x22]','text-emerald-900','correctResponse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','wager-slider','.move-shortcut-item','blueprint-options-container','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','show-leaderboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','👁️\x20เผยตัวเลือก','#FFFFFF','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ครั้ง)</span></td>','<li\x20class=\x22','cancel-bp-settings-btn','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','.delete-svg-btn','passcode-error-msg','create-from-bank-btn','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ai-quiz-app-aefee.firebaseapp.com','ภูเขา','stop','\x22\x20สำเร็จ','บทเรียน','ตอบถูกทุกข้อในแบบทดสอบนี้','scoresCalculated','<option>กำลังโหลดโปรเจค...</option>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','อัตราการเปลี่ยนแปลงทันที','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','text-blue-800','endTime','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','rgba(239,\x2068,\x2068,\x200.9)','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','postTScore','Error\x20starting\x20sync\x20game:','confirm-move-quiz-btn','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','additional-parallel-shortcuts-modal','project-search-input','แบบทดสอบนี้ปิดใช้งานอยู่','(ก่อนเรียน)','undo-btn','length','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','bg-red-500\x20text-white\x20font-bold','add-file-shortcut-tab-btn','QUICK_THINKER','มัธยฐาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.summary-bar-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','closest','ปิดใช้งาน','1378181NdqIPD','isAdaptive','.save-custom-topic-btn','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','ข้อที่\x20','ไม่พบข้อมูลหัวข้อที่จะบันทึก','<option\x20value=\x22','json','แบบทดสอบจากคลังส่วนตัว','playerName','save-file-shortcut-btn','text-indigo-600','.edit-file-shortcut-btn','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','back-from-results-btn','วงรี','include-images-checkbox','shortcut-blueprint-url-input','ไม่มีคำอธิบาย','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','คะแนน','next-question-btn','cancel-quiz-bank-btn','Error\x20updating\x20old\x20quizzes:','</tr>','answer-grid-container','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','lowerGroupNames','fa-rocket\x20text-purple-500','ย้ายแบบทดสอบไปโปรเจคอื่น','ปวดหลัง','drop','additional-parallel-shortcuts-list','topic-input','use-powerup-cutOne','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','<i\x20class=\x22fas\x20fa-save\x22></i>','เกิดข้อผิดพลาดในการโหลดโปรเจค','values','ฟังก์ชันเชิงเส้นและกราฟ','scratchpad-options','เกิดข้อผิดพลาดในการลบนักเรียน','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','.topic-category','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-500','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','</h4>','globalSettings','groups.','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','setAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','ตัวประกอบและตัวประกอบเฉพาะ','quiz-status-modal','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','manual-bp-project-name','items','ครัวซองต์','ฟังก์ชันลอการิทึม','Error\x20verifying\x20answers\x20in\x20editor:','createOscillator','30px','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','เพื่อนสนิท','text-content-input','badgesCount',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','presentation-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','checkbox','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','suggestedAnswer','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','export-leaderboard-excel-btn','parseInline','badges','</p></div>','save-settings-btn','cancel-global-activity-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','txt','playerIndex','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','[*]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x20to\x20','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','สเกลและแผนที่','/3</span></div>','whole_quiz','student-back-to-home-btn','/questionBank','.topic-actions-edit',')</button>','standardTopic','presentation-ai-result','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-countdown','link-topic-input','<span\x20title=\x22ใช้ไอเทม\x22>','lesson-view-content','wasJinxed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ondrop','<div\x20class=\x22space-y-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','table','confidence-mode-select','.cancel-edit-topic-btn','.delete-student-btn','topics.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','referenceFileUrl','camera-input','ฟังก์ชันผกผัน','หน่วยความยาวและการแปลง','กำลังค้นหากิจกรรม...','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x5ccdot','resultsDisplay','.group\x5c/dropdown','Error\x20starting\x20group\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','บันทึกคำถามใหม่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','bg-indigo-600\x20hover:bg-indigo-700','blueprint-settings-modal','มี\x20Points\x20ไม่เพียงพอ','multiply','publicLeaderboard','math-topics-checkbox-container','usedBuyTime','clear-all-links-btn','ไม่มี','remove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกโปรเจค\x20\x22','toLocaleDateString','verify-answers-editor-btn','Enter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</strong></div>','(คู่ขนาน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','loader-text','bg-green-500','show_results_only','ผู้พิชิตดาว','การลบทศนิยม','attemptNumber','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','transition-transform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','open-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','move-quiz-project-select','onchange','พบ\x20Team\x20Quiz!','bg-blue-100\x20text-blue-800','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','ราชาคัมแบ็ก','ไม่พบข้อมูลโปรเจค','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','answer','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.start-presentation-list-btn','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-default-','\x22\x20value=\x22','timerMode','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','พื้นที่วงกลม/ส่วนของวงกลม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','start-live-race-generated-btn','preventDefault','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','parallel-shortcut-url-input','topicName','isForcedConfident','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','viewBox','.shortcut-list-item:not(.opacity-50)','questionIndex','กลุ่มของคุณ','marginBottom','ตารางความถี่','ownerSVGElement','generated-quiz-actions','preScore','hint','md:col-span-3','(คัดลอก)\x20','กฎบวกและกฎคูณ','projectView','localeCompare','แก้ไขสูตรคณิตศาสตร์\x20','ห.ร.ม.\x20(GCD)','สรุปผลสุดท้าย','\x22\x20ให้เป็นคำถามประเภท\x20\x22','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','ceil','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.quiz-bank-parallel-btn','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','อินฟลูเอนเซอร์','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','student-progress-view','underline','การสร้างรูปด้วยวงเวียน–สันตรง','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','confidence-scoring-description','เกิดข้อผิดพลาดในการบันทึก','Error\x20saving\x20user\x20preference:','lineCap','move','bulk-quiz-settings-btn','พิมพ์ตอบ','close-additional-file-shortcuts-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','multiple_choice','สมการลอการิทึม','shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Error\x20processing\x20parallel\x20shortcut\x20click:','อัปเดตแบบทดสอบเก่า\x20','/preferences/main','projectName','passingScore','text/plain','Failed\x20to\x20generate\x20lesson:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','body','bg-teal-500\x20hover:bg-teal-600\x20text-white','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-detail-view','\x22\x20จำนวน\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','ไม่มีผู้ตอบตัวเลือกนี้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-results-display-select','ก่อนเรียน','Attempting\x20to\x20save\x20game\x20results...','กำลังอ่านและเตรียมไฟล์...','จันทร์เจ้า','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','cos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ไอรอนแมน','lineJoin','(ฉบับง่าย)\x20','index','correctAnswerIndex','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','parallel-test-tab','touchcancel','fill_in_with_choices','scale','close-market-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','live-options-container','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','.buy-time-confirm-btn','\x20ข้อ\x20','.subTopic','font-bold\x20text-green-700','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','#open-additional-parallel-shortcuts-btn','MathJax\x20typeset\x20error\x20(analytics):','\x20ชุด)','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','Error\x20comparing\x20results:','/public/data/teamQuizzes','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ชื่อโปรเจคห้ามว่าง','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','text-green-600\x20font-bold','Error\x20updating\x20points:','.eraser-size-btn','answering','attempts','student','webkitAudioContext','#e21b3c','fa-dumbbell\x20text-gray-700','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x20link(s)\x20for\x20quiz\x20ID:\x20','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','Error\x20updating\x20quiz\x20settings:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กุ้งเต้นแร้งกา','rename-quiz-input','camera-crop-btn','\x20|\x20','handleGenerateAndShowLesson','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','cancel-test-btn','width','หนอนหนังสือ','anon-show-answer-toggle','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','onerror','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','cropper-modal','pointerType','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','confident','transition','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สลับไปโหมดผู้ควบคุม','parallel-shortcut-editor-modal','use-powerup-revealOptions','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','createdBy','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','manual_release','confirm-game-start-modal','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','.answered','show-results-btn','visible','เกิดข้อผิดพลาดในการลบ','กรุณาเลือกคำตอบก่อนครับ','results-quiz-title','blueprint-upload-input','commonMistakes','practice-topic-btn','\x20ตัวเลือก)','ค่าคลาดเคลื่อนของการวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','Unexpected\x20API\x20response\x20structure:','🛡️','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-yellow-100','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','cancel-blueprint-projects-btn','save','red','file-topics-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','use-powerup-fiftyFifty','top','highlighter-size-value','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blueprint-input-area','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ท็อปฟอร์ม','passcode-prompt-message','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','ป่าไม้','กรุณาเลือกคำตอบของกลุ่ม','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','bg-green-100','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','dim-overlay','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20/\x20','.delete-shortcut-btn','autoTable','\x22\x20data-quiz-id=\x22','.generate-content-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','timeBonusThisQuestion','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','leaderboard-tab-content','จำนวนคู่:','pointer-events-none','text-green-700','color','<div\x20class=\x22my-2\x22>','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','fadeStartTime','project-passcode-input','-options\x22>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','มือปราบสายรุ้ง','Error\x20saving\x20to\x20question\x20bank:','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','groups','mode','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','frac','geq','60axnuRH','text-purple-600','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','realScore','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','drill-feedback','ตัวเลือก\x20ข','ค่าความจริง/ตารางค่าความจริง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','studentName','fill_in_no_choices','สลับไปโหมดนักเรียน','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','image/png','.live-answer-btn,\x20#sync-submit-btn','disabled','quiz-settings-modal','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','รักแรกพบ','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','text-yellow-800','ยกเลิกการจับคู่สำเร็จ','fa-shield-alt\x20text-gray-600','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','screen','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','specialist','editor-quiz-topic','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','กรุณาใส่ชื่อใหม่','\x22.\x20','quiz','results-table-container','results-table','ยังไม่มีนักเรียนส่งงาน','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manage-players-btn','fixedData','.move-shortcut-dropdown','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','<span\x20title=\x22','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','shortcutId','clientY','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','การบวกเศษส่วน','student-team-join','fix-lesson-latex-btn','start-quiz-btn','\x22\x20name=\x22confidence','Error\x20submitting\x20group\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดาวTikTok','position','passing-score-input','behavior-log-tab-content','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','6309UeJBtW','text-red-700\x20bg-red-100','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a',',\x20r=','ฟังก์ชันค่าสัมบูรณ์','webkitExitFullscreen','.delete-hidden-file-shortcut-btn','ถูกต้อง!','scrollIntoView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','quiz-type-select','กรุณาเลือกชื่อของคุณ','</span><button\x20data-player-name=\x22','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','#FEF3C7','ดวงดาว','ไม่พบข้อมูลผู้ใช้','textarea','.bp-try-btn','ยังไม่เต็มนะ','mode-switcher-btn','bp-modal-question-complexity-select','.delete-hidden-parallel-shortcut-btn','เกมเมอร์','quiz-bank-modal','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','<div\x20style=\x22','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','application/json','add-from-global-bank-btn','กำลังดึงข้อมูลจากลิงก์...','competition','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','applicationHTML','Error\x20committing\x20score\x20updates:','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>(','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','</li>','lowerGroupResponders','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','firstElementChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','approx','bg-white\x20text-gray-800','bottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ปลาทูคะนอง','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','/public/data/customMathTopics','\x5csqrt{$1}','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','start','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-500\x20hover:text-red-700','backgroundColor','commit','bg-red-500','startTime','createObjectURL','รูปสี่เหลี่ยมและสมบัติ','/public/data/quizzes','rgba(255,\x20255,\x200,\x200.5)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','.pointsLastRound','ระบบเลขและค่าประจำหลัก','text-gray-500','change','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','text-gray-400\x20hover:text-indigo-600','AI\x20request\x20was\x20blocked.\x20Reason:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','students','bg-black/10','.answers','modal-confidence-mode-select','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เมทริกซ์:\x20บวก/คูณ','Error\x20duplicating\x20quiz:','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','confidenceMode','question-complexity-select','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','ร้อยละพื้นฐาน','ความคาดหมาย\x20(Expected\x20value)','min','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','trail-tool-btn','หมีขั้วโลกใต้','getItem','ใช้\x20\x22คำสาป\x22\x20กับ\x20','กำลังอัปเดตแบบทดสอบ\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x5cfrac{$1}{$2}','ระยะทางและจุดกึ่งกลาง','ตรีโกณมิติ','match','delete-svg-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','q-explanation-','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','กรุณาเลือกโปรเจคก่อน','อยู่ในสาระการเรียนรู้ใด:','instantWager','questions','getScreenCTM','input[name=\x22syncVariant\x22][value=\x22','lesson-loader','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','teachingContent','พีชคณิตและฟังก์ชัน','ไม่พบโปรเจค','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','bg-gray-100\x20opacity-70','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','โจรสลัดอวกาศ','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20',')\x22><span\x20style=\x22','rgba(79,\x2070,\x20229,\x201)','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','globalCompositeOperation','เรขาคณิตวิเคราะห์','text-green-600','bg-green-200\x20text-green-800','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','blueprint-tab','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','Invalid\x20response\x20structure\x20from\x20API.','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result','.submittedAt','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','subTopic','Error\x20analyzing\x20file\x20for\x20topics:','ฮัลค์','category','matching_item','shortcut-reference-url-input','additional-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กฎของโคไซน์','2561292emlXuR','<span\x20title=\x22โดนคำสาป\x22>😈</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','toISOString','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','image-to-crop','sawtooth','blueprint-topics-list','bg-black/20','after','shortcuts','width\x2060s\x20linear','shortcutOrder','\x20to\x20blueprint\x20topic\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','แบบทดสอบ:\x20','แก้ไขข้อนี้','\x20รายการสำเร็จ!','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','(พยายามอยู่)','referenceUrl','artifacts/','close-additional-parallel-shortcuts-btn','every','สาระที่\x201','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','API\x20call\x20failed','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','จำนวนเต็มลบ','additional-shortcuts-list','parallel-shortcut-modal-title','dimmed','สัญกรณ์วิทยาศาสตร์','scratchpad-controls','<i\x20class=\x22fas\x20fa-pen\x22></i>','highlighter-tools-group','Error\x20starting\x20team\x20quiz:','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','mjx-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x20รายการ...','results','applicationContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','grid-view-btn','\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','/public/data/liveGames','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','SAFETY','\x20(\x22','textAlign','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','fileShortcutOrder','comparison-overall-content','add-shortcut-btn','none','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20Error\x20Body:','ตลาดมืด\x20(-1\x20P)','text-red-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settings','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','mouseup','innerText','blueprint-project-list','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','อินเวอร์สของเมทริกซ์','complexityValue','flex','.mb-6.p-4','Error\x20updating\x20pin\x20status:','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังโหลดคลังข้อสอบทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','generate-from-blueprint-btn','transformOrigin','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','questionId','cancel-quiz-status-btn','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-modal','mean','\x22\x20class=\x22pin-project-btn\x20','wasConfident','Error\x20saving\x20file\x20shortcut:','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','save-blueprint-as-project-btn','questionText','ดอกเบี้ยอย่างง่าย','โดเมนและเรนจ์','แผนการสอน:\x20','</span>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','numChoices','AI\x20did\x20not\x20return\x20any\x20content.','กำลังเตรียมไฟล์...','\x22\x20data-q-type=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','selectedTopicNames','.bp-live-btn','Error\x20during\x20deep\x20delete:','เพิ่มปุ่มลัดใหม่','analytics-tab-content','.live-answer-btn','transform','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','confirm-admin-login-btn','date_desc','student-view','reveal_at_end','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','isArray','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','.star-quiz-btn','Error\x20moving\x20quiz:','\x22\x20name=\x22drill_answer\x22\x20value=\x22','</form>','cropped_image.png','Error\x20updating\x20project\x20color:','.copy-quiz-id-list-btn','input[name=\x22question_single\x22]:checked','แก้ไขปุ่มลัดจากไฟล์','ไม่ใช่','options','bg-red-200\x20text-red-800','gameData','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ไม่ระบุ','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','behavior-log','contains','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','cancel-file-shortcut-edit-btn','add-parallel-shortcut-tab-btn','classWeaknesses','sara','เกิดข้อผิดพลาดในการนำผู้เล่นออก','source_document.pdf','enable-black-market-checkbox','word-break:\x20break-all;','</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','blueprint.pdf','เกิดข้อผิดพลาดในการอ่านไฟล์','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','splice','tabId','.start-live-race-btn','/users/','deltaY','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไก่ฟ้าพญาลอ','typesetPromise','\x20กลุ่ม</p></div>','ผ่านฉลุย','upper_group_count','enable-passcode-checkbox','เกิดข้อผิดพลาดในการบันทึกโปรเจค','manage-tab-content','.topic-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','finishReason','text-white','.parallel-shortcut-tab-btn','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','bg-green-100\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','open-sync-scratchpad-btn','msRequestFullscreen','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-live-game-btn','lineWidth','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','added','-tab-content','จำนวนและการดำเนินการ','live-player-list','sync-player-management','Error\x20adding\x20custom\x20topic:','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','bg-[#DCFCE7]\x20text-green-900','student-quiz-topic','map','AI\x20Formula\x20Fix\x20Error:','bp-project-title','dataIndex','Error\x20loading\x20blueprint\x20projects:','AudioContext','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20id=\x22q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','pointerup','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','some','\x22\x20id=\x22input-','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','gain','onkeydown','\x22\x20class=\x22color-palette-btn\x20','starred-project','handleGeneratePracticeTest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','selected-text-','sync-variant-selector','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','isJinxed','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','price','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','removeItem','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','อสมการค่าสัมบูรณ์','หน่วยมวล/น้ำหนักและการแปลง','cancel-quiz-edits-btn','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','กำลังสร้างคำถามข้อ\x20','ไม่พบข้อมูลเกม','totalQuestions','ยอดนักสืบ','webkitRequestFullscreen','เน็ตช้า','Failed\x20to\x20resume\x20game\x20session:','G-V90KRM0L63','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','buyTime','far\x20fa-star','Failed\x20to\x20create/update\x20submission\x20record:','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x5cpm','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','generated-quiz-container','link-tab','name_asc','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','both','/studentProfiles','ซามูไรสายเดี่ยว','upperGroupResponders','submit','Error\x20generating\x20lesson\x20plan:','strength-weakness-analysis-container','select-all-topics-btn','เลือกและบันทึก','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','update-old-quizzes-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','podium','default','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','confirm-delete-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','กรุณาพิมพ์คำตอบของกลุ่ม','close-additional-shortcuts-btn','substring','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','บักแตงโม','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','Export\x20Image\x20Error:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','sort','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','คำอธิบาย...','quadraticCurveTo','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','submit-team-answer-btn','student-project-leaderboard-content','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','แบบทดสอบที่ติดดาว','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-detail','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','comeback_king','imageCode','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุดสำเร็จ!','API\x20call\x20failed\x20with\x20status:\x20','เพิ่มปุ่มลัดจากไฟล์ใหม่','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','div[data-question-index=\x22','student-quiz-area','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','linkedQuizIds','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ondragstart','Error\x20deleting\x20quiz:','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','text-red-900','API\x20Error\x20Response:','projectOrder','leaderboard-table-body','next-question-timed-btn','shortcut_','\x22\x20name=\x22question_single\x22\x20value=\x22','ON_FIRE','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','คณิตการเงิน/บูรณาการ','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','ปุ่มลัดทั้งหมด','</span></td>','file-shortcut-modal-title','.txt','confirm-manual-bp-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-slider','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','includes','border-green-300\x20bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','ระยะจากจุดถึงเส้นตรง','confirm-join-game-btn','bg-yellow-200','not_generated','choices_only','classStrengths','innerHTML','str','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','40niGZEw','shortcut-id-input','.quiz-bank-try-btn','text-indigo-700','/public/data/quizzes/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','แบบเติมคำตอบ','ใช่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-q-countdown','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','Failed\x20to\x20kick\x20player\x20','\x5csum','touches','auto-fix-latex-btn','.bp-edit-topic-btn','อยู่ในหัวข้อหลักใด:','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','/public/data/blueprintProjects/','สำหรับหัวข้อ\x20\x27','มุมพิเศษ\x2030°-60°-90°','...\x22)?','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','\x20\x0a\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestSubmittedAt','Invalid\x20response\x20structure\x20from\x20AI.','ondragend','timed','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','\x20จุดเรียบร้อยแล้ว','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','filter','Failed\x20to\x20refund\x20powerup:','not-found','Market\x20entry\x20payment\x20failed:','\x22\x20x','student-quiz-leaderboard-tab','sync-manage-players-btn','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','แฟนทิพย์','กำลังอ่านไฟล์อ้างอิง...','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','ปริมาตรรูปทรงสามมิติ','split','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','กรุณาเลือกสถานะ','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x27\x20ในหัวข้อ\x20\x27','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','content','style','bg-gray-200\x20text-gray-700','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','ชีสเค้ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','กำลังสแกนหาแบบทดสอบเก่า...','scores-tab-content','.pointsLastQuestion','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','ไม่สามารถโหลดข้อมูลอันดับได้','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','unshift','ย้ายแบบทดสอบสำเร็จ','.kick-player-btn-sync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','targetId','fixed','close-topic-bank-btn','/public/data/blueprintProjects','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','selectMathOption','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','setAttribute','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','handleGenerateQuizFromBlueprintTopic','z-index:\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','bg-yellow-50','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','powerup','253136alSLst','font-bold\x20text-red-700\x20line-through','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hasOwnProperty','topic','Error\x20displaying\x20blueprint\x20project:','สายลับจับบ้านเล็ก','show_pass_fail_only','.color-palette-btn','\x22>ไม่ใช่</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>','นักเขียน','confidence-input-','progress-project-select','use-powerup-insurance','isConfidenceScoringEnabled','afterend','fontSize','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','touchend','comparison-individual-content','global-activity-quiz-list','.view-bp-lesson-btn','playerNicknames','.png','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','.project-card-container[data-id]','\x20ชิ้น)','[data-topic-id=\x22','Error\x20deleting\x20shortcut:','text-tab','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','input','countdown-display','ซื้อ\x20\x22','ข้าวมันไก่พิเศษ','\x22\x20สำเร็จ!','secondChance','[data-field=\x22subTopic\x22]','num-choices-container','อสมการเชิงเส้น','indexOf','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','devicePixelRatio','delete','beginPath','เกี่ยวกับหัวข้อ\x20\x22','pen','tab_','\x20(Player)\x20(ID:\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','เพนกวินไฟ','.color-palette-popup','</p>','.project-card-container','projectSortOrder','sin','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','project-quizzes-list','text-gray-300','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','loader','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','timerDuration','เกิดข้อผิดพลาดในการลบแบบทดสอบ','กำลังกลับเข้าสู่เกม\x20','(เลือกแล้ว\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','\x20(p=','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','blueprintShortcuts','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-shortcut-tabs-nav','target','originalQuestionText','\x22\x20name=\x22team_answer\x22\x20value=\x22','student-passcode-input','value','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','/public/data/projects','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','.project-card-container.opacity-50','manual-bp-content','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','not_confident','\x5cneq','.group\x5c/dropdown-parallel','ระบบอสมการ','confirm-team-players-btn','files','right','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','manual-bp-grade-level','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','หัวข้อหลักใหม่','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','cancel-rename-quiz-btn','empty','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.file-topic-selection-btn','รายงานผลคะแนน','จำนวนข้อ:','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','admin-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','Error\x20updating\x20quiz\x20status:','ปล่อยพลัง','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','ยังไม่ส่ง','lesson-plan-title','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','No\x20players\x20data\x20found\x20to\x20save\x20yet.','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','ต้นฉบับ\x202','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','back-to-student-home-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','practiceProblems','overallGroups','fill','perfect_score_status','isFinished','\x20คน\x20เรียบร้อยแล้ว!','docs','isSyncGame','join','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','explanation','catch','bulk-quiz-settings-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behaviorLog','resize','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','bar','การวัด','shortcut-editor-modal','AI\x20ไม่สามารถอ่านข้อความได้','bp-modal-passing-score-input','https://corsproxy.io/?','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','manage','.pin-digit-box','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','offsetWidth','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','หน่วยเวลาและการคำนวณเวลา','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','lesson-loader-text','bp-reference-file-url','ศูนย์','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20apply\x20jinx:','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','เกิดข้อผิดพลาดในการจับคู่','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','manual-create-blueprint-btn','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','<div\x20class=\x22p-2\x20rounded-md\x20','startsWith','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','revealOptions','asc','จับคู่แบบทดสอบสำเร็จ!','STOP','temp-loader-results','เงาปริศนา','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','PERSEVERANCE','<span\x20class=\x22sort-indicator\x20ml-2\x22>','.delete-shortcut-tab-btn','quiz-generation-area','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffledQuiz','confirm-create-project-btn','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','/public/data/practiceBank','</span></p>','???','border-green-700','บันทึกการแก้ไข',':</span><span>','.delete-custom-topic-btn','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','STRING','blueprint-projects-modal','NEGATIVE_INFINITY','การยืนยันตัวตนล้มเหลว','touchmove','center','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','use-powerup-wagerMultiplier-instant','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fa-user-astronaut\x20text-blue-700','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','admin-try-quiz-btn','showInStudentDashboard','.move-parallel-shortcut-menu-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','currentTarget','วงกลม:\x20คอร์ดและเส้นสัมผัส','querySelectorAll','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','worksheet-tab','active','PERFECT_SCORE','<p><strong>คำตอบของคุณ:</strong>\x20','find','คุณแน่ใจว่าต้องการลบแท็บนี้?','pen-tools-group','ตรวจทานเฉลยเสร็จสิ้น!','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','Remedial\x20quiz\x20generation\x20failed:','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','แบบทดสอบฝึกฝนเรื่อง:\x20','ไม่ผ่าน','อัศวินรัตติกาล','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','allResponses','input[type=\x22radio\x22][value=\x22','Authentication\x20failed:','shortcutIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','overflowY','currentTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','.topic-actions-view','Auto-linking\x20new\x20quiz\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','จากไฟล์ที่แนบมานี้,\x20','cancel-quiz-settings-btn','ไม่สามารถเริ่มเกมได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20sync\x20game:','หมาป่าเดียวดาย','ค่าสัมบูรณ์','#E5E7EB','update','correctStreak','Error\x20verifying\x20answers:','การหาร','การหารเศษส่วน','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','open-scratchpad-btn','Error\x20unlinking\x20quiz:','\x20ทำงานอยู่!</div>','.delete-parallel-shortcut-tab-btn','document','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ผิด','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fix\x20the\x20option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถบันทึกการตั้งค่าได้','lessonPlan','.pen-color-btn','documentElement','freeMarketEntryUsed_q','anonymous_reveal_end','.flex.justify-between.items-center','push','svg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แคลคูลัสเบื้องต้น','bg-green-500\x20hover:bg-green-600\x20text-white','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','ลำดับการดำเนินการ\x20(PEMDAS)','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','Error\x20clearing\x20all\x20links:','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/syncGames','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcuts-loading-msg','editable-text-','Error\x20saving\x20visibility\x20settings:','live-game','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','bp-quiz-settings-btn','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','element','.ideal-answer-input','<span\x20title=\x22โดนบังคับ\x22>👻</span>','ไม่พบข้อมูลการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเป็นอิสระของเหตุการณ์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','touchstart','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-shortcut-tab-btn','.remove-file-shortcut-from-tab-btn','instructions','ม้าดีดกะโหลก','พบ\x20Sync\x20Game!','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','#results-table\x20thead\x20tr','scratchpad-question','mousemove','input[type=\x22radio\x22]:checked','.topic-selection-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','teacherSuggestions','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','preTScore','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ความต่อเนื่อง','eraser-tools-group','grid','wager-modal','placeholder','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pointContent','<div\x20class=\x22my-6\x22>','เกิดข้อผิดพลาดในการส่งคำตอบ','.rename-quiz-btn','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','slide-counter','\x20คู่\x20','reference.txt','.shortcut-tab-btn','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onclick','Error\x20updating\x20project\x20name:','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-red-600','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','dispatchEvent','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ดูผลสรุปสุดท้าย','matching','blueprint-shortcut-container','_new','pointermove','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','create-project-modal','</td>','bg-white','text-green-800','คัดลอกแบบทดสอบสำเร็จ','เพิ่มรายการที่เลือก','selected-topics-count','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','เกิดข้อผิดพลาด:\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','การคูณเศษส่วน','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','force-math-checkbox','responses.','มูเตลู','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','number','generate-from-text-btn','highlighter','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','keys','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','answers','difficulty-level-select','จากเนื้อหาต่อไปนี้:\x20\x22','newCorrectIndex','_opt','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','start-sync-game-btn','คะแนนเต็ม','leaderboard','เพิ่มหัวข้อ\x20\x22','กระต่ายตื่นตูม','<br>','test','fas\x20fa-user-edit','คะแนนยังไม่ถึงครึ่ง','quizId','Error\x20saving\x20reference\x20URL:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','/public/data/projects/','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','#26890c','pathname','game-pin-input','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','per-question-timer-container','ฟังก์ชันพหุนาม','bp-topic-list-container','<div\x20class=\x22answer-space\x22></div>','timestamp','#D1FAE5','modal-passing-score-input','ไม่สามารถโหลดคลังข้อสอบได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','กำลังอ่านไฟล์\x20Test\x20Blueprint...','บทเรียนเรื่อง:\x20','ไม่สามารถโหลดรายการโปรเจคได้','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','file-shortcut-url-input','.highlighter-color-btn','confirm-not-confident','text-red-300\x20hover:text-red-100','data:application/vnd.ms-word;charset=utf-8,','Leaderboard\x20update\x20transaction\x20failed:\x20','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','confidence-mode-container','link-input-area','1:274192258111:web:4120c9118229b5644dd48a','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาตั้งชื่อแท็บใหม่:','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','Error\x20unpairing\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','verify-answers-btn','num-questions','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','</span></div>','q-image-container-','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','เกิดข้อผิดพลาดในการใช้ไอเทม','Error\x20linking\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','gradeLevel','ติดซีรีส์','.bp-unlink-quiz-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','องค์ประกอบของฟังก์ชัน','bp-add-topic-btn','.lastAnswerIndex','$1\x5c%','confidence','currentQuestionIndex','submit-group-answer-btn','readAsArrayBuffer','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่ม\x20','moveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','กรุณาพิมพ์คำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bg-green-200','open','Error\x20joining\x20activity:','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวเลือก\x20ก','.linkedQuizIds','code','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','เส้นรอบรูป','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','duration-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.group\x5c/dropdown-file','student-name-select','ไม่พบโปรเจคที่ต้องการลบ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คณิตศาสตร์','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','players','.regenerate-question-btn','รอผู้ควบคุมไปข้อต่อไป...','เรเดียนและการแปลงหน่วย','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','http://www.w3.org/2000/svg','summaryContent','การคูณ','นักล่าฝัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','analytics','confirm-bulk-quiz-settings-btn','bank-input-area','contents','Error\x20showing\x20quiz\x20detail\x20view:','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','Error\x20joining\x20live\x20game:','source_document.txt','reset-project-order-btn','fromCharCode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','poll','จำนวนเชิงซ้อน\x20(เสริม)','ระบบสมการเชิงเส้นสองตัวแปร','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','text/csv;charset=utf-8;','release','AI\x20กำลังสแกนข้อความ...','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','add-student-btn','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-bp-settings-btn','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ฐานนิยม','100%','คำเตือน\x20(','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Error\x20generating\x20worksheet:','274192258111','):\x20','short_answer','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','reduce','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','.ai-content\x20td','topic-input-area','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</h3>','schedule','การลบ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','text/html','perfect_score','modal-timer-mode-select','pointsAwarded','question','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','now','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','keyup','เส้นจำนวน','toggle','pin-entry-modal','NUMBER','createGain','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','name','สมการเหตุผล\x20(rational)','ผู้ควบคุม\x20(ทดสอบ)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x20แบบทดสอบลงในคลังสำเร็จ!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','</th>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','sync-timer-bar','คนดีศรีสยาม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','firstScore','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','total','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','Error\x20submitting\x20team\x20answer:','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','ฟังก์ชันสัมพัทธ์\x20(rational)','นักเดินทาง','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20</div>','ความน่าจะเป็นแบบมีเงื่อนไข','toFixed','save-quiz-edits-btn','<div\x20class=\x22','\x20ตัวเลือก.\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','Error\x20fetching\x20student\x20rankings:','game-start-mode','standard','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-emerald-800','questionStatus','name_desc','results-quiz-id-display','คัดลอกไม่สำเร็จ','scores','floor','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','data','cancel-passcode-btn','Error\x20fetching\x20lesson\x20content:','ค่าเฉลี่ย','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','earned-badges-container','<div\x20class=\x22flex-1\x22></div>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','back-to-dashboard-from-results-btn','ท้องฟ้า','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','Error\x20in\x20handleApiCall:','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','.delete-parallel-shortcut-btn','isNormalTopic','modified','\x22\x20value=\x22false\x22\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.toggle-actions-btn','team-student-list','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','market-item-list','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','loopUntilPass','workerSrc','join-group-activity-btn','activeGameSession','.delete-project-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','state','new-question-type-select','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-end-time','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','Team\x20Quiz','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-dashboard','generate-from-file-btn','Error\x20toggling\x20pin\x20status:','หยุดระบบจับเวลาหรี่หน้าจอ','translate(','ผู้เล่น\x20','อุณหภูมิและการแปลง','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ffffff','กราฟฟังก์ชันตรีโกณ','ยืนยันการกระทำ','</button>','AI\x20grading\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-input','justification','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.totalPoints','.confidence-choice-btn','จำนวนเต็มบวก','เกิดข้อผิดพลาดในการแก้ไข','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','คาถาแยกเงาพันร่าง','topic_','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','math-topic-search-input','powerupUsed','getElementById','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','highlighter-tool-btn','.ideal-answer-input,\x20.correct-response-input','wager-max-points','\x22...','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','การปัดเศษและประมาณค่า','players.','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','modal-timer-duration-container','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','/submissions','left','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','ลบโปรเจค\x20\x22','ผู้ไม่ยอมแพ้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.custom-math-dropdown','FIRST_TRY_ACE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','slice','isPasscodeEnabled','ai-quiz-generator-v3','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','lastAnswerCorrect','team-player-status-grid','mouse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','wagerMultiplier','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','market-current-points','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','⏳\x20ซื้อเวลา','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','timer-bar','file-default-2','result','.draggable-text','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','desc','focus','string','Error\x20editing\x20topic:','<tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','substr','questionDisplayedAt','confirm-link-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','.bp-view-analysis-btn','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','requestFullscreen',';\x22\x20data-tooltip-target=\x22tooltip-','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ตัวเลือก\x20ค','input[name=\x22drill_answer\x22]:checked','ต้นฉบับทั้งหมด','<span\x20class=\x22block\x20text-sm\x20','ไม่พบข้อมูลแบบทดสอบ','สร้างใหม่','file-shortcuts-loading-msg','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','submissions','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','student-quiz-leaderboard-content','bp-modal-difficulty-level-select','separate-by-content-from-file-checkbox','true_false','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','stopPropagation','CEOพันล้าน','file-shortcut-id-input','hiddenOptions_q','file-tab','#000000','lesson-view-modal','next-drill-btn','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x22\x20value=\x22true\x22\x20','dragover','#E0E7FF','stepByStepExamples','live-short-answer-input','topicId','appendChild','scratchpad-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x20P)','สถานะไม่ชัดเจน','%</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal-answer-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','792822RrppWg','แม่น้ำ','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความคล้ายของรูป','student-quiz-leaderboard-table-body','sine','\x20สำเร็จ','toString','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x201','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','Error\x20adding\x20topic:','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','เกิดข้อผิดพลาดในการอัปเดต:\x20','เกิดข้อผิดพลาดในการเข้าตลาดมืด','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','คุณใช้ตัวช่วย\x20\x22','modal-shuffle-select','order','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pow','.doc','src','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','ไม่พบแบบทดสอบสำหรับรหัสนี้','reference_onet.pdf','/lessons','hover:bg-indigo-100','applicationData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','ทศนิยม\x20(ค่าประจำหลัก)','showAnswerInAnonymous','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeAttribute','แก้ไข\x20Points\x20ของ\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','point','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','reset-view-btn','ยูทูปเบอร์ฝึกหัด','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','parts','.file-shortcut-btn[data-id=\x22','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-parallel-shortcut-edit-btn','ดอกเบี้ยทบต้น','shortcut-name-input','insurance','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz','Error\x20submitting\x20answer:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','(รอคะแนน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','export-excel-btn','AI\x20Fix\x20Error:','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','(ก่อนเรียน)\x20','.presentation-option','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','numeric','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','live-submit-short-answer-btn','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','ไม่พบแบบทดสอบในระบบเลย','reference-pdf-upload','ควรปรับปรุง','ตัวเลือก\x20ง','</label></div>','cloneNode','#6366F1','sync-timer-duration-container','parallel-shortcut-name-input',')\x22>','padding','</div>','originalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไอติมทอด','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','.ai-content\x20p','input-','Blueprint\x202','🔁\x20โอกาสครั้งที่สอง','insertBefore','Error\x20deleting\x20student:','.scratchpad-content-wrapper','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','bg-[#4ADE80]\x20text-green-900\x20font-bold','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','start-presentation-btn','generate-worksheet-btn','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','https://drive.google.com/uc?export=download&id=','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','parallel-shortcut-id-input','additional-file-shortcuts-list','Buy\x20Item\x20failed:\x20','Blueprint\x201','arrayBuffer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','back-to-project-btn','fas\x20fa-star\x20text-yellow-500','ไม่พบข้อมูลข้อสอบหลังเรียน','ออฟฟิศซินโดรม',')</span></div>','div','เกิดข้อผิดพลาดในการลบหัวข้อ','set','bulk-loop-until-pass-checkbox','class','connect','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutTabs','rename-quiz-modal','.edit-question-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','isRemedial','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','answerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pre-test-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x22\x20data-target-tab-id=\x22','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','button[type=\x22submit\x22]','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','cancel-confidence-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-shortcut-id=\x22','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','Error\x20saving\x20shortcut\x20config:','powerups','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-present-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','times','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','Error\x20saving\x20settings:','รหัสไม่ถูกต้อง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','results_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','quiz-leaderboard-table-container','ชาไข่มุก','ลบโปรเจคสำเร็จแล้ว','endsWith','Error\x20during\x20blueprint\x20link\x20cleanup:','timer-mode-select','open-blueprint-projects-btn','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','dragstart','นอนไม่พอ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','parallelShortcutOrder','เกิดข้อผิดพลาดในการเปลี่ยนสี','setValueAtTime','original-mode-checkbox','hidden','[data-topic-id]','นกฮูกกลางวัน','th-TH','live-game-view','sum','close','quiz-start-time','powerupUsed_q','fileShortcutsConfig','cdot','<button\x20data-quiz-id=\x22','round','back-to-results-btn','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','<span\x20class=\x22font-bold\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',';\x22\x20data-id=\x22','padStart','bp-modal-quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','qType','ส่งแล้ว','เกิดข้อผิดพลาดในการลบผลสอบ','.group','isDefault','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','pollUsedThisTurn','curriculum','รายการนี้','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','Error\x20fetching\x20quiz\x20settings:','totalPoints','pinnedProjects','ไม่ได้ตอบ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','num-choices','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','text','create-project-btn','scrollHeight','ไม่พบไฟล์\x20Test\x20Blueprint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','status','จับคู่เพื่อเปรียบเทียบผล','fileShortcutTabs','1680602NjgGlu','ตัวแทนแห่งดวงจันทร์','px)\x20scale(','save-game-results-checkbox','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','draggable-text','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','clientX','msExitFullscreen','<div\x20class=\x22mb-3\x20topic-category\x22>','onblur','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x20คะแนน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','ใช่\x20/\x20ถูก','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','/public/data/syncGames/','.score','numPages','toDate','\x5cge','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','เกิดข้อผิดพลาดในการสร้าง:\x20','warn','textarea[name=\x22team_answer\x22]','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','editable-quiz-topic','\x20mb-2\x22>','.ai-content\x20h3','\x22\x20data-name=\x22','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','date_asc','Failed\x20to\x20generate\x20practice\x20test:','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','สรุปผลการวิเคราะห์:\x5cn','points','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','bulk-confidence-scoring-checkbox','comparison-overall-tab','การจัดกลุ่มข้อมูล','group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สำหรับโปรเจค:\x20','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','description','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','itemId','\x0a\x20\x20\x20\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','blur','getBBox','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','Firebase\x20initialization\x20failed:','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่สร้าง','getTime','#confidence-input-','.quiz-bank-settings-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerIndex','#view-rankings-btn','cancel-shortcut-edit-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไฮเพอร์โบลา','Error\x20clearing\x20linked\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-file-shortcuts-btn','Error\x20rendering\x20student\x20progress:','student-progress-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','comparison-individual-tab','perseverance','pinned-items','jspdf','val','```json','blob','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','quiz-editor-modal','comparison-modal','.topic-row','bulk-confidence-mode-select','Blueprint\x20O-NET\x20ป.6','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100','.lastAnswerValue','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','ฟังก์ชันกำลังสองและกราฟ','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-quiz-bank-modal','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','scale-125','random','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shadowColor','summary','Error\x20generating\x20teaching\x20content:','\x20(สำหรับ\x20','.tab-name-display','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','subTopics','members','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20listening\x20for\x20student\x20profiles:','#F3E8FF','qIndex','ดาบพิฆาตอสูร','.quiz-bank-delete-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','interesting-stats-wrapper','list','save-project-name-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','Error\x20saving\x20quiz:','.hidden-option-input','.generate-post-test-btn','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','exists','text-green-700\x20bg-green-100','input[name=\x22team_player\x22]:checked','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','next-sync-question-btn','แก้ระบบสมการด้วยเมทริกซ์','file-shortcut-name-input','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','</tbody></table>','วงกลม:\x20สมการและสมบัติ','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','close-comparison-modal-btn','pop','interesting-stats-container','questionType','checked','dblclick','export-word-btn','student-initial-view','isStarred','ความแปรปรวน','black-market-settings-container','.sort-indicator','tool','สร้างโปรเจคสำเร็จ!','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-sections-container','first_try_ace','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','export-compact-pdf-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อ\x20','scan-text-image-btn','.linkedQuizId','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','modal-results-display-select','dashboardConfig','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','actions-container-','teacherTips','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','ดาวสภา','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','</a>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.isScored','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','cancel-team-selection-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','forEach','#results-table','border-red-700','คนคุย','correctAnswer','add-parallel-shortcut-btn','generate-from-topic-btn','currentMode','oninput','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-team-selection-view','size','scheduled_pending','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อโปรเจค','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','add-custom-math-topic-btn','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','player-list-lobby','เกิดข้อผิดพลาดในการใช้ตัวช่วย','พื้นที่สี่เหลี่ยม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20analyzing\x20blueprint\x20topics:','confidence-scoring-checkbox','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getPage','ตรวจพบการออกจากหน้าจอครบ\x20','.ai-fix-formula-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','สมมาตร\x20(แกน/จุด)','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','2-digit','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','AI\x20ไม่ส่งผลลัพธ์กลับมา','parallel-default-1','scores-tab-btn','select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.pen-size-btn','.toggle-hidden-options-btn','bp-modal-include-images-checkbox','ฮิสโตแกรม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','doc','\x20สำเร็จ!','shouldSaveResults','.use-hidden-file-shortcut-btn','ผ่าน','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','ตลาดมืด\x20(','scratchpad-modal','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','กรุณาวาง\x20URL\x20ของบทความก่อน','student-name-input','stringify','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.file-shortcut-btn','ส่งคำตอบ','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','strategyScan','classList','replaceChild','.quiz-bank-item','ครูใหญ่','export-leaderboard-pdf-btn','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','anon-settings-container','type','quiz-results','MathJax','transition-all','file-default-1','border-indigo-500\x20text-indigo-600','newOptions','presentation-scratchpad-btn','game-start-modal-title','#F59E0B','anonymous','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x22,\x20','start-game-btn','replace','scratchpad-clear-btn','maxHeight','get','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','<p\x20class=\x22','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','url','sync','answerText','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','\x22\x20data-pre-test-id=\x22','parallelTestShortcutsConfig','game-start-quiz-id','uid','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','upperGroupNames','.use-hidden-parallel-shortcut-btn','รีเซ็ตลำดับโปรเจคแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','deselect-all-topics-btn','export-pdf-modal','เนื้อหาสำหรับสอน:\x20','project-list','Error\x20saving\x20quiz\x20edits:','file-input-area','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','(ไม่มีชื่อ)','<p><strong>คำตอบที่แนะนำ:</strong>\x20','student-reading-area','no-projects-msg','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','wasForced','\x20คะแนน</span></div>','ลำดับเรขาคณิต\x20(GP)','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','linearRampToValueAtTime','สายตาสั้น','student-join-game-view','เกิดข้อผิดพลาด','binom','bp-modal-shuffle-setting-select','answeredCurrentQuestion','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','wager-amount-display','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','export-worksheet-pdf-btn','max','<button\x20data-id=\x22','Error\x20in\x20generating\x20from\x20files:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','blockReason','eraser','main-correct-answer-display','...','opacity-50','บันทึกการตั้งค่าสำเร็จ','student-project-leaderboard-table-body','selected-answer-index-hidden','ไฟล์ทั้งหมด','mandatory','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22>ไม่ใช่</label></div>','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','request','-tab','ไม่พบตารางสำหรับ\x20Export','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','shuffle','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','quiz-leaderboard-table-body','docChanges','confirm-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','N/A','student-list','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','height','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','อนุพันธ์:\x20กฎลูกโซ่','.file-shortcut-tab-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','download','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','สถิติและความน่าจะเป็น','show-in-student-dashboard-checkbox','gameVariant','คำถาม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','คำถามถัดไป','smooth','.shortcut-btn','input[type=\x22checkbox\x22]','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x20pointer-events-none\x22>','✂️\x20ตัด\x201\x20ตัวเลือก','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','รอเปิด','correct','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','cutOne','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','เซียนสมองไว','manage-tab','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','message','.live-summary-tooltip.visible','#file-shortcut-tabs-nav\x20.tab-name-input','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','.sortable-header','<button\x20id=\x22','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','line-height:\x201.3;\x20min-width:\x200;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','summary_chart','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','สมการค่าสัมบูรณ์','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','team','\x20in\x20all\x20blueprint\x20projects.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','.csv','Error\x20deleting\x20custom\x20topic:','ส้มตำปูปลาร้า','สร้างคำถามแบบเติมคำในช่องว่าง','แก้ไขปุ่มลัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','visibilityState','memoryContent','ไม่สามารถเพิ่มนักเรียนได้','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.generate-easy-version-btn','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','100px','line-through\x20text-red-700','\x22\x20ออกจากคลังนี้?','parse','prod','readAsDataURL','isPinned','Error\x20generating\x20from\x20link:','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','มังกรกินจุ','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','comparison','</span>','globalAlpha','Game\x20results\x20already\x20saved.\x20Skipping.','<li>','analytics-summary-cards','Error\x20listening\x20for\x20projects:','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','สร้างชุดคำถามจับคู่','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','all','tan','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','ยืนยันและอัปเดตทั้งหมด','rows','กรุณาเลือกโปรเจคปลายทาง','use-powerup-',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','</option>','.bp-game-btn','สิงโตยิ้ม','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','has','add-file-shortcut-btn','fullscreenchange','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ระยะเวลา\x20(วินาที):','quizMode','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','bank-quiz-list','ดีมาก','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','หมูกระทะจะเยียวยาทุกสิ่ง','toBlob','bp-modal-num-choices','.pin-key','s;\x22\x20title=\x22','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','insertAdjacentHTML','responseSchema','การแปลงรูปอัตลักษณ์','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','pairedQuizId','answer-counter','leaderboard-tab','.bp-create-topic-quiz-btn','toDataURL','application/pdf','includeImages','resume','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20creating\x20project:','#retake-for-improvement-btn','submittedAt','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','end-game-btn','.quiz-bank-checkbox:checked','file-upload-input','(ตามมาติดๆ)','global-activity-modal','learningGaps','รากที่สองและที่สาม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-wager-btn','show_results_and_answers','.text-indigo-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','.auto-resize-textarea','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','modal-message','ใช้ไอเทม\x20','generationConfig','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','Error\x20listening\x20for\x20starred\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','modal-adaptive-quiz-checkbox','Failed\x20to\x20end\x20group\x20mode\x20game:','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','shuffleSetting','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','medium','frequency','hasPerfectScoreBonus','closePath','stem','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','idealAnswer','additional-file-shortcuts-modal','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.option-input','Matching\x20options\x20synced:','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','tGain','file-topic-input','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','previousElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','6376TdPbEX','parent','onSecondChance','reviewQuestionIndex','.parallel-shortcut-btn','quiz-results-view','lower_group_count','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิต','.status','back-to-dashboard-btn','นินจาชาเขียว','Failed\x20to\x20apply\x20forceConfident:','loop-until-pass-checkbox','file.pdf','topics','parallel-default-','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','modal-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','text-gray-200','stroke','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x20|\x20ID:\x20','dropdown-list-','.open-bp-project-btn','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','bg-yellow-300\x20text-yellow-900\x20font-bold','default-1','trail','\x22>จาก:\x20','reveal-names-btn','พิซซ่าหน้าทุเรียน','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-700\x20text-white\x20font-bold','ส่วนเบี่ยงเบนมาตรฐาน','border-gray-300','Error\x20deleting\x20submission:','undefined','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','generate-from-parallel-test-btn','application','อัตราส่วนและสัดส่วน','จิงโจ้สโลว์ไลฟ์','.quiz-result-card','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','การประยุกต์เวกเตอร์พื้นฐาน','bulk-confidence-mode-container','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','sync-player-list','powerups.','list-view-btn','worksheet-input-area','strokeStyle','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เสือซ่อนเล็บ','scheduled','bank-quiz-search-input','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','AI\x20แก้ไขคำถามสำเร็จ!','passcode','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','กำลังสร้างแบบทดสอบ\x20\x22','(กำลังไล่ตาม)','AI\x20ไม่สามารถประมวลผลข้อมูลได้','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','text-input-area','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','.move-parallel-shortcut-dropdown','toggleMathDropdown','\x27Sarabun\x27,\x20sans-serif','kick-player-btn','parentNode','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','check-presentation-answer-btn','การคูณทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','restore','destroy','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','transparent','short','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','สายลมแห่งโชคชะตา','กำลังวิเคราะห์หัวข้อ...','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','block','false','promptFeedback','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','quizType','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างเนื้อหา:\x20','quiz-results-table-body','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','latestScore','lastIndexOf','on_fire','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','text-red-700','ความชันและเส้นตรง','click','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','pre-test','เศรษฐีดูไบ','promise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','_blank','close-student-rankings-btn','projectId','submission','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','ไม่ใช่\x20/\x20ผิด','ย้าย','answered','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseVal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','keydown','<p\x20class=\x22text-xl\x22>','resultsSaved','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','\x20mx-1\x20text-lg\x22></i></span>','parallel-shortcut-container','export-image-btn','rgba(79,\x2070,\x20229,\x200.8)','abs','quiz-form','worksheet-topic-input','wakeLock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','error','นักวิทยาศาสตร์','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20project\x20quizzes:','bg-red-50','</strong></p>','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','👁️','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','Re-grade\x20process\x20failed:','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','ลาเต้ไม่หวาน','</body></html>','#open-additional-shortcuts-btn','กำลังจับคู่...','generated','findIndex','.edit-custom-topic-btn','ref','analytics-tab-btn','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','.question-editor-item[data-q-index=\x22','isBlackMarketEnabled','print','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-question-editor-btn','pin','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','topic-bank-list','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','removeEventListener','file-topics-list-container','พื้นที่ผิวรูปทรงสามมิติ','พาราโบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-red-100\x20text-red-900','shortcut-tabs-nav','สร้างแบบทดสอบ','user','คู่จิ้น','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(239,\x2068,\x2068,\x200.7)','เลือกโปรเจคเพื่อบันทึก','mousedown','keyConcepts','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>','เกิดข้อผิดพลาดในการปักหมุด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','.correct-response-input','\x5ctimes','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','overflow'];_0xc89a=function(){return _0x5e3169;};return _0xc89a();}function displayLessonPlan(_0x209519,_0x1bd69b){const _0x195d5a=_0x1b610a,_0x902a6=_0x195d5a(0xd80)+_0x1bd69b['topic']+_0x195d5a(0x248)+_0x209519[_0x195d5a(0xc1a)][_0x195d5a(0x4cb)](_0x44f079=>_0x195d5a(0xbd0)+_0x44f079+_0x195d5a(0x376))[_0x195d5a(0x656)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x209519['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x209519[_0x195d5a(0x64e)]['map'](_0x366d19=>_0x195d5a(0x7c0)+_0x366d19[_0x195d5a(0x824)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x366d19[_0x195d5a(0x320)]+_0x195d5a(0x1ac))[_0x195d5a(0x656)]('')+_0x195d5a(0x127);document[_0x195d5a(0x8a9)]('lesson-plan-title')[_0x195d5a(0xab8)]=_0x195d5a(0x463)+_0x1bd69b['topic'],document[_0x195d5a(0x8a9)](_0x195d5a(0xc8f))[_0x195d5a(0x568)]=_0x902a6,document[_0x195d5a(0x8a9)]('lesson-plan-modal')[_0x195d5a(0xb12)][_0x195d5a(0x1e9)](_0x195d5a(0x9cf));if(window['MathJax'])MathJax[_0x195d5a(0x4a5)]();}function displaySkillPracticeDrill(_0x5d3f1d){const _0x29ae78=_0x1b610a;let _0x3a9165=0x0;const _0x238d44=_0x5d3f1d[_0x29ae78(0x3c6)],_0x207934=()=>{const _0x4a9246=_0x29ae78,_0x485043=_0x238d44[_0x3a9165],_0x5cb44b=_0x4a9246(0x41e)+(_0x3a9165+0x1)+_0x4a9246(0x2e6)+_0x238d44[_0x4a9246(0x14c)]+_0x4a9246(0x7a8)+_0x485043[_0x4a9246(0x460)]+_0x4a9246(0x1ea)+_0x485043[_0x4a9246(0x487)][_0x4a9246(0x4cb)]((_0x446be1,_0x54e104)=>_0x4a9246(0x267)+_0x54e104+_0x4a9246(0x47f)+_0x54e104+_0x4a9246(0xe35)+_0x54e104+'\x22>'+_0x446be1+_0x4a9246(0x6f3))[_0x4a9246(0x656)]('')+_0x4a9246(0x96d);studentQuizArea[_0x4a9246(0x568)]=_0x5cb44b;if(window[_0x4a9246(0xb1b)])MathJax[_0x4a9246(0x4a5)]([studentQuizArea]);document[_0x4a9246(0x8a9)](_0x4a9246(0xe05))[_0x4a9246(0xd68)](_0x4a9246(0xcc3),async()=>{const _0x5c7dc8=await getHintForQuestion(_0x485043['questionText']);showMessage(_0x5c7dc8);}),document[_0x4a9246(0x8a9)](_0x4a9246(0x94e))[_0x4a9246(0xd68)]('click',()=>{const _0x6cbcea=_0x4a9246,_0x5798ca=document['querySelector'](_0x6cbcea(0x8eb));if(!_0x5798ca){showMessage(_0x6cbcea(0x2bb));return;}const _0x470d14=document[_0x6cbcea(0x8a9)](_0x6cbcea(0x30d)),_0x1c3012=parseInt(_0x5798ca['value'])===_0x485043['correctAnswerIndex'];_0x1c3012?(_0x470d14[_0x6cbcea(0xe0a)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x470d14[_0x6cbcea(0x568)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x485043[_0x6cbcea(0x658)]):(_0x470d14[_0x6cbcea(0xe0a)]=_0x6cbcea(0xe44),_0x470d14['innerHTML']=_0x6cbcea(0x5c9)+_0x485043[_0x6cbcea(0x658)]);_0x470d14[_0x6cbcea(0xb12)][_0x6cbcea(0x1e9)]('hidden');if(window[_0x6cbcea(0xb1b)])MathJax['typesetPromise']([_0x470d14]);document[_0x6cbcea(0x8a9)]('check-answer-btn')[_0x6cbcea(0xb12)]['add'](_0x6cbcea(0x9cf)),document['getElementById'](_0x6cbcea(0xe05))[_0x6cbcea(0xb12)][_0x6cbcea(0x786)](_0x6cbcea(0x9cf)),document[_0x6cbcea(0x8a9)](_0x6cbcea(0x904))[_0x6cbcea(0xb12)][_0x6cbcea(0x1e9)](_0x6cbcea(0x9cf));}),document['getElementById'](_0x4a9246(0x904))['addEventListener'](_0x4a9246(0xcc3),()=>{const _0x10edf6=_0x4a9246;_0x3a9165++,_0x3a9165<_0x238d44[_0x10edf6(0x14c)]?_0x207934():(studentQuizArea[_0x10edf6(0x568)]=_0x10edf6(0xb33),document[_0x10edf6(0x8a9)](_0x10edf6(0x9dc))[_0x10edf6(0xd68)](_0x10edf6(0xcc3),()=>{const _0x3387a5=_0x10edf6;studentQuizArea[_0x3387a5(0xb12)]['add'](_0x3387a5(0x9cf)),studentResultArea[_0x3387a5(0xb12)]['remove'](_0x3387a5(0x9cf));}));});};_0x207934();}async function getHintForQuestion(_0x278986){const _0x450388=_0x1b610a,_0x25ec6a=_0x450388(0x9ca)+_0x278986+_0x450388(0x3ce),_0x511914={'type':_0x450388(0x6da),'properties':{'hint':{'type':'STRING'}},'required':[_0x450388(0x22a)]};try{const _0x3ab632=await callAnalysisApi(_0x25ec6a,_0x511914);return _0x3ab632[_0x450388(0x22a)];}catch(_0x1a6dfd){return console[_0x450388(0xce3)]('Failed\x20to\x20get\x20hint:',_0x1a6dfd),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x2c89dd){const _0x3d8074=_0x1b610a;pdfjsLib['GlobalWorkerOptions'][_0x3d8074(0x87b)]=_0x3d8074(0x632);const _0x146283=await _0x2c89dd[_0x3d8074(0x986)](),_0xccb13a=await pdfjsLib['getDocument'](_0x146283)[_0x3d8074(0xcc8)],_0x14ee68=_0xccb13a[_0x3d8074(0xa16)];let _0x33f51f='';for(let _0x15eca0=0x1;_0x15eca0<=_0x14ee68;_0x15eca0++){const _0x139523=await _0xccb13a[_0x3d8074(0xaea)](_0x15eca0),_0x342936=await _0x139523['getTextContent'](),_0x4ce30c=_0x342936[_0x3d8074(0x198)][_0x3d8074(0x4cb)](_0x3dd0a5=>_0x3dd0a5[_0x3d8074(0x569)])[_0x3d8074(0x656)]('\x20');_0x33f51f+=_0x4ce30c+'\x0a\x0a';}return _0x33f51f;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x12a9be){const _0xa4a3cc=_0x1b610a,_0x1c9402=document[_0xa4a3cc(0x8a9)](_0xa4a3cc(0x120)),_0x164b07=document['getElementById'](_0xa4a3cc(0x3f4)),_0x632b49=document[_0xa4a3cc(0x8a9)](_0xa4a3cc(0x45f));_0x1c9402[_0xa4a3cc(0xb12)]['remove']('hidden'),_0x164b07[_0xa4a3cc(0x568)]=_0xa4a3cc(0xc59),_0x632b49[_0xa4a3cc(0xb12)][_0xa4a3cc(0x786)](_0xa4a3cc(0x9cf));try{const _0xe9d62a=_0xa4a3cc(0x923)+_0x12a9be+_0xa4a3cc(0x2f5),_0x12a285={'type':_0xa4a3cc(0x6da),'properties':{'gradeLevel':{'type':_0xa4a3cc(0x6a7)},'curriculum':{'type':'ARRAY','items':{'type':_0xa4a3cc(0x6da),'properties':{'sara':{'type':_0xa4a3cc(0x6a7)},'mainTopics':{'type':_0xa4a3cc(0x7b8),'items':{'type':_0xa4a3cc(0x6da),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0xa4a3cc(0x7b8),'items':{'type':_0xa4a3cc(0x6a7)}}},'required':[_0xa4a3cc(0x21e),_0xa4a3cc(0xa7b)]}}},'required':[_0xa4a3cc(0x493),'mainTopics']}}},'required':[_0xa4a3cc(0x7bb),_0xa4a3cc(0x9ec)]},_0x155fc8=await callAnalysisApi(_0xe9d62a,_0x12a285);if(_0x155fc8&&_0x155fc8[_0xa4a3cc(0x9ec)])extractedBlueprintData=_0x155fc8,renderBlueprintTopics(_0x155fc8),_0x632b49[_0xa4a3cc(0xb12)][_0xa4a3cc(0x1e9)](_0xa4a3cc(0x9cf));else throw new Error(_0xa4a3cc(0x38e));}catch(_0x5cf8a3){console['error'](_0xa4a3cc(0xae5),_0x5cf8a3),_0x164b07[_0xa4a3cc(0x568)]=_0xa4a3cc(0x40d);}}function renderBlueprintTopics(_0x114ada){const _0x2df24a=_0x1b610a,_0x522405=document[_0x2df24a(0x8a9)](_0x2df24a(0x3f4)),_0x9460a4=_0x114ada[_0x2df24a(0x7bb)],_0x44a274=_0x2df24a(0x1a8)+_0x9460a4+_0x2df24a(0x81c);let _0x3b7bba='';_0x114ada['curriculum']['forEach'](_0x13bf3e=>{const _0x26c298=_0x2df24a;_0x3b7bba+=_0x26c298(0x787)+_0x13bf3e['sara']+_0x26c298(0x18a),_0x13bf3e['mainTopics'][_0x26c298(0xacf)](_0x11554b=>{const _0x31973e=_0x26c298;_0x3b7bba+=_0x31973e(0x621)+_0x11554b[_0x31973e(0x21e)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x11554b[_0x31973e(0xa7b)]['forEach'](_0x19e700=>{const _0x358d73=_0x31973e;_0x3b7bba+=_0x358d73(0x585)+_0x19e700[_0x358d73(0xb27)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x9460a4[_0x358d73(0xb27)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x19e700+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x19e700['replace'](/'/g,'\x5c\x27')+_0x358d73(0x34d);}),_0x3b7bba+='</div></div>';}),_0x3b7bba+=_0x26c298(0x96b);}),_0x522405['innerHTML']=_0x44a274+_0x3b7bba;}async function handleGenerateTeachingContent(_0x3163c9){const _0x360dee=_0x1b610a,_0xf26b27=document['getElementById'](_0x360dee(0xe2b)),_0x29da01=document[_0x360dee(0x8a9)](_0x360dee(0xc8f));document[_0x360dee(0x8a9)](_0x360dee(0x644))[_0x360dee(0xab8)]=_0x360dee(0xcb9)+_0x3163c9,_0x29da01[_0x360dee(0x568)]=_0x360dee(0x9b6),_0xf26b27[_0x360dee(0xb12)][_0x360dee(0x1e9)](_0x360dee(0x9cf));try{const _0x57ec97=_0x360dee(0x5b4)+_0x3163c9+_0x360dee(0x686),_0x4186ad={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x360dee(0x7b8),'items':{'type':_0x360dee(0x6a7)}},'commonMistakes':{'type':_0x360dee(0x7b8),'items':{'type':'STRING'}},'stepByStepExamples':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x360dee(0x6a7)},'solution':{'type':_0x360dee(0x6a7)}},'required':['question','solution']}},'teacherTips':{'type':_0x360dee(0x7b8),'items':{'type':'STRING'}}},'required':['keyConcepts',_0x360dee(0x2be),_0x360dee(0x909),_0x360dee(0xabd)]},_0x15d004=await callAnalysisApi(_0x57ec97,_0x4186ad);displayTeachingContent(_0x15d004,_0x3163c9);}catch(_0x2330a9){console[_0x360dee(0xce3)](_0x360dee(0xa77),_0x2330a9),_0x29da01[_0x360dee(0x568)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x2330a9[_0x360dee(0xba0)]+'</p>';}}function displayTeachingContent(_0x2be6fc,_0x35dd0c){const _0x236126=_0x1b610a,_0x3b094a=document[_0x236126(0x8a9)](_0x236126(0xc8f));document[_0x236126(0x8a9)]('lesson-plan-title')['textContent']=_0x236126(0xb41)+_0x35dd0c;const _0x5f11e8=_0x236126(0xc97)+_0x2be6fc[_0x236126(0xd15)][_0x236126(0x4cb)](_0x2914f6=>_0x236126(0xbd0)+_0x2914f6+_0x236126(0x376))[_0x236126(0x656)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x2be6fc['commonMistakes'][_0x236126(0x4cb)](_0xd5ae36=>_0x236126(0xbd0)+_0xd5ae36+'</li>')['join']('')+_0x236126(0xd23)+_0x2be6fc[_0x236126(0x909)]['map'](_0x1d3683=>_0x236126(0xa4c)+_0x1d3683['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x1d3683[_0x236126(0x320)]+_0x236126(0xce5))[_0x236126(0x656)]('')+_0x236126(0xde3)+_0x2be6fc[_0x236126(0xabd)]['map'](_0x163baa=>_0x236126(0xbd0)+_0x163baa+_0x236126(0x376))[_0x236126(0x656)]('')+_0x236126(0x2d7);_0x3b094a[_0x236126(0x568)]=_0x5f11e8;if(window[_0x236126(0xb1b)])MathJax[_0x236126(0x4a5)]([_0x3b094a]);}async function generateQuizForSingleTopic(_0x102a18){const _0x461ae1=_0x1b610a;console['log'](_0x461ae1(0xd42)+_0x102a18+'\x22');const _0x148219=document['getElementById']('reference-pdf-upload'),_0x5e8000=_0x148219[_0x461ae1(0x62c)][_0x461ae1(0x14c)]>0x0?_0x148219['files'][0x0]:null;let _0x43a82a=null;if(_0x5e8000)try{const _0x432e70=new FileReader();_0x432e70[_0x461ae1(0xbc6)](_0x5e8000);const _0x20f647=await new Promise((_0x47942d,_0x482911)=>{const _0x3d27ee=_0x461ae1;_0x432e70[_0x3d27ee(0x92e)]=()=>_0x47942d(_0x432e70[_0x3d27ee(0x8d1)][_0x3d27ee(0x59b)](',')[0x1]),_0x432e70[_0x3d27ee(0x2a0)]=_0x5573b0=>_0x482911(_0x5573b0);});_0x43a82a=[{'inlineData':{'mimeType':_0x5e8000[_0x461ae1(0xb19)],'data':_0x20f647}}];}catch(_0x182732){console['error'](_0x461ae1(0x71b),_0x182732),showMessage(_0x461ae1(0x2a6));return;}generateQuiz(_0x102a18,null,null,_0x43a82a,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0xb18685=null){const _0x523beb=_0x1b610a,_0x207f7c=document['getElementById'](_0x523beb(0x60a)),_0x31e424=document[_0x523beb(0x8a9)](_0x523beb(0x1f4));let _0x189e3c,_0x37ae15=[];if(_0xb18685)_0x189e3c=_0xb18685,_0x37ae15=_0x189e3c[_0x523beb(0x8c0)](0x2);else{const _0x2b100a=document[_0x523beb(0x8a9)](_0x523beb(0x2bd)),_0x1c7741=document[_0x523beb(0x8a9)](_0x523beb(0x961)),_0x540859=_0x2b100a[_0x523beb(0x62c)][0x0];if(!_0x540859){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x31e424['textContent']=_0x523beb(0x469);const _0x20f391=await new Promise((_0xa16747,_0x102056)=>{const _0x1eb02c=_0x523beb,_0x327ee5=new FileReader();_0x327ee5[_0x1eb02c(0xbc6)](_0x540859),_0x327ee5[_0x1eb02c(0x92e)]=()=>_0xa16747(_0x327ee5[_0x1eb02c(0x8d1)][_0x1eb02c(0x59b)](',')[0x1]),_0x327ee5['onerror']=_0x102056;});_0x189e3c=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x540859[_0x523beb(0xb19)],'data':_0x20f391}}];if(_0x1c7741[_0x523beb(0x62c)][_0x523beb(0x14c)]>0x0){const _0x4609ed=_0x1c7741['files'][0x0];_0x31e424[_0x523beb(0xab8)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x3d302b=await new Promise((_0x1cc2fd,_0x3855e0)=>{const _0x36b490=_0x523beb,_0x40bd7f=new FileReader();_0x40bd7f[_0x36b490(0xbc6)](_0x4609ed),_0x40bd7f[_0x36b490(0x92e)]=()=>_0x1cc2fd(_0x40bd7f[_0x36b490(0x8d1)][_0x36b490(0x59b)](',')[0x1]),_0x40bd7f[_0x36b490(0x2a0)]=_0x3855e0;}),_0x5c0012={'inlineData':{'mimeType':_0x4609ed[_0x523beb(0xb19)],'data':_0x3d302b}};_0x189e3c['push'](_0x5c0012),_0x37ae15['push'](_0x5c0012);}}const _0x40fa=_0x523beb(0x8b8),_0x3826d7=_0x523beb(0x1b8);let _0x30c28f='';_0x37ae15&&_0x37ae15[_0x523beb(0x14c)]>0x0?_0x30c28f=_0x40fa:_0x30c28f=_0x3826d7;const _0xd607ae=_0x523beb(0x9ee)+_0x30c28f+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x290862={'type':_0x523beb(0x6da),'properties':{'questionText':{'type':_0x523beb(0x6a7)},'questionType':{'type':_0x523beb(0x6a7),'enum':[_0x523beb(0x24a),_0x523beb(0x815),'true_false',_0x523beb(0x3e6)]},'options':{'type':_0x523beb(0x7b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x523beb(0x832)},'idealAnswer':{'type':_0x523beb(0x6a7)},'correctAnswer':{'type':_0x523beb(0x2c3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x523beb(0x6a7)}},'required':['questionType',_0x523beb(0x658)]},_0x5f5716={'type':_0x523beb(0x6da),'properties':{'topic':{'type':_0x523beb(0x6a7)},'questions':{'type':'ARRAY','items':_0x290862}},'required':[_0x523beb(0x5cc),_0x523beb(0x3c6)]};_0x189e3c[0x0][_0x523beb(0x9f6)]=_0xd607ae,await handleApiCall(_0x189e3c,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x5f5716);}function proceedToNextQuestion(_0x44f656){const _0x367899=_0x1b610a;studentAnswersPerQuestion['push'](_0x44f656),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x367899(0x3c6)][_0x367899(0x14c)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x4e5cde,_0x406899,_0x416029){const _0x5c5603=_0x1b610a,_0x304e6a=Object[_0x5c5603(0x17f)](_0x4e5cde[_0x5c5603(0x7e6)]||{}),_0x27cbb6=_0x304e6a[_0x5c5603(0x14c)],_0x3f840d=_0x416029,_0x370ff2=_0x4e5cde[_0x5c5603(0xb8a)]||_0x5c5603(0xe88),_0x34617c=_0x370ff2===_0x5c5603(0xb23)||_0x370ff2===_0x5c5603(0x6fb),_0x465a28=_0x370ff2===_0x5c5603(0x477)||_0x370ff2===_0x5c5603(0x6fb),_0x2ed739=_0x4e5cde[_0x5c5603(0xe55)]===!![],_0x12aa5f=_0x370ff2===_0x5c5603(0x36d),_0x1ba27c=_0x4e5cde[_0x5c5603(0x698)]['questions'],_0xe3ad39=_0x1ba27c[_0x3f840d],_0x46ecda=_0x4afe2d=>String[_0x5c5603(0x7fd)](0x41+_0x4afe2d),_0x1b1aa0=_0x304e6a[_0x5c5603(0x4cb)](_0x39e3ee=>{const _0x453870=_0x5c5603,_0x4e7509=(_0x39e3ee[_0x453870(0x772)]||[])[_0x453870(0x58f)](_0x22c905=>{const _0x3cd14f=_0x453870;if(_0x465a28)return _0x22c905[_0x3cd14f(0x223)]<=_0x3f840d;return!![];});let _0x439a25=0x0,_0xb17f95=0x0;_0x465a28?(_0x439a25=_0x4e7509[_0x453870(0x58f)](_0x41005b=>_0x41005b[_0x453870(0xe63)])[_0x453870(0x14c)],_0xb17f95=_0x4e7509[_0x453870(0x817)]((_0x432f9a,_0x4e42d3)=>_0x432f9a+(_0x4e42d3[_0x453870(0x823)]||0x0),0x0)):(_0x439a25=_0x39e3ee[_0x453870(0xdd7)]||0x0,_0xb17f95=_0x39e3ee[_0x453870(0x9f0)]||0x0);const _0x573094=[..._0x4e7509][_0x453870(0x528)]((_0x4edf11,_0x17a398)=>_0x4edf11[_0x453870(0x223)]-_0x17a398[_0x453870(0x223)]);let _0x21e81c=0x0;return _0x573094['forEach'](_0x5907ec=>{const _0xbe6ad=_0x453870,_0x4212fd=_0x5907ec['powerupUsed']&&_0x5907ec[_0xbe6ad(0x8a8)]!==_0xbe6ad(0x8c8)||_0x5907ec['usedBuyTime'];_0x5907ec[_0xbe6ad(0xe63)]?_0x4212fd?_0x21e81c=0x0:_0x21e81c++:_0x21e81c=0x0;}),{..._0x39e3ee,'realScore':_0x439a25,'totalPoints':_0xb17f95,'answers':_0x4e7509,'correctStreak':_0x21e81c};}),_0x2f4a39=Math[_0x5c5603(0xb5e)](..._0x1b1aa0[_0x5c5603(0x4cb)](_0x366fd7=>_0x366fd7[_0x5c5603(0x9f0)]),-Infinity),_0x1c32f1=Math['max'](..._0x1b1aa0['map'](_0x3c09e9=>_0x3c09e9['realScore']),-Infinity),_0x29a664=_0x4e5cde[_0x5c5603(0xcfc)]===!![],_0x550239=[..._0x1b1aa0][_0x5c5603(0x528)]((_0x3389ca,_0x50e6d9)=>{const _0x2a39c0=_0x5c5603;if(_0x29a664){const _0x4cc7e5=_0x50e6d9[_0x2a39c0(0x9f0)]-_0x3389ca[_0x2a39c0(0x9f0)];if(_0x4cc7e5!==0x0)return _0x4cc7e5;const _0x24ec52=_0x50e6d9['realScore']-_0x3389ca['realScore'];if(_0x24ec52!==0x0)return _0x24ec52;return(_0x3389ca['name']||'')['localeCompare'](_0x50e6d9[_0x2a39c0(0x835)]||'','th');}else{const _0x4ed51f=_0x50e6d9['totalPoints']-_0x3389ca[_0x2a39c0(0x9f0)];if(_0x4ed51f!==0x0)return _0x4ed51f;const _0x2fc395=_0x50e6d9['realScore']-_0x3389ca[_0x2a39c0(0x309)];if(_0x2fc395!==0x0)return _0x2fc395;return(_0x3389ca[_0x2a39c0(0x835)]||'')[_0x2a39c0(0x22f)](_0x50e6d9['name']||'','th');}});let _0x29c0f5='';const _0x2aa5c2=!_0x12aa5f&&!(_0x34617c&&_0x4e5cde[_0x5c5603(0x93a)]===![]);if(_0xe3ad39&&_0x2aa5c2){let _0x5a1648='',_0x3d8b96='';const _0x38e8a9=_0xe3ad39['questionType']||_0x4e5cde[_0x5c5603(0x698)][_0x5c5603(0xcb6)];if(_0x38e8a9===_0x5c5603(0x24a)&&_0xe3ad39[_0x5c5603(0x487)]){const _0x344aca=_0xe3ad39[_0x5c5603(0x26c)];_0x5a1648=_0xe3ad39[_0x5c5603(0x487)][_0x344aca],_0x3d8b96=_0x46ecda(_0x344aca)+'.';}else{if(_0x38e8a9===_0x5c5603(0x8fb)){const _0xba3da6=String(_0xe3ad39[_0x5c5603(0xad3)])[_0x5c5603(0x8dd)]()===_0x5c5603(0xd57);_0x5a1648=_0xba3da6?_0x5c5603(0xa12):_0x5c5603(0xccf),_0x3d8b96=_0xba3da6?'ก.':'ข.';}else{if(_0x38e8a9===_0x5c5603(0x3e6))_0x5a1648=_0xe3ad39[_0x5c5603(0x11c)]||'-';else(_0x38e8a9===_0x5c5603(0x815)||_0x38e8a9===_0x5c5603(0x312))&&(_0x5a1648=_0xe3ad39['idealAnswer']||'-');}}_0x5a1648&&(_0x29c0f5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20'+(_0x3f840d+0x1)+_0x5c5603(0xbe0)+_0x3d8b96+'\x20'+_0x5a1648+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x3bdde7=_0x550239[_0x5c5603(0x4cb)]((_0x34ec6d,_0x203e8c)=>{const _0x307350=_0x5c5603,_0x1a037f=_0x34ec6d[_0x307350(0x309)],_0x3c3fcd=_0x34ec6d['totalPoints'],_0x32ff71=(_0x34ec6d[_0x307350(0x772)]||[])[_0x307350(0x6bf)](_0x481260=>_0x481260['questionIndex']===_0x416029),_0x117123=_0x34ec6d[_0x307350(0x772)][_0x307350(0x14c)];let _0x400866='';if(_0x32ff71){if(_0x32ff71[_0x307350(0xb4c)])_0x400866+=_0x307350(0x58c);if(_0x32ff71[_0x307350(0x1c8)])_0x400866+=_0x307350(0x3ee);if(_0x32ff71[_0x307350(0x1e6)])_0x400866+=_0x307350(0x238);const _0x2fa0f2=_0x32ff71[_0x307350(0x8a8)];if(_0x2fa0f2){const _0x118376={'poll':'📊','cutOne':'✂️','insurance':_0x307350(0x2c8),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x307350(0xceb)};if(_0x118376[_0x2fa0f2])_0x400866+=_0x307350(0x1c6)+_0x118376[_0x2fa0f2]+_0x307350(0xbcd);}}let _0xe8691a='';const _0x414661=_0x34ec6d[_0x307350(0x6e6)]||0x0,_0x31d115=_0x32ff71&&_0x32ff71['usedBuyTime'],_0x4fc8ba=_0x32ff71&&_0x32ff71[_0x307350(0x8a8)]&&_0x32ff71[_0x307350(0x8a8)]!==_0x307350(0x8c8);!_0x12aa5f&&_0x414661>=0x3&&!_0x31d115&&!_0x4fc8ba&&(_0xe8691a+=_0x307350(0x536)+_0x414661+_0x307350(0xbcd));if(!_0x12aa5f&&_0x117123>0x0){if(_0x29a664){if(_0x3c3fcd===_0x2f4a39&&_0x2f4a39>0x0)_0xe8691a+=_0x307350(0x43f);if(_0x1a037f===_0x1c32f1&&_0x1c32f1>0x0)_0xe8691a+='<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>';}else{const _0x45d166=_0x34ec6d[_0x307350(0x309)]===_0x416029+0x1;if(_0x45d166)_0xe8691a+='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0xe8691a===''&&_0x3c3fcd<0x0)_0xe8691a+=_0x307350(0xbcb);}let _0x528551=_0x307350(0x3f5),_0x541177=![],_0x581c01=![];if(!_0x12aa5f){const _0x32f1ff=(_0x34ec6d[_0x307350(0x772)]||[])[_0x307350(0x6bf)](_0x6f0f19=>_0x6f0f19['questionIndex']===_0x3f840d);if(_0x32f1ff){const _0x2b0896=_0x32f1ff[_0x307350(0xe63)],_0x1a6d7b=_0x32f1ff[_0x307350(0x45c)]===!![]||_0x32f1ff[_0x307350(0x45c)]===_0x307350(0x2a7),_0x547970=_0x32f1ff[_0x307350(0x8a8)];if(_0x547970==='wagerMultiplier')_0x2b0896?(_0x528551=_0x307350(0xc65),_0x541177=!![]):(_0x528551='bg-red-700\x20text-white\x20font-bold',_0x581c01=!![]);else{if(_0x1a6d7b)_0x528551=_0x2b0896?_0x307350(0x978):_0x307350(0xd4e);else _0x2b0896&&(_0x528551='bg-[#DCFCE7]\x20text-green-900');}}}let _0x481255='';const _0x3d446b=_0x34ec6d[_0x307350(0x835)],_0x1c9135=_0x4e5cde['playerNicknames'][_0x34ec6d[_0x307350(0x835)]]||_0x307350(0x6a0),_0x459de4='line-height:\x201.3;\x20min-width:\x200;',_0x22099a=_0x307350(0x497),_0x919fc3=_0x541177?_0x307350(0x31d):_0x307350(0x608);let _0x27268c='';const _0x45a299=_0x3c3fcd>=0x0?'(+'+_0x3c3fcd[_0x307350(0x84c)]()+')':'('+_0x3c3fcd['toLocaleString']()+')',_0x3c6c55=_0x307350(0x41b)+_0x1a037f+_0x307350(0xa0d)+_0x45a299+_0x307350(0xbcd);if(_0x406899){if(_0x34617c&&!_0x2ed739)_0x581c01?_0x481255='<div\x20style=\x22'+_0x459de4+'\x22\x20title=\x22'+_0x3d446b+'\x20('+_0x1c9135+')\x22><span\x20style=\x22'+_0x22099a+'\x22>'+_0x3d446b+_0x307350(0x464)+_0x400866+'\x20'+_0xe8691a+_0x307350(0x8ed)+_0x919fc3+_0x307350(0xd75)+_0x22099a+_0x307350(0x374)+_0x1c9135+')</span></div>':_0x481255='<div\x20style=\x22'+_0x459de4+_0x307350(0xe7c)+_0x1c9135+'\x22><span\x20style=\x22'+_0x22099a+'\x22>'+_0x1c9135+_0x307350(0x464)+_0x400866+'\x20'+_0xe8691a+_0x307350(0x96b),_0x27268c=_0x3c6c55;else{if(_0x34617c&&_0x2ed739)_0x481255=_0x307350(0x368)+_0x459de4+_0x307350(0xe7c)+_0x3d446b+_0x307350(0xda1)+_0x22099a+'\x22>'+_0x3d446b+'</span>\x20'+_0x400866+'\x20'+_0xe8691a+'<span\x20class=\x22block\x20text-sm\x20'+_0x919fc3+_0x307350(0xd75)+_0x22099a+_0x307350(0x374)+_0x1c9135+_0x307350(0x98c),_0x27268c=_0x3c6c55;else _0x12aa5f?(_0x481255=_0x307350(0x368)+_0x459de4+_0x307350(0xe7c)+_0x3d446b+_0x307350(0xda1)+_0x22099a+'\x22>'+_0x3d446b+_0x307350(0x464)+_0x400866+'\x20'+_0xe8691a+_0x307350(0x96b),_0x27268c=''):(_0x481255=_0x307350(0x368)+_0x459de4+'\x22\x20title=\x22'+_0x3d446b+_0x307350(0xda1)+_0x22099a+'\x22>'+_0x3d446b+_0x307350(0x464)+_0x400866+'\x20'+_0xe8691a+_0x307350(0x96b),_0x27268c=_0x3c6c55);}}return _0x307350(0x6cc)+_0x528551+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+(_0x203e8c+0x1)+_0x307350(0x9a9)+_0x481255+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27268c+_0x307350(0x1c9);})[_0x5c5603(0x656)](''),_0x33d864=_0x1ba27c[_0x5c5603(0x4cb)]((_0x245c06,_0x29f83c)=>{const _0x46f65b=_0x5c5603;if(_0x465a28&&_0x29f83c>_0x3f840d||_0x12aa5f)return'';const _0x5d0b4b=_0x1b1aa0['filter'](_0x27ec95=>_0x27ec95[_0x46f65b(0x772)]&&_0x27ec95['answers'][_0x46f65b(0x6bf)](_0x3654eb=>_0x3654eb['questionIndex']===_0x29f83c&&_0x3654eb[_0x46f65b(0xe63)]))['length'],_0x289546=_0x29f83c===_0x3f840d,_0x1c295c=_0x289546?_0x46f65b(0xac2):'p-2\x20bg-black/10\x20rounded-md';return _0x46f65b(0x954)+_0x1c295c+_0x46f65b(0xaaf)+(_0x29f83c+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x5d0b4b+_0x46f65b(0x2e6)+_0x27cbb6+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x39ce51='',_0x2300a9='';if(_0x406899){const _0x13383f=_0x370ff2==='classic'&&_0x4e5cde[_0x5c5603(0x7c6)]>=_0x1ba27c[_0x5c5603(0x14c)]-0x1,_0xad7d4d=_0x465a28&&_0x4e5cde[_0x5c5603(0xc4b)]>=_0x1ba27c['length']-0x1,_0x14295b=_0x370ff2===_0x5c5603(0x36d)&&_0x4e5cde[_0x5c5603(0x7c6)]>=_0x1ba27c[_0x5c5603(0x14c)]-0x1,_0x5b239e=_0x34617c&&!_0x465a28&&_0x4e5cde[_0x5c5603(0x7c6)]>=_0x1ba27c[_0x5c5603(0x14c)]-0x1;if(_0x465a28)_0xad7d4d?_0x34617c&&!_0x2ed739?_0x39ce51='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x39ce51=_0x5c5603(0xdc6):_0x39ce51=_0x5c5603(0x33a);else _0x13383f||_0x14295b||_0x5b239e?_0x34617c&&!_0x2ed739?_0x39ce51=_0x5c5603(0x59c):_0x39ce51='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0x39ce51=_0x5c5603(0x40b);_0x2300a9=_0x5c5603(0x7d9);}const _0x32a1d7=_0x12aa5f||_0x34617c&&!_0x4e5cde[_0x5c5603(0x93a)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x33d864+'</div></div>',_0x8433bf=_0x12aa5f||_0x34617c&&!_0x4e5cde[_0x5c5603(0x93a)]?_0x5c5603(0x22b):'md:col-span-1',_0x17ce12='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x4e5cde[_0x5c5603(0x698)][_0x5c5603(0x5cc)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x4e5cde[_0x5c5603(0xd00)]+_0x5c5603(0xe4d)+_0x2300a9+_0x5c5603(0x892)+_0x29c0f5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x8433bf+_0x5c5603(0x5a9)+(_0x3bdde7||_0x5c5603(0x456))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32a1d7+_0x5c5603(0xda5)+(_0x406899?_0x5c5603(0x5a0)+_0x39ce51+_0x5c5603(0x96b):'')+_0x5c5603(0x731);liveGameView[_0x5c5603(0x568)]=_0x17ce12;if(window[_0x5c5603(0xb1b)]){const _0x137dce=document[_0x5c5603(0x8a9)](_0x5c5603(0xb64));_0x137dce&&MathJax[_0x5c5603(0x4a5)]([_0x137dce]);}if(_0x406899){const _0x33225f=document[_0x5c5603(0x8a9)](_0x5c5603(0xa94));_0x33225f&&(_0x33225f[_0x5c5603(0x743)]=async()=>{const _0x5a112c=_0x5c5603,_0x42f395=doc(db,_0x5a112c(0x407)+appId+_0x5a112c(0x709),currentLiveGameId),_0x614c21=_0x4e5cde[_0x5a112c(0x7c6)]+0x1,_0x1c2cce=_0x4e5cde[_0x5a112c(0x698)][_0x5a112c(0x3c6)][_0x5a112c(0x14c)];!_0x465a28&&_0x614c21<_0x1c2cce?await updateDoc(_0x42f395,{'status':_0x5a112c(0x824),'currentQuestionIndex':_0x614c21,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x42f395,{'status':'podium'});});const _0x2f7fe4=document[_0x5c5603(0x8a9)](_0x5c5603(0xd98));_0x2f7fe4&&(_0x2f7fe4[_0x5c5603(0x743)]=async()=>{const _0x40c41d=_0x5c5603,_0x24c8a9=doc(db,_0x40c41d(0x407)+appId+_0x40c41d(0x709),currentLiveGameId);await updateDoc(_0x24c8a9,{'reviewQuestionIndex':increment(0x1)});});document[_0x5c5603(0x8a9)](_0x5c5603(0xc69))?.[_0x5c5603(0xd68)](_0x5c5603(0xcc3),async()=>{const _0x512ca3=_0x5c5603;await updateDoc(doc(db,_0x512ca3(0x407)+appId+_0x512ca3(0x709),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x5c3b8a=document['getElementById'](_0x5c5603(0xd7a));_0x5c3b8a&&(_0x5c3b8a[_0x5c5603(0x743)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x1b050f=_0x6978;await updateDoc(doc(db,'artifacts/'+appId+_0x1b050f(0x709),currentLiveGameId),{'status':_0x1b050f(0x517)});});});}}async function handleGenerateParallelFromBank(_0x3f8ce2){const _0x345ea2=_0x1b610a,_0x31d175=document[_0x345ea2(0x8a9)]('results-tab-content'),_0x1b0df4=document[_0x345ea2(0x8a9)](_0x345ea2(0x607));_0x1b0df4['classList'][_0x345ea2(0x786)](_0x345ea2(0x9cf));const _0x328826=_0x345ea2(0x3e9)+_0x3f8ce2[_0x345ea2(0x5cc)]+_0x345ea2(0x211);_0x31d175['insertAdjacentHTML'](_0x345ea2(0xdb4),_0x328826);const _0x42e748=document[_0x345ea2(0x8a9)]('temp-loader-text-results');try{const _0x1a14c0=_0x3f8ce2[_0x345ea2(0x3c6)]['map']((_0x32ceb3,_0x3cd51c)=>{const _0x35011b=_0x345ea2;let _0x25b722=_0x3cd51c+0x1+'.\x20'+(_0x32ceb3[_0x35011b(0x460)]||_0x32ceb3[_0x35011b(0xc35)])+'\x0a';if(_0x32ceb3[_0x35011b(0x487)])_0x25b722+=_0x32ceb3[_0x35011b(0x487)][_0x35011b(0x4cb)]((_0x140f49,_0x241628)=>_0x35011b(0xe65)+(_0x241628===_0x32ceb3[_0x35011b(0x26c)]?_0x35011b(0x1b3):'')+'\x20'+_0x140f49)[_0x35011b(0x656)]('\x0a');else _0x32ceb3[_0x35011b(0xc37)]&&(_0x25b722+=_0x35011b(0xd85)+_0x32ceb3[_0x35011b(0xc37)]);return _0x25b722;})[_0x345ea2(0x656)]('\x0a\x0a');_0x42e748[_0x345ea2(0xab8)]=_0x345ea2(0x74c);const _0x1852c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x3f8ce2['topic']+_0x345ea2(0xd91)+_0x1a14c0+_0x345ea2(0x2c2)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x22be6d={'type':_0x345ea2(0x6da),'properties':{'questionText':{'type':_0x345ea2(0x6a7)},'questionType':{'type':_0x345ea2(0x6a7),'enum':['multiple_choice',_0x345ea2(0x815),'true_false',_0x345ea2(0x3e6)]},'options':{'type':_0x345ea2(0x7b8),'items':{'type':_0x345ea2(0x6a7)}},'correctAnswerIndex':{'type':_0x345ea2(0x832)},'idealAnswer':{'type':_0x345ea2(0x6a7)},'correctAnswer':{'type':_0x345ea2(0x2c3)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x345ea2(0x6a7)},'allResponses':{'type':_0x345ea2(0x7b8),'items':{'type':'STRING'}},'explanation':{'type':_0x345ea2(0x6a7)},'imageCode':{'type':_0x345ea2(0x6a7)}},'required':[_0x345ea2(0xa9f),_0x345ea2(0x658)]},_0x2b0cf8={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x345ea2(0x7b8),'items':_0x22be6d}},'required':[_0x345ea2(0x5cc),'questions']},_0x2f9681=await callAnalysisApi(_0x1852c,_0x2b0cf8),_0x50766a=_0x2f9681[_0x345ea2(0x3c6)]['map']((_0xdddc64,_0x7cb5b4)=>({..._0xdddc64,'id':'q_'+Date[_0x345ea2(0x82a)]()+'_'+_0x7cb5b4})),_0x52a67a=_0x345ea2(0x1f1)+_0x3f8ce2[_0x345ea2(0x5cc)],_0x547388={'topic':_0x52a67a,'questions':_0x50766a,'quizType':_0x3f8ce2[_0x345ea2(0xcb6)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x345ea2(0x3f0)](),'status':'active','settings':_0x3f8ce2['settings'],'quizMode':_0x345ea2(0x856),'pairedQuizId':null,'lessonPlan':null};let _0x57616d;while(!![]){_0x57616d=Math[_0x345ea2(0x85e)](0x3e8+Math[_0x345ea2(0xa73)]()*0x2328)['toString']();const _0x42ee48=await getDoc(doc(db,_0x345ea2(0x407)+appId+_0x345ea2(0x399),_0x57616d));if(!_0x42ee48[_0x345ea2(0xa90)]())break;}await setDoc(doc(db,_0x345ea2(0x407)+appId+_0x345ea2(0x399),_0x57616d),_0x547388),showMessage(_0x345ea2(0x532));}catch(_0x34dff9){console[_0x345ea2(0xce3)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x34dff9),showMessage('เกิดข้อผิดพลาด:\x20'+_0x34dff9[_0x345ea2(0xba0)]);}finally{const _0xeae721=document[_0x345ea2(0x8a9)](_0x345ea2(0x68e));_0xeae721&&_0xeae721[_0x345ea2(0x1e9)](),_0x1b0df4[_0x345ea2(0xb12)]['remove'](_0x345ea2(0x9cf));}}async function handleGenerateParallelPostTest(_0x14306b){const _0x1bd46b=_0x1b610a,_0x27bbf0=document[_0x1bd46b(0x8a9)](_0x1bd46b(0xb96)),_0x37fbd=document[_0x1bd46b(0x8a9)]('project-quizzes-list');_0x37fbd[_0x1bd46b(0xb12)][_0x1bd46b(0x786)](_0x1bd46b(0x9cf));const _0xd8d338='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x27bbf0[_0x1bd46b(0xc04)](_0x1bd46b(0xdb4),_0xd8d338);try{const _0x8da224=_0x14306b[_0x1bd46b(0x3c6)][_0x1bd46b(0x4cb)]((_0x5cbd80,_0x266aa6)=>{const _0x23e072=_0x1bd46b;let _0x256d54=_0x266aa6+0x1+'.\x20'+(_0x5cbd80[_0x23e072(0x460)]||_0x5cbd80[_0x23e072(0xc35)]);if(_0x5cbd80[_0x23e072(0x487)])_0x256d54+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x5cbd80[_0x23e072(0x487)][_0x23e072(0x656)](',\x20');return _0x256d54;})[_0x1bd46b(0x656)]('\x0a\x0a'),_0x98af33=_0x1bd46b(0xdc4)+_0x14306b['topic']+_0x1bd46b(0x4f1)+_0x8da224+_0x1bd46b(0x379)+simpleMathPrompt+_0x1bd46b(0x720),_0x2bcf95={'type':_0x1bd46b(0x6da),'properties':{'topic':{'type':_0x1bd46b(0x6a7)},'questions':{'type':_0x1bd46b(0x7b8),'items':{'type':_0x1bd46b(0x6da),'properties':{'questionText':{'type':_0x1bd46b(0x6a7)},'questionType':{'type':_0x1bd46b(0x6a7)},'options':{'type':_0x1bd46b(0x7b8),'items':{'type':_0x1bd46b(0x6a7)}},'correctAnswerIndex':{'type':_0x1bd46b(0x832)},'idealAnswer':{'type':_0x1bd46b(0x6a7)},'explanation':{'type':_0x1bd46b(0x6a7)}},'required':['questionText',_0x1bd46b(0x658)]}}},'required':[_0x1bd46b(0x5cc),_0x1bd46b(0x3c6)]},_0xc6e6c0=await callAnalysisApi(_0x98af33,_0x2bcf95),_0x2c4b4a=_0x14306b[_0x1bd46b(0x5cc)][_0x1bd46b(0xb27)]('(ก่อนเรียน)','')[_0x1bd46b(0x937)](),_0x5f6bf4='(หลังเรียน)\x20'+_0x2c4b4a,_0x5d4a3b={..._0xc6e6c0,'topic':_0x5f6bf4,'quizType':_0x14306b[_0x1bd46b(0xcb6)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1bd46b(0x3f0)](),'status':'active','settings':_0x14306b[_0x1bd46b(0x43d)],'quizMode':_0x1bd46b(0xe30),'pairedQuizId':_0x14306b['id']};let _0x21bc35;while(!![]){_0x21bc35=Math[_0x1bd46b(0x85e)](0x3e8+Math['random']()*0x2328)[_0x1bd46b(0x91c)]();const _0x134332=await getDoc(doc(db,_0x1bd46b(0x407)+appId+'/public/data/quizzes',_0x21bc35));if(!_0x134332[_0x1bd46b(0xa90)]())break;}await setDoc(doc(db,_0x1bd46b(0x407)+appId+'/public/data/quizzes',_0x21bc35),_0x5d4a3b);const _0x1f4b3b=doc(db,_0x1bd46b(0x407)+appId+_0x1bd46b(0x399),_0x14306b['id']);await updateDoc(_0x1f4b3b,{'pairedQuizId':_0x21bc35}),showMessage(_0x1bd46b(0xab5));}catch(_0x21a940){console[_0x1bd46b(0xce3)]('Error\x20generating\x20parallel\x20post-test:',_0x21a940),showMessage(_0x1bd46b(0x762)+_0x21a940[_0x1bd46b(0xba0)]);}finally{const _0x2770c5=document[_0x1bd46b(0x8a9)](_0x1bd46b(0x68e));if(_0x2770c5)_0x2770c5[_0x1bd46b(0x1e9)]();_0x37fbd[_0x1bd46b(0xb12)][_0x1bd46b(0x1e9)](_0x1bd46b(0x9cf));}}async function handleGenerateParallelTest(_0x2f6e4c=null){const _0x5e2f9e=_0x1b610a;let _0xb870b=_0x2f6e4c;if(!_0xb870b){const _0x3579e3=document['getElementById']('parallel-test-upload-input');_0x3579e3[_0x5e2f9e(0x62c)][_0x5e2f9e(0x14c)]>0x0&&(_0xb870b=_0x3579e3[_0x5e2f9e(0x62c)][0x0]);}if(!_0xb870b){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x19fee7=document[_0x5e2f9e(0x8a9)](_0x5e2f9e(0x60a)),_0x1dd2d5=document[_0x5e2f9e(0x8a9)](_0x5e2f9e(0x1f4)),_0x5293b9=document[_0x5e2f9e(0x8a9)](_0x5e2f9e(0x505)),_0x386a38=document[_0x5e2f9e(0x8a9)](_0x5e2f9e(0xc75));_0x386a38[_0x5e2f9e(0x317)]=!![],document[_0x5e2f9e(0x8a9)](_0x5e2f9e(0x694))[_0x5e2f9e(0xb12)][_0x5e2f9e(0x1e9)]('hidden'),_0x5293b9['innerHTML']='',_0x19fee7['classList'][_0x5e2f9e(0x1e9)](_0x5e2f9e(0x9cf)),_0x1dd2d5[_0x5e2f9e(0xab8)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x370dfa=new FileReader();_0x370dfa[_0x5e2f9e(0xbc6)](_0xb870b),_0x370dfa[_0x5e2f9e(0x92e)]=async()=>{const _0x24d147=_0x5e2f9e;try{const _0x353e8e=_0x370dfa[_0x24d147(0x8d1)][_0x24d147(0x59b)](',')[0x1],_0x2a5a3f=_0xb870b[_0x24d147(0xb19)];_0x1dd2d5[_0x24d147(0xab8)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x32d4d7=document['getElementById'](_0x24d147(0x169))[_0x24d147(0xaa0)],_0x395e08=_0x32d4d7?_0x24d147(0x3fc):'',_0x2234c3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x278786={'type':_0x24d147(0x6da),'properties':{'questionText':{'type':_0x24d147(0x6a7)},'questionType':{'type':'STRING','enum':[_0x24d147(0x24a),_0x24d147(0x815)]},'options':{'type':_0x24d147(0x7b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x24d147(0x6a7)},'imageCode':{'type':'STRING'}},'required':[_0x24d147(0x460),_0x24d147(0xa9f),_0x24d147(0x658)]},_0x1a847d={'type':_0x24d147(0x6da),'properties':{'topic':{'type':_0x24d147(0x6a7)},'questions':{'type':_0x24d147(0x7b8),'items':_0x278786}},'required':[_0x24d147(0x5cc),_0x24d147(0x3c6)]},_0x4be51d=[{'text':_0x2234c3},{'inlineData':{'mimeType':_0x2a5a3f,'data':_0x353e8e}}];await handleApiCall(_0x4be51d,_0x24d147(0x370),_0x1a847d);}catch(_0x392c78){console[_0x24d147(0xce3)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x392c78),showMessage('เกิดข้อผิดพลาด:\x20'+_0x392c78[_0x24d147(0xba0)]),_0x5293b9['innerHTML']=_0x24d147(0x9af);}finally{_0x19fee7[_0x24d147(0xb12)][_0x24d147(0x786)](_0x24d147(0x9cf)),_0x386a38[_0x24d147(0x317)]=![];}},_0x370dfa[_0x5e2f9e(0x2a0)]=_0x11217b=>{const _0x5a5e16=_0x5e2f9e;console[_0x5a5e16(0xce3)](_0x5a5e16(0xe3f),_0x11217b),showMessage(_0x5a5e16(0x49c)),_0x19fee7['classList'][_0x5a5e16(0x786)]('hidden'),_0x386a38['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x46ca6a){const _0x7a45be=_0x1b610a;if(currentEditingQuizData===null)return;const _0x1f8632=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x46ca6a+'\x22]');_0x1f8632&&(_0x1f8632[_0x7a45be(0x568)]=_0x7a45be(0xb32));const _0x1d91b5=currentEditingQuizData[_0x7a45be(0x3c6)][_0x46ca6a],_0x95c4e1=currentEditingQuizData['topic'],_0xcf086=_0x1d91b5[_0x7a45be(0xa9f)],_0x196150={'type':_0x7a45be(0x6da),'properties':{'questionText':{'type':_0x7a45be(0x6a7)},'options':{'type':_0x7a45be(0x7b8),'items':{'type':_0x7a45be(0x6a7)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x7a45be(0x460),_0x7a45be(0x487),'correctAnswerIndex',_0x7a45be(0x658)]},_0x5bce15={'type':'OBJECT','properties':{'questionText':{'type':_0x7a45be(0x6a7)},'idealAnswer':{'type':_0x7a45be(0x6a7)},'explanation':{'type':'STRING'}},'required':[_0x7a45be(0x460),'idealAnswer','explanation']};let _0x189dbe,_0x1d804a='';_0xcf086===_0x7a45be(0x24a)?(_0x189dbe=_0x196150,_0x1d804a='แบบปรนัย\x204\x20ตัวเลือก'):(_0x189dbe=_0x5bce15,_0x1d804a=_0x7a45be(0x571));const _0x2d5281=_0x7a45be(0xb4f)+_0x95c4e1+_0x7a45be(0x233)+_0x1d804a+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x1d91b5[_0x7a45be(0x460)]||_0x1d91b5[_0x7a45be(0xc35)])+_0x7a45be(0x329)+simpleMathPrompt;try{const _0x32ea14=await callAnalysisApi(_0x2d5281,_0x189dbe);currentEditingQuizData[_0x7a45be(0x3c6)][_0x46ca6a]={..._0x1d91b5,..._0x32ea14},renderQuizEditor(currentEditingQuizData);}catch(_0x1bb45d){console[_0x7a45be(0xce3)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x1bb45d),showMessage(_0x7a45be(0x95a)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5dcfab=_0x1b610a,_0x12f188=document['getElementById'](_0x5dcfab(0x360));currentMode===_0x5dcfab(0x28a)?(currentMode=_0x5dcfab(0xe00),_0x12f188[_0x5dcfab(0x568)]=_0x5dcfab(0x3a8),_0x12f188[_0x5dcfab(0xdf2)]=_0x5dcfab(0x313),showView(_0x5dcfab(0x88a))):(currentMode=_0x5dcfab(0x28a),_0x12f188[_0x5dcfab(0x568)]=_0x5dcfab(0xa8f),_0x12f188[_0x5dcfab(0xdf2)]=_0x5dcfab(0x2aa),showView(_0x5dcfab(0x28a)));}function handleAdminLogin(){const _0x5e6c4b=_0x1b610a,_0x2f5d87=document[_0x5e6c4b(0x8a9)]('admin-password-input'),_0x5b34b9=document[_0x5e6c4b(0x8a9)]('password-error-msg');if(_0x2f5d87[_0x5e6c4b(0x61e)]===_0x5e6c4b(0xd47)){adminPasswordModal[_0x5e6c4b(0xb12)]['add']('hidden'),_0x2f5d87[_0x5e6c4b(0x61e)]='',_0x5b34b9[_0x5e6c4b(0xb12)][_0x5e6c4b(0x786)](_0x5e6c4b(0x9cf)),currentMode=_0x5e6c4b(0xe00);const _0x5daee2=document['getElementById']('mode-switcher-btn');_0x5daee2[_0x5e6c4b(0x568)]=_0x5e6c4b(0x3a8),_0x5daee2[_0x5e6c4b(0xdf2)]=_0x5e6c4b(0x313),showView(_0x5e6c4b(0x88a));}else _0x5b34b9['classList']['remove'](_0x5e6c4b(0x9cf)),_0x2f5d87['value']='';}function switchProjectTab(_0x1216bb){const _0x4d4414=_0x1b610a;[_0x4d4414(0x66a),_0x4d4414(0x423),_0x4d4414(0x77b)]['forEach'](_0x5dde42=>{const _0x4d26d0=_0x4d4414;document[_0x4d26d0(0x8a9)](_0x5dde42+_0x4d26d0(0xb70))[_0x4d26d0(0xb12)][_0x4d26d0(0x1e9)](_0x4d26d0(0x6bc)),document[_0x4d26d0(0x8a9)](_0x5dde42+_0x4d26d0(0x4c3))[_0x4d26d0(0xb12)]['add']('hidden');}),document['getElementById'](_0x1216bb+'-tab')[_0x4d4414(0xb12)][_0x4d4414(0x786)]('active'),document[_0x4d4414(0x8a9)](_0x1216bb+'-tab-content')[_0x4d4414(0xb12)][_0x4d4414(0x1e9)](_0x4d4414(0x9cf));}function switchQuizDetailTab(_0x2282ef){const _0x461ce9=_0x1b610a,_0x4966ec={'analytics':{'btn':_0x461ce9(0xcf9),'content':_0x461ce9(0x470)},'scores':{'btn':_0x461ce9(0xaf6),'content':_0x461ce9(0x5ab)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x461ce9(0xd2a)},'behavior-log':{'btn':_0x461ce9(0x2a2),'content':_0x461ce9(0x349)}};for(const _0xd0da4c in _0x4966ec){document[_0x461ce9(0x8a9)](_0x4966ec[_0xd0da4c][_0x461ce9(0x1fa)])[_0x461ce9(0xb12)][_0x461ce9(0x1e9)](_0x461ce9(0x6bc)),document[_0x461ce9(0x8a9)](_0x4966ec[_0xd0da4c][_0x461ce9(0x5a3)])['classList']['add'](_0x461ce9(0x9cf));}document['getElementById'](_0x4966ec[_0x2282ef][_0x461ce9(0x1fa)])[_0x461ce9(0xb12)]['add']('active'),document[_0x461ce9(0x8a9)](_0x4966ec[_0x2282ef]['content'])[_0x461ce9(0xb12)][_0x461ce9(0x1e9)](_0x461ce9(0x9cf));}function showMessage(_0x27f833,_0x95ff03=null){const _0x3442fc=_0x1b610a;modalMessage[_0x3442fc(0x568)]=_0x27f833['replace'](/\n/g,_0x3442fc(0x77e)),modalConfirmAction=_0x95ff03,messageModal[_0x3442fc(0xb12)]['remove']('hidden');}function showConfirmation(_0x53f681,_0x59acee,_0x499a7e=null){const _0x46a3eb=_0x1b610a;document['getElementById'](_0x46a3eb(0xd9b))[_0x46a3eb(0xab8)]=_0x53f681,document[_0x46a3eb(0x8a9)](_0x46a3eb(0xe3c))[_0x46a3eb(0x2b0)]('h3')[_0x46a3eb(0xab8)]=_0x46a3eb(0x895),confirmAction=_0x59acee,cancelAction=_0x499a7e,confirmationModal[_0x46a3eb(0xb12)][_0x46a3eb(0x1e9)](_0x46a3eb(0x9cf));}function listenForProjects(){const _0x3ba742=_0x1b610a,_0x468cf1=doc(db,_0x3ba742(0x18b),_0x3ba742(0xaba));onSnapshot(_0x468cf1,_0x42d1ba=>{const _0x4b053f=_0x3ba742;if(_0x42d1ba[_0x4b053f(0xa90)]()){const _0x1c3690=_0x42d1ba['data']();globalDashboardSettings[_0x4b053f(0x9ab)]=_0x1c3690[_0x4b053f(0x9ab)]||_0x4b053f(0x475),globalDashboardSettings['pinnedProjects']=_0x1c3690['pinnedProjects']||[],globalDashboardSettings['projectOrder']=_0x1c3690[_0x4b053f(0x54a)]||[];}allProjects[_0x4b053f(0x14c)]>0x0&&renderProjects();});const _0x302b13=collection(db,_0x3ba742(0x407)+appId+_0x3ba742(0x622));unsubscribeProjectsListener=onSnapshot(_0x302b13,_0x4a6dfa=>{const _0x27f29e=_0x3ba742;allProjects=_0x4a6dfa[_0x27f29e(0x654)][_0x27f29e(0x4cb)](_0x1b5ab4=>({'id':_0x1b5ab4['id'],..._0x1b5ab4[_0x27f29e(0x860)]()})),renderProjects();},_0x69a8b4=>{const _0x1a74bb=_0x3ba742;console['error'](_0x1a74bb(0xbd2),_0x69a8b4),showMessage(_0x1a74bb(0x17e));});}function showColorPalette(_0x5f2b80,_0x354c85){const _0x11f255=_0x1b610a;document['querySelectorAll'](_0x11f255(0x601))[_0x11f255(0xacf)](_0x5d9209=>_0x5d9209['remove']());const _0x9e356d=[_0x11f255(0x126),_0x11f255(0xe22),_0x11f255(0x35a),_0x11f255(0x792),'#DBEAFE',_0x11f255(0x908),_0x11f255(0xa7f),'#FCE7F3',_0x11f255(0x6e4)],_0x40dfc3=document['createElement'](_0x11f255(0x98d));_0x40dfc3[_0x11f255(0xe0a)]=_0x11f255(0xcce),_0x9e356d[_0x11f255(0xacf)](_0x8b8896=>{const _0x3852ad=_0x11f255,_0x1b6a15=document[_0x3852ad(0xe6a)](_0x3852ad(0x98d));_0x1b6a15[_0x3852ad(0xe0a)]=_0x3852ad(0x369),_0x1b6a15[_0x3852ad(0x5a4)][_0x3852ad(0x393)]=_0x8b8896,_0x1b6a15[_0x3852ad(0xd68)](_0x3852ad(0xcc3),()=>{const _0x1702fa=_0x3852ad;handleProjectColorChange(_0x354c85,_0x8b8896),_0x40dfc3[_0x1702fa(0x1e9)]();}),_0x40dfc3[_0x3852ad(0x90c)](_0x1b6a15);}),document[_0x11f255(0x257)]['appendChild'](_0x40dfc3);const _0x44bb57=_0x5f2b80[_0x11f255(0xd95)]();_0x40dfc3['style'][_0x11f255(0x2d3)]=_0x44bb57[_0x11f255(0x384)]+window['scrollY']+'px',_0x40dfc3[_0x11f255(0x5a4)]['left']=_0x44bb57['left']+window['scrollX']-_0x40dfc3[_0x11f255(0x66d)]/0x2+'px';}async function handleProjectColorChange(_0x281a20,_0x24dd6e){const _0x19f896=_0x1b610a,_0x1b8bcf=doc(db,_0x19f896(0x407)+appId+_0x19f896(0x622),_0x281a20);try{await updateDoc(_0x1b8bcf,{'color':_0x24dd6e});}catch(_0x2f6f0f){console['error'](_0x19f896(0x482),_0x2f6f0f),showMessage(_0x19f896(0x9cc));}}async function renderProjects(){const _0x1fe9ed=_0x1b610a,_0x527fe1=globalDashboardSettings[_0x1fe9ed(0x9ab)]||_0x1fe9ed(0x475),_0x403575=new Set(globalDashboardSettings[_0x1fe9ed(0x9f1)]||[]),_0x3a9b98=globalDashboardSettings[_0x1fe9ed(0x22e)]||_0x1fe9ed(0x734),_0x9b9dfe=document[_0x1fe9ed(0x8a9)](_0x1fe9ed(0x426)),_0x4d7b88=document['getElementById'](_0x1fe9ed(0xc82));_0x9b9dfe['classList'][_0x1fe9ed(0x830)]('active',_0x3a9b98==='grid'),_0x4d7b88['classList']['toggle'](_0x1fe9ed(0x6bc),_0x3a9b98===_0x1fe9ed(0xa89)),document[_0x1fe9ed(0x8a9)](_0x1fe9ed(0x466))[_0x1fe9ed(0x61e)]=_0x527fe1;const _0x2fa3e8=document[_0x1fe9ed(0x8a9)](_0x1fe9ed(0x148))[_0x1fe9ed(0x61e)][_0x1fe9ed(0x8dd)]();let _0x2dce6a=allProjects[_0x1fe9ed(0x58f)](_0xece0b7=>_0xece0b7[_0x1fe9ed(0x252)]['toLowerCase']()[_0x1fe9ed(0x55e)](_0x2fa3e8));const _0x13b730=_0x2dce6a[_0x1fe9ed(0x58f)](_0x4ab981=>_0x403575[_0x1fe9ed(0xbe7)](_0x4ab981['id'])),_0xb46e07=_0x2dce6a[_0x1fe9ed(0x58f)](_0x1f656f=>!_0x403575[_0x1fe9ed(0xbe7)](_0x1f656f['id'])),_0x5a714a=(_0x46ba96,_0x393096)=>{const _0x4837fa=_0x1fe9ed;switch(_0x527fe1){case _0x4837fa(0x507):return _0x46ba96[_0x4837fa(0x252)][_0x4837fa(0x22f)](_0x393096[_0x4837fa(0x252)],'th');case _0x4837fa(0x85a):return _0x393096[_0x4837fa(0x252)][_0x4837fa(0x22f)](_0x46ba96[_0x4837fa(0x252)],'th');case _0x4837fa(0xa23):return new Date(_0x46ba96[_0x4837fa(0x9c5)])-new Date(_0x393096[_0x4837fa(0x9c5)]);default:return new Date(_0x393096[_0x4837fa(0x9c5)])-new Date(_0x46ba96[_0x4837fa(0x9c5)]);}};_0x13b730[_0x1fe9ed(0x528)](_0x5a714a),_0xb46e07[_0x1fe9ed(0x528)](_0x5a714a);const _0x5f4b3b=[..._0x13b730,..._0xb46e07],_0x25bc1c=globalDashboardSettings['projectOrder']||[];_0x25bc1c[_0x1fe9ed(0x14c)]>0x0&&_0x3a9b98===_0x1fe9ed(0x734)&&_0x5f4b3b[_0x1fe9ed(0x528)]((_0x284403,_0x227e15)=>{const _0x265679=_0x1fe9ed,_0x5058ec=_0x25bc1c[_0x265679(0x5f3)](_0x284403['id']),_0x19a198=_0x25bc1c['indexOf'](_0x227e15['id']);if(_0x5058ec===-0x1)return 0x1;if(_0x19a198===-0x1)return-0x1;return _0x5058ec-_0x19a198;});const _0x35d207={};await Promise[_0x1fe9ed(0xbd8)](_0x5f4b3b[_0x1fe9ed(0x4cb)](async _0x562c0a=>{const _0x3c4314=_0x1fe9ed,_0x1f3aa1=query(collection(db,_0x3c4314(0x407)+appId+_0x3c4314(0x399)),where('projectId','==',_0x562c0a['id'])),_0x4cb8cb=await getDocs(_0x1f3aa1);_0x35d207[_0x562c0a['id']]=_0x4cb8cb[_0x3c4314(0xada)];}));const _0x1166b4=document['getElementById']('project-list');let _0x152a98='';if(_0x3a9b98==='grid'){_0x1166b4[_0x1fe9ed(0xe0a)]=_0x1fe9ed(0xa35);if(starredQuizzes[_0x1fe9ed(0x14c)]>0x0&&_0x2fa3e8===''){const _0x5f3ddc=starredQuizzes['map'](_0x231657=>{const _0x457470=_0x1fe9ed,_0x3a56b8=allProjects[_0x457470(0x6bf)](_0x416b46=>_0x416b46['id']===_0x231657[_0x457470(0xccc)]);return{..._0x231657,'projectName':_0x3a56b8?_0x3a56b8[_0x457470(0x252)]:_0x457470(0xb7b)};});_0x152a98+=_0x1fe9ed(0x373)+_0x5f3ddc['map'](_0x59706f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x59706f['topic']+'\x22>'+_0x59706f['topic']+_0x1fe9ed(0xe61)+_0x59706f[_0x1fe9ed(0x252)]+_0x1fe9ed(0xc68)+_0x59706f[_0x1fe9ed(0x252)]+_0x1fe9ed(0x6e0))[_0x1fe9ed(0x656)]('')+_0x1fe9ed(0x66c)+starredQuizzes['length']+_0x1fe9ed(0xd49);}_0x5f4b3b['forEach'](_0x383807=>{const _0x20794b=_0x1fe9ed,_0x1f04bf=_0x35d207[_0x383807['id']]??0x0,_0x43f640=_0x403575[_0x20794b(0xbe7)](_0x383807['id']),_0xef8f04=_0x383807[_0x20794b(0x2f3)]||_0x20794b(0x126),_0x2b5490=parseInt(_0xef8f04[_0x20794b(0x51e)](0x1,0x3),0x10)*0.299+parseInt(_0xef8f04['substring'](0x3,0x5),0x10)*0.587+parseInt(_0xef8f04[_0x20794b(0x51e)](0x5,0x7),0x10)*0.114<0xba,_0x3a10d3=_0x2b5490?_0x20794b(0x4b0):_0x20794b(0x190),_0x1f31ac=_0x2b5490?_0x20794b(0xc5c):_0x20794b(0x39e);_0x152a98+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x43f640?_0x20794b(0xd5d):'border-gray-200')+_0x20794b(0xc3e)+_0xef8f04+_0x20794b(0x9e0)+_0x383807['id']+_0x20794b(0x7de)+_0x383807['id']+_0x20794b(0x4e0)+(_0x2b5490?'text-gray-300\x20hover:text-white':_0x20794b(0x3a1))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x383807['id']+_0x20794b(0x45b)+(_0x2b5490?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x20794b(0x4b5)+(_0x43f640?_0x2b5490?'text-yellow-300':_0x20794b(0x164):'')+_0x20794b(0xbd7)+_0x383807['id']+_0x20794b(0x83a)+_0x3a10d3+_0x20794b(0xb93)+_0x383807['projectName']+_0x20794b(0x5f4)+_0x1f31ac+_0x20794b(0x473)+new Date(_0x383807[_0x20794b(0x9c5)])[_0x20794b(0x1ec)](_0x20794b(0x9d2))+_0x20794b(0x2af)+(_0x2b5490?_0x20794b(0xa0f):'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x1f04bf+_0x20794b(0x131)+_0x383807['id']+_0x20794b(0xa21)+_0x383807[_0x20794b(0x252)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x2b5490?_0x20794b(0x79d):_0x20794b(0x392))+_0x20794b(0xc89);});}else _0x1166b4['className']='flex\x20flex-col\x20gap-2',starredQuizzes[_0x1fe9ed(0x14c)]>0x0&&_0x2fa3e8===''&&(_0x152a98+=_0x1fe9ed(0x3aa)+starredQuizzes[_0x1fe9ed(0x14c)]+_0x1fe9ed(0x4da)),_0x152a98+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x5f4b3b[_0x1fe9ed(0xacf)](_0x1fdf78=>{const _0x253358=_0x1fe9ed,_0x4c927f=_0x35d207[_0x1fdf78['id']]??0x0,_0x35bae8=_0x403575[_0x253358(0xbe7)](_0x1fdf78['id']);_0x152a98+=_0x253358(0x1fd)+(_0x1fdf78[_0x253358(0x2f3)]||_0x253358(0x6e4))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x1fdf78['id']+_0x253358(0x185)+_0x1fdf78[_0x253358(0x252)]+_0x253358(0xd59)+_0x4c927f+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1fdf78[_0x253358(0x9c5)])[_0x253358(0x84c)](_0x253358(0x9d2))+_0x253358(0x515)+_0x1fdf78['id']+_0x253358(0x32f)+(_0x35bae8?_0x253358(0x164):'')+_0x253358(0xb5a)+_0x1fdf78['id']+'\x22\x20data-name=\x22'+_0x1fdf78[_0x253358(0x252)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x1fe9ed(0x568)]=_0x152a98,noProjectsMsg['classList']['toggle']('hidden',_0x152a98[_0x1fe9ed(0x14c)]>0x0);}document['getElementById'](_0x1b610a(0x699))[_0x1b610a(0xd68)](_0x1b610a(0xcc3),async()=>{const _0x13d9fa=_0x1b610a,_0x91d633=document[_0x13d9fa(0x8a9)]('project-name-input'),_0x52c8de=_0x91d633[_0x13d9fa(0x61e)][_0x13d9fa(0x937)]();if(!_0x52c8de){showMessage(_0x13d9fa(0xadd));return;}try{const _0x1cdd21=doc(collection(db,_0x13d9fa(0x407)+appId+_0x13d9fa(0x622)));await setDoc(_0x1cdd21,{'projectName':_0x52c8de,'students':[],'settings':{'resultsDisplay':_0x13d9fa(0xc1e),'shuffleSetting':_0x13d9fa(0x436),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x13d9fa(0x3f0)]()}),_0x91d633[_0x13d9fa(0x61e)]='',createProjectModal[_0x13d9fa(0xb12)]['add'](_0x13d9fa(0x9cf)),showMessage(_0x13d9fa(0xaa9));}catch(_0x2dc4a5){console[_0x13d9fa(0xce3)](_0x13d9fa(0xc11),_0x2dc4a5),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener']('click',async _0x1c46f4=>{const _0x707b18=_0x1b610a,_0x3a10f4=_0x1c46f4[_0x707b18(0x61a)]['closest'](_0x707b18(0xe4f)),_0x5d3e93=_0x1c46f4[_0x707b18(0x61a)]['closest'](_0x707b18(0x87e)),_0x2a9c22=_0x1c46f4[_0x707b18(0x61a)][_0x707b18(0x156)]('.pin-project-btn'),_0x31540f=_0x1c46f4['target'][_0x707b18(0x156)](_0x707b18(0x5d0));if(_0x2a9c22){const _0xecb19f=_0x2a9c22['dataset']['id'],_0x4a131d=doc(db,'globalSettings',_0x707b18(0xaba)),_0x59071f=globalDashboardSettings[_0x707b18(0x9f1)];let _0x30b777;_0x59071f[_0x707b18(0x55e)](_0xecb19f)?_0x30b777=_0x59071f[_0x707b18(0x58f)](_0x5113a5=>_0x5113a5!==_0xecb19f):_0x30b777=[..._0x59071f,_0xecb19f];try{await setDoc(_0x4a131d,{'pinnedProjects':_0x30b777},{'merge':!![]});}catch(_0x304a7e){console[_0x707b18(0xce3)](_0x707b18(0x449),_0x304a7e),showMessage(_0x707b18(0xd18));}}else{if(_0x31540f){const _0x1eb197=_0x31540f[_0x707b18(0xd34)]['id'];showColorPalette(_0x31540f,_0x1eb197);}else{if(_0x3a10f4){const _0x4685c6=_0x3a10f4[_0x707b18(0xd34)]['id'];_0x4685c6===_0x707b18(0x4e1)?showStarredProjectView():(currentProjectId=_0x4685c6,await loadProjectDetails(currentProjectId),showView(_0x707b18(0x535)));}else{if(_0x5d3e93){const _0x7a63b7=_0x5d3e93[_0x707b18(0xd34)]['id'],_0x39ad24=_0x5d3e93['dataset'][_0x707b18(0x835)];showConfirmation(_0x707b18(0x13a)+_0x39ad24+_0x707b18(0x623),()=>handleDeleteProject(_0x7a63b7));}}}}}),projectList['addEventListener'](_0x1b610a(0x9c7),_0x3cfce6=>{const _0x2a11a6=_0x1b610a,_0x2e359c=_0x3cfce6[_0x2a11a6(0x61a)][_0x2a11a6(0x156)](_0x2a11a6(0x603));_0x2e359c&&_0x2e359c['classList'][_0x2a11a6(0x786)](_0x2a11a6(0xb66));}),projectList[_0x1b610a(0xd68)]('dragend',_0x4d091b=>{const _0x17574b=_0x1b610a,_0x5e1cb4=_0x4d091b[_0x17574b(0x61a)][_0x17574b(0x156)]('.project-card-container');_0x5e1cb4&&_0x5e1cb4[_0x17574b(0xb12)][_0x17574b(0x1e9)](_0x17574b(0xb66));}),projectList['addEventListener'](_0x1b610a(0x907),_0x1d736f=>{const _0x4afabf=_0x1b610a;_0x1d736f[_0x4afabf(0x219)]();const _0x45d550=document[_0x4afabf(0x2b0)](_0x4afabf(0x624));if(!_0x45d550)return;const _0x1afb43=getDragAfterElement(projectList,_0x1d736f[_0x4afabf(0x33c)]);_0x1afb43==null?projectList[_0x4afabf(0x90c)](_0x45d550):projectList['insertBefore'](_0x45d550,_0x1afb43);}),projectList[_0x1b610a(0xd68)](_0x1b610a(0x178),_0x44376a=>{const _0x5eadf9=_0x1b610a;_0x44376a['preventDefault']();const _0x45ff3f=[...projectList['querySelectorAll'](_0x5eadf9(0x5e4))][_0x5eadf9(0x4cb)](_0x5a0c74=>_0x5a0c74[_0x5eadf9(0xd34)]['id']);saveProjectOrder(_0x45ff3f);});function renderBehaviorLog(_0x3c1418){const _0x1f8f4c=_0x1b610a,_0x24bfa5=document[_0x1f8f4c(0x8a9)]('behavior-log-container');if(!_0x24bfa5)return;const _0x7ef541=_0x3c1418[_0x1f8f4c(0x58f)](_0x22bd98=>_0x22bd98[_0x1f8f4c(0x65c)]&&_0x22bd98[_0x1f8f4c(0x65c)][_0x1f8f4c(0x14c)]>0x0);if(_0x7ef541[_0x1f8f4c(0x14c)]===0x0){_0x24bfa5['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x3a2157='';_0x7ef541[_0x1f8f4c(0xacf)](_0x52960b=>{const _0x4fc2a4=_0x1f8f4c;_0x3a2157+=_0x4fc2a4(0xb7a)+_0x52960b[_0x4fc2a4(0x311)]+_0x4fc2a4(0x63e),_0x52960b[_0x4fc2a4(0x65c)][_0x4fc2a4(0x528)]((_0x2d2cb0,_0x1d743a)=>new Date(_0x1d743a[_0x4fc2a4(0x791)])-new Date(_0x2d2cb0[_0x4fc2a4(0x791)]))[_0x4fc2a4(0xacf)](_0x39afec=>{const _0xd95638=_0x4fc2a4,_0x157343=new Date(_0x39afec[_0xd95638(0x791)])[_0xd95638(0x84c)]('th-TH',{'dateStyle':_0xd95638(0xca9),'timeStyle':_0xd95638(0xc31)});_0x3a2157+=_0xd95638(0xbf4)+_0x39afec[_0xd95638(0x1f9)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x157343+_0xd95638(0x2d0);}),_0x3a2157+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x24bfa5['innerHTML']=_0x3a2157;}function getDragAfterElement(_0x3a6c15,_0xb5fdc5){const _0x3898b2=_0x1b610a,_0x1887f=[..._0x3a6c15[_0x3898b2(0x6b8)]('.project-card-container:not(.opacity-50)')];return _0x1887f[_0x3898b2(0x817)]((_0x4f45ad,_0x8c4669)=>{const _0x5d18b3=_0x3898b2,_0x88361d=_0x8c4669[_0x5d18b3(0xd95)](),_0x1686a5=_0xb5fdc5-_0x88361d['top']-_0x88361d[_0x5d18b3(0xb7f)]/0x2;return _0x1686a5<0x0&&_0x1686a5>_0x4f45ad[_0x5d18b3(0xdd0)]?{'offset':_0x1686a5,'element':_0x8c4669}:_0x4f45ad;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3898b2(0x714)];}async function saveProjectOrder(_0x7e787){const _0x3f882e=_0x1b610a,_0xbabf52=doc(db,_0x3f882e(0x18b),'dashboardConfig');try{await setDoc(_0xbabf52,{'projectOrder':_0x7e787},{'merge':!![]});}catch(_0x57cebb){console[_0x3f882e(0xce3)]('Error\x20saving\x20project\x20order:',_0x57cebb),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x2d6955,_0x2935ad={}){const _0x3e5945=_0x1b610a;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3e5945(0xa1b)](_0x3e5945(0x336));return;}const _0x527e19=doc(db,_0x3e5945(0x407)+appId+_0x3e5945(0x56f)+currentQuizData['id']+_0x3e5945(0x8b6),currentStudentName),_0x38057b={'event':_0x2d6955,'timestamp':new Date()['toISOString'](),..._0x2935ad};try{await updateDoc(_0x527e19,{'behaviorLog':arrayUnion(_0x38057b)}),console[_0x3e5945(0xd62)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+'\x20สำเร็จ');}catch(_0x5d0987){_0x5d0987[_0x3e5945(0x7d8)]===_0x3e5945(0x591)?console[_0x3e5945(0xa1b)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x3e5945(0xce3)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x5d0987);}}function getScoreTier(_0x28c92a,_0x1ca671){const _0x54734a=_0x1b610a;if(_0x1ca671===0x0){if(_0x28c92a===0x0)return{'text':_0x54734a(0x953),'icon':'⏳'};return{'text':'(พยายามอยู่)','icon':'😥'};}const _0x9a4ab2=_0x28c92a/(_0x1ca671===0x0?0x1:_0x1ca671);if(_0x9a4ab2===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x9a4ab2>=0.7)return{'text':_0x54734a(0xc18),'icon':'🔥'};if(_0x9a4ab2>=0.4)return{'text':_0x54734a(0xc93),'icon':'🏃'};return{'text':_0x54734a(0x405),'icon':'😥'};}function calculateMeanAndStdDev(_0x55bacf){const _0x474f6a=_0x1b610a;if(_0x55bacf[_0x474f6a(0x14c)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x55b0d3=_0x55bacf[_0x474f6a(0x817)]((_0x19d8ed,_0x4c0a28)=>_0x19d8ed+_0x4c0a28,0x0)/_0x55bacf[_0x474f6a(0x14c)];if(_0x55bacf[_0x474f6a(0x14c)]===0x1)return{'mean':_0x55b0d3,'stdDev':0x0};const _0x48d31a=Math[_0x474f6a(0xda3)](_0x55bacf[_0x474f6a(0x4cb)](_0x420922=>Math['pow'](_0x420922-_0x55b0d3,0x2))[_0x474f6a(0x817)]((_0x4d889a,_0x3b330a)=>_0x4d889a+_0x3b330a,0x0)/(_0x55bacf[_0x474f6a(0x14c)]-0x1));return{'mean':_0x55b0d3,'stdDev':_0x48d31a};}function calculateZScore(_0x667b19,_0x56f251,_0x30ccaa){if(_0x30ccaa===0x0)return 0x0;return(_0x667b19-_0x56f251)/_0x30ccaa;}function calculateTScore(_0xab1970){return 0xa*_0xab1970+0x32;}function showStarredProjectView(){const _0x29e75d=_0x1b610a;currentProjectId='starred',currentProjectData=null,projectTitle[_0x29e75d(0xab8)]=_0x29e75d(0x533),projectIdDisplay['textContent']=_0x29e75d(0xa59),showView(_0x29e75d(0x535)),manageTab[_0x29e75d(0xb12)]['add']('hidden'),leaderboardTab[_0x29e75d(0xb12)][_0x29e75d(0x786)](_0x29e75d(0x9cf)),switchProjectTab(_0x29e75d(0x423)),renderQuizzes();}async function loadProjectDetails(_0x2282a3){const _0x377495=_0x1b610a,_0x29be23=doc(db,'artifacts/'+appId+_0x377495(0x622),_0x2282a3),_0x1c8a1e=await getDoc(_0x29be23);if(_0x1c8a1e[_0x377495(0xa90)]()){manageTab[_0x377495(0xb12)][_0x377495(0x1e9)](_0x377495(0x9cf)),leaderboardTab['classList'][_0x377495(0x1e9)](_0x377495(0x9cf)),currentProjectData=_0x1c8a1e['data'](),projectTitle['textContent']=currentProjectData[_0x377495(0x252)],projectIdDisplay['textContent']=_0x2282a3;const _0x398309=currentProjectData[_0x377495(0x43d)]||{};document['getElementById'](_0x377495(0x24c))[_0x377495(0x61e)]=_0x398309[_0x377495(0xc2f)]||'none';const _0x29d141=document[_0x377495(0x8a9)](_0x377495(0xb89));_0x29d141[_0x377495(0xaa0)]=_0x398309[_0x377495(0x6b3)]!==![];const _0x1a1c36=document[_0x377495(0x8a9)]('enable-passcode-checkbox'),_0x46e81=document[_0x377495(0x8a9)](_0x377495(0x4d2)),_0x140f65=document[_0x377495(0x8a9)]('project-passcode-input'),_0x4bfba8=_0x398309[_0x377495(0x8c1)]||![];_0x1a1c36[_0x377495(0xaa0)]=_0x4bfba8,_0x140f65['value']=_0x398309[_0x377495(0xc8d)]||'',_0x46e81[_0x377495(0xb12)][_0x377495(0x830)](_0x377495(0x9cf),!_0x4bfba8),_0x1a1c36[_0x377495(0x203)]=()=>{const _0xe06b34=_0x377495;_0x46e81['classList'][_0xe06b34(0x830)](_0xe06b34(0x9cf),!_0x1a1c36[_0xe06b34(0xaa0)]);},document[_0x377495(0x8a9)]('confidence-scoring-checkbox')[_0x377495(0xaa0)]=_0x398309[_0x377495(0x5d8)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2282a3),listenForProjectQuizzes(_0x2282a3),listenForStudentProfiles(_0x2282a3);}else showMessage(_0x377495(0x3cd)),showView(_0x377495(0x88a));}async function handleResetProjectOrder(){const _0x10fd38=_0x1b610a,_0x5ba209=doc(db,'globalSettings',_0x10fd38(0xaba));try{await setDoc(_0x5ba209,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x10fd38(0xb3d));}catch(_0xed643f){console[_0x10fd38(0xce3)](_0x10fd38(0xdc1),_0xed643f),showMessage(_0x10fd38(0x8e9));}}async function handleTogglePinProject(_0x23e10b){const _0x39e899=_0x1b610a;if(!_0x23e10b)return;const _0x449252=doc(db,_0x39e899(0x407)+appId+'/public/data/projects',_0x23e10b);try{const _0x4ec9a2=await getDoc(_0x449252);if(_0x4ec9a2['exists']()){const _0x3d80db=_0x4ec9a2[_0x39e899(0x860)]()[_0x39e899(0xbc7)]||![];await updateDoc(_0x449252,{'isPinned':!_0x3d80db});}}catch(_0x512dd6){console[_0x39e899(0xce3)](_0x39e899(0x88c),_0x512dd6),showMessage(_0x39e899(0xd18));}}async function handleDeleteProject(_0x4f703e){const _0x195b99=_0x1b610a;try{const _0x1d3168=writeBatch(db),_0x9629b4=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0xf5eae9=query(_0x9629b4,where(_0x195b99(0xccc),'==',_0x4f703e)),_0x34d4af=await getDocs(_0xf5eae9);for(const _0x10f1f9 of _0x34d4af[_0x195b99(0x654)]){const _0x378a6f=collection(db,_0x195b99(0x407)+appId+_0x195b99(0x56f)+_0x10f1f9['id']+_0x195b99(0x8b6)),_0x5f3a78=await getDocs(_0x378a6f);_0x5f3a78['forEach'](_0x4f373a=>{const _0x155f5c=_0x195b99;_0x1d3168[_0x155f5c(0x5f7)](_0x4f373a[_0x155f5c(0xcf8)]);}),_0x1d3168[_0x195b99(0x5f7)](_0x10f1f9[_0x195b99(0xcf8)]);}const _0x518536=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x4f703e+_0x195b99(0x50b)),_0x520ffc=await getDocs(_0x518536);_0x520ffc[_0x195b99(0xacf)](_0x5ba97f=>{const _0x49e006=_0x195b99;_0x1d3168[_0x49e006(0x5f7)](_0x5ba97f['ref']);});const _0x256ae4=doc(db,'artifacts/'+appId+_0x195b99(0x622),_0x4f703e);_0x1d3168[_0x195b99(0x5f7)](_0x256ae4),await _0x1d3168[_0x195b99(0x394)](),showMessage(_0x195b99(0x9c0)),showView('admin-dashboard');}catch(_0x56d711){console[_0x195b99(0xce3)](_0x195b99(0xdf7),_0x56d711),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x1b610a(0x8a9)](_0x1b610a(0x1ad))['addEventListener'](_0x1b610a(0xcc3),async()=>{const _0x1104f7=_0x1b610a;if(!currentProjectId)return;const _0x57240c={'defaultNumQuestions':parseInt(document[_0x1104f7(0x8a9)](_0x1104f7(0x7ab))['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x1104f7(0x9f4))[_0x1104f7(0x61e)]),'defaultPassingScore':parseInt(document[_0x1104f7(0x8a9)](_0x1104f7(0x348))[_0x1104f7(0x61e)]),'resultsDisplay':document[_0x1104f7(0x8a9)]('results-display-select')[_0x1104f7(0x61e)],'shuffleSetting':document[_0x1104f7(0x8a9)]('shuffle-setting-select')[_0x1104f7(0x61e)],'timerMode':document[_0x1104f7(0x8a9)](_0x1104f7(0x9c3))['value'],'timerDuration':parseInt(document[_0x1104f7(0x8a9)](_0x1104f7(0x89a))[_0x1104f7(0x61e)]),'isConfidenceScoringEnabled':document['getElementById']('confidence-scoring-checkbox')[_0x1104f7(0xaa0)],'confidenceMode':document[_0x1104f7(0x8a9)](_0x1104f7(0x1ce))[_0x1104f7(0x61e)]};try{const _0x2fe531=doc(db,'artifacts/'+appId+_0x1104f7(0x622),currentProjectId);await updateDoc(_0x2fe531,{'settings':_0x57240c}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x542e30){console[_0x1104f7(0xce3)](_0x1104f7(0x9b9),_0x542e30),showMessage(_0x1104f7(0x6f6));}});function listenForStudents(_0x1560a0){const _0x58adf2=_0x1b610a,_0x2bc79a=doc(db,'artifacts/'+appId+_0x58adf2(0x622),_0x1560a0);unsubscribeStudentsListener=onSnapshot(_0x2bc79a,_0x157b7c=>{const _0x193036=_0x58adf2;if(_0x157b7c[_0x193036(0xa90)]()){const _0x226fc8=_0x157b7c['data']();currentProjectData=_0x226fc8,renderStudentList(_0x226fc8[_0x193036(0x3a4)]||[]);}});}function renderStudentList(_0x3064f9){const _0x470281=_0x1b610a,_0x130ec0=document[_0x470281(0x8a9)]('delete-all-students-btn');_0x3064f9[_0x470281(0x14c)]===0x0?(studentList[_0x470281(0x568)]=_0x470281(0x58e),_0x130ec0[_0x470281(0xb12)][_0x470281(0x786)]('hidden')):(studentList['innerHTML']=_0x3064f9[_0x470281(0x4cb)](_0x5d55a9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5d55a9+_0x470281(0xb4b)+_0x5d55a9+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x130ec0[_0x470281(0xb12)][_0x470281(0x1e9)](_0x470281(0x9cf)));}document['getElementById'](_0x1b610a(0x809))['addEventListener'](_0x1b610a(0xcc3),async()=>{const _0x220d98=_0x1b610a;if(!currentProjectId)return;const _0x258baf=document[_0x220d98(0x8a9)](_0x220d98(0xb0b)),_0x5c13db=_0x258baf[_0x220d98(0x61e)][_0x220d98(0x937)]();if(!_0x5c13db){showMessage(_0x220d98(0xd33));return;}const _0x540d77=_0x5c13db[_0x220d98(0x59b)]('\x0a')['map'](_0x113e4d=>_0x113e4d[_0x220d98(0x937)]())[_0x220d98(0x58f)](_0x3be226=>_0x3be226);if(_0x540d77[_0x220d98(0x14c)]===0x0)return;try{const _0x386336=doc(db,_0x220d98(0x407)+appId+_0x220d98(0x622),currentProjectId),_0x369c31=await getDoc(_0x386336);if(_0x369c31['exists']()){const _0x1213a2=_0x369c31[_0x220d98(0x860)]()['students']||[],_0x4a68f7=[...new Set([..._0x1213a2,..._0x540d77])];await updateDoc(_0x386336,{'students':_0x4a68f7}),_0x258baf['value']='';}}catch(_0x63965f){console['error'](_0x220d98(0x1b5),_0x63965f),showMessage(_0x220d98(0xbbc));}});async function handleManualQuizPairing(_0x483ac5){const _0x217847=_0x1b610a,_0xb861a0=document[_0x217847(0x8a9)](_0x217847(0x207)),_0x1a7b2e=document['getElementById'](_0x217847(0x202)),_0x2ae466=_0xb861a0[_0x217847(0x2b0)]('h3'),_0x5eedc0=document[_0x217847(0x8a9)](_0x217847(0x145)),_0x568193=document['getElementById'](_0x217847(0xdb3));_0x2ae466[_0x217847(0xab8)]=_0x217847(0x9fc),_0x1a7b2e[_0x217847(0x568)]=_0x217847(0xd4f),_0x5eedc0[_0x217847(0xab8)]='ยืนยันการจับคู่',_0xb861a0['classList'][_0x217847(0x1e9)](_0x217847(0x9cf));const _0x5e3651=allQuizzes[_0x217847(0x58f)](_0x33b351=>_0x33b351['id']!==_0x483ac5);_0x5e3651[_0x217847(0x14c)]===0x0?(_0x1a7b2e[_0x217847(0x568)]=_0x217847(0xc64),_0x5eedc0[_0x217847(0x317)]=!![]):(_0x1a7b2e[_0x217847(0x568)]=_0x217847(0xba5)+_0x5e3651[_0x217847(0x4cb)](_0x2a4df6=>_0x217847(0x15f)+_0x2a4df6['id']+'\x22>'+_0x2a4df6['topic']+'</option>')[_0x217847(0x656)](''),_0x5eedc0[_0x217847(0x317)]=![]);const _0x2c4739=async()=>{const _0x414ec0=_0x217847,_0x3ac381=_0x1a7b2e[_0x414ec0(0x61e)];if(!_0x3ac381){showMessage(_0x414ec0(0x749));return;}_0x5eedc0[_0x414ec0(0x317)]=!![],_0x5eedc0[_0x414ec0(0xab8)]=_0x414ec0(0xcf4);try{const _0xcd8d50=doc(db,_0x414ec0(0x407)+appId+'/public/data/quizzes',_0x483ac5),_0x22c3d1=doc(db,_0x414ec0(0x407)+appId+'/public/data/quizzes',_0x3ac381),_0x5bd196=writeBatch(db);_0x5bd196[_0x414ec0(0x6e5)](_0xcd8d50,{'pairedQuizId':_0x3ac381}),_0x5bd196['update'](_0x22c3d1,{'pairedQuizId':_0x483ac5}),await _0x5bd196[_0x414ec0(0x394)](),showMessage(_0x414ec0(0x68c)),_0xb861a0[_0x414ec0(0xb12)][_0x414ec0(0x786)](_0x414ec0(0x9cf));}catch(_0x458ff){console[_0x414ec0(0xce3)]('Error\x20pairing\x20quizzes:',_0x458ff),showMessage(_0x414ec0(0x67c));}finally{_0x2ae466[_0x414ec0(0xab8)]=_0x414ec0(0x176),_0x5eedc0[_0x414ec0(0xab8)]='ย้าย',_0x5eedc0[_0x414ec0(0x317)]=![],_0x5eedc0[_0x414ec0(0xd06)](_0x414ec0(0xcc3),_0x2c4739),_0x568193[_0x414ec0(0xd06)](_0x414ec0(0xcc3),_0xec589f);}},_0xec589f=()=>{const _0xe6ab05=_0x217847;_0xb861a0['classList'][_0xe6ab05(0x786)]('hidden'),_0x2ae466[_0xe6ab05(0xab8)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5eedc0[_0xe6ab05(0xab8)]=_0xe6ab05(0xcd0),_0x5eedc0[_0xe6ab05(0xd06)]('click',_0x2c4739),_0x568193['removeEventListener'](_0xe6ab05(0xcc3),_0xec589f);};_0x5eedc0[_0x217847(0xd68)](_0x217847(0xcc3),_0x2c4739),_0x568193[_0x217847(0xd68)](_0x217847(0xcc3),_0xec589f);}function handleDeleteStudent(_0x10e17b){const _0x111729=_0x1b610a;showConfirmation(_0x111729(0xa97)+_0x10e17b+_0x111729(0xa3a),async()=>{const _0x3b23bc=_0x111729;if(!currentProjectId||!currentProjectData)return;const _0x412350=currentProjectData['students'][_0x3b23bc(0x58f)](_0x2c37bc=>_0x2c37bc!==_0x10e17b);try{const _0x37aea0=doc(db,_0x3b23bc(0x407)+appId+_0x3b23bc(0x622),currentProjectId),_0x52db53=doc(db,_0x3b23bc(0x407)+appId+_0x3b23bc(0x785)+currentProjectId+_0x3b23bc(0x50b),_0x10e17b),_0x3d0463=writeBatch(db);_0x3d0463[_0x3b23bc(0x6e5)](_0x37aea0,{'students':_0x412350}),_0x3d0463[_0x3b23bc(0x5f7)](_0x52db53),await _0x3d0463['commit']();}catch(_0x335789){console[_0x3b23bc(0xce3)](_0x3b23bc(0x975),_0x335789),showMessage(_0x3b23bc(0x182));}});}function handleDeleteAllStudents(){const _0x95db7c=_0x1b610a;showConfirmation(_0x95db7c(0xbc9),async()=>{const _0x5aea60=_0x95db7c;if(!currentProjectId)return;try{const _0x11c89a=doc(db,_0x5aea60(0x407)+appId+_0x5aea60(0x622),currentProjectId),_0xd50e22=collection(db,'artifacts/'+appId+_0x5aea60(0x785)+currentProjectId+'/studentProfiles'),_0x2fe7a9=await getDocs(_0xd50e22),_0xc7103f=writeBatch(db);_0xc7103f[_0x5aea60(0x6e5)](_0x11c89a,{'students':[]}),_0x2fe7a9[_0x5aea60(0xacf)](_0x505f00=>_0xc7103f[_0x5aea60(0x5f7)](_0x505f00[_0x5aea60(0xcf8)])),await _0xc7103f[_0x5aea60(0x394)]();}catch(_0x2cd9c2){console[_0x5aea60(0xce3)]('Error\x20deleting\x20all\x20students:',_0x2cd9c2),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x2b4197){const _0x306798=_0x1b610a,_0x4f685d=document[_0x306798(0x8a9)](_0x306798(0xd07)),_0x5077fd=document[_0x306798(0x8a9)]('file-topics-list');_0x4f685d[_0x306798(0xb12)][_0x306798(0x1e9)](_0x306798(0x9cf)),_0x5077fd[_0x306798(0x568)]=_0x306798(0x9dd);try{const _0x4d518d=new FileReader();_0x4d518d['readAsDataURL'](_0x2b4197),await new Promise((_0x10a243,_0x201b8f)=>{const _0x4389da=_0x306798;_0x4d518d[_0x4389da(0x92e)]=()=>{const _0x21f8a9=_0x4389da;fileDataBase64=_0x4d518d[_0x21f8a9(0x8d1)][_0x21f8a9(0x59b)](',')[0x1],fileMimeType=_0x2b4197[_0x21f8a9(0xb19)],_0x10a243();},_0x4d518d['onerror']=_0x112933=>_0x201b8f(_0x112933);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x2e3b6b=_0x306798(0x1f2),_0x3f13ae={'type':_0x306798(0x6da),'properties':{'topics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':['topics']},_0x1ecbb1=[{'text':_0x2e3b6b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x1023e7=await handleApiCall(_0x1ecbb1,_0x306798(0xcac),_0x3f13ae,null,![]);if(_0x1023e7&&_0x1023e7['topics'])extractedFileTopics=_0x1023e7[_0x306798(0xc57)],renderFileTopics();else throw new Error(_0x306798(0xcef));}catch(_0x992036){console[_0x306798(0xce3)](_0x306798(0x3e3),_0x992036),_0x5077fd[_0x306798(0x568)]=_0x306798(0x2c6)+_0x992036['message']+'</p>';}}function renderFileTopics(){const _0x49abe5=_0x1b610a,_0x2981a3=document[_0x49abe5(0x8a9)](_0x49abe5(0x2cf));if(extractedFileTopics[_0x49abe5(0x14c)]===0x0){_0x2981a3[_0x49abe5(0x568)]=_0x49abe5(0x926);return;}_0x2981a3[_0x49abe5(0x568)]=extractedFileTopics[_0x49abe5(0x4cb)](_0x417324=>_0x49abe5(0x5dc)+_0x417324+_0x49abe5(0xb72)+escape(_0x417324)+_0x49abe5(0xcd4)+escape(_0x417324)+_0x49abe5(0x6af))[_0x49abe5(0x656)]('');}async function generateHybridQuizForTopic(_0x2cf1c3){const _0x34c4e5=_0x1b610a,_0x3f29aa=parseInt(document['getElementById']('num-questions')['value'],0xa),_0x12a27a=document['getElementById'](_0x34c4e5(0x356))[_0x34c4e5(0x61e)],_0x5908db=document['getElementById']('num-choices')['value'],_0xf83f15=document[_0x34c4e5(0x8a9)]('include-images-checkbox')[_0x34c4e5(0xaa0)],_0x2f5c0c=_0xf83f15?_0x34c4e5(0xe23):_0x34c4e5(0xdd2);let _0x228b54='',_0x575541;const _0x35493b={'type':_0x34c4e5(0x6da),'properties':{'questionText':{'type':_0x34c4e5(0x6a7)},'options':{'type':'ARRAY','items':{'type':_0x34c4e5(0x6a7)}},'correctAnswerIndex':{'type':_0x34c4e5(0x832)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x34c4e5(0x460),_0x34c4e5(0x487),_0x34c4e5(0x26c),_0x34c4e5(0x658)]},_0x265b9b={'type':'OBJECT','properties':{'questionText':{'type':_0x34c4e5(0x6a7)},'correctAnswer':{'type':_0x34c4e5(0x2c3)},'explanation':{'type':_0x34c4e5(0x6a7)},'imageCode':{'type':_0x34c4e5(0x6a7)}},'required':['questionText',_0x34c4e5(0xad3),_0x34c4e5(0x658)]},_0x316633={'type':_0x34c4e5(0x6da),'properties':{'questionText':{'type':_0x34c4e5(0x6a7)},'idealAnswer':{'type':_0x34c4e5(0x6a7)},'explanation':{'type':_0x34c4e5(0x6a7)},'imageCode':{'type':_0x34c4e5(0x6a7)}},'required':[_0x34c4e5(0x460),_0x34c4e5(0xc37),_0x34c4e5(0x658)]},_0x1aaf0d={'type':_0x34c4e5(0x6da),'properties':{'questionType':{'type':_0x34c4e5(0x6a7),'enum':[_0x34c4e5(0x3e6)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x34c4e5(0x7b8),'items':{'type':_0x34c4e5(0x6a7)}},'explanation':{'type':_0x34c4e5(0x6a7)},'imageCode':{'type':_0x34c4e5(0x6a7)}},'required':[_0x34c4e5(0xa9f),_0x34c4e5(0xc35),'correctResponse',_0x34c4e5(0x6cf),_0x34c4e5(0x658)]};switch(_0x12a27a){case _0x34c4e5(0x24a):const _0x44d1a6=_0x34c4e5(0x2a3);prompt='สร้างแบบทดสอบปรนัย'+subjectPrefix+'\x20'+settings['numQuestions']+'\x20ข้อ\x20'+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20'+settings[_0x34c4e5(0x467)]+_0x34c4e5(0x4b8)+_0x44d1a6+_0x34c4e5(0x118)+_0x2f5c0c+'\x20'+simpleMathPrompt,schema=_0x35493b;break;case _0x34c4e5(0x8fb):_0x228b54=_0x34c4e5(0x337),_0x575541=_0x265b9b;break;case _0x34c4e5(0x312):_0x228b54=_0x34c4e5(0xb99),_0x575541=_0x316633;break;case _0x34c4e5(0x752):_0x228b54='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x575541=_0x1aaf0d;break;case _0x34c4e5(0x270):_0x228b54=_0x34c4e5(0xa83)+_0x5908db+_0x34c4e5(0x2c0),_0x575541=_0x35493b;break;default:_0x228b54=_0x34c4e5(0x375)+_0x5908db+_0x34c4e5(0x2c0),_0x575541=_0x35493b;break;}const _0x59c139=_0x34c4e5(0x1fe),_0x31fa7d=document[_0x34c4e5(0x8a9)](_0x34c4e5(0x60a)),_0x102f40=document[_0x34c4e5(0x8a9)](_0x34c4e5(0x1f4)),_0x30ea5a=document[_0x34c4e5(0x8a9)](_0x34c4e5(0x505));document[_0x34c4e5(0x8a9)](_0x34c4e5(0x694))[_0x34c4e5(0xb12)][_0x34c4e5(0x1e9)](_0x34c4e5(0x9cf)),_0x30ea5a[_0x34c4e5(0x568)]='',_0x31fa7d[_0x34c4e5(0xb12)][_0x34c4e5(0x1e9)](_0x34c4e5(0x9cf)),_0x102f40['textContent']=_0x34c4e5(0x21c)+_0x2cf1c3+_0x34c4e5(0x25b)+_0x3f29aa+'\x20ข้อ...';try{const _0x341181='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x3b944a=_0x34c4e5(0x479)+_0x2cf1c3+_0x34c4e5(0xd90)+_0x3f29aa+_0x34c4e5(0x34a)+_0x2cf1c3+_0x34c4e5(0x8f1)+_0x3f29aa+_0x34c4e5(0x66f)+_0x2f5c0c+_0x34c4e5(0x4f4)+_0x228b54+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x59c139+_0x34c4e5(0x509)+_0x341181+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x34c4e5(0x720),_0x42d1fd={'type':'OBJECT','properties':{'topic':{'type':_0x34c4e5(0x6a7)},'questions':{'type':_0x34c4e5(0x7b8),'items':_0x575541}},'required':[_0x34c4e5(0x5cc),_0x34c4e5(0x3c6)]},_0x42ace0=[{'text':_0x3b944a},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x42ace0,_0x34c4e5(0xc92)+_0x2cf1c3+'\x22...',_0x42d1fd);}catch(_0x3c7578){console['error']('Error\x20generating\x20hybrid\x20quiz:',_0x3c7578),showMessage(_0x34c4e5(0x762)+_0x3c7578[_0x34c4e5(0xba0)]),_0x30ea5a['innerHTML']=_0x34c4e5(0x673);}finally{_0x31fa7d[_0x34c4e5(0xb12)]['add'](_0x34c4e5(0x9cf));}}async function handleGenerateFromFileClick(){const _0xd94537=_0x1b610a;if(!selectedFile){showMessage(_0xd94537(0xd6b));return;}const _0x23de8e=document[_0xd94537(0x8a9)](_0xd94537(0x60a)),_0x347114=document[_0xd94537(0x8a9)](_0xd94537(0x1f4)),_0x23c5d4=document[_0xd94537(0x8a9)]('generated-quiz-container'),_0x32cc18=document['getElementById'](_0xd94537(0x88b));_0x32cc18[_0xd94537(0x317)]=!![],document[_0xd94537(0x8a9)](_0xd94537(0x694))['classList'][_0xd94537(0x1e9)]('hidden'),_0x23c5d4['innerHTML']='',_0x23de8e[_0xd94537(0xb12)][_0xd94537(0x1e9)]('hidden'),_0x347114[_0xd94537(0xab8)]=_0xd94537(0x263);try{const _0x18f4ee=await new Promise((_0x3c2adc,_0xcdccb6)=>{const _0x668254=_0xd94537,_0x18920a=new FileReader();_0x18920a[_0x668254(0xbc6)](selectedFile),_0x18920a[_0x668254(0x92e)]=()=>_0x3c2adc(_0x18920a[_0x668254(0x8d1)][_0x668254(0x59b)](',')[0x1]),_0x18920a[_0x668254(0x2a0)]=_0xefe5e4=>_0xcdccb6(_0xefe5e4);});await generateQuizFromFile(selectedFile[_0xd94537(0xb19)],_0x18f4ee);}catch(_0x35bcee){console['error'](_0xd94537(0xd20),_0x35bcee),showMessage(_0xd94537(0x4b2)+_0x35bcee[_0xd94537(0xba0)]),_0x23de8e['classList'][_0xd94537(0x786)](_0xd94537(0x9cf)),_0x32cc18[_0xd94537(0x317)]=![];}}function autoFormatMath(_0x18f076){const _0x6b8d11=_0x1b610a;if(typeof _0x18f076!==_0x6b8d11(0x8d8)||!_0x18f076)return _0x18f076;const _0x5638b8=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3308b5=_0x18f076[_0x6b8d11(0xb27)](_0x5638b8,_0x96803e=>{const _0x41ef6e=_0x6b8d11;return'$'+_0x96803e[_0x41ef6e(0x937)]()+'$';});return _0x3308b5;}function sanitizeQuizData(_0x845bfc){const _0x215594=_0x1b610a;if(!_0x845bfc||!_0x845bfc[_0x215594(0x3c6)])return _0x845bfc;const _0x56b836=_0x776a08=>{const _0x3c6dd4=_0x215594;if(typeof _0x776a08!==_0x3c6dd4(0x8d8))return _0x776a08;let _0x34a8f1=_0x776a08;_0x34a8f1=_0x34a8f1[_0x3c6dd4(0xb27)](/\\\(/g,'$')[_0x3c6dd4(0xb27)](/\\\)/g,'$'),_0x34a8f1=_0x34a8f1[_0x3c6dd4(0xb27)](/\\\[/g,'$$')[_0x3c6dd4(0xb27)](/\\\]/g,'$$'),_0x34a8f1=_0x34a8f1['replace'](/\\?imes\b/g,_0x3c6dd4(0xd1b));const _0x5ef191=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x34a8f1=_0x34a8f1[_0x3c6dd4(0xb27)](_0x5ef191,_0x4150ec=>{return'$'+_0x4150ec['trim']()+'$';}),_0x34a8f1;};return _0x845bfc[_0x215594(0x5cc)]&&(_0x845bfc[_0x215594(0x5cc)]=_0x56b836(_0x845bfc['topic'])),_0x845bfc[_0x215594(0x3c6)][_0x215594(0xacf)](_0x3302b0=>{const _0x5d3f7d=_0x215594;_0x3302b0[_0x5d3f7d(0x460)]=_0x56b836(_0x3302b0[_0x5d3f7d(0x460)]),_0x3302b0['stem']=_0x56b836(_0x3302b0[_0x5d3f7d(0xc35)]),_0x3302b0[_0x5d3f7d(0x487)]&&(_0x3302b0[_0x5d3f7d(0x487)]=_0x3302b0[_0x5d3f7d(0x487)][_0x5d3f7d(0x4cb)](_0x38684d=>_0x56b836(_0x38684d))),_0x3302b0[_0x5d3f7d(0x658)]&&(_0x3302b0[_0x5d3f7d(0x658)]=_0x56b836(_0x3302b0[_0x5d3f7d(0x658)])),_0x3302b0[_0x5d3f7d(0x11c)]&&(_0x3302b0[_0x5d3f7d(0x11c)]=_0x56b836(_0x3302b0['correctResponse'])),_0x3302b0[_0x5d3f7d(0x6cf)]&&(_0x3302b0[_0x5d3f7d(0x6cf)]=_0x3302b0['allResponses'][_0x5d3f7d(0x4cb)](_0x1bb7ad=>_0x56b836(_0x1bb7ad))),_0x3302b0[_0x5d3f7d(0xc37)]&&(_0x3302b0['idealAnswer']=_0x56b836(_0x3302b0[_0x5d3f7d(0xc37)]));}),_0x845bfc;}const simpleMathPrompt=_0x1b610a(0x635);async function handleGenerateFromLink(){const _0x2bce83=_0x1b610a,_0x203ae7=document[_0x2bce83(0x8a9)]('link-url-input'),_0x33c53b=document[_0x2bce83(0x8a9)](_0x2bce83(0x1c5)),_0x4246d6=_0x203ae7['value'][_0x2bce83(0x937)](),_0x4fc0ac=_0x33c53b[_0x2bce83(0x61e)][_0x2bce83(0x937)]();if(!_0x4246d6){showMessage(_0x2bce83(0xb0a));return;}const _0x537522=document[_0x2bce83(0x8a9)]('loader'),_0x2b602c=document['getElementById'](_0x2bce83(0x1f4)),_0x511a90=document[_0x2bce83(0x8a9)](_0x2bce83(0x505)),_0x39b0b8=document[_0x2bce83(0x8a9)](_0x2bce83(0xc41));document['getElementById'](_0x2bce83(0x694))[_0x2bce83(0xb12)][_0x2bce83(0x1e9)]('hidden'),_0x511a90[_0x2bce83(0x568)]='',_0x537522[_0x2bce83(0xb12)][_0x2bce83(0x1e9)](_0x2bce83(0x9cf)),_0x2b602c[_0x2bce83(0xab8)]=_0x2bce83(0x36c),_0x39b0b8[_0x2bce83(0x317)]=!![];try{const _0x87bb0d=_0x2bce83(0x668)+encodeURIComponent(_0x4246d6),_0x1521e3=await fetch(_0x87bb0d);if(!_0x1521e3['ok'])throw new Error(_0x2bce83(0xd1e)+_0x1521e3['status']+')');const _0xdd231d=await _0x1521e3[_0x2bce83(0x9f6)](),_0x504a80=extractTextFromHtml(_0xdd231d);if(!_0x504a80||_0x504a80[_0x2bce83(0x14c)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x4fc0ac,_0x504a80);}catch(_0x1bbdce){console[_0x2bce83(0xce3)](_0x2bce83(0xbc8),_0x1bbdce),showMessage(_0x2bce83(0x762)+_0x1bbdce['message']),_0x511a90[_0x2bce83(0x568)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x537522[_0x2bce83(0xb12)][_0x2bce83(0x786)]('hidden'),_0x39b0b8['disabled']=![];}}function extractTextFromHtml(_0x45ded4){const _0x184cf0=_0x1b610a,_0x48eaea=new DOMParser()['parseFromString'](_0x45ded4,_0x184cf0(0x820));return _0x48eaea[_0x184cf0(0x6b8)](_0x184cf0(0xa29))[_0x184cf0(0xacf)](_0x2912d8=>_0x2912d8[_0x184cf0(0x1e9)]()),_0x48eaea[_0x184cf0(0x257)]['textContent']||'';}document[_0x1b610a(0x8a9)](_0x1b610a(0xad5))['addEventListener'](_0x1b610a(0xcc3),()=>{const _0x17159b=_0x1b610a,_0x125191=document[_0x17159b(0x8a9)]('topic-input')[_0x17159b(0x61e)][_0x17159b(0x937)]();generateQuiz(_0x125191,null);}),document[_0x1b610a(0x8a9)](_0x1b610a(0x76d))[_0x1b610a(0xd68)](_0x1b610a(0xcc3),()=>{const _0x4b2115=_0x1b610a,_0x380b18=document[_0x4b2115(0x8a9)](_0x4b2115(0x1a0))['value'][_0x4b2115(0x937)]();if(!_0x380b18){showMessage(_0x4b2115(0x3c2));return;}const _0x33c727=document[_0x4b2115(0x8a9)](_0x4b2115(0x17a))[_0x4b2115(0x61e)][_0x4b2115(0x937)]();generateQuiz(_0x33c727,_0x380b18);});async function generateQuiz(_0x1c1f08,_0x2c3802,_0xf51a7e=null,_0x3a435f=null,_0x293381=![],_0x4f9d84=null,_0x25196d=null,_0xe72854=![]){const _0x3a6e90=_0x1b610a;let _0x55c02f={};if(_0x293381&&blueprintPageSettings)_0x55c02f=blueprintPageSettings;else{const _0x2343c5=document[_0x3a6e90(0x6b8)](_0x3a6e90(0xdee));_0x55c02f={'quizType':document['getElementById'](_0x3a6e90(0x356))[_0x3a6e90(0x61e)],'numQuestions':document[_0x3a6e90(0x8a9)](_0x3a6e90(0x7ab))[_0x3a6e90(0x61e)],'numChoices':document[_0x3a6e90(0x8a9)](_0x3a6e90(0x9f4))[_0x3a6e90(0x61e)],'includeImages':document['getElementById'](_0x3a6e90(0x169))[_0x3a6e90(0xaa0)],'isNormalTopic':document[_0x3a6e90(0x8a9)](_0x3a6e90(0x766))[_0x3a6e90(0xaa0)],'difficultyValue':document[_0x3a6e90(0x8a9)](_0x3a6e90(0x773))[_0x3a6e90(0x61e)],'complexityValue':document[_0x3a6e90(0x8a9)](_0x3a6e90(0x3af))['value'],'selectedTopicNames':Array['from'](_0x2343c5)[_0x3a6e90(0x4cb)](_0x165d06=>_0x165d06['value'])};}const _0x19abe4=_0x55c02f[_0x3a6e90(0x86f)]?'':'คณิตศาสตร์',_0x30dcf2=_0x55c02f[_0x3a6e90(0xdfd)]!=='auto'?_0x3a6e90(0x8b5)+_0x55c02f[_0x3a6e90(0xdfd)]+'\x22':'',_0x448546=_0x55c02f[_0x3a6e90(0x446)]!==_0x3a6e90(0xb34)?_0x3a6e90(0x647)+_0x55c02f['complexityValue']+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x4b236e='';_0x55c02f[_0x3a6e90(0x46c)]&&_0x55c02f[_0x3a6e90(0x46c)][_0x3a6e90(0x14c)]>0x0&&(_0x4b236e='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x55c02f[_0x3a6e90(0x46c)]['join'](',\x20')+'.');let _0x4b4347='';_0x3a435f&&(_0x4b4347='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x7699e7='',_0x1dfab5='',_0x38c9d6,_0x293475=_0x3a6e90(0x5f9)+_0x1c1f08+'\x22';if(!_0x1c1f08&&_0x2c3802)_0x293475='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x1c1f08&&!_0x2c3802&&(_0x293475='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x208308={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x3a6e90(0x6a7)}},'correctAnswerIndex':{'type':_0x3a6e90(0x832)},'explanation':{'type':_0x3a6e90(0x6a7)},'imageCode':{'type':_0x3a6e90(0x6a7)}},'required':[_0x3a6e90(0x460),_0x3a6e90(0x487),_0x3a6e90(0x26c),'explanation']},_0x399042={'type':_0x3a6e90(0x6da),'properties':{'questionText':{'type':_0x3a6e90(0x6a7)},'idealAnswer':{'type':_0x3a6e90(0x6a7)},'explanation':{'type':_0x3a6e90(0x6a7)},'imageCode':{'type':'STRING'}},'required':[_0x3a6e90(0x460),_0x3a6e90(0xc37),'explanation']},_0x19d099={'type':'OBJECT','properties':{'questionText':{'type':_0x3a6e90(0x6a7)},'questionType':{'type':_0x3a6e90(0x6a7),'enum':[_0x3a6e90(0x24a),_0x3a6e90(0x815)]},'options':{'type':_0x3a6e90(0x7b8),'items':{'type':_0x3a6e90(0x6a7)}},'correctAnswerIndex':{'type':_0x3a6e90(0x832)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3a6e90(0x6a7)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x3a6e90(0xa9f),'explanation']},_0x52a046={'type':_0x3a6e90(0x6da),'properties':{'questionText':{'type':_0x3a6e90(0x6a7)},'correctAnswer':{'type':_0x3a6e90(0x2c3)},'explanation':{'type':_0x3a6e90(0x6a7)},'imageCode':{'type':_0x3a6e90(0x6a7)}},'required':[_0x3a6e90(0x460),_0x3a6e90(0xad3),_0x3a6e90(0x658)]},_0x3320e2={'type':_0x3a6e90(0x6da),'properties':{'questionType':{'type':_0x3a6e90(0x6a7),'enum':[_0x3a6e90(0x3e6)]},'stem':{'type':_0x3a6e90(0x6a7)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x3a6e90(0x7b8),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3a6e90(0x6a7)}},'required':['questionType',_0x3a6e90(0xc35),_0x3a6e90(0x11c),_0x3a6e90(0x6cf),_0x3a6e90(0x658)]};let _0x2a9723;if(_0xf51a7e!==null){const _0x57664a=currentQuizData[_0x3a6e90(0x3c6)][_0xf51a7e][_0x3a6e90(0xa9f)],_0x3c0510=_0x55c02f[_0x3a6e90(0xc0e)]?_0x3a6e90(0x36e):'';_0x7699e7=_0x3a6e90(0xbe1)+_0x293475+'\x20'+_0x4b236e+'\x20'+_0x30dcf2+_0x3a6e90(0xcb7)+_0x3c0510+'\x20'+simpleMathPrompt;if(_0x57664a===_0x3a6e90(0x24a))_0x38c9d6=_0x208308;else{if(_0x57664a==='matching_item')_0x38c9d6={'type':_0x3a6e90(0x6da),'properties':{'questionType':{'type':_0x3a6e90(0x6a7),'enum':[_0x3a6e90(0x3e6)]},'stem':{'type':_0x3a6e90(0x6a7)},'correctResponse':{'type':_0x3a6e90(0x6a7)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x3a6e90(0xa9f),_0x3a6e90(0xc35),_0x3a6e90(0x11c),_0x3a6e90(0x658)]};else _0x38c9d6=_0x399042;}_0x2a9723=_0x38c9d6;}else{const _0x2d5a53=_0x55c02f[_0x3a6e90(0xc0e)]?_0x3a6e90(0xbf0):'';switch(_0x55c02f[_0x3a6e90(0xcb6)]){case _0x3a6e90(0x24a):const _0xb9a519=_0x3a6e90(0x2a3);_0x7699e7='สร้างแบบทดสอบปรนัย'+_0x19abe4+'\x20'+_0x55c02f[_0x3a6e90(0xe62)]+_0x3a6e90(0x277)+_0x293475+'\x20'+_0x4b236e+'\x20'+_0x30dcf2+'\x20'+_0x448546+'\x20'+_0x4b4347+_0x3a6e90(0x6ce)+_0x55c02f['numChoices']+_0x3a6e90(0x4b8)+_0xb9a519+_0x3a6e90(0x118)+_0x2d5a53+'\x20'+simpleMathPrompt,_0x38c9d6=_0x208308;break;case _0x3a6e90(0x270):_0x7699e7='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x19abe4+'\x20'+_0x55c02f[_0x3a6e90(0xe62)]+'\x20ข้อ\x20'+_0x293475+'\x20'+_0x4b236e+'\x20'+_0x30dcf2+'\x20'+_0x448546+'\x20'+_0x4b4347+_0x3a6e90(0x887)+_0x55c02f[_0x3a6e90(0x467)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2d5a53+'\x20'+simpleMathPrompt,_0x38c9d6=_0x208308;break;case _0x3a6e90(0x312):_0x7699e7='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x19abe4+'\x20'+_0x55c02f[_0x3a6e90(0xe62)]+_0x3a6e90(0x277)+_0x293475+'\x20'+_0x4b236e+'\x20'+_0x30dcf2+'\x20'+_0x448546+'\x20'+_0x4b4347+_0x3a6e90(0x81f)+_0x2d5a53+'\x20'+simpleMathPrompt,_0x38c9d6=_0x399042;break;case _0x3a6e90(0xb34):_0x7699e7=_0x3a6e90(0xd0d)+_0x19abe4+'\x20'+_0x55c02f['numQuestions']+'\x20ข้อ\x20'+_0x293475+'\x20'+_0x4b236e+'\x20'+_0x30dcf2+'\x20'+_0x448546+'\x20'+_0x4b4347+_0x3a6e90(0x2e5)+_0x55c02f['numChoices']+_0x3a6e90(0x852)+_0x2d5a53+'\x20'+simpleMathPrompt+'.',_0x38c9d6=_0x19d099;break;case'true_false':_0x7699e7=_0x3a6e90(0xdcf)+_0x19abe4+'\x20'+_0x55c02f['numQuestions']+_0x3a6e90(0x277)+_0x293475+'\x20'+_0x4b236e+'\x20'+_0x30dcf2+'\x20'+_0x448546+'\x20'+_0x4b4347+_0x3a6e90(0x18e)+_0x2d5a53+'\x20'+simpleMathPrompt,_0x38c9d6=_0x52a046;break;case _0x3a6e90(0x752):_0x7699e7=_0x3a6e90(0xbd5)+_0x19abe4+'\x20'+_0x55c02f[_0x3a6e90(0xe62)]+_0x3a6e90(0x73f)+_0x293475+'\x20'+_0x4b236e+'\x20'+_0x30dcf2+'\x20'+_0x448546+'\x20'+_0x4b4347+_0x3a6e90(0x941)+_0x2d5a53+'\x20'+simpleMathPrompt,_0x38c9d6=_0x3320e2;break;}_0x2a9723={'type':_0x3a6e90(0x6da),'properties':{'topic':{'type':_0x3a6e90(0x6a7)},'questions':{'type':_0x3a6e90(0x7b8),'items':_0x38c9d6}},'required':[_0x3a6e90(0x5cc),_0x3a6e90(0x3c6)]};}const _0x53ef47=_0x3a6e90(0x8af);_0x2c3802?(_0xe72854?_0x7699e7=_0x3a6e90(0x774)+_0x2c3802+'\x22,\x20'+_0x7699e7+_0x53ef47:_0x7699e7=_0x3a6e90(0x774)+_0x2c3802+_0x3a6e90(0xb25)+_0x7699e7,_0x1dfab5=_0x3a6e90(0x710)):(_0xe72854&&(_0x7699e7+=_0x53ef47),_0x1dfab5=_0x3a6e90(0xc5e));let _0x243657;return _0x3a435f?(_0x243657=[{'text':_0x7699e7},..._0x3a435f],_0x1dfab5=_0x3a6e90(0x6c5)):_0x243657=_0x7699e7,handleApiCall(_0x243657,_0x1dfab5,_0x2a9723,_0xf51a7e,!![],_0x4f9d84,_0x25196d);}async function generateQuizFromFile(_0x51b640,_0xbc6667){const _0x3a3608=_0x1b610a,_0x5595c0=document[_0x3a3608(0x8a9)](_0x3a3608(0xc40))[_0x3a3608(0x61e)][_0x3a3608(0x937)](),_0x3e9b5f=document[_0x3a3608(0x8a9)](_0x3a3608(0x356))['value'],_0x1f730e=document[_0x3a3608(0x8a9)]('num-questions')['value'],_0x50ca4c=document[_0x3a3608(0x8a9)](_0x3a3608(0x9f4))[_0x3a3608(0x61e)],_0x2bbbe0=document[_0x3a3608(0x8a9)](_0x3a3608(0x169))[_0x3a3608(0xaa0)],_0xbc074e=document['getElementById'](_0x3a3608(0x766))['checked'],_0x17ff83=_0xbc074e?'':'คณิตศาสตร์',_0x2cd895=document[_0x3a3608(0x8a9)](_0x3a3608(0x9ce))[_0x3a3608(0xaa0)];let _0x14e01a='',_0x5027d8;const _0x43df8=_0x2bbbe0?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x2cd895)_0x14e01a=_0x3a3608(0x810)+_0x43df8+'\x0a'+simpleMathPrompt+'\x0a',_0x5027d8={'type':_0x3a3608(0x6da),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x3a3608(0x24a),_0x3a3608(0x815),_0x3a3608(0x8fb),_0x3a3608(0x3e6)]},'options':{'type':'ARRAY','items':{'type':_0x3a3608(0x6a7)}},'correctAnswerIndex':{'type':_0x3a3608(0x832)},'idealAnswer':{'type':_0x3a3608(0x6a7)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x3a3608(0x6a7)},'correctResponse':{'type':_0x3a3608(0x6a7)},'allResponses':{'type':_0x3a3608(0x7b8),'items':{'type':_0x3a3608(0x6a7)}},'explanation':{'type':_0x3a3608(0x6a7)},'imageCode':{'type':_0x3a3608(0x6a7)}},'required':[_0x3a3608(0xa9f),_0x3a3608(0x658)]};else{let _0x40c003=_0x3a3608(0x5f9)+_0x5595c0+'\x22';!_0x5595c0&&(_0x40c003=_0x3a3608(0x9b3));switch(_0x3e9b5f){case _0x3a3608(0x24a):const _0x434bc8=_0x3a3608(0x3a0);_0x14e01a='สร้างแบบทดสอบปรนัย'+_0x17ff83+'\x20'+_0x1f730e+'\x20ข้อ\x20'+_0x40c003+'.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20'+_0x50ca4c+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20'+_0x434bc8+_0x3a3608(0x49d)+_0x43df8+'\x20'+simpleMathPrompt,_0x5027d8={'type':'OBJECT','properties':{'questionText':{'type':_0x3a3608(0x6a7)},'options':{'type':_0x3a3608(0x7b8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3a3608(0x6a7)},'imageCode':{'type':'STRING'}},'required':['questionText','options','correctAnswerIndex',_0x3a3608(0x658)]};break;case'fill_in_with_choices':_0x14e01a='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x17ff83+'\x20'+_0x1f730e+_0x3a3608(0x277)+_0x40c003+_0x3a3608(0x887)+_0x50ca4c+_0x3a3608(0xe36)+_0x43df8+'\x20'+simpleMathPrompt,_0x5027d8={'type':'OBJECT','properties':{'questionText':{'type':_0x3a3608(0x6a7)},'options':{'type':'ARRAY','items':{'type':_0x3a3608(0x6a7)}},'correctAnswerIndex':{'type':_0x3a3608(0x832)},'explanation':{'type':_0x3a3608(0x6a7)},'imageCode':{'type':_0x3a3608(0x6a7)}},'required':['questionText',_0x3a3608(0x487),'correctAnswerIndex',_0x3a3608(0x658)]};break;case'fill_in_no_choices':_0x14e01a=_0x3a3608(0xbb6)+_0x17ff83+'\x20'+_0x1f730e+_0x3a3608(0x277)+_0x40c003+_0x3a3608(0x702)+_0x43df8+'\x20'+simpleMathPrompt,_0x5027d8={'type':_0x3a3608(0x6da),'properties':{'questionText':{'type':_0x3a3608(0x6a7)},'idealAnswer':{'type':_0x3a3608(0x6a7)},'explanation':{'type':_0x3a3608(0x6a7)},'imageCode':{'type':_0x3a3608(0x6a7)}},'required':[_0x3a3608(0x460),'idealAnswer',_0x3a3608(0x658)]};break;case _0x3a3608(0xb34):_0x14e01a=_0x3a3608(0xd0d)+_0x17ff83+'\x20'+_0x1f730e+_0x3a3608(0x277)+_0x40c003+_0x3a3608(0x5fe)+_0x50ca4c+_0x3a3608(0xe79)+_0x43df8+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x5027d8={'type':_0x3a3608(0x6da),'properties':{'questionText':{'type':_0x3a3608(0x6a7)},'questionType':{'type':'STRING','enum':[_0x3a3608(0x24a),_0x3a3608(0x815)]},'options':{'type':_0x3a3608(0x7b8),'items':{'type':_0x3a3608(0x6a7)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3a3608(0x6a7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3a3608(0x6a7)}},'required':[_0x3a3608(0x460),_0x3a3608(0xa9f),_0x3a3608(0x658)]};break;case'true_false':_0x14e01a=_0x3a3608(0xdcf)+_0x17ff83+'\x20'+_0x1f730e+'\x20ข้อ\x20'+_0x40c003+_0x3a3608(0x799)+_0x43df8+'\x20'+simpleMathPrompt,_0x5027d8={'type':_0x3a3608(0x6da),'properties':{'questionText':{'type':_0x3a3608(0x6a7)},'correctAnswer':{'type':_0x3a3608(0x2c3)},'explanation':{'type':_0x3a3608(0x6a7)},'imageCode':{'type':_0x3a3608(0x6a7)}},'required':[_0x3a3608(0x460),_0x3a3608(0xad3),_0x3a3608(0x658)]};break;case _0x3a3608(0x752):_0x14e01a=_0x3a3608(0xbd5)+_0x17ff83+'\x20'+_0x1f730e+_0x3a3608(0x73f)+_0x40c003+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x1f730e+_0x3a3608(0x74d)+_0x43df8+'\x20'+simpleMathPrompt,_0x5027d8={'type':_0x3a3608(0x6da),'properties':{'questionType':{'type':_0x3a3608(0x6a7),'enum':['matching_item']},'stem':{'type':_0x3a3608(0x6a7)},'correctResponse':{'type':_0x3a3608(0x6a7)},'allResponses':{'type':_0x3a3608(0x7b8),'items':{'type':_0x3a3608(0x6a7)}},'explanation':{'type':_0x3a3608(0x6a7)},'imageCode':{'type':_0x3a3608(0x6a7)}},'required':['questionType',_0x3a3608(0xc35),_0x3a3608(0x11c),_0x3a3608(0x6cf),'explanation']};break;}}const _0x1bfeba={'type':_0x3a3608(0x6da),'properties':{'topic':{'type':_0x3a3608(0x6a7)},'questions':{'type':'ARRAY','items':_0x5027d8}},'required':[_0x3a3608(0x5cc),_0x3a3608(0x3c6)]},_0x181bf6=_0x3a3608(0x6dd)+_0x14e01a,_0x269ca2={'contents':[{'parts':[{'text':_0x181bf6},{'inlineData':{'mimeType':_0x51b640,'data':_0xbc6667}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1bfeba}};return handleApiCall(_0x269ca2[_0x3a3608(0x7f4)][0x0][_0x3a3608(0x946)],_0x3a3608(0xda4),_0x1bfeba);}async function handleApiCall(_0x27da13,_0x5be7a9,_0x288774,_0x238cd5=null,_0x202d68=!![],_0x4c8e60=null,_0x4ce973=null){const _0x3a0b36=_0x1b610a,_0x173dd0=document[_0x3a0b36(0x8a9)](_0x3a0b36(0x694)),_0x5a6c83=document['getElementById'](_0x3a0b36(0x60a)),_0x478400=document[_0x3a0b36(0x8a9)](_0x3a0b36(0x1f4)),_0xfc97b2=document[_0x3a0b36(0x8a9)]('generated-quiz-container');_0x173dd0[_0x3a0b36(0xb12)][_0x3a0b36(0x1e9)](_0x3a0b36(0x9cf));_0x238cd5===null&&_0x202d68&&(_0xfc97b2['innerHTML']='');_0x5a6c83[_0x3a0b36(0xb12)][_0x3a0b36(0x1e9)](_0x3a0b36(0x9cf)),_0x478400[_0x3a0b36(0xab8)]=_0x5be7a9,document[_0x3a0b36(0x8a9)]('generate-from-topic-btn')[_0x3a0b36(0x317)]=!![],document[_0x3a0b36(0x8a9)](_0x3a0b36(0x76d))['disabled']=!![],document[_0x3a0b36(0x8a9)](_0x3a0b36(0xc41))[_0x3a0b36(0x317)]=!![];const _0x2ade86=document['getElementById'](_0x3a0b36(0x88b));if(_0x2ade86)_0x2ade86[_0x3a0b36(0x317)]=!![];const _0x263e00=document[_0x3a0b36(0x8a9)](_0x3a0b36(0x451));if(_0x263e00)_0x263e00[_0x3a0b36(0x317)]=!![];const _0x9c0d40=document[_0x3a0b36(0x8a9)]('generate-from-parallel-test-btn');if(_0x9c0d40)_0x9c0d40[_0x3a0b36(0x317)]=!![];try{const _0x11c826=Array[_0x3a0b36(0x47a)](_0x27da13)?_0x27da13:[{'text':_0x27da13}],_0x2dbd6b={'contents':[{'role':_0x3a0b36(0xd0e),'parts':_0x11c826}]};_0x288774&&(_0x2dbd6b[_0x3a0b36(0xc28)]={'responseMimeType':'application/json','responseSchema':_0x288774});const _0x5ae3e5=_0x3a0b36(0x53d),_0x24b8d4=_0x3a0b36(0x712)+_0x5ae3e5,_0x23c196=await fetch(_0x24b8d4,{'method':_0x3a0b36(0x8d3),'headers':{'Content-Type':_0x3a0b36(0x36a)},'body':JSON[_0x3a0b36(0xb0c)](_0x2dbd6b)});if(!_0x23c196['ok']){const _0x14cd41=await _0x23c196[_0x3a0b36(0x9f6)]();console[_0x3a0b36(0xce3)](_0x3a0b36(0x549),_0x14cd41);throw new Error(_0x3a0b36(0x53b)+_0x23c196[_0x3a0b36(0x9fb)]);}const _0x58853f=await _0x23c196['json']();if(!_0x58853f[_0x3a0b36(0xe58)]||_0x58853f[_0x3a0b36(0xe58)]['length']===0x0){let _0xc77583=_0x3a0b36(0x468);return _0x58853f[_0x3a0b36(0xcb4)]?.[_0x3a0b36(0xb62)]&&(_0xc77583=_0x3a0b36(0x71f)+_0x58853f[_0x3a0b36(0xcb4)][_0x3a0b36(0xb62)]+'.'),console[_0x3a0b36(0xce3)](_0xc77583,JSON[_0x3a0b36(0xb0c)](_0x58853f)),null;}const _0x3274b6=_0x58853f[_0x3a0b36(0xe58)][0x0][_0x3a0b36(0x5a3)]['parts'][0x0][_0x3a0b36(0x9f6)];if(_0x288774){let _0x3b22c8=_0x3274b6;if(_0x3b22c8['startsWith'](_0x3a0b36(0xa5c)))_0x3b22c8=_0x3b22c8[_0x3a0b36(0x51e)](0x7,_0x3b22c8[_0x3a0b36(0x14c)]-0x3)['trim']();else _0x3b22c8[_0x3a0b36(0x685)](_0x3a0b36(0xd9a))&&(_0x3b22c8=_0x3b22c8[_0x3a0b36(0x51e)](0x3,_0x3b22c8[_0x3a0b36(0x14c)]-0x3)[_0x3a0b36(0x937)]());let _0x19ed7f=JSON[_0x3a0b36(0xbc4)](_0x3b22c8);if(_0x19ed7f['questions']&&Array[_0x3a0b36(0x47a)](_0x19ed7f[_0x3a0b36(0x3c6)])){const _0x1c660f=_0x19ed7f['questions'][_0x3a0b36(0x58f)](_0x22df3e=>_0x22df3e[_0x3a0b36(0xa9f)]==='matching_item');if(_0x1c660f[_0x3a0b36(0x14c)]>0x1){const _0x563a32=_0x1c660f['map'](_0x4c7ac1=>_0x4c7ac1[_0x3a0b36(0x11c)])[_0x3a0b36(0x58f)](_0x405897=>_0x405897&&_0x405897[_0x3a0b36(0x937)]()!=='');shuffleArray(_0x563a32),_0x1c660f['forEach'](_0x2b44dc=>{_0x2b44dc['allResponses']=[..._0x563a32];}),console[_0x3a0b36(0xd62)](_0x3a0b36(0xc3b),_0x563a32);}}if(_0x202d68){if(_0x238cd5!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x3a0b36(0x3c6)]){}}else currentQuizData=_0x19ed7f,displayGeneratedQuiz(currentQuizData,_0x4c8e60,_0x4ce973);}return _0x19ed7f;}else return _0x3274b6;}catch(_0xd2f555){console[_0x3a0b36(0xce3)](_0x3a0b36(0x86c),_0xd2f555),showMessage(_0x3a0b36(0xa1a)+_0xd2f555[_0x3a0b36(0xba0)]);_0x202d68&&(_0xfc97b2['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0xd2f555;}finally{_0x5a6c83[_0x3a0b36(0xb12)][_0x3a0b36(0x786)](_0x3a0b36(0x9cf)),document[_0x3a0b36(0x8a9)](_0x3a0b36(0xad5))[_0x3a0b36(0x317)]=![],document[_0x3a0b36(0x8a9)](_0x3a0b36(0x76d))[_0x3a0b36(0x317)]=![],document['getElementById'](_0x3a0b36(0xc41))[_0x3a0b36(0x317)]=![];if(_0x2ade86)_0x2ade86[_0x3a0b36(0x317)]=![];if(_0x263e00)_0x263e00[_0x3a0b36(0x317)]=![];if(_0x9c0d40)_0x9c0d40[_0x3a0b36(0x317)]=![];}}function exitFullscreen(){const _0x2eb00c=_0x1b610a;if(document[_0x2eb00c(0xd7b)])document[_0x2eb00c(0xd7b)]()[_0x2eb00c(0x659)](_0x20efe7=>console[_0x2eb00c(0xce3)](_0x20efe7));else{if(document[_0x2eb00c(0x350)])document[_0x2eb00c(0x350)]();else document[_0x2eb00c(0xa08)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x5d88aa=_0x1b610a,_0x3ba5f0=document[_0x5d88aa(0x6f9)];if(_0x3ba5f0[_0x5d88aa(0x8e6)])_0x3ba5f0[_0x5d88aa(0x8e6)]()['catch'](_0x109d56=>{const _0x238b37=_0x5d88aa;console[_0x238b37(0xce3)](_0x238b37(0x367)+_0x109d56[_0x238b37(0xba0)]+'\x20('+_0x109d56['name']+')');});else{if(_0x3ba5f0['webkitRequestFullscreen'])_0x3ba5f0[_0x5d88aa(0x4f9)]();else _0x3ba5f0[_0x5d88aa(0x4b7)]&&_0x3ba5f0[_0x5d88aa(0x4b7)]();}}function handleCheatingEvent(){const _0x165478=_0x1b610a;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x165478(0xd3c),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x165478(0xaeb)+maxCheatAttempts+_0x165478(0x4c8)),document[_0x165478(0x8a9)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x165478(0xd06)](_0x165478(0xe26),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage(_0x165478(0x80f)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x541dd4=_0x1b610a;if(currentMode===_0x541dd4(0x65f)||!isQuizActive)return;if(document['visibilityState']===_0x541dd4(0x9cf))handleCheatingEvent();else document[_0x541dd4(0xbba)]===_0x541dd4(0x2b9)&&(console[_0x541dd4(0xd62)](_0x541dd4(0x765)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x50326f=_0x1b610a;if(currentMode===_0x50326f(0x65f)||!isQuizActive)return;!document[_0x50326f(0x7f6)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x30e561,_0x159178=null,_0xcb7aeb=null){const _0x5a8613=_0x1b610a,_0x373b20=document[_0x5a8613(0x8a9)]('generated-quiz-container');let _0x1d4c08=_0x5a8613(0x2dd)+_0x30e561[_0x5a8613(0x5cc)]+_0x5a8613(0x81c);_0x30e561['questions'][_0x5a8613(0xacf)]((_0x782a8a,_0x4caee0)=>{const _0x5cc421=_0x5a8613;!_0x782a8a['id']&&(_0x782a8a['id']='q_'+Date[_0x5cc421(0x82a)]()+'_'+_0x4caee0);const _0x2d80ab=_0x782a8a[_0x5cc421(0xa9f)]||_0x30e561[_0x5cc421(0xcb6)];_0x1d4c08+=_0x5cc421(0xa50)+_0x4caee0+_0x5cc421(0x9c9)+_0x4caee0+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4caee0+_0x5cc421(0x542);_0x2d80ab===_0x5cc421(0x3e6)?_0x1d4c08+=_0x5cc421(0xe68)+_0x4caee0+'\x22>'+(_0x4caee0+0x1)+'.\x20'+_0x782a8a[_0x5cc421(0xc35)]+_0x5cc421(0x602):_0x1d4c08+=_0x5cc421(0xe68)+_0x4caee0+'\x22>'+(_0x4caee0+0x1)+'.\x20'+_0x782a8a['questionText']+'</p>';_0x782a8a[_0x5cc421(0x538)]&&(_0x1d4c08+=_0x5cc421(0x4d4)+_0x4caee0+_0x5cc421(0x620)+_0x782a8a[_0x5cc421(0x538)]+_0x5cc421(0x96b));if(_0x782a8a['options']&&Array[_0x5cc421(0x47a)](_0x782a8a[_0x5cc421(0x487)])&&_0x782a8a[_0x5cc421(0x487)][_0x5cc421(0x14c)]>0x0)_0x1d4c08+=_0x5cc421(0x8e2)+_0x4caee0+_0x5cc421(0x994)+_0x782a8a[_0x5cc421(0x487)][_0x5cc421(0x4cb)]((_0x5b04d7,_0x328c6a)=>_0x5cc421(0x129)+(_0x328c6a===_0x782a8a[_0x5cc421(0x26c)]?_0x5cc421(0x285):'')+'\x22>'+_0x5b04d7+_0x5cc421(0x376))[_0x5cc421(0x656)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>';else{if(_0x2d80ab===_0x5cc421(0x3e6)||_0x782a8a[_0x5cc421(0x11c)])_0x1d4c08+=_0x5cc421(0x6ea)+_0x4caee0+'\x22>'+_0x782a8a['correctResponse']+_0x5cc421(0x7ad);else{if(_0x2d80ab===_0x5cc421(0x8fb)||typeof _0x782a8a[_0x5cc421(0xad3)]==='boolean')_0x1d4c08+=_0x5cc421(0xb74)+(_0x782a8a[_0x5cc421(0xad3)]===!![]?_0x5cc421(0x285):'')+_0x5cc421(0x1ff)+(_0x782a8a[_0x5cc421(0xad3)]===![]?_0x5cc421(0x285):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x782a8a['idealAnswer']?_0x1d4c08+=_0x5cc421(0xc74)+_0x4caee0+'\x22>'+_0x782a8a[_0x5cc421(0xc37)]+_0x5cc421(0x7ad):_0x1d4c08+=_0x5cc421(0x37b);}}_0x1d4c08+=_0x5cc421(0x8fc)+_0x4caee0+'\x22>'+_0x782a8a['explanation']+_0x5cc421(0x7ad),_0x1d4c08+=_0x5cc421(0x96b);}),_0x1d4c08+=_0x5a8613(0x60c),_0x373b20[_0x5a8613(0x568)]=_0x1d4c08,document[_0x5a8613(0x6b8)](_0x5a8613(0x997))[_0x5a8613(0xacf)](_0x36f2a8=>_0x36f2a8['addEventListener'](_0x5a8613(0xcc3),handleEditQuestion)),document['querySelectorAll'](_0x5a8613(0x7e7))['forEach'](_0x155c30=>_0x155c30[_0x5a8613(0xd68)](_0x5a8613(0xcc3),handleRegenerateQuestion)),document[_0x5a8613(0x8a9)](_0x5a8613(0xb5d))['addEventListener'](_0x5a8613(0xcc3),exportQuizAsWorksheetPDF),document['getElementById'](_0x5a8613(0x7aa))['addEventListener'](_0x5a8613(0xcc3),handleVerifyAnswers);const _0x36d042=document[_0x5a8613(0x8a9)]('save-quiz-btn');if(_0x36d042){const _0x2fe0cc=_0x159178||currentProjectId;_0x36d042[_0x5a8613(0xd68)](_0x5a8613(0xcc3),()=>saveQuiz(_0x2fe0cc,_0xcb7aeb));}if(window[_0x5a8613(0xb1b)])window['MathJax'][_0x5a8613(0x4a5)]([_0x373b20]);}function handleRegenerateQuestion(_0x2f8502){const _0x4163ca=_0x1b610a,_0x5859e3=_0x2f8502['currentTarget'][_0x4163ca(0xd34)]['index'],_0x5731d2=currentQuizData[_0x4163ca(0x5cc)];showMessage(_0x4163ca(0x4f5)+(parseInt(_0x5859e3)+0x1)+'\x20ใหม่...'),generateQuiz(_0x5731d2,null,parseInt(_0x5859e3));}function getPointerPosition(_0x560fd7,_0x2820c8){const _0x3f36e4=_0x1b610a,_0x235cf2=_0x560fd7[_0x3f36e4(0x3c7)]();let _0x391610,_0x32f2b4;return _0x2820c8[_0x3f36e4(0x579)]&&_0x2820c8['touches'][_0x3f36e4(0x14c)]>0x0?(_0x391610=_0x2820c8[_0x3f36e4(0x579)][0x0][_0x3f36e4(0xa07)],_0x32f2b4=_0x2820c8[_0x3f36e4(0x579)][0x0]['clientY']):(_0x391610=_0x2820c8['clientX'],_0x32f2b4=_0x2820c8[_0x3f36e4(0x33c)]),{'x':(_0x391610-_0x235cf2['e'])/_0x235cf2['a'],'y':(_0x32f2b4-_0x235cf2['f'])/_0x235cf2['d']};}function startDrag(_0x5cd809){const _0x5a970e=_0x1b610a;_0x5cd809[_0x5a970e(0xb19)]==='touchstart'&&_0x5cd809[_0x5a970e(0x219)]();const _0x59c5fe=_0x5cd809[_0x5a970e(0x61a)][_0x5a970e(0x156)](_0x5a970e(0x8d2));if(_0x59c5fe){draggedSvgElement=_0x59c5fe;const _0x4dd2f1=draggedSvgElement['ownerSVGElement'],_0x4cf530=getPointerPosition(_0x4dd2f1,_0x5cd809);svgOffset['x']=_0x4cf530['x']-parseFloat(draggedSvgElement[_0x5a970e(0x7cd)](null,'x')),svgOffset['y']=_0x4cf530['y']-parseFloat(draggedSvgElement[_0x5a970e(0x7cd)](null,'y'));}}function calculateItemAnalysis(_0x29abf7,_0xec9d3f){const _0x49fe0b=_0x1b610a,_0x889bc3={};if(_0xec9d3f[_0x49fe0b(0x14c)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1c802e=[..._0xec9d3f][_0x49fe0b(0x528)]((_0x43289a,_0x4b9276)=>{const _0x4ba6a8=_0x49fe0b,_0x162d64=_0x4b9276[_0x4ba6a8(0xcbd)]-_0x43289a['latestScore'];if(_0x162d64!==0x0)return _0x162d64;const _0x4dbed3=_0x43289a['attempts']?.[_0x4ba6a8(0x14c)]||0x1,_0x6ed051=_0x4b9276['attempts']?.[_0x4ba6a8(0x14c)]||0x1,_0x5b97aa=_0x4dbed3-_0x6ed051;if(_0x5b97aa!==0x0)return _0x5b97aa;const _0x26f66d=new Date(_0x43289a['latestSubmittedAt']),_0x1185ed=new Date(_0x4b9276[_0x4ba6a8(0x588)]),_0x13dabe=_0x26f66d-_0x1185ed;if(_0x13dabe!==0x0)return _0x13dabe;return _0x43289a[_0x4ba6a8(0x311)][_0x4ba6a8(0x22f)](_0x4b9276[_0x4ba6a8(0x311)],'th');}),_0x445eda=_0x1c802e[_0x49fe0b(0x14c)],_0x59f778=Math['max'](0x1,Math[_0x49fe0b(0x85e)](_0x445eda*0.33));if(_0x59f778===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4a8080=_0x1c802e['slice'](0x0,_0x59f778),_0x2b3b82=_0x1c802e['slice'](-_0x59f778),_0x2d9ecd=_0x4a8080[_0x49fe0b(0x4cb)](_0x1f3ad6=>_0x1f3ad6['studentName']),_0x5c5b2c=_0x2b3b82[_0x49fe0b(0x4cb)](_0x25a338=>_0x25a338[_0x49fe0b(0x311)]);return _0x29abf7[_0x49fe0b(0x3c6)][_0x49fe0b(0xacf)]((_0x4776dc,_0x1c6adb)=>{const _0x3f372e=_0x49fe0b,_0x3c058e=_0x4776dc['stem']||_0x4776dc[_0x3f372e(0x460)];let _0x43465e=0x0,_0x194371=0x0,_0xf094bf=0x0;const _0x38624a=[],_0xf50b26=[];_0x4a8080['forEach'](_0x3fab20=>{const _0x458bfe=_0x3f372e,_0x400a37=_0x3fab20[_0x458bfe(0x289)][_0x3fab20[_0x458bfe(0x289)]['length']-0x1],_0x34fe70=_0x400a37[_0x458bfe(0x772)][_0x458bfe(0x6bf)](_0x103fa1=>_0x103fa1[_0x458bfe(0x61b)]===_0x3c058e);_0x38624a[_0x458bfe(0x6fd)]({'name':_0x3fab20[_0x458bfe(0x311)],'isCorrect':_0x34fe70?_0x34fe70[_0x458bfe(0xe63)]:![]}),_0x34fe70&&_0x34fe70[_0x458bfe(0xe63)]&&_0x194371++;}),_0x2b3b82['forEach'](_0x406ebc=>{const _0x15b299=_0x3f372e,_0x5540b7=_0x406ebc[_0x15b299(0x289)][_0x406ebc[_0x15b299(0x289)][_0x15b299(0x14c)]-0x1],_0x3dfe55=_0x5540b7[_0x15b299(0x772)][_0x15b299(0x6bf)](_0x5b090c=>_0x5b090c[_0x15b299(0x61b)]===_0x3c058e);_0xf50b26[_0x15b299(0x6fd)]({'name':_0x406ebc[_0x15b299(0x311)],'isCorrect':_0x3dfe55?_0x3dfe55[_0x15b299(0xe63)]:![]}),_0x3dfe55&&_0x3dfe55['isCorrect']&&_0xf094bf++;}),_0xec9d3f['forEach'](_0x24c1a3=>{const _0x445ccc=_0x3f372e,_0x27db81=_0x24c1a3[_0x445ccc(0x289)][_0x24c1a3[_0x445ccc(0x289)][_0x445ccc(0x14c)]-0x1],_0x47dcf1=_0x27db81[_0x445ccc(0x772)][_0x445ccc(0x6bf)](_0x5aefa8=>_0x5aefa8['originalQuestionText']===_0x3c058e);_0x47dcf1&&_0x47dcf1['isCorrect']&&_0x43465e++;});const _0x3ec5f0=_0x445eda>0x0?_0x43465e/_0x445eda:0x0,_0x3bf0e8=_0x59f778>0x0?_0x194371/_0x59f778-_0xf094bf/_0x59f778:0x0;_0x889bc3[_0x1c6adb]={'p':_0x3ec5f0,'r':_0x3bf0e8,'upperGroupResponders':_0x38624a,'lowerGroupResponders':_0xf50b26};}),{'perQuestionStats':_0x889bc3,'overallGroups':{'upperGroupNames':_0x2d9ecd,'lowerGroupNames':_0x5c5b2c}};}function drag(_0x2d1c53){const _0x51f81a=_0x1b610a;if(draggedSvgElement){_0x2d1c53[_0x51f81a(0x219)]();const _0x194f9f=draggedSvgElement[_0x51f81a(0x227)],_0x2d5f61=getPointerPosition(_0x194f9f,_0x2d1c53),_0x32571d=_0x194f9f[_0x51f81a(0x221)][_0x51f81a(0xcd3)];let _0xb81a01=_0x2d5f61['x']-svgOffset['x'],_0x2d1847=_0x2d5f61['y']-svgOffset['y'];const _0x1e097a=draggedSvgElement[_0x51f81a(0xa3e)]();_0xb81a01=Math[_0x51f81a(0xb5e)](_0x32571d['x'],Math[_0x51f81a(0x3b3)](_0xb81a01,_0x32571d['x']+_0x32571d['width']-_0x1e097a[_0x51f81a(0x29a)])),_0x2d1847=Math[_0x51f81a(0xb5e)](_0x32571d['y'],Math['min'](_0x2d1847,_0x32571d['y']+_0x32571d[_0x51f81a(0xb7f)]-_0x1e097a['height'])),draggedSvgElement[_0x51f81a(0x191)](null,'x',_0xb81a01),draggedSvgElement[_0x51f81a(0x191)](null,'y',_0x2d1847);}}function endDrag(_0x434e35){draggedSvgElement=null;}function handleSvgEditClick(_0xd2796f){const _0x1a05d0=_0x1b610a;if(_0xd2796f[_0x1a05d0(0x61a)]['classList'][_0x1a05d0(0x48e)](_0x1a05d0(0x3bf))){const _0x47c2a0=_0xd2796f[_0x1a05d0(0x61a)][_0x1a05d0(0xd34)]['targetId'],_0x226db7=_0xd2796f[_0x1a05d0(0x6b6)],_0x93a0ec=_0x226db7['querySelector']('#'+_0x47c2a0);_0x93a0ec&&_0x93a0ec[_0x1a05d0(0x1e9)](),_0xd2796f[_0x1a05d0(0x61a)][_0x1a05d0(0x1e9)]();}}function handleEditQuestion(_0x1101d8){const _0x174356=_0x1b610a,_0x1834bb=_0x1101d8[_0x174356(0x6b6)],_0x10f4ca=_0x1834bb[_0x174356(0xd34)][_0x174356(0x26b)],_0x53f5b4=currentQuizData['questions'][_0x10f4ca],_0x5b8b09=document[_0x174356(0x8a9)]('q-text-'+_0x10f4ca),_0x1c181a=document['getElementById'](_0x174356(0x3c1)+_0x10f4ca),_0x5702b7=document[_0x174356(0x8a9)](_0x174356(0x7ae)+_0x10f4ca);if(_0x1834bb[_0x174356(0x568)]['includes']('fa-pen')){_0x1834bb[_0x174356(0x568)]=_0x174356(0x17d),_0x1834bb[_0x174356(0xdf2)]=_0x174356(0x6a2);if(_0x5b8b09)_0x5b8b09['contentEditable']=!![];if(_0x1c181a)_0x1c181a[_0x174356(0xe73)]=!![];if(_0x5702b7){const _0x339f69=_0x5702b7[_0x174356(0x2b0)](_0x174356(0x6fe));if(_0x339f69){const _0x4f5373=_0x339f69['querySelectorAll']('text');_0x4f5373[_0x174356(0xacf)]((_0x4de4ec,_0x3684ba)=>{const _0x449e3a=_0x174356,_0x623c4f=_0x449e3a(0x70c)+_0x10f4ca+'-'+_0x3684ba;_0x4de4ec['id']=_0x623c4f,_0x4de4ec[_0x449e3a(0xb12)][_0x449e3a(0x786)]('draggable-text'),_0x4de4ec[_0x449e3a(0x5a4)]['cursor']=_0x449e3a(0x243);const _0x3e63bf=document[_0x449e3a(0x69a)](_0x449e3a(0x7ec),'circle'),_0x576e52=_0x4de4ec[_0x449e3a(0xa3e)]();_0x3e63bf[_0x449e3a(0x5bd)]('cx',String(_0x576e52['x']+_0x576e52[_0x449e3a(0x29a)]+0x5)),_0x3e63bf[_0x449e3a(0x5bd)]('cy',String(_0x576e52['y']+_0x576e52[_0x449e3a(0xb7f)]/0x2-0x5)),_0x3e63bf[_0x449e3a(0x5bd)]('r','5'),_0x3e63bf['setAttribute']('fill',_0x449e3a(0x2ce)),_0x3e63bf[_0x449e3a(0x5bd)](_0x449e3a(0x991),_0x449e3a(0x3bf)),_0x3e63bf['dataset'][_0x449e3a(0x5b5)]=_0x623c4f,_0x4de4ec[_0x449e3a(0x3f6)](_0x3e63bf);}),_0x339f69[_0x174356(0xd68)](_0x174356(0xd14),startDrag),_0x339f69[_0x174356(0xd68)](_0x174356(0x729),drag),_0x339f69[_0x174356(0xd68)]('mouseup',endDrag),_0x339f69[_0x174356(0xd68)](_0x174356(0xd7c),endDrag),_0x339f69[_0x174356(0xd68)](_0x174356(0x71e),startDrag,{'passive':![]}),_0x339f69[_0x174356(0xd68)]('touchmove',drag,{'passive':![]}),_0x339f69[_0x174356(0xd68)](_0x174356(0x5dd),endDrag),_0x339f69[_0x174356(0xd68)](_0x174356(0x26f),endDrag),_0x339f69[_0x174356(0xd68)](_0x174356(0xcc3),handleSvgEditClick);}}if(_0x5b8b09)_0x5b8b09[_0x174356(0x8d7)]();}else{_0x1834bb[_0x174356(0x568)]=_0x174356(0x417),_0x1834bb[_0x174356(0xdf2)]=_0x174356(0x3fe);if(_0x5b8b09){_0x5b8b09[_0x174356(0xe73)]=![];const _0x3a8506=_0x53f5b4[_0x174356(0xa9f)]||currentQuizData[_0x174356(0xcb6)];_0x3a8506==='matching_item'?_0x53f5b4[_0x174356(0xc35)]=_0x5b8b09[_0x174356(0x441)]['substring'](_0x5b8b09[_0x174356(0x441)][_0x174356(0x5f3)]('.')+0x2)[_0x174356(0x937)]():_0x53f5b4['questionText']=_0x5b8b09[_0x174356(0x441)][_0x174356(0x51e)](_0x5b8b09[_0x174356(0x441)][_0x174356(0x5f3)]('.')+0x2)[_0x174356(0x937)]();}_0x1c181a&&(_0x1c181a['contentEditable']=![],_0x53f5b4[_0x174356(0x658)]=_0x1c181a[_0x174356(0x441)]);if(_0x5702b7){const _0x103ffb=_0x5702b7[_0x174356(0x2b0)](_0x174356(0x6fe));if(_0x103ffb){const _0x2bafb4=_0x103ffb[_0x174356(0x965)](!![]);_0x2bafb4[_0x174356(0x6b8)](_0x174356(0x12c))[_0x174356(0xacf)](_0x10294b=>_0x10294b[_0x174356(0x1e9)]()),_0x2bafb4[_0x174356(0x6b8)](_0x174356(0x8d2))[_0x174356(0xacf)](_0xbb0167=>{const _0x2f344b=_0x174356;_0xbb0167[_0x2f344b(0xb12)]['remove'](_0x2f344b(0xa03)),_0xbb0167[_0x2f344b(0x5a4)][_0x2f344b(0xd6e)]=_0x2f344b(0x518),_0xbb0167[_0x2f344b(0x93d)]('id');}),_0x53f5b4[_0x174356(0x538)]=_0x2bafb4['outerHTML'],_0x103ffb[_0x174356(0xd06)](_0x174356(0xd14),startDrag),_0x103ffb['removeEventListener'](_0x174356(0x729),drag),_0x103ffb[_0x174356(0xd06)](_0x174356(0x440),endDrag),_0x103ffb[_0x174356(0xd06)](_0x174356(0xd7c),endDrag),_0x103ffb[_0x174356(0xd06)](_0x174356(0x71e),startDrag),_0x103ffb[_0x174356(0xd06)](_0x174356(0x6ab),drag),_0x103ffb[_0x174356(0xd06)](_0x174356(0x5dd),endDrag),_0x103ffb[_0x174356(0xd06)](_0x174356(0x26f),endDrag),_0x103ffb[_0x174356(0xd06)](_0x174356(0xcc3),handleSvgEditClick),_0x103ffb[_0x174356(0x6b8)]('.delete-svg-btn')[_0x174356(0xacf)](_0x30cae9=>_0x30cae9[_0x174356(0x1e9)]()),_0x103ffb[_0x174356(0x6b8)]('.draggable-text')[_0x174356(0xacf)](_0x2a2b3d=>{const _0x3a0d2c=_0x174356;_0x2a2b3d[_0x3a0d2c(0xb12)][_0x3a0d2c(0x1e9)](_0x3a0d2c(0xa03)),_0x2a2b3d['style'][_0x3a0d2c(0xd6e)]=_0x3a0d2c(0x518);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x406f82){const _0x39b91d=_0x1b610a,_0x3476e8=document[_0x39b91d(0x8a9)](_0x39b91d(0xa5f)),_0x51e982=document[_0x39b91d(0x8a9)](_0x39b91d(0xe71));_0x51e982[_0x39b91d(0x568)]=_0x39b91d(0x30b),_0x3476e8[_0x39b91d(0xb12)][_0x39b91d(0x1e9)]('hidden');try{const _0x2bc615=doc(db,_0x39b91d(0x407)+appId+_0x39b91d(0x399),_0x406f82),_0x566cfd=await getDoc(_0x2bc615);if(!_0x566cfd[_0x39b91d(0xa90)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x406f82,..._0x566cfd[_0x39b91d(0x860)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x148302){console['error'](_0x39b91d(0xdc3),_0x148302),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x3476e8[_0x39b91d(0xb12)][_0x39b91d(0x786)](_0x39b91d(0x9cf));}}function renderQuizEditor(_0x1c5b6f){const _0xba8883=_0x1b610a;document[_0xba8883(0x8a9)](_0xba8883(0x326))['value']=_0x1c5b6f[_0xba8883(0x5cc)];const _0x12139c=document['getElementById'](_0xba8883(0xe71));let _0x831566=_0x1c5b6f[_0xba8883(0x3c6)][_0xba8883(0x4cb)]((_0x5dea2e,_0x266bb7)=>{const _0x4304a7=_0xba8883;let _0x5b89b4='';const _0x544901=_0x5dea2e[_0x4304a7(0xa9f)]||_0x1c5b6f[_0x4304a7(0xcb6)],_0x484f39=(_0x544901===_0x4304a7(0x815)||_0x544901===_0x4304a7(0x312))&&_0x5dea2e['options']&&_0x5dea2e[_0x4304a7(0x487)]['length']>0x0;switch(_0x544901){case'multiple_choice':const _0x5b0c99=(_0x5dea2e[_0x4304a7(0x487)]||[])['map']((_0x174ee9,_0x4c56f9)=>_0x4304a7(0xe3d)+_0x266bb7+_0x4304a7(0x213)+_0x4c56f9+'\x22\x20'+(_0x4c56f9===_0x5dea2e[_0x4304a7(0x26c)]?_0x4304a7(0xaa0):'')+_0x4304a7(0x99c)+_0x174ee9+_0x4304a7(0xa05))[_0x4304a7(0x656)]('');_0x5b89b4=_0x4304a7(0xd5b)+_0x5b0c99+_0x4304a7(0xab1);break;case _0x4304a7(0x312):case _0x4304a7(0x815):_0x5b89b4=_0x4304a7(0x273)+(_0x5dea2e[_0x4304a7(0xc37)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x484f39){const _0x23c742=(_0x5dea2e[_0x4304a7(0x487)]||[])[_0x4304a7(0x4cb)]((_0x113baa,_0x14b354)=>_0x4304a7(0x2c5)+_0x266bb7+_0x4304a7(0x213)+_0x14b354+'\x22\x20'+(_0x14b354===_0x5dea2e['correctAnswerIndex']?_0x4304a7(0xaa0):'')+'\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x113baa+_0x4304a7(0x575))['join']('');_0x5b89b4+=_0x4304a7(0xdaa)+_0x23c742+_0x4304a7(0xe57);}break;case'true_false':_0x5b89b4=_0x4304a7(0xa10)+_0x266bb7+_0x4304a7(0x906)+(_0x5dea2e[_0x4304a7(0xad3)]===!![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x266bb7+_0x4304a7(0x871)+(_0x5dea2e[_0x4304a7(0xad3)]===![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4304a7(0x3e6):_0x5b89b4=_0x4304a7(0x9e3)+(_0x5dea2e['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x20fb4d=_0x5dea2e[_0x4304a7(0x460)]||_0x5dea2e[_0x4304a7(0xc35)]||'';_0x20fb4d=_0x20fb4d[_0x4304a7(0xb27)](/<br\s*\/?>/gi,'\x0a');let _0x4824eb='';if(_0x544901===_0x4304a7(0x24a))_0x4824eb=_0x4304a7(0xe38);else _0x484f39&&(_0x4824eb=_0x4304a7(0x78c));return _0x4304a7(0x57f)+_0x266bb7+_0x4304a7(0x46a)+_0x544901+'\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4824eb+_0x4304a7(0x48a)+(_0x266bb7+0x1)+'\x20('+_0x544901+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x20fb4d+_0x4304a7(0x2ed)+_0x5b89b4+_0x4304a7(0x7be);})[_0xba8883(0x656)]('');_0x12139c[_0xba8883(0x568)]=_0x831566;const _0x52c593=_0xba8883(0x617);_0x12139c['insertAdjacentHTML'](_0xba8883(0xdb4),_0x52c593),_0x12139c[_0xba8883(0x6b8)](_0xba8883(0xc23))[_0xba8883(0xacf)](_0x2b2ce7=>{const _0x114b66=_0xba8883;_0x2b2ce7[_0x114b66(0x5a4)][_0x114b66(0x6d4)]='hidden',_0x2b2ce7['style']['minHeight']=_0x114b66(0xbc1),_0x2b2ce7['rows']=0x4;const _0x44ad68=()=>{const _0x5f082f=_0x114b66;_0x2b2ce7[_0x5f082f(0x5a4)]['height']='auto',_0x2b2ce7[_0x5f082f(0x5a4)][_0x5f082f(0xb7f)]=_0x2b2ce7[_0x5f082f(0x9f8)]+'px';};_0x2b2ce7[_0x114b66(0xd68)](_0x114b66(0x5ea),_0x44ad68),_0x44ad68();}),_0x12139c[_0xba8883(0x6b8)]('.ai-fix-question-btn')['forEach'](_0xa215fd=>{const _0x5d1cfe=_0xba8883;_0xa215fd[_0x5d1cfe(0xd68)](_0x5d1cfe(0xcc3),handleAiFixQuestion);}),_0x12139c['querySelectorAll'](_0xba8883(0xaec))['forEach'](_0x5dddca=>{const _0x15370f=_0xba8883;_0x5dddca[_0x15370f(0xd68)]('click',_0x4c50d0=>{const _0x3c724=_0x15370f,_0xa5675b=parseInt(_0x4c50d0[_0x3c724(0x6b6)][_0x3c724(0x156)](_0x3c724(0xd67))[_0x3c724(0xd34)]['qIndex'],0xa);handleAiFixFormula(_0xa5675b);});}),_0x12139c[_0xba8883(0x6b8)](_0xba8883(0xafb))[_0xba8883(0xacf)](_0x501561=>{const _0x5abbb1=_0xba8883;_0x501561['addEventListener'](_0x5abbb1(0xcc3),_0x528f02=>{const _0x16fec4=_0x5abbb1,_0x34c396=parseInt(_0x528f02[_0x16fec4(0x6b6)]['closest']('.question-editor-item')[_0x16fec4(0xd34)]['qIndex'],0xa);handleToggleHiddenOptions(_0x34c396);});});}function handleToggleHiddenOptions(_0x7a25d0){const _0x5223ca=_0x1b610a;if(!currentEditingQuizData||!currentEditingQuizData[_0x5223ca(0x3c6)][_0x7a25d0])return;const _0x391217=currentEditingQuizData[_0x5223ca(0x3c6)][_0x7a25d0],_0x45b42f=_0x391217[_0x5223ca(0xa9f)]||_0x5223ca(0x24a),_0x452f2b=document[_0x5223ca(0x2b0)](_0x5223ca(0xcfb)+_0x7a25d0+'\x22]');if(_0x452f2b){_0x391217[_0x5223ca(0x460)]=_0x452f2b[_0x5223ca(0x2b0)]('textarea')[_0x5223ca(0x61e)];if(_0x45b42f===_0x5223ca(0x24a)){const _0x431ef5=_0x452f2b[_0x5223ca(0x6b8)](_0x5223ca(0xc3a));_0x391217[_0x5223ca(0x487)]=Array['from'](_0x431ef5)['map'](_0x176b49=>_0x176b49[_0x5223ca(0x61e)]);const _0x2dab0a=_0x452f2b[_0x5223ca(0x2b0)](_0x5223ca(0x72a));if(_0x2dab0a)_0x391217['correctAnswerIndex']=parseInt(_0x2dab0a[_0x5223ca(0x61e)]);}else{if(_0x45b42f===_0x5223ca(0x815)||_0x45b42f===_0x5223ca(0x312)){const _0x503b25=_0x452f2b[_0x5223ca(0x2b0)](_0x5223ca(0x715));if(_0x503b25)_0x391217['idealAnswer']=_0x503b25[_0x5223ca(0x61e)];const _0xc3ca93=_0x452f2b['querySelectorAll'](_0x5223ca(0xa8d));_0xc3ca93['length']>0x0&&(_0x391217['options']=Array['from'](_0xc3ca93)['map'](_0x5fb223=>_0x5fb223[_0x5223ca(0x61e)]));}}}_0x45b42f===_0x5223ca(0x24a)?(_0x391217[_0x5223ca(0xa9f)]='short_answer',_0x391217[_0x5223ca(0x487)]&&_0x391217[_0x5223ca(0x26c)]!==undefined&&(_0x391217['idealAnswer']=_0x391217[_0x5223ca(0x487)][_0x391217['correctAnswerIndex']]||'')):_0x391217['questionType']=_0x5223ca(0x24a),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x3acb1a){const _0x469209=_0x1b610a;if(!currentEditingQuizData||!currentEditingQuizData[_0x469209(0x3c6)][_0x3acb1a])return;const _0x2da065=currentEditingQuizData[_0x469209(0x3c6)][_0x3acb1a]['questionText']||currentEditingQuizData[_0x469209(0x3c6)][_0x3acb1a][_0x469209(0xc35)];showConfirmation(_0x469209(0x31c)+(_0x3acb1a+0x1)+_0x469209(0x430)+_0x2da065['substring'](0x0,0x14)+_0x469209(0x584),()=>{const _0x44d0f3=_0x469209;currentEditingQuizData[_0x44d0f3(0x3c6)][_0x44d0f3(0x49e)](_0x3acb1a,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x14f5ea=_0x1b610a;if(!currentEditingQuizData)return;const _0x408272=document[_0x14f5ea(0x8a9)](_0x14f5ea(0x883)),_0x5ef476=_0x408272?_0x408272['value']:'multiple_choice';let _0x378e21={'id':'q_'+Date[_0x14f5ea(0x82a)]()+_0x14f5ea(0x754),'questionType':_0x5ef476,'questionText':'---\x20[คำถามใหม่]\x20---','explanation':_0x14f5ea(0x52c)};switch(_0x5ef476){case'multiple_choice':_0x378e21['options']=[_0x14f5ea(0x7d6),_0x14f5ea(0x30e),_0x14f5ea(0x8ea),_0x14f5ea(0x963)],_0x378e21[_0x14f5ea(0x26c)]=0x0;break;case _0x14f5ea(0x815):case _0x14f5ea(0x312):_0x378e21[_0x14f5ea(0xc37)]='คำตอบที่ถูกต้อง';break;case _0x14f5ea(0x8fb):_0x378e21[_0x14f5ea(0xad3)]=!![];break;case _0x14f5ea(0x3e6):_0x378e21[_0x14f5ea(0xc35)]='คำถาม...',_0x378e21[_0x14f5ea(0x11c)]=_0x14f5ea(0xdeb),_0x378e21[_0x14f5ea(0x460)]=_0x14f5ea(0xb8b);break;}currentEditingQuizData[_0x14f5ea(0x3c6)][_0x14f5ea(0x6fd)](_0x378e21),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0xe1ef7e=_0x14f5ea,_0x4ef1e8=document['querySelector']('.question-editor-item:last-of-type');if(_0x4ef1e8){_0x4ef1e8[_0xe1ef7e(0x353)]({'behavior':'smooth','block':_0xe1ef7e(0x6ac)});const _0x1d4cf9=_0x4ef1e8[_0xe1ef7e(0x2b0)](_0xe1ef7e(0x35d));if(_0x1d4cf9)_0x1d4cf9['focus']();}},0x64);}async function handleAiFixQuestion(_0xb08c21){const _0xa1d67a=_0x1b610a,_0x411b36=_0xb08c21['currentTarget'],_0x1ee4a2=_0x411b36[_0xa1d67a(0x156)](_0xa1d67a(0xd67));if(!_0x1ee4a2)return;const _0x53da58=parseInt(_0x1ee4a2[_0xa1d67a(0xd34)][_0xa1d67a(0xa80)],0xa);if(isNaN(_0x53da58)||!currentEditingQuizData['questions'][_0x53da58]){showMessage(_0xa1d67a(0x502));return;}const _0x57e59d=currentEditingQuizData['questions'][_0x53da58];_0x411b36[_0xa1d67a(0x568)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x411b36[_0xa1d67a(0x317)]=!![];const _0x384144=_0xa1d67a(0x338)+JSON['stringify'](_0x57e59d)+_0xa1d67a(0x661);let _0x4a1604;const _0xbcfaee=_0x57e59d[_0xa1d67a(0xa9f)]||currentEditingQuizData[_0xa1d67a(0xcb6)];switch(_0xbcfaee){case _0xa1d67a(0x815):_0x4a1604={'type':_0xa1d67a(0x6da),'properties':{'questionText':{'type':_0xa1d67a(0x6a7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xa1d67a(0x6a7)},'imageCode':{'type':_0xa1d67a(0x6a7)}},'required':[_0xa1d67a(0x460),_0xa1d67a(0xc37),_0xa1d67a(0x658)]};break;case'multiple_choice':default:_0x4a1604={'type':_0xa1d67a(0x6da),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xa1d67a(0x7b8),'items':{'type':_0xa1d67a(0x6a7)}},'correctAnswerIndex':{'type':_0xa1d67a(0x832)},'explanation':{'type':_0xa1d67a(0x6a7)},'imageCode':{'type':'STRING'}},'required':[_0xa1d67a(0x460),_0xa1d67a(0x487),_0xa1d67a(0x26c),_0xa1d67a(0x658)]};break;}try{let _0x3b76f6=await callAnalysisApi(_0x384144,_0x4a1604);_0x3b76f6[_0xa1d67a(0x487)]&&Array[_0xa1d67a(0x47a)](_0x3b76f6[_0xa1d67a(0x487)])&&(_0x3b76f6[_0xa1d67a(0x487)]=_0x3b76f6['options'][_0xa1d67a(0x4cb)](_0x4dccc5=>typeof _0x4dccc5===_0xa1d67a(0x8d8)?_0x4dccc5['replace'](/S(\s*[\d_]+?\s*)S/g,_0xa1d67a(0xdf9)):_0x4dccc5)),_0x57e59d[_0xa1d67a(0x538)]&&_0x57e59d[_0xa1d67a(0x538)][_0xa1d67a(0x55e)](_0xa1d67a(0x6f4))&&(_0x3b76f6[_0xa1d67a(0x538)]=''),currentEditingQuizData['questions'][_0x53da58]={..._0x57e59d,..._0x3b76f6},renderQuizEditor(currentEditingQuizData),showMessage(_0xa1d67a(0xc8c));}catch(_0x5bee1e){console[_0xa1d67a(0xce3)](_0xa1d67a(0x956),_0x5bee1e),showMessage(_0xa1d67a(0x74e)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x12d8c9=_0x1b610a,_0x370b64=document['getElementById'](_0x12d8c9(0x850));_0x370b64[_0x12d8c9(0x317)]=!![],_0x370b64[_0x12d8c9(0x568)]=_0x12d8c9(0x41d);try{const _0x328934=document[_0x12d8c9(0x8a9)]('editor-quiz-topic')[_0x12d8c9(0x61e)],_0x507d8a=document[_0x12d8c9(0x6b8)]('.question-editor-item');let _0x17b538=[];const _0x276a5e=Array['from'](_0x507d8a)[_0x12d8c9(0x4cb)]((_0x168eba,_0x281d0f)=>{const _0x2f5d1c=_0x12d8c9,_0x3033c3=_0x168eba[_0x2f5d1c(0xd34)][_0x2f5d1c(0x9e4)],_0x5d3902=_0x168eba['querySelector'](_0x2f5d1c(0x35d))[_0x2f5d1c(0x61e)][_0x2f5d1c(0xb27)](/\n/g,'<br>');let _0x29efec={'questionType':_0x3033c3};const _0xeb8343=currentEditingQuizData[_0x2f5d1c(0x3c6)][_0x281d0f]||{};switch(_0x3033c3){case'multiple_choice':_0x29efec[_0x2f5d1c(0x460)]=_0x5d3902;const _0x18efb4=_0x168eba[_0x2f5d1c(0x6b8)](_0x2f5d1c(0xc3a));_0x29efec[_0x2f5d1c(0x487)]=Array[_0x2f5d1c(0x52e)](_0x18efb4)[_0x2f5d1c(0x4cb)](_0x6ddcb0=>_0x6ddcb0['value']);const _0x255ffa=_0x168eba[_0x2f5d1c(0x2b0)](_0x2f5d1c(0x72a));_0x29efec[_0x2f5d1c(0x26c)]=_0x255ffa?parseInt(_0x255ffa[_0x2f5d1c(0x61e)]):0x0;break;case _0x2f5d1c(0x312):case'short_answer':_0x29efec[_0x2f5d1c(0x460)]=_0x5d3902,_0x29efec['idealAnswer']=_0x168eba[_0x2f5d1c(0x2b0)]('.ideal-answer-input')['value'];const _0x30f0ab=_0x168eba[_0x2f5d1c(0x6b8)](_0x2f5d1c(0xa8d));_0x30f0ab[_0x2f5d1c(0x14c)]>0x0?(_0x29efec['options']=Array['from'](_0x30f0ab)[_0x2f5d1c(0x4cb)](_0x29e518=>_0x29e518[_0x2f5d1c(0x61e)]),_0xeb8343[_0x2f5d1c(0x26c)]!==undefined?_0x29efec[_0x2f5d1c(0x26c)]=_0xeb8343[_0x2f5d1c(0x26c)]:_0x29efec[_0x2f5d1c(0x26c)]=0x0):(delete _0x29efec[_0x2f5d1c(0x487)],delete _0x29efec[_0x2f5d1c(0x26c)]);break;case _0x2f5d1c(0x8fb):_0x29efec['questionText']=_0x5d3902;const _0x578522=_0x168eba[_0x2f5d1c(0x2b0)](_0x2f5d1c(0x72a));_0x29efec[_0x2f5d1c(0xad3)]=_0x578522?_0x578522[_0x2f5d1c(0x61e)]===_0x2f5d1c(0xd57):!![];break;case'matching_item':_0x29efec[_0x2f5d1c(0xc35)]=_0x5d3902;const _0x100671=_0x168eba['querySelector'](_0x2f5d1c(0xd1a));_0x29efec[_0x2f5d1c(0x11c)]=_0x100671?_0x100671['value']:'',_0x17b538[_0x2f5d1c(0x6fd)](_0x29efec[_0x2f5d1c(0x11c)]);break;default:_0x29efec[_0x2f5d1c(0x460)]=_0x5d3902;break;}return{..._0xeb8343,..._0x29efec};});_0x17b538[_0x12d8c9(0x14c)]>0x0&&_0x276a5e[_0x12d8c9(0xacf)](_0x179f8c=>{const _0x1bf5cf=_0x12d8c9;_0x179f8c[_0x1bf5cf(0xa9f)]===_0x1bf5cf(0x3e6)&&(_0x179f8c[_0x1bf5cf(0x6cf)]=_0x17b538);});const _0x1b9f6b=currentEditingQuizData['id'],_0x5e426c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1b9f6b);await updateDoc(_0x5e426c,{'topic':_0x328934,'questions':_0x276a5e}),document['getElementById'](_0x12d8c9(0xa5f))[_0x12d8c9(0xb12)][_0x12d8c9(0x786)](_0x12d8c9(0x9cf)),showMessage(_0x12d8c9(0x6c3),()=>initiateReGradeProcess(_0x1b9f6b));}catch(_0x26761){console[_0x12d8c9(0xce3)](_0x12d8c9(0xb43),_0x26761),showMessage(_0x12d8c9(0x240));}finally{_0x370b64[_0x12d8c9(0x317)]=![],_0x370b64[_0x12d8c9(0x568)]=_0x12d8c9(0xdec);}}async function initiateReGradeProcess(_0x146dbd){const _0x457769=_0x1b610a;showMessage(_0x457769(0x561));try{const _0x32f905=doc(db,'artifacts/'+appId+_0x457769(0x399),_0x146dbd),_0xf9d385=await getDoc(_0x32f905);if(!_0xf9d385['exists']())throw new Error(_0x457769(0x8ee));const _0x172070={'id':_0x146dbd,..._0xf9d385[_0x457769(0x860)]()},_0x308e57=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x146dbd,'submissions'),_0x2f8b6f=await getDocs(_0x308e57);if(_0x2f8b6f[_0x457769(0x634)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x412598=_0x2f8b6f[_0x457769(0x654)][_0x457769(0x4cb)](_0xa56778=>reGradeSingleSubmission(_0xa56778,_0x172070));await Promise['all'](_0x412598);if(_0x172070[_0x457769(0xccc)]){const _0x48f4af=doc(db,_0x457769(0x407)+appId+_0x457769(0x622),_0x172070[_0x457769(0xccc)]),_0x1baa22=await getDoc(_0x48f4af);if(_0x1baa22[_0x457769(0xa90)]()&&_0x1baa22[_0x457769(0x860)]()[_0x457769(0x3a4)]){const _0x58c292=_0x1baa22[_0x457769(0x860)]()[_0x457769(0x3a4)]['map'](_0x1ace6a=>updateStudentProfile(_0x172070[_0x457769(0xccc)],_0x1ace6a));await Promise[_0x457769(0xbd8)](_0x58c292);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x2f8b6f[_0x457769(0xada)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x5b890e){console[_0x457769(0xce3)](_0x457769(0xcee),_0x5b890e),showMessage(_0x457769(0x8e5)+_0x5b890e[_0x457769(0xba0)]);}}async function reGradeSingleSubmission(_0x38d4d9,_0x5bc5da){const _0x4844ee=_0x1b610a,_0x5920b5=_0x38d4d9[_0x4844ee(0x860)](),_0x53c189=_0x5920b5['studentName'],_0x58cf0b=_0x5920b5['attempts']||[],_0x53ad8e=[];for(const _0x4869fd of _0x58cf0b){let _0x2dad68=0x0,_0x2a66f2=[],_0x5717db=0x0;const _0x3ea7f8=[];for(const _0xb76b08 of _0x4869fd[_0x4844ee(0x772)]){let _0x14c137;_0xb76b08['questionId']&&(_0x14c137=_0x5bc5da[_0x4844ee(0x3c6)][_0x4844ee(0x6bf)](_0x4b2375=>_0x4b2375['id']===_0xb76b08[_0x4844ee(0x454)]));!_0x14c137&&_0xb76b08['originalQuestionText']&&(_0x14c137=_0x5bc5da['questions'][_0x4844ee(0x6bf)](_0x351d9f=>(_0x351d9f[_0x4844ee(0xc35)]||_0x351d9f[_0x4844ee(0x460)])===_0xb76b08['originalQuestionText']));let _0x26d5e7=![];if(_0x14c137){const _0x3e8b59=_0x14c137[_0x4844ee(0xa9f)]||_0x5bc5da['quizType'];switch(_0x3e8b59){case _0x4844ee(0x24a):if(_0x14c137[_0x4844ee(0x487)]&&_0x14c137[_0x4844ee(0x26c)]<_0x14c137['options'][_0x4844ee(0x14c)]){const _0x5ce29f=_0x14c137[_0x4844ee(0x487)][_0x14c137[_0x4844ee(0x26c)]];_0x26d5e7=_0xb76b08[_0x4844ee(0xb31)]===_0x5ce29f;}break;case _0x4844ee(0x8fb):const _0x3dc4e2=_0xb76b08[_0x4844ee(0x20c)]===!![]||_0xb76b08[_0x4844ee(0x20c)]===_0x4844ee(0xd57);_0x26d5e7=_0x3dc4e2===_0x14c137['correctAnswer'];break;case'matching_item':_0x26d5e7=_0xb76b08[_0x4844ee(0x20c)]===_0x14c137['correctResponse'];break;case _0x4844ee(0x815):_0x26d5e7=await gradeShortAnswer(_0xb76b08[_0x4844ee(0x20c)],_0x14c137);break;default:_0x26d5e7=_0xb76b08['isCorrect'];break;}}if(_0x26d5e7){_0x2dad68++,_0x5717db++;if(_0x5717db===0x3)_0x2a66f2[_0x4844ee(0x6fd)](BADGES[_0x4844ee(0x54f)]['id']);}else _0x5717db=0x0;_0x3ea7f8[_0x4844ee(0x6fd)]({..._0xb76b08,'isCorrect':_0x26d5e7});}let _0x3a27c4=0x0;const _0x3a8939=_0x4869fd[_0x4844ee(0x655)]===!![]||_0x4869fd[_0x4844ee(0xa28)]>_0x5bc5da[_0x4844ee(0x3c6)]['length']*0x14;_0x3a8939?_0x3a27c4=_0x4869fd[_0x4844ee(0xa28)]:(_0x3a27c4=_0x2dad68*0xa,_0x2dad68===_0x5bc5da[_0x4844ee(0x3c6)][_0x4844ee(0x14c)]&&(_0x3a27c4+=0x32,_0x2a66f2[_0x4844ee(0x6fd)](BADGES['PERFECT_SCORE']['id']))),_0x53ad8e[_0x4844ee(0x6fd)]({..._0x4869fd,'score':_0x2dad68,'points':_0x3a27c4,'badges':Array[_0x4844ee(0x52e)](new Set(_0x2a66f2)),'answers':_0x3ea7f8});}const _0x2f2c0c=_0x53ad8e[_0x4844ee(0x14c)]>0x0?_0x53ad8e[0x0]['score']:0x0,_0x52588d=Math[_0x4844ee(0xb5e)](..._0x53ad8e[_0x4844ee(0x4cb)](_0x453929=>_0x453929[_0x4844ee(0xdd7)])),_0x2ea77f=_0x53ad8e[_0x4844ee(0x14c)]>0x0?_0x53ad8e[_0x53ad8e[_0x4844ee(0x14c)]-0x1][_0x4844ee(0xdd7)]:0x0,_0x5abee4=_0x53ad8e[_0x4844ee(0x14c)]>0x0?_0x53ad8e[_0x53ad8e[_0x4844ee(0x14c)]-0x1][_0x4844ee(0xa28)]:0x0,_0x1a085c=doc(db,'artifacts/'+appId+_0x4844ee(0x56f)+_0x5bc5da['id']+'/submissions',_0x53c189);await updateDoc(_0x1a085c,{'attempts':_0x53ad8e,'firstScore':_0x2f2c0c,'bestScore':_0x52588d,'latestScore':_0x2ea77f,'points':_0x5abee4});}function cleanupQuizOptions(_0x165615){const _0x33cc86=_0x1b610a,_0x3be297=(_0xbf3f46,_0x262e66)=>_0x262e66===0x0?_0xbf3f46:_0x3be297(_0x262e66,_0xbf3f46%_0x262e66),_0x9e7534=_0x484481=>{const _0x4d3af6=_0x6978;if(typeof _0x484481!==_0x4d3af6(0x8d8))return null;_0x484481=_0x484481['trim']();const _0x2e35b5=_0x484481[_0x4d3af6(0x59b)](/[ /]/)[_0x4d3af6(0x58f)](_0x24eda8=>_0x24eda8!=='');if(_0x2e35b5[_0x4d3af6(0x14c)]===0x3)return parseInt(_0x2e35b5[0x0])+parseInt(_0x2e35b5[0x1])/parseInt(_0x2e35b5[0x2]);else{if(_0x2e35b5[_0x4d3af6(0x14c)]===0x2)return parseInt(_0x2e35b5[0x0])/parseInt(_0x2e35b5[0x1]);else{if(_0x2e35b5[_0x4d3af6(0x14c)]===0x1&&!isNaN(_0x2e35b5[0x0]))return parseFloat(_0x2e35b5[0x0]);}}return null;},_0x826c70=_0x1062e1=>{const _0x31c427=_0x6978;if(typeof _0x1062e1!==_0x31c427(0x8d8))return _0x1062e1;const _0x5d88bb=_0x1062e1['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5d88bb){const _0x6406b7=parseInt(_0x5d88bb[0x1]);let _0x31c5a9=parseInt(_0x5d88bb[0x2]),_0x25881c=parseInt(_0x5d88bb[0x3]);const _0xe31447=_0x3be297(_0x31c5a9,_0x25881c);_0x31c5a9/=_0xe31447,_0x25881c/=_0xe31447;if(_0x25881c===0x1)return(_0x6406b7+_0x31c5a9)['toString']();return _0x6406b7+'\x20'+_0x31c5a9+'/'+_0x25881c;}return _0x1062e1;};return _0x165615&&_0x165615[_0x33cc86(0x3c6)]&&_0x165615[_0x33cc86(0x3c6)][_0x33cc86(0xacf)](_0x4a752e=>{const _0x5cf8e1=_0x33cc86;if(_0x4a752e[_0x5cf8e1(0xa9f)]==='multiple_choice'&&_0x4a752e[_0x5cf8e1(0x487)]){const _0x3043d2=new Map(),_0x409e0d=_0x4a752e[_0x5cf8e1(0x487)][_0x4a752e[_0x5cf8e1(0x26c)]];_0x4a752e[_0x5cf8e1(0x487)][_0x5cf8e1(0xacf)](_0x1c85c1=>{const _0x3badd8=_0x5cf8e1,_0x1df768=_0x826c70(_0x1c85c1),_0x159289=_0x9e7534(_0x1df768);_0x159289!==null&&!_0x3043d2[_0x3badd8(0xbe7)](_0x159289)&&_0x3043d2[_0x3badd8(0x98f)](_0x159289,_0x1df768);}),_0x4a752e[_0x5cf8e1(0x487)]=Array[_0x5cf8e1(0x52e)](_0x3043d2[_0x5cf8e1(0x17f)]());const _0xc33468=_0x4a752e[_0x5cf8e1(0x487)][_0x5cf8e1(0xcf6)](_0x193edb=>_0x193edb===_0x826c70(_0x409e0d));_0x4a752e[_0x5cf8e1(0x26c)]=_0xc33468!==-0x1?_0xc33468:0x0;}}),_0x165615;}function showGameStartConfirmationModal(_0x1687f8,_0x4ed378,_0x1f1067){const _0x1f67b1=_0x1b610a,_0xbd8710=document[_0x1f67b1(0x8a9)](_0x1f67b1(0x2b5));document['getElementById'](_0x1f67b1(0xb21))['textContent']='เริ่มกิจกรรม:\x20'+_0x1f1067,document[_0x1f67b1(0x8a9)](_0x1f67b1(0xb37))[_0x1f67b1(0x61e)]=_0x1687f8,document[_0x1f67b1(0x8a9)](_0x1f67b1(0x855))[_0x1f67b1(0x61e)]=_0x4ed378,document['getElementById'](_0x1f67b1(0xa01))[_0x1f67b1(0xaa0)]=!![];const _0x413714=document['getElementById'](_0x1f67b1(0x4e5)),_0x52179e=document[_0x1f67b1(0x8a9)](_0x1f67b1(0xe3e)),_0x4f6ab8=document[_0x1f67b1(0x8a9)](_0x1f67b1(0x967)),_0x3c9079=document[_0x1f67b1(0x8a9)](_0x1f67b1(0xaa6)),_0x4ede66=document[_0x1f67b1(0x8a9)]('anon-settings-container');if(_0x4ed378===_0x1f67b1(0xb30)){_0x413714[_0x1f67b1(0xb12)][_0x1f67b1(0x1e9)](_0x1f67b1(0x9cf));const _0x5726c3=_0x1f67b1(0xb23);document[_0x1f67b1(0x2b0)](_0x1f67b1(0x3c8)+_0x5726c3+'\x22]')[_0x1f67b1(0xaa0)]=!![];if(_0x4ede66)_0x4ede66['classList']['remove']('hidden');_0x52179e['checked']=!![],_0x4f6ab8[_0x1f67b1(0xb12)][_0x1f67b1(0x1e9)](_0x1f67b1(0x9cf)),document[_0x1f67b1(0x8a9)]('sync-timer-duration-input')['value']='300',_0x3c9079['classList']['remove']('hidden'),document['getElementById'](_0x1f67b1(0x496))['checked']=!![];}else{_0x413714[_0x1f67b1(0xb12)]['add'](_0x1f67b1(0x9cf));if(_0x4ede66)_0x4ede66[_0x1f67b1(0xb12)][_0x1f67b1(0x786)](_0x1f67b1(0x9cf));_0x52179e[_0x1f67b1(0xaa0)]=![],_0x4f6ab8['classList'][_0x1f67b1(0x786)](_0x1f67b1(0x9cf)),_0x3c9079['classList'][_0x1f67b1(0x786)]('hidden');}_0xbd8710[_0x1f67b1(0xb12)]['remove'](_0x1f67b1(0x9cf));}async function saveGameResultsAsSubmissions(_0x47e29b){const _0x33d4d8=_0x1b610a;if(_0x47e29b[_0x33d4d8(0xcd8)]){console[_0x33d4d8(0xd62)](_0x33d4d8(0xbcf));return;}console[_0x33d4d8(0xd62)](_0x33d4d8(0x262),_0x47e29b);const _0x10afd4=_0x47e29b[_0x33d4d8(0x782)];let _0x1f7432=[];if(_0x47e29b['players'])_0x1f7432=Object[_0x33d4d8(0xc3c)](_0x47e29b[_0x33d4d8(0x7e6)])[_0x33d4d8(0x4cb)](([_0x41cb1c,_0x48f1dd])=>({'name':_0x41cb1c,..._0x48f1dd}));else{if(_0x47e29b[_0x33d4d8(0x300)])Object['values'](_0x47e29b[_0x33d4d8(0x300)])['forEach'](_0x1f29df=>{const _0x4e0eb6=_0x33d4d8;_0x1f29df[_0x4e0eb6(0xa7c)]['forEach'](_0x2f6e47=>{const _0x539753=_0x4e0eb6;_0x1f7432[_0x539753(0x6fd)]({'name':_0x2f6e47,'score':_0x1f29df['score'],'answers':_0x1f29df[_0x539753(0x772)]});});});else _0x47e29b['responses']&&Object[_0x33d4d8(0xc3c)](_0x47e29b['responses'])[_0x33d4d8(0xacf)](([_0x128b44,_0x5d4c2e])=>{const _0x2f7755=_0x33d4d8;_0x1f7432[_0x2f7755(0x6fd)]({'name':_0x128b44,..._0x5d4c2e});});}if(_0x1f7432[_0x33d4d8(0x14c)]===0x0){console['warn'](_0x33d4d8(0x646));return;}const _0x18a6b5=_0x47e29b[_0x33d4d8(0x698)]?.[_0x33d4d8(0x3c6)][_0x33d4d8(0x14c)]||currentQuizData[_0x33d4d8(0x3c6)][_0x33d4d8(0x14c)],_0x29b506=writeBatch(db);for(const _0x143d70 of _0x1f7432){const _0x4ebb83=doc(db,'artifacts/'+appId+_0x33d4d8(0x56f)+_0x10afd4+_0x33d4d8(0x8b6),_0x143d70[_0x33d4d8(0x835)]),_0x1ad9c7=(_0x143d70['answers']||[])[_0x33d4d8(0x58f)](_0x5014a2=>_0x5014a2[_0x33d4d8(0xe63)])[_0x33d4d8(0x14c)];let _0x28f873=_0x143d70[_0x33d4d8(0x9f0)]!==undefined?_0x143d70[_0x33d4d8(0x9f0)]:_0x1ad9c7,_0x39d581=_0x143d70[_0x33d4d8(0x1ab)]||[];_0x1ad9c7===_0x18a6b5&&_0x18a6b5>0x0&&(!_0x39d581[_0x33d4d8(0x55e)](_0x33d4d8(0x821))&&_0x39d581[_0x33d4d8(0x6fd)]('perfect_score'));const _0x26e164={'score':_0x1ad9c7,'points':_0x28f873,'badges':_0x39d581,'submittedAt':new Date()[_0x33d4d8(0x3f0)](),'isSyncGame':!![],'answers':(_0x143d70[_0x33d4d8(0x772)]||[])[_0x33d4d8(0x4cb)](_0x6feb2d=>({'questionId':_0x6feb2d[_0x33d4d8(0x454)],'answer':_0x6feb2d['answer'],'answerText':_0x6feb2d[_0x33d4d8(0xb31)],'isCorrect':_0x6feb2d['isCorrect'],'originalQuestionText':_0x6feb2d[_0x33d4d8(0x61b)],'wasConfident':_0x6feb2d[_0x33d4d8(0x45c)],'powerupUsed':_0x6feb2d[_0x33d4d8(0x8a8)]||null}))},_0x328e4d=await getDoc(_0x4ebb83),_0x14fb88=_0x328e4d[_0x33d4d8(0xa90)]()?_0x328e4d[_0x33d4d8(0x860)]():{},_0x53c26e=_0x14fb88[_0x33d4d8(0x5db)]||0x0,_0x15edb7=_0x14fb88[_0x33d4d8(0x289)]||[];_0x15edb7[_0x33d4d8(0x14c)]===0x0&&_0x1ad9c7===_0x18a6b5&&_0x18a6b5>0x0&&(!_0x26e164[_0x33d4d8(0x1ab)]['includes'](_0x33d4d8(0xaae))&&_0x26e164[_0x33d4d8(0x1ab)]['push']('first_try_ace'));const _0x217095={'studentName':_0x143d70[_0x33d4d8(0x835)],'totalQuestions':_0x18a6b5,'attempts':arrayUnion(_0x26e164),'latestScore':_0x1ad9c7,'points':_0x28f873,'latestSubmittedAt':_0x26e164['submittedAt'],'bestScore':Math[_0x33d4d8(0xb5e)](_0x53c26e,_0x1ad9c7),'firstScore':_0x15edb7[_0x33d4d8(0x14c)]===0x0?_0x1ad9c7:_0x14fb88[_0x33d4d8(0x841)]||0x0};_0x29b506[_0x33d4d8(0x98f)](_0x4ebb83,_0x217095,{'merge':!![]});}try{if(currentLiveGameId){const _0x405d19=doc(db,_0x33d4d8(0x407)+appId+_0x33d4d8(0x709),currentLiveGameId);_0x29b506[_0x33d4d8(0x6e5)](_0x405d19,{'resultsSaved':!![]});}await _0x29b506[_0x33d4d8(0x394)](),showMessage('บันทึกผลการเรียนของนักเรียน\x20'+_0x1f7432['length']+_0x33d4d8(0x653));const _0x3af0cc=_0x47e29b[_0x33d4d8(0x698)]?.['projectId']||currentQuizData?.[_0x33d4d8(0xccc)]||currentProjectId;if(_0x3af0cc){const _0x4f8a48=[...new Set(_0x1f7432[_0x33d4d8(0x4cb)](_0x5db943=>_0x5db943[_0x33d4d8(0x835)]))];for(const _0x22b00c of _0x4f8a48){await updateStudentProfile(_0x3af0cc,_0x22b00c);}}}catch(_0x36d245){console[_0x33d4d8(0xce3)]('Error\x20saving\x20game\x20results:',_0x36d245),showMessage(_0x33d4d8(0x4ec));}}function _0x6978(_0x4b27a6,_0x1e4200){const _0xc89aa5=_0xc89a();return _0x6978=function(_0x69785a,_0x1b8e63){_0x69785a=_0x69785a-0x118;let _0xe7b9ae=_0xc89aa5[_0x69785a];return _0xe7b9ae;},_0x6978(_0x4b27a6,_0x1e4200);}async function saveQuiz(_0x483f00=null,_0x2dce9b=null){const _0x12f288=_0x1b610a,_0x2e5d74=_0x483f00||currentProjectId;if(!_0x2e5d74){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x12f288(0x3c6)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x377451=document[_0x12f288(0x8a9)](_0x12f288(0xdf5));_0x377451[_0x12f288(0x317)]=!![],_0x377451['innerHTML']=_0x12f288(0x41d);const _0x136d04=document[_0x12f288(0x8a9)](_0x12f288(0x99f))[_0x12f288(0xaa0)];let _0x15cf52=document[_0x12f288(0x8a9)](_0x12f288(0xa1e))[_0x12f288(0x441)]['trim']();_0x136d04&&!_0x15cf52[_0x12f288(0x685)]('(ก่อนเรียน)')&&(_0x15cf52=_0x12f288(0x958)+_0x15cf52);try{const _0x4a7d18={'resultsDisplay':document[_0x12f288(0x8a9)]('results-display-select')[_0x12f288(0x61e)],'shuffle':document[_0x12f288(0x8a9)]('shuffle-setting-select')[_0x12f288(0x61e)],'timerMode':document[_0x12f288(0x8a9)]('timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0x12f288(0x89a))[_0x12f288(0x61e)])||0xa,'passingScore':parseInt(document[_0x12f288(0x8a9)](_0x12f288(0x348))[_0x12f288(0x61e)])||0x0,'isAdaptive':document[_0x12f288(0x8a9)]('adaptive-quiz-checkbox')[_0x12f288(0xaa0)],'loopUntilPass':document[_0x12f288(0x8a9)](_0x12f288(0xc55))[_0x12f288(0xaa0)]},_0x938ef3=(currentQuizData['questions']||[])[_0x12f288(0x4cb)]((_0x401c11,_0x1a5691)=>{const _0x25e1b4=_0x12f288,_0x46ab82=document['getElementById']('quiz-type-select')['value'],_0x4d9a29={'id':'q_'+Date[_0x25e1b4(0x82a)]()+'_'+_0x1a5691,'questionText':_0x401c11[_0x25e1b4(0x460)]||'','explanation':_0x401c11['explanation']||_0x25e1b4(0x16b),'questionType':_0x401c11[_0x25e1b4(0xa9f)]||_0x46ab82,'imageCode':_0x401c11[_0x25e1b4(0x538)]||null};return(_0x4d9a29[_0x25e1b4(0xa9f)]==='multiple_choice'||_0x4d9a29['questionType']===_0x25e1b4(0x270)||_0x4d9a29[_0x25e1b4(0xa9f)]===_0x25e1b4(0xb34)&&_0x401c11[_0x25e1b4(0x487)])&&(_0x4d9a29['options']=_0x401c11[_0x25e1b4(0x487)]||[],_0x4d9a29[_0x25e1b4(0x26c)]=_0x401c11['correctAnswerIndex']!==undefined?_0x401c11[_0x25e1b4(0x26c)]:0x0),(_0x4d9a29[_0x25e1b4(0xa9f)]===_0x25e1b4(0x815)||_0x4d9a29[_0x25e1b4(0xa9f)]===_0x25e1b4(0x312)||_0x4d9a29['questionType']===_0x25e1b4(0xb34)&&_0x401c11[_0x25e1b4(0xc37)])&&(_0x4d9a29['idealAnswer']=_0x401c11[_0x25e1b4(0xc37)]||''),_0x4d9a29[_0x25e1b4(0xa9f)]===_0x25e1b4(0x8fb)&&(_0x4d9a29[_0x25e1b4(0xad3)]=_0x401c11['correctAnswer']===!![]),_0x4d9a29[_0x25e1b4(0xa9f)]===_0x25e1b4(0x3e6)&&(_0x4d9a29[_0x25e1b4(0xc35)]=_0x401c11[_0x25e1b4(0xc35)]||'',_0x4d9a29[_0x25e1b4(0x11c)]=_0x401c11['correctResponse']||'',_0x4d9a29[_0x25e1b4(0x6cf)]=_0x401c11[_0x25e1b4(0x6cf)]||[]),_0x4d9a29;}),_0x1c0ea6={'topic':_0x15cf52,'quizType':currentQuizData[_0x12f288(0xcb6)]||'multiple_choice','questions':_0x938ef3,'projectId':_0x2e5d74,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x12f288(0x6bc),'settings':_0x4a7d18,'quizMode':_0x136d04?_0x12f288(0xcc6):_0x12f288(0x856),'pairedQuizId':null,'lessonPlan':null};let _0x519f98;while(!![]){_0x519f98=Math[_0x12f288(0x85e)](0x3e8+Math[_0x12f288(0xa73)]()*0x2328)[_0x12f288(0x91c)]();const _0x191454=await getDoc(doc(db,'artifacts/'+appId+_0x12f288(0x399),_0x519f98));if(!_0x191454[_0x12f288(0xa90)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x12f288(0x399),_0x519f98),_0x1c0ea6);if(_0x2dce9b&&currentBlueprintProjectId){console[_0x12f288(0xd62)](_0x12f288(0x6d8)+_0x519f98+_0x12f288(0x3fa)+_0x2dce9b);try{const _0x1de15d=doc(db,_0x12f288(0x407)+appId+_0x12f288(0x5b8),currentBlueprintProjectId);await updateDoc(_0x1de15d,{[_0x12f288(0x1d1)+_0x2dce9b+'.linkedQuizIds']:arrayUnion(_0x519f98)});}catch(_0x5e271f){console[_0x12f288(0xce3)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x5e271f);}}currentQuizData[_0x12f288(0x43d)]=_0x4a7d18,currentQuizData['id']=_0x519f98;const _0x2d9248=document[_0x12f288(0x8a9)](_0x12f288(0x228));_0x2d9248[_0x12f288(0x568)]=_0x12f288(0xc7b)+_0x519f98+_0x12f288(0xa1d),document['getElementById']('copy-quiz-id-btn')['addEventListener']('click',()=>copyTextToClipboard(_0x519f98,_0x12f288(0xa6d))),document[_0x12f288(0x8a9)](_0x12f288(0x218))[_0x12f288(0xd68)]('click',()=>handleStartLiveRace(_0x519f98)),document[_0x12f288(0x8a9)](_0x12f288(0x97b))[_0x12f288(0xd68)](_0x12f288(0xcc3),()=>startPresentation(currentQuizData)),document[_0x12f288(0x8a9)](_0x12f288(0x6b2))[_0x12f288(0xd68)](_0x12f288(0xcc3),startAdminTest),showMessage(_0x12f288(0xb06));}catch(_0x10a5d6){console[_0x12f288(0xce3)](_0x12f288(0xa8c),_0x10a5d6),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x377451[_0x12f288(0x317)]=![],_0x377451['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x17cdc6=_0x1b610a,_0x1eeefe=document[_0x17cdc6(0x8a9)](_0x17cdc6(0x207)),_0x28160c=document['getElementById'](_0x17cdc6(0x202)),_0x5b1b36=_0x1eeefe['querySelector']('h3'),_0x305af9=document[_0x17cdc6(0x8a9)](_0x17cdc6(0x145));_0x5b1b36[_0x17cdc6(0xab8)]=_0x17cdc6(0xd13),_0x305af9[_0x17cdc6(0xab8)]=_0x17cdc6(0x512);allProjects[_0x17cdc6(0x14c)]===0x0?(_0x28160c[_0x17cdc6(0x568)]=_0x17cdc6(0xcad),_0x305af9['disabled']=!![]):(_0x28160c[_0x17cdc6(0x568)]=allProjects[_0x17cdc6(0x4cb)](_0x363807=>_0x17cdc6(0x15f)+_0x363807['id']+'\x22>'+_0x363807[_0x17cdc6(0x252)]+'</option>')[_0x17cdc6(0x656)](''),_0x305af9[_0x17cdc6(0x317)]=![]);_0x1eeefe['classList']['remove']('hidden');const _0x4d6519=()=>{const _0x29821c=_0x17cdc6,_0x367734=_0x28160c['value'];_0x367734?(currentProjectId=_0x367734,_0x1eeefe[_0x29821c(0xb12)][_0x29821c(0x786)]('hidden'),saveQuiz(),_0x5b1b36[_0x29821c(0xab8)]=_0x29821c(0x176),_0x305af9[_0x29821c(0xab8)]=_0x29821c(0xcd0),_0x305af9[_0x29821c(0xd06)](_0x29821c(0xcc3),_0x4d6519),_0x305af9['addEventListener'](_0x29821c(0xcc3),confirmMoveQuiz)):showMessage(_0x29821c(0x4f3));};_0x305af9[_0x17cdc6(0xd06)]('click',confirmMoveQuiz),_0x305af9[_0x17cdc6(0xd68)](_0x17cdc6(0xcc3),_0x4d6519);}function copyTextToClipboard(_0x25a87b,_0x33e7cf){const _0x1377f0=_0x1b610a,_0xb8212e=document[_0x1377f0(0xe6a)]('textarea');_0xb8212e['value']=_0x25a87b,_0xb8212e['style'][_0x1377f0(0x347)]=_0x1377f0(0x5b6),_0xb8212e[_0x1377f0(0x5a4)][_0x1377f0(0xd3a)]='0',document[_0x1377f0(0x257)][_0x1377f0(0x90c)](_0xb8212e),_0xb8212e[_0x1377f0(0x8d7)](),_0xb8212e['select']();try{const _0x5ec458=document['execCommand']('copy');showMessage(_0x5ec458?_0x33e7cf:_0x1377f0(0x85c));}catch(_0x5f1254){showMessage(_0x1377f0(0x85c)),console['error']('Copy\x20command\x20failed',_0x5f1254);}document[_0x1377f0(0x257)][_0x1377f0(0xde0)](_0xb8212e);}function listenForProjectQuizzes(_0x118874){const _0x23158e=_0x1b610a,_0x5c3704=collection(db,_0x23158e(0x407)+appId+_0x23158e(0x399)),_0x1612c4=query(_0x5c3704,where('projectId','==',_0x118874));unsubscribeQuizzesListener=onSnapshot(_0x1612c4,async _0x43a9e1=>{const _0x2e0d35=_0x23158e;allQuizzes=_0x43a9e1[_0x2e0d35(0x654)]['map'](_0x57b7a7=>({'id':_0x57b7a7['id'],..._0x57b7a7[_0x2e0d35(0x860)]()})),renderQuizzes();},_0x46473e=>{const _0x2d72ef=_0x23158e;console[_0x2d72ef(0xce3)](_0x2d72ef(0xce6),_0x46473e),document[_0x2d72ef(0x8a9)](_0x2d72ef(0x607))[_0x2d72ef(0x568)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x45a338=_0x1b610a,_0x147aad=document[_0x45a338(0x8a9)](_0x45a338(0x607)),_0x345df0=document[_0x45a338(0x8a9)](_0x45a338(0xd43))[_0x45a338(0x61e)]['toLowerCase']();let _0x455421;currentProjectId===_0x45a338(0xe24)?_0x455421=starredQuizzes:_0x455421=allQuizzes;let _0x2f7700=_0x455421[_0x45a338(0x58f)](_0x18ca01=>_0x18ca01[_0x45a338(0x5cc)][_0x45a338(0x8dd)]()[_0x45a338(0x55e)](_0x345df0));_0x2f7700[_0x45a338(0x528)]((_0xe774dd,_0x3f5f45)=>new Date(_0x3f5f45[_0x45a338(0x9c5)])-new Date(_0xe774dd[_0x45a338(0x9c5)]));if(_0x2f7700[_0x45a338(0x14c)]===0x0){_0x147aad['innerHTML']=_0x45a338(0xaab);return;}const _0x50e82f={},_0x310d58=_0x2f7700[_0x45a338(0x4cb)](async _0x4821e5=>{const _0x478690=_0x45a338,_0x105900=collection(db,_0x478690(0x407)+appId+_0x478690(0x56f)+_0x4821e5['id']+_0x478690(0x8b6)),_0x4bc554=await getDocs(_0x105900);_0x50e82f[_0x4821e5['id']]=_0x4bc554[_0x478690(0xada)];});await Promise['all'](_0x310d58);let _0x10bcfa='';_0x2f7700[_0x45a338(0xacf)](_0x49ab8a=>{const _0x718991=_0x45a338,_0x14942d=_0x50e82f[_0x49ab8a['id']]||0x0,_0x169769=_0x49ab8a[_0x718991(0x9fb)]||_0x718991(0x6bc),_0x9d4f07=_0x49ab8a[_0x718991(0x43d)]?.[_0x718991(0x214)]||_0x718991(0x436);let _0x5553f0='',_0x279e33='';const _0x231579=new Date();let _0x21c3a=_0x169769;if(_0x169769===_0x718991(0xc87)){const _0x51145f=_0x49ab8a[_0x718991(0x396)]?new Date(_0x49ab8a[_0x718991(0x396)]):null,_0x3f13ad=_0x49ab8a[_0x718991(0x13f)]?new Date(_0x49ab8a[_0x718991(0x13f)]):null;if(_0x3f13ad&&_0x231579>_0x3f13ad)_0x21c3a='inactive';else _0x51145f&&_0x231579<_0x51145f?_0x21c3a='scheduled_pending':_0x21c3a='active';}switch(_0x21c3a){case'inactive':_0x5553f0=_0x718991(0x157),_0x279e33=_0x718991(0x34c);break;case _0x718991(0xadb):_0x5553f0=_0x718991(0xb97),_0x279e33='text-blue-700\x20bg-blue-100';break;case _0x718991(0x6bc):_0x5553f0=_0x9d4f07!==_0x718991(0x436)?_0x718991(0xd2f):_0x718991(0x67e),_0x279e33='text-green-700\x20bg-green-100';break;default:_0x5553f0=_0x718991(0xd2b),_0x279e33=_0x718991(0xa91);break;}let _0x9dd0e3='';const _0x17cd1a={'day':'2-digit','month':'2-digit','year':_0x718991(0x95b),'hour':_0x718991(0xaf2),'minute':_0x718991(0xaf2),'hour12':![]};if(_0x169769===_0x718991(0xc87)){if(_0x49ab8a[_0x718991(0x396)])_0x9dd0e3+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x49ab8a[_0x718991(0x396)])[_0x718991(0x84c)](_0x718991(0x9d2),_0x17cd1a)+_0x718991(0x602);if(_0x49ab8a['endTime'])_0x9dd0e3+=_0x718991(0xda7)+new Date(_0x49ab8a[_0x718991(0x13f)])['toLocaleString'](_0x718991(0x9d2),_0x17cd1a)+_0x718991(0x602);}let _0x9593ce='';if(_0x49ab8a[_0x718991(0xc08)]){const _0x29d49e=allQuizzes[_0x718991(0x6bf)](_0x5d3a72=>_0x5d3a72['id']===_0x49ab8a[_0x718991(0xc08)]);if(_0x29d49e){let _0x14a461,_0x5f190b;new Date(_0x49ab8a['createdAt'])<new Date(_0x29d49e[_0x718991(0x9c5)])?(_0x14a461=_0x49ab8a['id'],_0x5f190b=_0x29d49e['id']):(_0x14a461=_0x29d49e['id'],_0x5f190b=_0x49ab8a['id']),_0x9593ce+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5f190b+_0x718991(0xb35)+_0x14a461+_0x718991(0x917);}}else _0x49ab8a[_0x718991(0xbf6)]===_0x718991(0xcc6)&&(_0x9593ce+=_0x718991(0xe02)+_0x49ab8a['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x49ab8a['quizMode']===_0x718991(0xcc6)&&_0x14942d>0x0)_0x9593ce+=_0x718991(0xe02)+_0x49ab8a['id']+_0x718991(0x8e8);else!_0x49ab8a[_0x718991(0xc08)]&&_0x49ab8a[_0x718991(0xbf6)]!=='pre-test'&&_0x14942d>0x0&&(_0x9593ce+=_0x718991(0xe02)+_0x49ab8a['id']+_0x718991(0xd02));let _0x2229f7='';_0x49ab8a[_0x718991(0xc08)]?_0x2229f7=_0x718991(0x9da)+_0x49ab8a['id']+_0x718991(0xde8):_0x2229f7='<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+_0x718991(0x695);const _0x151eaa=_0x718991(0xac4)+_0x49ab8a['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x10bcfa+=_0x718991(0x403)+_0x49ab8a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x49ab8a[_0x718991(0x5cc)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x49ab8a['questions'][_0x718991(0x14c)]+_0x718991(0x6b1)+new Date(_0x49ab8a[_0x718991(0x9c5)])[_0x718991(0x84c)](_0x718991(0x9d2))+_0x718991(0x6d9)+_0x14942d+_0x718991(0x742)+_0x9dd0e3+_0x718991(0xe6b)+_0x279e33+'\x22>'+_0x5553f0+_0x718991(0xbb1)+_0x49ab8a['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+_0x718991(0x83c)+(_0x49ab8a['isStarred']?_0x718991(0x989):_0x718991(0x500))+_0x718991(0x92a)+_0x9593ce+_0x718991(0x885)+_0x151eaa+_0x718991(0x330)+_0x49ab8a['id']+_0x718991(0xd5f)+_0x49ab8a['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+_0x718991(0x2d5)+_0x49ab8a['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+_0x718991(0xd9e)+_0x49ab8a[_0x718991(0x5cc)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+_0x718991(0x826)+_0x49ab8a['id']+_0x718991(0xa46)+_0x2229f7+_0x718991(0x4d3)+_0x49ab8a['id']+_0x718991(0x8c9)+_0x49ab8a['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49ab8a['id']+_0x718991(0x2c9)+_0x49ab8a['id']+_0x718991(0xd9e)+_0x49ab8a['topic']+_0x718991(0x247)+_0x49ab8a['id']+_0x718991(0x3fb);}),_0x147aad[_0x45a338(0x568)]=_0x10bcfa,document[_0x45a338(0x6b8)](_0x45a338(0xc79))['forEach'](_0x5b69c2=>{const _0x38fc21=_0x45a338;_0x5b69c2[_0x38fc21(0xd68)]('click',()=>{const _0x44c4cd=_0x38fc21,_0x23cd5e=_0x5b69c2[_0x44c4cd(0xd34)]['quizId'];showQuizDetailView(_0x23cd5e);});});}async function handleUnpairQuiz(_0x38ee5c){const _0x254f83=_0x1b610a,_0x39cd87=allQuizzes[_0x254f83(0x6bf)](_0x3979c2=>_0x3979c2['id']===_0x38ee5c);if(!_0x39cd87||!_0x39cd87[_0x254f83(0xc08)]){showMessage(_0x254f83(0x717));return;}showConfirmation(_0x254f83(0x884),async()=>{const _0x2bf7f1=_0x254f83;try{const _0x3899f2=doc(db,_0x2bf7f1(0x407)+appId+_0x2bf7f1(0x399),_0x38ee5c),_0x39c31c=doc(db,_0x2bf7f1(0x407)+appId+_0x2bf7f1(0x399),_0x39cd87['pairedQuizId']),_0x2ccaf1=writeBatch(db);_0x2ccaf1[_0x2bf7f1(0x6e5)](_0x3899f2,{'pairedQuizId':null}),_0x2ccaf1[_0x2bf7f1(0x6e5)](_0x39c31c,{'pairedQuizId':null}),await _0x2ccaf1[_0x2bf7f1(0x394)](),showMessage(_0x2bf7f1(0x31e));}catch(_0x4ae362){console[_0x2bf7f1(0xce3)](_0x2bf7f1(0x7a7),_0x4ae362),showMessage(_0x2bf7f1(0xb9f));}});}function formatAndPrintLessonPlan(_0x150311,_0x2aca4f){const _0xe5593b=_0x1b610a,_0x2ce8b2=window[_0xe5593b(0x7d1)]('',_0xe5593b(0xcca)),_0x20f43d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x2aca4f['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x2aca4f[_0xe5593b(0x5cc)]+_0xe5593b(0x292)+_0x150311[_0xe5593b(0xc1a)][_0xe5593b(0x4cb)](_0x117381=>_0xe5593b(0xbd0)+_0x117381+_0xe5593b(0x376))[_0xe5593b(0x656)]('')+_0xe5593b(0xc2b)+_0x150311[_0xe5593b(0x3cb)]+_0xe5593b(0x6ff)+_0x150311[_0xe5593b(0x64e)][_0xe5593b(0x4cb)](_0x4195ee=>_0xe5593b(0xbd4)+_0x4195ee[_0xe5593b(0x824)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x4195ee[_0xe5593b(0x320)]+_0xe5593b(0x43c))[_0xe5593b(0x656)]('')+_0xe5593b(0x9c6);_0x2ce8b2[_0xe5593b(0x6ef)][_0xe5593b(0xb5b)](_0x20f43d),_0x2ce8b2['document'][_0xe5593b(0x9d5)](),_0x2ce8b2[_0xe5593b(0x92e)]=function(){setTimeout(()=>{const _0x3cf17c=_0x6978;_0x2ce8b2[_0x3cf17c(0xcfd)]();},0x3e8);};}async function handleAiFixFormula(_0x2a8873){const _0x3a4fad=_0x1b610a,_0x480088=document[_0x3a4fad(0x2b0)](_0x3a4fad(0xcfb)+_0x2a8873+'\x22]');if(!_0x480088)return;const _0x201d2f=_0x480088[_0x3a4fad(0xd34)][_0x3a4fad(0x9e4)],_0x3bf085=_0x480088[_0x3a4fad(0x2b0)]('.ai-fix-formula-btn');let _0x31ecbe={'question':_0x480088[_0x3a4fad(0x2b0)](_0x3a4fad(0x35d))['value']};switch(_0x201d2f){case _0x3a4fad(0x24a):_0x31ecbe['options']=Array[_0x3a4fad(0x52e)](_0x480088[_0x3a4fad(0x6b8)]('input[type=\x22text\x22]'))['map'](_0x281b34=>_0x281b34[_0x3a4fad(0x61e)]);break;case _0x3a4fad(0x312):case _0x3a4fad(0x815):_0x31ecbe[_0x3a4fad(0xc37)]=_0x480088[_0x3a4fad(0x2b0)](_0x3a4fad(0x715))[_0x3a4fad(0x61e)];break;case _0x3a4fad(0x3e6):_0x31ecbe[_0x3a4fad(0x11c)]=_0x480088[_0x3a4fad(0x2b0)]('.correct-response-input')['value'];break;}_0x3bf085[_0x3a4fad(0x568)]=_0x3a4fad(0x13d),_0x3bf085['disabled']=!![];try{const _0xd9bdbd=_0x3a4fad(0x69b)+JSON[_0x3a4fad(0xb0c)](_0x31ecbe)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x6f8397={'type':'OBJECT','properties':{'fixedData':{'type':_0x3a4fad(0x6da),'properties':{'question':{'type':_0x3a4fad(0x6a7)},'options':{'type':_0x3a4fad(0x7b8),'items':{'type':_0x3a4fad(0x6a7)}},'idealAnswer':{'type':_0x3a4fad(0x6a7)},'correctResponse':{'type':_0x3a4fad(0x6a7)}},'required':[_0x3a4fad(0x824)]}},'required':[_0x3a4fad(0x332)]},_0x4b77b7=await callAnalysisApi(_0xd9bdbd,_0x6f8397);if(_0x4b77b7&&_0x4b77b7[_0x3a4fad(0x332)]){const _0x35cd9b=_0x4b77b7[_0x3a4fad(0x332)];_0x480088[_0x3a4fad(0x2b0)](_0x3a4fad(0x35d))[_0x3a4fad(0x61e)]=_0x35cd9b[_0x3a4fad(0x824)]||_0x31ecbe[_0x3a4fad(0x824)];switch(_0x201d2f){case'multiple_choice':_0x35cd9b[_0x3a4fad(0x487)]&&_0x35cd9b[_0x3a4fad(0x487)]['length']>0x0&&_0x480088[_0x3a4fad(0x6b8)](_0x3a4fad(0x11a))[_0x3a4fad(0xacf)]((_0x3f04e2,_0xbf13c0)=>{const _0x4ba065=_0x3a4fad;_0x3f04e2[_0x4ba065(0x61e)]=_0x35cd9b[_0x4ba065(0x487)][_0xbf13c0]||_0x31ecbe[_0x4ba065(0x487)][_0xbf13c0];});break;case _0x3a4fad(0x312):case _0x3a4fad(0x815):_0x480088[_0x3a4fad(0x2b0)](_0x3a4fad(0x715))[_0x3a4fad(0x61e)]=_0x35cd9b[_0x3a4fad(0xc37)]||_0x31ecbe[_0x3a4fad(0xc37)];break;case _0x3a4fad(0x3e6):_0x480088[_0x3a4fad(0x2b0)](_0x3a4fad(0xd1a))[_0x3a4fad(0x61e)]=_0x35cd9b[_0x3a4fad(0x11c)]||_0x31ecbe['correctResponse'];break;}showMessage(_0x3a4fad(0xdae));}else throw new Error(_0x3a4fad(0xc94));}catch(_0x19426c){console[_0x3a4fad(0xce3)](_0x3a4fad(0x4cc),_0x19426c),showMessage(_0x3a4fad(0xa93));}finally{_0x3bf085[_0x3a4fad(0x568)]=_0x3a4fad(0x8f4),_0x3bf085[_0x3a4fad(0x317)]=![];}}async function handleGenerateLessonPlan(_0x21c147){const _0x4e21d1=_0x1b610a;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x9237a6=doc(db,_0x4e21d1(0x407)+appId+_0x4e21d1(0x399),_0x21c147),_0x12e19f=await getDoc(_0x9237a6);if(!_0x12e19f['exists']())throw new Error(_0x4e21d1(0x8ee));const _0x4cefba={'id':_0x21c147,..._0x12e19f[_0x4e21d1(0x860)]()},_0x4e120e=collection(db,_0x4e21d1(0x407)+appId+_0x4e21d1(0x399),_0x21c147,_0x4e21d1(0x8f3)),_0x58afb=await getDocs(_0x4e120e),_0x2c2a53=_0x58afb[_0x4e21d1(0x654)]['map'](_0x470d3c=>_0x470d3c[_0x4e21d1(0x860)]());if(_0x2c2a53[_0x4e21d1(0x14c)]===0x0)throw new Error(_0x4e21d1(0x32d));const _0xd3cdfd=calculateItemAnalysis(_0x4cefba,_0x2c2a53)[_0x4e21d1(0xe14)],_0xbee276=calculateDistractorAnalysis(_0x4cefba,_0x2c2a53),_0x295317=_0x30986d=>{const _0x14a396=_0x4e21d1;if(!_0x30986d)return'';return _0x30986d['replace'](/\\/g,'\x5c\x5c')[_0x14a396(0xb27)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x25f035=_0x4e21d1(0xa27);_0x4cefba[_0x4e21d1(0x3c6)][_0x4e21d1(0xacf)]((_0x26152d,_0x567534)=>{const _0x2554c2=_0x4e21d1,_0x8b6298=_0xd3cdfd[_0x567534]?.['p']['toFixed'](0x2)||_0x2554c2(0xb7b),_0x589c4c=_0xd3cdfd[_0x567534]?.['r'][_0x2554c2(0x84f)](0x2)||_0x2554c2(0xb7b),_0x3f93a9=_0x295317(_0x26152d['questionText']||_0x26152d[_0x2554c2(0xc35)]);_0x25f035+=_0x2554c2(0xd8f)+(_0x567534+0x1)+_0x2554c2(0x612)+_0x8b6298+_0x2554c2(0x34e)+_0x589c4c+_0x2554c2(0x814)+_0x3f93a9+'\x5cn';if(_0x26152d['questionType']==='multiple_choice'&&_0xbee276[_0x567534]){const _0x421c95=_0xbee276[_0x567534],_0x130ccb=Object[_0x2554c2(0x770)](_0x421c95)['filter'](_0x51677e=>parseInt(_0x51677e)!==_0x26152d[_0x2554c2(0x26c)])[_0x2554c2(0x528)]((_0x278047,_0x2a988d)=>_0x421c95[_0x2a988d][_0x2554c2(0x843)]-_0x421c95[_0x278047][_0x2554c2(0x843)])[0x0];if(_0x130ccb&&_0x421c95[_0x130ccb][_0x2554c2(0x843)]>0x0){const _0x4fe304=_0x295317(_0x421c95[_0x130ccb][_0x2554c2(0x9f6)]);_0x25f035+=_0x2554c2(0xded)+_0x4fe304+_0x2554c2(0xe69);}}});const _0x29faff=_0x4e21d1(0x49a)+_0x4cefba[_0x4e21d1(0x5cc)]+_0x4e21d1(0x1c3)+_0x25f035+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2720ec={'type':'OBJECT','properties':{'learningGaps':{'type':_0x4e21d1(0x7b8),'items':{'type':_0x4e21d1(0x6a7)}},'teachingContent':{'type':_0x4e21d1(0x6a7)},'practiceProblems':{'type':_0x4e21d1(0x7b8),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':_0x4e21d1(0x6a7)}}}}},'required':['learningGaps',_0x4e21d1(0x3cb),_0x4e21d1(0x64e)]},_0x2211d8=await callAnalysisApi(_0x29faff,_0x2720ec);await updateDoc(_0x9237a6,{'lessonPlan':_0x2211d8});const _0x578de3=_0x4e21d1(0xc8a)+_0x4cefba[_0x4e21d1(0x5cc)]+_0x4e21d1(0x76f)+_0x2211d8[_0x4e21d1(0xc1a)][_0x4e21d1(0x4cb)](_0x59280f=>'<li>'+_0x59280f+'</li>')[_0x4e21d1(0x656)]('')+_0x4e21d1(0xa3f)+_0x2211d8['teachingContent']+_0x4e21d1(0xdc5)+_0x2211d8[_0x4e21d1(0x64e)][_0x4e21d1(0x4cb)](_0x12f49d=>_0x4e21d1(0x7c0)+_0x12f49d[_0x4e21d1(0x824)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x12f49d[_0x4e21d1(0x320)]+_0x4e21d1(0x1ac))[_0x4e21d1(0x656)]('')+_0x4e21d1(0xd5e);document[_0x4e21d1(0x8a9)](_0x4e21d1(0x644))[_0x4e21d1(0xab8)]='แผนการสอน:\x20'+_0x4cefba['topic'],document[_0x4e21d1(0x8a9)](_0x4e21d1(0xc8f))[_0x4e21d1(0x568)]=_0x578de3,document[_0x4e21d1(0x8a9)]('lesson-plan-modal')[_0x4e21d1(0xb12)][_0x4e21d1(0x1e9)]('hidden');if(window['MathJax'])MathJax[_0x4e21d1(0x4a5)]();messageModal['classList']['add'](_0x4e21d1(0x9cf));}catch(_0x1f9f59){console[_0x4e21d1(0xce3)](_0x4e21d1(0x50f),_0x1f9f59),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1f9f59[_0x4e21d1(0xba0)]);}}async function handleDuplicateQuiz(_0x547a43){const _0x3dcfdd=_0x1b610a;try{const _0x529988=doc(db,_0x3dcfdd(0x407)+appId+_0x3dcfdd(0x399),_0x547a43),_0x41a36b=await getDoc(_0x529988);if(_0x41a36b['exists']()){const _0x1009c9=_0x41a36b[_0x3dcfdd(0x860)]();let _0x2d234a='',_0x415677=_0x3dcfdd(0x856),_0x5cdb3a=null;if(_0x1009c9[_0x3dcfdd(0xbf6)]===_0x3dcfdd(0xcc6)){let _0xa66e7a=_0x1009c9[_0x3dcfdd(0x5cc)][_0x3dcfdd(0xb27)](_0x3dcfdd(0x14a),'')[_0x3dcfdd(0x937)]();_0x2d234a='(หลังเรียน)\x20'+_0xa66e7a,_0x415677=_0x3dcfdd(0xe30),_0x5cdb3a=_0x547a43;}else _0x2d234a=_0x3dcfdd(0x22c)+_0x1009c9[_0x3dcfdd(0x5cc)];const _0x335633={..._0x1009c9,'topic':_0x2d234a,'createdAt':new Date()[_0x3dcfdd(0x3f0)](),'quizMode':_0x415677,'pairedQuizId':_0x5cdb3a};let _0x2bf5eb;while(!![]){_0x2bf5eb=Math[_0x3dcfdd(0x85e)](0x3e8+Math[_0x3dcfdd(0xa73)]()*0x2328)[_0x3dcfdd(0x91c)]();const _0x8a79b5=await getDoc(doc(db,_0x3dcfdd(0x407)+appId+'/public/data/quizzes',_0x2bf5eb));if(!_0x8a79b5[_0x3dcfdd(0xa90)]())break;}const _0x914926=doc(db,_0x3dcfdd(0x407)+appId+_0x3dcfdd(0x399),_0x2bf5eb);await setDoc(_0x914926,_0x335633),_0x335633[_0x3dcfdd(0xbf6)]===_0x3dcfdd(0xe30)&&await updateDoc(_0x529988,{'pairedQuizId':_0x2bf5eb}),showMessage(_0x3dcfdd(0x75c));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x5ddd25){console[_0x3dcfdd(0xce3)](_0x3dcfdd(0x3ac),_0x5ddd25),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x32ac0b,_0xbd3ae9=!![]){const _0x8b017=_0x1b610a;try{const _0x39bb5f=writeBatch(db),_0x31c132=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x32ac0b+_0x8b017(0x8b6)),_0x4e7ec6=await getDocs(_0x31c132);_0x4e7ec6[_0x8b017(0xacf)](_0x33bb0d=>{const _0x33dbfc=_0x8b017;_0x39bb5f[_0x33dbfc(0x5f7)](doc(_0x31c132,_0x33bb0d['id']));});const _0x3fe373=doc(db,'artifacts/'+appId+_0x8b017(0x399),_0x32ac0b);_0x39bb5f[_0x8b017(0x5f7)](_0x3fe373),await _0x39bb5f[_0x8b017(0x394)]();try{console[_0x8b017(0xd62)](_0x8b017(0x95f)+_0x32ac0b+_0x8b017(0xbb0));const _0x1b8739=collection(db,_0x8b017(0x407)+appId+_0x8b017(0x5b8)),_0xde1b70=await getDocs(_0x1b8739),_0x2799c4=[];_0xde1b70[_0x8b017(0xacf)](_0x453694=>{const _0x2e2851=_0x8b017,_0xe6d1ce=_0x453694[_0x2e2851(0x860)](),_0x2da961=_0xe6d1ce[_0x2e2851(0xc57)]||{};let _0xd681ae=![];for(const _0x2ea045 in _0x2da961){const _0x227ed2=_0x2da961[_0x2ea045];if(_0x227ed2['linkedQuizIds']&&_0x227ed2[_0x2e2851(0x541)][_0x2e2851(0x55e)](_0x32ac0b)){_0xd681ae=!![];const _0x400428=doc(db,_0x2e2851(0x407)+appId+'/public/data/blueprintProjects',_0x453694['id']),_0xb8ef55=updateDoc(_0x400428,{['topics.'+_0x2ea045+_0x2e2851(0x7d7)]:arrayRemove(_0x32ac0b)});_0x2799c4[_0x2e2851(0x6fd)](_0xb8ef55);}}}),_0x2799c4[_0x8b017(0x14c)]>0x0&&(await Promise['all'](_0x2799c4),console['log']('Successfully\x20removed\x20'+_0x2799c4[_0x8b017(0x14c)]+_0x8b017(0x28f)+_0x32ac0b+'.'));}catch(_0x8a343){console[_0x8b017(0xce3)](_0x8b017(0x9c2),_0x8a343);}_0xbd3ae9&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x481bdc){console[_0x8b017(0xce3)](_0x8b017(0x544),_0x481bdc),_0xbd3ae9&&showMessage(_0x8b017(0x60e));}}async function showQuizDetailView(_0x2876dc){const _0x2268f9=_0x1b610a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x2404f5=doc(db,_0x2268f9(0x407)+appId+'/public/data/quizzes',_0x2876dc),_0x34b8d5=await getDoc(_0x2404f5);if(!_0x34b8d5[_0x2268f9(0xa90)]()){showMessage(_0x2268f9(0x8ee));return;}const _0x1ab050={'id':_0x34b8d5['id'],..._0x34b8d5[_0x2268f9(0x860)]()};currentQuizData=_0x1ab050;const _0x2bfc63=doc(db,_0x2268f9(0x407)+appId+_0x2268f9(0x622),_0x1ab050[_0x2268f9(0xccc)]),_0x183b66=await getDoc(_0x2bfc63);_0x183b66[_0x2268f9(0xa90)]()?(currentProjectData=_0x183b66[_0x2268f9(0x860)](),currentProjectId=_0x1ab050['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x1ab050[_0x2268f9(0xccc)]);document[_0x2268f9(0x8a9)](_0x2268f9(0x2bc))[_0x2268f9(0xab8)]=_0x1ab050[_0x2268f9(0x5cc)],document[_0x2268f9(0x8a9)](_0x2268f9(0x85b))['textContent']=_0x2876dc;const _0x1c1707=collection(db,_0x2268f9(0x407)+appId+'/public/data/quizzes',_0x2876dc,_0x2268f9(0x8f3));unsubscribeSubmissionsListener=onSnapshot(_0x1c1707,_0x4d1a00=>{const _0x13fa2b=_0x2268f9,_0x5b9cff=_0x4d1a00['docs'][_0x13fa2b(0x4cb)](_0x4b2add=>({'id':_0x4b2add['id'],..._0x4b2add[_0x13fa2b(0x860)]()}));currentSubmissions=_0x5b9cff;const _0x56ac4b=_0x5b9cff[_0x13fa2b(0x58f)](_0xbd81ed=>_0xbd81ed[_0x13fa2b(0x289)]&&_0xbd81ed[_0x13fa2b(0x289)][_0x13fa2b(0x14c)]>0x0);renderBehaviorLog(_0x5b9cff),renderAnswerGrid(currentProjectData[_0x13fa2b(0x3a4)],_0x56ac4b,_0x1ab050),renderAnalytics(_0x1ab050,_0x56ac4b),renderQuizResultsTable(currentProjectData['students'],_0x5b9cff,_0x1ab050),renderQuizLeaderboard(_0x56ac4b,_0x1ab050,_0x13fa2b(0xb77));}),showView(_0x2268f9(0xb1a));}catch(_0x23d297){console[_0x2268f9(0xce3)](_0x2268f9(0x7f5),_0x23d297),showMessage(_0x2268f9(0x5b9));}}function renderAnswerGrid(_0x40fcb2,_0x1dee87,_0x313c75){const _0x1babe5=_0x1b610a,_0x1b9899=document[_0x1babe5(0x8a9)](_0x1babe5(0x172));if(!_0x1b9899)return;if(!_0x40fcb2||_0x40fcb2[_0x1babe5(0x14c)]===0x0){_0x1b9899['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x581868=_0x313c75[_0x1babe5(0x3c6)],_0x158562=_0x1dee87[_0x1babe5(0x817)]((_0x51ad56,_0xeb2170)=>{const _0x56f015=_0x1babe5;return _0x51ad56[_0xeb2170[_0x56f015(0x311)]]=_0xeb2170,_0x51ad56;},{}),_0x555734=_0x2c82d2=>String['fromCharCode'](0x41+_0x2c82d2),_0x20e8e0=_0x326b03=>{const _0x491e8f=_0x1babe5,_0x503b86=_0x326b03[_0x491e8f(0xa9f)]||_0x313c75[_0x491e8f(0xcb6)];switch(_0x503b86){case _0x491e8f(0x24a):return _0x326b03[_0x491e8f(0x487)]&&_0x326b03['options']['length']>_0x326b03['correctAnswerIndex']?_0x555734(_0x326b03[_0x491e8f(0x26c)]):'-';case _0x491e8f(0x8fb):const _0x1d864f=_0x326b03[_0x491e8f(0xad3)]===!![]||String(_0x326b03[_0x491e8f(0xad3)])[_0x491e8f(0x8dd)]()===_0x491e8f(0xd57);return _0x1d864f?_0x491e8f(0x572):'ไม่ใช่';case _0x491e8f(0x3e6):return _0x326b03[_0x491e8f(0x11c)]||'-';case _0x491e8f(0x815):return _0x491e8f(0x245);default:return'-';}},_0x3de41f=(_0x5b8356,_0x2496c9)=>{const _0x1a2f21=_0x1babe5;if(_0x2496c9[_0x1a2f21(0x20c)]===null||_0x2496c9[_0x1a2f21(0x20c)]===undefined)return'-';const _0x5dc78e=_0x5b8356[_0x1a2f21(0xa9f)]||_0x313c75['quizType'];switch(_0x5dc78e){case _0x1a2f21(0x24a):const _0xb0075b=_0x5b8356['options'][_0x1a2f21(0xcf6)](_0x57ea77=>_0x57ea77===_0x2496c9[_0x1a2f21(0xb31)]);return _0xb0075b!==-0x1?_0x555734(_0xb0075b):_0x2496c9[_0x1a2f21(0xb31)]||'-';case _0x1a2f21(0x8fb):if(_0x2496c9['answer']=='0'||_0x2496c9['answer']===!![]||_0x2496c9[_0x1a2f21(0x20c)]==='true')return _0x1a2f21(0x572);return _0x1a2f21(0x486);default:return _0x2496c9['answer'];}};let _0x25cddc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x581868[_0x1babe5(0x4cb)]((_0x3168c3,_0x23aa1c)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x23aa1c+0x1)+_0x1babe5(0x83b))[_0x1babe5(0x656)]('')+_0x1babe5(0x18f)+_0x581868[_0x1babe5(0x4cb)](_0x1f5a06=>_0x1babe5(0x662)+_0x20e8e0(_0x1f5a06)+'</td>')[_0x1babe5(0x656)]('')+_0x1babe5(0xc5b);_0x40fcb2['forEach'](_0x7880dd=>{const _0x436b1a=_0x1babe5;_0x25cddc+=_0x436b1a(0x8da),_0x25cddc+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x7880dd+'</td>';const _0xc18208=_0x158562[_0x7880dd];if(_0xc18208){const _0x311823=_0xc18208['attempts'][_0xc18208[_0x436b1a(0x289)][_0x436b1a(0x14c)]-0x1];_0x581868[_0x436b1a(0xacf)]((_0x278ad8,_0x41bdbe)=>{const _0x585176=_0x436b1a,_0x17e54f=_0x311823[_0x585176(0x772)][_0x585176(0x6bf)](_0x87711d=>_0x87711d['questionId']===_0x278ad8['id']);if(_0x17e54f){let _0x428a31='';const _0x226768=_0x17e54f[_0x585176(0xe63)]===!![],_0x111e6f=_0x17e54f['wasConfident']===!![]||_0x17e54f['wasConfident']===_0x585176(0x2a7),_0x1faad6=_0x17e54f[_0x585176(0x8a8)];if(_0x1faad6===_0x585176(0x8c8))_0x226768?_0x428a31=_0x585176(0xc65):_0x428a31=_0x585176(0xc6f);else _0x111e6f?_0x428a31=_0x226768?'bg-green-400\x20text-white\x20font-bold':_0x585176(0x14f):_0x428a31=_0x226768?_0x585176(0x4b3):_0x585176(0xd6a);_0x25cddc+=_0x585176(0x938)+_0x428a31+'\x22>'+_0x3de41f(_0x278ad8,_0x17e54f)+_0x585176(0x759);}else _0x25cddc+=_0x585176(0x756);});}else _0x25cddc+=_0x581868[_0x436b1a(0x4cb)](()=>_0x436b1a(0x626))['join']('');_0x25cddc+=_0x436b1a(0x171);}),_0x25cddc+=_0x1babe5(0xa98),_0x1b9899['innerHTML']=_0x25cddc;}function renderQuizResultsTable(_0x5a7c2d,_0x5d8ffb,_0x37bc37){const _0x87700a=_0x1b610a,_0x470b83=_0x5d8ffb['reduce']((_0x5e537d,_0x1d5015)=>{const _0x2dbe48=_0x6978;return _0x5e537d[_0x1d5015[_0x2dbe48(0x311)]]=_0x1d5015,_0x5e537d;},{}),_0x40fbde=document[_0x87700a(0x2b0)](_0x87700a(0x727));_0x40fbde&&!_0x40fbde['innerHTML'][_0x87700a(0x55e)]('จัดการ')&&(_0x40fbde['innerHTML']+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x2a82e0=document[_0x87700a(0x8a9)](_0x87700a(0xcba));if(!_0x5a7c2d||_0x5a7c2d[_0x87700a(0x14c)]===0x0){_0x2a82e0[_0x87700a(0x568)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x542559=_0x37bc37[_0x87700a(0x99a)]===!![],_0x20488e=_0x37bc37[_0x87700a(0x43d)]?.[_0x87700a(0x253)]??-0x1;let _0x324917='';_0x5a7c2d[_0x87700a(0xacf)](_0x23584d=>{const _0x5ed9cb=_0x87700a,_0x1c9d49=_0x470b83[_0x23584d];let _0x1c841a=_0x5ed9cb(0xaf3)+(_0x542559?_0x5ed9cb(0xa85):_0x5ed9cb(0x205))+'\x22>'+(_0x542559?'สอบซ่อม':'สอบปกติ')+_0x5ed9cb(0x555);if(_0x1c9d49){if(_0x1c9d49['attempts']&&_0x1c9d49['attempts']['length']>0x0){let _0x17be91=_0x542559?_0x1c9d49['bestScore']===_0x1c9d49[_0x5ed9cb(0x4f7)]:_0x20488e!==-0x1&&_0x1c9d49[_0x5ed9cb(0x5db)]>=_0x20488e;const _0x4287c3=_0x17be91?_0x5ed9cb(0x4b3):_0x5ed9cb(0xd6a),_0x1e3fd9=_0x17be91?_0x5ed9cb(0xb04):_0x5ed9cb(0x6c9),_0x518645=_0x5ed9cb(0x690)+_0x4287c3+'\x22>'+_0x1e3fd9+_0x5ed9cb(0x555),_0x518968='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x1c9d49['attempts']?.[_0x5ed9cb(0x14c)]||0x1)+_0x5ed9cb(0x128),_0xe085df=_0x5ed9cb(0x3ef)+(_0x1c9d49['points']||0x0)['toLocaleString']()+_0x5ed9cb(0xc6d)+_0x23584d+_0x5ed9cb(0xb75)+(_0x1c9d49[_0x5ed9cb(0xa28)]||0x0)+_0x5ed9cb(0xc85);_0x324917+=_0x5ed9cb(0x4d9)+_0x23584d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x1c9d49[_0x5ed9cb(0x5db)]+_0x5ed9cb(0x2e6)+_0x1c9d49[_0x5ed9cb(0x4f7)]+_0x5ed9cb(0x65b)+_0x518645+_0x5ed9cb(0xd94)+_0x1c841a+_0x5ed9cb(0xbb8)+_0x1c9d49[_0x5ed9cb(0x841)]+'\x20/\x20'+_0x1c9d49[_0x5ed9cb(0x4f7)]+_0x5ed9cb(0xd53)+_0x1c9d49[_0x5ed9cb(0xcbd)]+'\x20/\x20'+_0x1c9d49[_0x5ed9cb(0x4f7)]+_0x5ed9cb(0x85f)+_0xe085df+_0x5ed9cb(0x65b)+_0x518968+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1c9d49['latestSubmittedAt'])['toLocaleString'](_0x5ed9cb(0x9d2))+_0x5ed9cb(0x9bb)+_0x23584d+_0x5ed9cb(0xc7a);}else{const _0x3ccb75=_0x5ed9cb(0x72c);_0x324917+=_0x5ed9cb(0x4e3)+_0x23584d+_0x5ed9cb(0x25f)+_0x1c841a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ccb75+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1c9d49[_0x5ed9cb(0xd24)])[_0x5ed9cb(0x84c)](_0x5ed9cb(0x9d2))+_0x5ed9cb(0x3a3)+_0x23584d+_0x5ed9cb(0xc7a);}}else{const _0x567f74=_0x5ed9cb(0xa33);_0x324917+=_0x5ed9cb(0x92f)+_0x23584d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c841a+_0x5ed9cb(0xbc0)+_0x567f74+_0x5ed9cb(0xa6e);}}),_0x2a82e0[_0x87700a(0x568)]=_0x324917;}async function confirmRenameQuiz(){const _0x2dfaaa=_0x1b610a,_0x4d9206=document['getElementById'](_0x2dfaaa(0x294))[_0x2dfaaa(0x61e)][_0x2dfaaa(0x937)]();if(!_0x4d9206){showMessage(_0x2dfaaa(0x328));return;}if(!actionTargetId)return;const _0x3e8c1d=doc(db,_0x2dfaaa(0x407)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3e8c1d,{'topic':_0x4d9206}),showMessage(_0x2dfaaa(0x999)),renameQuizModal[_0x2dfaaa(0xb12)]['add'](_0x2dfaaa(0x9cf)),actionTargetId=null;}catch(_0x3a15cc){console[_0x2dfaaa(0xce3)](_0x2dfaaa(0xda6),_0x3a15cc),showMessage(_0x2dfaaa(0xcfa));}}async function handleMoveQuiz(_0x546fa8){const _0x3b52b1=_0x1b610a;actionTargetId=_0x546fa8;const _0x3f4243=document[_0x3b52b1(0x8a9)](_0x3b52b1(0x202));_0x3f4243['innerHTML']=_0x3b52b1(0x139),moveQuizModal[_0x3b52b1(0xb12)][_0x3b52b1(0x1e9)](_0x3b52b1(0x9cf));try{const _0x39083a=collection(db,'artifacts/'+appId+_0x3b52b1(0x622)),_0x5d8a4d=await getDocs(_0x39083a),_0x418467=_0x5d8a4d[_0x3b52b1(0x654)][_0x3b52b1(0x4cb)](_0x488074=>({'id':_0x488074['id'],..._0x488074[_0x3b52b1(0x860)]()})),_0x1fd461=_0x418467[_0x3b52b1(0x58f)](_0x29f388=>_0x29f388['id']!==currentProjectId);if(_0x1fd461[_0x3b52b1(0x14c)]===0x0){_0x3f4243['innerHTML']=_0x3b52b1(0xe2f),document['getElementById'](_0x3b52b1(0x145))['disabled']=!![];return;}_0x3f4243[_0x3b52b1(0x568)]=_0x1fd461['map'](_0x1ccdc0=>_0x3b52b1(0x15f)+_0x1ccdc0['id']+'\x22>'+_0x1ccdc0[_0x3b52b1(0x252)]+'</option>')[_0x3b52b1(0x656)](''),document[_0x3b52b1(0x8a9)](_0x3b52b1(0x145))['disabled']=![];}catch(_0x349851){console[_0x3b52b1(0xce3)]('Error\x20fetching\x20projects\x20for\x20move:',_0x349851),showMessage(_0x3b52b1(0x798)),moveQuizModal['classList']['add'](_0x3b52b1(0x9cf));}}async function confirmMoveQuiz(){const _0xacf6d7=_0x1b610a,_0x54373f=document[_0xacf6d7(0x8a9)](_0xacf6d7(0x202))[_0xacf6d7(0x61e)];if(!_0x54373f){showMessage(_0xacf6d7(0xbde));return;}if(!actionTargetId)return;const _0x2a25fe=doc(db,_0xacf6d7(0x407)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x2a25fe,{'projectId':_0x54373f}),showMessage(_0xacf6d7(0x5b2)),moveQuizModal[_0xacf6d7(0xb12)][_0xacf6d7(0x786)]('hidden'),actionTargetId=null;}catch(_0x5bc6e1){console[_0xacf6d7(0xce3)](_0xacf6d7(0x47e),_0x5bc6e1),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x388d03){const _0x2bad5f=_0x1b610a;actionTargetId=_0x388d03;const _0x2808c0=doc(db,_0x2bad5f(0x407)+appId+_0x2bad5f(0x399),_0x388d03);try{const _0x3cafde=await getDoc(_0x2808c0);if(_0x3cafde[_0x2bad5f(0xa90)]()){const _0x17744d=_0x3cafde[_0x2bad5f(0x860)](),_0x23be73=_0x17744d[_0x2bad5f(0x43d)]||{},_0xfd1674=_0x17744d[_0x2bad5f(0x3c6)][_0x2bad5f(0x14c)];document['getElementById'](_0x2bad5f(0x928))['value']=_0x23be73[_0x2bad5f(0xb73)]||_0x2bad5f(0x436),document[_0x2bad5f(0x8a9)](_0x2bad5f(0xab9))[_0x2bad5f(0x61e)]=_0x23be73['resultsDisplay']||_0x2bad5f(0xc1e),document[_0x2bad5f(0x8a9)]('modal-timer-mode-select')['value']=_0x23be73[_0x2bad5f(0x214)]||_0x2bad5f(0x436),document[_0x2bad5f(0x8a9)]('modal-timer-duration-input')[_0x2bad5f(0x61e)]=_0x23be73[_0x2bad5f(0x60d)]||0xa,document[_0x2bad5f(0x8a9)](_0x2bad5f(0x793))[_0x2bad5f(0x61e)]=_0x23be73[_0x2bad5f(0x253)]||Math['floor'](_0xfd1674/0x2),document[_0x2bad5f(0x8a9)]('modal-passing-score-input')[_0x2bad5f(0xb5e)]=_0xfd1674,document[_0x2bad5f(0x8a9)](_0x2bad5f(0xc2c))[_0x2bad5f(0xaa0)]=_0x23be73[_0x2bad5f(0x159)]||![],document[_0x2bad5f(0x8a9)](_0x2bad5f(0xe2a))['checked']=_0x23be73[_0x2bad5f(0x87a)]||![];const _0x3c2697=_0x23be73['isConfidenceScoringEnabled']||![];document[_0x2bad5f(0x8a9)](_0x2bad5f(0xd8d))[_0x2bad5f(0xaa0)]=_0x3c2697,document[_0x2bad5f(0x8a9)]('modal-confidence-mode-select')[_0x2bad5f(0x61e)]=_0x23be73[_0x2bad5f(0x3ae)]||_0x2bad5f(0x1a5);const _0x5b8d44=document['getElementById']('modal-confidence-mode-container');_0x5b8d44[_0x2bad5f(0xb12)]['toggle'](_0x2bad5f(0x9cf),!_0x3c2697),document[_0x2bad5f(0x8a9)](_0x2bad5f(0x822))[_0x2bad5f(0x74f)](new Event(_0x2bad5f(0x39f))),quizSettingsModal[_0x2bad5f(0xb12)][_0x2bad5f(0x1e9)]('hidden');}else showMessage(_0x2bad5f(0x8ee));}catch(_0x1a8fe1){console['error'](_0x2bad5f(0x9ef),_0x1a8fe1),showMessage(_0x2bad5f(0x7b3));}}async function confirmQuizSettings(){const _0x55bf61=_0x1b610a;if(!actionTargetId)return;const _0x5bd197=doc(db,_0x55bf61(0x407)+appId+'/public/data/quizzes',actionTargetId),_0x3f99f0={'shuffle':document[_0x55bf61(0x8a9)](_0x55bf61(0x928))[_0x55bf61(0x61e)],'resultsDisplay':document['getElementById'](_0x55bf61(0xab9))['value'],'timerMode':document['getElementById'](_0x55bf61(0x822))[_0x55bf61(0x61e)],'timerDuration':parseInt(document[_0x55bf61(0x8a9)](_0x55bf61(0xdd6))[_0x55bf61(0x61e)])||0xa,'passingScore':parseInt(document['getElementById'](_0x55bf61(0x793))[_0x55bf61(0x61e)])||0x0,'isAdaptive':document['getElementById'](_0x55bf61(0xc2c))[_0x55bf61(0xaa0)],'loopUntilPass':document[_0x55bf61(0x8a9)](_0x55bf61(0xe2a))[_0x55bf61(0xaa0)],'isConfidenceScoringEnabled':document['getElementById'](_0x55bf61(0xd8d))[_0x55bf61(0xaa0)],'confidenceMode':document['getElementById'](_0x55bf61(0x3a7))[_0x55bf61(0x61e)]};try{await updateDoc(_0x5bd197,{'settings':_0x3f99f0}),showMessage(_0x55bf61(0xb67)),quizSettingsModal['classList'][_0x55bf61(0x786)](_0x55bf61(0x9cf)),actionTargetId=null;}catch(_0x4dbb9d){console[_0x55bf61(0xce3)](_0x55bf61(0x291),_0x4dbb9d),showMessage(_0x55bf61(0x240));}}async function confirmQuizStatus(){const _0x2ffbfc=_0x1b610a;if(!actionTargetId)return;const _0x468f31=doc(db,_0x2ffbfc(0x407)+appId+_0x2ffbfc(0x399),actionTargetId),_0x2c5c91=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x2c5c91){showMessage(_0x2ffbfc(0x59d));return;}const _0xf4b242=_0x2c5c91[_0x2ffbfc(0x61e)];let _0x3537e9={};if(_0xf4b242===_0x2ffbfc(0x6bc)||_0xf4b242===_0x2ffbfc(0xd60))_0x3537e9={'status':_0xf4b242,'startTime':null,'endTime':null};else{if(_0xf4b242===_0x2ffbfc(0x81d)){const _0x8af230=document[_0x2ffbfc(0x8a9)](_0x2ffbfc(0x9d6))[_0x2ffbfc(0x61e)],_0xf64240=document[_0x2ffbfc(0x8a9)](_0x2ffbfc(0x886))[_0x2ffbfc(0x61e)];if(!_0x8af230&&!_0xf64240){showMessage(_0x2ffbfc(0x37c));return;}_0x3537e9={'status':_0x2ffbfc(0xc87),'startTime':_0x8af230?new Date(_0x8af230)[_0x2ffbfc(0x3f0)]():null,'endTime':_0xf64240?new Date(_0xf64240)['toISOString']():null};}}try{await updateDoc(_0x468f31,_0x3537e9),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x2ffbfc(0xb12)][_0x2ffbfc(0x786)](_0x2ffbfc(0x9cf)),actionTargetId=null;}catch(_0x4ed6bf){console[_0x2ffbfc(0xce3)](_0x2ffbfc(0x640),_0x4ed6bf),showMessage(_0x2ffbfc(0xa04));}}function listenForStudentProfiles(_0x28c8f3){const _0x419f35=_0x1b610a,_0x4e410d=collection(db,'artifacts/'+appId+_0x419f35(0x785)+_0x28c8f3+_0x419f35(0x50b));unsubscribeStudentProfilesListener=onSnapshot(_0x4e410d,_0x3a8969=>{const _0x2e87e2=_0x419f35,_0x5a9d0c=_0x3a8969[_0x2e87e2(0x654)][_0x2e87e2(0x4cb)](_0x69058c=>_0x69058c['data']());renderLeaderboard(_0x5a9d0c,_0x2e87e2(0x54b));},_0x57c35f=>{const _0x54b09d=_0x419f35;console['error'](_0x54b09d(0xa7e),_0x57c35f),document[_0x54b09d(0x8a9)](_0x54b09d(0x54b))[_0x54b09d(0x568)]=_0x54b09d(0x6cb);});}function renderLeaderboard(_0x4860d6,_0xc3724a){const _0x334532=_0x1b610a,_0x214391=document[_0x334532(0x8a9)](_0xc3724a);if(!_0x4860d6||_0x4860d6[_0x334532(0x14c)]===0x0){_0x214391[_0x334532(0x568)]=_0x334532(0x3f1);return;}_0x4860d6['sort']((_0x5c4d88,_0xf4d83a)=>{const _0x166b18=_0x334532,_0x54e8e1=(_0xf4d83a['totalPoints']||0x0)-(_0x5c4d88[_0x166b18(0x9f0)]||0x0);if(_0x54e8e1!==0x0)return _0x54e8e1;const _0x3f3be7=(_0xf4d83a['badgesCount']?.[_0x166b18(0x325)]||0x0)-(_0x5c4d88[_0x166b18(0x1a1)]?.[_0x166b18(0x325)]||0x0);if(_0x3f3be7!==0x0)return _0x3f3be7;const _0x1b1189=(_0xf4d83a[_0x166b18(0x1a1)]?.[_0x166b18(0xaae)]||0x0)-(_0x5c4d88[_0x166b18(0x1a1)]?.[_0x166b18(0xaae)]||0x0);if(_0x1b1189!==0x0)return _0x1b1189;const _0x5c59c2=(_0xf4d83a[_0x166b18(0x1a1)]?.['perfect_score']||0x0)-(_0x5c4d88[_0x166b18(0x1a1)]?.[_0x166b18(0x821)]||0x0);if(_0x5c59c2!==0x0)return _0x5c59c2;const _0x2926eb=(_0xf4d83a[_0x166b18(0x1a1)]?.[_0x166b18(0xdf6)]||0x0)-(_0x5c4d88[_0x166b18(0x1a1)]?.['quick_thinker']||0x0);if(_0x2926eb!==0x0)return _0x2926eb;return _0x5c4d88[_0x166b18(0x311)][_0x166b18(0x22f)](_0xf4d83a[_0x166b18(0x311)],'th');});let _0x33356f='';_0x4860d6['forEach']((_0x110c13,_0x97b9d)=>{const _0x1a7c4a=_0x334532,_0xe3098b=_0x97b9d+0x1,_0x19022=_0x110c13[_0x1a7c4a(0x1a1)]||{};let _0x22b134='';const _0x253d35=[_0x1a7c4a(0x325),_0x1a7c4a(0x821),'first_try_ace',_0x1a7c4a(0xdf6)];_0x253d35[_0x1a7c4a(0xacf)](_0x49668c=>{const _0x2f9c8e=_0x1a7c4a;if(_0x19022[_0x49668c]>0x0){const _0x5e21e1=Object[_0x2f9c8e(0x17f)](BADGES)[_0x2f9c8e(0x6bf)](_0x2acbc4=>_0x2acbc4['id']===_0x49668c);_0x5e21e1&&(_0x49668c===_0x2f9c8e(0x325)?_0x22b134+=_0x2f9c8e(0xd76)+_0x5e21e1[_0x2f9c8e(0x835)]+_0x2f9c8e(0x2b3)+_0x5e21e1[_0x2f9c8e(0xe7b)]+_0x2f9c8e(0x14d):_0x22b134+=_0x2f9c8e(0xd76)+_0x5e21e1[_0x2f9c8e(0x835)]+'\x20('+_0x19022[_0x49668c]+_0x2f9c8e(0x24e)+_0x5e21e1[_0x2f9c8e(0xe7b)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x19022[_0x49668c]+_0x2f9c8e(0x308));}}),_0x33356f+=_0x1a7c4a(0xd88)+_0xe3098b+_0x1a7c4a(0x85f)+_0x110c13[_0x1a7c4a(0x311)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x110c13['totalPoints']||0x0)[_0x1a7c4a(0x84c)]()+_0x1a7c4a(0x85f)+(_0x22b134||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x214391['innerHTML']=_0x33356f;}function displayLoopScreen(_0xcc588c,_0x2b3f58,_0x42d957){const _0x270c80=_0x1b610a;let _0x4f7639='';_0x42d957!==_0x270c80(0x5cf)&&(_0x4f7639=_0x270c80(0xd5a)+_0xcc588c+'\x20/\x20'+_0x2b3f58+_0x270c80(0xce8));const _0x3e7dd1=_0x270c80(0xe11)+_0x4f7639+_0x270c80(0xa51);studentResultArea[_0x270c80(0x568)]=_0x3e7dd1,studentResultArea['classList'][_0x270c80(0x1e9)](_0x270c80(0x9cf)),studentQuizArea['classList']['add']('hidden'),document[_0x270c80(0x8a9)](_0x270c80(0x55b))[_0x270c80(0xd68)](_0x270c80(0xcc3),()=>{const _0x37f280=_0x270c80;studentResultArea['classList']['add'](_0x37f280(0x9cf)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x27126d,_0x24ff2a,_0x386aee){const _0x319613=_0x1b610a,_0x40914e=document[_0x319613(0x8a9)](_0x386aee),_0x5ebce5=_0x386aee===_0x319613(0x919),_0x29bc24=_0x24ff2a[_0x319613(0x3c6)][_0x319613(0x14c)],_0x569840=document[_0x319613(0x8a9)](_0x386aee)[_0x319613(0x156)](_0x319613(0x1cd));if(_0x569840&&!_0x5ebce5){const _0x20c027=_0x569840[_0x319613(0x2b0)](_0x319613(0xe1c));_0x20c027['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x27126d||_0x27126d[_0x319613(0x14c)]===0x0){_0x40914e[_0x319613(0x568)]='<tr><td\x20colspan=\x22'+(_0x5ebce5?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0xbecb16=[..._0x27126d];_0xbecb16[_0x319613(0x528)]((_0x5c9da3,_0x19ec19)=>{const _0x186bde=_0x319613;let _0x236969,_0x24c88f;switch(quizLeaderboardSortBy){case'studentName':_0x236969=_0x5c9da3['studentName']||'',_0x24c88f=_0x19ec19['studentName']||'';return quizLeaderboardSortOrder===_0x186bde(0x68b)?_0x236969[_0x186bde(0x22f)](_0x24c88f,'th'):_0x24c88f['localeCompare'](_0x236969,'th');case'points':_0x236969=_0x5c9da3[_0x186bde(0xa28)]||0x0,_0x24c88f=_0x19ec19[_0x186bde(0xa28)]||0x0;break;case _0x186bde(0x289):_0x236969=_0x5c9da3[_0x186bde(0x289)]?.[_0x186bde(0x14c)]||0x1,_0x24c88f=_0x19ec19[_0x186bde(0x289)]?.[_0x186bde(0x14c)]||0x1;break;case _0x186bde(0x588):_0x236969=new Date(_0x5c9da3[_0x186bde(0x588)]),_0x24c88f=new Date(_0x19ec19[_0x186bde(0x588)]);break;case _0x186bde(0x5db):default:_0x236969=_0x5c9da3[_0x186bde(0x5db)],_0x24c88f=_0x19ec19[_0x186bde(0x5db)];break;}if(_0x236969<_0x24c88f)return quizLeaderboardSortOrder===_0x186bde(0x68b)?-0x1:0x1;if(_0x236969>_0x24c88f)return quizLeaderboardSortOrder===_0x186bde(0x68b)?0x1:-0x1;return 0x0;});const _0x18c42a=_0x24ff2a[_0x319613(0x99a)]===!![],_0x31c39b=_0x24ff2a['settings']?.['passingScore']??-0x1;let _0x4735ad='';_0xbecb16[_0x319613(0xacf)]((_0x112f29,_0x321b72)=>{const _0x58fcaf=_0x319613,_0x2c699c=_0x321b72+0x1;let _0x2ed42f='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x18c42a||_0x31c39b!==-0x1){let _0x48faab=_0x18c42a?_0x112f29[_0x58fcaf(0x5db)]===_0x29bc24:_0x112f29[_0x58fcaf(0x5db)]>=_0x31c39b;const _0x371403=_0x48faab?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x8003f0=_0x48faab?_0x58fcaf(0xb04):_0x58fcaf(0x6c9);_0x2ed42f=_0x58fcaf(0x87f)+_0x371403+'\x22>'+_0x8003f0+_0x58fcaf(0x555);}const _0x13f9e6=_0x112f29[_0x58fcaf(0x289)][_0x112f29[_0x58fcaf(0x289)]['length']-0x1],_0x5b0984=(_0x13f9e6['badges']||[])[_0x58fcaf(0x4cb)](_0x48d17d=>{const _0x53dd04=_0x58fcaf,_0x595676=Object[_0x53dd04(0x17f)](BADGES)[_0x53dd04(0x6bf)](_0x46f043=>_0x46f043['id']===_0x48d17d);return _0x595676?_0x53dd04(0x339)+_0x595676['name']+'\x22><i\x20class=\x22fas\x20'+_0x595676[_0x53dd04(0xe7b)]+_0x53dd04(0xcda):'';})[_0x58fcaf(0x656)]('');_0x4735ad+=_0x58fcaf(0xbf1)+_0x2c699c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x112f29[_0x58fcaf(0x311)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x112f29[_0x58fcaf(0x5db)]+'\x20/\x20'+_0x29bc24+_0x58fcaf(0x573)+_0x2ed42f+_0x58fcaf(0x660)+(_0x112f29[_0x58fcaf(0xa28)]||0x0)[_0x58fcaf(0x84c)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5ebce5?'':_0x58fcaf(0x674)+(_0x112f29[_0x58fcaf(0x289)]?.[_0x58fcaf(0x14c)]||0x1)+_0x58fcaf(0x759))+_0x58fcaf(0x898)+(_0x5ebce5?'':_0x58fcaf(0x8f5)+new Date(_0x112f29[_0x58fcaf(0x588)])[_0x58fcaf(0x84c)](_0x58fcaf(0x9d2))+_0x58fcaf(0x759))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x5b0984||'-')+_0x58fcaf(0xcbb);}),_0x40914e[_0x319613(0x568)]=_0x4735ad,_0x569840&&!_0x5ebce5&&_0x569840[_0x319613(0x6b8)]('thead\x20.sortable-header')[_0x319613(0xacf)](_0x5d6f4e=>{const _0x4f8125=_0x319613,_0x2cdc0c=_0x5d6f4e[_0x4f8125(0x2b0)](_0x4f8125(0xaa7));if(_0x2cdc0c)_0x2cdc0c[_0x4f8125(0x1e9)]();_0x5d6f4e[_0x4f8125(0xd34)][_0x4f8125(0x528)]===quizLeaderboardSortBy&&(_0x5d6f4e[_0x4f8125(0x568)]+=_0x4f8125(0x692)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x4f8125(0xbcd));});}async function handleDeleteSubmission(_0x46f7dc){const _0x3bf625=_0x1b610a;if(!currentQuizData||!currentQuizData['id']||!_0x46f7dc){showMessage(_0x3bf625(0x8f7));return;}showConfirmation(_0x3bf625(0xbdb)+_0x46f7dc+_0x3bf625(0x9a6),async()=>{const _0x37943f=_0x3bf625,_0x2a63c2=currentQuizData['id'],_0x3f76b4=doc(db,_0x37943f(0x407)+appId+_0x37943f(0x56f)+_0x2a63c2+_0x37943f(0x8b6),_0x46f7dc);try{await deleteDoc(_0x3f76b4),showMessage('ลบผลสอบของ\x20'+_0x46f7dc+_0x37943f(0x91b));}catch(_0x264d81){console[_0x37943f(0xce3)](_0x37943f(0xc72),_0x264d81),showMessage(_0x37943f(0x9e6));}});}async function handleLoadQuiz(){const _0x585a8f=_0x1b610a,_0x11a658=document['getElementById'](_0x585a8f(0x69c)),_0x202c91=_0x11a658[_0x585a8f(0x61e)][_0x585a8f(0x937)]();if(!_0x202c91){showMessage(_0x585a8f(0x9b0));return;}loadQuizBtn[_0x585a8f(0x317)]=!![],loadQuizBtn[_0x585a8f(0x568)]=_0x585a8f(0x3d0);try{const _0x54ad8b=doc(db,_0x585a8f(0x407)+appId+_0x585a8f(0x399),_0x202c91),_0x306336=await getDoc(_0x54ad8b);if(!_0x306336[_0x585a8f(0xa90)]()){showMessage(_0x585a8f(0x931));return;}currentQuizData={'id':_0x306336['id'],..._0x306336[_0x585a8f(0x860)]()};const _0x2402ab=currentQuizData[_0x585a8f(0x9fb)]||_0x585a8f(0x6bc),_0x4d7e6d=new Date();if(_0x2402ab===_0x585a8f(0xd60)){showMessage(_0x585a8f(0x149));return;}if(_0x2402ab==='scheduled'){const _0x527e9f=currentQuizData['startTime']?new Date(currentQuizData[_0x585a8f(0x396)]):null,_0x3fecaa=currentQuizData[_0x585a8f(0x13f)]?new Date(currentQuizData[_0x585a8f(0x13f)]):null;if(_0x527e9f&&_0x4d7e6d<_0x527e9f){showMessage(_0x585a8f(0x645)+_0x527e9f[_0x585a8f(0x84c)]('th-TH',{'hour12':![]}));return;}if(_0x3fecaa&&_0x4d7e6d>_0x3fecaa){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x28a913=currentQuizData[_0x585a8f(0xccc)];currentProjectId=_0x28a913;const _0xee212e=doc(db,_0x585a8f(0x407)+appId+_0x585a8f(0x622),_0x28a913),_0x335dc6=await getDoc(_0xee212e);if(!_0x335dc6['exists']()){showMessage(_0x585a8f(0x8aa));return;}const _0x5c0b0a=_0x335dc6['data']();currentStudentProjectData=_0x5c0b0a,displayStudentNameSelector(_0x5c0b0a[_0x585a8f(0x3a4)],currentQuizData['topic']);}catch(_0xad6b93){console[_0x585a8f(0xce3)](_0x585a8f(0xd03),_0xad6b93),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x585a8f(0x317)]=![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x42a849,_0x3ef056){const _0x3f01ef=_0x1b610a;if(!currentQuizData||!currentQuizData['id'])return;const _0x5bd562=currentQuizData['id'],_0x1aee8e=doc(db,_0x3f01ef(0x407)+appId+_0x3f01ef(0x56f)+_0x5bd562+_0x3f01ef(0x8b6),_0x42a849);try{const _0x2c5d61=await getDoc(_0x1aee8e);if(!_0x2c5d61['exists']())return;const _0x59dc0c=_0x2c5d61[_0x3f01ef(0x860)](),_0x52857e=_0x59dc0c[_0x3f01ef(0x289)]||[];_0x52857e[_0x3f01ef(0x14c)]>0x0&&(_0x52857e[_0x52857e['length']-0x1][_0x3f01ef(0xa28)]=_0x3ef056,_0x52857e[_0x52857e[_0x3f01ef(0x14c)]-0x1][_0x3f01ef(0x655)]=!![]),await updateDoc(_0x1aee8e,{'points':_0x3ef056,'attempts':_0x52857e}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x42a849),showMessage(_0x3f01ef(0x93e)+_0x42a849+'\x20เป็น\x20'+_0x3ef056+_0x3f01ef(0xb01));}catch(_0xf7b66){console['error'](_0x3f01ef(0x286),_0xf7b66),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x2f656b=_0x1b610a,_0x39d67c=document[_0x2f656b(0x8a9)](_0x2f656b(0x78b)),_0x47ae29=document[_0x2f656b(0x8a9)]('nickname-input'),_0x3ae4ed=document[_0x2f656b(0x8a9)](_0x2f656b(0x563)),_0x55bcba=_0x39d67c[_0x2f656b(0x61e)][_0x2f656b(0x937)](),_0x5a1133=_0x47ae29[_0x2f656b(0x61e)][_0x2f656b(0x937)]();if(!_0x55bcba||!_0x5a1133){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x3ae4ed[_0x2f656b(0x317)]=!![],_0x3ae4ed[_0x2f656b(0x568)]=_0x2f656b(0x14e);try{const _0x2682d9=collection(db,_0x2f656b(0x407)+appId+'/public/data/liveGames'),_0x4dff1d=query(_0x2682d9,where('gamePin','==',_0x55bcba),where('status','in',[_0x2f656b(0xd28),_0x2f656b(0x824)])),_0x2cfb5a=await getDocs(_0x4dff1d);if(_0x2cfb5a[_0x2f656b(0x634)]){showMessage(_0x2f656b(0x38d));return;}const _0x5b5c82=_0x2cfb5a[_0x2f656b(0x654)][0x0],_0xd19d38=_0x5b5c82['data']();currentLiveGameId=_0x5b5c82['id'];const _0x107af8=_0xd19d38[_0x2f656b(0x782)],_0x28c251=doc(db,_0x2f656b(0x407)+appId+_0x2f656b(0x399),_0x107af8),_0x3a69e9=await getDoc(_0x28c251);if(!_0x3a69e9[_0x2f656b(0xa90)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x3a69e9['id'],..._0x3a69e9['data']()};if(_0xd19d38[_0x2f656b(0x7e6)]&&_0xd19d38[_0x2f656b(0x7e6)][_0x5a1133]){const _0x5895ad=_0xd19d38[_0x2f656b(0x7e6)][_0x5a1133];if(_0x5895ad['status']===_0x2f656b(0xd60)){_0x3ae4ed[_0x2f656b(0x568)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x1916ea={};_0x1916ea[_0x2f656b(0x8b1)+_0x5a1133+_0x2f656b(0xc51)]=_0x2f656b(0x6bc),await updateDoc(doc(db,_0x2f656b(0x407)+appId+_0x2f656b(0x429),currentLiveGameId),_0x1916ea),showView('live-game'),currentStudentName=_0x5a1133,listenForLiveGameUpdates();return;}else{showMessage(_0x2f656b(0x4bf));return;}}if(_0xd19d38[_0x2f656b(0x9fb)]!=='lobby'){showMessage(_0x2f656b(0x142));return;}_0x3ae4ed[_0x2f656b(0x568)]=_0x2f656b(0x529);const _0x4605b3={};_0x4605b3[_0x2f656b(0x8b1)+_0x5a1133]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x2f656b(0x6bc)},await updateDoc(doc(db,_0x2f656b(0x407)+appId+_0x2f656b(0x429),currentLiveGameId),_0x4605b3),currentStudentName=_0x5a1133,listenForLiveGameUpdates();}catch(_0x97860b){console['error'](_0x2f656b(0x7fa),_0x97860b),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x3ae4ed[_0x2f656b(0x317)]=![],_0x3ae4ed[_0x2f656b(0x568)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x55858a,_0x22bb02){const _0x5139d2=_0x1b610a,_0xf7d02c=document[_0x5139d2(0x8a9)](_0x5139d2(0x7e0));document[_0x5139d2(0x8a9)](_0x5139d2(0x4ca))['textContent']=_0x5139d2(0x3fd)+_0x22bb02,!_0x55858a||_0x55858a[_0x5139d2(0x14c)]===0x0?(_0xf7d02c[_0x5139d2(0x568)]=_0x5139d2(0xc43),startQuizBtn[_0x5139d2(0x317)]=!![]):(_0xf7d02c[_0x5139d2(0x568)]=_0x5139d2(0x9df),_0x55858a[_0x5139d2(0xacf)](_0x4a3afc=>{const _0x5dbe43=_0x5139d2,_0x5e5831=document[_0x5dbe43(0xe6a)]('option');_0x5e5831[_0x5dbe43(0x61e)]=_0x4a3afc,_0x5e5831[_0x5dbe43(0xab8)]=_0x4a3afc,_0xf7d02c[_0x5dbe43(0x90c)](_0x5e5831);}),startQuizBtn['disabled']=![]),studentInitialView[_0x5139d2(0xb12)]['add']('hidden'),studentNameSelectionView[_0x5139d2(0xb12)][_0x5139d2(0x1e9)](_0x5139d2(0x9cf));}function shuffleArray(_0x3e36c2){const _0x35bed2=_0x1b610a;for(let _0x35b23b=_0x3e36c2[_0x35bed2(0x14c)]-0x1;_0x35b23b>0x0;_0x35b23b--){const _0xf619e6=Math[_0x35bed2(0x85e)](Math[_0x35bed2(0xa73)]()*(_0x35b23b+0x1));[_0x3e36c2[_0x35b23b],_0x3e36c2[_0xf619e6]]=[_0x3e36c2[_0xf619e6],_0x3e36c2[_0x35b23b]];}}function getShuffledQuiz(_0x4cf100){const _0x4578f6=_0x1b610a;let _0xd306bd=JSON['parse'](JSON[_0x4578f6(0xb0c)](_0x4cf100));const _0xd19111=_0xd306bd[_0x4578f6(0x43d)]?.[_0x4578f6(0xb73)]||_0x4578f6(0x436);if(_0xd19111===_0x4578f6(0x436))return _0xd306bd;return(_0xd19111==='questions_only'||_0xd19111===_0x4578f6(0x50a))&&shuffleArray(_0xd306bd[_0x4578f6(0x3c6)]),(_0xd19111===_0x4578f6(0x566)||_0xd19111===_0x4578f6(0x50a))&&_0xd306bd[_0x4578f6(0x3c6)][_0x4578f6(0xacf)](_0x54a92d=>{const _0x19d5bd=_0x4578f6,_0x39f059=_0x54a92d['questionType']||_0xd306bd['quizType'];if(_0x54a92d['options']){let _0x547d8d=_0x54a92d[_0x19d5bd(0x487)]['map']((_0x3eeb81,_0x407ff5)=>({'text':_0x3eeb81,'isCorrect':_0x407ff5===_0x54a92d[_0x19d5bd(0x26c)]}));shuffleArray(_0x547d8d),_0x54a92d[_0x19d5bd(0x487)]=_0x547d8d[_0x19d5bd(0x4cb)](_0x23d57d=>_0x23d57d[_0x19d5bd(0x9f6)]),_0x54a92d[_0x19d5bd(0x26c)]=_0x547d8d[_0x19d5bd(0xcf6)](_0x306eb2=>_0x306eb2['isCorrect']);}_0x39f059==='matching_item'&&_0x54a92d[_0x19d5bd(0x6cf)]&&shuffleArray(_0x54a92d[_0x19d5bd(0x6cf)]);}),_0xd306bd;}function displayQuizForStudent(_0x567d23){const _0x5d7137=_0x1b610a;studentQuizArea['classList'][_0x5d7137(0x1e9)](_0x5d7137(0x9cf)),currentDisplayedQuiz=getShuffledQuiz(_0x567d23);currentMode!==_0x5d7137(0x65f)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x5d7137(0xbe9),handleFullscreenChange),document[_0x5d7137(0xd68)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x5d7137(0xd68)]('mousemove',resetDimTimer),window[_0x5d7137(0xd68)](_0x5d7137(0xd14),resetDimTimer),window[_0x5d7137(0xd68)](_0x5d7137(0x71e),resetDimTimer),window[_0x5d7137(0xd68)](_0x5d7137(0xcd6),resetDimTimer),resetDimTimer());const _0x1effae=currentDisplayedQuiz[_0x5d7137(0x43d)]?.[_0x5d7137(0x214)]||'none';if(_0x1effae===_0x5d7137(0x1bb))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5d7137(0x43d)]['timerDuration']);else _0x1effae===_0x5d7137(0x4bd)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x1b610a(0xc9b)]=function(_0x167cb5){const _0x2071af=_0x1b610a,_0x502598=document[_0x2071af(0x8a9)]('dropdown-list-'+_0x167cb5),_0x13c7f9=document[_0x2071af(0x6b8)]('[id^=\x22dropdown-list-\x22]');_0x13c7f9['forEach'](_0x32355e=>{const _0x21b815=_0x2071af;if(_0x32355e['id']!==_0x21b815(0xc60)+_0x167cb5)_0x32355e['classList'][_0x21b815(0x786)](_0x21b815(0x9cf));});if(_0x502598)_0x502598[_0x2071af(0xb12)][_0x2071af(0x830)](_0x2071af(0x9cf));},window[_0x1b610a(0x5ba)]=function(_0x45e6e0,_0x13cee5){const _0x3b3698=_0x1b610a,_0x4fe7c1=currentDisplayedQuiz;if(!_0x4fe7c1)return;const _0x4d948d=_0x4fe7c1[_0x3b3698(0x3c6)][_0x45e6e0],_0x38a7fe=_0x4d948d[_0x3b3698(0x6cf)][_0x13cee5],_0x3be872=document[_0x3b3698(0x8a9)](_0x3b3698(0x971)+_0x45e6e0);if(_0x3be872)_0x3be872[_0x3b3698(0x61e)]=_0x38a7fe;const _0x341214=document[_0x3b3698(0x8a9)](_0x3b3698(0x4e4)+_0x45e6e0);if(_0x341214){_0x341214['innerHTML']=_0x38a7fe;if(window['MathJax'])MathJax[_0x3b3698(0x4a5)]([_0x341214]);_0x341214[_0x3b3698(0xb12)][_0x3b3698(0x786)](_0x3b3698(0x56e),'font-bold');}const _0x15166d=document[_0x3b3698(0x8a9)](_0x3b3698(0xc60)+_0x45e6e0);if(_0x15166d)_0x15166d[_0x3b3698(0xb12)]['add'](_0x3b3698(0x9cf));},document['addEventListener'](_0x1b610a(0xcc3),_0x55c114=>{const _0x48e2f8=_0x1b610a;!_0x55c114[_0x48e2f8(0x61a)][_0x48e2f8(0x156)](_0x48e2f8(0x8bd))&&document['querySelectorAll']('[id^=\x22dropdown-list-\x22]')[_0x48e2f8(0xacf)](_0x39875c=>_0x39875c[_0x48e2f8(0xb12)][_0x48e2f8(0x786)](_0x48e2f8(0x9cf)));});function renderFullQuizForm(){const _0x48d280=_0x1b610a,_0x4c16c8=currentDisplayedQuiz[_0x48d280(0x43d)]?.[_0x48d280(0x5d8)]===!![],_0x3b32b0=currentDisplayedQuiz['settings']?.[_0x48d280(0x3ae)]||'checkbox';let _0x1d6d03=![],_0x2b8e3b=_0x48d280(0x450)+currentDisplayedQuiz[_0x48d280(0x5cc)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x48d280(0xca0);currentDisplayedQuiz[_0x48d280(0x3c6)][_0x48d280(0xacf)]((_0x164c3b,_0x2e7aaa)=>{const _0x17479a=_0x48d280,_0x2546e8=_0x164c3b['questionType']||currentDisplayedQuiz[_0x17479a(0xcb6)],_0x645e91=_0x17479a(0x5c1)+(0x64-_0x2e7aaa)+';';_0x2546e8===_0x17479a(0x3e6)&&!_0x1d6d03&&(_0x2b8e3b+=_0x17479a(0x4ad),_0x1d6d03=!![]);_0x2b8e3b+=_0x17479a(0x957)+_0x645e91+'\x22>';_0x2546e8!=='matching_item'&&(_0x2b8e3b+=_0x17479a(0xc25)+(_0x2e7aaa+0x1)+'.\x20'+(_0x164c3b[_0x17479a(0x723)]||_0x164c3b[_0x17479a(0x460)])+_0x17479a(0x57e)+(_0x164c3b[_0x17479a(0x538)]?_0x17479a(0x64b)+_0x164c3b[_0x17479a(0x538)]+_0x17479a(0x96b):'')+_0x17479a(0x949));_0x2b8e3b+=_0x17479a(0x1cb);if(_0x2546e8===_0x17479a(0x3e6)&&_0x164c3b[_0x17479a(0x6cf)])_0x2b8e3b+=_0x17479a(0x845)+(_0x2e7aaa+0x1)+_0x17479a(0xb3a)+_0x164c3b[_0x17479a(0xc35)]+_0x17479a(0x217)+_0x2e7aaa+_0x17479a(0x4dc)+_0x2e7aaa+_0x17479a(0x173)+_0x2e7aaa+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-'+_0x2e7aaa+'\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-'+_0x2e7aaa+_0x17479a(0x899)+_0x164c3b[_0x17479a(0x6cf)][_0x17479a(0x4cb)]((_0x55bb46,_0x4dffb2)=>_0x17479a(0x9ac)+_0x2e7aaa+',\x20'+_0x4dffb2+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55bb46+_0x17479a(0xc90))[_0x17479a(0x656)]('')+_0x17479a(0x8d4);else{if(_0x2546e8===_0x17479a(0x8fb))_0x2b8e3b+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2e7aaa+_0x17479a(0xdf1)+_0x2e7aaa+_0x17479a(0x829)+_0x2e7aaa+'_opt0\x22>ใช่</label></div>',_0x2b8e3b+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2e7aaa+'_opt1\x22\x20name=\x22question'+_0x2e7aaa+_0x17479a(0x4d6)+_0x2e7aaa+_0x17479a(0xb6d);else _0x164c3b['options']&&Array[_0x17479a(0x47a)](_0x164c3b[_0x17479a(0x487)])&&_0x164c3b[_0x17479a(0x487)][_0x17479a(0x14c)]>0x0?_0x2b8e3b+=_0x164c3b[_0x17479a(0x487)][_0x17479a(0x4cb)]((_0x4a2cab,_0x105ec9)=>_0x17479a(0xb61)+_0x2e7aaa+_0x17479a(0x776)+_0x105ec9+'\x22\x20name=\x22question'+_0x2e7aaa+'\x22\x20value=\x22'+_0x105ec9+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x2e7aaa+'_opt'+_0x105ec9+'\x22>'+_0x4a2cab+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17479a(0x656)](''):_0x2b8e3b+=_0x17479a(0xe43)+_0x2e7aaa+_0x17479a(0xb4a);}_0x2b8e3b+=_0x17479a(0x96b),_0x4c16c8&&(_0x2b8e3b+=_0x17479a(0xa70),_0x3b32b0===_0x17479a(0xb6b)?_0x2b8e3b+=_0x17479a(0x67f)+_0x2e7aaa+_0x17479a(0x343)+_0x2e7aaa+'\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x2e7aaa+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x2e7aaa+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2b8e3b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x2e7aaa+'\x22\x20name=\x22confidence'+_0x2e7aaa+_0x17479a(0xcc0)+_0x2e7aaa+_0x17479a(0xe6c),_0x2b8e3b+=_0x17479a(0x96b)),_0x2b8e3b+=_0x17479a(0x96b);}),_0x2b8e3b+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x2b8e3b+=_0x48d280(0x480),studentQuizArea[_0x48d280(0x568)]=_0x2b8e3b;if(currentMode===_0x48d280(0x65f)){const _0x1485e8=document[_0x48d280(0x8a9)](_0x48d280(0x299));if(_0x1485e8)_0x1485e8[_0x48d280(0xd68)](_0x48d280(0xcc3),cancelAdminTest);}const _0x5356a6=document['getElementById'](_0x48d280(0xcdf));_0x5356a6&&(_0x5356a6['addEventListener'](_0x48d280(0x50e),handleSubmitQuiz),_0x5356a6[_0x48d280(0xd68)](_0x48d280(0xcc3),_0x53e77a=>{const _0x836c40=_0x48d280;if(_0x53e77a['target'][_0x836c40(0xb12)]['contains']('confidence-choice-btn')){const _0x417222=_0x53e77a['target'],_0x2902a0=_0x417222[_0x836c40(0xd34)][_0x836c40(0x223)],_0x1dd6bf=_0x417222[_0x836c40(0xd34)][_0x836c40(0x61e)];document[_0x836c40(0x8a9)](_0x836c40(0x5d5)+_0x2902a0)[_0x836c40(0x61e)]=_0x1dd6bf;const _0x195f3e=_0x417222[_0x836c40(0xe08)];_0x195f3e[_0x836c40(0x6b8)](_0x836c40(0x89f))['forEach'](_0xedcd42=>_0xedcd42['classList']['remove'](_0x836c40(0x6bc))),_0x417222[_0x836c40(0xb12)]['add'](_0x836c40(0x6bc));}})),window[_0x48d280(0xb1b)]&&setTimeout(()=>{const _0x4d1305=_0x48d280;window['MathJax'][_0x4d1305(0x4a5)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x5c7589){const _0x6beee8=_0x1b610a;if(_0x5c7589)_0x5c7589[_0x6beee8(0x219)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x30fe46=document['getElementById']('quiz-form');if(!_0x30fe46)return;const _0x19d971=currentDisplayedQuiz[_0x6beee8(0x43d)]?.[_0x6beee8(0x5d8)]===!![],_0xc55579=currentDisplayedQuiz[_0x6beee8(0x43d)]?.[_0x6beee8(0x3ae)]||'checkbox';if(_0x19d971&&_0xc55579==='mandatory'){let _0x368f5e=!![];for(let _0x43b127=0x0;_0x43b127<currentDisplayedQuiz[_0x6beee8(0x3c6)][_0x6beee8(0x14c)];_0x43b127++){const _0x1c5b73=_0x30fe46[_0x6beee8(0x2b0)](_0x6beee8(0xa44)+_0x43b127);if(!_0x1c5b73||_0x1c5b73['value']===''){_0x368f5e=![];break;}}if(!_0x368f5e){showMessage(_0x6beee8(0x8a3));return;}}const _0x1692f3=_0x30fe46[_0x6beee8(0x2b0)](_0x6beee8(0x9a5)),_0x1d9e85=currentDisplayedQuiz['questions'][_0x6beee8(0x4db)](_0x6d2931=>_0x6d2931[_0x6beee8(0xa9f)]===_0x6beee8(0x815));_0x1692f3&&(_0x1692f3[_0x6beee8(0x317)]=!![],_0x1692f3[_0x6beee8(0x568)]=_0x1d9e85?_0x6beee8(0xd56):_0x6beee8(0xa11));const _0x443d0b=new FormData(_0x30fe46),_0x178519=currentDisplayedQuiz[_0x6beee8(0x3c6)][_0x6beee8(0x4cb)]((_0x50b9bf,_0x5329dd)=>{const _0x471c45=_0x6beee8,_0x32f871=_0x443d0b[_0x471c45(0xb2a)]('question'+_0x5329dd);let _0x4a5a0c;_0xc55579===_0x471c45(0xb6b)?_0x4a5a0c=_0x443d0b['get'](_0x471c45(0x7c5)+_0x5329dd):_0x4a5a0c=_0x443d0b[_0x471c45(0xb2a)](_0x471c45(0x7c5)+_0x5329dd)==='on';let _0xdb0001=null;if(_0x32f871!==null&&_0x32f871!==undefined){const _0x2438ba=_0x50b9bf[_0x471c45(0xa9f)]||currentDisplayedQuiz[_0x471c45(0xcb6)];_0x2438ba===_0x471c45(0x24a)||_0x2438ba==='fill_in_the_blank'?_0xdb0001=parseInt(_0x32f871):_0xdb0001=_0x32f871;}return{'answer':_0xdb0001,'wasConfident':_0x4a5a0c};}),_0x4bcc8f=currentQuizData['id'],_0x344d7b=doc(db,_0x6beee8(0x407)+appId+_0x6beee8(0x56f)+_0x4bcc8f+'/submissions',currentStudentName),_0x116c41=await getDoc(_0x344d7b),_0x31ae72=_0x116c41['exists']()?_0x116c41[_0x6beee8(0x860)]():{},_0x11b5e8=_0x31ae72[_0x6beee8(0x289)]||[];await processAndSubmitAnswers(_0x178519,_0x11b5e8);}async function gradeShortAnswerWithAI(_0x4c882b,_0x3551e6){const _0x4a0d50=_0x1b610a;if(!_0x4c882b||!_0x3551e6)return![];try{const _0x454a22=_0x4a0d50(0x8b2)+_0x4c882b+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x3551e6+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x5bc3f9={'contents':[{'role':'user','parts':[{'text':_0x454a22}]}]},_0x43c2ba='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x4e6fb7=_0x4a0d50(0x712)+_0x43c2ba,_0x60ef6b=await fetch(_0x4e6fb7,{'method':_0x4a0d50(0x8d3),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4a0d50(0xb0c)](_0x5bc3f9)});if(!_0x60ef6b['ok'])throw new Error(_0x4a0d50(0x40f));const _0x552260=await _0x60ef6b[_0x4a0d50(0x160)](),_0x3b7b5e=_0x552260[_0x4a0d50(0xe58)][0x0][_0x4a0d50(0x5a3)]['parts'][0x0][_0x4a0d50(0x9f6)][_0x4a0d50(0x937)]()[_0x4a0d50(0x8dd)]();return _0x3b7b5e===_0x4a0d50(0xd57);}catch(_0x396360){return console[_0x4a0d50(0xce3)](_0x4a0d50(0x897),_0x396360),![];}}async function processAndSubmitAnswers(_0x73bba,_0x1272d1){const _0x2adc73=_0x1b610a;releaseWakeLock(),stopDimTimer();try{document['fullscreenElement']&&await document[_0x2adc73(0xd7b)]();}catch(_0x38e5a8){console[_0x2adc73(0xa1b)]('Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):',_0x38e5a8);}isQuizActive=![],document[_0x2adc73(0xd06)](_0x2adc73(0xbe9),handleFullscreenChange),document[_0x2adc73(0xd06)](_0x2adc73(0xe26),handleVisibilityChange);let _0xacb4dc=0x0;const _0x4a750b=[],_0x616701=currentDisplayedQuiz[_0x2adc73(0x3c6)][_0x2adc73(0x14c)];let _0xb3dae1=0x0,_0x1cd3be=[];const _0x4c4446=currentDisplayedQuiz[_0x2adc73(0x3c6)];for(let _0x36c0f2=0x0;_0x36c0f2<_0x4c4446[_0x2adc73(0x14c)];_0x36c0f2++){const _0x42da3c=_0x4c4446[_0x36c0f2],_0xaf5d56=_0x73bba[_0x36c0f2],_0x4a25cc=_0xaf5d56?_0xaf5d56['answer']:null,_0x1d2a37=_0xaf5d56?_0xaf5d56[_0x2adc73(0x45c)]:null;let _0x1ce93d=![],_0x5c0c84=0x0;if(_0x4a25cc!==null&&_0x4a25cc!==''){const _0x34ec58=_0x42da3c[_0x2adc73(0xa9f)]||currentDisplayedQuiz['quizType'];switch(_0x34ec58){case _0x2adc73(0x3e6):_0x1ce93d=_0x4a25cc===_0x42da3c[_0x2adc73(0x11c)];break;case _0x2adc73(0x8fb):const _0x3d4e38=_0x4a25cc===!![]||_0x4a25cc===_0x2adc73(0xd57);_0x1ce93d=_0x3d4e38===_0x42da3c[_0x2adc73(0xad3)];break;case _0x2adc73(0x312):case'short_answer':_0x1ce93d=await gradeShortAnswer(_0x4a25cc,_0x42da3c);break;case _0x2adc73(0x24a):case _0x2adc73(0x270):default:_0x1ce93d=Number(_0x4a25cc)===_0x42da3c['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.[_0x2adc73(0x5d8)]){const _0xf0439f=_0xaf5d56?_0xaf5d56['wasConfident']:null;if(_0x1ce93d&&(_0xf0439f===!![]||_0xf0439f===_0x2adc73(0x2a7)))_0x5c0c84=0x2;else{if(_0x1ce93d)_0x5c0c84=0x1;else{if(!_0x1ce93d&&(_0xf0439f===![]||_0xf0439f==='not_confident'||_0xf0439f===null))_0x5c0c84=0x0;else!_0x1ce93d&&(_0xf0439f===!![]||_0xf0439f===_0x2adc73(0x2a7))&&(_0x5c0c84=-0x1);}}}else _0x5c0c84=_0x1ce93d?0x1:0x0;_0xacb4dc+=_0x5c0c84;if(_0x1ce93d){_0xb3dae1++;if(_0xb3dae1===0x3)_0x1cd3be['push'](BADGES['ON_FIRE']['id']);}else _0xb3dae1=0x0;let _0x131873=null;_0x42da3c['options']&&(_0x42da3c[_0x2adc73(0xa9f)]===_0x2adc73(0x24a)||_0x42da3c[_0x2adc73(0xa9f)]===_0x2adc73(0x270))&&_0x4a25cc!==null?_0x131873=_0x42da3c[_0x2adc73(0x487)][_0x4a25cc]:_0x131873=_0x4a25cc,_0x4a750b[_0x2adc73(0x6fd)]({'questionId':_0x42da3c['id'],'answer':_0x4a25cc,'answerText':_0x131873,'isCorrect':_0x1ce93d,'wasConfident':_0x1d2a37,'pointsAwarded':_0x5c0c84,'originalQuestionText':_0x42da3c[_0x2adc73(0xc35)]||_0x42da3c['questionText']});}const _0x25a9bb=_0x4a750b[_0x2adc73(0x58f)](_0x5e7fe5=>_0x5e7fe5[_0x2adc73(0xe63)])['length'],_0xe3b7f6=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x2adc73(0x85e)](_0x616701/0x2);_0x25a9bb===_0x616701&&_0x616701>0x0&&!currentDisplayedQuiz[_0x2adc73(0x99a)]&&_0x1cd3be['push'](BADGES[_0x2adc73(0x6bd)]['id']);const _0xde8b08=currentDisplayedQuiz[_0x2adc73(0x43d)]?.[_0x2adc73(0x214)];if(_0xde8b08===_0x2adc73(0x1bb)&&quizStartTime){const _0x11f29c=(new Date()-quizStartTime)/0x3e8,_0x2781f6=currentDisplayedQuiz[_0x2adc73(0x43d)]['timerDuration']*0x3c;_0x25a9bb>=_0xe3b7f6&&_0x11f29c<_0x2781f6/0x2&&_0x1cd3be[_0x2adc73(0x6fd)](BADGES[_0x2adc73(0x151)]['id']);}_0x1272d1[_0x2adc73(0x14c)]===0x0&&_0x25a9bb===_0x616701&&_0x616701>0x0&&_0x1cd3be[_0x2adc73(0x6fd)](BADGES[_0x2adc73(0x8be)]['id']);if(_0x1272d1[_0x2adc73(0x14c)]>0x0){const _0x45ad49=_0x1272d1[0x0][_0x2adc73(0xdd7)];if(_0x45ad49<_0xe3b7f6&&_0x25a9bb>=_0xe3b7f6){const _0x45714b=_0x1272d1[_0x2adc73(0x4db)](_0x56c855=>(_0x56c855['badges']||[])[_0x2adc73(0x55e)](BADGES['COMEBACK_KING']['id']));!_0x45714b&&_0x1cd3be[_0x2adc73(0x6fd)](BADGES['COMEBACK_KING']['id']);}}_0x1272d1[_0x2adc73(0x14c)]===0x4&&_0x1cd3be[_0x2adc73(0x6fd)](BADGES[_0x2adc73(0x691)]['id']);const _0x571daf=currentDisplayedQuiz['settings'][_0x2adc73(0x1da)];if(currentMode==='admin-testing'){handleResultDisplay(_0x571daf,_0x25a9bb,_0xacb4dc,_0x1cd3be,_0x4a750b,_0x616701);return;}const _0x1cddcf=currentQuizData['id'],_0x32e015=doc(db,_0x2adc73(0x407)+appId+_0x2adc73(0x56f)+_0x1cddcf+'/submissions',currentStudentName);try{const _0x52360b=[..._0x1272d1],_0x4c7516={'score':_0x25a9bb,'points':_0xacb4dc,'badges':Array[_0x2adc73(0x52e)](new Set(_0x1cd3be)),'submittedAt':new Date()[_0x2adc73(0x3f0)](),'answers':_0x4a750b};_0x52360b[_0x2adc73(0x6fd)](_0x4c7516);const _0x2304c7=_0x1272d1[_0x2adc73(0x14c)]===0x0?_0x25a9bb:_0x1272d1[0x0][_0x2adc73(0xdd7)]||0x0,_0x57f267=Math[_0x2adc73(0xb5e)](..._0x52360b[_0x2adc73(0x4cb)](_0x4e7b85=>_0x4e7b85[_0x2adc73(0xdd7)]));await setDoc(_0x32e015,{'studentName':currentStudentName,'totalQuestions':_0x616701,'attempts':_0x52360b,'firstScore':_0x2304c7,'bestScore':_0x57f267,'latestScore':_0x25a9bb,'points':_0xacb4dc,'latestSubmittedAt':_0x4c7516[_0x2adc73(0xc13)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x2adc73(0xccc)],currentStudentName),handleResultDisplay(_0x571daf,_0x25a9bb,_0xacb4dc,_0x1cd3be,_0x4a750b,_0x616701);}catch(_0x112fd2){console[_0x2adc73(0xce3)]('Error\x20saving\x20submission:',_0x112fd2),showMessage(_0x2adc73(0x56a));}}async function updateStudentProfile(_0x5641fb,_0x53559e){const _0x4dfd82=_0x1b610a,_0x43486a=doc(db,'artifacts/'+appId+_0x4dfd82(0x785)+_0x5641fb+_0x4dfd82(0x50b),_0x53559e);try{const _0x5166ec=query(collection(db,_0x4dfd82(0x407)+appId+'/public/data/quizzes'),where(_0x4dfd82(0xccc),'==',_0x5641fb)),_0x25dfd0=await getDocs(_0x5166ec),_0x4a8fb5=new Map(_0x25dfd0[_0x4dfd82(0x654)][_0x4dfd82(0x4cb)](_0x6d0ce=>[_0x6d0ce['id'],_0x6d0ce[_0x4dfd82(0x860)]()])),_0x278505=Array[_0x4dfd82(0x52e)](_0x4a8fb5['keys']());await runTransaction(db,async _0x2fac13=>{const _0x2746b3=_0x4dfd82;let _0x757707=0x0;const _0x2de16b={};let _0x5d9a69=!![],_0x5133cf=0x0,_0x472530=0x0;for(const _0x5f31bd of _0x278505){const _0x27bd10=_0x4a8fb5['get'](_0x5f31bd),_0x5d3cf8=doc(db,_0x2746b3(0x407)+appId+'/public/data/quizzes/'+_0x5f31bd+_0x2746b3(0x8b6),_0x53559e),_0x243a50=await _0x2fac13[_0x2746b3(0xb2a)](_0x5d3cf8);if(_0x243a50['exists']()){const _0x479241=_0x243a50['data'](),_0x5c88a2=_0x479241[_0x2746b3(0x289)]||[];if(_0x5c88a2[_0x2746b3(0x14c)]>0x0){const _0x41ac94=_0x5c88a2['reduce']((_0x494812,_0x1d60fd)=>{const _0x5b1c17=_0x2746b3;if(_0x1d60fd[_0x5b1c17(0xdd7)]>_0x494812[_0x5b1c17(0xdd7)])return _0x1d60fd;if(_0x1d60fd[_0x5b1c17(0xdd7)]===_0x494812['score'])return(_0x1d60fd[_0x5b1c17(0xa28)]||0x0)>(_0x494812[_0x5b1c17(0xa28)]||0x0)?_0x1d60fd:_0x494812;return _0x494812;},{'score':-0x1,'points':-0x1});_0x41ac94[_0x2746b3(0xdd7)]>-0x1&&(_0x757707+=_0x41ac94[_0x2746b3(0xa28)]||0x0,(_0x41ac94[_0x2746b3(0x1ab)]||[])[_0x2746b3(0xacf)](_0x144db7=>{_0x2de16b[_0x144db7]=(_0x2de16b[_0x144db7]||0x0)+0x1;}));}}if(_0x27bd10['topic']!==_0x2746b3(0xe29)){_0x472530++;if(_0x243a50[_0x2746b3(0xa90)]()){_0x5133cf++;const _0x10c074=_0x243a50['data']();_0x10c074[_0x2746b3(0x5db)]!==_0x10c074['totalQuestions']&&(_0x5d9a69=![]);}else _0x5d9a69=![];}}_0x472530>0x0&&_0x5133cf===_0x472530&&_0x5d9a69?_0x2de16b['specialist']=0x1:_0x2de16b['specialist']=0x0,_0x2fac13[_0x2746b3(0x98f)](_0x43486a,{'studentName':_0x53559e,'totalPoints':_0x757707,'unlockedBadges':Object[_0x2746b3(0x770)](_0x2de16b)['filter'](_0x507aaf=>_0x2de16b[_0x507aaf]>0x0),'badgesCount':_0x2de16b},{'merge':!![]});});}catch(_0xfb6e48){console['error'](_0x4dfd82(0x79f),_0xfb6e48),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x2ac14f=_0x1b610a;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x174faf=JSON[_0x2ac14f(0xbc4)](JSON['stringify'](currentQuizData));currentMode=_0x2ac14f(0x65f),currentStudentName=_0x2ac14f(0x837),adminView[_0x2ac14f(0xb12)][_0x2ac14f(0x786)]('hidden'),studentView[_0x2ac14f(0xb12)][_0x2ac14f(0x1e9)](_0x2ac14f(0x9cf)),studentInitialView[_0x2ac14f(0xb12)][_0x2ac14f(0x786)](_0x2ac14f(0x9cf)),studentNameSelectionView[_0x2ac14f(0xb12)][_0x2ac14f(0x786)](_0x2ac14f(0x9cf)),studentResultArea[_0x2ac14f(0xb12)][_0x2ac14f(0x786)](_0x2ac14f(0x9cf)),studentQuizArea[_0x2ac14f(0xb12)][_0x2ac14f(0x1e9)](_0x2ac14f(0x9cf)),quizStartTime=new Date(),displayQuizForStudent(_0x174faf);}function handleResultDisplay(_0x2b2a77,_0x22267d,_0x1b6efa,_0x29b08b,_0x44e098,_0x5bb3ec){const _0x2dbcdd=_0x1b610a;if(_0x2b2a77===_0x2dbcdd(0x2b4)){displaySubmissionConfirmation();return;}const _0xf99823=currentDisplayedQuiz[_0x2dbcdd(0x43d)]?.[_0x2dbcdd(0x253)]??Math[_0x2dbcdd(0x85e)](_0x5bb3ec/0x2),_0x10eb62=currentDisplayedQuiz[_0x2dbcdd(0x43d)]?.[_0x2dbcdd(0x159)]??![],_0x4e419f=currentDisplayedQuiz[_0x2dbcdd(0x43d)]?.['loopUntilPass']===!![],_0x261084=_0x22267d<_0xf99823,_0x2110f1=_0x2b2a77==='half_mark_status'||_0x2b2a77===_0x2dbcdd(0x651);if(_0x4e419f&&_0x261084&&!_0x2110f1){_0x2b2a77==='show_results_and_answers'?displayResultsWithAnswers(_0x22267d,_0x1b6efa,_0x29b08b,_0x44e098,_0x5bb3ec,!![]):displayLoopScreen(_0x22267d,_0x5bb3ec,_0x2b2a77);return;}if(_0x10eb62&&_0x261084){startAdaptiveFlow(_0x44e098,_0x22267d,_0x5bb3ec);return;}switch(_0x2b2a77){case'show_results_and_answers':displayResultsWithAnswers(_0x22267d,_0x1b6efa,_0x29b08b,_0x44e098,_0x5bb3ec);break;case _0x2dbcdd(0x1f6):displayResultsScoreOnly(_0x22267d,_0x1b6efa,_0x29b08b,_0x5bb3ec);break;case'show_pass_fail_only':displayPassFailOnly(_0x22267d,_0x5bb3ec);break;case _0x2dbcdd(0xe42):displayHalfMarkResult(_0x22267d,_0x5bb3ec);break;case _0x2dbcdd(0x651):displayPerfectScoreResult(_0x22267d,_0x5bb3ec);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x12862e){const _0x2ee78b=_0x1b610a;studentReadingArea[_0x2ee78b(0x568)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x185d73=_0x2ee78b(0xbe6)+_0x12862e+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x2ee78b(0xa37),_0x370132={'type':_0x2ee78b(0x6da),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2ee78b(0x832)},'explanation':{'type':_0x2ee78b(0x6a7)}},'required':[_0x2ee78b(0x460),'options','correctAnswerIndex','explanation']},_0x54aae2={'type':_0x2ee78b(0x6da),'properties':{'topic':{'type':_0x2ee78b(0x6a7)},'questions':{'type':_0x2ee78b(0x7b8),'items':_0x370132}},'required':[_0x2ee78b(0x5cc),'questions']};try{const _0x1aa3d8=await callAnalysisApi(_0x185d73,_0x54aae2);_0x1aa3d8[_0x2ee78b(0x99a)]=!![],studentReadingArea[_0x2ee78b(0xb12)][_0x2ee78b(0x786)](_0x2ee78b(0x9cf));const _0x594a5d={...currentDisplayedQuiz[_0x2ee78b(0x43d)],'isAdaptive':![],'resultsDisplay':_0x2ee78b(0xc1e)};_0x1aa3d8[_0x2ee78b(0x43d)]=_0x594a5d,displayQuizForStudent(_0x1aa3d8);}catch(_0x27ebee){console[_0x2ee78b(0xce3)](_0x2ee78b(0x6c4),_0x27ebee),showMessage(_0x2ee78b(0x952)),showView(_0x2ee78b(0x28a));}}function displayPassFailOnly(_0x56c801,_0x1a4aff){const _0x32b572=_0x1b610a,_0x570e49=currentDisplayedQuiz[_0x32b572(0x43d)]?.[_0x32b572(0x253)]??-0x1,_0x56f6f7=currentDisplayedQuiz[_0x32b572(0x99a)]===!![];let _0x1913f7='',_0x5e3225=![];if(_0x56f6f7||_0x570e49!==-0x1){_0x5e3225=_0x56f6f7?_0x56c801===_0x1a4aff:_0x56c801>=_0x570e49;const _0x46e0fc=_0x5e3225?_0x32b572(0x4b3):_0x32b572(0xd6a),_0x349900=_0x5e3225?_0x32b572(0xb04):_0x32b572(0x6c9);_0x1913f7='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x46e0fc+'\x22>'+_0x349900+_0x32b572(0x7ad);}else _0x1913f7='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x2d356d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x32b572(0x777)+_0x1913f7+_0x32b572(0x731);studentResultArea[_0x32b572(0x568)]=_0x2d356d,studentResultArea[_0x32b572(0xb12)]['remove'](_0x32b572(0x9cf)),studentQuizArea[_0x32b572(0xb12)][_0x32b572(0x786)](_0x32b572(0x9cf)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5e3225});}function cancelAdminTest(){const _0x5c6a6b=_0x1b610a;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x5c6a6b(0xbe9),handleFullscreenChange),document[_0x5c6a6b(0xd06)](_0x5c6a6b(0xe26),handleVisibilityChange),currentMode=_0x5c6a6b(0xe00),studentView[_0x5c6a6b(0xb12)]['add'](_0x5c6a6b(0x9cf)),adminView[_0x5c6a6b(0xb12)]['remove'](_0x5c6a6b(0x9cf)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x350529){const _0x246d6d=_0x1b610a,_0xd79efe={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x350529};if(_0xd79efe[_0x246d6d(0xd7e)]){const _0x211d19='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x246d6d(0xc04)](_0x246d6d(0xdb4),_0x211d19),document[_0x246d6d(0x8a9)]('retake-quiz-loop-btn')[_0x246d6d(0xd68)](_0x246d6d(0xcc3),()=>{const _0x502bb4=_0x246d6d;studentResultArea[_0x502bb4(0xb12)][_0x502bb4(0x786)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x453282=_0x246d6d(0x167),_0x122170=currentMode===_0x246d6d(0x65f),_0x3d04c1=_0x122170?_0x246d6d(0x355):_0x246d6d(0x5a6);let _0x4361d2='';_0xd79efe[_0x246d6d(0x91d)]&&(_0x4361d2+=_0x246d6d(0x6f1));let _0x3582f1=_0xd79efe['showImproveButton'];_0x3582f1===undefined&&(_0x3582f1=_0xd79efe[_0x246d6d(0xdd7)]<_0xd79efe[_0x246d6d(0x4f7)]);_0x3582f1&&(_0x4361d2+=_0x246d6d(0x5ff));_0x4361d2+=_0x246d6d(0xba7)+_0x453282+_0x246d6d(0x540)+_0x3d04c1+_0x246d6d(0x896);const _0x3d187f='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x4361d2+_0x246d6d(0x96b);studentResultArea[_0x246d6d(0xc04)]('beforeend',_0x3d187f),studentResultArea['querySelector'](_0x246d6d(0xa48))?.[_0x246d6d(0xd68)](_0x246d6d(0xcc3),handleShowStudentRankings);const _0x2c5965=studentResultArea[_0x246d6d(0x2b0)](_0x246d6d(0xc12));_0x2c5965&&_0x2c5965[_0x246d6d(0xd68)](_0x246d6d(0xcc3),()=>{const _0x595b52=_0x246d6d;studentResultArea['classList'][_0x595b52(0x786)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x453282)['addEventListener'](_0x246d6d(0xcc3),()=>{const _0x562a18=_0x246d6d;_0x122170?(currentMode=_0x562a18(0xe00),studentView[_0x562a18(0xb12)]['add'](_0x562a18(0x9cf)),adminView[_0x562a18(0xb12)][_0x562a18(0x1e9)](_0x562a18(0x9cf)),showView('project-detail')):(showView(_0x562a18(0x28a)),document[_0x562a18(0x8a9)](_0x562a18(0x69c))['value']='');});}function displayResultsWithAnswers(_0xf9a008,_0x1bc21e,_0x39e080,_0x456d8f,_0x279a23,_0x4914d6=![]){const _0x2d63b7=_0x1b610a,_0x560996=_0x279a23>0x0?_0xf9a008/_0x279a23*0x64:0x0,_0x258aea=currentDisplayedQuiz[_0x2d63b7(0x43d)]?.[_0x2d63b7(0x253)]??-0x1,_0x12496e=currentDisplayedQuiz[_0x2d63b7(0x99a)]===!![];let _0x35ddd5='';if(_0x12496e||_0x258aea!==-0x1){let _0x3c2d2f=_0x12496e?_0xf9a008===_0x279a23:_0xf9a008>=_0x258aea;const _0x4a6223=_0x3c2d2f?_0x2d63b7(0x4b3):_0x2d63b7(0xd6a),_0x59c714=_0x3c2d2f?_0x2d63b7(0xb04):_0x2d63b7(0x6c9);_0x35ddd5='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x4a6223+'\x22>'+_0x59c714+_0x2d63b7(0x602);}let _0x45f825=_0x2d63b7(0xa3b)+currentStudentName+_0x2d63b7(0xb80)+_0xf9a008+_0x2d63b7(0x421)+_0x279a23+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35ddd5+_0x2d63b7(0x11d)+_0x1bc21e+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x560996[_0x2d63b7(0x84f)](0x0)+_0x2d63b7(0xb83);currentDisplayedQuiz[_0x2d63b7(0x3c6)][_0x2d63b7(0xacf)]((_0x16b9e1,_0x5c57c4)=>{const _0x30a6da=_0x2d63b7,_0x2bfb4e=_0x456d8f[_0x5c57c4],_0x49ec0c=_0x2bfb4e[_0x30a6da(0x20c)],_0x5dace6=_0x2bfb4e[_0x30a6da(0xe63)],_0x382e17=_0x16b9e1['questionType']||currentDisplayedQuiz[_0x30a6da(0xcb6)];_0x45f825+=_0x30a6da(0x3d2)+(_0x5dace6?_0x30a6da(0x55f):_0x30a6da(0xd32))+_0x30a6da(0xde5)+(_0x5c57c4+0x1)+'.\x20'+(_0x16b9e1[_0x30a6da(0xc35)]||_0x16b9e1['questionText'])+_0x30a6da(0x234);switch(_0x382e17){case'matching_item':const _0xf37f93=_0x49ec0c||'ไม่ได้ตอบ',_0x1cf1f2=_0x16b9e1[_0x30a6da(0x11c)];_0x45f825+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x5dace6?_0x30a6da(0xbc2):'')+'\x22>'+_0xf37f93+_0x30a6da(0x69f);!_0x5dace6&&(_0x45f825+=_0x30a6da(0x281)+_0x1cf1f2+_0x30a6da(0x602));break;case'fill_in_no_choices':case _0x30a6da(0x815):_0x45f825+=_0x30a6da(0x6be)+(_0x49ec0c||_0x30a6da(0x9f2))+_0x30a6da(0x602),_0x45f825+=_0x30a6da(0xd48)+_0x16b9e1['idealAnswer']+_0x30a6da(0x602);break;case _0x30a6da(0x8fb):_0x45f825+=_0x30a6da(0xb2c)+(_0x16b9e1[_0x30a6da(0xad3)]===!![]?_0x30a6da(0x279):'')+'\x20'+(_0x49ec0c===_0x30a6da(0xd57)&&!_0x5dace6?_0x30a6da(0xbc2):'')+'\x22>ใช่</p>',_0x45f825+=_0x30a6da(0xb2c)+(_0x16b9e1[_0x30a6da(0xad3)]===![]?_0x30a6da(0x279):'')+'\x20'+(_0x49ec0c===_0x30a6da(0xcb3)&&!_0x5dace6?_0x30a6da(0xbc2):'')+_0x30a6da(0x5d1);break;case'multiple_choice':case _0x30a6da(0x270):default:if(_0x16b9e1[_0x30a6da(0x487)]&&Array[_0x30a6da(0x47a)](_0x16b9e1[_0x30a6da(0x487)]))_0x45f825+=_0x16b9e1[_0x30a6da(0x487)][_0x30a6da(0x4cb)]((_0x4abc3b,_0x4ea580)=>{const _0x5cdc36=_0x30a6da;let _0x1e0ea7='',_0x2cd5de='';if(_0x4ea580===_0x16b9e1[_0x5cdc36(0x26c)])_0x1e0ea7=_0x5cdc36(0x279),_0x2cd5de='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x4ea580===_0x49ec0c&&(_0x1e0ea7=_0x5cdc36(0x5c8),_0x2cd5de=_0x5cdc36(0x508));return _0x5cdc36(0x851)+_0x1e0ea7+'\x22>'+_0x2cd5de+_0x4abc3b+_0x5cdc36(0x96b);})['join']('');else{_0x45f825+=_0x30a6da(0x6be)+(_0x49ec0c||_0x30a6da(0x9f2))+'</p>';if(!_0x5dace6)_0x45f825+=_0x30a6da(0x6c6);}break;}_0x45f825+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x16b9e1['explanation']||_0x30a6da(0x16b))+'</div>';if(!_0x5dace6){const _0x36ed3b=_0x16b9e1['stem']||_0x16b9e1[_0x30a6da(0x460)];_0x45f825+=_0x30a6da(0xcb5)+escape(_0x36ed3b)+_0x30a6da(0xcd5);}_0x45f825+='</div>';}),studentResultArea[_0x2d63b7(0x568)]=_0x45f825,renderEarnedBadges(_0x39e080,_0x2d63b7(0x865)),studentResultArea['classList'][_0x2d63b7(0x1e9)](_0x2d63b7(0x9cf)),studentQuizArea[_0x2d63b7(0xb12)][_0x2d63b7(0x786)]('hidden'),setupResultScreenBackButton({'isLooping':_0x4914d6,'score':_0xf9a008,'totalQuestions':_0x279a23,'showRankings':!![]});if(window['MathJax'])window[_0x2d63b7(0xb1b)][_0x2d63b7(0x4a5)]([studentResultArea]);}function displayResultsScoreOnly(_0x289ced,_0x1666a4,_0x2f776b,_0x20426c){const _0x1641d2=_0x1b610a,_0x26dae9=_0x20426c>0x0?_0x289ced/_0x20426c*0x64:0x0,_0x200f9e=currentDisplayedQuiz[_0x1641d2(0x43d)]?.[_0x1641d2(0x253)]??-0x1,_0x14cfb0=currentDisplayedQuiz[_0x1641d2(0x99a)]===!![];let _0x163169='';if(_0x14cfb0||_0x200f9e!==-0x1){let _0x108aae=_0x14cfb0?_0x289ced===_0x20426c:_0x289ced>=_0x200f9e;const _0x115afd=_0x108aae?_0x1641d2(0x4b3):_0x1641d2(0xd6a),_0x2e0c07=_0x108aae?_0x1641d2(0xb04):_0x1641d2(0x6c9);_0x163169=_0x1641d2(0xba4)+_0x115afd+'\x22>'+_0x2e0c07+'</p>';}let _0x3c7ba6=_0x1641d2(0x6ad)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x289ced+_0x1641d2(0xa0b)+_0x20426c+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x163169+_0x1641d2(0x11d)+_0x1666a4+_0x1641d2(0x97a)+_0x26dae9[_0x1641d2(0x84f)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1641d2(0x568)]=_0x3c7ba6,renderEarnedBadges(_0x2f776b,_0x1641d2(0x865)),studentResultArea['classList'][_0x1641d2(0x1e9)](_0x1641d2(0x9cf)),studentQuizArea['classList']['add'](_0x1641d2(0x9cf)),setupResultScreenBackButton({'score':_0x289ced,'totalQuestions':_0x20426c,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x313f71=_0x1b610a;let _0x4d8698=_0x313f71(0x2e1)+currentStudentName+_0x313f71(0xc36);studentResultArea[_0x313f71(0x568)]=_0x4d8698,studentResultArea[_0x313f71(0xb12)][_0x313f71(0x1e9)]('hidden'),studentQuizArea[_0x313f71(0xb12)]['add']('hidden'),document['getElementById']('back-to-home-manual-release')[_0x313f71(0xd68)](_0x313f71(0xcc3),()=>{const _0x1e9536=_0x313f71;showView(_0x1e9536(0x28a)),document['getElementById']('quiz-id-input')[_0x1e9536(0x61e)]='';});}function renderEarnedBadges(_0x5acffd,_0x458de6){const _0x272160=_0x1b610a,_0x438aaa=document[_0x272160(0x8a9)](_0x458de6);if(!_0x438aaa||!_0x5acffd||_0x5acffd[_0x272160(0x14c)]===0x0)return;let _0x4f35fc='';_0x5acffd[_0x272160(0xacf)]((_0x3a38c3,_0x3c0508)=>{const _0x29cbe=_0x272160,_0x101f76=Object[_0x29cbe(0x17f)](BADGES)[_0x29cbe(0x6bf)](_0x2fa6c7=>_0x2fa6c7['id']===_0x3a38c3);_0x101f76&&(_0x4f35fc+=_0x29cbe(0x38f)+_0x3c0508*0.2+_0x29cbe(0xbff)+_0x101f76[_0x29cbe(0xa31)]+_0x29cbe(0xd4b)+_0x101f76['icon']+_0x29cbe(0x7d3)+_0x101f76[_0x29cbe(0x835)]+_0x29cbe(0xab7));}),_0x438aaa[_0x272160(0x568)]=_0x4f35fc;}function startPresentation(_0x285071){const _0x584503=_0x1b610a;currentQuizData=getShuffledQuiz(_0x285071),currentPresentationSlide=0x0,presentationModal[_0x584503(0x5a4)][_0x584503(0xe7a)]=_0x584503(0x447),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x121227=_0x1b610a;document[_0x121227(0x7f6)]&&document['exitFullscreen'](),presentationModal['style']['display']='none';}function renderPresentationSlide(_0x7eadf6){const _0x4d0797=_0x1b610a,_0x537923=document[_0x4d0797(0x8a9)](_0x4d0797(0xd50));if(!currentQuizData||!currentQuizData[_0x4d0797(0x3c6)]||!currentQuizData[_0x4d0797(0x3c6)][_0x7eadf6]){_0x537923[_0x4d0797(0x568)]=_0x4d0797(0x599);return;}const _0x17d6e6=currentQuizData[_0x4d0797(0x3c6)][_0x7eadf6],_0x2d83d6=_0x17d6e6[_0x4d0797(0xa9f)]||currentQuizData['quizType'];_0x537923[_0x4d0797(0x568)]='';let _0x3250bc=_0x4d0797(0x7d5)+(_0x17d6e6[_0x4d0797(0x538)]?_0x4d0797(0x64b)+_0x17d6e6[_0x4d0797(0x538)]+'</div>':'')+_0x4d0797(0x2ff)+(_0x7eadf6+0x1)+'.\x20'+(_0x17d6e6[_0x4d0797(0xc35)]||_0x17d6e6[_0x4d0797(0x460)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2d83d6){case _0x4d0797(0x3e6):_0x3250bc+=_0x17d6e6[_0x4d0797(0x6cf)][_0x4d0797(0x4cb)](_0x23232f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x23232f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4d0797(0x656)]('');break;case _0x4d0797(0x8fb):_0x3250bc+=_0x4d0797(0x89c),_0x3250bc+=_0x4d0797(0x41f);break;case _0x4d0797(0x312):case _0x4d0797(0x815):_0x3250bc+=_0x4d0797(0xdd8);break;case _0x4d0797(0xd66):case _0x4d0797(0x24a):default:_0x3250bc+=_0x17d6e6[_0x4d0797(0x487)][_0x4d0797(0x4cb)]((_0x2fd41e,_0x273b1e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x273b1e+_0x4d0797(0xb6c)+_0x2fd41e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4d0797(0x656)]('');break;}_0x3250bc+=_0x4d0797(0x155)+(_0x17d6e6['explanation']||'ไม่มีคำอธิบาย')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x537923[_0x4d0797(0x568)]=_0x3250bc;if(window[_0x4d0797(0xb1b)])window[_0x4d0797(0xb1b)][_0x4d0797(0x4a5)]([_0x537923]);let _0x56d957=[];switch(_0x2d83d6){case _0x4d0797(0x3e6):_0x56d957=_0x17d6e6[_0x4d0797(0x6cf)]||[];break;case _0x4d0797(0x8fb):_0x56d957=[_0x4d0797(0x572),'ไม่ใช่'];break;default:_0x56d957=_0x17d6e6['options']||[];break;}const _0x2f6adc=document[_0x4d0797(0x8a9)](_0x4d0797(0xb20));_0x2f6adc&&(_0x2f6adc['onclick']=()=>{openScratchpad(_0x17d6e6,_0x56d957);});document['querySelectorAll'](_0x4d0797(0x959))[_0x4d0797(0xacf)](_0x278052=>{const _0x555410=_0x4d0797;_0x278052[_0x555410(0xd68)](_0x555410(0xcc3),_0xef6c88=>revealAnswerForPresentation(_0x7eadf6,_0xef6c88[_0x555410(0x6b6)]));});const _0x428b9e=document[_0x4d0797(0x8a9)](_0x4d0797(0xca1));_0x428b9e&&_0x428b9e[_0x4d0797(0xd68)]('click',()=>checkShortAnswerForPresentation(_0x7eadf6)),document[_0x4d0797(0x8a9)](_0x4d0797(0x73e))[_0x4d0797(0xab8)]=_0x4d0797(0x15d)+(_0x7eadf6+0x1)+_0x4d0797(0x2e6)+currentQuizData[_0x4d0797(0x3c6)]['length'],document[_0x4d0797(0x8a9)](_0x4d0797(0xdbd))[_0x4d0797(0x317)]=_0x7eadf6===0x0,document['getElementById'](_0x4d0797(0x16e))[_0x4d0797(0x317)]=_0x7eadf6===currentQuizData[_0x4d0797(0x3c6)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x200e7c){const _0x45ab57=_0x1b610a,_0x389613=currentQuizData[_0x45ab57(0x3c6)][_0x200e7c],_0x540e6a=document[_0x45ab57(0x8a9)](_0x45ab57(0x1a3)),_0x4c351f=document[_0x45ab57(0x8a9)]('check-presentation-answer-btn'),_0x295bac=document['getElementById'](_0x45ab57(0x1c1)),_0x1b81da=document[_0x45ab57(0x8a9)](_0x45ab57(0x20a));if(!_0x540e6a||!_0x4c351f||!_0x295bac||!_0x1b81da)return;const _0x29f86c=_0x540e6a[_0x45ab57(0x61e)][_0x45ab57(0x937)]();if(_0x29f86c==='')return;_0x4c351f['disabled']=!![],_0x4c351f[_0x45ab57(0x568)]=_0x45ab57(0xe47),_0x540e6a['disabled']=!![];const _0x189904=await gradeShortAnswer(_0x29f86c,_0x389613);_0x189904?_0x295bac[_0x45ab57(0x568)]=_0x45ab57(0x746):_0x295bac['innerHTML']=_0x45ab57(0x6b9)+_0x389613[_0x45ab57(0xc37)]+')',_0x295bac['classList']['remove']('hidden'),_0x1b81da[_0x45ab57(0xb12)][_0x45ab57(0x1e9)](_0x45ab57(0x9cf)),_0x4c351f[_0x45ab57(0xb12)][_0x45ab57(0x786)](_0x45ab57(0x9cf));}function revealAnswerForPresentation(_0x53dd5f,_0x12a944){const _0x37405c=_0x1b610a,_0x26bc94=currentQuizData['questions'][_0x53dd5f],_0x925a41=_0x26bc94['questionType']||currentQuizData[_0x37405c(0xcb6)];document[_0x37405c(0x6b8)](_0x37405c(0x959))[_0x37405c(0xacf)](_0x4b3a59=>{const _0x16301f=_0x37405c;_0x4b3a59[_0x16301f(0x317)]=!![],_0x4b3a59[_0x16301f(0xb12)][_0x16301f(0x1e9)](_0x16301f(0x934));let _0x54ace6=![];if(_0x925a41===_0x16301f(0x24a)||_0x925a41===_0x16301f(0xd66)){const _0x13f8a2=parseInt(_0x4b3a59[_0x16301f(0xd34)][_0x16301f(0x26b)]);_0x54ace6=_0x13f8a2===_0x26bc94[_0x16301f(0x26c)];}else{if(_0x925a41==='true_false'){const _0x260520=_0x4b3a59[_0x16301f(0xd34)][_0x16301f(0x20c)]===_0x16301f(0xd57);_0x54ace6=_0x260520===_0x26bc94[_0x16301f(0xad3)];}else _0x925a41==='matching_item'&&(_0x54ace6=_0x4b3a59[_0x16301f(0xab8)]['trim']()===_0x26bc94[_0x16301f(0x11c)]);}_0x54ace6?_0x4b3a59['classList'][_0x16301f(0x786)](_0x16301f(0x1f5),_0x16301f(0x4b0),_0x16301f(0x6a1)):_0x4b3a59[_0x16301f(0xb12)][_0x16301f(0x786)](_0x16301f(0xb66));}),_0x12a944[_0x37405c(0xb12)][_0x37405c(0x1e9)](_0x37405c(0xb66));let _0xe42fd9=![];if(_0x925a41==='multiple_choice')_0xe42fd9=parseInt(_0x12a944['dataset'][_0x37405c(0x26b)])===_0x26bc94['correctAnswerIndex'];else{if(_0x925a41==='true_false')_0xe42fd9=_0x12a944[_0x37405c(0xd34)][_0x37405c(0x20c)]===_0x37405c(0xd57)===_0x26bc94[_0x37405c(0xad3)];else _0x925a41===_0x37405c(0x3e6)&&(_0xe42fd9=_0x12a944[_0x37405c(0xab8)][_0x37405c(0x937)]()===_0x26bc94['correctResponse']);}!_0xe42fd9&&_0x12a944[_0x37405c(0xb12)][_0x37405c(0x786)](_0x37405c(0x395),_0x37405c(0x4b0),_0x37405c(0xad1)),document[_0x37405c(0x8a9)](_0x37405c(0x20a))['classList'][_0x37405c(0x1e9)](_0x37405c(0x9cf));}function startWholeQuizTimer(_0x1c7104){const _0x6d95d2=_0x1b610a,_0x240d05=document[_0x6d95d2(0x8a9)]('timer-container');if(!_0x240d05)return;const _0x49c703=Date['now']()+_0x1c7104*0x3c*0x3e8;_0x240d05['innerHTML']=_0x6d95d2(0x2a1);const _0x318dda=document[_0x6d95d2(0x8a9)](_0x6d95d2(0x5eb));quizTimerInterval=setInterval(()=>{const _0x151eb3=_0x6d95d2,_0x5c3c51=_0x49c703-Date['now']();if(_0x5c3c51<=0x0)clearInterval(quizTimerInterval),_0x318dda[_0x151eb3(0xab8)]='00:00',showMessage(_0x151eb3(0xe1b)),handleSubmitQuiz(null);else{const _0x15d828=Math[_0x151eb3(0x85e)](_0x5c3c51/0x3e8/0x3c%0x3c)['toString']()[_0x151eb3(0x9e1)](0x2,'0'),_0x205874=Math[_0x151eb3(0x85e)](_0x5c3c51/0x3e8%0x3c)[_0x151eb3(0x91c)]()[_0x151eb3(0x9e1)](0x2,'0');_0x318dda['textContent']=_0x15d828+':'+_0x205874;}},0x3e8);}function renderPerQuestionView(){const _0x46fd0d=_0x1b610a;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x5d011a=currentDisplayedQuiz[_0x46fd0d(0x3c6)][currentQuestionIndex],_0xcf966f=_0x5d011a['questionType']||currentDisplayedQuiz[_0x46fd0d(0xcb6)],_0x247f54=currentDisplayedQuiz[_0x46fd0d(0x43d)]?.[_0x46fd0d(0x5d8)]===!![];let _0x8ea685=_0x46fd0d(0x90e)+(currentQuestionIndex+0x1)+_0x46fd0d(0xe8b)+currentDisplayedQuiz[_0x46fd0d(0x3c6)][_0x46fd0d(0x14c)]+_0x46fd0d(0x1b4)+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x46fd0d(0x42e)+currentDisplayedQuiz[_0x46fd0d(0x5cc)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x8ea685;let _0x155b6c=_0x5d011a['stem']||_0x5d011a['questionText'];_0x5d011a[_0x46fd0d(0x538)]&&(_0x155b6c+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5d011a[_0x46fd0d(0x538)]+'</div>');let _0xdc1362='';switch(_0xcf966f){case'short_answer':case _0x46fd0d(0x312):_0xdc1362=_0x46fd0d(0x905);break;case _0x46fd0d(0x8fb):_0xdc1362=_0x46fd0d(0x3d5);break;case _0x46fd0d(0x3e6):_0xdc1362=_0x46fd0d(0xd82)+(_0x5d011a[_0x46fd0d(0x6cf)]||[])[_0x46fd0d(0x4cb)](_0x39580a=>_0x46fd0d(0x15f)+_0x39580a+'\x22>'+_0x39580a+_0x46fd0d(0xbe2))[_0x46fd0d(0x656)]('')+_0x46fd0d(0xc96);break;default:_0x5d011a[_0x46fd0d(0x487)]&&(_0xdc1362=_0x5d011a[_0x46fd0d(0x487)][_0x46fd0d(0x4cb)]((_0x6d3ef,_0x40dac8)=>_0x46fd0d(0x5e3)+_0x40dac8+_0x46fd0d(0x54e)+_0x40dac8+_0x46fd0d(0x51b)+_0x40dac8+'\x22>'+_0x6d3ef+_0x46fd0d(0x964))[_0x46fd0d(0x656)](''));break;}document[_0x46fd0d(0x8a9)]('per-question-text')[_0x46fd0d(0x568)]=_0x155b6c,document[_0x46fd0d(0x8a9)]('per-question-options')[_0x46fd0d(0x568)]=_0xdc1362;const _0x1b5c75=currentDisplayedQuiz[_0x46fd0d(0x43d)]?.[_0x46fd0d(0x5d8)]===!![],_0x3e655e=currentDisplayedQuiz[_0x46fd0d(0x43d)]?.[_0x46fd0d(0x3ae)]||'checkbox';if(_0x1b5c75&&_0x3e655e==='checkbox'){const _0xb78f89='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea['querySelector'](_0x46fd0d(0x448))['insertAdjacentHTML'](_0x46fd0d(0xdb4),_0xb78f89);}studentQuizArea['insertAdjacentHTML']('beforeend',_0x46fd0d(0xd35)+(currentQuestionIndex===currentDisplayedQuiz[_0x46fd0d(0x3c6)]['length']-0x1?_0x46fd0d(0xb0f):_0x46fd0d(0xb8e))+_0x46fd0d(0x9a0));currentMode===_0x46fd0d(0x65f)&&document[_0x46fd0d(0x8a9)](_0x46fd0d(0x299))?.['addEventListener']('click',cancelAdminTest);document['getElementById'](_0x46fd0d(0x54c))[_0x46fd0d(0xd68)](_0x46fd0d(0xcc3),()=>handleNextQuestionInTimedMode(![]));if(window[_0x46fd0d(0xb1b)])window[_0x46fd0d(0xb1b)][_0x46fd0d(0x4a5)]([studentQuizArea]);currentDisplayedQuiz[_0x46fd0d(0x43d)]?.['timerMode']===_0x46fd0d(0x4bd)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x1f3d23=_0x1b610a,_0x57bbf4=currentDisplayedQuiz[_0x1f3d23(0x43d)]['timerDuration'],_0x4c69d9=document[_0x1f3d23(0x8a9)](_0x1f3d23(0x78d));if(!_0x4c69d9)return;let _0x1efe8d=_0x57bbf4;_0x4c69d9['innerHTML']=_0x1f3d23(0x7dd)+_0x1efe8d+_0x1f3d23(0x187);const _0x216fa6=document['getElementById'](_0x1f3d23(0x8cf)),_0x4ad634=document['getElementById'](_0x1f3d23(0x574));perQuestionTimerInterval=setInterval(()=>{const _0x51988a=_0x1f3d23;_0x1efe8d--;const _0x14c0d6=_0x1efe8d/_0x57bbf4*0x64;_0x216fa6[_0x51988a(0x5a4)][_0x51988a(0x29a)]=_0x14c0d6+'%',_0x4ad634[_0x51988a(0xab8)]=_0x1efe8d,_0x1efe8d<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x51988a(0xe16)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5bcd50=![]){const _0x46d92a=_0x1b610a;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1feaa3=null,_0x3cf180=![];if(!_0x5bcd50){const _0x4e2c42=currentDisplayedQuiz[_0x46d92a(0x3c6)][currentQuestionIndex],_0x4bd86d=_0x4e2c42['questionType']||currentDisplayedQuiz[_0x46d92a(0xcb6)];if(_0x4bd86d==='short_answer'||_0x4bd86d===_0x46d92a(0x312))_0x1feaa3=document[_0x46d92a(0x2b0)]('textarea[name=\x22question_single\x22]')?.['value'][_0x46d92a(0x937)]()??'';else{if(_0x4bd86d===_0x46d92a(0x3e6))_0x1feaa3=document[_0x46d92a(0x2b0)](_0x46d92a(0xd97))?.[_0x46d92a(0x61e)]??'';else{const _0x430cd2=document[_0x46d92a(0x2b0)](_0x46d92a(0x484));_0x430cd2&&(_0x1feaa3=_0x430cd2['value']);}}if(_0x1feaa3===null||_0x1feaa3===''){showMessage(_0x46d92a(0x402)),startPerQuestionTimer();return;}const _0x4b67c6=currentDisplayedQuiz[_0x46d92a(0x43d)]?.[_0x46d92a(0x5d8)]===!![],_0x43f83a=currentDisplayedQuiz[_0x46d92a(0x43d)]?.[_0x46d92a(0x3ae)]||_0x46d92a(0x1a5);if(_0x4b67c6&&_0x43f83a===_0x46d92a(0xb6b)){document[_0x46d92a(0x8a9)](_0x46d92a(0xe33))[_0x46d92a(0xd34)][_0x46d92a(0xad6)]=_0x46d92a(0x58b),document[_0x46d92a(0x8a9)](_0x46d92a(0xb69))[_0x46d92a(0x61e)]=_0x1feaa3,document[_0x46d92a(0x8a9)](_0x46d92a(0xe33))[_0x46d92a(0xb12)][_0x46d92a(0x1e9)](_0x46d92a(0x9cf));return;}const _0x4c9059=document[_0x46d92a(0x8a9)](_0x46d92a(0xe48));_0x4c9059&&(_0x3cf180=_0x4c9059[_0x46d92a(0xaa0)]);}const _0x1cb06f={'answer':_0x1feaa3,'wasConfident':_0x3cf180};proceedToNextQuestion(_0x1cb06f);}async function finalizePerQuestionQuiz(){const _0x14f280=_0x1b610a,_0x126cf8=currentDisplayedQuiz[_0x14f280(0x3c6)]['some'](_0x15fc46=>_0x15fc46[_0x14f280(0xa9f)]==='short_answer');_0x126cf8?showMessage(_0x14f280(0x879)):showMessage(_0x14f280(0x80c));const _0x374288=currentQuizData['id'],_0x55f568=doc(db,_0x14f280(0x407)+appId+_0x14f280(0x56f)+_0x374288+_0x14f280(0x8b6),currentStudentName),_0x424775=await getDoc(_0x55f568),_0x4144f1=_0x424775['exists']()?_0x424775['data']():{},_0x478b72=_0x4144f1[_0x14f280(0x289)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x478b72);}function getResultsFilename(){const _0xf5ad3d=_0x1b610a,_0x288c82=document[_0xf5ad3d(0x8a9)](_0xf5ad3d(0x2bc))[_0xf5ad3d(0xab8)][_0xf5ad3d(0xb27)](/[^a-z0-9]/gi,'_')[_0xf5ad3d(0x8dd)]();return _0xf5ad3d(0x9bc)+(_0x288c82||_0xf5ad3d(0x32a));}function exportResultsAsImage(){const _0x2e73a0=_0x1b610a,_0x403395=document[_0x2e73a0(0x8a9)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x403395)[_0x2e73a0(0x689)](_0x2c29dd=>{const _0x990cd8=_0x2e73a0,_0x5c889e=document[_0x990cd8(0xe6a)]('a');_0x5c889e[_0x990cd8(0xb85)]=getResultsFilename()+_0x990cd8(0x5e2),_0x5c889e[_0x990cd8(0xd44)]=_0x2c29dd[_0x990cd8(0xc0c)](_0x990cd8(0x315)),_0x5c889e['click'](),messageModal[_0x990cd8(0xb12)]['add'](_0x990cd8(0x9cf));});}function exportResultsAsPDF(){const _0x3596b7=_0x1b610a,{jsPDF:_0x455308}=window[_0x3596b7(0xa5a)],_0x13a4a9=new _0x455308();_0x13a4a9[_0x3596b7(0xe89)](_0x3596b7(0xdb7),_0x3596b7(0xd40)),_0x13a4a9[_0x3596b7(0x2e8)]({'html':_0x3596b7(0xad0)}),_0x13a4a9[_0x3596b7(0x2cd)](getResultsFilename()+_0x3596b7(0xd38));}function exportResultsAsWord(){const _0xe1c92a=_0x1b610a,_0x5df8e5=_0xe1c92a(0x93f)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0xe1c92a(0x1f3)+_0xe1c92a(0x1a6),_0x2e6534=_0xe1c92a(0xcf2),_0x21c175=_0x5df8e5+document[_0xe1c92a(0x8a9)](_0xe1c92a(0x32b))[_0xe1c92a(0x568)]+_0x2e6534,_0xd7d6ac=_0xe1c92a(0x79e)+encodeURIComponent(_0x21c175),_0x5a4fd8=document[_0xe1c92a(0xe6a)]('a');document[_0xe1c92a(0x257)]['appendChild'](_0x5a4fd8),_0x5a4fd8[_0xe1c92a(0xd44)]=_0xd7d6ac,_0x5a4fd8[_0xe1c92a(0xb85)]=getResultsFilename()+_0xe1c92a(0x92c),_0x5a4fd8['click'](),document[_0xe1c92a(0x257)][_0xe1c92a(0xde0)](_0x5a4fd8);}function exportResultsAsExcel(){const _0xb67ac5=_0x1b610a,_0x475974=document[_0xb67ac5(0x8a9)](_0xb67ac5(0x32c));let _0x2813ce=[];for(let _0x4259b0=0x0;_0x4259b0<_0x475974['rows']['length'];_0x4259b0++){let _0xa7c0f0=[],_0x46102c=_0x475974[_0xb67ac5(0xbdd)][_0x4259b0][_0xb67ac5(0x6b8)](_0xb67ac5(0xace));for(let _0x150408=0x0;_0x150408<_0x46102c[_0xb67ac5(0x14c)];_0x150408++){_0xa7c0f0[_0xb67ac5(0x6fd)]('\x22'+_0x46102c[_0x150408][_0xb67ac5(0x441)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x2813ce['push'](_0xa7c0f0[_0xb67ac5(0x656)](','));}const _0x510a24=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2813ce[_0xb67ac5(0x656)]('\x0a')],{'type':_0xb67ac5(0x804)}),_0x1489c0=document[_0xb67ac5(0xe6a)]('a');_0x1489c0[_0xb67ac5(0xd44)]=URL[_0xb67ac5(0x397)](_0x510a24),_0x1489c0[_0xb67ac5(0xb85)]=getResultsFilename()+_0xb67ac5(0xbb3),_0x1489c0['click']();}function exportTableAsImage(_0x2995d8,_0x1dfcfb){const _0x37cdb8=_0x1b610a,_0x50076e=document['getElementById'](_0x2995d8),_0x4077a4=document[_0x37cdb8(0x8a9)](_0x37cdb8(0x2bc));if(!_0x50076e){showMessage(_0x37cdb8(0xb71));return;}showMessage(_0x37cdb8(0x95d));const _0x53c13e=document['createElement'](_0x37cdb8(0x98d));_0x53c13e[_0x37cdb8(0x5a4)][_0x37cdb8(0x393)]='#ffffff',_0x53c13e[_0x37cdb8(0x5a4)][_0x37cdb8(0x96a)]=_0x37cdb8(0x19d),_0x53c13e['style'][_0x37cdb8(0x29a)]=_0x37cdb8(0xe49),_0x53c13e['style'][_0x37cdb8(0x347)]='fixed',_0x53c13e['style']['left']='-9999px',_0x53c13e[_0x37cdb8(0x5a4)]['top']='0',_0x53c13e[_0x37cdb8(0x5a4)][_0x37cdb8(0xe4e)]='-1';const _0x40db47=document[_0x37cdb8(0xe6a)]('h1');_0x40db47[_0x37cdb8(0x441)]=_0x4077a4?_0x4077a4[_0x37cdb8(0x441)]:_0x37cdb8(0x638),_0x40db47[_0x37cdb8(0x5a4)][_0x37cdb8(0x431)]=_0x37cdb8(0x6ac),_0x40db47[_0x37cdb8(0x5a4)]['fontFamily']=_0x37cdb8(0xc9c),_0x40db47[_0x37cdb8(0x5a4)][_0x37cdb8(0x5da)]=_0x37cdb8(0xe7e),_0x40db47['style']['fontWeight']='bold',_0x40db47[_0x37cdb8(0x5a4)]['color']=_0x37cdb8(0xd6d),_0x40db47[_0x37cdb8(0x5a4)][_0x37cdb8(0x225)]='20px';const _0x568e48=_0x50076e['cloneNode'](!![]);_0x568e48[_0x37cdb8(0x5a4)][_0x37cdb8(0xb29)]=_0x37cdb8(0x436),_0x568e48[_0x37cdb8(0x5a4)][_0x37cdb8(0xd1f)]=_0x37cdb8(0x2b9);const _0x124949=_0x568e48['querySelectorAll']('th');let _0x827469=-0x1;_0x124949[_0x37cdb8(0xacf)]((_0x23c3c7,_0x2e8255)=>{const _0x5967fe=_0x37cdb8;_0x23c3c7[_0x5967fe(0xab8)]['trim']()==='ผล'&&(_0x23c3c7[_0x5967fe(0x5a4)][_0x5967fe(0xe7a)]='none',_0x827469=_0x2e8255);});if(_0x827469!==-0x1){const _0x5ebbca=_0x568e48['querySelectorAll']('tr');_0x5ebbca[_0x37cdb8(0xacf)](_0x3f0c3d=>{const _0x4c1494=_0x37cdb8,_0x273995=_0x3f0c3d[_0x4c1494(0x6b8)]('td');_0x273995['length']>_0x827469&&(_0x273995[_0x827469][_0x4c1494(0x5a4)][_0x4c1494(0xe7a)]=_0x4c1494(0x436));});}_0x53c13e[_0x37cdb8(0x90c)](_0x40db47),_0x53c13e['appendChild'](_0x568e48),document[_0x37cdb8(0x257)][_0x37cdb8(0x90c)](_0x53c13e),html2canvas(_0x53c13e,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x37cdb8(0x893)})['then'](_0x47990d=>{const _0x1f1883=_0x37cdb8,_0x18d6e5=document[_0x1f1883(0xe6a)]('a');_0x18d6e5[_0x1f1883(0xb85)]=_0x1dfcfb+'.png',_0x18d6e5[_0x1f1883(0xd44)]=_0x47990d[_0x1f1883(0xc0c)]('image/png'),_0x18d6e5[_0x1f1883(0xcc3)](),document[_0x1f1883(0x257)]['removeChild'](_0x53c13e),messageModal[_0x1f1883(0xb12)]['add'](_0x1f1883(0x9cf));})[_0x37cdb8(0x659)](_0xcd9a76=>{const _0x1722a8=_0x37cdb8;console[_0x1722a8(0xce3)](_0x1722a8(0x522),_0xcd9a76),document['body'][_0x1722a8(0xde0)](_0x53c13e),showMessage('เกิดข้อผิดพลาดในการสร้างรูปภาพ');});}function exportTableAsPDF(_0x3d299d,_0x492bcb){const _0x7f3421=_0x1b610a,{jsPDF:_0x2190da}=window[_0x7f3421(0xa5a)],_0x2d1f8e=new _0x2190da();_0x2d1f8e['setFont'](_0x7f3421(0xdb7),'normal'),_0x2d1f8e[_0x7f3421(0x2e8)]({'html':'#'+_0x3d299d}),_0x2d1f8e['save'](_0x492bcb+_0x7f3421(0xd38));}function exportTableAsWord(_0x5bd1a0,_0x58ad70){const _0x39a89c=_0x1b610a,_0x8c6a85=document[_0x39a89c(0x8a9)](_0x5bd1a0);if(!_0x8c6a85){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x28f418='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x39a89c(0x1f3)+_0x39a89c(0x1a6),_0x5b7632='</body></html>',_0x28f664=_0x28f418+_0x8c6a85['innerHTML']+_0x5b7632,_0x5b76aa='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x28f664),_0x22aa70=document[_0x39a89c(0xe6a)]('a');document[_0x39a89c(0x257)][_0x39a89c(0x90c)](_0x22aa70),_0x22aa70['href']=_0x5b76aa,_0x22aa70['download']=_0x58ad70+_0x39a89c(0x92c),_0x22aa70[_0x39a89c(0xcc3)](),document[_0x39a89c(0x257)][_0x39a89c(0xde0)](_0x22aa70);}function exportTableAsExcel(_0x1336da,_0x2b03b5){const _0x1b4e1a=_0x1b610a,_0x5830c2=document[_0x1b4e1a(0x8a9)](_0x1336da);if(!_0x5830c2){showMessage(_0x1b4e1a(0xb71));return;}let _0xda0a65=[];for(let _0x34ac36=0x0;_0x34ac36<_0x5830c2['rows'][_0x1b4e1a(0x14c)];_0x34ac36++){let _0x1a9169=[],_0x22d8a4=_0x5830c2[_0x1b4e1a(0xbdd)][_0x34ac36][_0x1b4e1a(0x6b8)](_0x1b4e1a(0xace));for(let _0x5ba689=0x0;_0x5ba689<_0x22d8a4[_0x1b4e1a(0x14c)];_0x5ba689++){_0x1a9169[_0x1b4e1a(0x6fd)]('\x22'+_0x22d8a4[_0x5ba689]['innerText'][_0x1b4e1a(0xb27)](/"/g,'\x22\x22')+'\x22');}_0xda0a65[_0x1b4e1a(0x6fd)](_0x1a9169[_0x1b4e1a(0x656)](','));}const _0xd570fc=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xda0a65[_0x1b4e1a(0x656)]('\x0a')],{'type':_0x1b4e1a(0x804)}),_0x144dfb=document[_0x1b4e1a(0xe6a)]('a');_0x144dfb['href']=URL[_0x1b4e1a(0x397)](_0xd570fc),_0x144dfb[_0x1b4e1a(0xb85)]=_0x2b03b5+'.csv',_0x144dfb[_0x1b4e1a(0xcc3)]();}function renderAnalytics(_0x5bf6ca,_0x2d3906){const _0x5663dc=_0x1b610a,_0x56770d=_0x2d3906['filter'](_0x4e68e2=>_0x4e68e2[_0x5663dc(0xcbd)]!==undefined),_0x4d9431=currentProjectData[_0x5663dc(0x3a4)][_0x5663dc(0x14c)],_0x947c25=_0x56770d['length'],_0x585a40=_0x4d9431-_0x947c25,_0x445b3a=_0x4d9431>0x0?_0x947c25/_0x4d9431*0x64:0x0,_0x56a7d5=_0x56770d['map'](_0x59254c=>_0x59254c['latestScore']),_0x426259=_0x56a7d5['length']>0x0?_0x56a7d5[_0x5663dc(0x817)]((_0x5385a8,_0x3c43b1)=>_0x5385a8+_0x3c43b1,0x0)/_0x56a7d5[_0x5663dc(0x14c)]:0x0,_0x2d2c12=_0x5bf6ca[_0x5663dc(0x3c6)]['length'],_0x2c2607=_0x2d2c12>0x0?_0x426259/_0x2d2c12*0x64:0x0,_0x22268f=calculateItemAnalysis(_0x5bf6ca,_0x56770d),_0x3bac48=calculateReliabilityKR20(_0x5bf6ca,_0x56770d,_0x22268f[_0x5663dc(0xe14)]);let _0x14f980='';if(_0x3bac48!==null){let _0x5d713d='';if(_0x3bac48>=0.9)_0x5d713d='ยอดเยี่ยม';else{if(_0x3bac48>=0.8)_0x5d713d=_0x5663dc(0xbf9);else{if(_0x3bac48>=0.7)_0x5d713d='ดี';else{if(_0x3bac48>=0.6)_0x5d713d='พอใช้';else _0x5d713d=_0x5663dc(0x962);}}}_0x14f980=_0x5663dc(0x37d)+_0x3bac48[_0x5663dc(0x84f)](0x2)+_0x5663dc(0x1ef)+_0x5d713d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x3e79ea=document[_0x5663dc(0x8a9)](_0x5663dc(0xbd1));_0x3e79ea[_0x5663dc(0x568)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x445b3a[_0x5663dc(0x84f)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x947c25+'/'+_0x4d9431+_0x5663dc(0x7a9)+_0x426259['toFixed'](0x2)+_0x5663dc(0x4b4)+_0x2c2607[_0x5663dc(0x84f)](0x0)+_0x5663dc(0x4ea)+(_0x56a7d5[_0x5663dc(0x14c)]>0x0?Math[_0x5663dc(0xb5e)](..._0x56a7d5):_0x5663dc(0xb7b))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x56a7d5[_0x5663dc(0x14c)]>0x0?Math[_0x5663dc(0x3b3)](..._0x56a7d5):_0x5663dc(0xb7b))+_0x5663dc(0x153)+_0x14f980+_0x5663dc(0xa37);const _0x43e916=document[_0x5663dc(0x8a9)](_0x5663dc(0xa88));_0x43e916&&_0x43e916[_0x5663dc(0x1e9)]();const _0x2fd457=_0x5663dc(0x987);_0x3e79ea['insertAdjacentHTML'](_0x5663dc(0x5d9),_0x2fd457);const _0x31301d=currentProjectData[_0x5663dc(0x3a4)]||[];renderSubmissionChart(_0x947c25,_0x585a40,_0x56770d,_0x31301d),renderScoreDistributionChart(_0x56770d,_0x2d2c12),renderQuestionAnalytics(_0x5bf6ca,_0x56770d,_0x31301d),renderInterestingStats(_0x5bf6ca,_0x56770d);}async function handleExportLessonPDF(){const _0x35b36d=_0x1b610a,_0x46353e=document[_0x35b36d(0x8a9)](_0x35b36d(0xc8f)),_0x390bb5=document[_0x35b36d(0x8a9)]('lesson-plan-title')[_0x35b36d(0xab8)],_0x17a795=window[_0x35b36d(0x7d1)]('',_0x35b36d(0xcca)),_0x5de7b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x390bb5+_0x35b36d(0xadc)+_0x46353e[_0x35b36d(0x568)]+_0x35b36d(0x323);_0x17a795[_0x35b36d(0x6ef)][_0x35b36d(0xb5b)](_0x5de7b2),_0x17a795[_0x35b36d(0x6ef)][_0x35b36d(0x9d5)](),_0x17a795['onload']=function(){setTimeout(()=>{const _0x402684=_0x6978;_0x17a795[_0x402684(0xcfd)]();},0x5dc);};}function renderInterestingStats(_0x18d9ce,_0x5d9c56){const _0x27f368=_0x1b610a,_0x1c4545=document['getElementById'](_0x27f368(0xa9e));if(!_0x1c4545)return;if(_0x5d9c56['length']===0x0){_0x1c4545[_0x27f368(0x568)]=_0x27f368(0xb87);return;}const _0x13fa65=_0x18d9ce['questions'][_0x27f368(0x4cb)]((_0x32264e,_0x4af696)=>({'index':_0x4af696+0x1,'text':_0x32264e[_0x27f368(0x460)]||_0x32264e[_0x27f368(0xc35)],'correct':0x0}));_0x5d9c56[_0x27f368(0xacf)](_0x476f4d=>{const _0x18b0d7=_0x27f368,_0x5e72cb=_0x476f4d['attempts'][_0x476f4d[_0x18b0d7(0x289)][_0x18b0d7(0x14c)]-0x1];_0x5e72cb&&_0x5e72cb['answers']&&_0x5e72cb[_0x18b0d7(0x772)][_0x18b0d7(0xacf)](_0x442a27=>{const _0x4ad99e=_0x18b0d7,_0x3d55e7=_0x13fa65[_0x4ad99e(0x6bf)](_0xd142e4=>_0xd142e4[_0x4ad99e(0x9f6)]===_0x442a27[_0x4ad99e(0x61b)]);_0x442a27[_0x4ad99e(0xe63)]&&_0x3d55e7&&_0x3d55e7[_0x4ad99e(0xb98)]++;});});const _0x51514f=_0x5d9c56[_0x27f368(0x14c)],_0x6818c2=Math[_0x27f368(0xb5e)](..._0x13fa65[_0x27f368(0x4cb)](_0x8e87f=>_0x8e87f[_0x27f368(0xb98)])),_0x2c2b7e=Math['min'](..._0x13fa65[_0x27f368(0x4cb)](_0x1f788c=>_0x1f788c[_0x27f368(0xb98)])),_0x139466=_0x13fa65[_0x27f368(0x58f)](_0x42a240=>_0x42a240[_0x27f368(0xb98)]===_0x6818c2)['map'](_0x15b410=>_0x27f368(0xab2)+_0x15b410[_0x27f368(0x26b)]),_0x2ecf8b=_0x13fa65[_0x27f368(0x58f)](_0x547447=>_0x547447[_0x27f368(0xb98)]===_0x2c2b7e)[_0x27f368(0x4cb)](_0x48326e=>_0x27f368(0xab2)+_0x48326e[_0x27f368(0x26b)]),_0x225a7a=_0x5d9c56[_0x27f368(0x528)]((_0x53d8ef,_0x595a76)=>_0x595a76[_0x27f368(0xcbd)]-_0x53d8ef[_0x27f368(0xcbd)])[_0x27f368(0x58f)]((_0xebed83,_0x9f1ec7,_0x53c2f1)=>_0xebed83[_0x27f368(0xcbd)]===_0x53c2f1[0x0]['latestScore']),_0x3edcfa=_0x5d9c56[_0x27f368(0x528)]((_0x2a5517,_0x4b1665)=>_0x2a5517[_0x27f368(0xcbd)]-_0x4b1665[_0x27f368(0xcbd)])[_0x27f368(0x58f)]((_0x3a403e,_0x98a102,_0x580b9a)=>_0x3a403e[_0x27f368(0xcbd)]===_0x580b9a[0x0][_0x27f368(0xcbd)]),_0x3f6e5f=_0x27f368(0x9bd)+_0x139466[_0x27f368(0x656)](',\x20')+_0x27f368(0xdac)+_0x6818c2+_0x27f368(0x2e6)+_0x51514f+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x2ecf8b[_0x27f368(0x656)](',\x20')+_0x27f368(0xdac)+(_0x51514f-_0x2c2b7e)+'\x20/\x20'+_0x51514f+_0x27f368(0x5bc)+_0x225a7a[_0x27f368(0x4cb)](_0x3a2a7b=>_0x3a2a7b[_0x27f368(0x311)])[_0x27f368(0x656)](',\x20')+_0x27f368(0xa56)+_0x225a7a[0x0][_0x27f368(0xcbd)]+_0x27f368(0x3c0)+_0x3edcfa[_0x27f368(0x4cb)](_0x5db9e4=>_0x5db9e4[_0x27f368(0x311)])[_0x27f368(0x656)](',\x20')+_0x27f368(0xa56)+_0x3edcfa[0x0][_0x27f368(0xcbd)]+_0x27f368(0x4d1);_0x1c4545[_0x27f368(0x568)]=_0x3f6e5f;}function renderSubmissionChart(_0x12a778,_0x53bf09,_0x366584,_0x3d4f23){const _0x584d61=_0x1b610a,_0x8bc06b=document['getElementById'](_0x584d61(0xdba))['getContext']('2d'),_0x35670e=_0x366584['map'](_0x187b68=>_0x187b68[_0x584d61(0x311)]),_0xdbc38d=_0x3d4f23[_0x584d61(0x58f)](_0x18ace1=>!_0x35670e[_0x584d61(0x55e)](_0x18ace1));chartInstances[_0x584d61(0xccd)]&&chartInstances[_0x584d61(0xccd)][_0x584d61(0xca6)](),chartInstances[_0x584d61(0xccd)]=new Chart(_0x8bc06b,{'type':'doughnut','data':{'labels':[_0x584d61(0x9e5),_0x584d61(0x643)],'datasets':[{'data':[_0x12a778,_0x53bf09],'backgroundColor':[_0x584d61(0xe04),_0x584d61(0xb22)],'borderColor':['#ffffff',_0x584d61(0x893)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x5954fb){let _0x1c1136=_0x5954fb['label']||'';return _0x1c1136&&(_0x1c1136+=':\x20'),_0x1c1136+=_0x5954fb['raw'],_0x1c1136;},'afterLabel':function(_0x58cd9b){const _0x2b7080=_0x584d61;let _0x4f46ba;return _0x58cd9b[_0x2b7080(0x4ce)]===0x0?_0x4f46ba=_0x35670e:_0x4f46ba=_0xdbc38d,_0x4f46ba[_0x2b7080(0x14c)]>0x0?_0x4f46ba['join']('\x0a'):_0x2b7080(0x1e8);}}}}}});}function renderScoreDistributionChart(_0x1264d2,_0x3eb405){const _0x457fb9=_0x1b610a,_0x499989=document[_0x457fb9(0x8a9)]('score-distribution-chart')[_0x457fb9(0xe75)]('2d'),_0x14db7c={};for(let _0x9c17f9=0x0;_0x9c17f9<=_0x3eb405;_0x9c17f9++){_0x14db7c[_0x9c17f9]=0x0;}_0x1264d2[_0x457fb9(0xacf)](_0x18ce10=>{const _0x5c2296=_0x457fb9;_0x14db7c[_0x18ce10[_0x5c2296(0xcbd)]]!==undefined&&_0x14db7c[_0x18ce10[_0x5c2296(0xcbd)]]++;}),chartInstances[_0x457fb9(0xdd7)]&&chartInstances[_0x457fb9(0xdd7)][_0x457fb9(0xca6)](),chartInstances[_0x457fb9(0xdd7)]=new Chart(_0x499989,{'type':_0x457fb9(0x663),'data':{'labels':Object[_0x457fb9(0x770)](_0x14db7c),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x457fb9(0x17f)](_0x14db7c),'backgroundColor':_0x457fb9(0xcdd),'borderColor':_0x457fb9(0x3d4),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x457fb9(0x16d)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x36a64f){const _0xc9ec45=_0x457fb9,_0x5e1ad2=_0x36a64f[_0xc9ec45(0xd30)],_0x256cec=_0x1264d2['filter'](_0x4f24bc=>_0x4f24bc[_0xc9ec45(0xcbd)]==_0x5e1ad2)['map'](_0x424dfe=>_0x424dfe['studentName']);return _0x256cec[_0xc9ec45(0x14c)]>0x0?_0x256cec[_0xc9ec45(0x656)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x308b4d,_0x4d597b,_0x3ffefa){const _0x2e1cdc=_0x1b610a,_0x4eae0c=document[_0x2e1cdc(0x8a9)]('question-analytics-container');if(_0x3ffefa[_0x2e1cdc(0x14c)]===0x0){_0x4eae0c[_0x2e1cdc(0x568)]=_0x2e1cdc(0xe28);return;}const _0x5e1790=calculateItemAnalysis(_0x308b4d,_0x4d597b),_0x384e47=calculateDistractorAnalysis(_0x308b4d,_0x4d597b);let _0x156a2f='';_0x5e1790['overallGroups']&&(_0x156a2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x5e1790[_0x2e1cdc(0x64f)]['upperGroupNames']['length']+_0x2e1cdc(0x4bb)+_0x5e1790['overallGroups'][_0x2e1cdc(0xb3b)][_0x2e1cdc(0x4cb)](_0xdd85d6=>_0x2e1cdc(0xbd0)+_0xdd85d6+_0x2e1cdc(0x376))['join']('')+_0x2e1cdc(0x7b2)+_0x5e1790[_0x2e1cdc(0x64f)][_0x2e1cdc(0x174)][_0x2e1cdc(0x14c)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e1790[_0x2e1cdc(0x64f)][_0x2e1cdc(0x174)][_0x2e1cdc(0x4cb)](_0x1417d1=>_0x2e1cdc(0xbd0)+_0x1417d1+'</li>')[_0x2e1cdc(0x656)]('')+_0x2e1cdc(0xaf9));let _0x5d5047='';const _0x173741=_0x4d597b[_0x2e1cdc(0x4cb)](_0x5ebdd4=>_0x5ebdd4['studentName']),_0x169d2f=_0x3332e0=>{const _0x4c9516=_0x2e1cdc;if(_0x3332e0>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x3332e0>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x3332e0>=0.4)return _0x4c9516(0x713);if(_0x3332e0>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x4c9516(0x9a7);},_0x24aa41=_0x212be8=>{const _0x7a1d3=_0x2e1cdc;if(_0x212be8<0x0)return _0x7a1d3(0x2cb);if(_0x212be8>=0.4)return _0x7a1d3(0xaef);if(_0x212be8>=0.3)return _0x7a1d3(0x249);if(_0x212be8>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x7a1d3(0x669);},_0x6db6f2=_0x5ec35c=>{const _0x5bff2d=_0x2e1cdc,_0x110a68=_0x5ec35c[_0x5bff2d(0x84f)](0x0);if(parseFloat(_0x110a68)===0x64)return _0x5bff2d(0xc39)+_0x110a68+'%</span>';if(_0x5ec35c>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x110a68+_0x5bff2d(0x911);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x110a68+'%</span>';};_0x308b4d[_0x2e1cdc(0x3c6)]['forEach']((_0x1c33e5,_0x584749)=>{const _0x4c012b=_0x2e1cdc,_0x545818=_0x5e1790[_0x4c012b(0xe14)][_0x584749],_0x1e83d9=_0x384e47[_0x584749],_0x2d5446=_0x1c33e5['stem']||_0x1c33e5[_0x4c012b(0x460)]||_0x1c33e5['instructions'];let _0x24da3c=0x0;const _0x283e79=[],_0x929d9a=[];_0x4d597b[_0x4c012b(0xacf)](_0xe24eef=>{const _0x3309c8=_0x4c012b,_0x422844=_0xe24eef[_0x3309c8(0x289)][_0xe24eef[_0x3309c8(0x289)][_0x3309c8(0x14c)]-0x1];if(_0x422844&&_0x422844[_0x3309c8(0x772)]){const _0x410f49=_0x422844[_0x3309c8(0x772)][_0x3309c8(0x6bf)](_0x30c2c4=>_0x30c2c4[_0x3309c8(0x61b)]===_0x2d5446)??_0x422844[_0x3309c8(0x772)][_0x584749]??null;_0x410f49&&(_0x410f49[_0x3309c8(0xe63)]?(_0x24da3c++,_0x283e79[_0x3309c8(0x6fd)](_0xe24eef[_0x3309c8(0x311)])):_0x929d9a[_0x3309c8(0x6fd)](_0xe24eef['studentName']));}});const _0x1cd62c=_0x4d597b[_0x4c012b(0x14c)]>0x0?_0x24da3c/_0x4d597b[_0x4c012b(0x14c)]*0x64:0x0,_0x322172=_0x3ffefa[_0x4c012b(0x58f)](_0x547cef=>!_0x173741['includes'](_0x547cef)),_0x2f4ac5=_0x545818?_0x4c012b(0x366)+_0x545818['p'][_0x4c012b(0x84f)](0x2)+_0x4c012b(0xd73)+_0x169d2f(_0x545818['p'])+_0x4c012b(0xd01)+_0x545818['r']['toFixed'](0x2)+'</p><div>'+_0x24aa41(_0x545818['r'])+_0x4c012b(0xde7)+_0x6db6f2(_0x1cd62c)+_0x4c012b(0x236):'';let _0x27bca8='';_0x1e83d9&&(_0x27bca8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x4c012b(0x770)](_0x1e83d9)[_0x4c012b(0x4cb)](_0x5350e2=>{const _0x40c508=_0x4c012b,_0xbaa55a=_0x1e83d9[_0x5350e2],_0x2816ff=parseInt(_0x5350e2)===_0x1c33e5['correctAnswerIndex'],_0x1371c0=!_0x2816ff&&_0xbaa55a[_0x40c508(0xc4e)]>_0xbaa55a[_0x40c508(0x4a8)];return'<tr\x20class=\x22'+(_0x2816ff?_0x40c508(0xe83):'')+_0x40c508(0xde2)+(_0x2816ff?'✔\x20':'')+_0xbaa55a[_0x40c508(0x9f6)]+_0x40c508(0xba8)+_0xbaa55a[_0x40c508(0x4a8)]+_0x40c508(0xba8)+_0xbaa55a[_0x40c508(0xc4e)]+'\x20'+(_0x1371c0?'👍':'')+_0x40c508(0xba8)+_0xbaa55a['total']+'</td></tr>';})[_0x4c012b(0x656)]('')+_0x4c012b(0x981));let _0x3a091a='';_0x545818&&_0x545818['upperGroupResponders']&&(_0x3a091a=_0x4c012b(0x811)+_0x545818['upperGroupResponders'][_0x4c012b(0x14c)]+_0x4c012b(0x1d8)+_0x545818[_0x4c012b(0x50d)][_0x4c012b(0x4cb)](_0x2170ed=>_0x4c012b(0xbd0)+(_0x2170ed['isCorrect']?_0x4c012b(0x51f):_0x4c012b(0x45e))+'\x20'+_0x2170ed[_0x4c012b(0x835)]+'</li>')[_0x4c012b(0x656)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x545818[_0x4c012b(0x377)][_0x4c012b(0x14c)]+_0x4c012b(0x1d8)+_0x545818[_0x4c012b(0x377)][_0x4c012b(0x4cb)](_0x169494=>_0x4c012b(0xbd0)+(_0x169494[_0x4c012b(0xe63)]?_0x4c012b(0x51f):_0x4c012b(0x45e))+'\x20'+_0x169494['name']+_0x4c012b(0x376))[_0x4c012b(0x656)]('')+_0x4c012b(0x7e2)),_0x5d5047+=_0x4c012b(0x52f)+(_0x584749+0x1)+':\x20'+_0x2d5446+_0x4c012b(0x930)+_0x2f4ac5+_0x4c012b(0x4ae)+_0x2d5446+_0x4c012b(0x553)+_0x24da3c+_0x4c012b(0xe8b)+_0x4d597b[_0x4c012b(0x14c)]+_0x4c012b(0xd37)+_0x1cd62c[_0x4c012b(0x84f)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x283e79[_0x4c012b(0x14c)]+_0x4c012b(0x872)+(_0x283e79['length']>0x0?_0x283e79['join'](',\x20'):_0x4c012b(0x1e8))+_0x4c012b(0xdc8)+_0x929d9a[_0x4c012b(0x14c)]+_0x4c012b(0x872)+(_0x929d9a['length']>0x0?_0x929d9a[_0x4c012b(0x656)](',\x20'):_0x4c012b(0x1e8))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x322172[_0x4c012b(0x14c)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x322172['length']>0x0?_0x322172[_0x4c012b(0x656)](',\x20'):_0x4c012b(0x1e8))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27bca8+_0x4c012b(0xe6d)+_0x3a091a+_0x4c012b(0xc6e);}),_0x4eae0c[_0x2e1cdc(0x568)]=_0x156a2f+_0x5d5047;try{window['MathJax']&&MathJax[_0x2e1cdc(0x4a5)]&&MathJax[_0x2e1cdc(0x4a5)]([_0x4eae0c]);}catch(_0x1ed230){console['error'](_0x2e1cdc(0x27c),_0x1ed230);}}function calculateDistractorAnalysis(_0x33086b,_0x557574){const _0x12a774=_0x1b610a,_0x124c6f={};if(_0x557574[_0x12a774(0x14c)]<0x2)return _0x124c6f;const _0x1e3029=[..._0x557574][_0x12a774(0x528)]((_0x4c6ad3,_0x145899)=>{const _0x3f7611=_0x12a774,_0x353689=_0x145899['latestScore']-_0x4c6ad3['latestScore'];if(_0x353689!==0x0)return _0x353689;const _0x5f19b7=_0x4c6ad3['attempts']?.['length']||0x1,_0x57edc2=_0x145899[_0x3f7611(0x289)]?.['length']||0x1,_0x381f9d=_0x5f19b7-_0x57edc2;if(_0x381f9d!==0x0)return _0x381f9d;const _0x144df2=new Date(_0x4c6ad3[_0x3f7611(0x588)]),_0x1f84af=new Date(_0x145899[_0x3f7611(0x588)]),_0x5323a2=_0x144df2-_0x1f84af;if(_0x5323a2!==0x0)return _0x5323a2;return _0x4c6ad3[_0x3f7611(0x311)]['localeCompare'](_0x145899[_0x3f7611(0x311)],'th');}),_0x3eeb1a=_0x1e3029[_0x12a774(0x14c)],_0x509713=Math[_0x12a774(0xb5e)](0x1,Math[_0x12a774(0x85e)](_0x3eeb1a*0.33)),_0x579fed=_0x1e3029[_0x12a774(0x8c0)](0x0,_0x509713),_0xf72a82=_0x1e3029['slice'](-_0x509713);return _0x33086b[_0x12a774(0x3c6)][_0x12a774(0xacf)]((_0x32691a,_0x191961)=>{const _0x2c8632=_0x12a774;if(_0x32691a[_0x2c8632(0xa9f)]!==_0x2c8632(0x24a)||!_0x32691a[_0x2c8632(0x487)])return;const _0x132f9b=_0x32691a[_0x2c8632(0x460)],_0x22ef58={};_0x32691a['options'][_0x2c8632(0xacf)]((_0x5f4a02,_0x190f9a)=>{_0x22ef58[_0x190f9a]={'text':_0x5f4a02,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x1e3029[_0x2c8632(0xacf)](_0x1f820a=>{const _0x8b2a29=_0x2c8632,_0x5e33f4=_0x1f820a[_0x8b2a29(0x289)][_0x1f820a[_0x8b2a29(0x289)][_0x8b2a29(0x14c)]-0x1],_0x1b187e=_0x5e33f4[_0x8b2a29(0x772)][_0x8b2a29(0x6bf)](_0x32f3d3=>_0x32f3d3['originalQuestionText']===_0x132f9b);if(_0x1b187e&&_0x1b187e[_0x8b2a29(0x20c)]!==null){const _0x2304b8=_0x32691a[_0x8b2a29(0x487)][_0x8b2a29(0xcf6)](_0x44a0f7=>_0x44a0f7===_0x1b187e[_0x8b2a29(0xb31)]);_0x2304b8!==-0x1&&_0x22ef58[_0x2304b8]&&(_0x22ef58[_0x2304b8][_0x8b2a29(0x843)]++,_0x579fed[_0x8b2a29(0x55e)](_0x1f820a)&&_0x22ef58[_0x2304b8][_0x8b2a29(0x4a8)]++,_0xf72a82['includes'](_0x1f820a)&&_0x22ef58[_0x2304b8][_0x8b2a29(0xc4e)]++);}}),_0x124c6f[_0x191961]=_0x22ef58;}),_0x124c6f;}function calculateReliabilityKR20(_0xf3d9,_0x110614,_0x54cc44){const _0x1c4677=_0x1b610a,_0x44f42d=_0xf3d9[_0x1c4677(0x3c6)][_0x1c4677(0x14c)];if(_0x44f42d<0x2||_0x110614[_0x1c4677(0x14c)]<0x2)return null;const _0x16f53d=_0x110614[_0x1c4677(0x4cb)](_0x40da8d=>_0x40da8d[_0x1c4677(0xcbd)]),_0x36a727=_0x16f53d[_0x1c4677(0x817)]((_0x51f074,_0x427a6b)=>_0x51f074+_0x427a6b,0x0)/_0x16f53d[_0x1c4677(0x14c)],_0x2c1f92=_0x16f53d[_0x1c4677(0x4cb)](_0x5b2644=>Math[_0x1c4677(0x92b)](_0x5b2644-_0x36a727,0x2))[_0x1c4677(0x817)]((_0x54a654,_0x554075)=>_0x54a654+_0x554075,0x0)/_0x16f53d[_0x1c4677(0x14c)];if(_0x2c1f92===0x0)return null;let _0x42437e=0x0;for(let _0x7a492e=0x0;_0x7a492e<_0x44f42d;_0x7a492e++){const _0x50ae3d=_0x54cc44[_0x7a492e]?.['p'];if(_0x50ae3d===undefined)continue;const _0x329bfc=0x1-_0x50ae3d;_0x42437e+=_0x50ae3d*_0x329bfc;}if(_0x42437e===0x0)return null;const _0x2c43c0=_0x44f42d/(_0x44f42d-0x1)*(0x1-_0x42437e/_0x2c1f92);if(_0x2c43c0>0x1)return null;return _0x2c43c0;}async function handleAnalyzeClass(){const _0x2ebc5b=_0x1b610a;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x2ebc5b(0x5f5));return;}const _0x3e5cd5=collection(db,'artifacts/'+appId+_0x2ebc5b(0x56f)+currentQuizData['id']+_0x2ebc5b(0x8b6)),_0x4b8d60=await getDocs(_0x3e5cd5),_0x21faf6=_0x4b8d60[_0x2ebc5b(0x654)][_0x2ebc5b(0x4cb)](_0x5c9798=>_0x5c9798['data']());if(_0x21faf6[_0x2ebc5b(0x14c)]<0x2){showMessage(_0x2ebc5b(0x86b));return;}const _0x1d7455=document['getElementById'](_0x2ebc5b(0x510));_0x1d7455[_0x2ebc5b(0x568)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x2ebc5b(0x8a9)](_0x2ebc5b(0x737))['disabled']=!![];const _0x3a6803=_0x21faf6['map']((_0xe2d388,_0x15a42c)=>{const _0x4c5ff4=_0x2ebc5b,_0x356d38=_0xe2d388[_0x4c5ff4(0x289)][_0xe2d388[_0x4c5ff4(0x289)][_0x4c5ff4(0x14c)]-0x1];if(!_0x356d38)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x15a42c+0x1)+'\x20('+_0xe2d388[_0x4c5ff4(0x311)]+_0x4c5ff4(0x513)+_0x356d38[_0x4c5ff4(0xdd7)]+'/'+_0xe2d388[_0x4c5ff4(0x4f7)]+_0x4c5ff4(0x6d6)+JSON[_0x4c5ff4(0xb0c)](_0x356d38[_0x4c5ff4(0x772)])+_0x4c5ff4(0x720);})[_0x2ebc5b(0x656)]('\x0a---\x0a'),_0x21f82d=_0x2ebc5b(0x201)+currentQuizData[_0x2ebc5b(0x5cc)]+_0x2ebc5b(0xe72)+JSON[_0x2ebc5b(0xb0c)](currentQuizData['questions'])+_0x2ebc5b(0xa64)+_0x3a6803+_0x2ebc5b(0x649),_0x583051={'type':'OBJECT','properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x2ebc5b(0x6a7)}},'classWeaknesses':{'type':_0x2ebc5b(0x7b8),'items':{'type':_0x2ebc5b(0x6a7)}},'teacherSuggestions':{'type':_0x2ebc5b(0x7b8),'items':{'type':_0x2ebc5b(0x6a7)}}},'required':['classStrengths',_0x2ebc5b(0x492),_0x2ebc5b(0x72d)]};try{const _0xe6b911=await callAnalysisApi(_0x21f82d,_0x583051);displayClassAnalysis(_0xe6b911);}catch(_0xac69fa){console[_0x2ebc5b(0xce3)]('Error\x20during\x20class\x20analysis:',_0xac69fa),_0x1d7455[_0x2ebc5b(0x568)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0xac69fa[_0x2ebc5b(0xba0)]+'</p></div>';}finally{document[_0x2ebc5b(0x8a9)](_0x2ebc5b(0x737))[_0x2ebc5b(0x317)]=![];}}function displayClassAnalysis(_0x5b56d6){const _0x4a8834=_0x1b610a,_0x25458b=document[_0x4a8834(0x8a9)](_0x4a8834(0x510));if(!_0x5b56d6){_0x25458b['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x25458b['innerHTML']=_0x4a8834(0x936)+_0x5b56d6[_0x4a8834(0x567)]['map'](_0x5e9abd=>_0x4a8834(0xbd0)+_0x5e9abd+_0x4a8834(0x376))[_0x4a8834(0x656)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b56d6[_0x4a8834(0x492)]['map'](_0x578351=>_0x4a8834(0xbd0)+_0x578351+_0x4a8834(0x376))['join']('')+_0x4a8834(0x718)+_0x5b56d6[_0x4a8834(0x72d)][_0x4a8834(0x4cb)](_0x21eb22=>'<li>'+_0x21eb22+_0x4a8834(0x376))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0xd220c4,_0x2eef55){const _0x577a6b=_0x1b610a,_0x4ad45e=_0x577a6b(0x123)+_0xd220c4[_0x577a6b(0x5cc)]+_0x577a6b(0x478)+_0xd220c4[_0x577a6b(0x5cc)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd220c4[_0x577a6b(0x3c6)][_0x577a6b(0x4cb)]((_0x3a718f,_0x18c8e0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x18c8e0+0x1)+'.\x20'+_0x3a718f[_0x577a6b(0x460)]+_0x577a6b(0x3ea)+(_0x3a718f[_0x577a6b(0x538)]?_0x577a6b(0xa38)+_0x3a718f['imageCode']+_0x577a6b(0x96b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x577a6b(0xc46);_0x2eef55[_0x577a6b(0x6ef)][_0x577a6b(0xb5b)](_0x4ad45e),_0x2eef55[_0x577a6b(0x6ef)]['close'](),_0x2eef55[_0x577a6b(0x92e)]=function(){setTimeout(()=>{_0x2eef55['print']();},0x3e8);};}async function generateWorksheet(){const _0x1c93b3=_0x1b610a,_0x54a19f=document[_0x1c93b3(0x8a9)](_0x1c93b3(0xce0))[_0x1c93b3(0x61e)][_0x1c93b3(0x937)]();if(!_0x54a19f){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x589e07=document[_0x1c93b3(0x8a9)]('force-math-checkbox')[_0x1c93b3(0xaa0)],_0x19a463=_0x589e07?'':_0x1c93b3(0x7e3),_0x1b2bff=window[_0x1c93b3(0x7d1)]('',_0x1c93b3(0xcca));_0x1b2bff[_0x1c93b3(0x6ef)][_0x1c93b3(0xb5b)]('<h1></h1>');const _0xc2eb9c=parseInt(document[_0x1c93b3(0x8a9)](_0x1c93b3(0x7ab))[_0x1c93b3(0x61e)]),_0x524e09=document['getElementById'](_0x1c93b3(0x169))[_0x1c93b3(0xaa0)],_0xd69fb=_0x524e09?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0xa85e58=_0x1c93b3(0xca3)+_0x19a463+'ที่พิมพ์ได้\x20จำนวน\x20'+_0xc2eb9c+_0x1c93b3(0x816)+_0x54a19f+_0x1c93b3(0xd11)+_0xd69fb+_0x1c93b3(0x539)+simpleMathPrompt+_0x1c93b3(0x586),_0xf8f28e={'type':_0x1c93b3(0x6da),'properties':{'topic':{'type':_0x1c93b3(0x6a7)},'questions':{'type':'ARRAY','items':{'type':_0x1c93b3(0x6da),'properties':{'questionText':{'type':_0x1c93b3(0x6a7)},'imageCode':{'type':_0x1c93b3(0x6a7)}},'required':[_0x1c93b3(0x460)]}}},'required':[_0x1c93b3(0x5cc),'questions']};document['getElementById'](_0x1c93b3(0x1f4))[_0x1c93b3(0xab8)]='',document[_0x1c93b3(0x8a9)](_0x1c93b3(0x60a))['classList'][_0x1c93b3(0x1e9)](_0x1c93b3(0x9cf)),document[_0x1c93b3(0x8a9)](_0x1c93b3(0x694))[_0x1c93b3(0xb12)][_0x1c93b3(0x1e9)](_0x1c93b3(0x9cf)),generateWorksheetBtn[_0x1c93b3(0x317)]=!![];try{const _0x22de91=await callAnalysisApi(_0xa85e58,_0xf8f28e);formatAndPrintWorksheet(_0x22de91,_0x1b2bff);}catch(_0x37a430){console['error'](_0x1c93b3(0x812),_0x37a430);if(_0x1b2bff)_0x1b2bff[_0x1c93b3(0x9d5)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x1c93b3(0x8a9)](_0x1c93b3(0x60a))['classList'][_0x1c93b3(0x786)](_0x1c93b3(0x9cf)),document[_0x1c93b3(0x8a9)](_0x1c93b3(0x694))[_0x1c93b3(0xb12)][_0x1c93b3(0x786)]('hidden'),generateWorksheetBtn[_0x1c93b3(0x317)]=![];}}async function callAnalysisApi(_0x235610,_0x435883){const _0x5027b8=_0x1b610a,_0x3fd32a={'contents':[{'role':_0x5027b8(0xd0e),'parts':[{'text':_0x235610}]}],'generationConfig':{'responseMimeType':_0x5027b8(0x36a),'responseSchema':_0x435883}},_0x47b980=_0x5027b8(0x53d),_0x523920='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x47b980,_0xab6926=await fetch(_0x523920,{'method':'POST','headers':{'Content-Type':_0x5027b8(0x36a)},'body':JSON[_0x5027b8(0xb0c)](_0x3fd32a)});if(!_0xab6926['ok'])throw new Error(_0x5027b8(0x53b)+_0xab6926[_0x5027b8(0x9fb)]);const _0x4b962f=await _0xab6926[_0x5027b8(0x160)]();if(_0x4b962f[_0x5027b8(0xe58)]?.[0x0]?.[_0x5027b8(0x5a3)]?.[_0x5027b8(0x946)]?.[0x0])return JSON[_0x5027b8(0xbc4)](_0x4b962f['candidates'][0x0][_0x5027b8(0x5a3)][_0x5027b8(0x946)][0x0][_0x5027b8(0x9f6)]);else{let _0x38c1a6=_0x5027b8(0x589);if(_0x4b962f[_0x5027b8(0xcb4)]?.['blockReason'])_0x38c1a6=_0x5027b8(0x3a2)+_0x4b962f[_0x5027b8(0xcb4)][_0x5027b8(0xb62)]+'.';else _0x4b962f[_0x5027b8(0xe58)]?.[0x0]?.['finishReason']&&_0x4b962f[_0x5027b8(0xe58)][0x0][_0x5027b8(0x4af)]!==_0x5027b8(0x68d)&&(_0x38c1a6=_0x5027b8(0xd63)+_0x4b962f[_0x5027b8(0xe58)][0x0]['finishReason']+'.');console[_0x5027b8(0xce3)](_0x38c1a6,JSON['stringify'](_0x4b962f));throw new Error(_0x38c1a6);}}async function handleStartSyncMode(_0x2f0e5c,_0x31b9f6=![],_0x3fcf20=_0x1b610a(0xe88)){const _0x24c3bc=_0x1b610a,_0x12c3e8=allQuizzes[_0x24c3bc(0x6bf)](_0x5f09e6=>_0x5f09e6['id']===_0x2f0e5c)||allQuizzesGlobal[_0x24c3bc(0x6bf)](_0x2b5eb3=>_0x2b5eb3['id']===_0x2f0e5c);if(!_0x12c3e8){showMessage(_0x24c3bc(0x8ee));return;}currentQuizData=getShuffledQuiz(_0x12c3e8);const _0x23396e=Math[_0x24c3bc(0x85e)](0x3e8+Math[_0x24c3bc(0xa73)]()*0x2328)[_0x24c3bc(0x91c)](),_0x190aac=doc(db,_0x24c3bc(0x407)+appId+_0x24c3bc(0x622),_0x12c3e8[_0x24c3bc(0xccc)]),_0x2fb9f2=await getDoc(_0x190aac);if(!_0x2fb9f2[_0x24c3bc(0xa90)]()){showMessage(_0x24c3bc(0xb9c));return;}const _0x855f80=_0x2fb9f2['data']()[_0x24c3bc(0x3a4)]||[],_0x18ef4f={};if(_0x3fcf20==='anonymous'||_0x3fcf20===_0x24c3bc(0x6fb)){const _0x152558=[...ANONYMOUS_NAMES][_0x24c3bc(0x528)](()=>0.5-Math[_0x24c3bc(0xa73)]());_0x855f80[_0x24c3bc(0xacf)]((_0x47e880,_0x1e6222)=>{const _0x44a212=_0x24c3bc;_0x18ef4f[_0x47e880]=_0x152558[_0x1e6222]||_0x44a212(0x88f)+(_0x1e6222+0x1);});}const _0x4e303c=document[_0x24c3bc(0x8a9)](_0x24c3bc(0xe3e))['checked'],_0x24828f=parseInt(document[_0x24c3bc(0x8a9)]('sync-timer-duration-input')[_0x24c3bc(0x61e)],0xa);let _0x4eb2d7={'timerMode':_0x24c3bc(0x436),'timerDuration':0x0};_0x4e303c&&(_0x4eb2d7[_0x24c3bc(0x214)]=_0x24c3bc(0x4bd),_0x4eb2d7['timerDuration']=_0x24828f||0xf0);const _0x482ca0=document['getElementById'](_0x24c3bc(0x29c))[_0x24c3bc(0xaa0)],_0x172335=document[_0x24c3bc(0x8a9)]('enable-black-market-checkbox')[_0x24c3bc(0xaa0)];try{const _0xe3ae1e=await addDoc(collection(db,'artifacts/'+appId+_0x24c3bc(0x709)),{'quizId':_0x12c3e8['id'],'pin':_0x23396e,'status':_0x24c3bc(0xd28),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x31b9f6,'players':{},'gameVariant':_0x3fcf20,'reviewQuestionIndex':0x0,'playerNicknames':_0x18ef4f,'isAnonymousRevealed':![],..._0x4eb2d7,'showAnswerInAnonymous':_0x482ca0,'isBlackMarketEnabled':_0x172335});currentLiveGameId=_0xe3ae1e['id'],showView(_0x24c3bc(0x70e)),renderSyncLobbyView(_0x23396e,_0x12c3e8['topic']),listenForSyncGameUpdates();const _0x20cc5f={'gameId':currentLiveGameId,'mode':'sync','role':_0x24c3bc(0xe00)};sessionStorage[_0x24c3bc(0x616)](_0x24c3bc(0x87d),JSON[_0x24c3bc(0xb0c)](_0x20cc5f));}catch(_0x25fd81){console['error'](_0x24c3bc(0x144),_0x25fd81),showMessage(_0x24c3bc(0x5a1));}}function calculateFinalPodiumScores(_0x2532a5){const _0x1f6e7a=_0x1b610a;if(!_0x2532a5||!_0x2532a5[_0x1f6e7a(0x698)]||!_0x2532a5[_0x1f6e7a(0x7e6)])return _0x2532a5[_0x1f6e7a(0x7e6)]||{};const _0x5ab60b=_0x2532a5[_0x1f6e7a(0x698)]['questions'][_0x1f6e7a(0x14c)],_0x28721a=JSON['parse'](JSON['stringify'](_0x2532a5[_0x1f6e7a(0x7e6)]));return Object['values'](_0x28721a)['forEach'](_0x91b0f6=>{const _0x3dae77=_0x1f6e7a,_0x3bd384=_0x91b0f6[_0x3dae77(0xdd7)]||0x0,_0xe13c5=_0x91b0f6[_0x3dae77(0x9f0)]||0x0;_0x5ab60b>0x0&&_0x3bd384===_0x5ab60b?_0x91b0f6[_0x3dae77(0xc33)]=!![]:_0x91b0f6['hasPerfectScoreBonus']=![],_0x91b0f6[_0x3dae77(0x309)]=_0x3bd384,_0x91b0f6[_0x3dae77(0x9f0)]=_0xe13c5;}),_0x28721a;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x2c8c58=_0x1b610a;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x3390fb=doc(db,_0x2c8c58(0x407)+appId+_0x2c8c58(0x709),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3390fb,_0x3aba65=>{const _0x1c3236=_0x2c8c58;if(!_0x3aba65[_0x1c3236(0xa90)]()){sessionStorage[_0x1c3236(0x4eb)](_0x1c3236(0x87d)),showMessage(_0x1c3236(0xdb1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1c3236(0xe00)?showView(_0x1c3236(0x535)):showView(_0x1c3236(0x28a));return;}cachedGameData=_0x3aba65[_0x1c3236(0x860)](),cachedGameData['shuffledQuiz']&&(currentQuizData=cachedGameData[_0x1c3236(0x698)]),syncDataAndRender();});const _0x148c78=collection(db,_0x2c8c58(0x407)+appId+_0x2c8c58(0xa14)+currentLiveGameId+'/players');if(currentMode===_0x2c8c58(0xe00))unsubscribePlayersCollectionListener=onSnapshot(_0x148c78,_0x2e352b=>{const _0x6e1cc=_0x2c8c58;_0x2e352b[_0x6e1cc(0xb78)]()['forEach'](_0x314bd3=>{const _0x30fcda=_0x6e1cc;if(_0x314bd3[_0x30fcda(0xb19)]===_0x30fcda(0x4c2)||_0x314bd3[_0x30fcda(0xb19)]===_0x30fcda(0x870))cachedPlayerData[_0x314bd3[_0x30fcda(0xb00)]['id']]=_0x314bd3[_0x30fcda(0xb00)][_0x30fcda(0x860)]();else _0x314bd3[_0x30fcda(0xb19)]===_0x30fcda(0xda9)&&delete cachedPlayerData[_0x314bd3[_0x30fcda(0xb00)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x2c8c58(0x14c)]>0x0){const _0x48dad4=query(_0x148c78,where(_0x2c8c58(0x835),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x48dad4,_0x67a64=>{const _0x361521=_0x2c8c58;_0x67a64['docChanges']()[_0x361521(0xacf)](_0x457f02=>{const _0xe59bc6=_0x361521;(_0x457f02[_0xe59bc6(0xb19)]==='added'||_0x457f02[_0xe59bc6(0xb19)]===_0xe59bc6(0x870))&&(cachedPlayerData[_0x457f02[_0xe59bc6(0xb00)]['id']]=_0x457f02[_0xe59bc6(0xb00)][_0xe59bc6(0x860)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x5b4ce1=_0x1b610a;if(!cachedGameData)return;const _0x2718a8={},_0xa29eb6=cachedGameData['currentQuestionIndex'];Object[_0x5b4ce1(0x770)](cachedPlayerData)[_0x5b4ce1(0xacf)](_0x5425a2=>{const _0x3b9b26=_0x5b4ce1,_0x38a896=cachedPlayerData[_0x5425a2],_0x101f25=_0x38a896[_0x3b9b26(0x772)]&&_0x38a896[_0x3b9b26(0x772)][_0x3b9b26(0x4db)](_0x1b97d5=>_0x1b97d5[_0x3b9b26(0x223)]===_0xa29eb6);_0x2718a8[_0x5425a2]={..._0x38a896,'answered':_0x101f25};});const _0x3f585f={...cachedGameData,'players':_0x2718a8};currentMode===_0x5b4ce1(0xe00)?updateAdminSyncView(_0x3f585f):updateStudentSyncView(_0x3f585f);}function renderSyncLobbyView(_0x19078b,_0x29f258){const _0x4ba435=_0x1b610a;liveGameView[_0x4ba435(0x568)]=_0x4ba435(0xe01)+_0x29f258+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x19078b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x5080be=document[_0x4ba435(0x8a9)](_0x4ba435(0xd25)),_0x8f5f04=document['getElementById'](_0x4ba435(0x23f));_0x5080be[_0x4ba435(0xd68)]('change',()=>{const _0x48fd12=_0x4ba435;_0x8f5f04[_0x48fd12(0x5a4)][_0x48fd12(0xe7a)]=_0x5080be['checked']?_0x48fd12(0xcb2):_0x48fd12(0x436);}),document[_0x4ba435(0x8a9)](_0x4ba435(0x779))[_0x4ba435(0xd68)](_0x4ba435(0xcc3),async()=>{const _0xd6bba1=_0x4ba435,_0x5da525=doc(db,_0xd6bba1(0x407)+appId+_0xd6bba1(0x709),currentLiveGameId),_0x5b7ad4=document[_0xd6bba1(0x8a9)](_0xd6bba1(0xd25))['checked'];await updateDoc(_0x5da525,{'status':_0xd6bba1(0x824),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x5b7ad4});});}function updateAdminSyncView(_0x330a74){const _0x2e6498=_0x1b610a;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x330a74[_0x2e6498(0x9fb)]){case'lobby':renderSyncLobbyView(_0x330a74['pin'],_0x330a74['shuffledQuiz'][_0x2e6498(0x5cc)]);const _0x23631e=Object[_0x2e6498(0xc3c)](_0x330a74[_0x2e6498(0x7e6)]||{})[_0x2e6498(0x58f)](([_0x9adcbf,_0x402a40])=>_0x402a40[_0x2e6498(0x9fb)]!==_0x2e6498(0xd60));document[_0x2e6498(0x8a9)]('player-count')['textContent']=_0x23631e[_0x2e6498(0x14c)],document['getElementById'](_0x2e6498(0xae1))[_0x2e6498(0x568)]=_0x23631e[_0x2e6498(0x4cb)](([_0x78fd1,_0x4e2da1])=>_0x2e6498(0xb5c)+_0x78fd1+_0x2e6498(0x99b)+_0x78fd1+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2e6498(0x656)]('')||_0x2e6498(0xa6c),document['getElementById'](_0x2e6498(0x779))['disabled']=_0x23631e[_0x2e6498(0x14c)]===0x0;break;case _0x2e6498(0x824):const _0x51cac4=Object[_0x2e6498(0x17f)](_0x330a74[_0x2e6498(0x7e6)]||{})[_0x2e6498(0x58f)](_0x1032e2=>_0x1032e2[_0x2e6498(0x9fb)]!==_0x2e6498(0xd60)),_0x1a800d=_0x51cac4['filter'](_0xffcc53=>_0xffcc53[_0x2e6498(0xcd1)])[_0x2e6498(0x14c)],_0x29d515=_0x1a800d===_0x51cac4['length']&&_0x51cac4[_0x2e6498(0x14c)]>0x0;if(_0x29d515&&_0x330a74[_0x2e6498(0x9fb)]==='question'){const _0x2e34be=doc(db,'artifacts/'+appId+_0x2e6498(0x709),currentLiveGameId);updateDoc(_0x2e34be,{'status':_0x2e6498(0xa76)});return;}if(document[_0x2e6498(0x8a9)](_0x2e6498(0x4c6))===null)renderAdminSyncQuestionView(_0x330a74);else{const _0x5e5910=document['getElementById'](_0x2e6498(0xc09));_0x5e5910&&(_0x5e5910[_0x2e6498(0xab8)]=_0x1a800d+'/'+_0x51cac4[_0x2e6498(0x14c)]);const _0x189d1b=document['getElementById'](_0x2e6498(0xc80));_0x189d1b&&(_0x189d1b[_0x2e6498(0x568)]=_0x51cac4[_0x2e6498(0x4cb)](_0x221976=>{const _0x525e68=_0x2e6498,_0x2cbcdc=_0x221976[_0x525e68(0xcd1)]?_0x525e68(0x1f5):'bg-gray-500',_0x1a4d9=_0x221976[_0x525e68(0xcd1)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2cbcdc+'\x22>'+_0x1a4d9+'<span>'+_0x221976[_0x525e68(0x835)]+_0x525e68(0x358)+_0x221976[_0x525e68(0x835)]+_0x525e68(0x314);})[_0x2e6498(0x656)](''));}const _0x562427=_0x330a74['timerMode']===_0x2e6498(0x4bd)&&_0x330a74[_0x2e6498(0x8df)];if(_0x562427){const _0x534638=_0x330a74[_0x2e6498(0x8df)][_0x2e6498(0xa17)]()[_0x2e6498(0xa43)](),_0x23bab8=_0x330a74[_0x2e6498(0x60d)]*0x3e8,_0x5dc06d=_0x534638+_0x23bab8,_0x3a8f9b=document[_0x2e6498(0x8a9)]('sync-timer-bar'),_0x46d0ed=document[_0x2e6498(0x8a9)]('sync-timer-countdown');syncQuestionTimerInterval=setInterval(()=>{const _0x1f3dcb=_0x2e6498,_0x4800d9=Date[_0x1f3dcb(0x82a)](),_0x371a60=_0x51cac4[_0x1f3dcb(0x14c)]>0x0&&_0x51cac4[_0x1f3dcb(0x409)](_0x4795d8=>{const _0x17f704=_0x1f3dcb;if(_0x4795d8['answered'])return!![];const _0x425e00=_0x4795d8[_0x17f704(0x2ec)]||0x0;return _0x4800d9>=_0x534638+_0x23bab8+_0x425e00;});if(_0x371a60){clearInterval(syncQuestionTimerInterval);const _0x35f0a1=doc(db,_0x1f3dcb(0x407)+appId+_0x1f3dcb(0x709),currentLiveGameId);updateDoc(_0x35f0a1,{'status':'summary'});return;}const _0x5e90c8=_0x5dc06d-_0x4800d9;if(_0x5e90c8<=0x0){if(_0x3a8f9b)_0x3a8f9b[_0x1f3dcb(0x5a4)][_0x1f3dcb(0x29a)]='0%';if(_0x46d0ed)_0x46d0ed[_0x1f3dcb(0xab8)]=_0x1f3dcb(0xd61);}else{if(_0x3a8f9b&&_0x46d0ed){const _0x2e3cb1=_0x5e90c8/_0x23bab8*0x64;_0x3a8f9b[_0x1f3dcb(0x5a4)]['width']=_0x2e3cb1+'%',_0x46d0ed[_0x1f3dcb(0xab8)]=Math[_0x1f3dcb(0x235)](_0x5e90c8/0x3e8);}}},0x1f4);}break;case _0x2e6498(0xa76):const _0x20b0af=_0x330a74[_0x2e6498(0x7c6)],_0x259014=_0x330a74['shuffledQuiz'][_0x2e6498(0x3c6)][_0x20b0af];renderSyncSummaryView(_0x330a74,_0x259014,!![]);break;case _0x2e6498(0x423):const _0x1931e6=_0x330a74['gameVariant']||'classic';_0x1931e6===_0x2e6498(0x477)||_0x1931e6===_0x2e6498(0x6fb)?renderAdminSyncDashboard(_0x330a74,!![],_0x330a74['reviewQuestionIndex']):(_0x330a74['status']===_0x2e6498(0x423)&&!_0x330a74[_0x2e6498(0x138)]&&((async()=>{const _0xbfd14c=_0x2e6498;try{const _0x270449=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x270449,{'scoresCalculated':!![]});const _0x52adf0=cachedPlayerData||{},_0xad4211=_0x330a74[_0xbfd14c(0x698)]['questions'][_0xbfd14c(0x14c)],_0x27eb0e={};Object['values'](_0x52adf0)['forEach'](_0x770178=>{const _0xba8397=_0xbfd14c;if(_0x770178[_0xba8397(0x9fb)]!==_0xba8397(0xd60)){const _0x587507=_0x770178['name'],_0x203b5e=_0x770178['score']||0x0,_0x27cb8c=_0x770178[_0xba8397(0x9f0)]||0x0;let _0x40d85f=_0x27cb8c;_0xad4211>0x0&&_0x203b5e===_0xad4211&&(_0x40d85f+=0x1),_0x27eb0e['players.'+_0x587507+'.score']=_0x203b5e,_0x27eb0e['players.'+_0x587507+_0xba8397(0x89e)]=_0x40d85f,_0x27eb0e[_0xba8397(0x8b1)+_0x587507+_0xba8397(0x39c)]=_0x40d85f;}}),await updateDoc(_0x270449,{..._0x27eb0e});}catch(_0x288b71){console[_0xbfd14c(0xce3)]('Error\x20calculating\x20final\x20scores:',_0x288b71);}})()),renderAdminSyncDashboard(_0x330a74,!![],_0x330a74[_0x2e6498(0x7c6)]));break;case _0x2e6498(0x517):const _0x5eb8a9=Object['keys'](_0x330a74[_0x2e6498(0x7e6)]||{})[_0x2e6498(0x14c)]>0x0,_0x3b9a87=_0x330a74[_0x2e6498(0xcd8)]===!![],_0x139e49=_0x330a74[_0x2e6498(0xb02)]===!![];_0x139e49&&!_0x3b9a87&&_0x5eb8a9&&saveGameResultsAsSubmissions(_0x330a74);sessionStorage[_0x2e6498(0x4eb)](_0x2e6498(0x87d));const _0x391150=calculateFinalPodiumScores(_0x330a74);showPodiumView(_0x391150,_0x2e6498(0xb30),_0x330a74);break;}}function renderAdminSyncQuestionView(_0x33a5c0){const _0x3f3221=_0x1b610a,_0x519707=_0x33a5c0[_0x3f3221(0x7c6)],_0xe71433=_0x33a5c0[_0x3f3221(0x698)][_0x3f3221(0x3c6)][_0x519707],_0x46c070=_0x33a5c0[_0x3f3221(0x698)][_0x3f3221(0x3c6)][_0x3f3221(0x14c)],_0x13b2c7=Object['values'](_0x33a5c0[_0x3f3221(0x7e6)]||{})[_0x3f3221(0x58f)](_0x3252b2=>_0x3252b2['status']!=='inactive'),_0x2b7683=_0x13b2c7['filter'](_0x3da336=>_0x3da336[_0x3f3221(0xcd1)])[_0x3f3221(0x14c)],_0x30e414=_0x2b7683===_0x13b2c7[_0x3f3221(0x14c)]&&_0x13b2c7[_0x3f3221(0x14c)]>0x0,_0x2ecdfd=_0xe71433[_0x3f3221(0xa9f)]||_0x33a5c0[_0x3f3221(0x698)][_0x3f3221(0xcb6)],_0x243b31=(_0x2ecdfd==='short_answer'||_0x2ecdfd===_0x3f3221(0x312))&&_0xe71433[_0x3f3221(0x487)]&&_0xe71433[_0x3f3221(0x487)][_0x3f3221(0x14c)]>0x0;let _0x23e57d='';_0x243b31?_0x23e57d=_0x3f3221(0xda2):_0x23e57d=(_0xe71433['options']||[])[_0x3f3221(0x4cb)](_0x11eaf2=>_0x3f3221(0xd3b)+_0x11eaf2+_0x3f3221(0x96b))[_0x3f3221(0x656)]('');let _0x4e57c5='';_0x33a5c0[_0x3f3221(0x214)]===_0x3f3221(0x4bd)&&(_0x4e57c5=_0x3f3221(0xabf)+_0x33a5c0[_0x3f3221(0x60d)]+_0x3f3221(0xe32));liveGameView[_0x3f3221(0x568)]=_0x3f3221(0xacc)+(_0x519707+0x1)+_0x3f3221(0x2e6)+_0x46c070+_0x3f3221(0x83f)+_0x33a5c0['pin']+_0x3f3221(0x44c)+_0x2b7683+'/'+_0x13b2c7[_0x3f3221(0x14c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e57c5+_0x3f3221(0x1af)+(_0xe71433[_0x3f3221(0x460)]||_0xe71433[_0x3f3221(0xc35)])+_0x3f3221(0x993)+_0x23e57d+_0x3f3221(0x39b)+(!_0x30e414?_0x3f3221(0x317):'')+_0x3f3221(0x307);if(window[_0x3f3221(0xb1b)])MathJax[_0x3f3221(0x4a5)]();const _0x50f3b3=doc(db,_0x3f3221(0x407)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x3f3221(0x8a9)](_0x3f3221(0x2b8))['addEventListener'](_0x3f3221(0xcc3),async()=>{const _0x2bd673=_0x3f3221;await updateDoc(_0x50f3b3,{'status':_0x2bd673(0xa76)});}),document[_0x3f3221(0x8a9)](_0x3f3221(0x4b6))[_0x3f3221(0x743)]=()=>{const _0x47da73=_0x3f3221;openScratchpad(_0xe71433,_0xe71433[_0x47da73(0x487)]||[]);},document[_0x3f3221(0x8a9)](_0x3f3221(0x595))[_0x3f3221(0xd68)](_0x3f3221(0xcc3),()=>{const _0x30450e=_0x3f3221;document[_0x30450e(0x8a9)](_0x30450e(0x4c6))[_0x30450e(0xb12)][_0x30450e(0x830)]('hidden');});const _0x8d66c8=document['getElementById'](_0x3f3221(0xd7a));_0x8d66c8&&(_0x8d66c8[_0x3f3221(0x743)]=()=>{const _0x894052=_0x3f3221;showConfirmation(_0x894052(0x44d),async()=>{await updateDoc(_0x50f3b3,{'status':'podium'});});});}function renderSyncLeaderboardView(_0x374f26,_0x1853a8){const _0x27718b=_0x1b610a,_0x317539=Object[_0x27718b(0x17f)](_0x374f26[_0x27718b(0x7e6)]||{});_0x317539[_0x27718b(0x528)]((_0x4b17a3,_0x21931f)=>_0x21931f[_0x27718b(0xdd7)]-_0x4b17a3[_0x27718b(0xdd7)]);const _0xa207ca=_0x317539[_0x27718b(0x8c0)](0x0,0x5);let _0x4d70f4='';if(_0x1853a8){const _0x5c2743=_0x374f26[_0x27718b(0x7c6)]>=_0x374f26[_0x27718b(0x698)][_0x27718b(0x3c6)][_0x27718b(0x14c)]-0x1;_0x4d70f4=_0x27718b(0x96f)+(_0x5c2743?_0x27718b(0x751):_0x27718b(0xda8))+_0x27718b(0x215);}else _0x4d70f4='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x27718b(0x568)]=_0x27718b(0x20b)+_0xa207ca[_0x27718b(0x4cb)]((_0x19a2f5,_0x1c150e)=>_0x27718b(0x93b)+(_0x1c150e+0x1)+'.\x20'+_0x19a2f5['name']+_0x27718b(0x5d3)+_0x19a2f5[_0x27718b(0xdd7)]+_0x27718b(0x7ad))[_0x27718b(0x656)]('')+_0x27718b(0x889)+_0x4d70f4+_0x27718b(0x731),_0x1853a8&&document[_0x27718b(0x8a9)](_0x27718b(0xa94))[_0x27718b(0xd68)](_0x27718b(0xcc3),async()=>{const _0xdf730d=_0x27718b,_0xc0cc2f=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x10cadc=_0x374f26[_0xdf730d(0x7c6)]+0x1;if(_0x10cadc<_0x374f26['shuffledQuiz'][_0xdf730d(0x3c6)][_0xdf730d(0x14c)]){const _0x1e85f4={};Object[_0xdf730d(0x770)](_0x374f26[_0xdf730d(0x7e6)])[_0xdf730d(0xacf)](_0x58bf47=>{const _0x4ccabe=_0xdf730d;_0x1e85f4['players.'+_0x58bf47+_0x4ccabe(0x2b7)]=![];}),await updateDoc(_0xc0cc2f,{'status':'question','currentQuestionIndex':_0x10cadc,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0xc0cc2f,{'status':_0xdf730d(0x517)});});}async function handleJoinSyncGame(){const _0xf2bc6=_0x1b610a,_0x306f04=prompt(_0xf2bc6(0xbf7));if(!_0x306f04||_0x306f04[_0xf2bc6(0x937)]()['length']!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x53b4d4=collection(db,_0xf2bc6(0x407)+appId+_0xf2bc6(0x709)),_0x4dcd4a=query(_0x53b4d4,where(_0xf2bc6(0xd00),'==',_0x306f04[_0xf2bc6(0x937)]()),where(_0xf2bc6(0x9fb),'==',_0xf2bc6(0xd28))),_0x2937e6=await getDocs(_0x4dcd4a);if(_0x2937e6[_0xf2bc6(0x634)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x1bfad0=_0x2937e6[_0xf2bc6(0x654)][0x0];currentLiveGameId=_0x1bfad0['id'];const _0x56b87b=_0x1bfad0[_0xf2bc6(0x860)](),_0x4ff673=doc(db,_0xf2bc6(0x407)+appId+_0xf2bc6(0x399),_0x56b87b[_0xf2bc6(0x782)]),_0xbbe30a=await getDoc(_0x4ff673);if(!_0xbbe30a[_0xf2bc6(0xa90)]())throw new Error(_0xf2bc6(0x807));const _0x5aa28f=_0xbbe30a[_0xf2bc6(0x860)](),_0x4579e7=doc(db,_0xf2bc6(0x407)+appId+'/public/data/projects',_0x5aa28f[_0xf2bc6(0xccc)]),_0x4f0d8e=await getDoc(_0x4579e7);if(!_0x4f0d8e['exists']())throw new Error(_0xf2bc6(0x209));currentQuizData=_0x56b87b[_0xf2bc6(0x698)];const _0x177d78=_0x4f0d8e[_0xf2bc6(0x860)]();showView(_0xf2bc6(0x340)),showTeamPlayerSelection(_0x177d78[_0xf2bc6(0x3a4)],_0x5aa28f[_0xf2bc6(0x5cc)]);const _0x2a8fba=document[_0xf2bc6(0x8a9)](_0xf2bc6(0x62b));_0x2a8fba[_0xf2bc6(0x743)]=confirmAndJoinSyncGame;}catch(_0x391d3c){console[_0xf2bc6(0xce3)](_0xf2bc6(0x6e1),_0x391d3c),showMessage(_0xf2bc6(0x762)+_0x391d3c[_0xf2bc6(0xba0)]);}}function updateStudentSyncView(_0x230f75){const _0x36cb65=_0x1b610a,_0x1114c6=localTeamPlayers[0x0],_0x354ca2=_0x230f75[_0x36cb65(0x7e6)][_0x1114c6]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x230f75[_0x36cb65(0x9fb)]){case _0x36cb65(0xd28):showView(_0x36cb65(0x70e)),liveGameView[_0x36cb65(0x568)]=_0x36cb65(0xa8b);break;case _0x36cb65(0x824):if(_0x230f75[_0x36cb65(0x7c6)]!==lastSeenQuestionIndex){console[_0x36cb65(0xd62)]('New\x20question\x20detected.\x20Cleaning\x20up.'),sessionStorage['removeItem'](_0x36cb65(0xd83)),sessionStorage[_0x36cb65(0x4eb)](_0x36cb65(0xc4a)),sessionStorage['removeItem'](_0x36cb65(0x9eb));const _0x4d279e=_0x36cb65(0x6fa)+lastSeenQuestionIndex,_0x3bb25d='powerupUsed_q'+lastSeenQuestionIndex,_0x5a0708='hiddenOptions_q'+lastSeenQuestionIndex;Object[_0x36cb65(0x770)](sessionStorage)[_0x36cb65(0xacf)](_0xa1ffc7=>{const _0x53a2fb=_0x36cb65;(_0xa1ffc7[_0x53a2fb(0x685)](_0x4d279e)||_0xa1ffc7[_0x53a2fb(0x685)](_0x3bb25d)||_0xa1ffc7[_0x53a2fb(0x685)](_0x5a0708))&&sessionStorage['removeItem'](_0xa1ffc7);});if(_0x354ca2[_0x36cb65(0x4e7)]||_0x354ca2[_0x36cb65(0x21f)]||(_0x354ca2[_0x36cb65(0x2ec)]||0x0)>0x0){const _0x15cdfd=doc(db,'artifacts/'+appId+_0x36cb65(0xa14)+currentLiveGameId+'/players',_0x1114c6);updateDoc(_0x15cdfd,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x36cb65(0x659)](_0x37ed88=>console[_0x36cb65(0xce3)]('Auto-cleanup\x20failed:',_0x37ed88));}lastSeenQuestionIndex=_0x230f75[_0x36cb65(0x7c6)];}localPlayerTurnIndex=0x0;const _0x38b6bc=localTeamPlayers[_0x36cb65(0x409)](_0x432312=>_0x230f75[_0x36cb65(0x7e6)][_0x432312]?.['answered']===!![]);if(_0x38b6bc)liveGameView['innerHTML']=_0x36cb65(0x17c);else{renderStudentSyncQuestionView(_0x230f75);if(_0x230f75[_0x36cb65(0x214)]===_0x36cb65(0x4bd)){if(!_0x230f75[_0x36cb65(0x8df)]){console[_0x36cb65(0xd62)](_0x36cb65(0x842));return;}const _0x3f5a10=_0x230f75[_0x36cb65(0x8df)]['toDate']()['getTime'](),_0x54b528=_0x230f75[_0x36cb65(0x60d)]*0x3e8,_0x841353=localTeamPlayers[_0x36cb65(0x4cb)](_0x1decbb=>_0x230f75[_0x36cb65(0x7e6)][_0x1decbb]?.[_0x36cb65(0x2ec)]||0x0),_0x5437c5=Math[_0x36cb65(0xb5e)](..._0x841353,0x0),_0x14a07e=_0x3f5a10+_0x54b528+_0x5437c5;syncQuestionTimerInterval=setInterval(()=>{const _0x5a56a5=_0x36cb65,_0x5dded0=_0x14a07e-Date['now'](),_0x574592=document[_0x5a56a5(0x8a9)](_0x5a56a5(0x83d)),_0x29114e=document[_0x5a56a5(0x8a9)](_0x5a56a5(0x1c4));if(_0x5dded0<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x574592)_0x574592['style'][_0x5a56a5(0x29a)]='0%';if(_0x29114e)_0x29114e[_0x5a56a5(0xab8)]='0';liveGameView[_0x5a56a5(0x568)]=_0x5a56a5(0x5ca);}else{if(_0x574592&&_0x29114e){const _0x384eab=_0x54b528+_0x5437c5,_0x1052d8=_0x384eab>0x0?_0x5dded0/_0x384eab*0x64:0x0;_0x574592[_0x5a56a5(0x5a4)]['width']=_0x1052d8+'%',_0x29114e[_0x5a56a5(0xab8)]=Math[_0x5a56a5(0x235)](_0x5dded0/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x36cb65(0x568)]=_0x36cb65(0x391);break;case _0x36cb65(0x423):localPlayerTurnIndex=0x0;const _0x27de3a=_0x230f75['gameVariant']||_0x36cb65(0xe88);if(_0x27de3a===_0x36cb65(0xb23)||_0x27de3a===_0x36cb65(0x6fb))renderStudentAnonymousResultsView(_0x230f75,_0x230f75[_0x36cb65(0x7c6)]);else _0x27de3a===_0x36cb65(0x36d)?renderStudentCompetitionResultsView(_0x230f75,_0x230f75[_0x36cb65(0x7c6)]):renderStudentSyncResultsView(_0x230f75);break;case _0x36cb65(0x517):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x36cb65(0xd06)](_0x36cb65(0xbe9),handleFullscreenChange),document[_0x36cb65(0xd06)](_0x36cb65(0xe26),handleVisibilityChange),sessionStorage[_0x36cb65(0x4eb)]('activeGameSession');const _0x5816b1=_0x230f75['gameVariant']||_0x36cb65(0xe88),_0x3e809e=_0x230f75[_0x36cb65(0x698)][_0x36cb65(0x3c6)][_0x36cb65(0x14c)]-0x1;if(_0x5816b1===_0x36cb65(0xb23)||_0x5816b1==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x230f75,_0x3e809e);else _0x5816b1===_0x36cb65(0x36d)?renderStudentCompetitionResultsView(_0x230f75,_0x3e809e):renderStudentSyncResultsView(_0x230f75);const _0x255076=liveGameView['querySelector']('.animate-pulse');_0x255076&&(_0x255076[_0x36cb65(0x5a4)][_0x36cb65(0xe7a)]=_0x36cb65(0x436));const _0x16019c=liveGameView[_0x36cb65(0x2b0)](_0x36cb65(0xc1f));_0x16019c&&(_0x16019c['style'][_0x36cb65(0xe7a)]=_0x36cb65(0x436));const _0x289e1d=_0x36cb65(0x94f);liveGameView[_0x36cb65(0x37e)]?liveGameView[_0x36cb65(0x37e)][_0x36cb65(0xc04)](_0x36cb65(0xdb4),_0x289e1d):liveGameView['insertAdjacentHTML']('beforeend',_0x289e1d);break;}}function renderStudentSyncResultsView(_0x24d58e){const _0x839975=_0x1b610a;let _0x3e62a3=[];_0x24d58e['publicLeaderboard']&&Array[_0x839975(0x47a)](_0x24d58e['publicLeaderboard'])&&_0x24d58e['publicLeaderboard'][_0x839975(0x14c)]>0x0?_0x3e62a3=_0x24d58e[_0x839975(0x1e4)]:_0x3e62a3=Object[_0x839975(0x17f)](_0x24d58e['players']||{});const _0x3876fb=_0x24d58e['gameVariant']||_0x839975(0xe88),_0x434d6f=_0x3876fb===_0x839975(0x477)||_0x3876fb===_0x839975(0x6fb),_0x56f266=_0x24d58e['shuffledQuiz'][_0x839975(0x3c6)],_0xb28fc7=_0x434d6f&&_0x24d58e[_0x839975(0xc4b)]!==undefined?_0x24d58e[_0x839975(0xc4b)]:_0x24d58e[_0x839975(0x7c6)],_0x19d558=_0x434d6f?_0x24d58e[_0x839975(0xc4b)]:_0x24d58e[_0x839975(0x7c6)],_0x3d7d2e=_0x3e62a3[_0x839975(0x4cb)](_0x2b314f=>{const _0x5848c1=_0x839975,_0x42ebb6=(_0x2b314f[_0x5848c1(0x772)]||[])[_0x5848c1(0x58f)](_0x20f6a4=>_0x20f6a4[_0x5848c1(0x223)]<=_0xb28fc7);let _0x2216ec=0x0,_0x5ef407=0x0;_0x434d6f?(_0x2216ec=_0x42ebb6[_0x5848c1(0x58f)](_0x4a6daf=>_0x4a6daf['isCorrect'])[_0x5848c1(0x14c)],_0x5ef407=_0x42ebb6[_0x5848c1(0x817)]((_0x25ddd1,_0x378eb4)=>_0x25ddd1+(_0x378eb4[_0x5848c1(0x823)]||0x0),0x0)):(_0x2216ec=_0x2b314f[_0x5848c1(0xdd7)]||0x0,_0x5ef407=_0x2b314f[_0x5848c1(0x9f0)]||0x0);const _0x2e94e7=[..._0x42ebb6][_0x5848c1(0x528)]((_0x245ec2,_0x1d40db)=>_0x245ec2[_0x5848c1(0x223)]-_0x1d40db[_0x5848c1(0x223)]);let _0x1d9594=0x0;return _0x2e94e7[_0x5848c1(0xacf)](_0x497d39=>{const _0x30b2b8=_0x5848c1,_0x528fd8=_0x497d39['powerupUsed']&&_0x497d39['powerupUsed']!=='wagerMultiplier'||_0x497d39[_0x30b2b8(0x1e6)];_0x497d39[_0x30b2b8(0xe63)]?_0x1d9594=_0x528fd8?0x0:_0x1d9594+0x1:_0x1d9594=0x0;}),{..._0x2b314f,'realScore':_0x2216ec,'totalPoints':_0x5ef407,'answers':_0x2b314f[_0x5848c1(0x772)],'correctStreak':_0x1d9594};}),_0x1951ac=Math[_0x839975(0xb5e)](..._0x3d7d2e[_0x839975(0x4cb)](_0x299933=>_0x299933[_0x839975(0x9f0)]),-Infinity),_0x4244b1=Math[_0x839975(0xb5e)](..._0x3d7d2e['map'](_0x5e5537=>_0x5e5537[_0x839975(0x309)]),-Infinity),_0xa0125f=_0x24d58e[_0x839975(0xcfc)]===!![];let _0x9ca564=_0x3d7d2e[_0x839975(0x58f)](_0x2feb4a=>localTeamPlayers['includes'](_0x2feb4a[_0x839975(0x835)]));_0x9ca564[_0x839975(0x528)]((_0x378008,_0x22be58)=>(_0x22be58[_0x839975(0x9f0)]||0x0)-(_0x378008[_0x839975(0x9f0)]||0x0));let _0x3ae95d='';const _0x445371=_0x434d6f?_0xb28fc7>=_0x56f266[_0x839975(0x14c)]-0x1:_0x24d58e[_0x839975(0x7c6)]>=_0x56f266[_0x839975(0x14c)]-0x1;if(_0x24d58e[_0x839975(0x9fb)]===_0x839975(0x517))_0x3ae95d='';else _0x445371?_0x3ae95d=_0x839975(0x36f):_0x3ae95d=_0x839975(0x193);const _0x1c8bd2=_0x839975(0xcfe)+_0x9ca564[_0x839975(0x4cb)]((_0x273244,_0x57efcb)=>{const _0x200640=_0x839975;let _0x9f7ca7=_0x200640(0x383);const _0x1fcf7e=(_0x273244[_0x200640(0x772)]||[])[_0x200640(0x6bf)](_0x3a15bc=>_0x3a15bc[_0x200640(0x223)]===_0x19d558);let _0x5347ca='';if(_0x1fcf7e){if(_0x1fcf7e[_0x200640(0xb4c)])_0x5347ca+=_0x200640(0x716);if(_0x1fcf7e[_0x200640(0x1c8)])_0x5347ca+=_0x200640(0x3ee);if(_0x1fcf7e['usedBuyTime'])_0x5347ca+=_0x200640(0x4ed);const _0x36dc86=_0x1fcf7e[_0x200640(0x8a8)];if(_0x36dc86){const _0x124bfa={'poll':'📊','cutOne':'✂️','insurance':_0x200640(0x2c8),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x200640(0xceb)};if(_0x124bfa[_0x36dc86])_0x5347ca+=_0x200640(0xe13)+_0x36dc86+'\x22>'+_0x124bfa[_0x36dc86]+'</span>';}}if(_0x1fcf7e){const _0x37d0f2=_0x1fcf7e['isCorrect'],_0x224222=_0x1fcf7e[_0x200640(0x45c)]===!![]||_0x1fcf7e[_0x200640(0x45c)]===_0x200640(0x2a7),_0xe2865d=_0x1fcf7e[_0x200640(0x8a8)];if(_0xe2865d==='wagerMultiplier')_0x9f7ca7=_0x37d0f2?_0x200640(0xc65):_0x200640(0xc6f);else{if(_0x224222)_0x9f7ca7=_0x37d0f2?'bg-[#4ADE80]\x20text-green-900\x20font-bold':'bg-[#EF4444]\x20text-white\x20font-bold';else _0x37d0f2?_0x9f7ca7=_0x200640(0x4c9):_0x9f7ca7=_0x200640(0xd0b);}}let _0x367f73='';_0x1fcf7e&&_0x1fcf7e['powerupUsed']===_0x200640(0x8c8)&&!_0x1fcf7e[_0x200640(0xe63)]&&(_0x367f73=_0x200640(0xad8));const _0x2b4dc7=_0x273244['totalPoints']>=0x0?'(+'+_0x273244[_0x200640(0x9f0)][_0x200640(0x84c)]()+')':'('+_0x273244[_0x200640(0x9f0)][_0x200640(0x84c)]()+')';let _0x5a762c='';const _0x41f25c=_0x273244['answers'][_0x200640(0x14c)],_0x2b9e0b=_0xb28fc7+0x1;if(_0x41f25c>0x0){_0xa0125f?(_0x273244[_0x200640(0x9f0)]===_0x1951ac&&_0x1951ac>0x0&&(_0x5a762c+='<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>'),_0x273244[_0x200640(0x309)]===_0x4244b1&&_0x4244b1>0x0&&(_0x5a762c+=_0x200640(0x443))):_0x273244[_0x200640(0x309)]===_0x2b9e0b&&(_0x5a762c+=_0x200640(0xe2c));const _0x146ec4=_0x5a762c[_0x200640(0x55e)]('👑')||_0x5a762c[_0x200640(0x55e)]('🎓')||_0x5a762c[_0x200640(0x55e)]('⭐');!_0x146ec4&&_0x273244[_0x200640(0x9f0)]<0x0&&(_0x5a762c+=_0x200640(0x26d));}let _0xb110c7='';const _0x72583a=_0x1fcf7e&&_0x1fcf7e[_0x200640(0x1e6)],_0x1368b=_0x1fcf7e&&_0x1fcf7e[_0x200640(0x8a8)]&&_0x1fcf7e['powerupUsed']!==_0x200640(0x8c8);if(!_0x72583a&&!_0x1368b){const _0xd34a61=_0x273244[_0x200640(0x6e6)]||0x0;_0xd34a61>=0x3&&(_0xb110c7=_0x200640(0x275)+_0xd34a61+_0x200640(0xbcd));}return _0x200640(0xbaa)+_0x9f7ca7+_0x200640(0xa69)+(_0x57efcb+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mr-1\x22>'+_0x273244['name']+_0x200640(0x648)+_0x5347ca+'\x20'+_0x5a762c+'\x20'+_0xb110c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x273244[_0x200640(0x309)]+_0x200640(0xa0d)+_0x2b4dc7+_0x200640(0x912)+_0x367f73+_0x200640(0xe6e);})[_0x839975(0x656)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ae95d+_0x839975(0x9f3);liveGameView[_0x839975(0x568)]=_0x1c8bd2;}function renderStudentAnonymousResultsView(_0x45f70b,_0x21864c){const _0x37335e=_0x1b610a;let _0x1dff99=[];_0x45f70b[_0x37335e(0x1e4)]?_0x1dff99=_0x45f70b[_0x37335e(0x1e4)]:_0x1dff99=Object[_0x37335e(0x17f)](_0x45f70b[_0x37335e(0x7e6)]||{});const _0x560e29=_0x45f70b[_0x37335e(0xb8a)]||'classic',_0x55efb2=_0x560e29===_0x37335e(0x477)||_0x560e29==='anonymous_reveal_end',_0x565cda=_0x45f70b['isAnonymousRevealed']===!![],_0x3083a2=_0x45f70b[_0x37335e(0x698)]['questions'],_0x4bb61c=_0x55efb2&&_0x45f70b[_0x37335e(0xc4b)]!==undefined?_0x45f70b[_0x37335e(0xc4b)]:_0x21864c,_0x180ddc=_0x1dff99[_0x37335e(0x4cb)](_0x124c13=>{const _0x4c61ca=_0x37335e,_0x4dc1a0=(_0x124c13[_0x4c61ca(0x772)]||[])[_0x4c61ca(0x58f)](_0x2a6e22=>_0x2a6e22[_0x4c61ca(0x223)]<=_0x4bb61c);let _0x11ceef=0x0,_0x48f1c8=0x0;_0x55efb2?(_0x11ceef=_0x4dc1a0['filter'](_0x5d596b=>_0x5d596b['isCorrect'])[_0x4c61ca(0x14c)],_0x48f1c8=_0x4dc1a0['reduce']((_0x4e0802,_0x2febc3)=>_0x4e0802+(_0x2febc3[_0x4c61ca(0x823)]||0x0),0x0)):(_0x11ceef=_0x124c13[_0x4c61ca(0xdd7)]||0x0,_0x48f1c8=_0x124c13[_0x4c61ca(0x9f0)]||0x0);const _0xa9b6a6=[..._0x4dc1a0][_0x4c61ca(0x528)]((_0x4aca17,_0x37f119)=>_0x4aca17[_0x4c61ca(0x223)]-_0x37f119[_0x4c61ca(0x223)]);let _0x1f35dd=0x0;return _0xa9b6a6[_0x4c61ca(0xacf)](_0x2eaf04=>{const _0x32ad25=_0x4c61ca,_0x42a691=_0x2eaf04[_0x32ad25(0x8a8)]&&_0x2eaf04[_0x32ad25(0x8a8)]!==_0x32ad25(0x8c8)||_0x2eaf04[_0x32ad25(0x1e6)];_0x2eaf04[_0x32ad25(0xe63)]?_0x42a691?_0x1f35dd=0x0:_0x1f35dd++:_0x1f35dd=0x0;}),{..._0x124c13,'realScore':_0x11ceef,'totalPoints':_0x48f1c8,'answers':_0x124c13[_0x4c61ca(0x772)],'correctStreak':_0x1f35dd};}),_0x1c1687=Math[_0x37335e(0xb5e)](..._0x180ddc['map'](_0x89ee0f=>_0x89ee0f[_0x37335e(0x9f0)]),-Infinity),_0x4d25b2=Math['max'](..._0x180ddc['map'](_0x5382ef=>_0x5382ef[_0x37335e(0x309)]),-Infinity),_0xb7395c=_0x45f70b[_0x37335e(0xcfc)]===!![],_0x23d635=[..._0x180ddc][_0x37335e(0x528)]((_0x2a90e6,_0x5157ab)=>{const _0x5da4a1=_0x37335e;if(_0xb7395c){if(_0x5157ab[_0x5da4a1(0x9f0)]!==_0x2a90e6[_0x5da4a1(0x9f0)])return _0x5157ab[_0x5da4a1(0x9f0)]-_0x2a90e6[_0x5da4a1(0x9f0)];if(_0x5157ab[_0x5da4a1(0x309)]!==_0x2a90e6[_0x5da4a1(0x309)])return _0x5157ab[_0x5da4a1(0x309)]-_0x2a90e6[_0x5da4a1(0x309)];}else{if(_0x5157ab[_0x5da4a1(0x9f0)]!==_0x2a90e6[_0x5da4a1(0x9f0)])return _0x5157ab[_0x5da4a1(0x9f0)]-_0x2a90e6[_0x5da4a1(0x9f0)];if(_0x5157ab[_0x5da4a1(0x309)]!==_0x2a90e6[_0x5da4a1(0x309)])return _0x5157ab['realScore']-_0x2a90e6['realScore'];}return(_0x2a90e6[_0x5da4a1(0x835)]||'')['localeCompare'](_0x5157ab[_0x5da4a1(0x835)]||'','th');});let _0x134fe8=null;const _0x510eab=_0x180ddc[_0x37335e(0x58f)](_0x50f4be=>localTeamPlayers[_0x37335e(0x55e)](_0x50f4be[_0x37335e(0x835)]));_0x134fe8=_0x510eab[_0x37335e(0x14c)]>0x0?_0x510eab[_0x37335e(0x528)]((_0x4ebc28,_0x2714a9)=>_0x2714a9['totalPoints']-_0x4ebc28[_0x37335e(0x9f0)])[0x0]:null;if(!_0x134fe8){liveGameView[_0x37335e(0x568)]=_0x37335e(0xd93);return;}const _0x239186=_0xb7395c?_0x134fe8[_0x37335e(0x9f0)]:_0x134fe8[_0x37335e(0x9f0)],_0x59177e=_0x4bb61c+0x1,_0x3cba80=_0x23d635['map']((_0x304305,_0x4d462e)=>{const _0x327804=_0x37335e,_0x50fe86=_0x304305[_0x327804(0x309)],_0x4a32d7=_0x304305['totalPoints'],_0x284f71=(_0x304305[_0x327804(0x772)]||[])[_0x327804(0x6bf)](_0x3181de=>_0x3181de[_0x327804(0x223)]===_0x4bb61c);let _0x454a54='';if(_0x284f71){if(_0x284f71['wasForced'])_0x454a54+=_0x327804(0x359);if(_0x284f71['wasJinxed'])_0x454a54+=_0x327804(0x8cb);if(_0x284f71[_0x327804(0x1e6)])_0x454a54+='<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>';const _0x201ab1=_0x284f71[_0x327804(0x8a8)];if(_0x201ab1){const _0xedabe5={'poll':'📊','cutOne':'✂️','insurance':_0x327804(0x2c8),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':'👁️'};if(_0xedabe5[_0x201ab1])_0x454a54+=_0x327804(0x1c6)+_0xedabe5[_0x201ab1]+_0x327804(0xbcd);}}let _0x3e3b15='';if(_0x59177e>0x0){if(_0xb7395c){if(_0x4a32d7===_0x1c1687&&_0x1c1687>0x0)_0x3e3b15+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x50fe86===_0x4d25b2&&_0x4d25b2>0x0)_0x3e3b15+=_0x327804(0xca7);}else{const _0x12a3d1=_0x304305[_0x327804(0x309)]===_0x59177e&&_0x59177e>0x0;if(_0x12a3d1)_0x3e3b15=_0x327804(0x788);}if(_0x3e3b15===''&&_0x4a32d7<0x0)_0x3e3b15='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x36841a='';const _0x5e3fdf=_0x284f71&&_0x284f71[_0x327804(0x1e6)],_0x103ccd=_0x284f71&&_0x284f71[_0x327804(0x8a8)]&&_0x284f71['powerupUsed']!==_0x327804(0x8c8);if(!_0x5e3fdf&&!_0x103ccd){const _0x342baa=_0x304305['correctStreak']||0x0;_0x342baa>=0x3&&(_0x36841a=_0x327804(0xa19)+_0x342baa+'</span>');}let _0x4da3a1='bg-black/20',_0x3b17c6=![];if(_0x284f71){const _0x280971=_0x284f71['isCorrect'],_0x36bde2=_0x284f71['wasConfident']===!![]||_0x284f71[_0x327804(0x45c)]==='confident',_0x3b7ce8=_0x284f71[_0x327804(0x8a8)];if(_0x3b7ce8==='wagerMultiplier')_0x280971?(_0x4da3a1=_0x327804(0xc65),_0x3b17c6=!![]):_0x4da3a1='bg-red-700\x20text-white\x20font-bold';else{if(_0x36bde2)_0x4da3a1=_0x280971?_0x327804(0x978):_0x327804(0xd4e);else _0x280971&&(_0x4da3a1=_0x327804(0x4c9));}}let _0xe70444='';const _0x377542=_0x304305[_0x327804(0x835)],_0x54be80=_0x45f70b[_0x327804(0x5e1)][_0x304305[_0x327804(0x835)]]||'???',_0x5ab41c=_0x327804(0xba9),_0x20bc10=_0x327804(0x497),_0x21a0a4=localTeamPlayers[_0x327804(0x55e)](_0x377542),_0x7c4568=_0x3b17c6?'text-yellow-800':_0x327804(0x608),_0x6d78ad=_0xb7395c?_0x304305[_0x327804(0x9f0)]:_0x304305[_0x327804(0x9f0)],_0x5c0168=_0x565cda||_0x21a0a4||_0x239186>_0x6d78ad;_0x5c0168?_0xe70444='<div\x20style=\x22'+_0x5ab41c+_0x327804(0xe7c)+_0x377542+'\x20('+_0x54be80+_0x327804(0x3d3)+_0x20bc10+'\x22>'+_0x377542+'</span>\x20'+_0x454a54+'\x20'+_0x3e3b15+'\x20'+_0x36841a+'<span\x20class=\x22block\x20text-sm\x20'+_0x7c4568+_0x327804(0xd75)+_0x20bc10+_0x327804(0x374)+_0x54be80+_0x327804(0x98c):_0xe70444=_0x327804(0x368)+_0x5ab41c+_0x327804(0xe7c)+_0x54be80+_0x327804(0xda1)+_0x20bc10+'\x22>'+_0x54be80+_0x327804(0x464)+_0x454a54+'\x20'+_0x3e3b15+'\x20'+_0x36841a+_0x327804(0x96b);_0x21a0a4&&(_0xe70444=_0x327804(0x2f7)+_0xe70444+_0x327804(0x3e1));const _0x2457ff=_0x4a32d7>=0x0?'(+'+_0x4a32d7[_0x327804(0x84c)]()+')':'('+_0x4a32d7['toLocaleString']()+')',_0x481b36=_0x327804(0x41b)+_0x50fe86+'\x20คะแนน\x20'+_0x2457ff+'</span>';return _0x327804(0x2eb)+_0x4da3a1+_0x327804(0x4e8)+(_0x4d462e+0x1)+_0x327804(0xc2e)+_0xe70444+_0x327804(0xab1)+_0x481b36+_0x327804(0x1c9);})[_0x37335e(0x656)]('');let _0x4d5126='';const _0xf350eb=_0x55efb2?_0x4bb61c>=_0x3083a2['length']-0x1:_0x45f70b['currentQuestionIndex']>=_0x3083a2[_0x37335e(0x14c)]-0x1;if(_0x45f70b['status']===_0x37335e(0x517))_0x4d5126='';else _0xf350eb?_0x4d5126=_0x37335e(0x36f):_0x4d5126=_0x37335e(0x193);const _0x458728=_0x37335e(0xd78)+_0x3cba80+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d5126+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x37335e(0x568)]=_0x458728;}function renderStudentCompetitionResultsView(_0x1efc2c,_0x158a05){const _0x1ac6db=_0x1b610a,_0x3c170f=Object[_0x1ac6db(0x17f)](_0x1efc2c[_0x1ac6db(0x7e6)]||{}),_0x318e15=_0x158a05,_0x54581d=_0x1efc2c[_0x1ac6db(0xb8a)]||_0x1ac6db(0xe88),_0x64dbe=_0x1efc2c[_0x1ac6db(0x698)][_0x1ac6db(0x3c6)],_0x5a8a49=_0x3c170f[_0x1ac6db(0x4cb)](_0x240604=>{const _0x3f5eb8=_0x1ac6db,_0x12a23e=_0x240604[_0x3f5eb8(0xdd7)]||0x0,_0xd4bdd3=_0x240604[_0x3f5eb8(0x9f0)]||0x0,_0x3a3152=(_0x240604['answers']||[])[_0x3f5eb8(0x58f)](_0x112fc0=>_0x54581d===_0x3f5eb8(0x477)?_0x112fc0[_0x3f5eb8(0x223)]<=_0x318e15:!![]);return{..._0x240604,'realScore':_0x12a23e,'totalPoints':_0xd4bdd3,'answers':_0x3a3152};}),_0x2560a9=_0x1efc2c[_0x1ac6db(0xcfc)]===!![],_0x55af60=[..._0x5a8a49]['sort']((_0x358351,_0x54ed98)=>{const _0x4eb714=_0x1ac6db;if(_0x2560a9){const _0x350954=_0x54ed98[_0x4eb714(0x309)]-_0x358351[_0x4eb714(0x309)];if(_0x350954!==0x0)return _0x350954;const _0x1bddc2=_0x54ed98['totalPoints']-_0x358351['totalPoints'];if(_0x1bddc2!==0x0)return _0x1bddc2;return(_0x358351[_0x4eb714(0x835)]||'')[_0x4eb714(0x22f)](_0x54ed98[_0x4eb714(0x835)]||'','th');}else{const _0x59ec70=_0x54ed98[_0x4eb714(0x9f0)]-_0x358351[_0x4eb714(0x9f0)];if(_0x59ec70!==0x0)return _0x59ec70;const _0xdac71f=_0x54ed98['realScore']-_0x358351[_0x4eb714(0x309)];if(_0xdac71f!==0x0)return _0xdac71f;return(_0x358351[_0x4eb714(0x835)]||'')[_0x4eb714(0x22f)](_0x54ed98[_0x4eb714(0x835)]||'','th');}}),_0x2b3be3=_0x55af60[_0x1ac6db(0x4cb)]((_0x2b3093,_0x2d83d1)=>{const _0x47a257=_0x1ac6db,_0x2ffc6d='';let _0x41f30e='bg-black/20';const _0x489dce=_0x2b3093['name'],_0x226651=_0x47a257(0xba9),_0x40c851=_0x47a257(0x497),_0x1ad2e9=_0x47a257(0x368)+_0x226651+'\x22\x20title=\x22'+_0x489dce+_0x47a257(0xda1)+_0x40c851+'\x22>'+_0x489dce+'</span>'+_0x2ffc6d+_0x47a257(0x96b),_0x3ec158='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x41f30e+_0x47a257(0x4e8)+(_0x2d83d1+0x1)+_0x47a257(0xc2e)+_0x1ad2e9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ec158+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1ac6db(0x656)]('');let _0x52b119='';const _0x2644dd=_0x54581d===_0x1ac6db(0x477)?_0x1efc2c[_0x1ac6db(0xc4b)]>=_0x64dbe['length']-0x1:_0x1efc2c['currentQuestionIndex']>=_0x64dbe[_0x1ac6db(0x14c)]-0x1;_0x2644dd?_0x52b119=_0x1ac6db(0x36f):_0x52b119=_0x1ac6db(0x193);const _0x4160f4=_0x1ac6db(0xdad)+_0x2b3be3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52b119+_0x1ac6db(0x731);liveGameView[_0x1ac6db(0x568)]=_0x4160f4;}function renderStudentSyncQuestionView(_0x3bf74e){const _0x119791=_0x1b610a;while(localPlayerTurnIndex<localTeamPlayers[_0x119791(0x14c)]&&_0x3bf74e[_0x119791(0x7e6)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x119791(0xcd1)]===!![]){localPlayerTurnIndex++;}const _0x1846bc=localTeamPlayers[localPlayerTurnIndex];if(!_0x1846bc)return;const _0x3b67a4=_0x3bf74e[_0x119791(0x7e6)][_0x1846bc],_0x38af1b=_0x3bf74e[_0x119791(0x7c6)],_0x5d1747=_0x3bf74e[_0x119791(0x698)]['questions'][_0x119791(0x14c)],_0x4177a2=_0x3bf74e[_0x119791(0x698)]['questions'][_0x38af1b],_0x6f1345=_0x4177a2[_0x119791(0xa9f)]||_0x3bf74e[_0x119791(0x698)]['quizType'];let _0x348b99='',_0x41ec66=![];const _0x230095=_0x119791(0x9d7)+_0x38af1b+'_p'+_0x1846bc,_0x46f888=sessionStorage['getItem'](_0x230095),_0x1ae58e=_0x46f888===_0x119791(0x68a),_0x257ae5=_0x119791(0x900)+_0x38af1b+'_p'+_0x1846bc,_0x2f1918=JSON['parse'](sessionStorage[_0x119791(0x3b7)](_0x257ae5)||'[]')[_0x119791(0x4cb)](String);if((_0x6f1345===_0x119791(0x815)||_0x6f1345===_0x119791(0x312))&&_0x1ae58e&&_0x4177a2[_0x119791(0x487)]&&_0x4177a2['options'][_0x119791(0x14c)]>0x0)_0x348b99=_0x4177a2[_0x119791(0x487)]['map']((_0x212995,_0x3e2d85)=>{const _0x55cc47=_0x119791;if(_0x2f1918[_0x55cc47(0x55e)](String(_0x3e2d85)))return'';return _0x55cc47(0xdda)+_0x212995+'\x22\x20data-index=\x22'+_0x3e2d85+_0x55cc47(0xbac)+_0x212995+_0x55cc47(0x896);})['join']('');else{if(_0x6f1345===_0x119791(0x815)||_0x6f1345===_0x119791(0x312))_0x41ec66=!![],_0x348b99=_0x119791(0x82d);else switch(_0x6f1345){case _0x119791(0x8fb):const _0x21b69a=_0x2f1918[_0x119791(0x55e)]('0')?'':_0x119791(0x525),_0x4cc512=_0x2f1918[_0x119791(0x55e)]('1')?'':_0x119791(0xbae);_0x348b99=_0x21b69a+_0x4cc512;break;case _0x119791(0x3e6):_0x41ec66=!![],_0x348b99=_0x119791(0x7f9)+(_0x4177a2[_0x119791(0x6cf)]||[])[_0x119791(0x4cb)](_0x13131d=>_0x119791(0x15f)+_0x13131d+'\x22>'+_0x13131d+_0x119791(0xbe2))['join']('')+_0x119791(0x498);break;case'multiple_choice':default:_0x348b99=(_0x4177a2[_0x119791(0x487)]||[])['map']((_0x1ddd5c,_0x4a9a95)=>{const _0x2a098e=_0x119791;if(_0x2f1918[_0x2a098e(0x55e)](String(_0x4a9a95)))return'';return _0x2a098e(0xdda)+_0x4a9a95+_0x2a098e(0x427)+_0x4a9a95+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x1ddd5c+_0x2a098e(0x896);})[_0x119791(0x656)]('');break;}}let _0x5898b8='';_0x3bf74e['timerMode']==='per_question'&&(_0x5898b8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x3bf74e[_0x119791(0x60d)]+_0x119791(0xb0d));let _0x5413fc='';const _0x413ab2=_0x3bf74e[_0x119791(0xb8a)]||'classic',_0x29fb1c=[_0x119791(0x477),'anonymous_reveal_end',_0x119791(0x36d)][_0x119791(0x55e)](_0x413ab2);if(_0x3bf74e['isBlackMarketEnabled']===!![]){if(_0x29fb1c)!_0x46f888&&(_0x5413fc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');else{const _0x3c6e86=_0x3b67a4[_0x119791(0x9f0)]||0x0,_0x17f920=_0x3b67a4[_0x119791(0x9ae)]||{},_0x51b370=[_0x17f920[_0x119791(0x4ff)]>0x0?_0x119791(0xae7)+_0x17f920[_0x119791(0x4ff)]+_0x119791(0x1bf):'',_0x17f920['revealOptions']>0x0?'<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20('+_0x17f920[_0x119791(0x68a)]+_0x119791(0x1bf):'',_0x17f920[_0x119791(0xb9a)]>0x0?_0x119791(0xa22)+_0x17f920[_0x119791(0xb9a)]+_0x119791(0x1bf):'',_0x17f920[_0x119791(0x94d)]>0x0?_0x119791(0x596)+_0x17f920[_0x119791(0x94d)]+_0x119791(0x1bf):'',_0x17f920['fiftyFifty']>0x0?_0x119791(0x6ba)+_0x17f920[_0x119791(0xd8a)]+_0x119791(0x1bf):'',_0x17f920['secondChance']>0x0?_0x119791(0x707)+_0x17f920['secondChance']+_0x119791(0x1bf):''][_0x119791(0x58f)](Boolean)[_0x119791(0x656)]('\x20'),_0x3aeca8=_0x119791(0x6fa)+_0x38af1b+'_p'+_0x1846bc,_0x507eff=sessionStorage[_0x119791(0x3b7)](_0x3aeca8)===_0x119791(0xd57),_0x9cc24a=_0x3c6e86>0x0&&(!_0x507eff||_0x3c6e86>=0x1),_0x1bdfc0=_0x3c6e86===0x0?'ตลาดมืด\x20(0\x20P)':_0x507eff?_0x119791(0x43a):_0x119791(0xb07)+_0x3c6e86+_0x119791(0x90f),_0x556561=_0x9cc24a?_0x119791(0x757):_0x119791(0x42a),_0x91b8b6=_0x9cc24a?'':_0x119791(0x317);let _0x48957a='<button\x20id=\x22open-market-btn\x22\x20class=\x22'+_0x556561+_0x119791(0x7ba)+_0x91b8b6+'><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20'+_0x1bdfc0+'</button>';if(!_0x46f888){const _0x48f194=_0x3c6e86>0x0,_0x1f08ec=_0x48f194?_0x119791(0x877):'bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x56820b=_0x48f194?_0x119791(0x62e):_0x119791(0x60b),_0x396e7b=_0x48f194?'':_0x119791(0x317);_0x48957a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22'+_0x1f08ec+_0x119791(0x521)+_0x396e7b+_0x119791(0x9e9)+_0x56820b+_0x119791(0x521)+_0x396e7b+_0x119791(0xa52);}_0x5413fc='<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>'+_0x48957a+'</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>'+(_0x51b370||'')+_0x119791(0xd77);}}let _0x430680='';_0x3b67a4['isJinxed']&&(_0x430680+=_0x119791(0x20e));_0x3b67a4[_0x119791(0x21f)]&&(_0x430680+=_0x119791(0x980));(_0x3b67a4[_0x119791(0x2ec)]||0x0)>0x0&&(_0x430680+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x20<span>เวลาโบนัสทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');if(_0x46f888){if(_0x46f888===_0x119791(0x8c8)){const _0x63d3cd=_0x29fb1c?_0x119791(0xe64):'💰\x20โหมดเดิมพันทำงานอยู่!';_0x430680+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x63d3cd+_0x119791(0x30c);}else{if(_0x46f888===_0x119791(0xb9a))_0x430680+=_0x119791(0x738);else{if(_0x46f888===_0x119791(0xd8a))_0x430680+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x46f888==='secondChance')_0x430680+=_0x119791(0xa2e);else{if(_0x46f888===_0x119791(0x68a))_0x430680+=_0x119791(0x2ae);else _0x46f888===_0x119791(0x94d)?_0x430680+=_0x119791(0x3eb):_0x430680+=_0x119791(0x4e6)+_0x46f888+_0x119791(0x6ed);}}}}}let _0x55d21e='';if(!_0x29fb1c){const _0x4b0d91=_0x3b67a4['correctStreak']||0x0;if(_0x4b0d91>=0x3)_0x55d21e=_0x119791(0x40c)+_0x4b0d91+_0x119791(0xac9);else _0x4b0d91>0x0&&(_0x55d21e=_0x119791(0x27a)+_0x4b0d91+_0x119791(0x1ba));}liveGameView[_0x119791(0x568)]=_0x119791(0xe7f)+(_0x38af1b+0x1)+'\x20/\x20'+_0x5d1747+_0x119791(0xa71)+_0x1846bc+_0x119791(0x1b4)+_0x55d21e+'\x20'+_0x5898b8+'\x20'+_0x5413fc+_0x119791(0x559)+_0x430680+_0x119791(0x560)+(_0x4177a2[_0x119791(0x460)]||_0x4177a2[_0x119791(0xc35)])+_0x119791(0x993)+_0x348b99+_0x119791(0xc7e);if(window[_0x119791(0xb1b)])MathJax['typesetPromise']();function _0x2c2e62(_0x36017d,_0x282536,_0x304c35,_0x2a6488){const _0xf1077b=_0x119791,_0x3f5d29=_0x304c35[_0xf1077b(0x5d8)]===!![],_0x52a20b=_0x304c35['currentQuestionIndex'],_0x3d41d9=_0xf1077b(0x9d7)+_0x52a20b+'_p'+_0x2a6488,_0x655668=sessionStorage[_0xf1077b(0x3b7)](_0x3d41d9),_0x414791=_0x655668===_0xf1077b(0x8c8),_0xd0ab4e=_0x304c35['players'][_0x2a6488];if(_0x414791){const _0x27e129=sessionStorage[_0xf1077b(0x3b7)]('instantWager')==='true';if(_0x29fb1c||_0x27e129){const _0x2a7850=_0xd0ab4e[_0xf1077b(0x9f0)]||0x0;sessionStorage[_0xf1077b(0x4eb)](_0xf1077b(0x3c5)),handleSyncAnswerSubmit(_0x36017d,_0x282536,_0x304c35,_0x2a6488,![],_0x2a7850);}else{const _0x3fc330=document[_0xf1077b(0x8a9)]('wager-modal'),_0x2c1130=document['getElementById'](_0xf1077b(0x11e)),_0xde5c6b=document[_0xf1077b(0x8a9)](_0xf1077b(0xb58)),_0x523c3d=document[_0xf1077b(0x8a9)](_0xf1077b(0x8ad)),_0x7db90=_0xd0ab4e['totalPoints']||0x0;_0x2c1130[_0xf1077b(0xb5e)]=_0x7db90,_0x2c1130[_0xf1077b(0x61e)]=_0x7db90,_0xde5c6b['textContent']=_0x7db90,_0x523c3d[_0xf1077b(0xab8)]=_0x7db90,_0x2c1130[_0xf1077b(0xad7)]=()=>{const _0x2e81d9=_0xf1077b;_0xde5c6b['textContent']=_0x2c1130[_0x2e81d9(0x61e)];};const _0x27b205=document['getElementById']('selected-answer-index-hidden-wager');_0x27b205[_0xf1077b(0xd34)][_0xf1077b(0x99d)]=_0x36017d,_0x27b205[_0xf1077b(0xd34)][_0xf1077b(0x824)]=JSON[_0xf1077b(0xb0c)](_0x282536),_0x27b205[_0xf1077b(0xd34)][_0xf1077b(0x489)]=JSON[_0xf1077b(0xb0c)](_0x304c35),_0x27b205[_0xf1077b(0xd34)]['playerName']=_0x2a6488,_0x3fc330[_0xf1077b(0xb12)][_0xf1077b(0x1e9)](_0xf1077b(0x9cf));}}else{if(_0x3f5d29){document[_0xf1077b(0x8a9)](_0xf1077b(0xe33))[_0xf1077b(0xd34)][_0xf1077b(0xad6)]=_0xf1077b(0xb30);const _0x17398c=document[_0xf1077b(0x8a9)](_0xf1077b(0xb69));_0x17398c[_0xf1077b(0xd34)][_0xf1077b(0x99d)]=_0x36017d,_0x17398c[_0xf1077b(0xd34)][_0xf1077b(0x824)]=JSON[_0xf1077b(0xb0c)](_0x282536),_0x17398c['dataset'][_0xf1077b(0x489)]=JSON[_0xf1077b(0xb0c)](_0x304c35),_0x17398c[_0xf1077b(0xd34)][_0xf1077b(0x162)]=_0x2a6488,document[_0xf1077b(0x8a9)](_0xf1077b(0xe33))[_0xf1077b(0xb12)][_0xf1077b(0x1e9)](_0xf1077b(0x9cf));}else handleSyncAnswerSubmit(_0x36017d,_0x282536,_0x304c35,_0x2a6488,![],0x0);}}_0x41ec66?document[_0x119791(0x8a9)]('sync-submit-btn')[_0x119791(0xd68)]('click',()=>{const _0x19aec9=_0x119791,_0x40bd9a=document[_0x19aec9(0x8a9)](_0x19aec9(0xd51))||document[_0x19aec9(0x8a9)]('sync-matching-select');if(_0x40bd9a[_0x19aec9(0x61e)]['trim']()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x2c2e62(_0x40bd9a[_0x19aec9(0x61e)],_0x4177a2,_0x3bf74e,_0x1846bc);}):document[_0x119791(0x6b8)](_0x119791(0x471))[_0x119791(0xacf)](_0x2d39e4=>{const _0x4950da=_0x119791;_0x2d39e4['addEventListener'](_0x4950da(0xcc3),()=>{const _0x344745=_0x4950da;_0x2c2e62(_0x2d39e4[_0x344745(0xd34)][_0x344745(0x61e)],_0x4177a2,_0x3bf74e,_0x1846bc);});});if(_0x3bf74e[_0x119791(0xcfc)]===!![]){if(!_0x29fb1c){const _0x1f7808=document[_0x119791(0x8a9)](_0x119791(0xe12));_0x1f7808&&_0x1f7808[_0x119791(0xd68)](_0x119791(0xcc3),()=>{const _0x43c8fd=_0x119791,_0x32e362=_0x43c8fd(0x6fa)+_0x38af1b+'_p'+_0x1846bc,_0x1f362d=sessionStorage[_0x43c8fd(0x3b7)](_0x32e362)===_0x43c8fd(0xd57);if(!_0x1f362d)openBlackMarket(_0x3bf74e,_0x3b67a4),sessionStorage['setItem'](_0x32e362,_0x43c8fd(0xd57)),renderStudentSyncQuestionView(_0x3bf74e);else{if(_0x3b67a4['totalPoints']<0x1){showMessage(_0x43c8fd(0x47c));return;}showConfirmation('เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?',()=>{handlePayForMarketEntry(_0x1846bc,_0x3bf74e,_0x3b67a4);});}}),document[_0x119791(0x8a9)]('use-powerup-buyTime')?.[_0x119791(0xd68)](_0x119791(0xcc3),_0x526b6a=>{const _0x4afd92=_0x119791;_0x526b6a[_0x4afd92(0x61a)]['disabled']=!![],handleUsePowerup(_0x1846bc,_0x4afd92(0x4ff),_0x4177a2,_0x3bf74e,_0x3b67a4);}),document['getElementById'](_0x119791(0x17b))?.[_0x119791(0xd68)](_0x119791(0xcc3),_0x40a779=>{const _0x655cc0=_0x119791;_0x40a779[_0x655cc0(0x61a)][_0x655cc0(0x317)]=!![],handleUsePowerup(_0x1846bc,'cutOne',_0x4177a2,_0x3bf74e,_0x3b67a4);}),document[_0x119791(0x8a9)](_0x119791(0x5d7))?.[_0x119791(0xd68)](_0x119791(0xcc3),_0x76b6e2=>{const _0x544912=_0x119791;_0x76b6e2['target'][_0x544912(0x317)]=!![],handleUsePowerup(_0x1846bc,_0x544912(0x94d),_0x4177a2,_0x3bf74e,_0x3b67a4);}),document[_0x119791(0x8a9)](_0x119791(0x2d2))?.[_0x119791(0xd68)](_0x119791(0xcc3),_0x129692=>{const _0x531ca1=_0x119791;_0x129692[_0x531ca1(0x61a)][_0x531ca1(0x317)]=!![],handleUsePowerup(_0x1846bc,_0x531ca1(0xd8a),_0x4177a2,_0x3bf74e,_0x3b67a4);}),document[_0x119791(0x8a9)]('use-powerup-secondChance')?.['addEventListener'](_0x119791(0xcc3),_0x1fdc6=>{const _0x3f2cfe=_0x119791;_0x1fdc6['target'][_0x3f2cfe(0x317)]=!![],handleUsePowerup(_0x1846bc,_0x3f2cfe(0x5ef),_0x4177a2,_0x3bf74e,_0x3b67a4);}),document[_0x119791(0x8a9)](_0x119791(0x2ac))?.['addEventListener'](_0x119791(0xcc3),_0x534efd=>{const _0x26e8eb=_0x119791;_0x534efd['target'][_0x26e8eb(0x317)]=!![],handleUsePowerup(_0x1846bc,_0x26e8eb(0x68a),_0x4177a2,_0x3bf74e,_0x3b67a4);}),document['getElementById'](_0x119791(0xd46))?.[_0x119791(0xd68)](_0x119791(0xcc3),_0x23055a=>{const _0x1823da=_0x119791;_0x23055a[_0x1823da(0x61a)][_0x1823da(0x317)]=!![],sessionStorage[_0x1823da(0x616)]('instantWager',_0x1823da(0xcb3)),handleUsePowerup(_0x1846bc,_0x1823da(0x8c8),_0x4177a2,_0x3bf74e,_0x3b67a4);});}document[_0x119791(0x8a9)](_0x119791(0x6ae))?.[_0x119791(0xd68)](_0x119791(0xcc3),_0x235e3d=>{const _0x4c1a86=_0x119791;_0x235e3d[_0x4c1a86(0x61a)][_0x4c1a86(0x317)]=!![],sessionStorage[_0x4c1a86(0x616)]('instantWager',_0x4c1a86(0xd57)),handleUsePowerup(_0x1846bc,_0x4c1a86(0x8c8),_0x4177a2,_0x3bf74e,_0x3b67a4);});}}async function handleSyncAnswerSubmit(_0x3c5d1f,_0x13241b,_0x205ffe,_0x45e84f,_0x34b1df,_0x119e50=0x0){const _0x121900=_0x1b610a;document['querySelectorAll'](_0x121900(0x316))['forEach'](_0x354e61=>_0x354e61[_0x121900(0x317)]=!![]);const _0x14a17a=_0x205ffe[_0x121900(0x7c6)],_0x4c575e=_0x121900(0x9d7)+_0x14a17a+'_p'+_0x45e84f,_0x343d7d=sessionStorage[_0x121900(0x3b7)](_0x4c575e),_0x4a6efc=_0x205ffe[_0x121900(0x7e6)][_0x45e84f]||{},_0x15be2a=_0x4a6efc['isForcedConfident']===!![],_0x49f964=sessionStorage[_0x121900(0x3b7)]('onSecondChance')===_0x121900(0xd57);let _0x42d8f4=_0x4a6efc['correctStreak']||0x0;_0x343d7d&&_0x343d7d!==_0x121900(0x8c8)&&(_0x42d8f4=0x0);const _0x35b8ab=_0x42d8f4>=0x3,_0x208ea9=_0x13241b[_0x121900(0xa9f)]||_0x205ffe[_0x121900(0x698)][_0x121900(0xcb6)];let _0x1e21a3=![],_0x2475fb=_0x3c5d1f;switch(_0x208ea9){case _0x121900(0x8fb):const _0x53146a=parseInt(_0x3c5d1f),_0x532296=_0x13241b[_0x121900(0xad3)]===!![]||String(_0x13241b[_0x121900(0xad3)])[_0x121900(0x8dd)]()===_0x121900(0xd57);_0x1e21a3=_0x53146a===0x0&&_0x532296||_0x53146a===0x1&&!_0x532296,_0x2475fb=_0x53146a===0x0?_0x121900(0xa12):_0x121900(0xccf);break;case _0x121900(0x815):case'fill_in_no_choices':_0x1e21a3=await gradeShortAnswer(_0x3c5d1f,_0x13241b);break;case'matching_item':_0x1e21a3=_0x3c5d1f===_0x13241b['correctResponse'];break;case _0x121900(0x24a):default:const _0x561aea=parseInt(_0x3c5d1f);_0x1e21a3=_0x561aea===_0x13241b[_0x121900(0x26c)];_0x13241b[_0x121900(0x487)]&&_0x13241b[_0x121900(0x487)][_0x561aea]&&(_0x2475fb=_0x13241b[_0x121900(0x487)][_0x561aea]);break;}if(!_0x1e21a3&&_0x343d7d===_0x121900(0x5ef)&&!_0x49f964){sessionStorage[_0x121900(0x4eb)](_0x4c575e),sessionStorage[_0x121900(0x616)](_0x121900(0xc4a),_0x121900(0xd57)),showMessage(_0x121900(0xc8b)),document[_0x121900(0x6b8)](_0x121900(0x316))[_0x121900(0xacf)](_0x4006b4=>{const _0x35dccb=_0x121900;if(!_0x4006b4[_0x35dccb(0xb12)][_0x35dccb(0x48e)](_0x35dccb(0x9cf)))_0x4006b4['disabled']=![];});return;}let _0x4afa79=0x0;const _0x38a042=_0x343d7d===_0x121900(0x8c8),_0x499128=_0x343d7d===_0x121900(0x94d),_0x144974=sessionStorage[_0x121900(0x3b7)](_0x121900(0x9eb))==='true',_0x1f42bd=_0x4a6efc[_0x121900(0x4e7)]===!![];if(_0x38a042){const _0x215c31=parseInt(_0x119e50,0xa)||0x0;_0x4afa79=_0x1e21a3?_0x215c31*0x2:-_0x215c31;}else{if(_0x144974&&!_0x1e21a3)_0x4afa79=_0x34b1df===!![]||_0x34b1df==='confident'||_0x15be2a?-0x4:-0x2;else{if(_0x15be2a)_0x4afa79=_0x1e21a3?0x2:-0x1;else{if(_0x205ffe[_0x121900(0x5d8)]){if(_0x1e21a3&&(_0x34b1df===!![]||_0x34b1df===_0x121900(0x2a7)))_0x4afa79=0x2;else{if(_0x1e21a3)_0x4afa79=0x1;else{if(!_0x1e21a3&&(_0x34b1df===![]||_0x34b1df===_0x121900(0x627)||_0x34b1df===null))_0x4afa79=0x0;else{if(!_0x1e21a3&&(_0x34b1df===!![]||_0x34b1df===_0x121900(0x2a7)))_0x4afa79=-0x1;}}}}else _0x4afa79=_0x1e21a3?0x1:0x0;}}}_0x35b8ab&&_0x4afa79>0x0&&(_0x4afa79*=0x2);if(_0x1f42bd&&!_0x1e21a3&&_0x4afa79<0x0)_0x4afa79*=0x2;if(!_0x1e21a3&&_0x499128)_0x4afa79=0x0;const _0x1e1618=(_0x4a6efc[_0x121900(0x2ec)]||0x0)>0x0,_0x185ae7=_0x343d7d&&_0x343d7d!==_0x121900(0x8c8);let _0xf27600=0x0;_0x1e21a3&&(_0xf27600=_0x185ae7?0x0:_0x42d8f4+0x1);const _0x27b3ae={'questionIndex':_0x205ffe[_0x121900(0x7c6)],'questionId':_0x13241b['id'],'answer':_0x3c5d1f,'answerText':_0x2475fb,'isCorrect':_0x1e21a3,'originalQuestionText':_0x13241b['questionText']||_0x13241b['stem'],'wasConfident':_0x15be2a?_0x121900(0x2a7):_0x34b1df||![],'pointsAwarded':_0x4afa79,'powerupUsed':_0x343d7d||null,'wasJinxed':_0x1f42bd||![],'wasForced':_0x15be2a||![],'usedPoll':_0x144974||![],'usedBuyTime':_0x1e1618,'streakActive':_0x35b8ab},_0x5514df=doc(db,_0x121900(0x407)+appId+_0x121900(0xa14)+currentLiveGameId+_0x121900(0xe45),_0x45e84f),_0x11b3a4=_0x4a6efc[_0x121900(0x772)]||[],_0x2b8750=_0x11b3a4[_0x121900(0x58f)](_0x455cf7=>_0x455cf7[_0x121900(0x223)]!==_0x205ffe[_0x121900(0x7c6)]),_0x56ec43=[..._0x2b8750,_0x27b3ae],_0x3cbe03=_0x56ec43['filter'](_0x43a699=>_0x43a699['isCorrect'])['length'],_0x1283f6={'answers':_0x56ec43,'score':_0x3cbe03,'totalPoints':increment(_0x4afa79),'answered':!![],'lastAnswerIndex':_0x208ea9==='multiple_choice'||_0x208ea9===_0x121900(0x8fb)?parseInt(_0x3c5d1f):null,'lastAnswerValue':_0x2475fb,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0xf27600};if(_0x49f964)sessionStorage[_0x121900(0x4eb)](_0x121900(0xc4a));try{await updateDoc(_0x5514df,_0x1283f6);}catch(_0x13d329){console[_0x121900(0xce3)](_0x121900(0x951),_0x13d329),showMessage(_0x121900(0xcb0)),document[_0x121900(0x6b8)](_0x121900(0x316))[_0x121900(0xacf)](_0x3b7fad=>_0x3b7fad[_0x121900(0x317)]=![]);}}const allMarketItems=[{'id':'buyTime','name':_0x1b610a(0x8cd),'price':0x1,'desc':_0x1b610a(0x290)},{'id':'cutOne','name':_0x1b610a(0xb94),'price':0x2,'desc':_0x1b610a(0x8ce)},{'id':_0x1b610a(0xd8a),'name':'🌗\x2050:50','price':0x5,'desc':_0x1b610a(0xc00)},{'id':_0x1b610a(0x5ef),'name':_0x1b610a(0x973),'price':0x7,'desc':_0x1b610a(0x818)},{'id':_0x1b610a(0x68a),'name':_0x1b610a(0x125),'price':0xc,'desc':_0x1b610a(0xe06)}];function openBlackMarket(_0x5d075b,_0x187438){const _0x53fa19=_0x1b610a;let _0x2444df=null;const _0x11f2a6=document[_0x53fa19(0x8a9)](_0x53fa19(0x119)),_0x18a9c6=document[_0x53fa19(0x8a9)](_0x53fa19(0x878)),_0x3ae5e1=document[_0x53fa19(0x8a9)](_0x53fa19(0x8ca)),_0x2ebfe5=document[_0x53fa19(0x8a9)]('market-timer-bar'),_0x5047ec=_0x187438['totalPoints']||0x0;_0x3ae5e1['textContent']=_0x5047ec;const _0x112650=_0x5d075b[_0x53fa19(0x7c6)],_0xe6a20d=_0x5d075b['shuffledQuiz']['questions'][_0x112650],_0x37f0a9=_0xe6a20d[_0x53fa19(0xa9f)]||_0x5d075b[_0x53fa19(0x698)]['quizType'],_0x3870ee=_0x5d075b[_0x53fa19(0x214)]===_0x53fa19(0x4bd),_0x47ad72=allMarketItems;_0x18a9c6[_0x53fa19(0x568)]=_0x47ad72['map'](_0x13248c=>{const _0x3abd0c=_0x53fa19,_0x55eb0b=_0x5047ec>=_0x13248c['price'];if(_0x13248c['id']===_0x3abd0c(0x4ff)){const _0x224e71=_0x55eb0b?Math[_0x3abd0c(0x85e)](_0x5047ec/_0x13248c[_0x3abd0c(0x4e9)]):0x0,_0x4c4145=_0x55eb0b&&_0x3870ee;let _0x765628='ซื้อ\x20('+_0x13248c[_0x3abd0c(0x4e9)]+'P/อัน)',_0x36dc2e=_0x4c4145?_0x3abd0c(0x1e0):'bg-gray-400';return!_0x3870ee&&(_0x765628=_0x3abd0c(0x67b),_0x36dc2e=_0x3abd0c(0x25d)),_0x3abd0c(0x321)+(!_0x4c4145?_0x3abd0c(0x3cf):'bg-white')+_0x3abd0c(0x1d2)+_0x13248c[_0x3abd0c(0x835)]+_0x3abd0c(0xc22)+_0x13248c[_0x3abd0c(0x8d6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22'+_0x224e71+'\x22\x20'+(!_0x4c4145?_0x3abd0c(0x317):'')+_0x3abd0c(0x5ad)+_0x36dc2e+_0x3abd0c(0x2f6)+_0x13248c['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x13248c[_0x3abd0c(0x4e9)]+_0x3abd0c(0x25c)+(!_0x4c4145?_0x3abd0c(0x317):'')+_0x3abd0c(0x80a)+_0x765628+_0x3abd0c(0x192);}else{let _0x249586=!_0x55eb0b,_0x1e51fa=_0x55eb0b?_0x3abd0c(0x1e0):_0x3abd0c(0x687),_0x12ca27=_0x3abd0c(0xd7f)+_0x13248c[_0x3abd0c(0x4e9)]+'P)';if(_0x13248c['id']==='revealOptions'){const _0x5a00e6=_0xe6a20d[_0x3abd0c(0x487)]&&_0xe6a20d['options'][_0x3abd0c(0x14c)]>0x0,_0x3ce469=_0x37f0a9===_0x3abd0c(0x815)||_0x37f0a9===_0x3abd0c(0x312);(!_0x5a00e6||!_0x3ce469)&&(_0x249586=!![],_0x1e51fa=_0x3abd0c(0x25d),_0x12ca27=_0x3abd0c(0x942));}if(_0x13248c['id']===_0x3abd0c(0xb9a)||_0x13248c['id']===_0x3abd0c(0xd8a)){const _0x26fd3b=_0x37f0a9===_0x3abd0c(0x815)||_0x37f0a9===_0x3abd0c(0x312),_0x20fe1f=_0xe6a20d[_0x3abd0c(0x487)]&&_0xe6a20d[_0x3abd0c(0x487)][_0x3abd0c(0x14c)]>0x0;(_0x26fd3b||!_0x20fe1f)&&(_0x249586=!![],_0x1e51fa=_0x3abd0c(0x25d),_0x12ca27=_0x3abd0c(0x400));}return _0x3abd0c(0x321)+(_0x249586?_0x3abd0c(0x3cf):_0x3abd0c(0x75a))+_0x3abd0c(0x1d2)+_0x13248c['name']+_0x3abd0c(0xc22)+_0x13248c[_0x3abd0c(0x8d6)]+_0x3abd0c(0x705)+_0x1e51fa+_0x3abd0c(0x853)+_0x13248c['id']+_0x3abd0c(0x838)+_0x13248c[_0x3abd0c(0x4e9)]+_0x3abd0c(0x206)+(_0x249586?_0x3abd0c(0x317):'')+_0x3abd0c(0x334)+_0x12ca27+_0x3abd0c(0x458);}})[_0x53fa19(0x656)](''),_0x11f2a6[_0x53fa19(0xb12)][_0x53fa19(0x1e9)](_0x53fa19(0x9cf)),_0x2ebfe5[_0x53fa19(0x5a4)][_0x53fa19(0x2a8)]=_0x53fa19(0x436),_0x2ebfe5[_0x53fa19(0x5a4)][_0x53fa19(0x29a)]=_0x53fa19(0x80e),setTimeout(()=>{const _0x8211be=_0x53fa19;_0x2ebfe5[_0x8211be(0x5a4)][_0x8211be(0x2a8)]=_0x8211be(0x3f8),_0x2ebfe5[_0x8211be(0x5a4)][_0x8211be(0x29a)]='0%';},0x32),_0x2444df=setTimeout(()=>{const _0x4b11cf=_0x53fa19;_0x11f2a6[_0x4b11cf(0xb12)][_0x4b11cf(0x786)]('hidden');},0xea60),document[_0x53fa19(0x8a9)](_0x53fa19(0x272))[_0x53fa19(0x743)]=()=>{const _0x2a42b9=_0x53fa19;clearTimeout(_0x2444df),_0x11f2a6[_0x2a42b9(0xb12)]['add'](_0x2a42b9(0x9cf));},_0x18a9c6['querySelectorAll']('.buy-item-btn')[_0x53fa19(0xacf)](_0x31c5f4=>{const _0x3a3482=_0x53fa19;_0x31c5f4[_0x3a3482(0x743)]=_0x1c8ddf=>{const _0xc33323=_0x3a3482,_0x1c4af4=_0x1c8ddf[_0xc33323(0x61a)][_0xc33323(0xd34)][_0xc33323(0xa36)],_0x3a4352=parseInt(_0x1c8ddf[_0xc33323(0x61a)][_0xc33323(0xd34)][_0xc33323(0x4e9)],0xa);clearTimeout(_0x2444df),_0x11f2a6[_0xc33323(0xb12)][_0xc33323(0x786)](_0xc33323(0x9cf)),handleBuyItem(_0x187438[_0xc33323(0x835)],_0x1c4af4,_0x3a4352,0x1);};}),_0x18a9c6[_0x53fa19(0x6b8)](_0x53fa19(0x276))[_0x53fa19(0xacf)](_0x264c34=>{_0x264c34['onclick']=_0x2b5bdf=>{const _0x26a36a=_0x6978,_0x15f8dd=_0x2b5bdf[_0x26a36a(0x61a)][_0x26a36a(0xd34)][_0x26a36a(0xa36)],_0x1f1acf=parseInt(_0x2b5bdf[_0x26a36a(0x61a)][_0x26a36a(0xd34)]['price'],0xa),_0x24909b=document[_0x26a36a(0x8a9)](_0x26a36a(0xe51)),_0x5d16cf=parseInt(_0x24909b[_0x26a36a(0x61e)],0xa),_0x161f7d=parseInt(_0x24909b['max'],0xa);if(!_0x5d16cf||_0x5d16cf<0x1){showMessage(_0x26a36a(0xa26));return;}if(_0x5d16cf>_0x161f7d){showMessage(_0x26a36a(0x15b)+_0x161f7d+_0x26a36a(0x5e5));return;}clearTimeout(_0x2444df),_0x11f2a6[_0x26a36a(0xb12)][_0x26a36a(0x786)]('hidden'),handleBuyItem(_0x187438[_0x26a36a(0x835)],_0x15f8dd,_0x1f1acf,_0x5d16cf);};});}async function handleBuyItem(_0x2745f5,_0x40f8e3,_0x381435,_0x3fc9ed=0x1){const _0x3276a5=_0x1b610a,_0xab0363=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x3276a5(0xe45),_0x2745f5);try{await runTransaction(db,async _0x4d8e48=>{const _0x195070=_0x3276a5,_0x32b7ca=await _0x4d8e48[_0x195070(0xb2a)](_0xab0363);if(!_0x32b7ca['exists']())throw _0x195070(0xe59);const _0x402059=_0x32b7ca['data']()['totalPoints']||0x0,_0x2af077=_0x381435*_0x3fc9ed;if(_0x402059<_0x2af077)throw _0x195070(0x1e2);const _0x218faf={};_0x218faf[_0x195070(0x9f0)]=increment(-_0x2af077),_0x218faf[_0x195070(0xc81)+_0x40f8e3]=increment(_0x3fc9ed),_0x4d8e48[_0x195070(0x6e5)](_0xab0363,_0x218faf);}),showMessage(_0x3276a5(0x5ec)+_0x40f8e3+_0x3276a5(0x593)+_0x3fc9ed+_0x3276a5(0xb01));}catch(_0x4b8fc3){console[_0x3276a5(0xce3)](_0x3276a5(0x984),_0x4b8fc3),showMessage(typeof _0x4b8fc3==='string'?_0x4b8fc3:_0x3276a5(0xe8c));}}async function handlePayForMarketEntry(_0x303266,_0x5e8f81,_0x36831a){const _0x100a11=_0x1b610a,_0x1c01ac=doc(db,'artifacts/'+appId+_0x100a11(0xa14)+currentLiveGameId+_0x100a11(0xe45),_0x303266);try{await runTransaction(db,async _0x4dc4a4=>{const _0x3f48a6=_0x100a11,_0x56789b=await _0x4dc4a4[_0x3f48a6(0xb2a)](_0x1c01ac);if(!_0x56789b[_0x3f48a6(0xa90)]())throw _0x3f48a6(0xe59);const _0x42f4d5=_0x56789b['data']()[_0x3f48a6(0x9f0)]||0x0;if(_0x42f4d5<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x26c867={};_0x26c867[_0x3f48a6(0x9f0)]=increment(-0x1),_0x4dc4a4[_0x3f48a6(0x6e5)](_0x1c01ac,_0x26c867);});const _0x231f87={..._0x36831a,'totalPoints':(_0x36831a[_0x100a11(0x9f0)]||0x0)-0x1};openBlackMarket(_0x5e8f81,_0x231f87);}catch(_0x48913b){console[_0x100a11(0xce3)](_0x100a11(0x592),_0x48913b),showMessage(typeof _0x48913b===_0x100a11(0x8d8)?_0x48913b:_0x100a11(0x925));}}const audioCtx=new(window[(_0x1b610a(0x4d0))]||window[(_0x1b610a(0x28b))])();function playSystemSound(_0x406e20){const _0x228a99=_0x1b610a;if(audioCtx[_0x228a99(0x882)]===_0x228a99(0xd99))audioCtx[_0x228a99(0xc0f)]();const _0x19ec8b=audioCtx[_0x228a99(0x19c)](),_0x9c9303=audioCtx[_0x228a99(0x833)]();_0x19ec8b[_0x228a99(0x992)](_0x9c9303),_0x9c9303[_0x228a99(0x992)](audioCtx['destination']);const _0x559416=audioCtx[_0x228a99(0x6d5)];if(_0x406e20===_0x228a99(0xb98))_0x19ec8b[_0x228a99(0xb19)]=_0x228a99(0x91a),_0x19ec8b[_0x228a99(0xc32)][_0x228a99(0x9cd)](0x258,_0x559416),_0x19ec8b[_0x228a99(0xc32)][_0x228a99(0xd86)](0x4b0,_0x559416+0.1),_0x9c9303[_0x228a99(0x4de)][_0x228a99(0x9cd)](0.1,_0x559416),_0x9c9303[_0x228a99(0x4de)]['exponentialRampToValueAtTime'](0.01,_0x559416+0.5),_0x19ec8b['start'](_0x559416),_0x19ec8b[_0x228a99(0x134)](_0x559416+0.5);else{if(_0x406e20==='incorrect')_0x19ec8b['type']=_0x228a99(0x3f3),_0x19ec8b[_0x228a99(0xc32)]['setValueAtTime'](0x96,_0x559416),_0x19ec8b[_0x228a99(0xc32)][_0x228a99(0xd86)](0x64,_0x559416+0.2),_0x9c9303[_0x228a99(0x4de)][_0x228a99(0x9cd)](0.1,_0x559416),_0x9c9303['gain']['exponentialRampToValueAtTime'](0.01,_0x559416+0.3),_0x19ec8b[_0x228a99(0x390)](_0x559416),_0x19ec8b[_0x228a99(0x134)](_0x559416+0.3);else _0x406e20===_0x228a99(0x5c6)&&(_0x19ec8b[_0x228a99(0xb19)]='triangle',_0x19ec8b[_0x228a99(0xc32)]['setValueAtTime'](0x12c,_0x559416),_0x19ec8b[_0x228a99(0xc32)]['linearRampToValueAtTime'](0x258,_0x559416+0.1),_0x9c9303[_0x228a99(0x4de)][_0x228a99(0x9cd)](0.1,_0x559416),_0x9c9303[_0x228a99(0x4de)][_0x228a99(0xb50)](0.01,_0x559416+0.3),_0x19ec8b['start'](_0x559416),_0x19ec8b['stop'](_0x559416+0.3));}}initialize();
