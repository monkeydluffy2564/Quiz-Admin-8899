const _0x3abb87=_0x55d5;(function(_0x2fc6fc,_0x54f37d){const _0x2a4601=_0x55d5,_0x5851ed=_0x2fc6fc();while(!![]){try{const _0x57a3ac=-parseInt(_0x2a4601(0x91e))/0x1+-parseInt(_0x2a4601(0x44e))/0x2+-parseInt(_0x2a4601(0xab0))/0x3+parseInt(_0x2a4601(0x88e))/0x4*(-parseInt(_0x2a4601(0x1fa))/0x5)+-parseInt(_0x2a4601(0xdac))/0x6+parseInt(_0x2a4601(0xa45))/0x7+parseInt(_0x2a4601(0xac8))/0x8*(parseInt(_0x2a4601(0x671))/0x9);if(_0x57a3ac===_0x54f37d)break;else _0x5851ed['push'](_0x5851ed['shift']());}catch(_0x5bbba4){_0x5851ed['push'](_0x5851ed['shift']());}}}(_0x4f96,0xf3982));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x3abb87(0x316),_0x3abb87(0x492),_0x3abb87(0x40f),_0x3abb87(0x441),_0x3abb87(0x677),_0x3abb87(0x46b),_0x3abb87(0xc68),'สิงโตยิ้ม','เพนกวินไฟ',_0x3abb87(0x436),_0x3abb87(0x737),_0x3abb87(0xc66),_0x3abb87(0xa71),'สายลมแห่งโชคชะตา',_0x3abb87(0x5f1),_0x3abb87(0xc98),_0x3abb87(0x8de),_0x3abb87(0x8f9),_0x3abb87(0x8cd),_0x3abb87(0x87b),_0x3abb87(0x8b0),_0x3abb87(0x497),'ปลาทูคะนอง',_0x3abb87(0x2de),_0x3abb87(0xc30),'หมาป่าเดียวดาย',_0x3abb87(0x52a),_0x3abb87(0xb42),_0x3abb87(0x408),'หนอนหนังสือ',_0x3abb87(0x3a9),'สายลับจับบ้านเล็ก',_0x3abb87(0x2b6),'ดาวTikTok','ยูทูปเบอร์ฝึกหัด','CEOพันล้าน',_0x3abb87(0x498),'อินฟลูเอนเซอร์',_0x3abb87(0x4ef),_0x3abb87(0x7b3),_0x3abb87(0xdbc),_0x3abb87(0x4b9),_0x3abb87(0xad7),_0x3abb87(0xe29),_0x3abb87(0x477),_0x3abb87(0x6c2),_0x3abb87(0x567),'ครัวซองต์','ชีสเค้ก',_0x3abb87(0xe4c),_0x3abb87(0xa98),_0x3abb87(0x878),_0x3abb87(0xcd9),_0x3abb87(0x540),_0x3abb87(0xa3b),_0x3abb87(0x982),_0x3abb87(0xde1),_0x3abb87(0x204),_0x3abb87(0x86e),'กองดอง',_0x3abb87(0x616),_0x3abb87(0x915),'สายหมอก',_0x3abb87(0x8a7),'ดวงดาว','ท้องฟ้า',_0x3abb87(0xafb),_0x3abb87(0xaf0),_0x3abb87(0xbe6),_0x3abb87(0x390),'นักเดินทาง',_0x3abb87(0x3b1),_0x3abb87(0x9c7),_0x3abb87(0x201),_0x3abb87(0x86a),_0x3abb87(0x84e),_0x3abb87(0xae3),_0x3abb87(0x22a),_0x3abb87(0x5fb),_0x3abb87(0x3a7),_0x3abb87(0x83e),_0x3abb87(0xdf5),_0x3abb87(0xbbd),'ตัวแทนแห่งดวงจันทร์','ดาบพิฆาตอสูร',_0x3abb87(0x53c),_0x3abb87(0x462),_0x3abb87(0x303),_0x3abb87(0xdae),_0x3abb87(0x839),_0x3abb87(0xdf3),_0x3abb87(0xd0e),'แอบชอบ',_0x3abb87(0xb9b),'เพื่อนสนิท',_0x3abb87(0xa0b),'แฟนทิพย์','คนคุย',_0x3abb87(0xe7c),_0x3abb87(0xa1a)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x3abb87(0x5ea),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x3abb87(0x5ea),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x3abb87(0x5ea),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x2872c3=_0x3abb87;if(_0x2872c3(0x601)in navigator)try{wakeLock=await navigator['wakeLock'][_0x2872c3(0xa55)]('screen'),console[_0x2872c3(0x4e6)](_0x2872c3(0x3f8)),wakeLock[_0x2872c3(0xdd0)](_0x2872c3(0xdf4),()=>{const _0x10e11f=_0x2872c3;console[_0x10e11f(0x4e6)](_0x10e11f(0x940));});}catch(_0x162ebd){console[_0x2872c3(0x28d)](_0x2872c3(0x77a)+_0x162ebd['name']+',\x20'+_0x162ebd['message']);}else console['warn'](_0x2872c3(0xd87));},releaseWakeLock=async()=>{const _0x538907=_0x3abb87;wakeLock!==null&&(await wakeLock[_0x538907(0xdf4)](),wakeLock=null,console[_0x538907(0x4e6)](_0x538907(0x41f)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5e6bb3=_0x3abb87;if(!document[_0x5e6bb3(0x595)][_0x5e6bb3(0x33a)][_0x5e6bb3(0x415)](_0x5e6bb3(0x5d5))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1414fb=_0x5e6bb3;document[_0x1414fb(0x595)][_0x1414fb(0x33a)]['add'](_0x1414fb(0x5d5)),console[_0x1414fb(0x4e6)](_0x1414fb(0x58d));},inactivityTime);}}function wakeUpScreen(_0x2073ed){const _0x2c684a=_0x3abb87;_0x2073ed&&(_0x2073ed[_0x2c684a(0x469)](),_0x2073ed[_0x2c684a(0x83f)]());document[_0x2c684a(0x595)]['classList'][_0x2c684a(0x23a)](_0x2c684a(0x5d5));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x532c56=_0x2c684a;document['body'][_0x532c56(0x33a)][_0x532c56(0xbaf)](_0x532c56(0x5d5));},inactivityTime);}function stopDimTimer(){const _0x4505fe=_0x3abb87;if(dimTimer)clearTimeout(dimTimer);document[_0x4505fe(0x595)][_0x4505fe(0x33a)][_0x4505fe(0x23a)](_0x4505fe(0x5d5)),window[_0x4505fe(0x21b)](_0x4505fe(0xa33),resetDimTimer),window[_0x4505fe(0x21b)](_0x4505fe(0xc87),resetDimTimer),window['removeEventListener']('touchstart',resetDimTimer),window[_0x4505fe(0x21b)]('keydown',resetDimTimer),console[_0x4505fe(0x4e6)](_0x4505fe(0x312));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x20365d,_0x193cca=![]){const _0x4e24ee=_0x3abb87,_0x4d280a=allQuizzes[_0x4e24ee(0x7f4)](_0x31ff5d=>_0x31ff5d['id']===_0x20365d)||allQuizzesGlobal[_0x4e24ee(0x7f4)](_0x3ef1c6=>_0x3ef1c6['id']===_0x20365d);if(!_0x4d280a){showMessage(_0x4e24ee(0x397));return;}currentQuizData=getShuffledQuiz(_0x4d280a);const _0x300ae4=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x390b7b=await addDoc(collection(db,_0x4e24ee(0x8da)+appId+_0x4e24ee(0xb51)),{'quizId':_0x4d280a['id'],'projectId':_0x4d280a[_0x4e24ee(0x365)],'status':_0x4e24ee(0x973),'pin':_0x300ae4,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x193cca});currentTeamQuizId=_0x390b7b['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x300ae4,_0x4d280a[_0x4e24ee(0x3bb)]),listenForTeamQuizUpdates();}catch(_0x5e4a04){console[_0x4e24ee(0x28d)](_0x4e24ee(0xaff),_0x5e4a04),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x13d5c3,_0x4b5513,_0x57c3fc=_0x3abb87(0xb0b)){const _0x10b759=_0x3abb87,_0x5e1cbe=_0x57c3fc===_0x10b759(0x578)?_0x10b759(0xa46):'Team\x20Quiz';liveGameView[_0x10b759(0xd15)]=_0x10b759(0x8ee)+_0x5e1cbe+':\x20'+_0x4b5513+_0x10b759(0x2ed)+_0x13d5c3+_0x10b759(0xae7),document[_0x10b759(0x753)](_0x10b759(0x755))[_0x10b759(0xdd0)](_0x10b759(0xaa0),async()=>{const _0x5aaba9=_0x10b759;showConfirmation(_0x5aaba9(0x6c7),async()=>{const _0x25d5a4=_0x5aaba9;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x25d5a4(0x8da)+appId+_0x25d5a4(0xb51),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x941783=_0x3abb87;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2d5304=doc(db,_0x941783(0x8da)+appId+_0x941783(0xb51),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2d5304,_0x2ddb8b=>{const _0x3be77f=_0x941783;if(!_0x2ddb8b[_0x3be77f(0xc9d)]()){sessionStorage['removeItem'](_0x3be77f(0xd04));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x3be77f(0xdcc)?showView(_0x3be77f(0x85f)):showView(_0x3be77f(0xbf8));return;}const _0x2e7bf6=_0x2ddb8b[_0x3be77f(0x3f4)]();if(currentMode==='admin'){if(_0x2e7bf6[_0x3be77f(0x7a1)]===_0x3be77f(0x578)&&_0x2e7bf6[_0x3be77f(0x98e)]!==_0x3be77f(0x58a)&&_0x2e7bf6[_0x3be77f(0x98e)]!==_0x3be77f(0x6a7)){const _0x17908c=Object[_0x3be77f(0xa10)](_0x2e7bf6[_0x3be77f(0x68e)]||{});if(_0x17908c['length']>0x0){const _0x4f13e7=_0x17908c[_0x3be77f(0xa04)](_0x3bcfd3=>_0x3bcfd3['isFinished']===!![]);_0x4f13e7&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x2e7bf6);}else{if(_0x2e7bf6[_0x3be77f(0x98e)]===_0x3be77f(0x58a)||_0x2e7bf6[_0x3be77f(0x98e)]===_0x3be77f(0x6a7)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x2e7bf6[_0x3be77f(0x7a1)]===_0x3be77f(0x578)){const _0x383892=_0x2e7bf6[_0x3be77f(0x68e)][userId];(!_0x383892||!_0x383892['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x393ebe){const _0x16ab45=_0x3abb87;console[_0x16ab45(0x4e6)](_0x16ab45(0x9de));const _0x58ab5c=doc(db,_0x16ab45(0x8da)+appId+'/public/data/teamQuizzes',_0x393ebe);try{const _0x36abeb=await getDoc(_0x58ab5c);if(_0x36abeb[_0x16ab45(0xc9d)]()){const _0x58fd2e=_0x36abeb[_0x16ab45(0x3f4)]();_0x58fd2e['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x58fd2e);}await updateDoc(_0x58ab5c,{'status':'podium'});}catch(_0x5e3cd5){console[_0x16ab45(0x28d)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x5e3cd5);}}function updateAdminTeamDashboard(_0x521465){const _0x2f331e=_0x3abb87,_0x351c20=document['getElementById']('team-player-status-grid');if(!_0x351c20)return;const _0x28fcd3=_0x521465['mode']||_0x2f331e(0xb0b),_0x252b5f=currentQuizData[_0x2f331e(0x806)][_0x2f331e(0xd2b)];if(_0x28fcd3===_0x2f331e(0x578)){const _0x17d330=Object[_0x2f331e(0xa10)](_0x521465[_0x2f331e(0x68e)]||{});if(_0x17d330[_0x2f331e(0xd2b)]===0x0){_0x351c20[_0x2f331e(0xd15)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x50ba8d=[..._0x17d330][_0x2f331e(0xb00)]((_0x554794,_0x3b8e3f)=>_0x3b8e3f['score']-_0x554794['score']),_0x42e6dc=_0x50ba8d[_0x2f331e(0x561)]((_0x5e5497,_0x290f1f)=>{const _0x1fafb4=_0x2f331e,_0x42f7f2=_0x5e5497[_0x1fafb4(0x67e)]?.[_0x1fafb4(0xd2b)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x290f1f+0x1)+_0x1fafb4(0xb1f)+_0x5e5497[_0x1fafb4(0x676)][_0x1fafb4(0xe0b)](',\x20')+_0x1fafb4(0x9ca)+_0x42f7f2+'/'+_0x252b5f+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x5e5497[_0x1fafb4(0xb3d)]+_0x1fafb4(0xc41);})[_0x2f331e(0xe0b)](''),_0x22cfa1=currentQuizData[_0x2f331e(0x806)][_0x2f331e(0x561)]((_0x49f97b,_0x302fa0)=>{const _0x57e4a4=_0x2f331e;let _0x450e49=0x0,_0x289cc0=0x0;_0x17d330[_0x57e4a4(0x91b)](_0x31b062=>{const _0x4c0702=_0x57e4a4,_0x437152=_0x31b062[_0x4c0702(0x67e)]?.['find'](_0x441b61=>_0x441b61['questionIndex']===_0x302fa0);if(_0x437152){_0x289cc0++;if(_0x437152[_0x4c0702(0x88b)])_0x450e49++;}});const _0x38826f=_0x289cc0>0x0&&_0x289cc0===_0x17d330[_0x57e4a4(0xd2b)],_0x5cac27=_0x38826f?_0x57e4a4(0xb2b):_0x57e4a4(0xbf7),_0x55e430=_0x38826f?_0x57e4a4(0x542):'';return _0x57e4a4(0xe16)+_0x5cac27+_0x57e4a4(0x275)+(_0x302fa0+0x1)+':</span><span>'+_0x55e430+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x450e49+'/'+_0x17d330[_0x57e4a4(0xd2b)]+_0x57e4a4(0xa42);})[_0x2f331e(0xe0b)]('');_0x351c20[_0x2f331e(0xd15)]=_0x2f331e(0x480)+_0x42e6dc+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x22cfa1+_0x2f331e(0x68a);return;}const _0xd81029=_0x521465[_0x2f331e(0xb34)]||{},_0x1ee942=Object[_0x2f331e(0xbd6)](_0xd81029);if(_0x1ee942[_0x2f331e(0xd2b)]===0x0){_0x351c20[_0x2f331e(0xd15)]=_0x2f331e(0x63a);return;}const _0x2f03=_0x1ee942['map'](_0x1aecc0=>({'name':_0x1aecc0,'score':_0xd81029[_0x1aecc0][_0x2f331e(0xb3d)]||0x0}))[_0x2f331e(0xb00)]((_0x52fd45,_0x14987a)=>_0x14987a[_0x2f331e(0xb3d)]-_0x52fd45[_0x2f331e(0xb3d)]),_0x100e9a=_0x2f03[_0x2f331e(0x561)](_0x4b2143=>{const _0x2b0530=_0x2f331e,_0x22eb15=_0xd81029[_0x4b2143[_0x2b0530(0xc71)]]?.[_0x2b0530(0x67e)]?.[_0x2b0530(0xd2b)]||0x0,_0x58c45f=Math[_0x2b0530(0xd6c)](_0x252b5f/_0x1ee942[_0x2b0530(0xd2b)]);return _0x2b0530(0x519)+_0x4b2143['name']+_0x2b0530(0x5e7)+_0x22eb15+'/'+_0x58c45f+_0x2b0530(0xcb3)+_0x4b2143['score']+'\x20คะแนน</span></div>';})[_0x2f331e(0xe0b)](''),_0xeead3b=_0x1ee942[_0x2f331e(0x257)]((_0x3c6780,_0x4bb841)=>_0x3c6780+(_0xd81029[_0x4bb841][_0x2f331e(0x67e)]?.[_0x2f331e(0xd2b)]||0x0),0x0),_0x392f8f=currentQuizData[_0x2f331e(0x806)][_0x2f331e(0x561)]((_0x570ec5,_0x531b18)=>{const _0x2c98e6=_0x2f331e;let _0x2dc3f7=null,_0x5c5383=null;for(const _0x3cbab3 of _0x1ee942){const _0x49a1aa=_0xd81029[_0x3cbab3][_0x2c98e6(0x67e)]?.[_0x2c98e6(0x7f4)](_0x47c442=>_0x47c442[_0x2c98e6(0x824)]===_0x531b18);if(_0x49a1aa){_0x2dc3f7=_0x49a1aa,_0x5c5383=_0x3cbab3;break;}}const _0x7a39d4=!!_0x2dc3f7,_0x173d56=_0x7a39d4&&_0x2dc3f7[_0x2c98e6(0x88b)],_0x4b60f2=(Math['floor'](_0x531b18/_0x1ee942[_0x2c98e6(0xd2b)])+0x1)*_0x1ee942[_0x2c98e6(0xd2b)],_0x1a3a6b=_0xeead3b>=_0x4b60f2,_0x59ba0f=_0x1a3a6b?'bg-green-200\x20text-green-900':'bg-black/10',_0x13e802=_0x1a3a6b?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x308ad1=_0x2c98e6(0xb69);return _0x7a39d4&&(_0x308ad1=_0x5c5383+_0x2c98e6(0x2e1)+(_0x173d56?_0x2c98e6(0x88d):_0x2c98e6(0xa2b))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x59ba0f+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x531b18+0x1)+':</span><span>'+_0x13e802+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x308ad1+_0x2c98e6(0xca1);})[_0x2f331e(0xe0b)]('');_0x351c20['innerHTML']=_0x2f331e(0x5cf)+_0x100e9a+_0x2f331e(0x1fd)+_0x392f8f+_0x2f331e(0x68a);}async function handleJoinTeamQuiz(){const _0x16502c=_0x3abb87,_0x3c767d=prompt(_0x16502c(0x4e2));if(!_0x3c767d||_0x3c767d[_0x16502c(0xda7)]()['length']!==0x4){showMessage(_0x16502c(0x926));return;}try{const _0x3e954d=collection(db,'artifacts/'+appId+_0x16502c(0xb51)),_0x3afd34=query(_0x3e954d,where(_0x16502c(0x97e),'==',_0x3c767d['trim']()),where('status','==',_0x16502c(0x973))),_0x21bfe4=await getDocs(_0x3afd34);if(_0x21bfe4[_0x16502c(0x38e)]){showMessage(_0x16502c(0x3f6));return;}const _0xf1424=_0x21bfe4[_0x16502c(0x2a7)][0x0];currentTeamQuizId=_0xf1424['id'];const _0x2f4296=_0xf1424[_0x16502c(0x3f4)](),_0x372b06=doc(db,_0x16502c(0x8da)+appId+_0x16502c(0xdfd),_0x2f4296[_0x16502c(0x365)]),_0x1c99f8=doc(db,'artifacts/'+appId+_0x16502c(0xe3e),_0x2f4296['quizId']),[_0x14fbad,_0x476b6c]=await Promise[_0x16502c(0x5ea)]([getDoc(_0x372b06),getDoc(_0x1c99f8)]);if(!_0x14fbad[_0x16502c(0xc9d)]()||!_0x476b6c[_0x16502c(0xc9d)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x476b6c['id'],..._0x476b6c[_0x16502c(0x3f4)]()});const _0x1deb53=_0x14fbad[_0x16502c(0x3f4)]();showTeamPlayerSelection(_0x1deb53[_0x16502c(0x7d2)],currentQuizData[_0x16502c(0x3bb)]);}catch(_0x25bdc5){console['error'](_0x16502c(0x48e),_0x25bdc5),showMessage(_0x16502c(0x339)+_0x25bdc5[_0x16502c(0x9e1)]);}}async function handleJoinGroupActivity(){const _0x517965=_0x3abb87,_0x135a64=prompt(_0x517965(0x367));if(!_0x135a64||_0x135a64['trim']()[_0x517965(0xd2b)]!==0x4){showMessage(_0x517965(0xaca));return;}const _0x4ca214=_0x135a64[_0x517965(0xda7)]();showMessage(_0x517965(0xd64));try{const _0xabc7af=collection(db,_0x517965(0x8da)+appId+'/public/data/teamQuizzes'),_0x2cceb0=query(_0xabc7af,where(_0x517965(0x97e),'==',_0x4ca214),where(_0x517965(0x98e),'==',_0x517965(0x973))),_0x36dff7=await getDocs(_0x2cceb0);if(!_0x36dff7[_0x517965(0x38e)]){console[_0x517965(0x4e6)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x36dff7[_0x517965(0x2a7)][0x0]);return;}const _0x4eb7c5=collection(db,_0x517965(0x8da)+appId+'/public/data/syncGames'),_0x38ef90=query(_0x4eb7c5,where(_0x517965(0x97e),'==',_0x4ca214),where('status','in',[_0x517965(0x973),_0x517965(0x231),_0x517965(0x6bd),_0x517965(0xada)])),_0x20a638=await getDocs(_0x38ef90);if(!_0x20a638['empty']){console[_0x517965(0x4e6)](_0x517965(0x345)),await proceedWithSyncQuizJoin(_0x20a638[_0x517965(0x2a7)][0x0]);return;}showMessage(_0x517965(0x83d));}catch(_0x3b6716){console[_0x517965(0x28d)](_0x517965(0xb71),_0x3b6716),showMessage(_0x517965(0x564)+_0x3b6716[_0x517965(0x9e1)]);}}async function proceedWithTeamQuizJoin(_0x11e10d){const _0x28fd26=_0x3abb87;currentTeamQuizId=_0x11e10d['id'];const _0x4f24f0=_0x11e10d[_0x28fd26(0x3f4)](),_0x524e09=doc(db,'artifacts/'+appId+_0x28fd26(0xdfd),_0x4f24f0['projectId']),_0x16f9e9=doc(db,_0x28fd26(0x8da)+appId+'/public/data/quizzes',_0x4f24f0[_0x28fd26(0x44b)]),[_0x46cc94,_0x208347]=await Promise[_0x28fd26(0x5ea)]([getDoc(_0x524e09),getDoc(_0x16f9e9)]);if(!_0x46cc94[_0x28fd26(0xc9d)]()||!_0x208347[_0x28fd26(0xc9d)]())throw new Error(_0x28fd26(0xc9e));currentQuizData=getShuffledQuiz({'id':_0x208347['id'],..._0x208347[_0x28fd26(0x3f4)]()}),showTeamPlayerSelection(_0x46cc94['data']()['students'],currentQuizData[_0x28fd26(0x3bb)],_0x4f24f0[_0x28fd26(0x7a1)]||'team'),messageModal[_0x28fd26(0x33a)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x4ca12a){const _0x133b01=_0x3abb87;currentLiveGameId=_0x4ca12a['id'];const _0x58c236=_0x4ca12a[_0x133b01(0x3f4)](),_0x1c8625=doc(db,_0x133b01(0x8da)+appId+'/public/data/quizzes',_0x58c236[_0x133b01(0x44b)]),_0x68621c=await getDoc(_0x1c8625);if(!_0x68621c[_0x133b01(0xc9d)]())throw new Error(_0x133b01(0x397));const _0x357afc=_0x68621c['data'](),_0x4e2774=doc(db,_0x133b01(0x8da)+appId+'/public/data/projects',_0x357afc[_0x133b01(0x365)]),_0x5e3ea8=await getDoc(_0x4e2774);if(!_0x5e3ea8['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x58c236[_0x133b01(0xbd7)],showView(_0x133b01(0x825)),showTeamPlayerSelection(_0x5e3ea8[_0x133b01(0x3f4)]()[_0x133b01(0x7d2)],_0x357afc[_0x133b01(0x3bb)],_0x133b01(0xe7b));const _0x18db37=document[_0x133b01(0x753)](_0x133b01(0xd93)),_0x1826b0=_0x18db37[_0x133b01(0x433)](!![]);_0x18db37[_0x133b01(0x905)][_0x133b01(0x674)](_0x1826b0,_0x18db37),_0x1826b0['onclick']=confirmAndJoinSyncGame,messageModal[_0x133b01(0x33a)][_0x133b01(0xbaf)](_0x133b01(0x986));}function getCleanApplicationHTML(){const _0x1b4a9c=_0x3abb87,_0x505f45=document['getElementById'](_0x1b4a9c(0x80f));if(!_0x505f45)return'';const _0x5e8422=_0x505f45[_0x1b4a9c(0x433)](!![]);return _0x5e8422[_0x1b4a9c(0x628)]('.application-options\x20button')['forEach'](_0x1cc094=>{const _0x18f0b7=_0x1b4a9c;_0x1cc094['classList'][_0x18f0b7(0x23a)](_0x18f0b7(0x8ca),'incorrect'),_0x1cc094[_0x18f0b7(0x5ad)]=![];}),_0x5e8422['innerHTML'];}function showTeamPlayerSelection(_0x14a2d1,_0x517774,_0x1d9453=_0x3abb87(0xb0b)){const _0x5f0682=_0x3abb87;studentInitialView[_0x5f0682(0x33a)]['add'](_0x5f0682(0x986)),studentJoinGameView[_0x5f0682(0x33a)]['add']('hidden'),document[_0x5f0682(0x753)](_0x5f0682(0xcc7))[_0x5f0682(0x33a)]['remove'](_0x5f0682(0x986));let _0x5d007c=_0x5f0682(0xc27);if(_0x1d9453==='group')_0x5d007c=_0x5f0682(0xa46);else _0x1d9453===_0x5f0682(0xe7b)&&(_0x5d007c='Sync\x20Mode');document['getElementById'](_0x5f0682(0x82a))[_0x5f0682(0xbde)]=_0x5d007c+':\x20'+_0x517774;const _0x360f69=document['getElementById'](_0x5f0682(0x5d3));if(!_0x14a2d1||_0x14a2d1[_0x5f0682(0xd2b)]===0x0){_0x360f69[_0x5f0682(0xd15)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x5f0682(0x753)]('confirm-team-players-btn')[_0x5f0682(0x5ad)]=!![];return;}_0x360f69[_0x5f0682(0xd15)]=_0x14a2d1['map'](_0xf24bc=>_0x5f0682(0x212)+_0xf24bc+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0xf24bc+_0x5f0682(0xac5))['join'](''),document['getElementById'](_0x5f0682(0xd93))[_0x5f0682(0x5ad)]=![];}async function confirmAndStartTeamQuiz(){const _0x2445ab=_0x3abb87,_0x570b95=Array[_0x2445ab(0x944)](document[_0x2445ab(0x628)](_0x2445ab(0xce7)))[_0x2445ab(0x561)](_0x5b3048=>_0x5b3048[_0x2445ab(0x8a6)]);if(_0x570b95[_0x2445ab(0xd2b)]===0x0){showMessage(_0x2445ab(0xb41));return;}localTeamPlayers=_0x570b95,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x2f978f=doc(db,_0x2445ab(0x8da)+appId+_0x2445ab(0xb51),currentTeamQuizId);try{const _0x436abd=await getDoc(_0x2f978f);if(!_0x436abd[_0x2445ab(0xc9d)]())throw new Error(_0x2445ab(0xd8b));const _0x367e46=_0x436abd[_0x2445ab(0x3f4)]();if(_0x367e46[_0x2445ab(0x7a1)]===_0x2445ab(0x578)){const _0x5dff2f={[_0x2445ab(0x96c)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x2f978f,_0x5dff2f);}else{const _0x247f0f=_0x367e46[_0x2445ab(0xb34)]||{};localTeamPlayers[_0x2445ab(0x91b)](_0x227791=>{!_0x247f0f[_0x227791]&&(_0x247f0f[_0x227791]={'score':0x0,'answers':[]});}),await updateDoc(_0x2f978f,{'responses':_0x247f0f});}document['getElementById']('student-team-selection-view')['classList'][_0x2445ab(0xbaf)](_0x2445ab(0x986)),renderTeamQuizQuestion();const _0x1c4b35={'gameId':currentTeamQuizId,'mode':_0x367e46['mode']||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2445ab(0x27e)](_0x2445ab(0xd04),JSON['stringify'](_0x1c4b35)),listenForTeamQuizUpdates();}catch(_0x9b9f38){console[_0x2445ab(0x28d)]('Error\x20confirming\x20players:',_0x9b9f38),showMessage(_0x2445ab(0xc91));}}async function renderTeamQuizQuestion(){const _0x4cd81b=_0x3abb87;if(localQuestionIndex>=currentQuizData[_0x4cd81b(0x806)][_0x4cd81b(0xd2b)]){displayTeamQuizFinalResults();return;}const _0xc9fad3=currentQuizData[_0x4cd81b(0x806)][localQuestionIndex],_0x589a98=localTeamPlayers[localPlayerIndex],_0x3d6ab6=_0xc9fad3[_0x4cd81b(0x302)]||currentQuizData[_0x4cd81b(0x273)];let _0x5e2906=_0xc9fad3['stem']||_0xc9fad3['questionText'],_0x15511e='';switch(_0x3d6ab6){case'multiple_choice':case _0x4cd81b(0x990):_0x15511e=_0xc9fad3['options'][_0x4cd81b(0x561)]((_0x5c0ed2,_0x29c7cc)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x29c7cc+_0x4cd81b(0x438)+_0x29c7cc+_0x4cd81b(0xb7c)+_0x29c7cc+'\x22>'+_0x5c0ed2+'</label></div>')[_0x4cd81b(0xe0b)]('');break;case _0x4cd81b(0x718):_0x15511e=_0x4cd81b(0xe42);break;case'short_answer':case _0x4cd81b(0x203):_0x15511e=_0x4cd81b(0xcff);break;case'matching_item':_0x15511e=_0x4cd81b(0x7b0)+_0xc9fad3['allResponses']['map'](_0x4fdfe1=>_0x4cd81b(0x957)+_0x4fdfe1+'\x22>'+_0x4fdfe1+'</option>')[_0x4cd81b(0xe0b)]('')+'</select>';break;default:_0x15511e=_0x4cd81b(0xe4d);break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x4cd81b(0x375)+currentQuizData[_0x4cd81b(0x806)][_0x4cd81b(0xd2b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x589a98+_0x4cd81b(0x6c0)+(localQuestionIndex+0x1)+'.\x20'+_0x5e2906+_0x4cd81b(0x685)+(_0xc9fad3[_0x4cd81b(0xc35)]?_0x4cd81b(0x7d7)+_0xc9fad3[_0x4cd81b(0xc35)]+_0x4cd81b(0x634):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x15511e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x4cd81b(0x33a)][_0x4cd81b(0x23a)](_0x4cd81b(0x986));if(window[_0x4cd81b(0xc12)])MathJax[_0x4cd81b(0x98a)]([studentQuizArea]);document[_0x4cd81b(0x753)](_0x4cd81b(0x36e))[_0x4cd81b(0xdd0)](_0x4cd81b(0xaa0),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x5eeb99=_0x3abb87,_0x508e1b=currentQuizData[_0x5eeb99(0x806)][localQuestionIndex],_0x131ef7=_0x508e1b[_0x5eeb99(0x302)]||currentQuizData[_0x5eeb99(0x273)];let _0x3e4171=null,_0x5476b2=![];if(_0x131ef7==='short_answer'||_0x131ef7===_0x5eeb99(0x203)){const _0x3f15fd=document['querySelector'](_0x5eeb99(0xb87));if(!_0x3f15fd||!_0x3f15fd[_0x5eeb99(0x8a6)][_0x5eeb99(0xda7)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x3e4171=_0x3f15fd[_0x5eeb99(0x8a6)][_0x5eeb99(0xda7)](),_0x5476b2=await gradeShortAnswer(_0x3e4171,_0x508e1b);}else{const _0x1e5cc0=document[_0x5eeb99(0xd5b)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x1e5cc0||_0x1e5cc0['value']===''){showMessage(_0x5eeb99(0x84b));return;}_0x3e4171=_0x1e5cc0[_0x5eeb99(0x8a6)];switch(_0x131ef7){case _0x5eeb99(0x718):_0x5476b2=_0x3e4171==='true'===_0x508e1b[_0x5eeb99(0x509)];break;case _0x5eeb99(0x79a):_0x5476b2=_0x3e4171===_0x508e1b['correctResponse'];break;default:_0x5476b2=parseInt(_0x3e4171)===_0x508e1b['correctAnswerIndex'];break;}}const _0x32820b={'questionIndex':localQuestionIndex,'isCorrect':_0x5476b2},_0x8d83e5=userId,_0x3f8863={[_0x5eeb99(0x96c)+_0x8d83e5+_0x5eeb99(0x29e)]:arrayUnion(_0x32820b)};_0x5476b2&&(_0x3f8863[_0x5eeb99(0x96c)+_0x8d83e5+_0x5eeb99(0x6f8)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x3f8863),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x5eeb99(0x806)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x44e7a8){console[_0x5eeb99(0x28d)]('Error\x20submitting\x20group\x20answer:',_0x44e7a8),showMessage(_0x5eeb99(0x7f5));}}async function handleTeamAnswerSubmit(){const _0x56476f=_0x3abb87,_0x557350=await getDoc(doc(db,_0x56476f(0x8da)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x557350[_0x56476f(0xc9d)]())return;const _0x51079c=_0x557350[_0x56476f(0x3f4)]();if(_0x51079c['mode']===_0x56476f(0x578)){handleGroupAnswerSubmit();return;}const _0x2f4de1=localTeamPlayers[localPlayerIndex],_0x57fcf0=currentQuizData[_0x56476f(0x806)][localQuestionIndex],_0x45c9ee=_0x57fcf0['questionType']||currentQuizData['quizType'];let _0x3f3314=null,_0x2642af=![];if(_0x45c9ee===_0x56476f(0xb85)||_0x45c9ee===_0x56476f(0x203)){const _0x4233a3=document[_0x56476f(0xd5b)](_0x56476f(0xb87));if(!_0x4233a3||!_0x4233a3[_0x56476f(0x8a6)]['trim']()){showMessage(_0x56476f(0x25b));return;}_0x3f3314=_0x4233a3[_0x56476f(0x8a6)][_0x56476f(0xda7)](),_0x2642af=await gradeShortAnswer(_0x3f3314,_0x57fcf0);}else{const _0x594a49=document['querySelector'](_0x56476f(0x581));if(!_0x594a49||_0x594a49[_0x56476f(0x8a6)]===''){showMessage(_0x56476f(0x47c));return;}_0x3f3314=_0x594a49[_0x56476f(0x8a6)];switch(_0x45c9ee){case'true_false':_0x2642af=_0x3f3314===_0x56476f(0x243)===_0x57fcf0[_0x56476f(0x509)];break;case _0x56476f(0x79a):_0x2642af=_0x3f3314===_0x57fcf0[_0x56476f(0x707)];break;default:_0x2642af=parseInt(_0x3f3314)===_0x57fcf0['correctAnswerIndex'];break;}}const _0x1c7e24={'questionIndex':localQuestionIndex,'isCorrect':_0x2642af,'answerValue':_0x3f3314},_0x5d6b23={[_0x56476f(0x294)+_0x2f4de1+_0x56476f(0x29e)]:arrayUnion(_0x1c7e24)};_0x2642af&&(_0x5d6b23[_0x56476f(0x294)+_0x2f4de1+_0x56476f(0x6f8)]=increment(0x1));try{await updateDoc(doc(db,_0x56476f(0x8da)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5d6b23),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x56476f(0xd2b)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xe85fcb){console[_0x56476f(0x28d)](_0x56476f(0x8f6),_0xe85fcb),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x3fc811=_0x3abb87;studentQuizArea['classList'][_0x3fc811(0xbaf)](_0x3fc811(0x986)),studentResultArea['classList'][_0x3fc811(0x23a)]('hidden');const _0x177f97=doc(db,_0x3fc811(0x8da)+appId+_0x3fc811(0xb51),currentTeamQuizId),_0x3f38d8=await getDoc(_0x177f97);if(!_0x3f38d8['exists']()){studentResultArea[_0x3fc811(0xd15)]=_0x3fc811(0xad6);return;}const _0x5477bf=_0x3f38d8[_0x3fc811(0x3f4)]();let _0x5e9e25=[];const _0x1b1298=_0x5477bf['mode']||_0x3fc811(0xb0b);if(_0x1b1298===_0x3fc811(0x578)){const _0x8a330f=_0x5477bf['groups'][userId];_0x8a330f?_0x5e9e25=[{'name':_0x3fc811(0x559)+localTeamPlayers[_0x3fc811(0xe0b)](',\x20'),'score':_0x8a330f[_0x3fc811(0xb3d)]||0x0}]:_0x5e9e25=[{'name':_0x3fc811(0x9af),'score':_0x3fc811(0x9da)}];}else _0x5e9e25=localTeamPlayers[_0x3fc811(0x561)](_0x1e77e5=>({'name':_0x1e77e5,'score':_0x5477bf[_0x3fc811(0xb34)][_0x1e77e5]?.[_0x3fc811(0xb3d)]||0x0}))['sort']((_0x2c9ab8,_0x4c4f7c)=>_0x4c4f7c[_0x3fc811(0xb3d)]-_0x2c9ab8[_0x3fc811(0xb3d)]);studentResultArea[_0x3fc811(0xd15)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e9e25[_0x3fc811(0x561)](_0x1c301f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x1c301f[_0x3fc811(0xc71)]+_0x3fc811(0xb77)+_0x1c301f['score']+_0x3fc811(0xbe4))['join']('')+_0x3fc811(0xcd6),sessionStorage[_0x3fc811(0x808)](_0x3fc811(0xd04)),currentMode===_0x3fc811(0xdcc)&&currentTeamQuizId&&setTimeout(()=>{deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x3abb87(0x5c7),'pinnedProjects':[],'projectView':_0x3abb87(0x809)};const allMathTopics=[{'category':_0x3abb87(0x617),'name':_0x3abb87(0xdeb)},{'category':_0x3abb87(0x617),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x722)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x7c4)},{'category':_0x3abb87(0x617),'name':'การบวก'},{'category':_0x3abb87(0x617),'name':'การลบ'},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x531)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x7c2)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x28c)},{'category':_0x3abb87(0x617),'name':'จำนวนเต็มลบ'},{'category':_0x3abb87(0x617),'name':_0x3abb87(0xa91)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':_0x3abb87(0x250)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0xcc5)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x8d8)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x582)},{'category':'จำนวนและการดำเนินการ','name':'อัตราส่วนและสัดส่วน'},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x458)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x47b)},{'category':'จำนวนและการดำเนินการ','name':_0x3abb87(0x974)},{'category':'จำนวนและการดำเนินการ','name':'การลบเศษส่วน'},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x3b6)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x90b)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x667)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':'การบวกทศนิยม'},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x60b)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0xd46)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x882)},{'category':_0x3abb87(0x617),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x3abb87(0x617),'name':_0x3abb87(0xb02)},{'category':'จำนวนและการดำเนินการ','name':_0x3abb87(0x8e6)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x5bd)},{'category':_0x3abb87(0x617),'name':_0x3abb87(0x733)},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':_0x3abb87(0x617),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x3abb87(0x617),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':'การวัด','name':'หน่วยความยาวและการแปลง'},{'category':_0x3abb87(0xc54),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':_0x3abb87(0x1f4)},{'category':_0x3abb87(0xc54),'name':_0x3abb87(0xc74)},{'category':_0x3abb87(0xc54),'name':'อุณหภูมิและการแปลง'},{'category':_0x3abb87(0xc54),'name':'เส้นรอบรูป'},{'category':_0x3abb87(0xc54),'name':_0x3abb87(0x8d7)},{'category':_0x3abb87(0xc54),'name':_0x3abb87(0x30a)},{'category':_0x3abb87(0xc54),'name':_0x3abb87(0xaa2)},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x3abb87(0xc54),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x3abb87(0xc54),'name':'มุมและการวัดมุม'},{'category':_0x3abb87(0xc54),'name':_0x3abb87(0xbbb)},{'category':_0x3abb87(0xc54),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x3abb87(0xc88),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x3abb87(0xc88),'name':'ความสัมพันธ์ของมุม'},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0x815)},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0x30a)},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0xc01)},{'category':_0x3abb87(0xc88),'name':'ความคล้ายของรูป'},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0x6aa)},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0x706)},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0xe84)},{'category':'เรขาคณิต','name':_0x3abb87(0xc99)},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0xdba)},{'category':_0x3abb87(0xc88),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0x2b0)},{'category':_0x3abb87(0xc88),'name':_0x3abb87(0xbc0)},{'category':_0x3abb87(0xc88),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x3abb87(0x55f),'name':'ตัวแปรและนิพจน์'},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x532)},{'category':_0x3abb87(0x55f),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0xd88)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x355)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3abb87(0x495)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x6fe)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0xe4e)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการค่าสัมบูรณ์'},{'category':_0x3abb87(0x55f),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0xe11)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x381)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x5d1)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x42d)},{'category':_0x3abb87(0x55f),'name':'ระบบอสมการ'},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x62b)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x268)},{'category':_0x3abb87(0x55f),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x3c7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3abb87(0xb72)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x615)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x6f9)},{'category':_0x3abb87(0x55f),'name':'ฟังก์ชันพหุนาม'},{'category':_0x3abb87(0x55f),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x921)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0xaeb)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x374)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3abb87(0xbbc)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0xd8c)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x79e)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x5a6)},{'category':_0x3abb87(0x55f),'name':_0x3abb87(0x9c4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3abb87(0xb09)},{'category':_0x3abb87(0x358),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x3abb87(0x358),'name':_0x3abb87(0xcbd)},{'category':_0x3abb87(0x358),'name':_0x3abb87(0x8b5)},{'category':_0x3abb87(0x358),'name':_0x3abb87(0x6d8)},{'category':_0x3abb87(0x358),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x3abb87(0x358),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x3abb87(0xde5)},{'category':_0x3abb87(0x358),'name':_0x3abb87(0xcf7)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3abb87(0x1d4)},{'category':_0x3abb87(0xcdc),'name':_0x3abb87(0x701)},{'category':_0x3abb87(0xcdc),'name':_0x3abb87(0x47d)},{'category':_0x3abb87(0xcdc),'name':_0x3abb87(0xc62)},{'category':'ตรีโกณมิติ','name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':_0x3abb87(0x72b)},{'category':_0x3abb87(0xcdc),'name':_0x3abb87(0xd77)},{'category':'ตรีโกณมิติ','name':_0x3abb87(0x6f5)},{'category':_0x3abb87(0xcdc),'name':_0x3abb87(0x2a8)},{'category':_0x3abb87(0xcdc),'name':'สมการตรีโกณมิติ'},{'category':'ตรีโกณมิติ','name':_0x3abb87(0x3df)},{'category':_0x3abb87(0xcdc),'name':_0x3abb87(0x747)},{'category':_0x3abb87(0xd7c),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0x71f)},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0xc02)},{'category':_0x3abb87(0xd7c),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x3abb87(0xacb)},{'category':'สถิติและความน่าจะเป็น','name':_0x3abb87(0x297)},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0x953)},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0xa06)},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0xdd2)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0x9c1)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0x274)},{'category':'สถิติและความน่าจะเป็น','name':_0x3abb87(0x272)},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0x3ad)},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0x4e9)},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0x455)},{'category':'สถิติและความน่าจะเป็น','name':_0x3abb87(0x6c5)},{'category':_0x3abb87(0xd7c),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0xd25)},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0xa2d)},{'category':_0x3abb87(0xd7c),'name':_0x3abb87(0x370)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x3abb87(0xb1a),'name':_0x3abb87(0x60c)},{'category':_0x3abb87(0xb1a),'name':_0x3abb87(0x8c8)},{'category':_0x3abb87(0xb1a),'name':_0x3abb87(0xa7d)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x3abb87(0xb1a),'name':_0x3abb87(0x3ff)},{'category':_0x3abb87(0xb1a),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3abb87(0xceb)},{'category':_0x3abb87(0xb1a),'name':_0x3abb87(0xcba)},{'category':_0x3abb87(0xb1a),'name':_0x3abb87(0xc76)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3abb87(0x8e1)},{'category':_0x3abb87(0xb1a),'name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3abb87(0x9d8)},{'category':_0x3abb87(0xb1a),'name':_0x3abb87(0x363)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3abb87(0xe61)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3abb87(0xa19)},{'category':_0x3abb87(0x3a3),'name':_0x3abb87(0x27b)},{'category':_0x3abb87(0x3a3),'name':_0x3abb87(0xdbe)},{'category':_0x3abb87(0x3a3),'name':_0x3abb87(0xa41)},{'category':_0x3abb87(0x3a3),'name':_0x3abb87(0x384)},{'category':_0x3abb87(0x3a3),'name':_0x3abb87(0x8be)},{'category':_0x3abb87(0x4f1),'name':'ดอกเบี้ยอย่างง่าย'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3abb87(0x5a3)},{'category':_0x3abb87(0x4f1),'name':_0x3abb87(0x2fa)},{'category':_0x3abb87(0x4f1),'name':_0x3abb87(0xd44)},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':_0x3abb87(0x5c4),'name':_0x3abb87(0xa37)},{'category':_0x3abb87(0x5c4),'name':_0x3abb87(0x729)},{'category':_0x3abb87(0x5c4),'name':_0x3abb87(0x349)}];function renderTopicCheckboxes(){const _0x2a4bd6=_0x3abb87,_0x296d06=document[_0x2a4bd6(0x753)](_0x2a4bd6(0x3ab));if(!_0x296d06)return;const _0x2ca263=allMathTopics,_0xd7685d=customMathTopics[_0x2a4bd6(0x561)](_0x52fe68=>({'id':_0x52fe68['id'],'category':_0x2a4bd6(0xb1b),'name':_0x52fe68[_0x2a4bd6(0xc71)]})),_0x503ceb=[..._0x2ca263,..._0xd7685d],_0x336357=_0x503ceb['reduce']((_0x2ef09e,_0x2283cf)=>{const _0x176a92=_0x2a4bd6;return!_0x2ef09e[_0x2283cf[_0x176a92(0xd71)]]&&(_0x2ef09e[_0x2283cf[_0x176a92(0xd71)]]=[]),_0x2ef09e[_0x2283cf['category']][_0x176a92(0xabd)](_0x2283cf),_0x2ef09e;},{});let _0xa926d1='';const _0xdd3c22=[_0x2a4bd6(0xb1b),...Object[_0x2a4bd6(0xbd6)](_0x336357)[_0x2a4bd6(0x27c)](_0x44b9bd=>_0x44b9bd!=='หัวข้อที่สร้างเอง')];for(const _0x42697c of _0xdd3c22){if(_0x336357[_0x42697c]){const _0x3b821b=_0x42697c===_0x2a4bd6(0xb1b),_0x2647ad=_0x3b821b?'fas\x20fa-user-edit':_0x2a4bd6(0xca8),_0xacb155=_0x3b821b?_0x2a4bd6(0xbc5):_0x2a4bd6(0xdb7);_0xa926d1+=_0x2a4bd6(0xe82),_0xa926d1+=_0x2a4bd6(0xcd4)+_0xacb155+_0x2a4bd6(0x1f9)+_0x2647ad+_0x2a4bd6(0x4fb)+_0x42697c+_0x2a4bd6(0x854),_0x336357[_0x42697c][_0x2a4bd6(0x91b)](_0x4b62c5=>{const _0x46a641=_0x2a4bd6,_0x2e9a74=!!_0x4b62c5['id'],_0x392c76=_0x2e9a74?_0x46a641(0xc50)+_0x4b62c5['id']+_0x46a641(0xe2e)+_0x4b62c5['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4b62c5['id']+_0x46a641(0x4d3)+_0x4b62c5['id']+_0x46a641(0x5d6):'';_0xa926d1+=_0x46a641(0x48a)+(_0x4b62c5['id']||'')+_0x46a641(0x482)+_0x4b62c5[_0x46a641(0xc71)]+_0x46a641(0x565)+_0x4b62c5[_0x46a641(0xc71)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2e9a74?_0x46a641(0x3a0)+_0x4b62c5[_0x46a641(0xc71)]+'\x22>':'')+_0x46a641(0xa47)+_0x392c76+_0x46a641(0x9dd);}),_0xa926d1+=_0x2a4bd6(0x634);}}_0x296d06[_0x2a4bd6(0xd15)]=_0xa926d1||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x296d06['removeEventListener'](_0x2a4bd6(0x220),updateSelectedTopicsCount),_0x296d06[_0x2a4bd6(0xdd0)](_0x2a4bd6(0x220),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4792d0,_0x426647){const _0x5117e4=_0x3abb87;if(!_0x4792d0||!_0x426647[_0x5117e4(0xda7)]()){showMessage(_0x5117e4(0x7dd));return;}try{const _0x1f00e3=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x4792d0);await updateDoc(_0x1f00e3,{'name':_0x426647[_0x5117e4(0xda7)]()}),showMessage(_0x5117e4(0x68b));}catch(_0x40a51c){console[_0x5117e4(0x28d)]('Error\x20updating\x20custom\x20topic:',_0x40a51c),showMessage(_0x5117e4(0xa93));}}function toggleTopicEditMode(_0x5e883d,_0xf9d86b){const _0x4aed27=_0x3abb87;if(!_0x5e883d)return;const _0x4abce2=_0x5e883d[_0x4aed27(0xd5b)](_0x4aed27(0xd5c)),_0xf0938a=_0x5e883d[_0x4aed27(0xd5b)](_0x4aed27(0xcec)),_0x25dc95=_0x5e883d['querySelector'](_0x4aed27(0x999)),_0x4761f8=_0x5e883d[_0x4aed27(0xd5b)](_0x4aed27(0x7cf));_0x4abce2[_0x4aed27(0x33a)][_0x4aed27(0x40d)](_0x4aed27(0x986),_0xf9d86b),_0xf0938a['classList'][_0x4aed27(0x40d)]('hidden',!_0xf9d86b),_0x25dc95[_0x4aed27(0x33a)]['toggle'](_0x4aed27(0x986),_0xf9d86b),_0x4761f8[_0x4aed27(0x33a)][_0x4aed27(0x40d)](_0x4aed27(0x986),!_0xf9d86b),_0xf9d86b&&(_0xf0938a[_0x4aed27(0x9fa)](),_0xf0938a[_0x4aed27(0xba7)]());}async function handleStartLiveRace(_0x4c48a8){const _0x4dd537=_0x3abb87;let _0x224fd3=allQuizzes[_0x4dd537(0x7f4)](_0xa8db47=>_0xa8db47['id']===_0x4c48a8);if(!_0x224fd3){const _0x31801d=doc(db,_0x4dd537(0x8da)+appId+_0x4dd537(0xe3e),_0x4c48a8),_0x19c76e=await getDoc(_0x31801d);if(!_0x19c76e[_0x4dd537(0xc9d)]()){showMessage(_0x4dd537(0x397));return;}_0x224fd3={'id':_0x19c76e['id'],..._0x19c76e[_0x4dd537(0x3f4)]()};}const _0x1f74f1=getShuffledQuiz(_0x224fd3);currentQuizData=_0x1f74f1;const _0x254360=_0x224fd3['projectId']||currentProjectId||null,_0x4e3928=Math[_0x4dd537(0x886)](0x3e8+Math[_0x4dd537(0x323)]()*0x2328)[_0x4dd537(0xbd3)]();currentLiveGamePin=_0x4e3928;try{const _0x30b57c=await addDoc(collection(db,_0x4dd537(0x8da)+appId+_0x4dd537(0xc70)),{'quizId':_0x4c48a8,'projectId':_0x254360,'status':_0x4dd537(0x973),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4e3928,'createdAt':serverTimestamp(),'shuffledQuiz':_0x1f74f1});currentLiveGameId=_0x30b57c['id'],showAdminLobbyView(_0x4e3928,_0x224fd3[_0x4dd537(0x3bb)]),listenForLiveGameUpdates();}catch(_0x288be0){console[_0x4dd537(0x28d)](_0x4dd537(0xd2f),_0x288be0),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x201b2c=_0x3abb87,_0x1c86c3=document[_0x201b2c(0x753)](_0x201b2c(0x3ab)),_0x34c61c=_0x1c86c3[_0x201b2c(0x628)]('input[type=\x22checkbox\x22]:checked')[_0x201b2c(0xd2b)],_0x107b74=document[_0x201b2c(0x753)](_0x201b2c(0xbf6));_0x34c61c>0x0?_0x107b74[_0x201b2c(0xbde)]=_0x201b2c(0xcac)+_0x34c61c+_0x201b2c(0x216):_0x107b74['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3abb87(0xbf8),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3abb87(0x95d),quizLeaderboardSortOrder=_0x3abb87(0xbd5),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x3abb87(0xc94),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x3abb87(0x569),scratchpadPenColor=_0x3abb87(0x247),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5e0d31,_0x4e24c7){const _0x176223=_0x3abb87;return Math[_0x176223(0x553)](Math[_0x176223(0x768)](_0x5e0d31['x']-_0x4e24c7['x'],0x2)+Math[_0x176223(0x768)](_0x5e0d31['y']-_0x4e24c7['y'],0x2));}function getMidpoint(_0x1e48f4,_0x40f0fc){return{'x':(_0x1e48f4['x']+_0x40f0fc['x'])/0x2,'y':(_0x1e48f4['y']+_0x40f0fc['y'])/0x2};}function getTransformedPoint(_0x1998f3,_0x3ccc3d){return{'x':(_0x1998f3-scratchpadOffset['x'])/scratchpadScale,'y':(_0x3ccc3d-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x106673=_0x3abb87;if(!scratchpadCtx)return;const _0x29c2f4=scratchpadCtx['canvas'],_0x54bcc9=window[_0x106673(0x875)]||0x1,_0x5d9aea=document[_0x106673(0x753)](_0x106673(0x98d));_0x5d9aea&&(_0x5d9aea[_0x106673(0x41d)][_0x106673(0xa3f)]=_0x106673(0x227),_0x5d9aea['style'][_0x106673(0xdbb)]=_0x106673(0xa35)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x54bcc9,0x0,0x0,_0x54bcc9,0x0,0x0),scratchpadCtx[_0x106673(0x210)](0x0,0x0,_0x29c2f4[_0x106673(0xbb9)],_0x29c2f4[_0x106673(0xbad)]),scratchpadCtx[_0x106673(0x92c)](),scratchpadCtx[_0x106673(0x7df)](),scratchpadCtx[_0x106673(0x646)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x106673(0x91b)](_0x212186=>{drawStroke(_0x212186);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x106673(0x92c)]();}function renderGroupModeQuestion(){const _0x46dabc=_0x3abb87;if(localQuestionIndex>=currentQuizData[_0x46dabc(0x806)][_0x46dabc(0xd2b)]){displayTeamQuizFinalResults();return;}const _0x36e763=currentQuizData[_0x46dabc(0x806)][localQuestionIndex],_0x248e8c=_0x36e763['questionType']||currentQuizData[_0x46dabc(0x273)];let _0x5d8a92=_0x36e763[_0x46dabc(0x9b7)]||_0x36e763[_0x46dabc(0xbdb)],_0x1761f4='';switch(_0x248e8c){case'multiple_choice':case _0x46dabc(0x990):_0x1761f4=_0x36e763['options'][_0x46dabc(0x561)]((_0x4bc575,_0x2e3bb4)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x2e3bb4+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x2e3bb4+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x2e3bb4+'\x22>'+_0x4bc575+'</label></div>')[_0x46dabc(0xe0b)]('');break;case'true_false':_0x1761f4='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x46dabc(0xb85):case _0x46dabc(0x203):_0x1761f4='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case'matching_item':_0x1761f4='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x36e763['allResponses'][_0x46dabc(0x561)](_0x2349ea=>_0x46dabc(0x957)+_0x2349ea+'\x22>'+_0x2349ea+_0x46dabc(0xaa5))[_0x46dabc(0xe0b)]('')+_0x46dabc(0x7ec);break;default:_0x1761f4='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x46dabc(0xd15)]=_0x46dabc(0x5b3)+(localQuestionIndex+0x1)+_0x46dabc(0x375)+currentQuizData[_0x46dabc(0x806)][_0x46dabc(0xd2b)]+_0x46dabc(0x28e)+localTeamPlayers[_0x46dabc(0xe0b)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x5d8a92+_0x46dabc(0x685)+(_0x36e763[_0x46dabc(0xc35)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x36e763[_0x46dabc(0xc35)]+_0x46dabc(0x634):'')+_0x46dabc(0x4d0)+_0x1761f4+_0x46dabc(0xe54),studentQuizArea['classList'][_0x46dabc(0x23a)](_0x46dabc(0x986));if(window[_0x46dabc(0xc12)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x46dabc(0xa31))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2bf921,_0x6dacca=null,_0x11ee80,_0x4edd11=null,_0x332301=![],_0xfcef0=null){const _0x47a3f8=_0x3abb87,_0x2f8b24=document[_0x47a3f8(0x753)](_0x47a3f8(0x64c));_0x2f8b24&&_0x2f8b24[_0x47a3f8(0xe76)]({'behavior':_0x47a3f8(0xa73),'block':_0x47a3f8(0x33f)}),generateQuiz(_0x2bf921,_0x6dacca,null,_0xfcef0,!![],_0x11ee80,_0x4edd11,_0x332301);}function handleGenerateAndShowLesson(_0x3ca4d0,_0x4330b5){const _0x304430=_0x3abb87,_0x3dce6f=document[_0x304430(0x753)](_0x304430(0x4d2)),_0x3be49d=document[_0x304430(0x753)](_0x304430(0x75a)),_0x21e25b=document[_0x304430(0x753)](_0x304430(0x579)),_0x187f33=document['getElementById']('lesson-sections-container');[_0x304430(0x968),'memoryContent',_0x304430(0x80f),_0x304430(0x985)][_0x304430(0x91b)](_0x5f18c8=>{const _0x61e7f=_0x304430,_0x3b47ff=document['getElementById'](_0x5f18c8)['parentElement'];_0x3b47ff&&(_0x3b47ff[_0x61e7f(0x41d)][_0x61e7f(0x62e)]=_0x61e7f(0x4c3));}),_0x3be49d[_0x304430(0xbde)]=_0x304430(0xc39)+_0x3ca4d0,_0x187f33[_0x304430(0x33a)]['add'](_0x304430(0x986)),_0x21e25b[_0x304430(0x33a)][_0x304430(0x23a)](_0x304430(0x986)),_0x3dce6f[_0x304430(0x33a)][_0x304430(0x23a)](_0x304430(0x986)),generateLesson(_0x3ca4d0,_0x4330b5)['catch'](_0x1c65de=>{const _0xb3f5ce=_0x304430;console['error'](_0xb3f5ce(0x4a2),_0x1c65de),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x3dce6f[_0xb3f5ce(0x33a)][_0xb3f5ce(0xbaf)](_0xb3f5ce(0x986));});}function handlePointerDown(_0x24e19b){const _0x29c5cb=_0x3abb87;_0x24e19b['preventDefault']();const _0x4ee6d5=scratchpadCtx[_0x29c5cb(0xa68)],_0x1c2803=_0x4ee6d5['getBoundingClientRect'](),_0x4ecadf=_0x24e19b[_0x29c5cb(0x7ce)]||(_0x24e19b[_0x29c5cb(0xa40)]?'touch':_0x29c5cb(0x31c));if(_0x4ecadf==='pen'||_0x4ecadf==='mouse'){if(_0x24e19b[_0x29c5cb(0x7ce)]===_0x29c5cb(0x31c)&&_0x24e19b['button']!==0x0){_0x24e19b[_0x29c5cb(0x442)]===0x1&&(isMousePanning=!![],panStart={'x':_0x24e19b[_0x29c5cb(0x8a1)],'y':_0x24e19b[_0x29c5cb(0x484)]},_0x4ee6d5[_0x29c5cb(0x41d)][_0x29c5cb(0x9a6)]=_0x29c5cb(0x51f));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x563888=getTransformedPoint(_0x24e19b[_0x29c5cb(0x8a1)]-_0x1c2803[_0x29c5cb(0x599)],_0x24e19b[_0x29c5cb(0x484)]-_0x1c2803[_0x29c5cb(0x79c)]);let _0x3e5e65={'tool':activeTool,'points':[_0x563888]};if(activeTool===_0x29c5cb(0x569))_0x3e5e65[_0x29c5cb(0x790)]=scratchpadPenColor,_0x3e5e65[_0x29c5cb(0x714)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x3e5e65[_0x29c5cb(0x790)]=scratchpadPenColor,_0x3e5e65['size']=scratchpadEraserSize;else{if(activeTool==='highlighter')_0x3e5e65[_0x29c5cb(0x790)]=scratchpadHighlighterColor,_0x3e5e65[_0x29c5cb(0x714)]=scratchpadHighlighterSize;else activeTool==='trail'&&(_0x3e5e65[_0x29c5cb(0x790)]=scratchpadPenColor,_0x3e5e65[_0x29c5cb(0x714)]=scratchpadPenSize);}}currentStroke=_0x3e5e65;}else _0x24e19b['touches']&&(_0x24e19b['touches'][_0x29c5cb(0xd2b)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x24e19b[_0x29c5cb(0xa40)][0x0][_0x29c5cb(0x8a1)],'y':_0x24e19b['touches'][0x0][_0x29c5cb(0x484)]},{'x':_0x24e19b['touches'][0x1][_0x29c5cb(0x8a1)],'y':_0x24e19b[_0x29c5cb(0xa40)][0x1][_0x29c5cb(0x484)]}),initialPinchDistance=getDistance({'x':_0x24e19b[_0x29c5cb(0xa40)][0x0][_0x29c5cb(0x8a1)],'y':_0x24e19b[_0x29c5cb(0xa40)][0x0][_0x29c5cb(0x484)]},{'x':_0x24e19b[_0x29c5cb(0xa40)][0x1][_0x29c5cb(0x8a1)],'y':_0x24e19b['touches'][0x1]['clientY']})));}function animateTrail(){const _0x55e1c2=_0x3abb87,_0x14ff2d=Date[_0x55e1c2(0xbc4)]();let _0x5c7640=![];for(let _0x17e2ec=strokes[_0x55e1c2(0xd2b)]-0x1;_0x17e2ec>=0x0;_0x17e2ec--){const _0x147108=strokes[_0x17e2ec];if(_0x147108[_0x55e1c2(0x3ec)]===_0x55e1c2(0xca5)&&_0x147108[_0x55e1c2(0xc1e)]){const _0x18818b=_0x14ff2d-_0x147108[_0x55e1c2(0xc1e)];_0x18818b>=TRAIL_DURATION?strokes[_0x55e1c2(0x8a5)](_0x17e2ec,0x1):(_0x147108['opacity']=0x1-_0x18818b/TRAIL_DURATION,_0x5c7640=!![]);}}redrawScratchpad(),_0x5c7640?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x30ae6f){const _0x546444=_0x3abb87;if(!_0x30ae6f||_0x30ae6f[_0x546444(0x728)]['length']<0x1)return;scratchpadCtx[_0x546444(0x7df)](),scratchpadCtx[_0x546444(0x2a9)]='round',scratchpadCtx[_0x546444(0x8f3)]=_0x546444(0x586);if(_0x30ae6f[_0x546444(0x3ec)]==='trail'){const _0x1848cb=_0x30ae6f[_0x546444(0x714)]/scratchpadScale;scratchpadCtx[_0x546444(0x222)]=_0x30ae6f['opacity']??0x1,scratchpadCtx['shadowColor']='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x546444(0x548)]=_0x1848cb*0x3,scratchpadCtx[_0x546444(0xc2f)]=_0x546444(0x523),scratchpadCtx[_0x546444(0x79f)]=_0x1848cb*2.5,scratchpadCtx[_0x546444(0x888)](),scratchpadCtx[_0x546444(0x97b)](_0x30ae6f[_0x546444(0x728)][0x0]['x'],_0x30ae6f['points'][0x0]['y']);for(let _0x49a656=0x1;_0x49a656<_0x30ae6f[_0x546444(0x728)][_0x546444(0xd2b)]-0x1;_0x49a656++){const _0x537a3c=getMidpoint(_0x30ae6f[_0x546444(0x728)][_0x49a656],_0x30ae6f[_0x546444(0x728)][_0x49a656+0x1]);scratchpadCtx[_0x546444(0xa43)](_0x30ae6f[_0x546444(0x728)][_0x49a656]['x'],_0x30ae6f['points'][_0x49a656]['y'],_0x537a3c['x'],_0x537a3c['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x546444(0x8c6)]='transparent',scratchpadCtx[_0x546444(0x548)]=0x0,scratchpadCtx[_0x546444(0xc2f)]='#FFFFFF',scratchpadCtx[_0x546444(0x79f)]=_0x1848cb,scratchpadCtx[_0x546444(0x897)](),scratchpadCtx['closePath']();}else{if(_0x30ae6f[_0x546444(0x3ec)]===_0x546444(0x68c)){scratchpadCtx['globalCompositeOperation']=_0x546444(0x225),scratchpadCtx['strokeStyle']=_0x30ae6f[_0x546444(0x790)],scratchpadCtx['lineWidth']=_0x30ae6f[_0x546444(0x714)],scratchpadCtx[_0x546444(0x888)](),scratchpadCtx[_0x546444(0x97b)](_0x30ae6f[_0x546444(0x728)][0x0]['x'],_0x30ae6f[_0x546444(0x728)][0x0]['y']);for(let _0x32ba26=0x1;_0x32ba26<_0x30ae6f[_0x546444(0x728)][_0x546444(0xd2b)]-0x1;_0x32ba26++){const _0x36dbea=getMidpoint(_0x30ae6f[_0x546444(0x728)][_0x32ba26],_0x30ae6f['points'][_0x32ba26+0x1]);scratchpadCtx[_0x546444(0xa43)](_0x30ae6f[_0x546444(0x728)][_0x32ba26]['x'],_0x30ae6f[_0x546444(0x728)][_0x32ba26]['y'],_0x36dbea['x'],_0x36dbea['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x30ae6f[_0x546444(0x3ec)]==='eraser'?'destination-out':_0x546444(0xc34),scratchpadCtx[_0x546444(0xc2f)]=_0x30ae6f['color'],scratchpadCtx[_0x546444(0x79f)]=_0x30ae6f[_0x546444(0x714)],scratchpadCtx[_0x546444(0x888)](),scratchpadCtx[_0x546444(0x97b)](_0x30ae6f['points'][0x0]['x'],_0x30ae6f[_0x546444(0x728)][0x0]['y']);for(let _0x35acd9=0x1;_0x35acd9<_0x30ae6f[_0x546444(0x728)]['length']-0x1;_0x35acd9++){const _0x5b7a8a=getMidpoint(_0x30ae6f[_0x546444(0x728)][_0x35acd9],_0x30ae6f[_0x546444(0x728)][_0x35acd9+0x1]);scratchpadCtx[_0x546444(0xa43)](_0x30ae6f[_0x546444(0x728)][_0x35acd9]['x'],_0x30ae6f[_0x546444(0x728)][_0x35acd9]['y'],_0x5b7a8a['x'],_0x5b7a8a['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x546444(0x92c)]();}function handlePointerMove(_0x5bf617){const _0x4e26b7=_0x3abb87;_0x5bf617[_0x4e26b7(0x83f)]();const _0x252a17=scratchpadCtx[_0x4e26b7(0xa68)],_0x40790e=_0x252a17[_0x4e26b7(0xd30)]();if(_0x5bf617['touches']){if(_0x5bf617['touches'][_0x4e26b7(0xd2b)]===0x1&&isDrawingOnScratchpad){const _0x49fbb6=getTransformedPoint(_0x5bf617[_0x4e26b7(0xa40)][0x0][_0x4e26b7(0x8a1)]-_0x40790e['left'],_0x5bf617[_0x4e26b7(0xa40)][0x0][_0x4e26b7(0x484)]-_0x40790e[_0x4e26b7(0x79c)]);currentStroke['points'][_0x4e26b7(0xabd)](_0x49fbb6),redrawScratchpad();}else{if(_0x5bf617[_0x4e26b7(0xa40)][_0x4e26b7(0xd2b)]===0x2&&isPanning){const _0x34956c=getDistance({'x':_0x5bf617[_0x4e26b7(0xa40)][0x0][_0x4e26b7(0x8a1)],'y':_0x5bf617['touches'][0x0][_0x4e26b7(0x484)]},{'x':_0x5bf617[_0x4e26b7(0xa40)][0x1]['clientX'],'y':_0x5bf617['touches'][0x1][_0x4e26b7(0x484)]}),_0x7e5b16=getMidpoint({'x':_0x5bf617[_0x4e26b7(0xa40)][0x0][_0x4e26b7(0x8a1)],'y':_0x5bf617[_0x4e26b7(0xa40)][0x0]['clientY']},{'x':_0x5bf617['touches'][0x1][_0x4e26b7(0x8a1)],'y':_0x5bf617[_0x4e26b7(0xa40)][0x1][_0x4e26b7(0x484)]}),_0x405bd3=_0x34956c/ initialPinchDistance,_0x55e1ee=Math['min'](Math[_0x4e26b7(0x513)](scratchpadScale*_0x405bd3,MIN_SCALE),MAX_SCALE),_0x49f29c=_0x7e5b16['x']-panStart['x'],_0x25f59c=_0x7e5b16['y']-panStart['y'];scratchpadOffset['x']=_0x7e5b16['x']-(_0x7e5b16['x']-scratchpadOffset['x'])*(_0x55e1ee/scratchpadScale),scratchpadOffset['y']=_0x7e5b16['y']-(_0x7e5b16['y']-scratchpadOffset['y'])*(_0x55e1ee/scratchpadScale),scratchpadOffset['x']+=_0x49f29c,scratchpadOffset['y']+=_0x25f59c,scratchpadScale=_0x55e1ee,initialPinchDistance=_0x34956c,panStart=_0x7e5b16,redrawScratchpad();}}}else{if(isMousePanning){const _0x2586c1=_0x5bf617[_0x4e26b7(0x8a1)]-panStart['x'],_0x39a14b=_0x5bf617[_0x4e26b7(0x484)]-panStart['y'];scratchpadOffset['x']+=_0x2586c1,scratchpadOffset['y']+=_0x39a14b,panStart={'x':_0x5bf617['clientX'],'y':_0x5bf617['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4e94c3=getTransformedPoint(_0x5bf617[_0x4e26b7(0x8a1)]-_0x40790e['left'],_0x5bf617['clientY']-_0x40790e[_0x4e26b7(0x79c)]);currentStroke[_0x4e26b7(0x728)][_0x4e26b7(0xabd)](_0x4e94c3),redrawScratchpad();}}}}function handlePointerUp(_0x5cd2ee){const _0x43db09=_0x3abb87;_0x5cd2ee[_0x43db09(0x83f)]();const _0x4b9dd6=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x4b9dd6['style'][_0x43db09(0x9a6)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x43db09(0x728)]['length']>0x1&&(strokes['push'](currentStroke),currentStroke[_0x43db09(0x3ec)]===_0x43db09(0xca5)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x462d6f=_0x43db09,_0x244018=strokes[_0x462d6f(0x27c)](_0x2ecfd1=>_0x2ecfd1['tool']===_0x462d6f(0xca5)&&!_0x2ecfd1[_0x462d6f(0xc1e)]);if(_0x244018[_0x462d6f(0xd2b)]>0x0){const _0x5950ca=Date[_0x462d6f(0xbc4)]();_0x244018['forEach'](_0x3cedc7=>_0x3cedc7['fadeStartTime']=_0x5950ca),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x514138){const _0x14164f=_0x3abb87;_0x514138['preventDefault']();const _0x5718da=_0x514138[_0x14164f(0xcf0)]*-0.005,_0x25742f=Math['min'](Math[_0x14164f(0x513)](scratchpadScale+_0x5718da,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x514138[_0x14164f(0x8a1)]-(_0x514138[_0x14164f(0x8a1)]-scratchpadOffset['x'])*(_0x25742f/scratchpadScale),scratchpadOffset['y']=_0x514138[_0x14164f(0x484)]-(_0x514138['clientY']-scratchpadOffset['y'])*(_0x25742f/scratchpadScale),scratchpadScale=_0x25742f,redrawScratchpad();}function undo(){const _0x264422=_0x3abb87;strokes[_0x264422(0xd2b)]>0x0&&(redoStrokes[_0x264422(0xabd)](strokes[_0x264422(0x73c)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x388432=_0x3abb87;redoStrokes[_0x388432(0xd2b)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x504991=_0x3abb87;document['getElementById'](_0x504991(0x94a))[_0x504991(0x5ad)]=strokes[_0x504991(0xd2b)]===0x0,document[_0x504991(0x753)](_0x504991(0x3cc))[_0x504991(0x5ad)]=redoStrokes[_0x504991(0xd2b)]===0x0;}function openScratchpad(_0x3d98cf,_0x15281e){const _0x23385d=_0x3abb87,_0x4f1279=document[_0x23385d(0x753)]('scratchpad-modal'),_0x59d908=document['getElementById'](_0x23385d(0xaa7)),_0x3bd9c6=document[_0x23385d(0x753)](_0x23385d(0x9d0)),_0x2b1e5a=document[_0x23385d(0x753)](_0x23385d(0x334));_0x59d908[_0x23385d(0xd15)]=_0x3d98cf['stem']||_0x3d98cf[_0x23385d(0xbdb)],_0x3bd9c6['innerHTML']=_0x15281e[_0x23385d(0x561)]((_0x55b25d,_0x559e52)=>_0x23385d(0xa54)+String[_0x23385d(0x83c)](0x41+_0x559e52)+'.\x20'+_0x55b25d+_0x23385d(0x634))[_0x23385d(0xe0b)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4f1279['classList'][_0x23385d(0x23a)](_0x23385d(0x986)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x23385d(0xc12)])MathJax['typesetPromise']([_0x59d908,_0x3bd9c6]);}function openBlueprintQuizSettings(){const _0x1caa8f=_0x3abb87,_0x478cc6=document[_0x1caa8f(0x753)](_0x1caa8f(0x720)),_0x2fa878=blueprintPageSettings||(currentProjectData?currentProjectData[_0x1caa8f(0xa95)]:{})||{};document['getElementById']('bp-modal-quiz-type-select')[_0x1caa8f(0x8a6)]=_0x2fa878['quizType']||document[_0x1caa8f(0x753)](_0x1caa8f(0xb9c))[_0x1caa8f(0x8a6)],document[_0x1caa8f(0x753)](_0x1caa8f(0xbf5))[_0x1caa8f(0xd15)]=document[_0x1caa8f(0x753)](_0x1caa8f(0x344))[_0x1caa8f(0xd15)],document[_0x1caa8f(0x753)](_0x1caa8f(0xbf5))['value']=_0x2fa878[_0x1caa8f(0x819)]||document[_0x1caa8f(0x753)](_0x1caa8f(0x344))[_0x1caa8f(0x8a6)],document[_0x1caa8f(0x753)](_0x1caa8f(0xc90))[_0x1caa8f(0xd15)]=document[_0x1caa8f(0x753)](_0x1caa8f(0xb2f))[_0x1caa8f(0xd15)],document['getElementById']('bp-modal-question-complexity-select')['value']=_0x2fa878[_0x1caa8f(0x640)]||document[_0x1caa8f(0x753)](_0x1caa8f(0xb2f))['value'],document[_0x1caa8f(0x753)](_0x1caa8f(0x2d1))['value']=_0x2fa878['numQuestions']||document['getElementById'](_0x1caa8f(0x1d5))[_0x1caa8f(0x8a6)],document[_0x1caa8f(0x753)]('bp-modal-passing-score-input')[_0x1caa8f(0x8a6)]=_0x2fa878[_0x1caa8f(0x575)]||document[_0x1caa8f(0x753)](_0x1caa8f(0x208))['value'],document['getElementById'](_0x1caa8f(0xa22))[_0x1caa8f(0x8a6)]=_0x2fa878[_0x1caa8f(0xb6b)]||document[_0x1caa8f(0x753)](_0x1caa8f(0x517))['value'],document[_0x1caa8f(0x753)](_0x1caa8f(0x285))[_0x1caa8f(0x8a6)]=_0x2fa878[_0x1caa8f(0x7bd)]||document[_0x1caa8f(0x753)]('shuffle-setting-select')[_0x1caa8f(0x8a6)],document[_0x1caa8f(0x753)](_0x1caa8f(0x9ab))[_0x1caa8f(0xc32)]=_0x2fa878['includeImages']||document[_0x1caa8f(0x753)](_0x1caa8f(0xe12))[_0x1caa8f(0xc32)],_0x478cc6['classList'][_0x1caa8f(0x23a)](_0x1caa8f(0x986));}function handleSaveBlueprintPageSettings(){const _0x104fec=_0x3abb87;blueprintPageSettings={'quizType':document[_0x104fec(0x753)]('bp-modal-quiz-type-select')[_0x104fec(0x8a6)],'difficultyValue':document['getElementById'](_0x104fec(0xbf5))[_0x104fec(0x8a6)],'complexityValue':document[_0x104fec(0x753)](_0x104fec(0xc90))[_0x104fec(0x8a6)],'numQuestions':document[_0x104fec(0x753)](_0x104fec(0x2d1))['value'],'passingScore':document[_0x104fec(0x753)](_0x104fec(0x6d2))[_0x104fec(0x8a6)],'numChoices':document[_0x104fec(0x753)]('bp-modal-num-choices')[_0x104fec(0x8a6)],'shuffle':document[_0x104fec(0x753)](_0x104fec(0x285))[_0x104fec(0x8a6)],'includeImages':document[_0x104fec(0x753)](_0x104fec(0x9ab))[_0x104fec(0xc32)]},showMessage(_0x104fec(0x1d9)),document['getElementById'](_0x104fec(0x720))[_0x104fec(0x33a)][_0x104fec(0xbaf)](_0x104fec(0x986));}function listenForParallelTestShortcuts(){const _0x1b979e=_0x3abb87,_0x4b2597=doc(db,_0x1b979e(0x51c),_0x1b979e(0xb83));onSnapshot(_0x4b2597,_0x2d8c85=>{const _0x4a4725=_0x1b979e;let _0x3fdc70=[],_0x17f955=[],_0x373f63={};if(_0x2d8c85['exists']()){const _0x1cf08f=_0x2d8c85['data']();_0x3fdc70=_0x1cf08f['shortcuts']||[],_0x17f955=_0x1cf08f[_0x4a4725(0xd2c)]||[],_0x373f63=_0x1cf08f['parallelShortcutOrder']||{};}!_0x17f955[_0x4a4725(0x7f4)](_0x10599d=>_0x10599d['id']===_0x4a4725(0x5ea))&&_0x17f955['unshift']({'id':_0x4a4725(0x5ea),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x3fdc70[_0x4a4725(0x7f4)](_0x50773e=>_0x50773e['id']===_0x4a4725(0x9ff))&&_0x3fdc70[_0x4a4725(0x684)]({'id':_0x4a4725(0x9ff),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x3fdc70['find'](_0x43a1e8=>_0x43a1e8['id']==='parallel-default-2')&&_0x3fdc70[_0x4a4725(0x684)]({'id':_0x4a4725(0xb81),'name':_0x4a4725(0x917),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x3fdc70,parallelShortcutTabs=_0x17f955,parallelShortcutOrder=_0x373f63,renderParallelTestShortcuts(),!document[_0x4a4725(0x753)](_0x4a4725(0xda2))['classList'][_0x4a4725(0x415)](_0x4a4725(0x986))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x2fbb1c=_0x3abb87,_0x298676=doc(db,_0x2fbb1c(0x51c),'parallelTestShortcutsConfig');try{await setDoc(_0x298676,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x43319b){console[_0x2fbb1c(0x28d)](_0x2fbb1c(0x713),_0x43319b);}}function renderAdditionalParallelShortcutsModal(){const _0x598df3=_0x3abb87,_0x1754dd=document[_0x598df3(0x753)]('parallel-shortcut-tabs-nav'),_0x20ef4c=document[_0x598df3(0x753)](_0x598df3(0x82c));if(!_0x1754dd||!_0x20ef4c)return;_0x1754dd[_0x598df3(0xd15)]=parallelShortcutTabs['map'](_0x5085c9=>{const _0x3764f7=_0x598df3,_0x564e6b=_0x5085c9['id']===activeParallelShortcutTabId;return _0x3764f7(0xbfd)+_0x5085c9['id']+_0x3764f7(0x8c4)+(_0x564e6b?_0x3764f7(0x8c5):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x5085c9[_0x3764f7(0xc71)]+_0x3764f7(0x765)+_0x5085c9[_0x3764f7(0xc71)]+_0x3764f7(0x993)+(!_0x5085c9[_0x3764f7(0x871)]?'<button\x20data-tab-id=\x22'+_0x5085c9['id']+_0x3764f7(0xbb5):'')+_0x3764f7(0xe5b);})[_0x598df3(0xe0b)]('');const _0x1483dc=parallelShortcutTabs[_0x598df3(0x7f4)](_0x4ba068=>_0x4ba068['id']===activeParallelShortcutTabId);let _0x593f4c=_0x1483dc?.[_0x598df3(0x871)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x598df3(0x27c)](_0x325424=>(_0x1483dc?.[_0x598df3(0x2ee)]||[])[_0x598df3(0x842)](_0x325424['id']));const _0x3466ea=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x593f4c[_0x598df3(0xb00)]((_0x1c979d,_0xd825da)=>{const _0x2b53bd=_0x598df3,_0x5a4950=_0x3466ea[_0x2b53bd(0x4c0)](_0x1c979d['id']),_0x1c1d55=_0x3466ea[_0x2b53bd(0x4c0)](_0xd825da['id']);return(_0x5a4950===-0x1?Infinity:_0x5a4950)-(_0x1c1d55===-0x1?Infinity:_0x1c1d55);}),_0x20ef4c[_0x598df3(0xd15)]=_0x593f4c['map'](_0x545173=>{const _0x57ef09=_0x598df3,_0x104df5=_0x545173[_0x57ef09(0x855)]?'🔁':'🔗',_0x25aa37=parallelShortcutTabs[_0x57ef09(0x27c)](_0x2f4764=>!_0x2f4764[_0x57ef09(0x871)]),_0x25acab=_0x1483dc[_0x57ef09(0x871)]&&_0x25aa37['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25aa37['map'](_0x102e68=>_0x57ef09(0x54b)+_0x545173['id']+'\x22\x20data-target-tab-id=\x22'+_0x102e68['id']+'\x22>'+_0x102e68[_0x57ef09(0xc71)]+_0x57ef09(0x5e8))[_0x57ef09(0xe0b)]('')+_0x57ef09(0xb22):'';return _0x57ef09(0xa87)+_0x545173['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x104df5+'\x20'+_0x545173[_0x57ef09(0xc71)]+_0x57ef09(0xcfd)+_0x545173['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x545173['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x545173[_0x57ef09(0x871)]?'<button\x20data-id=\x22'+_0x545173['id']+_0x57ef09(0x37f):'')+_0x57ef09(0xe31)+(!_0x1483dc[_0x57ef09(0x871)]?_0x57ef09(0x4e1)+_0x545173['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x57ef09(0xe31)+_0x25acab+_0x57ef09(0xbc8);})[_0x598df3(0xe0b)]('')||_0x598df3(0x48c),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x1ae025=_0x3abb87;document[_0x1ae025(0x628)](_0x1ae025(0xd3b))[_0x1ae025(0x91b)](_0x4a108e=>{const _0x204145=_0x1ae025;_0x4a108e[_0x204145(0x26e)]=_0x2765eb=>{const _0x47cfb5=_0x204145;activeParallelShortcutTabId=_0x2765eb['currentTarget'][_0x47cfb5(0x970)][_0x47cfb5(0x840)],renderAdditionalParallelShortcutsModal();},_0x4a108e[_0x204145(0x745)]=_0x7d22c5=>{const _0x3300b2=_0x204145,_0x36aaf5=_0x7d22c5[_0x3300b2(0x1d3)][_0x3300b2(0xd5b)](_0x3300b2(0xaf5));_0x7d22c5[_0x3300b2(0x1d3)][_0x3300b2(0xd5b)](_0x3300b2(0xa44))[_0x3300b2(0x33a)][_0x3300b2(0xbaf)](_0x3300b2(0x986)),_0x36aaf5['classList'][_0x3300b2(0x23a)](_0x3300b2(0x986)),_0x36aaf5[_0x3300b2(0x9fa)](),_0x36aaf5[_0x3300b2(0xba7)]();};}),document['querySelectorAll'](_0x1ae025(0x7d8))['forEach'](_0x199d09=>{const _0x36f388=_0x1ae025,_0x1b92ae=()=>{const _0x73c31a=_0x55d5,_0x1d392c=_0x199d09['closest'](_0x73c31a(0xd3b))[_0x73c31a(0x970)][_0x73c31a(0x840)],_0x5b7cec=parallelShortcutTabs[_0x73c31a(0x7f4)](_0x287311=>_0x287311['id']===_0x1d392c);_0x5b7cec&&(_0x5b7cec[_0x73c31a(0xc71)]=_0x199d09[_0x73c31a(0x8a6)][_0x73c31a(0xda7)]()||_0x5b7cec[_0x73c31a(0xc71)],saveParallelShortcutConfig());};_0x199d09[_0x36f388(0x67d)]=_0x1b92ae,_0x199d09[_0x36f388(0x682)]=_0x93bacd=>{const _0x33008b=_0x36f388;if(_0x93bacd[_0x33008b(0x735)]===_0x33008b(0xcd2))_0x199d09['blur']();};}),document[_0x1ae025(0x628)]('.delete-parallel-shortcut-tab-btn')[_0x1ae025(0x91b)](_0x57bb95=>_0x57bb95[_0x1ae025(0x26e)]=_0x40853c=>{const _0x22159c=_0x1ae025,_0xc1dff5=_0x40853c[_0x22159c(0x1d3)][_0x22159c(0x970)][_0x22159c(0x840)];showConfirmation(_0x22159c(0xa3c),()=>{const _0x26a357=_0x22159c;parallelShortcutTabs=parallelShortcutTabs['filter'](_0x2c814e=>_0x2c814e['id']!==_0xc1dff5),delete parallelShortcutOrder[_0xc1dff5];if(activeParallelShortcutTabId===_0xc1dff5)activeParallelShortcutTabId=_0x26a357(0x5ea);saveParallelShortcutConfig();});}),document['querySelectorAll']('.move-parallel-shortcut-item')[_0x1ae025(0x91b)](_0x58b59c=>_0x58b59c[_0x1ae025(0x26e)]=_0x1e06d2=>{const _0x473fdf=_0x1ae025;_0x1e06d2[_0x473fdf(0x83f)]();const {shortcutId:_0x42a1d8,targetTabId:_0x10de9c}=_0x1e06d2[_0x473fdf(0x1d3)][_0x473fdf(0x970)],_0x5cca41=parallelShortcutTabs['find'](_0x2c1f99=>_0x2c1f99['id']===_0x10de9c);_0x5cca41&&!_0x5cca41['shortcutIds'][_0x473fdf(0x842)](_0x42a1d8)&&(_0x5cca41[_0x473fdf(0x2ee)][_0x473fdf(0xabd)](_0x42a1d8),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x1ae025(0x5b0))[_0x1ae025(0x91b)](_0x3d1b80=>_0x3d1b80[_0x1ae025(0x26e)]=_0xb0c7dc=>{const _0x46e0eb=_0x1ae025,_0x139f96=_0xb0c7dc['currentTarget'][_0x46e0eb(0x970)][_0x46e0eb(0x359)],_0x445dee=parallelShortcutTabs[_0x46e0eb(0x7f4)](_0x3ef76a=>_0x3ef76a['id']===activeParallelShortcutTabId);_0x445dee&&!_0x445dee[_0x46e0eb(0x871)]&&(_0x445dee['shortcutIds']=_0x445dee['shortcutIds'][_0x46e0eb(0x27c)](_0x14546c=>_0x14546c!==_0x139f96),saveParallelShortcutConfig());}),document[_0x1ae025(0x628)](_0x1ae025(0xc13))[_0x1ae025(0x91b)](_0x5060d6=>_0x5060d6[_0x1ae025(0x26e)]=_0x15615e=>{const _0x4616b1=_0x1ae025;_0x15615e[_0x4616b1(0x469)]();const _0x5a8df3=_0x15615e[_0x4616b1(0x1d3)][_0x4616b1(0x261)];document[_0x4616b1(0x628)](_0x4616b1(0x1da))[_0x4616b1(0x91b)](_0xed691=>_0xed691[_0x4616b1(0x33a)][_0x4616b1(0xbaf)](_0x4616b1(0x986))),_0x5a8df3['classList'][_0x4616b1(0x23a)](_0x4616b1(0x986));});const _0x2c9e58=document[_0x1ae025(0x753)](_0x1ae025(0x82c));let _0x1c7d65=null;_0x2c9e58[_0x1ae025(0x79d)]=_0x4aa532=>{const _0x595000=_0x1ae025;_0x1c7d65=_0x4aa532['target']['closest']('.shortcut-list-item');if(_0x1c7d65)setTimeout(()=>_0x1c7d65[_0x595000(0x33a)]['add'](_0x595000(0x494)),0x0);},_0x2c9e58[_0x1ae025(0xcde)]=()=>{const _0x16ee37=_0x1ae025;_0x1c7d65&&(_0x1c7d65['classList']['remove'](_0x16ee37(0x494)),_0x1c7d65=null);},_0x2c9e58['ondragover']=_0x20ab54=>{const _0x4ae675=_0x1ae025;_0x20ab54[_0x4ae675(0x83f)]();},_0x2c9e58[_0x1ae025(0xde9)]=_0x24d488=>{const _0x3f4f66=_0x1ae025;_0x24d488[_0x3f4f66(0x83f)]();if(_0x1c7d65){const _0x389986=[..._0x2c9e58[_0x3f4f66(0x628)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x1bd239,_0x49c00f)=>{const _0x3e9f1b=_0x3f4f66,_0x2f868b=_0x49c00f['getBoundingClientRect'](),_0x29a250=_0x24d488[_0x3e9f1b(0x484)]-_0x2f868b['top']-_0x2f868b[_0x3e9f1b(0xbad)]/0x2;return _0x29a250<0x0&&_0x29a250>_0x1bd239[_0x3e9f1b(0x501)]?{'offset':_0x29a250,'element':_0x49c00f}:_0x1bd239;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3f4f66(0x85d)];_0x389986==null?_0x2c9e58[_0x3f4f66(0xb8c)](_0x1c7d65):_0x2c9e58[_0x3f4f66(0xd0d)](_0x1c7d65,_0x389986);const _0x3b7109=[..._0x2c9e58['querySelectorAll'](_0x3f4f66(0x265))][_0x3f4f66(0x561)](_0xf0a3db=>_0xf0a3db[_0x3f4f66(0x970)][_0x3f4f66(0x359)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x3b7109,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0xc403c0=_0x3abb87,_0x446075=prompt(_0xc403c0(0x8ff),_0xc403c0(0x5bb));_0x446075&&_0x446075[_0xc403c0(0xda7)]()&&(parallelShortcutTabs[_0xc403c0(0xabd)]({'id':_0xc403c0(0x6a8)+Date[_0xc403c0(0xbc4)](),'name':_0x446075[_0xc403c0(0xda7)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3683d9=_0x3abb87,_0x4180bd=document[_0x3683d9(0x753)](_0x3683d9(0x752)),_0x5991a8=document[_0x3683d9(0x753)](_0x3683d9(0x82c)),_0x26fc4e=document[_0x3683d9(0x753)](_0x3683d9(0x9d1));if(_0x26fc4e)_0x26fc4e[_0x3683d9(0x33a)]['add'](_0x3683d9(0x986));if(!_0x4180bd||!_0x5991a8)return;const _0x4abadc=parallelTestShortcuts['slice'](0x0,0x4),_0x45be88=parallelTestShortcuts[_0x3683d9(0x5a7)](0x4);_0x4180bd[_0x3683d9(0xd15)]=_0x4abadc[_0x3683d9(0x561)](_0x5ab0a0=>{const _0x3bbf5a=_0x3683d9,_0x1597b3=_0x5ab0a0[_0x3bbf5a(0x855)]&&_0x5ab0a0[_0x3bbf5a(0x855)][_0x3bbf5a(0xda7)]()!=='',_0x1bb49c=_0x1597b3?_0x3bbf5a(0x50a):_0x3bbf5a(0x393),_0x29349d=_0x1597b3?'🔁':'🔗',_0x32007f=!_0x5ab0a0[_0x3bbf5a(0x871)]?_0x3bbf5a(0x7e1)+_0x5ab0a0['id']+_0x3bbf5a(0xcf9):'';return _0x3bbf5a(0x588)+_0x5ab0a0['id']+_0x3bbf5a(0x332)+_0x1bb49c+_0x3bbf5a(0x964)+_0x29349d+'\x20'+_0x5ab0a0[_0x3bbf5a(0xc71)]+_0x3bbf5a(0x5d9)+_0x5ab0a0['id']+_0x3bbf5a(0xafe)+_0x32007f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3683d9(0xe0b)](''),_0x45be88[_0x3683d9(0xd2b)]>0x0&&(_0x4180bd[_0x3683d9(0xd15)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x45be88[_0x3683d9(0xd2b)]>0x0?_0x5991a8[_0x3683d9(0xd15)]=_0x45be88[_0x3683d9(0x561)](_0x4f3191=>_0x3683d9(0xa63)+(_0x4f3191[_0x3683d9(0x855)]?'🔁':'🔗')+'\x20'+_0x4f3191[_0x3683d9(0xc71)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f3191['id']+_0x3683d9(0x1f5)+_0x4f3191['id']+_0x3683d9(0x5dd)+(!_0x4f3191['isDefault']?_0x3683d9(0x7e1)+_0x4f3191['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x3683d9(0x939))[_0x3683d9(0xe0b)](''):_0x5991a8[_0x3683d9(0xd15)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x3950a0=null){const _0x53f76e=_0x3abb87,_0x3b6011=document[_0x53f76e(0x753)](_0x53f76e(0x72e)),_0x50e459=document['getElementById'](_0x53f76e(0xd0a)),_0x4140c0=document[_0x53f76e(0x753)]('parallel-shortcut-id-input'),_0x1ae873=document[_0x53f76e(0x753)](_0x53f76e(0xcdd)),_0x4b7ec3=document['getElementById']('parallel-shortcut-url-input');if(_0x3950a0){const _0x5b1064=parallelTestShortcuts[_0x53f76e(0x7f4)](_0x297db1=>_0x297db1['id']===_0x3950a0);if(!_0x5b1064)return;_0x50e459[_0x53f76e(0xbde)]=_0x53f76e(0x468),_0x4140c0[_0x53f76e(0x8a6)]=_0x5b1064['id'],_0x1ae873[_0x53f76e(0x8a6)]=_0x5b1064[_0x53f76e(0xc71)],_0x4b7ec3[_0x53f76e(0x8a6)]=_0x5b1064[_0x53f76e(0x855)]||'';}else _0x50e459[_0x53f76e(0xbde)]=_0x53f76e(0xcd7),_0x4140c0[_0x53f76e(0x8a6)]='',_0x1ae873[_0x53f76e(0x8a6)]='',_0x4b7ec3[_0x53f76e(0x8a6)]='';_0x3b6011['classList'][_0x53f76e(0x23a)](_0x53f76e(0x986));}async function saveParallelTestShortcutChanges(){const _0x34b743=_0x3abb87,_0x2ad214=document[_0x34b743(0x753)](_0x34b743(0x505))['value'],_0x128515=document[_0x34b743(0x753)](_0x34b743(0xcdd))[_0x34b743(0x8a6)]['trim'](),_0x2650e5=document[_0x34b743(0x753)]('parallel-shortcut-url-input')[_0x34b743(0x8a6)][_0x34b743(0xda7)]();if(!_0x128515){showMessage(_0x34b743(0xc25));return;}const _0x10cf73={'id':_0x2ad214||'parallel-shortcut_'+Date[_0x34b743(0xbc4)](),'name':_0x128515,'url':_0x2650e5,'isDefault':_0x2ad214[_0x34b743(0x258)](_0x34b743(0x78b))};let _0x4592de;_0x2ad214?_0x4592de=parallelTestShortcuts[_0x34b743(0x561)](_0x2da7a2=>_0x2da7a2['id']===_0x2ad214?_0x10cf73:_0x2da7a2):_0x4592de=[...parallelTestShortcuts,_0x10cf73];try{const _0x2bcbeb=doc(db,_0x34b743(0x51c),_0x34b743(0xb83));await setDoc(_0x2bcbeb,{'shortcuts':_0x4592de},{'merge':!![]}),document['getElementById']('parallel-shortcut-editor-modal')[_0x34b743(0x33a)][_0x34b743(0xbaf)](_0x34b743(0x986));}catch(_0x2ac4be){console['error'](_0x34b743(0x924),_0x2ac4be),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x163c1f){const _0x461b9e=_0x3abb87,_0x3bf8e5=parallelTestShortcuts[_0x461b9e(0x7f4)](_0x2435c1=>_0x2435c1['id']===_0x163c1f);if(!_0x3bf8e5)return;if(!_0x3bf8e5['url']||_0x3bf8e5[_0x461b9e(0x855)]['trim']()===''){openParallelTestShortcutEditor(_0x163c1f);return;}const _0x379114=document[_0x461b9e(0x753)](_0x461b9e(0xac0)),_0x1d9c90=document[_0x461b9e(0x753)](_0x461b9e(0xa76));document[_0x461b9e(0x753)](_0x461b9e(0x64c))[_0x461b9e(0x33a)][_0x461b9e(0x23a)](_0x461b9e(0x986)),document[_0x461b9e(0x753)](_0x461b9e(0x44a))[_0x461b9e(0xd15)]='',_0x379114[_0x461b9e(0x33a)]['remove'](_0x461b9e(0x986)),_0x1d9c90[_0x461b9e(0xbde)]=_0x461b9e(0x544);try{let _0xc09f8a;_0x3bf8e5[_0x461b9e(0x855)]['toLowerCase']()['includes'](_0x461b9e(0xafa))?_0xc09f8a=_0x461b9e(0x38d):_0xc09f8a='source_document.pdf';const _0x7fcbd1=await fetchFileFromUrl(_0x3bf8e5[_0x461b9e(0x855)],_0xc09f8a);await handleGenerateParallelTest(_0x7fcbd1);}catch(_0x490f8d){console['error'](_0x461b9e(0xcda),_0x490f8d),showMessage(_0x461b9e(0x339)+_0x490f8d[_0x461b9e(0x9e1)]),_0x379114[_0x461b9e(0x33a)][_0x461b9e(0xbaf)](_0x461b9e(0x986));}}function initializeScratchpadCanvas(){const _0x309fd4=_0x3abb87,_0x1fac19=document['getElementById'](_0x309fd4(0x934)),_0x39e414=document['querySelector'](_0x309fd4(0x465));if(!_0x1fac19||!_0x39e414)return;scratchpadCtx=_0x1fac19[_0x309fd4(0x289)]('2d',{'willReadFrequently':!![]});const _0x35c4ea=window['devicePixelRatio']||0x1,_0xaa068d=_0x39e414[_0x309fd4(0xd30)]();_0x1fac19[_0x309fd4(0xbb9)]=_0xaa068d[_0x309fd4(0xbb9)]*_0x35c4ea,_0x1fac19[_0x309fd4(0xbad)]=_0xaa068d[_0x309fd4(0xbad)]*_0x35c4ea,_0x1fac19[_0x309fd4(0x41d)][_0x309fd4(0xbb9)]=_0xaa068d[_0x309fd4(0xbb9)]+'px',_0x1fac19[_0x309fd4(0x41d)][_0x309fd4(0xbad)]=_0xaa068d[_0x309fd4(0xbad)]+'px',scratchpadCtx['scale'](_0x35c4ea,_0x35c4ea),scratchpadCtx[_0x309fd4(0x2a9)]=_0x309fd4(0x586),scratchpadCtx[_0x309fd4(0x8f3)]=_0x309fd4(0x586),_0x1fac19['removeEventListener'](_0x309fd4(0x3b0),handlePointerDown),_0x1fac19['removeEventListener'](_0x309fd4(0x260),handlePointerMove),_0x1fac19[_0x309fd4(0x21b)]('pointerup',handlePointerUp),_0x1fac19[_0x309fd4(0x21b)](_0x309fd4(0xba4),handlePointerUp),_0x1fac19['removeEventListener']('wheel',handleWheel),_0x1fac19[_0x309fd4(0x21b)]('touchstart',handlePointerDown),_0x1fac19['removeEventListener']('touchmove',handlePointerMove),_0x1fac19[_0x309fd4(0x21b)](_0x309fd4(0x3e1),handlePointerUp),_0x1fac19[_0x309fd4(0xdd0)]('pointerdown',handlePointerDown),_0x1fac19[_0x309fd4(0xdd0)](_0x309fd4(0x260),handlePointerMove),_0x1fac19[_0x309fd4(0xdd0)](_0x309fd4(0xcee),handlePointerUp),_0x1fac19['addEventListener'](_0x309fd4(0xba4),handlePointerUp),_0x1fac19[_0x309fd4(0xdd0)](_0x309fd4(0x42a),handleWheel,{'passive':![]}),_0x1fac19['addEventListener']('touchstart',handlePointerDown,{'passive':![]}),_0x1fac19[_0x309fd4(0xdd0)](_0x309fd4(0xe18),handlePointerMove,{'passive':![]}),_0x1fac19['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x16b66c=_0x3abb87,_0x2eb66d=document[_0x16b66c(0x753)](_0x16b66c(0xa9b)),_0x3b57dc=document[_0x16b66c(0x753)]('scratchpad-controls');_0x3b57dc[_0x16b66c(0xd15)]=_0x16b66c(0x9eb)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x1106e7=document[_0x16b66c(0x753)](_0x16b66c(0x50b)),_0x1636f7=document[_0x16b66c(0x753)]('eraser-tool-btn'),_0x194258=document['getElementById']('trail-tool-btn'),_0x54b0ee=document[_0x16b66c(0x753)](_0x16b66c(0x6e2)),_0x15f3fb=document['getElementById'](_0x16b66c(0xaf4)),_0x4bceac=document[_0x16b66c(0x753)](_0x16b66c(0xe03)),_0x2a3222=document[_0x16b66c(0x753)]('eraser-tools-group'),_0x28d8e0=[_0x1106e7,_0x1636f7,_0x194258,_0x54b0ee];document['getElementById'](_0x16b66c(0x665))[_0x16b66c(0xdd0)](_0x16b66c(0xaa0),()=>_0x2eb66d['classList']['add']('hidden')),document[_0x16b66c(0x753)](_0x16b66c(0x7e3))['addEventListener'](_0x16b66c(0xaa0),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x16b66c(0x753)]('scratchpad-clear-btn')[_0x16b66c(0xdd0)](_0x16b66c(0xaa0),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x16b66c(0x94a))[_0x16b66c(0xdd0)](_0x16b66c(0xaa0),undo),document[_0x16b66c(0x753)](_0x16b66c(0x3cc))[_0x16b66c(0xdd0)](_0x16b66c(0xaa0),redo);const _0x1646f8=_0x3ced37=>{const _0x8b2acf=_0x16b66c;_0x28d8e0[_0x8b2acf(0x91b)](_0x8fdf7c=>_0x8fdf7c[_0x8b2acf(0x33a)][_0x8b2acf(0x23a)](_0x8b2acf(0x351))),_0x3ced37[_0x8b2acf(0x33a)][_0x8b2acf(0xbaf)]('active'),_0x15f3fb[_0x8b2acf(0x33a)]['add'](_0x8b2acf(0x986)),_0x4bceac[_0x8b2acf(0x33a)][_0x8b2acf(0xbaf)](_0x8b2acf(0x986)),_0x2a3222[_0x8b2acf(0x33a)][_0x8b2acf(0xbaf)]('hidden');if(activeTool===_0x8b2acf(0x569)||activeTool==='trail')_0x15f3fb[_0x8b2acf(0x33a)][_0x8b2acf(0x23a)]('hidden');else{if(activeTool===_0x8b2acf(0x68c))_0x4bceac[_0x8b2acf(0x33a)][_0x8b2acf(0x23a)](_0x8b2acf(0x986));else activeTool===_0x8b2acf(0x955)&&_0x2a3222[_0x8b2acf(0x33a)][_0x8b2acf(0x23a)](_0x8b2acf(0x986));}};_0x1106e7['addEventListener'](_0x16b66c(0xaa0),()=>{activeTool='pen',_0x1646f8(_0x1106e7);}),_0x1636f7[_0x16b66c(0xdd0)]('click',()=>{const _0x5abced=_0x16b66c;activeTool=_0x5abced(0x955),_0x1646f8(_0x1636f7);}),_0x194258[_0x16b66c(0xdd0)](_0x16b66c(0xaa0),()=>{const _0x20b1d2=_0x16b66c;activeTool=_0x20b1d2(0xca5),_0x1646f8(_0x194258);}),_0x54b0ee[_0x16b66c(0xdd0)]('click',()=>{const _0x4109e2=_0x16b66c;activeTool=_0x4109e2(0x68c),_0x1646f8(_0x54b0ee);}),_0x15f3fb[_0x16b66c(0x628)](_0x16b66c(0x504))['forEach'](_0xe0e233=>{const _0x4bf046=_0x16b66c;_0xe0e233['addEventListener'](_0x4bf046(0xaa0),_0x1b4235=>{const _0x3630a4=_0x4bf046;scratchpadPenSize=parseInt(_0x1b4235[_0x3630a4(0x589)][_0x3630a4(0x970)]['size'],0xa),_0x15f3fb[_0x3630a4(0x628)]('.pen-size-btn')[_0x3630a4(0x91b)](_0x59c4d6=>_0x59c4d6[_0x3630a4(0x33a)][_0x3630a4(0x23a)](_0x3630a4(0x351))),_0x1b4235[_0x3630a4(0x589)][_0x3630a4(0x33a)][_0x3630a4(0xbaf)]('active');});}),_0x2a3222[_0x16b66c(0x628)](_0x16b66c(0x603))['forEach'](_0xf8a4=>{const _0x13fb42=_0x16b66c;_0xf8a4[_0x13fb42(0xdd0)]('click',_0x335fb5=>{const _0x3de043=_0x13fb42,_0x1cbd50=_0x335fb5[_0x3de043(0x1d3)];scratchpadEraserSize=parseInt(_0x1cbd50[_0x3de043(0x970)][_0x3de043(0x714)],0xa),_0x2a3222[_0x3de043(0x628)](_0x3de043(0x603))['forEach'](_0x5166a9=>_0x5166a9[_0x3de043(0x33a)][_0x3de043(0x23a)](_0x3de043(0x351))),_0x1cbd50[_0x3de043(0x33a)][_0x3de043(0xbaf)](_0x3de043(0x351));});}),_0x15f3fb[_0x16b66c(0x628)]('.pen-color-btn')[_0x16b66c(0x91b)](_0x5e2a3b=>{const _0x560329=_0x16b66c;_0x5e2a3b[_0x560329(0xdd0)](_0x560329(0xaa0),_0x5eacc4=>{const _0x221bab=_0x560329;scratchpadPenColor=_0x5eacc4[_0x221bab(0x589)]['dataset']['color'],_0x15f3fb[_0x221bab(0x628)](_0x221bab(0x474))['forEach'](_0x142896=>_0x142896[_0x221bab(0x33a)][_0x221bab(0x23a)](_0x221bab(0x351))),_0x5eacc4[_0x221bab(0x589)]['classList'][_0x221bab(0xbaf)](_0x221bab(0x351));});}),_0x4bceac[_0x16b66c(0x628)]('.highlighter-color-btn')['forEach'](_0x2fefdd=>{const _0x2bd260=_0x16b66c;_0x2fefdd[_0x2bd260(0xdd0)](_0x2bd260(0xaa0),_0x448cc1=>{const _0x56c54a=_0x2bd260;scratchpadHighlighterColor=_0x448cc1['target'][_0x56c54a(0x970)][_0x56c54a(0x790)],_0x4bceac[_0x56c54a(0x628)](_0x56c54a(0xcb6))['forEach'](_0x795bc=>_0x795bc[_0x56c54a(0x33a)]['remove'](_0x56c54a(0x351))),_0x448cc1[_0x56c54a(0x589)][_0x56c54a(0x33a)][_0x56c54a(0xbaf)](_0x56c54a(0x351));});});const _0x5bc1c7=document['getElementById']('highlighter-size-slider'),_0x1efb81=document[_0x16b66c(0x753)]('highlighter-size-value');_0x5bc1c7[_0x16b66c(0xdd0)](_0x16b66c(0xda9),_0x58bd2d=>{const _0x39a6a5=_0x16b66c,_0x1ab484=parseInt(_0x58bd2d[_0x39a6a5(0x589)][_0x39a6a5(0x8a6)],0xa);scratchpadHighlighterSize=_0x1ab484,_0x1efb81[_0x39a6a5(0xbde)]=_0x1ab484;}),window[_0x16b66c(0xdd0)]('resize',()=>{const _0x38c6ce=_0x16b66c;!_0x2eb66d[_0x38c6ce(0x33a)][_0x38c6ce(0x415)](_0x38c6ce(0x986))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3abb87(0x834),'name':_0x3abb87(0x1ff),'description':_0x3abb87(0x3d3),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x3abb87(0x2ef),'description':_0x3abb87(0x22c),'icon':_0x3abb87(0x8e0)},'ON_FIRE':{'id':'on_fire','name':_0x3abb87(0xa4e),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x3abb87(0xe6c),'description':_0x3abb87(0x3c0),'icon':_0x3abb87(0xc61)},'COMEBACK_KING':{'id':_0x3abb87(0xcf5),'name':_0x3abb87(0x668),'description':_0x3abb87(0x652),'icon':_0x3abb87(0xab4)},'SPECIALIST':{'id':_0x3abb87(0x731),'name':_0x3abb87(0x584),'description':_0x3abb87(0xe45),'icon':_0x3abb87(0x84d)},'PERSEVERANCE':{'id':_0x3abb87(0x6ec),'name':_0x3abb87(0x2eb),'description':_0x3abb87(0x2d6),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':'AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','authDomain':_0x3abb87(0xb01),'projectId':_0x3abb87(0x6de),'storageBucket':_0x3abb87(0x309),'messagingSenderId':_0x3abb87(0x818),'appId':_0x3abb87(0x94e),'measurementId':'G-JGJ3WNEQP3'},appId=typeof __app_id!=='undefined'?__app_id:_0x3abb87(0x3fa),adminView=document[_0x3abb87(0x753)](_0x3abb87(0x743)),studentView=document[_0x3abb87(0x753)](_0x3abb87(0xbfc)),projectDashboardView=document['getElementById']('project-dashboard-view'),projectDetailView=document[_0x3abb87(0x753)]('project-detail-view'),quizResultsView=document[_0x3abb87(0x753)](_0x3abb87(0xa62)),projectList=document[_0x3abb87(0x753)]('project-list'),noProjectsMsg=document[_0x3abb87(0x753)](_0x3abb87(0xbf4)),projectTitle=document['getElementById'](_0x3abb87(0x6fc)),projectIdDisplay=document[_0x3abb87(0x753)](_0x3abb87(0xa8e)),studentList=document['getElementById'](_0x3abb87(0x3e9)),messageModal=document[_0x3abb87(0x753)](_0x3abb87(0xb6d)),modalMessage=document[_0x3abb87(0x753)]('modal-message'),createProjectModal=document['getElementById'](_0x3abb87(0x30e)),adminPasswordModal=document[_0x3abb87(0x753)](_0x3abb87(0x650)),confirmationModal=document[_0x3abb87(0x753)]('confirmation-modal'),userIdDisplay=document[_0x3abb87(0x753)](_0x3abb87(0x4ee)),topicTab=document[_0x3abb87(0x753)](_0x3abb87(0x328)),textTab=document[_0x3abb87(0x753)](_0x3abb87(0x9c5)),topicInputArea=document[_0x3abb87(0x753)](_0x3abb87(0x9db)),textInputArea=document['getElementById']('text-input-area'),manageTab=document[_0x3abb87(0x753)]('manage-tab'),resultsTab=document['getElementById'](_0x3abb87(0xc26)),leaderboardTab=document[_0x3abb87(0x753)](_0x3abb87(0x6d0)),manageTabContent=document[_0x3abb87(0x753)](_0x3abb87(0x881)),resultsTabContent=document[_0x3abb87(0x753)]('results-tab-content'),leaderboardTabContent=document['getElementById'](_0x3abb87(0x25e)),projectQuizzesList=document[_0x3abb87(0x753)](_0x3abb87(0xd1c)),fileTab=document['getElementById'](_0x3abb87(0x5a1)),fileInputArea=document[_0x3abb87(0x753)](_0x3abb87(0x5cb)),fileUploadInput=document[_0x3abb87(0x753)](_0x3abb87(0x488)),worksheetTab=document[_0x3abb87(0x753)]('worksheet-tab'),worksheetInputArea=document[_0x3abb87(0x753)](_0x3abb87(0x697)),generateWorksheetBtn=document[_0x3abb87(0x753)](_0x3abb87(0xdb1)),studentInitialView=document['getElementById'](_0x3abb87(0xd51)),studentNameSelectionView=document[_0x3abb87(0x753)]('student-name-selection-view'),studentQuizArea=document[_0x3abb87(0x753)](_0x3abb87(0xd63)),studentResultArea=document[_0x3abb87(0x753)](_0x3abb87(0x6b6)),studentReadingArea=document[_0x3abb87(0x753)](_0x3abb87(0xc15)),loadQuizBtn=document[_0x3abb87(0x753)]('load-quiz-btn'),startQuizBtn=document['getElementById'](_0x3abb87(0xc3a)),studentJoinGameView=document[_0x3abb87(0x753)]('student-join-game-view'),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document[_0x3abb87(0x753)]('rename-quiz-modal'),moveQuizModal=document[_0x3abb87(0x753)](_0x3abb87(0xdf2)),quizSettingsModal=document[_0x3abb87(0x753)](_0x3abb87(0x6ff)),quizStatusModal=document[_0x3abb87(0x753)](_0x3abb87(0x24f)),liveGameView=document[_0x3abb87(0x753)]('live-game-view');function handleFixLessonLatex(){const _0x15b8d4=_0x3abb87,_0x41f97b=document[_0x15b8d4(0x753)]('lesson-view-content');if(!_0x41f97b){showMessage(_0x15b8d4(0x778));return;}const _0xd2d1cd=_0x41f97b[_0x15b8d4(0x628)](['.ai-content\x20p',_0x15b8d4(0x7a3),'.ai-content\x20blockquote','.ai-content\x20td',_0x15b8d4(0xa69)][_0x15b8d4(0xe0b)](','));let _0x5e69be=0x0;const _0x39469f=_0x5b368b=>_0x5b368b[_0x15b8d4(0xbde)]||'',_0x3454ea=(_0x36e560,_0x210db7)=>{const _0x389c9c=_0x15b8d4;if(_0x36e560[_0x389c9c(0xd5b)]&&_0x36e560['querySelector'](_0x389c9c(0xa14)))return;_0x36e560['textContent']=_0x210db7;},_0x4824ed=_0x3fcd53=>_0x3fcd53['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x15b8d4(0x749)](/\r\n?/g,'\x0a'),_0x23a932=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4abe76=_0x2a7421=>{const _0x5cc421=_0x15b8d4;let _0x41f64b=_0x2a7421[_0x5cc421(0xda7)]();const _0x5a8b56=[_0x5cc421(0x423),_0x5cc421(0x2b9),_0x5cc421(0x73b),_0x5cc421(0x553),'text',_0x5cc421(0xa30),_0x5cc421(0xe14),_0x5cc421(0x7ea),_0x5cc421(0x490),_0x5cc421(0x3ac),'le','ge','neq','pm',_0x5cc421(0x863),_0x5cc421(0x9d3),_0x5cc421(0x692),_0x5cc421(0x26f),_0x5cc421(0x4e6),'ln',_0x5cc421(0xb2e),_0x5cc421(0x741),'binom','left',_0x5cc421(0x31a),'overline',_0x5cc421(0x342),_0x5cc421(0xbd9),'deg'];_0x5a8b56[_0x5cc421(0x91b)](_0x254ff2=>{const _0x470df9=_0x5cc421;_0x41f64b=_0x41f64b[_0x470df9(0x749)](new RegExp(_0x470df9(0x5b4)+_0x254ff2+'\x5cb','g'),(_0x1412f3,_0x4643a8)=>_0x4643a8+'\x5c'+_0x254ff2);});const _0x393a83=[[/×/g,_0x5cc421(0x2d7)],[/·/g,_0x5cc421(0xd33)],[/÷/g,_0x5cc421(0xbd4)],[/≤/g,'\x5cle'],[/≥/g,_0x5cc421(0x894)],[/≠/g,_0x5cc421(0x46e)],[/±/g,_0x5cc421(0xded)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x393a83[_0x5cc421(0x91b)](([_0x23e057,_0x32771b])=>{_0x41f64b=_0x41f64b['replace'](_0x23e057,_0x32771b);}),_0x41f64b=_0x41f64b[_0x5cc421(0x749)](/√\s*([A-Za-z0-9]+)/g,_0x5cc421(0x2ce)),_0x41f64b=_0x41f64b[_0x5cc421(0x749)](/(\d+)\s*%/g,_0x5cc421(0xe0c)),_0x41f64b;},_0xa41205=_0x612a16=>{const _0x3abb7c=_0x15b8d4;if(/\$|\\\(|\\\[/[_0x3abb7c(0xd72)](_0x612a16))return _0x612a16;if(!_0x23a932[_0x3abb7c(0xd72)](_0x612a16))return _0x612a16;const _0x1616c8=_0x612a16['match'](/^\s*/)[0x0],_0x59597a=_0x612a16[_0x3abb7c(0xbbe)](/\s*$/)[0x0],_0x204473=_0x612a16[_0x3abb7c(0xda7)]();return _0x1616c8+'$'+_0x4abe76(_0x204473)+'$'+_0x59597a;};_0xd2d1cd[_0x15b8d4(0x91b)](_0x46bbdc=>{const _0x3eaa83=_0x15b8d4,_0x2fb2d9=_0x39469f(_0x46bbdc);let _0x3f927d=_0x4824ed(_0x2fb2d9);_0x3f927d=_0x3f927d[_0x3eaa83(0x749)](/\$([^$]*?)\$/g,(_0x1ba229,_0x18e892)=>'$'+_0x4abe76(_0x18e892)+'$');const _0x1eafa0=_0x3f927d[_0x3eaa83(0x5ee)](/(\s+)/),_0x3ba398=_0x1eafa0[_0x3eaa83(0x561)](_0x831372=>{if(/\s+/['test'](_0x831372))return _0x831372;return _0xa41205(_0x831372);});_0x3f927d=_0x3ba398['join'](''),_0x3f927d!==_0x2fb2d9&&(_0x3454ea(_0x46bbdc,_0x3f927d),_0x5e69be++);});if(_0x5e69be>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x5e69be+_0x15b8d4(0xbb0));try{window[_0x15b8d4(0xc12)]&&MathJax[_0x15b8d4(0x98a)]&&MathJax[_0x15b8d4(0x98a)]([_0x41f97b]);}catch(_0x296efa){console['error'](_0x15b8d4(0x87f),_0x296efa);}}else showMessage(_0x15b8d4(0x61e));}function handleAutoFixLatex(){const _0x1d08d9=_0x3abb87,_0x1ece0f=document['getElementById']('quiz-editor-questions-container')||document,_0x3bdaa1=_0x1ece0f[_0x1d08d9(0x628)](_0x1d08d9(0xd94));let _0x56997b=0x0;const _0x507ba4=_0x1fec5b=>'value'in _0x1fec5b?String(_0x1fec5b['value']):_0x1fec5b[_0x1d08d9(0x472)]!==undefined?_0x1fec5b[_0x1d08d9(0x472)]:_0x1fec5b['textContent']||'',_0x5a0019=(_0x267a8d,_0x41ca12)=>{const _0xb175bb=_0x1d08d9;if(_0xb175bb(0x8a6)in _0x267a8d){_0x267a8d[_0xb175bb(0x8a6)]=_0x41ca12;return;}if(_0x267a8d[_0xb175bb(0xd5b)]&&_0x267a8d[_0xb175bb(0xd5b)](_0xb175bb(0xa14)))return;if(_0x267a8d[_0xb175bb(0x472)]!==undefined)_0x267a8d[_0xb175bb(0x472)]=_0x41ca12;else _0x267a8d[_0xb175bb(0xbde)]=_0x41ca12;},_0x48f3ce=_0x3d2b28=>_0x3d2b28[_0x1d08d9(0x749)](/\u00A0/g,'\x20')[_0x1d08d9(0x749)](/\u200B/g,'')[_0x1d08d9(0x749)](/\r\n?/g,'\x0a'),_0x5254e3=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x4de882=_0x5ed42e=>{const _0x23f4d5=_0x1d08d9;let _0x935e42=_0x5ed42e[_0x23f4d5(0xda7)]();_0x935e42=_0x935e42[_0x23f4d5(0x749)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x23f4d5(0x6e3)),_0x935e42=_0x935e42[_0x23f4d5(0x749)](/\bfrac(\d)(\d)/g,_0x23f4d5(0x6e3));const _0x3d7c3d=['frac',_0x23f4d5(0x553),'times',_0x23f4d5(0xe14),_0x23f4d5(0x7ea),'leq',_0x23f4d5(0x3ac),'neq','pm',_0x23f4d5(0x9d3),_0x23f4d5(0x692),_0x23f4d5(0x26f),_0x23f4d5(0x4e6),'ln'];_0x3d7c3d[_0x23f4d5(0x91b)](_0x4eb1a2=>{const _0x4eaea6=_0x23f4d5;_0x935e42=_0x935e42[_0x4eaea6(0x749)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4eb1a2+'\x5cb','g'),(_0x59360e,_0x57e7c3)=>_0x57e7c3+'\x5c'+_0x4eb1a2);});const _0x3f3aa4=[[/×/g,_0x23f4d5(0x2d7)],[/·/g,_0x23f4d5(0xd33)],[/÷/g,_0x23f4d5(0xbd4)],[/≤/g,_0x23f4d5(0xd69)],[/≥/g,_0x23f4d5(0x894)],[/≠/g,_0x23f4d5(0x46e)],[/±/g,'\x5cpm']];return _0x3f3aa4[_0x23f4d5(0x91b)](([_0x1f45dd,_0x51ebfb])=>{const _0xeed3ff=_0x23f4d5;_0x935e42=_0x935e42[_0xeed3ff(0x749)](_0x1f45dd,_0x51ebfb);}),_0x935e42;},_0x4cfd83=_0x13e3b5=>{const _0x9e57c6=_0x1d08d9;if(/\$|\\\(|\\\[/['test'](_0x13e3b5))return _0x13e3b5;if(!_0x5254e3['test'](_0x13e3b5))return _0x13e3b5;const _0x12be99=_0x13e3b5[_0x9e57c6(0xbbe)](/^\s*/)[0x0],_0x9561e5=_0x13e3b5['match'](/\s*$/)[0x0],_0x264a3e=_0x13e3b5[_0x9e57c6(0xda7)]();return _0x12be99+'$'+_0x4de882(_0x264a3e)+'$'+_0x9561e5;};_0x3bdaa1[_0x1d08d9(0x91b)](_0x5a8b6b=>{const _0x59457e=_0x1d08d9,_0x59c181=_0x507ba4(_0x5a8b6b);let _0x19c372=_0x48f3ce(_0x59c181);_0x19c372=_0x19c372[_0x59457e(0x749)](/\$([^$]*?)\$/g,(_0x10b66c,_0x3152f9)=>'$'+_0x4de882(_0x3152f9)+'$');const _0x3e987a=_0x19c372['split'](/(\s+)/),_0x3b45fc=_0x3e987a[_0x59457e(0x561)](_0x726fc2=>/\s+/[_0x59457e(0xd72)](_0x726fc2)?_0x726fc2:_0x4cfd83(_0x726fc2));_0x19c372=_0x3b45fc['join'](''),_0x19c372!==_0x59c181&&(_0x5a0019(_0x5a8b6b,_0x19c372),_0x56997b++);});if(_0x56997b>0x0){showMessage(_0x1d08d9(0xc64)+_0x56997b+_0x1d08d9(0xa7c));try{if(window['MathJax']&&MathJax[_0x1d08d9(0x98a)])MathJax[_0x1d08d9(0x98a)]();}catch(_0x108f63){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x2af8dd=_0x3abb87,_0x2c0c12=collection(db,_0x2af8dd(0x8da)+appId+'/public/data/customMathTopics');onSnapshot(_0x2c0c12,_0x50b27b=>{const _0x3692ec=_0x2af8dd;customMathTopics=_0x50b27b[_0x3692ec(0x2a7)][_0x3692ec(0x561)](_0x2b3665=>({'id':_0x2b3665['id'],..._0x2b3665[_0x3692ec(0x3f4)]()})),renderTopicCheckboxes();},_0x57fd71=>{const _0x80c2e6=_0x2af8dd;console[_0x80c2e6(0x28d)](_0x80c2e6(0x8a9),_0x57fd71);});}function handleSelectAllTopics(){const _0x516c66=_0x3abb87,_0x1e0167=document[_0x516c66(0x753)](_0x516c66(0x3ab)),_0x19e4dc=_0x1e0167['querySelectorAll'](_0x516c66(0x912));_0x19e4dc[_0x516c66(0x91b)](_0x1ed851=>{const _0x4d98f0=_0x516c66;_0x1ed851[_0x4d98f0(0xc32)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x50f386=_0x3abb87,_0x5ac161=document[_0x50f386(0x753)](_0x50f386(0x3ab)),_0xf5dc18=_0x5ac161['querySelectorAll'](_0x50f386(0x912));_0xf5dc18['forEach'](_0x504ff8=>{_0x504ff8['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3ea974){const _0xbff0d0=_0x3abb87;if(!_0x3ea974)return;try{const _0x50d6df=doc(db,_0xbff0d0(0x8da)+appId+_0xbff0d0(0xc45),_0x3ea974);await deleteDoc(_0x50d6df),showMessage(_0xbff0d0(0x1ed));}catch(_0x30dc9f){console[_0xbff0d0(0x28d)](_0xbff0d0(0xabf),_0x30dc9f),showMessage(_0xbff0d0(0x5cc));}}async function handleAddCustomMathTopic(){const _0x255e06=_0x3abb87,_0x3583fc=document['getElementById'](_0x255e06(0x30c)),_0x2e7b43=_0x3583fc[_0x255e06(0x8a6)]['trim']();if(!_0x2e7b43){showMessage(_0x255e06(0x679));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x218a7a=collection(db,_0x255e06(0x8da)+appId+_0x255e06(0xc45));await addDoc(_0x218a7a,{'name':_0x2e7b43,'createdAt':serverTimestamp()}),_0x3583fc[_0x255e06(0x8a6)]='',showMessage(_0x255e06(0xabc)+_0x2e7b43+_0x255e06(0x936));}catch(_0x5af4ad){console['error'](_0x255e06(0x2e8),_0x5af4ad),showMessage(_0x255e06(0x296));}}async function handleUpdateOldQuizzes(){const _0x20eb52=_0x3abb87;showConfirmation(_0x20eb52(0x7a5),async()=>{const _0xae1810=_0x20eb52,_0x2c2eb3=document[_0xae1810(0x753)](_0xae1810(0xac0)),_0x316a02=document[_0xae1810(0x753)]('loader-text'),_0x2b1b1e=_0x316a02[_0xae1810(0xbde)];_0x2c2eb3[_0xae1810(0x33a)]['remove'](_0xae1810(0x986)),_0x316a02[_0xae1810(0xbde)]=_0xae1810(0x981);try{const _0x2819c2=collection(db,_0xae1810(0x8da)+appId+'/public/data/quizzes'),_0x1f2e4b=await getDocs(_0x2819c2);if(_0x1f2e4b[_0xae1810(0x38e)]){showMessage(_0xae1810(0x1df));return;}const _0x2589e7=writeBatch(db);let _0x17222d=0x0;_0x1f2e4b['forEach'](_0x1dafe0=>{const _0x39acca=_0xae1810,_0x2f8f7d=_0x1dafe0['data'](),_0x4510b4=_0x1dafe0['id'];if(_0x2f8f7d[_0x39acca(0x806)]&&_0x2f8f7d[_0x39acca(0x806)]['length']>0x0&&!_0x2f8f7d[_0x39acca(0x806)][0x0][_0x39acca(0x879)]('id')){console[_0x39acca(0x4e6)](_0x39acca(0xd60)+_0x4510b4+'\x20('+_0x2f8f7d[_0x39acca(0x3bb)]+')'),_0x17222d++;const _0x4298bb=_0x2f8f7d[_0x39acca(0x806)][_0x39acca(0x561)]((_0x142f38,_0x22211a)=>{return{..._0x142f38,'id':_0x142f38['id']||'q_'+Date['now']()+'_'+_0x4510b4+'_'+_0x22211a};}),_0x4dbe6e=doc(db,_0x39acca(0x8da)+appId+_0x39acca(0xe3e),_0x4510b4);_0x2589e7[_0x39acca(0x6f2)](_0x4dbe6e,{'questions':_0x4298bb});}}),_0x17222d>0x0?(_0x316a02['textContent']=_0xae1810(0x2d9)+_0x17222d+_0xae1810(0x214),await _0x2589e7['commit'](),showMessage(_0xae1810(0x2cb)+_0x17222d+_0xae1810(0xc49))):showMessage(_0xae1810(0x446));}catch(_0x5bf461){console[_0xae1810(0x28d)](_0xae1810(0xb88),_0x5bf461),showMessage(_0xae1810(0x3b3)+_0x5bf461[_0xae1810(0x9e1)]);}finally{_0x2c2eb3['classList'][_0xae1810(0xbaf)](_0xae1810(0x986)),_0x316a02[_0xae1810(0xbde)]=_0x2b1b1e;}});}async function handleBulkUpdateQuizSettings(){const _0x16e957=_0x3abb87,_0x2aa66e={'shuffle':document[_0x16e957(0x753)](_0x16e957(0x8c1))['value'],'resultsDisplay':document[_0x16e957(0x753)](_0x16e957(0x97c))[_0x16e957(0x8a6)],'loopUntilPass':document['getElementById'](_0x16e957(0xba3))[_0x16e957(0xc32)],'isConfidenceScoringEnabled':document[_0x16e957(0x753)]('bulk-confidence-scoring-checkbox')[_0x16e957(0xc32)],'confidenceMode':document[_0x16e957(0x753)](_0x16e957(0x9f7))[_0x16e957(0x8a6)]};try{showMessage(_0x16e957(0xe64));const _0x5bf518=await getDocs(collection(db,_0x16e957(0x8da)+appId+'/public/data/quizzes')),_0x451591=_0x5bf518[_0x16e957(0x2a7)]['map'](_0x3dca3d=>({'id':_0x3dca3d['id'],'data':_0x3dca3d[_0x16e957(0x3f4)]()})),_0x4e41c6=_0x451591[_0x16e957(0xd2b)];showConfirmation(_0x16e957(0xd78)+_0x4e41c6+_0x16e957(0xa5d),async()=>{const _0x369b54=_0x16e957,_0x2aceee=document[_0x369b54(0x753)](_0x369b54(0xd0b));_0x2aceee['disabled']=!![],_0x2aceee[_0x369b54(0xd15)]=_0x369b54(0x9ac);try{const _0x228351=writeBatch(db);_0x451591[_0x369b54(0x91b)](_0x49503e=>{const _0x365ae0=_0x369b54,_0x4bc8a0=doc(db,_0x365ae0(0x8da)+appId+_0x365ae0(0xe3e),_0x49503e['id']),_0x3bf8fa={..._0x49503e[_0x365ae0(0x3f4)][_0x365ae0(0xa95)]||{},..._0x2aa66e};_0x228351[_0x365ae0(0x6f2)](_0x4bc8a0,{'settings':_0x3bf8fa});}),await _0x228351[_0x369b54(0x444)](),document['getElementById']('bulk-quiz-settings-modal')[_0x369b54(0x33a)][_0x369b54(0xbaf)](_0x369b54(0x986)),showMessage(_0x369b54(0xe85)+_0x4e41c6+_0x369b54(0x6e4));}catch(_0x5a8c12){console[_0x369b54(0x28d)](_0x369b54(0x307),_0x5a8c12),showMessage(_0x369b54(0x58b));}finally{_0x2aceee[_0x369b54(0x5ad)]=![],_0x2aceee['innerHTML']=_0x369b54(0x4f4);}});}catch(_0x33a73c){console['error'](_0x16e957(0x35e),_0x33a73c),showMessage(_0x16e957(0x624));}}async function handleSaveProjectName(){const _0x50f697=_0x3abb87,_0x313464=document[_0x50f697(0x753)](_0x50f697(0x6fc)),_0x110898=document['getElementById']('save-project-name-btn'),_0x960ea=_0x313464['textContent']['trim']();if(!_0x960ea||!currentProjectId){showMessage(_0x50f697(0x639)),_0x313464[_0x50f697(0xbde)]=currentProjectData[_0x50f697(0x5f4)];return;}_0x110898[_0x50f697(0x5ad)]=!![],_0x110898['innerHTML']=_0x50f697(0x780);try{const _0xddcab5=doc(db,_0x50f697(0x8da)+appId+_0x50f697(0xdfd),currentProjectId);await updateDoc(_0xddcab5,{'projectName':_0x960ea}),currentProjectData&&(currentProjectData[_0x50f697(0x5f4)]=_0x960ea),showMessage(_0x50f697(0x547));}catch(_0x3b5056){console['error'](_0x50f697(0x4fc),_0x3b5056),showMessage(_0x50f697(0xbec)),_0x313464[_0x50f697(0xbde)]=currentProjectData[_0x50f697(0x5f4)];}finally{_0x110898[_0x50f697(0x33a)][_0x50f697(0xbaf)](_0x50f697(0x986)),_0x110898['disabled']=![],_0x110898[_0x50f697(0xd15)]=_0x50f697(0xa24);}}function handleGeneratePracticeTest(_0x295cd2,_0x11ac17){const _0x3b9aeb=_0x3abb87,_0x3f818c=document[_0x3b9aeb(0x753)]('lesson-view-modal'),_0x5064d5=document[_0x3b9aeb(0x753)](_0x3b9aeb(0x75a)),_0x3a229a=document[_0x3b9aeb(0x753)](_0x3b9aeb(0x579)),_0x5d21d0=document[_0x3b9aeb(0x753)](_0x3b9aeb(0x40a));_0x5064d5[_0x3b9aeb(0xbde)]=_0x3b9aeb(0x7eb)+_0x295cd2,_0x5d21d0[_0x3b9aeb(0x33a)][_0x3b9aeb(0xbaf)](_0x3b9aeb(0x986)),_0x3a229a['classList']['remove'](_0x3b9aeb(0x986)),_0x3f818c['classList'][_0x3b9aeb(0x23a)]('hidden'),generatePracticeTest(_0x295cd2,_0x11ac17)[_0x3b9aeb(0xab8)](_0x36de3a=>{const _0x83e453=_0x3b9aeb;console[_0x83e453(0x28d)]('Failed\x20to\x20generate\x20practice\x20test:',_0x36de3a),showMessage(_0x83e453(0x951)),_0x3f818c[_0x83e453(0x33a)][_0x83e453(0xbaf)](_0x83e453(0x986));});}async function generatePracticeTest(_0x2fc689,_0x13e739){const _0x36c0d7=_0x3abb87;[_0x36c0d7(0x968),'memoryContent',_0x36c0d7(0x80f),_0x36c0d7(0x985)]['forEach'](_0x1370bd=>{const _0x2ea324=_0x36c0d7,_0x46a4e2=document['getElementById'](_0x1370bd)[_0x2ea324(0x283)];_0x46a4e2&&(_0x46a4e2['style'][_0x2ea324(0x62e)]=_0x2ea324(0x961));});try{const _0x157fdd=_0x36c0d7(0x69d),_0xf9c64a='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x13e739+_0x36c0d7(0x402)+_0x2fc689+_0x36c0d7(0x3e5),_0x1084d1=await callGemini(_0xf9c64a,!![]),_0x42415b=document[_0x36c0d7(0x753)](_0x36c0d7(0x75a)),_0x5d9954=document[_0x36c0d7(0x753)](_0x36c0d7(0x579)),_0x4fc201=document['getElementById'](_0x36c0d7(0x40a)),_0x3407bd=document[_0x36c0d7(0x753)](_0x36c0d7(0x80f))[_0x36c0d7(0x283)];_0x42415b['innerText']=_0x36c0d7(0x536)+_0x2fc689['replace'](/•\s/g,'')+_0x36c0d7(0x242)+_0x13e739+')',currentApplicationData=JSON[_0x36c0d7(0x5b1)](_0x1084d1);const _0xce5cc0=document[_0x36c0d7(0x753)]('applicationContent');_0xce5cc0[_0x36c0d7(0xd15)]=currentApplicationData['map']((_0xf1e536,_0x2d838f)=>_0x36c0d7(0xe6d)+(_0x2d838f+0x1)+'.\x20'+marked[_0x36c0d7(0x85b)](_0xf1e536[_0x36c0d7(0x231)])+_0x36c0d7(0x51d)+_0x2d838f+_0x36c0d7(0x2a3)+_0xf1e536[_0x36c0d7(0x254)][_0x36c0d7(0x561)]((_0x5b2ea9,_0x128b3f)=>_0x36c0d7(0x597)+_0x2d838f+',\x20'+_0x128b3f+_0x36c0d7(0xd1f)+String['fromCharCode'](0x61+_0x128b3f)+'.\x20'+marked[_0x36c0d7(0x85b)](_0x5b2ea9)+_0x36c0d7(0x94b))['join']('')+_0x36c0d7(0x939))[_0x36c0d7(0xe0b)](''),window['MathJax']&&MathJax['typesetPromise']([_0xce5cc0]),_0x3407bd&&(_0x3407bd[_0x36c0d7(0x41d)][_0x36c0d7(0x62e)]='block'),_0x5d9954[_0x36c0d7(0x33a)][_0x36c0d7(0xbaf)](_0x36c0d7(0x986)),_0x4fc201[_0x36c0d7(0x33a)][_0x36c0d7(0x23a)]('hidden');}catch(_0x4821c1){console[_0x36c0d7(0x28d)](_0x4821c1);throw _0x4821c1;}}async function callGemini(_0x146f9b,_0x571021=![]){const _0x1786fe=_0x3abb87,_0x4c2e49=_0x1786fe(0x325),_0x14d0ca='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4c2e49,_0x5c477c={'contents':[{'parts':[{'text':_0x146f9b}]}]};_0x571021&&(_0x5c477c[_0x1786fe(0x2c3)]={'responseMimeType':_0x1786fe(0x3eb)},_0x146f9b[_0x1786fe(0x842)](_0x1786fe(0x2f2))?_0x5c477c[_0x1786fe(0x2c3)][_0x1786fe(0x449)]={'type':_0x1786fe(0xbe1),'properties':{'gradeLevel':{'type':_0x1786fe(0x29d)},'curriculum':{'type':_0x1786fe(0x9bd),'items':{'type':_0x1786fe(0xbe1),'properties':{'sara':{'type':_0x1786fe(0x29d)},'mainTopics':{'type':_0x1786fe(0x9bd),'items':{'type':_0x1786fe(0xbe1),'properties':{'topicName':{'type':_0x1786fe(0x29d)},'subTopics':{'type':_0x1786fe(0x9bd),'items':{'type':_0x1786fe(0x29d)}}},'required':[_0x1786fe(0xd5a),'subTopics']}}},'required':[_0x1786fe(0x90e),'mainTopics']}}},'required':[_0x1786fe(0x2bd),_0x1786fe(0xc85)]}:_0x5c477c[_0x1786fe(0x2c3)]['responseSchema']={'type':_0x1786fe(0x9bd),'items':{'type':_0x1786fe(0xbe1),'properties':{'question':{'type':_0x1786fe(0x29d)},'options':{'type':_0x1786fe(0x9bd),'items':{'type':_0x1786fe(0x29d)}},'answer':{'type':_0x1786fe(0xd79)}},'required':[_0x1786fe(0x231),_0x1786fe(0x254),_0x1786fe(0x5b8)]}});try{const _0x131120=await fetch(_0x14d0ca,{'method':_0x1786fe(0xd31),'headers':{'Content-Type':_0x1786fe(0x3eb)},'body':JSON[_0x1786fe(0x6e6)](_0x5c477c)});if(!_0x131120['ok']){const _0xb9aeb6=await _0x131120[_0x1786fe(0xba9)]();console['error'](_0x1786fe(0xd4e),_0xb9aeb6);throw new Error(_0x1786fe(0x39e)+_0x131120[_0x1786fe(0x98e)]);}const _0x4badaf=await _0x131120[_0x1786fe(0x6a0)]();if(_0x4badaf['candidates']&&_0x4badaf['candidates'][0x0]['content']&&_0x4badaf[_0x1786fe(0x7db)][0x0][_0x1786fe(0x901)][_0x1786fe(0xdfa)][0x0])return _0x4badaf[_0x1786fe(0x7db)][0x0][_0x1786fe(0x901)][_0x1786fe(0xdfa)][0x0][_0x1786fe(0xba9)];else{console['error'](_0x1786fe(0x245),_0x4badaf);if(_0x4badaf[_0x1786fe(0x7db)]&&_0x4badaf[_0x1786fe(0x7db)][0x0][_0x1786fe(0xa75)]===_0x1786fe(0xb8a))return JSON[_0x1786fe(0x6e6)]({'error':_0x1786fe(0xb55)});throw new Error(_0x1786fe(0x7fd));}}catch(_0x164a9a){console['error']('Error\x20calling\x20Gemini\x20API:',_0x164a9a);throw _0x164a9a;}}async function generateLesson(_0x1f6e96=null,_0x59dffa=null){const _0x3390df=_0x3abb87,_0x788cce=_0x1f6e96,_0x585556=_0x59dffa||_0x3390df(0x7b2),_0x2e8665=document[_0x3390df(0x753)]('lesson-loader'),_0x1e618c=document['getElementById'](_0x3390df(0x9c9));_0x1e618c[_0x3390df(0xbde)]=_0x3390df(0x21c)+_0x788cce+'\x22...';try{let _0x85ad9c=[];const _0x1dae1=document[_0x3390df(0x753)](_0x3390df(0xac6))?.['value'][_0x3390df(0xda7)]();if(_0x1dae1)try{_0x1e618c[_0x3390df(0xbde)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x2a0acf=await fetchFileFromUrl(_0x1dae1,_0x3390df(0x403)),_0x22a3f1=await new Promise((_0x308a9c,_0x4c02eb)=>{const _0x325824=_0x3390df,_0x435f6d=new FileReader();_0x435f6d[_0x325824(0x314)](_0x2a0acf),_0x435f6d[_0x325824(0x55b)]=()=>_0x308a9c(_0x435f6d[_0x325824(0xdd8)][_0x325824(0x5ee)](',')[0x1]),_0x435f6d[_0x325824(0xe51)]=_0x4c02eb;});_0x85ad9c[_0x3390df(0xabd)]({'inlineData':{'mimeType':_0x2a0acf[_0x3390df(0x2d0)],'data':_0x22a3f1}});}catch(_0x7af8d){console[_0x3390df(0x28d)](_0x3390df(0x66d),_0x7af8d),showMessage(_0x3390df(0x69b));}const _0x958601=_0x3390df(0x583)+_0x788cce+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x788cce+_0x3390df(0xdf7);_0x1e618c[_0x3390df(0xbde)]=_0x3390df(0x21c)+_0x788cce+_0x3390df(0xb4b);const _0x530ed5=_0x3390df(0x226)+_0x585556+'\x27\x20ในหัวข้อ\x20\x27'+_0x788cce+_0x3390df(0x788)+_0x958601+_0x3390df(0x4b3),_0x572c62=_0x3390df(0xde7)+_0x788cce+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x585556+_0x3390df(0x4d8)+_0x958601+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x34a0fc=_0x3390df(0xc97)+_0x585556+_0x3390df(0x402)+_0x788cce+_0x3390df(0xb66)+_0x958601+_0x3390df(0xc60),_0x11607f='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x788cce+_0x3390df(0xcd0)+_0x585556+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x958601+_0x3390df(0x262),_0x3472dd={'type':_0x3390df(0x9bd),'items':{'type':_0x3390df(0xbe1),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x3390df(0x29d)}},'answer':{'type':_0x3390df(0xd79)}},'required':[_0x3390df(0x231),_0x3390df(0x254),_0x3390df(0x5b8)]}},[_0x19e265,_0x5cd083,_0x2a4561,_0x397e01]=await Promise[_0x3390df(0x5ea)]([handleApiCall([{'text':_0x530ed5},..._0x85ad9c],'...',null,null,![]),handleApiCall([{'text':_0x572c62},..._0x85ad9c],_0x3390df(0x876),null,null,![]),handleApiCall([{'text':_0x34a0fc},..._0x85ad9c],_0x3390df(0x876),_0x3472dd,null,![]),handleApiCall([{'text':_0x11607f},..._0x85ad9c],_0x3390df(0x876),null,null,![])]),_0x4045ed=JSON['stringify'](_0x2a4561||[]),_0x250991=document[_0x3390df(0x753)](_0x3390df(0x75a)),_0x18d9fc=document[_0x3390df(0x753)](_0x3390df(0x40a));_0x250991['innerText']=_0x3390df(0xd05)+_0x788cce['replace'](/•\\s/g,'')+_0x3390df(0x242)+_0x585556+')',[_0x3390df(0x968),_0x3390df(0x508),_0x3390df(0x985)][_0x3390df(0x91b)](_0x6635e9=>{const _0xf0cb58=_0x3390df;document[_0xf0cb58(0x753)](_0x6635e9)['innerHTML']='';}),document[_0x3390df(0x753)](_0x3390df(0x968))[_0x3390df(0xd15)]=_0x19e265?marked['parse'](_0x19e265):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x3390df(0x753)](_0x3390df(0x508))[_0x3390df(0xd15)]=_0x5cd083?marked[_0x3390df(0x5b1)](_0x5cd083):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById'](_0x3390df(0x985))[_0x3390df(0xd15)]=_0x397e01?marked[_0x3390df(0x5b1)](_0x397e01):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x3390df(0x5b1)](_0x4045ed);const _0x43d58d=document[_0x3390df(0x753)](_0x3390df(0x80f));_0x43d58d[_0x3390df(0xd15)]=(currentApplicationData||[])[_0x3390df(0x561)]((_0x1d89ff,_0x4e495e)=>_0x3390df(0xe6d)+(_0x4e495e+0x1)+'.\x20'+marked[_0x3390df(0x85b)](_0x1d89ff[_0x3390df(0x231)]||'')+_0x3390df(0x51d)+_0x4e495e+_0x3390df(0x2a3)+(_0x1d89ff[_0x3390df(0x254)]||[])['map']((_0x23c502,_0x59b380)=>_0x3390df(0x597)+_0x4e495e+',\x20'+_0x59b380+_0x3390df(0xd1f)+String['fromCharCode'](0x61+_0x59b380)+'.\x20'+marked[_0x3390df(0x85b)](_0x23c502||'')+_0x3390df(0x94b))['join']('')+_0x3390df(0x939))[_0x3390df(0xe0b)]('')||_0x3390df(0x5f3),window[_0x3390df(0xc12)]&&MathJax['typesetPromise']([_0x18d9fc]),_0x2e8665[_0x3390df(0x33a)][_0x3390df(0xbaf)](_0x3390df(0x986)),_0x18d9fc[_0x3390df(0x33a)]['remove'](_0x3390df(0x986));}catch(_0x2ec8e5){console[_0x3390df(0x28d)](_0x2ec8e5);throw _0x2ec8e5;}}function checkAnswer(_0x228677,_0x546d45){const _0x422169=_0x3abb87,_0x232e2e=currentApplicationData[_0x228677],_0x5503df=document[_0x422169(0x753)]('q'+_0x228677+_0x422169(0x59d)),_0x5d05fd=_0x5503df[_0x422169(0x9a0)](_0x422169(0x442));for(let _0x46b05c of _0x5d05fd){_0x46b05c[_0x422169(0x5ad)]=!![];}_0x546d45===_0x232e2e['answer']?_0x5d05fd[_0x546d45][_0x422169(0x33a)][_0x422169(0xbaf)](_0x422169(0x8ca)):(_0x5d05fd[_0x546d45][_0x422169(0x33a)][_0x422169(0xbaf)](_0x422169(0xc0f)),_0x5d05fd[_0x232e2e[_0x422169(0x5b8)]]['classList']['add']('correct'));}window[_0x3abb87(0x425)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x3abb87(0xd91)]=handleGeneratePracticeTest,window[_0x3abb87(0x218)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x3d63d6=_0x3abb87;try{const _0x4b8f45=initializeApp(firebaseConfig);db=getFirestore(_0x4b8f45),auth=getAuth(_0x4b8f45),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x3ed95d){console[_0x3d63d6(0x28d)](_0x3d63d6(0xb67),_0x3ed95d),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x381dc8=_0x3abb87,_0x2b9e9f=document['getElementById'](_0x381dc8(0xc6a));if(!_0x2b9e9f)return;const _0x29ca1d=document[_0x381dc8(0x753)]('verify-answers-editor-btn');_0x29ca1d[_0x381dc8(0x5ad)]=!![],_0x29ca1d[_0x381dc8(0xd15)]=_0x381dc8(0x2f7);try{const _0x43f8b6=_0x2b9e9f[_0x381dc8(0x628)](_0x381dc8(0xb4c)),_0x3c1eb0=Array[_0x381dc8(0x944)](_0x43f8b6)[_0x381dc8(0x561)]((_0x34420e,_0x5b9b2d)=>{const _0x18f8fd=_0x381dc8,_0x18eb7f=_0x34420e['dataset']['qType'],_0x4894ab=_0x34420e[_0x18f8fd(0xd5b)](_0x18f8fd(0xe5d))[_0x18f8fd(0x8a6)];let _0x4e4102=null,_0x1ab097='';switch(_0x18eb7f){case _0x18f8fd(0x431):const _0x25b691=_0x34420e[_0x18f8fd(0x628)](_0x18f8fd(0x816));_0x4e4102=Array[_0x18f8fd(0x944)](_0x25b691)[_0x18f8fd(0x561)](_0x2a0934=>_0x2a0934[_0x18f8fd(0x8a6)]);const _0x4e5404=_0x34420e[_0x18f8fd(0xd5b)](_0x18f8fd(0x4ae));_0x4e5404&&(_0x1ab097=_0x4e4102[parseInt(_0x4e5404[_0x18f8fd(0x8a6)])]);break;case'short_answer':_0x4e4102=[],_0x1ab097=_0x34420e[_0x18f8fd(0xd5b)]('.ideal-answer-input')[_0x18f8fd(0x8a6)];break;case _0x18f8fd(0x718):_0x4e4102=[_0x18f8fd(0x243),_0x18f8fd(0x6ea)];const _0x22090a=_0x34420e[_0x18f8fd(0xd5b)](_0x18f8fd(0x4ae));_0x1ab097=_0x22090a?_0x22090a[_0x18f8fd(0x8a6)]:'';break;case'matching_item':_0x4e4102=[],_0x1ab097=_0x34420e[_0x18f8fd(0xd5b)](_0x18f8fd(0xcc6))[_0x18f8fd(0x8a6)];break;}return{'question':_0x4894ab,'options':_0x4e4102,'proposedAnswer':_0x1ab097};}),_0xcfa726='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x381dc8(0x6e6)](_0x3c1eb0)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5ddb29={'type':_0x381dc8(0x9bd),'items':{'type':_0x381dc8(0xbe1),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x381dc8(0x9e2)},'justification':{'type':_0x381dc8(0x29d)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0x381dc8(0x29d)},'newOptionsPayload':{'type':_0x381dc8(0xbe1),'properties':{'newOptions':{'type':_0x381dc8(0x9bd),'items':{'type':_0x381dc8(0x29d)}},'newCorrectIndex':{'type':_0x381dc8(0xd79)}}}},'required':[_0x381dc8(0x824),_0x381dc8(0x88b),_0x381dc8(0x1db)]}},_0x2a889f=await callAnalysisApi(_0xcfa726,{'type':_0x381dc8(0xbe1),'properties':{'result':_0x5ddb29},'required':[_0x381dc8(0xdd8)]});displayVerificationResultsInEditor(_0x2a889f[_0x381dc8(0xdd8)]);}catch(_0x3b2132){console[_0x381dc8(0x28d)](_0x381dc8(0x865),_0x3b2132),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x29ca1d[_0x381dc8(0x5ad)]=![],_0x29ca1d[_0x381dc8(0xd15)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x2450dc){const _0x4dba1b=_0x3abb87;_0x2450dc[_0x4dba1b(0x91b)](_0xba97c6=>{const _0x34161e=_0x4dba1b,_0x3683ad=document[_0x34161e(0xd5b)]('.question-editor-item[data-q-index=\x22'+_0xba97c6['questionIndex']+'\x22]');if(!_0x3683ad)return;const _0xbf8cb4=_0x3683ad[_0x34161e(0xd5b)](_0x34161e(0xc7c));if(_0xbf8cb4)_0xbf8cb4['remove']();let _0x35b054='';if(_0xba97c6[_0x34161e(0x50e)]&&_0xba97c6['newOptionsPayload'][_0x34161e(0x5af)]){const _0x44d332=_0xba97c6[_0x34161e(0x50e)]['newOptions'],_0x2e5719=_0xba97c6[_0x34161e(0x50e)][_0x34161e(0xbe7)],_0x29e18a=_0x3683ad[_0x34161e(0x970)]['qType'];if(_0x29e18a==='multiple_choice'){const _0x235411=_0x3683ad[_0x34161e(0x628)]('input[type=\x22text\x22]');_0x235411[_0x34161e(0x91b)]((_0x506ffc,_0x19fc17)=>{const _0x85b41a=_0x34161e;_0x44d332[_0x19fc17]?_0x506ffc[_0x85b41a(0x8a6)]=_0x44d332[_0x19fc17]:_0x506ffc[_0x85b41a(0x8a6)]=_0x85b41a(0x57d);});const _0x317895=_0x3683ad[_0x34161e(0xd5b)](_0x34161e(0xcc1)+_0x2e5719+'\x22]');_0x317895&&(_0x317895['checked']=!![]),_0x35b054='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3683ad[_0x34161e(0x33a)][_0x34161e(0xbaf)](_0x34161e(0xa0a),_0x34161e(0xc9c),_0x34161e(0xe6e)),setTimeout(()=>{const _0xaa00d7=_0x34161e;_0x3683ad['classList'][_0xaa00d7(0x23a)](_0xaa00d7(0xa0a));},0x9c4);}}else{if(!_0xba97c6[_0x34161e(0x88b)]&&_0xba97c6[_0x34161e(0xb9d)]){const _0x872241=_0xba97c6['suggestedAnswer']?_0x34161e(0x81c):'';_0x35b054=_0x34161e(0xd57)+_0x872241+_0x34161e(0xa2f)+_0xba97c6[_0x34161e(0x1db)]+_0x34161e(0xb59)+(_0xba97c6[_0x34161e(0xb9d)]?_0x34161e(0x69c)+_0xba97c6['suggestedAnswer']+'</p>':'')+_0x34161e(0x670);const _0x1f0e5d=_0x3683ad[_0x34161e(0x970)][_0x34161e(0xdd7)],_0x48422c=_0x205292=>{const _0x28cb3e=_0x34161e;if(!_0x205292)return;_0x205292[_0x28cb3e(0x33a)]['add'](_0x28cb3e(0x1e9),_0x28cb3e(0xc9c),_0x28cb3e(0xe6e)),setTimeout(()=>{const _0x34d3a5=_0x28cb3e;_0x205292[_0x34d3a5(0x33a)]['remove']('bg-green-200');},0x9c4);};if(_0x1f0e5d===_0x34161e(0x431)){const _0x1e0a54=Array[_0x34161e(0x944)](_0x3683ad[_0x34161e(0x628)](_0x34161e(0x816))),_0x4d70f8=_0x1e0a54[_0x34161e(0xbda)](_0x3090c6=>_0x3090c6[_0x34161e(0x8a6)][_0x34161e(0xda7)]()[_0x34161e(0x6d9)]()===_0xba97c6[_0x34161e(0xb9d)][_0x34161e(0xda7)]()[_0x34161e(0x6d9)]());if(_0x4d70f8!==-0x1){const _0x4c74c6=_0x3683ad['querySelector'](_0x34161e(0xcc1)+_0x4d70f8+'\x22]');_0x4c74c6&&(_0x4c74c6[_0x34161e(0xc32)]=!![],_0x48422c(_0x4c74c6['closest'](_0x34161e(0x7ea))));}}else{if(_0x1f0e5d===_0x34161e(0xb85)||_0x1f0e5d===_0x34161e(0x79a)){const _0x383121=_0x3683ad[_0x34161e(0xd5b)](_0x34161e(0xbd1));_0x383121&&(_0x383121[_0x34161e(0x8a6)]=_0xba97c6['suggestedAnswer'],_0x48422c(_0x383121));}else{if(_0x1f0e5d==='true_false'){const _0x1728ca=_0xba97c6['suggestedAnswer'][_0x34161e(0xda7)]()[_0x34161e(0x6d9)](),_0xb79c91=_0x3683ad['querySelector'](_0x34161e(0xcc1)+_0x1728ca+'\x22]');_0xb79c91&&(_0xb79c91[_0x34161e(0xc32)]=!![],_0x48422c(_0xb79c91[_0x34161e(0xdad)](_0x34161e(0x7ea))));}}}}else _0xba97c6['isCorrect']&&(_0x35b054=_0x34161e(0x5ac));}_0x3683ad[_0x34161e(0x4a1)](_0x34161e(0xe43),_0x35b054);}),showMessage(_0x4dba1b(0x236));}async function handleVerifyAnswers(){const _0x28c9a3=_0x3abb87;if(!currentQuizData||!currentQuizData[_0x28c9a3(0x806)]){showMessage(_0x28c9a3(0x2bc));return;}const _0x36dd6c=document[_0x28c9a3(0x753)](_0x28c9a3(0x4d4));_0x36dd6c[_0x28c9a3(0x5ad)]=!![],_0x36dd6c[_0x28c9a3(0xd15)]=_0x28c9a3(0x2f7);try{const _0x502bef=currentQuizData[_0x28c9a3(0x806)][_0x28c9a3(0x561)]((_0x31fa0f,_0x154917)=>{const _0x51a6f2=_0x28c9a3;let _0x494bde='';const _0x12fa06=_0x31fa0f[_0x51a6f2(0x302)]||currentQuizData[_0x51a6f2(0x273)];switch(_0x12fa06){case _0x51a6f2(0x431):_0x494bde=_0x31fa0f[_0x51a6f2(0x254)][_0x31fa0f[_0x51a6f2(0xa07)]];break;case _0x51a6f2(0xb85):_0x494bde=_0x31fa0f[_0x51a6f2(0x288)];break;case _0x51a6f2(0x718):_0x494bde=_0x31fa0f[_0x51a6f2(0x509)][_0x51a6f2(0xbd3)]();break;case _0x51a6f2(0x79a):_0x494bde=_0x31fa0f[_0x51a6f2(0x707)];break;}return{'question':_0x31fa0f[_0x51a6f2(0x9b7)]||_0x31fa0f['questionText'],'options':_0x31fa0f[_0x51a6f2(0x254)]||null,'proposedAnswer':_0x494bde};}),_0x34ede9=_0x28c9a3(0xa0e)+JSON['stringify'](_0x502bef)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x502b78={'type':_0x28c9a3(0x9bd),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x28c9a3(0xd79)},'isCorrect':{'type':_0x28c9a3(0x9e2)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x28c9a3(0x29d)}},'required':['questionIndex',_0x28c9a3(0x88b),_0x28c9a3(0x1db)]}},_0x154b39=await callAnalysisApi(_0x34ede9,{'type':'OBJECT','properties':{'result':_0x502b78},'required':[_0x28c9a3(0xdd8)]});displayVerificationResults(_0x154b39[_0x28c9a3(0xdd8)]);}catch(_0xc84ea6){console[_0x28c9a3(0x28d)]('Error\x20verifying\x20answers:',_0xc84ea6),showMessage(_0x28c9a3(0x88f));}finally{_0x36dd6c[_0x28c9a3(0x5ad)]=![],_0x36dd6c[_0x28c9a3(0xd15)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x1126c8){const _0x2eaa18=_0x3abb87;_0x1126c8[_0x2eaa18(0x91b)](_0x4853fe=>{const _0x27af43=_0x2eaa18,_0x2cff29=document[_0x27af43(0xd5b)](_0x27af43(0xd50)+_0x4853fe[_0x27af43(0x824)]+'\x22]');if(_0x2cff29){const _0x5ad194=_0x2cff29[_0x27af43(0xd5b)](_0x27af43(0xc6f));if(_0x5ad194)_0x5ad194[_0x27af43(0x23a)]();let _0x3d99ec='';_0x4853fe[_0x27af43(0x88b)]?_0x3d99ec=_0x27af43(0x67c):_0x3d99ec=_0x27af43(0xbc7)+_0x4853fe[_0x27af43(0x1db)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4853fe[_0x27af43(0xb9d)]?_0x27af43(0x69c)+_0x4853fe[_0x27af43(0xb9d)]+_0x27af43(0x854):'')+_0x27af43(0xdd9),_0x2cff29[_0x27af43(0x4a1)]('beforeend',_0x3d99ec);}}),showMessage(_0x2eaa18(0x236));}function compareNumericalAnswers(_0x3279f6,_0x547c5d){const _0x5d69f8=_0x3abb87,_0x1f4635=String(_0x3279f6)[_0x5d69f8(0x749)](',','.')[_0x5d69f8(0x749)](/[^\d.-]/g,'')[_0x5d69f8(0xda7)](),_0x3184b9=String(_0x547c5d)[_0x5d69f8(0x749)](',','.')[_0x5d69f8(0x749)](/[^\d.-]/g,'')[_0x5d69f8(0xda7)]();if(_0x1f4635===''||_0x3184b9==='')return![];const _0x56062f=parseFloat(_0x1f4635),_0x832fce=parseFloat(_0x3184b9);if(isNaN(_0x56062f)||isNaN(_0x832fce))return![];return Math[_0x5d69f8(0x286)](_0x56062f-_0x832fce)<0.001;}function isPotentiallyNumeric(_0x217f92){const _0x56ac8d=_0x3abb87;if(typeof _0x217f92!==_0x56ac8d(0x96d)&&typeof _0x217f92!=='number')return![];const _0x38e2db=String(_0x217f92)['replace'](',','.')[_0x56ac8d(0xda7)]();return _0x38e2db!==''&&!isNaN(parseFloat(_0x38e2db))&&isFinite(_0x38e2db);}async function gradeShortAnswer(_0x517bd7,_0x3b94ac){const _0x58c5e3=_0x3abb87,_0x372102=_0x3b94ac[_0x58c5e3(0x288)],_0x3aa9c4=String(_0x517bd7)[_0x58c5e3(0x749)](/\$/g,'')['trim'](),_0x352778=String(_0x372102)[_0x58c5e3(0x749)](/\$/g,'')[_0x58c5e3(0xda7)]();if(_0x3aa9c4['toLowerCase']()===_0x352778['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x3aa9c4)&&isPotentiallyNumeric(_0x352778)){if(compareNumericalAnswers(_0x3aa9c4,_0x352778))return!![];}return console[_0x58c5e3(0x4e6)](_0x58c5e3(0x835)),await gradeShortAnswerWithAI(_0x517bd7,_0x372102);}async function revealAnswerForAdmin(_0x2358d0,_0x559615){const _0x2e291c=_0x3abb87,_0x1ea9a7=doc(db,_0x2e291c(0x8da)+appId+_0x2e291c(0xc70),currentLiveGameId);await updateDoc(_0x1ea9a7,{'questionStatus':_0x2e291c(0xd70)});}function showTop5LeaderboardView(_0x4d0aed){const _0x13aa4e=_0x3abb87,_0x1eb61c=Object[_0x13aa4e(0xa10)](_0x4d0aed[_0x13aa4e(0xc17)]||{})[_0x13aa4e(0x27c)](_0x313fe3=>_0x313fe3[_0x13aa4e(0x98e)]===_0x13aa4e(0x351));_0x1eb61c[_0x13aa4e(0xb00)]((_0x1e8abb,_0xb67e10)=>_0xb67e10[_0x13aa4e(0xb3d)]-_0x1e8abb['score']);const _0x478c02=_0x1eb61c['slice'](0x0,0x5),_0x2a39f4=_0x13aa4e(0x40c)+_0x478c02[_0x13aa4e(0x561)]((_0x21e464,_0x57a000)=>_0x13aa4e(0x5f7)+(_0x57a000+0x1)+'.\x20'+(_0x21e464['name']||Object['keys'](_0x4d0aed['players'])[_0x13aa4e(0x7f4)](_0x149128=>_0x4d0aed[_0x13aa4e(0xc17)][_0x149128]===_0x21e464))+_0x13aa4e(0xe34)+_0x21e464[_0x13aa4e(0xb3d)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x13aa4e(0xe0b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4d0aed[_0x13aa4e(0x36f)]+0x1===currentQuizData[_0x13aa4e(0x806)]['length']?_0x13aa4e(0x407):'ข้อต่อไป')+_0x13aa4e(0x35f);liveGameView['innerHTML']=_0x2a39f4,document['getElementById'](_0x13aa4e(0xc04))['addEventListener']('click',async()=>{const _0x37ef56=_0x13aa4e,_0x2592b1=doc(db,_0x37ef56(0x8da)+appId+_0x37ef56(0xc70),currentLiveGameId),_0x1efeb3=_0x4d0aed[_0x37ef56(0x36f)]+0x1;if(_0x1efeb3<currentQuizData['questions']['length']){const _0x3be36f={'currentQuestionIndex':_0x1efeb3,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x37ef56(0xbd6)](_0x4d0aed['players'])['forEach'](_0x18f0e1=>{const _0x483bfd=_0x37ef56;_0x3be36f[_0x483bfd(0x784)+_0x18f0e1+_0x483bfd(0x49a)]=![];}),await updateDoc(_0x2592b1,_0x3be36f);}else await updateDoc(_0x2592b1,{'status':_0x37ef56(0x58a)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x4981f3=>{const _0x45cb1c=_0x55d5;if(_0x4981f3){userId=_0x4981f3[_0x45cb1c(0x7e2)],userIdDisplay['textContent']=userId;const _0xce35a=await loadUserPreferences();_0xce35a[_0x45cb1c(0x3de)]&&(document[_0x45cb1c(0x753)]('project-sort-select')[_0x45cb1c(0x8a6)]=_0xce35a['projectSortOrder']);globalDashboardSettings[_0x45cb1c(0xd14)]=_0xce35a['projectView']||_0x45cb1c(0x809);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x49eb08,_0x58cf61){const _0x34da66=_0x3abb87;if(!userId)return;try{const _0x263326=doc(db,_0x34da66(0x8da)+appId+_0x34da66(0x35b)+userId+_0x34da66(0xb62)),_0x46eb38={};_0x46eb38[_0x49eb08]=_0x58cf61,await setDoc(_0x263326,_0x46eb38,{'merge':!![]});}catch(_0x4ab5ac){console[_0x34da66(0x28d)](_0x34da66(0x224),_0x4ab5ac);}}async function loadUserPreferences(){const _0xfc1550=_0x3abb87;if(!userId)return{};try{const _0x1452a7=doc(db,_0xfc1550(0x8da)+appId+'/users/'+userId+_0xfc1550(0xb62)),_0x4de43e=await getDoc(_0x1452a7);if(_0x4de43e[_0xfc1550(0xc9d)]())return _0x4de43e[_0xfc1550(0x3f4)]();return{};}catch(_0x4767b2){return console[_0xfc1550(0x28d)](_0xfc1550(0xcce),_0x4767b2),{};}}function parseIndentedBlueprint(_0x5a69da){const _0x31447f=_0x3abb87,_0x39e0f2=_0x5a69da[_0x31447f(0x5ee)]('\x0a')[_0x31447f(0x27c)](_0x2a0e1f=>_0x2a0e1f['trim']()!==''),_0x2bb841=[];let _0x13ea60=null,_0x38fc70=null;return _0x39e0f2[_0x31447f(0x91b)](_0x9596b4=>{const _0x1ec58c=_0x31447f,_0x5f01b9=_0x9596b4[_0x1ec58c(0xbbe)](/^\s*/)[0x0][_0x1ec58c(0xd2b)],_0x263445=_0x9596b4[_0x1ec58c(0xda7)]();if(_0x5f01b9===0x0)_0x13ea60={'sara':_0x263445,'mainTopics':[]},_0x2bb841[_0x1ec58c(0xabd)](_0x13ea60),_0x38fc70=null;else{if(_0x5f01b9>0x0&&_0x5f01b9<0x8&&_0x13ea60)_0x38fc70={'topicName':_0x263445,'subTopics':[]},_0x13ea60[_0x1ec58c(0xbae)]['push'](_0x38fc70);else _0x5f01b9>=0x8&&_0x38fc70&&_0x38fc70['subTopics']['push'](_0x263445);}}),{'curriculum':_0x2bb841};}async function handleManualBlueprintSave(){const _0x2f9100=_0x3abb87,_0x1bfaeb=document[_0x2f9100(0x753)](_0x2f9100(0x89d))['value'][_0x2f9100(0xda7)](),_0x4498a6=document['getElementById'](_0x2f9100(0x5ce))[_0x2f9100(0x8a6)][_0x2f9100(0xda7)](),_0x2a531e=document['getElementById'](_0x2f9100(0xab9))['value'];if(!_0x1bfaeb||!_0x4498a6||!_0x2a531e){showMessage(_0x2f9100(0x7c7));return;}const _0x53f401=parseIndentedBlueprint(_0x2a531e);if(!_0x53f401[_0x2f9100(0xc85)]||_0x53f401[_0x2f9100(0xc85)][_0x2f9100(0xd2b)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x532aab={};let _0x322a23=0x0;_0x53f401[_0x2f9100(0xc85)][_0x2f9100(0x91b)](_0x51dbcb=>{const _0x4d9ca4=_0x2f9100;_0x51dbcb['mainTopics'][_0x4d9ca4(0x91b)](_0x10541f=>{const _0x1e4df3=_0x4d9ca4;_0x10541f[_0x1e4df3(0x7a2)][_0x1e4df3(0x91b)](_0x47c14f=>{const _0x4a1759=_0x1e4df3,_0x474145='topic_'+Date['now']()+Math[_0x4a1759(0x323)]()['toString'](0x24)['substr'](0x2,0x9);_0x532aab[_0x474145]={'sara':_0x51dbcb['sara'],'mainTopic':_0x10541f[_0x4a1759(0xd5a)],'subTopic':_0x47c14f,'status':_0x4a1759(0x97d),'lessonContent':null,'order':_0x322a23++};});});});try{const _0x1f5dd6=collection(db,_0x2f9100(0x8da)+appId+_0x2f9100(0xd3d));await addDoc(_0x1f5dd6,{'projectName':_0x1bfaeb,'gradeLevel':_0x4498a6,'topics':_0x532aab,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x1bfaeb+'\x22\x20สำเร็จ!'),document[_0x2f9100(0x753)](_0x2f9100(0xcdb))[_0x2f9100(0x33a)][_0x2f9100(0xbaf)](_0x2f9100(0x986));}catch(_0x40a3a6){console[_0x2f9100(0x28d)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x40a3a6),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x210fab){const _0x2a7e9b=_0x3abb87;showConfirmation(_0x2a7e9b(0x4be),async()=>{const _0xb9b424=_0x2a7e9b;try{const _0xaeaa99=doc(db,_0xb9b424(0x8da)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0xaeaa99,{['topics.'+_0x210fab+'.linkedQuizIds']:[]}),showMessage(_0xb9b424(0x5a8)),openTopicQuizBank(_0x210fab),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x15cf95){console[_0xb9b424(0x28d)](_0xb9b424(0xa38),_0x15cf95),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x1304bd,_0x43ab50='live-race',_0x38c578=null){const _0x498009=_0x3abb87,_0x2b2be0=_0x38c578?.[_0x498009(0x724)]===!![],_0x579adc=Object['entries'](_0x1304bd)[_0x498009(0x561)](([_0x1d0f91,_0x1e869d])=>({'name':_0x1d0f91,'realScore':_0x1e869d[_0x498009(0xb2d)]||0x0,'totalPoints':_0x1e869d[_0x498009(0x695)]||0x0,'badges':_0x1e869d[_0x498009(0x9f4)]||[],'hasPerfectScoreBonus':_0x1e869d[_0x498009(0x805)]||![]}));_0x579adc[_0x498009(0xb00)]((_0x2c6830,_0x40a4c9)=>{const _0x137904=_0x498009;if(_0x2b2be0){const _0x4f427d=_0x40a4c9[_0x137904(0xb2d)]-_0x2c6830[_0x137904(0xb2d)];if(_0x4f427d!==0x0)return _0x4f427d;const _0x226c96=_0x40a4c9[_0x137904(0x695)]-_0x2c6830[_0x137904(0x695)];if(_0x226c96!==0x0)return _0x226c96;return _0x2c6830[_0x137904(0xc71)]['localeCompare'](_0x40a4c9[_0x137904(0xc71)],'th');}else{const _0x4744a0=_0x40a4c9['totalPoints']-_0x2c6830[_0x137904(0x695)];if(_0x4744a0!==0x0)return _0x4744a0;return _0x40a4c9[_0x137904(0xb2d)]-_0x2c6830[_0x137904(0xb2d)];}});const _0x7fab84=_0x37dd76=>{const _0x5213fa=_0x498009;if(!_0x37dd76||_0x37dd76[_0x5213fa(0xd2b)]===0x0)return'';const _0xa942b0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x5213fa(0x45c)+_0x37dd76['map'](_0x35116d=>_0xa942b0[_0x35116d]||'')['join']('')+_0x5213fa(0x634);},_0x199c45=_0x11f65d=>{const _0x414407=_0x498009,_0x26743b=_0x11f65d['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';if(_0x2b2be0){const _0xf1f3fd=_0x11f65d[_0x414407(0x695)]>=0x0?'(+'+_0x11f65d[_0x414407(0x695)]+')':'('+_0x11f65d[_0x414407(0x695)]+')';return _0x414407(0x4ce)+_0x11f65d[_0x414407(0xb2d)]+_0x414407(0x4de)+_0xf1f3fd+'\x20'+_0x26743b+_0x414407(0x854);}else return'<p\x20class=\x22text-xl\x22>'+_0x11f65d['totalPoints']+_0x414407(0x4de)+_0x26743b+_0x414407(0x854);},_0x3e7060=_0x579adc[_0x498009(0x5a7)](0x3),_0x221b29=_0x3e7060[_0x498009(0xd2b)]>0x0?_0x498009(0x702)+_0x3e7060[_0x498009(0x561)]((_0x345bf8,_0x291fa4)=>{const _0x410dee=_0x498009;return _0x410dee(0x5e5)+(_0x291fa4+0x4)+_0x410dee(0xcf1)+_0x345bf8['name']+_0x410dee(0xaa4)+_0x199c45(_0x345bf8)+_0x410dee(0xbea);})['join']('')+_0x498009(0x1d8):'',_0x3d05ab=_0x498009(0x767)+(_0x579adc[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x579adc[0x1][_0x498009(0xc71)]+'</p>'+_0x7fab84(_0x579adc[0x1][_0x498009(0x9f4)])+_0x199c45(_0x579adc[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x498009(0x6cd)+(_0x579adc[0x0]?_0x498009(0x6d7)+_0x579adc[0x0]['name']+_0x498009(0x854)+_0x7fab84(_0x579adc[0x0][_0x498009(0x9f4)])+_0x199c45(_0x579adc[0x0])+_0x498009(0x716):_0x498009(0x483))+_0x498009(0x6cd)+(_0x579adc[0x2]?_0x498009(0x5a0)+_0x579adc[0x2]['name']+_0x498009(0x854)+_0x7fab84(_0x579adc[0x2][_0x498009(0x9f4)])+_0x199c45(_0x579adc[0x2])+_0x498009(0x541):'<div\x20class=\x22flex-1\x22></div>')+_0x498009(0xde2)+_0x221b29+_0x498009(0x5c5)+(currentMode===_0x498009(0xdcc)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x498009(0x221))+_0x498009(0x439);liveGameView[_0x498009(0xd15)]=_0x3d05ab,currentMode==='admin'?document[_0x498009(0x753)](_0x498009(0x54c))[_0x498009(0xdd0)]('click',async()=>{const _0x5c9f54=_0x498009;let _0x417fa3;_0x43ab50===_0x5c9f54(0xe7b)?_0x417fa3=doc(db,_0x5c9f54(0x8da)+appId+_0x5c9f54(0x725),currentLiveGameId):_0x417fa3=doc(db,'artifacts/'+appId+_0x5c9f54(0xc70),currentLiveGameId),await deleteDoc(_0x417fa3);}):document[_0x498009(0x753)](_0x498009(0x828))?.['addEventListener'](_0x498009(0xaa0),()=>{showView('student');});}function renderSyncSummaryView(_0x2efeb6,_0x2941ac,_0xe2ec47){const _0x7a5545=_0x3abb87,_0x32e232=_0x2efeb6[_0x7a5545(0xdb6)]||_0x7a5545(0xbf0),_0x512d3e=_0x32e232===_0x7a5545(0x58f)&&_0x2efeb6['isAnonymousRevealed']===![],_0x55137a=Object[_0x7a5545(0xa10)](_0x2efeb6[_0x7a5545(0xc17)]||{}),_0x36b777=_0x2efeb6[_0x7a5545(0xbd7)]['questions'],_0x55007e=_0x2941ac['questionType']||_0x2efeb6[_0x7a5545(0xbd7)]['quizType'];let _0x295092=[];_0x55007e===_0x7a5545(0x718)?_0x295092=[_0x7a5545(0x991),_0x7a5545(0x643)]:_0x295092=_0x2941ac['options']||[];const _0x301183=new Array(_0x295092['length'])[_0x7a5545(0x23d)](0x0),_0x44b6aa={};_0x295092[_0x7a5545(0x91b)]((_0x31e764,_0x414a1e)=>{_0x44b6aa[_0x414a1e]=[];}),Object[_0x7a5545(0xc8d)](_0x2efeb6[_0x7a5545(0xc17)]||{})[_0x7a5545(0x91b)](([_0x3e6ef7,_0x1b89e2])=>{const _0x38bf36=_0x7a5545;if(_0x1b89e2[_0x38bf36(0x98e)]!=='inactive'&&_0x1b89e2[_0x38bf36(0x76d)]!==undefined&&_0x1b89e2[_0x38bf36(0x76d)]!==null){const _0x2a6c61=_0x1b89e2[_0x38bf36(0x76d)];if(_0x44b6aa[_0x2a6c61]!==undefined){const _0x12645f=_0x512d3e?_0x2efeb6['playerNicknames'][_0x3e6ef7]||_0x38bf36(0x987):_0x3e6ef7;_0x44b6aa[_0x2a6c61][_0x38bf36(0xabd)](_0x12645f),_0x301183[_0x2a6c61]++;}}});let _0xacf4c8='';const _0x5d6f56=_0x2efeb6[_0x7a5545(0x36f)]>=_0x36b777[_0x7a5545(0xd2b)]-0x1;_0xe2ec47?_0x32e232===_0x7a5545(0x96b)?_0x5d6f56?_0xacf4c8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':_0xacf4c8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':_0xacf4c8=_0x7a5545(0x48b):_0x32e232===_0x7a5545(0x96b)?_0xacf4c8=_0x7a5545(0x664):_0xacf4c8=_0x7a5545(0x927);const _0x5da8e9=_0xe2ec47?_0x7a5545(0xd75)+_0x2efeb6[_0x7a5545(0x97e)]+_0x7a5545(0x437):'',_0x55c312=_0x7a5545(0x20b)+_0x5da8e9+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x2941ac['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x301183[_0x7a5545(0x561)]((_0x2b5f49,_0x521a42)=>{const _0x4efe8c=_0x7a5545,_0x46d71a=_0x44b6aa[_0x521a42]['length']>0x0?_0x44b6aa[_0x521a42][_0x4efe8c(0xe0b)](',\x20'):_0x4efe8c(0x6a3),_0x31d3cc=_0x4efe8c(0xcc4);return _0x4efe8c(0xc75)+_0x2b5f49+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x31d3cc+_0x4efe8c(0x255)+_0x521a42+_0x4efe8c(0xd1e)+_0x295092[_0x521a42]+_0x4efe8c(0x7e7)+_0x521a42+_0x4efe8c(0xa67)+_0x46d71a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+_0x7a5545(0x9fe)+_0xacf4c8+_0x7a5545(0x576);liveGameView[_0x7a5545(0xd15)]=_0x55c312;if(window[_0x7a5545(0xc12)])MathJax['typesetPromise']();if(_0xe2ec47){const _0x8cfc14=doc(db,_0x7a5545(0x8da)+appId+_0x7a5545(0x725),currentLiveGameId);document[_0x7a5545(0x753)](_0x7a5545(0x6a4))?.[_0x7a5545(0xdd0)](_0x7a5545(0xaa0),async()=>{const _0x3c2574=_0x7a5545;await updateDoc(_0x8cfc14,{'status':_0x3c2574(0xada)});}),document[_0x7a5545(0x753)]('open-sync-scratchpad-btn')?.['addEventListener']('click',()=>{openScratchpad(_0x2941ac,_0x295092);}),document[_0x7a5545(0x753)](_0x7a5545(0xcb9))?.[_0x7a5545(0xdd0)](_0x7a5545(0xaa0),async()=>{const _0x522fcc=_0x7a5545,_0xabd6fc=_0x2efeb6[_0x522fcc(0x36f)]+0x1,_0x38dd87={};Object[_0x522fcc(0xbd6)](_0x2efeb6[_0x522fcc(0xc17)])[_0x522fcc(0x91b)](_0x89727d=>{const _0x34a5f1=_0x522fcc;_0x38dd87[_0x34a5f1(0x784)+_0x89727d+_0x34a5f1(0xa4a)]=![],_0x38dd87[_0x34a5f1(0x784)+_0x89727d+_0x34a5f1(0x3fc)]=null;}),await updateDoc(_0x8cfc14,{..._0x38dd87,'status':'question','currentQuestionIndex':_0xabd6fc,'questionDisplayedAt':serverTimestamp()});}),document[_0x7a5545(0x753)](_0x7a5545(0x8ec))?.['addEventListener'](_0x7a5545(0xaa0),async()=>{const _0x8ecf80=_0x7a5545;await updateDoc(_0x8cfc14,{'status':_0x8ecf80(0xada),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x5c50dc){const _0x591049=_0x3abb87,_0x379657=_0x5c50dc[_0x591049(0x36f)]>=_0x5c50dc[_0x591049(0xbd7)][_0x591049(0x806)]['length']-0x1;let _0x2d76f0='';if(_0x5c50dc[_0x591049(0xbef)]===!![]){const _0x279a9b=_0x5c50dc[_0x591049(0xc17)][localTeamPlayers[0x0]],_0x2a0081=_0x279a9b[_0x591049(0xc71)],_0x3e8214=_0x279a9b[_0x591049(0xb3d)];_0x2d76f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>'+_0x2a0081+_0x591049(0x8d9)+_0x3e8214+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x2d76f0=_0x591049(0x843)+(_0x379657?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x591049(0xc44))+_0x591049(0xcc8);const _0x15a57e=_0x591049(0xc6b)+_0x2d76f0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x591049(0xd15)]=_0x15a57e;}async function handleShowStudentRankings(){const _0x4a5a4a=_0x3abb87,_0x3cb7e4=document[_0x4a5a4a(0xd5b)]('#student-quiz-leaderboard-content\x20thead');_0x3cb7e4&&(_0x3cb7e4[_0x4a5a4a(0xd15)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x311f52=document['querySelector']('#student-project-leaderboard-content\x20thead');_0x311f52&&(_0x311f52[_0x4a5a4a(0xd15)]=_0x4a5a4a(0x84f));const _0x293c70=document[_0x4a5a4a(0x753)](_0x4a5a4a(0xd54));_0x293c70[_0x4a5a4a(0x33a)][_0x4a5a4a(0x23a)](_0x4a5a4a(0x986)),document[_0x4a5a4a(0x753)](_0x4a5a4a(0x956))[_0x4a5a4a(0x26e)]=()=>_0x293c70[_0x4a5a4a(0x33a)][_0x4a5a4a(0xbaf)](_0x4a5a4a(0x986));const _0x1bada2=document['getElementById'](_0x4a5a4a(0x4b7)),_0x143ab8=document[_0x4a5a4a(0x753)]('student-project-leaderboard-tab'),_0x4cdf83=document[_0x4a5a4a(0x753)]('student-quiz-leaderboard-content'),_0x381d61=document[_0x4a5a4a(0x753)](_0x4a5a4a(0x8fc));_0x1bada2[_0x4a5a4a(0x26e)]=()=>{const _0x2cf71c=_0x4a5a4a;_0x1bada2[_0x2cf71c(0x33a)]['add'](_0x2cf71c(0x351)),_0x143ab8[_0x2cf71c(0x33a)][_0x2cf71c(0x23a)](_0x2cf71c(0x351)),_0x4cdf83[_0x2cf71c(0x33a)][_0x2cf71c(0x23a)](_0x2cf71c(0x986)),_0x381d61[_0x2cf71c(0x33a)][_0x2cf71c(0xbaf)]('hidden');},_0x143ab8[_0x4a5a4a(0x26e)]=()=>{const _0x5de85f=_0x4a5a4a;_0x143ab8[_0x5de85f(0x33a)][_0x5de85f(0xbaf)](_0x5de85f(0x351)),_0x1bada2[_0x5de85f(0x33a)][_0x5de85f(0x23a)](_0x5de85f(0x351)),_0x381d61[_0x5de85f(0x33a)][_0x5de85f(0x23a)](_0x5de85f(0x986)),_0x4cdf83['classList'][_0x5de85f(0xbaf)](_0x5de85f(0x986));};try{const _0x75212c=collection(db,_0x4a5a4a(0x8da)+appId+_0x4a5a4a(0x75d)+currentQuizData['id']+_0x4a5a4a(0x4cc)),_0x4de745=await getDocs(_0x75212c),_0x643310=_0x4de745[_0x4a5a4a(0x2a7)][_0x4a5a4a(0x561)](_0x45e5ec=>_0x45e5ec['data']());renderQuizLeaderboard(_0x643310,currentQuizData,_0x4a5a4a(0xce3));const _0x337431=collection(db,_0x4a5a4a(0x8da)+appId+_0x4a5a4a(0xe71)+currentQuizData[_0x4a5a4a(0x365)]+_0x4a5a4a(0xb74)),_0x466aa7=await getDocs(_0x337431),_0xad19bc=_0x466aa7[_0x4a5a4a(0x2a7)]['map'](_0x3e0f5a=>_0x3e0f5a[_0x4a5a4a(0x3f4)]());renderLeaderboard(_0xad19bc,'student-project-leaderboard-table-body');}catch(_0x1d87a6){console[_0x4a5a4a(0x28d)](_0x4a5a4a(0xb37),_0x1d87a6),showMessage(_0x4a5a4a(0x76a));}}async function handleSaveToBank(_0x314c20){const _0x4443eb=_0x3abb87,_0x1c5cb1=_0x314c20[_0x4443eb(0x1d3)],_0x2c0e6e=_0x1c5cb1['dataset'][_0x4443eb(0x6b3)],_0x5b1a96=currentQuizData[_0x4443eb(0x806)][_0x2c0e6e];if(!userId){showMessage(_0x4443eb(0xbe8));return;}try{const _0x219bb3={..._0x5b1a96,'originalTopic':currentQuizData[_0x4443eb(0x3bb)],'savedAt':serverTimestamp()},_0x1b30af=collection(db,_0x4443eb(0x8da)+appId+_0x4443eb(0x35b)+userId+_0x4443eb(0x820));await addDoc(_0x1b30af,_0x219bb3),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x1c5cb1['classList'][_0x4443eb(0x23a)](_0x4443eb(0x64f)),_0x1c5cb1[_0x4443eb(0x33a)][_0x4443eb(0xbaf)]('text-green-600'),_0x1c5cb1[_0x4443eb(0x5ad)]=!![];}catch(_0x4450ff){console[_0x4443eb(0x28d)](_0x4443eb(0x4b5),_0x4450ff),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x48fcd4,_0x211dc3=null,_0x1f4172=null,_0x48082c=![]){const _0x49cf72=_0x3abb87;cameFromBlueprint=!![];const _0x179c90=document[_0x49cf72(0x753)](_0x49cf72(0xac6))?.['value'][_0x49cf72(0xda7)]();let _0x840452=null;if(_0x179c90){showMessage(_0x49cf72(0x1fb));try{const _0x4e000d=await fetchFileFromUrl(_0x179c90,_0x49cf72(0x403)),_0x4f6a1d=await new Promise((_0x420e2c,_0x5d3b9a)=>{const _0x1b30e2=_0x49cf72,_0x522923=new FileReader();_0x522923[_0x1b30e2(0x314)](_0x4e000d),_0x522923[_0x1b30e2(0x55b)]=()=>_0x420e2c(_0x522923[_0x1b30e2(0xdd8)][_0x1b30e2(0x5ee)](',')[0x1]),_0x522923[_0x1b30e2(0xe51)]=_0x5d3b9a;});_0x840452=[{'inlineData':{'mimeType':_0x4e000d[_0x49cf72(0x2d0)],'data':_0x4f6a1d}}],messageModal['classList'][_0x49cf72(0xbaf)](_0x49cf72(0x986));}catch(_0x3ee138){console[_0x49cf72(0x28d)](_0x49cf72(0x8bc),_0x3ee138),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x8667cd=document[_0x49cf72(0x753)](_0x49cf72(0xdf2)),_0x420858=document[_0x49cf72(0x753)](_0x49cf72(0x3c2)),_0x4ef04e=_0x8667cd['querySelector']('h3'),_0x50293d=document[_0x49cf72(0x753)](_0x49cf72(0xd22)),_0x1c5649=document[_0x49cf72(0x753)](_0x49cf72(0x782));_0x4ef04e[_0x49cf72(0xbde)]=_0x49cf72(0x3f7),_0x50293d[_0x49cf72(0xbde)]='เลือกและเริ่มสร้าง',_0x50293d[_0x49cf72(0x5ad)]=!![];allProjects[_0x49cf72(0xd2b)]===0x0?_0x420858[_0x49cf72(0xd15)]=_0x49cf72(0x447):(_0x420858[_0x49cf72(0xd15)]=_0x49cf72(0xd16)+allProjects[_0x49cf72(0x561)](_0x8a45c0=>_0x49cf72(0x957)+_0x8a45c0['id']+'\x22>'+_0x8a45c0[_0x49cf72(0x5f4)]+_0x49cf72(0xaa5))[_0x49cf72(0xe0b)](''),_0x50293d[_0x49cf72(0x5ad)]=![]);_0x8667cd[_0x49cf72(0x33a)][_0x49cf72(0x23a)](_0x49cf72(0x986));const _0x6bef92=async()=>{const _0x359da4=_0x49cf72,_0x168368=_0x420858[_0x359da4(0x8a6)];if(!_0x168368){showMessage(_0x359da4(0xd17));return;}_0x8667cd[_0x359da4(0x33a)][_0x359da4(0xbaf)](_0x359da4(0x986)),document[_0x359da4(0x753)](_0x359da4(0xadd))[_0x359da4(0x33a)][_0x359da4(0xbaf)](_0x359da4(0x986)),await loadProjectDetails(_0x168368),showView(_0x359da4(0x85f)),handleGenerateQuizFromBlueprintTopic(_0x48fcd4,_0x211dc3,_0x168368,_0x1f4172,_0x48082c,_0x840452),_0x5604d2();},_0x5604d2=()=>{const _0x544451=_0x49cf72;_0x4ef04e[_0x544451(0xbde)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x50293d[_0x544451(0xbde)]=_0x544451(0x3a1),_0x50293d[_0x544451(0x21b)]('click',_0x6bef92),_0x1c5649['removeEventListener'](_0x544451(0xaa0),_0x5604d2),_0x50293d[_0x544451(0xdd0)](_0x544451(0xaa0),confirmMoveQuiz);};_0x50293d['removeEventListener']('click',confirmMoveQuiz),_0x50293d[_0x49cf72(0xdd0)](_0x49cf72(0xaa0),_0x6bef92),_0x1c5649['addEventListener'](_0x49cf72(0xaa0),_0x5604d2);}function listenForStarredQuizzes(){const _0x172f09=_0x3abb87;if(!userId)return;const _0x26ada7=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x5e56a0=query(_0x26ada7,where(_0x172f09(0x93a),'==',!![]));onSnapshot(_0x5e56a0,_0x105f4e=>{const _0x57a7ae=_0x172f09;starredQuizzes=_0x105f4e['docs'][_0x57a7ae(0x561)](_0x1c06cb=>({'id':_0x1c06cb['id'],..._0x1c06cb[_0x57a7ae(0x3f4)]()})),currentProjectId===_0x57a7ae(0xba5)?renderQuizzes():renderProjects();},_0x34f7ea=>{const _0x36dba8=_0x172f09;console[_0x36dba8(0x28d)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x34f7ea);});}function listenForFileShortcuts(){const _0x59013d=_0x3abb87,_0x3b1aab=doc(db,_0x59013d(0x51c),'fileShortcutsConfig');onSnapshot(_0x3b1aab,_0x1f6fcf=>{const _0x35fdc5=_0x59013d;let _0x298f2e=[],_0x17bd0a=[],_0x2b422a={};if(_0x1f6fcf[_0x35fdc5(0xc9d)]()){const _0x21cbff=_0x1f6fcf[_0x35fdc5(0x3f4)]();_0x298f2e=_0x21cbff[_0x35fdc5(0x41e)]||[],_0x17bd0a=_0x21cbff['fileShortcutTabs']||[],_0x2b422a=_0x21cbff[_0x35fdc5(0xa86)]||{};}!_0x17bd0a[_0x35fdc5(0x7f4)](_0x4d222f=>_0x4d222f['id']===_0x35fdc5(0x5ea))&&_0x17bd0a[_0x35fdc5(0x684)]({'id':_0x35fdc5(0x5ea),'name':_0x35fdc5(0xa85),'isDefault':!![]}),!_0x298f2e['find'](_0x478fdf=>_0x478fdf['id']===_0x35fdc5(0x661))&&_0x298f2e['unshift']({'id':'file-default-1','name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x298f2e[_0x35fdc5(0x7f4)](_0x197de8=>_0x197de8['id']===_0x35fdc5(0x2be))&&_0x298f2e['unshift']({'id':_0x35fdc5(0x2be),'name':_0x35fdc5(0xaa6),'url':'','isDefault':!![]}),fileShortcuts=_0x298f2e,fileShortcutTabs=_0x17bd0a,fileShortcutOrder=_0x2b422a,renderFileShortcuts(),!document['getElementById'](_0x35fdc5(0x7a0))[_0x35fdc5(0x33a)][_0x35fdc5(0x415)](_0x35fdc5(0x986))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0xde8b73=_0x3abb87,_0xaef864=doc(db,_0xde8b73(0x51c),_0xde8b73(0xa1f));try{await setDoc(_0xaef864,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x5b8788){console['error']('Error\x20saving\x20file\x20shortcut\x20config:',_0x5b8788);}}function renderAdditionalFileShortcutsModal(){const _0x48e4c9=_0x3abb87,_0x2f9102=document[_0x48e4c9(0x753)](_0x48e4c9(0x7b6)),_0x1caf35=document[_0x48e4c9(0x753)](_0x48e4c9(0x90a));if(!_0x2f9102||!_0x1caf35)return;_0x2f9102['innerHTML']=fileShortcutTabs[_0x48e4c9(0x561)](_0x498f6d=>{const _0x47bb1f=_0x48e4c9,_0x37b646=_0x498f6d['id']===activeFileShortcutTabId;return _0x47bb1f(0xbfd)+_0x498f6d['id']+_0x47bb1f(0x4f3)+(_0x37b646?'border-indigo-500\x20text-indigo-600':_0x47bb1f(0x698))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x498f6d['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x498f6d['name']+_0x47bb1f(0x993)+(!_0x498f6d[_0x47bb1f(0x871)]?'<button\x20data-tab-id=\x22'+_0x498f6d['id']+_0x47bb1f(0xe67):'')+_0x47bb1f(0xe5b);})[_0x48e4c9(0xe0b)]('');const _0x4d022b=fileShortcutTabs[_0x48e4c9(0x7f4)](_0x208bf5=>_0x208bf5['id']===activeFileShortcutTabId);let _0x1e230d=_0x4d022b?.[_0x48e4c9(0x871)]?[...fileShortcuts]:fileShortcuts[_0x48e4c9(0x27c)](_0x3a7659=>(_0x4d022b?.[_0x48e4c9(0x2ee)]||[])['includes'](_0x3a7659['id']));const _0x1e77fc=fileShortcutOrder[activeFileShortcutTabId]||[];_0x1e230d[_0x48e4c9(0xb00)]((_0x6c0a03,_0x5bbf59)=>{const _0x346b61=_0x48e4c9,_0x3b86d3=_0x1e77fc[_0x346b61(0x4c0)](_0x6c0a03['id']),_0x1facbe=_0x1e77fc['indexOf'](_0x5bbf59['id']);return(_0x3b86d3===-0x1?Infinity:_0x3b86d3)-(_0x1facbe===-0x1?Infinity:_0x1facbe);}),_0x1caf35['innerHTML']=_0x1e230d['map'](_0xa1349f=>{const _0x1ba50b=_0x48e4c9,_0xa92ed1=_0xa1349f[_0x1ba50b(0x855)]?'📄':'🔗',_0x4cc0b2=fileShortcutTabs[_0x1ba50b(0x27c)](_0x2d5e68=>!_0x2d5e68[_0x1ba50b(0x871)]),_0x432efd=_0x4d022b[_0x1ba50b(0x871)]&&_0x4cc0b2[_0x1ba50b(0xd2b)]>0x0?_0x1ba50b(0xb44)+_0x4cc0b2[_0x1ba50b(0x561)](_0x4f6832=>_0x1ba50b(0x552)+_0xa1349f['id']+_0x1ba50b(0x357)+_0x4f6832['id']+'\x22>'+_0x4f6832[_0x1ba50b(0xc71)]+_0x1ba50b(0x5e8))[_0x1ba50b(0xe0b)]('')+_0x1ba50b(0xb22):'';return _0x1ba50b(0xa87)+_0xa1349f['id']+_0x1ba50b(0x699)+_0xa92ed1+'\x20'+_0xa1349f[_0x1ba50b(0xc71)]+_0x1ba50b(0xcfd)+_0xa1349f['id']+_0x1ba50b(0x55e)+_0xa1349f['id']+_0x1ba50b(0xc81)+(!_0xa1349f[_0x1ba50b(0x871)]?_0x1ba50b(0x7e1)+_0xa1349f['id']+_0x1ba50b(0x49f):'')+_0x1ba50b(0xe31)+(!_0x4d022b['isDefault']?_0x1ba50b(0x4e1)+_0xa1349f['id']+_0x1ba50b(0x2d5):'')+_0x1ba50b(0xe31)+_0x432efd+_0x1ba50b(0xbc8);})[_0x48e4c9(0xe0b)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x21e4e4=_0x3abb87;document['querySelectorAll'](_0x21e4e4(0x22d))[_0x21e4e4(0x91b)](_0x2feacb=>{const _0x1344fd=_0x21e4e4;_0x2feacb[_0x1344fd(0x26e)]=_0x112abc=>{const _0x1ec179=_0x1344fd;activeFileShortcutTabId=_0x112abc['currentTarget'][_0x1ec179(0x970)][_0x1ec179(0x840)],renderAdditionalFileShortcutsModal();},_0x2feacb[_0x1344fd(0x745)]=_0x14485e=>{const _0x3ee17d=_0x1344fd,_0x1bce7f=_0x14485e['currentTarget']['querySelector'](_0x3ee17d(0xaf5));_0x14485e['currentTarget'][_0x3ee17d(0xd5b)]('.tab-name-display')[_0x3ee17d(0x33a)][_0x3ee17d(0xbaf)]('hidden'),_0x1bce7f[_0x3ee17d(0x33a)]['remove'](_0x3ee17d(0x986)),_0x1bce7f[_0x3ee17d(0x9fa)](),_0x1bce7f['select']();};}),document[_0x21e4e4(0x628)](_0x21e4e4(0x978))['forEach'](_0x3832fa=>{const _0x22c721=()=>{const _0x1143c1=_0x55d5,_0x1936ea=_0x3832fa[_0x1143c1(0xdad)](_0x1143c1(0x22d))[_0x1143c1(0x970)][_0x1143c1(0x840)],_0x56838f=fileShortcutTabs[_0x1143c1(0x7f4)](_0x2ed45e=>_0x2ed45e['id']===_0x1936ea);_0x56838f&&(_0x56838f[_0x1143c1(0xc71)]=_0x3832fa[_0x1143c1(0x8a6)][_0x1143c1(0xda7)]()||_0x56838f[_0x1143c1(0xc71)],saveFileShortcutConfig());};_0x3832fa['onblur']=_0x22c721,_0x3832fa['onkeydown']=_0x4715d4=>{const _0x153f1c=_0x55d5;if(_0x4715d4['key']==='Enter')_0x3832fa[_0x153f1c(0x46c)]();};}),document[_0x21e4e4(0x628)](_0x21e4e4(0x598))['forEach'](_0xff17c7=>_0xff17c7[_0x21e4e4(0x26e)]=_0x1eec3d=>{const _0x472188=_0x21e4e4,_0xbdb870=_0x1eec3d[_0x472188(0x1d3)][_0x472188(0x970)][_0x472188(0x840)];showConfirmation(_0x472188(0xa3c),()=>{const _0x29a34b=_0x472188;fileShortcutTabs=fileShortcutTabs[_0x29a34b(0x27c)](_0x1699f6=>_0x1699f6['id']!==_0xbdb870),delete fileShortcutOrder[_0xbdb870];if(activeFileShortcutTabId===_0xbdb870)activeFileShortcutTabId=_0x29a34b(0x5ea);saveFileShortcutConfig();});}),document[_0x21e4e4(0x628)](_0x21e4e4(0x215))[_0x21e4e4(0x91b)](_0x497cd7=>_0x497cd7[_0x21e4e4(0x26e)]=_0x502cb8=>{const _0x43e10f=_0x21e4e4;_0x502cb8[_0x43e10f(0x83f)]();const {shortcutId:_0x275807,targetTabId:_0x4241b3}=_0x502cb8['currentTarget']['dataset'],_0x3af587=fileShortcutTabs[_0x43e10f(0x7f4)](_0x1c02fb=>_0x1c02fb['id']===_0x4241b3);_0x3af587&&!_0x3af587[_0x43e10f(0x2ee)][_0x43e10f(0x842)](_0x275807)&&(_0x3af587['shortcutIds'][_0x43e10f(0xabd)](_0x275807),saveFileShortcutConfig());}),document[_0x21e4e4(0x628)]('.remove-file-shortcut-from-tab-btn')[_0x21e4e4(0x91b)](_0x3ead3b=>_0x3ead3b['onclick']=_0x2469ca=>{const _0x56556d=_0x21e4e4,_0x373188=_0x2469ca[_0x56556d(0x1d3)][_0x56556d(0x970)][_0x56556d(0x359)],_0x3bc1f6=fileShortcutTabs[_0x56556d(0x7f4)](_0x391f45=>_0x391f45['id']===activeFileShortcutTabId);_0x3bc1f6&&!_0x3bc1f6[_0x56556d(0x871)]&&(_0x3bc1f6['shortcutIds']=_0x3bc1f6[_0x56556d(0x2ee)][_0x56556d(0x27c)](_0x446a4d=>_0x446a4d!==_0x373188),saveFileShortcutConfig());}),document[_0x21e4e4(0x628)](_0x21e4e4(0x2f3))['forEach'](_0x4b1d51=>_0x4b1d51[_0x21e4e4(0x26e)]=_0x21a498=>{const _0x4ff21c=_0x21e4e4;_0x21a498[_0x4ff21c(0x469)]();const _0x412d48=_0x21a498[_0x4ff21c(0x1d3)]['nextElementSibling'];document[_0x4ff21c(0x628)](_0x4ff21c(0x88c))[_0x4ff21c(0x91b)](_0x3bbd89=>_0x3bbd89[_0x4ff21c(0x33a)][_0x4ff21c(0xbaf)](_0x4ff21c(0x986))),_0x412d48[_0x4ff21c(0x33a)][_0x4ff21c(0x23a)](_0x4ff21c(0x986));});const _0x33f2e3=document[_0x21e4e4(0x753)]('additional-file-shortcuts-list');let _0x22d8fb=null;_0x33f2e3[_0x21e4e4(0x79d)]=_0x401949=>{const _0x4d0bf4=_0x21e4e4;_0x22d8fb=_0x401949[_0x4d0bf4(0x589)][_0x4d0bf4(0xdad)](_0x4d0bf4(0x265));if(_0x22d8fb)setTimeout(()=>_0x22d8fb[_0x4d0bf4(0x33a)]['add'](_0x4d0bf4(0x494)),0x0);},_0x33f2e3[_0x21e4e4(0xcde)]=()=>{const _0x14ab6a=_0x21e4e4;_0x22d8fb&&(_0x22d8fb[_0x14ab6a(0x33a)]['remove'](_0x14ab6a(0x494)),_0x22d8fb=null);},_0x33f2e3['ondragover']=_0x161a6b=>{const _0x56a0fa=_0x21e4e4;_0x161a6b[_0x56a0fa(0x83f)]();},_0x33f2e3[_0x21e4e4(0xde9)]=_0x39bf80=>{const _0x326ce8=_0x21e4e4;_0x39bf80['preventDefault']();if(_0x22d8fb){const _0x4ff13b=[..._0x33f2e3[_0x326ce8(0x628)](_0x326ce8(0x26a))][_0x326ce8(0x257)]((_0x10b2a3,_0x3a233a)=>{const _0x1b68f6=_0x326ce8,_0x3f2393=_0x3a233a[_0x1b68f6(0xd30)](),_0x43f4da=_0x39bf80[_0x1b68f6(0x484)]-_0x3f2393[_0x1b68f6(0x79c)]-_0x3f2393['height']/0x2;return _0x43f4da<0x0&&_0x43f4da>_0x10b2a3[_0x1b68f6(0x501)]?{'offset':_0x43f4da,'element':_0x3a233a}:_0x10b2a3;},{'offset':Number[_0x326ce8(0x610)]})[_0x326ce8(0x85d)];_0x4ff13b==null?_0x33f2e3[_0x326ce8(0xb8c)](_0x22d8fb):_0x33f2e3[_0x326ce8(0xd0d)](_0x22d8fb,_0x4ff13b);const _0x9e46e0=[..._0x33f2e3[_0x326ce8(0x628)](_0x326ce8(0x265))][_0x326ce8(0x561)](_0x246e7f=>_0x246e7f[_0x326ce8(0x970)][_0x326ce8(0x359)]);fileShortcutOrder[activeFileShortcutTabId]=_0x9e46e0,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x519677=_0x3abb87,_0x10dfb4=prompt(_0x519677(0x8ff),_0x519677(0x5bb));_0x10dfb4&&_0x10dfb4[_0x519677(0xda7)]()&&(fileShortcutTabs[_0x519677(0xabd)]({'id':_0x519677(0x6a8)+Date['now'](),'name':_0x10dfb4[_0x519677(0xda7)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x46e04e=_0x3abb87,_0x32cbce=document['getElementById'](_0x46e04e(0xe2c)),_0x466194=document[_0x46e04e(0x753)](_0x46e04e(0x90a)),_0x3f75a4=document[_0x46e04e(0x753)](_0x46e04e(0xc22));if(_0x3f75a4)_0x3f75a4['classList'][_0x46e04e(0xbaf)](_0x46e04e(0x986));if(!_0x32cbce||!_0x466194)return;const _0x4b6bfe=fileShortcuts[_0x46e04e(0x5a7)](0x0,0x4),_0x209fad=fileShortcuts['slice'](0x4);_0x32cbce[_0x46e04e(0xd15)]=_0x4b6bfe[_0x46e04e(0x561)](_0x333668=>{const _0x4ed8e4=_0x46e04e,_0x11ac07=_0x333668['url']&&_0x333668[_0x4ed8e4(0x855)]['trim']()!=='',_0x2a0ae4=selectedFile&&selectedFile['shortcutId']===_0x333668['id'];let _0x499abb='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x14ec98='🔗';if(_0x2a0ae4)_0x499abb=_0x4ed8e4(0x577),_0x14ec98=_0x4ed8e4(0x9b9);else _0x11ac07&&(_0x499abb=_0x4ed8e4(0x76e),_0x14ec98='📄');const _0x117c4a=!_0x333668[_0x4ed8e4(0x871)]?'<button\x20data-id=\x22'+_0x333668['id']+_0x4ed8e4(0x7ee):'';return _0x4ed8e4(0x588)+_0x333668['id']+_0x4ed8e4(0x831)+_0x499abb+_0x4ed8e4(0xe23)+_0x14ec98+_0x4ed8e4(0xbfa)+_0x333668['name']+_0x4ed8e4(0x5db)+_0x333668['id']+_0x4ed8e4(0x399)+_0x117c4a+_0x4ed8e4(0x51e);})[_0x46e04e(0xe0b)](''),_0x209fad[_0x46e04e(0xd2b)]>0x0&&(_0x32cbce['innerHTML']+=_0x46e04e(0x739)),_0x209fad[_0x46e04e(0xd2b)]>0x0?_0x466194[_0x46e04e(0xd15)]=_0x209fad[_0x46e04e(0x561)](_0x5ad601=>_0x46e04e(0x68f)+(_0x5ad601[_0x46e04e(0x855)]?'📄':'🔗')+'\x20'+_0x5ad601[_0x46e04e(0xc71)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5ad601['id']+_0x46e04e(0x947)+_0x5ad601['id']+_0x46e04e(0x61c)+(!_0x5ad601[_0x46e04e(0x871)]?_0x46e04e(0x7e1)+_0x5ad601['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x46e04e(0x939))['join'](''):_0x466194[_0x46e04e(0xd15)]=_0x46e04e(0x78f);}function openFileShortcutEditor(_0x1703d9=null){const _0x14b112=_0x3abb87,_0x3ed744=document[_0x14b112(0x753)]('file-shortcut-editor-modal'),_0x26fd23=document[_0x14b112(0x753)](_0x14b112(0xaed)),_0xfcb444=document[_0x14b112(0x753)](_0x14b112(0x7e8)),_0x14924e=document[_0x14b112(0x753)]('file-shortcut-name-input'),_0x48e9a5=document['getElementById'](_0x14b112(0x909));if(_0x1703d9){const _0x1a94ee=fileShortcuts['find'](_0x3cc303=>_0x3cc303['id']===_0x1703d9);if(!_0x1a94ee)return;_0x26fd23[_0x14b112(0xbde)]='แก้ไขปุ่มลัดจากไฟล์',_0xfcb444[_0x14b112(0x8a6)]=_0x1a94ee['id'],_0x14924e[_0x14b112(0x8a6)]=_0x1a94ee[_0x14b112(0xc71)],_0x48e9a5['value']=_0x1a94ee[_0x14b112(0x855)]||'';}else _0x26fd23[_0x14b112(0xbde)]=_0x14b112(0x807),_0xfcb444[_0x14b112(0x8a6)]='',_0x14924e[_0x14b112(0x8a6)]='',_0x48e9a5[_0x14b112(0x8a6)]='';_0x3ed744[_0x14b112(0x33a)]['remove'](_0x14b112(0x986));}async function saveFileShortcutChanges(){const _0x392694=_0x3abb87,_0x2da05b=document['getElementById'](_0x392694(0x7e8))['value'],_0x1010d0=document[_0x392694(0x753)](_0x392694(0x65a))['value']['trim'](),_0x451416=document[_0x392694(0x753)]('file-shortcut-url-input')[_0x392694(0x8a6)][_0x392694(0xda7)]();if(!_0x1010d0){showMessage(_0x392694(0xc25));return;}const _0x4d7808={'id':_0x2da05b||_0x392694(0xb93)+Date[_0x392694(0xbc4)](),'name':_0x1010d0,'url':_0x451416,'isDefault':_0x2da05b[_0x392694(0x258)](_0x392694(0xa70))};let _0x3e964e;_0x2da05b?_0x3e964e=fileShortcuts[_0x392694(0x561)](_0x46c799=>_0x46c799['id']===_0x2da05b?_0x4d7808:_0x46c799):_0x3e964e=[...fileShortcuts,_0x4d7808];try{const _0x8dcc1b=doc(db,'globalSettings',_0x392694(0xa1f));await setDoc(_0x8dcc1b,{'shortcuts':_0x3e964e},{'merge':!![]}),document[_0x392694(0x753)](_0x392694(0x545))[_0x392694(0x33a)][_0x392694(0xbaf)](_0x392694(0x986));}catch(_0x597c0c){console['error'](_0x392694(0x857),_0x597c0c),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x12b9b3){const _0x4de36f=_0x3abb87,_0x33fd95=fileShortcuts['find'](_0x5058b3=>_0x5058b3['id']===_0x12b9b3);if(!_0x33fd95)return;if(!_0x33fd95[_0x4de36f(0x855)]||_0x33fd95['url']['trim']()===''){openFileShortcutEditor(_0x12b9b3);return;}const _0x50da00=document[_0x4de36f(0xd5b)]('.file-shortcut-btn[data-id=\x22'+_0x12b9b3+'\x22]');if(_0x50da00){const _0x462e4=_0x50da00[_0x4de36f(0xd15)];_0x50da00[_0x4de36f(0xd15)]=_0x4de36f(0x54d),_0x50da00[_0x4de36f(0x5ad)]=!![];}document[_0x4de36f(0x628)](_0x4de36f(0x5c3))[_0x4de36f(0x91b)](_0x332f3f=>{const _0x5d5833=_0x4de36f;if(_0x332f3f['dataset']['id']!==_0x12b9b3)_0x332f3f['classList'][_0x5d5833(0xbaf)](_0x5d5833(0x494),_0x5d5833(0xc5a));});try{const _0xc1ff27=new URL(_0x33fd95['url'])[_0x4de36f(0xd96)],_0x256207=_0xc1ff27[_0x4de36f(0x2db)](_0xc1ff27[_0x4de36f(0x787)]('/')+0x1)||(_0x33fd95[_0x4de36f(0x855)][_0x4de36f(0x842)](_0x4de36f(0xafa))?_0x4de36f(0xcd1):_0x4de36f(0x31b)),_0x531f1d=await fetchFileFromUrl(_0x33fd95['url'],_0x256207);_0x531f1d['shortcutId']=_0x12b9b3,selectedFile=_0x531f1d,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x4de36f(0x753)](_0x4de36f(0x5cb))[_0x4de36f(0xe76)]({'behavior':'smooth','block':_0x4de36f(0x33f)});}catch(_0x4df0a9){console[_0x4de36f(0x28d)](_0x4de36f(0xe24),_0x4df0a9),showMessage(_0x4de36f(0x361)+_0x4df0a9[_0x4de36f(0x9e1)]),renderFileShortcuts();}finally{document[_0x4de36f(0x628)](_0x4de36f(0x5c3))[_0x4de36f(0x91b)](_0x451218=>{const _0x324ad=_0x4de36f;_0x451218[_0x324ad(0x33a)]['remove']('opacity-50',_0x324ad(0xc5a)),_0x451218[_0x324ad(0x5ad)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x43fd91=_0x3abb87;if(allQuizzesGlobal['length']>0x0)return;console['log'](_0x43fd91(0x5ed)),showMessage(_0x43fd91(0xb89));try{const _0x4f9f7c=await getDocs(collection(db,_0x43fd91(0x8da)+appId+_0x43fd91(0xe3e)));allQuizzesGlobal=_0x4f9f7c[_0x43fd91(0x2a7)][_0x43fd91(0x561)](_0x1d0b42=>({'id':_0x1d0b42['id'],..._0x1d0b42['data']()})),console[_0x43fd91(0x4e6)]('Loaded\x20'+allQuizzesGlobal[_0x43fd91(0xd2b)]+_0x43fd91(0xac2)),messageModal[_0x43fd91(0x33a)]['add'](_0x43fd91(0x986));}catch(_0x1dc9c9){console[_0x43fd91(0x28d)](_0x43fd91(0x249),_0x1dc9c9),messageModal['classList'][_0x43fd91(0xbaf)](_0x43fd91(0x986));throw new Error(_0x43fd91(0xe66));}}function exportQuizAsWorksheetPDF(){const _0x3e7db0=_0x3abb87;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x8cd478=currentQuizData,_0x2ae70b=window[_0x3e7db0(0x343)]('','_blank'),_0x51b9a4=_0x1f3435=>String['fromCharCode'](0x41+_0x1f3435),_0x1a31a9=_0x3e7db0(0x995)+_0x8cd478[_0x3e7db0(0x3bb)]+_0x3e7db0(0xb24)+_0x8cd478[_0x3e7db0(0x3bb)]+_0x3e7db0(0x2a5)+_0x8cd478[_0x3e7db0(0x806)][_0x3e7db0(0x561)]((_0x34f436,_0x334991)=>{const _0x16150f=_0x3e7db0;let _0x2954c3='';const _0x502606=_0x34f436[_0x16150f(0x302)]||_0x8cd478[_0x16150f(0x273)];switch(_0x502606){case _0x16150f(0x431):case _0x16150f(0x990):_0x2954c3=_0x16150f(0x4da)+_0x34f436[_0x16150f(0x254)][_0x16150f(0x561)]((_0x288854,_0x492cb6)=>_0x16150f(0x971)+_0x51b9a4(_0x492cb6)+'.\x20'+_0x288854+_0x16150f(0x75e))['join'](_0x16150f(0x979))+_0x16150f(0x634);break;case _0x16150f(0x718):_0x2954c3=_0x16150f(0x70f);break;default:_0x2954c3=_0x16150f(0xe78);break;}return _0x16150f(0xdfc)+(_0x334991+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x34f436[_0x16150f(0x9b7)]||_0x34f436[_0x16150f(0xbdb)])+_0x16150f(0x54a)+(_0x34f436[_0x16150f(0xc35)]?_0x16150f(0x826)+_0x34f436[_0x16150f(0xc35)]+'</div>':'')+_0x16150f(0x3c9)+_0x2954c3+_0x16150f(0xdb3);})['join']('')+_0x3e7db0(0xd01);_0x2ae70b[_0x3e7db0(0x9bc)][_0x3e7db0(0xac3)](_0x1a31a9),_0x2ae70b['document'][_0x3e7db0(0x7e4)](),_0x2ae70b[_0x3e7db0(0x55b)]=function(){setTimeout(()=>{const _0x383322=_0x55d5;_0x2ae70b[_0x383322(0x322)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xdcbda3=_0x3abb87;if(!currentQuizData||!currentQuizData[_0xdcbda3(0x806)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x2c6192=currentQuizData,_0x45d747=window[_0xdcbda3(0x343)]('',_0xdcbda3(0x872)),_0x258575=_0x326e33=>String[_0xdcbda3(0x83c)](0x41+_0x326e33),_0xc4efe2=_0xdcbda3(0xa8c)+_0x2c6192['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c6192['questions'][_0xdcbda3(0x561)]((_0x5a66b9,_0xe83c37)=>{const _0x116cf3=_0xdcbda3;let _0x369fa8='';const _0x3d9940=_0x5a66b9[_0x116cf3(0x302)]||_0x2c6192['quizType'];switch(_0x3d9940){case'multiple_choice':case _0x116cf3(0x990):_0x369fa8=_0x116cf3(0x46a)+_0x5a66b9[_0x116cf3(0x254)][_0x116cf3(0x561)]((_0x5d8889,_0x5661f2)=>_0x116cf3(0x1d1)+_0x258575(_0x5661f2)+'.\x20'+_0x5d8889+'</span>')[_0x116cf3(0xe0b)](_0x116cf3(0x979))+_0x116cf3(0x670);break;case _0x116cf3(0x718):_0x369fa8=_0x116cf3(0xe0f);break;default:_0x369fa8='';break;}return _0x116cf3(0xd53)+_0x2c6192['topic']+_0x116cf3(0x2b4)+(_0xe83c37+0x1)+_0x116cf3(0x2e6)+(_0x5a66b9[_0x116cf3(0x9b7)]||_0x5a66b9[_0x116cf3(0xbdb)])+_0x116cf3(0x54a)+(_0x5a66b9[_0x116cf3(0xc35)]?_0x116cf3(0x3d7)+_0x5a66b9[_0x116cf3(0xc35)]+_0x116cf3(0x634):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x369fa8+_0x116cf3(0xe55);})[_0xdcbda3(0xe0b)]('')+_0xdcbda3(0xbab);_0x45d747['document'][_0xdcbda3(0xac3)](_0xc4efe2),_0x45d747[_0xdcbda3(0x9bc)][_0xdcbda3(0x7e4)](),_0x45d747[_0xdcbda3(0x55b)]=function(){setTimeout(()=>{const _0x27407a=_0x55d5;_0x45d747[_0x27407a(0x322)]();},0x5dc);};}async function handleToggleStarQuiz(_0x4a375a){const _0x110be4=_0x3abb87,_0xd37f46=doc(db,'artifacts/'+appId+_0x110be4(0xe3e),_0x4a375a);try{const _0x401c67=await getDoc(_0xd37f46);if(_0x401c67[_0x110be4(0xc9d)]()){const _0x325de4=_0x401c67[_0x110be4(0x3f4)]()[_0x110be4(0x93a)]||![];await updateDoc(_0xd37f46,{'isStarred':!_0x325de4});}}catch(_0x580046){console['error']('Error\x20toggling\x20star\x20status:',_0x580046),showMessage(_0x110be4(0x6f7));}}async function displayQuestionBank(){const _0x3f81aa=_0x3abb87,_0x56dc17=document[_0x3f81aa(0x753)](_0x3f81aa(0xe5f));_0x56dc17['innerHTML']=_0x3f81aa(0x6df);try{const _0x34ec0a=collection(db,_0x3f81aa(0x8da)+appId+_0x3f81aa(0x35b)+userId+_0x3f81aa(0x820)),_0x1e7c29=query(_0x34ec0a),_0x58b7ae=await getDocs(_0x1e7c29);if(_0x58b7ae[_0x3f81aa(0x38e)]){_0x56dc17[_0x3f81aa(0xd15)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x30b5a2=_0x58b7ae[_0x3f81aa(0x2a7)][_0x3f81aa(0x561)](_0x4b726a=>{const _0x12e264=_0x3f81aa,_0x305259=_0x4b726a['data'](),_0x506b73=_0x4b726a['id'];return _0x12e264(0x766)+JSON[_0x12e264(0x6e6)](_0x305259)+_0x12e264(0x6e8)+(_0x305259[_0x12e264(0xbdb)]||_0x305259[_0x12e264(0x9b7)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x305259[_0x12e264(0x350)]+_0x12e264(0x420);})['join']('');_0x56dc17[_0x3f81aa(0xd15)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x30b5a2+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x3f81aa(0x753)](_0x3f81aa(0x5e3))[_0x3f81aa(0xdd0)](_0x3f81aa(0xaa0),createQuizFromBank);}catch(_0x90bed4){console[_0x3f81aa(0x28d)](_0x3f81aa(0x712),_0x90bed4),_0x56dc17[_0x3f81aa(0xd15)]=_0x3f81aa(0x30d);}}async function handleExportLessonToPDF(){const _0x902eb8=_0x3abb87,_0x62e8d0=document[_0x902eb8(0x753)]('lesson-sections-container'),_0x2e76a2=document[_0x902eb8(0x753)]('lesson-view-title')[_0x902eb8(0xbde)]||_0x902eb8(0x976);if(!_0x62e8d0){showMessage(_0x902eb8(0xa23));return;}const _0x2481b6=window[_0x902eb8(0x343)]('',_0x902eb8(0x872)),_0x1ce284='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x2e76a2+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x2e76a2+_0x902eb8(0xa12)+_0x62e8d0[_0x902eb8(0xd15)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2481b6[_0x902eb8(0x9bc)][_0x902eb8(0xac3)](_0x1ce284),_0x2481b6[_0x902eb8(0x9bc)][_0x902eb8(0x7e4)](),_0x2481b6['onload']=function(){setTimeout(()=>{const _0x15ab2a=_0x55d5;_0x2481b6[_0x15ab2a(0x322)]();},0x7d0);};}function showAdminLiveQuestionView(_0x19c668,_0x8da812,_0x13d760){const _0x24af85=_0x3abb87,_0x537725=_0x19c668[_0x24af85(0x302)]||currentQuizData[_0x24af85(0x273)];let _0x53e4e4='';if(_0x537725==='multiple_choice'||_0x537725===_0x24af85(0x718)){const _0xe61b4f=_0x537725===_0x24af85(0x718)?['ใช่',_0x24af85(0x1d2)]:_0x19c668[_0x24af85(0x254)],_0x224671=_0x537725===_0x24af85(0x718)?_0x19c668[_0x24af85(0x509)]?0x0:0x1:_0x19c668['correctAnswerIndex'];_0x53e4e4=_0xe61b4f[_0x24af85(0x561)]((_0x527cd9,_0x31f4e7)=>_0x24af85(0xdd1)+(_0x31f4e7===_0x224671)+_0x24af85(0xb52)+_0x527cd9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x24af85(0xe0b)]('');}else{if(_0x537725===_0x24af85(0x79a)){const _0x24962e=_0x19c668[_0x24af85(0x798)]||[];_0x53e4e4=_0x24962e[_0x24af85(0x561)](_0x59a3ad=>_0x24af85(0xdd1)+(_0x59a3ad===_0x19c668['correctResponse'])+_0x24af85(0xb52)+_0x59a3ad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x24af85(0xe0b)]('');}}const _0x2cf709=_0x19c668[_0x24af85(0x9b7)]||_0x19c668[_0x24af85(0xbdb)],_0xd1dc3e=_0x24af85(0xa29)+(_0x8da812+0x1)+'\x20/\x20'+_0x13d760+_0x24af85(0xb19)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x2cf709+_0x24af85(0x850)+_0x53e4e4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x24af85(0xd15)]=_0xd1dc3e,window[_0x24af85(0xc12)]&&MathJax['typesetPromise']&&MathJax[_0x24af85(0x98a)]([liveGameView]),document['getElementById'](_0x24af85(0x74b))['addEventListener'](_0x24af85(0xaa0),()=>revealAnswerForAdmin(_0x8da812,_0x13d760)),document[_0x24af85(0x753)](_0x24af85(0xa97))[_0x24af85(0xdd0)](_0x24af85(0xaa0),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0xa271b7=_0x55d5,_0x534fe5=doc(db,_0xa271b7(0x8da)+appId+_0xa271b7(0xc70),currentLiveGameId);await updateDoc(_0x534fe5,{'status':_0xa271b7(0x58a)});});}),document[_0x24af85(0x753)]('manage-players-btn')[_0x24af85(0xdd0)]('click',()=>{const _0x3bcb03=_0x24af85;document[_0x3bcb03(0x753)](_0x3bcb03(0x40b))[_0x3bcb03(0x33a)]['toggle'](_0x3bcb03(0x986));});}function promptForProjectBeforeGenerating(_0x5ce664){const _0x1b9cdf=_0x3abb87,_0x200924=document[_0x1b9cdf(0x753)](_0x1b9cdf(0xdf2)),_0x1e5878=document[_0x1b9cdf(0x753)]('move-quiz-project-select'),_0x49ff91=_0x200924['querySelector']('h3'),_0x30ebba=document[_0x1b9cdf(0x753)](_0x1b9cdf(0xd22)),_0x4a636d=document['getElementById'](_0x1b9cdf(0x782));_0x49ff91[_0x1b9cdf(0xbde)]=_0x1b9cdf(0x3f7),_0x30ebba[_0x1b9cdf(0xbde)]=_0x1b9cdf(0x549),_0x30ebba[_0x1b9cdf(0x5ad)]=!![];allProjects[_0x1b9cdf(0xd2b)]===0x0?_0x1e5878[_0x1b9cdf(0xd15)]=_0x1b9cdf(0x447):(_0x1e5878[_0x1b9cdf(0xd15)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x1b9cdf(0x561)](_0x4faa76=>'<option\x20value=\x22'+_0x4faa76['id']+'\x22>'+_0x4faa76[_0x1b9cdf(0x5f4)]+_0x1b9cdf(0xaa5))[_0x1b9cdf(0xe0b)](''),_0x30ebba[_0x1b9cdf(0x5ad)]=![]);_0x200924[_0x1b9cdf(0x33a)][_0x1b9cdf(0x23a)]('hidden');const _0x230ddf=async()=>{const _0x21ac0b=_0x1b9cdf,_0x332ef1=_0x1e5878[_0x21ac0b(0x8a6)];if(!_0x332ef1){showMessage(_0x21ac0b(0xd17));return;}_0x200924['classList'][_0x21ac0b(0xbaf)](_0x21ac0b(0x986)),await loadProjectDetails(_0x332ef1),showView(_0x21ac0b(0x85f)),handleGenerateQuizFromBlueprintTopic(_0x5ce664),_0x5cde8a();},_0x5cde8a=()=>{const _0x1a7659=_0x1b9cdf;_0x49ff91[_0x1a7659(0xbde)]=_0x1a7659(0x404),_0x30ebba[_0x1a7659(0xbde)]=_0x1a7659(0x3a1),_0x30ebba[_0x1a7659(0x21b)]('click',_0x230ddf),_0x4a636d['removeEventListener'](_0x1a7659(0xaa0),_0x5cde8a),_0x30ebba[_0x1a7659(0xdd0)](_0x1a7659(0xaa0),confirmMoveQuiz);};_0x30ebba['removeEventListener'](_0x1b9cdf(0xaa0),confirmMoveQuiz),_0x30ebba[_0x1b9cdf(0xdd0)](_0x1b9cdf(0xaa0),_0x230ddf),_0x4a636d[_0x1b9cdf(0xdd0)](_0x1b9cdf(0xaa0),_0x5cde8a);}function showStudentLiveQuestionView(_0x2355f8,_0x191f00,_0x3fc378){const _0x4ae305=_0x3abb87,_0x3289fa=_0x2355f8['questionType']||currentQuizData['quizType'];let _0x21fb43='';if(_0x3289fa===_0x4ae305(0x431)||_0x3289fa===_0x4ae305(0x718)){const _0x4cac8b=_0x3289fa===_0x4ae305(0x718)?[_0x4ae305(0x33e),_0x4ae305(0x1d2)]:_0x2355f8[_0x4ae305(0x254)];_0x21fb43=_0x4cac8b[_0x4ae305(0x561)]((_0x235dfe,_0x45bfe5)=>_0x4ae305(0x4f5)+_0x45bfe5+_0x4ae305(0x396)+_0x235dfe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4ae305(0xe0b)]('');}else{if(_0x3289fa===_0x4ae305(0x79a)){const _0x37c2c3=_0x2355f8['allResponses']||[];_0x21fb43=_0x37c2c3['map']((_0x147d7f,_0x265dcb)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x265dcb+_0x4ae305(0x396)+_0x147d7f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4ae305(0xe0b)]('');}else _0x3289fa===_0x4ae305(0xb85)&&(_0x21fb43=_0x4ae305(0x751));}const _0x3cc5c5=_0x2355f8['stem']||_0x2355f8[_0x4ae305(0xbdb)],_0x4387f6=_0x4ae305(0x870)+(_0x191f00+0x1)+_0x4ae305(0x375)+_0x3fc378+_0x4ae305(0x4a3)+_0x3cc5c5+_0x4ae305(0x862)+_0x21fb43+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4ae305(0xd15)]=_0x4387f6;window[_0x4ae305(0xc12)]&&MathJax[_0x4ae305(0x98a)]&&MathJax[_0x4ae305(0x98a)]([liveGameView]);const _0xe4ca81=document['getElementById']('live-submit-short-answer-btn');_0xe4ca81&&_0xe4ca81[_0x4ae305(0xdd0)]('click',()=>{const _0x50900d=_0x4ae305,_0x1425a5=document['getElementById']('live-short-answer-input')[_0x50900d(0x8a6)];handleLiveAnswer(_0x1425a5,_0x2355f8);}),document['getElementById'](_0x4ae305(0x479))[_0x4ae305(0xdd0)](_0x4ae305(0xaa0),_0x44745d=>{const _0x5bbb50=_0x4ae305,_0x39f5e5=_0x44745d['target'][_0x5bbb50(0xdad)]('.live-answer-btn');if(_0x39f5e5){const _0x135248=parseInt(_0x39f5e5[_0x5bbb50(0x970)][_0x5bbb50(0x6b3)]);handleLiveAnswer(_0x135248,_0x2355f8);}});}function listenForBlueprintShortcuts(){const _0x2cde70=_0x3abb87,_0xb446d6=doc(db,_0x2cde70(0x51c),_0x2cde70(0x612));onSnapshot(_0xb446d6,_0x3173c9=>{const _0x4a3d44=_0x2cde70;let _0xaabf74=[],_0xa6d6c3=[],_0x21a882={};if(_0x3173c9['exists']()){const _0x11f746=_0x3173c9['data']();_0xaabf74=_0x11f746[_0x4a3d44(0xc6d)]||[],_0xa6d6c3=_0x11f746[_0x4a3d44(0xb06)]||[],_0x21a882=_0x11f746[_0x4a3d44(0xb90)]||{};}!_0xa6d6c3[_0x4a3d44(0x7f4)](_0x122e02=>_0x122e02['id']===_0x4a3d44(0x5ea))&&_0xa6d6c3[_0x4a3d44(0x684)]({'id':_0x4a3d44(0x5ea),'name':_0x4a3d44(0x213),'isDefault':!![]}),!_0xaabf74[_0x4a3d44(0x7f4)](_0x2592e4=>_0x2592e4['id']===_0x4a3d44(0xd8d))&&_0xaabf74[_0x4a3d44(0x684)]({'id':_0x4a3d44(0xd8d),'name':_0x4a3d44(0x25d),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0xaabf74['find'](_0x449313=>_0x449313['id']===_0x4a3d44(0xa20))&&_0xaabf74[_0x4a3d44(0x684)]({'id':_0x4a3d44(0xa20),'name':_0x4a3d44(0xb32),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0xaabf74,shortcutTabs=_0xa6d6c3,shortcutOrder=_0x21a882,renderBlueprintShortcuts(),!document[_0x4a3d44(0x753)]('additional-shortcuts-modal')['classList'][_0x4a3d44(0x415)](_0x4a3d44(0x986))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x56b1a1=_0x3abb87,_0x577661=document[_0x56b1a1(0x753)]('shortcut-tabs-nav'),_0x3f9f57=document[_0x56b1a1(0x753)]('additional-shortcuts-list');if(!_0x577661||!_0x3f9f57)return;_0x577661[_0x56b1a1(0xd15)]=shortcutTabs['map'](_0xe3382c=>{const _0x117279=_0x56b1a1,_0x15c1ec=_0xe3382c['id']===activeShortcutTabId,_0x47ea16=_0x117279(0x8c5),_0x3d9a43=_0x117279(0x698);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xe3382c['id']+_0x117279(0x68d)+(_0x15c1ec?_0x47ea16:_0x3d9a43)+_0x117279(0x8a4)+_0xe3382c[_0x117279(0xc71)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0xe3382c[_0x117279(0xc71)]+_0x117279(0xdee)+(!_0xe3382c[_0x117279(0x871)]?_0x117279(0x59c)+_0xe3382c['id']+_0x117279(0x80a):'')+_0x117279(0x51e);})['join']('');const _0x211d48=shortcutTabs['find'](_0x5421f7=>_0x5421f7['id']===activeShortcutTabId);let _0x4be8ed=[];if(_0x211d48){if(_0x211d48[_0x56b1a1(0x871)])_0x4be8ed=[...blueprintShortcuts];else{const _0x457074=_0x211d48[_0x56b1a1(0x2ee)]||[];_0x4be8ed=blueprintShortcuts[_0x56b1a1(0x27c)](_0x3ab5a4=>_0x457074[_0x56b1a1(0x842)](_0x3ab5a4['id']));}}const _0x3e3e05=shortcutOrder[activeShortcutTabId]||[];_0x4be8ed[_0x56b1a1(0xb00)]((_0x23293a,_0x46ae48)=>{const _0x1525b0=_0x56b1a1,_0x20be7e=_0x3e3e05['indexOf'](_0x23293a['id']),_0x3b1113=_0x3e3e05[_0x1525b0(0x4c0)](_0x46ae48['id']);if(_0x20be7e===-0x1)return 0x1;if(_0x3b1113===-0x1)return-0x1;return _0x20be7e-_0x3b1113;}),_0x3f9f57[_0x56b1a1(0xd15)]=_0x4be8ed[_0x56b1a1(0xd2b)]>0x0?_0x4be8ed[_0x56b1a1(0x561)](_0x134843=>{const _0x4f74be=_0x56b1a1;let _0x3e050d='🧩';if(_0x134843[_0x4f74be(0xa59)]&&_0x134843[_0x4f74be(0x849)])_0x3e050d='📗';else{if(_0x134843[_0x4f74be(0xa59)])_0x3e050d='📘';}const _0x244deb=shortcutTabs[_0x4f74be(0x27c)](_0x89f0a0=>!_0x89f0a0[_0x4f74be(0x871)]),_0x29a71c=_0x211d48[_0x4f74be(0x871)]&&_0x244deb[_0x4f74be(0xd2b)]>0x0?_0x4f74be(0xd97)+_0x244deb[_0x4f74be(0x561)](_0x2c6721=>_0x4f74be(0x263)+_0x134843['id']+_0x4f74be(0x357)+_0x2c6721['id']+'\x22>'+_0x2c6721['name']+_0x4f74be(0x527))['join']('')+_0x4f74be(0xa64):'';return _0x4f74be(0xbcf)+_0x134843['id']+_0x4f74be(0xd02)+_0x3e050d+'\x20'+_0x134843[_0x4f74be(0xc71)]+_0x4f74be(0x789)+_0x134843['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x134843['id']+_0x4f74be(0x8c0)+(!_0x134843[_0x4f74be(0x871)]?_0x4f74be(0x7e1)+_0x134843['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x211d48[_0x4f74be(0x871)]?_0x4f74be(0x4e1)+_0x134843['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29a71c+_0x4f74be(0xd9d);})[_0x56b1a1(0xe0b)](''):_0x56b1a1(0x48c),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x5ce10b=_0x3abb87;document[_0x5ce10b(0x628)](_0x5ce10b(0x814))['forEach'](_0xac5d1a=>{const _0x141bdf=_0x5ce10b;_0xac5d1a[_0x141bdf(0xdd0)](_0x141bdf(0xaa0),_0x4826c2=>{const _0x35d1b2=_0x141bdf;activeShortcutTabId=_0x4826c2[_0x35d1b2(0x1d3)][_0x35d1b2(0x970)][_0x35d1b2(0x840)],renderAdditionalShortcutsModal();}),_0xac5d1a[_0x141bdf(0xdd0)]('dblclick',_0x1ac118=>{const _0xe1c7bd=_0x141bdf,_0x22fe56=_0x1ac118[_0xe1c7bd(0x1d3)];_0x22fe56[_0xe1c7bd(0xd5b)](_0xe1c7bd(0xa44))['classList'][_0xe1c7bd(0xbaf)](_0xe1c7bd(0x986));const _0x4a1580=_0x22fe56['querySelector'](_0xe1c7bd(0xaf5));_0x4a1580[_0xe1c7bd(0x33a)][_0xe1c7bd(0x23a)](_0xe1c7bd(0x986)),_0x4a1580[_0xe1c7bd(0x9fa)](),_0x4a1580[_0xe1c7bd(0xba7)]();});}),document['querySelectorAll']('.tab-name-input')[_0x5ce10b(0x91b)](_0x15d4df=>{const _0x58520f=_0x5ce10b,_0x1a6908=()=>{const _0x54b0d0=_0x55d5,_0x5ac6bd=_0x15d4df[_0x54b0d0(0xdad)](_0x54b0d0(0x814))['dataset'][_0x54b0d0(0x840)];handleRenameShortcutTab(_0x5ac6bd,_0x15d4df[_0x54b0d0(0x8a6)]);};_0x15d4df[_0x58520f(0xdd0)](_0x58520f(0x46c),_0x1a6908),_0x15d4df[_0x58520f(0xdd0)](_0x58520f(0x893),_0xe0a07e=>{const _0x791f09=_0x58520f;if(_0xe0a07e[_0x791f09(0x735)]===_0x791f09(0xcd2))_0x15d4df[_0x791f09(0x46c)]();});}),document[_0x5ce10b(0x628)](_0x5ce10b(0x2cd))[_0x5ce10b(0x91b)](_0x3ee045=>{const _0x425db4=_0x5ce10b;_0x3ee045[_0x425db4(0xdd0)](_0x425db4(0xaa0),_0x21082d=>handleDeleteShortcutTab(_0x21082d[_0x425db4(0x1d3)][_0x425db4(0x970)][_0x425db4(0x840)]));}),document[_0x5ce10b(0x628)](_0x5ce10b(0xb53))[_0x5ce10b(0x91b)](_0x402e40=>{const _0x3e5162=_0x5ce10b;_0x402e40[_0x3e5162(0xdd0)]('click',_0x2a7541=>{const _0xe23748=_0x3e5162;_0x2a7541[_0xe23748(0x83f)]();const {shortcutId:_0x4fb27d,targetTabId:_0x13e0b3}=_0x2a7541[_0xe23748(0x1d3)][_0xe23748(0x970)];handleMoveShortcutToTab(_0x4fb27d,_0x13e0b3);});}),document[_0x5ce10b(0x628)]('.remove-shortcut-from-tab-btn')[_0x5ce10b(0x91b)](_0x4eb849=>{const _0x4e30af=_0x5ce10b;_0x4eb849['addEventListener'](_0x4e30af(0xaa0),_0x5c7824=>{const _0x54263e=_0x4e30af;handleRemoveShortcutFromTab(_0x5c7824['currentTarget'][_0x54263e(0x970)][_0x54263e(0x359)],activeShortcutTabId);});});const _0x3d77f8=document[_0x5ce10b(0x753)](_0x5ce10b(0xd36));_0x3d77f8[_0x5ce10b(0x628)](_0x5ce10b(0x4d7))[_0x5ce10b(0x91b)](_0x4f98d3=>{const _0x597461=_0x5ce10b;_0x4f98d3[_0x597461(0xdd0)](_0x597461(0xaa0),()=>{const _0x448f34=_0x597461;document[_0x448f34(0x753)](_0x448f34(0x6dc))[_0x448f34(0x33a)][_0x448f34(0xbaf)](_0x448f34(0x986)),handleShortcutClick(_0x4f98d3[_0x448f34(0x970)]['id']);});});let _0x3092d7=null;_0x3d77f8[_0x5ce10b(0xdd0)](_0x5ce10b(0xba6),_0x19bab5=>{const _0x26d8d5=_0x5ce10b;_0x3092d7=_0x19bab5[_0x26d8d5(0x589)]['closest'](_0x26d8d5(0x265)),_0x3092d7&&setTimeout(()=>_0x3092d7[_0x26d8d5(0x33a)][_0x26d8d5(0xbaf)]('opacity-50'),0x0);}),_0x3d77f8[_0x5ce10b(0xdd0)](_0x5ce10b(0x529),()=>{const _0xc25d64=_0x5ce10b;_0x3092d7&&(_0x3092d7[_0xc25d64(0x33a)]['remove']('opacity-50'),_0x3092d7=null);}),_0x3d77f8[_0x5ce10b(0xdd0)]('dragover',_0x434f5b=>{const _0xf42fe=_0x5ce10b;_0x434f5b[_0xf42fe(0x83f)]();const _0x50e481=[..._0x3d77f8[_0xf42fe(0x628)](_0xf42fe(0x26a))]['reduce']((_0x6c070d,_0x301b9d)=>{const _0x170d1e=_0xf42fe,_0x357b96=_0x301b9d['getBoundingClientRect'](),_0x2f8354=_0x434f5b[_0x170d1e(0x484)]-_0x357b96[_0x170d1e(0x79c)]-_0x357b96[_0x170d1e(0xbad)]/0x2;return _0x2f8354<0x0&&_0x2f8354>_0x6c070d[_0x170d1e(0x501)]?{'offset':_0x2f8354,'element':_0x301b9d}:_0x6c070d;},{'offset':Number[_0xf42fe(0x610)]})[_0xf42fe(0x85d)];_0x50e481==null?_0x3d77f8['appendChild'](_0x3092d7):_0x3d77f8[_0xf42fe(0xd0d)](_0x3092d7,_0x50e481);}),_0x3d77f8['addEventListener']('drop',_0x3f81a9=>{const _0x2fda8c=_0x5ce10b;_0x3f81a9[_0x2fda8c(0x83f)]();if(_0x3092d7){const _0x27d72a=[..._0x3d77f8[_0x2fda8c(0x628)](_0x2fda8c(0x265))]['map'](_0xc5a83d=>_0xc5a83d[_0x2fda8c(0x970)][_0x2fda8c(0x359)]);handleShortcutOrderChange(activeShortcutTabId,_0x27d72a);}}),document['querySelectorAll'](_0x5ce10b(0xa6f))[_0x5ce10b(0x91b)](_0x55e293=>{const _0x5a35e9=_0x5ce10b;_0x55e293[_0x5a35e9(0xdd0)]('click',_0x42dafc=>{const _0x164759=_0x5a35e9;_0x42dafc[_0x164759(0x469)]();const _0x3e6019=_0x42dafc['currentTarget'][_0x164759(0x261)],_0x549efc=_0x3e6019[_0x164759(0x33a)]['contains'](_0x164759(0x986));document[_0x164759(0x628)](_0x164759(0x3d2))['forEach'](_0x59d6ce=>_0x59d6ce['classList']['add'](_0x164759(0x986))),_0x549efc&&_0x3e6019[_0x164759(0x33a)][_0x164759(0x23a)]('hidden');});});}document['addEventListener'](_0x3abb87(0xaa0),_0x2c563b=>{const _0x2d4b8b=_0x3abb87;!_0x2c563b['target'][_0x2d4b8b(0xdad)]('.group\x5c/dropdown')&&document['querySelectorAll'](_0x2d4b8b(0x3d2))[_0x2d4b8b(0x91b)](_0x513f04=>_0x513f04['classList'][_0x2d4b8b(0xbaf)](_0x2d4b8b(0x986)));});async function saveShortcutConfig(){const _0x68cd59=_0x3abb87,_0x55ae0b=doc(db,_0x68cd59(0x51c),'dashboardConfig');try{await setDoc(_0x55ae0b,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x2e48b1){console[_0x68cd59(0x28d)](_0x68cd59(0x3b5),_0x2e48b1);}}async function handleAddShortcutTab(){const _0x211f8f=_0x3abb87,_0x5d973b=prompt(_0x211f8f(0x8ff),'แท็บใหม่');if(!_0x5d973b||_0x5d973b[_0x211f8f(0xda7)]()==='')return;shortcutTabs[_0x211f8f(0xabd)]({'id':'tab_'+Date[_0x211f8f(0xbc4)](),'name':_0x5d973b[_0x211f8f(0xda7)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x312834,_0x354d3e){const _0x360f92=_0x3abb87,_0x5c3a53=shortcutTabs[_0x360f92(0x7f4)](_0x51fdfc=>_0x51fdfc['id']===_0x312834);_0x5c3a53&&_0x354d3e['trim']()!==''&&(_0x5c3a53[_0x360f92(0xc71)]=_0x354d3e['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x20951c){const _0x2d1ccc=_0x3abb87,_0x35a00a=shortcutTabs['find'](_0xa43ecd=>_0xa43ecd['id']===_0x20951c);_0x35a00a&&!_0x35a00a[_0x2d1ccc(0x871)]&&showConfirmation(_0x2d1ccc(0x5da)+_0x35a00a[_0x2d1ccc(0xc71)]+_0x2d1ccc(0x4a6),async()=>{const _0x2d761b=_0x2d1ccc;shortcutTabs=shortcutTabs[_0x2d761b(0x27c)](_0x36026f=>_0x36026f['id']!==_0x20951c),delete shortcutOrder[_0x20951c];if(activeShortcutTabId===_0x20951c)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x29f620,_0x5c3088){const _0x5bc785=_0x3abb87,_0xf11f33=shortcutTabs[_0x5bc785(0x7f4)](_0x573a3d=>_0x573a3d['id']===_0x5c3088);_0xf11f33&&!_0xf11f33[_0x5bc785(0x2ee)][_0x5bc785(0x842)](_0x29f620)&&(_0xf11f33['shortcutIds'][_0x5bc785(0xabd)](_0x29f620),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x2d1bf9,_0x1fd1e3){const _0x24c57e=_0x3abb87,_0x214ef7=shortcutTabs[_0x24c57e(0x7f4)](_0x243205=>_0x243205['id']===_0x1fd1e3);_0x214ef7&&!_0x214ef7[_0x24c57e(0x871)]&&(_0x214ef7['shortcutIds']=_0x214ef7['shortcutIds'][_0x24c57e(0x27c)](_0x23c6cb=>_0x23c6cb!==_0x2d1bf9),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x5236d0,_0x30bb79){shortcutOrder[_0x5236d0]=_0x30bb79,await saveShortcutConfig();}function _0x55d5(_0x471ecd,_0x37b756){const _0x4f96dd=_0x4f96();return _0x55d5=function(_0x55d554,_0x5c2cb6){_0x55d554=_0x55d554-0x1d1;let _0x590833=_0x4f96dd[_0x55d554];return _0x590833;},_0x55d5(_0x471ecd,_0x37b756);}function renderBlueprintShortcuts(){const _0x437e48=_0x3abb87,_0xd14be2=document[_0x437e48(0x753)](_0x437e48(0x86d)),_0x3a3192=document[_0x437e48(0x753)](_0x437e48(0xd36)),_0x2da7b9=document[_0x437e48(0x753)]('shortcuts-loading-msg');_0x2da7b9&&_0x2da7b9['classList'][_0x437e48(0xbaf)](_0x437e48(0x986));if(!_0xd14be2||!_0x3a3192)return;const _0x7cff62=blueprintShortcuts[_0x437e48(0x5a7)](0x0,0x4),_0x3ea79d=blueprintShortcuts[_0x437e48(0x5a7)](0x4);_0xd14be2[_0x437e48(0xd15)]=_0x7cff62['map'](_0x2cdf75=>{const _0x39a029=_0x437e48;let _0x1838ad=_0x39a029(0x393),_0x119b5e='🧩';if(_0x2cdf75[_0x39a029(0xa59)]&&_0x2cdf75[_0x39a029(0x849)])_0x1838ad=_0x39a029(0x8d0),_0x119b5e='📗';else _0x2cdf75[_0x39a029(0xa59)]&&(_0x1838ad=_0x39a029(0x76e),_0x119b5e='📘');const _0x3dc020=!_0x2cdf75['isDefault']?'<button\x20data-id=\x22'+_0x2cdf75['id']+_0x39a029(0xb47):'';return _0x39a029(0x588)+_0x2cdf75['id']+_0x39a029(0x1e8)+_0x1838ad+_0x39a029(0x964)+_0x119b5e+'\x20'+_0x2cdf75[_0x39a029(0xc71)]+_0x39a029(0x5d9)+_0x2cdf75['id']+_0x39a029(0x9b5)+_0x3dc020+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x3ea79d[_0x437e48(0xd2b)]>0x0&&(_0xd14be2['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3ea79d[_0x437e48(0xd2b)]>0x0?_0x3a3192[_0x437e48(0xd15)]=_0x3ea79d[_0x437e48(0x561)](_0x3f12dd=>{const _0x5d12b4=_0x437e48;let _0x174d09='🧩';if(_0x3f12dd[_0x5d12b4(0xa59)]&&_0x3f12dd[_0x5d12b4(0x849)])_0x174d09='📗';else _0x3f12dd[_0x5d12b4(0xa59)]&&(_0x174d09='📘');return _0x5d12b4(0x6af)+_0x174d09+'\x20'+_0x3f12dd[_0x5d12b4(0xc71)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3f12dd['id']+_0x5d12b4(0x315)+_0x3f12dd['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3f12dd[_0x5d12b4(0x871)]?'<button\x20data-id=\x22'+_0x3f12dd['id']+_0x5d12b4(0xad5):'')+_0x5d12b4(0xe0a);})[_0x437e48(0xe0b)](''):_0x3a3192['innerHTML']=_0x437e48(0x78f);}function getMimeTypeFromFilename(_0x50bceb){const _0x58086c=_0x3abb87,_0x58b823=_0x50bceb['split']('.')[_0x58086c(0x73c)]()[_0x58086c(0x6d9)]();switch(_0x58b823){case _0x58086c(0x4c8):return _0x58086c(0x352);case _0x58086c(0xc07):return _0x58086c(0x762);default:return _0x58086c(0x352);}}function openShortcutEditor(_0x1ec8eb=null){const _0x5229fb=_0x3abb87,_0x5c43be=document[_0x5229fb(0x753)](_0x5229fb(0xa53)),_0x4af995=document[_0x5229fb(0x753)](_0x5229fb(0x69a)),_0x1ce52c=document[_0x5229fb(0x753)](_0x5229fb(0x900)),_0x551555=document[_0x5229fb(0x753)]('shortcut-name-input'),_0x245fb8=document[_0x5229fb(0x753)]('shortcut-blueprint-url-input'),_0x23a2ea=document[_0x5229fb(0x753)](_0x5229fb(0xd2d));if(_0x1ec8eb){const _0x1a68e7=blueprintShortcuts[_0x5229fb(0x7f4)](_0x8c920c=>_0x8c920c['id']===_0x1ec8eb);if(!_0x1a68e7)return;_0x4af995[_0x5229fb(0xbde)]='แก้ไขปุ่มลัด',_0x1ce52c[_0x5229fb(0x8a6)]=_0x1a68e7['id'],_0x551555[_0x5229fb(0x8a6)]=_0x1a68e7[_0x5229fb(0xc71)],_0x245fb8[_0x5229fb(0x8a6)]=_0x1a68e7['blueprintUrl']||'',_0x23a2ea['value']=_0x1a68e7[_0x5229fb(0x849)]||'';}else _0x4af995[_0x5229fb(0xbde)]=_0x5229fb(0x719),_0x1ce52c[_0x5229fb(0x8a6)]='',_0x551555[_0x5229fb(0x8a6)]='',_0x245fb8[_0x5229fb(0x8a6)]='',_0x23a2ea['value']='';_0x5c43be[_0x5229fb(0x33a)][_0x5229fb(0x23a)](_0x5229fb(0x986));}async function saveShortcutChanges(){const _0x2fb808=_0x3abb87,_0x1e387d=document[_0x2fb808(0x753)](_0x2fb808(0x900))['value'],_0x6bde50=document[_0x2fb808(0x753)](_0x2fb808(0xe0e))[_0x2fb808(0x8a6)]['trim'](),_0x158904=document[_0x2fb808(0x753)](_0x2fb808(0xdfe))[_0x2fb808(0x8a6)][_0x2fb808(0xda7)]();if(!_0x6bde50||!_0x158904){showMessage(_0x2fb808(0xe07));return;}const _0x55c0a1={'id':_0x1e387d||_0x2fb808(0x489)+Date['now'](),'name':_0x6bde50,'blueprintUrl':_0x158904,'referenceUrl':document[_0x2fb808(0x753)](_0x2fb808(0xd2d))[_0x2fb808(0x8a6)][_0x2fb808(0xda7)](),'isDefault':_0x1e387d[_0x2fb808(0x258)]('default-')};let _0x5a72c1;_0x1e387d?_0x5a72c1=blueprintShortcuts[_0x2fb808(0x561)](_0x374752=>_0x374752['id']===_0x1e387d?_0x55c0a1:_0x374752):_0x5a72c1=[...blueprintShortcuts,_0x55c0a1];try{const _0x9d8110=doc(db,_0x2fb808(0x51c),_0x2fb808(0x612));await setDoc(_0x9d8110,{'blueprintShortcuts':_0x5a72c1},{'merge':!![]}),document[_0x2fb808(0x753)]('shortcut-editor-modal')[_0x2fb808(0x33a)]['add'](_0x2fb808(0x986));}catch(_0xf52fe3){console[_0x2fb808(0x28d)]('Error\x20saving\x20shortcut:',_0xf52fe3),showMessage(_0x2fb808(0xbec));}}async function handleShortcutClick(_0xd4508d){const _0x1e82c1=_0x3abb87,_0x4e5637=blueprintShortcuts['find'](_0x520758=>_0x520758['id']===_0xd4508d);if(!_0x4e5637||!_0x4e5637[_0x1e82c1(0xa59)])return;document['getElementById'](_0x1e82c1(0x406))[_0x1e82c1(0x33a)][_0x1e82c1(0xbaf)](_0x1e82c1(0x986)),document[_0x1e82c1(0x753)](_0x1e82c1(0x2b5))[_0x1e82c1(0x5ad)]=!![];const _0x5f3496=document[_0x1e82c1(0x753)]('loader'),_0x55dd82=document['getElementById'](_0x1e82c1(0xa76));document['getElementById'](_0x1e82c1(0x64c))['classList'][_0x1e82c1(0x23a)](_0x1e82c1(0x986)),document[_0x1e82c1(0x753)](_0x1e82c1(0x44a))[_0x1e82c1(0xd15)]='',_0x5f3496[_0x1e82c1(0x33a)][_0x1e82c1(0x23a)]('hidden');try{_0x55dd82[_0x1e82c1(0xbde)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x2918de=await fetchFileFromUrl(_0x4e5637[_0x1e82c1(0xa59)],'blueprint.pdf');let _0x5d1bea=null;if(_0x4e5637['referenceUrl']){_0x55dd82[_0x1e82c1(0xbde)]=_0x1e82c1(0x476);const _0x2069a2=_0x4e5637[_0x1e82c1(0x849)][_0x1e82c1(0x6d9)]()['endsWith'](_0x1e82c1(0xafa))?_0x1e82c1(0x493):_0x1e82c1(0x554);_0x5d1bea=await fetchFileFromUrl(_0x4e5637[_0x1e82c1(0x849)],_0x2069a2);}await handleGenerateFromBlueprintWithFiles(_0x2918de,_0x5d1bea);}catch(_0x480bba){console[_0x1e82c1(0x28d)](_0x1e82c1(0x618),_0x480bba),showMessage(_0x1e82c1(0x339)+_0x480bba['message']),_0x5f3496[_0x1e82c1(0x33a)]['add'](_0x1e82c1(0x986));}}function getDirectDownloadUrl(_0x521f48){const _0x126a4d=_0x3abb87,_0x339cdc=_0x521f48[_0x126a4d(0xbbe)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x339cdc&&_0x339cdc[0x1])return _0x126a4d(0xa81)+_0x339cdc[0x1];return _0x521f48;}async function fetchFileFromUrl(_0x577751,_0x4c234b){const _0x2c8e0c=_0x3abb87,_0x45a8c8=getDirectDownloadUrl(_0x577751),_0x453586=_0x2c8e0c(0xc78)+encodeURIComponent(_0x45a8c8),_0x3db001=await fetch(_0x453586);if(!_0x3db001['ok'])throw new Error(_0x2c8e0c(0x506)+_0x3db001['status']+')');const _0x59aab5=await _0x3db001[_0x2c8e0c(0x2ab)](),_0x56a8f8=await new Promise((_0x21b324,_0xce5c5)=>{const _0x4cebaf=_0x2c8e0c,_0x415433=new FileReader();_0x415433[_0x4cebaf(0x551)]=()=>_0x21b324(new Uint8Array(_0x415433[_0x4cebaf(0xdd8)])),_0x415433[_0x4cebaf(0xe51)]=_0xce5c5,_0x415433['readAsArrayBuffer'](_0x59aab5[_0x4cebaf(0x5a7)](0x0,0x4));});let _0x3465ce='';const _0xd3c281=new TextDecoder()[_0x2c8e0c(0x71e)](_0x56a8f8);return _0xd3c281==='%PDF'?(_0x3465ce=_0x2c8e0c(0x352),console['log'](_0x2c8e0c(0xa78))):(_0x3465ce=_0x2c8e0c(0x762),console[_0x2c8e0c(0x4e6)](_0x2c8e0c(0x75c))),new File([_0x59aab5],_0x4c234b,{'type':_0x3465ce});}async function handleGenerateFromBlueprintWithFiles(_0x5c2b1a,_0x53a7f0=null){const _0x59b2a9=_0x3abb87;if(!_0x5c2b1a){showMessage(_0x59b2a9(0xaee));return;}const _0xbdd947=document[_0x59b2a9(0x753)](_0x59b2a9(0xac0)),_0x2dcf5c=document[_0x59b2a9(0x753)](_0x59b2a9(0xa76));_0xbdd947[_0x59b2a9(0x33a)][_0x59b2a9(0x23a)](_0x59b2a9(0x986)),document[_0x59b2a9(0x753)](_0x59b2a9(0x64c))['classList'][_0x59b2a9(0x23a)](_0x59b2a9(0x986)),document[_0x59b2a9(0x753)](_0x59b2a9(0x44a))[_0x59b2a9(0xd15)]='';try{_0x2dcf5c['textContent']=_0x59b2a9(0x29f);const _0x32e1ef=await new Promise((_0x3d4660,_0x244acb)=>{const _0x2f97f0=_0x59b2a9,_0x5d1873=new FileReader();_0x5d1873[_0x2f97f0(0x314)](_0x5c2b1a),_0x5d1873[_0x2f97f0(0x55b)]=()=>_0x3d4660(_0x5d1873[_0x2f97f0(0xdd8)]['split'](',')[0x1]),_0x5d1873[_0x2f97f0(0xe51)]=_0x244acb;}),_0x3c71d1=[];if(_0x53a7f0){_0x2dcf5c[_0x59b2a9(0xbde)]=_0x59b2a9(0x55a);const _0xdfa213=await _0x53a7f0[_0x59b2a9(0xba9)]();_0x3c71d1['push']({'text':_0x59b2a9(0xa3e)+_0xdfa213});}const _0x2dffd9=[{'text':_0x59b2a9(0x876)},{'inlineData':{'mimeType':_0x5c2b1a[_0x59b2a9(0x2d0)],'data':_0x32e1ef}},..._0x3c71d1];await handleGenerateFromBlueprint(_0x2dffd9);}catch(_0x41c698){console['error'](_0x59b2a9(0x282),_0x41c698),showMessage(_0x59b2a9(0x339)+_0x41c698['message']),_0xbdd947['classList']['add'](_0x59b2a9(0x986));}}async function handleLiveAnswer(_0x41073e,_0x4d0315){const _0x1cd23b=_0x3abb87;document[_0x1cd23b(0x628)](_0x1cd23b(0x727))[_0x1cd23b(0x91b)](_0x5b7d96=>_0x5b7d96['disabled']=!![]);const _0x576d2b=_0x4d0315[_0x1cd23b(0x302)]||currentQuizData[_0x1cd23b(0x273)];let _0x4ed9a1=![],_0x1fe5bf=_0x41073e;if(_0x576d2b===_0x1cd23b(0xb85)){const _0x4c007f=(_0x41073e||'')[_0x1cd23b(0xbd3)]();_0x4ed9a1=await gradeShortAnswer(_0x4c007f,_0x4d0315);}else{if(_0x576d2b===_0x1cd23b(0x431))_0x4ed9a1=_0x41073e===_0x4d0315[_0x1cd23b(0xa07)];else{if(_0x576d2b===_0x1cd23b(0x718)){const _0x10b8d9=_0x4d0315['correctAnswer'];_0x4ed9a1=_0x41073e===0x0&&_0x10b8d9||_0x41073e===0x1&&!_0x10b8d9;}else{if(_0x576d2b===_0x1cd23b(0x79a)){const _0xdfd9f1=_0x4d0315[_0x1cd23b(0x798)][_0x41073e];_0x4ed9a1=_0xdfd9f1===_0x4d0315['correctResponse'],_0x1fe5bf=_0xdfd9f1;}}}}const _0x3e73a2=doc(db,_0x1cd23b(0x8da)+appId+_0x1cd23b(0xc70),currentLiveGameId),_0x2d24ae={};_0x2d24ae[_0x1cd23b(0x784)+currentStudentName+_0x1cd23b(0x49a)]=!![],_0x2d24ae[_0x1cd23b(0x784)+currentStudentName+_0x1cd23b(0x7ad)]=_0x4ed9a1,_0x2d24ae[_0x1cd23b(0x784)+currentStudentName+_0x1cd23b(0x3fc)]=_0x576d2b==='short_answer'||_0x576d2b===_0x1cd23b(0x79a)?null:_0x41073e,_0x2d24ae[_0x1cd23b(0x784)+currentStudentName+'.lastAnswerValue']=_0x1fe5bf,_0x2d24ae['players.'+currentStudentName+'.submittedAt']=serverTimestamp(),_0x2d24ae[_0x1cd23b(0x784)+currentStudentName+_0x1cd23b(0x87c)]=![],await updateDoc(_0x3e73a2,_0x2d24ae),liveGameView[_0x1cd23b(0xd15)]=_0x1cd23b(0x2a1);}function showAdminSummaryView(_0x4583b9,_0x5020c0){const _0x23a40d=_0x3abb87,_0x35a336=Object[_0x23a40d(0xa10)](_0x4583b9[_0x23a40d(0xc17)]||{}),_0x3ff8b0=_0x5020c0[_0x23a40d(0x302)]||currentQuizData[_0x23a40d(0x273)],_0x2899bd=_0x3ff8b0===_0x23a40d(0x718)?[_0x23a40d(0x33e),_0x23a40d(0x1d2)]:_0x5020c0[_0x23a40d(0x254)]||_0x5020c0[_0x23a40d(0x798)]||[],_0x1fccd7={},_0x28f26e=new Array(_0x2899bd['length'])[_0x23a40d(0x23d)](0x0);_0x2899bd['forEach']((_0xee578d,_0x1542dc)=>{_0x1fccd7[_0x1542dc]=[];}),Object[_0x23a40d(0xc8d)](_0x4583b9[_0x23a40d(0xc17)]||{})[_0x23a40d(0x91b)](([_0x4f0cb9,_0x3c44e7])=>{const _0x4d03dd=_0x23a40d;if(_0x3c44e7[_0x4d03dd(0x98e)]===_0x4d03dd(0x351)&&_0x3c44e7[_0x4d03dd(0x76d)]!==undefined){const _0x2c089c=_0x3c44e7['lastAnswerIndex'];_0x1fccd7[_0x2c089c]&&(_0x1fccd7[_0x2c089c]['push'](_0x4f0cb9),_0x28f26e[_0x2c089c]++);}});const _0x599feb=Math[_0x23a40d(0x513)](..._0x28f26e,0x1),_0x33c9c8=_0x23a40d(0xbf1)+(_0x5020c0[_0x23a40d(0x9b7)]||_0x5020c0[_0x23a40d(0xbdb)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28f26e[_0x23a40d(0x561)]((_0x496aad,_0x31f832)=>{const _0x21e139=_0x23a40d,_0x49a64e=_0x1fccd7[_0x31f832][_0x21e139(0xd2b)]>0x0?_0x1fccd7[_0x31f832]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x45cfe5=![];if(_0x3ff8b0===_0x21e139(0x431))_0x45cfe5=_0x31f832===_0x5020c0['correctAnswerIndex'];else{if(_0x3ff8b0===_0x21e139(0x718)){const _0xd26303=_0x5020c0['correctAnswer'];_0x45cfe5=_0xd26303&&_0x31f832===0x0||!_0xd26303&&_0x31f832===0x1;}else _0x3ff8b0===_0x21e139(0x79a)&&(_0x45cfe5=_0x2899bd[_0x31f832]===_0x5020c0[_0x21e139(0x707)]);}const _0x59ccf9=_0x45cfe5?_0x21e139(0x34d):_0x21e139(0xbdd);return _0x21e139(0xba0)+_0x496aad+_0x21e139(0x90d)+_0x59ccf9+_0x21e139(0x255)+_0x31f832+_0x21e139(0xb0c)+_0x2899bd[_0x31f832]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x31f832+_0x21e139(0xa67)+_0x49a64e+_0x21e139(0x558);})[_0x23a40d(0xe0b)]('')+_0x23a40d(0x6cc);liveGameView[_0x23a40d(0xd15)]=_0x33c9c8;if(window[_0x23a40d(0xc12)])MathJax['typesetPromise']();document[_0x23a40d(0x753)](_0x23a40d(0xd76))['addEventListener'](_0x23a40d(0xaa0),async()=>{const _0x51c985=_0x23a40d,_0x3e333d=doc(db,_0x51c985(0x8da)+appId+_0x51c985(0xc70),currentLiveGameId);await updateDoc(_0x3e333d,{'questionStatus':_0x51c985(0xe15)});}),document[_0x23a40d(0x753)](_0x23a40d(0x63e))['addEventListener']('click',()=>{openScratchpad(_0x5020c0,_0x2899bd);});}function showPlayerSummaryView(_0x3adea9,_0x3fc092){const _0x252ebd=_0x3abb87,_0x75b887=Object[_0x252ebd(0xa10)](_0x3adea9['players']||{}),_0x105d36=_0x3adea9['players'][_0x3fc092],_0x50f3c5=_0x75b887[_0x252ebd(0x27c)](_0x41e914=>_0x41e914['status']===_0x252ebd(0x351))[_0x252ebd(0xb00)]((_0xa6e0b5,_0x383534)=>_0x383534[_0x252ebd(0xb3d)]-_0xa6e0b5[_0x252ebd(0xb3d)]),_0x3f8de5=_0x50f3c5[_0x252ebd(0xbda)](_0x533ee0=>_0x533ee0===_0x105d36)+0x1,_0xb597e7=_0x105d36['lastAnswerCorrect']?_0x252ebd(0x383):'ผิด',_0x45a9f8=_0x105d36[_0x252ebd(0x301)]?'bg-green-500':_0x252ebd(0xe7d),_0x5e0b1b=_0x105d36[_0x252ebd(0x66e)]||0x0,_0x4462aa='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x2de0bb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x4462aa+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x45a9f8+_0x252ebd(0xe26)+_0xb597e7+_0x252ebd(0x3b4)+_0x5e0b1b+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x3f8de5>0x0?_0x3f8de5:'-')+_0x252ebd(0xdde);liveGameView[_0x252ebd(0xd15)]=_0x2de0bb;}function createQuizFromBank(){const _0x120a93=_0x3abb87,_0x219d6f=document[_0x120a93(0x628)](_0x120a93(0x66b));if(_0x219d6f[_0x120a93(0xd2b)]===0x0){showMessage(_0x120a93(0x95a));return;}const _0x542c0a=[];_0x219d6f[_0x120a93(0x91b)](_0x3278ca=>{const _0x22390d=_0x120a93;_0x542c0a[_0x22390d(0xabd)](JSON[_0x22390d(0x5b1)](_0x3278ca[_0x22390d(0x8a6)]));});const _0x442b48={'topic':_0x120a93(0x9a1),'questions':_0x542c0a};displayGeneratedQuiz(_0x442b48);}function showAdminLobbyView(_0x57bfb6,_0x315089){const _0x5b274b=_0x3abb87;showView(_0x5b274b(0x35a));const _0x1052b9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x315089+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x57bfb6+_0x5b274b(0x6ab);liveGameView[_0x5b274b(0xd15)]=_0x1052b9,document[_0x5b274b(0x753)]('start-game-btn')['addEventListener'](_0x5b274b(0xaa0),async()=>{const _0x2982e1=_0x5b274b;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x2982e1(0x806)][_0x2982e1(0xd2b)]===0x0){showMessage(_0x2982e1(0x4cb));return;}try{const _0x55ff6d=doc(db,_0x2982e1(0x8da)+appId+_0x2982e1(0xc70),currentLiveGameId);await updateDoc(_0x55ff6d,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4fbb95=currentQuizData[_0x2982e1(0x806)][0x0],_0x269b93=currentQuizData[_0x2982e1(0x806)]['length'];showAdminLiveQuestionView(_0x4fbb95,0x0,_0x269b93);}catch(_0x53bbb8){console[_0x2982e1(0x28d)](_0x2982e1(0x653),_0x53bbb8),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x4904e0=_0x3abb87;if(allQuizzesGlobal[_0x4904e0(0xd2b)]===0x0){const _0x5deed5=await getDocs(collection(db,'artifacts/'+appId+_0x4904e0(0xe3e)));allQuizzesGlobal=_0x5deed5[_0x4904e0(0x2a7)][_0x4904e0(0x561)](_0x51a097=>({'id':_0x51a097['id'],..._0x51a097[_0x4904e0(0x3f4)]()}));}renderQuizBankList(''),document[_0x4904e0(0x753)](_0x4904e0(0x38b))[_0x4904e0(0x33a)][_0x4904e0(0x23a)]('hidden');}function renderQuizBankList(_0x1649ec='',_0x308d26=![]){const _0x4d90ff=_0x3abb87,_0x40b6fa=document[_0x4d90ff(0x753)]('bank-quiz-list'),_0x570a45=_0x1649ec['toLowerCase']()['trim'](),_0xb0a4c1=allQuizzesGlobal[_0x4d90ff(0x561)](_0x2224a8=>({..._0x2224a8,'projectName':allProjects[_0x4d90ff(0x7f4)](_0x34678f=>_0x34678f['id']===_0x2224a8[_0x4d90ff(0x365)])?.[_0x4d90ff(0x5f4)]||'N/A'}))[_0x4d90ff(0x27c)](_0x469a8c=>(_0x469a8c[_0x4d90ff(0x3bb)]||'')[_0x4d90ff(0x6d9)]()[_0x4d90ff(0x842)](_0x570a45)||(_0x469a8c[_0x4d90ff(0x5f4)]||'')['toLowerCase']()[_0x4d90ff(0x842)](_0x570a45)||_0x469a8c['id'][_0x4d90ff(0xbd3)]()[_0x4d90ff(0x842)](_0x570a45));document['getElementById'](_0x4d90ff(0x2f0))[_0x4d90ff(0xbde)]='('+_0xb0a4c1['length']+'\x20ชุด)',_0x40b6fa['innerHTML']=_0xb0a4c1[_0x4d90ff(0xd2b)]?_0xb0a4c1[_0x4d90ff(0x561)](_0xb2aaa8=>{const _0x1c64e0=_0x4d90ff,_0x151c1b=!_0x308d26?_0x1c64e0(0xd7b)+_0xb2aaa8['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xb2aaa8['id']+_0x1c64e0(0x252)+_0xb2aaa8['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xb2aaa8['id']+_0x1c64e0(0x72c)+_0xb2aaa8['id']+_0x1c64e0(0x5ff)+_0xb2aaa8['id']+_0x1c64e0(0xc24)+_0xb2aaa8['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x1c64e0(0xb70)+_0xb2aaa8['id']+_0x1c64e0(0xbfb)+(_0xb2aaa8[_0x1c64e0(0x3bb)]||'(ไม่มีชื่อ)')+_0x1c64e0(0xc7a)+(_0xb2aaa8['questions']?.['length']||0x0)+_0x1c64e0(0x7b9)+_0xb2aaa8[_0x1c64e0(0x5f4)]+_0x1c64e0(0xcb5)+_0xb2aaa8['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x151c1b+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x4d90ff(0xe0b)](''):_0x4d90ff(0x802),!_0x308d26&&(_0x40b6fa[_0x4d90ff(0x628)]('.quiz-bank-item')['forEach'](_0x410f72=>{const _0x4f1845=_0x4d90ff;_0x410f72['addEventListener'](_0x4f1845(0xaa0),()=>{const _0xc8b99a=_0x4f1845,_0x159a79=_0x410f72[_0xc8b99a(0x970)]['id'];document[_0xc8b99a(0x753)]('quiz-bank-modal')['classList'][_0xc8b99a(0xbaf)](_0xc8b99a(0x986)),showQuizDetailView(_0x159a79);});}),_0x40b6fa['querySelectorAll'](_0x4d90ff(0x454))[_0x4d90ff(0x91b)](_0x308da5=>{const _0x1cbfb9=_0x4d90ff;_0x308da5[_0x1cbfb9(0xdd0)](_0x1cbfb9(0xaa0),_0x5ac1d2=>{const _0x568b86=_0x1cbfb9;_0x5ac1d2['stopPropagation']();const _0x43cd77=_0x308da5['dataset']['id'],_0x26e363=allQuizzesGlobal['find'](_0x4ce02c=>_0x4ce02c['id']===_0x43cd77);_0x26e363?(currentQuizData=_0x26e363,document[_0x568b86(0x753)](_0x568b86(0x38b))[_0x568b86(0x33a)]['add'](_0x568b86(0x986)),startAdminTest()):showMessage(_0x568b86(0x397));});}),_0x40b6fa[_0x4d90ff(0x628)](_0x4d90ff(0xae9))[_0x4d90ff(0x91b)](_0xa9c4f8=>{const _0x54a85f=_0x4d90ff;_0xa9c4f8[_0x54a85f(0xdd0)](_0x54a85f(0xaa0),_0x5e2d90=>{const _0x3b71f4=_0x54a85f;_0x5e2d90['stopPropagation']();const _0x1fcd60=_0xa9c4f8[_0x3b71f4(0x970)]['id'],_0x3b6038=allQuizzesGlobal[_0x3b71f4(0x7f4)](_0x1bf684=>_0x1bf684['id']===_0x1fcd60);_0x3b6038?(document['getElementById'](_0x3b71f4(0x38b))[_0x3b71f4(0x33a)][_0x3b71f4(0xbaf)](_0x3b71f4(0x986)),handleGenerateParallelFromBank(_0x3b6038)):showMessage(_0x3b71f4(0x397));});}),_0x40b6fa[_0x4d90ff(0x628)](_0x4d90ff(0x585))['forEach'](_0x2241eb=>{_0x2241eb['addEventListener']('click',_0x58a431=>{const _0x3ef823=_0x55d5;_0x58a431[_0x3ef823(0x469)]();const _0x51b210=_0x2241eb[_0x3ef823(0x970)]['id'],_0x3a1869=allQuizzesGlobal[_0x3ef823(0x7f4)](_0x2498c6=>_0x2498c6['id']===_0x51b210);_0x3a1869?(document[_0x3ef823(0x753)](_0x3ef823(0x38b))[_0x3ef823(0x33a)][_0x3ef823(0xbaf)]('hidden'),startPresentation(_0x3a1869)):showMessage(_0x3ef823(0x397));});}),_0x40b6fa[_0x4d90ff(0x628)](_0x4d90ff(0xdb5))[_0x4d90ff(0x91b)](_0xfbe015=>{const _0x29c32b=_0x4d90ff;_0xfbe015[_0x29c32b(0xdd0)](_0x29c32b(0xaa0),_0xba471f=>{const _0x3511fa=_0x29c32b;_0xba471f[_0x3511fa(0x469)]();const _0x24488b=_0xfbe015[_0x3511fa(0x970)]['id'];document[_0x3511fa(0x753)]('quiz-bank-modal')[_0x3511fa(0x33a)][_0x3511fa(0xbaf)](_0x3511fa(0x986)),handleMoveQuiz(_0x24488b);});}),_0x40b6fa[_0x4d90ff(0x628)]('.quiz-bank-settings-btn')[_0x4d90ff(0x91b)](_0xffef70=>{const _0x181f69=_0x4d90ff;_0xffef70[_0x181f69(0xdd0)](_0x181f69(0xaa0),_0x170ee9=>{const _0x161424=_0x181f69;_0x170ee9[_0x161424(0x469)]();const _0x5e70fe=_0xffef70[_0x161424(0x970)]['id'];document[_0x161424(0x753)](_0x161424(0x38b))[_0x161424(0x33a)][_0x161424(0xbaf)](_0x161424(0x986)),handleQuizSettings(_0x5e70fe);});}),_0x40b6fa[_0x4d90ff(0x628)](_0x4d90ff(0x228))[_0x4d90ff(0x91b)](_0x3c09ee=>{const _0x579d48=_0x4d90ff;_0x3c09ee[_0x579d48(0xdd0)]('click',_0x1e2cca=>{const _0x48b74b=_0x579d48;_0x1e2cca[_0x48b74b(0x469)]();const _0x29f57a=_0x3c09ee[_0x48b74b(0x970)]['id'],_0x370030=_0x3c09ee['dataset']['topic'];showConfirmation(_0x48b74b(0x2f9)+_0x370030+_0x48b74b(0x7f2),()=>handleDeleteQuiz(_0x29f57a));});}));}async function handleCompareResults(_0x37053a,_0x1a4bad){const _0x44d906=_0x3abb87,_0x166dbe=document[_0x44d906(0x753)](_0x44d906(0xe0d)),_0x30b01e=document[_0x44d906(0x753)](_0x44d906(0x56e)),_0x45b254=document['getElementById']('comparison-individual-content');document[_0x44d906(0x753)](_0x44d906(0xb1d))['classList'][_0x44d906(0xbaf)](_0x44d906(0x351)),document[_0x44d906(0x753)](_0x44d906(0x64a))[_0x44d906(0x33a)][_0x44d906(0x23a)](_0x44d906(0x351)),_0x30b01e[_0x44d906(0x33a)][_0x44d906(0x23a)](_0x44d906(0x986)),_0x45b254['classList']['add']('hidden'),_0x30b01e[_0x44d906(0xd15)]=_0x44d906(0x6df),_0x45b254['innerHTML']='',_0x166dbe['classList'][_0x44d906(0x23a)]('hidden');try{const _0x3f061e=doc(db,_0x44d906(0x8da)+appId+'/public/data/quizzes',_0x37053a),_0x599660=await getDoc(_0x3f061e);if(!_0x599660['exists']())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x20883d=_0x599660['data'](),_0x1fdbfe=_0x20883d['questions'][_0x44d906(0xd2b)],_0x27e152=collection(db,_0x44d906(0x8da)+appId+'/public/data/quizzes/'+_0x1a4bad+'/submissions'),_0x34def1=collection(db,_0x44d906(0x8da)+appId+_0x44d906(0x75d)+_0x37053a+_0x44d906(0x4cc)),[_0x54e7a0,_0x4fce40]=await Promise[_0x44d906(0x5ea)]([getDocs(_0x27e152),getDocs(_0x34def1)]),_0x183776=_0x54e7a0['docs'][_0x44d906(0x561)](_0xf42545=>_0xf42545[_0x44d906(0x3f4)]()),_0x28bdfd=_0x4fce40[_0x44d906(0x2a7)][_0x44d906(0x561)](_0x4a4cd8=>_0x4a4cd8[_0x44d906(0x3f4)]()),_0x388191=_0x183776[_0x44d906(0x561)](_0x45e05a=>_0x45e05a[_0x44d906(0xd4f)]),_0x265e92=_0x28bdfd[_0x44d906(0x561)](_0x1a2abf=>_0x1a2abf[_0x44d906(0xd4f)]),_0x4f3b40=calculateMeanAndStdDev(_0x388191),_0x2c30dc=calculateMeanAndStdDev(_0x265e92),_0x13d3c9=_0x4f3b40[_0x44d906(0x362)],_0x57b925=_0x2c30dc['mean'],_0x27b771=_0x57b925-_0x13d3c9;let _0x5b6668=_0x44d906(0x832)+_0x13d3c9[_0x44d906(0xddd)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x57b925['toFixed'](0x2)+_0x44d906(0xc0c)+(_0x27b771>=0x0?_0x44d906(0x4a9):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x27b771>=0x0?_0x44d906(0xe62):'text-red-800')+_0x44d906(0x9e8)+(_0x27b771>=0x0?_0x44d906(0xb13):'text-red-900')+'\x22>'+(_0x27b771>=0x0?'+':'')+_0x27b771[_0x44d906(0xddd)](0x2)+_0x44d906(0x4ca);_0x30b01e[_0x44d906(0xd15)]=_0x5b6668;const _0x4ba228=document['getElementById'](_0x44d906(0x5e6))[_0x44d906(0x289)]('2d');if(chartInstances[_0x44d906(0xb91)])chartInstances[_0x44d906(0xb91)][_0x44d906(0x72f)]();chartInstances[_0x44d906(0xb91)]=new Chart(_0x4ba228,{'type':'bar','data':{'labels':[_0x44d906(0xd03)],'datasets':[{'label':_0x44d906(0x211),'data':[_0x13d3c9],'backgroundColor':_0x44d906(0xcaa)},{'label':_0x44d906(0x9cc),'data':[_0x57b925],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1fdbfe}}}});const _0x44355f=currentProjectData[_0x44d906(0x7d2)]||[],_0x1eb324=_0x44355f[_0x44d906(0x561)](_0x49447d=>{const _0x1c8c2c=_0x44d906,_0x1e38e4=_0x183776[_0x1c8c2c(0x7f4)](_0x465376=>_0x465376[_0x1c8c2c(0x4f9)]===_0x49447d),_0x2edda1=_0x28bdfd[_0x1c8c2c(0x7f4)](_0x4c8006=>_0x4c8006[_0x1c8c2c(0x4f9)]===_0x49447d),_0x2afb1f=_0x1e38e4?_0x1e38e4['latestScore']:null,_0x2352a6=_0x2edda1?_0x2edda1[_0x1c8c2c(0xd4f)]:null,_0x39dd9e=_0x2afb1f!==null&&_0x2352a6!==null?_0x2352a6-_0x2afb1f:null,_0x5e2fe5=_0x2afb1f!==null?calculateZScore(_0x2afb1f,_0x4f3b40['mean'],_0x4f3b40['stdDev']):null,_0x25fff3=_0x2352a6!==null?calculateZScore(_0x2352a6,_0x2c30dc['mean'],_0x2c30dc[_0x1c8c2c(0x967)]):null,_0x58bee2=_0x5e2fe5!==null?calculateTScore(_0x5e2fe5):null,_0x22969f=_0x25fff3!==null?calculateTScore(_0x25fff3):null,_0xf3b538=_0x58bee2!==null&&_0x22969f!==null?_0x22969f-_0x58bee2:null;return{'name':_0x49447d,'preScore':_0x2afb1f,'postScore':_0x2352a6,'gain':_0x39dd9e,'preTScore':_0x58bee2,'postTScore':_0x22969f,'tGain':_0xf3b538};});renderIndividualComparisonTable(_0x1eb324,_0x45b254);}catch(_0x5a9633){console[_0x44d906(0x28d)](_0x44d906(0x3c3),_0x5a9633),_0x30b01e[_0x44d906(0xd15)]=_0x44d906(0x4e4);}}async function saveBlueprintProject(){const _0x36c4b9=_0x3abb87;if(!extractedBlueprintData||!extractedBlueprintData[_0x36c4b9(0xc85)]){showMessage(_0x36c4b9(0x521));return;}const _0x318fda=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x36c4b9(0x8f4));if(!_0x318fda||_0x318fda[_0x36c4b9(0xda7)]()==='')return;const _0xae6dd5={};extractedBlueprintData[_0x36c4b9(0xc85)][_0x36c4b9(0x91b)](_0x2fd2eb=>{const _0x43f2c1=_0x36c4b9;_0x2fd2eb[_0x43f2c1(0xbae)][_0x43f2c1(0x91b)](_0x17ea38=>{const _0x5c7d6e=_0x43f2c1;_0x17ea38[_0x5c7d6e(0x7a2)][_0x5c7d6e(0x91b)](_0x413394=>{const _0x5881df=_0x5c7d6e,_0x207a3a=_0x5881df(0x8e2)+Date['now']()+Math[_0x5881df(0x323)]()[_0x5881df(0xbd3)](0x24)[_0x5881df(0xbf9)](0x2,0x9);_0xae6dd5[_0x207a3a]={'sara':_0x2fd2eb['sara'],'mainTopic':_0x17ea38['topicName'],'subTopic':_0x413394,'status':_0x5881df(0x97d),'lessonContent':null};});});});try{const _0x5aeee2=collection(db,_0x36c4b9(0x8da)+appId+_0x36c4b9(0xd3d));await addDoc(_0x5aeee2,{'projectName':_0x318fda[_0x36c4b9(0xda7)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0xae6dd5,'createdAt':serverTimestamp()}),showMessage(_0x36c4b9(0x791)+_0x318fda[_0x36c4b9(0xda7)]()+'\x22\x20สำเร็จ!'),document[_0x36c4b9(0x753)]('save-blueprint-as-project-btn')[_0x36c4b9(0x33a)][_0x36c4b9(0xbaf)](_0x36c4b9(0x986));}catch(_0x2d9e95){console[_0x36c4b9(0x28d)](_0x36c4b9(0xc16),_0x2d9e95),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x352285=_0x3abb87,_0x2955a4=document[_0x352285(0x753)]('blueprint-projects-modal'),_0x3047f7=document[_0x352285(0x753)](_0x352285(0xc43));_0x3047f7[_0x352285(0xd15)]=_0x352285(0x24c),_0x2955a4[_0x352285(0x33a)][_0x352285(0x23a)](_0x352285(0x986));try{const _0x1c60cc=collection(db,_0x352285(0x8da)+appId+'/public/data/blueprintProjects'),_0x4983b1=await getDocs(_0x1c60cc);if(_0x4983b1[_0x352285(0x38e)]){_0x3047f7['innerHTML']=_0x352285(0x8a8);return;}const _0x583888=_0x4983b1[_0x352285(0x2a7)][_0x352285(0x561)](_0x351085=>({'id':_0x351085['id'],..._0x351085['data']()}));_0x583888[_0x352285(0xb00)]((_0x5ba70f,_0x1c4374)=>_0x5ba70f['projectName'][_0x352285(0xe3a)](_0x1c4374['projectName'],'th')),_0x3047f7['innerHTML']=_0x583888[_0x352285(0x561)](_0x335cb4=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x335cb4['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x335cb4['gradeLevel']+'\x20|\x20'+Object[_0x352285(0xbd6)](_0x335cb4[_0x352285(0x7b1)])[_0x352285(0xd2b)]+_0x352285(0xda5)+_0x335cb4['id']+_0x352285(0x8d6)+_0x335cb4['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x352285(0xe0b)]('');}catch(_0x53375f){console[_0x352285(0x28d)]('Error\x20loading\x20blueprint\x20projects:',_0x53375f),_0x3047f7[_0x352285(0xd15)]=_0x352285(0x353);}}async function displayBlueprintProjectManager(_0x2f2dd4){const _0x24feb2=_0x3abb87;currentBlueprintProjectId=_0x2f2dd4,document[_0x24feb2(0x753)]('blueprint-projects-modal')[_0x24feb2(0x33a)][_0x24feb2(0xbaf)](_0x24feb2(0x986)),showView(_0x24feb2(0x959)),projectDashboardView[_0x24feb2(0x33a)][_0x24feb2(0xbaf)]('hidden');const _0x437631=document['getElementById']('blueprint-project-manager-view');_0x437631[_0x24feb2(0x33a)][_0x24feb2(0x23a)]('hidden'),document[_0x24feb2(0x753)]('bp-topic-list-container')[_0x24feb2(0xd15)]=_0x24feb2(0x6df);try{const _0x22262b=doc(db,_0x24feb2(0x8da)+appId+_0x24feb2(0xd3d),_0x2f2dd4),_0xbc29c6=await getDoc(_0x22262b);if(!_0xbc29c6['exists']())throw new Error(_0x24feb2(0xb6e));const _0x34228b={'id':_0xbc29c6['id'],..._0xbc29c6[_0x24feb2(0x3f4)]()};document[_0x24feb2(0x753)](_0x24feb2(0x1e6))[_0x24feb2(0xbde)]=_0x34228b[_0x24feb2(0x5f4)],document['getElementById'](_0x24feb2(0xac6))[_0x24feb2(0x8a6)]=_0x34228b[_0x24feb2(0x913)]||'',renderBlueprintTopicManager(_0x34228b);}catch(_0x3aab7f){console[_0x24feb2(0x28d)]('Error\x20displaying\x20blueprint\x20project:',_0x3aab7f),showMessage(_0x3aab7f[_0x24feb2(0x9e1)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x216643){const _0x506f13=_0x3abb87,_0x28c242=document[_0x506f13(0x753)](_0x506f13(0x4e7)),_0x422e0b=_0x216643[_0x506f13(0x7b1)]||{};if(Object[_0x506f13(0xbd6)](_0x422e0b)[_0x506f13(0xd2b)]===0x0){_0x28c242[_0x506f13(0xd15)]=_0x506f13(0x3c5);return;}const _0x2971a9=Object[_0x506f13(0xc8d)](_0x422e0b)['map'](([_0x3542da,_0x3c7b5f])=>({'id':_0x3542da,..._0x3c7b5f}))[_0x506f13(0xb00)]((_0x14b291,_0x3eebed)=>(_0x14b291[_0x506f13(0x649)]??Infinity)-(_0x3eebed['order']??Infinity)),_0x114cbb={};_0x2971a9['forEach'](_0x91412a=>{const _0x21b3b4=_0x506f13,{sara:_0xf2f6bc,mainTopic:_0x2e5b4b}=_0x91412a;!_0x114cbb[_0xf2f6bc]&&(_0x114cbb[_0xf2f6bc]={}),!_0x114cbb[_0xf2f6bc][_0x2e5b4b]&&(_0x114cbb[_0xf2f6bc][_0x2e5b4b]=[]),_0x114cbb[_0xf2f6bc][_0x2e5b4b][_0x21b3b4(0xabd)](_0x91412a);});let _0x2fd376='';for(const _0x31f5a3 in _0x114cbb){_0x2fd376+=_0x506f13(0xddf)+_0x31f5a3+_0x506f13(0x70c);for(const _0x1e4694 in _0x114cbb[_0x31f5a3]){_0x2fd376+=_0x506f13(0x6a1)+_0x1e4694+_0x506f13(0x858),_0x114cbb[_0x31f5a3][_0x1e4694][_0x506f13(0x91b)](_0x162d1d=>{const _0xdfa36=_0x506f13,_0x50c264=_0x162d1d['id'],_0x2bc76b=_0x162d1d[_0xdfa36(0x5d7)]||[],_0x296ede=_0x2bc76b[_0xdfa36(0xd2b)]>0x0,_0x380ae7=_0x162d1d[_0xdfa36(0x98e)]===_0xdfa36(0x387);let _0x5cda7a='';_0x296ede?_0x5cda7a=_0xdfa36(0x5ca)+_0x2bc76b['length']+_0xdfa36(0x625):_0x5cda7a='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x380ae7?'bg-green-200\x20text-green-800':_0xdfa36(0x7d6))+'\x22>'+(_0x380ae7?'สร้างแล้ว':_0xdfa36(0x94d))+_0xdfa36(0x487);const _0x10dd05=!_0x380ae7?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0xdaf3a6=!_0x380ae7?_0xdfa36(0x1e3):'';let _0x3e5556=_0x380ae7?_0xdfa36(0x656):_0xdfa36(0x82e);_0x2fd376+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x50c264+_0xdfa36(0xc7e)+_0x162d1d[_0xdfa36(0x572)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cda7a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x10dd05+_0xdfa36(0x776)+_0xdaf3a6+_0xdfa36(0x5c2)+_0x3e5556+_0xdfa36(0x845);}),_0x2fd376+=_0x506f13(0x74d);}_0x2fd376+=_0x506f13(0x634);}_0x28c242[_0x506f13(0xd15)]=_0x2fd376;}async function handleDeepDeleteBlueprintProject(_0x10da29){const _0xe800ee=_0x3abb87,_0x449f3e=doc(db,_0xe800ee(0x8da)+appId+_0xe800ee(0xd3d),_0x10da29),_0x508a6e=await getDoc(_0x449f3e);if(!_0x508a6e['exists']()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x41774f=_0x508a6e[_0xe800ee(0x3f4)]()[_0xe800ee(0x5f4)];showConfirmation(_0xe800ee(0xb5d)+_0x41774f+_0xe800ee(0xd5e),async()=>{const _0x21b2b0=_0xe800ee;showMessage(_0x21b2b0(0x889));try{const _0x44c5f7=writeBatch(db),_0x4c88a1=_0x508a6e['data'](),_0x3aeb70=_0x4c88a1['topics']||{};for(const _0x247ec7 in _0x3aeb70){const _0x57baf0=doc(db,_0x21b2b0(0x8da)+appId+_0x21b2b0(0xd9e)+_0x10da29+_0x21b2b0(0xd8f),_0x247ec7);_0x44c5f7['delete'](_0x57baf0);}const _0x5deade=new Set();for(const _0xd55880 in _0x3aeb70){_0x3aeb70[_0xd55880][_0x21b2b0(0x5d7)]&&_0x3aeb70[_0xd55880]['linkedQuizIds'][_0x21b2b0(0x91b)](_0x45d4d8=>_0x5deade[_0x21b2b0(0xbaf)](_0x45d4d8));}for(const _0xbd133b of _0x5deade){await handleDeleteQuiz(_0xbd133b,![]);}_0x44c5f7[_0x21b2b0(0x6fd)](_0x449f3e),await _0x44c5f7[_0x21b2b0(0x444)](),showMessage(_0x21b2b0(0x8e8)+_0x41774f+_0x21b2b0(0x382)),showBlueprintProjects();}catch(_0x39897c){console[_0x21b2b0(0x28d)](_0x21b2b0(0x35d),_0x39897c),showMessage(_0x21b2b0(0x376));}});}async function openTopicQuizBank(_0x5933ca){const _0x293d7b=_0x3abb87,_0x5d4bff=document[_0x293d7b(0x753)]('topic-quiz-bank-modal'),_0x1ea18c=document[_0x293d7b(0x753)](_0x293d7b(0x6b8)),_0x4c3892=document[_0x293d7b(0x753)](_0x293d7b(0xab3));try{await ensureGlobalQuizzesLoaded();const _0x3a399f=doc(db,_0x293d7b(0x8da)+appId+_0x293d7b(0xd3d),currentBlueprintProjectId),_0x480f18=await getDoc(_0x3a399f);if(!_0x480f18[_0x293d7b(0xc9d)]())return;const _0x342e5a=_0x480f18['data'](),_0x1eee28=_0x342e5a[_0x293d7b(0x7b1)][_0x5933ca];document['getElementById'](_0x293d7b(0xb80))[_0x293d7b(0xbde)]=_0x1eee28[_0x293d7b(0x572)];const _0x2e19a4=_0x1eee28[_0x293d7b(0x5d7)]||[];_0x4c3892[_0x293d7b(0x33a)][_0x293d7b(0x40d)](_0x293d7b(0x986),_0x2e19a4[_0x293d7b(0xd2b)]===0x0),_0x4c3892[_0x293d7b(0x26e)]=()=>handleClearAllLinksForTopic(_0x5933ca);if(_0x2e19a4[_0x293d7b(0xd2b)]===0x0)_0x1ea18c['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x51699c=allQuizzesGlobal[_0x293d7b(0x27c)](_0x56d55d=>_0x2e19a4[_0x293d7b(0x842)](_0x56d55d['id']));_0x1ea18c['innerHTML']=_0x51699c[_0x293d7b(0x561)](_0x3195f9=>_0x293d7b(0xd06)+_0x3195f9['id']+_0x293d7b(0xb4e)+_0x3195f9[_0x293d7b(0x3bb)]+_0x293d7b(0x229)+_0x3195f9['id']+'\x20|\x20'+_0x3195f9[_0x293d7b(0x806)][_0x293d7b(0xd2b)]+_0x293d7b(0x524)+_0x3195f9['id']+_0x293d7b(0xa57)+_0x3195f9['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3195f9['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3195f9['id']+_0x293d7b(0xcb8)+_0x3195f9['id']+_0x293d7b(0xbb8)+_0x3195f9['id']+_0x293d7b(0x346)+_0x5933ca+'\x22\x20data-quiz-id=\x22'+_0x3195f9['id']+_0x293d7b(0x4d6))[_0x293d7b(0xe0b)]('');}document[_0x293d7b(0x753)](_0x293d7b(0xa08))['onclick']=()=>{openQuizSelectorForBlueprint(_0x5933ca);},document[_0x293d7b(0x753)](_0x293d7b(0x92f))['onclick']=()=>_0x5d4bff[_0x293d7b(0x33a)]['add'](_0x293d7b(0x986)),_0x5d4bff[_0x293d7b(0x33a)]['remove'](_0x293d7b(0x986));}catch(_0x3c0d0a){showMessage(_0x3c0d0a[_0x293d7b(0x9e1)]);}}async function openQuizSelectorForBlueprint(_0x4890a5){const _0x194367=_0x3abb87,_0x30852b=document[_0x194367(0x753)](_0x194367(0x38b)),_0x17b25d=document[_0x194367(0x753)](_0x194367(0x67f));_0x17b25d[_0x194367(0x33a)][_0x194367(0xbaf)](_0x194367(0x986)),document[_0x194367(0x753)](_0x194367(0xc05))?.['remove']();const _0x5acc88=document['createElement'](_0x194367(0x442));_0x5acc88['id']=_0x194367(0xc05),_0x5acc88['className']='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x5acc88[_0x194367(0xbde)]=_0x194367(0x78a),_0x5acc88[_0x194367(0x5ad)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x30852b[_0x194367(0x33a)][_0x194367(0x23a)]('hidden'),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x194367(0xdaa))[_0x194367(0x41d)][_0x194367(0x62e)]='none',_0x30852b['querySelector']('.flex.justify-between.items-center')['appendChild'](_0x5acc88);const _0x4b9084=(_0x35084e=![])=>{const _0x2127d5=_0x194367;_0x30852b[_0x2127d5(0x33a)][_0x2127d5(0xbaf)](_0x2127d5(0x986)),document[_0x2127d5(0x753)](_0x2127d5(0xdaa))[_0x2127d5(0x41d)]['display']=_0x2127d5(0x264),_0x5acc88[_0x2127d5(0x23a)](),_0x35084e&&openTopicQuizBank(_0x4890a5);};_0x5acc88['onclick']=async()=>{const _0x51d6fc=_0x194367,_0x155b26=Array[_0x51d6fc(0x944)](document['querySelectorAll'](_0x51d6fc(0x2c2)))['map'](_0x480fcb=>_0x480fcb['value']);if(_0x155b26[_0x51d6fc(0xd2b)]===0x0)return;try{const _0x775f63=doc(db,_0x51d6fc(0x8da)+appId+_0x51d6fc(0xd3d),currentBlueprintProjectId),_0x4855ee=(await getDoc(_0x775f63))[_0x51d6fc(0x3f4)](),_0x2e3f2d=_0x4855ee['topics'][_0x4890a5]['linkedQuizIds']||[],_0x7c361b=[...new Set([..._0x2e3f2d,..._0x155b26])];await updateDoc(_0x775f63,{['topics.'+_0x4890a5+'.linkedQuizIds']:_0x7c361b}),showMessage('เพิ่ม\x20'+_0x155b26[_0x51d6fc(0xd2b)]+_0x51d6fc(0xbcc)),_0x4b9084(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x409e1f){console[_0x51d6fc(0x28d)]('Error\x20linking\x20quizzes:',_0x409e1f);}},document['getElementById'](_0x194367(0x304))['onclick']=()=>_0x4b9084(!![]);}catch(_0x1939b6){showMessage(_0x1939b6[_0x194367(0x9e1)]),_0x17b25d[_0x194367(0x33a)]['remove'](_0x194367(0x986));}}function handleClearLinkedQuiz(_0x479ddb){const _0x5423ef=_0x3abb87;showConfirmation(_0x5423ef(0xcc0),async()=>{const _0x581d67=_0x5423ef;try{const _0x2bd798=doc(db,'artifacts/'+appId+_0x581d67(0xd3d),currentBlueprintProjectId);await updateDoc(_0x2bd798,{[_0x581d67(0x708)+_0x479ddb+'.linkedQuizId']:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2b41f8){console['error'](_0x581d67(0x9dc),_0x2b41f8),showMessage(_0x581d67(0x4f8));}});}async function addTopicToProject(){const _0x3b95d4=_0x3abb87,_0xb5f6f1=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0xb5f6f1||_0xb5f6f1[_0x3b95d4(0xda7)]()==='')return;const _0xd41bc5=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x3b95d4(0x3f1)),_0x1cfc19=prompt(_0x3b95d4(0x761),_0x3b95d4(0xad2)),_0x289225=_0x3b95d4(0x8e2)+Date[_0x3b95d4(0xbc4)]()+Math[_0x3b95d4(0x323)]()[_0x3b95d4(0xbd3)](0x24)[_0x3b95d4(0xbf9)](0x2,0x9),_0x315fab={'sara':_0xd41bc5,'mainTopic':_0x1cfc19,'subTopic':_0xb5f6f1[_0x3b95d4(0xda7)](),'status':_0x3b95d4(0x97d),'lessonContent':null};try{const _0x5ddba5=doc(db,_0x3b95d4(0x8da)+appId+_0x3b95d4(0xd3d),currentBlueprintProjectId);await updateDoc(_0x5ddba5,{[_0x3b95d4(0x708)+_0x289225]:_0x315fab}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5ab62c){console[_0x3b95d4(0x28d)](_0x3b95d4(0xa2a),_0x5ab62c),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x17f044){const _0x450d0e=_0x3abb87,_0x327d08=document['querySelector'](_0x450d0e(0xa09)+_0x17f044+'\x22]'),_0x54c175=_0x327d08[_0x450d0e(0xd5b)](_0x450d0e(0x651)),_0x34e979=_0x54c175[_0x450d0e(0xbde)],_0x47ca53=prompt(_0x450d0e(0x320),_0x34e979);if(!_0x47ca53||_0x47ca53[_0x450d0e(0xda7)]()===''||_0x47ca53[_0x450d0e(0xda7)]()===_0x34e979)return;try{const _0x1d13c6=doc(db,_0x450d0e(0x8da)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1d13c6,{['topics.'+_0x17f044+'.subTopic']:_0x47ca53[_0x450d0e(0xda7)]()}),_0x54c175['textContent']=_0x47ca53[_0x450d0e(0xda7)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x43a748){console[_0x450d0e(0x28d)](_0x450d0e(0x655),_0x43a748),showMessage(_0x450d0e(0x786));}}async function deleteTopicFromProject(_0x309a09){const _0x56ba2=_0x3abb87;if(!confirm(_0x56ba2(0xc0a)))return;try{const _0xabeaee=doc(db,_0x56ba2(0x8da)+appId+_0x56ba2(0xd3d),currentBlueprintProjectId);await updateDoc(_0xabeaee,{[_0x56ba2(0x708)+_0x309a09]:deleteField()}),document[_0x56ba2(0xd5b)](_0x56ba2(0xa09)+_0x309a09+'\x22]')[_0x56ba2(0x23a)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x29ee5c){console['error']('Error\x20deleting\x20topic:',_0x29ee5c),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x40dfa3,_0x45865b,_0x22abd8){handleGenerateAndShowLesson(_0x45865b,_0x22abd8);const _0x503c1e=setInterval(async()=>{const _0x1683b5=_0x55d5,_0x251107=document[_0x1683b5(0x753)](_0x1683b5(0x4d2)),_0x582409=_0x251107['classList'][_0x1683b5(0x415)](_0x1683b5(0x986));if(_0x582409){clearInterval(_0x503c1e);if(currentApplicationData&&currentApplicationData[_0x1683b5(0xd2b)]>0x0){const _0x3aeb0c={'point':document[_0x1683b5(0x753)](_0x1683b5(0x968))[_0x1683b5(0xd15)],'memory':document[_0x1683b5(0x753)]('memoryContent')[_0x1683b5(0xd15)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x1683b5(0x985))[_0x1683b5(0xd15)]};try{const _0x23e1ef=doc(db,_0x1683b5(0x8da)+appId+_0x1683b5(0xd3d),currentBlueprintProjectId),_0x230c24=doc(db,'artifacts/'+appId+_0x1683b5(0xd9e)+currentBlueprintProjectId+_0x1683b5(0xd8f),_0x40dfa3),_0x3efc2e=writeBatch(db);_0x3efc2e[_0x1683b5(0x8ae)](_0x230c24,{'content':_0x3aeb0c}),_0x3efc2e['update'](_0x23e1ef,{[_0x1683b5(0x708)+_0x40dfa3+'.status']:_0x1683b5(0x387)}),await _0x3efc2e[_0x1683b5(0x444)](),console[_0x1683b5(0x4e6)](_0x1683b5(0x7fe)+_0x40dfa3+_0x1683b5(0xda0)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1070c8){console[_0x1683b5(0x28d)](_0x1683b5(0xb49),_0x1070c8);}}}},0x3e8);}function displayHalfMarkResult(_0x152a3e,_0x219694){const _0x3d695e=_0x3abb87,_0x200edc=_0x152a3e>=_0x219694/0x2,_0x4809c4=_0x200edc?_0x3d695e(0xba8):'bg-red-100',_0x1ac999=_0x200edc?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x3d695e(0x8f0),_0x18a4ea=_0x200edc?_0x3d695e(0x32b):_0x3d695e(0x7d9),_0x19d31d=_0x200edc?_0x3d695e(0x432):_0x3d695e(0x241),_0x140046=_0x200edc?_0x3d695e(0xd95):_0x3d695e(0xab6);let _0x5891bc=_0x3d695e(0x773)+_0x4809c4+_0x3d695e(0x8ed)+_0x1ac999+_0x3d695e(0x299)+_0x18a4ea+'\x20mb-2\x22>'+_0x19d31d+_0x3d695e(0xb65)+_0x140046+_0x3d695e(0x80c);studentResultArea[_0x3d695e(0xd15)]=_0x5891bc,studentResultArea[_0x3d695e(0x33a)][_0x3d695e(0x23a)](_0x3d695e(0x986)),studentQuizArea['classList']['add'](_0x3d695e(0x986)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x200edc});}function displayPerfectScoreResult(_0x409704,_0x4a842d){const _0x4455bf=_0x3abb87,_0x17ce22=_0x409704===_0x4a842d,_0x189963=_0x17ce22?_0x4455bf(0x3fe):_0x4455bf(0x5e4),_0x53b81a=_0x17ce22?_0x4455bf(0x81f):_0x4455bf(0x899),_0x552ac3=_0x17ce22?_0x4455bf(0x3af):_0x4455bf(0x694),_0x344c77=_0x17ce22?'คะแนนเต็ม!':'ยังไม่เต็มนะ',_0x2e7553=_0x17ce22?_0x4455bf(0x9ec):_0x4455bf(0x520);let _0x1a2b54='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x189963+_0x4455bf(0x8ed)+_0x53b81a+_0x4455bf(0x299)+_0x552ac3+_0x4455bf(0xc47)+_0x344c77+_0x4455bf(0xb65)+_0x2e7553+_0x4455bf(0x80c);studentResultArea[_0x4455bf(0xd15)]=_0x1a2b54,studentResultArea[_0x4455bf(0x33a)][_0x4455bf(0x23a)]('hidden'),studentQuizArea[_0x4455bf(0x33a)][_0x4455bf(0xbaf)](_0x4455bf(0x986)),setupResultScreenBackButton({'showRankings':![],'score':_0x409704,'totalQuestions':_0x4a842d});}function renderIndividualComparisonTable(_0x57bd38,_0x1117db){const _0x146ec4=_0x3abb87;_0x57bd38[_0x146ec4(0xb00)]((_0x41ee7f,_0x413d8d)=>(_0x413d8d['tGain']??-Infinity)-(_0x41ee7f[_0x146ec4(0x340)]??-Infinity));let _0x4b8937=_0x146ec4(0x626);_0x57bd38[_0x146ec4(0xd2b)]===0x0?_0x4b8937+=_0x146ec4(0x3db):_0x57bd38[_0x146ec4(0x91b)]((_0x545839,_0x365f24)=>{const _0x122a5e=_0x146ec4;let _0xd9cac3='-',_0x44fffc='';if(_0x545839[_0x122a5e(0xc8e)]!==null){const _0x9e8131=_0x545839[_0x122a5e(0xc8e)]>0x0?'text-green-600':_0x545839[_0x122a5e(0xc8e)]<0x0?_0x122a5e(0x395):_0x122a5e(0x284),_0x45a8df=_0x545839[_0x122a5e(0xc8e)]>0x0?'+':'';_0xd9cac3=_0x122a5e(0x8c3)+_0x9e8131+'\x22>'+_0x45a8df+_0x545839['gain']+_0x122a5e(0x487);if(_0x545839[_0x122a5e(0xc8e)]>0x0)_0x44fffc=_0x122a5e(0x930);else _0x545839['gain']<0x0?_0x44fffc=_0x122a5e(0xe68):_0x44fffc=_0x122a5e(0x27a);}let _0x5cbc8c='-';if(_0x545839[_0x122a5e(0x340)]!==null){const _0x456900=_0x545839[_0x122a5e(0x340)]>0x0?_0x122a5e(0xb0a):_0x545839[_0x122a5e(0x340)]<0x0?'text-red-600':_0x122a5e(0x284),_0x1f14b6=_0x545839[_0x122a5e(0x340)]>0x0?'+':'';_0x5cbc8c=_0x122a5e(0x8c3)+_0x456900+'\x22>'+_0x1f14b6+_0x545839[_0x122a5e(0x340)]['toFixed'](0x2)+_0x122a5e(0x487);}_0x4b8937+=_0x122a5e(0xc57)+(_0x365f24+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x545839['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x545839[_0x122a5e(0xd29)]??'-')+_0x122a5e(0xb97)+(_0x545839['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0xd9cac3+_0x122a5e(0xcfb)+_0x44fffc+_0x122a5e(0x996)+(_0x545839[_0x122a5e(0x4bc)]?.['toFixed'](0x2)??'-')+_0x122a5e(0x7e9)+(_0x545839['postTScore']?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x5cbc8c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4b8937+='</tbody></table></div>',_0x1117db[_0x146ec4(0xd15)]=_0x4b8937;}function handleRenameQuiz(_0x1621e4,_0x35bdf5){const _0x5b361d=_0x3abb87;actionTargetId=_0x1621e4,document[_0x5b361d(0x753)]('rename-quiz-input')[_0x5b361d(0x8a6)]=_0x35bdf5,renameQuizModal[_0x5b361d(0x33a)][_0x5b361d(0x23a)](_0x5b361d(0x986));}function setupComparisonModalTabs(){const _0xc13de2=_0x3abb87,_0x187a79=document[_0xc13de2(0x753)](_0xc13de2(0xb1d)),_0x5a0f89=document[_0xc13de2(0x753)](_0xc13de2(0x64a)),_0x14ee8f=document[_0xc13de2(0x753)](_0xc13de2(0x56e)),_0x3b403a=document[_0xc13de2(0x753)](_0xc13de2(0x244));_0x187a79[_0xc13de2(0xdd0)](_0xc13de2(0xaa0),()=>{const _0x2f464e=_0xc13de2;_0x187a79[_0x2f464e(0x33a)][_0x2f464e(0xbaf)](_0x2f464e(0x351)),_0x5a0f89[_0x2f464e(0x33a)][_0x2f464e(0x23a)](_0x2f464e(0x351)),_0x14ee8f['classList'][_0x2f464e(0x23a)](_0x2f464e(0x986)),_0x3b403a[_0x2f464e(0x33a)][_0x2f464e(0xbaf)](_0x2f464e(0x986));}),_0x5a0f89['addEventListener'](_0xc13de2(0xaa0),()=>{const _0x4a2bdc=_0xc13de2;_0x5a0f89['classList'][_0x4a2bdc(0xbaf)](_0x4a2bdc(0x351)),_0x187a79['classList'][_0x4a2bdc(0x23a)]('active'),_0x3b403a[_0x4a2bdc(0x33a)][_0x4a2bdc(0x23a)](_0x4a2bdc(0x986)),_0x14ee8f[_0x4a2bdc(0x33a)][_0x4a2bdc(0xbaf)](_0x4a2bdc(0x986));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x37bdd8=_0x3abb87;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x13f57e=doc(db,_0x37bdd8(0x8da)+appId+_0x37bdd8(0xc70),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x13f57e,_0x449bda=>{const _0x4d4c4f=_0x37bdd8;if(!_0x449bda[_0x4d4c4f(0xc9d)]()){showMessage(_0x4d4c4f(0x3d1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4d4c4f(0xdcc)?showView(_0x4d4c4f(0x85f)):showView(_0x4d4c4f(0xbf8));return;}const _0x5e803a=_0x449bda[_0x4d4c4f(0x3f4)]();_0x5e803a[_0x4d4c4f(0xbd7)]&&(currentQuizData=_0x5e803a[_0x4d4c4f(0xbd7)]);!currentQuizData&&_0x5e803a['quizId']&&((async()=>{const _0x3b1b32=_0x4d4c4f;try{const _0x649086=doc(db,_0x3b1b32(0x8da)+appId+_0x3b1b32(0xe3e),_0x5e803a[_0x3b1b32(0x44b)]),_0x54950a=await getDoc(_0x649086);_0x54950a[_0x3b1b32(0xc9d)]()&&(currentQuizData={'id':_0x54950a['id'],..._0x54950a[_0x3b1b32(0x3f4)]()});}catch(_0xe3bcbd){console[_0x3b1b32(0x28d)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0xe3bcbd);}})());switch(_0x5e803a[_0x4d4c4f(0x98e)]){case _0x4d4c4f(0x973):if(currentMode===_0x4d4c4f(0xdcc)){const _0x2609b9=_0x5e803a[_0x4d4c4f(0xc17)]?Object[_0x4d4c4f(0xc8d)](_0x5e803a[_0x4d4c4f(0xc17)]):[],_0x4a76a3=_0x2609b9['filter'](([_0x17ddcc,_0x208305])=>_0x208305['status']===_0x4d4c4f(0x351)),_0x78bbcb=document['getElementById']('player-count');if(_0x78bbcb)_0x78bbcb[_0x4d4c4f(0xbde)]=_0x4a76a3['length'];const _0x4fe53a=document['getElementById']('player-list-lobby');_0x4fe53a&&(_0x4fe53a[_0x4d4c4f(0xd15)]=_0x4a76a3['map'](([_0x401311,_0x3775c6])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x401311+_0x4d4c4f(0x92e)+_0x401311+_0x4d4c4f(0x5c9))[_0x4d4c4f(0xe0b)](''));const _0x1f310f=document[_0x4d4c4f(0x753)](_0x4d4c4f(0x6c4));_0x1f310f&&(_0x1f310f['disabled']=_0x4a76a3['length']===0x0);}else showView(_0x4d4c4f(0x35a)),liveGameView[_0x4d4c4f(0xd15)]=_0x4d4c4f(0x83b)+currentStudentName+_0x4d4c4f(0xdc3);break;case'question':const _0x7f387c=_0x5e803a['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x4d4c4f(0x806)][_0x7f387c]){const _0x20cd2e=currentQuizData['questions'][_0x7f387c],_0x5049d4=_0x5e803a[_0x4d4c4f(0xc53)]||'answering';switch(_0x5049d4){case _0x4d4c4f(0xd70):currentMode==='admin'?showAdminSummaryView(_0x5e803a,_0x20cd2e):showPlayerSummaryView(_0x5e803a,currentStudentName);break;case _0x4d4c4f(0xe15):currentMode==='admin'&&showTop5LeaderboardView(_0x5e803a);break;case _0x4d4c4f(0x44c):default:if(currentMode==='admin'){const _0x1f15c2=writeBatch(db);let _0x5d5b86=![];Object[_0x4d4c4f(0xc8d)](_0x5e803a['players'])[_0x4d4c4f(0x91b)](([_0x52ad0a,_0xb8e1c2])=>{const _0x352736=_0x4d4c4f;if(_0xb8e1c2['status']===_0x352736(0x351)&&_0xb8e1c2['submittedAt']&&!_0xb8e1c2[_0x352736(0x422)]){_0x5d5b86=!![];const _0x1f4b2b=_0xb8e1c2[_0x352736(0x9bb)]['toDate']()-_0x5e803a[_0x352736(0x34a)][_0x352736(0x906)]();let _0x125281=0x0;if(_0xb8e1c2['lastAnswerCorrect']){const _0x50cefd=0x3e8,_0x5ca7db=0x1f4,_0x18575d=0x4e20;let _0x4829ec=_0x1f4b2b/_0x18575d;if(_0x4829ec>0x1)_0x4829ec=0x1;const _0x411532=Math['round'](_0x4829ec*_0x5ca7db);_0x125281=_0x50cefd-_0x411532;}const _0xc9065a=doc(db,_0x352736(0x8da)+appId+'/public/data/liveGames',currentLiveGameId);_0x1f15c2[_0x352736(0x6f2)](_0xc9065a,{[_0x352736(0x784)+_0x52ad0a+_0x352736(0x6f8)]:increment(_0x125281),['players.'+_0x52ad0a+_0x352736(0x4ff)]:_0x125281,[_0x352736(0x784)+_0x52ad0a+_0x352736(0x87c)]:!![]});}});_0x5d5b86&&_0x1f15c2['commit']()[_0x4d4c4f(0xab8)](_0x3d3612=>console[_0x4d4c4f(0x28d)](_0x4d4c4f(0x33b),_0x3d3612));lastRenderedAdminQuestionIndex!==_0x7f387c&&(showAdminLiveQuestionView(_0x20cd2e,_0x7f387c,currentQuizData['questions'][_0x4d4c4f(0xd2b)]),lastRenderedAdminQuestionIndex=_0x7f387c);const _0x4ecb47=_0x5e803a['players']||{},_0x57545d=Object[_0x4d4c4f(0xa10)](_0x4ecb47)[_0x4d4c4f(0x27c)](_0x243370=>_0x243370[_0x4d4c4f(0x98e)]===_0x4d4c4f(0x351)),_0x2b1b47=_0x57545d[_0x4d4c4f(0xd2b)],_0xc7a2a9=_0x57545d[_0x4d4c4f(0x27c)](_0x34a2e9=>_0x34a2e9[_0x4d4c4f(0x2af)]===!![])[_0x4d4c4f(0xd2b)],_0x1bb79c=document[_0x4d4c4f(0x753)](_0x4d4c4f(0x757));if(_0x1bb79c)_0x1bb79c['textContent']=_0xc7a2a9+'/'+_0x2b1b47;const _0x5c9c15=document[_0x4d4c4f(0x753)](_0x4d4c4f(0xe52));if(_0x5c9c15){let _0x2d52f9=Object[_0x4d4c4f(0xc8d)](_0x4ecb47)[_0x4d4c4f(0x27c)](([_0x4b0418,_0x59b6f5])=>_0x59b6f5['status']===_0x4d4c4f(0x351))['map'](([_0x23f809,_0x126ef2])=>{const _0xe439e=_0x4d4c4f,_0x33f129=_0x126ef2[_0xe439e(0x2af)]===!![],_0x2d2c46=_0x33f129?_0xe439e(0x7ae):_0xe439e(0xc9a),_0xd330d8=_0x33f129?_0xe439e(0x9b9):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0xe439e(0x7ac)+_0x2d2c46+_0xe439e(0x8b3)+_0xd330d8+_0xe439e(0xaf1)+_0x23f809+_0xe439e(0x235)+_0x23f809+_0xe439e(0xde0);})[_0x4d4c4f(0xe0b)]('');_0x5c9c15[_0x4d4c4f(0xd15)]=_0x2d52f9||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x2b1b47>0x0&&_0xc7a2a9===_0x2b1b47&&revealAnswerForAdmin(_0x7f387c,currentQuizData[_0x4d4c4f(0x806)]['length']);}else{const _0x1a2aac=_0x5e803a['players'][currentStudentName];_0x1a2aac&&!_0x1a2aac[_0x4d4c4f(0x2af)]&&showStudentLiveQuestionView(_0x20cd2e,_0x7f387c,currentQuizData[_0x4d4c4f(0x806)][_0x4d4c4f(0xd2b)]);}break;}}break;case _0x4d4c4f(0x58a):showPodiumView(_0x5e803a[_0x4d4c4f(0xc17)],_0x4d4c4f(0xc3f));break;}});}async function openGlobalActivityModal(){const _0x3fc28b=_0x3abb87;if(allQuizzesGlobal[_0x3fc28b(0xd2b)]===0x0){const _0x41c5dc=await getDocs(collection(db,_0x3fc28b(0x8da)+appId+_0x3fc28b(0xe3e)));allQuizzesGlobal=_0x41c5dc[_0x3fc28b(0x2a7)]['map'](_0x51738f=>({'id':_0x51738f['id'],..._0x51738f[_0x3fc28b(0x3f4)]()}));}renderGlobalActivityList(''),document[_0x3fc28b(0x753)](_0x3fc28b(0x950))[_0x3fc28b(0x33a)][_0x3fc28b(0x23a)](_0x3fc28b(0x986));}function renderGlobalActivityList(_0x25f490=''){const _0x2b428c=_0x3abb87,_0x1078b7=document[_0x2b428c(0x753)]('global-activity-quiz-list'),_0x34f6f7=_0x25f490[_0x2b428c(0x6d9)]()[_0x2b428c(0xda7)](),_0x1bfdd0=allQuizzesGlobal['map'](_0x2e1ec9=>({..._0x2e1ec9,'projectName':allProjects[_0x2b428c(0x7f4)](_0x585b11=>_0x585b11['id']===_0x2e1ec9[_0x2b428c(0x365)])?.[_0x2b428c(0x5f4)]||'N/A'}))[_0x2b428c(0x27c)](_0x28f627=>(_0x28f627[_0x2b428c(0x3bb)]||'')[_0x2b428c(0x6d9)]()[_0x2b428c(0x842)](_0x34f6f7)||(_0x28f627[_0x2b428c(0x5f4)]||'')[_0x2b428c(0x6d9)]()[_0x2b428c(0x842)](_0x34f6f7));document[_0x2b428c(0x753)]('global-quiz-count')[_0x2b428c(0xbde)]='('+_0x1bfdd0[_0x2b428c(0xd2b)]+_0x2b428c(0xda1),_0x1078b7[_0x2b428c(0xd15)]=_0x1bfdd0[_0x2b428c(0xd2b)]?_0x1bfdd0[_0x2b428c(0x561)](_0x39588d=>_0x2b428c(0xb12)+(_0x39588d['topic']||_0x2b428c(0x6b1))+_0x2b428c(0x67b)+(_0x39588d[_0x2b428c(0x806)]?.[_0x2b428c(0xd2b)]||0x0)+_0x2b428c(0x7a9)+_0x39588d[_0x2b428c(0x5f4)]+_0x2b428c(0xd4c)+_0x39588d['id']+_0x2b428c(0x460)+_0x39588d['id']+_0x2b428c(0xa00)+_0x39588d['id']+_0x2b428c(0xab1)+_0x39588d['id']+_0x2b428c(0xe37))[_0x2b428c(0xe0b)](''):_0x2b428c(0x802);}async function handleKickPlayer(_0x4813a3){const _0x390cd1=_0x3abb87;if(!currentLiveGameId||!_0x4813a3)return;const _0x20c537=doc(db,_0x390cd1(0x8da)+appId+_0x390cd1(0xc70),currentLiveGameId),_0x13127f={};_0x13127f[_0x390cd1(0x784)+_0x4813a3+_0x390cd1(0x2bf)]=_0x390cd1(0x42f);try{await updateDoc(_0x20c537,_0x13127f);}catch(_0x21295c){console[_0x390cd1(0x28d)](_0x390cd1(0x3e0)+_0x4813a3+':',_0x21295c),showMessage(_0x390cd1(0xc3c));}}async function authenticateUser(){const _0x4de288=_0x3abb87;try{typeof __initial_auth_token!==_0x4de288(0x703)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x188851){console[_0x4de288(0x28d)](_0x4de288(0x7ab),_0x188851),showMessage(_0x4de288(0x5d4));}}function showView(_0x2e1910){const _0xc2b0ba=_0x3abb87;adminView[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)](_0xc2b0ba(0x986)),studentView[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)](_0xc2b0ba(0x986)),projectDashboardView[_0xc2b0ba(0x33a)]['add'](_0xc2b0ba(0x986)),projectDetailView[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)](_0xc2b0ba(0x986)),quizResultsView[_0xc2b0ba(0x33a)]['add'](_0xc2b0ba(0x986)),liveGameView[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)](_0xc2b0ba(0x986)),document[_0xc2b0ba(0x753)](_0xc2b0ba(0xadd))[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)](_0xc2b0ba(0x986)),studentInitialView[_0xc2b0ba(0x33a)]['add'](_0xc2b0ba(0x986)),studentJoinGameView[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)]('hidden'),studentNameSelectionView[_0xc2b0ba(0x33a)]['add']('hidden'),studentQuizArea[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)]('hidden'),studentResultArea[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)](_0xc2b0ba(0x986)),studentReadingArea[_0xc2b0ba(0x33a)][_0xc2b0ba(0xbaf)](_0xc2b0ba(0x986));const _0x5b6ab0=document[_0xc2b0ba(0x753)](_0xc2b0ba(0xcc7)),_0x131fd1=document[_0xc2b0ba(0x753)](_0xc2b0ba(0x9ad));if(_0x5b6ab0)_0x5b6ab0[_0xc2b0ba(0x33a)]['add'](_0xc2b0ba(0x986));if(_0x131fd1)_0x131fd1['classList'][_0xc2b0ba(0xbaf)](_0xc2b0ba(0x986));switch(_0x2e1910){case _0xc2b0ba(0x959):adminView[_0xc2b0ba(0x33a)][_0xc2b0ba(0x23a)](_0xc2b0ba(0x986)),projectDashboardView['classList']['remove'](_0xc2b0ba(0x986));break;case _0xc2b0ba(0x85f):adminView['classList'][_0xc2b0ba(0x23a)](_0xc2b0ba(0x986)),projectDetailView[_0xc2b0ba(0x33a)][_0xc2b0ba(0x23a)]('hidden');break;case _0xc2b0ba(0x522):adminView['classList']['remove'](_0xc2b0ba(0x986)),quizResultsView['classList'][_0xc2b0ba(0x23a)](_0xc2b0ba(0x986));break;case _0xc2b0ba(0xbf8):studentView[_0xc2b0ba(0x33a)]['remove'](_0xc2b0ba(0x986)),studentInitialView['classList'][_0xc2b0ba(0x23a)]('hidden');break;case _0xc2b0ba(0x35a):liveGameView[_0xc2b0ba(0x33a)]['remove'](_0xc2b0ba(0x986));break;case _0xc2b0ba(0x825):studentView[_0xc2b0ba(0x33a)][_0xc2b0ba(0x23a)](_0xc2b0ba(0x986));if(_0x5b6ab0)_0x5b6ab0[_0xc2b0ba(0x33a)][_0xc2b0ba(0x23a)](_0xc2b0ba(0x986));break;case _0xc2b0ba(0xe6b):studentView[_0xc2b0ba(0x33a)][_0xc2b0ba(0x23a)](_0xc2b0ba(0x986));if(_0x131fd1)_0x131fd1['classList'][_0xc2b0ba(0x23a)]('hidden');break;default:studentView[_0xc2b0ba(0x33a)][_0xc2b0ba(0x23a)](_0xc2b0ba(0x986)),studentInitialView[_0xc2b0ba(0x33a)][_0xc2b0ba(0x23a)]('hidden');break;}}function showJoinGameView(){const _0x765f94=_0x3abb87;studentInitialView[_0x765f94(0x33a)]['add']('hidden'),studentJoinGameView[_0x765f94(0x33a)][_0x765f94(0x23a)](_0x765f94(0x986));}async function handleSaveVisibilitySettings(){const _0x668173=_0x3abb87;if(!currentProjectId)return;const _0x588375=doc(db,_0x668173(0x8da)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x588375,{'settings.showInStudentDashboard':document[_0x668173(0x753)](_0x668173(0x4e5))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x668173(0x310))[_0x668173(0xc32)],'settings.passcode':document[_0x668173(0x753)]('project-passcode-input')[_0x668173(0x8a6)]['trim']()}),showMessage(_0x668173(0xd43));}catch(_0x88ea17){console['error'](_0x668173(0xbca),_0x88ea17),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x22465c=_0x3abb87;document[_0x22465c(0x753)](_0x22465c(0x533))[_0x22465c(0xdd0)]('click',()=>{const _0x19be49=_0x22465c;document[_0x19be49(0x753)](_0x19be49(0x46f))[_0x19be49(0x33a)][_0x19be49(0xbaf)](_0x19be49(0x986));}),document[_0x22465c(0x753)](_0x22465c(0x813))['addEventListener']('click',()=>{const _0x389602=_0x22465c,_0x53724b=document[_0x389602(0x753)]('wager-modal'),_0x57b0f6=document[_0x389602(0x753)](_0x389602(0x715)),_0x1d8e11=document[_0x389602(0x753)](_0x389602(0xdab))[_0x389602(0x8a6)],_0x3a630b=_0x57b0f6[_0x389602(0x970)][_0x389602(0xdd5)],_0x26854f=JSON[_0x389602(0x5b1)](_0x57b0f6[_0x389602(0x970)][_0x389602(0x231)]),_0x1f21a2=JSON[_0x389602(0x5b1)](_0x57b0f6[_0x389602(0x970)]['gameData']),_0x268491=_0x57b0f6[_0x389602(0x970)]['playerName'];_0x53724b['classList']['add'](_0x389602(0x986)),handleSyncAnswerSubmit(_0x3a630b,_0x26854f,_0x1f21a2,_0x268491,![],_0x1d8e11);}),document[_0x22465c(0x628)](_0x22465c(0x7c3))[_0x22465c(0x91b)](_0x35abf7=>{const _0x1b39fb=_0x22465c;_0x35abf7[_0x1b39fb(0xdd0)]('change',_0x173f66=>{const _0x3fb841=_0x1b39fb,_0x34c022=document[_0x3fb841(0x753)]('anon-settings-container');_0x173f66[_0x3fb841(0x589)]['value']===_0x3fb841(0x58f)?_0x34c022[_0x3fb841(0x33a)][_0x3fb841(0x23a)](_0x3fb841(0x986)):_0x34c022[_0x3fb841(0x33a)][_0x3fb841(0xbaf)](_0x3fb841(0x986));});}),document['getElementById'](_0x22465c(0x62f))[_0x22465c(0xdd0)](_0x22465c(0x220),_0x4930df=>{const _0x12c031=_0x22465c;document[_0x12c031(0x753)]('sync-timer-duration-container')[_0x12c031(0x33a)][_0x12c031(0x40d)](_0x12c031(0x986),!_0x4930df[_0x12c031(0x589)][_0x12c031(0xc32)]);});const _0x558df1=document[_0x22465c(0x753)](_0x22465c(0xa9e)),_0x162ae9=document[_0x22465c(0x753)]('confidence-modal');_0x558df1&&_0x162ae9&&_0x558df1[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x2d00d6=_0x22465c;_0x162ae9[_0x2d00d6(0x33a)][_0x2d00d6(0xbaf)](_0x2d00d6(0x986)),_0x162ae9[_0x2d00d6(0x970)][_0x2d00d6(0x24b)]='';});const _0x198d98=document[_0x22465c(0x753)](_0x22465c(0xa32));_0x198d98&&(_0x198d98[_0x22465c(0xdd0)](_0x22465c(0xc87),wakeUpScreen),_0x198d98[_0x22465c(0xdd0)](_0x22465c(0x43d),wakeUpScreen));document['getElementById'](_0x22465c(0x8f7))['addEventListener']('click',async()=>{const _0x3e4055=_0x22465c;if(!currentBlueprintProjectId)return;const _0x18749d=document[_0x3e4055(0x753)]('bp-reference-file-url')[_0x3e4055(0x8a6)][_0x3e4055(0xda7)](),_0x3b0e69=doc(db,_0x3e4055(0x8da)+appId+_0x3e4055(0xd3d),currentBlueprintProjectId);try{await updateDoc(_0x3b0e69,{'referenceFileUrl':_0x18749d}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x30978c){console['error'](_0x3e4055(0x4ba),_0x30978c),showMessage(_0x3e4055(0xbec));}}),document[_0x22465c(0x753)](_0x22465c(0x71c))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleAddParallelShortcutTab),document[_0x22465c(0x753)]('parallel-test-input-area')[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0x329e92=>{const _0x187302=_0x22465c;_0x329e92[_0x187302(0x589)][_0x187302(0xdad)](_0x187302(0x2d2))&&(activeParallelShortcutTabId=_0x187302(0x5ea),renderAdditionalParallelShortcutsModal(),document[_0x187302(0x753)](_0x187302(0xda2))['classList']['remove']('hidden'));}),document[_0x22465c(0x753)](_0x22465c(0xe48))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x5dd191=_0x22465c;document[_0x5dd191(0x753)](_0x5dd191(0xda2))[_0x5dd191(0x33a)][_0x5dd191(0xbaf)](_0x5dd191(0x986));}),document[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0x2d80f7=>{const _0x595ba2=_0x22465c;!_0x2d80f7[_0x595ba2(0x589)][_0x595ba2(0xdad)]('.group\x5c/dropdown-parallel')&&document[_0x595ba2(0x628)]('.move-parallel-shortcut-dropdown')[_0x595ba2(0x91b)](_0x2d66a3=>_0x2d66a3[_0x595ba2(0x33a)]['add'](_0x595ba2(0x986)));}),document[_0x22465c(0x753)](_0x22465c(0x7d0))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleAddFileShortcutTab),document[_0x22465c(0x753)](_0x22465c(0x5cb))['addEventListener'](_0x22465c(0xaa0),_0xd5939a=>{const _0x5873af=_0x22465c;_0xd5939a[_0x5873af(0x589)][_0x5873af(0xdad)](_0x5873af(0xd1b))&&(activeFileShortcutTabId=_0x5873af(0x5ea),renderAdditionalFileShortcutsModal(),document[_0x5873af(0x753)](_0x5873af(0x7a0))[_0x5873af(0x33a)][_0x5873af(0x23a)]('hidden'));}),document['getElementById'](_0x22465c(0xb05))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x58509c=_0x22465c;document[_0x58509c(0x753)](_0x58509c(0x7a0))[_0x58509c(0x33a)][_0x58509c(0xbaf)]('hidden');}),document['addEventListener'](_0x22465c(0xaa0),_0x31aa74=>{const _0x5df431=_0x22465c;!_0x31aa74[_0x5df431(0x589)][_0x5df431(0xdad)]('.group\x5c/dropdown-file')&&document[_0x5df431(0x628)](_0x5df431(0x88c))[_0x5df431(0x91b)](_0x8b2e0b=>_0x8b2e0b[_0x5df431(0x33a)][_0x5df431(0xbaf)]('hidden'));}),document[_0x22465c(0x753)](_0x22465c(0x910))['addEventListener']('click',handleAddShortcutTab),document[_0x22465c(0x753)](_0x22465c(0x752))[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0x23c636=>{const _0x541bf9=_0x22465c,_0x4b7db8=_0x23c636[_0x541bf9(0x589)][_0x541bf9(0xdad)](_0x541bf9(0x4fd)),_0x5dc89=_0x23c636[_0x541bf9(0x589)][_0x541bf9(0xdad)]('.edit-parallel-shortcut-btn'),_0x1ab4c3=_0x23c636['target']['closest'](_0x541bf9(0x90f));if(_0x5dc89)openParallelTestShortcutEditor(_0x5dc89[_0x541bf9(0x970)]['id']);else{if(_0x1ab4c3){const _0x29a729=_0x1ab4c3[_0x541bf9(0x970)]['id'];showConfirmation(_0x541bf9(0x440),async()=>{const _0x3bc662=_0x541bf9,_0x3f68b7=parallelTestShortcuts[_0x3bc662(0x27c)](_0x387586=>_0x387586['id']!==_0x29a729),_0xda87f6=doc(db,'globalSettings',_0x3bc662(0xb83));await setDoc(_0xda87f6,{'shortcuts':_0x3f68b7},{'merge':!![]});});}else _0x4b7db8&&handleParallelTestShortcutClick(_0x4b7db8[_0x541bf9(0x970)]['id']);}}),document[_0x22465c(0x753)](_0x22465c(0x99a))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x22465c(0x994))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0xa68bec=_0x22465c;document[_0xa68bec(0x753)](_0xa68bec(0x72e))['classList']['add'](_0xa68bec(0x986));}),document[_0x22465c(0x753)](_0x22465c(0xb4f))[_0x22465c(0xdd0)]('click',saveParallelTestShortcutChanges),document[_0x22465c(0x753)]('parallel-test-input-area')[_0x22465c(0xdd0)]('click',_0x5c6f82=>{const _0x449462=_0x22465c;_0x5c6f82[_0x449462(0x589)][_0x449462(0xdad)](_0x449462(0x2d2))&&document[_0x449462(0x753)](_0x449462(0xda2))['classList'][_0x449462(0x23a)](_0x449462(0x986));}),document[_0x22465c(0x753)](_0x22465c(0xe48))['addEventListener'](_0x22465c(0xaa0),()=>{const _0x2c4fb7=_0x22465c;document['getElementById'](_0x2c4fb7(0xda2))['classList'][_0x2c4fb7(0xbaf)](_0x2c4fb7(0x986));}),document[_0x22465c(0x753)](_0x22465c(0x82c))[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0x4b71bc=>{const _0x444146=_0x22465c,_0x55ffab=document[_0x444146(0x753)]('additional-parallel-shortcuts-modal'),_0x3e400f=_0x4b71bc[_0x444146(0x589)][_0x444146(0xdad)](_0x444146(0xb26)),_0x120082=_0x4b71bc[_0x444146(0x589)]['closest']('.edit-hidden-parallel-shortcut-btn'),_0x1796dd=_0x4b71bc['target']['closest'](_0x444146(0xaac));if(_0x3e400f)_0x55ffab[_0x444146(0x33a)][_0x444146(0xbaf)](_0x444146(0x986)),handleParallelTestShortcutClick(_0x3e400f[_0x444146(0x970)]['id']);else{if(_0x120082)_0x55ffab[_0x444146(0x33a)][_0x444146(0xbaf)](_0x444146(0x986)),openParallelTestShortcutEditor(_0x120082[_0x444146(0x970)]['id']);else{if(_0x1796dd){const _0x372ebf=_0x1796dd[_0x444146(0x970)]['id'];showConfirmation(_0x444146(0x440),async()=>{const _0x13714d=_0x444146,_0x3a5f65=parallelTestShortcuts[_0x13714d(0x27c)](_0x35a987=>_0x35a987['id']!==_0x372ebf),_0x3c6618=doc(db,_0x13714d(0x51c),_0x13714d(0xb83));await setDoc(_0x3c6618,{'shortcuts':_0x3a5f65},{'merge':!![]});});}}}}),document[_0x22465c(0x753)](_0x22465c(0xe2c))[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0x8d1e3=>{const _0x2507aa=_0x22465c,_0x12743a=_0x8d1e3[_0x2507aa(0x589)][_0x2507aa(0xdad)](_0x2507aa(0x5c3)),_0x12b946=_0x8d1e3[_0x2507aa(0x589)]['closest'](_0x2507aa(0x969)),_0x2a4050=_0x8d1e3['target'][_0x2507aa(0xdad)]('.delete-file-shortcut-btn');if(_0x12b946)openFileShortcutEditor(_0x12b946['dataset']['id']);else{if(_0x2a4050){const _0x2afa1c=_0x2a4050['dataset']['id'];showConfirmation(_0x2507aa(0x440),async()=>{const _0x191569=_0x2507aa,_0x2a2c77=fileShortcuts[_0x191569(0x27c)](_0x27f894=>_0x27f894['id']!==_0x2afa1c),_0x514bd6=doc(db,_0x191569(0x51c),_0x191569(0xa1f));await setDoc(_0x514bd6,{'shortcuts':_0x2a2c77},{'merge':!![]});});}else _0x12743a&&handleFileShortcutClick(_0x12743a[_0x2507aa(0x970)]['id']);}}),document[_0x22465c(0x753)]('add-file-shortcut-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>openFileShortcutEditor(null)),document[_0x22465c(0x753)](_0x22465c(0x2ba))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x5355d6=_0x22465c;document['getElementById'](_0x5355d6(0x545))[_0x5355d6(0x33a)][_0x5355d6(0xbaf)](_0x5355d6(0x986));}),document['getElementById'](_0x22465c(0xe1b))['addEventListener'](_0x22465c(0xaa0),saveFileShortcutChanges),document[_0x22465c(0x753)](_0x22465c(0x5cb))['addEventListener'](_0x22465c(0xaa0),_0x4d2d68=>{const _0x2a6f8c=_0x22465c;_0x4d2d68[_0x2a6f8c(0x589)][_0x2a6f8c(0xdad)](_0x2a6f8c(0xd1b))&&document[_0x2a6f8c(0x753)]('additional-file-shortcuts-modal')[_0x2a6f8c(0x33a)][_0x2a6f8c(0x23a)](_0x2a6f8c(0x986));}),document[_0x22465c(0x753)](_0x22465c(0xb05))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x5dee94=_0x22465c;document[_0x5dee94(0x753)](_0x5dee94(0x7a0))[_0x5dee94(0x33a)][_0x5dee94(0xbaf)](_0x5dee94(0x986));}),document[_0x22465c(0x753)](_0x22465c(0x90a))[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0xefd8d1=>{const _0x45858f=_0x22465c,_0x18ee72=document[_0x45858f(0x753)]('additional-file-shortcuts-modal'),_0x4f05e0=_0xefd8d1[_0x45858f(0x589)][_0x45858f(0xdad)]('.use-hidden-file-shortcut-btn'),_0x18b3dc=_0xefd8d1[_0x45858f(0x589)][_0x45858f(0xdad)]('.edit-hidden-file-shortcut-btn'),_0x2d189a=_0xefd8d1['target'][_0x45858f(0xdad)](_0x45858f(0xdc9));if(_0x4f05e0)_0x18ee72[_0x45858f(0x33a)][_0x45858f(0xbaf)]('hidden'),handleFileShortcutClick(_0x4f05e0[_0x45858f(0x970)]['id']);else{if(_0x18b3dc)_0x18ee72['classList'][_0x45858f(0xbaf)](_0x45858f(0x986)),openFileShortcutEditor(_0x18b3dc[_0x45858f(0x970)]['id']);else{if(_0x2d189a){const _0xdca721=_0x2d189a[_0x45858f(0x970)]['id'];showConfirmation(_0x45858f(0x440),async()=>{const _0x2eef54=_0x45858f,_0x552ccd=fileShortcuts[_0x2eef54(0x27c)](_0x1b8549=>_0x1b8549['id']!==_0xdca721),_0x308bfe=doc(db,_0x2eef54(0x51c),'fileShortcutsConfig');await setDoc(_0x308bfe,{'shortcuts':_0x552ccd},{'merge':!![]});});}}}}),document[_0x22465c(0x753)](_0x22465c(0x526))[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0xb9849b=>{const _0x7e2a4a=_0x22465c;_0xb9849b['target'][_0x7e2a4a(0xdad)](_0x7e2a4a(0x7e5))&&(activeShortcutTabId=_0x7e2a4a(0x5ea),renderAdditionalShortcutsModal(),document[_0x7e2a4a(0x753)]('additional-shortcuts-modal')['classList'][_0x7e2a4a(0x23a)](_0x7e2a4a(0x986)));}),document[_0x22465c(0x753)](_0x22465c(0x64d))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0xd91092=_0x22465c;document['getElementById'](_0xd91092(0x6dc))[_0xd91092(0x33a)][_0xd91092(0xbaf)](_0xd91092(0x986));}),document[_0x22465c(0x753)]('additional-shortcuts-list')['addEventListener'](_0x22465c(0xaa0),_0x3c7610=>{const _0x309de5=_0x22465c,_0x112279=_0x3c7610[_0x309de5(0x589)]['closest'](_0x309de5(0x4d7)),_0x1d8005=_0x3c7610['target']['closest'](_0x309de5(0xb7d)),_0x50d6d6=_0x3c7610[_0x309de5(0x589)][_0x309de5(0xdad)](_0x309de5(0x7ef)),_0x2116f8=document[_0x309de5(0x753)]('additional-shortcuts-modal');if(_0x112279)_0x2116f8['classList'][_0x309de5(0xbaf)](_0x309de5(0x986)),handleShortcutClick(_0x112279[_0x309de5(0x970)]['id']);else{if(_0x1d8005)_0x2116f8[_0x309de5(0x33a)][_0x309de5(0xbaf)](_0x309de5(0x986)),openShortcutEditor(_0x1d8005['dataset']['id']);else{if(_0x50d6d6){const _0x5a1dff=_0x50d6d6[_0x309de5(0x970)]['id'],_0x33ad2f=blueprintShortcuts[_0x309de5(0x7f4)](_0x20f249=>_0x20f249['id']===_0x5a1dff)?.[_0x309de5(0xc71)];showConfirmation(_0x309de5(0x700)+_0x33ad2f+'\x22?',async()=>{const _0x11c947=_0x309de5,_0x4eb8be=blueprintShortcuts[_0x11c947(0x27c)](_0x5cf317=>_0x5cf317['id']!==_0x5a1dff);try{const _0x3da3e3=doc(db,_0x11c947(0x51c),'dashboardConfig');await setDoc(_0x3da3e3,{'blueprintShortcuts':_0x4eb8be},{'merge':!![]});}catch(_0xec4bcb){console[_0x11c947(0x28d)]('Error\x20deleting\x20shortcut:',_0xec4bcb);}});}}}}),document[_0x22465c(0x753)](_0x22465c(0x86d))['addEventListener'](_0x22465c(0xaa0),_0x137958=>{const _0xb2f1de=_0x22465c,_0x2af7b1=_0x137958[_0xb2f1de(0x589)][_0xb2f1de(0xdad)](_0xb2f1de(0x59e)),_0x2f9e85=_0x137958[_0xb2f1de(0x589)][_0xb2f1de(0xdad)](_0xb2f1de(0x952)),_0x5f1b5a=_0x137958['target']['closest']('.delete-shortcut-btn');if(_0x2f9e85)openShortcutEditor(_0x2f9e85[_0xb2f1de(0x970)]['id']);else{if(_0x5f1b5a){const _0x43f155=_0x5f1b5a['dataset']['id'],_0x5330ad=blueprintShortcuts[_0xb2f1de(0x7f4)](_0x2aa629=>_0x2aa629['id']===_0x43f155)?.[_0xb2f1de(0xc71)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x5330ad+'\x22?',async()=>{const _0x2fdb30=_0xb2f1de,_0x5ee719=blueprintShortcuts[_0x2fdb30(0x27c)](_0x4eb100=>_0x4eb100['id']!==_0x43f155);try{const _0x4ad3fc=doc(db,_0x2fdb30(0x51c),_0x2fdb30(0x612));await setDoc(_0x4ad3fc,{'blueprintShortcuts':_0x5ee719},{'merge':!![]});}catch(_0x4906fc){console[_0x2fdb30(0x28d)](_0x2fdb30(0x52e),_0x4906fc);}});}else _0x2af7b1&&handleShortcutClick(_0x2af7b1[_0xb2f1de(0x970)]['id']);}}),document['getElementById'](_0x22465c(0xad8))['addEventListener']('click',()=>openShortcutEditor(null)),document[_0x22465c(0x753)](_0x22465c(0xade))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x57935b=_0x22465c;document[_0x57935b(0x753)]('shortcut-editor-modal')['classList'][_0x57935b(0xbaf)]('hidden');}),document[_0x22465c(0x753)](_0x22465c(0x23f))['addEventListener'](_0x22465c(0xaa0),saveShortcutChanges),document[_0x22465c(0x753)](_0x22465c(0x2b5))[_0x22465c(0xdd0)]('click',async()=>{const _0x5b456b=_0x22465c,_0x2dbe03=document[_0x5b456b(0x753)]('blueprint-upload-input'),_0x2e0fbc=document[_0x5b456b(0x753)](_0x5b456b(0x429));_0x2dbe03['files']['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x2dbe03[_0x5b456b(0xc89)][0x0],_0x2e0fbc[_0x5b456b(0xc89)][0x0]||null):showMessage(_0x5b456b(0xba2));}),document['getElementById']('topic-quiz-bank-modal')[_0x22465c(0xdd0)](_0x22465c(0xaa0),async _0x5dd6b3=>{const _0x427749=_0x22465c,_0x4f15f4=document[_0x427749(0x753)]('topic-quiz-bank-modal'),_0x1a8bbb=_0x5dd6b3['target'][_0x427749(0xdad)]('.bp-view-analysis-btn'),_0x275d76=_0x5dd6b3['target'][_0x427749(0xdad)](_0x427749(0xe81)),_0x5d0118=_0x5dd6b3[_0x427749(0x589)][_0x427749(0xdad)](_0x427749(0x7a6)),_0x54c314=_0x5dd6b3[_0x427749(0x589)][_0x427749(0xdad)]('.bp-try-btn'),_0x1e5547=_0x5dd6b3['target']['closest'](_0x427749(0x95f)),_0x1aa5bb=_0x5dd6b3[_0x427749(0x589)][_0x427749(0xdad)]('.bp-game-btn');if(_0x1a8bbb){cameFromBlueprint=!![];const _0x4d60a9=_0x1a8bbb[_0x427749(0x970)][_0x427749(0x44b)];showQuizDetailView(_0x4d60a9),_0x4f15f4['classList'][_0x427749(0xbaf)](_0x427749(0x986));}else{if(_0x275d76){const _0x2652a4=_0x275d76[_0x427749(0x970)]['topicId'],_0x4013cf=_0x275d76[_0x427749(0x970)][_0x427749(0x44b)],_0x10eeda=allQuizzesGlobal[_0x427749(0x7f4)](_0x3492d9=>_0x3492d9['id']===_0x4013cf),_0x3171e7=_0x10eeda?_0x10eeda[_0x427749(0x3bb)]:_0x427749(0x925);showConfirmation(_0x427749(0x5c1)+_0x3171e7+_0x427749(0x373),async()=>{const _0x1c7158=_0x427749;try{const _0xd7804a=doc(db,_0x1c7158(0x8da)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0xd7804a,{[_0x1c7158(0x708)+_0x2652a4+_0x1c7158(0x8dd)]:arrayRemove(_0x4013cf)}),showMessage(_0x1c7158(0xd61)),openTopicQuizBank(_0x2652a4),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x40d7d3){console[_0x1c7158(0x28d)]('Error\x20unlinking\x20quiz:',_0x40d7d3),showMessage(_0x1c7158(0xd34));}});}else{if(_0x5d0118){cameFromBlueprint=!![];const _0x4b9258=_0x5d0118['dataset']['quizId'],_0x4337b0=allQuizzesGlobal[_0x427749(0x7f4)](_0x574d90=>_0x574d90['id']===_0x4b9258);_0x4337b0&&(startPresentation(_0x4337b0),_0x4f15f4['classList'][_0x427749(0xbaf)]('hidden'));}else{if(_0x54c314){cameFromBlueprint=!![];const _0x12df2d=_0x54c314[_0x427749(0x970)][_0x427749(0x44b)],_0x217bb6=allQuizzesGlobal[_0x427749(0x7f4)](_0x22c342=>_0x22c342['id']===_0x12df2d);_0x217bb6&&(currentQuizData=_0x217bb6,startAdminTest(),_0x4f15f4[_0x427749(0x33a)]['add'](_0x427749(0x986)));}else{if(_0x1e5547)cameFromBlueprint=!![],handleStartLiveRace(_0x1e5547['dataset'][_0x427749(0x44b)]),_0x4f15f4['classList']['add']('hidden');else{if(_0x1aa5bb){cameFromBlueprint=!![];const _0x3945f4=_0x1aa5bb[_0x427749(0x970)]['quizId'],_0x38884c=_0x1aa5bb['dataset'][_0x427749(0x7a1)],_0x2f2121=allQuizzesGlobal[_0x427749(0x7f4)](_0x4a5706=>_0x4a5706['id']===_0x3945f4);_0x2f2121&&(showGameStartConfirmationModal(_0x3945f4,_0x38884c,_0x2f2121[_0x427749(0x3bb)]),_0x4f15f4['classList'][_0x427749(0xbaf)](_0x427749(0x986)));}}}}}}}),document[_0x22465c(0x753)](_0x22465c(0x838))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x5e726c=_0x22465c;document[_0x5e726c(0x753)](_0x5e726c(0xcdb))['classList'][_0x5e726c(0x23a)]('hidden'),document[_0x5e726c(0x753)](_0x5e726c(0x89d))[_0x5e726c(0x8a6)]='',document[_0x5e726c(0x753)](_0x5e726c(0x5ce))[_0x5e726c(0x8a6)]='',document[_0x5e726c(0x753)](_0x5e726c(0xab9))[_0x5e726c(0x8a6)]='';}),document[_0x22465c(0x753)]('cancel-manual-bp-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x39607f=_0x22465c;document['getElementById'](_0x39607f(0xcdb))[_0x39607f(0x33a)]['add'](_0x39607f(0x986));}),document[_0x22465c(0x753)](_0x22465c(0x5d2))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleManualBlueprintSave),document[_0x22465c(0x753)](_0x22465c(0x7dc))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>document[_0x22465c(0x753)]('blueprint-settings-modal')['classList']['add'](_0x22465c(0x986))),document[_0x22465c(0x753)](_0x22465c(0x89b))['addEventListener'](_0x22465c(0xaa0),handleSaveBlueprintPageSettings),document[_0x22465c(0x753)](_0x22465c(0xa5e))[_0x22465c(0xdd0)]('click',openBlueprintQuizSettings),document[_0x22465c(0x753)]('save-blueprint-as-project-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),saveBlueprintProject),document[_0x22465c(0x753)](_0x22465c(0x7bf))[_0x22465c(0xdd0)]('click',showBlueprintProjects),document['getElementById']('cancel-blueprint-projects-btn')[_0x22465c(0xdd0)]('click',()=>{const _0x17c9ce=_0x22465c;document[_0x17c9ce(0x753)]('blueprint-projects-modal')[_0x17c9ce(0x33a)]['add'](_0x17c9ce(0x986));}),document[_0x22465c(0x753)]('blueprint-project-list')[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0x24e93a=>{const _0xf20307=_0x22465c,_0x252080=_0x24e93a[_0xf20307(0x589)]['closest'](_0xf20307(0xd3e)),_0x14f4fd=_0x24e93a['target'][_0xf20307(0xdad)](_0xf20307(0x9e6));if(_0x252080)displayBlueprintProjectManager(_0x252080[_0xf20307(0x970)]['id']);else _0x14f4fd&&handleDeepDeleteBlueprintProject(_0x14f4fd['dataset']['id']);}),document[_0x22465c(0x753)](_0x22465c(0x461))['addEventListener']('click',()=>{const _0x5a03e0=_0x22465c;currentBlueprintProjectId=null,currentProjectId=null,document[_0x5a03e0(0x753)](_0x5a03e0(0xadd))['classList'][_0x5a03e0(0xbaf)](_0x5a03e0(0x986)),showView(_0x5a03e0(0x959));}),document[_0x22465c(0x753)](_0x22465c(0x7bc))[_0x22465c(0xdd0)](_0x22465c(0xaa0),addTopicToProject),document[_0x22465c(0x753)]('bp-topic-list-container')[_0x22465c(0xdd0)](_0x22465c(0xaa0),async _0x7f2e8c=>{const _0x50cf1e=_0x22465c,_0x271bde=_0x7f2e8c[_0x50cf1e(0x589)][_0x50cf1e(0xdad)](_0x50cf1e(0x902));if(!_0x271bde)return;const _0x50667b=_0x271bde[_0x50cf1e(0x970)][_0x50cf1e(0xd6a)],_0x1708c6=_0x7f2e8c[_0x50cf1e(0x589)][_0x50cf1e(0xdad)](_0x50cf1e(0xabe)),_0x543f66=_0x7f2e8c[_0x50cf1e(0x589)]['closest'](_0x50cf1e(0x898)),_0xcf876a=_0x7f2e8c[_0x50cf1e(0x589)][_0x50cf1e(0xdad)](_0x50cf1e(0x7fa)),_0x3ce624=_0x7f2e8c[_0x50cf1e(0x589)][_0x50cf1e(0xdad)]('.bp-open-topic-bank-btn'),_0x782115=_0x7f2e8c[_0x50cf1e(0x589)][_0x50cf1e(0xdad)]('.view-bp-lesson-btn'),_0x23868e=_0x7f2e8c[_0x50cf1e(0x589)][_0x50cf1e(0xdad)](_0x50cf1e(0x306)),_0x44d9d9=_0x7f2e8c['target'][_0x50cf1e(0xdad)]('.bp-edit-topic-btn'),_0x2506d4=_0x7f2e8c[_0x50cf1e(0x589)][_0x50cf1e(0xdad)]('.bp-delete-topic-btn'),_0x538757=_0x399ddb=>{const _0x284d0e=_0x50cf1e,_0x35952b=_0x399ddb['querySelector'](_0x284d0e(0x651))['textContent'][_0x284d0e(0xda7)](),_0x3b05b2=_0x399ddb[_0x284d0e(0xdad)](_0x284d0e(0x983))[_0x284d0e(0x9c3)],_0x4763e8=_0x3b05b2?_0x3b05b2[_0x284d0e(0xbde)][_0x284d0e(0xda7)]():'';return _0x4763e8+':\x20'+_0x35952b;};if(_0x3ce624)openTopicQuizBank(_0x50667b);else{if(_0x1708c6){const _0x26c95e=_0x538757(_0x271bde);selectProjectAndGenerateBlueprintQuiz(_0x26c95e,null,_0x50667b,!![]);}else{if(_0x543f66){const _0x1c89de=_0x538757(_0x271bde);try{const _0x159d48=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x50cf1e(0xd8f),_0x50667b),_0x346c6f=await getDoc(_0x159d48);if(_0x346c6f[_0x50cf1e(0xc9d)]()){const _0x2fa510=_0x346c6f[_0x50cf1e(0x3f4)]()[_0x50cf1e(0x901)],_0x96dda0=document[_0x50cf1e(0x419)]('div'),_0x21ebdf=_0x56f582=>{const _0xfdb426=_0x50cf1e;if(!_0x56f582)return'';return _0x96dda0[_0xfdb426(0xd15)]=_0x56f582,_0x96dda0[_0xfdb426(0xbde)]||_0x96dda0[_0xfdb426(0x472)]||'';},_0x1b0eab=(_0x21ebdf(_0x2fa510[_0x50cf1e(0xb3a)])+'\x20'+_0x21ebdf(_0x2fa510[_0x50cf1e(0x963)])+'\x20'+_0x21ebdf(_0x2fa510[_0x50cf1e(0x6bd)]))[_0x50cf1e(0xda7)]();selectProjectAndGenerateBlueprintQuiz(_0x1c89de,_0x1b0eab,_0x50667b,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x28106e){console[_0x50cf1e(0x28d)](_0x50cf1e(0x3bf),_0x28106e),showMessage(_0x50cf1e(0x556));}}else{if(_0xcf876a){const _0x2bb198=_0x538757(_0x271bde);selectProjectAndGenerateBlueprintQuiz(_0x2bb198,null,_0x50667b,![]);}else{if(_0x782115){const _0xdc3dfe=doc(db,_0x50cf1e(0x8da)+appId+_0x50cf1e(0xd3d),currentBlueprintProjectId),_0x4c98b6=await getDoc(_0xdc3dfe);if(_0x4c98b6[_0x50cf1e(0xc9d)]()){const _0xf35a82=_0x4c98b6[_0x50cf1e(0x3f4)](),_0x40fa0c=_0xf35a82[_0x50cf1e(0x7b1)][_0x50667b];if(_0x40fa0c&&_0x40fa0c[_0x50cf1e(0x98e)]===_0x50cf1e(0x387))try{const _0x41a806=doc(db,_0x50cf1e(0x8da)+appId+_0x50cf1e(0xd9e)+currentBlueprintProjectId+_0x50cf1e(0xd8f),_0x50667b),_0x21dce4=await getDoc(_0x41a806);if(_0x21dce4['exists']()){const _0x5ecdf3=_0x21dce4['data']()[_0x50cf1e(0x901)];document[_0x50cf1e(0x753)]('lesson-view-title')['textContent']='บทเรียนเรื่อง:\x20'+_0x538757(_0x271bde),document[_0x50cf1e(0x753)](_0x50cf1e(0x968))[_0x50cf1e(0xd15)]=_0x5ecdf3[_0x50cf1e(0xb3a)],document['getElementById']('memoryContent')[_0x50cf1e(0xd15)]=_0x5ecdf3[_0x50cf1e(0x963)],document[_0x50cf1e(0x753)](_0x50cf1e(0x985))['innerHTML']=_0x5ecdf3['summary'];const _0x5d5f82=document[_0x50cf1e(0x753)](_0x50cf1e(0x80f));_0x5ecdf3['applicationData']?(currentApplicationData=_0x5ecdf3[_0x50cf1e(0x8e5)],_0x5d5f82['innerHTML']=currentApplicationData[_0x50cf1e(0x561)]((_0x6818f4,_0xdabbff)=>_0x50cf1e(0x36d)+(_0xdabbff+0x1)+'.\x20'+marked['parseInline'](_0x6818f4['question'])+_0x50cf1e(0x6dd)+_0xdabbff+_0x50cf1e(0xb27)+_0x6818f4['options'][_0x50cf1e(0x561)]((_0xb3ec14,_0x58e874)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0xdabbff+',\x20'+_0x58e874+')\x22>'+String[_0x50cf1e(0x83c)](0x61+_0x58e874)+'.\x20'+marked[_0x50cf1e(0x85b)](_0xb3ec14)+_0x50cf1e(0x2da))[_0x50cf1e(0xe0b)]('')+'</div></div>')[_0x50cf1e(0xe0b)]('')):(currentApplicationData=[],_0x5d5f82['innerHTML']=_0x5ecdf3[_0x50cf1e(0x22f)]||_0x5ecdf3[_0x50cf1e(0x4b6)]),document[_0x50cf1e(0x753)](_0x50cf1e(0x579))[_0x50cf1e(0x33a)][_0x50cf1e(0xbaf)]('hidden'),document[_0x50cf1e(0x753)](_0x50cf1e(0x40a))[_0x50cf1e(0x33a)][_0x50cf1e(0x23a)]('hidden'),document[_0x50cf1e(0x753)](_0x50cf1e(0x4d2))['classList'][_0x50cf1e(0x23a)](_0x50cf1e(0x986)),window[_0x50cf1e(0xc12)]&&MathJax[_0x50cf1e(0x98a)]([document[_0x50cf1e(0x753)]('lesson-view-content')]);}else showMessage(_0x50cf1e(0x605));}catch(_0x373317){console[_0x50cf1e(0x28d)]('Error\x20fetching\x20lesson\x20content:',_0x373317),showMessage(_0x50cf1e(0x5e9));}else showMessage(_0x50cf1e(0x426));}}else{if(_0x23868e){const _0x4c21bd=_0x538757(_0x271bde),_0x358bfb=doc(db,_0x50cf1e(0x8da)+appId+_0x50cf1e(0xd3d),currentBlueprintProjectId),_0x2165ef=await getDoc(_0x358bfb);if(_0x2165ef[_0x50cf1e(0xc9d)]()){const _0x52a482=_0x2165ef[_0x50cf1e(0x3f4)]();generateAndSaveLessonForBlueprint(_0x50667b,_0x4c21bd,_0x52a482['gradeLevel']);}}else{if(_0x44d9d9)editTopicInProject(_0x50667b);else _0x2506d4&&deleteTopicFromProject(_0x50667b);}}}}}}}),document[_0x22465c(0x753)](_0x22465c(0x4c1))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleFixLessonLatex),document[_0x22465c(0x753)]('export-lesson-to-pdf-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleExportLessonToPDF),document[_0x22465c(0x753)](_0x22465c(0x892))['addEventListener'](_0x22465c(0xaa0),()=>{const _0x51bf9f=_0x22465c;document[_0x51bf9f(0x753)]('lesson-view-modal')[_0x51bf9f(0x33a)][_0x51bf9f(0xbaf)](_0x51bf9f(0x986));});const _0x6377f1=document[_0x22465c(0x753)](_0x22465c(0x5ec)),_0x350471=document[_0x22465c(0x753)]('bulk-confidence-mode-container');_0x6377f1[_0x22465c(0xdd0)](_0x22465c(0x220),()=>{const _0x3d34ab=_0x22465c;_0x350471[_0x3d34ab(0x33a)]['toggle']('hidden',!_0x6377f1[_0x3d34ab(0xc32)]);});const _0x351dae=document[_0x22465c(0x753)]('confidence-scoring-checkbox'),_0xd89b73=document[_0x22465c(0x753)](_0x22465c(0x391));_0x351dae[_0x22465c(0xdd0)](_0x22465c(0x220),()=>{const _0x3a6f1f=_0x22465c;_0xd89b73[_0x3a6f1f(0x33a)][_0x3a6f1f(0x40d)]('hidden',!_0x351dae['checked']);});const _0x1a4265=document['getElementById'](_0x22465c(0x39b)),_0x362992=document[_0x22465c(0x753)](_0x22465c(0xd6f));_0x1a4265['addEventListener'](_0x22465c(0x220),()=>{const _0xaeac3c=_0x22465c;_0x362992[_0xaeac3c(0x33a)][_0xaeac3c(0x40d)](_0xaeac3c(0x986),!_0x1a4265[_0xaeac3c(0xc32)]);});const _0x53b2fe=document[_0x22465c(0x753)](_0x22465c(0x645)),_0xc97beb=async _0x555e3a=>{const _0x21b7d5=_0x22465c,_0x37b1c3=document[_0x21b7d5(0x753)]('confidence-modal'),_0x1a5131=_0x37b1c3[_0x21b7d5(0x970)][_0x21b7d5(0x24b)],_0x3480b3=document['getElementById']('selected-answer-index-hidden');_0x37b1c3['classList'][_0x21b7d5(0xbaf)](_0x21b7d5(0x986));if(_0x1a5131===_0x21b7d5(0x31e)){const _0x1e98b3=_0x3480b3[_0x21b7d5(0x8a6)],_0x954ae3={'answer':_0x1e98b3,'wasConfident':_0x555e3a};proceedToNextQuestion(_0x954ae3);}else{if(_0x1a5131===_0x21b7d5(0xe7b)){const _0x27698b=_0x3480b3[_0x21b7d5(0x970)][_0x21b7d5(0xdd5)],_0x2e825f=JSON[_0x21b7d5(0x5b1)](_0x3480b3[_0x21b7d5(0x970)]['question']),_0x131ffa=JSON[_0x21b7d5(0x5b1)](_0x3480b3['dataset'][_0x21b7d5(0x3e4)]),_0x5e881f=_0x3480b3[_0x21b7d5(0x970)]['playerName'];handleSyncAnswerSubmit(_0x27698b,_0x2e825f,_0x131ffa,_0x5e881f,_0x555e3a);}}_0x37b1c3[_0x21b7d5(0x970)][_0x21b7d5(0x24b)]='';};document[_0x22465c(0x753)]('confirm-confident')['addEventListener']('click',()=>_0xc97beb(!![])),document[_0x22465c(0x753)](_0x22465c(0xced))[_0x22465c(0xdd0)]('click',()=>_0xc97beb(![])),liveGameView[_0x22465c(0xdd0)]('click',_0xad24e3=>{const _0x306e0b=_0x22465c,_0x533a54=_0xad24e3['target'][_0x306e0b(0xdad)](_0x306e0b(0xc31));if(_0x533a54){const _0x249b52=_0x533a54[_0x306e0b(0x970)][_0x306e0b(0x943)];_0x249b52&&handleKickPlayerSync(_0x249b52);}});const _0x18b945=document[_0x22465c(0x753)](_0x22465c(0xbf3)),_0x5d4e1c=document[_0x22465c(0x753)](_0x22465c(0x7ca));_0x5d4e1c['addEventListener'](_0x22465c(0xaa0),()=>{const _0x2432dc=_0x22465c;document[_0x2432dc(0x753)](_0x2432dc(0x746))[_0x2432dc(0x33a)][_0x2432dc(0xbaf)]('hidden');}),_0x18b945[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x61fc51=_0x22465c,_0x12aadd=document[_0x61fc51(0x753)](_0x61fc51(0xa8f))[_0x61fc51(0x8a6)],_0x2f84ec=document['getElementById'](_0x61fc51(0x82d))['value'],_0x352f40=document[_0x61fc51(0x753)]('save-game-results-checkbox')[_0x61fc51(0xc32)];document['getElementById'](_0x61fc51(0x746))[_0x61fc51(0x33a)][_0x61fc51(0xbaf)](_0x61fc51(0x986));switch(_0x2f84ec){case'live-race':handleStartLiveRace(_0x12aadd,_0x352f40);break;case _0x61fc51(0xb0b):handleStartTeamQuiz(_0x12aadd,_0x352f40);break;case _0x61fc51(0x578):handleStartGroupMode(_0x12aadd,_0x352f40);break;case'sync':const _0x204bc8=document[_0x61fc51(0xd5b)](_0x61fc51(0x56f))['value']||_0x61fc51(0xbf0);handleStartSyncMode(_0x12aadd,_0x352f40,_0x204bc8);break;}}),document['getElementById']('join-group-activity-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleJoinGroupActivity),liveGameView[_0x22465c(0xdd0)]('click',_0x35289c=>{const _0x41f621=_0x22465c,_0x11eb9b=_0x35289c[_0x41f621(0x589)][_0x41f621(0xdad)](_0x41f621(0x680));document[_0x41f621(0x628)](_0x41f621(0xb99))[_0x41f621(0x91b)](_0x18eddd=>{const _0x54ac11=_0x41f621;(!_0x11eb9b||_0x18eddd['id']!==_0x11eb9b[_0x54ac11(0x970)][_0x54ac11(0xe00)])&&_0x18eddd[_0x54ac11(0x33a)]['remove'](_0x54ac11(0xdca));});if(!_0x11eb9b)return;const _0x28090a=_0x11eb9b[_0x41f621(0x970)]['tooltipTarget'],_0x948746=document[_0x41f621(0x753)](_0x28090a);_0x948746&&_0x948746[_0x41f621(0x33a)][_0x41f621(0x40d)](_0x41f621(0xdca));}),liveGameView[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0xf049d0=>{const _0xb27736=_0x22465c;if(_0xf049d0['target'][_0xb27736(0x33a)][_0xb27736(0x415)](_0xb27736(0x775))){const _0x3a56f4=_0xf049d0[_0xb27736(0x589)][_0xb27736(0x970)][_0xb27736(0x943)];_0x3a56f4&&handleKickPlayer(_0x3a56f4);}}),document[_0x22465c(0x753)](_0x22465c(0x6fc))[_0x22465c(0xdd0)](_0x22465c(0x9fa),()=>document[_0x22465c(0x753)](_0x22465c(0xae1))['classList'][_0x22465c(0x23a)](_0x22465c(0x986))),document[_0x22465c(0x753)]('save-project-name-btn')['addEventListener'](_0x22465c(0xaa0),handleSaveProjectName),document[_0x22465c(0x753)](_0x22465c(0x6fc))[_0x22465c(0xdd0)]('keydown',_0x386fc2=>{const _0x50b997=_0x22465c;_0x386fc2[_0x50b997(0x735)]==='Enter'&&(_0x386fc2['preventDefault'](),_0x386fc2['target'][_0x50b997(0x46c)](),handleSaveProjectName());}),document['getElementById']('bulk-quiz-settings-btn')[_0x22465c(0xdd0)]('click',()=>{const _0x40a82f=_0x22465c;document[_0x40a82f(0x753)](_0x40a82f(0xaf8))[_0x40a82f(0x33a)][_0x40a82f(0x23a)](_0x40a82f(0x986));}),document[_0x22465c(0x753)]('cancel-bulk-quiz-settings-btn')['addEventListener'](_0x22465c(0xaa0),()=>{const _0x4262cd=_0x22465c;document[_0x4262cd(0x753)](_0x4262cd(0xaf8))[_0x4262cd(0x33a)]['add']('hidden');}),document['getElementById'](_0x22465c(0xd0b))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleBulkUpdateQuizSettings),document[_0x22465c(0x753)](_0x22465c(0xc3b))[_0x22465c(0xdd0)]('click',handleModeSwitch),document['getElementById'](_0x22465c(0x636))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleUpdateOldQuizzes),document[_0x22465c(0x753)]('reset-project-order-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleResetProjectOrder),document[_0x22465c(0x753)](_0x22465c(0x39a))[_0x22465c(0xdd0)]('click',handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleAddCustomMathTopic),document['getElementById'](_0x22465c(0x452))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleSelectAllTopics),document['getElementById'](_0x22465c(0x587))[_0x22465c(0xdd0)]('click',handleDeselectAllTopics),document['getElementById'](_0x22465c(0x333))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document[_0x22465c(0x753)](_0x22465c(0x9d4))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x22465c(0x753)](_0x22465c(0x347))['addEventListener'](_0x22465c(0xaa0),()=>{showView('admin-dashboard');}),document['getElementById'](_0x22465c(0x6d1))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x363202=_0x22465c;messageModal[_0x363202(0x33a)][_0x363202(0xbaf)]('hidden'),typeof modalConfirmAction===_0x363202(0x360)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x22465c(0x753)](_0x22465c(0x770))[_0x22465c(0xdd0)]('click',()=>createProjectModal[_0x22465c(0x33a)][_0x22465c(0x23a)](_0x22465c(0x986))),document[_0x22465c(0x753)]('cancel-create-project-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>createProjectModal['classList']['add'](_0x22465c(0x986))),document[_0x22465c(0x753)](_0x22465c(0xc4f))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>adminPasswordModal['classList']['add'](_0x22465c(0x986))),document['getElementById'](_0x22465c(0xc69))[_0x22465c(0xdd0)]('click',handleAdminLogin),document['getElementById'](_0x22465c(0xc2e))[_0x22465c(0xdd0)](_0x22465c(0xe6a),_0x3570be=>{const _0x5f4fbe=_0x22465c;if(_0x3570be[_0x5f4fbe(0x735)]===_0x5f4fbe(0xcd2))handleAdminLogin();}),document[_0x22465c(0x753)](_0x22465c(0x732))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x1af6e1=_0x22465c;confirmationModal[_0x1af6e1(0x33a)][_0x1af6e1(0xbaf)]('hidden'),typeof cancelAction===_0x1af6e1(0x360)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x22465c(0x73f))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x2a7b5e=_0x22465c;confirmAction&&confirmAction(),confirmationModal['classList'][_0x2a7b5e(0xbaf)](_0x2a7b5e(0x986)),confirmAction=null,cancelAction=null;}),document[_0x22465c(0x753)](_0x22465c(0x608))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>renameQuizModal['classList'][_0x22465c(0xbaf)](_0x22465c(0x986))),document[_0x22465c(0x753)](_0x22465c(0x8e3))[_0x22465c(0xdd0)](_0x22465c(0xaa0),confirmRenameQuiz),document[_0x22465c(0x753)]('cancel-move-quiz-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>moveQuizModal[_0x22465c(0x33a)][_0x22465c(0xbaf)](_0x22465c(0x986))),document[_0x22465c(0x753)]('confirm-move-quiz-btn')[_0x22465c(0xdd0)]('click',confirmMoveQuiz),document[_0x22465c(0x753)](_0x22465c(0xdcb))['addEventListener'](_0x22465c(0xaa0),()=>quizSettingsModal[_0x22465c(0x33a)][_0x22465c(0xbaf)]('hidden')),document[_0x22465c(0x753)](_0x22465c(0xb07))[_0x22465c(0xdd0)](_0x22465c(0xaa0),confirmQuizSettings),document[_0x22465c(0x753)]('cancel-quiz-status-btn')[_0x22465c(0xdd0)]('click',()=>quizStatusModal[_0x22465c(0x33a)][_0x22465c(0xbaf)](_0x22465c(0x986))),document[_0x22465c(0x753)](_0x22465c(0xce4))[_0x22465c(0xdd0)](_0x22465c(0xaa0),confirmQuizStatus);const _0x4ebb01=document[_0x22465c(0x753)](_0x22465c(0xa03));document[_0x22465c(0x753)](_0x22465c(0x9ba))['addEventListener'](_0x22465c(0xaa0),()=>{const _0x45ee65=_0x22465c;_0x4ebb01[_0x45ee65(0x33a)][_0x45ee65(0xbaf)]('hidden');}),document['getElementById'](_0x22465c(0xaa8))[_0x22465c(0xdd0)](_0x22465c(0xaa0),async()=>{const _0x4005e0=_0x22465c,_0x607752=allQuizzes[_0x4005e0(0x7f4)](_0x37af48=>_0x37af48['id']===actionTargetId);_0x607752?(currentQuizData=_0x607752,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4ebb01[_0x4005e0(0x33a)][_0x4005e0(0xbaf)](_0x4005e0(0x986));}),document[_0x22465c(0x753)](_0x22465c(0xc0b))[_0x22465c(0xdd0)](_0x22465c(0xaa0),async()=>{const _0x202300=_0x22465c,_0x15aec7=allQuizzes[_0x202300(0x7f4)](_0x36ce33=>_0x36ce33['id']===actionTargetId);_0x15aec7?(currentQuizData=_0x15aec7,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4ebb01[_0x202300(0x33a)]['add'](_0x202300(0x986));});const _0x2a57c9=document[_0x22465c(0x753)](_0x22465c(0x4b8));_0x2a57c9[_0x22465c(0xd15)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x2a57c9[_0x22465c(0xdd0)](_0x22465c(0xaa0),openGlobalActivityModal),document[_0x22465c(0x753)](_0x22465c(0x73e))[_0x22465c(0xdd0)]('click',()=>{const _0x17faf4=_0x22465c;document['getElementById'](_0x17faf4(0x950))[_0x17faf4(0x33a)]['add'](_0x17faf4(0x986));}),document['getElementById'](_0x22465c(0x3b8))[_0x22465c(0xdd0)](_0x22465c(0xda9),_0x2b14d5=>{const _0x4458eb=_0x22465c;renderGlobalActivityList(_0x2b14d5[_0x4458eb(0x589)][_0x4458eb(0x8a6)]);}),document[_0x22465c(0x753)](_0x22465c(0x37b))[_0x22465c(0xdd0)]('click',_0x1a03ab=>{const _0xb28b2d=_0x22465c,_0x296c9a=_0x1a03ab[_0xb28b2d(0x589)][_0xb28b2d(0xdad)](_0xb28b2d(0xcbb));if(!_0x296c9a)return;const _0x1284d3=_0x296c9a[_0xb28b2d(0x970)]['id'],_0x2ab00c=_0x296c9a['dataset'][_0xb28b2d(0x7a1)],_0x3c6f57=allQuizzesGlobal[_0xb28b2d(0x7f4)](_0x270c61=>_0x270c61['id']===_0x1284d3);_0x3c6f57&&(document[_0xb28b2d(0x753)](_0xb28b2d(0x950))[_0xb28b2d(0x33a)][_0xb28b2d(0xbaf)](_0xb28b2d(0x986)),_0x2ab00c===_0xb28b2d(0xc3f)?handleStartLiveRace(_0x1284d3):showGameStartConfirmationModal(_0x1284d3,_0x2ab00c,_0x3c6f57[_0xb28b2d(0x3bb)]));}),document[_0x22465c(0x753)](_0x22465c(0xbf2))[_0x22465c(0xdd0)](_0x22465c(0xda9),renderProjects),document[_0x22465c(0x753)](_0x22465c(0x998))[_0x22465c(0xdd0)](_0x22465c(0x220),async()=>{const _0x2d8461=_0x22465c,_0x1c811a=document[_0x2d8461(0x753)](_0x2d8461(0x998))[_0x2d8461(0x8a6)],_0x1206ba=doc(db,_0x2d8461(0x51c),_0x2d8461(0x612));try{await setDoc(_0x1206ba,{'projectSort':_0x1c811a},{'merge':!![]});}catch(_0x1970e1){console['error'](_0x2d8461(0xbc3),_0x1970e1),showMessage(_0x2d8461(0x5a5));}}),document['getElementById'](_0x22465c(0x24e))['addEventListener'](_0x22465c(0xda9),renderQuizzes),document[_0x22465c(0x753)](_0x22465c(0x8af))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x130706=_0x22465c;globalDashboardSettings[_0x130706(0xd14)]=_0x130706(0x809),saveUserPreference(_0x130706(0xd14),_0x130706(0x809)),renderProjects();}),document['getElementById'](_0x22465c(0x93e))['addEventListener'](_0x22465c(0xaa0),()=>{const _0xdfc88f=_0x22465c;globalDashboardSettings[_0xdfc88f(0xd14)]='list',saveUserPreference(_0xdfc88f(0xd14),_0xdfc88f(0x311)),renderProjects();}),manageTab[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>switchProjectTab(_0x22465c(0x9a2))),resultsTab['addEventListener'](_0x22465c(0xaa0),()=>switchProjectTab(_0x22465c(0xada))),leaderboardTab[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>switchProjectTab(_0x22465c(0xe15))),document[_0x22465c(0x753)](_0x22465c(0x5ef))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>switchQuizDetailTab(_0x22465c(0xae2))),document[_0x22465c(0x753)](_0x22465c(0x7c8))[_0x22465c(0xdd0)]('click',()=>switchQuizDetailTab(_0x22465c(0xc93))),document[_0x22465c(0x753)]('leaderboard-quiz-tab-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>switchQuizDetailTab(_0x22465c(0xbd2))),document['getElementById'](_0x22465c(0xb38))['addEventListener'](_0x22465c(0xaa0),()=>switchQuizDetailTab(_0x22465c(0x4c9))),document[_0x22465c(0x753)](_0x22465c(0x2fc))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x22465c(0xaa0),generateWorksheet);const _0x5bb8c6=document[_0x22465c(0x753)](_0x22465c(0x518)),_0x407532=document['getElementById'](_0x22465c(0x530)),_0x474c72=document[_0x22465c(0x753)](_0x22465c(0xddb)),_0x4e798b=document['getElementById'](_0x22465c(0x526)),_0x227bd1=document['getElementById'](_0x22465c(0x89f)),_0x59227d=document[_0x22465c(0x753)]('parallel-test-input-area');topicTab['addEventListener'](_0x22465c(0xaa0),()=>{const _0x521696=_0x22465c;topicTab['classList'][_0x521696(0xbaf)](_0x521696(0x351)),textTab['classList'][_0x521696(0x23a)]('active'),fileTab[_0x521696(0x33a)]['remove'](_0x521696(0x351)),worksheetTab['classList']['remove'](_0x521696(0x351));if(_0x5bb8c6)_0x5bb8c6[_0x521696(0x33a)][_0x521696(0x23a)](_0x521696(0x351));if(_0x474c72)_0x474c72[_0x521696(0x33a)]['remove'](_0x521696(0x351));if(_0x227bd1)_0x227bd1[_0x521696(0x33a)][_0x521696(0x23a)]('active');topicInputArea[_0x521696(0x33a)][_0x521696(0x23a)](_0x521696(0x986)),textInputArea[_0x521696(0x33a)][_0x521696(0xbaf)](_0x521696(0x986)),fileInputArea[_0x521696(0x33a)][_0x521696(0xbaf)](_0x521696(0x986)),worksheetInputArea[_0x521696(0x33a)][_0x521696(0xbaf)](_0x521696(0x986));if(_0x407532)_0x407532[_0x521696(0x33a)][_0x521696(0xbaf)](_0x521696(0x986));if(_0x4e798b)_0x4e798b[_0x521696(0x33a)][_0x521696(0xbaf)](_0x521696(0x986));if(_0x59227d)_0x59227d[_0x521696(0x33a)][_0x521696(0xbaf)](_0x521696(0x986));}),textTab[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x41e113=_0x22465c;textTab[_0x41e113(0x33a)][_0x41e113(0xbaf)](_0x41e113(0x351)),topicTab['classList'][_0x41e113(0x23a)]('active'),fileTab['classList'][_0x41e113(0x23a)](_0x41e113(0x351)),worksheetTab[_0x41e113(0x33a)][_0x41e113(0x23a)]('active');if(_0x5bb8c6)_0x5bb8c6['classList'][_0x41e113(0x23a)](_0x41e113(0x351));if(_0x474c72)_0x474c72[_0x41e113(0x33a)][_0x41e113(0x23a)](_0x41e113(0x351));if(_0x227bd1)_0x227bd1[_0x41e113(0x33a)]['remove'](_0x41e113(0x351));textInputArea[_0x41e113(0x33a)]['remove']('hidden'),topicInputArea[_0x41e113(0x33a)]['add'](_0x41e113(0x986)),fileInputArea[_0x41e113(0x33a)][_0x41e113(0xbaf)](_0x41e113(0x986)),worksheetInputArea['classList'][_0x41e113(0xbaf)](_0x41e113(0x986));if(_0x407532)_0x407532['classList']['add'](_0x41e113(0x986));if(_0x4e798b)_0x4e798b[_0x41e113(0x33a)][_0x41e113(0xbaf)](_0x41e113(0x986));if(_0x59227d)_0x59227d['classList'][_0x41e113(0xbaf)]('hidden');}),fileTab['addEventListener'](_0x22465c(0xaa0),()=>{const _0x589a06=_0x22465c;fileTab['classList'][_0x589a06(0xbaf)](_0x589a06(0x351)),topicTab[_0x589a06(0x33a)][_0x589a06(0x23a)](_0x589a06(0x351)),textTab[_0x589a06(0x33a)][_0x589a06(0x23a)](_0x589a06(0x351)),worksheetTab[_0x589a06(0x33a)][_0x589a06(0x23a)]('active');if(_0x5bb8c6)_0x5bb8c6[_0x589a06(0x33a)]['remove']('active');if(_0x474c72)_0x474c72[_0x589a06(0x33a)][_0x589a06(0x23a)](_0x589a06(0x351));if(_0x227bd1)_0x227bd1[_0x589a06(0x33a)][_0x589a06(0x23a)](_0x589a06(0x351));fileInputArea[_0x589a06(0x33a)][_0x589a06(0x23a)]('hidden'),topicInputArea['classList'][_0x589a06(0xbaf)](_0x589a06(0x986)),textInputArea[_0x589a06(0x33a)][_0x589a06(0xbaf)]('hidden'),worksheetInputArea['classList']['add'](_0x589a06(0x986));if(_0x407532)_0x407532[_0x589a06(0x33a)]['add'](_0x589a06(0x986));if(_0x4e798b)_0x4e798b['classList'][_0x589a06(0xbaf)](_0x589a06(0x986));if(_0x59227d)_0x59227d['classList']['add'](_0x589a06(0x986));}),worksheetTab[_0x22465c(0xdd0)]('click',()=>{const _0x23cb06=_0x22465c;worksheetTab[_0x23cb06(0x33a)][_0x23cb06(0xbaf)](_0x23cb06(0x351)),topicTab[_0x23cb06(0x33a)][_0x23cb06(0x23a)](_0x23cb06(0x351)),textTab['classList'][_0x23cb06(0x23a)](_0x23cb06(0x351)),fileTab[_0x23cb06(0x33a)][_0x23cb06(0x23a)]('active');if(_0x5bb8c6)_0x5bb8c6[_0x23cb06(0x33a)][_0x23cb06(0x23a)](_0x23cb06(0x351));if(_0x474c72)_0x474c72[_0x23cb06(0x33a)]['remove'](_0x23cb06(0x351));if(_0x227bd1)_0x227bd1[_0x23cb06(0x33a)]['remove'](_0x23cb06(0x351));worksheetInputArea[_0x23cb06(0x33a)]['remove'](_0x23cb06(0x986)),topicInputArea['classList']['add'](_0x23cb06(0x986)),textInputArea['classList'][_0x23cb06(0xbaf)](_0x23cb06(0x986)),fileInputArea[_0x23cb06(0x33a)][_0x23cb06(0xbaf)]('hidden');if(_0x407532)_0x407532[_0x23cb06(0x33a)][_0x23cb06(0xbaf)](_0x23cb06(0x986));if(_0x4e798b)_0x4e798b[_0x23cb06(0x33a)][_0x23cb06(0xbaf)](_0x23cb06(0x986));if(_0x59227d)_0x59227d[_0x23cb06(0x33a)]['add'](_0x23cb06(0x986));});const _0x4cbd6f=document[_0x22465c(0x753)](_0x22465c(0xe3c)),_0x5d473d=document[_0x22465c(0x753)](_0x22465c(0xe5f));_0x4cbd6f&&_0x4cbd6f[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x150fbe=_0x22465c;topicTab[_0x150fbe(0x33a)][_0x150fbe(0x23a)](_0x150fbe(0x351)),textTab[_0x150fbe(0x33a)][_0x150fbe(0x23a)]('active'),fileTab['classList'][_0x150fbe(0x23a)](_0x150fbe(0x351)),worksheetTab[_0x150fbe(0x33a)][_0x150fbe(0x23a)](_0x150fbe(0x351));if(_0x5bb8c6)_0x5bb8c6[_0x150fbe(0x33a)][_0x150fbe(0x23a)](_0x150fbe(0x351));if(_0x474c72)_0x474c72['classList'][_0x150fbe(0x23a)]('active');if(_0x227bd1)_0x227bd1['classList'][_0x150fbe(0x23a)](_0x150fbe(0x351));_0x4cbd6f[_0x150fbe(0x33a)]['add'](_0x150fbe(0x351)),topicInputArea['classList']['add'](_0x150fbe(0x986)),textInputArea['classList'][_0x150fbe(0xbaf)]('hidden'),fileInputArea[_0x150fbe(0x33a)][_0x150fbe(0xbaf)]('hidden'),worksheetInputArea[_0x150fbe(0x33a)][_0x150fbe(0xbaf)]('hidden');if(_0x407532)_0x407532[_0x150fbe(0x33a)][_0x150fbe(0xbaf)](_0x150fbe(0x986));if(_0x4e798b)_0x4e798b[_0x150fbe(0x33a)][_0x150fbe(0xbaf)]('hidden');if(_0x59227d)_0x59227d[_0x150fbe(0x33a)][_0x150fbe(0xbaf)](_0x150fbe(0x986));_0x5d473d[_0x150fbe(0x33a)][_0x150fbe(0x23a)](_0x150fbe(0x986)),displayQuestionBank();});_0x5bb8c6&&(_0x5bb8c6[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x52aff0=_0x22465c;_0x5bb8c6['classList'][_0x52aff0(0xbaf)]('active'),topicTab[_0x52aff0(0x33a)]['remove'](_0x52aff0(0x351)),textTab[_0x52aff0(0x33a)][_0x52aff0(0x23a)]('active'),fileTab['classList']['remove']('active'),worksheetTab['classList'][_0x52aff0(0x23a)](_0x52aff0(0x351));if(_0x474c72)_0x474c72[_0x52aff0(0x33a)][_0x52aff0(0x23a)](_0x52aff0(0x351));if(_0x227bd1)_0x227bd1['classList'][_0x52aff0(0x23a)](_0x52aff0(0x351));_0x407532[_0x52aff0(0x33a)]['remove'](_0x52aff0(0x986)),topicInputArea['classList'][_0x52aff0(0xbaf)](_0x52aff0(0x986)),textInputArea[_0x52aff0(0x33a)][_0x52aff0(0xbaf)](_0x52aff0(0x986)),fileInputArea[_0x52aff0(0x33a)][_0x52aff0(0xbaf)](_0x52aff0(0x986)),worksheetInputArea[_0x52aff0(0x33a)][_0x52aff0(0xbaf)](_0x52aff0(0x986));if(_0x4e798b)_0x4e798b[_0x52aff0(0x33a)][_0x52aff0(0xbaf)](_0x52aff0(0x986));if(_0x59227d)_0x59227d[_0x52aff0(0x33a)]['add']('hidden');}),document[_0x22465c(0x753)](_0x22465c(0x4ad))[_0x22465c(0xdd0)]('click',handleGenerateFromLink));_0x474c72&&_0x474c72[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x3c5cfe=_0x22465c;_0x474c72[_0x3c5cfe(0x33a)][_0x3c5cfe(0xbaf)](_0x3c5cfe(0x351)),topicTab[_0x3c5cfe(0x33a)][_0x3c5cfe(0x23a)](_0x3c5cfe(0x351)),textTab['classList']['remove']('active'),fileTab[_0x3c5cfe(0x33a)][_0x3c5cfe(0x23a)](_0x3c5cfe(0x351)),worksheetTab[_0x3c5cfe(0x33a)][_0x3c5cfe(0x23a)](_0x3c5cfe(0x351));if(_0x5bb8c6)_0x5bb8c6[_0x3c5cfe(0x33a)][_0x3c5cfe(0x23a)](_0x3c5cfe(0x351));if(_0x4cbd6f)_0x4cbd6f[_0x3c5cfe(0x33a)]['remove']('active');if(_0x227bd1)_0x227bd1['classList'][_0x3c5cfe(0x23a)](_0x3c5cfe(0x351));_0x4e798b[_0x3c5cfe(0x33a)]['remove'](_0x3c5cfe(0x986)),topicInputArea[_0x3c5cfe(0x33a)][_0x3c5cfe(0xbaf)]('hidden'),textInputArea[_0x3c5cfe(0x33a)][_0x3c5cfe(0xbaf)](_0x3c5cfe(0x986)),fileInputArea[_0x3c5cfe(0x33a)][_0x3c5cfe(0xbaf)](_0x3c5cfe(0x986)),worksheetInputArea[_0x3c5cfe(0x33a)][_0x3c5cfe(0xbaf)](_0x3c5cfe(0x986));if(_0x407532)_0x407532['classList'][_0x3c5cfe(0xbaf)]('hidden');if(_0x5d473d)_0x5d473d[_0x3c5cfe(0x33a)][_0x3c5cfe(0xbaf)](_0x3c5cfe(0x986));if(_0x59227d)_0x59227d[_0x3c5cfe(0x33a)][_0x3c5cfe(0xbaf)]('hidden');});_0x227bd1&&_0x227bd1['addEventListener'](_0x22465c(0xaa0),()=>{const _0xd8511e=_0x22465c;_0x227bd1[_0xd8511e(0x33a)]['add'](_0xd8511e(0x351)),topicTab[_0xd8511e(0x33a)]['remove'](_0xd8511e(0x351)),textTab[_0xd8511e(0x33a)][_0xd8511e(0x23a)]('active'),fileTab[_0xd8511e(0x33a)][_0xd8511e(0x23a)](_0xd8511e(0x351)),worksheetTab[_0xd8511e(0x33a)][_0xd8511e(0x23a)]('active');if(_0x5bb8c6)_0x5bb8c6[_0xd8511e(0x33a)]['remove'](_0xd8511e(0x351));if(_0x474c72)_0x474c72[_0xd8511e(0x33a)]['remove'](_0xd8511e(0x351));if(_0x4cbd6f)_0x4cbd6f['classList'][_0xd8511e(0x23a)](_0xd8511e(0x351));_0x59227d[_0xd8511e(0x33a)][_0xd8511e(0x23a)](_0xd8511e(0x986)),topicInputArea[_0xd8511e(0x33a)]['add'](_0xd8511e(0x986)),textInputArea[_0xd8511e(0x33a)][_0xd8511e(0xbaf)](_0xd8511e(0x986)),fileInputArea[_0xd8511e(0x33a)][_0xd8511e(0xbaf)](_0xd8511e(0x986)),worksheetInputArea[_0xd8511e(0x33a)][_0xd8511e(0xbaf)](_0xd8511e(0x986));if(_0x407532)_0x407532[_0xd8511e(0x33a)][_0xd8511e(0xbaf)](_0xd8511e(0x986));if(_0x4e798b)_0x4e798b[_0xd8511e(0x33a)][_0xd8511e(0xbaf)]('hidden');if(_0x5d473d)_0x5d473d[_0xd8511e(0x33a)][_0xd8511e(0xbaf)]('hidden');});const _0x166fac=document[_0x22465c(0x753)](_0x22465c(0x6ae)),_0x28eac0=document['getElementById']('generate-from-blueprint-btn');if(_0x166fac){const _0x3d9f81=document[_0x22465c(0x753)](_0x22465c(0x6ae)),_0x55243c=document[_0x22465c(0x753)]('generate-from-blueprint-btn'),_0xb4a024=document[_0x22465c(0x753)](_0x22465c(0x406)),_0xa18551=document[_0x22465c(0x753)](_0x22465c(0x8f5)),_0x21ae52=document[_0x22465c(0x753)]('blueprint-topics-list-container'),_0x21870b=document[_0x22465c(0x753)](_0x22465c(0x73d));_0x3d9f81&&_0x3d9f81[_0x22465c(0xdd0)](_0x22465c(0x220),async _0x3d52d1=>{const _0x35e602=_0x22465c;_0xb4a024[_0x35e602(0x33a)][_0x35e602(0xbaf)](_0x35e602(0x986)),_0x21ae52[_0x35e602(0x33a)]['add'](_0x35e602(0x986)),_0xa18551[_0x35e602(0xc32)]=![],_0x55243c[_0x35e602(0x5ad)]=!![];const _0x51496d=_0x3d52d1[_0x35e602(0x589)][_0x35e602(0xc89)][0x0];if(_0x51496d){_0x55243c[_0x35e602(0x5ad)]=![];try{const _0x149372=await extractTextFromPdf(_0x51496d);await analyzeBlueprintForTopics(_0x149372);}catch(_0x60d09a){showMessage(_0x35e602(0xe36)),_0xb4a024['classList'][_0x35e602(0xbaf)]('hidden');}}}),_0xa18551&&_0xa18551['addEventListener'](_0x22465c(0x220),_0x58e3c9=>{const _0x22e9dc=_0x22465c,_0x18aec9=_0x58e3c9['target']['checked'];_0x21ae52['classList'][_0x22e9dc(0x40d)](_0x22e9dc(0x986),!_0x18aec9),_0x55243c[_0x22e9dc(0x5ad)]=_0x18aec9;}),_0x21870b&&(_0x21870b&&_0x21870b['addEventListener'](_0x22465c(0xaa0),_0x40e6ae=>{const _0x4c723c=_0x22465c,_0x4571dc=_0x40e6ae[_0x4c723c(0x589)]['closest']('.topic-selection-btn'),_0xdc09ca=_0x40e6ae[_0x4c723c(0x589)]['closest'](_0x4c723c(0x2c1));if(_0x4571dc){const _0x2aaffa=unescape(_0x4571dc['dataset'][_0x4c723c(0x3bb)]);generateQuizForSingleTopic(_0x2aaffa);}else{if(_0xdc09ca){const _0x25a7fd=unescape(_0xdc09ca['dataset'][_0x4c723c(0x3bb)]);handleGenerateTeachingContent(_0x25a7fd);}}}));}_0x28eac0&&_0x28eac0[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleGenerateFromBlueprint);const _0x5d86a3=document['getElementById']('parallel-test-upload-input'),_0x4837ba=document[_0x22465c(0x753)](_0x22465c(0xd48));_0x5d86a3&&_0x5d86a3['addEventListener'](_0x22465c(0x220),_0x258b82=>{const _0x1086bd=_0x22465c;_0x4837ba[_0x1086bd(0x5ad)]=_0x258b82[_0x1086bd(0x589)][_0x1086bd(0xc89)][_0x1086bd(0xd2b)]===0x0;});_0x4837ba&&_0x4837ba[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleLoadQuiz),startQuizBtn[_0x22465c(0xdd0)](_0x22465c(0xaa0),async()=>{const _0x5cb010=_0x22465c,_0x1f444f=document[_0x5cb010(0x753)](_0x5cb010(0xacd));currentStudentName=_0x1f444f[_0x5cb010(0x8a6)];if(!currentStudentName){showMessage(_0x5cb010(0x4a0));return;}try{const _0x59ad4c=currentQuizData['id'],_0x1931cb=doc(db,_0x5cb010(0x8da)+appId+_0x5cb010(0x75d)+_0x59ad4c+'/submissions',currentStudentName),_0xd1ca40=await getDoc(_0x1931cb);!_0xd1ca40[_0x5cb010(0xc9d)]()?await setDoc(_0x1931cb,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x1931cb,{'startedAt':new Date()['toISOString']()});}catch(_0x2966b4){console[_0x5cb010(0x28d)](_0x5cb010(0x6f6),_0x2966b4),showMessage(_0x5cb010(0x356));return;}studentNameSelectionView[_0x5cb010(0x33a)][_0x5cb010(0xbaf)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x22465c(0x753)](_0x22465c(0x51b))[_0x22465c(0xdd0)](_0x22465c(0xaa0),showJoinGameView),document['getElementById'](_0x22465c(0x683))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleJoinLiveGame),document[_0x22465c(0x753)]('back-to-student-initial-btn')['addEventListener'](_0x22465c(0xaa0),()=>showView('student'));const _0x3d5576=()=>{const _0x3fc00c=_0x22465c,_0x1406ec=document[_0x3fc00c(0x753)]('results-quiz-title')['textContent'][_0x3fc00c(0x749)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3fc00c(0x97a)+(_0x1406ec||_0x3fc00c(0x693));},_0x22e737=document[_0x22465c(0x753)](_0x22465c(0x368));_0x22e737&&_0x22e737[_0x22465c(0xdd0)](_0x22465c(0xda9),_0x5f58bb=>{const _0x47831c=_0x22465c,_0x415628=_0x5f58bb[_0x47831c(0x589)]['value'][_0x47831c(0x6d9)]()[_0x47831c(0xda7)](),_0xe95f9b=document['getElementById']('math-topics-checkbox-container'),_0x1ff668=_0xe95f9b['querySelectorAll'](_0x47831c(0xe5a));_0x1ff668[_0x47831c(0x91b)](_0x2b2052=>{const _0x454dd8=_0x47831c;let _0x6e3fd3=![];const _0x274d9f=_0x2b2052['querySelectorAll'](_0x454dd8(0x99c));_0x274d9f['forEach'](_0x61b8d=>{const _0x43ab71=_0x454dd8,_0x4ff0fc=_0x61b8d[_0x43ab71(0xd5b)](_0x43ab71(0xd5c))[_0x43ab71(0xbde)][_0x43ab71(0x6d9)]();_0x4ff0fc['includes'](_0x415628)?(_0x61b8d['style'][_0x43ab71(0x62e)]=_0x43ab71(0x264),_0x6e3fd3=!![]):_0x61b8d['style'][_0x43ab71(0x62e)]=_0x43ab71(0x961);}),_0x6e3fd3?_0x2b2052[_0x454dd8(0x41d)][_0x454dd8(0x62e)]='block':_0x2b2052[_0x454dd8(0x41d)][_0x454dd8(0x62e)]=_0x454dd8(0x961);});});document['getElementById'](_0x22465c(0x557))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>exportTableAsImage(_0x22465c(0xc72),_0x3d5576())),document[_0x22465c(0x753)](_0x22465c(0x673))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>exportTableAsPDF(_0x22465c(0x763),_0x3d5576())),document[_0x22465c(0x753)](_0x22465c(0x633))['addEventListener'](_0x22465c(0xaa0),()=>exportTableAsWord(_0x22465c(0xc72),_0x3d5576())),document[_0x22465c(0x753)](_0x22465c(0x23b))['addEventListener'](_0x22465c(0xaa0),()=>exportTableAsExcel(_0x22465c(0x763),_0x3d5576()));const _0x3fa0ab=()=>{const _0x38958f=_0x22465c,_0x5e92bb=document[_0x38958f(0x753)]('results-quiz-title')[_0x38958f(0xbde)][_0x38958f(0x749)](/[^a-z0-9]/gi,'_')[_0x38958f(0x6d9)]();return _0x38958f(0x1ec)+(_0x5e92bb||_0x38958f(0x693));};document['getElementById']('export-leaderboard-image-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>exportTableAsImage(_0x22465c(0x515),_0x3fa0ab())),document['getElementById'](_0x22465c(0xd7f))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>exportTableAsPDF('quiz-leaderboard-table',_0x3fa0ab())),document[_0x22465c(0x753)](_0x22465c(0xde6))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>exportTableAsWord(_0x22465c(0x515),_0x3fa0ab())),document['getElementById'](_0x22465c(0x848))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>exportTableAsExcel(_0x22465c(0x98b),_0x3fa0ab())),projectQuizzesList['addEventListener'](_0x22465c(0xaa0),async _0x518b5e=>{const _0x38bde9=_0x22465c,_0x3dd973=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)]('.quiz-result-card'),_0x339480=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)](_0x38bde9(0xaad)),_0xe15999=_0x518b5e['target'][_0x38bde9(0xdad)](_0x38bde9(0x7aa)),_0x46f5fe=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)](_0x38bde9(0xbb3)),_0x4e1557=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)](_0x38bde9(0x20f)),_0x285533=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)](_0x38bde9(0x65f)),_0x4d7605=_0x518b5e[_0x38bde9(0x589)]['closest'](_0x38bde9(0x53e)),_0x13c004=_0x518b5e[_0x38bde9(0x589)]['closest'](_0x38bde9(0x5df)),_0x5a1b1d=_0x518b5e[_0x38bde9(0x589)]['closest'](_0x38bde9(0xbfe)),_0x4f231b=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)]('.rename-quiz-btn'),_0x136484=_0x518b5e['target'][_0x38bde9(0xdad)]('.parallel-quiz-btn'),_0x369333=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)](_0x38bde9(0x31d)),_0x59875b=_0x518b5e[_0x38bde9(0x589)]['closest']('.pair-quiz-btn'),_0x488764=_0x518b5e['target']['closest'](_0x38bde9(0xa16)),_0x590cd0=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)](_0x38bde9(0x266)),_0x417ff7=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)](_0x38bde9(0xdea)),_0x373443=_0x518b5e['target'][_0x38bde9(0xdad)]('.export-pdf-list-btn'),_0x277234=_0x518b5e[_0x38bde9(0x589)]['closest']('.delete-quiz-btn'),_0x593a55=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)](_0x38bde9(0x689)),_0x5912f0=_0x518b5e['target'][_0x38bde9(0xdad)](_0x38bde9(0x644)),_0x6464da=_0x518b5e['target']['closest'](_0x38bde9(0xd81)),_0x1054d8=_0x518b5e[_0x38bde9(0x589)][_0x38bde9(0xdad)]('.start-game-btn'),_0x86ac1d=_0x518b5e['target'][_0x38bde9(0xdad)](_0x38bde9(0x205));if(_0x1054d8){const _0xbe44b2=_0x1054d8[_0x38bde9(0x970)]['quizId'],_0x242d32=_0x1054d8['dataset']['mode'],_0x4b5ac7=allQuizzes[_0x38bde9(0x7f4)](_0x42fb10=>_0x42fb10['id']===_0xbe44b2);_0x4b5ac7&&showGameStartConfirmationModal(_0xbe44b2,_0x242d32,_0x4b5ac7[_0x38bde9(0x3bb)]);}else{if(_0x86ac1d){const _0x28c513=_0x86ac1d[_0x38bde9(0x970)][_0x38bde9(0x44b)];handleStartLiveRace(_0x28c513);}else{if(_0x5912f0){const _0x19d252=_0x5912f0['dataset'][_0x38bde9(0x44b)],_0x4cfdba=document[_0x38bde9(0x753)](_0x38bde9(0x3dc)+_0x19d252);_0x4cfdba&&_0x4cfdba[_0x38bde9(0x33a)][_0x38bde9(0x40d)]('hidden');}else{if(_0x339480){const _0x30b020=_0x339480[_0x38bde9(0x970)][_0x38bde9(0x44b)],_0x4d0a62=allQuizzes[_0x38bde9(0x7f4)](_0x1293fe=>_0x1293fe['id']===_0x30b020);_0x4d0a62&&handleGenerateParallelPostTest(_0x4d0a62);}else{if(_0xe15999)handleCompareResults(_0xe15999['dataset'][_0x38bde9(0x44b)],_0xe15999['dataset']['preTestId']);else{if(_0x46f5fe){const _0x1ccbbf=_0x46f5fe['dataset'][_0x38bde9(0x44b)],_0xe7d02a=allQuizzes[_0x38bde9(0x7f4)](_0xc286a5=>_0xc286a5['id']===_0x1ccbbf);_0xe7d02a&&_0xe7d02a[_0x38bde9(0xb45)]?(displayLessonPlan(_0xe7d02a['lessonPlan'],_0xe7d02a),showConfirmation(_0x38bde9(0xb5f),()=>handleGenerateLessonPlan(_0x1ccbbf)),document[_0x38bde9(0x753)](_0x38bde9(0xd26))[_0x38bde9(0xd5b)]('h3')['textContent']=_0x38bde9(0x22e),document[_0x38bde9(0x753)](_0x38bde9(0x73f))['textContent']=_0x38bde9(0x98c)):handleGenerateLessonPlan(_0x1ccbbf);}else{if(_0x4e1557)handleToggleStarQuiz(_0x4e1557[_0x38bde9(0x970)][_0x38bde9(0x44b)]);else{if(_0x285533)copyTextToClipboard(_0x285533['dataset'][_0x38bde9(0x44b)],_0x38bde9(0xc3e));else{if(_0x4d7605)handleOpenQuizEditor(_0x4d7605[_0x38bde9(0x970)][_0x38bde9(0x44b)]);else{if(_0x13c004)handleQuizSettings(_0x13c004[_0x38bde9(0x970)][_0x38bde9(0x44b)]);else{if(_0x5a1b1d)handleDuplicateQuiz(_0x5a1b1d[_0x38bde9(0x970)][_0x38bde9(0x44b)]);else{if(_0x4f231b)handleRenameQuiz(_0x4f231b[_0x38bde9(0x970)]['quizId'],_0x4f231b[_0x38bde9(0x970)][_0x38bde9(0x3bb)]);else{if(_0x136484){const _0x5db54a=_0x136484[_0x38bde9(0x970)][_0x38bde9(0x44b)],_0x1aa982=allQuizzes[_0x38bde9(0x7f4)](_0x355e7e=>_0x355e7e['id']===_0x5db54a);_0x1aa982&&handleGenerateParallelFromBank(_0x1aa982);}else{if(_0x369333)handleMoveQuiz(_0x369333['dataset'][_0x38bde9(0x44b)]);else{if(_0x59875b)handleManualQuizPairing(_0x59875b[_0x38bde9(0x970)][_0x38bde9(0x44b)]);else{if(_0x488764)handleUnpairQuiz(_0x488764['dataset'][_0x38bde9(0x44b)]);else{if(_0x590cd0){const _0x2f04d6=_0x590cd0[_0x38bde9(0x970)]['quizId'],_0x20be33=allQuizzes[_0x38bde9(0x7f4)](_0x240f7c=>_0x240f7c['id']===_0x2f04d6);if(_0x20be33)startPresentation(_0x20be33);}else{if(_0x417ff7){const _0x1be12b=_0x417ff7['dataset'][_0x38bde9(0x44b)],_0x1fdf68=allQuizzes[_0x38bde9(0x7f4)](_0x5ed17e=>_0x5ed17e['id']===_0x1be12b);_0x1fdf68&&(currentQuizData=_0x1fdf68,startAdminTest());}else{if(_0x373443)actionTargetId=_0x373443[_0x38bde9(0x970)][_0x38bde9(0x44b)],document['getElementById'](_0x38bde9(0xa03))[_0x38bde9(0x33a)][_0x38bde9(0x23a)](_0x38bde9(0x986));else{if(_0x277234)showConfirmation(_0x38bde9(0x2f9)+_0x277234[_0x38bde9(0x970)][_0x38bde9(0x3bb)]+_0x38bde9(0xa51),()=>handleDeleteQuiz(_0x277234[_0x38bde9(0x970)]['quizId']));else{if(_0x593a55)handleQuizStatus(_0x593a55[_0x38bde9(0x970)][_0x38bde9(0x44b)]);else{if(_0x6464da)handleGenerateEasyVersionQuiz(_0x6464da[_0x38bde9(0x970)]['quizId']);else _0x3dd973&&showQuizDetailView(_0x3dd973[_0x38bde9(0x970)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x22465c(0x753)]('cancel-team-selection-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>showView(_0x22465c(0xbf8))),document[_0x22465c(0x753)]('confirm-team-players-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),confirmAndStartTeamQuiz),document[_0x22465c(0x753)](_0x22465c(0x98b))[_0x22465c(0xd5b)](_0x22465c(0xa4d))[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0x5bb40d=>{const _0x1f3373=_0x22465c,_0x3d319c=_0x5bb40d[_0x1f3373(0x589)]['closest'](_0x1f3373(0xb54));if(!_0x3d319c||!_0x3d319c[_0x1f3373(0x970)][_0x1f3373(0xb00)])return;const _0x4d5f56=_0x3d319c[_0x1f3373(0x970)][_0x1f3373(0xb00)];if(quizLeaderboardSortBy===_0x4d5f56)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1f3373(0xd4b)?_0x1f3373(0xbd5):_0x1f3373(0xd4b);else{quizLeaderboardSortBy=_0x4d5f56;const _0x37fe86=['studentName'];quizLeaderboardSortOrder=_0x37fe86[_0x1f3373(0x842)](_0x4d5f56)?_0x1f3373(0xd4b):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1f3373(0xd12));}),document[_0x22465c(0x753)](_0x22465c(0x9f8))[_0x22465c(0xdd0)](_0x22465c(0xaa0),closePresentation),document[_0x22465c(0x753)](_0x22465c(0x9f3))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x22465c(0xcfa))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x301318=_0x22465c;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x301318(0x806)][_0x301318(0xd2b)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x22465c(0xe08),()=>{const _0x553ab3=_0x22465c;!document[_0x553ab3(0xe01)]&&(presentationModal[_0x553ab3(0x41d)][_0x553ab3(0x62e)]=_0x553ab3(0x961));}),document[_0x22465c(0x753)](_0x22465c(0x4e3))[_0x22465c(0xdd0)]('click',handleDeleteAllStudents),studentList['addEventListener']('click',_0x5756cc=>{const _0x3eb237=_0x22465c,_0x27ae66=_0x5756cc['target'][_0x3eb237(0xdad)](_0x3eb237(0xa1b));if(_0x27ae66){const _0x3d9b0f=_0x27ae66['dataset'][_0x3eb237(0x4f9)];handleDeleteStudent(_0x3d9b0f);}}),document['getElementById']('generate-from-file-btn')[_0x22465c(0xdd0)]('click',handleGenerateFromFileClick),fileUploadInput[_0x22465c(0xdd0)](_0x22465c(0x220),_0x9d1cca=>{const _0x16bc52=_0x22465c,_0x38dc1a=_0x9d1cca[_0x16bc52(0x589)][_0x16bc52(0xc89)][0x0],_0x2f8593=document[_0x16bc52(0x753)](_0x16bc52(0xd92)),_0x9dff6f=document['getElementById'](_0x16bc52(0xb8f)),_0x51063e=document['getElementById']('separate-by-content-from-file-checkbox');_0x38dc1a?(selectedFile=_0x38dc1a,_0x51063e[_0x16bc52(0xc32)]?(_0x2f8593['disabled']=!![],analyzeFileForTopics(_0x38dc1a)):(_0x2f8593[_0x16bc52(0x5ad)]=![],_0x9dff6f['classList']['add']('hidden'))):(selectedFile=null,_0x2f8593[_0x16bc52(0x5ad)]=!![],_0x9dff6f[_0x16bc52(0x33a)][_0x16bc52(0xbaf)](_0x16bc52(0x986)));}),document[_0x22465c(0x753)]('separate-by-content-from-file-checkbox')[_0x22465c(0xdd0)](_0x22465c(0x220),_0x5c07f7=>{const _0x53b7f6=_0x22465c,_0x49e9eb=_0x5c07f7['target'][_0x53b7f6(0xc32)],_0x147437=document['getElementById'](_0x53b7f6(0xd92)),_0x8877dd=document[_0x53b7f6(0x753)](_0x53b7f6(0xb8f));_0x49e9eb?(_0x147437['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x8877dd[_0x53b7f6(0x33a)][_0x53b7f6(0x23a)](_0x53b7f6(0x986)),document[_0x53b7f6(0x753)](_0x53b7f6(0x3f3))[_0x53b7f6(0xd15)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x8877dd[_0x53b7f6(0x33a)][_0x53b7f6(0xbaf)](_0x53b7f6(0x986)),_0x147437[_0x53b7f6(0x5ad)]=!selectedFile);}),document['getElementById']('file-topics-list-container')['addEventListener'](_0x22465c(0xaa0),_0x669f92=>{const _0x295673=_0x22465c,_0x9744cf=_0x669f92['target'][_0x295673(0xdad)](_0x295673(0x30f)),_0x1bf9c2=_0x669f92[_0x295673(0x589)]['closest'](_0x295673(0x2c1));if(_0x9744cf){const _0x18a7c4=unescape(_0x9744cf['dataset'][_0x295673(0x3bb)]);generateHybridQuizForTopic(_0x18a7c4);}else{if(_0x1bf9c2){const _0x3afa42=unescape(_0x1bf9c2[_0x295673(0x970)][_0x295673(0x3bb)]),_0x3a83e0=document[_0x295673(0x753)](_0x295673(0x344))[_0x295673(0x8a6)];handleGenerateAndShowLesson(_0x3afa42,_0x3a83e0);}}}),document['getElementById'](_0x22465c(0x946))[_0x22465c(0xdd0)]('change',_0x3dc5a5=>{const _0x111eb1=_0x22465c,_0x3fb86c=document[_0x111eb1(0x753)](_0x111eb1(0xc48)),_0x434c5a=document[_0x111eb1(0x753)](_0x111eb1(0x885)),_0x3ae28c=document[_0x111eb1(0x753)](_0x111eb1(0xd5f));_0x3dc5a5[_0x111eb1(0x589)]['value']===_0x111eb1(0x961)?_0x3fb86c['classList'][_0x111eb1(0xbaf)]('hidden'):(_0x3fb86c['classList']['remove'](_0x111eb1(0x986)),_0x3dc5a5['target']['value']===_0x111eb1(0x8b8)?(_0x434c5a['textContent']=_0x111eb1(0xb60),_0x3ae28c[_0x111eb1(0x8a6)]='10'):(_0x434c5a['textContent']='ระยะเวลา\x20(วินาที):',_0x3ae28c['value']='30'));}),document[_0x22465c(0x753)](_0x22465c(0xb9c))[_0x22465c(0xdd0)](_0x22465c(0x220),_0x3265d4=>{const _0x9161a9=_0x22465c,_0x11b550=document[_0x9161a9(0x753)](_0x9161a9(0x795)),_0x54a827=_0x3265d4[_0x9161a9(0x589)]['value'],_0x331174=document[_0x9161a9(0xd5b)](_0x9161a9(0x44f)),_0x1856fe=document[_0x9161a9(0x753)](_0x9161a9(0x208)),_0x1f7de8=document['getElementById'](_0x9161a9(0x1d5));_0x54a827==='matching'?_0x331174['textContent']=_0x9161a9(0x8b9):_0x331174[_0x9161a9(0xbde)]=_0x9161a9(0x87e),_0x54a827===_0x9161a9(0x431)||_0x54a827===_0x9161a9(0x990)||_0x54a827===_0x9161a9(0x32a)?_0x11b550['classList'][_0x9161a9(0x23a)]('hidden'):_0x11b550[_0x9161a9(0x33a)][_0x9161a9(0xbaf)](_0x9161a9(0x986)),_0x1856fe[_0x9161a9(0x513)]=_0x1f7de8[_0x9161a9(0x8a6)];}),document[_0x22465c(0x753)](_0x22465c(0x1d5))[_0x22465c(0xdd0)](_0x22465c(0xda9),_0x54c668=>{const _0x2e2dec=_0x22465c;document[_0x2e2dec(0x753)]('passing-score-input')[_0x2e2dec(0x513)]=_0x54c668['target'][_0x2e2dec(0x8a6)];}),document[_0x22465c(0x753)](_0x22465c(0x308))[_0x22465c(0xdd0)](_0x22465c(0x220),_0x23ccd9=>{const _0x38715b=_0x22465c,_0x3ac32d=document['getElementById'](_0x38715b(0x5c8)),_0x2663eb=document[_0x38715b(0x753)](_0x38715b(0x887)),_0x36be66=document[_0x38715b(0x753)]('modal-timer-duration-input');_0x23ccd9[_0x38715b(0x589)][_0x38715b(0x8a6)]===_0x38715b(0x961)?_0x3ac32d[_0x38715b(0x33a)][_0x38715b(0xbaf)](_0x38715b(0x986)):(_0x3ac32d['classList'][_0x38715b(0x23a)](_0x38715b(0x986)),_0x23ccd9['target']['value']===_0x38715b(0x8b8)?_0x2663eb[_0x38715b(0xbde)]='ระยะเวลา\x20(นาที):':_0x2663eb[_0x38715b(0xbde)]=_0x38715b(0x64e));}),document[_0x22465c(0x753)](_0x22465c(0x50f))['addEventListener'](_0x22465c(0xaa0),()=>{const _0x3c9634=_0x22465c;document[_0x3c9634(0x753)](_0x3c9634(0xc6a))[_0x3c9634(0x33a)][_0x3c9634(0xbaf)]('hidden');}),document[_0x22465c(0x753)](_0x22465c(0xaab))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x3c0542=_0x22465c;document['getElementById'](_0x3c0542(0xc6a))[_0x3c0542(0x33a)][_0x3c0542(0xbaf)](_0x3c0542(0x986));}),document[_0x22465c(0x753)]('verify-answers-editor-btn')[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleVerifyAnswersInEditor),document[_0x22465c(0x753)](_0x22465c(0x859))['addEventListener'](_0x22465c(0xaa0),()=>{const _0x5b1362=_0x22465c;document[_0x5b1362(0x753)](_0x5b1362(0xc6a))[_0x5b1362(0x33a)][_0x5b1362(0xbaf)]('hidden'),showConfirmation(_0x5b1362(0x271),handleSaveChanges);}),document['getElementById'](_0x22465c(0xdc0))[_0x22465c(0xdd0)](_0x22465c(0xaa0),handleAutoFixLatex);const _0x40005b=document['getElementById']('quiz-editor-questions-container');_0x40005b&&_0x40005b['addEventListener'](_0x22465c(0xaa0),_0x4d88d2=>{const _0x99e690=_0x22465c,_0x5dcaa1=_0x4d88d2[_0x99e690(0x589)][_0x99e690(0xdad)]('.regenerate-question-editor-btn');if(_0x5dcaa1){const _0x27ee9f=_0x5dcaa1['closest'](_0x99e690(0xb4c)),_0x34776f=parseInt(_0x27ee9f['dataset'][_0x99e690(0x33c)],0xa);handleRegenerateQuestionInEditor(_0x34776f);return;}const _0x577924=_0x4d88d2['target'][_0x99e690(0xdad)](_0x99e690(0x207));if(_0x577924){const _0x4ca779=_0x577924[_0x99e690(0xdad)](_0x99e690(0xb4c)),_0x28d3d7=parseInt(_0x4ca779[_0x99e690(0x970)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x28d3d7);return;}const _0xcdcced=_0x4d88d2[_0x99e690(0x589)][_0x99e690(0xdad)](_0x99e690(0x6bb));if(_0xcdcced){handleAddQuestionInEditor();return;}});document[_0x22465c(0x753)](_0x22465c(0x6b7))[_0x22465c(0xdd0)]('click',openQuizBankModal),document['getElementById'](_0x22465c(0x304))[_0x22465c(0xdd0)]('click',()=>{const _0x11885a=_0x22465c;document['getElementById'](_0x11885a(0x38b))['classList']['add'](_0x11885a(0x986));}),document[_0x22465c(0x753)]('bank-quiz-search-input')[_0x22465c(0xdd0)]('input',_0x408833=>renderQuizBankList(_0x408833[_0x22465c(0x589)]['value']));const _0x3293ab=document[_0x22465c(0x753)](_0x22465c(0x3ab));if(_0x3293ab){let _0x400942=null;_0x3293ab[_0x22465c(0xdd0)]('click',_0x27087f=>{const _0x193597=_0x22465c,_0x49eb40=_0x27087f['target'],_0x1cc886=_0x49eb40[_0x193597(0xdad)](_0x193597(0x79b)),_0x2f9ffa=_0x49eb40['closest']('.delete-custom-topic-btn'),_0x214eaa=_0x49eb40[_0x193597(0xdad)](_0x193597(0x2bb)),_0x197ab6=_0x49eb40[_0x193597(0xdad)](_0x193597(0x97f));if(_0x2f9ffa){_0x27087f[_0x193597(0x83f)]();const _0x58c9cb=_0x2f9ffa['dataset']['id'],_0x4fb84e=_0x2f9ffa['closest'](_0x193597(0xb50))['querySelector'](_0x193597(0xd5c))[_0x193597(0xbde)];showConfirmation(_0x193597(0x8fb)+_0x4fb84e+'\x22?',()=>handleDeleteCustomTopic(_0x58c9cb));}else{if(_0x1cc886){_0x27087f[_0x193597(0x83f)]();_0x400942&&toggleTopicEditMode(_0x400942,![]);const _0x3c6538=_0x1cc886[_0x193597(0xdad)](_0x193597(0xd38));_0x400942=_0x3c6538,toggleTopicEditMode(_0x3c6538,!![]);}else{if(_0x214eaa){_0x27087f[_0x193597(0x83f)]();const _0x47219b=_0x214eaa[_0x193597(0x970)]['id'],_0xc2e012=_0x214eaa['closest'](_0x193597(0xd38)),_0x21f782=_0xc2e012[_0x193597(0xd5b)](_0x193597(0xcec))[_0x193597(0x8a6)];handleUpdateCustomTopic(_0x47219b,_0x21f782),_0x400942=null;}else{if(_0x197ab6){_0x27087f[_0x193597(0x83f)]();const _0xcc9dbd=_0x197ab6[_0x193597(0xdad)](_0x193597(0xd38));toggleTopicEditMode(_0xcc9dbd,![]),_0x400942=null;}}}}}),document['getElementById'](_0x22465c(0x7cc))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x1faa29=_0x22465c;document['getElementById'](_0x1faa29(0xa7a))[_0x1faa29(0x33a)][_0x1faa29(0xbaf)](_0x1faa29(0x986));}),document[_0x22465c(0x753)](_0x22465c(0xb0e))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x429bbb=_0x22465c;document[_0x429bbb(0x753)](_0x429bbb(0xa7a))[_0x429bbb(0x33a)][_0x429bbb(0xbaf)](_0x429bbb(0x986));}),document['getElementById'](_0x22465c(0x5be))[_0x22465c(0xdd0)]('click',handleExportLessonPDF);}document[_0x22465c(0x753)](_0x22465c(0x219))[_0x22465c(0xdd0)](_0x22465c(0xaa0),()=>{const _0x59080e=_0x22465c;document[_0x59080e(0x753)](_0x59080e(0xe0d))[_0x59080e(0x33a)][_0x59080e(0xbaf)]('hidden');}),document[_0x22465c(0x753)](_0x22465c(0x3d8))['addEventListener'](_0x22465c(0xaa0),()=>{const _0x2b9447=_0x22465c;document[_0x2b9447(0x753)](_0x2b9447(0xe0d))['classList'][_0x2b9447(0xbaf)](_0x2b9447(0x986));}),setupComparisonModalTabs(),document[_0x22465c(0x595)][_0x22465c(0xdd0)](_0x22465c(0xaa0),function(_0x3280e5){const _0x30ffc1=_0x22465c;if(_0x3280e5[_0x30ffc1(0x589)]['classList']['contains'](_0x30ffc1(0x35c))){const _0x423f41=unescape(_0x3280e5['target'][_0x30ffc1(0x970)][_0x30ffc1(0x3bb)]);startSkillPractice(_0x423f41);}}),document[_0x22465c(0x753)](_0x22465c(0xaef))[_0x22465c(0xdd0)](_0x22465c(0xaa0),_0x4161f0=>{const _0x313e2e=_0x22465c,_0x40415d=_0x4161f0[_0x313e2e(0x589)][_0x313e2e(0xdad)](_0x313e2e(0x4bd));if(_0x40415d){const _0x4b6969=_0x40415d['dataset'][_0x313e2e(0x4f9)];handleDeleteSubmission(_0x4b6969);}});}async function handleStartGroupMode(_0x3e351f,_0x31cbaf=![]){const _0x20ca3f=_0x3abb87,_0x1bf006=allQuizzes[_0x20ca3f(0x7f4)](_0x40dea2=>_0x40dea2['id']===_0x3e351f)||allQuizzesGlobal[_0x20ca3f(0x7f4)](_0x4fccd8=>_0x4fccd8['id']===_0x3e351f);if(!_0x1bf006){showMessage(_0x20ca3f(0x397));return;}currentQuizData=getShuffledQuiz(_0x1bf006);const _0x3a8aaf=Math[_0x20ca3f(0x886)](0x3e8+Math[_0x20ca3f(0x323)]()*0x2328)[_0x20ca3f(0xbd3)]();try{const _0x1bf6a4=await addDoc(collection(db,'artifacts/'+appId+_0x20ca3f(0xb51)),{'quizId':_0x1bf006['id'],'projectId':_0x1bf006[_0x20ca3f(0x365)],'status':_0x20ca3f(0x973),'pin':_0x3a8aaf,'mode':_0x20ca3f(0x578),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x31cbaf});currentTeamQuizId=_0x1bf6a4['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x3a8aaf,_0x1bf006[_0x20ca3f(0x3bb)],_0x20ca3f(0x578)),listenForTeamQuizUpdates();}catch(_0x3b77b5){console[_0x20ca3f(0x28d)](_0x20ca3f(0x2ae),_0x3b77b5),showMessage(_0x20ca3f(0x9f5));}}async function showStudentProgressView(){const _0x4d5bfd=_0x3abb87;studentInitialView[_0x4d5bfd(0x33a)][_0x4d5bfd(0xbaf)](_0x4d5bfd(0x986)),document[_0x4d5bfd(0x753)](_0x4d5bfd(0x9ad))[_0x4d5bfd(0x33a)]['remove'](_0x4d5bfd(0x986));const _0x53d044=document[_0x4d5bfd(0x753)](_0x4d5bfd(0x53d)),_0x561a34=document['getElementById'](_0x4d5bfd(0x8fd)),_0x1a6455=document[_0x4d5bfd(0x753)](_0x4d5bfd(0x4ac));_0x1a6455[_0x4d5bfd(0xd15)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x561a34[_0x4d5bfd(0xd15)]=_0x4d5bfd(0xa8a),_0x561a34[_0x4d5bfd(0x5ad)]=!![],_0x53d044[_0x4d5bfd(0xd15)]=_0x4d5bfd(0xaaa);if(allProjects[_0x4d5bfd(0xd2b)]===0x0){const _0x52b480=collection(db,_0x4d5bfd(0x8da)+appId+_0x4d5bfd(0xdfd)),_0x105469=await getDocs(_0x52b480);allProjects=_0x105469[_0x4d5bfd(0x2a7)][_0x4d5bfd(0x561)](_0x28880c=>({'id':_0x28880c['id'],..._0x28880c[_0x4d5bfd(0x3f4)]()}));}const _0x33f363=allProjects[_0x4d5bfd(0x27c)](_0x3482d1=>_0x3482d1['settings']?.[_0x4d5bfd(0xda4)]!==![]);_0x33f363['sort']((_0x4715c5,_0x243d2f)=>_0x4715c5[_0x4d5bfd(0x5f4)][_0x4d5bfd(0xe3a)](_0x243d2f[_0x4d5bfd(0x5f4)],'th')),_0x53d044[_0x4d5bfd(0xd15)]=_0x4d5bfd(0xd16)+_0x33f363[_0x4d5bfd(0x561)](_0x3d7beb=>_0x4d5bfd(0x957)+_0x3d7beb['id']+'\x22>'+_0x3d7beb[_0x4d5bfd(0x5f4)]+'</option>')[_0x4d5bfd(0xe0b)](''),_0x53d044[_0x4d5bfd(0x566)]=()=>{const _0x30819e=_0x4d5bfd,_0x51ba7a=_0x561a34[_0x30819e(0x8a6)],_0x8b016a=_0x53d044[_0x30819e(0x8a6)];_0x561a34[_0x30819e(0x5ad)]=!![],_0x561a34[_0x30819e(0xd15)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x1a6455[_0x30819e(0xd15)]=_0x30819e(0x93d);if(!_0x8b016a)return;const _0xb6d061=allProjects[_0x30819e(0x7f4)](_0x201876=>_0x201876['id']===_0x8b016a);if(!_0xb6d061||!_0xb6d061[_0x30819e(0x7d2)])return;const _0x88765f=()=>{const _0x452c2c=_0x30819e;_0x561a34[_0x452c2c(0xd15)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0xb6d061[_0x452c2c(0x7d2)][_0x452c2c(0x561)](_0x3ee5af=>_0x452c2c(0x957)+_0x3ee5af+'\x22>'+_0x3ee5af+_0x452c2c(0xaa5))[_0x452c2c(0xe0b)](''),_0x561a34['disabled']=![];const _0x5a21f4=Array[_0x452c2c(0x944)](_0x561a34[_0x452c2c(0x254)])[_0x452c2c(0x561)](_0x1efd02=>_0x1efd02[_0x452c2c(0x8a6)]);if(_0x51ba7a&&_0x5a21f4['includes'](_0x51ba7a))_0x561a34[_0x452c2c(0x8a6)]=_0x51ba7a,_0x561a34[_0x452c2c(0x95b)](new Event('change'));else _0xb6d061[_0x452c2c(0x7d2)][_0x452c2c(0xd2b)]===0x1&&(_0x561a34['value']=_0xb6d061['students'][0x0],_0x561a34[_0x452c2c(0x95b)](new Event('change')));};if(_0xb6d061[_0x30819e(0xa95)]?.[_0x30819e(0xaf9)]){if(sessionStorage['getItem'](_0x30819e(0xccf)+_0x8b016a)==='true'){_0x88765f();return;}const _0x4f3c82=document['getElementById'](_0x30819e(0x7d3)),_0xe25bb=document[_0x30819e(0x753)](_0x30819e(0xae5)),_0x301a85=document[_0x30819e(0x753)](_0x30819e(0xca4)),_0x51f4ee=document[_0x30819e(0x753)](_0x30819e(0xdc8)),_0x523da6=document[_0x30819e(0x753)]('passcode-error-msg');document[_0x30819e(0x753)](_0x30819e(0x7b4))[_0x30819e(0xbde)]=_0x30819e(0x613)+_0xb6d061[_0x30819e(0x5f4)],_0x51f4ee[_0x30819e(0x8a6)]='',_0x523da6[_0x30819e(0x33a)]['add'](_0x30819e(0x986)),_0x4f3c82[_0x30819e(0x33a)][_0x30819e(0x23a)]('hidden');const _0x448e3a=()=>{const _0x48fe7b=_0x30819e,_0x5ea868=_0x51f4ee['value'][_0x48fe7b(0xda7)]();_0x5ea868===_0xb6d061['settings'][_0x48fe7b(0x75b)]?(sessionStorage[_0x48fe7b(0x27e)]('authed_project_'+_0x8b016a,_0x48fe7b(0x243)),_0x4f3c82['classList']['add']('hidden'),_0x88765f(),_0xe25bb[_0x48fe7b(0x21b)]('click',_0x448e3a)):_0x523da6[_0x48fe7b(0x33a)][_0x48fe7b(0x23a)](_0x48fe7b(0x986));};_0xe25bb[_0x30819e(0x26e)]=_0x448e3a,_0x301a85[_0x30819e(0x26e)]=()=>{const _0x3c9587=_0x30819e;_0x4f3c82['classList'][_0x3c9587(0xbaf)](_0x3c9587(0x986)),_0x53d044[_0x3c9587(0x8a6)]='',_0xe25bb[_0x3c9587(0x21b)](_0x3c9587(0xaa0),_0x448e3a);};}else _0x88765f();},_0x561a34[_0x4d5bfd(0x566)]=()=>{const _0x501c9a=_0x4d5bfd,_0xdea8b=_0x53d044[_0x501c9a(0x8a6)],_0x89ec22=_0x561a34[_0x501c9a(0x8a6)];_0xdea8b&&_0x89ec22&&renderStudentProgressDashboard(_0xdea8b,_0x89ec22);};}async function confirmAndJoinSyncGame(){const _0x5c88fc=_0x3abb87;lastSeenQuestionIndex=-0x1,sessionStorage['removeItem'](_0x5c88fc(0x7c9)),sessionStorage[_0x5c88fc(0x808)]('onSecondChance'),sessionStorage[_0x5c88fc(0x808)]('pollUsedThisTurn'),Object['keys'](sessionStorage)[_0x5c88fc(0x91b)](_0x2ac055=>{const _0x51e622=_0x5c88fc;(_0x2ac055['startsWith'](_0x51e622(0xdf6))||_0x2ac055[_0x51e622(0x258)](_0x51e622(0x76c))||_0x2ac055[_0x51e622(0x258)]('hiddenOptions_q'))&&sessionStorage[_0x51e622(0x808)](_0x2ac055);});const _0x4f123b=Array[_0x5c88fc(0x944)](document[_0x5c88fc(0x628)](_0x5c88fc(0xce7)))[_0x5c88fc(0x561)](_0x7f8c9d=>_0x7f8c9d[_0x5c88fc(0x8a6)]);if(_0x4f123b[_0x5c88fc(0xd2b)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x4f123b,localPlayerTurnIndex=0x0;const _0x11db3f=doc(db,'artifacts/'+appId+_0x5c88fc(0x725),currentLiveGameId);try{const _0x34e268=await getDoc(_0x11db3f);if(!_0x34e268[_0x5c88fc(0xc9d)]())throw new Error(_0x5c88fc(0x317));const _0x1545de=_0x34e268[_0x5c88fc(0x3f4)](),_0x1bb008=_0x1545de['gameVariant']||_0x5c88fc(0xbf0),_0x18aaec={};_0x4f123b[_0x5c88fc(0x91b)](_0x9a0157=>{const _0x360629=_0x5c88fc,_0x11be8c=_0x1545de[_0x360629(0xc17)][_0x9a0157];if(_0x11be8c){console['log'](_0x360629(0x5c0)+_0x9a0157+_0x360629(0x65c)),_0x18aaec['players.'+_0x9a0157+_0x360629(0x2bf)]=_0x360629(0x351);const _0x569799=_0x11be8c[_0x360629(0x67e)]?.[_0x11be8c[_0x360629(0x67e)][_0x360629(0xd2b)]-0x1],_0x5a27de=!!(_0x569799&&_0x569799[_0x360629(0x824)]===_0x1545de[_0x360629(0x36f)]);_0x18aaec[_0x360629(0x784)+_0x9a0157+_0x360629(0xa4a)]=_0x5a27de;}else{console[_0x360629(0x4e6)](_0x360629(0x3e8)+_0x9a0157+_0x360629(0xb82));const _0x5f0963={'name':_0x9a0157,'score':0x0,'totalPoints':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0},'answered':![],'status':_0x360629(0x351),'answers':[]};_0x1bb008===_0x360629(0x614)&&(typeof STARTING_LIVES!==_0x360629(0x703)?_0x5f0963['lives']=STARTING_LIVES:(console[_0x360629(0x28d)](_0x360629(0xb3f)),_0x5f0963[_0x360629(0xde4)]=0x3)),_0x18aaec[_0x360629(0x784)+_0x9a0157]=_0x5f0963;}}),await updateDoc(_0x11db3f,_0x18aaec),showView('live-game'),document[_0x5c88fc(0x753)](_0x5c88fc(0xcc7))[_0x5c88fc(0x33a)][_0x5c88fc(0xbaf)]('hidden'),currentStudentName=_0x4f123b[0x0],listenForSyncGameUpdates();const _0x2a1a1d={'gameId':currentLiveGameId,'mode':_0x5c88fc(0xe7b),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x5c88fc(0xd04),JSON[_0x5c88fc(0x6e6)](_0x2a1a1d)),currentMode!==_0x5c88fc(0x330)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x5c88fc(0x77c),handleVisibilityChange),enterFullscreen(),window[_0x5c88fc(0xdd0)](_0x5c88fc(0xa33),resetDimTimer),window['addEventListener'](_0x5c88fc(0xc87),resetDimTimer),window['addEventListener'](_0x5c88fc(0x43d),resetDimTimer),window[_0x5c88fc(0xdd0)](_0x5c88fc(0x893),resetDimTimer),resetDimTimer());}catch(_0xd87b11){console[_0x5c88fc(0x28d)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0xd87b11),showMessage(_0x5c88fc(0x6fa)+_0xd87b11[_0x5c88fc(0x9e1)]);}}async function resumeActiveGameSession(){const _0x56e478=_0x3abb87,_0x539c92=sessionStorage[_0x56e478(0x248)](_0x56e478(0xd04));if(!_0x539c92)return;const _0x3f9649=JSON['parse'](_0x539c92),{gameId:_0xaff339,mode:_0x1f4ee4,role:_0x17bb67,players:_0x37f4da,turnIndex:_0x318318}=_0x3f9649;try{if(_0x17bb67===_0x56e478(0xdcc)&&_0x1f4ee4===_0x56e478(0xe7b)){const _0x58c181=doc(db,_0x56e478(0x8da)+appId+_0x56e478(0x725),_0xaff339),_0x4b3472=await getDoc(_0x58c181);if(!_0x4b3472['exists']()||_0x4b3472[_0x56e478(0x3f4)]()[_0x56e478(0x98e)]===_0x56e478(0x58a)||_0x4b3472[_0x56e478(0x3f4)]()[_0x56e478(0x98e)]==='finished'){sessionStorage[_0x56e478(0x808)](_0x56e478(0xd04));return;}console[_0x56e478(0x4e6)](_0x56e478(0x908)+_0xaff339+')'),currentMode=_0x56e478(0xdcc),currentLiveGameId=_0xaff339,currentQuizData=_0x4b3472[_0x56e478(0x3f4)]()[_0x56e478(0xbd7)],showView(_0x56e478(0x35a)),listenForSyncGameUpdates();}else{if(_0x1f4ee4===_0x56e478(0xe7b)&&_0x37f4da){const _0x18d194=doc(db,_0x56e478(0x8da)+appId+_0x56e478(0x725),_0xaff339),_0x3cf442=await getDoc(_0x18d194);if(!_0x3cf442[_0x56e478(0xc9d)]()||_0x3cf442[_0x56e478(0x3f4)]()[_0x56e478(0x98e)]===_0x56e478(0x58a)||_0x3cf442[_0x56e478(0x3f4)]()[_0x56e478(0x98e)]===_0x56e478(0x6a7)){sessionStorage[_0x56e478(0x808)](_0x56e478(0xd04));return;}console['log']('กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20'+_0xaff339+')'),currentLiveGameId=_0xaff339,currentStudentName=_0x37f4da[0x0],localTeamPlayers=_0x37f4da,showView(_0x56e478(0x35a)),listenForSyncGameUpdates();}else{if((_0x1f4ee4===_0x56e478(0xb0b)||_0x1f4ee4===_0x56e478(0x578))&&_0x37f4da){const _0x387de2=doc(db,'artifacts/'+appId+_0x56e478(0xb51),_0xaff339),_0x464a5f=await getDoc(_0x387de2);if(!_0x464a5f['exists']()||_0x464a5f['data']()['status']==='podium'||_0x464a5f['data']()[_0x56e478(0x98e)]===_0x56e478(0x6a7)){sessionStorage[_0x56e478(0x808)](_0x56e478(0xd04));return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x1f4ee4+_0x56e478(0xe83)+_0xaff339+')'),currentTeamQuizId=_0xaff339,localTeamPlayers=_0x37f4da,localQuestionIndex=_0x3f9649[_0x56e478(0x824)]||0x0,localPlayerIndex=_0x3f9649[_0x56e478(0xaa9)]||0x0;const _0x9e945e=_0x464a5f[_0x56e478(0x3f4)](),_0x17ee2f=doc(db,_0x56e478(0x8da)+appId+_0x56e478(0xe3e),_0x9e945e[_0x56e478(0x44b)]),_0x5a93e9=await getDoc(_0x17ee2f);_0x5a93e9['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x5a93e9['id'],..._0x5a93e9[_0x56e478(0x3f4)]()}),showView(_0x56e478(0xbf8)),studentInitialView['classList'][_0x56e478(0xbaf)](_0x56e478(0x986)),_0x1f4ee4===_0x56e478(0x578)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x1881cd){console['error'](_0x56e478(0x8f1),_0x1881cd),sessionStorage['removeItem'](_0x56e478(0xd04));}}async function handleUsePowerup(_0xd3073e,_0x4f212a,_0x3fdb48,_0x8bfda2,_0x5dc64b){const _0x3d29db=_0x3abb87,_0x188fd6=_0x8bfda2[_0x3d29db(0x36f)],_0x2e0d4d=_0x3d29db(0x76c)+_0x188fd6+'_p'+_0xd3073e,_0x398a4d=sessionStorage['getItem'](_0x2e0d4d);if(_0x398a4d&&_0x4f212a!==_0x3d29db(0x57a)){showMessage('คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ\x20(ยกเว้น\x20\x27ซื้อเวลา\x27)');const _0x12fe76=document[_0x3d29db(0x753)]('use-powerup-'+_0x4f212a);if(_0x12fe76)_0x12fe76['disabled']=![];return;}const _0x42f1ae=doc(db,_0x3d29db(0x8da)+appId+'/public/data/syncGames',currentLiveGameId);try{await runTransaction(db,async _0x2b939a=>{const _0x10f9f6=_0x3d29db,_0x1ab61a=await _0x2b939a[_0x10f9f6(0x41c)](_0x42f1ae);if(!_0x1ab61a[_0x10f9f6(0xc9d)]())throw _0x10f9f6(0xd8b);const _0x3b87de=_0x1ab61a[_0x10f9f6(0x3f4)](),_0x50cd9e=_0x3b87de['players'][_0xd3073e]?.[_0x10f9f6(0xa90)]||{},_0xbb31c2=_0x50cd9e[_0x4f212a]||0x0;if(_0xbb31c2<=0x0)throw _0x10f9f6(0x7f6);const _0x405116={};_0x405116[_0x10f9f6(0x784)+_0xd3073e+_0x10f9f6(0x85c)+_0x4f212a]=increment(-0x1);if(_0x4f212a===_0x10f9f6(0x57a)){const _0x371168=(_0x8bfda2[_0x10f9f6(0x4ed)]||0xf0)*0x3e8,_0x1faf49=_0x371168*0.25;_0x405116[_0x10f9f6(0x784)+_0xd3073e+'.timeBonusThisQuestion']=increment(_0x1faf49);}_0x2b939a[_0x10f9f6(0x6f2)](_0x42f1ae,_0x405116);});_0x4f212a===_0x3d29db(0xb30)&&sessionStorage[_0x3d29db(0x27e)]('pollUsedThisTurn',_0x3d29db(0x243));if(_0x4f212a!==_0x3d29db(0x57a)){const _0x1fadd4=_0x8bfda2['currentQuestionIndex'],_0x462f23='powerupUsed_q'+_0x1fadd4+'_p'+_0xd3073e;sessionStorage['setItem'](_0x462f23,_0x4f212a);}applyPowerupEffect(_0xd3073e,_0x4f212a,_0x3fdb48,_0x8bfda2,_0x5dc64b);}catch(_0x5528ca){console[_0x3d29db(0x28d)]('Powerup\x20use\x20failed:',_0x5528ca),showMessage(typeof _0x5528ca===_0x3d29db(0x96d)?_0x5528ca:_0x3d29db(0x5aa));const _0x1c9664=document[_0x3d29db(0x753)](_0x3d29db(0xe3b)+_0x4f212a);if(_0x1c9664)_0x1c9664['disabled']=![];}}function applyPowerupEffect(_0x3dab7b,_0x593dab,_0x67c827,_0x233be7,_0x251e85){const _0x1792b1=_0x3abb87,_0x3b5779=_0x67c827;switch(_0x593dab){case _0x1792b1(0xb30):const _0x50350d=Object['values'](_0x233be7[_0x1792b1(0xc17)]||{}),_0x4d4565=_0x50350d['filter'](_0x3683be=>{const _0x25b6d9=_0x1792b1,_0x1b508c=(_0x3683be[_0x25b6d9(0x67e)]||[])[_0x25b6d9(0x7f4)](_0x35b28d=>_0x35b28d[_0x25b6d9(0x824)]===_0x233be7[_0x25b6d9(0x36f)]);return _0x1b508c!==undefined;}),_0x709fd0=_0x4d4565['length'];if(_0x709fd0===0x0){showMessage(_0x1792b1(0xb9f));return;}const _0x39ed0b={};(_0x67c827[_0x1792b1(0x254)]||[])[_0x1792b1(0x91b)]((_0x15823f,_0x252971)=>{_0x39ed0b[_0x252971]=0x0;}),_0x4d4565['forEach'](_0x5930c8=>{const _0x28865d=_0x1792b1,_0xac5323=(_0x5930c8[_0x28865d(0x67e)]||[])[_0x28865d(0x7f4)](_0x4a9666=>_0x4a9666[_0x28865d(0x824)]===_0x233be7[_0x28865d(0x36f)]);_0xac5323&&_0x39ed0b[_0xac5323[_0x28865d(0x5b8)]]!==undefined&&_0x39ed0b[_0xac5323[_0x28865d(0x5b8)]]++;});let _0x2c2aec=_0x1792b1(0x941);Object['entries'](_0x39ed0b)[_0x1792b1(0x91b)](([_0x1148de,_0x3fe431])=>{const _0xe63b26=_0x1792b1,_0x1b167b=(_0x3fe431/_0x709fd0*0x64)['toFixed'](0x0),_0x1aa6f6='ตัวเลือก\x20'+(parseInt(_0x1148de)+0x1);_0x2c2aec+=_0x1aa6f6+':\x20'+_0x3fe431+_0xe63b26(0x267)+_0x1b167b+_0xe63b26(0xb7b);}),showMessage(_0x2c2aec);break;case _0x1792b1(0x57a):const _0x155d16=(_0x233be7[_0x1792b1(0x4ed)]||0xf0)*0.25;showMessage(_0x1792b1(0xca0)+_0x155d16+_0x1792b1(0x70d));break;case _0x1792b1(0xc8b):case'fiftyFifty':case _0x1792b1(0xc8b):case _0x1792b1(0x369):const _0x19e692=document['querySelectorAll'](_0x1792b1(0xdc5)),_0x4ed2cd=_0x233be7[_0x1792b1(0x36f)];if(_0x19e692[_0x1792b1(0xd2b)]===0x0){showMessage(_0x1792b1(0xc42));return;}const _0x5f5aed=_0x1792b1(0x7c0)+_0x4ed2cd+'_p'+_0x3dab7b,_0x1042df=JSON[_0x1792b1(0x5b1)](sessionStorage['getItem'](_0x5f5aed)||'[]');let _0x10d198;if(_0x3b5779[_0x1792b1(0x302)]==='true_false'){const _0xbb1b43=_0x3b5779[_0x1792b1(0x509)]===!![]||String(_0x3b5779[_0x1792b1(0x509)])[_0x1792b1(0x6d9)]()===_0x1792b1(0x243);_0x10d198=_0xbb1b43?0x0:0x1;}else _0x10d198=_0x3b5779[_0x1792b1(0xa07)];const _0x31dd8e=Array['from'](_0x19e692)[_0x1792b1(0x27c)](_0x151510=>{const _0x3b598c=_0x1792b1,_0x58c47c=_0x151510[_0x3b598c(0x970)][_0x3b598c(0x8a6)],_0x35f2d2=parseInt(_0x58c47c)===_0x10d198,_0x48bfa4=_0x1042df['includes'](_0x58c47c);return!_0x35f2d2&&!_0x48bfa4;});if(_0x31dd8e[_0x1792b1(0xd2b)]===0x0){showMessage('ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!');return;}shuffleArray(_0x31dd8e);let _0x29d647=[..._0x1042df];if(_0x593dab===_0x1792b1(0xc8b)){const _0x150619=_0x31dd8e[0x0];if(_0x150619){const _0x4d3f92=_0x150619[_0x1792b1(0x970)][_0x1792b1(0x8a6)];_0x150619[_0x1792b1(0x33a)][_0x1792b1(0xbaf)](_0x1792b1(0x986)),_0x29d647[_0x1792b1(0xabd)](_0x4d3f92),showMessage('⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!');}}else{let _0x30c67f=0x0;const _0x2585ab=_0x31dd8e[0x0],_0x2436c0=_0x31dd8e[0x1];if(_0x2585ab){const _0x4242c7=_0x2585ab[_0x1792b1(0x970)][_0x1792b1(0x8a6)];_0x2585ab[_0x1792b1(0x33a)][_0x1792b1(0xbaf)](_0x1792b1(0x986)),_0x29d647[_0x1792b1(0xabd)](_0x4242c7),_0x30c67f++;}if(_0x2436c0){const _0x387381=_0x2436c0[_0x1792b1(0x970)]['value'];_0x2436c0[_0x1792b1(0x33a)][_0x1792b1(0xbaf)]('hidden'),_0x29d647[_0x1792b1(0xabd)](_0x387381),_0x30c67f++;}showMessage(_0x1792b1(0x989)+_0x30c67f+'\x20ข้อแล้ว!');}sessionStorage[_0x1792b1(0x27e)](_0x5f5aed,JSON['stringify'](_0x29d647));break;case _0x1792b1(0x4f2):if(!_0x251e85){console[_0x1792b1(0x28d)](_0x1792b1(0xd37)),showMessage(_0x1792b1(0x654));break;}const _0x304443=_0x251e85[_0x1792b1(0xc71)],_0x2869c0=Object['values'](_0x233be7[_0x1792b1(0xc17)])[_0x1792b1(0x27c)](_0x34d8d1=>_0x34d8d1[_0x1792b1(0xc71)]!==_0x304443&&_0x34d8d1[_0x1792b1(0x98e)]===_0x1792b1(0x351)&&_0x34d8d1[_0x1792b1(0xc4a)]===![]);if(_0x2869c0[_0x1792b1(0xd2b)]===0x0){showMessage(_0x1792b1(0xb9a)),sessionStorage[_0x1792b1(0x808)](_0x1792b1(0x2b1)),handleRefundPowerup(_0x3dab7b,_0x1792b1(0x4f2));break;}const _0x3cfe26=_0x233be7[_0x1792b1(0xdb6)]===_0x1792b1(0x58f),_0x4b2149=_0x2869c0[_0x1792b1(0x561)]((_0x43e96b,_0x45bfd5)=>{const _0x220057=_0x1792b1,_0x265c14=_0x43e96b[_0x220057(0xc71)],_0x4c1398=_0x233be7[_0x220057(0xc52)][_0x265c14]||'???';return _0x3cfe26?_0x45bfd5+0x1+':\x20'+_0x4c1398:_0x45bfd5+0x1+':\x20'+_0x265c14;})[_0x1792b1(0xe0b)]('\x0a'),_0x58fa52=prompt(_0x1792b1(0x3a6)+_0x4b2149),_0x110925=parseInt(_0x58fa52)-0x1;if(_0x110925>=0x0&&_0x110925<_0x2869c0[_0x1792b1(0xd2b)]){const _0x217ac9=_0x2869c0[_0x110925];handleForceConfident(_0x217ac9['name']);}else showMessage('ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)'),sessionStorage[_0x1792b1(0x808)]('powerupUsedThisTurn'),handleRefundPowerup(_0x3dab7b,'forceConfident');break;case _0x1792b1(0x61a):showMessage('🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200');break;case _0x1792b1(0xc14):showMessage(_0x1792b1(0x1f8));break;case _0x1792b1(0x3aa):if(!_0x251e85){console['error'](_0x1792b1(0x744)),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)');break;}const _0x15675e=_0x251e85[_0x1792b1(0xc71)],_0x3151c6=Object['values'](_0x233be7[_0x1792b1(0xc17)])['filter'](_0x10c9a5=>_0x10c9a5[_0x1792b1(0xc71)]!==_0x15675e&&_0x10c9a5[_0x1792b1(0x98e)]==='active'&&_0x10c9a5[_0x1792b1(0xc4a)]===![]);if(_0x3151c6[_0x1792b1(0xd2b)]===0x0){showMessage(_0x1792b1(0xb9a)),sessionStorage[_0x1792b1(0x808)](_0x1792b1(0x2b1)),handleRefundPowerup(_0x3dab7b,_0x1792b1(0x3aa));break;}const _0x7e070b=_0x233be7['gameVariant']===_0x1792b1(0x58f),_0x5c2811=_0x3151c6['map']((_0x23e905,_0x582ece)=>{const _0x5a1837=_0x1792b1,_0x4f9f2b=_0x23e905['name'],_0x329ffd=_0x233be7[_0x5a1837(0xc52)][_0x4f9f2b]||'???';return _0x7e070b?_0x582ece+0x1+':\x20'+_0x329ffd:_0x582ece+0x1+':\x20'+_0x4f9f2b;})[_0x1792b1(0xe0b)]('\x0a'),_0xa72fcb=prompt(_0x1792b1(0x71a)+_0x5c2811),_0x33aa5c=parseInt(_0xa72fcb)-0x1;if(_0x33aa5c>=0x0&&_0x33aa5c<_0x3151c6['length']){const _0x2fcf82=_0x3151c6[_0x33aa5c];handleApplyJinx(_0x2fcf82[_0x1792b1(0xc71)]);}else showMessage(_0x1792b1(0xbce)),sessionStorage[_0x1792b1(0x808)](_0x1792b1(0x2b1)),handleRefundPowerup(_0x3dab7b,_0x1792b1(0x3aa));break;case _0x1792b1(0xddc):showMessage(_0x1792b1(0x738));break;default:showMessage('ใช้ไอเทม\x20'+_0x593dab+_0x1792b1(0x28a));}}async function handleForceConfident(_0x39834d){const _0x812c17=_0x3abb87;if(!currentLiveGameId||!_0x39834d)return;const _0x43dfba=doc(db,'artifacts/'+appId+_0x812c17(0x725),currentLiveGameId);try{const _0x5cb479={};_0x5cb479[_0x812c17(0x784)+_0x39834d+_0x812c17(0xba1)]=!![],await updateDoc(_0x43dfba,_0x5cb479),showMessage(_0x812c17(0x3bc)+_0x39834d+_0x812c17(0xaae));}catch(_0x155a04){console[_0x812c17(0x28d)]('Failed\x20to\x20apply\x20forceConfident:',_0x155a04),showMessage(_0x812c17(0xd1a));}}async function handleRefundPowerup(_0x3a7ac0,_0x326401){const _0x2eed91=_0x3abb87,_0x4e21e9=doc(db,_0x2eed91(0x8da)+appId+_0x2eed91(0x725),currentLiveGameId);try{const _0x100dde={};_0x100dde[_0x2eed91(0x784)+_0x3a7ac0+_0x2eed91(0x85c)+_0x326401]=increment(0x1),await updateDoc(_0x4e21e9,_0x100dde),console['log']('Refunded\x20'+_0x326401+_0x2eed91(0x4d1)+_0x3a7ac0);}catch(_0x1b0241){console[_0x2eed91(0x28d)](_0x2eed91(0x5f0),_0x1b0241);}}async function handleApplyJinx(_0x24fd27){const _0x5aa66f=_0x3abb87;if(!currentLiveGameId||!_0x24fd27)return;const _0x644de4=doc(db,_0x5aa66f(0x8da)+appId+_0x5aa66f(0x725),currentLiveGameId);try{const _0x3defe4={};_0x3defe4['players.'+_0x24fd27+_0x5aa66f(0x32e)]=!![],await updateDoc(_0x644de4,_0x3defe4),showMessage(_0x5aa66f(0x861)+_0x24fd27+'\x20สำเร็จ!');}catch(_0x44c4dc){console['error']('Failed\x20to\x20apply\x20jinx:',_0x44c4dc),showMessage(_0x5aa66f(0xd1a));}}function activateFileInputAreaWithLoadedFile(){const _0xc8fa52=_0x3abb87,_0x1f98cb=document['getElementById'](_0xc8fa52(0xd92)),_0x59ede0=document[_0xc8fa52(0x753)]('file-topics-list-container'),_0x784942=document[_0xc8fa52(0x753)](_0xc8fa52(0x3c6));selectedFile?_0x784942[_0xc8fa52(0xc32)]?(_0x1f98cb[_0xc8fa52(0x5ad)]=!![],analyzeFileForTopics(selectedFile)):(_0x1f98cb[_0xc8fa52(0x5ad)]=![],_0x59ede0[_0xc8fa52(0x33a)][_0xc8fa52(0xbaf)](_0xc8fa52(0x986))):(_0x1f98cb[_0xc8fa52(0x5ad)]=!![],_0x59ede0['classList'][_0xc8fa52(0xbaf)](_0xc8fa52(0x986)));}async function handleKickPlayerSync(_0x24a1bc){const _0x436887=_0x3abb87;if(!currentLiveGameId||!_0x24a1bc)return;const _0x4bd9ae=doc(db,_0x436887(0x8da)+appId+'/public/data/syncGames',currentLiveGameId),_0x4b67cd={};_0x4b67cd[_0x436887(0x784)+_0x24a1bc+'.status']=_0x436887(0x42f);try{await updateDoc(_0x4bd9ae,_0x4b67cd);}catch(_0x736470){console['error'](_0x436887(0x3e0)+_0x24a1bc+_0x436887(0x3c1),_0x736470),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x5eda77,_0x55c156){const _0x53d7a7=_0x3abb87,_0x32713a=document['getElementById'](_0x53d7a7(0x4ac));_0x32713a['innerHTML']=_0x53d7a7(0x6df);try{const _0x2c9c9e=collection(db,'artifacts/'+appId+_0x53d7a7(0xe3e)),_0x4dfd17=query(_0x2c9c9e,where('projectId','==',_0x5eda77)),_0x4418ff=await getDocs(_0x4dfd17),_0x5256a2=_0x4418ff[_0x53d7a7(0x2a7)][_0x53d7a7(0x561)](_0x2770bb=>({'id':_0x2770bb['id'],..._0x2770bb[_0x53d7a7(0x3f4)]()})),_0x502ff0=_0x5256a2[_0x53d7a7(0x561)](_0x214bb8=>getDoc(doc(db,_0x53d7a7(0x8da)+appId+_0x53d7a7(0x75d)+_0x214bb8['id']+_0x53d7a7(0x4cc),_0x55c156))),_0x4722c0=await Promise[_0x53d7a7(0x5ea)](_0x502ff0),_0x3d8224=_0x4722c0[_0x53d7a7(0x27c)](_0x4a9e77=>_0x4a9e77['exists']())['map'](_0x46fb2c=>({'quizId':_0x46fb2c['ref']['parent'][_0x53d7a7(0x984)]['id'],..._0x46fb2c[_0x53d7a7(0x3f4)]()}));if(_0x3d8224[_0x53d7a7(0xd2b)]===0x0){_0x32713a[_0x53d7a7(0xd15)]=_0x53d7a7(0x793);return;}let _0x2a75b9=_0x53d7a7(0x81b);_0x3d8224[_0x53d7a7(0x91b)](_0x54cd46=>{const _0x167864=_0x53d7a7,_0xbf2487=_0x5256a2[_0x167864(0x7f4)](_0x5e4a42=>_0x5e4a42['id']===_0x54cd46[_0x167864(0x44b)]),_0x346c59=_0xbf2487['settings']?.[_0x167864(0x354)]||'show_results_and_answers',_0x2a926c=_0xbf2487[_0x167864(0xa95)]?.['passingScore']??0x0,_0x3fcb81=_0x54cd46['bestScore']>=_0x2a926c;let _0x4ef837='',_0xc18f02=_0x167864(0xc95);switch(_0x346c59){case _0x167864(0x6db):case _0x167864(0x4f6):_0xc18f02=_0x3fcb81?_0x167864(0x496):_0x167864(0x9cb),_0x4ef837=_0x167864(0xc79)+(_0x3fcb81?_0x167864(0xcd5):_0x167864(0xb04))+'\x22>'+_0x54cd46[_0x167864(0x95d)]+_0x167864(0x375)+_0x54cd46[_0x167864(0xc21)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x3fcb81?_0x167864(0x884):_0x167864(0xd32))+'\x22>'+(_0x3fcb81?_0x167864(0x456):_0x167864(0x1f3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x167864(0xd35):_0xc18f02=_0x3fcb81?_0x167864(0x496):_0x167864(0x9cb),_0x4ef837='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x3fcb81?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x3fcb81?_0x167864(0x456):_0x167864(0x1f3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x167864(0xd42):_0xc18f02=_0x167864(0x75f),_0x4ef837=_0x167864(0x88a);break;}_0x2a75b9+=_0x167864(0xc5b)+_0xc18f02+_0x167864(0x8ab)+_0xbf2487[_0x167864(0x3bb)]+_0x167864(0x9b0)+_0x54cd46[_0x167864(0x2c5)]['length']+_0x167864(0xc08)+new Date(_0x54cd46[_0x167864(0x1e2)])['toLocaleDateString'](_0x167864(0x40e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ef837+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2a75b9+=_0x53d7a7(0x634),_0x32713a[_0x53d7a7(0xd15)]=_0x2a75b9;}catch(_0x5cef90){console[_0x53d7a7(0x28d)](_0x53d7a7(0xbe9),_0x5cef90),_0x32713a[_0x53d7a7(0xd15)]=_0x53d7a7(0x3d4);}}function renderQuizBankListForMultiSelect(_0x17b1d0=''){const _0x3cb3c4=_0x3abb87,_0x31f0e7=document['getElementById'](_0x3cb3c4(0x891)),_0xc3e524=_0x17b1d0[_0x3cb3c4(0x6d9)]()['trim'](),_0x2e2a7a=allQuizzesGlobal[_0x3cb3c4(0x561)](_0x408dd4=>({..._0x408dd4,'projectName':allProjects['find'](_0x538b7c=>_0x538b7c['id']===_0x408dd4[_0x3cb3c4(0x365)])?.[_0x3cb3c4(0x5f4)]||'N/A'}))[_0x3cb3c4(0x27c)](_0xd3d48e=>(_0xd3d48e[_0x3cb3c4(0x3bb)]||'')[_0x3cb3c4(0x6d9)]()['includes'](_0xc3e524)||(_0xd3d48e[_0x3cb3c4(0x5f4)]||'')[_0x3cb3c4(0x6d9)]()[_0x3cb3c4(0x842)](_0xc3e524)||_0xd3d48e['id'][_0x3cb3c4(0xbd3)]()[_0x3cb3c4(0x842)](_0xc3e524));_0x31f0e7[_0x3cb3c4(0xd15)]=_0x2e2a7a[_0x3cb3c4(0xd2b)]?_0x2e2a7a[_0x3cb3c4(0x561)](_0x235535=>_0x3cb3c4(0x5d8)+_0x235535['id']+_0x3cb3c4(0xac1)+(_0x235535[_0x3cb3c4(0x3bb)]||_0x3cb3c4(0x6b1))+_0x3cb3c4(0x4b4)+_0x235535[_0x3cb3c4(0x5f4)]+'\x20|\x20ID:\x20'+_0x235535['id']+_0x3cb3c4(0xb8e))[_0x3cb3c4(0xe0b)](''):_0x3cb3c4(0x802),_0x31f0e7[_0x3cb3c4(0x566)]=()=>{const _0x1123b4=_0x3cb3c4,_0x394348=document[_0x1123b4(0xd5b)](_0x1123b4(0x2c2));document['getElementById'](_0x1123b4(0xc05))[_0x1123b4(0x5ad)]=!_0x394348;};}function setupStudentProgressListeners(){const _0x3724ad=_0x3abb87;document[_0x3724ad(0x753)]('view-my-progress-btn')[_0x3724ad(0xdd0)](_0x3724ad(0xaa0),showStudentProgressView),document[_0x3724ad(0x753)](_0x3724ad(0x8ac))['addEventListener']('click',()=>{const _0x273fee=_0x3724ad;document[_0x273fee(0x753)](_0x273fee(0x9ad))['classList'][_0x273fee(0xbaf)](_0x273fee(0x986)),document[_0x273fee(0x753)](_0x273fee(0xd51))[_0x273fee(0x33a)][_0x273fee(0x23a)](_0x273fee(0x986));});}async function startSkillPractice(_0x39acc6){const _0x46fe06=_0x3abb87;studentResultArea[_0x46fe06(0x33a)][_0x46fe06(0xbaf)]('hidden'),studentQuizArea[_0x46fe06(0xd15)]=_0x46fe06(0x8bf),studentQuizArea['classList'][_0x46fe06(0x23a)](_0x46fe06(0x986));try{const _0x1faa18=await getStandardizedTopic(_0x39acc6);console[_0x46fe06(0x4e6)](_0x46fe06(0x2e3)+_0x39acc6+_0x46fe06(0xa6c)+_0x1faa18+'\x22'),studentQuizArea[_0x46fe06(0xd5b)]('p')[_0x46fe06(0xbde)]=_0x46fe06(0xd7e)+_0x1faa18+_0x46fe06(0xb4b);const _0x309825=collection(db,_0x46fe06(0x8da)+appId+_0x46fe06(0xa74)),_0x3a1bd0=query(_0x309825,where('topic','==',_0x1faa18)),_0x3a93fb=await getDocs(_0x3a1bd0);if(_0x3a93fb[_0x46fe06(0x2a7)][_0x46fe06(0xd2b)]>=0x3){console[_0x46fe06(0x4e6)](_0x46fe06(0x6f0)+_0x3a93fb[_0x46fe06(0x2a7)][_0x46fe06(0xd2b)]+_0x46fe06(0x6e7)+_0x1faa18+_0x46fe06(0x9b4));let _0x108104=_0x3a93fb[_0x46fe06(0x2a7)]['map'](_0x1139db=>_0x1139db[_0x46fe06(0x3f4)]());shuffleArray(_0x108104);const _0x59a333={'topic':_0x1faa18,'questions':_0x108104[_0x46fe06(0x5a7)](0x0,0x3)};displaySkillPracticeDrill(_0x59a333);}else{console[_0x46fe06(0x4e6)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x1faa18+_0x46fe06(0xa39));const _0x118a02=await generatePracticeQuestions(_0x1faa18);await saveDrillToPracticeBank(_0x118a02,_0x1faa18),displaySkillPracticeDrill(_0x118a02);}}catch(_0x539092){console[_0x46fe06(0x28d)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x539092),showMessage(_0x46fe06(0xc18)),studentQuizArea['classList'][_0x46fe06(0xbaf)]('hidden'),studentResultArea[_0x46fe06(0x33a)]['remove'](_0x46fe06(0x986));}}async function saveDrillToPracticeBank(_0x68b18d,_0x3fb19b){const _0x1dcc5b=_0x3abb87,_0x21d821=collection(db,_0x1dcc5b(0x8da)+appId+_0x1dcc5b(0xa74)),_0x42ca6e=writeBatch(db);_0x68b18d[_0x1dcc5b(0x806)][_0x1dcc5b(0x91b)](_0x51e9e0=>{const _0x27279c=_0x1dcc5b,_0x3ae5f1=doc(_0x21d821);_0x42ca6e[_0x27279c(0x8ae)](_0x3ae5f1,{'topic':_0x3fb19b,'questionText':_0x51e9e0[_0x27279c(0xbdb)],'options':_0x51e9e0[_0x27279c(0x254)],'correctAnswerIndex':_0x51e9e0[_0x27279c(0xa07)],'explanation':_0x51e9e0['explanation'],'createdAt':serverTimestamp()});});try{await _0x42ca6e[_0x1dcc5b(0x444)](),console[_0x1dcc5b(0x4e6)]('บันทึกคำถามใหม่\x20'+_0x68b18d[_0x1dcc5b(0x806)][_0x1dcc5b(0xd2b)]+_0x1dcc5b(0x8dc));}catch(_0x40d395){console[_0x1dcc5b(0x28d)](_0x1dcc5b(0x5de),_0x40d395);}}async function getStandardizedTopic(_0x135924){const _0x41da11=_0x3abb87,_0x54cf9e=_0x41da11(0xa56)+_0x135924+_0x41da11(0xda8),_0x4c5532={'type':_0x41da11(0xbe1),'properties':{'standardTopic':{'type':_0x41da11(0x29d)}},'required':[_0x41da11(0x318)]};try{const _0x2ff7ab=await callAnalysisApi(_0x54cf9e,_0x4c5532);return _0x2ff7ab[_0x41da11(0x318)];}catch(_0x277e85){return console[_0x41da11(0x28d)](_0x41da11(0x3f2),_0x277e85),_0x135924;}}async function handleGenerateEasyVersionQuiz(_0x24fd57){const _0x5707c0=_0x3abb87,_0xa1cd7e=document[_0x5707c0(0x753)](_0x5707c0(0xc96)),_0x5d6ef2=document[_0x5707c0(0x753)](_0x5707c0(0xd1c));_0x5d6ef2[_0x5707c0(0x33a)][_0x5707c0(0xbaf)](_0x5707c0(0x986));const _0x4de532=_0x5707c0(0x58e);_0xa1cd7e['insertAdjacentHTML']('beforeend',_0x4de532);try{const _0x42acd9=allQuizzes[_0x5707c0(0x7f4)](_0x4fc46b=>_0x4fc46b['id']===_0x24fd57);if(!_0x42acd9)throw new Error(_0x5707c0(0x412));const _0xdc1937=_0x5707c0(0xe13)+JSON[_0x5707c0(0x6e6)](_0x42acd9['questions'])+_0x5707c0(0xdc4),_0x1941cb={'type':_0x5707c0(0xbe1),'properties':{'questionText':{'type':_0x5707c0(0x29d)},'questionType':{'type':_0x5707c0(0x29d)},'options':{'type':_0x5707c0(0x9bd),'items':{'type':_0x5707c0(0x29d)}},'correctAnswerIndex':{'type':_0x5707c0(0xd79)},'idealAnswer':{'type':_0x5707c0(0x29d)},'explanation':{'type':_0x5707c0(0x29d)},'imageCode':{'type':_0x5707c0(0x29d)}},'required':[_0x5707c0(0xbdb),_0x5707c0(0x302),_0x5707c0(0x866)]},_0x19c397={'type':_0x5707c0(0xbe1),'properties':{'questions':{'type':_0x5707c0(0x9bd),'items':_0x1941cb}},'required':[_0x5707c0(0x806)]},_0x500e4b=await callAnalysisApi(_0xdc1937,_0x19c397);_0x500e4b&&_0x500e4b['questions']&&_0x500e4b[_0x5707c0(0x806)][_0x5707c0(0x91b)](_0x3988f7=>{const _0x4a9096=_0x5707c0;if(_0x3988f7['hasOwnProperty'](_0x4a9096(0xc35))){const _0x27a771=String(_0x3988f7['imageCode'])[_0x4a9096(0xda7)]();(_0x27a771===''||_0x27a771['toLowerCase']()==='null'||!_0x27a771[_0x4a9096(0x258)](_0x4a9096(0x93b)))&&delete _0x3988f7[_0x4a9096(0xc35)];}});if(!_0x500e4b||!_0x500e4b['questions']||_0x500e4b[_0x5707c0(0x806)]['length']===0x0)throw new Error(_0x5707c0(0xc4b));const _0x583f98=_0x500e4b[_0x5707c0(0x806)][_0x5707c0(0x561)]((_0x2927aa,_0x317d92)=>({..._0x2927aa,'id':'q_'+Date[_0x5707c0(0xbc4)]()+'_'+_0x317d92})),_0x2f90f3={'projectId':_0x42acd9[_0x5707c0(0x365)],'quizType':_0x42acd9['quizType'],'settings':_0x42acd9[_0x5707c0(0xa95)],'createdBy':_0x42acd9[_0x5707c0(0x39d)],'status':_0x5707c0(0x351),'topic':_0x5707c0(0x3ed)+_0x42acd9['topic'],'questions':_0x583f98,'createdAt':new Date()[_0x5707c0(0x84a)](),'quizMode':_0x5707c0(0xd28),'pairedQuizId':null};let _0x594445;while(!![]){_0x594445=Math[_0x5707c0(0x886)](0x3e8+Math[_0x5707c0(0x323)]()*0x2328)[_0x5707c0(0xbd3)]();const _0x5d090d=await getDoc(doc(db,_0x5707c0(0x8da)+appId+_0x5707c0(0xe3e),_0x594445));if(!_0x5d090d[_0x5707c0(0xc9d)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5707c0(0xe3e),_0x594445),_0x2f90f3),showMessage(_0x5707c0(0x6e0));}catch(_0x1d17e0){console[_0x5707c0(0x28d)](_0x5707c0(0x945),_0x1d17e0),showMessage(_0x5707c0(0x339)+_0x1d17e0['message']);}finally{const _0x34aaf5=document[_0x5707c0(0x753)](_0x5707c0(0x72d));_0x34aaf5&&_0x34aaf5[_0x5707c0(0x23a)](),_0x5d6ef2[_0x5707c0(0x33a)][_0x5707c0(0x23a)]('hidden');}}async function generatePracticeQuestions(_0x3df8ba){const _0x16070d=_0x3abb87,_0x1826ff=_0x16070d(0x91c)+_0x3df8ba+_0x16070d(0x760)+simpleMathPrompt+_0x16070d(0x2ec),_0x353fea={'type':_0x16070d(0xbe1),'properties':{'questionText':{'type':_0x16070d(0x29d)},'options':{'type':_0x16070d(0x9bd),'items':{'type':_0x16070d(0x29d)}},'correctAnswerIndex':{'type':_0x16070d(0xd79)},'explanation':{'type':_0x16070d(0x29d)}},'required':[_0x16070d(0xbdb),'options',_0x16070d(0xa07),_0x16070d(0x866)]},_0x34eef8={'type':_0x16070d(0xbe1),'properties':{'topic':{'type':_0x16070d(0x29d)},'questions':{'type':'ARRAY','items':_0x353fea}},'required':['topic',_0x16070d(0x806)]};return await callAnalysisApi(_0x1826ff,_0x34eef8);}function displayLessonPlan(_0x36667b,_0x4a4eae){const _0x3ef03c=_0x3abb87,_0x449507=_0x3ef03c(0xdaf)+_0x4a4eae[_0x3ef03c(0x3bb)]+_0x3ef03c(0x867)+_0x36667b[_0x3ef03c(0xdf1)][_0x3ef03c(0x561)](_0x3b3f9a=>_0x3ef03c(0xa66)+_0x3b3f9a+_0x3ef03c(0x592))[_0x3ef03c(0xe0b)]('')+_0x3ef03c(0x53f)+_0x36667b['teachingContent']+_0x3ef03c(0x3bd)+_0x36667b[_0x3ef03c(0xcc9)][_0x3ef03c(0x561)](_0x24088e=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x24088e['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x24088e['solution']+_0x3ef03c(0xca1))[_0x3ef03c(0xe0b)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x3ef03c(0x753)](_0x3ef03c(0x37a))[_0x3ef03c(0xbde)]=_0x3ef03c(0x240)+_0x4a4eae[_0x3ef03c(0x3bb)],document[_0x3ef03c(0x753)](_0x3ef03c(0x4a7))[_0x3ef03c(0xd15)]=_0x449507,document[_0x3ef03c(0x753)](_0x3ef03c(0xa7a))[_0x3ef03c(0x33a)][_0x3ef03c(0x23a)]('hidden');if(window[_0x3ef03c(0xc12)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x541aab){let _0x15bbdd=0x0;const _0x512507=_0x541aab['questions'],_0x4ee5bb=()=>{const _0x5a2af5=_0x55d5,_0x6ebd11=_0x512507[_0x15bbdd],_0x28e932=_0x5a2af5(0x230)+(_0x15bbdd+0x1)+'\x20/\x20'+_0x512507[_0x5a2af5(0xd2b)]+_0x5a2af5(0x251)+_0x6ebd11['questionText']+_0x5a2af5(0x23c)+_0x6ebd11[_0x5a2af5(0x254)]['map']((_0x411416,_0x5f4051)=>_0x5a2af5(0x783)+_0x5f4051+_0x5a2af5(0xa5f)+_0x5f4051+_0x5a2af5(0x534)+_0x5f4051+'\x22>'+_0x411416+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x28e932;if(window[_0x5a2af5(0xc12)])MathJax[_0x5a2af5(0x98a)]([studentQuizArea]);document[_0x5a2af5(0x753)]('hint-btn')[_0x5a2af5(0xdd0)](_0x5a2af5(0xaa0),async()=>{const _0x3fe996=_0x5a2af5,_0x3f1457=await getHintForQuestion(_0x6ebd11[_0x3fe996(0xbdb)]);showMessage(_0x3f1457);}),document['getElementById'](_0x5a2af5(0x281))['addEventListener'](_0x5a2af5(0xaa0),()=>{const _0x1eb1b3=_0x5a2af5,_0x55de63=document[_0x1eb1b3(0xd5b)](_0x1eb1b3(0x457));if(!_0x55de63){showMessage(_0x1eb1b3(0x499));return;}const _0x2841b9=document[_0x1eb1b3(0x753)](_0x1eb1b3(0x291)),_0x195eb7=parseInt(_0x55de63[_0x1eb1b3(0x8a6)])===_0x6ebd11[_0x1eb1b3(0xa07)];_0x195eb7?(_0x2841b9[_0x1eb1b3(0x2a6)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x2841b9['innerHTML']=_0x1eb1b3(0x837)+_0x6ebd11['explanation']):(_0x2841b9[_0x1eb1b3(0x2a6)]=_0x1eb1b3(0x704),_0x2841b9[_0x1eb1b3(0xd15)]=_0x1eb1b3(0xa27)+_0x6ebd11[_0x1eb1b3(0x866)]);_0x2841b9['classList'][_0x1eb1b3(0x23a)](_0x1eb1b3(0x986));if(window['MathJax'])MathJax['typesetPromise']([_0x2841b9]);document['getElementById'](_0x1eb1b3(0x281))[_0x1eb1b3(0x33a)]['add']('hidden'),document[_0x1eb1b3(0x753)](_0x1eb1b3(0xa6a))[_0x1eb1b3(0x33a)][_0x1eb1b3(0xbaf)](_0x1eb1b3(0x986)),document['getElementById'](_0x1eb1b3(0x9e3))[_0x1eb1b3(0x33a)][_0x1eb1b3(0x23a)](_0x1eb1b3(0x986));}),document[_0x5a2af5(0x753)]('next-drill-btn')[_0x5a2af5(0xdd0)]('click',()=>{const _0x43eb88=_0x5a2af5;_0x15bbdd++,_0x15bbdd<_0x512507[_0x43eb88(0xd2b)]?_0x4ee5bb():(studentQuizArea[_0x43eb88(0xd15)]=_0x43eb88(0x6e5),document['getElementById'](_0x43eb88(0x5ab))['addEventListener'](_0x43eb88(0xaa0),()=>{const _0x15f184=_0x43eb88;studentQuizArea['classList'][_0x15f184(0xbaf)](_0x15f184(0x986)),studentResultArea[_0x15f184(0x33a)][_0x15f184(0x23a)]('hidden');}));});};_0x4ee5bb();}async function getHintForQuestion(_0xf9d191){const _0x175fd5=_0x3abb87,_0x3f3670=_0x175fd5(0xab5)+_0xf9d191+_0x175fd5(0xc4d),_0x576c2d={'type':_0x175fd5(0xbe1),'properties':{'hint':{'type':_0x175fd5(0x29d)}},'required':['hint']};try{const _0x26ee28=await callAnalysisApi(_0x3f3670,_0x576c2d);return _0x26ee28[_0x175fd5(0x20c)];}catch(_0x56b30f){return console[_0x175fd5(0x28d)](_0x175fd5(0x398),_0x56b30f),_0x175fd5(0x246);}}async function extractTextFromPdf(_0x3f715d){const _0x389c66=_0x3abb87;pdfjsLib['GlobalWorkerOptions'][_0x389c66(0x721)]=_0x389c66(0x59a);const _0x5f4630=await _0x3f715d[_0x389c66(0x5a2)](),_0x1d95f7=await pdfjsLib[_0x389c66(0x2fb)](_0x5f4630)[_0x389c66(0x949)],_0x4d349a=_0x1d95f7[_0x389c66(0xd9b)];let _0x2fc83e='';for(let _0x5818d4=0x1;_0x5818d4<=_0x4d349a;_0x5818d4++){const _0x2c5980=await _0x1d95f7['getPage'](_0x5818d4),_0x28bf33=await _0x2c5980['getTextContent'](),_0x310acd=_0x28bf33[_0x389c66(0xcae)][_0x389c66(0x561)](_0x3c697f=>_0x3c697f['str'])[_0x389c66(0xe0b)]('\x20');_0x2fc83e+=_0x310acd+'\x0a\x0a';}return _0x2fc83e;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x21b767){const _0x1764ba=_0x3abb87,_0x34e349=document[_0x1764ba(0x753)](_0x1764ba(0x406)),_0x1d1e9e=document[_0x1764ba(0x753)](_0x1764ba(0x73d)),_0x549f42=document[_0x1764ba(0x753)](_0x1764ba(0x9e5));_0x34e349[_0x1764ba(0x33a)][_0x1764ba(0x23a)](_0x1764ba(0x986)),_0x1d1e9e[_0x1764ba(0xd15)]=_0x1764ba(0x812),_0x549f42[_0x1764ba(0x33a)][_0x1764ba(0xbaf)](_0x1764ba(0x986));try{const _0x47f432=_0x1764ba(0xb6f)+_0x21b767+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x33b839={'type':_0x1764ba(0xbe1),'properties':{'gradeLevel':{'type':_0x1764ba(0x29d)},'curriculum':{'type':'ARRAY','items':{'type':_0x1764ba(0xbe1),'properties':{'sara':{'type':_0x1764ba(0x29d)},'mainTopics':{'type':'ARRAY','items':{'type':_0x1764ba(0xbe1),'properties':{'topicName':{'type':_0x1764ba(0x29d)},'subTopics':{'type':_0x1764ba(0x9bd),'items':{'type':_0x1764ba(0x29d)}}},'required':[_0x1764ba(0xd5a),_0x1764ba(0x7a2)]}}},'required':['sara','mainTopics']}}},'required':[_0x1764ba(0x2bd),_0x1764ba(0xc85)]},_0x1d8aec=await callAnalysisApi(_0x47f432,_0x33b839);if(_0x1d8aec&&_0x1d8aec[_0x1764ba(0xc85)])extractedBlueprintData=_0x1d8aec,renderBlueprintTopics(_0x1d8aec),_0x549f42[_0x1764ba(0x33a)][_0x1764ba(0x23a)](_0x1764ba(0x986));else throw new Error(_0x1764ba(0xce8));}catch(_0x139f0c){console[_0x1764ba(0x28d)](_0x1764ba(0xbba),_0x139f0c),_0x1d1e9e[_0x1764ba(0xd15)]=_0x1764ba(0xbe2);}}function renderBlueprintTopics(_0x3c45df){const _0xe4fb8a=_0x3abb87,_0x2a2663=document['getElementById']('blueprint-topics-list'),_0x546bbd=_0x3c45df[_0xe4fb8a(0x2bd)],_0x2ea9c6='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x546bbd+'</h3>';let _0x35686e='';_0x3c45df[_0xe4fb8a(0xc85)][_0xe4fb8a(0x91b)](_0x862170=>{const _0x24d0c9=_0xe4fb8a;_0x35686e+=_0x24d0c9(0x473)+_0x862170[_0x24d0c9(0x90e)]+'</h4>',_0x862170[_0x24d0c9(0xbae)][_0x24d0c9(0x91b)](_0x36536c=>{const _0x505f6c=_0x24d0c9;_0x35686e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x36536c[_0x505f6c(0xd5a)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x36536c[_0x505f6c(0x7a2)][_0x505f6c(0x91b)](_0x540427=>{const _0x190514=_0x505f6c;_0x35686e+=_0x190514(0x754)+_0x540427[_0x190514(0x749)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x546bbd[_0x190514(0x749)](/'/g,'\x5c\x27')+_0x190514(0xd99)+_0x540427+_0x190514(0x69e)+_0x540427[_0x190514(0x749)](/'/g,'\x5c\x27')+_0x190514(0xb33);}),_0x35686e+=_0x505f6c(0x74d);}),_0x35686e+='</div>';}),_0x2a2663[_0xe4fb8a(0xd15)]=_0x2ea9c6+_0x35686e;}async function handleGenerateTeachingContent(_0x35ae04){const _0x275240=_0x3abb87,_0x5700df=document[_0x275240(0x753)]('lesson-plan-modal'),_0x4af7d0=document[_0x275240(0x753)]('lesson-plan-content');document[_0x275240(0x753)]('lesson-plan-title')['textContent']='กำลังสร้างเนื้อหา:\x20'+_0x35ae04,_0x4af7d0[_0x275240(0xd15)]=_0x275240(0x8b2),_0x5700df[_0x275240(0x33a)][_0x275240(0x23a)](_0x275240(0x986));try{const _0x203e0c=_0x275240(0x7f8)+_0x35ae04+_0x275240(0x5b6),_0x4b4703={'type':_0x275240(0xbe1),'properties':{'keyConcepts':{'type':_0x275240(0x9bd),'items':{'type':_0x275240(0x29d)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x275240(0x29d)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x275240(0xbe1),'properties':{'question':{'type':_0x275240(0x29d)},'solution':{'type':_0x275240(0x29d)}},'required':[_0x275240(0x231),_0x275240(0xa72)]}},'teacherTips':{'type':_0x275240(0x9bd),'items':{'type':_0x275240(0x29d)}}},'required':[_0x275240(0x922),_0x275240(0x209),_0x275240(0x6eb),_0x275240(0xa0f)]},_0x3512dd=await callAnalysisApi(_0x203e0c,_0x4b4703);displayTeachingContent(_0x3512dd,_0x35ae04);}catch(_0x38957d){console[_0x275240(0x28d)](_0x275240(0xd23),_0x38957d),_0x4af7d0[_0x275240(0xd15)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x38957d['message']+_0x275240(0x854);}}function displayTeachingContent(_0x42ac39,_0x234a10){const _0x1cd5b=_0x3abb87,_0x237c11=document[_0x1cd5b(0x753)](_0x1cd5b(0x4a7));document[_0x1cd5b(0x753)](_0x1cd5b(0x37a))[_0x1cd5b(0xbde)]=_0x1cd5b(0xa7b)+_0x234a10;const _0xa8d14d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x42ac39[_0x1cd5b(0x922)]['map'](_0x31c0cd=>_0x1cd5b(0xa66)+_0x31c0cd+_0x1cd5b(0x592))[_0x1cd5b(0xe0b)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x42ac39[_0x1cd5b(0x209)]['map'](_0x5ae53c=>_0x1cd5b(0xa66)+_0x5ae53c+_0x1cd5b(0x592))[_0x1cd5b(0xe0b)]('')+_0x1cd5b(0x3f9)+_0x42ac39[_0x1cd5b(0x6eb)]['map'](_0x2d6e46=>_0x1cd5b(0xdda)+_0x2d6e46[_0x1cd5b(0x231)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x2d6e46[_0x1cd5b(0xa72)]+_0x1cd5b(0x2a0))[_0x1cd5b(0xe0b)]('')+_0x1cd5b(0x9a9)+_0x42ac39[_0x1cd5b(0xa0f)]['map'](_0x290115=>_0x1cd5b(0xa66)+_0x290115+'</li>')[_0x1cd5b(0xe0b)]('')+_0x1cd5b(0xd9a);_0x237c11['innerHTML']=_0xa8d14d;if(window['MathJax'])MathJax[_0x1cd5b(0x98a)]([_0x237c11]);}async function generateQuizForSingleTopic(_0x52bb1f){const _0x1c472d=_0x3abb87;console['log'](_0x1c472d(0xa4b)+_0x52bb1f+'\x22');const _0x11a88f=document[_0x1c472d(0x753)](_0x1c472d(0x429)),_0x469e8a=_0x11a88f[_0x1c472d(0xc89)][_0x1c472d(0xd2b)]>0x0?_0x11a88f[_0x1c472d(0xc89)][0x0]:null;let _0x22c74d=null;if(_0x469e8a)try{const _0x24b439=new FileReader();_0x24b439['readAsDataURL'](_0x469e8a);const _0x240194=await new Promise((_0x11c7a0,_0x4f2224)=>{const _0x12d578=_0x1c472d;_0x24b439[_0x12d578(0x55b)]=()=>_0x11c7a0(_0x24b439[_0x12d578(0xdd8)][_0x12d578(0x5ee)](',')[0x1]),_0x24b439[_0x12d578(0xe51)]=_0x180c5e=>_0x4f2224(_0x180c5e);});_0x22c74d=[{'inlineData':{'mimeType':_0x469e8a[_0x1c472d(0x2d0)],'data':_0x240194}}];}catch(_0x311c7c){console[_0x1c472d(0x28d)](_0x1c472d(0x914),_0x311c7c),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x52bb1f,null,null,_0x22c74d,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x1ec78a=null){const _0x420a2a=_0x3abb87,_0x13aca6=document[_0x420a2a(0x753)](_0x420a2a(0xac0)),_0x86aaf7=document[_0x420a2a(0x753)](_0x420a2a(0xa76));let _0x4354a4,_0x52f6f3=[];if(_0x1ec78a)_0x4354a4=_0x1ec78a,_0x52f6f3=_0x4354a4[_0x420a2a(0x5a7)](0x2);else{const _0x280a43=document[_0x420a2a(0x753)](_0x420a2a(0x6ae)),_0x87ac7=document[_0x420a2a(0x753)](_0x420a2a(0x429)),_0x478193=_0x280a43[_0x420a2a(0xc89)][0x0];if(!_0x478193){showMessage(_0x420a2a(0x2dc));return;}_0x86aaf7[_0x420a2a(0xbde)]=_0x420a2a(0x2c8);const _0x2dd77d=await new Promise((_0x5dee78,_0x35a254)=>{const _0x1cde22=_0x420a2a,_0x5e9faa=new FileReader();_0x5e9faa['readAsDataURL'](_0x478193),_0x5e9faa[_0x1cde22(0x55b)]=()=>_0x5dee78(_0x5e9faa[_0x1cde22(0xdd8)]['split'](',')[0x1]),_0x5e9faa[_0x1cde22(0xe51)]=_0x35a254;});_0x4354a4=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x478193[_0x420a2a(0x2d0)],'data':_0x2dd77d}}];if(_0x87ac7[_0x420a2a(0xc89)][_0x420a2a(0xd2b)]>0x0){const _0x3fde91=_0x87ac7[_0x420a2a(0xc89)][0x0];_0x86aaf7[_0x420a2a(0xbde)]=_0x420a2a(0x2fe);const _0x478204=await new Promise((_0x2fc6be,_0x561afa)=>{const _0x1394d4=_0x420a2a,_0x410794=new FileReader();_0x410794[_0x1394d4(0x314)](_0x3fde91),_0x410794[_0x1394d4(0x55b)]=()=>_0x2fc6be(_0x410794[_0x1394d4(0xdd8)][_0x1394d4(0x5ee)](',')[0x1]),_0x410794['onerror']=_0x561afa;}),_0x44c749={'inlineData':{'mimeType':_0x3fde91[_0x420a2a(0x2d0)],'data':_0x478204}};_0x4354a4['push'](_0x44c749),_0x52f6f3['push'](_0x44c749);}}const _0x40bfba=_0x420a2a(0x400),_0x45ee66='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x3e70c1='';_0x52f6f3&&_0x52f6f3[_0x420a2a(0xd2b)]>0x0?_0x3e70c1=_0x40bfba:_0x3e70c1=_0x45ee66;const _0x555da0=_0x420a2a(0x756)+_0x3e70c1+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x7d14be={'type':_0x420a2a(0xbe1),'properties':{'questionText':{'type':_0x420a2a(0x29d)},'questionType':{'type':_0x420a2a(0x29d),'enum':[_0x420a2a(0x431),'short_answer',_0x420a2a(0x718),_0x420a2a(0x79a)]},'options':{'type':_0x420a2a(0x9bd),'items':{'type':_0x420a2a(0x29d)}},'correctAnswerIndex':{'type':_0x420a2a(0xd79)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x420a2a(0x9e2)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x420a2a(0x29d)}},'required':['questionType',_0x420a2a(0x866)]},_0x446464={'type':_0x420a2a(0xbe1),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x7d14be}},'required':[_0x420a2a(0x3bb),_0x420a2a(0x806)]};_0x4354a4[0x0][_0x420a2a(0xba9)]=_0x555da0,await handleApiCall(_0x4354a4,_0x420a2a(0x202),_0x446464);}function proceedToNextQuestion(_0x4e40f3){const _0x17dd85=_0x3abb87;studentAnswersPerQuestion[_0x17dd85(0xabd)](_0x4e40f3),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x17dd85(0x806)][_0x17dd85(0xd2b)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x3b88cb,_0xb3c240,_0x52a8c6){const _0x1740b0=_0x3abb87,_0x1012ee=Object[_0x1740b0(0xa10)](_0x3b88cb['players']||{}),_0x2a4220=_0x1012ee['length'],_0x3940e8=_0x52a8c6,_0x47b59c=_0x3b88cb[_0x1740b0(0xdb6)]||'classic',_0x2a0969=_0x47b59c===_0x1740b0(0x58f),_0x158c8c=_0x3b88cb[_0x1740b0(0xbef)]===!![],_0x6d3a4d=_0x47b59c===_0x1740b0(0xcad),_0x50e3cb=_0x3b88cb[_0x1740b0(0xbd7)][_0x1740b0(0x806)],_0x59d33f=_0x50e3cb[_0x3940e8],_0x24cf46=_0x277f8f=>String[_0x1740b0(0x83c)](0x41+_0x277f8f),_0x22d315=_0x1012ee[_0x1740b0(0x561)](_0xde85fc=>{const _0x93273b=_0x1740b0,_0x1d5604=_0xde85fc[_0x93273b(0xb3d)]||0x0,_0x16356e=_0xde85fc[_0x93273b(0x695)]||0x0,_0x1a7a92=(_0xde85fc[_0x93273b(0x67e)]||[])['filter'](_0x171122=>{const _0x509a06=_0x93273b;if(_0x47b59c===_0x509a06(0x96b))return _0x171122[_0x509a06(0x824)]<=_0x3940e8;return!![];});return{..._0xde85fc,'realScore':_0x1d5604,'totalPoints':_0x16356e,'answers':_0x1a7a92};}),_0x29f246=_0x3b88cb[_0x1740b0(0x724)]===!![],_0x67bb5e=[..._0x22d315][_0x1740b0(0xb00)]((_0x1f383d,_0x12e6d2)=>{const _0x45f248=_0x1740b0;if(_0x29f246){const _0x4f2d1f=_0x12e6d2['realScore']-_0x1f383d[_0x45f248(0xb2d)];if(_0x4f2d1f!==0x0)return _0x4f2d1f;const _0x515ae7=_0x12e6d2['totalPoints']-_0x1f383d['totalPoints'];if(_0x515ae7!==0x0)return _0x515ae7;return(_0x1f383d[_0x45f248(0xc71)]||'')[_0x45f248(0xe3a)](_0x12e6d2[_0x45f248(0xc71)]||'','th');}else{const _0x99ac59=_0x12e6d2[_0x45f248(0x695)]-_0x1f383d[_0x45f248(0x695)];if(_0x99ac59!==0x0)return _0x99ac59;const _0x968490=_0x12e6d2['realScore']-_0x1f383d['realScore'];if(_0x968490!==0x0)return _0x968490;return(_0x1f383d['name']||'')[_0x45f248(0xe3a)](_0x12e6d2[_0x45f248(0xc71)]||'','th');}}),_0x2f3a1e=Math[_0x1740b0(0x513)](..._0x22d315[_0x1740b0(0x561)](_0x488e10=>_0x488e10[_0x1740b0(0x695)]),0x0),_0x57a160=_0x52a8c6+0x1,_0x2fe0f6=_0x22d315[_0x1740b0(0x27c)](_0x375a0c=>_0x375a0c[_0x1740b0(0xb2d)]===_0x57a160&&(_0x375a0c[_0x1740b0(0x67e)]||[])[_0x1740b0(0xd2b)]===_0x57a160&&_0x57a160>0x0),_0x338630=_0x2fe0f6['length']>0x0?Math[_0x1740b0(0x513)](..._0x2fe0f6[_0x1740b0(0x561)](_0x40ca13=>_0x40ca13['totalPoints'])):-Infinity;let _0x288765='';const _0x3ab006=!_0x6d3a4d&&!(_0x2a0969&&_0x3b88cb['showAnswerInAnonymous']===![]);if(_0x59d33f&&_0x3ab006){let _0x124d1f='',_0x2f317f='';const _0x586082=_0x59d33f[_0x1740b0(0x302)]||_0x3b88cb[_0x1740b0(0xbd7)][_0x1740b0(0x273)];if(_0x586082==='multiple_choice'&&_0x59d33f[_0x1740b0(0x254)]&&_0x59d33f['correctAnswerIndex']!==undefined){const _0xb61e99=_0x59d33f[_0x1740b0(0xa07)];_0x124d1f=_0x59d33f[_0x1740b0(0x254)][_0xb61e99],_0x2f317f=_0x24cf46(_0xb61e99)+'.';}else{if(_0x586082===_0x1740b0(0x718)){const _0x2b462a=_0x59d33f['correctAnswer']===!![]||String(_0x59d33f[_0x1740b0(0x509)])['toLowerCase']()===_0x1740b0(0x243);_0x2b462a?(_0x124d1f=_0x1740b0(0x991),_0x2f317f='ก.'):(_0x124d1f=_0x1740b0(0x643),_0x2f317f='ข.');}else{if(_0x586082==='matching_item')_0x124d1f=_0x59d33f[_0x1740b0(0x707)]||'-',_0x2f317f='';else _0x586082===_0x1740b0(0xb85)&&(_0x124d1f=_0x59d33f[_0x1740b0(0x288)]||'-',_0x2f317f='');}}_0x124d1f&&(_0x288765=_0x1740b0(0x2b3)+(_0x3940e8+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x2f317f+'\x20'+_0x124d1f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x466dfd=_0x67bb5e['map'](_0x577228=>{const _0x4f132e=_0x1740b0,_0x400407=_0x577228[_0x4f132e(0xb2d)],_0x2c3151=_0x577228['totalPoints'],_0x1906f5=_0x577228['answers'][_0x4f132e(0xd2b)],_0x3f6538=(_0x577228[_0x4f132e(0x67e)]||[])[_0x4f132e(0x7f4)](_0x2217c3=>_0x2217c3[_0x4f132e(0x824)]===_0x52a8c6);let _0x3b6abd='';_0x3f6538&&(_0x3f6538['usedPoll']&&(_0x3b6abd+='<span\x20title=\x22ใช้ส่องสถิติในตานี้\x22>📊</span>'),_0x3f6538[_0x4f132e(0x9f6)]&&(_0x3b6abd+=_0x4f132e(0xbff)),_0x3f6538[_0x4f132e(0x491)]&&(_0x3b6abd+=_0x4f132e(0x53b)));let _0x42cd3a='';if(!_0x6d3a4d&&_0x1906f5>0x0){const _0x2aa821=_0x577228[_0x4f132e(0x67e)]['length'],_0x1cd311=_0x577228['realScore']===_0x57a160&&_0x2aa821===_0x57a160&&_0x57a160>0x0;if(_0x29f246){const _0x239058=_0x1cd311&&_0x577228[_0x4f132e(0x695)]===_0x338630;if(_0x239058)_0x42cd3a='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x1cd311&&(_0x42cd3a='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>');}else{if(_0x2aa821===_0x57a160&&_0x57a160>0x0){let _0x478b82=_0x57a160;_0x3b88cb[_0x4f132e(0xc67)]&&(_0x478b82=_0x57a160*0x2);const _0x5ddf1b=_0x577228[_0x4f132e(0x695)]===_0x478b82;if(_0x5ddf1b)_0x42cd3a=_0x4f132e(0xce5);else _0x1cd311&&(_0x42cd3a=_0x4f132e(0xe06));}}if(_0x42cd3a===''){if(_0x2c3151<0x0)_0x42cd3a='<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>';else _0x400407===0x0&&_0x2aa821>0x0&&(_0x42cd3a=_0x4f132e(0xc06));}}let _0x546a90='bg-black/20';if(!_0x6d3a4d){const _0x246c92=(_0x577228['answers']||[])[_0x4f132e(0x7f4)](_0xa0847=>_0xa0847[_0x4f132e(0x824)]===_0x3940e8);if(_0x246c92){const _0x35c804=_0x246c92['isCorrect'],_0x2bd298=_0x246c92[_0x4f132e(0x630)]===!![]||_0x246c92['wasConfident']===_0x4f132e(0x82f),_0x2c6fa2=_0x246c92[_0x4f132e(0x6ef)];if(_0x2c6fa2===_0x4f132e(0xc14))_0x35c804?_0x546a90=_0x4f132e(0xa77):_0x546a90=_0x4f132e(0xb5b);else{if(_0x2bd298)_0x35c804?_0x546a90=_0x4f132e(0xa58):_0x546a90=_0x4f132e(0x2c9);else _0x35c804&&(_0x546a90='bg-[#DCFCE7]\x20text-green-900');}}}let _0x393c33='';const _0xaa7644=_0x577228[_0x4f132e(0xc71)],_0x1d52e9=_0x3b88cb[_0x4f132e(0xc52)][_0x577228[_0x4f132e(0xc71)]]||_0x4f132e(0x987),_0x456bd1=_0x4f132e(0xb16),_0x493ff1=_0x4f132e(0xb8b);let _0xafab47='';const _0x5207f7=_0x2c3151>=0x0?'(+'+_0x2c3151+')':'('+_0x2c3151+')',_0x5ad402=_0x4f132e(0x923)+_0x577228[_0x4f132e(0xb2d)]+_0x4f132e(0x4de)+_0x5207f7+_0x4f132e(0x487);if(_0xb3c240){if(_0x2a0969&&!_0x158c8c)_0x393c33='<div\x20style=\x22'+_0x456bd1+'\x22\x20title=\x22'+_0x1d52e9+_0x4f132e(0x920)+_0x493ff1+'\x22>'+_0x1d52e9+_0x4f132e(0xd45)+_0x3b6abd+'\x20'+_0x42cd3a+_0x4f132e(0x634),_0xafab47=_0x5ad402;else{if(_0x2a0969&&_0x158c8c)_0x393c33=_0x4f132e(0x92a)+_0x456bd1+_0x4f132e(0x8d1)+_0xaa7644+'\x20('+_0x1d52e9+')\x22><span\x20style=\x22'+_0x493ff1+'\x22>'+_0xaa7644+_0x4f132e(0xd45)+_0x3b6abd+'\x20'+_0x42cd3a+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x493ff1+'\x22>('+_0x1d52e9+_0x4f132e(0x2cc),_0xafab47=_0x5ad402;else _0x6d3a4d?(_0x393c33='<div\x20style=\x22'+_0x456bd1+_0x4f132e(0x8d1)+_0xaa7644+'\x22><span\x20style=\x22'+_0x493ff1+'\x22>'+_0xaa7644+_0x4f132e(0xd45)+_0x3b6abd+'</div>',_0xafab47=''):(_0x393c33='<div\x20style=\x22'+_0x456bd1+_0x4f132e(0x8d1)+_0xaa7644+_0x4f132e(0x920)+_0x493ff1+'\x22>'+_0xaa7644+_0x4f132e(0xd45)+_0x3b6abd+'\x20'+_0x42cd3a+'</div>',_0xafab47=_0x5ad402);}}else{const _0x5da574=localTeamPlayers['includes'](_0xaa7644),_0x5ef5dd=viewerPlayer[_0x4f132e(0x695)],_0x459c1e=_0x577228[_0x4f132e(0x695)];if(_0x2a0969)_0x158c8c?_0x393c33='<div\x20style=\x22'+_0x456bd1+_0x4f132e(0x8d1)+_0xaa7644+'\x20('+_0x1d52e9+_0x4f132e(0x388)+_0x493ff1+'\x22>'+_0xaa7644+_0x4f132e(0xd45)+_0x3b6abd+'\x20'+_0x42cd3a+_0x4f132e(0x7d4)+_0x493ff1+_0x4f132e(0x324)+_0x1d52e9+_0x4f132e(0x2cc):_0x5da574?isViewerTopScorer?_0x393c33=_0x4f132e(0x92a)+_0x456bd1+_0x4f132e(0x8d1)+_0xaa7644+'\x20('+_0x1d52e9+_0x4f132e(0x388)+_0x493ff1+'\x22>'+_0xaa7644+_0x4f132e(0xd45)+_0x3b6abd+'\x20'+_0x42cd3a+_0x4f132e(0x7d4)+_0x493ff1+_0x4f132e(0x324)+_0x1d52e9+_0x4f132e(0x2cc):_0x393c33=_0x4f132e(0x92a)+_0x456bd1+_0x4f132e(0x8d1)+_0x1d52e9+'\x22><span\x20style=\x22'+_0x493ff1+'\x22>'+_0x1d52e9+_0x4f132e(0xd45)+_0x3b6abd+'\x20'+_0x42cd3a+_0x4f132e(0x634):_0x5ef5dd>_0x459c1e?_0x393c33=_0x4f132e(0x92a)+_0x456bd1+_0x4f132e(0x8d1)+_0xaa7644+'\x20('+_0x1d52e9+_0x4f132e(0x388)+_0x493ff1+'\x22>'+_0xaa7644+'</span>\x20'+_0x3b6abd+'\x20'+_0x42cd3a+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x493ff1+_0x4f132e(0x324)+_0x1d52e9+_0x4f132e(0x2cc):_0x393c33='<div\x20style=\x22'+_0x456bd1+_0x4f132e(0x8d1)+_0x1d52e9+_0x4f132e(0x920)+_0x493ff1+'\x22>'+_0x1d52e9+'</span>\x20'+_0x3b6abd+'\x20'+_0x42cd3a+'</div>',_0xafab47=_0x5ad402;else _0x6d3a4d?(_0x393c33=_0x4f132e(0x92a)+_0x456bd1+_0x4f132e(0x8d1)+_0xaa7644+_0x4f132e(0x920)+_0x493ff1+'\x22>'+_0xaa7644+_0x4f132e(0xd45)+_0x3b6abd+'</div>',_0xafab47=''):(_0x393c33=_0x4f132e(0x92a)+_0x456bd1+_0x4f132e(0x8d1)+_0xaa7644+'\x22><span\x20style=\x22'+_0x493ff1+'\x22>'+_0xaa7644+_0x4f132e(0xd45)+_0x3b6abd+'\x20'+_0x42cd3a+_0x4f132e(0x634),_0xafab47=_0x5ad402);}return _0x4f132e(0x856)+_0x546a90+_0x4f132e(0xdf0)+_0x393c33+_0x4f132e(0x6cd)+_0xafab47+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1740b0(0xe0b)](''),_0x5a9e57=_0x50e3cb[_0x1740b0(0x561)]((_0x2344da,_0x3a59fe)=>{const _0x5eab3f=_0x1740b0;if(_0x47b59c===_0x5eab3f(0x96b)&&_0x3a59fe>_0x3940e8||_0x6d3a4d)return'';const _0x30158a=_0x22d315[_0x5eab3f(0x27c)](_0x5b7fd0=>_0x5b7fd0[_0x5eab3f(0x67e)]&&_0x5b7fd0['answers']['find'](_0x3de9fa=>_0x3de9fa[_0x5eab3f(0x824)]===_0x3a59fe&&_0x3de9fa['isCorrect']))[_0x5eab3f(0xd2b)],_0x544090=_0x3a59fe===_0x3940e8,_0x2e763f=_0x544090?_0x5eab3f(0x49d):_0x5eab3f(0xe73);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x2e763f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x3a59fe+0x1)+_0x5eab3f(0x7bb)+_0x30158a+_0x5eab3f(0x375)+_0x2a4220+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1740b0(0xe0b)]('');let _0x358e7c='',_0x139f46='';if(_0xb3c240){const _0xd2f4df=_0x47b59c===_0x1740b0(0xbf0)&&_0x3b88cb['currentQuestionIndex']>=_0x50e3cb[_0x1740b0(0xd2b)]-0x1,_0x1ba3db=_0x47b59c===_0x1740b0(0x96b)&&_0x3b88cb['reviewQuestionIndex']>=_0x50e3cb[_0x1740b0(0xd2b)]-0x1,_0x282688=_0x47b59c==='anonymous'&&_0x3b88cb[_0x1740b0(0x36f)]>=_0x50e3cb['length']-0x1,_0x562fe7=_0x47b59c===_0x1740b0(0xcad)&&_0x3b88cb['currentQuestionIndex']>=_0x50e3cb[_0x1740b0(0xd2b)]-0x1;_0xd2f4df||_0x1ba3db||_0x282688||_0x562fe7?_0x2a0969&&!_0x158c8c?_0x358e7c=_0x1740b0(0xe69):_0x358e7c=_0x1740b0(0xa83):_0x358e7c='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x139f46='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x5e9280=_0x6d3a4d||_0x2a0969&&!_0x3b88cb['showAnswerInAnonymous']?'':_0x1740b0(0x804)+_0x5a9e57+'</div></div>',_0x1685b8=_0x6d3a4d||_0x2a0969&&!_0x3b88cb[_0x1740b0(0x571)]?_0x1740b0(0x9d7):'md:col-span-1',_0x2ae6c6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x3b88cb[_0x1740b0(0xbd7)]['topic']+_0x1740b0(0xb2c)+_0x3b88cb[_0x1740b0(0x97e)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x139f46+_0x1740b0(0xde2)+_0x288765+_0x1740b0(0xe02)+_0x1685b8+'\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x466dfd||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x1740b0(0xa15)+_0x5e9280+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb3c240?_0x1740b0(0x276)+_0x358e7c+_0x1740b0(0x634):'')+_0x1740b0(0x5fa);liveGameView[_0x1740b0(0xd15)]=_0x2ae6c6;if(window[_0x1740b0(0xc12)]){const _0x26d34b=document[_0x1740b0(0x753)](_0x1740b0(0x6cf));_0x26d34b&&MathJax[_0x1740b0(0x98a)]([_0x26d34b]);}if(_0xb3c240){document['getElementById'](_0x1740b0(0xcb9))[_0x1740b0(0x26e)]=async()=>{const _0x594681=_0x1740b0,_0x4e45b2=doc(db,_0x594681(0x8da)+appId+_0x594681(0x725),currentLiveGameId),_0x2ada59=_0x47b59c===_0x594681(0xbf0)&&_0x3b88cb[_0x594681(0x36f)]>=_0x50e3cb[_0x594681(0xd2b)]-0x1,_0x3214c4=_0x47b59c==='reveal_at_end'&&_0x3b88cb[_0x594681(0xd4d)]>=_0x50e3cb[_0x594681(0xd2b)]-0x1,_0x2b7d18=_0x47b59c===_0x594681(0x58f)&&_0x3b88cb[_0x594681(0x36f)]>=_0x50e3cb['length']-0x1,_0x180cfa=_0x47b59c==='competition'&&_0x3b88cb[_0x594681(0x36f)]>=_0x50e3cb[_0x594681(0xd2b)]-0x1;if(_0x47b59c===_0x594681(0x96b))!_0x3214c4?await updateDoc(_0x4e45b2,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x4e45b2,{'status':_0x594681(0x58a)});else{if(!_0x2ada59&&!_0x2b7d18&&!_0x180cfa){const _0x1a846a=_0x3b88cb['currentQuestionIndex']+0x1,_0x14ef57={};Object[_0x594681(0xbd6)](_0x3b88cb[_0x594681(0xc17)])[_0x594681(0x91b)](_0x1ba4ae=>{const _0x2a79ce=_0x594681;_0x14ef57['players.'+_0x1ba4ae+'.answered']=![],_0x14ef57[_0x2a79ce(0x784)+_0x1ba4ae+'.lastAnswerIndex']=null,_0x14ef57['players.'+_0x1ba4ae+'.isJinxed']=![],_0x14ef57[_0x2a79ce(0x784)+_0x1ba4ae+_0x2a79ce(0xba1)]=![];}),await updateDoc(_0x4e45b2,{..._0x14ef57,'status':_0x594681(0x231),'currentQuestionIndex':_0x1a846a,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4e45b2,{'status':'podium'});}},document[_0x1740b0(0x753)](_0x1740b0(0x711))?.[_0x1740b0(0xdd0)](_0x1740b0(0xaa0),async()=>{const _0x409665=_0x1740b0;await updateDoc(doc(db,'artifacts/'+appId+_0x409665(0x725),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x106bc4=document[_0x1740b0(0x753)](_0x1740b0(0x37e));_0x106bc4&&(_0x106bc4['onclick']=()=>{const _0x508879=_0x1740b0;showConfirmation(_0x508879(0xc5d),async()=>{const _0x47018a=_0x508879;await updateDoc(doc(db,_0x47018a(0x8da)+appId+_0x47018a(0x725),currentLiveGameId),{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x2a0513){const _0x12dcfe=_0x3abb87,_0x47ba7a=document[_0x12dcfe(0x753)](_0x12dcfe(0xc96)),_0x22ef31=document[_0x12dcfe(0x753)]('project-quizzes-list');_0x22ef31[_0x12dcfe(0x33a)]['add'](_0x12dcfe(0x986));const _0x30a645=_0x12dcfe(0x696)+_0x2a0513[_0x12dcfe(0x3bb)]+_0x12dcfe(0x2e5);_0x47ba7a[_0x12dcfe(0x4a1)]('beforeend',_0x30a645);const _0x5aed25=document[_0x12dcfe(0x753)](_0x12dcfe(0x5b2));try{const _0x2425ed=_0x2a0513[_0x12dcfe(0x806)][_0x12dcfe(0x561)]((_0x4831c9,_0x352c48)=>{const _0x40bb50=_0x12dcfe;let _0x77fcaa=_0x352c48+0x1+'.\x20'+(_0x4831c9[_0x40bb50(0xbdb)]||_0x4831c9[_0x40bb50(0x9b7)])+'\x0a';if(_0x4831c9[_0x40bb50(0x254)])_0x77fcaa+=_0x4831c9[_0x40bb50(0x254)]['map']((_0x58dc7f,_0x5865b9)=>_0x40bb50(0x2f6)+(_0x5865b9===_0x4831c9[_0x40bb50(0xa07)]?'[*]':'')+'\x20'+_0x58dc7f)[_0x40bb50(0xe0b)]('\x0a');else _0x4831c9['idealAnswer']&&(_0x77fcaa+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x4831c9['idealAnswer']);return _0x77fcaa;})['join']('\x0a\x0a');_0x5aed25[_0x12dcfe(0xbde)]=_0x12dcfe(0xe25);const _0x230487='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x2a0513['topic']+_0x12dcfe(0x364)+_0x2425ed+_0x12dcfe(0x717)+simpleMathPrompt+_0x12dcfe(0x1ea),_0x278a16={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x12dcfe(0x29d),'enum':[_0x12dcfe(0x431),_0x12dcfe(0xb85),_0x12dcfe(0x718),_0x12dcfe(0x79a)]},'options':{'type':_0x12dcfe(0x9bd),'items':{'type':_0x12dcfe(0x29d)}},'correctAnswerIndex':{'type':_0x12dcfe(0xd79)},'idealAnswer':{'type':_0x12dcfe(0x29d)},'correctAnswer':{'type':_0x12dcfe(0x9e2)},'stem':{'type':_0x12dcfe(0x29d)},'correctResponse':{'type':_0x12dcfe(0x29d)},'allResponses':{'type':'ARRAY','items':{'type':_0x12dcfe(0x29d)}},'explanation':{'type':_0x12dcfe(0x29d)},'imageCode':{'type':'STRING'}},'required':[_0x12dcfe(0x302),_0x12dcfe(0x866)]},_0x535f40={'type':'OBJECT','properties':{'topic':{'type':_0x12dcfe(0x29d)},'questions':{'type':_0x12dcfe(0x9bd),'items':_0x278a16}},'required':[_0x12dcfe(0x3bb),_0x12dcfe(0x806)]},_0x44a145=await callAnalysisApi(_0x230487,_0x535f40),_0xf9bfa4=_0x44a145[_0x12dcfe(0x806)][_0x12dcfe(0x561)]((_0xca8ba2,_0x21d443)=>({..._0xca8ba2,'id':'q_'+Date[_0x12dcfe(0xbc4)]()+'_'+_0x21d443})),_0x5a12a5='(คู่ขนาน)\x20'+_0x2a0513[_0x12dcfe(0x3bb)],_0x3c8f43={'topic':_0x5a12a5,'questions':_0xf9bfa4,'quizType':_0x2a0513[_0x12dcfe(0x273)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x12dcfe(0x351),'settings':_0x2a0513[_0x12dcfe(0xa95)],'quizMode':_0x12dcfe(0xd28),'pairedQuizId':null,'lessonPlan':null};let _0x21a3db;while(!![]){_0x21a3db=Math[_0x12dcfe(0x886)](0x3e8+Math[_0x12dcfe(0x323)]()*0x2328)['toString']();const _0x569b3b=await getDoc(doc(db,_0x12dcfe(0x8da)+appId+_0x12dcfe(0xe3e),_0x21a3db));if(!_0x569b3b[_0x12dcfe(0xc9d)]())break;}await setDoc(doc(db,_0x12dcfe(0x8da)+appId+_0x12dcfe(0xe3e),_0x21a3db),_0x3c8f43),showMessage(_0x12dcfe(0x580));}catch(_0x5edb9f){console[_0x12dcfe(0x28d)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x5edb9f),showMessage(_0x12dcfe(0x339)+_0x5edb9f[_0x12dcfe(0x9e1)]);}finally{const _0x26996a=document[_0x12dcfe(0x753)](_0x12dcfe(0x72d));_0x26996a&&_0x26996a['remove'](),_0x22ef31[_0x12dcfe(0x33a)]['remove'](_0x12dcfe(0x986));}}async function handleGenerateParallelPostTest(_0x2650b1){const _0x586624=_0x3abb87,_0xcd538c=document[_0x586624(0x753)](_0x586624(0xc96)),_0x3c0aeb=document[_0x586624(0x753)](_0x586624(0xd1c));_0x3c0aeb[_0x586624(0x33a)]['add'](_0x586624(0x986));const _0x14db0f=_0x586624(0xa1c);_0xcd538c[_0x586624(0x4a1)](_0x586624(0xe43),_0x14db0f);try{const _0x31cef4=_0x2650b1['questions'][_0x586624(0x561)]((_0x17550a,_0x501a36)=>{const _0x4cc74c=_0x586624;let _0x3ca464=_0x501a36+0x1+'.\x20'+(_0x17550a['questionText']||_0x17550a[_0x4cc74c(0x9b7)]);if(_0x17550a['options'])_0x3ca464+=_0x4cc74c(0xe09)+_0x17550a[_0x4cc74c(0x254)][_0x4cc74c(0xe0b)](',\x20');return _0x3ca464;})[_0x586624(0xe0b)]('\x0a\x0a'),_0x6232e7=_0x586624(0x485)+_0x2650b1[_0x586624(0x3bb)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31cef4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x586624(0x1ea),_0x404352={'type':_0x586624(0xbe1),'properties':{'topic':{'type':_0x586624(0x29d)},'questions':{'type':_0x586624(0x9bd),'items':{'type':_0x586624(0xbe1),'properties':{'questionText':{'type':_0x586624(0x29d)},'questionType':{'type':'STRING'},'options':{'type':_0x586624(0x9bd),'items':{'type':_0x586624(0x29d)}},'correctAnswerIndex':{'type':_0x586624(0xd79)},'idealAnswer':{'type':_0x586624(0x29d)},'explanation':{'type':_0x586624(0x29d)}},'required':[_0x586624(0xbdb),_0x586624(0x866)]}}},'required':[_0x586624(0x3bb),'questions']},_0x44797b=await callAnalysisApi(_0x6232e7,_0x404352),_0x3ae761=_0x2650b1[_0x586624(0x3bb)]['replace'](_0x586624(0x93f),'')[_0x586624(0xda7)](),_0x591fe5=_0x586624(0xd3f)+_0x3ae761,_0x12da62={..._0x44797b,'topic':_0x591fe5,'quizType':_0x2650b1[_0x586624(0x273)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x586624(0x84a)](),'status':'active','settings':_0x2650b1['settings'],'quizMode':_0x586624(0x76f),'pairedQuizId':_0x2650b1['id']};let _0x813530;while(!![]){_0x813530=Math[_0x586624(0x886)](0x3e8+Math[_0x586624(0x323)]()*0x2328)[_0x586624(0xbd3)]();const _0x2cfed4=await getDoc(doc(db,_0x586624(0x8da)+appId+_0x586624(0xe3e),_0x813530));if(!_0x2cfed4[_0x586624(0xc9d)]())break;}await setDoc(doc(db,_0x586624(0x8da)+appId+_0x586624(0xe3e),_0x813530),_0x12da62);const _0x54cd47=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2650b1['id']);await updateDoc(_0x54cd47,{'pairedQuizId':_0x813530}),showMessage(_0x586624(0x9ed));}catch(_0x1678d2){console[_0x586624(0x28d)](_0x586624(0x538),_0x1678d2),showMessage(_0x586624(0x339)+_0x1678d2[_0x586624(0x9e1)]);}finally{const _0x3a4d10=document[_0x586624(0x753)](_0x586624(0x72d));if(_0x3a4d10)_0x3a4d10[_0x586624(0x23a)]();_0x3c0aeb[_0x586624(0x33a)][_0x586624(0x23a)](_0x586624(0x986));}}async function handleGenerateParallelTest(_0x4872f=null){const _0x568645=_0x3abb87;let _0x57c860=_0x4872f;if(!_0x57c860){const _0x4d148f=document[_0x568645(0x753)](_0x568645(0xbaa));_0x4d148f[_0x568645(0xc89)]['length']>0x0&&(_0x57c860=_0x4d148f[_0x568645(0xc89)][0x0]);}if(!_0x57c860){showMessage(_0x568645(0x709));return;}const _0x31252b=document['getElementById'](_0x568645(0xac0)),_0x2ef283=document['getElementById'](_0x568645(0xa76)),_0x573aef=document['getElementById']('generated-quiz-container'),_0x2b93e0=document['getElementById']('generate-from-parallel-test-btn');_0x2b93e0['disabled']=!![],document[_0x568645(0x753)]('quiz-generation-area')[_0x568645(0x33a)][_0x568645(0x23a)](_0x568645(0x986)),_0x573aef['innerHTML']='',_0x31252b[_0x568645(0x33a)][_0x568645(0x23a)](_0x568645(0x986)),_0x2ef283[_0x568645(0xbde)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x3a3755=new FileReader();_0x3a3755[_0x568645(0x314)](_0x57c860),_0x3a3755[_0x568645(0x55b)]=async()=>{const _0x1f0858=_0x568645;try{const _0x403f7a=_0x3a3755[_0x1f0858(0xdd8)]['split'](',')[0x1],_0x4a1ba3=_0x57c860[_0x1f0858(0x2d0)];_0x2ef283[_0x1f0858(0xbde)]=_0x1f0858(0x988);const _0x5c91ae=document[_0x1f0858(0x753)](_0x1f0858(0xe12))['checked'],_0x46acfb=_0x5c91ae?_0x1f0858(0x60a):'',_0xe9b021=_0x1f0858(0x864),_0x396c21={'type':_0x1f0858(0xbe1),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1f0858(0x29d),'enum':['multiple_choice',_0x1f0858(0xb85)]},'options':{'type':_0x1f0858(0x9bd),'items':{'type':_0x1f0858(0x29d)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1f0858(0x29d)},'explanation':{'type':_0x1f0858(0x29d)},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x1f0858(0x866)]},_0x375781={'type':_0x1f0858(0xbe1),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1f0858(0x9bd),'items':_0x396c21}},'required':[_0x1f0858(0x3bb),_0x1f0858(0x806)]},_0x5b828f=[{'text':_0xe9b021},{'inlineData':{'mimeType':_0x4a1ba3,'data':_0x403f7a}}];await handleApiCall(_0x5b828f,_0x1f0858(0xcbe),_0x375781);}catch(_0x133bd4){console[_0x1f0858(0x28d)](_0x1f0858(0x428),_0x133bd4),showMessage(_0x1f0858(0x339)+_0x133bd4[_0x1f0858(0x9e1)]),_0x573aef[_0x1f0858(0xd15)]=_0x1f0858(0xd6d);}finally{_0x31252b[_0x1f0858(0x33a)][_0x1f0858(0xbaf)]('hidden'),_0x2b93e0[_0x1f0858(0x5ad)]=![];}},_0x3a3755[_0x568645(0xe51)]=_0x33ffb8=>{const _0x2065dc=_0x568645;console['error'](_0x2065dc(0xdd3),_0x33ffb8),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x31252b[_0x2065dc(0x33a)][_0x2065dc(0xbaf)](_0x2065dc(0x986)),_0x2b93e0[_0x2065dc(0x5ad)]=![];};}async function handleRegenerateQuestionInEditor(_0x52a0e7){const _0x3a56ad=_0x3abb87;if(currentEditingQuizData===null)return;const _0x505300=document[_0x3a56ad(0xd5b)](_0x3a56ad(0x833)+_0x52a0e7+'\x22]');_0x505300&&(_0x505300[_0x3a56ad(0xd15)]=_0x3a56ad(0xb78));const _0x24b556=currentEditingQuizData[_0x3a56ad(0x806)][_0x52a0e7],_0x4f9d70=currentEditingQuizData['topic'],_0x11b4dc=_0x24b556[_0x3a56ad(0x302)],_0x4d4b63={'type':_0x3a56ad(0xbe1),'properties':{'questionText':{'type':_0x3a56ad(0x29d)},'options':{'type':'ARRAY','items':{'type':_0x3a56ad(0x29d)}},'correctAnswerIndex':{'type':_0x3a56ad(0xd79)},'explanation':{'type':_0x3a56ad(0x29d)}},'required':[_0x3a56ad(0xbdb),'options',_0x3a56ad(0xa07),_0x3a56ad(0x866)]},_0x4a1491={'type':_0x3a56ad(0xbe1),'properties':{'questionText':{'type':_0x3a56ad(0x29d)},'idealAnswer':{'type':_0x3a56ad(0x29d)},'explanation':{'type':_0x3a56ad(0x29d)}},'required':['questionText',_0x3a56ad(0x288),_0x3a56ad(0x866)]};let _0x3ed580,_0x38fa51='';_0x11b4dc===_0x3a56ad(0x431)?(_0x3ed580=_0x4d4b63,_0x38fa51='แบบปรนัย\x204\x20ตัวเลือก'):(_0x3ed580=_0x4a1491,_0x38fa51=_0x3a56ad(0xcef));const _0x2b4493='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x4f9d70+_0x3a56ad(0x52f)+_0x38fa51+_0x3a56ad(0x392)+(_0x24b556[_0x3a56ad(0xbdb)]||_0x24b556['stem'])+_0x3a56ad(0xa05)+simpleMathPrompt;try{const _0x5dbcc3=await callAnalysisApi(_0x2b4493,_0x3ed580);currentEditingQuizData[_0x3a56ad(0x806)][_0x52a0e7]={..._0x24b556,..._0x5dbcc3},renderQuizEditor(currentEditingQuizData);}catch(_0x4c2e76){console[_0x3a56ad(0x28d)](_0x3a56ad(0x424),_0x4c2e76),showMessage(_0x3a56ad(0x647)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x367984=_0x3abb87,_0x29ef30=document[_0x367984(0x753)]('mode-switcher-btn');currentMode==='student'?(currentMode=_0x367984(0xdcc),_0x29ef30['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x29ef30[_0x367984(0xbcd)]='สลับไปโหมดนักเรียน',showView(_0x367984(0x959))):(currentMode='student',_0x29ef30['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x29ef30['title']=_0x367984(0x87d),showView(_0x367984(0xbf8)));}function handleAdminLogin(){const _0x48358b=_0x3abb87,_0x162e84=document[_0x48358b(0x753)](_0x48358b(0xc2e)),_0x1bef61=document[_0x48358b(0x753)](_0x48358b(0x4fa));if(_0x162e84[_0x48358b(0x8a6)]==='27411472'){adminPasswordModal[_0x48358b(0x33a)]['add'](_0x48358b(0x986)),_0x162e84[_0x48358b(0x8a6)]='',_0x1bef61['classList'][_0x48358b(0xbaf)]('hidden'),currentMode=_0x48358b(0xdcc);const _0x15bd2b=document[_0x48358b(0x753)]('mode-switcher-btn');_0x15bd2b[_0x48358b(0xd15)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x15bd2b['title']='สลับไปโหมดนักเรียน',showView(_0x48358b(0x959));}else _0x1bef61['classList'][_0x48358b(0x23a)](_0x48358b(0x986)),_0x162e84[_0x48358b(0x8a6)]='';}function switchProjectTab(_0xda79d8){const _0xe7ad44=_0x3abb87;['manage',_0xe7ad44(0xada),'leaderboard'][_0xe7ad44(0x91b)](_0x15f312=>{const _0x424322=_0xe7ad44;document[_0x424322(0x753)](_0x15f312+'-tab')['classList'][_0x424322(0x23a)](_0x424322(0x351)),document[_0x424322(0x753)](_0x15f312+_0x424322(0x61d))[_0x424322(0x33a)][_0x424322(0xbaf)](_0x424322(0x986));}),document[_0xe7ad44(0x753)](_0xda79d8+_0xe7ad44(0x6ad))[_0xe7ad44(0x33a)][_0xe7ad44(0xbaf)]('active'),document[_0xe7ad44(0x753)](_0xda79d8+_0xe7ad44(0x61d))[_0xe7ad44(0x33a)][_0xe7ad44(0x23a)](_0xe7ad44(0x986));}function switchQuizDetailTab(_0x5f06c7){const _0x51a33b=_0x3abb87,_0x3e6cdd={'analytics':{'btn':_0x51a33b(0x5ef),'content':_0x51a33b(0x641)},'scores':{'btn':'scores-tab-btn','content':_0x51a33b(0xaef)},'leaderboard-quiz':{'btn':_0x51a33b(0xbb6),'content':_0x51a33b(0xd66)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x51a33b(0xd08)}};for(const _0xe56ff in _0x3e6cdd){document[_0x51a33b(0x753)](_0x3e6cdd[_0xe56ff]['btn'])['classList'][_0x51a33b(0x23a)](_0x51a33b(0x351)),document[_0x51a33b(0x753)](_0x3e6cdd[_0xe56ff]['content'])[_0x51a33b(0x33a)][_0x51a33b(0xbaf)](_0x51a33b(0x986));}document[_0x51a33b(0x753)](_0x3e6cdd[_0x5f06c7][_0x51a33b(0x710)])['classList']['add'](_0x51a33b(0x351)),document[_0x51a33b(0x753)](_0x3e6cdd[_0x5f06c7]['content'])[_0x51a33b(0x33a)][_0x51a33b(0x23a)](_0x51a33b(0x986));}function showMessage(_0x3c66d0,_0x478837=null){const _0x254178=_0x3abb87;modalMessage['innerHTML']=_0x3c66d0['replace'](/\n/g,'<br>'),modalConfirmAction=_0x478837,messageModal[_0x254178(0x33a)]['remove']('hidden');}function showConfirmation(_0x5c005d,_0x2e5f9b,_0x2acc53=null){const _0x42f415=_0x3abb87;document[_0x42f415(0x753)](_0x42f415(0x659))[_0x42f415(0xbde)]=_0x5c005d,document[_0x42f415(0x753)](_0x42f415(0xd26))[_0x42f415(0xd5b)]('h3')['textContent']=_0x42f415(0xbc6),confirmAction=_0x2e5f9b,cancelAction=_0x2acc53,confirmationModal['classList'][_0x42f415(0x23a)](_0x42f415(0x986));}function listenForProjects(){const _0x5c0102=_0x3abb87,_0x455b18=doc(db,_0x5c0102(0x51c),'dashboardConfig');onSnapshot(_0x455b18,_0x41ff3c=>{const _0x115bb4=_0x5c0102;if(_0x41ff3c['exists']()){const _0x319753=_0x41ff3c[_0x115bb4(0x3f4)]();globalDashboardSettings[_0x115bb4(0x619)]=_0x319753[_0x115bb4(0x619)]||_0x115bb4(0x5c7),globalDashboardSettings['pinnedProjects']=_0x319753['pinnedProjects']||[],globalDashboardSettings[_0x115bb4(0x29b)]=_0x319753[_0x115bb4(0x29b)]||[];}allProjects[_0x115bb4(0xd2b)]>0x0&&renderProjects();});const _0x42e491=collection(db,_0x5c0102(0x8da)+appId+_0x5c0102(0xdfd));unsubscribeProjectsListener=onSnapshot(_0x42e491,_0x34121e=>{const _0x2d6447=_0x5c0102;allProjects=_0x34121e['docs']['map'](_0x27a7f8=>({'id':_0x27a7f8['id'],..._0x27a7f8[_0x2d6447(0x3f4)]()})),renderProjects();},_0x4863fc=>{const _0x2b6f70=_0x5c0102;console[_0x2b6f70(0x28d)](_0x2b6f70(0x4db),_0x4863fc),showMessage(_0x2b6f70(0xcf3));});}function showColorPalette(_0x517291,_0x12bbda){const _0x35a3a9=_0x3abb87;document['querySelectorAll'](_0x35a3a9(0x72a))[_0x35a3a9(0x91b)](_0x59b500=>_0x59b500[_0x35a3a9(0x23a)]());const _0x321eb4=[_0x35a3a9(0x76b),_0x35a3a9(0xda6),_0x35a3a9(0x3ba),_0x35a3a9(0x621),_0x35a3a9(0x448),_0x35a3a9(0xaf2),_0x35a3a9(0xc28),'#FCE7F3',_0x35a3a9(0x6bf)],_0x5b6538=document[_0x35a3a9(0x419)](_0x35a3a9(0x7ea));_0x5b6538[_0x35a3a9(0x2a6)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x321eb4[_0x35a3a9(0x91b)](_0x42a661=>{const _0x2ac3cb=_0x35a3a9,_0x5c9728=document['createElement'](_0x2ac3cb(0x7ea));_0x5c9728[_0x2ac3cb(0x2a6)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x5c9728[_0x2ac3cb(0x41d)][_0x2ac3cb(0x56c)]=_0x42a661,_0x5c9728[_0x2ac3cb(0xdd0)](_0x2ac3cb(0xaa0),()=>{const _0x36397b=_0x2ac3cb;handleProjectColorChange(_0x12bbda,_0x42a661),_0x5b6538[_0x36397b(0x23a)]();}),_0x5b6538['appendChild'](_0x5c9728);}),document[_0x35a3a9(0x595)][_0x35a3a9(0xb8c)](_0x5b6538);const _0x5e29cd=_0x517291[_0x35a3a9(0xd30)]();_0x5b6538['style'][_0x35a3a9(0x79c)]=_0x5e29cd['bottom']+window[_0x35a3a9(0xe27)]+'px',_0x5b6538[_0x35a3a9(0x41d)][_0x35a3a9(0x599)]=_0x5e29cd[_0x35a3a9(0x599)]+window[_0x35a3a9(0xa60)]-_0x5b6538[_0x35a3a9(0xe20)]/0x2+'px';}async function handleProjectColorChange(_0x4d5165,_0xc8780d){const _0x4067a0=_0x3abb87,_0x2a20dc=doc(db,_0x4067a0(0x8da)+appId+'/public/data/projects',_0x4d5165);try{await updateDoc(_0x2a20dc,{'color':_0xc8780d});}catch(_0xd7e5e7){console['error'](_0x4067a0(0x8c9),_0xd7e5e7),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x5afb20=_0x3abb87,_0x351b2a=globalDashboardSettings[_0x5afb20(0x619)]||_0x5afb20(0x5c7),_0x42a813=new Set(globalDashboardSettings[_0x5afb20(0x74f)]||[]),_0xefee59=globalDashboardSettings['projectView']||_0x5afb20(0x809),_0x34c79f=document[_0x5afb20(0x753)](_0x5afb20(0x8af)),_0x230770=document[_0x5afb20(0x753)](_0x5afb20(0x93e));_0x34c79f[_0x5afb20(0x33a)][_0x5afb20(0x40d)](_0x5afb20(0x351),_0xefee59===_0x5afb20(0x809)),_0x230770[_0x5afb20(0x33a)]['toggle']('active',_0xefee59===_0x5afb20(0x311)),document['getElementById'](_0x5afb20(0x998))[_0x5afb20(0x8a6)]=_0x351b2a;const _0x4c805c=document[_0x5afb20(0x753)](_0x5afb20(0xbf2))[_0x5afb20(0x8a6)][_0x5afb20(0x6d9)]();let _0x1c25e6=allProjects[_0x5afb20(0x27c)](_0xc23c14=>_0xc23c14[_0x5afb20(0x5f4)][_0x5afb20(0x6d9)]()[_0x5afb20(0x842)](_0x4c805c));const _0x3a6929=_0x1c25e6[_0x5afb20(0x27c)](_0x345449=>_0x42a813['has'](_0x345449['id'])),_0x59bf3b=_0x1c25e6[_0x5afb20(0x27c)](_0x434738=>!_0x42a813[_0x5afb20(0x8bd)](_0x434738['id'])),_0x36f5b1=(_0x396b23,_0xdebb2d)=>{const _0x407233=_0x5afb20;switch(_0x351b2a){case'name_asc':return _0x396b23[_0x407233(0x5f4)]['localeCompare'](_0xdebb2d[_0x407233(0x5f4)],'th');case _0x407233(0xb73):return _0xdebb2d[_0x407233(0x5f4)][_0x407233(0xe3a)](_0x396b23[_0x407233(0x5f4)],'th');case _0x407233(0xc36):return new Date(_0x396b23[_0x407233(0x3ef)])-new Date(_0xdebb2d[_0x407233(0x3ef)]);default:return new Date(_0xdebb2d[_0x407233(0x3ef)])-new Date(_0x396b23[_0x407233(0x3ef)]);}};_0x3a6929[_0x5afb20(0xb00)](_0x36f5b1),_0x59bf3b[_0x5afb20(0xb00)](_0x36f5b1);const _0xdd2312=[..._0x3a6929,..._0x59bf3b],_0x4f70e7=globalDashboardSettings['projectOrder']||[];_0x4f70e7['length']>0x0&&_0xefee59===_0x5afb20(0x809)&&_0xdd2312[_0x5afb20(0xb00)]((_0x5db809,_0x58bd2b)=>{const _0xae1073=_0x5afb20,_0x591848=_0x4f70e7[_0xae1073(0x4c0)](_0x5db809['id']),_0x277f28=_0x4f70e7['indexOf'](_0x58bd2b['id']);if(_0x591848===-0x1)return 0x1;if(_0x277f28===-0x1)return-0x1;return _0x591848-_0x277f28;});const _0x1a3dd5={};await Promise[_0x5afb20(0x5ea)](_0xdd2312[_0x5afb20(0x561)](async _0xf0bd76=>{const _0x2f362f=_0x5afb20,_0x5e0521=query(collection(db,_0x2f362f(0x8da)+appId+_0x2f362f(0xe3e)),where(_0x2f362f(0x365),'==',_0xf0bd76['id'])),_0x7a5cd8=await getDocs(_0x5e0521);_0x1a3dd5[_0xf0bd76['id']]=_0x7a5cd8['size'];}));const _0x1a6777=document[_0x5afb20(0x753)](_0x5afb20(0xc58));let _0x3e0c18='';if(_0xefee59===_0x5afb20(0x809)){_0x1a6777[_0x5afb20(0x2a6)]=_0x5afb20(0xad1);if(starredQuizzes['length']>0x0&&_0x4c805c===''){const _0x196fbb=starredQuizzes[_0x5afb20(0x561)](_0x5439aa=>{const _0x55b185=_0x5afb20,_0x17f0b3=allProjects['find'](_0x151a24=>_0x151a24['id']===_0x5439aa[_0x55b185(0x365)]);return{..._0x5439aa,'projectName':_0x17f0b3?_0x17f0b3['projectName']:_0x55b185(0x9da)};});_0x3e0c18+=_0x5afb20(0x55d)+_0x196fbb[_0x5afb20(0x561)](_0x3793c1=>_0x5afb20(0x8b1)+_0x3793c1[_0x5afb20(0x3bb)]+'\x22>'+_0x3793c1[_0x5afb20(0x3bb)]+_0x5afb20(0xe2d)+_0x3793c1[_0x5afb20(0x5f4)]+_0x5afb20(0x769)+_0x3793c1[_0x5afb20(0x5f4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x5afb20(0x8d2)+starredQuizzes[_0x5afb20(0xd2b)]+_0x5afb20(0xe2b);}_0xdd2312['forEach'](_0x532392=>{const _0x5ba703=_0x5afb20,_0x29d18a=_0x1a3dd5[_0x532392['id']]??0x0,_0x2f0012=_0x42a813['has'](_0x532392['id']),_0xd13ef1=_0x532392[_0x5ba703(0x790)]||_0x5ba703(0x76b),_0x384f86=parseInt(_0xd13ef1[_0x5ba703(0x2db)](0x1,0x3),0x10)*0.299+parseInt(_0xd13ef1[_0x5ba703(0x2db)](0x3,0x5),0x10)*0.587+parseInt(_0xd13ef1['substring'](0x5,0x7),0x10)*0.114<0xba,_0x5e2795=_0x384f86?_0x5ba703(0xc2c):_0x5ba703(0x293),_0x713346=_0x384f86?_0x5ba703(0xc6c):_0x5ba703(0x284);_0x3e0c18+=_0x5ba703(0x45b)+(_0x2f0012?_0x5ba703(0x9cf):_0x5ba703(0xc55))+_0x5ba703(0xa9c)+_0xd13ef1+_0x5ba703(0x672)+_0x532392['id']+_0x5ba703(0x962)+_0x532392['id']+_0x5ba703(0x81a)+(_0x384f86?_0x5ba703(0x797):_0x5ba703(0xdf8))+_0x5ba703(0x5e0)+_0x532392['id']+_0x5ba703(0x1dc)+(_0x384f86?'text-gray-300\x20hover:text-white':_0x5ba703(0xdf8))+_0x5ba703(0xe7e)+(_0x2f0012?_0x384f86?_0x5ba703(0x2ad):_0x5ba703(0xce0):'')+_0x5ba703(0xe47)+_0x532392['id']+_0x5ba703(0x7de)+_0x5e2795+_0x5ba703(0x92b)+_0x532392[_0x5ba703(0x5f4)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x713346+_0x5ba703(0x38f)+new Date(_0x532392['createdAt'])[_0x5ba703(0x8cc)](_0x5ba703(0x40e))+_0x5ba703(0xa99)+(_0x384f86?_0x5ba703(0xccc):_0x5ba703(0x394))+_0x5ba703(0x550)+_0x29d18a+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x532392['id']+_0x5ba703(0xa61)+_0x532392[_0x5ba703(0x5f4)]+_0x5ba703(0xadf)+(_0x384f86?'text-red-300\x20hover:text-red-100':_0x5ba703(0x61f))+_0x5ba703(0xabb);});}else _0x1a6777['className']=_0x5afb20(0x85e),starredQuizzes[_0x5afb20(0xd2b)]>0x0&&_0x4c805c===''&&(_0x3e0c18+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x5afb20(0xd2b)]+_0x5afb20(0xc1b)),_0x3e0c18+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0xdd2312[_0x5afb20(0x91b)](_0x3e40ff=>{const _0xc66d2d=_0x5afb20,_0x5ba3ef=_0x1a3dd5[_0x3e40ff['id']]??0x0,_0x573f98=_0x42a813[_0xc66d2d(0x8bd)](_0x3e40ff['id']);_0x3e0c18+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x3e40ff[_0xc66d2d(0x790)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x3e40ff['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x3e40ff[_0xc66d2d(0x5f4)]+_0xc66d2d(0x2ac)+_0x5ba3ef+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3e40ff[_0xc66d2d(0x3ef)])[_0xc66d2d(0x269)](_0xc66d2d(0x40e))+_0xc66d2d(0x3da)+_0x3e40ff['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x573f98?'text-indigo-600':'')+_0xc66d2d(0x331)+_0x3e40ff['id']+_0xc66d2d(0xa61)+_0x3e40ff[_0xc66d2d(0x5f4)]+_0xc66d2d(0x657);});projectList['innerHTML']=_0x3e0c18,noProjectsMsg['classList'][_0x5afb20(0x40d)](_0x5afb20(0x986),_0x3e0c18[_0x5afb20(0xd2b)]>0x0);}document[_0x3abb87(0x753)]('confirm-create-project-btn')[_0x3abb87(0xdd0)](_0x3abb87(0xaa0),async()=>{const _0x536173=_0x3abb87,_0x45f097=document[_0x536173(0x753)]('project-name-input'),_0x5266ae=_0x45f097['value']['trim']();if(!_0x5266ae){showMessage(_0x536173(0x62a));return;}try{const _0xc51fa0=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0xc51fa0,{'projectName':_0x5266ae,'students':[],'settings':{'resultsDisplay':_0x536173(0x6db),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x536173(0x84a)]()}),_0x45f097[_0x536173(0x8a6)]='',createProjectModal['classList'][_0x536173(0xbaf)](_0x536173(0x986)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x436baf){console['error'](_0x536173(0xaaf),_0x436baf),showMessage(_0x536173(0x853));}}),projectList[_0x3abb87(0xdd0)]('click',async _0x5a3949=>{const _0x2e6bdc=_0x3abb87,_0x3f3805=_0x5a3949[_0x2e6bdc(0x589)][_0x2e6bdc(0xdad)](_0x2e6bdc(0x688)),_0x228a21=_0x5a3949[_0x2e6bdc(0x589)][_0x2e6bdc(0xdad)](_0x2e6bdc(0xd2a)),_0x265bf7=_0x5a3949[_0x2e6bdc(0x589)]['closest'](_0x2e6bdc(0xc38)),_0x256bc0=_0x5a3949[_0x2e6bdc(0x589)][_0x2e6bdc(0xdad)]('.color-palette-btn');if(_0x265bf7){const _0x474614=_0x265bf7[_0x2e6bdc(0x970)]['id'],_0x1631d6=doc(db,_0x2e6bdc(0x51c),_0x2e6bdc(0x612)),_0x3fc10e=globalDashboardSettings['pinnedProjects'];let _0x32ba29;_0x3fc10e['includes'](_0x474614)?_0x32ba29=_0x3fc10e[_0x2e6bdc(0x27c)](_0x473868=>_0x473868!==_0x474614):_0x32ba29=[..._0x3fc10e,_0x474614];try{await setDoc(_0x1631d6,{'pinnedProjects':_0x32ba29},{'merge':!![]});}catch(_0x429981){console['error'](_0x2e6bdc(0x2b7),_0x429981),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x256bc0){const _0x36da06=_0x256bc0['dataset']['id'];showColorPalette(_0x256bc0,_0x36da06);}else{if(_0x3f3805){const _0x3e10f9=_0x3f3805[_0x2e6bdc(0x970)]['id'];_0x3e10f9===_0x2e6bdc(0x5c6)?showStarredProjectView():(currentProjectId=_0x3e10f9,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x228a21){const _0x42d7a8=_0x228a21[_0x2e6bdc(0x970)]['id'],_0x377f46=_0x228a21[_0x2e6bdc(0x970)][_0x2e6bdc(0xc71)];showConfirmation(_0x2e6bdc(0x78d)+_0x377f46+_0x2e6bdc(0xa51),()=>handleDeleteProject(_0x42d7a8));}}}}}),projectList[_0x3abb87(0xdd0)](_0x3abb87(0xba6),_0x145bb9=>{const _0x2dd1e4=_0x3abb87,_0x212216=_0x145bb9['target'][_0x2dd1e4(0xdad)]('.project-card-container');_0x212216&&_0x212216[_0x2dd1e4(0x33a)][_0x2dd1e4(0xbaf)](_0x2dd1e4(0x494));}),projectList[_0x3abb87(0xdd0)](_0x3abb87(0x529),_0xa4ea22=>{const _0x21de88=_0x3abb87,_0x3516f3=_0xa4ea22[_0x21de88(0x589)][_0x21de88(0xdad)](_0x21de88(0xb3c));_0x3516f3&&_0x3516f3[_0x21de88(0x33a)]['remove'](_0x21de88(0x494));}),projectList[_0x3abb87(0xdd0)](_0x3abb87(0xc4c),_0x1cd75c=>{const _0x24d91c=_0x3abb87;_0x1cd75c['preventDefault']();const _0xa89699=document[_0x24d91c(0xd5b)]('.project-card-container.opacity-50');if(!_0xa89699)return;const _0x2b28b2=getDragAfterElement(projectList,_0x1cd75c[_0x24d91c(0x484)]);_0x2b28b2==null?projectList['appendChild'](_0xa89699):projectList['insertBefore'](_0xa89699,_0x2b28b2);}),projectList[_0x3abb87(0xdd0)](_0x3abb87(0x280),_0x267e1d=>{const _0x283926=_0x3abb87;_0x267e1d['preventDefault']();const _0x56b17c=[...projectList[_0x283926(0x628)](_0x283926(0x1e5))][_0x283926(0x561)](_0x2efca0=>_0x2efca0[_0x283926(0x970)]['id']);saveProjectOrder(_0x56b17c);});function renderBehaviorLog(_0x18f97c){const _0x1181db=_0x3abb87,_0x71728a=document[_0x1181db(0x753)](_0x1181db(0x21d));if(!_0x71728a)return;const _0x26ec51=_0x18f97c[_0x1181db(0x27c)](_0x364c5c=>_0x364c5c['behaviorLog']&&_0x364c5c[_0x1181db(0x93c)][_0x1181db(0xd2b)]>0x0);if(_0x26ec51[_0x1181db(0xd2b)]===0x0){_0x71728a[_0x1181db(0xd15)]=_0x1181db(0x8e7);return;}let _0x736b97='';_0x26ec51['forEach'](_0x48664f=>{const _0x1ee2ba=_0x1181db;_0x736b97+=_0x1ee2ba(0xe10)+_0x48664f[_0x1ee2ba(0x4f9)]+_0x1ee2ba(0xa28),_0x48664f['behaviorLog'][_0x1ee2ba(0xb00)]((_0x411464,_0x4d85dd)=>new Date(_0x4d85dd['timestamp'])-new Date(_0x411464[_0x1ee2ba(0xbc9)]))[_0x1ee2ba(0x91b)](_0x1fac6f=>{const _0x4aafb6=_0x1ee2ba,_0x51d54c=new Date(_0x1fac6f[_0x4aafb6(0xbc9)])[_0x4aafb6(0x269)]('th-TH',{'dateStyle':_0x4aafb6(0xcd3),'timeStyle':_0x4aafb6(0x3a5)});_0x736b97+=_0x4aafb6(0xb1c)+_0x1fac6f[_0x4aafb6(0x3f0)]+_0x4aafb6(0xd56)+_0x51d54c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x736b97+=_0x1ee2ba(0x939);}),_0x71728a[_0x1181db(0xd15)]=_0x736b97;}function getDragAfterElement(_0x327c82,_0x4ed109){const _0x40e151=_0x3abb87,_0x5b9088=[..._0x327c82[_0x40e151(0x628)]('.project-card-container:not(.opacity-50)')];return _0x5b9088[_0x40e151(0x257)]((_0xa3291d,_0x5154d8)=>{const _0x404d4b=_0x40e151,_0x301391=_0x5154d8['getBoundingClientRect'](),_0x374e96=_0x4ed109-_0x301391[_0x404d4b(0x79c)]-_0x301391[_0x404d4b(0xbad)]/0x2;return _0x374e96<0x0&&_0x374e96>_0xa3291d[_0x404d4b(0x501)]?{'offset':_0x374e96,'element':_0x5154d8}:_0xa3291d;},{'offset':Number[_0x40e151(0x610)]})[_0x40e151(0x85d)];}async function saveProjectOrder(_0x48a97c){const _0x2008f9=_0x3abb87,_0x3e0153=doc(db,'globalSettings',_0x2008f9(0x612));try{await setDoc(_0x3e0153,{'projectOrder':_0x48a97c},{'merge':!![]});}catch(_0x44a567){console['error'](_0x2008f9(0xd89),_0x44a567),showMessage(_0x2008f9(0xe33));}}async function logBehaviorEvent(_0x4b8a82,_0x4a6bba={}){const _0x559eed=_0x3abb87;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn']('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x4ddbc1=doc(db,_0x559eed(0x8da)+appId+_0x559eed(0x75d)+currentQuizData['id']+_0x559eed(0x4cc),currentStudentName),_0x23dc26={'event':_0x4b8a82,'timestamp':new Date()[_0x559eed(0x84a)](),..._0x4a6bba};try{await updateDoc(_0x4ddbc1,{'behaviorLog':arrayUnion(_0x23dc26)}),console[_0x559eed(0x4e6)](_0x559eed(0xb20)+currentStudentName+_0x559eed(0xda0));}catch(_0x2f8eed){_0x2f8eed[_0x559eed(0x8c2)]===_0x559eed(0x52b)?console[_0x559eed(0x91f)](_0x559eed(0x846)+currentStudentName+_0x559eed(0x596)):console[_0x559eed(0x28d)](_0x559eed(0xc9b),_0x2f8eed);}}function getScoreTier(_0x5255e0,_0x32248f){const _0x446bad=_0x3abb87;if(_0x32248f===0x0){if(_0x5255e0===0x0)return{'text':_0x446bad(0x25f),'icon':'⏳'};return{'text':_0x446bad(0xde8),'icon':'😥'};}const _0x12f1c0=_0x5255e0/(_0x32248f===0x0?0x1:_0x32248f);if(_0x12f1c0===0x1)return{'text':_0x446bad(0xd58),'icon':'👑'};if(_0x12f1c0>=0.7)return{'text':_0x446bad(0xbee),'icon':'🔥'};if(_0x12f1c0>=0.4)return{'text':_0x446bad(0x99d),'icon':'🏃'};return{'text':'(พยายามอยู่)','icon':'😥'};}function calculateMeanAndStdDev(_0x1b1193){const _0x3ed342=_0x3abb87;if(_0x1b1193[_0x3ed342(0xd2b)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4a64e8=_0x1b1193[_0x3ed342(0x257)]((_0x11acde,_0x3d60be)=>_0x11acde+_0x3d60be,0x0)/_0x1b1193[_0x3ed342(0xd2b)];if(_0x1b1193['length']===0x1)return{'mean':_0x4a64e8,'stdDev':0x0};const _0x23b52c=Math[_0x3ed342(0x553)](_0x1b1193['map'](_0x14122f=>Math['pow'](_0x14122f-_0x4a64e8,0x2))[_0x3ed342(0x257)]((_0x22fa9f,_0x37261d)=>_0x22fa9f+_0x37261d,0x0)/(_0x1b1193[_0x3ed342(0xd2b)]-0x1));return{'mean':_0x4a64e8,'stdDev':_0x23b52c};}function calculateZScore(_0x4e8300,_0x45a613,_0x5490a1){if(_0x5490a1===0x0)return 0x0;return(_0x4e8300-_0x45a613)/_0x5490a1;}function calculateTScore(_0x15b825){return 0xa*_0x15b825+0x32;}function showStarredProjectView(){const _0x599a08=_0x3abb87;currentProjectId=_0x599a08(0xba5),currentProjectData=null,projectTitle[_0x599a08(0xbde)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x599a08(0xbde)]=_0x599a08(0x6f1),showView(_0x599a08(0x85f)),manageTab[_0x599a08(0x33a)][_0x599a08(0xbaf)](_0x599a08(0x986)),leaderboardTab[_0x599a08(0x33a)]['add'](_0x599a08(0x986)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x55390b){const _0x2a6513=_0x3abb87,_0x4d2ebd=doc(db,'artifacts/'+appId+_0x2a6513(0xdfd),_0x55390b),_0x51842d=await getDoc(_0x4d2ebd);if(_0x51842d[_0x2a6513(0xc9d)]()){manageTab[_0x2a6513(0x33a)][_0x2a6513(0x23a)](_0x2a6513(0x986)),leaderboardTab[_0x2a6513(0x33a)][_0x2a6513(0x23a)](_0x2a6513(0x986)),currentProjectData=_0x51842d['data'](),projectTitle[_0x2a6513(0xbde)]=currentProjectData[_0x2a6513(0x5f4)],projectIdDisplay[_0x2a6513(0xbde)]=_0x55390b;const _0x79983=currentProjectData[_0x2a6513(0xa95)]||{};document['getElementById'](_0x2a6513(0xbd8))[_0x2a6513(0x8a6)]=_0x79983[_0x2a6513(0x7e0)]||_0x2a6513(0x961);const _0x4dc94b=document[_0x2a6513(0x753)](_0x2a6513(0x4e5));_0x4dc94b['checked']=_0x79983['showInStudentDashboard']!==![];const _0xec159d=document[_0x2a6513(0x753)](_0x2a6513(0x310)),_0xfca2=document[_0x2a6513(0x753)](_0x2a6513(0x327)),_0x35e997=document['getElementById']('project-passcode-input'),_0x4a4ea0=_0x79983[_0x2a6513(0xaf9)]||![];_0xec159d[_0x2a6513(0xc32)]=_0x4a4ea0,_0x35e997[_0x2a6513(0x8a6)]=_0x79983[_0x2a6513(0x75b)]||'',_0xfca2['classList'][_0x2a6513(0x40d)](_0x2a6513(0x986),!_0x4a4ea0),_0xec159d['onchange']=()=>{const _0x58012b=_0x2a6513;_0xfca2[_0x58012b(0x33a)][_0x58012b(0x40d)](_0x58012b(0x986),!_0xec159d['checked']);},document[_0x2a6513(0x753)]('confidence-scoring-checkbox')['checked']=_0x79983[_0x2a6513(0xc67)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x55390b),listenForProjectQuizzes(_0x55390b),listenForStudentProfiles(_0x55390b);}else showMessage(_0x2a6513(0xb6e)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x4b9627=_0x3abb87,_0xb9f5e=doc(db,_0x4b9627(0x51c),_0x4b9627(0x612));try{await setDoc(_0xb9f5e,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4b9627(0x29a));}catch(_0x3adeb6){console['error'](_0x4b9627(0xaec),_0x3adeb6),showMessage(_0x4b9627(0xd2e));}}async function handleTogglePinProject(_0x51dd09){const _0x317c2d=_0x3abb87;if(!_0x51dd09)return;const _0x4fec8f=doc(db,_0x317c2d(0x8da)+appId+_0x317c2d(0xdfd),_0x51dd09);try{const _0x11e961=await getDoc(_0x4fec8f);if(_0x11e961[_0x317c2d(0xc9d)]()){const _0x1e50eb=_0x11e961[_0x317c2d(0x3f4)]()[_0x317c2d(0x4f7)]||![];await updateDoc(_0x4fec8f,{'isPinned':!_0x1e50eb});}}catch(_0x17c937){console[_0x317c2d(0x28d)](_0x317c2d(0x895),_0x17c937),showMessage(_0x317c2d(0x418));}}async function handleDeleteProject(_0xc2565f){const _0x2ce889=_0x3abb87;try{const _0x29c1be=writeBatch(db),_0x403468=collection(db,_0x2ce889(0x8da)+appId+_0x2ce889(0xe3e)),_0x33bac8=query(_0x403468,where('projectId','==',_0xc2565f)),_0x41bb25=await getDocs(_0x33bac8);for(const _0x4f6b27 of _0x41bb25[_0x2ce889(0x2a7)]){const _0x1d03dd=collection(db,_0x2ce889(0x8da)+appId+'/public/data/quizzes/'+_0x4f6b27['id']+_0x2ce889(0x4cc)),_0x44adcd=await getDocs(_0x1d03dd);_0x44adcd[_0x2ce889(0x91b)](_0x248bb3=>{const _0x2535bb=_0x2ce889;_0x29c1be[_0x2535bb(0x6fd)](_0x248bb3['ref']);}),_0x29c1be[_0x2ce889(0x6fd)](_0x4f6b27[_0x2ce889(0x42e)]);}const _0x465fe3=collection(db,'artifacts/'+appId+_0x2ce889(0xe71)+_0xc2565f+'/studentProfiles'),_0x3354c1=await getDocs(_0x465fe3);_0x3354c1[_0x2ce889(0x91b)](_0x450f57=>{const _0x2bf4aa=_0x2ce889;_0x29c1be[_0x2bf4aa(0x6fd)](_0x450f57[_0x2bf4aa(0x42e)]);});const _0x1b97a0=doc(db,'artifacts/'+appId+_0x2ce889(0xdfd),_0xc2565f);_0x29c1be[_0x2ce889(0x6fd)](_0x1b97a0),await _0x29c1be['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView('admin-dashboard');}catch(_0x33a38f){console[_0x2ce889(0x28d)](_0x2ce889(0x4a5),_0x33a38f),showMessage(_0x2ce889(0x57e));}}document['getElementById']('save-settings-btn')['addEventListener'](_0x3abb87(0xaa0),async()=>{const _0x1b68aa=_0x3abb87;if(!currentProjectId)return;const _0x370f4e={'defaultNumQuestions':parseInt(document['getElementById'](_0x1b68aa(0x1d5))[_0x1b68aa(0x8a6)]),'defaultNumChoices':parseInt(document['getElementById'](_0x1b68aa(0x517))['value']),'defaultPassingScore':parseInt(document[_0x1b68aa(0x753)](_0x1b68aa(0x208))[_0x1b68aa(0x8a6)]),'resultsDisplay':document[_0x1b68aa(0x753)]('results-display-select')['value'],'shuffleSetting':document['getElementById']('shuffle-setting-select')[_0x1b68aa(0x8a6)],'timerMode':document[_0x1b68aa(0x753)](_0x1b68aa(0x946))['value'],'timerDuration':parseInt(document[_0x1b68aa(0x753)](_0x1b68aa(0xd5f))[_0x1b68aa(0x8a6)]),'isConfidenceScoringEnabled':document[_0x1b68aa(0x753)](_0x1b68aa(0x92d))[_0x1b68aa(0xc32)],'confidenceMode':document[_0x1b68aa(0x753)]('confidence-mode-select')['value']};try{const _0x22d71c=doc(db,_0x1b68aa(0x8da)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x22d71c,{'settings':_0x370f4e}),showMessage(_0x1b68aa(0xe80));}catch(_0x15d2ba){console[_0x1b68aa(0x28d)]('Error\x20saving\x20settings:',_0x15d2ba),showMessage(_0x1b68aa(0x6d5));}});function listenForStudents(_0x587298){const _0x580e6a=_0x3abb87,_0x34f734=doc(db,'artifacts/'+appId+_0x580e6a(0xdfd),_0x587298);unsubscribeStudentsListener=onSnapshot(_0x34f734,_0x307210=>{const _0xb3f239=_0x580e6a;if(_0x307210[_0xb3f239(0xc9d)]()){const _0x30e6e9=_0x307210[_0xb3f239(0x3f4)]();currentProjectData=_0x30e6e9,renderStudentList(_0x30e6e9['students']||[]);}});}function renderStudentList(_0x24ee6d){const _0x417a8e=_0x3abb87,_0x1755d5=document['getElementById'](_0x417a8e(0x4e3));_0x24ee6d['length']===0x0?(studentList['innerHTML']=_0x417a8e(0x34b),_0x1755d5[_0x417a8e(0x33a)][_0x417a8e(0xbaf)](_0x417a8e(0x986))):(studentList[_0x417a8e(0xd15)]=_0x24ee6d[_0x417a8e(0x561)](_0x543cf6=>_0x417a8e(0x26b)+_0x543cf6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x543cf6+_0x417a8e(0xb10))['join'](''),_0x1755d5[_0x417a8e(0x33a)]['remove']('hidden'));}document[_0x3abb87(0x753)](_0x3abb87(0xccb))[_0x3abb87(0xdd0)]('click',async()=>{const _0xc206d1=_0x3abb87;if(!currentProjectId)return;const _0x2c9375=document[_0xc206d1(0x753)]('student-name-input'),_0x576260=_0x2c9375[_0xc206d1(0x8a6)]['trim']();if(!_0x576260){showMessage(_0xc206d1(0xd82));return;}const _0x4ffb36=_0x576260[_0xc206d1(0x5ee)]('\x0a')[_0xc206d1(0x561)](_0x1c198a=>_0x1c198a['trim']())['filter'](_0x161ba9=>_0x161ba9);if(_0x4ffb36[_0xc206d1(0xd2b)]===0x0)return;try{const _0x3d5835=doc(db,_0xc206d1(0x8da)+appId+'/public/data/projects',currentProjectId),_0x12093b=await getDoc(_0x3d5835);if(_0x12093b['exists']()){const _0x3deed0=_0x12093b[_0xc206d1(0x3f4)]()[_0xc206d1(0x7d2)]||[],_0x36f64f=[...new Set([..._0x3deed0,..._0x4ffb36])];await updateDoc(_0x3d5835,{'students':_0x36f64f}),_0x2c9375[_0xc206d1(0x8a6)]='';}}catch(_0x418004){console[_0xc206d1(0x28d)]('Error\x20adding\x20students:',_0x418004),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x40f829){const _0x35dc2e=_0x3abb87,_0x12a86c=document[_0x35dc2e(0x753)]('move-quiz-modal'),_0x97e4e7=document['getElementById'](_0x35dc2e(0x3c2)),_0x11cbe7=_0x12a86c['querySelector']('h3'),_0x55cd25=document[_0x35dc2e(0x753)](_0x35dc2e(0xd22)),_0x3e47f4=document[_0x35dc2e(0x753)]('cancel-move-quiz-btn');_0x11cbe7[_0x35dc2e(0xbde)]=_0x35dc2e(0xcea),_0x97e4e7[_0x35dc2e(0xd15)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x55cd25['textContent']='ยืนยันการจับคู่',_0x12a86c[_0x35dc2e(0x33a)][_0x35dc2e(0x23a)](_0x35dc2e(0x986));const _0x2a5d91=allQuizzes[_0x35dc2e(0x27c)](_0x269ef0=>_0x269ef0['id']!==_0x40f829);_0x2a5d91[_0x35dc2e(0xd2b)]===0x0?(_0x97e4e7[_0x35dc2e(0xd15)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x55cd25['disabled']=!![]):(_0x97e4e7[_0x35dc2e(0xd15)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x2a5d91[_0x35dc2e(0x561)](_0x30f3f2=>_0x35dc2e(0x957)+_0x30f3f2['id']+'\x22>'+_0x30f3f2[_0x35dc2e(0x3bb)]+_0x35dc2e(0xaa5))[_0x35dc2e(0xe0b)](''),_0x55cd25[_0x35dc2e(0x5ad)]=![]);const _0x290d93=async()=>{const _0x2b2167=_0x35dc2e,_0x3bd166=_0x97e4e7[_0x2b2167(0x8a6)];if(!_0x3bd166){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x55cd25[_0x2b2167(0x5ad)]=!![],_0x55cd25[_0x2b2167(0xbde)]=_0x2b2167(0x80b);try{const _0x4b3a7a=doc(db,_0x2b2167(0x8da)+appId+_0x2b2167(0xe3e),_0x40f829),_0x31bb95=doc(db,_0x2b2167(0x8da)+appId+_0x2b2167(0xe3e),_0x3bd166),_0x4774d3=writeBatch(db);_0x4774d3['update'](_0x4b3a7a,{'pairedQuizId':_0x3bd166}),_0x4774d3[_0x2b2167(0x6f2)](_0x31bb95,{'pairedQuizId':_0x40f829}),await _0x4774d3[_0x2b2167(0x444)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x12a86c['classList']['add'](_0x2b2167(0x986));}catch(_0x3d0253){console[_0x2b2167(0x28d)](_0x2b2167(0x966),_0x3d0253),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x11cbe7[_0x2b2167(0xbde)]=_0x2b2167(0x404),_0x55cd25['textContent']=_0x2b2167(0x3a1),_0x55cd25[_0x2b2167(0x5ad)]=![],_0x55cd25[_0x2b2167(0x21b)](_0x2b2167(0xaa0),_0x290d93),_0x3e47f4[_0x2b2167(0x21b)]('click',_0x3a2b24);}},_0x3a2b24=()=>{const _0x2acbe2=_0x35dc2e;_0x12a86c[_0x2acbe2(0x33a)]['add'](_0x2acbe2(0x986)),_0x11cbe7[_0x2acbe2(0xbde)]=_0x2acbe2(0x404),_0x55cd25[_0x2acbe2(0xbde)]=_0x2acbe2(0x3a1),_0x55cd25[_0x2acbe2(0x21b)](_0x2acbe2(0xaa0),_0x290d93),_0x3e47f4[_0x2acbe2(0x21b)](_0x2acbe2(0xaa0),_0x3a2b24);};_0x55cd25[_0x35dc2e(0xdd0)](_0x35dc2e(0xaa0),_0x290d93),_0x3e47f4[_0x35dc2e(0xdd0)]('click',_0x3a2b24);}function handleDeleteStudent(_0x37c2a1){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x37c2a1+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0xf47318=_0x55d5;if(!currentProjectId||!currentProjectData)return;const _0x5a808f=currentProjectData[_0xf47318(0x7d2)][_0xf47318(0x27c)](_0xddedee=>_0xddedee!==_0x37c2a1);try{const _0x1898a9=doc(db,_0xf47318(0x8da)+appId+_0xf47318(0xdfd),currentProjectId),_0x3231bf=doc(db,_0xf47318(0x8da)+appId+_0xf47318(0xe71)+currentProjectId+_0xf47318(0xb74),_0x37c2a1),_0x4605d5=writeBatch(db);_0x4605d5[_0xf47318(0x6f2)](_0x1898a9,{'students':_0x5a808f}),_0x4605d5[_0xf47318(0x6fd)](_0x3231bf),await _0x4605d5[_0xf47318(0x444)]();}catch(_0x14aca2){console['error'](_0xf47318(0x7b7),_0x14aca2),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x20ae74=_0x3abb87;showConfirmation(_0x20ae74(0xaba),async()=>{const _0xcdf0e1=_0x20ae74;if(!currentProjectId)return;try{const _0x30457f=doc(db,_0xcdf0e1(0x8da)+appId+_0xcdf0e1(0xdfd),currentProjectId),_0x4c028e=collection(db,_0xcdf0e1(0x8da)+appId+_0xcdf0e1(0xe71)+currentProjectId+_0xcdf0e1(0xb74)),_0x5e3514=await getDocs(_0x4c028e),_0x1058de=writeBatch(db);_0x1058de[_0xcdf0e1(0x6f2)](_0x30457f,{'students':[]}),_0x5e3514['forEach'](_0x508643=>_0x1058de[_0xcdf0e1(0x6fd)](_0x508643['ref'])),await _0x1058de[_0xcdf0e1(0x444)]();}catch(_0x3049f8){console[_0xcdf0e1(0x28d)](_0xcdf0e1(0x6ac),_0x3049f8),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x4c51d8){const _0x48b41c=_0x3abb87,_0x22ba20=document['getElementById'](_0x48b41c(0xb8f)),_0x2acc48=document[_0x48b41c(0x753)](_0x48b41c(0x3f3));_0x22ba20['classList'][_0x48b41c(0x23a)](_0x48b41c(0x986)),_0x2acc48[_0x48b41c(0xd15)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x2d7366=new FileReader();_0x2d7366[_0x48b41c(0x314)](_0x4c51d8),await new Promise((_0x287659,_0x24b2ba)=>{const _0xc0ac5a=_0x48b41c;_0x2d7366[_0xc0ac5a(0x55b)]=()=>{const _0x7d7615=_0xc0ac5a;fileDataBase64=_0x2d7366[_0x7d7615(0xdd8)][_0x7d7615(0x5ee)](',')[0x1],fileMimeType=_0x4c51d8['type'],_0x287659();},_0x2d7366[_0xc0ac5a(0xe51)]=_0x24fb01=>_0x24b2ba(_0x24fb01);});if(!fileDataBase64)throw new Error(_0x48b41c(0x8ef));const _0x407ded=_0x48b41c(0xcfe),_0x1d449c={'type':_0x48b41c(0xbe1),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x48b41c(0x29d)}}},'required':[_0x48b41c(0x7b1)]},_0x173513=[{'text':_0x407ded},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x5e8b72=await handleApiCall(_0x173513,_0x48b41c(0x2d3),_0x1d449c,null,![]);if(_0x5e8b72&&_0x5e8b72[_0x48b41c(0x7b1)])extractedFileTopics=_0x5e8b72[_0x48b41c(0x7b1)],renderFileTopics();else throw new Error(_0x48b41c(0x6ba));}catch(_0x5e7586){console['error'](_0x48b41c(0x34f),_0x5e7586),_0x2acc48[_0x48b41c(0xd15)]=_0x48b41c(0x270)+_0x5e7586[_0x48b41c(0x9e1)]+_0x48b41c(0x854);}}function renderFileTopics(){const _0x3c77f9=_0x3abb87,_0x91a68c=document['getElementById'](_0x3c77f9(0x3f3));if(extractedFileTopics[_0x3c77f9(0xd2b)]===0x0){_0x91a68c[_0x3c77f9(0xd15)]=_0x3c77f9(0x256);return;}_0x91a68c[_0x3c77f9(0xd15)]=extractedFileTopics['map'](_0x4f449f=>_0x3c77f9(0x7c6)+_0x4f449f+_0x3c77f9(0xb4d)+escape(_0x4f449f)+_0x3c77f9(0x6b2)+escape(_0x4f449f)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x3c77f9(0xe0b)]('');}async function generateHybridQuizForTopic(_0x5a8c7e){const _0x17ebf5=_0x3abb87,_0x350dc9=parseInt(document[_0x17ebf5(0x753)](_0x17ebf5(0x1d5))['value'],0xa),_0x51bbba=document[_0x17ebf5(0x753)](_0x17ebf5(0xb9c))[_0x17ebf5(0x8a6)],_0x1ff7f6=document['getElementById'](_0x17ebf5(0x517))[_0x17ebf5(0x8a6)],_0x1940bf=document[_0x17ebf5(0x753)](_0x17ebf5(0xe12))[_0x17ebf5(0xc32)],_0x1e3abf=_0x1940bf?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x17ebf5(0x80d);let _0x27ae77='',_0x11e1e8;const _0x434865={'type':_0x17ebf5(0xbe1),'properties':{'questionText':{'type':_0x17ebf5(0x29d)},'options':{'type':_0x17ebf5(0x9bd),'items':{'type':_0x17ebf5(0x29d)}},'correctAnswerIndex':{'type':_0x17ebf5(0xd79)},'explanation':{'type':_0x17ebf5(0x29d)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x17ebf5(0xa07),_0x17ebf5(0x866)]},_0x48cb83={'type':_0x17ebf5(0xbe1),'properties':{'questionText':{'type':_0x17ebf5(0x29d)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x17ebf5(0x29d)}},'required':['questionText',_0x17ebf5(0x509),_0x17ebf5(0x866)]},_0xf0f260={'type':_0x17ebf5(0xbe1),'properties':{'questionText':{'type':_0x17ebf5(0x29d)},'idealAnswer':{'type':_0x17ebf5(0x29d)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x17ebf5(0x29d)}},'required':[_0x17ebf5(0xbdb),'idealAnswer',_0x17ebf5(0x866)]},_0x18b114={'type':_0x17ebf5(0xbe1),'properties':{'questionType':{'type':_0x17ebf5(0x29d),'enum':[_0x17ebf5(0x79a)]},'stem':{'type':_0x17ebf5(0x29d)},'correctResponse':{'type':_0x17ebf5(0x29d)},'allResponses':{'type':_0x17ebf5(0x9bd),'items':{'type':_0x17ebf5(0x29d)}},'explanation':{'type':_0x17ebf5(0x29d)},'imageCode':{'type':_0x17ebf5(0x29d)}},'required':[_0x17ebf5(0x302),_0x17ebf5(0x9b7),'correctResponse',_0x17ebf5(0x798),'explanation']};switch(_0x51bbba){case'multiple_choice':_0x27ae77='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x1ff7f6+_0x17ebf5(0x5ae),_0x11e1e8=_0x434865;break;case'true_false':_0x27ae77=_0x17ebf5(0x8e4),_0x11e1e8=_0x48cb83;break;case _0x17ebf5(0x203):_0x27ae77=_0x17ebf5(0x298),_0x11e1e8=_0xf0f260;break;case'matching':_0x27ae77=_0x17ebf5(0xa50),_0x11e1e8=_0x18b114;break;case _0x17ebf5(0x990):_0x27ae77=_0x17ebf5(0x278)+_0x1ff7f6+_0x17ebf5(0x5ae),_0x11e1e8=_0x434865;break;default:_0x27ae77=_0x17ebf5(0x9a5)+_0x1ff7f6+_0x17ebf5(0x5ae),_0x11e1e8=_0x434865;break;}const _0xe8dfb1='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x19f9ec=document['getElementById'](_0x17ebf5(0xac0)),_0x38e31b=document['getElementById'](_0x17ebf5(0xa76)),_0x1ce8a1=document[_0x17ebf5(0x753)](_0x17ebf5(0x44a));document[_0x17ebf5(0x753)](_0x17ebf5(0x64c))[_0x17ebf5(0x33a)][_0x17ebf5(0x23a)](_0x17ebf5(0x986)),_0x1ce8a1[_0x17ebf5(0xd15)]='',_0x19f9ec[_0x17ebf5(0x33a)][_0x17ebf5(0x23a)](_0x17ebf5(0x986)),_0x38e31b[_0x17ebf5(0xbde)]=_0x17ebf5(0x2e4)+_0x5a8c7e+_0x17ebf5(0xbcb)+_0x350dc9+_0x17ebf5(0xdc7);try{const _0x47f4c7=_0x17ebf5(0x678),_0x360bbf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x5a8c7e+_0x17ebf5(0x6f4)+_0x350dc9+_0x17ebf5(0x602)+_0x5a8c7e+_0x17ebf5(0x4fe)+_0x350dc9+_0x17ebf5(0x606)+_0x1e3abf+_0x17ebf5(0x238)+_0x27ae77+_0x17ebf5(0x4b2)+_0xe8dfb1+_0x17ebf5(0x6c9)+_0x47f4c7+_0x17ebf5(0x84c)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x49dccd={'type':_0x17ebf5(0xbe1),'properties':{'topic':{'type':_0x17ebf5(0x29d)},'questions':{'type':'ARRAY','items':_0x11e1e8}},'required':['topic','questions']},_0x4d4279=[{'text':_0x360bbf},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4d4279,_0x17ebf5(0xdd6)+_0x5a8c7e+_0x17ebf5(0xb4b),_0x49dccd);}catch(_0x521ec8){console[_0x17ebf5(0x28d)]('Error\x20generating\x20hybrid\x20quiz:',_0x521ec8),showMessage('เกิดข้อผิดพลาด:\x20'+_0x521ec8[_0x17ebf5(0x9e1)]),_0x1ce8a1[_0x17ebf5(0xd15)]=_0x17ebf5(0x9cd);}finally{_0x19f9ec[_0x17ebf5(0x33a)]['add'](_0x17ebf5(0x986));}}async function handleGenerateFromFileClick(){const _0x8f13e3=_0x3abb87;if(!selectedFile){showMessage(_0x8f13e3(0xa52));return;}const _0x537993=document[_0x8f13e3(0x753)](_0x8f13e3(0xac0)),_0x3274a7=document[_0x8f13e3(0x753)](_0x8f13e3(0xa76)),_0xaf48dc=document[_0x8f13e3(0x753)](_0x8f13e3(0x44a)),_0xda3f6e=document[_0x8f13e3(0x753)](_0x8f13e3(0xd92));_0xda3f6e[_0x8f13e3(0x5ad)]=!![],document[_0x8f13e3(0x753)](_0x8f13e3(0x64c))[_0x8f13e3(0x33a)][_0x8f13e3(0x23a)](_0x8f13e3(0x986)),_0xaf48dc[_0x8f13e3(0xd15)]='',_0x537993['classList'][_0x8f13e3(0x23a)](_0x8f13e3(0x986)),_0x3274a7[_0x8f13e3(0xbde)]=_0x8f13e3(0x7cb);try{const _0xa4e10f=await new Promise((_0x3a3342,_0x36ce75)=>{const _0x2c5735=_0x8f13e3,_0xf04c78=new FileReader();_0xf04c78['readAsDataURL'](selectedFile),_0xf04c78[_0x2c5735(0x55b)]=()=>_0x3a3342(_0xf04c78['result'][_0x2c5735(0x5ee)](',')[0x1]),_0xf04c78[_0x2c5735(0xe51)]=_0x5d4c75=>_0x36ce75(_0x5d4c75);});await generateQuizFromFile(selectedFile[_0x8f13e3(0x2d0)],_0xa4e10f);}catch(_0x5667a5){console[_0x8f13e3(0x28d)](_0x8f13e3(0xd68),_0x5667a5),showMessage(_0x8f13e3(0xc86)+_0x5667a5['message']),_0x537993[_0x8f13e3(0x33a)][_0x8f13e3(0xbaf)](_0x8f13e3(0x986)),_0xda3f6e[_0x8f13e3(0x5ad)]=![];}}function autoFormatMath(_0x2c765e){const _0x23a6bb=_0x3abb87;if(typeof _0x2c765e!=='string'||!_0x2c765e)return _0x2c765e;const _0x4d816f=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x59bbfc=_0x2c765e[_0x23a6bb(0x749)](_0x4d816f,_0x4ebff8=>{const _0x52209b=_0x23a6bb;return'$'+_0x4ebff8[_0x52209b(0xda7)]()+'$';});return _0x59bbfc;}function sanitizeQuizData(_0x216f9c){const _0x3375ae=_0x3abb87;if(!_0x216f9c||!_0x216f9c[_0x3375ae(0x806)])return _0x216f9c;const _0x5975db={'imes':_0x3375ae(0x2d7),'div':'\x5cdiv'},_0x51e913=_0x42a770=>{const _0x393e54=_0x3375ae;if(typeof _0x42a770!=='string')return _0x42a770;let _0x452361=_0x42a770;for(const [_0x36c4f7,_0x5d7519]of Object[_0x393e54(0xc8d)](_0x5975db)){const _0x11c87f=new RegExp('\x5cb'+_0x36c4f7+'\x5cb','g');_0x452361=_0x452361['replace'](_0x11c87f,_0x5d7519);}return _0x452361=_0x452361[_0x393e54(0x749)](/\\\//g,_0x393e54(0xbd4)),_0x452361=_0x452361[_0x393e54(0x749)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x393e54(0xbd4))[_0x393e54(0x749)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x393e54(0x749)](/÷/g,_0x393e54(0xbd4))[_0x393e54(0x749)](/×/g,'\x5ctimes'),_0x452361=_0x452361[_0x393e54(0x749)](/(\d)(\\frac)/g,_0x393e54(0x9d5)),_0x452361=autoFormatMath(_0x452361),_0x452361;};return _0x216f9c['topic']&&(_0x216f9c[_0x3375ae(0x3bb)]=_0x51e913(_0x216f9c[_0x3375ae(0x3bb)])),_0x216f9c[_0x3375ae(0x806)][_0x3375ae(0x91b)](_0x14b74d=>{const _0x828ab0=_0x3375ae;_0x14b74d[_0x828ab0(0xbdb)]=_0x51e913(_0x14b74d['questionText']),_0x14b74d[_0x828ab0(0x254)]&&(_0x14b74d[_0x828ab0(0x254)]=_0x14b74d['options']['map'](_0x51e913)),_0x14b74d['explanation']&&(_0x14b74d['explanation']=_0x51e913(_0x14b74d[_0x828ab0(0x866)])),_0x14b74d[_0x828ab0(0x9b7)]&&(_0x14b74d[_0x828ab0(0x9b7)]=_0x51e913(_0x14b74d[_0x828ab0(0x9b7)])),_0x14b74d['correctResponse']&&(_0x14b74d['correctResponse']=_0x51e913(_0x14b74d[_0x828ab0(0x707)])),_0x14b74d[_0x828ab0(0x798)]&&(_0x14b74d[_0x828ab0(0x798)]=_0x14b74d[_0x828ab0(0x798)][_0x828ab0(0x561)](_0x51e913));}),_0x216f9c;}const simpleMathPrompt=_0x3abb87(0x279);async function handleGenerateFromLink(){const _0x3c5eff=_0x3abb87,_0x221981=document[_0x3c5eff(0x753)](_0x3c5eff(0x443)),_0x508fab=document[_0x3c5eff(0x753)](_0x3c5eff(0xcca)),_0x490517=_0x221981['value'][_0x3c5eff(0xda7)](),_0x1bd4df=_0x508fab[_0x3c5eff(0x8a6)]['trim']();if(!_0x490517){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x1b56b1=document[_0x3c5eff(0x753)](_0x3c5eff(0xac0)),_0x5c8265=document['getElementById'](_0x3c5eff(0xa76)),_0x3a82d3=document[_0x3c5eff(0x753)](_0x3c5eff(0x44a)),_0x336e11=document[_0x3c5eff(0x753)](_0x3c5eff(0x4ad));document[_0x3c5eff(0x753)](_0x3c5eff(0x64c))['classList']['remove'](_0x3c5eff(0x986)),_0x3a82d3[_0x3c5eff(0xd15)]='',_0x1b56b1['classList'][_0x3c5eff(0x23a)](_0x3c5eff(0x986)),_0x5c8265[_0x3c5eff(0xbde)]=_0x3c5eff(0xe3f),_0x336e11['disabled']=!![];try{const _0x2c5949=_0x3c5eff(0xc78)+encodeURIComponent(_0x490517),_0x16cfd4=await fetch(_0x2c5949);if(!_0x16cfd4['ok'])throw new Error(_0x3c5eff(0x1f1)+_0x16cfd4['status']+')');const _0x4f9bad=await _0x16cfd4[_0x3c5eff(0xba9)](),_0xe9d3df=extractTextFromHtml(_0x4f9bad);if(!_0xe9d3df||_0xe9d3df[_0x3c5eff(0xd2b)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x1bd4df,_0xe9d3df);}catch(_0x14cd00){console['error'](_0x3c5eff(0x9c2),_0x14cd00),showMessage(_0x3c5eff(0x339)+_0x14cd00[_0x3c5eff(0x9e1)]),_0x3a82d3[_0x3c5eff(0xd15)]=_0x3c5eff(0xb23);}finally{_0x1b56b1[_0x3c5eff(0x33a)][_0x3c5eff(0xbaf)](_0x3c5eff(0x986)),_0x336e11[_0x3c5eff(0x5ad)]=![];}}function extractTextFromHtml(_0x4dde2f){const _0x266bbe=_0x3abb87,_0x333191=new DOMParser()[_0x266bbe(0xce9)](_0x4dde2f,_0x266bbe(0x5fd));return _0x333191['querySelectorAll'](_0x266bbe(0x6ee))[_0x266bbe(0x91b)](_0x2a28ea=>_0x2a28ea[_0x266bbe(0x23a)]()),_0x333191[_0x266bbe(0x595)][_0x266bbe(0xbde)]||'';}document[_0x3abb87(0x753)]('generate-from-topic-btn')['addEventListener']('click',()=>{const _0x159cb4=_0x3abb87,_0x400055=document['getElementById']('topic-input')[_0x159cb4(0x8a6)][_0x159cb4(0xda7)]();generateQuiz(_0x400055,null);}),document[_0x3abb87(0x753)](_0x3abb87(0x7f9))[_0x3abb87(0xdd0)](_0x3abb87(0xaa0),()=>{const _0x17bb58=_0x3abb87,_0x31dae1=document[_0x17bb58(0x753)](_0x17bb58(0xa36))['value'][_0x17bb58(0xda7)]();if(!_0x31dae1){showMessage(_0x17bb58(0x3d0));return;}const _0x21b513=document['getElementById'](_0x17bb58(0x931))['value'][_0x17bb58(0xda7)]();generateQuiz(_0x21b513,_0x31dae1);});async function generateQuiz(_0x57e526,_0x56d300,_0x4beffc=null,_0x5b40fe=null,_0x81a4f7=![],_0x195aa4=null,_0x2bc727=null,_0x422140=![]){const _0x3dee65=_0x3abb87;let _0x13a6bb={};if(_0x81a4f7&&blueprintPageSettings)_0x13a6bb=blueprintPageSettings;else{const _0x4d515b=document['querySelectorAll']('#math-topics-checkbox-container\x20input:checked');_0x13a6bb={'quizType':document[_0x3dee65(0x753)](_0x3dee65(0xb9c))[_0x3dee65(0x8a6)],'numQuestions':document[_0x3dee65(0x753)](_0x3dee65(0x1d5))[_0x3dee65(0x8a6)],'numChoices':document[_0x3dee65(0x753)](_0x3dee65(0x517))[_0x3dee65(0x8a6)],'includeImages':document['getElementById'](_0x3dee65(0xe12))['checked'],'isNormalTopic':document['getElementById']('force-math-checkbox')[_0x3dee65(0xc32)],'difficultyValue':document[_0x3dee65(0x753)](_0x3dee65(0x344))[_0x3dee65(0x8a6)],'complexityValue':document[_0x3dee65(0x753)]('question-complexity-select')['value'],'selectedTopicNames':Array[_0x3dee65(0x944)](_0x4d515b)[_0x3dee65(0x561)](_0x3ba317=>_0x3ba317[_0x3dee65(0x8a6)])};}const _0x32ae54=_0x13a6bb[_0x3dee65(0x78e)]?'':_0x3dee65(0x464),_0x1f3f28=_0x13a6bb[_0x3dee65(0x819)]!=='auto'?_0x3dee65(0xe72)+_0x13a6bb['difficultyValue']+'\x22':'',_0x326ecc=_0x13a6bb['complexityValue']!==_0x3dee65(0x32a)?_0x3dee65(0x2a2)+_0x13a6bb[_0x3dee65(0x640)]+_0x3dee65(0x9b8):'';let _0x41a7aa='';_0x13a6bb[_0x3dee65(0x49e)]&&_0x13a6bb['selectedTopicNames']['length']>0x0&&(_0x41a7aa='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x13a6bb[_0x3dee65(0x49e)]['join'](',\x20')+'.');let _0x34cdd4='';_0x5b40fe&&(_0x34cdd4=_0x3dee65(0x5cd));let _0x12e8c4='',_0x2b5f0d='',_0x5bc68e,_0x9beaa2=_0x3dee65(0xd9f)+_0x57e526+'\x22';if(!_0x57e526&&_0x56d300)_0x9beaa2=_0x3dee65(0x348);else!_0x57e526&&!_0x56d300&&(_0x9beaa2='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0xfe3ac6={'type':_0x3dee65(0xbe1),'properties':{'questionText':{'type':_0x3dee65(0x29d)},'options':{'type':'ARRAY','items':{'type':_0x3dee65(0x29d)}},'correctAnswerIndex':{'type':_0x3dee65(0xd79)},'explanation':{'type':_0x3dee65(0x29d)},'imageCode':{'type':_0x3dee65(0x29d)}},'required':[_0x3dee65(0xbdb),'options',_0x3dee65(0xa07),_0x3dee65(0x866)]},_0x51d2c1={'type':_0x3dee65(0xbe1),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x3dee65(0x288),_0x3dee65(0x866)]},_0x436fe4={'type':_0x3dee65(0xbe1),'properties':{'questionText':{'type':_0x3dee65(0x29d)},'questionType':{'type':_0x3dee65(0x29d),'enum':[_0x3dee65(0x431),_0x3dee65(0xb85)]},'options':{'type':_0x3dee65(0x9bd),'items':{'type':_0x3dee65(0x29d)}},'correctAnswerIndex':{'type':_0x3dee65(0xd79)},'idealAnswer':{'type':_0x3dee65(0x29d)},'explanation':{'type':_0x3dee65(0x29d)},'imageCode':{'type':'STRING'}},'required':[_0x3dee65(0xbdb),_0x3dee65(0x302),_0x3dee65(0x866)]},_0x1a9a6a={'type':_0x3dee65(0xbe1),'properties':{'questionText':{'type':_0x3dee65(0x29d)},'correctAnswer':{'type':_0x3dee65(0x9e2)},'explanation':{'type':_0x3dee65(0x29d)},'imageCode':{'type':'STRING'}},'required':[_0x3dee65(0xbdb),_0x3dee65(0x509),_0x3dee65(0x866)]},_0xdcebfb={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x3dee65(0x79a)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3dee65(0x29d)},'allResponses':{'type':_0x3dee65(0x9bd),'items':{'type':_0x3dee65(0x29d)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3dee65(0x29d)}},'required':[_0x3dee65(0x302),_0x3dee65(0x9b7),'correctResponse',_0x3dee65(0x798),_0x3dee65(0x866)]};let _0x3528a0;if(_0x4beffc!==null){const _0x573989=currentQuizData[_0x3dee65(0x806)][_0x4beffc][_0x3dee65(0x302)],_0xf9e779=_0x13a6bb[_0x3dee65(0xda3)]?_0x3dee65(0x7f0):'';_0x12e8c4=_0x3dee65(0x5f5)+_0x9beaa2+'\x20'+_0x41a7aa+'\x20'+_0x1f3f28+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0xf9e779+'\x20'+simpleMathPrompt;if(_0x573989===_0x3dee65(0x431))_0x5bc68e=_0xfe3ac6;else{if(_0x573989===_0x3dee65(0x79a))_0x5bc68e={'type':_0x3dee65(0xbe1),'properties':{'questionType':{'type':_0x3dee65(0x29d),'enum':[_0x3dee65(0x79a)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3dee65(0x29d)},'explanation':{'type':_0x3dee65(0x29d)},'imageCode':{'type':_0x3dee65(0x29d)}},'required':[_0x3dee65(0x302),'stem','correctResponse',_0x3dee65(0x866)]};else _0x5bc68e=_0x51d2c1;}_0x3528a0=_0x5bc68e;}else{const _0x4e387b=_0x13a6bb[_0x3dee65(0xda3)]?_0x3dee65(0x60d):'';switch(_0x13a6bb[_0x3dee65(0x273)]){case _0x3dee65(0x431):_0x12e8c4='สร้างแบบทดสอบปรนัย'+_0x32ae54+'\x20'+_0x13a6bb['numQuestions']+_0x3dee65(0x568)+_0x9beaa2+'\x20'+_0x41a7aa+'\x20'+_0x1f3f28+'\x20'+_0x326ecc+'\x20'+_0x34cdd4+_0x3dee65(0xd52)+_0x13a6bb[_0x3dee65(0xb6b)]+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x4e387b+'\x20'+simpleMathPrompt,_0x5bc68e=_0xfe3ac6;break;case _0x3dee65(0x990):_0x12e8c4=_0x3dee65(0x401)+_0x32ae54+'\x20'+_0x13a6bb['numQuestions']+_0x3dee65(0x568)+_0x9beaa2+'\x20'+_0x41a7aa+'\x20'+_0x1f3f28+'\x20'+_0x326ecc+'\x20'+_0x34cdd4+_0x3dee65(0xe1f)+_0x13a6bb[_0x3dee65(0xb6b)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4e387b+'\x20'+simpleMathPrompt,_0x5bc68e=_0xfe3ac6;break;case _0x3dee65(0x203):_0x12e8c4='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x32ae54+'\x20'+_0x13a6bb['numQuestions']+_0x3dee65(0x568)+_0x9beaa2+'\x20'+_0x41a7aa+'\x20'+_0x1f3f28+'\x20'+_0x326ecc+'\x20'+_0x34cdd4+_0x3dee65(0x600)+_0x4e387b+'\x20'+simpleMathPrompt,_0x5bc68e=_0x51d2c1;break;case _0x3dee65(0x32a):_0x12e8c4=_0x3dee65(0x794)+_0x32ae54+'\x20'+_0x13a6bb[_0x3dee65(0x942)]+'\x20ข้อ\x20'+_0x9beaa2+'\x20'+_0x41a7aa+'\x20'+_0x1f3f28+'\x20'+_0x326ecc+'\x20'+_0x34cdd4+_0x3dee65(0xa0c)+_0x13a6bb['numChoices']+_0x3dee65(0x2e9)+_0x4e387b+'\x20'+simpleMathPrompt+'.',_0x5bc68e=_0x436fe4;break;case _0x3dee65(0x718):_0x12e8c4=_0x3dee65(0x45e)+_0x32ae54+'\x20'+_0x13a6bb[_0x3dee65(0x942)]+_0x3dee65(0x568)+_0x9beaa2+'\x20'+_0x41a7aa+'\x20'+_0x1f3f28+'\x20'+_0x326ecc+'\x20'+_0x34cdd4+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x4e387b+'\x20'+simpleMathPrompt,_0x5bc68e=_0x1a9a6a;break;case'matching':_0x12e8c4=_0x3dee65(0x4b0)+_0x32ae54+'\x20'+_0x13a6bb[_0x3dee65(0x942)]+_0x3dee65(0x637)+_0x9beaa2+'\x20'+_0x41a7aa+'\x20'+_0x1f3f28+'\x20'+_0x326ecc+'\x20'+_0x34cdd4+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x4e387b+'\x20'+simpleMathPrompt,_0x5bc68e=_0xdcebfb;break;}_0x3528a0={'type':_0x3dee65(0xbe1),'properties':{'topic':{'type':_0x3dee65(0x29d)},'questions':{'type':'ARRAY','items':_0x5bc68e}},'required':['topic',_0x3dee65(0x806)]};}const _0x57cf1b='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0x56d300?(_0x422140?_0x12e8c4=_0x3dee65(0x2f5)+_0x56d300+_0x3dee65(0x7a4)+_0x12e8c4+_0x57cf1b:_0x12e8c4=_0x3dee65(0x2f5)+_0x56d300+_0x3dee65(0x7a4)+_0x12e8c4,_0x2b5f0d=_0x3dee65(0x9a3)):(_0x422140&&(_0x12e8c4+=_0x57cf1b),_0x2b5f0d=_0x3dee65(0x771));let _0x363a1d;return _0x5b40fe?(_0x363a1d=[{'text':_0x12e8c4},..._0x5b40fe],_0x2b5f0d=_0x3dee65(0x62c)):_0x363a1d=_0x12e8c4,handleApiCall(_0x363a1d,_0x2b5f0d,_0x3528a0,_0x4beffc,!![],_0x195aa4,_0x2bc727);}async function generateQuizFromFile(_0x5af4b2,_0x220ec2){const _0x2ef209=_0x3abb87,_0xde978e=document[_0x2ef209(0x753)](_0x2ef209(0x847))['value'][_0x2ef209(0xda7)](),_0x4ee8df=document[_0x2ef209(0x753)](_0x2ef209(0xb9c))[_0x2ef209(0x8a6)],_0x1ace5e=document['getElementById'](_0x2ef209(0x1d5))[_0x2ef209(0x8a6)],_0x1f1e23=document[_0x2ef209(0x753)](_0x2ef209(0x517))['value'],_0x4157ea=document[_0x2ef209(0x753)](_0x2ef209(0xe12))[_0x2ef209(0xc32)],_0x553276=document['getElementById'](_0x2ef209(0xdcf))['checked'],_0x9404ad=_0x553276?'':_0x2ef209(0x464),_0x8d5392=document[_0x2ef209(0x753)]('original-mode-checkbox')[_0x2ef209(0xc32)];let _0xf085d5='',_0x117e80;const _0x45742a=_0x4157ea?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x8d5392)_0xf085d5='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x45742a+'\x0a'+simpleMathPrompt+'\x0a',_0x117e80={'type':_0x2ef209(0xbe1),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2ef209(0x29d),'enum':[_0x2ef209(0x431),_0x2ef209(0xb85),_0x2ef209(0x718),_0x2ef209(0x79a)]},'options':{'type':_0x2ef209(0x9bd),'items':{'type':_0x2ef209(0x29d)}},'correctAnswerIndex':{'type':_0x2ef209(0xd79)},'idealAnswer':{'type':_0x2ef209(0x29d)},'correctAnswer':{'type':_0x2ef209(0x9e2)},'stem':{'type':_0x2ef209(0x29d)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2ef209(0x9bd),'items':{'type':_0x2ef209(0x29d)}},'explanation':{'type':_0x2ef209(0x29d)},'imageCode':{'type':_0x2ef209(0x29d)}},'required':[_0x2ef209(0x302),_0x2ef209(0x866)]};else{let _0x1731f4=_0x2ef209(0xd9f)+_0xde978e+'\x22';!_0xde978e&&(_0x1731f4=_0x2ef209(0xa7f));switch(_0x4ee8df){case _0x2ef209(0x431):_0xf085d5='สร้างแบบทดสอบปรนัย'+_0x9404ad+'\x20'+_0x1ace5e+'\x20ข้อ\x20'+_0x1731f4+_0x2ef209(0xd52)+_0x1f1e23+_0x2ef209(0x9bf)+_0x45742a+'\x20'+simpleMathPrompt,_0x117e80={'type':_0x2ef209(0xbe1),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x2ef209(0x29d)}},'correctAnswerIndex':{'type':_0x2ef209(0xd79)},'explanation':{'type':_0x2ef209(0x29d)},'imageCode':{'type':'STRING'}},'required':[_0x2ef209(0xbdb),_0x2ef209(0x254),_0x2ef209(0xa07),'explanation']};break;case _0x2ef209(0x990):_0xf085d5=_0x2ef209(0x401)+_0x9404ad+'\x20'+_0x1ace5e+_0x2ef209(0x568)+_0x1731f4+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x1f1e23+_0x2ef209(0xa49)+_0x45742a+'\x20'+simpleMathPrompt,_0x117e80={'type':'OBJECT','properties':{'questionText':{'type':_0x2ef209(0x29d)},'options':{'type':_0x2ef209(0x9bd),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2ef209(0xd79)},'explanation':{'type':_0x2ef209(0x29d)},'imageCode':{'type':_0x2ef209(0x29d)}},'required':[_0x2ef209(0xbdb),'options',_0x2ef209(0xa07),_0x2ef209(0x866)]};break;case _0x2ef209(0x203):_0xf085d5=_0x2ef209(0x401)+_0x9404ad+'\x20'+_0x1ace5e+_0x2ef209(0x568)+_0x1731f4+_0x2ef209(0x232)+_0x45742a+'\x20'+simpleMathPrompt,_0x117e80={'type':_0x2ef209(0xbe1),'properties':{'questionText':{'type':_0x2ef209(0x29d)},'idealAnswer':{'type':_0x2ef209(0x29d)},'explanation':{'type':_0x2ef209(0x29d)},'imageCode':{'type':_0x2ef209(0x29d)}},'required':['questionText','idealAnswer',_0x2ef209(0x866)]};break;case _0x2ef209(0x32a):_0xf085d5=_0x2ef209(0x794)+_0x9404ad+'\x20'+_0x1ace5e+_0x2ef209(0x568)+_0x1731f4+_0x2ef209(0xc4e)+_0x1f1e23+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x45742a+'\x20'+simpleMathPrompt+_0x2ef209(0xb1e),_0x117e80={'type':_0x2ef209(0xbe1),'properties':{'questionText':{'type':_0x2ef209(0x29d)},'questionType':{'type':_0x2ef209(0x29d),'enum':['multiple_choice',_0x2ef209(0xb85)]},'options':{'type':'ARRAY','items':{'type':_0x2ef209(0x29d)}},'correctAnswerIndex':{'type':_0x2ef209(0xd79)},'idealAnswer':{'type':_0x2ef209(0x29d)},'explanation':{'type':_0x2ef209(0x29d)},'imageCode':{'type':_0x2ef209(0x29d)}},'required':[_0x2ef209(0xbdb),_0x2ef209(0x302),_0x2ef209(0x866)]};break;case'true_false':_0xf085d5=_0x2ef209(0x45e)+_0x9404ad+'\x20'+_0x1ace5e+_0x2ef209(0x568)+_0x1731f4+_0x2ef209(0xce1)+_0x45742a+'\x20'+simpleMathPrompt,_0x117e80={'type':_0x2ef209(0xbe1),'properties':{'questionText':{'type':_0x2ef209(0x29d)},'correctAnswer':{'type':_0x2ef209(0x9e2)},'explanation':{'type':_0x2ef209(0x29d)},'imageCode':{'type':_0x2ef209(0x29d)}},'required':['questionText',_0x2ef209(0x509),_0x2ef209(0x866)]};break;case'matching':_0xf085d5='สร้างชุดคำถามจับคู่'+_0x9404ad+'\x20'+_0x1ace5e+_0x2ef209(0x637)+_0x1731f4+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x1ace5e+_0x2ef209(0xc2a)+_0x45742a+'\x20'+simpleMathPrompt,_0x117e80={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x2ef209(0x79a)]},'stem':{'type':_0x2ef209(0x29d)},'correctResponse':{'type':_0x2ef209(0x29d)},'allResponses':{'type':_0x2ef209(0x9bd),'items':{'type':_0x2ef209(0x29d)}},'explanation':{'type':_0x2ef209(0x29d)},'imageCode':{'type':_0x2ef209(0x29d)}},'required':[_0x2ef209(0x302),_0x2ef209(0x9b7),_0x2ef209(0x707),_0x2ef209(0x798),_0x2ef209(0x866)]};break;}}const _0x409ef7={'type':_0x2ef209(0xbe1),'properties':{'topic':{'type':_0x2ef209(0x29d)},'questions':{'type':_0x2ef209(0x9bd),'items':_0x117e80}},'required':[_0x2ef209(0x3bb),_0x2ef209(0x806)]},_0x6336c=_0x2ef209(0x933)+_0xf085d5,_0x5b714f={'contents':[{'parts':[{'text':_0x6336c},{'inlineData':{'mimeType':_0x5af4b2,'data':_0x220ec2}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x409ef7}};return handleApiCall(_0x5b714f[_0x2ef209(0x6ed)][0x0]['parts'],_0x2ef209(0xe1d),_0x409ef7);}async function handleApiCall(_0x3018ae,_0x479fd8,_0x2d9f3c,_0x842c0e=null,_0x47977c=!![],_0x5c7b0d=null,_0x4e15bb=null){const _0x4e3268=_0x3abb87,_0x9a134=document[_0x4e3268(0x753)](_0x4e3268(0x64c)),_0x5b7f93=document['getElementById'](_0x4e3268(0xac0)),_0x195b86=document[_0x4e3268(0x753)](_0x4e3268(0xa76)),_0x1c8325=document[_0x4e3268(0x753)](_0x4e3268(0x44a));_0x9a134[_0x4e3268(0x33a)][_0x4e3268(0x23a)](_0x4e3268(0x986));_0x842c0e===null&&_0x47977c&&(_0x1c8325[_0x4e3268(0xd15)]='');_0x5b7f93[_0x4e3268(0x33a)][_0x4e3268(0x23a)](_0x4e3268(0x986)),_0x195b86[_0x4e3268(0xbde)]=_0x479fd8,document['getElementById']('generate-from-topic-btn')[_0x4e3268(0x5ad)]=!![],document['getElementById'](_0x4e3268(0x7f9))[_0x4e3268(0x5ad)]=!![],document[_0x4e3268(0x753)](_0x4e3268(0x4ad))['disabled']=!![];const _0x41d3f1=document['getElementById'](_0x4e3268(0xd92));if(_0x41d3f1)_0x41d3f1[_0x4e3268(0x5ad)]=!![];const _0xdb1c1d=document['getElementById'](_0x4e3268(0x2b5));if(_0xdb1c1d)_0xdb1c1d[_0x4e3268(0x5ad)]=!![];const _0x3c6a92=document['getElementById'](_0x4e3268(0xd48));if(_0x3c6a92)_0x3c6a92[_0x4e3268(0x5ad)]=!![];try{const _0x4ed3d3=Array[_0x4e3268(0x55c)](_0x3018ae)?_0x3018ae:[{'text':_0x3018ae}],_0x2901a9={'contents':[{'role':'user','parts':_0x4ed3d3}]};_0x2d9f3c&&(_0x2901a9[_0x4e3268(0x2c3)]={'responseMimeType':'application/json','responseSchema':_0x2d9f3c});const _0x11f7c0=_0x4e3268(0x98f),_0x53d13e=_0x4e3268(0x4af)+_0x11f7c0,_0x54e339=await fetch(_0x53d13e,{'method':_0x4e3268(0xd31),'headers':{'Content-Type':_0x4e3268(0x3eb)},'body':JSON[_0x4e3268(0x6e6)](_0x2901a9)});if(!_0x54e339['ok']){const _0x209135=await _0x54e339['text']();console['error'](_0x4e3268(0xad9),_0x209135);throw new Error(_0x4e3268(0x39e)+_0x54e339[_0x4e3268(0x98e)]);}const _0x561f53=await _0x54e339[_0x4e3268(0x6a0)]();if(!_0x561f53['candidates']||_0x561f53['candidates'][_0x4e3268(0xd2b)]===0x0){let _0x31b1f7=_0x4e3268(0x66f);return _0x561f53[_0x4e3268(0xb4a)]?.[_0x4e3268(0xdc6)]&&(_0x31b1f7='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x561f53[_0x4e3268(0xb4a)][_0x4e3268(0xdc6)]+'.'),console[_0x4e3268(0x28d)](_0x31b1f7,JSON[_0x4e3268(0x6e6)](_0x561f53)),null;}const _0x281dad=_0x561f53[_0x4e3268(0x7db)][0x0]['content'][_0x4e3268(0xdfa)][0x0][_0x4e3268(0xba9)];if(_0x2d9f3c){let _0x1b4524=_0x281dad;if(_0x1b4524[_0x4e3268(0x258)](_0x4e3268(0x410)))_0x1b4524=_0x1b4524[_0x4e3268(0x2db)](0x7,_0x1b4524['length']-0x3)[_0x4e3268(0xda7)]();else _0x1b4524[_0x4e3268(0x258)](_0x4e3268(0xe22))&&(_0x1b4524=_0x1b4524['substring'](0x3,_0x1b4524[_0x4e3268(0xd2b)]-0x3)[_0x4e3268(0xda7)]());let _0x126809=JSON[_0x4e3268(0x5b1)](_0x1b4524);if(_0x47977c){if(_0x842c0e!==null){}else currentQuizData=_0x126809,displayGeneratedQuiz(currentQuizData,_0x5c7b0d,_0x4e15bb);}return _0x126809;}else return _0x281dad;}catch(_0x3091d1){console['error'](_0x4e3268(0x6d6),_0x3091d1),showMessage(_0x4e3268(0x60e)+_0x3091d1['message']);_0x47977c&&(_0x1c8325['innerHTML']=_0x4e3268(0x486));throw _0x3091d1;}finally{_0x5b7f93[_0x4e3268(0x33a)][_0x4e3268(0xbaf)](_0x4e3268(0x986)),document[_0x4e3268(0x753)](_0x4e3268(0x237))[_0x4e3268(0x5ad)]=![],document[_0x4e3268(0x753)](_0x4e3268(0x7f9))[_0x4e3268(0x5ad)]=![],document['getElementById'](_0x4e3268(0x4ad))['disabled']=![];if(_0x41d3f1)_0x41d3f1[_0x4e3268(0x5ad)]=![];if(_0xdb1c1d)_0xdb1c1d[_0x4e3268(0x5ad)]=![];if(_0x3c6a92)_0x3c6a92[_0x4e3268(0x5ad)]=![];}}function exitFullscreen(){const _0x393535=_0x3abb87;if(document[_0x393535(0x411)])document[_0x393535(0x411)]()[_0x393535(0xab8)](_0x2f3a8d=>console[_0x393535(0x28d)](_0x2f3a8d));else{if(document[_0x393535(0x3b2)])document['webkitExitFullscreen']();else document[_0x393535(0xb76)]&&document[_0x393535(0xb76)]();}}function enterFullscreen(){const _0x4d987d=_0x3abb87,_0x19a0cd=document['documentElement'];if(_0x19a0cd[_0x4d987d(0x43e)])_0x19a0cd[_0x4d987d(0x43e)]()[_0x4d987d(0xab8)](_0xde439f=>{const _0xad0e67=_0x4d987d;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0xde439f[_0xad0e67(0x9e1)]+'\x20('+_0xde439f[_0xad0e67(0xc71)]+')');});else{if(_0x19a0cd[_0x4d987d(0x74e)])_0x19a0cd['webkitRequestFullscreen']();else _0x19a0cd[_0x4d987d(0xd67)]&&_0x19a0cd[_0x4d987d(0xd67)]();}}function handleCheatingEvent(){const _0x49ef76=_0x3abb87;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x49ef76(0x8d4)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x49ef76(0x753)](_0x49ef76(0x217))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x49ef76(0x21b)](_0x49ef76(0x77c),handleVisibilityChange),document[_0x49ef76(0x21b)]('fullscreenchange',handleFullscreenChange)):showMessage(_0x49ef76(0x6bc)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x315de6=_0x3abb87;if(currentMode===_0x315de6(0x330)||!isQuizActive)return;if(document[_0x315de6(0x4c2)]===_0x315de6(0x986))handleCheatingEvent();else document[_0x315de6(0x4c2)]===_0x315de6(0xdca)&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1f7f43=_0x3abb87;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x1f7f43(0xe01)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4dcfd5,_0x2bcc86=null,_0x27f5fd=null){const _0x2d24fc=_0x3abb87,_0x19208d=document[_0x2d24fc(0x753)](_0x2d24fc(0x44a));let _0xd86c85='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x4dcfd5[_0x2d24fc(0x3bb)]+_0x2d24fc(0x759);_0x4dcfd5['questions']['forEach']((_0x3c9a2f,_0x27605a)=>{const _0x47a770=_0x2d24fc;!_0x3c9a2f['id']&&(_0x3c9a2f['id']='q_'+Date[_0x47a770(0xbc4)]()+'_'+_0x27605a);const _0x2a7c93=_0x3c9a2f[_0x47a770(0x302)]||_0x4dcfd5[_0x47a770(0x273)];_0xd86c85+=_0x47a770(0x642)+_0x27605a+_0x47a770(0x8ea)+_0x27605a+_0x47a770(0xb46)+_0x27605a+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2a7c93){case _0x47a770(0x79a):_0xd86c85+=_0x47a770(0x223)+_0x27605a+'\x22>'+(_0x27605a+0x1)+'.\x20'+_0x3c9a2f[_0x47a770(0x9b7)]+_0x47a770(0x854);_0x3c9a2f[_0x47a770(0xc35)]&&(_0xd86c85+='<div\x20id=\x22q-image-container-'+_0x27605a+_0x47a770(0x378)+_0x3c9a2f['imageCode']+_0x47a770(0x634));_0xd86c85+=_0x47a770(0x2f4)+_0x27605a+'\x22>'+_0x3c9a2f[_0x47a770(0x707)]+'</span></div>',_0xd86c85+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x27605a+'\x22>'+_0x3c9a2f['explanation']+_0x47a770(0x4bb);break;case _0x47a770(0xb85):_0xd86c85+=_0x47a770(0x223)+_0x27605a+'\x22>'+(_0x27605a+0x1)+'.\x20'+_0x3c9a2f[_0x47a770(0xbdb)]+'</p>';_0x3c9a2f['imageCode']&&(_0xd86c85+=_0x47a770(0xe35)+_0x27605a+_0x47a770(0x378)+_0x3c9a2f[_0x47a770(0xc35)]+'</div>');_0xd86c85+=_0x47a770(0xc51)+_0x27605a+'\x22>'+_0x3c9a2f['idealAnswer']+_0x47a770(0x4bb),_0xd86c85+=_0x47a770(0x81e)+_0x27605a+'\x22>'+_0x3c9a2f['explanation']+_0x47a770(0x4bb);break;case _0x47a770(0x718):_0xd86c85+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x27605a+'\x22>'+(_0x27605a+0x1)+'.\x20'+_0x3c9a2f[_0x47a770(0xbdb)]+_0x47a770(0x854);_0x3c9a2f[_0x47a770(0xc35)]&&(_0xd86c85+=_0x47a770(0xe35)+_0x27605a+_0x47a770(0x378)+_0x3c9a2f[_0x47a770(0xc35)]+'</div>');_0xd86c85+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x3c9a2f['correctAnswer']===!![]?_0x47a770(0x590):'')+_0x47a770(0x7e6)+(_0x3c9a2f[_0x47a770(0x509)]===![]?_0x47a770(0x590):'')+_0x47a770(0xe04),_0xd86c85+=_0x47a770(0x81e)+_0x27605a+'\x22>'+_0x3c9a2f[_0x47a770(0x866)]+_0x47a770(0x4bb);break;case _0x47a770(0xe7a):case'multiple_choice':default:_0xd86c85+=_0x47a770(0x223)+_0x27605a+'\x22>'+(_0x27605a+0x1)+'.\x20'+_0x3c9a2f[_0x47a770(0xbdb)]+_0x47a770(0x854);_0x3c9a2f[_0x47a770(0xc35)]&&(_0xd86c85+=_0x47a770(0xe35)+_0x27605a+_0x47a770(0x378)+_0x3c9a2f[_0x47a770(0xc35)]+'</div>');_0xd86c85+=_0x47a770(0xe53)+_0x27605a+_0x47a770(0x9d2)+(_0x3c9a2f['options']||[])[_0x47a770(0x561)]((_0x26b7f6,_0x36b5bb)=>_0x47a770(0x5bc)+(_0x36b5bb===_0x3c9a2f[_0x47a770(0xa07)]?_0x47a770(0x590):'')+'\x22>'+_0x26b7f6+_0x47a770(0x592))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0xd86c85+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x27605a+'\x22>'+_0x3c9a2f[_0x47a770(0x866)]+_0x47a770(0x4bb);break;}_0xd86c85+=_0x47a770(0x634);}),_0xd86c85+=_0x2d24fc(0x1fe),_0x19208d[_0x2d24fc(0xd15)]=_0xd86c85,document[_0x2d24fc(0x628)]('.edit-question-btn')['forEach'](_0x22ec6c=>_0x22ec6c[_0x2d24fc(0xdd0)]('click',handleEditQuestion)),document['querySelectorAll'](_0x2d24fc(0xc20))['forEach'](_0x1401c2=>_0x1401c2[_0x2d24fc(0xdd0)]('click',handleRegenerateQuestion)),document['getElementById'](_0x2d24fc(0x21e))[_0x2d24fc(0xdd0)]('click',exportQuizAsWorksheetPDF),document[_0x2d24fc(0x753)](_0x2d24fc(0x4d4))[_0x2d24fc(0xdd0)]('click',handleVerifyAnswers);const _0x247b0f=document[_0x2d24fc(0x753)](_0x2d24fc(0x874));if(_0x247b0f){const _0x5dac7c=_0x2bcc86||currentProjectId;_0x247b0f['addEventListener'](_0x2d24fc(0xaa0),()=>saveQuiz(_0x5dac7c,_0x27f5fd));}if(window[_0x2d24fc(0xc12)])window[_0x2d24fc(0xc12)]['typesetPromise']([_0x19208d]);}function handleRegenerateQuestion(_0x41b3cc){const _0x57322c=_0x3abb87,_0x5e9ed4=_0x41b3cc[_0x57322c(0x1d3)][_0x57322c(0x970)][_0x57322c(0x6b3)],_0x4e01cf=currentQuizData['topic'];showMessage(_0x57322c(0xb6c)+(parseInt(_0x5e9ed4)+0x1)+_0x57322c(0xa01)),generateQuiz(_0x4e01cf,null,parseInt(_0x5e9ed4));}function getPointerPosition(_0x2b97f9,_0x45c6b8){const _0x2860d4=_0x3abb87,_0x5c5ff6=_0x2b97f9[_0x2860d4(0x48d)]();let _0x9c3079,_0x4c9af3;return _0x45c6b8['touches']&&_0x45c6b8[_0x2860d4(0xa40)][_0x2860d4(0xd2b)]>0x0?(_0x9c3079=_0x45c6b8['touches'][0x0][_0x2860d4(0x8a1)],_0x4c9af3=_0x45c6b8[_0x2860d4(0xa40)][0x0][_0x2860d4(0x484)]):(_0x9c3079=_0x45c6b8[_0x2860d4(0x8a1)],_0x4c9af3=_0x45c6b8[_0x2860d4(0x484)]),{'x':(_0x9c3079-_0x5c5ff6['e'])/_0x5c5ff6['a'],'y':(_0x4c9af3-_0x5c5ff6['f'])/_0x5c5ff6['d']};}function startDrag(_0x46cf15){const _0x4d3a71=_0x3abb87;_0x46cf15[_0x4d3a71(0x2d0)]===_0x4d3a71(0x43d)&&_0x46cf15[_0x4d3a71(0x83f)]();const _0x5c2e97=_0x46cf15['target'][_0x4d3a71(0xdad)]('.draggable-text');if(_0x5c2e97){draggedSvgElement=_0x5c2e97;const _0x3d812c=draggedSvgElement['ownerSVGElement'],_0x1d3040=getPointerPosition(_0x3d812c,_0x46cf15);svgOffset['x']=_0x1d3040['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x1d3040['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x58d851,_0x55844a){const _0x37b286=_0x3abb87,_0x234853={};if(_0x55844a['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xc68fd1=[..._0x55844a][_0x37b286(0xb00)]((_0x490673,_0x52b77f)=>{const _0x53ac64=_0x37b286,_0x3d864e=_0x52b77f[_0x53ac64(0xd4f)]-_0x490673[_0x53ac64(0xd4f)];if(_0x3d864e!==0x0)return _0x3d864e;const _0x2c032=_0x490673[_0x53ac64(0x2c5)]?.[_0x53ac64(0xd2b)]||0x1,_0x520913=_0x52b77f['attempts']?.[_0x53ac64(0xd2b)]||0x1,_0x72ac0a=_0x2c032-_0x520913;if(_0x72ac0a!==0x0)return _0x72ac0a;const _0x2e056e=new Date(_0x490673['latestSubmittedAt']),_0x2907fc=new Date(_0x52b77f[_0x53ac64(0x1e2)]),_0x1b6eba=_0x2e056e-_0x2907fc;if(_0x1b6eba!==0x0)return _0x1b6eba;return _0x490673[_0x53ac64(0x4f9)][_0x53ac64(0xe3a)](_0x52b77f[_0x53ac64(0x4f9)],'th');}),_0x74d426=_0xc68fd1[_0x37b286(0xd2b)],_0x53aee5=Math[_0x37b286(0x513)](0x1,Math[_0x37b286(0x886)](_0x74d426*0.33));if(_0x53aee5===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x332940=_0xc68fd1[_0x37b286(0x5a7)](0x0,_0x53aee5),_0xba06b2=_0xc68fd1[_0x37b286(0x5a7)](-_0x53aee5),_0x20c79c=_0x332940[_0x37b286(0x561)](_0xa04e3c=>_0xa04e3c[_0x37b286(0x4f9)]),_0x5ea537=_0xba06b2['map'](_0x4c214c=>_0x4c214c[_0x37b286(0x4f9)]);return _0x58d851[_0x37b286(0x806)]['forEach']((_0x49bb9b,_0x1da3e6)=>{const _0x3b5091=_0x37b286,_0x2abc2e=_0x49bb9b[_0x3b5091(0x9b7)]||_0x49bb9b['questionText'];let _0x472936=0x0,_0x5475e5=0x0,_0x4630b0=0x0;const _0x16a972=[],_0x1ef248=[];_0x332940[_0x3b5091(0x91b)](_0x4b4196=>{const _0x5aaa73=_0x3b5091,_0x1959bd=_0x4b4196[_0x5aaa73(0x2c5)][_0x4b4196['attempts'][_0x5aaa73(0xd2b)]-0x1],_0x1595de=_0x1959bd[_0x5aaa73(0x67e)][_0x5aaa73(0x7f4)](_0x4ad403=>_0x4ad403['originalQuestionText']===_0x2abc2e);_0x16a972[_0x5aaa73(0xabd)]({'name':_0x4b4196[_0x5aaa73(0x4f9)],'isCorrect':_0x1595de?_0x1595de[_0x5aaa73(0x88b)]:![]}),_0x1595de&&_0x1595de[_0x5aaa73(0x88b)]&&_0x5475e5++;}),_0xba06b2[_0x3b5091(0x91b)](_0x4ff4b8=>{const _0xb81fb5=_0x3b5091,_0x1c9736=_0x4ff4b8['attempts'][_0x4ff4b8['attempts']['length']-0x1],_0x123ec9=_0x1c9736[_0xb81fb5(0x67e)]['find'](_0x4f2fff=>_0x4f2fff[_0xb81fb5(0x675)]===_0x2abc2e);_0x1ef248[_0xb81fb5(0xabd)]({'name':_0x4ff4b8['studentName'],'isCorrect':_0x123ec9?_0x123ec9[_0xb81fb5(0x88b)]:![]}),_0x123ec9&&_0x123ec9[_0xb81fb5(0x88b)]&&_0x4630b0++;}),_0x55844a['forEach'](_0x51832b=>{const _0x896798=_0x3b5091,_0x4210bf=_0x51832b['attempts'][_0x51832b[_0x896798(0x2c5)][_0x896798(0xd2b)]-0x1],_0x1efd98=_0x4210bf['answers'][_0x896798(0x7f4)](_0x13c5d2=>_0x13c5d2[_0x896798(0x675)]===_0x2abc2e);_0x1efd98&&_0x1efd98['isCorrect']&&_0x472936++;});const _0x40e420=_0x74d426>0x0?_0x472936/_0x74d426:0x0,_0x20fd1c=_0x53aee5>0x0?_0x5475e5/_0x53aee5-_0x4630b0/_0x53aee5:0x0;_0x234853[_0x1da3e6]={'p':_0x40e420,'r':_0x20fd1c,'upperGroupResponders':_0x16a972,'lowerGroupResponders':_0x1ef248};}),{'perQuestionStats':_0x234853,'overallGroups':{'upperGroupNames':_0x20c79c,'lowerGroupNames':_0x5ea537}};}function drag(_0x127349){const _0xf141e2=_0x3abb87;if(draggedSvgElement){_0x127349[_0xf141e2(0x83f)]();const _0x3b308d=draggedSvgElement[_0xf141e2(0x929)],_0x52b06f=getPointerPosition(_0x3b308d,_0x127349),_0x161f07=_0x3b308d[_0xf141e2(0xb5a)]['baseVal'];let _0x353ad8=_0x52b06f['x']-svgOffset['x'],_0x246cd4=_0x52b06f['y']-svgOffset['y'];const _0xd1672a=draggedSvgElement[_0xf141e2(0x22b)]();_0x353ad8=Math[_0xf141e2(0x513)](_0x161f07['x'],Math[_0xf141e2(0x9f0)](_0x353ad8,_0x161f07['x']+_0x161f07['width']-_0xd1672a[_0xf141e2(0xbb9)])),_0x246cd4=Math[_0xf141e2(0x513)](_0x161f07['y'],Math[_0xf141e2(0x9f0)](_0x246cd4,_0x161f07['y']+_0x161f07[_0xf141e2(0xbad)]-_0xd1672a[_0xf141e2(0xbad)])),draggedSvgElement[_0xf141e2(0x48f)](null,'x',_0x353ad8),draggedSvgElement[_0xf141e2(0x48f)](null,'y',_0x246cd4);}}function endDrag(_0x11e2b2){draggedSvgElement=null;}function handleSvgEditClick(_0xe4988e){const _0x1186eb=_0x3abb87;if(_0xe4988e[_0x1186eb(0x589)][_0x1186eb(0x33a)][_0x1186eb(0x415)](_0x1186eb(0x405))){const _0x1d60e2=_0xe4988e[_0x1186eb(0x589)][_0x1186eb(0x970)][_0x1186eb(0xcfc)],_0x49a051=_0xe4988e[_0x1186eb(0x1d3)],_0x1d7626=_0x49a051[_0x1186eb(0xd5b)]('#'+_0x1d60e2);_0x1d7626&&_0x1d7626[_0x1186eb(0x23a)](),_0xe4988e[_0x1186eb(0x589)]['remove']();}}function handleEditQuestion(_0x45c98d){const _0x2311d3=_0x3abb87,_0x23d295=_0x45c98d[_0x2311d3(0x1d3)],_0x2d375e=_0x23d295[_0x2311d3(0x970)]['index'],_0x15e2aa=currentQuizData[_0x2311d3(0x806)][_0x2d375e],_0x40414b=document[_0x2311d3(0x753)]('q-text-'+_0x2d375e),_0x559021=document[_0x2311d3(0x753)]('q-explanation-'+_0x2d375e),_0x3602ce=document[_0x2311d3(0x753)](_0x2311d3(0x4c6)+_0x2d375e);if(_0x23d295['innerHTML'][_0x2311d3(0x842)](_0x2311d3(0x42c))){_0x23d295[_0x2311d3(0xd15)]=_0x2311d3(0x292),_0x23d295[_0x2311d3(0xbcd)]=_0x2311d3(0x6d4);if(_0x40414b)_0x40414b[_0x2311d3(0x6da)]=!![];if(_0x559021)_0x559021[_0x2311d3(0x6da)]=!![];if(_0x3602ce){const _0x1ab18d=_0x3602ce[_0x2311d3(0xd5b)](_0x2311d3(0x56d));if(_0x1ab18d){const _0x475c82=_0x1ab18d[_0x2311d3(0x628)](_0x2311d3(0xba9));_0x475c82[_0x2311d3(0x91b)]((_0x2c8bad,_0x4f919f)=>{const _0x50eecb=_0x2311d3,_0x164d53=_0x50eecb(0xa34)+_0x2d375e+'-'+_0x4f919f;_0x2c8bad['id']=_0x164d53,_0x2c8bad[_0x50eecb(0x33a)][_0x50eecb(0xbaf)](_0x50eecb(0x823)),_0x2c8bad[_0x50eecb(0x41d)][_0x50eecb(0x9a6)]=_0x50eecb(0x6c6);const _0x1511ac=document[_0x50eecb(0xbeb)]('http://www.w3.org/2000/svg',_0x50eecb(0xc59)),_0x15e157=_0x2c8bad['getBBox']();_0x1511ac[_0x50eecb(0xd83)]('cx',String(_0x15e157['x']+_0x15e157[_0x50eecb(0xbb9)]+0x5)),_0x1511ac[_0x50eecb(0xd83)]('cy',String(_0x15e157['y']+_0x15e157['height']/0x2-0x5)),_0x1511ac[_0x50eecb(0xd83)]('r','5'),_0x1511ac[_0x50eecb(0xd83)]('fill',_0x50eecb(0x9c6)),_0x1511ac[_0x50eecb(0xd83)]('class',_0x50eecb(0x405)),_0x1511ac[_0x50eecb(0x970)][_0x50eecb(0xcfc)]=_0x164d53,_0x2c8bad['after'](_0x1511ac);}),_0x1ab18d[_0x2311d3(0xdd0)]('mousedown',startDrag),_0x1ab18d[_0x2311d3(0xdd0)](_0x2311d3(0xa33),drag),_0x1ab18d[_0x2311d3(0xdd0)](_0x2311d3(0xa48),endDrag),_0x1ab18d[_0x2311d3(0xdd0)]('mouseleave',endDrag),_0x1ab18d[_0x2311d3(0xdd0)]('touchstart',startDrag,{'passive':![]}),_0x1ab18d['addEventListener']('touchmove',drag,{'passive':![]}),_0x1ab18d['addEventListener']('touchend',endDrag),_0x1ab18d[_0x2311d3(0xdd0)](_0x2311d3(0xe65),endDrag),_0x1ab18d['addEventListener']('click',handleSvgEditClick);}}if(_0x40414b)_0x40414b['focus']();}else{_0x23d295[_0x2311d3(0xd15)]=_0x2311d3(0xe6f),_0x23d295[_0x2311d3(0xbcd)]=_0x2311d3(0xae4);if(_0x40414b){_0x40414b[_0x2311d3(0x6da)]=![];const _0x3e3d80=_0x15e2aa[_0x2311d3(0x302)]||currentQuizData['quizType'];_0x3e3d80===_0x2311d3(0x79a)?_0x15e2aa['stem']=_0x40414b['innerText']['substring'](_0x40414b[_0x2311d3(0x472)][_0x2311d3(0x4c0)]('.')+0x2)['trim']():_0x15e2aa[_0x2311d3(0xbdb)]=_0x40414b[_0x2311d3(0x472)][_0x2311d3(0x2db)](_0x40414b['innerText'][_0x2311d3(0x4c0)]('.')+0x2)[_0x2311d3(0xda7)]();}_0x559021&&(_0x559021[_0x2311d3(0x6da)]=![],_0x15e2aa['explanation']=_0x559021[_0x2311d3(0x472)]);if(_0x3602ce){const _0x8b3036=_0x3602ce[_0x2311d3(0xd5b)](_0x2311d3(0x56d));if(_0x8b3036){const _0x21eada=_0x8b3036[_0x2311d3(0x433)](!![]);_0x21eada['querySelectorAll'](_0x2311d3(0xd1d))[_0x2311d3(0x91b)](_0x4bf8b4=>_0x4bf8b4[_0x2311d3(0x23a)]()),_0x21eada[_0x2311d3(0x628)]('.draggable-text')[_0x2311d3(0x91b)](_0x567a41=>{const _0x5df040=_0x2311d3;_0x567a41[_0x5df040(0x33a)][_0x5df040(0x23a)](_0x5df040(0x823)),_0x567a41[_0x5df040(0x41d)][_0x5df040(0x9a6)]=_0x5df040(0xb29),_0x567a41['removeAttribute']('id');}),_0x15e2aa[_0x2311d3(0xc35)]=_0x21eada[_0x2311d3(0x8db)],_0x8b3036['removeEventListener'](_0x2311d3(0xc87),startDrag),_0x8b3036['removeEventListener']('mousemove',drag),_0x8b3036['removeEventListener'](_0x2311d3(0xa48),endDrag),_0x8b3036[_0x2311d3(0x21b)](_0x2311d3(0xb36),endDrag),_0x8b3036[_0x2311d3(0x21b)](_0x2311d3(0x43d),startDrag),_0x8b3036[_0x2311d3(0x21b)]('touchmove',drag),_0x8b3036['removeEventListener'](_0x2311d3(0x3e1),endDrag),_0x8b3036[_0x2311d3(0x21b)]('touchcancel',endDrag),_0x8b3036[_0x2311d3(0x21b)]('click',handleSvgEditClick),_0x8b3036[_0x2311d3(0x628)](_0x2311d3(0xd1d))[_0x2311d3(0x91b)](_0x4ef50e=>_0x4ef50e[_0x2311d3(0x23a)]()),_0x8b3036['querySelectorAll'](_0x2311d3(0x918))[_0x2311d3(0x91b)](_0x255d99=>{const _0x340e56=_0x2311d3;_0x255d99[_0x340e56(0x33a)][_0x340e56(0x23a)](_0x340e56(0x823)),_0x255d99[_0x340e56(0x41d)][_0x340e56(0x9a6)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xb2d5e1){const _0x2658fe=_0x3abb87,_0x1c77e5=document[_0x2658fe(0x753)](_0x2658fe(0xc6a)),_0x73fc57=document[_0x2658fe(0x753)](_0x2658fe(0x666));_0x73fc57[_0x2658fe(0xd15)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x1c77e5[_0x2658fe(0x33a)][_0x2658fe(0x23a)]('hidden');try{const _0x2068c9=doc(db,_0x2658fe(0x8da)+appId+_0x2658fe(0xe3e),_0xb2d5e1),_0x105dab=await getDoc(_0x2068c9);if(!_0x105dab[_0x2658fe(0xc9d)]())throw new Error(_0x2658fe(0x44d));currentEditingQuizData={'id':_0xb2d5e1,..._0x105dab[_0x2658fe(0x3f4)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x39e2ac){console[_0x2658fe(0x28d)](_0x2658fe(0xdb2),_0x39e2ac),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x1c77e5[_0x2658fe(0x33a)]['add'](_0x2658fe(0x986));}}function renderQuizEditor(_0x49691e){const _0x145962=_0x3abb87;document[_0x145962(0x753)](_0x145962(0x5f6))['value']=_0x49691e[_0x145962(0x3bb)];const _0x503857=document['getElementById']('quiz-editor-questions-container');let _0x565bb8=_0x49691e['questions'][_0x145962(0x561)]((_0x39950b,_0x526318)=>{const _0x3628b4=_0x145962;let _0x2770e1='';const _0x4ae8c8=_0x39950b[_0x3628b4(0x302)]||_0x49691e[_0x3628b4(0x273)];switch(_0x4ae8c8){case _0x3628b4(0x431):const _0x3b437a=(_0x39950b[_0x3628b4(0x254)]||[])[_0x3628b4(0x561)]((_0x3d8406,_0x832835)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x526318+_0x3628b4(0x3c4)+_0x832835+'\x22\x20'+(_0x832835===_0x39950b['correctAnswerIndex']?'checked':'')+_0x3628b4(0xe56)+_0x3d8406+_0x3628b4(0xd21))[_0x3628b4(0xe0b)]('');_0x2770e1=_0x3628b4(0x9fc)+_0x3b437a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':_0x2770e1=_0x3628b4(0x935)+(_0x39950b['idealAnswer']||'')+_0x3628b4(0x954);break;case _0x3628b4(0x718):_0x2770e1=_0x3628b4(0x7a8)+_0x526318+_0x3628b4(0xaea)+(_0x39950b[_0x3628b4(0x509)]===!![]?_0x3628b4(0xc32):'')+_0x3628b4(0x1f6)+_0x526318+_0x3628b4(0x3be)+(_0x39950b[_0x3628b4(0x509)]===![]?_0x3628b4(0xc32):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3628b4(0x79a):_0x2770e1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x39950b[_0x3628b4(0x707)]||'')+_0x3628b4(0xe41);break;}let _0x365285=_0x39950b[_0x3628b4(0xbdb)]||_0x39950b['stem']||'';return _0x365285=_0x365285[_0x3628b4(0x749)](/<br\s*\/?>/gi,'\x0a'),'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x526318+_0x3628b4(0x975)+_0x4ae8c8+_0x3628b4(0x466)+(_0x526318+0x1)+'\x20('+_0x4ae8c8+_0x3628b4(0x3fd)+_0x365285+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x2770e1+_0x3628b4(0x62d);})[_0x145962(0xe0b)]('');_0x503857[_0x145962(0xd15)]=_0x565bb8;const _0x3adf53=_0x145962(0xc23);_0x503857[_0x145962(0x4a1)](_0x145962(0xe43),_0x3adf53),_0x503857[_0x145962(0x628)](_0x145962(0x8e9))[_0x145962(0x91b)](_0x5d60b6=>{const _0x5d218f=_0x145962;_0x5d60b6[_0x5d218f(0x41d)][_0x5d218f(0xb25)]=_0x5d218f(0x986),_0x5d60b6['style']['minHeight']='100px',_0x5d60b6[_0x5d218f(0x723)]=0x4;const _0x1ca8d8=()=>{const _0x243174=_0x5d218f;_0x5d60b6[_0x243174(0x41d)][_0x243174(0xbad)]=_0x243174(0xb84),_0x5d60b6[_0x243174(0x41d)][_0x243174(0xbad)]=_0x5d60b6[_0x243174(0x629)]+'px';};_0x5d60b6['addEventListener']('input',_0x1ca8d8),_0x1ca8d8();}),_0x503857[_0x145962(0x628)](_0x145962(0xb58))[_0x145962(0x91b)](_0x33192a=>{const _0x27c601=_0x145962;_0x33192a['addEventListener'](_0x27c601(0xaa0),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x489e5c){const _0x3c70db=_0x3abb87;if(!currentEditingQuizData||!currentEditingQuizData[_0x3c70db(0x806)][_0x489e5c])return;const _0x5cf54a=currentEditingQuizData[_0x3c70db(0x806)][_0x489e5c][_0x3c70db(0xbdb)]||currentEditingQuizData[_0x3c70db(0x806)][_0x489e5c][_0x3c70db(0x9b7)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x489e5c+0x1)+_0x3c70db(0x77f)+_0x5cf54a['substring'](0x0,0x14)+_0x3c70db(0x8c7),()=>{const _0x3fd2f9=_0x3c70db;currentEditingQuizData[_0x3fd2f9(0x806)][_0x3fd2f9(0x8a5)](_0x489e5c,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x3fd2f9(0x7f1));});}function handleAddQuestionInEditor(){const _0x5595d0=_0x3abb87;if(!currentEditingQuizData)return;const _0x54e14c={'id':'q_'+Date[_0x5595d0(0xbc4)]()+'_new','questionType':_0x5595d0(0x431),'questionText':_0x5595d0(0xc83),'options':[_0x5595d0(0x33d),_0x5595d0(0xd07),'ตัวเลือก\x20ค',_0x5595d0(0xe28)],'correctAnswerIndex':0x0,'explanation':_0x5595d0(0x335)};currentEditingQuizData[_0x5595d0(0x806)][_0x5595d0(0xabd)](_0x54e14c),renderQuizEditor(currentEditingQuizData);const _0x395deb=document['querySelector']('.question-editor-item:last-of-type');_0x395deb&&(_0x395deb[_0x5595d0(0xe76)]({'behavior':'smooth','block':_0x5595d0(0x33f)}),_0x395deb[_0x5595d0(0xd5b)](_0x5595d0(0xe5d))['focus']());}async function handleAiFixQuestion(_0x47fd77){const _0x5302bf=_0x3abb87,_0x23fb13=_0x47fd77[_0x5302bf(0x1d3)],_0x1c4f32=_0x23fb13[_0x5302bf(0xdad)]('.question-editor-item');if(!_0x1c4f32)return;const _0x42b3c2=parseInt(_0x1c4f32[_0x5302bf(0x970)]['qIndex'],0xa);if(isNaN(_0x42b3c2)||!currentEditingQuizData[_0x5302bf(0x806)][_0x42b3c2]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x4ecb06=currentEditingQuizData[_0x5302bf(0x806)][_0x42b3c2];_0x23fb13['innerHTML']=_0x5302bf(0x780),_0x23fb13[_0x5302bf(0x5ad)]=!![];const _0x15362d=_0x5302bf(0x336)+JSON[_0x5302bf(0x6e6)](_0x4ecb06)+_0x5302bf(0x821);let _0x47aec0;const _0x1c5b40=_0x4ecb06['questionType']||currentEditingQuizData[_0x5302bf(0x273)];switch(_0x1c5b40){case'short_answer':_0x47aec0={'type':_0x5302bf(0xbe1),'properties':{'questionText':{'type':_0x5302bf(0x29d)},'idealAnswer':{'type':_0x5302bf(0x29d)},'explanation':{'type':_0x5302bf(0x29d)},'imageCode':{'type':_0x5302bf(0x29d)}},'required':[_0x5302bf(0xbdb),'idealAnswer',_0x5302bf(0x866)]};break;case _0x5302bf(0x431):default:_0x47aec0={'type':_0x5302bf(0xbe1),'properties':{'questionText':{'type':_0x5302bf(0x29d)},'options':{'type':_0x5302bf(0x9bd),'items':{'type':_0x5302bf(0x29d)}},'correctAnswerIndex':{'type':_0x5302bf(0xd79)},'explanation':{'type':_0x5302bf(0x29d)},'imageCode':{'type':_0x5302bf(0x29d)}},'required':[_0x5302bf(0xbdb),_0x5302bf(0x254),_0x5302bf(0xa07),_0x5302bf(0x866)]};break;}try{let _0x5009a3=await callAnalysisApi(_0x15362d,_0x47aec0);_0x5009a3[_0x5302bf(0x254)]&&Array[_0x5302bf(0x55c)](_0x5009a3[_0x5302bf(0x254)])&&(_0x5009a3[_0x5302bf(0x254)]=_0x5009a3['options'][_0x5302bf(0x561)](_0x4cf664=>typeof _0x4cf664===_0x5302bf(0x96d)?_0x4cf664[_0x5302bf(0x749)](/S(\s*[\d_]+?\s*)S/g,_0x5302bf(0x421)):_0x4cf664)),_0x4ecb06[_0x5302bf(0xc35)]&&_0x4ecb06[_0x5302bf(0xc35)][_0x5302bf(0x842)](_0x5302bf(0xd59))&&(_0x5009a3[_0x5302bf(0xc35)]=''),currentEditingQuizData[_0x5302bf(0x806)][_0x42b3c2]={..._0x4ecb06,..._0x5009a3},renderQuizEditor(currentEditingQuizData),showMessage(_0x5302bf(0xd65));}catch(_0x4a6882){console[_0x5302bf(0x28d)]('AI\x20Fix\x20Error:',_0x4a6882),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x575623=_0x3abb87,_0x5d1743=document[_0x575623(0x753)](_0x575623(0x859));_0x5d1743[_0x575623(0x5ad)]=!![],_0x5d1743['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x55c707=document[_0x575623(0x753)](_0x575623(0x5f6))['value'],_0x3a1d34=document['querySelectorAll']('.question-editor-item');let _0xeaf199=[];const _0x55782f=Array[_0x575623(0x944)](_0x3a1d34)[_0x575623(0x561)]((_0x1f0b21,_0x529dd1)=>{const _0x3a9b27=_0x575623,_0x49cb31=_0x1f0b21[_0x3a9b27(0x970)][_0x3a9b27(0xdd7)],_0x4019cf=_0x1f0b21[_0x3a9b27(0xd5b)]('textarea')['value'][_0x3a9b27(0x749)](/\n/g,_0x3a9b27(0x979));let _0xc2ea4d={'questionType':_0x49cb31};const _0x363f55=currentEditingQuizData[_0x3a9b27(0x806)][_0x529dd1];switch(_0x49cb31){case _0x3a9b27(0x431):_0xc2ea4d[_0x3a9b27(0xbdb)]=_0x4019cf;const _0x5cd1f8=_0x1f0b21[_0x3a9b27(0x628)](_0x3a9b27(0x816));_0xc2ea4d[_0x3a9b27(0x254)]=Array[_0x3a9b27(0x944)](_0x5cd1f8)[_0x3a9b27(0x561)](_0x2369af=>_0x2369af[_0x3a9b27(0x8a6)]);const _0x26650c=_0x1f0b21[_0x3a9b27(0xd5b)]('input[type=\x22radio\x22]:checked');_0xc2ea4d[_0x3a9b27(0xa07)]=_0x26650c?parseInt(_0x26650c['value']):0x0;break;case _0x3a9b27(0xb85):_0xc2ea4d['questionText']=_0x4019cf,_0xc2ea4d[_0x3a9b27(0x288)]=_0x1f0b21['querySelector']('.ideal-answer-input')[_0x3a9b27(0x8a6)];break;case'true_false':_0xc2ea4d[_0x3a9b27(0xbdb)]=_0x4019cf;const _0x3af131=_0x1f0b21[_0x3a9b27(0xd5b)](_0x3a9b27(0x4ae));_0xc2ea4d[_0x3a9b27(0x509)]=_0x3af131?_0x3af131[_0x3a9b27(0x8a6)]===_0x3a9b27(0x243):!![];break;case'matching_item':_0xc2ea4d['stem']=_0x4019cf;const _0x17bc87=_0x1f0b21[_0x3a9b27(0xd5b)](_0x3a9b27(0xcc6));_0xc2ea4d[_0x3a9b27(0x707)]=_0x17bc87?_0x17bc87[_0x3a9b27(0x8a6)]:'',_0xeaf199[_0x3a9b27(0xabd)](_0xc2ea4d[_0x3a9b27(0x707)]);break;default:_0xc2ea4d['questionText']=_0x4019cf;break;}return{..._0x363f55,..._0xc2ea4d};});_0xeaf199[_0x575623(0xd2b)]>0x0&&_0x55782f[_0x575623(0x91b)](_0x5e5bee=>{const _0x5dc891=_0x575623;_0x5e5bee[_0x5dc891(0x302)]===_0x5dc891(0x79a)&&(_0x5e5bee['allResponses']=_0xeaf199);});const _0x2aa245=currentEditingQuizData['id'],_0x424a05=doc(db,_0x575623(0x8da)+appId+_0x575623(0xe3e),_0x2aa245);await updateDoc(_0x424a05,{'topic':_0x55c707,'questions':_0x55782f}),document[_0x575623(0x753)]('quiz-editor-modal')[_0x575623(0x33a)][_0x575623(0xbaf)](_0x575623(0x986)),showMessage(_0x575623(0xb39),()=>initiateReGradeProcess(_0x2aa245));}catch(_0x220388){console['error'](_0x575623(0xe3d),_0x220388),showMessage(_0x575623(0xbec));}finally{_0x5d1743[_0x575623(0x5ad)]=![],_0x5d1743[_0x575623(0xd15)]=_0x575623(0x1f7);}}function _0x4f96(){const _0x39b45a=['$1\x5c%','comparison-modal','shortcut-name-input','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','สมการราก\x20(radical)','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','cdot','leaderboard','<div\x20class=\x22p-2\x20rounded-md\x20','modal-confidence-mode-select','touchmove','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','#results-table','save-file-shortcut-btn','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x20ชิ้น)','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','```','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','Error\x20processing\x20file\x20shortcut\x20click:','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','scrollY','ตัวเลือก\x20ง','พิซซ่าหน้าทุเรียน','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-shortcut-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','Error\x20joining\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดูว่าคนอื่นตอบข้อไหนบ้าง\x20(คำเตือน:\x20หากใช้แล้วตอบผิด\x20บทลงโทษคะแนนจะ\x20x2)','เกิดข้อผิดพลาดในการบันทึกลำดับ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<div\x20id=\x22q-image-container-','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','localeCompare','use-powerup-','bank-tab','Error\x20saving\x20quiz\x20edits:','/public/data/quizzes','กำลังดึงข้อมูลจากลิงก์...','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','beforeend','ไม่พบข้อมูลการจับคู่','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','Error\x20updating\x20quiz\x20settings:','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','close-additional-parallel-shortcuts-btn','🛡️\x20ประกันภัย','เข้าตลาดมืดครั้งที่\x202+\x20(ข้อ\x20','</tr>','ลาเต้ไม่หวาน','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x20</div>\x0a\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','onerror','live-player-list','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','text-red-700\x20bg-red-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.topic-category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pairedQuizId','textarea','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','text-emerald-800','_opt0\x22>ใช่</label></div>','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','touchcancel','ไม่สามารถโหลดคลังข้อสอบได้','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','keyup','student-progress','ผ่านฉลุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','duration-300','<i\x20class=\x22fas\x20fa-pen\x22></i>','sync-timer-countdown','/public/data/projects/','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','p-2\x20bg-black/10\x20rounded-md','</span></p>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','scrollIntoView','⚡️\x20ตัด\x201\x20ตัวเลือก','<div\x20class=\x22answer-space\x22></div>','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','fill_in_the_blank','sync','สถานะไม่ชัดเจน','bg-red-500','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','บันทึกการตั้งค่าแล้ว','.bp-unlink-quiz-btn','<div\x20class=\x22mb-3\x20topic-category\x22>','\x20(Player)\x20(ID:\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่ใช่','currentTarget','ไฮเพอร์โบลา','num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','.move-parallel-shortcut-dropdown','justification','\x22\x20class=\x22pin-project-btn\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','ไม่พบแบบทดสอบในระบบเลย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestSubmittedAt','กรุณาสร้างบทเรียนก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.project-card-container[data-id]','bp-project-title','ส่งแล้ว','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','bg-green-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าตลาดมืด','leaderboard_','ลบหัวข้อสำเร็จ','player-list-lobby','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','Error\x20moving\x20quiz:','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','ไม่พบตารางสำหรับ\x20Export','ไม่ผ่าน','หน่วยเวลาและการคำนวณเวลา','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x)','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','233390CvfEcE','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','</label></div>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','คะแนนเต็ม','ลบแบบทดสอบสำเร็จแล้ว','ศิลปิน','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','fill_in_no_choices','โหลดนาน','.start-live-race-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','.delete-question-editor-btn','passing-score-input','commonMistakes','\x22\x20name=\x22question_single\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hint','text/csv;charset=utf-8;','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','.star-quiz-btn','clearRect','ก่อนเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','ปุ่มลัดทั้งหมด','\x20รายการ...','.move-file-shortcut-item','\x20หัวข้อ)','quiz-form','handleGenerateQuizFromBlueprintTopic','close-comparison-modal-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','behavior-log-container','export-worksheet-pdf-btn','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','change','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','globalAlpha','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','Error\x20saving\x20user\x20preference:','multiply','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','0\x200','.quiz-bank-delete-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','นักประดิษฐ์','getBBox','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','.file-shortcut-tab-btn','แผนการสอน','applicationHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','question','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','answer-grid-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ตรวจทานเฉลยเสร็จสิ้น!','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','Error\x20generating\x20worksheet:','remove','export-excel-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','save-shortcut-btn','แผนการสอน:\x20','คะแนนยังไม่ถึงครึ่ง','\x20(สำหรับ\x20','true','comparison-individual-content','Unexpected\x20API\x20response\x20structure:','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','#000000','getItem','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentMode','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','กรุณาเลือกโปรเจคปลายทาง','quiz-search-input','quiz-status-modal','เส้นจำนวน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','options',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','reduce','startsWith','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','ซื้อ\x20\x22','กรุณาพิมพ์คำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','Blueprint\x201','leaderboard-tab-content','(รอคะแนน)','pointermove','nextElementSibling','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','flex','.shortcut-list-item','.start-presentation-list-btn','\x20คน\x20(','โดเมนและเรนจ์','toLocaleString','.shortcut-list-item:not(.opacity-50)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เริ่มกิจกรรม:\x20','player-count','onclick','tan','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','quizType','การแจกแจงปกติและ\x20z-score','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','การประยุกต์เวกเตอร์พื้นฐาน','filter','<tr\x20class=\x22','setItem','ส่งคำตอบ','drop','check-answer-btn','Error\x20in\x20generating\x20from\x20files:','parentElement','text-gray-500','bp-modal-shuffle-setting-select','abs','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','idealAnswer','getContext','\x20แล้ว!','\x20\x0a\x20\x20\x20\x20','จำนวนเต็มบวก','error','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','fixed','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','drill-feedback','<i\x20class=\x22fas\x20fa-save\x22></i>','text-indigo-800','responses.','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','แผนภาพกล่อง\x20(box\x20plot)','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','รีเซ็ตลำดับโปรเจคแล้ว','projectOrder','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','.answers','กำลังอ่านไฟล์\x20Test\x20Blueprint...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','className','docs','การแปลงรูปอัตลักษณ์','lineJoin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blob','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','text-yellow-300','Error\x20starting\x20group\x20quiz:','answeredCurrentQuestion','สมมาตร\x20(แกน/จุด)','powerupUsedThisTurn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','generate-from-blueprint-btn','คนดีศรีสยาม','Error\x20updating\x20pin\x20status:','_opt0\x22\x20name=\x22question','dfrac','cancel-file-shortcut-edit-btn','.save-custom-topic-btn','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','gradeLevel','file-default-2','.status','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.generate-content-btn','.quiz-bank-checkbox:checked','generationConfig','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>แก้ตัว\x20(','attempts','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังเตรียมไฟล์...','bg-[#EF4444]\x20text-white\x20font-bold','scheduled','อัปเดตแบบทดสอบเก่า\x20',')</span></div>','.delete-shortcut-tab-btn','\x5csqrt{$1}','quick_thinker','type','bp-modal-num-questions','#open-additional-parallel-shortcuts-btn','กำลังวิเคราะห์หัวข้อ...','ไม่ได้ตอบ','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x5ctimes','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','กำลังอัปเดตแบบทดสอบ\x20','</button>','substring','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','badgesCount','ไก่ฟ้าพญาลอ','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','use-powerup-insurance','\x20ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','คำถามดิบ:\x20\x22','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','Error\x20adding\x20custom\x20topic:','\x20ตัวเลือก.\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ผู้ไม่ยอมแพ้','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','shortcutIds','เซียนสมองไว','quiz-bank-count','select[name=\x22question_single\x22]','Test\x20Blueprint','.move-file-shortcut-menu-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','จากเนื้อหาต่อไปนี้:\x20\x22','\x20\x20\x20-\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','เงินงวด\x20(อนุกรมเงินงวด)','getDocument','analyze-strengths-btn','total','กำลังเตรียมไฟล์อ้างอิง...','game-start-modal-title','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','lastAnswerCorrect','questionType','ไอรอนแมน','cancel-quiz-bank-btn','slide-counter','.bp-generate-lesson-btn','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','modal-timer-mode-select','newappai.firebasestorage.app','พื้นที่สามเหลี่ยม','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','custom-math-topic-input','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','create-project-modal','.file-topic-selection-btn','enable-passcode-checkbox','list','หยุดระบบจับเวลาหรี่หน้าจอ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','readAsDataURL','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','นักล่าฝัน','ไม่พบเกมที่กำลังเข้าร่วม','standardTopic','Copy\x20command\x20failed','right','file.pdf','mouse','.move-quiz-btn','timed','createObjectURL','แก้ไขชื่อหัวข้อย่อย:','เลือกผู้เล่น\x201\x20คน\x20ให้ถูกบังคับ\x20\x22มั่นใจ\x22\x20ในข้อนี้','print','random','\x22>(','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','border-red-300\x20bg-red-50','passcode-input-container','topic-tab','icon','mixed','text-green-800','questions_only','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','.isJinxed','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','admin-testing','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','back-to-dashboard-btn','scratchpad-controls','คำอธิบาย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','classList','Error\x20committing\x20score\x20updates:','qIndex','ตัวเลือก\x20ก','ใช่','center','tGain','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','underline','open','difficulty-level-select','พบ\x20Sync\x20Game!','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','back-to-dashboard-from-results-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','questionDisplayedAt','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','MathJax\x20typeset\x20error\x20(analytics):','#26890c','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','Error\x20analyzing\x20file\x20for\x20topics:','originalTopic','active','application/pdf','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','resultsDisplay','สมการเชิงเส้นตัวแปรเดียว','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x22\x20data-target-tab-id=\x22','เรขาคณิตวิเคราะห์','shortcutId','live-game','/users/','practice-topic-btn','Error\x20during\x20deep\x20delete:','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','mean','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectId','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','math-topic-search-input','fiftyFifty','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','คัดลอกไม่สำเร็จ','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','submit-team-answer-btn','currentQuestionIndex','การแจกแจงทวินาม\x20(พื้นฐาน)','AI\x20Formula\x20Fix\x20Error:','Error\x20deleting\x20submission:','\x22\x20ออกจากคลังนี้?','ฟังก์ชันแบบชิ้นส่วน','\x20/\x20','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','👻\x20บังคับมั่นใจ','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','lowerGroupNames','lesson-plan-title','global-activity-quiz-list','per_question','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','end-sync-game-btn','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','สมการยกกำลัง','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','ถูกต้อง!','ดีเทอร์มิแนนต์','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','generated',')\x22><span\x20style=\x22','far\x20fa-star','doughnut','quiz-bank-modal','ไม่มี','source_document.txt','empty','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','แม่น้ำ','confidence-mode-container','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','text-gray-700','text-red-600','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบ','Failed\x20to\x20get\x20hint:','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-visibility-settings-btn','modal-confidence-scoring-checkbox','itemId','createdBy','API\x20call\x20failed\x20with\x20status:\x20','text-blue-700\x20bg-blue-100','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ย้าย','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','medium','เลือกผู้เล่นที่จะบังคับ\x20\x22มั่นใจ\x22\x20(ใส่ตัวเลข):\x0a','ครูใหญ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ยอดนักสืบ','jinx','math-topics-checkbox-container','geq','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','Remedial\x20quiz\x20generation\x20failed:','text-yellow-800','pointerdown','ช่างภาพ','webkitExitFullscreen','เกิดข้อผิดพลาดในการอัปเดต:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','Error\x20saving\x20shortcut\x20config:','การคูณเศษส่วน','price','global-quiz-search-input','leaderboard-table-body','#FEF3C7','topic','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x22\x20value=\x22false\x22\x20','Error\x20preparing\x20content\x20quiz:','ทำคะแนนเต็มในการทำครั้งแรก','\x20from\x20sync\x20game:','move-quiz-project-select','Error\x20comparing\x20results:','\x22\x20value=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','separate-by-content-from-file-checkbox','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','redo-btn','use-powerup-cutOne','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','เกมสิ้นสุดลงแล้ว','.move-shortcut-dropdown','ตอบถูกทุกข้อในแบบทดสอบนี้','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','bg-green-100\x20font-bold','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<div\x20class=\x22my-6\x22>','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปคะแนน\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','actions-container-','มี\x20Points\x20ไม่เพียงพอ','projectSortOrder','กราฟฟังก์ชันตรีโกณ','Failed\x20to\x20kick\x20player\x20','touchend','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','gameData','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','ผู้เล่นใหม่\x20','student-list','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','application/json','tool','(ฉบับง่าย)\x20','rgba(79,\x2070,\x20229,\x200.8)','createdAt','attemptNumber','สาระที่\x201','Failed\x20to\x20get\x20standardized\x20topic:','file-topics-list','data','bg-red-100','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','ai-quiz-generator-v3','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerIndex','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','bg-yellow-100','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','สร้างคำถามแบบเติมคำในช่องว่าง','\x27\x20ในหัวข้อ\x20\x27','reference_onet.pdf','ย้ายแบบทดสอบไปโปรเจคอื่น','delete-svg-btn','blueprint-options-container','สรุปผลสุดท้าย','ม้าดีดกะโหลก','.sort-indicator','lesson-sections-container','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','th-TH','เทพทรู','```json','exitFullscreen','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','#ffffff','sync-short-answer-input','contains','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ซื้อเวลา\x20(','</span><span\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการปักหมุด','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนน','get','style','shortcuts','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$$$1$','isScored','frac','Error\x20regenerating\x20question\x20in\x20editor:','handleGenerateAndShowLesson','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','use-powerup-wagerMultiplier','Error\x20generating\x20from\x20parallel\x20test\x20file:','reference-pdf-upload','wheel','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','fa-pen','อสมการค่าสัมบูรณ์','ref','inactive','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','multiple_choice','ทำคะแนนได้เกินครึ่ง','cloneNode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','จิงโจ้สโลว์ไลฟ์','</strong></div>','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','touchstart','requestFullscreen','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','เหมียวขี้เซา','button','link-url-input','commit','use-powerup-poll','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','#DBEAFE','responseSchema','generated-quiz-container','quizId','answering','ไม่พบแบบทดสอบ','3423606VmjOcg','label[for=\x22num-questions\x22]','per-q-countdown','sync-matching-select','select-all-topics-btn','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','.quiz-bank-try-btn','แผนภาพเวนน์','ผ่าน','input[name=\x22drill_answer\x22]:checked','อัตราและอัตราหน่วย','use-powerup-fiftyFifty','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','สร้างคำถามแบบใช่/ไม่ใช่','presentation-short-answer-input','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','back-to-dashboard-from-bp-btn','ธอร์ค้อนบิน','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','คณิตศาสตร์','.scratchpad-content-wrapper','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','stopPropagation','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','เต่าสายฟ้า','blur','จัดการ','\x5cneq','wager-modal','⚡️\x2050:50','removeChild','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','.pen-color-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','กำลังดึงไฟล์อ้างอิงจากลิงก์...','ไอติมทอด','อัปเดตสถานะสำเร็จ','live-options-container','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','เศษส่วน\x20(ย่อ/ขยาย)','กรุณาเลือกคำตอบ','มุมพิเศษ\x2030°-60°-90°','scheduled_pending','.png','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<div\x20class=\x22flex-1\x22></div>','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','</span>','file-upload-input','shortcut_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','getScreenCTM','Error\x20joining\x20team\x20quiz:','setAttributeNS','leq','wasJinxed','บักแตงโม','reference.txt','opacity-50','ระบบสมการเชิงเส้นสองตัวแปร','bg-green-50','แมวเก้าชีวิต','เศรษฐีดูไบ','กรุณาเลือกคำตอบก่อนครับ','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','จำนวนนักเรียน','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','selectedTopicNames','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','กรุณาเลือกชื่อของคุณ','insertAdjacentHTML','Failed\x20to\x20generate\x20lesson:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.live-answer-btn,\x20#sync-submit-btn','Error\x20deleting\x20project:','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','lesson-plan-content','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','bg-emerald-100','opacity','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','student-progress-content','generate-from-link-btn','input[type=\x22radio\x22]:checked','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','สร้างชุดคำถามจับคู่','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','Error\x20saving\x20to\x20question\x20bank:','application','student-quiz-leaderboard-tab','open-global-live-btn','ชาไข่มุก','Error\x20saving\x20reference\x20URL:','</span></div>','preTScore','.delete-submission-btn','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','indexOf','fix-lesson-latex-btn','visibilityState','block','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','earned-badges-container','q-image-container-','sync-player-management','pdf','behavior-log','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','/submissions','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','<p\x20class=\x22text-xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x20to\x20','lesson-view-modal','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','verify-answers-btn','เข้าตลาดมืดครั้งแรก\x20(ข้อ\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.use-hidden-shortcut-btn','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','Error\x20listening\x20for\x20projects:','sync-player-list','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน\x20','</p><div>','%</span>','<button\x20data-shortcut-id=\x22','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','delete-all-students-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','show-in-student-dashboard-checkbox','log','bp-topic-list-container','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','กฎบวกและกฎคูณ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','fixedData','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','timerDuration','user-id-display','เน็ตไอดอล','start-sync-game-btn','คณิตการเงิน/บูรณาการ','forceConfident','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','ยืนยันและอัปเดตทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','show_results_only','isPinned','เกิดข้อผิดพลาด','studentName','password-error-msg','\x20mr-2\x22></i>','Error\x20updating\x20project\x20name:','.parallel-shortcut-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','offset','เกิดข้อผิดพลาดในการลบแบบทดสอบ','nickname-input','.pen-size-btn','parallel-shortcut-id-input','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','memoryContent','correctAnswer','bg-teal-500\x20hover:bg-teal-600\x20text-white','pen-tool-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','newOptionsPayload','cancel-quiz-edits-btn','ON_FIRE','isAdaptive','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','max','ข้อต่อไป','quiz-leaderboard-table-container','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','num-choices','link-tab','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','toDataURL','join-live-game-btn','globalSettings','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','grabbing','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','ไม่พบข้อมูลหัวข้อที่จะบันทึก','quiz-results','rgba(239,\x2068,\x2068,\x200.7)','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','blueprint-input-area','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','dragend','กระต่ายตื่นตูม','not-found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','Error\x20deleting\x20shortcut:','\x22\x20ให้เป็นคำถามประเภท\x20\x22','link-input-area','การคูณ','การกระจายและการจัดหมู่','cancel-wager-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','แบบทดสอบฝึกฝนเรื่อง:\x20','⏳\x20ซื้อเวลา','Error\x20generating\x20parallel\x20post-test:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','คาถาแยกเงาพันร่าง','progress-project-select','.edit-quiz-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','นอนไม่พอ','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','file-shortcut-editor-modal','padStart','เปลี่ยนชื่อโปรเจคสำเร็จ','shadowBlur','เลือกและเริ่มสร้าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','close-game-final-btn','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','Error\x20showing\x20quiz\x20detail\x20view:','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','onloadend','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','sqrt','reference.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','export-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กลุ่ม:\x20','กำลังอ่านไฟล์อ้างอิง...','onload','isArray','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พีชคณิตและฟังก์ชัน','some','map','copy','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','onchange','หมูกระทะจะเยียวยาทุกสิ่ง','\x20ข้อ\x20','pen','<h1></h1>','Error\x20fetching\x20projects\x20for\x20move:','backgroundColor','svg','comparison-overall-content','input[name=\x22syncVariant\x22]:checked','save-game-results-checkbox','showAnswerInAnonymous','subTopic','shouldSaveResults','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','group','lesson-loader','buyTime','quiz-id-input','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','เกิดข้อผิดพลาดในการลบโปรเจค','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','ค.ร.น.\x20(LCM)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','ผู้เชี่ยวชาญ','.quiz-bank-present-btn','round','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','target','podium','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','anonymous','text-green-600\x20font-bold','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','</li>','.totalPoints','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','body','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','.delete-file-shortcut-tab-btn','left','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','-options','.shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','file-tab','arrayBuffer','ดอกเบี้ยทบต้น','Error\x20fetching\x20quiz\x20settings:','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','ผลรวมอนุกรม\x20(Σ)','slice','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x0a---\x0a','เกิดข้อผิดพลาดในการใช้ตัวช่วย','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','disabled','\x20ตัวเลือก)','newOptions','.remove-parallel-shortcut-from-tab-btn','parse','temp-loader-text-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','(^|[^\x5c\x5c])\x5cb','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจคะแนนใหม่\x20','answer','answerText','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','แท็บใหม่','<li\x20class=\x22','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','export-lesson-pdf-btn','New\x20question\x20detected.\x20Clearing\x20powerup\x20flags.','ผู้เล่น\x20','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','date_desc','modal-timer-duration-container','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','file-input-area','เกิดข้อผิดพลาดในการลบหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-grade-level','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','.confidence-choice-btn','สมการลอการิทึม','confirm-manual-bp-btn','team-student-list','การยืนยันตัวตนล้มเหลว','dimmed','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.quiz-settings-btn','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','comparison-chart','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','</a>','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','all','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','bulk-confidence-scoring-checkbox','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','split','analytics-tab-btn','Failed\x20to\x20refund\x20powerup:','อัศวินรัตติกาล','input[name=\x22syncVariant\x22][value=\x22classic\x22]','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','projectName','สร้างคำถามใหม่\x201\x20ข้อ\x20','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','bg-green-400\x20text-white\x20font-bold','market-current-points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','นักกีฬา','width\x2060s\x20linear','text/html','\x22\x20name=\x22question','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','wakeLock','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','.eraser-size-btn','สรุปผลการวิเคราะห์:\x5cn','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','cancel-rename-quiz-btn','bg-red-100\x20text-red-800','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','การลบทศนิยม','ลิมิต','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','เกิดข้อผิดพลาดในการสร้าง:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','NEGATIVE_INFINITY','label','dashboardConfig','สำหรับโปรเจค:\x20','survivor','ฟังก์ชันเชิงเส้นและกราฟ','จันทร์เจ้า','จำนวนและการดำเนินการ','Error\x20processing\x20shortcut\x20click:','projectSort','insurance','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab-content','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','text-red-500\x20hover:text-red-700','เกิดข้อผิดพลาดในการอัปเดตสถานะ','#D1FAE5','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','querySelectorAll','scrollHeight','กรุณาใส่ชื่อโปรเจค','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','</div>\x0a</div>\x0a','display','sync-timer-enable-checkbox','wasConfident','check-presentation-answer-btn','modal-results-display-select','export-word-btn','</div>','\x20mx-1\x20text-lg\x22></i></span>','update-old-quizzes-btn','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อโปรเจคห้ามว่าง','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','แบบทดสอบ:\x20','bg-[#DCFCE7]\x20text-green-900','analytics-summary-cards','open-scratchpad-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','complexityValue','analytics-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','ไม่ใช่\x20/\x20ผิด','.toggle-actions-btn','confidence-modal','translate','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','order','comparison-individual-tab','\x20(p=','quiz-generation-area','close-additional-shortcuts-btn','ระยะเวลา\x20(วินาที):','text-purple-600','admin-password-modal','[data-field=\x22subTopic\x22]','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','Error\x20starting\x20game:','เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)','Error\x20editing\x20topic:','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','confirmation-message','file-shortcut-name-input','classStrengths','\x20กลับเข้าสู่เกม!','#confidence-input-','\x0a\x20\x20\x20\x20','.copy-quiz-id-list-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','file-default-1','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','lowerGroupResponders','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','scratchpad-close-btn','quiz-editor-questions-container','จำนวนคละ','ราชาคัมแบ็ก','</body></html>','sync-timer-bar','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','presentation-explanation','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','pointsLastQuestion','AI\x20did\x20not\x20return\x20any\x20content.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','9eAcGPS',';\x22\x20data-id=\x22','export-pdf-btn','replaceChild','originalQuestionText','members','นกฮูกกลางวัน','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onblur','answers','topic-quiz-bank-modal','.summary-bar-item','Error\x20saving\x20game\x20results:','onkeydown','confirm-join-game-btn','unshift','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-duration-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','.project-card-content','.quiz-status-btn','</div></div></div>','แก้ไขหัวข้อสำเร็จ','highlighter','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','groups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cos','quiz','text-blue-800','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','worksheet-input-area','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','shortcut-modal-title','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','<p><strong>คำตอบที่แนะนำ:</strong>\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','ย้ายแบบทดสอบสำเร็จ','json','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่มีผู้ตอบตัวเลือกนี้','show-results-btn','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','finished','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','รูปสี่เหลี่ยมและสมบัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20deleting\x20all\x20students:','-tab','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','(ไม่มีชื่อ)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','index','sync-submit-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','student-result-area','open-quiz-bank-btn','topic-bank-list','classWeaknesses','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','#add-question-editor-btn','คำเตือน\x20(','summary','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','#E5E7EB','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','ข้าวมันไก่พิเศษ','bg-gray-100\x20opacity-70','start-game-btn','ความน่าจะเป็นแบบมีเงื่อนไข','move','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x20link(s)\x20for\x20quiz\x20ID:\x20','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','บันทึกการตั้งค่าสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','main-correct-answer-display','leaderboard-tab','modal-close-btn','bp-modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','บันทึกการแก้ไข','ไม่สามารถบันทึกการตั้งค่าได้','Error\x20in\x20handleApiCall:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','เส้นตรง:\x20ขนาน/ตั้งฉาก','toLowerCase','contentEditable','show_results_and_answers','additional-shortcuts-modal','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','newappai','<div\x20class=\x22loader\x20mx-auto\x22></div>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','highlighter-tool-btn','\x5cfrac{$1}{$2}','\x20ชุดสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stringify','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','false','stepByStepExamples','perseverance','contents','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','powerupUsed','พบข้อสอบ\x20','pinned-items','update','copy-quiz-id-btn','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','Failed\x20to\x20create/update\x20submission\x20record:','เกิดข้อผิดพลาดในการติดดาว','.score','ฟังก์ชันกำลังสองและกราฟ','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','😈\x20คำสาป\x20(Jinx)','project-title','delete','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','quiz-settings-modal','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','jspdf','รูปหลายเหลี่ยมและมุมภายใน','correctResponse','topics.','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h4>','\x20วินาทีสำหรับข้อนี้','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','btn','reveal-names-btn','Error\x20displaying\x20question\x20bank:','Error\x20saving\x20parallel\x20shortcut\x20config:','size','selected-answer-index-hidden-wager','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','true_false','เพิ่มปุ่มลัดใหม่','เลือกผู้เล่นที่จะ\x20\x22สาป\x22\x20(ใส่ตัวเลข):\x0a','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','add-parallel-shortcut-tab-btn','ยังไม่ส่ง','decode','การจัดกลุ่มข้อมูล','blueprint-settings-modal','workerSrc','การปัดเศษและประมาณค่า','rows','isBlackMarketEnabled','/public/data/syncGames','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','points','รูปแบบการให้เหตุผล','.color-palette-popup','กฎของไซน์','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','temp-loader-results','parallel-shortcut-editor-modal','destroy','onSecondChance','specialist','cancel-delete-btn','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','endTime','key','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','ผู้พิชิตดาว','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','usedPoll','tfrac','pop','blueprint-topics-list','cancel-global-activity-btn','confirm-delete-btn','modal-loop-until-pass-checkbox','prod','\x22><i\x20class=\x22fas\x20','admin-view','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27jinx\x27.','ondblclick','confirm-game-start-modal','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','isRemedial','replace','rgba(79,\x2070,\x20229,\x201)','reveal-answer-btn','schedule','</div></div>','webkitRequestFullscreen','pinnedProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-container','getElementById','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','end-team-quiz-btn','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','answer-counter','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','</h3>','lesson-view-title','passcode','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','/public/data/quizzes/','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-50','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในหัวข้อหลักใด:','text/plain','results-table','modal-timer-duration-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pow','\x22>จาก:\x20','ไม่สามารถโหลดข้อมูลอันดับได้','#FFFFFF','powerupUsed_q','lastAnswerIndex','bg-blue-500\x20hover:bg-blue-600\x20text-white','post-test','create-project-btn','กำลังสร้างแบบทดสอบจากหัวข้อ...','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','.ideal-answer-input','kick-player-btn','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','ปิดระบบมั่นใจ\x20และเปลี่ยนเป็น\x20\x22เดิมพัน\x22\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x\x20ที่เดิมพัน)','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','selected-answer-index-hidden','visibilitychange','line-through\x20text-red-700','loop-until-pass-checkbox','\x20(\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','cancel-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','players.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','เกิดข้อผิดพลาดในการแก้ไข','lastIndexOf','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เพิ่มรายการที่เลือก','parallel-default-','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','isNormalTopic','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','color','บันทึกโปรเจค\x20\x22','ยกเลิกการจับคู่สำเร็จ','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','สร้างแบบทดสอบ','num-choices-container','button[type=\x22submit\x22]','text-gray-300\x20hover:text-white','allResponses','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','matching_item','.edit-custom-topic-btn','top','ondragstart','ลำดับเรขาคณิต\x20(GP)','lineWidth','additional-file-shortcuts-modal','mode','subTopics','.ai-content\x20li','\x22,\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','.bp-present-btn','adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','.compare-results-btn','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','.lastAnswerCorrect','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','topics','ไม่ระบุ','ดาวสภา','passcode-prompt-message','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','file-shortcut-tabs-nav','Error\x20deleting\x20student:','confidence-scoring-description','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','bp-add-topic-btn','shuffle','ลบผลสอบของ\x20','open-blueprint-projects-btn','hiddenOptions_q','<p\x20class=\x22','การหาร','input[name=\x22syncVariant\x22]','ลำดับการดำเนินการ\x20(PEMDAS)','enable-black-market-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','กรุณากรอกข้อมูลให้ครบทุกช่อง','scores-tab-btn','pollUsedThisTurn','cancel-game-start-btn','กำลังอ่านและเตรียมไฟล์...','close-lesson-plan-modal-btn','fas\x20fa-star\x20text-yellow-500','pointerType','.topic-actions-edit','add-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','students','project-passcode-modal','<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','bg-gray-200\x20text-gray-700','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','#parallel-shortcut-tabs-nav\x20.tab-name-input','text-red-800','data:application/vnd.ms-word;charset=utf-8,','candidates','cancel-bp-settings-btn','ชื่อหัวข้อห้ามว่าง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','save','shuffleSetting','<button\x20data-id=\x22','uid','reset-view-btn','close','#open-additional-shortcuts-btn','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','file-shortcut-id-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','div','กำลังสร้างแบบทดสอบ:\x20','</select>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','.delete-hidden-shortcut-btn','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</form>','find','เกิดข้อผิดพลาดในการส่งคำตอบ','คุณไม่มีไอเทมนี้ในคลัง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','generate-from-text-btn','.bp-create-topic-quiz-btn','startedAt','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20API.','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','anon-show-answer-toggle','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','hasPerfectScoreBonus','questions','เพิ่มปุ่มลัดจากไฟล์ใหม่','removeItem','grid','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังจับคู่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','Error\x20loading\x20quiz\x20for\x20student:','applicationContent','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','confirm-wager-btn','.shortcut-tab-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','input[type=\x22text\x22]','<button\x20id=\x22use-powerup-poll\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>สถิติ\x20(','516499432840','difficultyValue','\x22\x20class=\x22color-palette-btn\x20','<div\x20class=\x22space-y-4\x22>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','No\x20player\x20data\x20to\x20save.','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','.doc','draggable-text','questionIndex','student-team-join','<div\x20class=\x22my-2\x22>','score-distribution-chart','student-back-to-home-btn','#results-table\x20thead\x20tr','team-quiz-topic','):\x20','additional-parallel-shortcuts-list','game-start-mode','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','confident','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','.question-editor-item[data-q-index=\x22','perfect_score','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','bg-red-500\x20text-white\x20font-bold','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','manual-create-blueprint-btn','ฮัลค์','ยอดเยี่ยม','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','fromCharCode','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','พลังคลื่นเต่า','preventDefault','tabId','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเอกสารการส่งงานของ\x20','file-topic-input','export-leaderboard-excel-btn','referenceUrl','toISOString','กรุณาเลือกคำตอบของกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-user-astronaut\x20text-blue-700','นักเขียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','ไม่สามารถสร้างโปรเจคได้','</p>','url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','Error\x20saving\x20file\x20shortcut:','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','save-quiz-edits-btn','half_mark_status','parseInline','.powerups.','element','flex\x20flex-col\x20gap-2','project-detail','game-pin-input','ใช้\x20\x22คำสาป\x22\x20กับ\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','Error\x20verifying\x20answers\x20in\x20editor:','explanation','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','setFont','<button\x20id=\x22use-powerup-jinx\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>👻\x20คำสาป\x20(','นักดนตรี','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-shortcut-container','404\x20Not\x20Found','getTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','isDefault','_blank','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','save-quiz-btn','devicePixelRatio','...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ปวดหลัง','hasOwnProperty','Error\x20deleting\x20quiz:','มังกรกินจุ','.isScored','สลับไปโหมดผู้ควบคุม','จำนวนข้อ:','MathJax\x20re-render\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab-content','การหารทศนิยม','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','bg-green-200\x20text-green-800','timer-duration-label','floor','modal-timer-duration-label','beginPath','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','.move-file-shortcut-dropdown','ถูก','12OnHECe','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bank-quiz-list','close-lesson-view-btn','keydown','\x5cge','Error\x20toggling\x20pin\x20status:','buy-time-quantity-input','stroke','.bp-create-content-quiz-btn','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','save-bp-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-project-name','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','parallel-test-tab','sync-manage-players-btn','clientX','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','splice','value','ก้อนเมฆ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','Error\x20listening\x20for\x20custom\x20math\x20topics:','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','back-to-student-home-btn','submissions','set','grid-view-btn','หมีขั้วโลกใต้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-green-700','เส้นตรง:\x20รูปแบบสมการ','</p><p><strong>เฉลย:</strong>\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','whole_quiz','จำนวนคู่:','\x22.\x20Ideal\x20Answer:\x20\x22','quiz-end-time','Could\x20not\x20fetch\x20reference\x20file:','has','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-shuffle-select','code','<span\x20class=\x22font-bold\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','border-indigo-500\x20text-indigo-600','shadowColor','...\x22)?','ความต่อเนื่อง','Error\x20updating\x20project\x20color:','correct','student-quiz-topic','toLocaleDateString','โจรสลัดอวกาศ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-choice-btn','bg-green-500\x20hover:bg-green-600\x20text-white','\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','ตรวจพบการออกจากหน้าจอครบ\x20','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พื้นที่สี่เหลี่ยม','ห.ร.ม.\x20(GCD)','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','artifacts/','outerHTML','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','.linkedQuizIds','นินจาชาเขียว','first_try_ace','fa-bolt\x20text-blue-500','ปริพันธ์ไม่จำกัด','topic_','confirm-rename-quiz-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','applicationData','ปรับเพิ่ม/ลดเป็นร้อยละ','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ลบโปรเจค\x20\x22','.auto-resize-textarea','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','loopUntilPass','show-final-results-btn','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','Failed\x20to\x20resume\x20game\x20session:','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','Blueprint\x20O-NET\x20ป.6','separate-by-content-checkbox','Error\x20submitting\x20team\x20answer:','save-bp-reference-btn','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','ซามูไรสายเดี่ยว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','student-project-leaderboard-content','progress-student-select','Error\x20updating\x20quiz\x20status:','กรุณาตั้งชื่อแท็บใหม่:','shortcut-id-input','content','[data-topic-id]','per-question-text','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','parentNode','toDate','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','file-shortcut-url-input','additional-file-shortcuts-list','การหารเศษส่วน','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','sara','.delete-parallel-shortcut-btn','add-shortcut-tab-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','input[type=\x22checkbox\x22]','referenceFileUrl','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','ตะวันฉาย','bg-white','ต้นฉบับ\x202','.draggable-text','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','startTime','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x20จาก\x20','630937cTJyMP','warn','\x22><span\x20style=\x22','ฟังก์ชันราก\x20(root)','keyConcepts','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','Error\x20saving\x20parallel\x20shortcut:','รายการนี้','รหัสไม่ถูกต้อง','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','back-from-results-btn','ownerSVGElement','<div\x20style=\x22','\x20pointer-events-none\x22>','restore','confidence-scoring-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','close-topic-bank-btn','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','topic-input','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','จากไฟล์ที่แนบมานี้,\x20','scratchpad-canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20สำเร็จ','overallGroups','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>50:50\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isStarred','<svg','behaviorLog','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','list-view-btn','(ก่อนเรียน)','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','📊\x20สถิติการตอบ\x20(จากผู้เล่นที่ตอบแล้ว):\x0a\x0a','numQuestions','playerName','from','Error\x20generating\x20easy\x20version\x20quiz:','timer-mode-select','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','0\x20(รอโบนัส)','promise','undo-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','ยังไม่สร้าง','1:516499432840:web:7b2a9a571fad2e3d68463d','border-red-700','global-activity-modal','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','.edit-shortcut-btn','มัธยฐาน','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','close-student-rankings-btn','<option\x20value=\x22','100%','admin-dashboard','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','dispatchEvent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','bestScore','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','.bp-live-btn','strength-weakness-analysis-container','none','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','memory','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','perfect_score_status','Error\x20pairing\x20quizzes:','stdDev','pointContent','.edit-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reveal_at_end','groups.','string','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','AI\x20request\x20was\x20blocked.\x20Reason:\x20','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','lobby','การบวกเศษส่วน','\x22\x20data-q-type=\x22','บทเรียน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#file-shortcut-tabs-nav\x20.tab-name-input','<br>','results_','moveTo','bulk-results-display-select','not_generated','pin','.cancel-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','กำลังสแกนหาแบบทดสอบเก่า...','แบตหมด','.space-y-1.pl-4','parent','summaryContent','hidden','???','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไป\x20','typesetPromise','quiz-leaderboard-table','สร้างใหม่','scratchpad-header','status','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','fill_in_with_choices','ใช่\x20/\x20ถูก','#10B981','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-parallel-shortcut-edit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','.topic-actions-view','add-parallel-shortcut-btn','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','.topic-row','(กำลังไล่ตาม)','results-quiz-id-display','กำลังสร้างรูปภาพ...','getElementsByTagName','แบบทดสอบจากคลังส่วนตัว','manage','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','cursor','บันทึกผลการเล่นเกมของ\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','firstScore','bp-modal-include-images-checkbox','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่มของคุณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','confidenceMode','border-green-300\x20bg-green-50','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead\x20.sortable-header','stem','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','cancel-export-pdf-btn','submittedAt','document','ARRAY','</span></td>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20',')</button>','ความแปรปรวน','Error\x20generating\x20from\x20link:','previousElementSibling','ทฤษฎีทวินาม\x20(เบื้องต้น)','text-tab','red','เกมเมอร์','quiz-results-table-body','lesson-loader-text','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','bg-red-50','หลังเรียน','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','scratchpad-options','parallel-shortcuts-loading-msg','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sin','back-to-project-btn','$1\x20\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','md:col-span-3','ทฤษฎีบทพื้นฐานของแคลคูลัส','.csv','N/A','topic-input-area','Error\x20clearing\x20linked\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rename-quiz-input','message','BOOLEAN','next-drill-btn','</th>','save-blueprint-as-project-btn','.delete-bp-project-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','open-sync-scratchpad-btn','input[name=\x22status-option\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','สุดยอด!\x20ตอบถูกทุกข้อ','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','timerMode','bg-amber-100\x20text-amber-800','min','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','ในข้อนี้\x20ถ้าคุณตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','prev-question-btn','badges','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','wasForced','bulk-confidence-mode-select','close-presentation-btn','black-market-settings-container','focus','2-digit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-default-1','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ใหม่...','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','export-pdf-modal','every','\x22.\x20','ฐานนิยม','correctAnswerIndex','add-from-global-bank-btn','[data-topic-id=\x22','bg-yellow-200','คู่จิ้น',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20x','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','teacherTips','values','countdown-display','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','mjx-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.unpair-quiz-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','text-green-700\x20bg-green-100','ดอทโปรดักต์\x20(dot)','มูเตลู','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','fileShortcutsConfig','default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','bp-modal-num-choices','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','quizMode','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','Error\x20adding\x20topic:','ผิด','<button\x20id=\x22use-powerup-forceConfident\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>บังคับมั่นใจ\x20(','การจัดหมู่\x20(Combination)','Attempting\x20to\x20save\x20game\x20results...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','times','submit-group-answer-btn','dim-overlay','mousemove','editable-text-','translate(','text-content-input','ค่าความจริง/ตารางค่าความจริง','Error\x20clearing\x20all\x20links:','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','ติดซีรีส์','คุณแน่ใจว่าต้องการลบแท็บนี้?','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','transformOrigin','touches','อินเวอร์สของเมทริกซ์','\x20กลุ่ม</p></div>','quadraticCurveTo','.tab-name-display','3620624ySDSRy','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','.answered','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','ท็อปฟอร์ม','autoTable','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','กรุณาเลือกไฟล์ก่อน','shortcut-editor-modal','<div>','request','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-[#4ADE80]\x20text-green-900\x20font-bold','blueprintUrl','ไม่สามารถโหลดรายการโปรเจคได้','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','.buy-item-btn','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','bp-quiz-settings-btn','\x22\x20name=\x22drill_answer\x22\x20value=\x22','scrollX','\x22\x20data-name=\x22','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lower_group_count','<li>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','canvas','.ai-content\x20h3','hint-btn','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.move-shortcut-menu-btn','file-default-','เงาปริศนา','solution','smooth','/public/data/practiceBank','finishReason','loader-text','bg-yellow-300\x20text-yellow-900\x20font-bold','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lesson-plan-modal','เนื้อหาสำหรับสอน:\x20','\x20จุด','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','</td>','https://drive.google.com/uc?export=download&id=','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ทั้งหมด','fileShortcutOrder','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','PERSEVERANCE','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','generated-quiz-actions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','project-id-display','game-start-quiz-id','powerups','ศูนย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','instructions','settings','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','end-game-btn','สายตาสั้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','afterend','scratchpad-modal','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','cancel-confidence-btn','</strong></p>','click','Error\x20saving\x20submission:','พื้นที่วงกลม/ส่วนของวงกลม','<div\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','</option>','ไฟล์ลัด\x202','scratchpad-question','export-compact-pdf-btn','playerIndex','<option\x20value=\x22\x22>กำลังโหลด...</option>','cancel-quiz-edits-btn-footer','.delete-hidden-parallel-shortcut-btn','.generate-post-test-btn','\x20สำเร็จ!','Error\x20creating\x20project:','4477788yQlrpw','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-blue-100\x20text-blue-800','clear-all-links-btn','fa-shield-alt\x20text-gray-600','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','สู้ๆ\x20ลองอีกครั้งนะ','.presentation-option','catch','manual-bp-content','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เพิ่มหัวข้อ\x20\x22','push','.bp-create-onet-quiz-btn','Error\x20deleting\x20custom\x20topic:','loader','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x20quizzes\x20into\x20global\x20cache.','write','Market\x20entry\x20payment\x20failed:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','bp-reference-file-url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','49646152pVBvkb','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','ฮิสโตแกรม','timeBonusThisQuestion','student-name-select','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','confidence_single','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','หัวข้อหลักใหม่','เกิดข้อผิดพลาดในการสร้างใบงาน','ข้อ\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','ส้มตำปูปลาร้า','add-shortcut-btn','API\x20Error\x20Response:','results','isJinxed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','blueprint-project-manager-view','cancel-shortcut-edit-btn','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','save-project-name-btn','analytics','นักวิทยาศาสตร์','แก้ไขข้อนี้','confirm-passcode-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-parallel-btn','\x22\x20value=\x22true\x22\x20','ฟังก์ชันค่าสัมบูรณ์','Error\x20resetting\x20project\x20order:','file-shortcut-modal-title','ไม่พบไฟล์\x20Test\x20Blueprint','scores-tab-content','ภูเขา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','#E0E7FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pen-tools-group','.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','bulk-quiz-settings-modal','isPasscodeEnabled','.txt','ทะเล','<div><input\x20type=\x22radio\x22\x20id=\x22q','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20team\x20quiz:','sort','newappai.firebaseapp.com','ร้อยละพื้นฐาน','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','text-red-700','close-additional-file-shortcuts-btn','shortcutTabs','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเชิงซ้อน\x20(เสริม)','text-green-600','team','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','กิจกรรมสิ้นสุดลงแล้ว','close-lesson-plan-modal-footer-btn','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','text-emerald-900','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','line-height:\x201.3;\x20min-width:\x200;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','แคลคูลัสเบื้องต้น','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','comparison-overall-tab','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','อัปเดตพฤติกรรมสำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','overflowY','.use-hidden-parallel-shortcut-btn','-options\x22>','<span\x20title=\x22','default','bar','bg-green-200\x20text-green-900\x20font-bold','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','realScore','sum','question-complexity-select','poll','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x202','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','responses','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseleave','Error\x20fetching\x20student\x20rankings:','behavior-log-tab-btn','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','point','แบบทดสอบซ่อมเสริม','.project-card-container','score','per-question-options','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','เสือซ่อนเล็บ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lessonPlan','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x22\x20data-pre-test-id=\x22','Error\x20saving\x20lesson\x20to\x20project:','promptFeedback','\x22...','.question-editor-item','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','save-parallel-shortcut-btn','.group','/public/data/teamQuizzes','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-item','.sortable-header','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','presentation-scratchpad-btn','.ai-fix-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','viewBox','bg-red-700\x20text-white\x20font-bold','not_confident','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','normal','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ระยะเวลา\x20(นาที):','เปลี่ยนชื่อแบบทดสอบสำเร็จ','/preferences/main','question-analytics-container','Error\x20saving\x20quiz:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','Firebase\x20initialization\x20failed:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอ...','submission-status-chart','numChoices','กำลังสร้างคำถามข้อ\x20','message-modal','ไม่พบโปรเจค','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','Error\x20joining\x20activity:','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','name_desc','/studentProfiles','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','msExitFullscreen','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','sync-timer-duration-container','presentation-ai-result','%)\x0a','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','.edit-hidden-shortcut-btn','open-market-btn','modal-adaptive-quiz-checkbox','topic-bank-subtopic-name','parallel-default-2','\x20เข้าร่วมกลางเกม','parallelTestShortcutsConfig','auto','short_answer','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea[name=\x22team_answer\x22]','Error\x20updating\x20old\x20quizzes:','กำลังโหลดคลังข้อสอบทั้งหมด...','SAFETY','word-break:\x20break-all;','appendChild','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','file-topics-list-container','shortcutOrder','comparison','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','file-shortcut_','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','cancel-test-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-summary-tooltip.visible','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','อกหัก','quiz-type-select','suggestedAnswer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.isForcedConfident','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','bulk-loop-until-pass-checkbox','pointercancel','starred','dragstart','select','bg-green-100','text','parallel-test-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','results-quiz-title','height','mainTopics','add','\x20จุดเรียบร้อยแล้ว','showRankings','back-to-home-manual-release','.generate-lesson-btn','คำถามถัดไป','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','leaderboard-quiz-tab-btn','confidence','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','width','Error\x20analyzing\x20blueprint\x20topics:','สเกลและแผนที่','ฟังก์ชันยกกำลัง','แปลงร่าง','match','user','การสร้างรูปด้วยวงเวียน–สันตรง','<button\x20id=\x22','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','Error\x20updating\x20sort\x20preference:','now','text-blue-700','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','timestamp','Error\x20saving\x20visibility\x20settings:','\x22\x20จำนวน\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','title','ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','bg-black/20','.ideal-answer-input,\x20.correct-response-input','leaderboard-quiz','toString','\x5cdiv','desc','keys','shuffledQuiz','shuffle-setting-select','circ','findIndex','questionText','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','#e21b3c','textContent','<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>💰\x20เดิมพัน\x20(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','OBJECT','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','ป่าไม้','newCorrectIndex','ไม่พบข้อมูลผู้ใช้','Error\x20rendering\x20student\x20progress:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElementNS','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(ตามมาติดๆ)','isAnonymousRevealed','classic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','project-search-input','confirm-game-start-btn','no-projects-msg','bp-modal-difficulty-level-select','selected-topics-count','bg-black/10','student','substr','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','student-view','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.duplicate-quiz-btn','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเท่ากันทุกประการของสามเหลี่ยม','ตารางความถี่','แบบทดสอบนี้ปิดใช้งานอยู่','goto-next-question-btn','confirm-link-quiz-btn','<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>','txt','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','export-tutor-pdf-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','ข้อที่\x20','s;\x22\x20title=\x22','incorrect','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','MathJax','.move-parallel-shortcut-menu-btn','wagerMultiplier','student-reading-area','Error\x20saving\x20blueprint\x20project:','players','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x20Points)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','กรุณาป้อนหัวข้อสำหรับใบงาน','fadeStartTime','helvetica','.regenerate-question-btn','totalQuestions','file-shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-topic=\x22','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','results-tab','Team\x20Quiz','#F3E8FF','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','position','text-white','):\x20เสีย\x201P','admin-password-input','strokeStyle','กุ้งเต้นแร้งกา','.kick-player-btn-sync','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','source-over','imageCode','date_asc','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','.pin-project-btn','กำลังสร้างบทเรียน:\x20','start-quiz-btn','mode-switcher-btn','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คัดลอกรหัสแล้ว!','live-race','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ประกันภัย\x20(','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','blueprint-project-list','รอผู้ควบคุมไปข้อต่อไป...','/public/data/customMathTopics','market-timer-bar','\x20mb-2\x22>','timer-duration-container','\x20รายการสำเร็จ!','answered','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','dragover','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','cancel-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','playerNicknames','questionStatus','การวัด','border-gray-200','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','project-list','circle','pointer-events-none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','use-powerup-secondChance','both','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','fa-rocket\x20text-purple-500','มุมพิเศษ\x2045°-45°-90°','คัดลอกแบบทดสอบสำเร็จ','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','มือปราบสายรุ้ง','isConfidenceScoringEnabled','โลมาบิน','confirm-admin-login-btn','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-200','blueprintShortcuts','</tbody></table>','.verification-result','/public/data/liveGames','name','results-table-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','Error\x20during\x20blueprint\x20link\x20cleanup:','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','transition','.verification-result-editor','\x20รายการ\x20สำเร็จ!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-display-select','---\x20[คำถามใหม่]\x20---','presentation-slide-container','curriculum','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','mousedown','เรขาคณิต','files','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','cutOne','bg-gray-400','entries','gain','รอเปิด','bp-modal-question-complexity-select','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','interesting-stats-container','scores','rgba(255,\x20255,\x200,\x200.5)','bg-gray-50','results-tab-content','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','จอมเวทย์ขนมหวาน','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','bg-gray-500','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','transition-all','exists','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','href','⏳\x20ซื้อเวลาสำเร็จ!\x20คุณได้รับเวลาเพิ่ม\x20','</p></div>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!</div>','COMEBACK_KING','cancel-passcode-btn','trail','เปิด\x20(จับเวลา)','download','fas\x20fa-bookmark','Error\x20duplicating\x20quiz:','rgba(59,\x20130,\x20246,\x200.7)','submission','(เลือกแล้ว\x20','competition','items','.ai-fix-formula-btn','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','.highlighter-color-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','next-sync-question-btn','อัตราการเปลี่ยนแปลงทันที','.game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-2\x20justify-center\x20items-center\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x22></i>\x20ตลาดมืด\x20(มี\x20','ความชันและเส้นตรง','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','แบบทดสอบนี้หมดเวลาแล้ว','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','input[type=\x22radio\x22][value=\x22','option','#F59E0B','#6366F1','ตัวประกอบและตัวประกอบเฉพาะ','.correct-response-input','student-team-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','practiceProblems','link-topic-input','add-student-btn','text-gray-100','image/png','Error\x20loading\x20user\x20preferences:','authed_project_','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','file.txt','Enter','short','<p\x20class=\x22font-bold\x20text-sm\x20','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','ออฟฟิศซินโดรม','Error\x20processing\x20parallel\x20shortcut\x20click:','manual-blueprint-modal','ตรีโกณมิติ','parallel-shortcut-name-input','ondragend','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-indigo-600','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-table-body','confirm-quiz-status-btn','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>','<i\x20class=\x22fas\x20fa-magic\x22></i>','input[name=\x22team_player\x22]:checked','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','parseFromString','จับคู่เพื่อเปรียบเทียบผล','ความชันเส้นสัมผัส','.topic-name-input','confirm-not-confident','pointerup','แบบเติมคำตอบ','deltaY','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','240','comeback_king','ตั้งเวลา\x20(เปิด)','วงรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','next-question-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','targetId','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','Error\x20listening\x20for\x20student\x20profiles:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','คะแนนเฉลี่ย','activeGameSession','บทเรียนเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','ตัวเลือก\x20ข','behavior-log-tab-content','พิมพ์ตอบ','parallel-shortcut-modal-title','confirm-bulk-quiz-settings-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','insertBefore','คนโสด','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','_opt','quiz-leaderboard-table-body','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','projectView','innerHTML','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','กรุณาเลือกโปรเจคก่อน','questionId','<option>กำลังโหลดโปรเจค...</option>','เกิดข้อผิดพลาดในการใช้ไอเทม','#open-additional-file-shortcuts-btn','project-quizzes-list','.delete-svg-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','Error\x20generating\x20teaching\x20content:','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','การเรียงสับเปลี่ยน\x20(Permutation)','confirmation-modal','ที่พิมพ์ได้\x20จำนวน\x20','standard','preScore','.delete-project-btn','length','parallelShortcutTabs','shortcut-reference-url-input','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','Error\x20starting\x20live\x20race:','getBoundingClientRect','POST','bg-red-200\x20text-red-800','\x5ccdot','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','show_pass_fail_only','additional-shortcuts-list','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27forceConfident\x27.','[data-topic-container-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','/public/data/blueprintProjects','.open-bp-project-btn','(หลังเรียน)\x20','Auto-linking\x20new\x20quiz\x20','worksheet-topic-input','manual_release','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ค่าเสื่อมราคา','</span>\x20','การคูณทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','asc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','reviewQuestionIndex','API\x20Error\x20Body:','latestScore','div[data-question-index=\x22','student-initial-view','.\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','student-rankings-modal','.pdf',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','(นำโด่ง)','fix\x20the\x20option','topicName','querySelector','.topic-name-display','execCommand','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','timer-duration-input','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','นำแบบทดสอบออกจากคลังนี้แล้ว','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','student-quiz-area','กำลังค้นหากิจกรรม...','AI\x20แก้ไขคำถามสำเร็จ!','leaderboard-quiz-tab-content','msRequestFullscreen','Error\x20processing\x20file\x20for\x20AI:','\x5cle','topicId','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ceil','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','modal-confidence-mode-container','summary_chart','category','test','ไม่มีคำอธิบาย','บันทึกแบบทดสอบสำเร็จแล้ว!','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','show-leaderboard-btn','กฎของโคไซน์','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สถิติและความน่าจะเป็น','ยังไม่มีนักเรียนส่งงาน','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','export-leaderboard-pdf-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','.generate-easy-version-btn','กรุณาใส่ชื่อนักเรียน','setAttribute','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-presentation-btn','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','การแยกตัวประกอบ','Error\x20saving\x20project\x20order:','checkbox','ไม่พบข้อมูลเกม','ฟังก์ชันลอการิทึม','default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','/lessons','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','handleGeneratePracticeTest','generate-from-file-btn','confirm-team-players-btn','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','ยอดเยี่ยม!','pathname','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบผลสอบ','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','numPages','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-semibold\x20mb-3\x20animate-pulse\x22>💰\x20โหมดเดิมพันทำงานอยู่!\x20(เลือกคำตอบเพื่อเดิมพัน)</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/public/data/blueprintProjects/','เกี่ยวกับหัวข้อ\x20\x22','\x20สำเร็จ','\x20ชุด)','additional-parallel-shortcuts-modal','includeImages','showInStudentDashboard','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#FEE2E2','trim','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','input','bulk-quiz-settings-btn','wager-slider','10499214zkqsIH','closest','กัปตัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<tr>','generate-worksheet-btn','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','.quiz-bank-move-btn','gameVariant','text-indigo-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','transform','กาแฟขม','bg-green-100\x20text-green-800','เมทริกซ์:\x20บวก/คูณ','mandatory','auto-fix-latex-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','Error\x20starting\x20sync\x20game:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','blockReason','\x20ข้อ...','student-passcode-input','.delete-hidden-file-shortcut-btn','visible','cancel-quiz-settings-btn','admin','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','พิสัย','FileReader\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','answerValue','กำลังสร้างแบบทดสอบ\x20\x22','qType','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','blueprint-tab','secondChance','toFixed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เน็ตช้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>','lives','พาราโบลา','export-leaderboard-word-btn','สำหรับหัวข้อ\x20\x27','(พยายามอยู่)','ondrop','.admin-try-quiz-list-btn','การนับ','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x5cpm','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#view-rankings-btn','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','learningGaps','move-quiz-modal','รักแรกพบ','release','ปล่อยพลัง','freeMarketEntryUsed_q','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-400\x20hover:text-indigo-600','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','parts','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','/public/data/projects','shortcut-blueprint-url-input','พอใช้','tooltipTarget','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','highlighter-tools-group','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','fullscreenchange','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join'];_0x4f96=function(){return _0x39b45a;};return _0x4f96();}async function initiateReGradeProcess(_0x137db7){const _0xa8c900=_0x3abb87;showMessage(_0xa8c900(0x8a3));try{const _0x46cc67=doc(db,_0xa8c900(0x8da)+appId+_0xa8c900(0xe3e),_0x137db7),_0x1bce1a=await getDoc(_0x46cc67);if(!_0x1bce1a['exists']())throw new Error(_0xa8c900(0x397));const _0x5675e1={'id':_0x137db7,..._0x1bce1a['data']()},_0x429eb7=collection(db,_0xa8c900(0x8da)+appId+_0xa8c900(0xe3e),_0x137db7,_0xa8c900(0x8ad)),_0x3a1be0=await getDocs(_0x429eb7);if(_0x3a1be0['empty']){showMessage(_0xa8c900(0x8f8));return;}const _0x503279=_0x3a1be0[_0xa8c900(0x2a7)][_0xa8c900(0x561)](_0x414783=>reGradeSingleSubmission(_0x414783,_0x5675e1));await Promise[_0xa8c900(0x5ea)](_0x503279);if(_0x5675e1[_0xa8c900(0x365)]){const _0x46fdce=doc(db,_0xa8c900(0x8da)+appId+_0xa8c900(0xdfd),_0x5675e1[_0xa8c900(0x365)]),_0x4ab516=await getDoc(_0x46fdce);if(_0x4ab516['exists']()&&_0x4ab516[_0xa8c900(0x3f4)]()[_0xa8c900(0x7d2)]){const _0x4fac25=_0x4ab516['data']()[_0xa8c900(0x7d2)][_0xa8c900(0x561)](_0x4d9e49=>updateStudentProfile(_0x5675e1['projectId'],_0x4d9e49));await Promise['all'](_0x4fac25);}}showMessage(_0xa8c900(0x5b7)+_0x3a1be0['size']+_0xa8c900(0x54f));}catch(_0x2ce0c4){console['error']('Re-grade\x20process\x20failed:',_0x2ce0c4),showMessage(_0xa8c900(0x4a8)+_0x2ce0c4[_0xa8c900(0x9e1)]);}}async function reGradeSingleSubmission(_0xaea331,_0x4a86b1){const _0x22a7b5=_0x3abb87,_0x5cc696=_0xaea331[_0x22a7b5(0x3f4)](),_0x33e63e=_0x5cc696[_0x22a7b5(0x4f9)],_0x11fb9d=_0x5cc696[_0x22a7b5(0x2c5)]||[],_0x289b1d=[];for(const _0x56ca27 of _0x11fb9d){let _0x36b12a=0x0,_0x987ca0=[],_0x24a769=0x0;const _0x28a8eb=[];for(const _0x5a57ba of _0x56ca27[_0x22a7b5(0x67e)]){let _0x1620f7;_0x5a57ba[_0x22a7b5(0xd18)]&&(_0x1620f7=_0x4a86b1[_0x22a7b5(0x806)][_0x22a7b5(0x7f4)](_0x35abd0=>_0x35abd0['id']===_0x5a57ba[_0x22a7b5(0xd18)]));!_0x1620f7&&_0x5a57ba['originalQuestionText']&&(_0x1620f7=_0x4a86b1[_0x22a7b5(0x806)][_0x22a7b5(0x7f4)](_0x367e77=>(_0x367e77['stem']||_0x367e77[_0x22a7b5(0xbdb)])===_0x5a57ba[_0x22a7b5(0x675)]));let _0x32da2a=![];if(_0x1620f7){const _0x99033=_0x1620f7['questionType']||_0x4a86b1[_0x22a7b5(0x273)];switch(_0x99033){case _0x22a7b5(0x431):if(_0x1620f7['options']&&_0x1620f7['correctAnswerIndex']<_0x1620f7['options']['length']){const _0x182845=_0x1620f7[_0x22a7b5(0x254)][_0x1620f7[_0x22a7b5(0xa07)]];_0x32da2a=_0x5a57ba[_0x22a7b5(0x5b9)]===_0x182845;}break;case'true_false':const _0x486e19=_0x5a57ba['answer']===!![]||_0x5a57ba['answer']===_0x22a7b5(0x243);_0x32da2a=_0x486e19===_0x1620f7[_0x22a7b5(0x509)];break;case'matching_item':_0x32da2a=_0x5a57ba['answer']===_0x1620f7[_0x22a7b5(0x707)];break;case _0x22a7b5(0xb85):_0x32da2a=await gradeShortAnswer(_0x5a57ba[_0x22a7b5(0x5b8)],_0x1620f7);break;default:_0x32da2a=_0x5a57ba[_0x22a7b5(0x88b)];break;}}if(_0x32da2a){_0x36b12a++,_0x24a769++;if(_0x24a769===0x3)_0x987ca0['push'](BADGES[_0x22a7b5(0x510)]['id']);}else _0x24a769=0x0;_0x28a8eb['push']({..._0x5a57ba,'isCorrect':_0x32da2a});}let _0x49da4b=_0x36b12a*0xa;_0x36b12a===_0x4a86b1[_0x22a7b5(0x806)][_0x22a7b5(0xd2b)]&&(_0x49da4b+=0x32,_0x987ca0[_0x22a7b5(0xabd)](BADGES['PERFECT_SCORE']['id'])),_0x289b1d['push']({..._0x56ca27,'score':_0x36b12a,'points':_0x49da4b,'badges':Array['from'](new Set(_0x987ca0)),'answers':_0x28a8eb});}const _0xbbf004=_0x289b1d[_0x22a7b5(0xd2b)]>0x0?_0x289b1d[0x0][_0x22a7b5(0xb3d)]:0x0,_0x5cc617=Math['max'](..._0x289b1d['map'](_0x286c4f=>_0x286c4f[_0x22a7b5(0xb3d)])),_0x542a08=_0x289b1d[_0x22a7b5(0xd2b)]>0x0?_0x289b1d[_0x289b1d['length']-0x1][_0x22a7b5(0xb3d)]:0x0,_0x457885=_0x289b1d[_0x22a7b5(0xd2b)]>0x0?_0x289b1d[_0x289b1d[_0x22a7b5(0xd2b)]-0x1][_0x22a7b5(0x728)]:0x0,_0x3bb563=doc(db,_0x22a7b5(0x8da)+appId+_0x22a7b5(0x75d)+_0x4a86b1['id']+_0x22a7b5(0x4cc),_0x33e63e);await updateDoc(_0x3bb563,{'attempts':_0x289b1d,'firstScore':_0xbbf004,'bestScore':_0x5cc617,'latestScore':_0x542a08,'points':_0x457885});}function cleanupQuizOptions(_0x4b4b8f){const _0x2fc860=_0x3abb87,_0x4c4ae0=(_0x359395,_0x48ca07)=>_0x48ca07===0x0?_0x359395:_0x4c4ae0(_0x48ca07,_0x359395%_0x48ca07),_0x2c429e=_0x3ccf77=>{const _0x597ca4=_0x55d5;if(typeof _0x3ccf77!==_0x597ca4(0x96d))return null;_0x3ccf77=_0x3ccf77['trim']();const _0x49fead=_0x3ccf77['split'](/[ /]/)['filter'](_0x5bb637=>_0x5bb637!=='');if(_0x49fead[_0x597ca4(0xd2b)]===0x3)return parseInt(_0x49fead[0x0])+parseInt(_0x49fead[0x1])/parseInt(_0x49fead[0x2]);else{if(_0x49fead[_0x597ca4(0xd2b)]===0x2)return parseInt(_0x49fead[0x0])/parseInt(_0x49fead[0x1]);else{if(_0x49fead[_0x597ca4(0xd2b)]===0x1&&!isNaN(_0x49fead[0x0]))return parseFloat(_0x49fead[0x0]);}}return null;},_0x301dc2=_0x13a7e7=>{const _0x38eaf5=_0x55d5;if(typeof _0x13a7e7!==_0x38eaf5(0x96d))return _0x13a7e7;const _0xc9583c=_0x13a7e7[_0x38eaf5(0xbbe)](/(\d+)\s+(\d+)\/(\d+)/);if(_0xc9583c){const _0x3e1e4a=parseInt(_0xc9583c[0x1]);let _0x244853=parseInt(_0xc9583c[0x2]),_0xd3f878=parseInt(_0xc9583c[0x3]);const _0x1390b0=_0x4c4ae0(_0x244853,_0xd3f878);_0x244853/=_0x1390b0,_0xd3f878/=_0x1390b0;if(_0xd3f878===0x1)return(_0x3e1e4a+_0x244853)['toString']();return _0x3e1e4a+'\x20'+_0x244853+'/'+_0xd3f878;}return _0x13a7e7;};return _0x4b4b8f&&_0x4b4b8f[_0x2fc860(0x806)]&&_0x4b4b8f[_0x2fc860(0x806)][_0x2fc860(0x91b)](_0x5d1e38=>{const _0x68dba1=_0x2fc860;if(_0x5d1e38['questionType']===_0x68dba1(0x431)&&_0x5d1e38['options']){const _0x5c0d56=new Map(),_0x5552ad=_0x5d1e38[_0x68dba1(0x254)][_0x5d1e38['correctAnswerIndex']];_0x5d1e38[_0x68dba1(0x254)][_0x68dba1(0x91b)](_0x5b214c=>{const _0x80ee14=_0x68dba1,_0x40e12d=_0x301dc2(_0x5b214c),_0x228825=_0x2c429e(_0x40e12d);_0x228825!==null&&!_0x5c0d56[_0x80ee14(0x8bd)](_0x228825)&&_0x5c0d56[_0x80ee14(0x8ae)](_0x228825,_0x40e12d);}),_0x5d1e38[_0x68dba1(0x254)]=Array[_0x68dba1(0x944)](_0x5c0d56[_0x68dba1(0xa10)]());const _0x4bd0b7=_0x5d1e38[_0x68dba1(0x254)][_0x68dba1(0xbda)](_0x360a41=>_0x360a41===_0x301dc2(_0x5552ad));_0x5d1e38[_0x68dba1(0xa07)]=_0x4bd0b7!==-0x1?_0x4bd0b7:0x0;}}),_0x4b4b8f;}function showGameStartConfirmationModal(_0x478c15,_0x4ce69f,_0x3fbed5){const _0x511f34=_0x3abb87,_0x41b21f=document[_0x511f34(0x753)](_0x511f34(0x746));document[_0x511f34(0x753)](_0x511f34(0x2ff))[_0x511f34(0xbde)]=_0x511f34(0x26c)+_0x3fbed5,document[_0x511f34(0x753)](_0x511f34(0xa8f))[_0x511f34(0x8a6)]=_0x478c15,document[_0x511f34(0x753)]('game-start-mode')[_0x511f34(0x8a6)]=_0x4ce69f,document[_0x511f34(0x753)](_0x511f34(0x570))[_0x511f34(0xc32)]=!![];const _0x10a2b7=document[_0x511f34(0x753)]('sync-variant-selector'),_0x4cccfd=document['getElementById'](_0x511f34(0x62f)),_0xaf60e6=document[_0x511f34(0x753)](_0x511f34(0xb79)),_0x48adc7=document['getElementById'](_0x511f34(0x9f9));_0x4ce69f===_0x511f34(0xe7b)?(_0x10a2b7['classList'][_0x511f34(0x23a)](_0x511f34(0x986)),document[_0x511f34(0xd5b)](_0x511f34(0x5f2))[_0x511f34(0xc32)]=!![],_0x4cccfd['checked']=!![],_0xaf60e6[_0x511f34(0x33a)][_0x511f34(0x23a)](_0x511f34(0x986)),document[_0x511f34(0x753)](_0x511f34(0x686))['value']=_0x511f34(0xcf4),_0x48adc7['classList'][_0x511f34(0x23a)](_0x511f34(0x986)),document[_0x511f34(0x753)](_0x511f34(0x7c5))[_0x511f34(0xc32)]=!![]):(_0x10a2b7[_0x511f34(0x33a)][_0x511f34(0xbaf)](_0x511f34(0x986)),_0x4cccfd['checked']=![],_0xaf60e6[_0x511f34(0x33a)]['add'](_0x511f34(0x986)),_0x48adc7[_0x511f34(0x33a)][_0x511f34(0xbaf)](_0x511f34(0x986))),_0x41b21f['classList'][_0x511f34(0x23a)](_0x511f34(0x986));}async function saveGameResultsAsSubmissions(_0x5a78cd){const _0x31acee=_0x3abb87;console[_0x31acee(0x4e6)](_0x31acee(0xa2e),_0x5a78cd);const _0x279b63=_0x5a78cd['quizId'];let _0x5106f9=[];if(_0x5a78cd[_0x31acee(0xc17)])_0x5106f9=Object[_0x31acee(0xc8d)](_0x5a78cd[_0x31acee(0xc17)])[_0x31acee(0x561)](([_0x343b2b,_0x300197])=>({'name':_0x343b2b,..._0x300197}));else{if(_0x5a78cd[_0x31acee(0x68e)])Object['values'](_0x5a78cd[_0x31acee(0x68e)])[_0x31acee(0x91b)](_0x2f51dd=>{const _0x10fe85=_0x31acee;_0x2f51dd[_0x10fe85(0x676)][_0x10fe85(0x91b)](_0x11fe99=>{const _0x47ac4a=_0x10fe85;_0x5106f9['push']({'name':_0x11fe99,'score':_0x2f51dd[_0x47ac4a(0xb3d)],'answers':_0x2f51dd[_0x47ac4a(0x67e)]});});});else _0x5a78cd[_0x31acee(0xb34)]&&Object[_0x31acee(0xc8d)](_0x5a78cd['responses'])[_0x31acee(0x91b)](([_0x895417,_0x5e5891])=>{const _0x1d2c76=_0x31acee;_0x5106f9[_0x1d2c76(0xabd)]({'name':_0x895417,..._0x5e5891});});}if(_0x5106f9['length']===0x0){console[_0x31acee(0x4e6)](_0x31acee(0x81d));return;}const _0x168021=_0x5a78cd['shuffledQuiz']?.['questions'][_0x31acee(0xd2b)]||currentQuizData['questions'][_0x31acee(0xd2b)],_0x692f52=writeBatch(db);for(const _0x38b267 of _0x5106f9){const _0xd3ae86=doc(db,_0x31acee(0x8da)+appId+_0x31acee(0x75d)+_0x279b63+_0x31acee(0x4cc),_0x38b267['name']),_0x13293b=(_0x38b267[_0x31acee(0x67e)]||[])[_0x31acee(0x27c)](_0x412b90=>_0x412b90[_0x31acee(0x88b)])[_0x31acee(0xd2b)];let _0x32d671=_0x13293b;_0x5a78cd['isConfidenceScoringEnabled']&&_0x38b267['answers']&&_0x38b267[_0x31acee(0x67e)][_0x31acee(0x91b)](_0x2a1608=>{const _0xe98ca9=_0x31acee;if(_0x2a1608[_0xe98ca9(0x88b)]&&(_0x2a1608[_0xe98ca9(0x630)]===!![]||_0x2a1608['wasConfident']===_0xe98ca9(0x82f)))_0x32d671+=0x1;else!_0x2a1608[_0xe98ca9(0x88b)]&&(_0x2a1608[_0xe98ca9(0x630)]===!![]||_0x2a1608[_0xe98ca9(0x630)]===_0xe98ca9(0x82f))&&(_0x32d671-=0x1);});_0x168021>0x0&&_0x13293b===_0x168021&&(_0x32d671+=0x1);const _0x427216={'score':_0x13293b,'points':_0x32d671,'badges':_0x38b267[_0x31acee(0x9f4)]||[],'submittedAt':new Date()[_0x31acee(0x84a)](),'answers':(_0x38b267['answers']||[])[_0x31acee(0x561)](_0x3781d0=>({'questionId':_0x3781d0['questionId'],'answer':_0x3781d0[_0x31acee(0x5b8)],'answerText':_0x3781d0[_0x31acee(0x5b9)],'isCorrect':_0x3781d0[_0x31acee(0x88b)],'originalQuestionText':_0x3781d0[_0x31acee(0x675)],'wasConfident':_0x3781d0['wasConfident']}))},_0x58fd05=await getDoc(_0xd3ae86),_0xe5284b=_0x58fd05[_0x31acee(0xc9d)]()?_0x58fd05[_0x31acee(0x3f4)]():{},_0x1a65ee=_0xe5284b[_0x31acee(0x95d)]||0x0,_0x2106ef=_0xe5284b[_0x31acee(0x2c5)]||[],_0x117cf9={'studentName':_0x38b267[_0x31acee(0xc71)],'totalQuestions':_0x168021,'attempts':arrayUnion(_0x427216),'latestScore':_0x13293b,'points':_0x32d671,'latestSubmittedAt':_0x427216[_0x31acee(0x9bb)],'bestScore':Math[_0x31acee(0x513)](_0x1a65ee,_0x13293b),'firstScore':_0x2106ef[_0x31acee(0xd2b)]===0x0?_0x13293b:_0xe5284b['firstScore']||0x0};_0x692f52['set'](_0xd3ae86,_0x117cf9,{'merge':!![]});}try{await _0x692f52[_0x31acee(0x444)](),showMessage(_0x31acee(0x9a7)+_0x5106f9[_0x31acee(0xd2b)]+_0x31acee(0xc7d));const _0x4eddb8=_0x5a78cd['shuffledQuiz']?.['projectId']||currentQuizData?.[_0x31acee(0x365)]||currentProjectId;if(_0x4eddb8){const _0x50d48a=[...new Set(_0x5106f9[_0x31acee(0x561)](_0x189f06=>_0x189f06[_0x31acee(0xc71)]))];for(const _0x26e888 of _0x50d48a){await updateStudentProfile(_0x4eddb8,_0x26e888);}}}catch(_0x17ba32){console['error'](_0x31acee(0x681),_0x17ba32),showMessage(_0x31acee(0x430));}}async function saveQuiz(_0x560285=null,_0x32952c=null){const _0x1af088=_0x3abb87,_0x33decf=_0x560285||currentProjectId;if(!_0x33decf){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1af088(0x806)]||!userId){showMessage(_0x1af088(0x7ff));return;}const _0x32931a=document[_0x1af088(0x753)](_0x1af088(0x874));_0x32931a[_0x1af088(0x5ad)]=!![],_0x32931a['innerHTML']=_0x1af088(0x6c1);const _0x101c8c=document[_0x1af088(0x753)]('pre-test-checkbox')[_0x1af088(0xc32)];let _0x48e4a6=document[_0x1af088(0x753)]('editable-quiz-topic')['innerText'][_0x1af088(0xda7)]();_0x101c8c&&!_0x48e4a6[_0x1af088(0x258)](_0x1af088(0x93f))&&(_0x48e4a6='(ก่อนเรียน)\x20'+_0x48e4a6);try{const _0x41b072={'resultsDisplay':document[_0x1af088(0x753)](_0x1af088(0xc82))[_0x1af088(0x8a6)],'shuffle':document[_0x1af088(0x753)]('shuffle-setting-select')[_0x1af088(0x8a6)],'timerMode':document['getElementById'](_0x1af088(0x946))[_0x1af088(0x8a6)],'timerDuration':parseInt(document[_0x1af088(0x753)](_0x1af088(0xd5f))[_0x1af088(0x8a6)])||0xa,'passingScore':parseInt(document[_0x1af088(0x753)](_0x1af088(0x208))[_0x1af088(0x8a6)])||0x0,'isAdaptive':document[_0x1af088(0x753)](_0x1af088(0x7a7))[_0x1af088(0xc32)],'loopUntilPass':document['getElementById'](_0x1af088(0x77e))[_0x1af088(0xc32)]},_0x161b8b=(currentQuizData[_0x1af088(0x806)]||[])[_0x1af088(0x561)]((_0x4176d3,_0x19ce1b)=>{const _0x3f42be=_0x1af088,_0x47756a=document[_0x3f42be(0x753)](_0x3f42be(0xb9c))['value'],_0x5a8b0f={'id':'q_'+Date[_0x3f42be(0xbc4)]()+'_'+_0x19ce1b,'questionText':_0x4176d3[_0x3f42be(0xbdb)]||'','explanation':_0x4176d3[_0x3f42be(0x866)]||_0x3f42be(0xd73),'questionType':_0x4176d3[_0x3f42be(0x302)]||_0x47756a,'imageCode':_0x4176d3[_0x3f42be(0xc35)]||null};return(_0x5a8b0f[_0x3f42be(0x302)]===_0x3f42be(0x431)||_0x5a8b0f['questionType']===_0x3f42be(0x990)||_0x5a8b0f[_0x3f42be(0x302)]==='mixed'&&_0x4176d3[_0x3f42be(0x254)])&&(_0x5a8b0f[_0x3f42be(0x254)]=_0x4176d3[_0x3f42be(0x254)]||[],_0x5a8b0f[_0x3f42be(0xa07)]=_0x4176d3[_0x3f42be(0xa07)]!==undefined?_0x4176d3[_0x3f42be(0xa07)]:0x0),(_0x5a8b0f[_0x3f42be(0x302)]===_0x3f42be(0xb85)||_0x5a8b0f['questionType']===_0x3f42be(0x203)||_0x5a8b0f[_0x3f42be(0x302)]===_0x3f42be(0x32a)&&_0x4176d3['idealAnswer'])&&(_0x5a8b0f[_0x3f42be(0x288)]=_0x4176d3['idealAnswer']||''),_0x5a8b0f[_0x3f42be(0x302)]===_0x3f42be(0x718)&&(_0x5a8b0f['correctAnswer']=_0x4176d3[_0x3f42be(0x509)]===!![]),_0x5a8b0f['questionType']===_0x3f42be(0x79a)&&(_0x5a8b0f[_0x3f42be(0x9b7)]=_0x4176d3[_0x3f42be(0x9b7)]||'',_0x5a8b0f[_0x3f42be(0x707)]=_0x4176d3[_0x3f42be(0x707)]||'',_0x5a8b0f[_0x3f42be(0x798)]=_0x4176d3[_0x3f42be(0x798)]||[]),_0x5a8b0f;}),_0x564c31={'topic':_0x48e4a6,'quizType':currentQuizData[_0x1af088(0x273)]||'multiple_choice','questions':_0x161b8b,'projectId':_0x33decf,'createdBy':userId,'createdAt':new Date()[_0x1af088(0x84a)](),'status':_0x1af088(0x351),'settings':_0x41b072,'quizMode':_0x101c8c?_0x1af088(0x3ca):'standard','pairedQuizId':null,'lessonPlan':null};let _0x4b687f;while(!![]){_0x4b687f=Math['floor'](0x3e8+Math[_0x1af088(0x323)]()*0x2328)[_0x1af088(0xbd3)]();const _0x47057c=await getDoc(doc(db,_0x1af088(0x8da)+appId+_0x1af088(0xe3e),_0x4b687f));if(!_0x47057c[_0x1af088(0xc9d)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4b687f),_0x564c31);if(_0x32952c&&currentBlueprintProjectId){console[_0x1af088(0x4e6)](_0x1af088(0xd40)+_0x4b687f+'\x20to\x20blueprint\x20topic\x20'+_0x32952c);try{const _0x3b3c9c=doc(db,'artifacts/'+appId+_0x1af088(0xd3d),currentBlueprintProjectId);await updateDoc(_0x3b3c9c,{[_0x1af088(0x708)+_0x32952c+'.linkedQuizIds']:arrayUnion(_0x4b687f)});}catch(_0x111b2f){console[_0x1af088(0x28d)](_0x1af088(0x525),_0x111b2f);}}currentQuizData[_0x1af088(0xa95)]=_0x41b072,currentQuizData['id']=_0x4b687f;const _0x32f59f=document[_0x1af088(0x753)](_0x1af088(0xa8b));_0x32f59f[_0x1af088(0xd15)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x4b687f+_0x1af088(0xcdf),document[_0x1af088(0x753)](_0x1af088(0x6f3))[_0x1af088(0xdd0)](_0x1af088(0xaa0),()=>copyTextToClipboard(_0x4b687f,_0x1af088(0xc3e))),document['getElementById']('start-live-race-generated-btn')[_0x1af088(0xdd0)](_0x1af088(0xaa0),()=>handleStartLiveRace(_0x4b687f)),document[_0x1af088(0x753)](_0x1af088(0xd86))[_0x1af088(0xdd0)](_0x1af088(0xaa0),()=>startPresentation(currentQuizData)),document[_0x1af088(0x753)]('admin-try-quiz-btn')[_0x1af088(0xdd0)]('click',startAdminTest),showMessage(_0x1af088(0xd74));}catch(_0x2dabdf){console[_0x1af088(0x28d)](_0x1af088(0xb64),_0x2dabdf),showMessage(_0x1af088(0xe40));}finally{_0x32931a[_0x1af088(0x5ad)]=![],_0x32931a[_0x1af088(0xd15)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x1f4bdc=_0x3abb87,_0x125934=document[_0x1f4bdc(0x753)](_0x1f4bdc(0xdf2)),_0x559717=document[_0x1f4bdc(0x753)](_0x1f4bdc(0x3c2)),_0x4f8c22=_0x125934[_0x1f4bdc(0xd5b)]('h3'),_0x3f17a9=document[_0x1f4bdc(0x753)](_0x1f4bdc(0xd22));_0x4f8c22['textContent']='เลือกโปรเจคเพื่อบันทึก',_0x3f17a9[_0x1f4bdc(0xbde)]='เลือกและบันทึก';allProjects['length']===0x0?(_0x559717[_0x1f4bdc(0xd15)]=_0x1f4bdc(0x6b5),_0x3f17a9[_0x1f4bdc(0x5ad)]=!![]):(_0x559717[_0x1f4bdc(0xd15)]=allProjects['map'](_0x9db053=>_0x1f4bdc(0x957)+_0x9db053['id']+'\x22>'+_0x9db053[_0x1f4bdc(0x5f4)]+_0x1f4bdc(0xaa5))['join'](''),_0x3f17a9['disabled']=![]);_0x125934['classList']['remove'](_0x1f4bdc(0x986));const _0x33f7b1=()=>{const _0x4d3dd9=_0x1f4bdc,_0xc13365=_0x559717[_0x4d3dd9(0x8a6)];_0xc13365?(currentProjectId=_0xc13365,_0x125934['classList'][_0x4d3dd9(0xbaf)](_0x4d3dd9(0x986)),saveQuiz(),_0x4f8c22[_0x4d3dd9(0xbde)]=_0x4d3dd9(0x404),_0x3f17a9[_0x4d3dd9(0xbde)]='ย้าย',_0x3f17a9[_0x4d3dd9(0x21b)](_0x4d3dd9(0xaa0),_0x33f7b1),_0x3f17a9['addEventListener']('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x3f17a9[_0x1f4bdc(0x21b)](_0x1f4bdc(0xaa0),confirmMoveQuiz),_0x3f17a9[_0x1f4bdc(0xdd0)](_0x1f4bdc(0xaa0),_0x33f7b1);}function copyTextToClipboard(_0x85095c,_0x6e1b9a){const _0x7bafc6=_0x3abb87,_0x356ec8=document[_0x7bafc6(0x419)](_0x7bafc6(0xe5d));_0x356ec8[_0x7bafc6(0x8a6)]=_0x85095c,_0x356ec8['style'][_0x7bafc6(0xc2b)]=_0x7bafc6(0x28f),_0x356ec8[_0x7bafc6(0x41d)][_0x7bafc6(0x4aa)]='0',document[_0x7bafc6(0x595)][_0x7bafc6(0xb8c)](_0x356ec8),_0x356ec8[_0x7bafc6(0x9fa)](),_0x356ec8[_0x7bafc6(0xba7)]();try{const _0x454e79=document[_0x7bafc6(0xd5d)](_0x7bafc6(0x562));showMessage(_0x454e79?_0x6e1b9a:_0x7bafc6(0x36c));}catch(_0x659e02){showMessage(_0x7bafc6(0x36c)),console[_0x7bafc6(0x28d)](_0x7bafc6(0x319),_0x659e02);}document['body'][_0x7bafc6(0x471)](_0x356ec8);}function listenForProjectQuizzes(_0x875eac){const _0x380d4d=_0x3abb87,_0x3484ab=collection(db,'artifacts/'+appId+_0x380d4d(0xe3e)),_0x49baf5=query(_0x3484ab,where('projectId','==',_0x875eac));unsubscribeQuizzesListener=onSnapshot(_0x49baf5,async _0x3a8800=>{const _0x4b5a08=_0x380d4d;allQuizzes=_0x3a8800[_0x4b5a08(0x2a7)][_0x4b5a08(0x561)](_0x3a6cb7=>({'id':_0x3a6cb7['id'],..._0x3a6cb7[_0x4b5a08(0x3f4)]()})),renderQuizzes();},_0x39341=>{const _0x43147d=_0x380d4d;console[_0x43147d(0x28d)]('Error\x20fetching\x20project\x20quizzes:',_0x39341),document['getElementById'](_0x43147d(0xd1c))[_0x43147d(0xd15)]=_0x43147d(0xe39);});}async function renderQuizzes(){const _0x4294b4=_0x3abb87,_0x406a47=document[_0x4294b4(0x753)](_0x4294b4(0xd1c)),_0x4b448e=document['getElementById'](_0x4294b4(0x24e))[_0x4294b4(0x8a6)]['toLowerCase']();let _0x77e0c;currentProjectId===_0x4294b4(0xba5)?_0x77e0c=starredQuizzes:_0x77e0c=allQuizzes;let _0x27d4aa=_0x77e0c['filter'](_0x30448f=>_0x30448f[_0x4294b4(0x3bb)][_0x4294b4(0x6d9)]()[_0x4294b4(0x842)](_0x4b448e));_0x27d4aa['sort']((_0x41bdbb,_0x216337)=>new Date(_0x216337[_0x4294b4(0x3ef)])-new Date(_0x41bdbb[_0x4294b4(0x3ef)]));if(_0x27d4aa['length']===0x0){_0x406a47[_0x4294b4(0xd15)]=_0x4294b4(0xace);return;}const _0x199c94={},_0x100503=_0x27d4aa[_0x4294b4(0x561)](async _0x11b4ef=>{const _0x41442=_0x4294b4,_0x4a9fe0=collection(db,_0x41442(0x8da)+appId+_0x41442(0x75d)+_0x11b4ef['id']+_0x41442(0x4cc)),_0x59cfb3=await getDocs(_0x4a9fe0);_0x199c94[_0x11b4ef['id']]=_0x59cfb3['size'];});await Promise[_0x4294b4(0x5ea)](_0x100503);let _0x526297='';_0x27d4aa[_0x4294b4(0x91b)](_0x1daea1=>{const _0x3050f3=_0x4294b4,_0x1ee604=_0x199c94[_0x1daea1['id']]||0x0,_0xa612d1=_0x1daea1[_0x3050f3(0x98e)]||'active',_0x4fb813=_0x1daea1[_0x3050f3(0xa95)]?.[_0x3050f3(0x9ee)]||'none';let _0x1aabf9='',_0x178cfc='';const _0x35f182=new Date();let _0x54d611=_0xa612d1;if(_0xa612d1===_0x3050f3(0x2ca)){const _0x15d5c7=_0x1daea1['startTime']?new Date(_0x1daea1[_0x3050f3(0x91a)]):null,_0xddcca3=_0x1daea1[_0x3050f3(0x734)]?new Date(_0x1daea1[_0x3050f3(0x734)]):null;if(_0xddcca3&&_0x35f182>_0xddcca3)_0x54d611=_0x3050f3(0x42f);else _0x15d5c7&&_0x35f182<_0x15d5c7?_0x54d611=_0x3050f3(0x47e):_0x54d611=_0x3050f3(0x351);}switch(_0x54d611){case _0x3050f3(0x42f):_0x1aabf9='ปิดใช้งาน',_0x178cfc=_0x3050f3(0xe58);break;case _0x3050f3(0x47e):_0x1aabf9=_0x3050f3(0xc8f),_0x178cfc=_0x3050f3(0x39f);break;case'active':_0x1aabf9=_0x4fb813!=='none'?_0x3050f3(0xca6):_0x3050f3(0xc56),_0x178cfc='text-green-700\x20bg-green-100';break;default:_0x1aabf9=_0x3050f3(0xcf6),_0x178cfc=_0x3050f3(0xa18);break;}let _0x5269cb='';const _0x89d99={'day':_0x3050f3(0x9fb),'month':_0x3050f3(0x9fb),'year':'numeric','hour':'2-digit','minute':_0x3050f3(0x9fb),'hour12':![]};if(_0xa612d1===_0x3050f3(0x2ca)){if(_0x1daea1[_0x3050f3(0x91a)])_0x5269cb+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x1daea1[_0x3050f3(0x91a)])[_0x3050f3(0x269)](_0x3050f3(0x40e),_0x89d99)+_0x3050f3(0x854);if(_0x1daea1['endTime'])_0x5269cb+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x1daea1[_0x3050f3(0x734)])['toLocaleString'](_0x3050f3(0x40e),_0x89d99)+'</p>';}let _0x12e4bb='';if(_0x1daea1[_0x3050f3(0xe5c)]){const _0x3df827=allQuizzes['find'](_0x2606ad=>_0x2606ad['id']===_0x1daea1['pairedQuizId']);if(_0x3df827){let _0x3e1ea3,_0x1a6fd2;new Date(_0x1daea1['createdAt'])<new Date(_0x3df827[_0x3050f3(0x3ef)])?(_0x3e1ea3=_0x1daea1['id'],_0x1a6fd2=_0x3df827['id']):(_0x3e1ea3=_0x3df827['id'],_0x1a6fd2=_0x1daea1['id']),_0x12e4bb+=_0x3050f3(0x2aa)+_0x1a6fd2+_0x3050f3(0xb48)+_0x3e1ea3+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x1daea1[_0x3050f3(0xa25)]===_0x3050f3(0x3ca)&&(_0x12e4bb+=_0x3050f3(0x3a8)+_0x1daea1['id']+_0x3050f3(0xe5e));if(_0x1daea1[_0x3050f3(0xa25)]==='pre-test'&&_0x1ee604>0x0)_0x12e4bb+=_0x3050f3(0x3a8)+_0x1daea1['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x1daea1['pairedQuizId']&&_0x1daea1[_0x3050f3(0xa25)]!==_0x3050f3(0x3ca)&&_0x1ee604>0x0&&(_0x12e4bb+=_0x3050f3(0x3a8)+_0x1daea1['id']+_0x3050f3(0xa84));let _0x24c592='';_0x1daea1[_0x3050f3(0xe5c)]?_0x24c592=_0x3050f3(0x481)+_0x1daea1['id']+_0x3050f3(0x777):_0x24c592=_0x3050f3(0x481)+_0x1daea1['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x526297+=_0x3050f3(0xa21)+_0x1daea1['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x1daea1[_0x3050f3(0x3bb)]+_0x3050f3(0x57c)+_0x1daea1['questions'][_0x3050f3(0xd2b)]+_0x3050f3(0x726)+new Date(_0x1daea1[_0x3050f3(0x3ef)])[_0x3050f3(0x269)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x1ee604+_0x3050f3(0x8f2)+_0x5269cb+_0x3050f3(0x9ce)+_0x178cfc+'\x22>'+_0x1aabf9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1daea1['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1daea1['id']+_0x3050f3(0x37d)+(_0x1daea1[_0x3050f3(0x93a)]?_0x3050f3(0x7cd):_0x3050f3(0x389))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12e4bb+_0x3050f3(0x96a)+_0x1daea1['id']+_0x3050f3(0xe7f)+_0x1daea1['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1daea1['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1daea1['id']+_0x3050f3(0x691)+_0x1daea1['id']+_0x3050f3(0xa89)+_0x1daea1['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1daea1['id']+_0x3050f3(0xc24)+_0x1daea1[_0x3050f3(0x3bb)]+_0x3050f3(0xa6e)+_0x1daea1['id']+_0x3050f3(0x890)+_0x1daea1['id']+_0x3050f3(0x997)+_0x24c592+_0x3050f3(0xe38)+_0x1daea1['id']+_0x3050f3(0x3e6)+_0x1daea1['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1daea1['id']+_0x3050f3(0x801)+_0x1daea1['id']+_0x3050f3(0xa79)+_0x1daea1['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1daea1['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1daea1['id']+_0x3050f3(0xc3d)+_0x1daea1['id']+_0x3050f3(0xc24)+_0x1daea1[_0x3050f3(0x3bb)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x1daea1['id']+_0x3050f3(0x21a);}),_0x406a47[_0x4294b4(0xd15)]=_0x526297,document['querySelectorAll']('.quiz-result-card')[_0x4294b4(0x91b)](_0x4a54c7=>{_0x4a54c7['addEventListener']('click',()=>{const _0x3e96b1=_0x55d5,_0x3389ec=_0x4a54c7[_0x3e96b1(0x970)][_0x3e96b1(0x44b)];showQuizDetailView(_0x3389ec);});});}async function handleUnpairQuiz(_0x32b35a){const _0x4e4c94=_0x3abb87,_0x176b52=allQuizzes['find'](_0x1bd921=>_0x1bd921['id']===_0x32b35a);if(!_0x176b52||!_0x176b52[_0x4e4c94(0xe5c)]){showMessage(_0x4e4c94(0xe44));return;}showConfirmation(_0x4e4c94(0x8a2),async()=>{const _0x4cec99=_0x4e4c94;try{const _0xb034ba=doc(db,_0x4cec99(0x8da)+appId+_0x4cec99(0xe3e),_0x32b35a),_0x5ef512=doc(db,_0x4cec99(0x8da)+appId+_0x4cec99(0xe3e),_0x176b52['pairedQuizId']),_0x10c75c=writeBatch(db);_0x10c75c[_0x4cec99(0x6f2)](_0xb034ba,{'pairedQuizId':null}),_0x10c75c[_0x4cec99(0x6f2)](_0x5ef512,{'pairedQuizId':null}),await _0x10c75c[_0x4cec99(0x444)](),showMessage(_0x4cec99(0x792));}catch(_0x428c30){console['error']('Error\x20unpairing\x20quizzes:',_0x428c30),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x5bfb58,_0x1937be){const _0x103b05=_0x3abb87,_0x345b48=window['open']('','_blank'),_0x3a1422='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x1937be[_0x103b05(0x3bb)]+_0x103b05(0x507)+_0x1937be[_0x103b05(0x3bb)]+_0x103b05(0x5e2)+_0x5bfb58[_0x103b05(0xdf1)][_0x103b05(0x561)](_0x580cb8=>_0x103b05(0xa66)+_0x580cb8+_0x103b05(0x592))[_0x103b05(0xe0b)]('')+_0x103b05(0xa1e)+_0x5bfb58[_0x103b05(0xbe5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bfb58[_0x103b05(0xcc9)][_0x103b05(0x561)](_0x3d9099=>_0x103b05(0x36b)+_0x3d9099[_0x103b05(0x231)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x3d9099[_0x103b05(0xa72)]+_0x103b05(0xdce))['join']('')+_0x103b05(0x555);_0x345b48['document']['write'](_0x3a1422),_0x345b48[_0x103b05(0x9bc)][_0x103b05(0x7e4)](),_0x345b48[_0x103b05(0x55b)]=function(){setTimeout(()=>{const _0x26829d=_0x55d5;_0x345b48[_0x26829d(0x322)]();},0x3e8);};}async function handleAiFixFormula(_0x12e82f){const _0x489bd8=_0x3abb87,_0x1a3487=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x12e82f+'\x22]');if(!_0x1a3487)return;const _0x5371fc=_0x1a3487[_0x489bd8(0x970)][_0x489bd8(0xdd7)],_0x18d8e0=_0x1a3487['querySelector'](_0x489bd8(0xcaf));let _0x20acb5={'question':_0x1a3487['querySelector'](_0x489bd8(0xe5d))[_0x489bd8(0x8a6)]};switch(_0x5371fc){case'multiple_choice':_0x20acb5[_0x489bd8(0x254)]=Array[_0x489bd8(0x944)](_0x1a3487[_0x489bd8(0x628)](_0x489bd8(0x816)))[_0x489bd8(0x561)](_0x3a3a63=>_0x3a3a63[_0x489bd8(0x8a6)]);break;case _0x489bd8(0xb85):_0x20acb5[_0x489bd8(0x288)]=_0x1a3487[_0x489bd8(0xd5b)](_0x489bd8(0x774))[_0x489bd8(0x8a6)];break;case _0x489bd8(0x79a):_0x20acb5[_0x489bd8(0x707)]=_0x1a3487[_0x489bd8(0xd5b)](_0x489bd8(0xcc6))[_0x489bd8(0x8a6)];break;}_0x18d8e0['innerHTML']=_0x489bd8(0x780),_0x18d8e0[_0x489bd8(0x5ad)]=!![];try{const _0xcb7124='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x489bd8(0x6e6)](_0x20acb5)+_0x489bd8(0x253),_0x72f74b={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x489bd8(0x9bd),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x489bd8(0x29d)},'correctResponse':{'type':_0x489bd8(0x29d)}},'required':[_0x489bd8(0x231)]}},'required':[_0x489bd8(0x4eb)]},_0xb50b7f=await callAnalysisApi(_0xcb7124,_0x72f74b);if(_0xb50b7f&&_0xb50b7f['fixedData']){const _0x4333a3=_0xb50b7f['fixedData'];_0x1a3487[_0x489bd8(0xd5b)]('textarea')['value']=_0x4333a3[_0x489bd8(0x231)]||_0x20acb5[_0x489bd8(0x231)];switch(_0x5371fc){case'multiple_choice':_0x4333a3['options']&&_0x4333a3[_0x489bd8(0x254)][_0x489bd8(0xd2b)]>0x0&&_0x1a3487[_0x489bd8(0x628)](_0x489bd8(0x816))['forEach']((_0x54166d,_0x3d07a5)=>{const _0x31a90b=_0x489bd8;_0x54166d[_0x31a90b(0x8a6)]=_0x4333a3[_0x31a90b(0x254)][_0x3d07a5]||_0x20acb5[_0x31a90b(0x254)][_0x3d07a5];});break;case _0x489bd8(0xb85):_0x1a3487[_0x489bd8(0xd5b)](_0x489bd8(0x774))['value']=_0x4333a3['idealAnswer']||_0x20acb5['idealAnswer'];break;case _0x489bd8(0x79a):_0x1a3487[_0x489bd8(0xd5b)](_0x489bd8(0xcc6))['value']=_0x4333a3[_0x489bd8(0x707)]||_0x20acb5[_0x489bd8(0x707)];break;}if(_0x20acb5[_0x489bd8(0x231)]!==_0x4333a3[_0x489bd8(0x231)])try{const _0x16bb03=collection(db,_0x489bd8(0x8da)+appId+'/public/data/learnedFixes');await addDoc(_0x16bb03,{'broken':_0x20acb5['question'],'fixed':_0x4333a3[_0x489bd8(0x231)],'createdAt':serverTimestamp()});}catch(_0x561c8d){console['error'](_0x489bd8(0x919),_0x561c8d);}showMessage(_0x489bd8(0x841));}else throw new Error(_0x489bd8(0xc29));}catch(_0x1693d6){console[_0x489bd8(0x28d)](_0x489bd8(0x371),_0x1693d6),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x18d8e0[_0x489bd8(0xd15)]=_0x489bd8(0xce6),_0x18d8e0[_0x489bd8(0x5ad)]=![];}}async function handleGenerateLessonPlan(_0x2ce747){const _0x44690d=_0x3abb87;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x57e49b=doc(db,_0x44690d(0x8da)+appId+'/public/data/quizzes',_0x2ce747),_0x2a165b=await getDoc(_0x57e49b);if(!_0x2a165b[_0x44690d(0xc9d)]())throw new Error(_0x44690d(0x397));const _0x213df9={'id':_0x2ce747,..._0x2a165b[_0x44690d(0x3f4)]()},_0x3f5dc0=collection(db,_0x44690d(0x8da)+appId+_0x44690d(0xe3e),_0x2ce747,'submissions'),_0x30bd0a=await getDocs(_0x3f5dc0),_0x131e50=_0x30bd0a['docs'][_0x44690d(0x561)](_0x2ed031=>_0x2ed031[_0x44690d(0x3f4)]());if(_0x131e50[_0x44690d(0xd2b)]===0x0)throw new Error(_0x44690d(0xd7d));const _0x37ab9e=calculateItemAnalysis(_0x213df9,_0x131e50)['perQuestionStats'],_0x4b267a=calculateDistractorAnalysis(_0x213df9,_0x131e50),_0x3b90f9=_0x3f1477=>{const _0x109100=_0x44690d;if(!_0x3f1477)return'';return _0x3f1477[_0x109100(0x749)](/\\/g,'\x5c\x5c')[_0x109100(0x749)](/"/g,'\x5c\x22')[_0x109100(0x749)](/\n/g,'\x5cn');};let _0x56cee5=_0x44690d(0x604);_0x213df9[_0x44690d(0x806)][_0x44690d(0x91b)]((_0x15a633,_0x28ed17)=>{const _0x4a0b8b=_0x44690d,_0x207749=_0x37ab9e[_0x28ed17]?.['p'][_0x4a0b8b(0xddd)](0x2)||_0x4a0b8b(0x9da),_0x2e3aab=_0x37ab9e[_0x28ed17]?.['r'][_0x4a0b8b(0xddd)](0x2)||_0x4a0b8b(0x9da),_0x5ca4d5=_0x3b90f9(_0x15a633['questionText']||_0x15a633[_0x4a0b8b(0x9b7)]);_0x56cee5+='-\x20ข้อ\x20'+(_0x28ed17+0x1)+_0x4a0b8b(0x64b)+_0x207749+',\x20r='+_0x2e3aab+_0x4a0b8b(0x82b)+_0x5ca4d5+'\x5cn';if(_0x15a633['questionType']===_0x4a0b8b(0x431)&&_0x4b267a[_0x28ed17]){const _0x347859=_0x4b267a[_0x28ed17],_0x59e2a2=Object[_0x4a0b8b(0xbd6)](_0x347859)[_0x4a0b8b(0x27c)](_0x565f5c=>parseInt(_0x565f5c)!==_0x15a633[_0x4a0b8b(0xa07)])[_0x4a0b8b(0xb00)]((_0x35dc4d,_0x20e789)=>_0x347859[_0x20e789][_0x4a0b8b(0x2fd)]-_0x347859[_0x35dc4d][_0x4a0b8b(0x2fd)])[0x0];if(_0x59e2a2&&_0x347859[_0x59e2a2][_0x4a0b8b(0x2fd)]>0x0){const _0x1dcdeb=_0x3b90f9(_0x347859[_0x59e2a2][_0x4a0b8b(0xba9)]);_0x56cee5+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x1dcdeb+'\x22\x5cn';}}});const _0x5e3696=_0x44690d(0xb17)+_0x213df9['topic']+_0x44690d(0xb31)+_0x56cee5+_0x44690d(0x638),_0xdd119c={'type':_0x44690d(0xbe1),'properties':{'learningGaps':{'type':_0x44690d(0x9bd),'items':{'type':_0x44690d(0x29d)}},'teachingContent':{'type':_0x44690d(0x29d)},'practiceProblems':{'type':_0x44690d(0x9bd),'items':{'type':_0x44690d(0xbe1),'properties':{'question':{'type':_0x44690d(0x29d)},'solution':{'type':_0x44690d(0x29d)}}}}},'required':[_0x44690d(0xdf1),_0x44690d(0xbe5),'practiceProblems']},_0x2fce99=await callAnalysisApi(_0x5e3696,_0xdd119c);await updateDoc(_0x57e49b,{'lessonPlan':_0x2fce99});const _0xbac0d4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x213df9[_0x44690d(0x3bb)]+_0x44690d(0xc19)+_0x2fce99[_0x44690d(0xdf1)][_0x44690d(0x561)](_0x48c646=>_0x44690d(0xa66)+_0x48c646+_0x44690d(0x592))[_0x44690d(0xe0b)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x2fce99['teachingContent']+_0x44690d(0x313)+_0x2fce99['practiceProblems']['map'](_0x3b743a=>_0x44690d(0x4b1)+_0x3b743a[_0x44690d(0x231)]+_0x44690d(0x8b6)+_0x3b743a[_0x44690d(0xa72)]+'</p></div>')[_0x44690d(0xe0b)]('')+_0x44690d(0x3ce);document[_0x44690d(0x753)](_0x44690d(0x37a))[_0x44690d(0xbde)]=_0x44690d(0x240)+_0x213df9[_0x44690d(0x3bb)],document[_0x44690d(0x753)](_0x44690d(0x4a7))['innerHTML']=_0xbac0d4,document[_0x44690d(0x753)]('lesson-plan-modal')[_0x44690d(0x33a)][_0x44690d(0x23a)]('hidden');if(window[_0x44690d(0xc12)])MathJax['typesetPromise']();messageModal['classList'][_0x44690d(0xbaf)](_0x44690d(0x986));}catch(_0x2ccc1f){console['error']('Error\x20generating\x20lesson\x20plan:',_0x2ccc1f),showMessage(_0x44690d(0x339)+_0x2ccc1f[_0x44690d(0x9e1)]);}}async function handleDuplicateQuiz(_0x52bc5e){const _0x1d567f=_0x3abb87;try{const _0x11d078=doc(db,'artifacts/'+appId+_0x1d567f(0xe3e),_0x52bc5e),_0x101c54=await getDoc(_0x11d078);if(_0x101c54[_0x1d567f(0xc9d)]()){const _0x3a4632=_0x101c54['data']();let _0x134628='',_0x35140f=_0x1d567f(0xd28),_0x5827a0=null;if(_0x3a4632[_0x1d567f(0xa25)]===_0x1d567f(0x3ca)){let _0x2e501d=_0x3a4632[_0x1d567f(0x3bb)][_0x1d567f(0x749)](_0x1d567f(0x93f),'')[_0x1d567f(0xda7)]();_0x134628=_0x1d567f(0xd3f)+_0x2e501d,_0x35140f=_0x1d567f(0x76f),_0x5827a0=_0x52bc5e;}else _0x134628='(คัดลอก)\x20'+_0x3a4632[_0x1d567f(0x3bb)];const _0xe2ddb1={..._0x3a4632,'topic':_0x134628,'createdAt':new Date()[_0x1d567f(0x84a)](),'quizMode':_0x35140f,'pairedQuizId':_0x5827a0};let _0x341ac0;while(!![]){_0x341ac0=Math[_0x1d567f(0x886)](0x3e8+Math[_0x1d567f(0x323)]()*0x2328)[_0x1d567f(0xbd3)]();const _0x34adc1=await getDoc(doc(db,_0x1d567f(0x8da)+appId+'/public/data/quizzes',_0x341ac0));if(!_0x34adc1[_0x1d567f(0xc9d)]())break;}const _0x466d69=doc(db,_0x1d567f(0x8da)+appId+_0x1d567f(0xe3e),_0x341ac0);await setDoc(_0x466d69,_0xe2ddb1),_0xe2ddb1[_0x1d567f(0xa25)]===_0x1d567f(0x76f)&&await updateDoc(_0x11d078,{'pairedQuizId':_0x341ac0}),showMessage(_0x1d567f(0xc63));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x518910){console[_0x1d567f(0x28d)](_0x1d567f(0xca9),_0x518910),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x18162f,_0x28bf56=!![]){const _0x4e8a02=_0x3abb87;try{const _0x26fa2f=writeBatch(db),_0x20d1a6=collection(db,_0x4e8a02(0x8da)+appId+_0x4e8a02(0x75d)+_0x18162f+_0x4e8a02(0x4cc)),_0x54faf0=await getDocs(_0x20d1a6);_0x54faf0[_0x4e8a02(0x91b)](_0xb4b81a=>{const _0xcecdac=_0x4e8a02;_0x26fa2f[_0xcecdac(0x6fd)](doc(_0x20d1a6,_0xb4b81a['id']));});const _0x322cff=doc(db,'artifacts/'+appId+_0x4e8a02(0xe3e),_0x18162f);_0x26fa2f[_0x4e8a02(0x6fd)](_0x322cff),await _0x26fa2f[_0x4e8a02(0x444)]();try{console['log'](_0x4e8a02(0x932)+_0x18162f+'\x20in\x20all\x20blueprint\x20projects.');const _0x3bcb1e=collection(db,_0x4e8a02(0x8da)+appId+_0x4e8a02(0xd3d)),_0x1b728e=await getDocs(_0x3bcb1e),_0x8b6eac=[];_0x1b728e['forEach'](_0x58eeb6=>{const _0x22153f=_0x4e8a02,_0x1aebd7=_0x58eeb6[_0x22153f(0x3f4)](),_0x161228=_0x1aebd7[_0x22153f(0x7b1)]||{};let _0x5e33a1=![];for(const _0x31bdde in _0x161228){const _0x105b9f=_0x161228[_0x31bdde];if(_0x105b9f[_0x22153f(0x5d7)]&&_0x105b9f[_0x22153f(0x5d7)]['includes'](_0x18162f)){_0x5e33a1=!![];const _0x1c2d0a=doc(db,_0x22153f(0x8da)+appId+_0x22153f(0xd3d),_0x58eeb6['id']),_0x35ca77=updateDoc(_0x1c2d0a,{[_0x22153f(0x708)+_0x31bdde+'.linkedQuizIds']:arrayRemove(_0x18162f)});_0x8b6eac['push'](_0x35ca77);}}}),_0x8b6eac[_0x4e8a02(0xd2b)]>0x0&&(await Promise[_0x4e8a02(0x5ea)](_0x8b6eac),console['log']('Successfully\x20removed\x20'+_0x8b6eac[_0x4e8a02(0xd2b)]+_0x4e8a02(0x6c8)+_0x18162f+'.'));}catch(_0x242fc2){console[_0x4e8a02(0x28d)](_0x4e8a02(0xc77),_0x242fc2);}_0x28bf56&&showMessage(_0x4e8a02(0x200));}catch(_0xb00b80){console[_0x4e8a02(0x28d)](_0x4e8a02(0x87a),_0xb00b80),_0x28bf56&&showMessage(_0x4e8a02(0x502));}}async function showQuizDetailView(_0x5a1fc4){const _0x2cf238=_0x3abb87;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2cf238(0xae2));try{const _0x4bfb5f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5a1fc4),_0x18eec0=await getDoc(_0x4bfb5f);if(!_0x18eec0[_0x2cf238(0xc9d)]()){showMessage(_0x2cf238(0x397));return;}const _0x552330={'id':_0x18eec0['id'],..._0x18eec0[_0x2cf238(0x3f4)]()};currentQuizData=_0x552330;const _0x137919=doc(db,_0x2cf238(0x8da)+appId+_0x2cf238(0xdfd),_0x552330[_0x2cf238(0x365)]),_0x30ea32=await getDoc(_0x137919);_0x30ea32[_0x2cf238(0xc9d)]()?(currentProjectData=_0x30ea32['data'](),currentProjectId=_0x552330[_0x2cf238(0x365)]):(currentProjectData={'students':[]},currentProjectId=_0x552330['projectId']);document[_0x2cf238(0x753)](_0x2cf238(0xbac))[_0x2cf238(0xbde)]=_0x552330[_0x2cf238(0x3bb)],document['getElementById'](_0x2cf238(0x99e))[_0x2cf238(0xbde)]=_0x5a1fc4;const _0x104aea=collection(db,'artifacts/'+appId+_0x2cf238(0xe3e),_0x5a1fc4,_0x2cf238(0x8ad));unsubscribeSubmissionsListener=onSnapshot(_0x104aea,_0x28990a=>{const _0x4d8a3c=_0x2cf238,_0x258b9e=_0x28990a[_0x4d8a3c(0x2a7)]['map'](_0x43cf4b=>({'id':_0x43cf4b['id'],..._0x43cf4b['data']()}));currentSubmissions=_0x258b9e;const _0x581db3=_0x258b9e['filter'](_0xa75520=>_0xa75520[_0x4d8a3c(0x2c5)]&&_0xa75520['attempts'][_0x4d8a3c(0xd2b)]>0x0);renderBehaviorLog(_0x258b9e),renderAnswerGrid(currentProjectData[_0x4d8a3c(0x7d2)],_0x581db3,_0x552330),renderAnalytics(_0x552330,_0x581db3),renderQuizResultsTable(currentProjectData[_0x4d8a3c(0x7d2)],_0x258b9e,_0x552330),renderQuizLeaderboard(_0x581db3,_0x552330,_0x4d8a3c(0xd12));}),showView(_0x2cf238(0x522));}catch(_0x506cdc){console['error'](_0x2cf238(0x54e),_0x506cdc),showMessage(_0x2cf238(0x453));}}function renderAnswerGrid(_0x35fcd9,_0x6932d2,_0xf2852e){const _0x7bb86a=_0x3abb87,_0x1123bf=document[_0x7bb86a(0x753)](_0x7bb86a(0x234));if(!_0x1123bf)return;if(!_0x35fcd9||_0x35fcd9['length']===0x0){_0x1123bf[_0x7bb86a(0xd15)]=_0x7bb86a(0x206);return;}const _0x3ea5e1=_0xf2852e[_0x7bb86a(0x806)],_0x471a73=_0x6932d2[_0x7bb86a(0x257)]((_0x5b60ac,_0x24284b)=>{const _0x218222=_0x7bb86a;return _0x5b60ac[_0x24284b[_0x218222(0x4f9)]]=_0x24284b,_0x5b60ac;},{}),_0x572cd4=_0x4dbf43=>String[_0x7bb86a(0x83c)](0x41+_0x4dbf43),_0x4d6970=_0x119ff4=>{const _0x58af95=_0x7bb86a,_0x296850=_0x119ff4['questionType']||_0xf2852e[_0x58af95(0x273)];switch(_0x296850){case _0x58af95(0x431):return _0x119ff4['options']&&_0x119ff4[_0x58af95(0x254)][_0x58af95(0xd2b)]>_0x119ff4['correctAnswerIndex']?_0x572cd4(_0x119ff4[_0x58af95(0xa07)]):'-';case'true_false':const _0x5cb636=_0x119ff4[_0x58af95(0x509)]===!![]||String(_0x119ff4[_0x58af95(0x509)])[_0x58af95(0x6d9)]()==='true';return _0x5cb636?'ใช่':_0x58af95(0x1d2);case'matching_item':return _0x119ff4['correctResponse']||'-';case'short_answer':return _0x58af95(0xd09);default:return'-';}},_0x381b81=(_0x17a933,_0x3351fc)=>{const _0x4b734f=_0x7bb86a;if(_0x3351fc[_0x4b734f(0x5b8)]===null||_0x3351fc['answer']===undefined)return'-';const _0x487d15=_0x17a933[_0x4b734f(0x302)]||_0xf2852e[_0x4b734f(0x273)];switch(_0x487d15){case'multiple_choice':const _0x3b591e=_0x17a933[_0x4b734f(0x254)][_0x4b734f(0xbda)](_0x47d6cb=>_0x47d6cb===_0x3351fc['answerText']);return _0x3b591e!==-0x1?_0x572cd4(_0x3b591e):_0x3351fc[_0x4b734f(0x5b9)]||'-';case _0x4b734f(0x718):if(_0x3351fc[_0x4b734f(0x5b8)]=='0'||_0x3351fc[_0x4b734f(0x5b8)]===!![]||_0x3351fc[_0x4b734f(0x5b8)]===_0x4b734f(0x243))return _0x4b734f(0x33e);return _0x4b734f(0x1d2);default:return _0x3351fc[_0x4b734f(0x5b8)];}};let _0x5221ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ea5e1[_0x7bb86a(0x561)]((_0x36002a,_0x3474aa)=>_0x7bb86a(0x2a4)+(_0x3474aa+0x1)+_0x7bb86a(0x9e4))[_0x7bb86a(0xe0b)]('')+_0x7bb86a(0x24a)+_0x3ea5e1[_0x7bb86a(0x561)](_0x12a276=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x4d6970(_0x12a276)+_0x7bb86a(0xa80))[_0x7bb86a(0xe0b)]('')+_0x7bb86a(0xb43);_0x35fcd9[_0x7bb86a(0x91b)](_0x2394de=>{const _0x162817=_0x7bb86a;_0x5221ff+=_0x162817(0xdb0),_0x5221ff+=_0x162817(0x528)+_0x2394de+_0x162817(0xa80);const _0x149a56=_0x471a73[_0x2394de];if(_0x149a56){const _0x3176b6=_0x149a56[_0x162817(0x2c5)][_0x149a56['attempts']['length']-0x1];_0x3ea5e1['forEach']((_0x5c321e,_0x490cab)=>{const _0xed54ed=_0x162817,_0x12cbee=_0x3176b6[_0xed54ed(0x67e)][_0xed54ed(0x7f4)](_0x3b1fd7=>_0x3b1fd7[_0xed54ed(0xd18)]===_0x5c321e['id']);if(_0x12cbee){let _0x314d27='';const _0x1cb87f=_0x12cbee['isCorrect']===!![],_0x4b9d82=_0x12cbee[_0xed54ed(0x630)]===!![]||_0x12cbee[_0xed54ed(0x630)]===_0xed54ed(0x82f);_0x4b9d82?_0x314d27=_0x1cb87f?_0xed54ed(0x5f8):_0xed54ed(0x836):_0x314d27=_0x1cb87f?_0xed54ed(0xba8):_0xed54ed(0x3f5),_0x5221ff+=_0xed54ed(0x71b)+_0x314d27+'\x22>'+_0x381b81(_0x5c321e,_0x12cbee)+_0xed54ed(0xa80);}else _0x5221ff+=_0xed54ed(0x3e7);});}else _0x5221ff+=_0x3ea5e1['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')['join']('');_0x5221ff+=_0x162817(0xe4b);}),_0x5221ff+=_0x7bb86a(0xc6e),_0x1123bf[_0x7bb86a(0xd15)]=_0x5221ff;}function renderQuizResultsTable(_0x529e76,_0x475fd9,_0x8d12f0){const _0xe2a4aa=_0x3abb87,_0x367375=_0x475fd9[_0xe2a4aa(0x257)]((_0x3b6580,_0x4df4be)=>{const _0x232687=_0xe2a4aa;return _0x3b6580[_0x4df4be[_0x232687(0x4f9)]]=_0x4df4be,_0x3b6580;},{}),_0x24d3be=document[_0xe2a4aa(0xd5b)](_0xe2a4aa(0x829));_0x24d3be&&!_0x24d3be[_0xe2a4aa(0xd15)]['includes'](_0xe2a4aa(0x46d))&&(_0x24d3be['innerHTML']+=_0xe2a4aa(0x4bf));const _0x554396=document[_0xe2a4aa(0x753)](_0xe2a4aa(0x9c8));if(!_0x529e76||_0x529e76[_0xe2a4aa(0xd2b)]===0x0){_0x554396['innerHTML']=_0xe2a4aa(0x2c6);return;}const _0x363c9c=_0x8d12f0[_0xe2a4aa(0x748)]===!![],_0x394a96=_0x8d12f0[_0xe2a4aa(0xa95)]?.[_0xe2a4aa(0x575)]??-0x1;let _0x39a76f='';_0x529e76[_0xe2a4aa(0x91b)](_0x4321e2=>{const _0x494e7a=_0xe2a4aa,_0x4cf5f6=_0x367375[_0x4321e2];let _0x41d583=_0x494e7a(0x43c)+(_0x363c9c?_0x494e7a(0x9ef):_0x494e7a(0xab2))+'\x22>'+(_0x363c9c?'สอบซ่อม':'สอบปกติ')+_0x494e7a(0x9be);if(_0x4cf5f6){if(_0x4cf5f6[_0x494e7a(0x2c5)]&&_0x4cf5f6['attempts'][_0x494e7a(0xd2b)]>0x0){let _0x5f1db4=_0x363c9c?_0x4cf5f6[_0x494e7a(0x95d)]===_0x4cf5f6[_0x494e7a(0xc21)]:_0x394a96!==-0x1&&_0x4cf5f6['bestScore']>=_0x394a96;const _0x4cd574=_0x5f1db4?'bg-green-100\x20text-green-800':_0x494e7a(0x609),_0x3d6a45=_0x5f1db4?_0x494e7a(0x456):_0x494e7a(0x1f3),_0x3770c7=_0x494e7a(0x5ba)+_0x4cd574+'\x22>'+_0x3d6a45+_0x494e7a(0x9be),_0x1d1bc7='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x4cf5f6[_0x494e7a(0x2c5)]?.[_0x494e7a(0xd2b)]||0x1)+'\x20ครั้ง)</span></td>';_0x39a76f+=_0x494e7a(0xe21)+_0x4321e2+_0x494e7a(0x7b5)+_0x4cf5f6[_0x494e7a(0x95d)]+'\x20/\x20'+_0x4cf5f6[_0x494e7a(0xc21)]+_0x494e7a(0x977)+_0x3770c7+_0x494e7a(0xd49)+_0x41d583+_0x494e7a(0x9d6)+_0x4cf5f6[_0x494e7a(0x9aa)]+_0x494e7a(0x375)+_0x4cf5f6[_0x494e7a(0xc21)]+_0x494e7a(0x3e2)+_0x4cf5f6[_0x494e7a(0xd4f)]+_0x494e7a(0x375)+_0x4cf5f6[_0x494e7a(0xc21)]+_0x494e7a(0x877)+(_0x4cf5f6[_0x494e7a(0x728)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d1bc7+_0x494e7a(0xa7e)+new Date(_0x4cf5f6[_0x494e7a(0x1e2)])[_0x494e7a(0x269)](_0x494e7a(0x40e))+_0x494e7a(0xbe0)+_0x4321e2+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x97c7f3=_0x494e7a(0xdcd);_0x39a76f+=_0x494e7a(0xc80)+_0x4321e2+_0x494e7a(0xae8)+_0x41d583+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x97c7f3+_0x494e7a(0xa7e)+new Date(_0x4cf5f6[_0x494e7a(0x7fb)])[_0x494e7a(0x269)](_0x494e7a(0x40e))+_0x494e7a(0x781)+_0x4321e2+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x200c8e='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x39a76f+=_0x494e7a(0x3c8)+_0x4321e2+_0x494e7a(0xe05)+_0x41d583+_0x494e7a(0x8ce)+_0x200c8e+_0x494e7a(0xcf2);}}),_0x554396[_0xe2a4aa(0xd15)]=_0x39a76f;}async function confirmRenameQuiz(){const _0x106c17=_0x3abb87,_0x727294=document[_0x106c17(0x753)](_0x106c17(0x9e0))['value'][_0x106c17(0xda7)]();if(!_0x727294){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x49d422=doc(db,'artifacts/'+appId+_0x106c17(0xe3e),actionTargetId);try{await updateDoc(_0x49d422,{'topic':_0x727294}),showMessage(_0x106c17(0xb61)),renameQuizModal[_0x106c17(0x33a)][_0x106c17(0xbaf)](_0x106c17(0x986)),actionTargetId=null;}catch(_0x43b576){console[_0x106c17(0x28d)]('Error\x20renaming\x20quiz:',_0x43b576),showMessage(_0x106c17(0x59b));}}async function handleMoveQuiz(_0x303181){const _0x4f1df2=_0x3abb87;actionTargetId=_0x303181;const _0x464412=document[_0x4f1df2(0x753)]('move-quiz-project-select');_0x464412['innerHTML']=_0x4f1df2(0xd19),moveQuizModal[_0x4f1df2(0x33a)][_0x4f1df2(0x23a)](_0x4f1df2(0x986));try{const _0x1f4aa9=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x26ffc3=await getDocs(_0x1f4aa9),_0x313c2b=_0x26ffc3[_0x4f1df2(0x2a7)]['map'](_0x1ea0ef=>({'id':_0x1ea0ef['id'],..._0x1ea0ef['data']()})),_0x198e39=_0x313c2b[_0x4f1df2(0x27c)](_0x5c1df3=>_0x5c1df3['id']!==currentProjectId);if(_0x198e39[_0x4f1df2(0xd2b)]===0x0){_0x464412[_0x4f1df2(0xd15)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x4f1df2(0x753)](_0x4f1df2(0xd22))['disabled']=!![];return;}_0x464412[_0x4f1df2(0xd15)]=_0x198e39[_0x4f1df2(0x561)](_0x39f77d=>_0x4f1df2(0x957)+_0x39f77d['id']+'\x22>'+_0x39f77d[_0x4f1df2(0x5f4)]+_0x4f1df2(0xaa5))[_0x4f1df2(0xe0b)](''),document[_0x4f1df2(0x753)](_0x4f1df2(0xd22))[_0x4f1df2(0x5ad)]=![];}catch(_0x406915){console[_0x4f1df2(0x28d)](_0x4f1df2(0x56b),_0x406915),showMessage(_0x4f1df2(0xa5a)),moveQuizModal['classList']['add'](_0x4f1df2(0x986));}}async function confirmMoveQuiz(){const _0xa5af06=_0x3abb87,_0x13382b=document[_0xa5af06(0x753)](_0xa5af06(0x3c2))['value'];if(!_0x13382b){showMessage(_0xa5af06(0x24d));return;}if(!actionTargetId)return;const _0x15cc7b=doc(db,_0xa5af06(0x8da)+appId+_0xa5af06(0xe3e),actionTargetId);try{await updateDoc(_0x15cc7b,{'projectId':_0x13382b}),showMessage(_0xa5af06(0x69f)),moveQuizModal[_0xa5af06(0x33a)][_0xa5af06(0xbaf)](_0xa5af06(0x986)),actionTargetId=null;}catch(_0x120e58){console[_0xa5af06(0x28d)](_0xa5af06(0x1f0),_0x120e58),showMessage(_0xa5af06(0x43a));}}async function handleQuizSettings(_0x121315){const _0x28ffdd=_0x3abb87;actionTargetId=_0x121315;const _0x163c6e=doc(db,_0x28ffdd(0x8da)+appId+_0x28ffdd(0xe3e),_0x121315);try{const _0x1e269c=await getDoc(_0x163c6e);if(_0x1e269c[_0x28ffdd(0xc9d)]()){const _0x5cb1dd=_0x1e269c[_0x28ffdd(0x3f4)](),_0x50f0cf=_0x5cb1dd['settings']||{},_0x36f01f=_0x5cb1dd[_0x28ffdd(0x806)][_0x28ffdd(0xd2b)];document['getElementById']('modal-shuffle-select')[_0x28ffdd(0x8a6)]=_0x50f0cf[_0x28ffdd(0x7bd)]||'none',document[_0x28ffdd(0x753)](_0x28ffdd(0x632))[_0x28ffdd(0x8a6)]=_0x50f0cf[_0x28ffdd(0x354)]||'show_results_and_answers',document[_0x28ffdd(0x753)](_0x28ffdd(0x308))[_0x28ffdd(0x8a6)]=_0x50f0cf[_0x28ffdd(0x9ee)]||_0x28ffdd(0x961),document[_0x28ffdd(0x753)]('modal-timer-duration-input')['value']=_0x50f0cf[_0x28ffdd(0x4ed)]||0xa,document[_0x28ffdd(0x753)](_0x28ffdd(0x844))['value']=_0x50f0cf[_0x28ffdd(0x575)]||Math[_0x28ffdd(0x886)](_0x36f01f/0x2),document[_0x28ffdd(0x753)]('modal-passing-score-input')[_0x28ffdd(0x513)]=_0x36f01f,document[_0x28ffdd(0x753)](_0x28ffdd(0xb7f))[_0x28ffdd(0xc32)]=_0x50f0cf[_0x28ffdd(0x511)]||![],document['getElementById'](_0x28ffdd(0x740))[_0x28ffdd(0xc32)]=_0x50f0cf[_0x28ffdd(0x8eb)]||![];const _0x339f5a=_0x50f0cf[_0x28ffdd(0xc67)]||![];document[_0x28ffdd(0x753)](_0x28ffdd(0x39b))['checked']=_0x339f5a,document[_0x28ffdd(0x753)](_0x28ffdd(0xe17))['value']=_0x50f0cf[_0x28ffdd(0x9b2)]||_0x28ffdd(0xd8a);const _0x2b5c37=document[_0x28ffdd(0x753)]('modal-confidence-mode-container');_0x2b5c37[_0x28ffdd(0x33a)]['toggle'](_0x28ffdd(0x986),!_0x339f5a),document[_0x28ffdd(0x753)](_0x28ffdd(0x308))[_0x28ffdd(0x95b)](new Event(_0x28ffdd(0x220))),quizSettingsModal['classList'][_0x28ffdd(0x23a)](_0x28ffdd(0x986));}else showMessage(_0x28ffdd(0x397));}catch(_0x57b92c){console[_0x28ffdd(0x28d)](_0x28ffdd(0x5a4),_0x57b92c),showMessage(_0x28ffdd(0x467));}}async function confirmQuizSettings(){const _0x35e8f2=_0x3abb87;if(!actionTargetId)return;const _0x283bb1=doc(db,'artifacts/'+appId+_0x35e8f2(0xe3e),actionTargetId),_0x591194={'shuffle':document[_0x35e8f2(0x753)]('modal-shuffle-select')['value'],'resultsDisplay':document[_0x35e8f2(0x753)]('modal-results-display-select')['value'],'timerMode':document[_0x35e8f2(0x753)]('modal-timer-mode-select')[_0x35e8f2(0x8a6)],'timerDuration':parseInt(document['getElementById'](_0x35e8f2(0x764))[_0x35e8f2(0x8a6)])||0xa,'passingScore':parseInt(document[_0x35e8f2(0x753)](_0x35e8f2(0x844))[_0x35e8f2(0x8a6)])||0x0,'isAdaptive':document['getElementById'](_0x35e8f2(0xb7f))[_0x35e8f2(0xc32)],'loopUntilPass':document['getElementById'](_0x35e8f2(0x740))[_0x35e8f2(0xc32)],'isConfidenceScoringEnabled':document[_0x35e8f2(0x753)](_0x35e8f2(0x39b))[_0x35e8f2(0xc32)],'confidenceMode':document[_0x35e8f2(0x753)](_0x35e8f2(0xe17))[_0x35e8f2(0x8a6)]};try{await updateDoc(_0x283bb1,{'settings':_0x591194}),showMessage(_0x35e8f2(0x6cb)),quizSettingsModal[_0x35e8f2(0x33a)][_0x35e8f2(0xbaf)](_0x35e8f2(0x986)),actionTargetId=null;}catch(_0x2866a1){console[_0x35e8f2(0x28d)](_0x35e8f2(0xe46),_0x2866a1),showMessage(_0x35e8f2(0xbec));}}async function confirmQuizStatus(){const _0x5a35b5=_0x3abb87;if(!actionTargetId)return;const _0x489967=doc(db,_0x5a35b5(0x8da)+appId+'/public/data/quizzes',actionTargetId),_0x115736=document[_0x5a35b5(0xd5b)](_0x5a35b5(0x9ea));if(!_0x115736){showMessage('กรุณาเลือกสถานะ');return;}const _0x5451be=_0x115736['value'];let _0x2e5f38={};if(_0x5451be===_0x5a35b5(0x351)||_0x5451be===_0x5a35b5(0x42f))_0x2e5f38={'status':_0x5451be,'startTime':null,'endTime':null};else{if(_0x5451be===_0x5a35b5(0x74c)){const _0x2a8adc=document[_0x5a35b5(0x753)]('quiz-start-time')[_0x5a35b5(0x8a6)],_0x3ec1ad=document[_0x5a35b5(0x753)](_0x5a35b5(0x8bb))[_0x5a35b5(0x8a6)];if(!_0x2a8adc&&!_0x3ec1ad){showMessage(_0x5a35b5(0x623));return;}_0x2e5f38={'status':_0x5a35b5(0x2ca),'startTime':_0x2a8adc?new Date(_0x2a8adc)[_0x5a35b5(0x84a)]():null,'endTime':_0x3ec1ad?new Date(_0x3ec1ad)[_0x5a35b5(0x84a)]():null};}}try{await updateDoc(_0x489967,_0x2e5f38),showMessage(_0x5a35b5(0x478)),quizStatusModal[_0x5a35b5(0x33a)][_0x5a35b5(0xbaf)](_0x5a35b5(0x986)),actionTargetId=null;}catch(_0x29a783){console[_0x5a35b5(0x28d)](_0x5a35b5(0x8fe),_0x29a783),showMessage(_0x5a35b5(0x620));}}function listenForStudentProfiles(_0x1a75c1){const _0xcdacee=_0x3abb87,_0x2868a4=collection(db,_0xcdacee(0x8da)+appId+_0xcdacee(0xe71)+_0x1a75c1+_0xcdacee(0xb74));unsubscribeStudentProfilesListener=onSnapshot(_0x2868a4,_0x200180=>{const _0xb10623=_0xcdacee,_0x30b6d6=_0x200180['docs'][_0xb10623(0x561)](_0xd0329e=>_0xd0329e['data']());renderLeaderboard(_0x30b6d6,'leaderboard-table-body');},_0x45c502=>{const _0x42f5d=_0xcdacee;console[_0x42f5d(0x28d)](_0x42f5d(0xd00),_0x45c502),document[_0x42f5d(0x753)](_0x42f5d(0x3b9))[_0x42f5d(0xd15)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x297066,_0x306e1b){const _0x95cbdc=_0x3abb87,_0x1f9fc2=document[_0x95cbdc(0x753)](_0x306e1b);if(!_0x297066||_0x297066[_0x95cbdc(0xd2b)]===0x0){_0x1f9fc2[_0x95cbdc(0xd15)]=_0x95cbdc(0xa17);return;}_0x297066[_0x95cbdc(0xb00)]((_0x5a592b,_0x6a96e3)=>{const _0x372d29=_0x95cbdc,_0x5e89c5=(_0x6a96e3[_0x372d29(0x695)]||0x0)-(_0x5a592b[_0x372d29(0x695)]||0x0);if(_0x5e89c5!==0x0)return _0x5e89c5;const _0x29d4ce=(_0x6a96e3[_0x372d29(0x2dd)]?.[_0x372d29(0x731)]||0x0)-(_0x5a592b[_0x372d29(0x2dd)]?.[_0x372d29(0x731)]||0x0);if(_0x29d4ce!==0x0)return _0x29d4ce;const _0x285a15=(_0x6a96e3[_0x372d29(0x2dd)]?.[_0x372d29(0x8df)]||0x0)-(_0x5a592b[_0x372d29(0x2dd)]?.[_0x372d29(0x8df)]||0x0);if(_0x285a15!==0x0)return _0x285a15;const _0x3a8be7=(_0x6a96e3['badgesCount']?.[_0x372d29(0x834)]||0x0)-(_0x5a592b[_0x372d29(0x2dd)]?.[_0x372d29(0x834)]||0x0);if(_0x3a8be7!==0x0)return _0x3a8be7;const _0x297a40=(_0x6a96e3[_0x372d29(0x2dd)]?.['quick_thinker']||0x0)-(_0x5a592b[_0x372d29(0x2dd)]?.[_0x372d29(0x2cf)]||0x0);if(_0x297a40!==0x0)return _0x297a40;return _0x5a592b[_0x372d29(0x4f9)][_0x372d29(0xe3a)](_0x6a96e3[_0x372d29(0x4f9)],'th');});let _0x2b22b2='';_0x297066[_0x95cbdc(0x91b)]((_0x2f8dec,_0x21426c)=>{const _0x2495a3=_0x95cbdc,_0x447366=_0x21426c+0x1,_0xe8afe9=_0x2f8dec[_0x2495a3(0x2dd)]||{};let _0x25ecc='';const _0x5543df=[_0x2495a3(0x731),_0x2495a3(0x834),_0x2495a3(0x8df),_0x2495a3(0x2cf)];_0x5543df[_0x2495a3(0x91b)](_0x8d8a7b=>{const _0x3c4f2e=_0x2495a3;if(_0xe8afe9[_0x8d8a7b]>0x0){const _0x31840c=Object[_0x3c4f2e(0xa10)](BADGES)[_0x3c4f2e(0x7f4)](_0x210592=>_0x210592['id']===_0x8d8a7b);_0x31840c&&(_0x8d8a7b==='specialist'?_0x25ecc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x31840c[_0x3c4f2e(0xc71)]+_0x3c4f2e(0xd10)+_0x31840c[_0x3c4f2e(0x329)]+_0x3c4f2e(0x86c):_0x25ecc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x31840c[_0x3c4f2e(0xc71)]+'\x20('+_0xe8afe9[_0x8d8a7b]+_0x3c4f2e(0xdb9)+_0x31840c[_0x3c4f2e(0x329)]+_0x3c4f2e(0x851)+_0xe8afe9[_0x8d8a7b]+_0x3c4f2e(0xb9e));}}),_0x2b22b2+=_0x2495a3(0x7d1)+_0x447366+_0x2495a3(0x2c0)+_0x2f8dec[_0x2495a3(0x4f9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x2f8dec[_0x2495a3(0x695)]||0x0)+_0x2495a3(0x2c0)+(_0x25ecc||'-')+_0x2495a3(0xdb8);}),_0x1f9fc2[_0x95cbdc(0xd15)]=_0x2b22b2;}function displayLoopScreen(_0x6141cc,_0x5ed229,_0x20a17f){const _0x2710cd=_0x3abb87;let _0x1b78a0='';_0x20a17f!=='show_pass_fail_only'&&(_0x1b78a0=_0x2710cd(0x4e8)+_0x6141cc+_0x2710cd(0x375)+_0x5ed229+_0x2710cd(0xa9f));const _0x3e28fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b78a0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x2710cd(0xd15)]=_0x3e28fb,studentResultArea[_0x2710cd(0x33a)][_0x2710cd(0x23a)](_0x2710cd(0x986)),studentQuizArea[_0x2710cd(0x33a)]['add'](_0x2710cd(0x986)),document[_0x2710cd(0x753)]('retake-quiz-loop-btn')[_0x2710cd(0xdd0)]('click',()=>{const _0x2af79e=_0x2710cd;studentResultArea[_0x2af79e(0x33a)][_0x2af79e(0xbaf)](_0x2af79e(0x986)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x191603,_0x26d3ee,_0x161c63){const _0x4daf70=_0x3abb87,_0x1b3c5f=document[_0x4daf70(0x753)](_0x161c63),_0x5eeb9f=_0x161c63===_0x4daf70(0xce3),_0x1d0230=_0x26d3ee[_0x4daf70(0x806)]['length'],_0x3005d9=document[_0x4daf70(0x753)](_0x161c63)[_0x4daf70(0xdad)]('table');if(_0x3005d9&&!_0x5eeb9f){const _0x3270ac=_0x3005d9[_0x4daf70(0xd5b)](_0x4daf70(0xa4d));_0x3270ac[_0x4daf70(0xd15)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x191603||_0x191603[_0x4daf70(0xd2b)]===0x0){_0x1b3c5f[_0x4daf70(0xd15)]='<tr><td\x20colspan=\x22'+(_0x5eeb9f?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x1f99c2=[..._0x191603];_0x1f99c2[_0x4daf70(0xb00)]((_0x5a466e,_0x2e94da)=>{const _0x1a2126=_0x4daf70;let _0xa66b07,_0x581479;switch(quizLeaderboardSortBy){case'studentName':_0xa66b07=_0x5a466e[_0x1a2126(0x4f9)]||'',_0x581479=_0x2e94da[_0x1a2126(0x4f9)]||'';return quizLeaderboardSortOrder===_0x1a2126(0xd4b)?_0xa66b07[_0x1a2126(0xe3a)](_0x581479,'th'):_0x581479[_0x1a2126(0xe3a)](_0xa66b07,'th');case'points':_0xa66b07=_0x5a466e[_0x1a2126(0x728)]||0x0,_0x581479=_0x2e94da[_0x1a2126(0x728)]||0x0;break;case _0x1a2126(0x2c5):_0xa66b07=_0x5a466e[_0x1a2126(0x2c5)]?.[_0x1a2126(0xd2b)]||0x1,_0x581479=_0x2e94da[_0x1a2126(0x2c5)]?.['length']||0x1;break;case'latestSubmittedAt':_0xa66b07=new Date(_0x5a466e[_0x1a2126(0x1e2)]),_0x581479=new Date(_0x2e94da[_0x1a2126(0x1e2)]);break;case _0x1a2126(0x95d):default:_0xa66b07=_0x5a466e[_0x1a2126(0x95d)],_0x581479=_0x2e94da[_0x1a2126(0x95d)];break;}if(_0xa66b07<_0x581479)return quizLeaderboardSortOrder===_0x1a2126(0xd4b)?-0x1:0x1;if(_0xa66b07>_0x581479)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x5d9904=_0x26d3ee[_0x4daf70(0x748)]===!![],_0xed2a38=_0x26d3ee[_0x4daf70(0xa95)]?.[_0x4daf70(0x575)]??-0x1;let _0x3ee8a1='';_0x1f99c2[_0x4daf70(0x91b)]((_0x133e10,_0x9d4e0b)=>{const _0x1e4e3e=_0x4daf70,_0x58f19b=_0x9d4e0b+0x1;let _0xfc9e31='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x5d9904||_0xed2a38!==-0x1){let _0x36652c=_0x5d9904?_0x133e10[_0x1e4e3e(0x95d)]===_0x1d0230:_0x133e10[_0x1e4e3e(0x95d)]>=_0xed2a38;const _0x4a3ece=_0x36652c?_0x1e4e3e(0xdbd):'bg-red-100\x20text-red-800',_0x58307e=_0x36652c?_0x1e4e3e(0x456):_0x1e4e3e(0x1f3);_0xfc9e31=_0x1e4e3e(0x883)+_0x4a3ece+'\x22>'+_0x58307e+'</span></td>';}const _0x5ee283=_0x133e10[_0x1e4e3e(0x2c5)][_0x133e10[_0x1e4e3e(0x2c5)]['length']-0x1],_0x3857c8=(_0x5ee283[_0x1e4e3e(0x9f4)]||[])[_0x1e4e3e(0x561)](_0xa18283=>{const _0xa039b7=_0x1e4e3e,_0x5373fc=Object[_0xa039b7(0xa10)](BADGES)[_0xa039b7(0x7f4)](_0x27f9d9=>_0x27f9d9['id']===_0xa18283);return _0x5373fc?_0xa039b7(0xb28)+_0x5373fc[_0xa039b7(0xc71)]+_0xa039b7(0x742)+_0x5373fc[_0xa039b7(0x329)]+_0xa039b7(0x635):'';})[_0x1e4e3e(0xe0b)]('');_0x3ee8a1+=_0x1e4e3e(0x750)+_0x58f19b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x133e10[_0x1e4e3e(0x4f9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x133e10['bestScore']+_0x1e4e3e(0x375)+_0x1d0230+_0x1e4e3e(0xd90)+_0xfc9e31+_0x1e4e3e(0x49b)+(_0x133e10[_0x1e4e3e(0x728)]||0x0)+_0x1e4e3e(0xd90)+(_0x5eeb9f?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x133e10['attempts']?.['length']||0x1)+_0x1e4e3e(0xa80))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5eeb9f?'':_0x1e4e3e(0x4ea)+new Date(_0x133e10[_0x1e4e3e(0x1e2)])[_0x1e4e3e(0x269)](_0x1e4e3e(0x40e))+'</td>')+_0x1e4e3e(0xd7a)+(_0x3857c8||'-')+_0x1e4e3e(0xce2);}),_0x1b3c5f[_0x4daf70(0xd15)]=_0x3ee8a1,_0x3005d9&&!_0x5eeb9f&&_0x3005d9[_0x4daf70(0x628)](_0x4daf70(0x9b6))['forEach'](_0x8f5760=>{const _0x453c0d=_0x4daf70,_0x2a23e6=_0x8f5760['querySelector'](_0x453c0d(0x409));if(_0x2a23e6)_0x2a23e6[_0x453c0d(0x23a)]();_0x8f5760[_0x453c0d(0x970)][_0x453c0d(0xb00)]===quizLeaderboardSortBy&&(_0x8f5760[_0x453c0d(0xd15)]+=_0x453c0d(0xa82)+(quizLeaderboardSortOrder===_0x453c0d(0xd4b)?'▲':'▼')+_0x453c0d(0x487));});}async function handleDeleteSubmission(_0x4a42e4){const _0x3bb558=_0x3abb87;if(!currentQuizData||!currentQuizData['id']||!_0x4a42e4){showMessage(_0x3bb558(0xcd8));return;}showConfirmation(_0x3bb558(0x6be)+_0x4a42e4+_0x3bb558(0x20e),async()=>{const _0x449306=_0x3bb558,_0x1838e9=currentQuizData['id'],_0x348d2d=doc(db,_0x449306(0x8da)+appId+_0x449306(0x75d)+_0x1838e9+'/submissions',_0x4a42e4);try{await deleteDoc(_0x348d2d),showMessage(_0x449306(0x7be)+_0x4a42e4+'\x20สำเร็จ');}catch(_0x473d16){console[_0x449306(0x28d)](_0x449306(0x372),_0x473d16),showMessage(_0x449306(0xd98));}});}async function handleLoadQuiz(){const _0x5060e4=_0x3abb87,_0x5b65c4=document['getElementById']('quiz-id-input'),_0xb51e00=_0x5b65c4['value'][_0x5060e4(0xda7)]();if(!_0xb51e00){showMessage(_0x5060e4(0x36a));return;}loadQuizBtn[_0x5060e4(0x5ad)]=!![],loadQuizBtn['innerHTML']=_0x5060e4(0x43f);try{const _0x62c25a=doc(db,_0x5060e4(0x8da)+appId+_0x5060e4(0xe3e),_0xb51e00),_0x5b02dc=await getDoc(_0x62c25a);if(!_0x5b02dc[_0x5060e4(0xc9d)]()){showMessage(_0x5060e4(0xd0c));return;}currentQuizData={'id':_0x5b02dc['id'],..._0x5b02dc[_0x5060e4(0x3f4)]()};const _0x5f2854=currentQuizData['status']||_0x5060e4(0x351),_0x1d0b45=new Date();if(_0x5f2854==='inactive'){showMessage(_0x5060e4(0xc03));return;}if(_0x5f2854==='scheduled'){const _0x27932a=currentQuizData['startTime']?new Date(currentQuizData[_0x5060e4(0x91a)]):null,_0x16ebdf=currentQuizData['endTime']?new Date(currentQuizData['endTime']):null;if(_0x27932a&&_0x1d0b45<_0x27932a){showMessage(_0x5060e4(0x6ca)+_0x27932a['toLocaleString'](_0x5060e4(0x40e),{'hour12':![]}));return;}if(_0x16ebdf&&_0x1d0b45>_0x16ebdf){showMessage(_0x5060e4(0xcbf));return;}}const _0x5b5bb6=currentQuizData[_0x5060e4(0x365)];currentProjectId=_0x5b5bb6;const _0x1adb8d=doc(db,_0x5060e4(0x8da)+appId+'/public/data/projects',_0x5b5bb6),_0x4c1344=await getDoc(_0x1adb8d);if(!_0x4c1344[_0x5060e4(0xc9d)]()){showMessage(_0x5060e4(0x34e));return;}const _0x14a464=_0x4c1344[_0x5060e4(0x3f4)]();currentStudentProjectData=_0x14a464,displayStudentNameSelector(_0x14a464['students'],currentQuizData[_0x5060e4(0x3bb)]);}catch(_0x10890c){console[_0x5060e4(0x28d)](_0x5060e4(0x80e),_0x10890c),showMessage(_0x5060e4(0xc65));}finally{loadQuizBtn[_0x5060e4(0x5ad)]=![],loadQuizBtn[_0x5060e4(0xd15)]=_0x5060e4(0x516);}}async function handleJoinLiveGame(){const _0x54bc0c=_0x3abb87,_0x58e791=document[_0x54bc0c(0x753)](_0x54bc0c(0x860)),_0x59e4a7=document[_0x54bc0c(0x753)](_0x54bc0c(0x503)),_0x2855e7=document[_0x54bc0c(0x753)](_0x54bc0c(0x683)),_0x26869b=_0x58e791[_0x54bc0c(0x8a6)]['trim'](),_0x2c21b6=_0x59e4a7[_0x54bc0c(0x8a6)][_0x54bc0c(0xda7)]();if(!_0x26869b||!_0x2c21b6){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x2855e7[_0x54bc0c(0x5ad)]=!![],_0x2855e7[_0x54bc0c(0xd15)]=_0x54bc0c(0xc73);try{const _0x35a180=collection(db,_0x54bc0c(0x8da)+appId+'/public/data/liveGames'),_0x569c1c=query(_0x35a180,where('gamePin','==',_0x26869b),where('status','in',['lobby',_0x54bc0c(0x231)])),_0x6bdea9=await getDocs(_0x569c1c);if(_0x6bdea9[_0x54bc0c(0x38e)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x2411cf=_0x6bdea9[_0x54bc0c(0x2a7)][0x0],_0x5bc8b9=_0x2411cf['data']();currentLiveGameId=_0x2411cf['id'];const _0x4cdc84=_0x5bc8b9[_0x54bc0c(0x44b)],_0x3eefc6=doc(db,_0x54bc0c(0x8da)+appId+'/public/data/quizzes',_0x4cdc84),_0x40f675=await getDoc(_0x3eefc6);if(!_0x40f675['exists']()){showMessage(_0x54bc0c(0x2ea));return;}currentQuizData={'id':_0x40f675['id'],..._0x40f675[_0x54bc0c(0x3f4)]()};if(_0x5bc8b9['players']&&_0x5bc8b9['players'][_0x2c21b6]){const _0x14fae0=_0x5bc8b9[_0x54bc0c(0xc17)][_0x2c21b6];if(_0x14fae0['status']==='inactive'){_0x2855e7[_0x54bc0c(0xd15)]=_0x54bc0c(0x96e);const _0x1890a2={};_0x1890a2['players.'+_0x2c21b6+_0x54bc0c(0x2bf)]='active',await updateDoc(doc(db,_0x54bc0c(0x8da)+appId+'/public/data/liveGames',currentLiveGameId),_0x1890a2),showView(_0x54bc0c(0x35a)),currentStudentName=_0x2c21b6,listenForLiveGameUpdates();return;}else{showMessage(_0x54bc0c(0x7d5));return;}}if(_0x5bc8b9[_0x54bc0c(0x98e)]!==_0x54bc0c(0x973)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x2855e7['innerHTML']=_0x54bc0c(0x7ed);const _0x1c9f9b={};_0x1c9f9b[_0x54bc0c(0x784)+_0x2c21b6]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x54bc0c(0x351)},await updateDoc(doc(db,_0x54bc0c(0x8da)+appId+_0x54bc0c(0xc70),currentLiveGameId),_0x1c9f9b),currentStudentName=_0x2c21b6,listenForLiveGameUpdates();}catch(_0x481571){console[_0x54bc0c(0x28d)]('Error\x20joining\x20live\x20game:',_0x481571),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x2855e7[_0x54bc0c(0x5ad)]=![],_0x2855e7[_0x54bc0c(0xd15)]=_0x54bc0c(0x3a2);}}function displayStudentNameSelector(_0x27544e,_0x4bc5c7){const _0x5a9489=_0x3abb87,_0x42cb2b=document[_0x5a9489(0x753)](_0x5a9489(0xacd));document[_0x5a9489(0x753)](_0x5a9489(0x8cb))[_0x5a9489(0xbde)]=_0x5a9489(0x63b)+_0x4bc5c7,!_0x27544e||_0x27544e['length']===0x0?(_0x42cb2b[_0x5a9489(0xd15)]=_0x5a9489(0xbc2),startQuizBtn[_0x5a9489(0x5ad)]=!![]):(_0x42cb2b[_0x5a9489(0xd15)]=_0x5a9489(0xd84),_0x27544e['forEach'](_0x402861=>{const _0xef5f02=_0x5a9489,_0x5d2e54=document[_0xef5f02(0x419)](_0xef5f02(0xcc2));_0x5d2e54[_0xef5f02(0x8a6)]=_0x402861,_0x5d2e54['textContent']=_0x402861,_0x42cb2b[_0xef5f02(0xb8c)](_0x5d2e54);}),startQuizBtn[_0x5a9489(0x5ad)]=![]),studentInitialView[_0x5a9489(0x33a)][_0x5a9489(0xbaf)](_0x5a9489(0x986)),studentNameSelectionView[_0x5a9489(0x33a)][_0x5a9489(0x23a)](_0x5a9489(0x986));}function shuffleArray(_0x4ba4f8){const _0x16981c=_0x3abb87;for(let _0x399a84=_0x4ba4f8[_0x16981c(0xd2b)]-0x1;_0x399a84>0x0;_0x399a84--){const _0x50bccd=Math[_0x16981c(0x886)](Math[_0x16981c(0x323)]()*(_0x399a84+0x1));[_0x4ba4f8[_0x399a84],_0x4ba4f8[_0x50bccd]]=[_0x4ba4f8[_0x50bccd],_0x4ba4f8[_0x399a84]];}}function getShuffledQuiz(_0x2324b1){const _0x2a646d=_0x3abb87;let _0x35b77e=JSON['parse'](JSON['stringify'](_0x2324b1));const _0x4b73c9=_0x35b77e[_0x2a646d(0xa95)]?.[_0x2a646d(0x7bd)]||_0x2a646d(0x961);if(_0x4b73c9===_0x2a646d(0x961))return _0x35b77e;return(_0x4b73c9===_0x2a646d(0x32c)||_0x4b73c9===_0x2a646d(0xc5f))&&shuffleArray(_0x35b77e['questions']),(_0x4b73c9==='choices_only'||_0x4b73c9==='both')&&_0x35b77e[_0x2a646d(0x806)][_0x2a646d(0x91b)](_0x476723=>{const _0x155af0=_0x2a646d,_0x4482df=_0x476723[_0x155af0(0x302)]||_0x35b77e[_0x155af0(0x273)];if(_0x476723[_0x155af0(0x254)]){let _0x424c61=_0x476723['options']['map']((_0x97aa96,_0x40cb4d)=>({'text':_0x97aa96,'isCorrect':_0x40cb4d===_0x476723[_0x155af0(0xa07)]}));shuffleArray(_0x424c61),_0x476723[_0x155af0(0x254)]=_0x424c61['map'](_0x39a3d2=>_0x39a3d2['text']),_0x476723[_0x155af0(0xa07)]=_0x424c61['findIndex'](_0x4d7fa2=>_0x4d7fa2[_0x155af0(0x88b)]);}_0x4482df===_0x155af0(0x79a)&&_0x476723[_0x155af0(0x798)]&&shuffleArray(_0x476723[_0x155af0(0x798)]);}),_0x35b77e;}function displayQuizForStudent(_0x4ac39a){const _0x480f62=_0x3abb87;studentQuizArea[_0x480f62(0x33a)][_0x480f62(0x23a)](_0x480f62(0x986)),currentDisplayedQuiz=getShuffledQuiz(_0x4ac39a);currentMode!==_0x480f62(0x330)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x480f62(0xdd0)](_0x480f62(0xe08),handleFullscreenChange),document[_0x480f62(0xdd0)](_0x480f62(0x77c),handleVisibilityChange),enterFullscreen(),window[_0x480f62(0xdd0)](_0x480f62(0xa33),resetDimTimer),window[_0x480f62(0xdd0)](_0x480f62(0xc87),resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window[_0x480f62(0xdd0)]('keydown',resetDimTimer),resetDimTimer());const _0x275e1f=currentDisplayedQuiz[_0x480f62(0xa95)]?.[_0x480f62(0x9ee)]||_0x480f62(0x961);if(_0x275e1f===_0x480f62(0x8b8))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x480f62(0xa95)]['timerDuration']);else _0x275e1f==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1ebd59=_0x3abb87,_0x312292=currentDisplayedQuiz[_0x1ebd59(0xa95)]?.[_0x1ebd59(0xc67)]===!![],_0xd97d4f=currentDisplayedQuiz[_0x1ebd59(0xa95)]?.['confidenceMode']||_0x1ebd59(0xd8a);let _0x164cf4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x1ebd59(0x3bb)]+_0x1ebd59(0xe2a)+(currentMode===_0x1ebd59(0x330)?_0x1ebd59(0x287):'')+_0x1ebd59(0x6d3);currentDisplayedQuiz[_0x1ebd59(0x806)][_0x1ebd59(0x91b)]((_0x2a52ac,_0x1429be)=>{const _0x3b9999=_0x1ebd59,_0x318e0f=_0x2a52ac[_0x3b9999(0x302)]||currentDisplayedQuiz[_0x3b9999(0x273)];_0x164cf4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x318e0f===_0x3b9999(0x79a)){}else _0x164cf4+='<p>'+(_0x1429be+0x1)+'.\x20'+(_0x2a52ac[_0x3b9999(0xa94)]||_0x2a52ac[_0x3b9999(0xbdb)])+_0x3b9999(0x854),_0x2a52ac[_0x3b9999(0xc35)]&&(_0x164cf4+=_0x3b9999(0x7d7)+_0x2a52ac[_0x3b9999(0xc35)]+_0x3b9999(0x634));_0x164cf4+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x318e0f){case'short_answer':_0x164cf4+='<textarea\x20name=\x22question'+_0x1429be+_0x3b9999(0x873);break;case'true_false':_0x164cf4+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1429be+_0x3b9999(0x2b8)+_0x1429be+_0x3b9999(0x6e1)+_0x1429be+_0x3b9999(0xe63),_0x164cf4+=_0x3b9999(0xafc)+_0x1429be+'_opt1\x22\x20name=\x22question'+_0x1429be+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1429be+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x3b9999(0x79a):_0x164cf4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x2a52ac['stem']+_0x3b9999(0x60f)+_0x1429be+_0x3b9999(0xb8d)+_0x2a52ac[_0x3b9999(0x798)][_0x3b9999(0x561)](_0x6788de=>_0x3b9999(0x957)+_0x6788de+'\x22>'+_0x6788de+_0x3b9999(0xaa5))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x164cf4+=_0x2a52ac[_0x3b9999(0x254)][_0x3b9999(0x561)]((_0x2ff9b9,_0x2d1f49)=>_0x3b9999(0xd39)+_0x1429be+_0x3b9999(0xd11)+_0x2d1f49+_0x3b9999(0x5fe)+_0x1429be+_0x3b9999(0x3c4)+_0x2d1f49+_0x3b9999(0x539)+_0x1429be+_0x3b9999(0xd11)+_0x2d1f49+'\x22>'+_0x2ff9b9+_0x3b9999(0xb35))[_0x3b9999(0xe0b)]('');break;}_0x164cf4+=_0x3b9999(0x634),_0x312292&&(_0x164cf4+=_0x3b9999(0x8d5),_0xd97d4f===_0x3b9999(0xdbf)?_0x164cf4+=_0x3b9999(0xd3c)+_0x1429be+'\x22\x20name=\x22confidence'+_0x1429be+_0x3b9999(0x300)+_0x1429be+_0x3b9999(0x9f1)+_0x1429be+_0x3b9999(0x7fc):_0x164cf4+=_0x3b9999(0xd20)+_0x1429be+'\x22\x20name=\x22confidence'+_0x1429be+_0x3b9999(0x9a4)+_0x1429be+_0x3b9999(0xb18),_0x164cf4+=_0x3b9999(0x634)),_0x164cf4+=_0x3b9999(0x634);}),_0x164cf4+=_0x1ebd59(0x803),_0x164cf4+=_0x1ebd59(0x7f3),studentQuizArea[_0x1ebd59(0xd15)]=_0x164cf4;if(currentMode===_0x1ebd59(0x330)){const _0x50835c=document[_0x1ebd59(0x753)](_0x1ebd59(0xb96));if(_0x50835c)_0x50835c[_0x1ebd59(0xdd0)]('click',cancelAdminTest);}const _0x318269=document[_0x1ebd59(0x753)](_0x1ebd59(0x217));_0x318269&&(_0x318269[_0x1ebd59(0xdd0)]('submit',handleSubmitQuiz),_0x318269[_0x1ebd59(0xdd0)](_0x1ebd59(0xaa0),_0x882adb=>{const _0x13e7f6=_0x1ebd59;if(_0x882adb[_0x13e7f6(0x589)][_0x13e7f6(0x33a)]['contains'](_0x13e7f6(0x8cf))){const _0x4c07c1=_0x882adb[_0x13e7f6(0x589)],_0x3d9f42=_0x4c07c1['dataset'][_0x13e7f6(0x824)],_0x3c40be=_0x4c07c1[_0x13e7f6(0x970)][_0x13e7f6(0x8a6)];document['getElementById']('confidence-input-'+_0x3d9f42)[_0x13e7f6(0x8a6)]=_0x3c40be;const _0x4259a5=_0x4c07c1[_0x13e7f6(0x283)];_0x4259a5[_0x13e7f6(0x628)](_0x13e7f6(0x5d0))['forEach'](_0x40ae69=>_0x40ae69[_0x13e7f6(0x33a)][_0x13e7f6(0x23a)](_0x13e7f6(0x351))),_0x4c07c1[_0x13e7f6(0x33a)][_0x13e7f6(0xbaf)](_0x13e7f6(0x351));}}));if(window['MathJax'])window[_0x1ebd59(0xc12)][_0x1ebd59(0x98a)]([studentQuizArea]);}async function handleSubmitQuiz(_0x48514a){const _0x33cbb7=_0x3abb87;if(_0x48514a)_0x48514a['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x516e97=document[_0x33cbb7(0x753)](_0x33cbb7(0x217));if(!_0x516e97)return;const _0x1f04ef=currentDisplayedQuiz['settings']?.[_0x33cbb7(0xc67)]===!![],_0x1f6706=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x33cbb7(0xd8a);if(_0x1f04ef&&_0x1f6706===_0x33cbb7(0xdbf)){let _0x426d31=!![];for(let _0x358f66=0x0;_0x358f66<currentDisplayedQuiz[_0x33cbb7(0x806)]['length'];_0x358f66++){const _0x6cc3a5=_0x516e97[_0x33cbb7(0xd5b)](_0x33cbb7(0x65d)+_0x358f66);if(!_0x6cc3a5||_0x6cc3a5[_0x33cbb7(0x8a6)]===''){_0x426d31=![];break;}}if(!_0x426d31){showMessage(_0x33cbb7(0xa3d));return;}}const _0x9920a5=_0x516e97['querySelector'](_0x33cbb7(0x796)),_0x522ebf=currentDisplayedQuiz['questions'][_0x33cbb7(0x560)](_0x5e43ff=>_0x5e43ff[_0x33cbb7(0x302)]===_0x33cbb7(0xb85));_0x9920a5&&(_0x9920a5[_0x33cbb7(0x5ad)]=!![],_0x9920a5['innerHTML']=_0x522ebf?_0x33cbb7(0x7f7):_0x33cbb7(0x907));const _0x3e840a=new FormData(_0x516e97),_0x2e606e=currentDisplayedQuiz['questions'][_0x33cbb7(0x561)]((_0x170e0f,_0x2e9c24)=>{const _0x2e0cc2=_0x33cbb7,_0x23b157=_0x3e840a[_0x2e0cc2(0x41c)](_0x2e0cc2(0x231)+_0x2e9c24);let _0x21e30;_0x1f6706==='mandatory'?_0x21e30=_0x3e840a[_0x2e0cc2(0x41c)](_0x2e0cc2(0xbb7)+_0x2e9c24):_0x21e30=_0x3e840a[_0x2e0cc2(0x41c)](_0x2e0cc2(0xbb7)+_0x2e9c24)==='on';let _0x8b1d41=null;if(_0x23b157!==null&&_0x23b157!==undefined){const _0x24d2bc=_0x170e0f[_0x2e0cc2(0x302)]||currentDisplayedQuiz[_0x2e0cc2(0x273)];_0x24d2bc===_0x2e0cc2(0x431)||_0x24d2bc===_0x2e0cc2(0xe7a)?_0x8b1d41=parseInt(_0x23b157):_0x8b1d41=_0x23b157;}return{'answer':_0x8b1d41,'wasConfident':_0x21e30};}),_0x4ca671=currentQuizData['id'],_0x286c49=doc(db,_0x33cbb7(0x8da)+appId+_0x33cbb7(0x75d)+_0x4ca671+_0x33cbb7(0x4cc),currentStudentName),_0x373f95=await getDoc(_0x286c49),_0x272069=_0x373f95[_0x33cbb7(0xc9d)]()?_0x373f95['data']():{},_0x44709a=_0x272069[_0x33cbb7(0x2c5)]||[];await processAndSubmitAnswers(_0x2e606e,_0x44709a);}async function gradeShortAnswerWithAI(_0x140b83,_0x4b4716){const _0x23067a=_0x3abb87;if(!_0x140b83||!_0x4b4716)return![];try{const _0x3864b6=_0x23067a(0x30b)+_0x140b83+_0x23067a(0x8ba)+_0x4b4716+_0x23067a(0x9e7),_0x4db04b={'contents':[{'role':_0x23067a(0xbbf),'parts':[{'text':_0x3864b6}]}]},_0x37b560=_0x23067a(0x98f),_0x11a866=_0x23067a(0x4af)+_0x37b560,_0x5d4c1d=await fetch(_0x11a866,{'method':_0x23067a(0xd31),'headers':{'Content-Type':_0x23067a(0x3eb)},'body':JSON[_0x23067a(0x6e6)](_0x4db04b)});if(!_0x5d4c1d['ok'])throw new Error('API\x20call\x20failed');const _0x41a32d=await _0x5d4c1d[_0x23067a(0x6a0)](),_0x43083e=_0x41a32d[_0x23067a(0x7db)][0x0][_0x23067a(0x901)][_0x23067a(0xdfa)][0x0][_0x23067a(0xba9)][_0x23067a(0xda7)]()['toLowerCase']();return _0x43083e===_0x23067a(0x243);}catch(_0x5a0f8b){return console[_0x23067a(0x28d)]('AI\x20grading\x20failed:',_0x5a0f8b),![];}}async function processAndSubmitAnswers(_0x1ff929,_0x6eb1b7){const _0x395fa5=_0x3abb87;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x395fa5(0xe08),handleFullscreenChange),document[_0x395fa5(0x21b)](_0x395fa5(0x77c),handleVisibilityChange);let _0x1164ee=0x0;const _0x590c11=[],_0x4ad4ff=currentDisplayedQuiz[_0x395fa5(0x806)][_0x395fa5(0xd2b)];let _0x13b67f=0x0,_0x6ae75a=[];const _0x1a3b42=currentDisplayedQuiz[_0x395fa5(0x806)];for(let _0x29b89f=0x0;_0x29b89f<_0x1a3b42[_0x395fa5(0xd2b)];_0x29b89f++){const _0x3a303a=_0x1a3b42[_0x29b89f],_0x5e2514=_0x1ff929[_0x29b89f],_0x65e75d=_0x5e2514?_0x5e2514[_0x395fa5(0x5b8)]:null,_0x331b31=_0x5e2514?_0x5e2514['wasConfident']:null;let _0x496157=![],_0x236de5=0x0;if(_0x65e75d!==null&&_0x65e75d!==''){const _0x4f8181=_0x3a303a[_0x395fa5(0x302)]||currentDisplayedQuiz['quizType'];switch(_0x4f8181){case _0x395fa5(0x79a):_0x496157=_0x65e75d===_0x3a303a[_0x395fa5(0x707)];break;case _0x395fa5(0x718):const _0x54aa8a=_0x65e75d===!![]||_0x65e75d===_0x395fa5(0x243);_0x496157=_0x54aa8a===_0x3a303a[_0x395fa5(0x509)];break;case _0x395fa5(0xb85):_0x496157=await gradeShortAnswer(_0x65e75d,_0x3a303a);break;case _0x395fa5(0x431):default:_0x496157=Number(_0x65e75d)===_0x3a303a['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x395fa5(0xa95)]?.['isConfidenceScoringEnabled']){const _0x948d1f=_0x5e2514?_0x5e2514[_0x395fa5(0x630)]:null;if(_0x496157&&(_0x948d1f===!![]||_0x948d1f===_0x395fa5(0x82f)))_0x236de5=0x2;else{if(_0x496157)_0x236de5=0x1;else{if(!_0x496157&&(_0x948d1f===![]||_0x948d1f===_0x395fa5(0xb5c)||_0x948d1f===null))_0x236de5=0x0;else!_0x496157&&(_0x948d1f===!![]||_0x948d1f==='confident')&&(_0x236de5=-0x1);}}}else _0x236de5=_0x496157?0x1:0x0;_0x1164ee+=_0x236de5;if(_0x496157){_0x13b67f++;if(_0x13b67f===0x3)_0x6ae75a[_0x395fa5(0xabd)](BADGES['ON_FIRE']['id']);}else _0x13b67f=0x0;let _0x41fc43=null;_0x3a303a[_0x395fa5(0x254)]&&_0x65e75d!==null&&(_0x41fc43=_0x3a303a[_0x395fa5(0x254)][_0x65e75d]),_0x590c11[_0x395fa5(0xabd)]({'questionId':_0x3a303a['id'],'answer':_0x65e75d,'answerText':_0x41fc43,'isCorrect':_0x496157,'wasConfident':_0x331b31,'pointsAwarded':_0x236de5,'originalQuestionText':_0x3a303a[_0x395fa5(0x9b7)]||_0x3a303a[_0x395fa5(0xbdb)]});}const _0x28be42=_0x590c11['filter'](_0x5a4cf1=>_0x5a4cf1[_0x395fa5(0x88b)])[_0x395fa5(0xd2b)],_0x1f8e60=currentDisplayedQuiz[_0x395fa5(0xa95)]?.[_0x395fa5(0x575)]??Math['floor'](_0x4ad4ff/0x2);_0x28be42===_0x4ad4ff&&_0x4ad4ff>0x0&&!currentDisplayedQuiz[_0x395fa5(0x748)]&&_0x6ae75a[_0x395fa5(0xabd)](BADGES['PERFECT_SCORE']['id']);const _0x147fff=currentDisplayedQuiz[_0x395fa5(0xa95)]?.['timerMode'];if(_0x147fff==='whole_quiz'&&quizStartTime){const _0x45ad96=(new Date()-quizStartTime)/0x3e8,_0x5186a3=currentDisplayedQuiz[_0x395fa5(0xa95)][_0x395fa5(0x4ed)]*0x3c;_0x28be42>=_0x1f8e60&&_0x45ad96<_0x5186a3/0x2&&_0x6ae75a[_0x395fa5(0xabd)](BADGES['QUICK_THINKER']['id']);}_0x6eb1b7[_0x395fa5(0xd2b)]===0x0&&_0x28be42===_0x4ad4ff&&_0x4ad4ff>0x0&&_0x6ae75a[_0x395fa5(0xabd)](BADGES['FIRST_TRY_ACE']['id']);if(_0x6eb1b7[_0x395fa5(0xd2b)]>0x0){const _0x201170=_0x6eb1b7[0x0][_0x395fa5(0xb3d)];if(_0x201170<_0x1f8e60&&_0x28be42>=_0x1f8e60){const _0x5c7f2c=_0x6eb1b7[_0x395fa5(0x560)](_0x3796ea=>(_0x3796ea['badges']||[])[_0x395fa5(0x842)](BADGES[_0x395fa5(0xca3)]['id']));!_0x5c7f2c&&_0x6ae75a[_0x395fa5(0xabd)](BADGES[_0x395fa5(0xca3)]['id']);}}_0x6eb1b7[_0x395fa5(0xd2b)]===0x4&&_0x6ae75a['push'](BADGES[_0x395fa5(0xa88)]['id']);const _0x18c577=currentDisplayedQuiz['settings']['resultsDisplay'];if(currentMode===_0x395fa5(0x330)){handleResultDisplay(_0x18c577,_0x28be42,_0x1164ee,_0x6ae75a,_0x590c11,_0x4ad4ff);return;}const _0x540feb=currentQuizData['id'],_0x30c967=doc(db,'artifacts/'+appId+_0x395fa5(0x75d)+_0x540feb+_0x395fa5(0x4cc),currentStudentName);try{const _0x5221f3=[..._0x6eb1b7],_0x5511b2={'score':_0x28be42,'points':_0x1164ee,'badges':Array[_0x395fa5(0x944)](new Set(_0x6ae75a)),'submittedAt':new Date()['toISOString'](),'answers':_0x590c11};_0x5221f3[_0x395fa5(0xabd)](_0x5511b2);const _0x3ceab4=_0x6eb1b7[_0x395fa5(0xd2b)]===0x0?_0x28be42:_0x6eb1b7[0x0]['score']||0x0,_0x383453=Math[_0x395fa5(0x513)](..._0x5221f3[_0x395fa5(0x561)](_0x3749b1=>_0x3749b1['score']));await setDoc(_0x30c967,{'studentName':currentStudentName,'totalQuestions':_0x4ad4ff,'attempts':_0x5221f3,'firstScore':_0x3ceab4,'bestScore':_0x383453,'latestScore':_0x28be42,'points':_0x1164ee,'latestSubmittedAt':_0x5511b2['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x395fa5(0x365)],currentStudentName),handleResultDisplay(_0x18c577,_0x28be42,_0x1164ee,_0x6ae75a,_0x590c11,_0x4ad4ff);}catch(_0x25ad76){console[_0x395fa5(0x28d)](_0x395fa5(0xaa1),_0x25ad76),showMessage(_0x395fa5(0x607));}}async function updateStudentProfile(_0x5ea23a,_0x1d317d){const _0x45c8d9=_0x3abb87,_0x4a9218=doc(db,_0x45c8d9(0x8da)+appId+'/public/data/projects/'+_0x5ea23a+_0x45c8d9(0xb74),_0x1d317d);try{const _0x59bcb4=query(collection(db,_0x45c8d9(0x8da)+appId+_0x45c8d9(0xe3e)),where(_0x45c8d9(0x365),'==',_0x5ea23a)),_0x3d6cb5=await getDocs(_0x59bcb4),_0x89b481=new Map(_0x3d6cb5[_0x45c8d9(0x2a7)][_0x45c8d9(0x561)](_0x1d2879=>[_0x1d2879['id'],_0x1d2879['data']()])),_0x36e11d=Array['from'](_0x89b481[_0x45c8d9(0xbd6)]());await runTransaction(db,async _0x50c6a8=>{const _0x467e2b=_0x45c8d9;let _0x41d9f5=0x0;const _0x3b3dff={};let _0x30c62e=!![],_0xf6873a=0x0,_0x5536ff=0x0;for(const _0x4dd128 of _0x36e11d){const _0x5cfcde=_0x89b481[_0x467e2b(0x41c)](_0x4dd128),_0x5620d6=doc(db,_0x467e2b(0x8da)+appId+'/public/data/quizzes/'+_0x4dd128+'/submissions',_0x1d317d),_0xa53bec=await _0x50c6a8[_0x467e2b(0x41c)](_0x5620d6);if(_0xa53bec[_0x467e2b(0xc9d)]()){const _0x3d3484=_0xa53bec[_0x467e2b(0x3f4)](),_0x4e740b=_0x3d3484[_0x467e2b(0x2c5)]||[];if(_0x4e740b['length']>0x0){const _0x3216dc=_0x4e740b[_0x467e2b(0x257)]((_0x3f7b7b,_0x1c1120)=>{const _0x36dafd=_0x467e2b;if(_0x1c1120['score']>_0x3f7b7b[_0x36dafd(0xb3d)])return _0x1c1120;if(_0x1c1120[_0x36dafd(0xb3d)]===_0x3f7b7b[_0x36dafd(0xb3d)])return(_0x1c1120[_0x36dafd(0x728)]||0x0)>(_0x3f7b7b[_0x36dafd(0x728)]||0x0)?_0x1c1120:_0x3f7b7b;return _0x3f7b7b;},{'score':-0x1,'points':-0x1});_0x3216dc['score']>-0x1&&(_0x41d9f5+=_0x3216dc[_0x467e2b(0x728)]||0x0,(_0x3216dc[_0x467e2b(0x9f4)]||[])[_0x467e2b(0x91b)](_0x207fe4=>{_0x3b3dff[_0x207fe4]=(_0x3b3dff[_0x207fe4]||0x0)+0x1;}));}}if(_0x5cfcde[_0x467e2b(0x3bb)]!==_0x467e2b(0xb3b)){_0x5536ff++;if(_0xa53bec[_0x467e2b(0xc9d)]()){_0xf6873a++;const _0x537a55=_0xa53bec[_0x467e2b(0x3f4)]();_0x537a55[_0x467e2b(0x95d)]!==_0x537a55['totalQuestions']&&(_0x30c62e=![]);}else _0x30c62e=![];}}_0x5536ff>0x0&&_0xf6873a===_0x5536ff&&_0x30c62e?_0x3b3dff[_0x467e2b(0x731)]=0x1:_0x3b3dff[_0x467e2b(0x731)]=0x0,_0x50c6a8[_0x467e2b(0x8ae)](_0x4a9218,{'studentName':_0x1d317d,'totalPoints':_0x41d9f5,'unlockedBadges':Object['keys'](_0x3b3dff)[_0x467e2b(0x27c)](_0x3aea7f=>_0x3b3dff[_0x3aea7f]>0x0),'badgesCount':_0x3b3dff},{'merge':!![]});});}catch(_0x34704a){console[_0x45c8d9(0x28d)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x34704a),showMessage(_0x45c8d9(0x736));}}function startAdminTest(){const _0x2caa38=_0x3abb87;if(!currentQuizData){showMessage(_0x2caa38(0x591));return;}let _0x5443b0=JSON['parse'](JSON['stringify'](currentQuizData));currentMode='admin-testing',currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x2caa38(0x33a)][_0x2caa38(0xbaf)](_0x2caa38(0x986)),studentView[_0x2caa38(0x33a)][_0x2caa38(0x23a)](_0x2caa38(0x986)),studentInitialView[_0x2caa38(0x33a)]['add'](_0x2caa38(0x986)),studentNameSelectionView[_0x2caa38(0x33a)]['add'](_0x2caa38(0x986)),studentResultArea[_0x2caa38(0x33a)][_0x2caa38(0xbaf)](_0x2caa38(0x986)),studentQuizArea['classList']['remove'](_0x2caa38(0x986)),quizStartTime=new Date(),displayQuizForStudent(_0x5443b0);}function handleResultDisplay(_0x27f38b,_0x436850,_0x295a79,_0x3558c4,_0x9677c4,_0x4813b6){const _0x4977ee=_0x3abb87;if(_0x27f38b===_0x4977ee(0xd42)){displaySubmissionConfirmation();return;}const _0x5c6b02=currentDisplayedQuiz['settings']?.[_0x4977ee(0x575)]??Math['floor'](_0x4813b6/0x2),_0xa8eeda=currentDisplayedQuiz[_0x4977ee(0xa95)]?.[_0x4977ee(0x511)]??![],_0x557138=currentDisplayedQuiz[_0x4977ee(0xa95)]?.['loopUntilPass']===!![],_0xc60ccd=_0x436850<_0x5c6b02,_0x1875f7=_0x27f38b===_0x4977ee(0x85a)||_0x27f38b===_0x4977ee(0x965);if(_0x557138&&_0xc60ccd&&!_0x1875f7){_0x27f38b==='show_results_and_answers'?displayResultsWithAnswers(_0x436850,_0x295a79,_0x3558c4,_0x9677c4,_0x4813b6,!![]):displayLoopScreen(_0x436850,_0x4813b6,_0x27f38b);return;}if(_0xa8eeda&&_0xc60ccd){startAdaptiveFlow(_0x9677c4,_0x436850,_0x4813b6);return;}switch(_0x27f38b){case _0x4977ee(0x6db):displayResultsWithAnswers(_0x436850,_0x295a79,_0x3558c4,_0x9677c4,_0x4813b6);break;case _0x4977ee(0x4f6):displayResultsScoreOnly(_0x436850,_0x295a79,_0x3558c4,_0x4813b6);break;case'show_pass_fail_only':displayPassFailOnly(_0x436850,_0x4813b6);break;case _0x4977ee(0x85a):displayHalfMarkResult(_0x436850,_0x4813b6);break;case _0x4977ee(0x965):displayPerfectScoreResult(_0x436850,_0x4813b6);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x692096){const _0x401798=_0x3abb87;studentReadingArea[_0x401798(0xd15)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x4f0471='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x692096+_0x401798(0x627)+simpleMathPrompt+_0x401798(0x65e),_0x4d12d5={'type':'OBJECT','properties':{'questionText':{'type':_0x401798(0x29d)},'options':{'type':_0x401798(0x9bd),'items':{'type':_0x401798(0x29d)}},'correctAnswerIndex':{'type':_0x401798(0xd79)},'explanation':{'type':_0x401798(0x29d)}},'required':[_0x401798(0xbdb),'options',_0x401798(0xa07),_0x401798(0x866)]},_0x5d6201={'type':'OBJECT','properties':{'topic':{'type':_0x401798(0x29d)},'questions':{'type':_0x401798(0x9bd),'items':_0x4d12d5}},'required':['topic','questions']};try{const _0x1df0db=await callAnalysisApi(_0x4f0471,_0x5d6201);_0x1df0db[_0x401798(0x748)]=!![],studentReadingArea['classList'][_0x401798(0xbaf)](_0x401798(0x986));const _0x2d58d0={...currentDisplayedQuiz[_0x401798(0xa95)],'isAdaptive':![],'resultsDisplay':_0x401798(0x6db)};_0x1df0db[_0x401798(0xa95)]=_0x2d58d0,displayQuizForStudent(_0x1df0db);}catch(_0x199dad){console['error'](_0x401798(0x3ae),_0x199dad),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x401798(0xbf8));}}function displayPassFailOnly(_0x26d5ca,_0x521849){const _0x59eff1=_0x3abb87,_0x3e34cd=currentDisplayedQuiz[_0x59eff1(0xa95)]?.[_0x59eff1(0x575)]??-0x1,_0x1afe5b=currentDisplayedQuiz[_0x59eff1(0x748)]===!![];let _0x353f5b='',_0x12768b=![];if(_0x1afe5b||_0x3e34cd!==-0x1){_0x12768b=_0x1afe5b?_0x26d5ca===_0x521849:_0x26d5ca>=_0x3e34cd;const _0x148242=_0x12768b?'bg-green-100\x20text-green-800':_0x59eff1(0x609),_0x2b96ea=_0x12768b?_0x59eff1(0x456):_0x59eff1(0x1f3);_0x353f5b=_0x59eff1(0x1ef)+_0x148242+'\x22>'+_0x2b96ea+_0x59eff1(0x4bb);}else _0x353f5b=_0x59eff1(0xd80);let _0x2832c6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x59eff1(0x690)+_0x353f5b+_0x59eff1(0x5fa);studentResultArea[_0x59eff1(0xd15)]=_0x2832c6,studentResultArea[_0x59eff1(0x33a)][_0x59eff1(0x23a)](_0x59eff1(0x986)),studentQuizArea['classList'][_0x59eff1(0xbaf)](_0x59eff1(0x986)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x12768b});}function cancelAdminTest(){const _0xfce102=_0x3abb87;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0xfce102(0x21b)](_0xfce102(0xe08),handleFullscreenChange),document[_0xfce102(0x21b)](_0xfce102(0x77c),handleVisibilityChange),currentMode=_0xfce102(0xdcc),studentView[_0xfce102(0x33a)][_0xfce102(0xbaf)]('hidden'),adminView[_0xfce102(0x33a)][_0xfce102(0x23a)](_0xfce102(0x986)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0xfce102(0x85f));}function setupResultScreenBackButton(_0x18b943){const _0x2ba852=_0x3abb87,_0x4625c0={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x18b943};if(_0x4625c0['isLooping']){const _0x11d6fb=_0x2ba852(0xbed);studentResultArea[_0x2ba852(0x4a1)]('beforeend',_0x11d6fb),document[_0x2ba852(0x753)]('retake-quiz-loop-btn')['addEventListener'](_0x2ba852(0xaa0),()=>{const _0x4aa62c=_0x2ba852;studentResultArea['classList'][_0x4aa62c(0xbaf)](_0x4aa62c(0x986)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x50e472=_0x2ba852(0x928),_0x588d6b=currentMode===_0x2ba852(0x330),_0x36e061=_0x588d6b?_0x2ba852(0xc8a):_0x2ba852(0x622);let _0x37a737='';_0x4625c0[_0x2ba852(0xbb1)]&&(_0x37a737+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x58c020=_0x4625c0['showImproveButton'];_0x58c020===undefined&&(_0x58c020=_0x4625c0['score']<_0x4625c0[_0x2ba852(0xc21)]);_0x58c020&&(_0x37a737+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x37a737+=_0x2ba852(0xbc1)+_0x50e472+_0x2ba852(0xac9)+_0x36e061+_0x2ba852(0x2da);const _0xccaf7a=_0x2ba852(0x852)+_0x37a737+_0x2ba852(0x634);studentResultArea[_0x2ba852(0x4a1)](_0x2ba852(0xe43),_0xccaf7a),studentResultArea['querySelector'](_0x2ba852(0xdef))?.[_0x2ba852(0xdd0)](_0x2ba852(0xaa0),handleShowStudentRankings);const _0x222cf6=studentResultArea[_0x2ba852(0xd5b)]('#retake-for-improvement-btn');_0x222cf6&&_0x222cf6['addEventListener'](_0x2ba852(0xaa0),()=>{const _0x562a23=_0x2ba852;studentResultArea[_0x562a23(0x33a)][_0x562a23(0xbaf)](_0x562a23(0x986)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2ba852(0x753)](_0x50e472)['addEventListener']('click',()=>{const _0x571bc6=_0x2ba852;_0x588d6b?(currentMode=_0x571bc6(0xdcc),studentView[_0x571bc6(0x33a)][_0x571bc6(0xbaf)](_0x571bc6(0x986)),adminView[_0x571bc6(0x33a)][_0x571bc6(0x23a)](_0x571bc6(0x986)),showView('project-detail')):(showView('student'),document[_0x571bc6(0x753)](_0x571bc6(0x57b))[_0x571bc6(0x8a6)]='');});}function displayResultsWithAnswers(_0x29d8a0,_0x47ad26,_0x762fa5,_0x5d8bd5,_0x40f9ed,_0x3bf8ae=![]){const _0x492604=_0x3abb87,_0x578bc0=_0x40f9ed>0x0?_0x29d8a0/_0x40f9ed*0x64:0x0,_0x3ad721=currentDisplayedQuiz[_0x492604(0xa95)]?.[_0x492604(0x575)]??-0x1,_0x3108be=currentDisplayedQuiz[_0x492604(0x748)]===!![];let _0x36cc38='';if(_0x3108be||_0x3ad721!==-0x1){let _0xa1f355=_0x3108be?_0x29d8a0===_0x40f9ed:_0x29d8a0>=_0x3ad721;const _0x3b5e10=_0xa1f355?_0x492604(0xdbd):_0x492604(0x609),_0x404834=_0xa1f355?_0x492604(0x456):'ไม่ผ่าน';_0x36cc38=_0x492604(0x2df)+_0x3b5e10+'\x22>'+_0x404834+_0x492604(0x854);}let _0x247b4f=_0x492604(0x2e2)+currentStudentName+_0x492604(0xd62)+_0x29d8a0+_0x492604(0xb03)+_0x40f9ed+_0x492604(0x4dd)+_0x36cc38+_0x492604(0x1de)+_0x47ad26+_0x492604(0xa6d)+_0x578bc0[_0x492604(0xddd)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0x492604(0x91b)]((_0x31db02,_0x1d3b44)=>{const _0x48fd12=_0x492604,_0x56ea4f=_0x5d8bd5[_0x1d3b44],_0x4be849=_0x56ea4f[_0x48fd12(0x5b8)],_0x3114b9=_0x56ea4f[_0x48fd12(0x88b)],_0x5240ea=_0x31db02[_0x48fd12(0x302)]||currentDisplayedQuiz[_0x48fd12(0x273)];_0x247b4f+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x3114b9?_0x48fd12(0x9b3):_0x48fd12(0x326))+_0x48fd12(0x52d)+(_0x1d3b44+0x1)+'.\x20'+(_0x31db02['stem']||_0x31db02[_0x48fd12(0xbdb)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x5240ea){case _0x48fd12(0x79a):const _0x2b6fc8=_0x4be849||_0x48fd12(0x2d4),_0x4595ab=_0x31db02[_0x48fd12(0x707)];_0x247b4f+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x3114b9?_0x48fd12(0x77d):'')+'\x22>'+_0x2b6fc8+_0x48fd12(0xe74);!_0x3114b9&&(_0x247b4f+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x4595ab+_0x48fd12(0x854));break;case _0x48fd12(0xb85):_0x247b4f+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x4be849||_0x48fd12(0x2d4))+_0x48fd12(0x854),_0x247b4f+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x31db02[_0x48fd12(0x288)]+_0x48fd12(0x854);break;case _0x48fd12(0x718):_0x247b4f+=_0x48fd12(0x7c1)+(_0x31db02[_0x48fd12(0x509)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x4be849===_0x48fd12(0x243)&&!_0x3114b9?_0x48fd12(0x77d):'')+'\x22>ใช่</p>',_0x247b4f+=_0x48fd12(0x7c1)+(_0x31db02['correctAnswer']===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x4be849==='false'&&!_0x3114b9?_0x48fd12(0x77d):'')+_0x48fd12(0xde3);break;default:_0x247b4f+=_0x31db02[_0x48fd12(0x254)][_0x48fd12(0x561)]((_0x3c6a51,_0x5e2ae2)=>{const _0xda55b=_0x48fd12;let _0x433681='',_0x108e7f='';if(_0x5e2ae2===_0x31db02[_0xda55b(0xa07)])_0x433681=_0xda55b(0x8b4),_0x108e7f=_0xda55b(0x99b);else _0x5e2ae2===_0x4be849&&(_0x433681=_0xda55b(0x772),_0x108e7f=_0xda55b(0xd13));return _0xda55b(0xaa3)+_0x433681+'\x22>'+_0x108e7f+_0x3c6a51+_0xda55b(0x634);})[_0x48fd12(0xe0b)]('');break;}_0x247b4f+=_0x48fd12(0xa3a)+(_0x31db02['explanation']||_0x48fd12(0xd73))+_0x48fd12(0x634);if(!_0x3114b9){const _0xe47d68=_0x31db02[_0x48fd12(0x9b7)]||_0x31db02[_0x48fd12(0xbdb)];_0x247b4f+=_0x48fd12(0x904)+escape(_0xe47d68)+_0x48fd12(0xe57);}_0x247b4f+='</div>';}),studentResultArea[_0x492604(0xd15)]=_0x247b4f,renderEarnedBadges(_0x762fa5,_0x492604(0x4c5)),studentResultArea[_0x492604(0x33a)][_0x492604(0x23a)](_0x492604(0x986)),studentQuizArea[_0x492604(0x33a)]['add'](_0x492604(0x986)),setupResultScreenBackButton({'isLooping':_0x3bf8ae,'score':_0x29d8a0,'totalQuestions':_0x40f9ed,'showRankings':!![]});if(window[_0x492604(0xc12)])window[_0x492604(0xc12)][_0x492604(0x98a)]([studentResultArea]);}function displayResultsScoreOnly(_0x2ed0af,_0x1468a7,_0x2f6f5f,_0x37b83e){const _0x20fab8=_0x3abb87,_0x27d129=_0x37b83e>0x0?_0x2ed0af/_0x37b83e*0x64:0x0,_0x146abf=currentDisplayedQuiz[_0x20fab8(0xa95)]?.[_0x20fab8(0x575)]??-0x1,_0x36f890=currentDisplayedQuiz[_0x20fab8(0x748)]===!![];let _0x5ebab3='';if(_0x36f890||_0x146abf!==-0x1){let _0x5217e3=_0x36f890?_0x2ed0af===_0x37b83e:_0x2ed0af>=_0x146abf;const _0x39a95a=_0x5217e3?_0x20fab8(0xdbd):_0x20fab8(0x609),_0x56e260=_0x5217e3?'ผ่าน':_0x20fab8(0x1f3);_0x5ebab3=_0x20fab8(0x2df)+_0x39a95a+'\x22>'+_0x56e260+_0x20fab8(0x854);}let _0x5dc893='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x20fab8(0x4ec)+_0x2ed0af+_0x20fab8(0xe75)+_0x37b83e+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ebab3+_0x20fab8(0x1de)+_0x1468a7+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x27d129['toFixed'](0x0)+_0x20fab8(0x4c4);studentResultArea[_0x20fab8(0xd15)]=_0x5dc893,renderEarnedBadges(_0x2f6f5f,_0x20fab8(0x4c5)),studentResultArea[_0x20fab8(0x33a)][_0x20fab8(0x23a)](_0x20fab8(0x986)),studentQuizArea[_0x20fab8(0x33a)]['add']('hidden'),setupResultScreenBackButton({'score':_0x2ed0af,'totalQuestions':_0x37b83e,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x141e16=_0x3abb87;let _0xd9e438=_0x141e16(0x980)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0xd9e438,studentResultArea[_0x141e16(0x33a)]['remove'](_0x141e16(0x986)),studentQuizArea[_0x141e16(0x33a)][_0x141e16(0xbaf)](_0x141e16(0x986)),document[_0x141e16(0x753)](_0x141e16(0xbb2))[_0x141e16(0xdd0)]('click',()=>{const _0x5dcd74=_0x141e16;showView(_0x5dcd74(0xbf8)),document[_0x5dcd74(0x753)](_0x5dcd74(0x57b))[_0x5dcd74(0x8a6)]='';});}function renderEarnedBadges(_0x1d0594,_0x162b42){const _0x17fcef=_0x3abb87,_0x81ada=document['getElementById'](_0x162b42);if(!_0x81ada||!_0x1d0594||_0x1d0594['length']===0x0)return;let _0x419dc9='';_0x1d0594[_0x17fcef(0x91b)]((_0x24af96,_0x364ec9)=>{const _0x70d0df=_0x17fcef,_0x123352=Object[_0x70d0df(0xa10)](BADGES)[_0x70d0df(0x7f4)](_0x2e6102=>_0x2e6102['id']===_0x24af96);_0x123352&&(_0x419dc9+=_0x70d0df(0x1d6)+_0x364ec9*0.2+_0x70d0df(0xc0e)+_0x123352['description']+_0x70d0df(0x86b)+_0x123352[_0x70d0df(0x329)]+_0x70d0df(0xdec)+_0x123352[_0x70d0df(0xc71)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x81ada[_0x17fcef(0xd15)]=_0x419dc9;}function startPresentation(_0x53a6fe){const _0x50aa4d=_0x3abb87;currentQuizData=getShuffledQuiz(_0x53a6fe),currentPresentationSlide=0x0,presentationModal[_0x50aa4d(0x41d)][_0x50aa4d(0x62e)]=_0x50aa4d(0x264),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x154727=_0x3abb87;document['fullscreenElement']&&document[_0x154727(0x411)](),presentationModal[_0x154727(0x41d)]['display']=_0x154727(0x961);}function renderPresentationSlide(_0x150522){const _0x13cea5=_0x3abb87,_0x21acef=document[_0x13cea5(0x753)](_0x13cea5(0xc84));if(!currentQuizData||!currentQuizData[_0x13cea5(0x806)]||!currentQuizData[_0x13cea5(0x806)][_0x150522]){_0x21acef[_0x13cea5(0xd15)]=_0x13cea5(0xc1c);return;}const _0x47f888=currentQuizData[_0x13cea5(0x806)][_0x150522],_0x4ae1ef=_0x47f888[_0x13cea5(0x302)]||currentQuizData['quizType'];_0x21acef['innerHTML']='';let _0x3f545b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x47f888['imageCode']?_0x13cea5(0x7d7)+_0x47f888[_0x13cea5(0xc35)]+_0x13cea5(0x634):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x150522+0x1)+'.\x20'+(_0x47f888[_0x13cea5(0x9b7)]||_0x47f888[_0x13cea5(0xbdb)])+_0x13cea5(0xe60);switch(_0x4ae1ef){case _0x13cea5(0x79a):_0x3f545b+=_0x47f888['allResponses'][_0x13cea5(0x561)](_0x2da79e=>_0x13cea5(0xc00)+_0x2da79e+_0x13cea5(0x52c))['join']('');break;case _0x13cea5(0x718):_0x3f545b+=_0x13cea5(0x911),_0x3f545b+=_0x13cea5(0x810);break;case _0x13cea5(0x203):case _0x13cea5(0xb85):_0x3f545b+=_0x13cea5(0xb08);break;case _0x13cea5(0xe7a):case _0x13cea5(0x431):default:_0x3f545b+=_0x47f888[_0x13cea5(0x254)][_0x13cea5(0x561)]((_0x54ce97,_0x5ef4d5)=>_0x13cea5(0x2e7)+_0x5ef4d5+_0x13cea5(0x1e0)+_0x54ce97+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x13cea5(0xe0b)]('');break;}_0x3f545b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x47f888[_0x13cea5(0x866)]||_0x13cea5(0xd73))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x21acef['innerHTML']=_0x3f545b;if(window[_0x13cea5(0xc12)])window[_0x13cea5(0xc12)]['typesetPromise']([_0x21acef]);let _0xc4281d=[];switch(_0x4ae1ef){case _0x13cea5(0x79a):_0xc4281d=_0x47f888[_0x13cea5(0x798)]||[];break;case'true_false':_0xc4281d=['ใช่','ไม่ใช่'];break;default:_0xc4281d=_0x47f888[_0x13cea5(0x254)]||[];break;}const _0x418086=document[_0x13cea5(0x753)](_0x13cea5(0xb57));_0x418086&&(_0x418086['onclick']=()=>{openScratchpad(_0x47f888,_0xc4281d);});document[_0x13cea5(0x628)](_0x13cea5(0xab7))[_0x13cea5(0x91b)](_0x5f4502=>{const _0x42affe=_0x13cea5;_0x5f4502[_0x42affe(0xdd0)]('click',_0x1414bd=>revealAnswerForPresentation(_0x150522,_0x1414bd[_0x42affe(0x1d3)]));});const _0x30e17d=document[_0x13cea5(0x753)]('check-presentation-answer-btn');_0x30e17d&&_0x30e17d['addEventListener'](_0x13cea5(0xaa0),()=>checkShortAnswerForPresentation(_0x150522)),document[_0x13cea5(0x753)](_0x13cea5(0x305))[_0x13cea5(0xbde)]=_0x13cea5(0xc0d)+(_0x150522+0x1)+'\x20/\x20'+currentQuizData[_0x13cea5(0x806)][_0x13cea5(0xd2b)],document[_0x13cea5(0x753)]('prev-question-btn')['disabled']=_0x150522===0x0,document[_0x13cea5(0x753)]('next-question-btn')[_0x13cea5(0x5ad)]=_0x150522===currentQuizData[_0x13cea5(0x806)][_0x13cea5(0xd2b)]-0x1;}async function checkShortAnswerForPresentation(_0x4a9dba){const _0x59fe22=_0x3abb87,_0x51b73f=currentQuizData['questions'][_0x4a9dba],_0x5e9806=document['getElementById'](_0x59fe22(0x45f)),_0x183f8f=document[_0x59fe22(0x753)](_0x59fe22(0x631)),_0x3a3ebd=document['getElementById'](_0x59fe22(0xb7a)),_0x390b49=document['getElementById'](_0x59fe22(0x66c));if(!_0x5e9806||!_0x183f8f||!_0x3a3ebd||!_0x390b49)return;const _0xed324=_0x5e9806['value'][_0x59fe22(0xda7)]();if(_0xed324==='')return;_0x183f8f[_0x59fe22(0x5ad)]=!![],_0x183f8f[_0x59fe22(0xd15)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x5e9806['disabled']=!![];const _0x9fbbc6=await gradeShortAnswer(_0xed324,_0x51b73f);_0x9fbbc6?_0x3a3ebd[_0x59fe22(0xd15)]=_0x59fe22(0xdb4):_0x3a3ebd['innerHTML']=_0x59fe22(0x89e)+_0x51b73f[_0x59fe22(0x288)]+')',_0x3a3ebd['classList'][_0x59fe22(0x23a)](_0x59fe22(0x986)),_0x390b49[_0x59fe22(0x33a)]['remove'](_0x59fe22(0x986)),_0x183f8f[_0x59fe22(0x33a)]['add']('hidden');}function revealAnswerForPresentation(_0x3782b7,_0x1b4afd){const _0x4c1b52=_0x3abb87,_0x482d45=currentQuizData[_0x4c1b52(0x806)][_0x3782b7],_0x3f6541=_0x482d45[_0x4c1b52(0x302)]||currentQuizData['quizType'];document[_0x4c1b52(0x628)](_0x4c1b52(0xab7))[_0x4c1b52(0x91b)](_0x4d1280=>{const _0x2ec465=_0x4c1b52;_0x4d1280[_0x2ec465(0x5ad)]=!![],_0x4d1280[_0x2ec465(0x33a)][_0x2ec465(0x23a)]('hover:bg-indigo-100');let _0x4b2d3d=![];if(_0x3f6541==='multiple_choice'||_0x3f6541===_0x2ec465(0xe7a)){const _0x1b135a=parseInt(_0x4d1280['dataset'][_0x2ec465(0x6b3)]);_0x4b2d3d=_0x1b135a===_0x482d45[_0x2ec465(0xa07)];}else{if(_0x3f6541==='true_false'){const _0x59f8f9=_0x4d1280[_0x2ec465(0x970)][_0x2ec465(0x5b8)]===_0x2ec465(0x243);_0x4b2d3d=_0x59f8f9===_0x482d45[_0x2ec465(0x509)];}else _0x3f6541==='matching_item'&&(_0x4b2d3d=_0x4d1280[_0x2ec465(0xbde)]['trim']()===_0x482d45['correctResponse']);}_0x4b2d3d?_0x4d1280[_0x2ec465(0x33a)]['add'](_0x2ec465(0x7ae),'text-white','border-green-700'):_0x4d1280[_0x2ec465(0x33a)]['add']('opacity-50');}),_0x1b4afd[_0x4c1b52(0x33a)][_0x4c1b52(0x23a)](_0x4c1b52(0x494));let _0x198eb3=![];if(_0x3f6541===_0x4c1b52(0x431))_0x198eb3=parseInt(_0x1b4afd['dataset'][_0x4c1b52(0x6b3)])===_0x482d45[_0x4c1b52(0xa07)];else{if(_0x3f6541===_0x4c1b52(0x718))_0x198eb3=_0x1b4afd[_0x4c1b52(0x970)][_0x4c1b52(0x5b8)]===_0x4c1b52(0x243)===_0x482d45[_0x4c1b52(0x509)];else _0x3f6541===_0x4c1b52(0x79a)&&(_0x198eb3=_0x1b4afd[_0x4c1b52(0xbde)]['trim']()===_0x482d45[_0x4c1b52(0x707)]);}!_0x198eb3&&_0x1b4afd[_0x4c1b52(0x33a)][_0x4c1b52(0xbaf)](_0x4c1b52(0xe7d),'text-white',_0x4c1b52(0x94f)),document[_0x4c1b52(0x753)](_0x4c1b52(0x66c))[_0x4c1b52(0x33a)][_0x4c1b52(0x23a)](_0x4c1b52(0x986));}function startWholeQuizTimer(_0x339601){const _0x342ffd=_0x3abb87,_0xdb2a6e=document[_0x342ffd(0x753)]('timer-container');if(!_0xdb2a6e)return;const _0x4cc467=Date[_0x342ffd(0xbc4)]()+_0x339601*0x3c*0x3e8;_0xdb2a6e[_0x342ffd(0xd15)]=_0x342ffd(0x3a4);const _0x10c3e8=document[_0x342ffd(0x753)](_0x342ffd(0xa11));quizTimerInterval=setInterval(()=>{const _0x2ff44=_0x342ffd,_0x5c1d2e=_0x4cc467-Date[_0x2ff44(0xbc4)]();if(_0x5c1d2e<=0x0)clearInterval(quizTimerInterval),_0x10c3e8['textContent']='00:00',showMessage(_0x2ff44(0x8b7)),handleSubmitQuiz(null);else{const _0x400b28=Math[_0x2ff44(0x886)](_0x5c1d2e/0x3e8/0x3c%0x3c)[_0x2ff44(0xbd3)]()[_0x2ff44(0x546)](0x2,'0'),_0x2c98b6=Math[_0x2ff44(0x886)](_0x5c1d2e/0x3e8%0x3c)['toString']()['padStart'](0x2,'0');_0x10c3e8[_0x2ff44(0xbde)]=_0x400b28+':'+_0x2c98b6;}},0x3e8);}function renderPerQuestionView(){const _0x2cab15=_0x3abb87;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4c401b=currentDisplayedQuiz[_0x2cab15(0x806)][currentQuestionIndex],_0x13f9d5=_0x4c401b[_0x2cab15(0x302)]||currentDisplayedQuiz[_0x2cab15(0x273)],_0x526ef7=currentDisplayedQuiz[_0x2cab15(0xa95)]?.['isConfidenceScoringEnabled']===!![];let _0x2acce6=_0x2cab15(0xbe3)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x2cab15(0xd2b)]+_0x2cab15(0x6e9)+(currentMode===_0x2cab15(0x330)?_0x2cab15(0x287):'')+_0x2cab15(0xb21)+currentDisplayedQuiz[_0x2cab15(0x3bb)]+_0x2cab15(0x2b2);studentQuizArea[_0x2cab15(0xd15)]=_0x2acce6;let _0x473f27=_0x4c401b[_0x2cab15(0x9b7)]||_0x4c401b['questionText'];_0x4c401b['imageCode']&&(_0x473f27+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4c401b[_0x2cab15(0xc35)]+'</div>');let _0x129228='';switch(_0x13f9d5){case _0x2cab15(0xb85):case'fill_in_no_choices':_0x129228=_0x2cab15(0x6b0);break;case _0x2cab15(0x718):_0x129228='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x2cab15(0x79a):_0x129228='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4c401b[_0x2cab15(0x798)]||[])['map'](_0x4d045b=>_0x2cab15(0x957)+_0x4d045b+'\x22>'+_0x4d045b+_0x2cab15(0xaa5))[_0x2cab15(0xe0b)]('')+_0x2cab15(0x2f8);break;default:_0x4c401b[_0x2cab15(0x254)]&&(_0x129228=_0x4c401b[_0x2cab15(0x254)][_0x2cab15(0x561)]((_0x304edc,_0x115f87)=>_0x2cab15(0x8aa)+_0x115f87+_0x2cab15(0x20a)+_0x115f87+_0x2cab15(0x45d)+_0x115f87+'\x22>'+_0x304edc+_0x2cab15(0x1fc))[_0x2cab15(0xe0b)](''));break;}document[_0x2cab15(0x753)](_0x2cab15(0x903))[_0x2cab15(0xd15)]=_0x473f27,document[_0x2cab15(0x753)](_0x2cab15(0xb3e))[_0x2cab15(0xd15)]=_0x129228;const _0x3ea7d9=currentDisplayedQuiz[_0x2cab15(0xa95)]?.[_0x2cab15(0xc67)]===!![],_0x2e8d06=currentDisplayedQuiz[_0x2cab15(0xa95)]?.['confidenceMode']||'checkbox';if(_0x3ea7d9&&_0x2e8d06===_0x2cab15(0xd8a)){const _0x49f163='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x2cab15(0xd5b)]('.mb-6.p-4')[_0x2cab15(0x4a1)]('beforeend',_0x49f163);}studentQuizArea[_0x2cab15(0x4a1)](_0x2cab15(0xe43),_0x2cab15(0xac7)+(currentQuestionIndex===currentDisplayedQuiz[_0x2cab15(0x806)][_0x2cab15(0xd2b)]-0x1?_0x2cab15(0x27f):_0x2cab15(0xbb4))+_0x2cab15(0x59f));currentMode===_0x2cab15(0x330)&&document['getElementById'](_0x2cab15(0xb96))?.['addEventListener']('click',cancelAdminTest);document[_0x2cab15(0x753)]('next-question-timed-btn')[_0x2cab15(0xdd0)](_0x2cab15(0xaa0),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x2cab15(0xc12)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x2cab15(0xa95)]?.['timerMode']===_0x2cab15(0x37c)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3da5b4=_0x3abb87,_0xf65765=currentDisplayedQuiz[_0x3da5b4(0xa95)][_0x3da5b4(0x4ed)],_0x449396=document[_0x3da5b4(0x753)]('per-question-timer-container');if(!_0x449396)return;let _0x394e4b=_0xf65765;_0x449396[_0x3da5b4(0xd15)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x394e4b+_0x3da5b4(0x385);const _0x1b629a=document[_0x3da5b4(0x753)]('timer-bar'),_0x145df6=document[_0x3da5b4(0x753)](_0x3da5b4(0x450));perQuestionTimerInterval=setInterval(()=>{const _0x4aaaa8=_0x3da5b4;_0x394e4b--;const _0x1385ea=_0x394e4b/_0xf65765*0x64;_0x1b629a[_0x4aaaa8(0x41d)][_0x4aaaa8(0xbb9)]=_0x1385ea+'%',_0x145df6[_0x4aaaa8(0xbde)]=_0x394e4b,_0x394e4b<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x27b4c8=![]){const _0x43d1a4=_0x3abb87;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1c7686=null,_0x5bb90d=![];if(!_0x27b4c8){const _0x128ced=currentDisplayedQuiz[_0x43d1a4(0x806)][currentQuestionIndex],_0x36eb90=_0x128ced['questionType']||currentDisplayedQuiz[_0x43d1a4(0x273)];if(_0x36eb90===_0x43d1a4(0xb85)||_0x36eb90===_0x43d1a4(0x203))_0x1c7686=document[_0x43d1a4(0xd5b)]('textarea[name=\x22question_single\x22]')?.[_0x43d1a4(0x8a6)][_0x43d1a4(0xda7)]()??'';else{if(_0x36eb90===_0x43d1a4(0x79a))_0x1c7686=document[_0x43d1a4(0xd5b)](_0x43d1a4(0x2f1))?.[_0x43d1a4(0x8a6)]??'';else{const _0x49e45a=document[_0x43d1a4(0xd5b)]('input[name=\x22question_single\x22]:checked');_0x49e45a&&(_0x1c7686=_0x49e45a[_0x43d1a4(0x8a6)]);}}if(_0x1c7686===null||_0x1c7686===''){showMessage(_0x43d1a4(0x6ce)),startPerQuestionTimer();return;}const _0x1b601e=currentDisplayedQuiz['settings']?.[_0x43d1a4(0xc67)]===!![],_0x285bcb=currentDisplayedQuiz['settings']?.[_0x43d1a4(0x9b2)]||'checkbox';if(_0x1b601e&&_0x285bcb===_0x43d1a4(0xdbf)){document[_0x43d1a4(0x753)](_0x43d1a4(0x645))[_0x43d1a4(0x970)][_0x43d1a4(0x24b)]=_0x43d1a4(0x31e),document['getElementById']('selected-answer-index-hidden')[_0x43d1a4(0x8a6)]=_0x1c7686,document[_0x43d1a4(0x753)](_0x43d1a4(0x645))[_0x43d1a4(0x33a)]['remove'](_0x43d1a4(0x986));return;}const _0x439d48=document[_0x43d1a4(0x753)](_0x43d1a4(0xacf));_0x439d48&&(_0x5bb90d=_0x439d48['checked']);}const _0x16c214={'answer':_0x1c7686,'wasConfident':_0x5bb90d};proceedToNextQuestion(_0x16c214);}async function finalizePerQuestionQuiz(){const _0x495989=_0x3abb87,_0x4d08a2=currentDisplayedQuiz[_0x495989(0x806)][_0x495989(0x560)](_0x161127=>_0x161127[_0x495989(0x302)]===_0x495989(0xb85));_0x4d08a2?showMessage(_0x495989(0x95e)):showMessage(_0x495989(0x3ea));const _0x257cf7=currentQuizData['id'],_0x4e6707=doc(db,_0x495989(0x8da)+appId+_0x495989(0x75d)+_0x257cf7+_0x495989(0x4cc),currentStudentName),_0x12b5bc=await getDoc(_0x4e6707),_0x4a2beb=_0x12b5bc[_0x495989(0xc9d)]()?_0x12b5bc['data']():{},_0x531f53=_0x4a2beb[_0x495989(0x2c5)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x531f53);}function getResultsFilename(){const _0x46a3f0=_0x3abb87,_0x4ee8f9=document[_0x46a3f0(0x753)](_0x46a3f0(0xbac))[_0x46a3f0(0xbde)][_0x46a3f0(0x749)](/[^a-z0-9]/gi,'_')[_0x46a3f0(0x6d9)]();return _0x46a3f0(0x97a)+(_0x4ee8f9||_0x46a3f0(0x693));}function exportResultsAsImage(){const _0x231d8e=_0x3abb87,_0x36dd50=document[_0x231d8e(0x753)](_0x231d8e(0xc72));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x36dd50)[_0x231d8e(0x94c)](_0x2a5525=>{const _0x2d3a99=_0x231d8e,_0x4eed14=document['createElement']('a');_0x4eed14['download']=getResultsFilename()+_0x2d3a99(0x47f),_0x4eed14[_0x2d3a99(0xc9f)]=_0x2a5525[_0x2d3a99(0x51a)](_0x2d3a99(0xccd)),_0x4eed14[_0x2d3a99(0xaa0)](),messageModal[_0x2d3a99(0x33a)][_0x2d3a99(0xbaf)](_0x2d3a99(0x986));});}function exportResultsAsPDF(){const _0x1e53bd=_0x3abb87,{jsPDF:_0x11acd5}=window['jspdf'],_0x55dc38=new _0x11acd5();_0x55dc38[_0x1e53bd(0x868)](_0x1e53bd(0xc1f),_0x1e53bd(0xb5e)),_0x55dc38[_0x1e53bd(0xa4f)]({'html':_0x1e53bd(0xe1a)}),_0x55dc38[_0x1e53bd(0x7df)](getResultsFilename()+_0x1e53bd(0xd55));}function exportResultsAsWord(){const _0x40f2a8=_0x3abb87,_0x4dcae8=_0x40f2a8(0x594)+_0x40f2a8(0x295)+_0x40f2a8(0xb40)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x2939b7='</body></html>',_0x31aa48=_0x4dcae8+document[_0x40f2a8(0x753)](_0x40f2a8(0xc72))[_0x40f2a8(0xd15)]+_0x2939b7,_0x3be8ec=_0x40f2a8(0x7da)+encodeURIComponent(_0x31aa48),_0x3c1cb8=document[_0x40f2a8(0x419)]('a');document[_0x40f2a8(0x595)][_0x40f2a8(0xb8c)](_0x3c1cb8),_0x3c1cb8[_0x40f2a8(0xc9f)]=_0x3be8ec,_0x3c1cb8['download']=getResultsFilename()+'.doc',_0x3c1cb8[_0x40f2a8(0xaa0)](),document[_0x40f2a8(0x595)][_0x40f2a8(0x471)](_0x3c1cb8);}function exportResultsAsExcel(){const _0x465b59=_0x3abb87,_0x2be78b=document[_0x465b59(0x753)](_0x465b59(0x763));let _0x564642=[];for(let _0x2b0a97=0x0;_0x2b0a97<_0x2be78b[_0x465b59(0x723)][_0x465b59(0xd2b)];_0x2b0a97++){let _0x2292ce=[],_0x396365=_0x2be78b[_0x465b59(0x723)][_0x2b0a97][_0x465b59(0x628)](_0x465b59(0x386));for(let _0x3901c9=0x0;_0x3901c9<_0x396365['length'];_0x3901c9++){_0x2292ce[_0x465b59(0xabd)]('\x22'+_0x396365[_0x3901c9][_0x465b59(0x472)][_0x465b59(0x749)](/"/g,'\x22\x22')+'\x22');}_0x564642[_0x465b59(0xabd)](_0x2292ce['join'](','));}const _0x4b6ed7=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x564642[_0x465b59(0xe0b)]('\x0a')],{'type':_0x465b59(0x20d)}),_0x1a3512=document['createElement']('a');_0x1a3512['href']=URL[_0x465b59(0x31f)](_0x4b6ed7),_0x1a3512[_0x465b59(0xca7)]=getResultsFilename()+_0x465b59(0x9d9),_0x1a3512['click']();}function exportTableAsImage(_0x570869,_0x44e973){const _0x5433de=_0x3abb87,_0x576497=document[_0x5433de(0x753)](_0x570869);if(!_0x576497){showMessage(_0x5433de(0x1f2));return;}showMessage(_0x5433de(0x99f)),html2canvas(_0x576497)[_0x5433de(0x94c)](_0x2a8e35=>{const _0x5b757e=_0x5433de,_0x4e8a68=document[_0x5b757e(0x419)]('a');_0x4e8a68[_0x5b757e(0xca7)]=_0x44e973+_0x5b757e(0x47f),_0x4e8a68['href']=_0x2a8e35[_0x5b757e(0x51a)](_0x5b757e(0xccd)),_0x4e8a68['click'](),messageModal[_0x5b757e(0x33a)]['add'](_0x5b757e(0x986));});}function exportTableAsPDF(_0x500909,_0x23593b){const _0x13a794=_0x3abb87,{jsPDF:_0x40a256}=window[_0x13a794(0x705)],_0x57c831=new _0x40a256();_0x57c831[_0x13a794(0x868)](_0x13a794(0xc1f),_0x13a794(0xb5e)),_0x57c831[_0x13a794(0xa4f)]({'html':'#'+_0x500909}),_0x57c831[_0x13a794(0x7df)](_0x23593b+_0x13a794(0xd55));}function exportTableAsWord(_0x5c723f,_0x25b927){const _0x1d7762=_0x3abb87,_0x4d9159=document['getElementById'](_0x5c723f);if(!_0x4d9159){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x580566=_0x1d7762(0x594)+_0x1d7762(0x295)+_0x1d7762(0xb40)+_0x1d7762(0xdfb),_0x3207da=_0x1d7762(0x669),_0x430a3f=_0x580566+_0x4d9159[_0x1d7762(0xd15)]+_0x3207da,_0x4fb3c0=_0x1d7762(0x7da)+encodeURIComponent(_0x430a3f),_0x27c0c9=document[_0x1d7762(0x419)]('a');document[_0x1d7762(0x595)][_0x1d7762(0xb8c)](_0x27c0c9),_0x27c0c9[_0x1d7762(0xc9f)]=_0x4fb3c0,_0x27c0c9[_0x1d7762(0xca7)]=_0x25b927+_0x1d7762(0x822),_0x27c0c9[_0x1d7762(0xaa0)](),document[_0x1d7762(0x595)]['removeChild'](_0x27c0c9);}function exportTableAsExcel(_0x28a79b,_0x438fb4){const _0xc0db86=_0x3abb87,_0x3218b6=document['getElementById'](_0x28a79b);if(!_0x3218b6){showMessage(_0xc0db86(0x1f2));return;}let _0x1accf1=[];for(let _0x111543=0x0;_0x111543<_0x3218b6[_0xc0db86(0x723)][_0xc0db86(0xd2b)];_0x111543++){let _0x3bcb94=[],_0x4a47f1=_0x3218b6[_0xc0db86(0x723)][_0x111543][_0xc0db86(0x628)](_0xc0db86(0x386));for(let _0x2ac558=0x0;_0x2ac558<_0x4a47f1['length'];_0x2ac558++){_0x3bcb94['push']('\x22'+_0x4a47f1[_0x2ac558]['innerText'][_0xc0db86(0x749)](/"/g,'\x22\x22')+'\x22');}_0x1accf1[_0xc0db86(0xabd)](_0x3bcb94[_0xc0db86(0xe0b)](','));}const _0x62fc08=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1accf1['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x306e60=document[_0xc0db86(0x419)]('a');_0x306e60[_0xc0db86(0xc9f)]=URL[_0xc0db86(0x31f)](_0x62fc08),_0x306e60[_0xc0db86(0xca7)]=_0x438fb4+'.csv',_0x306e60[_0xc0db86(0xaa0)]();}function renderAnalytics(_0x5e1c1c,_0x104522){const _0x42249e=_0x3abb87,_0x49312d=_0x104522[_0x42249e(0x27c)](_0x1b1e1e=>_0x1b1e1e[_0x42249e(0xd4f)]!==undefined),_0x3a4f8e=currentProjectData[_0x42249e(0x7d2)]['length'],_0x5cf683=_0x49312d[_0x42249e(0xd2b)],_0x371bc2=_0x3a4f8e-_0x5cf683,_0x9f0630=_0x3a4f8e>0x0?_0x5cf683/_0x3a4f8e*0x64:0x0,_0x43c21e=_0x49312d[_0x42249e(0x561)](_0x3995bd=>_0x3995bd[_0x42249e(0xd4f)]),_0x4b4bb0=_0x43c21e[_0x42249e(0xd2b)]>0x0?_0x43c21e[_0x42249e(0x257)]((_0x4754cc,_0x1952d6)=>_0x4754cc+_0x1952d6,0x0)/_0x43c21e[_0x42249e(0xd2b)]:0x0,_0x1c58d7=_0x5e1c1c['questions'][_0x42249e(0xd2b)],_0x5a1ed7=_0x1c58d7>0x0?_0x4b4bb0/_0x1c58d7*0x64:0x0,_0x3c5162=calculateItemAnalysis(_0x5e1c1c,_0x49312d),_0x2bf645=calculateReliabilityKR20(_0x5e1c1c,_0x49312d,_0x3c5162['perQuestionStats']);let _0x3db0e3='';if(_0x2bf645!==null){let _0x508c08='';if(_0x2bf645>=0.9)_0x508c08=_0x42249e(0x83a);else{if(_0x2bf645>=0.8)_0x508c08='ดีมาก';else{if(_0x2bf645>=0.7)_0x508c08='ดี';else{if(_0x2bf645>=0.6)_0x508c08=_0x42249e(0xdff);else _0x508c08='ควรปรับปรุง';}}}_0x3db0e3=_0x42249e(0x658)+_0x2bf645[_0x42249e(0xddd)](0x2)+_0x42249e(0xa9d)+_0x508c08+_0x42249e(0x3fb);}const _0x46805b=document[_0x42249e(0x753)](_0x42249e(0x63d));_0x46805b[_0x42249e(0xd15)]=_0x42249e(0x67a)+_0x9f0630['toFixed'](0x0)+_0x42249e(0x475)+_0x5cf683+'/'+_0x3a4f8e+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x4b4bb0[_0x42249e(0xddd)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x5a1ed7[_0x42249e(0xddd)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x43c21e[_0x42249e(0xd2b)]>0x0?Math[_0x42249e(0x513)](..._0x43c21e):_0x42249e(0x9da))+_0x42249e(0x660)+(_0x43c21e[_0x42249e(0xd2b)]>0x0?Math[_0x42249e(0x9f0)](..._0x43c21e):_0x42249e(0x9da))+_0x42249e(0xe59)+_0x3db0e3+_0x42249e(0x65e);const _0x54f01a=document[_0x42249e(0x753)]('interesting-stats-wrapper');_0x54f01a&&_0x54f01a[_0x42249e(0x23a)]();const _0x2c02cd=_0x42249e(0x41a);_0x46805b[_0x42249e(0x4a1)](_0x42249e(0xa9a),_0x2c02cd);const _0x45e9fe=currentProjectData['students']||[];renderSubmissionChart(_0x5cf683,_0x371bc2,_0x49312d,_0x45e9fe),renderScoreDistributionChart(_0x49312d,_0x1c58d7),renderQuestionAnalytics(_0x5e1c1c,_0x49312d,_0x45e9fe),renderInterestingStats(_0x5e1c1c,_0x49312d);}async function handleExportLessonPDF(){const _0x33e0c6=_0x3abb87,_0x4e479e=document[_0x33e0c6(0x753)](_0x33e0c6(0x4a7)),_0x5b67e5=document['getElementById'](_0x33e0c6(0x37a))['textContent'],_0x5d599f=window[_0x33e0c6(0x343)]('','_blank'),_0x1ca73c=_0x33e0c6(0xd47)+_0x5b67e5+_0x33e0c6(0x57f)+_0x4e479e[_0x33e0c6(0xd15)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5d599f[_0x33e0c6(0x9bc)][_0x33e0c6(0xac3)](_0x1ca73c),_0x5d599f['document']['close'](),_0x5d599f[_0x33e0c6(0x55b)]=function(){setTimeout(()=>{const _0x3d418e=_0x55d5;_0x5d599f[_0x3d418e(0x322)]();},0x5dc);};}function renderInterestingStats(_0x2bb05e,_0x1f4573){const _0x3e805c=_0x3abb87,_0x115edb=document[_0x3e805c(0x753)](_0x3e805c(0xc92));if(!_0x115edb)return;if(_0x1f4573['length']===0x0){_0x115edb[_0x3e805c(0xd15)]=_0x3e805c(0x574);return;}const _0x41fc51=_0x2bb05e[_0x3e805c(0x806)][_0x3e805c(0x561)]((_0x1f24b4,_0x45dee6)=>({'index':_0x45dee6+0x1,'text':_0x1f24b4[_0x3e805c(0xbdb)]||_0x1f24b4[_0x3e805c(0x9b7)],'correct':0x0}));_0x1f4573[_0x3e805c(0x91b)](_0x9ea4c7=>{const _0x1fb970=_0x3e805c,_0xf14996=_0x9ea4c7[_0x1fb970(0x2c5)][_0x9ea4c7[_0x1fb970(0x2c5)][_0x1fb970(0xd2b)]-0x1];_0xf14996&&_0xf14996['answers']&&_0xf14996['answers'][_0x1fb970(0x91b)](_0x24c4b7=>{const _0xabed20=_0x1fb970,_0x4fdb06=_0x41fc51[_0xabed20(0x7f4)](_0x5e3271=>_0x5e3271[_0xabed20(0xba9)]===_0x24c4b7[_0xabed20(0x675)]);_0x24c4b7[_0xabed20(0x88b)]&&_0x4fdb06&&_0x4fdb06[_0xabed20(0x8ca)]++;});});const _0x42345a=_0x1f4573[_0x3e805c(0xd2b)],_0x322945=Math[_0x3e805c(0x513)](..._0x41fc51[_0x3e805c(0x561)](_0x560413=>_0x560413[_0x3e805c(0x8ca)])),_0x2b6b61=Math[_0x3e805c(0x9f0)](..._0x41fc51[_0x3e805c(0x561)](_0x4b3be5=>_0x4b3be5[_0x3e805c(0x8ca)])),_0xdbdd29=_0x41fc51[_0x3e805c(0x27c)](_0x266d43=>_0x266d43['correct']===_0x322945)[_0x3e805c(0x561)](_0x4f26ad=>_0x3e805c(0xad4)+_0x4f26ad[_0x3e805c(0x6b3)]),_0x32648e=_0x41fc51[_0x3e805c(0x27c)](_0x1f5465=>_0x1f5465[_0x3e805c(0x8ca)]===_0x2b6b61)[_0x3e805c(0x561)](_0x523773=>'ข้อ\x20'+_0x523773[_0x3e805c(0x6b3)]),_0x4541de=_0x1f4573[_0x3e805c(0xb00)]((_0x2af6d8,_0x1af059)=>_0x1af059[_0x3e805c(0xd4f)]-_0x2af6d8['latestScore'])[_0x3e805c(0x27c)]((_0x997d5d,_0x506666,_0x1244a2)=>_0x997d5d[_0x3e805c(0xd4f)]===_0x1244a2[0x0][_0x3e805c(0xd4f)]),_0x381d97=_0x1f4573[_0x3e805c(0xb00)]((_0x271027,_0x358168)=>_0x271027[_0x3e805c(0xd4f)]-_0x358168[_0x3e805c(0xd4f)])[_0x3e805c(0x27c)]((_0x26d4c1,_0x43d765,_0x13b708)=>_0x26d4c1['latestScore']===_0x13b708[0x0][_0x3e805c(0xd4f)]),_0x5327f2=_0x3e805c(0xd3a)+_0xdbdd29[_0x3e805c(0xe0b)](',\x20')+_0x3e805c(0x95c)+_0x322945+_0x3e805c(0x375)+_0x42345a+_0x3e805c(0x3d6)+_0x32648e[_0x3e805c(0xe0b)](',\x20')+_0x3e805c(0x95c)+(_0x42345a-_0x2b6b61)+_0x3e805c(0x375)+_0x42345a+_0x3e805c(0x3e3)+_0x4541de[_0x3e805c(0x561)](_0x59b8ec=>_0x59b8ec[_0x3e805c(0x4f9)])[_0x3e805c(0xe0b)](',\x20')+_0x3e805c(0x4cf)+_0x4541de[0x0]['latestScore']+_0x3e805c(0xc7f)+_0x381d97['map'](_0x36ab09=>_0x36ab09[_0x3e805c(0x4f9)])[_0x3e805c(0xe0b)](',\x20')+_0x3e805c(0x4cf)+_0x381d97[0x0][_0x3e805c(0xd4f)]+_0x3e805c(0x6a2);_0x115edb[_0x3e805c(0xd15)]=_0x5327f2;}function renderSubmissionChart(_0x500abc,_0x1630d4,_0x1c9413,_0x4ba9ae){const _0x2640be=_0x3abb87,_0x536138=document[_0x2640be(0x753)](_0x2640be(0xb6a))[_0x2640be(0x289)]('2d'),_0x197307=_0x1c9413[_0x2640be(0x561)](_0x402bc6=>_0x402bc6[_0x2640be(0x4f9)]),_0x1a40d3=_0x4ba9ae[_0x2640be(0x27c)](_0x8e1b32=>!_0x197307[_0x2640be(0x842)](_0x8e1b32));chartInstances[_0x2640be(0xcab)]&&chartInstances[_0x2640be(0xcab)][_0x2640be(0x72f)](),chartInstances['submission']=new Chart(_0x536138,{'type':_0x2640be(0x38a),'data':{'labels':[_0x2640be(0x1e7),_0x2640be(0x71d)],'datasets':[{'data':[_0x500abc,_0x1630d4],'backgroundColor':[_0x2640be(0x992),_0x2640be(0xcc3)],'borderColor':[_0x2640be(0x413),_0x2640be(0x413)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x2c8d4f){const _0x3a7b2b=_0x2640be;let _0x112eaa=_0x2c8d4f[_0x3a7b2b(0x611)]||'';return _0x112eaa&&(_0x112eaa+=':\x20'),_0x112eaa+=_0x2c8d4f['raw'],_0x112eaa;},'afterLabel':function(_0x16ec94){const _0x359684=_0x2640be;let _0x89b57f;return _0x16ec94['dataIndex']===0x0?_0x89b57f=_0x197307:_0x89b57f=_0x1a40d3,_0x89b57f[_0x359684(0xd2b)]>0x0?_0x89b57f[_0x359684(0xe0b)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x4a43d8,_0x318762){const _0x55e76a=_0x3abb87,_0x1212df=document[_0x55e76a(0x753)](_0x55e76a(0x827))[_0x55e76a(0x289)]('2d'),_0x50458e={};for(let _0x4a5c27=0x0;_0x4a5c27<=_0x318762;_0x4a5c27++){_0x50458e[_0x4a5c27]=0x0;}_0x4a43d8['forEach'](_0x4718bd=>{const _0xdb2482=_0x55e76a;_0x50458e[_0x4718bd['latestScore']]!==undefined&&_0x50458e[_0x4718bd[_0xdb2482(0xd4f)]]++;}),chartInstances[_0x55e76a(0xb3d)]&&chartInstances[_0x55e76a(0xb3d)]['destroy'](),chartInstances[_0x55e76a(0xb3d)]=new Chart(_0x1212df,{'type':_0x55e76a(0xb2a),'data':{'labels':Object[_0x55e76a(0xbd6)](_0x50458e),'datasets':[{'label':_0x55e76a(0x49c),'data':Object['values'](_0x50458e),'backgroundColor':_0x55e76a(0x3ee),'borderColor':_0x55e76a(0x74a),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x55e76a(0x41b)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x53a0a7){const _0x2bdd62=_0x55e76a,_0xd67ada=_0x53a0a7[_0x2bdd62(0x611)],_0x148228=_0x4a43d8[_0x2bdd62(0x27c)](_0x3b2dc1=>_0x3b2dc1['latestScore']==_0xd67ada)[_0x2bdd62(0x561)](_0x59d352=>_0x59d352[_0x2bdd62(0x4f9)]);return _0x148228[_0x2bdd62(0xd2b)]>0x0?_0x148228[_0x2bdd62(0xe0b)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x18d898,_0x3e9e6c,_0x219632){const _0x2614c9=_0x3abb87,_0x5405c6=document[_0x2614c9(0x753)](_0x2614c9(0xb63));if(_0x219632[_0x2614c9(0xd2b)]===0x0){_0x5405c6['innerHTML']=_0x2614c9(0xa5b);return;}const _0x510992=calculateItemAnalysis(_0x18d898,_0x3e9e6c),_0x4c9e3c=calculateDistractorAnalysis(_0x18d898,_0x3e9e6c);let _0x16c056='';_0x510992[_0x2614c9(0x937)]&&(_0x16c056=_0x2614c9(0xcb2)+_0x510992[_0x2614c9(0x937)]['upperGroupNames'][_0x2614c9(0xd2b)]+_0x2614c9(0xb68)+_0x510992[_0x2614c9(0x937)]['upperGroupNames'][_0x2614c9(0x561)](_0x491a2e=>_0x2614c9(0xa66)+_0x491a2e+_0x2614c9(0x592))[_0x2614c9(0xe0b)]('')+_0x2614c9(0x1e4)+_0x510992['overallGroups'][_0x2614c9(0x379)][_0x2614c9(0xd2b)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x510992[_0x2614c9(0x937)][_0x2614c9(0x379)]['map'](_0x4b2697=>_0x2614c9(0xa66)+_0x4b2697+_0x2614c9(0x592))[_0x2614c9(0xe0b)]('')+_0x2614c9(0xc09));let _0x3f6b53='';const _0x53cd79=_0x3e9e6c[_0x2614c9(0x561)](_0x304618=>_0x304618[_0x2614c9(0x4f9)]),_0x459f5b=_0xe438e4=>{const _0x5bd01c=_0x2614c9;if(_0xe438e4>=0.8)return _0x5bd01c(0xd24);if(_0xe438e4>=0.6)return _0x5bd01c(0x535);if(_0xe438e4>=0.4)return _0x5bd01c(0x5eb);if(_0xe438e4>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x5bd01c(0x337);},_0x5adec6=_0x307439=>{const _0x5842f4=_0x2614c9;if(_0x307439<0x0)return _0x5842f4(0x3cb);if(_0x307439>=0.4)return _0x5842f4(0xb14);if(_0x307439>=0.3)return _0x5842f4(0x341);if(_0x307439>=0.2)return _0x5842f4(0xdf9);return _0x5842f4(0xb95);},_0x5c86ba=_0x3b2b6a=>{const _0x1149a7=_0x2614c9,_0x3a39e1=_0x3b2b6a[_0x1149a7(0xddd)](0x0);if(parseFloat(_0x3a39e1)===0x64)return _0x1149a7(0xb92)+_0x3a39e1+'%</span>';if(_0x3b2b6a>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3a39e1+_0x1149a7(0x4e0);return _0x1149a7(0x512)+_0x3a39e1+'%</span>';};_0x18d898['questions'][_0x2614c9(0x91b)]((_0x397237,_0x284890)=>{const _0x255018=_0x2614c9,_0x7da0c2=_0x510992['perQuestionStats'][_0x284890],_0x56e614=_0x4c9e3c[_0x284890],_0x53ecd9=_0x397237[_0x255018(0x9b7)]||_0x397237['questionText']||_0x397237[_0x255018(0xa94)];let _0x19788c=0x0;const _0x346895=[],_0x404a59=[];_0x3e9e6c[_0x255018(0x91b)](_0x2bcdd5=>{const _0x265265=_0x255018,_0x2ae607=_0x2bcdd5['attempts'][_0x2bcdd5[_0x265265(0x2c5)][_0x265265(0xd2b)]-0x1];if(_0x2ae607&&_0x2ae607[_0x265265(0x67e)]){const _0xb02d86=_0x2ae607['answers'][_0x265265(0x7f4)](_0x2b3760=>_0x2b3760[_0x265265(0x675)]===_0x53ecd9)??_0x2ae607['answers'][_0x284890]??null;_0xb02d86&&(_0xb02d86[_0x265265(0x88b)]?(_0x19788c++,_0x346895[_0x265265(0xabd)](_0x2bcdd5[_0x265265(0x4f9)])):_0x404a59[_0x265265(0xabd)](_0x2bcdd5[_0x265265(0x4f9)]));}});const _0x11b5f3=_0x3e9e6c[_0x255018(0xd2b)]>0x0?_0x19788c/_0x3e9e6c['length']*0x64:0x0,_0x4cdbe5=_0x219632['filter'](_0x12f4de=>!_0x53cd79[_0x255018(0x842)](_0x12f4de)),_0x444921=_0x7da0c2?_0x255018(0x500)+_0x7da0c2['p'][_0x255018(0xddd)](0x2)+_0x255018(0x4df)+_0x459f5b(_0x7da0c2['p'])+_0x255018(0xae6)+_0x7da0c2['r'][_0x255018(0xddd)](0x2)+'</p><div>'+_0x5adec6(_0x7da0c2['r'])+_0x255018(0x29c)+_0x5c86ba(_0x11b5f3)+_0x255018(0xaf3):'';let _0x2c3d1a='';_0x56e614&&(_0x2c3d1a=_0x255018(0xdd4)+Object['keys'](_0x56e614)[_0x255018(0x561)](_0x36bfb2=>{const _0x38981c=_0x255018,_0x369125=_0x56e614[_0x36bfb2],_0x10c449=parseInt(_0x36bfb2)===_0x397237['correctAnswerIndex'],_0x439b63=!_0x10c449&&_0x369125[_0x38981c(0xa65)]>_0x369125['upper_group_count'];return _0x38981c(0x27d)+(_0x10c449?_0x38981c(0x3d5):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x10c449?'✔\x20':'')+_0x369125[_0x38981c(0xba9)]+_0x38981c(0x32d)+_0x369125['upper_group_count']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x369125['lower_group_count']+'\x20'+(_0x439b63?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x369125[_0x38981c(0x2fd)]+'</td></tr>';})[_0x255018(0xe0b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x4dd35f='';_0x7da0c2&&_0x7da0c2[_0x255018(0xa13)]&&(_0x4dd35f=_0x255018(0xadc)+_0x7da0c2[_0x255018(0xa13)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x7da0c2['upperGroupResponders'][_0x255018(0x561)](_0x102390=>_0x255018(0xa66)+(_0x102390[_0x255018(0x88b)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x102390[_0x255018(0xc71)]+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x7da0c2[_0x255018(0x663)][_0x255018(0xd2b)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x7da0c2[_0x255018(0x663)]['map'](_0x3c7c77=>_0x255018(0xa66)+(_0x3c7c77[_0x255018(0x88b)]?_0x255018(0x32f):_0x255018(0xb56))+'\x20'+_0x3c7c77[_0x255018(0xc71)]+_0x255018(0x592))[_0x255018(0xe0b)]('')+_0x255018(0x2c7)),_0x3f6b53+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x284890+0x1)+':\x20'+_0x53ecd9+_0x255018(0xb75)+_0x444921+_0x255018(0xe1c)+_0x53ecd9+_0x255018(0x785)+_0x19788c+_0x255018(0x91d)+_0x3e9e6c['length']+_0x255018(0x4d9)+_0x11b5f3[_0x255018(0xddd)](0x0)+_0x255018(0x366)+_0x346895[_0x255018(0xd2b)]+_0x255018(0x63f)+(_0x346895[_0x255018(0xd2b)]>0x0?_0x346895[_0x255018(0xe0b)](',\x20'):'ไม่มี')+_0x255018(0x277)+_0x404a59[_0x255018(0xd2b)]+_0x255018(0x63f)+(_0x404a59['length']>0x0?_0x404a59[_0x255018(0xe0b)](',\x20'):_0x255018(0x38c))+_0x255018(0xd0f)+_0x4cdbe5[_0x255018(0xd2b)]+_0x255018(0x63f)+(_0x4cdbe5['length']>0x0?_0x4cdbe5[_0x255018(0xe0b)](',\x20'):_0x255018(0x38c))+_0x255018(0xafd)+_0x2c3d1a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dd35f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5405c6[_0x2614c9(0xd15)]=_0x16c056+_0x3f6b53;try{window[_0x2614c9(0xc12)]&&MathJax[_0x2614c9(0x98a)]&&MathJax[_0x2614c9(0x98a)]([_0x5405c6]);}catch(_0x203ac0){console[_0x2614c9(0x28d)](_0x2614c9(0x34c),_0x203ac0);}}function calculateDistractorAnalysis(_0x609361,_0x57d690){const _0x4648b4=_0x3abb87,_0x1b2478={};if(_0x57d690[_0x4648b4(0xd2b)]<0x2)return _0x1b2478;const _0x429485=[..._0x57d690][_0x4648b4(0xb00)]((_0x482acf,_0x3f0839)=>{const _0x4115a9=_0x4648b4,_0x1b5117=_0x3f0839[_0x4115a9(0xd4f)]-_0x482acf['latestScore'];if(_0x1b5117!==0x0)return _0x1b5117;const _0x45df02=_0x482acf[_0x4115a9(0x2c5)]?.[_0x4115a9(0xd2b)]||0x1,_0x585e0a=_0x3f0839[_0x4115a9(0x2c5)]?.[_0x4115a9(0xd2b)]||0x1,_0x47767c=_0x45df02-_0x585e0a;if(_0x47767c!==0x0)return _0x47767c;const _0x3e8332=new Date(_0x482acf[_0x4115a9(0x1e2)]),_0x34fe75=new Date(_0x3f0839[_0x4115a9(0x1e2)]),_0x56deba=_0x3e8332-_0x34fe75;if(_0x56deba!==0x0)return _0x56deba;return _0x482acf['studentName'][_0x4115a9(0xe3a)](_0x3f0839['studentName'],'th');}),_0x6d7d2b=_0x429485[_0x4648b4(0xd2b)],_0x12b58d=Math['max'](0x1,Math[_0x4648b4(0x886)](_0x6d7d2b*0.33)),_0x13047a=_0x429485[_0x4648b4(0x5a7)](0x0,_0x12b58d),_0x56fe3f=_0x429485['slice'](-_0x12b58d);return _0x609361[_0x4648b4(0x806)]['forEach']((_0x2111e6,_0x42e478)=>{const _0x5965a6=_0x4648b4;if(_0x2111e6['questionType']!==_0x5965a6(0x431)||!_0x2111e6['options'])return;const _0x506af8=_0x2111e6[_0x5965a6(0xbdb)],_0x51b62e={};_0x2111e6['options']['forEach']((_0x4a843d,_0x21f7e7)=>{_0x51b62e[_0x21f7e7]={'text':_0x4a843d,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x429485['forEach'](_0x3243ae=>{const _0x96b438=_0x5965a6,_0x14f810=_0x3243ae[_0x96b438(0x2c5)][_0x3243ae[_0x96b438(0x2c5)][_0x96b438(0xd2b)]-0x1],_0x20a941=_0x14f810[_0x96b438(0x67e)][_0x96b438(0x7f4)](_0x86ce88=>_0x86ce88[_0x96b438(0x675)]===_0x506af8);if(_0x20a941&&_0x20a941[_0x96b438(0x5b8)]!==null){const _0x47e097=_0x2111e6['options'][_0x96b438(0xbda)](_0x41f932=>_0x41f932===_0x20a941[_0x96b438(0x5b9)]);_0x47e097!==-0x1&&_0x51b62e[_0x47e097]&&(_0x51b62e[_0x47e097][_0x96b438(0x2fd)]++,_0x13047a['includes'](_0x3243ae)&&_0x51b62e[_0x47e097]['upper_group_count']++,_0x56fe3f[_0x96b438(0x842)](_0x3243ae)&&_0x51b62e[_0x47e097]['lower_group_count']++);}}),_0x1b2478[_0x42e478]=_0x51b62e;}),_0x1b2478;}function calculateReliabilityKR20(_0x15df03,_0x10ed81,_0x10b116){const _0x1cb941=_0x3abb87,_0x3786f3=_0x15df03[_0x1cb941(0x806)][_0x1cb941(0xd2b)];if(_0x3786f3<0x2||_0x10ed81[_0x1cb941(0xd2b)]<0x2)return null;const _0x11eb2d=_0x10ed81[_0x1cb941(0x561)](_0x3159a8=>_0x3159a8[_0x1cb941(0xd4f)]),_0x1369f2=_0x11eb2d[_0x1cb941(0x257)]((_0x507754,_0x2fb356)=>_0x507754+_0x2fb356,0x0)/_0x11eb2d[_0x1cb941(0xd2b)],_0x20cce0=_0x11eb2d[_0x1cb941(0x561)](_0x39781c=>Math[_0x1cb941(0x768)](_0x39781c-_0x1369f2,0x2))[_0x1cb941(0x257)]((_0x5dac26,_0x197c68)=>_0x5dac26+_0x197c68,0x0)/_0x11eb2d[_0x1cb941(0xd2b)];if(_0x20cce0===0x0)return null;let _0x2758ef=0x0;for(let _0x22970f=0x0;_0x22970f<_0x3786f3;_0x22970f++){const _0x2d00fd=_0x10b116[_0x22970f]?.['p'];if(_0x2d00fd===undefined)continue;const _0x2a5d1a=0x1-_0x2d00fd;_0x2758ef+=_0x2d00fd*_0x2a5d1a;}if(_0x2758ef===0x0)return null;const _0x545c56=_0x3786f3/(_0x3786f3-0x1)*(0x1-_0x2758ef/_0x20cce0);if(_0x545c56>0x1)return null;return _0x545c56;}async function handleAnalyzeClass(){const _0xdb8af5=_0x3abb87;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xdb8af5(0x259));return;}const _0x4aabf0=collection(db,'artifacts/'+appId+_0xdb8af5(0x75d)+currentQuizData['id']+_0xdb8af5(0x4cc)),_0x479377=await getDocs(_0x4aabf0),_0x4bc7c5=_0x479377[_0xdb8af5(0x2a7)][_0xdb8af5(0x561)](_0x107125=>_0x107125[_0xdb8af5(0x3f4)]());if(_0x4bc7c5[_0xdb8af5(0xd2b)]<0x2){showMessage(_0xdb8af5(0x233));return;}const _0x5ae89d=document[_0xdb8af5(0x753)](_0xdb8af5(0x960));_0x5ae89d[_0xdb8af5(0xd15)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0xdb8af5(0x753)](_0xdb8af5(0x2fc))[_0xdb8af5(0x5ad)]=!![];const _0x3cfa53=_0x4bc7c5[_0xdb8af5(0x561)]((_0x5b638,_0x46cb64)=>{const _0x29e645=_0xdb8af5,_0x24af75=_0x5b638[_0x29e645(0x2c5)][_0x5b638[_0x29e645(0x2c5)]['length']-0x1];if(!_0x24af75)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x46cb64+0x1)+'\x20('+_0x5b638[_0x29e645(0x4f9)]+_0x29e645(0xe2f)+_0x24af75[_0x29e645(0xb3d)]+'/'+_0x5b638['totalQuestions']+_0x29e645(0xb11)+JSON['stringify'](_0x24af75[_0x29e645(0x67e)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](_0xdb8af5(0x5a9)),_0x40d668=_0xdb8af5(0x70a)+currentQuizData[_0xdb8af5(0x3bb)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0xdb8af5(0x6e6)](currentQuizData[_0xdb8af5(0x806)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cfa53+_0xdb8af5(0xd6e),_0x5002f5={'type':'OBJECT','properties':{'classStrengths':{'type':_0xdb8af5(0x9bd),'items':{'type':_0xdb8af5(0x29d)}},'classWeaknesses':{'type':_0xdb8af5(0x9bd),'items':{'type':_0xdb8af5(0x29d)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0xdb8af5(0x29d)}}},'required':[_0xdb8af5(0x65b),_0xdb8af5(0x6b9),_0xdb8af5(0x45a)]};try{const _0x1eff47=await callAnalysisApi(_0x40d668,_0x5002f5);displayClassAnalysis(_0x1eff47);}catch(_0x375884){console[_0xdb8af5(0x28d)]('Error\x20during\x20class\x20analysis:',_0x375884),_0x5ae89d[_0xdb8af5(0xd15)]=_0xdb8af5(0xe86)+_0x375884[_0xdb8af5(0x9e1)]+'</p></div>';}finally{document[_0xdb8af5(0x753)](_0xdb8af5(0x2fc))[_0xdb8af5(0x5ad)]=![];}}function displayClassAnalysis(_0x25bb94){const _0x28558c=_0x3abb87,_0x501697=document[_0x28558c(0x753)](_0x28558c(0x960));if(!_0x25bb94){_0x501697[_0x28558c(0xd15)]=_0x28558c(0x47a);return;}_0x501697['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25bb94[_0x28558c(0x65b)][_0x28558c(0x561)](_0x571eec=>_0x28558c(0xa66)+_0x571eec+'</li>')[_0x28558c(0xe0b)]('')+_0x28558c(0xa92)+_0x25bb94[_0x28558c(0x6b9)][_0x28558c(0x561)](_0x1ffc84=>_0x28558c(0xa66)+_0x1ffc84+_0x28558c(0x592))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25bb94['teacherSuggestions'][_0x28558c(0x561)](_0x4d5ff5=>'<li>'+_0x4d5ff5+'</li>')['join']('')+_0x28558c(0xc11);}function formatAndPrintWorksheet(_0x3117f9,_0x50c3d7){const _0x1e7a3e=_0x3abb87,_0x4a6cc3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x3117f9[_0x1e7a3e(0x3bb)]+_0x1e7a3e(0x9fd)+_0x3117f9[_0x1e7a3e(0x3bb)]+_0x1e7a3e(0x9a8)+_0x3117f9[_0x1e7a3e(0x806)][_0x1e7a3e(0x561)]((_0x5fddd,_0xcc6577)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0xcc6577+0x1)+'.\x20'+_0x5fddd[_0x1e7a3e(0xbdb)]+_0x1e7a3e(0x434)+(_0x5fddd[_0x1e7a3e(0xc35)]?_0x1e7a3e(0x42b)+_0x5fddd[_0x1e7a3e(0xc35)]+_0x1e7a3e(0x634):'')+_0x1e7a3e(0xd85))[_0x1e7a3e(0xe0b)]('')+_0x1e7a3e(0xd01);_0x50c3d7[_0x1e7a3e(0x9bc)][_0x1e7a3e(0xac3)](_0x4a6cc3),_0x50c3d7[_0x1e7a3e(0x9bc)]['close'](),_0x50c3d7[_0x1e7a3e(0x55b)]=function(){setTimeout(()=>{const _0x25cc0d=_0x55d5;_0x50c3d7[_0x25cc0d(0x322)]();},0x3e8);};}async function generateWorksheet(){const _0x18d06f=_0x3abb87,_0x3a4693=document[_0x18d06f(0x753)](_0x18d06f(0xd41))[_0x18d06f(0x8a6)][_0x18d06f(0xda7)]();if(!_0x3a4693){showMessage(_0x18d06f(0xc1d));return;}const _0x2cd474=document[_0x18d06f(0x753)]('force-math-checkbox')[_0x18d06f(0xc32)],_0x44777d=_0x2cd474?'':'คณิตศาสตร์',_0x22e6f4=window[_0x18d06f(0x343)]('','_blank');_0x22e6f4[_0x18d06f(0x9bc)][_0x18d06f(0xac3)](_0x18d06f(0x56a));const _0x4ccad1=parseInt(document[_0x18d06f(0x753)](_0x18d06f(0x1d5))[_0x18d06f(0x8a6)]),_0x236b27=document[_0x18d06f(0x753)](_0x18d06f(0xe12))[_0x18d06f(0xc32)],_0x515664=_0x236b27?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x236211=_0x18d06f(0x8fa)+_0x44777d+_0x18d06f(0xd27)+_0x4ccad1+_0x18d06f(0x380)+_0x3a4693+_0x18d06f(0x799)+_0x515664+_0x18d06f(0xcb7)+simpleMathPrompt+_0x18d06f(0x28b),_0x4e13e4={'type':_0x18d06f(0xbe1),'properties':{'topic':{'type':_0x18d06f(0x29d)},'questions':{'type':_0x18d06f(0x9bd),'items':{'type':_0x18d06f(0xbe1),'properties':{'questionText':{'type':_0x18d06f(0x29d)},'imageCode':{'type':_0x18d06f(0x29d)}},'required':[_0x18d06f(0xbdb)]}}},'required':[_0x18d06f(0x3bb),_0x18d06f(0x806)]};document[_0x18d06f(0x753)](_0x18d06f(0xa76))[_0x18d06f(0xbde)]='',document['getElementById'](_0x18d06f(0xac0))[_0x18d06f(0x33a)]['remove'](_0x18d06f(0x986)),document[_0x18d06f(0x753)](_0x18d06f(0x64c))[_0x18d06f(0x33a)]['remove'](_0x18d06f(0x986)),generateWorksheetBtn[_0x18d06f(0x5ad)]=!![];try{const _0x1cbf25=await callAnalysisApi(_0x236211,_0x4e13e4);formatAndPrintWorksheet(_0x1cbf25,_0x22e6f4);}catch(_0x501d51){console[_0x18d06f(0x28d)](_0x18d06f(0x239),_0x501d51);if(_0x22e6f4)_0x22e6f4[_0x18d06f(0x7e4)]();showMessage(_0x18d06f(0xad3));}finally{document[_0x18d06f(0x753)](_0x18d06f(0xac0))[_0x18d06f(0x33a)][_0x18d06f(0xbaf)](_0x18d06f(0x986)),document['getElementById']('quiz-generation-area')[_0x18d06f(0x33a)][_0x18d06f(0xbaf)](_0x18d06f(0x986)),generateWorksheetBtn[_0x18d06f(0x5ad)]=![];}}async function callAnalysisApi(_0x3b4dce,_0x1a7737){const _0x12338a=_0x3abb87,_0x40d686={'contents':[{'role':'user','parts':[{'text':_0x3b4dce}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1a7737}},_0x24998c='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x2a97ac=_0x12338a(0x4af)+_0x24998c,_0x3fd2e3=await fetch(_0x2a97ac,{'method':_0x12338a(0xd31),'headers':{'Content-Type':_0x12338a(0x3eb)},'body':JSON[_0x12338a(0x6e6)](_0x40d686)});if(!_0x3fd2e3['ok'])throw new Error(_0x12338a(0x39e)+_0x3fd2e3[_0x12338a(0x98e)]);const _0x18df98=await _0x3fd2e3[_0x12338a(0x6a0)]();if(_0x18df98[_0x12338a(0x7db)]?.[0x0]?.[_0x12338a(0x901)]?.[_0x12338a(0xdfa)]?.[0x0])return JSON[_0x12338a(0x5b1)](_0x18df98[_0x12338a(0x7db)][0x0][_0x12338a(0x901)]['parts'][0x0][_0x12338a(0xba9)]);else{let _0x525731='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x18df98[_0x12338a(0xb4a)]?.[_0x12338a(0xdc6)])_0x525731=_0x12338a(0x96f)+_0x18df98[_0x12338a(0xb4a)][_0x12338a(0xdc6)]+'.';else _0x18df98[_0x12338a(0x7db)]?.[0x0]?.[_0x12338a(0xa75)]&&_0x18df98[_0x12338a(0x7db)][0x0][_0x12338a(0xa75)]!=='STOP'&&(_0x525731=_0x12338a(0x830)+_0x18df98[_0x12338a(0x7db)][0x0][_0x12338a(0xa75)]+'.');console['error'](_0x525731,JSON[_0x12338a(0x6e6)](_0x18df98));throw new Error(_0x525731);}}async function handleStartSyncMode(_0x5a7f0c,_0x974148=![],_0x34c75d=_0x3abb87(0xbf0)){const _0xd5a73a=_0x3abb87,_0x1a7507=allQuizzes['find'](_0x75c963=>_0x75c963['id']===_0x5a7f0c)||allQuizzesGlobal[_0xd5a73a(0x7f4)](_0x215f68=>_0x215f68['id']===_0x5a7f0c);if(!_0x1a7507){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x1a7507);const _0x1d5a9f=Math[_0xd5a73a(0x886)](0x3e8+Math[_0xd5a73a(0x323)]()*0x2328)[_0xd5a73a(0xbd3)](),_0x478d1a=doc(db,_0xd5a73a(0x8da)+appId+_0xd5a73a(0xdfd),_0x1a7507[_0xd5a73a(0x365)]),_0x22b71c=await getDoc(_0x478d1a);if(!_0x22b71c[_0xd5a73a(0xc9d)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x129f31=_0x22b71c[_0xd5a73a(0x3f4)]()[_0xd5a73a(0x7d2)]||[],_0xe55e7e={};if(_0x34c75d===_0xd5a73a(0x58f)){const _0x5b9f4e=[...ANONYMOUS_NAMES][_0xd5a73a(0xb00)](()=>0.5-Math[_0xd5a73a(0x323)]());_0x129f31['forEach']((_0x3e403c,_0x35578d)=>{const _0x170a8a=_0xd5a73a;_0xe55e7e[_0x3e403c]=_0x5b9f4e[_0x35578d]||_0x170a8a(0x5c0)+(_0x35578d+0x1);});}const _0x465cfe=document[_0xd5a73a(0x753)](_0xd5a73a(0x62f))['checked'],_0x2eb14c=parseInt(document[_0xd5a73a(0x753)](_0xd5a73a(0x686))[_0xd5a73a(0x8a6)],0xa);let _0x3244eb={'timerMode':_0xd5a73a(0x961),'timerDuration':0x0};_0x465cfe&&(_0x3244eb[_0xd5a73a(0x9ee)]=_0xd5a73a(0x37c),_0x3244eb['timerDuration']=_0x2eb14c||0xf0);const _0x242e1e=document[_0xd5a73a(0x753)](_0xd5a73a(0x800))[_0xd5a73a(0xc32)],_0x3a6ac6=document['getElementById']('enable-black-market-checkbox')[_0xd5a73a(0xc32)];try{const _0x2635aa=await addDoc(collection(db,_0xd5a73a(0x8da)+appId+'/public/data/syncGames'),{'quizId':_0x1a7507['id'],'pin':_0x1d5a9f,'status':_0xd5a73a(0x973),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x974148,'players':{},'gameVariant':_0x34c75d,'reviewQuestionIndex':0x0,'playerNicknames':_0xe55e7e,'isAnonymousRevealed':![],..._0x3244eb,'showAnswerInAnonymous':_0x242e1e,'isBlackMarketEnabled':_0x3a6ac6});currentLiveGameId=_0x2635aa['id'],showView('live-game'),renderSyncLobbyView(_0x1d5a9f,_0x1a7507['topic']),listenForSyncGameUpdates();const _0x1e2ca2={'gameId':currentLiveGameId,'mode':_0xd5a73a(0xe7b),'role':_0xd5a73a(0xdcc)};sessionStorage[_0xd5a73a(0x27e)](_0xd5a73a(0xd04),JSON['stringify'](_0x1e2ca2));}catch(_0x587e74){console['error'](_0xd5a73a(0xdc2),_0x587e74),showMessage(_0xd5a73a(0x5b5));}}function calculateFinalPodiumScores(_0x27dbb5){const _0x317e5d=_0x3abb87;if(!_0x27dbb5||!_0x27dbb5[_0x317e5d(0xbd7)]||!_0x27dbb5[_0x317e5d(0xc17)])return _0x27dbb5[_0x317e5d(0xc17)]||{};const _0x718968=_0x27dbb5['shuffledQuiz'][_0x317e5d(0x806)]['length'],_0x13d6f2=JSON[_0x317e5d(0x5b1)](JSON['stringify'](_0x27dbb5[_0x317e5d(0xc17)]));return Object[_0x317e5d(0xa10)](_0x13d6f2)[_0x317e5d(0x91b)](_0x201e4a=>{const _0x3c72b5=_0x317e5d,_0x47a69d=_0x201e4a['score']||0x0,_0x507e0c=_0x201e4a[_0x3c72b5(0x695)]||0x0;_0x718968>0x0&&_0x47a69d===_0x718968?_0x201e4a[_0x3c72b5(0x805)]=!![]:_0x201e4a[_0x3c72b5(0x805)]=![],_0x201e4a[_0x3c72b5(0xb2d)]=_0x47a69d,_0x201e4a['totalPoints']=_0x507e0c;}),_0x13d6f2;}function listenForSyncGameUpdates(){const _0x3452a9=_0x3abb87;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x286f97=doc(db,_0x3452a9(0x8da)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x286f97,_0x44e26=>{const _0x553dc0=_0x3452a9;if(!_0x44e26[_0x553dc0(0xc9d)]()){sessionStorage[_0x553dc0(0x808)](_0x553dc0(0xd04));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x553dc0(0xb0d));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x553dc0(0xdcc)?showView(_0x553dc0(0x85f)):showView(_0x553dc0(0xbf8));return;}const _0x1c8ad3=_0x44e26[_0x553dc0(0x3f4)]();currentMode===_0x553dc0(0xdcc)?updateAdminSyncView(_0x1c8ad3):updateStudentSyncView(_0x1c8ad3);});}function renderSyncLobbyView(_0x38776d,_0x3ec276){const _0x44de43=_0x3abb87;liveGameView[_0x44de43(0xd15)]=_0x44de43(0xae0)+_0x3ec276+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x38776d+_0x44de43(0xb15);const _0x507252=document[_0x44de43(0x753)]('confidence-scoring-toggle'),_0x2085a3=document['getElementById'](_0x44de43(0x7b8));_0x507252['addEventListener'](_0x44de43(0x220),()=>{const _0x4b6ef5=_0x44de43;_0x2085a3['style']['display']=_0x507252[_0x4b6ef5(0xc32)]?_0x4b6ef5(0x4c3):'none';}),document['getElementById']('start-sync-game-btn')[_0x44de43(0xdd0)](_0x44de43(0xaa0),async()=>{const _0x20fb53=_0x44de43,_0x15e448=doc(db,_0x20fb53(0x8da)+appId+_0x20fb53(0x725),currentLiveGameId),_0x1b9da5=document['getElementById']('confidence-scoring-toggle')[_0x20fb53(0xc32)];await updateDoc(_0x15e448,{'status':_0x20fb53(0x231),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1b9da5});});}function updateAdminSyncView(_0x319e4c){const _0xaedd59=_0x3abb87;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x319e4c['status']){case'lobby':renderSyncLobbyView(_0x319e4c['pin'],_0x319e4c['shuffledQuiz'][_0xaedd59(0x3bb)]);const _0x38c72c=Object['entries'](_0x319e4c[_0xaedd59(0xc17)]||{})[_0xaedd59(0x27c)](([_0x19d61c,_0x32e986])=>_0x32e986[_0xaedd59(0x98e)]!==_0xaedd59(0x42f));document[_0xaedd59(0x753)](_0xaedd59(0x26d))[_0xaedd59(0xbde)]=_0x38c72c[_0xaedd59(0xd2b)],document['getElementById'](_0xaedd59(0x1ee))[_0xaedd59(0xd15)]=_0x38c72c[_0xaedd59(0x561)](([_0x5745d2,_0x21e83f])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5745d2+_0xaedd59(0x811)+_0x5745d2+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xaedd59(0xe0b)]('')||_0xaedd59(0x23e),document[_0xaedd59(0x753)](_0xaedd59(0x4f0))[_0xaedd59(0x5ad)]=_0x38c72c[_0xaedd59(0xd2b)]===0x0;break;case _0xaedd59(0x231):const _0x26fc08=Object[_0xaedd59(0xa10)](_0x319e4c[_0xaedd59(0xc17)]||{})[_0xaedd59(0x27c)](_0x141c5f=>_0x141c5f[_0xaedd59(0x98e)]!==_0xaedd59(0x42f)),_0x1b8913=_0x26fc08[_0xaedd59(0x27c)](_0x28a8db=>_0x28a8db[_0xaedd59(0xc4a)])[_0xaedd59(0xd2b)],_0x2343ed=_0x1b8913===_0x26fc08[_0xaedd59(0xd2b)]&&_0x26fc08[_0xaedd59(0xd2b)]>0x0;if(_0x2343ed&&_0x319e4c[_0xaedd59(0x98e)]==='question'){const _0x3ed145=doc(db,_0xaedd59(0x8da)+appId+_0xaedd59(0x725),currentLiveGameId);updateDoc(_0x3ed145,{'status':'summary'});return;}if(document[_0xaedd59(0x753)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x319e4c);else{const _0xe5f5ad=document['getElementById'](_0xaedd59(0x757));_0xe5f5ad&&(_0xe5f5ad[_0xaedd59(0xbde)]=_0x1b8913+'/'+_0x26fc08[_0xaedd59(0xd2b)]);const _0x1fdf89=document[_0xaedd59(0x753)](_0xaedd59(0x4dc));_0x1fdf89&&(_0x1fdf89[_0xaedd59(0xd15)]=_0x26fc08[_0xaedd59(0x561)](_0x70c12=>{const _0x1ac4bf=_0xaedd59,_0x160e00=_0x70c12[_0x1ac4bf(0xc4a)]?'bg-green-500':_0x1ac4bf(0xc9a),_0x3a78d9=_0x70c12['answered']?_0x1ac4bf(0x9b9):_0x1ac4bf(0xcb1);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x160e00+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a78d9+_0x1ac4bf(0x648)+_0x70c12['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x70c12[_0x1ac4bf(0xc71)]+_0x1ac4bf(0x50c);})['join'](''));}const _0x6293cc=_0x319e4c[_0xaedd59(0x9ee)]===_0xaedd59(0x37c)&&_0x319e4c[_0xaedd59(0x34a)];if(_0x6293cc){const _0xc665db=_0x319e4c[_0xaedd59(0x34a)]['toDate']()['getTime'](),_0x40c4fd=_0x319e4c[_0xaedd59(0x4ed)]*0x3e8,_0x2b8be9=_0xc665db+_0x40c4fd,_0x3c3786=document['getElementById'](_0xaedd59(0x66a)),_0x404f2c=document['getElementById'](_0xaedd59(0xe70));syncQuestionTimerInterval=setInterval(()=>{const _0x5d8e48=_0xaedd59,_0x19b0cc=Date[_0x5d8e48(0xbc4)](),_0x4aef71=_0x26fc08[_0x5d8e48(0xd2b)]>0x0&&_0x26fc08[_0x5d8e48(0xa04)](_0x49be55=>{const _0x4e0801=_0x5d8e48;if(_0x49be55[_0x4e0801(0xc4a)])return!![];const _0x3b50b1=_0x49be55[_0x4e0801(0xacc)]||0x0,_0x2b57c5=_0xc665db+_0x40c4fd+_0x3b50b1;if(_0x2b57c5<=_0x19b0cc)return!![];return![];});if(_0x4aef71){clearInterval(syncQuestionTimerInterval);const _0x3f6b99=doc(db,_0x5d8e48(0x8da)+appId+_0x5d8e48(0x725),currentLiveGameId);updateDoc(_0x3f6b99,{'status':_0x5d8e48(0x6bd)});return;}const _0x3695d0=_0x2b8be9-_0x19b0cc;if(_0x3695d0<=0x0){if(_0x3c3786)_0x3c3786[_0x5d8e48(0x41d)][_0x5d8e48(0xbb9)]='0%';if(_0x404f2c)_0x404f2c[_0x5d8e48(0xbde)]=_0x5d8e48(0x948);}else{if(_0x3c3786&&_0x404f2c){const _0x5d4a4c=_0x3695d0/_0x40c4fd*0x64;_0x3c3786[_0x5d8e48(0x41d)][_0x5d8e48(0xbb9)]=_0x5d4a4c+'%',_0x404f2c[_0x5d8e48(0xbde)]=Math[_0x5d8e48(0xd6c)](_0x3695d0/0x3e8);}}},0x1f4);}break;case'summary':const _0x39d1a4=_0x319e4c[_0xaedd59(0x36f)],_0x42cf9d=_0x319e4c[_0xaedd59(0xbd7)][_0xaedd59(0x806)][_0x39d1a4];renderSyncSummaryView(_0x319e4c,_0x42cf9d,!![]);break;case _0xaedd59(0xada):const _0x19818f=_0x319e4c[_0xaedd59(0xdb6)]||_0xaedd59(0xbf0);_0x19818f==='reveal_at_end'?renderAdminSyncDashboard(_0x319e4c,!![],_0x319e4c['reviewQuestionIndex']):renderAdminSyncDashboard(_0x319e4c,!![],_0x319e4c[_0xaedd59(0x36f)]);break;case _0xaedd59(0x58a):_0x319e4c[_0xaedd59(0x573)]&&saveGameResultsAsSubmissions(_0x319e4c);sessionStorage[_0xaedd59(0x808)](_0xaedd59(0xd04));const _0x486c30=calculateFinalPodiumScores(_0x319e4c);showPodiumView(_0x486c30,_0xaedd59(0xe7b),_0x319e4c);break;}}function renderAdminSyncQuestionView(_0x48ef65){const _0x287643=_0x3abb87,_0x23df8e=_0x48ef65[_0x287643(0x36f)],_0x402dab=_0x48ef65[_0x287643(0xbd7)]['questions'][_0x23df8e],_0x8c4f7f=_0x48ef65['shuffledQuiz'][_0x287643(0x806)]['length'],_0x5cbecd=Object[_0x287643(0xa10)](_0x48ef65[_0x287643(0xc17)]||{})['filter'](_0xd551a6=>_0xd551a6[_0x287643(0x98e)]!==_0x287643(0x42f)),_0xe4736=_0x5cbecd[_0x287643(0x27c)](_0x4cb493=>_0x4cb493[_0x287643(0xc4a)])[_0x287643(0xd2b)],_0x342c9e=_0xe4736===_0x5cbecd[_0x287643(0xd2b)]&&_0x5cbecd['length']>0x0,_0x5bb61e=(_0x402dab[_0x287643(0x254)]||[])['map'](_0x56f742=>_0x287643(0x563)+_0x56f742+_0x287643(0x634))[_0x287643(0xe0b)]('');let _0x167f87='';_0x48ef65[_0x287643(0x9ee)]===_0x287643(0x37c)&&(_0x167f87=_0x287643(0xd8e)+_0x48ef65[_0x287643(0x4ed)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x287643(0xd15)]=_0x287643(0xc33)+(_0x23df8e+0x1)+_0x287643(0x375)+_0x8c4f7f+_0x287643(0xb19)+_0x48ef65[_0x287643(0x97e)]+_0x287643(0x5e1)+_0xe4736+'/'+_0x5cbecd[_0x287643(0xd2b)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x167f87+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x402dab[_0x287643(0xbdb)]+_0x287643(0x53a)+_0x5bb61e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x342c9e?_0x287643(0x5ad):'')+_0x287643(0xe50);if(window['MathJax'])MathJax[_0x287643(0x98a)]();const _0x43a271=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);document['getElementById'](_0x287643(0x6a4))[_0x287643(0xdd0)]('click',async()=>{await updateDoc(_0x43a271,{'status':'summary'});}),document[_0x287643(0x753)](_0x287643(0x9e9))[_0x287643(0x26e)]=()=>{const _0x15a1af=_0x287643;openScratchpad(_0x402dab,_0x402dab[_0x15a1af(0x254)]||[]);},document['getElementById'](_0x287643(0x8a0))[_0x287643(0xdd0)](_0x287643(0xaa0),()=>{const _0x2fdc75=_0x287643;document[_0x2fdc75(0x753)](_0x2fdc75(0x4c7))[_0x2fdc75(0x33a)][_0x2fdc75(0x40d)](_0x2fdc75(0x986));});const _0x4048f8=document[_0x287643(0x753)](_0x287643(0x37e));_0x4048f8&&(_0x4048f8['onclick']=()=>{const _0x1b3a74=_0x287643;showConfirmation(_0x1b3a74(0xc5d),async()=>{const _0x548cbf=_0x1b3a74;await updateDoc(_0x43a271,{'status':_0x548cbf(0x58a)});});});}function renderSyncLeaderboardView(_0x59828c,_0x1b5c9a){const _0x4d7c29=_0x3abb87,_0x63bdb9=Object[_0x4d7c29(0xa10)](_0x59828c['players']||{});_0x63bdb9['sort']((_0x44cbe7,_0x2c14b7)=>_0x2c14b7['score']-_0x44cbe7[_0x4d7c29(0xb3d)]);const _0xb35fc4=_0x63bdb9['slice'](0x0,0x5);let _0x361a69='';if(_0x1b5c9a){const _0x567220=_0x59828c[_0x4d7c29(0x36f)]>=_0x59828c['shuffledQuiz'][_0x4d7c29(0x806)][_0x4d7c29(0xd2b)]-0x1;_0x361a69=_0x4d7c29(0x662)+(_0x567220?'ดูผลสรุปสุดท้าย':_0x4d7c29(0x514))+_0x4d7c29(0xa26);}else _0x361a69=_0x4d7c29(0x463);liveGameView[_0x4d7c29(0xd15)]=_0x4d7c29(0x6a6)+_0xb35fc4['map']((_0x4f0b6d,_0x3a7f0a)=>_0x4d7c29(0x61b)+(_0x3a7f0a+0x1)+'.\x20'+_0x4f0b6d[_0x4d7c29(0xc71)]+_0x4d7c29(0x417)+_0x4f0b6d[_0x4d7c29(0xb3d)]+_0x4d7c29(0x4bb))['join']('')+_0x4d7c29(0xb98)+_0x361a69+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x1b5c9a&&document[_0x4d7c29(0x753)]('next-sync-question-btn')[_0x4d7c29(0xdd0)](_0x4d7c29(0xaa0),async()=>{const _0x417345=_0x4d7c29,_0x5f1dc1=doc(db,_0x417345(0x8da)+appId+_0x417345(0x725),currentLiveGameId),_0x5975a9=_0x59828c[_0x417345(0x36f)]+0x1;if(_0x5975a9<_0x59828c[_0x417345(0xbd7)][_0x417345(0x806)][_0x417345(0xd2b)]){const _0x16819c={};Object[_0x417345(0xbd6)](_0x59828c[_0x417345(0xc17)])[_0x417345(0x91b)](_0x39e276=>{const _0x424153=_0x417345;_0x16819c[_0x424153(0x784)+_0x39e276+'.answered']=![];}),await updateDoc(_0x5f1dc1,{..._0x16819c,'status':_0x417345(0x231),'currentQuestionIndex':_0x5975a9,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5f1dc1,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x4882dc=_0x3abb87,_0x4ef27=prompt(_0x4882dc(0x2d8));if(!_0x4ef27||_0x4ef27['trim']()[_0x4882dc(0xd2b)]!==0x2){showMessage(_0x4882dc(0x926));return;}try{const _0xcf9e77=collection(db,_0x4882dc(0x8da)+appId+_0x4882dc(0x725)),_0x4310fb=query(_0xcf9e77,where(_0x4882dc(0x97e),'==',_0x4ef27[_0x4882dc(0xda7)]()),where(_0x4882dc(0x98e),'==',_0x4882dc(0x973))),_0x10b857=await getDocs(_0x4310fb);if(_0x10b857[_0x4882dc(0x38e)]){showMessage(_0x4882dc(0x290));return;}const _0x446c3c=_0x10b857['docs'][0x0];currentLiveGameId=_0x446c3c['id'];const _0x44df49=_0x446c3c[_0x4882dc(0x3f4)](),_0x16e4eb=doc(db,'artifacts/'+appId+_0x4882dc(0xe3e),_0x44df49['quizId']),_0x504b66=await getDoc(_0x16e4eb);if(!_0x504b66['exists']())throw new Error(_0x4882dc(0xb0f));const _0x394e0a=_0x504b66[_0x4882dc(0x3f4)](),_0xa95381=doc(db,'artifacts/'+appId+_0x4882dc(0xdfd),_0x394e0a[_0x4882dc(0x365)]),_0xc01d36=await getDoc(_0xa95381);if(!_0xc01d36[_0x4882dc(0xc9d)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x44df49['shuffledQuiz'];const _0x248897=_0xc01d36[_0x4882dc(0x3f4)]();showView('student-team-join'),showTeamPlayerSelection(_0x248897[_0x4882dc(0x7d2)],_0x394e0a['topic']);const _0x27ada8=document[_0x4882dc(0x753)](_0x4882dc(0xd93));_0x27ada8[_0x4882dc(0x26e)]=confirmAndJoinSyncGame;}catch(_0x1ba238){console['error'](_0x4882dc(0xe30),_0x1ba238),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1ba238[_0x4882dc(0x9e1)]);}}function updateStudentSyncView(_0x44b2f4){const _0x47b88a=_0x3abb87,_0x57b6ee=_0x44b2f4[_0x47b88a(0xc17)][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x44b2f4[_0x47b88a(0x98e)]){case _0x47b88a(0x973):showView(_0x47b88a(0x35a)),liveGameView['innerHTML']=_0x47b88a(0x50d);break;case _0x47b88a(0x231):if(_0x44b2f4[_0x47b88a(0x36f)]!==lastSeenQuestionIndex){console[_0x47b88a(0x4e6)](_0x47b88a(0x5bf)),sessionStorage['removeItem']('powerupUsedThisTurn'),sessionStorage[_0x47b88a(0x808)](_0x47b88a(0x730)),sessionStorage[_0x47b88a(0x808)]('pollUsedThisTurn');const _0x14120a=_0x47b88a(0xdf6)+lastSeenQuestionIndex,_0x4fc0ae=_0x47b88a(0x76c)+lastSeenQuestionIndex,_0x43060c='hiddenOptions_q'+lastSeenQuestionIndex;Object['keys'](sessionStorage)['forEach'](_0x1d026a=>{const _0x32561c=_0x47b88a;(_0x1d026a[_0x32561c(0x258)](_0x14120a)||_0x1d026a[_0x32561c(0x258)](_0x4fc0ae)||_0x1d026a[_0x32561c(0x258)](_0x43060c))&&sessionStorage[_0x32561c(0x808)](_0x1d026a);}),lastSeenQuestionIndex=_0x44b2f4['currentQuestionIndex'];}localPlayerTurnIndex=0x0;const _0x241e18=localTeamPlayers[_0x47b88a(0xa04)](_0x44bd34=>_0x44b2f4[_0x47b88a(0xc17)][_0x44bd34]?.['answered']===!![]);if(_0x241e18)liveGameView[_0x47b88a(0xd15)]=_0x47b88a(0x1d7);else{renderStudentSyncQuestionView(_0x44b2f4);if(_0x44b2f4['timerMode']===_0x47b88a(0x37c)){if(!_0x44b2f4[_0x47b88a(0x34a)]){console[_0x47b88a(0x4e6)](_0x47b88a(0xa6b));return;}const _0x1f70bc=_0x44b2f4[_0x47b88a(0x34a)][_0x47b88a(0x906)]()[_0x47b88a(0x86f)](),_0x47a6e9=_0x44b2f4[_0x47b88a(0x4ed)]*0x3e8,_0x2a50d6=localTeamPlayers[_0x47b88a(0x561)](_0x1781d7=>_0x44b2f4[_0x47b88a(0xc17)][_0x1781d7]?.[_0x47b88a(0xacc)]||0x0),_0x533fda=Math['max'](..._0x2a50d6,0x0),_0x368fe3=_0x1f70bc+_0x47a6e9+_0x533fda;syncQuestionTimerInterval=setInterval(()=>{const _0x2f1c13=_0x47b88a,_0x37fc60=_0x368fe3-Date[_0x2f1c13(0xbc4)](),_0x18a5cc=document[_0x2f1c13(0x753)](_0x2f1c13(0x66a)),_0x4d9a15=document[_0x2f1c13(0x753)](_0x2f1c13(0xe70));if(_0x37fc60<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x18a5cc)_0x18a5cc[_0x2f1c13(0x41d)]['width']='0%';if(_0x4d9a15)_0x4d9a15[_0x2f1c13(0xbde)]='0';liveGameView[_0x2f1c13(0xd15)]=_0x2f1c13(0x9ae);}else{if(_0x18a5cc&&_0x4d9a15){const _0x45df7d=_0x47a6e9+_0x533fda,_0x33ff43=_0x45df7d>0x0?_0x37fc60/_0x45df7d*0x64:0x0;_0x18a5cc['style'][_0x2f1c13(0xbb9)]=_0x33ff43+'%',_0x4d9a15[_0x2f1c13(0xbde)]=Math['ceil'](_0x37fc60/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x47b88a(0xada):localPlayerTurnIndex=0x0;const _0x17f977=_0x44b2f4[_0x47b88a(0xdb6)]||_0x47b88a(0xbf0);if(_0x17f977==='anonymous')renderStudentAnonymousResultsView(_0x44b2f4,_0x44b2f4[_0x47b88a(0x36f)]);else _0x17f977===_0x47b88a(0xcad)?renderStudentCompetitionResultsView(_0x44b2f4,_0x44b2f4[_0x47b88a(0x36f)]):renderStudentSyncResultsView(_0x44b2f4);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x47b88a(0x21b)](_0x47b88a(0xe08),handleFullscreenChange),document[_0x47b88a(0x21b)](_0x47b88a(0x77c),handleVisibilityChange),sessionStorage[_0x47b88a(0x808)]('activeGameSession');const _0x202a9f=calculateFinalPodiumScores(_0x44b2f4);showPodiumView(_0x202a9f,_0x47b88a(0xe7b),_0x44b2f4);break;}}function renderStudentSyncResultsView(_0x36cd1a){const _0x5d36bd=_0x3abb87,_0x2524b7=localTeamPlayers['map'](_0x543f29=>_0x36cd1a[_0x5d36bd(0xc17)][_0x543f29])[_0x5d36bd(0x27c)](Boolean);_0x2524b7[_0x5d36bd(0xb00)]((_0x2f6212,_0xc9b54e)=>(_0xc9b54e[_0x5d36bd(0xb3d)]||0x0)-(_0x2f6212['score']||0x0));const _0x41a4a4=_0x36cd1a['gameVariant']||'classic',_0x334e9e=_0x36cd1a[_0x5d36bd(0xbd7)][_0x5d36bd(0x806)];let _0x27bedd='';if(_0x41a4a4===_0x5d36bd(0x96b)){const _0x5ceab3=_0x36cd1a[_0x5d36bd(0xd4d)]>=_0x334e9e[_0x5d36bd(0xd2b)]-0x1;_0x5ceab3?_0x27bedd='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x27bedd=_0x5d36bd(0xc37);}else{const _0x42b361=_0x36cd1a[_0x5d36bd(0x36f)]>=_0x334e9e[_0x5d36bd(0xd2b)]-0x1;_0x42b361?_0x27bedd=_0x5d36bd(0x21f):_0x27bedd='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';}const _0x45a749=_0x5d36bd(0x89c)+_0x2524b7['map']((_0x2492cf,_0x1e08b9)=>_0x5d36bd(0xad0)+(_0x1e08b9+0x1)+_0x5d36bd(0xe19)+_0x2492cf[_0x5d36bd(0xc71)]+_0x5d36bd(0xdc1)+_0x2492cf[_0x5d36bd(0xb3d)]+_0x5d36bd(0xbe4))[_0x5d36bd(0xe0b)]('')+_0x5d36bd(0xde2)+_0x27bedd+_0x5d36bd(0xe4f);liveGameView[_0x5d36bd(0xd15)]=_0x45a749;}function renderStudentAnonymousResultsView(_0x4732cb,_0x112b34){const _0x3f0443=_0x3abb87,_0x27da5a=Object[_0x3f0443(0xa10)](_0x4732cb[_0x3f0443(0xc17)]||{}),_0x7c1cae=_0x112b34,_0x59fb6a=_0x4732cb[_0x3f0443(0xdb6)]||_0x3f0443(0xbf0),_0x1ae757=_0x4732cb[_0x3f0443(0xbef)]===!![],_0x426950=_0x4732cb[_0x3f0443(0xbd7)][_0x3f0443(0x806)],_0x3014eb=_0x27da5a[_0x3f0443(0x561)](_0x7ce269=>{const _0x2d1614=_0x3f0443,_0x2aa5fb=_0x7ce269['score']||0x0,_0x38d158=_0x7ce269[_0x2d1614(0x695)]||0x0,_0x4a722b=(_0x7ce269[_0x2d1614(0x67e)]||[])[_0x2d1614(0x27c)](_0x39a63c=>_0x59fb6a===_0x2d1614(0x96b)?_0x39a63c[_0x2d1614(0x824)]<=_0x7c1cae:!![]);return{..._0x7ce269,'realScore':_0x2aa5fb,'totalPoints':_0x38d158,'answers':_0x4a722b};}),_0x1af534=[..._0x3014eb][_0x3f0443(0xb00)]((_0x3295c7,_0x291d1f)=>_0x291d1f['totalPoints']-_0x3295c7['totalPoints']),_0xc6a75b=_0x1af534[_0x3f0443(0xd2b)]>0x0?_0x1af534[0x0]['totalPoints']:0x0;let _0xaec070=null;const _0x10eedc=_0x3014eb[_0x3f0443(0x27c)](_0x388eed=>localTeamPlayers['includes'](_0x388eed['name']));_0xaec070=_0x10eedc[_0x3f0443(0xd2b)]>0x0?_0x10eedc[_0x3f0443(0xb00)]((_0x2e7136,_0x5cc34d)=>_0x5cc34d[_0x3f0443(0x695)]-_0x2e7136[_0x3f0443(0x695)])[0x0]:null;if(!_0xaec070){liveGameView[_0x3f0443(0xd15)]=_0x3f0443(0xd4a);return;}const _0x1ffae9=_0xaec070[_0x3f0443(0x695)]===_0xc6a75b&&_0xc6a75b>0x0,_0x51531a=_0x4732cb[_0x3f0443(0x724)]===!![],_0x47d647=_0x112b34+0x1,_0x53fcbf=_0x3014eb[_0x3f0443(0x27c)](_0x49fb55=>_0x49fb55[_0x3f0443(0xb2d)]===_0x47d647&&(_0x49fb55['answers']||[])[_0x3f0443(0xd2b)]===_0x47d647&&_0x47d647>0x0),_0x566249=_0x53fcbf['length']>0x0?Math[_0x3f0443(0x513)](..._0x53fcbf[_0x3f0443(0x561)](_0x53d322=>_0x53d322[_0x3f0443(0x695)])):-Infinity,_0x248227=_0x1af534[_0x3f0443(0x561)]((_0x90f4c,_0x25341f)=>{const _0x4de13b=_0x3f0443,_0x2a164c=_0x90f4c[_0x4de13b(0xb2d)],_0x18e5ec=_0x90f4c[_0x4de13b(0x695)],_0x43d0a0=_0x90f4c[_0x4de13b(0x67e)][_0x4de13b(0xd2b)],_0x307c78=(_0x90f4c['answers']||[])[_0x4de13b(0x7f4)](_0x2bcdfa=>_0x2bcdfa[_0x4de13b(0x824)]===_0x112b34);let _0x3a1991='';_0x307c78&&(_0x307c78[_0x4de13b(0x73a)]&&(_0x3a1991+='<span\x20title=\x22ใช้ส่องสถิติในตานี้\x22>📊</span>'),_0x307c78[_0x4de13b(0x9f6)]&&(_0x3a1991+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>'),_0x307c78[_0x4de13b(0x491)]&&(_0x3a1991+='<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>'));let _0x5cac13='';const _0x3b1b7c=_0x90f4c[_0x4de13b(0x67e)][_0x4de13b(0xd2b)],_0x512929=_0x90f4c[_0x4de13b(0xb2d)]===_0x47d647&&_0x3b1b7c===_0x47d647&&_0x47d647>0x0;if(_0x51531a){const _0x133730=_0x512929&&_0x90f4c[_0x4de13b(0x695)]===_0x566249;if(_0x133730)_0x5cac13='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x512929&&(_0x5cac13=_0x4de13b(0xe06));}else{if(_0x3b1b7c===_0x47d647&&_0x47d647>0x0){let _0x24b9f1=_0x47d647;_0x4732cb[_0x4de13b(0xc67)]&&(_0x24b9f1=_0x47d647*0x2);const _0x1e61e7=_0x90f4c['totalPoints']===_0x24b9f1;if(_0x1e61e7)_0x5cac13=_0x4de13b(0xce5);else _0x512929&&(_0x5cac13='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>');}}if(_0x5cac13===''){if(_0x18e5ec<0x0)_0x5cac13='<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>';else _0x2a164c===0x0&&_0x3b1b7c>0x0&&(_0x5cac13=_0x4de13b(0xc06));}let _0x1545bd=_0x4de13b(0xbd0);const _0x4dce14=(_0x90f4c[_0x4de13b(0x67e)]||[])[_0x4de13b(0x7f4)](_0x3355f8=>_0x3355f8[_0x4de13b(0x824)]===_0x7c1cae);if(_0x4dce14){const _0x5e5252=_0x4dce14[_0x4de13b(0x88b)],_0x326667=_0x4dce14[_0x4de13b(0x630)]===!![]||_0x4dce14[_0x4de13b(0x630)]===_0x4de13b(0x82f),_0x4aa30e=_0x4dce14[_0x4de13b(0x6ef)];if(_0x4aa30e===_0x4de13b(0xc14))_0x1545bd=_0x5e5252?_0x4de13b(0xa77):_0x4de13b(0xb5b);else{if(_0x326667)_0x1545bd=_0x5e5252?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x4de13b(0x2c9);else _0x5e5252&&(_0x1545bd=_0x4de13b(0x63c));}}let _0x406859='';const _0x41e075=_0x90f4c[_0x4de13b(0xc71)],_0x470200=_0x4732cb['playerNicknames'][_0x90f4c[_0x4de13b(0xc71)]]||_0x4de13b(0x987),_0x5baa13=_0x4de13b(0xb16),_0x128808=_0x4de13b(0xb8b),_0x4d9600=localTeamPlayers[_0x4de13b(0x842)](_0x41e075),_0x5ab99f=_0xaec070['totalPoints'],_0xf48667=_0x90f4c['totalPoints'];_0x1ae757?_0x406859=_0x4de13b(0x92a)+_0x5baa13+'\x22\x20title=\x22'+_0x41e075+'\x20('+_0x470200+_0x4de13b(0x388)+_0x128808+'\x22>'+_0x41e075+_0x4de13b(0xd45)+_0x3a1991+'\x20'+_0x5cac13+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x128808+_0x4de13b(0x324)+_0x470200+_0x4de13b(0x2cc):_0x4d9600?_0x1ffae9?_0x406859=_0x4de13b(0x92a)+_0x5baa13+_0x4de13b(0x8d1)+_0x41e075+'\x20('+_0x470200+')\x22><span\x20style=\x22'+_0x128808+'\x22>'+_0x41e075+'</span>\x20'+_0x3a1991+'\x20'+_0x5cac13+_0x4de13b(0x7d4)+_0x128808+_0x4de13b(0x324)+_0x470200+_0x4de13b(0x2cc):_0x406859=_0x4de13b(0x92a)+_0x5baa13+_0x4de13b(0x8d1)+_0x470200+_0x4de13b(0x920)+_0x128808+'\x22>'+_0x470200+_0x4de13b(0xd45)+_0x3a1991+'\x20'+_0x5cac13+_0x4de13b(0x634):_0x5ab99f>_0xf48667?_0x406859=_0x4de13b(0x92a)+_0x5baa13+'\x22\x20title=\x22'+_0x41e075+'\x20('+_0x470200+_0x4de13b(0x388)+_0x128808+'\x22>'+_0x41e075+_0x4de13b(0xd45)+_0x3a1991+'\x20'+_0x5cac13+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x128808+_0x4de13b(0x324)+_0x470200+_0x4de13b(0x2cc):_0x406859='<div\x20style=\x22'+_0x5baa13+'\x22\x20title=\x22'+_0x470200+_0x4de13b(0x920)+_0x128808+'\x22>'+_0x470200+_0x4de13b(0xd45)+_0x3a1991+'\x20'+_0x5cac13+_0x4de13b(0x634);const _0x1a1af2=_0x18e5ec>=0x0?'(+'+_0x18e5ec+')':'('+_0x18e5ec+')',_0x423f4f=_0x4de13b(0x923)+_0x90f4c[_0x4de13b(0xb2d)]+_0x4de13b(0x4de)+_0x1a1af2+_0x4de13b(0x487);return _0x4de13b(0x25c)+_0x1545bd+_0x4de13b(0x90c)+(_0x25341f+0x1)+_0x4de13b(0xb94)+_0x406859+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x423f4f+_0x4de13b(0x9df);})[_0x3f0443(0xe0b)]('');let _0x8f9b78='';const _0x56866c=_0x59fb6a===_0x3f0443(0x96b)?_0x4732cb[_0x3f0443(0xd4d)]>=_0x426950[_0x3f0443(0xd2b)]-0x1:_0x4732cb['currentQuestionIndex']>=_0x426950['length']-0x1;_0x56866c?_0x8f9b78=_0x3f0443(0x21f):_0x8f9b78=_0x3f0443(0x664);const _0x259a91=_0x3f0443(0x3d9)+_0x248227+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8f9b78+_0x3f0443(0x5fa);liveGameView['innerHTML']=_0x259a91;}function renderStudentCompetitionResultsView(_0x5a7f57,_0x5698bb){const _0x2b1210=_0x3abb87,_0x1b9f6f=Object[_0x2b1210(0xa10)](_0x5a7f57[_0x2b1210(0xc17)]||{}),_0x5b10c2=_0x5698bb,_0x1b8503=_0x5a7f57[_0x2b1210(0xdb6)]||'classic',_0x3414fe=_0x5a7f57[_0x2b1210(0xbd7)][_0x2b1210(0x806)],_0x24b8cf=_0x1b9f6f['map'](_0x46d925=>{const _0x3a9bb4=_0x2b1210,_0x14e4cb=_0x46d925[_0x3a9bb4(0xb3d)]||0x0,_0x58dc74=_0x46d925['totalPoints']||0x0,_0x57a847=(_0x46d925['answers']||[])['filter'](_0x39f863=>_0x1b8503===_0x3a9bb4(0x96b)?_0x39f863['questionIndex']<=_0x5b10c2:!![]);return{..._0x46d925,'realScore':_0x14e4cb,'totalPoints':_0x58dc74,'answers':_0x57a847};}),_0x523540=[..._0x24b8cf][_0x2b1210(0xb00)]((_0x4ab754,_0x29cbcc)=>_0x29cbcc[_0x2b1210(0x695)]-_0x4ab754['totalPoints']),_0x5e12c6=_0x523540[_0x2b1210(0x561)]((_0x127ff0,_0x163baa)=>{const _0x1d16cd=_0x2b1210,_0x1bda93='';let _0x4ed1b5=_0x1d16cd(0xbd0);const _0x124286=_0x127ff0[_0x1d16cd(0xc71)],_0x5d6a0d='line-height:\x201.3;\x20min-width:\x200;',_0x3793fd=_0x1d16cd(0xb8b),_0xe0ba8f='<div\x20style=\x22'+_0x5d6a0d+_0x1d16cd(0x8d1)+_0x124286+_0x1d16cd(0x920)+_0x3793fd+'\x22>'+_0x124286+_0x1d16cd(0x487)+_0x1bda93+_0x1d16cd(0x634),_0x432500='';return _0x1d16cd(0x25c)+_0x4ed1b5+_0x1d16cd(0x90c)+(_0x163baa+0x1)+_0x1d16cd(0xb94)+_0xe0ba8f+_0x1d16cd(0x338)+_0x432500+_0x1d16cd(0x9df);})[_0x2b1210(0xe0b)]('');let _0x45f0ef='';const _0x203c23=_0x1b8503===_0x2b1210(0x96b)?_0x5a7f57['reviewQuestionIndex']>=_0x3414fe[_0x2b1210(0xd2b)]-0x1:_0x5a7f57[_0x2b1210(0x36f)]>=_0x3414fe[_0x2b1210(0xd2b)]-0x1;_0x203c23?_0x45f0ef='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x45f0ef=_0x2b1210(0x664);const _0x34664f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e12c6+_0x2b1210(0xa4c)+_0x45f0ef+_0x2b1210(0x5fa);liveGameView['innerHTML']=_0x34664f;}function renderStudentSyncQuestionView(_0x1db9d6){const _0x2fb314=_0x3abb87,_0x3ce2a1=localTeamPlayers['find'](_0x14d3b0=>_0x1db9d6[_0x2fb314(0xc17)][_0x14d3b0]&&_0x1db9d6[_0x2fb314(0xc17)][_0x14d3b0]['answered']===![]);if(!_0x3ce2a1){console['log'](_0x2fb314(0xe79));return;}const _0x339b41=_0x1db9d6[_0x2fb314(0xc17)][_0x3ce2a1],_0x205bb2=_0x339b41[_0x2fb314(0x695)]||0x0,_0x1ff707=_0x339b41[_0x2fb314(0xa90)]||{},_0x291c66=_0x1db9d6[_0x2fb314(0x36f)],_0x5a157c=_0x1db9d6['shuffledQuiz'][_0x2fb314(0x806)][_0x2fb314(0xd2b)],_0xbd84a7=_0x1db9d6[_0x2fb314(0xbd7)][_0x2fb314(0x806)][_0x291c66],_0x395fdb=_0xbd84a7['questionType']||_0x1db9d6[_0x2fb314(0xbd7)][_0x2fb314(0x273)];let _0x2c751d='',_0xbd8011=![];const _0xc607e5=_0x2fb314(0x7c0)+_0x291c66+'_p'+_0x3ce2a1,_0xba88f6=JSON['parse'](sessionStorage[_0x2fb314(0x248)](_0xc607e5)||'[]')[_0x2fb314(0x561)](String);switch(_0x395fdb){case _0x2fb314(0x718):const _0x19915e=_0xba88f6['includes']('0')?'':_0x2fb314(0x435),_0x466fac=_0xba88f6[_0x2fb314(0x842)]('1')?'':_0x2fb314(0x6a5);_0x2c751d=_0x19915e+_0x466fac;break;case'short_answer':case _0x2fb314(0x203):_0xbd8011=!![],_0x2c751d=_0x2fb314(0x880);break;case _0x2fb314(0x79a):_0xbd8011=!![],_0x2c751d=_0x2fb314(0xcf8)+(_0xbd84a7[_0x2fb314(0x798)]||[])[_0x2fb314(0x561)](_0x5128fc=>_0x2fb314(0x957)+_0x5128fc+'\x22>'+_0x5128fc+_0x2fb314(0xaa5))[_0x2fb314(0xe0b)]('')+_0x2fb314(0xaf6);break;case _0x2fb314(0x431):default:_0x2c751d=(_0xbd84a7[_0x2fb314(0x254)]||[])[_0x2fb314(0x561)]((_0x51c20e,_0x5e7c60)=>{const _0x2498a7=_0x2fb314;if(_0xba88f6[_0x2498a7(0x842)](_0x5e7c60['toString']()))return'';return'<button\x20data-value=\x22'+_0x5e7c60+_0x2498a7(0x78c)+_0x51c20e+_0x2498a7(0x2da);})[_0x2fb314(0xe0b)]('');break;}let _0x803fb4='';_0x1db9d6[_0x2fb314(0x9ee)]===_0x2fb314(0x37c)&&(_0x803fb4=_0x2fb314(0x6a9)+_0x1db9d6['timerDuration']+_0x2fb314(0x70b));let _0x4fcfe4='';if(_0x1db9d6[_0x2fb314(0x724)]===!![]){const _0x14cdf0=[_0x1ff707['fiftyFifty']>0x0?_0x2fb314(0x938)+_0x1ff707['fiftyFifty']+_0x2fb314(0x9c0):'',_0x1ff707['cutOne']>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ตัด\x201\x20('+_0x1ff707['cutOne']+')</button>':'',_0x1ff707[_0x2fb314(0xb30)]>0x0?_0x2fb314(0x817)+_0x1ff707[_0x2fb314(0xb30)]+_0x2fb314(0x9c0):'',_0x1ff707[_0x2fb314(0x61a)]>0x0?_0x2fb314(0xc40)+_0x1ff707['insurance']+_0x2fb314(0x9c0):'',_0x1ff707[_0x2fb314(0xc14)]>0x0?_0x2fb314(0xbdf)+_0x1ff707['wagerMultiplier']+_0x2fb314(0x9c0):'',_0x1ff707['forceConfident']>0x0?_0x2fb314(0xa2c)+_0x1ff707['forceConfident']+')</button>':'',_0x1ff707[_0x2fb314(0x3aa)]>0x0?_0x2fb314(0x869)+_0x1ff707[_0x2fb314(0x3aa)]+_0x2fb314(0x9c0):'',_0x1ff707[_0x2fb314(0xddc)]>0x0?_0x2fb314(0x2c4)+_0x1ff707[_0x2fb314(0xddc)]+_0x2fb314(0x9c0):'',_0x1ff707[_0x2fb314(0x57a)]>0x0?_0x2fb314(0x416)+_0x1ff707[_0x2fb314(0x57a)]+')</button>':''][_0x2fb314(0x27c)](Boolean)['join']('\x20');_0x4fcfe4=_0x2fb314(0xcbc)+_0x205bb2+_0x2fb314(0xc1a)+(_0x14cdf0||'<span\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีตัวช่วย</span>')+_0x2fb314(0x939);}const _0x18236c=sessionStorage['getItem'](_0x2fb314(0x2b1));let _0x403a86='';if(_0x18236c===_0x2fb314(0x61a))_0x403a86=_0x2fb314(0xca2);else{if(_0x18236c===_0x2fb314(0xc14))_0x403a86=_0x2fb314(0xd9c);else _0x18236c===_0x2fb314(0xddc)&&(_0x403a86=_0x2fb314(0x7ba));}liveGameView[_0x2fb314(0xd15)]=_0x2fb314(0x7af)+(_0x291c66+0x1)+'\x20/\x20'+_0x5a157c+_0x2fb314(0x8d3)+_0x3ce2a1+_0x2fb314(0x1dd)+_0x803fb4+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fcfe4+_0x2fb314(0xd6b)+_0x403a86+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0xbd84a7[_0x2fb314(0xbdb)]||_0xbd84a7['stem'])+_0x2fb314(0x53a)+_0x2c751d+_0x2fb314(0xc10);if(window[_0x2fb314(0xc12)])MathJax[_0x2fb314(0x98a)]();function _0x199ba9(_0x553a20,_0x457f61,_0xffce75,_0x24183e){const _0xb334aa=_0x2fb314,_0x281107=_0xffce75['isConfidenceScoringEnabled']===!![],_0x279b42=_0xffce75[_0xb334aa(0x36f)],_0x21880e=_0xb334aa(0x76c)+_0x279b42+'_p'+_0x24183e,_0x30bbb1=sessionStorage[_0xb334aa(0x248)](_0x21880e),_0x177612=_0x30bbb1===_0xb334aa(0xc14),_0x151c4c=_0xffce75[_0xb334aa(0xc17)][_0x24183e];if(_0x177612){const _0x32bc28=document[_0xb334aa(0x753)](_0xb334aa(0x46f)),_0x1946cc=document[_0xb334aa(0x753)](_0xb334aa(0xdab)),_0x4e0d41=document[_0xb334aa(0x753)]('wager-amount-display'),_0x5d330d=document[_0xb334aa(0x753)]('wager-max-points'),_0x1c4898=_0x151c4c[_0xb334aa(0x695)]||0x0;_0x1946cc[_0xb334aa(0x513)]=_0x1c4898,_0x1946cc[_0xb334aa(0x8a6)]=0x0,_0x4e0d41['textContent']=0x0,_0x5d330d[_0xb334aa(0xbde)]=_0x1c4898,_0x1946cc['oninput']=()=>{const _0x331767=_0xb334aa;_0x4e0d41[_0x331767(0xbde)]=_0x1946cc[_0x331767(0x8a6)];};const _0x1f1a91=document[_0xb334aa(0x753)](_0xb334aa(0x715));_0x1f1a91['dataset']['answerValue']=_0x553a20,_0x1f1a91['dataset']['question']=JSON['stringify'](_0x457f61),_0x1f1a91[_0xb334aa(0x970)][_0xb334aa(0x3e4)]=JSON['stringify'](_0xffce75),_0x1f1a91[_0xb334aa(0x970)][_0xb334aa(0x943)]=_0x24183e,_0x32bc28[_0xb334aa(0x33a)][_0xb334aa(0x23a)](_0xb334aa(0x986));}else{if(_0x281107){document[_0xb334aa(0x753)](_0xb334aa(0x645))[_0xb334aa(0x970)][_0xb334aa(0x24b)]=_0xb334aa(0xe7b);const _0x2145c6=document['getElementById'](_0xb334aa(0x77b));_0x2145c6[_0xb334aa(0x970)]['answerValue']=_0x553a20,_0x2145c6[_0xb334aa(0x970)][_0xb334aa(0x231)]=JSON[_0xb334aa(0x6e6)](_0x457f61),_0x2145c6[_0xb334aa(0x970)][_0xb334aa(0x3e4)]=JSON['stringify'](_0xffce75),_0x2145c6[_0xb334aa(0x970)][_0xb334aa(0x943)]=_0x24183e,document['getElementById'](_0xb334aa(0x645))[_0xb334aa(0x33a)]['remove']('hidden');}else handleSyncAnswerSubmit(_0x553a20,_0x457f61,_0xffce75,_0x24183e,![],0x0);}}_0xbd8011?document[_0x2fb314(0x753)](_0x2fb314(0x6b4))[_0x2fb314(0xdd0)](_0x2fb314(0xaa0),()=>{const _0x25e12d=_0x2fb314,_0x3060f8=document[_0x25e12d(0x753)](_0x25e12d(0x414))||document[_0x25e12d(0x753)](_0x25e12d(0x451));if(_0x3060f8[_0x25e12d(0x8a6)][_0x25e12d(0xda7)]()===''){showMessage(_0x25e12d(0x4ab));return;}_0x199ba9(_0x3060f8[_0x25e12d(0x8a6)],_0xbd84a7,_0x1db9d6,_0x3ce2a1);}):document[_0x2fb314(0x628)]('.live-answer-btn')[_0x2fb314(0x91b)](_0x12b3de=>{const _0x46c560=_0x2fb314;_0x12b3de[_0x46c560(0xdd0)](_0x46c560(0xaa0),()=>{const _0x5bd9ad=_0x46c560;_0x199ba9(_0x12b3de[_0x5bd9ad(0x970)][_0x5bd9ad(0x8a6)],_0xbd84a7,_0x1db9d6,_0x3ce2a1);});});if(_0x1db9d6['isBlackMarketEnabled']===!![]){const _0x16901d=document[_0x2fb314(0x753)](_0x2fb314(0xb7e));_0x16901d&&_0x16901d[_0x2fb314(0xdd0)](_0x2fb314(0xaa0),()=>{const _0x9dd160=_0x2fb314,_0x1609fe=_0x1db9d6[_0x9dd160(0x36f)],_0x380047=_0x3ce2a1,_0x10b4b0='freeMarketEntryUsed_q'+_0x1609fe+'_p'+_0x380047,_0x56ba3b=sessionStorage['getItem'](_0x10b4b0)===_0x9dd160(0x243);if(!_0x56ba3b)console[_0x9dd160(0x4e6)](_0x9dd160(0x4d5)+_0x1609fe+'):\x20ฟรี'),openBlackMarket(_0x1db9d6,_0x339b41),sessionStorage['setItem'](_0x10b4b0,_0x9dd160(0x243));else{console[_0x9dd160(0x4e6)](_0x9dd160(0xe4a)+_0x1609fe+_0x9dd160(0xc2d));if(_0x339b41[_0x9dd160(0x695)]<0x1){showMessage(_0x9dd160(0xcb0));return;}showConfirmation(_0x9dd160(0xa02),()=>{handlePayForMarketEntry(_0x3ce2a1,_0x1db9d6,_0x339b41);});}}),document[_0x2fb314(0x753)](_0x2fb314(0x445))?.[_0x2fb314(0xdd0)](_0x2fb314(0xaa0),_0x4a6736=>{const _0x577227=_0x2fb314,_0x57b446=_0x4a6736['target'];_0x57b446[_0x577227(0x5ad)]=!![],showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการใช้\x20\x27สถิติ\x27?\x20(หากใช้แล้วตอบผิด\x20บทลงโทษจะรุนแรงขึ้น)',()=>{const _0x57804b=_0x577227;handleUsePowerup(_0x3ce2a1,_0x57804b(0xb30),_0xbd84a7,_0x1db9d6,_0x339b41);},()=>{const _0x4da6af=_0x577227;_0x57b446[_0x4da6af(0x5ad)]=![];});}),document['getElementById']('use-powerup-buyTime')?.[_0x2fb314(0xdd0)](_0x2fb314(0xaa0),_0x1f63e0=>{const _0x540616=_0x2fb314;_0x1f63e0[_0x540616(0x589)][_0x540616(0x5ad)]=!![],handleUsePowerup(_0x3ce2a1,'buyTime',_0xbd84a7,_0x1db9d6,_0x339b41);}),document[_0x2fb314(0x753)]('use-powerup-jinx')?.[_0x2fb314(0xdd0)](_0x2fb314(0xaa0),_0x3f08ee=>{const _0x572883=_0x2fb314;_0x3f08ee['target'][_0x572883(0x5ad)]=!![],handleUsePowerup(_0x3ce2a1,_0x572883(0x3aa),_0xbd84a7,_0x1db9d6,_0x339b41);}),document[_0x2fb314(0x753)](_0x2fb314(0x3cd))?.[_0x2fb314(0xdd0)]('click',_0x24d36f=>{const _0x51f8e6=_0x2fb314;_0x24d36f[_0x51f8e6(0x589)]['disabled']=!![],handleUsePowerup(_0x3ce2a1,_0x51f8e6(0xc8b),_0xbd84a7,_0x1db9d6,_0x339b41);}),document[_0x2fb314(0x753)](_0x2fb314(0x2e0))?.[_0x2fb314(0xdd0)](_0x2fb314(0xaa0),_0x1ec16e=>{const _0x44ee27=_0x2fb314;_0x1ec16e[_0x44ee27(0x589)][_0x44ee27(0x5ad)]=!![],handleUsePowerup(_0x3ce2a1,_0x44ee27(0x61a),_0xbd84a7,_0x1db9d6,_0x339b41);}),document['getElementById'](_0x2fb314(0x427))?.[_0x2fb314(0xdd0)](_0x2fb314(0xaa0),_0x5242d8=>{const _0x2a3ca=_0x2fb314;_0x5242d8['target'][_0x2a3ca(0x5ad)]=!![],handleUsePowerup(_0x3ce2a1,'wagerMultiplier',_0xbd84a7,_0x1db9d6,_0x339b41);}),document[_0x2fb314(0x753)]('use-powerup-forceConfident')?.['addEventListener'](_0x2fb314(0xaa0),_0x451573=>{const _0x2345f4=_0x2fb314;_0x451573[_0x2345f4(0x589)]['disabled']=!![],handleUsePowerup(_0x3ce2a1,_0x2345f4(0x4f2),_0xbd84a7,_0x1db9d6,_0x339b41);}),document[_0x2fb314(0x753)](_0x2fb314(0x459))?.[_0x2fb314(0xdd0)]('click',_0x143f27=>{const _0x589a70=_0x2fb314;_0x143f27[_0x589a70(0x589)][_0x589a70(0x5ad)]=!![],handleUsePowerup(_0x3ce2a1,_0x589a70(0x369),_0xbd84a7,_0x1db9d6,_0x339b41);}),document['getElementById'](_0x2fb314(0xc5e))?.['addEventListener']('click',_0x574d63=>{const _0x4a6ceb=_0x2fb314;_0x574d63[_0x4a6ceb(0x589)][_0x4a6ceb(0x5ad)]=!![],handleUsePowerup(_0x3ce2a1,_0x4a6ceb(0xddc),_0xbd84a7,_0x1db9d6,_0x339b41);});}}async function handleSyncAnswerSubmit(_0xf5fa6b,_0x302b65,_0x33a290,_0x737d7b,_0x58a75c,_0x3efd61=0x0){const _0x687e01=_0x3abb87;document['querySelectorAll'](_0x687e01(0x4a4))[_0x687e01(0x91b)](_0xe62b65=>_0xe62b65[_0x687e01(0x5ad)]=!![]);const _0x518833=_0x33a290['currentQuestionIndex'],_0x210907=_0x687e01(0x76c)+_0x518833+'_p'+_0x737d7b,_0x3dd1e7=sessionStorage[_0x687e01(0x248)](_0x210907),_0x3f3953=_0x33a290[_0x687e01(0xc17)][_0x737d7b]?.['isForcedConfident']===!![],_0xabca5b=sessionStorage['getItem']('onSecondChance')==='true',_0x423a45=_0x302b65[_0x687e01(0x302)]||_0x33a290['shuffledQuiz'][_0x687e01(0x273)];let _0x5358b3=![],_0x95cfe6=_0xf5fa6b;switch(_0x423a45){case _0x687e01(0x718):const _0x2b9422=parseInt(_0xf5fa6b),_0x4eadd9=_0x302b65[_0x687e01(0x509)]===!![]||String(_0x302b65[_0x687e01(0x509)])[_0x687e01(0x6d9)]()===_0x687e01(0x243);_0x5358b3=_0x2b9422===0x0&&_0x4eadd9||_0x2b9422===0x1&&!_0x4eadd9,_0x95cfe6=_0x2b9422===0x0?_0x687e01(0x991):'ไม่ใช่\x20/\x20ผิด';break;case _0x687e01(0xb85):case _0x687e01(0x203):_0x5358b3=await gradeShortAnswer(_0xf5fa6b,_0x302b65);break;case'matching_item':_0x5358b3=_0xf5fa6b===_0x302b65[_0x687e01(0x707)];break;case _0x687e01(0x431):default:const _0x5bb6ea=parseInt(_0xf5fa6b);_0x5358b3=_0x5bb6ea===_0x302b65['correctAnswerIndex'];_0x302b65['options']&&_0x302b65[_0x687e01(0x254)][_0x5bb6ea]&&(_0x95cfe6=_0x302b65['options'][_0x5bb6ea]);break;}if(!_0x5358b3&&_0x3dd1e7==='secondChance'&&!_0xabca5b){sessionStorage[_0x687e01(0x808)]('powerupUsedThisTurn'),sessionStorage[_0x687e01(0x27e)](_0x687e01(0x730),_0x687e01(0x243)),showMessage(_0x687e01(0x9b1)),document[_0x687e01(0x628)](_0x687e01(0x4a4))[_0x687e01(0x91b)](_0x39ebe1=>{const _0x144fa6=_0x687e01;!_0x39ebe1['classList'][_0x144fa6(0x415)]('hidden')&&(_0x39ebe1[_0x144fa6(0x5ad)]=![]);});return;}const _0x4813c5=doc(db,'artifacts/'+appId+_0x687e01(0x725),currentLiveGameId),_0x232afc={},_0x300f6e=_0x33a290[_0x687e01(0xc17)][_0x737d7b]?.['answers']||[];let _0xb43094=0x0;const _0xbd43b1=_0x3dd1e7==='wagerMultiplier',_0x2e3c4f=_0x3dd1e7===_0x687e01(0x61a),_0x555533=sessionStorage[_0x687e01(0x248)](_0x687e01(0x7c9))==='true',_0x58a150=_0x33a290[_0x687e01(0xc17)][_0x737d7b]?.[_0x687e01(0xadb)]===!![];if(_0x3f3953)_0xb43094=_0x5358b3?0x2:-0x1;else{if(_0xbd43b1){const _0x1faada=parseInt(_0x3efd61,0xa)||0x0;_0xb43094=_0x5358b3?_0x1faada*0x2:-_0x1faada;}else{if(_0x555533&&!_0x5358b3)_0x58a75c===!![]||_0x58a75c===_0x687e01(0x82f)?_0xb43094=-0x4:_0xb43094=-0x2;else{if(_0x33a290[_0x687e01(0xc67)]){if(_0x5358b3&&(_0x58a75c===!![]||_0x58a75c===_0x687e01(0x82f)))_0xb43094=0x2;else{if(_0x5358b3)_0xb43094=0x1;else{if(!_0x5358b3&&(_0x58a75c===![]||_0x58a75c===_0x687e01(0xb5c)||_0x58a75c===null))_0xb43094=0x0;else!_0x5358b3&&(_0x58a75c===!![]||_0x58a75c==='confident')&&(_0xb43094=-0x1);}}}else _0xb43094=_0x5358b3?0x1:0x0;}}}_0x58a150&&!_0x5358b3&&_0xb43094<0x0&&(_0xb43094*=0x2);!_0x5358b3&&_0x2e3c4f&&(_0xb43094=0x0);const _0x134159={'questionIndex':_0x33a290[_0x687e01(0x36f)],'questionId':_0x302b65['id'],'answer':_0xf5fa6b,'answerText':_0x95cfe6,'isCorrect':_0x5358b3,'originalQuestionText':_0x302b65[_0x687e01(0xbdb)]||_0x302b65[_0x687e01(0x9b7)],'wasConfident':_0x3f3953?_0x687e01(0x82f):_0x58a75c||![],'pointsAwarded':_0xb43094,'powerupUsed':_0x3dd1e7||null,'wasJinxed':_0x58a150||![],'wasForced':_0x3f3953||![],'usedPoll':_0x555533||![]},_0x20d9e5=_0x300f6e[_0x687e01(0x27c)](_0x35ff92=>_0x35ff92[_0x687e01(0x824)]!==_0x33a290[_0x687e01(0x36f)]),_0x4cf92e=[..._0x20d9e5,_0x134159],_0x132338=_0x4cf92e[_0x687e01(0x27c)](_0x30a965=>_0x30a965[_0x687e01(0x88b)])['length'];_0x232afc['players.'+_0x737d7b+'.answers']=_0x4cf92e,_0x232afc['players.'+_0x737d7b+_0x687e01(0x6f8)]=_0x132338,_0x232afc[_0x687e01(0x784)+_0x737d7b+'.totalPoints']=increment(_0xb43094),_0x232afc[_0x687e01(0x784)+_0x737d7b+'.answered']=!![];_0x3f3953&&(_0x232afc[_0x687e01(0x784)+_0x737d7b+_0x687e01(0xba1)]=![]);_0xabca5b&&sessionStorage[_0x687e01(0x808)](_0x687e01(0x730));let _0x225fb0=null;(_0x423a45===_0x687e01(0x431)||_0x423a45==='true_false'||_0x423a45===_0x687e01(0x990))&&(_0x225fb0=parseInt(_0xf5fa6b)),_0x232afc[_0x687e01(0x784)+_0x737d7b+'.lastAnswerIndex']=_0x225fb0,await updateDoc(_0x4813c5,_0x232afc);}const allMarketItems=[{'id':_0x3abb87(0x57a),'name':_0x3abb87(0x537),'price':0x1,'desc':_0x3abb87(0x3cf)},{'id':'poll','name':'📊\x20ส่องสถิติ','price':0x2,'desc':_0x3abb87(0xe32)},{'id':_0x3abb87(0xc8b),'name':_0x3abb87(0xe77),'price':0x2,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ'},{'id':_0x3abb87(0x61a),'name':_0x3abb87(0xe49),'price':0x3,'desc':_0x3abb87(0x9f2)},{'id':_0x3abb87(0x369),'name':_0x3abb87(0x470),'price':0x4,'desc':_0x3abb87(0xcb4)},{'id':_0x3abb87(0x4f2),'name':_0x3abb87(0x377),'price':0x4,'desc':_0x3abb87(0x321)},{'id':_0x3abb87(0xc14),'name':'💰\x20คูณเดิมพัน','price':0x5,'desc':_0x3abb87(0x779)},{'id':_0x3abb87(0x3aa),'name':_0x3abb87(0x6fb),'price':0x5,'desc':'เลือกผู้เล่น\x201\x20คน\x20หากผู้เล่นนั้นตอบผิดในข้อนี้\x20\x22บทลงโทษทั้งหมด\x22\x20จะ\x20x2\x20(ถ้าตอบถูกได้คะแนนปกติ)'},{'id':_0x3abb87(0xddc),'name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':_0x3abb87(0x70e)}];function openBlackMarket(_0x21e292,_0x49c5f9){const _0x51098c=_0x3abb87;let _0x3bbfef=null;const _0x26c034=document[_0x51098c(0x753)]('black-market-modal'),_0x305c3a=document[_0x51098c(0x753)]('market-item-list'),_0x312e85=document['getElementById'](_0x51098c(0x5f9)),_0x535da5=document[_0x51098c(0x753)](_0x51098c(0xc46)),_0x1bccf5=_0x49c5f9[_0x51098c(0x695)]||0x0;_0x312e85['textContent']=_0x1bccf5;const _0x4be155=allMarketItems;_0x305c3a['innerHTML']=_0x4be155[_0x51098c(0x561)](_0x21a06b=>{const _0x367b29=_0x51098c,_0x35286c=_0x1bccf5>=_0x21a06b['price'];if(_0x21a06b['id']==='buyTime'){const _0x3435cb=_0x35286c?Math[_0x367b29(0x886)](_0x1bccf5/_0x21a06b['price']):0x0,_0x285c60=_0x1bccf5>=_0x21a06b[_0x367b29(0x3b7)];return _0x367b29(0xc5c)+(!_0x285c60?_0x367b29(0x6c3):'bg-white')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x21a06b[_0x367b29(0xc71)]+_0x367b29(0x5dc)+_0x21a06b[_0x367b29(0xbd5)]+_0x367b29(0x89a)+_0x3435cb+'\x22\x20'+(!_0x285c60?_0x367b29(0x5ad):'')+_0x367b29(0xa8d)+(_0x285c60?'bg-indigo-600\x20hover:bg-indigo-700':'bg-gray-400')+_0x367b29(0x972)+_0x21a06b['id']+_0x367b29(0xaf7)+_0x21a06b[_0x367b29(0x3b7)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x285c60?_0x367b29(0x5ad):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20('+_0x21a06b[_0x367b29(0x3b7)]+_0x367b29(0xa1d);}else{const _0x2658ea=!_0x35286c?_0x367b29(0x5ad):'',_0x25e4bc=_0x35286c?'bg-indigo-600\x20hover:bg-indigo-700':_0x367b29(0xc8c);return _0x367b29(0xc5c)+(!_0x35286c?'bg-gray-100\x20opacity-70':_0x367b29(0x916))+_0x367b29(0x758)+_0x21a06b[_0x367b29(0xc71)]+_0x367b29(0x5dc)+_0x21a06b['desc']+_0x367b29(0x687)+_0x25e4bc+_0x367b29(0xa96)+_0x21a06b['id']+_0x367b29(0x58c)+_0x21a06b[_0x367b29(0x3b7)]+_0x367b29(0x1e1)+_0x2658ea+_0x367b29(0x4cd)+_0x21a06b[_0x367b29(0x3b7)]+_0x367b29(0xb86);}})[_0x51098c(0xe0b)](''),_0x26c034[_0x51098c(0x33a)][_0x51098c(0x23a)](_0x51098c(0x986)),_0x535da5[_0x51098c(0x41d)]['transition']=_0x51098c(0x961),_0x535da5[_0x51098c(0x41d)][_0x51098c(0xbb9)]=_0x51098c(0x958),setTimeout(()=>{const _0x1c7b88=_0x51098c;_0x535da5[_0x1c7b88(0x41d)][_0x1c7b88(0xc7b)]=_0x1c7b88(0x5fc),_0x535da5[_0x1c7b88(0x41d)]['width']='0%';},0x32),_0x3bbfef=setTimeout(()=>{const _0x4a2fdb=_0x51098c;_0x26c034['classList'][_0x4a2fdb(0xbaf)](_0x4a2fdb(0x986));},0xea60),document[_0x51098c(0x753)]('close-market-btn')[_0x51098c(0x26e)]=()=>{clearTimeout(_0x3bbfef),_0x26c034['classList']['add']('hidden');},_0x305c3a[_0x51098c(0x628)](_0x51098c(0xa5c))['forEach'](_0x40cf77=>{const _0x1dbb40=_0x51098c;_0x40cf77[_0x1dbb40(0x26e)]=_0x3afeb3=>{const _0x3b8e3d=_0x1dbb40,_0x4ab1bf=_0x3afeb3[_0x3b8e3d(0x589)][_0x3b8e3d(0x970)][_0x3b8e3d(0x39c)],_0xd1c6a9=parseInt(_0x3afeb3['target'][_0x3b8e3d(0x970)]['price'],0xa);clearTimeout(_0x3bbfef),_0x26c034[_0x3b8e3d(0x33a)]['add'](_0x3b8e3d(0x986)),handleBuyItem(_0x49c5f9[_0x3b8e3d(0xc71)],_0x4ab1bf,_0xd1c6a9,0x1);};}),_0x305c3a[_0x51098c(0x628)]('.buy-time-confirm-btn')[_0x51098c(0x91b)](_0x4bcea2=>{const _0x4be09a=_0x51098c;_0x4bcea2[_0x4be09a(0x26e)]=_0x549583=>{const _0x58a61e=_0x4be09a,_0x4f6bf6=_0x549583[_0x58a61e(0x589)]['dataset'][_0x58a61e(0x39c)],_0xc6ce35=parseInt(_0x549583[_0x58a61e(0x589)]['dataset'][_0x58a61e(0x3b7)],0xa),_0x26af0f=document[_0x58a61e(0x753)](_0x58a61e(0x896)),_0x27a2d2=parseInt(_0x26af0f[_0x58a61e(0x8a6)],0xa),_0x357a43=parseInt(_0x26af0f['max'],0xa);if(!_0x27a2d2||_0x27a2d2<0x1){showMessage(_0x58a61e(0x43b));return;}if(_0x27a2d2>_0x357a43){showMessage(_0x58a61e(0x543)+_0x357a43+_0x58a61e(0xe1e));return;}clearTimeout(_0x3bbfef),_0x26c034['classList']['add'](_0x58a61e(0x986)),handleBuyItem(_0x49c5f9[_0x58a61e(0xc71)],_0x4f6bf6,_0xc6ce35,_0x27a2d2);};});}async function handleBuyItem(_0x544b5f,_0x2c0581,_0x2e66d7,_0x50f10e=0x1){const _0x4f83ff=_0x3abb87,_0x1130d6=doc(db,_0x4f83ff(0x8da)+appId+_0x4f83ff(0x725),currentLiveGameId);try{await runTransaction(db,async _0x27f3f0=>{const _0x19a30f=_0x4f83ff,_0x59ba39=await _0x27f3f0['get'](_0x1130d6);if(!_0x59ba39[_0x19a30f(0xc9d)]())throw _0x19a30f(0xd8b);const _0x4aa516=_0x59ba39['data'](),_0x256d23=_0x4aa516['players'][_0x544b5f]?.[_0x19a30f(0x695)]||0x0,_0x1c94fe=_0x2e66d7*_0x50f10e;if(_0x256d23<_0x1c94fe)throw _0x19a30f(0x3dd);const _0x35c927={};_0x35c927[_0x19a30f(0x784)+_0x544b5f+_0x19a30f(0x593)]=increment(-_0x1c94fe),_0x35c927[_0x19a30f(0x784)+_0x544b5f+_0x19a30f(0x85c)+_0x2c0581]=increment(_0x50f10e),_0x27f3f0[_0x19a30f(0x6f2)](_0x1130d6,_0x35c927);}),showMessage(_0x4f83ff(0x25a)+_0x2c0581+_0x4f83ff(0xa0d)+_0x50f10e+'\x20สำเร็จ!');}catch(_0xa967f1){console[_0x4f83ff(0x28d)]('Transactionล้มเหลว:\x20',_0xa967f1),showMessage(typeof _0xa967f1===_0x4f83ff(0x96d)?_0xa967f1:'เกิดข้อผิดพลาดในการซื้อ');}}async function handlePayForMarketEntry(_0x187b34,_0x3e460a,_0x35760c){const _0x12ba22=_0x3abb87,_0x36844a=doc(db,_0x12ba22(0x8da)+appId+_0x12ba22(0x725),currentLiveGameId);try{await runTransaction(db,async _0x266c79=>{const _0x125065=_0x12ba22,_0x558e38=await _0x266c79[_0x125065(0x41c)](_0x36844a);if(!_0x558e38['exists']())throw _0x125065(0xd8b);const _0x543148=_0x558e38[_0x125065(0x3f4)](),_0x40864f=_0x543148[_0x125065(0xc17)][_0x187b34]?.['totalPoints']||0x0;if(_0x40864f<0x1)throw _0x125065(0xbdc);const _0x59dcaf={};_0x59dcaf[_0x125065(0x784)+_0x187b34+_0x125065(0x593)]=increment(-0x1),_0x266c79[_0x125065(0x6f2)](_0x36844a,_0x59dcaf);});const _0xa2d8d5={..._0x35760c,'totalPoints':(_0x35760c[_0x12ba22(0x695)]||0x0)-0x1};openBlackMarket(_0x3e460a,_0xa2d8d5);}catch(_0x9fa877){console[_0x12ba22(0x28d)](_0x12ba22(0xac4),_0x9fa877),showMessage(typeof _0x9fa877==='string'?_0x9fa877:_0x12ba22(0x1eb));}}initialize();
