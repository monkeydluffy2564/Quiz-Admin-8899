const _0x176601=_0x1728;(function(_0xbaf8c3,_0x16f364){const _0x46aae7=_0x1728,_0x502cf0=_0xbaf8c3();while(!![]){try{const _0x8c96e3=parseInt(_0x46aae7(0xa43))/0x1*(parseInt(_0x46aae7(0x2bb))/0x2)+-parseInt(_0x46aae7(0xade))/0x3+parseInt(_0x46aae7(0x78e))/0x4*(parseInt(_0x46aae7(0x24b))/0x5)+parseInt(_0x46aae7(0x97f))/0x6+-parseInt(_0x46aae7(0x401))/0x7*(parseInt(_0x46aae7(0x6ec))/0x8)+-parseInt(_0x46aae7(0x1bb))/0x9+-parseInt(_0x46aae7(0x741))/0xa*(-parseInt(_0x46aae7(0x5f5))/0xb);if(_0x8c96e3===_0x16f364)break;else _0x502cf0['push'](_0x502cf0['shift']());}catch(_0x475b2f){_0x502cf0['push'](_0x502cf0['shift']());}}}(_0x8f9e,0x1cb68));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x5d8b2f=_0x1728;if(_0x5d8b2f(0xb90)in navigator)try{wakeLock=await navigator[_0x5d8b2f(0xb90)][_0x5d8b2f(0x88a)](_0x5d8b2f(0xb7b)),console[_0x5d8b2f(0x469)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x5d8b2f(0xbb9)](_0x5d8b2f(0xbb2),()=>{const _0x4ee451=_0x5d8b2f;console['log'](_0x4ee451(0x9b7));});}catch(_0x27f9f3){console[_0x5d8b2f(0xa65)](_0x5d8b2f(0x8b5)+_0x27f9f3['name']+',\x20'+_0x27f9f3[_0x5d8b2f(0x193)]);}else console[_0x5d8b2f(0x7a8)](_0x5d8b2f(0x65b));},releaseWakeLock=async()=>{const _0x4a7aac=_0x1728;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x4a7aac(0x3ae)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x1e2d26=_0x1728;if(dimTimer)clearTimeout(dimTimer);document[_0x1e2d26(0x7ad)][_0x1e2d26(0x25c)][_0x1e2d26(0x167)](_0x1e2d26(0x845)),dimTimer=setTimeout(()=>{const _0x329b73=_0x1e2d26;document[_0x329b73(0x7ad)][_0x329b73(0x25c)][_0x329b73(0x8a5)](_0x329b73(0x845)),console[_0x329b73(0x469)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x1902dd=_0x1728;if(dimTimer)clearTimeout(dimTimer);document['body']['classList']['remove'](_0x1902dd(0x845)),window[_0x1902dd(0x4cc)](_0x1902dd(0xa3d),resetDimTimer),window[_0x1902dd(0x4cc)](_0x1902dd(0x72e),resetDimTimer),window[_0x1902dd(0x4cc)]('touchstart',resetDimTimer),window[_0x1902dd(0x4cc)](_0x1902dd(0x64f),resetDimTimer),console['log'](_0x1902dd(0x230));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x3bb064,_0x2144f0=![]){const _0xb8b6c7=_0x1728,_0x2c9ea4=allQuizzes[_0xb8b6c7(0x70b)](_0x2f0b2c=>_0x2f0b2c['id']===_0x3bb064)||allQuizzesGlobal['find'](_0x4ca349=>_0x4ca349['id']===_0x3bb064);if(!_0x2c9ea4){showMessage(_0xb8b6c7(0x521));return;}currentQuizData=getShuffledQuiz(_0x2c9ea4);const _0x960d80=Math[_0xb8b6c7(0xbdd)](0x3e8+Math[_0xb8b6c7(0x658)]()*0x2328)[_0xb8b6c7(0x5bc)]();try{const _0x307b04=await addDoc(collection(db,_0xb8b6c7(0x94a)+appId+_0xb8b6c7(0x1ea)),{'quizId':_0x2c9ea4['id'],'projectId':_0x2c9ea4[_0xb8b6c7(0x8ae)],'status':_0xb8b6c7(0x253),'pin':_0x960d80,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2144f0});currentTeamQuizId=_0x307b04['id'],showView(_0xb8b6c7(0x293)),renderAdminTeamQuizDashboard(_0x960d80,_0x2c9ea4[_0xb8b6c7(0x62b)]),listenForTeamQuizUpdates();}catch(_0x59d43d){console[_0xb8b6c7(0xa65)](_0xb8b6c7(0x431),_0x59d43d),showMessage(_0xb8b6c7(0x30b));}}function renderAdminTeamQuizDashboard(_0x2d07c7,_0x11afa1,_0x9af371=_0x176601(0x41a)){const _0x5ee87f=_0x176601,_0xe5ebce=_0x9af371===_0x5ee87f(0xac4)?'Group\x20Mode':_0x5ee87f(0x393);liveGameView[_0x5ee87f(0xab8)]=_0x5ee87f(0xa3b)+_0xe5ebce+':\x20'+_0x11afa1+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2d07c7+_0x5ee87f(0x171),document[_0x5ee87f(0x267)]('end-team-quiz-btn')[_0x5ee87f(0xbb9)](_0x5ee87f(0x292),async()=>{const _0x3c8625=_0x5ee87f;showConfirmation(_0x3c8625(0x991),async()=>{const _0x5eda8f=_0x3c8625;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x5eda8f(0x94a)+appId+_0x5eda8f(0x1ea),currentTeamQuizId)),showView(_0x5eda8f(0xbfb));});});}function listenForTeamQuizUpdates(){const _0x149ac1=_0x176601;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x5b5941=doc(db,_0x149ac1(0x94a)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x5b5941,_0x263270=>{const _0x24af85=_0x149ac1;if(!_0x263270[_0x24af85(0x4b5)]()){sessionStorage[_0x24af85(0x864)](_0x24af85(0x8a1));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x24af85(0x310))showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode===_0x24af85(0x310)?_0x24af85(0xbfb):_0x24af85(0x1de));return;}const _0x168f50=_0x263270[_0x24af85(0xa77)]();if(currentMode==='admin'){if(_0x168f50['mode']===_0x24af85(0xac4)&&_0x168f50['status']!=='podium'&&_0x168f50[_0x24af85(0x471)]!==_0x24af85(0x54a)){const _0x5bf27d=Object[_0x24af85(0x8f5)](_0x168f50[_0x24af85(0x7b0)]||{});if(_0x5bf27d[_0x24af85(0x2c7)]>0x0){const _0x3e8ea6=_0x5bf27d[_0x24af85(0xaaa)](_0x57b9a7=>_0x57b9a7[_0x24af85(0x2c0)]===!![]);_0x3e8ea6&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x168f50);}else{if(_0x168f50[_0x24af85(0x471)]===_0x24af85(0x261)||_0x168f50[_0x24af85(0x471)]===_0x24af85(0x54a)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x168f50[_0x24af85(0x2cf)]===_0x24af85(0xac4)){const _0x161bc9=_0x168f50[_0x24af85(0x7b0)][userId];(!_0x161bc9||!_0x161bc9[_0x24af85(0x2c0)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x200023){const _0x121ac8=_0x176601;console['log'](_0x121ac8(0x895));const _0x41da53=doc(db,_0x121ac8(0x94a)+appId+_0x121ac8(0x1ea),_0x200023);try{const _0x13b881=await getDoc(_0x41da53);if(_0x13b881[_0x121ac8(0x4b5)]()){const _0x5bf304=_0x13b881['data']();_0x5bf304[_0x121ac8(0x76c)]&&await saveGameResultsAsSubmissions(_0x5bf304);}await updateDoc(_0x41da53,{'status':'podium'});}catch(_0x45a09a){console[_0x121ac8(0xa65)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x45a09a);}}function updateAdminTeamDashboard(_0x58f34a){const _0x304cfe=_0x176601,_0x39a4fc=document[_0x304cfe(0x267)](_0x304cfe(0x358));if(!_0x39a4fc)return;const _0xc94b0b=_0x58f34a[_0x304cfe(0x2cf)]||'team',_0x435511=currentQuizData[_0x304cfe(0x9ce)][_0x304cfe(0x2c7)];if(_0xc94b0b==='group'){const _0x962ec3=Object[_0x304cfe(0x8f5)](_0x58f34a[_0x304cfe(0x7b0)]||{});if(_0x962ec3['length']===0x0){_0x39a4fc['innerHTML']=_0x304cfe(0xada);return;}const _0x208ce7=[..._0x962ec3][_0x304cfe(0x953)]((_0x467b0d,_0x85fe89)=>_0x85fe89['score']-_0x467b0d[_0x304cfe(0x34f)]),_0x3946db=_0x208ce7[_0x304cfe(0x697)]((_0x56ed19,_0x478a5f)=>{const _0x3bd515=_0x304cfe,_0x40730c=_0x56ed19['answers']?.[_0x3bd515(0x2c7)]||0x0;return _0x3bd515(0x808)+(_0x478a5f+0x1)+_0x3bd515(0x6cd)+_0x56ed19[_0x3bd515(0xa89)][_0x3bd515(0x706)](',\x20')+_0x3bd515(0xb67)+_0x40730c+'/'+_0x435511+_0x3bd515(0x4fe)+_0x56ed19['score']+_0x3bd515(0xae7);})[_0x304cfe(0x706)](''),_0x43a71d=currentQuizData['questions'][_0x304cfe(0x697)]((_0x5e14eb,_0x2121e3)=>{const _0x536c47=_0x304cfe;let _0x351ba5=0x0,_0xae33b5=0x0;_0x962ec3[_0x536c47(0x523)](_0x39c058=>{const _0x5c7045=_0x536c47,_0x1e7b3d=_0x39c058[_0x5c7045(0x9e2)]?.[_0x5c7045(0x70b)](_0x41b1e8=>_0x41b1e8['questionIndex']===_0x2121e3);if(_0x1e7b3d){_0xae33b5++;if(_0x1e7b3d[_0x5c7045(0x26e)])_0x351ba5++;}});const _0x36233a=_0xae33b5>0x0&&_0xae33b5===_0x962ec3[_0x536c47(0x2c7)],_0x51e437=_0x36233a?_0x536c47(0xbaa):_0x536c47(0x622),_0x4c09c1=_0x36233a?_0x536c47(0x7db):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x51e437+_0x536c47(0x989)+(_0x2121e3+0x1)+_0x536c47(0x949)+_0x4c09c1+_0x536c47(0x8c7)+_0x351ba5+'/'+_0x962ec3[_0x536c47(0x2c7)]+'\x20กลุ่ม</p></div>';})['join']('');_0x39a4fc['innerHTML']='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x3946db+_0x304cfe(0x4f0)+_0x43a71d+'</div></div></div>';return;}const _0x3809f2=_0x58f34a[_0x304cfe(0x655)]||{},_0x11feb6=Object[_0x304cfe(0x966)](_0x3809f2);if(_0x11feb6['length']===0x0){_0x39a4fc[_0x304cfe(0xab8)]=_0x304cfe(0xaae);return;}const _0x346847=_0x11feb6[_0x304cfe(0x697)](_0x5a4da0=>({'name':_0x5a4da0,'score':_0x3809f2[_0x5a4da0][_0x304cfe(0x34f)]||0x0}))[_0x304cfe(0x953)]((_0x365746,_0x2495ea)=>_0x2495ea[_0x304cfe(0x34f)]-_0x365746[_0x304cfe(0x34f)]),_0x417a4c=_0x346847[_0x304cfe(0x697)](_0x48a195=>{const _0x4c1375=_0x304cfe,_0x307105=_0x3809f2[_0x48a195[_0x4c1375(0x6be)]]?.[_0x4c1375(0x9e2)]?.[_0x4c1375(0x2c7)]||0x0,_0x14db1f=Math['ceil'](_0x435511/_0x11feb6[_0x4c1375(0x2c7)]);return _0x4c1375(0x6c0)+_0x48a195[_0x4c1375(0x6be)]+_0x4c1375(0x867)+_0x307105+'/'+_0x14db1f+_0x4c1375(0x2c4)+_0x48a195[_0x4c1375(0x34f)]+_0x4c1375(0x670);})['join'](''),_0x18c62b=_0x11feb6[_0x304cfe(0x46b)]((_0x368d32,_0x3cc57f)=>_0x368d32+(_0x3809f2[_0x3cc57f]['answers']?.[_0x304cfe(0x2c7)]||0x0),0x0),_0x923c78=currentQuizData[_0x304cfe(0x9ce)][_0x304cfe(0x697)]((_0x3f0348,_0x4cd4ee)=>{const _0x484f0e=_0x304cfe;let _0x58ae2c=null,_0x78893b=null;for(const _0x14a540 of _0x11feb6){const _0x2372f7=_0x3809f2[_0x14a540][_0x484f0e(0x9e2)]?.['find'](_0x19ee42=>_0x19ee42[_0x484f0e(0x3b1)]===_0x4cd4ee);if(_0x2372f7){_0x58ae2c=_0x2372f7,_0x78893b=_0x14a540;break;}}const _0x28ab57=!!_0x58ae2c,_0x289166=_0x28ab57&&_0x58ae2c[_0x484f0e(0x26e)],_0x324468=(Math[_0x484f0e(0xbdd)](_0x4cd4ee/_0x11feb6['length'])+0x1)*_0x11feb6[_0x484f0e(0x2c7)],_0x29accf=_0x18c62b>=_0x324468,_0x551b58=_0x29accf?_0x484f0e(0x8fb):_0x484f0e(0x622),_0x1ee5fa=_0x29accf?_0x484f0e(0x7db):'';let _0xf1f365='รอ...';return _0x28ab57&&(_0xf1f365=_0x78893b+_0x484f0e(0x713)+(_0x289166?_0x484f0e(0x6e1):'ผิด')),_0x484f0e(0x7b5)+_0x551b58+_0x484f0e(0x989)+(_0x4cd4ee+0x1)+_0x484f0e(0x949)+_0x1ee5fa+_0x484f0e(0x399)+_0xf1f365+'</p></div>';})[_0x304cfe(0x706)]('');_0x39a4fc[_0x304cfe(0xab8)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x417a4c+_0x304cfe(0x4cd)+_0x923c78+_0x304cfe(0x1ab);}async function handleJoinTeamQuiz(){const _0x1af272=_0x176601,_0x5e8ee5=prompt(_0x1af272(0x364));if(!_0x5e8ee5||_0x5e8ee5[_0x1af272(0xa5f)]()[_0x1af272(0x2c7)]!==0x4){showMessage(_0x1af272(0xb4d));return;}try{const _0x33ad57=collection(db,_0x1af272(0x94a)+appId+_0x1af272(0x1ea)),_0x1c1ecd=query(_0x33ad57,where(_0x1af272(0x6f8),'==',_0x5e8ee5[_0x1af272(0xa5f)]()),where(_0x1af272(0x471),'==',_0x1af272(0x253))),_0x42db81=await getDocs(_0x1c1ecd);if(_0x42db81[_0x1af272(0x6e6)]){showMessage(_0x1af272(0x29f));return;}const _0x2c761a=_0x42db81[_0x1af272(0xbff)][0x0];currentTeamQuizId=_0x2c761a['id'];const _0x5d8170=_0x2c761a['data'](),_0x1f65b1=doc(db,_0x1af272(0x94a)+appId+_0x1af272(0x32c),_0x5d8170[_0x1af272(0x8ae)]),_0x2a6541=doc(db,_0x1af272(0x94a)+appId+_0x1af272(0xb3f),_0x5d8170[_0x1af272(0x49a)]),[_0x39b730,_0x5f2bb8]=await Promise[_0x1af272(0x75d)]([getDoc(_0x1f65b1),getDoc(_0x2a6541)]);if(!_0x39b730[_0x1af272(0x4b5)]()||!_0x5f2bb8[_0x1af272(0x4b5)]())throw new Error(_0x1af272(0xbb0));currentQuizData=getShuffledQuiz({'id':_0x5f2bb8['id'],..._0x5f2bb8[_0x1af272(0xa77)]()});const _0x1c1669=_0x39b730[_0x1af272(0xa77)]();showTeamPlayerSelection(_0x1c1669[_0x1af272(0xbf9)],currentQuizData['topic']);}catch(_0x1b0f7d){console[_0x1af272(0xa65)](_0x1af272(0xa84),_0x1b0f7d),showMessage(_0x1af272(0x4f8)+_0x1b0f7d[_0x1af272(0x193)]);}}async function handleJoinGroupActivity(){const _0xc980a2=_0x176601,_0x42c6c1=prompt(_0xc980a2(0x56b));if(!_0x42c6c1||_0x42c6c1[_0xc980a2(0xa5f)]()[_0xc980a2(0x2c7)]!==0x4){showMessage(_0xc980a2(0x7c1));return;}const _0x2712e3=_0x42c6c1[_0xc980a2(0xa5f)]();showMessage(_0xc980a2(0x5c9));try{const _0x335024=collection(db,_0xc980a2(0x94a)+appId+_0xc980a2(0x1ea)),_0x4838dd=query(_0x335024,where(_0xc980a2(0x6f8),'==',_0x2712e3),where(_0xc980a2(0x471),'==',_0xc980a2(0x253))),_0x23bf5e=await getDocs(_0x4838dd);if(!_0x23bf5e['empty']){console[_0xc980a2(0x469)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x23bf5e['docs'][0x0]);return;}const _0x1420d8=collection(db,_0xc980a2(0x94a)+appId+_0xc980a2(0x5bd)),_0x4fe1f6=query(_0x1420d8,where('pin','==',_0x2712e3),where(_0xc980a2(0x471),'==',_0xc980a2(0x253))),_0x15609d=await getDocs(_0x4fe1f6);if(!_0x15609d[_0xc980a2(0x6e6)]){console[_0xc980a2(0x469)](_0xc980a2(0x27e)),await proceedWithSyncQuizJoin(_0x15609d[_0xc980a2(0xbff)][0x0]);return;}showMessage(_0xc980a2(0xa97));}catch(_0x597e3a){console[_0xc980a2(0xa65)]('Error\x20joining\x20activity:',_0x597e3a),showMessage(_0xc980a2(0x1e0)+_0x597e3a['message']);}}async function proceedWithTeamQuizJoin(_0xb54809){const _0x4ee6f8=_0x176601;currentTeamQuizId=_0xb54809['id'];const _0x564636=_0xb54809[_0x4ee6f8(0xa77)](),_0x2aa771=doc(db,_0x4ee6f8(0x94a)+appId+'/public/data/projects',_0x564636['projectId']),_0x64c984=doc(db,_0x4ee6f8(0x94a)+appId+_0x4ee6f8(0xb3f),_0x564636[_0x4ee6f8(0x49a)]),[_0x20e1a7,_0x54f976]=await Promise[_0x4ee6f8(0x75d)]([getDoc(_0x2aa771),getDoc(_0x64c984)]);if(!_0x20e1a7['exists']()||!_0x54f976[_0x4ee6f8(0x4b5)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x54f976['id'],..._0x54f976['data']()}),showTeamPlayerSelection(_0x20e1a7[_0x4ee6f8(0xa77)]()[_0x4ee6f8(0xbf9)],currentQuizData['topic'],_0x564636[_0x4ee6f8(0x2cf)]||_0x4ee6f8(0x41a)),messageModal[_0x4ee6f8(0x25c)]['add'](_0x4ee6f8(0xbc7));}async function proceedWithSyncQuizJoin(_0xf82a35){const _0x251fad=_0x176601;currentLiveGameId=_0xf82a35['id'];const _0xc8f0d=_0xf82a35[_0x251fad(0xa77)](),_0x5e998a=doc(db,_0x251fad(0x94a)+appId+_0x251fad(0xb3f),_0xc8f0d[_0x251fad(0x49a)]),_0x3e5fbe=await getDoc(_0x5e998a);if(!_0x3e5fbe[_0x251fad(0x4b5)]())throw new Error(_0x251fad(0x521));const _0x281935=_0x3e5fbe[_0x251fad(0xa77)](),_0x6ad3=doc(db,_0x251fad(0x94a)+appId+_0x251fad(0x32c),_0x281935['projectId']),_0x28f36e=await getDoc(_0x6ad3);if(!_0x28f36e[_0x251fad(0x4b5)]())throw new Error(_0x251fad(0xb40));currentQuizData=_0xc8f0d[_0x251fad(0x860)],showView(_0x251fad(0x8b4)),showTeamPlayerSelection(_0x28f36e[_0x251fad(0xa77)]()[_0x251fad(0xbf9)],_0x281935['topic'],_0x251fad(0x7fb)),document[_0x251fad(0x267)]('confirm-team-players-btn')[_0x251fad(0x476)]=confirmAndJoinSyncGame,messageModal[_0x251fad(0x25c)][_0x251fad(0x8a5)]('hidden');}function getCleanApplicationHTML(){const _0x32f5b0=_0x176601,_0x3a6ad9=document[_0x32f5b0(0x267)](_0x32f5b0(0xbc2));if(!_0x3a6ad9)return'';const _0x2f6355=_0x3a6ad9[_0x32f5b0(0x794)](!![]);return _0x2f6355[_0x32f5b0(0x6d4)](_0x32f5b0(0x9aa))[_0x32f5b0(0x523)](_0x329541=>{const _0x41f730=_0x32f5b0;_0x329541[_0x41f730(0x25c)][_0x41f730(0x167)](_0x41f730(0x5ca),_0x41f730(0x656)),_0x329541[_0x41f730(0x76a)]=![];}),_0x2f6355[_0x32f5b0(0xab8)];}function showTeamPlayerSelection(_0x177db8,_0x5c64d7,_0x42f25e=_0x176601(0x41a)){const _0x145b28=_0x176601;studentInitialView[_0x145b28(0x25c)][_0x145b28(0x8a5)](_0x145b28(0xbc7)),studentJoinGameView[_0x145b28(0x25c)]['add'](_0x145b28(0xbc7)),document[_0x145b28(0x267)](_0x145b28(0x74a))[_0x145b28(0x25c)][_0x145b28(0x167)]('hidden');let _0x5740fe=_0x145b28(0x393);if(_0x42f25e===_0x145b28(0xac4))_0x5740fe=_0x145b28(0x835);else _0x42f25e===_0x145b28(0x7fb)&&(_0x5740fe=_0x145b28(0x549));document[_0x145b28(0x267)](_0x145b28(0x5f6))[_0x145b28(0x4c2)]=_0x5740fe+':\x20'+_0x5c64d7;const _0x539e88=document[_0x145b28(0x267)](_0x145b28(0x2d6));if(!_0x177db8||_0x177db8[_0x145b28(0x2c7)]===0x0){_0x539e88[_0x145b28(0xab8)]=_0x145b28(0x60f),document[_0x145b28(0x267)](_0x145b28(0x21b))[_0x145b28(0x76a)]=!![];return;}_0x539e88[_0x145b28(0xab8)]=_0x177db8['map'](_0x504fb8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x504fb8+_0x145b28(0x983)+_0x504fb8+_0x145b28(0xba8))[_0x145b28(0x706)](''),document['getElementById'](_0x145b28(0x21b))[_0x145b28(0x76a)]=![];}async function confirmAndStartTeamQuiz(){const _0x3e3e70=_0x176601,_0x11239d=Array[_0x3e3e70(0x6d9)](document[_0x3e3e70(0x6d4)](_0x3e3e70(0xb07)))[_0x3e3e70(0x697)](_0x577bb7=>_0x577bb7['value']);if(_0x11239d[_0x3e3e70(0x2c7)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x11239d,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x297ad0=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x1ad0e0=await getDoc(_0x297ad0);if(!_0x1ad0e0[_0x3e3e70(0x4b5)]())throw new Error('ไม่พบข้อมูลเกม');const _0x585774=_0x1ad0e0[_0x3e3e70(0xa77)]();if(_0x585774['mode']===_0x3e3e70(0xac4)){const _0x35ea6c={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x297ad0,_0x35ea6c);}else{const _0x5d5a67=_0x585774[_0x3e3e70(0x655)]||{};localTeamPlayers[_0x3e3e70(0x523)](_0x513883=>{!_0x5d5a67[_0x513883]&&(_0x5d5a67[_0x513883]={'score':0x0,'answers':[]});}),await updateDoc(_0x297ad0,{'responses':_0x5d5a67});}document[_0x3e3e70(0x267)](_0x3e3e70(0x74a))[_0x3e3e70(0x25c)][_0x3e3e70(0x8a5)]('hidden'),renderTeamQuizQuestion();const _0x2f23b9={'gameId':currentTeamQuizId,'mode':_0x585774['mode']||_0x3e3e70(0x41a),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3e3e70(0x8d5)]('activeGameSession',JSON[_0x3e3e70(0xbe7)](_0x2f23b9)),listenForTeamQuizUpdates();}catch(_0x16e02d){console[_0x3e3e70(0xa65)](_0x3e3e70(0x636),_0x16e02d),showMessage(_0x3e3e70(0xa4c));}}async function renderTeamQuizQuestion(){const _0x99c6ee=_0x176601;if(localQuestionIndex>=currentQuizData[_0x99c6ee(0x9ce)]['length']){displayTeamQuizFinalResults();return;}const _0x9b87bc=currentQuizData[_0x99c6ee(0x9ce)][localQuestionIndex],_0x277a17=localTeamPlayers[localPlayerIndex],_0xbea2e0=_0x9b87bc[_0x99c6ee(0x9c3)]||currentQuizData[_0x99c6ee(0x84e)];let _0x2c3d2a=_0x9b87bc['stem']||_0x9b87bc[_0x99c6ee(0x911)],_0x392d4e='';switch(_0xbea2e0){case _0x99c6ee(0x3e7):case _0x99c6ee(0x53c):_0x392d4e=_0x9b87bc[_0x99c6ee(0x61a)][_0x99c6ee(0x697)]((_0x5e8702,_0x4465b5)=>_0x99c6ee(0x97b)+_0x4465b5+_0x99c6ee(0x820)+_0x4465b5+_0x99c6ee(0x7da)+_0x4465b5+'\x22>'+_0x5e8702+_0x99c6ee(0x647))[_0x99c6ee(0x706)]('');break;case'true_false':_0x392d4e=_0x99c6ee(0xbba);break;case _0x99c6ee(0x477):case _0x99c6ee(0x184):_0x392d4e=_0x99c6ee(0x38c);break;case _0x99c6ee(0x4ed):_0x392d4e=_0x99c6ee(0xb02)+_0x9b87bc[_0x99c6ee(0x773)][_0x99c6ee(0x697)](_0x2baac5=>'<option\x20value=\x22'+_0x2baac5+'\x22>'+_0x2baac5+'</option>')[_0x99c6ee(0x706)]('')+_0x99c6ee(0x22e);break;default:_0x392d4e='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x99c6ee(0xab8)]=_0x99c6ee(0x752)+(localQuestionIndex+0x1)+_0x99c6ee(0x995)+currentQuizData[_0x99c6ee(0x9ce)][_0x99c6ee(0x2c7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x277a17+_0x99c6ee(0x762)+(localQuestionIndex+0x1)+'.\x20'+_0x2c3d2a+_0x99c6ee(0x1a4)+(_0x9b87bc['imageCode']?_0x99c6ee(0x1c8)+_0x9b87bc['imageCode']+_0x99c6ee(0xba1):'')+_0x99c6ee(0x6d2)+_0x392d4e+_0x99c6ee(0x2a6),studentQuizArea[_0x99c6ee(0x25c)][_0x99c6ee(0x167)]('hidden');if(window['MathJax'])MathJax[_0x99c6ee(0x5bf)]([studentQuizArea]);document[_0x99c6ee(0x267)](_0x99c6ee(0x6e3))[_0x99c6ee(0xbb9)](_0x99c6ee(0x292),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x8ca9d0=_0x176601,_0x679148=currentQuizData[_0x8ca9d0(0x9ce)][localQuestionIndex],_0x41a035=_0x679148[_0x8ca9d0(0x9c3)]||currentQuizData[_0x8ca9d0(0x84e)];let _0x10f29e=null,_0x4041f0=![];if(_0x41a035==='short_answer'||_0x41a035===_0x8ca9d0(0x184)){const _0x2b299f=document[_0x8ca9d0(0x690)](_0x8ca9d0(0x9c4));if(!_0x2b299f||!_0x2b299f[_0x8ca9d0(0x832)][_0x8ca9d0(0xa5f)]()){showMessage(_0x8ca9d0(0x454));return;}_0x10f29e=_0x2b299f['value'][_0x8ca9d0(0xa5f)](),_0x4041f0=await gradeShortAnswer(_0x10f29e,_0x679148);}else{const _0x4be7b7=document[_0x8ca9d0(0x690)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x4be7b7||_0x4be7b7[_0x8ca9d0(0x832)]===''){showMessage(_0x8ca9d0(0xaea));return;}_0x10f29e=_0x4be7b7[_0x8ca9d0(0x832)];switch(_0x41a035){case _0x8ca9d0(0x9c7):_0x4041f0=_0x10f29e===_0x8ca9d0(0x268)===_0x679148[_0x8ca9d0(0xb9b)];break;case'matching_item':_0x4041f0=_0x10f29e===_0x679148[_0x8ca9d0(0x6a9)];break;default:_0x4041f0=parseInt(_0x10f29e)===_0x679148['correctAnswerIndex'];break;}}const _0x392274={'questionIndex':localQuestionIndex,'isCorrect':_0x4041f0},_0x27628a=userId,_0x32770c={[_0x8ca9d0(0x9d5)+_0x27628a+_0x8ca9d0(0xac1)]:arrayUnion(_0x392274)};_0x4041f0&&(_0x32770c[_0x8ca9d0(0x9d5)+_0x27628a+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x8ca9d0(0x94a)+appId+_0x8ca9d0(0x1ea),currentTeamQuizId),_0x32770c),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x8ca9d0(0x2c7)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x12f10b){console[_0x8ca9d0(0xa65)](_0x8ca9d0(0x489),_0x12f10b),showMessage(_0x8ca9d0(0x538));}}async function handleTeamAnswerSubmit(){const _0x5e0a4b=_0x176601,_0x1636f6=await getDoc(doc(db,_0x5e0a4b(0x94a)+appId+_0x5e0a4b(0x1ea),currentTeamQuizId));if(!_0x1636f6[_0x5e0a4b(0x4b5)]())return;const _0x29d32d=_0x1636f6['data']();if(_0x29d32d[_0x5e0a4b(0x2cf)]===_0x5e0a4b(0xac4)){handleGroupAnswerSubmit();return;}const _0x320e4e=localTeamPlayers[localPlayerIndex],_0x3aa2e2=currentQuizData[_0x5e0a4b(0x9ce)][localQuestionIndex],_0x4619c6=_0x3aa2e2[_0x5e0a4b(0x9c3)]||currentQuizData['quizType'];let _0x11fcc6=null,_0x380727=![];if(_0x4619c6===_0x5e0a4b(0x477)||_0x4619c6===_0x5e0a4b(0x184)){const _0x353a51=document['querySelector'](_0x5e0a4b(0x9c4));if(!_0x353a51||!_0x353a51[_0x5e0a4b(0x832)][_0x5e0a4b(0xa5f)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x11fcc6=_0x353a51['value']['trim'](),_0x380727=await gradeShortAnswer(_0x11fcc6,_0x3aa2e2);}else{const _0x5c764a=document[_0x5e0a4b(0x690)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x5c764a||_0x5c764a[_0x5e0a4b(0x832)]===''){showMessage(_0x5e0a4b(0x935));return;}_0x11fcc6=_0x5c764a['value'];switch(_0x4619c6){case _0x5e0a4b(0x9c7):_0x380727=_0x11fcc6===_0x5e0a4b(0x268)===_0x3aa2e2['correctAnswer'];break;case _0x5e0a4b(0x4ed):_0x380727=_0x11fcc6===_0x3aa2e2[_0x5e0a4b(0x6a9)];break;default:_0x380727=parseInt(_0x11fcc6)===_0x3aa2e2[_0x5e0a4b(0x1f1)];break;}}const _0x4d703a={'questionIndex':localQuestionIndex,'isCorrect':_0x380727,'answerValue':_0x11fcc6},_0x59b50={[_0x5e0a4b(0x5e1)+_0x320e4e+'.answers']:arrayUnion(_0x4d703a)};_0x380727&&(_0x59b50[_0x5e0a4b(0x5e1)+_0x320e4e+_0x5e0a4b(0xb4b)]=increment(0x1));try{await updateDoc(doc(db,_0x5e0a4b(0x94a)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x59b50),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5e0a4b(0x2c7)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x219046){console[_0x5e0a4b(0xa65)]('Error\x20submitting\x20team\x20answer:',_0x219046),showMessage(_0x5e0a4b(0x538));}}async function displayTeamQuizFinalResults(){const _0x4e3f38=_0x176601;studentQuizArea[_0x4e3f38(0x25c)][_0x4e3f38(0x8a5)]('hidden'),studentResultArea[_0x4e3f38(0x25c)]['remove'](_0x4e3f38(0xbc7));const _0x2dcbda=doc(db,_0x4e3f38(0x94a)+appId+_0x4e3f38(0x1ea),currentTeamQuizId),_0x385f9e=await getDoc(_0x2dcbda);if(!_0x385f9e[_0x4e3f38(0x4b5)]()){studentResultArea[_0x4e3f38(0xab8)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x52cd10=_0x385f9e[_0x4e3f38(0xa77)]();let _0x13b18d=[];const _0x4dd58c=_0x52cd10['mode']||_0x4e3f38(0x41a);if(_0x4dd58c===_0x4e3f38(0xac4)){const _0x57c990=_0x52cd10[_0x4e3f38(0x7b0)][userId];_0x57c990?_0x13b18d=[{'name':_0x4e3f38(0x4be)+localTeamPlayers[_0x4e3f38(0x706)](',\x20'),'score':_0x57c990[_0x4e3f38(0x34f)]||0x0}]:_0x13b18d=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0x13b18d=localTeamPlayers[_0x4e3f38(0x697)](_0x59c5d0=>({'name':_0x59c5d0,'score':_0x52cd10[_0x4e3f38(0x655)][_0x59c5d0]?.['score']||0x0}))[_0x4e3f38(0x953)]((_0x2316cf,_0x374666)=>_0x374666[_0x4e3f38(0x34f)]-_0x2316cf['score']);studentResultArea[_0x4e3f38(0xab8)]=_0x4e3f38(0x53a)+_0x13b18d[_0x4e3f38(0x697)](_0x3d7fdf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x3d7fdf['name']+_0x4e3f38(0x39c)+_0x3d7fdf[_0x4e3f38(0x34f)]+_0x4e3f38(0x3ac))[_0x4e3f38(0x706)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage['removeItem'](_0x4e3f38(0x8a1)),currentMode===_0x4e3f38(0x310)&&currentTeamQuizId&&setTimeout(()=>{const _0x16a863=_0x4e3f38;deleteDoc(doc(db,_0x16a863(0x94a)+appId+_0x16a863(0x1ea),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x176601(0x60a),'name':_0x176601(0x6a3)},{'category':_0x176601(0x60a),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x176601(0x60a),'name':_0x176601(0x6e8)},{'category':_0x176601(0x60a),'name':_0x176601(0x90d)},{'category':_0x176601(0x60a),'name':_0x176601(0xa0c)},{'category':'จำนวนและการดำเนินการ','name':_0x176601(0x433)},{'category':_0x176601(0x60a),'name':'การคูณ'},{'category':_0x176601(0x60a),'name':_0x176601(0x830)},{'category':_0x176601(0x60a),'name':'จำนวนเต็มบวก'},{'category':_0x176601(0x60a),'name':_0x176601(0x237)},{'category':'จำนวนและการดำเนินการ','name':_0x176601(0x37f)},{'category':_0x176601(0x60a),'name':'ค่าสัมบูรณ์'},{'category':_0x176601(0x60a),'name':'เส้นจำนวน'},{'category':'จำนวนและการดำเนินการ','name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x176601(0x60a),'name':_0x176601(0x8dc)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x176601(0x60a),'name':_0x176601(0x629)},{'category':_0x176601(0x60a),'name':_0x176601(0x231)},{'category':'จำนวนและการดำเนินการ','name':_0x176601(0x862)},{'category':_0x176601(0x60a),'name':_0x176601(0xa54)},{'category':_0x176601(0x60a),'name':_0x176601(0x3ba)},{'category':'จำนวนและการดำเนินการ','name':_0x176601(0x6a4)},{'category':_0x176601(0x60a),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x176601(0xbc0)},{'category':'จำนวนและการดำเนินการ','name':_0x176601(0x451)},{'category':_0x176601(0x60a),'name':_0x176601(0x8b3)},{'category':_0x176601(0x60a),'name':'การลบทศนิยม'},{'category':_0x176601(0x60a),'name':_0x176601(0x87a)},{'category':_0x176601(0x60a),'name':_0x176601(0x988)},{'category':_0x176601(0x60a),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x176601(0xc0b)},{'category':_0x176601(0x60a),'name':_0x176601(0x455)},{'category':_0x176601(0x60a),'name':_0x176601(0x7fa)},{'category':_0x176601(0x60a),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x176601(0x60a),'name':_0x176601(0xa19)},{'category':_0x176601(0x60a),'name':_0x176601(0xa33)},{'category':_0x176601(0x60a),'name':_0x176601(0x271)},{'category':_0x176601(0x764),'name':_0x176601(0xaa4)},{'category':'การวัด','name':_0x176601(0x375)},{'category':_0x176601(0x764),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x176601(0x764),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x176601(0x764),'name':_0x176601(0x444)},{'category':_0x176601(0x764),'name':_0x176601(0x615)},{'category':_0x176601(0x764),'name':_0x176601(0x25f)},{'category':'การวัด','name':'พื้นที่สามเหลี่ยม'},{'category':_0x176601(0x764),'name':_0x176601(0xbda)},{'category':'การวัด','name':_0x176601(0x175)},{'category':_0x176601(0x764),'name':_0x176601(0x9fc)},{'category':_0x176601(0x764),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x176601(0x339)},{'category':'การวัด','name':_0x176601(0xabd)},{'category':_0x176601(0xb62),'name':_0x176601(0x275)},{'category':_0x176601(0xb62),'name':_0x176601(0x7f4)},{'category':_0x176601(0xb62),'name':_0x176601(0xa6b)},{'category':_0x176601(0xb62),'name':_0x176601(0x1cc)},{'category':_0x176601(0xb62),'name':_0x176601(0x465)},{'category':_0x176601(0xb62),'name':'ความคล้ายของรูป'},{'category':'เรขาคณิต','name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x176601(0xb62),'name':_0x176601(0x51f)},{'category':_0x176601(0xb62),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x176601(0xb62),'name':_0x176601(0x85e)},{'category':_0x176601(0xb62),'name':_0x176601(0xa8a)},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x176601(0xc06)},{'category':_0x176601(0xb62),'name':_0x176601(0xbd7)},{'category':_0x176601(0xb62),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x7ee)},{'category':_0x176601(0x858),'name':_0x176601(0x243)},{'category':_0x176601(0x858),'name':_0x176601(0x188)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x4b7)},{'category':_0x176601(0x858),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x812)},{'category':_0x176601(0x858),'name':_0x176601(0x7ef)},{'category':_0x176601(0x858),'name':_0x176601(0x389)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x1e7)},{'category':_0x176601(0x858),'name':_0x176601(0xa59)},{'category':_0x176601(0x858),'name':'สมการราก\x20(radical)'},{'category':_0x176601(0x858),'name':_0x176601(0x55a)},{'category':_0x176601(0x858),'name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x874)},{'category':_0x176601(0x858),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x176601(0x858),'name':_0x176601(0xbf4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0xad5)},{'category':_0x176601(0x858),'name':_0x176601(0x8c1)},{'category':_0x176601(0x858),'name':_0x176601(0x98c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x689)},{'category':_0x176601(0x858),'name':_0x176601(0x1bd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x3f4)},{'category':_0x176601(0x858),'name':_0x176601(0x926)},{'category':_0x176601(0x858),'name':_0x176601(0x7a9)},{'category':_0x176601(0x858),'name':_0x176601(0x36a)},{'category':_0x176601(0x858),'name':_0x176601(0x1ef)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x948)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0xa0f)},{'category':_0x176601(0x858),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x176601(0x858),'name':_0x176601(0x56a)},{'category':_0x176601(0x858),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x176601(0x858),'name':_0x176601(0x7d2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x917)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x176601(0x66a)},{'category':_0x176601(0x858),'name':_0x176601(0x47c)},{'category':_0x176601(0x84b),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x176601(0x913)},{'category':_0x176601(0x84b),'name':_0x176601(0x9a1)},{'category':_0x176601(0x84b),'name':_0x176601(0x2fd)},{'category':_0x176601(0x84b),'name':_0x176601(0x724)},{'category':_0x176601(0x84b),'name':_0x176601(0xb44)},{'category':_0x176601(0x84b),'name':_0x176601(0x312)},{'category':_0x176601(0x84b),'name':_0x176601(0x466)},{'category':'เรขาคณิตวิเคราะห์','name':_0x176601(0x388)},{'category':'ตรีโกณมิติ','name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x176601(0xaab),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x176601(0xaab),'name':_0x176601(0x889)},{'category':_0x176601(0xaab),'name':_0x176601(0x211)},{'category':_0x176601(0xaab),'name':_0x176601(0x75e)},{'category':_0x176601(0xaab),'name':_0x176601(0x6ad)},{'category':'ตรีโกณมิติ','name':_0x176601(0xa41)},{'category':'ตรีโกณมิติ','name':_0x176601(0x760)},{'category':_0x176601(0xaab),'name':_0x176601(0x848)},{'category':_0x176601(0xaab),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':'ตรีโกณมิติ','name':_0x176601(0xa4f)},{'category':_0x176601(0xb97),'name':_0x176601(0x50e)},{'category':_0x176601(0xb97),'name':_0x176601(0x8b1)},{'category':'สถิติและความน่าจะเป็น','name':_0x176601(0x672)},{'category':'สถิติและความน่าจะเป็น','name':_0x176601(0x191)},{'category':_0x176601(0xb97),'name':_0x176601(0x738)},{'category':_0x176601(0xb97),'name':_0x176601(0x849)},{'category':_0x176601(0xb97),'name':'ค่าเฉลี่ย'},{'category':_0x176601(0xb97),'name':_0x176601(0x616)},{'category':_0x176601(0xb97),'name':_0x176601(0x892)},{'category':_0x176601(0xb97),'name':_0x176601(0xb46)},{'category':_0x176601(0xb97),'name':_0x176601(0x196)},{'category':'สถิติและความน่าจะเป็น','name':_0x176601(0x3fa)},{'category':'สถิติและความน่าจะเป็น','name':_0x176601(0x5a3)},{'category':_0x176601(0xb97),'name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':_0x176601(0x70d)},{'category':_0x176601(0xb97),'name':_0x176601(0x29c)},{'category':'สถิติและความน่าจะเป็น','name':_0x176601(0x3d2)},{'category':_0x176601(0xb97),'name':_0x176601(0x36b)},{'category':_0x176601(0xb97),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x176601(0xb04)},{'category':_0x176601(0xb97),'name':_0x176601(0x9da)},{'category':'สถิติและความน่าจะเป็น','name':_0x176601(0x987)},{'category':_0x176601(0xb97),'name':_0x176601(0x1e2)},{'category':_0x176601(0xb97),'name':_0x176601(0xb0b)},{'category':_0x176601(0xa5d),'name':'ลิมิต'},{'category':_0x176601(0xa5d),'name':_0x176601(0x67b)},{'category':_0x176601(0xa5d),'name':_0x176601(0xb5f)},{'category':_0x176601(0xa5d),'name':_0x176601(0x4ea)},{'category':_0x176601(0xa5d),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x176601(0xa5d),'name':_0x176601(0x44f)},{'category':_0x176601(0xa5d),'name':'ความชันเส้นสัมผัส'},{'category':_0x176601(0xa5d),'name':_0x176601(0xb63)},{'category':'แคลคูลัสเบื้องต้น','name':_0x176601(0x199)},{'category':'แคลคูลัสเบื้องต้น','name':_0x176601(0x89e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x176601(0x99e)},{'category':_0x176601(0xa5d),'name':_0x176601(0x426)},{'category':_0x176601(0xa5d),'name':_0x176601(0x78c)},{'category':_0x176601(0xb30),'name':_0x176601(0xa06)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x176601(0x5a7)},{'category':_0x176601(0xb30),'name':_0x176601(0x84a)},{'category':_0x176601(0xb30),'name':_0x176601(0x1e3)},{'category':_0x176601(0xb30),'name':_0x176601(0x374)},{'category':_0x176601(0xb30),'name':_0x176601(0x59d)},{'category':_0x176601(0xb30),'name':_0x176601(0x1fc)},{'category':_0x176601(0x502),'name':_0x176601(0x24d)},{'category':_0x176601(0x502),'name':_0x176601(0x81b)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x176601(0x719)},{'category':_0x176601(0x502),'name':_0x176601(0x4f9)},{'category':_0x176601(0x502),'name':_0x176601(0x436)},{'category':_0x176601(0x26c),'name':_0x176601(0x222)},{'category':_0x176601(0x26c),'name':_0x176601(0x818)},{'category':_0x176601(0x26c),'name':_0x176601(0x207)}];function renderTopicCheckboxes(){const _0x38e28e=_0x176601,_0x5c4f7b=document[_0x38e28e(0x267)](_0x38e28e(0x893));if(!_0x5c4f7b)return;const _0x18f576=allMathTopics,_0x53e5ef=customMathTopics[_0x38e28e(0x697)](_0x302a49=>({'id':_0x302a49['id'],'category':_0x38e28e(0x793),'name':_0x302a49[_0x38e28e(0x6be)]})),_0x57c4ea=[..._0x18f576,..._0x53e5ef],_0x598cc7=_0x57c4ea[_0x38e28e(0x46b)]((_0x1b78fc,_0x428277)=>{const _0x236acf=_0x38e28e;return!_0x1b78fc[_0x428277['category']]&&(_0x1b78fc[_0x428277['category']]=[]),_0x1b78fc[_0x428277[_0x236acf(0xb1d)]]['push'](_0x428277),_0x1b78fc;},{});let _0x57a22e='';const _0x50d820=[_0x38e28e(0x793),...Object['keys'](_0x598cc7)[_0x38e28e(0xb79)](_0x29268e=>_0x29268e!=='หัวข้อที่สร้างเอง')];for(const _0x26aee1 of _0x50d820){if(_0x598cc7[_0x26aee1]){const _0x295219=_0x26aee1==='หัวข้อที่สร้างเอง',_0x23ca7b=_0x295219?_0x38e28e(0x603):'fas\x20fa-bookmark',_0x48e8d5=_0x295219?'text-blue-700':_0x38e28e(0x2ab);_0x57a22e+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x57a22e+=_0x38e28e(0x449)+_0x48e8d5+_0x38e28e(0x35f)+_0x23ca7b+'\x20mr-2\x22></i>'+_0x26aee1+_0x38e28e(0xa5b),_0x598cc7[_0x26aee1][_0x38e28e(0x523)](_0x196b0e=>{const _0x5bfea4=_0x38e28e,_0x403b69=!!_0x196b0e['id'],_0x3b69a4=_0x403b69?_0x5bfea4(0x843)+_0x196b0e['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x196b0e['id']+_0x5bfea4(0xbb3)+_0x196b0e['id']+_0x5bfea4(0x6e0)+_0x196b0e['id']+_0x5bfea4(0xaac):'';_0x57a22e+=_0x5bfea4(0x6f1)+(_0x196b0e['id']||'')+_0x5bfea4(0x657)+_0x196b0e['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x196b0e[_0x5bfea4(0x6be)]+_0x5bfea4(0x799)+(_0x403b69?_0x5bfea4(0x6d8)+_0x196b0e[_0x5bfea4(0x6be)]+'\x22>':'')+_0x5bfea4(0x1aa)+_0x3b69a4+_0x5bfea4(0x37a);}),_0x57a22e+=_0x38e28e(0xba1);}}_0x5c4f7b[_0x38e28e(0xab8)]=_0x57a22e||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x5c4f7b[_0x38e28e(0x4cc)](_0x38e28e(0x73b),updateSelectedTopicsCount),_0x5c4f7b[_0x38e28e(0xbb9)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2154c6,_0x46ac3c){const _0x629ece=_0x176601;if(!_0x2154c6||!_0x46ac3c[_0x629ece(0xa5f)]()){showMessage(_0x629ece(0x9f2));return;}try{const _0x21a31c=doc(db,'artifacts/'+appId+_0x629ece(0x5e3),_0x2154c6);await updateDoc(_0x21a31c,{'name':_0x46ac3c['trim']()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x2f27ae){console[_0x629ece(0xa65)](_0x629ece(0x787),_0x2f27ae),showMessage(_0x629ece(0x8e7));}}function toggleTopicEditMode(_0x44724e,_0x21d4ad){const _0x4ece44=_0x176601;if(!_0x44724e)return;const _0x26ba1e=_0x44724e[_0x4ece44(0x690)](_0x4ece44(0x9e7)),_0x48bb47=_0x44724e[_0x4ece44(0x690)](_0x4ece44(0xa75)),_0x5e9c46=_0x44724e[_0x4ece44(0x690)](_0x4ece44(0xa25)),_0x44d24f=_0x44724e[_0x4ece44(0x690)](_0x4ece44(0x5d9));_0x26ba1e[_0x4ece44(0x25c)][_0x4ece44(0x7b6)](_0x4ece44(0xbc7),_0x21d4ad),_0x48bb47[_0x4ece44(0x25c)][_0x4ece44(0x7b6)](_0x4ece44(0xbc7),!_0x21d4ad),_0x5e9c46[_0x4ece44(0x25c)][_0x4ece44(0x7b6)](_0x4ece44(0xbc7),_0x21d4ad),_0x44d24f[_0x4ece44(0x25c)][_0x4ece44(0x7b6)](_0x4ece44(0xbc7),!_0x21d4ad),_0x21d4ad&&(_0x48bb47[_0x4ece44(0x51d)](),_0x48bb47[_0x4ece44(0x2d0)]());}async function handleStartLiveRace(_0x2810ef){const _0x4da89d=_0x176601;let _0x203450=allQuizzes['find'](_0x474e85=>_0x474e85['id']===_0x2810ef);if(!_0x203450){const _0x5b77bd=doc(db,_0x4da89d(0x94a)+appId+_0x4da89d(0xb3f),_0x2810ef),_0x3fe82d=await getDoc(_0x5b77bd);if(!_0x3fe82d[_0x4da89d(0x4b5)]()){showMessage(_0x4da89d(0x521));return;}_0x203450={'id':_0x3fe82d['id'],..._0x3fe82d[_0x4da89d(0xa77)]()};}const _0x10b791=getShuffledQuiz(_0x203450);currentQuizData=_0x10b791;const _0x597a48=_0x203450[_0x4da89d(0x8ae)]||currentProjectId||null,_0x3baa2a=Math[_0x4da89d(0xbdd)](0x3e8+Math[_0x4da89d(0x658)]()*0x2328)[_0x4da89d(0x5bc)]();currentLiveGamePin=_0x3baa2a;try{const _0x1d8cf6=await addDoc(collection(db,_0x4da89d(0x94a)+appId+_0x4da89d(0x81a)),{'quizId':_0x2810ef,'projectId':_0x597a48,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3baa2a,'createdAt':serverTimestamp(),'shuffledQuiz':_0x10b791});currentLiveGameId=_0x1d8cf6['id'],showAdminLobbyView(_0x3baa2a,_0x203450[_0x4da89d(0x62b)]),listenForLiveGameUpdates();}catch(_0x4c7f9e){console[_0x4da89d(0xa65)](_0x4da89d(0x9e6),_0x4c7f9e),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x117ff3=_0x176601,_0x1a7679=document['getElementById'](_0x117ff3(0x893)),_0xf0b52=_0x1a7679[_0x117ff3(0x6d4)](_0x117ff3(0x21a))['length'],_0x3dd159=document[_0x117ff3(0x267)](_0x117ff3(0xb60));_0xf0b52>0x0?_0x3dd159[_0x117ff3(0x4c2)]=_0x117ff3(0x6ac)+_0xf0b52+_0x117ff3(0x190):_0x3dd159[_0x117ff3(0x4c2)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x176601(0x75c),quizLeaderboardSortOrder=_0x176601(0x51e),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x36cf99,_0x32caf5){const _0x42b29e=_0x176601;return Math[_0x42b29e(0x19d)](Math[_0x42b29e(0x5d7)](_0x36cf99['x']-_0x32caf5['x'],0x2)+Math[_0x42b29e(0x5d7)](_0x36cf99['y']-_0x32caf5['y'],0x2));}function getMidpoint(_0x17a76c,_0x25b853){return{'x':(_0x17a76c['x']+_0x25b853['x'])/0x2,'y':(_0x17a76c['y']+_0x25b853['y'])/0x2};}function getTransformedPoint(_0x248341,_0x192a71){return{'x':(_0x248341-scratchpadOffset['x'])/scratchpadScale,'y':(_0x192a71-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x7b35a0=_0x176601;if(!scratchpadCtx)return;const _0x3e80d3=scratchpadCtx[_0x7b35a0(0xb7d)],_0x1a7205=window[_0x7b35a0(0x863)]||0x1,_0x182007=document[_0x7b35a0(0x267)](_0x7b35a0(0x776));_0x182007&&(_0x182007[_0x7b35a0(0x58e)][_0x7b35a0(0x749)]=_0x7b35a0(0xb78),_0x182007[_0x7b35a0(0x58e)][_0x7b35a0(0x5d4)]='translate('+scratchpadOffset['x']+_0x7b35a0(0x71f)+scratchpadOffset['y']+_0x7b35a0(0xa29)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x7b35a0(0x3b7)](_0x1a7205,0x0,0x0,_0x1a7205,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x3e80d3[_0x7b35a0(0x218)],_0x3e80d3[_0x7b35a0(0x3b0)]),scratchpadCtx[_0x7b35a0(0x9e3)](),scratchpadCtx[_0x7b35a0(0xac6)](),scratchpadCtx[_0x7b35a0(0x4e9)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x38e43b=>{drawStroke(_0x38e43b);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x4a3cf5=_0x176601;if(localQuestionIndex>=currentQuizData[_0x4a3cf5(0x9ce)][_0x4a3cf5(0x2c7)]){displayTeamQuizFinalResults();return;}const _0x4e56e1=currentQuizData['questions'][localQuestionIndex],_0x323d37=_0x4e56e1['questionType']||currentQuizData[_0x4a3cf5(0x84e)];let _0x41e995=_0x4e56e1['stem']||_0x4e56e1[_0x4a3cf5(0x911)],_0x2c8764='';switch(_0x323d37){case _0x4a3cf5(0x3e7):case'fill_in_with_choices':_0x2c8764=_0x4e56e1[_0x4a3cf5(0x61a)]['map']((_0x279c94,_0x5824dd)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x5824dd+_0x4a3cf5(0x820)+_0x5824dd+_0x4a3cf5(0x7da)+_0x5824dd+'\x22>'+_0x279c94+_0x4a3cf5(0x647))[_0x4a3cf5(0x706)]('');break;case _0x4a3cf5(0x9c7):_0x2c8764=_0x4a3cf5(0xbba);break;case'short_answer':case'fill_in_no_choices':_0x2c8764='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case'matching_item':_0x2c8764=_0x4a3cf5(0xb02)+_0x4e56e1['allResponses']['map'](_0x1e5711=>_0x4a3cf5(0xba4)+_0x1e5711+'\x22>'+_0x1e5711+'</option>')[_0x4a3cf5(0x706)]('')+_0x4a3cf5(0x22e);break;default:_0x2c8764=_0x4a3cf5(0x1cd);break;}studentQuizArea[_0x4a3cf5(0xab8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x4a3cf5(0x2c7)]+_0x4a3cf5(0x330)+localTeamPlayers[_0x4a3cf5(0x706)](',\x20')+_0x4a3cf5(0x762)+(localQuestionIndex+0x1)+'.\x20'+_0x41e995+_0x4a3cf5(0x1a4)+(_0x4e56e1[_0x4a3cf5(0x9ed)]?_0x4a3cf5(0x1c8)+_0x4e56e1[_0x4a3cf5(0x9ed)]+'</div>':'')+_0x4a3cf5(0x6d2)+_0x2c8764+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList']['remove'](_0x4a3cf5(0xbc7));if(window[_0x4a3cf5(0xb72)])MathJax[_0x4a3cf5(0x5bf)]([studentQuizArea]);document['getElementById'](_0x4a3cf5(0x424))[_0x4a3cf5(0xbb9)](_0x4a3cf5(0x292),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x226749,_0x352ea3=null,_0x584ca3,_0x148ba4=null){const _0x502931=_0x176601,_0x405932=document[_0x502931(0x267)](_0x502931(0x7d1));_0x405932&&_0x405932[_0x502931(0x5d2)]({'behavior':_0x502931(0xc03),'block':'center'}),generateQuiz(_0x226749,_0x352ea3,null,null,!![],_0x584ca3,_0x148ba4);}function handleGenerateAndShowLesson(_0x3e74cc,_0x4c16ca){const _0x357fb1=_0x176601,_0x1e0661=document[_0x357fb1(0x267)](_0x357fb1(0xb69)),_0x17c5f6=document[_0x357fb1(0x267)]('lesson-view-title'),_0x58bcf5=document[_0x357fb1(0x267)](_0x357fb1(0x4a9)),_0x800857=document['getElementById'](_0x357fb1(0x404));['pointContent','memoryContent','applicationContent','summaryContent']['forEach'](_0x3664aa=>{const _0x2b11f2=_0x357fb1,_0x23c125=document['getElementById'](_0x3664aa)[_0x2b11f2(0xb7a)];_0x23c125&&(_0x23c125[_0x2b11f2(0x58e)]['display']=_0x2b11f2(0x8ac));}),_0x17c5f6[_0x357fb1(0x4c2)]=_0x357fb1(0x7fe)+_0x3e74cc,_0x800857['classList']['add'](_0x357fb1(0xbc7)),_0x58bcf5[_0x357fb1(0x25c)][_0x357fb1(0x167)]('hidden'),_0x1e0661[_0x357fb1(0x25c)]['remove']('hidden'),generateLesson(_0x3e74cc,_0x4c16ca)[_0x357fb1(0x1f7)](_0x13bb26=>{const _0x28a9fe=_0x357fb1;console[_0x28a9fe(0xa65)](_0x28a9fe(0xa5c),_0x13bb26),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x1e0661['classList'][_0x28a9fe(0x8a5)](_0x28a9fe(0xbc7));});}function handlePointerDown(_0x349c05){const _0x4a3154=_0x176601;_0x349c05[_0x4a3154(0x417)]();const _0x26578f=scratchpadCtx[_0x4a3154(0xb7d)],_0x1eb40b=_0x26578f['getBoundingClientRect'](),_0x561b58=_0x349c05['pointerType']||(_0x349c05['touches']?_0x4a3154(0x993):_0x4a3154(0x2e9));if(_0x561b58===_0x4a3154(0x79f)||_0x561b58===_0x4a3154(0x2e9)){if(_0x349c05[_0x4a3154(0xb8a)]===_0x4a3154(0x2e9)&&_0x349c05[_0x4a3154(0x836)]!==0x0){_0x349c05['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x349c05[_0x4a3154(0x200)],'y':_0x349c05[_0x4a3154(0xa18)]},_0x26578f[_0x4a3154(0x58e)][_0x4a3154(0x1c3)]=_0x4a3154(0xa2f));return;}activeTool===_0x4a3154(0x1e9)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2690f9=getTransformedPoint(_0x349c05['clientX']-_0x1eb40b[_0x4a3154(0x75a)],_0x349c05[_0x4a3154(0xa18)]-_0x1eb40b[_0x4a3154(0x6e4)]);let _0x5afc9d={'tool':activeTool,'points':[_0x2690f9]};if(activeTool==='highlighter')_0x5afc9d['color']=scratchpadHighlighterColor,_0x5afc9d[_0x4a3154(0xbd1)]=scratchpadHighlighterSize;else activeTool===_0x4a3154(0x1e9)?(_0x5afc9d[_0x4a3154(0x902)]=scratchpadPenColor,_0x5afc9d[_0x4a3154(0xbd1)]=scratchpadPenSize):(_0x5afc9d[_0x4a3154(0x902)]=scratchpadPenColor,_0x5afc9d[_0x4a3154(0xbd1)]=scratchpadPenSize);currentStroke=_0x5afc9d;}else _0x349c05['touches']&&(_0x349c05[_0x4a3154(0xae2)][_0x4a3154(0x2c7)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x349c05[_0x4a3154(0xae2)][0x0][_0x4a3154(0x200)],'y':_0x349c05[_0x4a3154(0xae2)][0x0][_0x4a3154(0xa18)]},{'x':_0x349c05[_0x4a3154(0xae2)][0x1][_0x4a3154(0x200)],'y':_0x349c05[_0x4a3154(0xae2)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x349c05[_0x4a3154(0xae2)][0x0]['clientX'],'y':_0x349c05['touches'][0x0][_0x4a3154(0xa18)]},{'x':_0x349c05[_0x4a3154(0xae2)][0x1][_0x4a3154(0x200)],'y':_0x349c05[_0x4a3154(0xae2)][0x1][_0x4a3154(0xa18)]})));}function animateTrail(){const _0x2d74e0=_0x176601,_0x7ae96d=Date['now']();let _0x5e9553=![];for(let _0x44cd12=strokes[_0x2d74e0(0x2c7)]-0x1;_0x44cd12>=0x0;_0x44cd12--){const _0x3287fd=strokes[_0x44cd12];if(_0x3287fd[_0x2d74e0(0x7a1)]===_0x2d74e0(0x1e9)&&_0x3287fd[_0x2d74e0(0x519)]){const _0x5cc444=_0x7ae96d-_0x3287fd[_0x2d74e0(0x519)];_0x5cc444>=TRAIL_DURATION?strokes[_0x2d74e0(0xa7c)](_0x44cd12,0x1):(_0x3287fd['opacity']=0x1-_0x5cc444/TRAIL_DURATION,_0x5e9553=!![]);}}redrawScratchpad(),_0x5e9553?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x52c620){const _0x312d5b=_0x176601;if(!_0x52c620||_0x52c620[_0x312d5b(0xb54)]['length']<0x1)return;scratchpadCtx[_0x312d5b(0xac6)](),scratchpadCtx[_0x312d5b(0x717)]=_0x312d5b(0xb76),scratchpadCtx[_0x312d5b(0x550)]=_0x312d5b(0xb76);if(_0x52c620[_0x312d5b(0x7a1)]===_0x312d5b(0x1e9)){const _0xcfe5db=_0x52c620['size']/scratchpadScale;scratchpadCtx['globalAlpha']=_0x52c620['opacity']??0x1,scratchpadCtx[_0x312d5b(0x1c1)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x312d5b(0x4bc)]=_0xcfe5db*0x3,scratchpadCtx[_0x312d5b(0x530)]=_0x312d5b(0x43e),scratchpadCtx['lineWidth']=_0xcfe5db*2.5,scratchpadCtx[_0x312d5b(0x6c5)](),scratchpadCtx[_0x312d5b(0x97e)](_0x52c620[_0x312d5b(0xb54)][0x0]['x'],_0x52c620[_0x312d5b(0xb54)][0x0]['y']);for(let _0x3a2f56=0x1;_0x3a2f56<_0x52c620[_0x312d5b(0xb54)][_0x312d5b(0x2c7)]-0x1;_0x3a2f56++){const _0x22ea3e=getMidpoint(_0x52c620['points'][_0x3a2f56],_0x52c620['points'][_0x3a2f56+0x1]);scratchpadCtx[_0x312d5b(0x2db)](_0x52c620[_0x312d5b(0xb54)][_0x3a2f56]['x'],_0x52c620[_0x312d5b(0xb54)][_0x3a2f56]['y'],_0x22ea3e['x'],_0x22ea3e['y']);}scratchpadCtx[_0x312d5b(0x66b)](),scratchpadCtx[_0x312d5b(0x1c1)]=_0x312d5b(0x942),scratchpadCtx[_0x312d5b(0x4bc)]=0x0,scratchpadCtx[_0x312d5b(0x530)]=_0x312d5b(0xa71),scratchpadCtx['lineWidth']=_0xcfe5db,scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}else{if(_0x52c620[_0x312d5b(0x7a1)]==='highlighter'){scratchpadCtx[_0x312d5b(0x5d0)]=_0x312d5b(0xa70),scratchpadCtx['strokeStyle']=_0x52c620[_0x312d5b(0x902)],scratchpadCtx['lineWidth']=_0x52c620[_0x312d5b(0xbd1)],scratchpadCtx[_0x312d5b(0x6c5)](),scratchpadCtx[_0x312d5b(0x97e)](_0x52c620[_0x312d5b(0xb54)][0x0]['x'],_0x52c620[_0x312d5b(0xb54)][0x0]['y']);for(let _0x16eeb7=0x1;_0x16eeb7<_0x52c620[_0x312d5b(0xb54)]['length']-0x1;_0x16eeb7++){const _0x1269d4=getMidpoint(_0x52c620[_0x312d5b(0xb54)][_0x16eeb7],_0x52c620[_0x312d5b(0xb54)][_0x16eeb7+0x1]);scratchpadCtx['quadraticCurveTo'](_0x52c620[_0x312d5b(0xb54)][_0x16eeb7]['x'],_0x52c620['points'][_0x16eeb7]['y'],_0x1269d4['x'],_0x1269d4['y']);}scratchpadCtx[_0x312d5b(0x66b)](),scratchpadCtx[_0x312d5b(0xb59)]();}else{scratchpadCtx['globalCompositeOperation']=_0x52c620[_0x312d5b(0x7a1)]===_0x312d5b(0x8b9)?_0x312d5b(0x7c8):_0x312d5b(0x840),scratchpadCtx['strokeStyle']=_0x52c620[_0x312d5b(0x902)],scratchpadCtx[_0x312d5b(0x2eb)]=_0x52c620[_0x312d5b(0xbd1)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x312d5b(0x97e)](_0x52c620[_0x312d5b(0xb54)][0x0]['x'],_0x52c620['points'][0x0]['y']);for(let _0x13ccbf=0x1;_0x13ccbf<_0x52c620[_0x312d5b(0xb54)]['length']-0x1;_0x13ccbf++){const _0x594b7e=getMidpoint(_0x52c620[_0x312d5b(0xb54)][_0x13ccbf],_0x52c620[_0x312d5b(0xb54)][_0x13ccbf+0x1]);scratchpadCtx['quadraticCurveTo'](_0x52c620[_0x312d5b(0xb54)][_0x13ccbf]['x'],_0x52c620[_0x312d5b(0xb54)][_0x13ccbf]['y'],_0x594b7e['x'],_0x594b7e['y']);}scratchpadCtx[_0x312d5b(0x66b)](),scratchpadCtx[_0x312d5b(0xb59)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x40df9b){const _0x289190=_0x176601;_0x40df9b['preventDefault']();const _0x5c2d72=scratchpadCtx[_0x289190(0xb7d)],_0x5a8b6c=_0x5c2d72['getBoundingClientRect']();if(_0x40df9b[_0x289190(0xae2)]){if(_0x40df9b[_0x289190(0xae2)]['length']===0x1&&isDrawingOnScratchpad){const _0x1e62a4=getTransformedPoint(_0x40df9b[_0x289190(0xae2)][0x0][_0x289190(0x200)]-_0x5a8b6c[_0x289190(0x75a)],_0x40df9b[_0x289190(0xae2)][0x0][_0x289190(0xa18)]-_0x5a8b6c[_0x289190(0x6e4)]);currentStroke[_0x289190(0xb54)]['push'](_0x1e62a4),redrawScratchpad();}else{if(_0x40df9b[_0x289190(0xae2)][_0x289190(0x2c7)]===0x2&&isPanning){const _0x2d6101=getDistance({'x':_0x40df9b[_0x289190(0xae2)][0x0][_0x289190(0x200)],'y':_0x40df9b['touches'][0x0][_0x289190(0xa18)]},{'x':_0x40df9b['touches'][0x1][_0x289190(0x200)],'y':_0x40df9b[_0x289190(0xae2)][0x1][_0x289190(0xa18)]}),_0x4a27ac=getMidpoint({'x':_0x40df9b['touches'][0x0]['clientX'],'y':_0x40df9b[_0x289190(0xae2)][0x0][_0x289190(0xa18)]},{'x':_0x40df9b[_0x289190(0xae2)][0x1][_0x289190(0x200)],'y':_0x40df9b['touches'][0x1][_0x289190(0xa18)]}),_0x22c83c=_0x2d6101/ initialPinchDistance,_0x2bed8e=Math[_0x289190(0x5bb)](Math['max'](scratchpadScale*_0x22c83c,MIN_SCALE),MAX_SCALE),_0xdd9618=_0x4a27ac['x']-panStart['x'],_0x278598=_0x4a27ac['y']-panStart['y'];scratchpadOffset['x']=_0x4a27ac['x']-(_0x4a27ac['x']-scratchpadOffset['x'])*(_0x2bed8e/scratchpadScale),scratchpadOffset['y']=_0x4a27ac['y']-(_0x4a27ac['y']-scratchpadOffset['y'])*(_0x2bed8e/scratchpadScale),scratchpadOffset['x']+=_0xdd9618,scratchpadOffset['y']+=_0x278598,scratchpadScale=_0x2bed8e,initialPinchDistance=_0x2d6101,panStart=_0x4a27ac,redrawScratchpad();}}}else{if(isMousePanning){const _0x39cf9f=_0x40df9b[_0x289190(0x200)]-panStart['x'],_0x40772e=_0x40df9b['clientY']-panStart['y'];scratchpadOffset['x']+=_0x39cf9f,scratchpadOffset['y']+=_0x40772e,panStart={'x':_0x40df9b['clientX'],'y':_0x40df9b[_0x289190(0xa18)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x3b9c81=getTransformedPoint(_0x40df9b['clientX']-_0x5a8b6c[_0x289190(0x75a)],_0x40df9b[_0x289190(0xa18)]-_0x5a8b6c[_0x289190(0x6e4)]);currentStroke[_0x289190(0xb54)][_0x289190(0x92e)](_0x3b9c81),redrawScratchpad();}}}}function handlePointerUp(_0x490cef){const _0x30a6a3=_0x176601;_0x490cef[_0x30a6a3(0x417)]();const _0x42faba=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x42faba[_0x30a6a3(0x58e)][_0x30a6a3(0x1c3)]=_0x30a6a3(0x23c)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x30a6a3(0xb54)]['length']>0x1&&(strokes[_0x30a6a3(0x92e)](currentStroke),currentStroke[_0x30a6a3(0x7a1)]===_0x30a6a3(0x1e9)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x5d72a2=_0x30a6a3,_0x52e9de=strokes[_0x5d72a2(0xb79)](_0x4db086=>_0x4db086[_0x5d72a2(0x7a1)]===_0x5d72a2(0x1e9)&&!_0x4db086['fadeStartTime']);if(_0x52e9de[_0x5d72a2(0x2c7)]>0x0){const _0x5bdf35=Date[_0x5d72a2(0x937)]();_0x52e9de[_0x5d72a2(0x523)](_0x4ea63f=>_0x4ea63f[_0x5d72a2(0x519)]=_0x5bdf35),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x5eb2f2){const _0x38a083=_0x176601;_0x5eb2f2['preventDefault']();const _0x192d00=_0x5eb2f2[_0x38a083(0x86f)]*-0.005,_0x304e7f=Math[_0x38a083(0x5bb)](Math[_0x38a083(0x491)](scratchpadScale+_0x192d00,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x5eb2f2[_0x38a083(0x200)]-(_0x5eb2f2[_0x38a083(0x200)]-scratchpadOffset['x'])*(_0x304e7f/scratchpadScale),scratchpadOffset['y']=_0x5eb2f2[_0x38a083(0xa18)]-(_0x5eb2f2['clientY']-scratchpadOffset['y'])*(_0x304e7f/scratchpadScale),scratchpadScale=_0x304e7f,redrawScratchpad();}function undo(){const _0x58aadc=_0x176601;strokes[_0x58aadc(0x2c7)]>0x0&&(redoStrokes[_0x58aadc(0x92e)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x2467b6=_0x176601;redoStrokes[_0x2467b6(0x2c7)]>0x0&&(strokes[_0x2467b6(0x92e)](redoStrokes[_0x2467b6(0x2a0)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x1a66fa=_0x176601;document[_0x1a66fa(0x267)]('undo-btn')['disabled']=strokes[_0x1a66fa(0x2c7)]===0x0,document['getElementById'](_0x1a66fa(0x4b6))[_0x1a66fa(0x76a)]=redoStrokes[_0x1a66fa(0x2c7)]===0x0;}function openScratchpad(_0x2bcc3c,_0xcf78b0){const _0x58ebf4=_0x176601,_0x3ccdf3=document[_0x58ebf4(0x267)](_0x58ebf4(0x744)),_0x3d70c0=document['getElementById'](_0x58ebf4(0x681)),_0x5a0924=document[_0x58ebf4(0x267)]('scratchpad-options'),_0x8fb3b6=document[_0x58ebf4(0x267)](_0x58ebf4(0xa02));_0x3d70c0[_0x58ebf4(0xab8)]=_0x2bcc3c[_0x58ebf4(0x232)]||_0x2bcc3c[_0x58ebf4(0x911)],_0x5a0924[_0x58ebf4(0xab8)]=_0xcf78b0[_0x58ebf4(0x697)]((_0x5d2d3a,_0x326a6f)=>_0x58ebf4(0x8d3)+String['fromCharCode'](0x41+_0x326a6f)+'.\x20'+_0x5d2d3a+_0x58ebf4(0xba1))[_0x58ebf4(0x706)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x3ccdf3[_0x58ebf4(0x25c)][_0x58ebf4(0x167)](_0x58ebf4(0xbc7)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x58ebf4(0xb72)])MathJax[_0x58ebf4(0x5bf)]([_0x3d70c0,_0x5a0924]);}function openBlueprintQuizSettings(){const _0x3ca445=_0x176601,_0x54682d=document[_0x3ca445(0x267)]('blueprint-settings-modal'),_0x2d540e=blueprintPageSettings||(currentProjectData?currentProjectData[_0x3ca445(0x8e6)]:{})||{};document[_0x3ca445(0x267)](_0x3ca445(0x674))['value']=_0x2d540e[_0x3ca445(0x84e)]||document[_0x3ca445(0x267)](_0x3ca445(0x58c))[_0x3ca445(0x832)],document[_0x3ca445(0x267)](_0x3ca445(0x326))[_0x3ca445(0xab8)]=document[_0x3ca445(0x267)](_0x3ca445(0x1a2))[_0x3ca445(0xab8)],document[_0x3ca445(0x267)](_0x3ca445(0x326))[_0x3ca445(0x832)]=_0x2d540e['difficultyValue']||document[_0x3ca445(0x267)](_0x3ca445(0x1a2))['value'],document['getElementById'](_0x3ca445(0x48d))[_0x3ca445(0xab8)]=document[_0x3ca445(0x267)](_0x3ca445(0xa20))['innerHTML'],document['getElementById'](_0x3ca445(0x48d))[_0x3ca445(0x832)]=_0x2d540e['complexityValue']||document[_0x3ca445(0x267)]('question-complexity-select')[_0x3ca445(0x832)],document[_0x3ca445(0x267)](_0x3ca445(0x583))[_0x3ca445(0x832)]=_0x2d540e['numQuestions']||document[_0x3ca445(0x267)](_0x3ca445(0xb73))[_0x3ca445(0x832)],document[_0x3ca445(0x267)]('bp-modal-passing-score-input')['value']=_0x2d540e[_0x3ca445(0x22f)]||document[_0x3ca445(0x267)]('passing-score-input')[_0x3ca445(0x832)],document[_0x3ca445(0x267)](_0x3ca445(0x225))[_0x3ca445(0x832)]=_0x2d540e[_0x3ca445(0x5c0)]||document[_0x3ca445(0x267)](_0x3ca445(0x666))[_0x3ca445(0x832)],document['getElementById'](_0x3ca445(0x6b9))[_0x3ca445(0x832)]=_0x2d540e[_0x3ca445(0xb06)]||document[_0x3ca445(0x267)]('shuffle-setting-select')['value'],document['getElementById'](_0x3ca445(0xa2b))[_0x3ca445(0x6e2)]=_0x2d540e[_0x3ca445(0x641)]||document[_0x3ca445(0x267)]('include-images-checkbox')[_0x3ca445(0x6e2)],_0x54682d[_0x3ca445(0x25c)][_0x3ca445(0x167)]('hidden');}function handleSaveBlueprintPageSettings(){const _0xae8663=_0x176601;blueprintPageSettings={'quizType':document[_0xae8663(0x267)](_0xae8663(0x674))[_0xae8663(0x832)],'difficultyValue':document[_0xae8663(0x267)](_0xae8663(0x326))['value'],'complexityValue':document[_0xae8663(0x267)](_0xae8663(0x48d))[_0xae8663(0x832)],'numQuestions':document[_0xae8663(0x267)](_0xae8663(0x583))[_0xae8663(0x832)],'passingScore':document[_0xae8663(0x267)]('bp-modal-passing-score-input')['value'],'numChoices':document['getElementById']('bp-modal-num-choices')[_0xae8663(0x832)],'shuffle':document['getElementById'](_0xae8663(0x6b9))['value'],'includeImages':document[_0xae8663(0x267)](_0xae8663(0xa2b))['checked']},showMessage(_0xae8663(0x5e5)),document['getElementById'](_0xae8663(0xa1f))['classList']['add'](_0xae8663(0xbc7));}function initializeScratchpadCanvas(){const _0x2e71fc=_0x176601,_0x1fe4cd=document[_0x2e71fc(0x267)](_0x2e71fc(0x6d6)),_0x7da34b=document[_0x2e71fc(0x690)](_0x2e71fc(0x363));if(!_0x1fe4cd||!_0x7da34b)return;scratchpadCtx=_0x1fe4cd[_0x2e71fc(0x528)]('2d',{'willReadFrequently':!![]});const _0x5d949c=window['devicePixelRatio']||0x1,_0x2e38c3=_0x7da34b[_0x2e71fc(0xa6e)]();_0x1fe4cd[_0x2e71fc(0x218)]=_0x2e38c3[_0x2e71fc(0x218)]*_0x5d949c,_0x1fe4cd['height']=_0x2e38c3['height']*_0x5d949c,_0x1fe4cd['style'][_0x2e71fc(0x218)]=_0x2e38c3[_0x2e71fc(0x218)]+'px',_0x1fe4cd[_0x2e71fc(0x58e)][_0x2e71fc(0x3b0)]=_0x2e38c3[_0x2e71fc(0x3b0)]+'px',scratchpadCtx[_0x2e71fc(0x9ac)](_0x5d949c,_0x5d949c),scratchpadCtx[_0x2e71fc(0x717)]=_0x2e71fc(0xb76),scratchpadCtx['lineCap']=_0x2e71fc(0xb76),_0x1fe4cd[_0x2e71fc(0x4cc)]('pointerdown',handlePointerDown),_0x1fe4cd[_0x2e71fc(0x4cc)](_0x2e71fc(0x9ab),handlePointerMove),_0x1fe4cd[_0x2e71fc(0x4cc)](_0x2e71fc(0x729),handlePointerUp),_0x1fe4cd[_0x2e71fc(0x4cc)]('pointercancel',handlePointerUp),_0x1fe4cd[_0x2e71fc(0x4cc)](_0x2e71fc(0x213),handleWheel),_0x1fe4cd['removeEventListener']('touchstart',handlePointerDown),_0x1fe4cd[_0x2e71fc(0x4cc)](_0x2e71fc(0x4c0),handlePointerMove),_0x1fe4cd[_0x2e71fc(0x4cc)](_0x2e71fc(0x409),handlePointerUp),_0x1fe4cd[_0x2e71fc(0xbb9)]('pointerdown',handlePointerDown),_0x1fe4cd[_0x2e71fc(0xbb9)](_0x2e71fc(0x9ab),handlePointerMove),_0x1fe4cd['addEventListener'](_0x2e71fc(0x729),handlePointerUp),_0x1fe4cd[_0x2e71fc(0xbb9)](_0x2e71fc(0x28c),handlePointerUp),_0x1fe4cd[_0x2e71fc(0xbb9)](_0x2e71fc(0x213),handleWheel,{'passive':![]}),_0x1fe4cd[_0x2e71fc(0xbb9)](_0x2e71fc(0xbef),handlePointerDown,{'passive':![]}),_0x1fe4cd[_0x2e71fc(0xbb9)]('touchmove',handlePointerMove,{'passive':![]}),_0x1fe4cd['addEventListener'](_0x2e71fc(0x409),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x236c82=_0x176601,_0x19cf04=document[_0x236c82(0x267)](_0x236c82(0x744)),_0xd31eed=document[_0x236c82(0x267)](_0x236c82(0xa02));_0xd31eed[_0x236c82(0xab8)]=_0x236c82(0x8ab)+scratchpadHighlighterSize+_0x236c82(0xaf0);const _0x7eac2=document[_0x236c82(0x267)](_0x236c82(0xbb6)),_0x18fbe6=document['getElementById']('eraser-tool-btn'),_0x1c58a4=document['getElementById'](_0x236c82(0x78f)),_0x48bcc2=document[_0x236c82(0x267)]('highlighter-tool-btn'),_0x17000a=document[_0x236c82(0x267)](_0x236c82(0x49d)),_0x308f03=document[_0x236c82(0x267)]('highlighter-tools-group'),_0x2c7542=[_0x7eac2,_0x18fbe6,_0x1c58a4,_0x48bcc2];document['getElementById'](_0x236c82(0x335))[_0x236c82(0xbb9)](_0x236c82(0x292),()=>_0x19cf04[_0x236c82(0x25c)][_0x236c82(0x8a5)]('hidden')),document[_0x236c82(0x267)](_0x236c82(0x354))[_0x236c82(0xbb9)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x236c82(0x3ea))[_0x236c82(0xbb9)](_0x236c82(0x292),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x236c82(0x267)](_0x236c82(0x891))['addEventListener'](_0x236c82(0x292),undo),document[_0x236c82(0x267)](_0x236c82(0x4b6))[_0x236c82(0xbb9)](_0x236c82(0x292),redo);const _0x2eccda=_0x532e9d=>{const _0x54b4bf=_0x236c82;_0x2c7542['forEach'](_0x298a10=>_0x298a10[_0x54b4bf(0x25c)]['remove'](_0x54b4bf(0x866))),_0x532e9d[_0x54b4bf(0x25c)]['add'](_0x54b4bf(0x866));const _0x404fc1=_0x532e9d===_0x48bcc2;_0x17000a[_0x54b4bf(0x25c)][_0x54b4bf(0x7b6)]('hidden',_0x404fc1),_0x308f03[_0x54b4bf(0x25c)]['toggle'](_0x54b4bf(0xbc7),!_0x404fc1);};_0x7eac2[_0x236c82(0xbb9)](_0x236c82(0x292),()=>{const _0x239cc3=_0x236c82;activeTool=_0x239cc3(0x79f),_0x2eccda(_0x7eac2);}),_0x18fbe6[_0x236c82(0xbb9)](_0x236c82(0x292),()=>{const _0x233f3a=_0x236c82;activeTool=_0x233f3a(0x8b9),_0x2eccda(_0x18fbe6);}),_0x1c58a4[_0x236c82(0xbb9)](_0x236c82(0x292),()=>{activeTool='trail',_0x2eccda(_0x1c58a4);}),_0x48bcc2[_0x236c82(0xbb9)](_0x236c82(0x292),()=>{activeTool='highlighter',_0x2eccda(_0x48bcc2);}),_0x17000a[_0x236c82(0x6d4)](_0x236c82(0x182))['forEach'](_0x54843d=>{_0x54843d['addEventListener']('click',_0x4a6646=>{const _0x497acf=_0x1728;scratchpadPenSize=parseInt(_0x4a6646[_0x497acf(0x763)][_0x497acf(0x89d)][_0x497acf(0xbd1)],0xa),_0x17000a['querySelectorAll'](_0x497acf(0x182))[_0x497acf(0x523)](_0x6ac75a=>_0x6ac75a[_0x497acf(0x25c)]['remove']('active')),_0x4a6646['target']['classList'][_0x497acf(0x8a5)]('active');});}),_0x17000a[_0x236c82(0x6d4)](_0x236c82(0x68c))[_0x236c82(0x523)](_0xd3ae78=>{const _0x41ea71=_0x236c82;_0xd3ae78[_0x41ea71(0xbb9)](_0x41ea71(0x292),_0x2e5e33=>{const _0x56d73c=_0x41ea71;scratchpadPenColor=_0x2e5e33[_0x56d73c(0x763)][_0x56d73c(0x89d)]['color'],_0x17000a[_0x56d73c(0x6d4)]('.pen-color-btn')[_0x56d73c(0x523)](_0x48c4ce=>_0x48c4ce['classList'][_0x56d73c(0x167)](_0x56d73c(0x866))),_0x2e5e33[_0x56d73c(0x763)][_0x56d73c(0x25c)][_0x56d73c(0x8a5)](_0x56d73c(0x866));});}),_0x308f03[_0x236c82(0x6d4)]('.highlighter-color-btn')[_0x236c82(0x523)](_0x30fafb=>{const _0x57b6d5=_0x236c82;_0x30fafb[_0x57b6d5(0xbb9)]('click',_0x2b733c=>{const _0x49eeaa=_0x57b6d5;scratchpadHighlighterColor=_0x2b733c[_0x49eeaa(0x763)][_0x49eeaa(0x89d)]['color'],_0x308f03[_0x49eeaa(0x6d4)](_0x49eeaa(0x745))[_0x49eeaa(0x523)](_0x168431=>_0x168431[_0x49eeaa(0x25c)][_0x49eeaa(0x167)](_0x49eeaa(0x866))),_0x2b733c['target'][_0x49eeaa(0x25c)]['add'](_0x49eeaa(0x866));});});const _0x1713cc=document[_0x236c82(0x267)](_0x236c82(0x58f)),_0x37765c=document[_0x236c82(0x267)](_0x236c82(0x9d1));_0x1713cc[_0x236c82(0xbb9)]('input',_0x2df6f4=>{const _0x511393=_0x236c82,_0x238da7=parseInt(_0x2df6f4['target'][_0x511393(0x832)],0xa);scratchpadHighlighterSize=_0x238da7,_0x37765c[_0x511393(0x4c2)]=_0x238da7;}),window[_0x236c82(0xbb9)](_0x236c82(0x3f0),()=>{const _0x51bc55=_0x236c82;!_0x19cf04[_0x51bc55(0x25c)]['contains'](_0x51bc55(0xbc7))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x176601(0x2d8),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x176601(0x169)},'QUICK_THINKER':{'id':_0x176601(0x2e5),'name':_0x176601(0x2b6),'description':_0x176601(0xb12),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x176601(0x1d3),'name':'ท็อปฟอร์ม','description':_0x176601(0x928),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x176601(0x360),'name':_0x176601(0x27d),'description':_0x176601(0xa7e),'icon':_0x176601(0x9fe)},'COMEBACK_KING':{'id':_0x176601(0x5c2),'name':_0x176601(0x166),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x176601(0x5dd)},'SPECIALIST':{'id':_0x176601(0xa37),'name':_0x176601(0x34a),'description':_0x176601(0xb6e),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x176601(0x649),'name':_0x176601(0x551),'description':_0x176601(0x3d4),'icon':_0x176601(0x334)}},firebaseConfig={'apiKey':_0x176601(0xa36),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x176601(0x60d),'storageBucket':_0x176601(0x4b2),'messagingSenderId':'274192258111','appId':_0x176601(0x814),'measurementId':_0x176601(0x6c3)},appId=typeof __app_id!=='undefined'?__app_id:_0x176601(0x915),adminView=document[_0x176601(0x267)]('admin-view'),studentView=document[_0x176601(0x267)](_0x176601(0x270)),projectDashboardView=document['getElementById'](_0x176601(0x6b8)),projectDetailView=document[_0x176601(0x267)](_0x176601(0x63b)),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document['getElementById'](_0x176601(0x35b)),noProjectsMsg=document[_0x176601(0x267)](_0x176601(0x3a2)),projectTitle=document[_0x176601(0x267)](_0x176601(0x751)),projectIdDisplay=document[_0x176601(0x267)]('project-id-display'),studentList=document[_0x176601(0x267)](_0x176601(0x1ca)),messageModal=document['getElementById']('message-modal'),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0x176601(0x267)]('create-project-modal'),adminPasswordModal=document[_0x176601(0x267)]('admin-password-modal'),confirmationModal=document[_0x176601(0x267)]('confirmation-modal'),userIdDisplay=document[_0x176601(0x267)](_0x176601(0x93e)),topicTab=document['getElementById'](_0x176601(0x593)),textTab=document[_0x176601(0x267)]('text-tab'),topicInputArea=document[_0x176601(0x267)](_0x176601(0xbfd)),textInputArea=document[_0x176601(0x267)](_0x176601(0x8c4)),manageTab=document[_0x176601(0x267)](_0x176601(0x677)),resultsTab=document[_0x176601(0x267)]('results-tab'),leaderboardTab=document['getElementById'](_0x176601(0x492)),manageTabContent=document[_0x176601(0x267)](_0x176601(0x6dc)),resultsTabContent=document[_0x176601(0x267)](_0x176601(0x19f)),leaderboardTabContent=document[_0x176601(0x267)]('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0x176601(0x3d6)),fileTab=document[_0x176601(0x267)](_0x176601(0x792)),fileInputArea=document[_0x176601(0x267)](_0x176601(0xb52)),fileUploadInput=document[_0x176601(0x267)](_0x176601(0x283)),worksheetTab=document[_0x176601(0x267)](_0x176601(0xa16)),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document[_0x176601(0x267)](_0x176601(0x93b)),studentInitialView=document[_0x176601(0x267)]('student-initial-view'),studentNameSelectionView=document[_0x176601(0x267)](_0x176601(0xb6b)),studentQuizArea=document[_0x176601(0x267)]('student-quiz-area'),studentResultArea=document['getElementById'](_0x176601(0x9a6)),studentReadingArea=document['getElementById'](_0x176601(0x73e)),loadQuizBtn=document[_0x176601(0x267)](_0x176601(0x7a0)),startQuizBtn=document['getElementById'](_0x176601(0x5cd)),studentJoinGameView=document['getElementById'](_0x176601(0x945)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document[_0x176601(0x267)](_0x176601(0x7f9)),moveQuizModal=document['getElementById'](_0x176601(0x743)),quizSettingsModal=document[_0x176601(0x267)](_0x176601(0xa1c)),quizStatusModal=document[_0x176601(0x267)]('quiz-status-modal'),liveGameView=document[_0x176601(0x267)](_0x176601(0x53b));function handleFixLessonLatex(){const _0x66e772=_0x176601,_0x930543=document[_0x66e772(0x267)](_0x66e772(0x4f6));if(!_0x930543){showMessage(_0x66e772(0x9a9));return;}const _0x3c8a6f=_0x930543[_0x66e772(0x6d4)]([_0x66e772(0x2b1),_0x66e772(0x683),'.ai-content\x20blockquote',_0x66e772(0x5ae),_0x66e772(0x98a)]['join'](','));let _0x4b7c01=0x0;const _0x5aa913=_0x25939f=>_0x25939f[_0x66e772(0x4c2)]||'',_0x55200c=(_0x35e5e1,_0x3e08c0)=>{const _0x383584=_0x66e772;if(_0x35e5e1[_0x383584(0x690)]&&_0x35e5e1['querySelector'](_0x383584(0xb08)))return;_0x35e5e1[_0x383584(0x4c2)]=_0x3e08c0;},_0x519e89=_0x125b8c=>_0x125b8c[_0x66e772(0x24a)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x66e772(0x24a)](/\r\n?/g,'\x0a'),_0x21756a=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x13836f=_0x84855d=>{const _0x35def4=_0x66e772;let _0x1e954d=_0x84855d[_0x35def4(0xa5f)]();const _0x3d4da5=[_0x35def4(0x33b),_0x35def4(0x42f),_0x35def4(0xa93),'sqrt',_0x35def4(0x648),_0x35def4(0x183),_0x35def4(0x5f2),_0x35def4(0x9a2),'leq',_0x35def4(0x580),'le','ge',_0x35def4(0xa01),'pm',_0x35def4(0x2f5),_0x35def4(0xbd2),_0x35def4(0x898),_0x35def4(0x5b2),_0x35def4(0x469),'ln','sum',_0x35def4(0x782),'binom','left',_0x35def4(0x187),_0x35def4(0x595),_0x35def4(0x25a),_0x35def4(0x710),'deg'];_0x3d4da5[_0x35def4(0x523)](_0xe0a095=>{const _0x5d5861=_0x35def4;_0x1e954d=_0x1e954d[_0x5d5861(0x24a)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0xe0a095+'\x5cb','g'),(_0x38a4bd,_0x24803c)=>_0x24803c+'\x5c'+_0xe0a095);});const _0x895b27=[[/×/g,'\x5ctimes'],[/·/g,_0x35def4(0x529)],[/÷/g,_0x35def4(0x76b)],[/≤/g,_0x35def4(0x7e8)],[/≥/g,_0x35def4(0x754)],[/≠/g,_0x35def4(0x478)],[/±/g,_0x35def4(0x287)],[/∑/g,_0x35def4(0x8b2)],[/−/g,'-']];return _0x895b27[_0x35def4(0x523)](([_0x250e46,_0x18eb62])=>{_0x1e954d=_0x1e954d['replace'](_0x250e46,_0x18eb62);}),_0x1e954d=_0x1e954d[_0x35def4(0x24a)](/√\s*([A-Za-z0-9]+)/g,_0x35def4(0x37c)),_0x1e954d=_0x1e954d[_0x35def4(0x24a)](/(\d+)\s*%/g,_0x35def4(0x6b3)),_0x1e954d;},_0x50454f=_0x4c4435=>{const _0x3e64b4=_0x66e772;if(/\$|\\\(|\\\[/[_0x3e64b4(0x54b)](_0x4c4435))return _0x4c4435;if(!_0x21756a['test'](_0x4c4435))return _0x4c4435;const _0x2e9564=_0x4c4435[_0x3e64b4(0x3dc)](/^\s*/)[0x0],_0x21f7ce=_0x4c4435[_0x3e64b4(0x3dc)](/\s*$/)[0x0],_0x48c577=_0x4c4435[_0x3e64b4(0xa5f)]();return _0x2e9564+'$'+_0x13836f(_0x48c577)+'$'+_0x21f7ce;};_0x3c8a6f[_0x66e772(0x523)](_0x53343e=>{const _0x115fee=_0x66e772,_0x5c7138=_0x5aa913(_0x53343e);let _0x4756a9=_0x519e89(_0x5c7138);_0x4756a9=_0x4756a9['replace'](/\$([^$]*?)\$/g,(_0x38bd16,_0x37f55c)=>'$'+_0x13836f(_0x37f55c)+'$');const _0x2f0193=_0x4756a9['split'](/(\s+)/),_0x122844=_0x2f0193[_0x115fee(0x697)](_0x3b7d2f=>{const _0x2cba43=_0x115fee;if(/\s+/[_0x2cba43(0x54b)](_0x3b7d2f))return _0x3b7d2f;return _0x50454f(_0x3b7d2f);});_0x4756a9=_0x122844[_0x115fee(0x706)](''),_0x4756a9!==_0x5c7138&&(_0x55200c(_0x53343e,_0x4756a9),_0x4b7c01++);});if(_0x4b7c01>0x0){showMessage(_0x66e772(0x447)+_0x4b7c01+_0x66e772(0x7ff));try{window[_0x66e772(0xb72)]&&MathJax['typesetPromise']&&MathJax[_0x66e772(0x5bf)]([_0x930543]);}catch(_0x625030){console[_0x66e772(0xa65)]('MathJax\x20re-render\x20failed:',_0x625030);}}else showMessage(_0x66e772(0xb51));}function handleAutoFixLatex(){const _0x3014e4=_0x176601,_0x574a2d=document[_0x3014e4(0x267)](_0x3014e4(0x714))||document,_0x50dc81=_0x574a2d[_0x3014e4(0x6d4)](_0x3014e4(0x57e));let _0x12b348=0x0;const _0x4493a7=_0x5dde98=>_0x3014e4(0x832)in _0x5dde98?String(_0x5dde98[_0x3014e4(0x832)]):_0x5dde98[_0x3014e4(0x3ee)]!==undefined?_0x5dde98[_0x3014e4(0x3ee)]:_0x5dde98[_0x3014e4(0x4c2)]||'',_0x5382e7=(_0x2450f1,_0x134980)=>{const _0x1d34f1=_0x3014e4;if(_0x1d34f1(0x832)in _0x2450f1){_0x2450f1[_0x1d34f1(0x832)]=_0x134980;return;}if(_0x2450f1[_0x1d34f1(0x690)]&&_0x2450f1[_0x1d34f1(0x690)]('mjx-container'))return;if(_0x2450f1[_0x1d34f1(0x3ee)]!==undefined)_0x2450f1[_0x1d34f1(0x3ee)]=_0x134980;else _0x2450f1[_0x1d34f1(0x4c2)]=_0x134980;},_0x4d1e32=_0x21d9e6=>_0x21d9e6[_0x3014e4(0x24a)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x3014e4(0x24a)](/\r\n?/g,'\x0a'),_0x1a2cc4=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x13c9de=_0x3b0b9f=>{const _0x5600d3=_0x3014e4;let _0x43cc3f=_0x3b0b9f[_0x5600d3(0xa5f)]();_0x43cc3f=_0x43cc3f['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x5600d3(0x9ae)),_0x43cc3f=_0x43cc3f[_0x5600d3(0x24a)](/\bfrac(\d)(\d)/g,_0x5600d3(0x9ae));const _0x263cf5=[_0x5600d3(0x33b),_0x5600d3(0x19d),_0x5600d3(0x183),_0x5600d3(0x5f2),_0x5600d3(0x9a2),_0x5600d3(0x352),_0x5600d3(0x580),_0x5600d3(0xa01),'pm',_0x5600d3(0xbd2),'cos',_0x5600d3(0x5b2),_0x5600d3(0x469),'ln'];_0x263cf5[_0x5600d3(0x523)](_0x4f2161=>{_0x43cc3f=_0x43cc3f['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4f2161+'\x5cb','g'),(_0x262e8c,_0x275021)=>_0x275021+'\x5c'+_0x4f2161);});const _0x409f00=[[/×/g,'\x5ctimes'],[/·/g,_0x5600d3(0x529)],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,_0x5600d3(0x754)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0x409f00[_0x5600d3(0x523)](([_0x3d1314,_0x1dda95])=>{const _0x9e8eaf=_0x5600d3;_0x43cc3f=_0x43cc3f[_0x9e8eaf(0x24a)](_0x3d1314,_0x1dda95);}),_0x43cc3f;},_0x25a0c2=_0x28dd5a=>{const _0x34f379=_0x3014e4;if(/\$|\\\(|\\\[/[_0x34f379(0x54b)](_0x28dd5a))return _0x28dd5a;if(!_0x1a2cc4[_0x34f379(0x54b)](_0x28dd5a))return _0x28dd5a;const _0x406589=_0x28dd5a['match'](/^\s*/)[0x0],_0x32c31f=_0x28dd5a[_0x34f379(0x3dc)](/\s*$/)[0x0],_0x1b10c8=_0x28dd5a[_0x34f379(0xa5f)]();return _0x406589+'$'+_0x13c9de(_0x1b10c8)+'$'+_0x32c31f;};_0x50dc81[_0x3014e4(0x523)](_0xdee011=>{const _0x45c930=_0x3014e4,_0x5c42f8=_0x4493a7(_0xdee011);let _0x4a67cd=_0x4d1e32(_0x5c42f8);_0x4a67cd=_0x4a67cd[_0x45c930(0x24a)](/\$([^$]*?)\$/g,(_0x3f539b,_0x51f921)=>'$'+_0x13c9de(_0x51f921)+'$');const _0x2912a2=_0x4a67cd['split'](/(\s+)/),_0x4dad7c=_0x2912a2[_0x45c930(0x697)](_0x5a4282=>/\s+/[_0x45c930(0x54b)](_0x5a4282)?_0x5a4282:_0x25a0c2(_0x5a4282));_0x4a67cd=_0x4dad7c[_0x45c930(0x706)](''),_0x4a67cd!==_0x5c42f8&&(_0x5382e7(_0xdee011,_0x4a67cd),_0x12b348++);});if(_0x12b348>0x0){showMessage(_0x3014e4(0x91d)+_0x12b348+'\x20จุด');try{if(window[_0x3014e4(0xb72)]&&MathJax[_0x3014e4(0x5bf)])MathJax[_0x3014e4(0x5bf)]();}catch(_0x1be33c){}}else showMessage(_0x3014e4(0xb38));}async function listenForCustomMathTopics(){const _0x4d0e3a=_0x176601,_0x101abc=collection(db,_0x4d0e3a(0x94a)+appId+_0x4d0e3a(0x5e3));onSnapshot(_0x101abc,_0x355864=>{const _0x48f783=_0x4d0e3a;customMathTopics=_0x355864[_0x48f783(0xbff)]['map'](_0x3be471=>({'id':_0x3be471['id'],..._0x3be471[_0x48f783(0xa77)]()})),renderTopicCheckboxes();},_0x2e0edc=>{const _0x125ce0=_0x4d0e3a;console[_0x125ce0(0xa65)](_0x125ce0(0x51b),_0x2e0edc);});}function handleSelectAllTopics(){const _0x16987b=_0x176601,_0x1a5b06=document['getElementById'](_0x16987b(0x893)),_0x49908e=_0x1a5b06['querySelectorAll'](_0x16987b(0x2aa));_0x49908e[_0x16987b(0x523)](_0x220cd9=>{const _0x54a5ba=_0x16987b;_0x220cd9[_0x54a5ba(0x6e2)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x5da3e4=_0x176601,_0x2d7a74=document[_0x5da3e4(0x267)](_0x5da3e4(0x893)),_0x5fd794=_0x2d7a74[_0x5da3e4(0x6d4)](_0x5da3e4(0x2aa));_0x5fd794['forEach'](_0x2fcebb=>{const _0x52544f=_0x5da3e4;_0x2fcebb[_0x52544f(0x6e2)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x37c47c){const _0x3d12d3=_0x176601;if(!_0x37c47c)return;try{const _0x47a7ee=doc(db,_0x3d12d3(0x94a)+appId+_0x3d12d3(0x5e3),_0x37c47c);await deleteDoc(_0x47a7ee),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x44d50b){console[_0x3d12d3(0xa65)]('Error\x20deleting\x20custom\x20topic:',_0x44d50b),showMessage(_0x3d12d3(0x3e1));}}async function handleAddCustomMathTopic(){const _0x3dd4cc=_0x176601,_0x29b619=document[_0x3dd4cc(0x267)](_0x3dd4cc(0xbce)),_0x5e417a=_0x29b619[_0x3dd4cc(0x832)][_0x3dd4cc(0xa5f)]();if(!_0x5e417a){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x3dd4cc(0xadd));return;}try{const _0x2f8c1f=collection(db,_0x3dd4cc(0x94a)+appId+_0x3dd4cc(0x5e3));await addDoc(_0x2f8c1f,{'name':_0x5e417a,'createdAt':serverTimestamp()}),_0x29b619[_0x3dd4cc(0x832)]='',showMessage(_0x3dd4cc(0x410)+_0x5e417a+_0x3dd4cc(0x88e));}catch(_0x1ce90e){console[_0x3dd4cc(0xa65)](_0x3dd4cc(0x607),_0x1ce90e),showMessage(_0x3dd4cc(0x3e0));}}async function handleUpdateOldQuizzes(){const _0x50b613=_0x176601;showConfirmation(_0x50b613(0x635),async()=>{const _0x40de29=_0x50b613,_0xac480c=document[_0x40de29(0x267)](_0x40de29(0xa7d)),_0x587235=document['getElementById'](_0x40de29(0x8d2)),_0x2890f1=_0x587235[_0x40de29(0x4c2)];_0xac480c['classList'][_0x40de29(0x167)](_0x40de29(0xbc7)),_0x587235[_0x40de29(0x4c2)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x5c0531=collection(db,'artifacts/'+appId+_0x40de29(0xb3f)),_0x2b1fe8=await getDocs(_0x5c0531);if(_0x2b1fe8[_0x40de29(0x6e6)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x2ff3e1=writeBatch(db);let _0x2fad29=0x0;_0x2b1fe8[_0x40de29(0x523)](_0xabcbf7=>{const _0x2fd03b=_0x40de29,_0x5a41e0=_0xabcbf7[_0x2fd03b(0xa77)](),_0x2de7f4=_0xabcbf7['id'];if(_0x5a41e0['questions']&&_0x5a41e0[_0x2fd03b(0x9ce)]['length']>0x0&&!_0x5a41e0[_0x2fd03b(0x9ce)][0x0][_0x2fd03b(0x9ba)]('id')){console['log'](_0x2fd03b(0x785)+_0x2de7f4+'\x20('+_0x5a41e0[_0x2fd03b(0x62b)]+')'),_0x2fad29++;const _0x54b953=_0x5a41e0[_0x2fd03b(0x9ce)]['map']((_0x106121,_0xa2ade0)=>{const _0x2994dd=_0x2fd03b;return{..._0x106121,'id':_0x106121['id']||'q_'+Date[_0x2994dd(0x937)]()+'_'+_0x2de7f4+'_'+_0xa2ade0};}),_0x255410=doc(db,_0x2fd03b(0x94a)+appId+_0x2fd03b(0xb3f),_0x2de7f4);_0x2ff3e1['update'](_0x255410,{'questions':_0x54b953});}}),_0x2fad29>0x0?(_0x587235[_0x40de29(0x4c2)]=_0x40de29(0x575)+_0x2fad29+_0x40de29(0x92c),await _0x2ff3e1[_0x40de29(0x202)](),showMessage(_0x40de29(0x709)+_0x2fad29+_0x40de29(0xae1))):showMessage(_0x40de29(0x3a4));}catch(_0x34283e){console[_0x40de29(0xa65)](_0x40de29(0x238),_0x34283e),showMessage(_0x40de29(0x452)+_0x34283e[_0x40de29(0x193)]);}finally{_0xac480c[_0x40de29(0x25c)][_0x40de29(0x8a5)]('hidden'),_0x587235[_0x40de29(0x4c2)]=_0x2890f1;}});}async function handleBulkUpdateQuizSettings(){const _0x4d4bc6=_0x176601,_0x41082d={'shuffle':document[_0x4d4bc6(0x267)](_0x4d4bc6(0xb03))[_0x4d4bc6(0x832)],'resultsDisplay':document[_0x4d4bc6(0x267)](_0x4d4bc6(0x21d))['value'],'loopUntilPass':document['getElementById']('bulk-loop-until-pass-checkbox')[_0x4d4bc6(0x6e2)],'isConfidenceScoringEnabled':document[_0x4d4bc6(0x267)](_0x4d4bc6(0x462))[_0x4d4bc6(0x6e2)],'confidenceMode':document[_0x4d4bc6(0x267)](_0x4d4bc6(0xb39))[_0x4d4bc6(0x832)]};try{showMessage(_0x4d4bc6(0x98d));const _0x46bd8b=await getDocs(collection(db,_0x4d4bc6(0x94a)+appId+_0x4d4bc6(0xb3f))),_0x4b08ff=_0x46bd8b['docs'][_0x4d4bc6(0x697)](_0x12dbc6=>({'id':_0x12dbc6['id'],'data':_0x12dbc6[_0x4d4bc6(0xa77)]()})),_0x31d1f9=_0x4b08ff[_0x4d4bc6(0x2c7)];showConfirmation(_0x4d4bc6(0xbfe)+_0x31d1f9+_0x4d4bc6(0x826),async()=>{const _0x385e89=_0x4d4bc6,_0x5ffbbb=document[_0x385e89(0x267)]('confirm-bulk-quiz-settings-btn');_0x5ffbbb['disabled']=!![],_0x5ffbbb[_0x385e89(0xab8)]=_0x385e89(0x805);try{const _0x3418cf=writeBatch(db);_0x4b08ff[_0x385e89(0x523)](_0x306738=>{const _0x4c126e=_0x385e89,_0x563781=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x306738['id']),_0x257fc5={..._0x306738[_0x4c126e(0xa77)][_0x4c126e(0x8e6)]||{},..._0x41082d};_0x3418cf['update'](_0x563781,{'settings':_0x257fc5});}),await _0x3418cf[_0x385e89(0x202)](),document[_0x385e89(0x267)](_0x385e89(0x408))[_0x385e89(0x25c)]['add'](_0x385e89(0xbc7)),showMessage(_0x385e89(0xaf7)+_0x31d1f9+_0x385e89(0x88b));}catch(_0x48c49f){console[_0x385e89(0xa65)](_0x385e89(0xb88),_0x48c49f),showMessage(_0x385e89(0x1fb));}finally{_0x5ffbbb['disabled']=![],_0x5ffbbb[_0x385e89(0xab8)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x276d97){console['error']('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x276d97),showMessage(_0x4d4bc6(0x7fd));}}async function handleSaveProjectName(){const _0x9cca03=_0x176601,_0x4f49c9=document['getElementById'](_0x9cca03(0x751)),_0x2e8508=document[_0x9cca03(0x267)](_0x9cca03(0x4cf)),_0x3b65d1=_0x4f49c9['textContent']['trim']();if(!_0x3b65d1||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x4f49c9['textContent']=currentProjectData['projectName'];return;}_0x2e8508[_0x9cca03(0x76a)]=!![],_0x2e8508[_0x9cca03(0xab8)]=_0x9cca03(0x32d);try{const _0x2fc4ac=doc(db,'artifacts/'+appId+_0x9cca03(0x32c),currentProjectId);await updateDoc(_0x2fc4ac,{'projectName':_0x3b65d1}),currentProjectData&&(currentProjectData[_0x9cca03(0x2ea)]=_0x3b65d1),showMessage(_0x9cca03(0x1ba));}catch(_0x32c741){console[_0x9cca03(0xa65)]('Error\x20updating\x20project\x20name:',_0x32c741),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x4f49c9[_0x9cca03(0x4c2)]=currentProjectData[_0x9cca03(0x2ea)];}finally{_0x2e8508[_0x9cca03(0x25c)][_0x9cca03(0x8a5)]('hidden'),_0x2e8508['disabled']=![],_0x2e8508[_0x9cca03(0xab8)]=_0x9cca03(0x5ed);}}function handleGeneratePracticeTest(_0x2e82db,_0x1683ac){const _0x406a46=_0x176601,_0x107609=document[_0x406a46(0x267)](_0x406a46(0xb69)),_0x112899=document[_0x406a46(0x267)]('lesson-view-title'),_0x10897c=document[_0x406a46(0x267)](_0x406a46(0x4a9)),_0xc80873=document[_0x406a46(0x267)](_0x406a46(0x404));_0x112899['textContent']='กำลังสร้างแบบทดสอบ:\x20'+_0x2e82db,_0xc80873[_0x406a46(0x25c)][_0x406a46(0x8a5)](_0x406a46(0xbc7)),_0x10897c[_0x406a46(0x25c)][_0x406a46(0x167)](_0x406a46(0xbc7)),_0x107609['classList'][_0x406a46(0x167)](_0x406a46(0xbc7)),generatePracticeTest(_0x2e82db,_0x1683ac)['catch'](_0x267743=>{const _0x448fb0=_0x406a46;console['error'](_0x448fb0(0x32f),_0x267743),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x107609['classList'][_0x448fb0(0x8a5)](_0x448fb0(0xbc7));});}async function generatePracticeTest(_0x16c11a,_0xf2d6ee){const _0x81b4ec=_0x176601;[_0x81b4ec(0xab0),_0x81b4ec(0x6a2),_0x81b4ec(0xbc2),_0x81b4ec(0x450)][_0x81b4ec(0x523)](_0x42d4fa=>{const _0x424a8b=_0x81b4ec,_0x48f16e=document[_0x424a8b(0x267)](_0x42d4fa)['parentElement'];_0x48f16e&&(_0x48f16e[_0x424a8b(0x58e)][_0x424a8b(0x5a6)]=_0x424a8b(0x201));});try{const _0x5a309b=_0x81b4ec(0x45b),_0x1260ce=_0x81b4ec(0x77f)+_0xf2d6ee+_0x81b4ec(0xb3c)+_0x16c11a+_0x81b4ec(0x851),_0x373a68=await callGemini(_0x1260ce,!![]),_0x1a842a=document['getElementById'](_0x81b4ec(0x9a0)),_0x4f0726=document[_0x81b4ec(0x267)](_0x81b4ec(0x4a9)),_0x533b5d=document[_0x81b4ec(0x267)](_0x81b4ec(0x404)),_0x44c76d=document[_0x81b4ec(0x267)](_0x81b4ec(0xbc2))[_0x81b4ec(0xb7a)];_0x1a842a[_0x81b4ec(0x3ee)]=_0x81b4ec(0x63f)+_0x16c11a[_0x81b4ec(0x24a)](/•\s/g,'')+_0x81b4ec(0x6dd)+_0xf2d6ee+')',currentApplicationData=JSON['parse'](_0x373a68);const _0x530e13=document['getElementById']('applicationContent');_0x530e13[_0x81b4ec(0xab8)]=currentApplicationData[_0x81b4ec(0x697)]((_0x3802e8,_0x299558)=>_0x81b4ec(0x56c)+(_0x299558+0x1)+'.\x20'+marked['parseInline'](_0x3802e8['question'])+_0x81b4ec(0x801)+_0x299558+_0x81b4ec(0xab4)+_0x3802e8[_0x81b4ec(0x61a)][_0x81b4ec(0x697)]((_0xf73c7,_0x4c0462)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x299558+',\x20'+_0x4c0462+')\x22>'+String[_0x81b4ec(0x8a2)](0x61+_0x4c0462)+'.\x20'+marked[_0x81b4ec(0x7b4)](_0xf73c7)+_0x81b4ec(0x68f))[_0x81b4ec(0x706)]('')+_0x81b4ec(0x4f4))[_0x81b4ec(0x706)](''),window[_0x81b4ec(0xb72)]&&MathJax[_0x81b4ec(0x5bf)]([_0x530e13]),_0x44c76d&&(_0x44c76d[_0x81b4ec(0x58e)][_0x81b4ec(0x5a6)]=_0x81b4ec(0x8ac)),_0x4f0726[_0x81b4ec(0x25c)][_0x81b4ec(0x8a5)](_0x81b4ec(0xbc7)),_0x533b5d[_0x81b4ec(0x25c)]['remove']('hidden');}catch(_0x4a83e9){console['error'](_0x4a83e9);throw _0x4a83e9;}}async function callGemini(_0x35af0d,_0x2de909=![]){const _0xca6a45=_0x176601,_0x1648b2=_0xca6a45(0x4ef),_0x39cbda=_0xca6a45(0xb2b)+_0x1648b2,_0xd5223c={'contents':[{'parts':[{'text':_0x35af0d}]}]};_0x2de909&&(_0xd5223c['generationConfig']={'responseMimeType':_0xca6a45(0x95a)},_0x35af0d['includes'](_0xca6a45(0x372))?_0xd5223c[_0xca6a45(0xabf)][_0xca6a45(0x6fd)]={'type':_0xca6a45(0x9f7),'properties':{'gradeLevel':{'type':_0xca6a45(0x5fb)},'curriculum':{'type':_0xca6a45(0x876),'items':{'type':_0xca6a45(0x9f7),'properties':{'sara':{'type':_0xca6a45(0x5fb)},'mainTopics':{'type':_0xca6a45(0x876),'items':{'type':_0xca6a45(0x9f7),'properties':{'topicName':{'type':_0xca6a45(0x5fb)},'subTopics':{'type':'ARRAY','items':{'type':_0xca6a45(0x5fb)}}},'required':[_0xca6a45(0x7f0),_0xca6a45(0x582)]}}},'required':[_0xca6a45(0xc0a),_0xca6a45(0xaee)]}}},'required':[_0xca6a45(0xb29),_0xca6a45(0x304)]}:_0xd5223c['generationConfig']['responseSchema']={'type':_0xca6a45(0x876),'items':{'type':_0xca6a45(0x9f7),'properties':{'question':{'type':_0xca6a45(0x5fb)},'options':{'type':'ARRAY','items':{'type':_0xca6a45(0x5fb)}},'answer':{'type':'NUMBER'}},'required':[_0xca6a45(0x6a1),_0xca6a45(0x61a),_0xca6a45(0x2bf)]}});try{const _0x21dea0=await fetch(_0x39cbda,{'method':_0xca6a45(0x176),'headers':{'Content-Type':_0xca6a45(0x95a)},'body':JSON[_0xca6a45(0xbe7)](_0xd5223c)});if(!_0x21dea0['ok']){const _0x524cd2=await _0x21dea0['text']();console[_0xca6a45(0xa65)]('API\x20Error\x20Body:',_0x524cd2);throw new Error(_0xca6a45(0x7c6)+_0x21dea0[_0xca6a45(0x471)]);}const _0x303108=await _0x21dea0[_0xca6a45(0xb75)]();if(_0x303108['candidates']&&_0x303108[_0xca6a45(0x197)][0x0][_0xca6a45(0x50c)]&&_0x303108[_0xca6a45(0x197)][0x0][_0xca6a45(0x50c)][_0xca6a45(0x52c)][0x0])return _0x303108[_0xca6a45(0x197)][0x0][_0xca6a45(0x50c)]['parts'][0x0][_0xca6a45(0x648)];else{console['error'](_0xca6a45(0x221),_0x303108);if(_0x303108[_0xca6a45(0x197)]&&_0x303108[_0xca6a45(0x197)][0x0][_0xca6a45(0x24f)]===_0xca6a45(0x1b9))return JSON[_0xca6a45(0xbe7)]({'error':_0xca6a45(0x34d)});throw new Error(_0xca6a45(0x236));}}catch(_0x5636e3){console[_0xca6a45(0xa65)](_0xca6a45(0x597),_0x5636e3);throw _0x5636e3;}}async function generateLesson(_0x11cdab=null,_0x16abd2=null){const _0x52e52c=_0x176601,_0x10517d=_0x11cdab,_0x2aa970=_0x16abd2||_0x52e52c(0x72c),_0x3e1d17=document[_0x52e52c(0x267)](_0x52e52c(0x4a9)),_0xc1fe6d=document['getElementById'](_0x52e52c(0x2d5));_0xc1fe6d['textContent']=_0x52e52c(0x3fe)+_0x10517d+'\x22...';try{const _0xd8cf02=_0x52e52c(0x2cd),_0x5c2b45=_0x52e52c(0x7c3)+_0x2aa970+_0x52e52c(0xb3c)+_0x10517d+_0x52e52c(0x86a)+_0xd8cf02+_0x52e52c(0xa4d),_0x4cf582=_0x52e52c(0xb96)+_0x10517d+_0x52e52c(0x7e1)+_0x2aa970+_0x52e52c(0x767)+_0xd8cf02+_0x52e52c(0x2a5),_0x3847aa=_0x52e52c(0x77f)+_0x2aa970+_0x52e52c(0xb3c)+_0x10517d+_0x52e52c(0x3b3),_0x431d3b=_0x52e52c(0x992)+_0x10517d+_0x52e52c(0x577)+_0x2aa970+_0x52e52c(0xba0)+_0xd8cf02+_0x52e52c(0xb81),[_0x2c0001,_0x34cb1b,_0x24979a,_0x19c912]=await Promise[_0x52e52c(0x75d)]([callGemini(_0x5c2b45),callGemini(_0x4cf582),callGemini(_0x3847aa,!![]),callGemini(_0x431d3b)]),_0x2415c1=document[_0x52e52c(0x267)](_0x52e52c(0x9a0)),_0x4bfa55=document[_0x52e52c(0x267)]('lesson-sections-container');_0x2415c1[_0x52e52c(0x3ee)]=_0x52e52c(0x2a8)+_0x10517d[_0x52e52c(0x24a)](/•\s/g,'')+_0x52e52c(0x6dd)+_0x2aa970+')',[_0x52e52c(0xab0),_0x52e52c(0x6a2),_0x52e52c(0x450)][_0x52e52c(0x523)](_0x262919=>{const _0x48b4a2=_0x52e52c;document['getElementById'](_0x262919)[_0x48b4a2(0xab8)]='';}),document[_0x52e52c(0x267)](_0x52e52c(0xab0))[_0x52e52c(0xab8)]=marked['parse'](_0x2c0001),document[_0x52e52c(0x267)](_0x52e52c(0x6a2))['innerHTML']=marked[_0x52e52c(0xbe0)](_0x34cb1b),document[_0x52e52c(0x267)](_0x52e52c(0x450))['innerHTML']=marked[_0x52e52c(0xbe0)](_0x19c912),currentApplicationData=JSON[_0x52e52c(0xbe0)](_0x24979a);const _0x4f015b=document[_0x52e52c(0x267)](_0x52e52c(0xbc2));_0x4f015b[_0x52e52c(0xab8)]=currentApplicationData[_0x52e52c(0x697)]((_0x4c78d2,_0x1941a9)=>_0x52e52c(0x56c)+(_0x1941a9+0x1)+'.\x20'+marked['parseInline'](_0x4c78d2[_0x52e52c(0x6a1)])+_0x52e52c(0x801)+_0x1941a9+_0x52e52c(0xab4)+_0x4c78d2[_0x52e52c(0x61a)][_0x52e52c(0x697)]((_0x22c798,_0x2f1310)=>_0x52e52c(0x3cd)+_0x1941a9+',\x20'+_0x2f1310+')\x22>'+String['fromCharCode'](0x61+_0x2f1310)+'.\x20'+marked[_0x52e52c(0x7b4)](_0x22c798)+_0x52e52c(0x68f))['join']('')+_0x52e52c(0x4f4))[_0x52e52c(0x706)](''),window[_0x52e52c(0xb72)]&&MathJax[_0x52e52c(0x5bf)]([_0x4bfa55]),_0x3e1d17['classList'][_0x52e52c(0x8a5)](_0x52e52c(0xbc7)),_0x4bfa55['classList']['remove'](_0x52e52c(0xbc7));}catch(_0x390204){console[_0x52e52c(0xa65)](_0x390204);throw _0x390204;}finally{}}function checkAnswer(_0x229658,_0xe476e){const _0x22051f=_0x176601,_0x514017=currentApplicationData[_0x229658],_0x26a917=document[_0x22051f(0x267)]('q'+_0x229658+_0x22051f(0x3fb)),_0x6e39d9=_0x26a917[_0x22051f(0x4bb)](_0x22051f(0x836));for(let _0x1e3802 of _0x6e39d9){_0x1e3802[_0x22051f(0x76a)]=!![];}_0xe476e===_0x514017[_0x22051f(0x2bf)]?_0x6e39d9[_0xe476e]['classList'][_0x22051f(0x8a5)]('correct'):(_0x6e39d9[_0xe476e][_0x22051f(0x25c)]['add']('incorrect'),_0x6e39d9[_0x514017[_0x22051f(0x2bf)]][_0x22051f(0x25c)][_0x22051f(0x8a5)](_0x22051f(0x5ca)));}window[_0x176601(0x2d1)]=handleGenerateAndShowLesson,window[_0x176601(0x669)]=checkAnswer,window[_0x176601(0x87c)]=handleGeneratePracticeTest,window[_0x176601(0x6bb)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x54b664=_0x176601;try{const _0x39edc3=initializeApp(firebaseConfig);db=getFirestore(_0x39edc3),auth=getAuth(_0x39edc3),setupAuthListener(),setupEventListeners(),showView(_0x54b664(0x1de)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x28ef3f){console[_0x54b664(0xa65)](_0x54b664(0x324),_0x28ef3f),showMessage(_0x54b664(0x88d));}}async function handleVerifyAnswersInEditor(){const _0x2b724a=_0x176601,_0x264de7=document['getElementById'](_0x2b724a(0x6c9));if(!_0x264de7)return;const _0xb0c911=document[_0x2b724a(0x267)](_0x2b724a(0x4de));_0xb0c911[_0x2b724a(0x76a)]=!![],_0xb0c911['innerHTML']=_0x2b724a(0xa1e);try{const _0x1d85cc=_0x264de7[_0x2b724a(0x6d4)](_0x2b724a(0x281)),_0x20ca8c=Array[_0x2b724a(0x6d9)](_0x1d85cc)[_0x2b724a(0x697)]((_0x27da4b,_0x473979)=>{const _0x4ad5b6=_0x2b724a,_0x38834c=_0x27da4b[_0x4ad5b6(0x89d)][_0x4ad5b6(0x459)],_0x5b9af0=_0x27da4b['querySelector'](_0x4ad5b6(0x2ef))[_0x4ad5b6(0x832)];let _0x1debd9=null,_0x43a4d1='';switch(_0x38834c){case'multiple_choice':const _0x51980b=_0x27da4b[_0x4ad5b6(0x6d4)](_0x4ad5b6(0x19b));_0x1debd9=Array[_0x4ad5b6(0x6d9)](_0x51980b)[_0x4ad5b6(0x697)](_0x4e035f=>_0x4e035f[_0x4ad5b6(0x832)]);const _0x53ca29=_0x27da4b[_0x4ad5b6(0x690)]('input[type=\x22radio\x22]:checked');_0x53ca29&&(_0x43a4d1=_0x1debd9[parseInt(_0x53ca29[_0x4ad5b6(0x832)])]);break;case _0x4ad5b6(0x477):_0x43a4d1=_0x27da4b[_0x4ad5b6(0x690)]('.ideal-answer-input')[_0x4ad5b6(0x832)];break;case _0x4ad5b6(0x9c7):const _0x287353=_0x27da4b[_0x4ad5b6(0x690)](_0x4ad5b6(0x806));_0x43a4d1=_0x287353?_0x287353['value']:'';break;case _0x4ad5b6(0x4ed):_0x43a4d1=_0x27da4b[_0x4ad5b6(0x690)]('.correct-response-input')[_0x4ad5b6(0x832)];break;}return{'question':_0x5b9af0,'options':_0x1debd9,'proposedAnswer':_0x43a4d1};}),_0x4b9e9b=_0x2b724a(0xa94)+JSON[_0x2b724a(0xbe7)](_0x20ca8c)+_0x2b724a(0xa28),_0x32d931={'type':_0x2b724a(0x876),'items':{'type':_0x2b724a(0x9f7),'properties':{'questionIndex':{'type':_0x2b724a(0x1a9)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x2b724a(0x5fb)},'suggestedAnswer':{'type':_0x2b724a(0x5fb)}},'required':[_0x2b724a(0x3b1),_0x2b724a(0x26e),_0x2b724a(0xab2)]}},_0xcdfabf=await callAnalysisApi(_0x4b9e9b,{'type':'OBJECT','properties':{'result':_0x32d931},'required':[_0x2b724a(0xa52)]});displayVerificationResultsInEditor(_0xcdfabf[_0x2b724a(0xa52)]);}catch(_0x5c8cc9){console[_0x2b724a(0xa65)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x5c8cc9),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0xb0c911[_0x2b724a(0x76a)]=![],_0xb0c911[_0x2b724a(0xab8)]=_0x2b724a(0x777);}}function displayVerificationResultsInEditor(_0x5d6a16){const _0x35c6b2=_0x176601;_0x5d6a16[_0x35c6b2(0x523)](_0x9a007e=>{const _0x18c7d8=_0x35c6b2,_0x19562f=document[_0x18c7d8(0x690)](_0x18c7d8(0x49f)+_0x9a007e[_0x18c7d8(0x3b1)]+'\x22]');if(!_0x19562f)return;const _0x25e9e2=_0x19562f['querySelector'](_0x18c7d8(0x93f));if(_0x25e9e2)_0x25e9e2[_0x18c7d8(0x167)]();let _0x1e0e71='';if(_0x9a007e['isCorrect'])_0x1e0e71=_0x18c7d8(0x1d0);else{const _0x10834c=_0x9a007e[_0x18c7d8(0xbd3)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x1e0e71='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x10834c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x9a007e[_0x18c7d8(0xab2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x9a007e[_0x18c7d8(0xbd3)]?_0x18c7d8(0xa31)+_0x9a007e[_0x18c7d8(0xbd3)]+_0x18c7d8(0xa5b):'')+_0x18c7d8(0x77a);}_0x19562f['insertAdjacentHTML'](_0x18c7d8(0x873),_0x1e0e71);if(!_0x9a007e['isCorrect']&&_0x9a007e[_0x18c7d8(0xbd3)]){const _0x1ef12f=_0x19562f[_0x18c7d8(0x89d)][_0x18c7d8(0x459)],_0x32df8a=_0x23ce06=>{const _0x5e3cbb=_0x18c7d8;if(!_0x23ce06)return;_0x23ce06[_0x5e3cbb(0x25c)][_0x5e3cbb(0x8a5)](_0x5e3cbb(0x4a4),_0x5e3cbb(0x2fe),_0x5e3cbb(0x9be)),setTimeout(()=>{const _0x34bac8=_0x5e3cbb;_0x23ce06[_0x34bac8(0x25c)][_0x34bac8(0x167)](_0x34bac8(0x4a4));},0x9c4);};if(_0x1ef12f==='multiple_choice'){const _0x406f54=Array[_0x18c7d8(0x6d9)](_0x19562f[_0x18c7d8(0x6d4)]('input[type=\x22text\x22]')),_0x54388a=_0x406f54['findIndex'](_0x5dc4f6=>_0x5dc4f6['value'][_0x18c7d8(0xa5f)]()[_0x18c7d8(0x280)]()===_0x9a007e[_0x18c7d8(0xbd3)][_0x18c7d8(0xa5f)]()[_0x18c7d8(0x280)]());if(_0x54388a!==-0x1){const _0xadc5e1=_0x19562f[_0x18c7d8(0x690)](_0x18c7d8(0x297)+_0x54388a+'\x22]');_0xadc5e1&&(_0xadc5e1[_0x18c7d8(0x6e2)]=!![],_0x32df8a(_0xadc5e1['closest'](_0x18c7d8(0x9a2))));}}else{if(_0x1ef12f===_0x18c7d8(0x477)||_0x1ef12f===_0x18c7d8(0x4ed)){const _0x2165a8=_0x19562f[_0x18c7d8(0x690)](_0x18c7d8(0x693));_0x2165a8&&(_0x2165a8[_0x18c7d8(0x832)]=_0x9a007e['suggestedAnswer'],_0x32df8a(_0x2165a8));}else{if(_0x1ef12f===_0x18c7d8(0x9c7)){const _0x5abe08=_0x9a007e[_0x18c7d8(0xbd3)][_0x18c7d8(0xa5f)]()[_0x18c7d8(0x280)](),_0x51ee6b=_0x19562f['querySelector'](_0x18c7d8(0x297)+_0x5abe08+'\x22]');_0x51ee6b&&(_0x51ee6b[_0x18c7d8(0x6e2)]=!![],_0x32df8a(_0x51ee6b['closest']('div')));}}}}}),showMessage(_0x35c6b2(0x3c9));}async function handleVerifyAnswers(){const _0x2b11dd=_0x176601;if(!currentQuizData||!currentQuizData[_0x2b11dd(0x9ce)]){showMessage(_0x2b11dd(0x295));return;}const _0x3cc408=document[_0x2b11dd(0x267)](_0x2b11dd(0x8cd));_0x3cc408[_0x2b11dd(0x76a)]=!![],_0x3cc408[_0x2b11dd(0xab8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x50ceeb=currentQuizData['questions'][_0x2b11dd(0x697)]((_0x1c0e61,_0x3a2c73)=>{const _0x329360=_0x2b11dd;let _0x3c7e49='';const _0x13862b=_0x1c0e61[_0x329360(0x9c3)]||currentQuizData[_0x329360(0x84e)];switch(_0x13862b){case _0x329360(0x3e7):_0x3c7e49=_0x1c0e61[_0x329360(0x61a)][_0x1c0e61[_0x329360(0x1f1)]];break;case _0x329360(0x477):_0x3c7e49=_0x1c0e61[_0x329360(0x3be)];break;case'true_false':_0x3c7e49=_0x1c0e61[_0x329360(0xb9b)]['toString']();break;case _0x329360(0x4ed):_0x3c7e49=_0x1c0e61[_0x329360(0x6a9)];break;}return{'question':_0x1c0e61['stem']||_0x1c0e61['questionText'],'options':_0x1c0e61['options']||null,'proposedAnswer':_0x3c7e49};}),_0x46449d=_0x2b11dd(0x872)+JSON[_0x2b11dd(0xbe7)](_0x50ceeb)+_0x2b11dd(0x94f),_0x1bfe08={'type':'ARRAY','items':{'type':_0x2b11dd(0x9f7),'properties':{'questionIndex':{'type':_0x2b11dd(0x1a9)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x2b11dd(0x5fb)},'suggestedAnswer':{'type':_0x2b11dd(0x5fb)}},'required':['questionIndex','isCorrect','justification']}},_0x34090b=await callAnalysisApi(_0x46449d,{'type':_0x2b11dd(0x9f7),'properties':{'result':_0x1bfe08},'required':['result']});displayVerificationResults(_0x34090b['result']);}catch(_0x352253){console['error'](_0x2b11dd(0x561),_0x352253),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3cc408[_0x2b11dd(0x76a)]=![],_0x3cc408['innerHTML']=_0x2b11dd(0xaa9);}}function displayVerificationResults(_0x29d670){_0x29d670['forEach'](_0x44b03f=>{const _0x47b03d=_0x1728,_0xcfe543=document['querySelector'](_0x47b03d(0x726)+_0x44b03f['questionIndex']+'\x22]');if(_0xcfe543){const _0x8d7587=_0xcfe543['querySelector'](_0x47b03d(0x8f6));if(_0x8d7587)_0x8d7587[_0x47b03d(0x167)]();let _0x54cd2c='';_0x44b03f[_0x47b03d(0x26e)]?_0x54cd2c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x54cd2c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x44b03f[_0x47b03d(0xab2)]+_0x47b03d(0x6a6)+(_0x44b03f[_0x47b03d(0xbd3)]?_0x47b03d(0xa31)+_0x44b03f[_0x47b03d(0xbd3)]+_0x47b03d(0xa5b):'')+_0x47b03d(0xa82),_0xcfe543['insertAdjacentHTML'](_0x47b03d(0x873),_0x54cd2c);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x50952e,_0x35c8fe){const _0x2b594b=_0x176601,_0x17179b=String(_0x50952e)[_0x2b594b(0x24a)](',','.')[_0x2b594b(0x24a)](/[^\d.-]/g,'')[_0x2b594b(0xa5f)](),_0x2173c7=String(_0x35c8fe)[_0x2b594b(0x24a)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x17179b===''||_0x2173c7==='')return![];const _0x1444f5=parseFloat(_0x17179b),_0x2e47ca=parseFloat(_0x2173c7);if(isNaN(_0x1444f5)||isNaN(_0x2e47ca))return![];return Math['abs'](_0x1444f5-_0x2e47ca)<0.001;}function isPotentiallyNumeric(_0x104cb8){const _0x3c3ca4=_0x176601;if(typeof _0x104cb8!==_0x3c3ca4(0x7c7)&&typeof _0x104cb8!=='number')return![];const _0x3ec0fa=String(_0x104cb8)[_0x3c3ca4(0x24a)](',','.')[_0x3c3ca4(0xa5f)]();return _0x3ec0fa!==''&&!isNaN(parseFloat(_0x3ec0fa))&&isFinite(_0x3ec0fa);}async function gradeShortAnswer(_0x5d7b71,_0x318050){const _0x11190e=_0x176601,_0x5b267b=_0x318050[_0x11190e(0x3be)],_0x7c43ec=String(_0x5d7b71)[_0x11190e(0x24a)](/\$/g,'')[_0x11190e(0xa5f)](),_0xf8f692=String(_0x5b267b)[_0x11190e(0x24a)](/\$/g,'')[_0x11190e(0xa5f)]();if(_0x7c43ec[_0x11190e(0x280)]()===_0xf8f692[_0x11190e(0x280)]())return!![];if(isPotentiallyNumeric(_0x7c43ec)&&isPotentiallyNumeric(_0xf8f692)){if(compareNumericalAnswers(_0x7c43ec,_0xf8f692))return!![];}return console['log'](_0x11190e(0x344)),await gradeShortAnswerWithAI(_0x5d7b71,_0x5b267b);}async function revealAnswerForAdmin(_0xd6735,_0x5ebf23){const _0x3a8c42=_0x176601,_0x55b01a=doc(db,'artifacts/'+appId+_0x3a8c42(0x81a),currentLiveGameId);await updateDoc(_0x55b01a,{'questionStatus':_0x3a8c42(0x557)});}function showTop5LeaderboardView(_0x30d984){const _0x5934a5=_0x176601,_0x44e2ee=Object['values'](_0x30d984['players']||{})[_0x5934a5(0xb79)](_0x36a02b=>_0x36a02b[_0x5934a5(0x471)]===_0x5934a5(0x866));_0x44e2ee[_0x5934a5(0x953)]((_0x4d2f81,_0x249b97)=>_0x249b97['score']-_0x4d2f81[_0x5934a5(0x34f)]);const _0x3d8cce=_0x44e2ee['slice'](0x0,0x5),_0x157d8a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d8cce[_0x5934a5(0x697)]((_0x66835b,_0x445e0a)=>_0x5934a5(0xb14)+(_0x445e0a+0x1)+'.\x20'+(_0x66835b[_0x5934a5(0x6be)]||Object[_0x5934a5(0x966)](_0x30d984[_0x5934a5(0x3e4)])[_0x5934a5(0x70b)](_0x19d388=>_0x30d984['players'][_0x19d388]===_0x66835b))+_0x5934a5(0x2a3)+_0x66835b[_0x5934a5(0x34f)]+_0x5934a5(0x95e))[_0x5934a5(0x706)]('')+_0x5934a5(0x504)+(_0x30d984[_0x5934a5(0x8d0)]+0x1===currentQuizData['questions'][_0x5934a5(0x2c7)]?_0x5934a5(0x17d):_0x5934a5(0xa96))+_0x5934a5(0x349);liveGameView['innerHTML']=_0x157d8a,document['getElementById'](_0x5934a5(0xb2f))[_0x5934a5(0xbb9)](_0x5934a5(0x292),async()=>{const _0x24aefd=_0x5934a5,_0x4d37e8=doc(db,_0x24aefd(0x94a)+appId+_0x24aefd(0x81a),currentLiveGameId),_0x1e28c2=_0x30d984[_0x24aefd(0x8d0)]+0x1;if(_0x1e28c2<currentQuizData[_0x24aefd(0x9ce)][_0x24aefd(0x2c7)]){const _0x57743a={'currentQuestionIndex':_0x1e28c2,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x24aefd(0x250)};Object[_0x24aefd(0x966)](_0x30d984[_0x24aefd(0x3e4)])['forEach'](_0x2604fc=>{const _0x5474cd=_0x24aefd;_0x57743a[_0x5474cd(0x8ef)+_0x2604fc+_0x5474cd(0x870)]=![];}),await updateDoc(_0x4d37e8,_0x57743a);}else await updateDoc(_0x4d37e8,{'status':_0x24aefd(0x261)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1047a0=>{const _0x2cd54b=_0x1728;if(_0x1047a0){userId=_0x1047a0[_0x2cd54b(0xa08)],userIdDisplay[_0x2cd54b(0x4c2)]=userId;const _0x7905d6=await loadUserPreferences();_0x7905d6['projectSortOrder']&&(document[_0x2cd54b(0x267)]('project-sort-select')[_0x2cd54b(0x832)]=_0x7905d6['projectSortOrder']);globalDashboardSettings[_0x2cd54b(0x66e)]=_0x7905d6[_0x2cd54b(0x66e)]||_0x2cd54b(0x4ab);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x363f2b,_0x161e8c){const _0x52fd90=_0x176601;if(!userId)return;try{const _0xf1a929=doc(db,_0x52fd90(0x94a)+appId+'/users/'+userId+_0x52fd90(0x5e8)),_0x35cbb0={};_0x35cbb0[_0x363f2b]=_0x161e8c,await setDoc(_0xf1a929,_0x35cbb0,{'merge':!![]});}catch(_0xf75714){console['error'](_0x52fd90(0xb45),_0xf75714);}}async function loadUserPreferences(){const _0x13d90f=_0x176601;if(!userId)return{};try{const _0x4271df=doc(db,_0x13d90f(0x94a)+appId+_0x13d90f(0x65a)+userId+_0x13d90f(0x5e8)),_0xa5eedc=await getDoc(_0x4271df);if(_0xa5eedc[_0x13d90f(0x4b5)]())return _0xa5eedc['data']();return{};}catch(_0x342577){return console[_0x13d90f(0xa65)](_0x13d90f(0x257),_0x342577),{};}}function parseIndentedBlueprint(_0x3b0453){const _0x32912d=_0x3b0453['split']('\x0a')['filter'](_0x85fe5b=>_0x85fe5b['trim']()!==''),_0x5ed257=[];let _0x1ecd7f=null,_0x1c9fcc=null;return _0x32912d['forEach'](_0x250c73=>{const _0x370184=_0x1728,_0x13dbd2=_0x250c73['match'](/^\s*/)[0x0][_0x370184(0x2c7)],_0x1161de=_0x250c73[_0x370184(0xa5f)]();if(_0x13dbd2===0x0)_0x1ecd7f={'sara':_0x1161de,'mainTopics':[]},_0x5ed257[_0x370184(0x92e)](_0x1ecd7f),_0x1c9fcc=null;else{if(_0x13dbd2>0x0&&_0x13dbd2<0x8&&_0x1ecd7f)_0x1c9fcc={'topicName':_0x1161de,'subTopics':[]},_0x1ecd7f[_0x370184(0xaee)][_0x370184(0x92e)](_0x1c9fcc);else _0x13dbd2>=0x8&&_0x1c9fcc&&_0x1c9fcc[_0x370184(0x582)][_0x370184(0x92e)](_0x1161de);}}),{'curriculum':_0x5ed257};}async function handleManualBlueprintSave(){const _0x741246=_0x176601,_0x33f7ca=document[_0x741246(0x267)]('manual-bp-project-name')[_0x741246(0x832)][_0x741246(0xa5f)](),_0x215fed=document[_0x741246(0x267)]('manual-bp-grade-level')[_0x741246(0x832)][_0x741246(0xa5f)](),_0x367bf7=document[_0x741246(0x267)]('manual-bp-content')[_0x741246(0x832)];if(!_0x33f7ca||!_0x215fed||!_0x367bf7){showMessage(_0x741246(0x7cd));return;}const _0x15f2d0=parseIndentedBlueprint(_0x367bf7);if(!_0x15f2d0[_0x741246(0x304)]||_0x15f2d0[_0x741246(0x304)]['length']===0x0){showMessage(_0x741246(0xb82));return;}const _0x5262b2={};_0x15f2d0[_0x741246(0x304)][_0x741246(0x523)](_0x5331f4=>{const _0xca804e=_0x741246;_0x5331f4[_0xca804e(0xaee)]['forEach'](_0x1d6223=>{const _0x3a2e86=_0xca804e;_0x1d6223[_0x3a2e86(0x582)][_0x3a2e86(0x523)](_0x2d8908=>{const _0x324395=_0x3a2e86,_0x229882='topic_'+Date[_0x324395(0x937)]()+Math[_0x324395(0x658)]()['toString'](0x24)[_0x324395(0x6b6)](0x2,0x9);_0x5262b2[_0x229882]={'sara':_0x5331f4['sara'],'mainTopic':_0x1d6223[_0x324395(0x7f0)],'subTopic':_0x2d8908,'status':_0x324395(0xb8f),'lessonContent':null};});});});try{const _0x42c015=collection(db,_0x741246(0x94a)+appId+_0x741246(0xab6));await addDoc(_0x42c015,{'projectName':_0x33f7ca,'gradeLevel':_0x215fed,'topics':_0x5262b2,'createdAt':serverTimestamp()}),showMessage(_0x741246(0x598)+_0x33f7ca+'\x22\x20สำเร็จ!'),document[_0x741246(0x267)](_0x741246(0x8bc))[_0x741246(0x25c)]['add']('hidden');}catch(_0x4407dd){console[_0x741246(0xa65)](_0x741246(0xa23),_0x4407dd),showMessage(_0x741246(0x17b));}}function showPodiumView(_0x6e1da1,_0x223de0=_0x176601(0x2e6)){const _0x43a1d0=_0x176601,_0x31284b=Object['entries'](_0x6e1da1)['map'](([_0x3fc6ea,_0x485fc3])=>({'name':_0x3fc6ea,'score':_0x485fc3[_0x43a1d0(0x34f)]||0x0,'badges':_0x485fc3[_0x43a1d0(0x698)]||[],'hasPerfectScoreBonus':_0x485fc3[_0x43a1d0(0x1d5)]||![]}));_0x31284b[_0x43a1d0(0x953)]((_0x48ab11,_0x14f45e)=>{const _0x2c58fc=_0x43a1d0,_0x5c559a=_0x14f45e['score']-_0x48ab11['score'];if(_0x5c559a!==0x0)return _0x5c559a;return(_0x14f45e[_0x2c58fc(0x698)][_0x2c58fc(0x2c7)]||0x0)-(_0x48ab11[_0x2c58fc(0x698)][_0x2c58fc(0x2c7)]||0x0);});const _0x196c92=_0x1c215d=>{const _0x24658f=_0x43a1d0;if(!_0x1c215d||_0x1c215d[_0x24658f(0x2c7)]===0x0)return'';const _0x3e21fb={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x24658f(0xbc9)+_0x1c215d['map'](_0x19b8e0=>_0x3e21fb[_0x19b8e0]||'')[_0x24658f(0x706)]('')+_0x24658f(0xba1);},_0x1d0890=_0x31284b[_0x43a1d0(0x1d8)](0x3),_0x462ab7=_0x1d0890['length']>0x0?_0x43a1d0(0x1a0)+_0x1d0890[_0x43a1d0(0x697)]((_0xc95f3b,_0x3d48ba)=>{const _0x390919=_0x43a1d0,_0x33b910=_0xc95f3b[_0x390919(0x1d5)]?_0x390919(0x552):'';return _0x390919(0x687)+(_0x3d48ba+0x4)+_0x390919(0xba2)+_0xc95f3b[_0x390919(0x6be)]+_0x390919(0x3bd)+_0xc95f3b['score']+'\x20คะแนน\x20'+_0x33b910+_0x390919(0x273);})['join']('')+_0x43a1d0(0xbf8):'',_0x401c83='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x31284b[0x1]?_0x43a1d0(0x586)+_0x31284b[0x1][_0x43a1d0(0x6be)]+_0x43a1d0(0xa5b)+_0x196c92(_0x31284b[0x1][_0x43a1d0(0x698)])+'<p\x20class=\x22text-xl\x22>'+_0x31284b[0x1][_0x43a1d0(0x34f)]+_0x43a1d0(0x4b3)+(_0x31284b[0x1][_0x43a1d0(0x1d5)]?_0x43a1d0(0xa83):'')+_0x43a1d0(0x1fd):'<div\x20class=\x22flex-1\x22></div>')+_0x43a1d0(0x8f7)+(_0x31284b[0x0]?_0x43a1d0(0x306)+_0x31284b[0x0][_0x43a1d0(0x6be)]+'</p>'+_0x196c92(_0x31284b[0x0][_0x43a1d0(0x698)])+_0x43a1d0(0x6ef)+_0x31284b[0x0][_0x43a1d0(0x34f)]+_0x43a1d0(0x4b3)+(_0x31284b[0x0][_0x43a1d0(0x1d5)]?_0x43a1d0(0xa83):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x43a1d0(0x338))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x31284b[0x2]?_0x43a1d0(0x3a3)+_0x31284b[0x2][_0x43a1d0(0x6be)]+_0x43a1d0(0xa5b)+_0x196c92(_0x31284b[0x2][_0x43a1d0(0x698)])+_0x43a1d0(0x487)+_0x31284b[0x2]['score']+_0x43a1d0(0x4b3)+(_0x31284b[0x2][_0x43a1d0(0x1d5)]?_0x43a1d0(0xa83):'')+_0x43a1d0(0x77d):_0x43a1d0(0x338))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x462ab7+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?_0x43a1d0(0x7ab):_0x43a1d0(0xa6a))+_0x43a1d0(0x495);liveGameView[_0x43a1d0(0xab8)]=_0x401c83,currentMode===_0x43a1d0(0x310)&&document[_0x43a1d0(0x267)](_0x43a1d0(0x982))[_0x43a1d0(0xbb9)](_0x43a1d0(0x292),async()=>{const _0x2cc527=_0x43a1d0;let _0x475344;_0x223de0===_0x2cc527(0x7fb)?_0x475344=doc(db,_0x2cc527(0x94a)+appId+'/public/data/syncGames',currentLiveGameId):_0x475344=doc(db,_0x2cc527(0x94a)+appId+_0x2cc527(0x81a),currentLiveGameId),await deleteDoc(_0x475344);});}function renderSyncSummaryView(_0x228de4,_0x185dbd,_0x195652){const _0x400328=_0x176601,_0x35a5f2=Object[_0x400328(0x8f5)](_0x228de4[_0x400328(0x3e4)]||{}),_0x2d89c5=_0x185dbd['questionType']||_0x228de4[_0x400328(0x860)]['quizType'];let _0x598676=[];_0x2d89c5===_0x400328(0x9c7)?_0x598676=[_0x400328(0x4ec),_0x400328(0x2d2)]:_0x598676=_0x185dbd[_0x400328(0x61a)]||[];const _0x3ca8b9=new Array(_0x598676['length'])[_0x400328(0x41b)](0x0),_0x615cd7={};_0x598676[_0x400328(0x523)]((_0x485fa6,_0x8c59cb)=>{_0x615cd7[_0x8c59cb]=[];}),Object[_0x400328(0x899)](_0x228de4[_0x400328(0x3e4)]||{})['forEach'](([_0x244ffe,_0x506b5f])=>{const _0x935429=_0x400328;if(_0x506b5f[_0x935429(0x471)]!==_0x935429(0x3e8)&&_0x506b5f[_0x935429(0x9d8)]!==undefined&&_0x506b5f[_0x935429(0x9d8)]!==null){const _0x286404=_0x506b5f[_0x935429(0x9d8)];_0x615cd7[_0x286404]!==undefined&&(_0x615cd7[_0x286404]['push'](_0x244ffe),_0x3ca8b9[_0x286404]++);}});let _0x5d71bb='';_0x195652?_0x5d71bb=_0x400328(0x91a):_0x5d71bb='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x24e1e6=_0x400328(0x3a0)+_0x185dbd[_0x400328(0x911)]+_0x400328(0x838)+_0x3ca8b9[_0x400328(0x697)]((_0x5edb78,_0x3c28f1)=>{const _0xb2469=_0x400328,_0x454ec7=_0x615cd7[_0x3c28f1][_0xb2469(0x2c7)]>0x0?_0x615cd7[_0x3c28f1]['join'](',\x20'):_0xb2469(0x229),_0x252424=_0xb2469(0x1f2);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x5edb78+_0xb2469(0x79b)+_0x252424+_0xb2469(0x739)+_0x3c28f1+_0xb2469(0x643)+_0x598676[_0x3c28f1]+_0xb2469(0x919)+_0x3c28f1+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x454ec7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x400328(0x706)]('')+_0x400328(0x228)+_0x5d71bb+_0x400328(0x448);liveGameView['innerHTML']=_0x24e1e6;if(window[_0x400328(0xb72)])MathJax[_0x400328(0x5bf)]();_0x195652&&(document[_0x400328(0x267)](_0x400328(0xa3f))[_0x400328(0xbb9)](_0x400328(0x292),async()=>{const _0x1d2dd2=_0x400328,_0x4fb4c6=doc(db,_0x1d2dd2(0x94a)+appId+_0x1d2dd2(0x5bd),currentLiveGameId);await updateDoc(_0x4fb4c6,{'status':'results'});}),document[_0x400328(0x267)](_0x400328(0x7aa))[_0x400328(0x476)]=()=>{openScratchpad(_0x185dbd,_0x598676);});}async function handleShowStudentRankings(){const _0x2bfbde=_0x176601,_0x4efea1=document['querySelector'](_0x2bfbde(0xb15));_0x4efea1&&(_0x4efea1[_0x2bfbde(0xab8)]=_0x2bfbde(0x632));const _0x1c5357=document[_0x2bfbde(0x690)]('#student-project-leaderboard-content\x20thead');_0x1c5357&&(_0x1c5357['innerHTML']=_0x2bfbde(0x486));const _0x1ebafe=document[_0x2bfbde(0x267)]('student-rankings-modal');_0x1ebafe[_0x2bfbde(0x25c)][_0x2bfbde(0x167)](_0x2bfbde(0xbc7)),document[_0x2bfbde(0x267)]('close-student-rankings-btn')[_0x2bfbde(0x476)]=()=>_0x1ebafe[_0x2bfbde(0x25c)]['add'](_0x2bfbde(0xbc7));const _0x5bbc44=document['getElementById']('student-quiz-leaderboard-tab'),_0x13129c=document['getElementById']('student-project-leaderboard-tab'),_0x40cafd=document[_0x2bfbde(0x267)](_0x2bfbde(0x71d)),_0x3b2f5c=document['getElementById'](_0x2bfbde(0x60c));_0x5bbc44['onclick']=()=>{const _0x5bf472=_0x2bfbde;_0x5bbc44['classList'][_0x5bf472(0x8a5)](_0x5bf472(0x866)),_0x13129c[_0x5bf472(0x25c)][_0x5bf472(0x167)](_0x5bf472(0x866)),_0x40cafd[_0x5bf472(0x25c)][_0x5bf472(0x167)](_0x5bf472(0xbc7)),_0x3b2f5c[_0x5bf472(0x25c)]['add'](_0x5bf472(0xbc7));},_0x13129c['onclick']=()=>{const _0x445a21=_0x2bfbde;_0x13129c[_0x445a21(0x25c)][_0x445a21(0x8a5)]('active'),_0x5bbc44[_0x445a21(0x25c)]['remove']('active'),_0x3b2f5c['classList'][_0x445a21(0x167)](_0x445a21(0xbc7)),_0x40cafd[_0x445a21(0x25c)][_0x445a21(0x8a5)]('hidden');};try{const _0x24f7aa=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x2bfbde(0xbd0)),_0x5cc86c=await getDocs(_0x24f7aa),_0x19b6fe=_0x5cc86c[_0x2bfbde(0xbff)]['map'](_0x290671=>_0x290671[_0x2bfbde(0xa77)]());renderQuizLeaderboard(_0x19b6fe,currentQuizData,_0x2bfbde(0xa0b));const _0xb0749e=collection(db,'artifacts/'+appId+_0x2bfbde(0x2ba)+currentQuizData[_0x2bfbde(0x8ae)]+_0x2bfbde(0x8bd)),_0xc7d214=await getDocs(_0xb0749e),_0x30e1a3=_0xc7d214['docs'][_0x2bfbde(0x697)](_0x668100=>_0x668100['data']());renderLeaderboard(_0x30e1a3,'student-project-leaderboard-table-body');}catch(_0x4c6dea){console['error']('Error\x20fetching\x20student\x20rankings:',_0x4c6dea),showMessage(_0x2bfbde(0x27a));}}async function handleSaveToBank(_0x5227bf){const _0x7da3c2=_0x176601,_0x41a969=_0x5227bf[_0x7da3c2(0x499)],_0x2f59ab=_0x41a969[_0x7da3c2(0x89d)][_0x7da3c2(0x9ad)],_0x4b782a=currentQuizData[_0x7da3c2(0x9ce)][_0x2f59ab];if(!userId){showMessage(_0x7da3c2(0x75f));return;}try{const _0x3c2a44={..._0x4b782a,'originalTopic':currentQuizData[_0x7da3c2(0x62b)],'savedAt':serverTimestamp()},_0x1ded76=collection(db,_0x7da3c2(0x94a)+appId+_0x7da3c2(0x65a)+userId+_0x7da3c2(0xa05));await addDoc(_0x1ded76,_0x3c2a44),showMessage(_0x7da3c2(0x9cd)),_0x41a969[_0x7da3c2(0x25c)][_0x7da3c2(0x167)](_0x7da3c2(0x4fa)),_0x41a969[_0x7da3c2(0x25c)]['add'](_0x7da3c2(0x1b5)),_0x41a969['disabled']=!![];}catch(_0x56c2f0){console[_0x7da3c2(0xa65)]('Error\x20saving\x20to\x20question\x20bank:',_0x56c2f0),showMessage(_0x7da3c2(0xa2c));}}function selectProjectAndGenerateBlueprintQuiz(_0x2d2e4f,_0x1922f5=null,_0x3dfe65=null){const _0x305616=_0x176601,_0x40f139=document[_0x305616(0x267)]('move-quiz-modal'),_0x16563d=document[_0x305616(0x267)](_0x305616(0x74f)),_0x1d571e=_0x40f139[_0x305616(0x690)]('h3'),_0x3a4039=document[_0x305616(0x267)](_0x305616(0x3f3)),_0x5b786f=document[_0x305616(0x267)](_0x305616(0x5be));_0x1d571e['textContent']=_0x305616(0x59b),_0x3a4039[_0x305616(0x4c2)]=_0x305616(0x36c),_0x3a4039['disabled']=!![];allProjects['length']===0x0?_0x16563d[_0x305616(0xab8)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x16563d['innerHTML']=_0x305616(0x6d7)+allProjects[_0x305616(0x697)](_0x3d203a=>_0x305616(0xba4)+_0x3d203a['id']+'\x22>'+_0x3d203a[_0x305616(0x2ea)]+_0x305616(0x53f))[_0x305616(0x706)](''),_0x3a4039[_0x305616(0x76a)]=![]);_0x40f139[_0x305616(0x25c)][_0x305616(0x167)](_0x305616(0xbc7));const _0x164358=async()=>{const _0x37ddfc=_0x305616,_0x49a700=_0x16563d[_0x37ddfc(0x832)];if(!_0x49a700){showMessage(_0x37ddfc(0x3b8));return;}_0x40f139[_0x37ddfc(0x25c)][_0x37ddfc(0x8a5)](_0x37ddfc(0xbc7)),document['getElementById'](_0x37ddfc(0x940))['classList']['add'](_0x37ddfc(0xbc7)),await loadProjectDetails(_0x49a700),showView(_0x37ddfc(0xbfb)),handleGenerateQuizFromBlueprintTopic(_0x2d2e4f,_0x1922f5,_0x49a700,_0x3dfe65),_0x5aebbb();},_0x5aebbb=()=>{const _0xc2f947=_0x305616;_0x1d571e['textContent']=_0xc2f947(0x4af),_0x3a4039[_0xc2f947(0x4c2)]='ย้าย',_0x3a4039['removeEventListener'](_0xc2f947(0x292),_0x164358),_0x5b786f['removeEventListener']('click',_0x5aebbb),_0x3a4039[_0xc2f947(0xbb9)](_0xc2f947(0x292),confirmMoveQuiz);};_0x3a4039[_0x305616(0x4cc)](_0x305616(0x292),confirmMoveQuiz),_0x3a4039[_0x305616(0xbb9)](_0x305616(0x292),_0x164358),_0x5b786f[_0x305616(0xbb9)](_0x305616(0x292),_0x5aebbb);}function listenForStarredQuizzes(){const _0x6729ea=_0x176601;if(!userId)return;const _0x52a5fb=collection(db,'artifacts/'+appId+_0x6729ea(0xb3f)),_0x546639=query(_0x52a5fb,where(_0x6729ea(0x31c),'==',!![]));onSnapshot(_0x546639,_0x3379d9=>{const _0x2ba7b6=_0x6729ea;starredQuizzes=_0x3379d9[_0x2ba7b6(0xbff)][_0x2ba7b6(0x697)](_0x33b93f=>({'id':_0x33b93f['id'],..._0x33b93f['data']()})),currentProjectId===_0x2ba7b6(0x93a)?renderQuizzes():renderProjects();},_0x14960b=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x14960b);});}async function ensureGlobalQuizzesLoaded(){const _0x5d8f60=_0x176601;if(allQuizzesGlobal[_0x5d8f60(0x2c7)]>0x0)return;console[_0x5d8f60(0x469)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x5d8f60(0x46c));try{const _0x444102=await getDocs(collection(db,'artifacts/'+appId+_0x5d8f60(0xb3f)));allQuizzesGlobal=_0x444102['docs'][_0x5d8f60(0x697)](_0xb06191=>({'id':_0xb06191['id'],..._0xb06191[_0x5d8f60(0xa77)]()})),console[_0x5d8f60(0x469)](_0x5d8f60(0x7f6)+allQuizzesGlobal[_0x5d8f60(0x2c7)]+_0x5d8f60(0x43c)),messageModal[_0x5d8f60(0x25c)][_0x5d8f60(0x8a5)](_0x5d8f60(0xbc7));}catch(_0x24854b){console[_0x5d8f60(0xa65)]('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x24854b),messageModal[_0x5d8f60(0x25c)][_0x5d8f60(0x8a5)](_0x5d8f60(0xbc7));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x18edad=_0x176601;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x18edad(0x85c));return;}const _0x49fd73=currentQuizData,_0x3a3b29=window[_0x18edad(0xbad)]('',_0x18edad(0x505)),_0x1f63c0=_0xbb564a=>String[_0x18edad(0x8a2)](0x41+_0xbb564a),_0x1b067f=_0x18edad(0x91b)+_0x49fd73[_0x18edad(0x62b)]+_0x18edad(0x6d0)+_0x49fd73[_0x18edad(0x62b)]+_0x18edad(0x2ee)+_0x49fd73['questions'][_0x18edad(0x697)]((_0x20233d,_0x50b322)=>{const _0x3bba85=_0x18edad;let _0x345894='';const _0x3a6c53=_0x20233d[_0x3bba85(0x9c3)]||_0x49fd73[_0x3bba85(0x84e)];switch(_0x3a6c53){case'multiple_choice':case'fill_in_with_choices':_0x345894='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x20233d[_0x3bba85(0x61a)][_0x3bba85(0x697)]((_0x30fc82,_0x4885e3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1f63c0(_0x4885e3)+'.\x20'+_0x30fc82+_0x3bba85(0x742))[_0x3bba85(0x706)](_0x3bba85(0x1da))+_0x3bba85(0xba1);break;case _0x3bba85(0x9c7):_0x345894='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x345894=_0x3bba85(0x6a0);break;}return _0x3bba85(0x291)+(_0x50b322+0x1)+_0x3bba85(0x20f)+(_0x20233d[_0x3bba85(0x232)]||_0x20233d[_0x3bba85(0x911)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x20233d[_0x3bba85(0x9ed)]?_0x3bba85(0x308)+_0x20233d[_0x3bba85(0x9ed)]+_0x3bba85(0xba1):'')+_0x3bba85(0x69d)+_0x345894+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3a3b29[_0x18edad(0x279)][_0x18edad(0x3bb)](_0x1b067f),_0x3a3b29[_0x18edad(0x279)]['close'](),_0x3a3b29[_0x18edad(0x7e0)]=function(){setTimeout(()=>{_0x3a3b29['print']();},0x5dc);};}function _0x1728(_0x33bfcb,_0x2bc669){const _0x8f9ed6=_0x8f9e();return _0x1728=function(_0x1728cb,_0x18e055){_0x1728cb=_0x1728cb-0x162;let _0x29249d=_0x8f9ed6[_0x1728cb];return _0x29249d;},_0x1728(_0x33bfcb,_0x2bc669);}function exportQuizAsTutorPDF(){const _0x28a8bf=_0x176601;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x28a8bf(0x85c));return;}const _0x3dd294=currentQuizData,_0x9a04b0=window[_0x28a8bf(0xbad)]('','_blank'),_0x478a85=_0x40d929=>String[_0x28a8bf(0x8a2)](0x41+_0x40d929),_0x1ac997=_0x28a8bf(0x3aa)+_0x3dd294[_0x28a8bf(0x62b)]+_0x28a8bf(0xbea)+_0x3dd294['questions'][_0x28a8bf(0x697)]((_0x58eda2,_0x4c17f9)=>{const _0x2dca0a=_0x28a8bf;let _0x39bbf1='';const _0x5bae1d=_0x58eda2['questionType']||_0x3dd294[_0x2dca0a(0x84e)];switch(_0x5bae1d){case _0x2dca0a(0x3e7):case'fill_in_with_choices':_0x39bbf1=_0x2dca0a(0x82a)+_0x58eda2[_0x2dca0a(0x61a)][_0x2dca0a(0x697)]((_0x1023b8,_0x176c9f)=>_0x2dca0a(0xb95)+_0x478a85(_0x176c9f)+'.\x20'+_0x1023b8+_0x2dca0a(0x82d))[_0x2dca0a(0x706)]('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x39bbf1=_0x2dca0a(0xa9a);break;default:_0x39bbf1='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x3dd294['topic']+_0x2dca0a(0x4da)+(_0x4c17f9+0x1)+_0x2dca0a(0xbca)+(_0x58eda2[_0x2dca0a(0x232)]||_0x58eda2[_0x2dca0a(0x911)])+_0x2dca0a(0xace)+(_0x58eda2[_0x2dca0a(0x9ed)]?_0x2dca0a(0x90f)+_0x58eda2[_0x2dca0a(0x9ed)]+_0x2dca0a(0xba1):'')+_0x2dca0a(0x69d)+_0x39bbf1+_0x2dca0a(0x16b);})[_0x28a8bf(0x706)]('')+_0x28a8bf(0xb42);_0x9a04b0[_0x28a8bf(0x279)][_0x28a8bf(0x3bb)](_0x1ac997),_0x9a04b0[_0x28a8bf(0x279)]['close'](),_0x9a04b0[_0x28a8bf(0x7e0)]=function(){setTimeout(()=>{const _0x537d72=_0x1728;_0x9a04b0[_0x537d72(0x412)]();},0x5dc);};}async function handleToggleStarQuiz(_0x392044){const _0x231259=_0x176601,_0x9d98e4=doc(db,_0x231259(0x94a)+appId+_0x231259(0xb3f),_0x392044);try{const _0x50957d=await getDoc(_0x9d98e4);if(_0x50957d[_0x231259(0x4b5)]()){const _0x21b4b8=_0x50957d[_0x231259(0xa77)]()[_0x231259(0x31c)]||![];await updateDoc(_0x9d98e4,{'isStarred':!_0x21b4b8});}}catch(_0x224537){console[_0x231259(0xa65)]('Error\x20toggling\x20star\x20status:',_0x224537),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x57273f=_0x176601,_0x569236=document[_0x57273f(0x267)](_0x57273f(0x9ee));_0x569236[_0x57273f(0xab8)]=_0x57273f(0x97d);try{const _0x44101c=collection(db,'artifacts/'+appId+_0x57273f(0x65a)+userId+'/questionBank'),_0x2aa45b=query(_0x44101c),_0x448dc0=await getDocs(_0x2aa45b);if(_0x448dc0['empty']){_0x569236[_0x57273f(0xab8)]=_0x57273f(0x91c);return;}let _0x59100e=_0x448dc0[_0x57273f(0xbff)][_0x57273f(0x697)](_0x24201e=>{const _0x81d55a=_0x57273f,_0x50227b=_0x24201e['data'](),_0x5b8ea6=_0x24201e['id'];return _0x81d55a(0x76f)+JSON['stringify'](_0x50227b)+_0x81d55a(0x3d8)+(_0x50227b[_0x81d55a(0x911)]||_0x50227b[_0x81d55a(0x232)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x50227b[_0x81d55a(0x96b)]+_0x81d55a(0x8bf);})[_0x57273f(0x706)]('');_0x569236[_0x57273f(0xab8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x59100e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x57273f(0x267)](_0x57273f(0x7a3))[_0x57273f(0xbb9)](_0x57273f(0x292),createQuizFromBank);}catch(_0x2e4086){console[_0x57273f(0xa65)](_0x57273f(0x9ec),_0x2e4086),_0x569236[_0x57273f(0xab8)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x32b588=_0x176601,_0x464156=document['getElementById'](_0x32b588(0x404)),_0x23c700=document['getElementById']('lesson-view-title')['textContent']||_0x32b588(0x321);if(!_0x464156){showMessage(_0x32b588(0x96a));return;}const _0x34b755=window['open']('','_blank'),_0x57ac4f=_0x32b588(0x92f)+_0x23c700+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x23c700+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x464156[_0x32b588(0xab8)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x34b755[_0x32b588(0x279)][_0x32b588(0x3bb)](_0x57ac4f),_0x34b755['document']['close'](),_0x34b755[_0x32b588(0x7e0)]=function(){setTimeout(()=>{_0x34b755['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x1726c8,_0x1e1625,_0x5bfcd4){const _0x2cfcaa=_0x176601,_0x3aa6e0=_0x1726c8[_0x2cfcaa(0x9c3)]||currentQuizData[_0x2cfcaa(0x84e)];let _0x170b5f='';if(_0x3aa6e0===_0x2cfcaa(0x3e7)||_0x3aa6e0===_0x2cfcaa(0x9c7)){const _0x197ed6=_0x3aa6e0===_0x2cfcaa(0x9c7)?[_0x2cfcaa(0x901),_0x2cfcaa(0x5f4)]:_0x1726c8[_0x2cfcaa(0x61a)],_0x386057=_0x3aa6e0===_0x2cfcaa(0x9c7)?_0x1726c8['correctAnswer']?0x0:0x1:_0x1726c8[_0x2cfcaa(0x1f1)];_0x170b5f=_0x197ed6[_0x2cfcaa(0x697)]((_0xf34a4,_0x24d0d4)=>_0x2cfcaa(0x17e)+(_0x24d0d4===_0x386057)+_0x2cfcaa(0x4c4)+_0xf34a4+_0x2cfcaa(0x46f))['join']('');}else{if(_0x3aa6e0===_0x2cfcaa(0x4ed)){const _0x44595d=_0x1726c8[_0x2cfcaa(0x773)]||[];_0x170b5f=_0x44595d[_0x2cfcaa(0x697)](_0x3ada47=>_0x2cfcaa(0x17e)+(_0x3ada47===_0x1726c8[_0x2cfcaa(0x6a9)])+_0x2cfcaa(0x4c4)+_0x3ada47+_0x2cfcaa(0x46f))[_0x2cfcaa(0x706)]('');}}const _0xba4dcb=_0x1726c8['stem']||_0x1726c8['questionText'],_0x1a44dc=_0x2cfcaa(0x5c6)+(_0x1e1625+0x1)+_0x2cfcaa(0x995)+_0x5bfcd4+_0x2cfcaa(0x272)+currentLiveGamePin+_0x2cfcaa(0x66f)+_0xba4dcb+_0x2cfcaa(0x348)+_0x170b5f+_0x2cfcaa(0x790);liveGameView[_0x2cfcaa(0xab8)]=_0x1a44dc,window[_0x2cfcaa(0xb72)]&&MathJax[_0x2cfcaa(0x5bf)]&&MathJax[_0x2cfcaa(0x5bf)]([liveGameView]),document['getElementById'](_0x2cfcaa(0x4d2))['addEventListener'](_0x2cfcaa(0x292),()=>revealAnswerForAdmin(_0x1e1625,_0x5bfcd4)),document[_0x2cfcaa(0x267)](_0x2cfcaa(0x758))[_0x2cfcaa(0xbb9)](_0x2cfcaa(0x292),async()=>{const _0x2753b2=_0x2cfcaa;showConfirmation(_0x2753b2(0x46d),async()=>{const _0x3e098c=_0x2753b2,_0x1fc848=doc(db,_0x3e098c(0x94a)+appId+_0x3e098c(0x81a),currentLiveGameId);await updateDoc(_0x1fc848,{'status':_0x3e098c(0x261)});});}),document[_0x2cfcaa(0x267)](_0x2cfcaa(0x803))[_0x2cfcaa(0xbb9)](_0x2cfcaa(0x292),()=>{const _0x1bde5a=_0x2cfcaa;document[_0x1bde5a(0x267)](_0x1bde5a(0x1d9))[_0x1bde5a(0x25c)][_0x1bde5a(0x7b6)](_0x1bde5a(0xbc7));});}function promptForProjectBeforeGenerating(_0x3768bc){const _0x3719c2=_0x176601,_0x305e30=document['getElementById'](_0x3719c2(0x743)),_0x26e870=document['getElementById'](_0x3719c2(0x74f)),_0x294840=_0x305e30[_0x3719c2(0x690)]('h3'),_0x2006d9=document[_0x3719c2(0x267)](_0x3719c2(0x3f3)),_0x3c1f36=document['getElementById'](_0x3719c2(0x5be));_0x294840[_0x3719c2(0x4c2)]=_0x3719c2(0x59b),_0x2006d9[_0x3719c2(0x4c2)]=_0x3719c2(0x36c),_0x2006d9['disabled']=!![];allProjects[_0x3719c2(0x2c7)]===0x0?_0x26e870['innerHTML']=_0x3719c2(0xbb5):(_0x26e870['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x3719c2(0x697)](_0x33e18a=>_0x3719c2(0xba4)+_0x33e18a['id']+'\x22>'+_0x33e18a[_0x3719c2(0x2ea)]+_0x3719c2(0x53f))[_0x3719c2(0x706)](''),_0x2006d9[_0x3719c2(0x76a)]=![]);_0x305e30[_0x3719c2(0x25c)][_0x3719c2(0x167)]('hidden');const _0x43d3cb=async()=>{const _0x104abe=_0x3719c2,_0x245fd5=_0x26e870[_0x104abe(0x832)];if(!_0x245fd5){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x305e30[_0x104abe(0x25c)][_0x104abe(0x8a5)](_0x104abe(0xbc7)),await loadProjectDetails(_0x245fd5),showView(_0x104abe(0xbfb)),handleGenerateQuizFromBlueprintTopic(_0x3768bc),_0x306cd2();},_0x306cd2=()=>{const _0x5a055c=_0x3719c2;_0x294840[_0x5a055c(0x4c2)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2006d9[_0x5a055c(0x4c2)]=_0x5a055c(0x679),_0x2006d9['removeEventListener'](_0x5a055c(0x292),_0x43d3cb),_0x3c1f36[_0x5a055c(0x4cc)](_0x5a055c(0x292),_0x306cd2),_0x2006d9['addEventListener'](_0x5a055c(0x292),confirmMoveQuiz);};_0x2006d9['removeEventListener']('click',confirmMoveQuiz),_0x2006d9[_0x3719c2(0xbb9)]('click',_0x43d3cb),_0x3c1f36['addEventListener']('click',_0x306cd2);}function showStudentLiveQuestionView(_0x1d9457,_0x2e43ce,_0x593064){const _0x2f211f=_0x176601,_0x11b65d=_0x1d9457[_0x2f211f(0x9c3)]||currentQuizData[_0x2f211f(0x84e)];let _0x50c204='';if(_0x11b65d===_0x2f211f(0x3e7)||_0x11b65d===_0x2f211f(0x9c7)){const _0x24bda3=_0x11b65d===_0x2f211f(0x9c7)?[_0x2f211f(0x901),_0x2f211f(0x5f4)]:_0x1d9457[_0x2f211f(0x61a)];_0x50c204=_0x24bda3[_0x2f211f(0x697)]((_0x19a727,_0x528ac8)=>_0x2f211f(0x8a3)+_0x528ac8+_0x2f211f(0x7bd)+_0x19a727+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2f211f(0x706)]('');}else{if(_0x11b65d===_0x2f211f(0x4ed)){const _0x932f68=_0x1d9457[_0x2f211f(0x773)]||[];_0x50c204=_0x932f68['map']((_0x53fba1,_0x4c349e)=>_0x2f211f(0x8a3)+_0x4c349e+_0x2f211f(0x7bd)+_0x53fba1+_0x2f211f(0x68b))[_0x2f211f(0x706)]('');}else _0x11b65d===_0x2f211f(0x477)&&(_0x50c204='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x1c6c09=_0x1d9457[_0x2f211f(0x232)]||_0x1d9457[_0x2f211f(0x911)],_0x343b80=_0x2f211f(0xb6d)+(_0x2e43ce+0x1)+'\x20/\x20'+_0x593064+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1c6c09+_0x2f211f(0x5e0)+_0x50c204+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2f211f(0xab8)]=_0x343b80;window[_0x2f211f(0xb72)]&&MathJax[_0x2f211f(0x5bf)]&&MathJax['typesetPromise']([liveGameView]);const _0x364b46=document[_0x2f211f(0x267)](_0x2f211f(0xb3b));_0x364b46&&_0x364b46[_0x2f211f(0xbb9)](_0x2f211f(0x292),()=>{const _0x5b6bae=_0x2f211f,_0x172082=document[_0x5b6bae(0x267)](_0x5b6bae(0x69b))['value'];handleLiveAnswer(_0x172082,_0x1d9457);}),document[_0x2f211f(0x267)]('live-options-container')[_0x2f211f(0xbb9)](_0x2f211f(0x292),_0x47c23c=>{const _0x243982=_0x2f211f,_0x18eaee=_0x47c23c[_0x243982(0x763)]['closest'](_0x243982(0x419));if(_0x18eaee){const _0x3631d5=parseInt(_0x18eaee[_0x243982(0x89d)]['index']);handleLiveAnswer(_0x3631d5,_0x1d9457);}});}async function handleLiveAnswer(_0x6eb601,_0x416e49){const _0x24be79=_0x176601;document[_0x24be79(0x6d4)](_0x24be79(0x5ec))[_0x24be79(0x523)](_0x39a417=>_0x39a417[_0x24be79(0x76a)]=!![]);const _0x44f47c=_0x416e49['questionType']||currentQuizData[_0x24be79(0x84e)];let _0x56f065=![],_0x38f403=_0x6eb601;if(_0x44f47c===_0x24be79(0x477)){const _0x4c4642=(_0x6eb601||'')['toString']();_0x56f065=await gradeShortAnswer(_0x4c4642,_0x416e49);}else{if(_0x44f47c===_0x24be79(0x3e7))_0x56f065=_0x6eb601===_0x416e49[_0x24be79(0x1f1)];else{if(_0x44f47c===_0x24be79(0x9c7)){const _0xac1d6a=_0x416e49['correctAnswer'];_0x56f065=_0x6eb601===0x0&&_0xac1d6a||_0x6eb601===0x1&&!_0xac1d6a;}else{if(_0x44f47c==='matching_item'){const _0x4abaaf=_0x416e49[_0x24be79(0x773)][_0x6eb601];_0x56f065=_0x4abaaf===_0x416e49[_0x24be79(0x6a9)],_0x38f403=_0x4abaaf;}}}}const _0xd30f41=doc(db,_0x24be79(0x94a)+appId+_0x24be79(0x81a),currentLiveGameId),_0x421196={};_0x421196[_0x24be79(0x8ef)+currentStudentName+_0x24be79(0x870)]=!![],_0x421196[_0x24be79(0x8ef)+currentStudentName+_0x24be79(0x72f)]=_0x56f065,_0x421196[_0x24be79(0x8ef)+currentStudentName+_0x24be79(0x1a7)]=_0x44f47c===_0x24be79(0x477)||_0x44f47c===_0x24be79(0x4ed)?null:_0x6eb601,_0x421196[_0x24be79(0x8ef)+currentStudentName+_0x24be79(0x701)]=_0x38f403,_0x421196[_0x24be79(0x8ef)+currentStudentName+_0x24be79(0xa8f)]=serverTimestamp(),_0x421196[_0x24be79(0x8ef)+currentStudentName+_0x24be79(0x179)]=![],await updateDoc(_0xd30f41,_0x421196),liveGameView['innerHTML']=_0x24be79(0xbbc);}function showAdminSummaryView(_0x598993,_0x33d2c0){const _0x3fddd5=_0x176601,_0x3bda14=Object['values'](_0x598993['players']||{}),_0x13d151=_0x33d2c0['questionType']||currentQuizData[_0x3fddd5(0x84e)],_0x263472=_0x13d151===_0x3fddd5(0x9c7)?['ใช่',_0x3fddd5(0x5f4)]:_0x33d2c0[_0x3fddd5(0x61a)]||_0x33d2c0[_0x3fddd5(0x773)]||[],_0x2e5ab3={},_0x45d065=new Array(_0x263472['length'])[_0x3fddd5(0x41b)](0x0);_0x263472[_0x3fddd5(0x523)]((_0x42d7b3,_0x474117)=>{_0x2e5ab3[_0x474117]=[];}),Object[_0x3fddd5(0x899)](_0x598993[_0x3fddd5(0x3e4)]||{})[_0x3fddd5(0x523)](([_0xe9f401,_0x246a64])=>{const _0x2c80c7=_0x3fddd5;if(_0x246a64['status']==='active'&&_0x246a64[_0x2c80c7(0x9d8)]!==undefined){const _0x42dba=_0x246a64[_0x2c80c7(0x9d8)];_0x2e5ab3[_0x42dba]&&(_0x2e5ab3[_0x42dba][_0x2c80c7(0x92e)](_0xe9f401),_0x45d065[_0x42dba]++);}});const _0x168a25=Math['max'](..._0x45d065,0x1),_0x2104da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x33d2c0[_0x3fddd5(0x232)]||_0x33d2c0['questionText'])+_0x3fddd5(0x6df)+_0x45d065[_0x3fddd5(0x697)]((_0x360a1c,_0x810911)=>{const _0x4935ce=_0x3fddd5,_0x40b703=_0x2e5ab3[_0x810911][_0x4935ce(0x2c7)]>0x0?_0x2e5ab3[_0x810911]['join'](',\x20'):_0x4935ce(0x229);let _0x584b80=![];if(_0x13d151===_0x4935ce(0x3e7))_0x584b80=_0x810911===_0x33d2c0['correctAnswerIndex'];else{if(_0x13d151==='true_false'){const _0x2e4b81=_0x33d2c0['correctAnswer'];_0x584b80=_0x2e4b81&&_0x810911===0x0||!_0x2e4b81&&_0x810911===0x1;}else _0x13d151===_0x4935ce(0x4ed)&&(_0x584b80=_0x263472[_0x810911]===_0x33d2c0[_0x4935ce(0x6a9)]);}const _0x397ffa=_0x584b80?_0x4935ce(0x30c):'#e21b3c';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x360a1c+_0x4935ce(0x518)+_0x397ffa+_0x4935ce(0x739)+_0x810911+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x263472[_0x810911]+_0x4935ce(0x919)+_0x810911+_0x4935ce(0x390)+_0x40b703+_0x4935ce(0x423);})[_0x3fddd5(0x706)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3fddd5(0xab8)]=_0x2104da;if(window[_0x3fddd5(0xb72)])MathJax[_0x3fddd5(0x5bf)]();document[_0x3fddd5(0x267)](_0x3fddd5(0x6b1))[_0x3fddd5(0xbb9)](_0x3fddd5(0x292),async()=>{const _0x17c5d4=_0x3fddd5,_0xb4d5e7=doc(db,'artifacts/'+appId+_0x17c5d4(0x81a),currentLiveGameId);await updateDoc(_0xb4d5e7,{'questionStatus':_0x17c5d4(0x800)});}),document[_0x3fddd5(0x267)](_0x3fddd5(0x392))[_0x3fddd5(0xbb9)]('click',()=>{openScratchpad(_0x33d2c0,_0x263472);});}function showPlayerSummaryView(_0x48109d,_0x587422){const _0x312e5e=_0x176601,_0x4edfc2=Object['values'](_0x48109d['players']||{}),_0x4c31dd=_0x48109d[_0x312e5e(0x3e4)][_0x587422],_0xe026ba=_0x4edfc2[_0x312e5e(0xb79)](_0x3842f7=>_0x3842f7[_0x312e5e(0x471)]===_0x312e5e(0x866))[_0x312e5e(0x953)]((_0x4eef2e,_0x54194b)=>_0x54194b[_0x312e5e(0x34f)]-_0x4eef2e['score']),_0x5b023e=_0xe026ba['findIndex'](_0x4076cc=>_0x4076cc===_0x4c31dd)+0x1,_0x440a01=_0x4c31dd[_0x312e5e(0x6b5)]?_0x312e5e(0x220):_0x312e5e(0xadb),_0x306be7=_0x4c31dd[_0x312e5e(0x6b5)]?_0x312e5e(0xc00):_0x312e5e(0x6f2),_0x109caa=_0x4c31dd[_0x312e5e(0x1b2)]||0x0,_0x1ee8dd=_0x312e5e(0xc13),_0x42182d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x1ee8dd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x306be7+_0x312e5e(0x8fd)+_0x440a01+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x109caa+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x5b023e>0x0?_0x5b023e:'-')+_0x312e5e(0xb32);liveGameView['innerHTML']=_0x42182d;}function createQuizFromBank(){const _0x390d4b=_0x176601,_0x45d868=document['querySelectorAll'](_0x390d4b(0x3ff));if(_0x45d868['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x450fea=[];_0x45d868[_0x390d4b(0x523)](_0x135280=>{const _0x4ccca6=_0x390d4b;_0x450fea[_0x4ccca6(0x92e)](JSON['parse'](_0x135280[_0x4ccca6(0x832)]));});const _0x669bf3={'topic':_0x390d4b(0x203),'questions':_0x450fea};displayGeneratedQuiz(_0x669bf3);}function showAdminLobbyView(_0x21d326,_0x2b1b20){const _0x4eceb6=_0x176601;showView(_0x4eceb6(0x293));const _0x2f1d8e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x2b1b20+_0x4eceb6(0x55f)+_0x21d326+_0x4eceb6(0x20c);liveGameView[_0x4eceb6(0xab8)]=_0x2f1d8e,document[_0x4eceb6(0x267)](_0x4eceb6(0xc01))[_0x4eceb6(0xbb9)](_0x4eceb6(0x292),async()=>{const _0x50c3ee=_0x4eceb6;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x50c3ee(0x9ce)][_0x50c3ee(0x2c7)]===0x0){showMessage(_0x50c3ee(0x8e3));return;}try{const _0x162b9c=doc(db,_0x50c3ee(0x94a)+appId+_0x50c3ee(0x81a),currentLiveGameId);await updateDoc(_0x162b9c,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3d0049=currentQuizData['questions'][0x0],_0x4f30fc=currentQuizData[_0x50c3ee(0x9ce)][_0x50c3ee(0x2c7)];showAdminLiveQuestionView(_0x3d0049,0x0,_0x4f30fc);}catch(_0x2b312f){console[_0x50c3ee(0xa65)](_0x50c3ee(0x58d),_0x2b312f),showMessage(_0x50c3ee(0x699));}});}async function openGlobalLiveModal(){const _0xb19175=_0x176601;if(allQuizzesGlobal[_0xb19175(0x2c7)]===0x0){const _0x43297e=await getDocs(collection(db,'artifacts/'+appId+_0xb19175(0xb3f)));allQuizzesGlobal=_0x43297e['docs'][_0xb19175(0x697)](_0x21ff3b=>({'id':_0x21ff3b['id'],..._0x21ff3b[_0xb19175(0xa77)]()}));}renderGlobalQuizList(''),document[_0xb19175(0x267)]('global-live-game-modal')[_0xb19175(0x25c)][_0xb19175(0x167)](_0xb19175(0xbc7));}async function openQuizBankModal(){const _0x162654=_0x176601;if(allQuizzesGlobal['length']===0x0){const _0x10782b=await getDocs(collection(db,'artifacts/'+appId+_0x162654(0xb3f)));allQuizzesGlobal=_0x10782b[_0x162654(0xbff)][_0x162654(0x697)](_0x1c6423=>({'id':_0x1c6423['id'],..._0x1c6423[_0x162654(0xa77)]()}));}renderQuizBankList(''),document[_0x162654(0x267)](_0x162654(0x23f))[_0x162654(0x25c)]['remove'](_0x162654(0xbc7));}function renderQuizBankList(_0x392b79='',_0x3d919a=![]){const _0x11b7c2=_0x176601,_0x2ae55a=document[_0x11b7c2(0x267)]('bank-quiz-list'),_0x2020f1=_0x392b79[_0x11b7c2(0x280)]()['trim'](),_0x117507=allQuizzesGlobal['map'](_0x179916=>({..._0x179916,'projectName':allProjects[_0x11b7c2(0x70b)](_0x104913=>_0x104913['id']===_0x179916['projectId'])?.['projectName']||'N/A'}))['filter'](_0x525250=>(_0x525250[_0x11b7c2(0x62b)]||'')[_0x11b7c2(0x280)]()[_0x11b7c2(0x4bd)](_0x2020f1)||(_0x525250[_0x11b7c2(0x2ea)]||'')[_0x11b7c2(0x280)]()[_0x11b7c2(0x4bd)](_0x2020f1)||_0x525250['id'][_0x11b7c2(0x5bc)]()[_0x11b7c2(0x4bd)](_0x2020f1));document['getElementById']('quiz-bank-count')[_0x11b7c2(0x4c2)]='('+_0x117507[_0x11b7c2(0x2c7)]+'\x20ชุด)',_0x2ae55a[_0x11b7c2(0xab8)]=_0x117507[_0x11b7c2(0x2c7)]?_0x117507[_0x11b7c2(0x697)](_0x41e1e0=>{const _0x513cfb=_0x11b7c2,_0x509659=!_0x3d919a?_0x513cfb(0x39a)+_0x41e1e0['id']+_0x513cfb(0x6d5)+_0x41e1e0['id']+_0x513cfb(0xb87)+_0x41e1e0['id']+_0x513cfb(0x31b)+_0x41e1e0['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x41e1e0['id']+_0x513cfb(0x5b5)+_0x41e1e0['id']+_0x513cfb(0x17f)+_0x41e1e0['topic']+_0x513cfb(0x547):'';return _0x513cfb(0x6d3)+_0x41e1e0['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x41e1e0[_0x513cfb(0x62b)]||_0x513cfb(0x8f8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x41e1e0['questions']?.[_0x513cfb(0x2c7)]||0x0)+_0x513cfb(0xc10)+_0x41e1e0['projectName']+_0x513cfb(0xbde)+_0x41e1e0['id']+_0x513cfb(0xa04)+_0x509659+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x11b7c2(0x706)](''):_0x11b7c2(0x42a),!_0x3d919a&&(_0x2ae55a['querySelectorAll'](_0x11b7c2(0x2f4))['forEach'](_0x1f966a=>{const _0x37ef63=_0x11b7c2;_0x1f966a[_0x37ef63(0xbb9)](_0x37ef63(0x292),()=>{const _0x357a42=_0x37ef63,_0x58ed15=_0x1f966a['dataset']['id'];document[_0x357a42(0x267)](_0x357a42(0x23f))[_0x357a42(0x25c)][_0x357a42(0x8a5)]('hidden'),showQuizDetailView(_0x58ed15);});}),_0x2ae55a['querySelectorAll'](_0x11b7c2(0x624))[_0x11b7c2(0x523)](_0x7b2e29=>{const _0x583cbb=_0x11b7c2;_0x7b2e29['addEventListener'](_0x583cbb(0x292),_0x223227=>{const _0x50442e=_0x583cbb;_0x223227['stopPropagation']();const _0x4b38a5=_0x7b2e29[_0x50442e(0x89d)]['id'],_0xc2a553=allQuizzesGlobal[_0x50442e(0x70b)](_0x3f4a96=>_0x3f4a96['id']===_0x4b38a5);_0xc2a553?(currentQuizData=_0xc2a553,document['getElementById']('quiz-bank-modal')[_0x50442e(0x25c)][_0x50442e(0x8a5)](_0x50442e(0xbc7)),startAdminTest()):showMessage(_0x50442e(0x521));});}),_0x2ae55a[_0x11b7c2(0x6d4)](_0x11b7c2(0x7ed))[_0x11b7c2(0x523)](_0x261c27=>{const _0x5a97a3=_0x11b7c2;_0x261c27[_0x5a97a3(0xbb9)](_0x5a97a3(0x292),_0x1c452e=>{const _0x540a35=_0x5a97a3;_0x1c452e[_0x540a35(0xaf1)]();const _0x3f1e42=_0x261c27[_0x540a35(0x89d)]['id'],_0x3f2bdf=allQuizzesGlobal[_0x540a35(0x70b)](_0x4df428=>_0x4df428['id']===_0x3f1e42);_0x3f2bdf?(document[_0x540a35(0x267)]('quiz-bank-modal')[_0x540a35(0x25c)][_0x540a35(0x8a5)](_0x540a35(0xbc7)),handleGenerateParallelFromBank(_0x3f2bdf)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2ae55a[_0x11b7c2(0x6d4)](_0x11b7c2(0x333))['forEach'](_0x48bc98=>{const _0x568d18=_0x11b7c2;_0x48bc98[_0x568d18(0xbb9)](_0x568d18(0x292),_0x17047a=>{const _0x13a00c=_0x568d18;_0x17047a[_0x13a00c(0xaf1)]();const _0x1fdc97=_0x48bc98['dataset']['id'],_0x10d910=allQuizzesGlobal[_0x13a00c(0x70b)](_0x57fdfe=>_0x57fdfe['id']===_0x1fdc97);_0x10d910?(document[_0x13a00c(0x267)](_0x13a00c(0x23f))[_0x13a00c(0x25c)][_0x13a00c(0x8a5)]('hidden'),startPresentation(_0x10d910)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2ae55a[_0x11b7c2(0x6d4)](_0x11b7c2(0xb1a))[_0x11b7c2(0x523)](_0x581e09=>{const _0x40e51e=_0x11b7c2;_0x581e09['addEventListener'](_0x40e51e(0x292),_0x2ce970=>{const _0x58a18e=_0x40e51e;_0x2ce970[_0x58a18e(0xaf1)]();const _0x5b20a5=_0x581e09[_0x58a18e(0x89d)]['id'];document[_0x58a18e(0x267)]('quiz-bank-modal')['classList'][_0x58a18e(0x8a5)]('hidden'),handleMoveQuiz(_0x5b20a5);});}),_0x2ae55a[_0x11b7c2(0x6d4)](_0x11b7c2(0xb93))[_0x11b7c2(0x523)](_0x11c434=>{const _0x35f219=_0x11b7c2;_0x11c434[_0x35f219(0xbb9)]('click',_0x1bc4cb=>{const _0x2d0409=_0x35f219;_0x1bc4cb[_0x2d0409(0xaf1)]();const _0x268576=_0x11c434[_0x2d0409(0x89d)]['id'];document[_0x2d0409(0x267)](_0x2d0409(0x23f))[_0x2d0409(0x25c)][_0x2d0409(0x8a5)](_0x2d0409(0xbc7)),handleQuizSettings(_0x268576);});}),_0x2ae55a[_0x11b7c2(0x6d4)](_0x11b7c2(0x4df))['forEach'](_0x262f66=>{const _0x45d543=_0x11b7c2;_0x262f66[_0x45d543(0xbb9)](_0x45d543(0x292),_0x52f06c=>{const _0x3a771c=_0x45d543;_0x52f06c['stopPropagation']();const _0x5aaae8=_0x262f66[_0x3a771c(0x89d)]['id'],_0x3f65a4=_0x262f66[_0x3a771c(0x89d)][_0x3a771c(0x62b)];showConfirmation(_0x3a771c(0x16d)+_0x3f65a4+_0x3a771c(0x35a),()=>handleDeleteQuiz(_0x5aaae8));});}));}async function handleCompareResults(_0x24ccd3,_0x4e18b2){const _0x27139f=_0x176601,_0x3b00f1=document[_0x27139f(0x267)](_0x27139f(0x4a8)),_0x1fac1c=document[_0x27139f(0x267)](_0x27139f(0x328)),_0x38d212=document['getElementById']('comparison-individual-content');document[_0x27139f(0x267)](_0x27139f(0x36f))[_0x27139f(0x25c)][_0x27139f(0x8a5)](_0x27139f(0x866)),document['getElementById'](_0x27139f(0x500))[_0x27139f(0x25c)][_0x27139f(0x167)](_0x27139f(0x866)),_0x1fac1c[_0x27139f(0x25c)][_0x27139f(0x167)]('hidden'),_0x38d212['classList']['add'](_0x27139f(0xbc7)),_0x1fac1c['innerHTML']=_0x27139f(0x97d),_0x38d212[_0x27139f(0xab8)]='',_0x3b00f1[_0x27139f(0x25c)][_0x27139f(0x167)](_0x27139f(0xbc7));try{const _0x3fc1a1=doc(db,_0x27139f(0x94a)+appId+_0x27139f(0xb3f),_0x24ccd3),_0x148d72=await getDoc(_0x3fc1a1);if(!_0x148d72[_0x27139f(0x4b5)]())throw new Error(_0x27139f(0x4a7));const _0x2d0f8b=_0x148d72[_0x27139f(0xa77)](),_0xfbfc7=_0x2d0f8b[_0x27139f(0x9ce)][_0x27139f(0x2c7)],_0x48921f=collection(db,_0x27139f(0x94a)+appId+_0x27139f(0xa34)+_0x4e18b2+_0x27139f(0xbd0)),_0x33902f=collection(db,_0x27139f(0x94a)+appId+'/public/data/quizzes/'+_0x24ccd3+'/submissions'),[_0x456f7b,_0xe4761]=await Promise[_0x27139f(0x75d)]([getDocs(_0x48921f),getDocs(_0x33902f)]),_0xb7a318=_0x456f7b[_0x27139f(0xbff)][_0x27139f(0x697)](_0x26c090=>_0x26c090[_0x27139f(0xa77)]()),_0x11fa1d=_0xe4761[_0x27139f(0xbff)][_0x27139f(0x697)](_0x3a698e=>_0x3a698e['data']()),_0x2b0c5c=_0xb7a318[_0x27139f(0x697)](_0x510e51=>_0x510e51['latestScore']),_0x10d0f2=_0x11fa1d[_0x27139f(0x697)](_0x282d92=>_0x282d92[_0x27139f(0x3da)]),_0x4aea9c=calculateMeanAndStdDev(_0x2b0c5c),_0x4f528a=calculateMeanAndStdDev(_0x10d0f2),_0x3b70e0=_0x4aea9c[_0x27139f(0xb80)],_0x2a3c4c=_0x4f528a[_0x27139f(0xb80)],_0x5f0690=_0x2a3c4c-_0x3b70e0;let _0x59a5d8=_0x27139f(0x2ac)+_0x3b70e0[_0x27139f(0x366)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x2a3c4c[_0x27139f(0x366)](0x2)+_0x27139f(0x269)+(_0x5f0690>=0x0?_0x27139f(0xb37):_0x27139f(0x8e1))+_0x27139f(0x768)+(_0x5f0690>=0x0?'text-emerald-800':_0x27139f(0x904))+_0x27139f(0x172)+(_0x5f0690>=0x0?_0x27139f(0x2a4):_0x27139f(0x48b))+'\x22>'+(_0x5f0690>=0x0?'+':'')+_0x5f0690[_0x27139f(0x366)](0x2)+_0x27139f(0x965);_0x1fac1c['innerHTML']=_0x59a5d8;const _0x18374a=document[_0x27139f(0x267)]('comparison-chart')[_0x27139f(0x528)]('2d');if(chartInstances[_0x27139f(0x8c6)])chartInstances[_0x27139f(0x8c6)][_0x27139f(0x7c2)]();chartInstances[_0x27139f(0x8c6)]=new Chart(_0x18374a,{'type':_0x27139f(0x493),'data':{'labels':[_0x27139f(0x2cc)],'datasets':[{'label':_0x27139f(0xbe8),'data':[_0x3b70e0],'backgroundColor':_0x27139f(0xb10)},{'label':_0x27139f(0xbf3),'data':[_0x2a3c4c],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xfbfc7}}}});const _0x365c2b=currentProjectData[_0x27139f(0xbf9)]||[],_0x166a97=_0x365c2b[_0x27139f(0x697)](_0x4268e9=>{const _0x2f37be=_0x27139f,_0x193c15=_0xb7a318[_0x2f37be(0x70b)](_0x445c8e=>_0x445c8e[_0x2f37be(0x6c4)]===_0x4268e9),_0xc6d9f8=_0x11fa1d['find'](_0x32ab53=>_0x32ab53['studentName']===_0x4268e9),_0x5e252d=_0x193c15?_0x193c15[_0x2f37be(0x3da)]:null,_0x25dd9d=_0xc6d9f8?_0xc6d9f8[_0x2f37be(0x3da)]:null,_0x4b5efa=_0x5e252d!==null&&_0x25dd9d!==null?_0x25dd9d-_0x5e252d:null,_0x3bfc44=_0x5e252d!==null?calculateZScore(_0x5e252d,_0x4aea9c[_0x2f37be(0xb80)],_0x4aea9c[_0x2f37be(0x920)]):null,_0x178225=_0x25dd9d!==null?calculateZScore(_0x25dd9d,_0x4f528a[_0x2f37be(0xb80)],_0x4f528a[_0x2f37be(0x920)]):null,_0x506a92=_0x3bfc44!==null?calculateTScore(_0x3bfc44):null,_0x4f2a76=_0x178225!==null?calculateTScore(_0x178225):null,_0x42b5fd=_0x506a92!==null&&_0x4f2a76!==null?_0x4f2a76-_0x506a92:null;return{'name':_0x4268e9,'preScore':_0x5e252d,'postScore':_0x25dd9d,'gain':_0x4b5efa,'preTScore':_0x506a92,'postTScore':_0x4f2a76,'tGain':_0x42b5fd};});renderIndividualComparisonTable(_0x166a97,_0x38d212);}catch(_0x23af5a){console[_0x27139f(0xa65)](_0x27139f(0xb8c),_0x23af5a),_0x1fac1c['innerHTML']=_0x27139f(0x260);}}async function saveBlueprintProject(){const _0x5e7b0c=_0x176601;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x5e7b0c(0xb70));return;}const _0x271083=prompt(_0x5e7b0c(0x4c8),_0x5e7b0c(0x1d2));if(!_0x271083||_0x271083[_0x5e7b0c(0xa5f)]()==='')return;const _0x159250={};extractedBlueprintData[_0x5e7b0c(0x304)][_0x5e7b0c(0x523)](_0x4b22b5=>{const _0x192e46=_0x5e7b0c;_0x4b22b5[_0x192e46(0xaee)]['forEach'](_0x447c77=>{const _0x5cbc7f=_0x192e46;_0x447c77[_0x5cbc7f(0x582)][_0x5cbc7f(0x523)](_0x48d56f=>{const _0x51a662=_0x5cbc7f,_0x1b76e4=_0x51a662(0x680)+Date[_0x51a662(0x937)]()+Math[_0x51a662(0x658)]()[_0x51a662(0x5bc)](0x24)[_0x51a662(0x6b6)](0x2,0x9);_0x159250[_0x1b76e4]={'sara':_0x4b22b5[_0x51a662(0xc0a)],'mainTopic':_0x447c77['topicName'],'subTopic':_0x48d56f,'status':_0x51a662(0xb8f),'lessonContent':null};});});});try{const _0x3c6efe=collection(db,_0x5e7b0c(0x94a)+appId+_0x5e7b0c(0xab6));await addDoc(_0x3c6efe,{'projectName':_0x271083[_0x5e7b0c(0xa5f)](),'gradeLevel':extractedBlueprintData[_0x5e7b0c(0xb29)],'topics':_0x159250,'createdAt':serverTimestamp()}),showMessage(_0x5e7b0c(0x598)+_0x271083[_0x5e7b0c(0xa5f)]()+_0x5e7b0c(0x842)),document[_0x5e7b0c(0x267)]('save-blueprint-as-project-btn')['classList']['add'](_0x5e7b0c(0xbc7));}catch(_0x32300c){console[_0x5e7b0c(0xa65)](_0x5e7b0c(0x1eb),_0x32300c),showMessage(_0x5e7b0c(0x17b));}}async function showBlueprintProjects(){const _0x243606=_0x176601,_0x2894ef=document[_0x243606(0x267)](_0x243606(0xa30)),_0x33fbad=document[_0x243606(0x267)](_0x243606(0x544));_0x33fbad['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x2894ef[_0x243606(0x25c)][_0x243606(0x167)](_0x243606(0xbc7));try{const _0x54f855=collection(db,_0x243606(0x94a)+appId+_0x243606(0xab6)),_0xa1a531=await getDocs(_0x54f855);if(_0xa1a531['empty']){_0x33fbad['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x4d0880=_0xa1a531[_0x243606(0xbff)][_0x243606(0x697)](_0x312e77=>({'id':_0x312e77['id'],..._0x312e77['data']()}));_0x4d0880[_0x243606(0x953)]((_0x4b1060,_0x1e9170)=>_0x4b1060[_0x243606(0x2ea)][_0x243606(0x3bf)](_0x1e9170[_0x243606(0x2ea)],'th')),_0x33fbad[_0x243606(0xab8)]=_0x4d0880[_0x243606(0x697)](_0x43a04f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x43a04f['projectName']+_0x243606(0x4a5)+_0x43a04f[_0x243606(0xb29)]+'\x20|\x20'+Object[_0x243606(0x966)](_0x43a04f['topics'])[_0x243606(0x2c7)]+_0x243606(0x908)+_0x43a04f['id']+_0x243606(0xae4)+_0x43a04f['id']+_0x243606(0x19e))['join']('');}catch(_0x19a511){console[_0x243606(0xa65)]('Error\x20loading\x20blueprint\x20projects:',_0x19a511),_0x33fbad['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x4ad5dc){const _0x52ef12=_0x176601;currentBlueprintProjectId=_0x4ad5dc,document[_0x52ef12(0x267)](_0x52ef12(0xa30))[_0x52ef12(0x25c)][_0x52ef12(0x8a5)](_0x52ef12(0xbc7)),showView(_0x52ef12(0x5aa)),projectDashboardView['classList']['add'](_0x52ef12(0xbc7));const _0x5bb7cc=document[_0x52ef12(0x267)]('blueprint-project-manager-view');_0x5bb7cc[_0x52ef12(0x25c)][_0x52ef12(0x167)](_0x52ef12(0xbc7)),document[_0x52ef12(0x267)](_0x52ef12(0xbdc))[_0x52ef12(0xab8)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x14c849=doc(db,_0x52ef12(0x94a)+appId+'/public/data/blueprintProjects',_0x4ad5dc),_0x13db49=await getDoc(_0x14c849);if(!_0x13db49[_0x52ef12(0x4b5)]())throw new Error(_0x52ef12(0xbe6));const _0x4984e8={'id':_0x13db49['id'],..._0x13db49[_0x52ef12(0xa77)]()};document[_0x52ef12(0x267)](_0x52ef12(0xbbe))[_0x52ef12(0x4c2)]=_0x4984e8[_0x52ef12(0x2ea)],renderBlueprintTopicManager(_0x4984e8);}catch(_0x344c7f){console['error'](_0x52ef12(0x675),_0x344c7f),showMessage(_0x344c7f['message']),showView(_0x52ef12(0x5aa));}}function renderBlueprintTopicManager(_0x5e8b0c){const _0x4fad2f=_0x176601,_0x32e367=document[_0x4fad2f(0x267)]('bp-topic-list-container'),_0x203f9d=_0x5e8b0c[_0x4fad2f(0x869)]||{};if(Object['keys'](_0x203f9d)[_0x4fad2f(0x2c7)]===0x0){_0x32e367[_0x4fad2f(0xab8)]=_0x4fad2f(0x61e);return;}const _0xfd2b98={};for(const _0x14feb7 in _0x203f9d){const _0x1830ac={'id':_0x14feb7,..._0x203f9d[_0x14feb7]},{sara:_0x320da,mainTopic:_0xf4ef90}=_0x1830ac;!_0xfd2b98[_0x320da]&&(_0xfd2b98[_0x320da]={}),!_0xfd2b98[_0x320da][_0xf4ef90]&&(_0xfd2b98[_0x320da][_0xf4ef90]=[]),_0xfd2b98[_0x320da][_0xf4ef90][_0x4fad2f(0x92e)](_0x1830ac);}let _0x113df1='';const _0x378eee=Object[_0x4fad2f(0x966)](_0xfd2b98)['sort']((_0x182bc3,_0x25c922)=>_0x182bc3[_0x4fad2f(0x3bf)](_0x25c922,'th'));for(const _0x2533c3 of _0x378eee){_0x113df1+=_0x4fad2f(0x3f6)+_0x2533c3+_0x4fad2f(0x497);const _0x20df88=Object['keys'](_0xfd2b98[_0x2533c3])[_0x4fad2f(0x953)]((_0x2c96dc,_0xfff90b)=>_0x2c96dc[_0x4fad2f(0x3bf)](_0xfff90b,'th'));for(const _0x4c438c of _0x20df88){_0x113df1+=_0x4fad2f(0xa10)+_0x4c438c+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0xfd2b98[_0x2533c3][_0x4c438c]['sort']((_0x1578a4,_0x2c609d)=>_0x1578a4['subTopic']['localeCompare'](_0x2c609d[_0x4fad2f(0x923)],'th')),_0xfd2b98[_0x2533c3][_0x4c438c][_0x4fad2f(0x523)](_0x4dae87=>{const _0x3dd680=_0x4fad2f,_0x371bb8=_0x4dae87['id'],_0x2d7b19=_0x4dae87[_0x3dd680(0x5db)]||[],_0x581bf2=_0x2d7b19[_0x3dd680(0x2c7)]>0x0;let _0x64e3ab='';if(_0x581bf2)_0x64e3ab='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x2d7b19[_0x3dd680(0x2c7)]+'\x20ชุด)</span>';else{const _0x26af9e=_0x4dae87[_0x3dd680(0x471)]===_0x3dd680(0xbec);_0x64e3ab=_0x3dd680(0x240)+(_0x26af9e?_0x3dd680(0x18e):_0x3dd680(0x667))+'\x22>'+(_0x26af9e?_0x3dd680(0x2c3):_0x3dd680(0x571))+_0x3dd680(0x82d);}const _0x510d64=_0x4dae87[_0x3dd680(0x471)]===_0x3dd680(0xbec),_0x5ee66c=!_0x510d64?'disabled\x20bg-gray-400\x20cursor-not-allowed':_0x3dd680(0x3d3),_0x5b66bd=!_0x510d64?_0x3dd680(0x1e8):_0x3dd680(0x55c);let _0xc156d6=_0x510d64?_0x3dd680(0x258):_0x3dd680(0x6e9);_0x113df1+=_0x3dd680(0x346)+_0x371bb8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x4dae87[_0x3dd680(0x923)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x64e3ab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-lesson-quiz-btn\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x5ee66c+_0x3dd680(0x81d)+_0x5b66bd+_0x3dd680(0x56d)+_0xc156d6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x113df1+=_0x4fad2f(0xb5e);}_0x113df1+=_0x4fad2f(0xba1);}_0x32e367[_0x4fad2f(0xab8)]=_0x113df1;}async function openTopicQuizBank(_0x12f08e){const _0x7b4fdd=_0x176601,_0x29ce48=document['getElementById'](_0x7b4fdd(0x725)),_0x38e486=document[_0x7b4fdd(0x267)](_0x7b4fdd(0x5a8));try{await ensureGlobalQuizzesLoaded();const _0x310101=doc(db,_0x7b4fdd(0x94a)+appId+_0x7b4fdd(0xab6),currentBlueprintProjectId),_0x5e14a9=await getDoc(_0x310101);if(!_0x5e14a9[_0x7b4fdd(0x4b5)]())return;const _0x2d2d80=_0x5e14a9[_0x7b4fdd(0xa77)](),_0x44bf15=_0x2d2d80['topics'][_0x12f08e];document[_0x7b4fdd(0x267)]('topic-bank-subtopic-name')['textContent']=_0x44bf15['subTopic'];const _0x3885c8=_0x44bf15[_0x7b4fdd(0x5db)]||[];if(_0x3885c8[_0x7b4fdd(0x2c7)]===0x0)_0x38e486['innerHTML']=_0x7b4fdd(0x676);else{const _0x2fbc3e=allQuizzesGlobal['filter'](_0x30cfc2=>_0x3885c8[_0x7b4fdd(0x4bd)](_0x30cfc2['id']));_0x38e486[_0x7b4fdd(0xab8)]=_0x2fbc3e['map'](_0x8310cb=>_0x7b4fdd(0x61d)+_0x8310cb['id']+_0x7b4fdd(0xbf2)+_0x8310cb['topic']+_0x7b4fdd(0x2ad)+_0x8310cb['id']+_0x7b4fdd(0xa9b)+_0x8310cb['questions']['length']+_0x7b4fdd(0x7af)+_0x8310cb['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x8310cb['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x8310cb['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x8310cb['id']+_0x7b4fdd(0x381)+_0x8310cb['id']+_0x7b4fdd(0xa17)+_0x8310cb['id']+_0x7b4fdd(0x52f)+_0x12f08e+'\x22\x20data-quiz-id=\x22'+_0x8310cb['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x7b4fdd(0x706)]('');}document['getElementById'](_0x7b4fdd(0x1b6))[_0x7b4fdd(0x476)]=()=>{openQuizSelectorForBlueprint(_0x12f08e);},document[_0x7b4fdd(0x267)](_0x7b4fdd(0x765))[_0x7b4fdd(0x476)]=()=>_0x29ce48[_0x7b4fdd(0x25c)][_0x7b4fdd(0x8a5)]('hidden'),_0x29ce48[_0x7b4fdd(0x25c)][_0x7b4fdd(0x167)](_0x7b4fdd(0xbc7));}catch(_0x340c46){showMessage(_0x340c46[_0x7b4fdd(0x193)]);}}async function openQuizSelectorForBlueprint(_0x5dbed3){const _0x5e9d96=_0x176601,_0xfad4ee=document[_0x5e9d96(0x267)](_0x5e9d96(0x23f)),_0x196f5c=document['getElementById'](_0x5e9d96(0x725));_0x196f5c['classList']['add'](_0x5e9d96(0xbc7)),document[_0x5e9d96(0x267)](_0x5e9d96(0x36d))?.[_0x5e9d96(0x167)]();const _0x23d1e6=document[_0x5e9d96(0x718)]('button');_0x23d1e6['id']='confirm-link-quiz-btn',_0x23d1e6[_0x5e9d96(0x69e)]=_0x5e9d96(0x1d4),_0x23d1e6[_0x5e9d96(0x4c2)]=_0x5e9d96(0x1e4),_0x23d1e6[_0x5e9d96(0x76a)]=!![];try{await ensureGlobalQuizzesLoaded(),_0xfad4ee[_0x5e9d96(0x25c)][_0x5e9d96(0x167)](_0x5e9d96(0xbc7)),renderQuizBankListForMultiSelect(''),document[_0x5e9d96(0x267)](_0x5e9d96(0x2a7))[_0x5e9d96(0x58e)][_0x5e9d96(0x5a6)]=_0x5e9d96(0x201),_0xfad4ee[_0x5e9d96(0x690)](_0x5e9d96(0x3c5))['appendChild'](_0x23d1e6);const _0x4f98aa=(_0x1e3f33=![])=>{const _0x3adc0f=_0x5e9d96;_0xfad4ee[_0x3adc0f(0x25c)][_0x3adc0f(0x8a5)](_0x3adc0f(0xbc7)),document['getElementById'](_0x3adc0f(0x2a7))[_0x3adc0f(0x58e)][_0x3adc0f(0x5a6)]=_0x3adc0f(0x80e),_0x23d1e6[_0x3adc0f(0x167)](),_0x1e3f33&&openTopicQuizBank(_0x5dbed3);};_0x23d1e6[_0x5e9d96(0x476)]=async()=>{const _0xbfa97=_0x5e9d96,_0x4c789c=Array[_0xbfa97(0x6d9)](document[_0xbfa97(0x6d4)]('.quiz-bank-checkbox:checked'))[_0xbfa97(0x697)](_0x57ed28=>_0x57ed28[_0xbfa97(0x832)]);if(_0x4c789c['length']===0x0)return;try{const _0x4c7745=doc(db,'artifacts/'+appId+_0xbfa97(0xab6),currentBlueprintProjectId),_0x23fbf0=(await getDoc(_0x4c7745))[_0xbfa97(0xa77)](),_0x4f2f93=_0x23fbf0[_0xbfa97(0x869)][_0x5dbed3][_0xbfa97(0x5db)]||[],_0x501a9e=[...new Set([..._0x4f2f93,..._0x4c789c])];await updateDoc(_0x4c7745,{[_0xbfa97(0xa3c)+_0x5dbed3+_0xbfa97(0x882)]:_0x501a9e}),showMessage(_0xbfa97(0x62f)+_0x4c789c[_0xbfa97(0x2c7)]+_0xbfa97(0x7ea)),_0x4f98aa(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xd1181c){console[_0xbfa97(0xa65)](_0xbfa97(0x224),_0xd1181c);}},document[_0x5e9d96(0x267)]('cancel-quiz-bank-btn')[_0x5e9d96(0x476)]=()=>_0x4f98aa(!![]);}catch(_0x46cbe2){showMessage(_0x46cbe2[_0x5e9d96(0x193)]),_0x196f5c[_0x5e9d96(0x25c)][_0x5e9d96(0x167)]('hidden');}}function handleClearLinkedQuiz(_0x5c1606){const _0x376ddc=_0x176601;showConfirmation(_0x376ddc(0x259),async()=>{const _0x2e3a4d=_0x376ddc;try{const _0x33ae18=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x33ae18,{[_0x2e3a4d(0xa3c)+_0x5c1606+_0x2e3a4d(0x88f)]:deleteField()}),showMessage(_0x2e3a4d(0x4e3)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1012fb){console[_0x2e3a4d(0xa65)](_0x2e3a4d(0x73c),_0x1012fb),showMessage(_0x2e3a4d(0x66d));}});}async function addTopicToProject(){const _0x51e76f=_0x176601,_0x476015=prompt(_0x51e76f(0xaa6));if(!_0x476015||_0x476015[_0x51e76f(0xa5f)]()==='')return;const _0x57aa5b=prompt(_0x51e76f(0x377),'สาระที่\x201'),_0x17d3b2=prompt(_0x51e76f(0xad7),_0x51e76f(0x813)),_0x261004=_0x51e76f(0x680)+Date[_0x51e76f(0x937)]()+Math[_0x51e76f(0x658)]()[_0x51e76f(0x5bc)](0x24)[_0x51e76f(0x6b6)](0x2,0x9),_0x34602a={'sara':_0x57aa5b,'mainTopic':_0x17d3b2,'subTopic':_0x476015[_0x51e76f(0xa5f)](),'status':_0x51e76f(0xb8f),'lessonContent':null};try{const _0x11d93f=doc(db,_0x51e76f(0x94a)+appId+_0x51e76f(0xab6),currentBlueprintProjectId);await updateDoc(_0x11d93f,{[_0x51e76f(0xa3c)+_0x261004]:_0x34602a}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x15d8be){console[_0x51e76f(0xa65)](_0x51e76f(0xafa),_0x15d8be),showMessage(_0x51e76f(0x457));}}async function editTopicInProject(_0x5d7bcb){const _0x57ce89=_0x176601,_0x3a7416=document[_0x57ce89(0x690)](_0x57ce89(0x97c)+_0x5d7bcb+'\x22]'),_0x355c82=_0x3a7416['querySelector'](_0x57ce89(0x470)),_0x45264b=_0x355c82[_0x57ce89(0x4c2)],_0x3fe8e0=prompt(_0x57ce89(0x18b),_0x45264b);if(!_0x3fe8e0||_0x3fe8e0[_0x57ce89(0xa5f)]()===''||_0x3fe8e0[_0x57ce89(0xa5f)]()===_0x45264b)return;try{const _0x243f5d=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x243f5d,{[_0x57ce89(0xa3c)+_0x5d7bcb+_0x57ce89(0x316)]:_0x3fe8e0[_0x57ce89(0xa5f)]()}),_0x355c82['textContent']=_0x3fe8e0[_0x57ce89(0xa5f)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x30ad15){console[_0x57ce89(0xa65)](_0x57ce89(0x585),_0x30ad15),showMessage(_0x57ce89(0x9c8));}}async function deleteTopicFromProject(_0x29973b){const _0x52e660=_0x176601;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x11665f=doc(db,'artifacts/'+appId+_0x52e660(0xab6),currentBlueprintProjectId);await updateDoc(_0x11665f,{[_0x52e660(0xa3c)+_0x29973b]:deleteField()}),document[_0x52e660(0x690)](_0x52e660(0x97c)+_0x29973b+'\x22]')[_0x52e660(0x167)](),showMessage(_0x52e660(0xb2e));}catch(_0x5e6abc){console[_0x52e660(0xa65)]('Error\x20deleting\x20topic:',_0x5e6abc),showMessage(_0x52e660(0xab5));}}async function generateAndSaveLessonForBlueprint(_0x4b0e43,_0x103079,_0x51ae1d){handleGenerateAndShowLesson(_0x103079,_0x51ae1d);const _0x375a2e=setInterval(async()=>{const _0x2fcd66=_0x1728,_0x9f5f0c=document[_0x2fcd66(0x267)](_0x2fcd66(0xb69)),_0x550675=_0x9f5f0c[_0x2fcd66(0x25c)][_0x2fcd66(0xb4f)](_0x2fcd66(0xbc7));if(_0x550675){clearInterval(_0x375a2e);if(currentApplicationData&&currentApplicationData[_0x2fcd66(0x2c7)]>0x0){const _0x481b0a={'point':document[_0x2fcd66(0x267)](_0x2fcd66(0xab0))['innerHTML'],'memory':document[_0x2fcd66(0x267)](_0x2fcd66(0x6a2))[_0x2fcd66(0xab8)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x2fcd66(0x267)](_0x2fcd66(0x450))['innerHTML']};try{const _0x5507a2=doc(db,_0x2fcd66(0x94a)+appId+_0x2fcd66(0xab6),currentBlueprintProjectId);await updateDoc(_0x5507a2,{[_0x2fcd66(0xa3c)+_0x4b0e43+'.lessonContent']:_0x481b0a,['topics.'+_0x4b0e43+_0x2fcd66(0x7a2)]:'generated'}),console[_0x2fcd66(0x469)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x4b0e43+_0x2fcd66(0x8be)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1d04c1){console[_0x2fcd66(0xa65)](_0x2fcd66(0x823),_0x1d04c1);}}}},0x3e8);}function displayHalfMarkResult(_0x5480d0,_0x2398e2){const _0x42298e=_0x176601,_0x37f77a=_0x5480d0>=_0x2398e2/0x2,_0x2a3a95=_0x37f77a?_0x42298e(0xaec):_0x42298e(0x8e1),_0x15be09=_0x37f77a?_0x42298e(0x26f):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x206804=_0x37f77a?_0x42298e(0xb5a):_0x42298e(0x904),_0x5cb34b=_0x37f77a?_0x42298e(0x82c):_0x42298e(0xad2),_0x1e070e=_0x37f77a?'ยอดเยี่ยม!':_0x42298e(0x28e);let _0x5e5b19=_0x42298e(0x1b7)+_0x2a3a95+_0x42298e(0x951)+_0x15be09+_0x42298e(0x35c)+_0x206804+'\x20mb-2\x22>'+_0x5cb34b+_0x42298e(0x164)+_0x1e070e+_0x42298e(0xb27);studentResultArea['innerHTML']=_0x5e5b19,studentResultArea['classList'][_0x42298e(0x167)](_0x42298e(0xbc7)),studentQuizArea[_0x42298e(0x25c)][_0x42298e(0x8a5)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x37f77a});}function displayPerfectScoreResult(_0x23085d,_0x52453e){const _0x3a0925=_0x176601,_0x40b489=_0x23085d===_0x52453e,_0x41eb80=_0x40b489?_0x3a0925(0x534):_0x3a0925(0x3fc),_0x4cf3a2=_0x40b489?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x25789e=_0x40b489?_0x3a0925(0x69f):_0x3a0925(0x6c6),_0x4d0c60=_0x40b489?'คะแนนเต็ม!':_0x3a0925(0x482),_0x5efd86=_0x40b489?_0x3a0925(0x540):_0x3a0925(0x2b5);let _0x4a80d2=_0x3a0925(0x1b7)+_0x41eb80+_0x3a0925(0x951)+_0x4cf3a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x25789e+_0x3a0925(0x587)+_0x4d0c60+_0x3a0925(0x164)+_0x5efd86+_0x3a0925(0xb27);studentResultArea['innerHTML']=_0x4a80d2,studentResultArea[_0x3a0925(0x25c)][_0x3a0925(0x167)]('hidden'),studentQuizArea[_0x3a0925(0x25c)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x23085d,'totalQuestions':_0x52453e});}function renderIndividualComparisonTable(_0x31f942,_0x6daca7){const _0x3209b8=_0x176601;_0x31f942[_0x3209b8(0x953)]((_0x3747b4,_0x18002e)=>(_0x18002e[_0x3209b8(0x2e2)]??-Infinity)-(_0x3747b4[_0x3209b8(0x2e2)]??-Infinity));let _0x314920=_0x3209b8(0xb43);_0x31f942[_0x3209b8(0x2c7)]===0x0?_0x314920+=_0x3209b8(0xa26):_0x31f942[_0x3209b8(0x523)]((_0x34b59f,_0x28a194)=>{const _0x21c772=_0x3209b8;let _0x30e45c='-',_0x268cdf='';if(_0x34b59f[_0x21c772(0xa8b)]!==null){const _0x3b4ee2=_0x34b59f[_0x21c772(0xa8b)]>0x0?_0x21c772(0x1b5):_0x34b59f[_0x21c772(0xa8b)]<0x0?_0x21c772(0x827):_0x21c772(0xae3),_0x5658b8=_0x34b59f[_0x21c772(0xa8b)]>0x0?'+':'';_0x30e45c='<span\x20class=\x22font-bold\x20'+_0x3b4ee2+'\x22>'+_0x5658b8+_0x34b59f[_0x21c772(0xa8b)]+_0x21c772(0x82d);if(_0x34b59f['gain']>0x0)_0x268cdf=_0x21c772(0x337);else _0x34b59f[_0x21c772(0xa8b)]<0x0?_0x268cdf='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x268cdf=_0x21c772(0x9a3);}let _0x1985d1='-';if(_0x34b59f[_0x21c772(0x2e2)]!==null){const _0x42436a=_0x34b59f[_0x21c772(0x2e2)]>0x0?_0x21c772(0x1b5):_0x34b59f[_0x21c772(0x2e2)]<0x0?'text-red-600':'text-gray-500',_0x145e53=_0x34b59f[_0x21c772(0x2e2)]>0x0?'+':'';_0x1985d1=_0x21c772(0x573)+_0x42436a+'\x22>'+_0x145e53+_0x34b59f[_0x21c772(0x2e2)][_0x21c772(0x366)](0x2)+_0x21c772(0x82d);}_0x314920+=_0x21c772(0xa67)+(_0x28a194+0x1)+_0x21c772(0x9c9)+_0x34b59f['name']+_0x21c772(0x886)+(_0x34b59f[_0x21c772(0x515)]??'-')+_0x21c772(0x58a)+(_0x34b59f['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x30e45c+_0x21c772(0x54f)+_0x268cdf+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x34b59f[_0x21c772(0x853)]?.['toFixed'](0x2)??'-')+_0x21c772(0x8c5)+(_0x34b59f['postTScore']?.[_0x21c772(0x366)](0x2)??'-')+_0x21c772(0x886)+_0x1985d1+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x314920+=_0x3209b8(0x80d),_0x6daca7[_0x3209b8(0xab8)]=_0x314920;}function handleRenameQuiz(_0xd20084,_0x3d4bfb){const _0x474e6f=_0x176601;actionTargetId=_0xd20084,document['getElementById']('rename-quiz-input')[_0x474e6f(0x832)]=_0x3d4bfb,renameQuizModal[_0x474e6f(0x25c)][_0x474e6f(0x167)](_0x474e6f(0xbc7));}function setupComparisonModalTabs(){const _0x52afc4=_0x176601,_0x41d099=document['getElementById'](_0x52afc4(0x36f)),_0x22a60b=document[_0x52afc4(0x267)](_0x52afc4(0x500)),_0x2be3ae=document[_0x52afc4(0x267)]('comparison-overall-content'),_0x3b9c1f=document['getElementById'](_0x52afc4(0x766));_0x41d099[_0x52afc4(0xbb9)](_0x52afc4(0x292),()=>{const _0x35b42a=_0x52afc4;_0x41d099[_0x35b42a(0x25c)][_0x35b42a(0x8a5)](_0x35b42a(0x866)),_0x22a60b[_0x35b42a(0x25c)][_0x35b42a(0x167)](_0x35b42a(0x866)),_0x2be3ae[_0x35b42a(0x25c)][_0x35b42a(0x167)](_0x35b42a(0xbc7)),_0x3b9c1f['classList'][_0x35b42a(0x8a5)](_0x35b42a(0xbc7));}),_0x22a60b['addEventListener'](_0x52afc4(0x292),()=>{const _0x115e46=_0x52afc4;_0x22a60b[_0x115e46(0x25c)]['add'](_0x115e46(0x866)),_0x41d099['classList'][_0x115e46(0x167)](_0x115e46(0x866)),_0x3b9c1f[_0x115e46(0x25c)][_0x115e46(0x167)](_0x115e46(0xbc7)),_0x2be3ae[_0x115e46(0x25c)]['add'](_0x115e46(0xbc7));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x61ed90=''){const _0x55af79=_0x176601,_0x309335=document['getElementById']('global-quiz-list'),_0x183d81=_0x61ed90['toLowerCase']()[_0x55af79(0xa5f)](),_0x316e35=allQuizzesGlobal[_0x55af79(0x697)](_0x3c4e23=>({..._0x3c4e23,'projectName':allProjects[_0x55af79(0x70b)](_0x3b689c=>_0x3b689c['id']===_0x3c4e23[_0x55af79(0x8ae)])?.[_0x55af79(0x2ea)]||_0x3c4e23['projectId']}))['filter'](_0x560f8e=>(_0x560f8e[_0x55af79(0x62b)]||'')[_0x55af79(0x280)]()[_0x55af79(0x4bd)](_0x183d81)||(_0x560f8e[_0x55af79(0x2ea)]||'')[_0x55af79(0x280)]()[_0x55af79(0x4bd)](_0x183d81));document[_0x55af79(0x267)]('global-live-game-count')[_0x55af79(0x4c2)]='('+_0x316e35[_0x55af79(0x2c7)]+_0x55af79(0x5ab),_0x309335['innerHTML']=_0x316e35[_0x55af79(0x2c7)]?_0x316e35[_0x55af79(0x697)](_0x3cebaf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3cebaf['id']+_0x55af79(0x59e)+(_0x3cebaf[_0x55af79(0x62b)]||_0x55af79(0x8f8))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x3cebaf['questions']?.[_0x55af79(0x2c7)]||0x0)+_0x55af79(0x910)+_0x3cebaf['projectName']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x55af79(0x706)](''):_0x55af79(0x5de),selectedGlobalQuizId=null,document[_0x55af79(0x267)](_0x55af79(0xba3))[_0x55af79(0x76a)]=!![],_0x309335[_0x55af79(0x6d4)](_0x55af79(0x367))[_0x55af79(0x523)](_0x27021e=>{_0x27021e['addEventListener']('click',()=>{const _0x244d4b=_0x1728;selectedGlobalQuizId=_0x27021e['dataset']['id'],_0x309335['querySelectorAll'](_0x244d4b(0x836))[_0x244d4b(0x523)](_0xe0fa3d=>_0xe0fa3d[_0x244d4b(0x25c)]['remove'](_0x244d4b(0x8e5),'ring-2',_0x244d4b(0x94c))),_0x27021e[_0x244d4b(0x25c)]['add'](_0x244d4b(0x8e5),_0x244d4b(0x92a),_0x244d4b(0x94c)),document['getElementById'](_0x244d4b(0xba3))[_0x244d4b(0x76a)]=![];});});}function listenForLiveGameUpdates(){const _0x24b1d7=_0x176601;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x410813=doc(db,_0x24b1d7(0x94a)+appId+_0x24b1d7(0x81a),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x410813,_0x2e1fe1=>{const _0x3847c9=_0x24b1d7;if(!_0x2e1fe1[_0x3847c9(0x4b5)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x3ef8de=_0x2e1fe1[_0x3847c9(0xa77)]();_0x3ef8de['shuffledQuiz']&&(currentQuizData=_0x3ef8de[_0x3847c9(0x860)]);!currentQuizData&&_0x3ef8de[_0x3847c9(0x49a)]&&((async()=>{const _0x5e93cb=_0x3847c9;try{const _0x4afbff=doc(db,_0x5e93cb(0x94a)+appId+_0x5e93cb(0xb3f),_0x3ef8de[_0x5e93cb(0x49a)]),_0x364c5e=await getDoc(_0x4afbff);_0x364c5e['exists']()&&(currentQuizData={'id':_0x364c5e['id'],..._0x364c5e['data']()});}catch(_0xbd845){console[_0x5e93cb(0xa65)](_0x5e93cb(0x467),_0xbd845);}})());switch(_0x3ef8de[_0x3847c9(0x471)]){case _0x3847c9(0x253):if(currentMode===_0x3847c9(0x310)){const _0x4f3317=_0x3ef8de[_0x3847c9(0x3e4)]?Object[_0x3847c9(0x899)](_0x3ef8de[_0x3847c9(0x3e4)]):[],_0x2cba6c=_0x4f3317[_0x3847c9(0xb79)](([_0x1587f1,_0x499676])=>_0x499676['status']===_0x3847c9(0x866)),_0x694bed=document[_0x3847c9(0x267)](_0x3847c9(0x70a));if(_0x694bed)_0x694bed[_0x3847c9(0x4c2)]=_0x2cba6c['length'];const _0x2e47cd=document[_0x3847c9(0x267)]('player-list-lobby');_0x2e47cd&&(_0x2e47cd[_0x3847c9(0xab8)]=_0x2cba6c[_0x3847c9(0x697)](([_0x36cf8f,_0x353d57])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x36cf8f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x36cf8f+_0x3847c9(0xaed))[_0x3847c9(0x706)](''));const _0x200168=document[_0x3847c9(0x267)](_0x3847c9(0xc01));_0x200168&&(_0x200168['disabled']=_0x2cba6c[_0x3847c9(0x2c7)]===0x0);}else showView(_0x3847c9(0x293)),liveGameView[_0x3847c9(0xab8)]=_0x3847c9(0xa91)+currentStudentName+_0x3847c9(0x3ca);break;case _0x3847c9(0x6a1):const _0x11f6a6=_0x3ef8de[_0x3847c9(0x8d0)];if(currentQuizData&&currentQuizData[_0x3847c9(0x9ce)][_0x11f6a6]){const _0x2fe805=currentQuizData[_0x3847c9(0x9ce)][_0x11f6a6],_0x477cbf=_0x3ef8de[_0x3847c9(0xb92)]||_0x3847c9(0x250);switch(_0x477cbf){case _0x3847c9(0x557):currentMode===_0x3847c9(0x310)?showAdminSummaryView(_0x3ef8de,_0x2fe805):showPlayerSummaryView(_0x3ef8de,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x3ef8de);break;case'answering':default:if(currentMode===_0x3847c9(0x310)){const _0x50efc5=writeBatch(db);let _0x12ce87=![];Object[_0x3847c9(0x899)](_0x3ef8de[_0x3847c9(0x3e4)])[_0x3847c9(0x523)](([_0x5ea778,_0x4deb2a])=>{const _0x3f9917=_0x3847c9;if(_0x4deb2a[_0x3f9917(0x471)]==='active'&&_0x4deb2a[_0x3f9917(0x32a)]&&!_0x4deb2a[_0x3f9917(0x396)]){_0x12ce87=!![];const _0x81c5bc=_0x4deb2a['submittedAt'][_0x3f9917(0x479)]()-_0x3ef8de[_0x3f9917(0x6db)][_0x3f9917(0x479)]();let _0x1a781c=0x0;if(_0x4deb2a[_0x3f9917(0x6b5)]){const _0x44fdab=0x3e8,_0x23389f=0x1f4,_0x279bf1=0x4e20;let _0x3286af=_0x81c5bc/_0x279bf1;if(_0x3286af>0x1)_0x3286af=0x1;const _0x3b1e63=Math['round'](_0x3286af*_0x23389f);_0x1a781c=_0x44fdab-_0x3b1e63;}const _0x4f1fb2=doc(db,_0x3f9917(0x94a)+appId+_0x3f9917(0x81a),currentLiveGameId);_0x50efc5[_0x3f9917(0x2c9)](_0x4f1fb2,{[_0x3f9917(0x8ef)+_0x5ea778+_0x3f9917(0xb4b)]:increment(_0x1a781c),[_0x3f9917(0x8ef)+_0x5ea778+'.pointsLastQuestion']:_0x1a781c,[_0x3f9917(0x8ef)+_0x5ea778+_0x3f9917(0x179)]:!![]});}});_0x12ce87&&_0x50efc5['commit']()[_0x3847c9(0x1f7)](_0x296654=>console[_0x3847c9(0xa65)]('Error\x20committing\x20score\x20updates:',_0x296654));lastRenderedAdminQuestionIndex!==_0x11f6a6&&(showAdminLiveQuestionView(_0x2fe805,_0x11f6a6,currentQuizData[_0x3847c9(0x9ce)][_0x3847c9(0x2c7)]),lastRenderedAdminQuestionIndex=_0x11f6a6);const _0x4043dc=_0x3ef8de[_0x3847c9(0x3e4)]||{},_0x4b7d3c=Object[_0x3847c9(0x8f5)](_0x4043dc)[_0x3847c9(0xb79)](_0x35e86f=>_0x35e86f[_0x3847c9(0x471)]===_0x3847c9(0x866)),_0xfb6c68=_0x4b7d3c[_0x3847c9(0x2c7)],_0x47c5ff=_0x4b7d3c[_0x3847c9(0xb79)](_0x2f0d15=>_0x2f0d15[_0x3847c9(0x5f8)]===!![])[_0x3847c9(0x2c7)],_0x36ebbb=document['getElementById'](_0x3847c9(0x70f));if(_0x36ebbb)_0x36ebbb[_0x3847c9(0x4c2)]=_0x47c5ff+'/'+_0xfb6c68;const _0x13d67e=document['getElementById'](_0x3847c9(0x27c));if(_0x13d67e){let _0x5ca27d=Object[_0x3847c9(0x899)](_0x4043dc)[_0x3847c9(0xb79)](([_0x4e5438,_0x39b13c])=>_0x39b13c[_0x3847c9(0x471)]==='active')[_0x3847c9(0x697)](([_0x392150,_0x4949cd])=>{const _0x2aac4f=_0x3847c9,_0x4c882a=_0x4949cd[_0x2aac4f(0x5f8)]===!![],_0x698e39=_0x4c882a?'bg-green-500':_0x2aac4f(0x33a),_0x28207c=_0x4c882a?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x2aac4f(0x623);return _0x2aac4f(0x170)+_0x698e39+_0x2aac4f(0xb0d)+_0x28207c+_0x2aac4f(0xb2a)+_0x392150+_0x2aac4f(0x7f8)+_0x392150+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x13d67e['innerHTML']=_0x5ca27d||_0x3847c9(0x23e);}_0xfb6c68>0x0&&_0x47c5ff===_0xfb6c68&&revealAnswerForAdmin(_0x11f6a6,currentQuizData[_0x3847c9(0x9ce)][_0x3847c9(0x2c7)]);}else{const _0x4fb882=_0x3ef8de[_0x3847c9(0x3e4)][currentStudentName];_0x4fb882&&!_0x4fb882['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x2fe805,_0x11f6a6,currentQuizData[_0x3847c9(0x9ce)][_0x3847c9(0x2c7)]);}break;}}break;case'podium':showPodiumView(_0x3ef8de[_0x3847c9(0x3e4)],_0x3847c9(0x2e6));break;}});}async function handleKickPlayer(_0x3d0c4c){const _0x190f76=_0x176601;if(!currentLiveGameId||!_0x3d0c4c)return;const _0x3bd6ae=doc(db,'artifacts/'+appId+_0x190f76(0x81a),currentLiveGameId),_0x5e2b31={};_0x5e2b31[_0x190f76(0x8ef)+_0x3d0c4c+_0x190f76(0x7a2)]='inactive';try{await updateDoc(_0x3bd6ae,_0x5e2b31);}catch(_0x1de621){console[_0x190f76(0xa65)]('Failed\x20to\x20kick\x20player\x20'+_0x3d0c4c+':',_0x1de621),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x48bdce=_0x176601;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5d102e){console[_0x48bdce(0xa65)]('Authentication\x20failed:',_0x5d102e),showMessage(_0x48bdce(0x443));}}function showView(_0x479dd0){const _0x24384c=_0x176601;adminView[_0x24384c(0x25c)]['add'](_0x24384c(0xbc7)),studentView['classList'][_0x24384c(0x8a5)](_0x24384c(0xbc7)),projectDashboardView[_0x24384c(0x25c)][_0x24384c(0x8a5)]('hidden'),projectDetailView[_0x24384c(0x25c)][_0x24384c(0x8a5)](_0x24384c(0xbc7)),quizResultsView[_0x24384c(0x25c)]['add'](_0x24384c(0xbc7)),liveGameView['classList'][_0x24384c(0x8a5)](_0x24384c(0xbc7)),studentInitialView[_0x24384c(0x25c)][_0x24384c(0x8a5)](_0x24384c(0xbc7)),studentJoinGameView['classList']['add'](_0x24384c(0xbc7)),studentNameSelectionView[_0x24384c(0x25c)]['add'](_0x24384c(0xbc7)),studentQuizArea[_0x24384c(0x25c)][_0x24384c(0x8a5)](_0x24384c(0xbc7)),studentResultArea[_0x24384c(0x25c)]['add'](_0x24384c(0xbc7)),studentReadingArea[_0x24384c(0x25c)][_0x24384c(0x8a5)](_0x24384c(0xbc7));const _0x586fb0=document[_0x24384c(0x267)](_0x24384c(0x74a)),_0x1cba40=document['getElementById']('student-progress-view');if(_0x586fb0)_0x586fb0[_0x24384c(0x25c)]['add'](_0x24384c(0xbc7));if(_0x1cba40)_0x1cba40['classList'][_0x24384c(0x8a5)](_0x24384c(0xbc7));switch(_0x479dd0){case _0x24384c(0x5aa):adminView[_0x24384c(0x25c)][_0x24384c(0x167)](_0x24384c(0xbc7)),projectDashboardView['classList']['remove'](_0x24384c(0xbc7));break;case _0x24384c(0xbfb):adminView['classList']['remove'](_0x24384c(0xbc7)),projectDetailView['classList'][_0x24384c(0x167)](_0x24384c(0xbc7));break;case _0x24384c(0x79e):adminView[_0x24384c(0x25c)][_0x24384c(0x167)](_0x24384c(0xbc7)),quizResultsView[_0x24384c(0x25c)][_0x24384c(0x167)](_0x24384c(0xbc7));break;case _0x24384c(0x1de):studentView[_0x24384c(0x25c)][_0x24384c(0x167)](_0x24384c(0xbc7)),studentInitialView[_0x24384c(0x25c)][_0x24384c(0x167)](_0x24384c(0xbc7));break;case _0x24384c(0x293):liveGameView[_0x24384c(0x25c)][_0x24384c(0x167)]('hidden');break;case'student-team-join':studentView[_0x24384c(0x25c)][_0x24384c(0x167)](_0x24384c(0xbc7));if(_0x586fb0)_0x586fb0[_0x24384c(0x25c)][_0x24384c(0x167)](_0x24384c(0xbc7));break;case _0x24384c(0x3d0):studentView[_0x24384c(0x25c)][_0x24384c(0x167)]('hidden');if(_0x1cba40)_0x1cba40[_0x24384c(0x25c)][_0x24384c(0x167)]('hidden');break;default:studentView['classList'][_0x24384c(0x167)](_0x24384c(0xbc7)),studentInitialView['classList'][_0x24384c(0x167)]('hidden');break;}}function showJoinGameView(){const _0x3b9709=_0x176601;studentInitialView[_0x3b9709(0x25c)][_0x3b9709(0x8a5)](_0x3b9709(0xbc7)),studentJoinGameView[_0x3b9709(0x25c)][_0x3b9709(0x167)](_0x3b9709(0xbc7));}async function handleSaveVisibilitySettings(){const _0x2f905d=_0x176601;if(!currentProjectId)return;const _0xe57c16=doc(db,_0x2f905d(0x94a)+appId+_0x2f905d(0x32c),currentProjectId);try{await updateDoc(_0xe57c16,{'settings.showInStudentDashboard':document['getElementById'](_0x2f905d(0x8f9))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x2f905d(0xabc))[_0x2f905d(0x6e2)],'settings.passcode':document[_0x2f905d(0x267)]('project-passcode-input')[_0x2f905d(0x832)]['trim']()}),showMessage(_0x2f905d(0x4d6));}catch(_0x26c658){console[_0x2f905d(0xa65)]('Error\x20saving\x20visibility\x20settings:',_0x26c658),showMessage(_0x2f905d(0xa2c));}}function setupEventListeners(){const _0x405e84=_0x176601;document[_0x405e84(0x267)](_0x405e84(0x725))[_0x405e84(0xbb9)](_0x405e84(0x292),async _0x32a261=>{const _0x55e94f=_0x405e84,_0x42de8b=document['getElementById'](_0x55e94f(0x725)),_0x5f2f7d=_0x32a261[_0x55e94f(0x763)][_0x55e94f(0x9c6)](_0x55e94f(0x86c)),_0x50f559=_0x32a261[_0x55e94f(0x763)][_0x55e94f(0x9c6)](_0x55e94f(0x817)),_0x584065=_0x32a261[_0x55e94f(0x763)][_0x55e94f(0x9c6)]('.bp-present-btn'),_0x428ce1=_0x32a261['target'][_0x55e94f(0x9c6)](_0x55e94f(0xa40)),_0x33590e=_0x32a261[_0x55e94f(0x763)][_0x55e94f(0x9c6)](_0x55e94f(0x37b)),_0x3f1cc5=_0x32a261['target'][_0x55e94f(0x9c6)]('.bp-game-btn');if(_0x5f2f7d){const _0x33a447=_0x5f2f7d[_0x55e94f(0x89d)][_0x55e94f(0x49a)];showQuizDetailView(_0x33a447),_0x42de8b[_0x55e94f(0x25c)]['add'](_0x55e94f(0xbc7));}else{if(_0x50f559){const _0x2ceb78=_0x50f559[_0x55e94f(0x89d)][_0x55e94f(0x4f5)],_0x55201d=_0x50f559['dataset'][_0x55e94f(0x49a)],_0x5644ac=allQuizzesGlobal[_0x55e94f(0x70b)](_0x4f8560=>_0x4f8560['id']===_0x55201d),_0x2a9b3e=_0x5644ac?_0x5644ac['topic']:_0x55e94f(0x70e);showConfirmation(_0x55e94f(0x5e2)+_0x2a9b3e+_0x55e94f(0x596),async()=>{const _0x8a49d7=_0x55e94f;try{const _0x3c88e1=doc(db,_0x8a49d7(0x94a)+appId+_0x8a49d7(0xab6),currentBlueprintProjectId);await updateDoc(_0x3c88e1,{[_0x8a49d7(0xa3c)+_0x2ceb78+_0x8a49d7(0x882)]:arrayRemove(_0x55201d)}),showMessage(_0x8a49d7(0x96d)),openTopicQuizBank(_0x2ceb78),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x457b12){console['error']('Error\x20unlinking\x20quiz:',_0x457b12),showMessage(_0x8a49d7(0x437));}});}else{if(_0x584065){const _0x35c252=_0x584065[_0x55e94f(0x89d)][_0x55e94f(0x49a)],_0x5880d7=allQuizzesGlobal[_0x55e94f(0x70b)](_0x530208=>_0x530208['id']===_0x35c252);_0x5880d7&&(startPresentation(_0x5880d7),_0x42de8b['classList'][_0x55e94f(0x8a5)](_0x55e94f(0xbc7)));}else{if(_0x428ce1){const _0x1fac84=_0x428ce1[_0x55e94f(0x89d)]['quizId'],_0x30a0ea=allQuizzesGlobal['find'](_0x2df879=>_0x2df879['id']===_0x1fac84);_0x30a0ea&&(currentQuizData=_0x30a0ea,startAdminTest(),_0x42de8b['classList'][_0x55e94f(0x8a5)](_0x55e94f(0xbc7)));}else{if(_0x33590e)handleStartLiveRace(_0x33590e[_0x55e94f(0x89d)]['quizId']),_0x42de8b[_0x55e94f(0x25c)][_0x55e94f(0x8a5)](_0x55e94f(0xbc7));else{if(_0x3f1cc5){const _0x4630c4=_0x3f1cc5[_0x55e94f(0x89d)][_0x55e94f(0x49a)],_0x4ed9c7=_0x3f1cc5[_0x55e94f(0x89d)][_0x55e94f(0x2cf)],_0xd0897d=allQuizzesGlobal[_0x55e94f(0x70b)](_0x4b11bf=>_0x4b11bf['id']===_0x4630c4);_0xd0897d&&(showGameStartConfirmationModal(_0x4630c4,_0x4ed9c7,_0xd0897d['topic']),_0x42de8b[_0x55e94f(0x25c)][_0x55e94f(0x8a5)](_0x55e94f(0xbc7)));}}}}}}}),document[_0x405e84(0x267)]('manual-create-blueprint-btn')['addEventListener']('click',()=>{const _0x22f04b=_0x405e84;document[_0x22f04b(0x267)](_0x22f04b(0x8bc))[_0x22f04b(0x25c)][_0x22f04b(0x167)]('hidden'),document[_0x22f04b(0x267)]('manual-bp-project-name')[_0x22f04b(0x832)]='',document[_0x22f04b(0x267)](_0x22f04b(0x8a8))[_0x22f04b(0x832)]='',document[_0x22f04b(0x267)]('manual-bp-content')[_0x22f04b(0x832)]='';}),document[_0x405e84(0x267)](_0x405e84(0x294))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x39fc33=_0x405e84;document['getElementById']('manual-blueprint-modal')[_0x39fc33(0x25c)][_0x39fc33(0x8a5)](_0x39fc33(0xbc7));}),document[_0x405e84(0x267)](_0x405e84(0x49c))[_0x405e84(0xbb9)](_0x405e84(0x292),handleManualBlueprintSave),document['getElementById'](_0x405e84(0x8c3))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>document[_0x405e84(0x267)](_0x405e84(0xa1f))[_0x405e84(0x25c)]['add'](_0x405e84(0xbc7))),document['getElementById'](_0x405e84(0x453))['addEventListener'](_0x405e84(0x292),handleSaveBlueprintPageSettings),document[_0x405e84(0x267)]('bp-quiz-settings-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),openBlueprintQuizSettings),document[_0x405e84(0x267)]('save-blueprint-as-project-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),saveBlueprintProject),document[_0x405e84(0x267)](_0x405e84(0x682))[_0x405e84(0xbb9)]('click',showBlueprintProjects),document['getElementById']('cancel-blueprint-projects-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x5bbaf9=_0x405e84;document[_0x5bbaf9(0x267)](_0x5bbaf9(0xa30))['classList'][_0x5bbaf9(0x8a5)]('hidden');}),document[_0x405e84(0x267)](_0x405e84(0x544))['addEventListener'](_0x405e84(0x292),_0x5605ba=>{const _0x36682f=_0x405e84,_0x11af61=_0x5605ba[_0x36682f(0x763)][_0x36682f(0x9c6)](_0x36682f(0x5b1)),_0x1fe104=_0x5605ba[_0x36682f(0x763)][_0x36682f(0x9c6)]('.delete-bp-project-btn');if(_0x11af61)displayBlueprintProjectManager(_0x11af61['dataset']['id']);else{if(_0x1fe104){if(confirm(_0x36682f(0x83d))){const _0x376ff1=doc(db,_0x36682f(0x94a)+appId+_0x36682f(0xab6),_0x1fe104[_0x36682f(0x89d)]['id']);deleteDoc(_0x376ff1)['then'](()=>{showMessage('ลบโปรเจคสำเร็จ'),showBlueprintProjects();});}}}}),document[_0x405e84(0x267)](_0x405e84(0x9b6))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x3ce942=_0x405e84;currentBlueprintProjectId=null,currentProjectId=null,document[_0x3ce942(0x267)](_0x3ce942(0x940))[_0x3ce942(0x25c)][_0x3ce942(0x8a5)](_0x3ce942(0xbc7)),showView('admin-dashboard');}),document['getElementById']('bp-add-topic-btn')['addEventListener'](_0x405e84(0x292),addTopicToProject),document[_0x405e84(0x267)]('bp-topic-list-container')[_0x405e84(0xbb9)]('click',async _0x517576=>{const _0x46c30e=_0x405e84,_0x4e3abb=_0x517576[_0x46c30e(0x763)][_0x46c30e(0x9c6)](_0x46c30e(0x1e1));if(!_0x4e3abb)return;const _0x521405=_0x4e3abb[_0x46c30e(0x89d)][_0x46c30e(0x4f5)],_0x4e5b28=_0x517576[_0x46c30e(0x763)][_0x46c30e(0x9c6)](_0x46c30e(0x80a)),_0x5bf451=_0x517576[_0x46c30e(0x763)]['closest'](_0x46c30e(0x7e6)),_0x30e36c=_0x517576['target'][_0x46c30e(0x9c6)](_0x46c30e(0x192)),_0x5cff22=_0x517576[_0x46c30e(0x763)]['closest'](_0x46c30e(0xacf)),_0xa4381f=_0x517576[_0x46c30e(0x763)]['closest']('.bp-edit-topic-btn'),_0x2771c4=_0x517576[_0x46c30e(0x763)][_0x46c30e(0x9c6)](_0x46c30e(0x31e)),_0x3b7018=_0x517576['target'][_0x46c30e(0x9c6)](_0x46c30e(0x50a)),_0x122b0e=_0x517576[_0x46c30e(0x763)][_0x46c30e(0x9c6)]('.bp-select-from-bank-btn'),_0x9f538c=_0x517576[_0x46c30e(0x763)][_0x46c30e(0x9c6)]('.bp-clear-link-btn'),_0xaa7ade=_0x517576[_0x46c30e(0x763)]['closest'](_0x46c30e(0xa80)),_0x31689f=_0x517576[_0x46c30e(0x763)]['closest'](_0x46c30e(0xa40)),_0x48325=_0x517576[_0x46c30e(0x763)]['closest'](_0x46c30e(0x37b)),_0x2d3dd7=_0x517576['target'][_0x46c30e(0x9c6)]('.bp-game-btn');if(_0x3b7018)openTopicQuizBank(_0x521405);else{if(_0x4e5b28){console[_0x46c30e(0x469)](_0x46c30e(0x446));try{const _0xc3349f=doc(db,_0x46c30e(0x94a)+appId+_0x46c30e(0xab6),currentBlueprintProjectId),_0x10cb8b=await getDoc(_0xc3349f);if(_0x10cb8b[_0x46c30e(0x4b5)]()){const _0x1cfed4=_0x10cb8b[_0x46c30e(0xa77)](),_0x2798f3=_0x1cfed4[_0x46c30e(0x869)][_0x521405],_0x47a0b1=_0x2798f3[_0x46c30e(0x7f7)],_0x421327=document[_0x46c30e(0x718)](_0x46c30e(0x9a2)),_0x5154aa=_0x485462=>{const _0x487b40=_0x46c30e;if(!_0x485462)return'';return _0x421327['innerHTML']=_0x485462,_0x421327[_0x487b40(0x4c2)]||_0x421327[_0x487b40(0x3ee)]||'';},_0xee7672=(_0x5154aa(_0x47a0b1[_0x46c30e(0x961)])+'\x20'+_0x5154aa(_0x47a0b1[_0x46c30e(0x430)])+'\x20'+_0x5154aa(_0x47a0b1[_0x46c30e(0xb47)]))[_0x46c30e(0xa5f)]();selectProjectAndGenerateBlueprintQuiz(_0x2798f3[_0x46c30e(0x923)],_0xee7672,_0x521405);}}catch(_0xa6f963){console[_0x46c30e(0xa65)](_0x46c30e(0xbeb),_0xa6f963);}}else{if(_0x5bf451){console['log'](_0x46c30e(0x7b3));const _0x38d00b=_0x4e3abb[_0x46c30e(0x690)]('[data-field=\x22subTopic\x22]')[_0x46c30e(0x4c2)];selectProjectAndGenerateBlueprintQuiz(_0x38d00b,null,_0x521405);}else{if(_0x30e36c){console[_0x46c30e(0x469)](_0x46c30e(0xb0c));const _0x1e38df=doc(db,_0x46c30e(0x94a)+appId+_0x46c30e(0xab6),currentBlueprintProjectId),_0x2ae625=await getDoc(_0x1e38df);if(_0x2ae625[_0x46c30e(0x4b5)]()){const _0xb2a500=_0x2ae625[_0x46c30e(0xa77)](),_0x5cf53b=_0xb2a500[_0x46c30e(0x869)][_0x521405];if(_0x5cf53b&&_0x5cf53b[_0x46c30e(0x7f7)]){document['getElementById'](_0x46c30e(0x9a0))['textContent']=_0x46c30e(0x2a8)+_0x5cf53b[_0x46c30e(0x923)],document['getElementById'](_0x46c30e(0xab0))['innerHTML']=_0x5cf53b['lessonContent']['point'],document[_0x46c30e(0x267)](_0x46c30e(0x6a2))[_0x46c30e(0xab8)]=_0x5cf53b[_0x46c30e(0x7f7)][_0x46c30e(0x430)],document[_0x46c30e(0x267)](_0x46c30e(0x450))[_0x46c30e(0xab8)]=_0x5cf53b[_0x46c30e(0x7f7)]['summary'];const _0x4cfc73=document[_0x46c30e(0x267)](_0x46c30e(0xbc2));_0x5cf53b[_0x46c30e(0x7f7)][_0x46c30e(0x8f4)]?(currentApplicationData=_0x5cf53b[_0x46c30e(0x7f7)][_0x46c30e(0x8f4)],_0x4cfc73[_0x46c30e(0xab8)]=currentApplicationData[_0x46c30e(0x697)]((_0x3eecc3,_0x25fb33)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x25fb33+0x1)+'.\x20'+marked['parseInline'](_0x3eecc3[_0x46c30e(0x6a1)])+_0x46c30e(0x4d0)+_0x25fb33+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3eecc3[_0x46c30e(0x61a)][_0x46c30e(0x697)]((_0x25d642,_0x4734de)=>_0x46c30e(0xb17)+_0x25fb33+',\x20'+_0x4734de+_0x46c30e(0x42b)+String[_0x46c30e(0x8a2)](0x61+_0x4734de)+'.\x20'+marked[_0x46c30e(0x7b4)](_0x25d642)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x46c30e(0x706)]('')):(currentApplicationData=[],_0x4cfc73[_0x46c30e(0xab8)]=_0x5cf53b['lessonContent'][_0x46c30e(0x778)]||_0x5cf53b[_0x46c30e(0x7f7)][_0x46c30e(0x3df)]),document['getElementById'](_0x46c30e(0x4a9))[_0x46c30e(0x25c)]['add'](_0x46c30e(0xbc7)),document[_0x46c30e(0x267)](_0x46c30e(0x404))[_0x46c30e(0x25c)]['remove'](_0x46c30e(0xbc7)),document[_0x46c30e(0x267)](_0x46c30e(0xb69))['classList'][_0x46c30e(0x167)]('hidden'),window[_0x46c30e(0xb72)]&&MathJax[_0x46c30e(0x5bf)]([document[_0x46c30e(0x267)](_0x46c30e(0x4f6))]);}else showMessage(_0x46c30e(0xb0a));}}else{if(_0x5cff22){console[_0x46c30e(0x469)](_0x46c30e(0xa5e));const _0xcb7e80=doc(db,_0x46c30e(0x94a)+appId+_0x46c30e(0xab6),currentBlueprintProjectId),_0x117b79=await getDoc(_0xcb7e80);if(_0x117b79[_0x46c30e(0x4b5)]()){const _0x18a4a1=_0x117b79[_0x46c30e(0xa77)](),_0x3203ee=_0x18a4a1['topics'][_0x521405];generateAndSaveLessonForBlueprint(_0x521405,_0x3203ee[_0x46c30e(0x923)],_0x18a4a1[_0x46c30e(0xb29)]);}}else{if(_0xa4381f)editTopicInProject(_0x521405);else _0x2771c4&&deleteTopicFromProject(_0x521405);}}}}}}),document[_0x405e84(0x267)]('fix-lesson-latex-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),handleFixLessonLatex),document[_0x405e84(0x267)](_0x405e84(0x25e))[_0x405e84(0xbb9)](_0x405e84(0x292),handleExportLessonToPDF),document[_0x405e84(0x267)](_0x405e84(0x64b))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0xeb2915=_0x405e84;document['getElementById'](_0xeb2915(0xb69))[_0xeb2915(0x25c)]['add'](_0xeb2915(0xbc7));});const _0x2d2a09=document['getElementById']('bulk-confidence-scoring-checkbox'),_0x313d7a=document[_0x405e84(0x267)](_0x405e84(0x7d6));_0x2d2a09[_0x405e84(0xbb9)](_0x405e84(0x73b),()=>{const _0x48d51d=_0x405e84;_0x313d7a[_0x48d51d(0x25c)]['toggle'](_0x48d51d(0xbc7),!_0x2d2a09[_0x48d51d(0x6e2)]);});const _0x41ea70=document['getElementById'](_0x405e84(0x688)),_0x521bbe=document['getElementById'](_0x405e84(0x8bb));_0x41ea70[_0x405e84(0xbb9)](_0x405e84(0x73b),()=>{const _0x31e182=_0x405e84;_0x521bbe[_0x31e182(0x25c)]['toggle'](_0x31e182(0xbc7),!_0x41ea70[_0x31e182(0x6e2)]);});const _0x5729d9=document[_0x405e84(0x267)](_0x405e84(0x9e9)),_0xbf45f4=document[_0x405e84(0x267)](_0x405e84(0xbe1));_0x5729d9[_0x405e84(0xbb9)]('change',()=>{const _0x19b5bb=_0x405e84;_0xbf45f4[_0x19b5bb(0x25c)][_0x19b5bb(0x7b6)](_0x19b5bb(0xbc7),!_0x5729d9[_0x19b5bb(0x6e2)]);});const _0xd17ce1=document[_0x405e84(0x267)](_0x405e84(0x8ea)),_0x543929=async _0x125ea3=>{const _0x196e33=_0x405e84,_0x4f3c88=document[_0x196e33(0x267)](_0x196e33(0x8ea)),_0x8d1bf6=_0x4f3c88[_0x196e33(0x89d)][_0x196e33(0x6bf)],_0x393489=document[_0x196e33(0x267)]('selected-answer-index-hidden');_0x4f3c88[_0x196e33(0x25c)][_0x196e33(0x8a5)](_0x196e33(0xbc7));if(_0x8d1bf6===_0x196e33(0xa7b)){const _0x5e6563=_0x393489[_0x196e33(0x832)],_0x14c6b6={'answer':_0x5e6563,'wasConfident':_0x125ea3};proceedToNextQuestion(_0x14c6b6);}else{if(_0x8d1bf6==='sync'){const _0x366793=_0x393489['dataset'][_0x196e33(0x439)],_0x50fcd0=JSON[_0x196e33(0xbe0)](_0x393489['dataset']['question']),_0x2684f1=JSON[_0x196e33(0xbe0)](_0x393489[_0x196e33(0x89d)][_0x196e33(0x939)]),_0x41c4bf=_0x393489[_0x196e33(0x89d)][_0x196e33(0x90e)];handleSyncAnswerSubmit(_0x366793,_0x50fcd0,_0x2684f1,_0x41c4bf,_0x125ea3);}}_0x4f3c88[_0x196e33(0x89d)]['currentMode']='';};document['getElementById'](_0x405e84(0xb86))[_0x405e84(0xbb9)]('click',()=>_0x543929(!![])),document[_0x405e84(0x267)](_0x405e84(0x9c5))['addEventListener']('click',()=>_0x543929(![])),liveGameView[_0x405e84(0xbb9)](_0x405e84(0x292),_0x35bb16=>{const _0x27e733=_0x405e84,_0x2d6633=_0x35bb16[_0x27e733(0x763)][_0x27e733(0x9c6)](_0x27e733(0x5cb));if(_0x2d6633){const _0x1f911b=_0x2d6633[_0x27e733(0x89d)][_0x27e733(0x90e)];_0x1f911b&&handleKickPlayerSync(_0x1f911b);}});const _0x1b1baa=document[_0x405e84(0x267)](_0x405e84(0x47d)),_0x2543c7=document['getElementById'](_0x405e84(0xb25));_0x2543c7['addEventListener'](_0x405e84(0x292),()=>{const _0x5a29dd=_0x405e84;document[_0x5a29dd(0x267)]('confirm-game-start-modal')[_0x5a29dd(0x25c)][_0x5a29dd(0x8a5)](_0x5a29dd(0xbc7));}),_0x1b1baa[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x3efc35=_0x405e84,_0x236aad=document['getElementById']('game-start-quiz-id')[_0x3efc35(0x832)],_0x420916=document[_0x3efc35(0x267)](_0x3efc35(0x7dd))['value'],_0x7562d8=document[_0x3efc35(0x267)]('save-game-results-checkbox')[_0x3efc35(0x6e2)];document[_0x3efc35(0x267)]('confirm-game-start-modal')['classList'][_0x3efc35(0x8a5)]('hidden');switch(_0x420916){case _0x3efc35(0x2e6):handleStartLiveRace(_0x236aad,_0x7562d8);break;case'team':handleStartTeamQuiz(_0x236aad,_0x7562d8);break;case _0x3efc35(0xac4):handleStartGroupMode(_0x236aad,_0x7562d8);break;case'sync':handleStartSyncMode(_0x236aad,_0x7562d8);break;}}),document[_0x405e84(0x267)](_0x405e84(0x48a))[_0x405e84(0xbb9)]('click',handleJoinGroupActivity),liveGameView['addEventListener'](_0x405e84(0x292),_0x51039c=>{const _0xc0bad6=_0x405e84,_0x1f7c14=_0x51039c[_0xc0bad6(0x763)][_0xc0bad6(0x9c6)](_0xc0bad6(0x4e5));document['querySelectorAll'](_0xc0bad6(0x5f0))[_0xc0bad6(0x523)](_0x5a6660=>{const _0x562e59=_0xc0bad6;(!_0x1f7c14||_0x5a6660['id']!==_0x1f7c14['dataset'][_0x562e59(0x7a4)])&&_0x5a6660['classList'][_0x562e59(0x167)](_0x562e59(0xbb7));});if(!_0x1f7c14)return;const _0x3f183b=_0x1f7c14[_0xc0bad6(0x89d)][_0xc0bad6(0x7a4)],_0x2ac4ce=document['getElementById'](_0x3f183b);_0x2ac4ce&&_0x2ac4ce[_0xc0bad6(0x25c)][_0xc0bad6(0x7b6)]('visible');}),liveGameView[_0x405e84(0xbb9)](_0x405e84(0x292),_0x3e17bc=>{const _0xc70df1=_0x405e84;if(_0x3e17bc[_0xc70df1(0x763)]['classList'][_0xc70df1(0xb4f)](_0xc70df1(0x223))){const _0x1d0241=_0x3e17bc['target'][_0xc70df1(0x89d)][_0xc70df1(0x90e)];_0x1d0241&&handleKickPlayer(_0x1d0241);}}),document[_0x405e84(0x267)](_0x405e84(0x751))[_0x405e84(0xbb9)](_0x405e84(0x51d),()=>document[_0x405e84(0x267)](_0x405e84(0x4cf))[_0x405e84(0x25c)][_0x405e84(0x167)](_0x405e84(0xbc7))),document[_0x405e84(0x267)](_0x405e84(0x4cf))['addEventListener']('click',handleSaveProjectName),document['getElementById']('project-title')[_0x405e84(0xbb9)](_0x405e84(0x64f),_0x2ee51d=>{const _0x14ffea=_0x405e84;_0x2ee51d[_0x14ffea(0x210)]===_0x14ffea(0x903)&&(_0x2ee51d[_0x14ffea(0x417)](),_0x2ee51d[_0x14ffea(0x763)][_0x14ffea(0x6d1)](),handleSaveProjectName());}),document['getElementById'](_0x405e84(0x2a7))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0xbbbadb=_0x405e84;document[_0xbbbadb(0x267)](_0xbbbadb(0x408))[_0xbbbadb(0x25c)][_0xbbbadb(0x167)](_0xbbbadb(0xbc7));}),document['getElementById'](_0x405e84(0x847))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x507657=_0x405e84;document[_0x507657(0x267)]('bulk-quiz-settings-modal')[_0x507657(0x25c)][_0x507657(0x8a5)]('hidden');}),document[_0x405e84(0x267)](_0x405e84(0x67d))['addEventListener']('click',handleBulkUpdateQuizSettings),document[_0x405e84(0x267)](_0x405e84(0x1a1))[_0x405e84(0xbb9)](_0x405e84(0x292),handleModeSwitch),document[_0x405e84(0x267)](_0x405e84(0x877))[_0x405e84(0xbb9)](_0x405e84(0x292),handleUpdateOldQuizzes),document['getElementById'](_0x405e84(0x177))[_0x405e84(0xbb9)](_0x405e84(0x292),handleResetProjectOrder),document[_0x405e84(0x267)]('save-visibility-settings-btn')[_0x405e84(0xbb9)]('click',handleSaveVisibilitySettings),document['getElementById'](_0x405e84(0xa6c))[_0x405e84(0xbb9)](_0x405e84(0x292),handleAddCustomMathTopic),document['getElementById'](_0x405e84(0x2f3))['addEventListener'](_0x405e84(0x292),handleSelectAllTopics),document['getElementById'](_0x405e84(0xc02))[_0x405e84(0xbb9)]('click',handleDeselectAllTopics),document[_0x405e84(0x267)](_0x405e84(0x3b5))[_0x405e84(0xbb9)]('click',()=>{const _0x406178=_0x405e84;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x406178(0x5aa));}),document['getElementById']('back-to-project-btn')['addEventListener'](_0x405e84(0x292),()=>{const _0x4ff7e1=_0x405e84;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4ff7e1(0xbfb));}),document[_0x405e84(0x267)](_0x405e84(0x653))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{showView('admin-dashboard');}),document[_0x405e84(0x267)]('modal-close-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x38a609=_0x405e84;messageModal['classList'][_0x38a609(0x8a5)](_0x38a609(0xbc7)),typeof modalConfirmAction===_0x38a609(0x7d4)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x405e84(0x267)](_0x405e84(0x7f2))[_0x405e84(0xbb9)]('click',()=>createProjectModal[_0x405e84(0x25c)][_0x405e84(0x167)](_0x405e84(0xbc7))),document[_0x405e84(0x267)](_0x405e84(0xa2d))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>createProjectModal[_0x405e84(0x25c)][_0x405e84(0x8a5)](_0x405e84(0xbc7))),document['getElementById'](_0x405e84(0xa57))[_0x405e84(0xbb9)]('click',()=>adminPasswordModal[_0x405e84(0x25c)][_0x405e84(0x8a5)](_0x405e84(0xbc7))),document[_0x405e84(0x267)]('confirm-admin-login-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),handleAdminLogin),document[_0x405e84(0x267)](_0x405e84(0x1fe))['addEventListener'](_0x405e84(0x318),_0x1d5a18=>{const _0x4f414e=_0x405e84;if(_0x1d5a18['key']===_0x4f414e(0x903))handleAdminLogin();}),document[_0x405e84(0x267)](_0x405e84(0x89f))['addEventListener'](_0x405e84(0x292),()=>{const _0x401722=_0x405e84;confirmationModal[_0x401722(0x25c)][_0x401722(0x8a5)](_0x401722(0xbc7)),confirmAction=null;}),document[_0x405e84(0x267)]('confirm-delete-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x495ced=_0x405e84;confirmAction&&confirmAction(),confirmationModal[_0x495ced(0x25c)][_0x495ced(0x8a5)](_0x495ced(0xbc7)),confirmAction=null;}),document[_0x405e84(0x267)](_0x405e84(0x556))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>renameQuizModal['classList'][_0x405e84(0x8a5)](_0x405e84(0xbc7))),document['getElementById'](_0x405e84(0xa5a))[_0x405e84(0xbb9)](_0x405e84(0x292),confirmRenameQuiz),document[_0x405e84(0x267)]('cancel-move-quiz-btn')['addEventListener']('click',()=>moveQuizModal[_0x405e84(0x25c)][_0x405e84(0x8a5)](_0x405e84(0xbc7))),document['getElementById'](_0x405e84(0x3f3))[_0x405e84(0xbb9)]('click',confirmMoveQuiz),document['getElementById']('cancel-quiz-settings-btn')[_0x405e84(0xbb9)]('click',()=>quizSettingsModal[_0x405e84(0x25c)][_0x405e84(0x8a5)](_0x405e84(0xbc7))),document['getElementById'](_0x405e84(0xaef))[_0x405e84(0xbb9)](_0x405e84(0x292),confirmQuizSettings),document['getElementById'](_0x405e84(0x1f8))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>quizStatusModal['classList'][_0x405e84(0x8a5)](_0x405e84(0xbc7))),document[_0x405e84(0x267)]('confirm-quiz-status-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),confirmQuizStatus);const _0x1793a1=document[_0x405e84(0x267)]('export-pdf-modal');document[_0x405e84(0x267)]('cancel-export-pdf-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x19ad46=_0x405e84;_0x1793a1[_0x19ad46(0x25c)][_0x19ad46(0x8a5)](_0x19ad46(0xbc7));}),document[_0x405e84(0x267)]('export-compact-pdf-btn')[_0x405e84(0xbb9)]('click',async()=>{const _0x54d6aa=_0x405e84,_0x39f0cc=allQuizzes[_0x54d6aa(0x70b)](_0x1ef57b=>_0x1ef57b['id']===actionTargetId);_0x39f0cc?(currentQuizData=_0x39f0cc,exportQuizAsWorksheetPDF()):showMessage(_0x54d6aa(0x521)),_0x1793a1[_0x54d6aa(0x25c)]['add'](_0x54d6aa(0xbc7));}),document[_0x405e84(0x267)]('export-tutor-pdf-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),async()=>{const _0x4ae4b4=_0x405e84,_0x3eec45=allQuizzes[_0x4ae4b4(0x70b)](_0x53624a=>_0x53624a['id']===actionTargetId);_0x3eec45?(currentQuizData=_0x3eec45,exportQuizAsTutorPDF()):showMessage(_0x4ae4b4(0x521)),_0x1793a1[_0x4ae4b4(0x25c)]['add'](_0x4ae4b4(0xbc7));}),document[_0x405e84(0x267)](_0x405e84(0xc0e))[_0x405e84(0xbb9)](_0x405e84(0x292),openGlobalLiveModal),document[_0x405e84(0x267)](_0x405e84(0x20d))[_0x405e84(0xbb9)]('click',()=>{const _0x3148fd=_0x405e84;document[_0x3148fd(0x267)]('global-live-game-modal')['classList'][_0x3148fd(0x8a5)](_0x3148fd(0xbc7)),selectedGlobalQuizId=null;}),document[_0x405e84(0x267)](_0x405e84(0x960))[_0x405e84(0xbb9)](_0x405e84(0x27f),_0x4bcf88=>renderGlobalQuizList(_0x4bcf88[_0x405e84(0x763)][_0x405e84(0x832)])),document[_0x405e84(0x267)]('confirm-global-live-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x186a01=_0x405e84,_0x36fd0e=selectedGlobalQuizId;if(!_0x36fd0e)return;document[_0x186a01(0x267)](_0x186a01(0x7d7))[_0x186a01(0x25c)][_0x186a01(0x8a5)](_0x186a01(0xbc7)),handleStartLiveRace(_0x36fd0e);}),document[_0x405e84(0x267)](_0x405e84(0xa44))['addEventListener'](_0x405e84(0x27f),renderProjects),document[_0x405e84(0x267)](_0x405e84(0xaf5))['addEventListener'](_0x405e84(0x73b),async()=>{const _0x2cd92f=_0x405e84,_0x5d1527=document['getElementById']('project-sort-select')[_0x2cd92f(0x832)],_0x444622=doc(db,_0x2cd92f(0x5a2),_0x2cd92f(0xac9));try{await setDoc(_0x444622,{'projectSort':_0x5d1527},{'merge':!![]});}catch(_0x146c4a){console[_0x2cd92f(0xa65)]('Error\x20updating\x20sort\x20preference:',_0x146c4a),showMessage(_0x2cd92f(0xb4e));}}),document['getElementById'](_0x405e84(0x798))[_0x405e84(0xbb9)](_0x405e84(0x27f),renderQuizzes),document[_0x405e84(0x267)](_0x405e84(0x9bc))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x3d8358=_0x405e84;globalDashboardSettings[_0x3d8358(0x66e)]=_0x3d8358(0x4ab),saveUserPreference(_0x3d8358(0x66e),_0x3d8358(0x4ab)),renderProjects();}),document[_0x405e84(0x267)](_0x405e84(0x511))['addEventListener'](_0x405e84(0x292),()=>{const _0x5cd336=_0x405e84;globalDashboardSettings[_0x5cd336(0x66e)]=_0x5cd336(0x9c2),saveUserPreference(_0x5cd336(0x66e),'list'),renderProjects();}),manageTab[_0x405e84(0xbb9)]('click',()=>switchProjectTab(_0x405e84(0x9a4))),resultsTab[_0x405e84(0xbb9)]('click',()=>switchProjectTab(_0x405e84(0x475))),leaderboardTab[_0x405e84(0xbb9)]('click',()=>switchProjectTab(_0x405e84(0x800))),document[_0x405e84(0x267)](_0x405e84(0x43b))[_0x405e84(0xbb9)]('click',()=>switchQuizDetailTab('analytics')),document['getElementById']('scores-tab-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>switchQuizDetailTab('scores')),document[_0x405e84(0x267)]('leaderboard-quiz-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x405e84(0xadf))),document[_0x405e84(0x267)](_0x405e84(0x9cc))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>switchQuizDetailTab(_0x405e84(0x48e))),document[_0x405e84(0x267)](_0x405e84(0x79a))[_0x405e84(0xbb9)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x405e84(0xbb9)]('click',generateWorksheet);const _0x3803bb=document[_0x405e84(0x267)](_0x405e84(0x969)),_0x301378=document['getElementById'](_0x405e84(0x7b2)),_0x44433e=document[_0x405e84(0x267)](_0x405e84(0xbd4)),_0x3694bd=document[_0x405e84(0x267)](_0x405e84(0x6f3)),_0x5dc9ac=document[_0x405e84(0x267)](_0x405e84(0x5c5)),_0x213be1=document[_0x405e84(0x267)](_0x405e84(0xa55));topicTab[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x1126d3=_0x405e84;topicTab[_0x1126d3(0x25c)]['add'](_0x1126d3(0x866)),textTab['classList'][_0x1126d3(0x167)](_0x1126d3(0x866)),fileTab[_0x1126d3(0x25c)]['remove'](_0x1126d3(0x866)),worksheetTab[_0x1126d3(0x25c)][_0x1126d3(0x167)](_0x1126d3(0x866));if(_0x3803bb)_0x3803bb['classList']['remove'](_0x1126d3(0x866));if(_0x44433e)_0x44433e[_0x1126d3(0x25c)]['remove'](_0x1126d3(0x866));if(_0x5dc9ac)_0x5dc9ac['classList'][_0x1126d3(0x167)]('active');topicInputArea['classList'][_0x1126d3(0x167)](_0x1126d3(0xbc7)),textInputArea[_0x1126d3(0x25c)]['add'](_0x1126d3(0xbc7)),fileInputArea[_0x1126d3(0x25c)][_0x1126d3(0x8a5)](_0x1126d3(0xbc7)),worksheetInputArea['classList'][_0x1126d3(0x8a5)](_0x1126d3(0xbc7));if(_0x301378)_0x301378['classList'][_0x1126d3(0x8a5)]('hidden');if(_0x3694bd)_0x3694bd[_0x1126d3(0x25c)]['add'](_0x1126d3(0xbc7));if(_0x213be1)_0x213be1[_0x1126d3(0x25c)]['add']('hidden');}),textTab[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x3c59b0=_0x405e84;textTab['classList']['add'](_0x3c59b0(0x866)),topicTab[_0x3c59b0(0x25c)][_0x3c59b0(0x167)](_0x3c59b0(0x866)),fileTab[_0x3c59b0(0x25c)][_0x3c59b0(0x167)]('active'),worksheetTab[_0x3c59b0(0x25c)][_0x3c59b0(0x167)](_0x3c59b0(0x866));if(_0x3803bb)_0x3803bb[_0x3c59b0(0x25c)]['remove'](_0x3c59b0(0x866));if(_0x44433e)_0x44433e[_0x3c59b0(0x25c)][_0x3c59b0(0x167)](_0x3c59b0(0x866));if(_0x5dc9ac)_0x5dc9ac[_0x3c59b0(0x25c)][_0x3c59b0(0x167)](_0x3c59b0(0x866));textInputArea[_0x3c59b0(0x25c)][_0x3c59b0(0x167)](_0x3c59b0(0xbc7)),topicInputArea[_0x3c59b0(0x25c)]['add'](_0x3c59b0(0xbc7)),fileInputArea['classList']['add'](_0x3c59b0(0xbc7)),worksheetInputArea[_0x3c59b0(0x25c)][_0x3c59b0(0x8a5)](_0x3c59b0(0xbc7));if(_0x301378)_0x301378[_0x3c59b0(0x25c)]['add'](_0x3c59b0(0xbc7));if(_0x3694bd)_0x3694bd[_0x3c59b0(0x25c)]['add'](_0x3c59b0(0xbc7));if(_0x213be1)_0x213be1[_0x3c59b0(0x25c)][_0x3c59b0(0x8a5)](_0x3c59b0(0xbc7));}),fileTab['addEventListener'](_0x405e84(0x292),()=>{const _0x11a614=_0x405e84;fileTab[_0x11a614(0x25c)][_0x11a614(0x8a5)](_0x11a614(0x866)),topicTab[_0x11a614(0x25c)][_0x11a614(0x167)](_0x11a614(0x866)),textTab[_0x11a614(0x25c)]['remove'](_0x11a614(0x866)),worksheetTab[_0x11a614(0x25c)][_0x11a614(0x167)](_0x11a614(0x866));if(_0x3803bb)_0x3803bb[_0x11a614(0x25c)]['remove'](_0x11a614(0x866));if(_0x44433e)_0x44433e[_0x11a614(0x25c)][_0x11a614(0x167)](_0x11a614(0x866));if(_0x5dc9ac)_0x5dc9ac['classList'][_0x11a614(0x167)](_0x11a614(0x866));fileInputArea[_0x11a614(0x25c)]['remove'](_0x11a614(0xbc7)),topicInputArea[_0x11a614(0x25c)][_0x11a614(0x8a5)](_0x11a614(0xbc7)),textInputArea['classList']['add'](_0x11a614(0xbc7)),worksheetInputArea[_0x11a614(0x25c)][_0x11a614(0x8a5)](_0x11a614(0xbc7));if(_0x301378)_0x301378['classList'][_0x11a614(0x8a5)](_0x11a614(0xbc7));if(_0x3694bd)_0x3694bd[_0x11a614(0x25c)][_0x11a614(0x8a5)](_0x11a614(0xbc7));if(_0x213be1)_0x213be1[_0x11a614(0x25c)]['add']('hidden');}),worksheetTab[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x323dc0=_0x405e84;worksheetTab[_0x323dc0(0x25c)][_0x323dc0(0x8a5)](_0x323dc0(0x866)),topicTab['classList'][_0x323dc0(0x167)]('active'),textTab[_0x323dc0(0x25c)]['remove'](_0x323dc0(0x866)),fileTab[_0x323dc0(0x25c)][_0x323dc0(0x167)]('active');if(_0x3803bb)_0x3803bb[_0x323dc0(0x25c)][_0x323dc0(0x167)]('active');if(_0x44433e)_0x44433e[_0x323dc0(0x25c)][_0x323dc0(0x167)]('active');if(_0x5dc9ac)_0x5dc9ac['classList']['remove'](_0x323dc0(0x866));worksheetInputArea[_0x323dc0(0x25c)]['remove'](_0x323dc0(0xbc7)),topicInputArea[_0x323dc0(0x25c)][_0x323dc0(0x8a5)]('hidden'),textInputArea['classList'][_0x323dc0(0x8a5)]('hidden'),fileInputArea['classList'][_0x323dc0(0x8a5)](_0x323dc0(0xbc7));if(_0x301378)_0x301378['classList'][_0x323dc0(0x8a5)]('hidden');if(_0x3694bd)_0x3694bd[_0x323dc0(0x25c)][_0x323dc0(0x8a5)](_0x323dc0(0xbc7));if(_0x213be1)_0x213be1[_0x323dc0(0x25c)]['add'](_0x323dc0(0xbc7));});const _0x337e4c=document[_0x405e84(0x267)](_0x405e84(0xb3e)),_0x5537ce=document['getElementById']('bank-input-area');_0x337e4c&&_0x337e4c['addEventListener'](_0x405e84(0x292),()=>{const _0x129f94=_0x405e84;topicTab['classList'][_0x129f94(0x167)]('active'),textTab['classList'][_0x129f94(0x167)]('active'),fileTab[_0x129f94(0x25c)][_0x129f94(0x167)](_0x129f94(0x866)),worksheetTab[_0x129f94(0x25c)][_0x129f94(0x167)](_0x129f94(0x866));if(_0x3803bb)_0x3803bb[_0x129f94(0x25c)][_0x129f94(0x167)](_0x129f94(0x866));if(_0x44433e)_0x44433e[_0x129f94(0x25c)][_0x129f94(0x167)](_0x129f94(0x866));if(_0x5dc9ac)_0x5dc9ac[_0x129f94(0x25c)][_0x129f94(0x167)](_0x129f94(0x866));_0x337e4c[_0x129f94(0x25c)][_0x129f94(0x8a5)](_0x129f94(0x866)),topicInputArea[_0x129f94(0x25c)][_0x129f94(0x8a5)](_0x129f94(0xbc7)),textInputArea['classList'][_0x129f94(0x8a5)](_0x129f94(0xbc7)),fileInputArea[_0x129f94(0x25c)]['add'](_0x129f94(0xbc7)),worksheetInputArea[_0x129f94(0x25c)][_0x129f94(0x8a5)]('hidden');if(_0x301378)_0x301378[_0x129f94(0x25c)]['add'](_0x129f94(0xbc7));if(_0x3694bd)_0x3694bd[_0x129f94(0x25c)][_0x129f94(0x8a5)](_0x129f94(0xbc7));if(_0x213be1)_0x213be1[_0x129f94(0x25c)][_0x129f94(0x8a5)]('hidden');_0x5537ce[_0x129f94(0x25c)][_0x129f94(0x167)](_0x129f94(0xbc7)),displayQuestionBank();});_0x3803bb&&(_0x3803bb[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x2e28ca=_0x405e84;_0x3803bb[_0x2e28ca(0x25c)][_0x2e28ca(0x8a5)](_0x2e28ca(0x866)),topicTab[_0x2e28ca(0x25c)]['remove'](_0x2e28ca(0x866)),textTab[_0x2e28ca(0x25c)][_0x2e28ca(0x167)](_0x2e28ca(0x866)),fileTab[_0x2e28ca(0x25c)][_0x2e28ca(0x167)](_0x2e28ca(0x866)),worksheetTab[_0x2e28ca(0x25c)][_0x2e28ca(0x167)](_0x2e28ca(0x866));if(_0x44433e)_0x44433e[_0x2e28ca(0x25c)][_0x2e28ca(0x167)](_0x2e28ca(0x866));if(_0x5dc9ac)_0x5dc9ac['classList']['remove'](_0x2e28ca(0x866));_0x301378[_0x2e28ca(0x25c)][_0x2e28ca(0x167)]('hidden'),topicInputArea['classList'][_0x2e28ca(0x8a5)]('hidden'),textInputArea['classList'][_0x2e28ca(0x8a5)](_0x2e28ca(0xbc7)),fileInputArea[_0x2e28ca(0x25c)][_0x2e28ca(0x8a5)](_0x2e28ca(0xbc7)),worksheetInputArea[_0x2e28ca(0x25c)][_0x2e28ca(0x8a5)](_0x2e28ca(0xbc7));if(_0x3694bd)_0x3694bd[_0x2e28ca(0x25c)][_0x2e28ca(0x8a5)]('hidden');if(_0x213be1)_0x213be1[_0x2e28ca(0x25c)][_0x2e28ca(0x8a5)](_0x2e28ca(0xbc7));}),document['getElementById'](_0x405e84(0x691))[_0x405e84(0xbb9)]('click',handleGenerateFromLink));_0x44433e&&_0x44433e[_0x405e84(0xbb9)]('click',()=>{const _0x596897=_0x405e84;_0x44433e['classList']['add']('active'),topicTab['classList'][_0x596897(0x167)](_0x596897(0x866)),textTab[_0x596897(0x25c)][_0x596897(0x167)](_0x596897(0x866)),fileTab[_0x596897(0x25c)][_0x596897(0x167)](_0x596897(0x866)),worksheetTab[_0x596897(0x25c)]['remove'](_0x596897(0x866));if(_0x3803bb)_0x3803bb[_0x596897(0x25c)][_0x596897(0x167)](_0x596897(0x866));if(_0x337e4c)_0x337e4c[_0x596897(0x25c)][_0x596897(0x167)]('active');if(_0x5dc9ac)_0x5dc9ac[_0x596897(0x25c)][_0x596897(0x167)](_0x596897(0x866));_0x3694bd[_0x596897(0x25c)][_0x596897(0x167)](_0x596897(0xbc7)),topicInputArea[_0x596897(0x25c)][_0x596897(0x8a5)](_0x596897(0xbc7)),textInputArea[_0x596897(0x25c)][_0x596897(0x8a5)]('hidden'),fileInputArea['classList'][_0x596897(0x8a5)](_0x596897(0xbc7)),worksheetInputArea[_0x596897(0x25c)][_0x596897(0x8a5)](_0x596897(0xbc7));if(_0x301378)_0x301378[_0x596897(0x25c)]['add']('hidden');if(_0x5537ce)_0x5537ce[_0x596897(0x25c)][_0x596897(0x8a5)]('hidden');if(_0x213be1)_0x213be1[_0x596897(0x25c)][_0x596897(0x8a5)]('hidden');});_0x5dc9ac&&_0x5dc9ac[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x183150=_0x405e84;_0x5dc9ac[_0x183150(0x25c)][_0x183150(0x8a5)](_0x183150(0x866)),topicTab[_0x183150(0x25c)]['remove'](_0x183150(0x866)),textTab[_0x183150(0x25c)][_0x183150(0x167)](_0x183150(0x866)),fileTab[_0x183150(0x25c)][_0x183150(0x167)](_0x183150(0x866)),worksheetTab[_0x183150(0x25c)][_0x183150(0x167)](_0x183150(0x866));if(_0x3803bb)_0x3803bb[_0x183150(0x25c)]['remove'](_0x183150(0x866));if(_0x44433e)_0x44433e['classList'][_0x183150(0x167)]('active');if(_0x337e4c)_0x337e4c[_0x183150(0x25c)][_0x183150(0x167)]('active');_0x213be1[_0x183150(0x25c)][_0x183150(0x167)](_0x183150(0xbc7)),topicInputArea[_0x183150(0x25c)][_0x183150(0x8a5)](_0x183150(0xbc7)),textInputArea[_0x183150(0x25c)][_0x183150(0x8a5)]('hidden'),fileInputArea[_0x183150(0x25c)]['add'](_0x183150(0xbc7)),worksheetInputArea[_0x183150(0x25c)][_0x183150(0x8a5)](_0x183150(0xbc7));if(_0x301378)_0x301378['classList'][_0x183150(0x8a5)](_0x183150(0xbc7));if(_0x3694bd)_0x3694bd['classList'][_0x183150(0x8a5)](_0x183150(0xbc7));if(_0x5537ce)_0x5537ce[_0x183150(0x25c)]['add']('hidden');});const _0x26455b=document[_0x405e84(0x267)](_0x405e84(0x821)),_0x55da44=document[_0x405e84(0x267)]('generate-from-blueprint-btn');if(_0x26455b){const _0x2b8024=document[_0x405e84(0x267)](_0x405e84(0x821)),_0x5675d0=document['getElementById'](_0x405e84(0x8cf)),_0x1964e2=document['getElementById'](_0x405e84(0x868)),_0x45af21=document[_0x405e84(0x267)](_0x405e84(0x3b4)),_0x8ee9e6=document['getElementById'](_0x405e84(0xb74)),_0x599791=document[_0x405e84(0x267)](_0x405e84(0x82f));_0x2b8024&&_0x2b8024[_0x405e84(0xbb9)](_0x405e84(0x73b),async _0x510e05=>{const _0x186d30=_0x405e84;_0x1964e2['classList']['add'](_0x186d30(0xbc7)),_0x8ee9e6['classList'][_0x186d30(0x8a5)](_0x186d30(0xbc7)),_0x45af21[_0x186d30(0x6e2)]=![],_0x5675d0[_0x186d30(0x76a)]=!![];const _0x38b636=_0x510e05[_0x186d30(0x763)][_0x186d30(0x9b4)][0x0];if(_0x38b636){_0x5675d0['disabled']=![];try{const _0x1325b7=await extractTextFromPdf(_0x38b636);await analyzeBlueprintForTopics(_0x1325b7);}catch(_0xbd2dd9){showMessage(_0x186d30(0x967)),_0x1964e2[_0x186d30(0x25c)][_0x186d30(0x8a5)]('hidden');}}}),_0x45af21&&_0x45af21[_0x405e84(0xbb9)](_0x405e84(0x73b),_0x16b119=>{const _0x95fe57=_0x405e84,_0x4d36af=_0x16b119['target']['checked'];_0x8ee9e6[_0x95fe57(0x25c)][_0x95fe57(0x7b6)]('hidden',!_0x4d36af),_0x5675d0[_0x95fe57(0x76a)]=_0x4d36af;}),_0x599791&&(_0x599791&&_0x599791[_0x405e84(0xbb9)](_0x405e84(0x292),_0x56f7a9=>{const _0x2e2af7=_0x405e84,_0x103ac2=_0x56f7a9[_0x2e2af7(0x763)][_0x2e2af7(0x9c6)]('.topic-selection-btn'),_0x426e9d=_0x56f7a9[_0x2e2af7(0x763)][_0x2e2af7(0x9c6)](_0x2e2af7(0x3d7));if(_0x103ac2){const _0x1ae03b=unescape(_0x103ac2[_0x2e2af7(0x89d)]['topic']);generateQuizForSingleTopic(_0x1ae03b);}else{if(_0x426e9d){const _0x353912=unescape(_0x426e9d[_0x2e2af7(0x89d)][_0x2e2af7(0x62b)]);handleGenerateTeachingContent(_0x353912);}}}));}_0x55da44&&_0x55da44[_0x405e84(0xbb9)](_0x405e84(0x292),handleGenerateFromBlueprint);const _0x4dd819=document['getElementById'](_0x405e84(0x45d)),_0x361211=document[_0x405e84(0x267)](_0x405e84(0xa3a));_0x4dd819&&_0x4dd819['addEventListener'](_0x405e84(0x73b),_0x1ee127=>{const _0x16bd9e=_0x405e84;_0x361211[_0x16bd9e(0x76a)]=_0x1ee127[_0x16bd9e(0x763)][_0x16bd9e(0x9b4)][_0x16bd9e(0x2c7)]===0x0;});_0x361211&&_0x361211[_0x405e84(0xbb9)](_0x405e84(0x292),handleGenerateParallelTest);loadQuizBtn[_0x405e84(0xbb9)](_0x405e84(0x292),handleLoadQuiz),startQuizBtn[_0x405e84(0xbb9)](_0x405e84(0x292),async()=>{const _0x416d99=_0x405e84,_0x2c2a20=document[_0x416d99(0x267)](_0x416d99(0x8d8));currentStudentName=_0x2c2a20[_0x416d99(0x832)];if(!currentStudentName){showMessage(_0x416d99(0xbf0));return;}try{const _0x3c0d23=currentQuizData['id'],_0x530fe6=doc(db,_0x416d99(0x94a)+appId+_0x416d99(0xa34)+_0x3c0d23+_0x416d99(0xbd0),currentStudentName),_0x3293f8=await getDoc(_0x530fe6);!_0x3293f8[_0x416d99(0x4b5)]()?await setDoc(_0x530fe6,{'studentName':currentStudentName,'startedAt':new Date()[_0x416d99(0x7a6)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x530fe6,{'startedAt':new Date()['toISOString']()});}catch(_0x5de110){console[_0x416d99(0xa65)](_0x416d99(0xbc6),_0x5de110),showMessage(_0x416d99(0x463));return;}studentNameSelectionView[_0x416d99(0x25c)][_0x416d99(0x8a5)](_0x416d99(0xbc7)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x405e84(0x267)](_0x405e84(0x994))[_0x405e84(0xbb9)](_0x405e84(0x292),showJoinGameView),document[_0x405e84(0x267)](_0x405e84(0x17a))[_0x405e84(0xbb9)](_0x405e84(0x292),handleJoinLiveGame),document[_0x405e84(0x267)](_0x405e84(0x702))['addEventListener']('click',()=>showView(_0x405e84(0x1de)));const _0x4f2663=()=>{const _0x19bc0f=_0x405e84,_0x2bef4f=document[_0x19bc0f(0x267)](_0x19bc0f(0xc11))[_0x19bc0f(0x4c2)]['replace'](/[^a-z0-9]/gi,'_')[_0x19bc0f(0x280)]();return _0x19bc0f(0x567)+(_0x2bef4f||_0x19bc0f(0x5b9));},_0x816899=document[_0x405e84(0x267)](_0x405e84(0x6de));_0x816899&&_0x816899[_0x405e84(0xbb9)](_0x405e84(0x27f),_0x222c6d=>{const _0x916bad=_0x405e84,_0x410d46=_0x222c6d[_0x916bad(0x763)][_0x916bad(0x832)]['toLowerCase']()[_0x916bad(0xa5f)](),_0x3973c8=document['getElementById'](_0x916bad(0x893)),_0x503fad=_0x3973c8[_0x916bad(0x6d4)](_0x916bad(0xacc));_0x503fad[_0x916bad(0x523)](_0xcd3bc=>{const _0x3cb0ed=_0x916bad;let _0x35d90d=![];const _0x4fdb03=_0xcd3bc[_0x3cb0ed(0x6d4)](_0x3cb0ed(0x526));_0x4fdb03[_0x3cb0ed(0x523)](_0x2a5dfd=>{const _0x48d2af=_0x3cb0ed,_0x4eb94b=_0x2a5dfd['querySelector']('.topic-name-display')[_0x48d2af(0x4c2)][_0x48d2af(0x280)]();_0x4eb94b[_0x48d2af(0x4bd)](_0x410d46)?(_0x2a5dfd[_0x48d2af(0x58e)][_0x48d2af(0x5a6)]='flex',_0x35d90d=!![]):_0x2a5dfd[_0x48d2af(0x58e)][_0x48d2af(0x5a6)]=_0x48d2af(0x201);}),_0x35d90d?_0xcd3bc[_0x3cb0ed(0x58e)][_0x3cb0ed(0x5a6)]=_0x3cb0ed(0x8ac):_0xcd3bc[_0x3cb0ed(0x58e)][_0x3cb0ed(0x5a6)]=_0x3cb0ed(0x201);});});document[_0x405e84(0x267)](_0x405e84(0x325))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>exportTableAsImage(_0x405e84(0x2c6),_0x4f2663())),document[_0x405e84(0x267)](_0x405e84(0x263))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>exportTableAsPDF(_0x405e84(0x6f9),_0x4f2663())),document[_0x405e84(0x267)]('export-word-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>exportTableAsWord(_0x405e84(0x2c6),_0x4f2663())),document['getElementById'](_0x405e84(0x77e))[_0x405e84(0xbb9)]('click',()=>exportTableAsExcel(_0x405e84(0x6f9),_0x4f2663()));const _0x5b1909=()=>{const _0x3baab7=_0x405e84,_0x50d453=document[_0x3baab7(0x267)](_0x3baab7(0xc11))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x3baab7(0x280)]();return _0x3baab7(0xbdb)+(_0x50d453||_0x3baab7(0x5b9));};document[_0x405e84(0x267)]('export-leaderboard-image-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>exportTableAsImage(_0x405e84(0x247),_0x5b1909())),document[_0x405e84(0x267)](_0x405e84(0x74e))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>exportTableAsPDF('quiz-leaderboard-table',_0x5b1909())),document[_0x405e84(0x267)]('export-leaderboard-word-btn')[_0x405e84(0xbb9)]('click',()=>exportTableAsWord(_0x405e84(0x247),_0x5b1909())),document[_0x405e84(0x267)](_0x405e84(0x2bc))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>exportTableAsExcel(_0x405e84(0x9d6),_0x5b1909())),projectQuizzesList[_0x405e84(0xbb9)]('click',async _0x484317=>{const _0x2615f4=_0x405e84,_0x4e44b6=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0xad4)),_0x4ac72a=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0x7c9)),_0x1a2abf=_0x484317[_0x2615f4(0x763)]['closest'](_0x2615f4(0x5fa)),_0x303490=_0x484317['target'][_0x2615f4(0x9c6)]('.generate-lesson-btn'),_0x2772ed=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)]('.star-quiz-btn'),_0x5f4195=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)]('.copy-quiz-id-list-btn'),_0x3a089b=_0x484317[_0x2615f4(0x763)]['closest']('.edit-quiz-btn'),_0x1835be=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0x548)),_0x543b40=_0x484317['target'][_0x2615f4(0x9c6)](_0x2615f4(0x78d)),_0x126281=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0x5fd)),_0xc021bd=_0x484317['target'][_0x2615f4(0x9c6)](_0x2615f4(0x4ff)),_0x42e5a4=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0x1df)),_0x2c3d67=_0x484317['target']['closest'](_0x2615f4(0xa58)),_0x1a103b=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0xb34)),_0x144bc8=_0x484317['target'][_0x2615f4(0x9c6)]('.start-presentation-list-btn'),_0x5ac59d=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0x33e)),_0xb7a8d7=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)]('.export-pdf-list-btn'),_0x31d533=_0x484317[_0x2615f4(0x763)]['closest'](_0x2615f4(0x22c)),_0x50a5db=_0x484317[_0x2615f4(0x763)]['closest'](_0x2615f4(0x42c)),_0xab5f83=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0x501)),_0x52066f=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0x4e1)),_0x3b4d3f=_0x484317[_0x2615f4(0x763)][_0x2615f4(0x9c6)](_0x2615f4(0x407)),_0xa04979=_0x484317['target'][_0x2615f4(0x9c6)](_0x2615f4(0x6ed));if(_0x3b4d3f){const _0x29edb6=_0x3b4d3f[_0x2615f4(0x89d)][_0x2615f4(0x49a)],_0x5072ca=_0x3b4d3f[_0x2615f4(0x89d)][_0x2615f4(0x2cf)],_0x1b7d71=allQuizzes[_0x2615f4(0x70b)](_0x62c49c=>_0x62c49c['id']===_0x29edb6);_0x1b7d71&&showGameStartConfirmationModal(_0x29edb6,_0x5072ca,_0x1b7d71[_0x2615f4(0x62b)]);}else{if(_0xa04979){const _0x3c8ace=_0xa04979[_0x2615f4(0x89d)][_0x2615f4(0x49a)];handleStartLiveRace(_0x3c8ace);}else{if(_0xab5f83){const _0x5537f6=_0xab5f83['dataset'][_0x2615f4(0x49a)],_0x10f508=document[_0x2615f4(0x267)]('actions-container-'+_0x5537f6);_0x10f508&&_0x10f508[_0x2615f4(0x25c)][_0x2615f4(0x7b6)](_0x2615f4(0xbc7));}else{if(_0x4ac72a){const _0x30710f=_0x4ac72a['dataset'][_0x2615f4(0x49a)],_0x4dc88a=allQuizzes[_0x2615f4(0x70b)](_0x547821=>_0x547821['id']===_0x30710f);_0x4dc88a&&handleGenerateParallelPostTest(_0x4dc88a);}else{if(_0x1a2abf)handleCompareResults(_0x1a2abf[_0x2615f4(0x89d)][_0x2615f4(0x49a)],_0x1a2abf[_0x2615f4(0x89d)][_0x2615f4(0xb7c)]);else{if(_0x303490){const _0x5d174a=_0x303490['dataset'][_0x2615f4(0x49a)],_0x1c4802=allQuizzes[_0x2615f4(0x70b)](_0x249dc4=>_0x249dc4['id']===_0x5d174a);_0x1c4802&&_0x1c4802[_0x2615f4(0x23b)]?(displayLessonPlan(_0x1c4802['lessonPlan'],_0x1c4802),showConfirmation(_0x2615f4(0x282),()=>handleGenerateLessonPlan(_0x5d174a)),document[_0x2615f4(0x267)]('confirmation-modal')[_0x2615f4(0x690)]('h3')[_0x2615f4(0x4c2)]=_0x2615f4(0x916),document['getElementById'](_0x2615f4(0x357))['textContent']=_0x2615f4(0x2b9)):handleGenerateLessonPlan(_0x5d174a);}else{if(_0x2772ed)handleToggleStarQuiz(_0x2772ed[_0x2615f4(0x89d)][_0x2615f4(0x49a)]);else{if(_0x5f4195)copyTextToClipboard(_0x5f4195[_0x2615f4(0x89d)][_0x2615f4(0x49a)],'คัดลอกรหัสแล้ว!');else{if(_0x3a089b)handleOpenQuizEditor(_0x3a089b['dataset'][_0x2615f4(0x49a)]);else{if(_0x1835be)handleQuizSettings(_0x1835be[_0x2615f4(0x89d)][_0x2615f4(0x49a)]);else{if(_0x543b40)handleDuplicateQuiz(_0x543b40[_0x2615f4(0x89d)][_0x2615f4(0x49a)]);else{if(_0x126281)handleRenameQuiz(_0x126281[_0x2615f4(0x89d)][_0x2615f4(0x49a)],_0x126281[_0x2615f4(0x89d)][_0x2615f4(0x62b)]);else{if(_0xc021bd){const _0x435be5=_0xc021bd[_0x2615f4(0x89d)][_0x2615f4(0x49a)],_0x132fe7=allQuizzes[_0x2615f4(0x70b)](_0x159fc2=>_0x159fc2['id']===_0x435be5);_0x132fe7&&handleGenerateParallelFromBank(_0x132fe7);}else{if(_0x42e5a4)handleMoveQuiz(_0x42e5a4[_0x2615f4(0x89d)][_0x2615f4(0x49a)]);else{if(_0x2c3d67)handleManualQuizPairing(_0x2c3d67[_0x2615f4(0x89d)][_0x2615f4(0x49a)]);else{if(_0x1a103b)handleUnpairQuiz(_0x1a103b[_0x2615f4(0x89d)][_0x2615f4(0x49a)]);else{if(_0x144bc8){const _0x59a86d=_0x144bc8[_0x2615f4(0x89d)][_0x2615f4(0x49a)],_0x1bcf91=allQuizzes[_0x2615f4(0x70b)](_0x57961b=>_0x57961b['id']===_0x59a86d);if(_0x1bcf91)startPresentation(_0x1bcf91);}else{if(_0x5ac59d){const _0xcd51d4=_0x5ac59d[_0x2615f4(0x89d)][_0x2615f4(0x49a)],_0x2312f0=allQuizzes['find'](_0x48e1eb=>_0x48e1eb['id']===_0xcd51d4);_0x2312f0&&(currentQuizData=_0x2312f0,startAdminTest());}else{if(_0xb7a8d7)actionTargetId=_0xb7a8d7['dataset']['quizId'],document[_0x2615f4(0x267)](_0x2615f4(0x278))[_0x2615f4(0x25c)][_0x2615f4(0x167)](_0x2615f4(0xbc7));else{if(_0x31d533)showConfirmation(_0x2615f4(0x16d)+_0x31d533['dataset'][_0x2615f4(0x62b)]+_0x2615f4(0x986),()=>handleDeleteQuiz(_0x31d533[_0x2615f4(0x89d)][_0x2615f4(0x49a)]));else{if(_0x50a5db)handleQuizStatus(_0x50a5db[_0x2615f4(0x89d)]['quizId']);else{if(_0x52066f)handleGenerateEasyVersionQuiz(_0x52066f[_0x2615f4(0x89d)][_0x2615f4(0x49a)]);else _0x4e44b6&&showQuizDetailView(_0x4e44b6[_0x2615f4(0x89d)][_0x2615f4(0x49a)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x405e84(0x267)](_0x405e84(0x2e1))['addEventListener'](_0x405e84(0x292),()=>showView('student')),document['getElementById'](_0x405e84(0x21b))[_0x405e84(0xbb9)]('click',confirmAndStartTeamQuiz),document[_0x405e84(0x267)]('quiz-leaderboard-table')[_0x405e84(0x690)](_0x405e84(0x2b3))['addEventListener'](_0x405e84(0x292),_0xb853d7=>{const _0x483120=_0x405e84,_0x154ec1=_0xb853d7[_0x483120(0x763)]['closest'](_0x483120(0x33d));if(!_0x154ec1||!_0x154ec1['dataset'][_0x483120(0x953)])return;const _0x46e935=_0x154ec1['dataset']['sort'];if(quizLeaderboardSortBy===_0x46e935)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x483120(0x707)?'desc':'asc';else{quizLeaderboardSortBy=_0x46e935;const _0x4b5248=['studentName'];quizLeaderboardSortOrder=_0x4b5248[_0x483120(0x4bd)](_0x46e935)?_0x483120(0x707):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x483120(0x313));}),document[_0x405e84(0x267)]('close-presentation-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),closePresentation),document[_0x405e84(0x267)](_0x405e84(0x4ba))['addEventListener'](_0x405e84(0x292),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x405e84(0x267)](_0x405e84(0x584))['addEventListener'](_0x405e84(0x292),()=>{const _0x49dd06=_0x405e84;currentQuizData[_0x49dd06(0x9ce)]&&currentPresentationSlide<currentQuizData[_0x49dd06(0x9ce)][_0x49dd06(0x2c7)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x405e84(0xbb9)](_0x405e84(0x8cb),()=>{const _0xa1a74=_0x405e84;!document[_0xa1a74(0xbb1)]&&(presentationModal[_0xa1a74(0x58e)][_0xa1a74(0x5a6)]='none');}),document['getElementById'](_0x405e84(0xa14))[_0x405e84(0xbb9)](_0x405e84(0x292),handleDeleteAllStudents),studentList[_0x405e84(0xbb9)](_0x405e84(0x292),_0x43333e=>{const _0x50e0f6=_0x405e84,_0x2dc9e7=_0x43333e[_0x50e0f6(0x763)][_0x50e0f6(0x9c6)]('.delete-student-btn');if(_0x2dc9e7){const _0x264a0f=_0x2dc9e7[_0x50e0f6(0x89d)][_0x50e0f6(0x6c4)];handleDeleteStudent(_0x264a0f);}}),document[_0x405e84(0x267)](_0x405e84(0x735))[_0x405e84(0xbb9)](_0x405e84(0x292),handleGenerateFromFileClick),fileUploadInput[_0x405e84(0xbb9)](_0x405e84(0x73b),_0x1362c6=>{const _0x30e630=_0x405e84,_0x2200c3=_0x1362c6[_0x30e630(0x763)][_0x30e630(0x9b4)][0x0],_0x11fee8=document[_0x30e630(0x267)](_0x30e630(0x735)),_0x1c6a5f=document['getElementById'](_0x30e630(0xaf2)),_0x15506d=document[_0x30e630(0x267)](_0x30e630(0x678));_0x2200c3?(selectedFile=_0x2200c3,_0x15506d[_0x30e630(0x6e2)]?(_0x11fee8[_0x30e630(0x76a)]=!![],analyzeFileForTopics(_0x2200c3)):(_0x11fee8[_0x30e630(0x76a)]=![],_0x1c6a5f[_0x30e630(0x25c)][_0x30e630(0x8a5)](_0x30e630(0xbc7)))):(selectedFile=null,_0x11fee8[_0x30e630(0x76a)]=!![],_0x1c6a5f[_0x30e630(0x25c)][_0x30e630(0x8a5)](_0x30e630(0xbc7)));}),document[_0x405e84(0x267)](_0x405e84(0x678))[_0x405e84(0xbb9)](_0x405e84(0x73b),_0x4fef1f=>{const _0x4ac23f=_0x405e84,_0x228ffa=_0x4fef1f[_0x4ac23f(0x763)][_0x4ac23f(0x6e2)],_0x31db2e=document['getElementById']('generate-from-file-btn'),_0x2f2faf=document[_0x4ac23f(0x267)](_0x4ac23f(0xaf2));_0x228ffa?(_0x31db2e[_0x4ac23f(0x76a)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x2f2faf[_0x4ac23f(0x25c)][_0x4ac23f(0x167)]('hidden'),document[_0x4ac23f(0x267)](_0x4ac23f(0x1c0))[_0x4ac23f(0xab8)]=_0x4ac23f(0x45a))):(_0x2f2faf['classList'][_0x4ac23f(0x8a5)](_0x4ac23f(0xbc7)),_0x31db2e[_0x4ac23f(0x76a)]=!selectedFile);}),document[_0x405e84(0x267)](_0x405e84(0xaf2))[_0x405e84(0xbb9)](_0x405e84(0x292),_0x29d551=>{const _0x147c25=_0x405e84,_0x3e1263=_0x29d551[_0x147c25(0x763)][_0x147c25(0x9c6)](_0x147c25(0x996)),_0xc01d7b=_0x29d551[_0x147c25(0x763)]['closest'](_0x147c25(0x3d7));if(_0x3e1263){const _0x51eae5=unescape(_0x3e1263[_0x147c25(0x89d)]['topic']);generateHybridQuizForTopic(_0x51eae5);}else{if(_0xc01d7b){const _0x30d23a=unescape(_0xc01d7b['dataset'][_0x147c25(0x62b)]),_0xb27e=document[_0x147c25(0x267)](_0x147c25(0x1a2))['value'];handleGenerateAndShowLesson(_0x30d23a,_0xb27e);}}}),document[_0x405e84(0x267)](_0x405e84(0x378))[_0x405e84(0xbb9)](_0x405e84(0x73b),_0x33583d=>{const _0xe68135=_0x405e84,_0x585252=document['getElementById'](_0xe68135(0x5ee)),_0xfa2cfa=document[_0xe68135(0x267)](_0xe68135(0x4e7)),_0x5b4f3e=document[_0xe68135(0x267)](_0xe68135(0xa00));_0x33583d[_0xe68135(0x763)][_0xe68135(0x832)]===_0xe68135(0x201)?_0x585252[_0xe68135(0x25c)][_0xe68135(0x8a5)](_0xe68135(0xbc7)):(_0x585252[_0xe68135(0x25c)][_0xe68135(0x167)](_0xe68135(0xbc7)),_0x33583d[_0xe68135(0x763)][_0xe68135(0x832)]==='whole_quiz'?(_0xfa2cfa['textContent']=_0xe68135(0x361),_0x5b4f3e['value']='10'):(_0xfa2cfa[_0xe68135(0x4c2)]=_0xe68135(0x1f6),_0x5b4f3e[_0xe68135(0x832)]='30'));}),document[_0x405e84(0x267)](_0x405e84(0x58c))[_0x405e84(0xbb9)](_0x405e84(0x73b),_0x5f376e=>{const _0x468da9=_0x405e84,_0x1c0af2=document[_0x468da9(0x267)](_0x468da9(0x3a1)),_0x46efa1=_0x5f376e[_0x468da9(0x763)][_0x468da9(0x832)],_0x36e6f7=document[_0x468da9(0x690)](_0x468da9(0x96c)),_0x23346a=document[_0x468da9(0x267)](_0x468da9(0x9a8)),_0x2bc386=document['getElementById'](_0x468da9(0xb73));_0x46efa1===_0x468da9(0xae6)?_0x36e6f7[_0x468da9(0x4c2)]=_0x468da9(0x4bf):_0x36e6f7[_0x468da9(0x4c2)]=_0x468da9(0x554),_0x46efa1===_0x468da9(0x3e7)||_0x46efa1===_0x468da9(0x53c)||_0x46efa1===_0x468da9(0xb77)?_0x1c0af2[_0x468da9(0x25c)][_0x468da9(0x167)](_0x468da9(0xbc7)):_0x1c0af2['classList'][_0x468da9(0x8a5)](_0x468da9(0xbc7)),_0x23346a[_0x468da9(0x491)]=_0x2bc386[_0x468da9(0x832)];}),document[_0x405e84(0x267)](_0x405e84(0xb73))[_0x405e84(0xbb9)]('input',_0x1cd566=>{const _0x1938c1=_0x405e84;document[_0x1938c1(0x267)](_0x1938c1(0x9a8))[_0x1938c1(0x491)]=_0x1cd566[_0x1938c1(0x763)][_0x1938c1(0x832)];}),document['getElementById'](_0x405e84(0x4b1))[_0x405e84(0xbb9)]('change',_0x61623f=>{const _0x826bf2=_0x405e84,_0x4ea882=document['getElementById'](_0x826bf2(0x1b4)),_0xd81bf4=document[_0x826bf2(0x267)](_0x826bf2(0x9b8)),_0x11f0d7=document[_0x826bf2(0x267)](_0x826bf2(0xae0));_0x61623f['target'][_0x826bf2(0x832)]===_0x826bf2(0x201)?_0x4ea882[_0x826bf2(0x25c)][_0x826bf2(0x8a5)](_0x826bf2(0xbc7)):(_0x4ea882[_0x826bf2(0x25c)][_0x826bf2(0x167)](_0x826bf2(0xbc7)),_0x61623f['target']['value']===_0x826bf2(0x727)?_0xd81bf4[_0x826bf2(0x4c2)]='ระยะเวลา\x20(นาที):':_0xd81bf4[_0x826bf2(0x4c2)]=_0x826bf2(0x1f6));}),document['getElementById'](_0x405e84(0x7b9))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x5aa4b3=_0x405e84;document[_0x5aa4b3(0x267)](_0x5aa4b3(0x6c9))[_0x5aa4b3(0x25c)]['add'](_0x5aa4b3(0xbc7));}),document[_0x405e84(0x267)](_0x405e84(0x8c0))[_0x405e84(0xbb9)]('click',()=>{const _0x24411d=_0x405e84;document[_0x24411d(0x267)](_0x24411d(0x6c9))['classList']['add'](_0x24411d(0xbc7));}),document[_0x405e84(0x267)]('verify-answers-editor-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),handleVerifyAnswersInEditor),document['getElementById']('save-quiz-edits-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x447847=_0x405e84;document[_0x447847(0x267)](_0x447847(0x6c9))[_0x447847(0x25c)][_0x447847(0x8a5)](_0x447847(0xbc7)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x405e84(0x267)](_0x405e84(0x671))[_0x405e84(0xbb9)]('click',handleAutoFixLatex);const _0x13b5e5=document[_0x405e84(0x267)](_0x405e84(0x714));_0x13b5e5&&_0x13b5e5['addEventListener'](_0x405e84(0x292),_0x387b42=>{const _0x34e229=_0x405e84,_0x343140=_0x387b42[_0x34e229(0x763)]['closest'](_0x34e229(0x7de)),_0xe12a43=_0x387b42[_0x34e229(0x763)][_0x34e229(0x9c6)](_0x34e229(0x943));if(_0x343140){const _0x56bf46=_0x343140[_0x34e229(0x9c6)](_0x34e229(0x281)),_0x4225c2=parseInt(_0x56bf46['dataset'][_0x34e229(0x8b8)],0xa);handleRegenerateQuestionInEditor(_0x4225c2);}else{if(_0xe12a43){const _0x20f2f5=_0xe12a43[_0x34e229(0x9c6)](_0x34e229(0x281)),_0x29ebb2=parseInt(_0x20f2f5[_0x34e229(0x89d)][_0x34e229(0x8b8)],0xa);handleAiFixFormula(_0x29ebb2);}}});document['getElementById']('open-quiz-bank-btn')[_0x405e84(0xbb9)](_0x405e84(0x292),openQuizBankModal),document[_0x405e84(0x267)](_0x405e84(0x9d3))['addEventListener'](_0x405e84(0x292),()=>{const _0x178147=_0x405e84;document[_0x178147(0x267)](_0x178147(0x23f))['classList'][_0x178147(0x8a5)](_0x178147(0xbc7));}),document[_0x405e84(0x267)](_0x405e84(0x46a))[_0x405e84(0xbb9)](_0x405e84(0x27f),_0x304b2c=>renderQuizBankList(_0x304b2c[_0x405e84(0x763)][_0x405e84(0x832)]));const _0x58f371=document[_0x405e84(0x267)]('math-topics-checkbox-container');if(_0x58f371){let _0x437daa=null;_0x58f371[_0x405e84(0xbb9)](_0x405e84(0x292),_0x462cdf=>{const _0x276b55=_0x405e84,_0x25c2e6=_0x462cdf[_0x276b55(0x763)],_0x4d17f7=_0x25c2e6[_0x276b55(0x9c6)](_0x276b55(0x3d9)),_0x3a3a86=_0x25c2e6[_0x276b55(0x9c6)](_0x276b55(0x771)),_0x147670=_0x25c2e6[_0x276b55(0x9c6)](_0x276b55(0x488)),_0x526cb1=_0x25c2e6['closest'](_0x276b55(0x9b0));if(_0x3a3a86){_0x462cdf[_0x276b55(0x417)]();const _0x5a3b42=_0x3a3a86[_0x276b55(0x89d)]['id'],_0x46588b=_0x3a3a86[_0x276b55(0x9c6)](_0x276b55(0x692))[_0x276b55(0x690)](_0x276b55(0x9e7))['textContent'];showConfirmation(_0x276b55(0x416)+_0x46588b+'\x22?',()=>handleDeleteCustomTopic(_0x5a3b42));}else{if(_0x4d17f7){_0x462cdf[_0x276b55(0x417)]();_0x437daa&&toggleTopicEditMode(_0x437daa,![]);const _0x5d9fe2=_0x4d17f7[_0x276b55(0x9c6)]('[data-topic-container-id]');_0x437daa=_0x5d9fe2,toggleTopicEditMode(_0x5d9fe2,!![]);}else{if(_0x147670){_0x462cdf['preventDefault']();const _0x99aeec=_0x147670[_0x276b55(0x89d)]['id'],_0x4c9fc0=_0x147670['closest'](_0x276b55(0x80b)),_0x2c38f0=_0x4c9fc0['querySelector'](_0x276b55(0xa75))['value'];handleUpdateCustomTopic(_0x99aeec,_0x2c38f0),_0x437daa=null;}else{if(_0x526cb1){_0x462cdf[_0x276b55(0x417)]();const _0x1a71ac=_0x526cb1[_0x276b55(0x9c6)]('[data-topic-container-id]');toggleTopicEditMode(_0x1a71ac,![]),_0x437daa=null;}}}}}),document[_0x405e84(0x267)](_0x405e84(0x2e3))[_0x405e84(0xbb9)](_0x405e84(0x292),()=>{const _0x426ee6=_0x405e84;document['getElementById']('lesson-plan-modal')[_0x426ee6(0x25c)][_0x426ee6(0x8a5)](_0x426ee6(0xbc7));}),document[_0x405e84(0x267)]('close-lesson-plan-modal-footer-btn')[_0x405e84(0xbb9)]('click',()=>{const _0x1a2773=_0x405e84;document[_0x1a2773(0x267)](_0x1a2773(0x8d6))[_0x1a2773(0x25c)][_0x1a2773(0x8a5)](_0x1a2773(0xbc7));}),document[_0x405e84(0x267)](_0x405e84(0x659))[_0x405e84(0xbb9)](_0x405e84(0x292),handleExportLessonPDF);}document[_0x405e84(0x267)](_0x405e84(0x51c))[_0x405e84(0xbb9)]('click',()=>{const _0x5a4c2c=_0x405e84;document[_0x5a4c2c(0x267)](_0x5a4c2c(0x4a8))['classList'][_0x5a4c2c(0x8a5)](_0x5a4c2c(0xbc7));}),document[_0x405e84(0x267)](_0x405e84(0x7bc))[_0x405e84(0xbb9)]('click',()=>{const _0x41734e=_0x405e84;document['getElementById']('comparison-modal')[_0x41734e(0x25c)][_0x41734e(0x8a5)](_0x41734e(0xbc7));}),setupComparisonModalTabs(),document[_0x405e84(0x7ad)][_0x405e84(0xbb9)](_0x405e84(0x292),function(_0x5d8112){const _0x3646ed=_0x405e84;if(_0x5d8112[_0x3646ed(0x763)][_0x3646ed(0x25c)][_0x3646ed(0xb4f)](_0x3646ed(0x67c))){const _0xc5d7a9=unescape(_0x5d8112[_0x3646ed(0x763)][_0x3646ed(0x89d)][_0x3646ed(0x62b)]);startSkillPractice(_0xc5d7a9);}}),document[_0x405e84(0x267)](_0x405e84(0x662))['addEventListener']('click',_0x4c717a=>{const _0x1f4805=_0x405e84,_0x4599f4=_0x4c717a['target']['closest'](_0x1f4805(0x896));if(_0x4599f4){const _0x339b44=_0x4599f4[_0x1f4805(0x89d)][_0x1f4805(0x6c4)];handleDeleteSubmission(_0x339b44);}});}async function handleStartGroupMode(_0x5b8099,_0x5d3fcd=![]){const _0x441e07=_0x176601,_0x37a2eb=allQuizzes[_0x441e07(0x70b)](_0x21c3c9=>_0x21c3c9['id']===_0x5b8099)||allQuizzesGlobal[_0x441e07(0x70b)](_0x32db19=>_0x32db19['id']===_0x5b8099);if(!_0x37a2eb){showMessage(_0x441e07(0x521));return;}currentQuizData=getShuffledQuiz(_0x37a2eb);const _0x4fbba6=Math[_0x441e07(0xbdd)](0x3e8+Math[_0x441e07(0x658)]()*0x2328)[_0x441e07(0x5bc)]();try{const _0xb8b5dd=await addDoc(collection(db,'artifacts/'+appId+_0x441e07(0x1ea)),{'quizId':_0x37a2eb['id'],'projectId':_0x37a2eb[_0x441e07(0x8ae)],'status':_0x441e07(0x253),'pin':_0x4fbba6,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5d3fcd});currentTeamQuizId=_0xb8b5dd['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4fbba6,_0x37a2eb[_0x441e07(0x62b)],_0x441e07(0xac4)),listenForTeamQuizUpdates();}catch(_0x3331dd){console[_0x441e07(0xa65)](_0x441e07(0x533),_0x3331dd),showMessage(_0x441e07(0x887));}}async function showStudentProgressView(){const _0x2fd055=_0x176601;studentInitialView[_0x2fd055(0x25c)][_0x2fd055(0x8a5)](_0x2fd055(0xbc7)),document['getElementById'](_0x2fd055(0x70c))[_0x2fd055(0x25c)]['remove'](_0x2fd055(0xbc7));const _0x45c5d3=document['getElementById']('progress-project-select'),_0x358c38=document[_0x2fd055(0x267)](_0x2fd055(0x3e5)),_0x9c33da=document[_0x2fd055(0x267)]('student-progress-content');_0x9c33da['innerHTML']=_0x2fd055(0x3a7),_0x358c38['innerHTML']=_0x2fd055(0x7e4),_0x358c38['disabled']=!![],_0x45c5d3['innerHTML']=_0x2fd055(0x61f);if(allProjects['length']===0x0){const _0x39dbf4=collection(db,'artifacts/'+appId+_0x2fd055(0x32c)),_0x4d1e29=await getDocs(_0x39dbf4);allProjects=_0x4d1e29[_0x2fd055(0xbff)][_0x2fd055(0x697)](_0x48d920=>({'id':_0x48d920['id'],..._0x48d920[_0x2fd055(0xa77)]()}));}const _0x19e76e=allProjects[_0x2fd055(0xb79)](_0x48a4ec=>_0x48a4ec[_0x2fd055(0x8e6)]?.[_0x2fd055(0x846)]!==![]);_0x19e76e[_0x2fd055(0x953)]((_0x40054c,_0x26a681)=>_0x40054c[_0x2fd055(0x2ea)][_0x2fd055(0x3bf)](_0x26a681['projectName'],'th')),_0x45c5d3[_0x2fd055(0xab8)]=_0x2fd055(0x6d7)+_0x19e76e[_0x2fd055(0x697)](_0x347de5=>'<option\x20value=\x22'+_0x347de5['id']+'\x22>'+_0x347de5['projectName']+'</option>')[_0x2fd055(0x706)](''),_0x45c5d3['onchange']=()=>{const _0x415b37=_0x2fd055,_0x2b87a0=_0x358c38[_0x415b37(0x832)],_0x139918=_0x45c5d3[_0x415b37(0x832)];_0x358c38[_0x415b37(0x76a)]=!![],_0x358c38[_0x415b37(0xab8)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x9c33da[_0x415b37(0xab8)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x139918)return;const _0x1f9b5a=allProjects[_0x415b37(0x70b)](_0x42db5f=>_0x42db5f['id']===_0x139918);if(!_0x1f9b5a||!_0x1f9b5a['students'])return;const _0x320a91=()=>{const _0x5b4738=_0x415b37;_0x358c38['innerHTML']=_0x5b4738(0x7e4)+_0x1f9b5a[_0x5b4738(0xbf9)][_0x5b4738(0x697)](_0x5dc998=>_0x5b4738(0xba4)+_0x5dc998+'\x22>'+_0x5dc998+_0x5b4738(0x53f))[_0x5b4738(0x706)](''),_0x358c38['disabled']=![];const _0x2c8fe2=Array['from'](_0x358c38[_0x5b4738(0x61a)])[_0x5b4738(0x697)](_0x3daa54=>_0x3daa54[_0x5b4738(0x832)]);if(_0x2b87a0&&_0x2c8fe2[_0x5b4738(0x4bd)](_0x2b87a0))_0x358c38[_0x5b4738(0x832)]=_0x2b87a0,_0x358c38[_0x5b4738(0x77b)](new Event(_0x5b4738(0x73b)));else _0x1f9b5a[_0x5b4738(0xbf9)][_0x5b4738(0x2c7)]===0x1&&(_0x358c38[_0x5b4738(0x832)]=_0x1f9b5a[_0x5b4738(0xbf9)][0x0],_0x358c38[_0x5b4738(0x77b)](new Event(_0x5b4738(0x73b))));};if(_0x1f9b5a[_0x415b37(0x8e6)]?.['isPasscodeEnabled']){if(sessionStorage[_0x415b37(0x834)]('authed_project_'+_0x139918)==='true'){_0x320a91();return;}const _0x1f658d=document[_0x415b37(0x267)](_0x415b37(0x2d4)),_0x413182=document[_0x415b37(0x267)](_0x415b37(0x81e)),_0x17a601=document[_0x415b37(0x267)]('cancel-passcode-btn'),_0x27e758=document[_0x415b37(0x267)]('student-passcode-input'),_0x18db62=document[_0x415b37(0x267)](_0x415b37(0x865));document[_0x415b37(0x267)](_0x415b37(0x413))['textContent']=_0x415b37(0x797)+_0x1f9b5a[_0x415b37(0x2ea)],_0x27e758[_0x415b37(0x832)]='',_0x18db62['classList'][_0x415b37(0x8a5)](_0x415b37(0xbc7)),_0x1f658d[_0x415b37(0x25c)][_0x415b37(0x167)]('hidden');const _0x4d318d=()=>{const _0x4b0cdb=_0x415b37,_0x453835=_0x27e758[_0x4b0cdb(0x832)][_0x4b0cdb(0xa5f)]();_0x453835===_0x1f9b5a[_0x4b0cdb(0x8e6)][_0x4b0cdb(0xc07)]?(sessionStorage['setItem'](_0x4b0cdb(0x905)+_0x139918,_0x4b0cdb(0x268)),_0x1f658d[_0x4b0cdb(0x25c)][_0x4b0cdb(0x8a5)](_0x4b0cdb(0xbc7)),_0x320a91(),_0x413182['removeEventListener'](_0x4b0cdb(0x292),_0x4d318d)):_0x18db62[_0x4b0cdb(0x25c)]['remove']('hidden');};_0x413182[_0x415b37(0x476)]=_0x4d318d,_0x17a601[_0x415b37(0x476)]=()=>{const _0x3f26ff=_0x415b37;_0x1f658d['classList'][_0x3f26ff(0x8a5)](_0x3f26ff(0xbc7)),_0x45c5d3[_0x3f26ff(0x832)]='',_0x413182[_0x3f26ff(0x4cc)]('click',_0x4d318d);};}else _0x320a91();},_0x358c38['onchange']=()=>{const _0x1d22da=_0x2fd055,_0x16016f=_0x45c5d3[_0x1d22da(0x832)],_0x32c099=_0x358c38[_0x1d22da(0x832)];_0x16016f&&_0x32c099&&renderStudentProgressDashboard(_0x16016f,_0x32c099);};}async function confirmAndJoinSyncGame(){const _0x1fb8e1=_0x176601,_0x40c5a4=Array['from'](document[_0x1fb8e1(0x6d4)](_0x1fb8e1(0xb07)))['map'](_0x1f992a=>_0x1f992a[_0x1fb8e1(0x832)]);if(_0x40c5a4[_0x1fb8e1(0x2c7)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x40c5a4,localPlayerTurnIndex=0x0;const _0x313156=doc(db,'artifacts/'+appId+_0x1fb8e1(0x5bd),currentLiveGameId);try{const _0x4731f5=await getDoc(_0x313156);if(!_0x4731f5['exists']())throw new Error(_0x1fb8e1(0x65e));const _0x28def5=_0x4731f5['data']()[_0x1fb8e1(0x3e4)]||{};_0x40c5a4[_0x1fb8e1(0x523)](_0x4b5e4c=>{!_0x28def5[_0x4b5e4c]&&(_0x28def5[_0x4b5e4c]={'name':_0x4b5e4c,'score':0x0,'answered':![],'status':'active'});}),await updateDoc(_0x313156,{'players':_0x28def5}),document[_0x1fb8e1(0x267)](_0x1fb8e1(0x74a))[_0x1fb8e1(0x25c)][_0x1fb8e1(0x8a5)](_0x1fb8e1(0xbc7)),currentStudentName=_0x40c5a4[0x0],listenForSyncGameUpdates();const _0x517b10={'gameId':currentLiveGameId,'mode':_0x1fb8e1(0x7fb),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1fb8e1(0x8d5)](_0x1fb8e1(0x8a1),JSON[_0x1fb8e1(0xbe7)](_0x517b10));}catch(_0x3155b2){console['error']('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x3155b2),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x458296=_0x176601,_0x480298=sessionStorage[_0x458296(0x834)](_0x458296(0x8a1));if(!_0x480298)return;const _0x5b4d79=JSON['parse'](_0x480298),{gameId:_0x321988,mode:_0x38f74f,players:_0xe10921,turnIndex:_0x9669b3}=_0x5b4d79;try{let _0x427c65,_0x145b24;_0x38f74f===_0x458296(0x7fb)?_0x427c65=doc(db,_0x458296(0x94a)+appId+'/public/data/syncGames',_0x321988):_0x427c65=doc(db,_0x458296(0x94a)+appId+_0x458296(0x1ea),_0x321988);_0x145b24=await getDoc(_0x427c65);if(!_0x145b24['exists']()||_0x145b24[_0x458296(0xa77)]()[_0x458296(0x471)]===_0x458296(0x54a)||_0x145b24[_0x458296(0xa77)]()[_0x458296(0x471)]==='podium'){sessionStorage['removeItem']('activeGameSession');return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x38f74f+_0x458296(0xaa3)+_0x321988+')'),localTeamPlayers=_0xe10921,localPlayerTurnIndex=_0x9669b3;if(_0x38f74f==='sync')currentLiveGameId=_0x321988,currentStudentName=_0xe10921[0x0],showView(_0x458296(0x293)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x321988;const _0x154486=_0x145b24['data'](),_0xfd38a3=doc(db,_0x458296(0x94a)+appId+_0x458296(0xb3f),_0x154486[_0x458296(0x49a)]),_0x43dff9=await getDoc(_0xfd38a3);_0x43dff9['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x43dff9['id'],..._0x43dff9['data']()}),showView(_0x458296(0x1de)),studentInitialView['classList']['add'](_0x458296(0xbc7)),renderTeamQuizQuestion());}}catch(_0x420a8b){console[_0x458296(0xa65)]('Failed\x20to\x20resume\x20game\x20session:',_0x420a8b),sessionStorage[_0x458296(0x864)]('activeGameSession');}}async function handleKickPlayerSync(_0x42424d){const _0x17e4b2=_0x176601;if(!currentLiveGameId||!_0x42424d)return;const _0x2aceb2=doc(db,_0x17e4b2(0x94a)+appId+_0x17e4b2(0x5bd),currentLiveGameId),_0x1d74ac={};_0x1d74ac['players.'+_0x42424d+'.status']=_0x17e4b2(0x3e8);try{await updateDoc(_0x2aceb2,_0x1d74ac);}catch(_0x1f6d5c){console[_0x17e4b2(0xa65)](_0x17e4b2(0x8d4)+_0x42424d+_0x17e4b2(0x594),_0x1f6d5c),showMessage(_0x17e4b2(0x5d3));}}async function renderStudentProgressDashboard(_0xfe6628,_0x2c2493){const _0x1a0f5e=_0x176601,_0x591ffa=document[_0x1a0f5e(0x267)](_0x1a0f5e(0xbcc));_0x591ffa[_0x1a0f5e(0xab8)]=_0x1a0f5e(0x97d);try{const _0x371669=collection(db,_0x1a0f5e(0x94a)+appId+_0x1a0f5e(0xb3f)),_0x1d0f9c=query(_0x371669,where(_0x1a0f5e(0x8ae),'==',_0xfe6628)),_0x46a0b5=await getDocs(_0x1d0f9c),_0x18e5dd=_0x46a0b5[_0x1a0f5e(0xbff)][_0x1a0f5e(0x697)](_0x103571=>({'id':_0x103571['id'],..._0x103571[_0x1a0f5e(0xa77)]()})),_0x482ee8=_0x18e5dd[_0x1a0f5e(0x697)](_0x4da851=>getDoc(doc(db,_0x1a0f5e(0x94a)+appId+'/public/data/quizzes/'+_0x4da851['id']+_0x1a0f5e(0xbd0),_0x2c2493))),_0x116757=await Promise[_0x1a0f5e(0x75d)](_0x482ee8),_0x377542=_0x116757[_0x1a0f5e(0xb79)](_0x31f476=>_0x31f476['exists']())[_0x1a0f5e(0x697)](_0x319b5d=>({'quizId':_0x319b5d[_0x1a0f5e(0xbf7)][_0x1a0f5e(0x266)][_0x1a0f5e(0x266)]['id'],..._0x319b5d[_0x1a0f5e(0xa77)]()}));if(_0x377542[_0x1a0f5e(0x2c7)]===0x0){_0x591ffa[_0x1a0f5e(0xab8)]=_0x1a0f5e(0x2a2);return;}let _0x25ad8c=_0x1a0f5e(0xb0e);_0x377542[_0x1a0f5e(0x523)](_0x85fba6=>{const _0xeb6c90=_0x1a0f5e,_0x710ae0=_0x18e5dd[_0xeb6c90(0x70b)](_0xbf917d=>_0xbf917d['id']===_0x85fba6[_0xeb6c90(0x49a)]),_0x589630=_0x710ae0['settings']?.['resultsDisplay']||_0xeb6c90(0x1b0),_0x26fa9e=_0x710ae0[_0xeb6c90(0x8e6)]?.[_0xeb6c90(0x22f)]??0x0,_0x1d6fae=_0x85fba6['bestScore']>=_0x26fa9e;let _0x4b6517='',_0x24af33='bg-gray-50';switch(_0x589630){case _0xeb6c90(0x1b0):case _0xeb6c90(0x7ae):_0x24af33=_0x1d6fae?_0xeb6c90(0x958):_0xeb6c90(0xb05),_0x4b6517=_0xeb6c90(0x3d5)+(_0x1d6fae?_0xeb6c90(0x947):'text-red-700')+'\x22>'+_0x85fba6[_0xeb6c90(0x75c)]+_0xeb6c90(0x995)+_0x85fba6['totalQuestions']+_0xeb6c90(0x284)+(_0x1d6fae?_0xeb6c90(0x18e):_0xeb6c90(0x2c1))+'\x22>'+(_0x1d6fae?'ผ่าน':'ไม่ผ่าน')+_0xeb6c90(0x1a4);break;case _0xeb6c90(0x5d8):_0x24af33=_0x1d6fae?_0xeb6c90(0x958):_0xeb6c90(0xb05),_0x4b6517='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x1d6fae?_0xeb6c90(0x18e):_0xeb6c90(0x2c1))+'\x22>'+(_0x1d6fae?'ผ่าน':_0xeb6c90(0x55b))+_0xeb6c90(0x1a4);break;case _0xeb6c90(0x825):_0x24af33=_0xeb6c90(0x8ed),_0x4b6517=_0xeb6c90(0x3eb);break;}_0x25ad8c+=_0xeb6c90(0x50d)+_0x24af33+_0xeb6c90(0xb5d)+_0x710ae0[_0xeb6c90(0x62b)]+_0xeb6c90(0x82b)+_0x85fba6['attempts'][_0xeb6c90(0x2c7)]+_0xeb6c90(0x9df)+new Date(_0x85fba6[_0xeb6c90(0x7d5)])[_0xeb6c90(0x612)](_0xeb6c90(0x414))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b6517+_0xeb6c90(0x9d4);}),_0x25ad8c+=_0x1a0f5e(0xba1),_0x591ffa[_0x1a0f5e(0xab8)]=_0x25ad8c;}catch(_0x4b9cc4){console[_0x1a0f5e(0xa65)](_0x1a0f5e(0xbbd),_0x4b9cc4),_0x591ffa[_0x1a0f5e(0xab8)]=_0x1a0f5e(0x79d);}}function renderQuizBankListForMultiSelect(_0x20520a=''){const _0x377258=_0x176601,_0xc37f74=document['getElementById']('bank-quiz-list'),_0xec2ba9=_0x20520a['toLowerCase']()['trim'](),_0x4beb6c=allQuizzesGlobal[_0x377258(0x697)](_0xa0010c=>({..._0xa0010c,'projectName':allProjects['find'](_0x2ae10d=>_0x2ae10d['id']===_0xa0010c[_0x377258(0x8ae)])?.[_0x377258(0x2ea)]||_0x377258(0x356)}))['filter'](_0x272d5a=>(_0x272d5a[_0x377258(0x62b)]||'')['toLowerCase']()['includes'](_0xec2ba9)||(_0x272d5a[_0x377258(0x2ea)]||'')[_0x377258(0x280)]()[_0x377258(0x4bd)](_0xec2ba9)||_0x272d5a['id'][_0x377258(0x5bc)]()[_0x377258(0x4bd)](_0xec2ba9));_0xc37f74[_0x377258(0xab8)]=_0x4beb6c['length']?_0x4beb6c[_0x377258(0x697)](_0x175a83=>_0x377258(0x7d0)+_0x175a83['id']+_0x377258(0xa90)+(_0x175a83[_0x377258(0x62b)]||_0x377258(0x8f8))+_0x377258(0x95d)+_0x175a83[_0x377258(0x2ea)]+_0x377258(0x3c8)+_0x175a83['id']+_0x377258(0x420))[_0x377258(0x706)](''):_0x377258(0x42a),_0xc37f74[_0x377258(0x3b6)]=()=>{const _0x1d71c=_0x377258,_0x59155c=document[_0x1d71c(0x690)](_0x1d71c(0x7f1));document[_0x1d71c(0x267)]('confirm-link-quiz-btn')[_0x1d71c(0x76a)]=!_0x59155c;};}function setupStudentProgressListeners(){const _0x2025c1=_0x176601;document[_0x2025c1(0x267)](_0x2025c1(0x599))[_0x2025c1(0xbb9)](_0x2025c1(0x292),showStudentProgressView),document['getElementById']('back-to-student-home-btn')['addEventListener'](_0x2025c1(0x292),()=>{const _0x42ffd1=_0x2025c1;document[_0x42ffd1(0x267)](_0x42ffd1(0x70c))['classList'][_0x42ffd1(0x8a5)](_0x42ffd1(0xbc7)),document['getElementById'](_0x42ffd1(0xbd5))[_0x42ffd1(0x25c)][_0x42ffd1(0x167)]('hidden');});}async function startSkillPractice(_0x25b62b){const _0x259dfe=_0x176601;studentResultArea[_0x259dfe(0x25c)][_0x259dfe(0x8a5)](_0x259dfe(0xbc7)),studentQuizArea['innerHTML']=_0x259dfe(0xa64),studentQuizArea['classList']['remove'](_0x259dfe(0xbc7));try{const _0x10f849=await getStandardizedTopic(_0x25b62b);console[_0x259dfe(0x469)]('คำถามดิบ:\x20\x22'+_0x25b62b+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x10f849+'\x22'),studentQuizArea['querySelector']('p')[_0x259dfe(0x4c2)]=_0x259dfe(0x18a)+_0x10f849+'\x22...';const _0x3ad416=collection(db,_0x259dfe(0x94a)+appId+_0x259dfe(0x461)),_0x4a6430=query(_0x3ad416,where('topic','==',_0x10f849)),_0x25f301=await getDocs(_0x4a6430);if(_0x25f301[_0x259dfe(0xbff)][_0x259dfe(0x2c7)]>=0x3){console[_0x259dfe(0x469)](_0x259dfe(0x756)+_0x25f301[_0x259dfe(0xbff)]['length']+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x10f849+_0x259dfe(0x61b));let _0x354461=_0x25f301[_0x259dfe(0xbff)]['map'](_0x12b572=>_0x12b572[_0x259dfe(0xa77)]());shuffleArray(_0x354461);const _0x5b436={'topic':_0x10f849,'questions':_0x354461['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x5b436);}else{console[_0x259dfe(0x469)](_0x259dfe(0x163)+_0x10f849+_0x259dfe(0x569));const _0x2d5464=await generatePracticeQuestions(_0x10f849);await saveDrillToPracticeBank(_0x2d5464,_0x10f849),displaySkillPracticeDrill(_0x2d5464);}}catch(_0x5e69c0){console['error'](_0x259dfe(0xae5),_0x5e69c0),showMessage(_0x259dfe(0xc05)),studentQuizArea[_0x259dfe(0x25c)]['add']('hidden'),studentResultArea['classList'][_0x259dfe(0x167)]('hidden');}}async function saveDrillToPracticeBank(_0x385644,_0xb63523){const _0x873e9a=_0x176601,_0x3fa079=collection(db,_0x873e9a(0x94a)+appId+_0x873e9a(0x461)),_0x53235d=writeBatch(db);_0x385644[_0x873e9a(0x9ce)][_0x873e9a(0x523)](_0x456946=>{const _0x5fb998=_0x873e9a,_0xf64c9e=doc(_0x3fa079);_0x53235d['set'](_0xf64c9e,{'topic':_0xb63523,'questionText':_0x456946[_0x5fb998(0x911)],'options':_0x456946[_0x5fb998(0x61a)],'correctAnswerIndex':_0x456946[_0x5fb998(0x1f1)],'explanation':_0x456946[_0x5fb998(0x9ff)],'createdAt':serverTimestamp()});});try{await _0x53235d[_0x873e9a(0x202)](),console[_0x873e9a(0x469)](_0x873e9a(0xa0e)+_0x385644['questions'][_0x873e9a(0x2c7)]+_0x873e9a(0xa13));}catch(_0x43d256){console[_0x873e9a(0xa65)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x43d256);}}async function getStandardizedTopic(_0x5aac22){const _0xb9b484=_0x176601,_0x38b17c=_0xb9b484(0x696)+_0x5aac22+_0xb9b484(0x7f3),_0x544cba={'type':_0xb9b484(0x9f7),'properties':{'standardTopic':{'type':_0xb9b484(0x5fb)}},'required':[_0xb9b484(0x1b8)]};try{const _0x1b38dd=await callAnalysisApi(_0x38b17c,_0x544cba);return _0x1b38dd[_0xb9b484(0x1b8)];}catch(_0x5def55){return console[_0xb9b484(0xa65)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x5def55),_0x5aac22;}}async function handleGenerateEasyVersionQuiz(_0x2a4a1a){const _0x527e5e=_0x176601,_0x320e86=document[_0x527e5e(0x267)](_0x527e5e(0x19f)),_0x5813c0=document[_0x527e5e(0x267)](_0x527e5e(0x3d6));_0x5813c0[_0x527e5e(0x25c)][_0x527e5e(0x8a5)]('hidden');const _0x368ab9=_0x527e5e(0x42e);_0x320e86[_0x527e5e(0x780)](_0x527e5e(0x873),_0x368ab9);try{const _0x5afb9c=allQuizzes['find'](_0x57d5ef=>_0x57d5ef['id']===_0x2a4a1a);if(!_0x5afb9c)throw new Error(_0x527e5e(0x750));const _0x4b53b9=_0x527e5e(0xafe)+JSON['stringify'](_0x5afb9c[_0x527e5e(0x9ce)])+_0x527e5e(0x395),_0x545161={'type':'OBJECT','properties':{'questionText':{'type':_0x527e5e(0x5fb)},'questionType':{'type':_0x527e5e(0x5fb)},'options':{'type':_0x527e5e(0x876),'items':{'type':_0x527e5e(0x5fb)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x527e5e(0x5fb)},'explanation':{'type':_0x527e5e(0x5fb)},'imageCode':{'type':_0x527e5e(0x5fb)}},'required':['questionText','questionType','explanation']},_0x18bf78={'type':_0x527e5e(0x9f7),'properties':{'questions':{'type':_0x527e5e(0x876),'items':_0x545161}},'required':['questions']},_0x13e326=await callAnalysisApi(_0x4b53b9,_0x18bf78);_0x13e326&&_0x13e326[_0x527e5e(0x9ce)]&&_0x13e326[_0x527e5e(0x9ce)][_0x527e5e(0x523)](_0x1042d0=>{const _0x9aaabe=_0x527e5e;if(_0x1042d0[_0x9aaabe(0x9ba)](_0x9aaabe(0x9ed))){const _0x1b1f80=String(_0x1042d0[_0x9aaabe(0x9ed)])[_0x9aaabe(0xa5f)]();(_0x1b1f80===''||_0x1b1f80[_0x9aaabe(0x280)]()==='null'||!_0x1b1f80[_0x9aaabe(0xa1d)](_0x9aaabe(0x6a7)))&&delete _0x1042d0[_0x9aaabe(0x9ed)];}});if(!_0x13e326||!_0x13e326['questions']||_0x13e326[_0x527e5e(0x9ce)][_0x527e5e(0x2c7)]===0x0)throw new Error(_0x527e5e(0xa24));const _0x4d7b72=_0x13e326[_0x527e5e(0x9ce)][_0x527e5e(0x697)]((_0x45d9e5,_0x7125a2)=>({..._0x45d9e5,'id':'q_'+Date[_0x527e5e(0x937)]()+'_'+_0x7125a2})),_0x3ecce9={'projectId':_0x5afb9c['projectId'],'quizType':_0x5afb9c['quizType'],'settings':_0x5afb9c['settings'],'createdBy':_0x5afb9c['createdBy'],'status':_0x527e5e(0x866),'topic':_0x527e5e(0x47e)+_0x5afb9c[_0x527e5e(0x62b)],'questions':_0x4d7b72,'createdAt':new Date()['toISOString'](),'quizMode':'standard','pairedQuizId':null};let _0x1a262a;while(!![]){_0x1a262a=Math['floor'](0x3e8+Math[_0x527e5e(0x658)]()*0x2328)[_0x527e5e(0x5bc)]();const _0x3a3b61=await getDoc(doc(db,_0x527e5e(0x94a)+appId+_0x527e5e(0xb3f),_0x1a262a));if(!_0x3a3b61[_0x527e5e(0x4b5)]())break;}await setDoc(doc(db,_0x527e5e(0x94a)+appId+'/public/data/quizzes',_0x1a262a),_0x3ecce9),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x15eb34){console[_0x527e5e(0xa65)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x15eb34),showMessage('เกิดข้อผิดพลาด:\x20'+_0x15eb34[_0x527e5e(0x193)]);}finally{const _0x157999=document[_0x527e5e(0x267)](_0x527e5e(0x42d));_0x157999&&_0x157999[_0x527e5e(0x167)](),_0x5813c0[_0x527e5e(0x25c)][_0x527e5e(0x167)](_0x527e5e(0xbc7));}}async function generatePracticeQuestions(_0x40b211){const _0x5ada28=_0x176601,_0x4b9259=_0x5ada28(0x9f1)+_0x40b211+_0x5ada28(0x3db)+simpleMathPrompt+_0x5ada28(0x9cb),_0x4dbf82={'type':_0x5ada28(0x9f7),'properties':{'questionText':{'type':_0x5ada28(0x5fb)},'options':{'type':_0x5ada28(0x876),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5ada28(0x5fb)}},'required':[_0x5ada28(0x911),_0x5ada28(0x61a),_0x5ada28(0x1f1),_0x5ada28(0x9ff)]},_0xe43a20={'type':_0x5ada28(0x9f7),'properties':{'topic':{'type':_0x5ada28(0x5fb)},'questions':{'type':_0x5ada28(0x876),'items':_0x4dbf82}},'required':['topic',_0x5ada28(0x9ce)]};return await callAnalysisApi(_0x4b9259,_0xe43a20);}function displayLessonPlan(_0xfa2d48,_0x525c67){const _0x5ebe82=_0x176601,_0x28da19=_0x5ebe82(0x95b)+_0x525c67[_0x5ebe82(0x62b)]+_0x5ebe82(0xbc1)+_0xfa2d48[_0x5ebe82(0x6f7)][_0x5ebe82(0x697)](_0x154b79=>_0x5ebe82(0x7f5)+_0x154b79+'</li>')[_0x5ebe82(0x706)]('')+_0x5ebe82(0x8eb)+_0xfa2d48[_0x5ebe82(0xb6a)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xfa2d48[_0x5ebe82(0x740)][_0x5ebe82(0x697)](_0x5ec760=>_0x5ebe82(0x513)+_0x5ec760[_0x5ebe82(0x6a1)]+_0x5ebe82(0x539)+_0x5ec760[_0x5ebe82(0x89c)]+_0x5ebe82(0x829))['join']('')+_0x5ebe82(0x28f);document[_0x5ebe82(0x267)](_0x5ebe82(0x8ee))[_0x5ebe82(0x4c2)]=_0x5ebe82(0x660)+_0x525c67['topic'],document[_0x5ebe82(0x267)](_0x5ebe82(0x55d))[_0x5ebe82(0xab8)]=_0x28da19,document[_0x5ebe82(0x267)](_0x5ebe82(0x8d6))[_0x5ebe82(0x25c)]['remove'](_0x5ebe82(0xbc7));if(window[_0x5ebe82(0xb72)])MathJax[_0x5ebe82(0x5bf)]();}function displaySkillPracticeDrill(_0x19e5a1){const _0x20cd95=_0x176601;let _0x50dc4f=0x0;const _0x5852e2=_0x19e5a1[_0x20cd95(0x9ce)],_0x5a29af=()=>{const _0x37d647=_0x20cd95,_0x905847=_0x5852e2[_0x50dc4f],_0x35bd4c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x50dc4f+0x1)+_0x37d647(0x995)+_0x5852e2['length']+_0x37d647(0x2b0)+_0x905847['questionText']+_0x37d647(0xbdf)+_0x905847['options'][_0x37d647(0x697)]((_0x39bbd3,_0x2ab92b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x2ab92b+_0x37d647(0xa2a)+_0x2ab92b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x2ab92b+'\x22>'+_0x39bbd3+_0x37d647(0x8b0))[_0x37d647(0x706)]('')+_0x37d647(0xa63);studentQuizArea[_0x37d647(0xab8)]=_0x35bd4c;if(window['MathJax'])MathJax[_0x37d647(0x5bf)]([studentQuizArea]);document[_0x37d647(0x267)]('hint-btn')[_0x37d647(0xbb9)]('click',async()=>{const _0x41ef44=_0x37d647,_0x369647=await getHintForQuestion(_0x905847[_0x41ef44(0x911)]);showMessage(_0x369647);}),document[_0x37d647(0x267)](_0x37d647(0x44d))[_0x37d647(0xbb9)](_0x37d647(0x292),()=>{const _0x1e9dc2=_0x37d647,_0x48ced2=document[_0x1e9dc2(0x690)](_0x1e9dc2(0x64c));if(!_0x48ced2){showMessage(_0x1e9dc2(0x90b));return;}const _0x4226ef=document[_0x1e9dc2(0x267)](_0x1e9dc2(0x861)),_0x41d774=parseInt(_0x48ced2[_0x1e9dc2(0x832)])===_0x905847[_0x1e9dc2(0x1f1)];_0x41d774?(_0x4226ef[_0x1e9dc2(0x69e)]=_0x1e9dc2(0xb9f),_0x4226ef[_0x1e9dc2(0xab8)]=_0x1e9dc2(0xa0d)+_0x905847[_0x1e9dc2(0x9ff)]):(_0x4226ef[_0x1e9dc2(0x69e)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x4226ef[_0x1e9dc2(0xab8)]=_0x1e9dc2(0x2af)+_0x905847[_0x1e9dc2(0x9ff)]);_0x4226ef[_0x1e9dc2(0x25c)][_0x1e9dc2(0x167)](_0x1e9dc2(0xbc7));if(window[_0x1e9dc2(0xb72)])MathJax[_0x1e9dc2(0x5bf)]([_0x4226ef]);document['getElementById'](_0x1e9dc2(0x44d))[_0x1e9dc2(0x25c)][_0x1e9dc2(0x8a5)](_0x1e9dc2(0xbc7)),document[_0x1e9dc2(0x267)](_0x1e9dc2(0x94d))[_0x1e9dc2(0x25c)][_0x1e9dc2(0x8a5)](_0x1e9dc2(0xbc7)),document[_0x1e9dc2(0x267)](_0x1e9dc2(0x434))[_0x1e9dc2(0x25c)][_0x1e9dc2(0x167)]('hidden');}),document[_0x37d647(0x267)]('next-drill-btn')[_0x37d647(0xbb9)](_0x37d647(0x292),()=>{const _0x519e8b=_0x37d647;_0x50dc4f++,_0x50dc4f<_0x5852e2[_0x519e8b(0x2c7)]?_0x5a29af():(studentQuizArea[_0x519e8b(0xab8)]=_0x519e8b(0x5d6),document['getElementById'](_0x519e8b(0x37e))[_0x519e8b(0xbb9)](_0x519e8b(0x292),()=>{const _0x399204=_0x519e8b;studentQuizArea[_0x399204(0x25c)]['add'](_0x399204(0xbc7)),studentResultArea[_0x399204(0x25c)][_0x399204(0x167)](_0x399204(0xbc7));}));});};_0x5a29af();}async function getHintForQuestion(_0x144fd5){const _0x3fde00=_0x176601,_0x7fcc48='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x144fd5+_0x3fde00(0x755),_0x49d78b={'type':_0x3fde00(0x9f7),'properties':{'hint':{'type':_0x3fde00(0x5fb)}},'required':[_0x3fde00(0x56e)]};try{const _0x569fae=await callAnalysisApi(_0x7fcc48,_0x49d78b);return _0x569fae[_0x3fde00(0x56e)];}catch(_0x5100d0){return console[_0x3fde00(0xa65)](_0x3fde00(0x2f7),_0x5100d0),_0x3fde00(0x4d4);}}async function extractTextFromPdf(_0x2c1e82){const _0x3fea32=_0x176601;pdfjsLib[_0x3fea32(0x8a4)][_0x3fea32(0x5d1)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x463f7c=await _0x2c1e82[_0x3fea32(0x651)](),_0x33ec97=await pdfjsLib[_0x3fea32(0x5a1)](_0x463f7c)[_0x3fea32(0x49b)],_0x3cb850=_0x33ec97['numPages'];let _0x304eb6='';for(let _0x3ec18e=0x1;_0x3ec18e<=_0x3cb850;_0x3ec18e++){const _0x1c9227=await _0x33ec97[_0x3fea32(0xa9f)](_0x3ec18e),_0x47ff0d=await _0x1c9227[_0x3fea32(0x933)](),_0x241662=_0x47ff0d[_0x3fea32(0x976)][_0x3fea32(0x697)](_0x4374f9=>_0x4374f9[_0x3fea32(0x708)])[_0x3fea32(0x706)]('\x20');_0x304eb6+=_0x241662+'\x0a\x0a';}return _0x304eb6;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x4c39be){const _0x44b29c=_0x176601,_0x58d43c=document[_0x44b29c(0x267)](_0x44b29c(0x868)),_0x3eccfb=document['getElementById']('blueprint-topics-list'),_0x590bdc=document[_0x44b29c(0x267)]('save-blueprint-as-project-btn');_0x58d43c['classList'][_0x44b29c(0x167)](_0x44b29c(0xbc7)),_0x3eccfb['innerHTML']=_0x44b29c(0x52a),_0x590bdc['classList'][_0x44b29c(0x8a5)](_0x44b29c(0xbc7));try{const _0x5d75fc='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x4c39be+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x12bc59={'type':_0x44b29c(0x9f7),'properties':{'gradeLevel':{'type':_0x44b29c(0x5fb)},'curriculum':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'sara':{'type':_0x44b29c(0x5fb)},'mainTopics':{'type':'ARRAY','items':{'type':_0x44b29c(0x9f7),'properties':{'topicName':{'type':_0x44b29c(0x5fb)},'subTopics':{'type':'ARRAY','items':{'type':_0x44b29c(0x5fb)}}},'required':[_0x44b29c(0x7f0),_0x44b29c(0x582)]}}},'required':[_0x44b29c(0xc0a),_0x44b29c(0xaee)]}}},'required':[_0x44b29c(0xb29),'curriculum']},_0x5e1bef=await callAnalysisApi(_0x5d75fc,_0x12bc59);if(_0x5e1bef&&_0x5e1bef[_0x44b29c(0x304)])extractedBlueprintData=_0x5e1bef,renderBlueprintTopics(_0x5e1bef),_0x590bdc[_0x44b29c(0x25c)][_0x44b29c(0x167)](_0x44b29c(0xbc7));else throw new Error(_0x44b29c(0x71a));}catch(_0xf2181c){console[_0x44b29c(0xa65)]('Error\x20analyzing\x20blueprint\x20topics:',_0xf2181c),_0x3eccfb[_0x44b29c(0xab8)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x2f00f3){const _0x3a3f67=_0x176601,_0x2605f9=document[_0x3a3f67(0x267)](_0x3a3f67(0x82f)),_0x3b4129=_0x2f00f3[_0x3a3f67(0xb29)],_0x15201a=_0x3a3f67(0xb98)+_0x3b4129+_0x3a3f67(0xba7);let _0x50bc88='';_0x2f00f3['curriculum'][_0x3a3f67(0x523)](_0x2b816b=>{const _0x15b66e=_0x3a3f67;_0x50bc88+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x2b816b[_0x15b66e(0xc0a)]+'</h4>',_0x2b816b[_0x15b66e(0xaee)][_0x15b66e(0x523)](_0x462b6f=>{const _0x3becaf=_0x15b66e;_0x50bc88+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x462b6f[_0x3becaf(0x7f0)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x462b6f[_0x3becaf(0x582)][_0x3becaf(0x523)](_0x4f04cf=>{const _0x4218f4=_0x3becaf;_0x50bc88+=_0x4218f4(0x734)+_0x4f04cf['replace'](/'/g,'\x5c\x27')+_0x4218f4(0x490)+_0x3b4129[_0x4218f4(0x24a)](/'/g,'\x5c\x27')+_0x4218f4(0x56f)+_0x4f04cf+_0x4218f4(0xa8c)+_0x4f04cf[_0x4218f4(0x24a)](/'/g,'\x5c\x27')+_0x4218f4(0x4f7);}),_0x50bc88+=_0x3becaf(0xb5e);}),_0x50bc88+=_0x15b66e(0xba1);}),_0x2605f9[_0x3a3f67(0xab8)]=_0x15201a+_0x50bc88;}async function handleGenerateTeachingContent(_0x792ca5){const _0x4b4886=_0x176601,_0x27009e=document[_0x4b4886(0x267)](_0x4b4886(0x8d6)),_0x3436c5=document['getElementById'](_0x4b4886(0x55d));document[_0x4b4886(0x267)](_0x4b4886(0x8ee))['textContent']=_0x4b4886(0x35d)+_0x792ca5,_0x3436c5['innerHTML']=_0x4b4886(0x6c1),_0x27009e[_0x4b4886(0x25c)][_0x4b4886(0x167)](_0x4b4886(0xbc7));try{const _0x5a7d6a=_0x4b4886(0x811)+_0x792ca5+_0x4b4886(0x4ad),_0x574fb4={'type':_0x4b4886(0x9f7),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x4b4886(0x5fb)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x4b4886(0x5fb)}},'stepByStepExamples':{'type':_0x4b4886(0x876),'items':{'type':_0x4b4886(0x9f7),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}},'required':[_0x4b4886(0x6a1),_0x4b4886(0x89c)]}},'teacherTips':{'type':_0x4b4886(0x876),'items':{'type':_0x4b4886(0x5fb)}}},'required':['keyConcepts',_0x4b4886(0x605),_0x4b4886(0x975),_0x4b4886(0x315)]},_0x5b2246=await callAnalysisApi(_0x5a7d6a,_0x574fb4);displayTeachingContent(_0x5b2246,_0x792ca5);}catch(_0x1024eb){console[_0x4b4886(0xa65)](_0x4b4886(0x5ce),_0x1024eb),_0x3436c5[_0x4b4886(0xab8)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x1024eb[_0x4b4886(0x193)]+_0x4b4886(0xa5b);}}function displayTeachingContent(_0x4cb5be,_0xba8c4a){const _0x4d445d=_0x176601,_0x6152ea=document[_0x4d445d(0x267)]('lesson-plan-content');document['getElementById']('lesson-plan-title')[_0x4d445d(0x4c2)]='เนื้อหาสำหรับสอน:\x20'+_0xba8c4a;const _0x1cfa2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x4cb5be[_0x4d445d(0x938)]['map'](_0x54dac0=>_0x4d445d(0x7f5)+_0x54dac0+'</li>')[_0x4d445d(0x706)]('')+_0x4d445d(0x685)+_0x4cb5be[_0x4d445d(0x605)][_0x4d445d(0x697)](_0x127ed8=>_0x4d445d(0x7f5)+_0x127ed8+_0x4d445d(0x3a9))['join']('')+_0x4d445d(0x579)+_0x4cb5be[_0x4d445d(0x975)][_0x4d445d(0x697)](_0x37a258=>_0x4d445d(0x39b)+_0x37a258[_0x4d445d(0x6a1)]+_0x4d445d(0xb31)+_0x37a258[_0x4d445d(0x89c)]+_0x4d445d(0x588))[_0x4d445d(0x706)]('')+_0x4d445d(0xacb)+_0x4cb5be[_0x4d445d(0x315)][_0x4d445d(0x697)](_0x13f487=>_0x4d445d(0x7f5)+_0x13f487+_0x4d445d(0x3a9))[_0x4d445d(0x706)]('')+_0x4d445d(0x383);_0x6152ea[_0x4d445d(0xab8)]=_0x1cfa2f;if(window[_0x4d445d(0xb72)])MathJax[_0x4d445d(0x5bf)]([_0x6152ea]);}async function generateQuizForSingleTopic(_0x547063){const _0x2558a6=_0x176601;console[_0x2558a6(0x469)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x547063+'\x22');const _0x42f87a=document[_0x2558a6(0x267)]('reference-pdf-upload'),_0x544f21=_0x42f87a[_0x2558a6(0x9b4)]['length']>0x0?_0x42f87a[_0x2558a6(0x9b4)][0x0]:null;let _0x3e3b2b=null;if(_0x544f21)try{const _0xabcf92=new FileReader();_0xabcf92[_0x2558a6(0x694)](_0x544f21);const _0x58b3c7=await new Promise((_0x4099aa,_0x427a08)=>{const _0xb1fb21=_0x2558a6;_0xabcf92[_0xb1fb21(0x7e0)]=()=>_0x4099aa(_0xabcf92[_0xb1fb21(0xa52)][_0xb1fb21(0xa15)](',')[0x1]),_0xabcf92['onerror']=_0xeafcfc=>_0x427a08(_0xeafcfc);});_0x3e3b2b=[{'inlineData':{'mimeType':_0x544f21[_0x2558a6(0x633)],'data':_0x58b3c7}}];}catch(_0x9aded2){console[_0x2558a6(0xa65)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x9aded2),showMessage(_0x2558a6(0x26a));return;}generateQuiz(_0x547063,null,null,_0x3e3b2b);}async function handleGenerateFromBlueprint(){const _0x5a7d6e=_0x176601,_0x341755=document[_0x5a7d6e(0x267)](_0x5a7d6e(0x821)),_0x186a3a=document[_0x5a7d6e(0x267)](_0x5a7d6e(0xb24)),_0x20a255=_0x341755[_0x5a7d6e(0x9b4)][0x0],_0x3f7f4e=_0x186a3a[_0x5a7d6e(0x9b4)][_0x5a7d6e(0x2c7)]>0x0?_0x186a3a['files'][0x0]:null;if(!_0x20a255){showMessage(_0x5a7d6e(0xab9));return;}const _0x32a344=document[_0x5a7d6e(0x267)](_0x5a7d6e(0xa7d)),_0x187161=document[_0x5a7d6e(0x267)]('loader-text'),_0x354146=document['getElementById'](_0x5a7d6e(0x581)),_0x588325=document['getElementById'](_0x5a7d6e(0x8cf));_0x588325['disabled']=!![],document['getElementById'](_0x5a7d6e(0x7d1))[_0x5a7d6e(0x25c)][_0x5a7d6e(0x167)](_0x5a7d6e(0xbc7)),_0x354146[_0x5a7d6e(0xab8)]='',_0x32a344['classList']['remove']('hidden');try{_0x187161[_0x5a7d6e(0x4c2)]=_0x5a7d6e(0x212);const _0x343bca=new FileReader();_0x343bca[_0x5a7d6e(0x694)](_0x20a255);const _0x27bf5e=await new Promise((_0x16f34c,_0x2acbdc)=>{const _0x54cbac=_0x5a7d6e;_0x343bca['onload']=()=>_0x16f34c(_0x343bca['result']['split'](',')[0x1]),_0x343bca[_0x54cbac(0x9eb)]=_0x268cf2=>_0x2acbdc(_0x268cf2);}),_0x22a9dc=[];if(_0x3f7f4e){_0x187161['textContent']=_0x5a7d6e(0xb13);const _0x1ef451=new FileReader();_0x1ef451[_0x5a7d6e(0x694)](_0x3f7f4e);const _0x4f36c7=await new Promise((_0x44b3f3,_0x544e34)=>{const _0xc23cfa=_0x5a7d6e;_0x1ef451[_0xc23cfa(0x7e0)]=()=>_0x44b3f3(_0x1ef451[_0xc23cfa(0xa52)]['split'](',')[0x1]),_0x1ef451[_0xc23cfa(0x9eb)]=_0x16f690=>_0x544e34(_0x16f690);});_0x22a9dc[_0x5a7d6e(0x92e)]({'text':_0x5a7d6e(0x47a)}),_0x22a9dc[_0x5a7d6e(0x92e)]({'inlineData':{'mimeType':_0x3f7f4e[_0x5a7d6e(0x633)],'data':_0x4f36c7}});}const _0x3f9009='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1b4830=_0x5a7d6e(0x753)+(_0x3f7f4e?_0x5a7d6e(0x206):'')+_0x5a7d6e(0x3e3)+_0x3f9009+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x5a7d6e(0x9e5),_0x1e4955={'type':_0x5a7d6e(0x9f7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5a7d6e(0x5fb),'enum':[_0x5a7d6e(0x3e7),'short_answer',_0x5a7d6e(0x9c7),_0x5a7d6e(0x4ed)]},'options':{'type':_0x5a7d6e(0x876),'items':{'type':_0x5a7d6e(0x5fb)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x5a7d6e(0x4b4)},'explanation':{'type':_0x5a7d6e(0x5fb)},'imageCode':{'type':_0x5a7d6e(0x5fb)}},'required':[_0x5a7d6e(0x9c3),'explanation']},_0x57d38b={'type':_0x5a7d6e(0x9f7),'properties':{'topic':{'type':_0x5a7d6e(0x5fb)},'questions':{'type':_0x5a7d6e(0x876),'items':_0x1e4955}},'required':[_0x5a7d6e(0x62b),_0x5a7d6e(0x9ce)]},_0x45d0d6=[{'text':_0x1b4830},{'inlineData':{'mimeType':_0x20a255['type'],'data':_0x27bf5e}},..._0x22a9dc];await handleApiCall(_0x45d0d6,_0x5a7d6e(0x44e),_0x57d38b);}catch(_0x4d09c6){console[_0x5a7d6e(0xa65)](_0x5a7d6e(0x524),_0x4d09c6),showMessage(_0x5a7d6e(0x4f8)+_0x4d09c6[_0x5a7d6e(0x193)]),_0x354146[_0x5a7d6e(0xab8)]=_0x5a7d6e(0x591);}finally{_0x32a344[_0x5a7d6e(0x25c)][_0x5a7d6e(0x8a5)]('hidden'),_0x588325['disabled']=![];}}function proceedToNextQuestion(_0x411aed){const _0x255f60=_0x176601;studentAnswersPerQuestion[_0x255f60(0x92e)](_0x411aed),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x255f60(0x9ce)][_0x255f60(0x2c7)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x5d5689,_0x2353ef){const _0x585e70=_0x176601,_0x5033a6=Object[_0x585e70(0x8f5)](_0x5d5689['players']||{}),_0x1584ef=_0x5033a6[_0x585e70(0x2c7)],_0x5e6697=[..._0x5033a6]['sort']((_0x2ff1c3,_0x51aa9f)=>_0x51aa9f[_0x585e70(0x34f)]-_0x2ff1c3[_0x585e70(0x34f)]),_0xc0e88b=_0x5d5689[_0x585e70(0x8d0)];let _0x540d1f='';const _0x508fc9=_0x5d5689['shuffledQuiz']['questions'],_0xd02561=_0x508fc9[_0xc0e88b],_0x5d5f65=_0x130afd=>String[_0x585e70(0x8a2)](0x41+_0x130afd);let _0x5124bc='',_0x1a78bf='';if(_0xd02561){const _0x12c24a=_0xd02561[_0x585e70(0x9c3)]||_0x5d5689[_0x585e70(0x860)][_0x585e70(0x84e)];if(_0x12c24a===_0x585e70(0x3e7)&&_0xd02561[_0x585e70(0x61a)]&&_0xd02561['correctAnswerIndex']!==undefined){const _0x35fcf8=_0xd02561[_0x585e70(0x1f1)];_0x5124bc=_0xd02561[_0x585e70(0x61a)][_0x35fcf8],_0x1a78bf=_0x5d5f65(_0x35fcf8)+'.';}else{if(_0x12c24a==='true_false'){const _0x103332=_0xd02561[_0x585e70(0xb9b)]===!![]||String(_0xd02561['correctAnswer'])[_0x585e70(0x280)]()===_0x585e70(0x268);_0x103332?(_0x5124bc=_0x585e70(0x4ec),_0x1a78bf='ก.'):(_0x5124bc='ไม่ใช่\x20/\x20ผิด',_0x1a78bf='ข.');}else{if(_0x12c24a===_0x585e70(0x4ed))_0x5124bc=_0xd02561['correctResponse']||'-',_0x1a78bf='';else _0x12c24a==='short_answer'&&(_0x5124bc=_0xd02561['idealAnswer']||'-',_0x1a78bf='');}}}_0x5124bc&&(_0x540d1f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0xc0e88b+0x1)+_0x585e70(0xb57)+_0x1a78bf+'\x20'+_0x5124bc+_0x585e70(0x7cf));const _0x540d62=_0x5e6697[_0x585e70(0x697)](_0x25f530=>{const _0x2ae55b=_0x585e70;let _0x4f65aa=![];if(_0x25f530['answers']&&_0xc0e88b!==-0x1){const _0x472ecd=_0x25f530[_0x2ae55b(0x9e2)][_0x2ae55b(0x70b)](_0x1876de=>_0x1876de[_0x2ae55b(0x3b1)]===_0xc0e88b);_0x472ecd&&_0x472ecd[_0x2ae55b(0x26e)]&&(_0x4f65aa=!![]);}const _0x283343=_0x4f65aa?_0x2ae55b(0x3ed):_0x2ae55b(0x802);return _0x2ae55b(0x7b7)+_0x283343+_0x2ae55b(0x3c0)+_0x25f530[_0x2ae55b(0x6be)]+_0x2ae55b(0xa42)+_0x25f530[_0x2ae55b(0x34f)]+_0x2ae55b(0x670);})[_0x585e70(0x706)](''),_0xaef1db=_0x508fc9[_0x585e70(0x697)]((_0x57c20c,_0x5b32f7)=>{const _0x3b6c7a=_0x585e70,_0x37be52=_0x5033a6['filter'](_0x22d54d=>_0x22d54d[_0x3b6c7a(0x9e2)]&&_0x22d54d[_0x3b6c7a(0x9e2)][_0x3b6c7a(0x70b)](_0x15f675=>_0x15f675[_0x3b6c7a(0x3b1)]===_0x5b32f7&&_0x15f675[_0x3b6c7a(0x26e)]))['length'],_0x115b13=_0x5b32f7===_0xc0e88b,_0x3615ef=_0x115b13?_0x3b6c7a(0x6e5):_0x3b6c7a(0x614);return _0x3b6c7a(0x5c4)+_0x3615ef+_0x3b6c7a(0x855)+(_0x5b32f7+0x1)+_0x3b6c7a(0x429)+_0x37be52+'\x20/\x20'+_0x1584ef+_0x3b6c7a(0xbf5);})[_0x585e70(0x706)]('');let _0x5ae6e2='',_0x268208='';if(_0x2353ef){const _0x899bec=_0x5d5689[_0x585e70(0x8d0)]>=_0x508fc9[_0x585e70(0x2c7)]-0x1;_0x5ae6e2=_0x585e70(0x89b)+(_0x899bec?_0x585e70(0x5ef):_0x585e70(0xa96))+_0x585e70(0x57a),_0x268208=_0x585e70(0x1e6);}const _0x3885e2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x5d5689[_0x585e70(0x860)][_0x585e70(0x62b)]+_0x585e70(0x298)+_0x268208+_0x585e70(0x64a)+_0x540d1f+_0x585e70(0x398)+(_0x540d62||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x585e70(0x981)+_0xaef1db+_0x585e70(0x2bd)+(_0x2353ef?_0x585e70(0x1db)+_0x5ae6e2+'</div>':'')+_0x585e70(0xaa7);liveGameView[_0x585e70(0xab8)]=_0x3885e2;if(window['MathJax']){const _0x51561e=document[_0x585e70(0x267)](_0x585e70(0x65c));_0x51561e&&MathJax[_0x585e70(0x5bf)]([_0x51561e]);}if(_0x2353ef){document[_0x585e70(0x267)](_0x585e70(0xbd6))['onclick']=async()=>{const _0x5593af=_0x585e70,_0x22becd=doc(db,'artifacts/'+appId+_0x5593af(0x5bd),currentLiveGameId),_0x5a1ed9=_0x5d5689[_0x5593af(0x8d0)]+0x1;if(_0x5a1ed9<_0x508fc9['length']){const _0x157a1f={};Object[_0x5593af(0x966)](_0x5d5689[_0x5593af(0x3e4)])[_0x5593af(0x523)](_0xea64b1=>{const _0xbc21b1=_0x5593af;_0x157a1f[_0xbc21b1(0x8ef)+_0xea64b1+_0xbc21b1(0x608)]=![],_0x157a1f[_0xbc21b1(0x8ef)+_0xea64b1+'.lastAnswerIndex']=null;}),await updateDoc(_0x22becd,{..._0x157a1f,'status':_0x5593af(0x6a1),'currentQuestionIndex':_0x5a1ed9,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x22becd,{'status':_0x5593af(0x261)});};const _0x293de3=document[_0x585e70(0x267)](_0x585e70(0xa74));_0x293de3&&(_0x293de3[_0x585e70(0x476)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x505e62=_0x1728,_0x1a5c44=doc(db,_0x505e62(0x94a)+appId+_0x505e62(0x5bd),currentLiveGameId);await updateDoc(_0x1a5c44,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0xa8883e){const _0x5e8593=_0x176601,_0x4bb126=document[_0x5e8593(0x267)](_0x5e8593(0x19f)),_0x5d41ed=document['getElementById']('project-quizzes-list');_0x5d41ed[_0x5e8593(0x25c)][_0x5e8593(0x8a5)](_0x5e8593(0xbc7));const _0x1da2d5=_0x5e8593(0x95f)+_0xa8883e[_0x5e8593(0x62b)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4bb126[_0x5e8593(0x780)](_0x5e8593(0x873),_0x1da2d5);const _0x2830d1=document['getElementById'](_0x5e8593(0x9fd));try{const _0x4f13d=_0xa8883e[_0x5e8593(0x9ce)][_0x5e8593(0x697)]((_0x41cb55,_0x21aab5)=>{const _0x20db34=_0x5e8593;let _0x5ebedc=_0x21aab5+0x1+'.\x20'+(_0x41cb55['questionText']||_0x41cb55[_0x20db34(0x232)])+'\x0a';if(_0x41cb55[_0x20db34(0x61a)])_0x5ebedc+=_0x41cb55[_0x20db34(0x61a)][_0x20db34(0x697)]((_0x1e526f,_0xcc6f2e)=>_0x20db34(0x286)+(_0xcc6f2e===_0x41cb55[_0x20db34(0x1f1)]?_0x20db34(0xb56):'')+'\x20'+_0x1e526f)[_0x20db34(0x706)]('\x0a');else _0x41cb55['idealAnswer']&&(_0x5ebedc+=_0x20db34(0x7b1)+_0x41cb55[_0x20db34(0x3be)]);return _0x5ebedc;})[_0x5e8593(0x706)]('\x0a\x0a');_0x2830d1[_0x5e8593(0x4c2)]=_0x5e8593(0x525);const _0x411e56=_0x5e8593(0x578)+_0xa8883e[_0x5e8593(0x62b)]+_0x5e8593(0x1f0)+_0x4f13d+_0x5e8593(0x67a)+simpleMathPrompt+_0x5e8593(0x9e5),_0x38c81d={'type':'OBJECT','properties':{'questionText':{'type':_0x5e8593(0x5fb)},'questionType':{'type':_0x5e8593(0x5fb),'enum':[_0x5e8593(0x3e7),'short_answer','true_false',_0x5e8593(0x4ed)]},'options':{'type':_0x5e8593(0x876),'items':{'type':_0x5e8593(0x5fb)}},'correctAnswerIndex':{'type':_0x5e8593(0x1a9)},'idealAnswer':{'type':_0x5e8593(0x5fb)},'correctAnswer':{'type':_0x5e8593(0x4b4)},'stem':{'type':_0x5e8593(0x5fb)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5e8593(0x876),'items':{'type':_0x5e8593(0x5fb)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5e8593(0x5fb)}},'required':[_0x5e8593(0x9c3),_0x5e8593(0x9ff)]},_0xe11209={'type':_0x5e8593(0x9f7),'properties':{'topic':{'type':_0x5e8593(0x5fb)},'questions':{'type':_0x5e8593(0x876),'items':_0x38c81d}},'required':['topic',_0x5e8593(0x9ce)]},_0x1d4622=await callAnalysisApi(_0x411e56,_0xe11209),_0x531d93=_0x1d4622[_0x5e8593(0x9ce)][_0x5e8593(0x697)]((_0x5a7036,_0x1a2dba)=>({..._0x5a7036,'id':'q_'+Date[_0x5e8593(0x937)]()+'_'+_0x1a2dba})),_0x54843e=_0x5e8593(0x604)+_0xa8883e[_0x5e8593(0x62b)],_0x1f7856={'topic':_0x54843e,'questions':_0x531d93,'quizType':_0xa8883e['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5e8593(0x7a6)](),'status':_0x5e8593(0x866),'settings':_0xa8883e['settings'],'quizMode':_0x5e8593(0x30a),'pairedQuizId':null,'lessonPlan':null};let _0x530fa4;while(!![]){_0x530fa4=Math[_0x5e8593(0xbdd)](0x3e8+Math['random']()*0x2328)[_0x5e8593(0x5bc)]();const _0x16fb4a=await getDoc(doc(db,'artifacts/'+appId+_0x5e8593(0xb3f),_0x530fa4));if(!_0x16fb4a[_0x5e8593(0x4b5)]())break;}await setDoc(doc(db,_0x5e8593(0x94a)+appId+_0x5e8593(0xb3f),_0x530fa4),_0x1f7856),showMessage(_0x5e8593(0xac8));}catch(_0x37798c){console[_0x5e8593(0xa65)](_0x5e8593(0xb41),_0x37798c),showMessage(_0x5e8593(0x4f8)+_0x37798c[_0x5e8593(0x193)]);}finally{const _0xc8cf27=document[_0x5e8593(0x267)]('temp-loader-results');_0xc8cf27&&_0xc8cf27[_0x5e8593(0x167)](),_0x5d41ed[_0x5e8593(0x25c)][_0x5e8593(0x167)](_0x5e8593(0xbc7));}}async function handleGenerateParallelPostTest(_0x276632){const _0xb5e2c1=_0x176601,_0xe84437=document['getElementById'](_0xb5e2c1(0x19f)),_0x49934c=document[_0xb5e2c1(0x267)](_0xb5e2c1(0x3d6));_0x49934c[_0xb5e2c1(0x25c)][_0xb5e2c1(0x8a5)](_0xb5e2c1(0xbc7));const _0x516829='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xe84437[_0xb5e2c1(0x780)](_0xb5e2c1(0x873),_0x516829);try{const _0x1c318b=_0x276632[_0xb5e2c1(0x9ce)]['map']((_0x5bfe9b,_0x2e4240)=>{const _0x218da4=_0xb5e2c1;let _0x27bd0c=_0x2e4240+0x1+'.\x20'+(_0x5bfe9b[_0x218da4(0x911)]||_0x5bfe9b['stem']);if(_0x5bfe9b[_0x218da4(0x61a)])_0x27bd0c+=_0x218da4(0x9f0)+_0x5bfe9b[_0x218da4(0x61a)][_0x218da4(0x706)](',\x20');return _0x27bd0c;})[_0xb5e2c1(0x706)]('\x0a\x0a'),_0x33029a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x276632[_0xb5e2c1(0x62b)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c318b+_0xb5e2c1(0x8d1)+simpleMathPrompt+_0xb5e2c1(0x9e5),_0x137842={'type':'OBJECT','properties':{'topic':{'type':_0xb5e2c1(0x5fb)},'questions':{'type':_0xb5e2c1(0x876),'items':{'type':_0xb5e2c1(0x9f7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xb5e2c1(0x5fb)},'options':{'type':'ARRAY','items':{'type':_0xb5e2c1(0x5fb)}},'correctAnswerIndex':{'type':_0xb5e2c1(0x1a9)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xb5e2c1(0x5fb)}},'required':[_0xb5e2c1(0x911),'explanation']}}},'required':[_0xb5e2c1(0x62b),_0xb5e2c1(0x9ce)]},_0x5cfb2a=await callAnalysisApi(_0x33029a,_0x137842),_0x966a70=_0x276632[_0xb5e2c1(0x62b)]['replace']('(ก่อนเรียน)','')[_0xb5e2c1(0xa5f)](),_0x2caa95='(หลังเรียน)\x20'+_0x966a70,_0x19090c={..._0x5cfb2a,'topic':_0x2caa95,'quizType':_0x276632[_0xb5e2c1(0x84e)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xb5e2c1(0x7a6)](),'status':_0xb5e2c1(0x866),'settings':_0x276632[_0xb5e2c1(0x8e6)],'quizMode':_0xb5e2c1(0x4d9),'pairedQuizId':_0x276632['id']};let _0x9680f0;while(!![]){_0x9680f0=Math[_0xb5e2c1(0xbdd)](0x3e8+Math[_0xb5e2c1(0x658)]()*0x2328)[_0xb5e2c1(0x5bc)]();const _0x2912be=await getDoc(doc(db,_0xb5e2c1(0x94a)+appId+'/public/data/quizzes',_0x9680f0));if(!_0x2912be[_0xb5e2c1(0x4b5)]())break;}await setDoc(doc(db,_0xb5e2c1(0x94a)+appId+_0xb5e2c1(0xb3f),_0x9680f0),_0x19090c);const _0x43dad9=doc(db,_0xb5e2c1(0x94a)+appId+_0xb5e2c1(0xb3f),_0x276632['id']);await updateDoc(_0x43dad9,{'pairedQuizId':_0x9680f0}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x2fca9c){console[_0xb5e2c1(0xa65)](_0xb5e2c1(0x921),_0x2fca9c),showMessage(_0xb5e2c1(0x4f8)+_0x2fca9c[_0xb5e2c1(0x193)]);}finally{const _0x3616fa=document[_0xb5e2c1(0x267)]('temp-loader-results');if(_0x3616fa)_0x3616fa[_0xb5e2c1(0x167)]();_0x49934c[_0xb5e2c1(0x25c)][_0xb5e2c1(0x167)](_0xb5e2c1(0xbc7));}}async function handleGenerateParallelTest(){const _0x55bee4=_0x176601,_0x1afc7a=document[_0x55bee4(0x267)]('parallel-test-upload-input'),_0x3e91ed=_0x1afc7a['files'][0x0];if(!_0x3e91ed){showMessage(_0x55bee4(0x6a8));return;}const _0x185888=document[_0x55bee4(0x267)](_0x55bee4(0xa7d)),_0x30946f=document[_0x55bee4(0x267)](_0x55bee4(0x8d2)),_0x805cde=document[_0x55bee4(0x267)](_0x55bee4(0x581)),_0x3db1f9=document[_0x55bee4(0x267)](_0x55bee4(0xa3a));_0x3db1f9[_0x55bee4(0x76a)]=!![],document[_0x55bee4(0x267)](_0x55bee4(0x7d1))['classList'][_0x55bee4(0x167)]('hidden'),_0x805cde[_0x55bee4(0xab8)]='',_0x185888[_0x55bee4(0x25c)][_0x55bee4(0x167)]('hidden'),_0x30946f['textContent']=_0x55bee4(0x285);const _0x508cf8=new FileReader();_0x508cf8[_0x55bee4(0x694)](_0x3e91ed),_0x508cf8[_0x55bee4(0x7e0)]=async()=>{const _0x6de261=_0x55bee4;try{const _0x5c3f96=_0x508cf8[_0x6de261(0xa52)]['split'](',')[0x1],_0x21c444=_0x3e91ed['type'];_0x30946f[_0x6de261(0x4c2)]=_0x6de261(0x28a);const _0x5a92b0=document['getElementById'](_0x6de261(0x5f1))[_0x6de261(0x6e2)],_0x265a1a=_0x5a92b0?_0x6de261(0xafd):'',_0x16c0e6=_0x6de261(0x85f)+_0x265a1a+_0x6de261(0x8f7)+simpleMathPrompt+_0x6de261(0x8a9),_0x4bab1c={'type':_0x6de261(0x9f7),'properties':{'questionText':{'type':_0x6de261(0x5fb)},'questionType':{'type':'STRING','enum':[_0x6de261(0x3e7),_0x6de261(0x477)]},'options':{'type':_0x6de261(0x876),'items':{'type':_0x6de261(0x5fb)}},'correctAnswerIndex':{'type':_0x6de261(0x1a9)},'idealAnswer':{'type':_0x6de261(0x5fb)},'explanation':{'type':_0x6de261(0x5fb)},'imageCode':{'type':_0x6de261(0x5fb)}},'required':[_0x6de261(0x911),_0x6de261(0x9c3),_0x6de261(0x9ff)]},_0x31131f={'type':_0x6de261(0x9f7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x6de261(0x876),'items':_0x4bab1c}},'required':[_0x6de261(0x62b),_0x6de261(0x9ce)]},_0x4ff83b=[{'text':_0x16c0e6},{'inlineData':{'mimeType':_0x21c444,'data':_0x5c3f96}}];await handleApiCall(_0x4ff83b,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x31131f);}catch(_0x2bf37c){console['error'](_0x6de261(0x62d),_0x2bf37c),showMessage(_0x6de261(0x4f8)+_0x2bf37c['message']),_0x805cde[_0x6de261(0xab8)]=_0x6de261(0x918);}finally{_0x185888['classList'][_0x6de261(0x8a5)](_0x6de261(0xbc7)),_0x3db1f9[_0x6de261(0x76a)]=![];}},_0x508cf8[_0x55bee4(0x9eb)]=_0x3923df=>{const _0x110936=_0x55bee4;console[_0x110936(0xa65)](_0x110936(0xa85),_0x3923df),showMessage(_0x110936(0x972)),_0x185888[_0x110936(0x25c)]['add'](_0x110936(0xbc7)),_0x3db1f9[_0x110936(0x76a)]=![];};}async function handleRegenerateQuestionInEditor(_0x1f3ffc){const _0x3e8719=_0x176601;if(currentEditingQuizData===null)return;const _0x3523ad=document[_0x3e8719(0x690)](_0x3e8719(0x49f)+_0x1f3ffc+'\x22]');_0x3523ad&&(_0x3523ad['innerHTML']=_0x3e8719(0x168));const _0x438a3a=currentEditingQuizData['questions'][_0x1f3ffc],_0x306dc6=currentEditingQuizData['topic'],_0x5c730c=_0x438a3a[_0x3e8719(0x9c3)],_0x3632da={'type':'OBJECT','properties':{'questionText':{'type':_0x3e8719(0x5fb)},'options':{'type':_0x3e8719(0x876),'items':{'type':_0x3e8719(0x5fb)}},'correctAnswerIndex':{'type':_0x3e8719(0x1a9)},'explanation':{'type':_0x3e8719(0x5fb)}},'required':[_0x3e8719(0x911),_0x3e8719(0x61a),_0x3e8719(0x1f1),_0x3e8719(0x9ff)]},_0x270f27={'type':_0x3e8719(0x9f7),'properties':{'questionText':{'type':_0x3e8719(0x5fb)},'idealAnswer':{'type':_0x3e8719(0x5fb)},'explanation':{'type':'STRING'}},'required':[_0x3e8719(0x911),_0x3e8719(0x3be),_0x3e8719(0x9ff)]};let _0x5e556f,_0x28cc79='';_0x5c730c==='multiple_choice'?(_0x5e556f=_0x3632da,_0x28cc79=_0x3e8719(0x721)):(_0x5e556f=_0x270f27,_0x28cc79='แบบเติมคำตอบ');const _0x2d2d7f=_0x3e8719(0x44c)+_0x306dc6+_0x3e8719(0x1b1)+_0x28cc79+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x438a3a[_0x3e8719(0x911)]||_0x438a3a['stem'])+_0x3e8719(0x7c5)+simpleMathPrompt;try{const _0x577876=await callAnalysisApi(_0x2d2d7f,_0x5e556f);currentEditingQuizData['questions'][_0x1f3ffc]={..._0x438a3a,..._0x577876},renderQuizEditor(currentEditingQuizData);}catch(_0x50dec4){console[_0x3e8719(0xa65)](_0x3e8719(0x2ae),_0x50dec4),showMessage(_0x3e8719(0x5fc)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x250c18=_0x176601,_0x427151=document['getElementById'](_0x250c18(0x1a1));currentMode==='student'?(currentMode=_0x250c18(0x310),_0x427151[_0x250c18(0xab8)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x427151[_0x250c18(0xbfa)]=_0x250c18(0x7ac),showView('admin-dashboard')):(currentMode=_0x250c18(0x1de),_0x427151[_0x250c18(0xab8)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x427151[_0x250c18(0xbfa)]='สลับไปโหมดผู้ควบคุม',showView(_0x250c18(0x1de)));}function handleAdminLogin(){const _0x397291=_0x176601,_0x49c43d=document['getElementById'](_0x397291(0x1fe)),_0x4fbbef=document['getElementById'](_0x397291(0x83c));if(_0x49c43d[_0x397291(0x832)]===_0x397291(0x20e)){adminPasswordModal[_0x397291(0x25c)]['add'](_0x397291(0xbc7)),_0x49c43d[_0x397291(0x832)]='',_0x4fbbef[_0x397291(0x25c)]['add'](_0x397291(0xbc7)),currentMode=_0x397291(0x310);const _0x16ee03=document[_0x397291(0x267)](_0x397291(0x1a1));_0x16ee03['innerHTML']=_0x397291(0x1bf),_0x16ee03[_0x397291(0xbfa)]=_0x397291(0x7ac),showView(_0x397291(0x5aa));}else _0x4fbbef[_0x397291(0x25c)][_0x397291(0x167)](_0x397291(0xbc7)),_0x49c43d[_0x397291(0x832)]='';}function switchProjectTab(_0xd63d44){const _0x473293=_0x176601;[_0x473293(0x9a4),_0x473293(0x475),_0x473293(0x800)][_0x473293(0x523)](_0x22f7a1=>{const _0x6a44d1=_0x473293;document[_0x6a44d1(0x267)](_0x22f7a1+_0x6a44d1(0x394))[_0x6a44d1(0x25c)][_0x6a44d1(0x167)]('active'),document[_0x6a44d1(0x267)](_0x22f7a1+_0x6a44d1(0x4b0))[_0x6a44d1(0x25c)][_0x6a44d1(0x8a5)](_0x6a44d1(0xbc7));}),document[_0x473293(0x267)](_0xd63d44+_0x473293(0x394))[_0x473293(0x25c)][_0x473293(0x8a5)](_0x473293(0x866)),document[_0x473293(0x267)](_0xd63d44+_0x473293(0x4b0))[_0x473293(0x25c)][_0x473293(0x167)]('hidden');}function switchQuizDetailTab(_0x510820){const _0x59d1e6=_0x176601,_0xe6e01={'analytics':{'btn':_0x59d1e6(0x43b),'content':'analytics-tab-content'},'scores':{'btn':_0x59d1e6(0x6eb),'content':_0x59d1e6(0x662)},'leaderboard-quiz':{'btn':_0x59d1e6(0x998),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x59d1e6(0x9cc),'content':_0x59d1e6(0xb7e)}};for(const _0xdd8483 in _0xe6e01){document[_0x59d1e6(0x267)](_0xe6e01[_0xdd8483][_0x59d1e6(0x472)])[_0x59d1e6(0x25c)][_0x59d1e6(0x167)]('active'),document[_0x59d1e6(0x267)](_0xe6e01[_0xdd8483][_0x59d1e6(0x50c)])['classList'][_0x59d1e6(0x8a5)](_0x59d1e6(0xbc7));}document[_0x59d1e6(0x267)](_0xe6e01[_0x510820][_0x59d1e6(0x472)])[_0x59d1e6(0x25c)]['add'](_0x59d1e6(0x866)),document[_0x59d1e6(0x267)](_0xe6e01[_0x510820][_0x59d1e6(0x50c)])[_0x59d1e6(0x25c)][_0x59d1e6(0x167)](_0x59d1e6(0xbc7));}function showMessage(_0x2658eb,_0x2be4fa=null){const _0x779de0=_0x176601;modalMessage[_0x779de0(0x4c2)]=_0x2658eb,modalConfirmAction=_0x2be4fa,messageModal[_0x779de0(0x25c)]['remove'](_0x779de0(0xbc7));}function showConfirmation(_0x50b2f9,_0x1f5eab){const _0x4e2228=_0x176601;document[_0x4e2228(0x267)](_0x4e2228(0x72b))[_0x4e2228(0x4c2)]=_0x50b2f9,document[_0x4e2228(0x267)](_0x4e2228(0x795))[_0x4e2228(0x690)]('h3')[_0x4e2228(0x4c2)]='ยืนยันการกระทำ',confirmAction=_0x1f5eab,confirmationModal['classList'][_0x4e2228(0x167)]('hidden');}function listenForProjects(){const _0x5e7156=_0x176601,_0x487b70=doc(db,_0x5e7156(0x5a2),_0x5e7156(0xac9));onSnapshot(_0x487b70,_0xe267a0=>{const _0x2a5076=_0x5e7156;if(_0xe267a0[_0x2a5076(0x4b5)]()){const _0x1cdec=_0xe267a0[_0x2a5076(0xa77)]();globalDashboardSettings[_0x2a5076(0x5f7)]=_0x1cdec[_0x2a5076(0x5f7)]||'date_desc',globalDashboardSettings[_0x2a5076(0xb19)]=_0x1cdec[_0x2a5076(0xb19)]||[],globalDashboardSettings[_0x2a5076(0x3fd)]=_0x1cdec[_0x2a5076(0x3fd)]||[];}allProjects[_0x2a5076(0x2c7)]>0x0&&renderProjects();});const _0x2d2610=collection(db,'artifacts/'+appId+_0x5e7156(0x32c));unsubscribeProjectsListener=onSnapshot(_0x2d2610,_0x3d2484=>{const _0x329b0f=_0x5e7156;allProjects=_0x3d2484[_0x329b0f(0xbff)]['map'](_0x5d7428=>({'id':_0x5d7428['id'],..._0x5d7428['data']()})),renderProjects();},_0x3d0a67=>{const _0x2a792d=_0x5e7156;console[_0x2a792d(0xa65)](_0x2a792d(0x38a),_0x3d0a67),showMessage(_0x2a792d(0x385));});}function showColorPalette(_0x4093eb,_0x12e879){const _0x669ce8=_0x176601;document[_0x669ce8(0x6d4)]('.color-palette-popup')[_0x669ce8(0x523)](_0x1ea36e=>_0x1ea36e[_0x669ce8(0x167)]());const _0x14cc7e=[_0x669ce8(0xa71),_0x669ce8(0x427),_0x669ce8(0xa46),_0x669ce8(0x46e),_0x669ce8(0x6f6),_0x669ce8(0x728),_0x669ce8(0x705),_0x669ce8(0x663),'#E5E7EB'],_0x3b0570=document[_0x669ce8(0x718)](_0x669ce8(0x9a2));_0x3b0570[_0x669ce8(0x69e)]=_0x669ce8(0x541),_0x14cc7e[_0x669ce8(0x523)](_0x3df811=>{const _0x149b02=_0x669ce8,_0xee2c82=document[_0x149b02(0x718)](_0x149b02(0x9a2));_0xee2c82[_0x149b02(0x69e)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0xee2c82[_0x149b02(0x58e)][_0x149b02(0x494)]=_0x3df811,_0xee2c82[_0x149b02(0xbb9)](_0x149b02(0x292),()=>{const _0x405fe4=_0x149b02;handleProjectColorChange(_0x12e879,_0x3df811),_0x3b0570[_0x405fe4(0x167)]();}),_0x3b0570[_0x149b02(0x387)](_0xee2c82);}),document[_0x669ce8(0x7ad)]['appendChild'](_0x3b0570);const _0x1c0ea2=_0x4093eb[_0x669ce8(0xa6e)]();_0x3b0570[_0x669ce8(0x58e)]['top']=_0x1c0ea2[_0x669ce8(0x2b7)]+window[_0x669ce8(0x644)]+'px',_0x3b0570[_0x669ce8(0x58e)][_0x669ce8(0x75a)]=_0x1c0ea2[_0x669ce8(0x75a)]+window['scrollX']-_0x3b0570[_0x669ce8(0xa38)]/0x2+'px';}async function handleProjectColorChange(_0x265c46,_0x2929c7){const _0x1c673c=_0x176601,_0x51a788=doc(db,_0x1c673c(0x94a)+appId+_0x1c673c(0x32c),_0x265c46);try{await updateDoc(_0x51a788,{'color':_0x2929c7});}catch(_0x4de53c){console[_0x1c673c(0xa65)](_0x1c673c(0x368),_0x4de53c),showMessage(_0x1c673c(0x54d));}}async function renderProjects(){const _0x134c9c=_0x176601,_0x4e28df=globalDashboardSettings['projectSort']||_0x134c9c(0xc0d),_0x46b5c1=new Set(globalDashboardSettings[_0x134c9c(0xb19)]||[]),_0x2a0ed6=globalDashboardSettings[_0x134c9c(0x66e)]||_0x134c9c(0x4ab),_0x4c4f97=document[_0x134c9c(0x267)](_0x134c9c(0x9bc)),_0x47601e=document[_0x134c9c(0x267)]('list-view-btn');_0x4c4f97[_0x134c9c(0x25c)][_0x134c9c(0x7b6)](_0x134c9c(0x866),_0x2a0ed6===_0x134c9c(0x4ab)),_0x47601e[_0x134c9c(0x25c)]['toggle'](_0x134c9c(0x866),_0x2a0ed6===_0x134c9c(0x9c2)),document[_0x134c9c(0x267)](_0x134c9c(0xaf5))['value']=_0x4e28df;const _0xb4a972=document['getElementById'](_0x134c9c(0xa44))[_0x134c9c(0x832)]['toLowerCase']();let _0x3c50cd=allProjects[_0x134c9c(0xb79)](_0x3dde03=>_0x3dde03[_0x134c9c(0x2ea)]['toLowerCase']()[_0x134c9c(0x4bd)](_0xb4a972));const _0x1590fe=_0x3c50cd['filter'](_0x8bf4d4=>_0x46b5c1[_0x134c9c(0x226)](_0x8bf4d4['id'])),_0x3c6966=_0x3c50cd[_0x134c9c(0xb79)](_0x44b35e=>!_0x46b5c1[_0x134c9c(0x226)](_0x44b35e['id'])),_0x5cd915=(_0x804b0b,_0xf97507)=>{const _0x17bc41=_0x134c9c;switch(_0x4e28df){case'name_asc':return _0x804b0b[_0x17bc41(0x2ea)][_0x17bc41(0x3bf)](_0xf97507[_0x17bc41(0x2ea)],'th');case _0x17bc41(0x700):return _0xf97507[_0x17bc41(0x2ea)][_0x17bc41(0x3bf)](_0x804b0b[_0x17bc41(0x2ea)],'th');case'date_asc':return new Date(_0x804b0b[_0x17bc41(0x289)])-new Date(_0xf97507[_0x17bc41(0x289)]);default:return new Date(_0xf97507['createdAt'])-new Date(_0x804b0b[_0x17bc41(0x289)]);}};_0x1590fe[_0x134c9c(0x953)](_0x5cd915),_0x3c6966[_0x134c9c(0x953)](_0x5cd915);const _0x4fbc7f=[..._0x1590fe,..._0x3c6966],_0x40f874=globalDashboardSettings[_0x134c9c(0x3fd)]||[];_0x40f874[_0x134c9c(0x2c7)]>0x0&&_0x2a0ed6===_0x134c9c(0x4ab)&&_0x4fbc7f[_0x134c9c(0x953)]((_0x33fe09,_0x3214e9)=>{const _0x3ed3fc=_0x134c9c,_0x4aba31=_0x40f874[_0x3ed3fc(0x44a)](_0x33fe09['id']),_0x4f069a=_0x40f874['indexOf'](_0x3214e9['id']);if(_0x4aba31===-0x1)return 0x1;if(_0x4f069a===-0x1)return-0x1;return _0x4aba31-_0x4f069a;});const _0x265b61={};await Promise['all'](_0x4fbc7f[_0x134c9c(0x697)](async _0x479060=>{const _0x4a24e2=_0x134c9c,_0x5980d0=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x4a24e2(0x8ae),'==',_0x479060['id'])),_0x181a41=await getDocs(_0x5980d0);_0x265b61[_0x479060['id']]=_0x181a41['size'];}));const _0x493a2c=document[_0x134c9c(0x267)](_0x134c9c(0x35b));let _0x436961='';if(_0x2a0ed6==='grid'){_0x493a2c[_0x134c9c(0x69e)]=_0x134c9c(0x850);if(starredQuizzes[_0x134c9c(0x2c7)]>0x0&&_0xb4a972===''){const _0x1207c0=starredQuizzes['map'](_0x446804=>{const _0x21fefd=_0x134c9c,_0x3092c7=allProjects[_0x21fefd(0x70b)](_0x539335=>_0x539335['id']===_0x446804['projectId']);return{..._0x446804,'projectName':_0x3092c7?_0x3092c7[_0x21fefd(0x2ea)]:_0x21fefd(0x356)};});_0x436961+=_0x134c9c(0xad1)+_0x1207c0[_0x134c9c(0x697)](_0x44ac4d=>_0x134c9c(0x1dc)+_0x44ac4d['topic']+'\x22>'+_0x44ac4d[_0x134c9c(0x62b)]+_0x134c9c(0x527)+_0x44ac4d[_0x134c9c(0x2ea)]+'\x22>จาก:\x20'+_0x44ac4d[_0x134c9c(0x2ea)]+_0x134c9c(0x8c8))[_0x134c9c(0x706)]('')+_0x134c9c(0x9cf)+starredQuizzes['length']+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x4fbc7f[_0x134c9c(0x523)](_0x2ef7ab=>{const _0x5598cc=_0x134c9c,_0x185fb2=_0x265b61[_0x2ef7ab['id']]??0x0,_0xcd2f05=_0x46b5c1[_0x5598cc(0x226)](_0x2ef7ab['id']),_0x1ab1c4=_0x2ef7ab[_0x5598cc(0x902)]||'#FFFFFF',_0x51f9c2=parseInt(_0x1ab1c4[_0x5598cc(0x76e)](0x1,0x3),0x10)*0.299+parseInt(_0x1ab1c4['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x1ab1c4[_0x5598cc(0x76e)](0x5,0x7),0x10)*0.114<0xba,_0x2b90aa=_0x51f9c2?_0x5598cc(0x38d):_0x5598cc(0x570),_0x64832=_0x51f9c2?_0x5598cc(0x6f5):_0x5598cc(0xae3);_0x436961+=_0x5598cc(0x9ea)+(_0xcd2f05?_0x5598cc(0x8e8):_0x5598cc(0x57f))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x1ab1c4+_0x5598cc(0x1ec)+_0x2ef7ab['id']+_0x5598cc(0x468)+_0x2ef7ab['id']+_0x5598cc(0x180)+(_0x51f9c2?_0x5598cc(0x3ef):_0x5598cc(0xac0))+_0x5598cc(0x6b4)+_0x2ef7ab['id']+_0x5598cc(0x382)+(_0x51f9c2?_0x5598cc(0x3ef):_0x5598cc(0xac0))+_0x5598cc(0x94e)+(_0xcd2f05?_0x51f9c2?_0x5598cc(0xb64):_0x5598cc(0x473):'')+_0x5598cc(0x3c7)+_0x2ef7ab['id']+_0x5598cc(0x704)+_0x2b90aa+_0x5598cc(0x6f4)+_0x2ef7ab['projectName']+_0x5598cc(0xb99)+_0x64832+_0x5598cc(0x9db)+new Date(_0x2ef7ab[_0x5598cc(0x289)])[_0x5598cc(0x612)](_0x5598cc(0x414))+_0x5598cc(0x30e)+(_0x51f9c2?_0x5598cc(0x345):'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x185fb2+_0x5598cc(0xc12)+_0x2ef7ab['id']+_0x5598cc(0xa48)+_0x2ef7ab['projectName']+_0x5598cc(0x78b)+(_0x51f9c2?_0x5598cc(0x522):_0x5598cc(0x311))+_0x5598cc(0xb22);});}else _0x493a2c[_0x134c9c(0x69e)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x134c9c(0x2c7)]>0x0&&_0xb4a972===''&&(_0x436961+=_0x134c9c(0x9dc)+starredQuizzes[_0x134c9c(0x2c7)]+_0x134c9c(0x9de)),_0x436961+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x4fbc7f[_0x134c9c(0x523)](_0x17a6f9=>{const _0x5865a4=_0x134c9c,_0x2ae91f=_0x265b61[_0x17a6f9['id']]??0x0,_0x5ab1e4=_0x46b5c1[_0x5865a4(0x226)](_0x17a6f9['id']);_0x436961+=_0x5865a4(0x733)+(_0x17a6f9[_0x5865a4(0x902)]||_0x5865a4(0x8a0))+_0x5865a4(0x520)+_0x17a6f9['id']+_0x5865a4(0x1dd)+_0x17a6f9[_0x5865a4(0x2ea)]+_0x5865a4(0xbd9)+_0x2ae91f+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x17a6f9[_0x5865a4(0x289)])[_0x5865a4(0x6ff)](_0x5865a4(0x414))+_0x5865a4(0x38f)+_0x17a6f9['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5ab1e4?_0x5865a4(0x473):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x17a6f9['id']+_0x5865a4(0xa48)+_0x17a6f9[_0x5865a4(0x2ea)]+_0x5865a4(0x630);});projectList['innerHTML']=_0x436961,noProjectsMsg[_0x134c9c(0x25c)][_0x134c9c(0x7b6)](_0x134c9c(0xbc7),_0x436961[_0x134c9c(0x2c7)]>0x0);}document[_0x176601(0x267)](_0x176601(0x80f))[_0x176601(0xbb9)](_0x176601(0x292),async()=>{const _0x205c76=_0x176601,_0x7ffb80=document[_0x205c76(0x267)](_0x205c76(0x600)),_0x1da67a=_0x7ffb80[_0x205c76(0x832)][_0x205c76(0xa5f)]();if(!_0x1da67a){showMessage(_0x205c76(0x323));return;}try{const _0xcbb14a=doc(collection(db,'artifacts/'+appId+_0x205c76(0x32c)));await setDoc(_0xcbb14a,{'projectName':_0x1da67a,'students':[],'settings':{'resultsDisplay':_0x205c76(0x1b0),'shuffleSetting':_0x205c76(0x201),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x205c76(0x201),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x205c76(0x7a6)]()}),_0x7ffb80[_0x205c76(0x832)]='',createProjectModal[_0x205c76(0x25c)][_0x205c76(0x8a5)]('hidden'),showMessage(_0x205c76(0x610));}catch(_0x5af4af){console[_0x205c76(0xa65)](_0x205c76(0x327),_0x5af4af),showMessage(_0x205c76(0x99d));}}),projectList[_0x176601(0xbb9)](_0x176601(0x292),async _0x5c6803=>{const _0x500c37=_0x176601,_0x386129=_0x5c6803[_0x500c37(0x763)][_0x500c37(0x9c6)](_0x500c37(0x6f0)),_0x19a18d=_0x5c6803['target'][_0x500c37(0x9c6)]('.delete-project-btn'),_0x17abb9=_0x5c6803[_0x500c37(0x763)]['closest'](_0x500c37(0xb58)),_0x1c3ae6=_0x5c6803[_0x500c37(0x763)][_0x500c37(0x9c6)](_0x500c37(0x174));if(_0x17abb9){const _0x5edef2=_0x17abb9[_0x500c37(0x89d)]['id'],_0x518452=doc(db,_0x500c37(0x5a2),_0x500c37(0xac9)),_0x267b1b=globalDashboardSettings[_0x500c37(0xb19)];let _0x769886;_0x267b1b[_0x500c37(0x4bd)](_0x5edef2)?_0x769886=_0x267b1b['filter'](_0x491fb1=>_0x491fb1!==_0x5edef2):_0x769886=[..._0x267b1b,_0x5edef2];try{await setDoc(_0x518452,{'pinnedProjects':_0x769886},{'merge':!![]});}catch(_0x347a2f){console['error'](_0x500c37(0x22d),_0x347a2f),showMessage(_0x500c37(0xbac));}}else{if(_0x1c3ae6){const _0x38a5e6=_0x1c3ae6['dataset']['id'];showColorPalette(_0x1c3ae6,_0x38a5e6);}else{if(_0x386129){const _0x246c21=_0x386129[_0x500c37(0x89d)]['id'];_0x246c21===_0x500c37(0xbc3)?showStarredProjectView():(currentProjectId=_0x246c21,await loadProjectDetails(currentProjectId),showView(_0x500c37(0xbfb)));}else{if(_0x19a18d){const _0x5e1904=_0x19a18d[_0x500c37(0x89d)]['id'],_0x584a69=_0x19a18d[_0x500c37(0x89d)][_0x500c37(0x6be)];showConfirmation(_0x500c37(0x2c5)+_0x584a69+_0x500c37(0x986),()=>handleDeleteProject(_0x5e1904));}}}}}),projectList[_0x176601(0xbb9)](_0x176601(0xa56),_0x1e952f=>{const _0x4eb98d=_0x176601,_0x1a905c=_0x1e952f[_0x4eb98d(0x763)]['closest'](_0x4eb98d(0x881));_0x1a905c&&_0x1a905c['classList'][_0x4eb98d(0x8a5)](_0x4eb98d(0x9f5));}),projectList[_0x176601(0xbb9)]('dragend',_0x42608c=>{const _0x2b7ed1=_0x176601,_0x1bd671=_0x42608c['target'][_0x2b7ed1(0x9c6)](_0x2b7ed1(0x881));_0x1bd671&&_0x1bd671[_0x2b7ed1(0x25c)][_0x2b7ed1(0x167)](_0x2b7ed1(0x9f5));}),projectList[_0x176601(0xbb9)](_0x176601(0x7cb),_0x2a9629=>{const _0x16afc4=_0x176601;_0x2a9629['preventDefault']();const _0x49150f=document[_0x16afc4(0x690)]('.project-card-container.opacity-50');if(!_0x49150f)return;const _0x22970f=getDragAfterElement(projectList,_0x2a9629[_0x16afc4(0xa18)]);_0x22970f==null?projectList[_0x16afc4(0x387)](_0x49150f):projectList[_0x16afc4(0x244)](_0x49150f,_0x22970f);}),projectList[_0x176601(0xbb9)](_0x176601(0x950),_0xc7b457=>{const _0x3a5e44=_0x176601;_0xc7b457[_0x3a5e44(0x417)]();const _0x36077c=[...projectList[_0x3a5e44(0x6d4)]('.project-card-container[data-id]')][_0x3a5e44(0x697)](_0x2b5a1d=>_0x2b5a1d[_0x3a5e44(0x89d)]['id']);saveProjectOrder(_0x36077c);});function renderBehaviorLog(_0x2a651f){const _0x3ac032=_0x176601,_0x23c202=document[_0x3ac032(0x267)](_0x3ac032(0x4d8));if(!_0x23c202)return;const _0xd92f82=_0x2a651f[_0x3ac032(0xb79)](_0x2b55b6=>_0x2b55b6[_0x3ac032(0x715)]&&_0x2b55b6[_0x3ac032(0x715)][_0x3ac032(0x2c7)]>0x0);if(_0xd92f82[_0x3ac032(0x2c7)]===0x0){_0x23c202[_0x3ac032(0xab8)]=_0x3ac032(0xa53);return;}let _0x33f6f9='';_0xd92f82['forEach'](_0x177d79=>{const _0x425293=_0x3ac032;_0x33f6f9+=_0x425293(0x9d2)+_0x177d79['studentName']+_0x425293(0x402),_0x177d79[_0x425293(0x715)][_0x425293(0x953)]((_0x4e2747,_0x8fcac6)=>new Date(_0x8fcac6[_0x425293(0x241)])-new Date(_0x4e2747[_0x425293(0x241)]))[_0x425293(0x523)](_0x4f5b5a=>{const _0x433676=_0x425293,_0x234df4=new Date(_0x4f5b5a[_0x433676(0x241)])[_0x433676(0x6ff)]('th-TH',{'dateStyle':_0x433676(0xb9d),'timeStyle':_0x433676(0x4b9)});_0x33f6f9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x4f5b5a[_0x433676(0x6ab)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x234df4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x33f6f9+=_0x425293(0x4f4);}),_0x23c202[_0x3ac032(0xab8)]=_0x33f6f9;}function getDragAfterElement(_0x49ee77,_0x5c8106){const _0x348b99=_0x176601,_0x40a08a=[..._0x49ee77[_0x348b99(0x6d4)]('.project-card-container:not(.opacity-50)')];return _0x40a08a[_0x348b99(0x46b)]((_0x5ce83c,_0x1545f1)=>{const _0x1e27e4=_0x348b99,_0x2e082c=_0x1545f1[_0x1e27e4(0xa6e)](),_0x1c21c9=_0x5c8106-_0x2e082c[_0x1e27e4(0x6e4)]-_0x2e082c[_0x1e27e4(0x3b0)]/0x2;return _0x1c21c9<0x0&&_0x1c21c9>_0x5ce83c[_0x1e27e4(0x553)]?{'offset':_0x1c21c9,'element':_0x1545f1}:_0x5ce83c;},{'offset':Number[_0x348b99(0x999)]})[_0x348b99(0xac5)];}async function saveProjectOrder(_0x1197be){const _0x3db283=_0x176601,_0x29b0c2=doc(db,_0x3db283(0x5a2),_0x3db283(0xac9));try{await setDoc(_0x29b0c2,{'projectOrder':_0x1197be},{'merge':!![]});}catch(_0x930980){console[_0x3db283(0xa65)](_0x3db283(0xb49),_0x930980),showMessage(_0x3db283(0x29b));}}async function logBehaviorEvent(_0x378b73,_0x2ed8bb={}){const _0x1c042e=_0x176601;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1c042e(0x7a8)](_0x1c042e(0x925));return;}const _0x513032=doc(db,_0x1c042e(0x94a)+appId+_0x1c042e(0xa34)+currentQuizData['id']+_0x1c042e(0xbd0),currentStudentName),_0x5ce91a={'event':_0x378b73,'timestamp':new Date()[_0x1c042e(0x7a6)](),..._0x2ed8bb};try{await updateDoc(_0x513032,{'behaviorLog':arrayUnion(_0x5ce91a)}),console[_0x1c042e(0x469)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x1c042e(0x8be));}catch(_0x3d52da){_0x3d52da[_0x1c042e(0xa0a)]===_0x1c042e(0x1fa)?console[_0x1c042e(0x7a8)](_0x1c042e(0xb66)+currentStudentName+_0x1c042e(0x722)):console[_0x1c042e(0xa65)](_0x1c042e(0x57d),_0x3d52da);}}function calculateMeanAndStdDev(_0x20e7c0){const _0x1a830a=_0x176601;if(_0x20e7c0[_0x1a830a(0x2c7)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2bea1e=_0x20e7c0[_0x1a830a(0x46b)]((_0x55d9fb,_0x100477)=>_0x55d9fb+_0x100477,0x0)/_0x20e7c0['length'];if(_0x20e7c0[_0x1a830a(0x2c7)]===0x1)return{'mean':_0x2bea1e,'stdDev':0x0};const _0x2ae140=Math[_0x1a830a(0x19d)](_0x20e7c0['map'](_0x204329=>Math[_0x1a830a(0x5d7)](_0x204329-_0x2bea1e,0x2))[_0x1a830a(0x46b)]((_0x1c8ec6,_0x5ebaa9)=>_0x1c8ec6+_0x5ebaa9,0x0)/(_0x20e7c0['length']-0x1));return{'mean':_0x2bea1e,'stdDev':_0x2ae140};}function calculateZScore(_0x3806c0,_0xe5ef78,_0x4abf2f){if(_0x4abf2f===0x0)return 0x0;return(_0x3806c0-_0xe5ef78)/_0x4abf2f;}function calculateTScore(_0x904748){return 0xa*_0x904748+0x32;}function showStarredProjectView(){const _0xa5b4a1=_0x176601;currentProjectId=_0xa5b4a1(0x93a),currentProjectData=null,projectTitle['textContent']=_0xa5b4a1(0x31a),projectIdDisplay[_0xa5b4a1(0x4c2)]='pinned-items',showView(_0xa5b4a1(0xbfb)),manageTab[_0xa5b4a1(0x25c)][_0xa5b4a1(0x8a5)](_0xa5b4a1(0xbc7)),leaderboardTab[_0xa5b4a1(0x25c)][_0xa5b4a1(0x8a5)]('hidden'),switchProjectTab(_0xa5b4a1(0x475)),renderQuizzes();}async function loadProjectDetails(_0x566a59){const _0x40dc67=_0x176601,_0x2023a5=doc(db,'artifacts/'+appId+_0x40dc67(0x32c),_0x566a59),_0x509c40=await getDoc(_0x2023a5);if(_0x509c40[_0x40dc67(0x4b5)]()){manageTab[_0x40dc67(0x25c)]['remove'](_0x40dc67(0xbc7)),leaderboardTab[_0x40dc67(0x25c)]['remove'](_0x40dc67(0xbc7)),currentProjectData=_0x509c40[_0x40dc67(0xa77)](),projectTitle[_0x40dc67(0x4c2)]=currentProjectData['projectName'],projectIdDisplay[_0x40dc67(0x4c2)]=_0x566a59;const _0x28ec61=currentProjectData[_0x40dc67(0x8e6)]||{};document[_0x40dc67(0x267)](_0x40dc67(0x7e2))[_0x40dc67(0x832)]=_0x28ec61[_0x40dc67(0x189)]||'none';const _0x17b26e=document['getElementById'](_0x40dc67(0x8f9));_0x17b26e['checked']=_0x28ec61['showInStudentDashboard']!==![];const _0x2fae10=document[_0x40dc67(0x267)](_0x40dc67(0xabc)),_0x5afda2=document['getElementById']('passcode-input-container'),_0x45c75d=document['getElementById']('project-passcode-input'),_0xaa89ce=_0x28ec61[_0x40dc67(0x602)]||![];_0x2fae10[_0x40dc67(0x6e2)]=_0xaa89ce,_0x45c75d[_0x40dc67(0x832)]=_0x28ec61[_0x40dc67(0xc07)]||'',_0x5afda2[_0x40dc67(0x25c)]['toggle'](_0x40dc67(0xbc7),!_0xaa89ce),_0x2fae10['onchange']=()=>{const _0x2f81c6=_0x40dc67;_0x5afda2[_0x2f81c6(0x25c)][_0x2f81c6(0x7b6)](_0x2f81c6(0xbc7),!_0x2fae10['checked']);},document[_0x40dc67(0x267)](_0x40dc67(0x688))['checked']=_0x28ec61[_0x40dc67(0x301)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x566a59),listenForProjectQuizzes(_0x566a59),listenForStudentProfiles(_0x566a59);}else showMessage(_0x40dc67(0xbe6)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x4af797=_0x176601,_0x125a7c=doc(db,_0x4af797(0x5a2),_0x4af797(0xac9));try{await setDoc(_0x125a7c,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4af797(0x857));}catch(_0x36f62d){console[_0x4af797(0xa65)](_0x4af797(0x684),_0x36f62d),showMessage(_0x4af797(0x209));}}async function handleTogglePinProject(_0x5b2062){const _0x457173=_0x176601;if(!_0x5b2062)return;const _0x2d6f0d=doc(db,_0x457173(0x94a)+appId+_0x457173(0x32c),_0x5b2062);try{const _0x10df8d=await getDoc(_0x2d6f0d);if(_0x10df8d['exists']()){const _0x1a22c6=_0x10df8d['data']()[_0x457173(0xb6f)]||![];await updateDoc(_0x2d6f0d,{'isPinned':!_0x1a22c6});}}catch(_0x3d32a2){console[_0x457173(0xa65)](_0x457173(0xbf6),_0x3d32a2),showMessage(_0x457173(0xbac));}}async function handleDeleteProject(_0x1eda94){const _0x1086ce=_0x176601;try{const _0xeca5b2=writeBatch(db),_0x26f1f4=collection(db,_0x1086ce(0x94a)+appId+_0x1086ce(0xb3f)),_0x330be0=query(_0x26f1f4,where(_0x1086ce(0x8ae),'==',_0x1eda94)),_0x3a19da=await getDocs(_0x330be0);for(const _0x12e486 of _0x3a19da['docs']){const _0x54fa59=collection(db,_0x1086ce(0x94a)+appId+_0x1086ce(0xa34)+_0x12e486['id']+_0x1086ce(0xbd0)),_0x3a9e90=await getDocs(_0x54fa59);_0x3a9e90[_0x1086ce(0x523)](_0x1735c0=>{const _0x3abb50=_0x1086ce;_0xeca5b2['delete'](_0x1735c0[_0x3abb50(0xbf7)]);}),_0xeca5b2['delete'](_0x12e486[_0x1086ce(0xbf7)]);}const _0xf8aec0=collection(db,_0x1086ce(0x94a)+appId+_0x1086ce(0x2ba)+_0x1eda94+_0x1086ce(0x8bd)),_0x4a9916=await getDocs(_0xf8aec0);_0x4a9916[_0x1086ce(0x523)](_0x2fa5f8=>{const _0x205849=_0x1086ce;_0xeca5b2['delete'](_0x2fa5f8[_0x205849(0xbf7)]);});const _0x116c64=doc(db,_0x1086ce(0x94a)+appId+'/public/data/projects',_0x1eda94);_0xeca5b2[_0x1086ce(0x3ad)](_0x116c64),await _0xeca5b2[_0x1086ce(0x202)](),showMessage(_0x1086ce(0xbb8)),showView(_0x1086ce(0x5aa));}catch(_0xd5788f){console[_0x1086ce(0xa65)](_0x1086ce(0xa2e),_0xd5788f),showMessage(_0x1086ce(0x85d));}}document[_0x176601(0x267)](_0x176601(0xa12))[_0x176601(0xbb9)](_0x176601(0x292),async()=>{const _0x4ca552=_0x176601;if(!currentProjectId)return;const _0x4a6970={'defaultNumQuestions':parseInt(document[_0x4ca552(0x267)](_0x4ca552(0xb73))[_0x4ca552(0x832)]),'defaultNumChoices':parseInt(document[_0x4ca552(0x267)](_0x4ca552(0x666))[_0x4ca552(0x832)]),'defaultPassingScore':parseInt(document[_0x4ca552(0x267)](_0x4ca552(0x9a8))['value']),'resultsDisplay':document['getElementById'](_0x4ca552(0x3ce))[_0x4ca552(0x832)],'shuffleSetting':document[_0x4ca552(0x267)](_0x4ca552(0x7e2))['value'],'timerMode':document[_0x4ca552(0x267)](_0x4ca552(0x378))[_0x4ca552(0x832)],'timerDuration':parseInt(document[_0x4ca552(0x267)](_0x4ca552(0xa00))[_0x4ca552(0x832)]),'isConfidenceScoringEnabled':document[_0x4ca552(0x267)](_0x4ca552(0x688))[_0x4ca552(0x6e2)],'confidenceMode':document[_0x4ca552(0x267)](_0x4ca552(0x68a))['value']};try{const _0x39890d=doc(db,_0x4ca552(0x94a)+appId+_0x4ca552(0x32c),currentProjectId);await updateDoc(_0x39890d,{'settings':_0x4a6970}),showMessage(_0x4ca552(0x16e));}catch(_0x4aaa7e){console['error']('Error\x20saving\x20settings:',_0x4aaa7e),showMessage(_0x4ca552(0xa09));}});function listenForStudents(_0x2b5313){const _0x54e723=_0x176601,_0x30392f=doc(db,_0x54e723(0x94a)+appId+_0x54e723(0x32c),_0x2b5313);unsubscribeStudentsListener=onSnapshot(_0x30392f,_0x5ee93a=>{const _0x5d4492=_0x54e723;if(_0x5ee93a[_0x5d4492(0x4b5)]()){const _0x38185c=_0x5ee93a[_0x5d4492(0xa77)]();currentProjectData=_0x38185c,renderStudentList(_0x38185c['students']||[]);}});}function renderStudentList(_0x3f492f){const _0x36dc6b=_0x176601,_0x5d0b99=document[_0x36dc6b(0x267)](_0x36dc6b(0xa14));_0x3f492f[_0x36dc6b(0x2c7)]===0x0?(studentList[_0x36dc6b(0xab8)]=_0x36dc6b(0xa45),_0x5d0b99[_0x36dc6b(0x25c)][_0x36dc6b(0x8a5)](_0x36dc6b(0xbc7))):(studentList[_0x36dc6b(0xab8)]=_0x3f492f[_0x36dc6b(0x697)](_0x3b822f=>_0x36dc6b(0x748)+_0x3b822f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x3b822f+_0x36dc6b(0x185))[_0x36dc6b(0x706)](''),_0x5d0b99[_0x36dc6b(0x25c)][_0x36dc6b(0x167)](_0x36dc6b(0xbc7)));}document[_0x176601(0x267)](_0x176601(0x329))[_0x176601(0xbb9)](_0x176601(0x292),async()=>{const _0x7b334d=_0x176601;if(!currentProjectId)return;const _0x3ba6f5=document['getElementById'](_0x7b334d(0x859)),_0x16fe65=_0x3ba6f5[_0x7b334d(0x832)]['trim']();if(!_0x16fe65){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x3b2683=_0x16fe65['split']('\x0a')[_0x7b334d(0x697)](_0x2b703f=>_0x2b703f['trim']())[_0x7b334d(0xb79)](_0x276354=>_0x276354);if(_0x3b2683[_0x7b334d(0x2c7)]===0x0)return;try{const _0x3e63ab=doc(db,_0x7b334d(0x94a)+appId+_0x7b334d(0x32c),currentProjectId),_0x9d4e98=await getDoc(_0x3e63ab);if(_0x9d4e98[_0x7b334d(0x4b5)]()){const _0x2554fa=_0x9d4e98[_0x7b334d(0xa77)]()[_0x7b334d(0xbf9)]||[],_0x4129bd=[...new Set([..._0x2554fa,..._0x3b2683])];await updateDoc(_0x3e63ab,{'students':_0x4129bd}),_0x3ba6f5['value']='';}}catch(_0xaa3f4e){console[_0x7b334d(0xa65)](_0x7b334d(0x6ea),_0xaa3f4e),showMessage(_0x7b334d(0x824));}});async function handleManualQuizPairing(_0x5dee5a){const _0x17b914=_0x176601,_0x3b3df4=document['getElementById']('move-quiz-modal'),_0x387c46=document[_0x17b914(0x267)](_0x17b914(0x74f)),_0xe6a808=_0x3b3df4['querySelector']('h3'),_0x9de1de=document['getElementById']('confirm-move-quiz-btn'),_0x1d0608=document[_0x17b914(0x267)](_0x17b914(0x5be));_0xe6a808[_0x17b914(0x4c2)]=_0x17b914(0x1f4),_0x387c46[_0x17b914(0xab8)]=_0x17b914(0x340),_0x9de1de[_0x17b914(0x4c2)]=_0x17b914(0x564),_0x3b3df4[_0x17b914(0x25c)]['remove'](_0x17b914(0xbc7));const _0x4c3130=allQuizzes[_0x17b914(0xb79)](_0x40174e=>_0x40174e['id']!==_0x5dee5a);_0x4c3130['length']===0x0?(_0x387c46[_0x17b914(0xab8)]=_0x17b914(0x86e),_0x9de1de[_0x17b914(0x76a)]=!![]):(_0x387c46[_0x17b914(0xab8)]=_0x17b914(0xa79)+_0x4c3130[_0x17b914(0x697)](_0x36091b=>_0x17b914(0xba4)+_0x36091b['id']+'\x22>'+_0x36091b[_0x17b914(0x62b)]+_0x17b914(0x53f))[_0x17b914(0x706)](''),_0x9de1de[_0x17b914(0x76a)]=![]);const _0xa43d58=async()=>{const _0x810228=_0x17b914,_0x5b969e=_0x387c46['value'];if(!_0x5b969e){showMessage(_0x810228(0x178));return;}_0x9de1de[_0x810228(0x76a)]=!![],_0x9de1de[_0x810228(0x4c2)]='กำลังจับคู่...';try{const _0x2bf630=doc(db,_0x810228(0x94a)+appId+_0x810228(0xb3f),_0x5dee5a),_0x1152fb=doc(db,'artifacts/'+appId+_0x810228(0xb3f),_0x5b969e),_0x455812=writeBatch(db);_0x455812[_0x810228(0x2c9)](_0x2bf630,{'pairedQuizId':_0x5b969e}),_0x455812['update'](_0x1152fb,{'pairedQuizId':_0x5dee5a}),await _0x455812[_0x810228(0x202)](),showMessage(_0x810228(0x59f)),_0x3b3df4[_0x810228(0x25c)][_0x810228(0x8a5)](_0x810228(0xbc7));}catch(_0x3b2255){console['error'](_0x810228(0xb28),_0x3b2255),showMessage(_0x810228(0xb09));}finally{_0xe6a808[_0x810228(0x4c2)]=_0x810228(0x4af),_0x9de1de[_0x810228(0x4c2)]=_0x810228(0x679),_0x9de1de[_0x810228(0x76a)]=![],_0x9de1de[_0x810228(0x4cc)]('click',_0xa43d58),_0x1d0608[_0x810228(0x4cc)]('click',_0x3237a8);}},_0x3237a8=()=>{const _0x3800e4=_0x17b914;_0x3b3df4[_0x3800e4(0x25c)]['add'](_0x3800e4(0xbc7)),_0xe6a808[_0x3800e4(0x4c2)]=_0x3800e4(0x4af),_0x9de1de['textContent']=_0x3800e4(0x679),_0x9de1de['removeEventListener'](_0x3800e4(0x292),_0xa43d58),_0x1d0608[_0x3800e4(0x4cc)](_0x3800e4(0x292),_0x3237a8);};_0x9de1de['addEventListener'](_0x17b914(0x292),_0xa43d58),_0x1d0608[_0x17b914(0xbb9)]('click',_0x3237a8);}function handleDeleteStudent(_0x38cca7){const _0x3627d5=_0x176601;showConfirmation(_0x3627d5(0x18f)+_0x38cca7+_0x3627d5(0x31f),async()=>{const _0x575b4e=_0x3627d5;if(!currentProjectId||!currentProjectData)return;const _0x206f3d=currentProjectData[_0x575b4e(0xbf9)][_0x575b4e(0xb79)](_0x1141c6=>_0x1141c6!==_0x38cca7);try{const _0x3db9fa=doc(db,_0x575b4e(0x94a)+appId+_0x575b4e(0x32c),currentProjectId),_0x2b2bee=doc(db,_0x575b4e(0x94a)+appId+_0x575b4e(0x2ba)+currentProjectId+'/studentProfiles',_0x38cca7),_0x5e6f98=writeBatch(db);_0x5e6f98[_0x575b4e(0x2c9)](_0x3db9fa,{'students':_0x206f3d}),_0x5e6f98['delete'](_0x2b2bee),await _0x5e6f98[_0x575b4e(0x202)]();}catch(_0x1924f5){console[_0x575b4e(0xa65)](_0x575b4e(0x8c2),_0x1924f5),showMessage(_0x575b4e(0xabe));}});}function handleDeleteAllStudents(){const _0x32eb75=_0x176601;showConfirmation(_0x32eb75(0xad6),async()=>{const _0x58f71a=_0x32eb75;if(!currentProjectId)return;try{const _0x492f64=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x5afe2f=collection(db,_0x58f71a(0x94a)+appId+_0x58f71a(0x2ba)+currentProjectId+_0x58f71a(0x8bd)),_0x1a3966=await getDocs(_0x5afe2f),_0x4a188b=writeBatch(db);_0x4a188b['update'](_0x492f64,{'students':[]}),_0x1a3966[_0x58f71a(0x523)](_0x3f471b=>_0x4a188b[_0x58f71a(0x3ad)](_0x3f471b[_0x58f71a(0xbf7)])),await _0x4a188b[_0x58f71a(0x202)]();}catch(_0x11c5f9){console[_0x58f71a(0xa65)]('Error\x20deleting\x20all\x20students:',_0x11c5f9),showMessage(_0x58f71a(0x6bc));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x1b6351){const _0x2ed98d=_0x176601,_0x1345b4=document[_0x2ed98d(0x267)](_0x2ed98d(0xaf2)),_0x17bc43=document[_0x2ed98d(0x267)](_0x2ed98d(0x1c0));_0x1345b4[_0x2ed98d(0x25c)][_0x2ed98d(0x167)](_0x2ed98d(0xbc7)),_0x17bc43['innerHTML']=_0x2ed98d(0x44b);try{const _0x3c63d2=new FileReader();_0x3c63d2['readAsDataURL'](_0x1b6351),await new Promise((_0x4c6ab0,_0xc80ea0)=>{const _0x3c89ac=_0x2ed98d;_0x3c63d2[_0x3c89ac(0x7e0)]=()=>{const _0x12aa43=_0x3c89ac;fileDataBase64=_0x3c63d2['result'][_0x12aa43(0xa15)](',')[0x1],fileMimeType=_0x1b6351[_0x12aa43(0x633)],_0x4c6ab0();},_0x3c63d2[_0x3c89ac(0x9eb)]=_0xf45e52=>_0xc80ea0(_0xf45e52);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x3eba46=_0x2ed98d(0x2f9),_0x77262d={'type':_0x2ed98d(0x9f7),'properties':{'topics':{'type':_0x2ed98d(0x876),'items':{'type':_0x2ed98d(0x5fb)}}},'required':[_0x2ed98d(0x869)]},_0x1baa63=[{'text':_0x3eba46},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x2140a6=await handleApiCall(_0x1baa63,_0x2ed98d(0xacd),_0x77262d,null,![]);if(_0x2140a6&&_0x2140a6[_0x2ed98d(0x869)])extractedFileTopics=_0x2140a6[_0x2ed98d(0x869)],renderFileTopics();else throw new Error(_0x2ed98d(0x481));}catch(_0x386f14){console[_0x2ed98d(0xa65)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x386f14),_0x17bc43['innerHTML']=_0x2ed98d(0x28d)+_0x386f14[_0x2ed98d(0x193)]+_0x2ed98d(0xa5b);}}function renderFileTopics(){const _0xce282e=_0x176601,_0x35c2f4=document[_0xce282e(0x267)](_0xce282e(0x1c0));if(extractedFileTopics[_0xce282e(0x2c7)]===0x0){_0x35c2f4[_0xce282e(0xab8)]=_0xce282e(0x565);return;}_0x35c2f4[_0xce282e(0xab8)]=extractedFileTopics[_0xce282e(0x697)](_0xfcba3c=>_0xce282e(0xbcd)+_0xfcba3c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0xfcba3c)+_0xce282e(0x255)+escape(_0xfcba3c)+_0xce282e(0x4e2))['join']('');}async function generateHybridQuizForTopic(_0x1434b6){const _0x4b5acd=_0x176601,_0x825983=parseInt(document[_0x4b5acd(0x267)]('num-questions')['value'],0xa),_0x5bbf3b=document['getElementById'](_0x4b5acd(0x58c))['value'],_0x4a7445=document['getElementById']('num-choices')['value'],_0x217145=document['getElementById'](_0x4b5acd(0x5f1))[_0x4b5acd(0x6e2)],_0x18ef45=_0x217145?_0x4b5acd(0x8ec):_0x4b5acd(0x26d);let _0x1c2d49='',_0x25c8a1;const _0x3591b2={'type':_0x4b5acd(0x9f7),'properties':{'questionText':{'type':_0x4b5acd(0x5fb)},'options':{'type':_0x4b5acd(0x876),'items':{'type':_0x4b5acd(0x5fb)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x4b5acd(0x911),'options','correctAnswerIndex','explanation']},_0x8169b5={'type':_0x4b5acd(0x9f7),'properties':{'questionText':{'type':_0x4b5acd(0x5fb)},'correctAnswer':{'type':_0x4b5acd(0x4b4)},'explanation':{'type':_0x4b5acd(0x5fb)},'imageCode':{'type':_0x4b5acd(0x5fb)}},'required':[_0x4b5acd(0x911),'correctAnswer','explanation']},_0x28f852={'type':_0x4b5acd(0x9f7),'properties':{'questionText':{'type':_0x4b5acd(0x5fb)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4b5acd(0x5fb)},'imageCode':{'type':'STRING'}},'required':[_0x4b5acd(0x911),_0x4b5acd(0x3be),_0x4b5acd(0x9ff)]},_0x1004ad={'type':_0x4b5acd(0x9f7),'properties':{'questionType':{'type':'STRING','enum':[_0x4b5acd(0x4ed)]},'stem':{'type':_0x4b5acd(0x5fb)},'correctResponse':{'type':_0x4b5acd(0x5fb)},'allResponses':{'type':_0x4b5acd(0x876),'items':{'type':_0x4b5acd(0x5fb)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4b5acd(0x5fb)}},'required':[_0x4b5acd(0x9c3),_0x4b5acd(0x232),'correctResponse','allResponses',_0x4b5acd(0x9ff)]};switch(_0x5bbf3b){case _0x4b5acd(0x3e7):_0x1c2d49='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x4a7445+'\x20ตัวเลือก)',_0x25c8a1=_0x3591b2;break;case _0x4b5acd(0x9c7):_0x1c2d49=_0x4b5acd(0x435),_0x25c8a1=_0x8169b5;break;case'fill_in_no_choices':_0x1c2d49=_0x4b5acd(0x45e),_0x25c8a1=_0x28f852;break;case'matching':_0x1c2d49=_0x4b5acd(0x72a),_0x25c8a1=_0x1004ad;break;case _0x4b5acd(0x53c):_0x1c2d49=_0x4b5acd(0xb91)+_0x4a7445+'\x20ตัวเลือก)',_0x25c8a1=_0x3591b2;break;default:_0x1c2d49=_0x4b5acd(0x8f3)+_0x4a7445+'\x20ตัวเลือก)',_0x25c8a1=_0x3591b2;break;}const _0x3d6f7a=_0x4b5acd(0x3cc),_0xb562ae=document[_0x4b5acd(0x267)]('loader'),_0x59808e=document[_0x4b5acd(0x267)](_0x4b5acd(0x8d2)),_0x34ce46=document[_0x4b5acd(0x267)](_0x4b5acd(0x581));document[_0x4b5acd(0x267)](_0x4b5acd(0x7d1))[_0x4b5acd(0x25c)][_0x4b5acd(0x167)](_0x4b5acd(0xbc7)),_0x34ce46[_0x4b5acd(0xab8)]='',_0xb562ae['classList'][_0x4b5acd(0x167)](_0x4b5acd(0xbc7)),_0x59808e[_0x4b5acd(0x4c2)]=_0x4b5acd(0x968)+_0x1434b6+_0x4b5acd(0x673)+_0x825983+_0x4b5acd(0xb7f);try{const _0x40ef17=_0x4b5acd(0x29a)+_0x1434b6+_0x4b5acd(0x69a)+_0x825983+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x1434b6+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x825983+_0x4b5acd(0xb83)+_0x18ef45+_0x4b5acd(0x33c)+_0x1c2d49+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x3d6f7a+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x54ad07={'type':_0x4b5acd(0x9f7),'properties':{'topic':{'type':_0x4b5acd(0x5fb)},'questions':{'type':_0x4b5acd(0x876),'items':_0x25c8a1}},'required':[_0x4b5acd(0x62b),_0x4b5acd(0x9ce)]},_0x899441=[{'text':_0x40ef17},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x899441,_0x4b5acd(0xa72)+_0x1434b6+_0x4b5acd(0x507),_0x54ad07);}catch(_0x470d82){console[_0x4b5acd(0xa65)](_0x4b5acd(0x924),_0x470d82),showMessage(_0x4b5acd(0x4f8)+_0x470d82[_0x4b5acd(0x193)]),_0x34ce46[_0x4b5acd(0xab8)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0xb562ae[_0x4b5acd(0x25c)][_0x4b5acd(0x8a5)](_0x4b5acd(0xbc7));}}async function handleGenerateFromFileClick(){const _0x261742=_0x176601;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x33a0eb=document['getElementById'](_0x261742(0xa7d)),_0x2d3a41=document[_0x261742(0x267)](_0x261742(0x8d2)),_0xbaa51d=document[_0x261742(0x267)](_0x261742(0x581)),_0x46acb3=document[_0x261742(0x267)](_0x261742(0x735));_0x46acb3[_0x261742(0x76a)]=!![],document['getElementById'](_0x261742(0x7d1))[_0x261742(0x25c)][_0x261742(0x167)]('hidden'),_0xbaa51d[_0x261742(0xab8)]='',_0x33a0eb[_0x261742(0x25c)][_0x261742(0x167)](_0x261742(0xbc7)),_0x2d3a41[_0x261742(0x4c2)]=_0x261742(0x239);const _0x38a90d=new FileReader();_0x38a90d['readAsDataURL'](selectedFile),_0x38a90d[_0x261742(0x7e0)]=async()=>{const _0x17b2bd=_0x261742;try{const _0x379433=_0x38a90d[_0x17b2bd(0xa52)][_0x17b2bd(0xa15)](',')[0x1],_0x17378f=selectedFile[_0x17b2bd(0x633)];await generateQuizFromFile(_0x17378f,_0x379433);}catch(_0x26ae58){console['error'](_0x17b2bd(0x57c),_0x26ae58),showMessage(_0x17b2bd(0x87f)+_0x26ae58[_0x17b2bd(0x193)]),_0x33a0eb[_0x17b2bd(0x25c)][_0x17b2bd(0x8a5)]('hidden');}finally{}},_0x38a90d[_0x261742(0x9eb)]=_0x4f13f2=>{const _0x562050=_0x261742;console[_0x562050(0xa65)](_0x562050(0xa85),_0x4f13f2),showMessage(_0x562050(0x972)),_0x33a0eb[_0x562050(0x25c)]['add'](_0x562050(0xbc7)),_0x46acb3[_0x562050(0x76a)]=![];};}function autoFormatMath(_0x3a0c31){const _0x4d33d6=_0x176601;if(typeof _0x3a0c31!==_0x4d33d6(0x7c7)||!_0x3a0c31)return _0x3a0c31;const _0x5ea49b=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xf73f5a=_0x3a0c31[_0x4d33d6(0x24a)](_0x5ea49b,_0xe51e3f=>{return'$'+_0xe51e3f['trim']()+'$';});return _0xf73f5a;}function sanitizeQuizData(_0xe6dbfb){const _0x175c84=_0x176601;if(!_0xe6dbfb||!_0xe6dbfb[_0x175c84(0x9ce)])return _0xe6dbfb;const _0x206cc6={'imes':_0x175c84(0x9bf),'div':_0x175c84(0x76b)},_0x2f1f0c=_0xbba1fb=>{const _0x5c849e=_0x175c84;if(typeof _0xbba1fb!=='string')return _0xbba1fb;let _0x3edfb9=_0xbba1fb;for(const [_0x4fbc30,_0x3cb289]of Object['entries'](_0x206cc6)){const _0x112a6b=new RegExp('\x5cb'+_0x4fbc30+'\x5cb','g');_0x3edfb9=_0x3edfb9[_0x5c849e(0x24a)](_0x112a6b,_0x3cb289);}return _0x3edfb9=_0x3edfb9['replace'](/\\\//g,_0x5c849e(0x76b)),_0x3edfb9=_0x3edfb9[_0x5c849e(0x24a)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5c849e(0x76b))[_0x5c849e(0x24a)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x5c849e(0x24a)](/÷/g,_0x5c849e(0x76b))['replace'](/×/g,_0x5c849e(0x9bf)),_0x3edfb9=_0x3edfb9['replace'](/(\d)(\\frac)/g,_0x5c849e(0x770)),_0x3edfb9=autoFormatMath(_0x3edfb9),_0x3edfb9;};return _0xe6dbfb[_0x175c84(0x62b)]&&(_0xe6dbfb[_0x175c84(0x62b)]=_0x2f1f0c(_0xe6dbfb[_0x175c84(0x62b)])),_0xe6dbfb[_0x175c84(0x9ce)][_0x175c84(0x523)](_0x119513=>{const _0x4c228b=_0x175c84;_0x119513[_0x4c228b(0x911)]=_0x2f1f0c(_0x119513['questionText']),_0x119513[_0x4c228b(0x61a)]&&(_0x119513[_0x4c228b(0x61a)]=_0x119513[_0x4c228b(0x61a)]['map'](_0x2f1f0c)),_0x119513[_0x4c228b(0x9ff)]&&(_0x119513[_0x4c228b(0x9ff)]=_0x2f1f0c(_0x119513['explanation'])),_0x119513['stem']&&(_0x119513[_0x4c228b(0x232)]=_0x2f1f0c(_0x119513[_0x4c228b(0x232)])),_0x119513[_0x4c228b(0x6a9)]&&(_0x119513['correctResponse']=_0x2f1f0c(_0x119513[_0x4c228b(0x6a9)])),_0x119513[_0x4c228b(0x773)]&&(_0x119513[_0x4c228b(0x773)]=_0x119513['allResponses'][_0x4c228b(0x697)](_0x2f1f0c));}),_0xe6dbfb;}const simpleMathPrompt=_0x176601(0x559);async function handleGenerateFromLink(){const _0x35d46b=_0x176601,_0x25441f=document[_0x35d46b(0x267)](_0x35d46b(0xae9)),_0x7c127=document[_0x35d46b(0x267)](_0x35d46b(0x45c)),_0x4d7b8a=_0x25441f[_0x35d46b(0x832)][_0x35d46b(0xa5f)](),_0x1e42eb=_0x7c127[_0x35d46b(0x832)][_0x35d46b(0xa5f)]();if(!_0x4d7b8a){showMessage(_0x35d46b(0x71c));return;}const _0x5f0647=document[_0x35d46b(0x267)](_0x35d46b(0xa7d)),_0x548636=document[_0x35d46b(0x267)]('loader-text'),_0xc166cf=document[_0x35d46b(0x267)](_0x35d46b(0x581)),_0x4e9e7f=document['getElementById'](_0x35d46b(0x691));document[_0x35d46b(0x267)](_0x35d46b(0x7d1))[_0x35d46b(0x25c)][_0x35d46b(0x167)](_0x35d46b(0xbc7)),_0xc166cf[_0x35d46b(0xab8)]='',_0x5f0647[_0x35d46b(0x25c)][_0x35d46b(0x167)](_0x35d46b(0xbc7)),_0x548636[_0x35d46b(0x4c2)]=_0x35d46b(0xb85),_0x4e9e7f[_0x35d46b(0x76a)]=!![];try{const _0x57cd24=_0x35d46b(0x914)+encodeURIComponent(_0x4d7b8a),_0x10e3e3=await fetch(_0x57cd24);if(!_0x10e3e3['ok'])throw new Error(_0x35d46b(0x625)+_0x10e3e3[_0x35d46b(0x471)]+')');const _0x569d25=await _0x10e3e3[_0x35d46b(0x648)](),_0x406675=extractTextFromHtml(_0x569d25);if(!_0x406675||_0x406675[_0x35d46b(0x2c7)]<0x64)throw new Error(_0x35d46b(0x186));await generateQuiz(_0x1e42eb,_0x406675);}catch(_0x503425){console[_0x35d46b(0xa65)](_0x35d46b(0x41d),_0x503425),showMessage(_0x35d46b(0x4f8)+_0x503425[_0x35d46b(0x193)]),_0xc166cf[_0x35d46b(0xab8)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x5f0647[_0x35d46b(0x25c)][_0x35d46b(0x8a5)](_0x35d46b(0xbc7)),_0x4e9e7f[_0x35d46b(0x76a)]=![];}}function extractTextFromHtml(_0x4ac998){const _0xf23760=_0x176601,_0x1159b1=new DOMParser()[_0xf23760(0x3f5)](_0x4ac998,_0xf23760(0x99a));return _0x1159b1[_0xf23760(0x6d4)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x290541=>_0x290541[_0xf23760(0x167)]()),_0x1159b1['body'][_0xf23760(0x4c2)]||'';}document[_0x176601(0x267)](_0x176601(0xa69))['addEventListener'](_0x176601(0x292),()=>{const _0x326339=_0x176601,_0x56a485=document['getElementById'](_0x326339(0x788))[_0x326339(0x832)][_0x326339(0xa5f)]();generateQuiz(_0x56a485,null);}),document[_0x176601(0x267)](_0x176601(0x362))[_0x176601(0xbb9)](_0x176601(0x292),()=>{const _0x381d11=_0x176601,_0x57f203=document[_0x381d11(0x267)](_0x381d11(0x235))[_0x381d11(0x832)][_0x381d11(0xa5f)]();if(!_0x57f203){showMessage(_0x381d11(0x47f));return;}const _0x3de579=document['getElementById'](_0x381d11(0x788))[_0x381d11(0x832)][_0x381d11(0xa5f)]();generateQuiz(_0x3de579,_0x57f203);});async function generateQuiz(_0xc2e5b4,_0x18bab4,_0x16ddd7=null,_0x284d47=null,_0xcea74=![],_0x4f98e0=null,_0x2d5e2d=null){const _0x3659ca=_0x176601;let _0x198f88={};if(_0xcea74&&blueprintPageSettings)console[_0x3659ca(0x469)](_0x3659ca(0xc08)),_0x198f88=blueprintPageSettings;else{console['log'](_0x3659ca(0x216));const _0x242902=document[_0x3659ca(0x6d4)]('#math-topics-checkbox-container\x20input:checked');_0x198f88={'quizType':document['getElementById']('quiz-type-select')['value'],'numQuestions':document[_0x3659ca(0x267)]('num-questions')[_0x3659ca(0x832)],'numChoices':document[_0x3659ca(0x267)](_0x3659ca(0x666))[_0x3659ca(0x832)],'includeImages':document[_0x3659ca(0x267)](_0x3659ca(0x5f1))[_0x3659ca(0x6e2)],'isNormalTopic':document['getElementById'](_0x3659ca(0x3f9))[_0x3659ca(0x6e2)],'difficultyValue':document[_0x3659ca(0x267)](_0x3659ca(0x1a2))[_0x3659ca(0x832)],'complexityValue':document[_0x3659ca(0x267)](_0x3659ca(0xa20))[_0x3659ca(0x832)],'selectedTopicNames':Array['from'](_0x242902)[_0x3659ca(0x697)](_0x36a388=>_0x36a388[_0x3659ca(0x832)])};}const _0x375d32=_0x198f88[_0x3659ca(0x531)]?'':_0x3659ca(0x60b),_0x3bfd1c=_0x198f88[_0x3659ca(0x957)]!==_0x3659ca(0x3cb)?_0x3659ca(0x80c)+_0x198f88[_0x3659ca(0x957)]+'\x22':'',_0x3612e6=_0x198f88[_0x3659ca(0x4b8)]!=='mixed'?_0x3659ca(0x952)+_0x198f88['complexityValue']+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x13cea1='';_0x198f88['selectedTopicNames']&&_0x198f88[_0x3659ca(0x456)][_0x3659ca(0x2c7)]>0x0&&(_0x13cea1=_0x3659ca(0x831)+_0x198f88[_0x3659ca(0x456)]['join'](',\x20')+'.');let _0x329c05='';_0x284d47&&(_0x329c05=_0x3659ca(0xad9));let _0xff4fa5='',_0x48e6ed='',_0x28c303,_0x40fc6f='เกี่ยวกับหัวข้อ\x20\x22'+_0xc2e5b4+'\x22';if(!_0xc2e5b4&&_0x18bab4)_0x40fc6f='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0xc2e5b4&&!_0x18bab4&&(_0x40fc6f=_0x3659ca(0xa4b));const _0x2c07fe={'type':_0x3659ca(0x9f7),'properties':{'questionText':{'type':_0x3659ca(0x5fb)},'options':{'type':_0x3659ca(0x876),'items':{'type':_0x3659ca(0x5fb)}},'correctAnswerIndex':{'type':_0x3659ca(0x1a9)},'explanation':{'type':_0x3659ca(0x5fb)},'imageCode':{'type':'STRING'}},'required':[_0x3659ca(0x911),_0x3659ca(0x61a),_0x3659ca(0x1f1),_0x3659ca(0x9ff)]},_0x36b311={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3659ca(0x5fb)},'imageCode':{'type':_0x3659ca(0x5fb)}},'required':[_0x3659ca(0x911),'idealAnswer',_0x3659ca(0x9ff)]},_0x302d6f={'type':_0x3659ca(0x9f7),'properties':{'questionText':{'type':_0x3659ca(0x5fb)},'questionType':{'type':_0x3659ca(0x5fb),'enum':[_0x3659ca(0x3e7),_0x3659ca(0x477)]},'options':{'type':_0x3659ca(0x876),'items':{'type':_0x3659ca(0x5fb)}},'correctAnswerIndex':{'type':_0x3659ca(0x1a9)},'idealAnswer':{'type':_0x3659ca(0x5fb)},'explanation':{'type':_0x3659ca(0x5fb)},'imageCode':{'type':_0x3659ca(0x5fb)}},'required':[_0x3659ca(0x911),_0x3659ca(0x9c3),_0x3659ca(0x9ff)]},_0x3f7da0={'type':'OBJECT','properties':{'questionText':{'type':_0x3659ca(0x5fb)},'correctAnswer':{'type':_0x3659ca(0x4b4)},'explanation':{'type':_0x3659ca(0x5fb)},'imageCode':{'type':'STRING'}},'required':[_0x3659ca(0x911),_0x3659ca(0xb9b),_0x3659ca(0x9ff)]},_0x2899de={'type':_0x3659ca(0x9f7),'properties':{'questionType':{'type':_0x3659ca(0x5fb),'enum':[_0x3659ca(0x4ed)]},'stem':{'type':_0x3659ca(0x5fb)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x3659ca(0x5fb)}},'explanation':{'type':_0x3659ca(0x5fb)},'imageCode':{'type':_0x3659ca(0x5fb)}},'required':[_0x3659ca(0x9c3),_0x3659ca(0x232),_0x3659ca(0x6a9),'allResponses',_0x3659ca(0x9ff)]};let _0x1c2cf3;if(_0x16ddd7!==null){const _0x4f00a0=currentQuizData['questions'][_0x16ddd7][_0x3659ca(0x9c3)],_0x4eb433=_0x198f88[_0x3659ca(0x641)]?_0x3659ca(0xabb):'';_0xff4fa5=_0x3659ca(0x8e4)+_0x40fc6f+'\x20'+_0x13cea1+'\x20'+_0x3bfd1c+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x4eb433+'\x20'+simpleMathPrompt;if(_0x4f00a0===_0x3659ca(0x3e7))_0x28c303=_0x2c07fe;else{if(_0x4f00a0==='matching_item')_0x28c303={'type':_0x3659ca(0x9f7),'properties':{'questionType':{'type':_0x3659ca(0x5fb),'enum':[_0x3659ca(0x4ed)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3659ca(0x5fb)},'explanation':{'type':_0x3659ca(0x5fb)},'imageCode':{'type':_0x3659ca(0x5fb)}},'required':[_0x3659ca(0x9c3),'stem',_0x3659ca(0x6a9),_0x3659ca(0x9ff)]};else _0x28c303=_0x36b311;}_0x1c2cf3=_0x28c303;}else{const _0x17ac3f=_0x198f88[_0x3659ca(0x641)]?_0x3659ca(0x716):'';switch(_0x198f88[_0x3659ca(0x84e)]){case _0x3659ca(0x3e7):_0xff4fa5=_0x3659ca(0xb00)+_0x375d32+'\x20'+_0x198f88[_0x3659ca(0x7c0)]+_0x3659ca(0x1ff)+_0x40fc6f+'\x20'+_0x13cea1+'\x20'+_0x3bfd1c+'\x20'+_0x3612e6+'\x20'+_0x329c05+_0x3659ca(0x274)+_0x198f88[_0x3659ca(0x5c0)]+_0x3659ca(0x2d3)+_0x17ac3f+'\x20'+simpleMathPrompt,_0x28c303=_0x2c07fe;break;case'fill_in_with_choices':_0xff4fa5=_0x3659ca(0x6da)+_0x375d32+'\x20'+_0x198f88[_0x3659ca(0x7c0)]+'\x20ข้อ\x20'+_0x40fc6f+'\x20'+_0x13cea1+'\x20'+_0x3bfd1c+'\x20'+_0x3612e6+'\x20'+_0x329c05+_0x3659ca(0x234)+_0x198f88[_0x3659ca(0x5c0)]+_0x3659ca(0xad8)+_0x17ac3f+'\x20'+simpleMathPrompt,_0x28c303=_0x2c07fe;break;case'fill_in_no_choices':_0xff4fa5=_0x3659ca(0x6da)+_0x375d32+'\x20'+_0x198f88[_0x3659ca(0x7c0)]+_0x3659ca(0x1ff)+_0x40fc6f+'\x20'+_0x13cea1+'\x20'+_0x3bfd1c+'\x20'+_0x3612e6+'\x20'+_0x329c05+_0x3659ca(0xba6)+_0x17ac3f+'\x20'+simpleMathPrompt,_0x28c303=_0x36b311;break;case _0x3659ca(0xb77):_0xff4fa5=_0x3659ca(0x400)+_0x375d32+'\x20'+_0x198f88[_0x3659ca(0x7c0)]+'\x20ข้อ\x20'+_0x40fc6f+'\x20'+_0x13cea1+'\x20'+_0x3bfd1c+'\x20'+_0x3612e6+'\x20'+_0x329c05+_0x3659ca(0x74b)+_0x198f88[_0x3659ca(0x5c0)]+_0x3659ca(0x351)+_0x17ac3f+'\x20'+simpleMathPrompt+'.',_0x28c303=_0x302d6f;break;case'true_false':_0xff4fa5='สร้างคำถามแบบใช่/ไม่ใช่'+_0x375d32+'\x20'+_0x198f88['numQuestions']+_0x3659ca(0x1ff)+_0x40fc6f+'\x20'+_0x13cea1+'\x20'+_0x3bfd1c+'\x20'+_0x3612e6+'\x20'+_0x329c05+_0x3659ca(0x880)+_0x17ac3f+'\x20'+simpleMathPrompt,_0x28c303=_0x3f7da0;break;case _0x3659ca(0xae6):_0xff4fa5=_0x3659ca(0x29e)+_0x375d32+'\x20'+_0x198f88['numQuestions']+_0x3659ca(0x6ca)+_0x40fc6f+'\x20'+_0x13cea1+'\x20'+_0x3bfd1c+'\x20'+_0x3612e6+'\x20'+_0x329c05+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x17ac3f+'\x20'+simpleMathPrompt,_0x28c303=_0x2899de;break;}_0x1c2cf3={'type':_0x3659ca(0x9f7),'properties':{'topic':{'type':_0x3659ca(0x5fb)},'questions':{'type':_0x3659ca(0x876),'items':_0x28c303}},'required':[_0x3659ca(0x62b),_0x3659ca(0x9ce)]};}_0x18bab4?(_0xff4fa5=_0x3659ca(0x563)+_0x18bab4+_0x3659ca(0x9c1)+_0xff4fa5,_0x48e6ed=_0x3659ca(0x6ee)):_0x48e6ed='กำลังสร้างแบบทดสอบจากหัวข้อ...';let _0x16763a;return _0x284d47?_0x16763a=[{'text':_0xff4fa5},..._0x284d47]:_0x16763a=_0xff4fa5,handleApiCall(_0x16763a,_0x48e6ed,_0x1c2cf3,_0x16ddd7,!![],_0x4f98e0,_0x2d5e2d);}async function generateQuizFromFile(_0x16d349,_0x3d3472){const _0x4547ed=_0x176601,_0x2bd395=document[_0x4547ed(0x267)]('file-topic-input')[_0x4547ed(0x832)][_0x4547ed(0xa5f)](),_0x33d6a4=document[_0x4547ed(0x267)](_0x4547ed(0x58c))[_0x4547ed(0x832)],_0x43057e=document[_0x4547ed(0x267)](_0x4547ed(0xb73))[_0x4547ed(0x832)],_0x5fa9c4=document[_0x4547ed(0x267)](_0x4547ed(0x666))[_0x4547ed(0x832)],_0x308c7f=document[_0x4547ed(0x267)](_0x4547ed(0x5f1))[_0x4547ed(0x6e2)],_0x34dc2f=document[_0x4547ed(0x267)](_0x4547ed(0x3f9))[_0x4547ed(0x6e2)],_0x1465a2=_0x34dc2f?'':_0x4547ed(0x60b),_0x5b1245=document[_0x4547ed(0x267)]('original-mode-checkbox')[_0x4547ed(0x6e2)];let _0x2a8d41='',_0x59bb0a;const _0x307436=_0x308c7f?_0x4547ed(0x716):'';if(_0x5b1245)_0x2a8d41=_0x4547ed(0x984)+_0x307436+_0x4547ed(0x98b)+simpleMathPrompt+'\x0a',_0x59bb0a={'type':_0x4547ed(0x9f7),'properties':{'questionText':{'type':_0x4547ed(0x5fb)},'questionType':{'type':_0x4547ed(0x5fb),'enum':[_0x4547ed(0x3e7),_0x4547ed(0x477),_0x4547ed(0x9c7),_0x4547ed(0x4ed)]},'options':{'type':'ARRAY','items':{'type':_0x4547ed(0x5fb)}},'correctAnswerIndex':{'type':_0x4547ed(0x1a9)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x4547ed(0x4b4)},'stem':{'type':_0x4547ed(0x5fb)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4547ed(0x876),'items':{'type':_0x4547ed(0x5fb)}},'explanation':{'type':_0x4547ed(0x5fb)},'imageCode':{'type':_0x4547ed(0x5fb)}},'required':[_0x4547ed(0x9c3),_0x4547ed(0x9ff)]};else{let _0x4f23b4=_0x4547ed(0xbc5)+_0x2bd395+'\x22';!_0x2bd395&&(_0x4f23b4=_0x4547ed(0x8f2));switch(_0x33d6a4){case _0x4547ed(0x3e7):_0x2a8d41=_0x4547ed(0xb00)+_0x1465a2+'\x20'+_0x43057e+_0x4547ed(0x1ff)+_0x4f23b4+_0x4547ed(0x274)+_0x5fa9c4+_0x4547ed(0x2d3)+_0x307436+'\x20'+simpleMathPrompt,_0x59bb0a={'type':_0x4547ed(0x9f7),'properties':{'questionText':{'type':_0x4547ed(0x5fb)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4547ed(0x1a9)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4547ed(0x5fb)}},'required':[_0x4547ed(0x911),_0x4547ed(0x61a),'correctAnswerIndex',_0x4547ed(0x9ff)]};break;case'fill_in_with_choices':_0x2a8d41=_0x4547ed(0x6da)+_0x1465a2+'\x20'+_0x43057e+_0x4547ed(0x1ff)+_0x4f23b4+_0x4547ed(0x234)+_0x5fa9c4+_0x4547ed(0xad8)+_0x307436+'\x20'+simpleMathPrompt,_0x59bb0a={'type':_0x4547ed(0x9f7),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4547ed(0x5fb)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4547ed(0x5fb)},'imageCode':{'type':_0x4547ed(0x5fb)}},'required':[_0x4547ed(0x911),_0x4547ed(0x61a),_0x4547ed(0x1f1),_0x4547ed(0x9ff)]};break;case _0x4547ed(0x184):_0x2a8d41=_0x4547ed(0x6da)+_0x1465a2+'\x20'+_0x43057e+'\x20ข้อ\x20'+_0x4f23b4+_0x4547ed(0xba6)+_0x307436+'\x20'+simpleMathPrompt,_0x59bb0a={'type':_0x4547ed(0x9f7),'properties':{'questionText':{'type':_0x4547ed(0x5fb)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4547ed(0x5fb)},'imageCode':{'type':'STRING'}},'required':[_0x4547ed(0x911),_0x4547ed(0x3be),_0x4547ed(0x9ff)]};break;case _0x4547ed(0xb77):_0x2a8d41=_0x4547ed(0x400)+_0x1465a2+'\x20'+_0x43057e+_0x4547ed(0x1ff)+_0x4f23b4+_0x4547ed(0x1ae)+_0x5fa9c4+_0x4547ed(0x351)+_0x307436+'\x20'+simpleMathPrompt+_0x4547ed(0x875),_0x59bb0a={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x4547ed(0x3e7),_0x4547ed(0x477)]},'options':{'type':_0x4547ed(0x876),'items':{'type':_0x4547ed(0x5fb)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4547ed(0x5fb)},'imageCode':{'type':_0x4547ed(0x5fb)}},'required':['questionText',_0x4547ed(0x9c3),_0x4547ed(0x9ff)]};break;case _0x4547ed(0x9c7):_0x2a8d41=_0x4547ed(0xa47)+_0x1465a2+'\x20'+_0x43057e+'\x20ข้อ\x20'+_0x4f23b4+_0x4547ed(0x5b8)+_0x307436+'\x20'+simpleMathPrompt,_0x59bb0a={'type':'OBJECT','properties':{'questionText':{'type':_0x4547ed(0x5fb)},'correctAnswer':{'type':_0x4547ed(0x4b4)},'explanation':{'type':_0x4547ed(0x5fb)},'imageCode':{'type':_0x4547ed(0x5fb)}},'required':[_0x4547ed(0x911),_0x4547ed(0xb9b),_0x4547ed(0x9ff)]};break;case _0x4547ed(0xae6):_0x2a8d41=_0x4547ed(0x29e)+_0x1465a2+'\x20'+_0x43057e+'\x20คู่\x20'+_0x4f23b4+_0x4547ed(0x5cc)+_0x43057e+_0x4547ed(0xb1b)+_0x307436+'\x20'+simpleMathPrompt,_0x59bb0a={'type':_0x4547ed(0x9f7),'properties':{'questionType':{'type':_0x4547ed(0x5fb),'enum':[_0x4547ed(0x4ed)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4547ed(0x5fb)},'allResponses':{'type':'ARRAY','items':{'type':_0x4547ed(0x5fb)}},'explanation':{'type':_0x4547ed(0x5fb)},'imageCode':{'type':_0x4547ed(0x5fb)}},'required':[_0x4547ed(0x9c3),_0x4547ed(0x232),_0x4547ed(0x6a9),_0x4547ed(0x773),_0x4547ed(0x9ff)]};break;}}const _0x3522b8={'type':_0x4547ed(0x9f7),'properties':{'topic':{'type':_0x4547ed(0x5fb)},'questions':{'type':_0x4547ed(0x876),'items':_0x59bb0a}},'required':[_0x4547ed(0x62b),'questions']},_0x4a3b7e=_0x4547ed(0x711)+_0x2a8d41,_0x2604d0={'contents':[{'parts':[{'text':_0x4a3b7e},{'inlineData':{'mimeType':_0x16d349,'data':_0x3d3472}}]}],'generationConfig':{'responseMimeType':_0x4547ed(0x95a),'responseSchema':_0x3522b8}};return handleApiCall(_0x2604d0[_0x4547ed(0xb94)][0x0][_0x4547ed(0x52c)],_0x4547ed(0xbe3),_0x3522b8);}async function handleApiCall(_0x2e7f33,_0x1978e0,_0x474baf,_0x5cc57e=null,_0x54ed96=!![],_0xa0b58a=null,_0x2f07db=null){const _0xcfaf7c=_0x176601,_0x291998=document[_0xcfaf7c(0x267)]('quiz-generation-area'),_0x46db1c=document[_0xcfaf7c(0x267)](_0xcfaf7c(0xa7d)),_0x4d1461=document[_0xcfaf7c(0x267)]('loader-text'),_0x15d204=document[_0xcfaf7c(0x267)]('generated-quiz-container');_0x291998['classList'][_0xcfaf7c(0x167)](_0xcfaf7c(0xbc7));_0x5cc57e===null&&_0x54ed96&&(_0x15d204['innerHTML']='');_0x46db1c[_0xcfaf7c(0x25c)]['remove'](_0xcfaf7c(0xbc7)),_0x4d1461[_0xcfaf7c(0x4c2)]=_0x1978e0,document[_0xcfaf7c(0x267)]('generate-from-topic-btn')['disabled']=!![],document[_0xcfaf7c(0x267)](_0xcfaf7c(0x362))[_0xcfaf7c(0x76a)]=!![],document[_0xcfaf7c(0x267)](_0xcfaf7c(0x691))[_0xcfaf7c(0x76a)]=!![];const _0x507e8f=document[_0xcfaf7c(0x267)](_0xcfaf7c(0x735));if(_0x507e8f)_0x507e8f[_0xcfaf7c(0x76a)]=!![];const _0x4dfb2e=document['getElementById'](_0xcfaf7c(0x8cf));if(_0x4dfb2e)_0x4dfb2e[_0xcfaf7c(0x76a)]=!![];const _0x2d2d63=document['getElementById'](_0xcfaf7c(0xa3a));if(_0x2d2d63)_0x2d2d63[_0xcfaf7c(0x76a)]=!![];try{const _0x23190d={'responseMimeType':_0xcfaf7c(0x95a),'responseSchema':_0x474baf},_0x585e35=Array['isArray'](_0x2e7f33)?_0x2e7f33:[{'text':_0x2e7f33}],_0x1df8c4={'contents':[{'role':_0xcfaf7c(0x82e),'parts':_0x585e35}],'generationConfig':_0x23190d},_0x2c55f9=_0xcfaf7c(0x4ef),_0x3cec9a=_0xcfaf7c(0xb2b)+_0x2c55f9,_0x2ae5b7=await fetch(_0x3cec9a,{'method':_0xcfaf7c(0x176),'headers':{'Content-Type':'application/json'},'body':JSON[_0xcfaf7c(0xbe7)](_0x1df8c4)});if(!_0x2ae5b7['ok']){const _0x4797c2=await _0x2ae5b7[_0xcfaf7c(0x648)]();console[_0xcfaf7c(0xa65)](_0xcfaf7c(0xb6c),_0x4797c2);throw new Error(_0xcfaf7c(0x7c6)+_0x2ae5b7[_0xcfaf7c(0x471)]);}const _0x4bc24c=await _0x2ae5b7[_0xcfaf7c(0xb75)]();if(_0x4bc24c[_0xcfaf7c(0x197)]?.[0x0]?.[_0xcfaf7c(0x50c)]?.['parts']?.[0x0]){let _0xf5f3b9=_0x4bc24c[_0xcfaf7c(0x197)][0x0]['content'][_0xcfaf7c(0x52c)][0x0][_0xcfaf7c(0x648)];if(_0xf5f3b9[_0xcfaf7c(0xa1d)]('```json'))_0xf5f3b9=_0xf5f3b9[_0xcfaf7c(0x76e)](0x7,_0xf5f3b9[_0xcfaf7c(0x2c7)]-0x3)[_0xcfaf7c(0xa5f)]();else _0xf5f3b9[_0xcfaf7c(0xa1d)](_0xcfaf7c(0x27b))&&(_0xf5f3b9=_0xf5f3b9['substring'](0x3,_0xf5f3b9[_0xcfaf7c(0x2c7)]-0x3)[_0xcfaf7c(0xa5f)]());let _0x4caefb=JSON[_0xcfaf7c(0xbe0)](_0xf5f3b9);if(_0x54ed96){if(_0x5cc57e!==null){if(_0x4caefb[_0xcfaf7c(0x9c3)]==='matching_item'){const _0xed2ad0=currentQuizData['questions'][_0xcfaf7c(0x697)](_0x1147f3=>_0x1147f3[_0xcfaf7c(0x6a9)]);_0x4caefb[_0xcfaf7c(0x773)]=_0xed2ad0;const _0x2ad47d=currentQuizData[_0xcfaf7c(0x9ce)][_0x5cc57e][_0xcfaf7c(0x6a9)],_0x2f20e3=_0xed2ad0[_0xcfaf7c(0x44a)](_0x2ad47d);_0x2f20e3>-0x1&&(_0xed2ad0[_0x2f20e3]=_0x4caefb[_0xcfaf7c(0x6a9)]),currentQuizData['questions'][_0xcfaf7c(0x523)](_0x894920=>{const _0x52d340=_0xcfaf7c;if(_0x894920['questionType']===_0x52d340(0x4ed))_0x894920[_0x52d340(0x773)]=_0xed2ad0;});}currentQuizData['questions'][_0x5cc57e]=_0x4caefb,displayGeneratedQuiz(currentQuizData,_0xa0b58a,_0x2f07db);}else{currentQuizData=_0x4caefb;const _0x36b58a=document[_0xcfaf7c(0x267)](_0xcfaf7c(0x58c))['value'];currentQuizData['quizType']=_0x36b58a,currentQuizData[_0xcfaf7c(0x9ce)]&&currentQuizData[_0xcfaf7c(0x9ce)][_0xcfaf7c(0x523)](_0x42e6e2=>{const _0x22f548=_0xcfaf7c;if(!_0x42e6e2[_0x22f548(0x9c3)]){if(_0x36b58a===_0x22f548(0x53c))_0x42e6e2[_0x22f548(0x9c3)]=_0x22f548(0x3e7);else{if(_0x36b58a==='fill_in_no_choices')_0x42e6e2['questionType']=_0x22f548(0x477);else _0x42e6e2[_0x22f548(0x9c3)]=_0x36b58a;}}}),displayGeneratedQuiz(currentQuizData,_0xa0b58a,_0x2f07db);}}return _0x4caefb;}else{let _0x580152='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x4bc24c[_0xcfaf7c(0x9f3)]?.['blockReason'])_0x580152=_0xcfaf7c(0x668)+_0x4bc24c[_0xcfaf7c(0x9f3)][_0xcfaf7c(0x69c)]+'.';else _0x4bc24c[_0xcfaf7c(0x197)]?.[0x0]?.[_0xcfaf7c(0x24f)]&&_0x4bc24c['candidates'][0x0][_0xcfaf7c(0x24f)]!==_0xcfaf7c(0x1f3)&&(_0x580152=_0xcfaf7c(0xa9d)+_0x4bc24c['candidates'][0x0][_0xcfaf7c(0x24f)]+'.');console[_0xcfaf7c(0xa65)](_0x580152,JSON[_0xcfaf7c(0xbe7)](_0x4bc24c));throw new Error(_0x580152);}}catch(_0x103168){console[_0xcfaf7c(0xa65)](_0xcfaf7c(0xbed),_0x103168),showMessage(_0xcfaf7c(0x40d)+_0x103168['message']);_0x5cc57e===null&&_0x54ed96&&(_0x15d204[_0xcfaf7c(0xab8)]=_0xcfaf7c(0xa51));throw _0x103168;}finally{_0x46db1c[_0xcfaf7c(0x25c)]['add'](_0xcfaf7c(0xbc7)),document[_0xcfaf7c(0x267)]('generate-from-topic-btn')['disabled']=![],document[_0xcfaf7c(0x267)](_0xcfaf7c(0x362))[_0xcfaf7c(0x76a)]=![],document[_0xcfaf7c(0x267)](_0xcfaf7c(0x691))[_0xcfaf7c(0x76a)]=![];if(_0x507e8f)_0x507e8f[_0xcfaf7c(0x76a)]=![];if(_0x4dfb2e)_0x4dfb2e[_0xcfaf7c(0x76a)]=![];if(_0x2d2d63)_0x2d2d63[_0xcfaf7c(0x76a)]=![];}}function exitFullscreen(){const _0x2c9b53=_0x176601;if(document[_0x2c9b53(0x5a5)])document[_0x2c9b53(0x5a5)]()['catch'](_0x2f4dab=>console[_0x2c9b53(0xa65)](_0x2f4dab));else{if(document[_0x2c9b53(0x512)])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x377a68=_0x176601,_0x1eaa3e=document[_0x377a68(0x441)];if(_0x1eaa3e[_0x377a68(0x265)])_0x1eaa3e['requestFullscreen']()[_0x377a68(0x1f7)](_0x3d4f88=>{const _0x21cf70=_0x377a68;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x3d4f88['message']+'\x20('+_0x3d4f88[_0x21cf70(0x6be)]+')');});else{if(_0x1eaa3e[_0x377a68(0x1ed)])_0x1eaa3e[_0x377a68(0x1ed)]();else _0x1eaa3e[_0x377a68(0x7a5)]&&_0x1eaa3e[_0x377a68(0x7a5)]();}}function handleCheatingEvent(){const _0x247d9a=_0x176601;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x247d9a(0x1e5),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x247d9a(0x20b)+maxCheatAttempts+_0x247d9a(0x34b)),document['getElementById'](_0x247d9a(0xac2))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x247d9a(0x4cc)](_0x247d9a(0x558),handleVisibilityChange),document[_0x247d9a(0x4cc)](_0x247d9a(0x8cb),handleFullscreenChange)):showMessage(_0x247d9a(0x9ef)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2df5b5=_0x176601;if(currentMode===_0x2df5b5(0x40a)||!isQuizActive)return;if(document[_0x2df5b5(0xa62)]===_0x2df5b5(0xbc7))handleCheatingEvent();else document[_0x2df5b5(0xa62)]===_0x2df5b5(0xbb7)&&(console[_0x2df5b5(0x469)](_0x2df5b5(0x2fc)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x42a6ed=_0x176601;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x42a6ed(0xbb1)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x38e574,_0xd0af5a=null,_0x56f03d=null){const _0x563793=_0x176601,_0x5ecc47=document[_0x563793(0x267)](_0x563793(0x581));let _0x4bad7e=_0x563793(0xa88)+_0x38e574[_0x563793(0x62b)]+_0x563793(0xba7);_0x38e574[_0x563793(0x9ce)][_0x563793(0x523)]((_0x33f2c6,_0x66e3f3)=>{const _0x129a62=_0x563793;!_0x33f2c6['id']&&(_0x33f2c6['id']='q_'+Date['now']()+'_'+_0x66e3f3);const _0x429717=_0x33f2c6[_0x129a62(0x9c3)]||_0x38e574[_0x129a62(0x84e)];_0x4bad7e+=_0x129a62(0xba9)+_0x66e3f3+_0x129a62(0x620)+_0x66e3f3+_0x129a62(0x723)+_0x66e3f3+_0x129a62(0x822);switch(_0x429717){case _0x129a62(0x4ed):_0x4bad7e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x66e3f3+'\x22>'+(_0x66e3f3+0x1)+'.\x20'+_0x33f2c6['stem']+_0x129a62(0xa5b);_0x33f2c6['imageCode']&&(_0x4bad7e+=_0x129a62(0x246)+_0x66e3f3+_0x129a62(0x7bb)+_0x33f2c6['imageCode']+_0x129a62(0xba1));_0x4bad7e+=_0x129a62(0xbcb)+_0x66e3f3+'\x22>'+_0x33f2c6[_0x129a62(0x6a9)]+_0x129a62(0x445),_0x4bad7e+=_0x129a62(0x53e)+_0x66e3f3+'\x22>'+_0x33f2c6['explanation']+_0x129a62(0x445);break;case _0x129a62(0x477):_0x4bad7e+=_0x129a62(0x618)+_0x66e3f3+'\x22>'+(_0x66e3f3+0x1)+'.\x20'+_0x33f2c6[_0x129a62(0x911)]+'</p>';_0x33f2c6[_0x129a62(0x9ed)]&&(_0x4bad7e+=_0x129a62(0x246)+_0x66e3f3+_0x129a62(0x7bb)+_0x33f2c6[_0x129a62(0x9ed)]+_0x129a62(0xba1));_0x4bad7e+=_0x129a62(0x621)+_0x66e3f3+'\x22>'+_0x33f2c6[_0x129a62(0x3be)]+_0x129a62(0x445),_0x4bad7e+=_0x129a62(0x53e)+_0x66e3f3+'\x22>'+_0x33f2c6[_0x129a62(0x9ff)]+_0x129a62(0x445);break;case _0x129a62(0x9c7):_0x4bad7e+=_0x129a62(0x618)+_0x66e3f3+'\x22>'+(_0x66e3f3+0x1)+'.\x20'+_0x33f2c6['questionText']+_0x129a62(0xa5b);_0x33f2c6[_0x129a62(0x9ed)]&&(_0x4bad7e+=_0x129a62(0x246)+_0x66e3f3+_0x129a62(0x7bb)+_0x33f2c6['imageCode']+_0x129a62(0xba1));_0x4bad7e+=_0x129a62(0x7ba)+(_0x33f2c6[_0x129a62(0xb9b)]===!![]?_0x129a62(0x307):'')+_0x129a62(0x3dd)+(_0x33f2c6[_0x129a62(0xb9b)]===![]?_0x129a62(0x307):'')+_0x129a62(0xb84),_0x4bad7e+=_0x129a62(0x53e)+_0x66e3f3+'\x22>'+_0x33f2c6['explanation']+_0x129a62(0x445);break;case'fill_in_the_blank':case _0x129a62(0x3e7):default:_0x4bad7e+=_0x129a62(0x618)+_0x66e3f3+'\x22>'+(_0x66e3f3+0x1)+'.\x20'+_0x33f2c6['questionText']+_0x129a62(0xa5b);_0x33f2c6['imageCode']&&(_0x4bad7e+=_0x129a62(0x246)+_0x66e3f3+_0x129a62(0x7bb)+_0x33f2c6['imageCode']+_0x129a62(0xba1));_0x4bad7e+=_0x129a62(0xbfc)+_0x66e3f3+_0x129a62(0x7a7)+(_0x33f2c6[_0x129a62(0x61a)]||[])[_0x129a62(0x697)]((_0x4e1006,_0x3615a1)=>_0x129a62(0x611)+(_0x3615a1===_0x33f2c6['correctAnswerIndex']?_0x129a62(0x307):'')+'\x22>'+_0x4e1006+_0x129a62(0x3a9))[_0x129a62(0x706)]('')+_0x129a62(0xaf8),_0x4bad7e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x66e3f3+'\x22>'+_0x33f2c6[_0x129a62(0x9ff)]+_0x129a62(0x445);break;}_0x4bad7e+=_0x129a62(0xba1);}),_0x4bad7e+=_0x563793(0x2c2),_0x5ecc47[_0x563793(0xab8)]=_0x4bad7e,document[_0x563793(0x6d4)](_0x563793(0x617))[_0x563793(0x523)](_0xa70580=>_0xa70580[_0x563793(0xbb9)](_0x563793(0x292),handleEditQuestion)),document['querySelectorAll'](_0x563793(0x5e4))[_0x563793(0x523)](_0x46d1e0=>_0x46d1e0[_0x563793(0xbb9)](_0x563793(0x292),handleRegenerateQuestion)),document[_0x563793(0x267)](_0x563793(0x4f2))[_0x563793(0xbb9)](_0x563793(0x292),exportQuizAsWorksheetPDF),document[_0x563793(0x267)]('verify-answers-btn')[_0x563793(0xbb9)](_0x563793(0x292),handleVerifyAnswers);const _0x24287a=document[_0x563793(0x267)](_0x563793(0xb53));if(_0x24287a){const _0x37dbd9=_0xd0af5a||currentProjectId;_0x24287a[_0x563793(0xbb9)](_0x563793(0x292),()=>saveQuiz(_0x37dbd9,_0x56f03d));}if(window[_0x563793(0xb72)])window['MathJax'][_0x563793(0x5bf)]([_0x5ecc47]);}function handleRegenerateQuestion(_0x151c6b){const _0x20507e=_0x176601,_0x45ea8d=_0x151c6b['currentTarget'][_0x20507e(0x89d)][_0x20507e(0x9ad)],_0x1ab7d2=currentQuizData[_0x20507e(0x62b)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x45ea8d)+0x1)+_0x20507e(0x5b4)),generateQuiz(_0x1ab7d2,null,parseInt(_0x45ea8d));}function getPointerPosition(_0x58314f,_0x18dc80){const _0x169ceb=_0x176601,_0x353d42=_0x58314f[_0x169ceb(0x496)]();let _0x5ef006,_0x557a38;return _0x18dc80[_0x169ceb(0xae2)]&&_0x18dc80[_0x169ceb(0xae2)][_0x169ceb(0x2c7)]>0x0?(_0x5ef006=_0x18dc80[_0x169ceb(0xae2)][0x0][_0x169ceb(0x200)],_0x557a38=_0x18dc80['touches'][0x0][_0x169ceb(0xa18)]):(_0x5ef006=_0x18dc80['clientX'],_0x557a38=_0x18dc80[_0x169ceb(0xa18)]),{'x':(_0x5ef006-_0x353d42['e'])/_0x353d42['a'],'y':(_0x557a38-_0x353d42['f'])/_0x353d42['d']};}function startDrag(_0x46dbd4){const _0x213336=_0x176601;_0x46dbd4[_0x213336(0x633)]==='touchstart'&&_0x46dbd4[_0x213336(0x417)]();const _0x3dd68e=_0x46dbd4[_0x213336(0x763)][_0x213336(0x9c6)](_0x213336(0x819));if(_0x3dd68e){draggedSvgElement=_0x3dd68e;const _0x491893=draggedSvgElement['ownerSVGElement'],_0xf6a1a7=getPointerPosition(_0x491893,_0x46dbd4);svgOffset['x']=_0xf6a1a7['x']-parseFloat(draggedSvgElement[_0x213336(0x341)](null,'x')),svgOffset['y']=_0xf6a1a7['y']-parseFloat(draggedSvgElement[_0x213336(0x341)](null,'y'));}}function _0x8f9e(){const _0x528e84=['correctAnswer','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','short','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','</div>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','confirm-global-live-btn','<option\x20value=\x22','</p><div>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','</h3>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','bg-green-200\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','เกิดข้อผิดพลาดในการปักหมุด','open','</tbody></table>','sync-manage-players-btn','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','fullscreenElement','release','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</button>','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','pen-tool-btn','visible','ลบโปรเจคสำเร็จแล้ว','addEventListener','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','กำลังสร้างรูปภาพ...','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','Error\x20rendering\x20student\x20progress:','bp-project-title','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนคละ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','applicationContent','starred-project','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x22','Failed\x20to\x20create/update\x20submission\x20record:','hidden','ดีมาก','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','custom-math-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/submissions','size','sin','suggestedAnswer','blueprint-tab','student-initial-view','next-sync-question-btn','การสร้างรูปด้วยวงเวียน–สันตรง','sync-player-management','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','พื้นที่วงกลม/ส่วนของวงกลม','leaderboard_','bp-topic-list-container','floor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','modal-confidence-mode-container','AI\x20แก้ไขคำถามสำเร็จ!','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','#10B981','border-green-300\x20bg-green-50','ไม่พบโปรเจค','stringify','ก่อนเรียน','\x22\x20name=\x22confidence','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20preparing\x20content-based\x20quiz:','generated','Error\x20in\x20handleApiCall:','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','touchstart','กรุณาเลือกชื่อของคุณ','createObjectURL','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','หลังเรียน','ระบบอสมการ','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20toggling\x20pin\x20status:','ref','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','students','title','project-detail','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','topic-input-area','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','docs','bg-green-500','start-game-btn','deselect-all-topics-btn','smooth','Error\x20duplicating\x20quiz:','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','สมมาตร\x20(แกน/จุด)','passcode','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','both','sara','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','date_desc','open-global-live-btn','ข้อที่\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','results-quiz-title','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','เปิด\x20(จับเวลา)','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','ราชาคัมแบ็ก','remove','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','fa-crown\x20text-yellow-500','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startedAt','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','บันทึกการตั้งค่าแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','.color-palette-btn','พื้นที่ผิวรูปทรงสามมิติ','POST','reset-project-order-btn','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','.isScored','confirm-join-game-btn','เกิดข้อผิดพลาดในการบันทึกโปรเจค','(ก่อนเรียน)\x20','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x22\x20data-topic=\x22','\x22\x20class=\x22color-palette-btn\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','.pen-size-btn','times','fill_in_no_choices','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','right','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','shuffleSetting','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','แก้ไขชื่อหัวข้อย่อย:','Error\x20deleting\x20submission:','per_question','bg-green-200\x20text-green-800','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x20หัวข้อ)','กราฟแท่ง\x20กราฟเส้น','.view-bp-lesson-btn','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','ส่วนเบี่ยงเบนเฉลี่ย','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','far\x20fa-star','input[type=\x22text\x22]','ยังไม่ส่ง','sqrt','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode-switcher-btn','difficulty-level-select','lowerGroupNames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20game\x20results:','getBBox','.lastAnswerIndex','_opt1\x22>ไม่ใช่</label></div>','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div></div>','2-digit','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','upper_group_count','show_results_and_answers','\x22\x20ให้เป็นคำถามประเภท\x20\x22','pointsLastQuestion','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','text-green-600','add-from-global-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','standardTopic','SAFETY','เปลี่ยนชื่อโปรเจคสำเร็จ','873378AKCvPC','00:00','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','คะแนน','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','file-topics-list','shadowColor','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cursor','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','save-quiz-edits-btn','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','student-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','พื้นที่สามเหลี่ยม','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x20O-NET\x20ป.6','on_fire','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','hasPerfectScoreBonus','\x22\x20value=\x22true\x22\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','slice','live-player-management','<br>','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','student','.move-quiz-btn','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','[data-topic-id]','การแจกแจงทวินาม\x20(พื้นฐาน)','เมทริกซ์:\x20บวก/คูณ','เพิ่มรายการที่เลือก','screen_exit','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','สมการค่าสัมบูรณ์','กรุณาสร้างบทเรียนก่อน','trail','/public/data/teamQuizzes','Error\x20saving\x20blueprint\x20project:',';\x22\x20data-id=\x22','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','ฟังก์ชันราก\x20(root)','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswerIndex','#6366F1','STOP','จับคู่เพื่อเปรียบเทียบผล','</span></td>','ระยะเวลา\x20(วินาที):','catch','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','not-found','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','แก้ระบบสมการด้วยเมทริกซ์','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','admin-password-input','\x20ข้อ\x20','clientX','none','commit','แบบทดสอบจากคลังส่วนตัว','resultsDisplay','.png','3.\x20วิเคราะห์\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจสไตล์และระดับความยาก','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','ตรวจคะแนนใหม่\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','editor-quiz-topic','ตรวจพบการออกจากหน้าจอครบ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-global-live-btn','27411472','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','key','เรเดียนและการแปลงหน่วย','กำลังเตรียมไฟล์\x20Test\x20Blueprint...','wheel','jspdf','รอเปิด','Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','width','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22checkbox\x22]:checked','confirm-team-players-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bulk-results-display-select','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','ถูกต้อง!','Unexpected\x20API\x20response\x20structure:','ค่าความจริง/ตารางค่าความจริง','kick-player-btn','Error\x20linking\x20quizzes:','bp-modal-num-choices','has','originalQuestionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีผู้ตอบตัวเลือกนี้','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','modal-shuffle-select','.delete-quiz-btn','Error\x20updating\x20pin\x20status:','</select>','passingScore','หยุดระบบจับเวลาหรี่หน้าจอ','อัตราและอัตราหน่วย','stem','autoTable','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','text-content-input','Invalid\x20response\x20structure\x20from\x20API.','จำนวนเต็มลบ','Error\x20updating\x20old\x20quizzes:','กำลังอ่านและเตรียมไฟล์...','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lessonPlan','default','ลบแบบทดสอบสำเร็จแล้ว','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','quiz-bank-modal','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','timestamp','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','การกระจายและการจัดหมู่','insertBefore','บันทึกแบบทดสอบสำเร็จแล้ว!','<div\x20id=\x22q-image-container-','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','replace','1037345SfLWuw','เลือกและบันทึก','ดอกเบี้ยอย่างง่าย','generated-quiz-actions','finishReason','answering','bg-green-100\x20font-bold','</div><div\x20class=\x22space-y-2\x22>','lobby','.ideal-answer-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','confidence','Error\x20loading\x20user\x20preferences:','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','classList','thead\x20.sortable-header','export-lesson-to-pdf-btn','พื้นที่สี่เหลี่ยม','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','podium','บันทึกการตั้งค่าสำเร็จ','export-pdf-btn','input[name=\x22question_single\x22]:checked','requestFullscreen','parent','getElementById','true','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','text-blue-700\x20bg-blue-100','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','isCorrect','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','student-view','สัญกรณ์วิทยาศาสตร์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','จุด\x20เส้น\x20ระนาบ','ตั้งเวลา\x20(เปิด)','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','export-pdf-modal','document','ไม่สามารถโหลดข้อมูลอันดับได้','```','live-player-list','ผ่านฉลุย','พบ\x20Sync\x20Game!','input','toLowerCase','.question-editor-item','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','file-upload-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x20\x20\x20-\x20','\x5cpm','ส่งคำตอบ','createdAt','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<h1></h1>','pointercancel','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','สู้ๆ\x20ลองอีกครั้งนะ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','click','live-game','cancel-manual-bp-btn','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','input[type=\x22radio\x22][value=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence_single','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการบันทึกลำดับ','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','upperGroupNames','สร้างชุดคำถามจับคู่','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','pop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','text-emerald-900','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bulk-quiz-settings-btn','บทเรียนเรื่อง:\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','input[type=\x22checkbox\x22]','text-indigo-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','Error\x20regenerating\x20question\x20in\x20editor:','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','.ai-content\x20p','ยกเลิกการจับคู่สำเร็จ','thead','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','เซียนสมองไว','bottom','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','สร้างใหม่','/public/data/projects/','156cZYRnR','export-leaderboard-excel-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','answer','isFinished','bg-red-200\x20text-red-800','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','สร้างแล้ว','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','results-table-container','length','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','คะแนนเฉลี่ย','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','mode','select','handleGenerateAndShowLesson','ไม่ใช่\x20/\x20ผิด','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','project-passcode-modal','lesson-loader-text','team-student-list','wasConfident','คะแนนเต็ม','setAttribute','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','quadraticCurveTo','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','choices_only','</body></html>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','cancel-team-selection-btn','tGain','close-lesson-plan-modal-btn','td,\x20th','quick_thinker','live-race','fa-pen','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','mouse','projectName','lineWidth','Error\x20showing\x20quiz\x20detail\x20view:','fix\x20the\x20option','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','MathJax\x20typeset\x20error\x20(analytics):','.ai-fix-question-btn','\x20จาก\x20','select-all-topics-btn','.quiz-bank-item','approx','บันทึกผลการเล่นเกมของ\x20','Failed\x20to\x20get\x20hint:','</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','เส้นตรง:\x20ขนาน/ตั้งฉาก','transition-all','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isConfidenceScoringEnabled','earned-badges-container','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','curriculum','timerMode','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','text-green-600\x20font-bold','<div\x20class=\x22my-2\x22>','not_confident','standard','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','#26890c','retake-quiz-loop-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin','text-red-500\x20hover:text-red-700','พาราโบลา','quiz-leaderboard-table-body','border-red-700','teacherTips','.subTopic','toDataURL','keyup','start-presentation-btn','แบบทดสอบที่ติดดาว','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isStarred','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.bp-delete-topic-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บทเรียน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','กรุณาใส่ชื่อโปรเจค','Firebase\x20initialization\x20failed:','export-image-btn','bp-modal-difficulty-level-select','Error\x20creating\x20project:','comparison-overall-content','add-student-btn','submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','Failed\x20to\x20generate\x20practice\x20test:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','modal-confidence-mode-select','Error\x20generating\x20lesson\x20plan:','.quiz-bank-present-btn','fa-dumbbell\x20text-gray-700','scratchpad-close-btn','#view-rankings-btn','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','<div\x20class=\x22flex-1\x22></div>','สเกลและแผนที่','bg-gray-500','frac','\x203.\x20\x20**[กฎรูปแบบ]\x20','.sortable-header','.admin-try-quiz-list-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','getAttributeNS','totalQuestions','%</span>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','confidence-choice-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้เชี่ยวชาญ','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','เกิดข้อผิดพลาดในการเข้าร่วมเกม','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก.\x20','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','reset-view-btn','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','N/A','confirm-delete-btn','team-player-status-grid','สอบปกติ','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','กำลังสร้างเนื้อหา:\x20','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','first_try_ace','ระยะเวลา\x20(นาที):','generate-from-text-btn','.scratchpad-content-wrapper','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','toFixed','button[data-id]','Error\x20updating\x20project\x20color:','editable-text-','ฟังก์ชันสัมพัทธ์\x20(rational)','แผนภาพเวนน์','เลือกและเริ่มสร้าง','confirm-link-quiz-btn','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','comparison-overall-tab','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','Test\x20Blueprint','ไม่พบตารางสำหรับ\x20Export','อินเวอร์สของเมทริกซ์','หน่วยมวล/น้ำหนักและการแปลง','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','อยู่ในสาระการเรียนรู้ใด:','timer-mode-select','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-live-btn','\x5csqrt{$1}','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','back-to-results-btn','ศูนย์','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22pin-project-btn\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','appendChild','ไฮเพอร์โบลา','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','text-white','คำถามถัดไป','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','open-scratchpad-btn','Team\x20Quiz','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isScored','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','num-choices-container','no-projects-msg','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','q-text-','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','height','questionIndex','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','separate-by-content-checkbox','back-to-dashboard-btn','onchange','setTransform','กรุณาเลือกโปรเจคก่อน','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','การลบเศษส่วน','write','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','idealAnswer','localeCompare','\x22><span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','Auto-linking\x20new\x20quiz\x20','<textarea\x20name=\x22question','.flex.justify-between.items-center','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x20|\x20ID:\x20','ตรวจทานเฉลยเสร็จสิ้น!','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','auto','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','results-display-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','student-progress','timer-container','กฎบวกและกฎคูณ','bg-indigo-600\x20hover:bg-indigo-700','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','project-quizzes-list','.generate-content-btn','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.edit-custom-topic-btn','latestScore','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','match','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','PERSEVERANCE','application','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','เกิดข้อผิดพลาดในการลบหัวข้อ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีคุณสมบัติดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20a.\x20\x20**[กฎที่สำคัญที่สุด]**\x20จำนวนข้อสอบรวม\x20และจำนวนข้อในแต่ละรูปแบบ\x20**ต้องตรงกับตัวเลขที่คุณวิเคราะห์ได้จาก\x20Test\x20Blueprint\x20ในข้อ\x201\x20ทุกประการ**\x20ห้ามสร้างข้อสอบเกินหรือขาดจากจำนวนนี้อย่างเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b.\x20\x20**ต้องเรียงลำดับคำถามตามรูปแบบ**\x20ที่ระบุใน\x20Blueprint\x20(เช่น\x20ปรนัยทั้งหมดก่อน,\x20ตามด้วยระบายตัวเลข)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.\x20\x20**สำหรับรูปแบบ\x20\x27ถูก/ผิด\x27\x20(ถ้ามี):**\x20ต้องสร้างเป็นประโยคบอกเล่า\x20(Statement)\x20ห้ามสร้างเป็นคำถามให้คำนวณหาค่า\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.\x20\x20ต้องครอบคลุมเนื้อหาตามสาระการเรียนรู้ที่กำหนด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e.\x20\x20ต้องสร้างสรรค์โจทย์\x20ไม่ซ้ำซากจำเจ\x20และเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','players','progress-student-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','multiple_choice','inactive','submissions','scratchpad-clear-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','innerText','text-gray-300\x20hover:text-white','resize','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','PERFECT_SCORE','confirm-move-quiz-btn','ฟังก์ชันเชิงเส้นและกราฟ','parseFromString','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','worksheet-topic-input','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','force-math-checkbox','ความแปรปรวน','-options','bg-blue-100','projectOrder','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','สร้างแบบทดสอบ','21kXNTsX','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','interesting-stats-container','lesson-sections-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','.start-game-btn','bulk-quiz-settings-modal','touchend','admin-testing','firstScore','ON_FIRE','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isLooping','เพิ่มหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','print','passcode-prompt-message','th-TH','answer-grid-container','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','preventDefault','lowerGroupResponders','.live-answer-btn','team','fill','ไม่มี','Error\x20generating\x20from\x20link:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','cancel-test-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','icon','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','submit-group-answer-btn','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','ทฤษฎีบทพื้นฐานของแคลคูลัส','#FEE2E2','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',')\x22>','.quiz-status-btn','temp-loader-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dfrac','memory','Error\x20starting\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','next-drill-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','ร้อยละประยุกต์','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','สรุปผลการวิเคราะห์:\x5cn','answerValue','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','analytics-tab-btn','\x20quizzes\x20into\x20global\x20cache.','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','rgba(239,\x2068,\x2068,\x200.7)','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','documentElement','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','การยืนยันตัวตนล้มเหลว','อุณหภูมิและการแปลง','</span></div>','Action:\x20Create\x20content-based\x20Quiz.','แก้ไขสูตรคณิตศาสตร์\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22font-bold\x20text-sm\x20','indexOf','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','check-answer-btn','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','summaryContent','ทศนิยม\x20(ค่าประจำหลัก)','เกิดข้อผิดพลาดในการอัปเดต:\x20','save-bp-settings-btn','กรุณาพิมพ์คำตอบของกลุ่ม','ปรับเพิ่ม/ลดเป็นร้อยละ','selectedTopicNames','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ',',\x20r=','qType','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','link-topic-input','parallel-test-upload-input','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','move','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','bulk-confidence-scoring-checkbox','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเท่ากันทุกประการของสามเหลี่ยม','วงรี','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','log','bank-quiz-search-input','reduce','กำลังโหลดคลังข้อสอบทั้งหมด...','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','[data-field=\x22subTopic\x22]','status','btn','text-indigo-600','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','results','onclick','short_answer','\x5cneq','toDate','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเชิงซ้อน\x20(เสริม)','confirm-game-start-btn','(ฉบับง่าย)\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','ยังไม่เต็มนะ','timer-bar','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xl\x22>','.save-custom-topic-btn','Error\x20submitting\x20group\x20answer:','join-group-activity-btn','text-red-900','\x0a---\x0a','bp-modal-question-complexity-select','behavior-log','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x27,\x20\x27','max','leaderboard-tab','bar','backgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','getScreenCTM','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','currentTarget','quizId','promise','confirm-manual-bp-btn','pen-tools-group','opacity','.question-editor-item[data-q-index=\x22','จัดการ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','bg-green-200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','line-through\x20text-red-700','ไม่พบข้อมูลข้อสอบหลังเรียน','comparison-modal','lesson-loader','<button\x20id=\x22','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','ย้ายแบบทดสอบไปโปรเจคอื่น','-tab-content','modal-timer-mode-select','ai-quiz-app-aefee.firebasestorage.app','\x20คะแนน\x20','BOOLEAN','exists','redo-btn','การแยกตัวประกอบ','complexityValue','medium','prev-question-btn','getElementsByTagName','shadowBlur','includes','กลุ่ม:\x20','จำนวนคู่:','touchmove','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','textContent','bg-blue-100\x20text-blue-800','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','nickname-input','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','viewBox','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','FIRST_TRY_ACE','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','removeEventListener','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','save-project-name-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','reveal-answer-btn','mandatory','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','behavior-log-container','post-test','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','sync-player-list','copy-quiz-id-btn','Error\x20saving\x20quiz\x20edits:','verify-answers-editor-btn','.quiz-bank-delete-btn','#confidence-input-','.generate-easy-version-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยกเลิกการเชื่อมโยงสำเร็จ','หมดเวลา!\x20กำลังส่งคำตอบ...','.summary-bar-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','timer-duration-label','analytics-summary-cards','translate','อนุพันธ์:\x20กฎลูกโซ่','ไม่ได้ตอบ','ใช่\x20/\x20ถูก','matching_item','กรุณาใส่ชื่อใหม่','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','export-worksheet-pdf-btn','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','topicId','lesson-view-content','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','เกิดข้อผิดพลาด:\x20','ค่าเสื่อมราคา','text-purple-600','draggable-text','Error\x20opening\x20quiz\x20editor:','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.parallel-quiz-btn','comparison-individual-tab','.toggle-actions-btn','คณิตการเงิน/บูรณาการ','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','strength-weakness-analysis-container','\x22...','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','.bp-open-topic-bank-btn','.pdf','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','ชนิดของข้อมูลและการเก็บข้อมูล','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','list-view-btn','webkitExitFullscreen','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','preScore','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','fadeStartTime','adaptive-quiz-checkbox','Error\x20listening\x20for\x20custom\x20math\x20topics:','close-comparison-modal-btn','focus','desc','รูปหลายเหลี่ยมและมุมภายใน','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','ไม่พบข้อมูลแบบทดสอบ','text-red-300\x20hover:text-red-100','forEach','Error\x20generating\x20from\x20blueprint:','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','.topic-row','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','getContext','\x5ccdot','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','parts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','strokeStyle','isNormalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','Error\x20starting\x20group\x20quiz:','bg-yellow-100','hover:bg-indigo-100','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','เกิดข้อผิดพลาดในการส่งคำตอบ','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game-view','fill_in_with_choices','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','</option>','สุดยอด!\x20ตอบถูกทุกข้อ','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','submission-status-chart','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','blueprint-project-list','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','.quiz-settings-btn','Sync\x20Mode','finished','test','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','rgba(79,\x2070,\x20229,\x201)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','lineCap','ผู้ไม่ยอมแพ้','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','offset','จำนวนข้อ:','afterend','cancel-rename-quiz-btn','summary_chart','visibilitychange','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','สมการยกกำลัง','ไม่ผ่าน','สร้างแบบทดสอบจากเนื้อหาในบทเรียน','lesson-plan-content','<i\x20class=\x22fas\x20fa-pen\x22></i>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','admin-try-quiz-btn','Error\x20verifying\x20answers:','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','จากเนื้อหาต่อไปนี้:\x20\x22','ยืนยันการจับคู่','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','input[name=\x22status-option\x22]:checked','results_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','ฟังก์ชันลอการิทึม','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','text-indigo-800','ยังไม่สร้าง','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22font-bold\x20','Error\x20fetching\x20quiz\x20settings:','กำลังอัปเดตแบบทดสอบ\x20','quiz-results-table-body','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','removeChild','Error\x20processing\x20file\x20for\x20AI:','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','border-gray-200','geq','generated-quiz-container','subTopics','bp-modal-num-questions','next-question-btn','Error\x20editing\x20topic:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x20mb-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','quiz-type-select','Error\x20starting\x20game:','style','highlighter-size-slider','COMEBACK_KING','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','topic-tab','\x20from\x20sync\x20game:','overline','\x22\x20ออกจากคลังนี้?','Error\x20calling\x20Gemini\x20API:','บันทึกโปรเจค\x20\x22','view-my-progress-btn','font-bold\x20text-green-700','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','Error\x20loading\x20quiz\x20for\x20student:','ดีเทอร์มิแนนต์','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','จับคู่แบบทดสอบสำเร็จ!','ข้อ\x20','getDocument','globalSettings','ส่วนเบี่ยงเบนมาตรฐาน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','exitFullscreen','display','ดอทโปรดักต์\x20(dot)','topic-bank-list','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-dashboard','\x20ชุด)','sync-short-answer-input','.sort-indicator','.ai-content\x20td','.doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.open-bp-project-btn','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ใหม่...','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','quiz','(ก่อนเรียน)','min','toString','/public/data/syncGames','cancel-move-quiz-btn','typesetPromise','numChoices','some','comeback_king','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','parallel-test-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','confidenceMode','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','กำลังค้นหากิจกรรม...','correct','.kick-player-btn-sync','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','start-quiz-btn','Error\x20generating\x20teaching\x20content:','กรุณาเลือกโปรเจคที่ต้องการบันทึก','globalCompositeOperation','workerSrc','scrollIntoView','เกิดข้อผิดพลาดในการนำผู้เล่นออก','transform','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pow','show_pass_fail_only','.topic-actions-edit','เปิดใช้งาน','linkedQuizIds','modal-passing-score-input','fa-shield-alt\x20text-gray-600','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses.','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','/public/data/customMathTopics','.regenerate-question-btn','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','half_mark_status','instructions','/preferences/main','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','Error\x20updating\x20quiz\x20status:','student-quiz-topic','.live-answer-btn,\x20#live-submit-short-answer-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','timer-duration-container','ดูผลสรุปสุดท้าย','.live-summary-tooltip.visible','include-images-checkbox','cdot','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ใช่','55yFTxmM','team-quiz-topic','projectSort','answeredCurrentQuestion','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','.compare-results-btn','STRING','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','.rename-quiz-btn','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','#F59E0B','project-name-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','isPasscodeEnabled','fas\x20fa-user-edit','(คู่ขนาน)\x20','commonMistakes','start-sync-game-btn','Error\x20adding\x20custom\x20topic:','.answered','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','จำนวนและการดำเนินการ','คณิตศาสตร์','student-project-leaderboard-content','ai-quiz-app-aefee','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','สร้างโปรเจคสำเร็จ!','<li\x20class=\x22','toLocaleDateString','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','p-2\x20bg-black/10\x20rounded-md','เส้นรอบรูป','มัธยฐาน','.edit-question-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','select[name=\x22question_single\x22]','options','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x20รายการ\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','bg-black/10','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','.quiz-bank-try-btn','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','delete-svg-btn','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22><p\x20class=\x22font-semibold\x22>','อัตราส่วนและสัดส่วน','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','Error\x20generating\x20from\x20parallel\x20test\x20file:','rows','เพิ่ม\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','type','bg-green-100\x20text-green-800','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','Error\x20confirming\x20players:','get','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','project-detail-view','contentEditable','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','ไม่สามารถโหลดรายการโปรเจคได้','แบบทดสอบฝึกฝนเรื่อง:\x20','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','includeImages','ไม่พบข้อมูลการจับคู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','scrollY','createElementNS','then','</label></div>','text','perseverance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-view-btn','input[name=\x22drill_answer\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','bg-amber-100\x20text-amber-800','arrayBuffer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','back-to-dashboard-from-results-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','responses','incorrect','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','random','export-lesson-pdf-btn','/users/','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','main-correct-answer-display','Leaderboard\x20update\x20transaction\x20failed:\x20','ไม่พบข้อมูลเกม','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','แผนการสอน:\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','scores-tab-content','#FCE7F3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','num-choices','bg-gray-200\x20text-gray-700','AI\x20request\x20was\x20blocked.\x20Reason:\x20','checkAnswer','ทฤษฎีทวินาม\x20(เบื้องต้น)','stroke','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','เกิดข้อผิดพลาด','projectView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x20คะแนน</span></div>','auto-fix-latex-btn','ตารางความถี่','\x22\x20จำนวน\x20','bp-modal-quiz-type-select','Error\x20displaying\x20blueprint\x20project:','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','manage-tab','separate-by-content-from-file-checkbox','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','practice-topic-btn','confirm-bulk-quiz-settings-btn','description','download','topic_','scratchpad-question','open-blueprint-projects-btn','.ai-content\x20li','Error\x20resetting\x20project\x20order:','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','confidence-scoring-checkbox','ฟังก์ชันผกผัน','confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-color-btn','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','.confidence-choice-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','generate-from-link-btn','.group','.ideal-answer-input,\x20.correct-response-input','readAsDataURL','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','map','badges','ไม่สามารถเริ่มเกมได้','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','live-short-answer-input','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','className','text-yellow-800','<div\x20class=\x22answer-space\x22></div>','question','memoryContent','การนับ','การคูณเศษส่วน','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<svg','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','correctResponse','scheduled','attemptNumber','(เลือกแล้ว\x20','กฎของโคไซน์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','editable-quiz-topic','show-leaderboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','$1\x5c%','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lastAnswerCorrect','substr','upperGroupResponders','project-dashboard-view','bp-modal-shuffle-setting-select','modal-adaptive-quiz-checkbox','handleGenerateQuizFromBlueprintTopic','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','name','currentMode','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','G-V90KRM0L63','studentName','beginPath','text-blue-800','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-modal','\x20คู่\x20','\x20to\x20blueprint\x20topic\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','<tr\x20class=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','querySelectorAll','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-canvas','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','from','สร้างคำถามแบบเติมคำในช่องว่าง','questionDisplayedAt','manage-tab-content','\x20(สำหรับ\x20','math-topic-search-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ถูก','checked','submit-team-answer-btn','top','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','empty','presentation-explanation','การปัดเศษและประมาณค่า','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','Error\x20adding\x20students:','scores-tab-btn','456736fypKgL','.start-live-race-btn','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','<p\x20class=\x22text-2xl\x22>','.project-card-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','bg-red-500','blueprint-input-area','\x20pointer-events-none\x22>','text-gray-200','#DBEAFE','learningGaps','pin','results-table','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-red-100\x20text-red-800','\x20mx-1\x20text-lg\x22></i></span>','responseSchema','mouseup','toLocaleString','name_desc','.lastAnswerValue','back-to-student-initial-btn','quizMode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','#F3E8FF','join','asc','str','อัปเดตแบบทดสอบเก่า\x20','player-count','find','student-progress-view','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','รายการนี้','answer-counter','circ','จากไฟล์ที่แนบมานี้,\x20','<button\x20data-quiz-id=\x22','\x20ตอบ','quiz-editor-questions-container','behaviorLog','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','lineJoin','createElement','เงินงวด\x20(อนุกรมเงินงวด)','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','student-quiz-leaderboard-content','classWeaknesses','px,\x20','Re-grade\x20process\x20failed:','แบบปรนัย\x204\x20ตัวเลือก','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ระยะจากจุดถึงเส้นตรง','topic-quiz-bank-modal','div[data-question-index=\x22','whole_quiz','#E0E7FF','pointerup','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','confirmation-message','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','.lastAnswerCorrect','<span\x20title=\x22','\x22.\x20Ideal\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','generate-from-file-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','per-question-timer-container','ฮิสโตแกรม',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','ผ่าน','change','Error\x20clearing\x20linked\x20quiz:','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','student-reading-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','practiceProblems','33190ZzmRiL','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','scratchpad-modal','.highlighter-color-btn','Error\x20fetching\x20projects\x20for\x20move:','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','transformOrigin','student-team-selection-view',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','$$$1$','export-leaderboard-pdf-btn','move-quiz-project-select','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20เพื่อหา\x20\x22จำนวนข้อสอบรวม\x22\x20และ\x20\x22จำนวนข้อของแต่ละรูปแบบ\x22\x20(เช่น\x20\x22ปรนัย\x204\x20ตัวเลือก\x20...\x2015\x20ข้อ\x22,\x20\x22ระบายตัวเลข\x20...\x204\x20ข้อ\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20วิเคราะห์\x20\x22สาระการเรียนรู้แกนกลาง\x22\x20และ\x20\x22ตัวชี้วัด\x22\x20ทั้งหมดที่ต้องใช้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cge','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','พบข้อสอบ\x20','game-start-modal-title','end-game-btn','pairedQuizId','left','timerDuration','bestScore','all','กฎของไซน์','ไม่พบข้อมูลผู้ใช้','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','target','การวัด','close-topic-bank-btn','comparison-individual-content','\x27\x20ในส่วน\x20\x27MEMORY\x27\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','start-live-race-generated-btn','disabled','\x5cdiv','shouldSaveResults','checkbox','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','$1\x20\x5cfrac','.delete-custom-topic-btn','classStrengths','allResponses','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','No\x20player\x20data\x20to\x20save.','scratchpad-header','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','applicationHTML','raw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','dispatchEvent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','export-excel-btn','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','insertAdjacentHTML','lower_group_count','prod','text-green-700\x20bg-green-100','):\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','</div>\x0a</div>\x0a','Error\x20updating\x20custom\x20topic:','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','.duplicate-quiz-btn','4awNcwU','trail-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','file-tab','หัวข้อที่สร้างเอง','cloneNode','confirmation-modal','analytics','สำหรับโปรเจค:\x20','quiz-search-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyze-strengths-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','padStart','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','quiz-results','pen','load-quiz-btn','tool','.status','create-from-bank-btn','tooltipTarget','msRequestFullscreen','toISOString','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warn','ฟังก์ชันพหุนาม','open-sync-scratchpad-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','สลับไปโหมดนักเรียน','body','show_results_only','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','groups','\x20\x20\x20-\x20คำตอบ:\x20','link-input-area','Action:\x20Create\x20topic-based\x20Quiz.','parseInline','<div\x20class=\x22p-2\x20rounded-md\x20','toggle','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','cancel-quiz-edits-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','close-comparison-modal-footer-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','perQuestionStats','numQuestions','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','destroy','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x22.\x20','API\x20call\x20failed\x20with\x20status:\x20','string','destination-out','.generate-post-test-btn','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragover','isArray','กรุณากรอกข้อมูลให้ครบทุกช่อง','copy','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','quiz-generation-area','ลำดับเรขาคณิต\x20(GP)','ยอดเยี่ยม','function','latestSubmittedAt','bulk-confidence-mode-container','global-live-game-modal','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','game-start-mode','.regenerate-question-editor-btn','กรุณาเลือกโปรเจคปลายทาง','onload','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','shuffle-setting-select','answered','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','presentation-ai-result','.bp-create-topic-quiz-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5cle','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20แบบทดสอบลงในคลังสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','mouseleave','.quiz-bank-parallel-btn','ตัวแปรและนิพจน์','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','topicName','.quiz-bank-checkbox:checked','create-project-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','ความสัมพันธ์ของมุม','<li>','Loaded\x20','lessonContent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','rename-quiz-modal','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','sync','#ffffff','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','กำลังสร้างบทเรียน:\x20','\x20จุดเรียบร้อยแล้ว','leaderboard','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','bg-black/20','manage-players-btn','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','input[type=\x22radio\x22]:checked','-\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-create-lesson-quiz-btn','[data-topic-container-id]','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','</tbody></table></div>','flex','confirm-create-project-btn','touchcancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','ระบบสมการเชิงเส้นสองตัวแปร','หัวข้อหลักใหม่','1:274192258111:web:4120c9118229b5644dd48a','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','targetId','.bp-unlink-quiz-btn','รูปแบบการให้เหตุผล','.draggable-text','/public/data/liveGames','ดอกเบี้ยทบต้น','ควรปรับปรุง','\x22\x20title=\x22','confirm-passcode-btn','findIndex','\x22\x20name=\x22team_answer\x22\x20value=\x22','blueprint-upload-input','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20lesson\x20to\x20project:','ไม่สามารถเพิ่มนักเรียนได้','manual_release','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','text-red-600','/public/data/learnedFixes','</p></div>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','ทำคะแนนได้เกินครึ่ง','</span>','user','blueprint-topics-list','การหาร','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','value','Error\x20during\x20class\x20analysis:','getItem','Group\x20Mode','button','bg-green-400\x20text-white\x20font-bold','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','gamePin','loopUntilPass','password-error-msg','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','เลือกโปรเจคเพื่อบันทึก','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','source-over','badgesCount','\x22\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>ใช่</p>','dimmed','showInStudentDashboard','cancel-bulk-quiz-settings-btn','สมการตรีโกณมิติ','แผนภาพกล่อง\x20(box\x20plot)','การประยุกต์เวกเตอร์พื้นฐาน','เรขาคณิตวิเคราะห์','.live-answer-btn,\x20#sync-submit-btn','ไม่พบแบบทดสอบ','quizType','helvetica','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','per-question-text','preTScore','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','.csv','รีเซ็ตลำดับโปรเจคแล้ว','พีชคณิตและฟังก์ชัน','student-name-input','save-game-results-checkbox','totalPoints','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เกิดข้อผิดพลาดในการลบโปรเจค','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffledQuiz','drill-feedback','เศษส่วน\x20(ย่อ/ขยาย)','devicePixelRatio','removeItem','passcode-error-msg','active','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','blueprint-options-container','topics','\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20','selected-answer-index-hidden','.bp-view-analysis-btn','Error\x20saving\x20submission:','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','deltaY','.answeredCurrentQuestion','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','beforeend','อสมการเชิงเส้น','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','ARRAY','update-old-quizzes-btn','ปิดใช้งาน','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','การคูณทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','handleGeneratePracticeTest','teacherSuggestions','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','.project-card-container','.linkedQuizIds','เกิดข้อผิดพลาดในการลบผลสอบ','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','QUICK_THINKER','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','fill_in_the_blank','มุมพิเศษ\x2045°-45°-90°','request','\x20ชุดสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x22\x20สำเร็จ','.linkedQuizId','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','undo-btn','ฐานนิยม','math-topics-checkbox-container','confidence-scoring-toggle','All\x20groups\x20have\x20finished.\x20Ending\x20game.','.delete-submission-btn','Error\x20updating\x20quiz\x20settings:','cos','entries','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','solution','dataset','ปริพันธ์ไม่จำกัด','cancel-delete-btn','#E5E7EB','activeGameSession','fromCharCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','GlobalWorkerOptions','add','\x22>ไม่ใช่</p>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','block','showImproveButton','projectId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การจัดกลุ่มข้อมูล','\x5csum','การบวกทศนิยม','student-team-join','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','ที่พิมพ์ได้\x20จำนวน\x20','qIndex','eraser','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','confidence-mode-container','manual-blueprint-modal','/studentProfiles','\x20สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','โดเมนและเรนจ์','Error\x20deleting\x20student:','cancel-bp-settings-btn','text-input-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','comparison','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeAttribute','attempts','fullscreenchange','.correct-response-input','verify-answers-btn','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','generate-from-blueprint-btn','currentQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader-text','<div>','Failed\x20to\x20kick\x20player\x20','setItem','lesson-plan-modal','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<p><strong>คำตอบของคุณ:</strong>\x20','fixedData','ห.ร.ม.\x20(GCD)','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-red-100','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','สร้างคำถามใหม่\x201\x20ข้อ\x20','bg-purple-50','settings','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','border-indigo-400\x20ring-2\x20ring-indigo-200','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confidence-modal','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','bg-yellow-50','lesson-plan-title','players.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','applicationData','values','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่มีชื่อ)','show-in-student-dashboard-checkbox','<div\x20class=\x22','bg-green-200\x20text-green-900','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','results-quiz-id-display','text/csv;charset=utf-8;','ใช่','color','Enter','text-red-800','authed_project_','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.mb-6.p-4','กรุณาเลือกคำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','ลำดับการดำเนินการ\x20(PEMDAS)','playerName','<div\x20class=\x22my-6\x22>','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','questionText','sync-submit-btn','ความชันและเส้นตรง','https://corsproxy.io/?','ai-quiz-generator-v3','แผนการสอน','ผลรวมอนุกรม\x20(Σ)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','data:application/vnd.ms-word;charset=utf-8,','loop-until-pass-checkbox','stdDev','Error\x20generating\x20parallel\x20post-test:','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','subTopic','Error\x20generating\x20hybrid\x20quiz:','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','ฟังก์ชันกำลังสองและกราฟ','questions_only','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ring-2','คัดลอกแบบทดสอบสำเร็จ','\x20รายการ...','Error\x20unpairing\x20quizzes:','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','set','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','getTextContent','isAdaptive','กรุณาเลือกคำตอบ','คัดลอกไม่สำเร็จ','now','keyConcepts','gameData','starred','generate-worksheet-btn','Error\x20listening\x20for\x20student\x20profiles:','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','.verification-result-editor','blueprint-project-manager-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transparent','.ai-fix-formula-btn','confident','student-join-game-view','questionId','text-green-700','ฟังก์ชันค่าสัมบูรณ์',':</span><span>','artifacts/','q-image-container-','ring-purple-400','hint-btn','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drop','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','sort','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','difficultyValue','bg-green-50','endTime','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','global-quiz-search-input','point','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','keys','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','link-tab','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','originalTopic','label[for=\x22num-questions\x22]','นำแบบทดสอบออกจากคลังนี้แล้ว','submit','button[type=\x22submit\x22]','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','stepByStepExamples','items','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','close','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','[data-topic-id=\x22','<div\x20class=\x22loader\x20mx-auto\x22></div>','moveTo','1312164LxdzDw','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','close-game-final-btn','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','การจัดหมู่\x20(Combination)','การหารทศนิยม','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','.ai-content\x20h3','\x0a\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แบบทดสอบซ่อมเสริม','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','touch','join-live-game-btn','\x20/\x20','.file-topic-selection-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','leaderboard-quiz-tab-btn','NEGATIVE_INFINITY','text/html','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','overallGroups','ไม่สามารถสร้างโปรเจคได้','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','lesson-view-title','เส้นตรง:\x20รูปแบบสมการ','div','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','manage','rgba(79,\x2070,\x20229,\x200.8)','student-result-area','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','passing-score-input','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','.application-options\x20button','pointermove','scale','index','\x5cfrac{$1}{$2}','doughnut','.cancel-edit-topic-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22\x5cn','files','back-to-home-manual-release','back-to-dashboard-from-bp-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','modal-timer-duration-label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hasOwnProperty','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','grid-view-btn','scheduled_pending','duration-300','\x5ctimes','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22,\x20','list','questionType','textarea[name=\x22team_answer\x22]','confirm-not-confident','closest','true_false','เกิดข้อผิดพลาดในการแก้ไข','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','behavior-log-tab-btn','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','highlighter-size-value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','groups.','quiz-leaderboard-table','quiz-id-input','lastAnswerIndex','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','การเรียงสับเปลี่ยน\x20(Permutation)','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','_opt0\x22>ใช่</label></div>','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','fas\x20fa-star\x20text-yellow-500','interesting-stats-wrapper','answers','restore','เริ่มกิจกรรม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20live\x20race:','.topic-name-display','image/png','modal-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','onerror','Error\x20displaying\x20question\x20bank:','imageCode','bank-input-area','คำเตือน\x20(','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','ชื่อหัวข้อห้ามว่าง','promptFeedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','opacity-50','<option>กำลังโหลดโปรเจค...</option>','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#results-table','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','ปริมาตรรูปทรงสามมิติ','temp-loader-text-results','fa-rocket\x20text-purple-500','explanation','timer-duration-input','neq','scratchpad-controls','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ลบผลสอบของ\x20','uid','ไม่สามารถบันทึกการตั้งค่าได้','code','student-quiz-leaderboard-table-body','การบวก','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','บันทึกคำถามใหม่\x20','ฟังก์ชันแบบชิ้นส่วน','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','save-settings-btn','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','delete-all-students-btn','split','worksheet-tab','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','clientY','รากที่สองและที่สาม','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-settings-modal','startsWith','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','blueprint-settings-modal','question-complexity-select','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20manual\x20blueprint\x20project:','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','.topic-actions-view','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','Error\x20starting\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px)\x20scale(','\x22\x20name=\x22drill_answer\x22\x20value=\x22','bp-modal-include-images-checkbox','เกิดข้อผิดพลาดในการบันทึก','cancel-create-project-btn','Error\x20deleting\x20project:','grabbing','blueprint-projects-modal','<p><strong>คำตอบที่แนะนำ:</strong>\x20','leaderboard-table-body','รูปสแควร์รูท\x20(surd)','/public/data/quizzes/','presentation-short-answer-input','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','specialist','offsetWidth','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','topics.','mousemove','ย้ายแบบทดสอบสำเร็จ','show-results-btn','.bp-try-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','</span><span\x20class=\x22font-bold\x22>','631BPJMvT','project-search-input','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','#FEF3C7','สร้างคำถามแบบใช่/ไม่ใช่','\x22\x20data-name=\x22','\x20</div>\x0a\x20\x20\x20\x20','outerHTML','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','startTime','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','presentation-scratchpad-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','result','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','การบวกเศษส่วน','parallel-test-input-area','dragstart','cancel-admin-login-btn','.pair-quiz-btn','สมการเหตุผล\x20(rational)','confirm-rename-quiz-btn','</p>','Failed\x20to\x20generate\x20lesson:','แคลคูลัสเบื้องต้น','Action:\x20Generate\x20new\x20lesson.','trim','</form>','#retake-for-improvement-btn','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','error','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','generate-from-topic-btn','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','add-custom-math-topic-btn','presentation-slide-container','getBoundingClientRect','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','multiply','#FFFFFF','กำลังสร้างแบบทดสอบ\x20\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','end-sync-game-btn','.topic-name-input','</strong></p>','data','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timed','splice','loader','ทำคะแนนเต็มในการทำครั้งแรก','pre-test','.bp-present-btn','text-red-700\x20bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','Error\x20joining\x20team\x20quiz:','FileReader\x20error:','.presentation-option','แบบทดสอบนี้หมดเวลาแล้ว','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','members','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','AI\x20grading\x20failed:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.submittedAt','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','svg','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','ข้อต่อไป','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20|\x20','AI\x20Fix\x20Error:','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getPage','check-presentation-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x20(ID:\x20','หน่วยความยาวและการแปลง','พิมพ์ตอบ','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','every','ตรีโกณมิติ','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-700','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','Error\x20fetching\x20project\x20quizzes:','pointContent','<button\x20data-value=\x22','justification','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบ','/public/data/blueprintProjects','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','innerHTML','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','เกิดข้อผิดพลาดในการอัปเดตสถานะ','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','enable-passcode-checkbox','ค่าคลาดเคลื่อนของการวัด','เกิดข้อผิดพลาดในการลบนักเรียน','generationConfig','text-gray-400\x20hover:text-indigo-600','.answers','quiz-form','<span\x20class=\x22sort-indicator\x20ml-2\x22>','group','element','save','API\x20call\x20failed','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','dashboardConfig','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','.topic-category','กำลังวิเคราะห์หัวข้อ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-generate-lesson-btn','showRankings','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','(คัดลอก)\x20','.quiz-result-card','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','อยู่ในหัวข้อหลักใด:','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','ผิด','_opt','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','318150IjFdqx','leaderboard-quiz','modal-timer-duration-input','\x20รายการสำเร็จ!','touches','text-gray-500','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','matching','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','link-url-input','กรุณาเลือกคำตอบของกลุ่ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','bg-green-100','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mainTopics','confirm-quiz-settings-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','stopPropagation','file-topics-list-container','\x22\x20name=\x22question','normal','project-sort-select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Error\x20adding\x20topic:','back-from-results-btn','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','สร้างแบบทดสอบปรนัย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','bulk-shuffle-select','ความเป็นอิสระของเหตุการณ์','bg-red-50','shuffle','input[name=\x22team_player\x22]:checked','mjx-container','เกิดข้อผิดพลาดในการจับคู่','ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','ความคาดหมาย\x20(Expected\x20value)','Action:\x20View\x20existing\x20lesson.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>','Remedial\x20quiz\x20generation\x20failed:','rgba(59,\x20130,\x20246,\x200.7)','total','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','กำลังเตรียมไฟล์ข้อสอบอ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','#student-quiz-leaderboard-content\x20thead','\x22\x20value=\x22false\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','textarea[name=\x22question_single\x22]','pinnedProjects','.quiz-bank-move-btn','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','per-question-options','category','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','หมดเวลาสำหรับข้อนี้!','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ownerSVGElement','reference-pdf-upload','cancel-game-start-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20pairing\x20quizzes:','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','ลบหัวข้อสำเร็จ','goto-next-question-btn','เวกเตอร์และเมทริกซ์\x20(เสริม)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.unpair-quiz-btn','border-red-300\x20bg-red-50','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','bulk-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','live-submit-short-answer-btn','\x27\x20ในหัวข้อ\x20\x27','dataIndex','bank-tab','/public/data/quizzes','ไม่พบข้อมูลโปรเจค','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','วงกลม:\x20สมการและสมบัติ','Error\x20saving\x20user\x20preference:','พิสัย','summary','isRemedial','Error\x20saving\x20project\x20order:','s;\x22\x20title=\x22','.score','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','รหัสไม่ถูกต้อง','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','contains','setAttributeNS','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','file-input-area','save-quiz-btn','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','[*]','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','.pin-project-btn','closePath','text-green-800','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</div></div>','อนุพันธ์:\x20กฎพื้นฐาน','selected-topics-count','จำนวนนักเรียน','เรขาคณิต','อัตราการเปลี่ยนแปลงทันที','text-yellow-300','answerText','ไม่พบเอกสารการส่งงานของ\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','perfect_score_status','lesson-view-modal','teachingContent','student-name-selection-view','API\x20Error\x20Response:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','isPinned','ไม่พบข้อมูลหัวข้อที่จะบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','MathJax','num-questions','blueprint-topics-list-container','json','round','mixed','0\x200','filter','parentElement','screen','preTestId','canvas','behavior-log-tab-content','\x20ข้อ...','mean','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังดึงข้อมูลจากลิงก์...','confirm-confident','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerType','<p>','Error\x20comparing\x20results:','</th>','Error\x20joining\x20live\x20game:','not_generated','wakeLock','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','questionStatus','.quiz-bank-settings-btn','contents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','สำหรับหัวข้อ\x20\x27','สถิติและความน่าจะเป็น','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'];_0x8f9e=function(){return _0x528e84;};return _0x8f9e();}function calculateItemAnalysis(_0x4c70c1,_0x107033){const _0x5b3a33=_0x176601,_0x4f10a6={};if(_0x107033[_0x5b3a33(0x2c7)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x53f8c1=[..._0x107033]['sort']((_0x5f47bc,_0x141303)=>{const _0x156bab=_0x5b3a33,_0x53443b=_0x141303[_0x156bab(0x3da)]-_0x5f47bc[_0x156bab(0x3da)];if(_0x53443b!==0x0)return _0x53443b;const _0x44cf25=_0x5f47bc[_0x156bab(0x8ca)]?.[_0x156bab(0x2c7)]||0x1,_0x22eb30=_0x141303[_0x156bab(0x8ca)]?.[_0x156bab(0x2c7)]||0x1,_0x4cdd01=_0x44cf25-_0x22eb30;if(_0x4cdd01!==0x0)return _0x4cdd01;const _0x4694f3=new Date(_0x5f47bc[_0x156bab(0x7d5)]),_0x285b91=new Date(_0x141303['latestSubmittedAt']),_0x29759c=_0x4694f3-_0x285b91;if(_0x29759c!==0x0)return _0x29759c;return _0x5f47bc['studentName'][_0x156bab(0x3bf)](_0x141303['studentName'],'th');}),_0x3e3398=_0x53f8c1[_0x5b3a33(0x2c7)],_0x2cb79d=Math[_0x5b3a33(0x491)](0x1,Math[_0x5b3a33(0xbdd)](_0x3e3398*0.33));if(_0x2cb79d===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x219641=_0x53f8c1[_0x5b3a33(0x1d8)](0x0,_0x2cb79d),_0x1e1826=_0x53f8c1[_0x5b3a33(0x1d8)](-_0x2cb79d),_0x27a51d=_0x219641[_0x5b3a33(0x697)](_0x55e925=>_0x55e925[_0x5b3a33(0x6c4)]),_0x3f4789=_0x1e1826[_0x5b3a33(0x697)](_0x223d8e=>_0x223d8e[_0x5b3a33(0x6c4)]);return _0x4c70c1[_0x5b3a33(0x9ce)]['forEach']((_0x1412e2,_0x1ed1a6)=>{const _0x22a8de=_0x5b3a33,_0x49effa=_0x1412e2[_0x22a8de(0x232)]||_0x1412e2['questionText'];let _0x407f74=0x0,_0x4abcd8=0x0,_0x27799c=0x0;const _0x5a888b=[],_0x9af193=[];_0x219641[_0x22a8de(0x523)](_0x1feecd=>{const _0x52acfe=_0x22a8de,_0x3a483a=_0x1feecd['attempts'][_0x1feecd[_0x52acfe(0x8ca)][_0x52acfe(0x2c7)]-0x1],_0x19abda=_0x3a483a[_0x52acfe(0x9e2)]['find'](_0x2992d=>_0x2992d[_0x52acfe(0x227)]===_0x49effa);_0x5a888b[_0x52acfe(0x92e)]({'name':_0x1feecd[_0x52acfe(0x6c4)],'isCorrect':_0x19abda?_0x19abda[_0x52acfe(0x26e)]:![]}),_0x19abda&&_0x19abda['isCorrect']&&_0x4abcd8++;}),_0x1e1826[_0x22a8de(0x523)](_0x4d6f4d=>{const _0xc5ae7b=_0x22a8de,_0x20acf4=_0x4d6f4d[_0xc5ae7b(0x8ca)][_0x4d6f4d[_0xc5ae7b(0x8ca)][_0xc5ae7b(0x2c7)]-0x1],_0x3c91e8=_0x20acf4[_0xc5ae7b(0x9e2)]['find'](_0xf9c570=>_0xf9c570[_0xc5ae7b(0x227)]===_0x49effa);_0x9af193[_0xc5ae7b(0x92e)]({'name':_0x4d6f4d[_0xc5ae7b(0x6c4)],'isCorrect':_0x3c91e8?_0x3c91e8[_0xc5ae7b(0x26e)]:![]}),_0x3c91e8&&_0x3c91e8[_0xc5ae7b(0x26e)]&&_0x27799c++;}),_0x107033[_0x22a8de(0x523)](_0x4dc334=>{const _0x3680c9=_0x22a8de,_0x1089db=_0x4dc334[_0x3680c9(0x8ca)][_0x4dc334['attempts'][_0x3680c9(0x2c7)]-0x1],_0x74f034=_0x1089db[_0x3680c9(0x9e2)][_0x3680c9(0x70b)](_0x472018=>_0x472018[_0x3680c9(0x227)]===_0x49effa);_0x74f034&&_0x74f034[_0x3680c9(0x26e)]&&_0x407f74++;});const _0x334996=_0x3e3398>0x0?_0x407f74/_0x3e3398:0x0,_0x509858=_0x2cb79d>0x0?_0x4abcd8/_0x2cb79d-_0x27799c/_0x2cb79d:0x0;_0x4f10a6[_0x1ed1a6]={'p':_0x334996,'r':_0x509858,'upperGroupResponders':_0x5a888b,'lowerGroupResponders':_0x9af193};}),{'perQuestionStats':_0x4f10a6,'overallGroups':{'upperGroupNames':_0x27a51d,'lowerGroupNames':_0x3f4789}};}function drag(_0xd4d1cd){const _0x299499=_0x176601;if(draggedSvgElement){_0xd4d1cd[_0x299499(0x417)]();const _0x589fac=draggedSvgElement[_0x299499(0xb23)],_0x33fc7f=getPointerPosition(_0x589fac,_0xd4d1cd),_0x45fe25=_0x589fac[_0x299499(0x4c7)]['baseVal'];let _0x3c61c3=_0x33fc7f['x']-svgOffset['x'],_0x3aad86=_0x33fc7f['y']-svgOffset['y'];const _0x48c5b6=draggedSvgElement[_0x299499(0x1a6)]();_0x3c61c3=Math[_0x299499(0x491)](_0x45fe25['x'],Math[_0x299499(0x5bb)](_0x3c61c3,_0x45fe25['x']+_0x45fe25['width']-_0x48c5b6[_0x299499(0x218)])),_0x3aad86=Math['max'](_0x45fe25['y'],Math[_0x299499(0x5bb)](_0x3aad86,_0x45fe25['y']+_0x45fe25[_0x299499(0x3b0)]-_0x48c5b6[_0x299499(0x3b0)])),draggedSvgElement[_0x299499(0xb50)](null,'x',_0x3c61c3),draggedSvgElement[_0x299499(0xb50)](null,'y',_0x3aad86);}}function endDrag(_0x4aa343){draggedSvgElement=null;}function handleSvgEditClick(_0x2bf4fb){const _0x3972f1=_0x176601;if(_0x2bf4fb['target']['classList'][_0x3972f1(0xb4f)]('delete-svg-btn')){const _0x57e86a=_0x2bf4fb[_0x3972f1(0x763)]['dataset']['targetId'],_0x11d8ef=_0x2bf4fb[_0x3972f1(0x499)],_0x21ac9b=_0x11d8ef[_0x3972f1(0x690)]('#'+_0x57e86a);_0x21ac9b&&_0x21ac9b[_0x3972f1(0x167)](),_0x2bf4fb['target'][_0x3972f1(0x167)]();}}function handleEditQuestion(_0x1d498b){const _0xdb0ae0=_0x176601,_0x1c97ec=_0x1d498b[_0xdb0ae0(0x499)],_0x5791b1=_0x1c97ec[_0xdb0ae0(0x89d)][_0xdb0ae0(0x9ad)],_0x258068=currentQuizData[_0xdb0ae0(0x9ce)][_0x5791b1],_0xc83627=document[_0xdb0ae0(0x267)](_0xdb0ae0(0x3ab)+_0x5791b1),_0x504484=document[_0xdb0ae0(0x267)](_0xdb0ae0(0x39f)+_0x5791b1),_0x5230b0=document['getElementById'](_0xdb0ae0(0x94b)+_0x5791b1);if(_0x1c97ec[_0xdb0ae0(0xab8)]['includes'](_0xdb0ae0(0x2e7))){_0x1c97ec[_0xdb0ae0(0xab8)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x1c97ec[_0xdb0ae0(0xbfa)]='บันทึกการแก้ไข';if(_0xc83627)_0xc83627[_0xdb0ae0(0x63c)]=!![];if(_0x504484)_0x504484[_0xdb0ae0(0x63c)]=!![];if(_0x5230b0){const _0x137807=_0x5230b0[_0xdb0ae0(0x690)](_0xdb0ae0(0xa92));if(_0x137807){const _0x4af386=_0x137807[_0xdb0ae0(0x6d4)](_0xdb0ae0(0x648));_0x4af386[_0xdb0ae0(0x523)]((_0xe3fc54,_0x23614e)=>{const _0x189ebb=_0xdb0ae0,_0x128bfb=_0x189ebb(0x369)+_0x5791b1+'-'+_0x23614e;_0xe3fc54['id']=_0x128bfb,_0xe3fc54[_0x189ebb(0x25c)][_0x189ebb(0x8a5)](_0x189ebb(0x4fb)),_0xe3fc54[_0x189ebb(0x58e)][_0x189ebb(0x1c3)]=_0x189ebb(0x45f);const _0x5a5939=document[_0x189ebb(0x645)]('http://www.w3.org/2000/svg','circle'),_0x4e84c6=_0xe3fc54[_0x189ebb(0x1a6)]();_0x5a5939[_0x189ebb(0x2d9)]('cx',String(_0x4e84c6['x']+_0x4e84c6[_0x189ebb(0x218)]+0x5)),_0x5a5939[_0x189ebb(0x2d9)]('cy',String(_0x4e84c6['y']+_0x4e84c6[_0x189ebb(0x3b0)]/0x2-0x5)),_0x5a5939[_0x189ebb(0x2d9)]('r','5'),_0x5a5939['setAttribute'](_0x189ebb(0x41b),'red'),_0x5a5939[_0x189ebb(0x2d9)]('class',_0x189ebb(0x626)),_0x5a5939[_0x189ebb(0x89d)][_0x189ebb(0x816)]=_0x128bfb,_0xe3fc54['after'](_0x5a5939);}),_0x137807['addEventListener'](_0xdb0ae0(0x72e),startDrag),_0x137807[_0xdb0ae0(0xbb9)](_0xdb0ae0(0xa3d),drag),_0x137807[_0xdb0ae0(0xbb9)](_0xdb0ae0(0x6fe),endDrag),_0x137807[_0xdb0ae0(0xbb9)](_0xdb0ae0(0x7ec),endDrag),_0x137807[_0xdb0ae0(0xbb9)](_0xdb0ae0(0xbef),startDrag,{'passive':![]}),_0x137807[_0xdb0ae0(0xbb9)](_0xdb0ae0(0x4c0),drag,{'passive':![]}),_0x137807[_0xdb0ae0(0xbb9)](_0xdb0ae0(0x409),endDrag),_0x137807['addEventListener'](_0xdb0ae0(0x810),endDrag),_0x137807['addEventListener'](_0xdb0ae0(0x292),handleSvgEditClick);}}if(_0xc83627)_0xc83627[_0xdb0ae0(0x51d)]();}else{_0x1c97ec[_0xdb0ae0(0xab8)]=_0xdb0ae0(0x55e),_0x1c97ec[_0xdb0ae0(0xbfa)]='แก้ไขข้อนี้';if(_0xc83627){_0xc83627[_0xdb0ae0(0x63c)]=![];const _0xd1c86f=_0x258068['questionType']||currentQuizData['quizType'];_0xd1c86f===_0xdb0ae0(0x4ed)?_0x258068[_0xdb0ae0(0x232)]=_0xc83627[_0xdb0ae0(0x3ee)][_0xdb0ae0(0x76e)](_0xc83627[_0xdb0ae0(0x3ee)][_0xdb0ae0(0x44a)]('.')+0x2)['trim']():_0x258068[_0xdb0ae0(0x911)]=_0xc83627['innerText'][_0xdb0ae0(0x76e)](_0xc83627['innerText']['indexOf']('.')+0x2)[_0xdb0ae0(0xa5f)]();}_0x504484&&(_0x504484[_0xdb0ae0(0x63c)]=![],_0x258068[_0xdb0ae0(0x9ff)]=_0x504484[_0xdb0ae0(0x3ee)]);if(_0x5230b0){const _0x2a856e=_0x5230b0[_0xdb0ae0(0x690)]('svg');if(_0x2a856e){const _0x5a324f=_0x2a856e['cloneNode'](!![]);_0x5a324f['querySelectorAll']('.delete-svg-btn')[_0xdb0ae0(0x523)](_0x301398=>_0x301398[_0xdb0ae0(0x167)]()),_0x5a324f[_0xdb0ae0(0x6d4)](_0xdb0ae0(0x819))[_0xdb0ae0(0x523)](_0x1ddc7d=>{const _0x35be18=_0xdb0ae0;_0x1ddc7d[_0x35be18(0x25c)][_0x35be18(0x167)](_0x35be18(0x4fb)),_0x1ddc7d[_0x35be18(0x58e)]['cursor']=_0x35be18(0x23c),_0x1ddc7d[_0x35be18(0x8c9)]('id');}),_0x258068[_0xdb0ae0(0x9ed)]=_0x5a324f[_0xdb0ae0(0xa4a)],_0x2a856e[_0xdb0ae0(0x4cc)](_0xdb0ae0(0x72e),startDrag),_0x2a856e[_0xdb0ae0(0x4cc)](_0xdb0ae0(0xa3d),drag),_0x2a856e[_0xdb0ae0(0x4cc)](_0xdb0ae0(0x6fe),endDrag),_0x2a856e[_0xdb0ae0(0x4cc)]('mouseleave',endDrag),_0x2a856e[_0xdb0ae0(0x4cc)](_0xdb0ae0(0xbef),startDrag),_0x2a856e['removeEventListener'](_0xdb0ae0(0x4c0),drag),_0x2a856e[_0xdb0ae0(0x4cc)](_0xdb0ae0(0x409),endDrag),_0x2a856e[_0xdb0ae0(0x4cc)](_0xdb0ae0(0x810),endDrag),_0x2a856e['removeEventListener'](_0xdb0ae0(0x292),handleSvgEditClick),_0x2a856e[_0xdb0ae0(0x6d4)]('.delete-svg-btn')[_0xdb0ae0(0x523)](_0x356b5e=>_0x356b5e['remove']()),_0x2a856e['querySelectorAll'](_0xdb0ae0(0x819))[_0xdb0ae0(0x523)](_0x541a8b=>{const _0x3cb4b7=_0xdb0ae0;_0x541a8b['classList']['remove']('draggable-text'),_0x541a8b[_0x3cb4b7(0x58e)][_0x3cb4b7(0x1c3)]=_0x3cb4b7(0x23c);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2ab046){const _0x335da6=_0x176601,_0x42aa66=document[_0x335da6(0x267)](_0x335da6(0x6c9)),_0x517112=document[_0x335da6(0x267)](_0x335da6(0x714));_0x517112[_0x335da6(0xab8)]=_0x335da6(0x97d),_0x42aa66[_0x335da6(0x25c)][_0x335da6(0x167)](_0x335da6(0xbc7));try{const _0x2c474b=doc(db,'artifacts/'+appId+_0x335da6(0xb3f),_0x2ab046),_0x3fc013=await getDoc(_0x2c474b);if(!_0x3fc013[_0x335da6(0x4b5)]())throw new Error(_0x335da6(0x84d));currentEditingQuizData={'id':_0x2ab046,..._0x3fc013[_0x335da6(0xa77)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4ee411){console[_0x335da6(0xa65)](_0x335da6(0x4fc),_0x4ee411),showMessage(_0x335da6(0xa1a)),_0x42aa66[_0x335da6(0x25c)][_0x335da6(0x8a5)](_0x335da6(0xbc7));}}function renderQuizEditor(_0x36a622){const _0x367c3b=_0x176601;document[_0x367c3b(0x267)](_0x367c3b(0x20a))[_0x367c3b(0x832)]=_0x36a622['topic'];const _0x8aeb2e=document[_0x367c3b(0x267)](_0x367c3b(0x714));let _0xa126b0=_0x36a622[_0x367c3b(0x9ce)][_0x367c3b(0x697)]((_0x304f60,_0x278357)=>{const _0x4852e5=_0x367c3b;let _0x3b38fd='';const _0x1d5b71=_0x304f60['questionType']||_0x36a622['quizType'];switch(_0x1d5b71){case _0x4852e5(0x3e7):const _0x573a69=(_0x304f60[_0x4852e5(0x61a)]||[])[_0x4852e5(0x697)]((_0xafebd0,_0x2378c9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x278357+_0x4852e5(0xb1f)+_0x2378c9+'\x22\x20'+(_0x2378c9===_0x304f60[_0x4852e5(0x1f1)]?_0x4852e5(0x6e2):'')+_0x4852e5(0x638)+_0xafebd0+_0x4852e5(0xb89))[_0x4852e5(0x706)]('');_0x3b38fd=_0x4852e5(0x1ee)+_0x573a69+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4852e5(0x477):_0x3b38fd=_0x4852e5(0x405)+(_0x304f60[_0x4852e5(0x3be)]||'')+_0x4852e5(0x3c6);break;case _0x4852e5(0x9c7):_0x3b38fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x278357+_0x4852e5(0x1d6)+(_0x304f60[_0x4852e5(0xb9b)]===!![]?_0x4852e5(0x6e2):'')+_0x4852e5(0x355)+_0x278357+_0x4852e5(0xb16)+(_0x304f60[_0x4852e5(0xb9b)]===![]?_0x4852e5(0x6e2):'')+_0x4852e5(0x16a);break;case _0x4852e5(0x4ed):_0x3b38fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x304f60[_0x4852e5(0x6a9)]||'')+_0x4852e5(0x300);break;}const _0x5d9699=_0x304f60[_0x4852e5(0x911)]||_0x304f60[_0x4852e5(0x232)]||'';return _0x4852e5(0x3f1)+_0x278357+_0x4852e5(0x631)+_0x1d5b71+_0x4852e5(0x510)+(_0x278357+0x1)+'\x20('+_0x1d5b71+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x5d9699+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x3b38fd+_0x4852e5(0x786);})['join']('');_0x8aeb2e[_0x367c3b(0xab8)]=_0xa126b0,_0x8aeb2e['querySelectorAll'](_0x367c3b(0x2f1))[_0x367c3b(0x523)](_0x136ceb=>{const _0x17d8b4=_0x367c3b;_0x136ceb[_0x17d8b4(0xbb9)](_0x17d8b4(0x292),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x5a329e){const _0x29fc77=_0x176601,_0x81546f=_0x5a329e[_0x29fc77(0x499)],_0x4391a6=_0x81546f[_0x29fc77(0x9c6)](_0x29fc77(0x281));if(!_0x4391a6)return;const _0x25c710=parseInt(_0x4391a6[_0x29fc77(0x89d)][_0x29fc77(0x8b8)],0xa);if(isNaN(_0x25c710)||!currentEditingQuizData[_0x29fc77(0x9ce)][_0x25c710]){showMessage(_0x29fc77(0x2ce));return;}const _0x5a20b1=currentEditingQuizData[_0x29fc77(0x9ce)][_0x25c710];_0x81546f[_0x29fc77(0xab8)]=_0x29fc77(0x32d),_0x81546f[_0x29fc77(0x76a)]=!![];const _0x225b4d=_0x29fc77(0x978)+JSON['stringify'](_0x5a20b1)+_0x29fc77(0x3e6);let _0x3e9984;const _0x59bf6b=_0x5a20b1[_0x29fc77(0x9c3)]||currentEditingQuizData[_0x29fc77(0x84e)];switch(_0x59bf6b){case _0x29fc77(0x477):_0x3e9984={'type':_0x29fc77(0x9f7),'properties':{'questionText':{'type':_0x29fc77(0x5fb)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x29fc77(0x911),_0x29fc77(0x3be),_0x29fc77(0x9ff)]};break;case _0x29fc77(0x3e7):default:_0x3e9984={'type':_0x29fc77(0x9f7),'properties':{'questionText':{'type':_0x29fc77(0x5fb)},'options':{'type':_0x29fc77(0x876),'items':{'type':_0x29fc77(0x5fb)}},'correctAnswerIndex':{'type':_0x29fc77(0x1a9)},'explanation':{'type':_0x29fc77(0x5fb)},'imageCode':{'type':_0x29fc77(0x5fb)}},'required':['questionText',_0x29fc77(0x61a),'correctAnswerIndex',_0x29fc77(0x9ff)]};break;}try{let _0x23340f=await callAnalysisApi(_0x225b4d,_0x3e9984);_0x23340f[_0x29fc77(0x61a)]&&Array[_0x29fc77(0x7cc)](_0x23340f['options'])&&(_0x23340f[_0x29fc77(0x61a)]=_0x23340f[_0x29fc77(0x61a)]['map'](_0x5f1fd0=>typeof _0x5f1fd0===_0x29fc77(0x7c7)?_0x5f1fd0[_0x29fc77(0x24a)](/S(\s*[\d_]+?\s*)S/g,_0x29fc77(0x74d)):_0x5f1fd0)),_0x5a20b1[_0x29fc77(0x9ed)]&&_0x5a20b1['imageCode'][_0x29fc77(0x4bd)](_0x29fc77(0x2ed))&&(_0x23340f[_0x29fc77(0x9ed)]=''),currentEditingQuizData[_0x29fc77(0x9ce)][_0x25c710]={..._0x5a20b1,..._0x23340f},renderQuizEditor(currentEditingQuizData),showMessage(_0x29fc77(0xbe2));}catch(_0x5cf503){console[_0x29fc77(0xa65)](_0x29fc77(0xa9c),_0x5cf503),showMessage(_0x29fc77(0x956)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4b3228=_0x176601,_0x7572f6=document[_0x4b3228(0x267)](_0x4b3228(0x1c5));_0x7572f6[_0x4b3228(0x76a)]=!![],_0x7572f6['innerHTML']=_0x4b3228(0x3e2);try{const _0xebeee5=document[_0x4b3228(0x267)](_0x4b3228(0x20a))[_0x4b3228(0x832)],_0x184ab5=document[_0x4b3228(0x6d4)](_0x4b3228(0x281));let _0xe19c11=[];const _0x5c0f10=Array['from'](_0x184ab5)['map']((_0x1cd082,_0x4050de)=>{const _0x4735ab=_0x4b3228,_0xd7dd1e=_0x1cd082[_0x4735ab(0x89d)]['qType'],_0xcbaf49=_0x1cd082['querySelector'](_0x4735ab(0x2ef))['value'][_0x4735ab(0x24a)](/\n/g,_0x4735ab(0x1da));let _0x10cf48={'questionType':_0xd7dd1e};const _0x507a70=currentEditingQuizData['questions'][_0x4050de];switch(_0xd7dd1e){case _0x4735ab(0x3e7):_0x10cf48[_0x4735ab(0x911)]=_0xcbaf49;const _0x1d046a=_0x1cd082[_0x4735ab(0x6d4)](_0x4735ab(0x19b));_0x10cf48[_0x4735ab(0x61a)]=Array[_0x4735ab(0x6d9)](_0x1d046a)[_0x4735ab(0x697)](_0x3a3371=>_0x3a3371[_0x4735ab(0x832)]);const _0xa302e1=_0x1cd082['querySelector'](_0x4735ab(0x806));_0x10cf48[_0x4735ab(0x1f1)]=_0xa302e1?parseInt(_0xa302e1[_0x4735ab(0x832)]):0x0;break;case _0x4735ab(0x477):_0x10cf48['questionText']=_0xcbaf49,_0x10cf48[_0x4735ab(0x3be)]=_0x1cd082[_0x4735ab(0x690)]('.ideal-answer-input')[_0x4735ab(0x832)];break;case _0x4735ab(0x9c7):_0x10cf48[_0x4735ab(0x911)]=_0xcbaf49;const _0x61eba9=_0x1cd082[_0x4735ab(0x690)](_0x4735ab(0x806));_0x10cf48[_0x4735ab(0xb9b)]=_0x61eba9?_0x61eba9[_0x4735ab(0x832)]===_0x4735ab(0x268):!![];break;case'matching_item':_0x10cf48[_0x4735ab(0x232)]=_0xcbaf49;const _0xb10a6a=_0x1cd082['querySelector'](_0x4735ab(0x8cc));_0x10cf48[_0x4735ab(0x6a9)]=_0xb10a6a?_0xb10a6a[_0x4735ab(0x832)]:'',_0xe19c11[_0x4735ab(0x92e)](_0x10cf48['correctResponse']);break;default:_0x10cf48[_0x4735ab(0x911)]=_0xcbaf49;break;}return{..._0x507a70,..._0x10cf48};});_0xe19c11[_0x4b3228(0x2c7)]>0x0&&_0x5c0f10['forEach'](_0x9e56fe=>{const _0x1057c4=_0x4b3228;_0x9e56fe['questionType']==='matching_item'&&(_0x9e56fe[_0x1057c4(0x773)]=_0xe19c11);});const _0x2c12bc=currentEditingQuizData['id'],_0x510e03=doc(db,_0x4b3228(0x94a)+appId+_0x4b3228(0xb3f),_0x2c12bc);await updateDoc(_0x510e03,{'topic':_0xebeee5,'questions':_0x5c0f10}),document[_0x4b3228(0x267)](_0x4b3228(0x6c9))[_0x4b3228(0x25c)][_0x4b3228(0x8a5)]('hidden'),showMessage(_0x4b3228(0x6c2),()=>initiateReGradeProcess(_0x2c12bc));}catch(_0x58d4c0){console[_0x4b3228(0xa65)](_0x4b3228(0x4dd),_0x58d4c0),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x7572f6[_0x4b3228(0x76a)]=![],_0x7572f6[_0x4b3228(0xab8)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x72658e){const _0x1383d4=_0x176601;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x48c663=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x72658e),_0x1ef165=await getDoc(_0x48c663);if(!_0x1ef165[_0x1383d4(0x4b5)]())throw new Error(_0x1383d4(0x521));const _0x1966ea={'id':_0x72658e,..._0x1ef165['data']()},_0x2a3265=collection(db,_0x1383d4(0x94a)+appId+_0x1383d4(0xb3f),_0x72658e,_0x1383d4(0x3e9)),_0x327a34=await getDocs(_0x2a3265);if(_0x327a34['empty']){showMessage(_0x1383d4(0x9d9));return;}const _0x23cb60=_0x327a34[_0x1383d4(0xbff)][_0x1383d4(0x697)](_0x4e61d6=>reGradeSingleSubmission(_0x4e61d6,_0x1966ea));await Promise[_0x1383d4(0x75d)](_0x23cb60);if(_0x1966ea['projectId']){const _0x33d0f1=doc(db,_0x1383d4(0x94a)+appId+_0x1383d4(0x32c),_0x1966ea[_0x1383d4(0x8ae)]),_0x2e88a4=await getDoc(_0x33d0f1);if(_0x2e88a4[_0x1383d4(0x4b5)]()&&_0x2e88a4[_0x1383d4(0xa77)]()[_0x1383d4(0xbf9)]){const _0x491388=_0x2e88a4[_0x1383d4(0xa77)]()['students']['map'](_0x3269e8=>updateStudentProfile(_0x1966ea[_0x1383d4(0x8ae)],_0x3269e8));await Promise[_0x1383d4(0x75d)](_0x491388);}}showMessage(_0x1383d4(0x208)+_0x327a34['size']+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x3e3bbf){console['error'](_0x1383d4(0x720),_0x3e3bbf),showMessage(_0x1383d4(0x8aa)+_0x3e3bbf[_0x1383d4(0x193)]);}}async function reGradeSingleSubmission(_0x5eefdb,_0x254a78){const _0x1aea5f=_0x176601,_0x2399a9=_0x5eefdb[_0x1aea5f(0xa77)](),_0x26307c=_0x2399a9[_0x1aea5f(0x6c4)],_0x266927=_0x2399a9[_0x1aea5f(0x8ca)]||[],_0x493fe6=[];for(const _0x307c15 of _0x266927){let _0x7058cf=0x0,_0x3c64ee=[],_0x47e501=0x0;const _0x49f311=[];for(const _0x2f844e of _0x307c15[_0x1aea5f(0x9e2)]){let _0x232b05;_0x2f844e[_0x1aea5f(0x946)]&&(_0x232b05=_0x254a78[_0x1aea5f(0x9ce)][_0x1aea5f(0x70b)](_0x4e5747=>_0x4e5747['id']===_0x2f844e[_0x1aea5f(0x946)]));!_0x232b05&&_0x2f844e[_0x1aea5f(0x227)]&&(_0x232b05=_0x254a78['questions']['find'](_0x4a5a35=>(_0x4a5a35['stem']||_0x4a5a35['questionText'])===_0x2f844e['originalQuestionText']));let _0xa3048a=![];if(_0x232b05){const _0x53c6e8=_0x232b05[_0x1aea5f(0x9c3)]||_0x254a78[_0x1aea5f(0x84e)];switch(_0x53c6e8){case'multiple_choice':if(_0x232b05['options']&&_0x232b05[_0x1aea5f(0x1f1)]<_0x232b05[_0x1aea5f(0x61a)][_0x1aea5f(0x2c7)]){const _0x52aca5=_0x232b05[_0x1aea5f(0x61a)][_0x232b05[_0x1aea5f(0x1f1)]];_0xa3048a=_0x2f844e[_0x1aea5f(0xb65)]===_0x52aca5;}break;case _0x1aea5f(0x9c7):const _0x2f3f54=_0x2f844e[_0x1aea5f(0x2bf)]===!![]||_0x2f844e['answer']==='true';_0xa3048a=_0x2f3f54===_0x232b05[_0x1aea5f(0xb9b)];break;case'matching_item':_0xa3048a=_0x2f844e[_0x1aea5f(0x2bf)]===_0x232b05[_0x1aea5f(0x6a9)];break;case _0x1aea5f(0x477):_0xa3048a=await gradeShortAnswer(_0x2f844e[_0x1aea5f(0x2bf)],_0x232b05);break;default:_0xa3048a=_0x2f844e[_0x1aea5f(0x26e)];break;}}if(_0xa3048a){_0x7058cf++,_0x47e501++;if(_0x47e501===0x3)_0x3c64ee[_0x1aea5f(0x92e)](BADGES[_0x1aea5f(0x40c)]['id']);}else _0x47e501=0x0;_0x49f311[_0x1aea5f(0x92e)]({..._0x2f844e,'isCorrect':_0xa3048a});}let _0x378a50=_0x7058cf*0xa;_0x7058cf===_0x254a78[_0x1aea5f(0x9ce)]['length']&&(_0x378a50+=0x32,_0x3c64ee[_0x1aea5f(0x92e)](BADGES['PERFECT_SCORE']['id'])),_0x493fe6[_0x1aea5f(0x92e)]({..._0x307c15,'score':_0x7058cf,'points':_0x378a50,'badges':Array[_0x1aea5f(0x6d9)](new Set(_0x3c64ee)),'answers':_0x49f311});}const _0x258e3a=_0x493fe6[_0x1aea5f(0x2c7)]>0x0?_0x493fe6[0x0]['score']:0x0,_0x1a44a7=Math[_0x1aea5f(0x491)](..._0x493fe6[_0x1aea5f(0x697)](_0x5452db=>_0x5452db['score'])),_0x48168a=_0x493fe6['length']>0x0?_0x493fe6[_0x493fe6[_0x1aea5f(0x2c7)]-0x1][_0x1aea5f(0x34f)]:0x0,_0x3f9764=_0x493fe6[_0x1aea5f(0x2c7)]>0x0?_0x493fe6[_0x493fe6[_0x1aea5f(0x2c7)]-0x1][_0x1aea5f(0xb54)]:0x0,_0x54aae5=doc(db,_0x1aea5f(0x94a)+appId+_0x1aea5f(0xa34)+_0x254a78['id']+'/submissions',_0x26307c);await updateDoc(_0x54aae5,{'attempts':_0x493fe6,'firstScore':_0x258e3a,'bestScore':_0x1a44a7,'latestScore':_0x48168a,'points':_0x3f9764});}function cleanupQuizOptions(_0xace8a2){const _0x938f6=_0x176601,_0x4d87fd=(_0x10a268,_0x387c12)=>_0x387c12===0x0?_0x10a268:_0x4d87fd(_0x387c12,_0x10a268%_0x387c12),_0x9a65d1=_0x694de4=>{const _0xc5e37b=_0x1728;if(typeof _0x694de4!==_0xc5e37b(0x7c7))return null;_0x694de4=_0x694de4[_0xc5e37b(0xa5f)]();const _0x18029a=_0x694de4[_0xc5e37b(0xa15)](/[ /]/)[_0xc5e37b(0xb79)](_0x55ffb8=>_0x55ffb8!=='');if(_0x18029a[_0xc5e37b(0x2c7)]===0x3)return parseInt(_0x18029a[0x0])+parseInt(_0x18029a[0x1])/parseInt(_0x18029a[0x2]);else{if(_0x18029a[_0xc5e37b(0x2c7)]===0x2)return parseInt(_0x18029a[0x0])/parseInt(_0x18029a[0x1]);else{if(_0x18029a['length']===0x1&&!isNaN(_0x18029a[0x0]))return parseFloat(_0x18029a[0x0]);}}return null;},_0xc1d759=_0x167246=>{const _0x3744db=_0x1728;if(typeof _0x167246!==_0x3744db(0x7c7))return _0x167246;const _0x29b445=_0x167246[_0x3744db(0x3dc)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x29b445){const _0x750634=parseInt(_0x29b445[0x1]);let _0x3ffc27=parseInt(_0x29b445[0x2]),_0x3bde2d=parseInt(_0x29b445[0x3]);const _0x281695=_0x4d87fd(_0x3ffc27,_0x3bde2d);_0x3ffc27/=_0x281695,_0x3bde2d/=_0x281695;if(_0x3bde2d===0x1)return(_0x750634+_0x3ffc27)[_0x3744db(0x5bc)]();return _0x750634+'\x20'+_0x3ffc27+'/'+_0x3bde2d;}return _0x167246;};return _0xace8a2&&_0xace8a2['questions']&&_0xace8a2[_0x938f6(0x9ce)][_0x938f6(0x523)](_0x2bc79a=>{const _0x1ec511=_0x938f6;if(_0x2bc79a[_0x1ec511(0x9c3)]===_0x1ec511(0x3e7)&&_0x2bc79a['options']){const _0x2e2992=new Map(),_0x3c14e6=_0x2bc79a[_0x1ec511(0x61a)][_0x2bc79a['correctAnswerIndex']];_0x2bc79a['options'][_0x1ec511(0x523)](_0x55ee45=>{const _0x17ee0a=_0x1ec511,_0xec0a41=_0xc1d759(_0x55ee45),_0x2cc703=_0x9a65d1(_0xec0a41);_0x2cc703!==null&&!_0x2e2992[_0x17ee0a(0x226)](_0x2cc703)&&_0x2e2992[_0x17ee0a(0x931)](_0x2cc703,_0xec0a41);}),_0x2bc79a[_0x1ec511(0x61a)]=Array[_0x1ec511(0x6d9)](_0x2e2992[_0x1ec511(0x8f5)]());const _0x1a522f=_0x2bc79a[_0x1ec511(0x61a)][_0x1ec511(0x81f)](_0x557d89=>_0x557d89===_0xc1d759(_0x3c14e6));_0x2bc79a[_0x1ec511(0x1f1)]=_0x1a522f!==-0x1?_0x1a522f:0x0;}}),_0xace8a2;}function showGameStartConfirmationModal(_0x51beb9,_0x551937,_0x4b83ee){const _0x46c7b2=_0x176601,_0x9cda02=document[_0x46c7b2(0x267)]('confirm-game-start-modal');document[_0x46c7b2(0x267)](_0x46c7b2(0x757))[_0x46c7b2(0x4c2)]=_0x46c7b2(0x9e4)+_0x4b83ee,document[_0x46c7b2(0x267)]('game-start-quiz-id')[_0x46c7b2(0x832)]=_0x51beb9,document[_0x46c7b2(0x267)](_0x46c7b2(0x7dd))['value']=_0x551937,document[_0x46c7b2(0x267)](_0x46c7b2(0x85a))[_0x46c7b2(0x6e2)]=!![],_0x9cda02[_0x46c7b2(0x25c)][_0x46c7b2(0x167)](_0x46c7b2(0xbc7));}async function saveGameResultsAsSubmissions(_0x2915fc){const _0x4a3eff=_0x176601;console[_0x4a3eff(0x469)]('Attempting\x20to\x20save\x20game\x20results...',_0x2915fc);const _0x16998f=_0x2915fc[_0x4a3eff(0x49a)];let _0x484ec0=[];if(_0x2915fc[_0x4a3eff(0x3e4)])_0x484ec0=Object[_0x4a3eff(0x899)](_0x2915fc['players'])[_0x4a3eff(0x697)](([_0x2c739b,_0x372637])=>({'name':_0x2c739b,..._0x372637}));else{if(_0x2915fc['groups'])Object[_0x4a3eff(0x8f5)](_0x2915fc[_0x4a3eff(0x7b0)])['forEach'](_0x254a60=>{const _0x1ffbb0=_0x4a3eff;_0x254a60[_0x1ffbb0(0xa89)][_0x1ffbb0(0x523)](_0x353647=>{const _0x31ff75=_0x1ffbb0;_0x484ec0['push']({'name':_0x353647,'score':_0x254a60[_0x31ff75(0x34f)]});});});else _0x2915fc['responses']&&Object['entries'](_0x2915fc[_0x4a3eff(0x655)])[_0x4a3eff(0x523)](([_0x15402c,_0x25edaa])=>{const _0x1843ad=_0x4a3eff;_0x484ec0[_0x1843ad(0x92e)]({'name':_0x15402c,..._0x25edaa});});}if(_0x484ec0[_0x4a3eff(0x2c7)]===0x0){console['log'](_0x4a3eff(0x775));return;}const _0x59aaf5=_0x2915fc[_0x4a3eff(0x860)]?.[_0x4a3eff(0x9ce)]['length']||currentQuizData[_0x4a3eff(0x9ce)][_0x4a3eff(0x2c7)],_0x53c5af=writeBatch(db);for(const _0x580177 of _0x484ec0){const _0x2ee366=_0x580177[_0x4a3eff(0x34f)]||0x0,_0x1f5a70=doc(db,_0x4a3eff(0x94a)+appId+_0x4a3eff(0xa34)+_0x16998f+_0x4a3eff(0xbd0),_0x580177[_0x4a3eff(0x6be)]),_0x226437=(_0x580177[_0x4a3eff(0x9e2)]||[])['filter'](_0x17ae4a=>_0x17ae4a[_0x4a3eff(0x26e)])['length'],_0x3497b0={'score':_0x226437,'points':_0x2ee366,'badges':_0x580177[_0x4a3eff(0x698)]||[],'submittedAt':new Date()[_0x4a3eff(0x7a6)](),'answers':(_0x580177['answers']||[])[_0x4a3eff(0x697)](_0x217f68=>({'questionId':_0x217f68[_0x4a3eff(0x946)],'answer':_0x217f68[_0x4a3eff(0x2bf)],'answerText':_0x217f68[_0x4a3eff(0xb65)],'isCorrect':_0x217f68[_0x4a3eff(0x26e)],'originalQuestionText':_0x217f68['originalQuestionText'],'wasConfident':_0x217f68['wasConfident']}))},_0x21043e=await getDoc(_0x1f5a70),_0x39da7b=_0x21043e[_0x4a3eff(0x4b5)]()?_0x21043e['data']():{},_0x13e0ff=_0x39da7b[_0x4a3eff(0x75c)]||0x0,_0x10d052=_0x39da7b[_0x4a3eff(0x8ca)]||[],_0x277cf8={'studentName':_0x580177[_0x4a3eff(0x6be)],'totalQuestions':_0x59aaf5,'attempts':arrayUnion(_0x3497b0),'latestScore':_0x226437,'points':_0x2ee366,'latestSubmittedAt':_0x3497b0[_0x4a3eff(0x32a)],'bestScore':Math[_0x4a3eff(0x491)](_0x13e0ff,_0x226437),'firstScore':_0x10d052['length']===0x0?_0x226437:_0x39da7b['firstScore']||0x0};_0x53c5af[_0x4a3eff(0x931)](_0x1f5a70,_0x277cf8,{'merge':!![]});}try{await _0x53c5af[_0x4a3eff(0x202)](),showMessage(_0x4a3eff(0x2f6)+_0x484ec0[_0x4a3eff(0x2c7)]+_0x4a3eff(0x61c));const _0x3bd3cb=_0x2915fc[_0x4a3eff(0x860)]?.[_0x4a3eff(0x8ae)]||currentQuizData?.[_0x4a3eff(0x8ae)]||currentProjectId;if(_0x3bd3cb){const _0x4bf6e4=[...new Set(_0x484ec0[_0x4a3eff(0x697)](_0xd282d9=>_0xd282d9[_0x4a3eff(0x6be)]))];for(const _0x16ec2e of _0x4bf6e4){await updateStudentProfile(_0x3bd3cb,_0x16ec2e);}}}catch(_0x4bc55b){console[_0x4a3eff(0xa65)](_0x4a3eff(0x1a5),_0x4bc55b),showMessage(_0x4a3eff(0x3f8));}}async function saveQuiz(_0x11efce=null,_0x2dedca=null){const _0x246c84=_0x176601,_0x3eba41=_0x11efce||currentProjectId;if(!_0x3eba41){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x246c84(0x543));return;}const _0x41efdf=document['getElementById'](_0x246c84(0xb53));_0x41efdf['disabled']=!![],_0x41efdf[_0x246c84(0xab8)]=_0x246c84(0x3e2);const _0x2bc0dd=document[_0x246c84(0x267)]('pre-test-checkbox')[_0x246c84(0x6e2)];let _0x4217fe=document[_0x246c84(0x267)](_0x246c84(0x6b0))['innerText']['trim']();_0x2bc0dd&&!_0x4217fe['startsWith'](_0x246c84(0x5ba))&&(_0x4217fe=_0x246c84(0x17c)+_0x4217fe);try{const _0x539b53={'resultsDisplay':document[_0x246c84(0x267)](_0x246c84(0x3ce))[_0x246c84(0x832)],'shuffle':document[_0x246c84(0x267)]('shuffle-setting-select')['value'],'timerMode':document['getElementById'](_0x246c84(0x378))[_0x246c84(0x832)],'timerDuration':parseInt(document[_0x246c84(0x267)](_0x246c84(0xa00))[_0x246c84(0x832)])||0xa,'passingScore':parseInt(document[_0x246c84(0x267)]('passing-score-input')[_0x246c84(0x832)])||0x0,'isAdaptive':document[_0x246c84(0x267)](_0x246c84(0x51a))[_0x246c84(0x6e2)],'loopUntilPass':document[_0x246c84(0x267)](_0x246c84(0x91f))['checked']},_0x1d2c2e=(currentQuizData[_0x246c84(0x9ce)]||[])['map']((_0x44f25e,_0x2a885d)=>{const _0x5bce6b=_0x246c84,_0x1872d4=document[_0x5bce6b(0x267)]('quiz-type-select')[_0x5bce6b(0x832)],_0x613112={'id':'q_'+Date['now']()+'_'+_0x2a885d,'questionText':_0x44f25e[_0x5bce6b(0x911)]||'','explanation':_0x44f25e[_0x5bce6b(0x9ff)]||_0x5bce6b(0x871),'questionType':_0x44f25e[_0x5bce6b(0x9c3)]||_0x1872d4,'imageCode':_0x44f25e[_0x5bce6b(0x9ed)]||null};return(_0x613112[_0x5bce6b(0x9c3)]===_0x5bce6b(0x3e7)||_0x613112[_0x5bce6b(0x9c3)]==='fill_in_with_choices'||_0x613112[_0x5bce6b(0x9c3)]===_0x5bce6b(0xb77)&&_0x44f25e[_0x5bce6b(0x61a)])&&(_0x613112[_0x5bce6b(0x61a)]=_0x44f25e[_0x5bce6b(0x61a)]||[],_0x613112['correctAnswerIndex']=_0x44f25e[_0x5bce6b(0x1f1)]!==undefined?_0x44f25e[_0x5bce6b(0x1f1)]:0x0),(_0x613112['questionType']===_0x5bce6b(0x477)||_0x613112[_0x5bce6b(0x9c3)]===_0x5bce6b(0x184)||_0x613112[_0x5bce6b(0x9c3)]===_0x5bce6b(0xb77)&&_0x44f25e[_0x5bce6b(0x3be)])&&(_0x613112[_0x5bce6b(0x3be)]=_0x44f25e[_0x5bce6b(0x3be)]||''),_0x613112[_0x5bce6b(0x9c3)]===_0x5bce6b(0x9c7)&&(_0x613112[_0x5bce6b(0xb9b)]=_0x44f25e['correctAnswer']===!![]),_0x613112[_0x5bce6b(0x9c3)]===_0x5bce6b(0x4ed)&&(_0x613112['stem']=_0x44f25e[_0x5bce6b(0x232)]||'',_0x613112[_0x5bce6b(0x6a9)]=_0x44f25e[_0x5bce6b(0x6a9)]||'',_0x613112[_0x5bce6b(0x773)]=_0x44f25e[_0x5bce6b(0x773)]||[]),_0x613112;}),_0x42c8fe={'topic':_0x4217fe,'quizType':currentQuizData[_0x246c84(0x84e)]||'multiple_choice','questions':_0x1d2c2e,'projectId':_0x3eba41,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x539b53,'quizMode':_0x2bc0dd?_0x246c84(0xa7f):_0x246c84(0x30a),'pairedQuizId':null,'lessonPlan':null};let _0x114ec1;while(!![]){_0x114ec1=Math[_0x246c84(0xbdd)](0x3e8+Math[_0x246c84(0x658)]()*0x2328)[_0x246c84(0x5bc)]();const _0xac13a=await getDoc(doc(db,_0x246c84(0x94a)+appId+_0x246c84(0xb3f),_0x114ec1));if(!_0xac13a[_0x246c84(0x4b5)]())break;}await setDoc(doc(db,_0x246c84(0x94a)+appId+_0x246c84(0xb3f),_0x114ec1),_0x42c8fe);if(_0x2dedca&&currentBlueprintProjectId){console[_0x246c84(0x469)](_0x246c84(0x3c3)+_0x114ec1+_0x246c84(0x6cb)+_0x2dedca);try{const _0xeb1739=doc(db,_0x246c84(0x94a)+appId+_0x246c84(0xab6),currentBlueprintProjectId);await updateDoc(_0xeb1739,{['topics.'+_0x2dedca+'.linkedQuizIds']:arrayUnion(_0x114ec1)});}catch(_0x39c429){console['error'](_0x246c84(0x406),_0x39c429);}}currentQuizData[_0x246c84(0x8e6)]=_0x539b53,currentQuizData['id']=_0x114ec1;const _0x3ddd32=document[_0x246c84(0x267)](_0x246c84(0x24e));_0x3ddd32['innerHTML']=_0x246c84(0x74c)+_0x114ec1+_0x246c84(0x572),document[_0x246c84(0x267)](_0x246c84(0x4dc))[_0x246c84(0xbb9)](_0x246c84(0x292),()=>copyTextToClipboard(_0x114ec1,'คัดลอกรหัสแล้ว!')),document[_0x246c84(0x267)](_0x246c84(0x769))[_0x246c84(0xbb9)](_0x246c84(0x292),()=>handleStartLiveRace(_0x114ec1)),document[_0x246c84(0x267)](_0x246c84(0x319))[_0x246c84(0xbb9)](_0x246c84(0x292),()=>startPresentation(currentQuizData)),document[_0x246c84(0x267)](_0x246c84(0x560))['addEventListener'](_0x246c84(0x292),startAdminTest),showMessage(_0x246c84(0x245));}catch(_0x175dc2){console[_0x246c84(0xa65)]('Error\x20saving\x20quiz:',_0x175dc2),showMessage(_0x246c84(0x7d9));}finally{_0x41efdf[_0x246c84(0x76a)]=![],_0x41efdf[_0x246c84(0xab8)]=_0x246c84(0xb33);}}function promptForProjectAndSave(){const _0x3267fc=_0x176601,_0x69a9e3=document[_0x3267fc(0x267)](_0x3267fc(0x743)),_0x183119=document[_0x3267fc(0x267)](_0x3267fc(0x74f)),_0xf7fa6d=_0x69a9e3[_0x3267fc(0x690)]('h3'),_0x1c4ff6=document['getElementById']('confirm-move-quiz-btn');_0xf7fa6d['textContent']=_0x3267fc(0x83e),_0x1c4ff6[_0x3267fc(0x4c2)]=_0x3267fc(0x24c);allProjects[_0x3267fc(0x2c7)]===0x0?(_0x183119[_0x3267fc(0xab8)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x1c4ff6[_0x3267fc(0x76a)]=!![]):(_0x183119['innerHTML']=allProjects['map'](_0x167ab4=>_0x3267fc(0xba4)+_0x167ab4['id']+'\x22>'+_0x167ab4[_0x3267fc(0x2ea)]+_0x3267fc(0x53f))[_0x3267fc(0x706)](''),_0x1c4ff6[_0x3267fc(0x76a)]=![]);_0x69a9e3['classList'][_0x3267fc(0x167)]('hidden');const _0x2b89bf=()=>{const _0x3dae93=_0x3267fc,_0x5d0395=_0x183119['value'];_0x5d0395?(currentProjectId=_0x5d0395,_0x69a9e3[_0x3dae93(0x25c)][_0x3dae93(0x8a5)](_0x3dae93(0xbc7)),saveQuiz(),_0xf7fa6d[_0x3dae93(0x4c2)]=_0x3dae93(0x4af),_0x1c4ff6[_0x3dae93(0x4c2)]=_0x3dae93(0x679),_0x1c4ff6[_0x3dae93(0x4cc)](_0x3dae93(0x292),_0x2b89bf),_0x1c4ff6[_0x3dae93(0xbb9)](_0x3dae93(0x292),confirmMoveQuiz)):showMessage(_0x3dae93(0x5cf));};_0x1c4ff6[_0x3267fc(0x4cc)](_0x3267fc(0x292),confirmMoveQuiz),_0x1c4ff6['addEventListener']('click',_0x2b89bf);}function copyTextToClipboard(_0xfcb120,_0x18f8ce){const _0x52b3e3=_0x176601,_0x1981c7=document[_0x52b3e3(0x718)](_0x52b3e3(0x2ef));_0x1981c7[_0x52b3e3(0x832)]=_0xfcb120,_0x1981c7[_0x52b3e3(0x58e)]['position']=_0x52b3e3(0xa66),_0x1981c7[_0x52b3e3(0x58e)][_0x52b3e3(0x49e)]='0',document['body'][_0x52b3e3(0x387)](_0x1981c7),_0x1981c7[_0x52b3e3(0x51d)](),_0x1981c7[_0x52b3e3(0x2d0)]();try{const _0x259ed0=document['execCommand'](_0x52b3e3(0x7ce));showMessage(_0x259ed0?_0x18f8ce:_0x52b3e3(0x936));}catch(_0x2effa6){showMessage(_0x52b3e3(0x936)),console['error']('Copy\x20command\x20failed',_0x2effa6);}document['body'][_0x52b3e3(0x57b)](_0x1981c7);}function listenForProjectQuizzes(_0x4a829b){const _0x223220=_0x176601,_0x19f87c=collection(db,_0x223220(0x94a)+appId+_0x223220(0xb3f)),_0xb8b9e7=query(_0x19f87c,where('projectId','==',_0x4a829b));unsubscribeQuizzesListener=onSnapshot(_0xb8b9e7,async _0x316537=>{const _0x3691b3=_0x223220;allQuizzes=_0x316537[_0x3691b3(0xbff)][_0x3691b3(0x697)](_0x572c79=>({'id':_0x572c79['id'],..._0x572c79[_0x3691b3(0xa77)]()})),renderQuizzes();},_0x55c389=>{const _0x3e0479=_0x223220;console[_0x3e0479(0xa65)](_0x3e0479(0xaaf),_0x55c389),document[_0x3e0479(0x267)](_0x3e0479(0x3d6))['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x4d473d=_0x176601,_0x1ca6d6=document[_0x4d473d(0x267)]('project-quizzes-list'),_0x2ee7db=document[_0x4d473d(0x267)](_0x4d473d(0x798))['value'][_0x4d473d(0x280)]();let _0x3376cf;currentProjectId===_0x4d473d(0x93a)?_0x3376cf=starredQuizzes:_0x3376cf=allQuizzes;let _0x580144=_0x3376cf[_0x4d473d(0xb79)](_0x4cd46b=>_0x4cd46b[_0x4d473d(0x62b)][_0x4d473d(0x280)]()[_0x4d473d(0x4bd)](_0x2ee7db));_0x580144[_0x4d473d(0x953)]((_0x5b09ee,_0x36dce9)=>new Date(_0x36dce9[_0x4d473d(0x289)])-new Date(_0x5b09ee[_0x4d473d(0x289)]));if(_0x580144[_0x4d473d(0x2c7)]===0x0){_0x1ca6d6[_0x4d473d(0xab8)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x375355={},_0x5bb994=_0x580144['map'](async _0x9e2f49=>{const _0x5f1b5a=_0x4d473d,_0x567483=collection(db,_0x5f1b5a(0x94a)+appId+_0x5f1b5a(0xa34)+_0x9e2f49['id']+'/submissions'),_0x3ae984=await getDocs(_0x567483);_0x375355[_0x9e2f49['id']]=_0x3ae984[_0x5f1b5a(0xbd1)];});await Promise['all'](_0x5bb994);let _0x5d133e='';_0x580144[_0x4d473d(0x523)](_0xfd8d49=>{const _0x3c25e7=_0x4d473d,_0x3f06c9=_0x375355[_0xfd8d49['id']]||0x0,_0xd68baa=_0xfd8d49[_0x3c25e7(0x471)]||'active',_0x510687=_0xfd8d49['settings']?.[_0x3c25e7(0x305)]||_0x3c25e7(0x201);let _0x1f117a='',_0x481bdd='';const _0x21d2ac=new Date();let _0x256803=_0xd68baa;if(_0xd68baa===_0x3c25e7(0x6aa)){const _0x3f56fb=_0xfd8d49[_0x3c25e7(0xa4e)]?new Date(_0xfd8d49[_0x3c25e7(0xa4e)]):null,_0x99def=_0xfd8d49[_0x3c25e7(0x959)]?new Date(_0xfd8d49['endTime']):null;if(_0x99def&&_0x21d2ac>_0x99def)_0x256803=_0x3c25e7(0x3e8);else _0x3f56fb&&_0x21d2ac<_0x3f56fb?_0x256803=_0x3c25e7(0x9bd):_0x256803=_0x3c25e7(0x866);}switch(_0x256803){case'inactive':_0x1f117a=_0x3c25e7(0x878),_0x481bdd=_0x3c25e7(0xa81);break;case _0x3c25e7(0x9bd):_0x1f117a=_0x3c25e7(0x215),_0x481bdd=_0x3c25e7(0x26b);break;case _0x3c25e7(0x866):_0x1f117a=_0x510687!=='none'?_0x3c25e7(0x162):_0x3c25e7(0x5da),_0x481bdd=_0x3c25e7(0x783);break;default:_0x1f117a=_0x3c25e7(0x276),_0x481bdd=_0x3c25e7(0x783);break;}let _0x23102a='';const _0x10c150={'day':'2-digit','month':_0x3c25e7(0x1ac),'year':'numeric','hour':_0x3c25e7(0x1ac),'minute':_0x3c25e7(0x1ac),'hour12':![]};if(_0xd68baa===_0x3c25e7(0x6aa)){if(_0xfd8d49[_0x3c25e7(0xa4e)])_0x23102a+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0xfd8d49['startTime'])[_0x3c25e7(0x6ff)](_0x3c25e7(0x414),_0x10c150)+_0x3c25e7(0xa5b);if(_0xfd8d49[_0x3c25e7(0x959)])_0x23102a+=_0x3c25e7(0x907)+new Date(_0xfd8d49[_0x3c25e7(0x959)])[_0x3c25e7(0x6ff)]('th-TH',_0x10c150)+'</p>';}let _0x531d59='';if(_0xfd8d49[_0x3c25e7(0x759)]){const _0x546a46=allQuizzes[_0x3c25e7(0x70b)](_0x234d3=>_0x234d3['id']===_0xfd8d49[_0x3c25e7(0x759)]);if(_0x546a46){let _0xfd77ea,_0x53021e;new Date(_0xfd8d49[_0x3c25e7(0x289)])<new Date(_0x546a46['createdAt'])?(_0xfd77ea=_0xfd8d49['id'],_0x53021e=_0x546a46['id']):(_0xfd77ea=_0x546a46['id'],_0x53021e=_0xfd8d49['id']),_0x531d59+=_0x3c25e7(0x974)+_0x53021e+'\x22\x20data-pre-test-id=\x22'+_0xfd77ea+_0x3c25e7(0x440);}}else _0xfd8d49[_0x3c25e7(0x703)]===_0x3c25e7(0xa7f)&&(_0x531d59+=_0x3c25e7(0x789)+_0xfd8d49['id']+_0x3c25e7(0x5a9));if(_0xfd8d49[_0x3c25e7(0x703)]===_0x3c25e7(0xa7f)&&_0x3f06c9>0x0)_0x531d59+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfd8d49['id']+_0x3c25e7(0x3a8);else!_0xfd8d49[_0x3c25e7(0x759)]&&_0xfd8d49[_0x3c25e7(0x703)]!==_0x3c25e7(0xa7f)&&_0x3f06c9>0x0&&(_0x531d59+=_0x3c25e7(0x789)+_0xfd8d49['id']+_0x3c25e7(0x93d));let _0x1bf82d='';_0xfd8d49[_0x3c25e7(0x759)]?_0x1bf82d=_0x3c25e7(0x712)+_0xfd8d49['id']+_0x3c25e7(0x68d):_0x1bf82d='<button\x20data-quiz-id=\x22'+_0xfd8d49['id']+_0x3c25e7(0x977),_0x5d133e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0xfd8d49['id']+_0x3c25e7(0x33f)+_0xfd8d49[_0x3c25e7(0x62b)]+_0x3c25e7(0x73d)+_0xfd8d49[_0x3c25e7(0x9ce)][_0x3c25e7(0x2c7)]+_0x3c25e7(0x627)+new Date(_0xfd8d49['createdAt'])[_0x3c25e7(0x6ff)](_0x3c25e7(0x414))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x3f06c9+_0x3c25e7(0x2c8)+_0x23102a+_0x3c25e7(0x25b)+_0x481bdd+'\x22>'+_0x1f117a+_0x3c25e7(0x5a4)+_0xfd8d49['id']+_0x3c25e7(0x31d)+_0xfd8d49['id']+_0x3c25e7(0x58b)+(_0xfd8d49[_0x3c25e7(0x31c)]?_0x3c25e7(0x9e0):_0x3c25e7(0x19a))+_0x3c25e7(0x89a)+_0x531d59+_0x3c25e7(0xb55)+_0xfd8d49['id']+_0x3c25e7(0x562)+_0xfd8d49['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfd8d49['id']+_0x3c25e7(0x4d7)+_0xfd8d49['id']+_0x3c25e7(0x21c)+_0xfd8d49['id']+_0x3c25e7(0x6fa)+_0xfd8d49['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfd8d49['id']+_0x3c25e7(0x17f)+_0xfd8d49[_0x3c25e7(0x62b)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfd8d49['id']+_0x3c25e7(0x9a7)+_0xfd8d49['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bf82d+_0x3c25e7(0x9f9)+_0xfd8d49['id']+_0x3c25e7(0x23a)+_0xfd8d49['id']+_0x3c25e7(0x8e9)+_0xfd8d49['id']+_0x3c25e7(0x9c0)+_0xfd8d49['id']+_0x3c25e7(0x7e9)+_0xfd8d49['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfd8d49['id']+_0x3c25e7(0x98f)+_0xfd8d49['id']+_0x3c25e7(0xbbf)+_0xfd8d49['id']+'\x22\x20data-topic=\x22'+_0xfd8d49[_0x3c25e7(0x62b)]+_0x3c25e7(0x9ca)+_0xfd8d49['id']+_0x3c25e7(0x379);}),_0x1ca6d6[_0x4d473d(0xab8)]=_0x5d133e,document[_0x4d473d(0x6d4)](_0x4d473d(0xad4))['forEach'](_0x3f209f=>{const _0x3dc7f6=_0x4d473d;_0x3f209f[_0x3dc7f6(0xbb9)]('click',()=>{const _0x28bae0=_0x3dc7f6,_0x33dfc5=_0x3f209f[_0x28bae0(0x89d)]['quizId'];showQuizDetailView(_0x33dfc5);});});}async function handleUnpairQuiz(_0x34bc6c){const _0x18e28d=_0x176601,_0x3eb8ce=allQuizzes['find'](_0x12c30d=>_0x12c30d['id']===_0x34bc6c);if(!_0x3eb8ce||!_0x3eb8ce[_0x18e28d(0x759)]){showMessage(_0x18e28d(0x642));return;}showConfirmation(_0x18e28d(0x6c7),async()=>{const _0xa6abcb=_0x18e28d;try{const _0x3fdba4=doc(db,_0xa6abcb(0x94a)+appId+_0xa6abcb(0xb3f),_0x34bc6c),_0x3da152=doc(db,_0xa6abcb(0x94a)+appId+'/public/data/quizzes',_0x3eb8ce['pairedQuizId']),_0xda9b61=writeBatch(db);_0xda9b61['update'](_0x3fdba4,{'pairedQuizId':null}),_0xda9b61[_0xa6abcb(0x2c9)](_0x3da152,{'pairedQuizId':null}),await _0xda9b61[_0xa6abcb(0x202)](),showMessage(_0xa6abcb(0x2b2));}catch(_0x58b7a1){console[_0xa6abcb(0xa65)](_0xa6abcb(0x92d),_0x58b7a1),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x41ffc9,_0xa38974){const _0x506dd2=_0x176601,_0x517a4f=window[_0x506dd2(0xbad)]('','_blank'),_0x2d2870=_0x506dd2(0x88c)+_0xa38974['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0xa38974[_0x506dd2(0x62b)]+_0x506dd2(0x5f3)+_0x41ffc9['learningGaps'][_0x506dd2(0x697)](_0x430cce=>'<li>'+_0x430cce+_0x506dd2(0x3a9))[_0x506dd2(0x706)]('')+_0x506dd2(0x592)+_0x41ffc9[_0x506dd2(0xb6a)]+_0x506dd2(0x1b3)+_0x41ffc9[_0x506dd2(0x740)][_0x506dd2(0x697)](_0xba5b97=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0xba5b97['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0xba5b97[_0x506dd2(0x89c)]+_0x506dd2(0x8af))[_0x506dd2(0x706)]('')+_0x506dd2(0x71b);_0x517a4f[_0x506dd2(0x279)]['write'](_0x2d2870),_0x517a4f[_0x506dd2(0x279)][_0x506dd2(0x979)](),_0x517a4f[_0x506dd2(0x7e0)]=function(){setTimeout(()=>{const _0x5441c4=_0x1728;_0x517a4f[_0x5441c4(0x412)]();},0x3e8);};}async function handleAiFixFormula(_0x59f1dd){const _0x4a8acd=_0x176601,_0x5ab84a=document[_0x4a8acd(0x690)](_0x4a8acd(0x49f)+_0x59f1dd+'\x22]');if(!_0x5ab84a)return;const _0x17426a=_0x5ab84a['dataset'][_0x4a8acd(0x459)],_0x24b7f9=_0x5ab84a[_0x4a8acd(0x690)](_0x4a8acd(0x943));let _0x4c169d={'question':_0x5ab84a['querySelector'](_0x4a8acd(0x2ef))['value']};switch(_0x17426a){case'multiple_choice':_0x4c169d[_0x4a8acd(0x61a)]=Array[_0x4a8acd(0x6d9)](_0x5ab84a[_0x4a8acd(0x6d4)](_0x4a8acd(0x19b)))['map'](_0x46b0fc=>_0x46b0fc[_0x4a8acd(0x832)]);break;case _0x4a8acd(0x477):_0x4c169d[_0x4a8acd(0x3be)]=_0x5ab84a['querySelector']('.ideal-answer-input')[_0x4a8acd(0x832)];break;case _0x4a8acd(0x4ed):_0x4c169d[_0x4a8acd(0x6a9)]=_0x5ab84a[_0x4a8acd(0x690)](_0x4a8acd(0x8cc))[_0x4a8acd(0x832)];break;}_0x24b7f9[_0x4a8acd(0xab8)]=_0x4a8acd(0x32d),_0x24b7f9['disabled']=!![];try{const _0x38d474=_0x4a8acd(0x4ac)+JSON['stringify'](_0x4c169d)+_0x4a8acd(0x460),_0x27165b={'type':_0x4a8acd(0x9f7),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x4a8acd(0x5fb)},'options':{'type':_0x4a8acd(0x876),'items':{'type':_0x4a8acd(0x5fb)}},'idealAnswer':{'type':_0x4a8acd(0x5fb)},'correctResponse':{'type':_0x4a8acd(0x5fb)}},'required':[_0x4a8acd(0x6a1)]}},'required':[_0x4a8acd(0x8db)]},_0x192713=await callAnalysisApi(_0x38d474,_0x27165b);if(_0x192713&&_0x192713[_0x4a8acd(0x8db)]){const _0x513a26=_0x192713[_0x4a8acd(0x8db)];_0x5ab84a['querySelector'](_0x4a8acd(0x2ef))[_0x4a8acd(0x832)]=_0x513a26[_0x4a8acd(0x6a1)]||_0x4c169d[_0x4a8acd(0x6a1)];switch(_0x17426a){case _0x4a8acd(0x3e7):_0x513a26[_0x4a8acd(0x61a)]&&_0x513a26['options'][_0x4a8acd(0x2c7)]>0x0&&_0x5ab84a[_0x4a8acd(0x6d4)](_0x4a8acd(0x19b))[_0x4a8acd(0x523)]((_0x3fdd72,_0x7b12cf)=>{const _0x1f3ebb=_0x4a8acd;_0x3fdd72[_0x1f3ebb(0x832)]=_0x513a26[_0x1f3ebb(0x61a)][_0x7b12cf]||_0x4c169d['options'][_0x7b12cf];});break;case _0x4a8acd(0x477):_0x5ab84a['querySelector'](_0x4a8acd(0x254))[_0x4a8acd(0x832)]=_0x513a26[_0x4a8acd(0x3be)]||_0x4c169d[_0x4a8acd(0x3be)];break;case _0x4a8acd(0x4ed):_0x5ab84a['querySelector'](_0x4a8acd(0x8cc))['value']=_0x513a26[_0x4a8acd(0x6a9)]||_0x4c169d[_0x4a8acd(0x6a9)];break;}if(_0x4c169d[_0x4a8acd(0x6a1)]!==_0x513a26['question'])try{const _0x49c270=collection(db,_0x4a8acd(0x94a)+appId+_0x4a8acd(0x828));await addDoc(_0x49c270,{'broken':_0x4c169d[_0x4a8acd(0x6a1)],'fixed':_0x513a26['question'],'createdAt':serverTimestamp()});}catch(_0x30a0c5){console[_0x4a8acd(0xa65)](_0x4a8acd(0x3bc),_0x30a0c5);}showMessage(_0x4a8acd(0x514));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x314a92){console['error']('AI\x20Formula\x20Fix\x20Error:',_0x314a92),showMessage(_0x4a8acd(0x249));}finally{_0x24b7f9[_0x4a8acd(0xab8)]=_0x4a8acd(0x43f),_0x24b7f9[_0x4a8acd(0x76a)]=![];}}async function handleGenerateLessonPlan(_0x477645){const _0x2b1ce2=_0x176601;showMessage(_0x2b1ce2(0x65f));try{const _0x272966=doc(db,_0x2b1ce2(0x94a)+appId+_0x2b1ce2(0xb3f),_0x477645),_0x52b23a=await getDoc(_0x272966);if(!_0x52b23a['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x1dda73={'id':_0x477645,..._0x52b23a['data']()},_0x3427b6=collection(db,_0x2b1ce2(0x94a)+appId+_0x2b1ce2(0xb3f),_0x477645,_0x2b1ce2(0x3e9)),_0x152c3b=await getDocs(_0x3427b6),_0x93038b=_0x152c3b[_0x2b1ce2(0xbff)][_0x2b1ce2(0x697)](_0x5c6344=>_0x5c6344['data']());if(_0x93038b[_0x2b1ce2(0x2c7)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x1c992a=calculateItemAnalysis(_0x1dda73,_0x93038b)[_0x2b1ce2(0x7bf)],_0x27ea8b=calculateDistractorAnalysis(_0x1dda73,_0x93038b),_0x1b2886=_0x496d6f=>{const _0x4eb36e=_0x2b1ce2;if(!_0x496d6f)return'';return _0x496d6f[_0x4eb36e(0x24a)](/\\/g,'\x5c\x5c')[_0x4eb36e(0x24a)](/"/g,'\x5c\x22')[_0x4eb36e(0x24a)](/\n/g,'\x5cn');};let _0x4531e3=_0x2b1ce2(0x438);_0x1dda73['questions'][_0x2b1ce2(0x523)]((_0x59f7dc,_0x2e7ccb)=>{const _0x10376f=_0x2b1ce2,_0x168650=_0x1c992a[_0x2e7ccb]?.['p'][_0x10376f(0x366)](0x2)||'N/A',_0x1c5beb=_0x1c992a[_0x2e7ccb]?.['r'][_0x10376f(0x366)](0x2)||_0x10376f(0x356),_0x4e3019=_0x1b2886(_0x59f7dc['questionText']||_0x59f7dc[_0x10376f(0x232)]);_0x4531e3+=_0x10376f(0x807)+(_0x2e7ccb+0x1)+_0x10376f(0x4f3)+_0x168650+_0x10376f(0x458)+_0x1c5beb+_0x10376f(0x784)+_0x4e3019+'\x5cn';if(_0x59f7dc[_0x10376f(0x9c3)]==='multiple_choice'&&_0x27ea8b[_0x2e7ccb]){const _0x3824b5=_0x27ea8b[_0x2e7ccb],_0x5571b1=Object[_0x10376f(0x966)](_0x3824b5)[_0x10376f(0xb79)](_0x1c403f=>parseInt(_0x1c403f)!==_0x59f7dc['correctAnswerIndex'])['sort']((_0x3c5caa,_0x106d14)=>_0x3824b5[_0x106d14]['total']-_0x3824b5[_0x3c5caa][_0x10376f(0xb11)])[0x0];if(_0x5571b1&&_0x3824b5[_0x5571b1][_0x10376f(0xb11)]>0x0){const _0xc6f9f5=_0x1b2886(_0x3824b5[_0x5571b1][_0x10376f(0x648)]);_0x4531e3+=_0x10376f(0x5e9)+_0xc6f9f5+_0x10376f(0x9b3);}}});const _0x434cf9=_0x2b1ce2(0x217)+_0x1dda73[_0x2b1ce2(0x62b)]+_0x2b1ce2(0x7ca)+_0x4531e3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x372dc7={'type':'OBJECT','properties':{'learningGaps':{'type':_0x2b1ce2(0x876),'items':{'type':_0x2b1ce2(0x5fb)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x2b1ce2(0x876),'items':{'type':_0x2b1ce2(0x9f7),'properties':{'question':{'type':_0x2b1ce2(0x5fb)},'solution':{'type':_0x2b1ce2(0x5fb)}}}}},'required':[_0x2b1ce2(0x6f7),_0x2b1ce2(0xb6a),_0x2b1ce2(0x740)]},_0x5bdf8f=await callAnalysisApi(_0x434cf9,_0x372dc7);await updateDoc(_0x272966,{'lessonPlan':_0x5bdf8f});const _0x569f94=_0x2b1ce2(0x517)+_0x1dda73[_0x2b1ce2(0x62b)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x5bdf8f[_0x2b1ce2(0x6f7)][_0x2b1ce2(0x697)](_0x3b34f7=>_0x2b1ce2(0x7f5)+_0x3b34f7+_0x2b1ce2(0x3a9))[_0x2b1ce2(0x706)]('')+_0x2b1ce2(0x60e)+_0x5bdf8f[_0x2b1ce2(0xb6a)]+_0x2b1ce2(0xa11)+_0x5bdf8f[_0x2b1ce2(0x740)][_0x2b1ce2(0x697)](_0x1bd596=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x1bd596['question']+_0x2b1ce2(0x539)+_0x1bd596[_0x2b1ce2(0x89c)]+_0x2b1ce2(0x829))[_0x2b1ce2(0x706)]('')+_0x2b1ce2(0xa1b);document['getElementById'](_0x2b1ce2(0x8ee))[_0x2b1ce2(0x4c2)]=_0x2b1ce2(0x660)+_0x1dda73[_0x2b1ce2(0x62b)],document['getElementById'](_0x2b1ce2(0x55d))[_0x2b1ce2(0xab8)]=_0x569f94,document[_0x2b1ce2(0x267)](_0x2b1ce2(0x8d6))[_0x2b1ce2(0x25c)][_0x2b1ce2(0x167)](_0x2b1ce2(0xbc7));if(window['MathJax'])MathJax[_0x2b1ce2(0x5bf)]();messageModal[_0x2b1ce2(0x25c)][_0x2b1ce2(0x8a5)]('hidden');}catch(_0x280483){console['error'](_0x2b1ce2(0x332),_0x280483),showMessage(_0x2b1ce2(0x4f8)+_0x280483['message']);}}async function handleDuplicateQuiz(_0x132ce2){const _0x313a28=_0x176601;try{const _0x16f01b=doc(db,_0x313a28(0x94a)+appId+_0x313a28(0xb3f),_0x132ce2),_0x3fb481=await getDoc(_0x16f01b);if(_0x3fb481[_0x313a28(0x4b5)]()){const _0x1514f6=_0x3fb481[_0x313a28(0xa77)]();let _0x40c8b7='',_0x265fae=_0x313a28(0x30a),_0xbcd54e=null;if(_0x1514f6[_0x313a28(0x703)]===_0x313a28(0xa7f)){let _0x133b26=_0x1514f6[_0x313a28(0x62b)]['replace'](_0x313a28(0x5ba),'')[_0x313a28(0xa5f)]();_0x40c8b7='(หลังเรียน)\x20'+_0x133b26,_0x265fae=_0x313a28(0x4d9),_0xbcd54e=_0x132ce2;}else _0x40c8b7=_0x313a28(0xad3)+_0x1514f6[_0x313a28(0x62b)];const _0x5ca9de={..._0x1514f6,'topic':_0x40c8b7,'createdAt':new Date()[_0x313a28(0x7a6)](),'quizMode':_0x265fae,'pairedQuizId':_0xbcd54e};let _0x404409;while(!![]){_0x404409=Math[_0x313a28(0xbdd)](0x3e8+Math[_0x313a28(0x658)]()*0x2328)[_0x313a28(0x5bc)]();const _0x32bee1=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x404409));if(!_0x32bee1[_0x313a28(0x4b5)]())break;}const _0x35016f=doc(db,_0x313a28(0x94a)+appId+_0x313a28(0xb3f),_0x404409);await setDoc(_0x35016f,_0x5ca9de),_0x5ca9de[_0x313a28(0x703)]===_0x313a28(0x4d9)&&await updateDoc(_0x16f01b,{'pairedQuizId':_0x404409}),showMessage(_0x313a28(0x92b));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x1e9196){console[_0x313a28(0xa65)](_0x313a28(0xc04),_0x1e9196),showMessage(_0x313a28(0x7be));}}async function handleDeleteQuiz(_0x537a58,_0x34b44e=!![]){const _0x3d85f7=_0x176601;try{const _0x1beacb=writeBatch(db),_0x540e3a=collection(db,'artifacts/'+appId+_0x3d85f7(0xa34)+_0x537a58+_0x3d85f7(0xbd0)),_0x36dc5a=await getDocs(_0x540e3a);_0x36dc5a['forEach'](_0x4d40dc=>{const _0x257a42=_0x3d85f7;_0x1beacb[_0x257a42(0x3ad)](doc(_0x540e3a,_0x4d40dc['id']));});const _0x3d0389=doc(db,_0x3d85f7(0x94a)+appId+_0x3d85f7(0xb3f),_0x537a58);_0x1beacb['delete'](_0x3d0389),await _0x1beacb['commit'](),_0x34b44e&&showMessage(_0x3d85f7(0x23d));}catch(_0x1696ae){console[_0x3d85f7(0xa65)]('Error\x20deleting\x20quiz:',_0x1696ae),_0x34b44e&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0xa8ccbe){const _0x199be7=_0x176601;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x199be7(0x796));try{const _0x43bbd5=doc(db,_0x199be7(0x94a)+appId+_0x199be7(0xb3f),_0xa8ccbe),_0x5f082b=await getDoc(_0x43bbd5);if(!_0x5f082b[_0x199be7(0x4b5)]()){showMessage(_0x199be7(0x521));return;}const _0x5e4aa5={'id':_0x5f082b['id'],..._0x5f082b['data']()};currentQuizData=_0x5e4aa5;const _0x1262ce=doc(db,_0x199be7(0x94a)+appId+'/public/data/projects',_0x5e4aa5[_0x199be7(0x8ae)]),_0x57f4e3=await getDoc(_0x1262ce);_0x57f4e3['exists']()?(currentProjectData=_0x57f4e3[_0x199be7(0xa77)](),currentProjectId=_0x5e4aa5[_0x199be7(0x8ae)]):(currentProjectData={'students':[]},currentProjectId=_0x5e4aa5['projectId']);document[_0x199be7(0x267)](_0x199be7(0xc11))['textContent']=_0x5e4aa5[_0x199be7(0x62b)],document[_0x199be7(0x267)](_0x199be7(0x8ff))['textContent']=_0xa8ccbe;const _0x32be50=collection(db,_0x199be7(0x94a)+appId+_0x199be7(0xb3f),_0xa8ccbe,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x32be50,_0x55736f=>{const _0x237141=_0x199be7,_0x1fbaf3=_0x55736f[_0x237141(0xbff)]['map'](_0xce9184=>({'id':_0xce9184['id'],..._0xce9184[_0x237141(0xa77)]()}));currentSubmissions=_0x1fbaf3;const _0x29ede2=_0x1fbaf3[_0x237141(0xb79)](_0x128e2c=>_0x128e2c[_0x237141(0x8ca)]&&_0x128e2c[_0x237141(0x8ca)]['length']>0x0);renderBehaviorLog(_0x1fbaf3),renderAnswerGrid(currentProjectData[_0x237141(0xbf9)],_0x29ede2,_0x5e4aa5),renderAnalytics(_0x5e4aa5,_0x29ede2),renderQuizResultsTable(currentProjectData[_0x237141(0xbf9)],_0x1fbaf3,_0x5e4aa5),renderQuizLeaderboard(_0x29ede2,_0x5e4aa5,'quiz-leaderboard-table-body');}),showView(_0x199be7(0x79e));}catch(_0x3adae3){console[_0x199be7(0xa65)](_0x199be7(0x2ec),_0x3adae3),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x478ebe,_0x3eeebf,_0x5b2cbf){const _0x24a57b=_0x176601,_0x139219=document[_0x24a57b(0x267)](_0x24a57b(0x415));if(!_0x139219)return;if(!_0x478ebe||_0x478ebe[_0x24a57b(0x2c7)]===0x0){_0x139219[_0x24a57b(0xab8)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x14b8cc=_0x5b2cbf[_0x24a57b(0x9ce)],_0x4255b9=_0x3eeebf[_0x24a57b(0x46b)]((_0x1fac48,_0x483c5c)=>{return _0x1fac48[_0x483c5c['studentName']]=_0x483c5c,_0x1fac48;},{}),_0x256bdd=_0x3bfcfb=>String[_0x24a57b(0x8a2)](0x41+_0x3bfcfb),_0x5daa50=_0x2691f8=>{const _0x3fc4d2=_0x24a57b,_0x1b428b=_0x2691f8['questionType']||_0x5b2cbf['quizType'];switch(_0x1b428b){case _0x3fc4d2(0x3e7):return _0x2691f8[_0x3fc4d2(0x61a)]&&_0x2691f8[_0x3fc4d2(0x61a)][_0x3fc4d2(0x2c7)]>_0x2691f8[_0x3fc4d2(0x1f1)]?_0x256bdd(_0x2691f8['correctAnswerIndex']):'-';case _0x3fc4d2(0x9c7):const _0x526d73=_0x2691f8[_0x3fc4d2(0xb9b)]===!![]||String(_0x2691f8[_0x3fc4d2(0xb9b)])[_0x3fc4d2(0x280)]()===_0x3fc4d2(0x268);return _0x526d73?_0x3fc4d2(0x901):_0x3fc4d2(0x5f4);case _0x3fc4d2(0x4ed):return _0x2691f8[_0x3fc4d2(0x6a9)]||'-';case'short_answer':return _0x3fc4d2(0xaa5);default:return'-';}},_0x28323d=(_0x3b912a,_0xe2f057)=>{const _0xd7a4e7=_0x24a57b;if(_0xe2f057['answer']===null||_0xe2f057['answer']===undefined)return'-';const _0x38dc75=_0x3b912a[_0xd7a4e7(0x9c3)]||_0x5b2cbf[_0xd7a4e7(0x84e)];switch(_0x38dc75){case _0xd7a4e7(0x3e7):const _0x403180=_0x3b912a[_0xd7a4e7(0x61a)][_0xd7a4e7(0x81f)](_0x1d3e99=>_0x1d3e99===_0xe2f057[_0xd7a4e7(0xb65)]);return _0x403180!==-0x1?_0x256bdd(_0x403180):_0xe2f057['answerText']||'-';case _0xd7a4e7(0x9c7):if(_0xe2f057['answer']=='0'||_0xe2f057[_0xd7a4e7(0x2bf)]===!![]||_0xe2f057[_0xd7a4e7(0x2bf)]===_0xd7a4e7(0x268))return _0xd7a4e7(0x901);return _0xd7a4e7(0x5f4);default:return _0xe2f057[_0xd7a4e7(0x2bf)];}};let _0x39ff32=_0x24a57b(0xb9e)+_0x14b8cc[_0x24a57b(0x697)]((_0x5ad831,_0x33e120)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x33e120+0x1)+_0x24a57b(0xb8d))[_0x24a57b(0x706)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14b8cc[_0x24a57b(0x697)](_0x4231ae=>_0x24a57b(0x485)+_0x5daa50(_0x4231ae)+_0x24a57b(0x1cf))[_0x24a57b(0x706)]('')+_0x24a57b(0x248);_0x478ebe[_0x24a57b(0x523)](_0xbc6f54=>{const _0x2334fa=_0x24a57b;_0x39ff32+='<tr>',_0x39ff32+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0xbc6f54+'</td>';const _0x3a6d25=_0x4255b9[_0xbc6f54];if(_0x3a6d25){const _0x2266bb=_0x3a6d25[_0x2334fa(0x8ca)][_0x3a6d25[_0x2334fa(0x8ca)][_0x2334fa(0x2c7)]-0x1];_0x14b8cc[_0x2334fa(0x523)]((_0x268eb5,_0x2b943d)=>{const _0x3ff06f=_0x2334fa,_0x3e475c=_0x2266bb['answers'][_0x3ff06f(0x70b)](_0xab3ddb=>_0xab3ddb['questionId']===_0x268eb5['id']);if(_0x3e475c){let _0x519a43='';const _0x36880b=_0x3e475c[_0x3ff06f(0x26e)]===!![],_0x545726=_0x3e475c['wasConfident']===!![]||_0x3e475c[_0x3ff06f(0x2d7)]===_0x3ff06f(0x944);_0x545726?_0x519a43=_0x36880b?_0x3ff06f(0x837):'bg-red-500\x20text-white\x20font-bold':_0x519a43=_0x36880b?'bg-green-100':_0x3ff06f(0x8e1),_0x39ff32+=_0x3ff06f(0x474)+_0x519a43+'\x22>'+_0x28323d(_0x268eb5,_0x3e475c)+'</td>';}else _0x39ff32+=_0x3ff06f(0x1c9);});}else _0x39ff32+=_0x14b8cc[_0x2334fa(0x697)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x2334fa(0x706)]('');_0x39ff32+='</tr>';}),_0x39ff32+=_0x24a57b(0xbae),_0x139219[_0x24a57b(0xab8)]=_0x39ff32;}function renderQuizResultsTable(_0x5d2cb8,_0x272392,_0xf1a6c1){const _0x5d00a9=_0x176601,_0x4afb0c=_0x272392[_0x5d00a9(0x46b)]((_0x34fdaa,_0x4e8ef9)=>{const _0x256ee9=_0x5d00a9;return _0x34fdaa[_0x4e8ef9[_0x256ee9(0x6c4)]]=_0x4e8ef9,_0x34fdaa;},{}),_0x7a631a=document[_0x5d00a9(0x690)]('#results-table\x20thead\x20tr');_0x7a631a&&!_0x7a631a['innerHTML'][_0x5d00a9(0x4bd)](_0x5d00a9(0x4a0))&&(_0x7a631a[_0x5d00a9(0xab8)]+=_0x5d00a9(0x922));const _0xc35090=document[_0x5d00a9(0x267)](_0x5d00a9(0x576));if(!_0x5d2cb8||_0x5d2cb8['length']===0x0){_0xc35090[_0x5d00a9(0xab8)]=_0x5d00a9(0xab7);return;}const _0x32bbdd=_0xf1a6c1['isRemedial']===!![],_0x30b133=_0xf1a6c1[_0x5d00a9(0x8e6)]?.['passingScore']??-0x1;let _0x555e35='';_0x5d2cb8[_0x5d00a9(0x523)](_0x15f124=>{const _0x23ed4d=_0x5d00a9,_0xe12ea3=_0x4afb0c[_0x15f124];let _0x44da6f=_0x23ed4d(0x3cf)+(_0x32bbdd?_0x23ed4d(0x650):_0x23ed4d(0x4c3))+'\x22>'+(_0x32bbdd?'สอบซ่อม':_0x23ed4d(0x359))+'</span></td>';if(_0xe12ea3){if(_0xe12ea3[_0x23ed4d(0x8ca)]&&_0xe12ea3['attempts'][_0x23ed4d(0x2c7)]>0x0){let _0x4397fc=_0x32bbdd?_0xe12ea3['bestScore']===_0xe12ea3[_0x23ed4d(0x342)]:_0x30b133!==-0x1&&_0xe12ea3[_0x23ed4d(0x75c)]>=_0x30b133;const _0x299133=_0x4397fc?_0x23ed4d(0x634):_0x23ed4d(0x6fb),_0x36b50e=_0x4397fc?'ผ่าน':'ไม่ผ่าน',_0x5551d9=_0x23ed4d(0x322)+_0x299133+'\x22>'+_0x36b50e+_0x23ed4d(0x1f5),_0x413fe6=_0x23ed4d(0x4ae)+(_0xe12ea3[_0x23ed4d(0x8ca)]?.['length']||0x1)+_0x23ed4d(0x509);_0x555e35+=_0x23ed4d(0x665)+_0x15f124+_0x23ed4d(0x73f)+_0xe12ea3[_0x23ed4d(0x75c)]+_0x23ed4d(0x995)+_0xe12ea3[_0x23ed4d(0x342)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5551d9+_0x23ed4d(0x3ec)+_0x44da6f+_0x23ed4d(0x3a5)+_0xe12ea3[_0x23ed4d(0x40b)]+_0x23ed4d(0x995)+_0xe12ea3[_0x23ed4d(0x342)]+_0x23ed4d(0x8f1)+_0xe12ea3[_0x23ed4d(0x3da)]+_0x23ed4d(0x995)+_0xe12ea3[_0x23ed4d(0x342)]+_0x23ed4d(0x2b8)+(_0xe12ea3[_0x23ed4d(0xb54)]||0x0)+_0x23ed4d(0xb01)+_0x413fe6+_0x23ed4d(0xb20)+new Date(_0xe12ea3['latestSubmittedAt'])[_0x23ed4d(0x6ff)](_0x23ed4d(0x414))+_0x23ed4d(0x365)+_0x15f124+_0x23ed4d(0xa39);}else{const _0x158be4='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x555e35+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x15f124+_0x23ed4d(0x78a)+_0x44da6f+_0x23ed4d(0x32b)+_0x158be4+_0x23ed4d(0xb20)+new Date(_0xe12ea3[_0x23ed4d(0x16c)])[_0x23ed4d(0x6ff)]('th-TH')+_0x23ed4d(0x7b8)+_0x15f124+_0x23ed4d(0xa39);}}else{const _0x4a330f=_0x23ed4d(0x8d9);_0x555e35+=_0x23ed4d(0x973)+_0x15f124+_0x23ed4d(0x64e)+_0x44da6f+_0x23ed4d(0x732)+_0x4a330f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0xc35090[_0x5d00a9(0xab8)]=_0x555e35;}async function confirmRenameQuiz(){const _0x539d77=_0x176601,_0x25f36e=document['getElementById']('rename-quiz-input')[_0x539d77(0x832)][_0x539d77(0xa5f)]();if(!_0x25f36e){showMessage(_0x539d77(0x4ee));return;}if(!actionTargetId)return;const _0x46c7e3=doc(db,_0x539d77(0x94a)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x46c7e3,{'topic':_0x25f36e}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x539d77(0x25c)][_0x539d77(0x8a5)](_0x539d77(0xbc7)),actionTargetId=null;}catch(_0x42d654){console[_0x539d77(0xa65)]('Error\x20renaming\x20quiz:',_0x42d654),showMessage(_0x539d77(0x39e));}}async function handleMoveQuiz(_0x1faf35){const _0x1ea286=_0x176601;actionTargetId=_0x1faf35;const _0x2cfbc2=document['getElementById']('move-quiz-project-select');_0x2cfbc2[_0x1ea286(0xab8)]=_0x1ea286(0x9f6),moveQuizModal['classList'][_0x1ea286(0x167)]('hidden');try{const _0xa22840=collection(db,_0x1ea286(0x94a)+appId+_0x1ea286(0x32c)),_0x380a3d=await getDocs(_0xa22840),_0x409aa6=_0x380a3d['docs'][_0x1ea286(0x697)](_0x2b2c5a=>({'id':_0x2b2c5a['id'],..._0x2b2c5a[_0x1ea286(0xa77)]()})),_0x2c462f=_0x409aa6[_0x1ea286(0xb79)](_0x1af776=>_0x1af776['id']!==currentProjectId);if(_0x2c462f[_0x1ea286(0x2c7)]===0x0){_0x2cfbc2[_0x1ea286(0xab8)]=_0x1ea286(0x36e),document[_0x1ea286(0x267)]('confirm-move-quiz-btn')[_0x1ea286(0x76a)]=!![];return;}_0x2cfbc2[_0x1ea286(0xab8)]=_0x2c462f['map'](_0x12d2d9=>'<option\x20value=\x22'+_0x12d2d9['id']+'\x22>'+_0x12d2d9['projectName']+'</option>')[_0x1ea286(0x706)](''),document['getElementById'](_0x1ea286(0x3f3))['disabled']=![];}catch(_0x2bfcdb){console['error'](_0x1ea286(0x746),_0x2bfcdb),showMessage(_0x1ea286(0x63e)),moveQuizModal[_0x1ea286(0x25c)]['add'](_0x1ea286(0xbc7));}}async function confirmMoveQuiz(){const _0x340486=_0x176601,_0x1da583=document[_0x340486(0x267)](_0x340486(0x74f))[_0x340486(0x832)];if(!_0x1da583){showMessage(_0x340486(0x7df));return;}if(!actionTargetId)return;const _0x5d13eb=doc(db,_0x340486(0x94a)+appId+_0x340486(0xb3f),actionTargetId);try{await updateDoc(_0x5d13eb,{'projectId':_0x1da583}),showMessage(_0x340486(0xa3e)),moveQuizModal['classList']['add'](_0x340486(0xbc7)),actionTargetId=null;}catch(_0x1cedcc){console[_0x340486(0xa65)]('Error\x20moving\x20quiz:',_0x1cedcc),showMessage(_0x340486(0xa78));}}async function handleQuizSettings(_0x2ed553){const _0x4d9ac9=_0x176601;actionTargetId=_0x2ed553;const _0x18659c=doc(db,'artifacts/'+appId+_0x4d9ac9(0xb3f),_0x2ed553);try{const _0x5c09e5=await getDoc(_0x18659c);if(_0x5c09e5[_0x4d9ac9(0x4b5)]()){const _0x5df7ff=_0x5c09e5[_0x4d9ac9(0xa77)](),_0x39ee4f=_0x5df7ff[_0x4d9ac9(0x8e6)]||{},_0x47c2a3=_0x5df7ff[_0x4d9ac9(0x9ce)][_0x4d9ac9(0x2c7)];document[_0x4d9ac9(0x267)]('modal-shuffle-select')[_0x4d9ac9(0x832)]=_0x39ee4f[_0x4d9ac9(0xb06)]||'none',document[_0x4d9ac9(0x267)]('modal-results-display-select')[_0x4d9ac9(0x832)]=_0x39ee4f[_0x4d9ac9(0x204)]||_0x4d9ac9(0x1b0),document[_0x4d9ac9(0x267)](_0x4d9ac9(0x4b1))[_0x4d9ac9(0x832)]=_0x39ee4f[_0x4d9ac9(0x305)]||_0x4d9ac9(0x201),document[_0x4d9ac9(0x267)](_0x4d9ac9(0xae0))[_0x4d9ac9(0x832)]=_0x39ee4f['timerDuration']||0xa,document[_0x4d9ac9(0x267)]('modal-passing-score-input')['value']=_0x39ee4f[_0x4d9ac9(0x22f)]||Math['floor'](_0x47c2a3/0x2),document[_0x4d9ac9(0x267)](_0x4d9ac9(0x5dc))[_0x4d9ac9(0x491)]=_0x47c2a3,document[_0x4d9ac9(0x267)](_0x4d9ac9(0x6ba))[_0x4d9ac9(0x6e2)]=_0x39ee4f[_0x4d9ac9(0x934)]||![],document[_0x4d9ac9(0x267)](_0x4d9ac9(0x503))['checked']=_0x39ee4f[_0x4d9ac9(0x83b)]||![];const _0x2da61a=_0x39ee4f[_0x4d9ac9(0x301)]||![];document[_0x4d9ac9(0x267)](_0x4d9ac9(0x9e9))[_0x4d9ac9(0x6e2)]=_0x2da61a,document[_0x4d9ac9(0x267)](_0x4d9ac9(0x331))[_0x4d9ac9(0x832)]=_0x39ee4f[_0x4d9ac9(0x5c7)]||'checkbox';const _0x5463c3=document[_0x4d9ac9(0x267)](_0x4d9ac9(0xbe1));_0x5463c3[_0x4d9ac9(0x25c)][_0x4d9ac9(0x7b6)](_0x4d9ac9(0xbc7),!_0x2da61a),document['getElementById'](_0x4d9ac9(0x4b1))[_0x4d9ac9(0x77b)](new Event('change')),quizSettingsModal[_0x4d9ac9(0x25c)]['remove'](_0x4d9ac9(0xbc7));}else showMessage(_0x4d9ac9(0x521));}catch(_0x1ef0c2){console['error'](_0x4d9ac9(0x574),_0x1ef0c2),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x277b8e=_0x176601;if(!actionTargetId)return;const _0x9fe721=doc(db,_0x277b8e(0x94a)+appId+_0x277b8e(0xb3f),actionTargetId),_0x7951a={'shuffle':document['getElementById'](_0x277b8e(0x22b))[_0x277b8e(0x832)],'resultsDisplay':document[_0x277b8e(0x267)]('modal-results-display-select')[_0x277b8e(0x832)],'timerMode':document[_0x277b8e(0x267)](_0x277b8e(0x4b1))[_0x277b8e(0x832)],'timerDuration':parseInt(document[_0x277b8e(0x267)](_0x277b8e(0xae0))[_0x277b8e(0x832)])||0xa,'passingScore':parseInt(document[_0x277b8e(0x267)](_0x277b8e(0x5dc))[_0x277b8e(0x832)])||0x0,'isAdaptive':document[_0x277b8e(0x267)](_0x277b8e(0x6ba))['checked'],'loopUntilPass':document['getElementById'](_0x277b8e(0x503))[_0x277b8e(0x6e2)],'isConfidenceScoringEnabled':document[_0x277b8e(0x267)](_0x277b8e(0x9e9))['checked'],'confidenceMode':document[_0x277b8e(0x267)](_0x277b8e(0x331))[_0x277b8e(0x832)]};try{await updateDoc(_0x9fe721,{'settings':_0x7951a}),showMessage(_0x277b8e(0x262)),quizSettingsModal[_0x277b8e(0x25c)][_0x277b8e(0x8a5)](_0x277b8e(0xbc7)),actionTargetId=null;}catch(_0x5e958a){console['error'](_0x277b8e(0x897),_0x5e958a),showMessage(_0x277b8e(0xa2c));}}async function confirmQuizStatus(){const _0x57bb41=_0x176601;if(!actionTargetId)return;const _0x26e641=doc(db,_0x57bb41(0x94a)+appId+'/public/data/quizzes',actionTargetId),_0x53e794=document['querySelector'](_0x57bb41(0x566));if(!_0x53e794){showMessage('กรุณาเลือกสถานะ');return;}const _0x46f245=_0x53e794['value'];let _0x131f4a={};if(_0x46f245==='active'||_0x46f245===_0x57bb41(0x3e8))_0x131f4a={'status':_0x46f245,'startTime':null,'endTime':null};else{if(_0x46f245==='schedule'){const _0x43a6f1=document[_0x57bb41(0x267)]('quiz-start-time')[_0x57bb41(0x832)],_0x70660=document[_0x57bb41(0x267)]('quiz-end-time')[_0x57bb41(0x832)];if(!_0x43a6f1&&!_0x70660){showMessage(_0x57bb41(0x640));return;}_0x131f4a={'status':'scheduled','startTime':_0x43a6f1?new Date(_0x43a6f1)['toISOString']():null,'endTime':_0x70660?new Date(_0x70660)[_0x57bb41(0x7a6)]():null};}}try{await updateDoc(_0x26e641,_0x131f4a),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList'][_0x57bb41(0x8a5)](_0x57bb41(0xbc7)),actionTargetId=null;}catch(_0x135a07){console[_0x57bb41(0xa65)](_0x57bb41(0x5ea),_0x135a07),showMessage(_0x57bb41(0xaba));}}function listenForStudentProfiles(_0x2da024){const _0x2b5209=_0x176601,_0x515608=collection(db,'artifacts/'+appId+_0x2b5209(0x2ba)+_0x2da024+_0x2b5209(0x8bd));unsubscribeStudentProfilesListener=onSnapshot(_0x515608,_0x5776e3=>{const _0x3cf174=_0x2b5209,_0x3fdc4d=_0x5776e3[_0x3cf174(0xbff)][_0x3cf174(0x697)](_0x5035ba=>_0x5035ba['data']());renderLeaderboard(_0x3fdc4d,_0x3cf174(0xa32));},_0x1f56a2=>{const _0x1f8f1a=_0x2b5209;console[_0x1f8f1a(0xa65)](_0x1f8f1a(0x93c),_0x1f56a2),document[_0x1f8f1a(0x267)](_0x1f8f1a(0xa32))[_0x1f8f1a(0xab8)]=_0x1f8f1a(0x8df);});}function renderLeaderboard(_0x3b4d79,_0x4c3391){const _0x58567d=_0x176601,_0x554cf3=document[_0x58567d(0x267)](_0x4c3391);if(!_0x3b4d79||_0x3b4d79[_0x58567d(0x2c7)]===0x0){_0x554cf3[_0x58567d(0xab8)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x3b4d79['sort']((_0x23ce9b,_0x3ff34d)=>{const _0x59ff01=_0x58567d,_0xc6c75c=(_0x3ff34d['totalPoints']||0x0)-(_0x23ce9b[_0x59ff01(0x85b)]||0x0);if(_0xc6c75c!==0x0)return _0xc6c75c;const _0x15b56e=(_0x3ff34d[_0x59ff01(0x841)]?.[_0x59ff01(0xa37)]||0x0)-(_0x23ce9b[_0x59ff01(0x841)]?.[_0x59ff01(0xa37)]||0x0);if(_0x15b56e!==0x0)return _0x15b56e;const _0x2ec611=(_0x3ff34d[_0x59ff01(0x841)]?.[_0x59ff01(0x360)]||0x0)-(_0x23ce9b[_0x59ff01(0x841)]?.[_0x59ff01(0x360)]||0x0);if(_0x2ec611!==0x0)return _0x2ec611;const _0x1c36a3=(_0x3ff34d[_0x59ff01(0x841)]?.['perfect_score']||0x0)-(_0x23ce9b['badgesCount']?.[_0x59ff01(0x52e)]||0x0);if(_0x1c36a3!==0x0)return _0x1c36a3;const _0x315120=(_0x3ff34d[_0x59ff01(0x841)]?.[_0x59ff01(0x2e5)]||0x0)-(_0x23ce9b[_0x59ff01(0x841)]?.[_0x59ff01(0x2e5)]||0x0);if(_0x315120!==0x0)return _0x315120;return _0x23ce9b[_0x59ff01(0x6c4)][_0x59ff01(0x3bf)](_0x3ff34d[_0x59ff01(0x6c4)],'th');});let _0xb461b9='';_0x3b4d79[_0x58567d(0x523)]((_0x603715,_0x307d57)=>{const _0x34fb54=_0x58567d,_0x448416=_0x307d57+0x1,_0x429516=_0x603715[_0x34fb54(0x841)]||{};let _0x399a65='';const _0x56311e=['specialist','perfect_score',_0x34fb54(0x360),_0x34fb54(0x2e5)];_0x56311e[_0x34fb54(0x523)](_0x713323=>{const _0x5b4011=_0x34fb54;if(_0x429516[_0x713323]>0x0){const _0x19b6f1=Object['values'](BADGES)[_0x5b4011(0x70b)](_0x5b4bb1=>_0x5b4bb1['id']===_0x713323);_0x19b6f1&&(_0x713323===_0x5b4011(0xa37)?_0x399a65+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x19b6f1['name']+_0x5b4011(0x9bb)+_0x19b6f1['icon']+_0x5b4011(0xb5b):_0x399a65+=_0x5b4011(0xb71)+_0x19b6f1[_0x5b4011(0x6be)]+'\x20('+_0x429516[_0x713323]+_0x5b4011(0x8ce)+_0x19b6f1['icon']+_0x5b4011(0x290)+_0x429516[_0x713323]+_0x5b4011(0x397));}}),_0xb461b9+=_0x34fb54(0x39d)+_0x448416+_0x34fb54(0x601)+_0x603715[_0x34fb54(0x6c4)]+_0x34fb54(0xa03)+(_0x603715[_0x34fb54(0x85b)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x399a65||'-')+_0x34fb54(0x2fb);}),_0x554cf3[_0x58567d(0xab8)]=_0xb461b9;}function displayLoopScreen(_0x403c,_0x5c6297,_0x4d07aa){const _0x159221=_0x176601;let _0x374e29='';_0x4d07aa!==_0x159221(0x5d8)&&(_0x374e29=_0x159221(0x87e)+_0x403c+'\x20/\x20'+_0x5c6297+_0x159221(0xa76));const _0x515cd9=_0x159221(0x40e)+_0x374e29+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x515cd9,studentResultArea[_0x159221(0x25c)]['remove']('hidden'),studentQuizArea[_0x159221(0x25c)][_0x159221(0x8a5)](_0x159221(0xbc7)),document[_0x159221(0x267)](_0x159221(0x30d))[_0x159221(0xbb9)](_0x159221(0x292),()=>{const _0x3274dc=_0x159221;studentResultArea[_0x3274dc(0x25c)][_0x3274dc(0x8a5)](_0x3274dc(0xbc7)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x11c7bd,_0xb63906,_0x5bb187){const _0x34561e=_0x176601,_0x2e9a5d=document[_0x34561e(0x267)](_0x5bb187),_0x34037a=_0x5bb187==='student-quiz-leaderboard-table-body',_0x11e186=_0xb63906['questions'][_0x34561e(0x2c7)],_0x45ac7e=document[_0x34561e(0x267)](_0x5bb187)[_0x34561e(0x9c6)]('table');if(_0x45ac7e&&!_0x34037a){const _0x2736eb=_0x45ac7e[_0x34561e(0x690)](_0x34561e(0x2b3));_0x2736eb['innerHTML']=_0x34561e(0x5df);}if(!_0x11c7bd||_0x11c7bd[_0x34561e(0x2c7)]===0x0){_0x2e9a5d[_0x34561e(0xab8)]='<tr><td\x20colspan=\x22'+(_0x34037a?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x59bec1=[..._0x11c7bd];_0x59bec1['sort']((_0x434e00,_0x39b2ff)=>{const _0x3d7a16=_0x34561e;let _0x56db79,_0x30fae1;switch(quizLeaderboardSortBy){case _0x3d7a16(0x6c4):_0x56db79=_0x434e00[_0x3d7a16(0x6c4)]||'',_0x30fae1=_0x39b2ff[_0x3d7a16(0x6c4)]||'';return quizLeaderboardSortOrder==='asc'?_0x56db79[_0x3d7a16(0x3bf)](_0x30fae1,'th'):_0x30fae1['localeCompare'](_0x56db79,'th');case _0x3d7a16(0xb54):_0x56db79=_0x434e00[_0x3d7a16(0xb54)]||0x0,_0x30fae1=_0x39b2ff[_0x3d7a16(0xb54)]||0x0;break;case _0x3d7a16(0x8ca):_0x56db79=_0x434e00[_0x3d7a16(0x8ca)]?.[_0x3d7a16(0x2c7)]||0x1,_0x30fae1=_0x39b2ff[_0x3d7a16(0x8ca)]?.['length']||0x1;break;case _0x3d7a16(0x7d5):_0x56db79=new Date(_0x434e00[_0x3d7a16(0x7d5)]),_0x30fae1=new Date(_0x39b2ff[_0x3d7a16(0x7d5)]);break;case'bestScore':default:_0x56db79=_0x434e00[_0x3d7a16(0x75c)],_0x30fae1=_0x39b2ff[_0x3d7a16(0x75c)];break;}if(_0x56db79<_0x30fae1)return quizLeaderboardSortOrder===_0x3d7a16(0x707)?-0x1:0x1;if(_0x56db79>_0x30fae1)return quizLeaderboardSortOrder===_0x3d7a16(0x707)?0x1:-0x1;return 0x0;});const _0x36d29c=_0xb63906['isRemedial']===!![],_0x2b9376=_0xb63906[_0x34561e(0x8e6)]?.[_0x34561e(0x22f)]??-0x1;let _0x590f7f='';_0x59bec1[_0x34561e(0x523)]((_0x171161,_0x298fd4)=>{const _0x5cf6e3=_0x34561e,_0x553aee=_0x298fd4+0x1;let _0x433694=_0x5cf6e3(0x9b1);if(_0x36d29c||_0x2b9376!==-0x1){let _0x2b49cf=_0x36d29c?_0x171161[_0x5cf6e3(0x75c)]===_0x11e186:_0x171161[_0x5cf6e3(0x75c)]>=_0x2b9376;const _0x508f9e=_0x2b49cf?_0x5cf6e3(0x634):_0x5cf6e3(0x6fb),_0x516303=_0x2b49cf?_0x5cf6e3(0x73a):_0x5cf6e3(0x55b);_0x433694=_0x5cf6e3(0x1d7)+_0x508f9e+'\x22>'+_0x516303+_0x5cf6e3(0x1f5);}const _0x1346cf=_0x171161['attempts'][_0x171161[_0x5cf6e3(0x8ca)][_0x5cf6e3(0x2c7)]-0x1],_0x152d34=(_0x1346cf[_0x5cf6e3(0x698)]||[])['map'](_0x139258=>{const _0x50064f=_0x5cf6e3,_0x748aca=Object[_0x50064f(0x8f5)](BADGES)['find'](_0x3942bf=>_0x3942bf['id']===_0x139258);return _0x748aca?_0x50064f(0x730)+_0x748aca[_0x50064f(0x6be)]+'\x22><i\x20class=\x22fas\x20'+_0x748aca[_0x50064f(0x421)]+_0x50064f(0x6fc):'';})[_0x5cf6e3(0x706)]('');_0x590f7f+=_0x5cf6e3(0x955)+_0x553aee+_0x5cf6e3(0xb2c)+_0x171161[_0x5cf6e3(0x6c4)]+_0x5cf6e3(0x411)+_0x171161[_0x5cf6e3(0x75c)]+'\x20/\x20'+_0x11e186+_0x5cf6e3(0xb26)+_0x433694+_0x5cf6e3(0x165)+(_0x171161[_0x5cf6e3(0xb54)]||0x0)+_0x5cf6e3(0xb26)+(_0x34037a?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x171161[_0x5cf6e3(0x8ca)]?.[_0x5cf6e3(0x2c7)]||0x1)+_0x5cf6e3(0x1cf))+_0x5cf6e3(0x8f7)+(_0x34037a?'':_0x5cf6e3(0x890)+new Date(_0x171161[_0x5cf6e3(0x7d5)])[_0x5cf6e3(0x6ff)](_0x5cf6e3(0x414))+_0x5cf6e3(0x1cf))+_0x5cf6e3(0x5b0)+(_0x152d34||'-')+_0x5cf6e3(0x3a6);}),_0x2e9a5d['innerHTML']=_0x590f7f,_0x45ac7e&&!_0x34037a&&_0x45ac7e[_0x34561e(0x6d4)](_0x34561e(0x25d))[_0x34561e(0x523)](_0x1fecac=>{const _0x53a8f8=_0x34561e,_0x15da12=_0x1fecac[_0x53a8f8(0x690)](_0x53a8f8(0x5ad));if(_0x15da12)_0x15da12['remove']();_0x1fecac['dataset']['sort']===quizLeaderboardSortBy&&(_0x1fecac[_0x53a8f8(0xab8)]+=_0x53a8f8(0xac3)+(quizLeaderboardSortOrder===_0x53a8f8(0x707)?'▲':'▼')+_0x53a8f8(0x82d));});}async function handleDeleteSubmission(_0x13857d){const _0x105cf0=_0x176601;if(!currentQuizData||!currentQuizData['id']||!_0x13857d){showMessage(_0x105cf0(0x906));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x13857d+_0x105cf0(0x195),async()=>{const _0x4e5655=_0x105cf0,_0x282021=currentQuizData['id'],_0x54e2cb=doc(db,_0x4e5655(0x94a)+appId+'/public/data/quizzes/'+_0x282021+_0x4e5655(0xbd0),_0x13857d);try{await deleteDoc(_0x54e2cb),showMessage(_0x4e5655(0xa07)+_0x13857d+_0x4e5655(0x8be));}catch(_0x233584){console[_0x4e5655(0xa65)](_0x4e5655(0x18c),_0x233584),showMessage(_0x4e5655(0x883));}});}async function handleLoadQuiz(){const _0x147cf5=_0x176601,_0x4a7c55=document[_0x147cf5(0x267)](_0x147cf5(0x9d7)),_0xc3d648=_0x4a7c55['value'][_0x147cf5(0xa5f)]();if(!_0xc3d648){showMessage(_0x147cf5(0x63a));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x147cf5(0xab8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x3cb98f=doc(db,_0x147cf5(0x94a)+appId+_0x147cf5(0xb3f),_0xc3d648),_0x500382=await getDoc(_0x3cb98f);if(!_0x500382[_0x147cf5(0x4b5)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x500382['id'],..._0x500382['data']()};const _0x5eee78=currentQuizData['status']||_0x147cf5(0x866),_0x3e5511=new Date();if(_0x5eee78===_0x147cf5(0x3e8)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x5eee78===_0x147cf5(0x6aa)){const _0xb91a2=currentQuizData['startTime']?new Date(currentQuizData[_0x147cf5(0xa4e)]):null,_0x3cf818=currentQuizData['endTime']?new Date(currentQuizData['endTime']):null;if(_0xb91a2&&_0x3e5511<_0xb91a2){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0xb91a2[_0x147cf5(0x6ff)](_0x147cf5(0x414),{'hour12':![]}));return;}if(_0x3cf818&&_0x3e5511>_0x3cf818){showMessage(_0x147cf5(0xa87));return;}}const _0x3d29c2=currentQuizData[_0x147cf5(0x8ae)];currentProjectId=_0x3d29c2;const _0x597f42=doc(db,_0x147cf5(0x94a)+appId+'/public/data/projects',_0x3d29c2),_0x3c9cd6=await getDoc(_0x597f42);if(!_0x3c9cd6[_0x147cf5(0x4b5)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x4d63ed=_0x3c9cd6[_0x147cf5(0xa77)]();currentStudentProjectData=_0x4d63ed,displayStudentNameSelector(_0x4d63ed['students'],currentQuizData[_0x147cf5(0x62b)]);}catch(_0x48518b){console[_0x147cf5(0xa65)](_0x147cf5(0x59c),_0x48518b),showMessage(_0x147cf5(0x8fc));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x147cf5(0xab8)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x4f37ee=_0x176601,_0x5ab4e2=document['getElementById']('game-pin-input'),_0x39ef1d=document[_0x4f37ee(0x267)](_0x4f37ee(0x4c5)),_0x3e7a7a=document[_0x4f37ee(0x267)](_0x4f37ee(0x17a)),_0x240b6d=_0x5ab4e2[_0x4f37ee(0x832)]['trim'](),_0x2f38c8=_0x39ef1d[_0x4f37ee(0x832)][_0x4f37ee(0xa5f)]();if(!_0x240b6d||!_0x2f38c8){showMessage(_0x4f37ee(0x2df));return;}_0x3e7a7a[_0x4f37ee(0x76a)]=!![],_0x3e7a7a[_0x4f37ee(0xab8)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x5cae79=collection(db,_0x4f37ee(0x94a)+appId+_0x4f37ee(0x81a)),_0x149bc8=query(_0x5cae79,where(_0x4f37ee(0x83a),'==',_0x240b6d),where(_0x4f37ee(0x471),'in',[_0x4f37ee(0x253),'question'])),_0x44370d=await getDocs(_0x149bc8);if(_0x44370d['empty']){showMessage(_0x4f37ee(0x854));return;}const _0x3ff188=_0x44370d[_0x4f37ee(0xbff)][0x0],_0x5185b4=_0x3ff188[_0x4f37ee(0xa77)]();currentLiveGameId=_0x3ff188['id'];const _0x531dbc=_0x5185b4[_0x4f37ee(0x49a)],_0x3dbf4d=doc(db,_0x4f37ee(0x94a)+appId+_0x4f37ee(0xb3f),_0x531dbc),_0x4098d6=await getDoc(_0x3dbf4d);if(!_0x4098d6[_0x4f37ee(0x4b5)]()){showMessage(_0x4f37ee(0xa73));return;}currentQuizData={'id':_0x4098d6['id'],..._0x4098d6[_0x4f37ee(0xa77)]()};if(_0x5185b4[_0x4f37ee(0x3e4)]&&_0x5185b4[_0x4f37ee(0x3e4)][_0x2f38c8]){const _0x188588=_0x5185b4['players'][_0x2f38c8];if(_0x188588[_0x4f37ee(0x471)]===_0x4f37ee(0x3e8)){_0x3e7a7a[_0x4f37ee(0xab8)]=_0x4f37ee(0x537);const _0x1db231={};_0x1db231['players.'+_0x2f38c8+_0x4f37ee(0x7a2)]=_0x4f37ee(0x866),await updateDoc(doc(db,_0x4f37ee(0x94a)+appId+_0x4f37ee(0x81a),currentLiveGameId),_0x1db231),showView(_0x4f37ee(0x293)),currentStudentName=_0x2f38c8,listenForLiveGameUpdates();return;}else{showMessage(_0x4f37ee(0xab3));return;}}if(_0x5185b4[_0x4f37ee(0x471)]!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x3e7a7a['innerHTML']=_0x4f37ee(0x1ce);const _0x55a755={};_0x55a755[_0x4f37ee(0x8ef)+_0x2f38c8]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x4f37ee(0x866)},await updateDoc(doc(db,'artifacts/'+appId+_0x4f37ee(0x81a),currentLiveGameId),_0x55a755),currentStudentName=_0x2f38c8,listenForLiveGameUpdates();}catch(_0x30869e){console[_0x4f37ee(0xa65)](_0x4f37ee(0xb8e),_0x30869e),showMessage(_0x4f37ee(0x34c));}finally{_0x3e7a7a[_0x4f37ee(0x76a)]=![],_0x3e7a7a['innerHTML']=_0x4f37ee(0x695);}}function displayStudentNameSelector(_0x29ef47,_0x35fc56){const _0x5644e3=_0x176601,_0x46f4f1=document[_0x5644e3(0x267)](_0x5644e3(0x8d8));document[_0x5644e3(0x267)](_0x5644e3(0x5eb))[_0x5644e3(0x4c2)]='แบบทดสอบ:\x20'+_0x35fc56,!_0x29ef47||_0x29ef47[_0x5644e3(0x2c7)]===0x0?(_0x46f4f1['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x5644e3(0x76a)]=!![]):(_0x46f4f1[_0x5644e3(0xab8)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x29ef47[_0x5644e3(0x523)](_0x5ede85=>{const _0x337f1e=_0x5644e3,_0x29ce82=document[_0x337f1e(0x718)]('option');_0x29ce82['value']=_0x5ede85,_0x29ce82[_0x337f1e(0x4c2)]=_0x5ede85,_0x46f4f1['appendChild'](_0x29ce82);}),startQuizBtn[_0x5644e3(0x76a)]=![]),studentInitialView['classList']['add']('hidden'),studentNameSelectionView[_0x5644e3(0x25c)][_0x5644e3(0x167)](_0x5644e3(0xbc7));}function shuffleArray(_0x17155a){const _0x28474c=_0x176601;for(let _0x16ba12=_0x17155a[_0x28474c(0x2c7)]-0x1;_0x16ba12>0x0;_0x16ba12--){const _0x133873=Math[_0x28474c(0xbdd)](Math[_0x28474c(0x658)]()*(_0x16ba12+0x1));[_0x17155a[_0x16ba12],_0x17155a[_0x133873]]=[_0x17155a[_0x133873],_0x17155a[_0x16ba12]];}}function getShuffledQuiz(_0x33f2c8){const _0x45ccc2=_0x176601;let _0x3ba93b=JSON[_0x45ccc2(0xbe0)](JSON[_0x45ccc2(0xbe7)](_0x33f2c8));const _0x25dfb0=_0x3ba93b[_0x45ccc2(0x8e6)]?.['shuffle']||_0x45ccc2(0x201);if(_0x25dfb0===_0x45ccc2(0x201))return _0x3ba93b;return(_0x25dfb0===_0x45ccc2(0x927)||_0x25dfb0===_0x45ccc2(0xc09))&&shuffleArray(_0x3ba93b['questions']),(_0x25dfb0===_0x45ccc2(0x2dd)||_0x25dfb0===_0x45ccc2(0xc09))&&_0x3ba93b[_0x45ccc2(0x9ce)][_0x45ccc2(0x523)](_0x1658e6=>{const _0x1be8fa=_0x45ccc2,_0x53e28b=_0x1658e6[_0x1be8fa(0x9c3)]||_0x3ba93b[_0x1be8fa(0x84e)];if(_0x1658e6[_0x1be8fa(0x61a)]){let _0x143644=_0x1658e6['options']['map']((_0x494a85,_0x22f2a6)=>({'text':_0x494a85,'isCorrect':_0x22f2a6===_0x1658e6[_0x1be8fa(0x1f1)]}));shuffleArray(_0x143644),_0x1658e6['options']=_0x143644[_0x1be8fa(0x697)](_0x37d955=>_0x37d955[_0x1be8fa(0x648)]),_0x1658e6[_0x1be8fa(0x1f1)]=_0x143644[_0x1be8fa(0x81f)](_0x339956=>_0x339956[_0x1be8fa(0x26e)]);}_0x53e28b==='matching_item'&&_0x1658e6['allResponses']&&shuffleArray(_0x1658e6[_0x1be8fa(0x773)]);}),_0x3ba93b;}function displayQuizForStudent(_0x3d2668){const _0x5bd8d0=_0x176601;studentQuizArea['classList']['remove'](_0x5bd8d0(0xbc7)),currentDisplayedQuiz=getShuffledQuiz(_0x3d2668);currentMode!==_0x5bd8d0(0x40a)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x5bd8d0(0x8cb),handleFullscreenChange),document[_0x5bd8d0(0xbb9)](_0x5bd8d0(0x558),handleVisibilityChange),enterFullscreen(),window[_0x5bd8d0(0xbb9)](_0x5bd8d0(0xa3d),resetDimTimer),window[_0x5bd8d0(0xbb9)](_0x5bd8d0(0x72e),resetDimTimer),window[_0x5bd8d0(0xbb9)](_0x5bd8d0(0xbef),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x1b6bb8=currentDisplayedQuiz[_0x5bd8d0(0x8e6)]?.[_0x5bd8d0(0x305)]||_0x5bd8d0(0x201);if(_0x1b6bb8===_0x5bd8d0(0x727))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5bd8d0(0x8e6)][_0x5bd8d0(0x75b)]);else _0x1b6bb8==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x431afe=_0x176601,_0xe4f959=currentDisplayedQuiz[_0x431afe(0x8e6)]?.['isConfidenceScoringEnabled']===!![],_0x4aafb5=currentDisplayedQuiz[_0x431afe(0x8e6)]?.['confidenceMode']||_0x431afe(0x76d);let _0x195547='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x431afe(0x62b)]+_0x431afe(0x464)+(currentMode===_0x431afe(0x40a)?_0x431afe(0xb4c):'')+_0x431afe(0x7eb);currentDisplayedQuiz['questions']['forEach']((_0x49b56e,_0x387e3e)=>{const _0x2b1463=_0x431afe,_0x193b96=_0x49b56e[_0x2b1463(0x9c3)]||currentDisplayedQuiz['quizType'];_0x195547+=_0x2b1463(0x930);if(_0x193b96===_0x2b1463(0x4ed)){}else _0x195547+=_0x2b1463(0xb8b)+(_0x387e3e+0x1)+'.\x20'+(_0x49b56e[_0x2b1463(0x5e7)]||_0x49b56e['questionText'])+_0x2b1463(0xa5b),_0x49b56e['imageCode']&&(_0x195547+=_0x2b1463(0x1c8)+_0x49b56e[_0x2b1463(0x9ed)]+_0x2b1463(0xba1));_0x195547+=_0x2b1463(0x252);switch(_0x193b96){case _0x2b1463(0x477):_0x195547+=_0x2b1463(0x3c4)+_0x387e3e+_0x2b1463(0x242);break;case _0x2b1463(0x9c7):_0x195547+=_0x2b1463(0xa68)+_0x387e3e+'_opt0\x22\x20name=\x22question'+_0x387e3e+_0x2b1463(0xa6f)+_0x387e3e+_0x2b1463(0x9dd),_0x195547+=_0x2b1463(0xa68)+_0x387e3e+'_opt1\x22\x20name=\x22question'+_0x387e3e+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x387e3e+_0x2b1463(0x1a8);break;case _0x2b1463(0x4ed):_0x195547+=_0x2b1463(0x964)+_0x49b56e['stem']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x387e3e+_0x2b1463(0xa7a)+_0x49b56e['allResponses']['map'](_0x4b5629=>_0x2b1463(0xba4)+_0x4b5629+'\x22>'+_0x4b5629+'</option>')['join']('')+_0x2b1463(0x72d);break;default:_0x195547+=_0x49b56e[_0x2b1463(0x61a)][_0x2b1463(0x697)]((_0x5985ae,_0x3d2e2a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x387e3e+_0x2b1463(0xadc)+_0x3d2e2a+_0x2b1463(0xaf3)+_0x387e3e+_0x2b1463(0xb1f)+_0x3d2e2a+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x387e3e+_0x2b1463(0xadc)+_0x3d2e2a+'\x22>'+_0x5985ae+_0x2b1463(0x8d7))['join']('');break;}_0x195547+=_0x2b1463(0xba1),_0xe4f959&&(_0x195547+=_0x2b1463(0x428),_0x4aafb5==='mandatory'?_0x195547+=_0x2b1463(0x62c)+_0x387e3e+_0x2b1463(0xbe9)+_0x387e3e+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x387e3e+_0x2b1463(0xa99)+_0x387e3e+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x195547+=_0x2b1463(0x568)+_0x387e3e+'\x22\x20name=\x22confidence'+_0x387e3e+_0x2b1463(0x2dc)+_0x387e3e+_0x2b1463(0x35e),_0x195547+=_0x2b1463(0xba1)),_0x195547+=_0x2b1463(0xba1);}),_0x195547+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x195547+=_0x431afe(0xa60),studentQuizArea[_0x431afe(0xab8)]=_0x195547;if(currentMode==='admin-testing'){const _0x1e17ff=document[_0x431afe(0x267)](_0x431afe(0x41f));if(_0x1e17ff)_0x1e17ff['addEventListener'](_0x431afe(0x292),cancelAdminTest);}const _0x157a48=document['getElementById']('quiz-form');_0x157a48&&(_0x157a48[_0x431afe(0xbb9)](_0x431afe(0x96e),handleSubmitQuiz),_0x157a48[_0x431afe(0xbb9)](_0x431afe(0x292),_0x348d6e=>{const _0x5d4eea=_0x431afe;if(_0x348d6e[_0x5d4eea(0x763)][_0x5d4eea(0x25c)][_0x5d4eea(0xb4f)](_0x5d4eea(0x347))){const _0x262910=_0x348d6e['target'],_0x518a5b=_0x262910['dataset']['questionIndex'],_0x56d3a4=_0x262910[_0x5d4eea(0x89d)][_0x5d4eea(0x832)];document['getElementById']('confidence-input-'+_0x518a5b)[_0x5d4eea(0x832)]=_0x56d3a4;const _0x14566c=_0x262910['parentElement'];_0x14566c[_0x5d4eea(0x6d4)](_0x5d4eea(0x68e))['forEach'](_0x1b9208=>_0x1b9208[_0x5d4eea(0x25c)][_0x5d4eea(0x167)](_0x5d4eea(0x866))),_0x262910[_0x5d4eea(0x25c)][_0x5d4eea(0x8a5)]('active');}}));if(window[_0x431afe(0xb72)])window['MathJax'][_0x431afe(0x5bf)]([studentQuizArea]);}async function handleSubmitQuiz(_0x505652){const _0x114018=_0x176601;if(_0x505652)_0x505652[_0x114018(0x417)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x25bdbd=document['getElementById'](_0x114018(0xac2));if(!_0x25bdbd)return;const _0x22601f=currentDisplayedQuiz[_0x114018(0x8e6)]?.[_0x114018(0x301)]===!![],_0x1def79=currentDisplayedQuiz[_0x114018(0x8e6)]?.['confidenceMode']||_0x114018(0x76d);if(_0x22601f&&_0x1def79===_0x114018(0x4d3)){let _0x4a7a9e=!![];for(let _0xe1f61=0x0;_0xe1f61<currentDisplayedQuiz[_0x114018(0x9ce)][_0x114018(0x2c7)];_0xe1f61++){const _0x1d9016=_0x25bdbd[_0x114018(0x690)](_0x114018(0x4e0)+_0xe1f61);if(!_0x1d9016||_0x1d9016[_0x114018(0x832)]===''){_0x4a7a9e=![];break;}}if(!_0x4a7a9e){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x49b631=_0x25bdbd[_0x114018(0x690)](_0x114018(0x96f)),_0x566901=currentDisplayedQuiz[_0x114018(0x9ce)]['some'](_0x43e872=>_0x43e872['questionType']===_0x114018(0x477));_0x49b631&&(_0x49b631[_0x114018(0x76a)]=!![],_0x49b631[_0x114018(0xab8)]=_0x566901?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x114018(0x2da));const _0x83deef=new FormData(_0x25bdbd),_0xc34bb8=currentDisplayedQuiz[_0x114018(0x9ce)][_0x114018(0x697)]((_0x38604d,_0x4c6007)=>{const _0x5d3ce1=_0x114018,_0x298abd=_0x83deef[_0x5d3ce1(0x637)](_0x5d3ce1(0x6a1)+_0x4c6007);let _0x3eec43;_0x1def79===_0x5d3ce1(0x4d3)?_0x3eec43=_0x83deef[_0x5d3ce1(0x637)](_0x5d3ce1(0x256)+_0x4c6007):_0x3eec43=_0x83deef[_0x5d3ce1(0x637)](_0x5d3ce1(0x256)+_0x4c6007)==='on';let _0x207259=null;if(_0x298abd!==null&&_0x298abd!==undefined){const _0x366dd9=_0x38604d[_0x5d3ce1(0x9c3)]||currentDisplayedQuiz[_0x5d3ce1(0x84e)];_0x366dd9===_0x5d3ce1(0x3e7)||_0x366dd9===_0x5d3ce1(0x888)?_0x207259=parseInt(_0x298abd):_0x207259=_0x298abd;}return{'answer':_0x207259,'wasConfident':_0x3eec43};}),_0x215708=currentQuizData['id'],_0x2df5f1=doc(db,'artifacts/'+appId+_0x114018(0xa34)+_0x215708+_0x114018(0xbd0),currentStudentName),_0x70b260=await getDoc(_0x2df5f1),_0x408e3a=_0x70b260[_0x114018(0x4b5)]()?_0x70b260[_0x114018(0xa77)]():{},_0x16e385=_0x408e3a[_0x114018(0x8ca)]||[];await processAndSubmitAnswers(_0xc34bb8,_0x16e385);}async function gradeShortAnswerWithAI(_0x4baaea,_0x24ce0c){const _0x34f8dd=_0x176601;if(!_0x4baaea||!_0x24ce0c)return![];try{const _0x54c16d=_0x34f8dd(0x4fd)+_0x4baaea+_0x34f8dd(0x731)+_0x24ce0c+_0x34f8dd(0xb2d),_0x56050b={'contents':[{'role':_0x34f8dd(0x82e),'parts':[{'text':_0x54c16d}]}]},_0x3238f1=_0x34f8dd(0x4ef),_0x1e38f0='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3238f1,_0x400b87=await fetch(_0x1e38f0,{'method':_0x34f8dd(0x176),'headers':{'Content-Type':_0x34f8dd(0x95a)},'body':JSON[_0x34f8dd(0xbe7)](_0x56050b)});if(!_0x400b87['ok'])throw new Error(_0x34f8dd(0xac7));const _0x47f167=await _0x400b87[_0x34f8dd(0xb75)](),_0x164f30=_0x47f167['candidates'][0x0]['content'][_0x34f8dd(0x52c)][0x0][_0x34f8dd(0x648)][_0x34f8dd(0xa5f)]()['toLowerCase']();return _0x164f30===_0x34f8dd(0x268);}catch(_0x210821){return console[_0x34f8dd(0xa65)](_0x34f8dd(0xa8d),_0x210821),![];}}async function processAndSubmitAnswers(_0x4520f1,_0x22c097){const _0x4d5592=_0x176601;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4d5592(0x4cc)](_0x4d5592(0x8cb),handleFullscreenChange),document[_0x4d5592(0x4cc)](_0x4d5592(0x558),handleVisibilityChange);let _0x4e72da=0x0;const _0x23a2b8=[],_0x520883=currentDisplayedQuiz[_0x4d5592(0x9ce)][_0x4d5592(0x2c7)];let _0xb16072=0x0,_0x170d18=[];const _0x1aa7ed=currentDisplayedQuiz[_0x4d5592(0x9ce)];for(let _0x29c1e4=0x0;_0x29c1e4<_0x1aa7ed[_0x4d5592(0x2c7)];_0x29c1e4++){const _0xd8f311=_0x1aa7ed[_0x29c1e4],_0x561e94=_0x4520f1[_0x29c1e4],_0x4dec96=_0x561e94?_0x561e94[_0x4d5592(0x2bf)]:null,_0x4d6bab=_0x561e94?_0x561e94[_0x4d5592(0x2d7)]:null;let _0x3ff293=![],_0x474b5f=0x0;if(_0x4dec96!==null&&_0x4dec96!==''){const _0x2f1268=_0xd8f311['questionType']||currentDisplayedQuiz[_0x4d5592(0x84e)];switch(_0x2f1268){case _0x4d5592(0x4ed):_0x3ff293=_0x4dec96===_0xd8f311[_0x4d5592(0x6a9)];break;case _0x4d5592(0x9c7):const _0x10d4bc=_0x4dec96===!![]||_0x4dec96==='true';_0x3ff293=_0x10d4bc===_0xd8f311[_0x4d5592(0xb9b)];break;case _0x4d5592(0x477):_0x3ff293=await gradeShortAnswer(_0x4dec96,_0xd8f311);break;case'multiple_choice':default:_0x3ff293=Number(_0x4dec96)===_0xd8f311[_0x4d5592(0x1f1)];break;}}if(currentDisplayedQuiz['settings']?.[_0x4d5592(0x301)]){const _0x54cc54=_0x561e94?_0x561e94[_0x4d5592(0x2d7)]:null;if(_0x3ff293&&(_0x54cc54===!![]||_0x54cc54===_0x4d5592(0x944)))_0x474b5f=0x2;else{if(_0x3ff293)_0x474b5f=0x1;else{if(!_0x3ff293&&(_0x54cc54===![]||_0x54cc54===_0x4d5592(0x309)||_0x54cc54===null))_0x474b5f=0x0;else!_0x3ff293&&(_0x54cc54===!![]||_0x54cc54===_0x4d5592(0x944))&&(_0x474b5f=-0x1);}}}else _0x474b5f=_0x3ff293?0x1:0x0;_0x4e72da+=_0x474b5f;if(_0x3ff293){_0xb16072++;if(_0xb16072===0x3)_0x170d18[_0x4d5592(0x92e)](BADGES[_0x4d5592(0x40c)]['id']);}else _0xb16072=0x0;let _0x48d4fa=null;_0xd8f311[_0x4d5592(0x61a)]&&_0x4dec96!==null&&(_0x48d4fa=_0xd8f311['options'][_0x4dec96]),_0x23a2b8[_0x4d5592(0x92e)]({'questionId':_0xd8f311['id'],'answer':_0x4dec96,'answerText':_0x48d4fa,'isCorrect':_0x3ff293,'wasConfident':_0x4d6bab,'pointsAwarded':_0x474b5f,'originalQuestionText':_0xd8f311[_0x4d5592(0x232)]||_0xd8f311[_0x4d5592(0x911)]});}const _0x2fbe22=_0x23a2b8['filter'](_0xdcb3ab=>_0xdcb3ab[_0x4d5592(0x26e)])[_0x4d5592(0x2c7)],_0x5c3fa9=currentDisplayedQuiz['settings']?.[_0x4d5592(0x22f)]??Math[_0x4d5592(0xbdd)](_0x520883/0x2);_0x2fbe22===_0x520883&&_0x520883>0x0&&!currentDisplayedQuiz[_0x4d5592(0xb48)]&&_0x170d18[_0x4d5592(0x92e)](BADGES[_0x4d5592(0x3f2)]['id']);const _0x3fb98d=currentDisplayedQuiz[_0x4d5592(0x8e6)]?.[_0x4d5592(0x305)];if(_0x3fb98d===_0x4d5592(0x727)&&quizStartTime){const _0x1fa41e=(new Date()-quizStartTime)/0x3e8,_0x5849bf=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x2fbe22>=_0x5c3fa9&&_0x1fa41e<_0x5849bf/0x2&&_0x170d18[_0x4d5592(0x92e)](BADGES[_0x4d5592(0x885)]['id']);}_0x22c097[_0x4d5592(0x2c7)]===0x0&&_0x2fbe22===_0x520883&&_0x520883>0x0&&_0x170d18[_0x4d5592(0x92e)](BADGES[_0x4d5592(0x4ca)]['id']);if(_0x22c097[_0x4d5592(0x2c7)]>0x0){const _0x3f721d=_0x22c097[0x0][_0x4d5592(0x34f)];if(_0x3f721d<_0x5c3fa9&&_0x2fbe22>=_0x5c3fa9){const _0x4c3974=_0x22c097[_0x4d5592(0x5c1)](_0x48ce51=>(_0x48ce51[_0x4d5592(0x698)]||[])['includes'](BADGES['COMEBACK_KING']['id']));!_0x4c3974&&_0x170d18[_0x4d5592(0x92e)](BADGES[_0x4d5592(0x590)]['id']);}}_0x22c097[_0x4d5592(0x2c7)]===0x4&&_0x170d18[_0x4d5592(0x92e)](BADGES[_0x4d5592(0x3de)]['id']);const _0x4be7bc=currentDisplayedQuiz['settings'][_0x4d5592(0x204)];if(currentMode===_0x4d5592(0x40a)){handleResultDisplay(_0x4be7bc,_0x2fbe22,_0x4e72da,_0x170d18,_0x23a2b8,_0x520883);return;}const _0x37557d=currentQuizData['id'],_0x2c4c78=doc(db,_0x4d5592(0x94a)+appId+_0x4d5592(0xa34)+_0x37557d+_0x4d5592(0xbd0),currentStudentName);try{const _0x54b97a=[..._0x22c097],_0x22e810={'score':_0x2fbe22,'points':_0x4e72da,'badges':Array[_0x4d5592(0x6d9)](new Set(_0x170d18)),'submittedAt':new Date()[_0x4d5592(0x7a6)](),'answers':_0x23a2b8};_0x54b97a[_0x4d5592(0x92e)](_0x22e810);const _0x56abea=_0x22c097[_0x4d5592(0x2c7)]===0x0?_0x2fbe22:_0x22c097[0x0]['score']||0x0,_0x679c0c=Math['max'](..._0x54b97a[_0x4d5592(0x697)](_0x49246a=>_0x49246a[_0x4d5592(0x34f)]));await setDoc(_0x2c4c78,{'studentName':currentStudentName,'totalQuestions':_0x520883,'attempts':_0x54b97a,'firstScore':_0x56abea,'bestScore':_0x679c0c,'latestScore':_0x2fbe22,'points':_0x4e72da,'latestSubmittedAt':_0x22e810[_0x4d5592(0x32a)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x4be7bc,_0x2fbe22,_0x4e72da,_0x170d18,_0x23a2b8,_0x520883);}catch(_0x14fcc3){console[_0x4d5592(0xa65)](_0x4d5592(0x86d),_0x14fcc3),showMessage(_0x4d5592(0xb1e));}}async function updateStudentProfile(_0xb52efb,_0x174f5c){const _0x581738=_0x176601,_0x4e671c=doc(db,_0x581738(0x94a)+appId+_0x581738(0x2ba)+_0xb52efb+'/studentProfiles',_0x174f5c);try{const _0x2bd531=query(collection(db,_0x581738(0x94a)+appId+_0x581738(0xb3f)),where('projectId','==',_0xb52efb)),_0x55c2db=await getDocs(_0x2bd531),_0x45eed1=new Map(_0x55c2db[_0x581738(0xbff)][_0x581738(0x697)](_0x553759=>[_0x553759['id'],_0x553759[_0x581738(0xa77)]()])),_0x30ea20=Array[_0x581738(0x6d9)](_0x45eed1['keys']());await runTransaction(db,async _0x183f2a=>{const _0x171147=_0x581738;let _0x12602=0x0;const _0x3eb6ca={};let _0xbebb16=!![],_0x13c673=0x0,_0x343ce3=0x0;for(const _0x4bdd2b of _0x30ea20){const _0x4dbf50=_0x45eed1[_0x171147(0x637)](_0x4bdd2b),_0x23e305=doc(db,'artifacts/'+appId+_0x171147(0xa34)+_0x4bdd2b+_0x171147(0xbd0),_0x174f5c),_0x59f20b=await _0x183f2a['get'](_0x23e305);if(_0x59f20b[_0x171147(0x4b5)]()){const _0x391f1b=_0x59f20b[_0x171147(0xa77)](),_0x1aaaef=_0x391f1b[_0x171147(0x8ca)]||[];if(_0x1aaaef[_0x171147(0x2c7)]>0x0){const _0x11afe4=_0x1aaaef['reduce']((_0x2a5e46,_0x1ffada)=>{const _0x462fdb=_0x171147;if(_0x1ffada[_0x462fdb(0x34f)]>_0x2a5e46[_0x462fdb(0x34f)])return _0x1ffada;if(_0x1ffada[_0x462fdb(0x34f)]===_0x2a5e46['score'])return(_0x1ffada['points']||0x0)>(_0x2a5e46[_0x462fdb(0xb54)]||0x0)?_0x1ffada:_0x2a5e46;return _0x2a5e46;},{'score':-0x1,'points':-0x1});_0x11afe4['score']>-0x1&&(_0x12602+=_0x11afe4[_0x171147(0xb54)]||0x0,(_0x11afe4[_0x171147(0x698)]||[])[_0x171147(0x523)](_0x3655a3=>{_0x3eb6ca[_0x3655a3]=(_0x3eb6ca[_0x3655a3]||0x0)+0x1;}));}}if(_0x4dbf50[_0x171147(0x62b)]!==_0x171147(0x990)){_0x343ce3++;if(_0x59f20b[_0x171147(0x4b5)]()){_0x13c673++;const _0x42397f=_0x59f20b[_0x171147(0xa77)]();_0x42397f[_0x171147(0x75c)]!==_0x42397f[_0x171147(0x342)]&&(_0xbebb16=![]);}else _0xbebb16=![];}}_0x343ce3>0x0&&_0x13c673===_0x343ce3&&_0xbebb16?_0x3eb6ca['specialist']=0x1:_0x3eb6ca[_0x171147(0xa37)]=0x0,_0x183f2a[_0x171147(0x931)](_0x4e671c,{'studentName':_0x174f5c,'totalPoints':_0x12602,'unlockedBadges':Object[_0x171147(0x966)](_0x3eb6ca)[_0x171147(0xb79)](_0x5ea2f1=>_0x3eb6ca[_0x5ea2f1]>0x0),'badgesCount':_0x3eb6ca},{'merge':!![]});});}catch(_0x283482){console['error'](_0x581738(0x65d),_0x283482),showMessage(_0x581738(0xbee));}}function startAdminTest(){const _0x460625=_0x176601;if(!currentQuizData){showMessage(_0x460625(0x4c9));return;}let _0x19fab8=JSON[_0x460625(0xbe0)](JSON[_0x460625(0xbe7)](currentQuizData));currentMode=_0x460625(0x40a),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x460625(0x25c)]['add'](_0x460625(0xbc7)),studentView[_0x460625(0x25c)][_0x460625(0x167)]('hidden'),studentInitialView[_0x460625(0x25c)][_0x460625(0x8a5)](_0x460625(0xbc7)),studentNameSelectionView['classList'][_0x460625(0x8a5)](_0x460625(0xbc7)),studentResultArea['classList']['add'](_0x460625(0xbc7)),studentQuizArea[_0x460625(0x25c)][_0x460625(0x167)](_0x460625(0xbc7)),quizStartTime=new Date(),displayQuizForStudent(_0x19fab8);}function handleResultDisplay(_0x384ba4,_0x2ef55c,_0x423833,_0x322bfe,_0x3289ae,_0xaae13e){const _0x277226=_0x176601;if(_0x384ba4===_0x277226(0x825)){displaySubmissionConfirmation();return;}const _0x36f2cb=currentDisplayedQuiz[_0x277226(0x8e6)]?.['passingScore']??Math[_0x277226(0xbdd)](_0xaae13e/0x2),_0x470beb=currentDisplayedQuiz[_0x277226(0x8e6)]?.['isAdaptive']??![],_0x23d8f0=currentDisplayedQuiz[_0x277226(0x8e6)]?.[_0x277226(0x83b)]===!![],_0x4ef189=_0x2ef55c<_0x36f2cb,_0x2fad05=_0x384ba4===_0x277226(0x5e6)||_0x384ba4==='perfect_score_status';if(_0x23d8f0&&_0x4ef189&&!_0x2fad05){_0x384ba4===_0x277226(0x1b0)?displayResultsWithAnswers(_0x2ef55c,_0x423833,_0x322bfe,_0x3289ae,_0xaae13e,!![]):displayLoopScreen(_0x2ef55c,_0xaae13e,_0x384ba4);return;}if(_0x470beb&&_0x4ef189){startAdaptiveFlow(_0x3289ae,_0x2ef55c,_0xaae13e);return;}switch(_0x384ba4){case'show_results_and_answers':displayResultsWithAnswers(_0x2ef55c,_0x423833,_0x322bfe,_0x3289ae,_0xaae13e);break;case _0x277226(0x7ae):displayResultsScoreOnly(_0x2ef55c,_0x423833,_0x322bfe,_0xaae13e);break;case'show_pass_fail_only':displayPassFailOnly(_0x2ef55c,_0xaae13e);break;case'half_mark_status':displayHalfMarkResult(_0x2ef55c,_0xaae13e);break;case _0x277226(0xb68):displayPerfectScoreResult(_0x2ef55c,_0xaae13e);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x5c0b88){const _0x2345de=_0x176601;studentReadingArea[_0x2345de(0xab8)]=_0x2345de(0xa9e);const _0x2903ef=_0x2345de(0x1f9)+_0x5c0b88+_0x2345de(0x2ff)+simpleMathPrompt+_0x2345de(0x98b),_0x112903={'type':_0x2345de(0x9f7),'properties':{'questionText':{'type':_0x2345de(0x5fb)},'options':{'type':_0x2345de(0x876),'items':{'type':_0x2345de(0x5fb)}},'correctAnswerIndex':{'type':_0x2345de(0x1a9)},'explanation':{'type':_0x2345de(0x5fb)}},'required':[_0x2345de(0x911),_0x2345de(0x61a),_0x2345de(0x1f1),_0x2345de(0x9ff)]},_0x4f61de={'type':_0x2345de(0x9f7),'properties':{'topic':{'type':_0x2345de(0x5fb)},'questions':{'type':'ARRAY','items':_0x112903}},'required':[_0x2345de(0x62b),_0x2345de(0x9ce)]};try{const _0x1537bc=await callAnalysisApi(_0x2903ef,_0x4f61de);_0x1537bc['isRemedial']=!![],studentReadingArea[_0x2345de(0x25c)]['add'](_0x2345de(0xbc7));const _0x48a06c={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x2345de(0x1b0)};_0x1537bc[_0x2345de(0x8e6)]=_0x48a06c,displayQuizForStudent(_0x1537bc);}catch(_0x1db7e8){console[_0x2345de(0xa65)](_0x2345de(0xb0f),_0x1db7e8),showMessage(_0x2345de(0x7c4)),showView(_0x2345de(0x1de));}}function displayPassFailOnly(_0xa4f386,_0x492c82){const _0x267785=_0x176601,_0x17bb19=currentDisplayedQuiz[_0x267785(0x8e6)]?.['passingScore']??-0x1,_0x94cd74=currentDisplayedQuiz[_0x267785(0xb48)]===!![];let _0x5878c7='',_0x2d0537=![];if(_0x94cd74||_0x17bb19!==-0x1){_0x2d0537=_0x94cd74?_0xa4f386===_0x492c82:_0xa4f386>=_0x17bb19;const _0x3daf5c=_0x2d0537?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x2e5ac7=_0x2d0537?_0x267785(0x73a):_0x267785(0x55b);_0x5878c7='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x3daf5c+'\x22>'+_0x2e5ac7+_0x267785(0x445);}else _0x5878c7=_0x267785(0x9b2);let _0x28b1b8=_0x267785(0x4e6)+currentStudentName+_0x267785(0x508)+_0x5878c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x267785(0xab8)]=_0x28b1b8,studentResultArea[_0x267785(0x25c)][_0x267785(0x167)]('hidden'),studentQuizArea['classList'][_0x267785(0x8a5)](_0x267785(0xbc7)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x2d0537});}function cancelAdminTest(){const _0x501236=_0x176601;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x501236(0x4cc)](_0x501236(0x8cb),handleFullscreenChange),document[_0x501236(0x4cc)](_0x501236(0x558),handleVisibilityChange),currentMode=_0x501236(0x310),studentView[_0x501236(0x25c)][_0x501236(0x8a5)](_0x501236(0xbc7)),adminView['classList']['remove'](_0x501236(0xbc7)),showView('project-detail');}function setupResultScreenBackButton(_0x467832){const _0x5990f4=_0x176601,_0x5581e0={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x467832};if(_0x5581e0[_0x5990f4(0x40f)]){const _0x373aeb=_0x5990f4(0x5b3);studentResultArea[_0x5990f4(0x780)](_0x5990f4(0x873),_0x373aeb),document[_0x5990f4(0x267)](_0x5990f4(0x30d))[_0x5990f4(0xbb9)](_0x5990f4(0x292),()=>{const _0x485e90=_0x5990f4;studentResultArea[_0x485e90(0x25c)][_0x485e90(0x8a5)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0xc050ec=_0x5990f4(0xafb),_0x36aaf7=currentMode===_0x5990f4(0x40a),_0x145a12=_0x36aaf7?_0x5990f4(0x22a):_0x5990f4(0x9fb);let _0x2c6eb1='';_0x5581e0[_0x5990f4(0xad0)]&&(_0x2c6eb1+=_0x5990f4(0x6a5));let _0x3802ce=_0x5581e0[_0x5990f4(0x8ad)];_0x3802ce===undefined&&(_0x3802ce=_0x5581e0[_0x5990f4(0x34f)]<_0x5581e0[_0x5990f4(0x342)]);_0x3802ce&&(_0x2c6eb1+=_0x5990f4(0x2be));_0x2c6eb1+=_0x5990f4(0x4aa)+_0xc050ec+_0x5990f4(0x386)+_0x145a12+_0x5990f4(0xbb4);const _0x13a04d=_0x5990f4(0x21e)+_0x2c6eb1+_0x5990f4(0xba1);studentResultArea['insertAdjacentHTML'](_0x5990f4(0x873),_0x13a04d),studentResultArea['querySelector'](_0x5990f4(0x336))?.[_0x5990f4(0xbb9)](_0x5990f4(0x292),handleShowStudentRankings);const _0x362b07=studentResultArea[_0x5990f4(0x690)](_0x5990f4(0xa61));_0x362b07&&_0x362b07[_0x5990f4(0xbb9)]('click',()=>{const _0x1341f6=_0x5990f4;studentResultArea[_0x1341f6(0x25c)]['add'](_0x1341f6(0xbc7)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0xc050ec)[_0x5990f4(0xbb9)]('click',()=>{const _0x305eea=_0x5990f4;_0x36aaf7?(currentMode=_0x305eea(0x310),studentView[_0x305eea(0x25c)][_0x305eea(0x8a5)](_0x305eea(0xbc7)),adminView['classList'][_0x305eea(0x167)](_0x305eea(0xbc7)),showView('project-detail')):(showView('student'),document[_0x305eea(0x267)](_0x305eea(0x9d7))[_0x305eea(0x832)]='');});}function displayResultsWithAnswers(_0x51e1a5,_0x6a6c8c,_0x416c31,_0x20cf2e,_0x2af30a,_0x1359c2=![]){const _0xb2fc27=_0x176601,_0x5805bc=_0x2af30a>0x0?_0x51e1a5/_0x2af30a*0x64:0x0,_0x130909=currentDisplayedQuiz[_0xb2fc27(0x8e6)]?.['passingScore']??-0x1,_0x280ff3=currentDisplayedQuiz[_0xb2fc27(0xb48)]===!![];let _0x18b610='';if(_0x280ff3||_0x130909!==-0x1){let _0x257095=_0x280ff3?_0x51e1a5===_0x2af30a:_0x51e1a5>=_0x130909;const _0x128cdf=_0x257095?_0xb2fc27(0x634):_0xb2fc27(0x6fb),_0x1a0b5d=_0x257095?'ผ่าน':'ไม่ผ่าน';_0x18b610=_0xb2fc27(0x839)+_0x128cdf+'\x22>'+_0x1a0b5d+_0xb2fc27(0xa5b);}let _0x4c6c4a=_0xb2fc27(0x5b7)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x51e1a5+_0xb2fc27(0x8e2)+_0x2af30a+_0xb2fc27(0x320)+_0x18b610+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x6a6c8c+_0xb2fc27(0xb9c)+_0x5805bc['toFixed'](0x0)+_0xb2fc27(0x6cf);currentDisplayedQuiz['questions'][_0xb2fc27(0x523)]((_0x59c237,_0x5b7ab7)=>{const _0x1f5d83=_0xb2fc27,_0x292b33=_0x20cf2e[_0x5b7ab7],_0xeb2de9=_0x292b33['answer'],_0x5b50ba=_0x292b33['isCorrect'],_0x4c60dc=_0x59c237[_0x1f5d83(0x9c3)]||currentDisplayedQuiz[_0x1f5d83(0x84e)];_0x4c6c4a+=_0x1f5d83(0x6bd)+(_0x5b50ba?_0x1f5d83(0xbe5):_0x1f5d83(0xb35))+_0x1f5d83(0x628)+(_0x5b7ab7+0x1)+'.\x20'+(_0x59c237[_0x1f5d83(0x232)]||_0x59c237[_0x1f5d83(0x911)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x4c60dc){case _0x1f5d83(0x4ed):const _0x234601=_0xeb2de9||_0x1f5d83(0x4eb),_0x305c14=_0x59c237[_0x1f5d83(0x6a9)];_0x4c6c4a+=_0x1f5d83(0x5fe)+(!_0x5b50ba?_0x1f5d83(0x4a6):'')+'\x22>'+_0x234601+_0x1f5d83(0x2fa);!_0x5b50ba&&(_0x4c6c4a+=_0x1f5d83(0x609)+_0x305c14+_0x1f5d83(0xa5b));break;case _0x1f5d83(0x477):_0x4c6c4a+=_0x1f5d83(0x8da)+(_0xeb2de9||_0x1f5d83(0x4eb))+_0x1f5d83(0xa5b),_0x4c6c4a+=_0x1f5d83(0x4a2)+_0x59c237[_0x1f5d83(0x3be)]+'</p>';break;case _0x1f5d83(0x9c7):_0x4c6c4a+=_0x1f5d83(0x963)+(_0x59c237[_0x1f5d83(0xb9b)]===!![]?_0x1f5d83(0x59a):'')+'\x20'+(_0xeb2de9==='true'&&!_0x5b50ba?'line-through\x20text-red-700':'')+_0x1f5d83(0x844),_0x4c6c4a+='<p\x20class=\x22'+(_0x59c237[_0x1f5d83(0xb9b)]===![]?_0x1f5d83(0x59a):'')+'\x20'+(_0xeb2de9==='false'&&!_0x5b50ba?_0x1f5d83(0x4a6):'')+_0x1f5d83(0x8a6);break;default:_0x4c6c4a+=_0x59c237['options'][_0x1f5d83(0x697)]((_0x301894,_0xfc95f2)=>{const _0x30df85=_0x1f5d83;let _0x2e4188='',_0x598701='';if(_0xfc95f2===_0x59c237[_0x30df85(0x1f1)])_0x2e4188='font-bold\x20text-green-700',_0x598701='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0xfc95f2===_0xeb2de9&&(_0x2e4188='font-bold\x20text-red-700\x20line-through',_0x598701=_0x30df85(0x747));return _0x30df85(0x8fa)+_0x2e4188+'\x22>'+_0x598701+_0x301894+_0x30df85(0xba1);})[_0x1f5d83(0x706)]('');break;}_0x4c6c4a+=_0x1f5d83(0x5c3)+(_0x59c237[_0x1f5d83(0x9ff)]||'ไม่มีคำอธิบาย')+'</div>';if(!_0x5b50ba){const _0x3914c7=_0x59c237[_0x1f5d83(0x232)]||_0x59c237[_0x1f5d83(0x911)];_0x4c6c4a+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x3914c7)+_0x1f5d83(0x63d);}_0x4c6c4a+='</div>';}),studentResultArea[_0xb2fc27(0xab8)]=_0x4c6c4a,renderEarnedBadges(_0x416c31,_0xb2fc27(0x302)),studentResultArea[_0xb2fc27(0x25c)][_0xb2fc27(0x167)](_0xb2fc27(0xbc7)),studentQuizArea[_0xb2fc27(0x25c)]['add']('hidden'),setupResultScreenBackButton({'isLooping':_0x1359c2,'score':_0x51e1a5,'totalQuestions':_0x2af30a,'showRankings':!![]});if(window[_0xb2fc27(0xb72)])window[_0xb2fc27(0xb72)][_0xb2fc27(0x5bf)]([studentResultArea]);}function displayResultsScoreOnly(_0x276b06,_0x258fa8,_0x259845,_0x5c26b3){const _0x4ea881=_0x176601,_0x31b440=_0x5c26b3>0x0?_0x276b06/_0x5c26b3*0x64:0x0,_0x3cb1b8=currentDisplayedQuiz[_0x4ea881(0x8e6)]?.['passingScore']??-0x1,_0x1e3a9e=currentDisplayedQuiz[_0x4ea881(0xb48)]===!![];let _0x58b940='';if(_0x1e3a9e||_0x3cb1b8!==-0x1){let _0x13e3c2=_0x1e3a9e?_0x276b06===_0x5c26b3:_0x276b06>=_0x3cb1b8;const _0xbf2d85=_0x13e3c2?_0x4ea881(0x634):_0x4ea881(0x6fb),_0xd040d7=_0x13e3c2?'ผ่าน':_0x4ea881(0x55b);_0x58b940=_0x4ea881(0x839)+_0xbf2d85+'\x22>'+_0xd040d7+_0x4ea881(0xa5b);}let _0x4f5501=_0x4ea881(0x4e6)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x276b06+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5c26b3+_0x4ea881(0x320)+_0x58b940+_0x4ea881(0x87b)+_0x258fa8+_0x4ea881(0x3b2)+_0x31b440[_0x4ea881(0x366)](0x0)+_0x4ea881(0x62a);studentResultArea[_0x4ea881(0xab8)]=_0x4f5501,renderEarnedBadges(_0x259845,_0x4ea881(0x302)),studentResultArea['classList'][_0x4ea881(0x167)]('hidden'),studentQuizArea['classList'][_0x4ea881(0x8a5)](_0x4ea881(0xbc7)),setupResultScreenBackButton({'score':_0x276b06,'totalQuestions':_0x5c26b3,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x48edd3=_0x176601;let _0xd22fda='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x48edd3(0x4cb);studentResultArea[_0x48edd3(0xab8)]=_0xd22fda,studentResultArea['classList'][_0x48edd3(0x167)]('hidden'),studentQuizArea[_0x48edd3(0x25c)][_0x48edd3(0x8a5)](_0x48edd3(0xbc7)),document[_0x48edd3(0x267)](_0x48edd3(0x9b5))[_0x48edd3(0xbb9)](_0x48edd3(0x292),()=>{const _0x2bb449=_0x48edd3;showView(_0x2bb449(0x1de)),document['getElementById'](_0x2bb449(0x9d7))[_0x2bb449(0x832)]='';});}function renderEarnedBadges(_0x29d6a3,_0x515429){const _0x2923be=_0x176601,_0x21ac2a=document[_0x2923be(0x267)](_0x515429);if(!_0x21ac2a||!_0x29d6a3||_0x29d6a3['length']===0x0)return;let _0x56f5be='';_0x29d6a3[_0x2923be(0x523)]((_0x2c2301,_0x35ae2f)=>{const _0x542689=_0x2923be,_0x1d528f=Object[_0x542689(0x8f5)](BADGES)[_0x542689(0x70b)](_0x35d248=>_0x35d248['id']===_0x2c2301);_0x1d528f&&(_0x56f5be+=_0x542689(0x9f4)+_0x35ae2f*0.2+_0x542689(0xb4a)+_0x1d528f[_0x542689(0x67e)]+_0x542689(0x4a1)+_0x1d528f[_0x542689(0x421)]+_0x542689(0x654)+_0x1d528f[_0x542689(0x6be)]+_0x542689(0x809));}),_0x21ac2a[_0x2923be(0xab8)]=_0x56f5be;}function startPresentation(_0x55eb4e){const _0x33b57a=_0x176601;currentQuizData=getShuffledQuiz(_0x55eb4e),currentPresentationSlide=0x0,presentationModal[_0x33b57a(0x58e)]['display']=_0x33b57a(0x80e),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x86d7ce=_0x176601;document[_0x86d7ce(0xbb1)]&&document[_0x86d7ce(0x5a5)](),presentationModal[_0x86d7ce(0x58e)][_0x86d7ce(0x5a6)]='none';}function renderPresentationSlide(_0x54294a){const _0x34a706=_0x176601,_0x44cfba=document[_0x34a706(0x267)](_0x34a706(0xa6d));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x34a706(0x9ce)][_0x54294a]){_0x44cfba[_0x34a706(0xab8)]=_0x34a706(0x884);return;}const _0x385f7c=currentQuizData[_0x34a706(0x9ce)][_0x54294a],_0x5885d6=_0x385f7c['questionType']||currentQuizData['quizType'];_0x44cfba[_0x34a706(0xab8)]='';let _0x47e593='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x385f7c[_0x34a706(0x9ed)]?_0x34a706(0x1c8)+_0x385f7c[_0x34a706(0x9ed)]+_0x34a706(0xba1):'')+_0x34a706(0x532)+(_0x54294a+0x1)+'.\x20'+(_0x385f7c[_0x34a706(0x232)]||_0x385f7c[_0x34a706(0x911)])+_0x34a706(0x9b9);switch(_0x5885d6){case'matching_item':_0x47e593+=_0x385f7c['allResponses'][_0x34a706(0x697)](_0xf92931=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf92931+_0x34a706(0x30f))['join']('');break;case _0x34a706(0x9c7):_0x47e593+=_0x34a706(0x303),_0x47e593+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case'fill_in_no_choices':case _0x34a706(0x477):_0x47e593+=_0x34a706(0x929);break;case _0x34a706(0x888):case'multiple_choice':default:_0x47e593+=_0x385f7c['options'][_0x34a706(0x697)]((_0x5bd127,_0x50ce7e)=>_0x34a706(0x8b6)+_0x50ce7e+_0x34a706(0x47b)+_0x5bd127+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x34a706(0x706)]('');break;}_0x47e593+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x385f7c['explanation']||_0x34a706(0x871))+_0x34a706(0x9d4),_0x44cfba[_0x34a706(0xab8)]=_0x47e593;if(window[_0x34a706(0xb72)])window[_0x34a706(0xb72)][_0x34a706(0x5bf)]([_0x44cfba]);let _0xc7a3db=[];switch(_0x5885d6){case'matching_item':_0xc7a3db=_0x385f7c['allResponses']||[];break;case _0x34a706(0x9c7):_0xc7a3db=[_0x34a706(0x901),_0x34a706(0x5f4)];break;default:_0xc7a3db=_0x385f7c['options']||[];break;}const _0x521885=document['getElementById'](_0x34a706(0xa50));_0x521885&&(_0x521885['onclick']=()=>{openScratchpad(_0x385f7c,_0xc7a3db);});document['querySelectorAll']('.presentation-option')['forEach'](_0x14367d=>{const _0x506fab=_0x34a706;_0x14367d[_0x506fab(0xbb9)](_0x506fab(0x292),_0x203348=>revealAnswerForPresentation(_0x54294a,_0x203348[_0x506fab(0x499)]));});const _0x33924c=document[_0x34a706(0x267)](_0x34a706(0xaa0));_0x33924c&&_0x33924c[_0x34a706(0xbb9)]('click',()=>checkShortAnswerForPresentation(_0x54294a)),document[_0x34a706(0x267)]('slide-counter')[_0x34a706(0x4c2)]=_0x34a706(0xc0f)+(_0x54294a+0x1)+'\x20/\x20'+currentQuizData[_0x34a706(0x9ce)]['length'],document[_0x34a706(0x267)](_0x34a706(0x4ba))['disabled']=_0x54294a===0x0,document[_0x34a706(0x267)](_0x34a706(0x584))['disabled']=_0x54294a===currentQuizData[_0x34a706(0x9ce)][_0x34a706(0x2c7)]-0x1;}async function checkShortAnswerForPresentation(_0x974686){const _0x2b0e8a=_0x176601,_0x112d6c=currentQuizData[_0x2b0e8a(0x9ce)][_0x974686],_0x5100cc=document[_0x2b0e8a(0x267)](_0x2b0e8a(0xa35)),_0x36d9bc=document[_0x2b0e8a(0x267)](_0x2b0e8a(0xaa0)),_0x49b9b0=document[_0x2b0e8a(0x267)](_0x2b0e8a(0x7e5)),_0x521c87=document[_0x2b0e8a(0x267)](_0x2b0e8a(0x6e7));if(!_0x5100cc||!_0x36d9bc||!_0x49b9b0||!_0x521c87)return;const _0x49d2ce=_0x5100cc[_0x2b0e8a(0x832)][_0x2b0e8a(0xa5f)]();if(_0x49d2ce==='')return;_0x36d9bc[_0x2b0e8a(0x76a)]=!![],_0x36d9bc[_0x2b0e8a(0xab8)]=_0x2b0e8a(0xaf6),_0x5100cc['disabled']=!![];const _0x44213d=await gradeShortAnswer(_0x49d2ce,_0x112d6c);_0x44213d?_0x49b9b0[_0x2b0e8a(0xab8)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x49b9b0['innerHTML']=_0x2b0e8a(0xb9a)+_0x112d6c[_0x2b0e8a(0x3be)]+')',_0x49b9b0[_0x2b0e8a(0x25c)][_0x2b0e8a(0x167)]('hidden'),_0x521c87['classList'][_0x2b0e8a(0x167)](_0x2b0e8a(0xbc7)),_0x36d9bc[_0x2b0e8a(0x25c)][_0x2b0e8a(0x8a5)](_0x2b0e8a(0xbc7));}function revealAnswerForPresentation(_0x371ebb,_0x3fbe91){const _0x25bb19=_0x176601,_0x16ab2a=currentQuizData[_0x25bb19(0x9ce)][_0x371ebb],_0x4bdcdb=_0x16ab2a['questionType']||currentQuizData['quizType'];document[_0x25bb19(0x6d4)](_0x25bb19(0xa86))[_0x25bb19(0x523)](_0x3588da=>{const _0x5f501a=_0x25bb19;_0x3588da['disabled']=!![],_0x3588da['classList'][_0x5f501a(0x167)](_0x5f501a(0x535));let _0x54e0be=![];if(_0x4bdcdb==='multiple_choice'||_0x4bdcdb==='fill_in_the_blank'){const _0x41a0af=parseInt(_0x3588da['dataset']['index']);_0x54e0be=_0x41a0af===_0x16ab2a[_0x5f501a(0x1f1)];}else{if(_0x4bdcdb===_0x5f501a(0x9c7)){const _0x23baf2=_0x3588da[_0x5f501a(0x89d)][_0x5f501a(0x2bf)]===_0x5f501a(0x268);_0x54e0be=_0x23baf2===_0x16ab2a[_0x5f501a(0xb9b)];}else _0x4bdcdb==='matching_item'&&(_0x54e0be=_0x3588da['textContent'][_0x5f501a(0xa5f)]()===_0x16ab2a[_0x5f501a(0x6a9)]);}_0x54e0be?_0x3588da['classList'][_0x5f501a(0x8a5)]('bg-green-500',_0x5f501a(0x38d),_0x5f501a(0xaad)):_0x3588da[_0x5f501a(0x25c)][_0x5f501a(0x8a5)](_0x5f501a(0x9f5));}),_0x3fbe91[_0x25bb19(0x25c)]['remove']('opacity-50');let _0x374c3a=![];if(_0x4bdcdb===_0x25bb19(0x3e7))_0x374c3a=parseInt(_0x3fbe91[_0x25bb19(0x89d)][_0x25bb19(0x9ad)])===_0x16ab2a['correctAnswerIndex'];else{if(_0x4bdcdb==='true_false')_0x374c3a=_0x3fbe91[_0x25bb19(0x89d)]['answer']===_0x25bb19(0x268)===_0x16ab2a[_0x25bb19(0xb9b)];else _0x4bdcdb===_0x25bb19(0x4ed)&&(_0x374c3a=_0x3fbe91[_0x25bb19(0x4c2)][_0x25bb19(0xa5f)]()===_0x16ab2a[_0x25bb19(0x6a9)]);}!_0x374c3a&&_0x3fbe91[_0x25bb19(0x25c)][_0x25bb19(0x8a5)]('bg-red-500',_0x25bb19(0x38d),_0x25bb19(0x314)),document['getElementById'](_0x25bb19(0x6e7))[_0x25bb19(0x25c)]['remove'](_0x25bb19(0xbc7));}function startWholeQuizTimer(_0x3117bd){const _0x786be5=_0x176601,_0x2fdfe2=document[_0x786be5(0x267)](_0x786be5(0x3d1));if(!_0x2fdfe2)return;const _0x441884=Date[_0x786be5(0x937)]()+_0x3117bd*0x3c*0x3e8;_0x2fdfe2['innerHTML']=_0x786be5(0x2a1);const _0x3545cb=document[_0x786be5(0x267)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x31ff00=_0x786be5,_0x47230f=_0x441884-Date[_0x31ff00(0x937)]();if(_0x47230f<=0x0)clearInterval(quizTimerInterval),_0x3545cb[_0x31ff00(0x4c2)]=_0x31ff00(0x1bc),showMessage(_0x31ff00(0x4e4)),handleSubmitQuiz(null);else{const _0x4d5478=Math['floor'](_0x47230f/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x7ea165=Math[_0x31ff00(0xbdd)](_0x47230f/0x3e8%0x3c)[_0x31ff00(0x5bc)]()[_0x31ff00(0x79c)](0x2,'0');_0x3545cb[_0x31ff00(0x4c2)]=_0x4d5478+':'+_0x7ea165;}},0x3e8);}function renderPerQuestionView(){const _0x16ae0d=_0x176601;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x5e4ce8=currentDisplayedQuiz[_0x16ae0d(0x9ce)][currentQuestionIndex],_0x568f5a=_0x5e4ce8['questionType']||currentDisplayedQuiz[_0x16ae0d(0x84e)],_0x433dcf=currentDisplayedQuiz[_0x16ae0d(0x8e6)]?.[_0x16ae0d(0x301)]===!![];let _0x4168e6=_0x16ae0d(0x198)+(currentQuestionIndex+0x1)+_0x16ae0d(0x2f2)+currentDisplayedQuiz[_0x16ae0d(0x9ce)][_0x16ae0d(0x2c7)]+_0x16ae0d(0x34e)+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x16ae0d(0x62b)]+_0x16ae0d(0x536);studentQuizArea[_0x16ae0d(0xab8)]=_0x4168e6;let _0x4046dd=_0x5e4ce8[_0x16ae0d(0x232)]||_0x5e4ce8[_0x16ae0d(0x911)];_0x5e4ce8[_0x16ae0d(0x9ed)]&&(_0x4046dd+=_0x16ae0d(0x1c8)+_0x5e4ce8['imageCode']+_0x16ae0d(0xba1));let _0x1986b9='';switch(_0x568f5a){case _0x16ae0d(0x477):case _0x16ae0d(0x184):_0x1986b9=_0x16ae0d(0x932);break;case _0x16ae0d(0x9c7):_0x1986b9=_0x16ae0d(0x37d);break;case'matching_item':_0x1986b9=_0x16ae0d(0x219)+(_0x5e4ce8[_0x16ae0d(0x773)]||[])[_0x16ae0d(0x697)](_0x2707eb=>'<option\x20value=\x22'+_0x2707eb+'\x22>'+_0x2707eb+_0x16ae0d(0x53f))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x5e4ce8[_0x16ae0d(0x61a)]&&(_0x1986b9=_0x5e4ce8[_0x16ae0d(0x61a)][_0x16ae0d(0x697)]((_0x15c064,_0x100b28)=>_0x16ae0d(0x98e)+_0x100b28+_0x16ae0d(0x2a9)+_0x100b28+_0x16ae0d(0x4d1)+_0x100b28+'\x22>'+_0x15c064+_0x16ae0d(0x647))[_0x16ae0d(0x706)](''));break;}document['getElementById'](_0x16ae0d(0x852))[_0x16ae0d(0xab8)]=_0x4046dd,document[_0x16ae0d(0x267)](_0x16ae0d(0xb1c))['innerHTML']=_0x1986b9;const _0x16c4dc=currentDisplayedQuiz[_0x16ae0d(0x8e6)]?.[_0x16ae0d(0x301)]===!![],_0x1ebe8e=currentDisplayedQuiz[_0x16ae0d(0x8e6)]?.[_0x16ae0d(0x5c7)]||'checkbox';if(_0x16c4dc&&_0x1ebe8e===_0x16ae0d(0x76d)){const _0x2682bc=_0x16ae0d(0x64d);studentQuizArea[_0x16ae0d(0x690)](_0x16ae0d(0x90a))[_0x16ae0d(0x780)](_0x16ae0d(0x873),_0x2682bc);}studentQuizArea['insertAdjacentHTML']('beforeend',_0x16ae0d(0x432)+(currentQuestionIndex===currentDisplayedQuiz[_0x16ae0d(0x9ce)][_0x16ae0d(0x2c7)]-0x1?_0x16ae0d(0x288):_0x16ae0d(0x38e))+_0x16ae0d(0x8f0));currentMode===_0x16ae0d(0x40a)&&document[_0x16ae0d(0x267)](_0x16ae0d(0x41f))?.['addEventListener']('click',cancelAdminTest);document['getElementById'](_0x16ae0d(0x8dd))[_0x16ae0d(0xbb9)](_0x16ae0d(0x292),()=>handleNextQuestionInTimedMode(![]));if(window[_0x16ae0d(0xb72)])window[_0x16ae0d(0xb72)][_0x16ae0d(0x5bf)]([studentQuizArea]);currentDisplayedQuiz[_0x16ae0d(0x8e6)]?.[_0x16ae0d(0x305)]===_0x16ae0d(0x18d)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x54bd7b=_0x176601,_0x48635d=currentDisplayedQuiz['settings'][_0x54bd7b(0x75b)],_0x21eee7=document['getElementById'](_0x54bd7b(0x737));if(!_0x21eee7)return;let _0x1dc833=_0x48635d;_0x21eee7[_0x54bd7b(0xab8)]=_0x54bd7b(0xb3a)+_0x1dc833+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x4366a6=document[_0x54bd7b(0x267)](_0x54bd7b(0x483)),_0x25c38b=document[_0x54bd7b(0x267)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x529c49=_0x54bd7b;_0x1dc833--;const _0x502516=_0x1dc833/_0x48635d*0x64;_0x4366a6['style']['width']=_0x502516+'%',_0x25c38b['textContent']=_0x1dc833,_0x1dc833<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x529c49(0xb21)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3b8d28=![]){const _0x3c570a=_0x176601;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4cb5b7=null,_0x299f51=![];if(!_0x3b8d28){const _0x5cdaac=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x52ade2=_0x5cdaac[_0x3c570a(0x9c3)]||currentDisplayedQuiz[_0x3c570a(0x84e)];if(_0x52ade2===_0x3c570a(0x477)||_0x52ade2===_0x3c570a(0x184))_0x4cb5b7=document[_0x3c570a(0x690)](_0x3c570a(0xb18))?.[_0x3c570a(0x832)]['trim']()??'';else{if(_0x52ade2===_0x3c570a(0x4ed))_0x4cb5b7=document[_0x3c570a(0x690)](_0x3c570a(0x619))?.[_0x3c570a(0x832)]??'';else{const _0x35cb63=document[_0x3c570a(0x690)](_0x3c570a(0x264));_0x35cb63&&(_0x4cb5b7=_0x35cb63[_0x3c570a(0x832)]);}}if(_0x4cb5b7===null||_0x4cb5b7===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x2f7e38=currentDisplayedQuiz[_0x3c570a(0x8e6)]?.['isConfidenceScoringEnabled']===!![],_0x38186c=currentDisplayedQuiz[_0x3c570a(0x8e6)]?.['confidenceMode']||_0x3c570a(0x76d);if(_0x2f7e38&&_0x38186c===_0x3c570a(0x4d3)){document[_0x3c570a(0x267)](_0x3c570a(0x8ea))[_0x3c570a(0x89d)]['currentMode']=_0x3c570a(0xa7b),document['getElementById'](_0x3c570a(0x86b))[_0x3c570a(0x832)]=_0x4cb5b7,document[_0x3c570a(0x267)](_0x3c570a(0x8ea))[_0x3c570a(0x25c)]['remove'](_0x3c570a(0xbc7));return;}const _0x4d9e18=document[_0x3c570a(0x267)](_0x3c570a(0x299));_0x4d9e18&&(_0x299f51=_0x4d9e18['checked']);}const _0x59db21={'answer':_0x4cb5b7,'wasConfident':_0x299f51};proceedToNextQuestion(_0x59db21);}async function finalizePerQuestionQuiz(){const _0x72a612=_0x176601,_0x279c16=currentDisplayedQuiz[_0x72a612(0x9ce)][_0x72a612(0x5c1)](_0x50df53=>_0x50df53['questionType']===_0x72a612(0x477));_0x279c16?showMessage(_0x72a612(0x425)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x552d7e=currentQuizData['id'],_0x5046fc=doc(db,_0x72a612(0x94a)+appId+_0x72a612(0xa34)+_0x552d7e+_0x72a612(0xbd0),currentStudentName),_0x40670a=await getDoc(_0x5046fc),_0x27b7d5=_0x40670a[_0x72a612(0x4b5)]()?_0x40670a['data']():{},_0x4a944d=_0x27b7d5[_0x72a612(0x8ca)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4a944d);}function getResultsFilename(){const _0x57ee7d=_0x176601,_0x358fb6=document['getElementById']('results-quiz-title')[_0x57ee7d(0x4c2)][_0x57ee7d(0x24a)](/[^a-z0-9]/gi,'_')[_0x57ee7d(0x280)]();return'results_'+(_0x358fb6||_0x57ee7d(0x5b9));}function exportResultsAsImage(){const _0x2c0178=_0x176601,_0x323ebe=document['getElementById'](_0x2c0178(0x2c6));showMessage(_0x2c0178(0xbbb)),html2canvas(_0x323ebe)['then'](_0x1a7c64=>{const _0x8605ca=_0x2c0178,_0x12dee6=document[_0x8605ca(0x718)]('a');_0x12dee6['download']=getResultsFilename()+'.png',_0x12dee6[_0x8605ca(0xa21)]=_0x1a7c64[_0x8605ca(0x317)](_0x8605ca(0x9e8)),_0x12dee6[_0x8605ca(0x292)](),messageModal[_0x8605ca(0x25c)][_0x8605ca(0x8a5)](_0x8605ca(0xbc7));});}function exportResultsAsPDF(){const _0x3dc371=_0x176601,{jsPDF:_0x130590}=window['jspdf'],_0x5d45c2=new _0x130590();_0x5d45c2['setFont']('helvetica',_0x3dc371(0xaf4)),_0x5d45c2[_0x3dc371(0x233)]({'html':_0x3dc371(0x9fa)}),_0x5d45c2[_0x3dc371(0xac6)](getResultsFilename()+_0x3dc371(0x50b));}function exportResultsAsWord(){const _0x4f0ea4=_0x176601,_0x5e3a63=_0x4f0ea4(0x296)+_0x4f0ea4(0x5f9)+_0x4f0ea4(0x3b9)+_0x4f0ea4(0xa95),_0x5c806a=_0x4f0ea4(0x2de),_0x1ff010=_0x5e3a63+document[_0x4f0ea4(0x267)]('results-table-container')[_0x4f0ea4(0xab8)]+_0x5c806a,_0x174058='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x1ff010),_0x3b0ad9=document[_0x4f0ea4(0x718)]('a');document[_0x4f0ea4(0x7ad)]['appendChild'](_0x3b0ad9),_0x3b0ad9[_0x4f0ea4(0xa21)]=_0x174058,_0x3b0ad9[_0x4f0ea4(0x67f)]=getResultsFilename()+'.doc',_0x3b0ad9[_0x4f0ea4(0x292)](),document[_0x4f0ea4(0x7ad)][_0x4f0ea4(0x57b)](_0x3b0ad9);}function exportResultsAsExcel(){const _0x48b93f=_0x176601,_0x31015c=document[_0x48b93f(0x267)](_0x48b93f(0x6f9));let _0x313f45=[];for(let _0x5c0a0f=0x0;_0x5c0a0f<_0x31015c[_0x48b93f(0x62e)]['length'];_0x5c0a0f++){let _0x1973fd=[],_0x31f04f=_0x31015c[_0x48b93f(0x62e)][_0x5c0a0f]['querySelectorAll'](_0x48b93f(0x2e4));for(let _0x3a025b=0x0;_0x3a025b<_0x31f04f['length'];_0x3a025b++){_0x1973fd[_0x48b93f(0x92e)]('\x22'+_0x31f04f[_0x3a025b][_0x48b93f(0x3ee)][_0x48b93f(0x24a)](/"/g,'\x22\x22')+'\x22');}_0x313f45[_0x48b93f(0x92e)](_0x1973fd[_0x48b93f(0x706)](','));}const _0x4d11b5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x313f45['join']('\x0a')],{'type':_0x48b93f(0x900)}),_0x1bd6ff=document[_0x48b93f(0x718)]('a');_0x1bd6ff[_0x48b93f(0xa21)]=URL[_0x48b93f(0xbf1)](_0x4d11b5),_0x1bd6ff[_0x48b93f(0x67f)]=getResultsFilename()+'.csv',_0x1bd6ff['click']();}function exportTableAsImage(_0x438398,_0x17e130){const _0x5c9019=_0x176601,_0x2f868e=document[_0x5c9019(0x267)](_0x438398);if(!_0x2f868e){showMessage(_0x5c9019(0x373));return;}showMessage(_0x5c9019(0xbbb)),html2canvas(_0x2f868e)[_0x5c9019(0x646)](_0x2108c0=>{const _0x424650=_0x5c9019,_0x1ef5b2=document[_0x424650(0x718)]('a');_0x1ef5b2['download']=_0x17e130+_0x424650(0x205),_0x1ef5b2[_0x424650(0xa21)]=_0x2108c0[_0x424650(0x317)](_0x424650(0x9e8)),_0x1ef5b2['click'](),messageModal[_0x424650(0x25c)][_0x424650(0x8a5)](_0x424650(0xbc7));});}function exportTableAsPDF(_0x2dcfcc,_0x3f3a73){const _0x5c49c3=_0x176601,{jsPDF:_0x3f5ad4}=window[_0x5c49c3(0x214)],_0x24a2e7=new _0x3f5ad4();_0x24a2e7[_0x5c49c3(0x1c6)](_0x5c49c3(0x84f),_0x5c49c3(0xaf4)),_0x24a2e7[_0x5c49c3(0x233)]({'html':'#'+_0x2dcfcc}),_0x24a2e7[_0x5c49c3(0xac6)](_0x3f3a73+_0x5c49c3(0x50b));}function exportTableAsWord(_0x391987,_0x848122){const _0x2b1104=_0x176601,_0x115a1d=document[_0x2b1104(0x267)](_0x391987);if(!_0x115a1d){showMessage(_0x2b1104(0x373));return;}const _0x1c86f9='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x2b1104(0x3b9)+_0x2b1104(0xa95),_0xd0756e=_0x2b1104(0x2de),_0x3072c8=_0x1c86f9+_0x115a1d['innerHTML']+_0xd0756e,_0x527175=_0x2b1104(0x91e)+encodeURIComponent(_0x3072c8),_0x44c3cb=document[_0x2b1104(0x718)]('a');document[_0x2b1104(0x7ad)][_0x2b1104(0x387)](_0x44c3cb),_0x44c3cb[_0x2b1104(0xa21)]=_0x527175,_0x44c3cb[_0x2b1104(0x67f)]=_0x848122+_0x2b1104(0x5af),_0x44c3cb['click'](),document[_0x2b1104(0x7ad)]['removeChild'](_0x44c3cb);}function exportTableAsExcel(_0x245c6c,_0x2824aa){const _0x4d9135=_0x176601,_0x1bb777=document[_0x4d9135(0x267)](_0x245c6c);if(!_0x1bb777){showMessage(_0x4d9135(0x373));return;}let _0x28dc5a=[];for(let _0x1ec620=0x0;_0x1ec620<_0x1bb777[_0x4d9135(0x62e)][_0x4d9135(0x2c7)];_0x1ec620++){let _0x328c85=[],_0xe51de8=_0x1bb777[_0x4d9135(0x62e)][_0x1ec620][_0x4d9135(0x6d4)](_0x4d9135(0x2e4));for(let _0x58642a=0x0;_0x58642a<_0xe51de8[_0x4d9135(0x2c7)];_0x58642a++){_0x328c85[_0x4d9135(0x92e)]('\x22'+_0xe51de8[_0x58642a]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x28dc5a[_0x4d9135(0x92e)](_0x328c85[_0x4d9135(0x706)](','));}const _0x1632cc=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x28dc5a[_0x4d9135(0x706)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x12a6c4=document[_0x4d9135(0x718)]('a');_0x12a6c4[_0x4d9135(0xa21)]=URL[_0x4d9135(0xbf1)](_0x1632cc),_0x12a6c4[_0x4d9135(0x67f)]=_0x2824aa+_0x4d9135(0x856),_0x12a6c4[_0x4d9135(0x292)]();}function renderAnalytics(_0x10d133,_0x363fde){const _0x9282bb=_0x176601,_0x3470ea=_0x363fde['filter'](_0x54202f=>_0x54202f['latestScore']!==undefined),_0x1dd063=currentProjectData['students'][_0x9282bb(0x2c7)],_0x543e4d=_0x3470ea['length'],_0x34ca72=_0x1dd063-_0x543e4d,_0x354d7f=_0x1dd063>0x0?_0x543e4d/_0x1dd063*0x64:0x0,_0x12e442=_0x3470ea[_0x9282bb(0x697)](_0x5d9852=>_0x5d9852[_0x9282bb(0x3da)]),_0x11340b=_0x12e442[_0x9282bb(0x2c7)]>0x0?_0x12e442[_0x9282bb(0x46b)]((_0x53e5f3,_0x2d057c)=>_0x53e5f3+_0x2d057c,0x0)/_0x12e442[_0x9282bb(0x2c7)]:0x0,_0x382474=_0x10d133['questions'][_0x9282bb(0x2c7)],_0x15c73a=_0x382474>0x0?_0x11340b/_0x382474*0x64:0x0,_0x263966=calculateItemAnalysis(_0x10d133,_0x3470ea),_0x402d0b=calculateReliabilityKR20(_0x10d133,_0x3470ea,_0x263966[_0x9282bb(0x7bf)]);let _0x380b9b='';if(_0x402d0b!==null){let _0x5efdbd='';if(_0x402d0b>=0.9)_0x5efdbd=_0x9282bb(0x7d3);else{if(_0x402d0b>=0.8)_0x5efdbd=_0x9282bb(0xbc8);else{if(_0x402d0b>=0.7)_0x5efdbd='ดี';else{if(_0x402d0b>=0.6)_0x5efdbd='พอใช้';else _0x5efdbd=_0x9282bb(0x81c);}}}_0x380b9b=_0x9282bb(0x99f)+_0x402d0b[_0x9282bb(0x366)](0x2)+_0x9282bb(0x5d5)+_0x5efdbd+_0x9282bb(0x52d);}const _0x4b568f=document[_0x9282bb(0x267)](_0x9282bb(0x4e8));_0x4b568f[_0x9282bb(0xab8)]=_0x9282bb(0x371)+_0x354d7f[_0x9282bb(0x366)](0x0)+_0x9282bb(0x4f1)+_0x543e4d+'/'+_0x1dd063+_0x9282bb(0x774)+_0x11340b[_0x9282bb(0x366)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x15c73a['toFixed'](0x0)+_0x9282bb(0x736)+(_0x12e442[_0x9282bb(0x2c7)]>0x0?Math[_0x9282bb(0x491)](..._0x12e442):_0x9282bb(0x356))+_0x9282bb(0x686)+(_0x12e442['length']>0x0?Math['min'](..._0x12e442):_0x9282bb(0x356))+_0x9282bb(0xa04)+_0x380b9b+_0x9282bb(0x98b);const _0x4cd81d=document['getElementById'](_0x9282bb(0x9e1));_0x4cd81d&&_0x4cd81d[_0x9282bb(0x167)]();const _0x172431=_0x9282bb(0xbcf);_0x4b568f[_0x9282bb(0x780)](_0x9282bb(0x555),_0x172431);const _0x3f3685=currentProjectData[_0x9282bb(0xbf9)]||[];renderSubmissionChart(_0x543e4d,_0x34ca72,_0x3470ea,_0x3f3685),renderScoreDistributionChart(_0x3470ea,_0x382474),renderQuestionAnalytics(_0x10d133,_0x3470ea,_0x3f3685),renderInterestingStats(_0x10d133,_0x3470ea);}async function handleExportLessonPDF(){const _0x3fbbf2=_0x176601,_0xaa331b=document[_0x3fbbf2(0x267)]('lesson-plan-content'),_0x552366=document[_0x3fbbf2(0x267)](_0x3fbbf2(0x8ee))[_0x3fbbf2(0x4c2)],_0x194855=window[_0x3fbbf2(0xbad)]('','_blank'),_0x4ac073=_0x3fbbf2(0x92f)+_0x552366+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xaa331b['innerHTML']+_0x3fbbf2(0x422);_0x194855[_0x3fbbf2(0x279)]['write'](_0x4ac073),_0x194855['document'][_0x3fbbf2(0x979)](),_0x194855['onload']=function(){setTimeout(()=>{const _0x474907=_0x1728;_0x194855[_0x474907(0x412)]();},0x5dc);};}function renderInterestingStats(_0x4d649e,_0x1b0a22){const _0x422e87=_0x176601,_0x149d10=document[_0x422e87(0x267)](_0x422e87(0x403));if(!_0x149d10)return;if(_0x1b0a22[_0x422e87(0x2c7)]===0x0){_0x149d10[_0x422e87(0xab8)]=_0x422e87(0x879);return;}const _0x50e575=_0x4d649e[_0x422e87(0x9ce)][_0x422e87(0x697)]((_0x2312ba,_0x2305fd)=>({'index':_0x2305fd+0x1,'text':_0x2312ba[_0x422e87(0x911)]||_0x2312ba[_0x422e87(0x232)],'correct':0x0}));_0x1b0a22[_0x422e87(0x523)](_0x17d5f2=>{const _0x2fb403=_0x422e87,_0x291114=_0x17d5f2[_0x2fb403(0x8ca)][_0x17d5f2[_0x2fb403(0x8ca)][_0x2fb403(0x2c7)]-0x1];_0x291114&&_0x291114[_0x2fb403(0x9e2)]&&_0x291114[_0x2fb403(0x9e2)][_0x2fb403(0x523)](_0x2ccefc=>{const _0x34d988=_0x2fb403,_0x1811e7=_0x50e575['find'](_0x1f7d98=>_0x1f7d98[_0x34d988(0x648)]===_0x2ccefc[_0x34d988(0x227)]);_0x2ccefc[_0x34d988(0x26e)]&&_0x1811e7&&_0x1811e7[_0x34d988(0x5ca)]++;});});const _0x1d3622=_0x1b0a22['length'],_0x49b85d=Math[_0x422e87(0x491)](..._0x50e575[_0x422e87(0x697)](_0x1facf1=>_0x1facf1[_0x422e87(0x5ca)])),_0x1457dd=Math['min'](..._0x50e575['map'](_0x43454b=>_0x43454b[_0x422e87(0x5ca)])),_0xdf224a=_0x50e575[_0x422e87(0xb79)](_0x3a8be0=>_0x3a8be0[_0x422e87(0x5ca)]===_0x49b85d)['map'](_0x3cc224=>'ข้อ\x20'+_0x3cc224[_0x422e87(0x9ad)]),_0x387e76=_0x50e575[_0x422e87(0xb79)](_0x2d22d1=>_0x2d22d1['correct']===_0x1457dd)[_0x422e87(0x697)](_0x5e07de=>_0x422e87(0x5a0)+_0x5e07de[_0x422e87(0x9ad)]),_0x5d3daf=_0x1b0a22[_0x422e87(0x953)]((_0x35c11e,_0x301667)=>_0x301667[_0x422e87(0x3da)]-_0x35c11e[_0x422e87(0x3da)])[_0x422e87(0xb79)]((_0x1b874b,_0x559614,_0x44ac67)=>_0x1b874b[_0x422e87(0x3da)]===_0x44ac67[0x0]['latestScore']),_0x148274=_0x1b0a22['sort']((_0x13c573,_0x41be93)=>_0x13c573[_0x422e87(0x3da)]-_0x41be93['latestScore'])[_0x422e87(0xb79)]((_0xa02a3a,_0x1f5823,_0x466acd)=>_0xa02a3a['latestScore']===_0x466acd[0x0][_0x422e87(0x3da)]),_0x5732ae=_0x422e87(0xc0c)+_0xdf224a[_0x422e87(0x706)](',\x20')+_0x422e87(0xb5c)+_0x49b85d+_0x422e87(0x995)+_0x1d3622+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x387e76[_0x422e87(0x706)](',\x20')+_0x422e87(0xb5c)+(_0x1d3622-_0x1457dd)+'\x20/\x20'+_0x1d3622+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x5d3daf[_0x422e87(0x697)](_0x3e6597=>_0x3e6597[_0x422e87(0x6c4)])[_0x422e87(0x706)](',\x20')+_0x422e87(0x6ae)+_0x5d3daf[0x0][_0x422e87(0x3da)]+_0x422e87(0x954)+_0x148274['map'](_0x5d8302=>_0x5d8302[_0x422e87(0x6c4)])[_0x422e87(0x706)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x148274[0x0]['latestScore']+_0x422e87(0x99b);_0x149d10[_0x422e87(0xab8)]=_0x5732ae;}function renderSubmissionChart(_0x76f8c4,_0x518272,_0x6ff0b5,_0x322aa3){const _0x507769=_0x176601,_0x17666e=document[_0x507769(0x267)](_0x507769(0x542))['getContext']('2d'),_0x2aa63e=_0x6ff0b5[_0x507769(0x697)](_0x350d9a=>_0x350d9a['studentName']),_0x25438d=_0x322aa3['filter'](_0x1d8c09=>!_0x2aa63e[_0x507769(0x4bd)](_0x1d8c09));chartInstances[_0x507769(0x370)]&&chartInstances['submission'][_0x507769(0x7c2)](),chartInstances[_0x507769(0x370)]=new Chart(_0x17666e,{'type':_0x507769(0x9af),'data':{'labels':['ส่งแล้ว',_0x507769(0x19c)],'datasets':[{'data':[_0x76f8c4,_0x518272],'backgroundColor':[_0x507769(0xbe4),_0x507769(0x5ff)],'borderColor':[_0x507769(0x7fc),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x507769(0x2b7)},'tooltip':{'callbacks':{'label':function(_0x4fbd84){const _0x5a0936=_0x507769;let _0x236e19=_0x4fbd84['label']||'';return _0x236e19&&(_0x236e19+=':\x20'),_0x236e19+=_0x4fbd84[_0x5a0936(0x779)],_0x236e19;},'afterLabel':function(_0x2299f6){const _0x8a8644=_0x507769;let _0x14997a;return _0x2299f6[_0x8a8644(0xb3d)]===0x0?_0x14997a=_0x2aa63e:_0x14997a=_0x25438d,_0x14997a['length']>0x0?_0x14997a[_0x8a8644(0x706)]('\x0a'):_0x8a8644(0x41c);}}}}}});}function renderScoreDistributionChart(_0x217385,_0x58d749){const _0x55d0f9=_0x176601,_0x7c2370=document[_0x55d0f9(0x267)]('score-distribution-chart')[_0x55d0f9(0x528)]('2d'),_0x5678d1={};for(let _0x48d2fd=0x0;_0x48d2fd<=_0x58d749;_0x48d2fd++){_0x5678d1[_0x48d2fd]=0x0;}_0x217385[_0x55d0f9(0x523)](_0xce64d1=>{const _0x46a1a0=_0x55d0f9;_0x5678d1[_0xce64d1[_0x46a1a0(0x3da)]]!==undefined&&_0x5678d1[_0xce64d1[_0x46a1a0(0x3da)]]++;}),chartInstances[_0x55d0f9(0x34f)]&&chartInstances['score'][_0x55d0f9(0x7c2)](),chartInstances[_0x55d0f9(0x34f)]=new Chart(_0x7c2370,{'type':'bar','data':{'labels':Object[_0x55d0f9(0x966)](_0x5678d1),'datasets':[{'label':_0x55d0f9(0xb61),'data':Object[_0x55d0f9(0x8f5)](_0x5678d1),'backgroundColor':_0x55d0f9(0x9a5),'borderColor':_0x55d0f9(0x54e),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x55d0f9(0x1be)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x21abc9){const _0x342a0d=_0x55d0f9,_0x46bb51=_0x21abc9['label'],_0x3f4ae6=_0x217385['filter'](_0x7e8f7=>_0x7e8f7['latestScore']==_0x46bb51)[_0x342a0d(0x697)](_0x515179=>_0x515179[_0x342a0d(0x6c4)]);return _0x3f4ae6['length']>0x0?_0x3f4ae6['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x329224,_0x15da02,_0x497e4e){const _0x380db3=_0x176601,_0x415cc2=document['getElementById']('question-analytics-container');if(_0x497e4e['length']===0x0){_0x415cc2[_0x380db3(0xab8)]=_0x380db3(0xaa8);return;}const _0x3a681f=calculateItemAnalysis(_0x329224,_0x15da02),_0x230bb9=calculateDistractorAnalysis(_0x329224,_0x15da02);let _0x124eae='';_0x3a681f[_0x380db3(0x99c)]&&(_0x124eae=_0x380db3(0x2cb)+_0x3a681f[_0x380db3(0x99c)][_0x380db3(0x29d)]['length']+_0x380db3(0x54c)+_0x3a681f['overallGroups'][_0x380db3(0x29d)][_0x380db3(0x697)](_0x43e757=>'<li>'+_0x43e757+_0x380db3(0x3a9))[_0x380db3(0x706)]('')+_0x380db3(0x498)+_0x3a681f[_0x380db3(0x99c)]['lowerGroupNames'][_0x380db3(0x2c7)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a681f[_0x380db3(0x99c)][_0x380db3(0x1a3)][_0x380db3(0x697)](_0x43b7c4=>_0x380db3(0x7f5)+_0x43b7c4+_0x380db3(0x3a9))['join']('')+_0x380db3(0xa22));let _0x17e090='';const _0x42bc51=_0x15da02['map'](_0x320a37=>_0x320a37[_0x380db3(0x6c4)]),_0x26c0da=_0x46f027=>{const _0x64724b=_0x380db3;if(_0x46f027>=0.8)return _0x64724b(0x546);if(_0x46f027>=0.6)return _0x64724b(0x384);if(_0x46f027>=0.4)return _0x64724b(0x997);if(_0x46f027>=0.2)return _0x64724b(0x442);return _0x64724b(0xaff);},_0x440cd9=_0x26a0e8=>{const _0x3e94ad=_0x380db3;if(_0x26a0e8<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x26a0e8>=0.4)return _0x3e94ad(0x8fe);if(_0x26a0e8>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x26a0e8>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x3e94ad(0x21f);},_0x5650d2=_0x38e6c6=>{const _0x143b7f=_0x380db3,_0x3f7f68=_0x38e6c6['toFixed'](0x0);if(parseFloat(_0x3f7f68)===0x64)return _0x143b7f(0x791)+_0x3f7f68+_0x143b7f(0x343);if(_0x38e6c6>=0x32)return _0x143b7f(0xaf9)+_0x3f7f68+_0x143b7f(0x343);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3f7f68+_0x143b7f(0x343);};_0x329224[_0x380db3(0x9ce)][_0x380db3(0x523)]((_0x35a777,_0x4c06df)=>{const _0x5f4f71=_0x380db3,_0x546c41=_0x3a681f['perQuestionStats'][_0x4c06df],_0x117b19=_0x230bb9[_0x4c06df],_0x3c4f97=_0x35a777['stem']||_0x35a777[_0x5f4f71(0x911)]||_0x35a777[_0x5f4f71(0x5e7)];let _0x54b2a3=0x0;const _0x2c68e7=[],_0x5d7c2d=[];_0x15da02[_0x5f4f71(0x523)](_0x188d85=>{const _0x4d4496=_0x5f4f71,_0x287e37=_0x188d85[_0x4d4496(0x8ca)][_0x188d85[_0x4d4496(0x8ca)][_0x4d4496(0x2c7)]-0x1];if(_0x287e37&&_0x287e37[_0x4d4496(0x9e2)]){const _0x11dfba=_0x287e37[_0x4d4496(0x9e2)]['find'](_0x1fcd66=>_0x1fcd66['originalQuestionText']===_0x3c4f97)??_0x287e37[_0x4d4496(0x9e2)][_0x4c06df]??null;_0x11dfba&&(_0x11dfba[_0x4d4496(0x26e)]?(_0x54b2a3++,_0x2c68e7['push'](_0x188d85[_0x4d4496(0x6c4)])):_0x5d7c2d[_0x4d4496(0x92e)](_0x188d85[_0x4d4496(0x6c4)]));}});const _0x363d1c=_0x15da02['length']>0x0?_0x54b2a3/_0x15da02['length']*0x64:0x0,_0x57a2c3=_0x497e4e[_0x5f4f71(0xb79)](_0x38af8f=>!_0x42bc51[_0x5f4f71(0x4bd)](_0x38af8f)),_0x4fb9d0=_0x546c41?_0x5f4f71(0x173)+_0x546c41['p'][_0x5f4f71(0x366)](0x2)+_0x5f4f71(0xba5)+_0x26c0da(_0x546c41['p'])+_0x5f4f71(0x52b)+_0x546c41['r'][_0x5f4f71(0x366)](0x2)+_0x5f4f71(0xba5)+_0x440cd9(_0x546c41['r'])+_0x5f4f71(0xa98)+_0x5650d2(_0x363d1c)+_0x5f4f71(0x9f8):'';let _0x43de5b='';_0x117b19&&(_0x43de5b=_0x5f4f71(0x971)+Object['keys'](_0x117b19)['map'](_0x153a16=>{const _0x4d30d5=_0x5f4f71,_0x94e276=_0x117b19[_0x153a16],_0x589304=parseInt(_0x153a16)===_0x35a777[_0x4d30d5(0x1f1)],_0x2e7459=!_0x589304&&_0x94e276[_0x4d30d5(0x781)]>_0x94e276['upper_group_count'];return _0x4d30d5(0x6ce)+(_0x589304?_0x4d30d5(0x251):'')+_0x4d30d5(0x985)+(_0x589304?'✔\x20':'')+_0x94e276[_0x4d30d5(0x648)]+_0x4d30d5(0x83f)+_0x94e276['upper_group_count']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x94e276[_0x4d30d5(0x781)]+'\x20'+(_0x2e7459?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x94e276[_0x4d30d5(0xb11)]+_0x4d30d5(0x2f8);})[_0x5f4f71(0x706)]('')+_0x5f4f71(0x16f));let _0x534fc9='';_0x546c41&&_0x546c41[_0x5f4f71(0x6b7)]&&(_0x534fc9=_0x5f4f71(0xae8)+_0x546c41[_0x5f4f71(0x6b7)][_0x5f4f71(0x2c7)]+_0x5f4f71(0x53d)+_0x546c41[_0x5f4f71(0x6b7)][_0x5f4f71(0x697)](_0x46cd0c=>'<li>'+(_0x46cd0c['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x5f4f71(0x661))+'\x20'+_0x46cd0c[_0x5f4f71(0x6be)]+_0x5f4f71(0x3a9))[_0x5f4f71(0x706)]('')+_0x5f4f71(0x4d5)+_0x546c41[_0x5f4f71(0x418)][_0x5f4f71(0x2c7)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x546c41[_0x5f4f71(0x418)][_0x5f4f71(0x697)](_0x2de664=>_0x5f4f71(0x7f5)+(_0x2de664[_0x5f4f71(0x26e)]?_0x5f4f71(0x4c6):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x2de664[_0x5f4f71(0x6be)]+_0x5f4f71(0x3a9))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x17e090+=_0x5f4f71(0x4a3)+(_0x4c06df+0x1)+':\x20'+_0x3c4f97+_0x5f4f71(0x2e0)+_0x4fb9d0+_0x5f4f71(0x95c)+_0x3c4f97+_0x5f4f71(0xaeb)+_0x54b2a3+_0x5f4f71(0x2f2)+_0x15da02[_0x5f4f71(0x2c7)]+_0x5f4f71(0x5b6)+_0x363d1c[_0x5f4f71(0x366)](0x0)+_0x5f4f71(0x380)+_0x2c68e7[_0x5f4f71(0x2c7)]+_0x5f4f71(0x8a7)+(_0x2c68e7[_0x5f4f71(0x2c7)]>0x0?_0x2c68e7[_0x5f4f71(0x706)](',\x20'):_0x5f4f71(0x41c))+_0x5f4f71(0xaca)+_0x5d7c2d[_0x5f4f71(0x2c7)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5d7c2d[_0x5f4f71(0x2c7)]>0x0?_0x5d7c2d['join'](',\x20'):'ไม่มี')+_0x5f4f71(0x980)+_0x57a2c3[_0x5f4f71(0x2c7)]+_0x5f4f71(0x8a7)+(_0x57a2c3[_0x5f4f71(0x2c7)]>0x0?_0x57a2c3[_0x5f4f71(0x706)](',\x20'):_0x5f4f71(0x41c))+_0x5f4f71(0x50f)+_0x43de5b+_0x5f4f71(0x350)+_0x534fc9+_0x5f4f71(0x6c8);}),_0x415cc2[_0x380db3(0xab8)]=_0x124eae+_0x17e090;try{window['MathJax']&&MathJax[_0x380db3(0x5bf)]&&MathJax['typesetPromise']([_0x415cc2]);}catch(_0x34c2a9){console[_0x380db3(0xa65)](_0x380db3(0x2f0),_0x34c2a9);}}function calculateDistractorAnalysis(_0xaa8c5c,_0x46c3cb){const _0x2a863a=_0x176601,_0xbdfa5b={};if(_0x46c3cb[_0x2a863a(0x2c7)]<0x2)return _0xbdfa5b;const _0x567766=[..._0x46c3cb][_0x2a863a(0x953)]((_0x47b323,_0x3b831a)=>{const _0x2310aa=_0x2a863a,_0x40716d=_0x3b831a['latestScore']-_0x47b323['latestScore'];if(_0x40716d!==0x0)return _0x40716d;const _0x4ac75d=_0x47b323[_0x2310aa(0x8ca)]?.[_0x2310aa(0x2c7)]||0x1,_0x416771=_0x3b831a[_0x2310aa(0x8ca)]?.[_0x2310aa(0x2c7)]||0x1,_0xd4f197=_0x4ac75d-_0x416771;if(_0xd4f197!==0x0)return _0xd4f197;const _0x351f5f=new Date(_0x47b323['latestSubmittedAt']),_0x56143f=new Date(_0x3b831a['latestSubmittedAt']),_0x510f2d=_0x351f5f-_0x56143f;if(_0x510f2d!==0x0)return _0x510f2d;return _0x47b323[_0x2310aa(0x6c4)]['localeCompare'](_0x3b831a[_0x2310aa(0x6c4)],'th');}),_0x1c5600=_0x567766['length'],_0x35ba26=Math[_0x2a863a(0x491)](0x1,Math[_0x2a863a(0xbdd)](_0x1c5600*0.33)),_0x2fd9e2=_0x567766[_0x2a863a(0x1d8)](0x0,_0x35ba26),_0x5c47cd=_0x567766[_0x2a863a(0x1d8)](-_0x35ba26);return _0xaa8c5c[_0x2a863a(0x9ce)][_0x2a863a(0x523)]((_0x472372,_0x53a8db)=>{const _0x472f1d=_0x2a863a;if(_0x472372[_0x472f1d(0x9c3)]!==_0x472f1d(0x3e7)||!_0x472372['options'])return;const _0x377d5e=_0x472372[_0x472f1d(0x911)],_0x6e01d7={};_0x472372[_0x472f1d(0x61a)][_0x472f1d(0x523)]((_0x3f6ad0,_0x5e81b6)=>{_0x6e01d7[_0x5e81b6]={'text':_0x3f6ad0,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x567766[_0x472f1d(0x523)](_0x4a314c=>{const _0x195021=_0x472f1d,_0x4c784f=_0x4a314c[_0x195021(0x8ca)][_0x4a314c[_0x195021(0x8ca)][_0x195021(0x2c7)]-0x1],_0x5dfecb=_0x4c784f[_0x195021(0x9e2)][_0x195021(0x70b)](_0x438aa5=>_0x438aa5[_0x195021(0x227)]===_0x377d5e);if(_0x5dfecb&&_0x5dfecb['answer']!==null){const _0x21baf=_0x472372[_0x195021(0x61a)][_0x195021(0x81f)](_0x15c45b=>_0x15c45b===_0x5dfecb[_0x195021(0xb65)]);_0x21baf!==-0x1&&_0x6e01d7[_0x21baf]&&(_0x6e01d7[_0x21baf][_0x195021(0xb11)]++,_0x2fd9e2['includes'](_0x4a314c)&&_0x6e01d7[_0x21baf][_0x195021(0x1af)]++,_0x5c47cd[_0x195021(0x4bd)](_0x4a314c)&&_0x6e01d7[_0x21baf]['lower_group_count']++);}}),_0xbdfa5b[_0x53a8db]=_0x6e01d7;}),_0xbdfa5b;}function calculateReliabilityKR20(_0x1d79df,_0x130ea7,_0x556e8c){const _0x25f80d=_0x176601,_0x1b4fd7=_0x1d79df[_0x25f80d(0x9ce)][_0x25f80d(0x2c7)];if(_0x1b4fd7<0x2||_0x130ea7['length']<0x2)return null;const _0x3f0dcd=_0x130ea7[_0x25f80d(0x697)](_0x1f88b5=>_0x1f88b5[_0x25f80d(0x3da)]),_0x1b193f=_0x3f0dcd['reduce']((_0x419e4a,_0x4607da)=>_0x419e4a+_0x4607da,0x0)/_0x3f0dcd['length'],_0x23336f=_0x3f0dcd[_0x25f80d(0x697)](_0x1f4a5e=>Math[_0x25f80d(0x5d7)](_0x1f4a5e-_0x1b193f,0x2))[_0x25f80d(0x46b)]((_0x8cc8cf,_0x26b94a)=>_0x8cc8cf+_0x26b94a,0x0)/_0x3f0dcd[_0x25f80d(0x2c7)];if(_0x23336f===0x0)return null;let _0x133dfd=0x0;for(let _0x45011f=0x0;_0x45011f<_0x1b4fd7;_0x45011f++){const _0x3c6432=_0x556e8c[_0x45011f]?.['p'];if(_0x3c6432===undefined)continue;const _0x273363=0x1-_0x3c6432;_0x133dfd+=_0x3c6432*_0x273363;}if(_0x133dfd===0x0)return null;const _0x286226=_0x1b4fd7/(_0x1b4fd7-0x1)*(0x1-_0x133dfd/_0x23336f);if(_0x286226>0x1)return null;return _0x286226;}async function handleAnalyzeClass(){const _0x42b444=_0x176601;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x42b444(0x484));return;}const _0x4e3dd0=collection(db,'artifacts/'+appId+_0x42b444(0xa34)+currentQuizData['id']+'/submissions'),_0x5463c1=await getDocs(_0x4e3dd0),_0x49c441=_0x5463c1[_0x42b444(0xbff)][_0x42b444(0x697)](_0x2db254=>_0x2db254[_0x42b444(0xa77)]());if(_0x49c441[_0x42b444(0x2c7)]<0x2){showMessage(_0x42b444(0x8ba));return;}const _0x354581=document[_0x42b444(0x267)](_0x42b444(0x506));_0x354581[_0x42b444(0xab8)]=_0x42b444(0x8e0),document[_0x42b444(0x267)](_0x42b444(0x79a))['disabled']=!![];const _0x17bdab=_0x49c441['map']((_0x2a7cf0,_0xc86e98)=>{const _0x1b4e8e=_0x42b444,_0x206a81=_0x2a7cf0[_0x1b4e8e(0x8ca)][_0x2a7cf0[_0x1b4e8e(0x8ca)]['length']-0x1];if(!_0x206a81)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0xc86e98+0x1)+'\x20('+_0x2a7cf0[_0x1b4e8e(0x6c4)]+_0x1b4e8e(0x277)+_0x206a81[_0x1b4e8e(0x34f)]+'/'+_0x2a7cf0[_0x1b4e8e(0x342)]+_0x1b4e8e(0x7dc)+JSON[_0x1b4e8e(0xbe7)](_0x206a81[_0x1b4e8e(0x9e2)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](_0x42b444(0x48c)),_0x4c8b9d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x42b444(0x62b)]+_0x42b444(0x9d0)+JSON[_0x42b444(0xbe7)](currentQuizData[_0x42b444(0x9ce)])+_0x42b444(0x613)+_0x17bdab+_0x42b444(0x1c4),_0x427207={'type':'OBJECT','properties':{'classStrengths':{'type':'ARRAY','items':{'type':'STRING'}},'classWeaknesses':{'type':_0x42b444(0x876),'items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x42b444(0x5fb)}}},'required':[_0x42b444(0x772),_0x42b444(0x71e),_0x42b444(0x87d)]};try{const _0x25993a=await callAnalysisApi(_0x4c8b9d,_0x427207);displayClassAnalysis(_0x25993a);}catch(_0x3fac38){console[_0x42b444(0xa65)](_0x42b444(0x833),_0x3fac38),_0x354581[_0x42b444(0xab8)]=_0x42b444(0x970)+_0x3fac38[_0x42b444(0x193)]+_0x42b444(0x829);}finally{document['getElementById'](_0x42b444(0x79a))[_0x42b444(0x76a)]=![];}}function displayClassAnalysis(_0x4b3353){const _0x4c8a3a=_0x176601,_0x1f67bd=document[_0x4c8a3a(0x267)]('strength-weakness-analysis-container');if(!_0x4b3353){_0x1f67bd[_0x4c8a3a(0xab8)]=_0x4c8a3a(0x6af);return;}_0x1f67bd[_0x4c8a3a(0xab8)]=_0x4c8a3a(0x480)+_0x4b3353[_0x4c8a3a(0x772)]['map'](_0x30df4e=>_0x4c8a3a(0x7f5)+_0x30df4e+_0x4c8a3a(0x3a9))[_0x4c8a3a(0x706)]('')+_0x4c8a3a(0xbc4)+_0x4b3353['classWeaknesses'][_0x4c8a3a(0x697)](_0x5c6750=>_0x4c8a3a(0x7f5)+_0x5c6750+_0x4c8a3a(0x3a9))[_0x4c8a3a(0x706)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b3353[_0x4c8a3a(0x87d)][_0x4c8a3a(0x697)](_0x341024=>'<li>'+_0x341024+_0x4c8a3a(0x3a9))[_0x4c8a3a(0x706)]('')+_0x4c8a3a(0x664);}function formatAndPrintWorksheet(_0x17f884,_0x1ece2f){const _0x523492=_0x176601,_0x265a87=_0x523492(0xbab)+_0x17f884['topic']+_0x523492(0x4c1)+_0x17f884[_0x523492(0x62b)]+_0x523492(0x639)+_0x17f884[_0x523492(0x9ce)]['map']((_0x2834a2,_0xc27b79)=>_0x523492(0x6b2)+(_0xc27b79+0x1)+'.\x20'+_0x2834a2[_0x523492(0x911)]+_0x523492(0x2b4)+(_0x2834a2[_0x523492(0x9ed)]?_0x523492(0x962)+_0x2834a2[_0x523492(0x9ed)]+_0x523492(0xba1):'')+_0x523492(0x909))[_0x523492(0x706)]('')+_0x523492(0x652);_0x1ece2f[_0x523492(0x279)][_0x523492(0x3bb)](_0x265a87),_0x1ece2f[_0x523492(0x279)][_0x523492(0x979)](),_0x1ece2f[_0x523492(0x7e0)]=function(){setTimeout(()=>{const _0x67346f=_0x1728;_0x1ece2f[_0x67346f(0x412)]();},0x3e8);};}async function generateWorksheet(){const _0x2c1439=_0x176601,_0x1bdb29=document['getElementById'](_0x2c1439(0x3f7))[_0x2c1439(0x832)][_0x2c1439(0xa5f)]();if(!_0x1bdb29){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x5beaee=document['getElementById'](_0x2c1439(0x3f9))[_0x2c1439(0x6e2)],_0x5dec90=_0x5beaee?'':_0x2c1439(0x60b),_0x233887=window[_0x2c1439(0xbad)]('',_0x2c1439(0x505));_0x233887[_0x2c1439(0x279)][_0x2c1439(0x3bb)](_0x2c1439(0x28b));const _0x75e8aa=parseInt(document['getElementById'](_0x2c1439(0xb73))[_0x2c1439(0x832)]),_0x51d709=document[_0x2c1439(0x267)](_0x2c1439(0x5f1))['checked'],_0x56cc45=_0x51d709?_0x2c1439(0x815):'',_0x1be703=_0x2c1439(0x3af)+_0x5dec90+_0x2c1439(0x8b7)+_0x75e8aa+_0x2c1439(0x376)+_0x1bdb29+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56cc45+_0x2c1439(0xb36)+simpleMathPrompt+_0x2c1439(0x2ca),_0x22f2d7={'type':_0x2c1439(0x9f7),'properties':{'topic':{'type':_0x2c1439(0x5fb)},'questions':{'type':_0x2c1439(0x876),'items':{'type':_0x2c1439(0x9f7),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2c1439(0x911)]}}},'required':[_0x2c1439(0x62b),_0x2c1439(0x9ce)]};document[_0x2c1439(0x267)](_0x2c1439(0x8d2))[_0x2c1439(0x4c2)]='',document[_0x2c1439(0x267)](_0x2c1439(0xa7d))[_0x2c1439(0x25c)][_0x2c1439(0x167)](_0x2c1439(0xbc7)),document[_0x2c1439(0x267)]('quiz-generation-area')[_0x2c1439(0x25c)]['remove']('hidden'),generateWorksheetBtn['disabled']=!![];try{const _0x595484=await callAnalysisApi(_0x1be703,_0x22f2d7);formatAndPrintWorksheet(_0x595484,_0x233887);}catch(_0x120f76){console[_0x2c1439(0xa65)]('Error\x20generating\x20worksheet:',_0x120f76);if(_0x233887)_0x233887[_0x2c1439(0x979)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x2c1439(0x267)]('loader')[_0x2c1439(0x25c)][_0x2c1439(0x8a5)]('hidden'),document[_0x2c1439(0x267)](_0x2c1439(0x7d1))['classList'][_0x2c1439(0x8a5)](_0x2c1439(0xbc7)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x334646,_0x2f7401){const _0x5a5344=_0x176601,_0x5ccaab={'contents':[{'role':_0x5a5344(0x82e),'parts':[{'text':_0x334646}]}],'generationConfig':{'responseMimeType':_0x5a5344(0x95a),'responseSchema':_0x2f7401}},_0x2f16de=_0x5a5344(0x4ef),_0x249d9a=_0x5a5344(0xb2b)+_0x2f16de,_0x2fd9b7=await fetch(_0x249d9a,{'method':_0x5a5344(0x176),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x5ccaab)});if(!_0x2fd9b7['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x2fd9b7[_0x5a5344(0x471)]);const _0x517e9a=await _0x2fd9b7[_0x5a5344(0xb75)]();if(_0x517e9a[_0x5a5344(0x197)]?.[0x0]?.[_0x5a5344(0x50c)]?.[_0x5a5344(0x52c)]?.[0x0])return JSON['parse'](_0x517e9a[_0x5a5344(0x197)][0x0][_0x5a5344(0x50c)][_0x5a5344(0x52c)][0x0][_0x5a5344(0x648)]);else{let _0xb8e2b='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x517e9a[_0x5a5344(0x9f3)]?.[_0x5a5344(0x69c)])_0xb8e2b=_0x5a5344(0x668)+_0x517e9a['promptFeedback'][_0x5a5344(0x69c)]+'.';else _0x517e9a['candidates']?.[0x0]?.[_0x5a5344(0x24f)]&&_0x517e9a[_0x5a5344(0x197)][0x0][_0x5a5344(0x24f)]!==_0x5a5344(0x1f3)&&(_0xb8e2b=_0x5a5344(0xa9d)+_0x517e9a[_0x5a5344(0x197)][0x0][_0x5a5344(0x24f)]+'.');console['error'](_0xb8e2b,JSON[_0x5a5344(0xbe7)](_0x517e9a));throw new Error(_0xb8e2b);}}async function handleStartSyncMode(_0x1fa8b7,_0x58db3c=![]){const _0x3c11da=_0x176601,_0x42bf20=allQuizzes['find'](_0x1967c3=>_0x1967c3['id']===_0x1fa8b7)||allQuizzesGlobal[_0x3c11da(0x70b)](_0x456e4d=>_0x456e4d['id']===_0x1fa8b7);if(!_0x42bf20){showMessage(_0x3c11da(0x521));return;}currentQuizData=getShuffledQuiz(_0x42bf20);const _0x9fb9c2=Math[_0x3c11da(0xbdd)](0x3e8+Math[_0x3c11da(0x658)]()*0x2328)[_0x3c11da(0x5bc)]();try{const _0x23a69a=await addDoc(collection(db,'artifacts/'+appId+_0x3c11da(0x5bd)),{'quizId':_0x42bf20['id'],'pin':_0x9fb9c2,'status':_0x3c11da(0x253),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x58db3c,'players':{}});currentLiveGameId=_0x23a69a['id'],showView('live-game'),renderSyncLobbyView(_0x9fb9c2,_0x42bf20['topic']),listenForSyncGameUpdates();}catch(_0x5eae60){console[_0x3c11da(0xa65)](_0x3c11da(0xa27),_0x5eae60),showMessage(_0x3c11da(0x97a));}}function calculateFinalPodiumScores(_0x3e7b89){const _0x2fd59d=_0x176601;if(!_0x3e7b89||!_0x3e7b89[_0x2fd59d(0x860)]||!_0x3e7b89[_0x2fd59d(0x3e4)])return _0x3e7b89[_0x2fd59d(0x3e4)]||{};const _0x412e12=_0x3e7b89[_0x2fd59d(0x860)][_0x2fd59d(0x9ce)][_0x2fd59d(0x2c7)],_0x4f9f4e=JSON[_0x2fd59d(0xbe0)](JSON[_0x2fd59d(0xbe7)](_0x3e7b89[_0x2fd59d(0x3e4)]));return Object[_0x2fd59d(0x8f5)](_0x4f9f4e)[_0x2fd59d(0x523)](_0x4b82c4=>{const _0x3649bc=_0x2fd59d,_0x5bb71d=_0x4b82c4['score'];let _0x118022=0x0;_0x3e7b89[_0x3649bc(0x301)]&&_0x4b82c4[_0x3649bc(0x9e2)]&&_0x4b82c4[_0x3649bc(0x9e2)][_0x3649bc(0x523)](_0x4cc900=>{const _0x49cc69=_0x3649bc;if(_0x4cc900[_0x49cc69(0x26e)]&&_0x4cc900[_0x49cc69(0x2d7)])_0x118022+=0x1;else!_0x4cc900['isCorrect']&&_0x4cc900[_0x49cc69(0x2d7)]&&(_0x118022-=0x1);}),_0x4b82c4[_0x3649bc(0x34f)]=_0x5bb71d+_0x118022,_0x412e12>0x0&&_0x5bb71d===_0x412e12&&(_0x4b82c4['score']+=0x1,_0x4b82c4[_0x3649bc(0x1d5)]=!![]);}),_0x4f9f4e;}function listenForSyncGameUpdates(){const _0x5cfd40=_0x176601;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3de382=doc(db,_0x5cfd40(0x94a)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3de382,_0x167c97=>{const _0x5d1080=_0x5cfd40;if(!_0x167c97['exists']()){sessionStorage[_0x5d1080(0x864)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode===_0x5d1080(0x310)?_0x5d1080(0xbfb):_0x5d1080(0x1de));return;}const _0x5dcb86=_0x167c97['data']();currentMode===_0x5d1080(0x310)?updateAdminSyncView(_0x5dcb86):updateStudentSyncView(_0x5dcb86);});}function renderSyncLobbyView(_0x440f50,_0x20c855){const _0x57d022=_0x176601;liveGameView[_0x57d022(0xab8)]=_0x57d022(0x66c)+_0x20c855+_0x57d022(0x55f)+_0x440f50+_0x57d022(0x6cc);const _0x45ba56=document['getElementById'](_0x57d022(0x894)),_0x38edf5=document['getElementById']('confidence-scoring-description');_0x45ba56['addEventListener'](_0x57d022(0x73b),()=>{const _0xf99a48=_0x57d022;_0x38edf5[_0xf99a48(0x58e)][_0xf99a48(0x5a6)]=_0x45ba56['checked']?_0xf99a48(0x8ac):_0xf99a48(0x201);}),document[_0x57d022(0x267)](_0x57d022(0x606))[_0x57d022(0xbb9)](_0x57d022(0x292),async()=>{const _0xf04ff9=_0x57d022,_0x17957f=doc(db,_0xf04ff9(0x94a)+appId+_0xf04ff9(0x5bd),currentLiveGameId),_0x342f26=document[_0xf04ff9(0x267)](_0xf04ff9(0x894))[_0xf04ff9(0x6e2)];await updateDoc(_0x17957f,{'status':_0xf04ff9(0x6a1),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x342f26});});}function updateAdminSyncView(_0x1f1f06){const _0x3025bb=_0x176601;switch(_0x1f1f06['status']){case _0x3025bb(0x253):renderSyncLobbyView(_0x1f1f06[_0x3025bb(0x6f8)],_0x1f1f06[_0x3025bb(0x860)]['topic']);const _0x3fc464=Object[_0x3025bb(0x899)](_0x1f1f06['players']||{})[_0x3025bb(0xb79)](([_0x591eff,_0x590013])=>_0x590013['status']!==_0x3025bb(0x3e8));document[_0x3025bb(0x267)](_0x3025bb(0x70a))['textContent']=_0x3fc464['length'],document[_0x3025bb(0x267)](_0x3025bb(0x516))['innerHTML']=_0x3fc464[_0x3025bb(0x697)](([_0x5d3fe7,_0x40eaab])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5d3fe7+_0x3025bb(0x3c1)+_0x5d3fe7+_0x3025bb(0x1c2))[_0x3025bb(0x706)]('')||_0x3025bb(0x804),document[_0x3025bb(0x267)](_0x3025bb(0x606))[_0x3025bb(0x76a)]=_0x3fc464[_0x3025bb(0x2c7)]===0x0;break;case _0x3025bb(0x6a1):const _0x4d1c15=Object[_0x3025bb(0x8f5)](_0x1f1f06['players']||{})[_0x3025bb(0xb79)](_0x19e93a=>_0x19e93a[_0x3025bb(0x471)]!==_0x3025bb(0x3e8)),_0x428d46=_0x4d1c15[_0x3025bb(0xb79)](_0x2ef453=>_0x2ef453[_0x3025bb(0x7e3)])['length'],_0x2b8b22=_0x428d46===_0x4d1c15['length']&&_0x4d1c15['length']>0x0;if(_0x2b8b22&&_0x1f1f06[_0x3025bb(0x471)]===_0x3025bb(0x6a1)){const _0x421eea=doc(db,_0x3025bb(0x94a)+appId+_0x3025bb(0x5bd),currentLiveGameId);updateDoc(_0x421eea,{'status':_0x3025bb(0xb47)});}else{if(document[_0x3025bb(0x267)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x1f1f06);else{const _0x5ef2b7=document[_0x3025bb(0x267)](_0x3025bb(0x70f));_0x5ef2b7&&(_0x5ef2b7[_0x3025bb(0x4c2)]=_0x428d46+'/'+_0x4d1c15['length']);const _0x305db7=document[_0x3025bb(0x267)](_0x3025bb(0x4db));_0x305db7&&(_0x305db7[_0x3025bb(0xab8)]=_0x4d1c15[_0x3025bb(0x697)](_0x5264c8=>{const _0x2840c7=_0x3025bb,_0x267f28=_0x5264c8['answered']?_0x2840c7(0xc00):_0x2840c7(0x33a),_0x330730=_0x5264c8[_0x2840c7(0x7e3)]?_0x2840c7(0x391):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x2840c7(0x194)+_0x267f28+_0x2840c7(0x545)+_0x330730+_0x2840c7(0xaa1)+_0x5264c8[_0x2840c7(0x6be)]+_0x2840c7(0x41e)+_0x5264c8[_0x2840c7(0x6be)]+_0x2840c7(0x1d1);})[_0x3025bb(0x706)](''));}}break;case _0x3025bb(0xb47):const _0x1b9f61=_0x1f1f06[_0x3025bb(0x8d0)],_0x5e9293=_0x1f1f06[_0x3025bb(0x860)][_0x3025bb(0x9ce)][_0x1b9f61];renderSyncSummaryView(_0x1f1f06,_0x5e9293,!![]);break;case _0x3025bb(0x475):renderAdminSyncDashboard(_0x1f1f06,!![]);break;case _0x3025bb(0x261):_0x1f1f06['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x1f1f06);sessionStorage['removeItem'](_0x3025bb(0x8a1));const _0x2782de=calculateFinalPodiumScores(_0x1f1f06);showPodiumView(_0x2782de,_0x3025bb(0x7fb));break;}}function renderAdminSyncQuestionView(_0x23e3b3){const _0x46b4d8=_0x176601,_0x4e5226=_0x23e3b3[_0x46b4d8(0x8d0)],_0x26504b=_0x23e3b3[_0x46b4d8(0x860)][_0x46b4d8(0x9ce)][_0x4e5226],_0x4307b2=_0x23e3b3[_0x46b4d8(0x860)][_0x46b4d8(0x9ce)][_0x46b4d8(0x2c7)],_0x4dac12=Object[_0x46b4d8(0x8f5)](_0x23e3b3[_0x46b4d8(0x3e4)]||{})['filter'](_0x5adbe2=>_0x5adbe2[_0x46b4d8(0x471)]!==_0x46b4d8(0x3e8)),_0x2267f3=_0x4dac12[_0x46b4d8(0xb79)](_0x17805f=>_0x17805f[_0x46b4d8(0x7e3)])[_0x46b4d8(0x2c7)],_0x4edde8=_0x2267f3===_0x4dac12[_0x46b4d8(0x2c7)]&&_0x4dac12[_0x46b4d8(0x2c7)]>0x0,_0x43924e=(_0x26504b[_0x46b4d8(0x61a)]||[])[_0x46b4d8(0x697)](_0x1388df=>_0x46b4d8(0xafc)+_0x1388df+_0x46b4d8(0xba1))['join']('');liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x4e5226+0x1)+_0x46b4d8(0x995)+_0x4307b2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x2267f3+'/'+_0x4dac12[_0x46b4d8(0x2c7)]+_0x46b4d8(0x7d8)+_0x26504b[_0x46b4d8(0x911)]+_0x46b4d8(0xa8e)+_0x43924e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x4edde8?_0x46b4d8(0x76a):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x46b4d8(0xb72)])MathJax['typesetPromise']();document[_0x46b4d8(0x267)](_0x46b4d8(0xa3f))[_0x46b4d8(0xbb9)](_0x46b4d8(0x292),async()=>{const _0x424d42=_0x46b4d8,_0x37a34c=doc(db,'artifacts/'+appId+_0x424d42(0x5bd),currentLiveGameId);await updateDoc(_0x37a34c,{'status':_0x424d42(0x475)});}),document['getElementById'](_0x46b4d8(0x7aa))[_0x46b4d8(0x476)]=()=>{openScratchpad(_0x26504b,_0x26504b['options']||[]);},document[_0x46b4d8(0x267)](_0x46b4d8(0xbaf))[_0x46b4d8(0xbb9)](_0x46b4d8(0x292),()=>{const _0x1db0ca=_0x46b4d8;document[_0x1db0ca(0x267)](_0x1db0ca(0xbd8))[_0x1db0ca(0x25c)][_0x1db0ca(0x7b6)]('hidden');});}function renderSyncLeaderboardView(_0x11b7dd,_0x2d1097){const _0xe0a435=_0x176601,_0x2eed0b=Object['values'](_0x11b7dd[_0xe0a435(0x3e4)]||{});_0x2eed0b[_0xe0a435(0x953)]((_0x3a05a9,_0x5e5953)=>_0x5e5953['score']-_0x3a05a9['score']);const _0xb22ca4=_0x2eed0b['slice'](0x0,0x5);let _0x428d32='';if(_0x2d1097){const _0x3a74fc=_0x11b7dd['currentQuestionIndex']>=_0x11b7dd['shuffledQuiz'][_0xe0a435(0x9ce)]['length']-0x1;_0x428d32='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x3a74fc?_0xe0a435(0x5ef):_0xe0a435(0xa96))+_0xe0a435(0x57a);}else _0x428d32=_0xe0a435(0x48f);liveGameView[_0xe0a435(0xab8)]=_0xe0a435(0x90c)+_0xb22ca4['map']((_0x5f5694,_0x25f476)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x25f476+0x1)+'.\x20'+_0x5f5694[_0xe0a435(0x6be)]+_0xe0a435(0xa42)+_0x5f5694['score']+_0xe0a435(0x445))[_0xe0a435(0x706)]('')+_0xe0a435(0x589)+_0x428d32+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x2d1097&&document[_0xe0a435(0x267)](_0xe0a435(0xbd6))['addEventListener'](_0xe0a435(0x292),async()=>{const _0x3dbf83=_0xe0a435,_0x2c4c12=doc(db,_0x3dbf83(0x94a)+appId+_0x3dbf83(0x5bd),currentLiveGameId),_0x56da54=_0x11b7dd['currentQuestionIndex']+0x1;if(_0x56da54<_0x11b7dd[_0x3dbf83(0x860)]['questions'][_0x3dbf83(0x2c7)]){const _0x479f67={};Object[_0x3dbf83(0x966)](_0x11b7dd[_0x3dbf83(0x3e4)])[_0x3dbf83(0x523)](_0x33f218=>{const _0x5c4b28=_0x3dbf83;_0x479f67[_0x5c4b28(0x8ef)+_0x33f218+_0x5c4b28(0x608)]=![];}),await updateDoc(_0x2c4c12,{..._0x479f67,'status':_0x3dbf83(0x6a1),'currentQuestionIndex':_0x56da54,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2c4c12,{'status':_0x3dbf83(0x261)});});}async function handleJoinSyncGame(){const _0x4b55c6=_0x176601,_0x38b54d=prompt(_0x4b55c6(0x1ad));if(!_0x38b54d||_0x38b54d[_0x4b55c6(0xa5f)]()[_0x4b55c6(0x2c7)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x2d639d=collection(db,_0x4b55c6(0x94a)+appId+_0x4b55c6(0x5bd)),_0x3e4291=query(_0x2d639d,where('pin','==',_0x38b54d[_0x4b55c6(0xa5f)]()),where(_0x4b55c6(0x471),'==','lobby')),_0x49bca6=await getDocs(_0x3e4291);if(_0x49bca6[_0x4b55c6(0x6e6)]){showMessage(_0x4b55c6(0xaa2));return;}const _0x698a61=_0x49bca6[_0x4b55c6(0xbff)][0x0];currentLiveGameId=_0x698a61['id'];const _0x52d35e=_0x698a61[_0x4b55c6(0xa77)](),_0xdc9408=doc(db,_0x4b55c6(0x94a)+appId+'/public/data/quizzes',_0x52d35e[_0x4b55c6(0x49a)]),_0x5e445c=await getDoc(_0xdc9408);if(!_0x5e445c[_0x4b55c6(0x4b5)]())throw new Error(_0x4b55c6(0x2e8));const _0x2f6199=_0x5e445c[_0x4b55c6(0xa77)](),_0x2851df=doc(db,'artifacts/'+appId+'/public/data/projects',_0x2f6199['projectId']),_0x2af074=await getDoc(_0x2851df);if(!_0x2af074[_0x4b55c6(0x4b5)]())throw new Error(_0x4b55c6(0xb40));currentQuizData=_0x52d35e[_0x4b55c6(0x860)];const _0x4bbc91=_0x2af074[_0x4b55c6(0xa77)]();showView(_0x4b55c6(0x8b4)),showTeamPlayerSelection(_0x4bbc91[_0x4b55c6(0xbf9)],_0x2f6199[_0x4b55c6(0x62b)]);const _0x1228fd=document[_0x4b55c6(0x267)](_0x4b55c6(0x21b));_0x1228fd[_0x4b55c6(0x476)]=confirmAndJoinSyncGame;}catch(_0x323ec5){console[_0x4b55c6(0xa65)]('Error\x20joining\x20sync\x20game:',_0x323ec5),showMessage(_0x4b55c6(0x4f8)+_0x323ec5['message']);}}function updateStudentSyncView(_0x171d3d){const _0x599f44=_0x176601,_0xa1650f=_0x171d3d[_0x599f44(0x3e4)][localTeamPlayers[0x0]];switch(_0x171d3d[_0x599f44(0x471)]){case _0x599f44(0x253):showView('live-game'),liveGameView[_0x599f44(0xab8)]=_0x599f44(0x32e);break;case _0x599f44(0x6a1):const _0x55f042=localTeamPlayers['every'](_0x23c649=>_0x171d3d[_0x599f44(0x3e4)][_0x23c649]?.[_0x599f44(0x7e3)]===!![]);_0x55f042?liveGameView[_0x599f44(0xab8)]=_0x599f44(0x3c2):renderStudentSyncQuestionView(_0x171d3d);break;case'summary':liveGameView[_0x599f44(0xab8)]=_0x599f44(0x77c);break;case _0x599f44(0x475):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x171d3d);break;case _0x599f44(0x261):sessionStorage[_0x599f44(0x864)](_0x599f44(0x8a1));const _0x13cab3=calculateFinalPodiumScores(_0x171d3d);showPodiumView(_0x13cab3,_0x599f44(0x7fb));break;}}function renderStudentSyncResultsView(_0x2f5314){const _0xfdbfdd=_0x176601,_0x411d4f=localTeamPlayers[_0xfdbfdd(0x697)](_0x521966=>_0x2f5314['players'][_0x521966])['filter'](Boolean);_0x411d4f[_0xfdbfdd(0x953)]((_0x4a2c37,_0x4948a4)=>(_0x4948a4[_0xfdbfdd(0x34f)]||0x0)-(_0x4a2c37[_0xfdbfdd(0x34f)]||0x0));const _0xb66459=_0x2f5314[_0xfdbfdd(0x8d0)]>=_0x2f5314[_0xfdbfdd(0x860)][_0xfdbfdd(0x9ce)]['length']-0x1;let _0x282294='';_0xb66459?_0x282294=_0xfdbfdd(0x4ce):_0x282294=_0xfdbfdd(0x181);const _0x123583=_0xfdbfdd(0x941)+_0x411d4f[_0xfdbfdd(0x697)]((_0x546b39,_0x4e3170)=>_0xfdbfdd(0x353)+(_0x4e3170+0x1)+_0xfdbfdd(0x43a)+_0x546b39[_0xfdbfdd(0x6be)]+_0xfdbfdd(0x3bd)+_0x546b39[_0xfdbfdd(0x34f)]+_0xfdbfdd(0x3ac))[_0xfdbfdd(0x706)]('')+_0xfdbfdd(0x38b)+_0x282294+_0xfdbfdd(0xa49);liveGameView[_0xfdbfdd(0xab8)]=_0x123583;}function renderStudentSyncQuestionView(_0x531ac1){const _0xa41c70=_0x176601;while(localPlayerTurnIndex<localTeamPlayers[_0xa41c70(0x2c7)]&&_0x531ac1['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0xa41c70(0x7e3)]===!![]){localPlayerTurnIndex++;}const _0x2be743=localTeamPlayers[localPlayerTurnIndex];if(!_0x2be743)return;const _0x1fe433=_0x531ac1[_0xa41c70(0x8d0)],_0x457e7b=_0x531ac1['shuffledQuiz'][_0xa41c70(0x9ce)][_0xa41c70(0x2c7)],_0x491709=_0x531ac1[_0xa41c70(0x860)]['questions'][_0x1fe433],_0x1a94b5=_0x491709['questionType']||_0x531ac1['shuffledQuiz'][_0xa41c70(0x84e)];let _0xbd8249='',_0x4ea475=![];switch(_0x1a94b5){case _0xa41c70(0x9c7):_0xbd8249='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xa41c70(0x477):case _0xa41c70(0x184):_0x4ea475=!![],_0xbd8249='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xa41c70(0x4ed):_0x4ea475=!![],_0xbd8249=_0xa41c70(0x8de)+(_0x491709[_0xa41c70(0x773)]||[])[_0xa41c70(0x697)](_0x22f773=>_0xa41c70(0xba4)+_0x22f773+'\x22>'+_0x22f773+_0xa41c70(0x53f))[_0xa41c70(0x706)]('')+_0xa41c70(0x1c7);break;case'multiple_choice':default:_0xbd8249=(_0x491709[_0xa41c70(0x61a)]||[])[_0xa41c70(0x697)]((_0x2ffbd0,_0x3da495)=>_0xa41c70(0xab1)+_0x3da495+_0xa41c70(0x5c8)+_0x2ffbd0+_0xa41c70(0xbb4))[_0xa41c70(0x706)]('');break;}liveGameView[_0xa41c70(0xab8)]=_0xa41c70(0x761)+(_0x1fe433+0x1)+'\x20/\x20'+_0x457e7b+_0xa41c70(0x1cb)+_0x2be743+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x491709[_0xa41c70(0x911)]||_0x491709[_0xa41c70(0x232)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0xbd8249+_0xa41c70(0x7e7);if(window[_0xa41c70(0xb72)])MathJax[_0xa41c70(0x5bf)]();function _0x2a28b7(_0x262e52,_0x4f419a,_0x5ec585,_0xf29bf3){const _0x11274b=_0xa41c70,_0x2a9ce6=_0x5ec585[_0x11274b(0x301)]===!![];if(_0x2a9ce6){document[_0x11274b(0x267)](_0x11274b(0x8ea))[_0x11274b(0x89d)][_0x11274b(0x6bf)]='sync';const _0x4193fe=document[_0x11274b(0x267)](_0x11274b(0x86b));_0x4193fe[_0x11274b(0x89d)]['answerValue']=_0x262e52,_0x4193fe['dataset'][_0x11274b(0x6a1)]=JSON['stringify'](_0x4f419a),_0x4193fe[_0x11274b(0x89d)]['gameData']=JSON['stringify'](_0x5ec585),_0x4193fe[_0x11274b(0x89d)]['playerName']=_0xf29bf3,document['getElementById'](_0x11274b(0x8ea))[_0x11274b(0x25c)]['remove'](_0x11274b(0xbc7));}else handleSyncAnswerSubmit(_0x262e52,_0x4f419a,_0x5ec585,_0xf29bf3,![]);}_0x4ea475?document[_0xa41c70(0x267)](_0xa41c70(0x912))['addEventListener'](_0xa41c70(0x292),()=>{const _0x2af264=_0xa41c70,_0x13bf1=document[_0x2af264(0x267)](_0x2af264(0x5ac))||document[_0x2af264(0x267)]('sync-matching-select');if(_0x13bf1['value']['trim']()===''){showMessage(_0x2af264(0x43d));return;}_0x2a28b7(_0x13bf1['value'],_0x491709,_0x531ac1,_0x2be743);}):document[_0xa41c70(0x6d4)](_0xa41c70(0x419))[_0xa41c70(0x523)](_0x3d0176=>{const _0x26145b=_0xa41c70;_0x3d0176[_0x26145b(0xbb9)](_0x26145b(0x292),()=>{const _0x37e1dc=_0x26145b;_0x2a28b7(_0x3d0176[_0x37e1dc(0x89d)][_0x37e1dc(0x832)],_0x491709,_0x531ac1,_0x2be743);});});}async function handleSyncAnswerSubmit(_0x29950e,_0x4897a7,_0x545bc8,_0x3f977c,_0x50b2f3){const _0x428615=_0x176601;document['querySelectorAll'](_0x428615(0x84c))[_0x428615(0x523)](_0x142f61=>_0x142f61['disabled']=!![]);const _0x45c6ea=_0x4897a7[_0x428615(0x9c3)]||_0x545bc8['shuffledQuiz'][_0x428615(0x84e)];let _0x59a20e=![],_0x22ed52=_0x29950e;switch(_0x45c6ea){case'true_false':const _0x1915a9=parseInt(_0x29950e),_0x198631=_0x4897a7[_0x428615(0xb9b)]===!![]||String(_0x4897a7[_0x428615(0xb9b)])['toLowerCase']()===_0x428615(0x268);_0x59a20e=_0x1915a9===0x0&&_0x198631||_0x1915a9===0x1&&!_0x198631,_0x22ed52=_0x1915a9===0x0?_0x428615(0x4ec):_0x428615(0x2d2);break;case _0x428615(0x477):case _0x428615(0x184):_0x59a20e=await gradeShortAnswer(_0x29950e,_0x4897a7);break;case _0x428615(0x4ed):_0x59a20e=_0x29950e===_0x4897a7[_0x428615(0x6a9)];break;case _0x428615(0x3e7):default:const _0x439c1e=parseInt(_0x29950e);_0x59a20e=_0x439c1e===_0x4897a7[_0x428615(0x1f1)];_0x4897a7['options']&&_0x4897a7['options'][_0x439c1e]&&(_0x22ed52=_0x4897a7['options'][_0x439c1e]);break;}let _0xc17eb0=0x0;if(_0x59a20e&&_0x50b2f3)_0xc17eb0=0x2;else{if(_0x59a20e)_0xc17eb0=0x1;else!_0x59a20e&&_0x50b2f3&&(_0xc17eb0=-0x1);}const _0x17218=doc(db,_0x428615(0x94a)+appId+_0x428615(0x5bd),currentLiveGameId),_0xbbd8e={};_0xbbd8e[_0x428615(0x8ef)+_0x3f977c+_0x428615(0xb4b)]=increment(_0xc17eb0),_0xbbd8e[_0x428615(0x8ef)+_0x3f977c+_0x428615(0x608)]=!![];let _0x54ca1c=null;(_0x45c6ea===_0x428615(0x3e7)||_0x45c6ea==='true_false'||_0x45c6ea===_0x428615(0x53c))&&(_0x54ca1c=parseInt(_0x29950e));_0xbbd8e[_0x428615(0x8ef)+_0x3f977c+_0x428615(0x1a7)]=_0x54ca1c;const _0xad619={'questionIndex':_0x545bc8[_0x428615(0x8d0)],'questionId':_0x4897a7['id'],'answer':_0x29950e,'answerText':_0x22ed52,'isCorrect':_0x59a20e,'originalQuestionText':_0x4897a7[_0x428615(0x911)]||_0x4897a7[_0x428615(0x232)],'wasConfident':_0x50b2f3};_0xbbd8e['players.'+_0x3f977c+_0x428615(0xac1)]=arrayUnion(_0xad619),await updateDoc(_0x17218,_0xbbd8e);}initialize();
