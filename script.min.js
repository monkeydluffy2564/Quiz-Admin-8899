const _0x1cfa42=_0x5ec1;(function(_0x3514d2,_0x146df5){const _0x4869df=_0x5ec1,_0x208dec=_0x3514d2();while(!![]){try{const _0x1fe23f=parseInt(_0x4869df(0x228))/0x1*(parseInt(_0x4869df(0x8fc))/0x2)+parseInt(_0x4869df(0xcaa))/0x3+parseInt(_0x4869df(0x63f))/0x4*(parseInt(_0x4869df(0x4dc))/0x5)+-parseInt(_0x4869df(0x627))/0x6*(-parseInt(_0x4869df(0xda8))/0x7)+-parseInt(_0x4869df(0x181))/0x8*(parseInt(_0x4869df(0x5ce))/0x9)+parseInt(_0x4869df(0x6d5))/0xa+-parseInt(_0x4869df(0x7f3))/0xb;if(_0x1fe23f===_0x146df5)break;else _0x208dec['push'](_0x208dec['shift']());}catch(_0x470708){_0x208dec['push'](_0x208dec['shift']());}}}(_0x56bf,0xbbf52));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=['นักล่าฝัน',_0x1cfa42(0x468),_0x1cfa42(0x834),'เหมียวขี้เซา',_0x1cfa42(0xab9),_0x1cfa42(0x9d1),_0x1cfa42(0x99f),_0x1cfa42(0xc36),_0x1cfa42(0x733),_0x1cfa42(0xd29),_0x1cfa42(0xd30),'มือปราบสายรุ้ง',_0x1cfa42(0x6b6),_0x1cfa42(0x918),_0x1cfa42(0xb86),_0x1cfa42(0x94b),_0x1cfa42(0xb27),'ซามูไรสายเดี่ยว',_0x1cfa42(0x61a),_0x1cfa42(0x72c),'หมีขั้วโลกใต้','แมวเก้าชีวิต','ปลาทูคะนอง',_0x1cfa42(0x7e3),'กุ้งเต้นแร้งกา',_0x1cfa42(0x487),_0x1cfa42(0x782),'เสือซ่อนเล็บ',_0x1cfa42(0xc70),'หนอนหนังสือ',_0x1cfa42(0xc58),'สายลับจับบ้านเล็ก',_0x1cfa42(0xbfd),_0x1cfa42(0x5d6),_0x1cfa42(0xb73),_0x1cfa42(0x3a6),_0x1cfa42(0x2c0),'อินฟลูเอนเซอร์',_0x1cfa42(0x8c6),'ดาวสภา',_0x1cfa42(0x20c),_0x1cfa42(0x389),'ส้มตำปูปลาร้า',_0x1cfa42(0x638),_0x1cfa42(0x346),_0x1cfa42(0x88d),_0x1cfa42(0x16b),_0x1cfa42(0x8bc),_0x1cfa42(0x5c4),_0x1cfa42(0xca2),'สายตาสั้น','ปวดหลัง','ออฟฟิศซินโดรม','นอนไม่พอ',_0x1cfa42(0x70e),_0x1cfa42(0xbb0),'เน็ตช้า',_0x1cfa42(0xca1),_0x1cfa42(0x458),_0x1cfa42(0x713),_0x1cfa42(0x314),_0x1cfa42(0x83a),_0x1cfa42(0xce0),_0x1cfa42(0xa74),_0x1cfa42(0x6be),_0x1cfa42(0x5c9),_0x1cfa42(0x49d),_0x1cfa42(0xba7),_0x1cfa42(0x2f6),_0x1cfa42(0x6ea),_0x1cfa42(0x9a1),_0x1cfa42(0x2df),_0x1cfa42(0x216),_0x1cfa42(0xca5),'นักดนตรี',_0x1cfa42(0x96e),_0x1cfa42(0xbb4),'นักประดิษฐ์',_0x1cfa42(0x30d),_0x1cfa42(0x7d4),_0x1cfa42(0x1fc),_0x1cfa42(0x304),_0x1cfa42(0x721),'ตัวแทนแห่งดวงจันทร์',_0x1cfa42(0xb79),_0x1cfa42(0x9a9),_0x1cfa42(0xbd9),_0x1cfa42(0x999),_0x1cfa42(0xd78),_0x1cfa42(0x419),_0x1cfa42(0xde3),_0x1cfa42(0x2b6),'แอบชอบ','อกหัก',_0x1cfa42(0x98f),_0x1cfa42(0x57c),_0x1cfa42(0x63a),_0x1cfa42(0xb11),_0x1cfa42(0x214),'มูเตลู'];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x1cfa42(0x34e),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x1cfa42(0x34e),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x1cfa42(0x34e),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x13212d=_0x1cfa42;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x13212d(0x945)]['request'](_0x13212d(0xa0c)),console[_0x13212d(0xc15)](_0x13212d(0x435)),wakeLock[_0x13212d(0x4ef)](_0x13212d(0x18b),()=>{const _0x5d90e5=_0x13212d;console['log'](_0x5d90e5(0x1ba));});}catch(_0xb5feab){console['error']('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0xb5feab[_0x13212d(0x372)]+',\x20'+_0xb5feab[_0x13212d(0x495)]);}else console['warn'](_0x13212d(0x1e9));},releaseWakeLock=async()=>{const _0x31498c=_0x1cfa42;wakeLock!==null&&(await wakeLock[_0x31498c(0x18b)](),wakeLock=null,console[_0x31498c(0xc15)](_0x31498c(0x69b)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x24b1c1=_0x1cfa42;if(!document[_0x24b1c1(0xce8)]['classList'][_0x24b1c1(0xbe2)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5b5445=_0x24b1c1;document['body'][_0x5b5445(0xe06)][_0x5b5445(0xd5c)]('dimmed'),console[_0x5b5445(0xc15)](_0x5b5445(0x959));},inactivityTime);}}function wakeUpScreen(_0x3f6706){const _0x58433d=_0x1cfa42;_0x3f6706&&(_0x3f6706['stopPropagation'](),_0x3f6706[_0x58433d(0x1a1)]());document['body'][_0x58433d(0xe06)][_0x58433d(0xb55)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x3c23f0=_0x58433d;document['body']['classList'][_0x3c23f0(0xd5c)](_0x3c23f0(0xb7e));},inactivityTime);}function stopDimTimer(){const _0x14a709=_0x1cfa42;if(dimTimer)clearTimeout(dimTimer);document[_0x14a709(0xce8)][_0x14a709(0xe06)]['remove']('dimmed'),window[_0x14a709(0x85c)](_0x14a709(0xcfe),resetDimTimer),window[_0x14a709(0x85c)](_0x14a709(0x4bc),resetDimTimer),window[_0x14a709(0x85c)](_0x14a709(0x367),resetDimTimer),window['removeEventListener'](_0x14a709(0x17e),resetDimTimer),console['log']('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x3d12c6,_0x18e10c=![]){const _0x34b0d0=_0x1cfa42,_0x3652c9=allQuizzes[_0x34b0d0(0x633)](_0xe73741=>_0xe73741['id']===_0x3d12c6)||allQuizzesGlobal[_0x34b0d0(0x633)](_0x183560=>_0x183560['id']===_0x3d12c6);if(!_0x3652c9){showMessage(_0x34b0d0(0x334));return;}currentQuizData=getShuffledQuiz(_0x3652c9);const _0x1c97f3=Math[_0x34b0d0(0x74e)](0x3e8+Math[_0x34b0d0(0x72a)]()*0x2328)['toString']();try{const _0x1d5eb0=await addDoc(collection(db,_0x34b0d0(0x7ff)+appId+_0x34b0d0(0x2de)),{'quizId':_0x3652c9['id'],'projectId':_0x3652c9[_0x34b0d0(0x1cf)],'status':_0x34b0d0(0xded),'pin':_0x1c97f3,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x18e10c});currentTeamQuizId=_0x1d5eb0['id'],showView(_0x34b0d0(0xa9f)),renderAdminTeamQuizDashboard(_0x1c97f3,_0x3652c9['topic']),listenForTeamQuizUpdates();}catch(_0x2d51d9){console[_0x34b0d0(0x3f5)](_0x34b0d0(0x5ad),_0x2d51d9),showMessage(_0x34b0d0(0x272));}}function renderAdminTeamQuizDashboard(_0x1543fd,_0x2331ac,_0x1bfa95=_0x1cfa42(0x475)){const _0x174fb0=_0x1cfa42,_0x23731f=_0x1bfa95===_0x174fb0(0x501)?_0x174fb0(0x54a):'Team\x20Quiz';liveGameView[_0x174fb0(0xcf3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x23731f+':\x20'+_0x2331ac+_0x174fb0(0x397)+_0x1543fd+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x174fb0(0xbf1)](_0x174fb0(0x61c))[_0x174fb0(0x4ef)](_0x174fb0(0x67d),async()=>{const _0x5d4b76=_0x174fb0;showConfirmation(_0x5d4b76(0x3ff),async()=>{const _0x56fc24=_0x5d4b76;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x56fc24(0x2de),currentTeamQuizId)),showView(_0x56fc24(0x80f));});});}function listenForTeamQuizUpdates(){const _0x270cf3=_0x1cfa42;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2633c9=doc(db,'artifacts/'+appId+_0x270cf3(0x2de),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2633c9,_0x754391=>{const _0x4d2960=_0x270cf3;if(!_0x754391[_0x4d2960(0x2b1)]()){sessionStorage[_0x4d2960(0xa92)](_0x4d2960(0xb46));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4d2960(0xc51)?showView(_0x4d2960(0x80f)):showView(_0x4d2960(0x65e));return;}const _0x58788c=_0x754391[_0x4d2960(0x934)]();if(currentMode===_0x4d2960(0xc51)){if(_0x58788c[_0x4d2960(0x43b)]===_0x4d2960(0x501)&&_0x58788c[_0x4d2960(0x657)]!==_0x4d2960(0x3f8)&&_0x58788c['status']!==_0x4d2960(0x63d)){const _0x533ac7=Object[_0x4d2960(0xdc2)](_0x58788c[_0x4d2960(0x484)]||{});if(_0x533ac7[_0x4d2960(0x26d)]>0x0){const _0x43f2ec=_0x533ac7['every'](_0x1a3fa1=>_0x1a3fa1[_0x4d2960(0xb60)]===!![]);_0x43f2ec&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x58788c);}else{if(_0x58788c[_0x4d2960(0x657)]===_0x4d2960(0x3f8)||_0x58788c['status']===_0x4d2960(0x63d)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x58788c[_0x4d2960(0x43b)]===_0x4d2960(0x501)){const _0x1032be=_0x58788c['groups'][userId];(!_0x1032be||!_0x1032be[_0x4d2960(0xb60)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x13ab76){const _0x134a48=_0x1cfa42;console[_0x134a48(0xc15)](_0x134a48(0x950));const _0x1fe03d=doc(db,'artifacts/'+appId+_0x134a48(0x2de),_0x13ab76);try{const _0x32c440=await getDoc(_0x1fe03d);if(_0x32c440[_0x134a48(0x2b1)]()){const _0x4add68=_0x32c440[_0x134a48(0x934)]();_0x4add68['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x4add68);}await updateDoc(_0x1fe03d,{'status':_0x134a48(0x3f8)});}catch(_0xcb5d36){console['error'](_0x134a48(0x2a5),_0xcb5d36);}}function updateAdminTeamDashboard(_0x247c4c){const _0x8b856=_0x1cfa42,_0x4f6071=document[_0x8b856(0xbf1)](_0x8b856(0x74f));if(!_0x4f6071)return;const _0x2552de=_0x247c4c[_0x8b856(0x43b)]||_0x8b856(0x475),_0x25094e=currentQuizData[_0x8b856(0xb0f)][_0x8b856(0x26d)];if(_0x2552de===_0x8b856(0x501)){const _0x478b89=Object[_0x8b856(0xdc2)](_0x247c4c[_0x8b856(0x484)]||{});if(_0x478b89[_0x8b856(0x26d)]===0x0){_0x4f6071[_0x8b856(0xcf3)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x3afa66=[..._0x478b89][_0x8b856(0x712)]((_0x4a9f7b,_0x3db842)=>_0x3db842[_0x8b856(0xd0e)]-_0x4a9f7b[_0x8b856(0xd0e)]),_0x45d073=_0x3afa66['map']((_0x18a75e,_0x23380e)=>{const _0x359427=_0x8b856,_0x461bff=_0x18a75e[_0x359427(0xad5)]?.[_0x359427(0x26d)]||0x0;return _0x359427(0xa23)+(_0x23380e+0x1)+_0x359427(0x20f)+_0x18a75e[_0x359427(0x817)][_0x359427(0x4ce)](',\x20')+_0x359427(0x97d)+_0x461bff+'/'+_0x25094e+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x18a75e[_0x359427(0xd0e)]+_0x359427(0x4c8);})[_0x8b856(0x4ce)](''),_0x1aa34e=currentQuizData[_0x8b856(0xb0f)]['map']((_0x53c441,_0x4c6c70)=>{const _0x4ede0f=_0x8b856;let _0x2dac6d=0x0,_0x5c5b2d=0x0;_0x478b89['forEach'](_0x38565a=>{const _0x498bbd=_0x5ec1,_0x2950dc=_0x38565a[_0x498bbd(0xad5)]?.[_0x498bbd(0x633)](_0x432b4b=>_0x432b4b[_0x498bbd(0xb1c)]===_0x4c6c70);if(_0x2950dc){_0x5c5b2d++;if(_0x2950dc[_0x498bbd(0x553)])_0x2dac6d++;}});const _0x506324=_0x5c5b2d>0x0&&_0x5c5b2d===_0x478b89[_0x4ede0f(0x26d)],_0x169735=_0x506324?_0x4ede0f(0xddf):'bg-black/10',_0xee4bac=_0x506324?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x4ede0f(0x45c)+_0x169735+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x4c6c70+0x1)+':</span><span>'+_0xee4bac+_0x4ede0f(0x404)+_0x2dac6d+'/'+_0x478b89[_0x4ede0f(0x26d)]+'\x20กลุ่ม</p></div>';})[_0x8b856(0x4ce)]('');_0x4f6071[_0x8b856(0xcf3)]=_0x8b856(0x3cd)+_0x45d073+_0x8b856(0x5dc)+_0x1aa34e+_0x8b856(0xbb1);return;}const _0x325da0=_0x247c4c[_0x8b856(0x300)]||{},_0x23bc1e=Object[_0x8b856(0x972)](_0x325da0);if(_0x23bc1e['length']===0x0){_0x4f6071[_0x8b856(0xcf3)]=_0x8b856(0xa66);return;}const _0x293b1c=_0x23bc1e[_0x8b856(0x469)](_0x3e58f9=>({'name':_0x3e58f9,'score':_0x325da0[_0x3e58f9][_0x8b856(0xd0e)]||0x0}))[_0x8b856(0x712)]((_0x541fd3,_0x160a83)=>_0x160a83[_0x8b856(0xd0e)]-_0x541fd3['score']),_0x4aab6f=_0x293b1c[_0x8b856(0x469)](_0x3f7f2d=>{const _0x1dc4e6=_0x8b856,_0x24caaf=_0x325da0[_0x3f7f2d[_0x1dc4e6(0x372)]]?.[_0x1dc4e6(0xad5)]?.[_0x1dc4e6(0x26d)]||0x0,_0x19790d=Math[_0x1dc4e6(0x3ed)](_0x25094e/_0x23bc1e[_0x1dc4e6(0x26d)]);return _0x1dc4e6(0x842)+_0x3f7f2d[_0x1dc4e6(0x372)]+_0x1dc4e6(0x7c6)+_0x24caaf+'/'+_0x19790d+_0x1dc4e6(0x8e6)+_0x3f7f2d[_0x1dc4e6(0xd0e)]+_0x1dc4e6(0x3fc);})[_0x8b856(0x4ce)](''),_0x2617af=_0x23bc1e[_0x8b856(0xdbd)]((_0x34b3e5,_0x2f1197)=>_0x34b3e5+(_0x325da0[_0x2f1197][_0x8b856(0xad5)]?.[_0x8b856(0x26d)]||0x0),0x0),_0xe1dc63=currentQuizData['questions'][_0x8b856(0x469)]((_0x311945,_0x16bba7)=>{const _0x4ea91f=_0x8b856;let _0x5d625b=null,_0x6dd5bb=null;for(const _0x31bcff of _0x23bc1e){const _0x23e654=_0x325da0[_0x31bcff][_0x4ea91f(0xad5)]?.[_0x4ea91f(0x633)](_0x29528e=>_0x29528e[_0x4ea91f(0xb1c)]===_0x16bba7);if(_0x23e654){_0x5d625b=_0x23e654,_0x6dd5bb=_0x31bcff;break;}}const _0x1019b5=!!_0x5d625b,_0x40611a=_0x1019b5&&_0x5d625b[_0x4ea91f(0x553)],_0x553103=(Math[_0x4ea91f(0x74e)](_0x16bba7/_0x23bc1e['length'])+0x1)*_0x23bc1e[_0x4ea91f(0x26d)],_0x5b32c3=_0x2617af>=_0x553103,_0x322669=_0x5b32c3?_0x4ea91f(0x295):'bg-black/10',_0x49cf4c=_0x5b32c3?_0x4ea91f(0x4df):'';let _0x50679a=_0x4ea91f(0x862);return _0x1019b5&&(_0x50679a=_0x6dd5bb+_0x4ea91f(0x550)+(_0x40611a?'ถูก':_0x4ea91f(0xcee))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x322669+_0x4ea91f(0xbbf)+(_0x16bba7+0x1)+_0x4ea91f(0x485)+_0x49cf4c+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x50679a+_0x4ea91f(0xab0);})[_0x8b856(0x4ce)]('');_0x4f6071[_0x8b856(0xcf3)]=_0x8b856(0x456)+_0x4aab6f+_0x8b856(0x277)+_0xe1dc63+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x55c315=_0x1cfa42,_0x2178bd=prompt(_0x55c315(0x236));if(!_0x2178bd||_0x2178bd['trim']()[_0x55c315(0x26d)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x3e5e9b=collection(db,_0x55c315(0x7ff)+appId+_0x55c315(0x2de)),_0x412bee=query(_0x3e5e9b,where('pin','==',_0x2178bd[_0x55c315(0xab6)]()),where('status','==','lobby')),_0xb723f6=await getDocs(_0x412bee);if(_0xb723f6[_0x55c315(0x5f1)]){showMessage(_0x55c315(0x171));return;}const _0x200af0=_0xb723f6['docs'][0x0];currentTeamQuizId=_0x200af0['id'];const _0x49e607=_0x200af0[_0x55c315(0x934)](),_0x2e30a2=doc(db,_0x55c315(0x7ff)+appId+'/public/data/projects',_0x49e607[_0x55c315(0x1cf)]),_0x1d8409=doc(db,_0x55c315(0x7ff)+appId+'/public/data/quizzes',_0x49e607[_0x55c315(0x506)]),[_0xc25eef,_0x84326b]=await Promise[_0x55c315(0x34e)]([getDoc(_0x2e30a2),getDoc(_0x1d8409)]);if(!_0xc25eef[_0x55c315(0x2b1)]()||!_0x84326b[_0x55c315(0x2b1)]())throw new Error(_0x55c315(0xd3e));currentQuizData=getShuffledQuiz({'id':_0x84326b['id'],..._0x84326b[_0x55c315(0x934)]()});const _0x7c6af0=_0xc25eef[_0x55c315(0x934)]();showTeamPlayerSelection(_0x7c6af0[_0x55c315(0xb22)],currentQuizData['topic']);}catch(_0x585bff){console['error'](_0x55c315(0xc8f),_0x585bff),showMessage('เกิดข้อผิดพลาด:\x20'+_0x585bff['message']);}}async function handleJoinGroupActivity(){const _0x2fd80c=_0x1cfa42,_0x97f117=prompt(_0x2fd80c(0xd96));if(!_0x97f117||_0x97f117[_0x2fd80c(0xab6)]()[_0x2fd80c(0x26d)]!==0x4){showMessage(_0x2fd80c(0xa1c));return;}const _0xe83783=_0x97f117[_0x2fd80c(0xab6)]();showMessage(_0x2fd80c(0x559));try{const _0x374409=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x4e5d8f=query(_0x374409,where('pin','==',_0xe83783),where(_0x2fd80c(0x657),'==','lobby')),_0x4ec086=await getDocs(_0x4e5d8f);if(!_0x4ec086['empty']){console[_0x2fd80c(0xc15)](_0x2fd80c(0x332)),await proceedWithTeamQuizJoin(_0x4ec086[_0x2fd80c(0xd24)][0x0]);return;}const _0x4e610c=collection(db,_0x2fd80c(0x7ff)+appId+_0x2fd80c(0x73f)),_0x1c93fa=query(_0x4e610c,where('pin','==',_0xe83783),where(_0x2fd80c(0x657),'in',[_0x2fd80c(0xded),_0x2fd80c(0x7bc),_0x2fd80c(0xd4a),_0x2fd80c(0xbdc)])),_0x50e707=await getDocs(_0x1c93fa);if(!_0x50e707[_0x2fd80c(0x5f1)]){console[_0x2fd80c(0xc15)](_0x2fd80c(0x527)),await proceedWithSyncQuizJoin(_0x50e707[_0x2fd80c(0xd24)][0x0]);return;}showMessage(_0x2fd80c(0x351));}catch(_0x1cf726){console['error'](_0x2fd80c(0x38e),_0x1cf726),showMessage(_0x2fd80c(0x38d)+_0x1cf726[_0x2fd80c(0x495)]);}}async function proceedWithTeamQuizJoin(_0x129194){const _0x2693e4=_0x1cfa42;currentTeamQuizId=_0x129194['id'];const _0x11780e=_0x129194[_0x2693e4(0x934)](),_0x5c5a87=doc(db,_0x2693e4(0x7ff)+appId+_0x2693e4(0xcc5),_0x11780e[_0x2693e4(0x1cf)]),_0x253ebc=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x11780e[_0x2693e4(0x506)]),[_0x4b9105,_0xfe02c3]=await Promise[_0x2693e4(0x34e)]([getDoc(_0x5c5a87),getDoc(_0x253ebc)]);if(!_0x4b9105[_0x2693e4(0x2b1)]()||!_0xfe02c3[_0x2693e4(0x2b1)]())throw new Error(_0x2693e4(0xd3e));currentQuizData=getShuffledQuiz({'id':_0xfe02c3['id'],..._0xfe02c3[_0x2693e4(0x934)]()}),showTeamPlayerSelection(_0x4b9105[_0x2693e4(0x934)]()[_0x2693e4(0xb22)],currentQuizData['topic'],_0x11780e[_0x2693e4(0x43b)]||'team'),messageModal['classList'][_0x2693e4(0xd5c)](_0x2693e4(0xa93));}async function proceedWithSyncQuizJoin(_0x3cc4ac){const _0x537d09=_0x1cfa42;currentLiveGameId=_0x3cc4ac['id'];const _0x2445b2=_0x3cc4ac[_0x537d09(0x934)](),_0x9e2e00=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2445b2[_0x537d09(0x506)]),_0x441b22=await getDoc(_0x9e2e00);if(!_0x441b22[_0x537d09(0x2b1)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x377a89=_0x441b22[_0x537d09(0x934)](),_0x2598ed=doc(db,'artifacts/'+appId+'/public/data/projects',_0x377a89['projectId']),_0x56db03=await getDoc(_0x2598ed);if(!_0x56db03[_0x537d09(0x2b1)]())throw new Error(_0x537d09(0x466));currentQuizData=_0x2445b2[_0x537d09(0x479)],showView('student-team-join'),showTeamPlayerSelection(_0x56db03['data']()[_0x537d09(0xb22)],_0x377a89[_0x537d09(0x3b7)],_0x537d09(0x7f0));const _0x4a6488=document[_0x537d09(0xbf1)](_0x537d09(0xca7)),_0x2b65b2=_0x4a6488[_0x537d09(0xcf8)](!![]);_0x4a6488[_0x537d09(0x916)]['replaceChild'](_0x2b65b2,_0x4a6488),_0x2b65b2['onclick']=confirmAndJoinSyncGame,messageModal[_0x537d09(0xe06)][_0x537d09(0xd5c)]('hidden');}function getCleanApplicationHTML(){const _0x136ae6=_0x1cfa42,_0x5dbbaa=document[_0x136ae6(0xbf1)](_0x136ae6(0x762));if(!_0x5dbbaa)return'';const _0x16f890=_0x5dbbaa[_0x136ae6(0xcf8)](!![]);return _0x16f890[_0x136ae6(0x218)]('.application-options\x20button')[_0x136ae6(0xdac)](_0x32b499=>{const _0x5b3455=_0x136ae6;_0x32b499[_0x5b3455(0xe06)][_0x5b3455(0xb55)](_0x5b3455(0x4f6),'incorrect'),_0x32b499[_0x5b3455(0x635)]=![];}),_0x16f890[_0x136ae6(0xcf3)];}function showTeamPlayerSelection(_0xf2e497,_0x26b705,_0x303f1d=_0x1cfa42(0x475)){const _0x34183e=_0x1cfa42;studentInitialView[_0x34183e(0xe06)][_0x34183e(0xd5c)](_0x34183e(0xa93)),studentJoinGameView[_0x34183e(0xe06)][_0x34183e(0xd5c)](_0x34183e(0xa93)),document['getElementById'](_0x34183e(0x1c7))[_0x34183e(0xe06)][_0x34183e(0xb55)](_0x34183e(0xa93));let _0x31e1b1=_0x34183e(0x84c);if(_0x303f1d==='group')_0x31e1b1=_0x34183e(0x54a);else _0x303f1d==='sync'&&(_0x31e1b1=_0x34183e(0x1d7));document[_0x34183e(0xbf1)](_0x34183e(0x3ec))[_0x34183e(0x617)]=_0x31e1b1+':\x20'+_0x26b705;const _0x57859e=document['getElementById']('team-student-list');if(!_0xf2e497||_0xf2e497[_0x34183e(0x26d)]===0x0){_0x57859e['innerHTML']=_0x34183e(0x65f),document[_0x34183e(0xbf1)](_0x34183e(0xca7))['disabled']=!![];return;}_0x57859e[_0x34183e(0xcf3)]=_0xf2e497[_0x34183e(0x469)](_0x34bffd=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x34bffd+_0x34183e(0x3d5)+_0x34bffd+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x34183e(0x4ce)](''),document[_0x34183e(0xbf1)](_0x34183e(0xca7))[_0x34183e(0x635)]=![];}async function confirmAndStartTeamQuiz(){const _0x4b0eec=_0x1cfa42,_0x1a43a0=Array['from'](document[_0x4b0eec(0x218)](_0x4b0eec(0x345)))[_0x4b0eec(0x469)](_0x352765=>_0x352765[_0x4b0eec(0x49f)]);if(_0x1a43a0['length']===0x0){showMessage(_0x4b0eec(0x848));return;}localTeamPlayers=_0x1a43a0,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x44cecd=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x454268=await getDoc(_0x44cecd);if(!_0x454268[_0x4b0eec(0x2b1)]())throw new Error(_0x4b0eec(0x1fb));const _0x4046ed=_0x454268['data']();if(_0x4046ed[_0x4b0eec(0x43b)]===_0x4b0eec(0x501)){const _0xfe29bc={[_0x4b0eec(0x234)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x44cecd,_0xfe29bc);}else{const _0x12e389=_0x4046ed[_0x4b0eec(0x300)]||{};localTeamPlayers[_0x4b0eec(0xdac)](_0x415c34=>{!_0x12e389[_0x415c34]&&(_0x12e389[_0x415c34]={'score':0x0,'answers':[]});}),await updateDoc(_0x44cecd,{'responses':_0x12e389});}document['getElementById'](_0x4b0eec(0x1c7))['classList']['add']('hidden'),renderTeamQuizQuestion();const _0x2ae4af={'gameId':currentTeamQuizId,'mode':_0x4046ed[_0x4b0eec(0x43b)]||_0x4b0eec(0x475),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4b0eec(0x958)](_0x4b0eec(0xb46),JSON[_0x4b0eec(0x2a1)](_0x2ae4af)),listenForTeamQuizUpdates();}catch(_0x4dfab9){console['error'](_0x4b0eec(0x560),_0x4dfab9),showMessage(_0x4b0eec(0x4c9));}}async function renderTeamQuizQuestion(){const _0x3b22be=_0x1cfa42;if(localQuestionIndex>=currentQuizData[_0x3b22be(0xb0f)]['length']){displayTeamQuizFinalResults();return;}const _0x27416d=currentQuizData[_0x3b22be(0xb0f)][localQuestionIndex],_0x163979=localTeamPlayers[localPlayerIndex],_0x2526cb=_0x27416d[_0x3b22be(0xb83)]||currentQuizData[_0x3b22be(0x4c3)];let _0x742327=_0x27416d[_0x3b22be(0x826)]||_0x27416d[_0x3b22be(0x324)],_0x26a605='';switch(_0x2526cb){case _0x3b22be(0x37c):case _0x3b22be(0xa46):_0x26a605=_0x27416d['options'][_0x3b22be(0x469)]((_0x26aff5,_0x50d2d3)=>_0x3b22be(0xda6)+_0x50d2d3+_0x3b22be(0xdef)+_0x50d2d3+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x50d2d3+'\x22>'+_0x26aff5+'</label></div>')[_0x3b22be(0x4ce)]('');break;case _0x3b22be(0x1cb):_0x26a605=_0x3b22be(0xc2f);break;case'short_answer':case _0x3b22be(0x30a):_0x26a605=_0x3b22be(0x7e6);break;case _0x3b22be(0x2bf):_0x26a605='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x27416d[_0x3b22be(0xb53)][_0x3b22be(0x469)](_0x2ddf15=>'<option\x20value=\x22'+_0x2ddf15+'\x22>'+_0x2ddf15+_0x3b22be(0x224))[_0x3b22be(0x4ce)]('')+_0x3b22be(0x93b);break;default:_0x26a605=_0x3b22be(0x7be);break;}studentQuizArea[_0x3b22be(0xcf3)]=_0x3b22be(0xd72)+(localQuestionIndex+0x1)+_0x3b22be(0x7b1)+currentQuizData[_0x3b22be(0xb0f)][_0x3b22be(0x26d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x163979+_0x3b22be(0xd2e)+(localQuestionIndex+0x1)+'.\x20'+_0x742327+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x27416d[_0x3b22be(0x50a)]?_0x3b22be(0xc25)+_0x27416d['imageCode']+_0x3b22be(0xcdd):'')+_0x3b22be(0x240)+_0x26a605+_0x3b22be(0xc31),studentQuizArea[_0x3b22be(0xe06)][_0x3b22be(0xb55)](_0x3b22be(0xa93));if(window[_0x3b22be(0x6b2)])MathJax[_0x3b22be(0x255)]([studentQuizArea]);document['getElementById'](_0x3b22be(0x4f9))[_0x3b22be(0x4ef)](_0x3b22be(0x67d),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x57e054=_0x1cfa42,_0x4daa7b=currentQuizData[_0x57e054(0xb0f)][localQuestionIndex],_0x3eebed=_0x4daa7b[_0x57e054(0xb83)]||currentQuizData['quizType'];let _0xcce5d5=null,_0x5a01db=![];if(_0x3eebed===_0x57e054(0x944)||_0x3eebed===_0x57e054(0x30a)){const _0x208aab=document['querySelector']('textarea[name=\x22team_answer\x22]');if(!_0x208aab||!_0x208aab['value'][_0x57e054(0xab6)]()){showMessage(_0x57e054(0x1aa));return;}_0xcce5d5=_0x208aab['value'][_0x57e054(0xab6)](),_0x5a01db=await gradeShortAnswer(_0xcce5d5,_0x4daa7b);}else{const _0x5ea7c2=document[_0x57e054(0x19c)](_0x57e054(0x201));if(!_0x5ea7c2||_0x5ea7c2['value']===''){showMessage(_0x57e054(0xcb2));return;}_0xcce5d5=_0x5ea7c2[_0x57e054(0x49f)];switch(_0x3eebed){case _0x57e054(0x1cb):_0x5a01db=_0xcce5d5==='true'===_0x4daa7b[_0x57e054(0x59b)];break;case _0x57e054(0x2bf):_0x5a01db=_0xcce5d5===_0x4daa7b[_0x57e054(0x578)];break;default:_0x5a01db=parseInt(_0xcce5d5)===_0x4daa7b[_0x57e054(0x3a3)];break;}}const _0x44ce06={'questionIndex':localQuestionIndex,'isCorrect':_0x5a01db},_0x2eb133=userId,_0x3c1db3={[_0x57e054(0x234)+_0x2eb133+_0x57e054(0x892)]:arrayUnion(_0x44ce06)};_0x5a01db&&(_0x3c1db3[_0x57e054(0x234)+_0x2eb133+_0x57e054(0x52a)]=increment(0x1));try{await updateDoc(doc(db,_0x57e054(0x7ff)+appId+_0x57e054(0x2de),currentTeamQuizId),_0x3c1db3),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x57e054(0x26d)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x1e2c50){console['error'](_0x57e054(0x8fa),_0x1e2c50),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x61d453=_0x1cfa42,_0x3fcc31=await getDoc(doc(db,_0x61d453(0x7ff)+appId+_0x61d453(0x2de),currentTeamQuizId));if(!_0x3fcc31[_0x61d453(0x2b1)]())return;const _0x5d02f4=_0x3fcc31[_0x61d453(0x934)]();if(_0x5d02f4['mode']==='group'){handleGroupAnswerSubmit();return;}const _0x137082=localTeamPlayers[localPlayerIndex],_0x26135f=currentQuizData['questions'][localQuestionIndex],_0x576317=_0x26135f[_0x61d453(0xb83)]||currentQuizData['quizType'];let _0x50d42f=null,_0x3dda21=![];if(_0x576317==='short_answer'||_0x576317===_0x61d453(0x30a)){const _0x52fa4b=document[_0x61d453(0x19c)]('textarea[name=\x22team_answer\x22]');if(!_0x52fa4b||!_0x52fa4b[_0x61d453(0x49f)][_0x61d453(0xab6)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x50d42f=_0x52fa4b[_0x61d453(0x49f)][_0x61d453(0xab6)](),_0x3dda21=await gradeShortAnswer(_0x50d42f,_0x26135f);}else{const _0x4117eb=document[_0x61d453(0x19c)](_0x61d453(0x201));if(!_0x4117eb||_0x4117eb[_0x61d453(0x49f)]===''){showMessage(_0x61d453(0xcc2));return;}_0x50d42f=_0x4117eb[_0x61d453(0x49f)];switch(_0x576317){case _0x61d453(0x1cb):_0x3dda21=_0x50d42f==='true'===_0x26135f[_0x61d453(0x59b)];break;case'matching_item':_0x3dda21=_0x50d42f===_0x26135f[_0x61d453(0x578)];break;default:_0x3dda21=parseInt(_0x50d42f)===_0x26135f[_0x61d453(0x3a3)];break;}}const _0x5d4f94={'questionIndex':localQuestionIndex,'isCorrect':_0x3dda21,'answerValue':_0x50d42f},_0x1deb2={[_0x61d453(0x9a2)+_0x137082+_0x61d453(0x892)]:arrayUnion(_0x5d4f94)};_0x3dda21&&(_0x1deb2[_0x61d453(0x9a2)+_0x137082+_0x61d453(0x52a)]=increment(0x1));try{await updateDoc(doc(db,_0x61d453(0x7ff)+appId+_0x61d453(0x2de),currentTeamQuizId),_0x1deb2),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x61d453(0x26d)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x46b13f){console[_0x61d453(0x3f5)]('Error\x20submitting\x20team\x20answer:',_0x46b13f),showMessage(_0x61d453(0x930));}}async function displayTeamQuizFinalResults(){const _0x8320b1=_0x1cfa42;studentQuizArea[_0x8320b1(0xe06)][_0x8320b1(0xd5c)](_0x8320b1(0xa93)),studentResultArea[_0x8320b1(0xe06)][_0x8320b1(0xb55)]('hidden');const _0x406674=doc(db,_0x8320b1(0x7ff)+appId+_0x8320b1(0x2de),currentTeamQuizId),_0xc31957=await getDoc(_0x406674);if(!_0xc31957[_0x8320b1(0x2b1)]()){studentResultArea[_0x8320b1(0xcf3)]=_0x8320b1(0x82f);return;}const _0x5aff55=_0xc31957[_0x8320b1(0x934)]();let _0x1e33ca=[];const _0x1f0625=_0x5aff55[_0x8320b1(0x43b)]||_0x8320b1(0x475);if(_0x1f0625==='group'){const _0x1a88bd=_0x5aff55[_0x8320b1(0x484)][userId];_0x1a88bd?_0x1e33ca=[{'name':_0x8320b1(0xb15)+localTeamPlayers[_0x8320b1(0x4ce)](',\x20'),'score':_0x1a88bd[_0x8320b1(0xd0e)]||0x0}]:_0x1e33ca=[{'name':_0x8320b1(0x844),'score':'N/A'}];}else _0x1e33ca=localTeamPlayers[_0x8320b1(0x469)](_0x358044=>({'name':_0x358044,'score':_0x5aff55[_0x8320b1(0x300)][_0x358044]?.[_0x8320b1(0xd0e)]||0x0}))[_0x8320b1(0x712)]((_0x36962f,_0x1e0b1f)=>_0x1e0b1f[_0x8320b1(0xd0e)]-_0x36962f[_0x8320b1(0xd0e)]);studentResultArea[_0x8320b1(0xcf3)]=_0x8320b1(0x387)+_0x1e33ca[_0x8320b1(0x469)](_0x5c73d2=>_0x8320b1(0x864)+_0x5c73d2[_0x8320b1(0x372)]+_0x8320b1(0x541)+_0x5c73d2[_0x8320b1(0xd0e)]+_0x8320b1(0x6ca))[_0x8320b1(0x4ce)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x8320b1(0xa92)](_0x8320b1(0xb46)),currentMode===_0x8320b1(0xc51)&&currentTeamQuizId&&setTimeout(()=>{const _0x563f9b=_0x8320b1;deleteDoc(doc(db,_0x563f9b(0x7ff)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1cfa42(0xbc2),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x1cfa42(0x34b)},{'category':'จำนวนและการดำเนินการ','name':_0x1cfa42(0xc50)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x18a)},{'category':'จำนวนและการดำเนินการ','name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x1cfa42(0x4e3),'name':'การบวก'},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x924)},{'category':'จำนวนและการดำเนินการ','name':_0x1cfa42(0x5a3)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x4eb)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x533)},{'category':'จำนวนและการดำเนินการ','name':_0x1cfa42(0xc69)},{'category':'จำนวนและการดำเนินการ','name':_0x1cfa42(0x9f9)},{'category':'จำนวนและการดำเนินการ','name':_0x1cfa42(0x628)},{'category':'จำนวนและการดำเนินการ','name':'เส้นจำนวน'},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x570)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x808)},{'category':'จำนวนและการดำเนินการ','name':_0x1cfa42(0x90c)},{'category':'จำนวนและการดำเนินการ','name':_0x1cfa42(0xbea)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0xa5b)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x949)},{'category':_0x1cfa42(0x4e3),'name':'การลบเศษส่วน'},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x7a3)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0xc08)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x9ba)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0xada)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0xdfc)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x829)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x6b4)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x839)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x6bb)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x621)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x585)},{'category':_0x1cfa42(0x4e3),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x2dd)},{'category':_0x1cfa42(0x4e3),'name':_0x1cfa42(0x6c9)},{'category':_0x1cfa42(0x4e3),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x1cfa42(0x7de),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x1cfa42(0x9f4)},{'category':'การวัด','name':_0x1cfa42(0xbe7)},{'category':_0x1cfa42(0x7de),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x1cfa42(0x7de),'name':'อุณหภูมิและการแปลง'},{'category':_0x1cfa42(0x7de),'name':_0x1cfa42(0x433)},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':_0x1cfa42(0x7de),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x1cfa42(0x7de),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x1cfa42(0x7de),'name':_0x1cfa42(0xcc6)},{'category':_0x1cfa42(0x7de),'name':'มุมและการวัดมุม'},{'category':_0x1cfa42(0x7de),'name':_0x1cfa42(0x84f)},{'category':_0x1cfa42(0x7de),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0x9fe)},{'category':_0x1cfa42(0x596),'name':'ความสัมพันธ์ของมุม'},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0xbac)},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0x520)},{'category':'เรขาคณิต','name':_0x1cfa42(0x79e)},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0xaa1)},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0x350)},{'category':'เรขาคณิต','name':_0x1cfa42(0x9ee)},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0x8df)},{'category':'เรขาคณิต','name':_0x1cfa42(0x508)},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0x382)},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0xd9c)},{'category':'เรขาคณิต','name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0xc3c)},{'category':_0x1cfa42(0x596),'name':_0x1cfa42(0x2a6)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x89f)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x919)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0xc24)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแยกตัวประกอบ'},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x267)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x5d0)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x35d)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0xd06)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1cfa42(0x48c)},{'category':_0x1cfa42(0x5af),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x532)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0xa85)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x431)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x1cfa42(0x5af),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x1cfa42(0x5af),'name':'ระบบอสมการ'},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x41e)},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0xe0b)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x31a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1cfa42(0xca0)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x8b2)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x6cd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1cfa42(0x39e)},{'category':_0x1cfa42(0x5af),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0xdb8)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1cfa42(0x96f)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x8e7)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x4ca)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x1ea)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0x8ab)},{'category':_0x1cfa42(0x5af),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0xbc3)},{'category':_0x1cfa42(0x5af),'name':_0x1cfa42(0xc61)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1cfa42(0xbd0)},{'category':'เรขาคณิตวิเคราะห์','name':'ความชันและเส้นตรง'},{'category':_0x1cfa42(0x4f2),'name':_0x1cfa42(0x91b)},{'category':_0x1cfa42(0x4f2),'name':_0x1cfa42(0x1eb)},{'category':_0x1cfa42(0x4f2),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x1cfa42(0x4f2),'name':_0x1cfa42(0x197)},{'category':_0x1cfa42(0x4f2),'name':_0x1cfa42(0xb76)},{'category':_0x1cfa42(0x4f2),'name':_0x1cfa42(0xdba)},{'category':_0x1cfa42(0x4f2),'name':_0x1cfa42(0x2b8)},{'category':'ตรีโกณมิติ','name':_0x1cfa42(0x342)},{'category':_0x1cfa42(0x408),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x1cfa42(0x408),'name':_0x1cfa42(0x6fa)},{'category':'ตรีโกณมิติ','name':'เรเดียนและการแปลงหน่วย'},{'category':_0x1cfa42(0x408),'name':_0x1cfa42(0x805)},{'category':'ตรีโกณมิติ','name':_0x1cfa42(0x6c7)},{'category':'ตรีโกณมิติ','name':_0x1cfa42(0xe0d)},{'category':_0x1cfa42(0x408),'name':_0x1cfa42(0x853)},{'category':_0x1cfa42(0x408),'name':'สมการตรีโกณมิติ'},{'category':_0x1cfa42(0x408),'name':_0x1cfa42(0x889)},{'category':'ตรีโกณมิติ','name':_0x1cfa42(0x56b)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0xdd0)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x525)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x93e)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x686)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0xba2)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x1c4)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0xe09)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x51e)},{'category':_0x1cfa42(0x239),'name':'ฐานนิยม'},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x301)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x1c3)},{'category':_0x1cfa42(0x239),'name':'ความแปรปรวน'},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x22a)},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x39b)},{'category':_0x1cfa42(0x239),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x58a)},{'category':_0x1cfa42(0x239),'name':'กฎบวกและกฎคูณ'},{'category':_0x1cfa42(0x239),'name':'แผนภาพเวนน์'},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x64e)},{'category':_0x1cfa42(0x239),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x1cfa42(0x239),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x6dd)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x1cfa42(0x239),'name':_0x1cfa42(0x43a)},{'category':_0x1cfa42(0x7e2),'name':'ลิมิต'},{'category':_0x1cfa42(0x7e2),'name':_0x1cfa42(0x477)},{'category':_0x1cfa42(0x7e2),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x1cfa42(0x7e2),'name':_0x1cfa42(0xa26)},{'category':_0x1cfa42(0x7e2),'name':_0x1cfa42(0x8ae)},{'category':_0x1cfa42(0x7e2),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x1cfa42(0x7e2),'name':_0x1cfa42(0x967)},{'category':_0x1cfa42(0x7e2),'name':_0x1cfa42(0xd74)},{'category':_0x1cfa42(0x7e2),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x1cfa42(0x7e2),'name':_0x1cfa42(0x804)},{'category':_0x1cfa42(0x7e2),'name':_0x1cfa42(0xaec)},{'category':_0x1cfa42(0x7e2),'name':_0x1cfa42(0x232)},{'category':_0x1cfa42(0x7e2),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x1cfa42(0x76f),'name':_0x1cfa42(0xaa5)},{'category':_0x1cfa42(0x76f),'name':_0x1cfa42(0x847)},{'category':_0x1cfa42(0x76f),'name':_0x1cfa42(0xc02)},{'category':_0x1cfa42(0x76f),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x1cfa42(0x76f),'name':_0x1cfa42(0x3c8)},{'category':_0x1cfa42(0x76f),'name':_0x1cfa42(0x9ce)},{'category':_0x1cfa42(0x76f),'name':_0x1cfa42(0x737)},{'category':_0x1cfa42(0x45e),'name':_0x1cfa42(0xe1a)},{'category':_0x1cfa42(0x45e),'name':_0x1cfa42(0x4ba)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1cfa42(0x9f0)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1cfa42(0x928)},{'category':_0x1cfa42(0x45e),'name':_0x1cfa42(0x188)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x1cfa42(0x9a7)},{'category':_0x1cfa42(0x211),'name':_0x1cfa42(0x890)},{'category':_0x1cfa42(0x211),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x1e23dd=_0x1cfa42,_0x53e395=document[_0x1e23dd(0xbf1)](_0x1e23dd(0x611));if(!_0x53e395)return;const _0x212092=allMathTopics,_0x4ac7dd=customMathTopics[_0x1e23dd(0x469)](_0x54763c=>({'id':_0x54763c['id'],'category':'หัวข้อที่สร้างเอง','name':_0x54763c[_0x1e23dd(0x372)]})),_0x2d37a9=[..._0x212092,..._0x4ac7dd],_0x57ace3=_0x2d37a9[_0x1e23dd(0xdbd)]((_0x7b0777,_0x59c361)=>{const _0x41f57f=_0x1e23dd;return!_0x7b0777[_0x59c361[_0x41f57f(0x21d)]]&&(_0x7b0777[_0x59c361[_0x41f57f(0x21d)]]=[]),_0x7b0777[_0x59c361['category']][_0x41f57f(0x229)](_0x59c361),_0x7b0777;},{});let _0x32eb4b='';const _0x2178b5=[_0x1e23dd(0xb62),...Object[_0x1e23dd(0x972)](_0x57ace3)[_0x1e23dd(0x275)](_0x1626e0=>_0x1626e0!==_0x1e23dd(0xb62))];for(const _0x985ae of _0x2178b5){if(_0x57ace3[_0x985ae]){const _0x27e9f3=_0x985ae===_0x1e23dd(0xb62),_0x6cd961=_0x27e9f3?_0x1e23dd(0xa30):_0x1e23dd(0xd39),_0x4f35b1=_0x27e9f3?'text-blue-700':_0x1e23dd(0x3ba);_0x32eb4b+=_0x1e23dd(0x852),_0x32eb4b+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x4f35b1+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x6cd961+_0x1e23dd(0x418)+_0x985ae+_0x1e23dd(0x1e3),_0x57ace3[_0x985ae][_0x1e23dd(0xdac)](_0x234ad7=>{const _0x3c3d35=_0x1e23dd,_0x17ebac=!!_0x234ad7['id'],_0x25f24a=_0x17ebac?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x234ad7['id']+_0x3c3d35(0xbf8)+_0x234ad7['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x234ad7['id']+_0x3c3d35(0x2da)+_0x234ad7['id']+_0x3c3d35(0x746):'';_0x32eb4b+=_0x3c3d35(0x630)+(_0x234ad7['id']||'')+_0x3c3d35(0x4d7)+_0x234ad7[_0x3c3d35(0x372)]+_0x3c3d35(0x2c5)+_0x234ad7[_0x3c3d35(0x372)]+_0x3c3d35(0xa0b)+(_0x17ebac?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x234ad7[_0x3c3d35(0x372)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25f24a+_0x3c3d35(0xa9d);}),_0x32eb4b+=_0x1e23dd(0xcdd);}}_0x53e395[_0x1e23dd(0xcf3)]=_0x32eb4b||_0x1e23dd(0x7e7),_0x53e395[_0x1e23dd(0x85c)](_0x1e23dd(0xa47),updateSelectedTopicsCount),_0x53e395[_0x1e23dd(0x4ef)](_0x1e23dd(0xa47),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x1dbb79,_0x5f3ece){const _0x20437d=_0x1cfa42;if(!_0x1dbb79||!_0x5f3ece['trim']()){showMessage(_0x20437d(0x600));return;}try{const _0x3b9368=doc(db,'artifacts/'+appId+_0x20437d(0x802),_0x1dbb79);await updateDoc(_0x3b9368,{'name':_0x5f3ece[_0x20437d(0xab6)]()}),showMessage(_0x20437d(0x2f8));}catch(_0x174bd3){console[_0x20437d(0x3f5)](_0x20437d(0x421),_0x174bd3),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x5753cb,_0x53f0f0){const _0x4c7883=_0x1cfa42;if(!_0x5753cb)return;const _0xa0ccae=_0x5753cb[_0x4c7883(0x19c)](_0x4c7883(0xe23)),_0x1c90f4=_0x5753cb[_0x4c7883(0x19c)](_0x4c7883(0xabc)),_0x32e6f1=_0x5753cb[_0x4c7883(0x19c)](_0x4c7883(0xa57)),_0x165b70=_0x5753cb[_0x4c7883(0x19c)](_0x4c7883(0x60d));_0xa0ccae[_0x4c7883(0xe06)][_0x4c7883(0xde5)](_0x4c7883(0xa93),_0x53f0f0),_0x1c90f4[_0x4c7883(0xe06)][_0x4c7883(0xde5)]('hidden',!_0x53f0f0),_0x32e6f1[_0x4c7883(0xe06)][_0x4c7883(0xde5)](_0x4c7883(0xa93),_0x53f0f0),_0x165b70['classList'][_0x4c7883(0xde5)]('hidden',!_0x53f0f0),_0x53f0f0&&(_0x1c90f4[_0x4c7883(0x451)](),_0x1c90f4['select']());}async function handleStartLiveRace(_0x1fa82e){const _0x5992eb=_0x1cfa42;let _0x4e39e3=allQuizzes['find'](_0x16b043=>_0x16b043['id']===_0x1fa82e);if(!_0x4e39e3){const _0x4f47e7=doc(db,'artifacts/'+appId+_0x5992eb(0x254),_0x1fa82e),_0x290891=await getDoc(_0x4f47e7);if(!_0x290891['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x4e39e3={'id':_0x290891['id'],..._0x290891[_0x5992eb(0x934)]()};}const _0x3c0e9b=getShuffledQuiz(_0x4e39e3);currentQuizData=_0x3c0e9b;const _0xe1037f=_0x4e39e3[_0x5992eb(0x1cf)]||currentProjectId||null,_0x1d30fc=Math[_0x5992eb(0x74e)](0x3e8+Math[_0x5992eb(0x72a)]()*0x2328)['toString']();currentLiveGamePin=_0x1d30fc;try{const _0x44ee2b=await addDoc(collection(db,_0x5992eb(0x7ff)+appId+_0x5992eb(0x270)),{'quizId':_0x1fa82e,'projectId':_0xe1037f,'status':_0x5992eb(0xded),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1d30fc,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3c0e9b});currentLiveGameId=_0x44ee2b['id'],showAdminLobbyView(_0x1d30fc,_0x4e39e3[_0x5992eb(0x3b7)]),listenForLiveGameUpdates();}catch(_0xd34350){console['error']('Error\x20starting\x20live\x20race:',_0xd34350),showMessage(_0x5992eb(0x703));}}function updateSelectedTopicsCount(){const _0x49524a=_0x1cfa42,_0x5e2abe=document[_0x49524a(0xbf1)]('math-topics-checkbox-container'),_0x58f52d=_0x5e2abe[_0x49524a(0x218)](_0x49524a(0x1f1))['length'],_0x1f610d=document['getElementById']('selected-topics-count');_0x58f52d>0x0?_0x1f610d[_0x49524a(0x617)]='(เลือกแล้ว\x20'+_0x58f52d+_0x49524a(0x9a4):_0x1f610d[_0x49524a(0x617)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1cfa42(0x65e),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x1cfa42(0x7ee),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1cfa42(0x7fc),scratchpadPenColor=_0x1cfa42(0xbc5),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x9540e2,_0x53e9e7){const _0x3fda6c=_0x1cfa42;return Math[_0x3fda6c(0xcc7)](Math[_0x3fda6c(0x2ad)](_0x9540e2['x']-_0x53e9e7['x'],0x2)+Math[_0x3fda6c(0x2ad)](_0x9540e2['y']-_0x53e9e7['y'],0x2));}function getMidpoint(_0x3404d4,_0x31acaf){return{'x':(_0x3404d4['x']+_0x31acaf['x'])/0x2,'y':(_0x3404d4['y']+_0x31acaf['y'])/0x2};}function getTransformedPoint(_0x3280a0,_0x525e49){return{'x':(_0x3280a0-scratchpadOffset['x'])/scratchpadScale,'y':(_0x525e49-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x175169=_0x1cfa42;if(!scratchpadCtx)return;const _0x3cd9b2=scratchpadCtx[_0x175169(0x1e4)],_0x5c418f=window['devicePixelRatio']||0x1,_0x426351=document[_0x175169(0xbf1)](_0x175169(0x391));_0x426351&&(_0x426351['style'][_0x175169(0x569)]=_0x175169(0x3b6),_0x426351[_0x175169(0x403)][_0x175169(0x7a8)]=_0x175169(0x8c3)+scratchpadOffset['x']+_0x175169(0x2d7)+scratchpadOffset['y']+_0x175169(0xdd1)+scratchpadScale+')'),scratchpadCtx[_0x175169(0x42c)](),scratchpadCtx['setTransform'](_0x5c418f,0x0,0x0,_0x5c418f,0x0,0x0),scratchpadCtx[_0x175169(0x493)](0x0,0x0,_0x3cd9b2[_0x175169(0x491)],_0x3cd9b2['height']),scratchpadCtx[_0x175169(0x378)](),scratchpadCtx['save'](),scratchpadCtx[_0x175169(0x697)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x175169(0x4e0)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x1e7aac=>{drawStroke(_0x1e7aac);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x554fc3=_0x1cfa42;if(localQuestionIndex>=currentQuizData[_0x554fc3(0xb0f)][_0x554fc3(0x26d)]){displayTeamQuizFinalResults();return;}const _0x9d6984=currentQuizData['questions'][localQuestionIndex],_0x1a6022=_0x9d6984[_0x554fc3(0xb83)]||currentQuizData[_0x554fc3(0x4c3)];let _0x31553f=_0x9d6984[_0x554fc3(0x826)]||_0x9d6984[_0x554fc3(0x324)],_0x3809db='';switch(_0x1a6022){case _0x554fc3(0x37c):case _0x554fc3(0xa46):_0x3809db=_0x9d6984['options'][_0x554fc3(0x469)]((_0x2b3dd3,_0x1ccc30)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x1ccc30+_0x554fc3(0xdef)+_0x1ccc30+_0x554fc3(0x180)+_0x1ccc30+'\x22>'+_0x2b3dd3+_0x554fc3(0x9b7))[_0x554fc3(0x4ce)]('');break;case'true_false':_0x3809db=_0x554fc3(0xc2f);break;case _0x554fc3(0x944):case _0x554fc3(0x30a):_0x3809db=_0x554fc3(0xd6a);break;case _0x554fc3(0x2bf):_0x3809db=_0x554fc3(0x9fa)+_0x9d6984[_0x554fc3(0xb53)][_0x554fc3(0x469)](_0x1074ca=>_0x554fc3(0x7ce)+_0x1074ca+'\x22>'+_0x1074ca+'</option>')['join']('')+'</select>';break;default:_0x3809db=_0x554fc3(0x7be);break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x554fc3(0xb0f)][_0x554fc3(0x26d)]+_0x554fc3(0xdc6)+localTeamPlayers['join'](',\x20')+_0x554fc3(0xd2e)+(localQuestionIndex+0x1)+'.\x20'+_0x31553f+_0x554fc3(0xc0f)+(_0x9d6984[_0x554fc3(0x50a)]?_0x554fc3(0xc25)+_0x9d6984[_0x554fc3(0x50a)]+_0x554fc3(0xcdd):'')+_0x554fc3(0x240)+_0x3809db+_0x554fc3(0xcd0),studentQuizArea[_0x554fc3(0xe06)][_0x554fc3(0xb55)](_0x554fc3(0xa93));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x554fc3(0xbf1)](_0x554fc3(0x2d0))[_0x554fc3(0x4ef)](_0x554fc3(0x67d),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x40c78c,_0x412dd9=null,_0x568fa5,_0x4a7439=null,_0x2aca26=![],_0x4e6419=null){const _0x3466ac=_0x1cfa42,_0x1cca18=document[_0x3466ac(0xbf1)](_0x3466ac(0xae9));_0x1cca18&&_0x1cca18['scrollIntoView']({'behavior':_0x3466ac(0x79a),'block':_0x3466ac(0x1c8)}),generateQuiz(_0x40c78c,_0x412dd9,null,_0x4e6419,!![],_0x568fa5,_0x4a7439,_0x2aca26);}function handleGenerateAndShowLesson(_0x2dac7d,_0x4d43d3){const _0x27e3b0=_0x1cfa42,_0x5d3866=document['getElementById']('lesson-view-modal'),_0xebf628=document[_0x27e3b0(0xbf1)](_0x27e3b0(0xd8f)),_0x455ab2=document[_0x27e3b0(0xbf1)](_0x27e3b0(0xafa)),_0x493cf2=document['getElementById']('lesson-sections-container');['pointContent',_0x27e3b0(0x405),_0x27e3b0(0x762),_0x27e3b0(0x801)][_0x27e3b0(0xdac)](_0x2fed01=>{const _0x1718b4=_0x27e3b0,_0x25b706=document['getElementById'](_0x2fed01)[_0x1718b4(0x96c)];_0x25b706&&(_0x25b706[_0x1718b4(0x403)][_0x1718b4(0x95f)]=_0x1718b4(0xe13));}),_0xebf628[_0x27e3b0(0x617)]=_0x27e3b0(0x68e)+_0x2dac7d,_0x493cf2[_0x27e3b0(0xe06)]['add'](_0x27e3b0(0xa93)),_0x455ab2['classList']['remove'](_0x27e3b0(0xa93)),_0x5d3866[_0x27e3b0(0xe06)][_0x27e3b0(0xb55)](_0x27e3b0(0xa93)),generateLesson(_0x2dac7d,_0x4d43d3)[_0x27e3b0(0x695)](_0x53adaa=>{const _0x3eda48=_0x27e3b0;console[_0x3eda48(0x3f5)](_0x3eda48(0x281),_0x53adaa),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x5d3866[_0x3eda48(0xe06)][_0x3eda48(0xd5c)](_0x3eda48(0xa93));});}function handlePointerDown(_0x1ee1f2){const _0x3d6908=_0x1cfa42;_0x1ee1f2[_0x3d6908(0x1a1)]();const _0x39bd06=scratchpadCtx[_0x3d6908(0x1e4)],_0x208e7f=_0x39bd06[_0x3d6908(0x31c)](),_0x62fd1c=_0x1ee1f2['pointerType']||(_0x1ee1f2['touches']?_0x3d6908(0x5b9):_0x3d6908(0xb85));if(_0x62fd1c===_0x3d6908(0x7fc)||_0x62fd1c===_0x3d6908(0xb85)){if(_0x1ee1f2['pointerType']===_0x3d6908(0xb85)&&_0x1ee1f2[_0x3d6908(0x1f0)]!==0x0){_0x1ee1f2[_0x3d6908(0x1f0)]===0x1&&(isMousePanning=!![],panStart={'x':_0x1ee1f2[_0x3d6908(0xd3b)],'y':_0x1ee1f2['clientY']},_0x39bd06[_0x3d6908(0x403)][_0x3d6908(0x62c)]=_0x3d6908(0x8a9));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x47c2f6=getTransformedPoint(_0x1ee1f2[_0x3d6908(0xd3b)]-_0x208e7f[_0x3d6908(0xde8)],_0x1ee1f2['clientY']-_0x208e7f[_0x3d6908(0xa7a)]);let _0x400c21={'tool':activeTool,'points':[_0x47c2f6]};if(activeTool===_0x3d6908(0x7fc))_0x400c21[_0x3d6908(0xd66)]=scratchpadPenColor,_0x400c21[_0x3d6908(0x1df)]=scratchpadPenSize;else{if(activeTool===_0x3d6908(0xc92))_0x400c21['color']=scratchpadPenColor,_0x400c21[_0x3d6908(0x1df)]=scratchpadEraserSize;else{if(activeTool==='highlighter')_0x400c21['color']=scratchpadHighlighterColor,_0x400c21[_0x3d6908(0x1df)]=scratchpadHighlighterSize;else activeTool===_0x3d6908(0x1b6)&&(_0x400c21[_0x3d6908(0xd66)]=scratchpadPenColor,_0x400c21[_0x3d6908(0x1df)]=scratchpadPenSize);}}currentStroke=_0x400c21;}else _0x1ee1f2['touches']&&(_0x1ee1f2[_0x3d6908(0x465)][_0x3d6908(0x26d)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1ee1f2[_0x3d6908(0x465)][0x0]['clientX'],'y':_0x1ee1f2[_0x3d6908(0x465)][0x0][_0x3d6908(0xa62)]},{'x':_0x1ee1f2['touches'][0x1][_0x3d6908(0xd3b)],'y':_0x1ee1f2['touches'][0x1][_0x3d6908(0xa62)]}),initialPinchDistance=getDistance({'x':_0x1ee1f2[_0x3d6908(0x465)][0x0][_0x3d6908(0xd3b)],'y':_0x1ee1f2['touches'][0x0][_0x3d6908(0xa62)]},{'x':_0x1ee1f2[_0x3d6908(0x465)][0x1][_0x3d6908(0xd3b)],'y':_0x1ee1f2[_0x3d6908(0x465)][0x1][_0x3d6908(0xa62)]})));}function animateTrail(){const _0x58228d=_0x1cfa42,_0x444a3f=Date['now']();let _0x230a9b=![];for(let _0xb94306=strokes['length']-0x1;_0xb94306>=0x0;_0xb94306--){const _0x50594f=strokes[_0xb94306];if(_0x50594f['tool']==='trail'&&_0x50594f[_0x58228d(0x9e2)]){const _0x377fe1=_0x444a3f-_0x50594f['fadeStartTime'];_0x377fe1>=TRAIL_DURATION?strokes[_0x58228d(0x7d5)](_0xb94306,0x1):(_0x50594f['opacity']=0x1-_0x377fe1/TRAIL_DURATION,_0x230a9b=!![]);}}redrawScratchpad(),_0x230a9b?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x5b1178){const _0x1f4047=_0x1cfa42;if(!_0x5b1178||_0x5b1178[_0x1f4047(0x3e3)][_0x1f4047(0x26d)]<0x1)return;scratchpadCtx[_0x1f4047(0x42c)](),scratchpadCtx[_0x1f4047(0x6f5)]=_0x1f4047(0x8a6),scratchpadCtx[_0x1f4047(0x973)]='round';if(_0x5b1178['tool']==='trail'){const _0x304e1e=_0x5b1178[_0x1f4047(0x1df)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x5b1178[_0x1f4047(0xdd2)]??0x1,scratchpadCtx[_0x1f4047(0x349)]=_0x1f4047(0xd42),scratchpadCtx[_0x1f4047(0x5ec)]=_0x304e1e*0x3,scratchpadCtx[_0x1f4047(0xd90)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x1f4047(0x19a)]=_0x304e1e*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x1f4047(0xde2)](_0x5b1178[_0x1f4047(0x3e3)][0x0]['x'],_0x5b1178[_0x1f4047(0x3e3)][0x0]['y']);for(let _0x398691=0x1;_0x398691<_0x5b1178[_0x1f4047(0x3e3)][_0x1f4047(0x26d)]-0x1;_0x398691++){const _0x1d3fa8=getMidpoint(_0x5b1178[_0x1f4047(0x3e3)][_0x398691],_0x5b1178[_0x1f4047(0x3e3)][_0x398691+0x1]);scratchpadCtx[_0x1f4047(0x1d6)](_0x5b1178[_0x1f4047(0x3e3)][_0x398691]['x'],_0x5b1178[_0x1f4047(0x3e3)][_0x398691]['y'],_0x1d3fa8['x'],_0x1d3fa8['y']);}scratchpadCtx[_0x1f4047(0x855)](),scratchpadCtx['shadowColor']='transparent',scratchpadCtx[_0x1f4047(0x5ec)]=0x0,scratchpadCtx['strokeStyle']=_0x1f4047(0x655),scratchpadCtx[_0x1f4047(0x19a)]=_0x304e1e,scratchpadCtx[_0x1f4047(0x855)](),scratchpadCtx['closePath']();}else{if(_0x5b1178['tool']==='highlighter'){scratchpadCtx[_0x1f4047(0xd3c)]=_0x1f4047(0xad1),scratchpadCtx[_0x1f4047(0xd90)]=_0x5b1178[_0x1f4047(0xd66)],scratchpadCtx[_0x1f4047(0x19a)]=_0x5b1178[_0x1f4047(0x1df)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x5b1178[_0x1f4047(0x3e3)][0x0]['x'],_0x5b1178[_0x1f4047(0x3e3)][0x0]['y']);for(let _0x445d89=0x1;_0x445d89<_0x5b1178['points'][_0x1f4047(0x26d)]-0x1;_0x445d89++){const _0x1620a6=getMidpoint(_0x5b1178[_0x1f4047(0x3e3)][_0x445d89],_0x5b1178['points'][_0x445d89+0x1]);scratchpadCtx[_0x1f4047(0x1d6)](_0x5b1178[_0x1f4047(0x3e3)][_0x445d89]['x'],_0x5b1178[_0x1f4047(0x3e3)][_0x445d89]['y'],_0x1620a6['x'],_0x1620a6['y']);}scratchpadCtx[_0x1f4047(0x855)](),scratchpadCtx[_0x1f4047(0x425)]();}else{scratchpadCtx[_0x1f4047(0xd3c)]=_0x5b1178['tool']===_0x1f4047(0xc92)?'destination-out':_0x1f4047(0x986),scratchpadCtx['strokeStyle']=_0x5b1178[_0x1f4047(0xd66)],scratchpadCtx[_0x1f4047(0x19a)]=_0x5b1178['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x1f4047(0xde2)](_0x5b1178[_0x1f4047(0x3e3)][0x0]['x'],_0x5b1178['points'][0x0]['y']);for(let _0x551a5a=0x1;_0x551a5a<_0x5b1178[_0x1f4047(0x3e3)][_0x1f4047(0x26d)]-0x1;_0x551a5a++){const _0x435890=getMidpoint(_0x5b1178[_0x1f4047(0x3e3)][_0x551a5a],_0x5b1178['points'][_0x551a5a+0x1]);scratchpadCtx[_0x1f4047(0x1d6)](_0x5b1178[_0x1f4047(0x3e3)][_0x551a5a]['x'],_0x5b1178[_0x1f4047(0x3e3)][_0x551a5a]['y'],_0x435890['x'],_0x435890['y']);}scratchpadCtx[_0x1f4047(0x855)](),scratchpadCtx[_0x1f4047(0x425)]();}}scratchpadCtx[_0x1f4047(0x378)]();}function handlePointerMove(_0x46401e){const _0x340c64=_0x1cfa42;_0x46401e[_0x340c64(0x1a1)]();const _0x5a7700=scratchpadCtx[_0x340c64(0x1e4)],_0x5063ef=_0x5a7700[_0x340c64(0x31c)]();if(_0x46401e['touches']){if(_0x46401e[_0x340c64(0x465)][_0x340c64(0x26d)]===0x1&&isDrawingOnScratchpad){const _0x13085b=getTransformedPoint(_0x46401e[_0x340c64(0x465)][0x0]['clientX']-_0x5063ef[_0x340c64(0xde8)],_0x46401e[_0x340c64(0x465)][0x0][_0x340c64(0xa62)]-_0x5063ef[_0x340c64(0xa7a)]);currentStroke[_0x340c64(0x3e3)]['push'](_0x13085b),redrawScratchpad();}else{if(_0x46401e[_0x340c64(0x465)][_0x340c64(0x26d)]===0x2&&isPanning){const _0xc2a0f4=getDistance({'x':_0x46401e['touches'][0x0][_0x340c64(0xd3b)],'y':_0x46401e[_0x340c64(0x465)][0x0][_0x340c64(0xa62)]},{'x':_0x46401e['touches'][0x1][_0x340c64(0xd3b)],'y':_0x46401e['touches'][0x1][_0x340c64(0xa62)]}),_0x526cef=getMidpoint({'x':_0x46401e['touches'][0x0]['clientX'],'y':_0x46401e[_0x340c64(0x465)][0x0]['clientY']},{'x':_0x46401e['touches'][0x1][_0x340c64(0xd3b)],'y':_0x46401e['touches'][0x1][_0x340c64(0xa62)]}),_0x40fc91=_0xc2a0f4/ initialPinchDistance,_0x398b05=Math[_0x340c64(0xa49)](Math[_0x340c64(0x69c)](scratchpadScale*_0x40fc91,MIN_SCALE),MAX_SCALE),_0xc18929=_0x526cef['x']-panStart['x'],_0x4c5ad4=_0x526cef['y']-panStart['y'];scratchpadOffset['x']=_0x526cef['x']-(_0x526cef['x']-scratchpadOffset['x'])*(_0x398b05/scratchpadScale),scratchpadOffset['y']=_0x526cef['y']-(_0x526cef['y']-scratchpadOffset['y'])*(_0x398b05/scratchpadScale),scratchpadOffset['x']+=_0xc18929,scratchpadOffset['y']+=_0x4c5ad4,scratchpadScale=_0x398b05,initialPinchDistance=_0xc2a0f4,panStart=_0x526cef,redrawScratchpad();}}}else{if(isMousePanning){const _0x2aa55d=_0x46401e[_0x340c64(0xd3b)]-panStart['x'],_0x2061f2=_0x46401e[_0x340c64(0xa62)]-panStart['y'];scratchpadOffset['x']+=_0x2aa55d,scratchpadOffset['y']+=_0x2061f2,panStart={'x':_0x46401e[_0x340c64(0xd3b)],'y':_0x46401e['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x35e197=getTransformedPoint(_0x46401e[_0x340c64(0xd3b)]-_0x5063ef['left'],_0x46401e[_0x340c64(0xa62)]-_0x5063ef[_0x340c64(0xa7a)]);currentStroke[_0x340c64(0x3e3)][_0x340c64(0x229)](_0x35e197),redrawScratchpad();}}}}function handlePointerUp(_0x1a093e){const _0x6f1848=_0x1cfa42;_0x1a093e['preventDefault']();const _0x2b5abe=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x2b5abe[_0x6f1848(0x403)][_0x6f1848(0x62c)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x6f1848(0x3e3)][_0x6f1848(0x26d)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x6f1848(0x302)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x55e8ce=_0x6f1848,_0x4f4234=strokes[_0x55e8ce(0x275)](_0x51d399=>_0x51d399['tool']===_0x55e8ce(0x1b6)&&!_0x51d399['fadeStartTime']);if(_0x4f4234['length']>0x0){const _0x41475e=Date['now']();_0x4f4234[_0x55e8ce(0xdac)](_0x2e5c5c=>_0x2e5c5c['fadeStartTime']=_0x41475e),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1c43a0){const _0x5c7ee9=_0x1cfa42;_0x1c43a0[_0x5c7ee9(0x1a1)]();const _0x3247a8=_0x1c43a0[_0x5c7ee9(0x39a)]*-0.005,_0x338b91=Math[_0x5c7ee9(0xa49)](Math[_0x5c7ee9(0x69c)](scratchpadScale+_0x3247a8,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1c43a0[_0x5c7ee9(0xd3b)]-(_0x1c43a0[_0x5c7ee9(0xd3b)]-scratchpadOffset['x'])*(_0x338b91/scratchpadScale),scratchpadOffset['y']=_0x1c43a0[_0x5c7ee9(0xa62)]-(_0x1c43a0['clientY']-scratchpadOffset['y'])*(_0x338b91/scratchpadScale),scratchpadScale=_0x338b91,redrawScratchpad();}function undo(){const _0xb7654b=_0x1cfa42;strokes[_0xb7654b(0x26d)]>0x0&&(redoStrokes[_0xb7654b(0x229)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x436c3e=_0x1cfa42;redoStrokes['length']>0x0&&(strokes[_0x436c3e(0x229)](redoStrokes[_0x436c3e(0x26b)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x5e3829=_0x1cfa42;document['getElementById'](_0x5e3829(0x8d0))[_0x5e3829(0x635)]=strokes[_0x5e3829(0x26d)]===0x0,document[_0x5e3829(0xbf1)]('redo-btn')[_0x5e3829(0x635)]=redoStrokes[_0x5e3829(0x26d)]===0x0;}function openScratchpad(_0x52d68d,_0x3dc685){const _0x1b959d=_0x1cfa42,_0x1f1e5a=document[_0x1b959d(0xbf1)](_0x1b959d(0xd13)),_0x5015b5=document[_0x1b959d(0xbf1)](_0x1b959d(0xdcb)),_0x1628dd=document[_0x1b959d(0xbf1)](_0x1b959d(0xc12)),_0x240a09=document[_0x1b959d(0xbf1)]('scratchpad-controls');_0x5015b5[_0x1b959d(0xcf3)]=_0x52d68d['stem']||_0x52d68d[_0x1b959d(0x324)],_0x1628dd['innerHTML']=_0x3dc685[_0x1b959d(0x469)]((_0x1d6d7f,_0x7f2f94)=>_0x1b959d(0xdf7)+String[_0x1b959d(0x6f0)](0x41+_0x7f2f94)+'.\x20'+_0x1d6d7f+_0x1b959d(0xcdd))['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x1f1e5a[_0x1b959d(0xe06)]['remove'](_0x1b959d(0xa93)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x1b959d(0x6b2)])MathJax[_0x1b959d(0x255)]([_0x5015b5,_0x1628dd]);}function openBlueprintQuizSettings(){const _0x2eba62=_0x1cfa42,_0x1e4cd2=document[_0x2eba62(0xbf1)](_0x2eba62(0x866)),_0x7d13e3=blueprintPageSettings||(currentProjectData?currentProjectData[_0x2eba62(0x607)]:{})||{};document[_0x2eba62(0xbf1)]('bp-modal-quiz-type-select')[_0x2eba62(0x49f)]=_0x7d13e3['quizType']||document[_0x2eba62(0xbf1)](_0x2eba62(0x90d))['value'],document[_0x2eba62(0xbf1)](_0x2eba62(0xd6c))[_0x2eba62(0xcf3)]=document[_0x2eba62(0xbf1)](_0x2eba62(0x246))[_0x2eba62(0xcf3)],document[_0x2eba62(0xbf1)](_0x2eba62(0xd6c))[_0x2eba62(0x49f)]=_0x7d13e3[_0x2eba62(0xcb4)]||document[_0x2eba62(0xbf1)](_0x2eba62(0x246))['value'],document[_0x2eba62(0xbf1)]('bp-modal-question-complexity-select')[_0x2eba62(0xcf3)]=document['getElementById'](_0x2eba62(0xa33))['innerHTML'],document[_0x2eba62(0xbf1)](_0x2eba62(0x4c1))[_0x2eba62(0x49f)]=_0x7d13e3[_0x2eba62(0xce4)]||document[_0x2eba62(0xbf1)](_0x2eba62(0xa33))[_0x2eba62(0x49f)],document[_0x2eba62(0xbf1)](_0x2eba62(0xcd8))[_0x2eba62(0x49f)]=_0x7d13e3[_0x2eba62(0xb5f)]||document['getElementById'](_0x2eba62(0x979))['value'],document[_0x2eba62(0xbf1)](_0x2eba62(0xdea))[_0x2eba62(0x49f)]=_0x7d13e3['passingScore']||document[_0x2eba62(0xbf1)](_0x2eba62(0x8cf))[_0x2eba62(0x49f)],document[_0x2eba62(0xbf1)](_0x2eba62(0x2f7))['value']=_0x7d13e3[_0x2eba62(0x16c)]||document[_0x2eba62(0xbf1)]('num-choices')['value'],document['getElementById']('bp-modal-shuffle-setting-select')[_0x2eba62(0x49f)]=_0x7d13e3['shuffle']||document[_0x2eba62(0xbf1)]('shuffle-setting-select')[_0x2eba62(0x49f)],document[_0x2eba62(0xbf1)]('bp-modal-include-images-checkbox')[_0x2eba62(0x51f)]=_0x7d13e3[_0x2eba62(0xb0e)]||document[_0x2eba62(0xbf1)](_0x2eba62(0xa17))['checked'],_0x1e4cd2[_0x2eba62(0xe06)][_0x2eba62(0xb55)](_0x2eba62(0xa93));}function handleSaveBlueprintPageSettings(){const _0x432021=_0x1cfa42;blueprintPageSettings={'quizType':document[_0x432021(0xbf1)]('bp-modal-quiz-type-select')[_0x432021(0x49f)],'difficultyValue':document[_0x432021(0xbf1)](_0x432021(0xd6c))[_0x432021(0x49f)],'complexityValue':document[_0x432021(0xbf1)](_0x432021(0x4c1))['value'],'numQuestions':document[_0x432021(0xbf1)](_0x432021(0xcd8))['value'],'passingScore':document[_0x432021(0xbf1)](_0x432021(0xdea))[_0x432021(0x49f)],'numChoices':document[_0x432021(0xbf1)]('bp-modal-num-choices')['value'],'shuffle':document[_0x432021(0xbf1)](_0x432021(0x545))[_0x432021(0x49f)],'includeImages':document[_0x432021(0xbf1)]('bp-modal-include-images-checkbox')['checked']},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x432021(0xbf1)]('blueprint-settings-modal')[_0x432021(0xe06)]['add'](_0x432021(0xa93));}function listenForParallelTestShortcuts(){const _0x412b41=_0x1cfa42,_0x734c0f=doc(db,_0x412b41(0xdb5),_0x412b41(0xace));onSnapshot(_0x734c0f,_0x157198=>{const _0x426e04=_0x412b41;let _0x5273c8=[],_0x362522=[],_0x24a7ca={};if(_0x157198[_0x426e04(0x2b1)]()){const _0x30ef9c=_0x157198[_0x426e04(0x934)]();_0x5273c8=_0x30ef9c[_0x426e04(0x6d8)]||[],_0x362522=_0x30ef9c['parallelShortcutTabs']||[],_0x24a7ca=_0x30ef9c[_0x426e04(0xc11)]||{};}!_0x362522[_0x426e04(0x633)](_0x963547=>_0x963547['id']===_0x426e04(0x34e))&&_0x362522[_0x426e04(0x672)]({'id':'all','name':_0x426e04(0x4a3),'isDefault':!![]}),!_0x5273c8['find'](_0x4edcf1=>_0x4edcf1['id']===_0x426e04(0x4e1))&&_0x5273c8[_0x426e04(0x672)]({'id':'parallel-default-1','name':_0x426e04(0x640),'url':'','isDefault':!![]}),!_0x5273c8['find'](_0x1e8017=>_0x1e8017['id']===_0x426e04(0x910))&&_0x5273c8['unshift']({'id':'parallel-default-2','name':_0x426e04(0x437),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x5273c8,parallelShortcutTabs=_0x362522,parallelShortcutOrder=_0x24a7ca,renderParallelTestShortcuts(),!document['getElementById'](_0x426e04(0x3c1))[_0x426e04(0xe06)][_0x426e04(0xbe2)](_0x426e04(0xa93))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x10cda4=_0x1cfa42,_0x15c607=doc(db,_0x10cda4(0xdb5),_0x10cda4(0xace));try{await setDoc(_0x15c607,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x89b739){console[_0x10cda4(0x3f5)](_0x10cda4(0x745),_0x89b739);}}function renderAdditionalParallelShortcutsModal(){const _0xf795d9=_0x1cfa42,_0x7c33fa=document['getElementById'](_0xf795d9(0x95e)),_0x941064=document['getElementById'](_0xf795d9(0xd91));if(!_0x7c33fa||!_0x941064)return;_0x7c33fa[_0xf795d9(0xcf3)]=parallelShortcutTabs[_0xf795d9(0x469)](_0x20db3f=>{const _0x5d7cb6=_0xf795d9,_0x5e4ab3=_0x20db3f['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x20db3f['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x5e4ab3?_0x5d7cb6(0x328):_0x5d7cb6(0x3d1))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x20db3f[_0x5d7cb6(0x372)]+_0x5d7cb6(0x2a3)+_0x20db3f[_0x5d7cb6(0x372)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x20db3f['isDefault']?_0x5d7cb6(0xb4b)+_0x20db3f['id']+_0x5d7cb6(0xb3a):'')+_0x5d7cb6(0x4f3);})['join']('');const _0x2fae12=parallelShortcutTabs[_0xf795d9(0x633)](_0x51cf00=>_0x51cf00['id']===activeParallelShortcutTabId);let _0xbbee86=_0x2fae12?.[_0xf795d9(0x642)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0xf795d9(0x275)](_0x43acdb=>(_0x2fae12?.[_0xf795d9(0x7ad)]||[])[_0xf795d9(0x1ef)](_0x43acdb['id']));const _0x45ee1f=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0xbbee86[_0xf795d9(0x712)]((_0x4e91d3,_0x29911f)=>{const _0x1e7118=_0xf795d9,_0x81c993=_0x45ee1f[_0x1e7118(0x326)](_0x4e91d3['id']),_0x5f5914=_0x45ee1f[_0x1e7118(0x326)](_0x29911f['id']);return(_0x81c993===-0x1?Infinity:_0x81c993)-(_0x5f5914===-0x1?Infinity:_0x5f5914);}),_0x941064[_0xf795d9(0xcf3)]=_0xbbee86['map'](_0x419ffb=>{const _0xe352ff=_0xf795d9,_0x156da4=_0x419ffb[_0xe352ff(0x2eb)]?'🔁':'🔗',_0x2b65b4=parallelShortcutTabs['filter'](_0xb144e1=>!_0xb144e1['isDefault']),_0x4d8804=_0x2fae12['isDefault']&&_0x2b65b4['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b65b4[_0xe352ff(0x469)](_0x22e521=>_0xe352ff(0x5d9)+_0x419ffb['id']+_0xe352ff(0xc44)+_0x22e521['id']+'\x22>'+_0x22e521[_0xe352ff(0x372)]+'</a>')[_0xe352ff(0x4ce)]('')+_0xe352ff(0x88f):'';return _0xe352ff(0x34a)+_0x419ffb['id']+_0xe352ff(0xbd7)+_0x156da4+'\x20'+_0x419ffb[_0xe352ff(0x372)]+_0xe352ff(0x343)+_0x419ffb['id']+_0xe352ff(0xc04)+_0x419ffb['id']+_0xe352ff(0x219)+(!_0x419ffb[_0xe352ff(0x642)]?_0xe352ff(0x251)+_0x419ffb['id']+_0xe352ff(0x7a5):'')+_0xe352ff(0x3a7)+(!_0x2fae12[_0xe352ff(0x642)]?'<button\x20data-shortcut-id=\x22'+_0x419ffb['id']+_0xe352ff(0x7bb):'')+_0xe352ff(0x3a7)+_0x4d8804+_0xe352ff(0x74d);})['join']('')||_0xf795d9(0x810),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x3a2638=_0x1cfa42;document[_0x3a2638(0x218)]('.parallel-shortcut-tab-btn')[_0x3a2638(0xdac)](_0x24e795=>{const _0x41b18a=_0x3a2638;_0x24e795[_0x41b18a(0x1a5)]=_0x24d3b3=>{const _0x572be9=_0x41b18a;activeParallelShortcutTabId=_0x24d3b3[_0x572be9(0xd10)][_0x572be9(0x2b9)][_0x572be9(0xb4d)],renderAdditionalParallelShortcutsModal();},_0x24e795[_0x41b18a(0xa2f)]=_0x4d99f9=>{const _0x2eaa02=_0x41b18a,_0xe7993c=_0x4d99f9[_0x2eaa02(0xd10)]['querySelector']('.tab-name-input');_0x4d99f9['currentTarget'][_0x2eaa02(0x19c)](_0x2eaa02(0xc80))[_0x2eaa02(0xe06)][_0x2eaa02(0xd5c)](_0x2eaa02(0xa93)),_0xe7993c[_0x2eaa02(0xe06)]['remove'](_0x2eaa02(0xa93)),_0xe7993c[_0x2eaa02(0x451)](),_0xe7993c[_0x2eaa02(0x4f4)]();};}),document[_0x3a2638(0x218)](_0x3a2638(0x279))[_0x3a2638(0xdac)](_0xfd6add=>{const _0x4bc931=_0x3a2638,_0xf46c58=()=>{const _0x20af85=_0x5ec1,_0x47a5ca=_0xfd6add[_0x20af85(0xd59)]('.parallel-shortcut-tab-btn')[_0x20af85(0x2b9)][_0x20af85(0xb4d)],_0xb463a8=parallelShortcutTabs['find'](_0x5196b2=>_0x5196b2['id']===_0x47a5ca);_0xb463a8&&(_0xb463a8[_0x20af85(0x372)]=_0xfd6add[_0x20af85(0x49f)][_0x20af85(0xab6)]()||_0xb463a8['name'],saveParallelShortcutConfig());};_0xfd6add[_0x4bc931(0xe24)]=_0xf46c58,_0xfd6add['onkeydown']=_0x2c9509=>{const _0x54d324=_0x4bc931;if(_0x2c9509['key']===_0x54d324(0xbed))_0xfd6add[_0x54d324(0xb84)]();};}),document[_0x3a2638(0x218)]('.delete-parallel-shortcut-tab-btn')[_0x3a2638(0xdac)](_0x2ae96a=>_0x2ae96a['onclick']=_0x5744ac=>{const _0x341716=_0x3a2638,_0x25ef96=_0x5744ac[_0x341716(0xd10)][_0x341716(0x2b9)][_0x341716(0xb4d)];showConfirmation(_0x341716(0x691),()=>{const _0x4a3641=_0x341716;parallelShortcutTabs=parallelShortcutTabs['filter'](_0xa7aed0=>_0xa7aed0['id']!==_0x25ef96),delete parallelShortcutOrder[_0x25ef96];if(activeParallelShortcutTabId===_0x25ef96)activeParallelShortcutTabId=_0x4a3641(0x34e);saveParallelShortcutConfig();});}),document[_0x3a2638(0x218)]('.move-parallel-shortcut-item')[_0x3a2638(0xdac)](_0x469389=>_0x469389[_0x3a2638(0x1a5)]=_0x1c4edf=>{const _0x433e75=_0x3a2638;_0x1c4edf[_0x433e75(0x1a1)]();const {shortcutId:_0x425fe7,targetTabId:_0x41805b}=_0x1c4edf['currentTarget']['dataset'],_0x14c70a=parallelShortcutTabs['find'](_0x3bf024=>_0x3bf024['id']===_0x41805b);_0x14c70a&&!_0x14c70a[_0x433e75(0x7ad)][_0x433e75(0x1ef)](_0x425fe7)&&(_0x14c70a['shortcutIds']['push'](_0x425fe7),saveParallelShortcutConfig());}),document[_0x3a2638(0x218)]('.remove-parallel-shortcut-from-tab-btn')[_0x3a2638(0xdac)](_0x353033=>_0x353033['onclick']=_0x28eacd=>{const _0x414ad3=_0x3a2638,_0x543061=_0x28eacd[_0x414ad3(0xd10)][_0x414ad3(0x2b9)][_0x414ad3(0x76b)],_0x13c4ca=parallelShortcutTabs['find'](_0x3203c6=>_0x3203c6['id']===activeParallelShortcutTabId);_0x13c4ca&&!_0x13c4ca[_0x414ad3(0x642)]&&(_0x13c4ca[_0x414ad3(0x7ad)]=_0x13c4ca[_0x414ad3(0x7ad)][_0x414ad3(0x275)](_0x5df419=>_0x5df419!==_0x543061),saveParallelShortcutConfig());}),document['querySelectorAll']('.move-parallel-shortcut-menu-btn')[_0x3a2638(0xdac)](_0x179daf=>_0x179daf[_0x3a2638(0x1a5)]=_0x202790=>{const _0x4aa764=_0x3a2638;_0x202790[_0x4aa764(0xb7d)]();const _0x321539=_0x202790[_0x4aa764(0xd10)]['nextElementSibling'];document[_0x4aa764(0x218)]('.move-parallel-shortcut-dropdown')[_0x4aa764(0xdac)](_0x5acf4a=>_0x5acf4a[_0x4aa764(0xe06)][_0x4aa764(0xd5c)]('hidden')),_0x321539['classList']['remove'](_0x4aa764(0xa93));});const _0x14928b=document[_0x3a2638(0xbf1)](_0x3a2638(0xd91));let _0x4a5755=null;_0x14928b['ondragstart']=_0x448c10=>{const _0x1e13ff=_0x3a2638;_0x4a5755=_0x448c10[_0x1e13ff(0xa8b)][_0x1e13ff(0xd59)](_0x1e13ff(0x92d));if(_0x4a5755)setTimeout(()=>_0x4a5755[_0x1e13ff(0xe06)][_0x1e13ff(0xd5c)](_0x1e13ff(0xc53)),0x0);},_0x14928b[_0x3a2638(0x43c)]=()=>{const _0x2b28e4=_0x3a2638;_0x4a5755&&(_0x4a5755[_0x2b28e4(0xe06)]['remove'](_0x2b28e4(0xc53)),_0x4a5755=null);},_0x14928b[_0x3a2638(0x947)]=_0x20d285=>{const _0x488fc5=_0x3a2638;_0x20d285[_0x488fc5(0x1a1)]();},_0x14928b['ondrop']=_0x1cd842=>{const _0x2f1577=_0x3a2638;_0x1cd842[_0x2f1577(0x1a1)]();if(_0x4a5755){const _0x5515b2=[..._0x14928b[_0x2f1577(0x218)]('.shortcut-list-item:not(.opacity-50)')][_0x2f1577(0xdbd)]((_0x2f748a,_0x53279d)=>{const _0x329726=_0x2f1577,_0x3b2207=_0x53279d[_0x329726(0x31c)](),_0x38cf5c=_0x1cd842[_0x329726(0xa62)]-_0x3b2207[_0x329726(0xa7a)]-_0x3b2207[_0x329726(0x991)]/0x2;return _0x38cf5c<0x0&&_0x38cf5c>_0x2f748a[_0x329726(0x4a0)]?{'offset':_0x38cf5c,'element':_0x53279d}:_0x2f748a;},{'offset':Number[_0x2f1577(0x70d)]})[_0x2f1577(0xa5e)];_0x5515b2==null?_0x14928b[_0x2f1577(0xc2a)](_0x4a5755):_0x14928b['insertBefore'](_0x4a5755,_0x5515b2);const _0x47e042=[..._0x14928b[_0x2f1577(0x218)]('.shortcut-list-item')][_0x2f1577(0x469)](_0x8b1c03=>_0x8b1c03[_0x2f1577(0x2b9)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x47e042,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x3b5465=_0x1cfa42,_0x15fdc8=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x3b5465(0x347));_0x15fdc8&&_0x15fdc8['trim']()&&(parallelShortcutTabs[_0x3b5465(0x229)]({'id':'tab_'+Date['now'](),'name':_0x15fdc8[_0x3b5465(0xab6)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x1df30d=_0x1cfa42,_0x4f702b=document[_0x1df30d(0xbf1)]('parallel-shortcut-container'),_0x1127db=document[_0x1df30d(0xbf1)](_0x1df30d(0xd91)),_0x1dc27d=document[_0x1df30d(0xbf1)]('parallel-shortcuts-loading-msg');if(_0x1dc27d)_0x1dc27d['classList']['add']('hidden');if(!_0x4f702b||!_0x1127db)return;const _0x2c1389=parallelTestShortcuts['slice'](0x0,0x4),_0x4d563a=parallelTestShortcuts[_0x1df30d(0xa65)](0x4);_0x4f702b[_0x1df30d(0xcf3)]=_0x2c1389['map'](_0x5e7423=>{const _0x3125f8=_0x1df30d,_0x51c7ce=_0x5e7423[_0x3125f8(0x2eb)]&&_0x5e7423[_0x3125f8(0x2eb)]['trim']()!=='',_0x545d6e=_0x51c7ce?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x3125f8(0x7d9),_0x2f0319=_0x51c7ce?'🔁':'🔗',_0x5e59fc=!_0x5e7423['isDefault']?'<button\x20data-id=\x22'+_0x5e7423['id']+_0x3125f8(0x66b):'';return _0x3125f8(0xbd3)+_0x5e7423['id']+_0x3125f8(0x555)+_0x545d6e+_0x3125f8(0xe14)+_0x2f0319+'\x20'+_0x5e7423['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5e7423['id']+_0x3125f8(0x5b3)+_0x5e59fc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1df30d(0x4ce)](''),_0x4d563a[_0x1df30d(0x26d)]>0x0&&(_0x4f702b['innerHTML']+=_0x1df30d(0x6a8)),_0x4d563a[_0x1df30d(0x26d)]>0x0?_0x1127db['innerHTML']=_0x4d563a[_0x1df30d(0x469)](_0x34a3b7=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x34a3b7[_0x1df30d(0x2eb)]?'🔁':'🔗')+'\x20'+_0x34a3b7['name']+_0x1df30d(0x210)+_0x34a3b7['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x34a3b7['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x34a3b7['isDefault']?_0x1df30d(0x251)+_0x34a3b7['id']+_0x1df30d(0x7a5):'')+_0x1df30d(0xa2e))[_0x1df30d(0x4ce)](''):_0x1127db[_0x1df30d(0xcf3)]=_0x1df30d(0xa3b);}function openParallelTestShortcutEditor(_0x4b148d=null){const _0xe8aa77=_0x1cfa42,_0x2148e3=document[_0xe8aa77(0xbf1)](_0xe8aa77(0x23a)),_0x53ae66=document[_0xe8aa77(0xbf1)](_0xe8aa77(0x3fa)),_0x4b5d80=document[_0xe8aa77(0xbf1)](_0xe8aa77(0x8fb)),_0x2cefda=document[_0xe8aa77(0xbf1)](_0xe8aa77(0x231)),_0x5a0153=document[_0xe8aa77(0xbf1)](_0xe8aa77(0x9bf));if(_0x4b148d){const _0x2cf68b=parallelTestShortcuts[_0xe8aa77(0x633)](_0x2f3594=>_0x2f3594['id']===_0x4b148d);if(!_0x2cf68b)return;_0x53ae66[_0xe8aa77(0x617)]=_0xe8aa77(0x89e),_0x4b5d80[_0xe8aa77(0x49f)]=_0x2cf68b['id'],_0x2cefda[_0xe8aa77(0x49f)]=_0x2cf68b[_0xe8aa77(0x372)],_0x5a0153['value']=_0x2cf68b[_0xe8aa77(0x2eb)]||'';}else _0x53ae66['textContent']=_0xe8aa77(0xd4f),_0x4b5d80[_0xe8aa77(0x49f)]='',_0x2cefda[_0xe8aa77(0x49f)]='',_0x5a0153[_0xe8aa77(0x49f)]='';_0x2148e3[_0xe8aa77(0xe06)][_0xe8aa77(0xb55)](_0xe8aa77(0xa93));}async function saveParallelTestShortcutChanges(){const _0x49c571=_0x1cfa42,_0x171176=document[_0x49c571(0xbf1)](_0x49c571(0x8fb))[_0x49c571(0x49f)],_0x3aecd2=document['getElementById'](_0x49c571(0x231))[_0x49c571(0x49f)][_0x49c571(0xab6)](),_0x52c6da=document['getElementById'](_0x49c571(0x9bf))[_0x49c571(0x49f)][_0x49c571(0xab6)]();if(!_0x3aecd2){showMessage(_0x49c571(0xde4));return;}const _0x3a62da={'id':_0x171176||_0x49c571(0x1a7)+Date['now'](),'name':_0x3aecd2,'url':_0x52c6da,'isDefault':_0x171176[_0x49c571(0x5d1)]('parallel-default-')};let _0x88f662;_0x171176?_0x88f662=parallelTestShortcuts[_0x49c571(0x469)](_0x2ee27f=>_0x2ee27f['id']===_0x171176?_0x3a62da:_0x2ee27f):_0x88f662=[...parallelTestShortcuts,_0x3a62da];try{const _0x4fb9eb=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x4fb9eb,{'shortcuts':_0x88f662},{'merge':!![]}),document[_0x49c571(0xbf1)](_0x49c571(0x23a))['classList'][_0x49c571(0xd5c)](_0x49c571(0xa93));}catch(_0x18bd49){console[_0x49c571(0x3f5)]('Error\x20saving\x20parallel\x20shortcut:',_0x18bd49),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x433a89){const _0x5e15bf=_0x1cfa42,_0x59f1ac=parallelTestShortcuts['find'](_0x26dbf8=>_0x26dbf8['id']===_0x433a89);if(!_0x59f1ac)return;if(!_0x59f1ac[_0x5e15bf(0x2eb)]||_0x59f1ac['url'][_0x5e15bf(0xab6)]()===''){openParallelTestShortcutEditor(_0x433a89);return;}const _0x545957=document[_0x5e15bf(0xbf1)](_0x5e15bf(0x962)),_0x36702c=document[_0x5e15bf(0xbf1)](_0x5e15bf(0x5b6));document['getElementById'](_0x5e15bf(0xae9))[_0x5e15bf(0xe06)]['remove'](_0x5e15bf(0xa93)),document[_0x5e15bf(0xbf1)](_0x5e15bf(0x476))['innerHTML']='',_0x545957[_0x5e15bf(0xe06)][_0x5e15bf(0xb55)](_0x5e15bf(0xa93)),_0x36702c[_0x5e15bf(0x617)]=_0x5e15bf(0x71c);try{let _0x43b0df;_0x59f1ac[_0x5e15bf(0x2eb)]['toLowerCase']()[_0x5e15bf(0x1ef)](_0x5e15bf(0x396))?_0x43b0df=_0x5e15bf(0x441):_0x43b0df='source_document.pdf';const _0x269fd6=await fetchFileFromUrl(_0x59f1ac[_0x5e15bf(0x2eb)],_0x43b0df);await handleGenerateParallelTest(_0x269fd6);}catch(_0x5dd35f){console[_0x5e15bf(0x3f5)](_0x5e15bf(0x685),_0x5dd35f),showMessage(_0x5e15bf(0x699)+_0x5dd35f[_0x5e15bf(0x495)]),_0x545957[_0x5e15bf(0xe06)][_0x5e15bf(0xd5c)](_0x5e15bf(0xa93));}}function initializeScratchpadCanvas(){const _0x534dc3=_0x1cfa42,_0x28151b=document['getElementById'](_0x534dc3(0xd8e)),_0x28265a=document[_0x534dc3(0x19c)](_0x534dc3(0x974));if(!_0x28151b||!_0x28265a)return;scratchpadCtx=_0x28151b[_0x534dc3(0x4ea)]('2d',{'willReadFrequently':!![]});const _0x4e2d78=window['devicePixelRatio']||0x1,_0x50339c=_0x28265a[_0x534dc3(0x31c)]();_0x28151b[_0x534dc3(0x491)]=_0x50339c[_0x534dc3(0x491)]*_0x4e2d78,_0x28151b['height']=_0x50339c[_0x534dc3(0x991)]*_0x4e2d78,_0x28151b[_0x534dc3(0x403)][_0x534dc3(0x491)]=_0x50339c[_0x534dc3(0x491)]+'px',_0x28151b[_0x534dc3(0x403)][_0x534dc3(0x991)]=_0x50339c['height']+'px',scratchpadCtx[_0x534dc3(0x4e0)](_0x4e2d78,_0x4e2d78),scratchpadCtx[_0x534dc3(0x6f5)]='round',scratchpadCtx[_0x534dc3(0x973)]='round',_0x28151b[_0x534dc3(0x85c)](_0x534dc3(0xc60),handlePointerDown),_0x28151b[_0x534dc3(0x85c)](_0x534dc3(0xa90),handlePointerMove),_0x28151b[_0x534dc3(0x85c)]('pointerup',handlePointerUp),_0x28151b[_0x534dc3(0x85c)](_0x534dc3(0xde7),handlePointerUp),_0x28151b[_0x534dc3(0x85c)](_0x534dc3(0x237),handleWheel),_0x28151b['removeEventListener']('touchstart',handlePointerDown),_0x28151b['removeEventListener'](_0x534dc3(0xb87),handlePointerMove),_0x28151b[_0x534dc3(0x85c)](_0x534dc3(0x184),handlePointerUp),_0x28151b[_0x534dc3(0x4ef)](_0x534dc3(0xc60),handlePointerDown),_0x28151b[_0x534dc3(0x4ef)](_0x534dc3(0xa90),handlePointerMove),_0x28151b['addEventListener'](_0x534dc3(0x4a8),handlePointerUp),_0x28151b[_0x534dc3(0x4ef)](_0x534dc3(0xde7),handlePointerUp),_0x28151b[_0x534dc3(0x4ef)](_0x534dc3(0x237),handleWheel,{'passive':![]}),_0x28151b[_0x534dc3(0x4ef)](_0x534dc3(0x367),handlePointerDown,{'passive':![]}),_0x28151b['addEventListener'](_0x534dc3(0xb87),handlePointerMove,{'passive':![]}),_0x28151b[_0x534dc3(0x4ef)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x118fda=_0x1cfa42,_0x518ee6=document[_0x118fda(0xbf1)]('scratchpad-modal'),_0x1d1188=document[_0x118fda(0xbf1)](_0x118fda(0x55f));_0x1d1188[_0x118fda(0xcf3)]=_0x118fda(0xad2)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x327b10=document[_0x118fda(0xbf1)]('pen-tool-btn'),_0x2b5b8e=document[_0x118fda(0xbf1)]('eraser-tool-btn'),_0x1c89e1=document[_0x118fda(0xbf1)](_0x118fda(0xbdf)),_0x476128=document['getElementById']('highlighter-tool-btn'),_0x277fd1=document[_0x118fda(0xbf1)](_0x118fda(0x676)),_0xde8f6e=document[_0x118fda(0xbf1)](_0x118fda(0x24b)),_0x56e256=document[_0x118fda(0xbf1)](_0x118fda(0x7dc)),_0xc44edc=[_0x327b10,_0x2b5b8e,_0x1c89e1,_0x476128];document['getElementById'](_0x118fda(0x2aa))['addEventListener'](_0x118fda(0x67d),()=>_0x518ee6['classList']['add']('hidden')),document[_0x118fda(0xbf1)](_0x118fda(0x310))[_0x118fda(0x4ef)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x118fda(0xbf1)](_0x118fda(0x330))[_0x118fda(0x4ef)](_0x118fda(0x67d),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x118fda(0x8d0))[_0x118fda(0x4ef)](_0x118fda(0x67d),undo),document[_0x118fda(0xbf1)](_0x118fda(0xad7))[_0x118fda(0x4ef)](_0x118fda(0x67d),redo);const _0xa2163d=_0x50b248=>{const _0x5e0c0a=_0x118fda;_0xc44edc['forEach'](_0x1b2eb4=>_0x1b2eb4[_0x5e0c0a(0xe06)]['remove'](_0x5e0c0a(0x94c))),_0x50b248[_0x5e0c0a(0xe06)][_0x5e0c0a(0xd5c)]('active'),_0x277fd1['classList'][_0x5e0c0a(0xd5c)](_0x5e0c0a(0xa93)),_0xde8f6e[_0x5e0c0a(0xe06)][_0x5e0c0a(0xd5c)]('hidden'),_0x56e256[_0x5e0c0a(0xe06)]['add'](_0x5e0c0a(0xa93));if(activeTool===_0x5e0c0a(0x7fc)||activeTool===_0x5e0c0a(0x1b6))_0x277fd1[_0x5e0c0a(0xe06)][_0x5e0c0a(0xb55)](_0x5e0c0a(0xa93));else{if(activeTool==='highlighter')_0xde8f6e[_0x5e0c0a(0xe06)][_0x5e0c0a(0xb55)](_0x5e0c0a(0xa93));else activeTool==='eraser'&&_0x56e256['classList'][_0x5e0c0a(0xb55)](_0x5e0c0a(0xa93));}};_0x327b10[_0x118fda(0x4ef)]('click',()=>{const _0x2e8a9e=_0x118fda;activeTool=_0x2e8a9e(0x7fc),_0xa2163d(_0x327b10);}),_0x2b5b8e['addEventListener'](_0x118fda(0x67d),()=>{const _0x27134d=_0x118fda;activeTool=_0x27134d(0xc92),_0xa2163d(_0x2b5b8e);}),_0x1c89e1[_0x118fda(0x4ef)](_0x118fda(0x67d),()=>{const _0x365009=_0x118fda;activeTool=_0x365009(0x1b6),_0xa2163d(_0x1c89e1);}),_0x476128['addEventListener']('click',()=>{const _0x1b59f5=_0x118fda;activeTool=_0x1b59f5(0xce7),_0xa2163d(_0x476128);}),_0x277fd1['querySelectorAll'](_0x118fda(0x3cf))[_0x118fda(0xdac)](_0x53ee14=>{const _0x4d051c=_0x118fda;_0x53ee14['addEventListener'](_0x4d051c(0x67d),_0x2eb687=>{const _0x4a9037=_0x4d051c;scratchpadPenSize=parseInt(_0x2eb687[_0x4a9037(0xa8b)][_0x4a9037(0x2b9)][_0x4a9037(0x1df)],0xa),_0x277fd1['querySelectorAll'](_0x4a9037(0x3cf))['forEach'](_0x16bfc2=>_0x16bfc2['classList'][_0x4a9037(0xb55)](_0x4a9037(0x94c))),_0x2eb687[_0x4a9037(0xa8b)][_0x4a9037(0xe06)][_0x4a9037(0xd5c)](_0x4a9037(0x94c));});}),_0x56e256[_0x118fda(0x218)](_0x118fda(0xc48))[_0x118fda(0xdac)](_0xe6103d=>{const _0x3bbf59=_0x118fda;_0xe6103d['addEventListener'](_0x3bbf59(0x67d),_0x380c04=>{const _0x1575be=_0x3bbf59,_0x3cc6c8=_0x380c04[_0x1575be(0xd10)];scratchpadEraserSize=parseInt(_0x3cc6c8['dataset'][_0x1575be(0x1df)],0xa),_0x56e256[_0x1575be(0x218)](_0x1575be(0xc48))[_0x1575be(0xdac)](_0x4a3064=>_0x4a3064[_0x1575be(0xe06)][_0x1575be(0xb55)](_0x1575be(0x94c))),_0x3cc6c8['classList'][_0x1575be(0xd5c)](_0x1575be(0x94c));});}),_0x277fd1[_0x118fda(0x218)](_0x118fda(0xab3))[_0x118fda(0xdac)](_0x18e8eb=>{const _0x5607f2=_0x118fda;_0x18e8eb[_0x5607f2(0x4ef)]('click',_0x56863f=>{const _0x22be2d=_0x5607f2;scratchpadPenColor=_0x56863f[_0x22be2d(0xa8b)]['dataset'][_0x22be2d(0xd66)],_0x277fd1[_0x22be2d(0x218)](_0x22be2d(0xab3))['forEach'](_0x463ebc=>_0x463ebc[_0x22be2d(0xe06)][_0x22be2d(0xb55)]('active')),_0x56863f[_0x22be2d(0xa8b)][_0x22be2d(0xe06)][_0x22be2d(0xd5c)]('active');});}),_0xde8f6e[_0x118fda(0x218)](_0x118fda(0x6c1))[_0x118fda(0xdac)](_0x48d007=>{const _0x14ae0c=_0x118fda;_0x48d007[_0x14ae0c(0x4ef)](_0x14ae0c(0x67d),_0x4340aa=>{const _0x3b0e13=_0x14ae0c;scratchpadHighlighterColor=_0x4340aa[_0x3b0e13(0xa8b)][_0x3b0e13(0x2b9)][_0x3b0e13(0xd66)],_0xde8f6e[_0x3b0e13(0x218)](_0x3b0e13(0x6c1))[_0x3b0e13(0xdac)](_0x36edd8=>_0x36edd8[_0x3b0e13(0xe06)][_0x3b0e13(0xb55)]('active')),_0x4340aa[_0x3b0e13(0xa8b)][_0x3b0e13(0xe06)][_0x3b0e13(0xd5c)](_0x3b0e13(0x94c));});});const _0x3462a1=document['getElementById'](_0x118fda(0x6da)),_0x2e33e5=document[_0x118fda(0xbf1)](_0x118fda(0x562));_0x3462a1[_0x118fda(0x4ef)]('input',_0x27e53b=>{const _0x3f3ce3=_0x118fda,_0x286d90=parseInt(_0x27e53b[_0x3f3ce3(0xa8b)][_0x3f3ce3(0x49f)],0xa);scratchpadHighlighterSize=_0x286d90,_0x2e33e5[_0x3f3ce3(0x617)]=_0x286d90;}),window[_0x118fda(0x4ef)](_0x118fda(0x97f),()=>{const _0x1b4e49=_0x118fda;!_0x518ee6['classList'][_0x1b4e49(0xbe2)](_0x1b4e49(0xa93))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x1cfa42(0x700),'name':_0x1cfa42(0xcbc),'description':_0x1cfa42(0x2ea),'icon':_0x1cfa42(0x43f)},'QUICK_THINKER':{'id':_0x1cfa42(0xd5a),'name':'เซียนสมองไว','description':_0x1cfa42(0x849),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':'on_fire','name':'ท็อปฟอร์ม','description':_0x1cfa42(0xd11),'icon':_0x1cfa42(0x64f)},'FIRST_TRY_ACE':{'id':_0x1cfa42(0x53c),'name':_0x1cfa42(0xa11),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x1cfa42(0x26c),'name':_0x1cfa42(0x4b9),'description':_0x1cfa42(0x778),'icon':_0x1cfa42(0xabf)},'SPECIALIST':{'id':_0x1cfa42(0xc5e),'name':'ผู้เชี่ยวชาญ','description':_0x1cfa42(0x8dc),'icon':_0x1cfa42(0xb4c)},'PERSEVERANCE':{'id':_0x1cfa42(0xd95),'name':_0x1cfa42(0x9d4),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x1cfa42(0xb45)}},firebaseConfig={'apiKey':_0x1cfa42(0x46b),'authDomain':_0x1cfa42(0xc5d),'projectId':'ai-quiz-app-aefee','storageBucket':_0x1cfa42(0xb3d),'messagingSenderId':_0x1cfa42(0x205),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x1cfa42(0xc19)},appId=typeof __app_id!==_0x1cfa42(0x776)?__app_id:_0x1cfa42(0xd5d),adminView=document[_0x1cfa42(0xbf1)]('admin-view'),studentView=document[_0x1cfa42(0xbf1)]('student-view'),projectDashboardView=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x18c)),projectDetailView=document[_0x1cfa42(0xbf1)](_0x1cfa42(0xb1b)),quizResultsView=document['getElementById'](_0x1cfa42(0x186)),projectList=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x235)),noProjectsMsg=document['getElementById']('no-projects-msg'),projectTitle=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x83c)),projectIdDisplay=document[_0x1cfa42(0xbf1)]('project-id-display'),studentList=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x3b4)),messageModal=document[_0x1cfa42(0xbf1)]('message-modal'),modalMessage=document[_0x1cfa42(0xbf1)](_0x1cfa42(0xb31)),createProjectModal=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x955)),adminPasswordModal=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x70f)),confirmationModal=document['getElementById'](_0x1cfa42(0x366)),userIdDisplay=document[_0x1cfa42(0xbf1)](_0x1cfa42(0xc47)),topicTab=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x64c)),textTab=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x66c)),topicInputArea=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x5cf)),textInputArea=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x36c)),manageTab=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x369)),resultsTab=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x355)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x2bd)),leaderboardTabContent=document['getElementById'](_0x1cfa42(0x4d0)),projectQuizzesList=document[_0x1cfa42(0xbf1)](_0x1cfa42(0xc79)),fileTab=document[_0x1cfa42(0xbf1)]('file-tab'),fileInputArea=document[_0x1cfa42(0xbf1)](_0x1cfa42(0xb35)),fileUploadInput=document['getElementById'](_0x1cfa42(0x2cd)),worksheetTab=document[_0x1cfa42(0xbf1)]('worksheet-tab'),worksheetInputArea=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x976)),generateWorksheetBtn=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x925)),studentInitialView=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x3bd)),studentNameSelectionView=document[_0x1cfa42(0xbf1)]('student-name-selection-view'),studentQuizArea=document[_0x1cfa42(0xbf1)]('student-quiz-area'),studentResultArea=document[_0x1cfa42(0xbf1)]('student-result-area'),studentReadingArea=document[_0x1cfa42(0xbf1)]('student-reading-area'),loadQuizBtn=document['getElementById'](_0x1cfa42(0x2c9)),startQuizBtn=document['getElementById']('start-quiz-btn'),studentJoinGameView=document[_0x1cfa42(0xbf1)](_0x1cfa42(0xd81)),presentationModal=document['getElementById'](_0x1cfa42(0x1f8)),renameQuizModal=document[_0x1cfa42(0xbf1)]('rename-quiz-modal'),moveQuizModal=document[_0x1cfa42(0xbf1)]('move-quiz-modal'),quizSettingsModal=document[_0x1cfa42(0xbf1)](_0x1cfa42(0x3a8)),quizStatusModal=document[_0x1cfa42(0xbf1)]('quiz-status-modal'),liveGameView=document[_0x1cfa42(0xbf1)]('live-game-view');function handleFixLessonLatex(){const _0x28ae04=_0x1cfa42,_0x394a86=document['getElementById'](_0x28ae04(0x98c));if(!_0x394a86){showMessage(_0x28ae04(0xdb2));return;}const _0x5c8b4b=_0x394a86[_0x28ae04(0x218)](['.ai-content\x20p',_0x28ae04(0x988),_0x28ae04(0x81e),_0x28ae04(0x9e9),_0x28ae04(0xde6)][_0x28ae04(0x4ce)](','));let _0x85330e=0x0;const _0xafd92e=_0x2cf62f=>_0x2cf62f[_0x28ae04(0x617)]||'',_0xe2a21a=(_0x3a3e1f,_0x5f210d)=>{const _0x1a4d41=_0x28ae04;if(_0x3a3e1f['querySelector']&&_0x3a3e1f[_0x1a4d41(0x19c)](_0x1a4d41(0x867)))return;_0x3a3e1f[_0x1a4d41(0x617)]=_0x5f210d;},_0x1a3f5e=_0x4877e4=>_0x4877e4[_0x28ae04(0x93c)](/\u00A0/g,'\x20')[_0x28ae04(0x93c)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0xcf630b=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x248ad1=_0x1950d0=>{const _0x5156f3=_0x28ae04;let _0x50c78b=_0x1950d0[_0x5156f3(0xab6)]();const _0x37c903=[_0x5156f3(0x2c8),'dfrac','tfrac',_0x5156f3(0xcc7),_0x5156f3(0x227),_0x5156f3(0xb06),_0x5156f3(0xbf5),_0x5156f3(0xa48),'leq',_0x5156f3(0x1b5),'le','ge',_0x5156f3(0xd99),'pm',_0x5156f3(0xb6b),_0x5156f3(0x4af),_0x5156f3(0xd98),_0x5156f3(0x83f),_0x5156f3(0xc15),'ln',_0x5156f3(0x5cc),_0x5156f3(0x294),'binom',_0x5156f3(0xde8),'right',_0x5156f3(0x1bf),_0x5156f3(0xa6a),_0x5156f3(0x1e0),_0x5156f3(0x2ef)];_0x37c903[_0x5156f3(0xdac)](_0x47c3f1=>{const _0xf2191e=_0x5156f3;_0x50c78b=_0x50c78b[_0xf2191e(0x93c)](new RegExp(_0xf2191e(0x650)+_0x47c3f1+'\x5cb','g'),(_0x1b970d,_0x147e5c)=>_0x147e5c+'\x5c'+_0x47c3f1);});const _0x34fedc=[[/×/g,_0x5156f3(0x77b)],[/·/g,_0x5156f3(0x5ed)],[/÷/g,_0x5156f3(0x4ff)],[/≤/g,_0x5156f3(0x241)],[/≥/g,'\x5cge'],[/≠/g,_0x5156f3(0x3ca)],[/±/g,_0x5156f3(0x422)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x34fedc['forEach'](([_0x3b1e9b,_0x4afcc3])=>{const _0x427938=_0x5156f3;_0x50c78b=_0x50c78b[_0x427938(0x93c)](_0x3b1e9b,_0x4afcc3);}),_0x50c78b=_0x50c78b['replace'](/√\s*([A-Za-z0-9]+)/g,_0x5156f3(0xb5d)),_0x50c78b=_0x50c78b[_0x5156f3(0x93c)](/(\d+)\s*%/g,_0x5156f3(0x226)),_0x50c78b;},_0x59ff1f=_0x302b58=>{const _0x14e82f=_0x28ae04;if(/\$|\\\(|\\\[/[_0x14e82f(0x5a9)](_0x302b58))return _0x302b58;if(!_0xcf630b[_0x14e82f(0x5a9)](_0x302b58))return _0x302b58;const _0x5aa4ab=_0x302b58[_0x14e82f(0x449)](/^\s*/)[0x0],_0x2633fa=_0x302b58['match'](/\s*$/)[0x0],_0x2ea6f3=_0x302b58[_0x14e82f(0xab6)]();return _0x5aa4ab+'$'+_0x248ad1(_0x2ea6f3)+'$'+_0x2633fa;};_0x5c8b4b[_0x28ae04(0xdac)](_0x485ec4=>{const _0x5c5e3a=_0x28ae04,_0x95573c=_0xafd92e(_0x485ec4);let _0x36c304=_0x1a3f5e(_0x95573c);_0x36c304=_0x36c304[_0x5c5e3a(0x93c)](/\$([^$]*?)\$/g,(_0xb17ba,_0xcf25ac)=>'$'+_0x248ad1(_0xcf25ac)+'$');const _0x1d7aa2=_0x36c304['split'](/(\s+)/),_0x4d1098=_0x1d7aa2[_0x5c5e3a(0x469)](_0x582b6b=>{const _0x29331b=_0x5c5e3a;if(/\s+/[_0x29331b(0x5a9)](_0x582b6b))return _0x582b6b;return _0x59ff1f(_0x582b6b);});_0x36c304=_0x4d1098['join'](''),_0x36c304!==_0x95573c&&(_0xe2a21a(_0x485ec4,_0x36c304),_0x85330e++);});if(_0x85330e>0x0){showMessage(_0x28ae04(0x5ee)+_0x85330e+_0x28ae04(0x26a));try{window[_0x28ae04(0x6b2)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x394a86]);}catch(_0x15dedc){console[_0x28ae04(0x3f5)](_0x28ae04(0x3b8),_0x15dedc);}}else showMessage(_0x28ae04(0xd41));}function handleAutoFixLatex(){const _0x20d76e=_0x1cfa42,_0x408f37=document[_0x20d76e(0xbf1)](_0x20d76e(0x98b))||document,_0xb8b4bd=_0x408f37['querySelectorAll'](_0x20d76e(0x69e));let _0x5741ee=0x0;const _0xf17912=_0x4acba8=>'value'in _0x4acba8?String(_0x4acba8[_0x20d76e(0x49f)]):_0x4acba8[_0x20d76e(0x6ef)]!==undefined?_0x4acba8[_0x20d76e(0x6ef)]:_0x4acba8['textContent']||'',_0x32d1d2=(_0x2d3eee,_0x16e3b1)=>{const _0x286a5b=_0x20d76e;if(_0x286a5b(0x49f)in _0x2d3eee){_0x2d3eee[_0x286a5b(0x49f)]=_0x16e3b1;return;}if(_0x2d3eee[_0x286a5b(0x19c)]&&_0x2d3eee[_0x286a5b(0x19c)]('mjx-container'))return;if(_0x2d3eee[_0x286a5b(0x6ef)]!==undefined)_0x2d3eee['innerText']=_0x16e3b1;else _0x2d3eee[_0x286a5b(0x617)]=_0x16e3b1;},_0x5b8b48=_0xff9e0c=>_0xff9e0c[_0x20d76e(0x93c)](/\u00A0/g,'\x20')[_0x20d76e(0x93c)](/\u200B/g,'')[_0x20d76e(0x93c)](/\r\n?/g,'\x0a'),_0x1e8ed5=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x557d23=_0x19517f=>{const _0x366d39=_0x20d76e;let _0x229511=_0x19517f[_0x366d39(0xab6)]();_0x229511=_0x229511[_0x366d39(0x93c)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x366d39(0xb82)),_0x229511=_0x229511[_0x366d39(0x93c)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x200cd3=[_0x366d39(0x2c8),_0x366d39(0xcc7),_0x366d39(0xb06),_0x366d39(0xbf5),_0x366d39(0xa48),_0x366d39(0xd86),_0x366d39(0x1b5),_0x366d39(0xd99),'pm',_0x366d39(0x4af),_0x366d39(0xd98),_0x366d39(0x83f),_0x366d39(0xc15),'ln'];_0x200cd3[_0x366d39(0xdac)](_0x385a1c=>{const _0x408960=_0x366d39;_0x229511=_0x229511[_0x408960(0x93c)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x385a1c+'\x5cb','g'),(_0x48c5ad,_0x8d1909)=>_0x8d1909+'\x5c'+_0x385a1c);});const _0x24864f=[[/×/g,'\x5ctimes'],[/·/g,_0x366d39(0x5ed)],[/÷/g,_0x366d39(0x4ff)],[/≤/g,_0x366d39(0x241)],[/≥/g,'\x5cge'],[/≠/g,_0x366d39(0x3ca)],[/±/g,_0x366d39(0x422)]];return _0x24864f[_0x366d39(0xdac)](([_0x16e2fc,_0x55d04f])=>{_0x229511=_0x229511['replace'](_0x16e2fc,_0x55d04f);}),_0x229511;},_0x2fd9cc=_0x2b9497=>{const _0x380c8a=_0x20d76e;if(/\$|\\\(|\\\[/[_0x380c8a(0x5a9)](_0x2b9497))return _0x2b9497;if(!_0x1e8ed5[_0x380c8a(0x5a9)](_0x2b9497))return _0x2b9497;const _0x5b6f83=_0x2b9497[_0x380c8a(0x449)](/^\s*/)[0x0],_0x190621=_0x2b9497[_0x380c8a(0x449)](/\s*$/)[0x0],_0x4c7896=_0x2b9497['trim']();return _0x5b6f83+'$'+_0x557d23(_0x4c7896)+'$'+_0x190621;};_0xb8b4bd[_0x20d76e(0xdac)](_0x3261e6=>{const _0x1aa184=_0x20d76e,_0x95e2a2=_0xf17912(_0x3261e6);let _0x2334a9=_0x5b8b48(_0x95e2a2);_0x2334a9=_0x2334a9[_0x1aa184(0x93c)](/\$([^$]*?)\$/g,(_0x43ea02,_0x418b4e)=>'$'+_0x557d23(_0x418b4e)+'$');const _0x4c9402=_0x2334a9[_0x1aa184(0x557)](/(\s+)/),_0x2dcb5e=_0x4c9402[_0x1aa184(0x469)](_0x5f02a1=>/\s+/['test'](_0x5f02a1)?_0x5f02a1:_0x2fd9cc(_0x5f02a1));_0x2334a9=_0x2dcb5e[_0x1aa184(0x4ce)](''),_0x2334a9!==_0x95e2a2&&(_0x32d1d2(_0x3261e6,_0x2334a9),_0x5741ee++);});if(_0x5741ee>0x0){showMessage(_0x20d76e(0x16a)+_0x5741ee+_0x20d76e(0xa22));try{if(window['MathJax']&&MathJax[_0x20d76e(0x255)])MathJax[_0x20d76e(0x255)]();}catch(_0x736ac5){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x16d1ea=_0x1cfa42,_0x2d014c=collection(db,'artifacts/'+appId+_0x16d1ea(0x802));onSnapshot(_0x2d014c,_0x51e57c=>{const _0x3cce75=_0x16d1ea;customMathTopics=_0x51e57c[_0x3cce75(0xd24)][_0x3cce75(0x469)](_0x24392f=>({'id':_0x24392f['id'],..._0x24392f['data']()})),renderTopicCheckboxes();},_0x1de2eb=>{const _0x532ced=_0x16d1ea;console[_0x532ced(0x3f5)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x1de2eb);});}function handleSelectAllTopics(){const _0x2233c3=_0x1cfa42,_0x1a5ce9=document[_0x2233c3(0xbf1)](_0x2233c3(0x611)),_0xba25ba=_0x1a5ce9[_0x2233c3(0x218)](_0x2233c3(0x193));_0xba25ba[_0x2233c3(0xdac)](_0x2e8897=>{_0x2e8897['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x17a752=_0x1cfa42,_0x4a10e6=document[_0x17a752(0xbf1)]('math-topics-checkbox-container'),_0xfe9bfa=_0x4a10e6['querySelectorAll'](_0x17a752(0x193));_0xfe9bfa[_0x17a752(0xdac)](_0x3ec065=>{_0x3ec065['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0xd7831f){const _0x391e30=_0x1cfa42;if(!_0xd7831f)return;try{const _0x188875=doc(db,'artifacts/'+appId+_0x391e30(0x802),_0xd7831f);await deleteDoc(_0x188875),showMessage(_0x391e30(0x5e1));}catch(_0x373e9a){console[_0x391e30(0x3f5)](_0x391e30(0x3d9),_0x373e9a),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x580b4a=_0x1cfa42,_0x7793cd=document[_0x580b4a(0xbf1)](_0x580b4a(0x990)),_0x2f9833=_0x7793cd[_0x580b4a(0x49f)][_0x580b4a(0xab6)]();if(!_0x2f9833){showMessage(_0x580b4a(0x29e));return;}if(!userId){showMessage(_0x580b4a(0x28e));return;}try{const _0xdc774e=collection(db,_0x580b4a(0x7ff)+appId+_0x580b4a(0x802));await addDoc(_0xdc774e,{'name':_0x2f9833,'createdAt':serverTimestamp()}),_0x7793cd[_0x580b4a(0x49f)]='',showMessage(_0x580b4a(0x472)+_0x2f9833+'\x22\x20สำเร็จ');}catch(_0x2f7f71){console[_0x580b4a(0x3f5)](_0x580b4a(0x993),_0x2f7f71),showMessage(_0x580b4a(0x3db));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x57bdaf=_0x5ec1,_0x398074=document[_0x57bdaf(0xbf1)](_0x57bdaf(0x962)),_0x555deb=document[_0x57bdaf(0xbf1)]('loader-text'),_0x51b57d=_0x555deb[_0x57bdaf(0x617)];_0x398074['classList'][_0x57bdaf(0xb55)](_0x57bdaf(0xa93)),_0x555deb['textContent']=_0x57bdaf(0x5a6);try{const _0x1fe724=collection(db,_0x57bdaf(0x7ff)+appId+_0x57bdaf(0x254)),_0x4cc15a=await getDocs(_0x1fe724);if(_0x4cc15a['empty']){showMessage(_0x57bdaf(0x384));return;}const _0xd92643=writeBatch(db);let _0x44799a=0x0;_0x4cc15a[_0x57bdaf(0xdac)](_0x5ca8c0=>{const _0x1f4fe4=_0x57bdaf,_0x1020fc=_0x5ca8c0['data'](),_0x204bca=_0x5ca8c0['id'];if(_0x1020fc['questions']&&_0x1020fc[_0x1f4fe4(0xb0f)]['length']>0x0&&!_0x1020fc[_0x1f4fe4(0xb0f)][0x0][_0x1f4fe4(0xbf9)]('id')){console[_0x1f4fe4(0xc15)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x204bca+'\x20('+_0x1020fc[_0x1f4fe4(0x3b7)]+')'),_0x44799a++;const _0x1b13a5=_0x1020fc['questions'][_0x1f4fe4(0x469)]((_0x4ce642,_0x39038a)=>{const _0x3538b6=_0x1f4fe4;return{..._0x4ce642,'id':_0x4ce642['id']||'q_'+Date[_0x3538b6(0x24a)]()+'_'+_0x204bca+'_'+_0x39038a};}),_0x270ed0=doc(db,'artifacts/'+appId+_0x1f4fe4(0x254),_0x204bca);_0xd92643[_0x1f4fe4(0x942)](_0x270ed0,{'questions':_0x1b13a5});}}),_0x44799a>0x0?(_0x555deb['textContent']=_0x57bdaf(0x2ed)+_0x44799a+_0x57bdaf(0x8fd),await _0xd92643[_0x57bdaf(0x735)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x44799a+'\x20รายการสำเร็จ!')):showMessage(_0x57bdaf(0xaaf));}catch(_0x38ef26){console[_0x57bdaf(0x3f5)]('Error\x20updating\x20old\x20quizzes:',_0x38ef26),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x38ef26['message']);}finally{_0x398074[_0x57bdaf(0xe06)][_0x57bdaf(0xd5c)](_0x57bdaf(0xa93)),_0x555deb['textContent']=_0x51b57d;}});}async function handleBulkUpdateQuizSettings(){const _0x5c4e1a=_0x1cfa42,_0x133e0b={'shuffle':document[_0x5c4e1a(0xbf1)]('bulk-shuffle-select')[_0x5c4e1a(0x49f)],'resultsDisplay':document['getElementById']('bulk-results-display-select')['value'],'loopUntilPass':document[_0x5c4e1a(0xbf1)](_0x5c4e1a(0x467))[_0x5c4e1a(0x51f)],'isConfidenceScoringEnabled':document[_0x5c4e1a(0xbf1)]('bulk-confidence-scoring-checkbox')['checked'],'confidenceMode':document[_0x5c4e1a(0xbf1)](_0x5c4e1a(0xa2c))[_0x5c4e1a(0x49f)]};try{showMessage(_0x5c4e1a(0x2cf));const _0x160867=await getDocs(collection(db,_0x5c4e1a(0x7ff)+appId+_0x5c4e1a(0x254))),_0x2afa5a=_0x160867[_0x5c4e1a(0xd24)][_0x5c4e1a(0x469)](_0x1242b3=>({'id':_0x1242b3['id'],'data':_0x1242b3[_0x5c4e1a(0x934)]()})),_0x26e92f=_0x2afa5a['length'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x26e92f+_0x5c4e1a(0x7ca),async()=>{const _0x5cec72=_0x5c4e1a,_0x56397d=document[_0x5cec72(0xbf1)]('confirm-bulk-quiz-settings-btn');_0x56397d[_0x5cec72(0x635)]=!![],_0x56397d[_0x5cec72(0xcf3)]=_0x5cec72(0xd62);try{const _0x4d2b70=writeBatch(db);_0x2afa5a[_0x5cec72(0xdac)](_0x251c08=>{const _0x4d0ff0=_0x5cec72,_0x2f2d60=doc(db,_0x4d0ff0(0x7ff)+appId+'/public/data/quizzes',_0x251c08['id']),_0x1610aa={..._0x251c08[_0x4d0ff0(0x934)][_0x4d0ff0(0x607)]||{},..._0x133e0b};_0x4d2b70[_0x4d0ff0(0x942)](_0x2f2d60,{'settings':_0x1610aa});}),await _0x4d2b70[_0x5cec72(0x735)](),document['getElementById'](_0x5cec72(0x2ec))[_0x5cec72(0xe06)][_0x5cec72(0xd5c)](_0x5cec72(0xa93)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x26e92f+_0x5cec72(0x3f6));}catch(_0x356516){console[_0x5cec72(0x3f5)](_0x5cec72(0x25c),_0x356516),showMessage(_0x5cec72(0x62e));}finally{_0x56397d[_0x5cec72(0x635)]=![],_0x56397d[_0x5cec72(0xcf3)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x379284){console[_0x5c4e1a(0x3f5)](_0x5c4e1a(0xbbb),_0x379284),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x3c730e=_0x1cfa42,_0x22e774=document[_0x3c730e(0xbf1)](_0x3c730e(0x83c)),_0x12ff93=document[_0x3c730e(0xbf1)]('save-project-name-btn'),_0xdccfa5=_0x22e774[_0x3c730e(0x617)][_0x3c730e(0xab6)]();if(!_0xdccfa5||!currentProjectId){showMessage(_0x3c730e(0x4c0)),_0x22e774[_0x3c730e(0x617)]=currentProjectData[_0x3c730e(0x19e)];return;}_0x12ff93[_0x3c730e(0x635)]=!![],_0x12ff93[_0x3c730e(0xcf3)]=_0x3c730e(0x5c7);try{const _0x112f9b=doc(db,_0x3c730e(0x7ff)+appId+_0x3c730e(0xcc5),currentProjectId);await updateDoc(_0x112f9b,{'projectName':_0xdccfa5}),currentProjectData&&(currentProjectData['projectName']=_0xdccfa5),showMessage(_0x3c730e(0x7e0));}catch(_0x5522e4){console[_0x3c730e(0x3f5)]('Error\x20updating\x20project\x20name:',_0x5522e4),showMessage(_0x3c730e(0x841)),_0x22e774['textContent']=currentProjectData[_0x3c730e(0x19e)];}finally{_0x12ff93[_0x3c730e(0xe06)][_0x3c730e(0xd5c)](_0x3c730e(0xa93)),_0x12ff93[_0x3c730e(0x635)]=![],_0x12ff93[_0x3c730e(0xcf3)]=_0x3c730e(0x8ec);}}function handleGeneratePracticeTest(_0x59a753,_0x49c045){const _0x33cc95=_0x1cfa42,_0x3567f9=document[_0x33cc95(0xbf1)]('lesson-view-modal'),_0xc1d1b=document[_0x33cc95(0xbf1)](_0x33cc95(0xd8f)),_0x258b4b=document[_0x33cc95(0xbf1)]('lesson-loader'),_0x319614=document[_0x33cc95(0xbf1)](_0x33cc95(0xcd1));_0xc1d1b[_0x33cc95(0x617)]=_0x33cc95(0xbe0)+_0x59a753,_0x319614[_0x33cc95(0xe06)]['add'](_0x33cc95(0xa93)),_0x258b4b[_0x33cc95(0xe06)][_0x33cc95(0xb55)]('hidden'),_0x3567f9[_0x33cc95(0xe06)][_0x33cc95(0xb55)]('hidden'),generatePracticeTest(_0x59a753,_0x49c045)[_0x33cc95(0x695)](_0x457e1d=>{const _0x273284=_0x33cc95;console[_0x273284(0x3f5)]('Failed\x20to\x20generate\x20practice\x20test:',_0x457e1d),showMessage(_0x273284(0xc07)),_0x3567f9[_0x273284(0xe06)]['add'](_0x273284(0xa93));});}async function generatePracticeTest(_0x5059b3,_0x1aae07){const _0xaf7c91=_0x1cfa42;[_0xaf7c91(0x29c),'memoryContent',_0xaf7c91(0x762),'summaryContent'][_0xaf7c91(0xdac)](_0x1c0b13=>{const _0x1701c5=_0xaf7c91,_0x5e0715=document['getElementById'](_0x1c0b13)[_0x1701c5(0x96c)];_0x5e0715&&(_0x5e0715[_0x1701c5(0x403)][_0x1701c5(0x95f)]=_0x1701c5(0xade));});try{const _0x3233eb=_0xaf7c91(0x2ba),_0x41257a='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x1aae07+_0xaf7c91(0x244)+_0x5059b3+_0xaf7c91(0xabd),_0x2c0e83=await callGemini(_0x41257a,!![]),_0x8b57ad=document[_0xaf7c91(0xbf1)](_0xaf7c91(0xd8f)),_0x5212a4=document[_0xaf7c91(0xbf1)](_0xaf7c91(0xafa)),_0x24723d=document[_0xaf7c91(0xbf1)](_0xaf7c91(0xcd1)),_0x4a952c=document[_0xaf7c91(0xbf1)]('applicationContent')[_0xaf7c91(0x96c)];_0x8b57ad[_0xaf7c91(0x6ef)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x5059b3['replace'](/•\s/g,'')+_0xaf7c91(0x4ec)+_0x1aae07+')',currentApplicationData=JSON['parse'](_0x2c0e83);const _0xf9a314=document[_0xaf7c91(0xbf1)](_0xaf7c91(0x762));_0xf9a314[_0xaf7c91(0xcf3)]=currentApplicationData['map']((_0x206321,_0x262458)=>_0xaf7c91(0xc17)+(_0x262458+0x1)+'.\x20'+marked[_0xaf7c91(0x8ba)](_0x206321[_0xaf7c91(0x7bc)])+_0xaf7c91(0x2bb)+_0x262458+_0xaf7c91(0x9c2)+_0x206321[_0xaf7c91(0x9e4)][_0xaf7c91(0x469)]((_0x186a60,_0x5ccb86)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x262458+',\x20'+_0x5ccb86+_0xaf7c91(0x9dd)+String['fromCharCode'](0x61+_0x5ccb86)+'.\x20'+marked[_0xaf7c91(0x8ba)](_0x186a60)+_0xaf7c91(0x248))[_0xaf7c91(0x4ce)]('')+_0xaf7c91(0xa2e))[_0xaf7c91(0x4ce)](''),window[_0xaf7c91(0x6b2)]&&MathJax[_0xaf7c91(0x255)]([_0xf9a314]),_0x4a952c&&(_0x4a952c[_0xaf7c91(0x403)]['display']='block'),_0x5212a4['classList']['add'](_0xaf7c91(0xa93)),_0x24723d[_0xaf7c91(0xe06)][_0xaf7c91(0xb55)](_0xaf7c91(0xa93));}catch(_0x179ffd){console[_0xaf7c91(0x3f5)](_0x179ffd);throw _0x179ffd;}}async function callGemini(_0x172b0a,_0x49938f=![]){const _0x48bc96=_0x1cfa42,_0x2cbcd4=_0x48bc96(0xb92),_0x2e5197=_0x48bc96(0x5b4)+_0x2cbcd4,_0x3a51b8={'contents':[{'parts':[{'text':_0x172b0a}]}]};_0x49938f&&(_0x3a51b8['generationConfig']={'responseMimeType':'application/json'},_0x172b0a[_0x48bc96(0x1ef)](_0x48bc96(0x406))?_0x3a51b8[_0x48bc96(0xbcf)][_0x48bc96(0x9a5)]={'type':_0x48bc96(0xc68),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x48bc96(0x1d5),'items':{'type':_0x48bc96(0xc68),'properties':{'sara':{'type':_0x48bc96(0xe19)},'mainTopics':{'type':_0x48bc96(0x1d5),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x48bc96(0xe19)},'subTopics':{'type':_0x48bc96(0x1d5),'items':{'type':_0x48bc96(0xe19)}}},'required':[_0x48bc96(0xbfe),_0x48bc96(0xcdc)]}}},'required':[_0x48bc96(0xa54),_0x48bc96(0x574)]}}},'required':[_0x48bc96(0xd2c),'curriculum']}:_0x3a51b8[_0x48bc96(0xbcf)][_0x48bc96(0x9a5)]={'type':_0x48bc96(0x1d5),'items':{'type':_0x48bc96(0xc68),'properties':{'question':{'type':_0x48bc96(0xe19)},'options':{'type':_0x48bc96(0x1d5),'items':{'type':_0x48bc96(0xe19)}},'answer':{'type':_0x48bc96(0xba6)}},'required':[_0x48bc96(0x7bc),_0x48bc96(0x9e4),'answer']}});try{const _0x5dfec1=await fetch(_0x2e5197,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x3a51b8)});if(!_0x5dfec1['ok']){const _0x267375=await _0x5dfec1['text']();console[_0x48bc96(0x3f5)]('API\x20Error\x20Body:',_0x267375);throw new Error(_0x48bc96(0x85e)+_0x5dfec1[_0x48bc96(0x657)]);}const _0x49ee66=await _0x5dfec1[_0x48bc96(0x2f4)]();if(_0x49ee66[_0x48bc96(0x4a1)]&&_0x49ee66[_0x48bc96(0x4a1)][0x0][_0x48bc96(0x684)]&&_0x49ee66[_0x48bc96(0x4a1)][0x0][_0x48bc96(0x684)]['parts'][0x0])return _0x49ee66['candidates'][0x0][_0x48bc96(0x684)][_0x48bc96(0x9f8)][0x0]['text'];else{console[_0x48bc96(0x3f5)](_0x48bc96(0x260),_0x49ee66);if(_0x49ee66[_0x48bc96(0x4a1)]&&_0x49ee66['candidates'][0x0][_0x48bc96(0x3f3)]===_0x48bc96(0xb2a))return JSON[_0x48bc96(0x2a1)]({'error':_0x48bc96(0xd1a)});throw new Error(_0x48bc96(0x44d));}}catch(_0xbaa026){console['error'](_0x48bc96(0x9ac),_0xbaa026);throw _0xbaa026;}}async function generateLesson(_0x38a905=null,_0x5c0416=null){const _0x3e77e7=_0x1cfa42,_0x6245c8=_0x38a905,_0x32748c=_0x5c0416||_0x3e77e7(0x970),_0x2ca928=document[_0x3e77e7(0xbf1)](_0x3e77e7(0xafa)),_0x25c64c=document['getElementById']('lesson-loader-text');_0x25c64c[_0x3e77e7(0x617)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x6245c8+_0x3e77e7(0x2ac);try{let _0x2325bc=[];const _0x1fc21b=document[_0x3e77e7(0xbf1)](_0x3e77e7(0x30b))?.[_0x3e77e7(0x49f)][_0x3e77e7(0xab6)]();if(_0x1fc21b)try{_0x25c64c[_0x3e77e7(0x617)]=_0x3e77e7(0x4a5);const _0x2cd4d8=await fetchFileFromUrl(_0x1fc21b,_0x3e77e7(0xc98)),_0x242e1d=await new Promise((_0x408e39,_0x22dc2e)=>{const _0x757b60=_0x3e77e7,_0x3215ac=new FileReader();_0x3215ac['readAsDataURL'](_0x2cd4d8),_0x3215ac[_0x757b60(0xe0a)]=()=>_0x408e39(_0x3215ac[_0x757b60(0xc26)][_0x757b60(0x557)](',')[0x1]),_0x3215ac[_0x757b60(0x3bb)]=_0x22dc2e;});_0x2325bc['push']({'inlineData':{'mimeType':_0x2cd4d8[_0x3e77e7(0x8e8)],'data':_0x242e1d}});}catch(_0x103856){console['error'](_0x3e77e7(0xd82),_0x103856),showMessage(_0x3e77e7(0x33b));}const _0x53611d=_0x3e77e7(0x694)+_0x6245c8+_0x3e77e7(0xbd2)+_0x6245c8+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x25c64c[_0x3e77e7(0x617)]=_0x3e77e7(0xbff)+_0x6245c8+_0x3e77e7(0x2ac);const _0x324718='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x32748c+'\x27\x20ในหัวข้อ\x20\x27'+_0x6245c8+_0x3e77e7(0x5d2)+_0x53611d+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0xb021ff=_0x3e77e7(0x580)+_0x6245c8+_0x3e77e7(0x2db)+_0x32748c+_0x3e77e7(0xd53)+_0x53611d+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x29c66e=_0x3e77e7(0xce5)+_0x32748c+_0x3e77e7(0x244)+_0x6245c8+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x53611d+_0x3e77e7(0xe27),_0x263710=_0x3e77e7(0x9eb)+_0x6245c8+_0x3e77e7(0x8f5)+_0x32748c+_0x3e77e7(0x81b)+_0x53611d+_0x3e77e7(0xb9f),_0x4294b5={'type':_0x3e77e7(0x1d5),'items':{'type':_0x3e77e7(0xc68),'properties':{'question':{'type':_0x3e77e7(0xe19)},'options':{'type':_0x3e77e7(0x1d5),'items':{'type':_0x3e77e7(0xe19)}},'answer':{'type':_0x3e77e7(0xba6)}},'required':['question',_0x3e77e7(0x9e4),_0x3e77e7(0x7d8)]}},[_0x31edfa,_0x5b4ae2,_0x57e95f,_0x20b9dd]=await Promise[_0x3e77e7(0x34e)]([handleApiCall([{'text':_0x324718},..._0x2325bc],_0x3e77e7(0x693),null,null,![]),handleApiCall([{'text':_0xb021ff},..._0x2325bc],'...',null,null,![]),handleApiCall([{'text':_0x29c66e},..._0x2325bc],_0x3e77e7(0x693),_0x4294b5,null,![]),handleApiCall([{'text':_0x263710},..._0x2325bc],'...',null,null,![])]),_0x597dcc=JSON[_0x3e77e7(0x2a1)](_0x57e95f||[]),_0x4d22ad=document[_0x3e77e7(0xbf1)](_0x3e77e7(0xd8f)),_0xb19f2b=document['getElementById'](_0x3e77e7(0xcd1));_0x4d22ad[_0x3e77e7(0x6ef)]=_0x3e77e7(0x380)+_0x6245c8[_0x3e77e7(0x93c)](/•\\s/g,'')+_0x3e77e7(0x4ec)+_0x32748c+')',['pointContent',_0x3e77e7(0x405),'summaryContent'][_0x3e77e7(0xdac)](_0x53cfa0=>{const _0x1fb0f4=_0x3e77e7;document[_0x1fb0f4(0xbf1)](_0x53cfa0)[_0x1fb0f4(0xcf3)]='';}),document[_0x3e77e7(0xbf1)](_0x3e77e7(0x29c))['innerHTML']=_0x31edfa?marked[_0x3e77e7(0xba3)](_0x31edfa):_0x3e77e7(0xda2),document[_0x3e77e7(0xbf1)](_0x3e77e7(0x405))[_0x3e77e7(0xcf3)]=_0x5b4ae2?marked[_0x3e77e7(0xba3)](_0x5b4ae2):_0x3e77e7(0xda2),document['getElementById'](_0x3e77e7(0x801))[_0x3e77e7(0xcf3)]=_0x20b9dd?marked[_0x3e77e7(0xba3)](_0x20b9dd):_0x3e77e7(0xda2),currentApplicationData=JSON['parse'](_0x597dcc);const _0x1d9a90=document[_0x3e77e7(0xbf1)](_0x3e77e7(0x762));_0x1d9a90[_0x3e77e7(0xcf3)]=(currentApplicationData||[])[_0x3e77e7(0x469)]((_0x2bdbb0,_0x22b3a1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x22b3a1+0x1)+'.\x20'+marked['parseInline'](_0x2bdbb0[_0x3e77e7(0x7bc)]||'')+_0x3e77e7(0x2bb)+_0x22b3a1+_0x3e77e7(0x9c2)+(_0x2bdbb0[_0x3e77e7(0x9e4)]||[])[_0x3e77e7(0x469)]((_0x5c629b,_0x3e1835)=>_0x3e77e7(0xb10)+_0x22b3a1+',\x20'+_0x3e1835+_0x3e77e7(0x9dd)+String['fromCharCode'](0x61+_0x3e1835)+'.\x20'+marked['parseInline'](_0x5c629b||'')+_0x3e77e7(0x248))[_0x3e77e7(0x4ce)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3e77e7(0x4ce)]('')||_0x3e77e7(0x6e5),window[_0x3e77e7(0x6b2)]&&MathJax[_0x3e77e7(0x255)]([_0xb19f2b]),_0x2ca928[_0x3e77e7(0xe06)][_0x3e77e7(0xd5c)](_0x3e77e7(0xa93)),_0xb19f2b[_0x3e77e7(0xe06)][_0x3e77e7(0xb55)](_0x3e77e7(0xa93));}catch(_0xb4e474){console[_0x3e77e7(0x3f5)](_0xb4e474);throw _0xb4e474;}}function checkAnswer(_0x3e81d0,_0x1a0ae5){const _0x462b91=_0x1cfa42,_0x5b7825=currentApplicationData[_0x3e81d0],_0x4b995c=document[_0x462b91(0xbf1)]('q'+_0x3e81d0+_0x462b91(0x16d)),_0x28385e=_0x4b995c[_0x462b91(0x46e)](_0x462b91(0x1f0));for(let _0x5a07c2 of _0x28385e){_0x5a07c2[_0x462b91(0x635)]=!![];}_0x1a0ae5===_0x5b7825['answer']?_0x28385e[_0x1a0ae5][_0x462b91(0xe06)]['add'](_0x462b91(0x4f6)):(_0x28385e[_0x1a0ae5][_0x462b91(0xe06)][_0x462b91(0xd5c)](_0x462b91(0xc8d)),_0x28385e[_0x5b7825[_0x462b91(0x7d8)]]['classList']['add'](_0x462b91(0x4f6)));}window[_0x1cfa42(0x21c)]=handleGenerateAndShowLesson,window[_0x1cfa42(0xd2f)]=checkAnswer,window[_0x1cfa42(0xd58)]=handleGeneratePracticeTest,window[_0x1cfa42(0x36e)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x2f6626=_0x1cfa42;try{const _0x5bf11c=initializeApp(firebaseConfig);db=getFirestore(_0x5bf11c),auth=getAuth(_0x5bf11c),setupAuthListener(),setupEventListeners(),showView(_0x2f6626(0x65e)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x521ff6){console[_0x2f6626(0x3f5)]('Firebase\x20initialization\x20failed:',_0x521ff6),showMessage(_0x2f6626(0xd34));}}async function handleVerifyAnswersInEditor(){const _0x9a0f35=_0x1cfa42,_0x23ce55=document[_0x9a0f35(0xbf1)](_0x9a0f35(0x1da));if(!_0x23ce55)return;const _0x3ab3fa=document[_0x9a0f35(0xbf1)]('verify-answers-editor-btn');_0x3ab3fa[_0x9a0f35(0x635)]=!![],_0x3ab3fa[_0x9a0f35(0xcf3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x291416=_0x23ce55[_0x9a0f35(0x218)](_0x9a0f35(0xb30)),_0x348d4c=Array['from'](_0x291416)['map']((_0x45a33a,_0x1ec3ac)=>{const _0x23c643=_0x9a0f35,_0x24a0a2=_0x45a33a[_0x23c643(0x2b9)]['qType'],_0x55f088=_0x45a33a[_0x23c643(0x19c)](_0x23c643(0x795))['value'];let _0x229cb0=null,_0x1b1a09='';switch(_0x24a0a2){case _0x23c643(0x37c):const _0x160f8a=_0x45a33a[_0x23c643(0x218)](_0x23c643(0xbbc));_0x229cb0=Array[_0x23c643(0xae1)](_0x160f8a)['map'](_0x321b59=>_0x321b59[_0x23c643(0x49f)]);const _0x4b6b9b=_0x45a33a[_0x23c643(0x19c)](_0x23c643(0xb6a));_0x4b6b9b&&(_0x1b1a09=_0x229cb0[parseInt(_0x4b6b9b['value'])]);break;case'short_answer':_0x229cb0=[],_0x1b1a09=_0x45a33a[_0x23c643(0x19c)]('.ideal-answer-input')[_0x23c643(0x49f)];break;case _0x23c643(0x1cb):_0x229cb0=[_0x23c643(0x93f),_0x23c643(0x39d)];const _0x4bc83b=_0x45a33a[_0x23c643(0x19c)](_0x23c643(0xb6a));_0x1b1a09=_0x4bc83b?_0x4bc83b[_0x23c643(0x49f)]:'';break;case _0x23c643(0x2bf):_0x229cb0=[],_0x1b1a09=_0x45a33a['querySelector']('.correct-response-input')['value'];break;}return{'question':_0x55f088,'options':_0x229cb0,'proposedAnswer':_0x1b1a09};}),_0x1ffe2c=_0x9a0f35(0xcd7)+JSON[_0x9a0f35(0x2a1)](_0x348d4c)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5b148e={'type':_0x9a0f35(0x1d5),'items':{'type':_0x9a0f35(0xc68),'properties':{'questionIndex':{'type':_0x9a0f35(0xba6)},'isCorrect':{'type':_0x9a0f35(0x6b7)},'justification':{'type':_0x9a0f35(0xe19)},'correctOptionExists':{'type':_0x9a0f35(0x6b7)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x9a0f35(0xc68),'properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x9a0f35(0xe19)}},'newCorrectIndex':{'type':_0x9a0f35(0xba6)}}}},'required':[_0x9a0f35(0xb1c),_0x9a0f35(0x553),_0x9a0f35(0x8b9)]}},_0x52ea79=await callAnalysisApi(_0x1ffe2c,{'type':'OBJECT','properties':{'result':_0x5b148e},'required':['result']});displayVerificationResultsInEditor(_0x52ea79[_0x9a0f35(0xc26)]);}catch(_0x4a3b46){console[_0x9a0f35(0x3f5)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x4a3b46),showMessage(_0x9a0f35(0xacb));}finally{_0x3ab3fa[_0x9a0f35(0x635)]=![],_0x3ab3fa[_0x9a0f35(0xcf3)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x5d374d){const _0xc1f371=_0x1cfa42;_0x5d374d[_0xc1f371(0xdac)](_0x3f9e9f=>{const _0x1d932e=_0xc1f371,_0x3cf342=document[_0x1d932e(0x19c)](_0x1d932e(0x912)+_0x3f9e9f[_0x1d932e(0xb1c)]+'\x22]');if(!_0x3cf342)return;const _0x589ac5=_0x3cf342[_0x1d932e(0x19c)](_0x1d932e(0xa6d));if(_0x589ac5)_0x589ac5[_0x1d932e(0xb55)]();let _0x3b1d85='';if(_0x3f9e9f[_0x1d932e(0x698)]&&_0x3f9e9f[_0x1d932e(0x698)][_0x1d932e(0x78d)]){const _0x52edc7=_0x3f9e9f[_0x1d932e(0x698)][_0x1d932e(0x78d)],_0x232e5d=_0x3f9e9f[_0x1d932e(0x698)]['newCorrectIndex'],_0x306c39=_0x3cf342['dataset']['qType'];if(_0x306c39===_0x1d932e(0x37c)){const _0x9d045e=_0x3cf342['querySelectorAll'](_0x1d932e(0xbbc));_0x9d045e[_0x1d932e(0xdac)]((_0x41314f,_0x5c5041)=>{const _0xf8c661=_0x1d932e;_0x52edc7[_0x5c5041]?_0x41314f['value']=_0x52edc7[_0x5c5041]:_0x41314f[_0xf8c661(0x49f)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0x3f631c=_0x3cf342[_0x1d932e(0x19c)](_0x1d932e(0x92a)+_0x232e5d+'\x22]');_0x3f631c&&(_0x3f631c[_0x1d932e(0x51f)]=!![]),_0x3b1d85=_0x1d932e(0x4da),_0x3cf342[_0x1d932e(0xe06)][_0x1d932e(0xd5c)](_0x1d932e(0x3ee),'transition-all',_0x1d932e(0x41b)),setTimeout(()=>{const _0xccf118=_0x1d932e;_0x3cf342[_0xccf118(0xe06)]['remove'](_0xccf118(0x3ee));},0x9c4);}}else{if(!_0x3f9e9f[_0x1d932e(0x553)]&&_0x3f9e9f[_0x1d932e(0xce9)]){const _0x586ff9=_0x3f9e9f[_0x1d932e(0xce9)]?_0x1d932e(0x4b2):'';_0x3b1d85=_0x1d932e(0x563)+_0x586ff9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x3f9e9f[_0x1d932e(0x8b9)]+_0x1d932e(0x423)+(_0x3f9e9f['suggestedAnswer']?_0x1d932e(0x1bc)+_0x3f9e9f[_0x1d932e(0xce9)]+_0x1d932e(0x1e3):'')+_0x1d932e(0x9ca);const _0x5c5c93=_0x3cf342[_0x1d932e(0x2b9)][_0x1d932e(0x9ae)],_0x20045b=_0x420a52=>{const _0x287c0f=_0x1d932e;if(!_0x420a52)return;_0x420a52[_0x287c0f(0xe06)][_0x287c0f(0xd5c)](_0x287c0f(0xdd7),'transition-all',_0x287c0f(0x41b)),setTimeout(()=>{const _0xbb9982=_0x287c0f;_0x420a52[_0xbb9982(0xe06)][_0xbb9982(0xb55)](_0xbb9982(0xdd7));},0x9c4);};if(_0x5c5c93===_0x1d932e(0x37c)){const _0x157fa7=Array['from'](_0x3cf342[_0x1d932e(0x218)]('input[type=\x22text\x22]')),_0x547f50=_0x157fa7[_0x1d932e(0xcfb)](_0x29514e=>_0x29514e[_0x1d932e(0x49f)][_0x1d932e(0xab6)]()[_0x1d932e(0xd64)]()===_0x3f9e9f[_0x1d932e(0xce9)][_0x1d932e(0xab6)]()['toLowerCase']());if(_0x547f50!==-0x1){const _0x94295f=_0x3cf342[_0x1d932e(0x19c)](_0x1d932e(0x92a)+_0x547f50+'\x22]');_0x94295f&&(_0x94295f[_0x1d932e(0x51f)]=!![],_0x20045b(_0x94295f[_0x1d932e(0xd59)](_0x1d932e(0xa48))));}}else{if(_0x5c5c93===_0x1d932e(0x944)||_0x5c5c93==='matching_item'){const _0x1be284=_0x3cf342[_0x1d932e(0x19c)](_0x1d932e(0x5b2));_0x1be284&&(_0x1be284['value']=_0x3f9e9f[_0x1d932e(0xce9)],_0x20045b(_0x1be284));}else{if(_0x5c5c93===_0x1d932e(0x1cb)){const _0x170ec2=_0x3f9e9f['suggestedAnswer']['trim']()[_0x1d932e(0xd64)](),_0x26315=_0x3cf342[_0x1d932e(0x19c)](_0x1d932e(0x92a)+_0x170ec2+'\x22]');_0x26315&&(_0x26315['checked']=!![],_0x20045b(_0x26315[_0x1d932e(0xd59)](_0x1d932e(0xa48))));}}}}else _0x3f9e9f[_0x1d932e(0x553)]&&(_0x3b1d85='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x3cf342[_0x1d932e(0x22c)]('beforeend',_0x3b1d85);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x3a052a=_0x1cfa42;if(!currentQuizData||!currentQuizData[_0x3a052a(0xb0f)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x5d6c67=document[_0x3a052a(0xbf1)]('verify-answers-btn');_0x5d6c67[_0x3a052a(0x635)]=!![],_0x5d6c67['innerHTML']=_0x3a052a(0x88e);try{const _0x37750b=currentQuizData[_0x3a052a(0xb0f)][_0x3a052a(0x469)]((_0xa384a9,_0x1907cf)=>{const _0x50ec47=_0x3a052a;let _0x586f4f='';const _0x1e0f67=_0xa384a9[_0x50ec47(0xb83)]||currentQuizData[_0x50ec47(0x4c3)];switch(_0x1e0f67){case _0x50ec47(0x37c):_0x586f4f=_0xa384a9['options'][_0xa384a9[_0x50ec47(0x3a3)]];break;case _0x50ec47(0x944):_0x586f4f=_0xa384a9[_0x50ec47(0x886)];break;case'true_false':_0x586f4f=_0xa384a9[_0x50ec47(0x59b)][_0x50ec47(0x701)]();break;case'matching_item':_0x586f4f=_0xa384a9[_0x50ec47(0x578)];break;}return{'question':_0xa384a9[_0x50ec47(0x826)]||_0xa384a9[_0x50ec47(0x324)],'options':_0xa384a9['options']||null,'proposedAnswer':_0x586f4f};}),_0xf72694=_0x3a052a(0x3fb)+JSON['stringify'](_0x37750b)+_0x3a052a(0xbc4),_0x3879f1={'type':_0x3a052a(0x1d5),'items':{'type':_0x3a052a(0xc68),'properties':{'questionIndex':{'type':_0x3a052a(0xba6)},'isCorrect':{'type':_0x3a052a(0x6b7)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x3a052a(0xe19)}},'required':['questionIndex','isCorrect',_0x3a052a(0x8b9)]}},_0x5010f4=await callAnalysisApi(_0xf72694,{'type':_0x3a052a(0xc68),'properties':{'result':_0x3879f1},'required':[_0x3a052a(0xc26)]});displayVerificationResults(_0x5010f4[_0x3a052a(0xc26)]);}catch(_0x5e545a){console['error']('Error\x20verifying\x20answers:',_0x5e545a),showMessage(_0x3a052a(0xacb));}finally{_0x5d6c67[_0x3a052a(0x635)]=![],_0x5d6c67[_0x3a052a(0xcf3)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x471635){const _0x3721b2=_0x1cfa42;_0x471635[_0x3721b2(0xdac)](_0x40c44b=>{const _0x15ae2f=_0x3721b2,_0x5e2c6d=document[_0x15ae2f(0x19c)](_0x15ae2f(0xa55)+_0x40c44b['questionIndex']+'\x22]');if(_0x5e2c6d){const _0x3dd32d=_0x5e2c6d['querySelector']('.verification-result');if(_0x3dd32d)_0x3dd32d[_0x15ae2f(0xb55)]();let _0x155ba0='';_0x40c44b[_0x15ae2f(0x553)]?_0x155ba0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x155ba0=_0x15ae2f(0x84d)+_0x40c44b[_0x15ae2f(0x8b9)]+_0x15ae2f(0x599)+(_0x40c44b['suggestedAnswer']?_0x15ae2f(0x1bc)+_0x40c44b[_0x15ae2f(0xce9)]+_0x15ae2f(0x1e3):'')+_0x15ae2f(0x3ef),_0x5e2c6d['insertAdjacentHTML'](_0x15ae2f(0x57d),_0x155ba0);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x515888,_0x26ec58){const _0x1173e7=_0x1cfa42,_0x517149=String(_0x515888)[_0x1173e7(0x93c)](',','.')[_0x1173e7(0x93c)](/[^\d.-]/g,'')[_0x1173e7(0xab6)](),_0x4d95df=String(_0x26ec58)[_0x1173e7(0x93c)](',','.')[_0x1173e7(0x93c)](/[^\d.-]/g,'')[_0x1173e7(0xab6)]();if(_0x517149===''||_0x4d95df==='')return![];const _0x4a5ea7=parseFloat(_0x517149),_0x4bc6c5=parseFloat(_0x4d95df);if(isNaN(_0x4a5ea7)||isNaN(_0x4bc6c5))return![];return Math[_0x1173e7(0x542)](_0x4a5ea7-_0x4bc6c5)<0.001;}function isPotentiallyNumeric(_0x2679bb){const _0x7ef650=_0x1cfa42;if(typeof _0x2679bb!==_0x7ef650(0x60a)&&typeof _0x2679bb!=='number')return![];const _0x2fab40=String(_0x2679bb)['replace'](',','.')[_0x7ef650(0xab6)]();return _0x2fab40!==''&&!isNaN(parseFloat(_0x2fab40))&&isFinite(_0x2fab40);}async function gradeShortAnswer(_0x5e066d,_0x201330){const _0x6a04c8=_0x1cfa42,_0x2345f2=_0x201330[_0x6a04c8(0x886)],_0x5d0071=String(_0x5e066d)[_0x6a04c8(0x93c)](/\$/g,'')[_0x6a04c8(0xab6)](),_0xa911d4=String(_0x2345f2)[_0x6a04c8(0x93c)](/\$/g,'')[_0x6a04c8(0xab6)]();if(_0x5d0071[_0x6a04c8(0xd64)]()===_0xa911d4[_0x6a04c8(0xd64)]())return!![];if(isPotentiallyNumeric(_0x5d0071)&&isPotentiallyNumeric(_0xa911d4)){if(compareNumericalAnswers(_0x5d0071,_0xa911d4))return!![];}return console[_0x6a04c8(0xc15)](_0x6a04c8(0x190)),await gradeShortAnswerWithAI(_0x5e066d,_0x2345f2);}async function revealAnswerForAdmin(_0x1bce9c,_0x20e9fc){const _0x5be6b9=_0x1cfa42,_0x496fe5=doc(db,_0x5be6b9(0x7ff)+appId+_0x5be6b9(0x270),currentLiveGameId);await updateDoc(_0x496fe5,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x477f1d){const _0xf6a69f=_0x1cfa42,_0x431e06=Object[_0xf6a69f(0xdc2)](_0x477f1d[_0xf6a69f(0x18d)]||{})['filter'](_0xd4af63=>_0xd4af63[_0xf6a69f(0x657)]===_0xf6a69f(0x94c));_0x431e06[_0xf6a69f(0x712)]((_0x2b225a,_0x14c6ca)=>_0x14c6ca[_0xf6a69f(0xd0e)]-_0x2b225a[_0xf6a69f(0xd0e)]);const _0x277f65=_0x431e06['slice'](0x0,0x5),_0x751bb1=_0xf6a69f(0xa63)+_0x277f65['map']((_0x537c79,_0x310dbe)=>_0xf6a69f(0x901)+(_0x310dbe+0x1)+'.\x20'+(_0x537c79[_0xf6a69f(0x372)]||Object[_0xf6a69f(0x972)](_0x477f1d[_0xf6a69f(0x18d)])[_0xf6a69f(0x633)](_0x52009b=>_0x477f1d[_0xf6a69f(0x18d)][_0x52009b]===_0x537c79))+_0xf6a69f(0x6bf)+_0x537c79[_0xf6a69f(0xd0e)]+_0xf6a69f(0x888))[_0xf6a69f(0x4ce)]('')+_0xf6a69f(0xe16)+(_0x477f1d[_0xf6a69f(0x2fc)]+0x1===currentQuizData[_0xf6a69f(0xb0f)]['length']?_0xf6a69f(0x7c9):_0xf6a69f(0x987))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0xf6a69f(0xcf3)]=_0x751bb1,document['getElementById']('goto-next-question-btn')['addEventListener'](_0xf6a69f(0x67d),async()=>{const _0x16b481=_0xf6a69f,_0x20d419=doc(db,_0x16b481(0x7ff)+appId+'/public/data/liveGames',currentLiveGameId),_0x749143=_0x477f1d[_0x16b481(0x2fc)]+0x1;if(_0x749143<currentQuizData['questions'][_0x16b481(0x26d)]){const _0x5420fb={'currentQuestionIndex':_0x749143,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x16b481(0x2fe)};Object['keys'](_0x477f1d[_0x16b481(0x18d)])[_0x16b481(0xdac)](_0x2d26d8=>{const _0x442580=_0x16b481;_0x5420fb[_0x442580(0x32c)+_0x2d26d8+_0x442580(0x473)]=![];}),await updateDoc(_0x20d419,_0x5420fb);}else await updateDoc(_0x20d419,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1a6f82=>{const _0x4716d4=_0x5ec1;if(_0x1a6f82){userId=_0x1a6f82[_0x4716d4(0x202)],userIdDisplay[_0x4716d4(0x617)]=userId;const _0x5231cd=await loadUserPreferences();_0x5231cd[_0x4716d4(0x5a0)]&&(document[_0x4716d4(0xbf1)](_0x4716d4(0x514))[_0x4716d4(0x49f)]=_0x5231cd[_0x4716d4(0x5a0)]);globalDashboardSettings[_0x4716d4(0x341)]=_0x5231cd[_0x4716d4(0x341)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x5c0095,_0x3b29b6){const _0x495def=_0x1cfa42;if(!userId)return;try{const _0x5512f4=doc(db,_0x495def(0x7ff)+appId+_0x495def(0x740)+userId+_0x495def(0xd71)),_0x127828={};_0x127828[_0x5c0095]=_0x3b29b6,await setDoc(_0x5512f4,_0x127828,{'merge':!![]});}catch(_0x281164){console[_0x495def(0x3f5)](_0x495def(0xaf9),_0x281164);}}async function loadUserPreferences(){const _0x8e2be5=_0x1cfa42;if(!userId)return{};try{const _0x353854=doc(db,_0x8e2be5(0x7ff)+appId+_0x8e2be5(0x740)+userId+_0x8e2be5(0xd71)),_0x1a197b=await getDoc(_0x353854);if(_0x1a197b[_0x8e2be5(0x2b1)]())return _0x1a197b[_0x8e2be5(0x934)]();return{};}catch(_0x21b0da){return console[_0x8e2be5(0x3f5)](_0x8e2be5(0x836),_0x21b0da),{};}}function parseIndentedBlueprint(_0x5442e2){const _0x422418=_0x1cfa42,_0x48472a=_0x5442e2[_0x422418(0x557)]('\x0a')['filter'](_0x590bf6=>_0x590bf6[_0x422418(0xab6)]()!==''),_0x3980cd=[];let _0xab1856=null,_0x567c83=null;return _0x48472a[_0x422418(0xdac)](_0x12a606=>{const _0x40ad32=_0x422418,_0x35f195=_0x12a606['match'](/^\s*/)[0x0][_0x40ad32(0x26d)],_0x38968c=_0x12a606[_0x40ad32(0xab6)]();if(_0x35f195===0x0)_0xab1856={'sara':_0x38968c,'mainTopics':[]},_0x3980cd[_0x40ad32(0x229)](_0xab1856),_0x567c83=null;else{if(_0x35f195>0x0&&_0x35f195<0x8&&_0xab1856)_0x567c83={'topicName':_0x38968c,'subTopics':[]},_0xab1856[_0x40ad32(0x574)][_0x40ad32(0x229)](_0x567c83);else _0x35f195>=0x8&&_0x567c83&&_0x567c83[_0x40ad32(0xcdc)][_0x40ad32(0x229)](_0x38968c);}}),{'curriculum':_0x3980cd};}async function handleManualBlueprintSave(){const _0x5be19b=_0x1cfa42,_0x3824ea=document[_0x5be19b(0xbf1)](_0x5be19b(0x724))[_0x5be19b(0x49f)][_0x5be19b(0xab6)](),_0x258d36=document[_0x5be19b(0xbf1)](_0x5be19b(0x790))[_0x5be19b(0x49f)][_0x5be19b(0xab6)](),_0x4e26d1=document['getElementById']('manual-bp-content')[_0x5be19b(0x49f)];if(!_0x3824ea||!_0x258d36||!_0x4e26d1){showMessage(_0x5be19b(0x720));return;}const _0x5b3d03=parseIndentedBlueprint(_0x4e26d1);if(!_0x5b3d03[_0x5be19b(0x3ce)]||_0x5b3d03['curriculum'][_0x5be19b(0x26d)]===0x0){showMessage(_0x5be19b(0xbe1));return;}const _0x1d908b={};let _0x1d6676=0x0;_0x5b3d03[_0x5be19b(0x3ce)][_0x5be19b(0xdac)](_0x56e1c7=>{const _0x5226f2=_0x5be19b;_0x56e1c7[_0x5226f2(0x574)][_0x5226f2(0xdac)](_0x50bf9b=>{const _0x964d94=_0x5226f2;_0x50bf9b['subTopics'][_0x964d94(0xdac)](_0x521f4c=>{const _0x4f8244=_0x964d94,_0x33972b='topic_'+Date['now']()+Math[_0x4f8244(0x72a)]()[_0x4f8244(0x701)](0x24)[_0x4f8244(0x9a3)](0x2,0x9);_0x1d908b[_0x33972b]={'sara':_0x56e1c7['sara'],'mainTopic':_0x50bf9b['topicName'],'subTopic':_0x521f4c,'status':'not_generated','lessonContent':null,'order':_0x1d6676++};});});});try{const _0x3864da=collection(db,_0x5be19b(0x7ff)+appId+_0x5be19b(0xc6f));await addDoc(_0x3864da,{'projectName':_0x3824ea,'gradeLevel':_0x258d36,'topics':_0x1d908b,'createdAt':serverTimestamp()}),showMessage(_0x5be19b(0xb9b)+_0x3824ea+_0x5be19b(0xd0d)),document['getElementById'](_0x5be19b(0x517))[_0x5be19b(0xe06)][_0x5be19b(0xd5c)](_0x5be19b(0xa93));}catch(_0x6513ee){console[_0x5be19b(0x3f5)](_0x5be19b(0x8d8),_0x6513ee),showMessage(_0x5be19b(0x450));}}function handleClearAllLinksForTopic(_0x5ad1e4){const _0x2089a5=_0x1cfa42;showConfirmation(_0x2089a5(0x97e),async()=>{const _0x5d07f1=_0x2089a5;try{const _0x4e3dfe=doc(db,_0x5d07f1(0x7ff)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4e3dfe,{['topics.'+_0x5ad1e4+_0x5d07f1(0x8b6)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x5ad1e4),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3b71a5){console[_0x5d07f1(0x3f5)](_0x5d07f1(0x895),_0x3b71a5),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x1ee780,_0x786a0a=_0x1cfa42(0xc9b),_0x57139c=null){const _0x50ece4=_0x1cfa42,_0x48625c=_0x57139c?.[_0x50ece4(0x646)]===!![],_0xee56c7=Object[_0x50ece4(0xa76)](_0x1ee780)[_0x50ece4(0x469)](([_0x40c95f,_0x1c57af])=>({'name':_0x40c95f,'realScore':_0x1c57af[_0x50ece4(0xcef)]||0x0,'totalPoints':_0x1c57af['totalPoints']||0x0,'badges':_0x1c57af[_0x50ece4(0x312)]||[],'hasPerfectScoreBonus':_0x1c57af[_0x50ece4(0x1ed)]||![]}));_0xee56c7[_0x50ece4(0x712)]((_0xef33a0,_0x6bf7f3)=>{const _0x22d60c=_0x50ece4;if(_0x48625c){const _0x13716d=_0x6bf7f3[_0x22d60c(0xcef)]-_0xef33a0[_0x22d60c(0xcef)];if(_0x13716d!==0x0)return _0x13716d;const _0x519758=_0x6bf7f3[_0x22d60c(0x60e)]-_0xef33a0['totalPoints'];if(_0x519758!==0x0)return _0x519758;return _0xef33a0['name'][_0x22d60c(0x7e5)](_0x6bf7f3['name'],'th');}else{const _0x40668f=_0x6bf7f3[_0x22d60c(0x60e)]-_0xef33a0[_0x22d60c(0x60e)];if(_0x40668f!==0x0)return _0x40668f;return _0x6bf7f3[_0x22d60c(0xcef)]-_0xef33a0[_0x22d60c(0xcef)];}});const _0x4448e9=_0x558471=>{const _0x1376a0=_0x50ece4;if(!_0x558471||_0x558471[_0x1376a0(0x26d)]===0x0)return'';const _0x2d8651={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x558471[_0x1376a0(0x469)](_0x5d3804=>_0x2d8651[_0x5d3804]||'')['join']('')+_0x1376a0(0xcdd);},_0x44cddd=_0x33c227=>{const _0x2e8bfa=_0x50ece4,_0x5ebe23=_0x33c227['hasPerfectScoreBonus']?_0x2e8bfa(0x46a):'';if(_0x48625c){const _0x263a3d=_0x33c227[_0x2e8bfa(0x60e)]>=0x0?'(+'+_0x33c227[_0x2e8bfa(0x60e)]+')':'('+_0x33c227[_0x2e8bfa(0x60e)]+')';return _0x2e8bfa(0xb39)+_0x33c227[_0x2e8bfa(0xcef)]+_0x2e8bfa(0x62b)+_0x263a3d+'\x20'+_0x5ebe23+_0x2e8bfa(0x1e3);}else return _0x2e8bfa(0xb39)+_0x33c227['totalPoints']+_0x2e8bfa(0x62b)+_0x5ebe23+_0x2e8bfa(0x1e3);},_0x11aab0=_0xee56c7[_0x50ece4(0xa65)](0x3),_0x11a867=_0x11aab0[_0x50ece4(0x26d)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11aab0[_0x50ece4(0x469)]((_0x115692,_0x1a04e7)=>{const _0x1ee07e=_0x50ece4;return _0x1ee07e(0x1b1)+(_0x1a04e7+0x4)+_0x1ee07e(0xcca)+_0x115692['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>'+_0x44cddd(_0x115692)+_0x1ee07e(0x42b);})['join']('')+_0x50ece4(0x858):'',_0x5cd9d3=_0x50ece4(0x18f)+(_0xee56c7[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0xee56c7[0x1][_0x50ece4(0x372)]+_0x50ece4(0x1e3)+_0x4448e9(_0xee56c7[0x1][_0x50ece4(0x312)])+_0x44cddd(_0xee56c7[0x1])+_0x50ece4(0x91a):'<div\x20class=\x22flex-1\x22></div>')+_0x50ece4(0xd0f)+(_0xee56c7[0x0]?_0x50ece4(0x812)+_0xee56c7[0x0]['name']+_0x50ece4(0x1e3)+_0x4448e9(_0xee56c7[0x0][_0x50ece4(0x312)])+_0x44cddd(_0xee56c7[0x0])+'<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x50ece4(0xd0f)+(_0xee56c7[0x2]?_0x50ece4(0x914)+_0xee56c7[0x2]['name']+_0x50ece4(0x1e3)+_0x4448e9(_0xee56c7[0x2][_0x50ece4(0x312)])+_0x44cddd(_0xee56c7[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11a867+_0x50ece4(0x923)+(currentMode===_0x50ece4(0xc51)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x50ece4(0x837))+_0x50ece4(0x9f6);liveGameView[_0x50ece4(0xcf3)]=_0x5cd9d3,currentMode===_0x50ece4(0xc51)?document[_0x50ece4(0xbf1)](_0x50ece4(0x606))['addEventListener'](_0x50ece4(0x67d),async()=>{const _0x5800c3=_0x50ece4;let _0x2d251c;_0x786a0a==='sync'?_0x2d251c=doc(db,_0x5800c3(0x7ff)+appId+_0x5800c3(0x73f),currentLiveGameId):_0x2d251c=doc(db,_0x5800c3(0x7ff)+appId+_0x5800c3(0x270),currentLiveGameId),await deleteDoc(_0x2d251c);}):document[_0x50ece4(0xbf1)](_0x50ece4(0x7b3))?.[_0x50ece4(0x4ef)](_0x50ece4(0x67d),()=>{showView('student');});}function renderSyncSummaryView(_0x517e15,_0x5b7a45,_0x5ba0fe){const _0x17b179=_0x1cfa42,_0x367ba1=_0x517e15['gameVariant']||_0x17b179(0x6d0),_0x4d2f75=_0x367ba1==='anonymous'&&_0x517e15[_0x17b179(0x427)]===![],_0x22345a=Object[_0x17b179(0xdc2)](_0x517e15['players']||{}),_0x754c99=_0x517e15[_0x17b179(0x479)][_0x17b179(0xb0f)],_0x1beae1=_0x5b7a45['questionType']||_0x517e15[_0x17b179(0x479)][_0x17b179(0x4c3)];let _0x233cd9=[];_0x1beae1===_0x17b179(0x1cb)?_0x233cd9=[_0x17b179(0x80a),_0x17b179(0x932)]:_0x233cd9=_0x5b7a45[_0x17b179(0x9e4)]||[];const _0x54bbd0=new Array(_0x233cd9[_0x17b179(0x26d)])[_0x17b179(0x87d)](0x0),_0x1cbd4c={};_0x233cd9[_0x17b179(0xdac)]((_0xa87039,_0x1a7991)=>{_0x1cbd4c[_0x1a7991]=[];}),Object[_0x17b179(0xa76)](_0x517e15['players']||{})['forEach'](([_0x221817,_0x32cffb])=>{const _0x45dc5a=_0x17b179;if(_0x32cffb[_0x45dc5a(0x657)]!==_0x45dc5a(0x648)&&_0x32cffb[_0x45dc5a(0xcb8)]!==undefined&&_0x32cffb[_0x45dc5a(0xcb8)]!==null){const _0x5f2cf4=_0x32cffb[_0x45dc5a(0xcb8)];if(_0x1cbd4c[_0x5f2cf4]!==undefined){const _0xcee8fe=_0x4d2f75?_0x517e15[_0x45dc5a(0xadd)][_0x221817]||_0x45dc5a(0x200):_0x221817;_0x1cbd4c[_0x5f2cf4][_0x45dc5a(0x229)](_0xcee8fe),_0x54bbd0[_0x5f2cf4]++;}}});let _0x1f77a8='';const _0x3acca0=_0x517e15[_0x17b179(0x2fc)]>=_0x754c99['length']-0x1;_0x5ba0fe?_0x367ba1===_0x17b179(0x2e5)?_0x3acca0?_0x1f77a8=_0x17b179(0x3f9):_0x1f77a8=_0x17b179(0x6d7):_0x1f77a8=_0x17b179(0x1b7):_0x367ba1===_0x17b179(0x2e5)?_0x1f77a8=_0x17b179(0xb88):_0x1f77a8=_0x17b179(0x54b);const _0x49e8cc=_0x5ba0fe?_0x17b179(0x7ec)+_0x517e15[_0x17b179(0xc84)]+'</strong></div>':'',_0x83742f=_0x17b179(0xa1a)+_0x49e8cc+_0x17b179(0x77f)+_0x5b7a45[_0x17b179(0x324)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54bbd0[_0x17b179(0x469)]((_0x248a5d,_0x172a6b)=>{const _0x369c22=_0x17b179,_0x1f83f2=_0x1cbd4c[_0x172a6b][_0x369c22(0x26d)]>0x0?_0x1cbd4c[_0x172a6b]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x20b4e6='#6366F1';return _0x369c22(0xdfd)+_0x248a5d+_0x369c22(0x649)+_0x20b4e6+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x172a6b+_0x369c22(0x2d6)+_0x233cd9[_0x172a6b]+_0x369c22(0x903)+_0x172a6b+_0x369c22(0x6e6)+_0x1f83f2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x17b179(0x4ce)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f77a8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x83742f;if(window['MathJax'])MathJax[_0x17b179(0x255)]();if(_0x5ba0fe){const _0x14fe66=doc(db,_0x17b179(0x7ff)+appId+_0x17b179(0x73f),currentLiveGameId);document[_0x17b179(0xbf1)](_0x17b179(0x528))?.[_0x17b179(0x4ef)](_0x17b179(0x67d),async()=>{const _0x1f0d7f=_0x17b179;await updateDoc(_0x14fe66,{'status':_0x1f0d7f(0xbdc)});}),document[_0x17b179(0xbf1)](_0x17b179(0x2d8))?.[_0x17b179(0x4ef)](_0x17b179(0x67d),()=>{openScratchpad(_0x5b7a45,_0x233cd9);}),document[_0x17b179(0xbf1)](_0x17b179(0xccc))?.[_0x17b179(0x4ef)](_0x17b179(0x67d),async()=>{const _0x2ec66e=_0x17b179,_0x40aee7=_0x517e15[_0x2ec66e(0x2fc)]+0x1,_0x26c98d={};Object['keys'](_0x517e15[_0x2ec66e(0x18d)])[_0x2ec66e(0xdac)](_0x1d5f74=>{const _0x383c13=_0x2ec66e;_0x26c98d['players.'+_0x1d5f74+_0x383c13(0xa41)]=![],_0x26c98d[_0x383c13(0x32c)+_0x1d5f74+_0x383c13(0x2b0)]=null;}),await updateDoc(_0x14fe66,{..._0x26c98d,'status':_0x2ec66e(0x7bc),'currentQuestionIndex':_0x40aee7,'questionDisplayedAt':serverTimestamp()});}),document[_0x17b179(0xbf1)](_0x17b179(0x4cb))?.[_0x17b179(0x4ef)](_0x17b179(0x67d),async()=>{await updateDoc(_0x14fe66,{'status':'results','reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x2618f6){const _0x4449b4=_0x1cfa42,_0x412980=_0x2618f6[_0x4449b4(0x2fc)]>=_0x2618f6[_0x4449b4(0x479)]['questions']['length']-0x1;let _0x4770de='';if(_0x2618f6['isAnonymousRevealed']===!![]){const _0x4c95c4=_0x2618f6['players'][localTeamPlayers[0x0]],_0x5694a6=_0x4c95c4[_0x4449b4(0x372)],_0x44acc1=_0x4c95c4[_0x4449b4(0xd0e)];_0x4770de=_0x4449b4(0x4de)+_0x5694a6+_0x4449b4(0x40e)+_0x44acc1+_0x4449b4(0x3c7);}else _0x4770de=_0x4449b4(0x603)+(_0x412980?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':'รอผู้ควบคุมไปข้อต่อไป...')+_0x4449b4(0x5d5);const _0x4a6bff=_0x4449b4(0x80b)+_0x4770de+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4449b4(0xcf3)]=_0x4a6bff;}async function handleShowStudentRankings(){const _0x42f523=_0x1cfa42,_0x3d27e1=document[_0x42f523(0x19c)](_0x42f523(0x93d));_0x3d27e1&&(_0x3d27e1['innerHTML']=_0x42f523(0xb5e));const _0x4a2ba1=document[_0x42f523(0x19c)](_0x42f523(0x992));_0x4a2ba1&&(_0x4a2ba1[_0x42f523(0xcf3)]=_0x42f523(0x480));const _0x148b2d=document['getElementById'](_0x42f523(0x8c4));_0x148b2d[_0x42f523(0xe06)][_0x42f523(0xb55)](_0x42f523(0xa93)),document[_0x42f523(0xbf1)](_0x42f523(0x8a4))[_0x42f523(0x1a5)]=()=>_0x148b2d['classList'][_0x42f523(0xd5c)](_0x42f523(0xa93));const _0x53060b=document['getElementById']('student-quiz-leaderboard-tab'),_0x127670=document[_0x42f523(0xbf1)](_0x42f523(0x40a)),_0x4bf4e7=document[_0x42f523(0xbf1)](_0x42f523(0xaae)),_0x29eaaa=document[_0x42f523(0xbf1)](_0x42f523(0xd54));_0x53060b[_0x42f523(0x1a5)]=()=>{const _0x4e3cdc=_0x42f523;_0x53060b['classList'][_0x4e3cdc(0xd5c)](_0x4e3cdc(0x94c)),_0x127670[_0x4e3cdc(0xe06)][_0x4e3cdc(0xb55)](_0x4e3cdc(0x94c)),_0x4bf4e7[_0x4e3cdc(0xe06)][_0x4e3cdc(0xb55)]('hidden'),_0x29eaaa['classList'][_0x4e3cdc(0xd5c)](_0x4e3cdc(0xa93));},_0x127670[_0x42f523(0x1a5)]=()=>{const _0x388125=_0x42f523;_0x127670[_0x388125(0xe06)]['add'](_0x388125(0x94c)),_0x53060b[_0x388125(0xe06)][_0x388125(0xb55)](_0x388125(0x94c)),_0x29eaaa['classList']['remove'](_0x388125(0xa93)),_0x4bf4e7[_0x388125(0xe06)][_0x388125(0xd5c)](_0x388125(0xa93));};try{const _0x23181=collection(db,_0x42f523(0x7ff)+appId+_0x42f523(0x2a9)+currentQuizData['id']+'/submissions'),_0x25c288=await getDocs(_0x23181),_0x111d05=_0x25c288['docs'][_0x42f523(0x469)](_0x43ce0f=>_0x43ce0f['data']());renderQuizLeaderboard(_0x111d05,currentQuizData,_0x42f523(0x95a));const _0x3be1af=collection(db,_0x42f523(0x7ff)+appId+_0x42f523(0xcf2)+currentQuizData[_0x42f523(0x1cf)]+'/studentProfiles'),_0x531f3f=await getDocs(_0x3be1af),_0x447ee8=_0x531f3f[_0x42f523(0xd24)]['map'](_0x59fb7a=>_0x59fb7a[_0x42f523(0x934)]());renderLeaderboard(_0x447ee8,_0x42f523(0xd73));}catch(_0x3e0425){console[_0x42f523(0x3f5)](_0x42f523(0x6a6),_0x3e0425),showMessage(_0x42f523(0x788));}}async function handleSaveToBank(_0x369c33){const _0x3f0326=_0x1cfa42,_0x475f11=_0x369c33[_0x3f0326(0xd10)],_0x535774=_0x475f11['dataset'][_0x3f0326(0x3fd)],_0x28da65=currentQuizData[_0x3f0326(0xb0f)][_0x535774];if(!userId){showMessage(_0x3f0326(0x6ba));return;}try{const _0x5519de={..._0x28da65,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x5e0fa5=collection(db,_0x3f0326(0x7ff)+appId+_0x3f0326(0x740)+userId+_0x3f0326(0xd93));await addDoc(_0x5e0fa5,_0x5519de),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x475f11[_0x3f0326(0xe06)]['remove'](_0x3f0326(0xd05)),_0x475f11[_0x3f0326(0xe06)]['add'](_0x3f0326(0x518)),_0x475f11[_0x3f0326(0x635)]=!![];}catch(_0x1197c8){console[_0x3f0326(0x3f5)](_0x3f0326(0x316),_0x1197c8),showMessage(_0x3f0326(0x841));}}async function selectProjectAndGenerateBlueprintQuiz(_0x4bd2a6,_0x30b0ab=null,_0x2ce2dc=null,_0x182d98=![]){const _0x5d4444=_0x1cfa42;cameFromBlueprint=!![];const _0x32fc9f=document[_0x5d4444(0xbf1)](_0x5d4444(0x30b))?.[_0x5d4444(0x49f)]['trim']();let _0x59525a=null;if(_0x32fc9f){showMessage(_0x5d4444(0x4a5));try{const _0x12545c=await fetchFileFromUrl(_0x32fc9f,'reference_onet.pdf'),_0x57d6e4=await new Promise((_0x404368,_0x283227)=>{const _0x2a7c1f=_0x5d4444,_0xb4f066=new FileReader();_0xb4f066['readAsDataURL'](_0x12545c),_0xb4f066[_0x2a7c1f(0xe0a)]=()=>_0x404368(_0xb4f066[_0x2a7c1f(0xc26)][_0x2a7c1f(0x557)](',')[0x1]),_0xb4f066['onerror']=_0x283227;});_0x59525a=[{'inlineData':{'mimeType':_0x12545c[_0x5d4444(0x8e8)],'data':_0x57d6e4}}],messageModal['classList']['add']('hidden');}catch(_0x536487){console[_0x5d4444(0x3f5)]('Could\x20not\x20fetch\x20reference\x20file:',_0x536487),showMessage(_0x5d4444(0xc32));}}const _0x273a78=document[_0x5d4444(0xbf1)](_0x5d4444(0xcac)),_0x30df59=document[_0x5d4444(0xbf1)](_0x5d4444(0x1b8)),_0x30bf80=_0x273a78[_0x5d4444(0x19c)]('h3'),_0x41ad3a=document['getElementById']('confirm-move-quiz-btn'),_0x5c1bcf=document[_0x5d4444(0xbf1)]('cancel-move-quiz-btn');_0x30bf80[_0x5d4444(0x617)]=_0x5d4444(0xd4d),_0x41ad3a['textContent']=_0x5d4444(0xc29),_0x41ad3a['disabled']=!![];allProjects[_0x5d4444(0x26d)]===0x0?_0x30df59[_0x5d4444(0xcf3)]=_0x5d4444(0xd09):(_0x30df59['innerHTML']=_0x5d4444(0x5c5)+allProjects[_0x5d4444(0x469)](_0x1cb573=>_0x5d4444(0x7ce)+_0x1cb573['id']+'\x22>'+_0x1cb573[_0x5d4444(0x19e)]+_0x5d4444(0x224))['join'](''),_0x41ad3a[_0x5d4444(0x635)]=![]);_0x273a78[_0x5d4444(0xe06)][_0x5d4444(0xb55)](_0x5d4444(0xa93));const _0x3ea411=async()=>{const _0x21fd01=_0x5d4444,_0x798c89=_0x30df59[_0x21fd01(0x49f)];if(!_0x798c89){showMessage(_0x21fd01(0x17a));return;}_0x273a78['classList']['add'](_0x21fd01(0xa93)),document[_0x21fd01(0xbf1)]('blueprint-project-manager-view')[_0x21fd01(0xe06)][_0x21fd01(0xd5c)](_0x21fd01(0xa93)),await loadProjectDetails(_0x798c89),showView(_0x21fd01(0x80f)),handleGenerateQuizFromBlueprintTopic(_0x4bd2a6,_0x30b0ab,_0x798c89,_0x2ce2dc,_0x182d98,_0x59525a),_0x400985();},_0x400985=()=>{const _0x1e6d8b=_0x5d4444;_0x30bf80[_0x1e6d8b(0x617)]=_0x1e6d8b(0x51c),_0x41ad3a[_0x1e6d8b(0x617)]=_0x1e6d8b(0x8bf),_0x41ad3a[_0x1e6d8b(0x85c)](_0x1e6d8b(0x67d),_0x3ea411),_0x5c1bcf[_0x1e6d8b(0x85c)](_0x1e6d8b(0x67d),_0x400985),_0x41ad3a[_0x1e6d8b(0x4ef)](_0x1e6d8b(0x67d),confirmMoveQuiz);};_0x41ad3a[_0x5d4444(0x85c)](_0x5d4444(0x67d),confirmMoveQuiz),_0x41ad3a['addEventListener'](_0x5d4444(0x67d),_0x3ea411),_0x5c1bcf['addEventListener'](_0x5d4444(0x67d),_0x400985);}function listenForStarredQuizzes(){const _0x4fcf3a=_0x1cfa42;if(!userId)return;const _0x510fac=collection(db,_0x4fcf3a(0x7ff)+appId+_0x4fcf3a(0x254)),_0x8e96ac=query(_0x510fac,where(_0x4fcf3a(0x266),'==',!![]));onSnapshot(_0x8e96ac,_0x4cc148=>{const _0x4fb2d0=_0x4fcf3a;starredQuizzes=_0x4cc148[_0x4fb2d0(0xd24)][_0x4fb2d0(0x469)](_0x232d99=>({'id':_0x232d99['id'],..._0x232d99[_0x4fb2d0(0x934)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x29d968=>{const _0x4d3b8e=_0x4fcf3a;console['error'](_0x4d3b8e(0xd88),_0x29d968);});}function listenForFileShortcuts(){const _0x11f784=_0x1cfa42,_0x1a2e0d=doc(db,_0x11f784(0xdb5),_0x11f784(0x75f));onSnapshot(_0x1a2e0d,_0x2ce085=>{const _0x1bda39=_0x11f784;let _0x2a382c=[],_0x12ddda=[],_0x5ba381={};if(_0x2ce085[_0x1bda39(0x2b1)]()){const _0x4d7647=_0x2ce085[_0x1bda39(0x934)]();_0x2a382c=_0x4d7647[_0x1bda39(0x6d8)]||[],_0x12ddda=_0x4d7647[_0x1bda39(0x7d1)]||[],_0x5ba381=_0x4d7647[_0x1bda39(0xb64)]||{};}!_0x12ddda[_0x1bda39(0x633)](_0x43ecd8=>_0x43ecd8['id']===_0x1bda39(0x34e))&&_0x12ddda[_0x1bda39(0x672)]({'id':_0x1bda39(0x34e),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x2a382c[_0x1bda39(0x633)](_0x4ab202=>_0x4ab202['id']===_0x1bda39(0x811))&&_0x2a382c['unshift']({'id':'file-default-1','name':_0x1bda39(0x9cc),'url':'','isDefault':!![]}),!_0x2a382c[_0x1bda39(0x633)](_0x4422c2=>_0x4422c2['id']===_0x1bda39(0x8d2))&&_0x2a382c[_0x1bda39(0x672)]({'id':_0x1bda39(0x8d2),'name':_0x1bda39(0xaef),'url':'','isDefault':!![]}),fileShortcuts=_0x2a382c,fileShortcutTabs=_0x12ddda,fileShortcutOrder=_0x5ba381,renderFileShortcuts(),!document[_0x1bda39(0xbf1)]('additional-file-shortcuts-modal')[_0x1bda39(0xe06)][_0x1bda39(0xbe2)](_0x1bda39(0xa93))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x383703=_0x1cfa42,_0x3a79f2=doc(db,_0x383703(0xdb5),'fileShortcutsConfig');try{await setDoc(_0x3a79f2,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x5079f7){console[_0x383703(0x3f5)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x5079f7);}}function renderAdditionalFileShortcutsModal(){const _0x316219=_0x1cfa42,_0x1f4efc=document[_0x316219(0xbf1)](_0x316219(0xd77)),_0x26e979=document['getElementById']('additional-file-shortcuts-list');if(!_0x1f4efc||!_0x26e979)return;_0x1f4efc['innerHTML']=fileShortcutTabs['map'](_0x130184=>{const _0x5e53ab=_0x316219,_0x59577e=_0x130184['id']===activeFileShortcutTabId;return _0x5e53ab(0x68d)+_0x130184['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x59577e?'border-indigo-500\x20text-indigo-600':_0x5e53ab(0x3d1))+_0x5e53ab(0xdf5)+_0x130184[_0x5e53ab(0x372)]+_0x5e53ab(0x2a3)+_0x130184['name']+_0x5e53ab(0xb5c)+(!_0x130184[_0x5e53ab(0x642)]?'<button\x20data-tab-id=\x22'+_0x130184['id']+_0x5e53ab(0xdfb):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x316219(0x4ce)]('');const _0x54afee=fileShortcutTabs[_0x316219(0x633)](_0x2bcf5a=>_0x2bcf5a['id']===activeFileShortcutTabId);let _0x54a181=_0x54afee?.[_0x316219(0x642)]?[...fileShortcuts]:fileShortcuts['filter'](_0x341a03=>(_0x54afee?.[_0x316219(0x7ad)]||[])[_0x316219(0x1ef)](_0x341a03['id']));const _0x3c0240=fileShortcutOrder[activeFileShortcutTabId]||[];_0x54a181[_0x316219(0x712)]((_0x2214bc,_0x2e69fb)=>{const _0x351e94=_0x316219,_0x3d01e7=_0x3c0240[_0x351e94(0x326)](_0x2214bc['id']),_0x1393d5=_0x3c0240[_0x351e94(0x326)](_0x2e69fb['id']);return(_0x3d01e7===-0x1?Infinity:_0x3d01e7)-(_0x1393d5===-0x1?Infinity:_0x1393d5);}),_0x26e979[_0x316219(0xcf3)]=_0x54a181[_0x316219(0x469)](_0x1fc47=>{const _0x30dc52=_0x316219,_0x2a7ac1=_0x1fc47[_0x30dc52(0x2eb)]?'📄':'🔗',_0x4df91b=fileShortcutTabs[_0x30dc52(0x275)](_0x5c15ba=>!_0x5c15ba[_0x30dc52(0x642)]),_0x31b28f=_0x54afee[_0x30dc52(0x642)]&&_0x4df91b[_0x30dc52(0x26d)]>0x0?_0x30dc52(0x3c6)+_0x4df91b[_0x30dc52(0x469)](_0x4bb4e5=>'<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x1fc47['id']+'\x22\x20data-target-tab-id=\x22'+_0x4bb4e5['id']+'\x22>'+_0x4bb4e5['name']+_0x30dc52(0x36b))[_0x30dc52(0x4ce)]('')+_0x30dc52(0x88f):'';return _0x30dc52(0x34a)+_0x1fc47['id']+_0x30dc52(0x951)+_0x2a7ac1+'\x20'+_0x1fc47['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1fc47['id']+_0x30dc52(0x84b)+_0x1fc47['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1fc47[_0x30dc52(0x642)]?_0x30dc52(0x251)+_0x1fc47['id']+_0x30dc52(0x85f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x54afee[_0x30dc52(0x642)]?'<button\x20data-shortcut-id=\x22'+_0x1fc47['id']+_0x30dc52(0x86a):'')+_0x30dc52(0x3a7)+_0x31b28f+_0x30dc52(0x74d);})[_0x316219(0x4ce)]('')||_0x316219(0x810),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x22d691=_0x1cfa42;document[_0x22d691(0x218)](_0x22d691(0xd18))[_0x22d691(0xdac)](_0x1a898f=>{const _0x8ec924=_0x22d691;_0x1a898f[_0x8ec924(0x1a5)]=_0x522d9c=>{const _0x47ff1f=_0x8ec924;activeFileShortcutTabId=_0x522d9c[_0x47ff1f(0xd10)][_0x47ff1f(0x2b9)]['tabId'],renderAdditionalFileShortcutsModal();},_0x1a898f['ondblclick']=_0x4be2e4=>{const _0x1faf44=_0x8ec924,_0x4cf861=_0x4be2e4[_0x1faf44(0xd10)][_0x1faf44(0x19c)]('.tab-name-input');_0x4be2e4[_0x1faf44(0xd10)][_0x1faf44(0x19c)]('.tab-name-display')[_0x1faf44(0xe06)]['add'](_0x1faf44(0xa93)),_0x4cf861['classList'][_0x1faf44(0xb55)](_0x1faf44(0xa93)),_0x4cf861[_0x1faf44(0x451)](),_0x4cf861[_0x1faf44(0x4f4)]();};}),document[_0x22d691(0x218)](_0x22d691(0x33c))['forEach'](_0xf4fc8e=>{const _0x5149a6=_0x22d691,_0x509ece=()=>{const _0x3eaefc=_0x5ec1,_0x7e15e6=_0xf4fc8e[_0x3eaefc(0xd59)](_0x3eaefc(0xd18))[_0x3eaefc(0x2b9)]['tabId'],_0x310120=fileShortcutTabs[_0x3eaefc(0x633)](_0x16f8ac=>_0x16f8ac['id']===_0x7e15e6);_0x310120&&(_0x310120[_0x3eaefc(0x372)]=_0xf4fc8e[_0x3eaefc(0x49f)][_0x3eaefc(0xab6)]()||_0x310120[_0x3eaefc(0x372)],saveFileShortcutConfig());};_0xf4fc8e[_0x5149a6(0xe24)]=_0x509ece,_0xf4fc8e[_0x5149a6(0x5f0)]=_0x34bfd6=>{const _0x374f71=_0x5149a6;if(_0x34bfd6[_0x374f71(0x9bd)]===_0x374f71(0xbed))_0xf4fc8e['blur']();};}),document['querySelectorAll'](_0x22d691(0x819))[_0x22d691(0xdac)](_0x335b20=>_0x335b20[_0x22d691(0x1a5)]=_0x281c38=>{const _0x322699=_0x22d691,_0x410482=_0x281c38['currentTarget'][_0x322699(0x2b9)]['tabId'];showConfirmation(_0x322699(0x691),()=>{const _0x3e3c7b=_0x322699;fileShortcutTabs=fileShortcutTabs[_0x3e3c7b(0x275)](_0x5d065e=>_0x5d065e['id']!==_0x410482),delete fileShortcutOrder[_0x410482];if(activeFileShortcutTabId===_0x410482)activeFileShortcutTabId=_0x3e3c7b(0x34e);saveFileShortcutConfig();});}),document['querySelectorAll']('.move-file-shortcut-item')[_0x22d691(0xdac)](_0x1f24e3=>_0x1f24e3[_0x22d691(0x1a5)]=_0x25b878=>{const _0x2f40e2=_0x22d691;_0x25b878[_0x2f40e2(0x1a1)]();const {shortcutId:_0x5e7573,targetTabId:_0x374c9f}=_0x25b878[_0x2f40e2(0xd10)][_0x2f40e2(0x2b9)],_0x69b778=fileShortcutTabs[_0x2f40e2(0x633)](_0x3dd475=>_0x3dd475['id']===_0x374c9f);_0x69b778&&!_0x69b778[_0x2f40e2(0x7ad)]['includes'](_0x5e7573)&&(_0x69b778['shortcutIds'][_0x2f40e2(0x229)](_0x5e7573),saveFileShortcutConfig());}),document[_0x22d691(0x218)]('.remove-file-shortcut-from-tab-btn')[_0x22d691(0xdac)](_0x19109f=>_0x19109f[_0x22d691(0x1a5)]=_0x1c168e=>{const _0x241b8c=_0x22d691,_0x79b030=_0x1c168e[_0x241b8c(0xd10)][_0x241b8c(0x2b9)]['shortcutId'],_0x47db07=fileShortcutTabs[_0x241b8c(0x633)](_0x3c3410=>_0x3c3410['id']===activeFileShortcutTabId);_0x47db07&&!_0x47db07['isDefault']&&(_0x47db07[_0x241b8c(0x7ad)]=_0x47db07[_0x241b8c(0x7ad)]['filter'](_0xe66d9d=>_0xe66d9d!==_0x79b030),saveFileShortcutConfig());}),document[_0x22d691(0x218)]('.move-file-shortcut-menu-btn')[_0x22d691(0xdac)](_0x19b6ba=>_0x19b6ba[_0x22d691(0x1a5)]=_0x5893e0=>{const _0x36209c=_0x22d691;_0x5893e0[_0x36209c(0xb7d)]();const _0x3a7e22=_0x5893e0[_0x36209c(0xd10)]['nextElementSibling'];document[_0x36209c(0x218)](_0x36209c(0x643))[_0x36209c(0xdac)](_0x3b3e50=>_0x3b3e50[_0x36209c(0xe06)][_0x36209c(0xd5c)](_0x36209c(0xa93))),_0x3a7e22[_0x36209c(0xe06)][_0x36209c(0xb55)](_0x36209c(0xa93));});const _0x4542a3=document[_0x22d691(0xbf1)](_0x22d691(0xce2));let _0x201eef=null;_0x4542a3[_0x22d691(0x67a)]=_0x55063d=>{const _0x5cc19e=_0x22d691;_0x201eef=_0x55063d[_0x5cc19e(0xa8b)]['closest'](_0x5cc19e(0x92d));if(_0x201eef)setTimeout(()=>_0x201eef[_0x5cc19e(0xe06)][_0x5cc19e(0xd5c)](_0x5cc19e(0xc53)),0x0);},_0x4542a3[_0x22d691(0x43c)]=()=>{const _0x15eca3=_0x22d691;_0x201eef&&(_0x201eef['classList'][_0x15eca3(0xb55)]('opacity-50'),_0x201eef=null);},_0x4542a3[_0x22d691(0x947)]=_0x2f2756=>{const _0xf192bb=_0x22d691;_0x2f2756[_0xf192bb(0x1a1)]();},_0x4542a3[_0x22d691(0xdf3)]=_0x1ee840=>{const _0x51db43=_0x22d691;_0x1ee840['preventDefault']();if(_0x201eef){const _0x5590d9=[..._0x4542a3[_0x51db43(0x218)](_0x51db43(0x36f))][_0x51db43(0xdbd)]((_0x1f5d51,_0x4980a6)=>{const _0x5bc89b=_0x51db43,_0xcfd368=_0x4980a6[_0x5bc89b(0x31c)](),_0x432c3f=_0x1ee840['clientY']-_0xcfd368[_0x5bc89b(0xa7a)]-_0xcfd368[_0x5bc89b(0x991)]/0x2;return _0x432c3f<0x0&&_0x432c3f>_0x1f5d51[_0x5bc89b(0x4a0)]?{'offset':_0x432c3f,'element':_0x4980a6}:_0x1f5d51;},{'offset':Number['NEGATIVE_INFINITY']})[_0x51db43(0xa5e)];_0x5590d9==null?_0x4542a3[_0x51db43(0xc2a)](_0x201eef):_0x4542a3[_0x51db43(0x7d6)](_0x201eef,_0x5590d9);const _0x4b3551=[..._0x4542a3[_0x51db43(0x218)](_0x51db43(0x92d))][_0x51db43(0x469)](_0x4cd8b7=>_0x4cd8b7[_0x51db43(0x2b9)][_0x51db43(0x76b)]);fileShortcutOrder[activeFileShortcutTabId]=_0x4b3551,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x3d742c=_0x1cfa42,_0x5f373c=prompt(_0x3d742c(0xdeb),_0x3d742c(0x347));_0x5f373c&&_0x5f373c[_0x3d742c(0xab6)]()&&(fileShortcutTabs[_0x3d742c(0x229)]({'id':_0x3d742c(0xdc3)+Date[_0x3d742c(0x24a)](),'name':_0x5f373c[_0x3d742c(0xab6)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x2eb378=_0x1cfa42,_0x418a35=document[_0x2eb378(0xbf1)](_0x2eb378(0xac6)),_0x39e639=document[_0x2eb378(0xbf1)]('additional-file-shortcuts-list'),_0x39d641=document[_0x2eb378(0xbf1)](_0x2eb378(0x548));if(_0x39d641)_0x39d641[_0x2eb378(0xe06)][_0x2eb378(0xd5c)](_0x2eb378(0xa93));if(!_0x418a35||!_0x39e639)return;const _0x156f8a=fileShortcuts[_0x2eb378(0xa65)](0x0,0x4),_0x587304=fileShortcuts[_0x2eb378(0xa65)](0x4);_0x418a35[_0x2eb378(0xcf3)]=_0x156f8a[_0x2eb378(0x469)](_0x6d866b=>{const _0x8a4435=_0x2eb378,_0x2c0a41=_0x6d866b['url']&&_0x6d866b['url'][_0x8a4435(0xab6)]()!=='',_0x1d46e9=selectedFile&&selectedFile[_0x8a4435(0x76b)]===_0x6d866b['id'];let _0x569a8d='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x40b56c='🔗';if(_0x1d46e9)_0x569a8d=_0x8a4435(0x35f),_0x40b56c=_0x8a4435(0x4b6);else _0x2c0a41&&(_0x569a8d=_0x8a4435(0x1c6),_0x40b56c='📄');const _0x5ddb1f=!_0x6d866b[_0x8a4435(0x642)]?_0x8a4435(0x251)+_0x6d866b['id']+_0x8a4435(0xdaa):'';return _0x8a4435(0xbd3)+_0x6d866b['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x569a8d+_0x8a4435(0x952)+_0x40b56c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x6d866b[_0x8a4435(0x372)]+_0x8a4435(0x296)+_0x6d866b['id']+_0x8a4435(0x78c)+_0x5ddb1f+_0x8a4435(0x385);})[_0x2eb378(0x4ce)](''),_0x587304[_0x2eb378(0x26d)]>0x0&&(_0x418a35[_0x2eb378(0xcf3)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x587304[_0x2eb378(0x26d)]>0x0?_0x39e639['innerHTML']=_0x587304[_0x2eb378(0x469)](_0x3e7289=>_0x2eb378(0x612)+(_0x3e7289[_0x2eb378(0x2eb)]?'📄':'🔗')+'\x20'+_0x3e7289[_0x2eb378(0x372)]+_0x2eb378(0x210)+_0x3e7289['id']+_0x2eb378(0x411)+_0x3e7289['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3e7289[_0x2eb378(0x642)]?_0x2eb378(0x251)+_0x3e7289['id']+_0x2eb378(0x85f):'')+_0x2eb378(0xa2e))[_0x2eb378(0x4ce)](''):_0x39e639[_0x2eb378(0xcf3)]=_0x2eb378(0xa3b);}function openFileShortcutEditor(_0x3058c0=null){const _0x5074d8=_0x1cfa42,_0x35baa4=document[_0x5074d8(0xbf1)](_0x5074d8(0xb9a)),_0x457b30=document[_0x5074d8(0xbf1)]('file-shortcut-modal-title'),_0x2e84d5=document[_0x5074d8(0xbf1)](_0x5074d8(0xa3d)),_0xe22115=document['getElementById'](_0x5074d8(0xd63)),_0x4d446f=document[_0x5074d8(0xbf1)](_0x5074d8(0xb80));if(_0x3058c0){const _0xfaa3f0=fileShortcuts[_0x5074d8(0x633)](_0x51dd5d=>_0x51dd5d['id']===_0x3058c0);if(!_0xfaa3f0)return;_0x457b30[_0x5074d8(0x617)]=_0x5074d8(0x7b6),_0x2e84d5['value']=_0xfaa3f0['id'],_0xe22115[_0x5074d8(0x49f)]=_0xfaa3f0['name'],_0x4d446f[_0x5074d8(0x49f)]=_0xfaa3f0[_0x5074d8(0x2eb)]||'';}else _0x457b30[_0x5074d8(0x617)]=_0x5074d8(0x32f),_0x2e84d5[_0x5074d8(0x49f)]='',_0xe22115[_0x5074d8(0x49f)]='',_0x4d446f[_0x5074d8(0x49f)]='';_0x35baa4[_0x5074d8(0xe06)][_0x5074d8(0xb55)](_0x5074d8(0xa93));}async function saveFileShortcutChanges(){const _0x4e47d4=_0x1cfa42,_0x350470=document[_0x4e47d4(0xbf1)](_0x4e47d4(0xa3d))[_0x4e47d4(0x49f)],_0x20e0df=document['getElementById'](_0x4e47d4(0xd63))['value']['trim'](),_0x5c052e=document['getElementById'](_0x4e47d4(0xb80))[_0x4e47d4(0x49f)][_0x4e47d4(0xab6)]();if(!_0x20e0df){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x58c52f={'id':_0x350470||_0x4e47d4(0x656)+Date[_0x4e47d4(0x24a)](),'name':_0x20e0df,'url':_0x5c052e,'isDefault':_0x350470[_0x4e47d4(0x5d1)]('file-default-')};let _0x46d7d1;_0x350470?_0x46d7d1=fileShortcuts[_0x4e47d4(0x469)](_0x5c3fdf=>_0x5c3fdf['id']===_0x350470?_0x58c52f:_0x5c3fdf):_0x46d7d1=[...fileShortcuts,_0x58c52f];try{const _0x2aa602=doc(db,_0x4e47d4(0xdb5),_0x4e47d4(0x75f));await setDoc(_0x2aa602,{'shortcuts':_0x46d7d1},{'merge':!![]}),document['getElementById']('file-shortcut-editor-modal')[_0x4e47d4(0xe06)]['add'](_0x4e47d4(0xa93));}catch(_0x112ede){console['error'](_0x4e47d4(0x8be),_0x112ede),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0xb88b82){const _0x47cb02=_0x1cfa42,_0x27a9c6=fileShortcuts[_0x47cb02(0x633)](_0x39d084=>_0x39d084['id']===_0xb88b82);if(!_0x27a9c6)return;if(!_0x27a9c6[_0x47cb02(0x2eb)]||_0x27a9c6[_0x47cb02(0x2eb)]['trim']()===''){openFileShortcutEditor(_0xb88b82);return;}const _0x11f12d=document['querySelector'](_0x47cb02(0x459)+_0xb88b82+'\x22]');if(_0x11f12d){const _0x26d087=_0x11f12d[_0x47cb02(0xcf3)];_0x11f12d['innerHTML']=_0x47cb02(0x97b),_0x11f12d[_0x47cb02(0x635)]=!![];}document[_0x47cb02(0x218)](_0x47cb02(0x5f7))[_0x47cb02(0xdac)](_0x48a56d=>{const _0x4692d6=_0x47cb02;if(_0x48a56d[_0x4692d6(0x2b9)]['id']!==_0xb88b82)_0x48a56d[_0x4692d6(0xe06)][_0x4692d6(0xd5c)](_0x4692d6(0xc53),_0x4692d6(0xe12));});try{const _0x24a553=new URL(_0x27a9c6[_0x47cb02(0x2eb)])['pathname'],_0x2d1951=_0x24a553[_0x47cb02(0xc97)](_0x24a553['lastIndexOf']('/')+0x1)||(_0x27a9c6[_0x47cb02(0x2eb)][_0x47cb02(0x1ef)]('.txt')?_0x47cb02(0x3f2):'file.pdf'),_0x1bcf3f=await fetchFileFromUrl(_0x27a9c6[_0x47cb02(0x2eb)],_0x2d1951);_0x1bcf3f[_0x47cb02(0x76b)]=_0xb88b82,selectedFile=_0x1bcf3f,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x47cb02(0xb35))[_0x47cb02(0x488)]({'behavior':_0x47cb02(0x79a),'block':_0x47cb02(0x1c8)});}catch(_0xd8bef5){console[_0x47cb02(0x3f5)](_0x47cb02(0x91c),_0xd8bef5),showMessage(_0x47cb02(0x348)+_0xd8bef5['message']),renderFileShortcuts();}finally{document['querySelectorAll']('.file-shortcut-btn')['forEach'](_0x46b97c=>{const _0x1ade9f=_0x47cb02;_0x46b97c[_0x1ade9f(0xe06)]['remove'](_0x1ade9f(0xc53),'pointer-events-none'),_0x46b97c['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x15b17c=_0x1cfa42;if(allQuizzesGlobal[_0x15b17c(0x26d)]>0x0)return;console[_0x15b17c(0xc15)](_0x15b17c(0x5bb)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x509f02=await getDocs(collection(db,_0x15b17c(0x7ff)+appId+_0x15b17c(0x254)));allQuizzesGlobal=_0x509f02[_0x15b17c(0xd24)]['map'](_0x751ac2=>({'id':_0x751ac2['id'],..._0x751ac2['data']()})),console[_0x15b17c(0xc15)](_0x15b17c(0x60b)+allQuizzesGlobal['length']+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x15b17c(0xe06)][_0x15b17c(0xd5c)](_0x15b17c(0xa93));}catch(_0x1e6beb){console[_0x15b17c(0x3f5)](_0x15b17c(0x786),_0x1e6beb),messageModal[_0x15b17c(0xe06)][_0x15b17c(0xd5c)]('hidden');throw new Error(_0x15b17c(0x8f0));}}function exportQuizAsWorksheetPDF(){const _0x11bfee=_0x1cfa42;if(!currentQuizData||!currentQuizData[_0x11bfee(0xb0f)]){showMessage(_0x11bfee(0x662));return;}const _0x49bd7e=currentQuizData,_0x27e3a7=window[_0x11bfee(0x6a0)]('','_blank'),_0x3ab43d=_0x51930e=>String[_0x11bfee(0x6f0)](0x41+_0x51930e),_0x3794c8=_0x11bfee(0xdbc)+_0x49bd7e[_0x11bfee(0x3b7)]+_0x11bfee(0x6e9)+_0x49bd7e[_0x11bfee(0x3b7)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49bd7e[_0x11bfee(0xb0f)]['map']((_0x4fc7d6,_0x512960)=>{const _0x26f765=_0x11bfee;let _0x2aed61='';const _0x39b4ab=_0x4fc7d6[_0x26f765(0xb83)]||_0x49bd7e[_0x26f765(0x4c3)];switch(_0x39b4ab){case _0x26f765(0x37c):case _0x26f765(0xa46):_0x2aed61=_0x26f765(0xc93)+_0x4fc7d6[_0x26f765(0x9e4)][_0x26f765(0x469)]((_0x2173b3,_0x2f0b88)=>_0x26f765(0xca3)+_0x3ab43d(_0x2f0b88)+'.\x20'+_0x2173b3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x26f765(0x4ce)](_0x26f765(0xb40))+'</div>';break;case _0x26f765(0x1cb):_0x2aed61='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x2aed61='<div\x20class=\x22answer-space\x22></div>';break;}return _0x26f765(0x780)+(_0x512960+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4fc7d6['stem']||_0x4fc7d6[_0x26f765(0x324)])+_0x26f765(0x81c)+(_0x4fc7d6[_0x26f765(0x50a)]?_0x26f765(0x654)+_0x4fc7d6[_0x26f765(0x50a)]+_0x26f765(0xcdd):'')+_0x26f765(0x4ed)+_0x2aed61+_0x26f765(0x623);})[_0x11bfee(0x4ce)]('')+_0x11bfee(0x538);_0x27e3a7[_0x11bfee(0x5f2)][_0x11bfee(0xb37)](_0x3794c8),_0x27e3a7[_0x11bfee(0x5f2)][_0x11bfee(0xdb7)](),_0x27e3a7[_0x11bfee(0xe0a)]=function(){setTimeout(()=>{_0x27e3a7['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2c1d5d=_0x1cfa42;if(!currentQuizData||!currentQuizData[_0x2c1d5d(0xb0f)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x452608=currentQuizData,_0x1cf84c=window[_0x2c1d5d(0x6a0)]('',_0x2c1d5d(0xa15)),_0x1c31ba=_0x3ba469=>String[_0x2c1d5d(0x6f0)](0x41+_0x3ba469),_0xa1b7c1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x452608[_0x2c1d5d(0x3b7)]+_0x2c1d5d(0x2e7)+_0x452608['questions'][_0x2c1d5d(0x469)]((_0x1fa0fa,_0x3ece9e)=>{const _0x1682f9=_0x2c1d5d;let _0x3a49f2='';const _0x484838=_0x1fa0fa[_0x1682f9(0xb83)]||_0x452608['quizType'];switch(_0x484838){case _0x1682f9(0x37c):case'fill_in_with_choices':_0x3a49f2=_0x1682f9(0x5c6)+_0x1fa0fa[_0x1682f9(0x9e4)][_0x1682f9(0x469)]((_0x48642d,_0x153769)=>_0x1682f9(0xb56)+_0x1c31ba(_0x153769)+'.\x20'+_0x48642d+'</span>')[_0x1682f9(0x4ce)](_0x1682f9(0xb40))+_0x1682f9(0x9ca);break;case'true_false':_0x3a49f2=_0x1682f9(0x8f1);break;default:_0x3a49f2='';break;}return _0x1682f9(0x63b)+_0x452608[_0x1682f9(0x3b7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x3ece9e+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x1fa0fa[_0x1682f9(0x826)]||_0x1fa0fa['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1fa0fa['imageCode']?_0x1682f9(0xcd4)+_0x1fa0fa[_0x1682f9(0x50a)]+_0x1682f9(0xcdd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a49f2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2c1d5d(0x4ce)]('')+_0x2c1d5d(0x172);_0x1cf84c['document'][_0x2c1d5d(0xb37)](_0xa1b7c1),_0x1cf84c[_0x2c1d5d(0x5f2)][_0x2c1d5d(0xdb7)](),_0x1cf84c[_0x2c1d5d(0xe0a)]=function(){setTimeout(()=>{const _0x5e6c77=_0x5ec1;_0x1cf84c[_0x5e6c77(0xbbe)]();},0x5dc);};}async function handleToggleStarQuiz(_0x7d2cc3){const _0x397f74=_0x1cfa42,_0x2e2eb2=doc(db,_0x397f74(0x7ff)+appId+_0x397f74(0x254),_0x7d2cc3);try{const _0x1a7a0c=await getDoc(_0x2e2eb2);if(_0x1a7a0c['exists']()){const _0x2490db=_0x1a7a0c[_0x397f74(0x934)]()[_0x397f74(0x266)]||![];await updateDoc(_0x2e2eb2,{'isStarred':!_0x2490db});}}catch(_0x49d4de){console[_0x397f74(0x3f5)]('Error\x20toggling\x20star\x20status:',_0x49d4de),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x46626c=_0x1cfa42,_0x1c8e78=document[_0x46626c(0xbf1)](_0x46626c(0x388));_0x1c8e78[_0x46626c(0xcf3)]=_0x46626c(0xc5a);try{const _0x2b6fce=collection(db,'artifacts/'+appId+'/users/'+userId+_0x46626c(0xd93)),_0x3f5232=query(_0x2b6fce),_0x32a8f2=await getDocs(_0x3f5232);if(_0x32a8f2[_0x46626c(0x5f1)]){_0x1c8e78[_0x46626c(0xcf3)]=_0x46626c(0xdc5);return;}let _0x594159=_0x32a8f2['docs'][_0x46626c(0x469)](_0x371b4a=>{const _0x3e59d2=_0x46626c,_0x1ee7d1=_0x371b4a[_0x3e59d2(0x934)](),_0x28bd4d=_0x371b4a['id'];return _0x3e59d2(0xb5b)+JSON[_0x3e59d2(0x2a1)](_0x1ee7d1)+_0x3e59d2(0x2b3)+(_0x1ee7d1[_0x3e59d2(0x324)]||_0x1ee7d1[_0x3e59d2(0x826)])+_0x3e59d2(0x637)+_0x1ee7d1[_0x3e59d2(0xdca)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x46626c(0x4ce)]('');_0x1c8e78[_0x46626c(0xcf3)]=_0x46626c(0x1ac)+_0x594159+_0x46626c(0x34c),document[_0x46626c(0xbf1)](_0x46626c(0x27c))[_0x46626c(0x4ef)](_0x46626c(0x67d),createQuizFromBank);}catch(_0x4294c8){console[_0x46626c(0x3f5)]('Error\x20displaying\x20question\x20bank:',_0x4294c8),_0x1c8e78[_0x46626c(0xcf3)]=_0x46626c(0xd32);}}async function handleExportLessonToPDF(){const _0x23e460=_0x1cfa42,_0x9d1405=document[_0x23e460(0xbf1)](_0x23e460(0xcd1)),_0x12af16=document[_0x23e460(0xbf1)](_0x23e460(0xd8f))['textContent']||_0x23e460(0x68f);if(!_0x9d1405){showMessage(_0x23e460(0x41d));return;}const _0x4ca10b=window[_0x23e460(0x6a0)]('',_0x23e460(0xa15)),_0x2d2697=_0x23e460(0x9c9)+_0x12af16+_0x23e460(0xd8a)+_0x12af16+_0x23e460(0xb68)+_0x9d1405[_0x23e460(0xcf3)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4ca10b['document'][_0x23e460(0xb37)](_0x2d2697),_0x4ca10b[_0x23e460(0x5f2)][_0x23e460(0xdb7)](),_0x4ca10b['onload']=function(){setTimeout(()=>{const _0x25aa0f=_0x5ec1;_0x4ca10b[_0x25aa0f(0xbbe)]();},0x7d0);};}function showAdminLiveQuestionView(_0x2900f8,_0x5effe5,_0x17e8b3){const _0x43c8a0=_0x1cfa42,_0x3923e9=_0x2900f8[_0x43c8a0(0xb83)]||currentQuizData[_0x43c8a0(0x4c3)];let _0x449cb4='';if(_0x3923e9===_0x43c8a0(0x37c)||_0x3923e9===_0x43c8a0(0x1cb)){const _0x2c319e=_0x3923e9===_0x43c8a0(0x1cb)?[_0x43c8a0(0x24e),_0x43c8a0(0xd5f)]:_0x2900f8[_0x43c8a0(0x9e4)],_0x3a850f=_0x3923e9===_0x43c8a0(0x1cb)?_0x2900f8[_0x43c8a0(0x59b)]?0x0:0x1:_0x2900f8['correctAnswerIndex'];_0x449cb4=_0x2c319e['map']((_0xa78282,_0x43f41c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x43f41c===_0x3a850f)+_0x43c8a0(0xbe5)+_0xa78282+_0x43c8a0(0x385))[_0x43c8a0(0x4ce)]('');}else{if(_0x3923e9===_0x43c8a0(0x2bf)){const _0x221350=_0x2900f8[_0x43c8a0(0xb53)]||[];_0x449cb4=_0x221350[_0x43c8a0(0x469)](_0x1d15d7=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x1d15d7===_0x2900f8[_0x43c8a0(0x578)])+_0x43c8a0(0xbe5)+_0x1d15d7+_0x43c8a0(0x385))['join']('');}}const _0x93c7bb=_0x2900f8[_0x43c8a0(0x826)]||_0x2900f8[_0x43c8a0(0x324)],_0x338ec3=_0x43c8a0(0x961)+(_0x5effe5+0x1)+_0x43c8a0(0x7b1)+_0x17e8b3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x43c8a0(0xb5a)+_0x93c7bb+_0x43c8a0(0x79b)+_0x449cb4+_0x43c8a0(0xe1b);liveGameView[_0x43c8a0(0xcf3)]=_0x338ec3,window[_0x43c8a0(0x6b2)]&&MathJax['typesetPromise']&&MathJax[_0x43c8a0(0x255)]([liveGameView]),document[_0x43c8a0(0xbf1)]('reveal-answer-btn')['addEventListener'](_0x43c8a0(0x67d),()=>revealAnswerForAdmin(_0x5effe5,_0x17e8b3)),document[_0x43c8a0(0xbf1)](_0x43c8a0(0x1f5))[_0x43c8a0(0x4ef)](_0x43c8a0(0x67d),async()=>{const _0x5d1e77=_0x43c8a0;showConfirmation(_0x5d1e77(0x46c),async()=>{const _0xfa13aa=_0x5d1e77,_0x453b6c=doc(db,_0xfa13aa(0x7ff)+appId+_0xfa13aa(0x270),currentLiveGameId);await updateDoc(_0x453b6c,{'status':_0xfa13aa(0x3f8)});});}),document['getElementById'](_0x43c8a0(0xa4a))['addEventListener']('click',()=>{const _0x35945c=_0x43c8a0;document['getElementById'](_0x35945c(0xbc7))[_0x35945c(0xe06)][_0x35945c(0xde5)]('hidden');});}function promptForProjectBeforeGenerating(_0x997b65){const _0x3bb2b5=_0x1cfa42,_0x5ce4d0=document[_0x3bb2b5(0xbf1)]('move-quiz-modal'),_0x40f8de=document[_0x3bb2b5(0xbf1)](_0x3bb2b5(0x1b8)),_0x53bb01=_0x5ce4d0[_0x3bb2b5(0x19c)]('h3'),_0x40dc59=document[_0x3bb2b5(0xbf1)]('confirm-move-quiz-btn'),_0x950cec=document[_0x3bb2b5(0xbf1)](_0x3bb2b5(0x5a5));_0x53bb01[_0x3bb2b5(0x617)]=_0x3bb2b5(0xd4d),_0x40dc59[_0x3bb2b5(0x617)]=_0x3bb2b5(0xc29),_0x40dc59[_0x3bb2b5(0x635)]=!![];allProjects[_0x3bb2b5(0x26d)]===0x0?_0x40f8de[_0x3bb2b5(0xcf3)]=_0x3bb2b5(0xd09):(_0x40f8de[_0x3bb2b5(0xcf3)]=_0x3bb2b5(0x5c5)+allProjects[_0x3bb2b5(0x469)](_0x1d2155=>_0x3bb2b5(0x7ce)+_0x1d2155['id']+'\x22>'+_0x1d2155[_0x3bb2b5(0x19e)]+_0x3bb2b5(0x224))[_0x3bb2b5(0x4ce)](''),_0x40dc59['disabled']=![]);_0x5ce4d0['classList'][_0x3bb2b5(0xb55)]('hidden');const _0x500b9c=async()=>{const _0x44461b=_0x3bb2b5,_0x2c7ce5=_0x40f8de[_0x44461b(0x49f)];if(!_0x2c7ce5){showMessage(_0x44461b(0x17a));return;}_0x5ce4d0[_0x44461b(0xe06)]['add'](_0x44461b(0xa93)),await loadProjectDetails(_0x2c7ce5),showView(_0x44461b(0x80f)),handleGenerateQuizFromBlueprintTopic(_0x997b65),_0x5557a0();},_0x5557a0=()=>{const _0x21d23a=_0x3bb2b5;_0x53bb01['textContent']=_0x21d23a(0x51c),_0x40dc59[_0x21d23a(0x617)]=_0x21d23a(0x8bf),_0x40dc59[_0x21d23a(0x85c)](_0x21d23a(0x67d),_0x500b9c),_0x950cec[_0x21d23a(0x85c)](_0x21d23a(0x67d),_0x5557a0),_0x40dc59[_0x21d23a(0x4ef)](_0x21d23a(0x67d),confirmMoveQuiz);};_0x40dc59[_0x3bb2b5(0x85c)]('click',confirmMoveQuiz),_0x40dc59[_0x3bb2b5(0x4ef)]('click',_0x500b9c),_0x950cec[_0x3bb2b5(0x4ef)](_0x3bb2b5(0x67d),_0x5557a0);}function showStudentLiveQuestionView(_0x1cc776,_0x1fdfab,_0xc53cd2){const _0x15e5cd=_0x1cfa42,_0x3a6506=_0x1cc776[_0x15e5cd(0xb83)]||currentQuizData[_0x15e5cd(0x4c3)];let _0x2234d6='';if(_0x3a6506==='multiple_choice'||_0x3a6506===_0x15e5cd(0x1cb)){const _0x24f6c4=_0x3a6506==='true_false'?[_0x15e5cd(0x24e),'ไม่ใช่']:_0x1cc776['options'];_0x2234d6=_0x24f6c4[_0x15e5cd(0x469)]((_0x140353,_0x1d9bed)=>_0x15e5cd(0xb01)+_0x1d9bed+_0x15e5cd(0x6f7)+_0x140353+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x15e5cd(0x4ce)]('');}else{if(_0x3a6506===_0x15e5cd(0x2bf)){const _0x595ea1=_0x1cc776[_0x15e5cd(0xb53)]||[];_0x2234d6=_0x595ea1['map']((_0x1f71f8,_0xeb79ae)=>_0x15e5cd(0xb01)+_0xeb79ae+_0x15e5cd(0x6f7)+_0x1f71f8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x15e5cd(0x4ce)]('');}else _0x3a6506==='short_answer'&&(_0x2234d6=_0x15e5cd(0x274));}const _0x2bf592=_0x1cc776['stem']||_0x1cc776[_0x15e5cd(0x324)],_0x2480dd=_0x15e5cd(0xe17)+(_0x1fdfab+0x1)+'\x20/\x20'+_0xc53cd2+_0x15e5cd(0x8c5)+_0x2bf592+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2234d6+_0x15e5cd(0xc6c);liveGameView[_0x15e5cd(0xcf3)]=_0x2480dd;window[_0x15e5cd(0x6b2)]&&MathJax['typesetPromise']&&MathJax[_0x15e5cd(0x255)]([liveGameView]);const _0x3ffd8a=document[_0x15e5cd(0xbf1)](_0x15e5cd(0x905));_0x3ffd8a&&_0x3ffd8a[_0x15e5cd(0x4ef)](_0x15e5cd(0x67d),()=>{const _0x56d9f1=_0x15e5cd,_0x4a2f9d=document[_0x56d9f1(0xbf1)]('live-short-answer-input')[_0x56d9f1(0x49f)];handleLiveAnswer(_0x4a2f9d,_0x1cc776);}),document[_0x15e5cd(0xbf1)](_0x15e5cd(0x752))[_0x15e5cd(0x4ef)](_0x15e5cd(0x67d),_0x4ae3bc=>{const _0x4c2778=_0x15e5cd,_0x4d9db4=_0x4ae3bc['target'][_0x4c2778(0xd59)]('.live-answer-btn');if(_0x4d9db4){const _0x223dae=parseInt(_0x4d9db4[_0x4c2778(0x2b9)][_0x4c2778(0x3fd)]);handleLiveAnswer(_0x223dae,_0x1cc776);}});}function listenForBlueprintShortcuts(){const _0x54c86e=_0x1cfa42,_0x2957a4=doc(db,_0x54c86e(0xdb5),_0x54c86e(0xb9c));onSnapshot(_0x2957a4,_0x560dd3=>{const _0x50d2bb=_0x54c86e;let _0x5a2acd=[],_0x233256=[],_0x38986e={};if(_0x560dd3[_0x50d2bb(0x2b1)]()){const _0x585d16=_0x560dd3[_0x50d2bb(0x934)]();_0x5a2acd=_0x585d16[_0x50d2bb(0xa32)]||[],_0x233256=_0x585d16[_0x50d2bb(0xdcd)]||[],_0x38986e=_0x585d16[_0x50d2bb(0x18e)]||{};}!_0x233256[_0x50d2bb(0x633)](_0x370795=>_0x370795['id']===_0x50d2bb(0x34e))&&_0x233256['unshift']({'id':_0x50d2bb(0x34e),'name':_0x50d2bb(0x22d),'isDefault':!![]}),!_0x5a2acd[_0x50d2bb(0x633)](_0x4cc67e=>_0x4cc67e['id']==='default-1')&&_0x5a2acd['unshift']({'id':_0x50d2bb(0x615),'name':_0x50d2bb(0x544),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x5a2acd[_0x50d2bb(0x633)](_0x14cfc7=>_0x14cfc7['id']===_0x50d2bb(0x483))&&_0x5a2acd['unshift']({'id':_0x50d2bb(0x483),'name':_0x50d2bb(0x3da),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x5a2acd,shortcutTabs=_0x233256,shortcutOrder=_0x38986e,renderBlueprintShortcuts(),!document['getElementById']('additional-shortcuts-modal')[_0x50d2bb(0xe06)]['contains'](_0x50d2bb(0xa93))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x351e85=_0x1cfa42,_0x511a39=document[_0x351e85(0xbf1)](_0x351e85(0x273)),_0x54a2f9=document['getElementById'](_0x351e85(0x3c0));if(!_0x511a39||!_0x54a2f9)return;_0x511a39[_0x351e85(0xcf3)]=shortcutTabs[_0x351e85(0x469)](_0x571531=>{const _0x498d53=_0x351e85,_0xbeeff6=_0x571531['id']===activeShortcutTabId,_0xa9ef61=_0x498d53(0x328),_0x133cfb=_0x498d53(0x3d1);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x571531['id']+_0x498d53(0xb2d)+(_0xbeeff6?_0xa9ef61:_0x133cfb)+_0x498d53(0x568)+_0x571531['name']+_0x498d53(0x998)+_0x571531[_0x498d53(0x372)]+_0x498d53(0xb26)+(!_0x571531[_0x498d53(0x642)]?_0x498d53(0x3a2)+_0x571531['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x498d53(0x385);})['join']('');const _0x28faf4=shortcutTabs[_0x351e85(0x633)](_0x4da7a6=>_0x4da7a6['id']===activeShortcutTabId);let _0x50a0da=[];if(_0x28faf4){if(_0x28faf4[_0x351e85(0x642)])_0x50a0da=[...blueprintShortcuts];else{const _0x3de625=_0x28faf4[_0x351e85(0x7ad)]||[];_0x50a0da=blueprintShortcuts[_0x351e85(0x275)](_0x272fc7=>_0x3de625[_0x351e85(0x1ef)](_0x272fc7['id']));}}const _0x1d2b8a=shortcutOrder[activeShortcutTabId]||[];_0x50a0da[_0x351e85(0x712)]((_0x3dc632,_0x3bb974)=>{const _0x423d21=_0x351e85,_0x3ea548=_0x1d2b8a[_0x423d21(0x326)](_0x3dc632['id']),_0xd34573=_0x1d2b8a[_0x423d21(0x326)](_0x3bb974['id']);if(_0x3ea548===-0x1)return 0x1;if(_0xd34573===-0x1)return-0x1;return _0x3ea548-_0xd34573;}),_0x54a2f9['innerHTML']=_0x50a0da['length']>0x0?_0x50a0da[_0x351e85(0x469)](_0x4ef2ee=>{const _0xfc0fd9=_0x351e85;let _0xe1f1f='🧩';if(_0x4ef2ee[_0xfc0fd9(0x644)]&&_0x4ef2ee[_0xfc0fd9(0xd7a)])_0xe1f1f='📗';else{if(_0x4ef2ee[_0xfc0fd9(0x644)])_0xe1f1f='📘';}const _0x1abce6=shortcutTabs[_0xfc0fd9(0x275)](_0x113636=>!_0x113636['isDefault']),_0x17204=_0x28faf4[_0xfc0fd9(0x642)]&&_0x1abce6[_0xfc0fd9(0x26d)]>0x0?_0xfc0fd9(0x4e7)+_0x1abce6[_0xfc0fd9(0x469)](_0x1fbf77=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x4ef2ee['id']+_0xfc0fd9(0xc44)+_0x1fbf77['id']+'\x22>'+_0x1fbf77[_0xfc0fd9(0x372)]+_0xfc0fd9(0xa6b))[_0xfc0fd9(0x4ce)]('')+_0xfc0fd9(0xa06):'';return _0xfc0fd9(0xbcb)+_0x4ef2ee['id']+_0xfc0fd9(0xb05)+_0xe1f1f+'\x20'+_0x4ef2ee[_0xfc0fd9(0x372)]+_0xfc0fd9(0xc41)+_0x4ef2ee['id']+_0xfc0fd9(0x9c1)+_0x4ef2ee['id']+_0xfc0fd9(0xa19)+(!_0x4ef2ee[_0xfc0fd9(0x642)]?_0xfc0fd9(0x251)+_0x4ef2ee['id']+_0xfc0fd9(0xa5d):'')+_0xfc0fd9(0x3cb)+(!_0x28faf4[_0xfc0fd9(0x642)]?'<button\x20data-shortcut-id=\x22'+_0x4ef2ee['id']+_0xfc0fd9(0xc94):'')+_0xfc0fd9(0x3cb)+_0x17204+_0xfc0fd9(0x3aa);})[_0x351e85(0x4ce)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x374108=_0x1cfa42;document[_0x374108(0x218)](_0x374108(0xd9a))['forEach'](_0x3e2d13=>{const _0x1ee1b3=_0x374108;_0x3e2d13[_0x1ee1b3(0x4ef)](_0x1ee1b3(0x67d),_0x3a93c4=>{const _0x360059=_0x1ee1b3;activeShortcutTabId=_0x3a93c4['currentTarget'][_0x360059(0x2b9)][_0x360059(0xb4d)],renderAdditionalShortcutsModal();}),_0x3e2d13['addEventListener']('dblclick',_0x3bddae=>{const _0x4cd3cc=_0x1ee1b3,_0xb1eee7=_0x3bddae[_0x4cd3cc(0xd10)];_0xb1eee7[_0x4cd3cc(0x19c)](_0x4cd3cc(0xc80))['classList'][_0x4cd3cc(0xd5c)]('hidden');const _0x39023a=_0xb1eee7[_0x4cd3cc(0x19c)](_0x4cd3cc(0x719));_0x39023a[_0x4cd3cc(0xe06)][_0x4cd3cc(0xb55)](_0x4cd3cc(0xa93)),_0x39023a['focus'](),_0x39023a[_0x4cd3cc(0x4f4)]();});}),document['querySelectorAll'](_0x374108(0x719))[_0x374108(0xdac)](_0x469e25=>{const _0x20e71a=_0x374108,_0x43ec21=()=>{const _0x1b5820=_0x5ec1,_0x544f16=_0x469e25[_0x1b5820(0xd59)](_0x1b5820(0xd9a))[_0x1b5820(0x2b9)]['tabId'];handleRenameShortcutTab(_0x544f16,_0x469e25['value']);};_0x469e25[_0x20e71a(0x4ef)](_0x20e71a(0xb84),_0x43ec21),_0x469e25[_0x20e71a(0x4ef)](_0x20e71a(0x17e),_0x2152c9=>{if(_0x2152c9['key']==='Enter')_0x469e25['blur']();});}),document['querySelectorAll'](_0x374108(0x250))[_0x374108(0xdac)](_0x1ff30e=>{const _0xd8495=_0x374108;_0x1ff30e[_0xd8495(0x4ef)](_0xd8495(0x67d),_0x4929b5=>handleDeleteShortcutTab(_0x4929b5['currentTarget'][_0xd8495(0x2b9)][_0xd8495(0xb4d)]));}),document[_0x374108(0x218)](_0x374108(0x36d))[_0x374108(0xdac)](_0x1ef3e9=>{const _0x34f0ca=_0x374108;_0x1ef3e9['addEventListener'](_0x34f0ca(0x67d),_0x262c22=>{const _0x3f33d6=_0x34f0ca;_0x262c22[_0x3f33d6(0x1a1)]();const {shortcutId:_0x516390,targetTabId:_0x4899d5}=_0x262c22['currentTarget'][_0x3f33d6(0x2b9)];handleMoveShortcutToTab(_0x516390,_0x4899d5);});}),document[_0x374108(0x218)]('.remove-shortcut-from-tab-btn')[_0x374108(0xdac)](_0xfd0ff6=>{const _0x313231=_0x374108;_0xfd0ff6['addEventListener'](_0x313231(0x67d),_0x12e0d3=>{const _0x3bedc4=_0x313231;handleRemoveShortcutFromTab(_0x12e0d3[_0x3bedc4(0xd10)]['dataset'][_0x3bedc4(0x76b)],activeShortcutTabId);});});const _0x2f6b06=document[_0x374108(0xbf1)](_0x374108(0x3c0));_0x2f6b06[_0x374108(0x218)]('.use-hidden-shortcut-btn')[_0x374108(0xdac)](_0x2fdc46=>{const _0x1ff251=_0x374108;_0x2fdc46[_0x1ff251(0x4ef)](_0x1ff251(0x67d),()=>{const _0x45d6e7=_0x1ff251;document[_0x45d6e7(0xbf1)](_0x45d6e7(0x8f8))['classList']['add'](_0x45d6e7(0xa93)),handleShortcutClick(_0x2fdc46[_0x45d6e7(0x2b9)]['id']);});});let _0x15aebc=null;_0x2f6b06[_0x374108(0x4ef)](_0x374108(0x264),_0x1d344f=>{const _0x3e714c=_0x374108;_0x15aebc=_0x1d344f[_0x3e714c(0xa8b)][_0x3e714c(0xd59)](_0x3e714c(0x92d)),_0x15aebc&&setTimeout(()=>_0x15aebc['classList']['add'](_0x3e714c(0xc53)),0x0);}),_0x2f6b06[_0x374108(0x4ef)]('dragend',()=>{const _0x8e5a91=_0x374108;_0x15aebc&&(_0x15aebc[_0x8e5a91(0xe06)][_0x8e5a91(0xb55)]('opacity-50'),_0x15aebc=null);}),_0x2f6b06['addEventListener'](_0x374108(0xb81),_0x58454c=>{const _0x4efa8f=_0x374108;_0x58454c[_0x4efa8f(0x1a1)]();const _0xcaecff=[..._0x2f6b06['querySelectorAll'](_0x4efa8f(0x36f))]['reduce']((_0x150782,_0x32cf59)=>{const _0x257be1=_0x4efa8f,_0x393d2a=_0x32cf59[_0x257be1(0x31c)](),_0x21e200=_0x58454c[_0x257be1(0xa62)]-_0x393d2a[_0x257be1(0xa7a)]-_0x393d2a[_0x257be1(0x991)]/0x2;return _0x21e200<0x0&&_0x21e200>_0x150782[_0x257be1(0x4a0)]?{'offset':_0x21e200,'element':_0x32cf59}:_0x150782;},{'offset':Number[_0x4efa8f(0x70d)]})[_0x4efa8f(0xa5e)];_0xcaecff==null?_0x2f6b06[_0x4efa8f(0xc2a)](_0x15aebc):_0x2f6b06[_0x4efa8f(0x7d6)](_0x15aebc,_0xcaecff);}),_0x2f6b06[_0x374108(0x4ef)]('drop',_0x1a4900=>{const _0x3699d0=_0x374108;_0x1a4900[_0x3699d0(0x1a1)]();if(_0x15aebc){const _0x43f7da=[..._0x2f6b06[_0x3699d0(0x218)](_0x3699d0(0x92d))][_0x3699d0(0x469)](_0x1bd60e=>_0x1bd60e[_0x3699d0(0x2b9)][_0x3699d0(0x76b)]);handleShortcutOrderChange(activeShortcutTabId,_0x43f7da);}}),document['querySelectorAll']('.move-shortcut-menu-btn')['forEach'](_0x175a6c=>{const _0x196b3c=_0x374108;_0x175a6c[_0x196b3c(0x4ef)](_0x196b3c(0x67d),_0x207e7f=>{const _0x40c52e=_0x196b3c;_0x207e7f['stopPropagation']();const _0x1de2d3=_0x207e7f[_0x40c52e(0xd10)][_0x40c52e(0x207)],_0x4fe1b5=_0x1de2d3[_0x40c52e(0xe06)]['contains'](_0x40c52e(0xa93));document[_0x40c52e(0x218)](_0x40c52e(0x175))[_0x40c52e(0xdac)](_0x4415db=>_0x4415db[_0x40c52e(0xe06)][_0x40c52e(0xd5c)](_0x40c52e(0xa93))),_0x4fe1b5&&_0x1de2d3[_0x40c52e(0xe06)][_0x40c52e(0xb55)](_0x40c52e(0xa93));});});}document[_0x1cfa42(0x4ef)]('click',_0x5875a4=>{const _0x5e41cb=_0x1cfa42;!_0x5875a4[_0x5e41cb(0xa8b)][_0x5e41cb(0xd59)](_0x5e41cb(0x88c))&&document['querySelectorAll'](_0x5e41cb(0x175))[_0x5e41cb(0xdac)](_0x3d604a=>_0x3d604a[_0x5e41cb(0xe06)][_0x5e41cb(0xd5c)](_0x5e41cb(0xa93)));});async function saveShortcutConfig(){const _0x2ce5d7=_0x1cfa42,_0x55ebfe=doc(db,_0x2ce5d7(0xdb5),_0x2ce5d7(0xb9c));try{await setDoc(_0x55ebfe,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x5aeb2d){console[_0x2ce5d7(0x3f5)](_0x2ce5d7(0x8ff),_0x5aeb2d);}}async function handleAddShortcutTab(){const _0x45c704=_0x1cfa42,_0x37c873=prompt(_0x45c704(0xdeb),_0x45c704(0x347));if(!_0x37c873||_0x37c873['trim']()==='')return;shortcutTabs[_0x45c704(0x229)]({'id':_0x45c704(0xdc3)+Date[_0x45c704(0x24a)](),'name':_0x37c873['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x524ef5,_0x421514){const _0x128ddf=_0x1cfa42,_0x340254=shortcutTabs[_0x128ddf(0x633)](_0x10113f=>_0x10113f['id']===_0x524ef5);_0x340254&&_0x421514[_0x128ddf(0xab6)]()!==''&&(_0x340254[_0x128ddf(0x372)]=_0x421514[_0x128ddf(0xab6)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x2b7e11){const _0x2a1372=_0x1cfa42,_0x585aa1=shortcutTabs[_0x2a1372(0x633)](_0x38cd7d=>_0x38cd7d['id']===_0x2b7e11);_0x585aa1&&!_0x585aa1[_0x2a1372(0x642)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x585aa1[_0x2a1372(0x372)]+_0x2a1372(0x39f),async()=>{const _0x475da6=_0x2a1372;shortcutTabs=shortcutTabs[_0x475da6(0x275)](_0x5d3e5f=>_0x5d3e5f['id']!==_0x2b7e11),delete shortcutOrder[_0x2b7e11];if(activeShortcutTabId===_0x2b7e11)activeShortcutTabId=_0x475da6(0x34e);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x615bc3,_0x546777){const _0xcf012c=_0x1cfa42,_0x133ed6=shortcutTabs['find'](_0x55438b=>_0x55438b['id']===_0x546777);_0x133ed6&&!_0x133ed6[_0xcf012c(0x7ad)]['includes'](_0x615bc3)&&(_0x133ed6[_0xcf012c(0x7ad)]['push'](_0x615bc3),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x559f7c,_0x488a10){const _0x57eab3=_0x1cfa42,_0x5548e8=shortcutTabs['find'](_0x22733c=>_0x22733c['id']===_0x488a10);_0x5548e8&&!_0x5548e8['isDefault']&&(_0x5548e8[_0x57eab3(0x7ad)]=_0x5548e8['shortcutIds'][_0x57eab3(0x275)](_0x43f70a=>_0x43f70a!==_0x559f7c),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x396443,_0x7849c0){shortcutOrder[_0x396443]=_0x7849c0,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x4971dc=_0x1cfa42,_0xe6e83f=document[_0x4971dc(0xbf1)](_0x4971dc(0x584)),_0x3b40a9=document[_0x4971dc(0xbf1)](_0x4971dc(0x3c0)),_0x3fae59=document[_0x4971dc(0xbf1)](_0x4971dc(0xc3d));_0x3fae59&&_0x3fae59[_0x4971dc(0xe06)][_0x4971dc(0xd5c)](_0x4971dc(0xa93));if(!_0xe6e83f||!_0x3b40a9)return;const _0x585cbb=blueprintShortcuts['slice'](0x0,0x4),_0x2512d9=blueprintShortcuts[_0x4971dc(0xa65)](0x4);_0xe6e83f[_0x4971dc(0xcf3)]=_0x585cbb['map'](_0x3bc18a=>{const _0x5cc3bd=_0x4971dc;let _0x539c84=_0x5cc3bd(0x7d9),_0xbad11a='🧩';if(_0x3bc18a[_0x5cc3bd(0x644)]&&_0x3bc18a[_0x5cc3bd(0xd7a)])_0x539c84=_0x5cc3bd(0xac3),_0xbad11a='📗';else _0x3bc18a['blueprintUrl']&&(_0x539c84='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0xbad11a='📘');const _0x3ef23c=!_0x3bc18a[_0x5cc3bd(0x642)]?_0x5cc3bd(0x251)+_0x3bc18a['id']+_0x5cc3bd(0x315):'';return _0x5cc3bd(0xbd3)+_0x3bc18a['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x539c84+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0xbad11a+'\x20'+_0x3bc18a[_0x5cc3bd(0x372)]+_0x5cc3bd(0xc1f)+_0x3bc18a['id']+_0x5cc3bd(0xd01)+_0x3ef23c+_0x5cc3bd(0x385);})[_0x4971dc(0x4ce)](''),_0x2512d9[_0x4971dc(0x26d)]>0x0&&(_0xe6e83f[_0x4971dc(0xcf3)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2512d9[_0x4971dc(0x26d)]>0x0?_0x3b40a9[_0x4971dc(0xcf3)]=_0x2512d9[_0x4971dc(0x469)](_0x5b64ac=>{const _0x3f3edf=_0x4971dc;let _0x56dc6f='🧩';if(_0x5b64ac[_0x3f3edf(0x644)]&&_0x5b64ac[_0x3f3edf(0xd7a)])_0x56dc6f='📗';else _0x5b64ac[_0x3f3edf(0x644)]&&(_0x56dc6f='📘');return _0x3f3edf(0xcbb)+_0x56dc6f+'\x20'+_0x5b64ac[_0x3f3edf(0x372)]+_0x3f3edf(0xc41)+_0x5b64ac['id']+_0x3f3edf(0x9c1)+_0x5b64ac['id']+_0x3f3edf(0xa19)+(!_0x5b64ac[_0x3f3edf(0x642)]?_0x3f3edf(0x251)+_0x5b64ac['id']+_0x3f3edf(0xa5d):'')+_0x3f3edf(0xae2);})['join'](''):_0x3b40a9[_0x4971dc(0xcf3)]=_0x4971dc(0xa3b);}function getMimeTypeFromFilename(_0x40bf72){const _0x2fce68=_0x1cfa42,_0x21345b=_0x40bf72[_0x2fce68(0x557)]('.')[_0x2fce68(0x26b)]()[_0x2fce68(0xd64)]();switch(_0x21345b){case'pdf':return _0x2fce68(0x80d);case _0x2fce68(0x3e7):return _0x2fce68(0x546);default:return'application/pdf';}}function openShortcutEditor(_0x20e4eb=null){const _0x3dcf51=_0x1cfa42,_0x458cc8=document['getElementById'](_0x3dcf51(0x4e2)),_0x51208a=document[_0x3dcf51(0xbf1)](_0x3dcf51(0x5a4)),_0x2ba31c=document['getElementById'](_0x3dcf51(0xdb4)),_0x2efd85=document[_0x3dcf51(0xbf1)](_0x3dcf51(0x463)),_0x46214c=document['getElementById'](_0x3dcf51(0x65c)),_0x5e09e5=document[_0x3dcf51(0xbf1)](_0x3dcf51(0x61f));if(_0x20e4eb){const _0x7899a7=blueprintShortcuts[_0x3dcf51(0x633)](_0x5c256b=>_0x5c256b['id']===_0x20e4eb);if(!_0x7899a7)return;_0x51208a[_0x3dcf51(0x617)]=_0x3dcf51(0x3e6),_0x2ba31c[_0x3dcf51(0x49f)]=_0x7899a7['id'],_0x2efd85['value']=_0x7899a7[_0x3dcf51(0x372)],_0x46214c[_0x3dcf51(0x49f)]=_0x7899a7[_0x3dcf51(0x644)]||'',_0x5e09e5['value']=_0x7899a7[_0x3dcf51(0xd7a)]||'';}else _0x51208a[_0x3dcf51(0x617)]=_0x3dcf51(0x1d8),_0x2ba31c[_0x3dcf51(0x49f)]='',_0x2efd85[_0x3dcf51(0x49f)]='',_0x46214c[_0x3dcf51(0x49f)]='',_0x5e09e5[_0x3dcf51(0x49f)]='';_0x458cc8[_0x3dcf51(0xe06)][_0x3dcf51(0xb55)](_0x3dcf51(0xa93));}async function saveShortcutChanges(){const _0x41f34c=_0x1cfa42,_0x401fc7=document[_0x41f34c(0xbf1)](_0x41f34c(0xdb4))['value'],_0x4cb3d0=document['getElementById'](_0x41f34c(0x463))[_0x41f34c(0x49f)][_0x41f34c(0xab6)](),_0x480661=document[_0x41f34c(0xbf1)](_0x41f34c(0x65c))[_0x41f34c(0x49f)][_0x41f34c(0xab6)]();if(!_0x4cb3d0||!_0x480661){showMessage(_0x41f34c(0x1cc));return;}const _0x2d9aa8={'id':_0x401fc7||'shortcut_'+Date[_0x41f34c(0x24a)](),'name':_0x4cb3d0,'blueprintUrl':_0x480661,'referenceUrl':document[_0x41f34c(0xbf1)](_0x41f34c(0x61f))[_0x41f34c(0x49f)]['trim'](),'isDefault':_0x401fc7[_0x41f34c(0x5d1)]('default-')};let _0x501fd5;_0x401fc7?_0x501fd5=blueprintShortcuts[_0x41f34c(0x469)](_0x10ec97=>_0x10ec97['id']===_0x401fc7?_0x2d9aa8:_0x10ec97):_0x501fd5=[...blueprintShortcuts,_0x2d9aa8];try{const _0x5b14ae=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x5b14ae,{'blueprintShortcuts':_0x501fd5},{'merge':!![]}),document[_0x41f34c(0xbf1)](_0x41f34c(0x4e2))[_0x41f34c(0xe06)][_0x41f34c(0xd5c)](_0x41f34c(0xa93));}catch(_0x282468){console[_0x41f34c(0x3f5)](_0x41f34c(0x82e),_0x282468),showMessage(_0x41f34c(0x841));}}async function handleShortcutClick(_0x488d0f){const _0x38e8e5=_0x1cfa42,_0xc697af=blueprintShortcuts[_0x38e8e5(0x633)](_0x1ca188=>_0x1ca188['id']===_0x488d0f);if(!_0xc697af||!_0xc697af[_0x38e8e5(0x644)])return;document[_0x38e8e5(0xbf1)](_0x38e8e5(0x41f))[_0x38e8e5(0xe06)][_0x38e8e5(0xd5c)](_0x38e8e5(0xa93)),document[_0x38e8e5(0xbf1)](_0x38e8e5(0xcf1))[_0x38e8e5(0x635)]=!![];const _0x46eea3=document['getElementById'](_0x38e8e5(0x962)),_0x3770e5=document[_0x38e8e5(0xbf1)]('loader-text');document['getElementById'](_0x38e8e5(0xae9))[_0x38e8e5(0xe06)]['remove'](_0x38e8e5(0xa93)),document[_0x38e8e5(0xbf1)](_0x38e8e5(0x476))['innerHTML']='',_0x46eea3[_0x38e8e5(0xe06)][_0x38e8e5(0xb55)](_0x38e8e5(0xa93));try{_0x3770e5['textContent']=_0x38e8e5(0x77c);const _0x18c371=await fetchFileFromUrl(_0xc697af[_0x38e8e5(0x644)],_0x38e8e5(0xbe6));let _0x329e92=null;if(_0xc697af['referenceUrl']){_0x3770e5[_0x38e8e5(0x617)]=_0x38e8e5(0x2d2);const _0x4cf26a=_0xc697af[_0x38e8e5(0xd7a)][_0x38e8e5(0xd64)]()[_0x38e8e5(0x9c8)](_0x38e8e5(0x396))?'reference.txt':_0x38e8e5(0x880);_0x329e92=await fetchFileFromUrl(_0xc697af['referenceUrl'],_0x4cf26a);}await handleGenerateFromBlueprintWithFiles(_0x18c371,_0x329e92);}catch(_0x131e98){console[_0x38e8e5(0x3f5)](_0x38e8e5(0x5e5),_0x131e98),showMessage('เกิดข้อผิดพลาด:\x20'+_0x131e98[_0x38e8e5(0x495)]),_0x46eea3[_0x38e8e5(0xe06)][_0x38e8e5(0xd5c)](_0x38e8e5(0xa93));}}function getDirectDownloadUrl(_0x5f0a49){const _0x164ca8=_0x1cfa42,_0x229561=_0x5f0a49['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x229561&&_0x229561[0x1])return _0x164ca8(0x736)+_0x229561[0x1];return _0x5f0a49;}async function fetchFileFromUrl(_0x3dfe11,_0x314069){const _0x2d45be=_0x1cfa42,_0x3473c1=getDirectDownloadUrl(_0x3dfe11),_0x3bfdc7=_0x2d45be(0xae6)+encodeURIComponent(_0x3473c1),_0x515fc1=await fetch(_0x3bfdc7);if(!_0x515fc1['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x515fc1[_0x2d45be(0x657)]+')');const _0x12e584=await _0x515fc1[_0x2d45be(0xb90)](),_0x3dddaa=await new Promise((_0x4addb7,_0xcccb12)=>{const _0x1791d2=_0x2d45be,_0x32aa67=new FileReader();_0x32aa67['onloadend']=()=>_0x4addb7(new Uint8Array(_0x32aa67[_0x1791d2(0xc26)])),_0x32aa67[_0x1791d2(0x3bb)]=_0xcccb12,_0x32aa67[_0x1791d2(0xb96)](_0x12e584[_0x1791d2(0xa65)](0x0,0x4));});let _0x5e7566='';const _0x4f8070=new TextDecoder()[_0x2d45be(0xcad)](_0x3dddaa);return _0x4f8070===_0x2d45be(0x55d)?(_0x5e7566=_0x2d45be(0x80d),console[_0x2d45be(0xc15)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x5e7566=_0x2d45be(0x546),console[_0x2d45be(0xc15)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x12e584],_0x314069,{'type':_0x5e7566});}async function handleGenerateFromBlueprintWithFiles(_0x4be900,_0xafb481=null){const _0x5c716e=_0x1cfa42;if(!_0x4be900){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x1d7ba3=document[_0x5c716e(0xbf1)](_0x5c716e(0x962)),_0x451788=document[_0x5c716e(0xbf1)]('loader-text');_0x1d7ba3['classList']['remove'](_0x5c716e(0xa93)),document[_0x5c716e(0xbf1)](_0x5c716e(0xae9))[_0x5c716e(0xe06)][_0x5c716e(0xb55)](_0x5c716e(0xa93)),document['getElementById']('generated-quiz-container')[_0x5c716e(0xcf3)]='';try{_0x451788[_0x5c716e(0x617)]=_0x5c716e(0x4ee);const _0x37a51b=await new Promise((_0x1edaf9,_0x13ea64)=>{const _0x77c6de=_0x5c716e,_0x1fb28e=new FileReader();_0x1fb28e[_0x77c6de(0xa9a)](_0x4be900),_0x1fb28e[_0x77c6de(0xe0a)]=()=>_0x1edaf9(_0x1fb28e[_0x77c6de(0xc26)]['split'](',')[0x1]),_0x1fb28e[_0x77c6de(0x3bb)]=_0x13ea64;}),_0x2ead9f=[];if(_0xafb481){_0x451788[_0x5c716e(0x617)]=_0x5c716e(0x32e);const _0x616605=await _0xafb481[_0x5c716e(0x227)]();_0x2ead9f[_0x5c716e(0x229)]({'text':_0x5c716e(0x6e8)+_0x616605});}const _0x13d0f2=[{'text':_0x5c716e(0x693)},{'inlineData':{'mimeType':_0x4be900[_0x5c716e(0x8e8)],'data':_0x37a51b}},..._0x2ead9f];await handleGenerateFromBlueprint(_0x13d0f2);}catch(_0x153a1a){console[_0x5c716e(0x3f5)]('Error\x20in\x20generating\x20from\x20files:',_0x153a1a),showMessage(_0x5c716e(0x699)+_0x153a1a[_0x5c716e(0x495)]),_0x1d7ba3['classList'][_0x5c716e(0xd5c)]('hidden');}}async function handleLiveAnswer(_0x5e8104,_0x39eb46){const _0x135d7b=_0x1cfa42;document['querySelectorAll'](_0x135d7b(0x3a4))[_0x135d7b(0xdac)](_0x2eecce=>_0x2eecce[_0x135d7b(0x635)]=!![]);const _0x1ece6e=_0x39eb46['questionType']||currentQuizData[_0x135d7b(0x4c3)];let _0x32452b=![],_0x237ec0=_0x5e8104;if(_0x1ece6e===_0x135d7b(0x944)){const _0x87fb72=(_0x5e8104||'')[_0x135d7b(0x701)]();_0x32452b=await gradeShortAnswer(_0x87fb72,_0x39eb46);}else{if(_0x1ece6e==='multiple_choice')_0x32452b=_0x5e8104===_0x39eb46[_0x135d7b(0x3a3)];else{if(_0x1ece6e===_0x135d7b(0x1cb)){const _0x52fc72=_0x39eb46[_0x135d7b(0x59b)];_0x32452b=_0x5e8104===0x0&&_0x52fc72||_0x5e8104===0x1&&!_0x52fc72;}else{if(_0x1ece6e==='matching_item'){const _0x3b2c8b=_0x39eb46[_0x135d7b(0xb53)][_0x5e8104];_0x32452b=_0x3b2c8b===_0x39eb46['correctResponse'],_0x237ec0=_0x3b2c8b;}}}}const _0x41d551=doc(db,_0x135d7b(0x7ff)+appId+'/public/data/liveGames',currentLiveGameId),_0x46250f={};_0x46250f[_0x135d7b(0x32c)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x46250f['players.'+currentStudentName+_0x135d7b(0xa8c)]=_0x32452b,_0x46250f[_0x135d7b(0x32c)+currentStudentName+_0x135d7b(0x2b0)]=_0x1ece6e===_0x135d7b(0x944)||_0x1ece6e===_0x135d7b(0x2bf)?null:_0x5e8104,_0x46250f[_0x135d7b(0x32c)+currentStudentName+'.lastAnswerValue']=_0x237ec0,_0x46250f[_0x135d7b(0x32c)+currentStudentName+_0x135d7b(0x68b)]=serverTimestamp(),_0x46250f[_0x135d7b(0x32c)+currentStudentName+_0x135d7b(0x37d)]=![],await updateDoc(_0x41d551,_0x46250f),liveGameView[_0x135d7b(0xcf3)]=_0x135d7b(0x799);}function showAdminSummaryView(_0x503d5c,_0x20030b){const _0x32c9b8=_0x1cfa42,_0xcda488=Object[_0x32c9b8(0xdc2)](_0x503d5c[_0x32c9b8(0x18d)]||{}),_0x6b7bdb=_0x20030b['questionType']||currentQuizData[_0x32c9b8(0x4c3)],_0x5a5e1a=_0x6b7bdb==='true_false'?[_0x32c9b8(0x24e),'ไม่ใช่']:_0x20030b[_0x32c9b8(0x9e4)]||_0x20030b[_0x32c9b8(0xb53)]||[],_0x59389f={},_0x54a5c2=new Array(_0x5a5e1a[_0x32c9b8(0x26d)])['fill'](0x0);_0x5a5e1a[_0x32c9b8(0xdac)]((_0x2a033a,_0x11ea42)=>{_0x59389f[_0x11ea42]=[];}),Object[_0x32c9b8(0xa76)](_0x503d5c[_0x32c9b8(0x18d)]||{})[_0x32c9b8(0xdac)](([_0x2d599c,_0x1c3184])=>{const _0xd1af80=_0x32c9b8;if(_0x1c3184[_0xd1af80(0x657)]===_0xd1af80(0x94c)&&_0x1c3184['lastAnswerIndex']!==undefined){const _0x4b0f67=_0x1c3184[_0xd1af80(0xcb8)];_0x59389f[_0x4b0f67]&&(_0x59389f[_0x4b0f67][_0xd1af80(0x229)](_0x2d599c),_0x54a5c2[_0x4b0f67]++);}});const _0x28f3ba=Math['max'](..._0x54a5c2,0x1),_0x390d17='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x20030b[_0x32c9b8(0x826)]||_0x20030b[_0x32c9b8(0x324)])+_0x32c9b8(0x5ba)+_0x54a5c2[_0x32c9b8(0x469)]((_0x268d76,_0x211068)=>{const _0x232fb4=_0x32c9b8,_0x29b6d0=_0x59389f[_0x211068][_0x232fb4(0x26d)]>0x0?_0x59389f[_0x211068][_0x232fb4(0x4ce)](',\x20'):_0x232fb4(0xbc9);let _0x4d68ad=![];if(_0x6b7bdb==='multiple_choice')_0x4d68ad=_0x211068===_0x20030b[_0x232fb4(0x3a3)];else{if(_0x6b7bdb===_0x232fb4(0x1cb)){const _0x937586=_0x20030b[_0x232fb4(0x59b)];_0x4d68ad=_0x937586&&_0x211068===0x0||!_0x937586&&_0x211068===0x1;}else _0x6b7bdb===_0x232fb4(0x2bf)&&(_0x4d68ad=_0x5a5e1a[_0x211068]===_0x20030b[_0x232fb4(0x578)]);}const _0x5c2f3d=_0x4d68ad?_0x232fb4(0x6fc):_0x232fb4(0xc90);return _0x232fb4(0xb61)+_0x268d76+_0x232fb4(0xcc9)+_0x5c2f3d+_0x232fb4(0xa38)+_0x211068+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x5a5e1a[_0x211068]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x211068+_0x232fb4(0x6e6)+_0x29b6d0+_0x232fb4(0xa7e);})['join']('')+_0x32c9b8(0x6e0);liveGameView[_0x32c9b8(0xcf3)]=_0x390d17;if(window[_0x32c9b8(0x6b2)])MathJax[_0x32c9b8(0x255)]();document[_0x32c9b8(0xbf1)](_0x32c9b8(0x2e4))[_0x32c9b8(0x4ef)](_0x32c9b8(0x67d),async()=>{const _0x8601fb=_0x32c9b8,_0x5a30d3=doc(db,_0x8601fb(0x7ff)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5a30d3,{'questionStatus':_0x8601fb(0xcc0)});}),document[_0x32c9b8(0xbf1)]('open-scratchpad-btn')[_0x32c9b8(0x4ef)]('click',()=>{openScratchpad(_0x20030b,_0x5a5e1a);});}function showPlayerSummaryView(_0x4772ce,_0x18392d){const _0x5df4bb=_0x1cfa42,_0x1b1292=Object[_0x5df4bb(0xdc2)](_0x4772ce['players']||{}),_0x1068fb=_0x4772ce[_0x5df4bb(0x18d)][_0x18392d],_0x3a5c40=_0x1b1292['filter'](_0x296e4c=>_0x296e4c[_0x5df4bb(0x657)]===_0x5df4bb(0x94c))[_0x5df4bb(0x712)]((_0x3b8598,_0x577ac0)=>_0x577ac0['score']-_0x3b8598['score']),_0x2417b0=_0x3a5c40[_0x5df4bb(0xcfb)](_0xa2daf0=>_0xa2daf0===_0x1068fb)+0x1,_0x26b163=_0x1068fb[_0x5df4bb(0xae8)]?_0x5df4bb(0x1b4):_0x5df4bb(0xcee),_0x2e0d00=_0x1068fb[_0x5df4bb(0xae8)]?_0x5df4bb(0xe07):'bg-red-500',_0x552558=_0x1068fb[_0x5df4bb(0x75b)]||0x0,_0x2878a3=_0x5df4bb(0x2fd),_0x3ece42='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x2878a3+_0x5df4bb(0x3df)+_0x2e0d00+_0x5df4bb(0x1bd)+_0x26b163+_0x5df4bb(0x531)+_0x552558+_0x5df4bb(0x678)+(_0x2417b0>0x0?_0x2417b0:'-')+_0x5df4bb(0x9d5);liveGameView[_0x5df4bb(0xcf3)]=_0x3ece42;}function createQuizFromBank(){const _0x301da9=_0x1cfa42,_0x27babf=document['querySelectorAll'](_0x301da9(0xcd3));if(_0x27babf[_0x301da9(0x26d)]===0x0){showMessage(_0x301da9(0xc0a));return;}const _0x1a26d5=[];_0x27babf[_0x301da9(0xdac)](_0x4207ab=>{const _0x4620f0=_0x301da9;_0x1a26d5[_0x4620f0(0x229)](JSON['parse'](_0x4207ab[_0x4620f0(0x49f)]));});const _0x3c3080={'topic':_0x301da9(0x359),'questions':_0x1a26d5};displayGeneratedQuiz(_0x3c3080);}function showAdminLobbyView(_0x57c42e,_0x7b15eb){const _0x443512=_0x1cfa42;showView(_0x443512(0xa9f));const _0x2e8fd6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x7b15eb+_0x443512(0x397)+_0x57c42e+_0x443512(0xbb2);liveGameView[_0x443512(0xcf3)]=_0x2e8fd6,document[_0x443512(0xbf1)](_0x443512(0xcdf))[_0x443512(0x4ef)](_0x443512(0x67d),async()=>{const _0x493c19=_0x443512;if(!currentQuizData||!currentQuizData[_0x493c19(0xb0f)]||currentQuizData[_0x493c19(0xb0f)][_0x493c19(0x26d)]===0x0){showMessage(_0x493c19(0x58b));return;}try{const _0x243a66=doc(db,_0x493c19(0x7ff)+appId+_0x493c19(0x270),currentLiveGameId);await updateDoc(_0x243a66,{'status':_0x493c19(0x7bc),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3df61f=currentQuizData[_0x493c19(0xb0f)][0x0],_0x1b7d43=currentQuizData['questions']['length'];showAdminLiveQuestionView(_0x3df61f,0x0,_0x1b7d43);}catch(_0x4dd3e3){console['error'](_0x493c19(0x8a7),_0x4dd3e3),showMessage(_0x493c19(0xdae));}});}async function openQuizBankModal(){const _0x3ea48e=_0x1cfa42;if(allQuizzesGlobal[_0x3ea48e(0x26d)]===0x0){const _0x134bd1=await getDocs(collection(db,_0x3ea48e(0x7ff)+appId+_0x3ea48e(0x254)));allQuizzesGlobal=_0x134bd1['docs'][_0x3ea48e(0x469)](_0x2e06ac=>({'id':_0x2e06ac['id'],..._0x2e06ac[_0x3ea48e(0x934)]()}));}renderQuizBankList(''),document[_0x3ea48e(0xbf1)](_0x3ea48e(0xe15))['classList'][_0x3ea48e(0xb55)](_0x3ea48e(0xa93));}function renderQuizBankList(_0x36d603='',_0x51b2c1=![]){const _0x183638=_0x1cfa42,_0x4702aa=document[_0x183638(0xbf1)](_0x183638(0x843)),_0xbaa1e1=_0x36d603[_0x183638(0xd64)]()['trim'](),_0x540861=allQuizzesGlobal[_0x183638(0x469)](_0x497f6e=>({..._0x497f6e,'projectName':allProjects[_0x183638(0x633)](_0x4393ef=>_0x4393ef['id']===_0x497f6e[_0x183638(0x1cf)])?.['projectName']||_0x183638(0xd84)}))[_0x183638(0x275)](_0x191053=>(_0x191053[_0x183638(0x3b7)]||'')['toLowerCase']()[_0x183638(0x1ef)](_0xbaa1e1)||(_0x191053[_0x183638(0x19e)]||'')[_0x183638(0xd64)]()['includes'](_0xbaa1e1)||_0x191053['id'][_0x183638(0x701)]()[_0x183638(0x1ef)](_0xbaa1e1));document['getElementById'](_0x183638(0x357))[_0x183638(0x617)]='('+_0x540861[_0x183638(0x26d)]+_0x183638(0xcb9),_0x4702aa[_0x183638(0xcf3)]=_0x540861[_0x183638(0x26d)]?_0x540861[_0x183638(0x469)](_0x1e35b9=>{const _0x2533c7=_0x183638,_0x20edb3=!_0x51b2c1?_0x2533c7(0x72d)+_0x1e35b9['id']+_0x2533c7(0x8d5)+_0x1e35b9['id']+_0x2533c7(0xb0b)+_0x1e35b9['id']+_0x2533c7(0x400)+_0x1e35b9['id']+_0x2533c7(0x43e)+_0x1e35b9['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1e35b9['id']+'\x22\x20data-topic=\x22'+_0x1e35b9['topic']+_0x2533c7(0xaee):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x1e35b9['id']+_0x2533c7(0xa58)+(_0x1e35b9[_0x2533c7(0x3b7)]||_0x2533c7(0x1a9))+_0x2533c7(0x1f9)+(_0x1e35b9[_0x2533c7(0xb0f)]?.[_0x2533c7(0x26d)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x1e35b9[_0x2533c7(0x19e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x1e35b9['id']+_0x2533c7(0xd48)+_0x20edb3+_0x2533c7(0x69a);})[_0x183638(0x4ce)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x51b2c1&&(_0x4702aa[_0x183638(0x218)]('.quiz-bank-item')[_0x183638(0xdac)](_0x3adcfa=>{const _0x438baa=_0x183638;_0x3adcfa['addEventListener'](_0x438baa(0x67d),()=>{const _0x12f1d0=_0x438baa,_0x39e430=_0x3adcfa['dataset']['id'];document[_0x12f1d0(0xbf1)](_0x12f1d0(0xe15))['classList'][_0x12f1d0(0xd5c)](_0x12f1d0(0xa93)),showQuizDetailView(_0x39e430);});}),_0x4702aa[_0x183638(0x218)](_0x183638(0x6c6))[_0x183638(0xdac)](_0x4e2c47=>{_0x4e2c47['addEventListener']('click',_0x50d8a3=>{const _0x426ff8=_0x5ec1;_0x50d8a3[_0x426ff8(0xb7d)]();const _0x3d804b=_0x4e2c47[_0x426ff8(0x2b9)]['id'],_0x608b9=allQuizzesGlobal[_0x426ff8(0x633)](_0x5d84d3=>_0x5d84d3['id']===_0x3d804b);_0x608b9?(currentQuizData=_0x608b9,document[_0x426ff8(0xbf1)](_0x426ff8(0xe15))[_0x426ff8(0xe06)][_0x426ff8(0xd5c)]('hidden'),startAdminTest()):showMessage(_0x426ff8(0x334));});}),_0x4702aa[_0x183638(0x218)]('.quiz-bank-parallel-btn')['forEach'](_0x7fa3ec=>{const _0x2839a3=_0x183638;_0x7fa3ec[_0x2839a3(0x4ef)](_0x2839a3(0x67d),_0x253efc=>{const _0x2bec46=_0x2839a3;_0x253efc[_0x2bec46(0xb7d)]();const _0x4e0474=_0x7fa3ec[_0x2bec46(0x2b9)]['id'],_0x102c42=allQuizzesGlobal[_0x2bec46(0x633)](_0x456b63=>_0x456b63['id']===_0x4e0474);_0x102c42?(document[_0x2bec46(0xbf1)](_0x2bec46(0xe15))[_0x2bec46(0xe06)][_0x2bec46(0xd5c)](_0x2bec46(0xa93)),handleGenerateParallelFromBank(_0x102c42)):showMessage(_0x2bec46(0x334));});}),_0x4702aa[_0x183638(0x218)]('.quiz-bank-present-btn')[_0x183638(0xdac)](_0xe6ff44=>{const _0x26e323=_0x183638;_0xe6ff44[_0x26e323(0x4ef)](_0x26e323(0x67d),_0x1d4b7a=>{const _0x244332=_0x26e323;_0x1d4b7a[_0x244332(0xb7d)]();const _0x3ca74d=_0xe6ff44[_0x244332(0x2b9)]['id'],_0x41a872=allQuizzesGlobal[_0x244332(0x633)](_0x56a930=>_0x56a930['id']===_0x3ca74d);_0x41a872?(document[_0x244332(0xbf1)](_0x244332(0xe15))['classList'][_0x244332(0xd5c)](_0x244332(0xa93)),startPresentation(_0x41a872)):showMessage(_0x244332(0x334));});}),_0x4702aa[_0x183638(0x218)](_0x183638(0x8f4))['forEach'](_0x37a47a=>{_0x37a47a['addEventListener']('click',_0x4642b7=>{const _0x3a0432=_0x5ec1;_0x4642b7[_0x3a0432(0xb7d)]();const _0x411f17=_0x37a47a[_0x3a0432(0x2b9)]['id'];document[_0x3a0432(0xbf1)](_0x3a0432(0xe15))['classList']['add'](_0x3a0432(0xa93)),handleMoveQuiz(_0x411f17);});}),_0x4702aa['querySelectorAll']('.quiz-bank-settings-btn')[_0x183638(0xdac)](_0x32afde=>{const _0x303c4d=_0x183638;_0x32afde[_0x303c4d(0x4ef)](_0x303c4d(0x67d),_0x1f0aa8=>{const _0x5940c1=_0x303c4d;_0x1f0aa8['stopPropagation']();const _0x4cfea3=_0x32afde[_0x5940c1(0x2b9)]['id'];document['getElementById'](_0x5940c1(0xe15))[_0x5940c1(0xe06)][_0x5940c1(0xd5c)](_0x5940c1(0xa93)),handleQuizSettings(_0x4cfea3);});}),_0x4702aa[_0x183638(0x218)]('.quiz-bank-delete-btn')[_0x183638(0xdac)](_0x392b70=>{const _0xb90a30=_0x183638;_0x392b70[_0xb90a30(0x4ef)]('click',_0x47abea=>{const _0x430ea9=_0xb90a30;_0x47abea[_0x430ea9(0xb7d)]();const _0x5d122f=_0x392b70['dataset']['id'],_0x58f2d8=_0x392b70[_0x430ea9(0x2b9)][_0x430ea9(0x3b7)];showConfirmation(_0x430ea9(0x447)+_0x58f2d8+_0x430ea9(0xad6),()=>handleDeleteQuiz(_0x5d122f));});}));}async function handleCompareResults(_0x1d5a27,_0x8c095e){const _0x1302db=_0x1cfa42,_0x5cb187=document[_0x1302db(0xbf1)](_0x1302db(0xc8b)),_0x33f687=document['getElementById'](_0x1302db(0xaf3)),_0x317c57=document[_0x1302db(0xbf1)](_0x1302db(0x4db));document[_0x1302db(0xbf1)](_0x1302db(0x92e))[_0x1302db(0xe06)][_0x1302db(0xd5c)]('active'),document[_0x1302db(0xbf1)](_0x1302db(0x337))[_0x1302db(0xe06)][_0x1302db(0xb55)](_0x1302db(0x94c)),_0x33f687[_0x1302db(0xe06)]['remove'](_0x1302db(0xa93)),_0x317c57[_0x1302db(0xe06)][_0x1302db(0xd5c)](_0x1302db(0xa93)),_0x33f687[_0x1302db(0xcf3)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x317c57['innerHTML']='',_0x5cb187[_0x1302db(0xe06)][_0x1302db(0xb55)](_0x1302db(0xa93));try{const _0x384556=doc(db,_0x1302db(0x7ff)+appId+_0x1302db(0x254),_0x1d5a27),_0x46e640=await getDoc(_0x384556);if(!_0x46e640[_0x1302db(0x2b1)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x372321=_0x46e640[_0x1302db(0x934)](),_0x448a84=_0x372321[_0x1302db(0xb0f)][_0x1302db(0x26d)],_0x5cb510=collection(db,_0x1302db(0x7ff)+appId+_0x1302db(0x2a9)+_0x8c095e+'/submissions'),_0x431ab1=collection(db,_0x1302db(0x7ff)+appId+_0x1302db(0x2a9)+_0x1d5a27+_0x1302db(0xe18)),[_0x2e21e3,_0x483322]=await Promise[_0x1302db(0x34e)]([getDocs(_0x5cb510),getDocs(_0x431ab1)]),_0x2712a=_0x2e21e3['docs'][_0x1302db(0x469)](_0x25c9f8=>_0x25c9f8['data']()),_0xba81b=_0x483322[_0x1302db(0xd24)][_0x1302db(0x469)](_0x3793bc=>_0x3793bc['data']()),_0x823fd6=_0x2712a[_0x1302db(0x469)](_0x38828e=>_0x38828e[_0x1302db(0x174)]),_0x2294bf=_0xba81b['map'](_0x1a26ee=>_0x1a26ee[_0x1302db(0x174)]),_0x5dc491=calculateMeanAndStdDev(_0x823fd6),_0x181d49=calculateMeanAndStdDev(_0x2294bf),_0x127fb0=_0x5dc491['mean'],_0x23a9f4=_0x181d49['mean'],_0xe58af=_0x23a9f4-_0x127fb0;let _0x458e03=_0x1302db(0xd15)+_0x127fb0[_0x1302db(0xac2)](0x2)+_0x1302db(0x66f)+_0x23a9f4[_0x1302db(0xac2)](0x2)+_0x1302db(0xd49)+(_0xe58af>=0x0?_0x1302db(0xb91):_0x1302db(0xa6e))+_0x1302db(0x8b1)+(_0xe58af>=0x0?_0x1302db(0x66e):_0x1302db(0x327))+_0x1302db(0x1a3)+(_0xe58af>=0x0?_0x1302db(0xe0f):_0x1302db(0x407))+'\x22>'+(_0xe58af>=0x0?'+':'')+_0xe58af['toFixed'](0x2)+_0x1302db(0x665);_0x33f687[_0x1302db(0xcf3)]=_0x458e03;const _0x8de6c8=document['getElementById']('comparison-chart')[_0x1302db(0x4ea)]('2d');if(chartInstances[_0x1302db(0xb71)])chartInstances[_0x1302db(0xb71)][_0x1302db(0xaa3)]();chartInstances['comparison']=new Chart(_0x8de6c8,{'type':_0x1302db(0xd2d),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x1302db(0xbca),'data':[_0x127fb0],'backgroundColor':_0x1302db(0x424)},{'label':_0x1302db(0x680),'data':[_0x23a9f4],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x448a84}}}});const _0x38c399=currentProjectData[_0x1302db(0xb22)]||[],_0x50ba09=_0x38c399[_0x1302db(0x469)](_0x447484=>{const _0x1acf94=_0x1302db,_0x5dd62f=_0x2712a['find'](_0x3b7417=>_0x3b7417[_0x1acf94(0x8e0)]===_0x447484),_0x37e9d1=_0xba81b[_0x1acf94(0x633)](_0x4ce146=>_0x4ce146[_0x1acf94(0x8e0)]===_0x447484),_0x16b58c=_0x5dd62f?_0x5dd62f[_0x1acf94(0x174)]:null,_0x2777e7=_0x37e9d1?_0x37e9d1[_0x1acf94(0x174)]:null,_0x42667e=_0x16b58c!==null&&_0x2777e7!==null?_0x2777e7-_0x16b58c:null,_0x5d5a5f=_0x16b58c!==null?calculateZScore(_0x16b58c,_0x5dc491[_0x1acf94(0x185)],_0x5dc491[_0x1acf94(0x5d7)]):null,_0x3fbe96=_0x2777e7!==null?calculateZScore(_0x2777e7,_0x181d49[_0x1acf94(0x185)],_0x181d49['stdDev']):null,_0x27f433=_0x5d5a5f!==null?calculateTScore(_0x5d5a5f):null,_0x47e7ce=_0x3fbe96!==null?calculateTScore(_0x3fbe96):null,_0xa07818=_0x27f433!==null&&_0x47e7ce!==null?_0x47e7ce-_0x27f433:null;return{'name':_0x447484,'preScore':_0x16b58c,'postScore':_0x2777e7,'gain':_0x42667e,'preTScore':_0x27f433,'postTScore':_0x47e7ce,'tGain':_0xa07818};});renderIndividualComparisonTable(_0x50ba09,_0x317c57);}catch(_0x34e8b6){console[_0x1302db(0x3f5)](_0x1302db(0x4c2),_0x34e8b6),_0x33f687[_0x1302db(0xcf3)]=_0x1302db(0xdc9);}}async function saveBlueprintProject(){const _0x30c411=_0x1cfa42;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x509aca=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x30c411(0x7f7));if(!_0x509aca||_0x509aca[_0x30c411(0xab6)]()==='')return;const _0x419dbe={};extractedBlueprintData[_0x30c411(0x3ce)][_0x30c411(0xdac)](_0x154dc2=>{const _0x1dbd62=_0x30c411;_0x154dc2['mainTopics'][_0x1dbd62(0xdac)](_0x5664a5=>{const _0x41daaa=_0x1dbd62;_0x5664a5[_0x41daaa(0xcdc)][_0x41daaa(0xdac)](_0x275398=>{const _0x34a084=_0x41daaa,_0x3042fa=_0x34a084(0x631)+Date['now']()+Math[_0x34a084(0x72a)]()[_0x34a084(0x701)](0x24)[_0x34a084(0x9a3)](0x2,0x9);_0x419dbe[_0x3042fa]={'sara':_0x154dc2['sara'],'mainTopic':_0x5664a5['topicName'],'subTopic':_0x275398,'status':_0x34a084(0xab7),'lessonContent':null};});});});try{const _0x2f008f=collection(db,_0x30c411(0x7ff)+appId+_0x30c411(0xc6f));await addDoc(_0x2f008f,{'projectName':_0x509aca[_0x30c411(0xab6)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x419dbe,'createdAt':serverTimestamp()}),showMessage(_0x30c411(0xb9b)+_0x509aca[_0x30c411(0xab6)]()+_0x30c411(0xd0d)),document[_0x30c411(0xbf1)](_0x30c411(0x629))['classList']['add'](_0x30c411(0xa93));}catch(_0x1b647b){console[_0x30c411(0x3f5)](_0x30c411(0x299),_0x1b647b),showMessage(_0x30c411(0x450));}}async function showBlueprintProjects(){const _0xfa51a2=_0x1cfa42,_0xaec93d=document[_0xfa51a2(0xbf1)](_0xfa51a2(0xc09)),_0x1c734f=document['getElementById'](_0xfa51a2(0x6f1));_0x1c734f[_0xfa51a2(0xcf3)]=_0xfa51a2(0x5ac),_0xaec93d['classList'][_0xfa51a2(0xb55)](_0xfa51a2(0xa93));try{const _0x1b864e=collection(db,_0xfa51a2(0x7ff)+appId+_0xfa51a2(0xc6f)),_0x53512d=await getDocs(_0x1b864e);if(_0x53512d[_0xfa51a2(0x5f1)]){_0x1c734f[_0xfa51a2(0xcf3)]=_0xfa51a2(0x2af);return;}const _0xc5bf1f=_0x53512d[_0xfa51a2(0xd24)][_0xfa51a2(0x469)](_0x12e029=>({'id':_0x12e029['id'],..._0x12e029[_0xfa51a2(0x934)]()}));_0xc5bf1f['sort']((_0x50f645,_0x7f7730)=>_0x50f645[_0xfa51a2(0x19e)][_0xfa51a2(0x7e5)](_0x7f7730[_0xfa51a2(0x19e)],'th')),_0x1c734f['innerHTML']=_0xc5bf1f[_0xfa51a2(0x469)](_0x101f6c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x101f6c[_0xfa51a2(0x19e)]+_0xfa51a2(0xa00)+_0x101f6c['gradeLevel']+_0xfa51a2(0xd4e)+Object['keys'](_0x101f6c[_0xfa51a2(0xa91)])[_0xfa51a2(0x26d)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x101f6c['id']+_0xfa51a2(0xd9e)+_0x101f6c['id']+_0xfa51a2(0xc4b))['join']('');}catch(_0x54da87){console['error'](_0xfa51a2(0x3ac),_0x54da87),_0x1c734f['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x19192b){const _0x324cb0=_0x1cfa42;currentBlueprintProjectId=_0x19192b,document[_0x324cb0(0xbf1)](_0x324cb0(0xc09))[_0x324cb0(0xe06)][_0x324cb0(0xd5c)]('hidden'),showView('admin-dashboard'),projectDashboardView[_0x324cb0(0xe06)][_0x324cb0(0xd5c)]('hidden');const _0xb86023=document[_0x324cb0(0xbf1)]('blueprint-project-manager-view');_0xb86023['classList'][_0x324cb0(0xb55)](_0x324cb0(0xa93)),document[_0x324cb0(0xbf1)](_0x324cb0(0x2d4))[_0x324cb0(0xcf3)]=_0x324cb0(0xc5a);try{const _0x389b4c=doc(db,'artifacts/'+appId+_0x324cb0(0xc6f),_0x19192b),_0x3ed07f=await getDoc(_0x389b4c);if(!_0x3ed07f[_0x324cb0(0x2b1)]())throw new Error('ไม่พบโปรเจค');const _0x4aeb67={'id':_0x3ed07f['id'],..._0x3ed07f[_0x324cb0(0x934)]()};document[_0x324cb0(0xbf1)](_0x324cb0(0xc2d))[_0x324cb0(0x617)]=_0x4aeb67[_0x324cb0(0x19e)],document[_0x324cb0(0xbf1)](_0x324cb0(0x30b))[_0x324cb0(0x49f)]=_0x4aeb67['referenceFileUrl']||'',renderBlueprintTopicManager(_0x4aeb67);}catch(_0x2adc69){console[_0x324cb0(0x3f5)](_0x324cb0(0xbad),_0x2adc69),showMessage(_0x2adc69[_0x324cb0(0x495)]),showView(_0x324cb0(0xdd6));}}function renderBlueprintTopicManager(_0x5aac51){const _0x44eb33=_0x1cfa42,_0x223909=document['getElementById'](_0x44eb33(0x2d4)),_0x5cf56f=_0x5aac51['topics']||{};if(Object[_0x44eb33(0x972)](_0x5cf56f)[_0x44eb33(0x26d)]===0x0){_0x223909[_0x44eb33(0xcf3)]=_0x44eb33(0x283);return;}const _0xef83cf=Object['entries'](_0x5cf56f)[_0x44eb33(0x469)](([_0x3ce18f,_0xfe33f7])=>({'id':_0x3ce18f,..._0xfe33f7}))[_0x44eb33(0x712)]((_0x15ee91,_0x4d6762)=>(_0x15ee91[_0x44eb33(0xcba)]??Infinity)-(_0x4d6762[_0x44eb33(0xcba)]??Infinity)),_0x54cb46={};_0xef83cf[_0x44eb33(0xdac)](_0x4d24ce=>{const _0x37eb2c=_0x44eb33,{sara:_0x285000,mainTopic:_0x2ca0ec}=_0x4d24ce;!_0x54cb46[_0x285000]&&(_0x54cb46[_0x285000]={}),!_0x54cb46[_0x285000][_0x2ca0ec]&&(_0x54cb46[_0x285000][_0x2ca0ec]=[]),_0x54cb46[_0x285000][_0x2ca0ec][_0x37eb2c(0x229)](_0x4d24ce);});let _0x2e8e2e='';for(const _0x253a14 in _0x54cb46){_0x2e8e2e+=_0x44eb33(0x3e2)+_0x253a14+'</h4>';for(const _0x144288 in _0x54cb46[_0x253a14]){_0x2e8e2e+=_0x44eb33(0x179)+_0x144288+_0x44eb33(0x276),_0x54cb46[_0x253a14][_0x144288][_0x44eb33(0xdac)](_0x480422=>{const _0x48a027=_0x44eb33,_0x5de837=_0x480422['id'],_0x52333b=_0x480422['linkedQuizIds']||[],_0x1e12a4=_0x52333b['length']>0x0,_0x2abb83=_0x480422['status']===_0x48a027(0x7af);let _0x2028af='';_0x1e12a4?_0x2028af=_0x48a027(0xb18)+_0x52333b[_0x48a027(0x26d)]+_0x48a027(0x42e):_0x2028af='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x2abb83?_0x48a027(0xb75):_0x48a027(0xdd8))+'\x22>'+(_0x2abb83?_0x48a027(0xb03):'ยังไม่สร้าง')+_0x48a027(0x6ee);const _0x51fe66=!_0x2abb83?_0x48a027(0x6b9):'',_0x2d2510=!_0x2abb83?'กรุณาสร้างบทเรียนก่อน':'';let _0x3ec641=_0x2abb83?_0x48a027(0x429):_0x48a027(0x9a6);_0x2e8e2e+=_0x48a027(0x306)+_0x5de837+_0x48a027(0x499)+_0x480422[_0x48a027(0x1a8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2028af+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x51fe66+_0x48a027(0xd3f)+_0x2d2510+_0x48a027(0x439)+_0x3ec641+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2e8e2e+=_0x44eb33(0xc16);}_0x2e8e2e+=_0x44eb33(0xcdd);}_0x223909[_0x44eb33(0xcf3)]=_0x2e8e2e;}async function handleDeepDeleteBlueprintProject(_0x5a7815){const _0x54a36e=_0x1cfa42,_0x3b9203=doc(db,_0x54a36e(0x7ff)+appId+_0x54a36e(0xc6f),_0x5a7815),_0x2ba303=await getDoc(_0x3b9203);if(!_0x2ba303[_0x54a36e(0x2b1)]()){showMessage(_0x54a36e(0xc4e));return;}const _0x320647=_0x2ba303[_0x54a36e(0x934)]()[_0x54a36e(0x19e)];showConfirmation(_0x54a36e(0xd47)+_0x320647+_0x54a36e(0x445),async()=>{const _0x215396=_0x54a36e;showMessage(_0x215396(0x500));try{const _0x429d51=writeBatch(db),_0x3bc02c=_0x2ba303[_0x215396(0x934)](),_0x50b8a5=_0x3bc02c[_0x215396(0xa91)]||{};for(const _0x5f29f1 in _0x50b8a5){const _0x4c7ba3=doc(db,_0x215396(0x7ff)+appId+_0x215396(0x4b4)+_0x5a7815+_0x215396(0x8ad),_0x5f29f1);_0x429d51[_0x215396(0x24d)](_0x4c7ba3);}const _0x37b582=new Set();for(const _0x152ba1 in _0x50b8a5){_0x50b8a5[_0x152ba1][_0x215396(0x38b)]&&_0x50b8a5[_0x152ba1][_0x215396(0x38b)][_0x215396(0xdac)](_0x12d27f=>_0x37b582[_0x215396(0xd5c)](_0x12d27f));}for(const _0x49e28c of _0x37b582){await handleDeleteQuiz(_0x49e28c,![]);}_0x429d51['delete'](_0x3b9203),await _0x429d51[_0x215396(0x735)](),showMessage(_0x215396(0x47a)+_0x320647+_0x215396(0x268)),showBlueprintProjects();}catch(_0x51a3bf){console['error'](_0x215396(0x84a),_0x51a3bf),showMessage(_0x215396(0xc0b));}});}async function openTopicQuizBank(_0x1e3dea){const _0x550e08=_0x1cfa42,_0x52e304=document[_0x550e08(0xbf1)]('topic-quiz-bank-modal'),_0x153389=document[_0x550e08(0xbf1)](_0x550e08(0x939)),_0x1c874d=document[_0x550e08(0xbf1)](_0x550e08(0x45a));try{await ensureGlobalQuizzesLoaded();const _0x55e85b=doc(db,'artifacts/'+appId+_0x550e08(0xc6f),currentBlueprintProjectId),_0x25df0b=await getDoc(_0x55e85b);if(!_0x25df0b[_0x550e08(0x2b1)]())return;const _0x151671=_0x25df0b[_0x550e08(0x934)](),_0x438e6e=_0x151671[_0x550e08(0xa91)][_0x1e3dea];document['getElementById'](_0x550e08(0x765))[_0x550e08(0x617)]=_0x438e6e[_0x550e08(0x1a8)];const _0x3204ee=_0x438e6e[_0x550e08(0x38b)]||[];_0x1c874d['classList'][_0x550e08(0xde5)]('hidden',_0x3204ee['length']===0x0),_0x1c874d['onclick']=()=>handleClearAllLinksForTopic(_0x1e3dea);if(_0x3204ee[_0x550e08(0x26d)]===0x0)_0x153389['innerHTML']=_0x550e08(0x878);else{const _0x5b2374=allQuizzesGlobal[_0x550e08(0x275)](_0x1be1a9=>_0x3204ee['includes'](_0x1be1a9['id']));_0x153389[_0x550e08(0xcf3)]=_0x5b2374[_0x550e08(0x469)](_0x2434cb=>_0x550e08(0xb7c)+_0x2434cb['id']+_0x550e08(0x572)+_0x2434cb[_0x550e08(0x3b7)]+_0x550e08(0x56f)+_0x2434cb['id']+_0x550e08(0xd4e)+_0x2434cb[_0x550e08(0xb0f)][_0x550e08(0x26d)]+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2434cb['id']+_0x550e08(0x5db)+_0x2434cb['id']+_0x550e08(0xc0e)+_0x2434cb['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2434cb['id']+_0x550e08(0x4d4)+_0x2434cb['id']+_0x550e08(0x9c0)+_0x2434cb['id']+_0x550e08(0x432)+_0x1e3dea+_0x550e08(0x5f9)+_0x2434cb['id']+_0x550e08(0x4e6))[_0x550e08(0x4ce)]('');}document['getElementById']('add-from-global-bank-btn')[_0x550e08(0x1a5)]=()=>{openQuizSelectorForBlueprint(_0x1e3dea);},document[_0x550e08(0xbf1)]('close-topic-bank-btn')[_0x550e08(0x1a5)]=()=>_0x52e304['classList'][_0x550e08(0xd5c)](_0x550e08(0xa93)),_0x52e304[_0x550e08(0xe06)][_0x550e08(0xb55)](_0x550e08(0xa93));}catch(_0x5efebf){showMessage(_0x5efebf[_0x550e08(0x495)]);}}async function openQuizSelectorForBlueprint(_0x55df9d){const _0x36667d=_0x1cfa42,_0x301a56=document['getElementById'](_0x36667d(0xe15)),_0x383f79=document['getElementById'](_0x36667d(0x641));_0x383f79[_0x36667d(0xe06)][_0x36667d(0xd5c)](_0x36667d(0xa93)),document[_0x36667d(0xbf1)](_0x36667d(0xb99))?.[_0x36667d(0xb55)]();const _0x1a68c8=document[_0x36667d(0x6a2)](_0x36667d(0x1f0));_0x1a68c8['id']=_0x36667d(0xb99),_0x1a68c8[_0x36667d(0xa1e)]=_0x36667d(0x5fd),_0x1a68c8['textContent']='เพิ่มรายการที่เลือก',_0x1a68c8['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x301a56['classList']['remove'](_0x36667d(0xa93)),renderQuizBankListForMultiSelect(''),document[_0x36667d(0xbf1)](_0x36667d(0xcc1))['style'][_0x36667d(0x95f)]='none',_0x301a56[_0x36667d(0x19c)]('.flex.justify-between.items-center')['appendChild'](_0x1a68c8);const _0x11c3f1=(_0x3421aa=![])=>{const _0x103525=_0x36667d;_0x301a56[_0x103525(0xe06)]['add'](_0x103525(0xa93)),document['getElementById']('bulk-quiz-settings-btn')[_0x103525(0x403)][_0x103525(0x95f)]=_0x103525(0x166),_0x1a68c8[_0x103525(0xb55)](),_0x3421aa&&openTopicQuizBank(_0x55df9d);};_0x1a68c8[_0x36667d(0x1a5)]=async()=>{const _0x48167d=_0x36667d,_0x252a79=Array[_0x48167d(0xae1)](document[_0x48167d(0x218)](_0x48167d(0x9f2)))[_0x48167d(0x469)](_0x14042f=>_0x14042f[_0x48167d(0x49f)]);if(_0x252a79[_0x48167d(0x26d)]===0x0)return;try{const _0x4b9ef4=doc(db,_0x48167d(0x7ff)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x5164b4=(await getDoc(_0x4b9ef4))[_0x48167d(0x934)](),_0x45dca0=_0x5164b4[_0x48167d(0xa91)][_0x55df9d][_0x48167d(0x38b)]||[],_0x19f837=[...new Set([..._0x45dca0,..._0x252a79])];await updateDoc(_0x4b9ef4,{[_0x48167d(0x9da)+_0x55df9d+_0x48167d(0x8b6)]:_0x19f837}),showMessage('เพิ่ม\x20'+_0x252a79[_0x48167d(0x26d)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x11c3f1(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x21942f){console[_0x48167d(0x3f5)](_0x48167d(0x956),_0x21942f);}},document['getElementById']('cancel-quiz-bank-btn')[_0x36667d(0x1a5)]=()=>_0x11c3f1(!![]);}catch(_0x3ebd5c){showMessage(_0x3ebd5c[_0x36667d(0x495)]),_0x383f79[_0x36667d(0xe06)]['remove'](_0x36667d(0xa93));}}function handleClearLinkedQuiz(_0xc033fc){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x461d37=_0x5ec1;try{const _0x53ed81=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x53ed81,{[_0x461d37(0x9da)+_0xc033fc+_0x461d37(0x1af)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x16bee7){console['error'](_0x461d37(0x8f3),_0x16bee7),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x267c1d=_0x1cfa42,_0x2a6d7c=prompt(_0x267c1d(0xdde));if(!_0x2a6d7c||_0x2a6d7c[_0x267c1d(0xab6)]()==='')return;const _0xacd76a=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x267c1d(0x52c)),_0x4e66ec=prompt('อยู่ในหัวข้อหลักใด:',_0x267c1d(0x464)),_0xb37fe6=_0x267c1d(0x631)+Date['now']()+Math[_0x267c1d(0x72a)]()[_0x267c1d(0x701)](0x24)[_0x267c1d(0x9a3)](0x2,0x9),_0x671a81={'sara':_0xacd76a,'mainTopic':_0x4e66ec,'subTopic':_0x2a6d7c[_0x267c1d(0xab6)](),'status':_0x267c1d(0xab7),'lessonContent':null};try{const _0x1f3a04=doc(db,'artifacts/'+appId+_0x267c1d(0xc6f),currentBlueprintProjectId);await updateDoc(_0x1f3a04,{[_0x267c1d(0x9da)+_0xb37fe6]:_0x671a81}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4eccb7){console[_0x267c1d(0x3f5)]('Error\x20adding\x20topic:',_0x4eccb7),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x19a478){const _0x54eb0f=_0x1cfa42,_0x58f533=document['querySelector'](_0x54eb0f(0x690)+_0x19a478+'\x22]'),_0x543340=_0x58f533[_0x54eb0f(0x19c)]('[data-field=\x22subTopic\x22]'),_0x816154=_0x543340[_0x54eb0f(0x617)],_0x1c9737=prompt(_0x54eb0f(0x7f4),_0x816154);if(!_0x1c9737||_0x1c9737['trim']()===''||_0x1c9737[_0x54eb0f(0xab6)]()===_0x816154)return;try{const _0x8908e1=doc(db,_0x54eb0f(0x7ff)+appId+_0x54eb0f(0xc6f),currentBlueprintProjectId);await updateDoc(_0x8908e1,{[_0x54eb0f(0x9da)+_0x19a478+_0x54eb0f(0x529)]:_0x1c9737[_0x54eb0f(0xab6)]()}),_0x543340['textContent']=_0x1c9737[_0x54eb0f(0xab6)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x88c49e){console[_0x54eb0f(0x3f5)](_0x54eb0f(0x948),_0x88c49e),showMessage(_0x54eb0f(0x55a));}}async function deleteTopicFromProject(_0x143645){const _0x35391e=_0x1cfa42;if(!confirm(_0x35391e(0x3b0)))return;try{const _0x326711=doc(db,_0x35391e(0x7ff)+appId+_0x35391e(0xc6f),currentBlueprintProjectId);await updateDoc(_0x326711,{[_0x35391e(0x9da)+_0x143645]:deleteField()}),document[_0x35391e(0x19c)]('[data-topic-id=\x22'+_0x143645+'\x22]')[_0x35391e(0xb55)](),showMessage(_0x35391e(0x5e1));}catch(_0x46f5c0){console[_0x35391e(0x3f5)](_0x35391e(0x6b8),_0x46f5c0),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x3aea65,_0x121c6c,_0x1585ae){handleGenerateAndShowLesson(_0x121c6c,_0x1585ae);const _0x1ae9de=setInterval(async()=>{const _0x2d29b0=_0x5ec1,_0x4c221d=document[_0x2d29b0(0xbf1)]('lesson-view-modal'),_0x19badc=_0x4c221d[_0x2d29b0(0xe06)][_0x2d29b0(0xbe2)](_0x2d29b0(0xa93));if(_0x19badc){clearInterval(_0x1ae9de);if(currentApplicationData&&currentApplicationData[_0x2d29b0(0x26d)]>0x0){const _0x2f90fd={'point':document['getElementById'](_0x2d29b0(0x29c))['innerHTML'],'memory':document[_0x2d29b0(0xbf1)](_0x2d29b0(0x405))[_0x2d29b0(0xcf3)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x2d29b0(0x801))[_0x2d29b0(0xcf3)]};try{const _0x3fd820=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x4c3375=doc(db,_0x2d29b0(0x7ff)+appId+_0x2d29b0(0x4b4)+currentBlueprintProjectId+'/lessons',_0x3aea65),_0x555a6e=writeBatch(db);_0x555a6e[_0x2d29b0(0x793)](_0x4c3375,{'content':_0x2f90fd}),_0x555a6e[_0x2d29b0(0x942)](_0x3fd820,{[_0x2d29b0(0x9da)+_0x3aea65+_0x2d29b0(0xa98)]:_0x2d29b0(0x7af)}),await _0x555a6e[_0x2d29b0(0x735)](),console['log']('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x3aea65+_0x2d29b0(0x850)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xad5230){console[_0x2d29b0(0x3f5)](_0x2d29b0(0x1f7),_0xad5230);}}}},0x3e8);}function displayHalfMarkResult(_0x10123c,_0x2f7140){const _0x47a54e=_0x1cfa42,_0x28eb9c=_0x10123c>=_0x2f7140/0x2,_0x25d68b=_0x28eb9c?'bg-green-100':'bg-red-100',_0x51554e=_0x28eb9c?_0x47a54e(0x27d):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x21db97=_0x28eb9c?_0x47a54e(0x5df):_0x47a54e(0x327),_0x35e21d=_0x28eb9c?_0x47a54e(0x293):_0x47a54e(0x5d3),_0x4b63de=_0x28eb9c?_0x47a54e(0x460):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x2239a4=_0x47a54e(0x856)+_0x25d68b+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51554e+_0x47a54e(0xc14)+_0x21db97+_0x47a54e(0xaa4)+_0x35e21d+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x4b63de+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x47a54e(0xcf3)]=_0x2239a4,studentResultArea['classList'][_0x47a54e(0xb55)](_0x47a54e(0xa93)),studentQuizArea[_0x47a54e(0xe06)][_0x47a54e(0xd5c)](_0x47a54e(0xa93)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x28eb9c});}function displayPerfectScoreResult(_0x11569d,_0x4ec4ea){const _0x4bb5c6=_0x1cfa42,_0x3c2497=_0x11569d===_0x4ec4ea,_0x599ec4=_0x3c2497?_0x4bb5c6(0x7f8):'bg-blue-100',_0x1f9f3d=_0x3c2497?_0x4bb5c6(0xdc7):_0x4bb5c6(0x591),_0x5d4769=_0x3c2497?_0x4bb5c6(0xa83):'text-blue-800',_0x2e6208=_0x3c2497?_0x4bb5c6(0x3bc):'ยังไม่เต็มนะ',_0x334a73=_0x3c2497?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x4bb5c6(0x561);let _0xfd0b5c=_0x4bb5c6(0x856)+_0x599ec4+_0x4bb5c6(0x4f5)+_0x1f9f3d+_0x4bb5c6(0xc14)+_0x5d4769+_0x4bb5c6(0xaa4)+_0x2e6208+_0x4bb5c6(0x922)+_0x334a73+_0x4bb5c6(0x20d);studentResultArea['innerHTML']=_0xfd0b5c,studentResultArea['classList']['remove'](_0x4bb5c6(0xa93)),studentQuizArea[_0x4bb5c6(0xe06)]['add'](_0x4bb5c6(0xa93)),setupResultScreenBackButton({'showRankings':![],'score':_0x11569d,'totalQuestions':_0x4ec4ea});}function renderIndividualComparisonTable(_0x2767c0,_0x1986d1){const _0x304986=_0x1cfa42;_0x2767c0[_0x304986(0x712)]((_0x1c5483,_0x4c00a6)=>(_0x4c00a6[_0x304986(0x58c)]??-Infinity)-(_0x1c5483[_0x304986(0x58c)]??-Infinity));let _0x1cfe74='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x2767c0[_0x304986(0x26d)]===0x0?_0x1cfe74+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x2767c0[_0x304986(0xdac)]((_0x294131,_0x139983)=>{const _0x53f9f4=_0x304986;let _0x381866='-',_0x4a32cc='';if(_0x294131['gain']!==null){const _0x3d3b4e=_0x294131[_0x53f9f4(0xa34)]>0x0?_0x53f9f4(0x518):_0x294131['gain']<0x0?_0x53f9f4(0xd00):_0x53f9f4(0x726),_0xeab82f=_0x294131[_0x53f9f4(0xa34)]>0x0?'+':'';_0x381866=_0x53f9f4(0x89b)+_0x3d3b4e+'\x22>'+_0xeab82f+_0x294131[_0x53f9f4(0xa34)]+_0x53f9f4(0x6ee);if(_0x294131[_0x53f9f4(0xa34)]>0x0)_0x4a32cc='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x294131[_0x53f9f4(0xa34)]<0x0?_0x4a32cc=_0x53f9f4(0x667):_0x4a32cc=_0x53f9f4(0xc27);}let _0x5cf610='-';if(_0x294131['tGain']!==null){const _0x4465de=_0x294131[_0x53f9f4(0x58c)]>0x0?_0x53f9f4(0x518):_0x294131[_0x53f9f4(0x58c)]<0x0?_0x53f9f4(0xd00):_0x53f9f4(0x726),_0x3f8f25=_0x294131['tGain']>0x0?'+':'';_0x5cf610=_0x53f9f4(0x89b)+_0x4465de+'\x22>'+_0x3f8f25+_0x294131[_0x53f9f4(0x58c)]['toFixed'](0x2)+_0x53f9f4(0x6ee);}_0x1cfe74+=_0x53f9f4(0x453)+(_0x139983+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x294131[_0x53f9f4(0x372)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x294131[_0x53f9f4(0x307)]??'-')+_0x53f9f4(0x288)+(_0x294131[_0x53f9f4(0xcb0)]??'-')+_0x53f9f4(0xac9)+_0x381866+_0x53f9f4(0x3c9)+_0x4a32cc+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x294131[_0x53f9f4(0x6ec)]?.[_0x53f9f4(0xac2)](0x2)??'-')+_0x53f9f4(0xd1c)+(_0x294131[_0x53f9f4(0xdda)]?.[_0x53f9f4(0xac2)](0x2)??'-')+_0x53f9f4(0xac9)+_0x5cf610+_0x53f9f4(0xdcc);}),_0x1cfe74+=_0x304986(0x575),_0x1986d1[_0x304986(0xcf3)]=_0x1cfe74;}function handleRenameQuiz(_0x214311,_0x25df7b){const _0x5dfc6b=_0x1cfa42;actionTargetId=_0x214311,document[_0x5dfc6b(0xbf1)](_0x5dfc6b(0x37a))[_0x5dfc6b(0x49f)]=_0x25df7b,renameQuizModal[_0x5dfc6b(0xe06)][_0x5dfc6b(0xb55)](_0x5dfc6b(0xa93));}function setupComparisonModalTabs(){const _0x3d7e5c=_0x1cfa42,_0x1684c2=document[_0x3d7e5c(0xbf1)](_0x3d7e5c(0x92e)),_0x5e8cf5=document[_0x3d7e5c(0xbf1)](_0x3d7e5c(0x337)),_0xb6f6ee=document['getElementById'](_0x3d7e5c(0xaf3)),_0x50eb8d=document[_0x3d7e5c(0xbf1)](_0x3d7e5c(0x4db));_0x1684c2[_0x3d7e5c(0x4ef)](_0x3d7e5c(0x67d),()=>{const _0x55cb44=_0x3d7e5c;_0x1684c2[_0x55cb44(0xe06)]['add'](_0x55cb44(0x94c)),_0x5e8cf5[_0x55cb44(0xe06)][_0x55cb44(0xb55)](_0x55cb44(0x94c)),_0xb6f6ee[_0x55cb44(0xe06)]['remove'](_0x55cb44(0xa93)),_0x50eb8d[_0x55cb44(0xe06)][_0x55cb44(0xd5c)](_0x55cb44(0xa93));}),_0x5e8cf5[_0x3d7e5c(0x4ef)](_0x3d7e5c(0x67d),()=>{const _0x40d55c=_0x3d7e5c;_0x5e8cf5[_0x40d55c(0xe06)][_0x40d55c(0xd5c)](_0x40d55c(0x94c)),_0x1684c2['classList']['remove']('active'),_0x50eb8d[_0x40d55c(0xe06)][_0x40d55c(0xb55)]('hidden'),_0xb6f6ee[_0x40d55c(0xe06)][_0x40d55c(0xd5c)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x17f0b1=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x17f0b1,_0x11cdcc=>{const _0x29e4ea=_0x5ec1;if(!_0x11cdcc[_0x29e4ea(0x2b1)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x29e4ea(0xc51)?showView('project-detail'):showView(_0x29e4ea(0x65e));return;}const _0x2df065=_0x11cdcc[_0x29e4ea(0x934)]();_0x2df065[_0x29e4ea(0x479)]&&(currentQuizData=_0x2df065[_0x29e4ea(0x479)]);!currentQuizData&&_0x2df065[_0x29e4ea(0x506)]&&((async()=>{const _0x3b084e=_0x29e4ea;try{const _0x2bcab1=doc(db,_0x3b084e(0x7ff)+appId+_0x3b084e(0x254),_0x2df065[_0x3b084e(0x506)]),_0x1d8c7f=await getDoc(_0x2bcab1);_0x1d8c7f['exists']()&&(currentQuizData={'id':_0x1d8c7f['id'],..._0x1d8c7f['data']()});}catch(_0xebe778){console[_0x3b084e(0x3f5)](_0x3b084e(0x368),_0xebe778);}})());switch(_0x2df065[_0x29e4ea(0x657)]){case _0x29e4ea(0xded):if(currentMode===_0x29e4ea(0xc51)){const _0x17bde8=_0x2df065[_0x29e4ea(0x18d)]?Object[_0x29e4ea(0xa76)](_0x2df065[_0x29e4ea(0x18d)]):[],_0x20a233=_0x17bde8[_0x29e4ea(0x275)](([_0x31e1b,_0x2581bd])=>_0x2581bd[_0x29e4ea(0x657)]===_0x29e4ea(0x94c)),_0x5e2316=document['getElementById']('player-count');if(_0x5e2316)_0x5e2316[_0x29e4ea(0x617)]=_0x20a233[_0x29e4ea(0x26d)];const _0x282285=document['getElementById'](_0x29e4ea(0x409));_0x282285&&(_0x282285[_0x29e4ea(0xcf3)]=_0x20a233['map'](([_0x4079be,_0x4f9620])=>_0x29e4ea(0x70a)+_0x4079be+_0x29e4ea(0x252)+_0x4079be+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x6b9b4f=document['getElementById'](_0x29e4ea(0xcdf));_0x6b9b4f&&(_0x6b9b4f['disabled']=_0x20a233[_0x29e4ea(0x26d)]===0x0);}else showView('live-game'),liveGameView[_0x29e4ea(0xcf3)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x29e4ea(0x7bc):const _0x199258=_0x2df065['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x29e4ea(0xb0f)][_0x199258]){const _0x1bb5e9=currentQuizData['questions'][_0x199258],_0x432173=_0x2df065[_0x29e4ea(0x64d)]||_0x29e4ea(0x2fe);switch(_0x432173){case _0x29e4ea(0x938):currentMode==='admin'?showAdminSummaryView(_0x2df065,_0x1bb5e9):showPlayerSummaryView(_0x2df065,currentStudentName);break;case _0x29e4ea(0xcc0):currentMode===_0x29e4ea(0xc51)&&showTop5LeaderboardView(_0x2df065);break;case _0x29e4ea(0x2fe):default:if(currentMode===_0x29e4ea(0xc51)){const _0x2e67c8=writeBatch(db);let _0x3a6684=![];Object[_0x29e4ea(0xa76)](_0x2df065[_0x29e4ea(0x18d)])[_0x29e4ea(0xdac)](([_0x1d59ca,_0x3e2e74])=>{const _0x423d40=_0x29e4ea;if(_0x3e2e74['status']===_0x423d40(0x94c)&&_0x3e2e74[_0x423d40(0x318)]&&!_0x3e2e74[_0x423d40(0xa52)]){_0x3a6684=!![];const _0x6e2ca8=_0x3e2e74[_0x423d40(0x318)][_0x423d40(0x82a)]()-_0x2df065[_0x423d40(0xcd2)][_0x423d40(0x82a)]();let _0x14442e=0x0;if(_0x3e2e74['lastAnswerCorrect']){const _0xdc55c4=0x3e8,_0x5e3dd3=0x1f4,_0x2b9af0=0x4e20;let _0x1bc001=_0x6e2ca8/_0x2b9af0;if(_0x1bc001>0x1)_0x1bc001=0x1;const _0x59e908=Math[_0x423d40(0x8a6)](_0x1bc001*_0x5e3dd3);_0x14442e=_0xdc55c4-_0x59e908;}const _0x22ab51=doc(db,_0x423d40(0x7ff)+appId+_0x423d40(0x270),currentLiveGameId);_0x2e67c8[_0x423d40(0x942)](_0x22ab51,{[_0x423d40(0x32c)+_0x1d59ca+'.score']:increment(_0x14442e),[_0x423d40(0x32c)+_0x1d59ca+_0x423d40(0x814)]:_0x14442e,[_0x423d40(0x32c)+_0x1d59ca+_0x423d40(0x37d)]:!![]});}});_0x3a6684&&_0x2e67c8['commit']()[_0x29e4ea(0x695)](_0x28c953=>console[_0x29e4ea(0x3f5)](_0x29e4ea(0x305),_0x28c953));lastRenderedAdminQuestionIndex!==_0x199258&&(showAdminLiveQuestionView(_0x1bb5e9,_0x199258,currentQuizData[_0x29e4ea(0xb0f)][_0x29e4ea(0x26d)]),lastRenderedAdminQuestionIndex=_0x199258);const _0x427f8d=_0x2df065['players']||{},_0x105130=Object[_0x29e4ea(0xdc2)](_0x427f8d)[_0x29e4ea(0x275)](_0x49ab7f=>_0x49ab7f[_0x29e4ea(0x657)]===_0x29e4ea(0x94c)),_0x51ecdb=_0x105130[_0x29e4ea(0x26d)],_0x3f4703=_0x105130['filter'](_0x1da420=>_0x1da420[_0x29e4ea(0x9d7)]===!![])['length'],_0x4a7a4c=document[_0x29e4ea(0xbf1)](_0x29e4ea(0xb59));if(_0x4a7a4c)_0x4a7a4c[_0x29e4ea(0x617)]=_0x3f4703+'/'+_0x51ecdb;const _0x3341b3=document['getElementById'](_0x29e4ea(0xdce));if(_0x3341b3){let _0x4946ce=Object['entries'](_0x427f8d)[_0x29e4ea(0x275)](([_0x497453,_0x3a939c])=>_0x3a939c[_0x29e4ea(0x657)]===_0x29e4ea(0x94c))[_0x29e4ea(0x469)](([_0x5316d3,_0x5d2ded])=>{const _0xd9d37b=_0x29e4ea,_0x275edd=_0x5d2ded[_0xd9d37b(0x9d7)]===!![],_0x33a430=_0x275edd?_0xd9d37b(0xe07):'bg-gray-500',_0x5932f6=_0x275edd?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0xd9d37b(0x96a);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x33a430+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5932f6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5316d3+_0xd9d37b(0x33f)+_0x5316d3+_0xd9d37b(0x398);})['join']('');_0x3341b3[_0x29e4ea(0xcf3)]=_0x4946ce||_0x29e4ea(0x291);}_0x51ecdb>0x0&&_0x3f4703===_0x51ecdb&&revealAnswerForAdmin(_0x199258,currentQuizData['questions']['length']);}else{const _0x502f48=_0x2df065[_0x29e4ea(0x18d)][currentStudentName];_0x502f48&&!_0x502f48['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x1bb5e9,_0x199258,currentQuizData[_0x29e4ea(0xb0f)][_0x29e4ea(0x26d)]);}break;}}break;case _0x29e4ea(0x3f8):showPodiumView(_0x2df065[_0x29e4ea(0x18d)],_0x29e4ea(0xc9b));break;}});}async function openGlobalActivityModal(){const _0x67dcdb=_0x1cfa42;if(allQuizzesGlobal[_0x67dcdb(0x26d)]===0x0){const _0x370930=await getDocs(collection(db,_0x67dcdb(0x7ff)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x370930[_0x67dcdb(0xd24)][_0x67dcdb(0x469)](_0x475a79=>({'id':_0x475a79['id'],..._0x475a79[_0x67dcdb(0x934)]()}));}renderGlobalActivityList(''),document['getElementById'](_0x67dcdb(0x917))['classList'][_0x67dcdb(0xb55)](_0x67dcdb(0xa93));}function renderGlobalActivityList(_0xb9337c=''){const _0x1f1652=_0x1cfa42,_0x3e08ee=document[_0x1f1652(0xbf1)](_0x1f1652(0x339)),_0xbcf85=_0xb9337c['toLowerCase']()['trim'](),_0x20212c=allQuizzesGlobal[_0x1f1652(0x469)](_0x79d050=>({..._0x79d050,'projectName':allProjects[_0x1f1652(0x633)](_0x12a69f=>_0x12a69f['id']===_0x79d050[_0x1f1652(0x1cf)])?.[_0x1f1652(0x19e)]||_0x1f1652(0xd84)}))[_0x1f1652(0x275)](_0x16d7eb=>(_0x16d7eb[_0x1f1652(0x3b7)]||'')[_0x1f1652(0xd64)]()[_0x1f1652(0x1ef)](_0xbcf85)||(_0x16d7eb[_0x1f1652(0x19e)]||'')[_0x1f1652(0xd64)]()[_0x1f1652(0x1ef)](_0xbcf85));document['getElementById']('global-quiz-count')['textContent']='('+_0x20212c['length']+'\x20ชุด)',_0x3e08ee['innerHTML']=_0x20212c['length']?_0x20212c['map'](_0x5e3f36=>_0x1f1652(0x8bb)+(_0x5e3f36[_0x1f1652(0x3b7)]||_0x1f1652(0x1a9))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x5e3f36[_0x1f1652(0xb0f)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x5e3f36[_0x1f1652(0x19e)]+_0x1f1652(0x5e4)+_0x5e3f36['id']+_0x1f1652(0x461)+_0x5e3f36['id']+_0x1f1652(0x7cf)+_0x5e3f36['id']+_0x1f1652(0xe0c)+_0x5e3f36['id']+_0x1f1652(0x462))[_0x1f1652(0x4ce)](''):_0x1f1652(0xc86);}async function handleKickPlayer(_0x1652cf){const _0x41bf8e=_0x1cfa42;if(!currentLiveGameId||!_0x1652cf)return;const _0x4c5781=doc(db,_0x41bf8e(0x7ff)+appId+_0x41bf8e(0x270),currentLiveGameId),_0x4d06f6={};_0x4d06f6[_0x41bf8e(0x32c)+_0x1652cf+_0x41bf8e(0xa98)]='inactive';try{await updateDoc(_0x4c5781,_0x4d06f6);}catch(_0x203196){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x1652cf+':',_0x203196),showMessage(_0x41bf8e(0x554));}}async function authenticateUser(){const _0x193e87=_0x1cfa42;try{typeof __initial_auth_token!==_0x193e87(0x776)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xfac7ce){console[_0x193e87(0x3f5)](_0x193e87(0xae7),_0xfac7ce),showMessage(_0x193e87(0x9b1));}}function showView(_0x34f0fe){const _0x4e20dd=_0x1cfa42;adminView['classList'][_0x4e20dd(0xd5c)]('hidden'),studentView[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)](_0x4e20dd(0xa93)),projectDashboardView[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)](_0x4e20dd(0xa93)),projectDetailView[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)](_0x4e20dd(0xa93)),quizResultsView[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)]('hidden'),liveGameView[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)](_0x4e20dd(0xa93)),document[_0x4e20dd(0xbf1)]('blueprint-project-manager-view')[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)](_0x4e20dd(0xa93)),studentInitialView[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)](_0x4e20dd(0xa93)),studentJoinGameView[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)](_0x4e20dd(0xa93)),studentNameSelectionView[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)]('hidden'),studentQuizArea[_0x4e20dd(0xe06)][_0x4e20dd(0xd5c)](_0x4e20dd(0xa93)),studentResultArea[_0x4e20dd(0xe06)]['add']('hidden'),studentReadingArea[_0x4e20dd(0xe06)]['add']('hidden');const _0x257a3f=document['getElementById']('student-team-selection-view'),_0x5c08d2=document[_0x4e20dd(0xbf1)](_0x4e20dd(0x82d));if(_0x257a3f)_0x257a3f[_0x4e20dd(0xe06)]['add']('hidden');if(_0x5c08d2)_0x5c08d2[_0x4e20dd(0xe06)]['add'](_0x4e20dd(0xa93));switch(_0x34f0fe){case _0x4e20dd(0xdd6):adminView['classList']['remove'](_0x4e20dd(0xa93)),projectDashboardView[_0x4e20dd(0xe06)][_0x4e20dd(0xb55)](_0x4e20dd(0xa93));break;case'project-detail':adminView[_0x4e20dd(0xe06)][_0x4e20dd(0xb55)](_0x4e20dd(0xa93)),projectDetailView['classList'][_0x4e20dd(0xb55)]('hidden');break;case _0x4e20dd(0x632):adminView[_0x4e20dd(0xe06)]['remove'](_0x4e20dd(0xa93)),quizResultsView[_0x4e20dd(0xe06)]['remove'](_0x4e20dd(0xa93));break;case _0x4e20dd(0x65e):studentView[_0x4e20dd(0xe06)][_0x4e20dd(0xb55)]('hidden'),studentInitialView['classList']['remove'](_0x4e20dd(0xa93));break;case'live-game':liveGameView[_0x4e20dd(0xe06)][_0x4e20dd(0xb55)](_0x4e20dd(0xa93));break;case _0x4e20dd(0x7dd):studentView['classList'][_0x4e20dd(0xb55)]('hidden');if(_0x257a3f)_0x257a3f[_0x4e20dd(0xe06)]['remove'](_0x4e20dd(0xa93));break;case _0x4e20dd(0xcf4):studentView[_0x4e20dd(0xe06)][_0x4e20dd(0xb55)](_0x4e20dd(0xa93));if(_0x5c08d2)_0x5c08d2['classList'][_0x4e20dd(0xb55)](_0x4e20dd(0xa93));break;default:studentView[_0x4e20dd(0xe06)][_0x4e20dd(0xb55)](_0x4e20dd(0xa93)),studentInitialView[_0x4e20dd(0xe06)][_0x4e20dd(0xb55)](_0x4e20dd(0xa93));break;}}function showJoinGameView(){const _0x2d0979=_0x1cfa42;studentInitialView[_0x2d0979(0xe06)][_0x2d0979(0xd5c)](_0x2d0979(0xa93)),studentJoinGameView[_0x2d0979(0xe06)][_0x2d0979(0xb55)](_0x2d0979(0xa93));}async function handleSaveVisibilitySettings(){const _0x20670d=_0x1cfa42;if(!currentProjectId)return;const _0x4fd386=doc(db,_0x20670d(0x7ff)+appId+_0x20670d(0xcc5),currentProjectId);try{await updateDoc(_0x4fd386,{'settings.showInStudentDashboard':document[_0x20670d(0xbf1)](_0x20670d(0x75d))[_0x20670d(0x51f)],'settings.isPasscodeEnabled':document[_0x20670d(0xbf1)]('enable-passcode-checkbox')[_0x20670d(0x51f)],'settings.passcode':document['getElementById'](_0x20670d(0xa53))[_0x20670d(0x49f)][_0x20670d(0xab6)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x363484){console[_0x20670d(0x3f5)](_0x20670d(0x8d1),_0x363484),showMessage(_0x20670d(0x841));}}function setupEventListeners(){const _0x36ddd3=_0x1cfa42;document[_0x36ddd3(0xbf1)](_0x36ddd3(0xda1))['addEventListener'](_0x36ddd3(0x67d),()=>{const _0x30ead9=_0x36ddd3;document[_0x30ead9(0xbf1)]('wager-modal')[_0x30ead9(0xe06)][_0x30ead9(0xd5c)](_0x30ead9(0xa93));}),document['getElementById'](_0x36ddd3(0x6fb))['addEventListener'](_0x36ddd3(0x67d),()=>{const _0x3d41d3=_0x36ddd3,_0x35fe67=document['getElementById'](_0x3d41d3(0x311)),_0x47b5d=document['getElementById'](_0x3d41d3(0x89a)),_0x1b7784=document[_0x3d41d3(0xbf1)](_0x3d41d3(0x22e))['value'],_0x298bf4=_0x47b5d['dataset'][_0x3d41d3(0x9db)],_0x1b2c5c=JSON[_0x3d41d3(0xba3)](_0x47b5d[_0x3d41d3(0x2b9)][_0x3d41d3(0x7bc)]),_0x3661b3=JSON[_0x3d41d3(0xba3)](_0x47b5d[_0x3d41d3(0x2b9)][_0x3d41d3(0xa36)]),_0x1a6c2b=_0x47b5d[_0x3d41d3(0x2b9)][_0x3d41d3(0xac5)];_0x35fe67[_0x3d41d3(0xe06)][_0x3d41d3(0xd5c)](_0x3d41d3(0xa93)),handleSyncAnswerSubmit(_0x298bf4,_0x1b2c5c,_0x3661b3,_0x1a6c2b,![],_0x1b7784);}),document[_0x36ddd3(0x218)](_0x36ddd3(0xe26))['forEach'](_0x1baed7=>{const _0x27b4ea=_0x36ddd3;_0x1baed7['addEventListener'](_0x27b4ea(0xa47),_0xf0d57a=>{const _0x1f1a03=_0x27b4ea,_0x338d70=document[_0x1f1a03(0xbf1)](_0x1f1a03(0x8ea));_0xf0d57a[_0x1f1a03(0xa8b)][_0x1f1a03(0x49f)]===_0x1f1a03(0xe10)?_0x338d70[_0x1f1a03(0xe06)][_0x1f1a03(0xb55)]('hidden'):_0x338d70[_0x1f1a03(0xe06)][_0x1f1a03(0xd5c)](_0x1f1a03(0xa93));});}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xc55))[_0x36ddd3(0x4ef)](_0x36ddd3(0xa47),_0x52f81c=>{const _0x39b43e=_0x36ddd3;document[_0x39b43e(0xbf1)](_0x39b43e(0xc28))[_0x39b43e(0xe06)][_0x39b43e(0xde5)](_0x39b43e(0xa93),!_0x52f81c[_0x39b43e(0xa8b)][_0x39b43e(0x51f)]);});const _0x500543=document[_0x36ddd3(0xbf1)]('cancel-confidence-btn'),_0x13a49d=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x86c));_0x500543&&_0x13a49d&&_0x500543[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x3147e1=_0x36ddd3;_0x13a49d['classList'][_0x3147e1(0xd5c)]('hidden'),_0x13a49d[_0x3147e1(0x2b9)][_0x3147e1(0x601)]='';});const _0x597926=document[_0x36ddd3(0xbf1)](_0x36ddd3(0xc6b));_0x597926&&(_0x597926[_0x36ddd3(0x4ef)](_0x36ddd3(0x4bc),wakeUpScreen),_0x597926[_0x36ddd3(0x4ef)]('touchstart',wakeUpScreen));document[_0x36ddd3(0xbf1)](_0x36ddd3(0x779))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),async()=>{const _0x353741=_0x36ddd3;if(!currentBlueprintProjectId)return;const _0x3f318a=document[_0x353741(0xbf1)](_0x353741(0x30b))['value']['trim'](),_0x252c2b=doc(db,_0x353741(0x7ff)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x252c2b,{'referenceFileUrl':_0x3f318a}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x4d9123){console['error'](_0x353741(0x744),_0x4d9123),showMessage(_0x353741(0x841));}}),document[_0x36ddd3(0xbf1)]('add-parallel-shortcut-tab-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleAddParallelShortcutTab),document[_0x36ddd3(0xbf1)]('parallel-test-input-area')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x147f6c=>{const _0x28f796=_0x36ddd3;_0x147f6c['target'][_0x28f796(0xd59)](_0x28f796(0x840))&&(activeParallelShortcutTabId=_0x28f796(0x34e),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x28f796(0x3c1))[_0x28f796(0xe06)]['remove'](_0x28f796(0xa93)));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xaad))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x4577e5=_0x36ddd3;document[_0x4577e5(0xbf1)](_0x4577e5(0x3c1))[_0x4577e5(0xe06)][_0x4577e5(0xd5c)](_0x4577e5(0xa93));}),document[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x2637fe=>{const _0x531aec=_0x36ddd3;!_0x2637fe[_0x531aec(0xa8b)]['closest']('.group\x5c/dropdown-parallel')&&document[_0x531aec(0x218)](_0x531aec(0x1e5))[_0x531aec(0xdac)](_0x10b87c=>_0x10b87c[_0x531aec(0xe06)]['add']('hidden'));}),document[_0x36ddd3(0xbf1)]('add-file-shortcut-tab-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleAddFileShortcutTab),document[_0x36ddd3(0xbf1)]('file-input-area')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x31e4e3=>{const _0x541a9e=_0x36ddd3;_0x31e4e3['target'][_0x541a9e(0xd59)](_0x541a9e(0x7df))&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x541a9e(0xbf1)](_0x541a9e(0xaaa))[_0x541a9e(0xe06)]['remove'](_0x541a9e(0xa93)));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x6b0))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x481455=_0x36ddd3;document['getElementById'](_0x481455(0xaaa))[_0x481455(0xe06)][_0x481455(0xd5c)](_0x481455(0xa93));}),document[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x779900=>{const _0xcf5a71=_0x36ddd3;!_0x779900['target'][_0xcf5a71(0xd59)](_0xcf5a71(0xa02))&&document[_0xcf5a71(0x218)]('.move-file-shortcut-dropdown')[_0xcf5a71(0xdac)](_0x31a135=>_0x31a135[_0xcf5a71(0xe06)][_0xcf5a71(0xd5c)](_0xcf5a71(0xa93)));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x9cd))[_0x36ddd3(0x4ef)]('click',handleAddShortcutTab),document[_0x36ddd3(0xbf1)]('parallel-shortcut-container')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x12e175=>{const _0x5701df=_0x36ddd3,_0x4a1c8d=_0x12e175[_0x5701df(0xa8b)][_0x5701df(0xd59)]('.parallel-shortcut-btn'),_0x1a64e5=_0x12e175[_0x5701df(0xa8b)][_0x5701df(0xd59)](_0x5701df(0xcf9)),_0x1a7af7=_0x12e175[_0x5701df(0xa8b)][_0x5701df(0xd59)]('.delete-parallel-shortcut-btn');if(_0x1a64e5)openParallelTestShortcutEditor(_0x1a64e5[_0x5701df(0x2b9)]['id']);else{if(_0x1a7af7){const _0x1cba54=_0x1a7af7['dataset']['id'];showConfirmation(_0x5701df(0x6d3),async()=>{const _0x38f427=_0x5701df,_0x10fbc3=parallelTestShortcuts[_0x38f427(0x275)](_0x2fde37=>_0x2fde37['id']!==_0x1cba54),_0x2bf183=doc(db,_0x38f427(0xdb5),'parallelTestShortcutsConfig');await setDoc(_0x2bf183,{'shortcuts':_0x10fbc3},{'merge':!![]});});}else _0x4a1c8d&&handleParallelTestShortcutClick(_0x4a1c8d[_0x5701df(0x2b9)]['id']);}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x8d3))['addEventListener'](_0x36ddd3(0x67d),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x36ddd3(0x443))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x25dacc=_0x36ddd3;document[_0x25dacc(0xbf1)](_0x25dacc(0x23a))[_0x25dacc(0xe06)][_0x25dacc(0xd5c)](_0x25dacc(0xa93));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x73c))[_0x36ddd3(0x4ef)]('click',saveParallelTestShortcutChanges),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xdff))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x1322e0=>{const _0x420a9d=_0x36ddd3;_0x1322e0[_0x420a9d(0xa8b)]['closest'](_0x420a9d(0x840))&&document['getElementById'](_0x420a9d(0x3c1))[_0x420a9d(0xe06)][_0x420a9d(0xb55)](_0x420a9d(0xa93));}),document[_0x36ddd3(0xbf1)]('close-additional-parallel-shortcuts-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x3eb2ff=_0x36ddd3;document[_0x3eb2ff(0xbf1)](_0x3eb2ff(0x3c1))['classList'][_0x3eb2ff(0xd5c)]('hidden');}),document[_0x36ddd3(0xbf1)]('additional-parallel-shortcuts-list')[_0x36ddd3(0x4ef)]('click',_0x90001d=>{const _0x4bbbf8=_0x36ddd3,_0x475914=document[_0x4bbbf8(0xbf1)](_0x4bbbf8(0x3c1)),_0x1c812d=_0x90001d[_0x4bbbf8(0xa8b)]['closest'](_0x4bbbf8(0x470)),_0x36b089=_0x90001d['target'][_0x4bbbf8(0xd59)](_0x4bbbf8(0x851)),_0x47a410=_0x90001d[_0x4bbbf8(0xa8b)][_0x4bbbf8(0xd59)](_0x4bbbf8(0x3f4));if(_0x1c812d)_0x475914[_0x4bbbf8(0xe06)][_0x4bbbf8(0xd5c)]('hidden'),handleParallelTestShortcutClick(_0x1c812d[_0x4bbbf8(0x2b9)]['id']);else{if(_0x36b089)_0x475914['classList']['add'](_0x4bbbf8(0xa93)),openParallelTestShortcutEditor(_0x36b089[_0x4bbbf8(0x2b9)]['id']);else{if(_0x47a410){const _0x142b59=_0x47a410[_0x4bbbf8(0x2b9)]['id'];showConfirmation(_0x4bbbf8(0x6d3),async()=>{const _0x15e913=_0x4bbbf8,_0x570e34=parallelTestShortcuts[_0x15e913(0x275)](_0x529ddf=>_0x529ddf['id']!==_0x142b59),_0x5da454=doc(db,_0x15e913(0xdb5),_0x15e913(0xace));await setDoc(_0x5da454,{'shortcuts':_0x570e34},{'merge':!![]});});}}}}),document['getElementById'](_0x36ddd3(0xac6))['addEventListener']('click',_0x109644=>{const _0x5b76d4=_0x36ddd3,_0x11a33d=_0x109644[_0x5b76d4(0xa8b)][_0x5b76d4(0xd59)](_0x5b76d4(0x5f7)),_0x222092=_0x109644[_0x5b76d4(0xa8b)][_0x5b76d4(0xd59)]('.edit-file-shortcut-btn'),_0x48d059=_0x109644[_0x5b76d4(0xa8b)]['closest'](_0x5b76d4(0x865));if(_0x222092)openFileShortcutEditor(_0x222092[_0x5b76d4(0x2b9)]['id']);else{if(_0x48d059){const _0x2e7ba6=_0x48d059[_0x5b76d4(0x2b9)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4f3a4a=_0x5b76d4,_0x2f44af=fileShortcuts[_0x4f3a4a(0x275)](_0x5dd73b=>_0x5dd73b['id']!==_0x2e7ba6),_0x12cb6d=doc(db,'globalSettings',_0x4f3a4a(0x75f));await setDoc(_0x12cb6d,{'shortcuts':_0x2f44af},{'merge':!![]});});}else _0x11a33d&&handleFileShortcutClick(_0x11a33d[_0x5b76d4(0x2b9)]['id']);}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x79c))['addEventListener'](_0x36ddd3(0x67d),()=>openFileShortcutEditor(null)),document['getElementById'](_0x36ddd3(0x25f))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x183102=_0x36ddd3;document[_0x183102(0xbf1)](_0x183102(0xb9a))[_0x183102(0xe06)][_0x183102(0xd5c)](_0x183102(0xa93));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x261))['addEventListener'](_0x36ddd3(0x67d),saveFileShortcutChanges),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xb35))[_0x36ddd3(0x4ef)]('click',_0x346661=>{const _0x137760=_0x36ddd3;_0x346661[_0x137760(0xa8b)][_0x137760(0xd59)]('#open-additional-file-shortcuts-btn')&&document[_0x137760(0xbf1)](_0x137760(0xaaa))['classList'][_0x137760(0xb55)]('hidden');}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x6b0))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x264494=_0x36ddd3;document[_0x264494(0xbf1)]('additional-file-shortcuts-modal')[_0x264494(0xe06)][_0x264494(0xd5c)](_0x264494(0xa93));}),document['getElementById'](_0x36ddd3(0xce2))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x2c64d9=>{const _0x2fd1a0=_0x36ddd3,_0x3599af=document['getElementById']('additional-file-shortcuts-modal'),_0x6c0683=_0x2c64d9[_0x2fd1a0(0xa8b)][_0x2fd1a0(0xd59)]('.use-hidden-file-shortcut-btn'),_0x5bc922=_0x2c64d9[_0x2fd1a0(0xa8b)]['closest'](_0x2fd1a0(0xaa2)),_0x2dc852=_0x2c64d9[_0x2fd1a0(0xa8b)][_0x2fd1a0(0xd59)](_0x2fd1a0(0xdb0));if(_0x6c0683)_0x3599af['classList'][_0x2fd1a0(0xd5c)](_0x2fd1a0(0xa93)),handleFileShortcutClick(_0x6c0683['dataset']['id']);else{if(_0x5bc922)_0x3599af[_0x2fd1a0(0xe06)][_0x2fd1a0(0xd5c)](_0x2fd1a0(0xa93)),openFileShortcutEditor(_0x5bc922['dataset']['id']);else{if(_0x2dc852){const _0x2dc50c=_0x2dc852[_0x2fd1a0(0x2b9)]['id'];showConfirmation(_0x2fd1a0(0x6d3),async()=>{const _0x5556d1=_0x2fd1a0,_0x9b35b5=fileShortcuts[_0x5556d1(0x275)](_0x5d0673=>_0x5d0673['id']!==_0x2dc50c),_0x2662c2=doc(db,_0x5556d1(0xdb5),_0x5556d1(0x75f));await setDoc(_0x2662c2,{'shortcuts':_0x9b35b5},{'merge':!![]});});}}}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xaa7))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x37c7be=>{const _0x5a7e9a=_0x36ddd3;_0x37c7be[_0x5a7e9a(0xa8b)][_0x5a7e9a(0xd59)](_0x5a7e9a(0x440))&&(activeShortcutTabId=_0x5a7e9a(0x34e),renderAdditionalShortcutsModal(),document[_0x5a7e9a(0xbf1)]('additional-shortcuts-modal')['classList']['remove']('hidden'));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x6f9))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x219833=_0x36ddd3;document['getElementById'](_0x219833(0x8f8))[_0x219833(0xe06)][_0x219833(0xd5c)](_0x219833(0xa93));}),document['getElementById'](_0x36ddd3(0x3c0))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x177c0b=>{const _0x5d3482=_0x36ddd3,_0x25b943=_0x177c0b[_0x5d3482(0xa8b)][_0x5d3482(0xd59)](_0x5d3482(0x5ea)),_0xf7d6da=_0x177c0b[_0x5d3482(0xa8b)][_0x5d3482(0xd59)](_0x5d3482(0xbd6)),_0x5514b1=_0x177c0b[_0x5d3482(0xa8b)][_0x5d3482(0xd59)](_0x5d3482(0x3b5)),_0x35e8c3=document[_0x5d3482(0xbf1)](_0x5d3482(0x8f8));if(_0x25b943)_0x35e8c3[_0x5d3482(0xe06)][_0x5d3482(0xd5c)]('hidden'),handleShortcutClick(_0x25b943[_0x5d3482(0x2b9)]['id']);else{if(_0xf7d6da)_0x35e8c3[_0x5d3482(0xe06)][_0x5d3482(0xd5c)](_0x5d3482(0xa93)),openShortcutEditor(_0xf7d6da[_0x5d3482(0x2b9)]['id']);else{if(_0x5514b1){const _0x3a27a1=_0x5514b1['dataset']['id'],_0x384b53=blueprintShortcuts[_0x5d3482(0x633)](_0x273648=>_0x273648['id']===_0x3a27a1)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x384b53+'\x22?',async()=>{const _0x31889c=_0x5d3482,_0x26f2ab=blueprintShortcuts[_0x31889c(0x275)](_0x3c6f3c=>_0x3c6f3c['id']!==_0x3a27a1);try{const _0x241b4e=doc(db,_0x31889c(0xdb5),_0x31889c(0xb9c));await setDoc(_0x241b4e,{'blueprintShortcuts':_0x26f2ab},{'merge':!![]});}catch(_0x3b1815){console[_0x31889c(0x3f5)](_0x31889c(0x1e8),_0x3b1815);}});}}}}),document['getElementById'](_0x36ddd3(0x584))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x215e33=>{const _0x300c9a=_0x36ddd3,_0x4c635b=_0x215e33['target'][_0x300c9a(0xd59)](_0x300c9a(0x891)),_0xdf7b75=_0x215e33[_0x300c9a(0xa8b)][_0x300c9a(0xd59)](_0x300c9a(0x7e4)),_0x546705=_0x215e33[_0x300c9a(0xa8b)][_0x300c9a(0xd59)](_0x300c9a(0x54d));if(_0xdf7b75)openShortcutEditor(_0xdf7b75[_0x300c9a(0x2b9)]['id']);else{if(_0x546705){const _0x2866c5=_0x546705[_0x300c9a(0x2b9)]['id'],_0x572293=blueprintShortcuts[_0x300c9a(0x633)](_0x46120b=>_0x46120b['id']===_0x2866c5)?.[_0x300c9a(0x372)];showConfirmation(_0x300c9a(0xd65)+_0x572293+'\x22?',async()=>{const _0xe529c=_0x300c9a,_0x504990=blueprintShortcuts[_0xe529c(0x275)](_0x4de23c=>_0x4de23c['id']!==_0x2866c5);try{const _0x227c1a=doc(db,_0xe529c(0xdb5),_0xe529c(0xb9c));await setDoc(_0x227c1a,{'blueprintShortcuts':_0x504990},{'merge':!![]});}catch(_0x5cb000){console[_0xe529c(0x3f5)](_0xe529c(0x1e8),_0x5cb000);}});}else _0x4c635b&&handleShortcutClick(_0x4c635b['dataset']['id']);}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x777))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>openShortcutEditor(null)),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x5ff))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x483dee=_0x36ddd3;document[_0x483dee(0xbf1)]('shortcut-editor-modal')['classList']['add'](_0x483dee(0xa93));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x2c3))['addEventListener'](_0x36ddd3(0x67d),saveShortcutChanges),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xcf1))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),async()=>{const _0x35066b=_0x36ddd3,_0x30218d=document[_0x35066b(0xbf1)](_0x35066b(0x1b2)),_0x40624a=document[_0x35066b(0xbf1)](_0x35066b(0x3c5));_0x30218d[_0x35066b(0xd76)][_0x35066b(0x26d)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x30218d[_0x35066b(0xd76)][0x0],_0x40624a[_0x35066b(0xd76)][0x0]||null):showMessage(_0x35066b(0x761));}),document['getElementById']('topic-quiz-bank-modal')['addEventListener']('click',async _0x85dac6=>{const _0x427dde=_0x36ddd3,_0x2a8def=document[_0x427dde(0xbf1)](_0x427dde(0x641)),_0xb8633d=_0x85dac6[_0x427dde(0xa8b)][_0x427dde(0xd59)](_0x427dde(0x8cb)),_0xec5f04=_0x85dac6[_0x427dde(0xa8b)][_0x427dde(0xd59)](_0x427dde(0x9c5)),_0x46ef28=_0x85dac6[_0x427dde(0xa8b)][_0x427dde(0xd59)](_0x427dde(0x31f)),_0x2768ad=_0x85dac6[_0x427dde(0xa8b)][_0x427dde(0xd59)](_0x427dde(0x9e1)),_0x4f1e3c=_0x85dac6[_0x427dde(0xa8b)][_0x427dde(0xd59)](_0x427dde(0xab5)),_0x178d02=_0x85dac6[_0x427dde(0xa8b)]['closest']('.bp-game-btn');if(_0xb8633d){cameFromBlueprint=!![];const _0x16a46a=_0xb8633d[_0x427dde(0x2b9)][_0x427dde(0x506)];showQuizDetailView(_0x16a46a),_0x2a8def['classList'][_0x427dde(0xd5c)](_0x427dde(0xa93));}else{if(_0xec5f04){const _0x43d715=_0xec5f04[_0x427dde(0x2b9)][_0x427dde(0x286)],_0x5c7392=_0xec5f04['dataset'][_0x427dde(0x506)],_0x473d10=allQuizzesGlobal[_0x427dde(0x633)](_0x8532e0=>_0x8532e0['id']===_0x5c7392),_0x1d94f1=_0x473d10?_0x473d10[_0x427dde(0x3b7)]:_0x427dde(0x881);showConfirmation(_0x427dde(0xb23)+_0x1d94f1+_0x427dde(0x873),async()=>{const _0x45f2ea=_0x427dde;try{const _0x2b5cfb=doc(db,'artifacts/'+appId+_0x45f2ea(0xc6f),currentBlueprintProjectId);await updateDoc(_0x2b5cfb,{['topics.'+_0x43d715+_0x45f2ea(0x8b6)]:arrayRemove(_0x5c7392)}),showMessage(_0x45f2ea(0x5b5)),openTopicQuizBank(_0x43d715),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3d19b2){console[_0x45f2ea(0x3f5)](_0x45f2ea(0x940),_0x3d19b2),showMessage(_0x45f2ea(0x645));}});}else{if(_0x46ef28){cameFromBlueprint=!![];const _0x282233=_0x46ef28[_0x427dde(0x2b9)][_0x427dde(0x506)],_0x15288a=allQuizzesGlobal[_0x427dde(0x633)](_0x4eaac7=>_0x4eaac7['id']===_0x282233);_0x15288a&&(startPresentation(_0x15288a),_0x2a8def[_0x427dde(0xe06)][_0x427dde(0xd5c)](_0x427dde(0xa93)));}else{if(_0x2768ad){cameFromBlueprint=!![];const _0x2ab3c1=_0x2768ad[_0x427dde(0x2b9)]['quizId'],_0x8e9161=allQuizzesGlobal[_0x427dde(0x633)](_0x4a3869=>_0x4a3869['id']===_0x2ab3c1);_0x8e9161&&(currentQuizData=_0x8e9161,startAdminTest(),_0x2a8def[_0x427dde(0xe06)]['add'](_0x427dde(0xa93)));}else{if(_0x4f1e3c)cameFromBlueprint=!![],handleStartLiveRace(_0x4f1e3c[_0x427dde(0x2b9)][_0x427dde(0x506)]),_0x2a8def[_0x427dde(0xe06)]['add'](_0x427dde(0xa93));else{if(_0x178d02){cameFromBlueprint=!![];const _0xf33d21=_0x178d02['dataset'][_0x427dde(0x506)],_0x260491=_0x178d02[_0x427dde(0x2b9)][_0x427dde(0x43b)],_0x5da307=allQuizzesGlobal['find'](_0x236a2b=>_0x236a2b['id']===_0xf33d21);_0x5da307&&(showGameStartConfirmationModal(_0xf33d21,_0x260491,_0x5da307['topic']),_0x2a8def['classList']['add'](_0x427dde(0xa93)));}}}}}}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xb0c))[_0x36ddd3(0x4ef)]('click',()=>{const _0x1a997f=_0x36ddd3;document[_0x1a997f(0xbf1)](_0x1a997f(0x517))[_0x1a997f(0xe06)][_0x1a997f(0xb55)](_0x1a997f(0xa93)),document[_0x1a997f(0xbf1)]('manual-bp-project-name')[_0x1a997f(0x49f)]='',document[_0x1a997f(0xbf1)](_0x1a997f(0x790))[_0x1a997f(0x49f)]='',document['getElementById'](_0x1a997f(0x9e5))[_0x1a997f(0x49f)]='';}),document['getElementById']('cancel-manual-bp-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x3b7830=_0x36ddd3;document[_0x3b7830(0xbf1)](_0x3b7830(0x517))[_0x3b7830(0xe06)][_0x3b7830(0xd5c)](_0x3b7830(0xa93));}),document[_0x36ddd3(0xbf1)]('confirm-manual-bp-btn')[_0x36ddd3(0x4ef)]('click',handleManualBlueprintSave),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x50b))[_0x36ddd3(0x4ef)]('click',()=>document[_0x36ddd3(0xbf1)](_0x36ddd3(0x866))[_0x36ddd3(0xe06)][_0x36ddd3(0xd5c)](_0x36ddd3(0xa93))),document[_0x36ddd3(0xbf1)]('save-bp-settings-btn')[_0x36ddd3(0x4ef)]('click',handleSaveBlueprintPageSettings),document['getElementById'](_0x36ddd3(0xc22))[_0x36ddd3(0x4ef)]('click',openBlueprintQuizSettings),document['getElementById']('save-blueprint-as-project-btn')['addEventListener'](_0x36ddd3(0x67d),saveBlueprintProject),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xac7))['addEventListener'](_0x36ddd3(0x67d),showBlueprintProjects),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x336))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x4971b1=_0x36ddd3;document[_0x4971b1(0xbf1)]('blueprint-projects-modal')[_0x4971b1(0xe06)][_0x4971b1(0xd5c)](_0x4971b1(0xa93));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x6f1))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x515f3c=>{const _0x1336a8=_0x36ddd3,_0x243ba3=_0x515f3c['target'][_0x1336a8(0xd59)](_0x1336a8(0x6fe)),_0x5ebea4=_0x515f3c['target'][_0x1336a8(0xd59)](_0x1336a8(0xd27));if(_0x243ba3)displayBlueprintProjectManager(_0x243ba3[_0x1336a8(0x2b9)]['id']);else _0x5ebea4&&handleDeepDeleteBlueprintProject(_0x5ebea4['dataset']['id']);}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x9e6))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x14f973=_0x36ddd3;currentBlueprintProjectId=null,currentProjectId=null,document[_0x14f973(0xbf1)](_0x14f973(0xdc8))[_0x14f973(0xe06)][_0x14f973(0xd5c)](_0x14f973(0xa93)),showView('admin-dashboard');}),document['getElementById'](_0x36ddd3(0x381))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),addTopicToProject),document['getElementById']('bp-topic-list-container')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),async _0x278adc=>{const _0x3ad194=_0x36ddd3,_0x15ade4=_0x278adc[_0x3ad194(0xa8b)][_0x3ad194(0xd59)]('[data-topic-id]');if(!_0x15ade4)return;const _0x266605=_0x15ade4[_0x3ad194(0x2b9)][_0x3ad194(0x286)],_0x252696=_0x278adc['target'][_0x3ad194(0xd59)]('.bp-create-onet-quiz-btn'),_0x29d840=_0x278adc[_0x3ad194(0xa8b)]['closest'](_0x3ad194(0x8b0)),_0x3d9d62=_0x278adc[_0x3ad194(0xa8b)][_0x3ad194(0xd59)](_0x3ad194(0xa97)),_0xba7d79=_0x278adc[_0x3ad194(0xa8b)][_0x3ad194(0xd59)]('.bp-open-topic-bank-btn'),_0x166b8e=_0x278adc[_0x3ad194(0xa8b)][_0x3ad194(0xd59)]('.view-bp-lesson-btn'),_0x587b39=_0x278adc[_0x3ad194(0xa8b)][_0x3ad194(0xd59)](_0x3ad194(0xa10)),_0x4b0434=_0x278adc[_0x3ad194(0xa8b)]['closest'](_0x3ad194(0x639)),_0x963c58=_0x278adc[_0x3ad194(0xa8b)][_0x3ad194(0xd59)](_0x3ad194(0x91d)),_0x3adb3d=_0x2f7b5b=>{const _0x3f5e76=_0x3ad194,_0x4d1582=_0x2f7b5b['querySelector'](_0x3f5e76(0xa25))[_0x3f5e76(0x617)][_0x3f5e76(0xab6)](),_0x4c3c44=_0x2f7b5b['closest'](_0x3f5e76(0xd1e))[_0x3f5e76(0x7a2)],_0x4d58e1=_0x4c3c44?_0x4c3c44['textContent'][_0x3f5e76(0xab6)]():'';return _0x4d58e1+':\x20'+_0x4d1582;};if(_0xba7d79)openTopicQuizBank(_0x266605);else{if(_0x252696){const _0x4b9180=_0x3adb3d(_0x15ade4);selectProjectAndGenerateBlueprintQuiz(_0x4b9180,null,_0x266605,!![]);}else{if(_0x29d840){const _0x3c2906=_0x3adb3d(_0x15ade4);try{const _0x4b4ec3=doc(db,_0x3ad194(0x7ff)+appId+_0x3ad194(0x4b4)+currentBlueprintProjectId+_0x3ad194(0x8ad),_0x266605),_0x5a48b5=await getDoc(_0x4b4ec3);if(_0x5a48b5[_0x3ad194(0x2b1)]()){const _0x240884=_0x5a48b5['data']()[_0x3ad194(0x684)],_0x41f24c=document[_0x3ad194(0x6a2)]('div'),_0x12fd51=_0x1afdfc=>{const _0x31edf7=_0x3ad194;if(!_0x1afdfc)return'';return _0x41f24c[_0x31edf7(0xcf3)]=_0x1afdfc,_0x41f24c[_0x31edf7(0x617)]||_0x41f24c[_0x31edf7(0x6ef)]||'';},_0x3aa9e4=(_0x12fd51(_0x240884[_0x3ad194(0x516)])+'\x20'+_0x12fd51(_0x240884['memory'])+'\x20'+_0x12fd51(_0x240884[_0x3ad194(0xd4a)]))[_0x3ad194(0xab6)]();selectProjectAndGenerateBlueprintQuiz(_0x3c2906,_0x3aa9e4,_0x266605,![]);}else showMessage(_0x3ad194(0x42f));}catch(_0x14c3c5){console['error']('Error\x20preparing\x20content\x20quiz:',_0x14c3c5),showMessage(_0x3ad194(0x182));}}else{if(_0x3d9d62){const _0xdcffe3=_0x3adb3d(_0x15ade4);selectProjectAndGenerateBlueprintQuiz(_0xdcffe3,null,_0x266605,![]);}else{if(_0x166b8e){const _0x562c18=doc(db,_0x3ad194(0x7ff)+appId+_0x3ad194(0xc6f),currentBlueprintProjectId),_0x4209fc=await getDoc(_0x562c18);if(_0x4209fc[_0x3ad194(0x2b1)]()){const _0x122f13=_0x4209fc[_0x3ad194(0x934)](),_0x5235f3=_0x122f13[_0x3ad194(0xa91)][_0x266605];if(_0x5235f3&&_0x5235f3['status']==='generated')try{const _0x5bc641=doc(db,_0x3ad194(0x7ff)+appId+_0x3ad194(0x4b4)+currentBlueprintProjectId+_0x3ad194(0x8ad),_0x266605),_0x3fec21=await getDoc(_0x5bc641);if(_0x3fec21['exists']()){const _0x2b9696=_0x3fec21[_0x3ad194(0x934)]()[_0x3ad194(0x684)];document['getElementById'](_0x3ad194(0xd8f))[_0x3ad194(0x617)]=_0x3ad194(0x380)+_0x3adb3d(_0x15ade4),document[_0x3ad194(0xbf1)]('pointContent')[_0x3ad194(0xcf3)]=_0x2b9696[_0x3ad194(0x516)],document['getElementById']('memoryContent')[_0x3ad194(0xcf3)]=_0x2b9696[_0x3ad194(0x3f1)],document['getElementById'](_0x3ad194(0x801))[_0x3ad194(0xcf3)]=_0x2b9696['summary'];const _0xb0f977=document[_0x3ad194(0xbf1)]('applicationContent');_0x2b9696[_0x3ad194(0xddc)]?(currentApplicationData=_0x2b9696[_0x3ad194(0xddc)],_0xb0f977['innerHTML']=currentApplicationData[_0x3ad194(0x469)]((_0x32d23a,_0x589f6a)=>_0x3ad194(0x2c1)+(_0x589f6a+0x1)+'.\x20'+marked['parseInline'](_0x32d23a['question'])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x589f6a+_0x3ad194(0x5da)+_0x32d23a['options'][_0x3ad194(0x469)]((_0x66b915,_0xc9b2c0)=>_0x3ad194(0xdf8)+_0x589f6a+',\x20'+_0xc9b2c0+_0x3ad194(0x9dd)+String[_0x3ad194(0x6f0)](0x61+_0xc9b2c0)+'.\x20'+marked[_0x3ad194(0x8ba)](_0x66b915)+_0x3ad194(0x358))[_0x3ad194(0x4ce)]('')+_0x3ad194(0xc16))[_0x3ad194(0x4ce)]('')):(currentApplicationData=[],_0xb0f977[_0x3ad194(0xcf3)]=_0x2b9696[_0x3ad194(0x77e)]||_0x2b9696[_0x3ad194(0x99b)]),document['getElementById'](_0x3ad194(0xafa))['classList'][_0x3ad194(0xd5c)]('hidden'),document['getElementById']('lesson-sections-container')[_0x3ad194(0xe06)][_0x3ad194(0xb55)](_0x3ad194(0xa93)),document[_0x3ad194(0xbf1)]('lesson-view-modal')[_0x3ad194(0xe06)]['remove'](_0x3ad194(0xa93)),window['MathJax']&&MathJax[_0x3ad194(0x255)]([document[_0x3ad194(0xbf1)]('lesson-view-content')]);}else showMessage(_0x3ad194(0x31d));}catch(_0xe7ba9a){console[_0x3ad194(0x3f5)](_0x3ad194(0xbdb),_0xe7ba9a),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x3ad194(0x754));}}else{if(_0x587b39){const _0x114dd8=_0x3adb3d(_0x15ade4),_0x14274b=doc(db,'artifacts/'+appId+_0x3ad194(0xc6f),currentBlueprintProjectId),_0x242c9b=await getDoc(_0x14274b);if(_0x242c9b[_0x3ad194(0x2b1)]()){const _0x1fca67=_0x242c9b[_0x3ad194(0x934)]();generateAndSaveLessonForBlueprint(_0x266605,_0x114dd8,_0x1fca67[_0x3ad194(0xd2c)]);}}else{if(_0x4b0434)editTopicInProject(_0x266605);else _0x963c58&&deleteTopicFromProject(_0x266605);}}}}}}}),document['getElementById'](_0x36ddd3(0x734))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleFixLessonLatex),document['getElementById'](_0x36ddd3(0xc82))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleExportLessonToPDF),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x660))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x105539=_0x36ddd3;document[_0x105539(0xbf1)](_0x105539(0xd9d))[_0x105539(0xe06)][_0x105539(0xd5c)](_0x105539(0xa93));});const _0x385a58=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x9ea)),_0x4b1f34=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x78a));_0x385a58[_0x36ddd3(0x4ef)](_0x36ddd3(0xa47),()=>{const _0x16b591=_0x36ddd3;_0x4b1f34[_0x16b591(0xe06)]['toggle'](_0x16b591(0xa93),!_0x385a58['checked']);});const _0x297d49=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x19f)),_0x334670=document[_0x36ddd3(0xbf1)](_0x36ddd3(0xd51));_0x297d49[_0x36ddd3(0x4ef)](_0x36ddd3(0xa47),()=>{const _0x170cfe=_0x36ddd3;_0x334670[_0x170cfe(0xe06)][_0x170cfe(0xde5)](_0x170cfe(0xa93),!_0x297d49[_0x170cfe(0x51f)]);});const _0x19761b=document[_0x36ddd3(0xbf1)]('modal-confidence-scoring-checkbox'),_0x5bb2b9=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x742));_0x19761b[_0x36ddd3(0x4ef)](_0x36ddd3(0xa47),()=>{const _0x4dc6a0=_0x36ddd3;_0x5bb2b9['classList'][_0x4dc6a0(0xde5)](_0x4dc6a0(0xa93),!_0x19761b[_0x4dc6a0(0x51f)]);});const _0xe557df=document['getElementById'](_0x36ddd3(0x86c)),_0x2a06eb=async _0x3f5906=>{const _0x13f307=_0x36ddd3,_0x37c2dd=document[_0x13f307(0xbf1)](_0x13f307(0x86c)),_0x20b557=_0x37c2dd[_0x13f307(0x2b9)]['currentMode'],_0x38bc32=document[_0x13f307(0xbf1)]('selected-answer-index-hidden');_0x37c2dd[_0x13f307(0xe06)]['add'](_0x13f307(0xa93));if(_0x20b557==='timed'){const _0x4cee41=_0x38bc32[_0x13f307(0x49f)],_0x2da94d={'answer':_0x4cee41,'wasConfident':_0x3f5906};proceedToNextQuestion(_0x2da94d);}else{if(_0x20b557===_0x13f307(0x7f0)){const _0x38ae25=_0x38bc32[_0x13f307(0x2b9)][_0x13f307(0x9db)],_0xac3a26=JSON['parse'](_0x38bc32[_0x13f307(0x2b9)][_0x13f307(0x7bc)]),_0x7f1291=JSON[_0x13f307(0xba3)](_0x38bc32[_0x13f307(0x2b9)]['gameData']),_0x5339f=_0x38bc32[_0x13f307(0x2b9)][_0x13f307(0xac5)];handleSyncAnswerSubmit(_0x38ae25,_0xac3a26,_0x7f1291,_0x5339f,_0x3f5906);}}_0x37c2dd[_0x13f307(0x2b9)][_0x13f307(0x601)]='';};document[_0x36ddd3(0xbf1)](_0x36ddd3(0x4d3))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>_0x2a06eb(!![])),document['getElementById']('confirm-not-confident')['addEventListener'](_0x36ddd3(0x67d),()=>_0x2a06eb(![])),liveGameView[_0x36ddd3(0x4ef)]('click',_0x615fee=>{const _0x225e0f=_0x36ddd3,_0x323775=_0x615fee[_0x225e0f(0xa8b)][_0x225e0f(0xd59)](_0x225e0f(0x5c3));if(_0x323775){const _0x52f4a1=_0x323775[_0x225e0f(0x2b9)][_0x225e0f(0xac5)];_0x52f4a1&&handleKickPlayerSync(_0x52f4a1);}});const _0x32cf56=document[_0x36ddd3(0xbf1)]('confirm-game-start-btn'),_0x14ee87=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x9b0));_0x14ee87['addEventListener'](_0x36ddd3(0x67d),()=>{const _0x56f4c1=_0x36ddd3;document[_0x56f4c1(0xbf1)](_0x56f4c1(0x4a6))['classList'][_0x56f4c1(0xd5c)](_0x56f4c1(0xa93));}),_0x32cf56[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x27eded=_0x36ddd3,_0x35995b=document[_0x27eded(0xbf1)](_0x27eded(0x1e6))['value'],_0x2e8d81=document[_0x27eded(0xbf1)](_0x27eded(0x530))[_0x27eded(0x49f)],_0x119a3c=document[_0x27eded(0xbf1)](_0x27eded(0x360))[_0x27eded(0x51f)];document[_0x27eded(0xbf1)](_0x27eded(0x4a6))[_0x27eded(0xe06)][_0x27eded(0xd5c)](_0x27eded(0xa93));switch(_0x2e8d81){case _0x27eded(0xc9b):handleStartLiveRace(_0x35995b,_0x119a3c);break;case'team':handleStartTeamQuiz(_0x35995b,_0x119a3c);break;case'group':handleStartGroupMode(_0x35995b,_0x119a3c);break;case _0x27eded(0x7f0):const _0x13ce2f=document[_0x27eded(0x19c)](_0x27eded(0xd17))[_0x27eded(0x49f)]||'classic';handleStartSyncMode(_0x35995b,_0x119a3c,_0x13ce2f);break;}}),document['getElementById']('join-group-activity-btn')['addEventListener'](_0x36ddd3(0x67d),handleJoinGroupActivity),liveGameView[_0x36ddd3(0x4ef)]('click',_0x58eec9=>{const _0x199e1a=_0x36ddd3,_0x7741c6=_0x58eec9[_0x199e1a(0xa8b)][_0x199e1a(0xd59)]('.summary-bar-item');document[_0x199e1a(0x218)](_0x199e1a(0x85b))[_0x199e1a(0xdac)](_0x179db2=>{const _0x15871b=_0x199e1a;(!_0x7741c6||_0x179db2['id']!==_0x7741c6['dataset'][_0x15871b(0x6ae)])&&_0x179db2['classList'][_0x15871b(0xb55)](_0x15871b(0x4b7));});if(!_0x7741c6)return;const _0x1da4de=_0x7741c6[_0x199e1a(0x2b9)][_0x199e1a(0x6ae)],_0x112c9e=document['getElementById'](_0x1da4de);_0x112c9e&&_0x112c9e[_0x199e1a(0xe06)]['toggle'](_0x199e1a(0x4b7));}),liveGameView[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x17408a=>{const _0x5808eb=_0x36ddd3;if(_0x17408a[_0x5808eb(0xa8b)][_0x5808eb(0xe06)][_0x5808eb(0xbe2)]('kick-player-btn')){const _0x145e87=_0x17408a[_0x5808eb(0xa8b)]['dataset'][_0x5808eb(0xac5)];_0x145e87&&handleKickPlayer(_0x145e87);}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x83c))[_0x36ddd3(0x4ef)](_0x36ddd3(0x451),()=>document['getElementById'](_0x36ddd3(0xddd))[_0x36ddd3(0xe06)][_0x36ddd3(0xb55)](_0x36ddd3(0xa93))),document[_0x36ddd3(0xbf1)]('save-project-name-btn')[_0x36ddd3(0x4ef)]('click',handleSaveProjectName),document[_0x36ddd3(0xbf1)]('project-title')['addEventListener'](_0x36ddd3(0x17e),_0x50d7b0=>{const _0x4490fc=_0x36ddd3;_0x50d7b0['key']===_0x4490fc(0xbed)&&(_0x50d7b0[_0x4490fc(0x1a1)](),_0x50d7b0[_0x4490fc(0xa8b)]['blur'](),handleSaveProjectName());}),document['getElementById'](_0x36ddd3(0xcc1))['addEventListener']('click',()=>{const _0x37b40f=_0x36ddd3;document['getElementById'](_0x37b40f(0x2ec))[_0x37b40f(0xe06)]['remove']('hidden');}),document['getElementById'](_0x36ddd3(0x7f6))['addEventListener'](_0x36ddd3(0x67d),()=>{const _0x51a635=_0x36ddd3;document[_0x51a635(0xbf1)](_0x51a635(0x2ec))['classList'][_0x51a635(0xd5c)](_0x51a635(0xa93));}),document[_0x36ddd3(0xbf1)]('confirm-bulk-quiz-settings-btn')[_0x36ddd3(0x4ef)]('click',handleBulkUpdateQuizSettings),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x50c))['addEventListener']('click',handleModeSwitch),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x984))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleUpdateOldQuizzes),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x31b))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleResetProjectOrder),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xc57))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleSaveVisibilitySettings),document[_0x36ddd3(0xbf1)]('add-custom-math-topic-btn')['addEventListener'](_0x36ddd3(0x67d),handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')['addEventListener'](_0x36ddd3(0x67d),handleSelectAllTopics),document[_0x36ddd3(0xbf1)]('deselect-all-topics-btn')['addEventListener'](_0x36ddd3(0x67d),handleDeselectAllTopics),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xd56))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0xc72df2=_0x36ddd3;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0xc72df2(0xdd6));}}),document[_0x36ddd3(0xbf1)]('back-to-project-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document['getElementById'](_0x36ddd3(0xb51))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0xe7325=_0x36ddd3;showView(_0xe7325(0xdd6));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x2fa))['addEventListener'](_0x36ddd3(0x67d),()=>{const _0x547aff=_0x36ddd3;messageModal[_0x547aff(0xe06)][_0x547aff(0xd5c)](_0x547aff(0xa93)),typeof modalConfirmAction===_0x547aff(0xa71)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x36ddd3(0xbf1)]('create-project-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>createProjectModal[_0x36ddd3(0xe06)]['remove'](_0x36ddd3(0xa93))),document['getElementById'](_0x36ddd3(0x750))[_0x36ddd3(0x4ef)]('click',()=>createProjectModal[_0x36ddd3(0xe06)]['add'](_0x36ddd3(0xa93))),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x256))[_0x36ddd3(0x4ef)]('click',()=>adminPasswordModal['classList']['add']('hidden')),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x444))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleAdminLogin),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x199))[_0x36ddd3(0x4ef)](_0x36ddd3(0xe22),_0xecfe4=>{const _0x5aa505=_0x36ddd3;if(_0xecfe4[_0x5aa505(0x9bd)]===_0x5aa505(0xbed))handleAdminLogin();}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xdf4))[_0x36ddd3(0x4ef)]('click',()=>{const _0x503066=_0x36ddd3;confirmationModal[_0x503066(0xe06)]['add'](_0x503066(0xa93)),typeof cancelAction===_0x503066(0xa71)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x36ddd3(0x361))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0xd87414=_0x36ddd3;confirmAction&&confirmAction(),confirmationModal[_0xd87414(0xe06)]['add'](_0xd87414(0xa93)),confirmAction=null,cancelAction=null;}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xa60))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>renameQuizModal['classList'][_0x36ddd3(0xd5c)](_0x36ddd3(0xa93))),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x674))['addEventListener'](_0x36ddd3(0x67d),confirmRenameQuiz),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x5a5))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>moveQuizModal[_0x36ddd3(0xe06)][_0x36ddd3(0xd5c)]('hidden')),document[_0x36ddd3(0xbf1)]('confirm-move-quiz-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),confirmMoveQuiz),document['getElementById'](_0x36ddd3(0x9b9))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>quizSettingsModal['classList'][_0x36ddd3(0xd5c)]('hidden')),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x54c))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),confirmQuizSettings),document[_0x36ddd3(0xbf1)]('cancel-quiz-status-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>quizStatusModal[_0x36ddd3(0xe06)][_0x36ddd3(0xd5c)](_0x36ddd3(0xa93))),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xe03))['addEventListener'](_0x36ddd3(0x67d),confirmQuizStatus);const _0x39b4dd=document['getElementById'](_0x36ddd3(0x4fe));document[_0x36ddd3(0xbf1)](_0x36ddd3(0xc35))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x1e8e90=_0x36ddd3;_0x39b4dd[_0x1e8e90(0xe06)][_0x1e8e90(0xd5c)]('hidden');}),document['getElementById'](_0x36ddd3(0xc34))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),async()=>{const _0x5be466=_0x36ddd3,_0xc9cc68=allQuizzes[_0x5be466(0x633)](_0x282cfa=>_0x282cfa['id']===actionTargetId);_0xc9cc68?(currentQuizData=_0xc9cc68,exportQuizAsWorksheetPDF()):showMessage(_0x5be466(0x334)),_0x39b4dd[_0x5be466(0xe06)][_0x5be466(0xd5c)](_0x5be466(0xa93));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x67c))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),async()=>{const _0x47c7dd=_0x36ddd3,_0xb90fa4=allQuizzes[_0x47c7dd(0x633)](_0xd71d75=>_0xd71d75['id']===actionTargetId);_0xb90fa4?(currentQuizData=_0xb90fa4,exportQuizAsTutorPDF()):showMessage(_0x47c7dd(0x334)),_0x39b4dd[_0x47c7dd(0xe06)]['add']('hidden');});const _0x12b6d9=document['getElementById'](_0x36ddd3(0x960));_0x12b6d9[_0x36ddd3(0xcf3)]=_0x36ddd3(0x1f4),_0x12b6d9['addEventListener'](_0x36ddd3(0x67d),openGlobalActivityModal),document['getElementById']('cancel-global-activity-btn')['addEventListener']('click',()=>{const _0x51fb45=_0x36ddd3;document[_0x51fb45(0xbf1)](_0x51fb45(0x917))[_0x51fb45(0xe06)]['add'](_0x51fb45(0xa93));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x29f))['addEventListener']('input',_0x4568a4=>{const _0xa465ba=_0x36ddd3;renderGlobalActivityList(_0x4568a4['target'][_0xa465ba(0x49f)]);}),document['getElementById'](_0x36ddd3(0x339))[_0x36ddd3(0x4ef)]('click',_0x29413a=>{const _0x24e98d=_0x36ddd3,_0x495a8b=_0x29413a[_0x24e98d(0xa8b)][_0x24e98d(0xd59)](_0x24e98d(0xacc));if(!_0x495a8b)return;const _0x22fe7d=_0x495a8b[_0x24e98d(0x2b9)]['id'],_0xb23f38=_0x495a8b[_0x24e98d(0x2b9)][_0x24e98d(0x43b)],_0x533513=allQuizzesGlobal['find'](_0x459af1=>_0x459af1['id']===_0x22fe7d);_0x533513&&(document[_0x24e98d(0xbf1)](_0x24e98d(0x917))[_0x24e98d(0xe06)][_0x24e98d(0xd5c)](_0x24e98d(0xa93)),_0xb23f38===_0x24e98d(0xc9b)?handleStartLiveRace(_0x22fe7d):showGameStartConfirmationModal(_0x22fe7d,_0xb23f38,_0x533513[_0x24e98d(0x3b7)]));}),document[_0x36ddd3(0xbf1)]('project-search-input')['addEventListener'](_0x36ddd3(0x287),renderProjects),document['getElementById'](_0x36ddd3(0x514))['addEventListener']('change',async()=>{const _0x4a0c37=_0x36ddd3,_0x131fa0=document['getElementById']('project-sort-select')[_0x4a0c37(0x49f)],_0x5bea26=doc(db,_0x4a0c37(0xdb5),'dashboardConfig');try{await setDoc(_0x5bea26,{'projectSort':_0x131fa0},{'merge':!![]});}catch(_0x498990){console[_0x4a0c37(0x3f5)](_0x4a0c37(0x27a),_0x498990),showMessage(_0x4a0c37(0x679));}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xa0f))[_0x36ddd3(0x4ef)](_0x36ddd3(0x287),renderQuizzes),document[_0x36ddd3(0xbf1)]('grid-view-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x2a4963=_0x36ddd3;globalDashboardSettings[_0x2a4963(0x341)]=_0x2a4963(0xa82),saveUserPreference('projectView',_0x2a4963(0xa82)),renderProjects();}),document['getElementById'](_0x36ddd3(0x74b))['addEventListener'](_0x36ddd3(0x67d),()=>{const _0x454b11=_0x36ddd3;globalDashboardSettings['projectView']=_0x454b11(0xc38),saveUserPreference(_0x454b11(0x341),_0x454b11(0xc38)),renderProjects();}),manageTab[_0x36ddd3(0x4ef)]('click',()=>switchProjectTab(_0x36ddd3(0x373))),resultsTab[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>switchProjectTab(_0x36ddd3(0xbdc))),leaderboardTab[_0x36ddd3(0x4ef)]('click',()=>switchProjectTab(_0x36ddd3(0xcc0))),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x7fe))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>switchQuizDetailTab(_0x36ddd3(0x882))),document[_0x36ddd3(0xbf1)]('scores-tab-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>switchQuizDetailTab(_0x36ddd3(0x428))),document['getElementById'](_0x36ddd3(0x36a))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xab4))['addEventListener']('click',()=>switchQuizDetailTab(_0x36ddd3(0xd6e))),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x9c3))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleAnalyzeClass),generateWorksheetBtn[_0x36ddd3(0x4ef)]('click',generateWorksheet);const _0x10297e=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x3b9)),_0x95fef9=document[_0x36ddd3(0xbf1)](_0x36ddd3(0xb41)),_0x24985e=document['getElementById'](_0x36ddd3(0x5e9)),_0x365575=document[_0x36ddd3(0xbf1)](_0x36ddd3(0xaa7)),_0x242499=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x6a3)),_0x592388=document[_0x36ddd3(0xbf1)](_0x36ddd3(0xdff));topicTab['addEventListener']('click',()=>{const _0x4b5188=_0x36ddd3;topicTab['classList'][_0x4b5188(0xd5c)]('active'),textTab[_0x4b5188(0xe06)][_0x4b5188(0xb55)]('active'),fileTab[_0x4b5188(0xe06)]['remove'](_0x4b5188(0x94c)),worksheetTab[_0x4b5188(0xe06)]['remove'](_0x4b5188(0x94c));if(_0x10297e)_0x10297e['classList'][_0x4b5188(0xb55)](_0x4b5188(0x94c));if(_0x24985e)_0x24985e[_0x4b5188(0xe06)][_0x4b5188(0xb55)](_0x4b5188(0x94c));if(_0x242499)_0x242499[_0x4b5188(0xe06)]['remove'](_0x4b5188(0x94c));topicInputArea[_0x4b5188(0xe06)][_0x4b5188(0xb55)](_0x4b5188(0xa93)),textInputArea[_0x4b5188(0xe06)]['add']('hidden'),fileInputArea[_0x4b5188(0xe06)][_0x4b5188(0xd5c)](_0x4b5188(0xa93)),worksheetInputArea[_0x4b5188(0xe06)][_0x4b5188(0xd5c)](_0x4b5188(0xa93));if(_0x95fef9)_0x95fef9[_0x4b5188(0xe06)][_0x4b5188(0xd5c)]('hidden');if(_0x365575)_0x365575['classList'][_0x4b5188(0xd5c)]('hidden');if(_0x592388)_0x592388[_0x4b5188(0xe06)][_0x4b5188(0xd5c)]('hidden');}),textTab[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x3cf95d=_0x36ddd3;textTab[_0x3cf95d(0xe06)][_0x3cf95d(0xd5c)](_0x3cf95d(0x94c)),topicTab[_0x3cf95d(0xe06)][_0x3cf95d(0xb55)](_0x3cf95d(0x94c)),fileTab[_0x3cf95d(0xe06)][_0x3cf95d(0xb55)]('active'),worksheetTab['classList'][_0x3cf95d(0xb55)](_0x3cf95d(0x94c));if(_0x10297e)_0x10297e[_0x3cf95d(0xe06)][_0x3cf95d(0xb55)](_0x3cf95d(0x94c));if(_0x24985e)_0x24985e[_0x3cf95d(0xe06)][_0x3cf95d(0xb55)](_0x3cf95d(0x94c));if(_0x242499)_0x242499[_0x3cf95d(0xe06)][_0x3cf95d(0xb55)](_0x3cf95d(0x94c));textInputArea[_0x3cf95d(0xe06)][_0x3cf95d(0xb55)](_0x3cf95d(0xa93)),topicInputArea[_0x3cf95d(0xe06)][_0x3cf95d(0xd5c)]('hidden'),fileInputArea[_0x3cf95d(0xe06)]['add'](_0x3cf95d(0xa93)),worksheetInputArea['classList'][_0x3cf95d(0xd5c)]('hidden');if(_0x95fef9)_0x95fef9['classList'][_0x3cf95d(0xd5c)](_0x3cf95d(0xa93));if(_0x365575)_0x365575[_0x3cf95d(0xe06)]['add'](_0x3cf95d(0xa93));if(_0x592388)_0x592388['classList'][_0x3cf95d(0xd5c)](_0x3cf95d(0xa93));}),fileTab[_0x36ddd3(0x4ef)]('click',()=>{const _0x3d7758=_0x36ddd3;fileTab[_0x3d7758(0xe06)][_0x3d7758(0xd5c)](_0x3d7758(0x94c)),topicTab['classList'][_0x3d7758(0xb55)](_0x3d7758(0x94c)),textTab['classList'][_0x3d7758(0xb55)]('active'),worksheetTab[_0x3d7758(0xe06)][_0x3d7758(0xb55)](_0x3d7758(0x94c));if(_0x10297e)_0x10297e[_0x3d7758(0xe06)][_0x3d7758(0xb55)]('active');if(_0x24985e)_0x24985e['classList']['remove']('active');if(_0x242499)_0x242499[_0x3d7758(0xe06)][_0x3d7758(0xb55)](_0x3d7758(0x94c));fileInputArea[_0x3d7758(0xe06)][_0x3d7758(0xb55)](_0x3d7758(0xa93)),topicInputArea[_0x3d7758(0xe06)][_0x3d7758(0xd5c)](_0x3d7758(0xa93)),textInputArea['classList'][_0x3d7758(0xd5c)](_0x3d7758(0xa93)),worksheetInputArea[_0x3d7758(0xe06)]['add'](_0x3d7758(0xa93));if(_0x95fef9)_0x95fef9['classList'][_0x3d7758(0xd5c)]('hidden');if(_0x365575)_0x365575[_0x3d7758(0xe06)]['add']('hidden');if(_0x592388)_0x592388[_0x3d7758(0xe06)]['add']('hidden');}),worksheetTab[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0xd9ecb5=_0x36ddd3;worksheetTab['classList'][_0xd9ecb5(0xd5c)]('active'),topicTab['classList'][_0xd9ecb5(0xb55)](_0xd9ecb5(0x94c)),textTab[_0xd9ecb5(0xe06)][_0xd9ecb5(0xb55)](_0xd9ecb5(0x94c)),fileTab[_0xd9ecb5(0xe06)][_0xd9ecb5(0xb55)]('active');if(_0x10297e)_0x10297e[_0xd9ecb5(0xe06)][_0xd9ecb5(0xb55)]('active');if(_0x24985e)_0x24985e[_0xd9ecb5(0xe06)][_0xd9ecb5(0xb55)](_0xd9ecb5(0x94c));if(_0x242499)_0x242499[_0xd9ecb5(0xe06)][_0xd9ecb5(0xb55)](_0xd9ecb5(0x94c));worksheetInputArea['classList'][_0xd9ecb5(0xb55)](_0xd9ecb5(0xa93)),topicInputArea[_0xd9ecb5(0xe06)][_0xd9ecb5(0xd5c)](_0xd9ecb5(0xa93)),textInputArea[_0xd9ecb5(0xe06)][_0xd9ecb5(0xd5c)]('hidden'),fileInputArea[_0xd9ecb5(0xe06)][_0xd9ecb5(0xd5c)](_0xd9ecb5(0xa93));if(_0x95fef9)_0x95fef9[_0xd9ecb5(0xe06)][_0xd9ecb5(0xd5c)](_0xd9ecb5(0xa93));if(_0x365575)_0x365575['classList'][_0xd9ecb5(0xd5c)](_0xd9ecb5(0xa93));if(_0x592388)_0x592388[_0xd9ecb5(0xe06)][_0xd9ecb5(0xd5c)](_0xd9ecb5(0xa93));});const _0x4dc4f2=document[_0x36ddd3(0xbf1)]('bank-tab'),_0xd55bda=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x388));_0x4dc4f2&&_0x4dc4f2['addEventListener'](_0x36ddd3(0x67d),()=>{const _0x10c04f=_0x36ddd3;topicTab[_0x10c04f(0xe06)]['remove']('active'),textTab[_0x10c04f(0xe06)]['remove']('active'),fileTab[_0x10c04f(0xe06)][_0x10c04f(0xb55)]('active'),worksheetTab['classList'][_0x10c04f(0xb55)](_0x10c04f(0x94c));if(_0x10297e)_0x10297e[_0x10c04f(0xe06)][_0x10c04f(0xb55)](_0x10c04f(0x94c));if(_0x24985e)_0x24985e['classList']['remove']('active');if(_0x242499)_0x242499[_0x10c04f(0xe06)][_0x10c04f(0xb55)]('active');_0x4dc4f2[_0x10c04f(0xe06)][_0x10c04f(0xd5c)](_0x10c04f(0x94c)),topicInputArea[_0x10c04f(0xe06)][_0x10c04f(0xd5c)](_0x10c04f(0xa93)),textInputArea[_0x10c04f(0xe06)][_0x10c04f(0xd5c)](_0x10c04f(0xa93)),fileInputArea[_0x10c04f(0xe06)][_0x10c04f(0xd5c)](_0x10c04f(0xa93)),worksheetInputArea[_0x10c04f(0xe06)][_0x10c04f(0xd5c)](_0x10c04f(0xa93));if(_0x95fef9)_0x95fef9[_0x10c04f(0xe06)][_0x10c04f(0xd5c)]('hidden');if(_0x365575)_0x365575['classList'][_0x10c04f(0xd5c)](_0x10c04f(0xa93));if(_0x592388)_0x592388[_0x10c04f(0xe06)]['add'](_0x10c04f(0xa93));_0xd55bda[_0x10c04f(0xe06)][_0x10c04f(0xb55)](_0x10c04f(0xa93)),displayQuestionBank();});_0x10297e&&(_0x10297e[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x5c8fd1=_0x36ddd3;_0x10297e['classList'][_0x5c8fd1(0xd5c)](_0x5c8fd1(0x94c)),topicTab[_0x5c8fd1(0xe06)]['remove'](_0x5c8fd1(0x94c)),textTab[_0x5c8fd1(0xe06)]['remove'](_0x5c8fd1(0x94c)),fileTab[_0x5c8fd1(0xe06)][_0x5c8fd1(0xb55)](_0x5c8fd1(0x94c)),worksheetTab[_0x5c8fd1(0xe06)][_0x5c8fd1(0xb55)](_0x5c8fd1(0x94c));if(_0x24985e)_0x24985e[_0x5c8fd1(0xe06)][_0x5c8fd1(0xb55)](_0x5c8fd1(0x94c));if(_0x242499)_0x242499[_0x5c8fd1(0xe06)][_0x5c8fd1(0xb55)](_0x5c8fd1(0x94c));_0x95fef9[_0x5c8fd1(0xe06)][_0x5c8fd1(0xb55)](_0x5c8fd1(0xa93)),topicInputArea[_0x5c8fd1(0xe06)][_0x5c8fd1(0xd5c)](_0x5c8fd1(0xa93)),textInputArea['classList'][_0x5c8fd1(0xd5c)](_0x5c8fd1(0xa93)),fileInputArea[_0x5c8fd1(0xe06)][_0x5c8fd1(0xd5c)](_0x5c8fd1(0xa93)),worksheetInputArea[_0x5c8fd1(0xe06)][_0x5c8fd1(0xd5c)](_0x5c8fd1(0xa93));if(_0x365575)_0x365575[_0x5c8fd1(0xe06)][_0x5c8fd1(0xd5c)](_0x5c8fd1(0xa93));if(_0x592388)_0x592388['classList'][_0x5c8fd1(0xd5c)](_0x5c8fd1(0xa93));}),document[_0x36ddd3(0xbf1)]('generate-from-link-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleGenerateFromLink));_0x24985e&&_0x24985e[_0x36ddd3(0x4ef)]('click',()=>{const _0x1d0752=_0x36ddd3;_0x24985e['classList'][_0x1d0752(0xd5c)]('active'),topicTab[_0x1d0752(0xe06)][_0x1d0752(0xb55)](_0x1d0752(0x94c)),textTab[_0x1d0752(0xe06)][_0x1d0752(0xb55)](_0x1d0752(0x94c)),fileTab['classList'][_0x1d0752(0xb55)]('active'),worksheetTab[_0x1d0752(0xe06)][_0x1d0752(0xb55)]('active');if(_0x10297e)_0x10297e[_0x1d0752(0xe06)]['remove']('active');if(_0x4dc4f2)_0x4dc4f2[_0x1d0752(0xe06)][_0x1d0752(0xb55)](_0x1d0752(0x94c));if(_0x242499)_0x242499['classList'][_0x1d0752(0xb55)](_0x1d0752(0x94c));_0x365575['classList'][_0x1d0752(0xb55)]('hidden'),topicInputArea['classList'][_0x1d0752(0xd5c)](_0x1d0752(0xa93)),textInputArea[_0x1d0752(0xe06)]['add'](_0x1d0752(0xa93)),fileInputArea[_0x1d0752(0xe06)][_0x1d0752(0xd5c)](_0x1d0752(0xa93)),worksheetInputArea[_0x1d0752(0xe06)][_0x1d0752(0xd5c)](_0x1d0752(0xa93));if(_0x95fef9)_0x95fef9[_0x1d0752(0xe06)][_0x1d0752(0xd5c)](_0x1d0752(0xa93));if(_0xd55bda)_0xd55bda[_0x1d0752(0xe06)][_0x1d0752(0xd5c)](_0x1d0752(0xa93));if(_0x592388)_0x592388['classList']['add'](_0x1d0752(0xa93));});_0x242499&&_0x242499[_0x36ddd3(0x4ef)]('click',()=>{const _0x528a6e=_0x36ddd3;_0x242499[_0x528a6e(0xe06)]['add'](_0x528a6e(0x94c)),topicTab[_0x528a6e(0xe06)]['remove'](_0x528a6e(0x94c)),textTab[_0x528a6e(0xe06)][_0x528a6e(0xb55)]('active'),fileTab['classList'][_0x528a6e(0xb55)](_0x528a6e(0x94c)),worksheetTab[_0x528a6e(0xe06)][_0x528a6e(0xb55)](_0x528a6e(0x94c));if(_0x10297e)_0x10297e[_0x528a6e(0xe06)][_0x528a6e(0xb55)]('active');if(_0x24985e)_0x24985e[_0x528a6e(0xe06)][_0x528a6e(0xb55)]('active');if(_0x4dc4f2)_0x4dc4f2[_0x528a6e(0xe06)]['remove'](_0x528a6e(0x94c));_0x592388[_0x528a6e(0xe06)][_0x528a6e(0xb55)](_0x528a6e(0xa93)),topicInputArea['classList'][_0x528a6e(0xd5c)](_0x528a6e(0xa93)),textInputArea[_0x528a6e(0xe06)][_0x528a6e(0xd5c)]('hidden'),fileInputArea[_0x528a6e(0xe06)][_0x528a6e(0xd5c)](_0x528a6e(0xa93)),worksheetInputArea[_0x528a6e(0xe06)][_0x528a6e(0xd5c)](_0x528a6e(0xa93));if(_0x95fef9)_0x95fef9[_0x528a6e(0xe06)]['add']('hidden');if(_0x365575)_0x365575['classList'][_0x528a6e(0xd5c)]('hidden');if(_0xd55bda)_0xd55bda[_0x528a6e(0xe06)][_0x528a6e(0xd5c)](_0x528a6e(0xa93));});const _0x4fc063=document[_0x36ddd3(0xbf1)]('blueprint-upload-input'),_0x460b37=document[_0x36ddd3(0xbf1)](_0x36ddd3(0xcf1));if(_0x4fc063){const _0x5b256c=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x1b2)),_0x498090=document[_0x36ddd3(0xbf1)](_0x36ddd3(0xcf1)),_0x208642=document[_0x36ddd3(0xbf1)]('blueprint-options-container'),_0x375e38=document['getElementById'](_0x36ddd3(0xb1d)),_0x55e5a4=document[_0x36ddd3(0xbf1)]('blueprint-topics-list-container'),_0x159679=document[_0x36ddd3(0xbf1)]('blueprint-topics-list');_0x5b256c&&_0x5b256c[_0x36ddd3(0x4ef)](_0x36ddd3(0xa47),async _0x33ce56=>{const _0xb4afa3=_0x36ddd3;_0x208642[_0xb4afa3(0xe06)][_0xb4afa3(0xd5c)](_0xb4afa3(0xa93)),_0x55e5a4['classList'][_0xb4afa3(0xd5c)]('hidden'),_0x375e38[_0xb4afa3(0x51f)]=![],_0x498090[_0xb4afa3(0x635)]=!![];const _0x3bf111=_0x33ce56[_0xb4afa3(0xa8b)]['files'][0x0];if(_0x3bf111){_0x498090[_0xb4afa3(0x635)]=![];try{const _0x2bc4a7=await extractTextFromPdf(_0x3bf111);await analyzeBlueprintForTopics(_0x2bc4a7);}catch(_0x1d4fef){showMessage(_0xb4afa3(0x964)),_0x208642[_0xb4afa3(0xe06)][_0xb4afa3(0xd5c)](_0xb4afa3(0xa93));}}}),_0x375e38&&_0x375e38[_0x36ddd3(0x4ef)]('change',_0x3ef928=>{const _0x2d73b8=_0x36ddd3,_0x1a15ac=_0x3ef928[_0x2d73b8(0xa8b)][_0x2d73b8(0x51f)];_0x55e5a4['classList'][_0x2d73b8(0xde5)](_0x2d73b8(0xa93),!_0x1a15ac),_0x498090['disabled']=_0x1a15ac;}),_0x159679&&(_0x159679&&_0x159679[_0x36ddd3(0x4ef)]('click',_0x189bfe=>{const _0x5a9ae2=_0x36ddd3,_0x49bce9=_0x189bfe[_0x5a9ae2(0xa8b)][_0x5a9ae2(0xd59)](_0x5a9ae2(0x5be)),_0x21a41a=_0x189bfe[_0x5a9ae2(0xa8b)][_0x5a9ae2(0xd59)](_0x5a9ae2(0x803));if(_0x49bce9){const _0xfa3022=unescape(_0x49bce9[_0x5a9ae2(0x2b9)]['topic']);generateQuizForSingleTopic(_0xfa3022);}else{if(_0x21a41a){const _0xd62966=unescape(_0x21a41a[_0x5a9ae2(0x2b9)][_0x5a9ae2(0x3b7)]);handleGenerateTeachingContent(_0xd62966);}}}));}_0x460b37&&_0x460b37[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleGenerateFromBlueprint);const _0x3203e1=document[_0x36ddd3(0xbf1)](_0x36ddd3(0x87b)),_0x3335ec=document[_0x36ddd3(0xbf1)](_0x36ddd3(0xa94));_0x3203e1&&_0x3203e1['addEventListener']('change',_0x2e0d1c=>{const _0x1b443c=_0x36ddd3;_0x3335ec[_0x1b443c(0x635)]=_0x2e0d1c[_0x1b443c(0xa8b)]['files'][_0x1b443c(0x26d)]===0x0;});_0x3335ec&&_0x3335ec['addEventListener'](_0x36ddd3(0x67d),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x36ddd3(0x4ef)]('click',handleLoadQuiz),startQuizBtn[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),async()=>{const _0x5f2cc7=_0x36ddd3,_0x16ee25=document[_0x5f2cc7(0xbf1)]('student-name-select');currentStudentName=_0x16ee25[_0x5f2cc7(0x49f)];if(!currentStudentName){showMessage(_0x5f2cc7(0xb00));return;}try{const _0x21448a=currentQuizData['id'],_0x56cbed=doc(db,_0x5f2cc7(0x7ff)+appId+_0x5f2cc7(0x2a9)+_0x21448a+'/submissions',currentStudentName),_0x291fba=await getDoc(_0x56cbed);!_0x291fba[_0x5f2cc7(0x2b1)]()?await setDoc(_0x56cbed,{'studentName':currentStudentName,'startedAt':new Date()[_0x5f2cc7(0x5c8)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x56cbed,{'startedAt':new Date()[_0x5f2cc7(0x5c8)]()});}catch(_0x4aa142){console['error'](_0x5f2cc7(0x943),_0x4aa142),showMessage(_0x5f2cc7(0xd0b));return;}studentNameSelectionView[_0x5f2cc7(0xe06)][_0x5f2cc7(0xd5c)](_0x5f2cc7(0xa93)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xdd4))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),showJoinGameView),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xbcc))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleJoinLiveGame),document['getElementById'](_0x36ddd3(0x586))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>showView(_0x36ddd3(0x65e)));const _0x353102=()=>{const _0xd5459a=_0x36ddd3,_0x9832a6=document[_0xd5459a(0xbf1)](_0xd5459a(0x6df))[_0xd5459a(0x617)][_0xd5459a(0x93c)](/[^a-z0-9]/gi,'_')[_0xd5459a(0xd64)]();return _0xd5459a(0xddb)+(_0x9832a6||_0xd5459a(0xa16));},_0x4cccd5=document['getElementById'](_0x36ddd3(0xceb));_0x4cccd5&&_0x4cccd5[_0x36ddd3(0x4ef)](_0x36ddd3(0x287),_0x21c3b3=>{const _0x3fb5bd=_0x36ddd3,_0xdc1d38=_0x21c3b3['target']['value']['toLowerCase']()['trim'](),_0x3e9eb2=document[_0x3fb5bd(0xbf1)](_0x3fb5bd(0x611)),_0x2d0b78=_0x3e9eb2['querySelectorAll'](_0x3fb5bd(0x5d8));_0x2d0b78[_0x3fb5bd(0xdac)](_0x2d9d70=>{const _0x29d0c6=_0x3fb5bd;let _0x5b9825=![];const _0x48beea=_0x2d9d70[_0x29d0c6(0x218)](_0x29d0c6(0x401));_0x48beea[_0x29d0c6(0xdac)](_0x1aae01=>{const _0x54ed74=_0x29d0c6,_0x15c0a0=_0x1aae01[_0x54ed74(0x19c)]('.topic-name-display')[_0x54ed74(0x617)][_0x54ed74(0xd64)]();_0x15c0a0[_0x54ed74(0x1ef)](_0xdc1d38)?(_0x1aae01[_0x54ed74(0x403)][_0x54ed74(0x95f)]=_0x54ed74(0x166),_0x5b9825=!![]):_0x1aae01[_0x54ed74(0x403)]['display']=_0x54ed74(0xade);}),_0x5b9825?_0x2d9d70['style'][_0x29d0c6(0x95f)]=_0x29d0c6(0xe13):_0x2d9d70['style'][_0x29d0c6(0x95f)]='none';});});document[_0x36ddd3(0xbf1)]('export-image-btn')['addEventListener']('click',()=>exportTableAsImage(_0x36ddd3(0x390),_0x353102())),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xdec))['addEventListener'](_0x36ddd3(0x67d),()=>exportTableAsPDF(_0x36ddd3(0x535),_0x353102())),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x70c))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>exportTableAsWord(_0x36ddd3(0x390),_0x353102())),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x72b))[_0x36ddd3(0x4ef)]('click',()=>exportTableAsExcel(_0x36ddd3(0x535),_0x353102()));const _0x2eca64=()=>{const _0x18c874=_0x36ddd3,_0x5e6f2d=document[_0x18c874(0xbf1)]('results-quiz-title')[_0x18c874(0x617)][_0x18c874(0x93c)](/[^a-z0-9]/gi,'_')[_0x18c874(0xd64)]();return _0x18c874(0x825)+(_0x5e6f2d||_0x18c874(0xa16));};document[_0x36ddd3(0xbf1)](_0x36ddd3(0x73d))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>exportTableAsImage(_0x36ddd3(0x1d4),_0x2eca64())),document[_0x36ddd3(0xbf1)]('export-leaderboard-pdf-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>exportTableAsPDF(_0x36ddd3(0xb95),_0x2eca64())),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xadf))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>exportTableAsWord(_0x36ddd3(0x1d4),_0x2eca64())),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x247))['addEventListener'](_0x36ddd3(0x67d),()=>exportTableAsExcel('quiz-leaderboard-table',_0x2eca64())),projectQuizzesList[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),async _0x525416=>{const _0x39d477=_0x36ddd3,_0x58df66=_0x525416['target'][_0x39d477(0xd59)](_0x39d477(0x2d9)),_0x168696=_0x525416[_0x39d477(0xa8b)]['closest'](_0x39d477(0xc66)),_0x3d03f6=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)](_0x39d477(0xbd1)),_0x280238=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)](_0x39d477(0xd57)),_0x374bce=_0x525416['target'][_0x39d477(0xd59)]('.star-quiz-btn'),_0x3c0571=_0x525416[_0x39d477(0xa8b)]['closest'](_0x39d477(0x6a7)),_0x5611aa=_0x525416['target'][_0x39d477(0xd59)](_0x39d477(0x38c)),_0x47542b=_0x525416['target']['closest']('.quiz-settings-btn'),_0x5b1616=_0x525416[_0x39d477(0xa8b)]['closest']('.duplicate-quiz-btn'),_0x2bf344=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)]('.rename-quiz-btn'),_0x33ed9f=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)](_0x39d477(0x798)),_0x367524=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)]('.move-quiz-btn'),_0x5d0285=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)]('.pair-quiz-btn'),_0x143510=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)]('.unpair-quiz-btn'),_0x44c41b=_0x525416[_0x39d477(0xa8b)]['closest'](_0x39d477(0x581)),_0x560e1d=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)](_0x39d477(0x6cf)),_0x3b967f=_0x525416['target'][_0x39d477(0xd59)](_0x39d477(0xdfe)),_0x548a74=_0x525416[_0x39d477(0xa8b)]['closest'](_0x39d477(0xa3f)),_0x307e6d=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)]('.quiz-status-btn'),_0x3692e8=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)](_0x39d477(0x8a5)),_0xc467dd=_0x525416[_0x39d477(0xa8b)]['closest'](_0x39d477(0xa28)),_0x268f52=_0x525416[_0x39d477(0xa8b)]['closest'](_0x39d477(0xafb)),_0xef03a1=_0x525416[_0x39d477(0xa8b)][_0x39d477(0xd59)]('.start-live-race-btn');if(_0x268f52){const _0x134ae8=_0x268f52[_0x39d477(0x2b9)][_0x39d477(0x506)],_0x27cd9e=_0x268f52[_0x39d477(0x2b9)][_0x39d477(0x43b)],_0x5133e8=allQuizzes[_0x39d477(0x633)](_0x286f6b=>_0x286f6b['id']===_0x134ae8);_0x5133e8&&showGameStartConfirmationModal(_0x134ae8,_0x27cd9e,_0x5133e8[_0x39d477(0x3b7)]);}else{if(_0xef03a1){const _0x5ad97e=_0xef03a1[_0x39d477(0x2b9)]['quizId'];handleStartLiveRace(_0x5ad97e);}else{if(_0x3692e8){const _0x519a99=_0x3692e8[_0x39d477(0x2b9)][_0x39d477(0x506)],_0x446fab=document['getElementById'](_0x39d477(0x97a)+_0x519a99);_0x446fab&&_0x446fab['classList'][_0x39d477(0xde5)](_0x39d477(0xa93));}else{if(_0x168696){const _0x37ccc8=_0x168696[_0x39d477(0x2b9)][_0x39d477(0x506)],_0x4ec559=allQuizzes['find'](_0x2b5bcc=>_0x2b5bcc['id']===_0x37ccc8);_0x4ec559&&handleGenerateParallelPostTest(_0x4ec559);}else{if(_0x3d03f6)handleCompareResults(_0x3d03f6[_0x39d477(0x2b9)][_0x39d477(0x506)],_0x3d03f6[_0x39d477(0x2b9)][_0x39d477(0x212)]);else{if(_0x280238){const _0xd58ac3=_0x280238[_0x39d477(0x2b9)][_0x39d477(0x506)],_0xa96df7=allQuizzes[_0x39d477(0x633)](_0xd99654=>_0xd99654['id']===_0xd58ac3);_0xa96df7&&_0xa96df7[_0x39d477(0xa69)]?(displayLessonPlan(_0xa96df7['lessonPlan'],_0xa96df7),showConfirmation(_0x39d477(0x6e2),()=>handleGenerateLessonPlan(_0xd58ac3)),document[_0x39d477(0xbf1)](_0x39d477(0x366))['querySelector']('h3')[_0x39d477(0x617)]='แผนการสอน',document[_0x39d477(0xbf1)](_0x39d477(0x361))[_0x39d477(0x617)]='สร้างใหม่'):handleGenerateLessonPlan(_0xd58ac3);}else{if(_0x374bce)handleToggleStarQuiz(_0x374bce[_0x39d477(0x2b9)]['quizId']);else{if(_0x3c0571)copyTextToClipboard(_0x3c0571[_0x39d477(0x2b9)][_0x39d477(0x506)],_0x39d477(0x4a7));else{if(_0x5611aa)handleOpenQuizEditor(_0x5611aa[_0x39d477(0x2b9)][_0x39d477(0x506)]);else{if(_0x47542b)handleQuizSettings(_0x47542b[_0x39d477(0x2b9)]['quizId']);else{if(_0x5b1616)handleDuplicateQuiz(_0x5b1616[_0x39d477(0x2b9)][_0x39d477(0x506)]);else{if(_0x2bf344)handleRenameQuiz(_0x2bf344['dataset'][_0x39d477(0x506)],_0x2bf344[_0x39d477(0x2b9)][_0x39d477(0x3b7)]);else{if(_0x33ed9f){const _0x1b6fa0=_0x33ed9f['dataset'][_0x39d477(0x506)],_0x40351e=allQuizzes[_0x39d477(0x633)](_0xebb3ce=>_0xebb3ce['id']===_0x1b6fa0);_0x40351e&&handleGenerateParallelFromBank(_0x40351e);}else{if(_0x367524)handleMoveQuiz(_0x367524[_0x39d477(0x2b9)][_0x39d477(0x506)]);else{if(_0x5d0285)handleManualQuizPairing(_0x5d0285[_0x39d477(0x2b9)][_0x39d477(0x506)]);else{if(_0x143510)handleUnpairQuiz(_0x143510[_0x39d477(0x2b9)]['quizId']);else{if(_0x44c41b){const _0x3929e5=_0x44c41b['dataset']['quizId'],_0x5534f1=allQuizzes[_0x39d477(0x633)](_0x3f3188=>_0x3f3188['id']===_0x3929e5);if(_0x5534f1)startPresentation(_0x5534f1);}else{if(_0x560e1d){const _0x403bda=_0x560e1d['dataset'][_0x39d477(0x506)],_0x6df167=allQuizzes['find'](_0x1f4404=>_0x1f4404['id']===_0x403bda);_0x6df167&&(currentQuizData=_0x6df167,startAdminTest());}else{if(_0x3b967f)actionTargetId=_0x3b967f[_0x39d477(0x2b9)]['quizId'],document[_0x39d477(0xbf1)](_0x39d477(0x4fe))[_0x39d477(0xe06)][_0x39d477(0xb55)]('hidden');else{if(_0x548a74)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x548a74['dataset'][_0x39d477(0x3b7)]+_0x39d477(0xdbe),()=>handleDeleteQuiz(_0x548a74[_0x39d477(0x2b9)][_0x39d477(0x506)]));else{if(_0x307e6d)handleQuizStatus(_0x307e6d[_0x39d477(0x2b9)]['quizId']);else{if(_0xc467dd)handleGenerateEasyVersionQuiz(_0xc467dd[_0x39d477(0x2b9)][_0x39d477(0x506)]);else _0x58df66&&showQuizDetailView(_0x58df66[_0x39d477(0x2b9)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x36ddd3(0xd6d))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>showView(_0x36ddd3(0x65e))),document[_0x36ddd3(0xbf1)]('confirm-team-players-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),confirmAndStartTeamQuiz),document['getElementById'](_0x36ddd3(0xb95))[_0x36ddd3(0x19c)](_0x36ddd3(0xb6e))[_0x36ddd3(0x4ef)]('click',_0x3beb26=>{const _0x2da65=_0x36ddd3,_0x3c02cb=_0x3beb26[_0x2da65(0xa8b)][_0x2da65(0xd59)](_0x2da65(0x9cf));if(!_0x3c02cb||!_0x3c02cb[_0x2da65(0x2b9)][_0x2da65(0x712)])return;const _0x22f2b8=_0x3c02cb['dataset'][_0x2da65(0x712)];if(quizLeaderboardSortBy===_0x22f2b8)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x2da65(0x9cb)?_0x2da65(0x7ee):'asc';else{quizLeaderboardSortBy=_0x22f2b8;const _0x4ca6a7=[_0x2da65(0x8e0)];quizLeaderboardSortOrder=_0x4ca6a7[_0x2da65(0x1ef)](_0x22f2b8)?_0x2da65(0x9cb):_0x2da65(0x7ee);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x2da65(0xb97));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xb32))[_0x36ddd3(0x4ef)]('click',closePresentation),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x6ab))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x36ddd3(0xbf1)]('next-question-btn')[_0x36ddd3(0x4ef)]('click',()=>{const _0x313ae8=_0x36ddd3;currentQuizData[_0x313ae8(0xb0f)]&&currentPresentationSlide<currentQuizData['questions'][_0x313ae8(0x26d)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x36ddd3(0x230),()=>{const _0x5db310=_0x36ddd3;!document[_0x5db310(0xd28)]&&(presentationModal[_0x5db310(0x403)][_0x5db310(0x95f)]='none');}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x997))['addEventListener']('click',handleDeleteAllStudents),studentList[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x2bc879=>{const _0x4df3f9=_0x36ddd3,_0x332e09=_0x2bc879[_0x4df3f9(0xa8b)][_0x4df3f9(0xd59)](_0x4df3f9(0xcd6));if(_0x332e09){const _0x477d57=_0x332e09[_0x4df3f9(0x2b9)][_0x4df3f9(0x8e0)];handleDeleteStudent(_0x477d57);}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x4d5))['addEventListener'](_0x36ddd3(0x67d),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x36ddd3(0xa47),_0x2cee19=>{const _0x471b41=_0x36ddd3,_0x358618=_0x2cee19['target'][_0x471b41(0xd76)][0x0],_0x4b26a2=document['getElementById'](_0x471b41(0x4d5)),_0x5898e7=document[_0x471b41(0xbf1)]('file-topics-list-container'),_0x2b9967=document[_0x471b41(0xbf1)](_0x471b41(0x7ef));_0x358618?(selectedFile=_0x358618,_0x2b9967[_0x471b41(0x51f)]?(_0x4b26a2[_0x471b41(0x635)]=!![],analyzeFileForTopics(_0x358618)):(_0x4b26a2[_0x471b41(0x635)]=![],_0x5898e7[_0x471b41(0xe06)][_0x471b41(0xd5c)](_0x471b41(0xa93)))):(selectedFile=null,_0x4b26a2[_0x471b41(0x635)]=!![],_0x5898e7[_0x471b41(0xe06)][_0x471b41(0xd5c)](_0x471b41(0xa93)));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x7ef))[_0x36ddd3(0x4ef)](_0x36ddd3(0xa47),_0x1c3ca5=>{const _0xed40a1=_0x36ddd3,_0x4019e8=_0x1c3ca5[_0xed40a1(0xa8b)]['checked'],_0x137012=document[_0xed40a1(0xbf1)](_0xed40a1(0x4d5)),_0x2556bc=document[_0xed40a1(0xbf1)](_0xed40a1(0x743));_0x4019e8?(_0x137012['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x2556bc[_0xed40a1(0xe06)][_0xed40a1(0xb55)](_0xed40a1(0xa93)),document[_0xed40a1(0xbf1)](_0xed40a1(0xcde))[_0xed40a1(0xcf3)]=_0xed40a1(0x5bd))):(_0x2556bc['classList'][_0xed40a1(0xd5c)]('hidden'),_0x137012[_0xed40a1(0x635)]=!selectedFile);}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x743))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0xf7bdb4=>{const _0x402dc6=_0x36ddd3,_0x2d1aa0=_0xf7bdb4[_0x402dc6(0xa8b)][_0x402dc6(0xd59)](_0x402dc6(0xa05)),_0x20503a=_0xf7bdb4[_0x402dc6(0xa8b)]['closest'](_0x402dc6(0x803));if(_0x2d1aa0){const _0x100792=unescape(_0x2d1aa0['dataset'][_0x402dc6(0x3b7)]);generateHybridQuizForTopic(_0x100792);}else{if(_0x20503a){const _0x3ee96d=unescape(_0x20503a['dataset']['topic']),_0x34eb30=document[_0x402dc6(0xbf1)](_0x402dc6(0x246))[_0x402dc6(0x49f)];handleGenerateAndShowLesson(_0x3ee96d,_0x34eb30);}}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x8e4))[_0x36ddd3(0x4ef)](_0x36ddd3(0xa47),_0x63d3c3=>{const _0x3458c6=_0x36ddd3,_0x1cdae1=document[_0x3458c6(0xbf1)](_0x3458c6(0xbe3)),_0x31f2a1=document[_0x3458c6(0xbf1)](_0x3458c6(0x8c0)),_0x2c641b=document[_0x3458c6(0xbf1)]('timer-duration-input');_0x63d3c3[_0x3458c6(0xa8b)]['value']===_0x3458c6(0xade)?_0x1cdae1[_0x3458c6(0xe06)][_0x3458c6(0xd5c)](_0x3458c6(0xa93)):(_0x1cdae1[_0x3458c6(0xe06)]['remove'](_0x3458c6(0xa93)),_0x63d3c3[_0x3458c6(0xa8b)]['value']===_0x3458c6(0x245)?(_0x31f2a1[_0x3458c6(0x617)]=_0x3458c6(0x303),_0x2c641b[_0x3458c6(0x49f)]='10'):(_0x31f2a1[_0x3458c6(0x617)]=_0x3458c6(0xa42),_0x2c641b[_0x3458c6(0x49f)]='30'));}),document[_0x36ddd3(0xbf1)]('quiz-type-select')[_0x36ddd3(0x4ef)](_0x36ddd3(0xa47),_0x1ff7af=>{const _0x20d324=_0x36ddd3,_0x15de0f=document[_0x20d324(0xbf1)](_0x20d324(0x494)),_0xcaa57a=_0x1ff7af[_0x20d324(0xa8b)][_0x20d324(0x49f)],_0x36acf6=document[_0x20d324(0x19c)](_0x20d324(0x213)),_0x108fe=document[_0x20d324(0xbf1)](_0x20d324(0x8cf)),_0x20ceaa=document[_0x20d324(0xbf1)]('num-questions');_0xcaa57a===_0x20d324(0x598)?_0x36acf6[_0x20d324(0x617)]=_0x20d324(0x75e):_0x36acf6['textContent']=_0x20d324(0xbc1),_0xcaa57a===_0x20d324(0x37c)||_0xcaa57a===_0x20d324(0xa46)||_0xcaa57a===_0x20d324(0x482)?_0x15de0f['classList'][_0x20d324(0xb55)](_0x20d324(0xa93)):_0x15de0f[_0x20d324(0xe06)]['add'](_0x20d324(0xa93)),_0x108fe['max']=_0x20ceaa[_0x20d324(0x49f)];}),document[_0x36ddd3(0xbf1)]('num-questions')[_0x36ddd3(0x4ef)](_0x36ddd3(0x287),_0xbaff5c=>{const _0x8cce19=_0x36ddd3;document[_0x8cce19(0xbf1)](_0x8cce19(0x8cf))[_0x8cce19(0x69c)]=_0xbaff5c[_0x8cce19(0xa8b)][_0x8cce19(0x49f)];}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x9fd))['addEventListener'](_0x36ddd3(0xa47),_0x1e769b=>{const _0x32080c=_0x36ddd3,_0x18496c=document[_0x32080c(0xbf1)](_0x32080c(0x395)),_0x3bf180=document[_0x32080c(0xbf1)](_0x32080c(0x7c0)),_0x4961fa=document['getElementById']('modal-timer-duration-input');_0x1e769b['target'][_0x32080c(0x49f)]==='none'?_0x18496c[_0x32080c(0xe06)][_0x32080c(0xd5c)]('hidden'):(_0x18496c[_0x32080c(0xe06)][_0x32080c(0xb55)](_0x32080c(0xa93)),_0x1e769b['target'][_0x32080c(0x49f)]===_0x32080c(0x245)?_0x3bf180[_0x32080c(0x617)]=_0x32080c(0x303):_0x3bf180[_0x32080c(0x617)]=_0x32080c(0xa42));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xa7f))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x1453c6=_0x36ddd3;document[_0x1453c6(0xbf1)](_0x1453c6(0x1da))[_0x1453c6(0xe06)][_0x1453c6(0xd5c)]('hidden');}),document[_0x36ddd3(0xbf1)]('cancel-quiz-edits-btn-footer')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x32f302=_0x36ddd3;document[_0x32f302(0xbf1)]('quiz-editor-modal')[_0x32f302(0xe06)]['add'](_0x32f302(0xa93));}),document[_0x36ddd3(0xbf1)]('verify-answers-editor-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleVerifyAnswersInEditor),document[_0x36ddd3(0xbf1)](_0x36ddd3(0xaea))[_0x36ddd3(0x4ef)]('click',()=>{const _0x445eb2=_0x36ddd3;document[_0x445eb2(0xbf1)](_0x445eb2(0x1da))[_0x445eb2(0xe06)][_0x445eb2(0xd5c)](_0x445eb2(0xa93)),showConfirmation(_0x445eb2(0xc87),handleSaveChanges);}),document['getElementById'](_0x36ddd3(0x552))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleAutoFixLatex);const _0x54e937=document['getElementById'](_0x36ddd3(0x98b));_0x54e937&&_0x54e937['addEventListener']('click',_0x42f57c=>{const _0x55259a=_0x36ddd3,_0x3c34c5=_0x42f57c[_0x55259a(0xa8b)][_0x55259a(0xd59)](_0x55259a(0xd8c));if(_0x3c34c5){const _0x961847=_0x3c34c5['closest'](_0x55259a(0xb30)),_0x2cceed=parseInt(_0x961847[_0x55259a(0x2b9)][_0x55259a(0x543)],0xa);handleRegenerateQuestionInEditor(_0x2cceed);return;}const _0x218584=_0x42f57c[_0x55259a(0xa8b)][_0x55259a(0xd59)]('.delete-question-editor-btn');if(_0x218584){const _0x286be8=_0x218584[_0x55259a(0xd59)](_0x55259a(0xb30)),_0x41c056=parseInt(_0x286be8[_0x55259a(0x2b9)][_0x55259a(0x543)],0xa);handleDeleteQuestionInEditor(_0x41c056);return;}const _0x11a3f8=_0x42f57c[_0x55259a(0xa8b)]['closest'](_0x55259a(0x67b));if(_0x11a3f8){handleAddQuestionInEditor();return;}});document['getElementById'](_0x36ddd3(0x177))['addEventListener'](_0x36ddd3(0x67d),openQuizBankModal),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x1ec))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0x5ad3a5=_0x36ddd3;document[_0x5ad3a5(0xbf1)](_0x5ad3a5(0xe15))[_0x5ad3a5(0xe06)][_0x5ad3a5(0xd5c)](_0x5ad3a5(0xa93));}),document['getElementById'](_0x36ddd3(0x7c7))['addEventListener'](_0x36ddd3(0x287),_0x586b6b=>renderQuizBankList(_0x586b6b['target'][_0x36ddd3(0x49f)]));const _0x3e5742=document['getElementById'](_0x36ddd3(0x611));if(_0x3e5742){let _0xf028e4=null;_0x3e5742[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),_0x11bdfe=>{const _0x147d28=_0x36ddd3,_0x4f3b9f=_0x11bdfe[_0x147d28(0xa8b)],_0x1febed=_0x4f3b9f['closest']('.edit-custom-topic-btn'),_0x3e4db3=_0x4f3b9f[_0x147d28(0xd59)](_0x147d28(0x37b)),_0x2d2531=_0x4f3b9f['closest'](_0x147d28(0xd0c)),_0x17b990=_0x4f3b9f['closest'](_0x147d28(0xd7d));if(_0x3e4db3){_0x11bdfe[_0x147d28(0x1a1)]();const _0x3a713b=_0x3e4db3['dataset']['id'],_0x1ad86c=_0x3e4db3[_0x147d28(0xd59)](_0x147d28(0xcc4))[_0x147d28(0x19c)](_0x147d28(0xe23))[_0x147d28(0x617)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x1ad86c+'\x22?',()=>handleDeleteCustomTopic(_0x3a713b));}else{if(_0x1febed){_0x11bdfe['preventDefault']();_0xf028e4&&toggleTopicEditMode(_0xf028e4,![]);const _0x2a17db=_0x1febed['closest'](_0x147d28(0xb43));_0xf028e4=_0x2a17db,toggleTopicEditMode(_0x2a17db,!![]);}else{if(_0x2d2531){_0x11bdfe['preventDefault']();const _0x5dbe45=_0x2d2531[_0x147d28(0x2b9)]['id'],_0x4e8b4a=_0x2d2531[_0x147d28(0xd59)](_0x147d28(0xb43)),_0x56952d=_0x4e8b4a[_0x147d28(0x19c)](_0x147d28(0xabc))[_0x147d28(0x49f)];handleUpdateCustomTopic(_0x5dbe45,_0x56952d),_0xf028e4=null;}else{if(_0x17b990){_0x11bdfe[_0x147d28(0x1a1)]();const _0x35c914=_0x17b990[_0x147d28(0xd59)](_0x147d28(0xb43));toggleTopicEditMode(_0x35c914,![]),_0xf028e4=null;}}}}}),document['getElementById'](_0x36ddd3(0xc46))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0xeaf330=_0x36ddd3;document[_0xeaf330(0xbf1)]('lesson-plan-modal')['classList'][_0xeaf330(0xd5c)](_0xeaf330(0xa93));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x9d9))['addEventListener'](_0x36ddd3(0x67d),()=>{const _0x2e68f3=_0x36ddd3;document[_0x2e68f3(0xbf1)](_0x2e68f3(0xda4))[_0x2e68f3(0xe06)]['add'](_0x2e68f3(0xa93));}),document['getElementById'](_0x36ddd3(0xcc3))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),handleExportLessonPDF);}document[_0x36ddd3(0xbf1)]('close-comparison-modal-btn')[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0xca9ef4=_0x36ddd3;document['getElementById'](_0xca9ef4(0xc8b))[_0xca9ef4(0xe06)][_0xca9ef4(0xd5c)](_0xca9ef4(0xa93));}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x816))[_0x36ddd3(0x4ef)](_0x36ddd3(0x67d),()=>{const _0xa9c8d0=_0x36ddd3;document[_0xa9c8d0(0xbf1)](_0xa9c8d0(0xc8b))[_0xa9c8d0(0xe06)][_0xa9c8d0(0xd5c)](_0xa9c8d0(0xa93));}),setupComparisonModalTabs(),document[_0x36ddd3(0xce8)][_0x36ddd3(0x4ef)]('click',function(_0x260699){const _0x61c165=_0x36ddd3;if(_0x260699[_0x61c165(0xa8b)][_0x61c165(0xe06)][_0x61c165(0xbe2)](_0x61c165(0x989))){const _0x28bc5b=unescape(_0x260699[_0x61c165(0xa8b)][_0x61c165(0x2b9)][_0x61c165(0x3b7)]);startSkillPractice(_0x28bc5b);}}),document[_0x36ddd3(0xbf1)](_0x36ddd3(0x37e))[_0x36ddd3(0x4ef)]('click',_0x513d57=>{const _0x50cd76=_0x36ddd3,_0x49dfef=_0x513d57['target']['closest'](_0x50cd76(0xa99));if(_0x49dfef){const _0x5818d3=_0x49dfef[_0x50cd76(0x2b9)][_0x50cd76(0x8e0)];handleDeleteSubmission(_0x5818d3);}});}async function handleStartGroupMode(_0x37db0b,_0x342513=![]){const _0x1c268d=_0x1cfa42,_0x4f4a4f=allQuizzes[_0x1c268d(0x633)](_0x167919=>_0x167919['id']===_0x37db0b)||allQuizzesGlobal[_0x1c268d(0x633)](_0x36251a=>_0x36251a['id']===_0x37db0b);if(!_0x4f4a4f){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x4f4a4f);const _0x26f725=Math[_0x1c268d(0x74e)](0x3e8+Math[_0x1c268d(0x72a)]()*0x2328)[_0x1c268d(0x701)]();try{const _0x34d53a=await addDoc(collection(db,_0x1c268d(0x7ff)+appId+'/public/data/teamQuizzes'),{'quizId':_0x4f4a4f['id'],'projectId':_0x4f4a4f[_0x1c268d(0x1cf)],'status':_0x1c268d(0xded),'pin':_0x26f725,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x342513});currentTeamQuizId=_0x34d53a['id'],showView(_0x1c268d(0xa9f)),renderAdminTeamQuizDashboard(_0x26f725,_0x4f4a4f[_0x1c268d(0x3b7)],'group'),listenForTeamQuizUpdates();}catch(_0x553d5e){console[_0x1c268d(0x3f5)](_0x1c268d(0xa01),_0x553d5e),showMessage(_0x1c268d(0x62f));}}async function showStudentProgressView(){const _0x2c8a03=_0x1cfa42;studentInitialView[_0x2c8a03(0xe06)]['add'](_0x2c8a03(0xa93)),document[_0x2c8a03(0xbf1)](_0x2c8a03(0x82d))[_0x2c8a03(0xe06)][_0x2c8a03(0xb55)](_0x2c8a03(0xa93));const _0x2aa1ba=document[_0x2c8a03(0xbf1)](_0x2c8a03(0x7c1)),_0x39ca9a=document[_0x2c8a03(0xbf1)](_0x2c8a03(0xcbe)),_0x52aabb=document[_0x2c8a03(0xbf1)](_0x2c8a03(0x3be));_0x52aabb[_0x2c8a03(0xcf3)]=_0x2c8a03(0x50d),_0x39ca9a[_0x2c8a03(0xcf3)]=_0x2c8a03(0xdc0),_0x39ca9a['disabled']=!![],_0x2aa1ba['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x2c8a03(0x26d)]===0x0){const _0x465ee3=collection(db,_0x2c8a03(0x7ff)+appId+'/public/data/projects'),_0x4bfc7d=await getDocs(_0x465ee3);allProjects=_0x4bfc7d['docs'][_0x2c8a03(0x469)](_0x4d7ed6=>({'id':_0x4d7ed6['id'],..._0x4d7ed6[_0x2c8a03(0x934)]()}));}const _0x2e48da=allProjects[_0x2c8a03(0x275)](_0x553e9e=>_0x553e9e['settings']?.[_0x2c8a03(0xb67)]!==![]);_0x2e48da[_0x2c8a03(0x712)]((_0x327219,_0x35d828)=>_0x327219[_0x2c8a03(0x19e)][_0x2c8a03(0x7e5)](_0x35d828[_0x2c8a03(0x19e)],'th')),_0x2aa1ba[_0x2c8a03(0xcf3)]=_0x2c8a03(0x5c5)+_0x2e48da['map'](_0x15d139=>'<option\x20value=\x22'+_0x15d139['id']+'\x22>'+_0x15d139[_0x2c8a03(0x19e)]+_0x2c8a03(0x224))[_0x2c8a03(0x4ce)](''),_0x2aa1ba[_0x2c8a03(0x985)]=()=>{const _0x69e573=_0x2c8a03,_0x560795=_0x39ca9a[_0x69e573(0x49f)],_0x41c5c8=_0x2aa1ba['value'];_0x39ca9a[_0x69e573(0x635)]=!![],_0x39ca9a[_0x69e573(0xcf3)]=_0x69e573(0xdc0),_0x52aabb[_0x69e573(0xcf3)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x41c5c8)return;const _0x19dd5c=allProjects[_0x69e573(0x633)](_0x27d8c2=>_0x27d8c2['id']===_0x41c5c8);if(!_0x19dd5c||!_0x19dd5c['students'])return;const _0x149d98=()=>{const _0x3eef77=_0x69e573;_0x39ca9a[_0x3eef77(0xcf3)]=_0x3eef77(0xdc0)+_0x19dd5c[_0x3eef77(0xb22)]['map'](_0x2cd24c=>_0x3eef77(0x7ce)+_0x2cd24c+'\x22>'+_0x2cd24c+_0x3eef77(0x224))['join'](''),_0x39ca9a[_0x3eef77(0x635)]=![];const _0x1f47a4=Array[_0x3eef77(0xae1)](_0x39ca9a[_0x3eef77(0x9e4)])[_0x3eef77(0x469)](_0x401019=>_0x401019[_0x3eef77(0x49f)]);if(_0x560795&&_0x1f47a4[_0x3eef77(0x1ef)](_0x560795))_0x39ca9a[_0x3eef77(0x49f)]=_0x560795,_0x39ca9a[_0x3eef77(0x53b)](new Event(_0x3eef77(0xa47)));else _0x19dd5c[_0x3eef77(0xb22)][_0x3eef77(0x26d)]===0x1&&(_0x39ca9a[_0x3eef77(0x49f)]=_0x19dd5c[_0x3eef77(0xb22)][0x0],_0x39ca9a[_0x3eef77(0x53b)](new Event('change')));};if(_0x19dd5c['settings']?.[_0x69e573(0xb1e)]){if(sessionStorage[_0x69e573(0x1fd)](_0x69e573(0x515)+_0x41c5c8)===_0x69e573(0x93f)){_0x149d98();return;}const _0x516e95=document['getElementById'](_0x69e573(0x7ba)),_0x14f0af=document[_0x69e573(0xbf1)](_0x69e573(0x1a0)),_0x1aa9ce=document[_0x69e573(0xbf1)](_0x69e573(0x687)),_0x55e601=document['getElementById'](_0x69e573(0xc9c)),_0x5308e1=document[_0x69e573(0xbf1)](_0x69e573(0x5d4));document['getElementById'](_0x69e573(0xb1f))[_0x69e573(0x617)]=_0x69e573(0xaac)+_0x19dd5c[_0x69e573(0x19e)],_0x55e601[_0x69e573(0x49f)]='',_0x5308e1[_0x69e573(0xe06)]['add'](_0x69e573(0xa93)),_0x516e95[_0x69e573(0xe06)][_0x69e573(0xb55)](_0x69e573(0xa93));const _0x297965=()=>{const _0x563057=_0x69e573,_0x494b9f=_0x55e601['value'][_0x563057(0xab6)]();_0x494b9f===_0x19dd5c[_0x563057(0x607)]['passcode']?(sessionStorage['setItem'](_0x563057(0x515)+_0x41c5c8,_0x563057(0x93f)),_0x516e95[_0x563057(0xe06)]['add'](_0x563057(0xa93)),_0x149d98(),_0x14f0af['removeEventListener']('click',_0x297965)):_0x5308e1[_0x563057(0xe06)][_0x563057(0xb55)]('hidden');};_0x14f0af[_0x69e573(0x1a5)]=_0x297965,_0x1aa9ce[_0x69e573(0x1a5)]=()=>{const _0xbdc3f5=_0x69e573;_0x516e95[_0xbdc3f5(0xe06)][_0xbdc3f5(0xd5c)](_0xbdc3f5(0xa93)),_0x2aa1ba['value']='',_0x14f0af[_0xbdc3f5(0x85c)](_0xbdc3f5(0x67d),_0x297965);};}else _0x149d98();},_0x39ca9a[_0x2c8a03(0x985)]=()=>{const _0x3b03ef=_0x2aa1ba['value'],_0x4e0c00=_0x39ca9a['value'];_0x3b03ef&&_0x4e0c00&&renderStudentProgressDashboard(_0x3b03ef,_0x4e0c00);};}async function confirmAndJoinSyncGame(){const _0x5cbe88=_0x1cfa42;lastSeenQuestionIndex=-0x1,sessionStorage[_0x5cbe88(0xa92)](_0x5cbe88(0x898)),sessionStorage[_0x5cbe88(0xa92)](_0x5cbe88(0x5b7)),sessionStorage['removeItem'](_0x5cbe88(0x898)),Object[_0x5cbe88(0x972)](sessionStorage)[_0x5cbe88(0xdac)](_0xdcecdd=>{const _0x520c1f=_0x5cbe88;(_0xdcecdd[_0x520c1f(0x5d1)](_0x520c1f(0xa59))||_0xdcecdd[_0x520c1f(0x5d1)](_0x520c1f(0xd19))||_0xdcecdd[_0x520c1f(0x5d1)](_0x520c1f(0x876)))&&sessionStorage['removeItem'](_0xdcecdd);});const _0x4e4759=Array['from'](document['querySelectorAll'](_0x5cbe88(0x345)))[_0x5cbe88(0x469)](_0x26eb87=>_0x26eb87[_0x5cbe88(0x49f)]);if(_0x4e4759[_0x5cbe88(0x26d)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x4e4759,localPlayerTurnIndex=0x0;const _0xe5c8c6=doc(db,_0x5cbe88(0x7ff)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x5abe92=await getDoc(_0xe5c8c6);if(!_0x5abe92[_0x5cbe88(0x2b1)]())throw new Error(_0x5cbe88(0xac4));const _0x494ac8=_0x5abe92[_0x5cbe88(0x934)](),_0x47d88f=_0x494ac8[_0x5cbe88(0x4a9)]||_0x5cbe88(0x6d0),_0x1a8fdd={};_0x4e4759['forEach'](_0x4ff13e=>{const _0x35e3fb=_0x5cbe88,_0x1ea589=_0x494ac8[_0x35e3fb(0x18d)][_0x4ff13e];if(_0x1ea589){console[_0x35e3fb(0xc15)](_0x35e3fb(0xb74)+_0x4ff13e+_0x35e3fb(0x49e)),_0x1a8fdd['players.'+_0x4ff13e+_0x35e3fb(0xa98)]='active';const _0x79ea5c=_0x1ea589[_0x35e3fb(0xad5)]?.[_0x1ea589[_0x35e3fb(0xad5)][_0x35e3fb(0x26d)]-0x1],_0x4fe4c5=!!(_0x79ea5c&&_0x79ea5c[_0x35e3fb(0xb1c)]===_0x494ac8['currentQuestionIndex']);_0x1a8fdd[_0x35e3fb(0x32c)+_0x4ff13e+'.answered']=_0x4fe4c5;}else{console[_0x35e3fb(0xc15)](_0x35e3fb(0x658)+_0x4ff13e+_0x35e3fb(0x75a));const _0x4e16e8={'name':_0x4ff13e,'score':0x0,'totalPoints':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0},'answered':![],'status':_0x35e3fb(0x94c),'answers':[]};_0x47d88f===_0x35e3fb(0x759)&&(typeof STARTING_LIVES!==_0x35e3fb(0x776)?_0x4e16e8['lives']=STARTING_LIVES:(console[_0x35e3fb(0x3f5)](_0x35e3fb(0x191)),_0x4e16e8['lives']=0x3)),_0x1a8fdd[_0x35e3fb(0x32c)+_0x4ff13e]=_0x4e16e8;}}),await updateDoc(_0xe5c8c6,_0x1a8fdd),showView(_0x5cbe88(0xa9f)),document[_0x5cbe88(0xbf1)](_0x5cbe88(0x1c7))['classList'][_0x5cbe88(0xd5c)]('hidden'),currentStudentName=_0x4e4759[0x0],listenForSyncGameUpdates();const _0x4f4a6a={'gameId':currentLiveGameId,'mode':_0x5cbe88(0x7f0),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x5cbe88(0x958)]('activeGameSession',JSON['stringify'](_0x4f4a6a)),currentMode!==_0x5cbe88(0x624)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x5cbe88(0x230),handleFullscreenChange),document[_0x5cbe88(0x4ef)](_0x5cbe88(0xe05),handleVisibilityChange),enterFullscreen(),window[_0x5cbe88(0x4ef)](_0x5cbe88(0xcfe),resetDimTimer),window[_0x5cbe88(0x4ef)](_0x5cbe88(0x4bc),resetDimTimer),window[_0x5cbe88(0x4ef)](_0x5cbe88(0x367),resetDimTimer),window[_0x5cbe88(0x4ef)](_0x5cbe88(0x17e),resetDimTimer),resetDimTimer());}catch(_0xdde621){console['error'](_0x5cbe88(0xc1d),_0xdde621),showMessage(_0x5cbe88(0xc20)+_0xdde621['message']);}}async function resumeActiveGameSession(){const _0x27de65=_0x1cfa42,_0x28f2f4=sessionStorage[_0x27de65(0x1fd)](_0x27de65(0xb46));if(!_0x28f2f4)return;const _0x4dbdcd=JSON['parse'](_0x28f2f4),{gameId:_0x10bfda,mode:_0x21f7d0,role:_0x1276ce,players:_0x2cd686,turnIndex:_0x3efb9e}=_0x4dbdcd;try{if(_0x1276ce==='admin'&&_0x21f7d0===_0x27de65(0x7f0)){const _0xd57ff9=doc(db,_0x27de65(0x7ff)+appId+_0x27de65(0x73f),_0x10bfda),_0x3de6fc=await getDoc(_0xd57ff9);if(!_0x3de6fc['exists']()||_0x3de6fc[_0x27de65(0x934)]()['status']===_0x27de65(0x3f8)||_0x3de6fc[_0x27de65(0x934)]()[_0x27de65(0x657)]===_0x27de65(0x63d)){sessionStorage[_0x27de65(0xa92)]('activeGameSession');return;}console[_0x27de65(0xc15)](_0x27de65(0xdbb)+_0x10bfda+')'),currentMode=_0x27de65(0xc51),currentLiveGameId=_0x10bfda,currentQuizData=_0x3de6fc[_0x27de65(0x934)]()['shuffledQuiz'],showView(_0x27de65(0xa9f)),listenForSyncGameUpdates();}else{if(_0x21f7d0===_0x27de65(0x7f0)&&_0x2cd686){const _0x46017a=doc(db,'artifacts/'+appId+_0x27de65(0x73f),_0x10bfda),_0x258c35=await getDoc(_0x46017a);if(!_0x258c35[_0x27de65(0x2b1)]()||_0x258c35[_0x27de65(0x934)]()[_0x27de65(0x657)]===_0x27de65(0x3f8)||_0x258c35['data']()[_0x27de65(0x657)]==='finished'){sessionStorage[_0x27de65(0xa92)](_0x27de65(0xb46));return;}console[_0x27de65(0xc15)](_0x27de65(0x53e)+_0x10bfda+')'),currentLiveGameId=_0x10bfda,currentStudentName=_0x2cd686[0x0],localTeamPlayers=_0x2cd686,showView(_0x27de65(0xa9f)),listenForSyncGameUpdates();}else{if((_0x21f7d0===_0x27de65(0x475)||_0x21f7d0===_0x27de65(0x501))&&_0x2cd686){const _0x21d8d8=doc(db,_0x27de65(0x7ff)+appId+'/public/data/teamQuizzes',_0x10bfda),_0x5b62ab=await getDoc(_0x21d8d8);if(!_0x5b62ab[_0x27de65(0x2b1)]()||_0x5b62ab['data']()[_0x27de65(0x657)]===_0x27de65(0x3f8)||_0x5b62ab[_0x27de65(0x934)]()['status']==='finished'){sessionStorage[_0x27de65(0xa92)]('activeGameSession');return;}console[_0x27de65(0xc15)](_0x27de65(0x806)+_0x21f7d0+_0x27de65(0xdaf)+_0x10bfda+')'),currentTeamQuizId=_0x10bfda,localTeamPlayers=_0x2cd686,localQuestionIndex=_0x4dbdcd[_0x27de65(0xb1c)]||0x0,localPlayerIndex=_0x4dbdcd[_0x27de65(0x215)]||0x0;const _0x1f9140=_0x5b62ab[_0x27de65(0x934)](),_0x1fee4a=doc(db,_0x27de65(0x7ff)+appId+'/public/data/quizzes',_0x1f9140['quizId']),_0x44323f=await getDoc(_0x1fee4a);_0x44323f[_0x27de65(0x2b1)]()&&(currentQuizData=getShuffledQuiz({'id':_0x44323f['id'],..._0x44323f[_0x27de65(0x934)]()}),showView(_0x27de65(0x65e)),studentInitialView['classList'][_0x27de65(0xd5c)](_0x27de65(0xa93)),_0x21f7d0===_0x27de65(0x501)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x3b2ac1){console[_0x27de65(0x3f5)](_0x27de65(0x6e1),_0x3b2ac1),sessionStorage['removeItem'](_0x27de65(0xb46));}}async function handleUsePowerup(_0x5ed554,_0x4853f0,_0x2b40e0,_0x89d307,_0x2e847d){const _0x2e8cc5=_0x1cfa42,_0x37bb6b=_0x89d307['currentQuestionIndex'],_0xa12442=_0x2e8cc5(0xd19)+_0x37bb6b+'_p'+_0x5ed554,_0x481b89=sessionStorage['getItem'](_0xa12442);if(_0x481b89&&_0x4853f0!=='buyTime'){showMessage(_0x2e8cc5(0xaa8));const _0x6baf84=document['getElementById'](_0x2e8cc5(0xbf3)+_0x4853f0);if(_0x6baf84)_0x6baf84[_0x2e8cc5(0x635)]=![];return;}const _0x25c09=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);try{await runTransaction(db,async _0x257189=>{const _0x15349e=_0x2e8cc5,_0x5d3dbf=await _0x257189[_0x15349e(0x52e)](_0x25c09);if(!_0x5d3dbf[_0x15349e(0x2b1)]())throw _0x15349e(0x1fb);const _0x195bc0=_0x5d3dbf[_0x15349e(0x934)](),_0x433262=_0x195bc0[_0x15349e(0x18d)][_0x5ed554]?.[_0x15349e(0xc23)]||{},_0x191b4b=_0x433262[_0x4853f0]||0x0;if(_0x191b4b<=0x0)throw _0x15349e(0x34d);const _0x3d18d6={};_0x3d18d6[_0x15349e(0x32c)+_0x5ed554+_0x15349e(0xc3e)+_0x4853f0]=increment(-0x1);if(_0x4853f0===_0x15349e(0x85d)){const _0x4ad481=(_0x89d307[_0x15349e(0xc91)]||0xf0)*0x3e8,_0x460815=_0x4ad481*0.25;_0x3d18d6[_0x15349e(0x32c)+_0x5ed554+_0x15349e(0xe01)]=increment(_0x460815);}_0x257189['update'](_0x25c09,_0x3d18d6);});_0x4853f0===_0x2e8cc5(0xa0a)&&sessionStorage[_0x2e8cc5(0x958)]('pollUsedThisTurn',_0x2e8cc5(0x93f));if(_0x4853f0!=='buyTime'){const _0xcfaeb2=_0x89d307[_0x2e8cc5(0x2fc)],_0x1a6156='powerupUsed_q'+_0xcfaeb2+'_p'+_0x5ed554;sessionStorage[_0x2e8cc5(0x958)](_0x1a6156,_0x4853f0);}applyPowerupEffect(_0x5ed554,_0x4853f0,_0x2b40e0,_0x89d307,_0x2e847d);}catch(_0x900949){console['error']('Powerup\x20use\x20failed:',_0x900949),showMessage(typeof _0x900949===_0x2e8cc5(0x60a)?_0x900949:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0x19d07f=document[_0x2e8cc5(0xbf1)](_0x2e8cc5(0xbf3)+_0x4853f0);if(_0x19d07f)_0x19d07f[_0x2e8cc5(0x635)]=![];}}function applyPowerupEffect(_0x4afa94,_0x5a5a4e,_0x2797bc,_0x28dc3c,_0x5f2f3c){const _0x39c018=_0x1cfa42,_0x50b24b=_0x2797bc;switch(_0x5a5a4e){case'poll':const _0x14e55e=Object[_0x39c018(0xdc2)](_0x28dc3c['players']||{}),_0x37bc27=_0x14e55e[_0x39c018(0x275)](_0x4f100f=>{const _0x2ab8eb=_0x39c018,_0x2169e4=(_0x4f100f[_0x2ab8eb(0xad5)]||[])[_0x2ab8eb(0x633)](_0x412408=>_0x412408[_0x2ab8eb(0xb1c)]===_0x28dc3c['currentQuestionIndex']);return _0x2169e4!==undefined;}),_0x4fc076=_0x37bc27['length'];if(_0x4fc076===0x0){showMessage(_0x39c018(0xc9f));return;}const _0x1c4f32={};(_0x2797bc[_0x39c018(0x9e4)]||[])[_0x39c018(0xdac)]((_0x30f359,_0x205585)=>{_0x1c4f32[_0x205585]=0x0;}),_0x37bc27[_0x39c018(0xdac)](_0x566915=>{const _0x17a51b=_0x39c018,_0x3835f9=(_0x566915['answers']||[])['find'](_0x2b970f=>_0x2b970f[_0x17a51b(0xb1c)]===_0x28dc3c[_0x17a51b(0x2fc)]);_0x3835f9&&_0x1c4f32[_0x3835f9[_0x17a51b(0x7d8)]]!==undefined&&_0x1c4f32[_0x3835f9['answer']]++;});let _0x17d9c0=_0x39c018(0x3af);Object[_0x39c018(0xa76)](_0x1c4f32)['forEach'](([_0x466b15,_0x2a3f30])=>{const _0x56efd6=_0x39c018,_0x3d836f=(_0x2a3f30/_0x4fc076*0x64)[_0x56efd6(0xac2)](0x0),_0xc2b409=_0x56efd6(0x82c)+(parseInt(_0x466b15)+0x1);_0x17d9c0+=_0xc2b409+':\x20'+_0x2a3f30+_0x56efd6(0x769)+_0x3d836f+'%)\x0a';}),showMessage(_0x17d9c0);break;case _0x39c018(0x85d):const _0x51a581=(_0x28dc3c['timerDuration']||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20คุณได้รับเวลาเพิ่ม\x20'+_0x51a581+_0x39c018(0xb0d));break;case _0x39c018(0xd9b):case _0x39c018(0xba4):case _0x39c018(0xd9b):case _0x39c018(0xba4):const _0x27740e=document[_0x39c018(0x218)](_0x39c018(0xdf1)),_0x4ce435=_0x28dc3c[_0x39c018(0x2fc)];if(_0x27740e[_0x39c018(0x26d)]===0x0){showMessage(_0x39c018(0x8a0));return;}const _0x27aeed=_0x39c018(0x876)+_0x4ce435+'_p'+_0x4afa94,_0x643a75=JSON[_0x39c018(0xba3)](sessionStorage[_0x39c018(0x1fd)](_0x27aeed)||'[]');let _0x87f4b9;if(_0x50b24b[_0x39c018(0xb83)]===_0x39c018(0x1cb)){const _0x4c777b=_0x50b24b[_0x39c018(0x59b)]===!![]||String(_0x50b24b[_0x39c018(0x59b)])[_0x39c018(0xd64)]()===_0x39c018(0x93f);_0x87f4b9=_0x4c777b?0x0:0x1;}else _0x87f4b9=_0x50b24b['correctAnswerIndex'];const _0x1e6e9e=Array[_0x39c018(0xae1)](_0x27740e)['filter'](_0x6b5221=>{const _0x13e0e7=_0x39c018,_0x5c2555=_0x6b5221[_0x13e0e7(0x2b9)][_0x13e0e7(0x49f)],_0x125aa1=parseInt(_0x5c2555)===_0x87f4b9,_0x8f0f85=_0x643a75['includes'](_0x5c2555);return!_0x125aa1&&!_0x8f0f85;});if(_0x1e6e9e[_0x39c018(0x26d)]===0x0){showMessage(_0x39c018(0x800));return;}shuffleArray(_0x1e6e9e);let _0x4cb547=[..._0x643a75];if(_0x5a5a4e===_0x39c018(0xd9b)){const _0x2cd79d=_0x1e6e9e[0x0];if(_0x2cd79d){const _0x1609ca=_0x2cd79d[_0x39c018(0x2b9)][_0x39c018(0x49f)];_0x2cd79d['classList'][_0x39c018(0xd5c)]('hidden'),_0x4cb547[_0x39c018(0x229)](_0x1609ca),showMessage('⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!');}}else{let _0x68005b=0x0;const _0x41973d=_0x1e6e9e[0x0],_0x321593=_0x1e6e9e[0x1];if(_0x41973d){const _0x1eb64d=_0x41973d[_0x39c018(0x2b9)][_0x39c018(0x49f)];_0x41973d[_0x39c018(0xe06)]['add']('hidden'),_0x4cb547['push'](_0x1eb64d),_0x68005b++;}if(_0x321593){const _0x32118e=_0x321593[_0x39c018(0x2b9)]['value'];_0x321593[_0x39c018(0xe06)][_0x39c018(0xd5c)]('hidden'),_0x4cb547[_0x39c018(0x229)](_0x32118e),_0x68005b++;}showMessage(_0x39c018(0xdb1)+_0x68005b+'\x20ข้อแล้ว!');}sessionStorage['setItem'](_0x27aeed,JSON[_0x39c018(0x2a1)](_0x4cb547));break;case'forceConfident':if(!_0x5f2f3c){console['error'](_0x39c018(0x1f6)),showMessage(_0x39c018(0x59d));break;}const _0x1d9f72=_0x5f2f3c[_0x39c018(0x372)],_0x472e05=Object[_0x39c018(0xdc2)](_0x28dc3c[_0x39c018(0x18d)])[_0x39c018(0x275)](_0x14fc3d=>_0x14fc3d[_0x39c018(0x372)]!==_0x1d9f72&&_0x14fc3d['status']===_0x39c018(0x94c)&&_0x14fc3d[_0x39c018(0x39c)]===![]);if(_0x472e05[_0x39c018(0x26d)]===0x0){showMessage(_0x39c018(0xd75)),sessionStorage['removeItem'](_0x39c018(0x3a0)),handleRefundPowerup(_0x4afa94,'forceConfident');break;}const _0x210459=_0x28dc3c[_0x39c018(0x4a9)]==='anonymous',_0x130aa8=_0x472e05[_0x39c018(0x469)]((_0x2760eb,_0xa92cd1)=>{const _0x4c9104=_0x39c018,_0x5bc828=_0x2760eb[_0x4c9104(0x372)],_0x22a203=_0x28dc3c[_0x4c9104(0xadd)][_0x5bc828]||_0x4c9104(0x200);return _0x210459?_0xa92cd1+0x1+':\x20'+_0x22a203:_0xa92cd1+0x1+':\x20'+_0x5bc828;})['join']('\x0a'),_0x1ad604=prompt(_0x39c018(0x2b4)+_0x130aa8),_0x593052=parseInt(_0x1ad604)-0x1;if(_0x593052>=0x0&&_0x593052<_0x472e05[_0x39c018(0x26d)]){const _0x18cbda=_0x472e05[_0x593052];handleForceConfident(_0x18cbda[_0x39c018(0x372)]);}else showMessage('ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)'),sessionStorage['removeItem']('powerupUsedThisTurn'),handleRefundPowerup(_0x4afa94,_0x39c018(0x971));break;case _0x39c018(0x206):showMessage(_0x39c018(0x2fb));break;case _0x39c018(0xb36):showMessage('💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x)');break;case _0x39c018(0x521):if(!_0x5f2f3c){console['error'](_0x39c018(0xd23)),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)');break;}const _0x1cad5f=_0x5f2f3c[_0x39c018(0x372)],_0x5e66e0=Object['values'](_0x28dc3c[_0x39c018(0x18d)])[_0x39c018(0x275)](_0x103997=>_0x103997[_0x39c018(0x372)]!==_0x1cad5f&&_0x103997[_0x39c018(0x657)]===_0x39c018(0x94c)&&_0x103997['answered']===![]);if(_0x5e66e0['length']===0x0){showMessage(_0x39c018(0xd75)),sessionStorage[_0x39c018(0xa92)](_0x39c018(0x3a0)),handleRefundPowerup(_0x4afa94,'jinx');break;}const _0x4b2d49=_0x28dc3c[_0x39c018(0x4a9)]==='anonymous',_0x440a97=_0x5e66e0[_0x39c018(0x469)]((_0x795a6a,_0x285bb0)=>{const _0x158f7c=_0x39c018,_0x3d6039=_0x795a6a[_0x158f7c(0x372)],_0x9a694f=_0x28dc3c['playerNicknames'][_0x3d6039]||_0x158f7c(0x200);return _0x4b2d49?_0x285bb0+0x1+':\x20'+_0x9a694f:_0x285bb0+0x1+':\x20'+_0x3d6039;})[_0x39c018(0x4ce)]('\x0a'),_0x25bd12=prompt(_0x39c018(0x2f1)+_0x440a97),_0x432f1a=parseInt(_0x25bd12)-0x1;if(_0x432f1a>=0x0&&_0x432f1a<_0x5e66e0[_0x39c018(0x26d)]){const _0x163510=_0x5e66e0[_0x432f1a];handleApplyJinx(_0x163510['name']);}else showMessage(_0x39c018(0x9bc)),sessionStorage['removeItem'](_0x39c018(0x3a0)),handleRefundPowerup(_0x4afa94,_0x39c018(0x521));break;case _0x39c018(0x556):showMessage(_0x39c018(0x920));break;default:showMessage('ใช้ไอเทม\x20'+_0x5a5a4e+'\x20แล้ว!');}}async function handleForceConfident(_0x473983){const _0x2ffaba=_0x1cfa42;if(!currentLiveGameId||!_0x473983)return;const _0x3a391e=doc(db,_0x2ffaba(0x7ff)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0xc59e9e={};_0xc59e9e[_0x2ffaba(0x32c)+_0x473983+'.isForcedConfident']=!![],await updateDoc(_0x3a391e,_0xc59e9e),showMessage(_0x2ffaba(0x57f)+_0x473983+_0x2ffaba(0x975));}catch(_0x2cf192){console[_0x2ffaba(0x3f5)](_0x2ffaba(0x9dc),_0x2cf192),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x27ef4f,_0x55cb77){const _0x58129a=_0x1cfa42,_0x4fa47a=doc(db,_0x58129a(0x7ff)+appId+_0x58129a(0x73f),currentLiveGameId);try{const _0x2393b9={};_0x2393b9[_0x58129a(0x32c)+_0x27ef4f+_0x58129a(0xc3e)+_0x55cb77]=increment(0x1),await updateDoc(_0x4fa47a,_0x2393b9),console[_0x58129a(0xc15)]('Refunded\x20'+_0x55cb77+_0x58129a(0x4aa)+_0x27ef4f);}catch(_0x1cfb4f){console[_0x58129a(0x3f5)](_0x58129a(0x265),_0x1cfb4f);}}async function handleApplyJinx(_0xe420b0){const _0x11a77f=_0x1cfa42;if(!currentLiveGameId||!_0xe420b0)return;const _0x16ffc2=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x541876={};_0x541876[_0x11a77f(0x32c)+_0xe420b0+_0x11a77f(0x34f)]=!![],await updateDoc(_0x16ffc2,_0x541876),showMessage('ใช้\x20\x22คำสาป\x22\x20กับ\x20'+_0xe420b0+_0x11a77f(0x975));}catch(_0x52f337){console[_0x11a77f(0x3f5)](_0x11a77f(0x523),_0x52f337),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0x1aea99=_0x1cfa42,_0x4245af=document[_0x1aea99(0xbf1)](_0x1aea99(0x4d5)),_0x1b2516=document['getElementById'](_0x1aea99(0x743)),_0x19e878=document['getElementById']('separate-by-content-from-file-checkbox');selectedFile?_0x19e878[_0x1aea99(0x51f)]?(_0x4245af[_0x1aea99(0x635)]=!![],analyzeFileForTopics(selectedFile)):(_0x4245af[_0x1aea99(0x635)]=![],_0x1b2516[_0x1aea99(0xe06)]['add']('hidden')):(_0x4245af[_0x1aea99(0x635)]=!![],_0x1b2516[_0x1aea99(0xe06)][_0x1aea99(0xd5c)](_0x1aea99(0xa93)));}async function handleKickPlayerSync(_0x510e9e){const _0x120d99=_0x1cfa42;if(!currentLiveGameId||!_0x510e9e)return;const _0x14d5f9=doc(db,'artifacts/'+appId+_0x120d99(0x73f),currentLiveGameId),_0x53f028={};_0x53f028['players.'+_0x510e9e+_0x120d99(0xa98)]=_0x120d99(0x648);try{await updateDoc(_0x14d5f9,_0x53f028);}catch(_0xa4f25a){console['error'](_0x120d99(0x262)+_0x510e9e+_0x120d99(0xb7b),_0xa4f25a),showMessage(_0x120d99(0x554));}}async function renderStudentProgressDashboard(_0x3dce16,_0x1a5761){const _0x557b1b=_0x1cfa42,_0x1a2a15=document[_0x557b1b(0xbf1)](_0x557b1b(0x3be));_0x1a2a15[_0x557b1b(0xcf3)]=_0x557b1b(0xc5a);try{const _0x513d6d=collection(db,'artifacts/'+appId+_0x557b1b(0x254)),_0x275511=query(_0x513d6d,where('projectId','==',_0x3dce16)),_0x40c566=await getDocs(_0x275511),_0x5b3b02=_0x40c566[_0x557b1b(0xd24)][_0x557b1b(0x469)](_0x13e7b3=>({'id':_0x13e7b3['id'],..._0x13e7b3[_0x557b1b(0x934)]()})),_0x1255d9=_0x5b3b02[_0x557b1b(0x469)](_0x2b810e=>getDoc(doc(db,_0x557b1b(0x7ff)+appId+'/public/data/quizzes/'+_0x2b810e['id']+_0x557b1b(0xe18),_0x1a5761))),_0x12ca37=await Promise[_0x557b1b(0x34e)](_0x1255d9),_0x9f9b56=_0x12ca37[_0x557b1b(0x275)](_0x114dbd=>_0x114dbd[_0x557b1b(0x2b1)]())[_0x557b1b(0x469)](_0x22bd65=>({'quizId':_0x22bd65[_0x557b1b(0xa8a)][_0x557b1b(0xd2b)]['parent']['id'],..._0x22bd65['data']()}));if(_0x9f9b56['length']===0x0){_0x1a2a15[_0x557b1b(0xcf3)]=_0x557b1b(0xc21);return;}let _0x150f48=_0x557b1b(0x7ed);_0x9f9b56[_0x557b1b(0xdac)](_0x32a2d0=>{const _0x113578=_0x557b1b,_0x14ad12=_0x5b3b02[_0x113578(0x633)](_0x5f1a38=>_0x5f1a38['id']===_0x32a2d0[_0x113578(0x506)]),_0x4319ed=_0x14ad12[_0x113578(0x607)]?.['resultsDisplay']||_0x113578(0x2ff),_0x10e0cd=_0x14ad12['settings']?.[_0x113578(0x490)]??0x0,_0x500540=_0x32a2d0[_0x113578(0xe02)]>=_0x10e0cd;let _0x2b139a='',_0x344ba=_0x113578(0xc39);switch(_0x4319ed){case _0x113578(0x2ff):case _0x113578(0x921):_0x344ba=_0x500540?_0x113578(0x6e3):_0x113578(0x94e),_0x2b139a=_0x113578(0x1d3)+(_0x500540?_0x113578(0x363):_0x113578(0xb72))+'\x22>'+_0x32a2d0[_0x113578(0xe02)]+_0x113578(0x7b1)+_0x32a2d0[_0x113578(0x4c7)]+_0x113578(0xc01)+(_0x500540?_0x113578(0xb75):_0x113578(0x513))+'\x22>'+(_0x500540?'ผ่าน':_0x113578(0xd61))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x113578(0x448):_0x344ba=_0x500540?_0x113578(0x6e3):'bg-red-50',_0x2b139a=_0x113578(0xb7a)+(_0x500540?_0x113578(0xb75):_0x113578(0x513))+'\x22>'+(_0x500540?_0x113578(0x1fa):_0x113578(0xd61))+_0x113578(0xc0f);break;case'manual_release':_0x344ba=_0x113578(0x4b3),_0x2b139a=_0x113578(0xa35);break;}_0x150f48+=_0x113578(0x705)+_0x344ba+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x14ad12['topic']+_0x113578(0x5eb)+_0x32a2d0[_0x113578(0x8f7)][_0x113578(0x26d)]+_0x113578(0x81d)+new Date(_0x32a2d0[_0x113578(0x92c)])['toLocaleDateString'](_0x113578(0x1d9))+_0x113578(0xb42)+_0x2b139a+_0x113578(0x208);}),_0x150f48+=_0x557b1b(0xcdd),_0x1a2a15[_0x557b1b(0xcf3)]=_0x150f48;}catch(_0x2de70c){console[_0x557b1b(0x3f5)](_0x557b1b(0x2b2),_0x2de70c),_0x1a2a15['innerHTML']=_0x557b1b(0xb09);}}function renderQuizBankListForMultiSelect(_0x384ac5=''){const _0x4f76bc=_0x1cfa42,_0x51a6bf=document[_0x4f76bc(0xbf1)](_0x4f76bc(0x843)),_0x46bc9f=_0x384ac5[_0x4f76bc(0xd64)]()[_0x4f76bc(0xab6)](),_0x9cb360=allQuizzesGlobal[_0x4f76bc(0x469)](_0x228444=>({..._0x228444,'projectName':allProjects[_0x4f76bc(0x633)](_0x3afff3=>_0x3afff3['id']===_0x228444[_0x4f76bc(0x1cf)])?.[_0x4f76bc(0x19e)]||_0x4f76bc(0xd84)}))[_0x4f76bc(0x275)](_0x1b3477=>(_0x1b3477[_0x4f76bc(0x3b7)]||'')[_0x4f76bc(0xd64)]()['includes'](_0x46bc9f)||(_0x1b3477[_0x4f76bc(0x19e)]||'')[_0x4f76bc(0xd64)]()[_0x4f76bc(0x1ef)](_0x46bc9f)||_0x1b3477['id']['toString']()[_0x4f76bc(0x1ef)](_0x46bc9f));_0x51a6bf[_0x4f76bc(0xcf3)]=_0x9cb360[_0x4f76bc(0x26d)]?_0x9cb360[_0x4f76bc(0x469)](_0x3e7e7c=>_0x4f76bc(0x727)+_0x3e7e7c['id']+_0x4f76bc(0x320)+(_0x3e7e7c[_0x4f76bc(0x3b7)]||_0x4f76bc(0x1a9))+_0x4f76bc(0x5e6)+_0x3e7e7c[_0x4f76bc(0x19e)]+'\x20|\x20ID:\x20'+_0x3e7e7c['id']+_0x4f76bc(0x771))['join'](''):_0x4f76bc(0xc86),_0x51a6bf['onchange']=()=>{const _0x2bc64d=_0x4f76bc,_0x3399b1=document[_0x2bc64d(0x19c)]('.quiz-bank-checkbox:checked');document[_0x2bc64d(0xbf1)](_0x2bc64d(0xb99))['disabled']=!_0x3399b1;};}function setupStudentProgressListeners(){const _0x4db395=_0x1cfa42;document[_0x4db395(0xbf1)](_0x4db395(0x859))[_0x4db395(0x4ef)](_0x4db395(0x67d),showStudentProgressView),document[_0x4db395(0xbf1)](_0x4db395(0x8e9))[_0x4db395(0x4ef)](_0x4db395(0x67d),()=>{const _0x1d63c3=_0x4db395;document[_0x1d63c3(0xbf1)](_0x1d63c3(0x82d))[_0x1d63c3(0xe06)][_0x1d63c3(0xd5c)](_0x1d63c3(0xa93)),document[_0x1d63c3(0xbf1)](_0x1d63c3(0x3bd))[_0x1d63c3(0xe06)][_0x1d63c3(0xb55)]('hidden');});}async function startSkillPractice(_0xf38450){const _0x51c530=_0x1cfa42;studentResultArea[_0x51c530(0xe06)]['add'](_0x51c530(0xa93)),studentQuizArea[_0x51c530(0xcf3)]=_0x51c530(0xc7a),studentQuizArea['classList'][_0x51c530(0xb55)](_0x51c530(0xa93));try{const _0x495391=await getStandardizedTopic(_0xf38450);console[_0x51c530(0xc15)]('คำถามดิบ:\x20\x22'+_0xf38450+_0x51c530(0xe21)+_0x495391+'\x22'),studentQuizArea[_0x51c530(0x19c)]('p')[_0x51c530(0x617)]=_0x51c530(0x723)+_0x495391+_0x51c530(0x2ac);const _0x139a16=collection(db,_0x51c530(0x7ff)+appId+_0x51c530(0x954)),_0x35ad55=query(_0x139a16,where('topic','==',_0x495391)),_0xce2caf=await getDocs(_0x35ad55);if(_0xce2caf[_0x51c530(0xd24)][_0x51c530(0x26d)]>=0x3){console[_0x51c530(0xc15)]('พบข้อสอบ\x20'+_0xce2caf[_0x51c530(0xd24)]['length']+_0x51c530(0x3d4)+_0x495391+_0x51c530(0x807));let _0x35b107=_0xce2caf[_0x51c530(0xd24)][_0x51c530(0x469)](_0x1b6a02=>_0x1b6a02['data']());shuffleArray(_0x35b107);const _0x322082={'topic':_0x495391,'questions':_0x35b107[_0x51c530(0xa65)](0x0,0x3)};displaySkillPracticeDrill(_0x322082);}else{console[_0x51c530(0xc15)](_0x51c530(0xb44)+_0x495391+_0x51c530(0x9be));const _0x122f8d=await generatePracticeQuestions(_0x495391);await saveDrillToPracticeBank(_0x122f8d,_0x495391),displaySkillPracticeDrill(_0x122f8d);}}catch(_0x56329d){console[_0x51c530(0x3f5)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x56329d),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x51c530(0xe06)][_0x51c530(0xd5c)]('hidden'),studentResultArea['classList'][_0x51c530(0xb55)]('hidden');}}async function saveDrillToPracticeBank(_0x495f58,_0x18046f){const _0x182702=_0x1cfa42,_0xa1f8d6=collection(db,'artifacts/'+appId+_0x182702(0x954)),_0x10a55a=writeBatch(db);_0x495f58[_0x182702(0xb0f)][_0x182702(0xdac)](_0x5cb705=>{const _0x5c952b=_0x182702,_0x1e5337=doc(_0xa1f8d6);_0x10a55a['set'](_0x1e5337,{'topic':_0x18046f,'questionText':_0x5cb705['questionText'],'options':_0x5cb705['options'],'correctAnswerIndex':_0x5cb705['correctAnswerIndex'],'explanation':_0x5cb705[_0x5c952b(0x582)],'createdAt':serverTimestamp()});});try{await _0x10a55a[_0x182702(0x735)](),console[_0x182702(0xc15)](_0x182702(0x2ee)+_0x495f58[_0x182702(0xb0f)][_0x182702(0x26d)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x3fa124){console[_0x182702(0x3f5)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x3fa124);}}async function getStandardizedTopic(_0x2495bb){const _0x988a4b=_0x1cfa42,_0x192b86=_0x988a4b(0x748)+_0x2495bb+_0x988a4b(0xcda),_0x125e71={'type':_0x988a4b(0xc68),'properties':{'standardTopic':{'type':_0x988a4b(0xe19)}},'required':[_0x988a4b(0x758)]};try{const _0x525b67=await callAnalysisApi(_0x192b86,_0x125e71);return _0x525b67['standardTopic'];}catch(_0x26ace8){return console[_0x988a4b(0x3f5)](_0x988a4b(0x32a),_0x26ace8),_0x2495bb;}}async function handleGenerateEasyVersionQuiz(_0x3feda6){const _0x2c9619=_0x1cfa42,_0x5bceb0=document[_0x2c9619(0xbf1)](_0x2c9619(0x2bd)),_0x16fb46=document[_0x2c9619(0xbf1)]('project-quizzes-list');_0x16fb46['classList'][_0x2c9619(0xd5c)](_0x2c9619(0xa93));const _0x2c512e=_0x2c9619(0x6ad);_0x5bceb0['insertAdjacentHTML'](_0x2c9619(0x57d),_0x2c512e);try{const _0x438ca8=allQuizzes[_0x2c9619(0x633)](_0x47bc6a=>_0x47bc6a['id']===_0x3feda6);if(!_0x438ca8)throw new Error(_0x2c9619(0x292));const _0x5c5eb0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x2c9619(0x2a1)](_0x438ca8[_0x2c9619(0xb0f)])+_0x2c9619(0x996),_0x2cfa35={'type':_0x2c9619(0xc68),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2c9619(0xe19)},'options':{'type':_0x2c9619(0x1d5),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c9619(0xba6)},'idealAnswer':{'type':_0x2c9619(0xe19)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c9619(0xe19)}},'required':[_0x2c9619(0x324),'questionType',_0x2c9619(0x582)]},_0x2bd495={'type':_0x2c9619(0xc68),'properties':{'questions':{'type':'ARRAY','items':_0x2cfa35}},'required':[_0x2c9619(0xb0f)]},_0x231909=await callAnalysisApi(_0x5c5eb0,_0x2bd495);_0x231909&&_0x231909[_0x2c9619(0xb0f)]&&_0x231909['questions']['forEach'](_0x35d559=>{const _0x167793=_0x2c9619;if(_0x35d559[_0x167793(0xbf9)]('imageCode')){const _0x2a8438=String(_0x35d559['imageCode'])[_0x167793(0xab6)]();(_0x2a8438===''||_0x2a8438[_0x167793(0xd64)]()===_0x167793(0x9a0)||!_0x2a8438[_0x167793(0x5d1)](_0x167793(0x22f)))&&delete _0x35d559[_0x167793(0x50a)];}});if(!_0x231909||!_0x231909[_0x2c9619(0xb0f)]||_0x231909[_0x2c9619(0xb0f)][_0x2c9619(0x26d)]===0x0)throw new Error(_0x2c9619(0xb50));const _0x16ff1d=_0x231909[_0x2c9619(0xb0f)][_0x2c9619(0x469)]((_0x282af2,_0x46a1a2)=>({..._0x282af2,'id':'q_'+Date[_0x2c9619(0x24a)]()+'_'+_0x46a1a2})),_0x364d2f={'projectId':_0x438ca8[_0x2c9619(0x1cf)],'quizType':_0x438ca8[_0x2c9619(0x4c3)],'settings':_0x438ca8[_0x2c9619(0x607)],'createdBy':_0x438ca8[_0x2c9619(0x512)],'status':_0x2c9619(0x94c),'topic':_0x2c9619(0xaa0)+_0x438ca8[_0x2c9619(0x3b7)],'questions':_0x16ff1d,'createdAt':new Date()[_0x2c9619(0x5c8)](),'quizMode':'standard','pairedQuizId':null};let _0x5d28fc;while(!![]){_0x5d28fc=Math[_0x2c9619(0x74e)](0x3e8+Math[_0x2c9619(0x72a)]()*0x2328)[_0x2c9619(0x701)]();const _0x6dfca9=await getDoc(doc(db,_0x2c9619(0x7ff)+appId+_0x2c9619(0x254),_0x5d28fc));if(!_0x6dfca9['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5d28fc),_0x364d2f),showMessage(_0x2c9619(0x831));}catch(_0x7cbeb2){console['error']('Error\x20generating\x20easy\x20version\x20quiz:',_0x7cbeb2),showMessage(_0x2c9619(0x699)+_0x7cbeb2[_0x2c9619(0x495)]);}finally{const _0x27d6e3=document[_0x2c9619(0xbf1)](_0x2c9619(0xe20));_0x27d6e3&&_0x27d6e3[_0x2c9619(0xb55)](),_0x16fb46[_0x2c9619(0xe06)][_0x2c9619(0xb55)](_0x2c9619(0xa93));}}async function generatePracticeQuestions(_0x5d8c24){const _0x322231=_0x1cfa42,_0x96c7a3=_0x322231(0x9ab)+_0x5d8c24+_0x322231(0xa6f)+simpleMathPrompt+_0x322231(0x2ca),_0x311e04={'type':_0x322231(0xc68),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x322231(0x1d5),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x322231(0xba6)},'explanation':{'type':_0x322231(0xe19)}},'required':['questionText','options',_0x322231(0x3a3),_0x322231(0x582)]},_0x1f08fa={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x311e04}},'required':['topic',_0x322231(0xb0f)]};return await callAnalysisApi(_0x96c7a3,_0x1f08fa);}function displayLessonPlan(_0x42af1f,_0x154c14){const _0x23915e=_0x1cfa42,_0x3c459b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x154c14['topic']+_0x23915e(0x55b)+_0x42af1f[_0x23915e(0x65b)][_0x23915e(0x469)](_0x3f343d=>_0x23915e(0x963)+_0x3f343d+_0x23915e(0x675))['join']('')+_0x23915e(0xa81)+_0x42af1f[_0x23915e(0x6cb)]+_0x23915e(0x2bc)+_0x42af1f['practiceProblems']['map'](_0x183c38=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x183c38[_0x23915e(0x7bc)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x183c38[_0x23915e(0xbb7)]+_0x23915e(0xab0))[_0x23915e(0x4ce)]('')+_0x23915e(0x7d7);document['getElementById'](_0x23915e(0xba5))[_0x23915e(0x617)]=_0x23915e(0x26e)+_0x154c14[_0x23915e(0x3b7)],document['getElementById'](_0x23915e(0x2e6))['innerHTML']=_0x3c459b,document[_0x23915e(0xbf1)](_0x23915e(0xda4))['classList'][_0x23915e(0xb55)](_0x23915e(0xa93));if(window[_0x23915e(0x6b2)])MathJax[_0x23915e(0x255)]();}function displaySkillPracticeDrill(_0x5ef3c5){const _0x5bcd85=_0x1cfa42;let _0x57a9d2=0x0;const _0x5f1d8c=_0x5ef3c5[_0x5bcd85(0xb0f)],_0x3467ba=()=>{const _0x4c14ad=_0x5bcd85,_0x326541=_0x5f1d8c[_0x57a9d2],_0x7577ad=_0x4c14ad(0xa4e)+(_0x57a9d2+0x1)+_0x4c14ad(0x7b1)+_0x5f1d8c['length']+_0x4c14ad(0xc0c)+_0x326541[_0x4c14ad(0x324)]+_0x4c14ad(0x47f)+_0x326541[_0x4c14ad(0x9e4)][_0x4c14ad(0x469)]((_0x58af1f,_0x42fee6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x42fee6+_0x4c14ad(0x7e8)+_0x42fee6+_0x4c14ad(0x52b)+_0x42fee6+'\x22>'+_0x58af1f+_0x4c14ad(0x271))[_0x4c14ad(0x4ce)]('')+_0x4c14ad(0x8b4);studentQuizArea['innerHTML']=_0x7577ad;if(window[_0x4c14ad(0x6b2)])MathJax[_0x4c14ad(0x255)]([studentQuizArea]);document[_0x4c14ad(0xbf1)](_0x4c14ad(0x894))[_0x4c14ad(0x4ef)](_0x4c14ad(0x67d),async()=>{const _0x3b3c8c=_0x4c14ad,_0xc246cc=await getHintForQuestion(_0x326541[_0x3b3c8c(0x324)]);showMessage(_0xc246cc);}),document[_0x4c14ad(0xbf1)](_0x4c14ad(0x79f))[_0x4c14ad(0x4ef)](_0x4c14ad(0x67d),()=>{const _0x5c18be=_0x4c14ad,_0x2e6c43=document['querySelector'](_0x5c18be(0x269));if(!_0x2e6c43){showMessage(_0x5c18be(0xbf7));return;}const _0x5a991a=document[_0x5c18be(0xbf1)]('drill-feedback'),_0x57f6f3=parseInt(_0x2e6c43[_0x5c18be(0x49f)])===_0x326541[_0x5c18be(0x3a3)];_0x57f6f3?(_0x5a991a[_0x5c18be(0xa1e)]=_0x5c18be(0xc8e),_0x5a991a[_0x5c18be(0xcf3)]=_0x5c18be(0x772)+_0x326541[_0x5c18be(0x582)]):(_0x5a991a[_0x5c18be(0xa1e)]=_0x5c18be(0x787),_0x5a991a['innerHTML']=_0x5c18be(0x8ed)+_0x326541[_0x5c18be(0x582)]);_0x5a991a['classList']['remove']('hidden');if(window[_0x5c18be(0x6b2)])MathJax[_0x5c18be(0x255)]([_0x5a991a]);document[_0x5c18be(0xbf1)](_0x5c18be(0x79f))['classList'][_0x5c18be(0xd5c)]('hidden'),document[_0x5c18be(0xbf1)](_0x5c18be(0x894))[_0x5c18be(0xe06)][_0x5c18be(0xd5c)](_0x5c18be(0xa93)),document[_0x5c18be(0xbf1)](_0x5c18be(0x44e))[_0x5c18be(0xe06)]['remove']('hidden');}),document[_0x4c14ad(0xbf1)](_0x4c14ad(0x44e))[_0x4c14ad(0x4ef)](_0x4c14ad(0x67d),()=>{const _0x9eb0ed=_0x4c14ad;_0x57a9d2++,_0x57a9d2<_0x5f1d8c[_0x9eb0ed(0x26d)]?_0x3467ba():(studentQuizArea[_0x9eb0ed(0xcf3)]=_0x9eb0ed(0xb69),document['getElementById'](_0x9eb0ed(0xbb6))[_0x9eb0ed(0x4ef)](_0x9eb0ed(0x67d),()=>{const _0x5992fa=_0x9eb0ed;studentQuizArea[_0x5992fa(0xe06)]['add'](_0x5992fa(0xa93)),studentResultArea['classList'][_0x5992fa(0xb55)](_0x5992fa(0xa93));}));});};_0x3467ba();}async function getHintForQuestion(_0x2cb782){const _0x3be152=_0x1cfa42,_0x2c7879='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x2cb782+_0x3be152(0x1a4),_0xdf05be={'type':_0x3be152(0xc68),'properties':{'hint':{'type':'STRING'}},'required':[_0x3be152(0xbda)]};try{const _0x355a4e=await callAnalysisApi(_0x2c7879,_0xdf05be);return _0x355a4e[_0x3be152(0xbda)];}catch(_0x53c58f){return console[_0x3be152(0x3f5)]('Failed\x20to\x20get\x20hint:',_0x53c58f),_0x3be152(0x670);}}async function extractTextFromPdf(_0x30d80a){const _0x704fe0=_0x1cfa42;pdfjsLib[_0x704fe0(0x59e)][_0x704fe0(0x6de)]=_0x704fe0(0xbf0);const _0x11b4d7=await _0x30d80a[_0x704fe0(0xb17)](),_0x5ce5b6=await pdfjsLib[_0x704fe0(0xad0)](_0x11b4d7)[_0x704fe0(0xd89)],_0x2ad160=_0x5ce5b6[_0x704fe0(0x452)];let _0x32c166='';for(let _0x538eac=0x1;_0x538eac<=_0x2ad160;_0x538eac++){const _0x432044=await _0x5ce5b6[_0x704fe0(0xda3)](_0x538eac),_0xd14e62=await _0x432044[_0x704fe0(0x41c)](),_0xf6aa9b=_0xd14e62[_0x704fe0(0x3e0)][_0x704fe0(0x469)](_0x259b94=>_0x259b94[_0x704fe0(0x5c0)])['join']('\x20');_0x32c166+=_0xf6aa9b+'\x0a\x0a';}return _0x32c166;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x207306){const _0x5cf846=_0x1cfa42,_0xe7ccb3=document['getElementById']('blueprint-options-container'),_0x2a874e=document['getElementById']('blueprint-topics-list'),_0x1f8b83=document['getElementById']('save-blueprint-as-project-btn');_0xe7ccb3[_0x5cf846(0xe06)][_0x5cf846(0xb55)]('hidden'),_0x2a874e[_0x5cf846(0xcf3)]=_0x5cf846(0x821),_0x1f8b83[_0x5cf846(0xe06)][_0x5cf846(0xd5c)](_0x5cf846(0xa93));try{const _0x3bc31c=_0x5cf846(0x566)+_0x207306+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x28a390={'type':_0x5cf846(0xc68),'properties':{'gradeLevel':{'type':_0x5cf846(0xe19)},'curriculum':{'type':_0x5cf846(0x1d5),'items':{'type':_0x5cf846(0xc68),'properties':{'sara':{'type':_0x5cf846(0xe19)},'mainTopics':{'type':_0x5cf846(0x1d5),'items':{'type':_0x5cf846(0xc68),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':['topicName','subTopics']}}},'required':[_0x5cf846(0xa54),_0x5cf846(0x574)]}}},'required':[_0x5cf846(0xd2c),_0x5cf846(0x3ce)]},_0x3a0bcc=await callAnalysisApi(_0x3bc31c,_0x28a390);if(_0x3a0bcc&&_0x3a0bcc['curriculum'])extractedBlueprintData=_0x3a0bcc,renderBlueprintTopics(_0x3a0bcc),_0x1f8b83[_0x5cf846(0xe06)][_0x5cf846(0xb55)](_0x5cf846(0xa93));else throw new Error(_0x5cf846(0x1e2));}catch(_0x2aaba6){console[_0x5cf846(0x3f5)]('Error\x20analyzing\x20blueprint\x20topics:',_0x2aaba6),_0x2a874e[_0x5cf846(0xcf3)]=_0x5cf846(0xe1f);}}function renderBlueprintTopics(_0x209be7){const _0x274bc1=_0x1cfa42,_0x1b0670=document[_0x274bc1(0xbf1)](_0x274bc1(0x81f)),_0xddc1da=_0x209be7[_0x274bc1(0xd2c)],_0x531d91=_0x274bc1(0xaf6)+_0xddc1da+_0x274bc1(0xc7e);let _0x2a88e6='';_0x209be7['curriculum'][_0x274bc1(0xdac)](_0x2f09a4=>{const _0x310448=_0x274bc1;_0x2a88e6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x2f09a4[_0x310448(0xa54)]+'</h4>',_0x2f09a4[_0x310448(0x574)][_0x310448(0xdac)](_0x5a4a56=>{const _0x2c9c8c=_0x310448;_0x2a88e6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x5a4a56[_0x2c9c8c(0xbfe)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x5a4a56['subTopics'][_0x2c9c8c(0xdac)](_0x151281=>{const _0x1cbe86=_0x2c9c8c;_0x2a88e6+=_0x1cbe86(0x5bc)+_0x151281[_0x1cbe86(0x93c)](/'/g,'\x5c\x27')+_0x1cbe86(0xa13)+_0xddc1da[_0x1cbe86(0x93c)](/'/g,'\x5c\x27')+_0x1cbe86(0xcfc)+_0x151281+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x151281[_0x1cbe86(0x93c)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x2a88e6+=_0x2c9c8c(0xc16);}),_0x2a88e6+=_0x310448(0xcdd);}),_0x1b0670[_0x274bc1(0xcf3)]=_0x531d91+_0x2a88e6;}async function handleGenerateTeachingContent(_0x31c68a){const _0x12d0ff=_0x1cfa42,_0x12c14d=document[_0x12d0ff(0xbf1)](_0x12d0ff(0xda4)),_0x21a5cc=document[_0x12d0ff(0xbf1)]('lesson-plan-content');document[_0x12d0ff(0xbf1)](_0x12d0ff(0xba5))[_0x12d0ff(0x617)]=_0x12d0ff(0xa9b)+_0x31c68a,_0x21a5cc['innerHTML']=_0x12d0ff(0x56c),_0x12c14d[_0x12d0ff(0xe06)][_0x12d0ff(0xb55)]('hidden');try{const _0x2dd30d=_0x12d0ff(0x59f)+_0x31c68a+_0x12d0ff(0xc5b),_0x2fa43c={'type':_0x12d0ff(0xc68),'properties':{'keyConcepts':{'type':_0x12d0ff(0x1d5),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x12d0ff(0x1d5),'items':{'type':_0x12d0ff(0xe19)}},'stepByStepExamples':{'type':_0x12d0ff(0x1d5),'items':{'type':_0x12d0ff(0xc68),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}},'required':[_0x12d0ff(0x7bc),'solution']}},'teacherTips':{'type':_0x12d0ff(0x1d5),'items':{'type':'STRING'}}},'required':[_0x12d0ff(0x5f3),_0x12d0ff(0xacd),_0x12d0ff(0x77d),_0x12d0ff(0x908)]},_0x1e04fc=await callAnalysisApi(_0x2dd30d,_0x2fa43c);displayTeachingContent(_0x1e04fc,_0x31c68a);}catch(_0x3985e5){console[_0x12d0ff(0x3f5)](_0x12d0ff(0x9f3),_0x3985e5),_0x21a5cc['innerHTML']=_0x12d0ff(0x52f)+_0x3985e5[_0x12d0ff(0x495)]+'</p>';}}function displayTeachingContent(_0x5a2f83,_0x24a551){const _0x2e0497=_0x1cfa42,_0x1cb2f9=document[_0x2e0497(0xbf1)]('lesson-plan-content');document[_0x2e0497(0xbf1)](_0x2e0497(0xba5))['textContent']=_0x2e0497(0xc62)+_0x24a551;const _0x4c997a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x5a2f83[_0x2e0497(0x5f3)][_0x2e0497(0x469)](_0xb7b0ef=>_0x2e0497(0x963)+_0xb7b0ef+_0x2e0497(0x675))[_0x2e0497(0x4ce)]('')+_0x2e0497(0x7aa)+_0x5a2f83[_0x2e0497(0xacd)]['map'](_0x538134=>_0x2e0497(0x963)+_0x538134+'</li>')[_0x2e0497(0x4ce)]('')+_0x2e0497(0x4f0)+_0x5a2f83[_0x2e0497(0x77d)][_0x2e0497(0x469)](_0x478cf1=>_0x2e0497(0x192)+_0x478cf1[_0x2e0497(0x7bc)]+_0x2e0497(0xc2c)+_0x478cf1[_0x2e0497(0xbb7)]+_0x2e0497(0x857))[_0x2e0497(0x4ce)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x5a2f83['teacherTips']['map'](_0x5b1f7e=>_0x2e0497(0x963)+_0x5b1f7e+_0x2e0497(0x675))[_0x2e0497(0x4ce)]('')+_0x2e0497(0x8ca);_0x1cb2f9[_0x2e0497(0xcf3)]=_0x4c997a;if(window[_0x2e0497(0x6b2)])MathJax['typesetPromise']([_0x1cb2f9]);}async function generateQuizForSingleTopic(_0x4256f6){const _0x1e4a19=_0x1cfa42;console[_0x1e4a19(0xc15)](_0x1e4a19(0x329)+_0x4256f6+'\x22');const _0x3bc158=document[_0x1e4a19(0xbf1)](_0x1e4a19(0x3c5)),_0x1701fa=_0x3bc158[_0x1e4a19(0xd76)][_0x1e4a19(0x26d)]>0x0?_0x3bc158[_0x1e4a19(0xd76)][0x0]:null;let _0x3da19e=null;if(_0x1701fa)try{const _0x9ba2ce=new FileReader();_0x9ba2ce[_0x1e4a19(0xa9a)](_0x1701fa);const _0x182e25=await new Promise((_0x5b71a4,_0x102314)=>{const _0x2bf861=_0x1e4a19;_0x9ba2ce['onload']=()=>_0x5b71a4(_0x9ba2ce['result'][_0x2bf861(0x557)](',')[0x1]),_0x9ba2ce[_0x2bf861(0x3bb)]=_0x851f63=>_0x102314(_0x851f63);});_0x3da19e=[{'inlineData':{'mimeType':_0x1701fa[_0x1e4a19(0x8e8)],'data':_0x182e25}}];}catch(_0x1a011c){console[_0x1e4a19(0x3f5)](_0x1e4a19(0x915),_0x1a011c),showMessage(_0x1e4a19(0x770));return;}generateQuiz(_0x4256f6,null,null,_0x3da19e,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x116b89=null){const _0x27ab81=_0x1cfa42,_0x4d24b2=document[_0x27ab81(0xbf1)](_0x27ab81(0x962)),_0x1991c6=document[_0x27ab81(0xbf1)](_0x27ab81(0x5b6));let _0x396340,_0x15f3ea=[];if(_0x116b89)_0x396340=_0x116b89,_0x15f3ea=_0x396340[_0x27ab81(0xa65)](0x2);else{const _0x959b27=document[_0x27ab81(0xbf1)]('blueprint-upload-input'),_0x3cef9f=document[_0x27ab81(0xbf1)](_0x27ab81(0x3c5)),_0x107221=_0x959b27[_0x27ab81(0xd76)][0x0];if(!_0x107221){showMessage(_0x27ab81(0xabb));return;}_0x1991c6[_0x27ab81(0x617)]=_0x27ab81(0x55c);const _0x26494a=await new Promise((_0x27ad03,_0x34b855)=>{const _0x5ac1e5=_0x27ab81,_0x3897e9=new FileReader();_0x3897e9[_0x5ac1e5(0xa9a)](_0x107221),_0x3897e9[_0x5ac1e5(0xe0a)]=()=>_0x27ad03(_0x3897e9[_0x5ac1e5(0xc26)][_0x5ac1e5(0x557)](',')[0x1]),_0x3897e9[_0x5ac1e5(0x3bb)]=_0x34b855;});_0x396340=[{'text':_0x27ab81(0xc67)},{'inlineData':{'mimeType':_0x107221[_0x27ab81(0x8e8)],'data':_0x26494a}}];if(_0x3cef9f[_0x27ab81(0xd76)]['length']>0x0){const _0x2c7255=_0x3cef9f[_0x27ab81(0xd76)][0x0];_0x1991c6[_0x27ab81(0x617)]=_0x27ab81(0x785);const _0x6f5c9e=await new Promise((_0x2a6dc9,_0x180966)=>{const _0x11059e=_0x27ab81,_0x11f5db=new FileReader();_0x11f5db['readAsDataURL'](_0x2c7255),_0x11f5db[_0x11059e(0xe0a)]=()=>_0x2a6dc9(_0x11f5db[_0x11059e(0xc26)][_0x11059e(0x557)](',')[0x1]),_0x11f5db[_0x11059e(0x3bb)]=_0x180966;}),_0x2b9da5={'inlineData':{'mimeType':_0x2c7255[_0x27ab81(0x8e8)],'data':_0x6f5c9e}};_0x396340[_0x27ab81(0x229)](_0x2b9da5),_0x15f3ea[_0x27ab81(0x229)](_0x2b9da5);}}const _0x33e9b3=_0x27ab81(0x72f),_0x3c00ac=_0x27ab81(0x87c);let _0x401a9f='';_0x15f3ea&&_0x15f3ea[_0x27ab81(0x26d)]>0x0?_0x401a9f=_0x33e9b3:_0x401a9f=_0x3c00ac;const _0x524c7f='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x401a9f+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x335e30={'type':_0x27ab81(0xc68),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x27ab81(0xe19),'enum':[_0x27ab81(0x37c),_0x27ab81(0x944),'true_false','matching_item']},'options':{'type':_0x27ab81(0x1d5),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x27ab81(0xba6)},'idealAnswer':{'type':_0x27ab81(0xe19)},'correctAnswer':{'type':_0x27ab81(0x6b7)},'explanation':{'type':_0x27ab81(0xe19)},'imageCode':{'type':'STRING'}},'required':[_0x27ab81(0xb83),'explanation']},_0x37521e={'type':_0x27ab81(0xc68),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x27ab81(0x1d5),'items':_0x335e30}},'required':[_0x27ab81(0x3b7),_0x27ab81(0xb0f)]};_0x396340[0x0][_0x27ab81(0x227)]=_0x524c7f,await handleApiCall(_0x396340,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x37521e);}function proceedToNextQuestion(_0x579eb1){const _0xff809e=_0x1cfa42;studentAnswersPerQuestion[_0xff809e(0x229)](_0x579eb1),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0xff809e(0xb0f)][_0xff809e(0x26d)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x5c5bf1,_0x3e7450,_0x3ee348){const _0x40f7cd=_0x1cfa42,_0x338a64=Object[_0x40f7cd(0xdc2)](_0x5c5bf1[_0x40f7cd(0x18d)]||{}),_0x519339=_0x338a64[_0x40f7cd(0x26d)],_0x1a9e74=_0x3ee348,_0x59f45b=_0x5c5bf1[_0x40f7cd(0x4a9)]||_0x40f7cd(0x6d0),_0x3d70c7=_0x59f45b===_0x40f7cd(0xe10),_0x54bb31=_0x5c5bf1['isAnonymousRevealed']===!![],_0x5741d9=_0x59f45b===_0x40f7cd(0x4b8),_0x498a19=_0x5c5bf1[_0x40f7cd(0x479)][_0x40f7cd(0xb0f)],_0x414d39=_0x498a19[_0x1a9e74],_0x1226ab=_0x54b9cc=>String[_0x40f7cd(0x6f0)](0x41+_0x54b9cc),_0x38ddde=_0x338a64[_0x40f7cd(0x469)](_0x4569b7=>{const _0x2350ca=_0x40f7cd,_0x4baa9=_0x4569b7[_0x2350ca(0xd0e)]||0x0,_0x390e4e=_0x4569b7[_0x2350ca(0x60e)]||0x0,_0x33d72c=(_0x4569b7[_0x2350ca(0xad5)]||[])['filter'](_0x4795fc=>{const _0x1be857=_0x2350ca;if(_0x59f45b==='reveal_at_end')return _0x4795fc[_0x1be857(0xb1c)]<=_0x1a9e74;return!![];});return{..._0x4569b7,'realScore':_0x4baa9,'totalPoints':_0x390e4e,'answers':_0x33d72c};}),_0x7d52fc=_0x5c5bf1[_0x40f7cd(0x646)]===!![],_0x11b692=[..._0x38ddde][_0x40f7cd(0x712)]((_0x48291c,_0x490a16)=>{const _0x139efd=_0x40f7cd;if(_0x7d52fc){const _0x1fc502=_0x490a16[_0x139efd(0xcef)]-_0x48291c[_0x139efd(0xcef)];if(_0x1fc502!==0x0)return _0x1fc502;const _0x5eccf5=_0x490a16[_0x139efd(0x60e)]-_0x48291c[_0x139efd(0x60e)];if(_0x5eccf5!==0x0)return _0x5eccf5;return(_0x48291c['name']||'')['localeCompare'](_0x490a16[_0x139efd(0x372)]||'','th');}else{const _0x24e0a9=_0x490a16['totalPoints']-_0x48291c[_0x139efd(0x60e)];if(_0x24e0a9!==0x0)return _0x24e0a9;const _0x42602c=_0x490a16[_0x139efd(0xcef)]-_0x48291c[_0x139efd(0xcef)];if(_0x42602c!==0x0)return _0x42602c;return(_0x48291c[_0x139efd(0x372)]||'')[_0x139efd(0x7e5)](_0x490a16[_0x139efd(0x372)]||'','th');}}),_0x6f9be0=Math['max'](..._0x38ddde[_0x40f7cd(0x469)](_0x21815c=>_0x21815c[_0x40f7cd(0x60e)]),0x0),_0x5dce84=_0x3ee348+0x1,_0x13ce4e=_0x38ddde[_0x40f7cd(0x275)](_0x4b7024=>_0x4b7024[_0x40f7cd(0xcef)]===_0x5dce84&&(_0x4b7024['answers']||[])[_0x40f7cd(0x26d)]===_0x5dce84&&_0x5dce84>0x0),_0x148973=_0x13ce4e[_0x40f7cd(0x26d)]>0x0?Math[_0x40f7cd(0x69c)](..._0x13ce4e[_0x40f7cd(0x469)](_0x2b9ad7=>_0x2b9ad7[_0x40f7cd(0x60e)])):-Infinity;let _0x29a499='';const _0x4e3ff5=!_0x5741d9&&!(_0x3d70c7&&_0x5c5bf1['showAnswerInAnonymous']===![]);if(_0x414d39&&_0x4e3ff5){let _0x4bda46='',_0xe0ab35='';const _0x3b0dbd=_0x414d39[_0x40f7cd(0xb83)]||_0x5c5bf1[_0x40f7cd(0x479)][_0x40f7cd(0x4c3)];if(_0x3b0dbd==='multiple_choice'&&_0x414d39['options']&&_0x414d39['correctAnswerIndex']!==undefined){const _0x42f760=_0x414d39[_0x40f7cd(0x3a3)];_0x4bda46=_0x414d39[_0x40f7cd(0x9e4)][_0x42f760],_0xe0ab35=_0x1226ab(_0x42f760)+'.';}else{if(_0x3b0dbd===_0x40f7cd(0x1cb)){const _0x4926af=_0x414d39[_0x40f7cd(0x59b)]===!![]||String(_0x414d39[_0x40f7cd(0x59b)])[_0x40f7cd(0xd64)]()==='true';_0x4926af?(_0x4bda46='ใช่\x20/\x20ถูก',_0xe0ab35='ก.'):(_0x4bda46=_0x40f7cd(0x932),_0xe0ab35='ข.');}else{if(_0x3b0dbd===_0x40f7cd(0x2bf))_0x4bda46=_0x414d39['correctResponse']||'-',_0xe0ab35='';else _0x3b0dbd===_0x40f7cd(0x944)&&(_0x4bda46=_0x414d39['idealAnswer']||'-',_0xe0ab35='');}}_0x4bda46&&(_0x29a499=_0x40f7cd(0xb12)+(_0x1a9e74+0x1)+_0x40f7cd(0x7a6)+_0xe0ab35+'\x20'+_0x4bda46+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x362847=_0x11b692[_0x40f7cd(0x469)](_0x57418d=>{const _0x407f1d=_0x40f7cd,_0x2c47e1=_0x57418d[_0x407f1d(0xcef)],_0x530322=_0x57418d[_0x407f1d(0x60e)],_0x138bbc=_0x57418d['answers']['length'],_0x48e0cb=(_0x57418d[_0x407f1d(0xad5)]||[])['find'](_0x40e24b=>_0x40e24b[_0x407f1d(0xb1c)]===_0x3ee348);let _0x552b6d='';_0x48e0cb&&(_0x48e0cb[_0x407f1d(0x289)]&&(_0x552b6d+='<span\x20title=\x22ใช้ส่องสถิติในตานี้\x22>📊</span>'),_0x48e0cb['wasForced']&&(_0x552b6d+=_0x407f1d(0x65a)),_0x48e0cb['wasJinxed']&&(_0x552b6d+=_0x407f1d(0x8f9)));let _0x594c9c='';if(!_0x5741d9&&_0x138bbc>0x0){const _0x46441e=_0x57418d['answers']['length'],_0x1f8258=_0x57418d[_0x407f1d(0xcef)]===_0x5dce84&&_0x46441e===_0x5dce84&&_0x5dce84>0x0;if(_0x7d52fc){const _0x240262=_0x1f8258&&_0x57418d[_0x407f1d(0x60e)]===_0x148973;if(_0x240262)_0x594c9c=_0x407f1d(0x20b);else _0x1f8258&&(_0x594c9c=_0x407f1d(0x455));}else{if(_0x46441e===_0x5dce84&&_0x5dce84>0x0){let _0x321c8f=_0x5dce84;_0x5c5bf1[_0x407f1d(0x794)]&&(_0x321c8f=_0x5dce84*0x2);const _0x379a40=_0x57418d[_0x407f1d(0x60e)]===_0x321c8f;if(_0x379a40)_0x594c9c='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>';else _0x1f8258&&(_0x594c9c=_0x407f1d(0x455));}}if(_0x594c9c===''){if(_0x530322<0x0)_0x594c9c=_0x407f1d(0x44a);else _0x2c47e1===0x0&&_0x46441e>0x0&&(_0x594c9c=_0x407f1d(0xc78));}}let _0x4ae5e2='bg-black/20';if(!_0x5741d9){const _0x133cf0=(_0x57418d[_0x407f1d(0xad5)]||[])['find'](_0x1a253e=>_0x1a253e['questionIndex']===_0x1a9e74);if(_0x133cf0){const _0x3509fc=_0x133cf0[_0x407f1d(0x553)],_0x1224b5=_0x133cf0[_0x407f1d(0x87f)]===!![]||_0x133cf0['wasConfident']==='confident',_0x429a5d=_0x133cf0[_0x407f1d(0x2e1)];if(_0x429a5d===_0x407f1d(0xb36))_0x3509fc?_0x4ae5e2=_0x407f1d(0x4c5):_0x4ae5e2=_0x407f1d(0xdd5);else{if(_0x1224b5)_0x3509fc?_0x4ae5e2='bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x4ae5e2=_0x407f1d(0x978);else _0x3509fc&&(_0x4ae5e2=_0x407f1d(0x957));}}}let _0x50ae6a='';const _0x711942=_0x57418d['name'],_0x3239e0=_0x5c5bf1[_0x407f1d(0xadd)][_0x57418d[_0x407f1d(0x372)]]||_0x407f1d(0x200),_0x3681ee=_0x407f1d(0x94f),_0x48bed2=_0x407f1d(0xa67);let _0x229379='';const _0x1e424f=_0x530322>=0x0?'(+'+_0x530322+')':'('+_0x530322+')',_0x4d133c=_0x407f1d(0xb25)+_0x57418d[_0x407f1d(0xcef)]+_0x407f1d(0x62b)+_0x1e424f+_0x407f1d(0x6ee);if(_0x3e7450){if(_0x3d70c7&&!_0x54bb31)_0x50ae6a=_0x407f1d(0x86b)+_0x3681ee+_0x407f1d(0x33e)+_0x3239e0+_0x407f1d(0x3e4)+_0x48bed2+'\x22>'+_0x3239e0+'</span>\x20'+_0x552b6d+'\x20'+_0x594c9c+_0x407f1d(0xcdd),_0x229379=_0x4d133c;else{if(_0x3d70c7&&_0x54bb31)_0x50ae6a=_0x407f1d(0x86b)+_0x3681ee+'\x22\x20title=\x22'+_0x711942+'\x20('+_0x3239e0+_0x407f1d(0xc76)+_0x48bed2+'\x22>'+_0x711942+'</span>\x20'+_0x552b6d+'\x20'+_0x594c9c+_0x407f1d(0x522)+_0x48bed2+_0x407f1d(0x8db)+_0x3239e0+_0x407f1d(0x7c2),_0x229379=_0x4d133c;else _0x5741d9?(_0x50ae6a=_0x407f1d(0x86b)+_0x3681ee+_0x407f1d(0x33e)+_0x711942+_0x407f1d(0x3e4)+_0x48bed2+'\x22>'+_0x711942+_0x407f1d(0xcb5)+_0x552b6d+_0x407f1d(0xcdd),_0x229379=''):(_0x50ae6a=_0x407f1d(0x86b)+_0x3681ee+_0x407f1d(0x33e)+_0x711942+_0x407f1d(0x3e4)+_0x48bed2+'\x22>'+_0x711942+'</span>\x20'+_0x552b6d+'\x20'+_0x594c9c+_0x407f1d(0xcdd),_0x229379=_0x4d133c);}}else{const _0x1a32ee=localTeamPlayers[_0x407f1d(0x1ef)](_0x711942),_0x166c66=viewerPlayer[_0x407f1d(0x60e)],_0x37804c=_0x57418d['totalPoints'];if(_0x3d70c7)_0x54bb31?_0x50ae6a='<div\x20style=\x22'+_0x3681ee+_0x407f1d(0x33e)+_0x711942+'\x20('+_0x3239e0+_0x407f1d(0xc76)+_0x48bed2+'\x22>'+_0x711942+'</span>\x20'+_0x552b6d+'\x20'+_0x594c9c+_0x407f1d(0x522)+_0x48bed2+_0x407f1d(0x8db)+_0x3239e0+_0x407f1d(0x7c2):_0x1a32ee?isViewerTopScorer?_0x50ae6a='<div\x20style=\x22'+_0x3681ee+'\x22\x20title=\x22'+_0x711942+'\x20('+_0x3239e0+_0x407f1d(0xc76)+_0x48bed2+'\x22>'+_0x711942+_0x407f1d(0xcb5)+_0x552b6d+'\x20'+_0x594c9c+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x48bed2+'\x22>('+_0x3239e0+_0x407f1d(0x7c2):_0x50ae6a='<div\x20style=\x22'+_0x3681ee+'\x22\x20title=\x22'+_0x3239e0+_0x407f1d(0x3e4)+_0x48bed2+'\x22>'+_0x3239e0+_0x407f1d(0xcb5)+_0x552b6d+'\x20'+_0x594c9c+_0x407f1d(0xcdd):_0x166c66>_0x37804c?_0x50ae6a=_0x407f1d(0x86b)+_0x3681ee+_0x407f1d(0x33e)+_0x711942+'\x20('+_0x3239e0+')\x22><span\x20style=\x22'+_0x48bed2+'\x22>'+_0x711942+'</span>\x20'+_0x552b6d+'\x20'+_0x594c9c+_0x407f1d(0x522)+_0x48bed2+_0x407f1d(0x8db)+_0x3239e0+_0x407f1d(0x7c2):_0x50ae6a='<div\x20style=\x22'+_0x3681ee+_0x407f1d(0x33e)+_0x3239e0+_0x407f1d(0x3e4)+_0x48bed2+'\x22>'+_0x3239e0+_0x407f1d(0xcb5)+_0x552b6d+'\x20'+_0x594c9c+_0x407f1d(0xcdd),_0x229379=_0x4d133c;else _0x5741d9?(_0x50ae6a=_0x407f1d(0x86b)+_0x3681ee+_0x407f1d(0x33e)+_0x711942+_0x407f1d(0x3e4)+_0x48bed2+'\x22>'+_0x711942+_0x407f1d(0xcb5)+_0x552b6d+_0x407f1d(0xcdd),_0x229379=''):(_0x50ae6a=_0x407f1d(0x86b)+_0x3681ee+_0x407f1d(0x33e)+_0x711942+_0x407f1d(0x3e4)+_0x48bed2+'\x22>'+_0x711942+_0x407f1d(0xcb5)+_0x552b6d+'\x20'+_0x594c9c+_0x407f1d(0xcdd),_0x229379=_0x4d133c);}return _0x407f1d(0xc1c)+_0x4ae5e2+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50ae6a+_0x407f1d(0xd0f)+_0x229379+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x40f7cd(0x4ce)](''),_0x39e012=_0x498a19[_0x40f7cd(0x469)]((_0x49f504,_0x686fae)=>{const _0x532354=_0x40f7cd;if(_0x59f45b===_0x532354(0x2e5)&&_0x686fae>_0x1a9e74||_0x5741d9)return'';const _0x522493=_0x38ddde[_0x532354(0x275)](_0x29ab2f=>_0x29ab2f[_0x532354(0xad5)]&&_0x29ab2f[_0x532354(0xad5)][_0x532354(0x633)](_0x28e80=>_0x28e80[_0x532354(0xb1c)]===_0x686fae&&_0x28e80['isCorrect']))[_0x532354(0x26d)],_0x40c555=_0x686fae===_0x1a9e74,_0x32c3f3=_0x40c555?_0x532354(0x609):'p-2\x20bg-black/10\x20rounded-md';return _0x532354(0x1d1)+_0x32c3f3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x686fae+0x1)+_0x532354(0x173)+_0x522493+_0x532354(0x7b1)+_0x519339+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x40f7cd(0x4ce)]('');let _0x26a275='',_0x24dd2b='';if(_0x3e7450){const _0x206e13=_0x59f45b===_0x40f7cd(0x6d0)&&_0x5c5bf1[_0x40f7cd(0x2fc)]>=_0x498a19['length']-0x1,_0x50519c=_0x59f45b==='reveal_at_end'&&_0x5c5bf1[_0x40f7cd(0x35e)]>=_0x498a19[_0x40f7cd(0x26d)]-0x1,_0xe389e8=_0x59f45b===_0x40f7cd(0xe10)&&_0x5c5bf1['currentQuestionIndex']>=_0x498a19[_0x40f7cd(0x26d)]-0x1,_0x452922=_0x59f45b===_0x40f7cd(0x4b8)&&_0x5c5bf1[_0x40f7cd(0x2fc)]>=_0x498a19[_0x40f7cd(0x26d)]-0x1;_0x206e13||_0x50519c||_0xe389e8||_0x452922?_0x3d70c7&&!_0x54bb31?_0x26a275=_0x40f7cd(0x1a6):_0x26a275=_0x40f7cd(0x3d3):_0x26a275='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x24dd2b='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x50e523=_0x5741d9||_0x3d70c7&&!_0x5c5bf1[_0x40f7cd(0x62a)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x39e012+'</div></div>',_0x49539b=_0x5741d9||_0x3d70c7&&!_0x5c5bf1['showAnswerInAnonymous']?_0x40f7cd(0xae0):'md:col-span-1',_0x1798f9=_0x40f7cd(0x558)+_0x5c5bf1[_0x40f7cd(0x479)][_0x40f7cd(0x3b7)]+_0x40f7cd(0xd8d)+_0x5c5bf1[_0x40f7cd(0xc84)]+_0x40f7cd(0x2e0)+_0x24dd2b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29a499+_0x40f7cd(0x2a2)+_0x49539b+'\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x362847||_0x40f7cd(0x3d7))+_0x40f7cd(0x6bc)+_0x50e523+_0x40f7cd(0x5a8)+(_0x3e7450?_0x40f7cd(0xc45)+_0x26a275+_0x40f7cd(0xcdd):'')+_0x40f7cd(0x1db);liveGameView[_0x40f7cd(0xcf3)]=_0x1798f9;if(window[_0x40f7cd(0x6b2)]){const _0x219f65=document['getElementById']('main-correct-answer-display');_0x219f65&&MathJax['typesetPromise']([_0x219f65]);}if(_0x3e7450){document[_0x40f7cd(0xbf1)]('next-sync-question-btn')[_0x40f7cd(0x1a5)]=async()=>{const _0x296c79=_0x40f7cd,_0x45751c=doc(db,'artifacts/'+appId+_0x296c79(0x73f),currentLiveGameId),_0x38f2c0=_0x59f45b==='classic'&&_0x5c5bf1[_0x296c79(0x2fc)]>=_0x498a19[_0x296c79(0x26d)]-0x1,_0x8e8ab2=_0x59f45b===_0x296c79(0x2e5)&&_0x5c5bf1[_0x296c79(0x35e)]>=_0x498a19[_0x296c79(0x26d)]-0x1,_0x52ae31=_0x59f45b===_0x296c79(0xe10)&&_0x5c5bf1[_0x296c79(0x2fc)]>=_0x498a19['length']-0x1,_0x43398e=_0x59f45b===_0x296c79(0x4b8)&&_0x5c5bf1['currentQuestionIndex']>=_0x498a19['length']-0x1;if(_0x59f45b===_0x296c79(0x2e5))!_0x8e8ab2?await updateDoc(_0x45751c,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x45751c,{'status':'podium'});else{if(!_0x38f2c0&&!_0x52ae31&&!_0x43398e){const _0x51728b=_0x5c5bf1[_0x296c79(0x2fc)]+0x1,_0x5857a1={};Object[_0x296c79(0x972)](_0x5c5bf1[_0x296c79(0x18d)])[_0x296c79(0xdac)](_0xaa596e=>{const _0x2e3c4c=_0x296c79;_0x5857a1[_0x2e3c4c(0x32c)+_0xaa596e+_0x2e3c4c(0xa41)]=![],_0x5857a1[_0x2e3c4c(0x32c)+_0xaa596e+_0x2e3c4c(0x2b0)]=null,_0x5857a1[_0x2e3c4c(0x32c)+_0xaa596e+_0x2e3c4c(0x34f)]=![],_0x5857a1[_0x2e3c4c(0x32c)+_0xaa596e+'.isForcedConfident']=![];}),await updateDoc(_0x45751c,{..._0x5857a1,'status':_0x296c79(0x7bc),'currentQuestionIndex':_0x51728b,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x45751c,{'status':'podium'});}},document[_0x40f7cd(0xbf1)](_0x40f7cd(0x323))?.[_0x40f7cd(0x4ef)](_0x40f7cd(0x67d),async()=>{const _0x27f4c6=_0x40f7cd;await updateDoc(doc(db,'artifacts/'+appId+_0x27f4c6(0x73f),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x164a5a=document['getElementById']('end-sync-game-btn');_0x164a5a&&(_0x164a5a['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x37e321=_0x5ec1;await updateDoc(doc(db,_0x37e321(0x7ff)+appId+_0x37e321(0x73f),currentLiveGameId),{'status':_0x37e321(0x3f8)});});});}}async function handleGenerateParallelFromBank(_0x3335cd){const _0x53c49d=_0x1cfa42,_0x5acd5f=document[_0x53c49d(0xbf1)](_0x53c49d(0x2bd)),_0x4fa545=document[_0x53c49d(0xbf1)]('project-quizzes-list');_0x4fa545[_0x53c49d(0xe06)][_0x53c49d(0xd5c)](_0x53c49d(0xa93));const _0x347002=_0x53c49d(0x8b8)+_0x3335cd[_0x53c49d(0x3b7)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5acd5f[_0x53c49d(0x22c)](_0x53c49d(0x57d),_0x347002);const _0x50b16d=document['getElementById'](_0x53c49d(0x492));try{const _0x2823b8=_0x3335cd[_0x53c49d(0xb0f)][_0x53c49d(0x469)]((_0x547a19,_0x3a2af1)=>{const _0x579f04=_0x53c49d;let _0x3c722d=_0x3a2af1+0x1+'.\x20'+(_0x547a19[_0x579f04(0x324)]||_0x547a19[_0x579f04(0x826)])+'\x0a';if(_0x547a19[_0x579f04(0x9e4)])_0x3c722d+=_0x547a19[_0x579f04(0x9e4)]['map']((_0x575cb5,_0x38f91e)=>'\x20\x20\x20-\x20'+(_0x38f91e===_0x547a19[_0x579f04(0x3a3)]?_0x579f04(0x4d2):'')+'\x20'+_0x575cb5)[_0x579f04(0x4ce)]('\x0a');else _0x547a19[_0x579f04(0x886)]&&(_0x3c722d+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x547a19[_0x579f04(0x886)]);return _0x3c722d;})['join']('\x0a\x0a');_0x50b16d[_0x53c49d(0x617)]=_0x53c49d(0x83e);const _0x504c02='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x3335cd[_0x53c49d(0x3b7)]+_0x53c49d(0x659)+_0x2823b8+_0x53c49d(0x773)+simpleMathPrompt+_0x53c49d(0xda5),_0x278d65={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x53c49d(0xe19),'enum':[_0x53c49d(0x37c),_0x53c49d(0x944),_0x53c49d(0x1cb),_0x53c49d(0x2bf)]},'options':{'type':_0x53c49d(0x1d5),'items':{'type':_0x53c49d(0xe19)}},'correctAnswerIndex':{'type':_0x53c49d(0xba6)},'idealAnswer':{'type':_0x53c49d(0xe19)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x53c49d(0xe19)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x53c49d(0x1d5),'items':{'type':'STRING'}},'explanation':{'type':_0x53c49d(0xe19)},'imageCode':{'type':_0x53c49d(0xe19)}},'required':[_0x53c49d(0xb83),'explanation']},_0xcacbe7={'type':_0x53c49d(0xc68),'properties':{'topic':{'type':_0x53c49d(0xe19)},'questions':{'type':_0x53c49d(0x1d5),'items':_0x278d65}},'required':[_0x53c49d(0x3b7),_0x53c49d(0xb0f)]},_0x1003d2=await callAnalysisApi(_0x504c02,_0xcacbe7),_0xc06cf8=_0x1003d2['questions']['map']((_0x584b76,_0x10fb4b)=>({..._0x584b76,'id':'q_'+Date[_0x53c49d(0x24a)]()+'_'+_0x10fb4b})),_0xc898b='(คู่ขนาน)\x20'+_0x3335cd['topic'],_0x3327b4={'topic':_0xc898b,'questions':_0xc06cf8,'quizType':_0x3335cd[_0x53c49d(0x4c3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x53c49d(0x5c8)](),'status':'active','settings':_0x3335cd[_0x53c49d(0x607)],'quizMode':_0x53c49d(0xd7f),'pairedQuizId':null,'lessonPlan':null};let _0x5c4dba;while(!![]){_0x5c4dba=Math[_0x53c49d(0x74e)](0x3e8+Math[_0x53c49d(0x72a)]()*0x2328)['toString']();const _0x49bd6f=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5c4dba));if(!_0x49bd6f['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x53c49d(0x254),_0x5c4dba),_0x3327b4),showMessage(_0x53c49d(0x3dc));}catch(_0x12ed04){console[_0x53c49d(0x3f5)](_0x53c49d(0x9f5),_0x12ed04),showMessage(_0x53c49d(0x699)+_0x12ed04['message']);}finally{const _0x30b221=document[_0x53c49d(0xbf1)]('temp-loader-results');_0x30b221&&_0x30b221[_0x53c49d(0xb55)](),_0x4fa545[_0x53c49d(0xe06)][_0x53c49d(0xb55)]('hidden');}}async function handleGenerateParallelPostTest(_0x283f80){const _0x57976d=_0x1cfa42,_0x10c94e=document[_0x57976d(0xbf1)]('results-tab-content'),_0x5e4052=document['getElementById']('project-quizzes-list');_0x5e4052['classList'][_0x57976d(0xd5c)]('hidden');const _0x33b0c8=_0x57976d(0xafc);_0x10c94e['insertAdjacentHTML'](_0x57976d(0x57d),_0x33b0c8);try{const _0x229bad=_0x283f80[_0x57976d(0xb0f)][_0x57976d(0x469)]((_0x5caa06,_0x7bab48)=>{const _0x4c23c2=_0x57976d;let _0x397c5f=_0x7bab48+0x1+'.\x20'+(_0x5caa06[_0x4c23c2(0x324)]||_0x5caa06['stem']);if(_0x5caa06[_0x4c23c2(0x9e4)])_0x397c5f+=_0x4c23c2(0x85a)+_0x5caa06[_0x4c23c2(0x9e4)][_0x4c23c2(0x4ce)](',\x20');return _0x397c5f;})[_0x57976d(0x4ce)]('\x0a\x0a'),_0x2c18bf=_0x57976d(0xc5c)+_0x283f80[_0x57976d(0x3b7)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x229bad+_0x57976d(0x9c4)+simpleMathPrompt+_0x57976d(0xda5),_0x168cfa={'type':_0x57976d(0xc68),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x57976d(0xc68),'properties':{'questionText':{'type':_0x57976d(0xe19)},'questionType':{'type':_0x57976d(0xe19)},'options':{'type':_0x57976d(0x1d5),'items':{'type':_0x57976d(0xe19)}},'correctAnswerIndex':{'type':_0x57976d(0xba6)},'idealAnswer':{'type':_0x57976d(0xe19)},'explanation':{'type':_0x57976d(0xe19)}},'required':[_0x57976d(0x324),_0x57976d(0x582)]}}},'required':[_0x57976d(0x3b7),_0x57976d(0xb0f)]},_0x153574=await callAnalysisApi(_0x2c18bf,_0x168cfa),_0x52d7f0=_0x283f80[_0x57976d(0x3b7)][_0x57976d(0x93c)]('(ก่อนเรียน)','')[_0x57976d(0xab6)](),_0x59f7e0=_0x57976d(0x692)+_0x52d7f0,_0x2cbe76={..._0x153574,'topic':_0x59f7e0,'quizType':_0x283f80[_0x57976d(0x4c3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x57976d(0x5c8)](),'status':'active','settings':_0x283f80[_0x57976d(0x607)],'quizMode':_0x57976d(0xcbd),'pairedQuizId':_0x283f80['id']};let _0x29bbd1;while(!![]){_0x29bbd1=Math[_0x57976d(0x74e)](0x3e8+Math[_0x57976d(0x72a)]()*0x2328)['toString']();const _0x1ef550=await getDoc(doc(db,_0x57976d(0x7ff)+appId+_0x57976d(0x254),_0x29bbd1));if(!_0x1ef550['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x57976d(0x254),_0x29bbd1),_0x2cbe76);const _0x32c1d4=doc(db,'artifacts/'+appId+_0x57976d(0x254),_0x283f80['id']);await updateDoc(_0x32c1d4,{'pairedQuizId':_0x29bbd1}),showMessage(_0x57976d(0xc72));}catch(_0x22701b){console[_0x57976d(0x3f5)](_0x57976d(0x280),_0x22701b),showMessage(_0x57976d(0x699)+_0x22701b[_0x57976d(0x495)]);}finally{const _0x2bede5=document[_0x57976d(0xbf1)](_0x57976d(0xe20));if(_0x2bede5)_0x2bede5[_0x57976d(0xb55)]();_0x5e4052['classList'][_0x57976d(0xb55)](_0x57976d(0xa93));}}async function handleGenerateParallelTest(_0x20188c=null){const _0x25e1dd=_0x1cfa42;let _0x77c1cb=_0x20188c;if(!_0x77c1cb){const _0x8be481=document['getElementById'](_0x25e1dd(0x87b));_0x8be481['files'][_0x25e1dd(0x26d)]>0x0&&(_0x77c1cb=_0x8be481['files'][0x0]);}if(!_0x77c1cb){showMessage(_0x25e1dd(0x8d6));return;}const _0x591282=document['getElementById']('loader'),_0x229dc6=document['getElementById'](_0x25e1dd(0x5b6)),_0x332ef0=document[_0x25e1dd(0xbf1)](_0x25e1dd(0x476)),_0x4ca134=document[_0x25e1dd(0xbf1)]('generate-from-parallel-test-btn');_0x4ca134[_0x25e1dd(0x635)]=!![],document['getElementById'](_0x25e1dd(0xae9))[_0x25e1dd(0xe06)][_0x25e1dd(0xb55)]('hidden'),_0x332ef0['innerHTML']='',_0x591282['classList'][_0x25e1dd(0xb55)](_0x25e1dd(0xa93)),_0x229dc6['textContent']=_0x25e1dd(0x176);const _0x4fef81=new FileReader();_0x4fef81['readAsDataURL'](_0x77c1cb),_0x4fef81[_0x25e1dd(0xe0a)]=async()=>{const _0x14cbaa=_0x25e1dd;try{const _0xc3de76=_0x4fef81['result']['split'](',')[0x1],_0x597f25=_0x77c1cb[_0x14cbaa(0x8e8)];_0x229dc6[_0x14cbaa(0x617)]=_0x14cbaa(0x5fb);const _0x5887b9=document['getElementById'](_0x14cbaa(0xa17))[_0x14cbaa(0x51f)],_0x3923da=_0x5887b9?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x291d83=_0x14cbaa(0x507),_0x110549={'type':'OBJECT','properties':{'questionText':{'type':_0x14cbaa(0xe19)},'questionType':{'type':_0x14cbaa(0xe19),'enum':['multiple_choice',_0x14cbaa(0x944)]},'options':{'type':_0x14cbaa(0x1d5),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x14cbaa(0xba6)},'idealAnswer':{'type':_0x14cbaa(0xe19)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x14cbaa(0xe19)}},'required':[_0x14cbaa(0x324),_0x14cbaa(0xb83),_0x14cbaa(0x582)]},_0x3144c3={'type':'OBJECT','properties':{'topic':{'type':_0x14cbaa(0xe19)},'questions':{'type':_0x14cbaa(0x1d5),'items':_0x110549}},'required':[_0x14cbaa(0x3b7),_0x14cbaa(0xb0f)]},_0x4285ec=[{'text':_0x291d83},{'inlineData':{'mimeType':_0x597f25,'data':_0xc3de76}}];await handleApiCall(_0x4285ec,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x3144c3);}catch(_0x3e4416){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x3e4416),showMessage(_0x14cbaa(0x699)+_0x3e4416[_0x14cbaa(0x495)]),_0x332ef0['innerHTML']=_0x14cbaa(0x8e3);}finally{_0x591282[_0x14cbaa(0xe06)]['add'](_0x14cbaa(0xa93)),_0x4ca134['disabled']=![];}},_0x4fef81['onerror']=_0x1a30b1=>{const _0x49cc00=_0x25e1dd;console[_0x49cc00(0x3f5)](_0x49cc00(0x2e8),_0x1a30b1),showMessage(_0x49cc00(0x904)),_0x591282[_0x49cc00(0xe06)][_0x49cc00(0xd5c)](_0x49cc00(0xa93)),_0x4ca134['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x45f12e){const _0x101e00=_0x1cfa42;if(currentEditingQuizData===null)return;const _0x4b76c4=document[_0x101e00(0x19c)]('.question-editor-item[data-q-index=\x22'+_0x45f12e+'\x22]');_0x4b76c4&&(_0x4b76c4[_0x101e00(0xcf3)]=_0x101e00(0x23b));const _0x48e77e=currentEditingQuizData[_0x101e00(0xb0f)][_0x45f12e],_0x40eea4=currentEditingQuizData['topic'],_0x13a35d=_0x48e77e[_0x101e00(0xb83)],_0x5431b9={'type':_0x101e00(0xc68),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x101e00(0x1d5),'items':{'type':_0x101e00(0xe19)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x101e00(0x324),'options',_0x101e00(0x3a3),_0x101e00(0x582)]},_0xc03de4={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x101e00(0xe19)},'explanation':{'type':_0x101e00(0xe19)}},'required':[_0x101e00(0x324),_0x101e00(0x886),_0x101e00(0x582)]};let _0x269a27,_0x432a1c='';_0x13a35d==='multiple_choice'?(_0x269a27=_0x5431b9,_0x432a1c=_0x101e00(0x1b0)):(_0x269a27=_0xc03de4,_0x432a1c='แบบเติมคำตอบ');const _0xbb1f12=_0x101e00(0x91f)+_0x40eea4+_0x101e00(0x9e0)+_0x432a1c+_0x101e00(0x79d)+(_0x48e77e[_0x101e00(0x324)]||_0x48e77e['stem'])+_0x101e00(0x9bb)+simpleMathPrompt;try{const _0x47ff8b=await callAnalysisApi(_0xbb1f12,_0x269a27);currentEditingQuizData[_0x101e00(0xb0f)][_0x45f12e]={..._0x48e77e,..._0x47ff8b},renderQuizEditor(currentEditingQuizData);}catch(_0x23f626){console[_0x101e00(0x3f5)](_0x101e00(0x383),_0x23f626),showMessage(_0x101e00(0x9f7)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x8b10ec=_0x1cfa42,_0x50e192=document[_0x8b10ec(0xbf1)]('mode-switcher-btn');currentMode===_0x8b10ec(0x65e)?(currentMode=_0x8b10ec(0xc51),_0x50e192[_0x8b10ec(0xcf3)]=_0x8b10ec(0x187),_0x50e192[_0x8b10ec(0x8aa)]='สลับไปโหมดนักเรียน',showView(_0x8b10ec(0xdd6))):(currentMode='student',_0x50e192['innerHTML']=_0x8b10ec(0xa50),_0x50e192['title']='สลับไปโหมดผู้ควบคุม',showView(_0x8b10ec(0x65e)));}function handleAdminLogin(){const _0x216f69=_0x1cfa42,_0x1a0535=document[_0x216f69(0xbf1)]('admin-password-input'),_0x4916d8=document[_0x216f69(0xbf1)](_0x216f69(0xa96));if(_0x1a0535[_0x216f69(0x49f)]==='27411472'){adminPasswordModal['classList'][_0x216f69(0xd5c)](_0x216f69(0xa93)),_0x1a0535[_0x216f69(0x49f)]='',_0x4916d8[_0x216f69(0xe06)]['add'](_0x216f69(0xa93)),currentMode=_0x216f69(0xc51);const _0x19aba7=document[_0x216f69(0xbf1)]('mode-switcher-btn');_0x19aba7[_0x216f69(0xcf3)]=_0x216f69(0x187),_0x19aba7[_0x216f69(0x8aa)]=_0x216f69(0x7fb),showView('admin-dashboard');}else _0x4916d8[_0x216f69(0xe06)]['remove'](_0x216f69(0xa93)),_0x1a0535[_0x216f69(0x49f)]='';}function switchProjectTab(_0xc87421){const _0x222454=_0x1cfa42;[_0x222454(0x373),'results',_0x222454(0xcc0)][_0x222454(0xdac)](_0x138c87=>{const _0x14eb37=_0x222454;document['getElementById'](_0x138c87+_0x14eb37(0x87a))[_0x14eb37(0xe06)][_0x14eb37(0xb55)](_0x14eb37(0x94c)),document[_0x14eb37(0xbf1)](_0x138c87+_0x14eb37(0xd69))[_0x14eb37(0xe06)]['add'](_0x14eb37(0xa93));}),document[_0x222454(0xbf1)](_0xc87421+_0x222454(0x87a))[_0x222454(0xe06)][_0x222454(0xd5c)]('active'),document[_0x222454(0xbf1)](_0xc87421+_0x222454(0xd69))['classList'][_0x222454(0xb55)](_0x222454(0xa93));}function switchQuizDetailTab(_0x3d5c6c){const _0x181a67=_0x1cfa42,_0xdf9a47={'analytics':{'btn':'analytics-tab-btn','content':'analytics-tab-content'},'scores':{'btn':_0x181a67(0x926),'content':_0x181a67(0x37e)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x181a67(0xbc6)},'behavior-log':{'btn':_0x181a67(0xab4),'content':_0x181a67(0x652)}};for(const _0x4b142a in _0xdf9a47){document[_0x181a67(0xbf1)](_0xdf9a47[_0x4b142a][_0x181a67(0x496)])[_0x181a67(0xe06)][_0x181a67(0xb55)](_0x181a67(0x94c)),document[_0x181a67(0xbf1)](_0xdf9a47[_0x4b142a][_0x181a67(0x684)])[_0x181a67(0xe06)][_0x181a67(0xd5c)]('hidden');}document[_0x181a67(0xbf1)](_0xdf9a47[_0x3d5c6c][_0x181a67(0x496)])['classList'][_0x181a67(0xd5c)](_0x181a67(0x94c)),document[_0x181a67(0xbf1)](_0xdf9a47[_0x3d5c6c][_0x181a67(0x684)])[_0x181a67(0xe06)][_0x181a67(0xb55)]('hidden');}function showMessage(_0x1e0a07,_0x303283=null){const _0x3895ca=_0x1cfa42;modalMessage[_0x3895ca(0xcf3)]=_0x1e0a07[_0x3895ca(0x93c)](/\n/g,_0x3895ca(0xb40)),modalConfirmAction=_0x303283,messageModal[_0x3895ca(0xe06)][_0x3895ca(0xb55)](_0x3895ca(0xa93));}function showConfirmation(_0x3df9f8,_0x5a4640,_0x4261a2=null){const _0xd698ce=_0x1cfa42;document[_0xd698ce(0xbf1)](_0xd698ce(0x791))[_0xd698ce(0x617)]=_0x3df9f8,document[_0xd698ce(0xbf1)]('confirmation-modal')[_0xd698ce(0x19c)]('h3')[_0xd698ce(0x617)]=_0xd698ce(0xa8d),confirmAction=_0x5a4640,cancelAction=_0x4261a2,confirmationModal[_0xd698ce(0xe06)][_0xd698ce(0xb55)](_0xd698ce(0xa93));}function listenForProjects(){const _0x25bdf8=_0x1cfa42,_0x2d7fcd=doc(db,_0x25bdf8(0xdb5),'dashboardConfig');onSnapshot(_0x2d7fcd,_0x25099b=>{const _0x436c5a=_0x25bdf8;if(_0x25099b[_0x436c5a(0x2b1)]()){const _0x335255=_0x25099b[_0x436c5a(0x934)]();globalDashboardSettings[_0x436c5a(0x595)]=_0x335255[_0x436c5a(0x595)]||_0x436c5a(0xbc2),globalDashboardSettings[_0x436c5a(0x6db)]=_0x335255[_0x436c5a(0x6db)]||[],globalDashboardSettings[_0x436c5a(0xa88)]=_0x335255[_0x436c5a(0xa88)]||[];}allProjects[_0x436c5a(0x26d)]>0x0&&renderProjects();});const _0x1c971c=collection(db,'artifacts/'+appId+_0x25bdf8(0xcc5));unsubscribeProjectsListener=onSnapshot(_0x1c971c,_0x22c5bf=>{const _0x1b5825=_0x25bdf8;allProjects=_0x22c5bf[_0x1b5825(0xd24)][_0x1b5825(0x469)](_0x22f610=>({'id':_0x22f610['id'],..._0x22f610['data']()})),renderProjects();},_0x3f3a5c=>{const _0x2b503e=_0x25bdf8;console[_0x2b503e(0x3f5)](_0x2b503e(0x909),_0x3f3a5c),showMessage(_0x2b503e(0xa40));});}function showColorPalette(_0x33aa98,_0x432213){const _0x38205b=_0x1cfa42;document[_0x38205b(0x218)](_0x38205b(0x399))[_0x38205b(0xdac)](_0x3b3f01=>_0x3b3f01[_0x38205b(0xb55)]());const _0x4a40fb=[_0x38205b(0x655),_0x38205b(0xbb9),'#FEF3C7',_0x38205b(0x196),_0x38205b(0x29b),_0x38205b(0x47c),_0x38205b(0x9fb),_0x38205b(0x76e),'#E5E7EB'],_0x41fcd0=document[_0x38205b(0x6a2)](_0x38205b(0xa48));_0x41fcd0['className']=_0x38205b(0xcbf),_0x4a40fb[_0x38205b(0xdac)](_0x77b9a3=>{const _0x37b3ac=_0x38205b,_0xbd04d8=document[_0x37b3ac(0x6a2)](_0x37b3ac(0xa48));_0xbd04d8[_0x37b3ac(0xa1e)]=_0x37b3ac(0x927),_0xbd04d8[_0x37b3ac(0x403)][_0x37b3ac(0xb04)]=_0x77b9a3,_0xbd04d8[_0x37b3ac(0x4ef)](_0x37b3ac(0x67d),()=>{const _0x2e3b9e=_0x37b3ac;handleProjectColorChange(_0x432213,_0x77b9a3),_0x41fcd0[_0x2e3b9e(0xb55)]();}),_0x41fcd0[_0x37b3ac(0xc2a)](_0xbd04d8);}),document[_0x38205b(0xce8)][_0x38205b(0xc2a)](_0x41fcd0);const _0x5c5a70=_0x33aa98[_0x38205b(0x31c)]();_0x41fcd0[_0x38205b(0x403)]['top']=_0x5c5a70[_0x38205b(0x510)]+window[_0x38205b(0xbb8)]+'px',_0x41fcd0['style'][_0x38205b(0xde8)]=_0x5c5a70['left']+window[_0x38205b(0x78b)]-_0x41fcd0[_0x38205b(0xba8)]/0x2+'px';}async function handleProjectColorChange(_0x2790d5,_0x2731ad){const _0x482605=_0x1cfa42,_0x372908=doc(db,_0x482605(0x7ff)+appId+_0x482605(0xcc5),_0x2790d5);try{await updateDoc(_0x372908,{'color':_0x2731ad});}catch(_0x18591a){console[_0x482605(0x3f5)](_0x482605(0xc71),_0x18591a),showMessage(_0x482605(0x9aa));}}async function renderProjects(){const _0x1e7640=_0x1cfa42,_0x41e66e=globalDashboardSettings['projectSort']||_0x1e7640(0xbc2),_0x167e05=new Set(globalDashboardSettings[_0x1e7640(0x6db)]||[]),_0x57997e=globalDashboardSettings[_0x1e7640(0x341)]||_0x1e7640(0xa82),_0x3faf26=document['getElementById']('grid-view-btn'),_0x28042e=document[_0x1e7640(0xbf1)](_0x1e7640(0x74b));_0x3faf26[_0x1e7640(0xe06)][_0x1e7640(0xde5)](_0x1e7640(0x94c),_0x57997e===_0x1e7640(0xa82)),_0x28042e[_0x1e7640(0xe06)][_0x1e7640(0xde5)](_0x1e7640(0x94c),_0x57997e===_0x1e7640(0xc38)),document[_0x1e7640(0xbf1)](_0x1e7640(0x514))[_0x1e7640(0x49f)]=_0x41e66e;const _0x2cfc59=document[_0x1e7640(0xbf1)](_0x1e7640(0x8a8))[_0x1e7640(0x49f)][_0x1e7640(0xd64)]();let _0x28effc=allProjects[_0x1e7640(0x275)](_0x494c03=>_0x494c03[_0x1e7640(0x19e)][_0x1e7640(0xd64)]()[_0x1e7640(0x1ef)](_0x2cfc59));const _0xecf323=_0x28effc[_0x1e7640(0x275)](_0x426e47=>_0x167e05[_0x1e7640(0x27e)](_0x426e47['id'])),_0x459561=_0x28effc[_0x1e7640(0x275)](_0x534e5d=>!_0x167e05[_0x1e7640(0x27e)](_0x534e5d['id'])),_0x2c463e=(_0x5abb8d,_0x1aef9e)=>{const _0x2512f2=_0x1e7640;switch(_0x41e66e){case'name_asc':return _0x5abb8d[_0x2512f2(0x19e)][_0x2512f2(0x7e5)](_0x1aef9e[_0x2512f2(0x19e)],'th');case _0x2512f2(0x48f):return _0x1aef9e[_0x2512f2(0x19e)][_0x2512f2(0x7e5)](_0x5abb8d['projectName'],'th');case _0x2512f2(0xbde):return new Date(_0x5abb8d['createdAt'])-new Date(_0x1aef9e['createdAt']);default:return new Date(_0x1aef9e[_0x2512f2(0xc73)])-new Date(_0x5abb8d['createdAt']);}};_0xecf323['sort'](_0x2c463e),_0x459561['sort'](_0x2c463e);const _0x54fded=[..._0xecf323,..._0x459561],_0x5c6f17=globalDashboardSettings['projectOrder']||[];_0x5c6f17[_0x1e7640(0x26d)]>0x0&&_0x57997e===_0x1e7640(0xa82)&&_0x54fded['sort']((_0x3a7fee,_0x31b755)=>{const _0x352088=_0x1e7640,_0x317a4d=_0x5c6f17[_0x352088(0x326)](_0x3a7fee['id']),_0x47247e=_0x5c6f17[_0x352088(0x326)](_0x31b755['id']);if(_0x317a4d===-0x1)return 0x1;if(_0x47247e===-0x1)return-0x1;return _0x317a4d-_0x47247e;});const _0x1a0898={};await Promise['all'](_0x54fded[_0x1e7640(0x469)](async _0x250adf=>{const _0x1c0783=_0x1e7640,_0x230e30=query(collection(db,'artifacts/'+appId+_0x1c0783(0x254)),where(_0x1c0783(0x1cf),'==',_0x250adf['id'])),_0x30a171=await getDocs(_0x230e30);_0x1a0898[_0x250adf['id']]=_0x30a171['size'];}));const _0x59dd90=document[_0x1e7640(0xbf1)](_0x1e7640(0x235));let _0x47ee40='';if(_0x57997e==='grid'){_0x59dd90[_0x1e7640(0xa1e)]=_0x1e7640(0xb02);if(starredQuizzes['length']>0x0&&_0x2cfc59===''){const _0x58323d=starredQuizzes['map'](_0x475362=>{const _0x56f128=_0x1e7640,_0x25cf8d=allProjects[_0x56f128(0x633)](_0x2b4571=>_0x2b4571['id']===_0x475362['projectId']);return{..._0x475362,'projectName':_0x25cf8d?_0x25cf8d[_0x56f128(0x19e)]:'N/A'};});_0x47ee40+=_0x1e7640(0x3b3)+_0x58323d[_0x1e7640(0x469)](_0x4d2dfd=>_0x1e7640(0x28d)+_0x4d2dfd[_0x1e7640(0x3b7)]+'\x22>'+_0x4d2dfd[_0x1e7640(0x3b7)]+_0x1e7640(0xacf)+_0x4d2dfd[_0x1e7640(0x19e)]+_0x1e7640(0xbfc)+_0x4d2dfd[_0x1e7640(0x19e)]+_0x1e7640(0xb6c))[_0x1e7640(0x4ce)]('')+_0x1e7640(0xd85)+starredQuizzes[_0x1e7640(0x26d)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x54fded[_0x1e7640(0xdac)](_0x479323=>{const _0xb72a69=_0x1e7640,_0x371796=_0x1a0898[_0x479323['id']]??0x0,_0x3fae32=_0x167e05[_0xb72a69(0x27e)](_0x479323['id']),_0x541935=_0x479323[_0xb72a69(0xd66)]||_0xb72a69(0x655),_0x297a22=parseInt(_0x541935[_0xb72a69(0xc97)](0x1,0x3),0x10)*0.299+parseInt(_0x541935['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x541935[_0xb72a69(0xc97)](0x5,0x7),0x10)*0.114<0xba,_0xf13914=_0x297a22?_0xb72a69(0xdf6):_0xb72a69(0x29d),_0x39930e=_0x297a22?'text-gray-200':_0xb72a69(0x726);_0x47ee40+=_0xb72a69(0xc3f)+(_0x3fae32?_0xb72a69(0xb13):_0xb72a69(0xd31))+_0xb72a69(0x828)+_0x541935+_0xb72a69(0xe1c)+_0x479323['id']+_0xb72a69(0x50e)+_0x479323['id']+_0xb72a69(0xa4c)+(_0x297a22?_0xb72a69(0xdab):_0xb72a69(0x4ac))+_0xb72a69(0x8cd)+_0x479323['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x297a22?_0xb72a69(0xdab):_0xb72a69(0x4ac))+_0xb72a69(0x823)+(_0x3fae32?_0x297a22?_0xb72a69(0x718):'text-indigo-600':'')+_0xb72a69(0xa5c)+_0x479323['id']+_0xb72a69(0xb2c)+_0xf13914+_0xb72a69(0xafd)+_0x479323['projectName']+_0xb72a69(0x728)+_0x39930e+_0xb72a69(0x7a0)+new Date(_0x479323[_0xb72a69(0xc73)])[_0xb72a69(0xa14)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x297a22?_0xb72a69(0x2a7):_0xb72a69(0x6fd))+_0xb72a69(0x49b)+_0x371796+_0xb72a69(0x946)+_0x479323['id']+_0xb72a69(0x887)+_0x479323[_0xb72a69(0x19e)]+_0xb72a69(0x995)+(_0x297a22?'text-red-300\x20hover:text-red-100':_0xb72a69(0x298))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x59dd90[_0x1e7640(0xa1e)]=_0x1e7640(0xc05),starredQuizzes['length']>0x0&&_0x2cfc59===''&&(_0x47ee40+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x1e7640(0x26d)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x47ee40+=_0x1e7640(0x3f0),_0x54fded[_0x1e7640(0xdac)](_0x88d7fb=>{const _0x1bb177=_0x1e7640,_0x84f4ba=_0x1a0898[_0x88d7fb['id']]??0x0,_0x391596=_0x167e05[_0x1bb177(0x27e)](_0x88d7fb['id']);_0x47ee40+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x88d7fb[_0x1bb177(0xd66)]||'#E5E7EB')+_0x1bb177(0x929)+_0x88d7fb['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x88d7fb[_0x1bb177(0x19e)]+_0x1bb177(0x32b)+_0x84f4ba+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x88d7fb[_0x1bb177(0xc73)])['toLocaleString'](_0x1bb177(0x1d9))+_0x1bb177(0x364)+_0x88d7fb['id']+_0x1bb177(0x505)+(_0x391596?_0x1bb177(0xb1a):'')+_0x1bb177(0x61e)+_0x88d7fb['id']+_0x1bb177(0x887)+_0x88d7fb['projectName']+_0x1bb177(0xb34);});projectList[_0x1e7640(0xcf3)]=_0x47ee40,noProjectsMsg[_0x1e7640(0xe06)][_0x1e7640(0xde5)]('hidden',_0x47ee40[_0x1e7640(0x26d)]>0x0);}document['getElementById'](_0x1cfa42(0x830))['addEventListener'](_0x1cfa42(0x67d),async()=>{const _0x4f2bec=_0x1cfa42,_0x389e9c=document['getElementById'](_0x4f2bec(0x40b)),_0x31fbf0=_0x389e9c[_0x4f2bec(0x49f)][_0x4f2bec(0xab6)]();if(!_0x31fbf0){showMessage(_0x4f2bec(0x6f8));return;}try{const _0x17d121=doc(collection(db,_0x4f2bec(0x7ff)+appId+'/public/data/projects'));await setDoc(_0x17d121,{'projectName':_0x31fbf0,'students':[],'settings':{'resultsDisplay':_0x4f2bec(0x2ff),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4f2bec(0xade),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4f2bec(0x5c8)]()}),_0x389e9c[_0x4f2bec(0x49f)]='',createProjectModal[_0x4f2bec(0xe06)]['add'](_0x4f2bec(0xa93)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x4693bb){console[_0x4f2bec(0x3f5)](_0x4f2bec(0xc88),_0x4693bb),showMessage(_0x4f2bec(0x8c2));}}),projectList[_0x1cfa42(0x4ef)](_0x1cfa42(0x67d),async _0x41313c=>{const _0x49c076=_0x1cfa42,_0x4cb395=_0x41313c[_0x49c076(0xa8b)][_0x49c076(0xd59)](_0x49c076(0x784)),_0x3f2685=_0x41313c[_0x49c076(0xa8b)][_0x49c076(0xd59)](_0x49c076(0x573)),_0x36a6ec=_0x41313c[_0x49c076(0xa8b)][_0x49c076(0xd59)]('.pin-project-btn'),_0x28ff35=_0x41313c[_0x49c076(0xa8b)][_0x49c076(0xd59)](_0x49c076(0x6f2));if(_0x36a6ec){const _0x45b233=_0x36a6ec['dataset']['id'],_0x5b2b50=doc(db,_0x49c076(0xdb5),_0x49c076(0xb9c)),_0x106d0f=globalDashboardSettings[_0x49c076(0x6db)];let _0x468447;_0x106d0f[_0x49c076(0x1ef)](_0x45b233)?_0x468447=_0x106d0f['filter'](_0x42ec4e=>_0x42ec4e!==_0x45b233):_0x468447=[..._0x106d0f,_0x45b233];try{await setDoc(_0x5b2b50,{'pinnedProjects':_0x468447},{'merge':!![]});}catch(_0xc98bc5){console[_0x49c076(0x3f5)](_0x49c076(0x35a),_0xc98bc5),showMessage(_0x49c076(0x5bf));}}else{if(_0x28ff35){const _0x440db7=_0x28ff35['dataset']['id'];showColorPalette(_0x28ff35,_0x440db7);}else{if(_0x4cb395){const _0x1a28ee=_0x4cb395[_0x49c076(0x2b9)]['id'];_0x1a28ee==='starred-project'?showStarredProjectView():(currentProjectId=_0x1a28ee,await loadProjectDetails(currentProjectId),showView(_0x49c076(0x80f)));}else{if(_0x3f2685){const _0x385e08=_0x3f2685[_0x49c076(0x2b9)]['id'],_0x54737a=_0x3f2685[_0x49c076(0x2b9)][_0x49c076(0x372)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x54737a+_0x49c076(0xdbe),()=>handleDeleteProject(_0x385e08));}}}}}),projectList[_0x1cfa42(0x4ef)](_0x1cfa42(0x264),_0x3c1c7f=>{const _0x5077c5=_0x1cfa42,_0x1b1808=_0x3c1c7f[_0x5077c5(0xa8b)][_0x5077c5(0xd59)](_0x5077c5(0x90a));_0x1b1808&&_0x1b1808['classList'][_0x5077c5(0xd5c)](_0x5077c5(0xc53));}),projectList['addEventListener'](_0x1cfa42(0x7b9),_0x211a50=>{const _0x5009b6=_0x1cfa42,_0x112eba=_0x211a50[_0x5009b6(0xa8b)][_0x5009b6(0xd59)](_0x5009b6(0x90a));_0x112eba&&_0x112eba[_0x5009b6(0xe06)]['remove'](_0x5009b6(0xc53));}),projectList[_0x1cfa42(0x4ef)](_0x1cfa42(0xb81),_0x28860c=>{const _0x3d33d6=_0x1cfa42;_0x28860c[_0x3d33d6(0x1a1)]();const _0x11e54c=document['querySelector'](_0x3d33d6(0xc9d));if(!_0x11e54c)return;const _0x3f3d6c=getDragAfterElement(projectList,_0x28860c[_0x3d33d6(0xa62)]);_0x3f3d6c==null?projectList['appendChild'](_0x11e54c):projectList[_0x3d33d6(0x7d6)](_0x11e54c,_0x3f3d6c);}),projectList['addEventListener'](_0x1cfa42(0xc1b),_0x2262ad=>{const _0x478a80=_0x1cfa42;_0x2262ad[_0x478a80(0x1a1)]();const _0x5cf02e=[...projectList[_0x478a80(0x218)](_0x478a80(0xbf2))][_0x478a80(0x469)](_0xb1688b=>_0xb1688b[_0x478a80(0x2b9)]['id']);saveProjectOrder(_0x5cf02e);});function renderBehaviorLog(_0xe492fe){const _0x5712e1=_0x1cfa42,_0x1e8b52=document['getElementById'](_0x5712e1(0x17b));if(!_0x1e8b52)return;const _0x1812ed=_0xe492fe[_0x5712e1(0x275)](_0x211ef9=>_0x211ef9[_0x5712e1(0x6d4)]&&_0x211ef9['behaviorLog'][_0x5712e1(0x26d)]>0x0);if(_0x1812ed['length']===0x0){_0x1e8b52[_0x5712e1(0xcf3)]=_0x5712e1(0x3e1);return;}let _0x3ae1c4='';_0x1812ed['forEach'](_0x2f6356=>{const _0x1258d7=_0x5712e1;_0x3ae1c4+=_0x1258d7(0xa2a)+_0x2f6356[_0x1258d7(0x8e0)]+_0x1258d7(0x471),_0x2f6356[_0x1258d7(0x6d4)][_0x1258d7(0x712)]((_0x29c708,_0x593c25)=>new Date(_0x593c25['timestamp'])-new Date(_0x29c708[_0x1258d7(0x48a)]))[_0x1258d7(0xdac)](_0x3620c8=>{const _0x3c39d7=_0x1258d7,_0x2fc81b=new Date(_0x3620c8[_0x3c39d7(0x48a)])[_0x3c39d7(0x5f8)](_0x3c39d7(0x1d9),{'dateStyle':_0x3c39d7(0x6f4),'timeStyle':_0x3c39d7(0x7a1)});_0x3ae1c4+=_0x3c39d7(0x8c1)+_0x3620c8[_0x3c39d7(0x3e9)]+_0x3c39d7(0x3e5)+_0x2fc81b+_0x3c39d7(0x57e);}),_0x3ae1c4+=_0x1258d7(0xa2e);}),_0x1e8b52[_0x5712e1(0xcf3)]=_0x3ae1c4;}function getDragAfterElement(_0x575c11,_0xc1c4c){const _0x20c98a=_0x1cfa42,_0x3b764c=[..._0x575c11['querySelectorAll'](_0x20c98a(0x583))];return _0x3b764c[_0x20c98a(0xdbd)]((_0x1fe13f,_0x56ef9d)=>{const _0x5bdc5c=_0x20c98a,_0x11d9ed=_0x56ef9d['getBoundingClientRect'](),_0x457397=_0xc1c4c-_0x11d9ed['top']-_0x11d9ed['height']/0x2;return _0x457397<0x0&&_0x457397>_0x1fe13f[_0x5bdc5c(0x4a0)]?{'offset':_0x457397,'element':_0x56ef9d}:_0x1fe13f;},{'offset':Number[_0x20c98a(0x70d)]})[_0x20c98a(0xa5e)];}async function saveProjectOrder(_0x5cc056){const _0x2285ee=_0x1cfa42,_0x63f4f1=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x63f4f1,{'projectOrder':_0x5cc056},{'merge':!![]});}catch(_0x470c0f){console[_0x2285ee(0x3f5)](_0x2285ee(0xa1d),_0x470c0f),showMessage(_0x2285ee(0x683));}}async function logBehaviorEvent(_0x55301e,_0x1c3ee8={}){const _0x59c1c3=_0x1cfa42;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x59c1c3(0x7ac)](_0x59c1c3(0x8da));return;}const _0xa40b6=doc(db,_0x59c1c3(0x7ff)+appId+_0x59c1c3(0x2a9)+currentQuizData['id']+_0x59c1c3(0xe18),currentStudentName),_0x40bf4f={'event':_0x55301e,'timestamp':new Date()[_0x59c1c3(0x5c8)](),..._0x1c3ee8};try{await updateDoc(_0xa40b6,{'behaviorLog':arrayUnion(_0x40bf4f)}),console[_0x59c1c3(0xc15)](_0x59c1c3(0x169)+currentStudentName+'\x20สำเร็จ');}catch(_0xcb417f){_0xcb417f[_0x59c1c3(0x88b)]===_0x59c1c3(0x81a)?console[_0x59c1c3(0x7ac)](_0x59c1c3(0x90e)+currentStudentName+_0x59c1c3(0x870)):console[_0x59c1c3(0x3f5)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0xcb417f);}}function getScoreTier(_0x2065b9,_0x4fd90e){const _0x282528=_0x1cfa42;if(_0x4fd90e===0x0){if(_0x2065b9===0x0)return{'text':_0x282528(0x1ff),'icon':'⏳'};return{'text':'(พยายามอยู่)','icon':'😥'};}const _0x581e21=_0x2065b9/(_0x4fd90e===0x0?0x1:_0x4fd90e);if(_0x581e21===0x1)return{'text':_0x282528(0x8de),'icon':'👑'};if(_0x581e21>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x581e21>=0.4)return{'text':_0x282528(0x84e),'icon':'🏃'};return{'text':'(พยายามอยู่)','icon':'😥'};}function calculateMeanAndStdDev(_0x502dd5){const _0x191e3c=_0x1cfa42;if(_0x502dd5[_0x191e3c(0x26d)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4ea25c=_0x502dd5['reduce']((_0x7c4c05,_0x51af74)=>_0x7c4c05+_0x51af74,0x0)/_0x502dd5[_0x191e3c(0x26d)];if(_0x502dd5['length']===0x1)return{'mean':_0x4ea25c,'stdDev':0x0};const _0x30c0ff=Math[_0x191e3c(0xcc7)](_0x502dd5[_0x191e3c(0x469)](_0x1523e8=>Math[_0x191e3c(0x2ad)](_0x1523e8-_0x4ea25c,0x2))['reduce']((_0x1ee87c,_0x22ee7a)=>_0x1ee87c+_0x22ee7a,0x0)/(_0x502dd5[_0x191e3c(0x26d)]-0x1));return{'mean':_0x4ea25c,'stdDev':_0x30c0ff};}function calculateZScore(_0x1dd9be,_0x4849b1,_0x388c47){if(_0x388c47===0x0)return 0x0;return(_0x1dd9be-_0x4849b1)/_0x388c47;}function calculateTScore(_0x196bf6){return 0xa*_0x196bf6+0x32;}function showStarredProjectView(){const _0x3154f7=_0x1cfa42;currentProjectId=_0x3154f7(0x4e4),currentProjectData=null,projectTitle[_0x3154f7(0x617)]=_0x3154f7(0xa70),projectIdDisplay[_0x3154f7(0x617)]=_0x3154f7(0x225),showView('project-detail'),manageTab[_0x3154f7(0xe06)][_0x3154f7(0xd5c)]('hidden'),leaderboardTab[_0x3154f7(0xe06)]['add'](_0x3154f7(0xa93)),switchProjectTab(_0x3154f7(0xbdc)),renderQuizzes();}async function loadProjectDetails(_0x63065a){const _0x4d0f29=_0x1cfa42,_0x4a7af4=doc(db,_0x4d0f29(0x7ff)+appId+_0x4d0f29(0xcc5),_0x63065a),_0x3fbeff=await getDoc(_0x4a7af4);if(_0x3fbeff[_0x4d0f29(0x2b1)]()){manageTab['classList']['remove'](_0x4d0f29(0xa93)),leaderboardTab['classList'][_0x4d0f29(0xb55)](_0x4d0f29(0xa93)),currentProjectData=_0x3fbeff[_0x4d0f29(0x934)](),projectTitle[_0x4d0f29(0x617)]=currentProjectData['projectName'],projectIdDisplay[_0x4d0f29(0x617)]=_0x63065a;const _0x412131=currentProjectData[_0x4d0f29(0x607)]||{};document['getElementById'](_0x4d0f29(0x763))[_0x4d0f29(0x49f)]=_0x412131[_0x4d0f29(0x23d)]||_0x4d0f29(0xade);const _0x4ffa8e=document['getElementById'](_0x4d0f29(0x75d));_0x4ffa8e[_0x4d0f29(0x51f)]=_0x412131['showInStudentDashboard']!==![];const _0x46a5fb=document[_0x4d0f29(0xbf1)](_0x4d0f29(0x420)),_0x465b2e=document[_0x4d0f29(0xbf1)](_0x4d0f29(0x371)),_0x8cd113=document[_0x4d0f29(0xbf1)](_0x4d0f29(0xa53)),_0x352abe=_0x412131[_0x4d0f29(0xb1e)]||![];_0x46a5fb[_0x4d0f29(0x51f)]=_0x352abe,_0x8cd113['value']=_0x412131[_0x4d0f29(0x1ae)]||'',_0x465b2e[_0x4d0f29(0xe06)][_0x4d0f29(0xde5)](_0x4d0f29(0xa93),!_0x352abe),_0x46a5fb[_0x4d0f29(0x985)]=()=>{const _0x5f47e4=_0x4d0f29;_0x465b2e[_0x5f47e4(0xe06)][_0x5f47e4(0xde5)](_0x5f47e4(0xa93),!_0x46a5fb[_0x5f47e4(0x51f)]);},document[_0x4d0f29(0xbf1)](_0x4d0f29(0x19f))[_0x4d0f29(0x51f)]=_0x412131[_0x4d0f29(0x794)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x63065a),listenForProjectQuizzes(_0x63065a),listenForStudentProfiles(_0x63065a);}else showMessage('ไม่พบโปรเจค'),showView(_0x4d0f29(0xdd6));}async function handleResetProjectOrder(){const _0x1f5dff=_0x1cfa42,_0x333186=doc(db,_0x1f5dff(0xdb5),'dashboardConfig');try{await setDoc(_0x333186,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1f5dff(0xa73));}catch(_0x576262){console['error'](_0x1f5dff(0x760),_0x576262),showMessage(_0x1f5dff(0xb4f));}}async function handleTogglePinProject(_0x3d83d6){const _0x31f74c=_0x1cfa42;if(!_0x3d83d6)return;const _0x2dee7b=doc(db,_0x31f74c(0x7ff)+appId+'/public/data/projects',_0x3d83d6);try{const _0x39f349=await getDoc(_0x2dee7b);if(_0x39f349['exists']()){const _0x31d331=_0x39f349['data']()[_0x31f74c(0x90b)]||![];await updateDoc(_0x2dee7b,{'isPinned':!_0x31d331});}}catch(_0x34d12a){console[_0x31f74c(0x3f5)](_0x31f74c(0x7b4),_0x34d12a),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x2402dc){const _0x1b8098=_0x1cfa42;try{const _0x48803e=writeBatch(db),_0x455701=collection(db,_0x1b8098(0x7ff)+appId+_0x1b8098(0x254)),_0x596a54=query(_0x455701,where(_0x1b8098(0x1cf),'==',_0x2402dc)),_0x6eaae8=await getDocs(_0x596a54);for(const _0xb9e3ea of _0x6eaae8[_0x1b8098(0xd24)]){const _0x169574=collection(db,_0x1b8098(0x7ff)+appId+_0x1b8098(0x2a9)+_0xb9e3ea['id']+_0x1b8098(0xe18)),_0x4bbb3f=await getDocs(_0x169574);_0x4bbb3f[_0x1b8098(0xdac)](_0x4e06e1=>{const _0x18fae5=_0x1b8098;_0x48803e[_0x18fae5(0x24d)](_0x4e06e1['ref']);}),_0x48803e[_0x1b8098(0x24d)](_0xb9e3ea[_0x1b8098(0xa8a)]);}const _0x3aa815=collection(db,_0x1b8098(0x7ff)+appId+_0x1b8098(0xcf2)+_0x2402dc+_0x1b8098(0xb6d)),_0x2bf80b=await getDocs(_0x3aa815);_0x2bf80b[_0x1b8098(0xdac)](_0x496562=>{const _0xd1c964=_0x1b8098;_0x48803e['delete'](_0x496562[_0xd1c964(0xa8a)]);});const _0x12d9e8=doc(db,_0x1b8098(0x7ff)+appId+_0x1b8098(0xcc5),_0x2402dc);_0x48803e[_0x1b8098(0x24d)](_0x12d9e8),await _0x48803e[_0x1b8098(0x735)](),showMessage(_0x1b8098(0x7c4)),showView(_0x1b8098(0xdd6));}catch(_0x215779){console[_0x1b8098(0x3f5)](_0x1b8098(0x4dd),_0x215779),showMessage(_0x1b8098(0x75c));}}document[_0x1cfa42(0xbf1)]('save-settings-btn')[_0x1cfa42(0x4ef)](_0x1cfa42(0x67d),async()=>{const _0x24b600=_0x1cfa42;if(!currentProjectId)return;const _0x44bb65={'defaultNumQuestions':parseInt(document[_0x24b600(0xbf1)](_0x24b600(0x979))['value']),'defaultNumChoices':parseInt(document[_0x24b600(0xbf1)]('num-choices')[_0x24b600(0x49f)]),'defaultPassingScore':parseInt(document[_0x24b600(0xbf1)](_0x24b600(0x8cf))[_0x24b600(0x49f)]),'resultsDisplay':document[_0x24b600(0xbf1)](_0x24b600(0x980))[_0x24b600(0x49f)],'shuffleSetting':document[_0x24b600(0xbf1)](_0x24b600(0x763))[_0x24b600(0x49f)],'timerMode':document['getElementById'](_0x24b600(0x8e4))[_0x24b600(0x49f)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x24b600(0x49f)]),'isConfidenceScoringEnabled':document[_0x24b600(0xbf1)](_0x24b600(0x19f))[_0x24b600(0x51f)],'confidenceMode':document[_0x24b600(0xbf1)]('confidence-mode-select')['value']};try{const _0x222bb8=doc(db,'artifacts/'+appId+_0x24b600(0xcc5),currentProjectId);await updateDoc(_0x222bb8,{'settings':_0x44bb65}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x33f145){console[_0x24b600(0x3f5)]('Error\x20saving\x20settings:',_0x33f145),showMessage(_0x24b600(0xc33));}});function listenForStudents(_0x248aba){const _0x43c512=_0x1cfa42,_0x3a77a6=doc(db,'artifacts/'+appId+_0x43c512(0xcc5),_0x248aba);unsubscribeStudentsListener=onSnapshot(_0x3a77a6,_0x4efc6f=>{const _0x1793b4=_0x43c512;if(_0x4efc6f[_0x1793b4(0x2b1)]()){const _0x12052d=_0x4efc6f['data']();currentProjectData=_0x12052d,renderStudentList(_0x12052d[_0x1793b4(0xb22)]||[]);}});}function renderStudentList(_0x1855ec){const _0x13619f=_0x1cfa42,_0xa69e91=document[_0x13619f(0xbf1)](_0x13619f(0x997));_0x1855ec[_0x13619f(0x26d)]===0x0?(studentList[_0x13619f(0xcf3)]=_0x13619f(0xc85),_0xa69e91[_0x13619f(0xe06)][_0x13619f(0xd5c)](_0x13619f(0xa93))):(studentList[_0x13619f(0xcf3)]=_0x1855ec[_0x13619f(0x469)](_0x2500c8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2500c8+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x2500c8+_0x13619f(0x4bb))[_0x13619f(0x4ce)](''),_0xa69e91[_0x13619f(0xe06)][_0x13619f(0xb55)](_0x13619f(0xa93)));}document[_0x1cfa42(0xbf1)](_0x1cfa42(0x99c))['addEventListener']('click',async()=>{const _0x5d4e01=_0x1cfa42;if(!currentProjectId)return;const _0x4c630c=document[_0x5d4e01(0xbf1)](_0x5d4e01(0xc3b)),_0x3994aa=_0x4c630c[_0x5d4e01(0x49f)][_0x5d4e01(0xab6)]();if(!_0x3994aa){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x12ecae=_0x3994aa[_0x5d4e01(0x557)]('\x0a')[_0x5d4e01(0x469)](_0x29f80f=>_0x29f80f[_0x5d4e01(0xab6)]())['filter'](_0x590e7d=>_0x590e7d);if(_0x12ecae[_0x5d4e01(0x26d)]===0x0)return;try{const _0x4dc039=doc(db,_0x5d4e01(0x7ff)+appId+_0x5d4e01(0xcc5),currentProjectId),_0x394144=await getDoc(_0x4dc039);if(_0x394144[_0x5d4e01(0x2b1)]()){const _0x32b0cf=_0x394144[_0x5d4e01(0x934)]()[_0x5d4e01(0xb22)]||[],_0x34fd3e=[...new Set([..._0x32b0cf,..._0x12ecae])];await updateDoc(_0x4dc039,{'students':_0x34fd3e}),_0x4c630c[_0x5d4e01(0x49f)]='';}}catch(_0x1576a9){console[_0x5d4e01(0x3f5)](_0x5d4e01(0xd36),_0x1576a9),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x4d9618){const _0x3e51c7=_0x1cfa42,_0x5ad21e=document[_0x3e51c7(0xbf1)](_0x3e51c7(0xcac)),_0x3f907f=document[_0x3e51c7(0xbf1)](_0x3e51c7(0x1b8)),_0x5c257b=_0x5ad21e[_0x3e51c7(0x19c)]('h3'),_0xd515e5=document['getElementById'](_0x3e51c7(0x7e9)),_0x513ce2=document[_0x3e51c7(0xbf1)](_0x3e51c7(0x5a5));_0x5c257b[_0x3e51c7(0x617)]=_0x3e51c7(0x722),_0x3f907f[_0x3e51c7(0xcf3)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0xd515e5[_0x3e51c7(0x617)]='ยืนยันการจับคู่',_0x5ad21e[_0x3e51c7(0xe06)][_0x3e51c7(0xb55)](_0x3e51c7(0xa93));const _0x4e470a=allQuizzes[_0x3e51c7(0x275)](_0x1711f=>_0x1711f['id']!==_0x4d9618);_0x4e470a['length']===0x0?(_0x3f907f['innerHTML']=_0x3e51c7(0xb70),_0xd515e5[_0x3e51c7(0x635)]=!![]):(_0x3f907f['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x4e470a[_0x3e51c7(0x469)](_0x55a11c=>_0x3e51c7(0x7ce)+_0x55a11c['id']+'\x22>'+_0x55a11c['topic']+_0x3e51c7(0x224))[_0x3e51c7(0x4ce)](''),_0xd515e5[_0x3e51c7(0x635)]=![]);const _0x1ebce8=async()=>{const _0x6c398d=_0x3e51c7,_0x3beff8=_0x3f907f['value'];if(!_0x3beff8){showMessage(_0x6c398d(0xd3d));return;}_0xd515e5[_0x6c398d(0x635)]=!![],_0xd515e5[_0x6c398d(0x617)]=_0x6c398d(0xd21);try{const _0x152810=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4d9618),_0x11800a=doc(db,'artifacts/'+appId+_0x6c398d(0x254),_0x3beff8),_0x384060=writeBatch(db);_0x384060[_0x6c398d(0x942)](_0x152810,{'pairedQuizId':_0x3beff8}),_0x384060['update'](_0x11800a,{'pairedQuizId':_0x4d9618}),await _0x384060[_0x6c398d(0x735)](),showMessage(_0x6c398d(0x263)),_0x5ad21e[_0x6c398d(0xe06)][_0x6c398d(0xd5c)](_0x6c398d(0xa93));}catch(_0x2d0e05){console[_0x6c398d(0x3f5)](_0x6c398d(0x7cb),_0x2d0e05),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x5c257b[_0x6c398d(0x617)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xd515e5[_0x6c398d(0x617)]='ย้าย',_0xd515e5[_0x6c398d(0x635)]=![],_0xd515e5['removeEventListener'](_0x6c398d(0x67d),_0x1ebce8),_0x513ce2['removeEventListener'](_0x6c398d(0x67d),_0x1e7eba);}},_0x1e7eba=()=>{const _0x1719b7=_0x3e51c7;_0x5ad21e[_0x1719b7(0xe06)][_0x1719b7(0xd5c)](_0x1719b7(0xa93)),_0x5c257b[_0x1719b7(0x617)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xd515e5['textContent']='ย้าย',_0xd515e5[_0x1719b7(0x85c)](_0x1719b7(0x67d),_0x1ebce8),_0x513ce2[_0x1719b7(0x85c)](_0x1719b7(0x67d),_0x1e7eba);};_0xd515e5[_0x3e51c7(0x4ef)](_0x3e51c7(0x67d),_0x1ebce8),_0x513ce2[_0x3e51c7(0x4ef)](_0x3e51c7(0x67d),_0x1e7eba);}function handleDeleteStudent(_0x37d607){const _0xc765e3=_0x1cfa42;showConfirmation(_0xc765e3(0x4cf)+_0x37d607+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x42a569=_0xc765e3;if(!currentProjectId||!currentProjectData)return;const _0x56d4cd=currentProjectData[_0x42a569(0xb22)]['filter'](_0x49de36=>_0x49de36!==_0x37d607);try{const _0x485261=doc(db,_0x42a569(0x7ff)+appId+_0x42a569(0xcc5),currentProjectId),_0x2efebf=doc(db,'artifacts/'+appId+_0x42a569(0xcf2)+currentProjectId+_0x42a569(0xb6d),_0x37d607),_0x5dee38=writeBatch(db);_0x5dee38[_0x42a569(0x942)](_0x485261,{'students':_0x56d4cd}),_0x5dee38[_0x42a569(0x24d)](_0x2efebf),await _0x5dee38[_0x42a569(0x735)]();}catch(_0x3898a0){console['error']('Error\x20deleting\x20student:',_0x3898a0),showMessage(_0x42a569(0xc6d));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x42ce36=_0x5ec1;if(!currentProjectId)return;try{const _0x146b5b=doc(db,'artifacts/'+appId+_0x42ce36(0xcc5),currentProjectId),_0x2ba3e9=collection(db,_0x42ce36(0x7ff)+appId+_0x42ce36(0xcf2)+currentProjectId+_0x42ce36(0xb6d)),_0x5024cd=await getDocs(_0x2ba3e9),_0x922051=writeBatch(db);_0x922051[_0x42ce36(0x942)](_0x146b5b,{'students':[]}),_0x5024cd['forEach'](_0xb33c1c=>_0x922051[_0x42ce36(0x24d)](_0xb33c1c[_0x42ce36(0xa8a)])),await _0x922051['commit']();}catch(_0x141780){console[_0x42ce36(0x3f5)]('Error\x20deleting\x20all\x20students:',_0x141780),showMessage(_0x42ce36(0xdcf));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0xffd1f5){const _0x16184a=_0x1cfa42,_0xec5b4e=document[_0x16184a(0xbf1)](_0x16184a(0x743)),_0x3541f0=document[_0x16184a(0xbf1)]('file-topics-list');_0xec5b4e['classList'][_0x16184a(0xb55)](_0x16184a(0xa93)),_0x3541f0[_0x16184a(0xcf3)]=_0x16184a(0x67e);try{const _0x43e20a=new FileReader();_0x43e20a[_0x16184a(0xa9a)](_0xffd1f5),await new Promise((_0xff7528,_0x5d2515)=>{const _0x596584=_0x16184a;_0x43e20a['onload']=()=>{const _0x267416=_0x5ec1;fileDataBase64=_0x43e20a[_0x267416(0xc26)][_0x267416(0x557)](',')[0x1],fileMimeType=_0xffd1f5['type'],_0xff7528();},_0x43e20a[_0x596584(0x3bb)]=_0x4ea994=>_0x5d2515(_0x4ea994);});if(!fileDataBase64)throw new Error(_0x16184a(0x590));const _0x27309a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2a5633={'type':_0x16184a(0xc68),'properties':{'topics':{'type':_0x16184a(0x1d5),'items':{'type':'STRING'}}},'required':[_0x16184a(0xa91)]},_0xe3107a=[{'text':_0x27309a},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x484881=await handleApiCall(_0xe3107a,_0x16184a(0x756),_0x2a5633,null,![]);if(_0x484881&&_0x484881[_0x16184a(0xa91)])extractedFileTopics=_0x484881[_0x16184a(0xa91)],renderFileTopics();else throw new Error(_0x16184a(0x374));}catch(_0x15fc50){console['error'](_0x16184a(0x73a),_0x15fc50),_0x3541f0[_0x16184a(0xcf3)]=_0x16184a(0xb21)+_0x15fc50[_0x16184a(0x495)]+_0x16184a(0x1e3);}}function renderFileTopics(){const _0x10c292=_0x1cfa42,_0x70c703=document[_0x10c292(0xbf1)]('file-topics-list');if(extractedFileTopics[_0x10c292(0x26d)]===0x0){_0x70c703[_0x10c292(0xcf3)]=_0x10c292(0x94d);return;}_0x70c703['innerHTML']=extractedFileTopics[_0x10c292(0x469)](_0x1abde6=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x1abde6+_0x10c292(0xc74)+escape(_0x1abde6)+_0x10c292(0x4cd)+escape(_0x1abde6)+_0x10c292(0xbaf))[_0x10c292(0x4ce)]('');}async function generateHybridQuizForTopic(_0x215152){const _0x46946c=_0x1cfa42,_0x5a4e63=parseInt(document['getElementById'](_0x46946c(0x979))[_0x46946c(0x49f)],0xa),_0x3a43da=document[_0x46946c(0xbf1)]('quiz-type-select')[_0x46946c(0x49f)],_0x8467b0=document[_0x46946c(0xbf1)](_0x46946c(0x67f))['value'],_0x27d18a=document[_0x46946c(0xbf1)]('include-images-checkbox')[_0x46946c(0x51f)],_0x1cf681=_0x27d18a?_0x46946c(0x5b0):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x19e490='',_0x462746;const _0x396caa={'type':_0x46946c(0xc68),'properties':{'questionText':{'type':_0x46946c(0xe19)},'options':{'type':_0x46946c(0x1d5),'items':{'type':_0x46946c(0xe19)}},'correctAnswerIndex':{'type':_0x46946c(0xba6)},'explanation':{'type':_0x46946c(0xe19)},'imageCode':{'type':'STRING'}},'required':[_0x46946c(0x324),_0x46946c(0x9e4),'correctAnswerIndex','explanation']},_0x44f46a={'type':'OBJECT','properties':{'questionText':{'type':_0x46946c(0xe19)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x46946c(0xe19)}},'required':['questionText',_0x46946c(0x59b),'explanation']},_0x57b645={'type':_0x46946c(0xc68),'properties':{'questionText':{'type':_0x46946c(0xe19)},'idealAnswer':{'type':_0x46946c(0xe19)},'explanation':{'type':_0x46946c(0xe19)},'imageCode':{'type':_0x46946c(0xe19)}},'required':[_0x46946c(0x324),_0x46946c(0x886),_0x46946c(0x582)]},_0x1a6a73={'type':'OBJECT','properties':{'questionType':{'type':_0x46946c(0xe19),'enum':[_0x46946c(0x2bf)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x46946c(0xe19)},'allResponses':{'type':_0x46946c(0x1d5),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x46946c(0xe19)}},'required':[_0x46946c(0xb83),_0x46946c(0x826),'correctResponse',_0x46946c(0xb53),_0x46946c(0x582)]};switch(_0x3a43da){case'multiple_choice':_0x19e490='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x8467b0+'\x20ตัวเลือก)',_0x462746=_0x396caa;break;case _0x46946c(0x1cb):_0x19e490=_0x46946c(0xbe9),_0x462746=_0x44f46a;break;case _0x46946c(0x30a):_0x19e490=_0x46946c(0x97c),_0x462746=_0x57b645;break;case _0x46946c(0x598):_0x19e490=_0x46946c(0x220),_0x462746=_0x1a6a73;break;case'fill_in_with_choices':_0x19e490=_0x46946c(0xa3a)+_0x8467b0+'\x20ตัวเลือก)',_0x462746=_0x396caa;break;default:_0x19e490=_0x46946c(0x688)+_0x8467b0+_0x46946c(0xa4b),_0x462746=_0x396caa;break;}const _0x31f7fa=_0x46946c(0x457),_0x4aeacd=document[_0x46946c(0xbf1)](_0x46946c(0x962)),_0x4d0276=document[_0x46946c(0xbf1)](_0x46946c(0x5b6)),_0x58e0a4=document[_0x46946c(0xbf1)](_0x46946c(0x476));document[_0x46946c(0xbf1)](_0x46946c(0xae9))[_0x46946c(0xe06)][_0x46946c(0xb55)](_0x46946c(0xa93)),_0x58e0a4[_0x46946c(0xcf3)]='',_0x4aeacd[_0x46946c(0xe06)][_0x46946c(0xb55)]('hidden'),_0x4d0276[_0x46946c(0x617)]=_0x46946c(0x5cd)+_0x215152+'\x22\x20จำนวน\x20'+_0x5a4e63+_0x46946c(0x58f);try{const _0x44ea87=_0x46946c(0x897),_0x75887f=_0x46946c(0x8ac)+_0x215152+_0x46946c(0x1de)+_0x5a4e63+_0x46946c(0x73e)+_0x215152+_0x46946c(0x4cc)+_0x5a4e63+_0x46946c(0xc10)+_0x1cf681+_0x46946c(0x86f)+_0x19e490+_0x46946c(0x6e4)+_0x31f7fa+_0x46946c(0xd07)+_0x44ea87+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x46946c(0xda5),_0x4dc0b8={'type':_0x46946c(0xc68),'properties':{'topic':{'type':_0x46946c(0xe19)},'questions':{'type':_0x46946c(0x1d5),'items':_0x462746}},'required':[_0x46946c(0x3b7),_0x46946c(0xb0f)]},_0x2e6334=[{'text':_0x75887f},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x2e6334,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x215152+_0x46946c(0x2ac),_0x4dc0b8);}catch(_0x4aecd3){console[_0x46946c(0x3f5)](_0x46946c(0x16e),_0x4aecd3),showMessage(_0x46946c(0x699)+_0x4aecd3['message']),_0x58e0a4[_0x46946c(0xcf3)]=_0x46946c(0x221);}finally{_0x4aeacd[_0x46946c(0xe06)][_0x46946c(0xd5c)](_0x46946c(0xa93));}}async function handleGenerateFromFileClick(){const _0x4ccd44=_0x1cfa42;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0xc69da6=document['getElementById'](_0x4ccd44(0x962)),_0x51ddee=document[_0x4ccd44(0xbf1)]('loader-text'),_0x23338d=document['getElementById']('generated-quiz-container'),_0x5ec29d=document['getElementById'](_0x4ccd44(0x4d5));_0x5ec29d['disabled']=!![],document[_0x4ccd44(0xbf1)]('quiz-generation-area')[_0x4ccd44(0xe06)][_0x4ccd44(0xb55)](_0x4ccd44(0xa93)),_0x23338d[_0x4ccd44(0xcf3)]='',_0xc69da6[_0x4ccd44(0xe06)][_0x4ccd44(0xb55)]('hidden'),_0x51ddee[_0x4ccd44(0x617)]=_0x4ccd44(0x71b);try{const _0x384ed0=await new Promise((_0x2b8c28,_0x465b0e)=>{const _0x2c6542=_0x4ccd44,_0x4133dd=new FileReader();_0x4133dd[_0x2c6542(0xa9a)](selectedFile),_0x4133dd[_0x2c6542(0xe0a)]=()=>_0x2b8c28(_0x4133dd['result']['split'](',')[0x1]),_0x4133dd[_0x2c6542(0x3bb)]=_0x27ff47=>_0x465b0e(_0x27ff47);});await generateQuizFromFile(selectedFile[_0x4ccd44(0x8e8)],_0x384ed0);}catch(_0x3f4f89){console['error'](_0x4ccd44(0x5fc),_0x3f4f89),showMessage(_0x4ccd44(0x9b6)+_0x3f4f89['message']),_0xc69da6['classList']['add'](_0x4ccd44(0xa93)),_0x5ec29d[_0x4ccd44(0x635)]=![];}}function autoFormatMath(_0x34f9ee){if(typeof _0x34f9ee!=='string'||!_0x34f9ee)return _0x34f9ee;const _0x36fc49=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xec299b=_0x34f9ee['replace'](_0x36fc49,_0xa28ea1=>{return'$'+_0xa28ea1['trim']()+'$';});return _0xec299b;}function sanitizeQuizData(_0x813f9c){const _0x27b5e8=_0x1cfa42;if(!_0x813f9c||!_0x813f9c['questions'])return _0x813f9c;const _0x2a8c21={'imes':_0x27b5e8(0x77b),'div':_0x27b5e8(0x4ff)},_0x55f133=_0x4f245e=>{const _0x3e04f9=_0x27b5e8;if(typeof _0x4f245e!==_0x3e04f9(0x60a))return _0x4f245e;let _0x29ac00=_0x4f245e;for(const [_0x262629,_0xb934cb]of Object[_0x3e04f9(0xa76)](_0x2a8c21)){const _0x4790d3=new RegExp('\x5cb'+_0x262629+'\x5cb','g');_0x29ac00=_0x29ac00[_0x3e04f9(0x93c)](_0x4790d3,_0xb934cb);}return _0x29ac00=_0x29ac00['replace'](/\\\//g,_0x3e04f9(0x4ff)),_0x29ac00=_0x29ac00[_0x3e04f9(0x93c)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x3e04f9(0x93c)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x3e04f9(0x93c)](/÷/g,'\x5cdiv')[_0x3e04f9(0x93c)](/×/g,_0x3e04f9(0x77b)),_0x29ac00=_0x29ac00[_0x3e04f9(0x93c)](/(\d)(\\frac)/g,_0x3e04f9(0xd94)),_0x29ac00=autoFormatMath(_0x29ac00),_0x29ac00;};return _0x813f9c[_0x27b5e8(0x3b7)]&&(_0x813f9c[_0x27b5e8(0x3b7)]=_0x55f133(_0x813f9c['topic'])),_0x813f9c[_0x27b5e8(0xb0f)]['forEach'](_0x5483a3=>{const _0x4079b5=_0x27b5e8;_0x5483a3[_0x4079b5(0x324)]=_0x55f133(_0x5483a3[_0x4079b5(0x324)]),_0x5483a3[_0x4079b5(0x9e4)]&&(_0x5483a3[_0x4079b5(0x9e4)]=_0x5483a3[_0x4079b5(0x9e4)][_0x4079b5(0x469)](_0x55f133)),_0x5483a3['explanation']&&(_0x5483a3[_0x4079b5(0x582)]=_0x55f133(_0x5483a3[_0x4079b5(0x582)])),_0x5483a3['stem']&&(_0x5483a3[_0x4079b5(0x826)]=_0x55f133(_0x5483a3[_0x4079b5(0x826)])),_0x5483a3[_0x4079b5(0x578)]&&(_0x5483a3['correctResponse']=_0x55f133(_0x5483a3[_0x4079b5(0x578)])),_0x5483a3['allResponses']&&(_0x5483a3[_0x4079b5(0xb53)]=_0x5483a3[_0x4079b5(0xb53)][_0x4079b5(0x469)](_0x55f133));}),_0x813f9c;}const simpleMathPrompt=_0x1cfa42(0x45f);async function handleGenerateFromLink(){const _0x342679=_0x1cfa42,_0x3900a3=document['getElementById'](_0x342679(0xc1e)),_0x15b334=document[_0x342679(0xbf1)](_0x342679(0xde9)),_0x46fa08=_0x3900a3[_0x342679(0x49f)][_0x342679(0xab6)](),_0x32c917=_0x15b334[_0x342679(0x49f)][_0x342679(0xab6)]();if(!_0x46fa08){showMessage(_0x342679(0x5c1));return;}const _0x41be6e=document[_0x342679(0xbf1)]('loader'),_0x1278bc=document[_0x342679(0xbf1)](_0x342679(0x5b6)),_0x4a1d48=document['getElementById']('generated-quiz-container'),_0x2a652a=document[_0x342679(0xbf1)](_0x342679(0x23e));document[_0x342679(0xbf1)](_0x342679(0xae9))['classList'][_0x342679(0xb55)](_0x342679(0xa93)),_0x4a1d48['innerHTML']='',_0x41be6e[_0x342679(0xe06)][_0x342679(0xb55)](_0x342679(0xa93)),_0x1278bc[_0x342679(0x617)]=_0x342679(0x1c5),_0x2a652a['disabled']=!![];try{const _0x753da6='https://corsproxy.io/?'+encodeURIComponent(_0x46fa08),_0x1cabb6=await fetch(_0x753da6);if(!_0x1cabb6['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x1cabb6[_0x342679(0x657)]+')');const _0x164ab9=await _0x1cabb6['text'](),_0x536399=extractTextFromHtml(_0x164ab9);if(!_0x536399||_0x536399[_0x342679(0x26d)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x32c917,_0x536399);}catch(_0x3d2b7d){console[_0x342679(0x3f5)](_0x342679(0xad3),_0x3d2b7d),showMessage(_0x342679(0x699)+_0x3d2b7d['message']),_0x4a1d48[_0x342679(0xcf3)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x41be6e[_0x342679(0xe06)][_0x342679(0xd5c)](_0x342679(0xa93)),_0x2a652a['disabled']=![];}}function extractTextFromHtml(_0x629b2e){const _0x408751=_0x1cfa42,_0x163ed8=new DOMParser()[_0x408751(0x2dc)](_0x629b2e,_0x408751(0xa7c));return _0x163ed8[_0x408751(0x218)](_0x408751(0x677))['forEach'](_0x224478=>_0x224478[_0x408751(0xb55)]()),_0x163ed8['body']['textContent']||'';}document[_0x1cfa42(0xbf1)](_0x1cfa42(0xd16))[_0x1cfa42(0x4ef)](_0x1cfa42(0x67d),()=>{const _0x8e5b4b=_0x1cfa42,_0x495717=document[_0x8e5b4b(0xbf1)]('topic-input')[_0x8e5b4b(0x49f)][_0x8e5b4b(0xab6)]();generateQuiz(_0x495717,null);}),document[_0x1cfa42(0xbf1)](_0x1cfa42(0x1c9))[_0x1cfa42(0x4ef)]('click',()=>{const _0x5e0e61=_0x1cfa42,_0x4b4ccf=document[_0x5e0e61(0xbf1)](_0x5e0e61(0xba1))['value'][_0x5e0e61(0xab6)]();if(!_0x4b4ccf){showMessage(_0x5e0e61(0xdc1));return;}const _0x3d7f09=document['getElementById']('topic-input')[_0x5e0e61(0x49f)][_0x5e0e61(0xab6)]();generateQuiz(_0x3d7f09,_0x4b4ccf);});async function generateQuiz(_0x7daf4d,_0x5da84c,_0x3032a4=null,_0x549d72=null,_0x3ae8ff=![],_0xc45e63=null,_0xfc4374=null,_0x2c37a7=![]){const _0x5b34d2=_0x1cfa42;let _0x168997={};if(_0x3ae8ff&&blueprintPageSettings)_0x168997=blueprintPageSettings;else{const _0x3fba71=document[_0x5b34d2(0x218)](_0x5b34d2(0x902));_0x168997={'quizType':document[_0x5b34d2(0xbf1)]('quiz-type-select')[_0x5b34d2(0x49f)],'numQuestions':document[_0x5b34d2(0xbf1)](_0x5b34d2(0x979))[_0x5b34d2(0x49f)],'numChoices':document['getElementById'](_0x5b34d2(0x67f))[_0x5b34d2(0x49f)],'includeImages':document[_0x5b34d2(0xbf1)](_0x5b34d2(0xa17))[_0x5b34d2(0x51f)],'isNormalTopic':document[_0x5b34d2(0xbf1)](_0x5b34d2(0x7db))['checked'],'difficultyValue':document[_0x5b34d2(0xbf1)]('difficulty-level-select')[_0x5b34d2(0x49f)],'complexityValue':document[_0x5b34d2(0xbf1)](_0x5b34d2(0xa33))[_0x5b34d2(0x49f)],'selectedTopicNames':Array[_0x5b34d2(0xae1)](_0x3fba71)['map'](_0x1a1db7=>_0x1a1db7[_0x5b34d2(0x49f)])};}const _0x2abd20=_0x168997[_0x5b34d2(0x51a)]?'':'คณิตศาสตร์',_0x50c4c1=_0x168997[_0x5b34d2(0xcb4)]!=='auto'?_0x5b34d2(0x3d0)+_0x168997[_0x5b34d2(0xcb4)]+'\x22':'',_0x58aadb=_0x168997['complexityValue']!=='mixed'?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x168997[_0x5b34d2(0xce4)]+_0x5b34d2(0x436):'';let _0x5ea33a='';_0x168997['selectedTopicNames']&&_0x168997[_0x5b34d2(0xbd5)][_0x5b34d2(0x26d)]>0x0&&(_0x5ea33a=_0x5b34d2(0xc00)+_0x168997[_0x5b34d2(0xbd5)][_0x5b34d2(0x4ce)](',\x20')+'.');let _0x52df49='';_0x549d72&&(_0x52df49=_0x5b34d2(0x968));let _0x129e21='',_0x2d76fa='',_0x1cec82,_0x14e5e8=_0x5b34d2(0x1c1)+_0x7daf4d+'\x22';if(!_0x7daf4d&&_0x5da84c)_0x14e5e8=_0x5b34d2(0xb94);else!_0x7daf4d&&!_0x5da84c&&(_0x14e5e8=_0x5b34d2(0xaf8));const _0x2f9406={'type':'OBJECT','properties':{'questionText':{'type':_0x5b34d2(0xe19)},'options':{'type':_0x5b34d2(0x1d5),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5b34d2(0xe19)}},'required':[_0x5b34d2(0x324),_0x5b34d2(0x9e4),_0x5b34d2(0x3a3),_0x5b34d2(0x582)]},_0x3f9a03={'type':_0x5b34d2(0xc68),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x5b34d2(0xe19)},'explanation':{'type':_0x5b34d2(0xe19)},'imageCode':{'type':_0x5b34d2(0xe19)}},'required':['questionText',_0x5b34d2(0x886),_0x5b34d2(0x582)]},_0x5b69af={'type':_0x5b34d2(0xc68),'properties':{'questionText':{'type':_0x5b34d2(0xe19)},'questionType':{'type':_0x5b34d2(0xe19),'enum':['multiple_choice',_0x5b34d2(0x944)]},'options':{'type':_0x5b34d2(0x1d5),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5b34d2(0xba6)},'idealAnswer':{'type':_0x5b34d2(0xe19)},'explanation':{'type':_0x5b34d2(0xe19)},'imageCode':{'type':_0x5b34d2(0xe19)}},'required':[_0x5b34d2(0x324),_0x5b34d2(0xb83),_0x5b34d2(0x582)]},_0x5ebafe={'type':_0x5b34d2(0xc68),'properties':{'questionText':{'type':_0x5b34d2(0xe19)},'correctAnswer':{'type':_0x5b34d2(0x6b7)},'explanation':{'type':_0x5b34d2(0xe19)},'imageCode':{'type':_0x5b34d2(0xe19)}},'required':[_0x5b34d2(0x324),_0x5b34d2(0x59b),_0x5b34d2(0x582)]},_0x290bd3={'type':_0x5b34d2(0xc68),'properties':{'questionType':{'type':_0x5b34d2(0xe19),'enum':[_0x5b34d2(0x2bf)]},'stem':{'type':_0x5b34d2(0xe19)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5b34d2(0x1d5),'items':{'type':_0x5b34d2(0xe19)}},'explanation':{'type':_0x5b34d2(0xe19)},'imageCode':{'type':_0x5b34d2(0xe19)}},'required':['questionType',_0x5b34d2(0x826),_0x5b34d2(0x578),'allResponses',_0x5b34d2(0x582)]};let _0x1e527f;if(_0x3032a4!==null){const _0x28b7f3=currentQuizData[_0x5b34d2(0xb0f)][_0x3032a4][_0x5b34d2(0xb83)],_0x3ea79b=_0x168997[_0x5b34d2(0xb0e)]?_0x5b34d2(0xdee):'';_0x129e21=_0x5b34d2(0x827)+_0x14e5e8+'\x20'+_0x5ea33a+'\x20'+_0x50c4c1+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x3ea79b+'\x20'+simpleMathPrompt;if(_0x28b7f3===_0x5b34d2(0x37c))_0x1cec82=_0x2f9406;else{if(_0x28b7f3==='matching_item')_0x1cec82={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x5b34d2(0x2bf)]},'stem':{'type':_0x5b34d2(0xe19)},'correctResponse':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5b34d2(0xe19)}},'required':[_0x5b34d2(0xb83),_0x5b34d2(0x826),_0x5b34d2(0x578),_0x5b34d2(0x582)]};else _0x1cec82=_0x3f9a03;}_0x1e527f=_0x1cec82;}else{const _0x834a1b=_0x168997[_0x5b34d2(0xb0e)]?_0x5b34d2(0x5e0):'';switch(_0x168997['quizType']){case _0x5b34d2(0x37c):_0x129e21=_0x5b34d2(0x732)+_0x2abd20+'\x20'+_0x168997[_0x5b34d2(0xb5f)]+'\x20ข้อ\x20'+_0x14e5e8+'\x20'+_0x5ea33a+'\x20'+_0x50c4c1+'\x20'+_0x58aadb+'\x20'+_0x52df49+_0x5b34d2(0x666)+_0x168997[_0x5b34d2(0x16c)]+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x834a1b+'\x20'+simpleMathPrompt,_0x1cec82=_0x2f9406;break;case _0x5b34d2(0xa46):_0x129e21=_0x5b34d2(0x35c)+_0x2abd20+'\x20'+_0x168997[_0x5b34d2(0xb5f)]+_0x5b34d2(0xa09)+_0x14e5e8+'\x20'+_0x5ea33a+'\x20'+_0x50c4c1+'\x20'+_0x58aadb+'\x20'+_0x52df49+_0x5b34d2(0xd4b)+_0x168997[_0x5b34d2(0x16c)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x834a1b+'\x20'+simpleMathPrompt,_0x1cec82=_0x2f9406;break;case'fill_in_no_choices':_0x129e21=_0x5b34d2(0x35c)+_0x2abd20+'\x20'+_0x168997[_0x5b34d2(0xb5f)]+_0x5b34d2(0xa09)+_0x14e5e8+'\x20'+_0x5ea33a+'\x20'+_0x50c4c1+'\x20'+_0x58aadb+'\x20'+_0x52df49+_0x5b34d2(0xbb3)+_0x834a1b+'\x20'+simpleMathPrompt,_0x1cec82=_0x3f9a03;break;case _0x5b34d2(0x482):_0x129e21=_0x5b34d2(0x704)+_0x2abd20+'\x20'+_0x168997['numQuestions']+_0x5b34d2(0xa09)+_0x14e5e8+'\x20'+_0x5ea33a+'\x20'+_0x50c4c1+'\x20'+_0x58aadb+'\x20'+_0x52df49+_0x5b34d2(0x4ad)+_0x168997[_0x5b34d2(0x16c)]+_0x5b34d2(0x222)+_0x834a1b+'\x20'+simpleMathPrompt+'.',_0x1cec82=_0x5b69af;break;case _0x5b34d2(0x1cb):_0x129e21=_0x5b34d2(0x6ac)+_0x2abd20+'\x20'+_0x168997[_0x5b34d2(0xb5f)]+_0x5b34d2(0xa09)+_0x14e5e8+'\x20'+_0x5ea33a+'\x20'+_0x50c4c1+'\x20'+_0x58aadb+'\x20'+_0x52df49+_0x5b34d2(0x863)+_0x834a1b+'\x20'+simpleMathPrompt,_0x1cec82=_0x5ebafe;break;case _0x5b34d2(0x598):_0x129e21='สร้างชุดคำถามจับคู่'+_0x2abd20+'\x20'+_0x168997[_0x5b34d2(0xb5f)]+_0x5b34d2(0x871)+_0x14e5e8+'\x20'+_0x5ea33a+'\x20'+_0x50c4c1+'\x20'+_0x58aadb+'\x20'+_0x52df49+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x834a1b+'\x20'+simpleMathPrompt,_0x1cec82=_0x290bd3;break;}_0x1e527f={'type':_0x5b34d2(0xc68),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5b34d2(0x1d5),'items':_0x1cec82}},'required':[_0x5b34d2(0x3b7),'questions']};}const _0x33f9e4=_0x5b34d2(0x72f);_0x5da84c?(_0x2c37a7?_0x129e21='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x5da84c+_0x5b34d2(0xcd9)+_0x129e21+_0x33f9e4:_0x129e21=_0x5b34d2(0x386)+_0x5da84c+'\x22,\x20'+_0x129e21,_0x2d76fa=_0x5b34d2(0x8a3)):(_0x2c37a7&&(_0x129e21+=_0x33f9e4),_0x2d76fa=_0x5b34d2(0xd9f));let _0x6ff0e1;return _0x549d72?(_0x6ff0e1=[{'text':_0x129e21},..._0x549d72],_0x2d76fa=_0x5b34d2(0x4f1)):_0x6ff0e1=_0x129e21,handleApiCall(_0x6ff0e1,_0x2d76fa,_0x1e527f,_0x3032a4,!![],_0xc45e63,_0xfc4374);}async function generateQuizFromFile(_0x226981,_0x350889){const _0x41f6a4=_0x1cfa42,_0xeed03b=document[_0x41f6a4(0xbf1)](_0x41f6a4(0x4fc))['value'][_0x41f6a4(0xab6)](),_0xcc5016=document[_0x41f6a4(0xbf1)](_0x41f6a4(0x90d))[_0x41f6a4(0x49f)],_0x31e4d0=document['getElementById'](_0x41f6a4(0x979))[_0x41f6a4(0x49f)],_0x2d5895=document[_0x41f6a4(0xbf1)](_0x41f6a4(0x67f))['value'],_0x17e78e=document[_0x41f6a4(0xbf1)](_0x41f6a4(0xa17))[_0x41f6a4(0x51f)],_0x2c518d=document[_0x41f6a4(0xbf1)]('force-math-checkbox')[_0x41f6a4(0x51f)],_0x506386=_0x2c518d?'':_0x41f6a4(0xab1),_0x50ef78=document[_0x41f6a4(0xbf1)]('original-mode-checkbox')[_0x41f6a4(0x51f)];let _0x1c2d8c='',_0x13348f;const _0x2d96f7=_0x17e78e?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x50ef78)_0x1c2d8c=_0x41f6a4(0x442)+_0x2d96f7+'\x0a'+simpleMathPrompt+'\x0a',_0x13348f={'type':_0x41f6a4(0xc68),'properties':{'questionText':{'type':_0x41f6a4(0xe19)},'questionType':{'type':_0x41f6a4(0xe19),'enum':[_0x41f6a4(0x37c),'short_answer',_0x41f6a4(0x1cb),_0x41f6a4(0x2bf)]},'options':{'type':_0x41f6a4(0x1d5),'items':{'type':_0x41f6a4(0xe19)}},'correctAnswerIndex':{'type':_0x41f6a4(0xba6)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x41f6a4(0x6b7)},'stem':{'type':_0x41f6a4(0xe19)},'correctResponse':{'type':_0x41f6a4(0xe19)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x41f6a4(0xe19)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x41f6a4(0x582)]};else{let _0x1277e9='เกี่ยวกับหัวข้อ\x20\x22'+_0xeed03b+'\x22';!_0xeed03b&&(_0x1277e9=_0x41f6a4(0x6d9));switch(_0xcc5016){case _0x41f6a4(0x37c):_0x1c2d8c=_0x41f6a4(0x732)+_0x506386+'\x20'+_0x31e4d0+_0x41f6a4(0xa09)+_0x1277e9+_0x41f6a4(0x666)+_0x2d5895+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2d96f7+'\x20'+simpleMathPrompt,_0x13348f={'type':_0x41f6a4(0xc68),'properties':{'questionText':{'type':_0x41f6a4(0xe19)},'options':{'type':'ARRAY','items':{'type':_0x41f6a4(0xe19)}},'correctAnswerIndex':{'type':_0x41f6a4(0xba6)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x41f6a4(0xe19)}},'required':['questionText',_0x41f6a4(0x9e4),'correctAnswerIndex',_0x41f6a4(0x582)]};break;case _0x41f6a4(0xa46):_0x1c2d8c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x506386+'\x20'+_0x31e4d0+_0x41f6a4(0xa09)+_0x1277e9+_0x41f6a4(0xd4b)+_0x2d5895+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2d96f7+'\x20'+simpleMathPrompt,_0x13348f={'type':_0x41f6a4(0xc68),'properties':{'questionText':{'type':_0x41f6a4(0xe19)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x41f6a4(0xba6)},'explanation':{'type':_0x41f6a4(0xe19)},'imageCode':{'type':_0x41f6a4(0xe19)}},'required':[_0x41f6a4(0x324),_0x41f6a4(0x9e4),_0x41f6a4(0x3a3),_0x41f6a4(0x582)]};break;case'fill_in_no_choices':_0x1c2d8c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x506386+'\x20'+_0x31e4d0+_0x41f6a4(0xa09)+_0x1277e9+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x2d96f7+'\x20'+simpleMathPrompt,_0x13348f={'type':_0x41f6a4(0xc68),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x41f6a4(0xe19)},'explanation':{'type':_0x41f6a4(0xe19)},'imageCode':{'type':'STRING'}},'required':[_0x41f6a4(0x324),_0x41f6a4(0x886),_0x41f6a4(0x582)]};break;case _0x41f6a4(0x482):_0x1c2d8c=_0x41f6a4(0x704)+_0x506386+'\x20'+_0x31e4d0+'\x20ข้อ\x20'+_0x1277e9+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x2d5895+_0x41f6a4(0x49a)+_0x2d96f7+'\x20'+simpleMathPrompt+_0x41f6a4(0xb0a),_0x13348f={'type':_0x41f6a4(0xc68),'properties':{'questionText':{'type':_0x41f6a4(0xe19)},'questionType':{'type':_0x41f6a4(0xe19),'enum':[_0x41f6a4(0x37c),'short_answer']},'options':{'type':_0x41f6a4(0x1d5),'items':{'type':_0x41f6a4(0xe19)}},'correctAnswerIndex':{'type':_0x41f6a4(0xba6)},'idealAnswer':{'type':_0x41f6a4(0xe19)},'explanation':{'type':_0x41f6a4(0xe19)},'imageCode':{'type':_0x41f6a4(0xe19)}},'required':['questionText',_0x41f6a4(0xb83),'explanation']};break;case'true_false':_0x1c2d8c=_0x41f6a4(0x6ac)+_0x506386+'\x20'+_0x31e4d0+'\x20ข้อ\x20'+_0x1277e9+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2d96f7+'\x20'+simpleMathPrompt,_0x13348f={'type':_0x41f6a4(0xc68),'properties':{'questionText':{'type':_0x41f6a4(0xe19)},'correctAnswer':{'type':_0x41f6a4(0x6b7)},'explanation':{'type':_0x41f6a4(0xe19)},'imageCode':{'type':_0x41f6a4(0xe19)}},'required':[_0x41f6a4(0x324),'correctAnswer',_0x41f6a4(0x582)]};break;case'matching':_0x1c2d8c=_0x41f6a4(0xcf7)+_0x506386+'\x20'+_0x31e4d0+_0x41f6a4(0x871)+_0x1277e9+_0x41f6a4(0xbb5)+_0x31e4d0+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x2d96f7+'\x20'+simpleMathPrompt,_0x13348f={'type':_0x41f6a4(0xc68),'properties':{'questionType':{'type':_0x41f6a4(0xe19),'enum':[_0x41f6a4(0x2bf)]},'stem':{'type':_0x41f6a4(0xe19)},'correctResponse':{'type':_0x41f6a4(0xe19)},'allResponses':{'type':'ARRAY','items':{'type':_0x41f6a4(0xe19)}},'explanation':{'type':_0x41f6a4(0xe19)},'imageCode':{'type':_0x41f6a4(0xe19)}},'required':[_0x41f6a4(0xb83),'stem',_0x41f6a4(0x578),_0x41f6a4(0xb53),'explanation']};break;}}const _0xc0ff5d={'type':_0x41f6a4(0xc68),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x41f6a4(0x1d5),'items':_0x13348f}},'required':[_0x41f6a4(0x3b7),_0x41f6a4(0xb0f)]},_0x21bd1d='จากไฟล์ที่แนบมานี้,\x20'+_0x1c2d8c,_0x542acb={'contents':[{'parts':[{'text':_0x21bd1d},{'inlineData':{'mimeType':_0x226981,'data':_0x350889}}]}],'generationConfig':{'responseMimeType':_0x41f6a4(0x8eb),'responseSchema':_0xc0ff5d}};return handleApiCall(_0x542acb[_0x41f6a4(0xbdd)][0x0][_0x41f6a4(0x9f8)],_0x41f6a4(0x1ab),_0xc0ff5d);}async function handleApiCall(_0x21e5f4,_0x17b402,_0x445894,_0x533d77=null,_0x15ed46=!![],_0x27a07f=null,_0x1bc42c=null){const _0x105056=_0x1cfa42,_0x2e6756=document[_0x105056(0xbf1)]('quiz-generation-area'),_0x47701c=document[_0x105056(0xbf1)](_0x105056(0x962)),_0x220ef0=document['getElementById'](_0x105056(0x5b6)),_0x53b1f2=document['getElementById'](_0x105056(0x476));_0x2e6756[_0x105056(0xe06)][_0x105056(0xb55)](_0x105056(0xa93));_0x533d77===null&&_0x15ed46&&(_0x53b1f2[_0x105056(0xcf3)]='');_0x47701c[_0x105056(0xe06)][_0x105056(0xb55)]('hidden'),_0x220ef0['textContent']=_0x17b402,document[_0x105056(0xbf1)](_0x105056(0xd16))[_0x105056(0x635)]=!![],document[_0x105056(0xbf1)]('generate-from-text-btn')[_0x105056(0x635)]=!![],document[_0x105056(0xbf1)](_0x105056(0x23e))[_0x105056(0x635)]=!![];const _0x177604=document[_0x105056(0xbf1)](_0x105056(0x4d5));if(_0x177604)_0x177604[_0x105056(0x635)]=!![];const _0x5ee2f5=document['getElementById']('generate-from-blueprint-btn');if(_0x5ee2f5)_0x5ee2f5[_0x105056(0x635)]=!![];const _0x23a1fc=document[_0x105056(0xbf1)]('generate-from-parallel-test-btn');if(_0x23a1fc)_0x23a1fc[_0x105056(0x635)]=!![];try{const _0x3fbc77=Array[_0x105056(0x906)](_0x21e5f4)?_0x21e5f4:[{'text':_0x21e5f4}],_0x4ff81d={'contents':[{'role':'user','parts':_0x3fbc77}]};_0x445894&&(_0x4ff81d[_0x105056(0xbcf)]={'responseMimeType':_0x105056(0x8eb),'responseSchema':_0x445894});const _0x3f3d0b=_0x105056(0x53f),_0x3a1e57=_0x105056(0x5b4)+_0x3f3d0b,_0x364a2e=await fetch(_0x3a1e57,{'method':_0x105056(0x937),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x4ff81d)});if(!_0x364a2e['ok']){const _0x3f851e=await _0x364a2e[_0x105056(0x227)]();console['error'](_0x105056(0x6af),_0x3f851e);throw new Error(_0x105056(0x85e)+_0x364a2e[_0x105056(0x657)]);}const _0x37a14a=await _0x364a2e['json']();if(!_0x37a14a[_0x105056(0x4a1)]||_0x37a14a[_0x105056(0x4a1)]['length']===0x0){let _0x2dd4cd='AI\x20did\x20not\x20return\x20any\x20content.';return _0x37a14a[_0x105056(0xd1d)]?.[_0x105056(0x9e8)]&&(_0x2dd4cd='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x37a14a[_0x105056(0xd1d)]['blockReason']+'.'),console['error'](_0x2dd4cd,JSON[_0x105056(0x2a1)](_0x37a14a)),null;}const _0x299a22=_0x37a14a[_0x105056(0x4a1)][0x0][_0x105056(0x684)][_0x105056(0x9f8)][0x0][_0x105056(0x227)];if(_0x445894){let _0x1fec51=_0x299a22;if(_0x1fec51[_0x105056(0x5d1)]('```json'))_0x1fec51=_0x1fec51[_0x105056(0xc97)](0x7,_0x1fec51[_0x105056(0x26d)]-0x3)['trim']();else _0x1fec51[_0x105056(0x5d1)](_0x105056(0x1f3))&&(_0x1fec51=_0x1fec51[_0x105056(0xc97)](0x3,_0x1fec51[_0x105056(0x26d)]-0x3)[_0x105056(0xab6)]());let _0x4f3a41=JSON[_0x105056(0xba3)](_0x1fec51);if(_0x15ed46){if(_0x533d77!==null){}else currentQuizData=_0x4f3a41,displayGeneratedQuiz(currentQuizData,_0x27a07f,_0x1bc42c);}return _0x4f3a41;}else return _0x299a22;}catch(_0x45d9f4){console[_0x105056(0x3f5)](_0x105056(0xcb3),_0x45d9f4),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x45d9f4[_0x105056(0x495)]);_0x15ed46&&(_0x53b1f2['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x45d9f4;}finally{_0x47701c[_0x105056(0xe06)]['add'](_0x105056(0xa93)),document[_0x105056(0xbf1)](_0x105056(0xd16))['disabled']=![],document[_0x105056(0xbf1)](_0x105056(0x1c9))[_0x105056(0x635)]=![],document[_0x105056(0xbf1)](_0x105056(0x23e))['disabled']=![];if(_0x177604)_0x177604[_0x105056(0x635)]=![];if(_0x5ee2f5)_0x5ee2f5[_0x105056(0x635)]=![];if(_0x23a1fc)_0x23a1fc['disabled']=![];}}function exitFullscreen(){const _0x3faf0e=_0x1cfa42;if(document[_0x3faf0e(0xd52)])document[_0x3faf0e(0xd52)]()[_0x3faf0e(0x695)](_0x2e80ca=>console[_0x3faf0e(0x3f5)](_0x2e80ca));else{if(document[_0x3faf0e(0x370)])document[_0x3faf0e(0x370)]();else document[_0x3faf0e(0x59c)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x161003=_0x1cfa42,_0x24769e=document[_0x161003(0x285)];if(_0x24769e[_0x161003(0x664)])_0x24769e['requestFullscreen']()[_0x161003(0x695)](_0x3d2926=>{const _0x5f10bb=_0x161003;console[_0x5f10bb(0x3f5)](_0x5f10bb(0x8c8)+_0x3d2926[_0x5f10bb(0x495)]+'\x20('+_0x3d2926[_0x5f10bb(0x372)]+')');});else{if(_0x24769e[_0x161003(0x749)])_0x24769e[_0x161003(0x749)]();else _0x24769e[_0x161003(0xcb6)]&&_0x24769e[_0x161003(0xcb6)]();}}function handleCheatingEvent(){const _0x9cec81=_0x1cfa42;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x9cec81(0xa56),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x9cec81(0x74a)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document['getElementById'](_0x9cec81(0xca6))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x9cec81(0x85c)]('visibilitychange',handleVisibilityChange),document['removeEventListener'](_0x9cec81(0x230),handleFullscreenChange)):showMessage(_0x9cec81(0x6bd)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x38d8af=_0x1cfa42;if(currentMode===_0x38d8af(0x624)||!isQuizActive)return;if(document[_0x38d8af(0x28c)]===_0x38d8af(0xa93))handleCheatingEvent();else document['visibilityState']===_0x38d8af(0x4b7)&&(console[_0x38d8af(0xc15)](_0x38d8af(0xcce)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){if(currentMode==='admin-testing'||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2eb261,_0x229c0f=null,_0x220115=null){const _0x3e957c=_0x1cfa42,_0x58a8cc=document[_0x3e957c(0xbf1)](_0x3e957c(0x476));let _0x39e7fe=_0x3e957c(0xb08)+_0x2eb261[_0x3e957c(0x3b7)]+_0x3e957c(0xc7e);_0x2eb261[_0x3e957c(0xb0f)][_0x3e957c(0xdac)]((_0x5e2ef2,_0x1749e3)=>{const _0x5bb5b6=_0x3e957c;!_0x5e2ef2['id']&&(_0x5e2ef2['id']='q_'+Date[_0x5bb5b6(0x24a)]()+'_'+_0x1749e3);const _0x12a7ec=_0x5e2ef2['questionType']||_0x2eb261['quizType'];_0x39e7fe+=_0x5bb5b6(0x647)+_0x1749e3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1749e3+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1749e3+_0x5bb5b6(0x3b1);switch(_0x12a7ec){case _0x5bb5b6(0x2bf):_0x39e7fe+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1749e3+'\x22>'+(_0x1749e3+0x1)+'.\x20'+_0x5e2ef2[_0x5bb5b6(0x826)]+'</p>';_0x5e2ef2[_0x5bb5b6(0x50a)]&&(_0x39e7fe+=_0x5bb5b6(0x696)+_0x1749e3+_0x5bb5b6(0x78f)+_0x5e2ef2[_0x5bb5b6(0x50a)]+_0x5bb5b6(0xcdd));_0x39e7fe+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x1749e3+'\x22>'+_0x5e2ef2[_0x5bb5b6(0x578)]+_0x5bb5b6(0x30c),_0x39e7fe+=_0x5bb5b6(0xd46)+_0x1749e3+'\x22>'+_0x5e2ef2[_0x5bb5b6(0x582)]+'</span></div>';break;case _0x5bb5b6(0x944):_0x39e7fe+=_0x5bb5b6(0x415)+_0x1749e3+'\x22>'+(_0x1749e3+0x1)+'.\x20'+_0x5e2ef2[_0x5bb5b6(0x324)]+_0x5bb5b6(0x1e3);_0x5e2ef2['imageCode']&&(_0x39e7fe+=_0x5bb5b6(0x696)+_0x1749e3+_0x5bb5b6(0x78f)+_0x5e2ef2[_0x5bb5b6(0x50a)]+_0x5bb5b6(0xcdd));_0x39e7fe+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x1749e3+'\x22>'+_0x5e2ef2['idealAnswer']+_0x5bb5b6(0x30c),_0x39e7fe+=_0x5bb5b6(0xd46)+_0x1749e3+'\x22>'+_0x5e2ef2['explanation']+_0x5bb5b6(0x30c);break;case'true_false':_0x39e7fe+=_0x5bb5b6(0x415)+_0x1749e3+'\x22>'+(_0x1749e3+0x1)+'.\x20'+_0x5e2ef2['questionText']+_0x5bb5b6(0x1e3);_0x5e2ef2[_0x5bb5b6(0x50a)]&&(_0x39e7fe+=_0x5bb5b6(0x696)+_0x1749e3+_0x5bb5b6(0x78f)+_0x5e2ef2[_0x5bb5b6(0x50a)]+'</div>');_0x39e7fe+=_0x5bb5b6(0xb8e)+(_0x5e2ef2[_0x5bb5b6(0x59b)]===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x5e2ef2[_0x5bb5b6(0x59b)]===![]?_0x5bb5b6(0x41a):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x39e7fe+=_0x5bb5b6(0xd46)+_0x1749e3+'\x22>'+_0x5e2ef2['explanation']+_0x5bb5b6(0x30c);break;case _0x5bb5b6(0xd67):case _0x5bb5b6(0x37c):default:_0x39e7fe+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1749e3+'\x22>'+(_0x1749e3+0x1)+'.\x20'+_0x5e2ef2['questionText']+_0x5bb5b6(0x1e3);_0x5e2ef2[_0x5bb5b6(0x50a)]&&(_0x39e7fe+=_0x5bb5b6(0x696)+_0x1749e3+_0x5bb5b6(0x78f)+_0x5e2ef2[_0x5bb5b6(0x50a)]+'</div>');_0x39e7fe+=_0x5bb5b6(0xadc)+_0x1749e3+_0x5bb5b6(0x6dc)+(_0x5e2ef2['options']||[])[_0x5bb5b6(0x469)]((_0x4cac04,_0x48cf2a)=>_0x5bb5b6(0x7b0)+(_0x48cf2a===_0x5e2ef2[_0x5bb5b6(0x3a3)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x4cac04+_0x5bb5b6(0x675))[_0x5bb5b6(0x4ce)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x39e7fe+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1749e3+'\x22>'+_0x5e2ef2[_0x5bb5b6(0x582)]+_0x5bb5b6(0x30c);break;}_0x39e7fe+=_0x5bb5b6(0xcdd);}),_0x39e7fe+=_0x3e957c(0xc3a),_0x58a8cc[_0x3e957c(0xcf3)]=_0x39e7fe,document[_0x3e957c(0x218)](_0x3e957c(0x5a1))[_0x3e957c(0xdac)](_0x4d17b5=>_0x4d17b5['addEventListener'](_0x3e957c(0x67d),handleEditQuestion)),document[_0x3e957c(0x218)](_0x3e957c(0x412))[_0x3e957c(0xdac)](_0x8effe2=>_0x8effe2['addEventListener']('click',handleRegenerateQuestion)),document['getElementById'](_0x3e957c(0x4fb))[_0x3e957c(0x4ef)](_0x3e957c(0x67d),exportQuizAsWorksheetPDF),document[_0x3e957c(0xbf1)](_0x3e957c(0xc4d))[_0x3e957c(0x4ef)](_0x3e957c(0x67d),handleVerifyAnswers);const _0x1f7e60=document[_0x3e957c(0xbf1)]('save-quiz-btn');if(_0x1f7e60){const _0xbb7fed=_0x229c0f||currentProjectId;_0x1f7e60[_0x3e957c(0x4ef)](_0x3e957c(0x67d),()=>saveQuiz(_0xbb7fed,_0x220115));}if(window['MathJax'])window[_0x3e957c(0x6b2)][_0x3e957c(0x255)]([_0x58a8cc]);}function handleRegenerateQuestion(_0x4a1767){const _0xbf142a=_0x1cfa42,_0x561b98=_0x4a1767[_0xbf142a(0xd10)][_0xbf142a(0x2b9)][_0xbf142a(0x3fd)],_0x16c4a6=currentQuizData[_0xbf142a(0x3b7)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x561b98)+0x1)+'\x20ใหม่...'),generateQuiz(_0x16c4a6,null,parseInt(_0x561b98));}function getPointerPosition(_0x445004,_0x225988){const _0x1b9c1e=_0x1cfa42,_0x5eeb24=_0x445004[_0x1b9c1e(0xda7)]();let _0x25f4e9,_0x3ec23e;return _0x225988['touches']&&_0x225988[_0x1b9c1e(0x465)]['length']>0x0?(_0x25f4e9=_0x225988[_0x1b9c1e(0x465)][0x0][_0x1b9c1e(0xd3b)],_0x3ec23e=_0x225988['touches'][0x0][_0x1b9c1e(0xa62)]):(_0x25f4e9=_0x225988[_0x1b9c1e(0xd3b)],_0x3ec23e=_0x225988[_0x1b9c1e(0xa62)]),{'x':(_0x25f4e9-_0x5eeb24['e'])/_0x5eeb24['a'],'y':(_0x3ec23e-_0x5eeb24['f'])/_0x5eeb24['d']};}function startDrag(_0xbcfd79){const _0x2dc8c6=_0x1cfa42;_0xbcfd79[_0x2dc8c6(0x8e8)]==='touchstart'&&_0xbcfd79[_0x2dc8c6(0x1a1)]();const _0x36f059=_0xbcfd79[_0x2dc8c6(0xa8b)][_0x2dc8c6(0xd59)](_0x2dc8c6(0x6a4));if(_0x36f059){draggedSvgElement=_0x36f059;const _0x46b31d=draggedSvgElement[_0x2dc8c6(0x8e1)],_0x3e88dc=getPointerPosition(_0x46b31d,_0xbcfd79);svgOffset['x']=_0x3e88dc['x']-parseFloat(draggedSvgElement[_0x2dc8c6(0x7b7)](null,'x')),svgOffset['y']=_0x3e88dc['y']-parseFloat(draggedSvgElement[_0x2dc8c6(0x7b7)](null,'y'));}}function calculateItemAnalysis(_0x130b24,_0x303662){const _0x28961a=_0x1cfa42,_0x595f94={};if(_0x303662['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x401dd5=[..._0x303662][_0x28961a(0x712)]((_0x5ac0f9,_0x3e91f0)=>{const _0x194624=_0x28961a,_0xf57262=_0x3e91f0[_0x194624(0x174)]-_0x5ac0f9[_0x194624(0x174)];if(_0xf57262!==0x0)return _0xf57262;const _0x2e4ace=_0x5ac0f9['attempts']?.['length']||0x1,_0x42f5e1=_0x3e91f0[_0x194624(0x8f7)]?.['length']||0x1,_0x3064ec=_0x2e4ace-_0x42f5e1;if(_0x3064ec!==0x0)return _0x3064ec;const _0x1981a9=new Date(_0x5ac0f9['latestSubmittedAt']),_0x2a03f1=new Date(_0x3e91f0[_0x194624(0x92c)]),_0x4aec4e=_0x1981a9-_0x2a03f1;if(_0x4aec4e!==0x0)return _0x4aec4e;return _0x5ac0f9['studentName'][_0x194624(0x7e5)](_0x3e91f0[_0x194624(0x8e0)],'th');}),_0x467e59=_0x401dd5['length'],_0xb3ff6e=Math[_0x28961a(0x69c)](0x1,Math[_0x28961a(0x74e)](_0x467e59*0.33));if(_0xb3ff6e===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3fdbf2=_0x401dd5[_0x28961a(0xa65)](0x0,_0xb3ff6e),_0x47d7b1=_0x401dd5[_0x28961a(0xa65)](-_0xb3ff6e),_0x2f9664=_0x3fdbf2[_0x28961a(0x469)](_0x46f270=>_0x46f270[_0x28961a(0x8e0)]),_0x2d6766=_0x47d7b1[_0x28961a(0x469)](_0x1aee81=>_0x1aee81[_0x28961a(0x8e0)]);return _0x130b24[_0x28961a(0xb0f)][_0x28961a(0xdac)]((_0x250bb8,_0x29bfa9)=>{const _0x2fa4f8=_0x28961a,_0x6d089d=_0x250bb8[_0x2fa4f8(0x826)]||_0x250bb8[_0x2fa4f8(0x324)];let _0x13098f=0x0,_0x5be1e6=0x0,_0x3954ca=0x0;const _0x55ca98=[],_0x80e4be=[];_0x3fdbf2['forEach'](_0x28720e=>{const _0x25cf3e=_0x2fa4f8,_0x1621dd=_0x28720e['attempts'][_0x28720e[_0x25cf3e(0x8f7)][_0x25cf3e(0x26d)]-0x1],_0x3b2863=_0x1621dd[_0x25cf3e(0xad5)][_0x25cf3e(0x633)](_0x3f4423=>_0x3f4423[_0x25cf3e(0x3d2)]===_0x6d089d);_0x55ca98[_0x25cf3e(0x229)]({'name':_0x28720e[_0x25cf3e(0x8e0)],'isCorrect':_0x3b2863?_0x3b2863[_0x25cf3e(0x553)]:![]}),_0x3b2863&&_0x3b2863['isCorrect']&&_0x5be1e6++;}),_0x47d7b1['forEach'](_0x3b763f=>{const _0x229e30=_0x2fa4f8,_0x1a8b81=_0x3b763f['attempts'][_0x3b763f[_0x229e30(0x8f7)]['length']-0x1],_0x31b27f=_0x1a8b81[_0x229e30(0xad5)][_0x229e30(0x633)](_0x2c4f73=>_0x2c4f73[_0x229e30(0x3d2)]===_0x6d089d);_0x80e4be[_0x229e30(0x229)]({'name':_0x3b763f['studentName'],'isCorrect':_0x31b27f?_0x31b27f[_0x229e30(0x553)]:![]}),_0x31b27f&&_0x31b27f[_0x229e30(0x553)]&&_0x3954ca++;}),_0x303662[_0x2fa4f8(0xdac)](_0x587f40=>{const _0xeb188f=_0x2fa4f8,_0x2e9306=_0x587f40[_0xeb188f(0x8f7)][_0x587f40[_0xeb188f(0x8f7)][_0xeb188f(0x26d)]-0x1],_0x1cab1c=_0x2e9306[_0xeb188f(0xad5)][_0xeb188f(0x633)](_0x474f87=>_0x474f87[_0xeb188f(0x3d2)]===_0x6d089d);_0x1cab1c&&_0x1cab1c['isCorrect']&&_0x13098f++;});const _0xd1095c=_0x467e59>0x0?_0x13098f/_0x467e59:0x0,_0x51c567=_0xb3ff6e>0x0?_0x5be1e6/_0xb3ff6e-_0x3954ca/_0xb3ff6e:0x0;_0x595f94[_0x29bfa9]={'p':_0xd1095c,'r':_0x51c567,'upperGroupResponders':_0x55ca98,'lowerGroupResponders':_0x80e4be};}),{'perQuestionStats':_0x595f94,'overallGroups':{'upperGroupNames':_0x2f9664,'lowerGroupNames':_0x2d6766}};}function drag(_0x58abc5){const _0x102db3=_0x1cfa42;if(draggedSvgElement){_0x58abc5[_0x102db3(0x1a1)]();const _0x485249=draggedSvgElement['ownerSVGElement'],_0xebf391=getPointerPosition(_0x485249,_0x58abc5),_0x1d52bb=_0x485249[_0x102db3(0x868)][_0x102db3(0x63e)];let _0x2b6db2=_0xebf391['x']-svgOffset['x'],_0x208b58=_0xebf391['y']-svgOffset['y'];const _0x5ab624=draggedSvgElement[_0x102db3(0x52d)]();_0x2b6db2=Math['max'](_0x1d52bb['x'],Math[_0x102db3(0xa49)](_0x2b6db2,_0x1d52bb['x']+_0x1d52bb[_0x102db3(0x491)]-_0x5ab624[_0x102db3(0x491)])),_0x208b58=Math[_0x102db3(0x69c)](_0x1d52bb['y'],Math['min'](_0x208b58,_0x1d52bb['y']+_0x1d52bb[_0x102db3(0x991)]-_0x5ab624[_0x102db3(0x991)])),draggedSvgElement[_0x102db3(0x46f)](null,'x',_0x2b6db2),draggedSvgElement[_0x102db3(0x46f)](null,'y',_0x208b58);}}function endDrag(_0x3523e8){draggedSvgElement=null;}function handleSvgEditClick(_0x55ee79){const _0x4ff7f9=_0x1cfa42;if(_0x55ee79[_0x4ff7f9(0xa8b)]['classList'][_0x4ff7f9(0xbe2)](_0x4ff7f9(0x8b3))){const _0x2f810a=_0x55ee79[_0x4ff7f9(0xa8b)]['dataset']['targetId'],_0x2d6906=_0x55ee79['currentTarget'],_0xad3aa5=_0x2d6906[_0x4ff7f9(0x19c)]('#'+_0x2f810a);_0xad3aa5&&_0xad3aa5[_0x4ff7f9(0xb55)](),_0x55ee79[_0x4ff7f9(0xa8b)][_0x4ff7f9(0xb55)]();}}function handleEditQuestion(_0x37eb8c){const _0x1990f6=_0x1cfa42,_0x382dc0=_0x37eb8c[_0x1990f6(0xd10)],_0x4dcf40=_0x382dc0[_0x1990f6(0x2b9)][_0x1990f6(0x3fd)],_0x4ac933=currentQuizData[_0x1990f6(0xb0f)][_0x4dcf40],_0x5802d2=document[_0x1990f6(0xbf1)](_0x1990f6(0xe00)+_0x4dcf40),_0x396b33=document['getElementById'](_0x1990f6(0x9b3)+_0x4dcf40),_0x35a7c6=document[_0x1990f6(0xbf1)](_0x1990f6(0xac8)+_0x4dcf40);if(_0x382dc0['innerHTML'][_0x1990f6(0x1ef)](_0x1990f6(0x832))){_0x382dc0[_0x1990f6(0xcf3)]=_0x1990f6(0x5e3),_0x382dc0[_0x1990f6(0x8aa)]=_0x1990f6(0xb8d);if(_0x5802d2)_0x5802d2[_0x1990f6(0x874)]=!![];if(_0x396b33)_0x396b33[_0x1990f6(0x874)]=!![];if(_0x35a7c6){const _0x475638=_0x35a7c6[_0x1990f6(0x19c)](_0x1990f6(0x25e));if(_0x475638){const _0x5eea83=_0x475638['querySelectorAll'](_0x1990f6(0x227));_0x5eea83['forEach']((_0x2af992,_0x6b5559)=>{const _0x59f8b4=_0x1990f6,_0x53cf32=_0x59f8b4(0x178)+_0x4dcf40+'-'+_0x6b5559;_0x2af992['id']=_0x53cf32,_0x2af992[_0x59f8b4(0xe06)][_0x59f8b4(0xd5c)]('draggable-text'),_0x2af992[_0x59f8b4(0x403)]['cursor']='move';const _0x1261ce=document['createElementNS'](_0x59f8b4(0xd22),_0x59f8b4(0x5e7)),_0x287fa0=_0x2af992['getBBox']();_0x1261ce[_0x59f8b4(0x29a)]('cx',String(_0x287fa0['x']+_0x287fa0['width']+0x5)),_0x1261ce['setAttribute']('cy',String(_0x287fa0['y']+_0x287fa0['height']/0x2-0x5)),_0x1261ce['setAttribute']('r','5'),_0x1261ce[_0x59f8b4(0x29a)](_0x59f8b4(0x87d),_0x59f8b4(0x592)),_0x1261ce[_0x59f8b4(0x29a)](_0x59f8b4(0x4e9),_0x59f8b4(0x8b3)),_0x1261ce[_0x59f8b4(0x2b9)]['targetId']=_0x53cf32,_0x2af992['after'](_0x1261ce);}),_0x475638[_0x1990f6(0x4ef)]('mousedown',startDrag),_0x475638['addEventListener'](_0x1990f6(0xcfe),drag),_0x475638[_0x1990f6(0x4ef)]('mouseup',endDrag),_0x475638[_0x1990f6(0x4ef)](_0x1990f6(0xde0),endDrag),_0x475638[_0x1990f6(0x4ef)](_0x1990f6(0x367),startDrag,{'passive':![]}),_0x475638[_0x1990f6(0x4ef)](_0x1990f6(0xb87),drag,{'passive':![]}),_0x475638[_0x1990f6(0x4ef)]('touchend',endDrag),_0x475638[_0x1990f6(0x4ef)]('touchcancel',endDrag),_0x475638[_0x1990f6(0x4ef)](_0x1990f6(0x67d),handleSvgEditClick);}}if(_0x5802d2)_0x5802d2['focus']();}else{_0x382dc0[_0x1990f6(0xcf3)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x382dc0[_0x1990f6(0x8aa)]=_0x1990f6(0x238);if(_0x5802d2){_0x5802d2[_0x1990f6(0x874)]=![];const _0x4b4b79=_0x4ac933[_0x1990f6(0xb83)]||currentQuizData[_0x1990f6(0x4c3)];_0x4b4b79===_0x1990f6(0x2bf)?_0x4ac933[_0x1990f6(0x826)]=_0x5802d2[_0x1990f6(0x6ef)][_0x1990f6(0xc97)](_0x5802d2[_0x1990f6(0x6ef)][_0x1990f6(0x326)]('.')+0x2)['trim']():_0x4ac933['questionText']=_0x5802d2[_0x1990f6(0x6ef)][_0x1990f6(0xc97)](_0x5802d2[_0x1990f6(0x6ef)][_0x1990f6(0x326)]('.')+0x2)[_0x1990f6(0xab6)]();}_0x396b33&&(_0x396b33['contentEditable']=![],_0x4ac933['explanation']=_0x396b33[_0x1990f6(0x6ef)]);if(_0x35a7c6){const _0x7968=_0x35a7c6[_0x1990f6(0x19c)](_0x1990f6(0x25e));if(_0x7968){const _0x310424=_0x7968[_0x1990f6(0xcf8)](!![]);_0x310424[_0x1990f6(0x218)]('.delete-svg-btn')[_0x1990f6(0xdac)](_0x1a6e28=>_0x1a6e28['remove']()),_0x310424['querySelectorAll'](_0x1990f6(0x6a4))[_0x1990f6(0xdac)](_0x4e645b=>{const _0x44b063=_0x1990f6;_0x4e645b[_0x44b063(0xe06)]['remove'](_0x44b063(0x994)),_0x4e645b[_0x44b063(0x403)][_0x44b063(0x62c)]='default',_0x4e645b[_0x44b063(0xca4)]('id');}),_0x4ac933[_0x1990f6(0x50a)]=_0x310424[_0x1990f6(0xccf)],_0x7968[_0x1990f6(0x85c)](_0x1990f6(0x4bc),startDrag),_0x7968[_0x1990f6(0x85c)](_0x1990f6(0xcfe),drag),_0x7968[_0x1990f6(0x85c)](_0x1990f6(0xdfa),endDrag),_0x7968['removeEventListener'](_0x1990f6(0xde0),endDrag),_0x7968[_0x1990f6(0x85c)](_0x1990f6(0x367),startDrag),_0x7968['removeEventListener']('touchmove',drag),_0x7968[_0x1990f6(0x85c)](_0x1990f6(0x184),endDrag),_0x7968[_0x1990f6(0x85c)]('touchcancel',endDrag),_0x7968['removeEventListener']('click',handleSvgEditClick),_0x7968[_0x1990f6(0x218)](_0x1990f6(0xb07))[_0x1990f6(0xdac)](_0x44f2ef=>_0x44f2ef['remove']()),_0x7968[_0x1990f6(0x218)]('.draggable-text')['forEach'](_0x57f5a6=>{const _0x1b88f8=_0x1990f6;_0x57f5a6[_0x1b88f8(0xe06)][_0x1b88f8(0xb55)](_0x1b88f8(0x994)),_0x57f5a6[_0x1b88f8(0x403)][_0x1b88f8(0x62c)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x39f15d){const _0x36917d=_0x1cfa42,_0x436534=document[_0x36917d(0xbf1)](_0x36917d(0x1da)),_0x326f35=document[_0x36917d(0xbf1)](_0x36917d(0x98b));_0x326f35['innerHTML']=_0x36917d(0xc5a),_0x436534[_0x36917d(0xe06)][_0x36917d(0xb55)](_0x36917d(0xa93));try{const _0x54c83b=doc(db,_0x36917d(0x7ff)+appId+'/public/data/quizzes',_0x39f15d),_0xfdc5a6=await getDoc(_0x54c83b);if(!_0xfdc5a6['exists']())throw new Error(_0x36917d(0x537));currentEditingQuizData={'id':_0x39f15d,..._0xfdc5a6[_0x36917d(0x934)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4d59e8){console['error']('Error\x20opening\x20quiz\x20editor:',_0x4d59e8),showMessage(_0x36917d(0xbbd)),_0x436534['classList'][_0x36917d(0xd5c)](_0x36917d(0xa93));}}function renderQuizEditor(_0x4bcbbb){const _0x3fdd16=_0x1cfa42;document['getElementById']('editor-quiz-topic')[_0x3fdd16(0x49f)]=_0x4bcbbb[_0x3fdd16(0x3b7)];const _0x59d32c=document[_0x3fdd16(0xbf1)](_0x3fdd16(0x98b));let _0x2a9c7c=_0x4bcbbb['questions'][_0x3fdd16(0x469)]((_0x396e00,_0x28d0e3)=>{const _0x2753bc=_0x3fdd16;let _0x12c834='';const _0x3805d0=_0x396e00[_0x2753bc(0xb83)]||_0x4bcbbb[_0x2753bc(0x4c3)];switch(_0x3805d0){case _0x2753bc(0x37c):const _0xf75ed5=(_0x396e00[_0x2753bc(0x9e4)]||[])['map']((_0x46ede2,_0x1e9e74)=>_0x2753bc(0x8a1)+_0x28d0e3+'\x22\x20value=\x22'+_0x1e9e74+'\x22\x20'+(_0x1e9e74===_0x396e00['correctAnswerIndex']?_0x2753bc(0x51f):'')+_0x2753bc(0x663)+_0x46ede2+_0x2753bc(0x8f2))[_0x2753bc(0x4ce)]('');_0x12c834=_0x2753bc(0x1dd)+_0xf75ed5+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2753bc(0x944):_0x12c834=_0x2753bc(0x982)+(_0x396e00[_0x2753bc(0x886)]||'')+_0x2753bc(0x38a);break;case _0x2753bc(0x1cb):_0x12c834=_0x2753bc(0x5de)+_0x28d0e3+_0x2753bc(0x2ae)+(_0x396e00['correctAnswer']===!![]?_0x2753bc(0x51f):'')+_0x2753bc(0x567)+_0x28d0e3+_0x2753bc(0xab8)+(_0x396e00[_0x2753bc(0x59b)]===![]?_0x2753bc(0x51f):'')+_0x2753bc(0x7d2);break;case _0x2753bc(0x2bf):_0x12c834=_0x2753bc(0x4fd)+(_0x396e00[_0x2753bc(0x578)]||'')+_0x2753bc(0x344);break;}let _0x331ecd=_0x396e00[_0x2753bc(0x324)]||_0x396e00[_0x2753bc(0x826)]||'';return _0x331ecd=_0x331ecd[_0x2753bc(0x93c)](/<br\s*\/?>/gi,'\x0a'),_0x2753bc(0xa89)+_0x28d0e3+_0x2753bc(0x60c)+_0x3805d0+_0x2753bc(0x571)+(_0x28d0e3+0x1)+'\x20('+_0x3805d0+_0x2753bc(0xc2e)+_0x331ecd+_0x2753bc(0x953)+_0x12c834+_0x2753bc(0x96b);})[_0x3fdd16(0x4ce)]('');_0x59d32c[_0x3fdd16(0xcf3)]=_0x2a9c7c;const _0xf49a52='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x59d32c['insertAdjacentHTML'](_0x3fdd16(0x57d),_0xf49a52),_0x59d32c[_0x3fdd16(0x218)](_0x3fdd16(0x551))[_0x3fdd16(0xdac)](_0x6b1a9f=>{const _0x425b8b=_0x3fdd16;_0x6b1a9f[_0x425b8b(0x403)]['overflowY']=_0x425b8b(0xa93),_0x6b1a9f['style'][_0x425b8b(0xb8a)]=_0x425b8b(0xcf0),_0x6b1a9f['rows']=0x4;const _0x5772e5=()=>{const _0x4b1025=_0x425b8b;_0x6b1a9f[_0x4b1025(0x403)][_0x4b1025(0x991)]='auto',_0x6b1a9f[_0x4b1025(0x403)]['height']=_0x6b1a9f[_0x4b1025(0x426)]+'px';};_0x6b1a9f[_0x425b8b(0x4ef)](_0x425b8b(0x287),_0x5772e5),_0x5772e5();}),_0x59d32c[_0x3fdd16(0x218)](_0x3fdd16(0x3c3))[_0x3fdd16(0xdac)](_0x2efe57=>{const _0x13e53d=_0x3fdd16;_0x2efe57[_0x13e53d(0x4ef)]('click',handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x3da50a){const _0x6129b2=_0x1cfa42;if(!currentEditingQuizData||!currentEditingQuizData[_0x6129b2(0xb0f)][_0x3da50a])return;const _0x3c1fe2=currentEditingQuizData[_0x6129b2(0xb0f)][_0x3da50a][_0x6129b2(0x324)]||currentEditingQuizData[_0x6129b2(0xb0f)][_0x3da50a][_0x6129b2(0x826)];showConfirmation(_0x6129b2(0x319)+(_0x3da50a+0x1)+_0x6129b2(0xd68)+_0x3c1fe2[_0x6129b2(0xc97)](0x0,0x14)+'...\x22)?',()=>{const _0x3a1e9c=_0x6129b2;currentEditingQuizData[_0x3a1e9c(0xb0f)]['splice'](_0x3da50a,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x3a1e9c(0x869));});}function handleAddQuestionInEditor(){const _0x130be1=_0x1cfa42;if(!currentEditingQuizData)return;const _0x4a65a1={'id':'q_'+Date[_0x130be1(0x24a)]()+'_new','questionType':_0x130be1(0x37c),'questionText':_0x130be1(0x489),'options':[_0x130be1(0x1be),_0x130be1(0xc64),_0x130be1(0x1ca),_0x130be1(0x4d1)],'correctAnswerIndex':0x0,'explanation':'คำอธิบาย...'};currentEditingQuizData['questions']['push'](_0x4a65a1),renderQuizEditor(currentEditingQuizData);const _0x353ca5=document[_0x130be1(0x19c)](_0x130be1(0xd44));_0x353ca5&&(_0x353ca5[_0x130be1(0x488)]({'behavior':_0x130be1(0x79a),'block':_0x130be1(0x1c8)}),_0x353ca5['querySelector'](_0x130be1(0x795))[_0x130be1(0x451)]());}async function handleAiFixQuestion(_0x4a5f71){const _0x4916c7=_0x1cfa42,_0x534df4=_0x4a5f71[_0x4916c7(0xd10)],_0x437089=_0x534df4[_0x4916c7(0xd59)](_0x4916c7(0xb30));if(!_0x437089)return;const _0x48b959=parseInt(_0x437089[_0x4916c7(0x2b9)][_0x4916c7(0x543)],0xa);if(isNaN(_0x48b959)||!currentEditingQuizData[_0x4916c7(0xb0f)][_0x48b959]){showMessage(_0x4916c7(0x76d));return;}const _0x5dd251=currentEditingQuizData[_0x4916c7(0xb0f)][_0x48b959];_0x534df4[_0x4916c7(0xcf3)]=_0x4916c7(0x5c7),_0x534df4['disabled']=!![];const _0x5e43a7=_0x4916c7(0x56d)+JSON['stringify'](_0x5dd251)+_0x4916c7(0x2c7);let _0x498770;const _0x507556=_0x5dd251['questionType']||currentEditingQuizData[_0x4916c7(0x4c3)];switch(_0x507556){case'short_answer':_0x498770={'type':_0x4916c7(0xc68),'properties':{'questionText':{'type':_0x4916c7(0xe19)},'idealAnswer':{'type':_0x4916c7(0xe19)},'explanation':{'type':_0x4916c7(0xe19)},'imageCode':{'type':_0x4916c7(0xe19)}},'required':[_0x4916c7(0x324),_0x4916c7(0x886),_0x4916c7(0x582)]};break;case _0x4916c7(0x37c):default:_0x498770={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4916c7(0x1d5),'items':{'type':_0x4916c7(0xe19)}},'correctAnswerIndex':{'type':_0x4916c7(0xba6)},'explanation':{'type':_0x4916c7(0xe19)},'imageCode':{'type':_0x4916c7(0xe19)}},'required':[_0x4916c7(0x324),_0x4916c7(0x9e4),_0x4916c7(0x3a3),_0x4916c7(0x582)]};break;}try{let _0x145461=await callAnalysisApi(_0x5e43a7,_0x498770);_0x145461[_0x4916c7(0x9e4)]&&Array[_0x4916c7(0x906)](_0x145461[_0x4916c7(0x9e4)])&&(_0x145461['options']=_0x145461[_0x4916c7(0x9e4)][_0x4916c7(0x469)](_0x110742=>typeof _0x110742==='string'?_0x110742[_0x4916c7(0x93c)](/S(\s*[\d_]+?\s*)S/g,_0x4916c7(0xa2b)):_0x110742)),_0x5dd251[_0x4916c7(0x50a)]&&_0x5dd251[_0x4916c7(0x50a)][_0x4916c7(0x1ef)](_0x4916c7(0x290))&&(_0x145461['imageCode']=''),currentEditingQuizData['questions'][_0x48b959]={..._0x5dd251,..._0x145461},renderQuizEditor(currentEditingQuizData),showMessage(_0x4916c7(0x416));}catch(_0x50d082){console[_0x4916c7(0x3f5)]('AI\x20Fix\x20Error:',_0x50d082),showMessage(_0x4916c7(0x5aa)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4ab553=_0x1cfa42,_0x58ce12=document[_0x4ab553(0xbf1)](_0x4ab553(0xaea));_0x58ce12[_0x4ab553(0x635)]=!![],_0x58ce12[_0x4ab553(0xcf3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x2dfeee=document[_0x4ab553(0xbf1)](_0x4ab553(0x338))['value'],_0x2d5ddc=document[_0x4ab553(0x218)](_0x4ab553(0xb30));let _0x5331a1=[];const _0x3f3cd4=Array[_0x4ab553(0xae1)](_0x2d5ddc)[_0x4ab553(0x469)]((_0x1f0898,_0x35b31f)=>{const _0x21d9f9=_0x4ab553,_0x48cb82=_0x1f0898[_0x21d9f9(0x2b9)][_0x21d9f9(0x9ae)],_0x5eb5d8=_0x1f0898[_0x21d9f9(0x19c)]('textarea')[_0x21d9f9(0x49f)][_0x21d9f9(0x93c)](/\n/g,_0x21d9f9(0xb40));let _0x52eba9={'questionType':_0x48cb82};const _0x260afd=currentEditingQuizData['questions'][_0x35b31f];switch(_0x48cb82){case _0x21d9f9(0x37c):_0x52eba9[_0x21d9f9(0x324)]=_0x5eb5d8;const _0x56224e=_0x1f0898[_0x21d9f9(0x218)](_0x21d9f9(0xbbc));_0x52eba9[_0x21d9f9(0x9e4)]=Array[_0x21d9f9(0xae1)](_0x56224e)[_0x21d9f9(0x469)](_0x50603a=>_0x50603a[_0x21d9f9(0x49f)]);const _0x321e62=_0x1f0898[_0x21d9f9(0x19c)](_0x21d9f9(0xb6a));_0x52eba9[_0x21d9f9(0x3a3)]=_0x321e62?parseInt(_0x321e62['value']):0x0;break;case _0x21d9f9(0x944):_0x52eba9[_0x21d9f9(0x324)]=_0x5eb5d8,_0x52eba9['idealAnswer']=_0x1f0898['querySelector'](_0x21d9f9(0x2f3))['value'];break;case _0x21d9f9(0x1cb):_0x52eba9[_0x21d9f9(0x324)]=_0x5eb5d8;const _0xbba3f0=_0x1f0898[_0x21d9f9(0x19c)](_0x21d9f9(0xb6a));_0x52eba9['correctAnswer']=_0xbba3f0?_0xbba3f0['value']==='true':!![];break;case _0x21d9f9(0x2bf):_0x52eba9[_0x21d9f9(0x826)]=_0x5eb5d8;const _0x3c968b=_0x1f0898['querySelector'](_0x21d9f9(0x297));_0x52eba9['correctResponse']=_0x3c968b?_0x3c968b[_0x21d9f9(0x49f)]:'',_0x5331a1[_0x21d9f9(0x229)](_0x52eba9[_0x21d9f9(0x578)]);break;default:_0x52eba9[_0x21d9f9(0x324)]=_0x5eb5d8;break;}return{..._0x260afd,..._0x52eba9};});_0x5331a1[_0x4ab553(0x26d)]>0x0&&_0x3f3cd4['forEach'](_0xb35dc=>{const _0x298b58=_0x4ab553;_0xb35dc[_0x298b58(0xb83)]===_0x298b58(0x2bf)&&(_0xb35dc[_0x298b58(0xb53)]=_0x5331a1);});const _0x189578=currentEditingQuizData['id'],_0x3240fc=doc(db,_0x4ab553(0x7ff)+appId+_0x4ab553(0x254),_0x189578);await updateDoc(_0x3240fc,{'topic':_0x2dfeee,'questions':_0x3f3cd4}),document[_0x4ab553(0xbf1)]('quiz-editor-modal')[_0x4ab553(0xe06)][_0x4ab553(0xd5c)](_0x4ab553(0xa93)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x189578));}catch(_0x2fc2b5){console[_0x4ab553(0x3f5)](_0x4ab553(0x257),_0x2fc2b5),showMessage(_0x4ab553(0x841));}finally{_0x58ce12[_0x4ab553(0x635)]=![],_0x58ce12[_0x4ab553(0xcf3)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x592119){const _0x338bf6=_0x1cfa42;showMessage(_0x338bf6(0x5fa));try{const _0x17bb3a=doc(db,_0x338bf6(0x7ff)+appId+_0x338bf6(0x254),_0x592119),_0x3f1377=await getDoc(_0x17bb3a);if(!_0x3f1377[_0x338bf6(0x2b1)]())throw new Error(_0x338bf6(0x334));const _0x13d326={'id':_0x592119,..._0x3f1377[_0x338bf6(0x934)]()},_0x50b6e0=collection(db,_0x338bf6(0x7ff)+appId+_0x338bf6(0x254),_0x592119,_0x338bf6(0x9ff)),_0x4aa23e=await getDocs(_0x50b6e0);if(_0x4aa23e[_0x338bf6(0x5f1)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x1787ff=_0x4aa23e['docs'][_0x338bf6(0x469)](_0x7a7f48=>reGradeSingleSubmission(_0x7a7f48,_0x13d326));await Promise['all'](_0x1787ff);if(_0x13d326[_0x338bf6(0x1cf)]){const _0x203f84=doc(db,_0x338bf6(0x7ff)+appId+_0x338bf6(0xcc5),_0x13d326[_0x338bf6(0x1cf)]),_0x296d38=await getDoc(_0x203f84);if(_0x296d38[_0x338bf6(0x2b1)]()&&_0x296d38[_0x338bf6(0x934)]()[_0x338bf6(0xb22)]){const _0x320c21=_0x296d38[_0x338bf6(0x934)]()['students'][_0x338bf6(0x469)](_0x5c0490=>updateStudentProfile(_0x13d326[_0x338bf6(0x1cf)],_0x5c0490));await Promise[_0x338bf6(0x34e)](_0x320c21);}}showMessage(_0x338bf6(0x716)+_0x4aa23e['size']+_0x338bf6(0x76a));}catch(_0x3a1da0){console[_0x338bf6(0x3f5)](_0x338bf6(0xc42),_0x3a1da0),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x3a1da0[_0x338bf6(0x495)]);}}async function reGradeSingleSubmission(_0x236549,_0x3e2901){const _0x3a382a=_0x1cfa42,_0x51ea01=_0x236549[_0x3a382a(0x934)](),_0x4e9f99=_0x51ea01[_0x3a382a(0x8e0)],_0x1a04fe=_0x51ea01[_0x3a382a(0x8f7)]||[],_0xeaa37=[];for(const _0x437fb of _0x1a04fe){let _0x32cbd2=0x0,_0x4a9178=[],_0x562208=0x0;const _0x1f5558=[];for(const _0x4b7de5 of _0x437fb[_0x3a382a(0xad5)]){let _0x2d6336;_0x4b7de5[_0x3a382a(0x95d)]&&(_0x2d6336=_0x3e2901['questions'][_0x3a382a(0x633)](_0x587c73=>_0x587c73['id']===_0x4b7de5['questionId']));!_0x2d6336&&_0x4b7de5[_0x3a382a(0x3d2)]&&(_0x2d6336=_0x3e2901['questions'][_0x3a382a(0x633)](_0x3940b9=>(_0x3940b9[_0x3a382a(0x826)]||_0x3940b9['questionText'])===_0x4b7de5['originalQuestionText']));let _0x3066d5=![];if(_0x2d6336){const _0x46fcc7=_0x2d6336['questionType']||_0x3e2901[_0x3a382a(0x4c3)];switch(_0x46fcc7){case _0x3a382a(0x37c):if(_0x2d6336[_0x3a382a(0x9e4)]&&_0x2d6336['correctAnswerIndex']<_0x2d6336[_0x3a382a(0x9e4)][_0x3a382a(0x26d)]){const _0x26795a=_0x2d6336[_0x3a382a(0x9e4)][_0x2d6336[_0x3a382a(0x3a3)]];_0x3066d5=_0x4b7de5[_0x3a382a(0x27b)]===_0x26795a;}break;case _0x3a382a(0x1cb):const _0x57544d=_0x4b7de5[_0x3a382a(0x7d8)]===!![]||_0x4b7de5[_0x3a382a(0x7d8)]===_0x3a382a(0x93f);_0x3066d5=_0x57544d===_0x2d6336[_0x3a382a(0x59b)];break;case _0x3a382a(0x2bf):_0x3066d5=_0x4b7de5[_0x3a382a(0x7d8)]===_0x2d6336[_0x3a382a(0x578)];break;case'short_answer':_0x3066d5=await gradeShortAnswer(_0x4b7de5['answer'],_0x2d6336);break;default:_0x3066d5=_0x4b7de5[_0x3a382a(0x553)];break;}}if(_0x3066d5){_0x32cbd2++,_0x562208++;if(_0x562208===0x3)_0x4a9178['push'](BADGES[_0x3a382a(0x3ad)]['id']);}else _0x562208=0x0;_0x1f5558[_0x3a382a(0x229)]({..._0x4b7de5,'isCorrect':_0x3066d5});}let _0x7605b4=_0x32cbd2*0xa;_0x32cbd2===_0x3e2901[_0x3a382a(0xb0f)][_0x3a382a(0x26d)]&&(_0x7605b4+=0x32,_0x4a9178[_0x3a382a(0x229)](BADGES[_0x3a382a(0x3d6)]['id'])),_0xeaa37[_0x3a382a(0x229)]({..._0x437fb,'score':_0x32cbd2,'points':_0x7605b4,'badges':Array[_0x3a382a(0xae1)](new Set(_0x4a9178)),'answers':_0x1f5558});}const _0x11cd11=_0xeaa37['length']>0x0?_0xeaa37[0x0][_0x3a382a(0xd0e)]:0x0,_0x5adb14=Math[_0x3a382a(0x69c)](..._0xeaa37[_0x3a382a(0x469)](_0x357d18=>_0x357d18[_0x3a382a(0xd0e)])),_0x1fb79f=_0xeaa37[_0x3a382a(0x26d)]>0x0?_0xeaa37[_0xeaa37[_0x3a382a(0x26d)]-0x1][_0x3a382a(0xd0e)]:0x0,_0x1bb279=_0xeaa37['length']>0x0?_0xeaa37[_0xeaa37[_0x3a382a(0x26d)]-0x1]['points']:0x0,_0x16998a=doc(db,_0x3a382a(0x7ff)+appId+_0x3a382a(0x2a9)+_0x3e2901['id']+_0x3a382a(0xe18),_0x4e9f99);await updateDoc(_0x16998a,{'attempts':_0xeaa37,'firstScore':_0x11cd11,'bestScore':_0x5adb14,'latestScore':_0x1fb79f,'points':_0x1bb279});}function cleanupQuizOptions(_0xa379dc){const _0x389cc6=_0x1cfa42,_0x42bf60=(_0x5ecf7f,_0x4486fa)=>_0x4486fa===0x0?_0x5ecf7f:_0x42bf60(_0x4486fa,_0x5ecf7f%_0x4486fa),_0x3c1dad=_0x25080f=>{const _0x2e56a7=_0x5ec1;if(typeof _0x25080f!=='string')return null;_0x25080f=_0x25080f[_0x2e56a7(0xab6)]();const _0x410a87=_0x25080f[_0x2e56a7(0x557)](/[ /]/)[_0x2e56a7(0x275)](_0x647c39=>_0x647c39!=='');if(_0x410a87[_0x2e56a7(0x26d)]===0x3)return parseInt(_0x410a87[0x0])+parseInt(_0x410a87[0x1])/parseInt(_0x410a87[0x2]);else{if(_0x410a87[_0x2e56a7(0x26d)]===0x2)return parseInt(_0x410a87[0x0])/parseInt(_0x410a87[0x1]);else{if(_0x410a87['length']===0x1&&!isNaN(_0x410a87[0x0]))return parseFloat(_0x410a87[0x0]);}}return null;},_0x2842ec=_0x21872e=>{const _0x2e156c=_0x5ec1;if(typeof _0x21872e!==_0x2e156c(0x60a))return _0x21872e;const _0x2a3b2b=_0x21872e['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2a3b2b){const _0x393e20=parseInt(_0x2a3b2b[0x1]);let _0x2181ad=parseInt(_0x2a3b2b[0x2]),_0x194f4a=parseInt(_0x2a3b2b[0x3]);const _0x1db69f=_0x42bf60(_0x2181ad,_0x194f4a);_0x2181ad/=_0x1db69f,_0x194f4a/=_0x1db69f;if(_0x194f4a===0x1)return(_0x393e20+_0x2181ad)[_0x2e156c(0x701)]();return _0x393e20+'\x20'+_0x2181ad+'/'+_0x194f4a;}return _0x21872e;};return _0xa379dc&&_0xa379dc[_0x389cc6(0xb0f)]&&_0xa379dc[_0x389cc6(0xb0f)][_0x389cc6(0xdac)](_0x420a5e=>{const _0x57772b=_0x389cc6;if(_0x420a5e['questionType']==='multiple_choice'&&_0x420a5e['options']){const _0x199814=new Map(),_0x3ccbe4=_0x420a5e[_0x57772b(0x9e4)][_0x420a5e['correctAnswerIndex']];_0x420a5e[_0x57772b(0x9e4)][_0x57772b(0xdac)](_0x57f14a=>{const _0x232274=_0x57772b,_0x21771e=_0x2842ec(_0x57f14a),_0x3609c2=_0x3c1dad(_0x21771e);_0x3609c2!==null&&!_0x199814['has'](_0x3609c2)&&_0x199814[_0x232274(0x793)](_0x3609c2,_0x21771e);}),_0x420a5e['options']=Array['from'](_0x199814['values']());const _0x4b1fb2=_0x420a5e[_0x57772b(0x9e4)][_0x57772b(0xcfb)](_0x6a14ab=>_0x6a14ab===_0x2842ec(_0x3ccbe4));_0x420a5e[_0x57772b(0x3a3)]=_0x4b1fb2!==-0x1?_0x4b1fb2:0x0;}}),_0xa379dc;}function showGameStartConfirmationModal(_0x5a5f71,_0x328779,_0x29ab21){const _0x172083=_0x1cfa42,_0x10d40e=document[_0x172083(0xbf1)](_0x172083(0x4a6));document['getElementById'](_0x172083(0xb4e))['textContent']=_0x172083(0xd08)+_0x29ab21,document[_0x172083(0xbf1)]('game-start-quiz-id')[_0x172083(0x49f)]=_0x5a5f71,document['getElementById'](_0x172083(0x530))[_0x172083(0x49f)]=_0x328779,document['getElementById'](_0x172083(0x360))[_0x172083(0x51f)]=!![];const _0x5691ed=document['getElementById']('sync-variant-selector'),_0xab974e=document['getElementById'](_0x172083(0xc55)),_0x299082=document[_0x172083(0xbf1)](_0x172083(0xc28)),_0x502686=document['getElementById']('black-market-settings-container');_0x328779===_0x172083(0x7f0)?(_0x5691ed[_0x172083(0xe06)]['remove']('hidden'),document[_0x172083(0x19c)]('input[name=\x22syncVariant\x22][value=\x22classic\x22]')['checked']=!![],_0xab974e[_0x172083(0x51f)]=!![],_0x299082[_0x172083(0xe06)][_0x172083(0xb55)]('hidden'),document['getElementById'](_0x172083(0x2f9))[_0x172083(0x49f)]=_0x172083(0xe25),_0x502686[_0x172083(0xe06)][_0x172083(0xb55)](_0x172083(0xa93)),document['getElementById'](_0x172083(0x394))[_0x172083(0x51f)]=!![]):(_0x5691ed[_0x172083(0xe06)]['add'](_0x172083(0xa93)),_0xab974e['checked']=![],_0x299082[_0x172083(0xe06)]['add'](_0x172083(0xa93)),_0x502686['classList'][_0x172083(0xd5c)](_0x172083(0xa93))),_0x10d40e[_0x172083(0xe06)][_0x172083(0xb55)](_0x172083(0xa93));}async function saveGameResultsAsSubmissions(_0x598eda){const _0x3b648f=_0x1cfa42;console[_0x3b648f(0xc15)](_0x3b648f(0x8d9),_0x598eda);const _0x2a511a=_0x598eda['quizId'];let _0x1279bf=[];if(_0x598eda['players'])_0x1279bf=Object[_0x3b648f(0xa76)](_0x598eda[_0x3b648f(0x18d)])['map'](([_0x3c756c,_0x379cbd])=>({'name':_0x3c756c,..._0x379cbd}));else{if(_0x598eda[_0x3b648f(0x484)])Object[_0x3b648f(0xdc2)](_0x598eda[_0x3b648f(0x484)])[_0x3b648f(0xdac)](_0x366f54=>{const _0x124a86=_0x3b648f;_0x366f54[_0x124a86(0x817)][_0x124a86(0xdac)](_0x3bdbcb=>{const _0x1b132d=_0x124a86;_0x1279bf[_0x1b132d(0x229)]({'name':_0x3bdbcb,'score':_0x366f54[_0x1b132d(0xd0e)],'answers':_0x366f54[_0x1b132d(0xad5)]});});});else _0x598eda['responses']&&Object['entries'](_0x598eda['responses'])['forEach'](([_0x5a6ab1,_0x334f59])=>{const _0x4c3994=_0x3b648f;_0x1279bf[_0x4c3994(0x229)]({'name':_0x5a6ab1,..._0x334f59});});}if(_0x1279bf[_0x3b648f(0x26d)]===0x0){console[_0x3b648f(0xc15)]('No\x20player\x20data\x20to\x20save.');return;}const _0x2ce95a=_0x598eda['shuffledQuiz']?.[_0x3b648f(0xb0f)][_0x3b648f(0x26d)]||currentQuizData['questions'][_0x3b648f(0x26d)],_0x8226e5=writeBatch(db);for(const _0x495b62 of _0x1279bf){const _0x27802e=doc(db,_0x3b648f(0x7ff)+appId+_0x3b648f(0x2a9)+_0x2a511a+_0x3b648f(0xe18),_0x495b62['name']),_0x33163a=(_0x495b62[_0x3b648f(0xad5)]||[])['filter'](_0x146035=>_0x146035[_0x3b648f(0x553)])[_0x3b648f(0x26d)];let _0x54932a=_0x33163a;_0x598eda[_0x3b648f(0x794)]&&_0x495b62[_0x3b648f(0xad5)]&&_0x495b62['answers'][_0x3b648f(0xdac)](_0x35455a=>{const _0x1df244=_0x3b648f;if(_0x35455a['isCorrect']&&(_0x35455a[_0x1df244(0x87f)]===!![]||_0x35455a[_0x1df244(0x87f)]===_0x1df244(0x93a)))_0x54932a+=0x1;else!_0x35455a[_0x1df244(0x553)]&&(_0x35455a[_0x1df244(0x87f)]===!![]||_0x35455a[_0x1df244(0x87f)]==='confident')&&(_0x54932a-=0x1);});_0x2ce95a>0x0&&_0x33163a===_0x2ce95a&&(_0x54932a+=0x1);const _0x167e73={'score':_0x33163a,'points':_0x54932a,'badges':_0x495b62[_0x3b648f(0x312)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x495b62['answers']||[])[_0x3b648f(0x469)](_0x49b471=>({'questionId':_0x49b471[_0x3b648f(0x95d)],'answer':_0x49b471[_0x3b648f(0x7d8)],'answerText':_0x49b471['answerText'],'isCorrect':_0x49b471[_0x3b648f(0x553)],'originalQuestionText':_0x49b471['originalQuestionText'],'wasConfident':_0x49b471['wasConfident']}))},_0x2612d1=await getDoc(_0x27802e),_0x27d8fb=_0x2612d1['exists']()?_0x2612d1[_0x3b648f(0x934)]():{},_0x2b5874=_0x27d8fb[_0x3b648f(0xe02)]||0x0,_0x23fe44=_0x27d8fb['attempts']||[],_0x35fab5={'studentName':_0x495b62[_0x3b648f(0x372)],'totalQuestions':_0x2ce95a,'attempts':arrayUnion(_0x167e73),'latestScore':_0x33163a,'points':_0x54932a,'latestSubmittedAt':_0x167e73[_0x3b648f(0x318)],'bestScore':Math[_0x3b648f(0x69c)](_0x2b5874,_0x33163a),'firstScore':_0x23fe44['length']===0x0?_0x33163a:_0x27d8fb[_0x3b648f(0xb33)]||0x0};_0x8226e5[_0x3b648f(0x793)](_0x27802e,_0x35fab5,{'merge':!![]});}try{await _0x8226e5[_0x3b648f(0x735)](),showMessage(_0x3b648f(0x789)+_0x1279bf['length']+_0x3b648f(0x8c7));const _0x5b663e=_0x598eda[_0x3b648f(0x479)]?.[_0x3b648f(0x1cf)]||currentQuizData?.[_0x3b648f(0x1cf)]||currentProjectId;if(_0x5b663e){const _0x21f2fb=[...new Set(_0x1279bf[_0x3b648f(0x469)](_0x42a8d2=>_0x42a8d2[_0x3b648f(0x372)]))];for(const _0x398a25 of _0x21f2fb){await updateStudentProfile(_0x5b663e,_0x398a25);}}}catch(_0x496538){console[_0x3b648f(0x3f5)](_0x3b648f(0x3dd),_0x496538),showMessage(_0x3b648f(0x594));}}async function saveQuiz(_0x3b5054=null,_0x1e66ee=null){const _0x5883e0=_0x1cfa42,_0x321bc0=_0x3b5054||currentProjectId;if(!_0x321bc0){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x5883e0(0xb0f)]||!userId){showMessage(_0x5883e0(0x414));return;}const _0x4ae548=document[_0x5883e0(0xbf1)]('save-quiz-btn');_0x4ae548['disabled']=!![],_0x4ae548[_0x5883e0(0xcf3)]=_0x5883e0(0x28a);const _0x2f864f=document['getElementById'](_0x5883e0(0x3a1))[_0x5883e0(0x51f)];let _0x286481=document[_0x5883e0(0xbf1)](_0x5883e0(0x673))[_0x5883e0(0x6ef)][_0x5883e0(0xab6)]();_0x2f864f&&!_0x286481['startsWith'](_0x5883e0(0x25a))&&(_0x286481='(ก่อนเรียน)\x20'+_0x286481);try{const _0x29a477={'resultsDisplay':document[_0x5883e0(0xbf1)](_0x5883e0(0x980))[_0x5883e0(0x49f)],'shuffle':document[_0x5883e0(0xbf1)](_0x5883e0(0x763))[_0x5883e0(0x49f)],'timerMode':document[_0x5883e0(0xbf1)]('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x5883e0(0xbf1)](_0x5883e0(0x4e8))[_0x5883e0(0x49f)])||0xa,'passingScore':parseInt(document[_0x5883e0(0xbf1)]('passing-score-input')[_0x5883e0(0x49f)])||0x0,'isAdaptive':document['getElementById'](_0x5883e0(0x714))[_0x5883e0(0x51f)],'loopUntilPass':document[_0x5883e0(0xbf1)](_0x5883e0(0x333))[_0x5883e0(0x51f)]},_0x1c23d6=(currentQuizData[_0x5883e0(0xb0f)]||[])[_0x5883e0(0x469)]((_0x1860da,_0xc6282b)=>{const _0x4dade3=_0x5883e0,_0x12f948=document[_0x4dade3(0xbf1)](_0x4dade3(0x90d))[_0x4dade3(0x49f)],_0x339e02={'id':'q_'+Date['now']()+'_'+_0xc6282b,'questionText':_0x1860da['questionText']||'','explanation':_0x1860da[_0x4dade3(0x582)]||_0x4dade3(0x1bb),'questionType':_0x1860da[_0x4dade3(0xb83)]||_0x12f948,'imageCode':_0x1860da[_0x4dade3(0x50a)]||null};return(_0x339e02['questionType']===_0x4dade3(0x37c)||_0x339e02['questionType']===_0x4dade3(0xa46)||_0x339e02[_0x4dade3(0xb83)]==='mixed'&&_0x1860da['options'])&&(_0x339e02[_0x4dade3(0x9e4)]=_0x1860da[_0x4dade3(0x9e4)]||[],_0x339e02[_0x4dade3(0x3a3)]=_0x1860da['correctAnswerIndex']!==undefined?_0x1860da[_0x4dade3(0x3a3)]:0x0),(_0x339e02[_0x4dade3(0xb83)]===_0x4dade3(0x944)||_0x339e02[_0x4dade3(0xb83)]===_0x4dade3(0x30a)||_0x339e02[_0x4dade3(0xb83)]===_0x4dade3(0x482)&&_0x1860da[_0x4dade3(0x886)])&&(_0x339e02['idealAnswer']=_0x1860da['idealAnswer']||''),_0x339e02[_0x4dade3(0xb83)]===_0x4dade3(0x1cb)&&(_0x339e02[_0x4dade3(0x59b)]=_0x1860da[_0x4dade3(0x59b)]===!![]),_0x339e02[_0x4dade3(0xb83)]===_0x4dade3(0x2bf)&&(_0x339e02['stem']=_0x1860da['stem']||'',_0x339e02[_0x4dade3(0x578)]=_0x1860da[_0x4dade3(0x578)]||'',_0x339e02[_0x4dade3(0xb53)]=_0x1860da[_0x4dade3(0xb53)]||[]),_0x339e02;}),_0x4f4ca4={'topic':_0x286481,'quizType':currentQuizData[_0x5883e0(0x4c3)]||_0x5883e0(0x37c),'questions':_0x1c23d6,'projectId':_0x321bc0,'createdBy':userId,'createdAt':new Date()[_0x5883e0(0x5c8)](),'status':_0x5883e0(0x94c),'settings':_0x29a477,'quizMode':_0x2f864f?_0x5883e0(0x1c2):_0x5883e0(0xd7f),'pairedQuizId':null,'lessonPlan':null};let _0xf2166b;while(!![]){_0xf2166b=Math[_0x5883e0(0x74e)](0x3e8+Math[_0x5883e0(0x72a)]()*0x2328)[_0x5883e0(0x701)]();const _0x4a677f=await getDoc(doc(db,_0x5883e0(0x7ff)+appId+_0x5883e0(0x254),_0xf2166b));if(!_0x4a677f['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5883e0(0x254),_0xf2166b),_0x4f4ca4);if(_0x1e66ee&&currentBlueprintProjectId){console['log'](_0x5883e0(0x524)+_0xf2166b+_0x5883e0(0xa27)+_0x1e66ee);try{const _0x3a3990=doc(db,_0x5883e0(0x7ff)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3a3990,{[_0x5883e0(0x9da)+_0x1e66ee+'.linkedQuizIds']:arrayUnion(_0xf2166b)});}catch(_0x3577ad){console[_0x5883e0(0x3f5)](_0x5883e0(0x899),_0x3577ad);}}currentQuizData[_0x5883e0(0x607)]=_0x29a477,currentQuizData['id']=_0xf2166b;const _0xa50279=document[_0x5883e0(0xbf1)](_0x5883e0(0x7d3));_0xa50279[_0x5883e0(0xcf3)]=_0x5883e0(0x668)+_0xf2166b+_0x5883e0(0x20e),document['getElementById'](_0x5883e0(0x183))[_0x5883e0(0x4ef)](_0x5883e0(0x67d),()=>copyTextToClipboard(_0xf2166b,_0x5883e0(0x4a7))),document[_0x5883e0(0xbf1)]('start-live-race-generated-btn')[_0x5883e0(0x4ef)]('click',()=>handleStartLiveRace(_0xf2166b)),document[_0x5883e0(0xbf1)](_0x5883e0(0x21b))['addEventListener'](_0x5883e0(0x67d),()=>startPresentation(currentQuizData)),document[_0x5883e0(0xbf1)](_0x5883e0(0x885))[_0x5883e0(0x4ef)](_0x5883e0(0x67d),startAdminTest),showMessage(_0x5883e0(0x2f0));}catch(_0x1a4291){console[_0x5883e0(0x3f5)](_0x5883e0(0xd83),_0x1a4291),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x4ae548[_0x5883e0(0x635)]=![],_0x4ae548[_0x5883e0(0xcf3)]=_0x5883e0(0xbef);}}function promptForProjectAndSave(){const _0x42b595=_0x1cfa42,_0x1ced02=document[_0x42b595(0xbf1)](_0x42b595(0xcac)),_0x364f01=document['getElementById'](_0x42b595(0x1b8)),_0x564587=_0x1ced02[_0x42b595(0x19c)]('h3'),_0x3e339b=document[_0x42b595(0xbf1)](_0x42b595(0x7e9));_0x564587[_0x42b595(0x617)]=_0x42b595(0x4e5),_0x3e339b[_0x42b595(0x617)]=_0x42b595(0xdd9);allProjects[_0x42b595(0x26d)]===0x0?(_0x364f01[_0x42b595(0xcf3)]=_0x42b595(0x536),_0x3e339b[_0x42b595(0x635)]=!![]):(_0x364f01['innerHTML']=allProjects['map'](_0x28acfe=>_0x42b595(0x7ce)+_0x28acfe['id']+'\x22>'+_0x28acfe[_0x42b595(0x19e)]+_0x42b595(0x224))[_0x42b595(0x4ce)](''),_0x3e339b[_0x42b595(0x635)]=![]);_0x1ced02['classList'][_0x42b595(0xb55)]('hidden');const _0xc3705f=()=>{const _0x337453=_0x42b595,_0x1588e0=_0x364f01[_0x337453(0x49f)];_0x1588e0?(currentProjectId=_0x1588e0,_0x1ced02[_0x337453(0xe06)][_0x337453(0xd5c)](_0x337453(0xa93)),saveQuiz(),_0x564587[_0x337453(0x617)]=_0x337453(0x51c),_0x3e339b[_0x337453(0x617)]=_0x337453(0x8bf),_0x3e339b['removeEventListener'](_0x337453(0x67d),_0xc3705f),_0x3e339b[_0x337453(0x4ef)](_0x337453(0x67d),confirmMoveQuiz)):showMessage(_0x337453(0xcea));};_0x3e339b[_0x42b595(0x85c)](_0x42b595(0x67d),confirmMoveQuiz),_0x3e339b[_0x42b595(0x4ef)]('click',_0xc3705f);}function copyTextToClipboard(_0xd7c813,_0x26567d){const _0x1ffd93=_0x1cfa42,_0x22ff6b=document[_0x1ffd93(0x6a2)]('textarea');_0x22ff6b[_0x1ffd93(0x49f)]=_0xd7c813,_0x22ff6b[_0x1ffd93(0x403)][_0x1ffd93(0xc7d)]='fixed',_0x22ff6b[_0x1ffd93(0x403)][_0x1ffd93(0xdd2)]='0',document[_0x1ffd93(0xce8)]['appendChild'](_0x22ff6b),_0x22ff6b[_0x1ffd93(0x451)](),_0x22ff6b[_0x1ffd93(0x4f4)]();try{const _0x332c7a=document[_0x1ffd93(0x884)](_0x1ffd93(0x1f2));showMessage(_0x332c7a?_0x26567d:_0x1ffd93(0xc81));}catch(_0x8dff73){showMessage(_0x1ffd93(0xc81)),console[_0x1ffd93(0x3f5)]('Copy\x20command\x20failed',_0x8dff73);}document[_0x1ffd93(0xce8)][_0x1ffd93(0x413)](_0x22ff6b);}function listenForProjectQuizzes(_0x3229cb){const _0x199ac4=_0x1cfa42,_0x472166=collection(db,'artifacts/'+appId+_0x199ac4(0x254)),_0x37a248=query(_0x472166,where('projectId','==',_0x3229cb));unsubscribeQuizzesListener=onSnapshot(_0x37a248,async _0x569824=>{allQuizzes=_0x569824['docs']['map'](_0x501c50=>({'id':_0x501c50['id'],..._0x501c50['data']()})),renderQuizzes();},_0x4a68bb=>{const _0x2362db=_0x199ac4;console[_0x2362db(0x3f5)]('Error\x20fetching\x20project\x20quizzes:',_0x4a68bb),document[_0x2362db(0xbf1)](_0x2362db(0xc79))[_0x2362db(0xcf3)]=_0x2362db(0x28b);});}async function renderQuizzes(){const _0x1aa73a=_0x1cfa42,_0x40ac73=document[_0x1aa73a(0xbf1)]('project-quizzes-list'),_0x662318=document[_0x1aa73a(0xbf1)]('quiz-search-input')[_0x1aa73a(0x49f)]['toLowerCase']();let _0x3b5580;currentProjectId===_0x1aa73a(0x4e4)?_0x3b5580=starredQuizzes:_0x3b5580=allQuizzes;let _0x43c249=_0x3b5580[_0x1aa73a(0x275)](_0x3eb014=>_0x3eb014[_0x1aa73a(0x3b7)][_0x1aa73a(0xd64)]()[_0x1aa73a(0x1ef)](_0x662318));_0x43c249[_0x1aa73a(0x712)]((_0x41a323,_0x3cf76a)=>new Date(_0x3cf76a[_0x1aa73a(0xc73)])-new Date(_0x41a323['createdAt']));if(_0x43c249[_0x1aa73a(0x26d)]===0x0){_0x40ac73[_0x1aa73a(0xcf3)]=_0x1aa73a(0x61d);return;}const _0x4bdbf4={},_0x6df5b6=_0x43c249[_0x1aa73a(0x469)](async _0x35882c=>{const _0xe50222=_0x1aa73a,_0x252187=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x35882c['id']+_0xe50222(0xe18)),_0xa2280e=await getDocs(_0x252187);_0x4bdbf4[_0x35882c['id']]=_0xa2280e[_0xe50222(0x1df)];});await Promise[_0x1aa73a(0x34e)](_0x6df5b6);let _0x1b96f9='';_0x43c249[_0x1aa73a(0xdac)](_0x44e70c=>{const _0x57e956=_0x1aa73a,_0x4664be=_0x4bdbf4[_0x44e70c['id']]||0x0,_0x2885c6=_0x44e70c[_0x57e956(0x657)]||_0x57e956(0x94c),_0x146a0e=_0x44e70c[_0x57e956(0x607)]?.[_0x57e956(0xc4c)]||_0x57e956(0xade);let _0x3d0072='',_0x10a9a6='';const _0x39aeed=new Date();let _0x4aba28=_0x2885c6;if(_0x2885c6===_0x57e956(0x797)){const _0x2e4db0=_0x44e70c[_0x57e956(0x21a)]?new Date(_0x44e70c[_0x57e956(0x21a)]):null,_0x2410e5=_0x44e70c['endTime']?new Date(_0x44e70c[_0x57e956(0x4be)]):null;if(_0x2410e5&&_0x39aeed>_0x2410e5)_0x4aba28=_0x57e956(0x648);else _0x2e4db0&&_0x39aeed<_0x2e4db0?_0x4aba28='scheduled_pending':_0x4aba28=_0x57e956(0x94c);}switch(_0x4aba28){case _0x57e956(0x648):_0x3d0072=_0x57e956(0x6eb),_0x10a9a6=_0x57e956(0xd8b);break;case _0x57e956(0x68a):_0x3d0072='รอเปิด',_0x10a9a6=_0x57e956(0xb38);break;case _0x57e956(0x94c):_0x3d0072=_0x146a0e!==_0x57e956(0xade)?_0x57e956(0x1d0):'เปิดใช้งาน',_0x10a9a6=_0x57e956(0x7b5);break;default:_0x3d0072='ตั้งเวลา\x20(เปิด)',_0x10a9a6=_0x57e956(0x7b5);break;}let _0xefcf72='';const _0x3d5b7d={'day':_0x57e956(0x21f),'month':'2-digit','year':_0x57e956(0x7fd),'hour':'2-digit','minute':_0x57e956(0x21f),'hour12':![]};if(_0x2885c6===_0x57e956(0x797)){if(_0x44e70c[_0x57e956(0x21a)])_0xefcf72+=_0x57e956(0xcae)+new Date(_0x44e70c[_0x57e956(0x21a)])['toLocaleString'](_0x57e956(0x1d9),_0x3d5b7d)+_0x57e956(0x1e3);if(_0x44e70c['endTime'])_0xefcf72+=_0x57e956(0x4ab)+new Date(_0x44e70c['endTime'])[_0x57e956(0x5f8)](_0x57e956(0x1d9),_0x3d5b7d)+_0x57e956(0x1e3);}let _0x115952='';if(_0x44e70c[_0x57e956(0x618)]){const _0x5d15d2=allQuizzes[_0x57e956(0x633)](_0x260302=>_0x260302['id']===_0x44e70c[_0x57e956(0x618)]);if(_0x5d15d2){let _0x3aa1a6,_0x3dc48d;new Date(_0x44e70c[_0x57e956(0xc73)])<new Date(_0x5d15d2[_0x57e956(0xc73)])?(_0x3aa1a6=_0x44e70c['id'],_0x3dc48d=_0x5d15d2['id']):(_0x3aa1a6=_0x5d15d2['id'],_0x3dc48d=_0x44e70c['id']),_0x115952+=_0x57e956(0xb8b)+_0x3dc48d+_0x57e956(0x59a)+_0x3aa1a6+_0x57e956(0x8b5);}}else _0x44e70c[_0x57e956(0xdd3)]==='pre-test'&&(_0x115952+=_0x57e956(0x56a)+_0x44e70c['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x44e70c[_0x57e956(0xdd3)]===_0x57e956(0x1c2)&&_0x4664be>0x0)_0x115952+=_0x57e956(0x56a)+_0x44e70c['id']+_0x57e956(0x9af);else!_0x44e70c['pairedQuizId']&&_0x44e70c[_0x57e956(0xdd3)]!=='pre-test'&&_0x4664be>0x0&&(_0x115952+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x44e70c['id']+_0x57e956(0x751));let _0x5b688d='';_0x44e70c[_0x57e956(0x618)]?_0x5b688d='<button\x20data-quiz-id=\x22'+_0x44e70c['id']+_0x57e956(0x3c2):_0x5b688d=_0x57e956(0x335)+_0x44e70c['id']+_0x57e956(0x64b),_0x1b96f9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x44e70c['id']+_0x57e956(0x511)+_0x44e70c[_0x57e956(0x3b7)]+_0x57e956(0xba9)+_0x44e70c['questions'][_0x57e956(0x26d)]+_0x57e956(0x31e)+new Date(_0x44e70c[_0x57e956(0xc73)])[_0x57e956(0x5f8)]('th-TH')+_0x57e956(0x87e)+_0x4664be+_0x57e956(0x340)+_0xefcf72+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x10a9a6+'\x22>'+_0x3d0072+_0x57e956(0xc43)+_0x44e70c['id']+_0x57e956(0xa78)+_0x44e70c['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x44e70c[_0x57e956(0x266)]?'fas\x20fa-star\x20text-yellow-500':_0x57e956(0x1b9))+_0x57e956(0x8d4)+_0x115952+_0x57e956(0x9c6)+_0x44e70c['id']+_0x57e956(0x818)+_0x44e70c['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x44e70c['id']+_0x57e956(0xb57)+_0x44e70c['id']+_0x57e956(0xce3)+_0x44e70c['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x44e70c['id']+_0x57e956(0x44b)+_0x44e70c['id']+_0x57e956(0x5ae)+_0x44e70c[_0x57e956(0x3b7)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x44e70c['id']+_0x57e956(0xced)+_0x44e70c['id']+_0x57e956(0x6f3)+_0x5b688d+_0x57e956(0x872)+_0x44e70c['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x44e70c['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x44e70c['id']+_0x57e956(0xadb)+_0x44e70c['id']+_0x57e956(0xaf5)+_0x44e70c['id']+_0x57e956(0x813)+_0x44e70c['id']+_0x57e956(0xaff)+_0x44e70c['id']+_0x57e956(0x1ee)+_0x44e70c['id']+_0x57e956(0x5ae)+_0x44e70c['topic']+_0x57e956(0x833)+_0x44e70c['id']+_0x57e956(0xbee);}),_0x40ac73[_0x1aa73a(0xcf3)]=_0x1b96f9,document[_0x1aa73a(0x218)](_0x1aa73a(0x2d9))[_0x1aa73a(0xdac)](_0x122514=>{const _0x459308=_0x1aa73a;_0x122514[_0x459308(0x4ef)](_0x459308(0x67d),()=>{const _0x5d90f4=_0x459308,_0x41f578=_0x122514[_0x5d90f4(0x2b9)][_0x5d90f4(0x506)];showQuizDetailView(_0x41f578);});});}async function handleUnpairQuiz(_0xa53e30){const _0x448b48=_0x1cfa42,_0x518fc7=allQuizzes[_0x448b48(0x633)](_0x5ecc70=>_0x5ecc70['id']===_0xa53e30);if(!_0x518fc7||!_0x518fc7[_0x448b48(0x618)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x448b48(0xaf0),async()=>{const _0x33651e=_0x448b48;try{const _0x59ffc6=doc(db,_0x33651e(0x7ff)+appId+'/public/data/quizzes',_0xa53e30),_0x39e289=doc(db,_0x33651e(0x7ff)+appId+_0x33651e(0x254),_0x518fc7[_0x33651e(0x618)]),_0x46039d=writeBatch(db);_0x46039d[_0x33651e(0x942)](_0x59ffc6,{'pairedQuizId':null}),_0x46039d[_0x33651e(0x942)](_0x39e289,{'pairedQuizId':null}),await _0x46039d['commit'](),showMessage(_0x33651e(0x936));}catch(_0x4bd06a){console['error'](_0x33651e(0x7da),_0x4bd06a),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x182955,_0x409de7){const _0x348a1b=_0x1cfa42,_0x116879=window[_0x348a1b(0x6a0)]('',_0x348a1b(0xa15)),_0x136c91='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x409de7['topic']+_0x348a1b(0x6b5)+_0x409de7[_0x348a1b(0x3b7)]+_0x348a1b(0x3a9)+_0x182955['learningGaps']['map'](_0x44ff5a=>_0x348a1b(0x963)+_0x44ff5a+_0x348a1b(0x675))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x182955[_0x348a1b(0x6cb)]+_0x348a1b(0xa51)+_0x182955['practiceProblems'][_0x348a1b(0x469)](_0x5f37f5=>_0x348a1b(0xa1f)+_0x5f37f5[_0x348a1b(0x7bc)]+_0x348a1b(0x504)+_0x5f37f5[_0x348a1b(0xbb7)]+_0x348a1b(0xb66))[_0x348a1b(0x4ce)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x116879[_0x348a1b(0x5f2)][_0x348a1b(0xb37)](_0x136c91),_0x116879[_0x348a1b(0x5f2)][_0x348a1b(0xdb7)](),_0x116879[_0x348a1b(0xe0a)]=function(){setTimeout(()=>{_0x116879['print']();},0x3e8);};}async function handleAiFixFormula(_0x25d8ef){const _0xb1fdfe=_0x1cfa42,_0x40fe7a=document['querySelector'](_0xb1fdfe(0x912)+_0x25d8ef+'\x22]');if(!_0x40fe7a)return;const _0x5cae86=_0x40fe7a[_0xb1fdfe(0x2b9)][_0xb1fdfe(0x9ae)],_0x13e62d=_0x40fe7a[_0xb1fdfe(0x19c)](_0xb1fdfe(0xaa6));let _0x31b8dc={'question':_0x40fe7a['querySelector']('textarea')[_0xb1fdfe(0x49f)]};switch(_0x5cae86){case _0xb1fdfe(0x37c):_0x31b8dc[_0xb1fdfe(0x9e4)]=Array[_0xb1fdfe(0xae1)](_0x40fe7a['querySelectorAll'](_0xb1fdfe(0xbbc)))['map'](_0x127981=>_0x127981[_0xb1fdfe(0x49f)]);break;case _0xb1fdfe(0x944):_0x31b8dc[_0xb1fdfe(0x886)]=_0x40fe7a[_0xb1fdfe(0x19c)](_0xb1fdfe(0x2f3))['value'];break;case _0xb1fdfe(0x2bf):_0x31b8dc[_0xb1fdfe(0x578)]=_0x40fe7a[_0xb1fdfe(0x19c)]('.correct-response-input')[_0xb1fdfe(0x49f)];break;}_0x13e62d[_0xb1fdfe(0xcf3)]=_0xb1fdfe(0x5c7),_0x13e62d[_0xb1fdfe(0x635)]=!![];try{const _0x878685=_0xb1fdfe(0x3a5)+JSON['stringify'](_0x31b8dc)+_0xb1fdfe(0x7f5),_0x765441={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0xb1fdfe(0x1d5),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0xb1fdfe(0xe19)}},'required':[_0xb1fdfe(0x7bc)]}},'required':[_0xb1fdfe(0xd25)]},_0x592676=await callAnalysisApi(_0x878685,_0x765441);if(_0x592676&&_0x592676['fixedData']){const _0x11593f=_0x592676['fixedData'];_0x40fe7a[_0xb1fdfe(0x19c)](_0xb1fdfe(0x795))[_0xb1fdfe(0x49f)]=_0x11593f['question']||_0x31b8dc[_0xb1fdfe(0x7bc)];switch(_0x5cae86){case _0xb1fdfe(0x37c):_0x11593f[_0xb1fdfe(0x9e4)]&&_0x11593f['options'][_0xb1fdfe(0x26d)]>0x0&&_0x40fe7a[_0xb1fdfe(0x218)](_0xb1fdfe(0xbbc))[_0xb1fdfe(0xdac)]((_0x5e119a,_0x1f0cbe)=>{const _0x55da3e=_0xb1fdfe;_0x5e119a[_0x55da3e(0x49f)]=_0x11593f[_0x55da3e(0x9e4)][_0x1f0cbe]||_0x31b8dc[_0x55da3e(0x9e4)][_0x1f0cbe];});break;case _0xb1fdfe(0x944):_0x40fe7a[_0xb1fdfe(0x19c)](_0xb1fdfe(0x2f3))['value']=_0x11593f[_0xb1fdfe(0x886)]||_0x31b8dc['idealAnswer'];break;case _0xb1fdfe(0x2bf):_0x40fe7a[_0xb1fdfe(0x19c)](_0xb1fdfe(0x297))[_0xb1fdfe(0x49f)]=_0x11593f['correctResponse']||_0x31b8dc[_0xb1fdfe(0x578)];break;}if(_0x31b8dc['question']!==_0x11593f['question'])try{const _0x570e7b=collection(db,'artifacts/'+appId+_0xb1fdfe(0xd37));await addDoc(_0x570e7b,{'broken':_0x31b8dc[_0xb1fdfe(0x7bc)],'fixed':_0x11593f[_0xb1fdfe(0x7bc)],'createdAt':serverTimestamp()});}catch(_0x12dda5){console['error'](_0xb1fdfe(0xa0e),_0x12dda5);}showMessage(_0xb1fdfe(0xc75));}else throw new Error(_0xb1fdfe(0x322));}catch(_0x232453){console['error'](_0xb1fdfe(0x42d),_0x232453),showMessage(_0xb1fdfe(0x2c6));}finally{_0x13e62d[_0xb1fdfe(0xcf3)]=_0xb1fdfe(0x2be),_0x13e62d['disabled']=![];}}async function handleGenerateLessonPlan(_0x3216ee){const _0x4e4f88=_0x1cfa42;showMessage(_0x4e4f88(0x717));try{const _0x498afe=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3216ee),_0xaddbff=await getDoc(_0x498afe);if(!_0xaddbff[_0x4e4f88(0x2b1)]())throw new Error(_0x4e4f88(0x334));const _0x789c71={'id':_0x3216ee,..._0xaddbff[_0x4e4f88(0x934)]()},_0x41f530=collection(db,_0x4e4f88(0x7ff)+appId+_0x4e4f88(0x254),_0x3216ee,_0x4e4f88(0x9ff)),_0x34c9cd=await getDocs(_0x41f530),_0x280553=_0x34c9cd[_0x4e4f88(0xd24)][_0x4e4f88(0x469)](_0x136c7d=>_0x136c7d['data']());if(_0x280553[_0x4e4f88(0x26d)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x5e805a=calculateItemAnalysis(_0x789c71,_0x280553)[_0x4e4f88(0x89c)],_0x301d1d=calculateDistractorAnalysis(_0x789c71,_0x280553),_0x47541e=_0x42a354=>{const _0x30511b=_0x4e4f88;if(!_0x42a354)return'';return _0x42a354[_0x30511b(0x93c)](/\\/g,'\x5c\x5c')[_0x30511b(0x93c)](/"/g,'\x5c\x22')[_0x30511b(0x93c)](/\n/g,'\x5cn');};let _0xf9b3a3=_0x4e4f88(0x4ae);_0x789c71[_0x4e4f88(0xb0f)][_0x4e4f88(0xdac)]((_0x5dba75,_0x57b236)=>{const _0x2e5a67=_0x4e4f88,_0x375da7=_0x5e805a[_0x57b236]?.['p'][_0x2e5a67(0xac2)](0x2)||_0x2e5a67(0xd84),_0xf716b7=_0x5e805a[_0x57b236]?.['r'][_0x2e5a67(0xac2)](0x2)||_0x2e5a67(0xd84),_0xb040f4=_0x47541e(_0x5dba75[_0x2e5a67(0x324)]||_0x5dba75[_0x2e5a67(0x826)]);_0xf9b3a3+=_0x2e5a67(0x2a4)+(_0x57b236+0x1)+_0x2e5a67(0x309)+_0x375da7+_0x2e5a67(0xdf0)+_0xf716b7+'):\x20'+_0xb040f4+'\x5cn';if(_0x5dba75['questionType']==='multiple_choice'&&_0x301d1d[_0x57b236]){const _0x5bf482=_0x301d1d[_0x57b236],_0x448160=Object[_0x2e5a67(0x972)](_0x5bf482)['filter'](_0xbff2c9=>parseInt(_0xbff2c9)!==_0x5dba75['correctAnswerIndex'])[_0x2e5a67(0x712)]((_0x4727af,_0x1b24bf)=>_0x5bf482[_0x1b24bf][_0x2e5a67(0x78e)]-_0x5bf482[_0x4727af][_0x2e5a67(0x78e)])[0x0];if(_0x448160&&_0x5bf482[_0x448160][_0x2e5a67(0x78e)]>0x0){const _0x135589=_0x47541e(_0x5bf482[_0x448160][_0x2e5a67(0x227)]);_0xf9b3a3+=_0x2e5a67(0x194)+_0x135589+_0x2e5a67(0x564);}}});const _0x4ea30d=_0x4e4f88(0x21e)+_0x789c71[_0x4e4f88(0x3b7)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf9b3a3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2eb662={'type':_0x4e4f88(0xc68),'properties':{'learningGaps':{'type':_0x4e4f88(0x1d5),'items':{'type':'STRING'}},'teachingContent':{'type':_0x4e4f88(0xe19)},'practiceProblems':{'type':_0x4e4f88(0x1d5),'items':{'type':_0x4e4f88(0xc68),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x4e4f88(0xe19)}}}}},'required':[_0x4e4f88(0x65b),_0x4e4f88(0x6cb),'practiceProblems']},_0x1f80fd=await callAnalysisApi(_0x4ea30d,_0x2eb662);await updateDoc(_0x498afe,{'lessonPlan':_0x1f80fd});const _0x5ecf73='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x789c71[_0x4e4f88(0x3b7)]+_0x4e4f88(0x88a)+_0x1f80fd['learningGaps']['map'](_0xabdaff=>_0x4e4f88(0x963)+_0xabdaff+_0x4e4f88(0x675))[_0x4e4f88(0x4ce)]('')+_0x4e4f88(0x9ec)+_0x1f80fd[_0x4e4f88(0x6cb)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x1f80fd[_0x4e4f88(0x89d)][_0x4e4f88(0x469)](_0x46b91e=>_0x4e4f88(0x9b8)+_0x46b91e[_0x4e4f88(0x7bc)]+_0x4e4f88(0x620)+_0x46b91e[_0x4e4f88(0xbb7)]+_0x4e4f88(0xab0))[_0x4e4f88(0x4ce)]('')+_0x4e4f88(0x170);document[_0x4e4f88(0xbf1)](_0x4e4f88(0xba5))['textContent']=_0x4e4f88(0x26e)+_0x789c71['topic'],document[_0x4e4f88(0xbf1)]('lesson-plan-content')[_0x4e4f88(0xcf3)]=_0x5ecf73,document[_0x4e4f88(0xbf1)]('lesson-plan-modal')[_0x4e4f88(0xe06)]['remove']('hidden');if(window[_0x4e4f88(0x6b2)])MathJax[_0x4e4f88(0x255)]();messageModal[_0x4e4f88(0xe06)][_0x4e4f88(0xd5c)](_0x4e4f88(0xa93));}catch(_0x1d7979){console['error'](_0x4e4f88(0x96d),_0x1d7979),showMessage(_0x4e4f88(0x699)+_0x1d7979[_0x4e4f88(0x495)]);}}async function handleDuplicateQuiz(_0x3a449e){const _0x68223d=_0x1cfa42;try{const _0x1de326=doc(db,'artifacts/'+appId+_0x68223d(0x254),_0x3a449e),_0x170f22=await getDoc(_0x1de326);if(_0x170f22[_0x68223d(0x2b1)]()){const _0x5dfcd8=_0x170f22[_0x68223d(0x934)]();let _0x870980='',_0x511419=_0x68223d(0xd7f),_0x3e9450=null;if(_0x5dfcd8[_0x68223d(0xdd3)]===_0x68223d(0x1c2)){let _0x4e1405=_0x5dfcd8['topic'][_0x68223d(0x93c)](_0x68223d(0x25a),'')['trim']();_0x870980=_0x68223d(0x692)+_0x4e1405,_0x511419='post-test',_0x3e9450=_0x3a449e;}else _0x870980=_0x68223d(0x446)+_0x5dfcd8['topic'];const _0x42d445={..._0x5dfcd8,'topic':_0x870980,'createdAt':new Date()[_0x68223d(0x5c8)](),'quizMode':_0x511419,'pairedQuizId':_0x3e9450};let _0x9190e4;while(!![]){_0x9190e4=Math[_0x68223d(0x74e)](0x3e8+Math[_0x68223d(0x72a)]()*0x2328)[_0x68223d(0x701)]();const _0x2abd1b=await getDoc(doc(db,_0x68223d(0x7ff)+appId+'/public/data/quizzes',_0x9190e4));if(!_0x2abd1b[_0x68223d(0x2b1)]())break;}const _0x34320c=doc(db,_0x68223d(0x7ff)+appId+_0x68223d(0x254),_0x9190e4);await setDoc(_0x34320c,_0x42d445),_0x42d445[_0x68223d(0xdd3)]===_0x68223d(0xcbd)&&await updateDoc(_0x1de326,{'pairedQuizId':_0x9190e4}),showMessage(_0x68223d(0xce6));}else throw new Error(_0x68223d(0xa12));}catch(_0x4e9620){console[_0x68223d(0x3f5)](_0x68223d(0x835),_0x4e9620),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x38f1c8,_0x4e5b06=!![]){const _0x4c478c=_0x1cfa42;try{const _0x30f3ba=writeBatch(db),_0x576969=collection(db,_0x4c478c(0x7ff)+appId+_0x4c478c(0x2a9)+_0x38f1c8+_0x4c478c(0xe18)),_0x1e164a=await getDocs(_0x576969);_0x1e164a[_0x4c478c(0xdac)](_0x3a36fe=>{const _0x35bc48=_0x4c478c;_0x30f3ba[_0x35bc48(0x24d)](doc(_0x576969,_0x3a36fe['id']));});const _0xdda0e1=doc(db,_0x4c478c(0x7ff)+appId+_0x4c478c(0x254),_0x38f1c8);_0x30f3ba[_0x4c478c(0x24d)](_0xdda0e1),await _0x30f3ba[_0x4c478c(0x735)]();try{console[_0x4c478c(0xc15)](_0x4c478c(0x7d0)+_0x38f1c8+_0x4c478c(0xa72));const _0x117a24=collection(db,'artifacts/'+appId+_0x4c478c(0xc6f)),_0xdbbe99=await getDocs(_0x117a24),_0x178180=[];_0xdbbe99[_0x4c478c(0xdac)](_0x768b13=>{const _0x4d7eb6=_0x4c478c,_0x32cfed=_0x768b13['data'](),_0x1ccc33=_0x32cfed[_0x4d7eb6(0xa91)]||{};let _0x11e3c5=![];for(const _0x10245e in _0x1ccc33){const _0x35b737=_0x1ccc33[_0x10245e];if(_0x35b737[_0x4d7eb6(0x38b)]&&_0x35b737[_0x4d7eb6(0x38b)][_0x4d7eb6(0x1ef)](_0x38f1c8)){_0x11e3c5=!![];const _0xe3d8ec=doc(db,'artifacts/'+appId+_0x4d7eb6(0xc6f),_0x768b13['id']),_0x23c070=updateDoc(_0xe3d8ec,{[_0x4d7eb6(0x9da)+_0x10245e+'.linkedQuizIds']:arrayRemove(_0x38f1c8)});_0x178180[_0x4d7eb6(0x229)](_0x23c070);}}}),_0x178180[_0x4c478c(0x26d)]>0x0&&(await Promise['all'](_0x178180),console['log'](_0x4c478c(0xb3b)+_0x178180[_0x4c478c(0x26d)]+_0x4c478c(0x54e)+_0x38f1c8+'.'));}catch(_0xd95ad0){console[_0x4c478c(0x3f5)](_0x4c478c(0x854),_0xd95ad0);}_0x4e5b06&&showMessage(_0x4c478c(0x4bd));}catch(_0x426d6c){console[_0x4c478c(0x3f5)](_0x4c478c(0xd12),_0x426d6c),_0x4e5b06&&showMessage(_0x4c478c(0x1a2));}}async function showQuizDetailView(_0x10f6ae){const _0x40b1b9=_0x1cfa42;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x2f45c9=doc(db,_0x40b1b9(0x7ff)+appId+'/public/data/quizzes',_0x10f6ae),_0x3b6f23=await getDoc(_0x2f45c9);if(!_0x3b6f23[_0x40b1b9(0x2b1)]()){showMessage(_0x40b1b9(0x334));return;}const _0x350659={'id':_0x3b6f23['id'],..._0x3b6f23[_0x40b1b9(0x934)]()};currentQuizData=_0x350659;const _0x560246=doc(db,_0x40b1b9(0x7ff)+appId+_0x40b1b9(0xcc5),_0x350659['projectId']),_0x7dd296=await getDoc(_0x560246);_0x7dd296[_0x40b1b9(0x2b1)]()?(currentProjectData=_0x7dd296[_0x40b1b9(0x934)](),currentProjectId=_0x350659[_0x40b1b9(0x1cf)]):(currentProjectData={'students':[]},currentProjectId=_0x350659[_0x40b1b9(0x1cf)]);document[_0x40b1b9(0xbf1)](_0x40b1b9(0x6df))[_0x40b1b9(0x617)]=_0x350659[_0x40b1b9(0x3b7)],document[_0x40b1b9(0xbf1)](_0x40b1b9(0xbe8))[_0x40b1b9(0x617)]=_0x10f6ae;const _0x19675a=collection(db,_0x40b1b9(0x7ff)+appId+_0x40b1b9(0x254),_0x10f6ae,_0x40b1b9(0x9ff));unsubscribeSubmissionsListener=onSnapshot(_0x19675a,_0x47a674=>{const _0x27277a=_0x40b1b9,_0xabf02=_0x47a674['docs']['map'](_0x464094=>({'id':_0x464094['id'],..._0x464094[_0x27277a(0x934)]()}));currentSubmissions=_0xabf02;const _0x1a5d06=_0xabf02['filter'](_0x407d12=>_0x407d12['attempts']&&_0x407d12[_0x27277a(0x8f7)][_0x27277a(0x26d)]>0x0);renderBehaviorLog(_0xabf02),renderAnswerGrid(currentProjectData[_0x27277a(0xb22)],_0x1a5d06,_0x350659),renderAnalytics(_0x350659,_0x1a5d06),renderQuizResultsTable(currentProjectData[_0x27277a(0xb22)],_0xabf02,_0x350659),renderQuizLeaderboard(_0x1a5d06,_0x350659,_0x27277a(0xb97));}),showView(_0x40b1b9(0x632));}catch(_0x75cc3b){console[_0x40b1b9(0x3f5)](_0x40b1b9(0x613),_0x75cc3b),showMessage(_0x40b1b9(0x22b));}}function renderAnswerGrid(_0x4b9428,_0x5c9234,_0x489b71){const _0x504e1b=_0x1cfa42,_0x12ad21=document['getElementById'](_0x504e1b(0x5cb));if(!_0x12ad21)return;if(!_0x4b9428||_0x4b9428[_0x504e1b(0x26d)]===0x0){_0x12ad21[_0x504e1b(0xcf3)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x302ceb=_0x489b71[_0x504e1b(0xb0f)],_0x13846d=_0x5c9234[_0x504e1b(0xdbd)]((_0x504231,_0x2d5052)=>{const _0x2504cc=_0x504e1b;return _0x504231[_0x2d5052[_0x2504cc(0x8e0)]]=_0x2d5052,_0x504231;},{}),_0x5e5ab3=_0xfa7e26=>String[_0x504e1b(0x6f0)](0x41+_0xfa7e26),_0x3066ac=_0xa8eb0f=>{const _0x307a53=_0x504e1b,_0x359dfd=_0xa8eb0f[_0x307a53(0xb83)]||_0x489b71[_0x307a53(0x4c3)];switch(_0x359dfd){case _0x307a53(0x37c):return _0xa8eb0f['options']&&_0xa8eb0f['options']['length']>_0xa8eb0f['correctAnswerIndex']?_0x5e5ab3(_0xa8eb0f[_0x307a53(0x3a3)]):'-';case _0x307a53(0x1cb):const _0x59b794=_0xa8eb0f[_0x307a53(0x59b)]===!![]||String(_0xa8eb0f[_0x307a53(0x59b)])['toLowerCase']()===_0x307a53(0x93f);return _0x59b794?_0x307a53(0x24e):_0x307a53(0xd5f);case _0x307a53(0x2bf):return _0xa8eb0f[_0x307a53(0x578)]||'-';case _0x307a53(0x944):return _0x307a53(0xaeb);default:return'-';}},_0x5a6f57=(_0x4c7425,_0x1c380c)=>{const _0x5ec118=_0x504e1b;if(_0x1c380c[_0x5ec118(0x7d8)]===null||_0x1c380c['answer']===undefined)return'-';const _0x4f177e=_0x4c7425[_0x5ec118(0xb83)]||_0x489b71['quizType'];switch(_0x4f177e){case _0x5ec118(0x37c):const _0x1036cc=_0x4c7425['options'][_0x5ec118(0xcfb)](_0x12313c=>_0x12313c===_0x1c380c[_0x5ec118(0x27b)]);return _0x1036cc!==-0x1?_0x5e5ab3(_0x1036cc):_0x1c380c[_0x5ec118(0x27b)]||'-';case'true_false':if(_0x1c380c[_0x5ec118(0x7d8)]=='0'||_0x1c380c[_0x5ec118(0x7d8)]===!![]||_0x1c380c['answer']===_0x5ec118(0x93f))return _0x5ec118(0x24e);return _0x5ec118(0xd5f);default:return _0x1c380c[_0x5ec118(0x7d8)];}};let _0x55218c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x302ceb[_0x504e1b(0x469)]((_0x4763ea,_0x162946)=>_0x504e1b(0x710)+(_0x162946+0x1)+_0x504e1b(0xa18))['join']('')+_0x504e1b(0xc99)+_0x302ceb[_0x504e1b(0x469)](_0x48c9f6=>_0x504e1b(0x6aa)+_0x3066ac(_0x48c9f6)+_0x504e1b(0x23f))[_0x504e1b(0x4ce)]('')+_0x504e1b(0xb65);_0x4b9428[_0x504e1b(0xdac)](_0x46c0f7=>{const _0x40138b=_0x504e1b;_0x55218c+=_0x40138b(0x636),_0x55218c+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x46c0f7+_0x40138b(0x23f);const _0x2a6014=_0x13846d[_0x46c0f7];if(_0x2a6014){const _0x352322=_0x2a6014[_0x40138b(0x8f7)][_0x2a6014['attempts']['length']-0x1];_0x302ceb[_0x40138b(0xdac)]((_0x3bafb4,_0x3bb26f)=>{const _0x2dadff=_0x40138b,_0x1b58c9=_0x352322['answers'][_0x2dadff(0x633)](_0x5bb163=>_0x5bb163[_0x2dadff(0x95d)]===_0x3bafb4['id']);if(_0x1b58c9){let _0x4959c5='';const _0x272da1=_0x1b58c9[_0x2dadff(0x553)]===!![],_0x578886=_0x1b58c9[_0x2dadff(0x87f)]===!![]||_0x1b58c9['wasConfident']===_0x2dadff(0x93a);_0x578886?_0x4959c5=_0x272da1?_0x2dadff(0xbd4):_0x2dadff(0xafe):_0x4959c5=_0x272da1?'bg-green-100':'bg-red-100',_0x55218c+=_0x2dadff(0xa29)+_0x4959c5+'\x22>'+_0x5a6f57(_0x3bafb4,_0x1b58c9)+'</td>';}else _0x55218c+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x55218c+=_0x302ceb[_0x40138b(0x469)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x40138b(0x4ce)]('');_0x55218c+=_0x40138b(0x614);}),_0x55218c+='</tbody></table>',_0x12ad21['innerHTML']=_0x55218c;}function renderQuizResultsTable(_0x3fc652,_0x898554,_0x55a3fc){const _0x45f1b4=_0x1cfa42,_0x4d8761=_0x898554[_0x45f1b4(0xdbd)]((_0x1ac0b6,_0xe6a420)=>{const _0x1238a4=_0x45f1b4;return _0x1ac0b6[_0xe6a420[_0x1238a4(0x8e0)]]=_0xe6a420,_0x1ac0b6;},{}),_0x417dd0=document['querySelector'](_0x45f1b4(0x3ab));_0x417dd0&&!_0x417dd0['innerHTML'][_0x45f1b4(0x1ef)]('จัดการ')&&(_0x417dd0['innerHTML']+=_0x45f1b4(0x365));const _0x14bcae=document['getElementById'](_0x45f1b4(0x860));if(!_0x3fc652||_0x3fc652[_0x45f1b4(0x26d)]===0x0){_0x14bcae[_0x45f1b4(0xcf3)]=_0x45f1b4(0xd60);return;}const _0x21d1fb=_0x55a3fc['isRemedial']===!![],_0x2e689a=_0x55a3fc[_0x45f1b4(0x607)]?.[_0x45f1b4(0x490)]??-0x1;let _0x36a9ab='';_0x3fc652[_0x45f1b4(0xdac)](_0x5f1f07=>{const _0x12291c=_0x45f1b4,_0x122370=_0x4d8761[_0x5f1f07];let _0x14f609='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x21d1fb?_0x12291c(0x883):_0x12291c(0x71a))+'\x22>'+(_0x21d1fb?'สอบซ่อม':'สอบปกติ')+_0x12291c(0x204);if(_0x122370){if(_0x122370[_0x12291c(0x8f7)]&&_0x122370[_0x12291c(0x8f7)]['length']>0x0){let _0x42db88=_0x21d1fb?_0x122370['bestScore']===_0x122370[_0x12291c(0x4c7)]:_0x2e689a!==-0x1&&_0x122370[_0x12291c(0xe02)]>=_0x2e689a;const _0x51c473=_0x42db88?_0x12291c(0xb4a):_0x12291c(0x9df),_0xff75da=_0x42db88?_0x12291c(0x1fa):_0x12291c(0xd61),_0x1ce9af=_0x12291c(0x6c5)+_0x51c473+'\x22>'+_0xff75da+'</span></td>',_0x3d7874=_0x12291c(0xd40)+(_0x122370[_0x12291c(0x8f7)]?.[_0x12291c(0x26d)]||0x1)+_0x12291c(0x796);_0x36a9ab+=_0x12291c(0xc59)+_0x5f1f07+_0x12291c(0x3eb)+_0x122370[_0x12291c(0xe02)]+_0x12291c(0x7b1)+_0x122370[_0x12291c(0x4c7)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ce9af+_0x12291c(0x17c)+_0x14f609+_0x12291c(0x7bd)+_0x122370[_0x12291c(0xb33)]+_0x12291c(0x7b1)+_0x122370['totalQuestions']+_0x12291c(0x709)+_0x122370['latestScore']+_0x12291c(0x7b1)+_0x122370[_0x12291c(0x4c7)]+_0x12291c(0x8cc)+(_0x122370[_0x12291c(0x3e3)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d7874+_0x12291c(0x7b8)+new Date(_0x122370[_0x12291c(0x92c)])[_0x12291c(0x5f8)](_0x12291c(0x1d9))+_0x12291c(0x48d)+_0x5f1f07+_0x12291c(0xc6e);}else{const _0x27d271=_0x12291c(0xd55);_0x36a9ab+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5f1f07+_0x12291c(0xda0)+_0x14f609+_0x12291c(0xa6c)+_0x27d271+_0x12291c(0x7b8)+new Date(_0x122370[_0x12291c(0x969)])['toLocaleString'](_0x12291c(0x1d9))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5f1f07+_0x12291c(0xc6e);}}else{const _0x52ae4c=_0x12291c(0xc7c);_0x36a9ab+=_0x12291c(0x9d6)+_0x5f1f07+_0x12291c(0x602)+_0x14f609+_0x12291c(0x2f2)+_0x52ae4c+_0x12291c(0x2d1);}}),_0x14bcae[_0x45f1b4(0xcf3)]=_0x36a9ab;}async function confirmRenameQuiz(){const _0x3cb1c4=_0x1cfa42,_0x285c18=document['getElementById']('rename-quiz-input')[_0x3cb1c4(0x49f)][_0x3cb1c4(0xab6)]();if(!_0x285c18){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x2d6a26=doc(db,_0x3cb1c4(0x7ff)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x2d6a26,{'topic':_0x285c18}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x3cb1c4(0xd5c)](_0x3cb1c4(0xa93)),actionTargetId=null;}catch(_0x33da0a){console['error'](_0x3cb1c4(0x9e7),_0x33da0a),showMessage(_0x3cb1c4(0x3c4));}}async function handleMoveQuiz(_0x1f3e8a){const _0x3f1d3d=_0x1cfa42;actionTargetId=_0x1f3e8a;const _0x2a0ac5=document[_0x3f1d3d(0xbf1)](_0x3f1d3d(0x1b8));_0x2a0ac5[_0x3f1d3d(0xcf3)]=_0x3f1d3d(0x5a2),moveQuizModal[_0x3f1d3d(0xe06)][_0x3f1d3d(0xb55)](_0x3f1d3d(0xa93));try{const _0x3228b4=collection(db,'artifacts/'+appId+_0x3f1d3d(0xcc5)),_0x454cb7=await getDocs(_0x3228b4),_0x614b3b=_0x454cb7['docs'][_0x3f1d3d(0x469)](_0x43d40b=>({'id':_0x43d40b['id'],..._0x43d40b[_0x3f1d3d(0x934)]()})),_0x577fb4=_0x614b3b[_0x3f1d3d(0x275)](_0x4d432d=>_0x4d432d['id']!==currentProjectId);if(_0x577fb4[_0x3f1d3d(0x26d)]===0x0){_0x2a0ac5['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x3f1d3d(0xbf1)](_0x3f1d3d(0x7e9))[_0x3f1d3d(0x635)]=!![];return;}_0x2a0ac5[_0x3f1d3d(0xcf3)]=_0x577fb4[_0x3f1d3d(0x469)](_0x2c6dcd=>_0x3f1d3d(0x7ce)+_0x2c6dcd['id']+'\x22>'+_0x2c6dcd[_0x3f1d3d(0x19e)]+_0x3f1d3d(0x224))[_0x3f1d3d(0x4ce)](''),document['getElementById'](_0x3f1d3d(0x7e9))[_0x3f1d3d(0x635)]=![];}catch(_0x4efa63){console[_0x3f1d3d(0x3f5)](_0x3f1d3d(0xc1a),_0x4efa63),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x3f1d3d(0xe06)][_0x3f1d3d(0xd5c)](_0x3f1d3d(0xa93));}}async function confirmMoveQuiz(){const _0x4c0dad=_0x1cfa42,_0x544d03=document[_0x4c0dad(0xbf1)](_0x4c0dad(0x1b8))[_0x4c0dad(0x49f)];if(!_0x544d03){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x39a797=doc(db,_0x4c0dad(0x7ff)+appId+_0x4c0dad(0x254),actionTargetId);try{await updateDoc(_0x39a797,{'projectId':_0x544d03}),showMessage(_0x4c0dad(0x706)),moveQuizModal[_0x4c0dad(0xe06)][_0x4c0dad(0xd5c)](_0x4c0dad(0xa93)),actionTargetId=null;}catch(_0x1a9578){console[_0x4c0dad(0x3f5)](_0x4c0dad(0xc89),_0x1a9578),showMessage(_0x4c0dad(0x7a7));}}async function handleQuizSettings(_0x2510fb){const _0x4ea69c=_0x1cfa42;actionTargetId=_0x2510fb;const _0x51a30d=doc(db,_0x4ea69c(0x7ff)+appId+'/public/data/quizzes',_0x2510fb);try{const _0x5c05e0=await getDoc(_0x51a30d);if(_0x5c05e0[_0x4ea69c(0x2b1)]()){const _0x2a5d92=_0x5c05e0[_0x4ea69c(0x934)](),_0x41c767=_0x2a5d92['settings']||{},_0x23befa=_0x2a5d92[_0x4ea69c(0xb0f)][_0x4ea69c(0x26d)];document[_0x4ea69c(0xbf1)]('modal-shuffle-select')[_0x4ea69c(0x49f)]=_0x41c767[_0x4ea69c(0x50f)]||_0x4ea69c(0xade),document[_0x4ea69c(0xbf1)](_0x4ea69c(0x8a2))[_0x4ea69c(0x49f)]=_0x41c767[_0x4ea69c(0xd97)]||_0x4ea69c(0x2ff),document[_0x4ea69c(0xbf1)]('modal-timer-mode-select')[_0x4ea69c(0x49f)]=_0x41c767[_0x4ea69c(0xc4c)]||_0x4ea69c(0xade),document[_0x4ea69c(0xbf1)](_0x4ea69c(0x25d))[_0x4ea69c(0x49f)]=_0x41c767['timerDuration']||0xa,document[_0x4ea69c(0xbf1)](_0x4ea69c(0xa5f))[_0x4ea69c(0x49f)]=_0x41c767[_0x4ea69c(0x490)]||Math['floor'](_0x23befa/0x2),document[_0x4ea69c(0xbf1)](_0x4ea69c(0xa5f))['max']=_0x23befa,document[_0x4ea69c(0xbf1)](_0x4ea69c(0x7eb))['checked']=_0x41c767[_0x4ea69c(0x64a)]||![],document[_0x4ea69c(0xbf1)](_0x4ea69c(0x51b))['checked']=_0x41c767[_0x4ea69c(0x9e3)]||![];const _0x287b8f=_0x41c767[_0x4ea69c(0x794)]||![];document[_0x4ea69c(0xbf1)](_0x4ea69c(0xd45))['checked']=_0x287b8f,document['getElementById'](_0x4ea69c(0xc52))[_0x4ea69c(0x49f)]=_0x41c767['confidenceMode']||_0x4ea69c(0xc03);const _0x199699=document[_0x4ea69c(0xbf1)]('modal-confidence-mode-container');_0x199699[_0x4ea69c(0xe06)][_0x4ea69c(0xde5)](_0x4ea69c(0xa93),!_0x287b8f),document[_0x4ea69c(0xbf1)](_0x4ea69c(0x9fd))[_0x4ea69c(0x53b)](new Event('change')),quizSettingsModal[_0x4ea69c(0xe06)][_0x4ea69c(0xb55)](_0x4ea69c(0xa93));}else showMessage(_0x4ea69c(0x334));}catch(_0x55891e){console[_0x4ea69c(0x3f5)](_0x4ea69c(0x4f8),_0x55891e),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0xfa0a36=_0x1cfa42;if(!actionTargetId)return;const _0x4e8d48=doc(db,_0xfa0a36(0x7ff)+appId+_0xfa0a36(0x254),actionTargetId),_0x5bd81f={'shuffle':document[_0xfa0a36(0xbf1)](_0xfa0a36(0xa75))['value'],'resultsDisplay':document[_0xfa0a36(0xbf1)](_0xfa0a36(0x8a2))['value'],'timerMode':document['getElementById'](_0xfa0a36(0x9fd))[_0xfa0a36(0x49f)],'timerDuration':parseInt(document[_0xfa0a36(0xbf1)](_0xfa0a36(0x25d))[_0xfa0a36(0x49f)])||0xa,'passingScore':parseInt(document[_0xfa0a36(0xbf1)]('modal-passing-score-input')[_0xfa0a36(0x49f)])||0x0,'isAdaptive':document['getElementById'](_0xfa0a36(0x7eb))[_0xfa0a36(0x51f)],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0xfa0a36(0x51f)],'isConfidenceScoringEnabled':document['getElementById']('modal-confidence-scoring-checkbox')[_0xfa0a36(0x51f)],'confidenceMode':document[_0xfa0a36(0xbf1)](_0xfa0a36(0xc52))[_0xfa0a36(0x49f)]};try{await updateDoc(_0x4e8d48,{'settings':_0x5bd81f}),showMessage(_0xfa0a36(0xd80)),quizSettingsModal[_0xfa0a36(0xe06)]['add']('hidden'),actionTargetId=null;}catch(_0x53ba8e){console['error']('Error\x20updating\x20quiz\x20settings:',_0x53ba8e),showMessage(_0xfa0a36(0x841));}}async function confirmQuizStatus(){const _0x315540=_0x1cfa42;if(!actionTargetId)return;const _0x154b04=doc(db,_0x315540(0x7ff)+appId+_0x315540(0x254),actionTargetId),_0x21b27b=document[_0x315540(0x19c)]('input[name=\x22status-option\x22]:checked');if(!_0x21b27b){showMessage(_0x315540(0xb8f));return;}const _0x3703b7=_0x21b27b[_0x315540(0x49f)];let _0x4321b3={};if(_0x3703b7===_0x315540(0x94c)||_0x3703b7===_0x315540(0x648))_0x4321b3={'status':_0x3703b7,'startTime':null,'endTime':null};else{if(_0x3703b7===_0x315540(0xad4)){const _0x5c9693=document['getElementById']('quiz-start-time')[_0x315540(0x49f)],_0x394102=document[_0x315540(0xbf1)]('quiz-end-time')[_0x315540(0x49f)];if(!_0x5c9693&&!_0x394102){showMessage(_0x315540(0x354));return;}_0x4321b3={'status':_0x315540(0x797),'startTime':_0x5c9693?new Date(_0x5c9693)[_0x315540(0x5c8)]():null,'endTime':_0x394102?new Date(_0x394102)[_0x315540(0x5c8)]():null};}}try{await updateDoc(_0x154b04,_0x4321b3),showMessage(_0x315540(0xbfb)),quizStatusModal[_0x315540(0xe06)][_0x315540(0xd5c)](_0x315540(0xa93)),actionTargetId=null;}catch(_0x2b2c34){console[_0x315540(0x3f5)]('Error\x20updating\x20quiz\x20status:',_0x2b2c34),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x5e5e09){const _0x3572f7=_0x1cfa42,_0x33ff94=collection(db,'artifacts/'+appId+_0x3572f7(0xcf2)+_0x5e5e09+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x33ff94,_0x1f9659=>{const _0x392949=_0x3572f7,_0x4bc3bf=_0x1f9659[_0x392949(0xd24)][_0x392949(0x469)](_0x10d5ec=>_0x10d5ec['data']());renderLeaderboard(_0x4bc3bf,'leaderboard-table-body');},_0x11ea87=>{const _0x3f99ce=_0x3572f7;console[_0x3f99ce(0x3f5)](_0x3f99ce(0xb47),_0x11ea87),document[_0x3f99ce(0xbf1)](_0x3f99ce(0x4d8))[_0x3f99ce(0xcf3)]=_0x3f99ce(0x317);});}function renderLeaderboard(_0x2d62d7,_0x3e6220){const _0x2856f7=_0x1cfa42,_0x341c43=document['getElementById'](_0x3e6220);if(!_0x2d62d7||_0x2d62d7[_0x2856f7(0x26d)]===0x0){_0x341c43[_0x2856f7(0xcf3)]=_0x2856f7(0x73b);return;}_0x2d62d7['sort']((_0x51f906,_0x27aec6)=>{const _0x579682=_0x2856f7,_0x29c9ea=(_0x27aec6[_0x579682(0x60e)]||0x0)-(_0x51f906[_0x579682(0x60e)]||0x0);if(_0x29c9ea!==0x0)return _0x29c9ea;const _0x39c63b=(_0x27aec6[_0x579682(0x217)]?.[_0x579682(0xc5e)]||0x0)-(_0x51f906['badgesCount']?.[_0x579682(0xc5e)]||0x0);if(_0x39c63b!==0x0)return _0x39c63b;const _0x34d016=(_0x27aec6['badgesCount']?.[_0x579682(0x53c)]||0x0)-(_0x51f906[_0x579682(0x217)]?.[_0x579682(0x53c)]||0x0);if(_0x34d016!==0x0)return _0x34d016;const _0x27ecc8=(_0x27aec6[_0x579682(0x217)]?.[_0x579682(0x700)]||0x0)-(_0x51f906[_0x579682(0x217)]?.[_0x579682(0x700)]||0x0);if(_0x27ecc8!==0x0)return _0x27ecc8;const _0x471ca9=(_0x27aec6[_0x579682(0x217)]?.[_0x579682(0xd5a)]||0x0)-(_0x51f906['badgesCount']?.[_0x579682(0xd5a)]||0x0);if(_0x471ca9!==0x0)return _0x471ca9;return _0x51f906[_0x579682(0x8e0)][_0x579682(0x7e5)](_0x27aec6[_0x579682(0x8e0)],'th');});let _0x135571='';_0x2d62d7[_0x2856f7(0xdac)]((_0x514456,_0x15c2ae)=>{const _0x5bf3e6=_0x2856f7,_0x356c6b=_0x15c2ae+0x1,_0x170b6e=_0x514456[_0x5bf3e6(0x217)]||{};let _0x5ef5af='';const _0xb42f20=[_0x5bf3e6(0xc5e),'perfect_score',_0x5bf3e6(0x53c),_0x5bf3e6(0xd5a)];_0xb42f20['forEach'](_0x17656e=>{const _0x6138d6=_0x5bf3e6;if(_0x170b6e[_0x17656e]>0x0){const _0x326e55=Object[_0x6138d6(0xdc2)](BADGES)[_0x6138d6(0x633)](_0xad57c2=>_0xad57c2['id']===_0x17656e);_0x326e55&&(_0x17656e===_0x6138d6(0xc5e)?_0x5ef5af+=_0x6138d6(0xd70)+_0x326e55[_0x6138d6(0x372)]+_0x6138d6(0xd33)+_0x326e55[_0x6138d6(0xa3e)]+_0x6138d6(0xa20):_0x5ef5af+=_0x6138d6(0xd70)+_0x326e55[_0x6138d6(0x372)]+'\x20('+_0x170b6e[_0x17656e]+_0x6138d6(0x474)+_0x326e55[_0x6138d6(0xa3e)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x170b6e[_0x17656e]+_0x6138d6(0xa7d));}}),_0x135571+=_0x5bf3e6(0x935)+_0x356c6b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x514456[_0x5bf3e6(0x8e0)]+_0x5bf3e6(0x5a7)+(_0x514456['totalPoints']||0x0)+_0x5bf3e6(0x9d2)+(_0x5ef5af||'-')+_0x5bf3e6(0xb77);}),_0x341c43[_0x2856f7(0xcf3)]=_0x135571;}function displayLoopScreen(_0x100d33,_0x48894c,_0x1ed9cb){const _0x1001e9=_0x1cfa42;let _0x779ffc='';_0x1ed9cb!==_0x1001e9(0x448)&&(_0x779ffc=_0x1001e9(0x4d6)+_0x100d33+_0x1001e9(0x7b1)+_0x48894c+'</strong></p>');const _0x40cead=_0x1001e9(0x619)+_0x779ffc+_0x1001e9(0xbe4);studentResultArea[_0x1001e9(0xcf3)]=_0x40cead,studentResultArea['classList'][_0x1001e9(0xb55)](_0x1001e9(0xa93)),studentQuizArea[_0x1001e9(0xe06)][_0x1001e9(0xd5c)](_0x1001e9(0xa93)),document['getElementById'](_0x1001e9(0xc4a))[_0x1001e9(0x4ef)](_0x1001e9(0x67d),()=>{const _0x1bd457=_0x1001e9;studentResultArea['classList'][_0x1bd457(0xd5c)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xe92122,_0x5b5194,_0xd6a627){const _0x3c7d13=_0x1cfa42,_0x31d095=document[_0x3c7d13(0xbf1)](_0xd6a627),_0x3686a0=_0xd6a627===_0x3c7d13(0x95a),_0x1d714f=_0x5b5194[_0x3c7d13(0xb0f)][_0x3c7d13(0x26d)],_0x33deda=document['getElementById'](_0xd6a627)[_0x3c7d13(0xd59)]('table');if(_0x33deda&&!_0x3686a0){const _0x13b937=_0x33deda[_0x3c7d13(0x19c)]('thead');_0x13b937[_0x3c7d13(0xcf3)]=_0x3c7d13(0x392);}if(!_0xe92122||_0xe92122[_0x3c7d13(0x26d)]===0x0){_0x31d095[_0x3c7d13(0xcf3)]='<tr><td\x20colspan=\x22'+(_0x3686a0?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x567882=[..._0xe92122];_0x567882[_0x3c7d13(0x712)]((_0x2f28b4,_0x581c08)=>{const _0x1ce143=_0x3c7d13;let _0x233028,_0x31bc94;switch(quizLeaderboardSortBy){case _0x1ce143(0x8e0):_0x233028=_0x2f28b4[_0x1ce143(0x8e0)]||'',_0x31bc94=_0x581c08[_0x1ce143(0x8e0)]||'';return quizLeaderboardSortOrder===_0x1ce143(0x9cb)?_0x233028['localeCompare'](_0x31bc94,'th'):_0x31bc94[_0x1ce143(0x7e5)](_0x233028,'th');case'points':_0x233028=_0x2f28b4[_0x1ce143(0x3e3)]||0x0,_0x31bc94=_0x581c08[_0x1ce143(0x3e3)]||0x0;break;case _0x1ce143(0x8f7):_0x233028=_0x2f28b4[_0x1ce143(0x8f7)]?.[_0x1ce143(0x26d)]||0x1,_0x31bc94=_0x581c08[_0x1ce143(0x8f7)]?.['length']||0x1;break;case _0x1ce143(0x92c):_0x233028=new Date(_0x2f28b4['latestSubmittedAt']),_0x31bc94=new Date(_0x581c08[_0x1ce143(0x92c)]);break;case _0x1ce143(0xe02):default:_0x233028=_0x2f28b4[_0x1ce143(0xe02)],_0x31bc94=_0x581c08[_0x1ce143(0xe02)];break;}if(_0x233028<_0x31bc94)return quizLeaderboardSortOrder===_0x1ce143(0x9cb)?-0x1:0x1;if(_0x233028>_0x31bc94)return quizLeaderboardSortOrder===_0x1ce143(0x9cb)?0x1:-0x1;return 0x0;});const _0x74fd5d=_0x5b5194['isRemedial']===!![],_0x1365c5=_0x5b5194[_0x3c7d13(0x607)]?.[_0x3c7d13(0x490)]??-0x1;let _0x1ec687='';_0x567882['forEach']((_0xe5601b,_0x6e3b0a)=>{const _0x54b9f0=_0x3c7d13,_0x16a2f1=_0x6e3b0a+0x1;let _0x13a983=_0x54b9f0(0xe1e);if(_0x74fd5d||_0x1365c5!==-0x1){let _0x8aa9a5=_0x74fd5d?_0xe5601b[_0x54b9f0(0xe02)]===_0x1d714f:_0xe5601b['bestScore']>=_0x1365c5;const _0x13b882=_0x8aa9a5?_0x54b9f0(0xb4a):_0x54b9f0(0x9df),_0x4c4171=_0x8aa9a5?'ผ่าน':_0x54b9f0(0xd61);_0x13a983='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x13b882+'\x22>'+_0x4c4171+'</span></td>';}const _0x2b10a8=_0xe5601b['attempts'][_0xe5601b[_0x54b9f0(0x8f7)][_0x54b9f0(0x26d)]-0x1],_0x53ee40=(_0x2b10a8[_0x54b9f0(0x312)]||[])[_0x54b9f0(0x469)](_0x3133cb=>{const _0x6443b1=_0x54b9f0,_0x264ab8=Object[_0x6443b1(0xdc2)](BADGES)['find'](_0x1c7171=>_0x1c7171['id']===_0x3133cb);return _0x264ab8?_0x6443b1(0x820)+_0x264ab8[_0x6443b1(0x372)]+_0x6443b1(0x6c2)+_0x264ab8[_0x6443b1(0xa3e)]+_0x6443b1(0x99d):'';})[_0x54b9f0(0x4ce)]('');_0x1ec687+=_0x54b9f0(0xa24)+_0x16a2f1+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xe5601b[_0x54b9f0(0x8e0)]+_0x54b9f0(0x48e)+_0xe5601b[_0x54b9f0(0xe02)]+_0x54b9f0(0x7b1)+_0x1d714f+_0x54b9f0(0x209)+_0x13a983+_0x54b9f0(0xe08)+(_0xe5601b[_0x54b9f0(0x3e3)]||0x0)+_0x54b9f0(0x209)+(_0x3686a0?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0xe5601b[_0x54b9f0(0x8f7)]?.[_0x54b9f0(0x26d)]||0x1)+_0x54b9f0(0x23f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3686a0?'':_0x54b9f0(0x509)+new Date(_0xe5601b['latestSubmittedAt'])['toLocaleString']('th-TH')+_0x54b9f0(0x23f))+_0x54b9f0(0xbce)+(_0x53ee40||'-')+_0x54b9f0(0x7cc);}),_0x31d095[_0x3c7d13(0xcf3)]=_0x1ec687,_0x33deda&&!_0x3686a0&&_0x33deda[_0x3c7d13(0x218)](_0x3c7d13(0xb24))['forEach'](_0xac054d=>{const _0x225510=_0x3c7d13,_0x1106f7=_0xac054d[_0x225510(0x19c)](_0x225510(0x729));if(_0x1106f7)_0x1106f7[_0x225510(0xb55)]();_0xac054d['dataset'][_0x225510(0x712)]===quizLeaderboardSortBy&&(_0xac054d['innerHTML']+=_0x225510(0x604)+(quizLeaderboardSortOrder===_0x225510(0x9cb)?'▲':'▼')+_0x225510(0x6ee));});}async function handleDeleteSubmission(_0x4643c8){const _0x447da9=_0x1cfa42;if(!currentQuizData||!currentQuizData['id']||!_0x4643c8){showMessage(_0x447da9(0x9d8));return;}showConfirmation(_0x447da9(0x7c5)+_0x4643c8+_0x447da9(0x6ed),async()=>{const _0xd82a4f=_0x447da9,_0x425929=currentQuizData['id'],_0x146a34=doc(db,_0xd82a4f(0x7ff)+appId+'/public/data/quizzes/'+_0x425929+_0xd82a4f(0xe18),_0x4643c8);try{await deleteDoc(_0x146a34),showMessage('ลบผลสอบของ\x20'+_0x4643c8+_0xd82a4f(0x850));}catch(_0x8d8b04){console['error'](_0xd82a4f(0xa0d),_0x8d8b04),showMessage(_0xd82a4f(0x54f));}});}async function handleLoadQuiz(){const _0x2376b8=_0x1cfa42,_0x21aea3=document[_0x2376b8(0xbf1)](_0x2376b8(0x2cc)),_0x4040d4=_0x21aea3[_0x2376b8(0x49f)][_0x2376b8(0xab6)]();if(!_0x4040d4){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x2376b8(0x635)]=!![],loadQuizBtn[_0x2376b8(0xcf3)]=_0x2376b8(0x69f);try{const _0x1ee84f=doc(db,_0x2376b8(0x7ff)+appId+'/public/data/quizzes',_0x4040d4),_0x45f7dc=await getDoc(_0x1ee84f);if(!_0x45f7dc[_0x2376b8(0x2b1)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x45f7dc['id'],..._0x45f7dc['data']()};const _0x19c062=currentQuizData[_0x2376b8(0x657)]||_0x2376b8(0x94c),_0x513777=new Date();if(_0x19c062===_0x2376b8(0x648)){showMessage(_0x2376b8(0x195));return;}if(_0x19c062===_0x2376b8(0x797)){const _0x2148bc=currentQuizData[_0x2376b8(0x21a)]?new Date(currentQuizData[_0x2376b8(0x21a)]):null,_0x55ce73=currentQuizData[_0x2376b8(0x4be)]?new Date(currentQuizData[_0x2376b8(0x4be)]):null;if(_0x2148bc&&_0x513777<_0x2148bc){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x2148bc[_0x2376b8(0x5f8)](_0x2376b8(0x1d9),{'hour12':![]}));return;}if(_0x55ce73&&_0x513777>_0x55ce73){showMessage(_0x2376b8(0x57a));return;}}const _0x3bddc3=currentQuizData[_0x2376b8(0x1cf)];currentProjectId=_0x3bddc3;const _0x2997a0=doc(db,'artifacts/'+appId+_0x2376b8(0xcc5),_0x3bddc3),_0x486a44=await getDoc(_0x2997a0);if(!_0x486a44[_0x2376b8(0x2b1)]()){showMessage(_0x2376b8(0x7ab));return;}const _0x197158=_0x486a44[_0x2376b8(0x934)]();currentStudentProjectData=_0x197158,displayStudentNameSelector(_0x197158[_0x2376b8(0xb22)],currentQuizData[_0x2376b8(0x3b7)]);}catch(_0x345d30){console[_0x2376b8(0x3f5)]('Error\x20loading\x20quiz\x20for\x20student:',_0x345d30),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x2376b8(0x635)]=![],loadQuizBtn['innerHTML']=_0x2376b8(0x5b1);}}async function handleJoinLiveGame(){const _0x4fb50e=_0x1cfa42,_0x2f559b=document[_0x4fb50e(0xbf1)]('game-pin-input'),_0x55bc63=document['getElementById'](_0x4fb50e(0x2d3)),_0x59910e=document['getElementById'](_0x4fb50e(0xbcc)),_0x295e43=_0x2f559b['value']['trim'](),_0x4fa2d9=_0x55bc63[_0x4fb50e(0x49f)][_0x4fb50e(0xab6)]();if(!_0x295e43||!_0x4fa2d9){showMessage(_0x4fb50e(0x74c));return;}_0x59910e[_0x4fb50e(0x635)]=!![],_0x59910e['innerHTML']=_0x4fb50e(0xbfa);try{const _0x34f569=collection(db,_0x4fb50e(0x7ff)+appId+_0x4fb50e(0x270)),_0x3d42d8=query(_0x34f569,where(_0x4fb50e(0xbab),'==',_0x295e43),where('status','in',[_0x4fb50e(0xded),_0x4fb50e(0x7bc)])),_0x2aed5f=await getDocs(_0x3d42d8);if(_0x2aed5f[_0x4fb50e(0x5f1)]){showMessage(_0x4fb50e(0xb98));return;}const _0x459f4c=_0x2aed5f[_0x4fb50e(0xd24)][0x0],_0x2fce10=_0x459f4c[_0x4fb50e(0x934)]();currentLiveGameId=_0x459f4c['id'];const _0x4dd3b6=_0x2fce10[_0x4fb50e(0x506)],_0x13b7e9=doc(db,_0x4fb50e(0x7ff)+appId+_0x4fb50e(0x254),_0x4dd3b6),_0x1b4924=await getDoc(_0x13b7e9);if(!_0x1b4924[_0x4fb50e(0x2b1)]()){showMessage(_0x4fb50e(0xaa9));return;}currentQuizData={'id':_0x1b4924['id'],..._0x1b4924[_0x4fb50e(0x934)]()};if(_0x2fce10[_0x4fb50e(0x18d)]&&_0x2fce10[_0x4fb50e(0x18d)][_0x4fa2d9]){const _0x5216af=_0x2fce10[_0x4fb50e(0x18d)][_0x4fa2d9];if(_0x5216af[_0x4fb50e(0x657)]==='inactive'){_0x59910e['innerHTML']=_0x4fb50e(0x3e8);const _0x2e3041={};_0x2e3041['players.'+_0x4fa2d9+_0x4fb50e(0xa98)]='active',await updateDoc(doc(db,'artifacts/'+appId+_0x4fb50e(0x270),currentLiveGameId),_0x2e3041),showView(_0x4fb50e(0xa9f)),currentStudentName=_0x4fa2d9,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x2fce10[_0x4fb50e(0x657)]!==_0x4fb50e(0xded)){showMessage(_0x4fb50e(0xd6b));return;}_0x59910e[_0x4fb50e(0xcf3)]=_0x4fb50e(0xa61);const _0x1e4682={};_0x1e4682[_0x4fb50e(0x32c)+_0x4fa2d9]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x4fb50e(0x94c)},await updateDoc(doc(db,'artifacts/'+appId+_0x4fb50e(0x270),currentLiveGameId),_0x1e4682),currentStudentName=_0x4fa2d9,listenForLiveGameUpdates();}catch(_0x2adb38){console[_0x4fb50e(0x3f5)](_0x4fb50e(0x438),_0x2adb38),showMessage(_0x4fb50e(0x671));}finally{_0x59910e[_0x4fb50e(0x635)]=![],_0x59910e[_0x4fb50e(0xcf3)]=_0x4fb50e(0xb2e);}}function displayStudentNameSelector(_0x8dd9e7,_0x1b4b4f){const _0x303c23=_0x1cfa42,_0x5ef22b=document[_0x303c23(0xbf1)]('student-name-select');document['getElementById'](_0x303c23(0xb89))[_0x303c23(0x617)]=_0x303c23(0x99e)+_0x1b4b4f,!_0x8dd9e7||_0x8dd9e7[_0x303c23(0x26d)]===0x0?(_0x5ef22b[_0x303c23(0xcf3)]=_0x303c23(0x7f9),startQuizBtn[_0x303c23(0x635)]=!![]):(_0x5ef22b[_0x303c23(0xcf3)]=_0x303c23(0x25b),_0x8dd9e7[_0x303c23(0xdac)](_0x28fc9f=>{const _0x45aa75=_0x303c23,_0x2eaffa=document[_0x45aa75(0x6a2)](_0x45aa75(0xc54));_0x2eaffa[_0x45aa75(0x49f)]=_0x28fc9f,_0x2eaffa[_0x45aa75(0x617)]=_0x28fc9f,_0x5ef22b[_0x45aa75(0xc2a)](_0x2eaffa);}),startQuizBtn[_0x303c23(0x635)]=![]),studentInitialView['classList']['add']('hidden'),studentNameSelectionView['classList']['remove']('hidden');}function shuffleArray(_0x4e5c92){const _0x13d3cf=_0x1cfa42;for(let _0x59d4dc=_0x4e5c92['length']-0x1;_0x59d4dc>0x0;_0x59d4dc--){const _0x41d737=Math[_0x13d3cf(0x74e)](Math[_0x13d3cf(0x72a)]()*(_0x59d4dc+0x1));[_0x4e5c92[_0x59d4dc],_0x4e5c92[_0x41d737]]=[_0x4e5c92[_0x41d737],_0x4e5c92[_0x59d4dc]];}}function getShuffledQuiz(_0x2d3e28){const _0x28348c=_0x1cfa42;let _0x2a64c6=JSON[_0x28348c(0xba3)](JSON[_0x28348c(0x2a1)](_0x2d3e28));const _0x409430=_0x2a64c6['settings']?.[_0x28348c(0x50f)]||_0x28348c(0xade);if(_0x409430===_0x28348c(0xade))return _0x2a64c6;return(_0x409430==='questions_only'||_0x409430===_0x28348c(0xd6f))&&shuffleArray(_0x2a64c6[_0x28348c(0xb0f)]),(_0x409430==='choices_only'||_0x409430==='both')&&_0x2a64c6['questions'][_0x28348c(0xdac)](_0x404562=>{const _0x44226c=_0x28348c,_0x1f6359=_0x404562[_0x44226c(0xb83)]||_0x2a64c6[_0x44226c(0x4c3)];if(_0x404562['options']){let _0xb85239=_0x404562['options'][_0x44226c(0x469)]((_0x4f1901,_0x56104b)=>({'text':_0x4f1901,'isCorrect':_0x56104b===_0x404562['correctAnswerIndex']}));shuffleArray(_0xb85239),_0x404562[_0x44226c(0x9e4)]=_0xb85239[_0x44226c(0x469)](_0x47e898=>_0x47e898[_0x44226c(0x227)]),_0x404562['correctAnswerIndex']=_0xb85239[_0x44226c(0xcfb)](_0x34eb45=>_0x34eb45[_0x44226c(0x553)]);}_0x1f6359===_0x44226c(0x2bf)&&_0x404562[_0x44226c(0xb53)]&&shuffleArray(_0x404562[_0x44226c(0xb53)]);}),_0x2a64c6;}function displayQuizForStudent(_0x43235e){const _0x56731a=_0x1cfa42;studentQuizArea[_0x56731a(0xe06)]['remove'](_0x56731a(0xa93)),currentDisplayedQuiz=getShuffledQuiz(_0x43235e);currentMode!==_0x56731a(0x624)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x56731a(0x4ef)](_0x56731a(0x230),handleFullscreenChange),document['addEventListener'](_0x56731a(0xe05),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x56731a(0xcfe),resetDimTimer),window[_0x56731a(0x4ef)](_0x56731a(0x4bc),resetDimTimer),window[_0x56731a(0x4ef)]('touchstart',resetDimTimer),window[_0x56731a(0x4ef)](_0x56731a(0x17e),resetDimTimer),resetDimTimer());const _0x4dc09e=currentDisplayedQuiz[_0x56731a(0x607)]?.[_0x56731a(0xc4c)]||'none';if(_0x4dc09e===_0x56731a(0x245))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x56731a(0x607)][_0x56731a(0xc91)]);else _0x4dc09e===_0x56731a(0xdf2)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x220a46=_0x1cfa42,_0x39ca37=currentDisplayedQuiz[_0x220a46(0x607)]?.[_0x220a46(0x794)]===!![],_0x3949b3=currentDisplayedQuiz[_0x220a46(0x607)]?.['confidenceMode']||'checkbox';let _0x54c284=_0x220a46(0x8d7)+currentDisplayedQuiz[_0x220a46(0x3b7)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x220a46(0x1dc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0x220a46(0xdac)]((_0x4b94d9,_0x5e9286)=>{const _0x189906=_0x220a46,_0xb8f0c4=_0x4b94d9[_0x189906(0xb83)]||currentDisplayedQuiz[_0x189906(0x4c3)];_0x54c284+=_0x189906(0xa80);if(_0xb8f0c4===_0x189906(0x2bf)){}else _0x54c284+='<p>'+(_0x5e9286+0x1)+'.\x20'+(_0x4b94d9['instructions']||_0x4b94d9[_0x189906(0x324)])+'</p>',_0x4b94d9[_0x189906(0x50a)]&&(_0x54c284+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4b94d9[_0x189906(0x50a)]+'</div>');_0x54c284+='</div><div\x20class=\x22space-y-2\x22>';switch(_0xb8f0c4){case _0x189906(0x944):_0x54c284+=_0x189906(0x99a)+_0x5e9286+_0x189906(0x539);break;case _0x189906(0x1cb):_0x54c284+=_0x189906(0xa45)+_0x5e9286+_0x189906(0x6cc)+_0x5e9286+_0x189906(0x6b3)+_0x5e9286+'_opt0\x22>ใช่</label></div>',_0x54c284+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x5e9286+'_opt1\x22\x20name=\x22question'+_0x5e9286+_0x189906(0xa08)+_0x5e9286+_0x189906(0x38f);break;case _0x189906(0x2bf):_0x54c284+=_0x189906(0x376)+_0x4b94d9['stem']+_0x189906(0xcf6)+_0x5e9286+_0x189906(0x6a1)+_0x4b94d9[_0x189906(0xb53)][_0x189906(0x469)](_0x48e060=>_0x189906(0x7ce)+_0x48e060+'\x22>'+_0x48e060+_0x189906(0x224))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x54c284+=_0x4b94d9[_0x189906(0x9e4)][_0x189906(0x469)]((_0x50a01f,_0x287859)=>_0x189906(0xa43)+_0x5e9286+'_opt'+_0x287859+_0x189906(0xa37)+_0x5e9286+_0x189906(0x47b)+_0x287859+_0x189906(0x76c)+_0x5e9286+_0x189906(0xb2b)+_0x287859+'\x22>'+_0x50a01f+_0x189906(0x8b7))[_0x189906(0x4ce)]('');break;}_0x54c284+=_0x189906(0xcdd),_0x39ca37&&(_0x54c284+=_0x189906(0x68c),_0x3949b3===_0x189906(0xb20)?_0x54c284+=_0x189906(0x9b4)+_0x5e9286+_0x189906(0x911)+_0x5e9286+_0x189906(0xbc8)+_0x5e9286+_0x189906(0xcdb)+_0x5e9286+_0x189906(0x30e):_0x54c284+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x5e9286+_0x189906(0x911)+_0x5e9286+_0x189906(0xcec)+_0x5e9286+_0x189906(0x33a),_0x54c284+=_0x189906(0xcdd)),_0x54c284+=_0x189906(0xcdd);}),_0x54c284+=_0x220a46(0x519),_0x54c284+='</form>',studentQuizArea['innerHTML']=_0x54c284;if(currentMode===_0x220a46(0x624)){const _0x4757e4=document['getElementById'](_0x220a46(0xc95));if(_0x4757e4)_0x4757e4[_0x220a46(0x4ef)](_0x220a46(0x67d),cancelAdminTest);}const _0x49fa53=document[_0x220a46(0xbf1)](_0x220a46(0xca6));_0x49fa53&&(_0x49fa53['addEventListener'](_0x220a46(0x40c),handleSubmitQuiz),_0x49fa53[_0x220a46(0x4ef)](_0x220a46(0x67d),_0x24cde7=>{const _0x36a1cd=_0x220a46;if(_0x24cde7['target'][_0x36a1cd(0xe06)]['contains']('confidence-choice-btn')){const _0x1630cd=_0x24cde7[_0x36a1cd(0xa8b)],_0x2eec31=_0x1630cd['dataset'][_0x36a1cd(0xb1c)],_0x457edd=_0x1630cd[_0x36a1cd(0x2b9)][_0x36a1cd(0x49f)];document[_0x36a1cd(0xbf1)]('confidence-input-'+_0x2eec31)[_0x36a1cd(0x49f)]=_0x457edd;const _0x232c00=_0x1630cd['parentElement'];_0x232c00[_0x36a1cd(0x218)]('.confidence-choice-btn')[_0x36a1cd(0xdac)](_0x3e3816=>_0x3e3816[_0x36a1cd(0xe06)]['remove'](_0x36a1cd(0x94c))),_0x1630cd[_0x36a1cd(0xe06)]['add']('active');}}));if(window[_0x220a46(0x6b2)])window[_0x220a46(0x6b2)][_0x220a46(0x255)]([studentQuizArea]);}async function handleSubmitQuiz(_0x89dcf3){const _0x4f73cc=_0x1cfa42;if(_0x89dcf3)_0x89dcf3[_0x4f73cc(0x1a1)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5619ea=document[_0x4f73cc(0xbf1)]('quiz-form');if(!_0x5619ea)return;const _0xc9fd8=currentDisplayedQuiz[_0x4f73cc(0x607)]?.[_0x4f73cc(0x794)]===!![],_0x2988fb=currentDisplayedQuiz['settings']?.[_0x4f73cc(0x579)]||_0x4f73cc(0xc03);if(_0xc9fd8&&_0x2988fb===_0x4f73cc(0xb20)){let _0x5bf62e=!![];for(let _0x3352ae=0x0;_0x3352ae<currentDisplayedQuiz[_0x4f73cc(0xb0f)]['length'];_0x3352ae++){const _0xbb40ee=_0x5619ea[_0x4f73cc(0x19c)](_0x4f73cc(0x8c9)+_0x3352ae);if(!_0xbb40ee||_0xbb40ee[_0x4f73cc(0x49f)]===''){_0x5bf62e=![];break;}}if(!_0x5bf62e){showMessage(_0x4f73cc(0xad9));return;}}const _0x1f4350=_0x5619ea[_0x4f73cc(0x19c)]('button[type=\x22submit\x22]'),_0x167cd3=currentDisplayedQuiz[_0x4f73cc(0xb0f)]['some'](_0x23231e=>_0x23231e[_0x4f73cc(0xb83)]===_0x4f73cc(0x944));_0x1f4350&&(_0x1f4350[_0x4f73cc(0x635)]=!![],_0x1f4350[_0x4f73cc(0xcf3)]=_0x167cd3?_0x4f73cc(0x95b):_0x4f73cc(0xd38));const _0x2cd973=new FormData(_0x5619ea),_0x123b42=currentDisplayedQuiz[_0x4f73cc(0xb0f)][_0x4f73cc(0x469)]((_0x22516a,_0x2c1306)=>{const _0x4d014a=_0x4f73cc,_0x54f500=_0x2cd973[_0x4d014a(0x52e)](_0x4d014a(0x7bc)+_0x2c1306);let _0x1fb01b;_0x2988fb==='mandatory'?_0x1fb01b=_0x2cd973[_0x4d014a(0x52e)]('confidence'+_0x2c1306):_0x1fb01b=_0x2cd973[_0x4d014a(0x52e)]('confidence'+_0x2c1306)==='on';let _0x35c1db=null;if(_0x54f500!==null&&_0x54f500!==undefined){const _0x2acec2=_0x22516a[_0x4d014a(0xb83)]||currentDisplayedQuiz[_0x4d014a(0x4c3)];_0x2acec2===_0x4d014a(0x37c)||_0x2acec2===_0x4d014a(0xd67)?_0x35c1db=parseInt(_0x54f500):_0x35c1db=_0x54f500;}return{'answer':_0x35c1db,'wasConfident':_0x1fb01b};}),_0x1ca889=currentQuizData['id'],_0x3b7315=doc(db,_0x4f73cc(0x7ff)+appId+_0x4f73cc(0x2a9)+_0x1ca889+_0x4f73cc(0xe18),currentStudentName),_0x576c05=await getDoc(_0x3b7315),_0x3614e0=_0x576c05[_0x4f73cc(0x2b1)]()?_0x576c05[_0x4f73cc(0x934)]():{},_0x253603=_0x3614e0[_0x4f73cc(0x8f7)]||[];await processAndSubmitAnswers(_0x123b42,_0x253603);}async function gradeShortAnswerWithAI(_0x2c0550,_0x3f4d92){const _0x19536f=_0x1cfa42;if(!_0x2c0550||!_0x3f4d92)return![];try{const _0x41073b=_0x19536f(0xc30)+_0x2c0550+_0x19536f(0xcb7)+_0x3f4d92+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x476515={'contents':[{'role':_0x19536f(0x282),'parts':[{'text':_0x41073b}]}]},_0x5b5200='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x20cc39=_0x19536f(0x5b4)+_0x5b5200,_0x5a03df=await fetch(_0x20cc39,{'method':'POST','headers':{'Content-Type':_0x19536f(0x8eb)},'body':JSON[_0x19536f(0x2a1)](_0x476515)});if(!_0x5a03df['ok'])throw new Error(_0x19536f(0x80c));const _0x54ce79=await _0x5a03df[_0x19536f(0x2f4)](),_0xf0d74=_0x54ce79[_0x19536f(0x4a1)][0x0][_0x19536f(0x684)][_0x19536f(0x9f8)][0x0][_0x19536f(0x227)][_0x19536f(0xab6)]()[_0x19536f(0xd64)]();return _0xf0d74===_0x19536f(0x93f);}catch(_0x48ccb8){return console[_0x19536f(0x3f5)](_0x19536f(0x9ed),_0x48ccb8),![];}}async function processAndSubmitAnswers(_0x34e15c,_0x3a8017){const _0x2ba574=_0x1cfa42;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x2ba574(0x230),handleFullscreenChange),document[_0x2ba574(0x85c)]('visibilitychange',handleVisibilityChange);let _0x273a80=0x0;const _0x5f22eb=[],_0xc1e493=currentDisplayedQuiz[_0x2ba574(0xb0f)][_0x2ba574(0x26d)];let _0x15e11f=0x0,_0x4b1e9e=[];const _0x16ea57=currentDisplayedQuiz[_0x2ba574(0xb0f)];for(let _0x15edb7=0x0;_0x15edb7<_0x16ea57['length'];_0x15edb7++){const _0x518f13=_0x16ea57[_0x15edb7],_0x3282f5=_0x34e15c[_0x15edb7],_0x4fcb4b=_0x3282f5?_0x3282f5[_0x2ba574(0x7d8)]:null,_0x3d3859=_0x3282f5?_0x3282f5['wasConfident']:null;let _0x5b7604=![],_0x4f6c6a=0x0;if(_0x4fcb4b!==null&&_0x4fcb4b!==''){const _0x4a4887=_0x518f13[_0x2ba574(0xb83)]||currentDisplayedQuiz['quizType'];switch(_0x4a4887){case _0x2ba574(0x2bf):_0x5b7604=_0x4fcb4b===_0x518f13['correctResponse'];break;case _0x2ba574(0x1cb):const _0x4b11fc=_0x4fcb4b===!![]||_0x4fcb4b===_0x2ba574(0x93f);_0x5b7604=_0x4b11fc===_0x518f13['correctAnswer'];break;case'short_answer':_0x5b7604=await gradeShortAnswer(_0x4fcb4b,_0x518f13);break;case _0x2ba574(0x37c):default:_0x5b7604=Number(_0x4fcb4b)===_0x518f13[_0x2ba574(0x3a3)];break;}}if(currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']){const _0x30972d=_0x3282f5?_0x3282f5[_0x2ba574(0x87f)]:null;if(_0x5b7604&&(_0x30972d===!![]||_0x30972d==='confident'))_0x4f6c6a=0x2;else{if(_0x5b7604)_0x4f6c6a=0x1;else{if(!_0x5b7604&&(_0x30972d===![]||_0x30972d===_0x2ba574(0xcaf)||_0x30972d===null))_0x4f6c6a=0x0;else!_0x5b7604&&(_0x30972d===!![]||_0x30972d===_0x2ba574(0x93a))&&(_0x4f6c6a=-0x1);}}}else _0x4f6c6a=_0x5b7604?0x1:0x0;_0x273a80+=_0x4f6c6a;if(_0x5b7604){_0x15e11f++;if(_0x15e11f===0x3)_0x4b1e9e['push'](BADGES['ON_FIRE']['id']);}else _0x15e11f=0x0;let _0x178297=null;_0x518f13[_0x2ba574(0x9e4)]&&_0x4fcb4b!==null&&(_0x178297=_0x518f13['options'][_0x4fcb4b]),_0x5f22eb[_0x2ba574(0x229)]({'questionId':_0x518f13['id'],'answer':_0x4fcb4b,'answerText':_0x178297,'isCorrect':_0x5b7604,'wasConfident':_0x3d3859,'pointsAwarded':_0x4f6c6a,'originalQuestionText':_0x518f13[_0x2ba574(0x826)]||_0x518f13[_0x2ba574(0x324)]});}const _0x2b1dd0=_0x5f22eb[_0x2ba574(0x275)](_0x564125=>_0x564125['isCorrect'])[_0x2ba574(0x26d)],_0x48b805=currentDisplayedQuiz[_0x2ba574(0x607)]?.[_0x2ba574(0x490)]??Math[_0x2ba574(0x74e)](_0xc1e493/0x2);_0x2b1dd0===_0xc1e493&&_0xc1e493>0x0&&!currentDisplayedQuiz[_0x2ba574(0x767)]&&_0x4b1e9e[_0x2ba574(0x229)](BADGES[_0x2ba574(0x3d6)]['id']);const _0x4038a7=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x4038a7==='whole_quiz'&&quizStartTime){const _0x1553a8=(new Date()-quizStartTime)/0x3e8,_0x48be0a=currentDisplayedQuiz[_0x2ba574(0x607)][_0x2ba574(0xc91)]*0x3c;_0x2b1dd0>=_0x48b805&&_0x1553a8<_0x48be0a/0x2&&_0x4b1e9e[_0x2ba574(0x229)](BADGES[_0x2ba574(0x223)]['id']);}_0x3a8017[_0x2ba574(0x26d)]===0x0&&_0x2b1dd0===_0xc1e493&&_0xc1e493>0x0&&_0x4b1e9e['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x3a8017['length']>0x0){const _0x2410f6=_0x3a8017[0x0]['score'];if(_0x2410f6<_0x48b805&&_0x2b1dd0>=_0x48b805){const _0x54515c=_0x3a8017[_0x2ba574(0x24f)](_0x512f0e=>(_0x512f0e['badges']||[])[_0x2ba574(0x1ef)](BADGES[_0x2ba574(0x9d3)]['id']));!_0x54515c&&_0x4b1e9e['push'](BADGES[_0x2ba574(0x9d3)]['id']);}}_0x3a8017[_0x2ba574(0x26d)]===0x4&&_0x4b1e9e[_0x2ba574(0x229)](BADGES['PERSEVERANCE']['id']);const _0x1bbf0e=currentDisplayedQuiz[_0x2ba574(0x607)][_0x2ba574(0xd97)];if(currentMode===_0x2ba574(0x624)){handleResultDisplay(_0x1bbf0e,_0x2b1dd0,_0x273a80,_0x4b1e9e,_0x5f22eb,_0xc1e493);return;}const _0x492099=currentQuizData['id'],_0xb005df=doc(db,_0x2ba574(0x7ff)+appId+_0x2ba574(0x2a9)+_0x492099+_0x2ba574(0xe18),currentStudentName);try{const _0xa94e00=[..._0x3a8017],_0x331113={'score':_0x2b1dd0,'points':_0x273a80,'badges':Array[_0x2ba574(0xae1)](new Set(_0x4b1e9e)),'submittedAt':new Date()[_0x2ba574(0x5c8)](),'answers':_0x5f22eb};_0xa94e00['push'](_0x331113);const _0x3a5e4a=_0x3a8017[_0x2ba574(0x26d)]===0x0?_0x2b1dd0:_0x3a8017[0x0]['score']||0x0,_0x359ff0=Math[_0x2ba574(0x69c)](..._0xa94e00[_0x2ba574(0x469)](_0x5398c4=>_0x5398c4[_0x2ba574(0xd0e)]));await setDoc(_0xb005df,{'studentName':currentStudentName,'totalQuestions':_0xc1e493,'attempts':_0xa94e00,'firstScore':_0x3a5e4a,'bestScore':_0x359ff0,'latestScore':_0x2b1dd0,'points':_0x273a80,'latestSubmittedAt':_0x331113[_0x2ba574(0x318)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x2ba574(0x1cf)],currentStudentName),handleResultDisplay(_0x1bbf0e,_0x2b1dd0,_0x273a80,_0x4b1e9e,_0x5f22eb,_0xc1e493);}catch(_0x951c41){console[_0x2ba574(0x3f5)](_0x2ba574(0x4bf),_0x951c41),showMessage(_0x2ba574(0xa8e));}}async function updateStudentProfile(_0x16685b,_0x24f0cd){const _0x2a5681=_0x1cfa42,_0x2e6ee8=doc(db,'artifacts/'+appId+_0x2a5681(0xcf2)+_0x16685b+_0x2a5681(0xb6d),_0x24f0cd);try{const _0x299a3b=query(collection(db,_0x2a5681(0x7ff)+appId+_0x2a5681(0x254)),where(_0x2a5681(0x1cf),'==',_0x16685b)),_0x2d4913=await getDocs(_0x299a3b),_0x2a76e8=new Map(_0x2d4913[_0x2a5681(0xd24)]['map'](_0x960ca=>[_0x960ca['id'],_0x960ca[_0x2a5681(0x934)]()])),_0x539e61=Array['from'](_0x2a76e8['keys']());await runTransaction(db,async _0x2374be=>{const _0x176f2c=_0x2a5681;let _0x1ac9ee=0x0;const _0xb5a3b0={};let _0x57abb2=!![],_0xf4c143=0x0,_0x5a4eae=0x0;for(const _0x353186 of _0x539e61){const _0x2f53d3=_0x2a76e8[_0x176f2c(0x52e)](_0x353186),_0x12ae0b=doc(db,_0x176f2c(0x7ff)+appId+'/public/data/quizzes/'+_0x353186+_0x176f2c(0xe18),_0x24f0cd),_0x5274c5=await _0x2374be[_0x176f2c(0x52e)](_0x12ae0b);if(_0x5274c5[_0x176f2c(0x2b1)]()){const _0x29481f=_0x5274c5[_0x176f2c(0x934)](),_0x2c178c=_0x29481f[_0x176f2c(0x8f7)]||[];if(_0x2c178c['length']>0x0){const _0x5e0c67=_0x2c178c[_0x176f2c(0xdbd)]((_0x389699,_0x3c1383)=>{const _0x252963=_0x176f2c;if(_0x3c1383[_0x252963(0xd0e)]>_0x389699[_0x252963(0xd0e)])return _0x3c1383;if(_0x3c1383[_0x252963(0xd0e)]===_0x389699[_0x252963(0xd0e)])return(_0x3c1383[_0x252963(0x3e3)]||0x0)>(_0x389699[_0x252963(0x3e3)]||0x0)?_0x3c1383:_0x389699;return _0x389699;},{'score':-0x1,'points':-0x1});_0x5e0c67[_0x176f2c(0xd0e)]>-0x1&&(_0x1ac9ee+=_0x5e0c67[_0x176f2c(0x3e3)]||0x0,(_0x5e0c67['badges']||[])[_0x176f2c(0xdac)](_0x2681ff=>{_0xb5a3b0[_0x2681ff]=(_0xb5a3b0[_0x2681ff]||0x0)+0x1;}));}}if(_0x2f53d3[_0x176f2c(0x3b7)]!==_0x176f2c(0xbae)){_0x5a4eae++;if(_0x5274c5['exists']()){_0xf4c143++;const _0x3140ec=_0x5274c5[_0x176f2c(0x934)]();_0x3140ec[_0x176f2c(0xe02)]!==_0x3140ec['totalQuestions']&&(_0x57abb2=![]);}else _0x57abb2=![];}}_0x5a4eae>0x0&&_0xf4c143===_0x5a4eae&&_0x57abb2?_0xb5a3b0[_0x176f2c(0xc5e)]=0x1:_0xb5a3b0[_0x176f2c(0xc5e)]=0x0,_0x2374be[_0x176f2c(0x793)](_0x2e6ee8,{'studentName':_0x24f0cd,'totalPoints':_0x1ac9ee,'unlockedBadges':Object[_0x176f2c(0x972)](_0xb5a3b0)[_0x176f2c(0x275)](_0x1a47c6=>_0xb5a3b0[_0x1a47c6]>0x0),'badgesCount':_0xb5a3b0},{'merge':!![]});});}catch(_0x1d482c){console[_0x2a5681(0x3f5)](_0x2a5681(0x9c7),_0x1d482c),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x483d7a=_0x1cfa42;if(!currentQuizData){showMessage(_0x483d7a(0x3b2));return;}let _0x108684=JSON[_0x483d7a(0xba3)](JSON[_0x483d7a(0x2a1)](currentQuizData));currentMode=_0x483d7a(0x624),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x483d7a(0xe06)][_0x483d7a(0xd5c)](_0x483d7a(0xa93)),studentView[_0x483d7a(0xe06)]['remove']('hidden'),studentInitialView[_0x483d7a(0xe06)][_0x483d7a(0xd5c)](_0x483d7a(0xa93)),studentNameSelectionView[_0x483d7a(0xe06)]['add'](_0x483d7a(0xa93)),studentResultArea[_0x483d7a(0xe06)][_0x483d7a(0xd5c)]('hidden'),studentQuizArea['classList'][_0x483d7a(0xb55)](_0x483d7a(0xa93)),quizStartTime=new Date(),displayQuizForStudent(_0x108684);}function handleResultDisplay(_0x520e54,_0x5217be,_0x2a8f75,_0x48a117,_0x921c85,_0x135777){const _0x6b6b5d=_0x1cfa42;if(_0x520e54===_0x6b6b5d(0x5e2)){displaySubmissionConfirmation();return;}const _0x31240e=currentDisplayedQuiz[_0x6b6b5d(0x607)]?.['passingScore']??Math[_0x6b6b5d(0x74e)](_0x135777/0x2),_0xd0c9cb=currentDisplayedQuiz[_0x6b6b5d(0x607)]?.[_0x6b6b5d(0x64a)]??![],_0x6d088a=currentDisplayedQuiz[_0x6b6b5d(0x607)]?.[_0x6b6b5d(0x9e3)]===!![],_0x23fd36=_0x5217be<_0x31240e,_0x387700=_0x520e54===_0x6b6b5d(0x589)||_0x520e54===_0x6b6b5d(0xd03);if(_0x6d088a&&_0x23fd36&&!_0x387700){_0x520e54===_0x6b6b5d(0x2ff)?displayResultsWithAnswers(_0x5217be,_0x2a8f75,_0x48a117,_0x921c85,_0x135777,!![]):displayLoopScreen(_0x5217be,_0x135777,_0x520e54);return;}if(_0xd0c9cb&&_0x23fd36){startAdaptiveFlow(_0x921c85,_0x5217be,_0x135777);return;}switch(_0x520e54){case'show_results_and_answers':displayResultsWithAnswers(_0x5217be,_0x2a8f75,_0x48a117,_0x921c85,_0x135777);break;case _0x6b6b5d(0x921):displayResultsScoreOnly(_0x5217be,_0x2a8f75,_0x48a117,_0x135777);break;case _0x6b6b5d(0x448):displayPassFailOnly(_0x5217be,_0x135777);break;case _0x6b6b5d(0x589):displayHalfMarkResult(_0x5217be,_0x135777);break;case _0x6b6b5d(0xd03):displayPerfectScoreResult(_0x5217be,_0x135777);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x8c3bb7){const _0x137e91=_0x1cfa42;studentReadingArea['innerHTML']=_0x137e91(0x308);const _0x37fa0a=_0x137e91(0xdb9)+_0x8c3bb7+_0x137e91(0x747)+simpleMathPrompt+_0x137e91(0xe1d),_0x16fa41={'type':_0x137e91(0xc68),'properties':{'questionText':{'type':_0x137e91(0xe19)},'options':{'type':_0x137e91(0x1d5),'items':{'type':_0x137e91(0xe19)}},'correctAnswerIndex':{'type':_0x137e91(0xba6)},'explanation':{'type':_0x137e91(0xe19)}},'required':[_0x137e91(0x324),_0x137e91(0x9e4),_0x137e91(0x3a3),_0x137e91(0x582)]},_0x131f98={'type':_0x137e91(0xc68),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x137e91(0x1d5),'items':_0x16fa41}},'required':['topic',_0x137e91(0xb0f)]};try{const _0x1bda97=await callAnalysisApi(_0x37fa0a,_0x131f98);_0x1bda97[_0x137e91(0x767)]=!![],studentReadingArea[_0x137e91(0xe06)]['add'](_0x137e91(0xa93));const _0x514230={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x137e91(0x2ff)};_0x1bda97[_0x137e91(0x607)]=_0x514230,displayQuizForStudent(_0x1bda97);}catch(_0x34a068){console[_0x137e91(0x3f5)](_0x137e91(0xcab),_0x34a068),showMessage(_0x137e91(0x845)),showView('student');}}function displayPassFailOnly(_0x40fdb8,_0x11c550){const _0x11ae42=_0x1cfa42,_0x1fb739=currentDisplayedQuiz[_0x11ae42(0x607)]?.[_0x11ae42(0x490)]??-0x1,_0x300c32=currentDisplayedQuiz[_0x11ae42(0x767)]===!![];let _0x29e26c='',_0x4b54c3=![];if(_0x300c32||_0x1fb739!==-0x1){_0x4b54c3=_0x300c32?_0x40fdb8===_0x11c550:_0x40fdb8>=_0x1fb739;const _0x37aa57=_0x4b54c3?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x56cbec=_0x4b54c3?_0x11ae42(0x1fa):_0x11ae42(0xd61);_0x29e26c=_0x11ae42(0xb19)+_0x37aa57+'\x22>'+_0x56cbec+_0x11ae42(0x30c);}else _0x29e26c='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x451618=_0x11ae42(0x838)+currentStudentName+_0x11ae42(0x634)+_0x29e26c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x451618,studentResultArea[_0x11ae42(0xe06)][_0x11ae42(0xb55)](_0x11ae42(0xa93)),studentQuizArea[_0x11ae42(0xe06)][_0x11ae42(0xd5c)](_0x11ae42(0xa93)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4b54c3});}function cancelAdminTest(){const _0x1e6be3=_0x1cfa42;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x1e6be3(0x85c)]('fullscreenchange',handleFullscreenChange),document[_0x1e6be3(0x85c)](_0x1e6be3(0xe05),handleVisibilityChange),currentMode=_0x1e6be3(0xc51),studentView[_0x1e6be3(0xe06)]['add']('hidden'),adminView['classList']['remove'](_0x1e6be3(0xa93)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x1e6be3(0x80f));}function setupResultScreenBackButton(_0x572e66){const _0x3c496d=_0x1cfa42,_0x21aba3={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x572e66};if(_0x21aba3[_0x3c496d(0x1c0)]){const _0x159490=_0x3c496d(0x497);studentResultArea[_0x3c496d(0x22c)](_0x3c496d(0x57d),_0x159490),document[_0x3c496d(0xbf1)]('retake-quiz-loop-btn')[_0x3c496d(0x4ef)](_0x3c496d(0x67d),()=>{const _0x516715=_0x3c496d;studentResultArea['classList'][_0x516715(0xd5c)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x22d282=_0x3c496d(0xde1),_0x42b6b0=currentMode===_0x3c496d(0x624),_0x26a7af=_0x42b6b0?_0x3c496d(0x681):_0x3c496d(0x5ef);let _0x71fedb='';_0x21aba3[_0x3c496d(0xc49)]&&(_0x71fedb+=_0x3c496d(0x48b));let _0x4c1555=_0x21aba3['showImproveButton'];_0x4c1555===undefined&&(_0x4c1555=_0x21aba3['score']<_0x21aba3['totalQuestions']);_0x4c1555&&(_0x71fedb+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x71fedb+=_0x3c496d(0x71e)+_0x22d282+_0x3c496d(0x7b2)+_0x26a7af+_0x3c496d(0x358);const _0x110f13=_0x3c496d(0xbec)+_0x71fedb+'</div>';studentResultArea[_0x3c496d(0x22c)](_0x3c496d(0x57d),_0x110f13),studentResultArea[_0x3c496d(0x19c)](_0x3c496d(0x393))?.['addEventListener']('click',handleShowStudentRankings);const _0x5c5a08=studentResultArea['querySelector'](_0x3c496d(0x9ef));_0x5c5a08&&_0x5c5a08[_0x3c496d(0x4ef)](_0x3c496d(0x67d),()=>{const _0x348458=_0x3c496d;studentResultArea[_0x348458(0xe06)][_0x348458(0xd5c)](_0x348458(0xa93)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x22d282)[_0x3c496d(0x4ef)](_0x3c496d(0x67d),()=>{const _0x14d049=_0x3c496d;_0x42b6b0?(currentMode='admin',studentView[_0x14d049(0xe06)][_0x14d049(0xd5c)](_0x14d049(0xa93)),adminView[_0x14d049(0xe06)][_0x14d049(0xb55)]('hidden'),showView(_0x14d049(0x80f))):(showView(_0x14d049(0x65e)),document[_0x14d049(0xbf1)](_0x14d049(0x2cc))[_0x14d049(0x49f)]='');});}function displayResultsWithAnswers(_0x285f4e,_0x2430f3,_0x19ddec,_0x10e749,_0x209871,_0x532b6f=![]){const _0x51405a=_0x1cfa42,_0x20f5fe=_0x209871>0x0?_0x285f4e/_0x209871*0x64:0x0,_0x53e50f=currentDisplayedQuiz[_0x51405a(0x607)]?.[_0x51405a(0x490)]??-0x1,_0x201930=currentDisplayedQuiz[_0x51405a(0x767)]===!![];let _0x22cb34='';if(_0x201930||_0x53e50f!==-0x1){let _0x842e77=_0x201930?_0x285f4e===_0x209871:_0x285f4e>=_0x53e50f;const _0x3935cb=_0x842e77?'bg-green-100\x20text-green-800':_0x51405a(0x9df),_0x44afd3=_0x842e77?_0x51405a(0x1fa):'ไม่ผ่าน';_0x22cb34=_0x51405a(0xd92)+_0x3935cb+'\x22>'+_0x44afd3+'</p>';}let _0x33aaa4=_0x51405a(0x66a)+currentStudentName+_0x51405a(0x481)+_0x285f4e+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x209871+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22cb34+_0x51405a(0xd3a)+_0x2430f3+_0x51405a(0x739)+_0x20f5fe[_0x51405a(0xac2)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x51405a(0xb0f)][_0x51405a(0xdac)]((_0xe6f496,_0x3cf5bc)=>{const _0x52d9df=_0x51405a,_0x18020d=_0x10e749[_0x3cf5bc],_0x3c62ee=_0x18020d['answer'],_0x3adf76=_0x18020d[_0x52d9df(0x553)],_0x38e625=_0xe6f496[_0x52d9df(0xb83)]||currentDisplayedQuiz['quizType'];_0x33aaa4+=_0x52d9df(0x58e)+(_0x3adf76?_0x52d9df(0x321):_0x52d9df(0x2f5))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x3cf5bc+0x1)+'.\x20'+(_0xe6f496['stem']||_0xe6f496[_0x52d9df(0x324)])+_0x52d9df(0x8ee);switch(_0x38e625){case _0x52d9df(0x2bf):const _0x586bd5=_0x3c62ee||_0x52d9df(0xaed),_0x4bb870=_0xe6f496[_0x52d9df(0x578)];_0x33aaa4+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x3adf76?'line-through\x20text-red-700':'')+'\x22>'+_0x586bd5+_0x52d9df(0xcb1);!_0x3adf76&&(_0x33aaa4+=_0x52d9df(0x741)+_0x4bb870+_0x52d9df(0x1e3));break;case _0x52d9df(0x944):_0x33aaa4+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x3c62ee||'ไม่ได้ตอบ')+_0x52d9df(0x1e3),_0x33aaa4+=_0x52d9df(0x707)+_0xe6f496['idealAnswer']+_0x52d9df(0x1e3);break;case _0x52d9df(0x1cb):_0x33aaa4+='<p\x20class=\x22'+(_0xe6f496[_0x52d9df(0x59b)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x3c62ee==='true'&&!_0x3adf76?_0x52d9df(0x375):'')+_0x52d9df(0x3ae),_0x33aaa4+=_0x52d9df(0x1e1)+(_0xe6f496[_0x52d9df(0x59b)]===![]?_0x52d9df(0x430):'')+'\x20'+(_0x3c62ee===_0x52d9df(0x39d)&&!_0x3adf76?'line-through\x20text-red-700':'')+_0x52d9df(0xb63);break;default:_0x33aaa4+=_0xe6f496[_0x52d9df(0x9e4)][_0x52d9df(0x469)]((_0x2f9df9,_0x3e8c79)=>{const _0x32884a=_0x52d9df;let _0x22c0c1='',_0x546e24='';if(_0x3e8c79===_0xe6f496['correctAnswerIndex'])_0x22c0c1=_0x32884a(0x430),_0x546e24=_0x32884a(0x764);else _0x3e8c79===_0x3c62ee&&(_0x22c0c1=_0x32884a(0x42a),_0x546e24='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x22c0c1+'\x22>'+_0x546e24+_0x2f9df9+'</div>';})[_0x52d9df(0x4ce)]('');break;}_0x33aaa4+=_0x52d9df(0x576)+(_0xe6f496[_0x52d9df(0x582)]||_0x52d9df(0x1bb))+_0x52d9df(0xcdd);if(!_0x3adf76){const _0x4cc843=_0xe6f496[_0x52d9df(0x826)]||_0xe6f496[_0x52d9df(0x324)];_0x33aaa4+=_0x52d9df(0x57b)+escape(_0x4cc843)+_0x52d9df(0xd87);}_0x33aaa4+=_0x52d9df(0xcdd);}),studentResultArea[_0x51405a(0xcf3)]=_0x33aaa4,renderEarnedBadges(_0x19ddec,'earned-badges-container'),studentResultArea[_0x51405a(0xe06)][_0x51405a(0xb55)](_0x51405a(0xa93)),studentQuizArea['classList']['add'](_0x51405a(0xa93)),setupResultScreenBackButton({'isLooping':_0x532b6f,'score':_0x285f4e,'totalQuestions':_0x209871,'showRankings':!![]});if(window[_0x51405a(0x6b2)])window[_0x51405a(0x6b2)][_0x51405a(0x255)]([studentResultArea]);}function displayResultsScoreOnly(_0x3d4c8e,_0x4f51cb,_0x5294f5,_0x24ce2b){const _0x12cd53=_0x1cfa42,_0x1558c8=_0x24ce2b>0x0?_0x3d4c8e/_0x24ce2b*0x64:0x0,_0x331236=currentDisplayedQuiz[_0x12cd53(0x607)]?.['passingScore']??-0x1,_0x151b6a=currentDisplayedQuiz[_0x12cd53(0x767)]===!![];let _0x2919d0='';if(_0x151b6a||_0x331236!==-0x1){let _0x4731f6=_0x151b6a?_0x3d4c8e===_0x24ce2b:_0x3d4c8e>=_0x331236;const _0x579145=_0x4731f6?_0x12cd53(0xb4a):'bg-red-100\x20text-red-800',_0x458271=_0x4731f6?_0x12cd53(0x1fa):'ไม่ผ่าน';_0x2919d0=_0x12cd53(0xd92)+_0x579145+'\x22>'+_0x458271+_0x12cd53(0x1e3);}let _0x535286=_0x12cd53(0x838)+currentStudentName+_0x12cd53(0x478)+_0x3d4c8e+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x24ce2b+_0x12cd53(0xd43)+_0x2919d0+_0x12cd53(0xd3a)+_0x4f51cb+_0x12cd53(0x284)+_0x1558c8[_0x12cd53(0xac2)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x535286,renderEarnedBadges(_0x5294f5,_0x12cd53(0xc2b)),studentResultArea['classList'][_0x12cd53(0xb55)](_0x12cd53(0xa93)),studentQuizArea[_0x12cd53(0xe06)][_0x12cd53(0xd5c)]('hidden'),setupResultScreenBackButton({'score':_0x3d4c8e,'totalQuestions':_0x24ce2b,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x51dc5e=_0x1cfa42;let _0x2f99d8=_0x51dc5e(0x2e3)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x51dc5e(0xcf3)]=_0x2f99d8,studentResultArea[_0x51dc5e(0xe06)][_0x51dc5e(0xb55)](_0x51dc5e(0xa93)),studentQuizArea[_0x51dc5e(0xe06)]['add'](_0x51dc5e(0xa93)),document['getElementById']('back-to-home-manual-release')[_0x51dc5e(0x4ef)](_0x51dc5e(0x67d),()=>{const _0xbe8162=_0x51dc5e;showView(_0xbe8162(0x65e)),document[_0xbe8162(0xbf1)]('quiz-id-input')[_0xbe8162(0x49f)]='';});}function renderEarnedBadges(_0x44d165,_0x2d1888){const _0x1d363f=_0x1cfa42,_0xca1249=document[_0x1d363f(0xbf1)](_0x2d1888);if(!_0xca1249||!_0x44d165||_0x44d165[_0x1d363f(0x26d)]===0x0)return;let _0x515659='';_0x44d165['forEach']((_0x2856ae,_0x1dc24a)=>{const _0x19afb9=_0x1d363f,_0x46165e=Object[_0x19afb9(0xdc2)](BADGES)[_0x19afb9(0x633)](_0x263cce=>_0x263cce['id']===_0x2856ae);_0x46165e&&(_0x515659+=_0x19afb9(0x900)+_0x1dc24a*0.2+'s;\x22\x20title=\x22'+_0x46165e[_0x19afb9(0x325)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x46165e[_0x19afb9(0xa3e)]+_0x19afb9(0xd20)+_0x46165e[_0x19afb9(0x372)]+_0x19afb9(0x7ea));}),_0xca1249[_0x1d363f(0xcf3)]=_0x515659;}function startPresentation(_0x592617){const _0x7e6766=_0x1cfa42;currentQuizData=getShuffledQuiz(_0x592617),currentPresentationSlide=0x0,presentationModal[_0x7e6766(0x403)]['display']=_0x7e6766(0x166),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x43d0c9=_0x1cfa42;document[_0x43d0c9(0xd28)]&&document['exitFullscreen'](),presentationModal[_0x43d0c9(0x403)][_0x43d0c9(0x95f)]='none';}function renderPresentationSlide(_0x5391b5){const _0x124c14=_0x1cfa42,_0x5b0ad3=document[_0x124c14(0xbf1)](_0x124c14(0xd04));if(!currentQuizData||!currentQuizData[_0x124c14(0xb0f)]||!currentQuizData[_0x124c14(0xb0f)][_0x5391b5]){_0x5b0ad3[_0x124c14(0xcf3)]=_0x124c14(0x61b);return;}const _0x1279a7=currentQuizData['questions'][_0x5391b5],_0x38810d=_0x1279a7['questionType']||currentQuizData[_0x124c14(0x4c3)];_0x5b0ad3['innerHTML']='';let _0x448b3b=_0x124c14(0x7bf)+(_0x1279a7['imageCode']?_0x124c14(0xc25)+_0x1279a7['imageCode']+_0x124c14(0xcdd):'')+_0x124c14(0x35b)+(_0x5391b5+0x1)+'.\x20'+(_0x1279a7['stem']||_0x1279a7[_0x124c14(0x324)])+_0x124c14(0x702);switch(_0x38810d){case _0x124c14(0x2bf):_0x448b3b+=_0x1279a7[_0x124c14(0xb53)]['map'](_0x4ef296=>_0x124c14(0xb3e)+_0x4ef296+_0x124c14(0xc56))[_0x124c14(0x4ce)]('');break;case _0x124c14(0x1cb):_0x448b3b+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x448b3b+=_0x124c14(0x19d);break;case _0x124c14(0x30a):case'short_answer':_0x448b3b+=_0x124c14(0x43d);break;case _0x124c14(0xd67):case'multiple_choice':default:_0x448b3b+=_0x1279a7[_0x124c14(0x9e4)][_0x124c14(0x469)]((_0x1179e4,_0x211a9a)=>_0x124c14(0x775)+_0x211a9a+_0x124c14(0x1e7)+_0x1179e4+_0x124c14(0xc56))[_0x124c14(0x4ce)]('');break;}_0x448b3b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x1279a7[_0x124c14(0x582)]||_0x124c14(0x1bb))+_0x124c14(0x208),_0x5b0ad3[_0x124c14(0xcf3)]=_0x448b3b;if(window[_0x124c14(0x6b2)])window['MathJax'][_0x124c14(0x255)]([_0x5b0ad3]);let _0x22b612=[];switch(_0x38810d){case _0x124c14(0x2bf):_0x22b612=_0x1279a7[_0x124c14(0xb53)]||[];break;case _0x124c14(0x1cb):_0x22b612=[_0x124c14(0x24e),_0x124c14(0xd5f)];break;default:_0x22b612=_0x1279a7[_0x124c14(0x9e4)]||[];break;}const _0x18d88a=document[_0x124c14(0xbf1)](_0x124c14(0x19b));_0x18d88a&&(_0x18d88a[_0x124c14(0x1a5)]=()=>{openScratchpad(_0x1279a7,_0x22b612);});document[_0x124c14(0x218)](_0x124c14(0xc96))['forEach'](_0x5d5da1=>{const _0x37b7a7=_0x124c14;_0x5d5da1[_0x37b7a7(0x4ef)]('click',_0x27ae60=>revealAnswerForPresentation(_0x5391b5,_0x27ae60['currentTarget']));});const _0x2b98b8=document['getElementById'](_0x124c14(0xae3));_0x2b98b8&&_0x2b98b8[_0x124c14(0x4ef)]('click',()=>checkShortAnswerForPresentation(_0x5391b5)),document[_0x124c14(0xbf1)]('slide-counter')[_0x124c14(0x617)]=_0x124c14(0x2b7)+(_0x5391b5+0x1)+_0x124c14(0x7b1)+currentQuizData[_0x124c14(0xb0f)][_0x124c14(0x26d)],document[_0x124c14(0xbf1)](_0x124c14(0x6ab))[_0x124c14(0x635)]=_0x5391b5===0x0,document[_0x124c14(0xbf1)]('next-question-btn')[_0x124c14(0x635)]=_0x5391b5===currentQuizData['questions'][_0x124c14(0x26d)]-0x1;}async function checkShortAnswerForPresentation(_0x4d610c){const _0x4595f1=_0x1cfa42,_0x2ca28a=currentQuizData[_0x4595f1(0xb0f)][_0x4d610c],_0x6afb98=document['getElementById']('presentation-short-answer-input'),_0x31bf9b=document[_0x4595f1(0xbf1)]('check-presentation-answer-btn'),_0x3ce60b=document['getElementById'](_0x4595f1(0x46d)),_0x240ab8=document[_0x4595f1(0xbf1)](_0x4595f1(0x417));if(!_0x6afb98||!_0x31bf9b||!_0x3ce60b||!_0x240ab8)return;const _0x1feb16=_0x6afb98[_0x4595f1(0x49f)]['trim']();if(_0x1feb16==='')return;_0x31bf9b[_0x4595f1(0x635)]=!![],_0x31bf9b[_0x4595f1(0xcf3)]=_0x4595f1(0x47d),_0x6afb98[_0x4595f1(0x635)]=!![];const _0x1890eb=await gradeShortAnswer(_0x1feb16,_0x2ca28a);_0x1890eb?_0x3ce60b[_0x4595f1(0xcf3)]=_0x4595f1(0xc9e):_0x3ce60b[_0x4595f1(0xcf3)]=_0x4595f1(0xa84)+_0x2ca28a[_0x4595f1(0x886)]+')',_0x3ce60b[_0x4595f1(0xe06)][_0x4595f1(0xb55)]('hidden'),_0x240ab8['classList'][_0x4595f1(0xb55)]('hidden'),_0x31bf9b['classList'][_0x4595f1(0xd5c)](_0x4595f1(0xa93));}function revealAnswerForPresentation(_0x3000c2,_0xf51f0e){const _0x41aafe=_0x1cfa42,_0x5b9a03=currentQuizData[_0x41aafe(0xb0f)][_0x3000c2],_0x7a0416=_0x5b9a03[_0x41aafe(0xb83)]||currentQuizData['quizType'];document[_0x41aafe(0x218)](_0x41aafe(0xc96))[_0x41aafe(0xdac)](_0x1275c9=>{const _0x4c6375=_0x41aafe;_0x1275c9[_0x4c6375(0x635)]=!![],_0x1275c9[_0x4c6375(0xe06)][_0x4c6375(0xb55)](_0x4c6375(0x6c8));let _0x4ebf12=![];if(_0x7a0416===_0x4c6375(0x37c)||_0x7a0416===_0x4c6375(0xd67)){const _0x101aa7=parseInt(_0x1275c9[_0x4c6375(0x2b9)][_0x4c6375(0x3fd)]);_0x4ebf12=_0x101aa7===_0x5b9a03[_0x4c6375(0x3a3)];}else{if(_0x7a0416===_0x4c6375(0x1cb)){const _0x48f830=_0x1275c9[_0x4c6375(0x2b9)][_0x4c6375(0x7d8)]===_0x4c6375(0x93f);_0x4ebf12=_0x48f830===_0x5b9a03[_0x4c6375(0x59b)];}else _0x7a0416===_0x4c6375(0x2bf)&&(_0x4ebf12=_0x1275c9[_0x4c6375(0x617)]['trim']()===_0x5b9a03['correctResponse']);}_0x4ebf12?_0x1275c9[_0x4c6375(0xe06)][_0x4c6375(0xd5c)](_0x4c6375(0xe07),_0x4c6375(0xdf6),'border-green-700'):_0x1275c9[_0x4c6375(0xe06)]['add'](_0x4c6375(0xc53));}),_0xf51f0e[_0x41aafe(0xe06)][_0x41aafe(0xb55)]('opacity-50');let _0x4c432a=![];if(_0x7a0416===_0x41aafe(0x37c))_0x4c432a=parseInt(_0xf51f0e['dataset'][_0x41aafe(0x3fd)])===_0x5b9a03[_0x41aafe(0x3a3)];else{if(_0x7a0416===_0x41aafe(0x1cb))_0x4c432a=_0xf51f0e[_0x41aafe(0x2b9)][_0x41aafe(0x7d8)]==='true'===_0x5b9a03['correctAnswer'];else _0x7a0416===_0x41aafe(0x2bf)&&(_0x4c432a=_0xf51f0e[_0x41aafe(0x617)][_0x41aafe(0xab6)]()===_0x5b9a03[_0x41aafe(0x578)]);}!_0x4c432a&&_0xf51f0e[_0x41aafe(0xe06)][_0x41aafe(0xd5c)](_0x41aafe(0x4d9),'text-white',_0x41aafe(0x8e2)),document[_0x41aafe(0xbf1)](_0x41aafe(0x417))[_0x41aafe(0xe06)][_0x41aafe(0xb55)](_0x41aafe(0xa93));}function startWholeQuizTimer(_0x521e19){const _0x1e3e61=_0x1cfa42,_0x465668=document['getElementById'](_0x1e3e61(0x45b));if(!_0x465668)return;const _0x3aa85b=Date['now']()+_0x521e19*0x3c*0x3e8;_0x465668[_0x1e3e61(0xcf3)]=_0x1e3e61(0x51d);const _0x1a6594=document[_0x1e3e61(0xbf1)](_0x1e3e61(0xd35));quizTimerInterval=setInterval(()=>{const _0x3fe8ff=_0x1e3e61,_0x2626d0=_0x3aa85b-Date[_0x3fe8ff(0x24a)]();if(_0x2626d0<=0x0)clearInterval(quizTimerInterval),_0x1a6594[_0x3fe8ff(0x617)]=_0x3fe8ff(0x9b2),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x39ae69=Math[_0x3fe8ff(0x74e)](_0x2626d0/0x3e8/0x3c%0x3c)[_0x3fe8ff(0x701)]()[_0x3fe8ff(0x7a4)](0x2,'0'),_0x5bf8a7=Math[_0x3fe8ff(0x74e)](_0x2626d0/0x3e8%0x3c)['toString']()[_0x3fe8ff(0x7a4)](0x2,'0');_0x1a6594[_0x3fe8ff(0x617)]=_0x39ae69+':'+_0x5bf8a7;}},0x3e8);}function renderPerQuestionView(){const _0x4dcb99=_0x1cfa42;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1c7c0a=currentDisplayedQuiz[_0x4dcb99(0xb0f)][currentQuestionIndex],_0x35ecbf=_0x1c7c0a['questionType']||currentDisplayedQuiz[_0x4dcb99(0x4c3)],_0x1b3c64=currentDisplayedQuiz[_0x4dcb99(0x607)]?.[_0x4dcb99(0x794)]===!![];let _0x12b6dc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x4dcb99(0xa21)+currentDisplayedQuiz[_0x4dcb99(0xb0f)][_0x4dcb99(0x26d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x4dcb99(0x624)?_0x4dcb99(0x1dc):'')+_0x4dcb99(0x877)+currentDisplayedQuiz[_0x4dcb99(0x3b7)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x12b6dc;let _0x24344f=_0x1c7c0a['stem']||_0x1c7c0a['questionText'];_0x1c7c0a[_0x4dcb99(0x50a)]&&(_0x24344f+=_0x4dcb99(0xc25)+_0x1c7c0a['imageCode']+_0x4dcb99(0xcdd));let _0x4578e7='';switch(_0x35ecbf){case _0x4dcb99(0x944):case _0x4dcb99(0x30a):_0x4578e7=_0x4dcb99(0x8ef);break;case _0x4dcb99(0x1cb):_0x4578e7='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x4dcb99(0x2bf):_0x4578e7=_0x4dcb99(0xd79)+(_0x1c7c0a[_0x4dcb99(0xb53)]||[])[_0x4dcb99(0x469)](_0x41e45a=>_0x4dcb99(0x7ce)+_0x41e45a+'\x22>'+_0x41e45a+_0x4dcb99(0x224))[_0x4dcb99(0x4ce)]('')+_0x4dcb99(0x86d);break;default:_0x1c7c0a['options']&&(_0x4578e7=_0x1c7c0a['options'][_0x4dcb99(0x469)]((_0x34cb79,_0x2da0dd)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x2da0dd+_0x4dcb99(0x486)+_0x2da0dd+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x2da0dd+'\x22>'+_0x34cb79+_0x4dcb99(0x9b7))['join'](''));break;}document[_0x4dcb99(0xbf1)](_0x4dcb99(0x5f5))[_0x4dcb99(0xcf3)]=_0x24344f,document[_0x4dcb99(0xbf1)](_0x4dcb99(0xd7c))['innerHTML']=_0x4578e7;const _0x16449f=currentDisplayedQuiz[_0x4dcb99(0x607)]?.[_0x4dcb99(0x794)]===!![],_0x1eeaaf=currentDisplayedQuiz[_0x4dcb99(0x607)]?.[_0x4dcb99(0x579)]||_0x4dcb99(0xc03);if(_0x16449f&&_0x1eeaaf===_0x4dcb99(0xc03)){const _0x3e7dfa=_0x4dcb99(0x33d);studentQuizArea['querySelector'](_0x4dcb99(0xccb))['insertAdjacentHTML']('beforeend',_0x3e7dfa);}studentQuizArea[_0x4dcb99(0x22c)](_0x4dcb99(0x57d),_0x4dcb99(0x1cd)+(currentQuestionIndex===currentDisplayedQuiz[_0x4dcb99(0xb0f)][_0x4dcb99(0x26d)]-0x1?'ส่งคำตอบ':_0x4dcb99(0xb93))+_0x4dcb99(0xa9e));currentMode===_0x4dcb99(0x624)&&document[_0x4dcb99(0xbf1)](_0x4dcb99(0xc95))?.[_0x4dcb99(0x4ef)](_0x4dcb99(0x67d),cancelAdminTest);document[_0x4dcb99(0xbf1)](_0x4dcb99(0x9de))['addEventListener'](_0x4dcb99(0x67d),()=>handleNextQuestionInTimedMode(![]));if(window[_0x4dcb99(0x6b2)])window[_0x4dcb99(0x6b2)][_0x4dcb99(0x255)]([studentQuizArea]);currentDisplayedQuiz[_0x4dcb99(0x607)]?.[_0x4dcb99(0xc4c)]===_0x4dcb99(0xdf2)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x1cbecc=_0x1cfa42,_0x2efa50=currentDisplayedQuiz[_0x1cbecc(0x607)]['timerDuration'],_0x4c4d9d=document[_0x1cbecc(0xbf1)](_0x1cbecc(0xd50));if(!_0x4c4d9d)return;let _0x2e810b=_0x2efa50;_0x4c4d9d[_0x1cbecc(0xcf3)]=_0x1cbecc(0xb54)+_0x2e810b+_0x1cbecc(0x77a);const _0x39d67c=document[_0x1cbecc(0xbf1)](_0x1cbecc(0x3d8)),_0x293bd2=document['getElementById'](_0x1cbecc(0x503));perQuestionTimerInterval=setInterval(()=>{const _0x7fd67d=_0x1cbecc;_0x2e810b--;const _0x2efdc6=_0x2e810b/_0x2efa50*0x64;_0x39d67c[_0x7fd67d(0x403)][_0x7fd67d(0x491)]=_0x2efdc6+'%',_0x293bd2[_0x7fd67d(0x617)]=_0x2e810b,_0x2e810b<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x7fd67d(0x824)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x798b68=![]){const _0x22e15e=_0x1cfa42;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1e217b=null,_0x3acb47=![];if(!_0x798b68){const _0x4c7cfa=currentDisplayedQuiz[_0x22e15e(0xb0f)][currentQuestionIndex],_0x2ed775=_0x4c7cfa[_0x22e15e(0xb83)]||currentDisplayedQuiz['quizType'];if(_0x2ed775===_0x22e15e(0x944)||_0x2ed775==='fill_in_no_choices')_0x1e217b=document[_0x22e15e(0x19c)](_0x22e15e(0xd5e))?.[_0x22e15e(0x49f)][_0x22e15e(0xab6)]()??'';else{if(_0x2ed775===_0x22e15e(0x2bf))_0x1e217b=document[_0x22e15e(0x19c)]('select[name=\x22question_single\x22]')?.[_0x22e15e(0x49f)]??'';else{const _0x232a65=document[_0x22e15e(0x19c)]('input[name=\x22question_single\x22]:checked');_0x232a65&&(_0x1e217b=_0x232a65[_0x22e15e(0x49f)]);}}if(_0x1e217b===null||_0x1e217b===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x58a214=currentDisplayedQuiz[_0x22e15e(0x607)]?.[_0x22e15e(0x794)]===!![],_0x2e2969=currentDisplayedQuiz[_0x22e15e(0x607)]?.[_0x22e15e(0x579)]||'checkbox';if(_0x58a214&&_0x2e2969===_0x22e15e(0xb20)){document[_0x22e15e(0xbf1)](_0x22e15e(0x86c))[_0x22e15e(0x2b9)][_0x22e15e(0x601)]=_0x22e15e(0xdf9),document[_0x22e15e(0xbf1)]('selected-answer-index-hidden')[_0x22e15e(0x49f)]=_0x1e217b,document[_0x22e15e(0xbf1)]('confidence-modal')[_0x22e15e(0xe06)][_0x22e15e(0xb55)]('hidden');return;}const _0x92f871=document[_0x22e15e(0xbf1)](_0x22e15e(0x402));_0x92f871&&(_0x3acb47=_0x92f871[_0x22e15e(0x51f)]);}const _0x5e8128={'answer':_0x1e217b,'wasConfident':_0x3acb47};proceedToNextQuestion(_0x5e8128);}async function finalizePerQuestionQuiz(){const _0x1cf8a8=_0x1cfa42,_0x2fe92a=currentDisplayedQuiz[_0x1cf8a8(0xb0f)][_0x1cf8a8(0x24f)](_0x34df76=>_0x34df76[_0x1cf8a8(0xb83)]===_0x1cf8a8(0x944));_0x2fe92a?showMessage(_0x1cf8a8(0x7cd)):showMessage(_0x1cf8a8(0x1d2));const _0x5d1786=currentQuizData['id'],_0x15016f=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x5d1786+'/submissions',currentStudentName),_0x3e8332=await getDoc(_0x15016f),_0x16b8ba=_0x3e8332['exists']()?_0x3e8332[_0x1cf8a8(0x934)]():{},_0x2b70af=_0x16b8ba['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2b70af);}function getResultsFilename(){const _0x5b3c3d=_0x1cfa42,_0x23c5e6=document[_0x5b3c3d(0xbf1)](_0x5b3c3d(0x6df))[_0x5b3c3d(0x617)][_0x5b3c3d(0x93c)](/[^a-z0-9]/gi,'_')[_0x5b3c3d(0xd64)]();return _0x5b3c3d(0xddb)+(_0x23c5e6||_0x5b3c3d(0xa16));}function exportResultsAsImage(){const _0x189f18=_0x1cfa42,_0x1f9101=document[_0x189f18(0xbf1)]('results-table-container');showMessage(_0x189f18(0x610)),html2canvas(_0x1f9101)['then'](_0x1543c3=>{const _0x4b0b39=_0x189f18,_0x14c061=document[_0x4b0b39(0x6a2)]('a');_0x14c061['download']=getResultsFilename()+'.png',_0x14c061[_0x4b0b39(0x6e7)]=_0x1543c3['toDataURL'](_0x4b0b39(0x2ce)),_0x14c061[_0x4b0b39(0x67d)](),messageModal[_0x4b0b39(0xe06)][_0x4b0b39(0xd5c)](_0x4b0b39(0xa93));});}function exportResultsAsPDF(){const _0x36a60b=_0x1cfa42,{jsPDF:_0x50380f}=window[_0x36a60b(0xa5a)],_0x532860=new _0x50380f();_0x532860[_0x36a60b(0xd0a)](_0x36a60b(0x8ce),'normal'),_0x532860[_0x36a60b(0x755)]({'html':_0x36a60b(0x9f1)}),_0x532860[_0x36a60b(0x42c)](getResultsFilename()+'.pdf');}function _0x5ec1(_0x2a70cb,_0x258e9a){const _0x56bfc7=_0x56bf();return _0x5ec1=function(_0x5ec11b,_0x5a4c05){_0x5ec11b=_0x5ec11b-0x166;let _0x5843ec=_0x56bfc7[_0x5ec11b];return _0x5843ec;},_0x5ec1(_0x2a70cb,_0x258e9a);}function exportResultsAsWord(){const _0x2c7e51=_0x1cfa42,_0x37d978='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x2c7e51(0x7e1)+_0x2c7e51(0xb14)+_0x2c7e51(0x977),_0x575e5f='</body></html>',_0xce0cc9=_0x37d978+document['getElementById'](_0x2c7e51(0x390))[_0x2c7e51(0xcf3)]+_0x575e5f,_0x363878='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0xce0cc9),_0x58b780=document[_0x2c7e51(0x6a2)]('a');document[_0x2c7e51(0xce8)][_0x2c7e51(0xc2a)](_0x58b780),_0x58b780[_0x2c7e51(0x6e7)]=_0x363878,_0x58b780[_0x2c7e51(0xd5b)]=getResultsFilename()+_0x2c7e51(0x24c),_0x58b780[_0x2c7e51(0x67d)](),document['body'][_0x2c7e51(0x413)](_0x58b780);}function exportResultsAsExcel(){const _0x463e03=_0x1cfa42,_0x4d8a80=document[_0x463e03(0xbf1)]('results-table');let _0x34cadd=[];for(let _0x4514cd=0x0;_0x4514cd<_0x4d8a80['rows'][_0x463e03(0x26d)];_0x4514cd++){let _0x20f7f8=[],_0x41b763=_0x4d8a80[_0x463e03(0x781)][_0x4514cd][_0x463e03(0x218)](_0x463e03(0x53a));for(let _0x4a21be=0x0;_0x4a21be<_0x41b763[_0x463e03(0x26d)];_0x4a21be++){_0x20f7f8['push']('\x22'+_0x41b763[_0x4a21be][_0x463e03(0x6ef)][_0x463e03(0x93c)](/"/g,'\x22\x22')+'\x22');}_0x34cadd[_0x463e03(0x229)](_0x20f7f8[_0x463e03(0x4ce)](','));}const _0x19d9e1=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x34cadd[_0x463e03(0x4ce)]('\x0a')],{'type':_0x463e03(0xcc8)}),_0x3f0558=document[_0x463e03(0x6a2)]('a');_0x3f0558['href']=URL[_0x463e03(0x9d0)](_0x19d9e1),_0x3f0558[_0x463e03(0xd5b)]=getResultsFilename()+'.csv',_0x3f0558['click']();}function exportTableAsImage(_0x147326,_0xf842b1){const _0x1e0777=_0x1cfa42,_0x91af82=document[_0x1e0777(0xbf1)](_0x147326);if(!_0x91af82){showMessage(_0x1e0777(0x253));return;}showMessage(_0x1e0777(0x610)),html2canvas(_0x91af82)[_0x1e0777(0x822)](_0x28dda6=>{const _0xbfd4d3=_0x1e0777,_0x404b3c=document[_0xbfd4d3(0x6a2)]('a');_0x404b3c['download']=_0xf842b1+'.png',_0x404b3c[_0xbfd4d3(0x6e7)]=_0x28dda6[_0xbfd4d3(0x9ad)](_0xbfd4d3(0x2ce)),_0x404b3c[_0xbfd4d3(0x67d)](),messageModal[_0xbfd4d3(0xe06)][_0xbfd4d3(0xd5c)](_0xbfd4d3(0xa93));});}function exportTableAsPDF(_0x426c3a,_0x3c7282){const _0x52d189=_0x1cfa42,{jsPDF:_0x2faa3e}=window['jspdf'],_0xac4fbb=new _0x2faa3e();_0xac4fbb['setFont']('helvetica','normal'),_0xac4fbb[_0x52d189(0x755)]({'html':'#'+_0x426c3a}),_0xac4fbb[_0x52d189(0x42c)](_0x3c7282+_0x52d189(0xc83));}function exportTableAsWord(_0x4ca353,_0xe39ba3){const _0x2774b5=_0x1cfa42,_0x3fd748=document[_0x2774b5(0xbf1)](_0x4ca353);if(!_0x3fd748){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x3a1e31=_0x2774b5(0x711)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x2774b5(0xb14)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x474d49='</body></html>',_0x14124c=_0x3a1e31+_0x3fd748['innerHTML']+_0x474d49,_0x5bff5b=_0x2774b5(0xa03)+encodeURIComponent(_0x14124c),_0x56e8d8=document['createElement']('a');document[_0x2774b5(0xce8)][_0x2774b5(0xc2a)](_0x56e8d8),_0x56e8d8[_0x2774b5(0x6e7)]=_0x5bff5b,_0x56e8d8['download']=_0xe39ba3+_0x2774b5(0x24c),_0x56e8d8[_0x2774b5(0x67d)](),document[_0x2774b5(0xce8)][_0x2774b5(0x413)](_0x56e8d8);}function exportTableAsExcel(_0x1ab89b,_0x16b7ff){const _0x2c4c61=_0x1cfa42,_0x255628=document['getElementById'](_0x1ab89b);if(!_0x255628){showMessage(_0x2c4c61(0x253));return;}let _0x19562d=[];for(let _0x46164a=0x0;_0x46164a<_0x255628['rows'][_0x2c4c61(0x26d)];_0x46164a++){let _0x4e4eac=[],_0x61aeda=_0x255628[_0x2c4c61(0x781)][_0x46164a][_0x2c4c61(0x218)](_0x2c4c61(0x53a));for(let _0x5500de=0x0;_0x5500de<_0x61aeda[_0x2c4c61(0x26d)];_0x5500de++){_0x4e4eac['push']('\x22'+_0x61aeda[_0x5500de][_0x2c4c61(0x6ef)][_0x2c4c61(0x93c)](/"/g,'\x22\x22')+'\x22');}_0x19562d[_0x2c4c61(0x229)](_0x4e4eac[_0x2c4c61(0x4ce)](','));}const _0x198a44=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x19562d[_0x2c4c61(0x4ce)]('\x0a')],{'type':_0x2c4c61(0xcc8)}),_0xf304b4=document[_0x2c4c61(0x6a2)]('a');_0xf304b4[_0x2c4c61(0x6e7)]=URL[_0x2c4c61(0x9d0)](_0x198a44),_0xf304b4[_0x2c4c61(0xd5b)]=_0x16b7ff+_0x2c4c61(0x8fe),_0xf304b4[_0x2c4c61(0x67d)]();}function renderAnalytics(_0x2bfbed,_0x580097){const _0x3ada9e=_0x1cfa42,_0x1e3ce6=_0x580097[_0x3ada9e(0x275)](_0x3ce499=>_0x3ce499[_0x3ada9e(0x174)]!==undefined),_0x42de0f=currentProjectData[_0x3ada9e(0xb22)][_0x3ada9e(0x26d)],_0x428613=_0x1e3ce6[_0x3ada9e(0x26d)],_0x4b5913=_0x42de0f-_0x428613,_0x3f638a=_0x42de0f>0x0?_0x428613/_0x42de0f*0x64:0x0,_0x35982a=_0x1e3ce6[_0x3ada9e(0x469)](_0xf3e91=>_0xf3e91[_0x3ada9e(0x174)]),_0x2f0891=_0x35982a[_0x3ada9e(0x26d)]>0x0?_0x35982a[_0x3ada9e(0xdbd)]((_0x25c860,_0x1355aa)=>_0x25c860+_0x1355aa,0x0)/_0x35982a[_0x3ada9e(0x26d)]:0x0,_0x38465c=_0x2bfbed[_0x3ada9e(0xb0f)][_0x3ada9e(0x26d)],_0x5530fd=_0x38465c>0x0?_0x2f0891/_0x38465c*0x64:0x0,_0x3a3215=calculateItemAnalysis(_0x2bfbed,_0x1e3ce6),_0x503ada=calculateReliabilityKR20(_0x2bfbed,_0x1e3ce6,_0x3a3215[_0x3ada9e(0x89c)]);let _0x4c59b6='';if(_0x503ada!==null){let _0xf3507e='';if(_0x503ada>=0.9)_0xf3507e=_0x3ada9e(0x3fe);else{if(_0x503ada>=0.8)_0xf3507e='ดีมาก';else{if(_0x503ada>=0.7)_0xf3507e='ดี';else{if(_0x503ada>=0.6)_0xf3507e='พอใช้';else _0xf3507e=_0x3ada9e(0x893);}}}_0x4c59b6=_0x3ada9e(0xd4c)+_0x503ada['toFixed'](0x2)+_0x3ada9e(0xc8c)+_0xf3507e+_0x3ada9e(0x7f2);}const _0x4dece8=document[_0x3ada9e(0xbf1)]('analytics-summary-cards');_0x4dece8[_0x3ada9e(0xcf3)]=_0x3ada9e(0x7fa)+_0x3f638a[_0x3ada9e(0xac2)](0x0)+_0x3ada9e(0x379)+_0x428613+'/'+_0x42de0f+_0x3ada9e(0x2c2)+_0x2f0891[_0x3ada9e(0xac2)](0x2)+_0x3ada9e(0x6d2)+_0x5530fd[_0x3ada9e(0xac2)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x35982a['length']>0x0?Math[_0x3ada9e(0x69c)](..._0x35982a):_0x3ada9e(0xd84))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x35982a[_0x3ada9e(0x26d)]>0x0?Math[_0x3ada9e(0xa49)](..._0x35982a):_0x3ada9e(0xd84))+_0x3ada9e(0xd48)+_0x4c59b6+_0x3ada9e(0xe1d);const _0x28d013=document[_0x3ada9e(0xbf1)](_0x3ada9e(0x7c8));_0x28d013&&_0x28d013[_0x3ada9e(0xb55)]();const _0x4fb370=_0x3ada9e(0x715);_0x4dece8[_0x3ada9e(0x22c)](_0x3ada9e(0xb48),_0x4fb370);const _0x3a62d2=currentProjectData[_0x3ada9e(0xb22)]||[];renderSubmissionChart(_0x428613,_0x4b5913,_0x1e3ce6,_0x3a62d2),renderScoreDistributionChart(_0x1e3ce6,_0x38465c),renderQuestionAnalytics(_0x2bfbed,_0x1e3ce6,_0x3a62d2),renderInterestingStats(_0x2bfbed,_0x1e3ce6);}async function handleExportLessonPDF(){const _0x2dcb00=_0x1cfa42,_0x560b11=document[_0x2dcb00(0xbf1)](_0x2dcb00(0x2e6)),_0x4673b7=document[_0x2dcb00(0xbf1)](_0x2dcb00(0xba5))[_0x2dcb00(0x617)],_0x35b0e2=window[_0x2dcb00(0x6a0)]('','_blank'),_0x5e5e75='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x4673b7+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x560b11['innerHTML']+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x35b0e2[_0x2dcb00(0x5f2)]['write'](_0x5e5e75),_0x35b0e2[_0x2dcb00(0x5f2)]['close'](),_0x35b0e2[_0x2dcb00(0xe0a)]=function(){setTimeout(()=>{const _0xe141c0=_0x5ec1;_0x35b0e2[_0xe141c0(0xbbe)]();},0x5dc);};}function renderInterestingStats(_0x3de3cd,_0x28df99){const _0x403ae3=_0x1cfa42,_0x1f1272=document[_0x403ae3(0xbf1)](_0x403ae3(0x168));if(!_0x1f1272)return;if(_0x28df99[_0x403ae3(0x26d)]===0x0){_0x1f1272['innerHTML']='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x1b4eef=_0x3de3cd[_0x403ae3(0xb0f)][_0x403ae3(0x469)]((_0x38546e,_0x59ac00)=>({'index':_0x59ac00+0x1,'text':_0x38546e['questionText']||_0x38546e[_0x403ae3(0x826)],'correct':0x0}));_0x28df99[_0x403ae3(0xdac)](_0x2896d8=>{const _0x37864f=_0x403ae3,_0x2431ba=_0x2896d8[_0x37864f(0x8f7)][_0x2896d8[_0x37864f(0x8f7)][_0x37864f(0x26d)]-0x1];_0x2431ba&&_0x2431ba[_0x37864f(0xad5)]&&_0x2431ba[_0x37864f(0xad5)][_0x37864f(0xdac)](_0x5db25b=>{const _0x25056c=_0x37864f,_0x1dc64a=_0x1b4eef[_0x25056c(0x633)](_0x320bc6=>_0x320bc6[_0x25056c(0x227)]===_0x5db25b[_0x25056c(0x3d2)]);_0x5db25b['isCorrect']&&_0x1dc64a&&_0x1dc64a['correct']++;});});const _0x4b3e22=_0x28df99['length'],_0x3bf626=Math[_0x403ae3(0x69c)](..._0x1b4eef[_0x403ae3(0x469)](_0x4a77e6=>_0x4a77e6[_0x403ae3(0x4f6)])),_0x2b670c=Math['min'](..._0x1b4eef[_0x403ae3(0x469)](_0x218e35=>_0x218e35['correct'])),_0x528da5=_0x1b4eef[_0x403ae3(0x275)](_0x2ec989=>_0x2ec989[_0x403ae3(0x4f6)]===_0x3bf626)[_0x403ae3(0x469)](_0x26051e=>_0x403ae3(0xd7e)+_0x26051e['index']),_0x237ec5=_0x1b4eef[_0x403ae3(0x275)](_0x5f30c6=>_0x5f30c6[_0x403ae3(0x4f6)]===_0x2b670c)[_0x403ae3(0x469)](_0x5085ab=>_0x403ae3(0xd7e)+_0x5085ab[_0x403ae3(0x3fd)]),_0x35da32=_0x28df99['sort']((_0x2355f5,_0xa7dc77)=>_0xa7dc77['latestScore']-_0x2355f5[_0x403ae3(0x174)])[_0x403ae3(0x275)]((_0x12b88f,_0x176fda,_0x215e9f)=>_0x12b88f['latestScore']===_0x215e9f[0x0]['latestScore']),_0x3162e7=_0x28df99[_0x403ae3(0x712)]((_0x1ea6ea,_0x312dc3)=>_0x1ea6ea[_0x403ae3(0x174)]-_0x312dc3[_0x403ae3(0x174)])[_0x403ae3(0x275)]((_0x247bde,_0x5c9fe9,_0x534358)=>_0x247bde[_0x403ae3(0x174)]===_0x534358[0x0][_0x403ae3(0x174)]),_0x3e1d8c=_0x403ae3(0xb9d)+_0x528da5['join'](',\x20')+_0x403ae3(0xc9a)+_0x3bf626+_0x403ae3(0x7b1)+_0x4b3e22+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x237ec5[_0x403ae3(0x4ce)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x4b3e22-_0x2b670c)+'\x20/\x20'+_0x4b3e22+_0x403ae3(0xa3c)+_0x35da32[_0x403ae3(0x469)](_0x293abd=>_0x293abd['studentName'])[_0x403ae3(0x4ce)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x35da32[0x0]['latestScore']+_0x403ae3(0x30f)+_0x3162e7[_0x403ae3(0x469)](_0x4bcfe6=>_0x4bcfe6['studentName'])[_0x403ae3(0x4ce)](',\x20')+_0x403ae3(0x2ab)+_0x3162e7[0x0][_0x403ae3(0x174)]+_0x403ae3(0x45d);_0x1f1272[_0x403ae3(0xcf3)]=_0x3e1d8c;}function renderSubmissionChart(_0x3771cb,_0x43c789,_0x454cb3,_0x24feda){const _0x2f1524=_0x1cfa42,_0x2b4636=document[_0x2f1524(0xbf1)]('submission-status-chart')['getContext']('2d'),_0x461b32=_0x454cb3[_0x2f1524(0x469)](_0x430c8a=>_0x430c8a[_0x2f1524(0x8e0)]),_0x222d2d=_0x24feda[_0x2f1524(0x275)](_0xd15260=>!_0x461b32[_0x2f1524(0x1ef)](_0xd15260));chartInstances['submission']&&chartInstances[_0x2f1524(0x71f)][_0x2f1524(0xaa3)](),chartInstances[_0x2f1524(0x71f)]=new Chart(_0x2b4636,{'type':_0x2f1524(0x98d),'data':{'labels':[_0x2f1524(0xa1b),_0x2f1524(0x331)],'datasets':[{'data':[_0x3771cb,_0x43c789],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x2f1524(0x577),_0x2f1524(0x577)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2f1524(0x510)},'tooltip':{'callbacks':{'label':function(_0x1d8fed){const _0x39320b=_0x2f1524;let _0x3b2f29=_0x1d8fed[_0x39320b(0x7a9)]||'';return _0x3b2f29&&(_0x3b2f29+=':\x20'),_0x3b2f29+=_0x1d8fed[_0x39320b(0x353)],_0x3b2f29;},'afterLabel':function(_0x8ca77d){const _0x101097=_0x2f1524;let _0x15eac9;return _0x8ca77d[_0x101097(0xda9)]===0x0?_0x15eac9=_0x461b32:_0x15eac9=_0x222d2d,_0x15eac9['length']>0x0?_0x15eac9[_0x101097(0x4ce)]('\x0a'):_0x101097(0x983);}}}}}});}function renderScoreDistributionChart(_0x2b39d3,_0x40b788){const _0x1da1ad=_0x1cfa42,_0x1d01e6=document[_0x1da1ad(0xbf1)](_0x1da1ad(0x242))[_0x1da1ad(0x4ea)]('2d'),_0x5cfd6e={};for(let _0x2117ee=0x0;_0x2117ee<=_0x40b788;_0x2117ee++){_0x5cfd6e[_0x2117ee]=0x0;}_0x2b39d3[_0x1da1ad(0xdac)](_0x5614a0=>{const _0x31cdc9=_0x1da1ad;_0x5cfd6e[_0x5614a0[_0x31cdc9(0x174)]]!==undefined&&_0x5cfd6e[_0x5614a0[_0x31cdc9(0x174)]]++;}),chartInstances[_0x1da1ad(0xd0e)]&&chartInstances[_0x1da1ad(0xd0e)][_0x1da1ad(0xaa3)](),chartInstances[_0x1da1ad(0xd0e)]=new Chart(_0x1d01e6,{'type':_0x1da1ad(0xd2d),'data':{'labels':Object[_0x1da1ad(0x972)](_0x5cfd6e),'datasets':[{'label':_0x1da1ad(0xab2),'data':Object[_0x1da1ad(0xdc2)](_0x5cfd6e),'backgroundColor':_0x1da1ad(0x5ab),'borderColor':_0x1da1ad(0x8bd),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1da1ad(0x774)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x3d19bd){const _0x123f03=_0x1da1ad,_0x140719=_0x3d19bd[_0x123f03(0x7a9)],_0x286b49=_0x2b39d3[_0x123f03(0x275)](_0x43d36c=>_0x43d36c[_0x123f03(0x174)]==_0x140719)[_0x123f03(0x469)](_0x1a3e7b=>_0x1a3e7b[_0x123f03(0x8e0)]);return _0x286b49[_0x123f03(0x26d)]>0x0?_0x286b49['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x555d5e,_0x1ffcda,_0x13d3ff){const _0x28dbde=_0x1cfa42,_0x4c2468=document['getElementById'](_0x28dbde(0x80e));if(_0x13d3ff[_0x28dbde(0x26d)]===0x0){_0x4c2468['innerHTML']=_0x28dbde(0xb6f);return;}const _0x2d1818=calculateItemAnalysis(_0x555d5e,_0x1ffcda),_0x7364c2=calculateDistractorAnalysis(_0x555d5e,_0x1ffcda);let _0x2dde17='';_0x2d1818['overallGroups']&&(_0x2dde17=_0x28dbde(0x27f)+_0x2d1818[_0x28dbde(0xa8f)][_0x28dbde(0x689)]['length']+_0x28dbde(0xcff)+_0x2d1818[_0x28dbde(0xa8f)][_0x28dbde(0x689)][_0x28dbde(0x469)](_0x5a86bb=>'<li>'+_0x5a86bb+_0x28dbde(0x675))[_0x28dbde(0x4ce)]('')+_0x28dbde(0x2d5)+_0x2d1818[_0x28dbde(0xa8f)]['lowerGroupNames'][_0x28dbde(0x26d)]+_0x28dbde(0xcff)+_0x2d1818[_0x28dbde(0xa8f)][_0x28dbde(0xcfd)][_0x28dbde(0x469)](_0x574aeb=>_0x28dbde(0x963)+_0x574aeb+'</li>')[_0x28dbde(0x4ce)]('')+_0x28dbde(0xa77));let _0x3c8f9e='';const _0x3fe375=_0x1ffcda[_0x28dbde(0x469)](_0x28c861=>_0x28c861['studentName']),_0x30a6c2=_0x16ec80=>{const _0x1da3ea=_0x28dbde;if(_0x16ec80>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x16ec80>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x16ec80>=0.4)return _0x1da3ea(0x597);if(_0x16ec80>=0.2)return _0x1da3ea(0x661);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x3078bb=_0x120958=>{const _0xfb83b5=_0x28dbde;if(_0x120958<0x0)return _0xfb83b5(0x98a);if(_0x120958>=0.4)return _0xfb83b5(0xce1);if(_0x120958>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x120958>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0xfb83b5(0x815);},_0x1ae501=_0x4754da=>{const _0x3a09c5=_0x28dbde,_0x4a17c2=_0x4754da[_0x3a09c5(0xac2)](0x0);if(parseFloat(_0x4a17c2)===0x64)return _0x3a09c5(0xa44)+_0x4a17c2+_0x3a09c5(0x6a5);if(_0x4754da>=0x32)return _0x3a09c5(0xa2d)+_0x4a17c2+_0x3a09c5(0x6a5);return _0x3a09c5(0xaba)+_0x4a17c2+'%</span>';};_0x555d5e[_0x28dbde(0xb0f)]['forEach']((_0x45878a,_0x575c6e)=>{const _0x173cf0=_0x28dbde,_0x58d9c1=_0x2d1818[_0x173cf0(0x89c)][_0x575c6e],_0x10b2b2=_0x7364c2[_0x575c6e],_0x35c578=_0x45878a[_0x173cf0(0x826)]||_0x45878a['questionText']||_0x45878a['instructions'];let _0x167be0=0x0;const _0x13b961=[],_0x1d3246=[];_0x1ffcda[_0x173cf0(0xdac)](_0xc8ee81=>{const _0x59efe6=_0x173cf0,_0x426cbd=_0xc8ee81['attempts'][_0xc8ee81[_0x59efe6(0x8f7)][_0x59efe6(0x26d)]-0x1];if(_0x426cbd&&_0x426cbd[_0x59efe6(0xad5)]){const _0x18bc24=_0x426cbd[_0x59efe6(0xad5)][_0x59efe6(0x633)](_0x4933b5=>_0x4933b5[_0x59efe6(0x3d2)]===_0x35c578)??_0x426cbd[_0x59efe6(0xad5)][_0x575c6e]??null;_0x18bc24&&(_0x18bc24[_0x59efe6(0x553)]?(_0x167be0++,_0x13b961[_0x59efe6(0x229)](_0xc8ee81[_0x59efe6(0x8e0)])):_0x1d3246['push'](_0xc8ee81[_0x59efe6(0x8e0)]));}});const _0x538834=_0x1ffcda[_0x173cf0(0x26d)]>0x0?_0x167be0/_0x1ffcda[_0x173cf0(0x26d)]*0x64:0x0,_0x399b14=_0x13d3ff[_0x173cf0(0x275)](_0x3bbe55=>!_0x3fe375[_0x173cf0(0x1ef)](_0x3bbe55)),_0x460bb5=_0x58d9c1?_0x173cf0(0x23c)+_0x58d9c1['p'][_0x173cf0(0xac2)](0x2)+'</p><div>'+_0x30a6c2(_0x58d9c1['p'])+_0x173cf0(0xad8)+_0x58d9c1['r'][_0x173cf0(0xac2)](0x2)+_0x173cf0(0x981)+_0x3078bb(_0x58d9c1['r'])+_0x173cf0(0xac0)+_0x1ae501(_0x538834)+_0x173cf0(0xae4):'';let _0x2017f3='';_0x10b2b2&&(_0x2017f3=_0x173cf0(0x55e)+Object['keys'](_0x10b2b2)[_0x173cf0(0x469)](_0x4222a9=>{const _0x536d03=_0x173cf0,_0x55c5e7=_0x10b2b2[_0x4222a9],_0x16ba91=parseInt(_0x4222a9)===_0x45878a[_0x536d03(0x3a3)],_0x109cd2=!_0x16ba91&&_0x55c5e7[_0x536d03(0x62d)]>_0x55c5e7[_0x536d03(0xc7f)];return _0x536d03(0xbf6)+(_0x16ba91?_0x536d03(0x26f):'')+_0x536d03(0xae5)+(_0x16ba91?'✔\x20':'')+_0x55c5e7[_0x536d03(0x227)]+_0x536d03(0x9fc)+_0x55c5e7[_0x536d03(0xc7f)]+_0x536d03(0x9fc)+_0x55c5e7[_0x536d03(0x62d)]+'\x20'+(_0x109cd2?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x55c5e7[_0x536d03(0x78e)]+_0x536d03(0xc37);})['join']('')+_0x173cf0(0x6f6));let _0x4f6e34='';_0x58d9c1&&_0x58d9c1[_0x173cf0(0xc7b)]&&(_0x4f6e34=_0x173cf0(0xc65)+_0x58d9c1[_0x173cf0(0xc7b)][_0x173cf0(0x26d)]+_0x173cf0(0xc8a)+_0x58d9c1[_0x173cf0(0xc7b)]['map'](_0x4fd1ea=>'<li>'+(_0x4fd1ea['isCorrect']?_0x173cf0(0x861):_0x173cf0(0x622))+'\x20'+_0x4fd1ea[_0x173cf0(0x372)]+_0x173cf0(0x675))[_0x173cf0(0x4ce)]('')+_0x173cf0(0x540)+_0x58d9c1['lowerGroupResponders'][_0x173cf0(0x26d)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x58d9c1[_0x173cf0(0xdad)]['map'](_0x15a2ba=>_0x173cf0(0x963)+(_0x15a2ba[_0x173cf0(0x553)]?_0x173cf0(0x861):_0x173cf0(0x622))+'\x20'+_0x15a2ba[_0x173cf0(0x372)]+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x3c8f9e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x575c6e+0x1)+':\x20'+_0x35c578+_0x173cf0(0x6c4)+_0x460bb5+_0x173cf0(0x167)+_0x35c578+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x167be0+_0x173cf0(0xa21)+_0x1ffcda[_0x173cf0(0x26d)]+_0x173cf0(0x565)+_0x538834[_0x173cf0(0xac2)](0x0)+_0x173cf0(0x28f)+_0x13b961[_0x173cf0(0x26d)]+_0x173cf0(0xe04)+(_0x13b961[_0x173cf0(0x26d)]>0x0?_0x13b961[_0x173cf0(0x4ce)](',\x20'):_0x173cf0(0x983))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x1d3246[_0x173cf0(0x26d)]+_0x173cf0(0xe04)+(_0x1d3246[_0x173cf0(0x26d)]>0x0?_0x1d3246[_0x173cf0(0x4ce)](',\x20'):'ไม่มี')+_0x173cf0(0x616)+_0x399b14[_0x173cf0(0x26d)]+_0x173cf0(0xe04)+(_0x399b14[_0x173cf0(0x26d)]>0x0?_0x399b14[_0x173cf0(0x4ce)](',\x20'):'ไม่มี')+_0x173cf0(0xa31)+_0x2017f3+_0x173cf0(0x3cb)+_0x4f6e34+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4c2468[_0x28dbde(0xcf3)]=_0x2dde17+_0x3c8f9e;try{window[_0x28dbde(0x6b2)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x4c2468]);}catch(_0x33b596){console[_0x28dbde(0x3f5)](_0x28dbde(0x608),_0x33b596);}}function calculateDistractorAnalysis(_0x1d1d77,_0x478ea4){const _0x2da3d3=_0x1cfa42,_0x55b79c={};if(_0x478ea4[_0x2da3d3(0x26d)]<0x2)return _0x55b79c;const _0x321647=[..._0x478ea4][_0x2da3d3(0x712)]((_0x158b2f,_0x585234)=>{const _0x199d75=_0x2da3d3,_0x106d7d=_0x585234[_0x199d75(0x174)]-_0x158b2f[_0x199d75(0x174)];if(_0x106d7d!==0x0)return _0x106d7d;const _0x8771cf=_0x158b2f['attempts']?.[_0x199d75(0x26d)]||0x1,_0x3a3aa5=_0x585234[_0x199d75(0x8f7)]?.[_0x199d75(0x26d)]||0x1,_0x3da942=_0x8771cf-_0x3a3aa5;if(_0x3da942!==0x0)return _0x3da942;const _0x1fc709=new Date(_0x158b2f[_0x199d75(0x92c)]),_0x2cecba=new Date(_0x585234[_0x199d75(0x92c)]),_0x57976f=_0x1fc709-_0x2cecba;if(_0x57976f!==0x0)return _0x57976f;return _0x158b2f[_0x199d75(0x8e0)][_0x199d75(0x7e5)](_0x585234[_0x199d75(0x8e0)],'th');}),_0x5f7d15=_0x321647[_0x2da3d3(0x26d)],_0x50dca8=Math[_0x2da3d3(0x69c)](0x1,Math[_0x2da3d3(0x74e)](_0x5f7d15*0.33)),_0x3efb4b=_0x321647[_0x2da3d3(0xa65)](0x0,_0x50dca8),_0x5d3702=_0x321647[_0x2da3d3(0xa65)](-_0x50dca8);return _0x1d1d77[_0x2da3d3(0xb0f)][_0x2da3d3(0xdac)]((_0x2064ba,_0x5ab5fb)=>{const _0x336dd5=_0x2da3d3;if(_0x2064ba['questionType']!==_0x336dd5(0x37c)||!_0x2064ba['options'])return;const _0x1ea012=_0x2064ba['questionText'],_0x45a8c7={};_0x2064ba['options'][_0x336dd5(0xdac)]((_0x50668f,_0x1e7989)=>{_0x45a8c7[_0x1e7989]={'text':_0x50668f,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x321647['forEach'](_0x320352=>{const _0x11a56b=_0x336dd5,_0x580262=_0x320352['attempts'][_0x320352[_0x11a56b(0x8f7)]['length']-0x1],_0x34a179=_0x580262[_0x11a56b(0xad5)][_0x11a56b(0x633)](_0x495f8e=>_0x495f8e[_0x11a56b(0x3d2)]===_0x1ea012);if(_0x34a179&&_0x34a179[_0x11a56b(0x7d8)]!==null){const _0x71d353=_0x2064ba[_0x11a56b(0x9e4)][_0x11a56b(0xcfb)](_0x21f485=>_0x21f485===_0x34a179[_0x11a56b(0x27b)]);_0x71d353!==-0x1&&_0x45a8c7[_0x71d353]&&(_0x45a8c7[_0x71d353][_0x11a56b(0x78e)]++,_0x3efb4b['includes'](_0x320352)&&_0x45a8c7[_0x71d353][_0x11a56b(0xc7f)]++,_0x5d3702[_0x11a56b(0x1ef)](_0x320352)&&_0x45a8c7[_0x71d353][_0x11a56b(0x62d)]++);}}),_0x55b79c[_0x5ab5fb]=_0x45a8c7;}),_0x55b79c;}function calculateReliabilityKR20(_0x589812,_0xe5554d,_0x10c57a){const _0xdc09ec=_0x1cfa42,_0x48ea5f=_0x589812[_0xdc09ec(0xb0f)][_0xdc09ec(0x26d)];if(_0x48ea5f<0x2||_0xe5554d[_0xdc09ec(0x26d)]<0x2)return null;const _0x436f21=_0xe5554d[_0xdc09ec(0x469)](_0x1dab01=>_0x1dab01[_0xdc09ec(0x174)]),_0x1bef54=_0x436f21[_0xdc09ec(0xdbd)]((_0x55ccd1,_0x187931)=>_0x55ccd1+_0x187931,0x0)/_0x436f21[_0xdc09ec(0x26d)],_0x424094=_0x436f21['map'](_0x1963fd=>Math['pow'](_0x1963fd-_0x1bef54,0x2))[_0xdc09ec(0xdbd)]((_0x76813a,_0x2b8bc2)=>_0x76813a+_0x2b8bc2,0x0)/_0x436f21[_0xdc09ec(0x26d)];if(_0x424094===0x0)return null;let _0x48f83d=0x0;for(let _0x277bea=0x0;_0x277bea<_0x48ea5f;_0x277bea++){const _0x22c6ae=_0x10c57a[_0x277bea]?.['p'];if(_0x22c6ae===undefined)continue;const _0x29a8c7=0x1-_0x22c6ae;_0x48f83d+=_0x22c6ae*_0x29a8c7;}if(_0x48f83d===0x0)return null;const _0x287b0f=_0x48ea5f/(_0x48ea5f-0x1)*(0x1-_0x48f83d/_0x424094);if(_0x287b0f>0x1)return null;return _0x287b0f;}async function handleAnalyzeClass(){const _0x2f2e7f=_0x1cfa42;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x2f2e7f(0xb52));return;}const _0x578cdc=collection(db,_0x2f2e7f(0x7ff)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x2f2e7f(0xe18)),_0x2e6594=await getDocs(_0x578cdc),_0x4df5b1=_0x2e6594['docs'][_0x2f2e7f(0x469)](_0x1a007a=>_0x1a007a['data']());if(_0x4df5b1[_0x2f2e7f(0x26d)]<0x2){showMessage(_0x2f2e7f(0xa9c));return;}const _0x84568b=document[_0x2f2e7f(0xbf1)](_0x2f2e7f(0x708));_0x84568b[_0x2f2e7f(0xcf3)]=_0x2f2e7f(0xa79),document[_0x2f2e7f(0xbf1)](_0x2f2e7f(0x9c3))['disabled']=!![];const _0x34214f=_0x4df5b1[_0x2f2e7f(0x469)]((_0x5e1760,_0x1c523f)=>{const _0x15c262=_0x2f2e7f,_0x267fab=_0x5e1760[_0x15c262(0x8f7)][_0x5e1760['attempts'][_0x15c262(0x26d)]-0x1];if(!_0x267fab)return'';return _0x15c262(0xaca)+(_0x1c523f+0x1)+'\x20('+_0x5e1760[_0x15c262(0x8e0)]+_0x15c262(0xc40)+_0x267fab[_0x15c262(0xd0e)]+'/'+_0x5e1760[_0x15c262(0x4c7)]+_0x15c262(0x6b1)+JSON['stringify'](_0x267fab[_0x15c262(0xad5)])+_0x15c262(0xda5);})[_0x2f2e7f(0x4ce)]('\x0a---\x0a'),_0xad716c=_0x2f2e7f(0x32d)+currentQuizData[_0x2f2e7f(0x3b7)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x2f2e7f(0x2a1)](currentQuizData[_0x2f2e7f(0xb0f)])+_0x2f2e7f(0xb8c)+_0x34214f+_0x2f2e7f(0xb16),_0x1b77d7={'type':'OBJECT','properties':{'classStrengths':{'type':_0x2f2e7f(0x1d5),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x2f2e7f(0x1d5),'items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x2f2e7f(0xca9),_0x2f2e7f(0xa86),_0x2f2e7f(0x70b)]};try{const _0x1fd67b=await callAnalysisApi(_0xad716c,_0x1b77d7);displayClassAnalysis(_0x1fd67b);}catch(_0x17df79){console['error'](_0x2f2e7f(0x9b5),_0x17df79),_0x84568b[_0x2f2e7f(0xcf3)]=_0x2f2e7f(0x846)+_0x17df79['message']+_0x2f2e7f(0xab0);}finally{document[_0x2f2e7f(0xbf1)]('analyze-strengths-btn')['disabled']=![];}}function displayClassAnalysis(_0x25adac){const _0x365a54=_0x1cfa42,_0xa30a61=document['getElementById']('strength-weakness-analysis-container');if(!_0x25adac){_0xa30a61['innerHTML']=_0x365a54(0x4b1);return;}_0xa30a61[_0x365a54(0xcf3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25adac[_0x365a54(0xca9)]['map'](_0x25cbc6=>_0x365a54(0x963)+_0x25cbc6+_0x365a54(0x675))[_0x365a54(0x4ce)]('')+_0x365a54(0x90f)+_0x25adac[_0x365a54(0xa86)]['map'](_0x521c4f=>_0x365a54(0x963)+_0x521c4f+'</li>')[_0x365a54(0x4ce)]('')+_0x365a54(0x92f)+_0x25adac[_0x365a54(0x70b)]['map'](_0x4f55fd=>_0x365a54(0x963)+_0x4f55fd+_0x365a54(0x675))[_0x365a54(0x4ce)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x43441d,_0x4827a1){const _0x4759c3=_0x1cfa42,_0x463d8b=_0x4759c3(0x498)+_0x43441d[_0x4759c3(0x3b7)]+_0x4759c3(0xd1b)+_0x43441d[_0x4759c3(0x3b7)]+_0x4759c3(0x6c3)+_0x43441d[_0x4759c3(0xb0f)][_0x4759c3(0x469)]((_0x3a5aa0,_0x58caf0)=>_0x4759c3(0x16f)+(_0x58caf0+0x1)+'.\x20'+_0x3a5aa0['questionText']+_0x4759c3(0x278)+(_0x3a5aa0[_0x4759c3(0x50a)]?_0x4759c3(0x44c)+_0x3a5aa0[_0x4759c3(0x50a)]+_0x4759c3(0xcdd):'')+_0x4759c3(0xb3c))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4827a1[_0x4759c3(0x5f2)]['write'](_0x463d8b),_0x4827a1[_0x4759c3(0x5f2)][_0x4759c3(0xdb7)](),_0x4827a1['onload']=function(){setTimeout(()=>{_0x4827a1['print']();},0x3e8);};}async function generateWorksheet(){const _0xd178fc=_0x1cfa42,_0x51973d=document[_0xd178fc(0xbf1)](_0xd178fc(0xd7b))['value'][_0xd178fc(0xab6)]();if(!_0x51973d){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x253613=document[_0xd178fc(0xbf1)](_0xd178fc(0x7db))[_0xd178fc(0x51f)],_0x412668=_0x253613?'':_0xd178fc(0xab1),_0x2e96f7=window['open']('',_0xd178fc(0xa15));_0x2e96f7[_0xd178fc(0x5f2)]['write']('<h1></h1>');const _0x292f29=parseInt(document['getElementById']('num-questions')['value']),_0x813dcd=document[_0xd178fc(0xbf1)](_0xd178fc(0xa17))[_0xd178fc(0x51f)],_0x557f48=_0x813dcd?_0xd178fc(0x5c2):'',_0x2e2dfc=_0xd178fc(0xbeb)+_0x412668+_0xd178fc(0xe0e)+_0x292f29+_0xd178fc(0x17f)+_0x51973d+_0xd178fc(0x7c3)+_0x557f48+_0xd178fc(0x3ea)+simpleMathPrompt+_0xd178fc(0x198),_0x1bc087={'type':_0xd178fc(0xc68),'properties':{'topic':{'type':_0xd178fc(0xe19)},'questions':{'type':_0xd178fc(0x1d5),'items':{'type':_0xd178fc(0xc68),'properties':{'questionText':{'type':_0xd178fc(0xe19)},'imageCode':{'type':'STRING'}},'required':['questionText']}}},'required':[_0xd178fc(0x3b7),_0xd178fc(0xb0f)]};document[_0xd178fc(0xbf1)]('loader-text')[_0xd178fc(0x617)]='',document[_0xd178fc(0xbf1)](_0xd178fc(0x962))[_0xd178fc(0xe06)][_0xd178fc(0xb55)](_0xd178fc(0xa93)),document[_0xd178fc(0xbf1)](_0xd178fc(0xae9))[_0xd178fc(0xe06)]['remove']('hidden'),generateWorksheetBtn['disabled']=!![];try{const _0x5aab13=await callAnalysisApi(_0x2e2dfc,_0x1bc087);formatAndPrintWorksheet(_0x5aab13,_0x2e96f7);}catch(_0x11dc7e){console[_0xd178fc(0x3f5)](_0xd178fc(0x593),_0x11dc7e);if(_0x2e96f7)_0x2e96f7['close']();showMessage(_0xd178fc(0xb58));}finally{document[_0xd178fc(0xbf1)](_0xd178fc(0x962))[_0xd178fc(0xe06)][_0xd178fc(0xd5c)]('hidden'),document[_0xd178fc(0xbf1)]('quiz-generation-area')['classList']['add'](_0xd178fc(0xa93)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x55bf41,_0x164c09){const _0xaffee4=_0x1cfa42,_0x42371a={'contents':[{'role':_0xaffee4(0x282),'parts':[{'text':_0x55bf41}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x164c09}},_0x52092f='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x10ccc0='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x52092f,_0x5ecc5d=await fetch(_0x10ccc0,{'method':_0xaffee4(0x937),'headers':{'Content-Type':_0xaffee4(0x8eb)},'body':JSON[_0xaffee4(0x2a1)](_0x42371a)});if(!_0x5ecc5d['ok'])throw new Error(_0xaffee4(0x85e)+_0x5ecc5d['status']);const _0x456a6d=await _0x5ecc5d['json']();if(_0x456a6d[_0xaffee4(0x4a1)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0xaffee4(0xba3)](_0x456a6d[_0xaffee4(0x4a1)][0x0][_0xaffee4(0x684)][_0xaffee4(0x9f8)][0x0][_0xaffee4(0x227)]);else{let _0x5bbb40=_0xaffee4(0x8dd);if(_0x456a6d[_0xaffee4(0xd1d)]?.[_0xaffee4(0x9e8)])_0x5bbb40=_0xaffee4(0xb28)+_0x456a6d[_0xaffee4(0xd1d)][_0xaffee4(0x9e8)]+'.';else _0x456a6d['candidates']?.[0x0]?.[_0xaffee4(0x3f3)]&&_0x456a6d[_0xaffee4(0x4a1)][0x0][_0xaffee4(0x3f3)]!==_0xaffee4(0xbd8)&&(_0x5bbb40=_0xaffee4(0xb49)+_0x456a6d[_0xaffee4(0x4a1)][0x0][_0xaffee4(0x3f3)]+'.');console[_0xaffee4(0x3f5)](_0x5bbb40,JSON[_0xaffee4(0x2a1)](_0x456a6d));throw new Error(_0x5bbb40);}}async function handleStartSyncMode(_0x1123bd,_0x453d99=![],_0x26655c=_0x1cfa42(0x6d0)){const _0xecb756=_0x1cfa42,_0x3ac149=allQuizzes[_0xecb756(0x633)](_0x198343=>_0x198343['id']===_0x1123bd)||allQuizzesGlobal[_0xecb756(0x633)](_0xc61ac8=>_0xc61ac8['id']===_0x1123bd);if(!_0x3ac149){showMessage(_0xecb756(0x334));return;}currentQuizData=getShuffledQuiz(_0x3ac149);const _0x105469=Math[_0xecb756(0x74e)](0x3e8+Math[_0xecb756(0x72a)]()*0x2328)[_0xecb756(0x701)](),_0x3ea637=doc(db,_0xecb756(0x7ff)+appId+_0xecb756(0xcc5),_0x3ac149[_0xecb756(0x1cf)]),_0x50be4d=await getDoc(_0x3ea637);if(!_0x50be4d['exists']()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x194bd4=_0x50be4d[_0xecb756(0x934)]()[_0xecb756(0xb22)]||[],_0x495aa2={};if(_0x26655c===_0xecb756(0xe10)){const _0x5ea1e2=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0xecb756(0x72a)]());_0x194bd4[_0xecb756(0xdac)]((_0x5931f5,_0x29d149)=>{_0x495aa2[_0x5931f5]=_0x5ea1e2[_0x29d149]||'ผู้เล่น\x20'+(_0x29d149+0x1);});}const _0x3214e9=document['getElementById'](_0xecb756(0xc55))[_0xecb756(0x51f)],_0x1c8f17=parseInt(document['getElementById']('sync-timer-duration-input')[_0xecb756(0x49f)],0xa);let _0x527079={'timerMode':_0xecb756(0xade),'timerDuration':0x0};_0x3214e9&&(_0x527079[_0xecb756(0xc4c)]=_0xecb756(0xdf2),_0x527079[_0xecb756(0xc91)]=_0x1c8f17||0xf0);const _0x5230fd=document['getElementById']('anon-show-answer-toggle')[_0xecb756(0x51f)],_0xd8e547=document[_0xecb756(0xbf1)](_0xecb756(0x394))[_0xecb756(0x51f)];try{const _0xa5d1d0=await addDoc(collection(db,_0xecb756(0x7ff)+appId+_0xecb756(0x73f)),{'quizId':_0x3ac149['id'],'pin':_0x105469,'status':_0xecb756(0xded),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x453d99,'players':{},'gameVariant':_0x26655c,'reviewQuestionIndex':0x0,'playerNicknames':_0x495aa2,'isAnonymousRevealed':![],..._0x527079,'showAnswerInAnonymous':_0x5230fd,'isBlackMarketEnabled':_0xd8e547});currentLiveGameId=_0xa5d1d0['id'],showView(_0xecb756(0xa9f)),renderSyncLobbyView(_0x105469,_0x3ac149[_0xecb756(0x3b7)]),listenForSyncGameUpdates();const _0x233d8e={'gameId':currentLiveGameId,'mode':_0xecb756(0x7f0),'role':'admin'};sessionStorage[_0xecb756(0x958)]('activeGameSession',JSON['stringify'](_0x233d8e));}catch(_0x20c79e){console['error'](_0xecb756(0x907),_0x20c79e),showMessage(_0xecb756(0x931));}}function calculateFinalPodiumScores(_0x30f434){const _0x317801=_0x1cfa42;if(!_0x30f434||!_0x30f434[_0x317801(0x479)]||!_0x30f434[_0x317801(0x18d)])return _0x30f434[_0x317801(0x18d)]||{};const _0x2986d2=_0x30f434[_0x317801(0x479)]['questions'][_0x317801(0x26d)],_0x324690=JSON[_0x317801(0xba3)](JSON[_0x317801(0x2a1)](_0x30f434[_0x317801(0x18d)]));return Object['values'](_0x324690)[_0x317801(0xdac)](_0x23fdbc=>{const _0x24a1a8=_0x317801,_0x29f5e6=_0x23fdbc[_0x24a1a8(0xd0e)]||0x0,_0x34c05a=_0x23fdbc[_0x24a1a8(0x60e)]||0x0;_0x2986d2>0x0&&_0x29f5e6===_0x2986d2?_0x23fdbc['hasPerfectScoreBonus']=!![]:_0x23fdbc['hasPerfectScoreBonus']=![],_0x23fdbc['realScore']=_0x29f5e6,_0x23fdbc[_0x24a1a8(0x60e)]=_0x34c05a;}),_0x324690;}function listenForSyncGameUpdates(){const _0x597582=_0x1cfa42;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4bc6d4=doc(db,_0x597582(0x7ff)+appId+_0x597582(0x73f),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4bc6d4,_0x457b40=>{const _0x36dd2a=_0x597582;if(!_0x457b40[_0x36dd2a(0x2b1)]()){sessionStorage['removeItem'](_0x36dd2a(0xb46));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x36dd2a(0x6c0));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x36dd2a(0xc51)?showView(_0x36dd2a(0x80f)):showView(_0x36dd2a(0x65e));return;}const _0x4a1e8a=_0x457b40[_0x36dd2a(0x934)]();currentMode===_0x36dd2a(0xc51)?updateAdminSyncView(_0x4a1e8a):updateStudentSyncView(_0x4a1e8a);});}function renderSyncLobbyView(_0xaae1f9,_0xce2c28){const _0x28a63a=_0x1cfa42;liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0xce2c28+_0x28a63a(0x397)+_0xaae1f9+_0x28a63a(0xb3f);const _0x209e74=document['getElementById']('confidence-scoring-toggle'),_0x20d6db=document[_0x28a63a(0xbf1)](_0x28a63a(0x40d));_0x209e74[_0x28a63a(0x4ef)](_0x28a63a(0xa47),()=>{const _0x517d67=_0x28a63a;_0x20d6db[_0x517d67(0x403)][_0x517d67(0x95f)]=_0x209e74[_0x517d67(0x51f)]?'block':_0x517d67(0xade);}),document[_0x28a63a(0xbf1)](_0x28a63a(0xbf4))[_0x28a63a(0x4ef)]('click',async()=>{const _0x5b734a=_0x28a63a,_0x44ee49=doc(db,_0x5b734a(0x7ff)+appId+_0x5b734a(0x73f),currentLiveGameId),_0x2a8cc3=document[_0x5b734a(0xbf1)](_0x5b734a(0x682))[_0x5b734a(0x51f)];await updateDoc(_0x44ee49,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2a8cc3});});}function updateAdminSyncView(_0x9f5109){const _0x1b1994=_0x1cfa42;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x9f5109[_0x1b1994(0x657)]){case _0x1b1994(0xded):renderSyncLobbyView(_0x9f5109[_0x1b1994(0xc84)],_0x9f5109[_0x1b1994(0x479)][_0x1b1994(0x3b7)]);const _0x32f0fe=Object[_0x1b1994(0xa76)](_0x9f5109[_0x1b1994(0x18d)]||{})[_0x1b1994(0x275)](([_0xd8b86b,_0x3717a0])=>_0x3717a0[_0x1b1994(0x657)]!==_0x1b1994(0x648));document[_0x1b1994(0xbf1)](_0x1b1994(0x730))[_0x1b1994(0x617)]=_0x32f0fe[_0x1b1994(0x26d)],document[_0x1b1994(0xbf1)](_0x1b1994(0x409))[_0x1b1994(0xcf3)]=_0x32f0fe['map'](([_0x2debed,_0x191369])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2debed+_0x1b1994(0xa07)+_0x2debed+_0x1b1994(0x809))[_0x1b1994(0x4ce)]('')||_0x1b1994(0x2c4),document['getElementById']('start-sync-game-btn')['disabled']=_0x32f0fe['length']===0x0;break;case _0x1b1994(0x7bc):const _0x5e8ce7=Object[_0x1b1994(0xdc2)](_0x9f5109[_0x1b1994(0x18d)]||{})[_0x1b1994(0x275)](_0x4a86dc=>_0x4a86dc[_0x1b1994(0x657)]!==_0x1b1994(0x648)),_0x52431d=_0x5e8ce7['filter'](_0x6a5939=>_0x6a5939[_0x1b1994(0x39c)])[_0x1b1994(0x26d)],_0x4bb822=_0x52431d===_0x5e8ce7[_0x1b1994(0x26d)]&&_0x5e8ce7[_0x1b1994(0x26d)]>0x0;if(_0x4bb822&&_0x9f5109['status']===_0x1b1994(0x7bc)){const _0x3e48eb=doc(db,'artifacts/'+appId+_0x1b1994(0x73f),currentLiveGameId);updateDoc(_0x3e48eb,{'status':_0x1b1994(0xd4a)});return;}if(document[_0x1b1994(0xbf1)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x9f5109);else{const _0x5b86c3=document[_0x1b1994(0xbf1)](_0x1b1994(0xb59));_0x5b86c3&&(_0x5b86c3[_0x1b1994(0x617)]=_0x52431d+'/'+_0x5e8ce7['length']);const _0x5af631=document[_0x1b1994(0xbf1)]('sync-player-list');_0x5af631&&(_0x5af631[_0x1b1994(0xcf3)]=_0x5e8ce7['map'](_0x20f611=>{const _0x59dbbb=_0x1b1994,_0x197f59=_0x20f611[_0x59dbbb(0x39c)]?'bg-green-500':_0x59dbbb(0xc0d),_0x29d5fa=_0x20f611[_0x59dbbb(0x39c)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x59dbbb(0x96a);return _0x59dbbb(0xcfa)+_0x197f59+_0x59dbbb(0x249)+_0x29d5fa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x20f611['name']+_0x59dbbb(0xdb6)+_0x20f611[_0x59dbbb(0x372)]+_0x59dbbb(0xd2a);})[_0x1b1994(0x4ce)](''));}const _0x3c16de=_0x9f5109[_0x1b1994(0xc4c)]===_0x1b1994(0xdf2)&&_0x9f5109['questionDisplayedAt'];if(_0x3c16de){const _0x1e5d21=_0x9f5109['questionDisplayedAt'][_0x1b1994(0x82a)]()[_0x1b1994(0x913)](),_0x24ee7d=_0x9f5109['timerDuration']*0x3e8,_0x5c44ee=_0x1e5d21+_0x24ee7d,_0xfb54e=document['getElementById'](_0x1b1994(0x17d)),_0x47e4d7=document['getElementById'](_0x1b1994(0x669));syncQuestionTimerInterval=setInterval(()=>{const _0x42e454=_0x1b1994,_0x5018f5=Date[_0x42e454(0x24a)](),_0x480bdf=_0x5e8ce7[_0x42e454(0x26d)]>0x0&&_0x5e8ce7['every'](_0x28f4ee=>{const _0x5d213c=_0x42e454;if(_0x28f4ee[_0x5d213c(0x39c)])return!![];const _0x30e40=_0x28f4ee[_0x5d213c(0x588)]||0x0,_0x56fd37=_0x1e5d21+_0x24ee7d+_0x30e40;if(_0x56fd37<=_0x5018f5)return!![];return![];});if(_0x480bdf){clearInterval(syncQuestionTimerInterval);const _0x1fb5e2=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x1fb5e2,{'status':_0x42e454(0xd4a)});return;}const _0x5e9aea=_0x5c44ee-_0x5018f5;if(_0x5e9aea<=0x0){if(_0xfb54e)_0xfb54e[_0x42e454(0x403)][_0x42e454(0x491)]='0%';if(_0x47e4d7)_0x47e4d7[_0x42e454(0x617)]='0\x20(รอโบนัส)';}else{if(_0xfb54e&&_0x47e4d7){const _0x28fe51=_0x5e9aea/_0x24ee7d*0x64;_0xfb54e['style']['width']=_0x28fe51+'%',_0x47e4d7['textContent']=Math[_0x42e454(0x3ed)](_0x5e9aea/0x3e8);}}},0x1f4);}break;case _0x1b1994(0xd4a):const _0x3a4586=_0x9f5109[_0x1b1994(0x2fc)],_0x4b6ae9=_0x9f5109['shuffledQuiz'][_0x1b1994(0xb0f)][_0x3a4586];renderSyncSummaryView(_0x9f5109,_0x4b6ae9,!![]);break;case _0x1b1994(0xbdc):const _0x4b054f=_0x9f5109[_0x1b1994(0x4a9)]||'classic';_0x4b054f===_0x1b1994(0x2e5)?renderAdminSyncDashboard(_0x9f5109,!![],_0x9f5109['reviewQuestionIndex']):renderAdminSyncDashboard(_0x9f5109,!![],_0x9f5109[_0x1b1994(0x2fc)]);break;case'podium':_0x9f5109[_0x1b1994(0x259)]&&saveGameResultsAsSubmissions(_0x9f5109);sessionStorage[_0x1b1994(0xa92)](_0x1b1994(0xb46));const _0x8cdef0=calculateFinalPodiumScores(_0x9f5109);showPodiumView(_0x8cdef0,'sync',_0x9f5109);break;}}function _0x56bf(){const _0x28b4ef=['docs','fixedData','close-market-btn','.delete-bp-project-btn','fullscreenElement','จิงโจ้สโลว์ไลฟ์','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parent','gradeLevel','bar','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','checkAnswer','ผู้พิชิตดาว','border-gray-200','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','countdown-display','Error\x20adding\x20students:','/public/data/learnedFixes','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','fas\x20fa-bookmark','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','clientX','globalCompositeOperation','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','rgba(239,\x2068,\x2068,\x200.9)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item:last-of-type','modal-confidence-scoring-checkbox','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','summary','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x20|\x20','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','per-question-timer-container','confidence-mode-container','exitFullscreen','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','student-project-leaderboard-content','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','back-to-dashboard-btn','.generate-lesson-btn','handleGeneratePracticeTest','closest','quick_thinker','download','add','ai-quiz-generator-v3','textarea[name=\x22question_single\x22]','ไม่ใช่','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','ไม่ผ่าน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','file-shortcut-name-input','toLowerCase','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','color','fill_in_the_blank','\x20(\x22','-tab-content','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','bp-modal-difficulty-level-select','cancel-team-selection-btn','behavior-log','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','student-project-leaderboard-table-body','อัตราการเปลี่ยนแปลงทันที','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','files','file-shortcut-tabs-nav','กัปตัน','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','referenceUrl','worksheet-topic-input','per-question-options','.cancel-edit-topic-btn','ข้อ\x20','standard','บันทึกการตั้งค่าสำเร็จ','student-join-game-view','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','Error\x20saving\x20quiz:','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','leq','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','Error\x20listening\x20for\x20starred\x20quizzes:','promise','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','text-red-700\x20bg-red-100','.regenerate-question-editor-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','scratchpad-canvas','lesson-view-title','strokeStyle','additional-parallel-shortcuts-list','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','/questionBank','$1\x20\x5cfrac','perseverance','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','resultsDisplay','cos','neq','.shortcut-tab-btn','cutOne','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','lesson-view-modal','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังสร้างแบบทดสอบจากหัวข้อ...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-wager-btn','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','getPage','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','getScreenCTM','1421hmougs','dataIndex','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','text-gray-300\x20hover:text-white','forEach','lowerGroupResponders','ไม่สามารถเริ่มเกมได้','\x20(Player)\x20(ID:\x20','.delete-hidden-file-shortcut-btn','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไป\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','shortcut-id-input','globalSettings','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','close','ฟังก์ชันราก\x20(root)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','วงรี','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','reduce','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','values','tab_','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','blueprint-project-manager-view','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','originalTopic','scratchpad-question','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutTabs','live-player-list','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','ชนิดของข้อมูลและการเก็บข้อมูล','px)\x20scale(','opacity','quizMode','join-live-game-btn','bg-red-700\x20text-white\x20font-bold','admin-dashboard','bg-green-200','bg-gray-200\x20text-gray-700','เลือกและบันทึก','postTScore','results_','applicationData','save-project-name-btn','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','bg-green-200\x20text-green-900\x20font-bold','mouseleave','back-from-results-btn','moveTo','รักแรกพบ','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','toggle','.ai-content\x20h3','pointercancel','left','link-topic-input','bp-modal-passing-score-input','กรุณาตั้งชื่อแท็บใหม่:','export-pdf-btn','lobby','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22\x20name=\x22team_answer\x22\x20value=\x22',',\x20r=','.live-answer-btn','per_question','ondrop','cancel-delete-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','text-white','<div>','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','timed','mouseup','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.export-pdf-list-btn','parallel-test-input-area','q-text-','.timeBonusThisQuestion','bestScore','confirm-quiz-status-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','visibilitychange','classList','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','ค่าเฉลี่ย','onload','องค์ประกอบของฟังก์ชัน','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','ที่พิมพ์ได้\x20จำนวน\x20','text-emerald-900','anonymous','open-market-btn','pointer-events-none','block','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','/submissions','STRING','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','temp-loader-results','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','keyup','.topic-name-display','onblur','240','input[name=\x22syncVariant\x22]','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','flex','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','interesting-stats-container','อัปเดตพฤติกรรมสำหรับ\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','หมูกระทะจะเยียวยาทุกสิ่ง','numChoices','-options','Error\x20generating\x20hybrid\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','latestScore','.move-shortcut-dropdown','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','open-quiz-bank-btn','editable-text-','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','กรุณาเลือกโปรเจคก่อน','behavior-log-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-bar','keydown','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','104uwpbRh','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','copy-quiz-id-btn','touchend','mean','quiz-results-view','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ร้อยละประยุกต์','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','การปัดเศษและประมาณค่า','release','project-dashboard-view','players','shortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','input[type=\x22checkbox\x22]','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','แบบทดสอบนี้ปิดใช้งานอยู่','#D1FAE5','วงกลม:\x20สมการและสมบัติ','\x20\x0a\x20\x20\x20\x20','admin-password-input','lineWidth','presentation-scratchpad-btn','querySelector','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','projectName','confidence-scoring-checkbox','confirm-passcode-btn','preventDefault','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','onclick','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','parallel-shortcut_','subTopic','(ไม่มีชื่อ)','กรุณาพิมพ์คำตอบของกลุ่ม','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','passcode','.linkedQuizId','แบบปรนัย\x204\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','blueprint-upload-input','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','ถูกต้อง!','geq','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-project-select','far\x20fa-star','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','ไม่มีคำอธิบาย','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','ตัวเลือก\x20ก','overline','isLooping','เกี่ยวกับหัวข้อ\x20\x22','pre-test','ส่วนเบี่ยงเบนเฉลี่ย','แผนภาพกล่อง\x20(box\x20plot)','กำลังดึงข้อมูลจากลิงก์...','bg-blue-500\x20hover:bg-blue-600\x20text-white','student-team-selection-view','center','generate-from-text-btn','ตัวเลือก\x20ค','true_false','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-indigo-600\x20hover:bg-indigo-700','projectId','เปิด\x20(จับเวลา)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','quiz-leaderboard-table-container','ARRAY','quadraticCurveTo','Sync\x20Mode','เพิ่มปุ่มลัดใหม่','th-TH','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','size','circ','<p\x20class=\x22','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','</p>','canvas','.move-parallel-shortcut-dropdown','game-start-quiz-id','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20shortcut:','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','ลำดับเลขคณิต\x20(AP)','เส้นตรง:\x20ขนาน/ตั้งฉาก','cancel-quiz-bank-btn','hasPerfectScoreBonus','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','includes','button','input[type=\x22checkbox\x22]:checked','copy','```','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','end-game-btn','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27forceConfident\x27.','Error\x20saving\x20lesson\x20to\x20project:','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ผ่าน','ไม่พบข้อมูลเกม','พลังคลื่นเต่า','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','(รอคะแนน)','???','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','uid','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>','</span></td>','274192258111','insurance','nextElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>','กาแฟขม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','preTestId','label[for=\x22num-questions\x22]','สถานะไม่ชัดเจน','playerIndex','เกมเมอร์','badgesCount','querySelectorAll','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startTime','start-presentation-btn','handleGenerateAndShowLesson','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','2-digit','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x20ตัวเลือก.\x20','QUICK_THINKER','</option>','pinned-items','$1\x5c%','text','25ToJwWO','push','ส่วนเบี่ยงเบนมาตรฐาน','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','insertAdjacentHTML','ปุ่มลัดทั้งหมด','wager-slider','<svg','fullscreenchange','parallel-shortcut-name-input','ทฤษฎีบทพื้นฐานของแคลคูลัส','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','groups.','project-list','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','wheel','แก้ไขข้อนี้','สถิติและความน่าจะเป็น','parallel-shortcut-editor-modal','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','shuffleSetting','generate-from-link-btn','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x5cle','score-distribution-chart','รหัสไม่ถูกต้อง','\x27\x20ในหัวข้อ\x20\x27','whole_quiz','difficulty-level-select','export-leaderboard-excel-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','highlighter-tools-group','.doc','delete','ใช่','some','.delete-shortcut-tab-btn','<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ไม่พบตารางสำหรับ\x20Export','/public/data/quizzes','typesetPromise','cancel-admin-login-btn','Error\x20saving\x20quiz\x20edits:','market-current-points','shouldSaveResults','(ก่อนเรียน)','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','modal-timer-duration-input','svg','cancel-file-shortcut-edit-btn','Unexpected\x20API\x20response\x20structure:','save-file-shortcut-btn','Failed\x20to\x20kick\x20player\x20','จับคู่แบบทดสอบสำเร็จ!','dragstart','Failed\x20to\x20refund\x20powerup:','isStarred','สมการเชิงเส้นตัวแปรเดียว','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','input[name=\x22drill_answer\x22]:checked','\x20จุดเรียบร้อยแล้ว','pop','comeback_king','length','แผนการสอน:\x20','bg-green-100\x20font-bold','/public/data/liveGames','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#parallel-shortcut-tabs-nav\x20.tab-name-input','Error\x20updating\x20sort\x20preference:','answerText','create-from-bank-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Error\x20generating\x20parallel\x20post-test:','Failed\x20to\x20generate\x20lesson:','user','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','documentElement','topicId','input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','usedPoll','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','fix\x20the\x20option','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','ทำคะแนนได้เกินครึ่ง','prod','bg-green-200\x20text-green-900','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.correct-response-input','text-red-500\x20hover:text-red-700','Error\x20saving\x20blueprint\x20project:','setAttribute','#DBEAFE','pointContent','text-indigo-800','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','global-quiz-search-input','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','-\x20ข้อ\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','ทฤษฎีบทพีทาโกรัสและการประยุกต์','text-gray-100','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes/','scratchpad-close-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x22...','pow','\x22\x20value=\x22true\x22\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','.lastAnswerIndex','exists','Error\x20rendering\x20student\x20progress:','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เลือกผู้เล่นที่จะบังคับ\x20\x22มั่นใจ\x22\x20(ใส่ตัวเลข):\x0a','<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>💰\x20เดิมพัน\x20(','คนโสด','ข้อที่\x20','ไฮเพอร์โบลา','dataset','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','results-tab-content','<i\x20class=\x22fas\x20fa-magic\x22></i>','matching_item','เศรษฐีดูไบ','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','save-shortcut-btn','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','frac','load-quiz-btn','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<button\x20id=\x22use-powerup-jinx\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>👻\x20คำสาป\x20(','quiz-id-input','file-upload-input','image/png','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','submit-group-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์อ้างอิงจากลิงก์...','nickname-input','bp-topic-list-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','px,\x20','open-sync-scratchpad-btn','.quiz-result-card','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','parseFromString','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','/public/data/teamQuizzes','ช่างภาพ','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','powerupUsed','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','show-leaderboard-btn','reveal_at_end','lesson-plan-content','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FileReader\x20error:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ตอบถูกทุกข้อในแบบทดสอบนี้','url','bulk-quiz-settings-modal','กำลังอัปเดตแบบทดสอบ\x20','บันทึกคำถามใหม่\x20','deg','บันทึกแบบทดสอบสำเร็จแล้ว!','เลือกผู้เล่นที่จะ\x20\x22สาป\x22\x20(ใส่ตัวเลข):\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input','json','border-red-300\x20bg-red-50','ป่าไม้','bp-modal-num-choices','แก้ไขหัวข้อสำเร็จ','sync-timer-duration-input','modal-close-btn','🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','currentQuestionIndex','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','answering','show_results_and_answers','responses','พิสัย','tool','ระยะเวลา\x20(นาที):','ปล่อยพลัง','Error\x20committing\x20score\x20updates:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','preScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20(p=','fill_in_no_choices','bp-reference-file-url','</span></div>','นักกีฬา','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','reset-view-btn','wager-modal','badges','💰\x20คูณเดิมพัน','จันทร์เจ้า','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','Error\x20saving\x20to\x20question\x20bank:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','submittedAt','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','ฟังก์ชันผกผัน','reset-project-order-btn','getBoundingClientRect','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.bp-present-btn','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','border-green-300\x20bg-green-50','AI\x20ไม่สามารถประมวลผลข้อมูลได้','reveal-names-btn','questionText','description','indexOf','text-red-800','border-indigo-500\x20text-indigo-600','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','Failed\x20to\x20get\x20standardized\x20topic:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','players.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','กำลังอ่านไฟล์อ้างอิง...','เพิ่มปุ่มลัดจากไฟล์ใหม่','scratchpad-clear-btn','ยังไม่ส่ง','พบ\x20Team\x20Quiz!','loop-until-pass-checkbox','ไม่พบข้อมูลแบบทดสอบ','<button\x20data-quiz-id=\x22','cancel-blueprint-projects-btn','comparison-individual-tab','editor-quiz-topic','global-activity-quiz-list','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','#file-shortcut-tabs-nav\x20.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20title=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectView','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22team_player\x22]:checked','ไอติมทอด','แท็บใหม่','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','shadowColor','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','การนับ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณไม่มีไอเทมนี้ในคลัง','all','.isJinxed','รูปสี่เหลี่ยมและสมบัติ','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','sync-submit-btn','raw','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','results-tab','🔁\x20โอกาสครั้งที่สอง','quiz-bank-count','</button>','แบบทดสอบจากคลังส่วนตัว','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','สร้างคำถามแบบเติมคำในช่องว่าง','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','reviewQuestionIndex','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','save-game-results-checkbox','confirm-delete-btn','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','text-green-700','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','confirmation-modal','touchstart','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','manage-tab','leaderboard-quiz-tab-btn','</a>','text-input-area','.move-shortcut-item','handleGenerateQuizFromBlueprintTopic','.shortcut-list-item:not(.opacity-50)','webkitExitFullscreen','passcode-input-container','name','manage','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','line-through\x20text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','restore','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','rename-quiz-input','.delete-custom-topic-btn','multiple_choice','.isScored','scores-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บทเรียนเรื่อง:\x20','bp-add-topic-btn','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','Error\x20regenerating\x20question\x20in\x20editor:','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จากเนื้อหาต่อไปนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-input-area','ชาไข่มุก','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','linkedQuizIds','.edit-quiz-btn','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','Error\x20joining\x20activity:','_opt1\x22>ไม่ใช่</label></div>','results-table-container','scratchpad-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#view-rankings-btn','enable-black-market-checkbox','modal-timer-duration-container','.txt','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-popup','deltaY','การแจกแจงปกติและ\x20z-score','answered','false','ฟังก์ชันพหุนาม','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','powerupUsedThisTurn','pre-test-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','correctAnswerIndex','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','CEOพันล้าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-settings-modal','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#results-table\x20thead\x20tr','Error\x20loading\x20blueprint\x20projects:','ON_FIRE','\x22>ใช่</p>','📊\x20สถิติการตอบ\x20(จากผู้เล่นที่ตอบแล้ว):\x0a\x0a','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-list','.delete-hidden-shortcut-btn','0\x200','topic','MathJax\x20re-render\x20failed:','link-tab','text-indigo-700','onerror','คะแนนเต็ม!','student-initial-view','student-progress-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','additional-shortcuts-list','additional-parallel-shortcuts-modal','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','.ai-fix-question-btn','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','reference-pdf-upload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อินเวอร์สของเมทริกซ์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','curriculum','.pen-size-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','originalQuestionText','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','PERFECT_SCORE','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','timer-bar','Error\x20deleting\x20custom\x20topic:','Blueprint\x202','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','Error\x20saving\x20game\x20results:','):\x20ฟรี','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','items','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','points','\x22><span\x20style=\x22',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','แก้ไขปุ่มลัด','txt','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','attemptNumber','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','team-quiz-topic','ceil','bg-yellow-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','memory','file.txt','finishReason','.delete-hidden-parallel-shortcut-btn','error','\x20ชุดสำเร็จ!','isJinxed','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','parallel-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x20คะแนน</span></div>','index','ยอดเยี่ยม','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.topic-row','confidence_single','style','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','memoryContent','Test\x20Blueprint','text-red-900','ตรีโกณมิติ','player-list-lobby','student-project-leaderboard-tab','project-name-input','submit','confidence-scoring-description','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ซื้อเวลา\x20(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.regenerate-question-btn','removeChild','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','AI\x20แก้ไขคำถามสำเร็จ!','presentation-explanation','\x20mr-2\x22></i>','ฮัลค์','text-green-600\x20font-bold','duration-300','getTextContent','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','blueprint-options-container','enable-passcode-checkbox','Error\x20updating\x20custom\x20topic:','\x5cpm','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(59,\x20130,\x20246,\x200.7)','closePath','scrollHeight','isAnonymousRevealed','scores','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','font-bold\x20text-red-700\x20line-through','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save','AI\x20Formula\x20Fix\x20Error:','\x20ชุด)</span>','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','font-bold\x20text-green-700','สมการลอการิทึม','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ต้นฉบับ\x202','Error\x20joining\x20live\x20game:','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความคาดหมาย\x20(Expected\x20value)','mode','ondragend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fa-crown\x20text-yellow-500','#open-additional-shortcuts-btn','source_document.txt','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','cancel-parallel-shortcut-edit-btn','confirm-admin-login-btn','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','(คัดลอก)\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','show_pass_fail_only','match','<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','Invalid\x20response\x20structure\x20from\x20API.','next-drill-btn','isForcedConfident','เกิดข้อผิดพลาดในการบันทึกโปรเจค','focus','numPages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','.buy-time-confirm-btn','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','404\x20Not\x20Found','.file-shortcut-btn[data-id=\x22','clear-all-links-btn','timer-container','<div\x20class=\x22p-2\x20rounded-md\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ยอดเยี่ยม!','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','shortcut-name-input','หัวข้อหลักใหม่','touches','ไม่พบข้อมูลโปรเจค','bulk-loop-until-pass-checkbox','บักแตงโม','map','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','presentation-ai-result','getElementsByTagName','setAttributeNS','.use-hidden-parallel-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','.answeredCurrentQuestion','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','team','generated-quiz-container','ความต่อเนื่อง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','shuffledQuiz','ลบโปรเจค\x20\x22','\x22\x20value=\x22','#E0E7FF','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','mixed','default-2','groups',':</span><span>','\x22\x20name=\x22question_single\x22\x20value=\x22','หมาป่าเดียวดาย','scrollIntoView','---\x20[คำถามใหม่]\x20---','timestamp','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','สมการค่าสัมบูรณ์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','name_desc','passingScore','width','temp-loader-text-results','clearRect','num-choices-container','message','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทะเล','\x20กลับเข้าสู่เกม!','value','offset','candidates','selected-answer-index-hidden','ต้นฉบับทั้งหมด','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','confirm-game-start-modal','คัดลอกรหัสแล้ว!','pointerup','gameVariant','\x20to\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','text-gray-400\x20hover:text-indigo-600',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','สรุปผลการวิเคราะห์:\x5cn','sin','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','bg-yellow-50','/public/data/blueprintProjects/','wasJinxed','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','visible','competition','ราชาคัมแบ็ก','ดอกเบี้ยทบต้น','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','ลบแบบทดสอบสำเร็จแล้ว','endTime','Error\x20saving\x20submission:','ชื่อโปรเจคห้ามว่าง','bp-modal-question-complexity-select','Error\x20comparing\x20results:','quizType','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-300\x20text-yellow-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','ฟังก์ชันลอการิทึม','show-final-results-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','join','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','leaderboard-tab-content','ตัวเลือก\x20ง','[*]','confirm-confident','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generate-from-file-btn','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','leaderboard-table-body','bg-red-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','comparison-individual-content','20MmUcmh','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','scale','parallel-default-1','shortcut-editor-modal','จำนวนและการดำเนินการ','starred','เลือกโปรเจคเพื่อบันทึก','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-input','class','getContext','การหาร','\x20(สำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','addEventListener','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','เรขาคณิตวิเคราะห์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','select','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','wager-max-points','Error\x20fetching\x20quiz\x20settings:','submit-team-answer-btn','ในข้อนี้\x20ถ้าคุณตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','export-worksheet-pdf-btn','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','export-pdf-modal','\x5cdiv','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','group','use-powerup-jinx','per-q-countdown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','quizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','imageCode','cancel-bp-settings-btn','mode-switcher-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shuffle','bottom','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','createdBy','bg-red-200\x20text-red-800','project-sort-select','authed_project_','point','manual-blueprint-modal','text-green-600','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','isNormalTopic','modal-loop-until-pass-checkbox','ย้ายแบบทดสอบไปโปรเจคอื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มัธยฐาน','checked','พื้นที่สามเหลี่ยม','jinx','<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22','Failed\x20to\x20apply\x20jinx:','Auto-linking\x20new\x20quiz\x20','การจัดกลุ่มข้อมูล','<span\x20title=\x22ใช้ส่องสถิติในตานี้\x22>📊</span>','พบ\x20Sync\x20Game!','show-results-btn','.subTopic','.score','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','สาระที่\x201','getBBox','get','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','game-start-mode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','สมการราก\x20(radical)','จำนวนเต็มบวก','เกิดข้อผิดพลาดในการเข้าตลาดมืด','results-table','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','ไม่พบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','td,\x20th','dispatchEvent','first_try_ace','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','abs','qIndex','Blueprint\x201','bp-modal-shuffle-setting-select','text/plain','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcuts-loading-msg','Transactionล้มเหลว:\x20','Group\x20Mode','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','confirm-quiz-settings-btn','.delete-shortcut-btn','\x20link(s)\x20for\x20quiz\x20ID:\x20','เกิดข้อผิดพลาดในการลบผลสอบ','\x20ตอบ','.auto-resize-textarea','auto-fix-latex-btn','isCorrect','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','secondChance','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','กำลังค้นหากิจกรรม...','เกิดข้อผิดพลาดในการแก้ไข','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','กำลังเตรียมไฟล์...','%PDF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','scratchpad-controls','Error\x20confirming\x20players:','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','highlighter-size-value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x22\x5cn','\x20คนที่ส่ง\x20ตอบถูก\x20(','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','transformOrigin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','⏳\x20ซื้อเวลา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','ตัวประกอบและตัวประกอบเฉพาะ','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','.delete-project-btn','mainTopics','</tbody></table></div>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','#ffffff','correctResponse','confidenceMode','แบบทดสอบนี้หมดเวลาแล้ว','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','คู่จิ้น','beforeend','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','สำหรับหัวข้อ\x20\x27','.start-presentation-list-btn','explanation','.project-card-container:not(.opacity-50)','blueprint-shortcut-container','ปรับเพิ่ม/ลดเป็นร้อยละ','back-to-student-initial-btn','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','timeBonusThisQuestion','half_mark_status','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','tGain','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ตัด\x201\x20(','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x20ข้อ...','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','red','Error\x20generating\x20worksheet:','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','projectSort','เรขาคณิต','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','matching','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-pre-test-id=\x22','correctAnswer','msExitFullscreen','เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','projectSortOrder','.edit-question-btn','<option>กำลังโหลดโปรเจค...</option>','การคูณ','shortcut-modal-title','cancel-move-quiz-btn','กำลังสแกนหาแบบทดสอบเก่า...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','test','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','rgba(79,\x2070,\x20229,\x200.8)','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','Error\x20starting\x20team\x20quiz:','\x22\x20data-topic=\x22','พีชคณิตและฟังก์ชัน','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','.ideal-answer-input,\x20.correct-response-input','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','นำแบบทดสอบออกจากคลังนี้แล้ว','loader-text','onSecondChance','bg-gray-400','touch','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','.topic-selection-btn','เกิดข้อผิดพลาดในการปักหมุด','str','กรุณาวาง\x20URL\x20ของบทความก่อน','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','.kick-player-btn-sync','ชีสเค้ก','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','toISOString','ท้องฟ้า','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','answer-grid-container','sum','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','30915AGRwkw','topic-input-area','ระบบสมการเชิงเส้นสองตัวแปร','startsWith','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','คะแนนยังไม่ถึงครึ่ง','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดาวTikTok','stdDev','.topic-category','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','-options\x22>','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','use-powerup-cutOne','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','text-green-800','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ลบหัวข้อสำเร็จ','manual_release','<i\x20class=\x22fas\x20fa-save\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20processing\x20shortcut\x20click:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','circle','use-powerup-fiftyFifty','blueprint-tab','.use-hidden-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','shadowBlur','\x5ccdot','แก้ไขสูตรคณิตศาสตร์\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','onkeydown','empty','document','keyConcepts','bg-black/20','per-question-text','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','.file-shortcut-btn','toLocaleString','\x22\x20data-quiz-id=\x22','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','Error\x20processing\x20file\x20for\x20AI:','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','เกิดข้อผิดพลาดในการซื้อ','cancel-shortcut-edit-btn','ชื่อหัวข้อห้ามว่าง','currentMode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','close-game-final-btn','settings','MathJax\x20typeset\x20error\x20(analytics):','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','string','Loaded\x20','\x22\x20data-q-type=\x22','.topic-actions-edit','totalPoints','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างรูปภาพ...','math-topics-checkbox-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','Error\x20showing\x20quiz\x20detail\x20view:','</tr>','default-1','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','textContent','pairedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โจรสลัดอวกาศ','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','end-team-quiz-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcut-reference-url-input','</p><p><strong>เฉลย:</strong>\x20','ร้อยละพื้นฐาน','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-testing','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','42822FuoPzM','ค่าสัมบูรณ์','save-blueprint-as-project-btn','showAnswerInAnonymous','\x20คะแนน\x20','cursor','lower_group_count','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','topic_','quiz-results','find','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','<tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','พิซซ่าหน้าทุเรียน','.bp-edit-topic-btn','แฟนทิพย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','sync-player-management','finished','baseVal','75272wGhBUk','ต้นฉบับ\x201','topic-quiz-bank-modal','isDefault','.move-file-shortcut-dropdown','blueprintUrl','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','isBlackMarketEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','inactive','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','isAdaptive','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','topic-tab','questionStatus','ความน่าจะเป็นแบบมีเงื่อนไข','fa-fire\x20text-orange-500','(^|[^\x5c\x5c])\x5cb','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','behavior-log-tab-content','.live-answer-btn,\x20#sync-submit-btn','<div\x20class=\x22my-2\x22>','#FFFFFF','file-shortcut_','status','ผู้เล่นใหม่\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','learningGaps','shortcut-blueprint-url-input','oninput','student','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','close-lesson-view-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','requestFullscreen','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','.\x20แต่ละข้อมี\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','sync-timer-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','text-tab','⚡️\x2050:50','text-emerald-800','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','เกิดข้อผิดพลาดในการเข้าร่วมเกม','unshift','editable-quiz-topic','confirm-rename-quiz-btn','</li>','pen-tools-group','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','ondragstart','#add-question-editor-btn','export-tutor-pdf-btn','click','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','num-choices','หลังเรียน','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','confidence-scoring-toggle','เกิดข้อผิดพลาดในการบันทึกลำดับ','content','Error\x20processing\x20parallel\x20shortcut\x20click:','กราฟแท่ง\x20กราฟเส้น','cancel-passcode-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','upperGroupNames','scheduled_pending','.submittedAt','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','กำลังสร้างบทเรียน:\x20','บทเรียน','[data-topic-id=\x22','คุณแน่ใจว่าต้องการลบแท็บนี้?','(หลังเรียน)\x20','...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','catch','<div\x20id=\x22q-image-container-','translate','newOptionsPayload','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20</div>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','open','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','parallel-test-tab','.draggable-text','%</span>','Error\x20fetching\x20student\x20rankings:','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','📊\x20ส่องสถิติ','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','prev-question-btn','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tooltipTarget','API\x20Error\x20Response:','close-additional-file-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','MathJax','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','การคูณทศนิยม','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','เงาปริศนา','BOOLEAN','Error\x20deleting\x20topic:','disabled\x20bg-gray-400\x20cursor-not-allowed','ไม่พบข้อมูลผู้ใช้','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำเตือน\x20(','ดวงดาว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','กิจกรรมสิ้นสุดลงแล้ว','.highlighter-color-btn','\x22><i\x20class=\x22fas\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','.quiz-bank-try-btn','กฎของโคไซน์','hover:bg-indigo-100','รากที่สองและที่สาม','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','_opt0\x22\x20name=\x22question','ฟังก์ชันกำลังสองและกราฟ','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','.admin-try-quiz-list-btn','classic','sync-manage-players-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','behaviorLog','5542050gEIzch','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','shortcuts','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','highlighter-size-slider','pinnedProjects','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การจัดหมู่\x20(Combination)','workerSrc','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Failed\x20to\x20resume\x20game\x20session:','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','bg-green-50','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','แม่น้ำ','ปิดใช้งาน','preTScore','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</span>','innerText','fromCharCode','blueprint-project-list','.color-palette-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short','lineJoin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อโปรเจค','close-additional-shortcuts-btn','มุมพิเศษ\x2045°-45°-90°','confirm-wager-btn','#26890c','text-gray-700','.open-bp-project-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','perfect_score','toString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','ย้ายแบบทดสอบสำเร็จ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','strength-weakness-analysis-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','teacherSuggestions','export-word-btn','NEGATIVE_INFINITY','ติดซีรีส์','admin-password-modal','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','sort','กองดอง','adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตรวจคะแนนใหม่\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','text-yellow-300','.tab-name-input','bg-blue-100\x20text-blue-800','กำลังอ่านและเตรียมไฟล์...','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','100%','<button\x20id=\x22','submission','กรุณากรอกข้อมูลให้ครบทุกช่อง','แปลงร่าง','จับคู่เพื่อเปรียบเทียบผล','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','manual-bp-project-name','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','.sort-indicator','random','export-excel-btn','มังกรกินจุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','sync-matching-select','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','player-count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','เพนกวินไฟ','fix-lesson-latex-btn','commit','https://drive.google.com/uc?export=download&id=','แก้ระบบสมการด้วยเมทริกซ์','buy-time-quantity-input','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','Error\x20analyzing\x20file\x20for\x20topics:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','save-parallel-shortcut-btn','export-leaderboard-image-btn','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','/public/data/syncGames','/users/','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','modal-confidence-mode-container','file-topics-list-container','Error\x20saving\x20reference\x20URL:','Error\x20saving\x20parallel\x20shortcut\x20config:','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','webkitRequestFullscreen','ตรวจพบการออกจากหน้าจอครบ\x20','list-view-btn','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','floor','team-player-status-grid','cancel-create-project-btn','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-options-container','):\x20เสีย\x201P','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','autoTable','กำลังวิเคราะห์หัวข้อ...','\x22\x20x','standardTopic','survivor','\x20เข้าร่วมกลางเกม','pointsLastQuestion','เกิดข้อผิดพลาดในการลบโปรเจค','show-in-student-dashboard-checkbox','จำนวนคู่:','fileShortcutsConfig','Error\x20resetting\x20project\x20order:','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','applicationContent','shuffle-setting-select','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','topic-bank-subtopic-name','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','isRemedial','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>50:50\x20(','\x20คน\x20(','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','shortcutId','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','#FCE7F3','เวกเตอร์และเมทริกซ์\x20(เสริม)','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','undefined','add-shortcut-btn','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','save-bp-reference-btn','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctimes','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','stepByStepExamples','applicationHTML','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','rows','กระต่ายตื่นตูม','เลือกผู้เล่น\x201\x20คน\x20หากผู้เล่นนั้นตอบผิดในข้อนี้\x20\x22บทลงโทษทั้งหมด\x22\x20จะ\x20x2\x20(ถ้าตอบถูกได้คะแนนปกติ)','.project-card-content','กำลังเตรียมไฟล์อ้างอิง...','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','ไม่สามารถโหลดข้อมูลอันดับได้','บันทึกผลการเล่นเกมของ\x20','bulk-confidence-mode-container','scrollX','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','newOptions','total','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','manual-bp-grade-level','confirmation-message','เข้าตลาดมืดครั้งแรก\x20(ข้อ\x20','set','isConfidenceScoringEnabled','textarea','\x20ครั้ง)</span></td>','scheduled','.parallel-quiz-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','smooth','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-file-shortcut-btn','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','ความเท่ากันทุกประการของสามเหลี่ยม','check-answer-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','medium','previousElementSibling','การคูณเศษส่วน','padStart','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','transform','label','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','warn','shortcutIds','👻\x20บังคับมั่นใจ','generated','<li\x20class=\x22','\x20/\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','student-back-to-home-btn','Error\x20toggling\x20pin\x20status:','text-green-700\x20bg-green-100','แก้ไขปุ่มลัดจากไฟล์','getAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','dragend','project-passcode-modal','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','progress-project-select',')</span></div>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจคสำเร็จแล้ว','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','bank-quiz-search-input','interesting-stats-wrapper','สรุปผลสุดท้าย','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','Error\x20pairing\x20quizzes:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','<option\x20value=\x22','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','fileShortcutTabs','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-actions','ครูใหญ่','splice','insertBefore','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','answer','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','Error\x20unpairing\x20quizzes:','force-math-checkbox','eraser-tools-group','student-team-join','การวัด','#open-additional-file-shortcuts-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','แคลคูลัสเบื้องต้น','ไก่ฟ้าพญาลอ','.edit-shortcut-btn','localeCompare','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','confirm-move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','<div\x20class=\x22space-y-4\x22>','desc','separate-by-content-from-file-checkbox','sync','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','23574188IBQywh','แก้ไขชื่อหัวข้อย่อย:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-bulk-quiz-settings-btn','Blueprint\x20O-NET\x20ป.6','bg-yellow-100','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','สลับไปโหมดนักเรียน','pen','numeric','analytics-tab-btn','artifacts/','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','summaryContent','/public/data/customMathTopics','.generate-content-btn','ปริพันธ์ไม่จำกัด','กฎของไซน์','กำลังกลับเข้าสู่เกม\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','ห.ร.ม.\x20(GCD)','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed','application/pdf','question-analytics-container','project-detail','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','file-default-1','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.pointsLastQuestion','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','close-comparison-modal-footer-btn','members','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','.delete-file-shortcut-tab-btn','not-found','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','.ai-content\x20blockquote','blueprint-topics-list','<span\x20title=\x22','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','then','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','หมดเวลาสำหรับข้อนี้!','leaderboard_','stem','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','การลบทศนิยม','toDate','\x20ชิ้น)','ตัวเลือก\x20','student-progress-view','Error\x20saving\x20shortcut:','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','confirm-create-project-btn','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','fa-pen','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','เทพทรู','Error\x20duplicating\x20quiz:','Error\x20loading\x20user\x20preferences:','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','การหารทศนิยม','ตะวันฉาย','<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','project-title','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','tan','#open-additional-parallel-shortcuts-btn','เกิดข้อผิดพลาดในการบันทึก','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','bank-quiz-list','กลุ่มของคุณ','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','ดอทโปรดักต์\x20(dot)','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','Error\x20during\x20deep\x20delete:','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','(กำลังไล่ตาม)','สเกลและแผนที่','\x20สำเร็จ','.edit-hidden-parallel-shortcut-btn','<div\x20class=\x22mb-3\x20topic-category\x22>','การแปลงรูปอัตลักษณ์','Error\x20during\x20blueprint\x20link\x20cleanup:','stroke','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','view-my-progress-btn','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','.live-summary-tooltip.visible','removeEventListener','buyTime','API\x20call\x20failed\x20with\x20status:\x20','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','quiz-results-table-body','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','รอ...','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','.delete-file-shortcut-btn','blueprint-settings-modal','mjx-container','viewBox','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<div\x20style=\x22','confidence-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20ออกจากคลังนี้?','contentEditable','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','hiddenOptions_q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','คุณแน่ใจหรือไม่ว่าต้องการใช้\x20\x27สถิติ\x27?\x20(หากใช้แล้วตอบผิด\x20บทลงโทษจะรุนแรงขึ้น)','-tab','parallel-test-upload-input','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','fill','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','wasConfident','reference.pdf','รายการนี้','analytics','bg-amber-100\x20text-amber-800','execCommand','admin-try-quiz-btn','idealAnswer','\x22\x20data-name=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กราฟฟังก์ชันตรีโกณ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','code','.group\x5c/dropdown','ข้าวมันไก่พิเศษ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','รูปแบบการให้เหตุผล','.shortcut-btn','.answers','ควรปรับปรุง','hint-btn','Error\x20clearing\x20all\x20links:','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!</div>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','pollUsedThisTurn','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','selected-answer-index-hidden-wager','<span\x20class=\x22font-bold\x20','perQuestionStats','practiceProblems','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','ตัวแปรและนิพจน์','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','modal-results-display-select','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','close-student-rankings-btn','.toggle-actions-btn','round','Error\x20starting\x20game:','project-search-input','grabbing','title','ลำดับเรขาคณิต\x20(GP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','/lessons','อนุพันธ์:\x20ผลคูณ/ผลหาร',')</button>','.bp-create-content-quiz-btn','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','ฟังก์ชันเชิงเส้นและกราฟ','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.linkedQuizIds','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','justification','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ครัวซองต์','rgba(79,\x2070,\x20229,\x201)','Error\x20saving\x20file\x20shortcut:','ย้าย','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ไม่สามารถสร้างโปรเจคได้','translate(','student-rankings-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เน็ตไอดอล','\x20รายการ\x20สำเร็จ!','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','#confidence-input-','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-view-analysis-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','helvetica','passing-score-input','undo-btn','Error\x20saving\x20visibility\x20settings:','file-default-2','add-parallel-shortcut-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','Error\x20saving\x20manual\x20blueprint\x20project:','Attempting\x20to\x20save\x20game\x20results...','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x22>(','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','Invalid\x20response\x20structure\x20from\x20AI.','(นำโด่ง)','วงกลม:\x20คอร์ดและเส้นสัมผัส','studentName','ownerSVGElement','border-red-700','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','timer-mode-select','transition','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ฟังก์ชันยกกำลัง','type','back-to-student-home-btn','anon-settings-container','application/json','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ไม่สามารถโหลดคลังข้อสอบได้','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20clearing\x20linked\x20quiz:','.quiz-bank-move-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attempts','additional-shortcuts-modal','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','Error\x20submitting\x20group\x20answer:','parallel-shortcut-id-input','7668zzxNVQ','\x20รายการ...','.csv','Error\x20saving\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','#math-topics-checkbox-container\x20input:checked','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','เกิดข้อผิดพลาดในการอ่านไฟล์','live-submit-short-answer-btn','isArray','Error\x20starting\x20sync\x20game:','teacherTips','Error\x20listening\x20for\x20projects:','.project-card-container','isPinned','ค.ร.น.\x20(LCM)','quiz-type-select','ไม่พบเอกสารการส่งงานของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-default-2','\x22\x20name=\x22confidence','.question-editor-item[data-q-index=\x22','getTime','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','parentNode','global-activity-modal','สายลมแห่งโชคชะตา','การกระจายและการจัดหมู่','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','เส้นตรง:\x20รูปแบบสมการ','Error\x20processing\x20file\x20shortcut\x20click:','.bp-delete-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','show_results_only','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','generate-worksheet-btn','scores-tab-btn','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','ค่าเสื่อมราคา','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','input[type=\x22radio\x22][value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','latestSubmittedAt','.shortcut-list-item','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ไม่ใช่\x20/\x20ผิด','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ยกเลิกการจับคู่สำเร็จ','POST','summary_chart','topic-bank-list','confident','</select>','replace','#student-quiz-leaderboard-content\x20thead','ตารางความถี่','true','Error\x20unlinking\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','update','Failed\x20to\x20create/update\x20submission\x20record:','short_answer','wakeLock','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ondragover','Error\x20editing\x20topic:','การบวกเศษส่วน','price','จอมเวทย์ขนมหวาน','active','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','bg-red-50','line-height:\x201.3;\x20min-width:\x200;','All\x20groups\x20have\x20finished.\x20Ending\x20game.','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','/public/data/practiceBank','create-project-modal','Error\x20linking\x20quizzes:','bg-[#DCFCE7]\x20text-green-900','setItem','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','student-quiz-leaderboard-table-body','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','sync-short-answer-input','questionId','parallel-shortcut-tabs-nav','display','open-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','loader','<li>','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','wager-amount-display','wasForced','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','startedAt','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','</div>\x0a</div>\x0a','parentElement','Error\x20generating\x20lesson\x20plan:','นักเขียน','ฟังก์ชันแบบชิ้นส่วน','ไม่ระบุ','forceConfident','keys','lineCap','.scratchpad-content-wrapper','\x20สำเร็จ!','worksheet-input-area','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','bg-[#EF4444]\x20text-white\x20font-bold','num-questions','actions-container-','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','resize','results-display-select','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ไม่มี','update-old-quizzes-btn','onchange','source-over','ข้อต่อไป','.ai-content\x20li','practice-topic-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','quiz-editor-questions-container','lesson-view-content','doughnut','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เพื่อนสนิท','custom-math-topic-input','height','#student-project-leaderboard-content\x20thead','Error\x20adding\x20custom\x20topic:','draggable-text','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','delete-all-students-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ไอรอนแมน','<textarea\x20name=\x22question','application','add-student-btn','\x20mx-1\x20text-lg\x22></i></span>','แบบทดสอบ:\x20','โลมาบิน','null','นักเดินทาง','responses.','substr','\x20หัวข้อ)','responseSchema','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','ค่าความจริง/ตารางค่าความจริง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','คาถาแยกเงาพันร่าง','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','Error\x20calling\x20Gemini\x20API:','toDataURL','qType','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-game-start-btn','การยืนยันตัวตนล้มเหลว','00:00','q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','Error\x20during\x20class\x20analysis:','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','</label></div>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','cancel-quiz-settings-btn','จำนวนคละ','\x22.\x20','ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)','key','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','parallel-shortcut-url-input','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-unlink-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Leaderboard\x20update\x20transaction\x20failed:\x20','endsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','asc','ไฟล์ลัด\x201','add-shortcut-tab-btn','ดีเทอร์มิแนนต์','.sortable-header','createObjectURL','เต่าสายฟ้า','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','COMEBACK_KING','ผู้ไม่ยอมแพ้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','answeredCurrentQuestion','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','close-lesson-plan-modal-footer-btn','topics.','answerValue','Failed\x20to\x20apply\x20forceConfident:',')\x22>','next-question-timed-btn','bg-red-100\x20text-red-800','\x22\x20ให้เป็นคำถามประเภท\x20\x22','.bp-try-btn','fadeStartTime','loopUntilPass','options','manual-bp-content','back-to-dashboard-from-bp-btn','Error\x20renaming\x20quiz:','blockReason','.ai-content\x20td','bulk-confidence-scoring-checkbox','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','AI\x20grading\x20failed:','รูปหลายเหลี่ยมและมุมภายใน','#retake-for-improvement-btn','เงินงวด\x20(อนุกรมเงินงวด)','#results-table','.quiz-bank-checkbox:checked','Error\x20generating\x20teaching\x20content:','หน่วยมวล/น้ำหนักและการแปลง','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','parts','ศูนย์','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','#F3E8FF','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','modal-timer-mode-select','จุด\x20เส้น\x20ระนาบ','submissions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','Error\x20starting\x20group\x20quiz:','.group\x5c/dropdown-file','data:application/vnd.ms-word;charset=utf-8,','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','.file-topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x20ข้อ\x20','poll','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen','Error\x20deleting\x20submission:','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','quiz-search-input','.bp-generate-lesson-btn','ผ่านฉลุย','Original\x20quiz\x20not\x20found','\x27,\x20\x27','toLocaleDateString','_blank','quiz','include-images-checkbox','</th>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ส่งแล้ว','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','Error\x20saving\x20project\x20order:','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จาก\x20','\x20จุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','[data-field=\x22subTopic\x22]','อนุพันธ์:\x20กฎลูกโซ่','\x20to\x20blueprint\x20topic\x20','.generate-easy-version-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','$$$1$','bulk-confidence-mode-select','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ondblclick','fas\x20fa-user-edit','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprintShortcuts','question-complexity-select','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gameData','\x22\x20name=\x22question',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','file-shortcut-id-input','icon','.delete-quiz-btn','เกิดข้อผิดพลาดในการโหลดโปรเจค','.answered','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','fill_in_with_choices','change','div','min','manage-players-btn','\x20ตัวเลือก)','\x22\x20class=\x22color-palette-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-2\x20justify-center\x20items-center\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x22></i>\x20ตลาดมืด\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','.totalPoints','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isScored','project-passcode-input','sara','div[data-question-index=\x22','screen_exit','.topic-actions-view','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','freeMarketEntryUsed_q','jspdf','เศษส่วน\x20(ย่อ/ขยาย)','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','element','modal-passing-score-input','cancel-rename-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ซื้อ\x20\x22','slice','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','word-break:\x20break-all;','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','lessonPlan','underline','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','bg-red-100','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบที่ติดดาว','function','\x20in\x20all\x20blueprint\x20projects.','รีเซ็ตลำดับโปรเจคแล้ว','ก้อนเมฆ','modal-shuffle-select','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','text/html','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','grid','text-yellow-800','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','สมการยกกำลัง','classWeaknesses','P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','ref','target','.lastAnswerCorrect','ยืนยันการกระทำ','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','overallGroups','pointermove','topics','removeItem','hidden','generate-from-parallel-test-btn','black-market-modal','password-error-msg','.bp-create-topic-quiz-btn','.status','.delete-submission-btn','readAsDataURL','กำลังสร้างเนื้อหา:\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','live-game','(ฉบับง่าย)\x20','ความคล้ายของรูป','.edit-hidden-file-shortcut-btn','destroy','\x20mb-2\x22>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','.ai-fix-formula-btn','blueprint-input-area','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ\x20(ยกเว้น\x20\x27ซื้อเวลา\x27)','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','additional-file-shortcuts-modal','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','สำหรับโปรเจค:\x20','close-additional-parallel-shortcuts-btn','student-quiz-leaderboard-content','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','</p></div>','คณิตศาสตร์','จำนวนนักเรียน','.pen-color-btn','behavior-log-tab-btn','.bp-live-btn','trim','not_generated','\x22\x20value=\x22false\x22\x20','นกฮูกกลางวัน','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','.topic-name-input','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','use-powerup-wagerMultiplier','fa-shield-alt\x20text-gray-600','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','bg-green-500\x20hover:bg-green-600\x20text-white','ไม่พบเกมที่กำลังเข้าร่วม','playerName','file-shortcut-container','open-blueprint-projects-btn','q-image-container-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.game-start-btn','commonMistakes','parallelTestShortcutsConfig','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','getDocument','multiply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','Error\x20generating\x20from\x20link:','schedule','answers','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','redo-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','ทศนิยม\x20(ค่าประจำหลัก)','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','playerNicknames','none','export-leaderboard-word-btn','md:col-span-3','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','https://corsproxy.io/?','Authentication\x20failed:','lastAnswerCorrect','quiz-generation-area','save-quiz-edits-btn','พิมพ์ตอบ','ปริพันธ์จำกัด','ไม่ได้ตอบ','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x202','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','Error\x20joining\x20sync\x20game:','every','comparison-overall-content','use-powerup-poll','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','Error\x20saving\x20user\x20preference:','lesson-loader','.start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20pointer-events-none\x22>','bg-red-500\x20text-white\x20font-bold','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','สร้างแล้ว','backgroundColor','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','times','.delete-svg-btn','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','manual-create-blueprint-btn','\x20วินาทีสำหรับข้อนี้','includeImages','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','คนคุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','กลุ่ม:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','arrayBuffer','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','text-indigo-600','project-detail-view','questionIndex','separate-by-content-checkbox','isPasscodeEnabled','passcode-prompt-message','mandatory','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','students','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','thead\x20.sortable-header','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นินจาชาเขียว','AI\x20request\x20was\x20blocked.\x20Reason:\x20','Market\x20entry\x20payment\x20failed:','SAFETY','_opt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','use-powerup-secondChance','.question-editor-item','modal-message','close-presentation-btn','firstScore','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-input-area','wagerMultiplier','write','text-blue-700\x20bg-blue-100','<p\x20class=\x22text-xl\x22>','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','Successfully\x20removed\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee.firebasestorage.app','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<br>','link-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-container-id]','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','fa-dumbbell\x20text-gray-700','activeGameSession','Error\x20listening\x20for\x20student\x20profiles:','afterend','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','bg-green-100\x20text-green-800','<button\x20data-tab-id=\x22','fa-user-astronaut\x20text-blue-700','tabId','game-start-modal-title','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','back-to-dashboard-from-results-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการสร้างใบงาน','answer-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','numQuestions','isFinished','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','หัวข้อที่สร้างเอง','\x22>ไม่ใช่</p>','fileShortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showInStudentDashboard','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','approx','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/studentProfiles','thead','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','comparison','text-red-700','ยูทูปเบอร์ฝึกหัด','ผู้เล่น\x20','bg-green-200\x20text-green-800','พาราโบลา','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>','ดาบพิฆาตอสูร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','\x20from\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','stopPropagation','dimmed','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>แก้ตัว\x20(','file-shortcut-url-input','dragover','\x5cfrac{$1}{$2}','questionType','blur','mouse','อัศวินรัตติกาล','touchmove','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','student-quiz-topic','minHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการแก้ไข','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','กรุณาเลือกสถานะ','blob','bg-emerald-100','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','คำถามถัดไป','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','quiz-leaderboard-table','readAsArrayBuffer','quiz-leaderboard-table-body','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','confirm-link-quiz-btn','file-shortcut-editor-modal','บันทึกโปรเจค\x20\x22','dashboardConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.isForcedConfident','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','use-powerup-forceConfident','text-content-input','ฮิสโตแกรม','parse','fiftyFifty','lesson-plan-title','NUMBER','ภูเขา','offsetWidth','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','bg-gray-100\x20opacity-70','gamePin','สามเหลี่ยม\x20(ชนิด/สมบัติ)','Error\x20displaying\x20blueprint\x20project:','แบบทดสอบซ่อมเสริม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แบตหมด','</div></div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','นักวิทยาศาสตร์','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','back-to-results-btn','solution','scrollY','#FEE2E2','bg-white','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','input[type=\x22text\x22]','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','print','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','🛡️\x20ประกันภัย','จำนวนข้อ:','date_desc','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#000000','leaderboard-quiz-tab-content','live-player-management','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','ไม่มีผู้ตอบตัวเลือกนี้','ก่อนเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','confirm-join-game-btn','<span\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีตัวช่วย</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','generationConfig','ระยะทางและจุดกึ่งกลาง','.compare-results-btn','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','bg-green-400\x20text-white\x20font-bold','selectedTopicNames','.edit-hidden-shortcut-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','STOP','ธอร์ค้อนบิน','hint','Error\x20fetching\x20lesson\x20content:','results','contents','date_asc','trail-tool-btn','กำลังสร้างแบบทดสอบ:\x20','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','contains','timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint.pdf','หน่วยเวลาและการคำนวณเวลา','results-quiz-id-display','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','อัตราส่วนและสัดส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','Enter','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','getElementById','.project-card-container[data-id]','use-powerup-','start-sync-game-btn','cdot','<tr\x20class=\x22','กรุณาเลือกคำตอบก่อนครับ','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','hasOwnProperty','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','อัปเดตสถานะสำเร็จ','\x22>จาก:\x20','คนดีศรีสยาม','topicName','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','การประยุกต์เวกเตอร์พื้นฐาน','checkbox','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','flex\x20flex-col\x20gap-2','ดูผลสรุปสุดท้าย','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','การหารเศษส่วน','blueprint-projects-modal','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','bg-gray-500','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','parallelShortcutOrder','scratchpad-options','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','log','</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เลือกผู้เล่น\x201\x20คน\x20ให้ถูกบังคับ\x20\x22มั่นใจ\x22\x20ในข้อนี้','G-V90KRM0L63','Error\x20fetching\x20projects\x20for\x20move:','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','Error\x20confirming\x20players\x20for\x20sync\x20game:','link-url-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','bp-quiz-settings-btn','powerups','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','result','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','sync-timer-duration-container','เลือกและเริ่มสร้าง','appendChild','earned-badges-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','bp-project-title','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','ไม่สามารถบันทึกการตั้งค่าได้','export-compact-pdf-btn','cancel-export-pdf-btn','สิงโตยิ้ม','</td></tr>','list','bg-gray-50','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','student-name-input','การสร้างรูปด้วยวงเวียน–สันตรง','shortcuts-loading-msg','.powerups.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Re-grade\x20process\x20failed:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-target-tab-id=\x22','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','close-lesson-plan-modal-btn','user-id-display','.eraser-size-btn','showRankings','retake-quiz-loop-btn','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timerMode','verify-answers-btn','ไม่พบโปรเจคที่ต้องการลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปคะแนน\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','admin','modal-confidence-mode-select','opacity-50','option','sync-timer-enable-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-visibility-settings-btn','ยอดนักสืบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','ai-quiz-app-aefee.firebaseapp.com','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','pointerdown','จำนวนเชิงซ้อน\x20(เสริม)','เนื้อหาสำหรับสอน:\x20','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','ตัวเลือก\x20ข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.generate-post-test-btn','PROMPT_PLACEHOLDER','OBJECT','จำนวนเต็มลบ','market-item-list','dim-overlay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/blueprintProjects','ม้าดีดกะโหลก','Error\x20updating\x20project\x20color:','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','createdAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว',')\x22><span\x20style=\x22','itemId','<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','upperGroupResponders','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','position','</h3>','upper_group_count','.tab-name-display','คัดลอกไม่สำเร็จ','export-lesson-to-pdf-btn','.pdf','pin','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','Error\x20creating\x20project:','Error\x20moving\x20quiz:','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','comparison-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','incorrect','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','Error\x20joining\x20team\x20quiz:','#e21b3c','timerDuration','eraser','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','cancel-test-btn','.presentation-option','substring','reference_onet.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','live-race','student-passcode-input','.project-card-container.opacity-50','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','โหลดนาน','ลาเต้ไม่หวาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','removeAttribute','ศิลปิน','quiz-form','confirm-team-players-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','classStrengths','2350497cPeJxN','Remedial\x20quiz\x20generation\x20failed:','move-quiz-modal','decode','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','not_confident','postScore','</span></p>','กรุณาเลือกคำตอบของกลุ่ม','Error\x20in\x20handleApiCall:','difficultyValue','</span>\x20','msRequestFullscreen','\x22.\x20Ideal\x20Answer:\x20\x22','lastAnswerIndex','\x20ชุด)','order','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','คะแนนเต็ม','post-test','progress-student-select','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','leaderboard','bulk-quiz-settings-btn','กรุณาเลือกคำตอบ','export-lesson-pdf-btn','.group','/public/data/projects','ปริมาตรรูปทรงสามมิติ','sqrt','text/csv;charset=utf-8;','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.mb-6.p-4','next-sync-question-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','outerHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-sections-container','questionDisplayedAt','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','<div\x20class=\x22my-6\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','bp-modal-num-questions','\x22,\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','subTopics','</div>','file-topics-list','start-game-btn','สายหมอก','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','additional-file-shortcuts-list','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','complexityValue','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','คัดลอกแบบทดสอบสำเร็จ','highlighter','body','suggestedAnswer','กรุณาเลือกโปรเจคที่ต้องการบันทึก','math-topic-search-input','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ผิด','realScore','100px','generate-from-blueprint-btn','/public/data/projects/','innerHTML','student-progress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','สร้างชุดคำถามจับคู่','cloneNode','.edit-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','findIndex','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','lowerGroupNames','mousemove','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-600','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','perfect_score_status','presentation-slide-container','text-purple-600','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เริ่มกิจกรรม:\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','setFont','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','.save-custom-topic-btn','\x22\x20สำเร็จ!','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','ตอบถูก\x203\x20ข้อติดต่อกัน','Error\x20deleting\x20quiz:','scratchpad-modal','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','generate-from-topic-btn','input[name=\x22syncVariant\x22]:checked','.file-shortcut-tab-btn','powerupUsed_q','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','promptFeedback','.space-y-1.pl-4','New\x20question\x20detected.\x20Clearing\x20powerup\x20flags.','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','กำลังจับคู่...','http://www.w3.org/2000/svg','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27jinx\x27.'];_0x56bf=function(){return _0x28b4ef;};return _0x56bf();}function renderAdminSyncQuestionView(_0x26144d){const _0xcb0c0d=_0x1cfa42,_0x2737db=_0x26144d['currentQuestionIndex'],_0x2e218a=_0x26144d[_0xcb0c0d(0x479)][_0xcb0c0d(0xb0f)][_0x2737db],_0x4eff47=_0x26144d[_0xcb0c0d(0x479)][_0xcb0c0d(0xb0f)]['length'],_0x61d00e=Object['values'](_0x26144d['players']||{})[_0xcb0c0d(0x275)](_0x2cc628=>_0x2cc628[_0xcb0c0d(0x657)]!=='inactive'),_0x5edf26=_0x61d00e[_0xcb0c0d(0x275)](_0x4ae0c6=>_0x4ae0c6[_0xcb0c0d(0x39c)])[_0xcb0c0d(0x26d)],_0x3991a8=_0x5edf26===_0x61d00e[_0xcb0c0d(0x26d)]&&_0x61d00e['length']>0x0,_0x2f3fa8=(_0x2e218a[_0xcb0c0d(0x9e4)]||[])['map'](_0x5cb8cb=>_0xcb0c0d(0x1b3)+_0x5cb8cb+'</div>')['join']('');let _0x1b6424='';_0x26144d[_0xcb0c0d(0xc4c)]===_0xcb0c0d(0xdf2)&&(_0x1b6424=_0xcb0c0d(0x20a)+_0x26144d[_0xcb0c0d(0xc91)]+_0xcb0c0d(0x4c4));liveGameView[_0xcb0c0d(0xcf3)]=_0xcb0c0d(0x626)+(_0x2737db+0x1)+'\x20/\x20'+_0x4eff47+_0xcb0c0d(0x92b)+_0x26144d[_0xcb0c0d(0xc84)]+_0xcb0c0d(0xc5f)+_0x5edf26+'/'+_0x61d00e[_0xcb0c0d(0x26d)]+_0xcb0c0d(0x8f6)+_0x1b6424+_0xcb0c0d(0x6ff)+_0x2e218a[_0xcb0c0d(0x324)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x2f3fa8+_0xcb0c0d(0x410)+(!_0x3991a8?_0xcb0c0d(0x635):'')+_0xcb0c0d(0x605);if(window[_0xcb0c0d(0x6b2)])MathJax[_0xcb0c0d(0x255)]();const _0x3889c0=doc(db,_0xcb0c0d(0x7ff)+appId+'/public/data/syncGames',currentLiveGameId);document[_0xcb0c0d(0xbf1)]('show-results-btn')[_0xcb0c0d(0x4ef)](_0xcb0c0d(0x67d),async()=>{const _0x5da6f8=_0xcb0c0d;await updateDoc(_0x3889c0,{'status':_0x5da6f8(0xd4a)});}),document['getElementById'](_0xcb0c0d(0x2d8))[_0xcb0c0d(0x1a5)]=()=>{const _0x432ca7=_0xcb0c0d;openScratchpad(_0x2e218a,_0x2e218a[_0x432ca7(0x9e4)]||[]);},document[_0xcb0c0d(0xbf1)](_0xcb0c0d(0x6d1))[_0xcb0c0d(0x4ef)]('click',()=>{const _0x219f1a=_0xcb0c0d;document[_0x219f1a(0xbf1)](_0x219f1a(0x63c))['classList']['toggle'](_0x219f1a(0xa93));});const _0x61d1d2=document[_0xcb0c0d(0xbf1)]('end-sync-game-btn');_0x61d1d2&&(_0x61d1d2['onclick']=()=>{const _0x318f16=_0xcb0c0d;showConfirmation(_0x318f16(0x46c),async()=>{const _0x14c876=_0x318f16;await updateDoc(_0x3889c0,{'status':_0x14c876(0x3f8)});});});}function renderSyncLeaderboardView(_0x18de95,_0x467635){const _0x4fab6c=_0x1cfa42,_0x1cc3b1=Object['values'](_0x18de95[_0x4fab6c(0x18d)]||{});_0x1cc3b1[_0x4fab6c(0x712)]((_0x500120,_0x174560)=>_0x174560[_0x4fab6c(0xd0e)]-_0x500120[_0x4fab6c(0xd0e)]);const _0x2cfe14=_0x1cc3b1[_0x4fab6c(0xa65)](0x0,0x5);let _0x51fc41='';if(_0x467635){const _0xcbd862=_0x18de95[_0x4fab6c(0x2fc)]>=_0x18de95['shuffledQuiz'][_0x4fab6c(0xb0f)][_0x4fab6c(0x26d)]-0x1;_0x51fc41='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0xcbd862?_0x4fab6c(0xc06):_0x4fab6c(0x987))+_0x4fab6c(0xca8);}else _0x51fc41=_0x4fab6c(0xaab);liveGameView[_0x4fab6c(0xcf3)]=_0x4fab6c(0x69d)+_0x2cfe14[_0x4fab6c(0x469)]((_0x17c48a,_0x580001)=>_0x4fab6c(0x2a0)+(_0x580001+0x1)+'.\x20'+_0x17c48a[_0x4fab6c(0x372)]+'</span><span\x20class=\x22font-bold\x22>'+_0x17c48a[_0x4fab6c(0xd0e)]+_0x4fab6c(0x30c))[_0x4fab6c(0x4ce)]('')+_0x4fab6c(0x2e2)+_0x51fc41+_0x4fab6c(0x1db),_0x467635&&document['getElementById'](_0x4fab6c(0xccc))[_0x4fab6c(0x4ef)]('click',async()=>{const _0x146a9e=_0x4fab6c,_0x1117f2=doc(db,_0x146a9e(0x7ff)+appId+_0x146a9e(0x73f),currentLiveGameId),_0x26ef11=_0x18de95[_0x146a9e(0x2fc)]+0x1;if(_0x26ef11<_0x18de95[_0x146a9e(0x479)]['questions'][_0x146a9e(0x26d)]){const _0x11ce5e={};Object[_0x146a9e(0x972)](_0x18de95[_0x146a9e(0x18d)])['forEach'](_0x577705=>{const _0x2208a8=_0x146a9e;_0x11ce5e[_0x2208a8(0x32c)+_0x577705+_0x2208a8(0xa41)]=![];}),await updateDoc(_0x1117f2,{..._0x11ce5e,'status':_0x146a9e(0x7bc),'currentQuestionIndex':_0x26ef11,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1117f2,{'status':_0x146a9e(0x3f8)});});}async function handleJoinSyncGame(){const _0x34e63f=_0x1cfa42,_0x5ba270=prompt(_0x34e63f(0x362));if(!_0x5ba270||_0x5ba270['trim']()[_0x34e63f(0x26d)]!==0x2){showMessage(_0x34e63f(0x243));return;}try{const _0x3ccb48=collection(db,_0x34e63f(0x7ff)+appId+'/public/data/syncGames'),_0x4e455b=query(_0x3ccb48,where(_0x34e63f(0xc84),'==',_0x5ba270[_0x34e63f(0xab6)]()),where('status','==',_0x34e63f(0xded))),_0x5e7203=await getDocs(_0x4e455b);if(_0x5e7203[_0x34e63f(0x5f1)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x102ca9=_0x5e7203['docs'][0x0];currentLiveGameId=_0x102ca9['id'];const _0x1fc6b5=_0x102ca9['data'](),_0x173f6d=doc(db,_0x34e63f(0x7ff)+appId+'/public/data/quizzes',_0x1fc6b5['quizId']),_0x34b427=await getDoc(_0x173f6d);if(!_0x34b427[_0x34e63f(0x2b1)]())throw new Error(_0x34e63f(0x7f1));const _0x1dc631=_0x34b427[_0x34e63f(0x934)](),_0x55f0da=doc(db,_0x34e63f(0x7ff)+appId+_0x34e63f(0xcc5),_0x1dc631['projectId']),_0x29a64a=await getDoc(_0x55f0da);if(!_0x29a64a[_0x34e63f(0x2b1)]())throw new Error(_0x34e63f(0x466));currentQuizData=_0x1fc6b5['shuffledQuiz'];const _0x5b375b=_0x29a64a[_0x34e63f(0x934)]();showView('student-team-join'),showTeamPlayerSelection(_0x5b375b[_0x34e63f(0xb22)],_0x1dc631[_0x34e63f(0x3b7)]);const _0x1b9f8e=document[_0x34e63f(0xbf1)](_0x34e63f(0xca7));_0x1b9f8e[_0x34e63f(0x1a5)]=confirmAndJoinSyncGame;}catch(_0x585d15){console[_0x34e63f(0x3f5)](_0x34e63f(0xaf1),_0x585d15),showMessage(_0x34e63f(0x699)+_0x585d15[_0x34e63f(0x495)]);}}function updateStudentSyncView(_0x29a008){const _0x18b2d4=_0x1cfa42,_0x2af97e=_0x29a008[_0x18b2d4(0x18d)][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x29a008[_0x18b2d4(0x657)]){case _0x18b2d4(0xded):showView('live-game'),liveGameView[_0x18b2d4(0xcf3)]=_0x18b2d4(0x5f6);break;case _0x18b2d4(0x7bc):if(_0x29a008[_0x18b2d4(0x2fc)]!==lastSeenQuestionIndex){console[_0x18b2d4(0xc15)](_0x18b2d4(0xd1f)),sessionStorage[_0x18b2d4(0xa92)](_0x18b2d4(0x3a0)),sessionStorage[_0x18b2d4(0xa92)](_0x18b2d4(0x5b7)),sessionStorage['removeItem']('pollUsedThisTurn');const _0x53ca68=_0x18b2d4(0xa59)+lastSeenQuestionIndex,_0x26a9b2=_0x18b2d4(0xd19)+lastSeenQuestionIndex,_0x3c6c1a='hiddenOptions_q'+lastSeenQuestionIndex;Object[_0x18b2d4(0x972)](sessionStorage)['forEach'](_0x15ce14=>{const _0x4cbcf9=_0x18b2d4;(_0x15ce14[_0x4cbcf9(0x5d1)](_0x53ca68)||_0x15ce14['startsWith'](_0x26a9b2)||_0x15ce14[_0x4cbcf9(0x5d1)](_0x3c6c1a))&&sessionStorage['removeItem'](_0x15ce14);}),lastSeenQuestionIndex=_0x29a008[_0x18b2d4(0x2fc)];}localPlayerTurnIndex=0x0;const _0x3a0688=localTeamPlayers[_0x18b2d4(0xaf2)](_0x4fa3c1=>_0x29a008['players'][_0x4fa3c1]?.[_0x18b2d4(0x39c)]===!![]);if(_0x3a0688)liveGameView[_0x18b2d4(0xcf3)]=_0x18b2d4(0xccd);else{renderStudentSyncQuestionView(_0x29a008);if(_0x29a008[_0x18b2d4(0xc4c)]==='per_question'){if(!_0x29a008[_0x18b2d4(0xcd2)]){console[_0x18b2d4(0xc15)](_0x18b2d4(0x53d));return;}const _0x3b6b79=_0x29a008[_0x18b2d4(0xcd2)][_0x18b2d4(0x82a)]()['getTime'](),_0x3bd12d=_0x29a008['timerDuration']*0x3e8,_0x4bc9f2=localTeamPlayers[_0x18b2d4(0x469)](_0x22d7d5=>_0x29a008[_0x18b2d4(0x18d)][_0x22d7d5]?.[_0x18b2d4(0x588)]||0x0),_0x78e64c=Math['max'](..._0x4bc9f2,0x0),_0x10fe9d=_0x3b6b79+_0x3bd12d+_0x78e64c;syncQuestionTimerInterval=setInterval(()=>{const _0x37df54=_0x18b2d4,_0x3c5087=_0x10fe9d-Date[_0x37df54(0x24a)](),_0x2f4f08=document[_0x37df54(0xbf1)](_0x37df54(0x17d)),_0x49b20b=document[_0x37df54(0xbf1)](_0x37df54(0x669));if(_0x3c5087<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x2f4f08)_0x2f4f08[_0x37df54(0x403)][_0x37df54(0x491)]='0%';if(_0x49b20b)_0x49b20b[_0x37df54(0x617)]='0';liveGameView['innerHTML']=_0x37df54(0x91e);}else{if(_0x2f4f08&&_0x49b20b){const _0x8df43b=_0x3bd12d+_0x78e64c,_0x30b63d=_0x8df43b>0x0?_0x3c5087/_0x8df43b*0x64:0x0;_0x2f4f08['style'][_0x37df54(0x491)]=_0x30b63d+'%',_0x49b20b[_0x37df54(0x617)]=Math['ceil'](_0x3c5087/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x18b2d4(0xcf3)]=_0x18b2d4(0x37f);break;case'results':localPlayerTurnIndex=0x0;const _0x59076f=_0x29a008[_0x18b2d4(0x4a9)]||'classic';if(_0x59076f===_0x18b2d4(0xe10))renderStudentAnonymousResultsView(_0x29a008,_0x29a008[_0x18b2d4(0x2fc)]);else _0x59076f===_0x18b2d4(0x4b8)?renderStudentCompetitionResultsView(_0x29a008,_0x29a008[_0x18b2d4(0x2fc)]):renderStudentSyncResultsView(_0x29a008);break;case _0x18b2d4(0x3f8):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x18b2d4(0x85c)](_0x18b2d4(0x230),handleFullscreenChange),document[_0x18b2d4(0x85c)](_0x18b2d4(0xe05),handleVisibilityChange),sessionStorage['removeItem'](_0x18b2d4(0xb46));const _0x19d457=calculateFinalPodiumScores(_0x29a008);showPodiumView(_0x19d457,'sync',_0x29a008);break;}}function renderStudentSyncResultsView(_0x3e2a43){const _0x276b6b=_0x1cfa42,_0x58584d=localTeamPlayers[_0x276b6b(0x469)](_0x596cd0=>_0x3e2a43[_0x276b6b(0x18d)][_0x596cd0])[_0x276b6b(0x275)](Boolean);_0x58584d['sort']((_0x303e87,_0x43dc28)=>(_0x43dc28['score']||0x0)-(_0x303e87[_0x276b6b(0xd0e)]||0x0));const _0x320aa5=_0x3e2a43[_0x276b6b(0x4a9)]||_0x276b6b(0x6d0),_0x904cc7=_0x3e2a43[_0x276b6b(0x479)][_0x276b6b(0xb0f)];let _0x53f5a1='';if(_0x320aa5===_0x276b6b(0x2e5)){const _0x43941c=_0x3e2a43['reviewQuestionIndex']>=_0x904cc7[_0x276b6b(0x26d)]-0x1;_0x43941c?_0x53f5a1=_0x276b6b(0xdb3):_0x53f5a1=_0x276b6b(0x233);}else{const _0x3d990e=_0x3e2a43[_0x276b6b(0x2fc)]>=_0x904cc7[_0x276b6b(0x26d)]-0x1;_0x3d990e?_0x53f5a1=_0x276b6b(0xdb3):_0x53f5a1='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';}const _0x17a173=_0x276b6b(0xcf5)+_0x58584d['map']((_0x2f0fc6,_0x114bc2)=>_0x276b6b(0xa7b)+(_0x114bc2+0x1)+_0x276b6b(0x1ad)+_0x2f0fc6[_0x276b6b(0x372)]+_0x276b6b(0x2e9)+_0x2f0fc6[_0x276b6b(0xd0e)]+_0x276b6b(0x6ca))[_0x276b6b(0x4ce)]('')+_0x276b6b(0xcd5)+_0x53f5a1+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x276b6b(0xcf3)]=_0x17a173;}function renderStudentAnonymousResultsView(_0x37b560,_0x2100ab){const _0x50a6e6=_0x1cfa42,_0x24543e=Object[_0x50a6e6(0xdc2)](_0x37b560[_0x50a6e6(0x18d)]||{}),_0x590409=_0x2100ab,_0x24cd2f=_0x37b560['gameVariant']||'classic',_0x3626ed=_0x37b560['isAnonymousRevealed']===!![],_0x4ea157=_0x37b560[_0x50a6e6(0x479)][_0x50a6e6(0xb0f)],_0x82e7e8=_0x24543e[_0x50a6e6(0x469)](_0x54d1fb=>{const _0x519e7f=_0x50a6e6,_0x5b8ddd=_0x54d1fb[_0x519e7f(0xd0e)]||0x0,_0x49cdd8=_0x54d1fb[_0x519e7f(0x60e)]||0x0,_0x91d9ed=(_0x54d1fb[_0x519e7f(0xad5)]||[])[_0x519e7f(0x275)](_0xec285c=>_0x24cd2f===_0x519e7f(0x2e5)?_0xec285c[_0x519e7f(0xb1c)]<=_0x590409:!![]);return{..._0x54d1fb,'realScore':_0x5b8ddd,'totalPoints':_0x49cdd8,'answers':_0x91d9ed};}),_0x216f04=[..._0x82e7e8][_0x50a6e6(0x712)]((_0x32c62e,_0x4b1298)=>_0x4b1298[_0x50a6e6(0x60e)]-_0x32c62e[_0x50a6e6(0x60e)]),_0xb90f4d=_0x216f04['length']>0x0?_0x216f04[0x0][_0x50a6e6(0x60e)]:0x0;let _0x29b4c2=null;const _0x462b79=_0x82e7e8[_0x50a6e6(0x275)](_0xbce7fc=>localTeamPlayers[_0x50a6e6(0x1ef)](_0xbce7fc[_0x50a6e6(0x372)]));_0x29b4c2=_0x462b79[_0x50a6e6(0x26d)]>0x0?_0x462b79['sort']((_0x1ca921,_0x2868e6)=>_0x2868e6[_0x50a6e6(0x60e)]-_0x1ca921[_0x50a6e6(0x60e)])[0x0]:null;if(!_0x29b4c2){liveGameView[_0x50a6e6(0xcf3)]=_0x50a6e6(0xa68);return;}const _0x1d955e=_0x29b4c2[_0x50a6e6(0x60e)]===_0xb90f4d&&_0xb90f4d>0x0,_0x16b386=_0x37b560[_0x50a6e6(0x646)]===!![],_0x1383fd=_0x2100ab+0x1,_0x36c168=_0x82e7e8[_0x50a6e6(0x275)](_0x3715d3=>_0x3715d3[_0x50a6e6(0xcef)]===_0x1383fd&&(_0x3715d3['answers']||[])['length']===_0x1383fd&&_0x1383fd>0x0),_0x2a2997=_0x36c168[_0x50a6e6(0x26d)]>0x0?Math['max'](..._0x36c168[_0x50a6e6(0x469)](_0x4ac5bb=>_0x4ac5bb[_0x50a6e6(0x60e)])):-Infinity,_0x1356a6=_0x216f04['map']((_0x5151ce,_0x34a369)=>{const _0xc9a088=_0x50a6e6,_0x1c74b9=_0x5151ce[_0xc9a088(0xcef)],_0x252b3a=_0x5151ce['totalPoints'],_0x8ee89e=_0x5151ce['answers'][_0xc9a088(0x26d)],_0x4b6f00=(_0x5151ce[_0xc9a088(0xad5)]||[])['find'](_0x4958fb=>_0x4958fb[_0xc9a088(0xb1c)]===_0x2100ab);let _0x1caa9c='';_0x4b6f00&&(_0x4b6f00[_0xc9a088(0x289)]&&(_0x1caa9c+=_0xc9a088(0x526)),_0x4b6f00[_0xc9a088(0x966)]&&(_0x1caa9c+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>'),_0x4b6f00[_0xc9a088(0x4b5)]&&(_0x1caa9c+=_0xc9a088(0x8f9)));let _0x301c91='';const _0x45d890=_0x5151ce[_0xc9a088(0xad5)][_0xc9a088(0x26d)],_0x1b5cec=_0x5151ce[_0xc9a088(0xcef)]===_0x1383fd&&_0x45d890===_0x1383fd&&_0x1383fd>0x0;if(_0x16b386){const _0x3cdc81=_0x1b5cec&&_0x5151ce[_0xc9a088(0x60e)]===_0x2a2997;if(_0x3cdc81)_0x301c91='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x1b5cec&&(_0x301c91='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>');}else{if(_0x45d890===_0x1383fd&&_0x1383fd>0x0){let _0x5575b3=_0x1383fd;_0x37b560[_0xc9a088(0x794)]&&(_0x5575b3=_0x1383fd*0x2);const _0x35ed48=_0x5151ce['totalPoints']===_0x5575b3;if(_0x35ed48)_0x301c91=_0xc9a088(0x203);else _0x1b5cec&&(_0x301c91='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>');}}if(_0x301c91===''){if(_0x252b3a<0x0)_0x301c91='<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>';else _0x1c74b9===0x0&&_0x45d890>0x0&&(_0x301c91='<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>');}let _0x37c601=_0xc9a088(0x5f4);const _0x50c1c7=(_0x5151ce[_0xc9a088(0xad5)]||[])['find'](_0x2d5982=>_0x2d5982[_0xc9a088(0xb1c)]===_0x590409);if(_0x50c1c7){const _0x4c688c=_0x50c1c7['isCorrect'],_0x46973b=_0x50c1c7[_0xc9a088(0x87f)]===!![]||_0x50c1c7['wasConfident']===_0xc9a088(0x93a),_0x510511=_0x50c1c7[_0xc9a088(0x2e1)];if(_0x510511===_0xc9a088(0xb36))_0x37c601=_0x4c688c?'bg-yellow-300\x20text-yellow-900\x20font-bold':_0xc9a088(0xdd5);else{if(_0x46973b)_0x37c601=_0x4c688c?_0xc9a088(0x6d6):_0xc9a088(0x978);else _0x4c688c&&(_0x37c601=_0xc9a088(0x957));}}let _0x498429='';const _0x5379d2=_0x5151ce[_0xc9a088(0x372)],_0x3f6b25=_0x37b560[_0xc9a088(0xadd)][_0x5151ce['name']]||_0xc9a088(0x200),_0x48e20f=_0xc9a088(0x94f),_0x26ca63='word-break:\x20break-all;',_0xcd8bed=localTeamPlayers[_0xc9a088(0x1ef)](_0x5379d2),_0x2ab91a=_0x29b4c2[_0xc9a088(0x60e)],_0x463877=_0x5151ce[_0xc9a088(0x60e)];_0x3626ed?_0x498429=_0xc9a088(0x86b)+_0x48e20f+_0xc9a088(0x33e)+_0x5379d2+'\x20('+_0x3f6b25+_0xc9a088(0xc76)+_0x26ca63+'\x22>'+_0x5379d2+_0xc9a088(0xcb5)+_0x1caa9c+'\x20'+_0x301c91+_0xc9a088(0x522)+_0x26ca63+_0xc9a088(0x8db)+_0x3f6b25+_0xc9a088(0x7c2):_0xcd8bed?_0x1d955e?_0x498429=_0xc9a088(0x86b)+_0x48e20f+'\x22\x20title=\x22'+_0x5379d2+'\x20('+_0x3f6b25+')\x22><span\x20style=\x22'+_0x26ca63+'\x22>'+_0x5379d2+_0xc9a088(0xcb5)+_0x1caa9c+'\x20'+_0x301c91+_0xc9a088(0x522)+_0x26ca63+_0xc9a088(0x8db)+_0x3f6b25+_0xc9a088(0x7c2):_0x498429='<div\x20style=\x22'+_0x48e20f+_0xc9a088(0x33e)+_0x3f6b25+_0xc9a088(0x3e4)+_0x26ca63+'\x22>'+_0x3f6b25+'</span>\x20'+_0x1caa9c+'\x20'+_0x301c91+_0xc9a088(0xcdd):_0x2ab91a>_0x463877?_0x498429=_0xc9a088(0x86b)+_0x48e20f+_0xc9a088(0x33e)+_0x5379d2+'\x20('+_0x3f6b25+_0xc9a088(0xc76)+_0x26ca63+'\x22>'+_0x5379d2+_0xc9a088(0xcb5)+_0x1caa9c+'\x20'+_0x301c91+_0xc9a088(0x522)+_0x26ca63+_0xc9a088(0x8db)+_0x3f6b25+_0xc9a088(0x7c2):_0x498429='<div\x20style=\x22'+_0x48e20f+'\x22\x20title=\x22'+_0x3f6b25+'\x22><span\x20style=\x22'+_0x26ca63+'\x22>'+_0x3f6b25+'</span>\x20'+_0x1caa9c+'\x20'+_0x301c91+_0xc9a088(0xcdd);const _0x26c682=_0x252b3a>=0x0?'(+'+_0x252b3a+')':'('+_0x252b3a+')',_0x7ad0bd=_0xc9a088(0xb25)+_0x5151ce[_0xc9a088(0xcef)]+_0xc9a088(0x62b)+_0x26c682+_0xc9a088(0x6ee);return _0xc9a088(0x941)+_0x37c601+_0xc9a088(0x766)+(_0x34a369+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x498429+_0xc9a088(0x49c)+_0x7ad0bd+_0xc9a088(0xdbf);})[_0x50a6e6(0x4ce)]('');let _0x34dac7='';const _0xb2ae2f=_0x24cd2f===_0x50a6e6(0x2e5)?_0x37b560[_0x50a6e6(0x35e)]>=_0x4ea157['length']-0x1:_0x37b560['currentQuestionIndex']>=_0x4ea157['length']-0x1;_0xb2ae2f?_0x34dac7='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x34dac7=_0x50a6e6(0xb88);const _0x4c5dc3=_0x50a6e6(0xc4f)+_0x1356a6+_0x50a6e6(0x5a8)+_0x34dac7+_0x50a6e6(0x1db);liveGameView[_0x50a6e6(0xcf3)]=_0x4c5dc3;}function renderStudentCompetitionResultsView(_0x102f61,_0x2d05f1){const _0x3f8662=_0x1cfa42,_0x56ea66=Object[_0x3f8662(0xdc2)](_0x102f61[_0x3f8662(0x18d)]||{}),_0x16f9c9=_0x2d05f1,_0x449fa5=_0x102f61['gameVariant']||_0x3f8662(0x6d0),_0x3fd338=_0x102f61[_0x3f8662(0x479)][_0x3f8662(0xb0f)],_0x5e7466=_0x56ea66[_0x3f8662(0x469)](_0x55efdc=>{const _0x4afc3e=_0x3f8662,_0x1453dc=_0x55efdc['score']||0x0,_0x5ad6ae=_0x55efdc[_0x4afc3e(0x60e)]||0x0,_0x3b4547=(_0x55efdc[_0x4afc3e(0xad5)]||[])[_0x4afc3e(0x275)](_0x4c3086=>_0x449fa5===_0x4afc3e(0x2e5)?_0x4c3086[_0x4afc3e(0xb1c)]<=_0x16f9c9:!![]);return{..._0x55efdc,'realScore':_0x1453dc,'totalPoints':_0x5ad6ae,'answers':_0x3b4547};}),_0x4eef60=[..._0x5e7466][_0x3f8662(0x712)]((_0x687dcf,_0x4a7a91)=>_0x4a7a91[_0x3f8662(0x60e)]-_0x687dcf[_0x3f8662(0x60e)]),_0x3a1215=_0x4eef60[_0x3f8662(0x469)]((_0x1701a0,_0x2a1616)=>{const _0x18d0f1=_0x3f8662,_0x2f7daa='';let _0x8edb47=_0x18d0f1(0x5f4);const _0x2bcb1c=_0x1701a0[_0x18d0f1(0x372)],_0x5546fc=_0x18d0f1(0x94f),_0x3de41a=_0x18d0f1(0xa67),_0x4cbfca=_0x18d0f1(0x86b)+_0x5546fc+_0x18d0f1(0x33e)+_0x2bcb1c+'\x22><span\x20style=\x22'+_0x3de41a+'\x22>'+_0x2bcb1c+_0x18d0f1(0x6ee)+_0x2f7daa+_0x18d0f1(0xcdd),_0x4939d5='';return _0x18d0f1(0x941)+_0x8edb47+_0x18d0f1(0x766)+(_0x2a1616+0x1)+_0x18d0f1(0xd02)+_0x4cbfca+_0x18d0f1(0x49c)+_0x4939d5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3f8662(0x4ce)]('');let _0x510f28='';const _0x652b0c=_0x449fa5===_0x3f8662(0x2e5)?_0x102f61[_0x3f8662(0x35e)]>=_0x3fd338[_0x3f8662(0x26d)]-0x1:_0x102f61[_0x3f8662(0x2fc)]>=_0x3fd338[_0x3f8662(0x26d)]-0x1;_0x652b0c?_0x510f28=_0x3f8662(0xdb3):_0x510f28=_0x3f8662(0xb88);const _0x4a2d76=_0x3f8662(0xac1)+_0x3a1215+_0x3f8662(0x5a8)+_0x510f28+_0x3f8662(0x1db);liveGameView['innerHTML']=_0x4a2d76;}function renderStudentSyncQuestionView(_0x4c8696){const _0x1258e5=_0x1cfa42,_0x1aea8c=localTeamPlayers[_0x1258e5(0x633)](_0x3e8e68=>_0x4c8696[_0x1258e5(0x18d)][_0x3e8e68]&&_0x4c8696[_0x1258e5(0x18d)][_0x3e8e68]['answered']===![]);if(!_0x1aea8c){console[_0x1258e5(0xc15)](_0x1258e5(0x47e));return;}const _0xec9a8=_0x4c8696['players'][_0x1aea8c],_0x4935ab=_0xec9a8[_0x1258e5(0x60e)]||0x0,_0x290544=_0xec9a8['powerups']||{},_0x22ba3a=_0x4c8696[_0x1258e5(0x2fc)],_0x51cabb=_0x4c8696['shuffledQuiz']['questions'][_0x1258e5(0x26d)],_0x5f1a2e=_0x4c8696['shuffledQuiz'][_0x1258e5(0xb0f)][_0x22ba3a],_0x22da8c=_0x5f1a2e[_0x1258e5(0xb83)]||_0x4c8696[_0x1258e5(0x479)][_0x1258e5(0x4c3)];let _0x9c24ed='',_0x2c8beb=![];const _0x3352c0='hiddenOptions_q'+_0x22ba3a+'_p'+_0x1aea8c,_0x46e490=JSON['parse'](sessionStorage['getItem'](_0x3352c0)||'[]')['map'](String);switch(_0x22da8c){case _0x1258e5(0x1cb):const _0x24b5cd=_0x46e490[_0x1258e5(0x1ef)]('0')?'':_0x1258e5(0x83b),_0x340e25=_0x46e490[_0x1258e5(0x1ef)]('1')?'':'<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>';_0x9c24ed=_0x24b5cd+_0x340e25;break;case'short_answer':case _0x1258e5(0x30a):_0x2c8beb=!![],_0x9c24ed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1258e5(0x2bf):_0x2c8beb=!![],_0x9c24ed=_0x1258e5(0x434)+(_0x5f1a2e['allResponses']||[])['map'](_0x360eea=>_0x1258e5(0x7ce)+_0x360eea+'\x22>'+_0x360eea+_0x1258e5(0x224))[_0x1258e5(0x4ce)]('')+_0x1258e5(0x4c6);break;case'multiple_choice':default:_0x9c24ed=(_0x5f1a2e['options']||[])[_0x1258e5(0x469)]((_0x4c3837,_0x28abeb)=>{const _0x19dd95=_0x1258e5;if(_0x46e490['includes'](_0x28abeb[_0x19dd95(0x701)]()))return'';return'<button\x20data-value=\x22'+_0x28abeb+_0x19dd95(0x651)+_0x4c3837+'</button>';})[_0x1258e5(0x4ce)]('');break;}let _0xd7a188='';_0x4c8696[_0x1258e5(0xc4c)]===_0x1258e5(0xdf2)&&(_0xd7a188='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x4c8696[_0x1258e5(0xc91)]+_0x1258e5(0x4c4));let _0x2cc7b0='';if(_0x4c8696[_0x1258e5(0x646)]===!![]){const _0x57db6a=[_0x290544['fiftyFifty']>0x0?_0x1258e5(0x768)+_0x290544[_0x1258e5(0xba4)]+_0x1258e5(0x8af):'',_0x290544[_0x1258e5(0xd9b)]>0x0?_0x1258e5(0x58d)+_0x290544[_0x1258e5(0xd9b)]+_0x1258e5(0x8af):'',_0x290544[_0x1258e5(0xa0a)]>0x0?'<button\x20id=\x22use-powerup-poll\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>สถิติ\x20('+_0x290544[_0x1258e5(0xa0a)]+_0x1258e5(0x8af):'',_0x290544[_0x1258e5(0x206)]>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ประกันภัย\x20('+_0x290544[_0x1258e5(0x206)]+_0x1258e5(0x8af):'',_0x290544[_0x1258e5(0xb36)]>0x0?_0x1258e5(0x2b5)+_0x290544['wagerMultiplier']+_0x1258e5(0x8af):'',_0x290544[_0x1258e5(0x971)]>0x0?'<button\x20id=\x22use-powerup-forceConfident\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>บังคับมั่นใจ\x20('+_0x290544[_0x1258e5(0x971)]+_0x1258e5(0x8af):'',_0x290544[_0x1258e5(0x521)]>0x0?_0x1258e5(0x2cb)+_0x290544[_0x1258e5(0x521)]+_0x1258e5(0x8af):'',_0x290544[_0x1258e5(0x556)]>0x0?_0x1258e5(0xb7f)+_0x290544[_0x1258e5(0x556)]+_0x1258e5(0x8af):'',_0x290544[_0x1258e5(0x85d)]>0x0?_0x1258e5(0x40f)+_0x290544[_0x1258e5(0x85d)]+')</button>':''][_0x1258e5(0x275)](Boolean)[_0x1258e5(0x4ce)]('\x20');_0x2cc7b0=_0x1258e5(0xa4d)+_0x4935ab+_0x1258e5(0x3cc)+(_0x57db6a||_0x1258e5(0xbcd))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x3c424d=sessionStorage[_0x1258e5(0x1fd)](_0x1258e5(0x3a0));let _0xb61243='';if(_0x3c424d===_0x1258e5(0x206))_0xb61243=_0x1258e5(0x896);else{if(_0x3c424d===_0x1258e5(0xb36))_0xb61243='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-semibold\x20mb-3\x20animate-pulse\x22>💰\x20โหมดเดิมพันทำงานอยู่!\x20(เลือกคำตอบเพื่อเดิมพัน)</div>';else _0x3c424d==='secondChance'&&(_0xb61243=_0x1258e5(0xb78));}liveGameView[_0x1258e5(0xcf3)]=_0x1258e5(0x1fe)+(_0x22ba3a+0x1)+_0x1258e5(0x7b1)+_0x51cabb+_0x1258e5(0x377)+_0x1aea8c+_0x1258e5(0x731)+_0xd7a188+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2cc7b0+_0x1258e5(0x547)+_0xb61243+_0x1258e5(0xd14)+(_0x5f1a2e[_0x1258e5(0x324)]||_0x5f1a2e['stem'])+_0x1258e5(0x4a4)+_0x9c24ed+_0x1258e5(0x98e);if(window[_0x1258e5(0x6b2)])MathJax[_0x1258e5(0x255)]();function _0x35ba8e(_0x32a6ab,_0x559665,_0x1dee71,_0x5f5564){const _0x122bf0=_0x1258e5,_0x49d458=_0x1dee71[_0x122bf0(0x794)]===!![],_0x38bccf=_0x1dee71[_0x122bf0(0x2fc)],_0xa0c90d=_0x122bf0(0xd19)+_0x38bccf+'_p'+_0x5f5564,_0x1d3ce3=sessionStorage[_0x122bf0(0x1fd)](_0xa0c90d),_0x2b4664=_0x1d3ce3===_0x122bf0(0xb36),_0x3a025b=_0x1dee71[_0x122bf0(0x18d)][_0x5f5564];if(_0x2b4664){const _0x2e1998=document[_0x122bf0(0xbf1)](_0x122bf0(0x311)),_0x43cf2d=document[_0x122bf0(0xbf1)](_0x122bf0(0x22e)),_0x255be6=document[_0x122bf0(0xbf1)](_0x122bf0(0x965)),_0x259ef0=document['getElementById'](_0x122bf0(0x4f7)),_0x3f054a=_0x3a025b[_0x122bf0(0x60e)]||0x0;_0x43cf2d[_0x122bf0(0x69c)]=_0x3f054a,_0x43cf2d[_0x122bf0(0x49f)]=0x0,_0x255be6[_0x122bf0(0x617)]=0x0,_0x259ef0[_0x122bf0(0x617)]=_0x3f054a,_0x43cf2d[_0x122bf0(0x65d)]=()=>{const _0x1d4e35=_0x122bf0;_0x255be6[_0x1d4e35(0x617)]=_0x43cf2d['value'];};const _0x11c802=document[_0x122bf0(0xbf1)](_0x122bf0(0x89a));_0x11c802['dataset'][_0x122bf0(0x9db)]=_0x32a6ab,_0x11c802[_0x122bf0(0x2b9)][_0x122bf0(0x7bc)]=JSON[_0x122bf0(0x2a1)](_0x559665),_0x11c802[_0x122bf0(0x2b9)][_0x122bf0(0xa36)]=JSON['stringify'](_0x1dee71),_0x11c802[_0x122bf0(0x2b9)][_0x122bf0(0xac5)]=_0x5f5564,_0x2e1998[_0x122bf0(0xe06)]['remove'](_0x122bf0(0xa93));}else{if(_0x49d458){document[_0x122bf0(0xbf1)]('confidence-modal')[_0x122bf0(0x2b9)]['currentMode']=_0x122bf0(0x7f0);const _0x21a1d8=document[_0x122bf0(0xbf1)](_0x122bf0(0x4a2));_0x21a1d8['dataset']['answerValue']=_0x32a6ab,_0x21a1d8['dataset'][_0x122bf0(0x7bc)]=JSON[_0x122bf0(0x2a1)](_0x559665),_0x21a1d8[_0x122bf0(0x2b9)][_0x122bf0(0xa36)]=JSON['stringify'](_0x1dee71),_0x21a1d8[_0x122bf0(0x2b9)][_0x122bf0(0xac5)]=_0x5f5564,document[_0x122bf0(0xbf1)](_0x122bf0(0x86c))['classList'][_0x122bf0(0xb55)](_0x122bf0(0xa93));}else handleSyncAnswerSubmit(_0x32a6ab,_0x559665,_0x1dee71,_0x5f5564,![],0x0);}}_0x2c8beb?document[_0x1258e5(0xbf1)](_0x1258e5(0x352))[_0x1258e5(0x4ef)]('click',()=>{const _0x1a12dc=_0x1258e5,_0x1cbff5=document[_0x1a12dc(0xbf1)](_0x1a12dc(0x95c))||document[_0x1a12dc(0xbf1)](_0x1a12dc(0x72e));if(_0x1cbff5[_0x1a12dc(0x49f)][_0x1a12dc(0xab6)]()===''){showMessage(_0x1a12dc(0x625));return;}_0x35ba8e(_0x1cbff5[_0x1a12dc(0x49f)],_0x5f1a2e,_0x4c8696,_0x1aea8c);}):document['querySelectorAll'](_0x1258e5(0xdf1))['forEach'](_0x2b6ae1=>{const _0x30f9b5=_0x1258e5;_0x2b6ae1['addEventListener'](_0x30f9b5(0x67d),()=>{const _0x206aff=_0x30f9b5;_0x35ba8e(_0x2b6ae1[_0x206aff(0x2b9)][_0x206aff(0x49f)],_0x5f1a2e,_0x4c8696,_0x1aea8c);});});if(_0x4c8696[_0x1258e5(0x646)]===!![]){const _0x57424c=document[_0x1258e5(0xbf1)](_0x1258e5(0xe11));_0x57424c&&_0x57424c['addEventListener'](_0x1258e5(0x67d),()=>{const _0x493d62=_0x1258e5,_0x319701=_0x4c8696[_0x493d62(0x2fc)],_0xd68e44=_0x1aea8c,_0x21a094='freeMarketEntryUsed_q'+_0x319701+'_p'+_0xd68e44,_0x20756a=sessionStorage[_0x493d62(0x1fd)](_0x21a094)===_0x493d62(0x93f);if(!_0x20756a)console['log'](_0x493d62(0x792)+_0x319701+_0x493d62(0x3de)),openBlackMarket(_0x4c8696,_0xec9a8),sessionStorage[_0x493d62(0x958)](_0x21a094,_0x493d62(0x93f));else{console['log']('เข้าตลาดมืดครั้งที่\x202+\x20(ข้อ\x20'+_0x319701+_0x493d62(0x753));if(_0xec9a8[_0x493d62(0x60e)]<0x1){showMessage(_0x493d62(0x83d));return;}showConfirmation(_0x493d62(0x4b0),()=>{handlePayForMarketEntry(_0x1aea8c,_0x4c8696,_0xec9a8);});}}),document[_0x1258e5(0xbf1)](_0x1258e5(0xaf4))?.[_0x1258e5(0x4ef)](_0x1258e5(0x67d),_0x36110d=>{const _0x4e345a=_0x1258e5,_0x14a801=_0x36110d[_0x4e345a(0xa8b)];_0x14a801[_0x4e345a(0x635)]=!![],showConfirmation(_0x4e345a(0x879),()=>{const _0x5ebeb9=_0x4e345a;handleUsePowerup(_0x1aea8c,_0x5ebeb9(0xa0a),_0x5f1a2e,_0x4c8696,_0xec9a8);},()=>{const _0x3fa5e8=_0x4e345a;_0x14a801[_0x3fa5e8(0x635)]=![];});}),document[_0x1258e5(0xbf1)]('use-powerup-buyTime')?.[_0x1258e5(0x4ef)]('click',_0x51c155=>{const _0x461c60=_0x1258e5;_0x51c155[_0x461c60(0xa8b)][_0x461c60(0x635)]=!![],handleUsePowerup(_0x1aea8c,_0x461c60(0x85d),_0x5f1a2e,_0x4c8696,_0xec9a8);}),document[_0x1258e5(0xbf1)](_0x1258e5(0x502))?.[_0x1258e5(0x4ef)](_0x1258e5(0x67d),_0x3169e6=>{const _0x2d6a65=_0x1258e5;_0x3169e6[_0x2d6a65(0xa8b)][_0x2d6a65(0x635)]=!![],handleUsePowerup(_0x1aea8c,_0x2d6a65(0x521),_0x5f1a2e,_0x4c8696,_0xec9a8);}),document[_0x1258e5(0xbf1)](_0x1258e5(0x5dd))?.[_0x1258e5(0x4ef)](_0x1258e5(0x67d),_0x141218=>{const _0x12f74b=_0x1258e5;_0x141218['target']['disabled']=!![],handleUsePowerup(_0x1aea8c,_0x12f74b(0xd9b),_0x5f1a2e,_0x4c8696,_0xec9a8);}),document[_0x1258e5(0xbf1)]('use-powerup-insurance')?.[_0x1258e5(0x4ef)](_0x1258e5(0x67d),_0x56efb1=>{const _0x41070e=_0x1258e5;_0x56efb1[_0x41070e(0xa8b)][_0x41070e(0x635)]=!![],handleUsePowerup(_0x1aea8c,_0x41070e(0x206),_0x5f1a2e,_0x4c8696,_0xec9a8);}),document[_0x1258e5(0xbf1)](_0x1258e5(0xabe))?.[_0x1258e5(0x4ef)]('click',_0x25565d=>{const _0x219471=_0x1258e5;_0x25565d['target'][_0x219471(0x635)]=!![],handleUsePowerup(_0x1aea8c,'wagerMultiplier',_0x5f1a2e,_0x4c8696,_0xec9a8);}),document[_0x1258e5(0xbf1)](_0x1258e5(0xba0))?.[_0x1258e5(0x4ef)](_0x1258e5(0x67d),_0x1a865a=>{const _0x120a43=_0x1258e5;_0x1a865a[_0x120a43(0xa8b)][_0x120a43(0x635)]=!![],handleUsePowerup(_0x1aea8c,'forceConfident',_0x5f1a2e,_0x4c8696,_0xec9a8);}),document['getElementById'](_0x1258e5(0x5e8))?.[_0x1258e5(0x4ef)](_0x1258e5(0x67d),_0x3d21db=>{const _0x3e95d2=_0x1258e5;_0x3d21db[_0x3e95d2(0xa8b)][_0x3e95d2(0x635)]=!![],handleUsePowerup(_0x1aea8c,_0x3e95d2(0xba4),_0x5f1a2e,_0x4c8696,_0xec9a8);}),document[_0x1258e5(0xbf1)](_0x1258e5(0xb2f))?.[_0x1258e5(0x4ef)](_0x1258e5(0x67d),_0x159a53=>{const _0x13e5dd=_0x1258e5;_0x159a53[_0x13e5dd(0xa8b)]['disabled']=!![],handleUsePowerup(_0x1aea8c,_0x13e5dd(0x556),_0x5f1a2e,_0x4c8696,_0xec9a8);});}}async function handleSyncAnswerSubmit(_0x1909ef,_0x22b8c4,_0x43a9bf,_0x15f8cc,_0x4daf26,_0x5ab801=0x0){const _0x38ee26=_0x1cfa42;document['querySelectorAll'](_0x38ee26(0x653))[_0x38ee26(0xdac)](_0x2747df=>_0x2747df[_0x38ee26(0x635)]=!![]);const _0x24c79e=_0x43a9bf[_0x38ee26(0x2fc)],_0x3a11bd=_0x38ee26(0xd19)+_0x24c79e+'_p'+_0x15f8cc,_0x3ddde6=sessionStorage[_0x38ee26(0x1fd)](_0x3a11bd),_0x423892=_0x43a9bf['players'][_0x15f8cc]?.[_0x38ee26(0x44f)]===!![],_0x402fa1=sessionStorage[_0x38ee26(0x1fd)](_0x38ee26(0x5b7))===_0x38ee26(0x93f),_0x4fe534=_0x22b8c4[_0x38ee26(0xb83)]||_0x43a9bf['shuffledQuiz']['quizType'];let _0x14383d=![],_0x2ef6c8=_0x1909ef;switch(_0x4fe534){case _0x38ee26(0x1cb):const _0x501777=parseInt(_0x1909ef),_0x57aa1c=_0x22b8c4[_0x38ee26(0x59b)]===!![]||String(_0x22b8c4[_0x38ee26(0x59b)])['toLowerCase']()===_0x38ee26(0x93f);_0x14383d=_0x501777===0x0&&_0x57aa1c||_0x501777===0x1&&!_0x57aa1c,_0x2ef6c8=_0x501777===0x0?_0x38ee26(0x80a):_0x38ee26(0x932);break;case _0x38ee26(0x944):case _0x38ee26(0x30a):_0x14383d=await gradeShortAnswer(_0x1909ef,_0x22b8c4);break;case _0x38ee26(0x2bf):_0x14383d=_0x1909ef===_0x22b8c4[_0x38ee26(0x578)];break;case _0x38ee26(0x37c):default:const _0x528ef1=parseInt(_0x1909ef);_0x14383d=_0x528ef1===_0x22b8c4[_0x38ee26(0x3a3)];_0x22b8c4[_0x38ee26(0x9e4)]&&_0x22b8c4[_0x38ee26(0x9e4)][_0x528ef1]&&(_0x2ef6c8=_0x22b8c4[_0x38ee26(0x9e4)][_0x528ef1]);break;}if(!_0x14383d&&_0x3ddde6===_0x38ee26(0x556)&&!_0x402fa1){sessionStorage[_0x38ee26(0xa92)](_0x38ee26(0x3a0)),sessionStorage[_0x38ee26(0x958)]('onSecondChance',_0x38ee26(0x93f)),showMessage(_0x38ee26(0x587)),document[_0x38ee26(0x218)](_0x38ee26(0x653))['forEach'](_0x1e2460=>{const _0x159a63=_0x38ee26;!_0x1e2460[_0x159a63(0xe06)][_0x159a63(0xbe2)](_0x159a63(0xa93))&&(_0x1e2460[_0x159a63(0x635)]=![]);});return;}const _0x5f18bb=doc(db,_0x38ee26(0x7ff)+appId+'/public/data/syncGames',currentLiveGameId),_0x20e56b={},_0x48bf9a=_0x43a9bf[_0x38ee26(0x18d)][_0x15f8cc]?.['answers']||[];let _0x38dc3c=0x0;const _0x527171=_0x3ddde6==='wagerMultiplier',_0x104649=_0x3ddde6===_0x38ee26(0x206),_0x45800b=sessionStorage[_0x38ee26(0x1fd)](_0x38ee26(0x898))===_0x38ee26(0x93f),_0x552ccc=_0x43a9bf['players'][_0x15f8cc]?.[_0x38ee26(0x3f7)]===!![];if(_0x423892)_0x38dc3c=_0x14383d?0x2:-0x1;else{if(_0x527171){const _0x1ac920=parseInt(_0x5ab801,0xa)||0x0;_0x38dc3c=_0x14383d?_0x1ac920*0x2:-_0x1ac920;}else{if(_0x45800b&&!_0x14383d)_0x4daf26===!![]||_0x4daf26==='confident'?_0x38dc3c=-0x4:_0x38dc3c=-0x2;else{if(_0x43a9bf[_0x38ee26(0x794)]){if(_0x14383d&&(_0x4daf26===!![]||_0x4daf26==='confident'))_0x38dc3c=0x2;else{if(_0x14383d)_0x38dc3c=0x1;else{if(!_0x14383d&&(_0x4daf26===![]||_0x4daf26===_0x38ee26(0xcaf)||_0x4daf26===null))_0x38dc3c=0x0;else!_0x14383d&&(_0x4daf26===!![]||_0x4daf26===_0x38ee26(0x93a))&&(_0x38dc3c=-0x1);}}}else _0x38dc3c=_0x14383d?0x1:0x0;}}}_0x552ccc&&!_0x14383d&&_0x38dc3c<0x0&&(_0x38dc3c*=0x2);!_0x14383d&&_0x104649&&(_0x38dc3c=0x0);const _0x43df6f={'questionIndex':_0x43a9bf[_0x38ee26(0x2fc)],'questionId':_0x22b8c4['id'],'answer':_0x1909ef,'answerText':_0x2ef6c8,'isCorrect':_0x14383d,'originalQuestionText':_0x22b8c4[_0x38ee26(0x324)]||_0x22b8c4[_0x38ee26(0x826)],'wasConfident':_0x423892?_0x38ee26(0x93a):_0x4daf26||![],'pointsAwarded':_0x38dc3c,'powerupUsed':_0x3ddde6||null,'wasJinxed':_0x552ccc||![],'wasForced':_0x423892||![],'usedPoll':_0x45800b||![]},_0x29e7fb=_0x48bf9a['filter'](_0x59ebbd=>_0x59ebbd[_0x38ee26(0xb1c)]!==_0x43a9bf['currentQuestionIndex']),_0x5c16cf=[..._0x29e7fb,_0x43df6f],_0x3d2a23=_0x5c16cf[_0x38ee26(0x275)](_0x44c431=>_0x44c431['isCorrect'])[_0x38ee26(0x26d)];_0x20e56b[_0x38ee26(0x32c)+_0x15f8cc+'.answers']=_0x5c16cf,_0x20e56b['players.'+_0x15f8cc+'.score']=_0x3d2a23,_0x20e56b[_0x38ee26(0x32c)+_0x15f8cc+_0x38ee26(0xa4f)]=increment(_0x38dc3c),_0x20e56b[_0x38ee26(0x32c)+_0x15f8cc+_0x38ee26(0xa41)]=!![];_0x423892&&(_0x20e56b[_0x38ee26(0x32c)+_0x15f8cc+_0x38ee26(0xb9e)]=![]);_0x402fa1&&sessionStorage[_0x38ee26(0xa92)](_0x38ee26(0x5b7));let _0x23b979=null;(_0x4fe534===_0x38ee26(0x37c)||_0x4fe534===_0x38ee26(0x1cb)||_0x4fe534===_0x38ee26(0xa46))&&(_0x23b979=parseInt(_0x1909ef)),_0x20e56b[_0x38ee26(0x32c)+_0x15f8cc+'.lastAnswerIndex']=_0x23b979,await updateDoc(_0x5f18bb,_0x20e56b);}const allMarketItems=[{'id':'buyTime','name':_0x1cfa42(0x56e),'price':0x1,'desc':_0x1cfa42(0xc63)},{'id':_0x1cfa42(0xa0a),'name':_0x1cfa42(0x6a9),'price':0x2,'desc':'ดูว่าคนอื่นตอบข้อไหนบ้าง\x20(คำเตือน:\x20หากใช้แล้วตอบผิด\x20บทลงโทษคะแนนจะ\x20x2)'},{'id':'cutOne','name':'⚡️\x20ตัด\x201\x20ตัวเลือก','price':0x2,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ'},{'id':_0x1cfa42(0x206),'name':_0x1cfa42(0xbc0),'price':0x3,'desc':_0x1cfa42(0x4fa)},{'id':_0x1cfa42(0xba4),'name':_0x1cfa42(0x66d),'price':0x4,'desc':_0x1cfa42(0x6ce)},{'id':_0x1cfa42(0x971),'name':_0x1cfa42(0x7ae),'price':0x4,'desc':_0x1cfa42(0xc18)},{'id':_0x1cfa42(0xb36),'name':_0x1cfa42(0x313),'price':0x5,'desc':'ปิดระบบมั่นใจ\x20และเปลี่ยนเป็น\x20\x22เดิมพัน\x22\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x\x20ที่เดิมพัน)'},{'id':_0x1cfa42(0x521),'name':'😈\x20คำสาป\x20(Jinx)','price':0x5,'desc':_0x1cfa42(0x783)},{'id':_0x1cfa42(0x556),'name':_0x1cfa42(0x356),'price':0x7,'desc':_0x1cfa42(0xc13)}];function openBlackMarket(_0x228e34,_0x51587c){const _0x3c54da=_0x1cfa42;let _0x398428=null;const _0xad399a=document[_0x3c54da(0xbf1)](_0x3c54da(0xa95)),_0x50c8c5=document[_0x3c54da(0xbf1)](_0x3c54da(0xc6a)),_0x1fa842=document['getElementById'](_0x3c54da(0x258)),_0x50305f=document[_0x3c54da(0xbf1)]('market-timer-bar'),_0x5ac9ca=_0x51587c['totalPoints']||0x0;_0x1fa842[_0x3c54da(0x617)]=_0x5ac9ca;const _0x4348c5=allMarketItems;_0x50c8c5[_0x3c54da(0xcf3)]=_0x4348c5[_0x3c54da(0x469)](_0x301c75=>{const _0x48aba6=_0x3c54da,_0x5a2faf=_0x5ac9ca>=_0x301c75[_0x48aba6(0x94a)];if(_0x301c75['id']==='buyTime'){const _0x181b2a=_0x5a2faf?Math[_0x48aba6(0x74e)](_0x5ac9ca/_0x301c75[_0x48aba6(0x94a)]):0x0,_0xe502b=_0x5ac9ca>=_0x301c75[_0x48aba6(0x94a)];return _0x48aba6(0xaf7)+(!_0xe502b?_0x48aba6(0xbaa):_0x48aba6(0xbba))+_0x48aba6(0x875)+_0x301c75[_0x48aba6(0x372)]+_0x48aba6(0xa00)+_0x301c75[_0x48aba6(0x7ee)]+_0x48aba6(0x9a8)+_0x181b2a+'\x22\x20'+(!_0xe502b?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20'+(_0xe502b?'bg-indigo-600\x20hover:bg-indigo-700':_0x48aba6(0x5b8))+_0x48aba6(0x933)+_0x301c75['id']+_0x48aba6(0xa04)+_0x301c75['price']+_0x48aba6(0x60f)+(!_0xe502b?_0x48aba6(0x635):'')+_0x48aba6(0x86e)+_0x301c75['price']+_0x48aba6(0xa87);}else{const _0x191375=!_0x5a2faf?_0x48aba6(0x635):'',_0x3c4d95=_0x5a2faf?_0x48aba6(0x1ce):'bg-gray-400';return _0x48aba6(0xaf7)+(!_0x5a2faf?_0x48aba6(0xbaa):_0x48aba6(0xbba))+_0x48aba6(0x875)+_0x301c75[_0x48aba6(0x372)]+_0x48aba6(0xa00)+_0x301c75['desc']+_0x48aba6(0x3bf)+_0x3c4d95+_0x48aba6(0x725)+_0x301c75['id']+_0x48aba6(0x5ca)+_0x301c75[_0x48aba6(0x94a)]+_0x48aba6(0xdc4)+_0x191375+_0x48aba6(0xa39)+_0x301c75['price']+_0x48aba6(0x2a8);}})[_0x3c54da(0x4ce)](''),_0xad399a[_0x3c54da(0xe06)]['remove'](_0x3c54da(0xa93)),_0x50305f['style']['transition']='none',_0x50305f[_0x3c54da(0x403)]['width']=_0x3c54da(0x71d),setTimeout(()=>{const _0xca52a=_0x3c54da;_0x50305f['style'][_0xca52a(0x8e5)]='width\x2060s\x20linear',_0x50305f[_0xca52a(0x403)]['width']='0%';},0x32),_0x398428=setTimeout(()=>{const _0x5a1119=_0x3c54da;_0xad399a[_0x5a1119(0xe06)][_0x5a1119(0xd5c)]('hidden');},0xea60),document[_0x3c54da(0xbf1)](_0x3c54da(0xd26))[_0x3c54da(0x1a5)]=()=>{const _0x375b0a=_0x3c54da;clearTimeout(_0x398428),_0xad399a[_0x375b0a(0xe06)][_0x375b0a(0xd5c)](_0x375b0a(0xa93));},_0x50c8c5[_0x3c54da(0x218)]('.buy-item-btn')[_0x3c54da(0xdac)](_0x27807b=>{const _0x124073=_0x3c54da;_0x27807b[_0x124073(0x1a5)]=_0x17c38a=>{const _0x44dc2b=_0x124073,_0x2a8883=_0x17c38a[_0x44dc2b(0xa8b)][_0x44dc2b(0x2b9)][_0x44dc2b(0xc77)],_0x45a02a=parseInt(_0x17c38a[_0x44dc2b(0xa8b)][_0x44dc2b(0x2b9)][_0x44dc2b(0x94a)],0xa);clearTimeout(_0x398428),_0xad399a[_0x44dc2b(0xe06)][_0x44dc2b(0xd5c)](_0x44dc2b(0xa93)),handleBuyItem(_0x51587c[_0x44dc2b(0x372)],_0x2a8883,_0x45a02a,0x1);};}),_0x50c8c5[_0x3c54da(0x218)](_0x3c54da(0x454))['forEach'](_0x45b5db=>{const _0x115210=_0x3c54da;_0x45b5db[_0x115210(0x1a5)]=_0xa62d96=>{const _0xeb1f98=_0x115210,_0x3a26c5=_0xa62d96[_0xeb1f98(0xa8b)]['dataset']['itemId'],_0x5aa1ac=parseInt(_0xa62d96['target'][_0xeb1f98(0x2b9)][_0xeb1f98(0x94a)],0xa),_0x39a84d=document['getElementById'](_0xeb1f98(0x738)),_0xde8d60=parseInt(_0x39a84d[_0xeb1f98(0x49f)],0xa),_0x390e1c=parseInt(_0x39a84d[_0xeb1f98(0x69c)],0xa);if(!_0xde8d60||_0xde8d60<0x1){showMessage('กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)');return;}if(_0xde8d60>_0x390e1c){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20'+_0x390e1c+_0xeb1f98(0x82b));return;}clearTimeout(_0x398428),_0xad399a[_0xeb1f98(0xe06)]['add'](_0xeb1f98(0xa93)),handleBuyItem(_0x51587c['name'],_0x3a26c5,_0x5aa1ac,_0xde8d60);};});}async function handleBuyItem(_0x566dc5,_0x3b3ef9,_0x42bdab,_0x56063e=0x1){const _0x109518=_0x1cfa42,_0x363918=doc(db,_0x109518(0x7ff)+appId+_0x109518(0x73f),currentLiveGameId);try{await runTransaction(db,async _0x47d94b=>{const _0x1ac8e0=_0x109518,_0x94bb70=await _0x47d94b['get'](_0x363918);if(!_0x94bb70[_0x1ac8e0(0x2b1)]())throw'ไม่พบข้อมูลเกม';const _0x1a8e1d=_0x94bb70[_0x1ac8e0(0x934)](),_0x5bffe6=_0x1a8e1d[_0x1ac8e0(0x18d)][_0x566dc5]?.[_0x1ac8e0(0x60e)]||0x0,_0x1c3aff=_0x42bdab*_0x56063e;if(_0x5bffe6<_0x1c3aff)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x1cea58={};_0x1cea58['players.'+_0x566dc5+'.totalPoints']=increment(-_0x1c3aff),_0x1cea58[_0x1ac8e0(0x32c)+_0x566dc5+_0x1ac8e0(0xc3e)+_0x3b3ef9]=increment(_0x56063e),_0x47d94b[_0x1ac8e0(0x942)](_0x363918,_0x1cea58);}),showMessage(_0x109518(0xa64)+_0x3b3ef9+_0x109518(0x757)+_0x56063e+_0x109518(0x975));}catch(_0x3f43ab){console[_0x109518(0x3f5)](_0x109518(0x549),_0x3f43ab),showMessage(typeof _0x3f43ab===_0x109518(0x60a)?_0x3f43ab:_0x109518(0x5fe));}}async function handlePayForMarketEntry(_0x44c377,_0x2c6b01,_0x543a9c){const _0x5096b9=_0x1cfa42,_0x311224=doc(db,_0x5096b9(0x7ff)+appId+_0x5096b9(0x73f),currentLiveGameId);try{await runTransaction(db,async _0x31aa99=>{const _0x546415=_0x5096b9,_0x4755dc=await _0x31aa99[_0x546415(0x52e)](_0x311224);if(!_0x4755dc[_0x546415(0x2b1)]())throw _0x546415(0x1fb);const _0x9485a9=_0x4755dc[_0x546415(0x934)](),_0x27ced5=_0x9485a9[_0x546415(0x18d)][_0x44c377]?.[_0x546415(0x60e)]||0x0;if(_0x27ced5<0x1)throw _0x546415(0x189);const _0x1cf155={};_0x1cf155['players.'+_0x44c377+_0x546415(0xa4f)]=increment(-0x1),_0x31aa99[_0x546415(0x942)](_0x311224,_0x1cf155);});const _0x439273={..._0x543a9c,'totalPoints':(_0x543a9c[_0x5096b9(0x60e)]||0x0)-0x1};openBlackMarket(_0x2c6b01,_0x439273);}catch(_0xf956be){console['error'](_0x5096b9(0xb29),_0xf956be),showMessage(typeof _0xf956be===_0x5096b9(0x60a)?_0xf956be:_0x5096b9(0x534));}}initialize();
