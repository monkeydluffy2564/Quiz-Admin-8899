const _0x3de37b=_0x4a4b;(function(_0x2df2b3,_0x26366f){const _0x3913cd=_0x4a4b,_0x2b6ff9=_0x2df2b3();while(!![]){try{const _0x19a1b9=-parseInt(_0x3913cd(0x61d))/0x1+parseInt(_0x3913cd(0x3f6))/0x2+parseInt(_0x3913cd(0xa0a))/0x3*(parseInt(_0x3913cd(0x8ff))/0x4)+parseInt(_0x3913cd(0x6ed))/0x5*(parseInt(_0x3913cd(0x370))/0x6)+-parseInt(_0x3913cd(0x707))/0x7+parseInt(_0x3913cd(0x4ba))/0x8+-parseInt(_0x3913cd(0x272))/0x9*(-parseInt(_0x3913cd(0x4a6))/0xa);if(_0x19a1b9===_0x26366f)break;else _0x2b6ff9['push'](_0x2b6ff9['shift']());}catch(_0x27ca92){_0x2b6ff9['push'](_0x2b6ff9['shift']());}}}(_0x1cd6,0x74a1a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x4970cb=_0x4a4b;if(_0x4970cb(0x2f4)in navigator)try{wakeLock=await navigator[_0x4970cb(0x2f4)][_0x4970cb(0x6b3)](_0x4970cb(0x4d0)),console['log']('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x4970cb(0x813)](_0x4970cb(0x2fc),()=>{const _0x37fc1b=_0x4970cb;console[_0x37fc1b(0x1c3)](_0x37fc1b(0x676));});}catch(_0x38f4a9){console[_0x4970cb(0x2a8)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x38f4a9[_0x4970cb(0x234)]+',\x20'+_0x38f4a9[_0x4970cb(0x216)]);}else console['warn']('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x457099=_0x4a4b;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x457099(0x733)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x38c4b7=_0x4a4b;if(dimTimer)clearTimeout(dimTimer);document[_0x38c4b7(0x531)][_0x38c4b7(0x74c)][_0x38c4b7(0x953)](_0x38c4b7(0x794)),dimTimer=setTimeout(()=>{const _0x44ebeb=_0x38c4b7;document[_0x44ebeb(0x531)][_0x44ebeb(0x74c)][_0x44ebeb(0x1c0)](_0x44ebeb(0x794)),console[_0x44ebeb(0x1c3)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x2b9253=_0x4a4b;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x2b9253(0x74c)]['remove'](_0x2b9253(0x794)),window[_0x2b9253(0x394)](_0x2b9253(0x121),resetDimTimer),window[_0x2b9253(0x394)]('mousedown',resetDimTimer),window[_0x2b9253(0x394)](_0x2b9253(0x9d2),resetDimTimer),window['removeEventListener'](_0x2b9253(0x57c),resetDimTimer),console[_0x2b9253(0x1c3)](_0x2b9253(0x512));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x2fda18,_0xc0366c=![]){const _0x2ebc9a=_0x4a4b,_0x2af979=allQuizzes['find'](_0x15cc61=>_0x15cc61['id']===_0x2fda18)||allQuizzesGlobal[_0x2ebc9a(0x1da)](_0x1328a1=>_0x1328a1['id']===_0x2fda18);if(!_0x2af979){showMessage(_0x2ebc9a(0x2c8));return;}currentQuizData=getShuffledQuiz(_0x2af979);const _0x1b520a=Math[_0x2ebc9a(0x48a)](0x3e8+Math[_0x2ebc9a(0x3d1)]()*0x2328)[_0x2ebc9a(0x400)]();try{const _0xbe5fa1=await addDoc(collection(db,_0x2ebc9a(0x573)+appId+_0x2ebc9a(0x48e)),{'quizId':_0x2af979['id'],'projectId':_0x2af979[_0x2ebc9a(0x551)],'status':_0x2ebc9a(0x621),'pin':_0x1b520a,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xc0366c});currentTeamQuizId=_0xbe5fa1['id'],showView(_0x2ebc9a(0x449)),renderAdminTeamQuizDashboard(_0x1b520a,_0x2af979['topic']),listenForTeamQuizUpdates();}catch(_0x5e9de4){console[_0x2ebc9a(0x2a8)](_0x2ebc9a(0x789),_0x5e9de4),showMessage(_0x2ebc9a(0x4e9));}}function renderAdminTeamQuizDashboard(_0x1ad47e,_0x52ba19,_0x695457=_0x3de37b(0x803)){const _0x17e6c4=_0x3de37b,_0x252f23=_0x695457===_0x17e6c4(0x698)?_0x17e6c4(0x4af):_0x17e6c4(0x468);liveGameView[_0x17e6c4(0x9ba)]=_0x17e6c4(0x7f5)+_0x252f23+':\x20'+_0x52ba19+_0x17e6c4(0x627)+_0x1ad47e+_0x17e6c4(0x7e4),document['getElementById'](_0x17e6c4(0x169))['addEventListener'](_0x17e6c4(0x8c2),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x40f0dc=_0x4a4b;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x40f0dc(0x573)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x40f0dc(0x133));});});}function listenForTeamQuizUpdates(){const _0x50adfb=_0x3de37b;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x50bcab=doc(db,_0x50adfb(0x573)+appId+_0x50adfb(0x48e),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x50bcab,_0x77d61b=>{const _0x46120d=_0x50adfb;if(!_0x77d61b[_0x46120d(0x42d)]()){sessionStorage['removeItem'](_0x46120d(0x962));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x46120d(0x9ca))showMessage(_0x46120d(0x4f2));showView(currentMode===_0x46120d(0x9ca)?_0x46120d(0x133):'student');return;}const _0x5b8094=_0x77d61b[_0x46120d(0x51a)]();if(currentMode===_0x46120d(0x9ca)){if(_0x5b8094[_0x46120d(0x4cb)]===_0x46120d(0x698)&&_0x5b8094[_0x46120d(0x921)]!==_0x46120d(0x53b)&&_0x5b8094[_0x46120d(0x921)]!==_0x46120d(0x27e)){const _0x19f3a6=Object[_0x46120d(0x4bb)](_0x5b8094['groups']||{});if(_0x19f3a6[_0x46120d(0x579)]>0x0){const _0x58e735=_0x19f3a6[_0x46120d(0xa35)](_0x520c96=>_0x520c96['isFinished']===!![]);_0x58e735&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5b8094);}else{if(_0x5b8094[_0x46120d(0x921)]==='podium'||_0x5b8094['status']===_0x46120d(0x27e)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5b8094['mode']==='group'){const _0x29d613=_0x5b8094[_0x46120d(0x85a)][userId];(!_0x29d613||!_0x29d613[_0x46120d(0x249)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x185802){const _0x4c8f20=_0x3de37b;console[_0x4c8f20(0x1c3)](_0x4c8f20(0x45a));const _0x570ee9=doc(db,_0x4c8f20(0x573)+appId+_0x4c8f20(0x48e),_0x185802);try{const _0x529803=await getDoc(_0x570ee9);if(_0x529803[_0x4c8f20(0x42d)]()){const _0x5b49e4=_0x529803['data']();_0x5b49e4[_0x4c8f20(0x142)]&&await saveGameResultsAsSubmissions(_0x5b49e4);}await updateDoc(_0x570ee9,{'status':_0x4c8f20(0x53b)});}catch(_0x1e7193){console[_0x4c8f20(0x2a8)](_0x4c8f20(0x7be),_0x1e7193);}}function updateAdminTeamDashboard(_0x47cae2){const _0x15dfff=_0x3de37b,_0x204a96=document[_0x15dfff(0x26b)](_0x15dfff(0x548));if(!_0x204a96)return;const _0x56dac4=_0x47cae2[_0x15dfff(0x4cb)]||'team';if(_0x56dac4===_0x15dfff(0x698)){const _0x141eda=Object[_0x15dfff(0x4bb)](_0x47cae2[_0x15dfff(0x85a)]||{});if(_0x141eda[_0x15dfff(0x579)]===0x0){_0x204a96[_0x15dfff(0x9ba)]=_0x15dfff(0x6a1);return;}const _0x49aaa9=[..._0x141eda]['sort']((_0x3f1411,_0x5571de)=>_0x5571de[_0x15dfff(0x5aa)]-_0x3f1411[_0x15dfff(0x5aa)]),_0x5d23e9=_0x49aaa9['map']((_0x218d7d,_0x54bdbf)=>_0x15dfff(0x61c)+(_0x54bdbf+0x1)+_0x15dfff(0x2f9)+_0x218d7d['members']['join'](',\x20')+_0x15dfff(0x61e)+_0x218d7d[_0x15dfff(0x5aa)]+_0x15dfff(0x9c0))['join']('');let _0x29cc2c='';currentQuizData&&currentQuizData[_0x15dfff(0x6ba)]&&(_0x29cc2c=currentQuizData[_0x15dfff(0x6ba)][_0x15dfff(0x7bf)]((_0x549aad,_0x434d51)=>{const _0x151b51=_0x15dfff;let _0x3ec49a=0x0;return _0x141eda[_0x151b51(0x597)](_0x3556e9=>{const _0x238525=_0x151b51,_0x3e9213=_0x3556e9[_0x238525(0x1a1)]||[],_0x2ef962=_0x3e9213[_0x238525(0x1da)](_0x4ca40a=>_0x4ca40a['questionIndex']===_0x434d51);_0x2ef962&&_0x2ef962['isCorrect']&&_0x3ec49a++;}),_0x151b51(0x91d)+(_0x434d51+0x1)+_0x151b51(0x9d0)+_0x3ec49a+'\x20/\x20'+_0x141eda['length']+'\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x15dfff(0xa17)]('')),_0x204a96[_0x15dfff(0x9ba)]=_0x15dfff(0x8e7)+_0x5d23e9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x29cc2c+_0x15dfff(0x64b);}else{const _0x488f26=_0x47cae2[_0x15dfff(0x49e)]||{},_0x256f2a=Object[_0x15dfff(0xa3b)](_0x488f26);if(_0x256f2a[_0x15dfff(0x579)]===0x0){_0x204a96[_0x15dfff(0x9ba)]=_0x15dfff(0x282);return;}const _0x1ca658=_0x256f2a[_0x15dfff(0x7bf)](_0x3ef3e0=>({'name':_0x3ef3e0,'score':_0x488f26[_0x3ef3e0][_0x15dfff(0x5aa)]||0x0}))[_0x15dfff(0x9c4)]((_0x3ec9e9,_0x52399d)=>_0x52399d['score']-_0x3ec9e9[_0x15dfff(0x5aa)]);let _0x33b1e1='';currentQuizData&&currentQuizData['questions']&&(_0x33b1e1=currentQuizData['questions']['map']((_0x135d2c,_0x3238b1)=>{const _0x143df6=_0x15dfff;let _0xf98395=0x0;return _0x256f2a[_0x143df6(0x597)](_0x4b83be=>{const _0x27863a=_0x143df6,_0x1970a4=_0x488f26[_0x4b83be][_0x27863a(0x1a1)]||[],_0x35f7a4=_0x1970a4[_0x27863a(0x1da)](_0x13b1c8=>_0x13b1c8[_0x27863a(0x1e1)]===_0x3238b1);if(_0x35f7a4&&_0x35f7a4['isCorrect'])_0xf98395++;}),'<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x3238b1+0x1)+':</p><p\x20class=\x22text-xs\x22>'+_0xf98395+'\x20/\x20'+_0x256f2a[_0x143df6(0x579)]+_0x143df6(0x2a1);})[_0x15dfff(0xa17)]('')),_0x204a96['innerHTML']=_0x15dfff(0x24a)+_0x1ca658[_0x15dfff(0x7bf)](_0x48ec28=>'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x48ec28['name']+_0x15dfff(0x41d)+_0x48ec28[_0x15dfff(0x5aa)]+_0x15dfff(0x1b2))['join']('')+_0x15dfff(0xa12)+_0x33b1e1+_0x15dfff(0x495);}}async function handleJoinTeamQuiz(){const _0x8c5858=_0x3de37b,_0x1b9dcc=prompt(_0x8c5858(0x2fb));if(!_0x1b9dcc||_0x1b9dcc['trim']()[_0x8c5858(0x579)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x1cd1cc=collection(db,_0x8c5858(0x573)+appId+_0x8c5858(0x48e)),_0x3a4e4e=query(_0x1cd1cc,where('pin','==',_0x1b9dcc['trim']()),where('status','==',_0x8c5858(0x621))),_0x1cfbf4=await getDocs(_0x3a4e4e);if(_0x1cfbf4['empty']){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x13d820=_0x1cfbf4['docs'][0x0];currentTeamQuizId=_0x13d820['id'];const _0x20d3f2=_0x13d820[_0x8c5858(0x51a)](),_0x267db1=doc(db,_0x8c5858(0x573)+appId+_0x8c5858(0x72b),_0x20d3f2[_0x8c5858(0x551)]),_0x4b99ac=doc(db,_0x8c5858(0x573)+appId+'/public/data/quizzes',_0x20d3f2[_0x8c5858(0x994)]),[_0x4606fa,_0x390368]=await Promise[_0x8c5858(0x3cd)]([getDoc(_0x267db1),getDoc(_0x4b99ac)]);if(!_0x4606fa[_0x8c5858(0x42d)]()||!_0x390368['exists']())throw new Error(_0x8c5858(0x8fe));currentQuizData=getShuffledQuiz({'id':_0x390368['id'],..._0x390368['data']()});const _0x3da736=_0x4606fa['data']();showTeamPlayerSelection(_0x3da736['students'],currentQuizData[_0x8c5858(0x680)]);}catch(_0x40b341){console[_0x8c5858(0x2a8)](_0x8c5858(0x44d),_0x40b341),showMessage(_0x8c5858(0x607)+_0x40b341[_0x8c5858(0x216)]);}}async function handleJoinGroupActivity(){const _0x26c356=_0x3de37b,_0x4888d2=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x4888d2||_0x4888d2[_0x26c356(0x168)]()[_0x26c356(0x579)]!==0x4){showMessage(_0x26c356(0x96b));return;}const _0x2dfe78=_0x4888d2[_0x26c356(0x168)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x367f40=collection(db,_0x26c356(0x573)+appId+_0x26c356(0x48e)),_0x1c399c=query(_0x367f40,where(_0x26c356(0x2ed),'==',_0x2dfe78),where(_0x26c356(0x921),'==',_0x26c356(0x621))),_0x3fc5f8=await getDocs(_0x1c399c);if(!_0x3fc5f8[_0x26c356(0xa36)]){console[_0x26c356(0x1c3)](_0x26c356(0x812)),await proceedWithTeamQuizJoin(_0x3fc5f8[_0x26c356(0x7c4)][0x0]);return;}const _0x4a875b=collection(db,_0x26c356(0x573)+appId+'/public/data/syncGames'),_0x465efc=query(_0x4a875b,where(_0x26c356(0x2ed),'==',_0x2dfe78),where('status','==',_0x26c356(0x621))),_0x3abf36=await getDocs(_0x465efc);if(!_0x3abf36[_0x26c356(0xa36)]){console[_0x26c356(0x1c3)](_0x26c356(0x357)),await proceedWithSyncQuizJoin(_0x3abf36['docs'][0x0]);return;}showMessage(_0x26c356(0x224));}catch(_0x46e5f9){console['error'](_0x26c356(0x8b3),_0x46e5f9),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x46e5f9[_0x26c356(0x216)]);}}async function proceedWithTeamQuizJoin(_0x51926c){const _0x5a5324=_0x3de37b;currentTeamQuizId=_0x51926c['id'];const _0x758044=_0x51926c[_0x5a5324(0x51a)](),_0x3974b0=doc(db,_0x5a5324(0x573)+appId+_0x5a5324(0x72b),_0x758044[_0x5a5324(0x551)]),_0x358a35=doc(db,_0x5a5324(0x573)+appId+_0x5a5324(0x5df),_0x758044['quizId']),[_0x245b85,_0x467402]=await Promise['all']([getDoc(_0x3974b0),getDoc(_0x358a35)]);if(!_0x245b85[_0x5a5324(0x42d)]()||!_0x467402['exists']())throw new Error(_0x5a5324(0x8fe));currentQuizData=getShuffledQuiz({'id':_0x467402['id'],..._0x467402[_0x5a5324(0x51a)]()}),showTeamPlayerSelection(_0x245b85['data']()[_0x5a5324(0x337)],currentQuizData[_0x5a5324(0x680)],_0x758044[_0x5a5324(0x4cb)]||_0x5a5324(0x803)),messageModal[_0x5a5324(0x74c)][_0x5a5324(0x1c0)]('hidden');}async function proceedWithSyncQuizJoin(_0x26bd82){const _0x14f70a=_0x3de37b;currentLiveGameId=_0x26bd82['id'];const _0x351be1=_0x26bd82[_0x14f70a(0x51a)](),_0x4d26be=doc(db,_0x14f70a(0x573)+appId+_0x14f70a(0x5df),_0x351be1[_0x14f70a(0x994)]),_0x4cbc2f=await getDoc(_0x4d26be);if(!_0x4cbc2f['exists']())throw new Error(_0x14f70a(0x2c8));const _0x529ba3=_0x4cbc2f['data'](),_0xe69d3b=doc(db,'artifacts/'+appId+'/public/data/projects',_0x529ba3[_0x14f70a(0x551)]),_0x4e5f4e=await getDoc(_0xe69d3b);if(!_0x4e5f4e[_0x14f70a(0x42d)]())throw new Error(_0x14f70a(0x70c));currentQuizData=_0x351be1[_0x14f70a(0x7a9)],showView(_0x14f70a(0x323)),showTeamPlayerSelection(_0x4e5f4e[_0x14f70a(0x51a)]()[_0x14f70a(0x337)],_0x529ba3[_0x14f70a(0x680)],_0x14f70a(0xa33)),document[_0x14f70a(0x26b)]('confirm-team-players-btn')[_0x14f70a(0x49a)]=confirmAndJoinSyncGame,messageModal[_0x14f70a(0x74c)][_0x14f70a(0x1c0)]('hidden');}function showTeamPlayerSelection(_0x155306,_0x1a2ee3,_0x210e59=_0x3de37b(0x803)){const _0x334f03=_0x3de37b;studentInitialView[_0x334f03(0x74c)][_0x334f03(0x1c0)](_0x334f03(0x2d5)),studentJoinGameView['classList'][_0x334f03(0x1c0)]('hidden'),document[_0x334f03(0x26b)](_0x334f03(0x3b7))[_0x334f03(0x74c)]['remove'](_0x334f03(0x2d5));let _0x5decbc='Team\x20Quiz';if(_0x210e59===_0x334f03(0x698))_0x5decbc='Group\x20Mode';else _0x210e59===_0x334f03(0xa33)&&(_0x5decbc=_0x334f03(0x722));document[_0x334f03(0x26b)](_0x334f03(0x779))[_0x334f03(0x64c)]=_0x5decbc+':\x20'+_0x1a2ee3;const _0x2340c5=document[_0x334f03(0x26b)]('team-student-list');if(!_0x155306||_0x155306['length']===0x0){_0x2340c5[_0x334f03(0x9ba)]=_0x334f03(0x69d),document['getElementById']('confirm-team-players-btn')['disabled']=!![];return;}_0x2340c5[_0x334f03(0x9ba)]=_0x155306[_0x334f03(0x7bf)](_0x4546af=>_0x334f03(0x592)+_0x4546af+_0x334f03(0x841)+_0x4546af+_0x334f03(0x289))[_0x334f03(0xa17)](''),document[_0x334f03(0x26b)]('confirm-team-players-btn')[_0x334f03(0x865)]=![];}async function confirmAndStartTeamQuiz(){const _0x35a730=_0x3de37b,_0x4a58e2=Array[_0x35a730(0x38e)](document['querySelectorAll'](_0x35a730(0x147)))['map'](_0x12c45c=>_0x12c45c[_0x35a730(0x884)]);if(_0x4a58e2[_0x35a730(0x579)]===0x0){showMessage(_0x35a730(0x363));return;}localTeamPlayers=_0x4a58e2,localPlayerTurnIndex=0x0;const _0x515ab4=doc(db,_0x35a730(0x573)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x24b310=await getDoc(_0x515ab4);if(!_0x24b310['exists']()){showMessage('ไม่พบข้อมูลเกม');return;}const _0x1223aa=_0x24b310[_0x35a730(0x51a)]();_0x1223aa[_0x35a730(0x4cb)]==='group'&&(localGroupQuestionIndex=0x0);try{if(_0x1223aa[_0x35a730(0x4cb)]==='group'){const _0x13ee0b=userId,_0x203814={};_0x203814[_0x35a730(0x187)+_0x13ee0b]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x515ab4,_0x203814);}else{const _0xb37e51={};localTeamPlayers[_0x35a730(0x597)](_0x20eb4a=>{_0xb37e51['responses.'+_0x20eb4a]={'score':0x0,'answers':[]};}),await updateDoc(_0x515ab4,_0xb37e51);}document[_0x35a730(0x26b)]('student-team-selection-view')['classList'][_0x35a730(0x1c0)](_0x35a730(0x2d5)),renderTeamQuizQuestion();const _0x2b28aa={'gameId':currentTeamQuizId,'mode':_0x1223aa[_0x35a730(0x4cb)]||'team','players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0x35a730(0x842)](_0x35a730(0x962),JSON[_0x35a730(0x670)](_0x2b28aa)),listenForTeamQuizUpdates();}catch(_0x682ca4){console[_0x35a730(0x2a8)](_0x35a730(0x7b4),_0x682ca4),showMessage(_0x35a730(0x7c1));}}async function renderTeamQuizQuestion(){const _0x4697c6=_0x3de37b,_0x16e6fb=doc(db,_0x4697c6(0x573)+appId+_0x4697c6(0x48e),currentTeamQuizId),_0x4c2f42=await getDoc(_0x16e6fb);if(!_0x4c2f42['exists']())return;const _0x30ea1f=_0x4c2f42['data'](),_0x5566b3=_0x30ea1f['mode']||_0x4697c6(0x803);let _0x3c6092,_0x48cd58;_0x5566b3==='group'?(_0x3c6092=localGroupQuestionIndex,_0x48cd58=_0x4697c6(0x81b)+localTeamPlayers[_0x4697c6(0xa17)](',\x20')):(_0x3c6092=Math[_0x4697c6(0x48a)](localPlayerTurnIndex/localTeamPlayers[_0x4697c6(0x579)]),_0x48cd58=_0x4697c6(0x21f)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers['length']]);if(_0x3c6092>=currentQuizData['questions'][_0x4697c6(0x579)]){displayTeamQuizFinalResults();return;}const _0x58be66=currentQuizData[_0x4697c6(0x6ba)][_0x3c6092],_0x16be35=_0x58be66['questionType']||currentQuizData[_0x4697c6(0xa11)];let _0x11cea5=_0x58be66[_0x4697c6(0x622)]||_0x58be66[_0x4697c6(0x19b)],_0x23a8fb='';switch(_0x16be35){case _0x4697c6(0x153):case _0x4697c6(0x840):_0x23a8fb=_0x58be66[_0x4697c6(0x8e3)]['map']((_0x53dbc7,_0x5793d4)=>_0x4697c6(0x84b)+_0x5793d4+_0x4697c6(0x29b)+_0x5793d4+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x5793d4+'\x22>'+_0x53dbc7+_0x4697c6(0x125))[_0x4697c6(0xa17)]('');break;case _0x4697c6(0x275):_0x23a8fb='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x4697c6(0x1c1):case _0x4697c6(0x110):_0x23a8fb=_0x4697c6(0x7ce);break;case'matching_item':_0x23a8fb='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x58be66[_0x4697c6(0x330)]['map'](_0x417515=>'<option\x20value=\x22'+_0x417515+'\x22>'+_0x417515+_0x4697c6(0x7a5))[_0x4697c6(0xa17)]('')+'</select>';break;default:_0x23a8fb=_0x4697c6(0x53f);break;}studentQuizArea['innerHTML']=_0x4697c6(0x7b5)+(_0x3c6092+0x1)+'\x20/\x20'+currentQuizData[_0x4697c6(0x6ba)][_0x4697c6(0x579)]+_0x4697c6(0x26e)+_0x48cd58+_0x4697c6(0x150)+(_0x3c6092+0x1)+'.\x20'+_0x11cea5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58be66[_0x4697c6(0x594)]?_0x4697c6(0x91b)+_0x58be66[_0x4697c6(0x594)]+_0x4697c6(0x7d8):'')+_0x4697c6(0x33a)+_0x23a8fb+_0x4697c6(0x761),studentQuizArea[_0x4697c6(0x74c)]['remove'](_0x4697c6(0x2d5));if(window[_0x4697c6(0x7c9)])MathJax[_0x4697c6(0x281)]([studentQuizArea]);const _0x27e8fd=document[_0x4697c6(0x26b)](_0x4697c6(0x542));_0x5566b3===_0x4697c6(0x698)?_0x27e8fd[_0x4697c6(0x813)](_0x4697c6(0x8c2),handleGroupAnswerSubmit):_0x27e8fd[_0x4697c6(0x813)](_0x4697c6(0x8c2),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x306169=_0x3de37b,_0x2a6ca3=doc(db,_0x306169(0x573)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0xc49b87=localGroupQuestionIndex,_0x5812af=currentQuizData[_0x306169(0x6ba)][_0xc49b87],_0x1f7238=_0x5812af[_0x306169(0x14b)]||currentQuizData[_0x306169(0xa11)];let _0x21bbbb=null,_0x42c559=![];if(_0x1f7238===_0x306169(0x1c1)||_0x1f7238===_0x306169(0x110)){const _0xdd60bd=document[_0x306169(0x8f1)](_0x306169(0x905));if(!_0xdd60bd||!_0xdd60bd['value']['trim']()){showMessage(_0x306169(0x4b3));return;}_0x21bbbb=_0xdd60bd[_0x306169(0x884)]['trim'](),_0x42c559=await gradeShortAnswer(_0x21bbbb,_0x5812af);}else{const _0x361cb2=document[_0x306169(0x8f1)](_0x306169(0x274));if(!_0x361cb2||_0x361cb2[_0x306169(0x884)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x21bbbb=_0x361cb2['value'];switch(_0x1f7238){case _0x306169(0x275):_0x42c559=_0x21bbbb===_0x306169(0x2b8)===_0x5812af[_0x306169(0x980)];break;case _0x306169(0x6cc):_0x42c559=_0x21bbbb===_0x5812af[_0x306169(0x2c2)];break;default:_0x42c559=parseInt(_0x21bbbb)===_0x5812af[_0x306169(0x7d9)];break;}}const _0x48852a={'questionIndex':_0xc49b87,'isCorrect':_0x42c559},_0x34c10f=userId,_0xc4fd35={};_0xc4fd35[_0x306169(0x187)+_0x34c10f+_0x306169(0xa08)]=arrayUnion(_0x48852a);_0x42c559&&(_0xc4fd35[_0x306169(0x187)+_0x34c10f+_0x306169(0x213)]=increment(0x1));try{await updateDoc(_0x2a6ca3,_0xc4fd35),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x34212b){console[_0x306169(0x2a8)](_0x306169(0x6a6),_0x34212b),showMessage(_0x306169(0x1b6));}}async function handleTeamAnswerSubmit(){const _0x80ccfc=_0x3de37b,_0x4930fc=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x80ccfc(0x579)]],_0x3a6c7b=Math[_0x80ccfc(0x48a)](localPlayerTurnIndex/localTeamPlayers[_0x80ccfc(0x579)]),_0x118a35=currentQuizData[_0x80ccfc(0x6ba)][_0x3a6c7b],_0x525ba8=_0x118a35[_0x80ccfc(0x14b)]||currentQuizData['quizType'];let _0x3ead81=null,_0x49a4b0=![];if(_0x525ba8===_0x80ccfc(0x1c1)||_0x525ba8==='fill_in_no_choices'){const _0x4a181b=document[_0x80ccfc(0x8f1)](_0x80ccfc(0x905));if(!_0x4a181b||!_0x4a181b['value'][_0x80ccfc(0x168)]()){showMessage(_0x80ccfc(0x381));return;}_0x3ead81=_0x4a181b[_0x80ccfc(0x884)][_0x80ccfc(0x168)](),_0x49a4b0=await gradeShortAnswer(_0x3ead81,_0x118a35);}else{const _0x4cde87=document[_0x80ccfc(0x8f1)](_0x80ccfc(0x274));if(!_0x4cde87||_0x4cde87[_0x80ccfc(0x884)]===''){showMessage(_0x80ccfc(0x83c));return;}_0x3ead81=_0x4cde87[_0x80ccfc(0x884)];switch(_0x525ba8){case _0x80ccfc(0x275):const _0x22ae6f=_0x3ead81===_0x80ccfc(0x2b8);_0x49a4b0=_0x22ae6f===_0x118a35[_0x80ccfc(0x980)];break;case'matching_item':_0x49a4b0=_0x3ead81===_0x118a35[_0x80ccfc(0x2c2)];break;default:const _0x56c45d=parseInt(_0x3ead81);_0x49a4b0=_0x56c45d===_0x118a35['correctAnswerIndex'];break;}}const _0x38a716={'questionIndex':_0x3a6c7b,'isCorrect':_0x49a4b0,'answerValue':_0x3ead81},_0x262103=doc(db,_0x80ccfc(0x573)+appId+_0x80ccfc(0x48e),currentTeamQuizId),_0x143334={};_0x143334[_0x80ccfc(0x613)+_0x4930fc+'.answers']=arrayUnion(_0x38a716);_0x49a4b0&&(_0x143334['responses.'+_0x4930fc+'.score']=increment(0x1));try{await updateDoc(_0x262103,_0x143334),localPlayerTurnIndex++;const _0x2dcfdc=JSON[_0x80ccfc(0x317)](sessionStorage['getItem'](_0x80ccfc(0x962))||'{}');_0x2dcfdc['turnIndex']=localPlayerTurnIndex,sessionStorage[_0x80ccfc(0x842)](_0x80ccfc(0x962),JSON[_0x80ccfc(0x670)](_0x2dcfdc)),renderTeamQuizQuestion();}catch(_0xd3482b){console[_0x80ccfc(0x2a8)](_0x80ccfc(0x6e5),_0xd3482b),showMessage(_0x80ccfc(0x1b6));}}async function displayTeamQuizFinalResults(){const _0x1e0608=_0x3de37b;studentQuizArea[_0x1e0608(0x74c)][_0x1e0608(0x1c0)]('hidden'),studentResultArea[_0x1e0608(0x74c)][_0x1e0608(0x953)](_0x1e0608(0x2d5));const _0x54c547=doc(db,_0x1e0608(0x573)+appId+_0x1e0608(0x48e),currentTeamQuizId),_0x3189da=await getDoc(_0x54c547);if(!_0x3189da[_0x1e0608(0x42d)]()){studentResultArea[_0x1e0608(0x9ba)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x337578=_0x3189da[_0x1e0608(0x51a)]();let _0x4bbee1=[];const _0x3662db=_0x337578[_0x1e0608(0x4cb)]||_0x1e0608(0x803);if(_0x3662db===_0x1e0608(0x698)){const _0xda1a3b=_0x337578['groups'][userId];_0xda1a3b?_0x4bbee1=[{'name':_0x1e0608(0x81b)+localTeamPlayers['join'](',\x20'),'score':_0xda1a3b[_0x1e0608(0x5aa)]||0x0}]:_0x4bbee1=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0x4bbee1=localTeamPlayers[_0x1e0608(0x7bf)](_0x4e5a93=>({'name':_0x4e5a93,'score':_0x337578[_0x1e0608(0x49e)][_0x4e5a93]?.[_0x1e0608(0x5aa)]||0x0}))[_0x1e0608(0x9c4)]((_0x235726,_0x29f344)=>_0x29f344[_0x1e0608(0x5aa)]-_0x235726[_0x1e0608(0x5aa)]);studentResultArea[_0x1e0608(0x9ba)]=_0x1e0608(0x4d1)+_0x4bbee1['map'](_0x5e5a9a=>_0x1e0608(0x701)+_0x5e5a9a[_0x1e0608(0x234)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5e5a9a[_0x1e0608(0x5aa)]+_0x1e0608(0x229))['join']('')+_0x1e0608(0x6dc),sessionStorage[_0x1e0608(0x345)]('activeGameSession'),currentMode===_0x1e0608(0x9ca)&&currentTeamQuizId&&setTimeout(()=>{const _0x198ffc=_0x1e0608;deleteDoc(doc(db,_0x198ffc(0x573)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x3de37b(0x280),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x565)},{'category':_0x3de37b(0x3d2),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x3a1)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x3aa)},{'category':_0x3de37b(0x3d2),'name':'การบวก'},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x5d9)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x6ad)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x898)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x526)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x923)},{'category':_0x3de37b(0x3d2),'name':'ศูนย์'},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x43c)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0xa01)},{'category':'จำนวนและการดำเนินการ','name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':'จำนวนและการดำเนินการ','name':_0x3de37b(0x368)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x58f)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x22d)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x158)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x6fe)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x190)},{'category':'จำนวนและการดำเนินการ','name':_0x3de37b(0x702)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x569)},{'category':_0x3de37b(0x3d2),'name':'การหารเศษส่วน'},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x853)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x5be)},{'category':'จำนวนและการดำเนินการ','name':_0x3de37b(0x65d)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x781)},{'category':'จำนวนและการดำเนินการ','name':_0x3de37b(0x7dc)},{'category':'จำนวนและการดำเนินการ','name':_0x3de37b(0xff)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x571)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x87c)},{'category':_0x3de37b(0x3d2),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x319)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x811)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x439)},{'category':'จำนวนและการดำเนินการ','name':_0x3de37b(0x7ec)},{'category':_0x3de37b(0x3d2),'name':_0x3de37b(0x1a2)},{'category':_0x3de37b(0x14f),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x3de37b(0x5c8)},{'category':'การวัด','name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x3de37b(0x14f),'name':_0x3de37b(0x4f9)},{'category':_0x3de37b(0x14f),'name':_0x3de37b(0x8ef)},{'category':'การวัด','name':_0x3de37b(0x731)},{'category':_0x3de37b(0x14f),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x3de37b(0x14f),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':_0x3de37b(0x3da)},{'category':_0x3de37b(0x14f),'name':_0x3de37b(0x968)},{'category':_0x3de37b(0x14f),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':_0x3de37b(0x3dc)},{'category':_0x3de37b(0x14f),'name':'สเกลและแผนที่'},{'category':_0x3de37b(0x14f),'name':_0x3de37b(0x9f3)},{'category':'เรขาคณิต','name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x3de37b(0x45c),'name':'ความสัมพันธ์ของมุม'},{'category':_0x3de37b(0x45c),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x3de37b(0x45c),'name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x3de37b(0x202)},{'category':_0x3de37b(0x45c),'name':_0x3de37b(0x938)},{'category':_0x3de37b(0x45c),'name':_0x3de37b(0x522)},{'category':'เรขาคณิต','name':_0x3de37b(0x47e)},{'category':_0x3de37b(0x45c),'name':_0x3de37b(0x95f)},{'category':'เรขาคณิต','name':_0x3de37b(0x9d4)},{'category':_0x3de37b(0x45c),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x3de37b(0x45c),'name':_0x3de37b(0x83e)},{'category':_0x3de37b(0x45c),'name':_0x3de37b(0x8ba)},{'category':'เรขาคณิต','name':_0x3de37b(0x7aa)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x38c)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x6d5)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x228)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x17b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3de37b(0x725)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3de37b(0x641)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3de37b(0x92c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3de37b(0x4ec)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x908)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x6e9)},{'category':_0x3de37b(0x417),'name':'สมการราก\x20(radical)'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':_0x3de37b(0x417),'name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3de37b(0x686)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0xa2b)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x401)},{'category':_0x3de37b(0x417),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x3e6)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x758)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x748)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x926)},{'category':_0x3de37b(0x417),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x915)},{'category':_0x3de37b(0x417),'name':'ฟังก์ชันพหุนาม'},{'category':_0x3de37b(0x417),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x149)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x684)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x161)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3de37b(0x6d8)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x24d)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x12a)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x7b1)},{'category':_0x3de37b(0x417),'name':_0x3de37b(0x588)},{'category':_0x3de37b(0x46d),'name':_0x3de37b(0x6d6)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3de37b(0x1ec)},{'category':_0x3de37b(0x46d),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x3de37b(0x46d),'name':_0x3de37b(0x639)},{'category':_0x3de37b(0x46d),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x3de37b(0x46d),'name':_0x3de37b(0x63c)},{'category':_0x3de37b(0x46d),'name':_0x3de37b(0x654)},{'category':_0x3de37b(0x46d),'name':'วงรี'},{'category':_0x3de37b(0x46d),'name':_0x3de37b(0x318)},{'category':_0x3de37b(0x58c),'name':_0x3de37b(0x4b0)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x3de37b(0x58c),'name':_0x3de37b(0x4f0)},{'category':_0x3de37b(0x58c),'name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':_0x3de37b(0x8e5)},{'category':_0x3de37b(0x58c),'name':_0x3de37b(0x930)},{'category':'ตรีโกณมิติ','name':_0x3de37b(0x679)},{'category':_0x3de37b(0x58c),'name':_0x3de37b(0x6c6)},{'category':_0x3de37b(0x58c),'name':_0x3de37b(0x4f5)},{'category':_0x3de37b(0x58c),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x3de37b(0x58c),'name':_0x3de37b(0x369)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0xa2e)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x49b)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x506)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x222)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x251)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x431)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x966)},{'category':'สถิติและความน่าจะเป็น','name':_0x3de37b(0x160)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x728)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x90c)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x28a)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x8bc)},{'category':_0x3de37b(0x26f),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x7c8)},{'category':'สถิติและความน่าจะเป็น','name':_0x3de37b(0x311)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x90f)},{'category':_0x3de37b(0x26f),'name':'กฎบวกและกฎคูณ'},{'category':'สถิติและความน่าจะเป็น','name':_0x3de37b(0x11a)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x820)},{'category':'สถิติและความน่าจะเป็น','name':_0x3de37b(0x584)},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x6b0)},{'category':'สถิติและความน่าจะเป็น','name':_0x3de37b(0x913)},{'category':_0x3de37b(0x26f),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x3de37b(0x26f),'name':_0x3de37b(0x5f9)},{'category':_0x3de37b(0x291),'name':_0x3de37b(0x33e)},{'category':_0x3de37b(0x291),'name':_0x3de37b(0x616)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3de37b(0x408)},{'category':_0x3de37b(0x291),'name':_0x3de37b(0x525)},{'category':_0x3de37b(0x291),'name':_0x3de37b(0x97a)},{'category':_0x3de37b(0x291),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x3de37b(0x291),'name':_0x3de37b(0x4c7)},{'category':_0x3de37b(0x291),'name':_0x3de37b(0x51b)},{'category':_0x3de37b(0x291),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x3de37b(0x291),'name':_0x3de37b(0x70d)},{'category':_0x3de37b(0x291),'name':_0x3de37b(0x98c)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3de37b(0x3ba)},{'category':_0x3de37b(0x291),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3de37b(0x2e8)},{'category':_0x3de37b(0x94a),'name':_0x3de37b(0x66b)},{'category':_0x3de37b(0x94a),'name':_0x3de37b(0x48f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3de37b(0x3b6)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3de37b(0x7b0)},{'category':_0x3de37b(0x94a),'name':_0x3de37b(0x817)},{'category':_0x3de37b(0x94a),'name':_0x3de37b(0x8c8)},{'category':_0x3de37b(0xa3a),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x3de37b(0xa3a),'name':_0x3de37b(0x7e9)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x3de37b(0xa3a),'name':_0x3de37b(0x45f)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3de37b(0xa22)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x3de37b(0x18f)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x3de37b(0x805),'name':_0x3de37b(0x645)}];function renderTopicCheckboxes(){const _0x130aa6=_0x3de37b,_0x8cd4d=document[_0x130aa6(0x26b)](_0x130aa6(0x601));if(!_0x8cd4d)return;const _0x544423=allMathTopics,_0x1509d8=customMathTopics[_0x130aa6(0x7bf)](_0x47d383=>({'id':_0x47d383['id'],'category':_0x130aa6(0x2d3),'name':_0x47d383[_0x130aa6(0x234)]})),_0x315006=[..._0x544423,..._0x1509d8],_0x4c05a3=_0x315006[_0x130aa6(0x5f2)]((_0x378d57,_0x234450)=>{const _0x276284=_0x130aa6;return!_0x378d57[_0x234450[_0x276284(0x3dd)]]&&(_0x378d57[_0x234450['category']]=[]),_0x378d57[_0x234450['category']]['push'](_0x234450),_0x378d57;},{});let _0x378462='';const _0x58ca55=[_0x130aa6(0x2d3),...Object[_0x130aa6(0xa3b)](_0x4c05a3)['filter'](_0x17254e=>_0x17254e!==_0x130aa6(0x2d3))];for(const _0x381685 of _0x58ca55){if(_0x4c05a3[_0x381685]){const _0x1a1dd7=_0x381685===_0x130aa6(0x2d3),_0x4c29c2=_0x1a1dd7?_0x130aa6(0x50c):_0x130aa6(0x9a3),_0x10b95f=_0x1a1dd7?'text-blue-700':_0x130aa6(0x422);_0x378462+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x378462+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x10b95f+_0x130aa6(0x425)+_0x4c29c2+_0x130aa6(0x371)+_0x381685+_0x130aa6(0x81d),_0x4c05a3[_0x381685][_0x130aa6(0x597)](_0x186851=>{const _0x4a5528=_0x130aa6,_0x2cdad2=!!_0x186851['id'],_0x3b2cbd=_0x2cdad2?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x186851['id']+_0x4a5528(0x5e1)+_0x186851['id']+_0x4a5528(0x7bb)+_0x186851['id']+_0x4a5528(0x6d7)+_0x186851['id']+_0x4a5528(0x31b):'';_0x378462+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x186851['id']||'')+_0x4a5528(0x4a1)+_0x186851[_0x4a5528(0x234)]+_0x4a5528(0x8aa)+_0x186851[_0x4a5528(0x234)]+_0x4a5528(0x4d9)+(_0x2cdad2?_0x4a5528(0x653)+_0x186851['name']+'\x22>':'')+_0x4a5528(0x3ff)+_0x3b2cbd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x378462+=_0x130aa6(0x7d8);}}_0x8cd4d[_0x130aa6(0x9ba)]=_0x378462||_0x130aa6(0x2c4),_0x8cd4d[_0x130aa6(0x394)](_0x130aa6(0x6ff),updateSelectedTopicsCount),_0x8cd4d['addEventListener'](_0x130aa6(0x6ff),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2f0cea,_0x334dde){const _0x43e3bd=_0x3de37b;if(!_0x2f0cea||!_0x334dde['trim']()){showMessage(_0x43e3bd(0x922));return;}try{const _0x3a9acf=doc(db,_0x43e3bd(0x573)+appId+_0x43e3bd(0x880),_0x2f0cea);await updateDoc(_0x3a9acf,{'name':_0x334dde[_0x43e3bd(0x168)]()}),showMessage(_0x43e3bd(0x972));}catch(_0x113ce2){console[_0x43e3bd(0x2a8)](_0x43e3bd(0x343),_0x113ce2),showMessage(_0x43e3bd(0x56f));}}function toggleTopicEditMode(_0x28e7b3,_0x172c38){const _0x2b0326=_0x3de37b;if(!_0x28e7b3)return;const _0x43ec84=_0x28e7b3['querySelector'](_0x2b0326(0x312)),_0xf9e6b8=_0x28e7b3[_0x2b0326(0x8f1)](_0x2b0326(0x3ab)),_0x48ae66=_0x28e7b3['querySelector'](_0x2b0326(0x703)),_0x454499=_0x28e7b3[_0x2b0326(0x8f1)](_0x2b0326(0x82d));_0x43ec84[_0x2b0326(0x74c)]['toggle']('hidden',_0x172c38),_0xf9e6b8[_0x2b0326(0x74c)][_0x2b0326(0x430)]('hidden',!_0x172c38),_0x48ae66[_0x2b0326(0x74c)][_0x2b0326(0x430)](_0x2b0326(0x2d5),_0x172c38),_0x454499[_0x2b0326(0x74c)][_0x2b0326(0x430)](_0x2b0326(0x2d5),!_0x172c38),_0x172c38&&(_0xf9e6b8['focus'](),_0xf9e6b8[_0x2b0326(0x5cb)]());}async function handleStartLiveRace(_0x1fec33){const _0x4f41e7=_0x3de37b;let _0x54ae75=allQuizzes[_0x4f41e7(0x1da)](_0x430fe8=>_0x430fe8['id']===_0x1fec33);if(!_0x54ae75){const _0x44aaaa=doc(db,_0x4f41e7(0x573)+appId+_0x4f41e7(0x5df),_0x1fec33),_0x4ef1d4=await getDoc(_0x44aaaa);if(!_0x4ef1d4[_0x4f41e7(0x42d)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x54ae75={'id':_0x4ef1d4['id'],..._0x4ef1d4['data']()};}const _0x135cb2=getShuffledQuiz(_0x54ae75);currentQuizData=_0x135cb2;const _0x16dbab=_0x54ae75[_0x4f41e7(0x551)]||currentProjectId||null,_0x1a79f=Math['floor'](0x3e8+Math[_0x4f41e7(0x3d1)]()*0x2328)[_0x4f41e7(0x400)]();currentLiveGamePin=_0x1a79f;try{const _0x592cc5=await addDoc(collection(db,_0x4f41e7(0x573)+appId+_0x4f41e7(0x6cb)),{'quizId':_0x1fec33,'projectId':_0x16dbab,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1a79f,'createdAt':serverTimestamp(),'shuffledQuiz':_0x135cb2});currentLiveGameId=_0x592cc5['id'],showAdminLobbyView(_0x1a79f,_0x54ae75[_0x4f41e7(0x680)]),listenForLiveGameUpdates();}catch(_0x3dd6ef){console[_0x4f41e7(0x2a8)](_0x4f41e7(0x458),_0x3dd6ef),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x3b0939=_0x3de37b,_0x2c5002=document[_0x3b0939(0x26b)](_0x3b0939(0x601)),_0x5ef961=_0x2c5002[_0x3b0939(0x303)]('input[type=\x22checkbox\x22]:checked')['length'],_0x5448ab=document[_0x3b0939(0x26b)](_0x3b0939(0x4da));_0x5ef961>0x0?_0x5448ab[_0x3b0939(0x64c)]=_0x3b0939(0x35f)+_0x5ef961+_0x3b0939(0x298):_0x5448ab[_0x3b0939(0x64c)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3de37b(0x836),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3de37b(0x9c7),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x3de37b(0x3ef),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;function _0x1cd6(){const _0x48d6af=['เกิดข้อผิดพลาดในการโหลดโปรเจค','correctAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100','q-explanation-','mjx-container','drop','ปริพันธ์จำกัด','bg-green-100','กิจกรรมสิ้นสุดลงแล้ว','\x22,\x20','บันทึกผลการเล่นเกมของ\x20','quiz-leaderboard-table','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizId','rgba(239,\x2068,\x2068,\x200.7)','start-game-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','close-comparison-modal-btn','\x5ctimes','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lowerGroupResponders','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','กำลังอ่านและเตรียมไฟล์...','suggestedAnswer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','bg-red-50','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','onchange','lesson-plan-modal','index','fa-user-astronaut\x20text-blue-700','bank-tab','currentQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','currentTarget','quiz-results-view','update-old-quizzes-btn','choices_only','confirm-rename-quiz-btn','auto-fix-latex-btn','_opt1\x22\x20name=\x22question','cancel-team-selection-btn','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','doughnut','practiceProblems','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','Error\x20confirming\x20players\x20for\x20sync\x20game:','confirm-team-players-btn','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','ย้าย','_blank','sort','manage','.delete-quiz-btn','bestScore','teachingContent','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','admin','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','คัดลอกไม่สำเร็จ','quiz-status-options','temp-loader-results','answered',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','#000000','touchstart','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','confirm-bulk-quiz-settings-btn','reset-project-order-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','ไม่มีผู้ตอบตัวเลือกนี้','สลับไปโหมดผู้ควบคุม','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','student-reading-area','message-modal','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','.correct-response-input','text-gray-300\x20hover:text-white','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x22...','$1\x5ctimes','confirm-delete-btn','reference-pdf-upload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scratchpad-options','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','splice','quiz-bank-count','cancel-create-project-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','Error\x20saving\x20game\x20results:','กำลังจับคู่...','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','jspdf','ค่าคลาดเคลื่อนของการวัด','lineJoin','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','/questionBank','.project-card-content','{$1}','cdot','passcode','cancel-quiz-edits-btn','live-game-view','whole_quiz','removeChild','result','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','position','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','members','quiz-start-time','.answers','เริ่มกิจกรรม:\x20','2157pRzHJi','ก่อนเรียน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','view-my-progress-btn','quizType','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','.quiz-settings-btn','replace','join','Remedial\x20quiz\x20generation\x20failed:','export-pdf-modal','Error\x20updating\x20sort\x20preference:','quiz-leaderboard-table-container','comparison-individual-content','pointercancel','nickname-input','both','presentation-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ร้อยละประยุกต์','input[type=\x22radio\x22][value=\x22','\x20\x20\x20-\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','geq','highlighter-tools-group','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20generating\x20from\x20parallel\x20test\x20file:','อสมการค่าสัมบูรณ์','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','ชนิดของข้อมูลและการเก็บข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','start-sync-game-btn','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','sync','.parallel-quiz-btn','every','empty','questionDisplayedAt','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','div[data-question-index=\x22','คณิตการเงิน/บูรณาการ','keys','Error\x20fetching\x20project\x20quizzes:',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','preventDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI:','.question-editor-item[data-q-index=\x22','\x20รายการ\x20สำเร็จ!','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','เกมสิ้นสุดลงแล้ว','-tab','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','perQuestionStats','lower_group_count','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-modal','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','tooltipTarget','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','bg-emerald-100','finishReason','student-progress','isAdaptive','studentName','\x22\x20name=\x22question_single\x22\x20value=\x22','การหารทศนิยม','เพิ่มหัวข้อ\x20\x22','\x22\x20class=\x22pin-project-btn\x20','text-red-700','export-tutor-pdf-btn','max','getItem','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','default','Error\x20fetching\x20quiz\x20status:','standardTopic','blueprint-input-area','execCommand','\x22\x5cn','fill_in_no_choices','/users/','<p\x20class=\x22','quiz-form','quiz-generation-area','circle','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','(คัดลอก)\x20','Error\x20toggling\x20star\x20status:','\x20/\x20','แผนภาพเวนน์','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>','idealAnswer','gain','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขข้อนี้','.summary-bar-item','</label></div>','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','cancel-rename-quiz-btn','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ลำดับเรขาคณิต\x20(GP)','open','confirm-game-start-btn','.kick-player-btn-sync','style','close-lesson-plan-modal-btn','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','bar','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','project-detail','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-controls','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','null','results-tab-content','timer-duration-input','.quiz-bank-move-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','<tr>','behaviorLog','goto-next-question-btn','text-red-900','shouldSaveResults','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','.color-palette-btn','input[name=\x22team_player\x22]:checked','file-upload-input','ฟังก์ชันราก\x20(root)','fullscreenElement','questionType','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','project-sort-select','Failed\x20to\x20create\x20initial\x20submission\x20record:','การวัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20คนที่ส่ง\x20ตอบถูก\x20(','Enter','multiple_choice','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','$1^{\x5ccirc}','อัตราและอัตราหน่วย','การยืนยันตัวตนล้มเหลว','check-answer-btn','ยืนยันและอัปเดตทั้งหมด','main-correct-answer-display','text-gray-400\x20hover:text-indigo-600','ตั้งเวลา\x20(เปิด)','includes','มัธยฐาน','ฟังก์ชันยกกำลัง','Error\x20pairing\x20quizzes:','webkitRequestFullscreen','some','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','#D1FAE5','bg-red-100\x20text-red-800','trim','end-team-quiz-btn','.copy-quiz-id-list-btn','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','$$$1$','manage-players-btn','projectOrder','ยังไม่ส่ง','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','repeat','(ก่อนเรียน)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','</div><div\x20class=\x22space-y-2\x22>','projectView','การแยกตัวประกอบ','width','ทำคะแนนได้เกินครึ่ง','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','num-choices-container','.toggle-actions-btn','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','$1\x5ctext{','behavior-log-tab-btn','รีเซ็ตลำดับโปรเจคแล้ว','groups.','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','undefined','<i\x20class=\x22fas\x20fa-magic\x22></i>','num-questions','.cancel-edit-topic-btn','bg-red-100','ค่าความจริง/ตารางค่าความจริง','การบวกเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','toDataURL','type','ไม่สามารถเริ่มเกมได้','showImproveButton','.lastAnswerIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid-view-btn','questionText','^{\x5ccirc}\x5ctext{C}$','strokeStyle','get','bg-amber-100\x20text-amber-800','confirm-move-quiz-btn','answers','สัญกรณ์วิทยาศาสตร์','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','clientX','หมดเวลา!\x20กำลังส่งคำตอบ...','ลบแบบทดสอบสำเร็จแล้ว','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','.color-palette-popup','candidates','overallGroups','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','confirmation-modal','pow','\x20คะแนน</span></div>','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','description','เกิดข้อผิดพลาดในการส่งคำตอบ','hint','live-submit-short-answer-btn','opacity-50','th-TH','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','modal-adaptive-quiz-checkbox','AI\x20Fix\x20Error:','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','short_answer','แบบทดสอบนี้หมดเวลาแล้ว','log','practice-topic-btn','confirm-game-start-modal','isStarred','quiz-schedule-end-container','dragstart','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','fa-pen','numPages','.live-answer-btn','Error\x20listening\x20for\x20custom\x20math\x20topics:','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','\x5csqrt{$1}','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','text-emerald-900','ผู้ควบคุม\x20(ทดสอบ)','Error\x20saving\x20settings:','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','transparent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','find','text-blue-700\x20bg-blue-100','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','label[for=\x22num-questions\x22]','.quiz-result-card','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questionIndex','รอเปิด','project-id-display','classWeaknesses','ส่งแล้ว','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','OBJECT','<div\x20class=\x22loader\x20mx-auto\x22></div>','admin-password-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.pair-quiz-btn','ความชันและเส้นตรง','mousedown','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x20ตัวเลือก.\x20','undo-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','transformOrigin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','student-project-leaderboard-tab','game-start-mode','.choice-text','พบข้อสอบ\x20','ความเท่ากันทุกประการของสามเหลี่ยม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','promise','STRING','next-drill-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isConfidenceScoringEnabled','เกิดข้อผิดพลาดในการโหลดสถานะ','.admin-try-quiz-list-btn',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','confirm-quiz-status-btn','ใช่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','toISOString','devicePixelRatio','.score','.start-presentation-list-btn','text-content-input','message','highlighter','topic-input-area','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','QUICK_THINKER','bg-green-200\x20text-green-800','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','<i\x20class=\x22fas\x20fa-save\x22></i>','ตาของ:\x20','multiply','blockReason','กราฟแท่ง\x20กราฟเส้น','results-table-container','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','<div\x20class=\x22my-2\x22>','\x5cfrac{$1}{$2}','setAttribute','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers\x20in\x20editor:','รหัสไม่ถูกต้อง','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อัตราส่วนและสัดส่วน','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','target','parts','touchcancel','export-word-btn','then','name','modal-passing-score-input','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','input[type=\x22radio\x22]:checked','upper_group_count','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','answer','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','project-passcode-modal','shadowColor','show_pass_fail_only','ปิดใช้งาน','ไม่ใช่','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','Error\x20saving\x20visibility\x20settings:','เปลี่ยนชื่อโปรเจคสำเร็จ','isFinished','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x22\x20value=\x22','ลำดับเลขคณิต\x20(AP)','กรุณาใส่ชื่อนักเรียน','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ฮิสโตแกรม','visibilityState','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x22.\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x20mb-2\x22>','.quiz-bank-delete-btn','mouseleave','leaderboard-quiz-tab-btn','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','bank-quiz-search-input','questionId','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','sync-manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','กรุณาเลือกชื่อของคุณ','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','.pen-color-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','enable-passcode-checkbox','comparison','checked','save-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','getElementById','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','custom-math-topic-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','สถิติและความน่าจะเป็น','loop-until-pass-checkbox','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','18dwmPbY','text-red-800','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','true_false','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเฉลี่ย','bg-gray-50','fa-fire\x20text-orange-500','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','.compare-results-btn','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','finished','lesson-plan-content','date_desc','typesetPromise','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','toFixed','สร้างคำถามแบบใช่/ไม่ใช่','slice','save','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','ส่วนเบี่ยงเบนเฉลี่ย','.submittedAt','ลบผลสอบของ\x20','Error\x20saving\x20quiz\x20edits:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','input','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','แคลคูลัสเบื้องต้น','bg-green-100\x20font-bold','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','frac','results-quiz-id-display','passing-score-input','\x20หัวข้อ)','totalPoints','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','sync-player-list','อัปเดตพฤติกรรมสำหรับ\x20','\x20คน\x20ตอบถูก</p></div>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','#F59E0B','ดูผลสรุปสุดท้าย','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','error','lineWidth','perfect_score_status','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','<option\x20value=\x22','latestScore','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','preTScore','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-end-time','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','แบบปรนัย\x204\x20ตัวเลือก','กรุณาเลือกโปรเจคที่ต้องการบันทึก','</tbody></table></div>','mixed','true','link-input-area','ยังไม่มีนักเรียนส่งงาน','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','input[name=\x22status-option\x22]:checked','filter','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','q-text-','correctResponse','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','cancel-quiz-bank-btn','quick_thinker','ไม่พบข้อมูลแบบทดสอบ','bg-blue-100\x20text-blue-800','<span\x20title=\x22','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','ผ่านฉลุย','name_desc','show-in-student-dashboard-checkbox','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','hidden','globalAlpha','Error\x20opening\x20quiz\x20editor:','no-projects-msg','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ราชาคัมแบ็ก','onload','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบในระบบเลย','.group','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','Error\x20saving\x20project\x20order:','behavior-log','interesting-stats-wrapper','split','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','bg-yellow-50','project-name-input','กำลังสร้างแบบทดสอบคู่ขนาน...','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','classStrengths','rgba(16,\x20185,\x20129,\x200.7)','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','กรุณาใส่ชื่อโปรเจค','pin','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','pointsLastQuestion','export-image-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','จับคู่แบบทดสอบสำเร็จ!','\x5cdiv','wakeLock','game-start-quiz-id','กรุณาเลือกคำตอบก่อนครับ','(^|[^\x5c\x5c])\x5cb','submission','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','quiz-results-table-body','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','release','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','targetId','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','#FEE2E2','getAttributeNS','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy-quiz-id-btn','strength-weakness-analysis-container','end-game-btn','\x22>ไม่ใช่</p>','.quiz-bank-parallel-btn','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','0\x200','question-complexity-select','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','per-question-options','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','.topic-name-display','หมดเวลาสำหรับข้อนี้!','neq','bg-red-200\x20text-red-800','#e21b3c','parse','ไฮเพอร์โบลา','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','/public/data/practiceBank','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22>ไม่ใช่</label></div>','ไม่ใช่\x20/\x20ผิด','comparison-chart','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','projectSortOrder','removeAttribute','student-team-join','hint-btn','timer-mode-select','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20project\x20color:','num-choices','คณิตศาสตร์','border-indigo-400\x20ring-2\x20ring-indigo-200','postTScore','.ql-editor','allResponses','fill_in_the_blank','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-count','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','Failed\x20to\x20get\x20standardized\x20topic:','students','เกิดข้อผิดพลาดในการจับคู่','\x22><i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','.status','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','mouse','ลิมิต','getBBox','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','บันทึกการตั้งค่าสำเร็จ','Error\x20updating\x20custom\x20topic:','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบแบบทดสอบ','ใช่\x20/\x20ถูก','circ','startedAt','worksheet-topic-input','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a</div>\x0a','\x22\x20data-pre-test-id=\x22','force-math-checkbox','element','isScored','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','dataIndex','back-to-student-initial-btn','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','พบ\x20Sync\x20Game!','</body></html>','timer-container','analytics-summary-cards','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','ai-quiz-app-aefee','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','lesson-plan-title','(เลือกแล้ว\x20','Error\x20starting\x20game:','cancel-quiz-edits-btn-footer','scratchpad-close-btn','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กรุณาเลือกสถานะ','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ห.ร.ม.\x20(GCD)','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','กำลังสร้างรูปภาพ...','thead','globalCompositeOperation','cancel-move-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupNames','6LtMDDy','\x20mr-2\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','per-q-countdown','test','.start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','project-title','application/json','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','link-topic-input','กรุณาพิมพ์คำตอบของคุณ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','สร้างโปรเจคสำเร็จ!','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','close-presentation-btn','size','.delete-student-btn','rgba(59,\x20130,\x20246,\x200.7)','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','\x22>ใช่</p>','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','move-quiz-modal','outerHTML','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','removeEventListener','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','startsWith','</p><div>','showInStudentDashboard','.png','#student-project-leaderboard-content\x20thead','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','text-red-700\x20bg-red-100','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ย้ายแบบทดสอบไปโปรเจคอื่น','การปัดเศษและประมาณค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','cursor','เกิดข้อผิดพลาดในการลบผลสอบ','ARRAY','analytics-tab-btn','.delete-project-btn','Invalid\x20response\x20structure\x20from\x20AI.','ลำดับการดำเนินการ\x20(PEMDAS)','.topic-name-input','scratchpad-canvas','comparison-overall-tab','.star-quiz-btn','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','text-white','transition-all','touchend','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-700','start-presentation-btn','เมทริกซ์:\x20บวก/คูณ','student-team-selection-view','input[type=\x22checkbox\x22]','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','COMEBACK_KING','student-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','</p></div>','ไม่พบข้อมูลผู้ใช้','qIndex','.delete-svg-btn','quiz-results','confidence-modal','clearRect','API\x20call\x20failed\x20with\x20status:\x20','createElementNS','ไม่สามารถโหลดรายการโปรเจคได้','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','upperGroupNames','all','Error\x20listening\x20for\x20student\x20profiles:','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close-comparison-modal-footer-btn','random','จำนวนและการดำเนินการ','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','.draggable-text','next-sync-question-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','project-detail-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','มุมและการวัดมุม','category','border-gray-200','show-leaderboard-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','projectSort','next-question-btn','confidence-scoring-toggle','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','โดเมนและเรนจ์','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<svg','justification','auto','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','red','setTransform','icon','rgba(255,\x20255,\x200,\x200.5)','global-quiz-list','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','padStart','อัปเดตการตั้งค่าของแบบทดสอบ\x20','160228LQBglB','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','keyup','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li>','Error\x20generating\x20easy\x20version\x20quiz:','text','rgba(239,\x2068,\x2068,\x200.9)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toString','ระบบอสมการ',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','bg-green-500','modal-loop-until-pass-checkbox','<tr><td\x20colspan=\x22','อนุพันธ์:\x20กฎพื้นฐาน','border-red-300\x20bg-red-50','sqrt','presentation-modal','\x22\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','save-project-name-btn','จำนวนนักเรียน','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','.delete-submission-btn','function','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','player-list-lobby','บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','admin-testing','</span><span\x20class=\x22font-bold\x22>','isRemedial','export-leaderboard-image-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','ตอบถูกทุกข้อในแบบทดสอบนี้','text-indigo-700','q-image-container-','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','generated-quiz-actions','autoTable','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เกิดข้อผิดพลาดในการปักหมุด','\x5cpm','submissions','top','exists','สร้างแบบทดสอบปรนัย','scrollY','toggle','แผนภาพกล่อง\x20(box\x20plot)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','px,\x20','workerSrc','$1^{$2}','half_mark_status','comparison-overall-content','Firebase\x20initialization\x20failed:','รากที่สองและที่สาม','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','beginPath','ค่าสัมบูรณ์','ผ่าน','1:274192258111:web:4120c9118229b5644dd48a','แบบทดสอบซ่อมเสริม','show-results-btn','answering','confirm-confident','bulk-quiz-settings-btn','translate','rename-quiz-input','คำถามถัดไป','/public/data/quizzes/','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','live-game','leaderboard-quiz-tab-content','abs','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','Error\x20joining\x20team\x20quiz:','matching','line-through\x20text-red-700','substring','add-custom-math-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','set','ไม่มีคำอธิบาย','attempts','.doc','Error\x20starting\x20live\x20race:','earned-badges-container','All\x20groups\x20have\x20finished.\x20Ending\x20game.','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิต','image/png','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ค่าเสื่อมราคา','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','สรุปผลสุดท้าย','submittedAt','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x5cle','สอบปกติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','Team\x20Quiz','.project-card-container.opacity-50','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','เรขาคณิตวิเคราะห์','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x20from\x20sync\x20game:','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','ring-purple-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','times','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','shuffle-setting-select','results-tab','(ก่อนเรียน)\x20','รูปหลายเหลี่ยมและมุมภายใน','บันทึกการตั้งค่าการแสดงผลสำเร็จ','authed_project_','instructions','student-name-select','student-quiz-topic','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','scratchpad-modal','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','floor','name_asc','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x22\x20name=\x22question','/public/data/teamQuizzes','การประยุกต์เวกเตอร์พื้นฐาน','#26890c','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','stdDev','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','createElement','close-student-rankings-btn','lessonPlan','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','onclick','การจัดกลุ่มข้อมูล','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','ตรวจพบการออกจากหน้าจอครบ\x20','responses','live-race','promptFeedback','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x20สำเร็จ','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','กรุณาเลือกไฟล์ก่อน','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','5171430UxQEyB','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','<div\x20class=\x22answer-space\x22></div>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','requestFullscreen','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','dataset','Group\x20Mode','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','slide-counter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบของกลุ่ม','#FEF3C7','modal-timer-duration-label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.duplicate-quiz-btn','text-emerald-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','3515856svVHYx','values','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','Error\x20verifying\x20answers:','appendChild','fromCharCode','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','round','ความชันเส้นสัมผัส','eraser-tool-btn','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','modal-shuffle-select','mode','student-quiz-leaderboard-tab','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','isPasscodeEnabled','screen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','Original\x20quiz\x20not\x20found','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-topics-count','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','Error\x20saving\x20user\x20preference:','write','sync-player-management','setAttributeNS','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','N/A','moveTo','.isScored','กรุณาป้อนรหัสแบบทดสอบ','latestSubmittedAt','global-live-game-count','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','text-yellow-800','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','ที่พิมพ์ได้\x20จำนวน\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','จากเนื้อหาต่อไปนี้:\x20\x22','มุมพิเศษ\x2045°-45°-90°','findIndex','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','schedule','.quiz-bank-settings-btn','สมการตรีโกณมิติ','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','ปริมาตร/ความจุและการแปลง','text-indigo-600','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','กำลังดึงข้อมูลจากลิงก์...','adaptive-quiz-checkbox','globalSettings','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','(คู่ขนาน)\x20','now','date_asc','ตารางความถี่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','end-sync-game-btn','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','fa-rocket\x20text-purple-500','export-lesson-pdf-btn','fas\x20fa-user-edit','cancel-passcode-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','has','modal-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','หยุดระบบจับเวลาหรี่หน้าจอ','.export-pdf-list-btn','cancel-quiz-settings-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','quizMode','pen','starred-project','data','อัตราการเปลี่ยนแปลงทันที','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','helvetica','Error\x20processing\x20file\x20for\x20AI:','badges','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','รูปสี่เหลี่ยมและสมบัติ','จับคู่เพื่อเปรียบเทียบผล','</li>','อนุพันธ์:\x20กฎลูกโซ่','จำนวนเต็มบวก','/public/data/projects/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','export-excel-btn','visible','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#per-question-options\x20textarea','export-leaderboard-excel-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20student:','Error\x20updating\x20old\x20quizzes:','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','สลับไปโหมดนักเรียน','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','podium','px)\x20scale(','AI\x20ไม่สามารถประมวลผลข้อมูลได้','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','trail','tGain','submit-team-answer-btn','Error\x20updating\x20quiz\x20status:','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','close','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team-player-status-grid','difficulty-level-select','.answer-text','.option-text','comeback_king','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','isPinned','totalQuestions','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','projectId','กำลังสแกนหาแบบทดสอบเก่า...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการลบแบบทดสอบ','fa-dumbbell\x20text-gray-700','sin','.pen-size-btn','approx','คัดลอกแบบทดสอบสำเร็จ','active','ยืนยันการจับคู่','ลบหัวข้อสำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','insertBefore','topic-tab','ส่งคำตอบ','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','open-quiz-bank-btn','การนับ','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','student-quiz-area','การคูณเศษส่วน','border-green-700','leaderboard','#results-table\x20thead\x20tr','fixed','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','startTime','artifacts/','\x22\x20name=\x22drill_answer\x22\x20value=\x22','export-pdf-btn','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','.rename-quiz-btn','length','grid','block','keydown','highlighter-size-value','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','rgba(79,\x2070,\x20229,\x201)','stroke','text-red-300\x20hover:text-red-100','cos','cloneNode','ความเป็นอิสระของเหตุการณ์','fixedData','bulk-results-display-select','touchmove','จำนวนเชิงซ้อน\x20(เสริม)','editable-quiz-topic','lineCap','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ตรีโกณมิติ','.pdf','Error\x20generating\x20parallel\x20post-test:','ค.ร.น.\x20(LCM)','student-result-area',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','imageCode','Error\x20resetting\x20project\x20order:','border-red-700','forEach','verify-answers-editor-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','save-quiz-btn','preTestId','flex','_opt','<p>','reveal-answer-btn','move','input[name=\x22status-option\x22]','ไม่พบข้อมูลข้อสอบหลังเรียน','<p\x20class=\x22text-xl\x22>','contentEditable','s;\x22\x20title=\x22','passcode-prompt-message','เกิดข้อผิดพลาดในการสร้างใบงาน','Error\x20starting\x20group\x20quiz:','score','projectName','right','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','touches','\x0a\x20\x20\x20\x20','back-to-dashboard-from-results-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','show_results_and_answers','student-initial-view','\x20จาก\x20','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ownerSVGElement','.lastAnswerCorrect','ทศนิยม\x20(ค่าประจำหลัก)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','Error\x20during\x20class\x20analysis:','</span></td>','document','หน่วยมวล/น้ำหนักและการแปลง','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select','.scratchpad-content-wrapper','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</td></tr>','timerMode','สร้างใหม่','text/csv;charset=utf-8;','delete-all-students-btn','.csv','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','ผู้เชี่ยวชาญ','.topic-row','การลบ','Error\x20showing\x20quiz\x20detail\x20view:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','modal-message','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','/public/data/quizzes','getScreenCTM','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','results_','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','shadowBlur','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','div','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','resultsDisplay','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-counter','reduce','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ON_FIRE','progress-project-select','inactive','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','create-project-btn','ความคาดหมาย\x20(Expected\x20value)','mode-switcher-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','hasPerfectScoreBonus','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','math-topics-checkbox-container','getPage','td,\x20th','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x22true\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x22false\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><p><strong>เฉลย:</strong>\x20','เกิดข้อผิดพลาด:\x20','คะแนนเต็ม!','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','Error\x20comparing\x20results:','normal','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ท็อปฟอร์ม','mean','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','dashboardConfig','responses.','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','แบบทดสอบจากคลังส่วนตัว','ความต่อเนื่อง','loopUntilPass','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-red-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','923445wwxUIa','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','prod','\x20รายการ...','lobby','stem','.ideal-answer-input','pairedQuizId','wasConfident','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','kick-player-btn','open-sync-scratchpad-btn','#E0E7FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','trail-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','password-error-msg','pen-tool-btn','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','Error\x20updating\x20pin\x20status:','#per-question-options\x20select','Error\x20starting\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','input[type=\x22text\x22]','เส้นตรง:\x20ขนาน/ตั้งฉาก','2-digit','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','วงกลม:\x20สมการและสมบัติ','topic-input','bulk-loop-until-pass-checkbox','results-quiz-title','comparison-modal','ระบบสมการเชิงเส้นสองตัวแปร','prev-question-btn','text-green-800','answerText','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','move-quiz-project-select','tan','generate-from-parallel-test-btn','-\x20ข้อ\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','textContent','destroy','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20user\x20preferences:','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','พาราโบลา','$1\x20\x5cfrac','editor-quiz-topic','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','</span></p>','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-dashboard-view','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','.project-card-container[data-id]','Attempting\x20to\x20save\x20game\x20results...','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','Error\x20fetching\x20quiz\x20settings:','arrayBuffer','localeCompare','กำลังสร้างแบบทดสอบจากหัวข้อ...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','ดอทโปรดักต์\x20(dot)','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','stringify','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','blueprint-tab','wheel','svg','scheduled','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','text-green-600\x20font-bold','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','string','getContext','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','Leaderboard\x20update\x20transaction\x20failed:\x20','\x5cs*\x5c(','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','topic','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','Error\x20generating\x20quiz:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','ฟังก์ชันค่าสัมบูรณ์','quiz-type-select','อสมการเชิงเส้น','color','fadeStartTime','endTime','questionStatus','Copy\x20command\x20failed','scale','text-green-700\x20bg-green-100','parallel-test-upload-input','back-from-results-btn','Error\x20toggling\x20pin\x20status:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','[data-topic-container-id]','/submissions','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x20ชุด)','.verification-result-editor','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','group','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','comparison-individual-tab','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','เปิด\x20(จับเวลา)','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','Error\x20submitting\x20group\x20answer:','สร้างชุดคำถามจับคู่','json','student-join-game-view','text-green-600','mouseup','student-quiz-leaderboard-table-body','การคูณ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','บันทึกคำถามใหม่\x20','การเรียงสับเปลี่ยน\x20(Permutation)','duration-300','No\x20player\x20data\x20to\x20save.','request','#results-table','export-worksheet-pdf-btn','fix\x20the\x20option','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBoundingClientRect','files','questions','source-over','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','open-scratchpad-btn','/preferences/main','ไม่ผ่าน','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','scores-tab-content','confirm-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','```json','การแปลงรูปอัตลักษณ์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','[role=\x22textbox\x22]','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','/public/data/liveGames','matching_item','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','game-pin-input','.quiz-bank-try-btn','question','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','-tab-content','การกระจายและการจัดหมู่','ระยะทางและจุดกึ่งกลาง','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ฟังก์ชันลอการิทึม','Authentication\x20failed:','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answer-grid-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','min','\x20รายการสำเร็จ!','cancel-export-pdf-btn','เกิดข้อผิดพลาดในการเปลี่ยนสี','className','results-table','Error\x20submitting\x20team\x20answer:','text-gray-700','delete','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','สมการเหตุผล\x20(rational)','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','none','2944115XSYEoU','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','.unpair-quiz-btn','passcode-error-msg','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','perseverance','catch','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<p\x20class=\x22text-2xl\x22>','gamePin','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','presentation-ai-result','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','เศษส่วน\x20(ย่อ/ขยาย)','change','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','การลบเศษส่วน','.topic-actions-view','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','5613538FICjAL','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','#DBEAFE','เกิดข้อผิดพลาดในการนำผู้เล่นออก','pen-tools-group','ไม่พบข้อมูลโปรเจค','ปริพันธ์ไม่จำกัด','href','quadraticCurveTo','confidence-scoring-description','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','highlighter-tool-btn','เกี่ยวกับหัวข้อ\x20\x22','/studentProfiles','เกิดข้อผิดพลาดในการลบนักเรียน','quiz-editor-questions-container','toDate','Error\x20fetching\x20projects\x20for\x20move:','\x5cge','เกิดข้อผิดพลาดในการบันทึกลำดับ','ไม่สามารถสร้างโปรเจคได้','cancel-test-btn','ลบโปรเจคสำเร็จแล้ว','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-header','Sync\x20Mode','next-question-timed-btn','bg-yellow-100','สมการเชิงเส้นตัวแปรเดียว','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','[contenteditable=\x22true\x22]','ฐานนิยม','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','NUMBER','/public/data/projects','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','progress-student-select','เส้นรอบรูป','หลังเรียน','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-300\x20bg-green-50','ข้อที่\x20','quiz-schedule-start-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','$1^{\x5ccirc}\x5ctext{C}','admin-dashboard','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','quiz-search-input','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','closePath','join-live-game-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','players.','บันทึกการตั้งค่าแล้ว','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','first_try_ace','submission-status-chart','fullscreenchange','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','input[name=\x22drill_answer\x22]:checked','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','classList','generate-worksheet-btn','student-progress-content','.project-card-container:not(.opacity-50)','loader-text','admin-try-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','analyze-strengths-btn','dispatchEvent','data:application/vnd.ms-word;charset=utf-8,','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ระยะเวลา\x20(นาที):','องค์ประกอบของฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','27411472','ไม่สามารถโหลดข้อมูลอันดับได้','include-images-checkbox','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','user-id-display','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','reset-view-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','parallel-test-tab','results-display-select','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','#E5E7EB','confirm-not-confident','back-to-dashboard-btn','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','analytics-tab-content','live-player-management','คำถามดิบ:\x20\x22','start-quiz-btn','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','student-view','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','generated-quiz-container','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','ชื่อโปรเจคห้ามว่าง','Error\x20deleting\x20custom\x20topic:','team-quiz-topic','.quiz-bank-present-btn','admin-view','PERSEVERANCE','\x20</div>\x0a\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','parseFromString','การลบทศนิยม','timer-duration-container','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','countdown-display','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','student-project-leaderboard-content','save-game-results-checkbox','Error\x20starting\x20team\x20quiz:','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','perfect_score','createdAt','export-leaderboard-pdf-btn','<div\x20class=\x22space-y-4\x22>','pointerup','export-leaderboard-word-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','project-quizzes-list','leaderboard-quiz','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','AI\x20Formula\x20Fix\x20Error:','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','แผนการสอน','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','contains','#FFFFFF','เกิดข้อผิดพลาดในการบันทึก','</option>','tfrac','pointerType','visibilitychange','shuffledQuiz','การสร้างรูปด้วยวงเวียน–สันตรง','text-blue-800','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','pre-test','G-V90KRM0L63','อินเวอร์สของเมทริกซ์','ทฤษฎีทวินาม\x20(เบื้องต้น)','.regenerate-question-editor-btn','fa-bolt\x20text-blue-500','Error\x20confirming\x20players:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x22>จาก:\x20','bulk-quiz-settings-modal','Error\x20updating\x20project\x20name:','save-quiz-edits-btn','file-input-area','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-green-100\x20text-green-800','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','Failed\x20to\x20end\x20group\x20mode\x20game:','map','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FIRST_TRY_ACE','docs','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.lastAnswerValue','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','การแจกแจงปกติและ\x20z-score','MathJax','sum','eraser','project-search-input','bottom','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','lastAnswerIndex','.presentation-option','setFont','<button\x20data-quiz-id=\x22','.ai-fix-formula-btn','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','$1\x5c%','clientY','</div>','correctAnswerIndex','join-group-activity-btn','คำเตือน\x20(','การคูณทศนิยม','sync-short-answer-input','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','summary_chart','total','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','Error\x20listening\x20for\x20starred\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ข้อต่อไป','scores','str','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','ดอกเบี้ยทบต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ข้อ\x20','รูปสแควร์รูท\x20(surd)','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','%</span>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','confirm-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','learningGaps','สรุปผลการวิเคราะห์:\x5cn','presentation-explanation','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',',\x20r=','innerText','\x22><span>','analytics','insertAdjacentHTML','editable-text-','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','team','pop','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','MathJax\x20typeset\x20error\x20(analytics):','file-tab','left','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','deg','คะแนนเต็ม','กำลังสร้างคำถามข้อ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','specialist','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','พบ\x20Team\x20Quiz!','addEventListener','_opt0\x22\x20name=\x22question','text-gray-500','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','ดีเทอร์มิแนนต์','sync-matching-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','กลุ่ม:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','settings','fa-shield-alt\x20text-gray-600','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','toLocaleDateString','.highlighter-color-btn','close-lesson-plan-modal-footer-btn','bg-green-200','rename-quiz-modal','คัดลอกรหัสแล้ว!','tool','FileReader\x20error:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','toLowerCase','แผนการสอน:\x20','.topic-actions-edit','display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ai-quiz-generator-v3','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerDuration','touch','student','#F3E8FF','Error\x20adding\x20custom\x20topic:','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','generate-from-blueprint-btn','backgroundColor','กรุณาเลือกคำตอบ','standard','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','fill_in_with_choices','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x5cfrac','modal-results-display-select','height','สร้างคำถามใหม่\x201\x20ข้อ\x20','pointerdown','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','เกิดข้อผิดพลาดในการลบหัวข้อ','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','webkitExitFullscreen','ไม่พบโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนคละ','ref','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','key','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','groups','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','answeredCurrentQuestion','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','font-bold\x20text-green-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','disabled','per_question','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','interesting-stats-container','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','leq','.answered','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','กรุณาใส่ชื่อใหม่','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x20คู่\x20','\x20คะแนน\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','</span>','.generate-lesson-btn','</span></div>','<div\x20id=\x22q-image-container-','ร้อยละพื้นฐาน','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','indexOf','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','/public/data/customMathTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','download','badgesCount','value','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','คะแนน','items','Error\x20fetching\x20student\x20rankings:','list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','(ไม่มีชื่อ)','pinned-items','จำนวนคู่:','ระยะเวลา\x20(วินาที):','</button>','สร้างแบบทดสอบ','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','match','bank-input-area','print','start-live-race-generated-btn','การหาร','\x22\x20value=\x22false\x22\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','<br>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','cancel-delete-btn','bg-black/20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','<textarea\x20name=\x22question','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','isLooping','scores-tab-btn','draggable-text','\x20mx-1\x20text-lg\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','class','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','ไม่สามารถบันทึกการตั้งค่าได้','student-progress-view','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','#student-quiz-leaderboard-content\x20thead','Error\x20joining\x20activity:','<tr\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','push','\x20ช่อง','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','สมมาตร\x20(แกน/จุด)','translate(','ความแปรปรวน','generate-from-topic-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','redo-btn','msRequestFullscreen','<p><strong>คำตอบที่แนะนำ:</strong>\x20','click','restore','title','ถูกต้อง!','Error\x20deleting\x20project:','canvas','แก้ระบบสมการด้วยเมทริกซ์','\x5csum','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','explanation','table','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','closest','bg-gray-500','text-purple-600','focus','ตรวจทานเฉลยเสร็จสิ้น!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี','\x22\x20data-topic=\x22','ไม่สามารถเพิ่มนักเรียนได้','per-question-text','สร้างคำถามแบบเติมคำในช่องว่าง','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','content','lastAnswerCorrect','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','raw','ผิด','GlobalWorkerOptions','toLocaleString','options','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','กฎของไซน์','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','post-test','text-gray-200','grabbing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','timestamp','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','passcode-input-container','อุณหภูมิและการแปลง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','querySelector','presentation-short-answer-input','export-compact-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','code','fill','Error\x20saving\x20quiz:','.\x20แต่ละข้อมี\x20','desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','<li\x20class=\x22','Error\x20deleting\x20quiz:','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','336bYJena','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','katex','loader','\x5c\x5c\x5c\x5c(?=(','asc','textarea[name=\x22team_answer\x22]','ตอบถูก\x203\x20ข้อติดต่อกัน','กำลังอัปเดตแบบทดสอบ\x20','สมการค่าสัมบูรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พิสัย','Error\x20generating\x20worksheet:','cancel-quiz-status-btn','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-modal','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','การจัดหมู่\x20(Combination)','correct','ฟังก์ชันกำลังสองและกราฟ','[*]','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','points','อัปเดตแบบทดสอบเก่า\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','live-short-answer-input','ไม่ได้ตอบ','status','ชื่อหัวข้อห้ามว่าง','จำนวนเต็มลบ','after','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','retake-quiz-loop-btn','live-player-list','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','pinnedProjects','.live-answer-btn,\x20#sync-submit-btn','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','.ai-fix-question-btn','.question-editor-item','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','กฎของโคไซน์','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','pre-test-checkbox','textarea','global-live-game-modal','commit','ความคล้ายของรูป','presentation-slide-container','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','createObjectURL','.generate-easy-version-btn','\x20ครั้ง)</span></td>','originalQuestionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','label','.delete-custom-topic-btn','.verification-result','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','กำลังกลับเข้าสู่เกม\x20','AI\x20แก้ไขคำถามสำเร็จ!','POST','resize','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','เวกเตอร์และเมทริกซ์\x20(เสริม)','Error\x20saving\x20questions\x20to\x20practice\x20bank:','qType','beforeend','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','remove','parallel-test-input-area','bg-purple-50','quiz-id-input','.sortable-header','PERFECT_SCORE','Error\x20duplicating\x20quiz:','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','cancel-global-live-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','วงกลม:\x20คอร์ดและเส้นสัมผัส','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','activeGameSession','summary','Error\x20committing\x20score\x20updates:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเฉลี่ย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ผิวรูปทรงสามมิติ','short','เลือกโปรเจคเพื่อบันทึก','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','Error\x20displaying\x20question\x20bank:','/public/data/syncGames','$1\x5ctext(','per-question-timer-container','list-view-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขหัวข้อสำเร็จ','NEGATIVE_INFINITY','Failed\x20to\x20kick\x20player\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-input','confirm-passcode-btn','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','อนุพันธ์:\x20ผลคูณ/ผลหาร','parent','msExitFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN'];_0x1cd6=function(){return _0x48d6af;};return _0x1cd6();}const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x3de37b(0x9d1),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x41fd08,_0xff7bcd){const _0x3f38e8=_0x3de37b;return Math[_0x3f38e8(0x40a)](Math['pow'](_0x41fd08['x']-_0xff7bcd['x'],0x2)+Math['pow'](_0x41fd08['y']-_0xff7bcd['y'],0x2));}function getMidpoint(_0x2539b1,_0x296462){return{'x':(_0x2539b1['x']+_0x296462['x'])/0x2,'y':(_0x2539b1['y']+_0x296462['y'])/0x2};}function getTransformedPoint(_0x57d61d,_0x44d517){return{'x':(_0x57d61d-scratchpadOffset['x'])/scratchpadScale,'y':(_0x44d517-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x4eb25f=_0x3de37b;if(!scratchpadCtx)return;const _0xf954cc=scratchpadCtx[_0x4eb25f(0x8c7)],_0x1df104=window[_0x4eb25f(0x212)]||0x1,_0x4ac28e=document[_0x4eb25f(0x26b)](_0x4eb25f(0x721));_0x4ac28e&&(_0x4ac28e[_0x4eb25f(0x12e)][_0x4eb25f(0x1f9)]=_0x4eb25f(0x30c),_0x4ac28e[_0x4eb25f(0x12e)]['transform']=_0x4eb25f(0x8bb)+scratchpadOffset['x']+_0x4eb25f(0x433)+scratchpadOffset['y']+_0x4eb25f(0x53c)+scratchpadScale+')'),scratchpadCtx[_0x4eb25f(0x286)](),scratchpadCtx[_0x4eb25f(0x3ed)](_0x1df104,0x0,0x0,_0x1df104,0x0,0x0),scratchpadCtx[_0x4eb25f(0x3c7)](0x0,0x0,_0xf954cc['width'],_0xf954cc[_0x4eb25f(0x848)]),scratchpadCtx[_0x4eb25f(0x8c3)](),scratchpadCtx[_0x4eb25f(0x286)](),scratchpadCtx[_0x4eb25f(0x444)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x4eb25f(0x68c)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x3e7e1d=>{drawStroke(_0x3e7e1d);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function handlePointerDown(_0x515740){const _0x1b4ddd=_0x3de37b;_0x515740['preventDefault']();const _0x249726=scratchpadCtx[_0x1b4ddd(0x8c7)],_0xa4c5e5=_0x249726[_0x1b4ddd(0x6b8)](),_0x15b6fa=_0x515740[_0x1b4ddd(0x7a7)]||(_0x515740['touches']?_0x1b4ddd(0x835):_0x1b4ddd(0x33d));if(_0x15b6fa==='pen'||_0x15b6fa===_0x1b4ddd(0x33d)){if(_0x515740[_0x1b4ddd(0x7a7)]==='mouse'&&_0x515740[_0x1b4ddd(0x328)]!==0x0){_0x515740[_0x1b4ddd(0x328)]===0x1&&(isMousePanning=!![],panStart={'x':_0x515740[_0x1b4ddd(0x1a5)],'y':_0x515740[_0x1b4ddd(0x7d7)]},_0x249726['style'][_0x1b4ddd(0x3a4)]=_0x1b4ddd(0x8ea));return;}activeTool===_0x1b4ddd(0x540)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1cf154=getTransformedPoint(_0x515740[_0x1b4ddd(0x1a5)]-_0xa4c5e5['left'],_0x515740[_0x1b4ddd(0x7d7)]-_0xa4c5e5[_0x1b4ddd(0x42c)]);let _0x1aa48b={'tool':activeTool,'points':[_0x1cf154]};if(activeTool===_0x1b4ddd(0x217))_0x1aa48b[_0x1b4ddd(0x687)]=scratchpadHighlighterColor,_0x1aa48b[_0x1b4ddd(0x386)]=scratchpadHighlighterSize;else activeTool===_0x1b4ddd(0x540)?(_0x1aa48b[_0x1b4ddd(0x687)]=scratchpadPenColor,_0x1aa48b[_0x1b4ddd(0x386)]=scratchpadPenSize):(_0x1aa48b[_0x1b4ddd(0x687)]=scratchpadPenColor,_0x1aa48b[_0x1b4ddd(0x386)]=scratchpadPenSize);currentStroke=_0x1aa48b;}else _0x515740[_0x1b4ddd(0x5b0)]&&(_0x515740[_0x1b4ddd(0x5b0)][_0x1b4ddd(0x579)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x515740['touches'][0x0][_0x1b4ddd(0x1a5)],'y':_0x515740[_0x1b4ddd(0x5b0)][0x0]['clientY']},{'x':_0x515740['touches'][0x1]['clientX'],'y':_0x515740['touches'][0x1][_0x1b4ddd(0x7d7)]}),initialPinchDistance=getDistance({'x':_0x515740['touches'][0x0]['clientX'],'y':_0x515740[_0x1b4ddd(0x5b0)][0x0][_0x1b4ddd(0x7d7)]},{'x':_0x515740[_0x1b4ddd(0x5b0)][0x1][_0x1b4ddd(0x1a5)],'y':_0x515740[_0x1b4ddd(0x5b0)][0x1][_0x1b4ddd(0x7d7)]})));}function animateTrail(){const _0x16e5b4=_0x3de37b,_0x22b1cb=Date[_0x16e5b4(0x504)]();let _0x23b666=![];for(let _0x2468af=strokes[_0x16e5b4(0x579)]-0x1;_0x2468af>=0x0;_0x2468af--){const _0x5a5cd8=strokes[_0x2468af];if(_0x5a5cd8[_0x16e5b4(0x828)]===_0x16e5b4(0x540)&&_0x5a5cd8[_0x16e5b4(0x688)]){const _0x46fe7e=_0x22b1cb-_0x5a5cd8[_0x16e5b4(0x688)];_0x46fe7e>=TRAIL_DURATION?strokes[_0x16e5b4(0x9ea)](_0x2468af,0x1):(_0x5a5cd8['opacity']=0x1-_0x46fe7e/TRAIL_DURATION,_0x23b666=!![]);}}redrawScratchpad(),_0x23b666?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x15bca8){const _0x235fed=_0x3de37b;if(!_0x15bca8||_0x15bca8[_0x235fed(0x918)][_0x235fed(0x579)]<0x1)return;scratchpadCtx[_0x235fed(0x286)](),scratchpadCtx['lineJoin']=_0x235fed(0x4c6),scratchpadCtx[_0x235fed(0x58a)]=_0x235fed(0x4c6);if(_0x15bca8[_0x235fed(0x828)]==='trail'){const _0x423991=_0x15bca8[_0x235fed(0x386)]/scratchpadScale;scratchpadCtx[_0x235fed(0x2d6)]=_0x15bca8[_0x235fed(0x872)]??0x1,scratchpadCtx[_0x235fed(0x241)]=_0x235fed(0x3fe),scratchpadCtx[_0x235fed(0x5e5)]=_0x423991*0x3,scratchpadCtx[_0x235fed(0x19d)]=_0x235fed(0x995),scratchpadCtx[_0x235fed(0x2a9)]=_0x423991*2.5,scratchpadCtx[_0x235fed(0x43b)](),scratchpadCtx[_0x235fed(0x4e3)](_0x15bca8[_0x235fed(0x918)][0x0]['x'],_0x15bca8[_0x235fed(0x918)][0x0]['y']);for(let _0x48b2dd=0x1;_0x48b2dd<_0x15bca8['points'][_0x235fed(0x579)]-0x1;_0x48b2dd++){const _0x493509=getMidpoint(_0x15bca8[_0x235fed(0x918)][_0x48b2dd],_0x15bca8['points'][_0x48b2dd+0x1]);scratchpadCtx[_0x235fed(0x70f)](_0x15bca8[_0x235fed(0x918)][_0x48b2dd]['x'],_0x15bca8[_0x235fed(0x918)][_0x48b2dd]['y'],_0x493509['x'],_0x493509['y']);}scratchpadCtx[_0x235fed(0x580)](),scratchpadCtx[_0x235fed(0x241)]=_0x235fed(0x1d8),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx['strokeStyle']='#FFFFFF',scratchpadCtx[_0x235fed(0x2a9)]=_0x423991,scratchpadCtx[_0x235fed(0x580)](),scratchpadCtx[_0x235fed(0x73f)]();}else{if(_0x15bca8[_0x235fed(0x828)]===_0x235fed(0x217)){scratchpadCtx[_0x235fed(0x36c)]=_0x235fed(0x220),scratchpadCtx['strokeStyle']=_0x15bca8['color'],scratchpadCtx[_0x235fed(0x2a9)]=_0x15bca8[_0x235fed(0x386)],scratchpadCtx[_0x235fed(0x43b)](),scratchpadCtx[_0x235fed(0x4e3)](_0x15bca8[_0x235fed(0x918)][0x0]['x'],_0x15bca8[_0x235fed(0x918)][0x0]['y']);for(let _0x3a867a=0x1;_0x3a867a<_0x15bca8[_0x235fed(0x918)][_0x235fed(0x579)]-0x1;_0x3a867a++){const _0x5f3f66=getMidpoint(_0x15bca8[_0x235fed(0x918)][_0x3a867a],_0x15bca8['points'][_0x3a867a+0x1]);scratchpadCtx['quadraticCurveTo'](_0x15bca8[_0x235fed(0x918)][_0x3a867a]['x'],_0x15bca8[_0x235fed(0x918)][_0x3a867a]['y'],_0x5f3f66['x'],_0x5f3f66['y']);}scratchpadCtx[_0x235fed(0x580)](),scratchpadCtx[_0x235fed(0x73f)]();}else{scratchpadCtx[_0x235fed(0x36c)]=_0x15bca8[_0x235fed(0x828)]===_0x235fed(0x7cb)?'destination-out':_0x235fed(0x6bb),scratchpadCtx['strokeStyle']=_0x15bca8[_0x235fed(0x687)],scratchpadCtx[_0x235fed(0x2a9)]=_0x15bca8[_0x235fed(0x386)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x15bca8[_0x235fed(0x918)][0x0]['x'],_0x15bca8['points'][0x0]['y']);for(let _0x3eaf41=0x1;_0x3eaf41<_0x15bca8[_0x235fed(0x918)]['length']-0x1;_0x3eaf41++){const _0x4b214a=getMidpoint(_0x15bca8[_0x235fed(0x918)][_0x3eaf41],_0x15bca8[_0x235fed(0x918)][_0x3eaf41+0x1]);scratchpadCtx['quadraticCurveTo'](_0x15bca8['points'][_0x3eaf41]['x'],_0x15bca8[_0x235fed(0x918)][_0x3eaf41]['y'],_0x4b214a['x'],_0x4b214a['y']);}scratchpadCtx[_0x235fed(0x580)](),scratchpadCtx[_0x235fed(0x73f)]();}}scratchpadCtx[_0x235fed(0x8c3)]();}function handlePointerMove(_0x1e05c6){const _0x3bb8ea=_0x3de37b;_0x1e05c6[_0x3bb8ea(0xa3e)]();const _0x91c2a1=scratchpadCtx['canvas'],_0x258b61=_0x91c2a1[_0x3bb8ea(0x6b8)]();if(_0x1e05c6[_0x3bb8ea(0x5b0)]){if(_0x1e05c6[_0x3bb8ea(0x5b0)][_0x3bb8ea(0x579)]===0x1&&isDrawingOnScratchpad){const _0x43a9c7=getTransformedPoint(_0x1e05c6[_0x3bb8ea(0x5b0)][0x0][_0x3bb8ea(0x1a5)]-_0x258b61[_0x3bb8ea(0x808)],_0x1e05c6[_0x3bb8ea(0x5b0)][0x0][_0x3bb8ea(0x7d7)]-_0x258b61['top']);currentStroke[_0x3bb8ea(0x918)][_0x3bb8ea(0x8b7)](_0x43a9c7),redrawScratchpad();}else{if(_0x1e05c6[_0x3bb8ea(0x5b0)][_0x3bb8ea(0x579)]===0x2&&isPanning){const _0x1608bf=getDistance({'x':_0x1e05c6[_0x3bb8ea(0x5b0)][0x0][_0x3bb8ea(0x1a5)],'y':_0x1e05c6[_0x3bb8ea(0x5b0)][0x0][_0x3bb8ea(0x7d7)]},{'x':_0x1e05c6[_0x3bb8ea(0x5b0)][0x1][_0x3bb8ea(0x1a5)],'y':_0x1e05c6[_0x3bb8ea(0x5b0)][0x1][_0x3bb8ea(0x7d7)]}),_0x3fb050=getMidpoint({'x':_0x1e05c6['touches'][0x0][_0x3bb8ea(0x1a5)],'y':_0x1e05c6[_0x3bb8ea(0x5b0)][0x0][_0x3bb8ea(0x7d7)]},{'x':_0x1e05c6[_0x3bb8ea(0x5b0)][0x1]['clientX'],'y':_0x1e05c6[_0x3bb8ea(0x5b0)][0x1][_0x3bb8ea(0x7d7)]}),_0x5e4c46=_0x1608bf/ initialPinchDistance,_0x60fc68=Math['min'](Math['max'](scratchpadScale*_0x5e4c46,MIN_SCALE),MAX_SCALE),_0xf13143=_0x3fb050['x']-panStart['x'],_0x5a3d14=_0x3fb050['y']-panStart['y'];scratchpadOffset['x']=_0x3fb050['x']-(_0x3fb050['x']-scratchpadOffset['x'])*(_0x60fc68/scratchpadScale),scratchpadOffset['y']=_0x3fb050['y']-(_0x3fb050['y']-scratchpadOffset['y'])*(_0x60fc68/scratchpadScale),scratchpadOffset['x']+=_0xf13143,scratchpadOffset['y']+=_0x5a3d14,scratchpadScale=_0x60fc68,initialPinchDistance=_0x1608bf,panStart=_0x3fb050,redrawScratchpad();}}}else{if(isMousePanning){const _0x31597a=_0x1e05c6[_0x3bb8ea(0x1a5)]-panStart['x'],_0x13bf38=_0x1e05c6[_0x3bb8ea(0x7d7)]-panStart['y'];scratchpadOffset['x']+=_0x31597a,scratchpadOffset['y']+=_0x13bf38,panStart={'x':_0x1e05c6[_0x3bb8ea(0x1a5)],'y':_0x1e05c6[_0x3bb8ea(0x7d7)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x2a751b=getTransformedPoint(_0x1e05c6['clientX']-_0x258b61[_0x3bb8ea(0x808)],_0x1e05c6['clientY']-_0x258b61[_0x3bb8ea(0x42c)]);currentStroke[_0x3bb8ea(0x918)][_0x3bb8ea(0x8b7)](_0x2a751b),redrawScratchpad();}}}}function handlePointerUp(_0x3e96b7){const _0xf32e8b=_0x3de37b;_0x3e96b7['preventDefault']();const _0x413408=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x413408[_0xf32e8b(0x12e)]['cursor']=_0xf32e8b(0x10a)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0xf32e8b(0x918)][_0xf32e8b(0x579)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0xf32e8b(0x828)]===_0xf32e8b(0x540)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x70f837=_0xf32e8b,_0x59422f=strokes[_0x70f837(0x2bf)](_0x37a7b4=>_0x37a7b4[_0x70f837(0x828)]===_0x70f837(0x540)&&!_0x37a7b4['fadeStartTime']);if(_0x59422f[_0x70f837(0x579)]>0x0){const _0xaf8284=Date[_0x70f837(0x504)]();_0x59422f[_0x70f837(0x597)](_0x491725=>_0x491725[_0x70f837(0x688)]=_0xaf8284),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x2d78e0){const _0x836f58=_0x3de37b;_0x2d78e0[_0x836f58(0xa3e)]();const _0x308c0e=_0x2d78e0['deltaY']*-0.005,_0xbe5523=Math[_0x836f58(0x6df)](Math[_0x836f58(0x104)](scratchpadScale+_0x308c0e,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x2d78e0[_0x836f58(0x1a5)]-(_0x2d78e0[_0x836f58(0x1a5)]-scratchpadOffset['x'])*(_0xbe5523/scratchpadScale),scratchpadOffset['y']=_0x2d78e0[_0x836f58(0x7d7)]-(_0x2d78e0[_0x836f58(0x7d7)]-scratchpadOffset['y'])*(_0xbe5523/scratchpadScale),scratchpadScale=_0xbe5523,redrawScratchpad();}function undo(){const _0x50528c=_0x3de37b;strokes[_0x50528c(0x579)]>0x0&&(redoStrokes['push'](strokes[_0x50528c(0x804)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5326e0=_0x3de37b;redoStrokes[_0x5326e0(0x579)]>0x0&&(strokes[_0x5326e0(0x8b7)](redoStrokes[_0x5326e0(0x804)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x18674f=_0x3de37b;document[_0x18674f(0x26b)](_0x18674f(0x1f3))[_0x18674f(0x865)]=strokes[_0x18674f(0x579)]===0x0,document[_0x18674f(0x26b)](_0x18674f(0x8bf))['disabled']=redoStrokes[_0x18674f(0x579)]===0x0;}function openScratchpad(_0xae44ec,_0x437431){const _0x1c1e9a=_0x3de37b,_0x30c72a=document[_0x1c1e9a(0x26b)](_0x1c1e9a(0x486)),_0x18867a=document[_0x1c1e9a(0x26b)]('scratchpad-question'),_0x3d8ce2=document[_0x1c1e9a(0x26b)](_0x1c1e9a(0x9e7)),_0x4b034c=document['getElementById'](_0x1c1e9a(0x137));_0x18867a[_0x1c1e9a(0x64c)]=_0xae44ec['stem']||_0xae44ec[_0x1c1e9a(0x19b)],_0x3d8ce2[_0x1c1e9a(0x9ba)]=_0x437431[_0x1c1e9a(0x7bf)]((_0x466978,_0xeb8397)=>'<div>'+String[_0x1c1e9a(0x4c2)](0x41+_0xeb8397)+'.\x20'+_0x466978+_0x1c1e9a(0x7d8))[_0x1c1e9a(0xa17)](''),_0x4b034c[_0x1c1e9a(0x9ba)]=_0x1c1e9a(0x491),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x30c72a[_0x1c1e9a(0x74c)][_0x1c1e9a(0x953)](_0x1c1e9a(0x2d5)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x1c1e9a(0x7c9)])MathJax[_0x1c1e9a(0x281)]([_0x18867a,_0x3d8ce2]);}function initializeScratchpadCanvas(){const _0x3fc9b7=_0x3de37b,_0x299c59=document[_0x3fc9b7(0x26b)](_0x3fc9b7(0x3ac)),_0x5612d0=document['querySelector'](_0x3fc9b7(0x5cc));if(!_0x299c59||!_0x5612d0)return;scratchpadCtx=_0x299c59[_0x3fc9b7(0x67b)]('2d',{'willReadFrequently':!![]});const _0x339b83=window[_0x3fc9b7(0x212)]||0x1,_0x56bd8d=_0x5612d0['getBoundingClientRect']();_0x299c59[_0x3fc9b7(0x17c)]=_0x56bd8d[_0x3fc9b7(0x17c)]*_0x339b83,_0x299c59[_0x3fc9b7(0x848)]=_0x56bd8d['height']*_0x339b83,_0x299c59[_0x3fc9b7(0x12e)][_0x3fc9b7(0x17c)]=_0x56bd8d[_0x3fc9b7(0x17c)]+'px',_0x299c59[_0x3fc9b7(0x12e)][_0x3fc9b7(0x848)]=_0x56bd8d[_0x3fc9b7(0x848)]+'px',scratchpadCtx[_0x3fc9b7(0x68c)](_0x339b83,_0x339b83),scratchpadCtx[_0x3fc9b7(0x9f4)]=_0x3fc9b7(0x4c6),scratchpadCtx[_0x3fc9b7(0x58a)]=_0x3fc9b7(0x4c6),_0x299c59[_0x3fc9b7(0x394)](_0x3fc9b7(0x84a),handlePointerDown),_0x299c59['removeEventListener'](_0x3fc9b7(0x143),handlePointerMove),_0x299c59[_0x3fc9b7(0x394)](_0x3fc9b7(0x78f),handlePointerUp),_0x299c59[_0x3fc9b7(0x394)](_0x3fc9b7(0xa1d),handlePointerUp),_0x299c59[_0x3fc9b7(0x394)](_0x3fc9b7(0x673),handleWheel),_0x299c59['removeEventListener'](_0x3fc9b7(0x9d2),handlePointerDown),_0x299c59[_0x3fc9b7(0x394)]('touchmove',handlePointerMove),_0x299c59['removeEventListener'](_0x3fc9b7(0x3b2),handlePointerUp),_0x299c59[_0x3fc9b7(0x813)](_0x3fc9b7(0x84a),handlePointerDown),_0x299c59[_0x3fc9b7(0x813)](_0x3fc9b7(0x143),handlePointerMove),_0x299c59['addEventListener'](_0x3fc9b7(0x78f),handlePointerUp),_0x299c59[_0x3fc9b7(0x813)](_0x3fc9b7(0xa1d),handlePointerUp),_0x299c59[_0x3fc9b7(0x813)](_0x3fc9b7(0x673),handleWheel,{'passive':![]}),_0x299c59[_0x3fc9b7(0x813)](_0x3fc9b7(0x9d2),handlePointerDown,{'passive':![]}),_0x299c59[_0x3fc9b7(0x813)](_0x3fc9b7(0x587),handlePointerMove,{'passive':![]}),_0x299c59['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x323dbf=_0x3de37b,_0x5dea49=document[_0x323dbf(0x26b)]('scratchpad-modal'),_0x5eb7b5=document['getElementById'](_0x323dbf(0x137));_0x5eb7b5[_0x323dbf(0x9ba)]=_0x323dbf(0x886)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2a00d3=document[_0x323dbf(0x26b)](_0x323dbf(0x631)),_0x4e20b9=document[_0x323dbf(0x26b)](_0x323dbf(0x4c8)),_0x1bdd89=document[_0x323dbf(0x26b)](_0x323dbf(0x62e)),_0xc7c234=document['getElementById'](_0x323dbf(0x714)),_0x3150d8=document['getElementById'](_0x323dbf(0x70b)),_0x1ed91e=document['getElementById'](_0x323dbf(0xa28)),_0x4e130b=[_0x2a00d3,_0x4e20b9,_0x1bdd89,_0xc7c234];document[_0x323dbf(0x26b)](_0x323dbf(0x362))[_0x323dbf(0x813)]('click',()=>_0x5dea49[_0x323dbf(0x74c)]['add'](_0x323dbf(0x2d5))),document[_0x323dbf(0x26b)](_0x323dbf(0x763))[_0x323dbf(0x813)](_0x323dbf(0x8c2),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById']('scratchpad-clear-btn')['addEventListener'](_0x323dbf(0x8c2),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x323dbf(0x26b)](_0x323dbf(0x1f3))[_0x323dbf(0x813)]('click',undo),document[_0x323dbf(0x26b)]('redo-btn')[_0x323dbf(0x813)](_0x323dbf(0x8c2),redo);const _0x494bb1=_0x534c31=>{const _0x82293e=_0x323dbf;_0x4e130b[_0x82293e(0x597)](_0x201c0d=>_0x201c0d[_0x82293e(0x74c)]['remove'](_0x82293e(0x55c))),_0x534c31[_0x82293e(0x74c)][_0x82293e(0x1c0)](_0x82293e(0x55c));const _0x5d4a33=_0x534c31===_0xc7c234;_0x3150d8[_0x82293e(0x74c)][_0x82293e(0x430)]('hidden',_0x5d4a33),_0x1ed91e['classList']['toggle']('hidden',!_0x5d4a33);};_0x2a00d3[_0x323dbf(0x813)](_0x323dbf(0x8c2),()=>{const _0xd72624=_0x323dbf;activeTool=_0xd72624(0x518),_0x494bb1(_0x2a00d3);}),_0x4e20b9[_0x323dbf(0x813)](_0x323dbf(0x8c2),()=>{activeTool='eraser',_0x494bb1(_0x4e20b9);}),_0x1bdd89['addEventListener'](_0x323dbf(0x8c2),()=>{const _0x2775ee=_0x323dbf;activeTool=_0x2775ee(0x540),_0x494bb1(_0x1bdd89);}),_0xc7c234[_0x323dbf(0x813)]('click',()=>{const _0x2c7dd1=_0x323dbf;activeTool=_0x2c7dd1(0x217),_0x494bb1(_0xc7c234);}),_0x3150d8[_0x323dbf(0x303)](_0x323dbf(0x559))[_0x323dbf(0x597)](_0x234dca=>{const _0x389be1=_0x323dbf;_0x234dca[_0x389be1(0x813)](_0x389be1(0x8c2),_0x4f781f=>{const _0x45b3a0=_0x389be1;scratchpadPenSize=parseInt(_0x4f781f[_0x45b3a0(0x22f)]['dataset'][_0x45b3a0(0x386)],0xa),_0x3150d8[_0x45b3a0(0x303)](_0x45b3a0(0x559))[_0x45b3a0(0x597)](_0x50cc67=>_0x50cc67[_0x45b3a0(0x74c)][_0x45b3a0(0x953)](_0x45b3a0(0x55c))),_0x4f781f[_0x45b3a0(0x22f)][_0x45b3a0(0x74c)][_0x45b3a0(0x1c0)]('active');});}),_0x3150d8[_0x323dbf(0x303)](_0x323dbf(0x264))[_0x323dbf(0x597)](_0x5273e2=>{const _0x993cd3=_0x323dbf;_0x5273e2[_0x993cd3(0x813)](_0x993cd3(0x8c2),_0x2ba87f=>{const _0x24a11a=_0x993cd3;scratchpadPenColor=_0x2ba87f['target'][_0x24a11a(0x4ae)]['color'],_0x3150d8[_0x24a11a(0x303)](_0x24a11a(0x264))[_0x24a11a(0x597)](_0x1e00f4=>_0x1e00f4[_0x24a11a(0x74c)]['remove'](_0x24a11a(0x55c))),_0x2ba87f['target'][_0x24a11a(0x74c)][_0x24a11a(0x1c0)](_0x24a11a(0x55c));});}),_0x1ed91e[_0x323dbf(0x303)](_0x323dbf(0x823))[_0x323dbf(0x597)](_0x1258c2=>{const _0x32d6e8=_0x323dbf;_0x1258c2[_0x32d6e8(0x813)](_0x32d6e8(0x8c2),_0x484576=>{const _0xad1a2b=_0x32d6e8;scratchpadHighlighterColor=_0x484576[_0xad1a2b(0x22f)][_0xad1a2b(0x4ae)][_0xad1a2b(0x687)],_0x1ed91e[_0xad1a2b(0x303)](_0xad1a2b(0x823))[_0xad1a2b(0x597)](_0x4e0c71=>_0x4e0c71[_0xad1a2b(0x74c)][_0xad1a2b(0x953)]('active')),_0x484576[_0xad1a2b(0x22f)]['classList'][_0xad1a2b(0x1c0)](_0xad1a2b(0x55c));});});const _0x3be819=document[_0x323dbf(0x26b)]('highlighter-size-slider'),_0x331c5d=document[_0x323dbf(0x26b)](_0x323dbf(0x57d));_0x3be819[_0x323dbf(0x813)](_0x323dbf(0x28f),_0x34d051=>{const _0x37094c=_0x323dbf,_0x15a99c=parseInt(_0x34d051[_0x37094c(0x22f)]['value'],0xa);scratchpadHighlighterSize=_0x15a99c,_0x331c5d[_0x37094c(0x64c)]=_0x15a99c;}),window[_0x323dbf(0x813)](_0x323dbf(0x948),()=>{const _0x1a7750=_0x323dbf;!_0x5dea49[_0x1a7750(0x74c)][_0x1a7750(0x7a2)](_0x1a7750(0x2d5))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3de37b(0x78b),'name':_0x3de37b(0x80b),'description':_0x3de37b(0x421),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x3de37b(0x2c7),'name':'เซียนสมองไว','description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x3de37b(0x7b3)},'ON_FIRE':{'id':'on_fire','name':_0x3de37b(0x60f),'description':_0x3de37b(0x906),'icon':_0x3de37b(0x279)},'FIRST_TRY_ACE':{'id':_0x3de37b(0x745),'name':_0x3de37b(0x2d0),'description':_0x3de37b(0x5b9),'icon':_0x3de37b(0x50a)},'COMEBACK_KING':{'id':_0x3de37b(0x54c),'name':_0x3de37b(0x2da),'description':_0x3de37b(0x776),'icon':_0x3de37b(0x81f)},'SPECIALIST':{'id':_0x3de37b(0x80f),'name':_0x3de37b(0x5d7),'description':_0x3de37b(0x356),'icon':_0x3de37b(0x9a9)},'PERSEVERANCE':{'id':_0x3de37b(0x6f2),'name':'ผู้ไม่ยอมแพ้','description':_0x3de37b(0x570),'icon':_0x3de37b(0x557)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x3de37b(0x35c),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':'274192258111','appId':_0x3de37b(0x43e),'measurementId':_0x3de37b(0x7af)},appId=typeof __app_id!==_0x3de37b(0x18a)?__app_id:_0x3de37b(0x831),adminView=document[_0x3de37b(0x26b)](_0x3de37b(0x77b)),studentView=document['getElementById'](_0x3de37b(0x773)),projectDashboardView=document[_0x3de37b(0x26b)](_0x3de37b(0x65c)),projectDetailView=document[_0x3de37b(0x26b)](_0x3de37b(0x3d8)),quizResultsView=document[_0x3de37b(0x26b)](_0x3de37b(0x9ae)),projectList=document[_0x3de37b(0x26b)]('project-list'),noProjectsMsg=document[_0x3de37b(0x26b)](_0x3de37b(0x2d8)),projectTitle=document[_0x3de37b(0x26b)](_0x3de37b(0x37b)),projectIdDisplay=document['getElementById'](_0x3de37b(0x1e3)),studentList=document['getElementById']('student-list'),messageModal=document['getElementById'](_0x3de37b(0x9dd)),modalMessage=document['getElementById'](_0x3de37b(0x5dc)),createProjectModal=document[_0x3de37b(0x26b)]('create-project-modal'),adminPasswordModal=document[_0x3de37b(0x26b)]('admin-password-modal'),confirmationModal=document['getElementById'](_0x3de37b(0x1b0)),userIdDisplay=document[_0x3de37b(0x26b)](_0x3de37b(0x760)),topicTab=document[_0x3de37b(0x26b)](_0x3de37b(0x561)),textTab=document[_0x3de37b(0x26b)]('text-tab'),topicInputArea=document[_0x3de37b(0x26b)](_0x3de37b(0x218)),textInputArea=document[_0x3de37b(0x26b)]('text-input-area'),manageTab=document[_0x3de37b(0x26b)]('manage-tab'),resultsTab=document[_0x3de37b(0x26b)](_0x3de37b(0x47c)),leaderboardTab=document[_0x3de37b(0x26b)]('leaderboard-tab'),manageTabContent=document[_0x3de37b(0x26b)]('manage-tab-content'),resultsTabContent=document[_0x3de37b(0x26b)](_0x3de37b(0x13a)),leaderboardTabContent=document[_0x3de37b(0x26b)]('leaderboard-tab-content'),projectQuizzesList=document[_0x3de37b(0x26b)](_0x3de37b(0x795)),fileTab=document['getElementById'](_0x3de37b(0x807)),fileInputArea=document['getElementById'](_0x3de37b(0x7ba)),fileUploadInput=document[_0x3de37b(0x26b)](_0x3de37b(0x148)),worksheetTab=document[_0x3de37b(0x26b)]('worksheet-tab'),worksheetInputArea=document[_0x3de37b(0x26b)]('worksheet-input-area'),generateWorksheetBtn=document[_0x3de37b(0x26b)](_0x3de37b(0x74d)),studentInitialView=document[_0x3de37b(0x26b)](_0x3de37b(0x5b7)),studentNameSelectionView=document[_0x3de37b(0x26b)](_0x3de37b(0x9f5)),studentQuizArea=document[_0x3de37b(0x26b)](_0x3de37b(0x568)),studentResultArea=document[_0x3de37b(0x26b)](_0x3de37b(0x590)),studentReadingArea=document[_0x3de37b(0x26b)](_0x3de37b(0x9dc)),loadQuizBtn=document[_0x3de37b(0x26b)](_0x3de37b(0x9c1)),startQuizBtn=document['getElementById'](_0x3de37b(0x770)),studentJoinGameView=document[_0x3de37b(0x26b)](_0x3de37b(0x6a9)),presentationModal=document[_0x3de37b(0x26b)](_0x3de37b(0x40b)),renameQuizModal=document[_0x3de37b(0x26b)](_0x3de37b(0x826)),moveQuizModal=document['getElementById'](_0x3de37b(0x390)),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x3de37b(0xa51)),liveGameView=document[_0x3de37b(0x26b)](_0x3de37b(0x9fd));function handleAutoFixLatex(){const _0x1bb789=_0x3de37b,_0x49dd63=document[_0x1bb789(0x26b)](_0x1bb789(0x718))||document,_0x19f204=_0x49dd63[_0x1bb789(0x303)]([_0x1bb789(0x935),'input[type=\x22text\x22]',_0x1bb789(0x727),_0x1bb789(0x6c9),_0x1bb789(0x32f),_0x1bb789(0x940),_0x1bb789(0x200),_0x1bb789(0x54b),_0x1bb789(0x54a)][_0x1bb789(0xa17)](','));let _0x21460e=0x0;const _0x5d6449=_0x52a41e=>_0x1bb789(0x884)in _0x52a41e?String(_0x52a41e[_0x1bb789(0x884)]):_0x52a41e['innerText']!==undefined?_0x52a41e[_0x1bb789(0x7fd)]:_0x52a41e[_0x1bb789(0x64c)]||'',_0x510b2b=(_0x39b5a2,_0x3dfc28)=>{const _0x3bae59=_0x1bb789;if(_0x3bae59(0x884)in _0x39b5a2){_0x39b5a2[_0x3bae59(0x884)]=_0x3dfc28;return;}if(_0x39b5a2[_0x3bae59(0x8f1)]&&_0x39b5a2[_0x3bae59(0x8f1)](_0x3bae59(0x98a)))return;if(_0x39b5a2[_0x3bae59(0x7fd)]!==undefined)_0x39b5a2[_0x3bae59(0x7fd)]=_0x3dfc28;else _0x39b5a2['textContent']=_0x3dfc28;},_0x5cf7d3=_0x3a0abf=>_0x3a0abf['replace'](/\u00A0/g,'\x20')[_0x1bb789(0xa16)](/\u200B/g,'')[_0x1bb789(0xa16)](/\r\n?/g,'\x0a'),_0x8cd1a7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x471ebd=_0x52c34b=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x52c34b),_0x43c9da=_0x8cf6be=>{const _0x3b5537=_0x1bb789,_0x3a6ee9=(_0x8cf6be[_0x3b5537(0x894)](/\{/g)||[])[_0x3b5537(0x579)],_0x1b61b3=(_0x8cf6be['match'](/\}/g)||[])['length'];if(_0x3a6ee9>_0x1b61b3)_0x8cf6be=_0x8cf6be+'}'[_0x3b5537(0x174)](_0x3a6ee9-_0x1b61b3);return _0x8cf6be;},_0x181d5=_0xe0befe=>{const _0x23fe96=_0x1bb789;let _0x4c707d=_0xe0befe[_0x23fe96(0x168)]();const _0x4ca4df=[_0x23fe96(0x295),'dfrac',_0x23fe96(0x7a6),'sqrt',_0x23fe96(0x3fd),_0x23fe96(0x477),_0x23fe96(0x9fa),_0x23fe96(0x5e7),_0x23fe96(0x86d),_0x23fe96(0xa27),'le','ge',_0x23fe96(0x314),'pm',_0x23fe96(0x55a),_0x23fe96(0x558),_0x23fe96(0x582),_0x23fe96(0x648),_0x23fe96(0x1c3),'ln',_0x23fe96(0x7ca),_0x23fe96(0x61f),'binom',_0x23fe96(0x808),_0x23fe96(0x5ac),'overline',_0x23fe96(0x411),_0x23fe96(0x349),_0x23fe96(0x80a)];_0x4c707d=_0x4c707d[_0x23fe96(0xa16)](new RegExp(_0x23fe96(0x903)+_0x4ca4df[_0x23fe96(0xa17)]('|')+')\x5cb)','g'),'\x5c'),_0x4ca4df['forEach'](_0x54c2ce=>{const _0x4495cb=_0x23fe96;_0x4c707d=_0x4c707d['replace'](new RegExp(_0x4495cb(0x2f7)+_0x54c2ce+'\x5cb','g'),(_0x24d6cf,_0x3720c9)=>_0x3720c9+'\x5c'+_0x54c2ce);});const _0x5f47a3=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x23fe96(0x2f3)],[/≤/g,_0x23fe96(0x464)],[/≥/g,_0x23fe96(0x71b)],[/≠/g,'\x5cneq'],[/±/g,_0x23fe96(0x42a)],[/∑/g,_0x23fe96(0x8c9)],[/−/g,'-']];_0x5f47a3[_0x23fe96(0x597)](([_0x595ab4,_0x53761d])=>{const _0x1594ca=_0x23fe96;_0x4c707d=_0x4c707d[_0x1594ca(0xa16)](_0x595ab4,_0x53761d);}),_0x4c707d=_0x4c707d[_0x23fe96(0xa16)](/√\s*\(([^)]*)\)/g,_0x23fe96(0x1d0)),_0x4c707d=_0x4c707d[_0x23fe96(0xa16)](/√\s*([A-Za-z0-9]+)/g,_0x23fe96(0x1d0)),_0x4c707d=_0x4c707d[_0x23fe96(0xa16)](/(^|[^\\])\bimes\b/g,_0x23fe96(0x9e3))[_0x23fe96(0xa16)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')['replace'](/(^|[^\\])ext\{/g,_0x23fe96(0x184))[_0x23fe96(0xa16)](/(^|[^\\])ext\(/g,_0x23fe96(0x96e))[_0x23fe96(0xa16)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x23fe96(0xa16)](/\s\\frac/g,_0x23fe96(0x846)),_0x4c707d=_0x4c707d[_0x23fe96(0xa16)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x53cbc1,_0x42157b,_0x237a40,_0x48d612)=>_0x42157b+'\x5cfrac{'+_0x237a40+'}{'+_0x48d612+'}'),_0x4c707d=_0x4c707d[_0x23fe96(0xa16)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x23fe96(0x226))[_0x23fe96(0xa16)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x23fe96(0x226))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x23fe96(0x226)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x23fe96(0x73a)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x23fe96(0x73a)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x23fe96(0x73a)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x23fe96(0x73a)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x23fe96(0x157)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x23fe96(0x73a)]]['forEach'](([_0x292f80,_0x555aa6])=>{const _0x4fad06=_0x23fe96;_0x4c707d=_0x4c707d[_0x4fad06(0xa16)](_0x292f80,_0x555aa6);}),_0x4c707d=_0x4c707d['replace'](/(\d+)\s*%/g,_0x23fe96(0x7d6)),_0x4c707d=_0x4c707d['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x23fe96(0x435))[_0x23fe96(0xa16)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x23fe96(0xa16)](/\{\{([^\{\}]+)\}\}/g,_0x23fe96(0x9f9)),[_0x23fe96(0x558),_0x23fe96(0x582),'tan',_0x23fe96(0x1c3),'ln'][_0x23fe96(0x597)](_0x553b94=>{const _0x382d5b=_0x23fe96;_0x4c707d=_0x4c707d[_0x382d5b(0xa16)](new RegExp(_0x382d5b(0x2f7)+_0x553b94+_0x382d5b(0x67e),'g'),(_0x192548,_0x11c468)=>_0x11c468+'\x5c'+_0x553b94+'(');});const _0x432774=(_0x4c707d[_0x23fe96(0x894)](/\\left\b/g)||[])[_0x23fe96(0x579)],_0x570413=(_0x4c707d['match'](/\\right\b/g)||[])[_0x23fe96(0x579)];if(_0x432774!==_0x570413)_0x4c707d=_0x4c707d[_0x23fe96(0xa16)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x4c707d=_0x43c9da(_0x4c707d),_0x4c707d;},_0x3167bc=_0x22c66=>{const _0x1d26a2=_0x1bb789;if(/\$|\\\(|\\\[/['test'](_0x22c66))return _0x22c66;if(!_0x8cd1a7[_0x1d26a2(0x376)](_0x22c66))return _0x22c66;const _0x3ef334=_0x22c66['match'](/^\s*/)[0x0],_0x46eb28=_0x22c66[_0x1d26a2(0x894)](/\s*$/)[0x0],_0x2264cb=_0x22c66['trim']();return _0x3ef334+'$'+_0x181d5(_0x2264cb)+'$'+_0x46eb28;},_0xec847f=_0x265d30=>_0x265d30['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x19f204['forEach'](_0x1d740d=>{const _0x508b93=_0x1bb789;if(_0x1d740d[_0x508b93(0x8f1)]&&_0x1d740d['querySelector'](_0x508b93(0x98a)))return;const _0x48650e=_0x5d6449(_0x1d740d);let _0x13d997=_0x5cf7d3(_0x48650e);_0x13d997=_0x13d997['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x2f5689,_0x474ffc)=>'$$'+_0x181d5(_0x474ffc)+'$$')[_0x508b93(0xa16)](/\$([^$]*?)\$/g,(_0x37677c,_0x4f396a)=>'$'+_0x181d5(_0x4f396a)+'$')[_0x508b93(0xa16)](/\\\(([\s\S]*?)\\\)/g,(_0x389196,_0x4b6b35)=>'\x5c('+_0x181d5(_0x4b6b35)+'\x5c)')[_0x508b93(0xa16)](/\\\[([\s\S]*?)\\\]/g,(_0x29dbba,_0x1b523b)=>'\x5c['+_0x181d5(_0x1b523b)+'\x5c]');let _0x171950=_0x13d997,_0x65e474=0x0;const _0x1bc977=_0x595a01=>_0x595a01[_0x508b93(0xa16)](/S([^S]{0,2000}?)S/g,(_0x2517d1,_0x1e9f0f)=>_0x8cd1a7[_0x508b93(0x376)](_0x1e9f0f)?'$'+_0x181d5(_0x1e9f0f)+'$':_0x2517d1);while(_0x65e474++<0x14){const _0x492e07=_0x1bc977(_0x171950);if(_0x492e07===_0x171950)break;_0x171950=_0x492e07;}_0x13d997=_0x171950,_0x13d997=_0x13d997['split']('\x0a')[_0x508b93(0x7bf)](_0x231ebd=>{const _0xec9005=_0x508b93;if(!(/[,\u3001，;；]/[_0xec9005(0x376)](_0x231ebd)||/\s(?:และ|หรือ)\s/[_0xec9005(0x376)](_0x231ebd))||!_0x8cd1a7[_0xec9005(0x376)](_0x231ebd))return _0x231ebd;return _0xec847f(_0x231ebd)[_0xec9005(0x7bf)](_0xd9205f=>{const _0x1ab195=_0xec9005;if(/^\s(?:และ|หรือ)\s$/['test'](_0xd9205f)||/^[,\u3001，;；]$/[_0x1ab195(0x376)](_0xd9205f))return _0xd9205f;return _0x3167bc(_0xd9205f);})[_0xec9005(0xa17)]('');})['join']('\x0a'),_0x13d997=_0x13d997['split']('\x0a')[_0x508b93(0x7bf)](_0x2debae=>{const _0x48672f=_0x508b93,_0x444cb0=_0x2debae[_0x48672f(0x168)]();if(!_0x444cb0)return _0x2debae;const _0x3c95a0=/\$|\\\(|\\\[/[_0x48672f(0x376)](_0x444cb0),_0x1f3207=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x48672f(0x376)](_0x444cb0);if(_0x3c95a0||!_0x1f3207||_0x471ebd(_0x444cb0))return _0x2debae;return _0x2debae[_0x48672f(0xa16)](_0x444cb0,'$'+_0x181d5(_0x444cb0)+'$');})[_0x508b93(0xa17)]('\x0a'),_0x13d997=_0x13d997[_0x508b93(0xa16)](/(\d+)\s*°\s*C\b/g,(_0x53291f,_0x39b760,_0x14ea97,_0x515b50)=>{const _0x1f860e=_0x508b93,_0x1e596b=_0x515b50[_0x14ea97-0x1];if(_0x1e596b==='$'||_0x1e596b==='S'||_0x1e596b==='\x5c')return _0x53291f;return'$'+_0x39b760+_0x1f860e(0x19c);})[_0x508b93(0xa16)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x211039,_0x3e3d5a,_0x2e561c,_0x42d2a5)=>{const _0x509ff1=_0x508b93,_0x6555e9=_0x42d2a5[_0x2e561c-0x1];if(_0x6555e9==='$'||_0x6555e9==='S'||_0x6555e9==='\x5c')return _0x211039;return'$'+_0x3e3d5a+_0x509ff1(0x19c);})[_0x508b93(0xa16)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x4cba5d,_0x4e2c8f,_0x450f0a,_0x4554f8)=>{const _0x296bd1=_0x508b93,_0x3f5635=_0x4554f8[_0x450f0a-0x1];if(_0x3f5635==='$'||_0x3f5635==='S'||_0x3f5635==='\x5c')return _0x4cba5d;return'$'+_0x4e2c8f+_0x296bd1(0x19c);}),_0x13d997=_0x13d997['replace'](/\$\s*\$/g,'$$'),_0x13d997!==_0x48650e&&(_0x510b2b(_0x1d740d,_0x13d997),_0x21460e++);});if(_0x21460e>0x0){showMessage(_0x1bb789(0x6e8)+_0x21460e+_0x1bb789(0x8b8));try{if(window['MathJax']&&MathJax[_0x1bb789(0x281)])MathJax['typesetPromise']();window[_0x1bb789(0x901)]&&typeof renderMathInElement===_0x1bb789(0x416)&&renderMathInElement(_0x49dd63,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x316344){}}else showMessage(_0x1bb789(0x94e));}async function listenForCustomMathTopics(){const _0xe8e47f=_0x3de37b,_0x1efad6=collection(db,'artifacts/'+appId+_0xe8e47f(0x880));onSnapshot(_0x1efad6,_0x2accc5=>{const _0x10496a=_0xe8e47f;customMathTopics=_0x2accc5[_0x10496a(0x7c4)][_0x10496a(0x7bf)](_0x177513=>({'id':_0x177513['id'],..._0x177513[_0x10496a(0x51a)]()})),renderTopicCheckboxes();},_0xaac9c4=>{const _0x14c7fd=_0xe8e47f;console[_0x14c7fd(0x2a8)](_0x14c7fd(0x1ce),_0xaac9c4);});}function handleSelectAllTopics(){const _0x482e0a=_0x3de37b,_0x2c7cce=document[_0x482e0a(0x26b)]('math-topics-checkbox-container'),_0xd3aba2=_0x2c7cce[_0x482e0a(0x303)](_0x482e0a(0x3b8));_0xd3aba2[_0x482e0a(0x597)](_0xaf885b=>{const _0x24775f=_0x482e0a;_0xaf885b[_0x24775f(0x268)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x217c5e=_0x3de37b,_0x4de8d6=document[_0x217c5e(0x26b)]('math-topics-checkbox-container'),_0x19bb93=_0x4de8d6[_0x217c5e(0x303)]('input[type=\x22checkbox\x22]');_0x19bb93[_0x217c5e(0x597)](_0x42b52f=>{const _0x42d726=_0x217c5e;_0x42b52f[_0x42d726(0x268)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x5b01bc){const _0x3c9f66=_0x3de37b;if(!_0x5b01bc)return;try{const _0x127eeb=doc(db,_0x3c9f66(0x573)+appId+'/public/data/customMathTopics',_0x5b01bc);await deleteDoc(_0x127eeb),showMessage(_0x3c9f66(0x55e));}catch(_0x2afd9c){console[_0x3c9f66(0x2a8)](_0x3c9f66(0x778),_0x2afd9c),showMessage(_0x3c9f66(0x84c));}}async function handleAddCustomMathTopic(){const _0x1e0f99=_0x3de37b,_0x48804d=document[_0x1e0f99(0x26b)](_0x1e0f99(0x26d)),_0x3e35c2=_0x48804d[_0x1e0f99(0x884)][_0x1e0f99(0x168)]();if(!_0x3e35c2){showMessage(_0x1e0f99(0x694));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0xb5bcdf=collection(db,_0x1e0f99(0x573)+appId+_0x1e0f99(0x880));await addDoc(_0xb5bcdf,{'name':_0x3e35c2,'createdAt':serverTimestamp()}),_0x48804d[_0x1e0f99(0x884)]='',showMessage(_0x1e0f99(0x100)+_0x3e35c2+_0x1e0f99(0x40c));}catch(_0x119491){console[_0x1e0f99(0x2a8)](_0x1e0f99(0x838),_0x119491),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x1f57b4=_0x3de37b;showConfirmation(_0x1f57b4(0x8b9),async()=>{const _0x3f41c0=_0x1f57b4,_0x520f6b=document[_0x3f41c0(0x26b)](_0x3f41c0(0x902)),_0x5ec8db=document['getElementById'](_0x3f41c0(0x750)),_0xd7633=_0x5ec8db[_0x3f41c0(0x64c)];_0x520f6b[_0x3f41c0(0x74c)][_0x3f41c0(0x953)]('hidden'),_0x5ec8db[_0x3f41c0(0x64c)]=_0x3f41c0(0x552);try{const _0xa06ccc=collection(db,'artifacts/'+appId+_0x3f41c0(0x5df)),_0x260ba8=await getDocs(_0xa06ccc);if(_0x260ba8['empty']){showMessage(_0x3f41c0(0x2dd));return;}const _0x387bba=writeBatch(db);let _0x3ab12e=0x0;_0x260ba8[_0x3f41c0(0x597)](_0x15abf1=>{const _0x13da11=_0x3f41c0,_0x20a209=_0x15abf1[_0x13da11(0x51a)](),_0xc2b241=_0x15abf1['id'];if(_0x20a209['questions']&&_0x20a209['questions'][_0x13da11(0x579)]>0x0&&!_0x20a209[_0x13da11(0x6ba)][0x0]['hasOwnProperty']('id')){console[_0x13da11(0x1c3)](_0x13da11(0x77e)+_0xc2b241+'\x20('+_0x20a209[_0x13da11(0x680)]+')'),_0x3ab12e++;const _0x2534fc=_0x20a209[_0x13da11(0x6ba)][_0x13da11(0x7bf)]((_0x49ee3b,_0x5d4f46)=>{return{..._0x49ee3b,'id':_0x49ee3b['id']||'q_'+Date['now']()+'_'+_0xc2b241+'_'+_0x5d4f46};}),_0x4e15af=doc(db,_0x13da11(0x573)+appId+_0x13da11(0x5df),_0xc2b241);_0x387bba[_0x13da11(0x5b5)](_0x4e15af,{'questions':_0x2534fc});}}),_0x3ab12e>0x0?(_0x5ec8db[_0x3f41c0(0x64c)]=_0x3f41c0(0x907)+_0x3ab12e+_0x3f41c0(0x620),await _0x387bba[_0x3f41c0(0x937)](),showMessage(_0x3f41c0(0x919)+_0x3ab12e+_0x3f41c0(0x6e0))):showMessage(_0x3f41c0(0x50e));}catch(_0x54e4c0){console[_0x3f41c0(0x2a8)](_0x3f41c0(0x534),_0x54e4c0),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x54e4c0['message']);}finally{_0x520f6b[_0x3f41c0(0x74c)][_0x3f41c0(0x1c0)](_0x3f41c0(0x2d5)),_0x5ec8db['textContent']=_0xd7633;}});}async function handleBulkUpdateQuizSettings(){const _0x16f687=_0x3de37b,_0x2d0114={'shuffle':document[_0x16f687(0x26b)]('bulk-shuffle-select')[_0x16f687(0x884)],'resultsDisplay':document['getElementById'](_0x16f687(0x586))['value'],'loopUntilPass':document[_0x16f687(0x26b)](_0x16f687(0x63e))[_0x16f687(0x268)]},_0x2c923c=allQuizzesGlobal[_0x16f687(0x579)];showConfirmation(_0x16f687(0x23d)+_0x2c923c+_0x16f687(0x729),async()=>{const _0x2e0cc5=_0x16f687,_0x4ce0e0=document[_0x2e0cc5(0x26b)](_0x2e0cc5(0x9d5));_0x4ce0e0[_0x2e0cc5(0x865)]=!![],_0x4ce0e0[_0x2e0cc5(0x9ba)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0xa1007f=writeBatch(db);allQuizzesGlobal[_0x2e0cc5(0x597)](_0x4759e2=>{const _0x503899=_0x2e0cc5,_0x1cb936=doc(db,_0x503899(0x573)+appId+_0x503899(0x5df),_0x4759e2['id']),_0x4fc189={..._0x4759e2[_0x503899(0x81e)]||{},..._0x2d0114};_0xa1007f[_0x503899(0x5b5)](_0x1cb936,{'settings':_0x4fc189});}),await _0xa1007f['commit'](),document[_0x2e0cc5(0x26b)](_0x2e0cc5(0x7b7))[_0x2e0cc5(0x74c)][_0x2e0cc5(0x1c0)](_0x2e0cc5(0x2d5)),showMessage(_0x2e0cc5(0x3f5)+_0x2c923c+'\x20ชุดสำเร็จ!');}catch(_0x2ea3d2){console['error'](_0x2e0cc5(0x1cf),_0x2ea3d2),showMessage(_0x2e0cc5(0x53e));}finally{_0x4ce0e0['disabled']=![],_0x4ce0e0['innerHTML']=_0x2e0cc5(0x15b);}});}async function handleSaveProjectName(){const _0x46c4e7=_0x3de37b,_0x58cc87=document[_0x46c4e7(0x26b)](_0x46c4e7(0x37b)),_0x324e07=document['getElementById'](_0x46c4e7(0x40f)),_0x482e6b=_0x58cc87[_0x46c4e7(0x64c)]['trim']();if(!_0x482e6b||!currentProjectId){showMessage(_0x46c4e7(0x777)),_0x58cc87[_0x46c4e7(0x64c)]=currentProjectData[_0x46c4e7(0x5ab)];return;}_0x324e07[_0x46c4e7(0x865)]=!![],_0x324e07[_0x46c4e7(0x9ba)]=_0x46c4e7(0x6de);try{const _0x54f16a=doc(db,_0x46c4e7(0x573)+appId+_0x46c4e7(0x72b),currentProjectId);await updateDoc(_0x54f16a,{'projectName':_0x482e6b}),currentProjectData&&(currentProjectData['projectName']=_0x482e6b),showMessage(_0x46c4e7(0x248));}catch(_0x367a18){console[_0x46c4e7(0x2a8)](_0x46c4e7(0x7b8),_0x367a18),showMessage(_0x46c4e7(0x7a4)),_0x58cc87[_0x46c4e7(0x64c)]=currentProjectData[_0x46c4e7(0x5ab)];}finally{_0x324e07['classList'][_0x46c4e7(0x1c0)](_0x46c4e7(0x2d5)),_0x324e07[_0x46c4e7(0x865)]=![],_0x324e07[_0x46c4e7(0x9ba)]=_0x46c4e7(0x7de);}}async function initialize(){const _0x592464=_0x3de37b;try{const _0x50fe2b=initializeApp(firebaseConfig);db=getFirestore(_0x50fe2b),auth=getAuth(_0x50fe2b),setupAuthListener(),setupEventListeners(),showView(_0x592464(0x836)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x400c91){console[_0x592464(0x2a8)](_0x592464(0x438),_0x400c91),showMessage(_0x592464(0x772));}}async function handleVerifyAnswersInEditor(){const _0x5d40bc=_0x3de37b,_0x38ab22=document[_0x5d40bc(0x26b)](_0x5d40bc(0x911));if(!_0x38ab22)return;const _0x52188f=document[_0x5d40bc(0x26b)](_0x5d40bc(0x598));_0x52188f[_0x5d40bc(0x865)]=!![],_0x52188f['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0xf79de2=_0x38ab22['querySelectorAll'](_0x5d40bc(0x92e)),_0xe54c28=Array[_0x5d40bc(0x38e)](_0xf79de2)[_0x5d40bc(0x7bf)]((_0x5270bd,_0x365357)=>{const _0x5cb3d4=_0x5d40bc,_0x9eaac7=_0x5270bd[_0x5cb3d4(0x4ae)][_0x5cb3d4(0x94c)],_0x2848d3=_0x5270bd[_0x5cb3d4(0x8f1)](_0x5cb3d4(0x935))[_0x5cb3d4(0x884)];let _0x414a74=null,_0x5b6485='';switch(_0x9eaac7){case _0x5cb3d4(0x153):const _0x163e9f=_0x5270bd[_0x5cb3d4(0x303)](_0x5cb3d4(0x638));_0x414a74=Array['from'](_0x163e9f)[_0x5cb3d4(0x7bf)](_0x9513b=>_0x9513b[_0x5cb3d4(0x884)]);const _0x1fca09=_0x5270bd[_0x5cb3d4(0x8f1)](_0x5cb3d4(0x238));_0x1fca09&&(_0x5b6485=_0x414a74[parseInt(_0x1fca09[_0x5cb3d4(0x884)])]);break;case _0x5cb3d4(0x1c1):_0x5b6485=_0x5270bd[_0x5cb3d4(0x8f1)](_0x5cb3d4(0x623))[_0x5cb3d4(0x884)];break;case _0x5cb3d4(0x275):const _0x956e45=_0x5270bd[_0x5cb3d4(0x8f1)](_0x5cb3d4(0x238));_0x5b6485=_0x956e45?_0x956e45[_0x5cb3d4(0x884)]:'';break;case _0x5cb3d4(0x6cc):_0x5b6485=_0x5270bd[_0x5cb3d4(0x8f1)](_0x5cb3d4(0x9df))[_0x5cb3d4(0x884)];break;}return{'question':_0x2848d3,'options':_0x414a74,'proposedAnswer':_0x5b6485};}),_0x1b20ee=_0x5d40bc(0x4c5)+JSON[_0x5d40bc(0x670)](_0xe54c28)+_0x5d40bc(0x5b4),_0x1ffe17={'type':'ARRAY','items':{'type':_0x5d40bc(0x1e7),'properties':{'questionIndex':{'type':_0x5d40bc(0x72a)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x5d40bc(0x205)},'suggestedAnswer':{'type':_0x5d40bc(0x205)}},'required':[_0x5d40bc(0x1e1),_0x5d40bc(0x516),_0x5d40bc(0x3e9)]}},_0xecda3d=await callAnalysisApi(_0x1b20ee,{'type':_0x5d40bc(0x1e7),'properties':{'result':_0x1ffe17},'required':[_0x5d40bc(0xa00)]});displayVerificationResultsInEditor(_0xecda3d[_0x5d40bc(0xa00)]);}catch(_0x5a9f5c){console[_0x5d40bc(0x2a8)](_0x5d40bc(0x22a),_0x5a9f5c),showMessage(_0x5d40bc(0x567));}finally{_0x52188f['disabled']=![],_0x52188f['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x4ac21d){const _0x105f5c=_0x3de37b;_0x4ac21d[_0x105f5c(0x597)](_0x4a7a4f=>{const _0xe4a202=_0x105f5c,_0x3e7b6f=document['querySelector'](_0xe4a202(0xa43)+_0x4a7a4f[_0xe4a202(0x1e1)]+'\x22]');if(!_0x3e7b6f)return;const _0x4d33be=_0x3e7b6f['querySelector'](_0xe4a202(0x696));if(_0x4d33be)_0x4d33be[_0xe4a202(0x953)]();let _0x1d4ff1='';if(_0x4a7a4f[_0xe4a202(0x516)])_0x1d4ff1=_0xe4a202(0x4d7);else{const _0x454c36=_0x4a7a4f[_0xe4a202(0x9a1)]?_0xe4a202(0x2e4):'';_0x1d4ff1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x454c36+_0xe4a202(0x8d3)+_0x4a7a4f[_0xe4a202(0x3e9)]+_0xe4a202(0x791)+(_0x4a7a4f[_0xe4a202(0x9a1)]?_0xe4a202(0x8c1)+_0x4a7a4f[_0xe4a202(0x9a1)]+_0xe4a202(0x81d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x3e7b6f[_0xe4a202(0x800)]('beforeend',_0x1d4ff1);if(!_0x4a7a4f[_0xe4a202(0x516)]&&_0x4a7a4f['suggestedAnswer']){const _0x1a5358=_0x3e7b6f['dataset'][_0xe4a202(0x94c)],_0x4c2500=_0xc009c4=>{const _0xba3f29=_0xe4a202;if(!_0xc009c4)return;_0xc009c4[_0xba3f29(0x74c)][_0xba3f29(0x1c0)](_0xba3f29(0x825),_0xba3f29(0x3b1),_0xba3f29(0x6b1)),setTimeout(()=>{_0xc009c4['classList']['remove']('bg-green-200');},0x9c4);};if(_0x1a5358===_0xe4a202(0x153)){const _0x31ebc8=Array[_0xe4a202(0x38e)](_0x3e7b6f[_0xe4a202(0x303)](_0xe4a202(0x638))),_0x1506b4=_0x31ebc8[_0xe4a202(0x4f1)](_0xc2a8db=>_0xc2a8db[_0xe4a202(0x884)]['trim']()[_0xe4a202(0x82b)]()===_0x4a7a4f['suggestedAnswer']['trim']()['toLowerCase']());if(_0x1506b4!==-0x1){const _0x182a6c=_0x3e7b6f[_0xe4a202(0x8f1)](_0xe4a202(0xa23)+_0x1506b4+'\x22]');_0x182a6c&&(_0x182a6c[_0xe4a202(0x268)]=!![],_0x4c2500(_0x182a6c[_0xe4a202(0x8ce)](_0xe4a202(0x5e7))));}}else{if(_0x1a5358===_0xe4a202(0x1c1)||_0x1a5358===_0xe4a202(0x6cc)){const _0x588468=_0x3e7b6f[_0xe4a202(0x8f1)](_0xe4a202(0x520));_0x588468&&(_0x588468[_0xe4a202(0x884)]=_0x4a7a4f[_0xe4a202(0x9a1)],_0x4c2500(_0x588468));}else{if(_0x1a5358===_0xe4a202(0x275)){const _0x574b04=_0x4a7a4f[_0xe4a202(0x9a1)][_0xe4a202(0x168)]()[_0xe4a202(0x82b)](),_0xf0b3c9=_0x3e7b6f[_0xe4a202(0x8f1)](_0xe4a202(0xa23)+_0x574b04+'\x22]');_0xf0b3c9&&(_0xf0b3c9[_0xe4a202(0x268)]=!![],_0x4c2500(_0xf0b3c9[_0xe4a202(0x8ce)](_0xe4a202(0x5e7))));}}}}}),showMessage(_0x105f5c(0x8d2));}async function handleVerifyAnswers(){const _0x10f06b=_0x3de37b;if(!currentQuizData||!currentQuizData[_0x10f06b(0x6ba)]){showMessage(_0x10f06b(0x8ed));return;}const _0x286032=document[_0x10f06b(0x26b)]('verify-answers-btn');_0x286032[_0x10f06b(0x865)]=!![],_0x286032['innerHTML']=_0x10f06b(0x92f);try{const _0xf06a57=currentQuizData[_0x10f06b(0x6ba)][_0x10f06b(0x7bf)]((_0x438bb4,_0x19a5d4)=>{const _0xed6318=_0x10f06b;let _0x3f3561='';const _0x4f61dc=_0x438bb4[_0xed6318(0x14b)]||currentQuizData['quizType'];switch(_0x4f61dc){case _0xed6318(0x153):_0x3f3561=_0x438bb4[_0xed6318(0x8e3)][_0x438bb4[_0xed6318(0x7d9)]];break;case _0xed6318(0x1c1):_0x3f3561=_0x438bb4[_0xed6318(0x11f)];break;case _0xed6318(0x275):_0x3f3561=_0x438bb4[_0xed6318(0x980)][_0xed6318(0x400)]();break;case _0xed6318(0x6cc):_0x3f3561=_0x438bb4['correctResponse'];break;}return{'question':_0x438bb4[_0xed6318(0x622)]||_0x438bb4[_0xed6318(0x19b)],'options':_0x438bb4['options']||null,'proposedAnswer':_0x3f3561};}),_0x19fd55=_0x10f06b(0xa46)+JSON[_0x10f06b(0x670)](_0xf06a57)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x364204={'type':'ARRAY','items':{'type':_0x10f06b(0x1e7),'properties':{'questionIndex':{'type':_0x10f06b(0x72a)},'isCorrect':{'type':_0x10f06b(0x97e)},'justification':{'type':_0x10f06b(0x205)},'suggestedAnswer':{'type':_0x10f06b(0x205)}},'required':[_0x10f06b(0x1e1),'isCorrect',_0x10f06b(0x3e9)]}},_0x43c2a2=await callAnalysisApi(_0x19fd55,{'type':'OBJECT','properties':{'result':_0x364204},'required':[_0x10f06b(0xa00)]});displayVerificationResults(_0x43c2a2['result']);}catch(_0x171869){console[_0x10f06b(0x2a8)](_0x10f06b(0x4c0),_0x171869),showMessage(_0x10f06b(0x567));}finally{_0x286032['disabled']=![],_0x286032[_0x10f06b(0x9ba)]=_0x10f06b(0x29a);}}function displayVerificationResults(_0x5361eb){const _0x9688b2=_0x3de37b;_0x5361eb[_0x9688b2(0x597)](_0x4a6632=>{const _0x1399d7=_0x9688b2,_0x534be7=document[_0x1399d7(0x8f1)](_0x1399d7(0xa39)+_0x4a6632[_0x1399d7(0x1e1)]+'\x22]');if(_0x534be7){const _0x1be34d=_0x534be7[_0x1399d7(0x8f1)](_0x1399d7(0x942));if(_0x1be34d)_0x1be34d[_0x1399d7(0x953)]();let _0x5f5403='';_0x4a6632[_0x1399d7(0x516)]?_0x5f5403='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5f5403=_0x1399d7(0x4bd)+_0x4a6632[_0x1399d7(0x3e9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4a6632[_0x1399d7(0x9a1)]?_0x1399d7(0x8c1)+_0x4a6632[_0x1399d7(0x9a1)]+_0x1399d7(0x81d):'')+_0x1399d7(0x705),_0x534be7[_0x1399d7(0x800)](_0x1399d7(0x94d),_0x5f5403);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x23fef8,_0xfd2ca6){const _0x54dfdc=_0x3de37b,_0x4616b1=String(_0x23fef8)[_0x54dfdc(0xa16)](',','.')['replace'](/[^\d.-]/g,'')[_0x54dfdc(0x168)](),_0x4edc2c=String(_0xfd2ca6)[_0x54dfdc(0xa16)](',','.')[_0x54dfdc(0xa16)](/[^\d.-]/g,'')[_0x54dfdc(0x168)]();if(_0x4616b1===''||_0x4edc2c==='')return![];const _0x570bd0=parseFloat(_0x4616b1),_0x26af49=parseFloat(_0x4edc2c);if(isNaN(_0x570bd0)||isNaN(_0x26af49))return![];return Math[_0x54dfdc(0x44b)](_0x570bd0-_0x26af49)<0.001;}async function gradeShortAnswer(_0x16c442,_0x5077bc){const _0x563984=_0x3de37b,_0x35ffc9=_0x5077bc['idealAnswer'];if(String(_0x16c442)['trim']()[_0x563984(0x82b)]()===String(_0x35ffc9)[_0x563984(0x168)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x16c442,_0x35ffc9))return!![];return console['log'](_0x563984(0x3db)),await gradeShortAnswerWithAI(_0x16c442,_0x35ffc9);}async function revealAnswerForAdmin(_0x5d3234,_0x485c5e){const _0x38898f=_0x3de37b,_0x1a97a7=doc(db,_0x38898f(0x573)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1a97a7,{'questionStatus':_0x38898f(0x7df)});}function showTop5LeaderboardView(_0x50ad2b){const _0x13198f=_0x3de37b,_0x2b536b=Object['values'](_0x50ad2b['players']||{})['filter'](_0x46ecd0=>_0x46ecd0[_0x13198f(0x921)]===_0x13198f(0x55c));_0x2b536b['sort']((_0xa56a,_0x52d532)=>_0x52d532[_0x13198f(0x5aa)]-_0xa56a['score']);const _0x2d6c41=_0x2b536b[_0x13198f(0x285)](0x0,0x5),_0xe8e877='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d6c41[_0x13198f(0x7bf)]((_0xa75f22,_0x38ce46)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x38ce46+0x1)+'.\x20'+(_0xa75f22['name']||Object['keys'](_0x50ad2b[_0x13198f(0x4bc)])['find'](_0x1d40cc=>_0x50ad2b['players'][_0x1d40cc]===_0xa75f22))+_0x13198f(0x134)+_0xa75f22['score']+_0x13198f(0x9a2))[_0x13198f(0xa17)]('')+_0x13198f(0x65e)+(_0x50ad2b[_0x13198f(0x9ab)]+0x1===currentQuizData[_0x13198f(0x6ba)][_0x13198f(0x579)]?_0x13198f(0x461):_0x13198f(0x7e5))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0xe8e877,document[_0x13198f(0x26b)](_0x13198f(0x140))[_0x13198f(0x813)](_0x13198f(0x8c2),async()=>{const _0x3bc642=_0x13198f,_0x1ea471=doc(db,_0x3bc642(0x573)+appId+_0x3bc642(0x6cb),currentLiveGameId),_0x11e9df=_0x50ad2b[_0x3bc642(0x9ab)]+0x1;if(_0x11e9df<currentQuizData[_0x3bc642(0x6ba)]['length']){const _0x287390={'currentQuestionIndex':_0x11e9df,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x3bc642(0x441)};Object[_0x3bc642(0xa3b)](_0x50ad2b[_0x3bc642(0x4bc)])[_0x3bc642(0x597)](_0x4af953=>{const _0x41baa3=_0x3bc642;_0x287390[_0x41baa3(0x742)+_0x4af953+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x1ea471,_0x287390);}else await updateDoc(_0x1ea471,{'status':_0x3bc642(0x53b)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3d238f=>{const _0x125ea2=_0x4a4b;if(_0x3d238f){userId=_0x3d238f[_0x125ea2(0x4cd)],userIdDisplay[_0x125ea2(0x64c)]=userId;const _0xddff38=await loadUserPreferences();_0xddff38[_0x125ea2(0x321)]&&(document['getElementById'](_0x125ea2(0x14d))[_0x125ea2(0x884)]=_0xddff38[_0x125ea2(0x321)]);globalDashboardSettings[_0x125ea2(0x17a)]=_0xddff38['projectView']||_0x125ea2(0x57a);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x3d5578,_0x317bb9){const _0xb05bac=_0x3de37b;if(!userId)return;try{const _0xf1af95=doc(db,_0xb05bac(0x573)+appId+_0xb05bac(0x111)+userId+_0xb05bac(0x6be)),_0x1866c4={};_0x1866c4[_0x3d5578]=_0x317bb9,await setDoc(_0xf1af95,_0x1866c4,{'merge':!![]});}catch(_0x5aaab8){console['error'](_0xb05bac(0x4dc),_0x5aaab8);}}async function loadUserPreferences(){const _0x590faf=_0x3de37b;if(!userId)return{};try{const _0x19ea6d=doc(db,_0x590faf(0x573)+appId+_0x590faf(0x111)+userId+'/preferences/main'),_0x258319=await getDoc(_0x19ea6d);if(_0x258319[_0x590faf(0x42d)]())return _0x258319[_0x590faf(0x51a)]();return{};}catch(_0x570bcf){return console[_0x590faf(0x2a8)](_0x590faf(0x652),_0x570bcf),{};}}function showPodiumView(_0x51a8eb,_0x2a849e='live-race'){const _0x426c39=_0x3de37b,_0x32d651=Object[_0x426c39(0x1ee)](_0x51a8eb)[_0x426c39(0x7bf)](([_0x382adf,_0x4cbdf6])=>({'name':_0x382adf,'score':_0x4cbdf6[_0x426c39(0x5aa)]||0x0,'badges':_0x4cbdf6['badges']||[],'hasPerfectScoreBonus':_0x4cbdf6[_0x426c39(0x5fc)]||![]}));_0x32d651['sort']((_0x42a071,_0x3b7b39)=>{const _0x441388=_0x426c39,_0x33a6bf=_0x3b7b39[_0x441388(0x5aa)]-_0x42a071['score'];if(_0x33a6bf!==0x0)return _0x33a6bf;return(_0x3b7b39[_0x441388(0x51f)]['length']||0x0)-(_0x42a071[_0x441388(0x51f)][_0x441388(0x579)]||0x0);});const _0x3e145c=_0x376e91=>{const _0x44b367=_0x426c39;if(!_0x376e91||_0x376e91[_0x44b367(0x579)]===0x0)return'';const _0xe18464={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x376e91[_0x44b367(0x7bf)](_0x111b1a=>_0xe18464[_0x111b1a]||'')[_0x44b367(0xa17)]('')+_0x44b367(0x7d8);},_0x6d8a03=_0x32d651[_0x426c39(0x285)](0x3),_0x6aefa4=_0x6d8a03[_0x426c39(0x579)]>0x0?_0x426c39(0x476)+_0x6d8a03[_0x426c39(0x7bf)]((_0x37f7c0,_0x5f1dd4)=>{const _0x36b932=_0x426c39,_0x439225=_0x37f7c0[_0x36b932(0x5fc)]?_0x36b932(0x246):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x5f1dd4+0x4)+_0x36b932(0x6f8)+_0x37f7c0[_0x36b932(0x234)]+_0x36b932(0x8ae)+_0x37f7c0[_0x36b932(0x5aa)]+'\x20คะแนน\x20'+_0x439225+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x426c39(0xa17)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x1c966c=_0x426c39(0x8b5)+(_0x32d651[0x1]?_0x426c39(0x91e)+_0x32d651[0x1][_0x426c39(0x234)]+_0x426c39(0x81d)+_0x3e145c(_0x32d651[0x1][_0x426c39(0x51f)])+_0x426c39(0x5a4)+_0x32d651[0x1][_0x426c39(0x5aa)]+_0x426c39(0x876)+(_0x32d651[0x1][_0x426c39(0x5fc)]?_0x426c39(0x762):'')+_0x426c39(0x1dc):'<div\x20class=\x22flex-1\x22></div>')+_0x426c39(0xa0e)+(_0x32d651[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x32d651[0x0][_0x426c39(0x234)]+_0x426c39(0x81d)+_0x3e145c(_0x32d651[0x0][_0x426c39(0x51f)])+_0x426c39(0x6f6)+_0x32d651[0x0][_0x426c39(0x5aa)]+_0x426c39(0x876)+(_0x32d651[0x0][_0x426c39(0x5fc)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x426c39(0x95a):'<div\x20class=\x22flex-1\x22></div>')+_0x426c39(0xa0e)+(_0x32d651[0x2]?_0x426c39(0x2cc)+_0x32d651[0x2][_0x426c39(0x234)]+_0x426c39(0x81d)+_0x3e145c(_0x32d651[0x2]['badges'])+_0x426c39(0x5a4)+_0x32d651[0x2][_0x426c39(0x5aa)]+'\x20คะแนน\x20'+(_0x32d651[0x2][_0x426c39(0x5fc)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x426c39(0x130):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6aefa4+_0x426c39(0x3fa)+(currentMode===_0x426c39(0x9ca)?_0x426c39(0x489):_0x426c39(0x1d5))+_0x426c39(0x51c);liveGameView[_0x426c39(0x9ba)]=_0x1c966c,currentMode===_0x426c39(0x9ca)&&document[_0x426c39(0x26b)]('close-game-final-btn')[_0x426c39(0x813)]('click',async()=>{const _0x48ba84=_0x426c39;let _0x51d21f;_0x2a849e===_0x48ba84(0xa33)?_0x51d21f=doc(db,_0x48ba84(0x573)+appId+_0x48ba84(0x96d),currentLiveGameId):_0x51d21f=doc(db,'artifacts/'+appId+_0x48ba84(0x6cb),currentLiveGameId),await deleteDoc(_0x51d21f);});}function renderSyncSummaryView(_0xedb243,_0x3ae843,_0x1d1e75){const _0x2abd1d=_0x3de37b,_0x23140e=Object[_0x2abd1d(0x4bb)](_0xedb243[_0x2abd1d(0x4bc)]||{}),_0x457ab8=_0x3ae843[_0x2abd1d(0x8e3)]||[],_0x13548c=new Array(_0x457ab8['length'])[_0x2abd1d(0x8f6)](0x0),_0x5c0cd4={};_0x457ab8[_0x2abd1d(0x597)]((_0x543288,_0x2a608a)=>{_0x5c0cd4[_0x2a608a]=[];}),Object[_0x2abd1d(0x1ee)](_0xedb243[_0x2abd1d(0x4bc)]||{})[_0x2abd1d(0x597)](([_0x178c74,_0x5973c9])=>{const _0x2805dc=_0x2abd1d;if(_0x5973c9['status']!==_0x2805dc(0x5f6)&&_0x5973c9['lastAnswerIndex']!==undefined&&_0x5973c9[_0x2805dc(0x7cf)]!==null){const _0x58663a=_0x5973c9[_0x2805dc(0x7cf)];_0x5c0cd4[_0x58663a]!==undefined&&(_0x5c0cd4[_0x58663a][_0x2805dc(0x8b7)](_0x178c74),_0x13548c[_0x58663a]++);}});let _0x1fb445='';_0x1d1e75?_0x1fb445=_0x2abd1d(0x2ce):_0x1fb445=_0x2abd1d(0x1ab);const _0x192da3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x3ae843[_0x2abd1d(0x19b)]+_0x2abd1d(0x4e1)+_0x13548c['map']((_0x2ce53a,_0x1fbbad)=>{const _0xb848d=_0x2abd1d,_0x2ee505=_0x5c0cd4[_0x1fbbad][_0xb848d(0x579)]>0x0?_0x5c0cd4[_0x1fbbad][_0xb848d(0xa17)](',\x20'):_0xb848d(0x9d8),_0x11747b='#6366F1';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x2ce53a+_0xb848d(0x89f)+_0x11747b+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x1fbbad+_0xb848d(0x9db)+_0x457ab8[_0x1fbbad]+_0xb848d(0x6fb)+_0x1fbbad+_0xb848d(0x797)+_0x2ee505+_0xb848d(0x5eb);})[_0x2abd1d(0xa17)]('')+_0x2abd1d(0x34d)+_0x1fb445+_0x2abd1d(0x5fe);liveGameView['innerHTML']=_0x192da3;if(window[_0x2abd1d(0x7c9)])MathJax[_0x2abd1d(0x281)]();_0x1d1e75&&(document['getElementById'](_0x2abd1d(0x440))['addEventListener'](_0x2abd1d(0x8c2),async()=>{const _0x143a58=_0x2abd1d,_0x2804f4=doc(db,_0x143a58(0x573)+appId+_0x143a58(0x96d),currentLiveGameId);await updateDoc(_0x2804f4,{'status':'results'});}),document[_0x2abd1d(0x26b)](_0x2abd1d(0x629))[_0x2abd1d(0x49a)]=()=>{openScratchpad(_0x3ae843,_0x457ab8);});}async function handleShowStudentRankings(){const _0x25a217=_0x3de37b,_0x23e6c6=document[_0x25a217(0x8f1)](_0x25a217(0x8b2));_0x23e6c6&&(_0x23e6c6[_0x25a217(0x9ba)]=_0x25a217(0x7ee));const _0x2ebabc=document[_0x25a217(0x8f1)](_0x25a217(0x39b));_0x2ebabc&&(_0x2ebabc['innerHTML']=_0x25a217(0x288));const _0x4db847=document[_0x25a217(0x26b)]('student-rankings-modal');_0x4db847[_0x25a217(0x74c)][_0x25a217(0x953)]('hidden'),document[_0x25a217(0x26b)](_0x25a217(0x497))['onclick']=()=>_0x4db847['classList'][_0x25a217(0x1c0)](_0x25a217(0x2d5));const _0xc1ba01=document[_0x25a217(0x26b)](_0x25a217(0x4cc)),_0x339963=document[_0x25a217(0x26b)](_0x25a217(0x1fe)),_0x1a229a=document[_0x25a217(0x26b)]('student-quiz-leaderboard-content'),_0x2439ec=document[_0x25a217(0x26b)](_0x25a217(0x787));_0xc1ba01[_0x25a217(0x49a)]=()=>{const _0x46481b=_0x25a217;_0xc1ba01['classList'][_0x46481b(0x1c0)]('active'),_0x339963[_0x46481b(0x74c)]['remove'](_0x46481b(0x55c)),_0x1a229a['classList'][_0x46481b(0x953)]('hidden'),_0x2439ec[_0x46481b(0x74c)][_0x46481b(0x1c0)](_0x46481b(0x2d5));},_0x339963[_0x25a217(0x49a)]=()=>{const _0x19417d=_0x25a217;_0x339963[_0x19417d(0x74c)]['add'](_0x19417d(0x55c)),_0xc1ba01[_0x19417d(0x74c)]['remove'](_0x19417d(0x55c)),_0x2439ec[_0x19417d(0x74c)][_0x19417d(0x953)](_0x19417d(0x2d5)),_0x1a229a['classList'][_0x19417d(0x1c0)](_0x19417d(0x2d5));};try{const _0x514dfb=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x4c5192=await getDocs(_0x514dfb),_0x23ff40=_0x4c5192[_0x25a217(0x7c4)]['map'](_0x3cdbb4=>_0x3cdbb4[_0x25a217(0x51a)]());renderQuizLeaderboard(_0x23ff40,currentQuizData,_0x25a217(0x6ac));const _0x420c1b=collection(db,'artifacts/'+appId+_0x25a217(0x527)+currentQuizData[_0x25a217(0x551)]+_0x25a217(0x716)),_0x2206ed=await getDocs(_0x420c1b),_0x13e384=_0x2206ed['docs'][_0x25a217(0x7bf)](_0x2583cf=>_0x2583cf[_0x25a217(0x51a)]());renderLeaderboard(_0x13e384,'student-project-leaderboard-table-body');}catch(_0x3c0c4c){console[_0x25a217(0x2a8)](_0x25a217(0x889),_0x3c0c4c),showMessage(_0x25a217(0x75c));}}async function handleSaveToBank(_0x45079b){const _0x17f57d=_0x3de37b,_0x2c628a=_0x45079b['currentTarget'],_0x15808e=_0x2c628a[_0x17f57d(0x4ae)][_0x17f57d(0x9a8)],_0x2323e2=currentQuizData[_0x17f57d(0x6ba)][_0x15808e];if(!userId){showMessage(_0x17f57d(0x3c2));return;}try{const _0x5417c6={..._0x2323e2,'originalTopic':currentQuizData[_0x17f57d(0x680)],'savedAt':serverTimestamp()},_0x2d511e=collection(db,'artifacts/'+appId+'/users/'+userId+'/questionBank');await addDoc(_0x2d511e,_0x5417c6),showMessage(_0x17f57d(0x4c9)),_0x2c628a[_0x17f57d(0x74c)][_0x17f57d(0x953)](_0x17f57d(0x8d0)),_0x2c628a['classList'][_0x17f57d(0x1c0)](_0x17f57d(0x6aa)),_0x2c628a[_0x17f57d(0x865)]=!![];}catch(_0x3e4f85){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0x3e4f85),showMessage(_0x17f57d(0x7a4));}}function listenForStarredQuizzes(){const _0x1c3e2e=_0x3de37b;if(!userId)return;const _0x5e7b5c=collection(db,_0x1c3e2e(0x573)+appId+_0x1c3e2e(0x5df)),_0x3b6701=query(_0x5e7b5c,where(_0x1c3e2e(0x1c6),'==',!![]));onSnapshot(_0x3b6701,_0x3b983a=>{const _0x851111=_0x1c3e2e;starredQuizzes=_0x3b983a[_0x851111(0x7c4)]['map'](_0x1447bc=>({'id':_0x1447bc['id'],..._0x1447bc[_0x851111(0x51a)]()})),currentProjectId===_0x851111(0x5c9)?renderQuizzes():renderProjects();},_0x3eae1d=>{const _0x4925dc=_0x1c3e2e;console[_0x4925dc(0x2a8)](_0x4925dc(0x7e3),_0x3eae1d);});}function exportQuizAsWorksheetPDF(){const _0x3b616e=_0x3de37b;if(!currentQuizData||!currentQuizData[_0x3b616e(0x6ba)]){showMessage(_0x3b616e(0x428));return;}const _0x353f20=currentQuizData,_0x33b471=window[_0x3b616e(0x12b)]('','_blank'),_0x30e01c=_0x1312af=>String[_0x3b616e(0x4c2)](0x41+_0x1312af),_0x52948c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x353f20['topic']+_0x3b616e(0x6cd)+_0x353f20['topic']+_0x3b616e(0x66c)+_0x353f20['questions'][_0x3b616e(0x7bf)]((_0x10c1c8,_0x4fdafc)=>{const _0x3548e9=_0x3b616e;let _0x383da6='';const _0x42b21f=_0x10c1c8['questionType']||_0x353f20['quizType'];switch(_0x42b21f){case'multiple_choice':case _0x3548e9(0x840):_0x383da6=_0x3548e9(0x860)+_0x10c1c8[_0x3548e9(0x8e3)]['map']((_0x5e2e87,_0x4f7220)=>_0x3548e9(0x28e)+_0x30e01c(_0x4f7220)+'.\x20'+_0x5e2e87+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3548e9(0xa17)]('<br>')+_0x3548e9(0x7d8);break;case _0x3548e9(0x275):_0x383da6='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x383da6=_0x3548e9(0x4aa);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x4fdafc+0x1)+_0x3548e9(0x8a1)+(_0x10c1c8[_0x3548e9(0x622)]||_0x10c1c8[_0x3548e9(0x19b)])+_0x3548e9(0x910)+(_0x10c1c8['imageCode']?_0x3548e9(0x225)+_0x10c1c8[_0x3548e9(0x594)]+_0x3548e9(0x7d8):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x383da6+_0x3548e9(0x987);})[_0x3b616e(0xa17)]('')+_0x3b616e(0x85c);_0x33b471[_0x3b616e(0x5c7)]['write'](_0x52948c),_0x33b471[_0x3b616e(0x5c7)][_0x3b616e(0x545)](),_0x33b471[_0x3b616e(0x2db)]=function(){setTimeout(()=>{const _0x2c3d37=_0x4a4b;_0x33b471[_0x2c3d37(0x896)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x349b5e=_0x3de37b;if(!currentQuizData||!currentQuizData[_0x349b5e(0x6ba)]){showMessage(_0x349b5e(0x428));return;}const _0x44b2aa=currentQuizData,_0x105b1a=window[_0x349b5e(0x12b)]('',_0x349b5e(0x9c3)),_0x4618d7=_0x204f73=>String[_0x349b5e(0x4c2)](0x41+_0x204f73),_0x391e5a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x44b2aa[_0x349b5e(0x680)]+_0x349b5e(0x3b3)+_0x44b2aa[_0x349b5e(0x6ba)]['map']((_0x1f961a,_0x27a6d4)=>{const _0x2e7071=_0x349b5e;let _0x371a8f='';const _0x1aa501=_0x1f961a['questionType']||_0x44b2aa['quizType'];switch(_0x1aa501){case _0x2e7071(0x153):case _0x2e7071(0x840):_0x371a8f='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x1f961a['options'][_0x2e7071(0x7bf)]((_0x3b8af0,_0x2e99ac)=>_0x2e7071(0x8f4)+_0x4618d7(_0x2e99ac)+'.\x20'+_0x3b8af0+_0x2e7071(0x878))[_0x2e7071(0xa17)](_0x2e7071(0x89b))+_0x2e7071(0x1b4);break;case _0x2e7071(0x275):_0x371a8f=_0x2e7071(0x7c5);break;default:_0x371a8f='';break;}return _0x2e7071(0x40d)+_0x44b2aa['topic']+_0x2e7071(0x799)+(_0x27a6d4+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x1f961a[_0x2e7071(0x622)]||_0x1f961a['questionText'])+_0x2e7071(0x910)+(_0x1f961a[_0x2e7071(0x594)]?'<div\x20class=\x22my-6\x22>'+_0x1f961a['imageCode']+_0x2e7071(0x7d8):'')+_0x2e7071(0x833)+_0x371a8f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x349b5e(0x46f);_0x105b1a[_0x349b5e(0x5c7)][_0x349b5e(0x4dd)](_0x391e5a),_0x105b1a[_0x349b5e(0x5c7)][_0x349b5e(0x545)](),_0x105b1a['onload']=function(){setTimeout(()=>{_0x105b1a['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x318f46){const _0x43e86b=_0x3de37b,_0x50994d=doc(db,_0x43e86b(0x573)+appId+'/public/data/quizzes',_0x318f46);try{const _0x1db243=await getDoc(_0x50994d);if(_0x1db243['exists']()){const _0x4bb9cb=_0x1db243[_0x43e86b(0x51a)]()['isStarred']||![];await updateDoc(_0x50994d,{'isStarred':!_0x4bb9cb});}}catch(_0x27ca7f){console[_0x43e86b(0x2a8)](_0x43e86b(0x118),_0x27ca7f),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x5e7f6c=_0x3de37b,_0x51672c=document['getElementById']('bank-input-area');_0x51672c[_0x5e7f6c(0x9ba)]=_0x5e7f6c(0x1e8);try{const _0x184437=collection(db,_0x5e7f6c(0x573)+appId+_0x5e7f6c(0x111)+userId+_0x5e7f6c(0x9f7)),_0x3800b1=query(_0x184437),_0x365927=await getDocs(_0x3800b1);if(_0x365927[_0x5e7f6c(0xa36)]){_0x51672c['innerHTML']=_0x5e7f6c(0x384);return;}let _0x3b7518=_0x365927[_0x5e7f6c(0x7c4)][_0x5e7f6c(0x7bf)](_0xe4d23c=>{const _0x1e3a25=_0x5e7f6c,_0x2dbd47=_0xe4d23c[_0x1e3a25(0x51a)](),_0x197b94=_0xe4d23c['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x1e3a25(0x670)](_0x2dbd47)+_0x1e3a25(0x2af)+(_0x2dbd47[_0x1e3a25(0x19b)]||_0x2dbd47[_0x1e3a25(0x622)])+_0x1e3a25(0x265)+_0x2dbd47['originalTopic']+_0x1e3a25(0x136);})[_0x5e7f6c(0xa17)]('');_0x51672c[_0x5e7f6c(0x9ba)]=_0x5e7f6c(0x8de)+_0x3b7518+_0x5e7f6c(0xa05),document[_0x5e7f6c(0x26b)](_0x5e7f6c(0x2cf))['addEventListener'](_0x5e7f6c(0x8c2),createQuizFromBank);}catch(_0x3036ed){console[_0x5e7f6c(0x2a8)](_0x5e7f6c(0x96c),_0x3036ed),_0x51672c[_0x5e7f6c(0x9ba)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x34da53,_0x4c4336,_0xc2db67){const _0x569098=_0x3de37b,_0x5da995=_0x34da53['questionType']||currentQuizData[_0x569098(0xa11)];let _0xc4109e='';if(_0x5da995===_0x569098(0x153)||_0x5da995==='true_false'){const _0x5e65a7=_0x5da995===_0x569098(0x275)?['ใช่','ไม่ใช่']:_0x34da53[_0x569098(0x8e3)],_0x547931=_0x5da995===_0x569098(0x275)?_0x34da53[_0x569098(0x980)]?0x0:0x1:_0x34da53[_0x569098(0x7d9)];_0xc4109e=_0x5e65a7[_0x569098(0x7bf)]((_0x8a35f5,_0x4faabc)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x4faabc===_0x547931)+_0x569098(0x36e)+_0x8a35f5+_0x569098(0x65f))['join']('');}else{if(_0x5da995===_0x569098(0x6cc)){const _0x418285=_0x34da53[_0x569098(0x330)]||[];_0xc4109e=_0x418285[_0x569098(0x7bf)](_0x2377fa=>_0x569098(0x4f7)+(_0x2377fa===_0x34da53[_0x569098(0x2c2)])+_0x569098(0x36e)+_0x2377fa+_0x569098(0x65f))[_0x569098(0xa17)]('');}}const _0x1450a1=_0x34da53[_0x569098(0x622)]||_0x34da53['questionText'],_0xe4143=_0x569098(0x144)+(_0x4c4336+0x1)+'\x20/\x20'+_0xc2db67+_0x569098(0x478)+currentLiveGamePin+_0x569098(0x8a7)+_0x1450a1+_0x569098(0x5dd)+_0xc4109e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x569098(0x9ba)]=_0xe4143,window[_0x569098(0x7c9)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]),document[_0x569098(0x26b)](_0x569098(0x5a0))[_0x569098(0x813)]('click',()=>revealAnswerForAdmin(_0x4c4336,_0xc2db67)),document[_0x569098(0x26b)](_0x569098(0x307))[_0x569098(0x813)](_0x569098(0x8c2),async()=>{const _0x42f619=_0x569098;showConfirmation(_0x42f619(0x7ed),async()=>{const _0x110765=_0x42f619,_0x530746=doc(db,'artifacts/'+appId+_0x110765(0x6cb),currentLiveGameId);await updateDoc(_0x530746,{'status':_0x110765(0x53b)});});}),document[_0x569098(0x26b)](_0x569098(0x16d))[_0x569098(0x813)]('click',()=>{const _0x25b1b4=_0x569098;document[_0x25b1b4(0x26b)](_0x25b1b4(0x76e))['classList']['toggle']('hidden');});}function showStudentLiveQuestionView(_0x533d58,_0x493935,_0x1f5ff0){const _0x363d2f=_0x3de37b,_0x15848f=_0x533d58[_0x363d2f(0x14b)]||currentQuizData[_0x363d2f(0xa11)];let _0x1cc124='';if(_0x15848f===_0x363d2f(0x153)||_0x15848f===_0x363d2f(0x275)){const _0x5f1eff=_0x15848f===_0x363d2f(0x275)?['ใช่','ไม่ใช่']:_0x533d58[_0x363d2f(0x8e3)];_0x1cc124=_0x5f1eff[_0x363d2f(0x7bf)]((_0x246229,_0x3d8097)=>_0x363d2f(0x830)+_0x3d8097+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x246229+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x363d2f(0xa17)]('');}else{if(_0x15848f===_0x363d2f(0x6cc)){const _0x212af9=_0x533d58['allResponses']||[];_0x1cc124=_0x212af9[_0x363d2f(0x7bf)]((_0x50a410,_0x41126e)=>_0x363d2f(0x830)+_0x41126e+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50a410+_0x363d2f(0x852))['join']('');}else _0x15848f===_0x363d2f(0x1c1)&&(_0x1cc124=_0x363d2f(0x537));}const _0x317a5a=_0x533d58[_0x363d2f(0x622)]||_0x533d58[_0x363d2f(0x19b)],_0x3a0845=_0x363d2f(0x17f)+(_0x493935+0x1)+_0x363d2f(0x119)+_0x1f5ff0+_0x363d2f(0x819)+_0x317a5a+_0x363d2f(0x5c0)+_0x1cc124+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x3a0845;window[_0x363d2f(0x7c9)]&&MathJax[_0x363d2f(0x281)]&&MathJax[_0x363d2f(0x281)]([liveGameView]);const _0xc1f1b9=document[_0x363d2f(0x26b)](_0x363d2f(0x1b8));_0xc1f1b9&&_0xc1f1b9[_0x363d2f(0x813)]('click',()=>{const _0x1607ad=_0x363d2f,_0x1f04f4=document[_0x1607ad(0x26b)](_0x1607ad(0x91f))[_0x1607ad(0x884)];handleLiveAnswer(_0x1f04f4,_0x533d58);}),document[_0x363d2f(0x26b)](_0x363d2f(0x986))[_0x363d2f(0x813)](_0x363d2f(0x8c2),_0x58c178=>{const _0x1c7cab=_0x363d2f,_0x1ef10b=_0x58c178['target'][_0x1c7cab(0x8ce)](_0x1c7cab(0x1cd));if(_0x1ef10b){const _0x38d086=parseInt(_0x1ef10b[_0x1c7cab(0x4ae)][_0x1c7cab(0x9a8)]);handleLiveAnswer(_0x38d086,_0x533d58);}});}async function handleLiveAnswer(_0x2b5630,_0x34ace7){const _0xf8cae8=_0x3de37b;document[_0xf8cae8(0x303)](_0xf8cae8(0x9f0))[_0xf8cae8(0x597)](_0x1938e5=>_0x1938e5[_0xf8cae8(0x865)]=!![]);const _0x3b3441=_0x34ace7[_0xf8cae8(0x14b)]||currentQuizData[_0xf8cae8(0xa11)];let _0x49befa=![],_0x101cce=_0x2b5630;if(_0x3b3441==='short_answer'){const _0x2b674e=(_0x2b5630||'')[_0xf8cae8(0x400)]();_0x49befa=await gradeShortAnswer(_0x2b674e,_0x34ace7);}else{if(_0x3b3441===_0xf8cae8(0x153))_0x49befa=_0x2b5630===_0x34ace7[_0xf8cae8(0x7d9)];else{if(_0x3b3441===_0xf8cae8(0x275)){const _0x381ac8=_0x34ace7[_0xf8cae8(0x980)];_0x49befa=_0x2b5630===0x0&&_0x381ac8||_0x2b5630===0x1&&!_0x381ac8;}else{if(_0x3b3441===_0xf8cae8(0x6cc)){const _0x574547=_0x34ace7[_0xf8cae8(0x330)][_0x2b5630];_0x49befa=_0x574547===_0x34ace7['correctResponse'],_0x101cce=_0x574547;}}}}const _0x73da68=doc(db,_0xf8cae8(0x573)+appId+_0xf8cae8(0x6cb),currentLiveGameId),_0x312fa1={};_0x312fa1[_0xf8cae8(0x742)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x312fa1['players.'+currentStudentName+_0xf8cae8(0x5bd)]=_0x49befa,_0x312fa1['players.'+currentStudentName+'.lastAnswerIndex']=_0x3b3441===_0xf8cae8(0x1c1)||_0x3b3441===_0xf8cae8(0x6cc)?null:_0x2b5630,_0x312fa1['players.'+currentStudentName+_0xf8cae8(0x7c6)]=_0x101cce,_0x312fa1[_0xf8cae8(0x742)+currentStudentName+_0xf8cae8(0x28b)]=serverTimestamp(),_0x312fa1[_0xf8cae8(0x742)+currentStudentName+_0xf8cae8(0x4e4)]=![],await updateDoc(_0x73da68,_0x312fa1),liveGameView[_0xf8cae8(0x9ba)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x4f6e1a,_0x21cdf2){const _0x51aec1=_0x3de37b,_0x1cfb5d=Object[_0x51aec1(0x4bb)](_0x4f6e1a[_0x51aec1(0x4bc)]||{}),_0x18b7ec=_0x21cdf2[_0x51aec1(0x14b)]||currentQuizData[_0x51aec1(0xa11)],_0x1ec6a4=_0x18b7ec===_0x51aec1(0x275)?[_0x51aec1(0x20d),'ไม่ใช่']:_0x21cdf2['options']||_0x21cdf2[_0x51aec1(0x330)]||[],_0x51a8bf={},_0xb1a1d0=new Array(_0x1ec6a4[_0x51aec1(0x579)])[_0x51aec1(0x8f6)](0x0);_0x1ec6a4[_0x51aec1(0x597)]((_0x27d5cf,_0x501633)=>{_0x51a8bf[_0x501633]=[];}),Object[_0x51aec1(0x1ee)](_0x4f6e1a[_0x51aec1(0x4bc)]||{})[_0x51aec1(0x597)](([_0xaeb0e3,_0x5d9837])=>{const _0x4a9eec=_0x51aec1;if(_0x5d9837[_0x4a9eec(0x921)]==='active'&&_0x5d9837[_0x4a9eec(0x7cf)]!==undefined){const _0x1c3586=_0x5d9837[_0x4a9eec(0x7cf)];_0x51a8bf[_0x1c3586]&&(_0x51a8bf[_0x1c3586]['push'](_0xaeb0e3),_0xb1a1d0[_0x1c3586]++);}});const _0x16030d=Math[_0x51aec1(0x104)](..._0xb1a1d0,0x1),_0x44f679=_0x51aec1(0x173)+(_0x21cdf2[_0x51aec1(0x622)]||_0x21cdf2[_0x51aec1(0x19b)])+_0x51aec1(0x6fc)+_0xb1a1d0[_0x51aec1(0x7bf)]((_0x550e26,_0x55f5a3)=>{const _0x2c9c8f=_0x51aec1,_0xaa0020=_0x51a8bf[_0x55f5a3][_0x2c9c8f(0x579)]>0x0?_0x51a8bf[_0x55f5a3][_0x2c9c8f(0xa17)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x5983f9=![];if(_0x18b7ec===_0x2c9c8f(0x153))_0x5983f9=_0x55f5a3===_0x21cdf2['correctAnswerIndex'];else{if(_0x18b7ec==='true_false'){const _0x42a51b=_0x21cdf2['correctAnswer'];_0x5983f9=_0x42a51b&&_0x55f5a3===0x0||!_0x42a51b&&_0x55f5a3===0x1;}else _0x18b7ec==='matching_item'&&(_0x5983f9=_0x1ec6a4[_0x55f5a3]===_0x21cdf2['correctResponse']);}const _0x16c7bc=_0x5983f9?_0x2c9c8f(0x490):_0x2c9c8f(0x316);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x550e26+_0x2c9c8f(0x858)+_0x16c7bc+_0x2c9c8f(0xa3d)+_0x55f5a3+_0x2c9c8f(0x373)+_0x1ec6a4[_0x55f5a3]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x55f5a3+_0x2c9c8f(0x797)+_0xaa0020+_0x2c9c8f(0x5eb);})[_0x51aec1(0xa17)]('')+_0x51aec1(0x61a);liveGameView[_0x51aec1(0x9ba)]=_0x44f679;if(window[_0x51aec1(0x7c9)])MathJax[_0x51aec1(0x281)]();document[_0x51aec1(0x26b)](_0x51aec1(0x3df))['addEventListener'](_0x51aec1(0x8c2),async()=>{const _0x3a5580=_0x51aec1,_0x30f6b7=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x30f6b7,{'questionStatus':_0x3a5580(0x56b)});}),document[_0x51aec1(0x26b)](_0x51aec1(0x6bd))[_0x51aec1(0x813)](_0x51aec1(0x8c2),()=>{openScratchpad(_0x21cdf2,_0x1ec6a4);});}function showPlayerSummaryView(_0x28ebdb,_0x280f00){const _0x4983e7=_0x3de37b,_0x4f098a=Object[_0x4983e7(0x4bb)](_0x28ebdb[_0x4983e7(0x4bc)]||{}),_0x14c3bc=_0x28ebdb[_0x4983e7(0x4bc)][_0x280f00],_0x7204e9=_0x4f098a[_0x4983e7(0x2bf)](_0x3814ee=>_0x3814ee[_0x4983e7(0x921)]===_0x4983e7(0x55c))[_0x4983e7(0x9c4)]((_0xc515e1,_0xa6785)=>_0xa6785['score']-_0xc515e1['score']),_0xc711dc=_0x7204e9[_0x4983e7(0x4f1)](_0x586c93=>_0x586c93===_0x14c3bc)+0x1,_0x33f0cf=_0x14c3bc[_0x4983e7(0x8dc)]?_0x4983e7(0x8c5):_0x4983e7(0x8e0),_0x47c49f=_0x14c3bc[_0x4983e7(0x8dc)]?'bg-green-500':_0x4983e7(0x61b),_0x6ca66b=_0x14c3bc[_0x4983e7(0x2ef)]||0x0,_0x51ff9e=_0x4983e7(0x4db),_0x570a94='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x51ff9e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x47c49f+_0x4983e7(0x89c)+_0x33f0cf+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x6ca66b+_0x4983e7(0x700)+(_0xc711dc>0x0?_0xc711dc:'-')+_0x4983e7(0x6f4);liveGameView['innerHTML']=_0x570a94;}function createQuizFromBank(){const _0x46333f=_0x3de37b,_0x1e5b1d=document[_0x46333f(0x303)](_0x46333f(0x54d));if(_0x1e5b1d['length']===0x0){showMessage(_0x46333f(0x2bc));return;}const _0xf3f617=[];_0x1e5b1d['forEach'](_0x3b6364=>{const _0x57ef6e=_0x46333f;_0xf3f617['push'](JSON['parse'](_0x3b6364[_0x57ef6e(0x884)]));});const _0x4d03c4={'topic':_0x46333f(0x615),'questions':_0xf3f617};displayGeneratedQuiz(_0x4d03c4);}function showAdminLobbyView(_0x1cbffc,_0x25e865){const _0x5825e6=_0x3de37b;showView(_0x5825e6(0x449));const _0x4b9e19=_0x5825e6(0x845)+_0x25e865+_0x5825e6(0x627)+_0x1cbffc+_0x5825e6(0x82f);liveGameView[_0x5825e6(0x9ba)]=_0x4b9e19,document[_0x5825e6(0x26b)]('start-game-btn')['addEventListener'](_0x5825e6(0x8c2),async()=>{const _0x22c1b0=_0x5825e6;if(!currentQuizData||!currentQuizData[_0x22c1b0(0x6ba)]||currentQuizData[_0x22c1b0(0x6ba)][_0x22c1b0(0x579)]===0x0){showMessage(_0x22c1b0(0x501));return;}try{const _0x414f1b=doc(db,'artifacts/'+appId+_0x22c1b0(0x6cb),currentLiveGameId);await updateDoc(_0x414f1b,{'status':_0x22c1b0(0x6d0),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x212fb8=currentQuizData[_0x22c1b0(0x6ba)][0x0],_0x4fd6b0=currentQuizData[_0x22c1b0(0x6ba)][_0x22c1b0(0x579)];showAdminLiveQuestionView(_0x212fb8,0x0,_0x4fd6b0);}catch(_0x30de0a){console[_0x22c1b0(0x2a8)](_0x22c1b0(0x360),_0x30de0a),showMessage(_0x22c1b0(0x194));}});}async function openGlobalLiveModal(){const _0x19a632=_0x3de37b;if(allQuizzesGlobal[_0x19a632(0x579)]===0x0){const _0x5f4f07=await getDocs(collection(db,_0x19a632(0x573)+appId+_0x19a632(0x5df)));allQuizzesGlobal=_0x5f4f07['docs'][_0x19a632(0x7bf)](_0x3824ff=>({'id':_0x3824ff['id'],..._0x3824ff[_0x19a632(0x51a)]()}));}renderGlobalQuizList(''),document[_0x19a632(0x26b)](_0x19a632(0x936))[_0x19a632(0x74c)]['remove'](_0x19a632(0x2d5));}async function openQuizBankModal(){const _0x3637c9=_0x3de37b;if(allQuizzesGlobal[_0x3637c9(0x579)]===0x0){const _0x5dca17=await getDocs(collection(db,'artifacts/'+appId+_0x3637c9(0x5df)));allQuizzesGlobal=_0x5dca17[_0x3637c9(0x7c4)][_0x3637c9(0x7bf)](_0x4fa662=>({'id':_0x4fa662['id'],..._0x4fa662[_0x3637c9(0x51a)]()}));}renderQuizBankList(''),document['getElementById'](_0x3637c9(0x4f6))['classList'][_0x3637c9(0x953)](_0x3637c9(0x2d5));}function renderQuizBankList(_0x4fba99=''){const _0x4b48e8=_0x3de37b,_0x4a2ccb=document[_0x4b48e8(0x26b)]('bank-quiz-list'),_0x4abd5c=_0x4fba99['toLowerCase']()[_0x4b48e8(0x168)](),_0x550ce2=allQuizzesGlobal[_0x4b48e8(0x7bf)](_0x206fc5=>({..._0x206fc5,'projectName':allProjects[_0x4b48e8(0x1da)](_0x24e595=>_0x24e595['id']===_0x206fc5[_0x4b48e8(0x551)])?.[_0x4b48e8(0x5ab)]||_0x4b48e8(0x4e2)}))[_0x4b48e8(0x2bf)](_0x56959a=>(_0x56959a[_0x4b48e8(0x680)]||'')[_0x4b48e8(0x82b)]()[_0x4b48e8(0x15f)](_0x4abd5c)||(_0x56959a[_0x4b48e8(0x5ab)]||'')['toLowerCase']()['includes'](_0x4abd5c)||_0x56959a['id'][_0x4b48e8(0x400)]()['includes'](_0x4abd5c));document['getElementById'](_0x4b48e8(0x9eb))[_0x4b48e8(0x64c)]='('+_0x550ce2[_0x4b48e8(0x579)]+_0x4b48e8(0x695),_0x4a2ccb[_0x4b48e8(0x9ba)]=_0x550ce2['length']?_0x550ce2[_0x4b48e8(0x7bf)](_0x4fe4bf=>_0x4b48e8(0x45e)+_0x4fe4bf['id']+_0x4b48e8(0x3d7)+(_0x4fe4bf[_0x4b48e8(0x680)]||'(ไม่มีชื่อ)')+_0x4b48e8(0x1fd)+(_0x4fe4bf[_0x4b48e8(0x6ba)]?.[_0x4b48e8(0x579)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x4fe4bf[_0x4b48e8(0x5ab)]+_0x4b48e8(0x859)+_0x4fe4bf['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4fe4bf['id']+_0x4b48e8(0x367)+_0x4fe4bf['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4fe4bf['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4fe4bf['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4fe4bf['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4fe4bf['id']+'\x22\x20data-topic=\x22'+_0x4fe4bf['topic']+_0x4b48e8(0x1f5))['join'](''):_0x4b48e8(0x983),_0x4a2ccb[_0x4b48e8(0x303)]('.quiz-bank-item')[_0x4b48e8(0x597)](_0x33b069=>{_0x33b069['addEventListener']('click',()=>{const _0x21a2c9=_0x4a4b,_0x2a93d5=_0x33b069['dataset']['id'];document['getElementById'](_0x21a2c9(0x4f6))['classList'][_0x21a2c9(0x1c0)]('hidden'),showQuizDetailView(_0x2a93d5);});}),_0x4a2ccb[_0x4b48e8(0x303)](_0x4b48e8(0x6cf))[_0x4b48e8(0x597)](_0x508a8f=>{const _0x4cc2e0=_0x4b48e8;_0x508a8f[_0x4cc2e0(0x813)](_0x4cc2e0(0x8c2),_0x2496ba=>{const _0x368bac=_0x4cc2e0;_0x2496ba[_0x368bac(0x659)]();const _0x2be82d=_0x508a8f[_0x368bac(0x4ae)]['id'],_0x4dc0e4=allQuizzesGlobal[_0x368bac(0x1da)](_0x220379=>_0x220379['id']===_0x2be82d);_0x4dc0e4?(currentQuizData=_0x4dc0e4,document[_0x368bac(0x26b)](_0x368bac(0x4f6))[_0x368bac(0x74c)][_0x368bac(0x1c0)](_0x368bac(0x2d5)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x4a2ccb[_0x4b48e8(0x303)](_0x4b48e8(0x309))['forEach'](_0x5afcc7=>{_0x5afcc7['addEventListener']('click',_0x26bf9f=>{const _0x1adb64=_0x4a4b;_0x26bf9f[_0x1adb64(0x659)]();const _0x24b156=_0x5afcc7[_0x1adb64(0x4ae)]['id'],_0x257cd7=allQuizzesGlobal[_0x1adb64(0x1da)](_0x572b08=>_0x572b08['id']===_0x24b156);_0x257cd7?(document[_0x1adb64(0x26b)]('quiz-bank-modal')[_0x1adb64(0x74c)][_0x1adb64(0x1c0)](_0x1adb64(0x2d5)),handleGenerateParallelFromBank(_0x257cd7)):showMessage(_0x1adb64(0x2c8));});}),_0x4a2ccb[_0x4b48e8(0x303)](_0x4b48e8(0x77a))[_0x4b48e8(0x597)](_0x4ad2c6=>{const _0x4e9e2b=_0x4b48e8;_0x4ad2c6['addEventListener'](_0x4e9e2b(0x8c2),_0x4d11c4=>{const _0x216d07=_0x4e9e2b;_0x4d11c4['stopPropagation']();const _0x1185cc=_0x4ad2c6[_0x216d07(0x4ae)]['id'],_0x51586c=allQuizzesGlobal[_0x216d07(0x1da)](_0x3552af=>_0x3552af['id']===_0x1185cc);_0x51586c?(document[_0x216d07(0x26b)]('quiz-bank-modal')[_0x216d07(0x74c)][_0x216d07(0x1c0)]('hidden'),startPresentation(_0x51586c)):showMessage(_0x216d07(0x2c8));});}),_0x4a2ccb[_0x4b48e8(0x303)](_0x4b48e8(0x13c))[_0x4b48e8(0x597)](_0x3d11e6=>{_0x3d11e6['addEventListener']('click',_0x59a777=>{const _0x44d3c1=_0x4a4b;_0x59a777['stopPropagation']();const _0x434f6e=_0x3d11e6['dataset']['id'];document[_0x44d3c1(0x26b)]('quiz-bank-modal')[_0x44d3c1(0x74c)][_0x44d3c1(0x1c0)](_0x44d3c1(0x2d5)),handleMoveQuiz(_0x434f6e);});}),_0x4a2ccb['querySelectorAll'](_0x4b48e8(0x4f4))[_0x4b48e8(0x597)](_0x564a51=>{const _0x59ba14=_0x4b48e8;_0x564a51['addEventListener'](_0x59ba14(0x8c2),_0x3e0d57=>{const _0x169f30=_0x59ba14;_0x3e0d57['stopPropagation']();const _0xbc9719=_0x564a51[_0x169f30(0x4ae)]['id'];document[_0x169f30(0x26b)](_0x169f30(0x4f6))[_0x169f30(0x74c)]['add'](_0x169f30(0x2d5)),handleQuizSettings(_0xbc9719);});}),_0x4a2ccb[_0x4b48e8(0x303)](_0x4b48e8(0x258))[_0x4b48e8(0x597)](_0x5ebb10=>{const _0xeb39fc=_0x4b48e8;_0x5ebb10[_0xeb39fc(0x813)](_0xeb39fc(0x8c2),_0x41ac81=>{const _0x310657=_0xeb39fc;_0x41ac81[_0x310657(0x659)]();const _0x546dfc=_0x5ebb10[_0x310657(0x4ae)]['id'],_0x509189=_0x5ebb10[_0x310657(0x4ae)][_0x310657(0x680)];showConfirmation(_0x310657(0x39f)+_0x509189+_0x310657(0x21c),()=>handleDeleteQuiz(_0x546dfc));});});}async function handleCompareResults(_0x88fa5b,_0x3f37b4){const _0x170513=_0x3de37b,_0x14bf8a=document[_0x170513(0x26b)]('comparison-modal'),_0x38e195=document[_0x170513(0x26b)](_0x170513(0x437)),_0x305cbe=document['getElementById'](_0x170513(0xa1c));document[_0x170513(0x26b)](_0x170513(0x3ad))[_0x170513(0x74c)][_0x170513(0x1c0)]('active'),document[_0x170513(0x26b)](_0x170513(0x6a2))[_0x170513(0x74c)][_0x170513(0x953)]('active'),_0x38e195['classList'][_0x170513(0x953)](_0x170513(0x2d5)),_0x305cbe['classList']['add'](_0x170513(0x2d5)),_0x38e195['innerHTML']=_0x170513(0x1e8),_0x305cbe[_0x170513(0x9ba)]='',_0x14bf8a[_0x170513(0x74c)][_0x170513(0x953)](_0x170513(0x2d5));try{const _0xbf812a=doc(db,'artifacts/'+appId+_0x170513(0x5df),_0x88fa5b),_0x8de0e4=await getDoc(_0xbf812a);if(!_0x8de0e4[_0x170513(0x42d)]())throw new Error(_0x170513(0x5a3));const _0x4f9d32=_0x8de0e4[_0x170513(0x51a)](),_0x193f4=_0x4f9d32['questions']['length'],_0x2eb94f=collection(db,_0x170513(0x573)+appId+_0x170513(0x447)+_0x3f37b4+_0x170513(0x693)),_0x35a448=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x88fa5b+_0x170513(0x693)),[_0x4cb3e7,_0x4fec9d]=await Promise[_0x170513(0x3cd)]([getDocs(_0x2eb94f),getDocs(_0x35a448)]),_0x1105d6=_0x4cb3e7[_0x170513(0x7c4)][_0x170513(0x7bf)](_0x328ca4=>_0x328ca4['data']()),_0x42ba20=_0x4fec9d['docs'][_0x170513(0x7bf)](_0x193161=>_0x193161[_0x170513(0x51a)]()),_0x58d75e=_0x1105d6[_0x170513(0x7bf)](_0x3dfd8e=>_0x3dfd8e[_0x170513(0x2ad)]),_0x7c0c36=_0x42ba20['map'](_0x3ed9ca=>_0x3ed9ca[_0x170513(0x2ad)]),_0x601bed=calculateMeanAndStdDev(_0x58d75e),_0x1946e6=calculateMeanAndStdDev(_0x7c0c36),_0x1b7fe5=_0x601bed[_0x170513(0x610)],_0x51db91=_0x1946e6['mean'],_0x155ffa=_0x51db91-_0x1b7fe5;let _0x1169b4=_0x170513(0x9f6)+_0x1b7fe5['toFixed'](0x2)+_0x170513(0x4c3)+_0x51db91[_0x170513(0x283)](0x2)+_0x170513(0x432)+(_0x155ffa>=0x0?_0x170513(0xa56):'bg-red-100')+_0x170513(0x30e)+(_0x155ffa>=0x0?_0x170513(0x4b8):_0x170513(0x273))+_0x170513(0x24f)+(_0x155ffa>=0x0?_0x170513(0x1d2):_0x170513(0x141))+'\x22>'+(_0x155ffa>=0x0?'+':'')+_0x155ffa['toFixed'](0x2)+_0x170513(0x4e0);_0x38e195[_0x170513(0x9ba)]=_0x1169b4;const _0x3ca1ff=document[_0x170513(0x26b)](_0x170513(0x31e))[_0x170513(0x67b)]('2d');if(chartInstances['comparison'])chartInstances[_0x170513(0x267)][_0x170513(0x64d)]();chartInstances[_0x170513(0x267)]=new Chart(_0x3ca1ff,{'type':_0x170513(0x131),'data':{'labels':[_0x170513(0x277)],'datasets':[{'label':_0x170513(0xa0b),'data':[_0x1b7fe5],'backgroundColor':_0x170513(0x388)},{'label':_0x170513(0x732),'data':[_0x51db91],'backgroundColor':_0x170513(0x2ea)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x193f4}}}});const _0x3003c1=currentProjectData['students']||[],_0x214eba=_0x3003c1[_0x170513(0x7bf)](_0x38224d=>{const _0x5022ab=_0x170513,_0x23b737=_0x1105d6[_0x5022ab(0x1da)](_0x5912d0=>_0x5912d0['studentName']===_0x38224d),_0x55dc20=_0x42ba20[_0x5022ab(0x1da)](_0x51696a=>_0x51696a['studentName']===_0x38224d),_0x3123c1=_0x23b737?_0x23b737['latestScore']:null,_0x23ce77=_0x55dc20?_0x55dc20['latestScore']:null,_0x3f5f2d=_0x3123c1!==null&&_0x23ce77!==null?_0x23ce77-_0x3123c1:null,_0x4186a9=_0x3123c1!==null?calculateZScore(_0x3123c1,_0x601bed[_0x5022ab(0x610)],_0x601bed[_0x5022ab(0x492)]):null,_0x5b0ebd=_0x23ce77!==null?calculateZScore(_0x23ce77,_0x1946e6[_0x5022ab(0x610)],_0x1946e6[_0x5022ab(0x492)]):null,_0x35b7b2=_0x4186a9!==null?calculateTScore(_0x4186a9):null,_0x4c83f5=_0x5b0ebd!==null?calculateTScore(_0x5b0ebd):null,_0x5ae1d=_0x35b7b2!==null&&_0x4c83f5!==null?_0x4c83f5-_0x35b7b2:null;return{'name':_0x38224d,'preScore':_0x3123c1,'postScore':_0x23ce77,'gain':_0x3f5f2d,'preTScore':_0x35b7b2,'postTScore':_0x4c83f5,'tGain':_0x5ae1d};});renderIndividualComparisonTable(_0x214eba,_0x305cbe);}catch(_0x4351ba){console[_0x170513(0x2a8)](_0x170513(0x60a),_0x4351ba),_0x38e195[_0x170513(0x9ba)]=_0x170513(0x132);}}function displayHalfMarkResult(_0x1e891c,_0x2c2e84){const _0x25e56a=_0x3de37b,_0x4e29e1=_0x1e891c>=_0x2c2e84/0x2,_0x27783b=_0x4e29e1?_0x25e56a(0x98d):_0x25e56a(0x18e),_0x34a4eb=_0x4e29e1?_0x25e56a(0x453):_0x25e56a(0x985),_0x59ba37=_0x4e29e1?_0x25e56a(0x643):_0x25e56a(0x273),_0x3762d7=_0x4e29e1?_0x25e56a(0x17d):'คะแนนยังไม่ถึงครึ่ง',_0x22f5d6=_0x4e29e1?'ยอดเยี่ยม!':_0x25e56a(0x7a0);let _0x56fda5=_0x25e56a(0x69f)+_0x27783b+_0x25e56a(0x56e)+_0x34a4eb+_0x25e56a(0x8fa)+_0x59ba37+_0x25e56a(0x257)+_0x3762d7+_0x25e56a(0x474)+_0x22f5d6+_0x25e56a(0x88b);studentResultArea[_0x25e56a(0x9ba)]=_0x56fda5,studentResultArea[_0x25e56a(0x74c)][_0x25e56a(0x953)]('hidden'),studentQuizArea[_0x25e56a(0x74c)][_0x25e56a(0x1c0)](_0x25e56a(0x2d5)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x4e29e1});}function displayPerfectScoreResult(_0x4f59e9,_0x50b492){const _0x3fb605=_0x3de37b,_0x28c14d=_0x4f59e9===_0x50b492,_0x1ba967=_0x28c14d?_0x3fb605(0x724):_0x3fb605(0x988),_0x2bc6a9=_0x28c14d?_0x3fb605(0x499):_0x3fb605(0x87f),_0x519e75=_0x28c14d?_0x3fb605(0x4ea):_0x3fb605(0x7ab),_0x3bd7ac=_0x28c14d?_0x3fb605(0x608):'ยังไม่เต็มนะ',_0x333561=_0x28c14d?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x3fb605(0x6ee);let _0x529179=_0x3fb605(0x69f)+_0x1ba967+_0x3fb605(0x56e)+_0x2bc6a9+_0x3fb605(0x8fa)+_0x519e75+_0x3fb605(0x257)+_0x3bd7ac+_0x3fb605(0x474)+_0x333561+_0x3fb605(0x88b);studentResultArea[_0x3fb605(0x9ba)]=_0x529179,studentResultArea['classList'][_0x3fb605(0x953)]('hidden'),studentQuizArea[_0x3fb605(0x74c)][_0x3fb605(0x1c0)](_0x3fb605(0x2d5)),setupResultScreenBackButton({'showRankings':![],'score':_0x4f59e9,'totalQuestions':_0x50b492});}function renderIndividualComparisonTable(_0x2ee5ad,_0xebd6de){const _0x4ffcf3=_0x3de37b;_0x2ee5ad[_0x4ffcf3(0x9c4)]((_0x5a9800,_0x22d7b2)=>(_0x22d7b2[_0x4ffcf3(0x541)]??-Infinity)-(_0x5a9800[_0x4ffcf3(0x541)]??-Infinity));let _0x4ac62a=_0x4ffcf3(0x4a8);_0x2ee5ad[_0x4ffcf3(0x579)]===0x0?_0x4ac62a+=_0x4ffcf3(0x5e2):_0x2ee5ad['forEach']((_0x20c6ed,_0x1265bb)=>{const _0x2f417e=_0x4ffcf3;let _0x54fd94='-',_0x2e39de='';if(_0x20c6ed['gain']!==null){const _0x582df5=_0x20c6ed['gain']>0x0?_0x2f417e(0x6aa):_0x20c6ed[_0x2f417e(0x120)]<0x0?'text-red-600':_0x2f417e(0x815),_0x406cbd=_0x20c6ed[_0x2f417e(0x120)]>0x0?'+':'';_0x54fd94=_0x2f417e(0xa52)+_0x582df5+'\x22>'+_0x406cbd+_0x20c6ed[_0x2f417e(0x120)]+_0x2f417e(0x878);if(_0x20c6ed[_0x2f417e(0x120)]>0x0)_0x2e39de=_0x2f417e(0x2c0);else _0x20c6ed[_0x2f417e(0x120)]<0x0?_0x2e39de=_0x2f417e(0x460):_0x2e39de=_0x2f417e(0x67f);}let _0x40d559='-';if(_0x20c6ed[_0x2f417e(0x541)]!==null){const _0x3bae97=_0x20c6ed['tGain']>0x0?_0x2f417e(0x6aa):_0x20c6ed[_0x2f417e(0x541)]<0x0?'text-red-600':'text-gray-500',_0x3b9a20=_0x20c6ed[_0x2f417e(0x541)]>0x0?'+':'';_0x40d559=_0x2f417e(0xa52)+_0x3bae97+'\x22>'+_0x3b9a20+_0x20c6ed['tGain'][_0x2f417e(0x283)](0x2)+_0x2f417e(0x878);}_0x4ac62a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x1265bb+0x1)+_0x2f417e(0xa03)+_0x20c6ed[_0x2f417e(0x234)]+_0x2f417e(0x320)+(_0x20c6ed['preScore']??'-')+_0x2f417e(0x197)+(_0x20c6ed['postScore']??'-')+_0x2f417e(0x320)+_0x54fd94+_0x2f417e(0x49c)+_0x2e39de+_0x2f417e(0x611)+(_0x20c6ed[_0x2f417e(0x2b0)]?.[_0x2f417e(0x283)](0x2)??'-')+_0x2f417e(0x80d)+(_0x20c6ed[_0x2f417e(0x32e)]?.['toFixed'](0x2)??'-')+_0x2f417e(0x320)+_0x40d559+_0x2f417e(0x738);}),_0x4ac62a+=_0x4ffcf3(0x2b6),_0xebd6de[_0x4ffcf3(0x9ba)]=_0x4ac62a;}function handleRenameQuiz(_0x145596,_0x5b5496){const _0x37d245=_0x3de37b;actionTargetId=_0x145596,document[_0x37d245(0x26b)]('rename-quiz-input')['value']=_0x5b5496,renameQuizModal[_0x37d245(0x74c)][_0x37d245(0x953)]('hidden');}function setupComparisonModalTabs(){const _0x577d7a=_0x3de37b,_0x2c2226=document[_0x577d7a(0x26b)](_0x577d7a(0x3ad)),_0x3417b0=document[_0x577d7a(0x26b)](_0x577d7a(0x6a2)),_0x1a80b5=document['getElementById'](_0x577d7a(0x437)),_0x1a2b7b=document[_0x577d7a(0x26b)](_0x577d7a(0xa1c));_0x2c2226[_0x577d7a(0x813)]('click',()=>{const _0x1de8a0=_0x577d7a;_0x2c2226['classList'][_0x1de8a0(0x1c0)]('active'),_0x3417b0[_0x1de8a0(0x74c)][_0x1de8a0(0x953)](_0x1de8a0(0x55c)),_0x1a80b5[_0x1de8a0(0x74c)]['remove'](_0x1de8a0(0x2d5)),_0x1a2b7b[_0x1de8a0(0x74c)][_0x1de8a0(0x1c0)](_0x1de8a0(0x2d5));}),_0x3417b0[_0x577d7a(0x813)]('click',()=>{const _0x1ec7bb=_0x577d7a;_0x3417b0[_0x1ec7bb(0x74c)]['add'](_0x1ec7bb(0x55c)),_0x2c2226[_0x1ec7bb(0x74c)][_0x1ec7bb(0x953)](_0x1ec7bb(0x55c)),_0x1a2b7b['classList'][_0x1ec7bb(0x953)]('hidden'),_0x1a80b5['classList'][_0x1ec7bb(0x1c0)](_0x1ec7bb(0x2d5));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x2a3b33=''){const _0x25ce39=_0x3de37b,_0x5f7d6a=document[_0x25ce39(0x26b)](_0x25ce39(0x3f0)),_0x37d2ef=_0x2a3b33[_0x25ce39(0x82b)]()['trim'](),_0x2fedc0=allQuizzesGlobal[_0x25ce39(0x7bf)](_0x5ab6e1=>({..._0x5ab6e1,'projectName':allProjects['find'](_0x23f539=>_0x23f539['id']===_0x5ab6e1[_0x25ce39(0x551)])?.[_0x25ce39(0x5ab)]||_0x5ab6e1[_0x25ce39(0x551)]}))[_0x25ce39(0x2bf)](_0x491c66=>(_0x491c66[_0x25ce39(0x680)]||'')[_0x25ce39(0x82b)]()[_0x25ce39(0x15f)](_0x37d2ef)||(_0x491c66[_0x25ce39(0x5ab)]||'')[_0x25ce39(0x82b)]()[_0x25ce39(0x15f)](_0x37d2ef));document[_0x25ce39(0x26b)](_0x25ce39(0x4e7))['textContent']='('+_0x2fedc0[_0x25ce39(0x579)]+'\x20ชุด)',_0x5f7d6a['innerHTML']=_0x2fedc0[_0x25ce39(0x579)]?_0x2fedc0[_0x25ce39(0x7bf)](_0x42d3d4=>_0x25ce39(0x90b)+_0x42d3d4['id']+_0x25ce39(0xa4b)+(_0x42d3d4[_0x25ce39(0x680)]||_0x25ce39(0x88d))+_0x25ce39(0xa13)+(_0x42d3d4[_0x25ce39(0x6ba)]?.['length']||0x0)+_0x25ce39(0x5d6)+_0x42d3d4[_0x25ce39(0x5ab)]+_0x25ce39(0x37e))[_0x25ce39(0xa17)](''):_0x25ce39(0x25b),selectedGlobalQuizId=null,document['getElementById']('confirm-global-live-btn')[_0x25ce39(0x865)]=!![],_0x5f7d6a[_0x25ce39(0x303)]('button[data-id]')[_0x25ce39(0x597)](_0x9c63f7=>{const _0x416f78=_0x25ce39;_0x9c63f7[_0x416f78(0x813)](_0x416f78(0x8c2),()=>{const _0x16183c=_0x416f78;selectedGlobalQuizId=_0x9c63f7[_0x16183c(0x4ae)]['id'],_0x5f7d6a[_0x16183c(0x303)](_0x16183c(0x328))[_0x16183c(0x597)](_0xfea854=>_0xfea854[_0x16183c(0x74c)][_0x16183c(0x953)](_0x16183c(0x955),'ring-2','ring-purple-400')),_0x9c63f7['classList']['add'](_0x16183c(0x955),'ring-2',_0x16183c(0x475)),document[_0x16183c(0x26b)]('confirm-global-live-btn')[_0x16183c(0x865)]=![];});});}function listenForLiveGameUpdates(){const _0x2dcc96=_0x3de37b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5551ce=doc(db,'artifacts/'+appId+_0x2dcc96(0x6cb),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5551ce,_0x5274cc=>{const _0x4b65b8=_0x2dcc96;if(!_0x5274cc[_0x4b65b8(0x42d)]()){showMessage(_0x4b65b8(0xa49)),showView(currentMode);return;}const _0x4d9cca=_0x5274cc[_0x4b65b8(0x51a)]();_0x4d9cca['shuffledQuiz']&&(currentQuizData=_0x4d9cca[_0x4b65b8(0x7a9)]);!currentQuizData&&_0x4d9cca['quizId']&&((async()=>{const _0x1d460c=_0x4b65b8;try{const _0x1a523a=doc(db,_0x1d460c(0x573)+appId+_0x1d460c(0x5df),_0x4d9cca[_0x1d460c(0x994)]),_0x3ced7=await getDoc(_0x1a523a);_0x3ced7['exists']()&&(currentQuizData={'id':_0x3ced7['id'],..._0x3ced7[_0x1d460c(0x51a)]()});}catch(_0x3abbdc){console[_0x1d460c(0x2a8)](_0x1d460c(0x1af),_0x3abbdc);}})());switch(_0x4d9cca[_0x4b65b8(0x921)]){case _0x4b65b8(0x621):if(currentMode===_0x4b65b8(0x9ca)){const _0x3abf56=_0x4d9cca['players']?Object['entries'](_0x4d9cca[_0x4b65b8(0x4bc)]):[],_0x57acdd=_0x3abf56[_0x4b65b8(0x2bf)](([_0x2a3bdd,_0x32323f])=>_0x32323f['status']==='active'),_0x564678=document[_0x4b65b8(0x26b)](_0x4b65b8(0x334));if(_0x564678)_0x564678[_0x4b65b8(0x64c)]=_0x57acdd['length'];const _0x259556=document[_0x4b65b8(0x26b)](_0x4b65b8(0x419));_0x259556&&(_0x259556['innerHTML']=_0x57acdd[_0x4b65b8(0x7bf)](([_0x471020,_0x128bb5])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x471020+_0x4b65b8(0x900)+_0x471020+_0x4b65b8(0x45b))[_0x4b65b8(0xa17)](''));const _0x2dac87=document['getElementById'](_0x4b65b8(0x996));_0x2dac87&&(_0x2dac87['disabled']=_0x57acdd[_0x4b65b8(0x579)]===0x0);}else showView(_0x4b65b8(0x449)),liveGameView[_0x4b65b8(0x9ba)]=_0x4b65b8(0x210)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x4b65b8(0x6d0):const _0x3af790=_0x4d9cca[_0x4b65b8(0x9ab)];if(currentQuizData&&currentQuizData[_0x4b65b8(0x6ba)][_0x3af790]){const _0x344521=currentQuizData[_0x4b65b8(0x6ba)][_0x3af790],_0x31c737=_0x4d9cca[_0x4b65b8(0x68a)]||_0x4b65b8(0x441);switch(_0x31c737){case _0x4b65b8(0x7df):currentMode===_0x4b65b8(0x9ca)?showAdminSummaryView(_0x4d9cca,_0x344521):showPlayerSummaryView(_0x4d9cca,currentStudentName);break;case'leaderboard':currentMode===_0x4b65b8(0x9ca)&&showTop5LeaderboardView(_0x4d9cca);break;case'answering':default:if(currentMode===_0x4b65b8(0x9ca)){const _0x15848d=writeBatch(db);let _0x16e4f8=![];Object[_0x4b65b8(0x1ee)](_0x4d9cca[_0x4b65b8(0x4bc)])[_0x4b65b8(0x597)](([_0x743280,_0x5e2f84])=>{const _0x269fff=_0x4b65b8;if(_0x5e2f84[_0x269fff(0x921)]===_0x269fff(0x55c)&&_0x5e2f84['submittedAt']&&!_0x5e2f84[_0x269fff(0x352)]){_0x16e4f8=!![];const _0x197b65=_0x5e2f84[_0x269fff(0x462)][_0x269fff(0x719)]()-_0x4d9cca[_0x269fff(0xa37)]['toDate']();let _0x2e5bed=0x0;if(_0x5e2f84[_0x269fff(0x8dc)]){const _0x50dbaa=0x3e8,_0x34493a=0x1f4,_0x4ff6bb=0x4e20;let _0x41c72b=_0x197b65/_0x4ff6bb;if(_0x41c72b>0x1)_0x41c72b=0x1;const _0x117bb2=Math[_0x269fff(0x4c6)](_0x41c72b*_0x34493a);_0x2e5bed=_0x50dbaa-_0x117bb2;}const _0x2e4421=doc(db,_0x269fff(0x573)+appId+_0x269fff(0x6cb),currentLiveGameId);_0x15848d[_0x269fff(0x5b5)](_0x2e4421,{[_0x269fff(0x742)+_0x743280+'.score']:increment(_0x2e5bed),[_0x269fff(0x742)+_0x743280+'.pointsLastQuestion']:_0x2e5bed,[_0x269fff(0x742)+_0x743280+'.isScored']:!![]});}});_0x16e4f8&&_0x15848d[_0x4b65b8(0x937)]()['catch'](_0x5c055c=>console[_0x4b65b8(0x2a8)](_0x4b65b8(0x964),_0x5c055c));lastRenderedAdminQuestionIndex!==_0x3af790&&(showAdminLiveQuestionView(_0x344521,_0x3af790,currentQuizData['questions'][_0x4b65b8(0x579)]),lastRenderedAdminQuestionIndex=_0x3af790);const _0x54a38c=_0x4d9cca[_0x4b65b8(0x4bc)]||{},_0x1768bc=Object[_0x4b65b8(0x4bb)](_0x54a38c)[_0x4b65b8(0x2bf)](_0x235aab=>_0x235aab['status']===_0x4b65b8(0x55c)),_0x1b1fd9=_0x1768bc[_0x4b65b8(0x579)],_0x24de87=_0x1768bc[_0x4b65b8(0x2bf)](_0x57458b=>_0x57458b['answeredCurrentQuestion']===!![])[_0x4b65b8(0x579)],_0x46c049=document['getElementById'](_0x4b65b8(0x5f1));if(_0x46c049)_0x46c049[_0x4b65b8(0x64c)]=_0x24de87+'/'+_0x1b1fd9;const _0x1d3c63=document[_0x4b65b8(0x26b)](_0x4b65b8(0x928));if(_0x1d3c63){let _0x1924d1=Object['entries'](_0x54a38c)[_0x4b65b8(0x2bf)](([_0x30a24b,_0x4383e9])=>_0x4383e9['status']===_0x4b65b8(0x55c))[_0x4b65b8(0x7bf)](([_0xdff6c,_0x4b11c2])=>{const _0x665b46=_0x4b65b8,_0x5d1b3b=_0x4b11c2[_0x665b46(0x85d)]===!![],_0x38b724=_0x5d1b3b?_0x665b46(0x405):_0x665b46(0x8cf),_0x30ecd2=_0x5d1b3b?_0x665b46(0x25e):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x665b46(0x260)+_0x38b724+_0x665b46(0x81c)+_0x30ecd2+_0x665b46(0x41b)+_0xdff6c+_0x665b46(0x712)+_0xdff6c+_0x665b46(0x515);})[_0x4b65b8(0xa17)]('');_0x1d3c63['innerHTML']=_0x1924d1||_0x4b65b8(0x392);}_0x1b1fd9>0x0&&_0x24de87===_0x1b1fd9&&revealAnswerForAdmin(_0x3af790,currentQuizData[_0x4b65b8(0x6ba)][_0x4b65b8(0x579)]);}else{const _0x474d4b=_0x4d9cca[_0x4b65b8(0x4bc)][currentStudentName];_0x474d4b&&!_0x474d4b['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x344521,_0x3af790,currentQuizData['questions'][_0x4b65b8(0x579)]);}break;}}break;case _0x4b65b8(0x53b):showPodiumView(_0x4d9cca[_0x4b65b8(0x4bc)],'live-race');break;}});}async function handleKickPlayer(_0x569d19){const _0x4893e9=_0x3de37b;if(!currentLiveGameId||!_0x569d19)return;const _0x33c9c5=doc(db,_0x4893e9(0x573)+appId+'/public/data/liveGames',currentLiveGameId),_0x42ec6b={};_0x42ec6b['players.'+_0x569d19+_0x4893e9(0x33b)]='inactive';try{await updateDoc(_0x33c9c5,_0x42ec6b);}catch(_0xd9ccdf){console[_0x4893e9(0x2a8)](_0x4893e9(0x974)+_0x569d19+':',_0xd9ccdf),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x24d696=_0x3de37b;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xf546d7){console['error'](_0x24d696(0x6d9),_0xf546d7),showMessage(_0x24d696(0x159));}}function showView(_0x475dae){const _0x583f7a=_0x3de37b;adminView[_0x583f7a(0x74c)][_0x583f7a(0x1c0)]('hidden'),studentView[_0x583f7a(0x74c)][_0x583f7a(0x1c0)](_0x583f7a(0x2d5)),projectDashboardView[_0x583f7a(0x74c)][_0x583f7a(0x1c0)](_0x583f7a(0x2d5)),projectDetailView[_0x583f7a(0x74c)][_0x583f7a(0x1c0)](_0x583f7a(0x2d5)),quizResultsView[_0x583f7a(0x74c)]['add'](_0x583f7a(0x2d5)),liveGameView[_0x583f7a(0x74c)]['add'](_0x583f7a(0x2d5)),studentInitialView['classList']['add'](_0x583f7a(0x2d5)),studentJoinGameView[_0x583f7a(0x74c)][_0x583f7a(0x1c0)](_0x583f7a(0x2d5)),studentNameSelectionView[_0x583f7a(0x74c)]['add'](_0x583f7a(0x2d5)),studentQuizArea[_0x583f7a(0x74c)]['add'](_0x583f7a(0x2d5)),studentResultArea[_0x583f7a(0x74c)]['add'](_0x583f7a(0x2d5)),studentReadingArea[_0x583f7a(0x74c)][_0x583f7a(0x1c0)](_0x583f7a(0x2d5));const _0x310447=document['getElementById'](_0x583f7a(0x3b7)),_0x3f8323=document[_0x583f7a(0x26b)](_0x583f7a(0x8ac));if(_0x310447)_0x310447['classList'][_0x583f7a(0x1c0)](_0x583f7a(0x2d5));if(_0x3f8323)_0x3f8323['classList'][_0x583f7a(0x1c0)](_0x583f7a(0x2d5));switch(_0x475dae){case _0x583f7a(0x73b):adminView[_0x583f7a(0x74c)][_0x583f7a(0x953)](_0x583f7a(0x2d5)),projectDashboardView['classList'][_0x583f7a(0x953)](_0x583f7a(0x2d5));break;case'project-detail':adminView['classList']['remove'](_0x583f7a(0x2d5)),projectDetailView[_0x583f7a(0x74c)]['remove'](_0x583f7a(0x2d5));break;case _0x583f7a(0x3c5):adminView[_0x583f7a(0x74c)][_0x583f7a(0x953)](_0x583f7a(0x2d5)),quizResultsView['classList'][_0x583f7a(0x953)]('hidden');break;case'student':studentView[_0x583f7a(0x74c)]['remove'](_0x583f7a(0x2d5)),studentInitialView['classList'][_0x583f7a(0x953)](_0x583f7a(0x2d5));break;case _0x583f7a(0x449):liveGameView[_0x583f7a(0x74c)][_0x583f7a(0x953)]('hidden');break;case'student-team-join':studentView['classList'][_0x583f7a(0x953)](_0x583f7a(0x2d5));if(_0x310447)_0x310447[_0x583f7a(0x74c)][_0x583f7a(0x953)](_0x583f7a(0x2d5));break;case _0x583f7a(0xa58):studentView[_0x583f7a(0x74c)][_0x583f7a(0x953)](_0x583f7a(0x2d5));if(_0x3f8323)_0x3f8323[_0x583f7a(0x74c)][_0x583f7a(0x953)](_0x583f7a(0x2d5));break;default:studentView[_0x583f7a(0x74c)][_0x583f7a(0x953)](_0x583f7a(0x2d5)),studentInitialView['classList'][_0x583f7a(0x953)](_0x583f7a(0x2d5));break;}}function showJoinGameView(){const _0x358d11=_0x3de37b;studentInitialView[_0x358d11(0x74c)]['add'](_0x358d11(0x2d5)),studentJoinGameView['classList']['remove'](_0x358d11(0x2d5));}async function handleSaveVisibilitySettings(){const _0x4aec8b=_0x3de37b;if(!currentProjectId)return;const _0x337eed=doc(db,_0x4aec8b(0x573)+appId+_0x4aec8b(0x72b),currentProjectId);try{await updateDoc(_0x337eed,{'settings.showInStudentDashboard':document['getElementById'](_0x4aec8b(0x2d2))['checked'],'settings.isPasscodeEnabled':document[_0x4aec8b(0x26b)]('enable-passcode-checkbox')[_0x4aec8b(0x268)],'settings.passcode':document[_0x4aec8b(0x26b)](_0x4aec8b(0x977))['value']['trim']()}),showMessage(_0x4aec8b(0x47f));}catch(_0x22306e){console['error'](_0x4aec8b(0x247),_0x22306e),showMessage(_0x4aec8b(0x7a4));}}function setupEventListeners(){const _0x1f4fb8=_0x3de37b,_0x18de7d=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x3c6)),_0x3b1a88=async _0x34cadc=>{const _0x2ac107=_0x1f4fb8;_0x18de7d[_0x2ac107(0x74c)][_0x2ac107(0x1c0)]('hidden');const _0x5c5ab5=parseInt(document[_0x2ac107(0x26b)]('selected-answer-index-hidden')[_0x2ac107(0x884)]),_0x2acadf=doc(db,_0x2ac107(0x573)+appId+_0x2ac107(0x96d),currentLiveGameId),_0x22aa87=await getDoc(_0x2acadf);if(!_0x22aa87[_0x2ac107(0x42d)]())return;const _0xf73334=_0x22aa87[_0x2ac107(0x51a)](),_0x5f3d77=_0xf73334[_0x2ac107(0x9ab)],_0x29c3c0=_0xf73334[_0x2ac107(0x7a9)][_0x2ac107(0x6ba)][_0x5f3d77],_0x248427=localTeamPlayers[localPlayerTurnIndex];handleSyncAnswerSubmit(_0x5c5ab5,_0x29c3c0,_0xf73334,_0x248427,_0x34cadc);};document['getElementById'](_0x1f4fb8(0x442))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>_0x3b1a88(!![])),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x76a))['addEventListener'](_0x1f4fb8(0x8c2),()=>_0x3b1a88(![])),liveGameView['addEventListener'](_0x1f4fb8(0x8c2),_0x352131=>{const _0x272b0a=_0x1f4fb8,_0x5ac9c6=_0x352131[_0x272b0a(0x22f)]['closest'](_0x272b0a(0x12d));if(_0x5ac9c6){const _0x46711e=_0x5ac9c6[_0x272b0a(0x4ae)][_0x272b0a(0x2a6)];_0x46711e&&handleKickPlayerSync(_0x46711e);}});const _0x569c66=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x12c)),_0x2cdb57=document[_0x1f4fb8(0x26b)]('cancel-game-start-btn');_0x2cdb57[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x29e339=_0x1f4fb8;document[_0x29e339(0x26b)](_0x29e339(0x1c5))[_0x29e339(0x74c)][_0x29e339(0x1c0)](_0x29e339(0x2d5));}),_0x569c66['addEventListener'](_0x1f4fb8(0x8c2),()=>{const _0xc184e7=_0x1f4fb8,_0x666eb0=document[_0xc184e7(0x26b)](_0xc184e7(0x2f5))[_0xc184e7(0x884)],_0x49adea=document[_0xc184e7(0x26b)](_0xc184e7(0x1ff))['value'],_0x4f6bb2=document['getElementById']('save-game-results-checkbox')[_0xc184e7(0x268)];document['getElementById'](_0xc184e7(0x1c5))['classList']['add'](_0xc184e7(0x2d5));switch(_0x49adea){case _0xc184e7(0x49f):handleStartLiveRace(_0x666eb0,_0x4f6bb2);break;case _0xc184e7(0x803):handleStartTeamQuiz(_0x666eb0,_0x4f6bb2);break;case'group':handleStartGroupMode(_0x666eb0,_0x4f6bb2);break;case _0xc184e7(0xa33):handleStartSyncMode(_0x666eb0,_0x4f6bb2);break;}}),document['getElementById'](_0x1f4fb8(0x7da))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleJoinGroupActivity),liveGameView[_0x1f4fb8(0x813)]('click',_0x564872=>{const _0x4027be=_0x1f4fb8,_0x20e8e1=_0x564872['target']['closest'](_0x4027be(0x124));document[_0x4027be(0x303)]('.live-summary-tooltip.visible')[_0x4027be(0x597)](_0xf5d609=>{const _0x4d888c=_0x4027be;(!_0x20e8e1||_0xf5d609['id']!==_0x20e8e1[_0x4d888c(0x4ae)][_0x4d888c(0xa54)])&&_0xf5d609[_0x4d888c(0x74c)][_0x4d888c(0x953)](_0x4d888c(0x52c));});if(!_0x20e8e1)return;const _0x53fbb0=_0x20e8e1[_0x4027be(0x4ae)]['tooltipTarget'],_0x5011b6=document[_0x4027be(0x26b)](_0x53fbb0);_0x5011b6&&_0x5011b6[_0x4027be(0x74c)][_0x4027be(0x430)](_0x4027be(0x52c));}),liveGameView[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),_0x319e71=>{const _0x3f5716=_0x1f4fb8;if(_0x319e71[_0x3f5716(0x22f)][_0x3f5716(0x74c)][_0x3f5716(0x7a2)](_0x3f5716(0x628))){const _0xc72111=_0x319e71['target'][_0x3f5716(0x4ae)][_0x3f5716(0x2a6)];_0xc72111&&handleKickPlayer(_0xc72111);}}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x37b))['addEventListener']('focus',()=>document[_0x1f4fb8(0x26b)]('save-project-name-btn')['classList'][_0x1f4fb8(0x953)]('hidden')),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x40f))[_0x1f4fb8(0x813)]('click',handleSaveProjectName),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x37b))[_0x1f4fb8(0x813)](_0x1f4fb8(0x57c),_0x2e1376=>{const _0x59d040=_0x1f4fb8;_0x2e1376[_0x59d040(0x857)]===_0x59d040(0x152)&&(_0x2e1376[_0x59d040(0xa3e)](),_0x2e1376[_0x59d040(0x22f)]['blur'](),handleSaveProjectName());}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x443))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x8f12ea=_0x1f4fb8;document[_0x8f12ea(0x26b)](_0x8f12ea(0x7b7))['classList'][_0x8f12ea(0x953)](_0x8f12ea(0x2d5));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x90a))[_0x1f4fb8(0x813)]('click',()=>{const _0xc49bf3=_0x1f4fb8;document['getElementById']('bulk-quiz-settings-modal')['classList'][_0xc49bf3(0x1c0)](_0xc49bf3(0x2d5));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9d5))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleBulkUpdateQuizSettings),document['getElementById'](_0x1f4fb8(0x5fa))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleModeSwitch),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9af))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleUpdateOldQuizzes),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9d6))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleResetProjectOrder),document['getElementById']('save-visibility-settings-btn')[_0x1f4fb8(0x813)]('click',handleSaveVisibilitySettings),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x451))['addEventListener']('click',handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')['addEventListener'](_0x1f4fb8(0x8c2),handleSelectAllTopics),document[_0x1f4fb8(0x26b)]('deselect-all-topics-btn')[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleDeselectAllTopics),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x76b))['addEventListener']('click',()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document['getElementById']('back-to-project-btn')['addEventListener'](_0x1f4fb8(0x8c2),()=>{const _0x12f8c3=_0x1f4fb8;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x12f8c3(0x133));}),document['getElementById'](_0x1f4fb8(0x5b2))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x3b4777=_0x1f4fb8;showView(_0x3b4777(0x73b));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x510))[_0x1f4fb8(0x813)]('click',()=>{const _0x278863=_0x1f4fb8;messageModal['classList']['add']('hidden'),typeof modalConfirmAction===_0x278863(0x416)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x5f8))['addEventListener'](_0x1f4fb8(0x8c2),()=>createProjectModal['classList']['remove'](_0x1f4fb8(0x2d5))),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9ec))['addEventListener'](_0x1f4fb8(0x8c2),()=>createProjectModal[_0x1f4fb8(0x74c)][_0x1f4fb8(0x1c0)]('hidden')),document[_0x1f4fb8(0x26b)]('cancel-admin-login-btn')[_0x1f4fb8(0x813)]('click',()=>adminPasswordModal[_0x1f4fb8(0x74c)][_0x1f4fb8(0x1c0)]('hidden')),document[_0x1f4fb8(0x26b)]('confirm-admin-login-btn')[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleAdminLogin),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x1e9))[_0x1f4fb8(0x813)](_0x1f4fb8(0x3f8),_0x1a8922=>{const _0x3374ec=_0x1f4fb8;if(_0x1a8922[_0x3374ec(0x857)]===_0x3374ec(0x152))handleAdminLogin();}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x89d))['addEventListener']('click',()=>{const _0x3c3f90=_0x1f4fb8;confirmationModal[_0x3c3f90(0x74c)][_0x3c3f90(0x1c0)](_0x3c3f90(0x2d5)),confirmAction=null;}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9e4))['addEventListener'](_0x1f4fb8(0x8c2),()=>{const _0x44620c=_0x1f4fb8;confirmAction&&confirmAction(),confirmationModal[_0x44620c(0x74c)][_0x44620c(0x1c0)](_0x44620c(0x2d5)),confirmAction=null;}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x128))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>renameQuizModal[_0x1f4fb8(0x74c)]['add'](_0x1f4fb8(0x2d5))),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9b1))['addEventListener'](_0x1f4fb8(0x8c2),confirmRenameQuiz),document['getElementById'](_0x1f4fb8(0x36d))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>moveQuizModal[_0x1f4fb8(0x74c)][_0x1f4fb8(0x1c0)](_0x1f4fb8(0x2d5))),document['getElementById']('confirm-move-quiz-btn')['addEventListener']('click',confirmMoveQuiz),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x514))['addEventListener'](_0x1f4fb8(0x8c2),()=>quizSettingsModal[_0x1f4fb8(0x74c)]['add'](_0x1f4fb8(0x2d5))),document['getElementById']('confirm-quiz-settings-btn')[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),confirmQuizSettings),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x90e))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>quizStatusModal[_0x1f4fb8(0x74c)][_0x1f4fb8(0x1c0)](_0x1f4fb8(0x2d5))),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x20c))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),confirmQuizStatus);const _0x2b5e5a=document['getElementById'](_0x1f4fb8(0xa19));document['getElementById'](_0x1f4fb8(0x6e1))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x377b06=_0x1f4fb8;_0x2b5e5a[_0x377b06(0x74c)][_0x377b06(0x1c0)](_0x377b06(0x2d5));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x8f3))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),async()=>{const _0x289433=_0x1f4fb8,_0x39207c=allQuizzes[_0x289433(0x1da)](_0x4336dd=>_0x4336dd['id']===actionTargetId);_0x39207c?(currentQuizData=_0x39207c,exportQuizAsWorksheetPDF()):showMessage(_0x289433(0x2c8)),_0x2b5e5a[_0x289433(0x74c)][_0x289433(0x1c0)](_0x289433(0x2d5));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x103))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),async()=>{const _0x3ed79d=_0x1f4fb8,_0x2870f4=allQuizzes['find'](_0x5ec565=>_0x5ec565['id']===actionTargetId);_0x2870f4?(currentQuizData=_0x2870f4,exportQuizAsTutorPDF()):showMessage(_0x3ed79d(0x2c8)),_0x2b5e5a[_0x3ed79d(0x74c)][_0x3ed79d(0x1c0)](_0x3ed79d(0x2d5));}),document[_0x1f4fb8(0x26b)]('open-global-live-btn')[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),openGlobalLiveModal),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x95c))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x537576=_0x1f4fb8;document[_0x537576(0x26b)](_0x537576(0x936))[_0x537576(0x74c)][_0x537576(0x1c0)]('hidden'),selectedGlobalQuizId=null;}),document[_0x1f4fb8(0x26b)]('global-quiz-search-input')[_0x1f4fb8(0x813)](_0x1f4fb8(0x28f),_0x2e0061=>renderGlobalQuizList(_0x2e0061[_0x1f4fb8(0x22f)][_0x1f4fb8(0x884)])),document['getElementById'](_0x1f4fb8(0x6c2))[_0x1f4fb8(0x813)]('click',()=>{const _0x340d24=_0x1f4fb8,_0x4aa985=selectedGlobalQuizId;if(!_0x4aa985)return;document[_0x340d24(0x26b)](_0x340d24(0x936))[_0x340d24(0x74c)][_0x340d24(0x1c0)](_0x340d24(0x2d5)),handleStartLiveRace(_0x4aa985);}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x7cc))['addEventListener'](_0x1f4fb8(0x28f),renderProjects),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x14d))[_0x1f4fb8(0x813)](_0x1f4fb8(0x6ff),async()=>{const _0x234f3d=_0x1f4fb8,_0x29204c=document[_0x234f3d(0x26b)](_0x234f3d(0x14d))[_0x234f3d(0x884)],_0x430790=doc(db,'globalSettings',_0x234f3d(0x612));try{await setDoc(_0x430790,{'projectSort':_0x29204c},{'merge':!![]});}catch(_0x546e60){console[_0x234f3d(0x2a8)](_0x234f3d(0xa1a),_0x546e60),showMessage(_0x234f3d(0x116));}}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x73d))['addEventListener'](_0x1f4fb8(0x28f),renderQuizzes),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x19a))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x189427=_0x1f4fb8;globalDashboardSettings['projectView']='grid',saveUserPreference(_0x189427(0x17a),_0x189427(0x57a)),renderProjects();}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x970))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x18bf47=_0x1f4fb8;globalDashboardSettings[_0x18bf47(0x17a)]=_0x18bf47(0x88a),saveUserPreference(_0x18bf47(0x17a),_0x18bf47(0x88a)),renderProjects();}),manageTab[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>switchProjectTab(_0x1f4fb8(0x9c5))),resultsTab[_0x1f4fb8(0x813)]('click',()=>switchProjectTab(_0x1f4fb8(0x9bd))),leaderboardTab[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>switchProjectTab('leaderboard')),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x3a7))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>switchQuizDetailTab(_0x1f4fb8(0x7ff))),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x8a4))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>switchQuizDetailTab(_0x1f4fb8(0x7e6))),document[_0x1f4fb8(0x26b)]('leaderboard-quiz-tab-btn')[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>switchQuizDetailTab(_0x1f4fb8(0x796))),document['getElementById'](_0x1f4fb8(0x185))[_0x1f4fb8(0x813)]('click',()=>switchQuizDetailTab(_0x1f4fb8(0x2e1))),document[_0x1f4fb8(0x26b)]('analyze-strengths-btn')[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleAnalyzeClass),generateWorksheetBtn[_0x1f4fb8(0x813)]('click',generateWorksheet);const _0x37ef96=document['getElementById'](_0x1f4fb8(0x75e)),_0x16420e=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x2b9)),_0x5d5b27=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x672)),_0x58285f=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x10d)),_0x520d98=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x766)),_0x3ca05a=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x954));topicTab[_0x1f4fb8(0x813)]('click',()=>{const _0xc4e1b2=_0x1f4fb8;topicTab[_0xc4e1b2(0x74c)][_0xc4e1b2(0x1c0)]('active'),textTab[_0xc4e1b2(0x74c)][_0xc4e1b2(0x953)](_0xc4e1b2(0x55c)),fileTab[_0xc4e1b2(0x74c)][_0xc4e1b2(0x953)](_0xc4e1b2(0x55c)),worksheetTab['classList'][_0xc4e1b2(0x953)]('active');if(_0x37ef96)_0x37ef96[_0xc4e1b2(0x74c)]['remove'](_0xc4e1b2(0x55c));if(_0x5d5b27)_0x5d5b27[_0xc4e1b2(0x74c)]['remove']('active');if(_0x520d98)_0x520d98[_0xc4e1b2(0x74c)]['remove'](_0xc4e1b2(0x55c));topicInputArea[_0xc4e1b2(0x74c)]['remove']('hidden'),textInputArea[_0xc4e1b2(0x74c)]['add'](_0xc4e1b2(0x2d5)),fileInputArea['classList']['add'](_0xc4e1b2(0x2d5)),worksheetInputArea[_0xc4e1b2(0x74c)][_0xc4e1b2(0x1c0)](_0xc4e1b2(0x2d5));if(_0x16420e)_0x16420e[_0xc4e1b2(0x74c)][_0xc4e1b2(0x1c0)](_0xc4e1b2(0x2d5));if(_0x58285f)_0x58285f[_0xc4e1b2(0x74c)][_0xc4e1b2(0x1c0)](_0xc4e1b2(0x2d5));if(_0x3ca05a)_0x3ca05a[_0xc4e1b2(0x74c)][_0xc4e1b2(0x1c0)](_0xc4e1b2(0x2d5));}),textTab[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x2d051a=_0x1f4fb8;textTab[_0x2d051a(0x74c)][_0x2d051a(0x1c0)](_0x2d051a(0x55c)),topicTab[_0x2d051a(0x74c)][_0x2d051a(0x953)]('active'),fileTab[_0x2d051a(0x74c)][_0x2d051a(0x953)](_0x2d051a(0x55c)),worksheetTab[_0x2d051a(0x74c)]['remove'](_0x2d051a(0x55c));if(_0x37ef96)_0x37ef96['classList'][_0x2d051a(0x953)](_0x2d051a(0x55c));if(_0x5d5b27)_0x5d5b27[_0x2d051a(0x74c)][_0x2d051a(0x953)](_0x2d051a(0x55c));if(_0x520d98)_0x520d98[_0x2d051a(0x74c)][_0x2d051a(0x953)](_0x2d051a(0x55c));textInputArea[_0x2d051a(0x74c)][_0x2d051a(0x953)](_0x2d051a(0x2d5)),topicInputArea[_0x2d051a(0x74c)][_0x2d051a(0x1c0)](_0x2d051a(0x2d5)),fileInputArea['classList'][_0x2d051a(0x1c0)]('hidden'),worksheetInputArea['classList'][_0x2d051a(0x1c0)](_0x2d051a(0x2d5));if(_0x16420e)_0x16420e[_0x2d051a(0x74c)]['add'](_0x2d051a(0x2d5));if(_0x58285f)_0x58285f[_0x2d051a(0x74c)][_0x2d051a(0x1c0)](_0x2d051a(0x2d5));if(_0x3ca05a)_0x3ca05a[_0x2d051a(0x74c)]['add']('hidden');}),fileTab[_0x1f4fb8(0x813)]('click',()=>{const _0x208a0d=_0x1f4fb8;fileTab[_0x208a0d(0x74c)][_0x208a0d(0x1c0)](_0x208a0d(0x55c)),topicTab[_0x208a0d(0x74c)][_0x208a0d(0x953)](_0x208a0d(0x55c)),textTab[_0x208a0d(0x74c)]['remove'](_0x208a0d(0x55c)),worksheetTab[_0x208a0d(0x74c)][_0x208a0d(0x953)]('active');if(_0x37ef96)_0x37ef96[_0x208a0d(0x74c)][_0x208a0d(0x953)]('active');if(_0x5d5b27)_0x5d5b27[_0x208a0d(0x74c)]['remove'](_0x208a0d(0x55c));if(_0x520d98)_0x520d98[_0x208a0d(0x74c)][_0x208a0d(0x953)](_0x208a0d(0x55c));fileInputArea[_0x208a0d(0x74c)][_0x208a0d(0x953)](_0x208a0d(0x2d5)),topicInputArea[_0x208a0d(0x74c)][_0x208a0d(0x1c0)]('hidden'),textInputArea[_0x208a0d(0x74c)][_0x208a0d(0x1c0)]('hidden'),worksheetInputArea[_0x208a0d(0x74c)][_0x208a0d(0x1c0)](_0x208a0d(0x2d5));if(_0x16420e)_0x16420e['classList'][_0x208a0d(0x1c0)](_0x208a0d(0x2d5));if(_0x58285f)_0x58285f[_0x208a0d(0x74c)][_0x208a0d(0x1c0)](_0x208a0d(0x2d5));if(_0x3ca05a)_0x3ca05a[_0x208a0d(0x74c)][_0x208a0d(0x1c0)](_0x208a0d(0x2d5));}),worksheetTab[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x152bc0=_0x1f4fb8;worksheetTab[_0x152bc0(0x74c)]['add'](_0x152bc0(0x55c)),topicTab[_0x152bc0(0x74c)][_0x152bc0(0x953)](_0x152bc0(0x55c)),textTab['classList'][_0x152bc0(0x953)](_0x152bc0(0x55c)),fileTab['classList'][_0x152bc0(0x953)]('active');if(_0x37ef96)_0x37ef96[_0x152bc0(0x74c)][_0x152bc0(0x953)](_0x152bc0(0x55c));if(_0x5d5b27)_0x5d5b27[_0x152bc0(0x74c)][_0x152bc0(0x953)](_0x152bc0(0x55c));if(_0x520d98)_0x520d98['classList'][_0x152bc0(0x953)](_0x152bc0(0x55c));worksheetInputArea['classList'][_0x152bc0(0x953)](_0x152bc0(0x2d5)),topicInputArea['classList'][_0x152bc0(0x1c0)]('hidden'),textInputArea['classList'][_0x152bc0(0x1c0)](_0x152bc0(0x2d5)),fileInputArea[_0x152bc0(0x74c)]['add'](_0x152bc0(0x2d5));if(_0x16420e)_0x16420e[_0x152bc0(0x74c)][_0x152bc0(0x1c0)](_0x152bc0(0x2d5));if(_0x58285f)_0x58285f[_0x152bc0(0x74c)][_0x152bc0(0x1c0)](_0x152bc0(0x2d5));if(_0x3ca05a)_0x3ca05a['classList'][_0x152bc0(0x1c0)](_0x152bc0(0x2d5));});const _0x234a75=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9aa)),_0x285b9d=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x895));_0x234a75&&_0x234a75[_0x1f4fb8(0x813)]('click',()=>{const _0x124827=_0x1f4fb8;topicTab[_0x124827(0x74c)][_0x124827(0x953)](_0x124827(0x55c)),textTab[_0x124827(0x74c)][_0x124827(0x953)](_0x124827(0x55c)),fileTab['classList'][_0x124827(0x953)](_0x124827(0x55c)),worksheetTab['classList'][_0x124827(0x953)](_0x124827(0x55c));if(_0x37ef96)_0x37ef96[_0x124827(0x74c)][_0x124827(0x953)](_0x124827(0x55c));if(_0x5d5b27)_0x5d5b27[_0x124827(0x74c)][_0x124827(0x953)](_0x124827(0x55c));if(_0x520d98)_0x520d98[_0x124827(0x74c)]['remove'](_0x124827(0x55c));_0x234a75['classList'][_0x124827(0x1c0)](_0x124827(0x55c)),topicInputArea['classList'][_0x124827(0x1c0)](_0x124827(0x2d5)),textInputArea[_0x124827(0x74c)][_0x124827(0x1c0)](_0x124827(0x2d5)),fileInputArea[_0x124827(0x74c)][_0x124827(0x1c0)](_0x124827(0x2d5)),worksheetInputArea[_0x124827(0x74c)][_0x124827(0x1c0)](_0x124827(0x2d5));if(_0x16420e)_0x16420e[_0x124827(0x74c)][_0x124827(0x1c0)]('hidden');if(_0x58285f)_0x58285f[_0x124827(0x74c)][_0x124827(0x1c0)](_0x124827(0x2d5));if(_0x3ca05a)_0x3ca05a[_0x124827(0x74c)][_0x124827(0x1c0)]('hidden');_0x285b9d[_0x124827(0x74c)]['remove'](_0x124827(0x2d5)),displayQuestionBank();});_0x37ef96&&(_0x37ef96['addEventListener'](_0x1f4fb8(0x8c2),()=>{const _0x1a72c8=_0x1f4fb8;_0x37ef96[_0x1a72c8(0x74c)][_0x1a72c8(0x1c0)](_0x1a72c8(0x55c)),topicTab['classList'][_0x1a72c8(0x953)]('active'),textTab[_0x1a72c8(0x74c)]['remove']('active'),fileTab['classList']['remove'](_0x1a72c8(0x55c)),worksheetTab[_0x1a72c8(0x74c)]['remove'](_0x1a72c8(0x55c));if(_0x5d5b27)_0x5d5b27[_0x1a72c8(0x74c)][_0x1a72c8(0x953)](_0x1a72c8(0x55c));if(_0x520d98)_0x520d98['classList'][_0x1a72c8(0x953)]('active');_0x16420e[_0x1a72c8(0x74c)][_0x1a72c8(0x953)](_0x1a72c8(0x2d5)),topicInputArea[_0x1a72c8(0x74c)][_0x1a72c8(0x1c0)](_0x1a72c8(0x2d5)),textInputArea[_0x1a72c8(0x74c)][_0x1a72c8(0x1c0)](_0x1a72c8(0x2d5)),fileInputArea[_0x1a72c8(0x74c)][_0x1a72c8(0x1c0)]('hidden'),worksheetInputArea[_0x1a72c8(0x74c)][_0x1a72c8(0x1c0)](_0x1a72c8(0x2d5));if(_0x58285f)_0x58285f[_0x1a72c8(0x74c)][_0x1a72c8(0x1c0)](_0x1a72c8(0x2d5));if(_0x3ca05a)_0x3ca05a[_0x1a72c8(0x74c)]['add'](_0x1a72c8(0x2d5));}),document['getElementById']('generate-from-link-btn')[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleGenerateFromLink));_0x5d5b27&&_0x5d5b27[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x217540=_0x1f4fb8;_0x5d5b27['classList']['add'](_0x217540(0x55c)),topicTab[_0x217540(0x74c)][_0x217540(0x953)](_0x217540(0x55c)),textTab[_0x217540(0x74c)][_0x217540(0x953)](_0x217540(0x55c)),fileTab[_0x217540(0x74c)]['remove'](_0x217540(0x55c)),worksheetTab[_0x217540(0x74c)][_0x217540(0x953)]('active');if(_0x37ef96)_0x37ef96[_0x217540(0x74c)][_0x217540(0x953)](_0x217540(0x55c));if(_0x234a75)_0x234a75['classList'][_0x217540(0x953)]('active');if(_0x520d98)_0x520d98[_0x217540(0x74c)][_0x217540(0x953)](_0x217540(0x55c));_0x58285f[_0x217540(0x74c)]['remove'](_0x217540(0x2d5)),topicInputArea['classList'][_0x217540(0x1c0)](_0x217540(0x2d5)),textInputArea[_0x217540(0x74c)][_0x217540(0x1c0)]('hidden'),fileInputArea[_0x217540(0x74c)][_0x217540(0x1c0)](_0x217540(0x2d5)),worksheetInputArea['classList']['add'](_0x217540(0x2d5));if(_0x16420e)_0x16420e['classList'][_0x217540(0x1c0)](_0x217540(0x2d5));if(_0x285b9d)_0x285b9d[_0x217540(0x74c)][_0x217540(0x1c0)]('hidden');if(_0x3ca05a)_0x3ca05a[_0x217540(0x74c)][_0x217540(0x1c0)](_0x217540(0x2d5));});_0x520d98&&_0x520d98[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x18c1ee=_0x1f4fb8;_0x520d98['classList']['add'](_0x18c1ee(0x55c)),topicTab[_0x18c1ee(0x74c)]['remove'](_0x18c1ee(0x55c)),textTab['classList']['remove']('active'),fileTab[_0x18c1ee(0x74c)][_0x18c1ee(0x953)]('active'),worksheetTab['classList'][_0x18c1ee(0x953)](_0x18c1ee(0x55c));if(_0x37ef96)_0x37ef96[_0x18c1ee(0x74c)][_0x18c1ee(0x953)](_0x18c1ee(0x55c));if(_0x5d5b27)_0x5d5b27[_0x18c1ee(0x74c)][_0x18c1ee(0x953)](_0x18c1ee(0x55c));if(_0x234a75)_0x234a75['classList']['remove'](_0x18c1ee(0x55c));_0x3ca05a[_0x18c1ee(0x74c)][_0x18c1ee(0x953)](_0x18c1ee(0x2d5)),topicInputArea[_0x18c1ee(0x74c)][_0x18c1ee(0x1c0)](_0x18c1ee(0x2d5)),textInputArea['classList'][_0x18c1ee(0x1c0)](_0x18c1ee(0x2d5)),fileInputArea['classList'][_0x18c1ee(0x1c0)](_0x18c1ee(0x2d5)),worksheetInputArea[_0x18c1ee(0x74c)][_0x18c1ee(0x1c0)](_0x18c1ee(0x2d5));if(_0x16420e)_0x16420e[_0x18c1ee(0x74c)][_0x18c1ee(0x1c0)](_0x18c1ee(0x2d5));if(_0x58285f)_0x58285f[_0x18c1ee(0x74c)][_0x18c1ee(0x1c0)]('hidden');if(_0x285b9d)_0x285b9d[_0x18c1ee(0x74c)][_0x18c1ee(0x1c0)]('hidden');});const _0x444e1f=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x1b3)),_0x47bdba=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x83a));_0x444e1f&&_0x444e1f[_0x1f4fb8(0x813)](_0x1f4fb8(0x6ff),_0x3aea78=>{const _0x39ac2e=_0x1f4fb8;_0x3aea78[_0x39ac2e(0x22f)][_0x39ac2e(0x6b9)]['length']>0x0?_0x47bdba[_0x39ac2e(0x865)]=![]:_0x47bdba['disabled']=!![];});_0x47bdba&&_0x47bdba[_0x1f4fb8(0x813)]('click',handleGenerateFromBlueprint);const _0x2f8910=document['getElementById']('parallel-test-upload-input'),_0x5a288a=document[_0x1f4fb8(0x26b)]('generate-from-parallel-test-btn');_0x2f8910&&_0x2f8910[_0x1f4fb8(0x813)](_0x1f4fb8(0x6ff),_0x16d83b=>{const _0x20270d=_0x1f4fb8;_0x5a288a['disabled']=_0x16d83b[_0x20270d(0x22f)][_0x20270d(0x6b9)][_0x20270d(0x579)]===0x0;});_0x5a288a&&_0x5a288a['addEventListener'](_0x1f4fb8(0x8c2),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x1f4fb8(0x8c2),handleLoadQuiz),startQuizBtn[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),async()=>{const _0x5a9ea5=_0x1f4fb8,_0x566e73=document['getElementById'](_0x5a9ea5(0x482));currentStudentName=_0x566e73[_0x5a9ea5(0x884)];if(!currentStudentName){showMessage(_0x5a9ea5(0x261));return;}try{const _0x169076=currentQuizData['id'],_0x54d200=doc(db,'artifacts/'+appId+_0x5a9ea5(0x447)+_0x169076+_0x5a9ea5(0x693),currentStudentName);await setDoc(_0x54d200,{'studentName':currentStudentName,'startedAt':new Date()[_0x5a9ea5(0x211)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x3b575f){console[_0x5a9ea5(0x2a8)](_0x5a9ea5(0x14e),_0x3b575f),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x5a9ea5(0x74c)][_0x5a9ea5(0x1c0)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x740))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),showJoinGameView),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x39c))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleJoinLiveGame),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x355))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>showView(_0x1f4fb8(0x836)));const _0x47c328=()=>{const _0x57ad20=_0x1f4fb8,_0x1426f1=document[_0x57ad20(0x26b)](_0x57ad20(0x63f))[_0x57ad20(0x64c)]['replace'](/[^a-z0-9]/gi,'_')[_0x57ad20(0x82b)]();return _0x57ad20(0x5e3)+(_0x1426f1||_0x57ad20(0x663));},_0x45cf66=document[_0x1f4fb8(0x26b)]('math-topic-search-input');_0x45cf66&&_0x45cf66[_0x1f4fb8(0x813)]('input',_0x15a2d0=>{const _0x4880b4=_0x1f4fb8,_0x2068d8=_0x15a2d0[_0x4880b4(0x22f)][_0x4880b4(0x884)][_0x4880b4(0x82b)]()[_0x4880b4(0x168)](),_0x691732=document[_0x4880b4(0x26b)](_0x4880b4(0x601)),_0x134dbc=_0x691732['querySelectorAll']('.topic-category');_0x134dbc[_0x4880b4(0x597)](_0x8a4b84=>{const _0x337d18=_0x4880b4;let _0x525fc9=![];const _0x1afb3b=_0x8a4b84[_0x337d18(0x303)](_0x337d18(0x5d8));_0x1afb3b[_0x337d18(0x597)](_0x59deff=>{const _0x37e865=_0x337d18,_0x24c945=_0x59deff['querySelector'](_0x37e865(0x312))[_0x37e865(0x64c)][_0x37e865(0x82b)]();_0x24c945['includes'](_0x2068d8)?(_0x59deff[_0x37e865(0x12e)][_0x37e865(0x82e)]=_0x37e865(0x59d),_0x525fc9=!![]):_0x59deff[_0x37e865(0x12e)][_0x37e865(0x82e)]='none';}),_0x525fc9?_0x8a4b84['style'][_0x337d18(0x82e)]=_0x337d18(0x57b):_0x8a4b84[_0x337d18(0x12e)][_0x337d18(0x82e)]=_0x337d18(0x6ec);});});document['getElementById'](_0x1f4fb8(0x2f0))['addEventListener'](_0x1f4fb8(0x8c2),()=>exportTableAsImage(_0x1f4fb8(0x223),_0x47c328())),document['getElementById'](_0x1f4fb8(0x575))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>exportTableAsPDF('results-table',_0x47c328())),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x232))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>exportTableAsWord(_0x1f4fb8(0x223),_0x47c328())),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x52b))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>exportTableAsExcel(_0x1f4fb8(0x6e4),_0x47c328()));const _0x4d89a2=()=>{const _0x21aecf=_0x1f4fb8,_0x4e1cd0=document[_0x21aecf(0x26b)](_0x21aecf(0x63f))[_0x21aecf(0x64c)][_0x21aecf(0xa16)](/[^a-z0-9]/gi,'_')[_0x21aecf(0x82b)]();return'leaderboard_'+(_0x4e1cd0||'quiz');};document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x41f))[_0x1f4fb8(0x813)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4d89a2())),document['getElementById'](_0x1f4fb8(0x78d))['addEventListener'](_0x1f4fb8(0x8c2),()=>exportTableAsPDF('quiz-leaderboard-table',_0x4d89a2())),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x790))[_0x1f4fb8(0x813)]('click',()=>exportTableAsWord(_0x1f4fb8(0xa1b),_0x4d89a2())),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x52f))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>exportTableAsExcel(_0x1f4fb8(0x991),_0x4d89a2())),projectQuizzesList[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),async _0x1904cf=>{const _0x1feb02=_0x1f4fb8,_0x229347=_0x1904cf[_0x1feb02(0x22f)]['closest'](_0x1feb02(0x1de)),_0x3fd854=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)]('.generate-post-test-btn'),_0x223f50=_0x1904cf['target']['closest'](_0x1feb02(0x27c)),_0x3c3775=_0x1904cf['target'][_0x1feb02(0x8ce)](_0x1feb02(0x879)),_0xe92f79=_0x1904cf['target'][_0x1feb02(0x8ce)](_0x1feb02(0x3ae)),_0x3d8170=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0x16a)),_0x1c2172=_0x1904cf['target'][_0x1feb02(0x8ce)]('.edit-quiz-btn'),_0x2d5c4c=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0xa15)),_0xf930d6=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0x4b7)),_0x2376b6=_0x1904cf[_0x1feb02(0x22f)]['closest'](_0x1feb02(0x578)),_0x7f608a=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0xa34)),_0x3e5f86=_0x1904cf[_0x1feb02(0x22f)]['closest']('.move-quiz-btn'),_0x3e7db1=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0x1eb)),_0x21b9cf=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0x6ef)),_0x5d72ea=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0x214)),_0x2605bb=_0x1904cf[_0x1feb02(0x22f)]['closest'](_0x1feb02(0x20a)),_0x39658e=_0x1904cf['target']['closest'](_0x1feb02(0x513)),_0x242ec5=_0x1904cf['target']['closest'](_0x1feb02(0x9c6)),_0x506078=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)]('.quiz-status-btn'),_0x3c7ec4=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0x182)),_0x406ace=_0x1904cf['target'][_0x1feb02(0x8ce)](_0x1feb02(0x93c)),_0x5acaf6=_0x1904cf['target'][_0x1feb02(0x8ce)](_0x1feb02(0x377)),_0x5abbd9=_0x1904cf[_0x1feb02(0x22f)][_0x1feb02(0x8ce)](_0x1feb02(0x23e));if(_0x5acaf6){const _0x4222d8=_0x5acaf6['dataset'][_0x1feb02(0x994)],_0x25eefc=_0x5acaf6[_0x1feb02(0x4ae)][_0x1feb02(0x4cb)],_0x18ff5b=allQuizzes[_0x1feb02(0x1da)](_0x51a7a8=>_0x51a7a8['id']===_0x4222d8);_0x18ff5b&&showGameStartConfirmationModal(_0x4222d8,_0x25eefc,_0x18ff5b['topic']);}else{if(_0x5abbd9){const _0x33d544=_0x5abbd9[_0x1feb02(0x4ae)][_0x1feb02(0x994)];handleStartLiveRace(_0x33d544);}else{if(_0x3c7ec4){const _0x5bbba9=_0x3c7ec4['dataset'][_0x1feb02(0x994)],_0x5884ba=document[_0x1feb02(0x26b)]('actions-container-'+_0x5bbba9);_0x5884ba&&_0x5884ba['classList']['toggle'](_0x1feb02(0x2d5));}else{if(_0x3fd854){const _0x449e42=_0x3fd854[_0x1feb02(0x4ae)][_0x1feb02(0x994)],_0x40a4e2=allQuizzes['find'](_0x18dd30=>_0x18dd30['id']===_0x449e42);_0x40a4e2&&handleGenerateParallelPostTest(_0x40a4e2);}else{if(_0x223f50)handleCompareResults(_0x223f50[_0x1feb02(0x4ae)][_0x1feb02(0x994)],_0x223f50['dataset'][_0x1feb02(0x59c)]);else{if(_0x3c3775){const _0x3b7228=_0x3c3775[_0x1feb02(0x4ae)][_0x1feb02(0x994)],_0x2e39b1=allQuizzes[_0x1feb02(0x1da)](_0x128b8c=>_0x128b8c['id']===_0x3b7228);_0x2e39b1&&_0x2e39b1[_0x1feb02(0x498)]?(displayLessonPlan(_0x2e39b1['lessonPlan'],_0x2e39b1),showConfirmation(_0x1feb02(0x9a5),()=>handleGenerateLessonPlan(_0x3b7228)),document[_0x1feb02(0x26b)](_0x1feb02(0x1b0))[_0x1feb02(0x8f1)]('h3')[_0x1feb02(0x64c)]=_0x1feb02(0x79e),document[_0x1feb02(0x26b)](_0x1feb02(0x9e4))[_0x1feb02(0x64c)]=_0x1feb02(0x5d2)):handleGenerateLessonPlan(_0x3b7228);}else{if(_0xe92f79)handleToggleStarQuiz(_0xe92f79[_0x1feb02(0x4ae)][_0x1feb02(0x994)]);else{if(_0x3d8170)copyTextToClipboard(_0x3d8170[_0x1feb02(0x4ae)][_0x1feb02(0x994)],_0x1feb02(0x827));else{if(_0x1c2172)handleOpenQuizEditor(_0x1c2172[_0x1feb02(0x4ae)][_0x1feb02(0x994)]);else{if(_0x2d5c4c)handleQuizSettings(_0x2d5c4c[_0x1feb02(0x4ae)][_0x1feb02(0x994)]);else{if(_0xf930d6)handleDuplicateQuiz(_0xf930d6[_0x1feb02(0x4ae)][_0x1feb02(0x994)]);else{if(_0x2376b6)handleRenameQuiz(_0x2376b6[_0x1feb02(0x4ae)][_0x1feb02(0x994)],_0x2376b6[_0x1feb02(0x4ae)][_0x1feb02(0x680)]);else{if(_0x7f608a){const _0x2c5bf3=_0x7f608a[_0x1feb02(0x4ae)]['quizId'],_0x3b2f68=allQuizzes['find'](_0x43c533=>_0x43c533['id']===_0x2c5bf3);_0x3b2f68&&handleGenerateParallelFromBank(_0x3b2f68);}else{if(_0x3e5f86)handleMoveQuiz(_0x3e5f86[_0x1feb02(0x4ae)]['quizId']);else{if(_0x3e7db1)handleManualQuizPairing(_0x3e7db1[_0x1feb02(0x4ae)][_0x1feb02(0x994)]);else{if(_0x21b9cf)handleUnpairQuiz(_0x21b9cf[_0x1feb02(0x4ae)][_0x1feb02(0x994)]);else{if(_0x5d72ea){const _0x45851e=_0x5d72ea[_0x1feb02(0x4ae)]['quizId'],_0x32eb02=allQuizzes[_0x1feb02(0x1da)](_0x40ac29=>_0x40ac29['id']===_0x45851e);if(_0x32eb02)startPresentation(_0x32eb02);}else{if(_0x2605bb){const _0xbbe905=_0x2605bb[_0x1feb02(0x4ae)][_0x1feb02(0x994)],_0x420995=allQuizzes[_0x1feb02(0x1da)](_0x29dde4=>_0x29dde4['id']===_0xbbe905);_0x420995&&(currentQuizData=_0x420995,startAdminTest());}else{if(_0x39658e)actionTargetId=_0x39658e[_0x1feb02(0x4ae)][_0x1feb02(0x994)],document['getElementById'](_0x1feb02(0xa19))[_0x1feb02(0x74c)]['remove'](_0x1feb02(0x2d5));else{if(_0x242ec5)showConfirmation(_0x1feb02(0x39f)+_0x242ec5[_0x1feb02(0x4ae)][_0x1feb02(0x680)]+_0x1feb02(0x982),()=>handleDeleteQuiz(_0x242ec5['dataset'][_0x1feb02(0x994)]));else{if(_0x506078)handleQuizStatus(_0x506078['dataset'][_0x1feb02(0x994)]);else{if(_0x406ace)handleGenerateEasyVersionQuiz(_0x406ace[_0x1feb02(0x4ae)]['quizId']);else _0x229347&&showQuizDetailView(_0x229347[_0x1feb02(0x4ae)][_0x1feb02(0x994)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9b4))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>showView(_0x1f4fb8(0x836))),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9bc))[_0x1f4fb8(0x813)]('click',confirmAndStartTeamQuiz),document[_0x1f4fb8(0x26b)]('quiz-leaderboard-table')[_0x1f4fb8(0x8f1)](_0x1f4fb8(0x36b))['addEventListener']('click',_0x223dda=>{const _0x42d2d9=_0x1f4fb8,_0x894d6e=_0x223dda[_0x42d2d9(0x22f)][_0x42d2d9(0x8ce)](_0x42d2d9(0x957));if(!_0x894d6e||!_0x894d6e[_0x42d2d9(0x4ae)][_0x42d2d9(0x9c4)])return;const _0xfe37f2=_0x894d6e['dataset'][_0x42d2d9(0x9c4)];if(quizLeaderboardSortBy===_0xfe37f2)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x42d2d9(0x8f9):_0x42d2d9(0x904);else{quizLeaderboardSortBy=_0xfe37f2;const _0x994e16=[_0x42d2d9(0xfd)];quizLeaderboardSortOrder=_0x994e16[_0x42d2d9(0x15f)](_0xfe37f2)?_0x42d2d9(0x904):_0x42d2d9(0x8f9);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x385))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),closePresentation),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x642))[_0x1f4fb8(0x813)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById']('next-question-btn')[_0x1f4fb8(0x813)]('click',()=>{const _0x261daf=_0x1f4fb8;currentQuizData[_0x261daf(0x6ba)]&&currentPresentationSlide<currentQuizData[_0x261daf(0x6ba)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1f4fb8(0x813)]('fullscreenchange',()=>{const _0x40554f=_0x1f4fb8;!document['fullscreenElement']&&(presentationModal[_0x40554f(0x12e)][_0x40554f(0x82e)]=_0x40554f(0x6ec));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x5d4))['addEventListener'](_0x1f4fb8(0x8c2),handleDeleteAllStudents),studentList[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),_0x5823d9=>{const _0x5b1e04=_0x1f4fb8,_0x3bfc6e=_0x5823d9[_0x5b1e04(0x22f)][_0x5b1e04(0x8ce)](_0x5b1e04(0x387));if(_0x3bfc6e){const _0x1b5455=_0x3bfc6e['dataset'][_0x5b1e04(0xfd)];handleDeleteStudent(_0x1b5455);}}),document['getElementById'](_0x1f4fb8(0x529))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),handleGenerateFromFileClick),fileUploadInput[_0x1f4fb8(0x813)](_0x1f4fb8(0x6ff),_0x37c083=>{const _0x14782d=_0x1f4fb8,_0x333238=_0x37c083[_0x14782d(0x22f)][_0x14782d(0x6b9)][0x0],_0x326983=document[_0x14782d(0x26b)](_0x14782d(0x529));_0x333238?(selectedFile=_0x333238,_0x326983[_0x14782d(0x865)]=![]):(selectedFile=null,_0x326983[_0x14782d(0x865)]=!![]);}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x325))['addEventListener']('change',_0x5313a9=>{const _0xdb33d=_0x1f4fb8,_0x2349f4=document[_0xdb33d(0x26b)](_0xdb33d(0x782)),_0x4b2d01=document['getElementById']('timer-duration-label'),_0x4c42e4=document[_0xdb33d(0x26b)](_0xdb33d(0x13b));_0x5313a9[_0xdb33d(0x22f)]['value']===_0xdb33d(0x6ec)?_0x2349f4[_0xdb33d(0x74c)]['add'](_0xdb33d(0x2d5)):(_0x2349f4[_0xdb33d(0x74c)][_0xdb33d(0x953)](_0xdb33d(0x2d5)),_0x5313a9[_0xdb33d(0x22f)]['value']==='whole_quiz'?(_0x4b2d01[_0xdb33d(0x64c)]='ระยะเวลา\x20(นาที):',_0x4c42e4[_0xdb33d(0x884)]='10'):(_0x4b2d01[_0xdb33d(0x64c)]='ระยะเวลา\x20(วินาที):',_0x4c42e4[_0xdb33d(0x884)]='30'));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x685))[_0x1f4fb8(0x813)](_0x1f4fb8(0x6ff),_0x3a0750=>{const _0x1a0216=_0x1f4fb8,_0x3095c8=document['getElementById'](_0x1a0216(0x181)),_0x4f8dcf=_0x3a0750[_0x1a0216(0x22f)][_0x1a0216(0x884)],_0x552716=document[_0x1a0216(0x8f1)](_0x1a0216(0x1dd)),_0x2521a1=document[_0x1a0216(0x26b)]('passing-score-input'),_0x5b3329=document[_0x1a0216(0x26b)](_0x1a0216(0x18c));_0x4f8dcf===_0x1a0216(0x44e)?_0x552716[_0x1a0216(0x64c)]=_0x1a0216(0x88f):_0x552716[_0x1a0216(0x64c)]='จำนวนข้อ:',_0x4f8dcf===_0x1a0216(0x153)||_0x4f8dcf===_0x1a0216(0x840)||_0x4f8dcf===_0x1a0216(0x2b7)?_0x3095c8[_0x1a0216(0x74c)][_0x1a0216(0x953)](_0x1a0216(0x2d5)):_0x3095c8[_0x1a0216(0x74c)]['add'](_0x1a0216(0x2d5)),_0x2521a1[_0x1a0216(0x104)]=_0x5b3329[_0x1a0216(0x884)];}),document[_0x1f4fb8(0x26b)]('num-questions')[_0x1f4fb8(0x813)]('input',_0x414bad=>{const _0x4bbb58=_0x1f4fb8;document[_0x4bbb58(0x26b)]('passing-score-input')[_0x4bbb58(0x104)]=_0x414bad['target'][_0x4bbb58(0x884)];}),document['getElementById'](_0x1f4fb8(0x189))[_0x1f4fb8(0x813)](_0x1f4fb8(0x6ff),_0x4c4da9=>{const _0x50f36b=_0x1f4fb8,_0x19b332=document[_0x50f36b(0x26b)]('modal-timer-duration-container'),_0x50c2cb=document['getElementById'](_0x50f36b(0x4b5)),_0x179352=document['getElementById'](_0x50f36b(0x554));_0x4c4da9[_0x50f36b(0x22f)][_0x50f36b(0x884)]===_0x50f36b(0x6ec)?_0x19b332[_0x50f36b(0x74c)]['add'](_0x50f36b(0x2d5)):(_0x19b332[_0x50f36b(0x74c)][_0x50f36b(0x953)](_0x50f36b(0x2d5)),_0x4c4da9['target']['value']===_0x50f36b(0x9fe)?_0x50c2cb[_0x50f36b(0x64c)]=_0x50f36b(0x757):_0x50c2cb['textContent']=_0x50f36b(0x890));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9fc))['addEventListener'](_0x1f4fb8(0x8c2),()=>{const _0x2ba244=_0x1f4fb8;document[_0x2ba244(0x26b)]('quiz-editor-modal')[_0x2ba244(0x74c)][_0x2ba244(0x1c0)](_0x2ba244(0x2d5));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x361))['addEventListener'](_0x1f4fb8(0x8c2),()=>{const _0x35077a=_0x1f4fb8;document['getElementById'](_0x35077a(0x911))[_0x35077a(0x74c)][_0x35077a(0x1c0)]('hidden');}),document['getElementById'](_0x1f4fb8(0x598))[_0x1f4fb8(0x813)]('click',handleVerifyAnswersInEditor),document[_0x1f4fb8(0x26b)]('save-quiz-edits-btn')[_0x1f4fb8(0x813)]('click',()=>{const _0x2570b0=_0x1f4fb8;document[_0x2570b0(0x26b)]('quiz-editor-modal')[_0x2570b0(0x74c)][_0x2570b0(0x1c0)](_0x2570b0(0x2d5)),showConfirmation(_0x2570b0(0x74b),handleSaveChanges);}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x9b2))[_0x1f4fb8(0x813)]('click',handleAutoFixLatex);const _0x9ea522=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x718));_0x9ea522&&_0x9ea522[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),_0x5f1057=>{const _0x5bdeed=_0x1f4fb8,_0x1af8a0=_0x5f1057['target'][_0x5bdeed(0x8ce)](_0x5bdeed(0x7b2)),_0x23262d=_0x5f1057['target']['closest'](_0x5bdeed(0x7d3));if(_0x1af8a0){const _0x2a3382=_0x1af8a0[_0x5bdeed(0x8ce)](_0x5bdeed(0x92e)),_0x298212=parseInt(_0x2a3382[_0x5bdeed(0x4ae)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x298212);}else{if(_0x23262d){const _0x8508a5=_0x23262d['closest'](_0x5bdeed(0x92e)),_0x48e6c7=parseInt(_0x8508a5[_0x5bdeed(0x4ae)]['qIndex'],0xa);handleAiFixFormula(_0x48e6c7);}}});document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x564))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),openQuizBankModal),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x2c6))[_0x1f4fb8(0x813)]('click',()=>{const _0x72d65d=_0x1f4fb8;document[_0x72d65d(0x26b)]('quiz-bank-modal')['classList'][_0x72d65d(0x1c0)](_0x72d65d(0x2d5));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x25c))[_0x1f4fb8(0x813)]('input',_0x2a2dc7=>renderQuizBankList(_0x2a2dc7['target'][_0x1f4fb8(0x884)]));const _0xb4955e=document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x601));if(_0xb4955e){let _0x5cb13f=null;_0xb4955e[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),_0x4e7ab5=>{const _0x35196e=_0x1f4fb8,_0x121ecc=_0x4e7ab5[_0x35196e(0x22f)],_0x282c73=_0x121ecc[_0x35196e(0x8ce)]('.edit-custom-topic-btn'),_0x1d8038=_0x121ecc[_0x35196e(0x8ce)](_0x35196e(0x941)),_0xf599fe=_0x121ecc[_0x35196e(0x8ce)]('.save-custom-topic-btn'),_0x12ffef=_0x121ecc['closest'](_0x35196e(0x18d));if(_0x1d8038){_0x4e7ab5[_0x35196e(0xa3e)]();const _0x3c6110=_0x1d8038[_0x35196e(0x4ae)]['id'],_0x2c1e1b=_0x1d8038[_0x35196e(0x8ce)](_0x35196e(0x2de))[_0x35196e(0x8f1)]('.topic-name-display')[_0x35196e(0x64c)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x2c1e1b+'\x22?',()=>handleDeleteCustomTopic(_0x3c6110));}else{if(_0x282c73){_0x4e7ab5['preventDefault']();_0x5cb13f&&toggleTopicEditMode(_0x5cb13f,![]);const _0x1d3fa9=_0x282c73[_0x35196e(0x8ce)](_0x35196e(0x692));_0x5cb13f=_0x1d3fa9,toggleTopicEditMode(_0x1d3fa9,!![]);}else{if(_0xf599fe){_0x4e7ab5[_0x35196e(0xa3e)]();const _0x818abd=_0xf599fe['dataset']['id'],_0x10d13b=_0xf599fe[_0x35196e(0x8ce)](_0x35196e(0x692)),_0x730bfd=_0x10d13b['querySelector'](_0x35196e(0x3ab))['value'];handleUpdateCustomTopic(_0x818abd,_0x730bfd),_0x5cb13f=null;}else{if(_0x12ffef){_0x4e7ab5[_0x35196e(0xa3e)]();const _0x2c64fa=_0x12ffef[_0x35196e(0x8ce)](_0x35196e(0x692));toggleTopicEditMode(_0x2c64fa,![]),_0x5cb13f=null;}}}}}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x12f))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x4758c2=_0x1f4fb8;document[_0x4758c2(0x26b)](_0x4758c2(0x9a7))[_0x4758c2(0x74c)][_0x4758c2(0x1c0)](_0x4758c2(0x2d5));}),document['getElementById'](_0x1f4fb8(0x824))[_0x1f4fb8(0x813)]('click',()=>{const _0x1076ab=_0x1f4fb8;document[_0x1076ab(0x26b)](_0x1076ab(0x9a7))[_0x1076ab(0x74c)]['add'](_0x1076ab(0x2d5));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x50b))[_0x1f4fb8(0x813)]('click',handleExportLessonPDF);}document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x999))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),()=>{const _0x5ca86f=_0x1f4fb8;document[_0x5ca86f(0x26b)](_0x5ca86f(0x640))[_0x5ca86f(0x74c)][_0x5ca86f(0x1c0)](_0x5ca86f(0x2d5));}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x3d0))['addEventListener'](_0x1f4fb8(0x8c2),()=>{const _0x2aa0f2=_0x1f4fb8;document[_0x2aa0f2(0x26b)]('comparison-modal')[_0x2aa0f2(0x74c)][_0x2aa0f2(0x1c0)](_0x2aa0f2(0x2d5));}),setupComparisonModalTabs(),document[_0x1f4fb8(0x531)][_0x1f4fb8(0x813)]('click',function(_0x3c3df1){const _0x2e1ad9=_0x1f4fb8;if(_0x3c3df1[_0x2e1ad9(0x22f)]['classList'][_0x2e1ad9(0x7a2)](_0x2e1ad9(0x1c4))){const _0x8cfcd7=unescape(_0x3c3df1['target'][_0x2e1ad9(0x4ae)]['topic']);startSkillPractice(_0x8cfcd7);}}),document[_0x1f4fb8(0x26b)](_0x1f4fb8(0x6c1))[_0x1f4fb8(0x813)](_0x1f4fb8(0x8c2),_0x15bde6=>{const _0x28350e=_0x1f4fb8,_0x29a76d=_0x15bde6[_0x28350e(0x22f)][_0x28350e(0x8ce)](_0x28350e(0x415));if(_0x29a76d){const _0x54c5e7=_0x29a76d[_0x28350e(0x4ae)][_0x28350e(0xfd)];handleDeleteSubmission(_0x54c5e7);}});}async function handleStartGroupMode(_0x20be1e,_0x1b9041=![]){const _0x27657d=_0x3de37b,_0x3843a9=allQuizzes[_0x27657d(0x1da)](_0x5058a4=>_0x5058a4['id']===_0x20be1e)||allQuizzesGlobal[_0x27657d(0x1da)](_0x5da5c6=>_0x5da5c6['id']===_0x20be1e);if(!_0x3843a9){showMessage(_0x27657d(0x2c8));return;}currentQuizData=getShuffledQuiz(_0x3843a9);const _0x3e2360=Math[_0x27657d(0x48a)](0x3e8+Math[_0x27657d(0x3d1)]()*0x2328)['toString']();try{const _0x4a16a4=await addDoc(collection(db,_0x27657d(0x573)+appId+_0x27657d(0x48e)),{'quizId':_0x3843a9['id'],'projectId':_0x3843a9[_0x27657d(0x551)],'status':_0x27657d(0x621),'pin':_0x3e2360,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1b9041});currentTeamQuizId=_0x4a16a4['id'],showView(_0x27657d(0x449)),renderAdminTeamQuizDashboard(_0x3e2360,_0x3843a9['topic'],_0x27657d(0x698)),listenForTeamQuizUpdates();}catch(_0x5b87e8){console[_0x27657d(0x2a8)](_0x27657d(0x5a9),_0x5b87e8),showMessage(_0x27657d(0x21d));}}async function showStudentProgressView(){const _0x1239f8=_0x3de37b;studentInitialView[_0x1239f8(0x74c)][_0x1239f8(0x1c0)](_0x1239f8(0x2d5)),document[_0x1239f8(0x26b)]('student-progress-view')['classList'][_0x1239f8(0x953)](_0x1239f8(0x2d5));const _0x2ddb45=document['getElementById'](_0x1239f8(0x5f5)),_0x1e02b9=document[_0x1239f8(0x26b)](_0x1239f8(0x730)),_0x3f6500=document['getElementById'](_0x1239f8(0x74e));_0x3f6500[_0x1239f8(0x9ba)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x1e02b9[_0x1239f8(0x9ba)]=_0x1239f8(0x6d1),_0x1e02b9['disabled']=!![],_0x2ddb45[_0x1239f8(0x9ba)]=_0x1239f8(0x91c);if(allProjects['length']===0x0){const _0x34e698=collection(db,_0x1239f8(0x573)+appId+'/public/data/projects'),_0x1db413=await getDocs(_0x34e698);allProjects=_0x1db413[_0x1239f8(0x7c4)][_0x1239f8(0x7bf)](_0x1a942a=>({'id':_0x1a942a['id'],..._0x1a942a[_0x1239f8(0x51a)]()}));}const _0x1d0ee3=allProjects[_0x1239f8(0x2bf)](_0xa11b3b=>_0xa11b3b[_0x1239f8(0x81e)]?.[_0x1239f8(0x399)]!==![]);_0x1d0ee3[_0x1239f8(0x9c4)]((_0x10452d,_0x3b22a3)=>_0x10452d[_0x1239f8(0x5ab)][_0x1239f8(0x668)](_0x3b22a3[_0x1239f8(0x5ab)],'th')),_0x2ddb45[_0x1239f8(0x9ba)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x1d0ee3['map'](_0x5df5c8=>'<option\x20value=\x22'+_0x5df5c8['id']+'\x22>'+_0x5df5c8[_0x1239f8(0x5ab)]+'</option>')['join'](''),_0x2ddb45[_0x1239f8(0x9a6)]=()=>{const _0x212e70=_0x1239f8,_0x14eb8c=_0x1e02b9[_0x212e70(0x884)],_0x40c389=_0x2ddb45[_0x212e70(0x884)];_0x1e02b9[_0x212e70(0x865)]=!![],_0x1e02b9['innerHTML']=_0x212e70(0x6d1),_0x3f6500['innerHTML']=_0x212e70(0x8b1);if(!_0x40c389)return;const _0x27c523=allProjects[_0x212e70(0x1da)](_0x52aaf9=>_0x52aaf9['id']===_0x40c389);if(!_0x27c523||!_0x27c523[_0x212e70(0x337)])return;const _0x83bf24=()=>{const _0x5152c7=_0x212e70;_0x1e02b9[_0x5152c7(0x9ba)]=_0x5152c7(0x6d1)+_0x27c523[_0x5152c7(0x337)][_0x5152c7(0x7bf)](_0x144ce6=>_0x5152c7(0x2ac)+_0x144ce6+'\x22>'+_0x144ce6+_0x5152c7(0x7a5))[_0x5152c7(0xa17)](''),_0x1e02b9[_0x5152c7(0x865)]=![];const _0x2014f0=Array['from'](_0x1e02b9['options'])[_0x5152c7(0x7bf)](_0x1122b5=>_0x1122b5[_0x5152c7(0x884)]);if(_0x14eb8c&&_0x2014f0[_0x5152c7(0x15f)](_0x14eb8c))_0x1e02b9['value']=_0x14eb8c,_0x1e02b9['dispatchEvent'](new Event(_0x5152c7(0x6ff)));else _0x27c523[_0x5152c7(0x337)][_0x5152c7(0x579)]===0x1&&(_0x1e02b9[_0x5152c7(0x884)]=_0x27c523['students'][0x0],_0x1e02b9[_0x5152c7(0x754)](new Event('change')));};if(_0x27c523['settings']?.[_0x212e70(0x4cf)]){if(sessionStorage['getItem'](_0x212e70(0x480)+_0x40c389)===_0x212e70(0x2b8)){_0x83bf24();return;}const _0x2af1e2=document['getElementById'](_0x212e70(0x240)),_0x54a0d7=document['getElementById'](_0x212e70(0x978)),_0x373376=document[_0x212e70(0x26b)](_0x212e70(0x50d)),_0x333c9d=document[_0x212e70(0x26b)]('student-passcode-input'),_0x5d5804=document[_0x212e70(0x26b)](_0x212e70(0x6f0));document[_0x212e70(0x26b)](_0x212e70(0x5a7))[_0x212e70(0x64c)]='สำหรับโปรเจค:\x20'+_0x27c523[_0x212e70(0x5ab)],_0x333c9d[_0x212e70(0x884)]='',_0x5d5804[_0x212e70(0x74c)][_0x212e70(0x1c0)](_0x212e70(0x2d5)),_0x2af1e2[_0x212e70(0x74c)][_0x212e70(0x953)](_0x212e70(0x2d5));const _0x4a3d38=()=>{const _0x435cc0=_0x212e70,_0x416907=_0x333c9d['value']['trim']();_0x416907===_0x27c523[_0x435cc0(0x81e)][_0x435cc0(0x9fb)]?(sessionStorage['setItem']('authed_project_'+_0x40c389,_0x435cc0(0x2b8)),_0x2af1e2[_0x435cc0(0x74c)][_0x435cc0(0x1c0)](_0x435cc0(0x2d5)),_0x83bf24(),_0x54a0d7[_0x435cc0(0x394)](_0x435cc0(0x8c2),_0x4a3d38)):_0x5d5804['classList']['remove'](_0x435cc0(0x2d5));};_0x54a0d7[_0x212e70(0x49a)]=_0x4a3d38,_0x373376['onclick']=()=>{const _0x5c31ba=_0x212e70;_0x2af1e2['classList'][_0x5c31ba(0x1c0)](_0x5c31ba(0x2d5)),_0x2ddb45[_0x5c31ba(0x884)]='',_0x54a0d7[_0x5c31ba(0x394)](_0x5c31ba(0x8c2),_0x4a3d38);};}else _0x83bf24();},_0x1e02b9[_0x1239f8(0x9a6)]=()=>{const _0x1698df=_0x1239f8,_0x39462f=_0x2ddb45[_0x1698df(0x884)],_0x471e3c=_0x1e02b9['value'];_0x39462f&&_0x471e3c&&renderStudentProgressDashboard(_0x39462f,_0x471e3c);};}async function confirmAndJoinSyncGame(){const _0x30fe8f=_0x3de37b,_0x49ee33=Array['from'](document[_0x30fe8f(0x303)](_0x30fe8f(0x147)))[_0x30fe8f(0x7bf)](_0x394501=>_0x394501[_0x30fe8f(0x884)]);if(_0x49ee33['length']===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x49ee33,localPlayerTurnIndex=0x0;const _0x4f681e=doc(db,_0x30fe8f(0x573)+appId+_0x30fe8f(0x96d),currentLiveGameId),_0x451af9={};_0x49ee33[_0x30fe8f(0x597)](_0x2fdeb6=>{const _0x365c6d=_0x30fe8f;_0x451af9[_0x365c6d(0x742)+_0x2fdeb6]={'name':_0x2fdeb6,'score':0x0,'answered':![]};});try{await updateDoc(_0x4f681e,_0x451af9),document[_0x30fe8f(0x26b)](_0x30fe8f(0x3b7))[_0x30fe8f(0x74c)]['add'](_0x30fe8f(0x2d5)),currentStudentName=_0x49ee33[0x0],listenForSyncGameUpdates();const _0x4ebca0={'gameId':currentLiveGameId,'mode':_0x30fe8f(0xa33),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x30fe8f(0x962),JSON['stringify'](_0x4ebca0));}catch(_0x3d9979){console[_0x30fe8f(0x2a8)](_0x30fe8f(0x9bb),_0x3d9979),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x427578=_0x3de37b,_0x3ae3fa=sessionStorage[_0x427578(0x105)](_0x427578(0x962));if(!_0x3ae3fa)return;const _0x453587=JSON[_0x427578(0x317)](_0x3ae3fa),{gameId:_0xdc85c,mode:_0x1f6a40,players:_0x32b979,turnIndex:_0x4a34db}=_0x453587;try{let _0x46519f,_0xbeaa28;_0x1f6a40===_0x427578(0xa33)?_0x46519f=doc(db,_0x427578(0x573)+appId+_0x427578(0x96d),_0xdc85c):_0x46519f=doc(db,'artifacts/'+appId+_0x427578(0x48e),_0xdc85c);_0xbeaa28=await getDoc(_0x46519f);if(!_0xbeaa28[_0x427578(0x42d)]()||_0xbeaa28[_0x427578(0x51a)]()[_0x427578(0x921)]==='finished'||_0xbeaa28[_0x427578(0x51a)]()[_0x427578(0x921)]===_0x427578(0x53b)){sessionStorage[_0x427578(0x345)](_0x427578(0x962));return;}console[_0x427578(0x1c3)](_0x427578(0x945)+_0x1f6a40+'\x20(ID:\x20'+_0xdc85c+')'),localTeamPlayers=_0x32b979,localPlayerTurnIndex=_0x4a34db;if(_0x1f6a40==='sync')currentLiveGameId=_0xdc85c,currentStudentName=_0x32b979[0x0],showView(_0x427578(0x449)),listenForSyncGameUpdates();else{currentTeamQuizId=_0xdc85c;const _0x237821=_0xbeaa28[_0x427578(0x51a)](),_0xe753ca=doc(db,_0x427578(0x573)+appId+_0x427578(0x5df),_0x237821[_0x427578(0x994)]),_0x5e7270=await getDoc(_0xe753ca);_0x5e7270[_0x427578(0x42d)]()&&(currentQuizData=getShuffledQuiz({'id':_0x5e7270['id'],..._0x5e7270['data']()}),showView(_0x427578(0x836)),studentInitialView[_0x427578(0x74c)][_0x427578(0x1c0)](_0x427578(0x2d5)),renderTeamQuizQuestion());}}catch(_0x542034){console[_0x427578(0x2a8)]('Failed\x20to\x20resume\x20game\x20session:',_0x542034),sessionStorage[_0x427578(0x345)](_0x427578(0x962));}}async function handleKickPlayerSync(_0x24854e){const _0x23b3b4=_0x3de37b;if(!currentLiveGameId||!_0x24854e)return;const _0x185ed6=doc(db,_0x23b3b4(0x573)+appId+_0x23b3b4(0x96d),currentLiveGameId),_0x99ef3a={};_0x99ef3a[_0x23b3b4(0x742)+_0x24854e+'.status']=_0x23b3b4(0x5f6);try{await updateDoc(_0x185ed6,_0x99ef3a);}catch(_0x53e385){console['error'](_0x23b3b4(0x974)+_0x24854e+_0x23b3b4(0x471),_0x53e385),showMessage(_0x23b3b4(0x70a));}}async function renderStudentProgressDashboard(_0x1962e6,_0xdcfc6b){const _0x1909b8=_0x3de37b,_0x5c59c0=document[_0x1909b8(0x26b)]('student-progress-content');_0x5c59c0['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0xcb699=collection(db,_0x1909b8(0x573)+appId+_0x1909b8(0x5df)),_0x3bb8d1=query(_0xcb699,where(_0x1909b8(0x551),'==',_0x1962e6)),_0x298b18=await getDocs(_0x3bb8d1),_0x192e9e=_0x298b18[_0x1909b8(0x7c4)]['map'](_0x27d621=>({'id':_0x27d621['id'],..._0x27d621[_0x1909b8(0x51a)]()})),_0x267791=_0x192e9e['map'](_0x5af13c=>getDoc(doc(db,_0x1909b8(0x573)+appId+'/public/data/quizzes/'+_0x5af13c['id']+'/submissions',_0xdcfc6b))),_0xb28158=await Promise['all'](_0x267791),_0x2c7494=_0xb28158[_0x1909b8(0x2bf)](_0x4fce36=>_0x4fce36[_0x1909b8(0x42d)]())['map'](_0x4319d9=>({'quizId':_0x4319d9[_0x1909b8(0x854)][_0x1909b8(0x97b)][_0x1909b8(0x97b)]['id'],..._0x4319d9[_0x1909b8(0x51a)]()}));if(_0x2c7494[_0x1909b8(0x579)]===0x0){_0x5c59c0[_0x1909b8(0x9ba)]=_0x1909b8(0x63b);return;}let _0x26e9aa=_0x1909b8(0x78e);_0x2c7494['forEach'](_0x560fdd=>{const _0x134c63=_0x1909b8,_0xc14417=_0x192e9e[_0x134c63(0x1da)](_0x29f5b4=>_0x29f5b4['id']===_0x560fdd[_0x134c63(0x994)]),_0x48358c=_0xc14417[_0x134c63(0x81e)]?.[_0x134c63(0x5ed)]||'show_results_and_answers',_0x2275de=_0xc14417[_0x134c63(0x81e)]?.[_0x134c63(0x8e6)]??0x0,_0x4217ae=_0x560fdd[_0x134c63(0x9c7)]>=_0x2275de;let _0x1646d0='',_0x39259b=_0x134c63(0x278);switch(_0x48358c){case'show_results_and_answers':case'show_results_only':_0x39259b=_0x4217ae?'bg-green-50':_0x134c63(0x9a4),_0x1646d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x4217ae?_0x134c63(0x3b4):_0x134c63(0x102))+'\x22>'+_0x560fdd['bestScore']+_0x134c63(0x119)+_0x560fdd[_0x134c63(0x54f)]+_0x134c63(0x263)+(_0x4217ae?_0x134c63(0x21b):_0x134c63(0x315))+'\x22>'+(_0x4217ae?_0x134c63(0x43d):_0x134c63(0x6bf))+_0x134c63(0x494);break;case _0x134c63(0x242):_0x39259b=_0x4217ae?_0x134c63(0x1f6):'bg-red-50',_0x1646d0=_0x134c63(0x7a1)+(_0x4217ae?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x4217ae?'ผ่าน':_0x134c63(0x6bf))+_0x134c63(0x494);break;case'manual_release':_0x39259b=_0x134c63(0x2e5),_0x1646d0=_0x134c63(0x199);break;}_0x26e9aa+=_0x134c63(0x1a4)+_0x39259b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0xc14417[_0x134c63(0x680)]+_0x134c63(0x145)+_0x560fdd[_0x134c63(0x456)]['length']+_0x134c63(0x4ab)+new Date(_0x560fdd[_0x134c63(0x4e6)])[_0x134c63(0x822)](_0x134c63(0x1ba))+_0x134c63(0x1aa)+_0x1646d0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x26e9aa+=_0x1909b8(0x7d8),_0x5c59c0[_0x1909b8(0x9ba)]=_0x26e9aa;}catch(_0x9d5660){console[_0x1909b8(0x2a8)]('Error\x20rendering\x20student\x20progress:',_0x9d5660),_0x5c59c0[_0x1909b8(0x9ba)]=_0x1909b8(0xa38);}}function setupStudentProgressListeners(){const _0x2026b8=_0x3de37b;document[_0x2026b8(0x26b)](_0x2026b8(0xa10))[_0x2026b8(0x813)](_0x2026b8(0x8c2),showStudentProgressView),document['getElementById']('back-to-student-home-btn')[_0x2026b8(0x813)](_0x2026b8(0x8c2),()=>{const _0x38fbe9=_0x2026b8;document['getElementById']('student-progress-view')[_0x38fbe9(0x74c)][_0x38fbe9(0x1c0)]('hidden'),document['getElementById'](_0x38fbe9(0x5b7))[_0x38fbe9(0x74c)][_0x38fbe9(0x953)]('hidden');});}async function startSkillPractice(_0x46954f){const _0x35cb79=_0x3de37b;studentResultArea[_0x35cb79(0x74c)][_0x35cb79(0x1c0)](_0x35cb79(0x2d5)),studentQuizArea[_0x35cb79(0x9ba)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x35cb79(0x74c)][_0x35cb79(0x953)](_0x35cb79(0x2d5));try{const _0x432b57=await getStandardizedTopic(_0x46954f);console[_0x35cb79(0x1c3)](_0x35cb79(0x76f)+_0x46954f+_0x35cb79(0x183)+_0x432b57+'\x22'),studentQuizArea[_0x35cb79(0x8f1)]('p')[_0x35cb79(0x64c)]=_0x35cb79(0x177)+_0x432b57+_0x35cb79(0x9e2);const _0xf1820=collection(db,_0x35cb79(0x573)+appId+_0x35cb79(0x31a)),_0xa2725b=query(_0xf1820,where(_0x35cb79(0x680),'==',_0x432b57)),_0x4318e2=await getDocs(_0xa2725b);if(_0x4318e2[_0x35cb79(0x7c4)]['length']>=0x3){console['log'](_0x35cb79(0x201)+_0x4318e2['docs'][_0x35cb79(0x579)]+_0x35cb79(0xa4e)+_0x432b57+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x2cdfc5=_0x4318e2['docs'][_0x35cb79(0x7bf)](_0x53664f=>_0x53664f[_0x35cb79(0x51a)]());shuffleArray(_0x2cdfc5);const _0x872eca={'topic':_0x432b57,'questions':_0x2cdfc5[_0x35cb79(0x285)](0x0,0x3)};displaySkillPracticeDrill(_0x872eca);}else{console[_0x35cb79(0x1c3)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x432b57+_0x35cb79(0x912));const _0x3ba86f=await generatePracticeQuestions(_0x432b57);await saveDrillToPracticeBank(_0x3ba86f,_0x432b57),displaySkillPracticeDrill(_0x3ba86f);}}catch(_0x360e1c){console['error'](_0x35cb79(0x637),_0x360e1c),showMessage(_0x35cb79(0x5f7)),studentQuizArea[_0x35cb79(0x74c)][_0x35cb79(0x1c0)]('hidden'),studentResultArea[_0x35cb79(0x74c)][_0x35cb79(0x953)](_0x35cb79(0x2d5));}}async function saveDrillToPracticeBank(_0x539f45,_0x5b9a17){const _0x3eda16=_0x3de37b,_0x39a7d3=collection(db,_0x3eda16(0x573)+appId+'/public/data/practiceBank'),_0x5123c1=writeBatch(db);_0x539f45[_0x3eda16(0x6ba)][_0x3eda16(0x597)](_0xb82acd=>{const _0x50b463=_0x3eda16,_0x1c62a1=doc(_0x39a7d3);_0x5123c1[_0x50b463(0x454)](_0x1c62a1,{'topic':_0x5b9a17,'questionText':_0xb82acd[_0x50b463(0x19b)],'options':_0xb82acd[_0x50b463(0x8e3)],'correctAnswerIndex':_0xb82acd[_0x50b463(0x7d9)],'explanation':_0xb82acd[_0x50b463(0x8cb)],'createdAt':serverTimestamp()});});try{await _0x5123c1['commit'](),console['log'](_0x3eda16(0x6af)+_0x539f45[_0x3eda16(0x6ba)]['length']+_0x3eda16(0x83f));}catch(_0x40cb04){console[_0x3eda16(0x2a8)](_0x3eda16(0x94b),_0x40cb04);}}async function getStandardizedTopic(_0x3131bb){const _0x38b552=_0x3de37b,_0x557f48=_0x38b552(0xa02)+_0x3131bb+_0x38b552(0x344),_0x13e96a={'type':_0x38b552(0x1e7),'properties':{'standardTopic':{'type':_0x38b552(0x205)}},'required':[_0x38b552(0x10c)]};try{const _0x54ee95=await callAnalysisApi(_0x557f48,_0x13e96a);return _0x54ee95['standardTopic'];}catch(_0x32ffa5){return console[_0x38b552(0x2a8)](_0x38b552(0x336),_0x32ffa5),_0x3131bb;}}async function handleGenerateEasyVersionQuiz(_0x3c13d0){const _0x2e2e17=_0x3de37b,_0xfb02e5=document[_0x2e2e17(0x26b)](_0x2e2e17(0x13a)),_0x27a9ea=document[_0x2e2e17(0x26b)](_0x2e2e17(0x795));_0x27a9ea[_0x2e2e17(0x74c)]['add']('hidden');const _0xf97b06=_0x2e2e17(0x932);_0xfb02e5[_0x2e2e17(0x800)]('beforeend',_0xf97b06);try{const _0x4853c4=allQuizzes[_0x2e2e17(0x1da)](_0x2bff7d=>_0x2bff7d['id']===_0x3c13d0);if(!_0x4853c4)throw new Error(_0x2e2e17(0x7e2));const _0x31f60e=_0x2e2e17(0x52a)+JSON[_0x2e2e17(0x670)](_0x4853c4[_0x2e2e17(0x6ba)])+_0x2e2e17(0x1ef),_0x3b7187={'type':_0x2e2e17(0x1e7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x2e2e17(0x3a6),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2e2e17(0x72a)},'idealAnswer':{'type':_0x2e2e17(0x205)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2e2e17(0x19b),_0x2e2e17(0x14b),'explanation']},_0x394995={'type':_0x2e2e17(0x1e7),'properties':{'questions':{'type':'ARRAY','items':_0x3b7187}},'required':[_0x2e2e17(0x6ba)]},_0x3ac179=await callAnalysisApi(_0x31f60e,_0x394995);if(!_0x3ac179||!_0x3ac179[_0x2e2e17(0x6ba)]||_0x3ac179[_0x2e2e17(0x6ba)]['length']===0x0)throw new Error(_0x2e2e17(0x535));const _0x375835=_0x3ac179[_0x2e2e17(0x6ba)][_0x2e2e17(0x7bf)]((_0x25e895,_0x2a4c27)=>({..._0x25e895,'id':'q_'+Date['now']()+'_'+_0x2a4c27})),_0x1626f5={'projectId':_0x4853c4[_0x2e2e17(0x551)],'quizType':_0x4853c4[_0x2e2e17(0xa11)],'settings':_0x4853c4[_0x2e2e17(0x81e)],'createdBy':_0x4853c4['createdBy'],'status':_0x2e2e17(0x55c),'topic':'(ฉบับง่าย)\x20'+_0x4853c4['topic'],'questions':_0x375835,'createdAt':new Date()[_0x2e2e17(0x211)](),'quizMode':'standard','pairedQuizId':null};let _0x19229c;while(!![]){_0x19229c=Math[_0x2e2e17(0x48a)](0x3e8+Math[_0x2e2e17(0x3d1)]()*0x2328)[_0x2e2e17(0x400)]();const _0x468ddd=await getDoc(doc(db,_0x2e2e17(0x573)+appId+_0x2e2e17(0x5df),_0x19229c));if(!_0x468ddd[_0x2e2e17(0x42d)]())break;}await setDoc(doc(db,_0x2e2e17(0x573)+appId+_0x2e2e17(0x5df),_0x19229c),_0x1626f5),showMessage(_0x2e2e17(0x59a));}catch(_0x2a0f5f){console[_0x2e2e17(0x2a8)](_0x2e2e17(0x3fc),_0x2a0f5f),showMessage(_0x2e2e17(0x607)+_0x2a0f5f[_0x2e2e17(0x216)]);}finally{const _0x5c3ec0=document[_0x2e2e17(0x26b)](_0x2e2e17(0x9ce));_0x5c3ec0&&_0x5c3ec0[_0x2e2e17(0x953)](),_0x27a9ea[_0x2e2e17(0x74c)]['remove']('hidden');}}async function generatePracticeQuestions(_0x4cd593){const _0x30a049=_0x3de37b,_0x7518d8=_0x30a049(0x1f1)+_0x4cd593+_0x30a049(0x971)+simpleMathPrompt+_0x30a049(0x48c),_0x4d7b68={'type':_0x30a049(0x1e7),'properties':{'questionText':{'type':_0x30a049(0x205)},'options':{'type':_0x30a049(0x3a6),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x30a049(0x72a)},'explanation':{'type':_0x30a049(0x205)}},'required':[_0x30a049(0x19b),'options',_0x30a049(0x7d9),'explanation']},_0xf0314a={'type':_0x30a049(0x1e7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x30a049(0x3a6),'items':_0x4d7b68}},'required':[_0x30a049(0x680),_0x30a049(0x6ba)]};return await callAnalysisApi(_0x7518d8,_0xf0314a);}function displayLessonPlan(_0x460e5d,_0x361557){const _0x1c8311=_0x3de37b,_0x1f9ebb=_0x1c8311(0x378)+_0x361557[_0x1c8311(0x680)]+_0x1c8311(0x154)+_0x460e5d[_0x1c8311(0x7f8)][_0x1c8311(0x7bf)](_0x58ec3b=>_0x1c8311(0x3fb)+_0x58ec3b+_0x1c8311(0x524))[_0x1c8311(0xa17)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x460e5d['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x460e5d['practiceProblems'][_0x1c8311(0x7bf)](_0x163569=>_0x1c8311(0x37a)+_0x163569['question']+_0x1c8311(0x606)+_0x163569[_0x1c8311(0x536)]+_0x1c8311(0x3c1))[_0x1c8311(0xa17)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x1c8311(0x26b)](_0x1c8311(0x35e))[_0x1c8311(0x64c)]=_0x1c8311(0x82c)+_0x361557['topic'],document[_0x1c8311(0x26b)]('lesson-plan-content')[_0x1c8311(0x9ba)]=_0x1f9ebb,document[_0x1c8311(0x26b)](_0x1c8311(0x9a7))[_0x1c8311(0x74c)][_0x1c8311(0x953)](_0x1c8311(0x2d5));if(window['MathJax'])MathJax[_0x1c8311(0x281)]();}function displaySkillPracticeDrill(_0x21f7eb){let _0x4e2036=0x0;const _0x47913f=_0x21f7eb['questions'],_0x146568=()=>{const _0x32e358=_0x4a4b,_0xfc3a0e=_0x47913f[_0x4e2036],_0x452373=_0x32e358(0x636)+(_0x4e2036+0x1)+'\x20/\x20'+_0x47913f[_0x32e358(0x579)]+_0x32e358(0x99f)+_0xfc3a0e[_0x32e358(0x19b)]+_0x32e358(0x97d)+_0xfc3a0e['options']['map']((_0x520f40,_0x58cb6e)=>_0x32e358(0x7ea)+_0x58cb6e+_0x32e358(0x574)+_0x58cb6e+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x58cb6e+'\x22>'+_0x520f40+_0x32e358(0x2d9))['join']('')+_0x32e358(0x65a);studentQuizArea[_0x32e358(0x9ba)]=_0x452373;if(window[_0x32e358(0x7c9)])MathJax[_0x32e358(0x281)]([studentQuizArea]);document[_0x32e358(0x26b)](_0x32e358(0x324))[_0x32e358(0x813)](_0x32e358(0x8c2),async()=>{const _0x37133c=_0x32e358,_0x4a026c=await getHintForQuestion(_0xfc3a0e[_0x37133c(0x19b)]);showMessage(_0x4a026c);}),document[_0x32e358(0x26b)](_0x32e358(0x15a))[_0x32e358(0x813)](_0x32e358(0x8c2),()=>{const _0x3c3322=_0x32e358,_0x15c623=document[_0x3c3322(0x8f1)](_0x3c3322(0x74a));if(!_0x15c623){showMessage(_0x3c3322(0x2f6));return;}const _0x4222f4=document['getElementById']('drill-feedback'),_0x1cc46e=parseInt(_0x15c623[_0x3c3322(0x884)])===_0xfc3a0e[_0x3c3322(0x7d9)];_0x1cc46e?(_0x4222f4[_0x3c3322(0x6e3)]=_0x3c3322(0x7fb),_0x4222f4[_0x3c3322(0x9ba)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0xfc3a0e[_0x3c3322(0x8cb)]):(_0x4222f4[_0x3c3322(0x6e3)]=_0x3c3322(0x87d),_0x4222f4[_0x3c3322(0x9ba)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0xfc3a0e['explanation']);_0x4222f4[_0x3c3322(0x74c)]['remove'](_0x3c3322(0x2d5));if(window['MathJax'])MathJax['typesetPromise']([_0x4222f4]);document[_0x3c3322(0x26b)](_0x3c3322(0x15a))[_0x3c3322(0x74c)][_0x3c3322(0x1c0)](_0x3c3322(0x2d5)),document[_0x3c3322(0x26b)](_0x3c3322(0x324))[_0x3c3322(0x74c)][_0x3c3322(0x1c0)](_0x3c3322(0x2d5)),document[_0x3c3322(0x26b)](_0x3c3322(0x206))[_0x3c3322(0x74c)][_0x3c3322(0x953)](_0x3c3322(0x2d5));}),document[_0x32e358(0x26b)](_0x32e358(0x206))[_0x32e358(0x813)](_0x32e358(0x8c2),()=>{const _0x3c6af1=_0x32e358;_0x4e2036++,_0x4e2036<_0x47913f['length']?_0x146568():(studentQuizArea[_0x3c6af1(0x9ba)]=_0x3c6af1(0x5ca),document[_0x3c6af1(0x26b)](_0x3c6af1(0x62c))[_0x3c6af1(0x813)](_0x3c6af1(0x8c2),()=>{const _0x5a8273=_0x3c6af1;studentQuizArea['classList'][_0x5a8273(0x1c0)](_0x5a8273(0x2d5)),studentResultArea[_0x5a8273(0x74c)][_0x5a8273(0x953)](_0x5a8273(0x2d5));}));});};_0x146568();}async function getHintForQuestion(_0xc1bbd8){const _0x328c02=_0x3de37b,_0x165da8='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0xc1bbd8+_0x328c02(0x4fd),_0x6e328f={'type':'OBJECT','properties':{'hint':{'type':_0x328c02(0x205)}},'required':[_0x328c02(0x1b7)]};try{const _0x4c24bb=await callAnalysisApi(_0x165da8,_0x6e328f);return _0x4c24bb[_0x328c02(0x1b7)];}catch(_0x27a72d){return console[_0x328c02(0x2a8)]('Failed\x20to\x20get\x20hint:',_0x27a72d),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x3ec619){const _0x185a0d=_0x3de37b;pdfjsLib[_0x185a0d(0x8e1)][_0x185a0d(0x434)]=_0x185a0d(0x626);const _0x4d039b=await _0x3ec619[_0x185a0d(0x667)](),_0x21bc76=await pdfjsLib['getDocument'](_0x4d039b)[_0x185a0d(0x204)],_0x1786d7=_0x21bc76[_0x185a0d(0x1cc)];let _0x1a5f36='';for(let _0x39d08d=0x1;_0x39d08d<=_0x1786d7;_0x39d08d++){const _0x18318d=await _0x21bc76[_0x185a0d(0x602)](_0x39d08d),_0x2cff84=await _0x18318d['getTextContent'](),_0x36b4ee=_0x2cff84[_0x185a0d(0x888)][_0x185a0d(0x7bf)](_0x4d8be0=>_0x4d8be0[_0x185a0d(0x7e7)])['join']('\x20');_0x1a5f36+=_0x36b4ee+'\x0a\x0a';}return _0x1a5f36;}async function handleGenerateFromBlueprint(){const _0xd2360c=_0x3de37b,_0x5d18cf=document[_0xd2360c(0x26b)](_0xd2360c(0x1b3)),_0xe1e4a3=document[_0xd2360c(0x26b)](_0xd2360c(0x9e5)),_0x261065=_0x5d18cf[_0xd2360c(0x6b9)][0x0],_0x6f537d=_0xe1e4a3[_0xd2360c(0x6b9)]['length']>0x0?_0xe1e4a3[_0xd2360c(0x6b9)][0x0]:null;if(!_0x261065){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x4dc12f=document[_0xd2360c(0x26b)](_0xd2360c(0x902)),_0x2e3f18=document['getElementById'](_0xd2360c(0x750)),_0x2a4ba0=document[_0xd2360c(0x26b)](_0xd2360c(0x775)),_0x5c758c=document[_0xd2360c(0x26b)]('generate-from-blueprint-btn');_0x5c758c[_0xd2360c(0x865)]=!![],document[_0xd2360c(0x26b)](_0xd2360c(0x114))['classList'][_0xd2360c(0x953)](_0xd2360c(0x2d5)),_0x2a4ba0[_0xd2360c(0x9ba)]='',_0x4dc12f[_0xd2360c(0x74c)][_0xd2360c(0x953)]('hidden');try{_0x2e3f18['textContent']=_0xd2360c(0xa4f);const _0x524217=await extractTextFromPdf(_0x261065);if(!_0x524217[_0xd2360c(0x168)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x4a45a1='';_0x6f537d&&(_0x2e3f18[_0xd2360c(0x64c)]=_0xd2360c(0x57e),_0x4a45a1=await extractTextFromPdf(_0x6f537d));_0x2e3f18[_0xd2360c(0x64c)]=_0xd2360c(0x3f9);const _0x1bc9d2=document[_0xd2360c(0x26b)](_0xd2360c(0x75d))[_0xd2360c(0x268)],_0x9e6aad=_0x1bc9d2?_0xd2360c(0x1df):'',_0x58bb65=_0x4a45a1?_0xd2360c(0x1fa)+_0x4a45a1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x7a49a2=_0xd2360c(0x7c2)+(_0x4a45a1?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+_0xd2360c(0x976)+_0x524217+_0xd2360c(0x379)+_0x58bb65+_0xd2360c(0x764)+_0x9e6aad+_0xd2360c(0x122)+simpleMathPrompt+_0xd2360c(0x294),_0x187971={'type':_0xd2360c(0x1e7),'properties':{'questionText':{'type':_0xd2360c(0x205)},'questionType':{'type':_0xd2360c(0x205),'enum':[_0xd2360c(0x153),_0xd2360c(0x1c1)]},'options':{'type':_0xd2360c(0x3a6),'items':{'type':_0xd2360c(0x205)}},'correctAnswerIndex':{'type':_0xd2360c(0x72a)},'idealAnswer':{'type':_0xd2360c(0x205)},'explanation':{'type':_0xd2360c(0x205)},'imageCode':{'type':_0xd2360c(0x205)}},'required':[_0xd2360c(0x19b),_0xd2360c(0x14b),_0xd2360c(0x8cb)]},_0x2d903c={'type':_0xd2360c(0x1e7),'properties':{'topic':{'type':_0xd2360c(0x205)},'questions':{'type':_0xd2360c(0x3a6),'items':_0x187971}},'required':[_0xd2360c(0x680),_0xd2360c(0x6ba)]};await handleApiCall(_0x7a49a2,_0xd2360c(0x29e),_0x2d903c);}catch(_0x32972c){console['error']('Error\x20generating\x20from\x20blueprint:',_0x32972c),showMessage('เกิดข้อผิดพลาด:\x20'+_0x32972c[_0xd2360c(0x216)]),_0x2a4ba0['innerHTML']=_0xd2360c(0x176);}finally{_0x4dc12f[_0xd2360c(0x74c)][_0xd2360c(0x1c0)](_0xd2360c(0x2d5)),_0x5c758c[_0xd2360c(0x865)]=![];}}function renderAdminSyncDashboard(_0x3595ab,_0x4ef958){const _0x17fda8=_0x3de37b,_0xaed91b=Object[_0x17fda8(0x4bb)](_0x3595ab[_0x17fda8(0x4bc)]||{}),_0x3600c1=_0xaed91b[_0x17fda8(0x579)],_0x181aa3=[..._0xaed91b][_0x17fda8(0x9c4)]((_0x39920c,_0xe371e2)=>_0xe371e2[_0x17fda8(0x5aa)]-_0x39920c[_0x17fda8(0x5aa)]),_0x35d01b=_0x3595ab[_0x17fda8(0x9ab)];let _0x1c3b8e='';const _0x348be5=_0x3595ab[_0x17fda8(0x7a9)][_0x17fda8(0x6ba)],_0x20bde9=_0x348be5[_0x35d01b],_0x10fbdd=_0x4efb2e=>String['fromCharCode'](0x41+_0x4efb2e);if(_0x20bde9&&_0x20bde9['options']&&_0x20bde9[_0x17fda8(0x7d9)]!==undefined){const _0x2d60d1=_0x20bde9[_0x17fda8(0x8e3)][_0x20bde9[_0x17fda8(0x7d9)]];_0x1c3b8e=_0x17fda8(0x665)+(_0x35d01b+0x1)+_0x17fda8(0x472)+_0x10fbdd(_0x20bde9['correctAnswerIndex'])+'.\x20'+_0x2d60d1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x2b2b28=_0x181aa3['map'](_0xe6009d=>{const _0x4432ad=_0x17fda8;let _0x5e06ae=![];if(_0xe6009d['answers']&&_0x35d01b!==-0x1){const _0x357171=_0xe6009d['answers'][_0x4432ad(0x1da)](_0xf46df1=>_0xf46df1[_0x4432ad(0x1e1)]===_0x35d01b);_0x357171&&_0x357171[_0x4432ad(0x516)]&&(_0x5e06ae=!![]);}const _0x10880f=_0x5e06ae?_0x4432ad(0x414):_0x4432ad(0x89e);return _0x4432ad(0x768)+_0x10880f+_0x4432ad(0x7fe)+_0xe6009d[_0x4432ad(0x234)]+_0x4432ad(0x41d)+_0xe6009d[_0x4432ad(0x5aa)]+'\x20คะแนน</span></div>';})[_0x17fda8(0xa17)](''),_0x226c18=_0x348be5[_0x17fda8(0x7bf)]((_0x7a8af3,_0x2c6434)=>{const _0x456a9c=_0x17fda8,_0x593241=_0xaed91b[_0x456a9c(0x2bf)](_0x3a4aca=>_0x3a4aca[_0x456a9c(0x1a1)]&&_0x3a4aca[_0x456a9c(0x1a1)][_0x456a9c(0x1da)](_0x2e2e0c=>_0x2e2e0c[_0x456a9c(0x1e1)]===_0x2c6434&&_0x2e2e0c[_0x456a9c(0x516)]))['length'],_0x21575=_0x2c6434===_0x35d01b,_0x2c42db=_0x21575?_0x456a9c(0x2ab):'p-2\x20bg-black/10\x20rounded-md';return _0x456a9c(0x6a0)+_0x2c42db+_0x456a9c(0x300)+(_0x2c6434+0x1)+_0x456a9c(0x2c5)+_0x593241+_0x456a9c(0x119)+_0x3600c1+_0x456a9c(0x93a);})[_0x17fda8(0xa17)]('');let _0x1d982c='',_0x3a6194='';if(_0x4ef958){const _0x563404=_0x3595ab[_0x17fda8(0x9ab)]>=_0x348be5[_0x17fda8(0x579)]-0x1;_0x1d982c=_0x17fda8(0x473)+(_0x563404?_0x17fda8(0x2a5):_0x17fda8(0x7e5))+_0x17fda8(0x739),_0x3a6194=_0x17fda8(0x856);}const _0x5b5c68=_0x17fda8(0x4f8)+_0x3595ab[_0x17fda8(0x7a9)]['topic']+_0x17fda8(0x4fc)+_0x3a6194+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c3b8e+_0x17fda8(0x95b)+(_0x2b2b28||_0x17fda8(0x24b))+_0x17fda8(0x35b)+_0x226c18+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4ef958?_0x17fda8(0x30a)+_0x1d982c+_0x17fda8(0x7d8):'')+_0x17fda8(0x2a7);liveGameView[_0x17fda8(0x9ba)]=_0x5b5c68;if(window[_0x17fda8(0x7c9)]){const _0x240cc4=document[_0x17fda8(0x26b)](_0x17fda8(0x15c));_0x240cc4&&MathJax[_0x17fda8(0x281)]([_0x240cc4]);}if(_0x4ef958){document[_0x17fda8(0x26b)](_0x17fda8(0x3d5))[_0x17fda8(0x49a)]=async()=>{const _0x314ac2=_0x17fda8,_0x2f39de=doc(db,_0x314ac2(0x573)+appId+_0x314ac2(0x96d),currentLiveGameId),_0x187d06=_0x3595ab[_0x314ac2(0x9ab)]+0x1;if(_0x187d06<_0x348be5['length']){const _0x59227b={};Object[_0x314ac2(0xa3b)](_0x3595ab[_0x314ac2(0x4bc)])[_0x314ac2(0x597)](_0xd388fc=>{const _0x585bec=_0x314ac2;_0x59227b[_0x585bec(0x742)+_0xd388fc+_0x585bec(0x86e)]=![],_0x59227b[_0x585bec(0x742)+_0xd388fc+_0x585bec(0x196)]=null;}),await updateDoc(_0x2f39de,{..._0x59227b,'status':_0x314ac2(0x6d0),'currentQuestionIndex':_0x187d06,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2f39de,{'status':_0x314ac2(0x53b)});};const _0x5b62fe=document[_0x17fda8(0x26b)](_0x17fda8(0x508));_0x5b62fe&&(_0x5b62fe[_0x17fda8(0x49a)]=()=>{const _0x2e71d4=_0x17fda8;showConfirmation(_0x2e71d4(0x7ed),async()=>{const _0x316977=_0x2e71d4,_0x1da774=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x1da774,{'status':_0x316977(0x53b)});});});}}async function handleGenerateParallelFromBank(_0x1c2497){const _0x40a41f=_0x3de37b,_0x3baebb=document[_0x40a41f(0x26b)](_0x40a41f(0x13a)),_0x2bf848=document[_0x40a41f(0x26b)](_0x40a41f(0x795));_0x2bf848[_0x40a41f(0x74c)][_0x40a41f(0x1c0)]('hidden');const _0x2fbd6d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x1c2497[_0x40a41f(0x680)]+_0x40a41f(0x43a);_0x3baebb['insertAdjacentHTML'](_0x40a41f(0x94d),_0x2fbd6d);const _0x6bba35=document[_0x40a41f(0x26b)]('temp-loader-text-results');try{const _0x32a944=_0x1c2497[_0x40a41f(0x6ba)][_0x40a41f(0x7bf)]((_0x44d21f,_0x70248c)=>{const _0x377ec9=_0x40a41f;let _0x42fe15=_0x70248c+0x1+'.\x20'+(_0x44d21f[_0x377ec9(0x19b)]||_0x44d21f[_0x377ec9(0x622)])+'\x0a';if(_0x44d21f[_0x377ec9(0x8e3)])_0x42fe15+=_0x44d21f[_0x377ec9(0x8e3)]['map']((_0x5b8866,_0x2a5ee7)=>_0x377ec9(0xa24)+(_0x2a5ee7===_0x44d21f['correctAnswerIndex']?_0x377ec9(0x916):'')+'\x20'+_0x5b8866)[_0x377ec9(0xa17)]('\x0a');else _0x44d21f[_0x377ec9(0x11f)]&&(_0x42fe15+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x44d21f['idealAnswer']);return _0x42fe15;})[_0x40a41f(0xa17)]('\x0a\x0a');_0x6bba35[_0x40a41f(0x64c)]=_0x40a41f(0x99b);const _0x474eea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x1c2497[_0x40a41f(0x680)]+_0x40a41f(0x488)+_0x32a944+_0x40a41f(0x3bf)+simpleMathPrompt+_0x40a41f(0x294),_0x4411f7={'type':'OBJECT','properties':{'questionText':{'type':_0x40a41f(0x205)},'questionType':{'type':_0x40a41f(0x205),'enum':['multiple_choice',_0x40a41f(0x1c1),_0x40a41f(0x275),_0x40a41f(0x6cc)]},'options':{'type':_0x40a41f(0x3a6),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x40a41f(0x72a)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x40a41f(0x97e)},'stem':{'type':_0x40a41f(0x205)},'correctResponse':{'type':_0x40a41f(0x205)},'allResponses':{'type':_0x40a41f(0x3a6),'items':{'type':'STRING'}},'explanation':{'type':_0x40a41f(0x205)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x40a41f(0x8cb)]},_0x50f479={'type':_0x40a41f(0x1e7),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4411f7}},'required':['topic','questions']},_0x4e3129=await callAnalysisApi(_0x474eea,_0x50f479);_0x4e3129&&_0x4e3129['questions']&&_0x4e3129[_0x40a41f(0x6ba)][_0x40a41f(0x597)](_0x944baa=>{const _0x2ee84c=_0x40a41f;if(_0x944baa[_0x2ee84c(0x594)]){const _0x424d3c=_0x944baa['imageCode'][_0x2ee84c(0x168)]();_0x424d3c===''||_0x424d3c['toLowerCase']()===_0x2ee84c(0x139)||!_0x424d3c[_0x2ee84c(0x397)](_0x2ee84c(0x3e8))?delete _0x944baa[_0x2ee84c(0x594)]:_0x944baa[_0x2ee84c(0x594)]=_0x424d3c;}});const _0x44207a=_0x4e3129[_0x40a41f(0x6ba)][_0x40a41f(0x7bf)]((_0x230f7d,_0x15a354)=>({..._0x230f7d,'id':'q_'+Date[_0x40a41f(0x504)]()+'_'+_0x15a354})),_0x3b1c8f=_0x40a41f(0x503)+_0x1c2497['topic'],_0xaddc07={'topic':_0x3b1c8f,'questions':_0x44207a,'quizType':_0x1c2497[_0x40a41f(0xa11)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x40a41f(0x211)](),'status':_0x40a41f(0x55c),'settings':_0x1c2497['settings'],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};await addDoc(collection(db,_0x40a41f(0x573)+appId+_0x40a41f(0x5df)),_0xaddc07),showMessage(_0x40a41f(0x180));}catch(_0x271acf){console[_0x40a41f(0x2a8)](_0x40a41f(0x868),_0x271acf),showMessage(_0x40a41f(0x607)+_0x271acf[_0x40a41f(0x216)]);}finally{const _0x47a44b=document[_0x40a41f(0x26b)](_0x40a41f(0x9ce));_0x47a44b&&_0x47a44b['remove'](),_0x2bf848['classList'][_0x40a41f(0x953)](_0x40a41f(0x2d5));}}async function handleGenerateParallelPostTest(_0x2385f1){const _0x3a8182=_0x3de37b,_0x1a29ea=document[_0x3a8182(0x26b)]('results-tab-content'),_0x4c0982=document[_0x3a8182(0x26b)]('project-quizzes-list');_0x4c0982['classList']['add'](_0x3a8182(0x2d5));const _0x55fa4c=_0x3a8182(0x99d);_0x1a29ea['insertAdjacentHTML'](_0x3a8182(0x94d),_0x55fa4c);try{const _0x560b64=_0x2385f1[_0x3a8182(0x6ba)]['map']((_0x5e6104,_0xd6d57b)=>{const _0x30c227=_0x3a8182;let _0x17d4ce=_0xd6d57b+0x1+'.\x20'+(_0x5e6104[_0x30c227(0x19b)]||_0x5e6104[_0x30c227(0x622)]);if(_0x5e6104['options'])_0x17d4ce+=_0x30c227(0x6c0)+_0x5e6104[_0x30c227(0x8e3)][_0x30c227(0xa17)](',\x20');return _0x17d4ce;})[_0x3a8182(0xa17)]('\x0a\x0a'),_0x32adb7=_0x3a8182(0x254)+_0x2385f1[_0x3a8182(0x680)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x560b64+_0x3a8182(0x333)+simpleMathPrompt+_0x3a8182(0x294),_0x2533e0={'type':'OBJECT','properties':{'topic':{'type':_0x3a8182(0x205)},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3a8182(0x205)},'options':{'type':'ARRAY','items':{'type':_0x3a8182(0x205)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3a8182(0x205)},'explanation':{'type':_0x3a8182(0x205)}},'required':['questionText',_0x3a8182(0x8cb)]}}},'required':[_0x3a8182(0x680),_0x3a8182(0x6ba)]},_0x70a03d=await callAnalysisApi(_0x32adb7,_0x2533e0),_0x369d60=_0x2385f1[_0x3a8182(0x680)]['replace'](_0x3a8182(0x175),'')[_0x3a8182(0x168)](),_0x46ff09='(หลังเรียน)\x20'+_0x369d60,_0x2225d5={..._0x70a03d,'topic':_0x46ff09,'quizType':_0x2385f1['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3a8182(0x211)](),'status':'active','settings':_0x2385f1[_0x3a8182(0x81e)],'quizMode':_0x3a8182(0x8e8),'pairedQuizId':_0x2385f1['id']};let _0xca9c39;while(!![]){_0xca9c39=Math[_0x3a8182(0x48a)](0x3e8+Math[_0x3a8182(0x3d1)]()*0x2328)[_0x3a8182(0x400)]();const _0x34354f=await getDoc(doc(db,_0x3a8182(0x573)+appId+_0x3a8182(0x5df),_0xca9c39));if(!_0x34354f[_0x3a8182(0x42d)]())break;}await setDoc(doc(db,_0x3a8182(0x573)+appId+_0x3a8182(0x5df),_0xca9c39),_0x2225d5);const _0x508c1a=doc(db,_0x3a8182(0x573)+appId+_0x3a8182(0x5df),_0x2385f1['id']);await updateDoc(_0x508c1a,{'pairedQuizId':_0xca9c39}),showMessage(_0x3a8182(0x219));}catch(_0x31057a){console[_0x3a8182(0x2a8)](_0x3a8182(0x58e),_0x31057a),showMessage(_0x3a8182(0x607)+_0x31057a[_0x3a8182(0x216)]);}finally{const _0x27e98b=document[_0x3a8182(0x26b)](_0x3a8182(0x9ce));if(_0x27e98b)_0x27e98b['remove']();_0x4c0982[_0x3a8182(0x74c)][_0x3a8182(0x953)](_0x3a8182(0x2d5));}}async function handleGenerateParallelTest(){const _0x5a2085=_0x3de37b,_0x25ca1c=document[_0x5a2085(0x26b)](_0x5a2085(0x68e)),_0x54b5d9=_0x25ca1c[_0x5a2085(0x6b9)][0x0];if(!_0x54b5d9){showMessage(_0x5a2085(0x9ed));return;}const _0x184e9b=document['getElementById']('loader'),_0x47407e=document['getElementById']('loader-text'),_0xce3d5b=document[_0x5a2085(0x26b)](_0x5a2085(0x775)),_0x5a8309=document[_0x5a2085(0x26b)](_0x5a2085(0x649));_0x5a8309[_0x5a2085(0x865)]=!![],document['getElementById'](_0x5a2085(0x114))[_0x5a2085(0x74c)][_0x5a2085(0x953)](_0x5a2085(0x2d5)),_0xce3d5b[_0x5a2085(0x9ba)]='',_0x184e9b['classList'][_0x5a2085(0x953)](_0x5a2085(0x2d5)),_0x47407e[_0x5a2085(0x64c)]=_0x5a2085(0x870);try{const _0xdc7bb0=await extractTextFromPdf(_0x54b5d9);if(!_0xdc7bb0[_0x5a2085(0x168)]())throw new Error(_0x5a2085(0x4c4));_0x47407e[_0x5a2085(0x64c)]=_0x5a2085(0x99b);const _0x57d204=document[_0x5a2085(0x26b)](_0x5a2085(0x75d))[_0x5a2085(0x268)],_0x1535e3=_0x57d204?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x304b21=_0x5a2085(0x532)+_0xdc7bb0+_0x5a2085(0x329)+_0x1535e3+_0x5a2085(0x122)+simpleMathPrompt+_0x5a2085(0x294),_0x1f1ac4={'type':_0x5a2085(0x1e7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0x5a2085(0x1c1)]},'options':{'type':'ARRAY','items':{'type':_0x5a2085(0x205)}},'correctAnswerIndex':{'type':_0x5a2085(0x72a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5a2085(0x205)},'imageCode':{'type':'STRING'}},'required':[_0x5a2085(0x19b),_0x5a2085(0x14b),_0x5a2085(0x8cb)]},_0x20fc0b={'type':_0x5a2085(0x1e7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5a2085(0x3a6),'items':_0x1f1ac4}},'required':[_0x5a2085(0x680),'questions']};await handleApiCall(_0x304b21,_0x5a2085(0x2e7),_0x20fc0b);}catch(_0x315b28){console['error'](_0x5a2085(0xa2a),_0x315b28),showMessage('เกิดข้อผิดพลาด:\x20'+_0x315b28[_0x5a2085(0x216)]),_0xce3d5b[_0x5a2085(0x9ba)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x184e9b['classList'][_0x5a2085(0x1c0)](_0x5a2085(0x2d5)),_0x5a8309[_0x5a2085(0x865)]=![];}}async function handleRegenerateQuestionInEditor(_0x47368e){const _0x6621be=_0x3de37b;if(currentEditingQuizData===null)return;const _0x2d5f62=document['querySelector'](_0x6621be(0xa43)+_0x47368e+'\x22]');_0x2d5f62&&(_0x2d5f62[_0x6621be(0x9ba)]=_0x6621be(0x960));const _0x5e164c=currentEditingQuizData[_0x6621be(0x6ba)][_0x47368e],_0x252af4=currentEditingQuizData[_0x6621be(0x680)],_0x267c79=_0x5e164c['questionType'],_0x3a141b={'type':_0x6621be(0x1e7),'properties':{'questionText':{'type':_0x6621be(0x205)},'options':{'type':_0x6621be(0x3a6),'items':{'type':_0x6621be(0x205)}},'correctAnswerIndex':{'type':_0x6621be(0x72a)},'explanation':{'type':_0x6621be(0x205)}},'required':['questionText',_0x6621be(0x8e3),_0x6621be(0x7d9),_0x6621be(0x8cb)]},_0x12edcc={'type':_0x6621be(0x1e7),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x6621be(0x205)},'explanation':{'type':_0x6621be(0x205)}},'required':[_0x6621be(0x19b),'idealAnswer',_0x6621be(0x8cb)]};let _0x3782e3,_0x9128a6='';_0x267c79===_0x6621be(0x153)?(_0x3782e3=_0x3a141b,_0x9128a6=_0x6621be(0x2b4)):(_0x3782e3=_0x12edcc,_0x9128a6='แบบเติมคำตอบ');const _0x596ba0='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x252af4+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x9128a6+_0x6621be(0x5cd)+(_0x5e164c[_0x6621be(0x19b)]||_0x5e164c[_0x6621be(0x622)])+_0x6621be(0x255)+simpleMathPrompt;try{const _0x3ad7dd=await callAnalysisApi(_0x596ba0,_0x3782e3);currentEditingQuizData[_0x6621be(0x6ba)][_0x47368e]={..._0x5e164c,..._0x3ad7dd},renderQuizEditor(currentEditingQuizData);}catch(_0x32b415){console[_0x6621be(0x2a8)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x32b415),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x276746=_0x3de37b,_0x149c43=document['getElementById'](_0x276746(0x5fa));currentMode===_0x276746(0x836)?(currentMode=_0x276746(0x9ca),_0x149c43[_0x276746(0x9ba)]=_0x276746(0x646),_0x149c43[_0x276746(0x8c4)]='สลับไปโหมดนักเรียน',showView(_0x276746(0x73b))):(currentMode=_0x276746(0x836),_0x149c43['innerHTML']=_0x276746(0x487),_0x149c43[_0x276746(0x8c4)]=_0x276746(0x9d9),showView(_0x276746(0x836)));}function handleAdminLogin(){const _0x368a08=_0x3de37b,_0x238618=document[_0x368a08(0x26b)](_0x368a08(0x1e9)),_0x277580=document[_0x368a08(0x26b)](_0x368a08(0x630));if(_0x238618[_0x368a08(0x884)]===_0x368a08(0x75b)){adminPasswordModal[_0x368a08(0x74c)]['add'](_0x368a08(0x2d5)),_0x238618[_0x368a08(0x884)]='',_0x277580[_0x368a08(0x74c)][_0x368a08(0x1c0)](_0x368a08(0x2d5)),currentMode='admin';const _0x3ac4ec=document['getElementById'](_0x368a08(0x5fa));_0x3ac4ec['innerHTML']=_0x368a08(0x646),_0x3ac4ec[_0x368a08(0x8c4)]=_0x368a08(0x539),showView(_0x368a08(0x73b));}else _0x277580[_0x368a08(0x74c)]['remove']('hidden'),_0x238618[_0x368a08(0x884)]='';}function switchProjectTab(_0x16ab9b){const _0x4a5864=_0x3de37b;[_0x4a5864(0x9c5),_0x4a5864(0x9bd),'leaderboard']['forEach'](_0x4e3ffb=>{const _0xcf160e=_0x4a5864;document[_0xcf160e(0x26b)](_0x4e3ffb+_0xcf160e(0xa4a))[_0xcf160e(0x74c)]['remove'](_0xcf160e(0x55c)),document[_0xcf160e(0x26b)](_0x4e3ffb+_0xcf160e(0x6d4))[_0xcf160e(0x74c)][_0xcf160e(0x1c0)](_0xcf160e(0x2d5));}),document[_0x4a5864(0x26b)](_0x16ab9b+_0x4a5864(0xa4a))[_0x4a5864(0x74c)][_0x4a5864(0x1c0)](_0x4a5864(0x55c)),document[_0x4a5864(0x26b)](_0x16ab9b+_0x4a5864(0x6d4))[_0x4a5864(0x74c)][_0x4a5864(0x953)](_0x4a5864(0x2d5));}function switchQuizDetailTab(_0x3aa496){const _0xf81837=_0x3de37b,_0x5474fe={'analytics':{'btn':_0xf81837(0x3a7),'content':_0xf81837(0x76d)},'scores':{'btn':'scores-tab-btn','content':_0xf81837(0x6c1)},'leaderboard-quiz':{'btn':_0xf81837(0x25a),'content':_0xf81837(0x44a)},'behavior-log':{'btn':_0xf81837(0x185),'content':'behavior-log-tab-content'}};for(const _0x1cfb97 in _0x5474fe){document['getElementById'](_0x5474fe[_0x1cfb97][_0xf81837(0x72d)])[_0xf81837(0x74c)]['remove'](_0xf81837(0x55c)),document['getElementById'](_0x5474fe[_0x1cfb97][_0xf81837(0x8db)])['classList']['add'](_0xf81837(0x2d5));}document[_0xf81837(0x26b)](_0x5474fe[_0x3aa496][_0xf81837(0x72d)])['classList'][_0xf81837(0x1c0)]('active'),document['getElementById'](_0x5474fe[_0x3aa496][_0xf81837(0x8db)])[_0xf81837(0x74c)][_0xf81837(0x953)](_0xf81837(0x2d5));}function showMessage(_0x374e8d,_0x44cec8=null){const _0x4c99f4=_0x3de37b;modalMessage[_0x4c99f4(0x64c)]=_0x374e8d,modalConfirmAction=_0x44cec8,messageModal[_0x4c99f4(0x74c)][_0x4c99f4(0x953)]('hidden');}function showConfirmation(_0x12ccc5,_0x28ac31){const _0x3b5dca=_0x3de37b;document[_0x3b5dca(0x26b)]('confirmation-message')[_0x3b5dca(0x64c)]=_0x12ccc5,document['getElementById'](_0x3b5dca(0x1b0))[_0x3b5dca(0x8f1)]('h3')[_0x3b5dca(0x64c)]='ยืนยันการกระทำ',confirmAction=_0x28ac31,confirmationModal[_0x3b5dca(0x74c)]['remove'](_0x3b5dca(0x2d5));}function listenForProjects(){const _0x569966=_0x3de37b,_0x3890c9=doc(db,'globalSettings',_0x569966(0x612));onSnapshot(_0x3890c9,_0x422469=>{const _0x437cd1=_0x569966;if(_0x422469[_0x437cd1(0x42d)]()){const _0x5c39e9=_0x422469['data']();globalDashboardSettings[_0x437cd1(0x3e1)]=_0x5c39e9[_0x437cd1(0x3e1)]||_0x437cd1(0x280),globalDashboardSettings[_0x437cd1(0x92a)]=_0x5c39e9[_0x437cd1(0x92a)]||[],globalDashboardSettings[_0x437cd1(0x16e)]=_0x5c39e9['projectOrder']||[];}allProjects[_0x437cd1(0x579)]>0x0&&renderProjects();});const _0xb29eec=collection(db,_0x569966(0x573)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0xb29eec,_0x49e405=>{const _0x4f1dee=_0x569966;allProjects=_0x49e405['docs'][_0x4f1dee(0x7bf)](_0x45d291=>({'id':_0x45d291['id'],..._0x45d291[_0x4f1dee(0x51a)]()})),renderProjects();},_0xbe349b=>{const _0x4b7cdd=_0x569966;console['error']('Error\x20listening\x20for\x20projects:',_0xbe349b),showMessage(_0x4b7cdd(0x97f));});}function showColorPalette(_0x43913e,_0x8606ae){const _0xa8ece0=_0x3de37b;document[_0xa8ece0(0x303)](_0xa8ece0(0x1ac))[_0xa8ece0(0x597)](_0x342e66=>_0x342e66[_0xa8ece0(0x953)]());const _0x45caa1=['#FFFFFF',_0xa8ece0(0x301),_0xa8ece0(0x4b4),_0xa8ece0(0x166),_0xa8ece0(0x709),_0xa8ece0(0x62a),_0xa8ece0(0x837),'#FCE7F3',_0xa8ece0(0x769)],_0x188ea8=document['createElement']('div');_0x188ea8[_0xa8ece0(0x6e3)]=_0xa8ece0(0x78a),_0x45caa1['forEach'](_0x583107=>{const _0x5e3311=_0xa8ece0,_0x31f9d7=document[_0x5e3311(0x496)](_0x5e3311(0x5e7));_0x31f9d7[_0x5e3311(0x6e3)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x31f9d7['style'][_0x5e3311(0x83b)]=_0x583107,_0x31f9d7[_0x5e3311(0x813)](_0x5e3311(0x8c2),()=>{const _0x55e39f=_0x5e3311;handleProjectColorChange(_0x8606ae,_0x583107),_0x188ea8[_0x55e39f(0x953)]();}),_0x188ea8[_0x5e3311(0x4c1)](_0x31f9d7);}),document[_0xa8ece0(0x531)][_0xa8ece0(0x4c1)](_0x188ea8);const _0x2440bd=_0x43913e[_0xa8ece0(0x6b8)]();_0x188ea8[_0xa8ece0(0x12e)][_0xa8ece0(0x42c)]=_0x2440bd['bottom']+window[_0xa8ece0(0x42f)]+'px',_0x188ea8[_0xa8ece0(0x12e)]['left']=_0x2440bd[_0xa8ece0(0x808)]+window['scrollX']-_0x188ea8['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x20af3b,_0x30f7a0){const _0x2b9766=_0x3de37b,_0x52e231=doc(db,_0x2b9766(0x573)+appId+'/public/data/projects',_0x20af3b);try{await updateDoc(_0x52e231,{'color':_0x30f7a0});}catch(_0x33cd5f){console['error'](_0x2b9766(0x32a),_0x33cd5f),showMessage(_0x2b9766(0x6e2));}}async function renderProjects(){const _0x3134dc=_0x3de37b,_0x3d1d9e=globalDashboardSettings['projectSort']||_0x3134dc(0x280),_0x3a5a8d=new Set(globalDashboardSettings[_0x3134dc(0x92a)]||[]),_0x237f5a=globalDashboardSettings['projectView']||_0x3134dc(0x57a),_0x283b08=document[_0x3134dc(0x26b)]('grid-view-btn'),_0x2e9c60=document[_0x3134dc(0x26b)](_0x3134dc(0x970));_0x283b08[_0x3134dc(0x74c)][_0x3134dc(0x430)](_0x3134dc(0x55c),_0x237f5a===_0x3134dc(0x57a)),_0x2e9c60[_0x3134dc(0x74c)][_0x3134dc(0x430)](_0x3134dc(0x55c),_0x237f5a==='list'),document[_0x3134dc(0x26b)]('project-sort-select')[_0x3134dc(0x884)]=_0x3d1d9e;const _0x24485c=document[_0x3134dc(0x26b)]('project-search-input')['value'][_0x3134dc(0x82b)]();let _0xdd1f9=allProjects['filter'](_0x47c57e=>_0x47c57e[_0x3134dc(0x5ab)][_0x3134dc(0x82b)]()[_0x3134dc(0x15f)](_0x24485c));const _0x2e407f=_0xdd1f9[_0x3134dc(0x2bf)](_0x4f0c43=>_0x3a5a8d[_0x3134dc(0x50f)](_0x4f0c43['id'])),_0x388441=_0xdd1f9[_0x3134dc(0x2bf)](_0x50156b=>!_0x3a5a8d[_0x3134dc(0x50f)](_0x50156b['id'])),_0x242772=(_0x1f9cd5,_0x2b6100)=>{const _0x114a23=_0x3134dc;switch(_0x3d1d9e){case _0x114a23(0x48b):return _0x1f9cd5[_0x114a23(0x5ab)][_0x114a23(0x668)](_0x2b6100[_0x114a23(0x5ab)],'th');case _0x114a23(0x2d1):return _0x2b6100[_0x114a23(0x5ab)][_0x114a23(0x668)](_0x1f9cd5['projectName'],'th');case _0x114a23(0x505):return new Date(_0x1f9cd5[_0x114a23(0x78c)])-new Date(_0x2b6100[_0x114a23(0x78c)]);default:return new Date(_0x2b6100['createdAt'])-new Date(_0x1f9cd5[_0x114a23(0x78c)]);}};_0x2e407f[_0x3134dc(0x9c4)](_0x242772),_0x388441[_0x3134dc(0x9c4)](_0x242772);const _0x30aae2=[..._0x2e407f,..._0x388441],_0x232b4c=globalDashboardSettings[_0x3134dc(0x16e)]||[];_0x232b4c[_0x3134dc(0x579)]>0x0&&_0x237f5a==='grid'&&_0x30aae2[_0x3134dc(0x9c4)]((_0x566cde,_0x49a5e2)=>{const _0x548065=_0x3134dc,_0x3d3ae8=_0x232b4c[_0x548065(0x87e)](_0x566cde['id']),_0x1711bf=_0x232b4c[_0x548065(0x87e)](_0x49a5e2['id']);if(_0x3d3ae8===-0x1)return 0x1;if(_0x1711bf===-0x1)return-0x1;return _0x3d3ae8-_0x1711bf;});const _0x3ccb5b={};await Promise[_0x3134dc(0x3cd)](_0x30aae2[_0x3134dc(0x7bf)](async _0x21ac2b=>{const _0x30adee=_0x3134dc,_0x3aa6a0=query(collection(db,_0x30adee(0x573)+appId+_0x30adee(0x5df)),where(_0x30adee(0x551),'==',_0x21ac2b['id'])),_0x3c8945=await getDocs(_0x3aa6a0);_0x3ccb5b[_0x21ac2b['id']]=_0x3c8945[_0x30adee(0x386)];}));const _0x4668e5=document[_0x3134dc(0x26b)]('project-list');let _0x237191='';if(_0x237f5a===_0x3134dc(0x57a)){_0x4668e5[_0x3134dc(0x6e3)]=_0x3134dc(0x509);if(starredQuizzes[_0x3134dc(0x579)]>0x0&&_0x24485c===''){const _0x3b016a=starredQuizzes[_0x3134dc(0x7bf)](_0x1df480=>{const _0xcafb4e=_0x3134dc,_0x2ea7d3=allProjects[_0xcafb4e(0x1da)](_0x23d4d1=>_0x23d4d1['id']===_0x1df480[_0xcafb4e(0x551)]);return{..._0x1df480,'projectName':_0x2ea7d3?_0x2ea7d3['projectName']:_0xcafb4e(0x4e2)};});_0x237191+=_0x3134dc(0x188)+_0x3b016a[_0x3134dc(0x7bf)](_0x4c9dfa=>_0x3134dc(0x881)+_0x4c9dfa[_0x3134dc(0x680)]+'\x22>'+_0x4c9dfa[_0x3134dc(0x680)]+_0x3134dc(0x909)+_0x4c9dfa[_0x3134dc(0x5ab)]+_0x3134dc(0x7b6)+_0x4c9dfa[_0x3134dc(0x5ab)]+_0x3134dc(0x7f7))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x3134dc(0x579)]+_0x3134dc(0x77f);}_0x30aae2[_0x3134dc(0x597)](_0x2fc08c=>{const _0x45711c=_0x3134dc,_0x56cc81=_0x3ccb5b[_0x2fc08c['id']]??0x0,_0x2a96b5=_0x3a5a8d['has'](_0x2fc08c['id']),_0x3cd9dc=_0x2fc08c['color']||_0x45711c(0x7a3),_0x1c5389=parseInt(_0x3cd9dc[_0x45711c(0x450)](0x1,0x3),0x10)*0.299+parseInt(_0x3cd9dc[_0x45711c(0x450)](0x3,0x5),0x10)*0.587+parseInt(_0x3cd9dc[_0x45711c(0x450)](0x5,0x7),0x10)*0.114<0xba,_0x103488=_0x1c5389?_0x45711c(0x3b0):_0x45711c(0xa0f),_0x4e2b61=_0x1c5389?_0x45711c(0x8e9):_0x45711c(0x815);_0x237191+=_0x45711c(0x9f1)+(_0x2a96b5?_0x45711c(0x32d):_0x45711c(0x3de))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x3cd9dc+_0x45711c(0x591)+_0x2fc08c['id']+_0x45711c(0x5fb)+_0x2fc08c['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x1c5389?_0x45711c(0x9e0):'text-gray-400\x20hover:text-indigo-600')+_0x45711c(0x5ad)+_0x2fc08c['id']+_0x45711c(0x101)+(_0x1c5389?'text-gray-300\x20hover:text-white':_0x45711c(0x15d))+_0x45711c(0x931)+(_0x2a96b5?_0x1c5389?'text-yellow-300':_0x45711c(0x4fa):'')+_0x45711c(0x5ea)+_0x2fc08c['id']+_0x45711c(0x353)+_0x103488+'\x20pointer-events-none\x22>'+_0x2fc08c['projectName']+_0x45711c(0x3af)+_0x4e2b61+_0x45711c(0x60e)+new Date(_0x2fc08c[_0x45711c(0x78c)])[_0x45711c(0x822)](_0x45711c(0x1ba))+_0x45711c(0x1fb)+(_0x1c5389?_0x45711c(0xa47):_0x45711c(0x6e6))+_0x45711c(0x711)+_0x56cc81+_0x45711c(0x839)+_0x2fc08c['id']+_0x45711c(0x4d2)+_0x2fc08c[_0x45711c(0x5ab)]+_0x45711c(0x792)+(_0x1c5389?_0x45711c(0x581):'text-red-500\x20hover:text-red-700')+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x4668e5[_0x3134dc(0x6e3)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x3134dc(0x579)]>0x0&&_0x24485c===''&&(_0x237191+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+_0x3134dc(0x22c)),_0x237191+=_0x3134dc(0xa29),_0x30aae2[_0x3134dc(0x597)](_0x3c337e=>{const _0x763e50=_0x3134dc,_0x3ac864=_0x3ccb5b[_0x3c337e['id']]??0x0,_0x3a615e=_0x3a5a8d[_0x763e50(0x50f)](_0x3c337e['id']);_0x237191+=_0x763e50(0x975)+(_0x3c337e[_0x763e50(0x687)]||_0x763e50(0x769))+_0x763e50(0x403)+_0x3c337e['id']+_0x763e50(0x420)+_0x3c337e[_0x763e50(0x5ab)]+_0x763e50(0x6d3)+_0x3ac864+_0x763e50(0x8dd)+new Date(_0x3c337e[_0x763e50(0x78c)])[_0x763e50(0x8e2)]('th-TH')+_0x763e50(0x8f0)+_0x3c337e['id']+_0x763e50(0x8da)+(_0x3a615e?_0x763e50(0x4fa):'')+_0x763e50(0x756)+_0x3c337e['id']+_0x763e50(0x4d2)+_0x3c337e[_0x763e50(0x5ab)]+_0x763e50(0x720);});projectList['innerHTML']=_0x237191,noProjectsMsg[_0x3134dc(0x74c)][_0x3134dc(0x430)](_0x3134dc(0x2d5),_0x237191['length']>0x0);}document[_0x3de37b(0x26b)](_0x3de37b(0x7f4))[_0x3de37b(0x813)]('click',async()=>{const _0x3a286b=_0x3de37b,_0x375d93=document[_0x3a286b(0x26b)](_0x3a286b(0x2e6)),_0x320859=_0x375d93['value']['trim']();if(!_0x320859){showMessage(_0x3a286b(0x2ec));return;}try{const _0x3b9749=doc(collection(db,_0x3a286b(0x573)+appId+_0x3a286b(0x72b)));await setDoc(_0x3b9749,{'projectName':_0x320859,'students':[],'settings':{'resultsDisplay':_0x3a286b(0x5b6),'shuffleSetting':_0x3a286b(0x6ec),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3a286b(0x6ec),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x375d93[_0x3a286b(0x884)]='',createProjectModal[_0x3a286b(0x74c)][_0x3a286b(0x1c0)](_0x3a286b(0x2d5)),showMessage(_0x3a286b(0x383));}catch(_0x120c2e){console[_0x3a286b(0x2a8)]('Error\x20creating\x20project:',_0x120c2e),showMessage(_0x3a286b(0x71d));}}),projectList[_0x3de37b(0x813)]('click',async _0x5beae9=>{const _0x16a06c=_0x3de37b,_0x1e4d49=_0x5beae9[_0x16a06c(0x22f)][_0x16a06c(0x8ce)](_0x16a06c(0x9f8)),_0x405f0d=_0x5beae9[_0x16a06c(0x22f)][_0x16a06c(0x8ce)](_0x16a06c(0x3a8)),_0x1a35c7=_0x5beae9['target'][_0x16a06c(0x8ce)]('.pin-project-btn'),_0x22976b=_0x5beae9[_0x16a06c(0x22f)][_0x16a06c(0x8ce)](_0x16a06c(0x146));if(_0x1a35c7){const _0x7cf1c6=_0x1a35c7[_0x16a06c(0x4ae)]['id'],_0x8a0657=doc(db,'globalSettings',_0x16a06c(0x612)),_0x361d35=globalDashboardSettings[_0x16a06c(0x92a)];let _0x3d6b44;_0x361d35[_0x16a06c(0x15f)](_0x7cf1c6)?_0x3d6b44=_0x361d35[_0x16a06c(0x2bf)](_0x1673a3=>_0x1673a3!==_0x7cf1c6):_0x3d6b44=[..._0x361d35,_0x7cf1c6];try{await setDoc(_0x8a0657,{'pinnedProjects':_0x3d6b44},{'merge':!![]});}catch(_0x4351f6){console[_0x16a06c(0x2a8)](_0x16a06c(0x633),_0x4351f6),showMessage(_0x16a06c(0x429));}}else{if(_0x22976b){const _0x584c60=_0x22976b[_0x16a06c(0x4ae)]['id'];showColorPalette(_0x22976b,_0x584c60);}else{if(_0x1e4d49){const _0x31ae69=_0x1e4d49[_0x16a06c(0x4ae)]['id'];_0x31ae69===_0x16a06c(0x519)?showStarredProjectView():(currentProjectId=_0x31ae69,await loadProjectDetails(currentProjectId),showView(_0x16a06c(0x133)));}else{if(_0x405f0d){const _0x245b69=_0x405f0d[_0x16a06c(0x4ae)]['id'],_0x1b467b=_0x405f0d['dataset'][_0x16a06c(0x234)];showConfirmation(_0x16a06c(0x67c)+_0x1b467b+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x245b69));}}}}}),projectList[_0x3de37b(0x813)](_0x3de37b(0x1c8),_0x861f70=>{const _0x1ae266=_0x3de37b,_0x300e18=_0x861f70[_0x1ae266(0x22f)][_0x1ae266(0x8ce)](_0x1ae266(0x5c1));_0x300e18&&_0x300e18[_0x1ae266(0x74c)][_0x1ae266(0x1c0)](_0x1ae266(0x1b9));}),projectList[_0x3de37b(0x813)]('dragend',_0x155ba6=>{const _0x1d8351=_0x3de37b,_0x3256ff=_0x155ba6[_0x1d8351(0x22f)]['closest'](_0x1d8351(0x5c1));_0x3256ff&&_0x3256ff[_0x1d8351(0x74c)][_0x1d8351(0x953)]('opacity-50');}),projectList[_0x3de37b(0x813)]('dragover',_0xc1868e=>{const _0x47cee5=_0x3de37b;_0xc1868e[_0x47cee5(0xa3e)]();const _0x55d4c3=document['querySelector'](_0x47cee5(0x469));if(!_0x55d4c3)return;const _0x181909=getDragAfterElement(projectList,_0xc1868e[_0x47cee5(0x7d7)]);_0x181909==null?projectList['appendChild'](_0x55d4c3):projectList[_0x47cee5(0x560)](_0x55d4c3,_0x181909);}),projectList[_0x3de37b(0x813)](_0x3de37b(0x98b),_0x24d59c=>{const _0x3d7163=_0x3de37b;_0x24d59c[_0x3d7163(0xa3e)]();const _0x289d33=[...projectList['querySelectorAll'](_0x3d7163(0x661))]['map'](_0x2a333d=>_0x2a333d[_0x3d7163(0x4ae)]['id']);saveProjectOrder(_0x289d33);});function renderBehaviorLog(_0x25e618){const _0x26eb70=_0x3de37b,_0x5c9c84=document[_0x26eb70(0x26b)]('behavior-log-container');if(!_0x5c9c84)return;const _0x321537=_0x25e618[_0x26eb70(0x2bf)](_0x2ebb80=>_0x2ebb80[_0x26eb70(0x13f)]&&_0x2ebb80[_0x26eb70(0x13f)]['length']>0x0);if(_0x321537[_0x26eb70(0x579)]===0x0){_0x5c9c84[_0x26eb70(0x9ba)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0xcf8806='';_0x321537[_0x26eb70(0x597)](_0x7eb7aa=>{const _0x501da8=_0x26eb70;_0xcf8806+=_0x501da8(0x23f)+_0x7eb7aa[_0x501da8(0xfd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x7eb7aa[_0x501da8(0x13f)]['sort']((_0x1df1d2,_0x4f11c2)=>new Date(_0x4f11c2[_0x501da8(0x8ec)])-new Date(_0x1df1d2[_0x501da8(0x8ec)]))[_0x501da8(0x597)](_0x5e5d3c=>{const _0x484a2e=_0x501da8,_0x446311=new Date(_0x5e5d3c[_0x484a2e(0x8ec)])[_0x484a2e(0x8e2)](_0x484a2e(0x1ba),{'dateStyle':_0x484a2e(0x969),'timeStyle':'medium'});_0xcf8806+=_0x484a2e(0x66f)+_0x5e5d3c['attemptNumber']+_0x484a2e(0x20b)+_0x446311+_0x484a2e(0x207);}),_0xcf8806+=_0x501da8(0x418);}),_0x5c9c84[_0x26eb70(0x9ba)]=_0xcf8806;}function getDragAfterElement(_0x12e7c3,_0x573a47){const _0x247b8a=_0x3de37b,_0x13a931=[..._0x12e7c3[_0x247b8a(0x303)](_0x247b8a(0x74f))];return _0x13a931['reduce']((_0x5c6ec3,_0x8a0539)=>{const _0x24e49e=_0x247b8a,_0x587767=_0x8a0539[_0x24e49e(0x6b8)](),_0x55075a=_0x573a47-_0x587767[_0x24e49e(0x42c)]-_0x587767['height']/0x2;return _0x55075a<0x0&&_0x55075a>_0x5c6ec3['offset']?{'offset':_0x55075a,'element':_0x8a0539}:_0x5c6ec3;},{'offset':Number[_0x247b8a(0x973)]})[_0x247b8a(0x351)];}async function saveProjectOrder(_0x49f182){const _0x56807b=_0x3de37b,_0x406a94=doc(db,_0x56807b(0x500),'dashboardConfig');try{await setDoc(_0x406a94,{'projectOrder':_0x49f182},{'merge':!![]});}catch(_0x470b1c){console['error'](_0x56807b(0x2e0),_0x470b1c),showMessage(_0x56807b(0x71c));}}async function logBehaviorEvent(_0x495207,_0x3b3baf={}){const _0x22cd21=_0x3de37b;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x22cd21(0xa31));return;}const _0x396169=doc(db,_0x22cd21(0x573)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x22cd21(0x693),currentStudentName),_0x4f00c0={'event':_0x495207,'timestamp':new Date()[_0x22cd21(0x211)](),..._0x3b3baf};try{await updateDoc(_0x396169,{'behaviorLog':arrayUnion(_0x4f00c0)}),console[_0x22cd21(0x1c3)](_0x22cd21(0x2a0)+currentStudentName+_0x22cd21(0x4a2));}catch(_0x33c587){_0x33c587[_0x22cd21(0x8f5)]==='not-found'?console[_0x22cd21(0x4d6)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x22cd21(0x4a7)):console[_0x22cd21(0x2a8)](_0x22cd21(0x8b0),_0x33c587);}}function calculateMeanAndStdDev(_0x335675){const _0x51d870=_0x3de37b;if(_0x335675[_0x51d870(0x579)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x307272=_0x335675[_0x51d870(0x5f2)]((_0x2c8181,_0x3122d9)=>_0x2c8181+_0x3122d9,0x0)/_0x335675[_0x51d870(0x579)];if(_0x335675[_0x51d870(0x579)]===0x1)return{'mean':_0x307272,'stdDev':0x0};const _0x1a2330=Math[_0x51d870(0x40a)](_0x335675[_0x51d870(0x7bf)](_0x26d20d=>Math['pow'](_0x26d20d-_0x307272,0x2))[_0x51d870(0x5f2)]((_0x4afbe1,_0x3946e1)=>_0x4afbe1+_0x3946e1,0x0)/(_0x335675[_0x51d870(0x579)]-0x1));return{'mean':_0x307272,'stdDev':_0x1a2330};}function calculateZScore(_0x38f8fd,_0x2b82b2,_0x4d50c7){if(_0x4d50c7===0x0)return 0x0;return(_0x38f8fd-_0x2b82b2)/_0x4d50c7;}function calculateTScore(_0x7bce6f){return 0xa*_0x7bce6f+0x32;}function showStarredProjectView(){const _0x37bfc3=_0x3de37b;currentProjectId=_0x37bfc3(0x5c9),currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x37bfc3(0x64c)]=_0x37bfc3(0x88e),showView('project-detail'),manageTab[_0x37bfc3(0x74c)][_0x37bfc3(0x1c0)](_0x37bfc3(0x2d5)),leaderboardTab[_0x37bfc3(0x74c)][_0x37bfc3(0x1c0)](_0x37bfc3(0x2d5)),switchProjectTab(_0x37bfc3(0x9bd)),renderQuizzes();}async function loadProjectDetails(_0x33e961){const _0x3a3de1=_0x3de37b,_0x1e21ad=doc(db,_0x3a3de1(0x573)+appId+_0x3a3de1(0x72b),_0x33e961),_0x364319=await getDoc(_0x1e21ad);if(_0x364319[_0x3a3de1(0x42d)]()){manageTab[_0x3a3de1(0x74c)][_0x3a3de1(0x953)](_0x3a3de1(0x2d5)),leaderboardTab[_0x3a3de1(0x74c)]['remove'](_0x3a3de1(0x2d5)),currentProjectData=_0x364319[_0x3a3de1(0x51a)](),projectTitle['textContent']=currentProjectData[_0x3a3de1(0x5ab)],projectIdDisplay[_0x3a3de1(0x64c)]=_0x33e961;const _0x1fb7a2=currentProjectData[_0x3a3de1(0x81e)]||{};document[_0x3a3de1(0x26b)](_0x3a3de1(0x47b))['value']=_0x1fb7a2['shuffleSetting']||'none';const _0x3fc03f=document[_0x3a3de1(0x26b)](_0x3a3de1(0x2d2));_0x3fc03f[_0x3a3de1(0x268)]=_0x1fb7a2['showInStudentDashboard']!==![];const _0x482615=document['getElementById'](_0x3a3de1(0x266)),_0x129479=document['getElementById'](_0x3a3de1(0x8ee)),_0x479247=document[_0x3a3de1(0x26b)](_0x3a3de1(0x977)),_0xbed9f4=_0x1fb7a2[_0x3a3de1(0x4cf)]||![];_0x482615[_0x3a3de1(0x268)]=_0xbed9f4,_0x479247[_0x3a3de1(0x884)]=_0x1fb7a2[_0x3a3de1(0x9fb)]||'',_0x129479[_0x3a3de1(0x74c)][_0x3a3de1(0x430)](_0x3a3de1(0x2d5),!_0xbed9f4),_0x482615[_0x3a3de1(0x9a6)]=()=>{const _0x1cd413=_0x3a3de1;_0x129479[_0x1cd413(0x74c)][_0x1cd413(0x430)]('hidden',!_0x482615[_0x1cd413(0x268)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x33e961),listenForProjectQuizzes(_0x33e961),listenForStudentProfiles(_0x33e961);}else showMessage(_0x3a3de1(0x851)),showView(_0x3a3de1(0x73b));}async function handleResetProjectOrder(){const _0x1db5a2=_0x3de37b,_0x531eee=doc(db,_0x1db5a2(0x500),_0x1db5a2(0x612));try{await setDoc(_0x531eee,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1db5a2(0x186));}catch(_0x31945f){console[_0x1db5a2(0x2a8)](_0x1db5a2(0x595),_0x31945f),showMessage(_0x1db5a2(0x2df));}}async function handleTogglePinProject(_0x23c87a){const _0x79cf0c=_0x3de37b;if(!_0x23c87a)return;const _0x44ff9e=doc(db,_0x79cf0c(0x573)+appId+_0x79cf0c(0x72b),_0x23c87a);try{const _0x107a9f=await getDoc(_0x44ff9e);if(_0x107a9f[_0x79cf0c(0x42d)]()){const _0x376a46=_0x107a9f[_0x79cf0c(0x51a)]()[_0x79cf0c(0x54e)]||![];await updateDoc(_0x44ff9e,{'isPinned':!_0x376a46});}}catch(_0x5eea25){console[_0x79cf0c(0x2a8)](_0x79cf0c(0x690),_0x5eea25),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x18ae0a){const _0x4bbe80=_0x3de37b;try{const _0x3dbc65=writeBatch(db),_0x5c9326=collection(db,_0x4bbe80(0x573)+appId+_0x4bbe80(0x5df)),_0x492bed=query(_0x5c9326,where('projectId','==',_0x18ae0a)),_0x26ef09=await getDocs(_0x492bed);for(const _0x323c38 of _0x26ef09[_0x4bbe80(0x7c4)]){const _0x3c9f2d=collection(db,_0x4bbe80(0x573)+appId+_0x4bbe80(0x447)+_0x323c38['id']+'/submissions'),_0x2efe1e=await getDocs(_0x3c9f2d);_0x2efe1e[_0x4bbe80(0x597)](_0x102102=>{const _0x3f84b1=_0x4bbe80;_0x3dbc65['delete'](_0x102102[_0x3f84b1(0x854)]);}),_0x3dbc65[_0x4bbe80(0x6e7)](_0x323c38['ref']);}const _0x349ea6=collection(db,_0x4bbe80(0x573)+appId+_0x4bbe80(0x527)+_0x18ae0a+_0x4bbe80(0x716)),_0x5b81c0=await getDocs(_0x349ea6);_0x5b81c0[_0x4bbe80(0x597)](_0x2391c9=>{const _0x488eff=_0x4bbe80;_0x3dbc65[_0x488eff(0x6e7)](_0x2391c9[_0x488eff(0x854)]);});const _0x2cfb0a=doc(db,'artifacts/'+appId+_0x4bbe80(0x72b),_0x18ae0a);_0x3dbc65[_0x4bbe80(0x6e7)](_0x2cfb0a),await _0x3dbc65[_0x4bbe80(0x937)](),showMessage(_0x4bbe80(0x71f)),showView(_0x4bbe80(0x73b));}catch(_0x24eee8){console['error'](_0x4bbe80(0x8c6),_0x24eee8),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x3de37b(0x26b)](_0x3de37b(0x269))[_0x3de37b(0x813)]('click',async()=>{const _0x43d30a=_0x3de37b;if(!currentProjectId)return;const _0x4e669f={'defaultNumQuestions':parseInt(document['getElementById']('num-questions')[_0x43d30a(0x884)]),'defaultNumChoices':parseInt(document[_0x43d30a(0x26b)](_0x43d30a(0x32b))['value']),'defaultPassingScore':parseInt(document['getElementById'](_0x43d30a(0x297))[_0x43d30a(0x884)]),'resultsDisplay':document[_0x43d30a(0x26b)](_0x43d30a(0x767))['value'],'shuffleSetting':document[_0x43d30a(0x26b)](_0x43d30a(0x47b))['value'],'timerMode':document[_0x43d30a(0x26b)]('timer-mode-select')[_0x43d30a(0x884)],'timerDuration':parseInt(document['getElementById'](_0x43d30a(0x13b))['value'])};try{const _0x74ee43=doc(db,_0x43d30a(0x573)+appId+_0x43d30a(0x72b),currentProjectId);await updateDoc(_0x74ee43,{'settings':_0x4e669f}),showMessage(_0x43d30a(0x743));}catch(_0x4f9e0c){console[_0x43d30a(0x2a8)](_0x43d30a(0x1d4),_0x4f9e0c),showMessage(_0x43d30a(0x8ab));}});function listenForStudents(_0x5159ff){const _0x1aa576=_0x3de37b,_0x3c6a02=doc(db,_0x1aa576(0x573)+appId+_0x1aa576(0x72b),_0x5159ff);unsubscribeStudentsListener=onSnapshot(_0x3c6a02,_0x40e1b6=>{const _0x512f4b=_0x1aa576;if(_0x40e1b6[_0x512f4b(0x42d)]()){const _0x25c6e7=_0x40e1b6[_0x512f4b(0x51a)]();currentProjectData=_0x25c6e7,renderStudentList(_0x25c6e7[_0x512f4b(0x337)]||[]);}});}function renderStudentList(_0x308dc7){const _0x3b9293=_0x3de37b,_0xfb27af=document[_0x3b9293(0x26b)]('delete-all-students-btn');_0x308dc7['length']===0x0?(studentList[_0x3b9293(0x9ba)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0xfb27af[_0x3b9293(0x74c)][_0x3b9293(0x1c0)](_0x3b9293(0x2d5))):(studentList[_0x3b9293(0x9ba)]=_0x308dc7[_0x3b9293(0x7bf)](_0x2e82a1=>_0x3b9293(0x5bb)+_0x2e82a1+_0x3b9293(0x619)+_0x2e82a1+_0x3b9293(0x106))[_0x3b9293(0xa17)](''),_0xfb27af[_0x3b9293(0x74c)][_0x3b9293(0x953)]('hidden'));}document[_0x3de37b(0x26b)]('add-student-btn')[_0x3de37b(0x813)](_0x3de37b(0x8c2),async()=>{const _0x114406=_0x3de37b;if(!currentProjectId)return;const _0x4f7156=document['getElementById'](_0x114406(0x3be)),_0x53503e=_0x4f7156[_0x114406(0x884)][_0x114406(0x168)]();if(!_0x53503e){showMessage(_0x114406(0x24e));return;}const _0x5847fd=_0x53503e['split']('\x0a')['map'](_0x2c7973=>_0x2c7973['trim']())[_0x114406(0x2bf)](_0x21e28a=>_0x21e28a);if(_0x5847fd[_0x114406(0x579)]===0x0)return;try{const _0x13b254=doc(db,_0x114406(0x573)+appId+'/public/data/projects',currentProjectId),_0x3d6006=await getDoc(_0x13b254);if(_0x3d6006[_0x114406(0x42d)]()){const _0x28043b=_0x3d6006[_0x114406(0x51a)]()[_0x114406(0x337)]||[],_0x14bad4=[...new Set([..._0x28043b,..._0x5847fd])];await updateDoc(_0x13b254,{'students':_0x14bad4}),_0x4f7156[_0x114406(0x884)]='';}}catch(_0xb6e60b){console['error']('Error\x20adding\x20students:',_0xb6e60b),showMessage(_0x114406(0x8d7));}});async function handleManualQuizPairing(_0x483508){const _0x1414b3=_0x3de37b,_0x4563c8=document[_0x1414b3(0x26b)](_0x1414b3(0x390)),_0x5ddf36=document[_0x1414b3(0x26b)](_0x1414b3(0x647)),_0x5e58e5=_0x4563c8[_0x1414b3(0x8f1)]('h3'),_0x347c1f=document[_0x1414b3(0x26b)](_0x1414b3(0x1a0)),_0x4ac423=document[_0x1414b3(0x26b)](_0x1414b3(0x36d));_0x5e58e5[_0x1414b3(0x64c)]=_0x1414b3(0x523),_0x5ddf36[_0x1414b3(0x9ba)]=_0x1414b3(0x1ca),_0x347c1f[_0x1414b3(0x64c)]=_0x1414b3(0x55d),_0x4563c8[_0x1414b3(0x74c)][_0x1414b3(0x953)]('hidden');const _0x577d85=allQuizzes['filter'](_0x5507ec=>_0x5507ec['id']!==_0x483508);_0x577d85[_0x1414b3(0x579)]===0x0?(_0x5ddf36[_0x1414b3(0x9ba)]=_0x1414b3(0x5ff),_0x347c1f[_0x1414b3(0x865)]=!![]):(_0x5ddf36[_0x1414b3(0x9ba)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x577d85[_0x1414b3(0x7bf)](_0x5c4380=>'<option\x20value=\x22'+_0x5c4380['id']+'\x22>'+_0x5c4380[_0x1414b3(0x680)]+_0x1414b3(0x7a5))[_0x1414b3(0xa17)](''),_0x347c1f['disabled']=![]);const _0x31241b=async()=>{const _0x48a357=_0x1414b3,_0x352c91=_0x5ddf36[_0x48a357(0x884)];if(!_0x352c91){showMessage(_0x48a357(0x944));return;}_0x347c1f['disabled']=!![],_0x347c1f[_0x48a357(0x64c)]=_0x48a357(0x9ef);try{const _0x2d0ce1=doc(db,_0x48a357(0x573)+appId+_0x48a357(0x5df),_0x483508),_0x318976=doc(db,_0x48a357(0x573)+appId+_0x48a357(0x5df),_0x352c91),_0x2a7fcd=writeBatch(db);_0x2a7fcd[_0x48a357(0x5b5)](_0x2d0ce1,{'pairedQuizId':_0x352c91}),_0x2a7fcd[_0x48a357(0x5b5)](_0x318976,{'pairedQuizId':_0x483508}),await _0x2a7fcd['commit'](),showMessage(_0x48a357(0x2f2)),_0x4563c8['classList'][_0x48a357(0x1c0)](_0x48a357(0x2d5));}catch(_0x1d2e92){console['error'](_0x48a357(0x162),_0x1d2e92),showMessage(_0x48a357(0x338));}finally{_0x5e58e5[_0x48a357(0x64c)]=_0x48a357(0x3a0),_0x347c1f[_0x48a357(0x64c)]=_0x48a357(0x9c2),_0x347c1f[_0x48a357(0x865)]=![],_0x347c1f['removeEventListener'](_0x48a357(0x8c2),_0x31241b),_0x4ac423[_0x48a357(0x394)](_0x48a357(0x8c2),_0x162a40);}},_0x162a40=()=>{const _0x513888=_0x1414b3;_0x4563c8[_0x513888(0x74c)][_0x513888(0x1c0)](_0x513888(0x2d5)),_0x5e58e5[_0x513888(0x64c)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x347c1f[_0x513888(0x64c)]=_0x513888(0x9c2),_0x347c1f[_0x513888(0x394)](_0x513888(0x8c2),_0x31241b),_0x4ac423['removeEventListener'](_0x513888(0x8c2),_0x162a40);};_0x347c1f[_0x1414b3(0x813)](_0x1414b3(0x8c2),_0x31241b),_0x4ac423['addEventListener'](_0x1414b3(0x8c2),_0x162a40);}function handleDeleteStudent(_0xd22672){const _0x4c096a=_0x3de37b;showConfirmation(_0x4c096a(0x4d3)+_0xd22672+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x2e47ce=_0x4c096a;if(!currentProjectId||!currentProjectData)return;const _0x4d674b=currentProjectData[_0x2e47ce(0x337)]['filter'](_0x504869=>_0x504869!==_0xd22672);try{const _0x27d6b5=doc(db,_0x2e47ce(0x573)+appId+_0x2e47ce(0x72b),currentProjectId),_0x119de8=doc(db,_0x2e47ce(0x573)+appId+_0x2e47ce(0x527)+currentProjectId+_0x2e47ce(0x716),_0xd22672),_0x42f4fa=writeBatch(db);_0x42f4fa['update'](_0x27d6b5,{'students':_0x4d674b}),_0x42f4fa[_0x2e47ce(0x6e7)](_0x119de8),await _0x42f4fa[_0x2e47ce(0x937)]();}catch(_0x42b9b7){console[_0x2e47ce(0x2a8)](_0x2e47ce(0x533),_0x42b9b7),showMessage(_0x2e47ce(0x717));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x2b3f45=_0x4a4b;if(!currentProjectId)return;try{const _0xf1d8d5=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x1a191f=collection(db,_0x2b3f45(0x573)+appId+_0x2b3f45(0x527)+currentProjectId+_0x2b3f45(0x716)),_0x167591=await getDocs(_0x1a191f),_0x3e3dff=writeBatch(db);_0x3e3dff[_0x2b3f45(0x5b5)](_0xf1d8d5,{'students':[]}),_0x167591[_0x2b3f45(0x597)](_0x296dfc=>_0x3e3dff[_0x2b3f45(0x6e7)](_0x296dfc['ref'])),await _0x3e3dff['commit']();}catch(_0x1714a4){console[_0x2b3f45(0x2a8)]('Error\x20deleting\x20all\x20students:',_0x1714a4),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x1bd163=_0x3de37b;if(!selectedFile){showMessage(_0x1bd163(0x4a4));return;}const _0x58caef=document[_0x1bd163(0x26b)]('loader'),_0x3fda4d=document[_0x1bd163(0x26b)](_0x1bd163(0x750)),_0x26be1b=document[_0x1bd163(0x26b)](_0x1bd163(0x775)),_0x4a6158=document['getElementById'](_0x1bd163(0x529));_0x4a6158[_0x1bd163(0x865)]=!![],document[_0x1bd163(0x26b)](_0x1bd163(0x114))[_0x1bd163(0x74c)][_0x1bd163(0x953)](_0x1bd163(0x2d5)),_0x26be1b[_0x1bd163(0x9ba)]='',_0x58caef[_0x1bd163(0x74c)][_0x1bd163(0x953)](_0x1bd163(0x2d5)),_0x3fda4d[_0x1bd163(0x64c)]=_0x1bd163(0x9a0);const _0x113ce5=new FileReader();_0x113ce5['readAsDataURL'](selectedFile),_0x113ce5[_0x1bd163(0x2db)]=async()=>{const _0x1c89e5=_0x1bd163;try{const _0x4e98c0=_0x113ce5[_0x1c89e5(0xa00)][_0x1c89e5(0x2e3)](',')[0x1],_0x612e30=selectedFile['type'];await generateQuizFromFile(_0x612e30,_0x4e98c0);}catch(_0x9aa387){console[_0x1c89e5(0x2a8)](_0x1c89e5(0x51e),_0x9aa387),showMessage(_0x1c89e5(0x855)+_0x9aa387[_0x1c89e5(0x216)]),_0x58caef[_0x1c89e5(0x74c)][_0x1c89e5(0x1c0)](_0x1c89e5(0x2d5));}finally{}},_0x113ce5['onerror']=_0x508584=>{const _0x1fd291=_0x1bd163;console[_0x1fd291(0x2a8)](_0x1fd291(0x829),_0x508584),showMessage(_0x1fd291(0x3bc)),_0x58caef[_0x1fd291(0x74c)][_0x1fd291(0x1c0)](_0x1fd291(0x2d5)),_0x4a6158[_0x1fd291(0x865)]=![];};}function autoFormatMath(_0x1fe042){const _0x234100=_0x3de37b;if(typeof _0x1fe042!=='string'||!_0x1fe042)return _0x1fe042;const _0x265a49=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x32bd12=_0x1fe042[_0x234100(0xa16)](_0x265a49,_0x3e10d6=>{const _0x3fa926=_0x234100;return'$'+_0x3e10d6[_0x3fa926(0x168)]()+'$';});return _0x32bd12;}function sanitizeQuizData(_0xe1a6ae){const _0x33f425=_0x3de37b;if(!_0xe1a6ae||!_0xe1a6ae['questions'])return _0xe1a6ae;const _0x196f54={'imes':_0x33f425(0x99a),'div':_0x33f425(0x2f3)},_0x4e27ff=_0x4e358f=>{const _0x4dc602=_0x33f425;if(typeof _0x4e358f!==_0x4dc602(0x67a))return _0x4e358f;let _0x180f05=_0x4e358f;for(const [_0x45597a,_0x501216]of Object[_0x4dc602(0x1ee)](_0x196f54)){const _0xb76346=new RegExp('\x5cb'+_0x45597a+'\x5cb','g');_0x180f05=_0x180f05[_0x4dc602(0xa16)](_0xb76346,_0x501216);}return _0x180f05=_0x180f05[_0x4dc602(0xa16)](/\\\//g,_0x4dc602(0x2f3)),_0x180f05=_0x180f05[_0x4dc602(0xa16)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4dc602(0x2f3))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x4dc602(0xa16)](/÷/g,_0x4dc602(0x2f3))[_0x4dc602(0xa16)](/×/g,_0x4dc602(0x99a)),_0x180f05=_0x180f05['replace'](/(\d)(\\frac)/g,_0x4dc602(0x655)),_0x180f05=autoFormatMath(_0x180f05),_0x180f05;};return _0xe1a6ae['topic']&&(_0xe1a6ae[_0x33f425(0x680)]=_0x4e27ff(_0xe1a6ae[_0x33f425(0x680)])),_0xe1a6ae[_0x33f425(0x6ba)][_0x33f425(0x597)](_0x52feb5=>{const _0x43352b=_0x33f425;_0x52feb5[_0x43352b(0x19b)]=_0x4e27ff(_0x52feb5[_0x43352b(0x19b)]),_0x52feb5[_0x43352b(0x8e3)]&&(_0x52feb5[_0x43352b(0x8e3)]=_0x52feb5['options'][_0x43352b(0x7bf)](_0x4e27ff)),_0x52feb5['explanation']&&(_0x52feb5[_0x43352b(0x8cb)]=_0x4e27ff(_0x52feb5[_0x43352b(0x8cb)])),_0x52feb5[_0x43352b(0x622)]&&(_0x52feb5[_0x43352b(0x622)]=_0x4e27ff(_0x52feb5[_0x43352b(0x622)])),_0x52feb5[_0x43352b(0x2c2)]&&(_0x52feb5[_0x43352b(0x2c2)]=_0x4e27ff(_0x52feb5[_0x43352b(0x2c2)])),_0x52feb5[_0x43352b(0x330)]&&(_0x52feb5[_0x43352b(0x330)]=_0x52feb5[_0x43352b(0x330)]['map'](_0x4e27ff));}),_0xe1a6ae;}const simpleMathPrompt=_0x3de37b(0x326);async function handleGenerateFromLink(){const _0x1357a3=_0x3de37b,_0x5313a0=document['getElementById']('link-url-input'),_0x3b2a3f=document[_0x1357a3(0x26b)](_0x1357a3(0x380)),_0x1a45af=_0x5313a0[_0x1357a3(0x884)]['trim'](),_0x529772=_0x3b2a3f[_0x1357a3(0x884)]['trim']();if(!_0x1a45af){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0xf75c4f=document[_0x1357a3(0x26b)](_0x1357a3(0x902)),_0x47dfa0=document[_0x1357a3(0x26b)](_0x1357a3(0x750)),_0x3af1ed=document['getElementById'](_0x1357a3(0x775)),_0x2eb6ea=document['getElementById']('generate-from-link-btn');document[_0x1357a3(0x26b)](_0x1357a3(0x114))['classList'][_0x1357a3(0x953)](_0x1357a3(0x2d5)),_0x3af1ed[_0x1357a3(0x9ba)]='',_0xf75c4f[_0x1357a3(0x74c)]['remove'](_0x1357a3(0x2d5)),_0x47dfa0[_0x1357a3(0x64c)]=_0x1357a3(0x4fe),_0x2eb6ea[_0x1357a3(0x865)]=!![];try{const _0x126c90='https://corsproxy.io/?'+encodeURIComponent(_0x1a45af),_0x20f25b=await fetch(_0x126c90);if(!_0x20f25b['ok'])throw new Error(_0x1357a3(0x256)+_0x20f25b['status']+')');const _0x42e789=await _0x20f25b[_0x1357a3(0x3fd)](),_0x4870ad=extractTextFromHtml(_0x42e789);if(!_0x4870ad||_0x4870ad['length']<0x64)throw new Error(_0x1357a3(0x9bf));await generateQuiz(_0x529772,_0x4870ad);}catch(_0x17baac){console[_0x1357a3(0x2a8)]('Error\x20generating\x20from\x20link:',_0x17baac),showMessage(_0x1357a3(0x607)+_0x17baac[_0x1357a3(0x216)]),_0x3af1ed[_0x1357a3(0x9ba)]=_0x1357a3(0x82a);}finally{_0xf75c4f[_0x1357a3(0x74c)][_0x1357a3(0x1c0)](_0x1357a3(0x2d5)),_0x2eb6ea['disabled']=![];}}function extractTextFromHtml(_0x2bebf7){const _0x3c01b0=_0x3de37b,_0x57b1cb=new DOMParser()[_0x3c01b0(0x780)](_0x2bebf7,'text/html');return _0x57b1cb['querySelectorAll'](_0x3c01b0(0x58b))[_0x3c01b0(0x597)](_0x4655c3=>_0x4655c3[_0x3c01b0(0x953)]()),_0x57b1cb[_0x3c01b0(0x531)][_0x3c01b0(0x64c)]||'';}document[_0x3de37b(0x26b)](_0x3de37b(0x8bd))[_0x3de37b(0x813)](_0x3de37b(0x8c2),()=>{const _0x2d49f7=_0x3de37b,_0x5a5bad=document[_0x2d49f7(0x26b)](_0x2d49f7(0x63d))[_0x2d49f7(0x884)][_0x2d49f7(0x168)]();generateQuiz(_0x5a5bad,null);}),document[_0x3de37b(0x26b)]('generate-from-text-btn')[_0x3de37b(0x813)](_0x3de37b(0x8c2),()=>{const _0x58ce68=_0x3de37b,_0x44876d=document[_0x58ce68(0x26b)](_0x58ce68(0x215))[_0x58ce68(0x884)][_0x58ce68(0x168)]();if(!_0x44876d){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x34473e=document['getElementById'](_0x58ce68(0x63d))[_0x58ce68(0x884)][_0x58ce68(0x168)]();generateQuiz(_0x34473e,_0x44876d);});async function generateQuiz(_0x16d3a5,_0x55dcf0,_0x1c56fd=null){const _0x535dfd=_0x3de37b,_0x4e08d6=document[_0x535dfd(0x26b)]('include-images-checkbox')['checked'],_0x312050=document[_0x535dfd(0x26b)]('quiz-type-select')['value'],_0x1e9c44=document[_0x535dfd(0x26b)]('num-questions')[_0x535dfd(0x884)],_0x1c2f1a=document[_0x535dfd(0x26b)](_0x535dfd(0x32b))[_0x535dfd(0x884)],_0x3db812=document['getElementById']('force-math-checkbox')[_0x535dfd(0x268)],_0x3f12c5=_0x3db812?'':_0x535dfd(0x32c),_0x3eecaf=document['getElementById'](_0x535dfd(0x549)),_0x17fcde=_0x3eecaf[_0x535dfd(0x884)];let _0x2d5163='';_0x17fcde!==_0x535dfd(0x3ea)&&(_0x2d5163=_0x535dfd(0x961)+_0x17fcde+'\x22');const _0x1a4e94=document['getElementById'](_0x535dfd(0x30d)),_0x13c710=_0x1a4e94['value'];let _0x2cda69='';_0x13c710!==_0x535dfd(0x2b7)&&(_0x2cda69=_0x535dfd(0x7e8)+_0x13c710+_0x535dfd(0x5c3));const _0x512e4e=document['querySelectorAll']('#math-topics-checkbox-container\x20input:checked'),_0xcf832c=Array[_0x535dfd(0x38e)](_0x512e4e)['map'](_0x5d23ee=>_0x5d23ee[_0x535dfd(0x884)]);let _0x3bca75='';_0xcf832c[_0x535dfd(0x579)]>0x0&&(_0x3bca75=_0x535dfd(0x245)+_0xcf832c[_0x535dfd(0xa17)](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x12c5eb='',_0x3c29b8='',_0x3341f6,_0x39d810=_0x535dfd(0x715)+_0x16d3a5+'\x22';if(!_0x16d3a5&&_0x55dcf0)_0x39d810='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x16d3a5&&!_0x55dcf0&&(_0x39d810='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x56910c={'type':_0x535dfd(0x1e7),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x535dfd(0x3a6),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x535dfd(0x205)}},'required':[_0x535dfd(0x19b),'options',_0x535dfd(0x7d9),'explanation']},_0x2ef8bf={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x535dfd(0x205)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x535dfd(0x11f),'explanation']},_0x153b3d={'type':_0x535dfd(0x1e7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x535dfd(0x205),'enum':[_0x535dfd(0x153),'short_answer']},'options':{'type':_0x535dfd(0x3a6),'items':{'type':_0x535dfd(0x205)}},'correctAnswerIndex':{'type':_0x535dfd(0x72a)},'idealAnswer':{'type':_0x535dfd(0x205)},'explanation':{'type':_0x535dfd(0x205)},'imageCode':{'type':_0x535dfd(0x205)}},'required':[_0x535dfd(0x19b),_0x535dfd(0x14b),_0x535dfd(0x8cb)]},_0x1840a2={'type':_0x535dfd(0x1e7),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x535dfd(0x97e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x535dfd(0x205)}},'required':[_0x535dfd(0x19b),_0x535dfd(0x980),'explanation']},_0x17a3b2={'type':_0x535dfd(0x1e7),'properties':{'questionType':{'type':_0x535dfd(0x205),'enum':[_0x535dfd(0x6cc)]},'stem':{'type':_0x535dfd(0x205)},'correctResponse':{'type':_0x535dfd(0x205)},'allResponses':{'type':'ARRAY','items':{'type':_0x535dfd(0x205)}},'explanation':{'type':_0x535dfd(0x205)},'imageCode':{'type':'STRING'}},'required':[_0x535dfd(0x14b),_0x535dfd(0x622),'correctResponse',_0x535dfd(0x330),_0x535dfd(0x8cb)]};let _0x43f841;if(_0x1c56fd!==null){const _0x44403f=currentQuizData[_0x535dfd(0x6ba)][_0x1c56fd]['questionType'],_0x2ef364=_0x4e08d6?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x12c5eb=_0x535dfd(0x849)+_0x39d810+'\x20'+_0x3bca75+'\x20'+_0x2d5163+_0x535dfd(0x618)+_0x2ef364+'\x20'+simpleMathPrompt;if(_0x44403f==='multiple_choice')_0x3341f6=_0x56910c;else{if(_0x44403f===_0x535dfd(0x6cc))_0x3341f6={'type':_0x535dfd(0x1e7),'properties':{'questionType':{'type':'STRING','enum':[_0x535dfd(0x6cc)]},'stem':{'type':_0x535dfd(0x205)},'correctResponse':{'type':_0x535dfd(0x205)},'explanation':{'type':_0x535dfd(0x205)},'imageCode':{'type':_0x535dfd(0x205)}},'required':[_0x535dfd(0x14b),_0x535dfd(0x622),_0x535dfd(0x2c2),_0x535dfd(0x8cb)]};else _0x3341f6=_0x2ef8bf;}_0x43f841=_0x3341f6;}else{const _0x100e24=_0x4e08d6?_0x535dfd(0x5b3):'',_0x229d8e=_0x535dfd(0x925);switch(_0x312050){case _0x535dfd(0x153):_0x12c5eb='สร้างแบบทดสอบปรนัย'+_0x3f12c5+'\x20'+_0x1e9c44+'\x20ข้อ\x20'+_0x39d810+'\x20'+_0x3bca75+'\x20'+_0x2d5163+'\x20'+_0x2cda69+_0x535dfd(0x8f8)+_0x1c2f1a+_0x535dfd(0x3f1)+_0x100e24+'\x20'+simpleMathPrompt,_0x3341f6=_0x56910c;break;case _0x535dfd(0x840):_0x12c5eb=_0x535dfd(0x8d9)+_0x3f12c5+'\x20'+_0x1e9c44+_0x535dfd(0x4be)+_0x39d810+'\x20'+_0x3bca75+'\x20'+_0x2d5163+'\x20'+_0x2cda69+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x1c2f1a+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x100e24+'\x20'+simpleMathPrompt,_0x3341f6=_0x56910c;break;case'fill_in_no_choices':_0x12c5eb='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3f12c5+'\x20'+_0x1e9c44+_0x535dfd(0x4be)+_0x39d810+'\x20'+_0x3bca75+'\x20'+_0x2d5163+'\x20'+_0x2cda69+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x100e24+'\x20'+simpleMathPrompt,_0x3341f6=_0x2ef8bf;break;case'mixed':_0x12c5eb='สร้างแบบทดสอบ'+_0x3f12c5+'\x20'+_0x1e9c44+_0x535dfd(0x4be)+_0x39d810+'\x20'+_0x3bca75+'\x20'+_0x2d5163+'\x20'+_0x2cda69+_0x535dfd(0x4d8)+_0x1c2f1a+_0x535dfd(0x1f2)+_0x100e24+'\x20'+simpleMathPrompt+'.',_0x3341f6=_0x153b3d;break;case _0x535dfd(0x275):_0x12c5eb=_0x535dfd(0x284)+_0x3f12c5+'\x20'+_0x1e9c44+_0x535dfd(0x4be)+_0x39d810+'\x20'+_0x3bca75+'\x20'+_0x2d5163+'\x20'+_0x2cda69+_0x535dfd(0x448)+_0x100e24+'\x20'+simpleMathPrompt,_0x3341f6=_0x1840a2;break;case _0x535dfd(0x44e):_0x12c5eb=_0x535dfd(0x6a7)+_0x3f12c5+'\x20'+_0x1e9c44+_0x535dfd(0x875)+_0x39d810+'\x20'+_0x3bca75+'\x20'+_0x2d5163+'\x20'+_0x2cda69+_0x535dfd(0x2ee)+_0x100e24+'\x20'+simpleMathPrompt,_0x3341f6=_0x17a3b2;break;}_0x43f841={'type':_0x535dfd(0x1e7),'properties':{'topic':{'type':_0x535dfd(0x205)},'questions':{'type':_0x535dfd(0x3a6),'items':_0x3341f6}},'required':['topic',_0x535dfd(0x6ba)]};}return _0x55dcf0?(_0x12c5eb=_0x535dfd(0x4ef)+_0x55dcf0+_0x535dfd(0x98f)+_0x12c5eb,_0x3c29b8='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x3c29b8=_0x535dfd(0x669),handleApiCall(_0x12c5eb,_0x3c29b8,_0x43f841,_0x1c56fd);}async function generateQuizFromFile(_0x4d98b4,_0x2b8c43){const _0x1ee0a6=_0x3de37b,_0x3e6cae=document[_0x1ee0a6(0x26b)](_0x1ee0a6(0x6db))[_0x1ee0a6(0x884)][_0x1ee0a6(0x168)](),_0x33d1a4=document[_0x1ee0a6(0x26b)](_0x1ee0a6(0x685))['value'],_0x1b825e=document['getElementById'](_0x1ee0a6(0x18c))[_0x1ee0a6(0x884)],_0x2774b2=document[_0x1ee0a6(0x26b)](_0x1ee0a6(0x32b))[_0x1ee0a6(0x884)],_0x325f1c=document[_0x1ee0a6(0x26b)](_0x1ee0a6(0x75d))[_0x1ee0a6(0x268)],_0x5e3a4c=document[_0x1ee0a6(0x26b)](_0x1ee0a6(0x350))[_0x1ee0a6(0x268)],_0xa606d5=_0x5e3a4c?'':_0x1ee0a6(0x32c);let _0x31b855='',_0x389f62,_0x31388f=_0x1ee0a6(0x715)+_0x3e6cae+'\x22';!_0x3e6cae&&(_0x31388f=_0x1ee0a6(0x64e));const _0x1df2d4=_0x325f1c?_0x1ee0a6(0x5b3):'';switch(_0x33d1a4){case _0x1ee0a6(0x153):_0x31b855=_0x1ee0a6(0x42e)+_0xa606d5+'\x20'+_0x1b825e+_0x1ee0a6(0x4be)+_0x31388f+_0x1ee0a6(0x8f8)+_0x2774b2+_0x1ee0a6(0x3f1)+_0x1df2d4+'\x20'+simpleMathPrompt,_0x389f62={'type':'OBJECT','properties':{'questionText':{'type':_0x1ee0a6(0x205)},'options':{'type':_0x1ee0a6(0x3a6),'items':{'type':_0x1ee0a6(0x205)}},'correctAnswerIndex':{'type':_0x1ee0a6(0x72a)},'explanation':{'type':_0x1ee0a6(0x205)},'imageCode':{'type':'STRING'}},'required':[_0x1ee0a6(0x19b),_0x1ee0a6(0x8e3),_0x1ee0a6(0x7d9),_0x1ee0a6(0x8cb)]};break;case _0x1ee0a6(0x840):_0x31b855=_0x1ee0a6(0x8d9)+_0xa606d5+'\x20'+_0x1b825e+_0x1ee0a6(0x4be)+_0x31388f+_0x1ee0a6(0x4eb)+_0x2774b2+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1df2d4+'\x20'+simpleMathPrompt,_0x389f62={'type':_0x1ee0a6(0x1e7),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1ee0a6(0x3a6),'items':{'type':_0x1ee0a6(0x205)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1ee0a6(0x205)}},'required':[_0x1ee0a6(0x19b),'options','correctAnswerIndex',_0x1ee0a6(0x8cb)]};break;case _0x1ee0a6(0x110):_0x31b855=_0x1ee0a6(0x8d9)+_0xa606d5+'\x20'+_0x1b825e+'\x20ข้อ\x20'+_0x31388f+_0x1ee0a6(0x502)+_0x1df2d4+'\x20'+simpleMathPrompt,_0x389f62={'type':_0x1ee0a6(0x1e7),'properties':{'questionText':{'type':_0x1ee0a6(0x205)},'idealAnswer':{'type':_0x1ee0a6(0x205)},'explanation':{'type':_0x1ee0a6(0x205)},'imageCode':{'type':_0x1ee0a6(0x205)}},'required':[_0x1ee0a6(0x19b),_0x1ee0a6(0x11f),_0x1ee0a6(0x8cb)]};break;case _0x1ee0a6(0x2b7):_0x31b855=_0x1ee0a6(0x892)+_0xa606d5+'\x20'+_0x1b825e+'\x20ข้อ\x20'+_0x31388f+_0x1ee0a6(0x402)+_0x2774b2+_0x1ee0a6(0x1f2)+_0x1df2d4+'\x20'+simpleMathPrompt+_0x1ee0a6(0x3cb),_0x389f62={'type':'OBJECT','properties':{'questionText':{'type':_0x1ee0a6(0x205)},'questionType':{'type':_0x1ee0a6(0x205),'enum':[_0x1ee0a6(0x153),_0x1ee0a6(0x1c1)]},'options':{'type':_0x1ee0a6(0x3a6),'items':{'type':_0x1ee0a6(0x205)}},'correctAnswerIndex':{'type':_0x1ee0a6(0x72a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1ee0a6(0x205)},'imageCode':{'type':_0x1ee0a6(0x205)}},'required':[_0x1ee0a6(0x19b),_0x1ee0a6(0x14b),_0x1ee0a6(0x8cb)]};break;case _0x1ee0a6(0x275):_0x31b855=_0x1ee0a6(0x284)+_0xa606d5+'\x20'+_0x1b825e+_0x1ee0a6(0x4be)+_0x31388f+_0x1ee0a6(0x741)+_0x1df2d4+'\x20'+simpleMathPrompt,_0x389f62={'type':_0x1ee0a6(0x1e7),'properties':{'questionText':{'type':_0x1ee0a6(0x205)},'correctAnswer':{'type':_0x1ee0a6(0x97e)},'explanation':{'type':_0x1ee0a6(0x205)},'imageCode':{'type':'STRING'}},'required':[_0x1ee0a6(0x19b),_0x1ee0a6(0x980),_0x1ee0a6(0x8cb)]};break;case _0x1ee0a6(0x44e):_0x31b855='สร้างชุดคำถามจับคู่'+_0xa606d5+'\x20'+_0x1b825e+'\x20คู่\x20'+_0x31388f+_0x1ee0a6(0x7ad)+_0x1b825e+_0x1ee0a6(0x171)+_0x1df2d4+'\x20'+simpleMathPrompt,_0x389f62={'type':_0x1ee0a6(0x1e7),'properties':{'questionType':{'type':_0x1ee0a6(0x205),'enum':[_0x1ee0a6(0x6cc)]},'stem':{'type':_0x1ee0a6(0x205)},'correctResponse':{'type':_0x1ee0a6(0x205)},'allResponses':{'type':_0x1ee0a6(0x3a6),'items':{'type':_0x1ee0a6(0x205)}},'explanation':{'type':_0x1ee0a6(0x205)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x1ee0a6(0x622),_0x1ee0a6(0x2c2),_0x1ee0a6(0x330),_0x1ee0a6(0x8cb)]};break;}const _0x254bad={'type':_0x1ee0a6(0x1e7),'properties':{'topic':{'type':_0x1ee0a6(0x205)},'questions':{'type':_0x1ee0a6(0x3a6),'items':_0x389f62}},'required':[_0x1ee0a6(0x680),_0x1ee0a6(0x6ba)]},_0x5f418e='จากไฟล์ที่แนบมานี้,\x20'+_0x31b855,_0x4d2c2c={'contents':[{'parts':[{'text':_0x5f418e},{'inlineData':{'mimeType':_0x4d98b4,'data':_0x2b8c43}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x254bad}};return handleApiCall(_0x4d2c2c['contents'][0x0][_0x1ee0a6(0x230)],_0x1ee0a6(0x943),_0x254bad);}async function handleApiCall(_0x44aa12,_0x5adb23,_0xd45c8d,_0xcb9f25=null){const _0x2da0f2=_0x3de37b,_0x4916a4=document[_0x2da0f2(0x26b)](_0x2da0f2(0x114)),_0x2f39a7=document[_0x2da0f2(0x26b)](_0x2da0f2(0x902)),_0x5c02fb=document['getElementById'](_0x2da0f2(0x750)),_0x56e98e=document[_0x2da0f2(0x26b)]('generated-quiz-container');_0x4916a4['classList'][_0x2da0f2(0x953)]('hidden');_0xcb9f25===null&&(_0x56e98e[_0x2da0f2(0x9ba)]='');_0x2f39a7[_0x2da0f2(0x74c)][_0x2da0f2(0x953)](_0x2da0f2(0x2d5)),_0x5c02fb[_0x2da0f2(0x64c)]=_0x5adb23,document['getElementById'](_0x2da0f2(0x8bd))[_0x2da0f2(0x865)]=!![],document['getElementById']('generate-from-text-btn')[_0x2da0f2(0x865)]=!![],document[_0x2da0f2(0x26b)]('generate-from-link-btn')['disabled']=!![];try{const _0x345f47={'responseMimeType':_0x2da0f2(0x37c),'responseSchema':_0xd45c8d},_0x253d75=Array[_0x2da0f2(0x1be)](_0x44aa12)?_0x44aa12:[{'text':_0x44aa12}],_0x2864e0={'contents':[{'role':_0x2da0f2(0x7d4),'parts':_0x253d75}],'generationConfig':_0x345f47},_0x2c507f=_0x2da0f2(0x998),_0x34dc34='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x2c507f,_0x482c9e=await fetch(_0x34dc34,{'method':_0x2da0f2(0x947),'headers':{'Content-Type':_0x2da0f2(0x37c)},'body':JSON['stringify'](_0x2864e0)});if(!_0x482c9e['ok'])throw new Error(_0x2da0f2(0x3c8)+_0x482c9e['status']);const _0x2cc59d=await _0x482c9e[_0x2da0f2(0x6a8)]();if(_0x2cc59d['candidates']?.[0x0]?.[_0x2da0f2(0x8db)]?.[_0x2da0f2(0x230)]?.[0x0]){let _0x466c69=_0x2cc59d['candidates'][0x0]['content']['parts'][0x0]['text'],_0x557ded;try{if(_0x466c69[_0x2da0f2(0x397)](_0x2da0f2(0x6c5)))_0x466c69=_0x466c69['substring'](0x7,_0x466c69[_0x2da0f2(0x579)]-0x3)[_0x2da0f2(0x168)]();else _0x466c69[_0x2da0f2(0x397)]('```')&&(_0x466c69=_0x466c69[_0x2da0f2(0x450)](0x3,_0x466c69[_0x2da0f2(0x579)]-0x3)['trim']());_0x557ded=JSON[_0x2da0f2(0x317)](_0x466c69);}catch(_0x4df63f){console[_0x2da0f2(0x2a8)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x4df63f,_0x466c69);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0xcb9f25!==null){if(_0x557ded[_0x2da0f2(0x14b)]===_0x2da0f2(0x6cc)){const _0x37cc3c=currentQuizData['questions']['map'](_0x216268=>_0x216268[_0x2da0f2(0x2c2)]);_0x557ded[_0x2da0f2(0x330)]=_0x37cc3c;const _0x4b8ddb=currentQuizData[_0x2da0f2(0x6ba)][_0xcb9f25][_0x2da0f2(0x2c2)],_0xf2cfbc=_0x37cc3c[_0x2da0f2(0x87e)](_0x4b8ddb);_0xf2cfbc>-0x1&&(_0x37cc3c[_0xf2cfbc]=_0x557ded[_0x2da0f2(0x2c2)]),currentQuizData[_0x2da0f2(0x6ba)][_0x2da0f2(0x597)](_0x229f31=>{const _0x5d33fa=_0x2da0f2;if(_0x229f31[_0x5d33fa(0x14b)]===_0x5d33fa(0x6cc))_0x229f31[_0x5d33fa(0x330)]=_0x37cc3c;});}currentQuizData[_0x2da0f2(0x6ba)][_0xcb9f25]=_0x557ded,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x557ded;const _0x4ed7e8=document[_0x2da0f2(0x26b)](_0x2da0f2(0x685))['value'];currentQuizData[_0x2da0f2(0xa11)]=_0x4ed7e8,currentQuizData['questions']&&currentQuizData[_0x2da0f2(0x6ba)]['forEach'](_0x4dd42f=>{const _0x432bd1=_0x2da0f2;if(!_0x4dd42f[_0x432bd1(0x14b)]){if(_0x4ed7e8===_0x432bd1(0x840))_0x4dd42f['questionType']=_0x432bd1(0x153);else _0x4ed7e8===_0x432bd1(0x110)?_0x4dd42f[_0x432bd1(0x14b)]=_0x432bd1(0x1c1):_0x4dd42f['questionType']=_0x4ed7e8;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x2da0f2(0x2a8)](_0x2da0f2(0xa42),JSON[_0x2da0f2(0x670)](_0x2cc59d));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x55cb8a){console[_0x2da0f2(0x2a8)](_0x2da0f2(0x682),_0x55cb8a),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0xcb9f25===null&&(_0x56e98e[_0x2da0f2(0x9ba)]=_0x2da0f2(0x992));}finally{_0x2f39a7[_0x2da0f2(0x74c)][_0x2da0f2(0x1c0)](_0x2da0f2(0x2d5)),document[_0x2da0f2(0x26b)](_0x2da0f2(0x8bd))['disabled']=![],document[_0x2da0f2(0x26b)](_0x2da0f2(0x11c))[_0x2da0f2(0x865)]=![],document[_0x2da0f2(0x26b)]('generate-from-link-btn')['disabled']=![];const _0x1d5194=document['getElementById'](_0x2da0f2(0x529));_0x1d5194&&(_0x1d5194['disabled']=![]);}}function exitFullscreen(){const _0x4b8512=_0x3de37b;if(document[_0x4b8512(0x484)])document['exitFullscreen']()[_0x4b8512(0x6f3)](_0x264970=>console[_0x4b8512(0x2a8)](_0x264970));else{if(document[_0x4b8512(0x850)])document['webkitExitFullscreen']();else document[_0x4b8512(0x97c)]&&document[_0x4b8512(0x97c)]();}}function enterFullscreen(){const _0x3be293=_0x3de37b,_0x28de7f=document['documentElement'];if(_0x28de7f[_0x3be293(0x4ac)])_0x28de7f[_0x3be293(0x4ac)]()['catch'](_0x32f1df=>{const _0x576b18=_0x3be293;console[_0x576b18(0x2a8)](_0x576b18(0x3d3)+_0x32f1df[_0x576b18(0x216)]+'\x20('+_0x32f1df[_0x576b18(0x234)]+')');});else{if(_0x28de7f[_0x3be293(0x163)])_0x28de7f[_0x3be293(0x163)]();else _0x28de7f[_0x3be293(0x8c0)]&&_0x28de7f[_0x3be293(0x8c0)]();}}function handleCheatingEvent(){const _0x426f92=_0x3de37b;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x426f92(0x49d)+maxCheatAttempts+_0x426f92(0x91a)),document[_0x426f92(0x26b)](_0x426f92(0x113))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x426f92(0x394)]('visibilitychange',handleVisibilityChange),document[_0x426f92(0x394)](_0x426f92(0x747),handleFullscreenChange)):showMessage(_0x426f92(0x7db)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x30967a=_0x3de37b;if(currentMode===_0x30967a(0x41c)||!isQuizActive)return;if(document[_0x30967a(0x252)]===_0x30967a(0x2d5))handleCheatingEvent();else document['visibilityState']===_0x30967a(0x52c)&&(console[_0x30967a(0x1c3)](_0x30967a(0x7c7)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4cdfaf=_0x3de37b;if(currentMode===_0x4cdfaf(0x41c)||!isQuizActive)return;!document[_0x4cdfaf(0x14a)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x14192e){const _0x1f6d1c=_0x3de37b,_0xa8c8e2=document[_0x1f6d1c(0x26b)](_0x1f6d1c(0x775));let _0x54ebdc=_0x1f6d1c(0x4d4)+_0x14192e['topic']+'</h3>';_0x14192e[_0x1f6d1c(0x6ba)][_0x1f6d1c(0x597)]((_0x108d72,_0x2205ac)=>{const _0x304740=_0x1f6d1c;!_0x108d72['id']&&(_0x108d72['id']='q_'+Date[_0x304740(0x504)]()+'_'+_0x2205ac);const _0x11684e=_0x108d72[_0x304740(0x14b)]||_0x14192e[_0x304740(0xa11)];_0x54ebdc+=_0x304740(0x600)+_0x2205ac+_0x304740(0x5e4)+_0x2205ac+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2205ac+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2205ac+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x11684e){case _0x304740(0x6cc):_0x54ebdc+=_0x304740(0x6a3)+_0x2205ac+'\x22>'+(_0x2205ac+0x1)+'.\x20'+_0x108d72['stem']+_0x304740(0x81d);_0x108d72['imageCode']&&(_0x54ebdc+=_0x304740(0x87b)+_0x2205ac+_0x304740(0x33c)+_0x108d72['imageCode']+_0x304740(0x7d8));_0x54ebdc+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x2205ac+'\x22>'+_0x108d72[_0x304740(0x2c2)]+_0x304740(0x87a),_0x54ebdc+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2205ac+'\x22>'+_0x108d72[_0x304740(0x8cb)]+_0x304740(0x87a);break;case _0x304740(0x1c1):_0x54ebdc+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2205ac+'\x22>'+(_0x2205ac+0x1)+'.\x20'+_0x108d72[_0x304740(0x19b)]+'</p>';_0x108d72[_0x304740(0x594)]&&(_0x54ebdc+=_0x304740(0x87b)+_0x2205ac+_0x304740(0x33c)+_0x108d72[_0x304740(0x594)]+_0x304740(0x7d8));_0x54ebdc+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x2205ac+'\x22>'+_0x108d72[_0x304740(0x11f)]+_0x304740(0x87a),_0x54ebdc+=_0x304740(0x3a3)+_0x2205ac+'\x22>'+_0x108d72[_0x304740(0x8cb)]+_0x304740(0x87a);break;case _0x304740(0x275):_0x54ebdc+=_0x304740(0x6a3)+_0x2205ac+'\x22>'+(_0x2205ac+0x1)+'.\x20'+_0x108d72[_0x304740(0x19b)]+_0x304740(0x81d);_0x108d72[_0x304740(0x594)]&&(_0x54ebdc+=_0x304740(0x87b)+_0x2205ac+_0x304740(0x33c)+_0x108d72['imageCode']+_0x304740(0x7d8));_0x54ebdc+=_0x304740(0x8be)+(_0x108d72[_0x304740(0x980)]===!![]?_0x304740(0x677):'')+_0x304740(0x86c)+(_0x108d72[_0x304740(0x980)]===![]?_0x304740(0x677):'')+_0x304740(0x129),_0x54ebdc+=_0x304740(0x3a3)+_0x2205ac+'\x22>'+_0x108d72[_0x304740(0x8cb)]+_0x304740(0x87a);break;case'fill_in_the_blank':case _0x304740(0x153):default:_0x54ebdc+=_0x304740(0x6a3)+_0x2205ac+'\x22>'+(_0x2205ac+0x1)+'.\x20'+_0x108d72['questionText']+_0x304740(0x81d);_0x108d72[_0x304740(0x594)]&&(_0x54ebdc+='<div\x20id=\x22q-image-container-'+_0x2205ac+_0x304740(0x33c)+_0x108d72[_0x304740(0x594)]+_0x304740(0x7d8));_0x54ebdc+=_0x304740(0x2fd)+_0x2205ac+_0x304740(0x276)+_0x108d72[_0x304740(0x8e3)][_0x304740(0x7bf)]((_0x5b4766,_0x9d2d6e)=>_0x304740(0x8fb)+(_0x9d2d6e===_0x108d72[_0x304740(0x7d9)]?_0x304740(0x677):'')+'\x22>'+_0x5b4766+_0x304740(0x524))[_0x304740(0xa17)]('')+_0x304740(0x1fc),_0x54ebdc+=_0x304740(0x3a3)+_0x2205ac+'\x22>'+_0x108d72[_0x304740(0x8cb)]+_0x304740(0x87a);break;}_0x54ebdc+=_0x304740(0x7d8);}),_0x54ebdc+=_0x1f6d1c(0x1e0),_0xa8c8e2[_0x1f6d1c(0x9ba)]=_0x54ebdc,document['querySelectorAll']('.edit-question-btn')[_0x1f6d1c(0x597)](_0x2ce05a=>_0x2ce05a[_0x1f6d1c(0x813)](_0x1f6d1c(0x8c2),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x1f6d1c(0x597)](_0x36ecb3=>_0x36ecb3[_0x1f6d1c(0x813)](_0x1f6d1c(0x8c2),handleRegenerateQuestion)),document[_0x1f6d1c(0x303)]('.save-to-bank-btn')[_0x1f6d1c(0x597)](_0x3e183a=>_0x3e183a['addEventListener'](_0x1f6d1c(0x8c2),handleSaveToBank)),document[_0x1f6d1c(0x26b)](_0x1f6d1c(0x6b5))[_0x1f6d1c(0x813)](_0x1f6d1c(0x8c2),exportQuizAsWorksheetPDF),document[_0x1f6d1c(0x26b)](_0x1f6d1c(0x59b))[_0x1f6d1c(0x813)](_0x1f6d1c(0x8c2),saveQuiz),document['getElementById']('verify-answers-btn')[_0x1f6d1c(0x813)](_0x1f6d1c(0x8c2),handleVerifyAnswers);if(window[_0x1f6d1c(0x7c9)])window[_0x1f6d1c(0x7c9)][_0x1f6d1c(0x281)]([_0xa8c8e2]);}function handleRegenerateQuestion(_0xf579eb){const _0x2cb1fc=_0x3de37b,_0x50a13e=_0xf579eb[_0x2cb1fc(0x9ad)][_0x2cb1fc(0x4ae)][_0x2cb1fc(0x9a8)],_0x165e6a=currentQuizData[_0x2cb1fc(0x680)];showMessage(_0x2cb1fc(0x80c)+(parseInt(_0x50a13e)+0x1)+'\x20ใหม่...'),generateQuiz(_0x165e6a,null,parseInt(_0x50a13e));}function getPointerPosition(_0x471e88,_0x428d20){const _0xcdda6c=_0x3de37b,_0x13474d=_0x471e88[_0xcdda6c(0x5e0)]();let _0x1ed24f,_0x1beda2;return _0x428d20[_0xcdda6c(0x5b0)]&&_0x428d20[_0xcdda6c(0x5b0)][_0xcdda6c(0x579)]>0x0?(_0x1ed24f=_0x428d20['touches'][0x0][_0xcdda6c(0x1a5)],_0x1beda2=_0x428d20[_0xcdda6c(0x5b0)][0x0][_0xcdda6c(0x7d7)]):(_0x1ed24f=_0x428d20['clientX'],_0x1beda2=_0x428d20[_0xcdda6c(0x7d7)]),{'x':(_0x1ed24f-_0x13474d['e'])/_0x13474d['a'],'y':(_0x1beda2-_0x13474d['f'])/_0x13474d['d']};}function startDrag(_0x49fcc6){const _0x5f00f4=_0x3de37b;_0x49fcc6[_0x5f00f4(0x193)]===_0x5f00f4(0x9d2)&&_0x49fcc6['preventDefault']();const _0xe669ae=_0x49fcc6[_0x5f00f4(0x22f)][_0x5f00f4(0x8ce)](_0x5f00f4(0x3d4));if(_0xe669ae){draggedSvgElement=_0xe669ae;const _0x246fde=draggedSvgElement[_0x5f00f4(0x5bc)],_0x28b256=getPointerPosition(_0x246fde,_0x49fcc6);svgOffset['x']=_0x28b256['x']-parseFloat(draggedSvgElement[_0x5f00f4(0x302)](null,'x')),svgOffset['y']=_0x28b256['y']-parseFloat(draggedSvgElement[_0x5f00f4(0x302)](null,'y'));}}function calculateItemAnalysis(_0x3f4f8d,_0x25aa5d){const _0x131c1b=_0x3de37b,_0x137c95={};if(_0x25aa5d['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x114dfd=[..._0x25aa5d][_0x131c1b(0x9c4)]((_0x20eb64,_0x2a2c65)=>{const _0x8cd43c=_0x131c1b,_0x48a4ad=_0x2a2c65[_0x8cd43c(0x2ad)]-_0x20eb64['latestScore'];if(_0x48a4ad!==0x0)return _0x48a4ad;const _0x1908a8=_0x20eb64[_0x8cd43c(0x456)]?.['length']||0x1,_0x4f568a=_0x2a2c65[_0x8cd43c(0x456)]?.[_0x8cd43c(0x579)]||0x1,_0x59deb4=_0x1908a8-_0x4f568a;if(_0x59deb4!==0x0)return _0x59deb4;const _0x3ab978=new Date(_0x20eb64['latestSubmittedAt']),_0x28a1cc=new Date(_0x2a2c65[_0x8cd43c(0x4e6)]),_0x16e2f8=_0x3ab978-_0x28a1cc;if(_0x16e2f8!==0x0)return _0x16e2f8;return _0x20eb64[_0x8cd43c(0xfd)][_0x8cd43c(0x668)](_0x2a2c65[_0x8cd43c(0xfd)],'th');}),_0x512875=_0x114dfd['length'],_0x3162b7=Math[_0x131c1b(0x104)](0x1,Math['floor'](_0x512875*0.33));if(_0x3162b7===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2a2623=_0x114dfd[_0x131c1b(0x285)](0x0,_0x3162b7),_0x44b556=_0x114dfd[_0x131c1b(0x285)](-_0x3162b7),_0x4e0f10=_0x2a2623[_0x131c1b(0x7bf)](_0x447ea3=>_0x447ea3[_0x131c1b(0xfd)]),_0x595f56=_0x44b556['map'](_0x1fb895=>_0x1fb895[_0x131c1b(0xfd)]);return _0x3f4f8d[_0x131c1b(0x6ba)][_0x131c1b(0x597)]((_0x48c245,_0x2ec792)=>{const _0x49c609=_0x131c1b,_0x1245d8=_0x48c245[_0x49c609(0x622)]||_0x48c245[_0x49c609(0x19b)];let _0x520afe=0x0,_0x236517=0x0,_0x58bbed=0x0;const _0x48e3d8=[],_0x4c9dc6=[];_0x2a2623[_0x49c609(0x597)](_0x176d28=>{const _0x442413=_0x49c609,_0x4212b9=_0x176d28[_0x442413(0x456)][_0x176d28[_0x442413(0x456)][_0x442413(0x579)]-0x1],_0x2410ba=_0x4212b9[_0x442413(0x1a1)][_0x442413(0x1da)](_0x3ac939=>_0x3ac939['originalQuestionText']===_0x1245d8);_0x48e3d8[_0x442413(0x8b7)]({'name':_0x176d28[_0x442413(0xfd)],'isCorrect':_0x2410ba?_0x2410ba['isCorrect']:![]}),_0x2410ba&&_0x2410ba[_0x442413(0x516)]&&_0x236517++;}),_0x44b556[_0x49c609(0x597)](_0x3df8bf=>{const _0x34e0fb=_0x49c609,_0x171b10=_0x3df8bf['attempts'][_0x3df8bf[_0x34e0fb(0x456)][_0x34e0fb(0x579)]-0x1],_0x3eb6b7=_0x171b10[_0x34e0fb(0x1a1)][_0x34e0fb(0x1da)](_0x8837b3=>_0x8837b3['originalQuestionText']===_0x1245d8);_0x4c9dc6[_0x34e0fb(0x8b7)]({'name':_0x3df8bf[_0x34e0fb(0xfd)],'isCorrect':_0x3eb6b7?_0x3eb6b7[_0x34e0fb(0x516)]:![]}),_0x3eb6b7&&_0x3eb6b7[_0x34e0fb(0x516)]&&_0x58bbed++;}),_0x25aa5d['forEach'](_0x2d707b=>{const _0x447710=_0x49c609,_0x180630=_0x2d707b['attempts'][_0x2d707b[_0x447710(0x456)][_0x447710(0x579)]-0x1],_0x328882=_0x180630[_0x447710(0x1a1)][_0x447710(0x1da)](_0x35ebe9=>_0x35ebe9[_0x447710(0x93e)]===_0x1245d8);_0x328882&&_0x328882['isCorrect']&&_0x520afe++;});const _0x10fd26=_0x512875>0x0?_0x520afe/_0x512875:0x0,_0x3a8497=_0x3162b7>0x0?_0x236517/_0x3162b7-_0x58bbed/_0x3162b7:0x0;_0x137c95[_0x2ec792]={'p':_0x10fd26,'r':_0x3a8497,'upperGroupResponders':_0x48e3d8,'lowerGroupResponders':_0x4c9dc6};}),{'perQuestionStats':_0x137c95,'overallGroups':{'upperGroupNames':_0x4e0f10,'lowerGroupNames':_0x595f56}};}function drag(_0x5400a1){const _0x40cea7=_0x3de37b;if(draggedSvgElement){_0x5400a1[_0x40cea7(0xa3e)]();const _0x302c94=draggedSvgElement['ownerSVGElement'],_0x1c19df=getPointerPosition(_0x302c94,_0x5400a1),_0x43e9f6=_0x302c94['viewBox']['baseVal'];let _0x3e65eb=_0x1c19df['x']-svgOffset['x'],_0x4a6199=_0x1c19df['y']-svgOffset['y'];const _0x5b9c31=draggedSvgElement[_0x40cea7(0x33f)]();_0x3e65eb=Math[_0x40cea7(0x104)](_0x43e9f6['x'],Math[_0x40cea7(0x6df)](_0x3e65eb,_0x43e9f6['x']+_0x43e9f6[_0x40cea7(0x17c)]-_0x5b9c31[_0x40cea7(0x17c)])),_0x4a6199=Math[_0x40cea7(0x104)](_0x43e9f6['y'],Math[_0x40cea7(0x6df)](_0x4a6199,_0x43e9f6['y']+_0x43e9f6[_0x40cea7(0x848)]-_0x5b9c31['height'])),draggedSvgElement[_0x40cea7(0x4df)](null,'x',_0x3e65eb),draggedSvgElement[_0x40cea7(0x4df)](null,'y',_0x4a6199);}}function endDrag(_0x25a469){draggedSvgElement=null;}function handleSvgEditClick(_0x4f6ad5){const _0x13b6ab=_0x3de37b;if(_0x4f6ad5[_0x13b6ab(0x22f)][_0x13b6ab(0x74c)]['contains']('delete-svg-btn')){const _0x22364f=_0x4f6ad5['target'][_0x13b6ab(0x4ae)]['targetId'],_0x48f305=_0x4f6ad5[_0x13b6ab(0x9ad)],_0x266385=_0x48f305[_0x13b6ab(0x8f1)]('#'+_0x22364f);_0x266385&&_0x266385[_0x13b6ab(0x953)](),_0x4f6ad5[_0x13b6ab(0x22f)][_0x13b6ab(0x953)]();}}function handleEditQuestion(_0x1677e4){const _0xe40af5=_0x3de37b,_0x12dd70=_0x1677e4[_0xe40af5(0x9ad)],_0x3574f2=_0x12dd70[_0xe40af5(0x4ae)][_0xe40af5(0x9a8)],_0x4c0b61=currentQuizData[_0xe40af5(0x6ba)][_0x3574f2],_0x48678a=document['getElementById'](_0xe40af5(0x2c1)+_0x3574f2),_0x1bf525=document[_0xe40af5(0x26b)](_0xe40af5(0x989)+_0x3574f2),_0x2ef9f9=document[_0xe40af5(0x26b)](_0xe40af5(0x423)+_0x3574f2);if(_0x12dd70[_0xe40af5(0x9ba)][_0xe40af5(0x15f)](_0xe40af5(0x1cb))){_0x12dd70[_0xe40af5(0x9ba)]=_0xe40af5(0x21e),_0x12dd70[_0xe40af5(0x8c4)]=_0xe40af5(0x41a);if(_0x48678a)_0x48678a['contentEditable']=!![];if(_0x1bf525)_0x1bf525[_0xe40af5(0x5a5)]=!![];if(_0x2ef9f9){const _0x415d45=_0x2ef9f9[_0xe40af5(0x8f1)]('svg');if(_0x415d45){const _0x4245fb=_0x415d45['querySelectorAll']('text');_0x4245fb['forEach']((_0x3c388c,_0x11e5af)=>{const _0x346169=_0xe40af5,_0x81484e=_0x346169(0x801)+_0x3574f2+'-'+_0x11e5af;_0x3c388c['id']=_0x81484e,_0x3c388c['classList'][_0x346169(0x1c0)](_0x346169(0x8a5)),_0x3c388c[_0x346169(0x12e)][_0x346169(0x3a4)]=_0x346169(0x5a1);const _0x558a8a=document[_0x346169(0x3c9)]('http://www.w3.org/2000/svg',_0x346169(0x115)),_0x3b28b8=_0x3c388c[_0x346169(0x33f)]();_0x558a8a[_0x346169(0x227)]('cx',String(_0x3b28b8['x']+_0x3b28b8[_0x346169(0x17c)]+0x5)),_0x558a8a[_0x346169(0x227)]('cy',String(_0x3b28b8['y']+_0x3b28b8[_0x346169(0x848)]/0x2-0x5)),_0x558a8a[_0x346169(0x227)]('r','5'),_0x558a8a[_0x346169(0x227)]('fill',_0x346169(0x3ec)),_0x558a8a[_0x346169(0x227)](_0x346169(0x8a9),'delete-svg-btn'),_0x558a8a[_0x346169(0x4ae)][_0x346169(0x2ff)]=_0x81484e,_0x3c388c[_0x346169(0x924)](_0x558a8a);}),_0x415d45[_0xe40af5(0x813)](_0xe40af5(0x1ed),startDrag),_0x415d45[_0xe40af5(0x813)](_0xe40af5(0x121),drag),_0x415d45['addEventListener'](_0xe40af5(0x6ab),endDrag),_0x415d45['addEventListener'](_0xe40af5(0x259),endDrag),_0x415d45[_0xe40af5(0x813)]('touchstart',startDrag,{'passive':![]}),_0x415d45[_0xe40af5(0x813)](_0xe40af5(0x587),drag,{'passive':![]}),_0x415d45[_0xe40af5(0x813)](_0xe40af5(0x3b2),endDrag),_0x415d45['addEventListener'](_0xe40af5(0x231),endDrag),_0x415d45[_0xe40af5(0x813)](_0xe40af5(0x8c2),handleSvgEditClick);}}if(_0x48678a)_0x48678a[_0xe40af5(0x8d1)]();}else{_0x12dd70[_0xe40af5(0x9ba)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x12dd70[_0xe40af5(0x8c4)]=_0xe40af5(0x123);if(_0x48678a){_0x48678a[_0xe40af5(0x5a5)]=![];const _0x413f26=_0x4c0b61['questionType']||currentQuizData['quizType'];_0x413f26===_0xe40af5(0x6cc)?_0x4c0b61[_0xe40af5(0x622)]=_0x48678a[_0xe40af5(0x7fd)][_0xe40af5(0x450)](_0x48678a[_0xe40af5(0x7fd)][_0xe40af5(0x87e)]('.')+0x2)[_0xe40af5(0x168)]():_0x4c0b61[_0xe40af5(0x19b)]=_0x48678a['innerText'][_0xe40af5(0x450)](_0x48678a[_0xe40af5(0x7fd)][_0xe40af5(0x87e)]('.')+0x2)[_0xe40af5(0x168)]();}_0x1bf525&&(_0x1bf525[_0xe40af5(0x5a5)]=![],_0x4c0b61[_0xe40af5(0x8cb)]=_0x1bf525['innerText']);if(_0x2ef9f9){const _0x43893e=_0x2ef9f9[_0xe40af5(0x8f1)](_0xe40af5(0x674));if(_0x43893e){const _0x491a49=_0x43893e[_0xe40af5(0x583)](!![]);_0x491a49[_0xe40af5(0x303)]('.delete-svg-btn')[_0xe40af5(0x597)](_0x18968c=>_0x18968c['remove']()),_0x491a49[_0xe40af5(0x303)]('.draggable-text')[_0xe40af5(0x597)](_0x4859ed=>{const _0x427d80=_0xe40af5;_0x4859ed[_0x427d80(0x74c)]['remove'](_0x427d80(0x8a5)),_0x4859ed[_0x427d80(0x12e)][_0x427d80(0x3a4)]='default',_0x4859ed[_0x427d80(0x322)]('id');}),_0x4c0b61[_0xe40af5(0x594)]=_0x491a49[_0xe40af5(0x391)],_0x43893e[_0xe40af5(0x394)]('mousedown',startDrag),_0x43893e['removeEventListener']('mousemove',drag),_0x43893e[_0xe40af5(0x394)]('mouseup',endDrag),_0x43893e['removeEventListener'](_0xe40af5(0x259),endDrag),_0x43893e[_0xe40af5(0x394)](_0xe40af5(0x9d2),startDrag),_0x43893e[_0xe40af5(0x394)](_0xe40af5(0x587),drag),_0x43893e['removeEventListener']('touchend',endDrag),_0x43893e[_0xe40af5(0x394)]('touchcancel',endDrag),_0x43893e[_0xe40af5(0x394)](_0xe40af5(0x8c2),handleSvgEditClick),_0x43893e[_0xe40af5(0x303)](_0xe40af5(0x3c4))[_0xe40af5(0x597)](_0x524941=>_0x524941[_0xe40af5(0x953)]()),_0x43893e[_0xe40af5(0x303)](_0xe40af5(0x3d4))[_0xe40af5(0x597)](_0x1515c4=>{const _0x5c4d19=_0xe40af5;_0x1515c4['classList'][_0x5c4d19(0x953)](_0x5c4d19(0x8a5)),_0x1515c4[_0x5c4d19(0x12e)][_0x5c4d19(0x3a4)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x40f3b9){const _0x65394c=_0x3de37b,_0x389d2b=document['getElementById'](_0x65394c(0x911)),_0x4acc88=document['getElementById']('quiz-editor-questions-container');_0x4acc88['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x389d2b[_0x65394c(0x74c)][_0x65394c(0x953)](_0x65394c(0x2d5));try{const _0x121f8b=doc(db,_0x65394c(0x573)+appId+_0x65394c(0x5df),_0x40f3b9),_0x2cdf6d=await getDoc(_0x121f8b);if(!_0x2cdf6d[_0x65394c(0x42d)]())throw new Error(_0x65394c(0x347));currentEditingQuizData={'id':_0x40f3b9,..._0x2cdf6d[_0x65394c(0x51a)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x293700){console['error'](_0x65394c(0x2d7),_0x293700),showMessage(_0x65394c(0x335)),_0x389d2b[_0x65394c(0x74c)][_0x65394c(0x1c0)](_0x65394c(0x2d5));}}function renderQuizEditor(_0x58946f){const _0x14ab53=_0x3de37b;document['getElementById'](_0x14ab53(0x656))[_0x14ab53(0x884)]=_0x58946f['topic'];const _0x54dffd=document[_0x14ab53(0x26b)](_0x14ab53(0x718));let _0x1e3711=_0x58946f[_0x14ab53(0x6ba)][_0x14ab53(0x7bf)]((_0x552a4c,_0x4901c4)=>{const _0x3df022=_0x14ab53;let _0x19cc20='';const _0x27d654=_0x552a4c[_0x3df022(0x14b)]||_0x58946f['quizType'];switch(_0x27d654){case _0x3df022(0x153):const _0x30eeec=(_0x552a4c[_0x3df022(0x8e3)]||[])[_0x3df022(0x7bf)]((_0x450d95,_0x4f9dba)=>_0x3df022(0x7f2)+_0x4901c4+_0x3df022(0x24c)+_0x4f9dba+'\x22\x20'+(_0x4f9dba===_0x552a4c[_0x3df022(0x7d9)]?_0x3df022(0x268):'')+_0x3df022(0x27d)+_0x450d95+_0x3df022(0x271))[_0x3df022(0xa17)]('');_0x19cc20=_0x3df022(0xa53)+_0x30eeec+_0x3df022(0x94f);break;case _0x3df022(0x1c1):_0x19cc20=_0x3df022(0x99c)+(_0x552a4c[_0x3df022(0x11f)]||'')+_0x3df022(0x917);break;case _0x3df022(0x275):_0x19cc20=_0x3df022(0x93f)+_0x4901c4+'\x22\x20value=\x22true\x22\x20'+(_0x552a4c[_0x3df022(0x980)]===!![]?_0x3df022(0x268):'')+_0x3df022(0x7c0)+_0x4901c4+_0x3df022(0x899)+(_0x552a4c[_0x3df022(0x980)]===![]?'checked':'')+_0x3df022(0x52d);break;case _0x3df022(0x6cc):_0x19cc20=_0x3df022(0x485)+(_0x552a4c[_0x3df022(0x2c2)]||'')+_0x3df022(0x424);break;}const _0x4aabb0=_0x552a4c['questionText']||_0x552a4c[_0x3df022(0x622)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x4901c4+_0x3df022(0x1a3)+_0x27d654+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x4901c4+0x1)+'\x20('+_0x27d654+_0x3df022(0x869)+_0x4aabb0+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x19cc20+_0x3df022(0x34e);})['join']('');_0x54dffd[_0x14ab53(0x9ba)]=_0x1e3711,_0x54dffd['querySelectorAll'](_0x14ab53(0x92d))[_0x14ab53(0x597)](_0x4219d1=>{const _0x1ed8fa=_0x14ab53;_0x4219d1[_0x1ed8fa(0x813)]('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3cd7de){const _0x5c1eea=_0x3de37b,_0x54d4ce=_0x3cd7de[_0x5c1eea(0x9ad)],_0xd54e8a=_0x54d4ce['closest'](_0x5c1eea(0x92e));if(!_0xd54e8a)return;const _0x1c72ca=parseInt(_0xd54e8a[_0x5c1eea(0x4ae)][_0x5c1eea(0x3c3)],0xa);if(isNaN(_0x1c72ca)||!currentEditingQuizData[_0x5c1eea(0x6ba)][_0x1c72ca]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x17d9ee=currentEditingQuizData[_0x5c1eea(0x6ba)][_0x1c72ca];_0x54d4ce[_0x5c1eea(0x9ba)]=_0x5c1eea(0x6de),_0x54d4ce['disabled']=!![];const _0x1c50aa=_0x5c1eea(0x75f)+JSON[_0x5c1eea(0x670)](_0x17d9ee)+_0x5c1eea(0x8eb);let _0x669d82;const _0xc4445d=_0x17d9ee[_0x5c1eea(0x14b)]||currentEditingQuizData['quizType'];switch(_0xc4445d){case'short_answer':_0x669d82={'type':'OBJECT','properties':{'questionText':{'type':_0x5c1eea(0x205)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5c1eea(0x205)},'imageCode':{'type':_0x5c1eea(0x205)}},'required':[_0x5c1eea(0x19b),_0x5c1eea(0x11f),_0x5c1eea(0x8cb)]};break;case _0x5c1eea(0x153):default:_0x669d82={'type':_0x5c1eea(0x1e7),'properties':{'questionText':{'type':_0x5c1eea(0x205)},'options':{'type':_0x5c1eea(0x3a6),'items':{'type':_0x5c1eea(0x205)}},'correctAnswerIndex':{'type':_0x5c1eea(0x72a)},'explanation':{'type':_0x5c1eea(0x205)},'imageCode':{'type':_0x5c1eea(0x205)}},'required':[_0x5c1eea(0x19b),'options','correctAnswerIndex',_0x5c1eea(0x8cb)]};break;}try{let _0x44ee5a=await callAnalysisApi(_0x1c50aa,_0x669d82);_0x44ee5a[_0x5c1eea(0x8e3)]&&Array[_0x5c1eea(0x1be)](_0x44ee5a[_0x5c1eea(0x8e3)])&&(_0x44ee5a[_0x5c1eea(0x8e3)]=_0x44ee5a[_0x5c1eea(0x8e3)][_0x5c1eea(0x7bf)](_0x9dcbfc=>typeof _0x9dcbfc===_0x5c1eea(0x67a)?_0x9dcbfc[_0x5c1eea(0xa16)](/S(\s*[\d_]+?\s*)S/g,_0x5c1eea(0x16c)):_0x9dcbfc)),_0x17d9ee[_0x5c1eea(0x594)]&&_0x17d9ee[_0x5c1eea(0x594)]['includes'](_0x5c1eea(0x6b6))&&(_0x44ee5a['imageCode']=''),currentEditingQuizData[_0x5c1eea(0x6ba)][_0x1c72ca]={..._0x17d9ee,..._0x44ee5a},renderQuizEditor(currentEditingQuizData),showMessage(_0x5c1eea(0x946));}catch(_0x1443c0){console[_0x5c1eea(0x2a8)](_0x5c1eea(0x1bd),_0x1443c0),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x3a9937=_0x3de37b,_0x22315d=document['getElementById'](_0x3a9937(0x7b9));_0x22315d[_0x3a9937(0x865)]=!![],_0x22315d[_0x3a9937(0x9ba)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x1f48b4=document[_0x3a9937(0x26b)](_0x3a9937(0x656))[_0x3a9937(0x884)],_0x3befb1=document[_0x3a9937(0x303)]('.question-editor-item');let _0x61ba5f=[];const _0x5a4e5a=Array[_0x3a9937(0x38e)](_0x3befb1)['map']((_0x25d338,_0x2aed33)=>{const _0x307dd3=_0x3a9937,_0x1fc508=_0x25d338[_0x307dd3(0x4ae)][_0x307dd3(0x94c)],_0xf45ee0=_0x25d338[_0x307dd3(0x8f1)](_0x307dd3(0x935))[_0x307dd3(0x884)];let _0x21bcb2={'questionType':_0x1fc508};const _0x1d5854=currentEditingQuizData['questions'][_0x2aed33];switch(_0x1fc508){case _0x307dd3(0x153):_0x21bcb2[_0x307dd3(0x19b)]=_0xf45ee0;const _0x3cd605=_0x25d338['querySelectorAll'](_0x307dd3(0x638));_0x21bcb2[_0x307dd3(0x8e3)]=Array[_0x307dd3(0x38e)](_0x3cd605)['map'](_0x1952b1=>_0x1952b1['value']);const _0x45e048=_0x25d338[_0x307dd3(0x8f1)](_0x307dd3(0x238));_0x21bcb2[_0x307dd3(0x7d9)]=_0x45e048?parseInt(_0x45e048['value']):0x0;break;case _0x307dd3(0x1c1):_0x21bcb2[_0x307dd3(0x19b)]=_0xf45ee0,_0x21bcb2[_0x307dd3(0x11f)]=_0x25d338[_0x307dd3(0x8f1)](_0x307dd3(0x623))[_0x307dd3(0x884)];break;case _0x307dd3(0x275):_0x21bcb2[_0x307dd3(0x19b)]=_0xf45ee0;const _0x1c232a=_0x25d338[_0x307dd3(0x8f1)](_0x307dd3(0x238));_0x21bcb2['correctAnswer']=_0x1c232a?_0x1c232a['value']===_0x307dd3(0x2b8):!![];break;case _0x307dd3(0x6cc):_0x21bcb2[_0x307dd3(0x622)]=_0xf45ee0;const _0x2f68e9=_0x25d338[_0x307dd3(0x8f1)](_0x307dd3(0x9df));_0x21bcb2[_0x307dd3(0x2c2)]=_0x2f68e9?_0x2f68e9[_0x307dd3(0x884)]:'',_0x61ba5f[_0x307dd3(0x8b7)](_0x21bcb2[_0x307dd3(0x2c2)]);break;default:_0x21bcb2[_0x307dd3(0x19b)]=_0xf45ee0;break;}return{..._0x1d5854,..._0x21bcb2};});_0x61ba5f[_0x3a9937(0x579)]>0x0&&_0x5a4e5a[_0x3a9937(0x597)](_0x3e6e9d=>{const _0x47dc5b=_0x3a9937;_0x3e6e9d[_0x47dc5b(0x14b)]==='matching_item'&&(_0x3e6e9d[_0x47dc5b(0x330)]=_0x61ba5f);});const _0x59d793=currentEditingQuizData['id'],_0x3321bd=doc(db,_0x3a9937(0x573)+appId+_0x3a9937(0x5df),_0x59d793);await updateDoc(_0x3321bd,{'topic':_0x1f48b4,'questions':_0x5a4e5a}),document['getElementById'](_0x3a9937(0x911))[_0x3a9937(0x74c)][_0x3a9937(0x1c0)]('hidden'),showMessage(_0x3a9937(0x85b),()=>initiateReGradeProcess(_0x59d793));}catch(_0x8fdadd){console[_0x3a9937(0x2a8)](_0x3a9937(0x28d),_0x8fdadd),showMessage(_0x3a9937(0x7a4));}finally{_0x22315d[_0x3a9937(0x865)]=![],_0x22315d[_0x3a9937(0x9ba)]=_0x3a9937(0x60d);}}async function initiateReGradeProcess(_0x30fead){const _0xbc9653=_0x3de37b;showMessage(_0xbc9653(0x1f4));try{const _0x282e1a=doc(db,_0xbc9653(0x573)+appId+_0xbc9653(0x5df),_0x30fead),_0x30dced=await getDoc(_0x282e1a);if(!_0x30dced[_0xbc9653(0x42d)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x10e18e={'id':_0x30fead,..._0x30dced[_0xbc9653(0x51a)]()},_0x469fea=collection(db,_0xbc9653(0x573)+appId+_0xbc9653(0x5df),_0x30fead,'submissions'),_0x10c8dd=await getDocs(_0x469fea);if(_0x10c8dd[_0xbc9653(0xa36)]){showMessage(_0xbc9653(0x22e));return;}const _0x15d070=_0x10c8dd['docs'][_0xbc9653(0x7bf)](_0xf0d407=>reGradeSingleSubmission(_0xf0d407,_0x10e18e));await Promise[_0xbc9653(0x3cd)](_0x15d070);if(_0x10e18e[_0xbc9653(0x551)]){const _0x24262f=doc(db,_0xbc9653(0x573)+appId+_0xbc9653(0x72b),_0x10e18e[_0xbc9653(0x551)]),_0x2e9f89=await getDoc(_0x24262f);if(_0x2e9f89[_0xbc9653(0x42d)]()&&_0x2e9f89[_0xbc9653(0x51a)]()[_0xbc9653(0x337)]){const _0x49e253=_0x2e9f89[_0xbc9653(0x51a)]()[_0xbc9653(0x337)][_0xbc9653(0x7bf)](_0x28c95f=>updateStudentProfile(_0x10e18e[_0xbc9653(0x551)],_0x28c95f));await Promise['all'](_0x49e253);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x10c8dd[_0xbc9653(0x386)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x3a9b9d){console['error']('Re-grade\x20process\x20failed:',_0x3a9b9d),showMessage(_0xbc9653(0x929)+_0x3a9b9d[_0xbc9653(0x216)]);}}async function reGradeSingleSubmission(_0x32ca74,_0x18d3d8){const _0x1de6cd=_0x3de37b,_0xc26fb5=_0x32ca74[_0x1de6cd(0x51a)](),_0x2067e2=_0xc26fb5['studentName'],_0xf245db=_0xc26fb5[_0x1de6cd(0x456)]||[],_0x266a3a=[];for(const _0x47c339 of _0xf245db){let _0x3c22be=0x0,_0x2555e9=[],_0x462d5f=0x0;const _0x374916=[];for(const _0x59425a of _0x47c339['answers']){let _0x227c1e;_0x59425a[_0x1de6cd(0x25d)]&&(_0x227c1e=_0x18d3d8[_0x1de6cd(0x6ba)]['find'](_0x26e5d9=>_0x26e5d9['id']===_0x59425a['questionId']));!_0x227c1e&&_0x59425a[_0x1de6cd(0x93e)]&&(_0x227c1e=_0x18d3d8['questions'][_0x1de6cd(0x1da)](_0x49fda9=>(_0x49fda9[_0x1de6cd(0x622)]||_0x49fda9['questionText'])===_0x59425a[_0x1de6cd(0x93e)]));let _0x177f7c=![];if(_0x227c1e){const _0x1784a3=_0x227c1e[_0x1de6cd(0x14b)]||_0x18d3d8[_0x1de6cd(0xa11)];switch(_0x1784a3){case _0x1de6cd(0x153):if(_0x227c1e[_0x1de6cd(0x8e3)]&&_0x227c1e[_0x1de6cd(0x7d9)]<_0x227c1e[_0x1de6cd(0x8e3)][_0x1de6cd(0x579)]){const _0x5953e7=_0x227c1e[_0x1de6cd(0x8e3)][_0x227c1e[_0x1de6cd(0x7d9)]];_0x177f7c=_0x59425a['answerText']===_0x5953e7;}break;case _0x1de6cd(0x275):const _0x4a4f5c=_0x59425a[_0x1de6cd(0x23c)]===!![]||_0x59425a[_0x1de6cd(0x23c)]==='true';_0x177f7c=_0x4a4f5c===_0x227c1e[_0x1de6cd(0x980)];break;case _0x1de6cd(0x6cc):_0x177f7c=_0x59425a[_0x1de6cd(0x23c)]===_0x227c1e[_0x1de6cd(0x2c2)];break;case _0x1de6cd(0x1c1):_0x177f7c=await gradeShortAnswer(_0x59425a[_0x1de6cd(0x23c)],_0x227c1e);break;default:_0x177f7c=_0x59425a[_0x1de6cd(0x516)];break;}}if(_0x177f7c){_0x3c22be++,_0x462d5f++;if(_0x462d5f===0x3)_0x2555e9['push'](BADGES[_0x1de6cd(0x5f4)]['id']);}else _0x462d5f=0x0;_0x374916[_0x1de6cd(0x8b7)]({..._0x59425a,'isCorrect':_0x177f7c});}let _0x39044c=_0x3c22be*0xa;_0x3c22be===_0x18d3d8[_0x1de6cd(0x6ba)][_0x1de6cd(0x579)]&&(_0x39044c+=0x32,_0x2555e9[_0x1de6cd(0x8b7)](BADGES['PERFECT_SCORE']['id'])),_0x266a3a[_0x1de6cd(0x8b7)]({..._0x47c339,'score':_0x3c22be,'points':_0x39044c,'badges':Array[_0x1de6cd(0x38e)](new Set(_0x2555e9)),'answers':_0x374916});}const _0x33919b=_0x266a3a[_0x1de6cd(0x579)]>0x0?_0x266a3a[0x0][_0x1de6cd(0x5aa)]:0x0,_0x8ec5ab=Math['max'](..._0x266a3a['map'](_0x3b8503=>_0x3b8503[_0x1de6cd(0x5aa)])),_0x1742c4=_0x266a3a[_0x1de6cd(0x579)]>0x0?_0x266a3a[_0x266a3a[_0x1de6cd(0x579)]-0x1][_0x1de6cd(0x5aa)]:0x0,_0x2855a7=_0x266a3a[_0x1de6cd(0x579)]>0x0?_0x266a3a[_0x266a3a['length']-0x1]['points']:0x0,_0x3f4f7f=doc(db,'artifacts/'+appId+_0x1de6cd(0x447)+_0x18d3d8['id']+_0x1de6cd(0x693),_0x2067e2);await updateDoc(_0x3f4f7f,{'attempts':_0x266a3a,'firstScore':_0x33919b,'bestScore':_0x8ec5ab,'latestScore':_0x1742c4,'points':_0x2855a7});}function cleanupQuizOptions(_0x9df2bd){const _0x18d673=_0x3de37b,_0x56e2a2=(_0x531233,_0x6ff1c4)=>_0x6ff1c4===0x0?_0x531233:_0x56e2a2(_0x6ff1c4,_0x531233%_0x6ff1c4),_0x2e59cc=_0x40fa1a=>{const _0x5bad9d=_0x4a4b;if(typeof _0x40fa1a!=='string')return null;_0x40fa1a=_0x40fa1a[_0x5bad9d(0x168)]();const _0x2de4d0=_0x40fa1a[_0x5bad9d(0x2e3)](/[ /]/)[_0x5bad9d(0x2bf)](_0x218aab=>_0x218aab!=='');if(_0x2de4d0[_0x5bad9d(0x579)]===0x3)return parseInt(_0x2de4d0[0x0])+parseInt(_0x2de4d0[0x1])/parseInt(_0x2de4d0[0x2]);else{if(_0x2de4d0[_0x5bad9d(0x579)]===0x2)return parseInt(_0x2de4d0[0x0])/parseInt(_0x2de4d0[0x1]);else{if(_0x2de4d0[_0x5bad9d(0x579)]===0x1&&!isNaN(_0x2de4d0[0x0]))return parseFloat(_0x2de4d0[0x0]);}}return null;},_0x5001de=_0x1b7021=>{const _0x418340=_0x4a4b;if(typeof _0x1b7021!==_0x418340(0x67a))return _0x1b7021;const _0x12c1b3=_0x1b7021[_0x418340(0x894)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x12c1b3){const _0x1340e3=parseInt(_0x12c1b3[0x1]);let _0x1591e7=parseInt(_0x12c1b3[0x2]),_0x17fdd7=parseInt(_0x12c1b3[0x3]);const _0x15a6b8=_0x56e2a2(_0x1591e7,_0x17fdd7);_0x1591e7/=_0x15a6b8,_0x17fdd7/=_0x15a6b8;if(_0x17fdd7===0x1)return(_0x1340e3+_0x1591e7)[_0x418340(0x400)]();return _0x1340e3+'\x20'+_0x1591e7+'/'+_0x17fdd7;}return _0x1b7021;};return _0x9df2bd&&_0x9df2bd[_0x18d673(0x6ba)]&&_0x9df2bd[_0x18d673(0x6ba)][_0x18d673(0x597)](_0x17d470=>{const _0x3f9d44=_0x18d673;if(_0x17d470[_0x3f9d44(0x14b)]===_0x3f9d44(0x153)&&_0x17d470[_0x3f9d44(0x8e3)]){const _0x568c14=new Map(),_0x3fa160=_0x17d470[_0x3f9d44(0x8e3)][_0x17d470[_0x3f9d44(0x7d9)]];_0x17d470[_0x3f9d44(0x8e3)][_0x3f9d44(0x597)](_0x4ec969=>{const _0x24bee7=_0x3f9d44,_0x9db945=_0x5001de(_0x4ec969),_0x510369=_0x2e59cc(_0x9db945);_0x510369!==null&&!_0x568c14[_0x24bee7(0x50f)](_0x510369)&&_0x568c14[_0x24bee7(0x454)](_0x510369,_0x9db945);}),_0x17d470[_0x3f9d44(0x8e3)]=Array[_0x3f9d44(0x38e)](_0x568c14[_0x3f9d44(0x4bb)]());const _0x3f2010=_0x17d470[_0x3f9d44(0x8e3)][_0x3f9d44(0x4f1)](_0x2d171c=>_0x2d171c===_0x5001de(_0x3fa160));_0x17d470[_0x3f9d44(0x7d9)]=_0x3f2010!==-0x1?_0x3f2010:0x0;}}),_0x9df2bd;}function showGameStartConfirmationModal(_0x5dca9f,_0x26c781,_0x5a961b){const _0x2fadeb=_0x3de37b,_0x5d8932=document[_0x2fadeb(0x26b)](_0x2fadeb(0x1c5));document['getElementById']('game-start-modal-title')[_0x2fadeb(0x64c)]=_0x2fadeb(0xa09)+_0x5a961b,document[_0x2fadeb(0x26b)](_0x2fadeb(0x2f5))[_0x2fadeb(0x884)]=_0x5dca9f,document[_0x2fadeb(0x26b)](_0x2fadeb(0x1ff))['value']=_0x26c781,document[_0x2fadeb(0x26b)](_0x2fadeb(0x788))[_0x2fadeb(0x268)]=!![],_0x5d8932['classList'][_0x2fadeb(0x953)](_0x2fadeb(0x2d5));}async function saveGameResultsAsSubmissions(_0x1447f0){const _0x83acc5=_0x3de37b;console[_0x83acc5(0x1c3)](_0x83acc5(0x662),_0x1447f0);const _0x1659fd=_0x1447f0[_0x83acc5(0x994)];let _0x488f68=[];if(_0x1447f0['players'])_0x488f68=Object[_0x83acc5(0x1ee)](_0x1447f0['players'])['map'](([_0x570603,_0x34fbeb])=>({'name':_0x570603,..._0x34fbeb}));else{if(_0x1447f0[_0x83acc5(0x85a)])Object[_0x83acc5(0x4bb)](_0x1447f0[_0x83acc5(0x85a)])[_0x83acc5(0x597)](_0xc32061=>{const _0x657454=_0x83acc5;_0xc32061[_0x657454(0xa06)][_0x657454(0x597)](_0xdde9d9=>{const _0x352b42=_0x657454;_0x488f68[_0x352b42(0x8b7)]({'name':_0xdde9d9,'score':_0xc32061[_0x352b42(0x5aa)]});});});else _0x1447f0[_0x83acc5(0x49e)]&&Object['entries'](_0x1447f0[_0x83acc5(0x49e)])[_0x83acc5(0x597)](([_0x6b2671,_0x404580])=>{const _0x33f7e4=_0x83acc5;_0x488f68[_0x33f7e4(0x8b7)]({'name':_0x6b2671,..._0x404580});});}if(_0x488f68['length']===0x0){console['log'](_0x83acc5(0x6b2));return;}const _0xf0b03c=_0x1447f0['shuffledQuiz']?.[_0x83acc5(0x6ba)][_0x83acc5(0x579)]||currentQuizData[_0x83acc5(0x6ba)][_0x83acc5(0x579)],_0x109171=writeBatch(db);for(const _0x19c7e4 of _0x488f68){const _0x5aa31e=_0x19c7e4['score']||0x0,_0x123a9c=doc(db,_0x83acc5(0x573)+appId+_0x83acc5(0x447)+_0x1659fd+_0x83acc5(0x693),_0x19c7e4[_0x83acc5(0x234)]),_0x3a3b5a={'score':_0x5aa31e,'points':_0x5aa31e*0xa,'badges':_0x19c7e4[_0x83acc5(0x51f)]||[],'submittedAt':new Date()[_0x83acc5(0x211)](),'answers':(_0x19c7e4[_0x83acc5(0x1a1)]||[])[_0x83acc5(0x7bf)](_0x5b9768=>({'questionId':_0x5b9768[_0x83acc5(0x25d)],'answer':_0x5b9768[_0x83acc5(0x23c)],'answerText':_0x5b9768[_0x83acc5(0x644)],'isCorrect':_0x5b9768[_0x83acc5(0x516)],'originalQuestionText':_0x5b9768[_0x83acc5(0x93e)]}))},_0x4b1020=await getDoc(_0x123a9c),_0xea9492=_0x4b1020[_0x83acc5(0x42d)]()?_0x4b1020[_0x83acc5(0x51a)]():{},_0x226c77=_0xea9492[_0x83acc5(0x9c7)]||0x0,_0x113e60=_0xea9492[_0x83acc5(0x456)]||[],_0x119b97={'studentName':_0x19c7e4['name'],'totalQuestions':_0xf0b03c,'attempts':arrayUnion(_0x3a3b5a),'latestScore':_0x5aa31e,'latestSubmittedAt':_0x3a3b5a[_0x83acc5(0x462)],'bestScore':Math[_0x83acc5(0x104)](_0x226c77,_0x5aa31e),'firstScore':_0x113e60[_0x83acc5(0x579)]===0x0?_0x5aa31e:_0xea9492['firstScore']||0x0};_0x109171[_0x83acc5(0x454)](_0x123a9c,_0x119b97,{'merge':!![]});}try{await _0x109171['commit'](),showMessage(_0x83acc5(0x990)+_0x488f68[_0x83acc5(0x579)]+_0x83acc5(0xa44));const _0x5d6628=_0x1447f0[_0x83acc5(0x7a9)]?.[_0x83acc5(0x551)]||currentQuizData?.[_0x83acc5(0x551)]||currentProjectId;if(_0x5d6628){const _0x17cf68=[...new Set(_0x488f68[_0x83acc5(0x7bf)](_0x371e5c=>_0x371e5c[_0x83acc5(0x234)]))];for(const _0x1f2c83 of _0x17cf68){await updateStudentProfile(_0x5d6628,_0x1f2c83);}}}catch(_0x2c6497){console[_0x83acc5(0x2a8)](_0x83acc5(0x9ee),_0x2c6497),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(){const _0xb0c4d5=_0x3de37b;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0xb0c4d5(0x79c));return;}const _0x372744=document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x59b));_0x372744['disabled']=!![],_0x372744['innerHTML']=_0xb0c4d5(0x4b9);const _0x41f5c3=document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x934))['checked'];let _0x2d3697=document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x589))['innerText'][_0xb0c4d5(0x168)]();_0x41f5c3&&!_0x2d3697[_0xb0c4d5(0x397)](_0xb0c4d5(0x175))&&(_0x2d3697=_0xb0c4d5(0x47d)+_0x2d3697);try{const _0x241110={'resultsDisplay':document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x767))['value'],'shuffle':document['getElementById'](_0xb0c4d5(0x47b))[_0xb0c4d5(0x884)],'timerMode':document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x325))[_0xb0c4d5(0x884)],'timerDuration':parseInt(document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x13b))['value'])||0xa,'passingScore':parseInt(document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x297))['value'])||0x0,'isAdaptive':document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x4ff))[_0xb0c4d5(0x268)],'loopUntilPass':document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x270))[_0xb0c4d5(0x268)]},_0x1aa299=(currentQuizData[_0xb0c4d5(0x6ba)]||[])['map']((_0x2efe3a,_0x38f403)=>{const _0xe01731=_0xb0c4d5,_0x466189=document['getElementById'](_0xe01731(0x685))['value'],_0x4f414b={'id':'q_'+Date[_0xe01731(0x504)]()+'_'+_0x38f403,'questionText':_0x2efe3a[_0xe01731(0x19b)]||'','explanation':_0x2efe3a[_0xe01731(0x8cb)]||_0xe01731(0x455),'questionType':_0x2efe3a['questionType']||_0x466189,'imageCode':_0x2efe3a['imageCode']||null};return(_0x4f414b[_0xe01731(0x14b)]===_0xe01731(0x153)||_0x4f414b[_0xe01731(0x14b)]===_0xe01731(0x840)||_0x4f414b[_0xe01731(0x14b)]===_0xe01731(0x2b7)&&_0x2efe3a[_0xe01731(0x8e3)])&&(_0x4f414b['options']=_0x2efe3a['options']||[],_0x4f414b[_0xe01731(0x7d9)]=_0x2efe3a[_0xe01731(0x7d9)]!==undefined?_0x2efe3a[_0xe01731(0x7d9)]:0x0),(_0x4f414b['questionType']===_0xe01731(0x1c1)||_0x4f414b[_0xe01731(0x14b)]===_0xe01731(0x110)||_0x4f414b['questionType']===_0xe01731(0x2b7)&&_0x2efe3a['idealAnswer'])&&(_0x4f414b[_0xe01731(0x11f)]=_0x2efe3a[_0xe01731(0x11f)]||''),_0x4f414b[_0xe01731(0x14b)]===_0xe01731(0x275)&&(_0x4f414b[_0xe01731(0x980)]=_0x2efe3a['correctAnswer']===!![]),_0x4f414b[_0xe01731(0x14b)]===_0xe01731(0x6cc)&&(_0x4f414b[_0xe01731(0x622)]=_0x2efe3a['stem']||'',_0x4f414b['correctResponse']=_0x2efe3a[_0xe01731(0x2c2)]||'',_0x4f414b[_0xe01731(0x330)]=_0x2efe3a[_0xe01731(0x330)]||[]),_0x4f414b;}),_0xf41edd={'topic':_0x2d3697,'quizType':currentQuizData[_0xb0c4d5(0xa11)]||_0xb0c4d5(0x153),'questions':_0x1aa299,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xb0c4d5(0x211)](),'status':_0xb0c4d5(0x55c),'settings':_0x241110,'quizMode':_0x41f5c3?_0xb0c4d5(0x7ae):_0xb0c4d5(0x83d),'pairedQuizId':null,'lessonPlan':null};let _0x3153d5;while(!![]){_0x3153d5=Math[_0xb0c4d5(0x48a)](0x3e8+Math[_0xb0c4d5(0x3d1)]()*0x2328)[_0xb0c4d5(0x400)]();const _0x4346d8=await getDoc(doc(db,_0xb0c4d5(0x573)+appId+'/public/data/quizzes',_0x3153d5));if(!_0x4346d8['exists']())break;}await setDoc(doc(db,_0xb0c4d5(0x573)+appId+'/public/data/quizzes',_0x3153d5),_0xf41edd),currentQuizData['settings']=_0x241110,currentQuizData['id']=_0x3153d5;const _0x23860d=document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x426));_0x23860d[_0xb0c4d5(0x9ba)]=_0xb0c4d5(0x4ce)+_0x3153d5+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document['getElementById'](_0xb0c4d5(0x305))[_0xb0c4d5(0x813)](_0xb0c4d5(0x8c2),()=>copyTextToClipboard(_0x3153d5,_0xb0c4d5(0x827))),document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x897))[_0xb0c4d5(0x813)]('click',()=>handleStartLiveRace(_0x3153d5)),document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x3b5))['addEventListener'](_0xb0c4d5(0x8c2),()=>startPresentation(currentQuizData)),document[_0xb0c4d5(0x26b)](_0xb0c4d5(0x751))[_0xb0c4d5(0x813)](_0xb0c4d5(0x8c2),startAdminTest),showMessage(_0xb0c4d5(0x85e));}catch(_0x439e19){console[_0xb0c4d5(0x2a8)](_0xb0c4d5(0x8f7),_0x439e19),showMessage(_0xb0c4d5(0x6c8)),_0x372744[_0xb0c4d5(0x865)]=![],_0x372744[_0xb0c4d5(0x9ba)]=_0xb0c4d5(0x172);}}function promptForProjectAndSave(){const _0x3bd7d0=_0x3de37b,_0x5c36ca=document['getElementById']('move-quiz-modal'),_0x561370=document[_0x3bd7d0(0x26b)](_0x3bd7d0(0x647)),_0x5b3e1d=_0x5c36ca['querySelector']('h3'),_0x24665d=document['getElementById'](_0x3bd7d0(0x1a0));_0x5b3e1d[_0x3bd7d0(0x64c)]=_0x3bd7d0(0x96a),_0x24665d[_0x3bd7d0(0x64c)]='เลือกและบันทึก';allProjects[_0x3bd7d0(0x579)]===0x0?(_0x561370['innerHTML']=_0x3bd7d0(0x88c),_0x24665d['disabled']=!![]):(_0x561370[_0x3bd7d0(0x9ba)]=allProjects[_0x3bd7d0(0x7bf)](_0x450146=>_0x3bd7d0(0x2ac)+_0x450146['id']+'\x22>'+_0x450146[_0x3bd7d0(0x5ab)]+'</option>')[_0x3bd7d0(0xa17)](''),_0x24665d[_0x3bd7d0(0x865)]=![]);_0x5c36ca[_0x3bd7d0(0x74c)][_0x3bd7d0(0x953)](_0x3bd7d0(0x2d5));const _0x3a6e6d=()=>{const _0x5c9021=_0x3bd7d0,_0xb3c31f=_0x561370[_0x5c9021(0x884)];_0xb3c31f?(currentProjectId=_0xb3c31f,_0x5c36ca['classList'][_0x5c9021(0x1c0)]('hidden'),saveQuiz(),_0x5b3e1d[_0x5c9021(0x64c)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x24665d[_0x5c9021(0x64c)]=_0x5c9021(0x9c2),_0x24665d[_0x5c9021(0x394)](_0x5c9021(0x8c2),_0x3a6e6d),_0x24665d[_0x5c9021(0x813)](_0x5c9021(0x8c2),confirmMoveQuiz)):showMessage(_0x5c9021(0x2b5));};_0x24665d[_0x3bd7d0(0x394)]('click',confirmMoveQuiz),_0x24665d[_0x3bd7d0(0x813)](_0x3bd7d0(0x8c2),_0x3a6e6d);}function copyTextToClipboard(_0x3f5fe1,_0x83a07a){const _0x546f1b=_0x3de37b,_0xc23b24=document['createElement']('textarea');_0xc23b24[_0x546f1b(0x884)]=_0x3f5fe1,_0xc23b24[_0x546f1b(0x12e)][_0x546f1b(0xa04)]=_0x546f1b(0x56d),_0xc23b24['style'][_0x546f1b(0x872)]='0',document[_0x546f1b(0x531)][_0x546f1b(0x4c1)](_0xc23b24),_0xc23b24[_0x546f1b(0x8d1)](),_0xc23b24[_0x546f1b(0x5cb)]();try{const _0x5dd83d=document[_0x546f1b(0x10e)]('copy');showMessage(_0x5dd83d?_0x83a07a:_0x546f1b(0x9cc));}catch(_0x129e80){showMessage(_0x546f1b(0x9cc)),console['error'](_0x546f1b(0x68b),_0x129e80);}document[_0x546f1b(0x531)][_0x546f1b(0x9ff)](_0xc23b24);}function listenForProjectQuizzes(_0x32e2c8){const _0x2db926=_0x3de37b,_0x34ecef=collection(db,_0x2db926(0x573)+appId+_0x2db926(0x5df)),_0x49529f=query(_0x34ecef,where(_0x2db926(0x551),'==',_0x32e2c8));unsubscribeQuizzesListener=onSnapshot(_0x49529f,async _0x29986a=>{const _0x410ae6=_0x2db926;allQuizzes=_0x29986a[_0x410ae6(0x7c4)][_0x410ae6(0x7bf)](_0x403a13=>({'id':_0x403a13['id'],..._0x403a13['data']()})),renderQuizzes();},_0x320b6c=>{const _0x414c70=_0x2db926;console[_0x414c70(0x2a8)](_0x414c70(0xa3c),_0x320b6c),document[_0x414c70(0x26b)](_0x414c70(0x795))[_0x414c70(0x9ba)]=_0x414c70(0x774);});}async function renderQuizzes(){const _0x238f83=_0x3de37b,_0x35cb4b=document['getElementById']('project-quizzes-list'),_0x385a07=document[_0x238f83(0x26b)](_0x238f83(0x73d))[_0x238f83(0x884)][_0x238f83(0x82b)]();let _0x506b7d;currentProjectId==='starred'?_0x506b7d=starredQuizzes:_0x506b7d=allQuizzes;let _0x739edf=_0x506b7d[_0x238f83(0x2bf)](_0x359df3=>_0x359df3[_0x238f83(0x680)][_0x238f83(0x82b)]()[_0x238f83(0x15f)](_0x385a07));_0x739edf[_0x238f83(0x9c4)]((_0x507562,_0x1929a8)=>new Date(_0x1929a8['createdAt'])-new Date(_0x507562[_0x238f83(0x78c)]));if(_0x739edf['length']===0x0){_0x35cb4b[_0x238f83(0x9ba)]=_0x238f83(0x5ec);return;}const _0x43b658={},_0x35c02c=_0x739edf['map'](async _0x41a95f=>{const _0x39a5d4=_0x238f83,_0x27d0f6=collection(db,_0x39a5d4(0x573)+appId+_0x39a5d4(0x447)+_0x41a95f['id']+_0x39a5d4(0x693)),_0x27aa49=await getDocs(_0x27d0f6);_0x43b658[_0x41a95f['id']]=_0x27aa49[_0x39a5d4(0x386)];});await Promise[_0x238f83(0x3cd)](_0x35c02c);let _0x37fb78='';_0x739edf[_0x238f83(0x597)](_0x2fc19b=>{const _0x4023b5=_0x238f83,_0x2e2e1f=_0x43b658[_0x2fc19b['id']]||0x0,_0x40fa70=_0x2fc19b[_0x4023b5(0x921)]||'active',_0x46fcbf=_0x2fc19b['settings']?.[_0x4023b5(0x5d1)]||_0x4023b5(0x6ec);let _0x141e63='',_0x1318e8='';const _0x36f93f=new Date();let _0xda354=_0x40fa70;if(_0x40fa70===_0x4023b5(0x675)){const _0x2a7a22=_0x2fc19b[_0x4023b5(0x572)]?new Date(_0x2fc19b[_0x4023b5(0x572)]):null,_0x2243e7=_0x2fc19b[_0x4023b5(0x689)]?new Date(_0x2fc19b[_0x4023b5(0x689)]):null;if(_0x2243e7&&_0x36f93f>_0x2243e7)_0xda354=_0x4023b5(0x5f6);else _0x2a7a22&&_0x36f93f<_0x2a7a22?_0xda354=_0x4023b5(0x660):_0xda354=_0x4023b5(0x55c);}switch(_0xda354){case _0x4023b5(0x5f6):_0x141e63=_0x4023b5(0x243),_0x1318e8=_0x4023b5(0x39e);break;case _0x4023b5(0x660):_0x141e63=_0x4023b5(0x1e2),_0x1318e8=_0x4023b5(0x1db);break;case _0x4023b5(0x55c):_0x141e63=_0x46fcbf!==_0x4023b5(0x6ec)?_0x4023b5(0x6a4):_0x4023b5(0x864),_0x1318e8=_0x4023b5(0x68d);break;default:_0x141e63=_0x4023b5(0x15e),_0x1318e8=_0x4023b5(0x68d);break;}let _0x3bceff='';const _0x2f63d4={'day':_0x4023b5(0x63a),'month':_0x4023b5(0x63a),'year':'numeric','hour':_0x4023b5(0x63a),'minute':'2-digit','hour12':![]};if(_0x40fa70===_0x4023b5(0x675)){if(_0x2fc19b[_0x4023b5(0x572)])_0x3bceff+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x2fc19b[_0x4023b5(0x572)])[_0x4023b5(0x8e2)](_0x4023b5(0x1ba),_0x2f63d4)+_0x4023b5(0x81d);if(_0x2fc19b[_0x4023b5(0x689)])_0x3bceff+=_0x4023b5(0x2b3)+new Date(_0x2fc19b[_0x4023b5(0x689)])[_0x4023b5(0x8e2)](_0x4023b5(0x1ba),_0x2f63d4)+_0x4023b5(0x81d);}let _0x349f10='';if(_0x2fc19b[_0x4023b5(0x624)]){const _0x1c6d1c=allQuizzes[_0x4023b5(0x1da)](_0x121ff0=>_0x121ff0['id']===_0x2fc19b[_0x4023b5(0x624)]);if(_0x1c6d1c){let _0x5ac654,_0x18b9d7;new Date(_0x2fc19b[_0x4023b5(0x78c)])<new Date(_0x1c6d1c[_0x4023b5(0x78c)])?(_0x5ac654=_0x2fc19b['id'],_0x18b9d7=_0x1c6d1c['id']):(_0x5ac654=_0x1c6d1c['id'],_0x18b9d7=_0x2fc19b['id']),_0x349f10+=_0x4023b5(0x952)+_0x18b9d7+_0x4023b5(0x34f)+_0x5ac654+_0x4023b5(0x138);}}else _0x2fc19b[_0x4023b5(0x517)]===_0x4023b5(0x7ae)&&(_0x349f10+=_0x4023b5(0x821)+_0x2fc19b['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x2fc19b[_0x4023b5(0x517)]==='pre-test'&&_0x2e2e1f>0x0)_0x349f10+=_0x4023b5(0x821)+_0x2fc19b['id']+_0x4023b5(0x5f3);else!_0x2fc19b[_0x4023b5(0x624)]&&_0x2fc19b[_0x4023b5(0x517)]!==_0x4023b5(0x7ae)&&_0x2e2e1f>0x0&&(_0x349f10+=_0x4023b5(0x821)+_0x2fc19b['id']+_0x4023b5(0x547));let _0x51966d='';_0x2fc19b['pairedQuizId']?_0x51966d=_0x4023b5(0x7d2)+_0x2fc19b['id']+_0x4023b5(0x89a):_0x51966d=_0x4023b5(0x7d2)+_0x2fc19b['id']+_0x4023b5(0x9c9),_0x37fb78+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x2fc19b['id']+_0x4023b5(0x7e1)+_0x2fc19b[_0x4023b5(0x680)]+_0x4023b5(0x9da)+_0x2fc19b[_0x4023b5(0x6ba)][_0x4023b5(0x579)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2fc19b['createdAt'])[_0x4023b5(0x8e2)](_0x4023b5(0x1ba))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x2e2e1f+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3bceff+_0x4023b5(0x6fd)+_0x1318e8+'\x22>'+_0x141e63+_0x4023b5(0x5e8)+_0x2fc19b['id']+_0x4023b5(0x950)+_0x2fc19b['id']+_0x4023b5(0x73e)+(_0x2fc19b[_0x4023b5(0x1c6)]?'fas\x20fa-star\x20text-yellow-500':'far\x20fa-star')+_0x4023b5(0x7f0)+_0x349f10+_0x4023b5(0x346)+_0x2fc19b['id']+_0x4023b5(0x27b)+_0x2fc19b['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2fc19b['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2fc19b['id']+_0x4023b5(0x332)+_0x2fc19b['id']+_0x4023b5(0x395)+_0x2fc19b['id']+_0x4023b5(0x8ad)+_0x2fc19b['id']+_0x4023b5(0x8d6)+_0x2fc19b[_0x4023b5(0x680)]+_0x4023b5(0x576)+_0x2fc19b['id']+_0x4023b5(0x170)+_0x2fc19b['id']+_0x4023b5(0x262)+_0x51966d+_0x4023b5(0x9be)+_0x2fc19b['id']+_0x4023b5(0x2b1)+_0x2fc19b['id']+_0x4023b5(0x75a)+_0x2fc19b['id']+_0x4023b5(0x2c3)+_0x2fc19b['id']+_0x4023b5(0x5e9)+_0x2fc19b['id']+_0x4023b5(0x31f)+_0x2fc19b['id']+_0x4023b5(0x86f)+_0x2fc19b['id']+_0x4023b5(0x3f3)+_0x2fc19b['id']+_0x4023b5(0x8d6)+_0x2fc19b[_0x4023b5(0x680)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x2fc19b['id']+_0x4023b5(0x3cf);}),_0x35cb4b[_0x238f83(0x9ba)]=_0x37fb78,document[_0x238f83(0x303)](_0x238f83(0x1de))['forEach'](_0x8f7d9f=>{const _0x181fe4=_0x238f83;_0x8f7d9f[_0x181fe4(0x813)](_0x181fe4(0x8c2),()=>{const _0x93b338=_0x181fe4,_0x43ecb7=_0x8f7d9f[_0x93b338(0x4ae)][_0x93b338(0x994)];showQuizDetailView(_0x43ecb7);});});}async function handleUnpairQuiz(_0x2dd1f9){const _0x59bd29=_0x3de37b,_0x384b25=allQuizzes[_0x59bd29(0x1da)](_0x9cbc49=>_0x9cbc49['id']===_0x2dd1f9);if(!_0x384b25||!_0x384b25[_0x59bd29(0x624)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x59bd29(0x5ee),async()=>{const _0x2f0dc0=_0x59bd29;try{const _0xea81db=doc(db,_0x2f0dc0(0x573)+appId+_0x2f0dc0(0x5df),_0x2dd1f9),_0x3c58fc=doc(db,_0x2f0dc0(0x573)+appId+'/public/data/quizzes',_0x384b25[_0x2f0dc0(0x624)]),_0x1f2e16=writeBatch(db);_0x1f2e16[_0x2f0dc0(0x5b5)](_0xea81db,{'pairedQuizId':null}),_0x1f2e16[_0x2f0dc0(0x5b5)](_0x3c58fc,{'pairedQuizId':null}),await _0x1f2e16['commit'](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x59446d){console['error'](_0x2f0dc0(0x5af),_0x59446d),showMessage(_0x2f0dc0(0x66d));}});}function formatAndPrintLessonPlan(_0x496648,_0x532d88){const _0x4ecd8e=_0x3de37b,_0x513676=window[_0x4ecd8e(0x12b)]('',_0x4ecd8e(0x9c3)),_0x552dd3=_0x4ecd8e(0x39d)+_0x532d88[_0x4ecd8e(0x680)]+_0x4ecd8e(0x984)+_0x532d88['topic']+_0x4ecd8e(0x6b7)+_0x496648['learningGaps'][_0x4ecd8e(0x7bf)](_0xe3c8a9=>_0x4ecd8e(0x3fb)+_0xe3c8a9+'</li>')[_0x4ecd8e(0xa17)]('')+_0x4ecd8e(0x62f)+_0x496648[_0x4ecd8e(0x9c8)]+_0x4ecd8e(0x327)+_0x496648[_0x4ecd8e(0x9b7)]['map'](_0x5e30ba=>_0x4ecd8e(0xa14)+_0x5e30ba[_0x4ecd8e(0x6d0)]+_0x4ecd8e(0x29d)+_0x5e30ba[_0x4ecd8e(0x536)]+_0x4ecd8e(0x3d9))[_0x4ecd8e(0xa17)]('')+_0x4ecd8e(0x5db);_0x513676[_0x4ecd8e(0x5c7)][_0x4ecd8e(0x4dd)](_0x552dd3),_0x513676[_0x4ecd8e(0x5c7)][_0x4ecd8e(0x545)](),_0x513676[_0x4ecd8e(0x2db)]=function(){setTimeout(()=>{const _0x16e135=_0x4a4b;_0x513676[_0x16e135(0x896)]();},0x3e8);};}async function handleAiFixFormula(_0x482f60){const _0x38e8b0=_0x3de37b,_0x5d9ed1=document[_0x38e8b0(0x8f1)]('.question-editor-item[data-q-index=\x22'+_0x482f60+'\x22]');if(!_0x5d9ed1)return;const _0x278d09=_0x5d9ed1[_0x38e8b0(0x4ae)]['qType'],_0xf9b8=_0x5d9ed1['querySelector'](_0x38e8b0(0x7d3));let _0x489084={'question':_0x5d9ed1['querySelector'](_0x38e8b0(0x935))[_0x38e8b0(0x884)]};switch(_0x278d09){case _0x38e8b0(0x153):_0x489084[_0x38e8b0(0x8e3)]=Array[_0x38e8b0(0x38e)](_0x5d9ed1[_0x38e8b0(0x303)](_0x38e8b0(0x638)))[_0x38e8b0(0x7bf)](_0x41b99f=>_0x41b99f['value']);break;case _0x38e8b0(0x1c1):_0x489084['idealAnswer']=_0x5d9ed1['querySelector'](_0x38e8b0(0x623))['value'];break;case _0x38e8b0(0x6cc):_0x489084[_0x38e8b0(0x2c2)]=_0x5d9ed1['querySelector'](_0x38e8b0(0x9df))[_0x38e8b0(0x884)];break;}_0xf9b8[_0x38e8b0(0x9ba)]=_0x38e8b0(0x6de),_0xf9b8[_0x38e8b0(0x865)]=!![];try{const _0x5474b8=_0x38e8b0(0x8a8)+JSON[_0x38e8b0(0x670)](_0x489084)+_0x38e8b0(0x107),_0x5d46fc={'type':_0x38e8b0(0x1e7),'properties':{'fixedData':{'type':_0x38e8b0(0x1e7),'properties':{'question':{'type':_0x38e8b0(0x205)},'options':{'type':_0x38e8b0(0x3a6),'items':{'type':_0x38e8b0(0x205)}},'idealAnswer':{'type':_0x38e8b0(0x205)},'correctResponse':{'type':_0x38e8b0(0x205)}},'required':[_0x38e8b0(0x6d0)]}},'required':[_0x38e8b0(0x585)]},_0x10d0b1=await callAnalysisApi(_0x5474b8,_0x5d46fc);if(_0x10d0b1&&_0x10d0b1['fixedData']){const _0x217578=_0x10d0b1[_0x38e8b0(0x585)];_0x5d9ed1[_0x38e8b0(0x8f1)](_0x38e8b0(0x935))[_0x38e8b0(0x884)]=_0x217578[_0x38e8b0(0x6d0)]||_0x489084[_0x38e8b0(0x6d0)];switch(_0x278d09){case _0x38e8b0(0x153):_0x217578[_0x38e8b0(0x8e3)]&&_0x217578[_0x38e8b0(0x8e3)][_0x38e8b0(0x579)]>0x0&&_0x5d9ed1[_0x38e8b0(0x303)](_0x38e8b0(0x638))[_0x38e8b0(0x597)]((_0x3b662c,_0x53dc94)=>{const _0x386d07=_0x38e8b0;_0x3b662c[_0x386d07(0x884)]=_0x217578[_0x386d07(0x8e3)][_0x53dc94]||_0x489084['options'][_0x53dc94];});break;case _0x38e8b0(0x1c1):_0x5d9ed1[_0x38e8b0(0x8f1)](_0x38e8b0(0x623))[_0x38e8b0(0x884)]=_0x217578[_0x38e8b0(0x11f)]||_0x489084[_0x38e8b0(0x11f)];break;case _0x38e8b0(0x6cc):_0x5d9ed1[_0x38e8b0(0x8f1)]('.correct-response-input')[_0x38e8b0(0x884)]=_0x217578[_0x38e8b0(0x2c2)]||_0x489084[_0x38e8b0(0x2c2)];break;}if(_0x489084[_0x38e8b0(0x6d0)]!==_0x217578[_0x38e8b0(0x6d0)])try{const _0x5611c9=collection(db,_0x38e8b0(0x573)+appId+'/public/data/learnedFixes');await addDoc(_0x5611c9,{'broken':_0x489084[_0x38e8b0(0x6d0)],'fixed':_0x217578[_0x38e8b0(0x6d0)],'createdAt':serverTimestamp()});}catch(_0x30b6e2){console['error'](_0x38e8b0(0x84f),_0x30b6e2);}showMessage(_0x38e8b0(0x76c));}else throw new Error(_0x38e8b0(0x53d));}catch(_0x265da9){console['error'](_0x38e8b0(0x79a),_0x265da9),showMessage(_0x38e8b0(0x9cb));}finally{_0xf9b8[_0x38e8b0(0x9ba)]=_0x38e8b0(0x18b),_0xf9b8[_0x38e8b0(0x865)]=![];}}async function handleGenerateLessonPlan(_0x1c9e3c){const _0x152c60=_0x3de37b;showMessage(_0x152c60(0x949));try{const _0x158184=doc(db,_0x152c60(0x573)+appId+_0x152c60(0x5df),_0x1c9e3c),_0x49bdbc=await getDoc(_0x158184);if(!_0x49bdbc[_0x152c60(0x42d)]())throw new Error(_0x152c60(0x2c8));const _0x159356={'id':_0x1c9e3c,..._0x49bdbc[_0x152c60(0x51a)]()},_0x3d47d3=collection(db,_0x152c60(0x573)+appId+_0x152c60(0x5df),_0x1c9e3c,_0x152c60(0x42b)),_0x264b48=await getDocs(_0x3d47d3),_0x2231e1=_0x264b48[_0x152c60(0x7c4)][_0x152c60(0x7bf)](_0xe69d75=>_0xe69d75['data']());if(_0x2231e1[_0x152c60(0x579)]===0x0)throw new Error(_0x152c60(0x2ba));const _0x440b4e=calculateItemAnalysis(_0x159356,_0x2231e1)[_0x152c60(0xa4c)],_0x52ea61=calculateDistractorAnalysis(_0x159356,_0x2231e1),_0x204080=_0x5e14ab=>{const _0x2362b9=_0x152c60;if(!_0x5e14ab)return'';return _0x5e14ab[_0x2362b9(0xa16)](/\\/g,'\x5c\x5c')[_0x2362b9(0xa16)](/"/g,'\x5c\x22')[_0x2362b9(0xa16)](/\n/g,'\x5cn');};let _0x21273b=_0x152c60(0x7f9);_0x159356[_0x152c60(0x6ba)][_0x152c60(0x597)]((_0x3a2213,_0x5e37e6)=>{const _0x3db6c7=_0x152c60,_0x269cf8=_0x440b4e[_0x5e37e6]?.['p'][_0x3db6c7(0x283)](0x2)||'N/A',_0x34c958=_0x440b4e[_0x5e37e6]?.['r']['toFixed'](0x2)||_0x3db6c7(0x4e2),_0x597bef=_0x204080(_0x3a2213[_0x3db6c7(0x19b)]||_0x3a2213[_0x3db6c7(0x622)]);_0x21273b+=_0x3db6c7(0x64a)+(_0x5e37e6+0x1)+'\x20(p='+_0x269cf8+_0x3db6c7(0x7fc)+_0x34c958+'):\x20'+_0x597bef+'\x5cn';if(_0x3a2213[_0x3db6c7(0x14b)]===_0x3db6c7(0x153)&&_0x52ea61[_0x5e37e6]){const _0x90ca17=_0x52ea61[_0x5e37e6],_0x3eddc6=Object['keys'](_0x90ca17)[_0x3db6c7(0x2bf)](_0x4c9aad=>parseInt(_0x4c9aad)!==_0x3a2213[_0x3db6c7(0x7d9)])['sort']((_0x203af5,_0x11b494)=>_0x90ca17[_0x11b494][_0x3db6c7(0x7e0)]-_0x90ca17[_0x203af5]['total'])[0x0];if(_0x3eddc6&&_0x90ca17[_0x3eddc6][_0x3db6c7(0x7e0)]>0x0){const _0x5db0b2=_0x204080(_0x90ca17[_0x3eddc6]['text']);_0x21273b+=_0x3db6c7(0x6a5)+_0x5db0b2+_0x3db6c7(0x10f);}}});const _0x1fa5d8=_0x152c60(0x555)+_0x159356[_0x152c60(0x680)]+_0x152c60(0x771)+_0x21273b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x173cbc={'type':_0x152c60(0x1e7),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x152c60(0x205)}},'teachingContent':{'type':_0x152c60(0x205)},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x152c60(0x205)},'solution':{'type':'STRING'}}}}},'required':[_0x152c60(0x7f8),'teachingContent',_0x152c60(0x9b7)]},_0x3f3306=await callAnalysisApi(_0x1fa5d8,_0x173cbc);await updateDoc(_0x158184,{'lessonPlan':_0x3f3306});const _0x2139fb=_0x152c60(0x786)+_0x159356[_0x152c60(0x680)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3f3306['learningGaps']['map'](_0x3a0b23=>_0x152c60(0x3fb)+_0x3a0b23+_0x152c60(0x524))[_0x152c60(0xa17)]('')+_0x152c60(0x3e4)+_0x3f3306[_0x152c60(0x9c8)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x3f3306[_0x152c60(0x9b7)][_0x152c60(0x7bf)](_0x1e64b3=>_0x152c60(0x37a)+_0x1e64b3[_0x152c60(0x6d0)]+_0x152c60(0x606)+_0x1e64b3[_0x152c60(0x536)]+_0x152c60(0x3c1))[_0x152c60(0xa17)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x152c60(0x26b)](_0x152c60(0x35e))[_0x152c60(0x64c)]=_0x152c60(0x82c)+_0x159356[_0x152c60(0x680)],document['getElementById'](_0x152c60(0x27f))[_0x152c60(0x9ba)]=_0x2139fb,document['getElementById'](_0x152c60(0x9a7))[_0x152c60(0x74c)][_0x152c60(0x953)](_0x152c60(0x2d5));if(window[_0x152c60(0x7c9)])MathJax['typesetPromise']();messageModal['classList'][_0x152c60(0x1c0)]('hidden');}catch(_0x45c67d){console['error']('Error\x20generating\x20lesson\x20plan:',_0x45c67d),showMessage(_0x152c60(0x607)+_0x45c67d[_0x152c60(0x216)]);}}async function handleDuplicateQuiz(_0xd0993f){const _0x28a8d4=_0x3de37b;try{const _0x1072d8=doc(db,_0x28a8d4(0x573)+appId+_0x28a8d4(0x5df),_0xd0993f),_0x259866=await getDoc(_0x1072d8);if(_0x259866[_0x28a8d4(0x42d)]()){const _0x4de8ce=_0x259866[_0x28a8d4(0x51a)]();let _0x29bca3='',_0xcb9996=_0x28a8d4(0x83d),_0x82abf=null;if(_0x4de8ce[_0x28a8d4(0x517)]==='pre-test'){let _0x376bba=_0x4de8ce['topic']['replace'](_0x28a8d4(0x175),'')[_0x28a8d4(0x168)]();_0x29bca3='(หลังเรียน)\x20'+_0x376bba,_0xcb9996=_0x28a8d4(0x8e8),_0x82abf=_0xd0993f;}else _0x29bca3=_0x28a8d4(0x117)+_0x4de8ce[_0x28a8d4(0x680)];const _0x32bfe0={..._0x4de8ce,'topic':_0x29bca3,'createdAt':new Date()[_0x28a8d4(0x211)](),'quizMode':_0xcb9996,'pairedQuizId':_0x82abf};let _0x1087b7;while(!![]){_0x1087b7=Math['floor'](0x3e8+Math[_0x28a8d4(0x3d1)]()*0x2328)[_0x28a8d4(0x400)]();const _0x204a64=await getDoc(doc(db,_0x28a8d4(0x573)+appId+_0x28a8d4(0x5df),_0x1087b7));if(!_0x204a64['exists']())break;}const _0x107372=doc(db,_0x28a8d4(0x573)+appId+'/public/data/quizzes',_0x1087b7);await setDoc(_0x107372,_0x32bfe0),_0x32bfe0[_0x28a8d4(0x517)]===_0x28a8d4(0x8e8)&&await updateDoc(_0x1072d8,{'pairedQuizId':_0x1087b7}),showMessage(_0x28a8d4(0x55b));}else throw new Error(_0x28a8d4(0x4d5));}catch(_0xa0e9d2){console[_0x28a8d4(0x2a8)](_0x28a8d4(0x959),_0xa0e9d2),showMessage(_0x28a8d4(0x708));}}async function handleDeleteQuiz(_0x55844a,_0x21c265=!![]){const _0x1f145f=_0x3de37b;try{const _0x2d64a3=writeBatch(db),_0x97d88a=collection(db,_0x1f145f(0x573)+appId+'/public/data/quizzes/'+_0x55844a+'/submissions'),_0xbab055=await getDocs(_0x97d88a);_0xbab055[_0x1f145f(0x597)](_0x201e2d=>{const _0x5aa2e7=_0x1f145f;_0x2d64a3[_0x5aa2e7(0x6e7)](doc(_0x97d88a,_0x201e2d['id']));});const _0x460623=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x55844a);_0x2d64a3[_0x1f145f(0x6e7)](_0x460623),await _0x2d64a3['commit'](),_0x21c265&&showMessage(_0x1f145f(0x1a7));}catch(_0x2fa571){console[_0x1f145f(0x2a8)](_0x1f145f(0x8fc),_0x2fa571),_0x21c265&&showMessage(_0x1f145f(0x556));}}async function showQuizDetailView(_0x3823ee){const _0x3cd8a8=_0x3de37b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3cd8a8(0x7ff));try{const _0x453939=doc(db,'artifacts/'+appId+_0x3cd8a8(0x5df),_0x3823ee),_0xf7a891=await getDoc(_0x453939);if(!_0xf7a891[_0x3cd8a8(0x42d)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x2ef38a={'id':_0xf7a891['id'],..._0xf7a891[_0x3cd8a8(0x51a)]()};currentQuizData=_0x2ef38a;const _0x3d4978=doc(db,_0x3cd8a8(0x573)+appId+_0x3cd8a8(0x72b),_0x2ef38a[_0x3cd8a8(0x551)]),_0x300e6b=await getDoc(_0x3d4978);_0x300e6b[_0x3cd8a8(0x42d)]()?(currentProjectData=_0x300e6b['data'](),currentProjectId=_0x2ef38a[_0x3cd8a8(0x551)]):(currentProjectData={'students':[]},currentProjectId=_0x2ef38a[_0x3cd8a8(0x551)]);document[_0x3cd8a8(0x26b)](_0x3cd8a8(0x63f))[_0x3cd8a8(0x64c)]=_0x2ef38a[_0x3cd8a8(0x680)],document['getElementById'](_0x3cd8a8(0x296))[_0x3cd8a8(0x64c)]=_0x3823ee;const _0x13abc9=collection(db,_0x3cd8a8(0x573)+appId+_0x3cd8a8(0x5df),_0x3823ee,_0x3cd8a8(0x42b));unsubscribeSubmissionsListener=onSnapshot(_0x13abc9,_0x5e3759=>{const _0x4943d0=_0x3cd8a8,_0x29aecf=_0x5e3759[_0x4943d0(0x7c4)][_0x4943d0(0x7bf)](_0x2a1170=>({'id':_0x2a1170['id'],..._0x2a1170[_0x4943d0(0x51a)]()}));currentSubmissions=_0x29aecf;const _0x54c4a3=_0x29aecf[_0x4943d0(0x2bf)](_0x4a7412=>_0x4a7412[_0x4943d0(0x456)]&&_0x4a7412[_0x4943d0(0x456)][_0x4943d0(0x579)]>0x0);renderBehaviorLog(_0x29aecf),renderAnswerGrid(currentProjectData[_0x4943d0(0x337)],_0x54c4a3,_0x2ef38a),renderAnalytics(_0x2ef38a,_0x54c4a3),renderQuizResultsTable(currentProjectData[_0x4943d0(0x337)],_0x29aecf,_0x2ef38a),renderQuizLeaderboard(_0x54c4a3,_0x2ef38a,_0x4943d0(0x706));}),showView('quiz-results');}catch(_0x4ddedf){console[_0x3cd8a8(0x2a8)](_0x3cd8a8(0x5da),_0x4ddedf),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x221287,_0x5dfb71,_0x2d38c3){const _0x378361=_0x3de37b,_0x56dba8=document[_0x378361(0x26b)](_0x378361(0x6dd));if(!_0x56dba8)return;if(!_0x221287||_0x221287['length']===0x0){_0x56dba8['innerHTML']=_0x378361(0x37d);return;}const _0x46c989=_0x2d38c3[_0x378361(0x6ba)],_0x4f1dcd=_0x5dfb71[_0x378361(0x5f2)]((_0x5a83b4,_0x26deb4)=>{return _0x5a83b4[_0x26deb4['studentName']]=_0x26deb4,_0x5a83b4;},{}),_0x382070=_0x34c4fe=>String['fromCharCode'](0x41+_0x34c4fe),_0x4520a2=_0x20160e=>{const _0x11bb69=_0x378361,_0x2c8f03=_0x20160e[_0x11bb69(0x14b)]||_0x2d38c3[_0x11bb69(0xa11)];switch(_0x2c8f03){case _0x11bb69(0x153):return _0x20160e[_0x11bb69(0x8e3)]&&_0x20160e[_0x11bb69(0x8e3)][_0x11bb69(0x579)]>_0x20160e[_0x11bb69(0x7d9)]?_0x382070(_0x20160e[_0x11bb69(0x7d9)]):'-';case _0x11bb69(0x275):return _0x20160e[_0x11bb69(0x980)]?_0x11bb69(0x20d):_0x11bb69(0x244);case _0x11bb69(0x6cc):return _0x20160e[_0x11bb69(0x2c2)]||'-';case _0x11bb69(0x1c1):return _0x11bb69(0x6ea);default:return'-';}},_0x19d3ce=(_0x5c1b95,_0x5b5177)=>{const _0x6a49bb=_0x378361;if(_0x5b5177['answer']===null||_0x5b5177['answer']===undefined)return'-';const _0x225616=_0x5c1b95[_0x6a49bb(0x14b)]||_0x2d38c3[_0x6a49bb(0xa11)];switch(_0x225616){case _0x6a49bb(0x153):const _0x1be917=_0x5c1b95[_0x6a49bb(0x8e3)][_0x6a49bb(0x4f1)](_0x4efa7e=>_0x4efa7e===_0x5b5177[_0x6a49bb(0x644)]);return _0x1be917!==-0x1?_0x382070(_0x1be917):_0x5b5177[_0x6a49bb(0x644)]||'-';case _0x6a49bb(0x275):return _0x5b5177[_0x6a49bb(0x23c)]===_0x6a49bb(0x2b8)||_0x5b5177[_0x6a49bb(0x23c)]===!![]?_0x6a49bb(0x20d):_0x6a49bb(0x244);default:return _0x5b5177[_0x6a49bb(0x23c)];}};let _0x30b1fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46c989[_0x378361(0x7bf)]((_0x355830,_0x12547a)=>_0x378361(0x566)+(_0x12547a+0x1)+'</th>')[_0x378361(0xa17)]('')+_0x378361(0x734)+_0x46c989[_0x378361(0x7bf)](_0x550b83=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x4520a2(_0x550b83)+_0x378361(0x11e))[_0x378361(0xa17)]('')+_0x378361(0x981);_0x221287['forEach'](_0x536f96=>{const _0x16ad96=_0x378361;_0x30b1fe+=_0x16ad96(0x13e),_0x30b1fe+=_0x16ad96(0x8af)+_0x536f96+_0x16ad96(0x11e);const _0x30d516=_0x4f1dcd[_0x536f96];if(_0x30d516){const _0x5b8df5=_0x30d516[_0x16ad96(0x456)][_0x30d516['attempts'][_0x16ad96(0x579)]-0x1];_0x46c989[_0x16ad96(0x597)]((_0x4a30ca,_0xa82c95)=>{const _0x2d8288=_0x16ad96,_0x138c4a=_0x5b8df5[_0x2d8288(0x1a1)]['find'](_0x5bd0dd=>_0x5bd0dd[_0x2d8288(0x25d)]===_0x4a30ca['id']);if(_0x138c4a){let _0x5bf424=![];const _0x489567=_0x4a30ca[_0x2d8288(0x14b)]||_0x2d38c3[_0x2d8288(0xa11)];if(_0x138c4a['answer']!==null&&_0x138c4a[_0x2d8288(0x23c)]!==undefined)switch(_0x489567){case'multiple_choice':const _0x4d1642=_0x4a30ca[_0x2d8288(0x8e3)][_0x4a30ca[_0x2d8288(0x7d9)]];_0x5bf424=_0x138c4a[_0x2d8288(0x644)]===_0x4d1642;break;case _0x2d8288(0x275):const _0x37b37e=_0x138c4a[_0x2d8288(0x23c)]===!![]||_0x138c4a['answer']===_0x2d8288(0x2b8);_0x5bf424=_0x37b37e===_0x4a30ca[_0x2d8288(0x980)];break;case'matching_item':_0x5bf424=_0x138c4a['answer']===_0x4a30ca['correctResponse'];break;default:_0x5bf424=_0x138c4a['isCorrect'];break;}const _0x5be23a=_0x5bf424?_0x2d8288(0x98d):_0x2d8288(0x18e);_0x30b1fe+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x5be23a+'\x22>'+_0x19d3ce(_0x4a30ca,_0x138c4a)+_0x2d8288(0x11e);}else _0x30b1fe+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x30b1fe+=_0x46c989['map'](()=>_0x16ad96(0x683))['join']('');_0x30b1fe+='</tr>';}),_0x30b1fe+='</tbody></table>',_0x56dba8['innerHTML']=_0x30b1fe;}function renderQuizResultsTable(_0x46be2b,_0x4df6ca,_0x19fcd8){const _0x29e010=_0x3de37b,_0x19fabc=_0x4df6ca[_0x29e010(0x5f2)]((_0x58d49f,_0x11cf3d)=>{return _0x58d49f[_0x11cf3d['studentName']]=_0x11cf3d,_0x58d49f;},{}),_0x128a9d=document[_0x29e010(0x8f1)](_0x29e010(0x56c));_0x128a9d&&!_0x128a9d[_0x29e010(0x9ba)][_0x29e010(0x15f)]('จัดการ')&&(_0x128a9d[_0x29e010(0x9ba)]+=_0x29e010(0x6da));const _0x27a64e=document[_0x29e010(0x26b)](_0x29e010(0x2fa));if(!_0x46be2b||_0x46be2b[_0x29e010(0x579)]===0x0){_0x27a64e['innerHTML']=_0x29e010(0x1bb);return;}const _0x18c1d8=_0x19fcd8[_0x29e010(0x41e)]===!![],_0x3be9da=_0x19fcd8[_0x29e010(0x81e)]?.[_0x29e010(0x8e6)]??-0x1;let _0x2c875f='';_0x46be2b[_0x29e010(0x597)](_0x518b65=>{const _0x22c059=_0x29e010,_0x32fed6=_0x19fabc[_0x518b65];let _0xdbe19b='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x18c1d8?_0x22c059(0x19f):_0x22c059(0x2c9))+'\x22>'+(_0x18c1d8?'สอบซ่อม':_0x22c059(0x465))+_0x22c059(0x5c6);if(_0x32fed6){if(_0x32fed6[_0x22c059(0x456)]&&_0x32fed6[_0x22c059(0x456)][_0x22c059(0x579)]>0x0){let _0x2e3361=_0x18c1d8?_0x32fed6[_0x22c059(0x9c7)]===_0x32fed6['totalQuestions']:_0x3be9da!==-0x1&&_0x32fed6['bestScore']>=_0x3be9da;const _0x5a51eb=_0x2e3361?_0x22c059(0x7bc):_0x22c059(0x167),_0x574e7c=_0x2e3361?_0x22c059(0x43d):_0x22c059(0x6bf),_0x1b0bb1=_0x22c059(0x593)+_0x5a51eb+'\x22>'+_0x574e7c+_0x22c059(0x5c6),_0xd5af0d=_0x22c059(0x60c)+(_0x32fed6[_0x22c059(0x456)]?.[_0x22c059(0x579)]||0x1)+_0x22c059(0x93d);_0x2c875f+=_0x22c059(0x365)+_0x518b65+_0x22c059(0x155)+_0x32fed6[_0x22c059(0x9c7)]+_0x22c059(0x119)+_0x32fed6[_0x22c059(0x54f)]+_0x22c059(0x967)+_0x1b0bb1+_0x22c059(0x1bf)+_0xdbe19b+_0x22c059(0xa2f)+_0x32fed6[_0x22c059(0x17e)]+'\x20/\x20'+_0x32fed6[_0x22c059(0x54f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x32fed6['latestScore']+_0x22c059(0x119)+_0x32fed6[_0x22c059(0x54f)]+_0x22c059(0x55f)+(_0x32fed6[_0x22c059(0x918)]||0x0)+_0x22c059(0x967)+_0xd5af0d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x32fed6['latestSubmittedAt'])['toLocaleString'](_0x22c059(0x1ba))+_0x22c059(0x396)+_0x518b65+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x288362=_0x22c059(0x9b8);_0x2c875f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x518b65+_0x22c059(0x651)+_0xdbe19b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x288362+_0x22c059(0x511)+new Date(_0x32fed6[_0x22c059(0x34a)])[_0x22c059(0x8e2)](_0x22c059(0x1ba))+_0x22c059(0x38a)+_0x518b65+_0x22c059(0x3f2);}}else{const _0x430589='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x2c875f+=_0x22c059(0x749)+_0x518b65+_0x22c059(0x69a)+_0xdbe19b+_0x22c059(0x843)+_0x430589+_0x22c059(0x5ba);}}),_0x27a64e['innerHTML']=_0x2c875f;}async function confirmRenameQuiz(){const _0x465520=_0x3de37b,_0x287c80=document[_0x465520(0x26b)](_0x465520(0x445))[_0x465520(0x884)][_0x465520(0x168)]();if(!_0x287c80){showMessage(_0x465520(0x873));return;}if(!actionTargetId)return;const _0x23ad6a=doc(db,_0x465520(0x573)+appId+_0x465520(0x5df),actionTargetId);try{await updateDoc(_0x23ad6a,{'topic':_0x287c80}),showMessage(_0x465520(0x413)),renameQuizModal['classList'][_0x465520(0x1c0)](_0x465520(0x2d5)),actionTargetId=null;}catch(_0x57fe8c){console[_0x465520(0x2a8)]('Error\x20renaming\x20quiz:',_0x57fe8c),showMessage(_0x465520(0x27a));}}async function handleMoveQuiz(_0x545b83){const _0x1572a4=_0x3de37b;actionTargetId=_0x545b83;const _0xcc3ae9=document['getElementById'](_0x1572a4(0x647));_0xcc3ae9[_0x1572a4(0x9ba)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x1572a4(0x74c)][_0x1572a4(0x953)]('hidden');try{const _0x2a878d=collection(db,_0x1572a4(0x573)+appId+_0x1572a4(0x72b)),_0x129d1b=await getDocs(_0x2a878d),_0x4fe781=_0x129d1b['docs'][_0x1572a4(0x7bf)](_0x4e76b2=>({'id':_0x4e76b2['id'],..._0x4e76b2[_0x1572a4(0x51a)]()})),_0x588633=_0x4fe781['filter'](_0x1c126b=>_0x1c126b['id']!==currentProjectId);if(_0x588633[_0x1572a4(0x579)]===0x0){_0xcc3ae9[_0x1572a4(0x9ba)]=_0x1572a4(0x816),document['getElementById'](_0x1572a4(0x1a0))[_0x1572a4(0x865)]=!![];return;}_0xcc3ae9[_0x1572a4(0x9ba)]=_0x588633[_0x1572a4(0x7bf)](_0x3386fa=>_0x1572a4(0x2ac)+_0x3386fa['id']+'\x22>'+_0x3386fa[_0x1572a4(0x5ab)]+'</option>')[_0x1572a4(0xa17)](''),document['getElementById'](_0x1572a4(0x1a0))[_0x1572a4(0x865)]=![];}catch(_0x3c09f1){console[_0x1572a4(0x2a8)](_0x1572a4(0x71a),_0x3c09f1),showMessage(_0x1572a4(0x3ca)),moveQuizModal['classList'][_0x1572a4(0x1c0)]('hidden');}}async function confirmMoveQuiz(){const _0xcc8f5c=_0x3de37b,_0x5d6f8c=document['getElementById'](_0xcc8f5c(0x647))[_0xcc8f5c(0x884)];if(!_0x5d6f8c){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x1439c2=doc(db,_0xcc8f5c(0x573)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1439c2,{'projectId':_0x5d6f8c}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList'][_0xcc8f5c(0x1c0)](_0xcc8f5c(0x2d5)),actionTargetId=null;}catch(_0x4cb818){console[_0xcc8f5c(0x2a8)](_0xcc8f5c(0x95e),_0x4cb818),showMessage(_0xcc8f5c(0x979));}}async function handleQuizSettings(_0x4002fe){const _0x188e57=_0x3de37b;actionTargetId=_0x4002fe;const _0x35c42f=doc(db,_0x188e57(0x573)+appId+_0x188e57(0x5df),_0x4002fe);try{const _0x5980f3=await getDoc(_0x35c42f);if(_0x5980f3[_0x188e57(0x42d)]()){const _0x111758=_0x5980f3[_0x188e57(0x51a)](),_0x46950e=_0x111758['settings']||{},_0xf8f01c=_0x111758[_0x188e57(0x6ba)][_0x188e57(0x579)];document['getElementById'](_0x188e57(0x4ca))['value']=_0x46950e['shuffle']||'none',document['getElementById']('modal-results-display-select')[_0x188e57(0x884)]=_0x46950e[_0x188e57(0x5ed)]||_0x188e57(0x5b6),document[_0x188e57(0x26b)](_0x188e57(0x189))[_0x188e57(0x884)]=_0x46950e['timerMode']||_0x188e57(0x6ec),document[_0x188e57(0x26b)](_0x188e57(0x554))[_0x188e57(0x884)]=_0x46950e[_0x188e57(0x834)]||0xa,document[_0x188e57(0x26b)](_0x188e57(0x235))[_0x188e57(0x884)]=_0x46950e[_0x188e57(0x8e6)]||Math[_0x188e57(0x48a)](_0xf8f01c/0x2),document[_0x188e57(0x26b)](_0x188e57(0x235))['max']=_0xf8f01c,document[_0x188e57(0x26b)](_0x188e57(0x1bc))[_0x188e57(0x268)]=_0x46950e[_0x188e57(0xfc)]||![],document[_0x188e57(0x26b)](_0x188e57(0x406))[_0x188e57(0x268)]=_0x46950e['loopUntilPass']||![],document['getElementById'](_0x188e57(0x189))[_0x188e57(0x754)](new Event(_0x188e57(0x6ff))),quizSettingsModal[_0x188e57(0x74c)]['remove'](_0x188e57(0x2d5));}else showMessage(_0x188e57(0x2c8));}catch(_0x5c4c61){console[_0x188e57(0x2a8)](_0x188e57(0x666),_0x5c4c61),showMessage(_0x188e57(0xa32));}}async function confirmQuizSettings(){const _0x59b7cc=_0x3de37b;if(!actionTargetId)return;const _0x24fbdf=doc(db,_0x59b7cc(0x573)+appId+_0x59b7cc(0x5df),actionTargetId),_0x3f7c53={'shuffle':document[_0x59b7cc(0x26b)](_0x59b7cc(0x4ca))[_0x59b7cc(0x884)],'resultsDisplay':document['getElementById'](_0x59b7cc(0x847))[_0x59b7cc(0x884)],'timerMode':document['getElementById'](_0x59b7cc(0x189))[_0x59b7cc(0x884)],'timerDuration':parseInt(document['getElementById']('modal-timer-duration-input')[_0x59b7cc(0x884)])||0xa,'passingScore':parseInt(document[_0x59b7cc(0x26b)](_0x59b7cc(0x235))['value'])||0x0,'passingScore':parseInt(document[_0x59b7cc(0x26b)](_0x59b7cc(0x235))[_0x59b7cc(0x884)])||0x0,'isAdaptive':document['getElementById'](_0x59b7cc(0x1bc))['checked'],'loopUntilPass':document['getElementById'](_0x59b7cc(0x406))[_0x59b7cc(0x268)]};try{await updateDoc(_0x24fbdf,{'settings':_0x3f7c53}),showMessage(_0x59b7cc(0x342)),quizSettingsModal['classList'][_0x59b7cc(0x1c0)](_0x59b7cc(0x2d5)),actionTargetId=null;}catch(_0x546a98){console[_0x59b7cc(0x2a8)]('Error\x20updating\x20quiz\x20settings:',_0x546a98),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x4743c4){const _0xa1cfd6=_0x3de37b;actionTargetId=_0x4743c4;const _0x46fd3d=doc(db,_0xa1cfd6(0x573)+appId+_0xa1cfd6(0x5df),_0x4743c4);try{const _0x3baec6=await getDoc(_0x46fd3d);if(_0x3baec6[_0xa1cfd6(0x42d)]()){const _0x4bc12c=_0x3baec6[_0xa1cfd6(0x51a)](),_0x2dd266=_0x4bc12c['status']||_0xa1cfd6(0x55c),_0x28830c=document[_0xa1cfd6(0x26b)](_0xa1cfd6(0x9cd)),_0x93db05=document[_0xa1cfd6(0x26b)](_0xa1cfd6(0x737)),_0x166d7d=document[_0xa1cfd6(0x26b)](_0xa1cfd6(0x1c7));let _0x3d98c5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x2dd266==='active'?_0xa1cfd6(0x268):'')+_0xa1cfd6(0x46e)+(_0x2dd266==='inactive'?_0xa1cfd6(0x268):'')+_0xa1cfd6(0x5ce)+(_0x2dd266===_0xa1cfd6(0x675)?_0xa1cfd6(0x268):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x28830c['innerHTML']=_0x3d98c5;const _0x4c4d77=_0x2dd266===_0xa1cfd6(0x675);_0x93db05[_0xa1cfd6(0x74c)][_0xa1cfd6(0x430)]('hidden',!_0x4c4d77),_0x166d7d[_0xa1cfd6(0x74c)][_0xa1cfd6(0x430)](_0xa1cfd6(0x2d5),!_0x4c4d77),document[_0xa1cfd6(0x26b)]('quiz-start-time')[_0xa1cfd6(0x884)]=_0x4bc12c[_0xa1cfd6(0x572)]?_0x4bc12c[_0xa1cfd6(0x572)]['substring'](0x0,0x10):'',document[_0xa1cfd6(0x26b)](_0xa1cfd6(0x2b2))[_0xa1cfd6(0x884)]=_0x4bc12c[_0xa1cfd6(0x689)]?_0x4bc12c['endTime'][_0xa1cfd6(0x450)](0x0,0x10):'',_0x28830c[_0xa1cfd6(0x303)](_0xa1cfd6(0x5a2))[_0xa1cfd6(0x597)](_0x4e6e20=>{const _0xf63aaf=_0xa1cfd6;_0x4e6e20['addEventListener'](_0xf63aaf(0x6ff),_0x4188cb=>{const _0x2b2555=_0xf63aaf,_0x10ada0=_0x4188cb[_0x2b2555(0x22f)][_0x2b2555(0x884)]===_0x2b2555(0x4f3);_0x93db05[_0x2b2555(0x74c)][_0x2b2555(0x430)](_0x2b2555(0x2d5),!_0x10ada0),_0x166d7d[_0x2b2555(0x74c)][_0x2b2555(0x430)](_0x2b2555(0x2d5),!_0x10ada0);});}),quizStatusModal[_0xa1cfd6(0x74c)]['remove']('hidden');}}catch(_0x419cc0){console[_0xa1cfd6(0x2a8)](_0xa1cfd6(0x10b),_0x419cc0),showMessage(_0xa1cfd6(0x209));}}async function confirmQuizStatus(){const _0x362aa2=_0x3de37b;if(!actionTargetId)return;const _0x175027=doc(db,_0x362aa2(0x573)+appId+_0x362aa2(0x5df),actionTargetId),_0x28c578=document[_0x362aa2(0x8f1)](_0x362aa2(0x2be));if(!_0x28c578){showMessage(_0x362aa2(0x366));return;}const _0x1bf739=_0x28c578[_0x362aa2(0x884)];let _0x2aa519={};if(_0x1bf739===_0x362aa2(0x55c)||_0x1bf739==='inactive')_0x2aa519={'status':_0x1bf739,'startTime':null,'endTime':null};else{if(_0x1bf739==='schedule'){const _0x4294aa=document[_0x362aa2(0x26b)](_0x362aa2(0xa07))[_0x362aa2(0x884)],_0xdef04f=document[_0x362aa2(0x26b)]('quiz-end-time')[_0x362aa2(0x884)];if(!_0x4294aa&&!_0xdef04f){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x2aa519={'status':_0x362aa2(0x675),'startTime':_0x4294aa?new Date(_0x4294aa)[_0x362aa2(0x211)]():null,'endTime':_0xdef04f?new Date(_0xdef04f)['toISOString']():null};}}try{await updateDoc(_0x175027,_0x2aa519),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x362aa2(0x74c)][_0x362aa2(0x1c0)](_0x362aa2(0x2d5)),actionTargetId=null;}catch(_0x3a22ac){console[_0x362aa2(0x2a8)](_0x362aa2(0x543),_0x3a22ac),showMessage(_0x362aa2(0x374));}}function listenForStudentProfiles(_0x2d31d5){const _0x25c63d=_0x3de37b,_0x437515=collection(db,_0x25c63d(0x573)+appId+_0x25c63d(0x527)+_0x2d31d5+_0x25c63d(0x716));unsubscribeStudentProfilesListener=onSnapshot(_0x437515,_0x2edda5=>{const _0x254232=_0x25c63d,_0x5bd357=_0x2edda5[_0x254232(0x7c4)][_0x254232(0x7bf)](_0x51fab2=>_0x51fab2[_0x254232(0x51a)]());renderLeaderboard(_0x5bd357,'leaderboard-table-body');},_0x45f494=>{const _0x9b95bd=_0x25c63d;console['error'](_0x9b95bd(0x3ce),_0x45f494),document[_0x9b95bd(0x26b)]('leaderboard-table-body')[_0x9b95bd(0x9ba)]=_0x9b95bd(0x341);});}function renderLeaderboard(_0x5454a3,_0x4d4eeb){const _0x1417d4=_0x3de37b,_0x2f4510=document[_0x1417d4(0x26b)](_0x4d4eeb);if(!_0x5454a3||_0x5454a3[_0x1417d4(0x579)]===0x0){_0x2f4510[_0x1417d4(0x9ba)]=_0x1417d4(0x165);return;}_0x5454a3['sort']((_0x2a7ba2,_0x210d12)=>{const _0x5aa58c=_0x1417d4,_0x2af0be=(_0x210d12['totalPoints']||0x0)-(_0x2a7ba2['totalPoints']||0x0);if(_0x2af0be!==0x0)return _0x2af0be;const _0x56b0b4=(_0x210d12[_0x5aa58c(0x883)]?.['specialist']||0x0)-(_0x2a7ba2['badgesCount']?.['specialist']||0x0);if(_0x56b0b4!==0x0)return _0x56b0b4;const _0x24f982=(_0x210d12[_0x5aa58c(0x883)]?.[_0x5aa58c(0x745)]||0x0)-(_0x2a7ba2['badgesCount']?.[_0x5aa58c(0x745)]||0x0);if(_0x24f982!==0x0)return _0x24f982;const _0x4103d1=(_0x210d12[_0x5aa58c(0x883)]?.[_0x5aa58c(0x78b)]||0x0)-(_0x2a7ba2[_0x5aa58c(0x883)]?.[_0x5aa58c(0x78b)]||0x0);if(_0x4103d1!==0x0)return _0x4103d1;const _0x3fe25d=(_0x210d12['badgesCount']?.[_0x5aa58c(0x2c7)]||0x0)-(_0x2a7ba2['badgesCount']?.[_0x5aa58c(0x2c7)]||0x0);if(_0x3fe25d!==0x0)return _0x3fe25d;return _0x2a7ba2[_0x5aa58c(0xfd)][_0x5aa58c(0x668)](_0x210d12[_0x5aa58c(0xfd)],'th');});let _0x16b593='';_0x5454a3['forEach']((_0x576211,_0x4e2db6)=>{const _0x19022f=_0x1417d4,_0x18cbfb=_0x4e2db6+0x1,_0x3c28bf=_0x576211[_0x19022f(0x883)]||{};let _0x1812e3='';const _0x2993e9=[_0x19022f(0x80f),'perfect_score',_0x19022f(0x745),_0x19022f(0x2c7)];_0x2993e9['forEach'](_0x2fc89d=>{const _0x31aa8c=_0x19022f;if(_0x3c28bf[_0x2fc89d]>0x0){const _0x264a50=Object[_0x31aa8c(0x4bb)](BADGES)[_0x31aa8c(0x1da)](_0x436f02=>_0x436f02['id']===_0x2fc89d);_0x264a50&&(_0x2fc89d==='specialist'?_0x1812e3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x264a50[_0x31aa8c(0x234)]+_0x31aa8c(0x530)+_0x264a50[_0x31aa8c(0x3ee)]+_0x31aa8c(0x389):_0x1812e3+=_0x31aa8c(0x3e5)+_0x264a50[_0x31aa8c(0x234)]+'\x20('+_0x3c28bf[_0x2fc89d]+_0x31aa8c(0x46a)+_0x264a50['icon']+_0x31aa8c(0x8e4)+_0x3c28bf[_0x2fc89d]+_0x31aa8c(0x965));}}),_0x16b593+=_0x19022f(0x156)+_0x18cbfb+_0x19022f(0x5cf)+_0x576211[_0x19022f(0xfd)]+_0x19022f(0x20e)+(_0x576211[_0x19022f(0x299)]||0x0)+_0x19022f(0x5cf)+(_0x1812e3||'-')+_0x19022f(0x863);}),_0x2f4510['innerHTML']=_0x16b593;}function displayLoopScreen(_0x191627,_0x58390b,_0x517dd1){const _0xf71a17=_0x3de37b;let _0x3e2922='';_0x517dd1!==_0xf71a17(0x242)&&(_0x3e2922='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x191627+_0xf71a17(0x119)+_0x58390b+'</strong></p>');const _0x2c9446='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e2922+_0xf71a17(0x9e6);studentResultArea[_0xf71a17(0x9ba)]=_0x2c9446,studentResultArea['classList'][_0xf71a17(0x953)](_0xf71a17(0x2d5)),studentQuizArea[_0xf71a17(0x74c)][_0xf71a17(0x1c0)](_0xf71a17(0x2d5)),document['getElementById'](_0xf71a17(0x927))[_0xf71a17(0x813)](_0xf71a17(0x8c2),()=>{const _0x2dce0f=_0xf71a17;studentResultArea[_0x2dce0f(0x74c)][_0x2dce0f(0x1c0)](_0x2dce0f(0x2d5)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xecfd24,_0x299c3d,_0xaeeb60){const _0x2a814=_0x3de37b,_0x4ef5e5=document[_0x2a814(0x26b)](_0xaeeb60),_0x31c55d=_0xaeeb60===_0x2a814(0x6ac),_0xb0c06c=_0x299c3d[_0x2a814(0x6ba)][_0x2a814(0x579)],_0xda42cd=document[_0x2a814(0x26b)](_0xaeeb60)[_0x2a814(0x8ce)](_0x2a814(0x8cc));if(_0xda42cd&&!_0x31c55d){const _0x3b71c3=_0xda42cd[_0x2a814(0x8f1)](_0x2a814(0x36b));_0x3b71c3[_0x2a814(0x9ba)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0xecfd24||_0xecfd24[_0x2a814(0x579)]===0x0){_0x4ef5e5[_0x2a814(0x9ba)]=_0x2a814(0x407)+(_0x31c55d?0x6:0x8)+_0x2a814(0x470);return;}const _0x564168=[..._0xecfd24];_0x564168['sort']((_0x3b0fd2,_0x5be1a7)=>{const _0x4364cc=_0x2a814;let _0x4fe831,_0x3dd889;switch(quizLeaderboardSortBy){case'studentName':_0x4fe831=_0x3b0fd2[_0x4364cc(0xfd)]||'',_0x3dd889=_0x5be1a7[_0x4364cc(0xfd)]||'';return quizLeaderboardSortOrder===_0x4364cc(0x904)?_0x4fe831[_0x4364cc(0x668)](_0x3dd889,'th'):_0x3dd889[_0x4364cc(0x668)](_0x4fe831,'th');case _0x4364cc(0x918):_0x4fe831=_0x3b0fd2['points']||0x0,_0x3dd889=_0x5be1a7['points']||0x0;break;case _0x4364cc(0x456):_0x4fe831=_0x3b0fd2[_0x4364cc(0x456)]?.[_0x4364cc(0x579)]||0x1,_0x3dd889=_0x5be1a7[_0x4364cc(0x456)]?.[_0x4364cc(0x579)]||0x1;break;case _0x4364cc(0x4e6):_0x4fe831=new Date(_0x3b0fd2['latestSubmittedAt']),_0x3dd889=new Date(_0x5be1a7[_0x4364cc(0x4e6)]);break;case'bestScore':default:_0x4fe831=_0x3b0fd2[_0x4364cc(0x9c7)],_0x3dd889=_0x5be1a7[_0x4364cc(0x9c7)];break;}if(_0x4fe831<_0x3dd889)return quizLeaderboardSortOrder===_0x4364cc(0x904)?-0x1:0x1;if(_0x4fe831>_0x3dd889)return quizLeaderboardSortOrder===_0x4364cc(0x904)?0x1:-0x1;return 0x0;});const _0x3e0ac3=_0x299c3d[_0x2a814(0x41e)]===!![],_0x3445ff=_0x299c3d[_0x2a814(0x81e)]?.[_0x2a814(0x8e6)]??-0x1;let _0x17506f='';_0x564168[_0x2a814(0x597)]((_0x57ae61,_0x48224f)=>{const _0x103dd9=_0x2a814,_0x271c7a=_0x48224f+0x1;let _0x319a7e=_0x103dd9(0x867);if(_0x3e0ac3||_0x3445ff!==-0x1){let _0xd9f9ef=_0x3e0ac3?_0x57ae61[_0x103dd9(0x9c7)]===_0xb0c06c:_0x57ae61[_0x103dd9(0x9c7)]>=_0x3445ff;const _0x391a23=_0xd9f9ef?'bg-green-100\x20text-green-800':_0x103dd9(0x167),_0x566e4d=_0xd9f9ef?'ผ่าน':_0x103dd9(0x6bf);_0x319a7e=_0x103dd9(0x290)+_0x391a23+'\x22>'+_0x566e4d+_0x103dd9(0x5c6);}const _0x2da119=_0x57ae61[_0x103dd9(0x456)][_0x57ae61[_0x103dd9(0x456)][_0x103dd9(0x579)]-0x1],_0x10a4c5=(_0x2da119[_0x103dd9(0x51f)]||[])[_0x103dd9(0x7bf)](_0x2e7da2=>{const _0x8c29b6=_0x103dd9,_0x5c01a6=Object[_0x8c29b6(0x4bb)](BADGES)[_0x8c29b6(0x1da)](_0x396508=>_0x396508['id']===_0x2e7da2);return _0x5c01a6?_0x8c29b6(0x2ca)+_0x5c01a6[_0x8c29b6(0x234)]+_0x8c29b6(0x339)+_0x5c01a6[_0x8c29b6(0x3ee)]+_0x8c29b6(0x8a6):'';})[_0x103dd9(0xa17)]('');_0x17506f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x271c7a+_0x103dd9(0x1ea)+_0x57ae61[_0x103dd9(0xfd)]+_0x103dd9(0x2cd)+_0x57ae61[_0x103dd9(0x9c7)]+_0x103dd9(0x119)+_0xb0c06c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x319a7e+_0x103dd9(0x127)+(_0x57ae61[_0x103dd9(0x918)]||0x0)+_0x103dd9(0x871)+(_0x31c55d?'':_0x103dd9(0x1e6)+(_0x57ae61[_0x103dd9(0x456)]?.[_0x103dd9(0x579)]||0x1)+_0x103dd9(0x11e))+_0x103dd9(0xa0e)+(_0x31c55d?'':_0x103dd9(0x382)+new Date(_0x57ae61[_0x103dd9(0x4e6)])[_0x103dd9(0x8e2)](_0x103dd9(0x1ba))+_0x103dd9(0x11e))+_0x103dd9(0x9ac)+(_0x10a4c5||'-')+_0x103dd9(0x30f);}),_0x4ef5e5[_0x2a814(0x9ba)]=_0x17506f,_0xda42cd&&!_0x31c55d&&_0xda42cd[_0x2a814(0x303)]('thead\x20.sortable-header')['forEach'](_0x2d7e0d=>{const _0x123aea=_0x2a814,_0x68ad00=_0x2d7e0d[_0x123aea(0x8f1)]('.sort-indicator');if(_0x68ad00)_0x68ad00[_0x123aea(0x953)]();_0x2d7e0d[_0x123aea(0x4ae)][_0x123aea(0x9c4)]===quizLeaderboardSortBy&&(_0x2d7e0d['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x52b212){const _0x1f0caf=_0x3de37b;if(!currentQuizData||!currentQuizData['id']||!_0x52b212){showMessage(_0x1f0caf(0x3d6));return;}showConfirmation(_0x1f0caf(0x372)+_0x52b212+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x1fd6c5=_0x1f0caf,_0xc906c0=currentQuizData['id'],_0x6456bd=doc(db,_0x1fd6c5(0x573)+appId+_0x1fd6c5(0x447)+_0xc906c0+_0x1fd6c5(0x693),_0x52b212);try{await deleteDoc(_0x6456bd),showMessage(_0x1fd6c5(0x28c)+_0x52b212+_0x1fd6c5(0x4a2));}catch(_0x6e8c55){console[_0x1fd6c5(0x2a8)]('Error\x20deleting\x20submission:',_0x6e8c55),showMessage(_0x1fd6c5(0x3a5));}});}async function handleLoadQuiz(){const _0x46229c=_0x3de37b,_0x14d903=document[_0x46229c(0x26b)]('quiz-id-input'),_0x205b71=_0x14d903[_0x46229c(0x884)]['trim']();if(!_0x205b71){showMessage(_0x46229c(0x4e5));return;}loadQuizBtn[_0x46229c(0x865)]=!![],loadQuizBtn[_0x46229c(0x9ba)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x2c21df=doc(db,_0x46229c(0x573)+appId+_0x46229c(0x5df),_0x205b71),_0x1f53bf=await getDoc(_0x2c21df);if(!_0x1f53bf['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x1f53bf['id'],..._0x1f53bf[_0x46229c(0x51a)]()};const _0x6a05c1=currentQuizData[_0x46229c(0x921)]||_0x46229c(0x55c),_0xd5dce=new Date();if(_0x6a05c1===_0x46229c(0x5f6)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x6a05c1==='scheduled'){const _0x352a7e=currentQuizData[_0x46229c(0x572)]?new Date(currentQuizData['startTime']):null,_0xd26a09=currentQuizData['endTime']?new Date(currentQuizData['endTime']):null;if(_0x352a7e&&_0xd5dce<_0x352a7e){showMessage(_0x46229c(0x84d)+_0x352a7e[_0x46229c(0x8e2)](_0x46229c(0x1ba),{'hour12':![]}));return;}if(_0xd26a09&&_0xd5dce>_0xd26a09){showMessage(_0x46229c(0x1c2));return;}}const _0x3accde=currentQuizData['projectId'];currentProjectId=_0x3accde;const _0x3c101c=doc(db,_0x46229c(0x573)+appId+'/public/data/projects',_0x3accde),_0x640ac6=await getDoc(_0x3c101c);if(!_0x640ac6[_0x46229c(0x42d)]()){showMessage(_0x46229c(0x614));return;}const _0xc6e3f4=_0x640ac6[_0x46229c(0x51a)]();currentStudentProjectData=_0xc6e3f4,displayStudentNameSelector(_0xc6e3f4['students'],currentQuizData[_0x46229c(0x680)]);}catch(_0xa0769d){console[_0x46229c(0x2a8)](_0x46229c(0x1d7),_0xa0769d),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x46229c(0x865)]=![],loadQuizBtn[_0x46229c(0x9ba)]=_0x46229c(0x69e);}}async function handleJoinLiveGame(){const _0xc46871=_0x3de37b,_0x55e1b1=document[_0xc46871(0x26b)](_0xc46871(0x6ce)),_0x3c6bd7=document['getElementById'](_0xc46871(0xa1e)),_0x9ceb39=document['getElementById'](_0xc46871(0x39c)),_0x1d1c60=_0x55e1b1[_0xc46871(0x884)][_0xc46871(0x168)](),_0x13bc4a=_0x3c6bd7[_0xc46871(0x884)]['trim']();if(!_0x1d1c60||!_0x13bc4a){showMessage(_0xc46871(0x493));return;}_0x9ceb39['disabled']=!![],_0x9ceb39[_0xc46871(0x9ba)]=_0xc46871(0x3e0);try{const _0x31e8bc=collection(db,'artifacts/'+appId+_0xc46871(0x6cb)),_0x37eb3b=query(_0x31e8bc,where(_0xc46871(0x6f7),'==',_0x1d1c60),where(_0xc46871(0x921),'in',[_0xc46871(0x621),_0xc46871(0x6d0)])),_0x59759c=await getDocs(_0x37eb3b);if(_0x59759c[_0xc46871(0xa36)]){showMessage(_0xc46871(0x726));return;}const _0x2ea766=_0x59759c[_0xc46871(0x7c4)][0x0],_0x3165cf=_0x2ea766[_0xc46871(0x51a)]();currentLiveGameId=_0x2ea766['id'];const _0x599cf0=_0x3165cf[_0xc46871(0x994)],_0x33329c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x599cf0),_0x3e61ab=await getDoc(_0x33329c);if(!_0x3e61ab[_0xc46871(0x42d)]()){showMessage(_0xc46871(0x4a9));return;}currentQuizData={'id':_0x3e61ab['id'],..._0x3e61ab[_0xc46871(0x51a)]()};if(_0x3165cf[_0xc46871(0x4bc)]&&_0x3165cf['players'][_0x13bc4a]){const _0x10a505=_0x3165cf[_0xc46871(0x4bc)][_0x13bc4a];if(_0x10a505['status']===_0xc46871(0x5f6)){_0x9ceb39[_0xc46871(0x9ba)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x2e3e27={};_0x2e3e27[_0xc46871(0x742)+_0x13bc4a+_0xc46871(0x33b)]=_0xc46871(0x55c),await updateDoc(doc(db,_0xc46871(0x573)+appId+'/public/data/liveGames',currentLiveGameId),_0x2e3e27),showView(_0xc46871(0x449)),currentStudentName=_0x13bc4a,listenForLiveGameUpdates();return;}else{showMessage(_0xc46871(0x765));return;}}if(_0x3165cf[_0xc46871(0x921)]!==_0xc46871(0x621)){showMessage(_0xc46871(0x8cd));return;}_0x9ceb39[_0xc46871(0x9ba)]=_0xc46871(0x752);const _0x54215d={};_0x54215d[_0xc46871(0x742)+_0x13bc4a]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0xc46871(0x573)+appId+_0xc46871(0x6cb),currentLiveGameId),_0x54215d),currentStudentName=_0x13bc4a,listenForLiveGameUpdates();}catch(_0x93200c){console[_0xc46871(0x2a8)]('Error\x20joining\x20live\x20game:',_0x93200c),showMessage(_0xc46871(0x1f0));}finally{_0x9ceb39[_0xc46871(0x865)]=![],_0x9ceb39[_0xc46871(0x9ba)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x4e6065,_0x38e9a3){const _0x3b4894=_0x3de37b,_0x5c04ca=document[_0x3b4894(0x26b)](_0x3b4894(0x482));document[_0x3b4894(0x26b)](_0x3b4894(0x483))['textContent']='แบบทดสอบ:\x20'+_0x38e9a3,!_0x4e6065||_0x4e6065[_0x3b4894(0x579)]===0x0?(_0x5c04ca[_0x3b4894(0x9ba)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x3b4894(0x865)]=!![]):(_0x5c04ca['innerHTML']=_0x3b4894(0x72c),_0x4e6065[_0x3b4894(0x597)](_0xd619f7=>{const _0x505fc5=_0x3b4894,_0x4c3ea8=document[_0x505fc5(0x496)]('option');_0x4c3ea8[_0x505fc5(0x884)]=_0xd619f7,_0x4c3ea8[_0x505fc5(0x64c)]=_0xd619f7,_0x5c04ca[_0x505fc5(0x4c1)](_0x4c3ea8);}),startQuizBtn[_0x3b4894(0x865)]=![]),studentInitialView[_0x3b4894(0x74c)][_0x3b4894(0x1c0)](_0x3b4894(0x2d5)),studentNameSelectionView['classList']['remove'](_0x3b4894(0x2d5));}function shuffleArray(_0x26269c){const _0x5b35f1=_0x3de37b;for(let _0x50d3c5=_0x26269c['length']-0x1;_0x50d3c5>0x0;_0x50d3c5--){const _0x510ca4=Math['floor'](Math[_0x5b35f1(0x3d1)]()*(_0x50d3c5+0x1));[_0x26269c[_0x50d3c5],_0x26269c[_0x510ca4]]=[_0x26269c[_0x510ca4],_0x26269c[_0x50d3c5]];}}function getShuffledQuiz(_0x72702a){const _0x23209c=_0x3de37b;let _0x2fbf50=JSON['parse'](JSON['stringify'](_0x72702a));const _0xaf133a=_0x2fbf50[_0x23209c(0x81e)]?.['shuffle']||'none';if(_0xaf133a===_0x23209c(0x6ec))return _0x2fbf50;return(_0xaf133a===_0x23209c(0x785)||_0xaf133a===_0x23209c(0xa1f))&&shuffleArray(_0x2fbf50[_0x23209c(0x6ba)]),(_0xaf133a===_0x23209c(0x9b0)||_0xaf133a===_0x23209c(0xa1f))&&_0x2fbf50['questions'][_0x23209c(0x597)](_0x59053d=>{const _0x8ce3a5=_0x23209c,_0x493ff2=_0x59053d['questionType']||_0x2fbf50['quizType'];if(_0x59053d[_0x8ce3a5(0x8e3)]){let _0x502c54=_0x59053d[_0x8ce3a5(0x8e3)]['map']((_0x40e6ba,_0x363560)=>({'text':_0x40e6ba,'isCorrect':_0x363560===_0x59053d['correctAnswerIndex']}));shuffleArray(_0x502c54),_0x59053d['options']=_0x502c54[_0x8ce3a5(0x7bf)](_0x39fdb7=>_0x39fdb7['text']),_0x59053d[_0x8ce3a5(0x7d9)]=_0x502c54[_0x8ce3a5(0x4f1)](_0x8b812b=>_0x8b812b[_0x8ce3a5(0x516)]);}_0x493ff2===_0x8ce3a5(0x6cc)&&_0x59053d[_0x8ce3a5(0x330)]&&shuffleArray(_0x59053d[_0x8ce3a5(0x330)]);}),_0x2fbf50;}function displayQuizForStudent(_0x2a2a99){const _0x2038dc=_0x3de37b;studentQuizArea[_0x2038dc(0x74c)][_0x2038dc(0x953)](_0x2038dc(0x2d5)),currentDisplayedQuiz=getShuffledQuiz(_0x2a2a99);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x2038dc(0x747),handleFullscreenChange),document['addEventListener'](_0x2038dc(0x7a8),handleVisibilityChange),enterFullscreen(),window[_0x2038dc(0x813)]('mousemove',resetDimTimer),window[_0x2038dc(0x813)](_0x2038dc(0x1ed),resetDimTimer),window[_0x2038dc(0x813)]('touchstart',resetDimTimer),window['addEventListener'](_0x2038dc(0x57c),resetDimTimer),resetDimTimer());const _0x19d789=currentDisplayedQuiz[_0x2038dc(0x81e)]?.[_0x2038dc(0x5d1)]||_0x2038dc(0x6ec);if(_0x19d789===_0x2038dc(0x9fe))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2038dc(0x81e)][_0x2038dc(0x834)]);else _0x19d789===_0x2038dc(0x866)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x286308=_0x3de37b;let _0x3a506e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x286308(0x671):'')+_0x286308(0x62b);currentDisplayedQuiz[_0x286308(0x6ba)][_0x286308(0x597)]((_0x117a54,_0x254eaf)=>{const _0x1c9b43=_0x286308,_0x193d26=_0x117a54['questionType']||currentDisplayedQuiz[_0x1c9b43(0xa11)];_0x3a506e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x193d26===_0x1c9b43(0x6cc)?_0x3a506e+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x254eaf+0x1)+'.\x20'+_0x117a54[_0x1c9b43(0x622)]+_0x1c9b43(0x697)+_0x254eaf+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x117a54[_0x1c9b43(0x330)][_0x1c9b43(0x7bf)](_0x2970de=>_0x1c9b43(0x2ac)+_0x2970de+'\x22>'+_0x2970de+_0x1c9b43(0x7a5))[_0x1c9b43(0xa17)]('')+_0x1c9b43(0x9d7):(_0x3a506e+=_0x1c9b43(0x59f)+(_0x254eaf+0x1)+'.\x20'+(_0x117a54[_0x1c9b43(0x481)]||_0x117a54['questionText'])+_0x1c9b43(0x81d),_0x117a54[_0x1c9b43(0x594)]&&(_0x3a506e+=_0x1c9b43(0x91b)+_0x117a54[_0x1c9b43(0x594)]+_0x1c9b43(0x7d8)));_0x3a506e+=_0x1c9b43(0x179);switch(_0x193d26){case'short_answer':_0x3a506e+=_0x1c9b43(0x8a0)+_0x254eaf+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x3a506e+=_0x1c9b43(0x4ee)+_0x254eaf+_0x1c9b43(0x814)+_0x254eaf+_0x1c9b43(0x609)+_0x254eaf+'_opt0\x22>ใช่</label></div>',_0x3a506e+=_0x1c9b43(0x4ee)+_0x254eaf+_0x1c9b43(0x9b3)+_0x254eaf+_0x1c9b43(0x7f1)+_0x254eaf+_0x1c9b43(0x31c);break;case _0x1c9b43(0x6cc):break;case _0x1c9b43(0x331):case'multiple_choice':default:_0x3a506e+=_0x117a54[_0x1c9b43(0x8e3)][_0x1c9b43(0x7bf)]((_0x4b2c2d,_0x1ee5bf)=>_0x1c9b43(0x632)+_0x254eaf+_0x1c9b43(0x59e)+_0x1ee5bf+_0x1c9b43(0x48d)+_0x254eaf+_0x1c9b43(0x24c)+_0x1ee5bf+_0x1c9b43(0x798)+_0x254eaf+_0x1c9b43(0x59e)+_0x1ee5bf+'\x22>'+_0x4b2c2d+'</label>\x0a\x20\x20\x20\x20</div>\x0a')[_0x1c9b43(0xa17)]('');break;}_0x3a506e+=_0x1c9b43(0xa50);}),_0x3a506e+=_0x286308(0x73c),_0x3a506e+='</form>',studentQuizArea[_0x286308(0x9ba)]=_0x3a506e;if(currentMode===_0x286308(0x41c)){const _0x5f5688=document['getElementById'](_0x286308(0x71e));if(_0x5f5688)_0x5f5688['addEventListener'](_0x286308(0x8c2),cancelAdminTest);}document['getElementById']('quiz-form')[_0x286308(0x813)]('submit',handleSubmitQuiz);if(window[_0x286308(0x7c9)])window[_0x286308(0x7c9)][_0x286308(0x281)]([studentQuizArea]);}async function handleSubmitQuiz(_0x539a08){const _0x20f584=_0x3de37b;if(_0x539a08)_0x539a08['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x11a2bd=document[_0x20f584(0x26b)]('quiz-form');if(!_0x11a2bd)return;const _0x31eaca=_0x11a2bd[_0x20f584(0x8f1)]('button[type=\x22submit\x22]'),_0x55876c=currentDisplayedQuiz[_0x20f584(0x6ba)][_0x20f584(0x164)](_0x1528b6=>_0x1528b6['questionType']===_0x20f584(0x1c1));_0x31eaca&&(_0x31eaca['disabled']=!![],_0x55876c?_0x31eaca['innerHTML']=_0x20f584(0x66a):_0x31eaca[_0x20f584(0x9ba)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x408b65=new FormData(_0x11a2bd),_0x5add35=currentDisplayedQuiz[_0x20f584(0x6ba)]['map']((_0x293f64,_0x477f4f)=>{const _0x5baf33=_0x20f584,_0xd2b598=_0x293f64[_0x5baf33(0x14b)]||currentDisplayedQuiz[_0x5baf33(0xa11)],_0x35e822=_0x408b65[_0x5baf33(0x19e)](_0x5baf33(0x6d0)+_0x477f4f);if(_0x35e822!==null&&_0x35e822!==undefined){if(_0xd2b598===_0x5baf33(0x153)||_0xd2b598===_0x5baf33(0x331))return parseInt(_0x35e822);return _0x35e822;}return null;}),_0x16ec6b=currentQuizData['id'],_0x1b933c=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x16ec6b+_0x20f584(0x693),currentStudentName),_0x491b87=await getDoc(_0x1b933c),_0x1f2939=_0x491b87['exists']()?_0x491b87[_0x20f584(0x51a)]():{},_0x1a73f6=_0x1f2939[_0x20f584(0x456)]||[];await processAndSubmitAnswers(_0x5add35,_0x1a73f6);}async function gradeShortAnswerWithAI(_0x4c6874,_0x577a91){const _0x2a7b20=_0x3de37b;if(!_0x4c6874||!_0x577a91)return![];try{const _0x383a50=_0x2a7b20(0x7bd)+_0x4c6874+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x577a91+_0x2a7b20(0x237),_0x8ccee9={'contents':[{'role':_0x2a7b20(0x7d4),'parts':[{'text':_0x383a50}]}]},_0x55f502=_0x2a7b20(0x998),_0x53aef6=_0x2a7b20(0xa55)+_0x55f502,_0x25625c=await fetch(_0x53aef6,{'method':'POST','headers':{'Content-Type':_0x2a7b20(0x37c)},'body':JSON[_0x2a7b20(0x670)](_0x8ccee9)});if(!_0x25625c['ok'])throw new Error('API\x20call\x20failed');const _0x16d691=await _0x25625c[_0x2a7b20(0x6a8)](),_0x5cf779=_0x16d691[_0x2a7b20(0x1ad)][0x0]['content'][_0x2a7b20(0x230)][0x0][_0x2a7b20(0x3fd)][_0x2a7b20(0x168)]()[_0x2a7b20(0x82b)]();return _0x5cf779===_0x2a7b20(0x2b8);}catch(_0x1a4931){return console[_0x2a7b20(0x2a8)]('AI\x20grading\x20failed:',_0x1a4931),![];}}async function processAndSubmitAnswers(_0x1c5968,_0x14899c){const _0x139f16=_0x3de37b;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x139f16(0x394)](_0x139f16(0x747),handleFullscreenChange),document[_0x139f16(0x394)]('visibilitychange',handleVisibilityChange);let _0x1effa7=0x0,_0x243ee8=0x0,_0x4dd9c7=[];const _0x50a6f3=[],_0x5a1879=currentDisplayedQuiz[_0x139f16(0x6ba)]['length'];let _0x1618c9=0x0;const _0x240f15=currentDisplayedQuiz[_0x139f16(0x6ba)];for(let _0x51df70=0x0;_0x51df70<_0x240f15[_0x139f16(0x579)];_0x51df70++){const _0x3f2beb=_0x240f15[_0x51df70],_0x5211ee=_0x1c5968[_0x51df70],_0x1cc21e=_0x3f2beb['questionType']||currentDisplayedQuiz[_0x139f16(0xa11)];let _0x169699=![];if(_0x5211ee!==null&&_0x5211ee!=='')switch(_0x1cc21e){case _0x139f16(0x6cc):_0x169699=_0x5211ee===_0x3f2beb[_0x139f16(0x2c2)];break;case'true_false':const _0x3ef11e=_0x5211ee===!![]||_0x5211ee===_0x139f16(0x2b8);_0x169699=_0x3ef11e===_0x3f2beb[_0x139f16(0x980)];break;case _0x139f16(0x1c1):_0x169699=await gradeShortAnswer(_0x5211ee,_0x3f2beb);break;case _0x139f16(0x153):default:_0x169699=Number(_0x5211ee)===_0x3f2beb[_0x139f16(0x7d9)];break;}_0x169699?(_0x1effa7++,_0x1618c9++,_0x1618c9===0x3&&(_0x4dd9c7['push'](BADGES['ON_FIRE']['id']),_0x1618c9=0x0)):_0x1618c9=0x0;let _0x28df1f=null;_0x3f2beb[_0x139f16(0x8e3)]&&_0x5211ee!==null&&(_0x28df1f=_0x3f2beb[_0x139f16(0x8e3)][_0x5211ee]),_0x50a6f3['push']({'questionId':_0x3f2beb['id'],'answer':_0x5211ee,'answerText':_0x28df1f,'isCorrect':_0x169699,'originalQuestionText':_0x3f2beb['stem']||_0x3f2beb['questionText']});}_0x243ee8=_0x1effa7*0xa;_0x1effa7===_0x5a1879&&_0x5a1879>0x0&&!currentDisplayedQuiz[_0x139f16(0x41e)]&&(_0x243ee8+=0x32,_0x4dd9c7[_0x139f16(0x8b7)](BADGES[_0x139f16(0x958)]['id']));const _0x474b9d=currentDisplayedQuiz[_0x139f16(0x81e)]?.[_0x139f16(0x8e6)]??Math[_0x139f16(0x48a)](_0x5a1879/0x2),_0x5ee1c1=currentDisplayedQuiz[_0x139f16(0x81e)]?.[_0x139f16(0x5d1)];if(_0x5ee1c1===_0x139f16(0x9fe)&&quizStartTime){const _0x3e8ba6=(new Date()-quizStartTime)/0x3e8,_0x5cdd5c=currentDisplayedQuiz[_0x139f16(0x81e)][_0x139f16(0x834)]*0x3c;_0x1effa7>=_0x474b9d&&_0x3e8ba6<_0x5cdd5c/0x2&&(_0x243ee8+=0x14,_0x4dd9c7[_0x139f16(0x8b7)](BADGES[_0x139f16(0x21a)]['id']));}_0x14899c[_0x139f16(0x579)]===0x0&&_0x1effa7===_0x5a1879&&_0x5a1879>0x0&&_0x4dd9c7[_0x139f16(0x8b7)](BADGES[_0x139f16(0x7c3)]['id']);if(_0x14899c[_0x139f16(0x579)]>0x0){const _0x346cba=_0x14899c[0x0][_0x139f16(0x5aa)];if(_0x346cba<_0x474b9d&&_0x1effa7>=_0x474b9d){const _0xc8d53f=_0x14899c[_0x139f16(0x164)](_0x2bf6c7=>(_0x2bf6c7[_0x139f16(0x51f)]||[])[_0x139f16(0x15f)](BADGES[_0x139f16(0x3bd)]['id']));!_0xc8d53f&&_0x4dd9c7[_0x139f16(0x8b7)](BADGES[_0x139f16(0x3bd)]['id']);}}_0x14899c[_0x139f16(0x579)]===0x4&&_0x4dd9c7[_0x139f16(0x8b7)](BADGES[_0x139f16(0x77c)]['id']);const _0x55ddaf=currentDisplayedQuiz[_0x139f16(0x81e)][_0x139f16(0x5ed)];if(currentMode===_0x139f16(0x41c)){handleResultDisplay(_0x55ddaf,_0x1effa7,_0x243ee8,_0x4dd9c7,_0x50a6f3,_0x5a1879);return;}const _0x26fe32=currentQuizData['id'],_0x14c950=doc(db,_0x139f16(0x573)+appId+_0x139f16(0x447)+_0x26fe32+_0x139f16(0x693),currentStudentName);try{const _0x267dae=[..._0x14899c],_0x5b0ef7={'score':_0x1effa7,'points':_0x243ee8,'badges':_0x4dd9c7,'submittedAt':new Date()['toISOString'](),'answers':_0x50a6f3};_0x267dae[_0x139f16(0x8b7)](_0x5b0ef7);const _0x7d7e61=_0x14899c[_0x139f16(0x579)]===0x0?_0x1effa7:_0x14899c[0x0][_0x139f16(0x5aa)]||0x0,_0x3f541c=Math[_0x139f16(0x104)](..._0x267dae['map'](_0x391037=>_0x391037[_0x139f16(0x5aa)])),_0x3513a3=_0x1effa7,_0x391d0c=_0x5b0ef7['submittedAt'];await setDoc(_0x14c950,{'studentName':currentStudentName,'totalQuestions':_0x5a1879,'attempts':_0x267dae,'firstScore':_0x7d7e61,'bestScore':_0x3f541c,'latestScore':_0x3513a3,'points':_0x243ee8,'latestSubmittedAt':_0x391d0c},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x139f16(0x551)],currentStudentName),handleResultDisplay(_0x55ddaf,_0x1effa7,_0x243ee8,_0x4dd9c7,_0x50a6f3,_0x5a1879);}catch(_0x3269cf){console['error'](_0x139f16(0x293),_0x3269cf),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x34db49,_0xd86c68){const _0x37dda4=_0x3de37b,_0x4f8d17=doc(db,_0x37dda4(0x573)+appId+_0x37dda4(0x527)+_0x34db49+_0x37dda4(0x716),_0xd86c68);try{const _0x17f0ef=query(collection(db,_0x37dda4(0x573)+appId+_0x37dda4(0x5df)),where(_0x37dda4(0x551),'==',_0x34db49)),_0xe04ea2=await getDocs(_0x17f0ef),_0x40dfd4=new Map(_0xe04ea2['docs']['map'](_0x30bd1f=>[_0x30bd1f['id'],_0x30bd1f[_0x37dda4(0x51a)]()])),_0xc3d1fa=Array[_0x37dda4(0x38e)](_0x40dfd4[_0x37dda4(0xa3b)]());await runTransaction(db,async _0x1b0838=>{const _0x191412=_0x37dda4;let _0x1b8806=0x0;const _0x3e1160={};let _0x4725ed=!![],_0x42fd3a=0x0,_0x58351e=0x0;for(const _0x51b688 of _0xc3d1fa){const _0x25d791=_0x40dfd4[_0x191412(0x19e)](_0x51b688),_0x3de7e9=doc(db,'artifacts/'+appId+_0x191412(0x447)+_0x51b688+_0x191412(0x693),_0xd86c68),_0x1487f9=await _0x1b0838['get'](_0x3de7e9);if(_0x1487f9['exists']()){const _0x3b2b19=_0x1487f9[_0x191412(0x51a)](),_0x490180=_0x3b2b19[_0x191412(0x456)]||[];if(_0x490180[_0x191412(0x579)]>0x0){const _0x503cbc=_0x490180[_0x191412(0x5f2)]((_0x257b0d,_0x291d8d)=>{const _0x1871c6=_0x191412;if(_0x291d8d[_0x1871c6(0x5aa)]>_0x257b0d[_0x1871c6(0x5aa)])return _0x291d8d;if(_0x291d8d['score']===_0x257b0d['score'])return(_0x291d8d[_0x1871c6(0x918)]||0x0)>(_0x257b0d[_0x1871c6(0x918)]||0x0)?_0x291d8d:_0x257b0d;return _0x257b0d;},{'score':-0x1,'points':-0x1});_0x503cbc[_0x191412(0x5aa)]>-0x1&&(_0x1b8806+=_0x503cbc[_0x191412(0x918)]||0x0,(_0x503cbc[_0x191412(0x51f)]||[])[_0x191412(0x597)](_0x40b696=>{_0x3e1160[_0x40b696]=(_0x3e1160[_0x40b696]||0x0)+0x1;}));}}if(_0x25d791['topic']!==_0x191412(0x43f)){_0x58351e++;if(_0x1487f9[_0x191412(0x42d)]()){_0x42fd3a++;const _0x3cc64d=_0x1487f9[_0x191412(0x51a)]();_0x3cc64d[_0x191412(0x9c7)]!==_0x3cc64d['totalQuestions']&&(_0x4725ed=![]);}else _0x4725ed=![];}}_0x58351e>0x0&&_0x42fd3a===_0x58351e&&_0x4725ed?_0x3e1160[_0x191412(0x80f)]=0x1:_0x3e1160[_0x191412(0x80f)]=0x0,_0x1b0838[_0x191412(0x454)](_0x4f8d17,{'studentName':_0xd86c68,'totalPoints':_0x1b8806,'unlockedBadges':Object[_0x191412(0xa3b)](_0x3e1160)[_0x191412(0x2bf)](_0x476aac=>_0x3e1160[_0x476aac]>0x0),'badgesCount':_0x3e1160},{'merge':!![]});});}catch(_0x36185c){console['error'](_0x37dda4(0x67d),_0x36185c),showMessage(_0x37dda4(0x1c9));}}function startAdminTest(){const _0x3fa66b=_0x3de37b;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x1fbbb3=JSON[_0x3fa66b(0x317)](JSON['stringify'](currentQuizData));currentMode=_0x3fa66b(0x41c),currentStudentName=_0x3fa66b(0x1d3),adminView[_0x3fa66b(0x74c)][_0x3fa66b(0x1c0)]('hidden'),studentView[_0x3fa66b(0x74c)][_0x3fa66b(0x953)]('hidden'),studentInitialView[_0x3fa66b(0x74c)]['add']('hidden'),studentNameSelectionView['classList']['add'](_0x3fa66b(0x2d5)),studentResultArea[_0x3fa66b(0x74c)]['add']('hidden'),studentQuizArea[_0x3fa66b(0x74c)][_0x3fa66b(0x953)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x1fbbb3);}function handleResultDisplay(_0x2fafcc,_0x225da1,_0x54f675,_0xd9df9f,_0x3d8adf,_0x1ebde6){const _0x5d7a81=_0x3de37b;if(_0x2fafcc===_0x5d7a81(0x253)){displaySubmissionConfirmation();return;}const _0x457b9b=currentDisplayedQuiz[_0x5d7a81(0x81e)]?.['passingScore']??Math['floor'](_0x1ebde6/0x2),_0x79577c=currentDisplayedQuiz['settings']?.[_0x5d7a81(0xfc)]??![],_0x364250=currentDisplayedQuiz[_0x5d7a81(0x81e)]?.[_0x5d7a81(0x617)]===!![],_0x145afb=_0x225da1<_0x457b9b,_0x5c5849=_0x2fafcc===_0x5d7a81(0x436)||_0x2fafcc===_0x5d7a81(0x2aa);if(_0x364250&&_0x145afb&&!_0x5c5849){_0x2fafcc===_0x5d7a81(0x5b6)?displayResultsWithAnswers(_0x225da1,_0x54f675,_0xd9df9f,_0x3d8adf,_0x1ebde6,!![]):displayLoopScreen(_0x225da1,_0x1ebde6,_0x2fafcc);return;}if(_0x79577c&&_0x145afb){startAdaptiveFlow(_0x3d8adf,_0x225da1,_0x1ebde6);return;}switch(_0x2fafcc){case _0x5d7a81(0x5b6):displayResultsWithAnswers(_0x225da1,_0x54f675,_0xd9df9f,_0x3d8adf,_0x1ebde6);break;case'show_results_only':displayResultsScoreOnly(_0x225da1,_0x54f675,_0xd9df9f,_0x1ebde6);break;case'show_pass_fail_only':displayPassFailOnly(_0x225da1,_0x1ebde6);break;case _0x5d7a81(0x436):displayHalfMarkResult(_0x225da1,_0x1ebde6);break;case _0x5d7a81(0x2aa):displayPerfectScoreResult(_0x225da1,_0x1ebde6);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x34a210){const _0x54c84b=_0x3de37b;studentReadingArea[_0x54c84b(0x9ba)]=_0x54c84b(0x6c3);const _0x13ddd1=_0x54c84b(0x8b6)+_0x34a210+_0x54c84b(0x203)+simpleMathPrompt+_0x54c84b(0x5b1),_0x1256c7={'type':_0x54c84b(0x1e7),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x54c84b(0x3a6),'items':{'type':_0x54c84b(0x205)}},'correctAnswerIndex':{'type':_0x54c84b(0x72a)},'explanation':{'type':'STRING'}},'required':[_0x54c84b(0x19b),_0x54c84b(0x8e3),_0x54c84b(0x7d9),'explanation']},_0x37eb95={'type':'OBJECT','properties':{'topic':{'type':_0x54c84b(0x205)},'questions':{'type':_0x54c84b(0x3a6),'items':_0x1256c7}},'required':[_0x54c84b(0x680),_0x54c84b(0x6ba)]};try{const _0x3cf793=await callAnalysisApi(_0x13ddd1,_0x37eb95);_0x3cf793[_0x54c84b(0x41e)]=!![],studentReadingArea[_0x54c84b(0x74c)][_0x54c84b(0x1c0)](_0x54c84b(0x2d5));const _0x11154f={...currentDisplayedQuiz[_0x54c84b(0x81e)],'isAdaptive':![],'resultsDisplay':_0x54c84b(0x5b6)};_0x3cf793[_0x54c84b(0x81e)]=_0x11154f,displayQuizForStudent(_0x3cf793);}catch(_0xb50412){console[_0x54c84b(0x2a8)](_0x54c84b(0xa18),_0xb50412),showMessage(_0x54c84b(0x14c)),showView(_0x54c84b(0x836));}}function displayPassFailOnly(_0x523db5,_0x5b3616){const _0x194144=_0x3de37b,_0x487afd=currentDisplayedQuiz[_0x194144(0x81e)]?.[_0x194144(0x8e6)]??-0x1,_0x2708d0=currentDisplayedQuiz[_0x194144(0x41e)]===!![];let _0x288b72='',_0x223b35=![];if(_0x2708d0||_0x487afd!==-0x1){_0x223b35=_0x2708d0?_0x523db5===_0x5b3616:_0x523db5>=_0x487afd;const _0x5808cc=_0x223b35?_0x194144(0x7bc):_0x194144(0x167),_0xcee741=_0x223b35?_0x194144(0x43d):'ไม่ผ่าน';_0x288b72=_0x194144(0x364)+_0x5808cc+'\x22>'+_0xcee741+_0x194144(0x87a);}else _0x288b72=_0x194144(0x404);let _0x2727a5=_0x194144(0x38f)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x288b72+_0x194144(0x2a7);studentResultArea['innerHTML']=_0x2727a5,studentResultArea['classList']['remove']('hidden'),studentQuizArea['classList'][_0x194144(0x1c0)](_0x194144(0x2d5)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x223b35});}function cancelAdminTest(){const _0x3a92a7=_0x3de37b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x3a92a7(0x394)](_0x3a92a7(0x747),handleFullscreenChange),document['removeEventListener'](_0x3a92a7(0x7a8),handleVisibilityChange),currentMode=_0x3a92a7(0x9ca),studentView['classList'][_0x3a92a7(0x1c0)](_0x3a92a7(0x2d5)),adminView[_0x3a92a7(0x74c)][_0x3a92a7(0x953)](_0x3a92a7(0x2d5)),showView(_0x3a92a7(0x133));}function setupResultScreenBackButton(_0x561cb5){const _0x2d9e4c=_0x3de37b,_0x54b353={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x561cb5};if(_0x54b353[_0x2d9e4c(0x8a3)]){const _0x59be14=_0x2d9e4c(0x479);studentResultArea[_0x2d9e4c(0x800)]('beforeend',_0x59be14),document['getElementById'](_0x2d9e4c(0x927))[_0x2d9e4c(0x813)]('click',()=>{const _0x10d35b=_0x2d9e4c;studentResultArea['classList'][_0x10d35b(0x1c0)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x70cecf=_0x2d9e4c(0x68f),_0x1860cb=currentMode===_0x2d9e4c(0x41c),_0x1a5662=_0x1860cb?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x2d9e4c(0x783);let _0x29bd1f='';_0x54b353['showRankings']&&(_0x29bd1f+=_0x2d9e4c(0x546));let _0x548df0=_0x54b353[_0x2d9e4c(0x195)];_0x548df0===undefined&&(_0x548df0=_0x54b353[_0x2d9e4c(0x5aa)]<_0x54b353[_0x2d9e4c(0x54f)]);_0x548df0&&(_0x29bd1f+=_0x2d9e4c(0x6fa));_0x29bd1f+='<button\x20id=\x22'+_0x70cecf+_0x2d9e4c(0x744)+_0x1a5662+_0x2d9e4c(0x891);const _0x28a4b6=_0x2d9e4c(0x2a3)+_0x29bd1f+'</div>';studentResultArea[_0x2d9e4c(0x800)](_0x2d9e4c(0x94d),_0x28a4b6),studentResultArea[_0x2d9e4c(0x8f1)](_0x2d9e4c(0x23a))?.['addEventListener'](_0x2d9e4c(0x8c2),handleShowStudentRankings);const _0x8a24ef=studentResultArea[_0x2d9e4c(0x8f1)]('#retake-for-improvement-btn');_0x8a24ef&&_0x8a24ef[_0x2d9e4c(0x813)](_0x2d9e4c(0x8c2),()=>{const _0x3d1e19=_0x2d9e4c;studentResultArea['classList'][_0x3d1e19(0x1c0)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2d9e4c(0x26b)](_0x70cecf)[_0x2d9e4c(0x813)](_0x2d9e4c(0x8c2),()=>{const _0x3d603e=_0x2d9e4c;_0x1860cb?(currentMode=_0x3d603e(0x9ca),studentView[_0x3d603e(0x74c)]['add'](_0x3d603e(0x2d5)),adminView[_0x3d603e(0x74c)]['remove'](_0x3d603e(0x2d5)),showView('project-detail')):(showView(_0x3d603e(0x836)),document[_0x3d603e(0x26b)](_0x3d603e(0x956))['value']='');});}function displayResultsWithAnswers(_0x4f03d1,_0x4f2b00,_0x202740,_0x5f2daf,_0x4e5932,_0x238ab3=![]){const _0x242a0c=_0x3de37b,_0x4ad084=_0x4e5932>0x0?_0x4f03d1/_0x4e5932*0x64:0x0,_0x314c42=currentDisplayedQuiz[_0x242a0c(0x81e)]?.['passingScore']??-0x1,_0x249a25=currentDisplayedQuiz[_0x242a0c(0x41e)]===!![];let _0x301cb8='';if(_0x249a25||_0x314c42!==-0x1){let _0x522d98=_0x249a25?_0x4f03d1===_0x4e5932:_0x4f03d1>=_0x314c42;const _0x4f3cbf=_0x522d98?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x39011b=_0x522d98?_0x242a0c(0x43d):_0x242a0c(0x6bf);_0x301cb8=_0x242a0c(0xa45)+_0x4f3cbf+'\x22>'+_0x39011b+'</p>';}let _0x5114df=_0x242a0c(0x7d5)+currentStudentName+_0x242a0c(0x46c)+_0x4f03d1+_0x242a0c(0x2eb)+_0x4e5932+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x301cb8+_0x242a0c(0xa3f)+_0x4f2b00+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x4ad084[_0x242a0c(0x283)](0x0)+_0x242a0c(0x550);currentDisplayedQuiz['questions'][_0x242a0c(0x597)]((_0x32c556,_0x58064c)=>{const _0x46990b=_0x242a0c,_0x2e37f7=_0x5f2daf[_0x58064c],_0x31e1a1=_0x2e37f7[_0x46990b(0x23c)],_0x5e33a3=_0x2e37f7['isCorrect'],_0x50b693=_0x32c556[_0x46990b(0x14b)]||currentDisplayedQuiz[_0x46990b(0xa11)];_0x5114df+=_0x46990b(0x9e8)+(_0x5e33a3?_0x46990b(0x735):_0x46990b(0x409))+_0x46990b(0x108)+(_0x58064c+0x1)+'.\x20'+(_0x32c556['stem']||_0x32c556[_0x46990b(0x19b)])+_0x46990b(0x544);switch(_0x50b693){case _0x46990b(0x6cc):const _0x4bb5b0=_0x31e1a1||_0x46990b(0x920),_0x39fd1f=_0x32c556[_0x46990b(0x2c2)];_0x5114df+=_0x46990b(0x9de)+(!_0x5e33a3?_0x46990b(0x44f):'')+'\x22>'+_0x4bb5b0+_0x46990b(0x658);!_0x5e33a3&&(_0x5114df+=_0x46990b(0x577)+_0x39fd1f+_0x46990b(0x81d));break;case'short_answer':_0x5114df+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x31e1a1||_0x46990b(0x920))+_0x46990b(0x81d),_0x5114df+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x32c556['idealAnswer']+'</p>';break;case _0x46990b(0x275):_0x5114df+=_0x46990b(0x112)+(_0x32c556[_0x46990b(0x980)]===!![]?_0x46990b(0x862):'')+'\x20'+(_0x31e1a1===_0x46990b(0x2b8)&&!_0x5e33a3?_0x46990b(0x44f):'')+_0x46990b(0x38d),_0x5114df+='<p\x20class=\x22'+(_0x32c556[_0x46990b(0x980)]===![]?_0x46990b(0x862):'')+'\x20'+(_0x31e1a1==='false'&&!_0x5e33a3?_0x46990b(0x44f):'')+_0x46990b(0x308);break;default:_0x5114df+=_0x32c556[_0x46990b(0x8e3)][_0x46990b(0x7bf)]((_0x6d58a9,_0x876ea9)=>{const _0x23eb89=_0x46990b;let _0xe58c16='',_0x26d8a7='';if(_0x876ea9===_0x32c556[_0x23eb89(0x7d9)])_0xe58c16='font-bold\x20text-green-700',_0x26d8a7=_0x23eb89(0x40e);else _0x876ea9===_0x31e1a1&&(_0xe58c16='font-bold\x20text-red-700\x20line-through',_0x26d8a7=_0x23eb89(0x6bc));return _0x23eb89(0x37f)+_0xe58c16+'\x22>'+_0x26d8a7+_0x6d58a9+'</div>';})[_0x46990b(0xa17)]('');break;}_0x5114df+=_0x46990b(0x951)+(_0x32c556[_0x46990b(0x8cb)]||_0x46990b(0x455))+_0x46990b(0x7d8);if(!_0x5e33a3){const _0x57453e=_0x32c556[_0x46990b(0x622)]||_0x32c556[_0x46990b(0x19b)];_0x5114df+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x57453e)+_0x46990b(0x563);}_0x5114df+=_0x46990b(0x7d8);}),studentResultArea[_0x242a0c(0x9ba)]=_0x5114df,renderEarnedBadges(_0x202740,_0x242a0c(0x459)),studentResultArea['classList'][_0x242a0c(0x953)](_0x242a0c(0x2d5)),studentQuizArea[_0x242a0c(0x74c)]['add'](_0x242a0c(0x2d5)),setupResultScreenBackButton({'isLooping':_0x238ab3,'score':_0x4f03d1,'totalQuestions':_0x4e5932,'showRankings':!![]});if(window['MathJax'])window[_0x242a0c(0x7c9)][_0x242a0c(0x281)]([studentResultArea]);}function displayResultsScoreOnly(_0xf6985f,_0x228db7,_0x4be078,_0x1d4871){const _0x3e8792=_0x3de37b,_0xfb1ddc=_0x1d4871>0x0?_0xf6985f/_0x1d4871*0x64:0x0,_0x297793=currentDisplayedQuiz[_0x3e8792(0x81e)]?.[_0x3e8792(0x8e6)]??-0x1,_0x5036a5=currentDisplayedQuiz[_0x3e8792(0x41e)]===!![];let _0x5cfc33='';if(_0x5036a5||_0x297793!==-0x1){let _0x458e45=_0x5036a5?_0xf6985f===_0x1d4871:_0xf6985f>=_0x297793;const _0x212666=_0x458e45?'bg-green-100\x20text-green-800':_0x3e8792(0x167),_0x4b8628=_0x458e45?_0x3e8792(0x43d):_0x3e8792(0x6bf);_0x5cfc33=_0x3e8792(0xa45)+_0x212666+'\x22>'+_0x4b8628+_0x3e8792(0x81d);}let _0x5082ae=_0x3e8792(0x38f)+currentStudentName+_0x3e8792(0x877)+_0xf6985f+_0x3e8792(0x2a2)+_0x1d4871+_0x3e8792(0x3eb)+_0x5cfc33+_0x3e8792(0xa3f)+_0x228db7+_0x3e8792(0x691)+_0xfb1ddc['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3e8792(0x9ba)]=_0x5082ae,renderEarnedBadges(_0x4be078,_0x3e8792(0x459)),studentResultArea[_0x3e8792(0x74c)][_0x3e8792(0x953)]('hidden'),studentQuizArea[_0x3e8792(0x74c)]['add']('hidden'),setupResultScreenBackButton({'score':_0xf6985f,'totalQuestions':_0x1d4871,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x331f17=_0x3de37b;let _0x2c3059=_0x331f17(0x6eb)+currentStudentName+_0x331f17(0x30b);studentResultArea[_0x331f17(0x9ba)]=_0x2c3059,studentResultArea[_0x331f17(0x74c)][_0x331f17(0x953)](_0x331f17(0x2d5)),studentQuizArea['classList'][_0x331f17(0x1c0)]('hidden'),document['getElementById']('back-to-home-manual-release')[_0x331f17(0x813)](_0x331f17(0x8c2),()=>{const _0x53aa0c=_0x331f17;showView(_0x53aa0c(0x836)),document['getElementById'](_0x53aa0c(0x956))['value']='';});}function renderEarnedBadges(_0x5c9b4d,_0x8bd95b){const _0x1bbf82=_0x3de37b,_0x47ccbf=document[_0x1bbf82(0x26b)](_0x8bd95b);if(!_0x47ccbf||!_0x5c9b4d||_0x5c9b4d[_0x1bbf82(0x579)]===0x0)return;let _0x3e5f4f='';_0x5c9b4d['forEach']((_0x240b25,_0x1bb557)=>{const _0x338264=_0x1bbf82,_0x4e022c=Object[_0x338264(0x4bb)](BADGES)[_0x338264(0x1da)](_0x13d19a=>_0x13d19a['id']===_0x240b25);_0x4e022c&&(_0x3e5f4f+=_0x338264(0x452)+_0x1bb557*0.2+_0x338264(0x5a6)+_0x4e022c[_0x338264(0x1b5)]+_0x338264(0x810)+_0x4e022c[_0x338264(0x3ee)]+_0x338264(0x13d)+_0x4e022c[_0x338264(0x234)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x47ccbf[_0x1bbf82(0x9ba)]=_0x3e5f4f;}function startPresentation(_0x402292){const _0x8a9bc4=_0x3de37b;currentQuizData=getShuffledQuiz(_0x402292),currentPresentationSlide=0x0,presentationModal['style']['display']=_0x8a9bc4(0x59d),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x42a6bf=_0x3de37b;document[_0x42a6bf(0x14a)]&&document[_0x42a6bf(0x484)](),presentationModal[_0x42a6bf(0x12e)][_0x42a6bf(0x82e)]=_0x42a6bf(0x6ec);}function renderPresentationSlide(_0x44cef4){const _0x2fc490=_0x3de37b,_0x216372=document[_0x2fc490(0x26b)](_0x2fc490(0x939));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x44cef4]){_0x216372[_0x2fc490(0x9ba)]=_0x2fc490(0x874);return;}const _0x5dc8e4=currentQuizData[_0x2fc490(0x6ba)][_0x44cef4],_0x262dfc=_0x5dc8e4['questionType']||currentQuizData[_0x2fc490(0xa11)];_0x216372[_0x2fc490(0x9ba)]='';let _0x4b9255=_0x2fc490(0x135)+(_0x5dc8e4[_0x2fc490(0x594)]?_0x2fc490(0x91b)+_0x5dc8e4[_0x2fc490(0x594)]+_0x2fc490(0x7d8):'')+_0x2fc490(0x26a)+(_0x44cef4+0x1)+'.\x20'+(_0x5dc8e4[_0x2fc490(0x622)]||_0x5dc8e4[_0x2fc490(0x19b)])+_0x2fc490(0x466);switch(_0x262dfc){case _0x2fc490(0x6cc):_0x4b9255+=_0x5dc8e4['allResponses'][_0x2fc490(0x7bf)](_0x37be78=>_0x2fc490(0x993)+_0x37be78+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;case _0x2fc490(0x275):_0x4b9255+=_0x2fc490(0x6ca),_0x4b9255+=_0x2fc490(0xa2c);break;case _0x2fc490(0x110):case _0x2fc490(0x1c1):_0x4b9255+=_0x2fc490(0xa40);break;case _0x2fc490(0x331):case _0x2fc490(0x153):default:_0x4b9255+=_0x5dc8e4[_0x2fc490(0x8e3)][_0x2fc490(0x7bf)]((_0x5cb6a7,_0x449442)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x449442+_0x2fc490(0x5bf)+_0x5cb6a7+_0x2fc490(0x38b))[_0x2fc490(0xa17)]('');break;}_0x4b9255+=_0x2fc490(0x178)+(_0x5dc8e4[_0x2fc490(0x8cb)]||_0x2fc490(0x455))+_0x2fc490(0xa21),_0x216372[_0x2fc490(0x9ba)]=_0x4b9255;if(window[_0x2fc490(0x7c9)])window[_0x2fc490(0x7c9)][_0x2fc490(0x281)]([_0x216372]);let _0x396018=[];switch(_0x262dfc){case _0x2fc490(0x6cc):_0x396018=_0x5dc8e4[_0x2fc490(0x330)]||[];break;case _0x2fc490(0x275):_0x396018=[_0x2fc490(0x20d),_0x2fc490(0x244)];break;default:_0x396018=_0x5dc8e4[_0x2fc490(0x8e3)]||[];break;}const _0x193027=document[_0x2fc490(0x26b)](_0x2fc490(0xa20));_0x193027&&(_0x193027[_0x2fc490(0x49a)]=()=>{openScratchpad(_0x5dc8e4,_0x396018);});document[_0x2fc490(0x303)](_0x2fc490(0x7d0))['forEach'](_0x4d3484=>{const _0x31f4e7=_0x2fc490;_0x4d3484[_0x31f4e7(0x813)]('click',_0x13ff59=>revealAnswerForPresentation(_0x44cef4,_0x13ff59[_0x31f4e7(0x9ad)]));});const _0x4c5771=document[_0x2fc490(0x26b)](_0x2fc490(0x3c0));_0x4c5771&&_0x4c5771['addEventListener'](_0x2fc490(0x8c2),()=>checkShortAnswerForPresentation(_0x44cef4)),document[_0x2fc490(0x26b)](_0x2fc490(0x4b1))[_0x2fc490(0x64c)]=_0x2fc490(0x736)+(_0x44cef4+0x1)+_0x2fc490(0x119)+currentQuizData[_0x2fc490(0x6ba)][_0x2fc490(0x579)],document[_0x2fc490(0x26b)](_0x2fc490(0x642))['disabled']=_0x44cef4===0x0,document[_0x2fc490(0x26b)](_0x2fc490(0x3e2))[_0x2fc490(0x865)]=_0x44cef4===currentQuizData[_0x2fc490(0x6ba)][_0x2fc490(0x579)]-0x1;}async function checkShortAnswerForPresentation(_0x59fc01){const _0x462d78=_0x3de37b,_0x516111=currentQuizData['questions'][_0x59fc01],_0x526a32=document[_0x462d78(0x26b)](_0x462d78(0x8f2)),_0x598bdc=document[_0x462d78(0x26b)](_0x462d78(0x3c0)),_0x45c9eb=document['getElementById'](_0x462d78(0x6f9)),_0x28f4d3=document[_0x462d78(0x26b)]('presentation-explanation');if(!_0x526a32||!_0x598bdc||!_0x45c9eb||!_0x28f4d3)return;const _0x310a8c=_0x526a32['value']['trim']();if(_0x310a8c==='')return;_0x598bdc[_0x462d78(0x865)]=!![],_0x598bdc[_0x462d78(0x9ba)]=_0x462d78(0x6c7),_0x526a32[_0x462d78(0x865)]=!![];const _0x3c7737=await gradeShortAnswer(_0x310a8c,_0x516111);_0x3c7737?_0x45c9eb[_0x462d78(0x9ba)]=_0x462d78(0x250):_0x45c9eb[_0x462d78(0x9ba)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x516111[_0x462d78(0x11f)]+')',_0x45c9eb[_0x462d78(0x74c)][_0x462d78(0x953)](_0x462d78(0x2d5)),_0x28f4d3[_0x462d78(0x74c)][_0x462d78(0x953)]('hidden'),_0x598bdc['classList'][_0x462d78(0x1c0)](_0x462d78(0x2d5));}function revealAnswerForPresentation(_0x273fa9,_0xd99aa6){const _0x474c6e=_0x3de37b,_0x34caed=currentQuizData['questions'][_0x273fa9],_0x39c374=_0x34caed['questionType']||currentQuizData[_0x474c6e(0xa11)];document[_0x474c6e(0x303)](_0x474c6e(0x7d0))[_0x474c6e(0x597)](_0x2a1eb=>{const _0x3b32b7=_0x474c6e;_0x2a1eb[_0x3b32b7(0x865)]=!![],_0x2a1eb[_0x3b32b7(0x74c)]['remove']('hover:bg-indigo-100');let _0x564959=![];if(_0x39c374==='multiple_choice'||_0x39c374===_0x3b32b7(0x331)){const _0x5675cc=parseInt(_0x2a1eb[_0x3b32b7(0x4ae)][_0x3b32b7(0x9a8)]);_0x564959=_0x5675cc===_0x34caed[_0x3b32b7(0x7d9)];}else{if(_0x39c374==='true_false'){const _0x538a93=_0x2a1eb[_0x3b32b7(0x4ae)][_0x3b32b7(0x23c)]===_0x3b32b7(0x2b8);_0x564959=_0x538a93===_0x34caed['correctAnswer'];}else _0x39c374===_0x3b32b7(0x6cc)&&(_0x564959=_0x2a1eb[_0x3b32b7(0x64c)][_0x3b32b7(0x168)]()===_0x34caed[_0x3b32b7(0x2c2)]);}_0x564959?_0x2a1eb['classList']['add'](_0x3b32b7(0x405),_0x3b32b7(0x3b0),_0x3b32b7(0x56a)):_0x2a1eb[_0x3b32b7(0x74c)][_0x3b32b7(0x1c0)]('opacity-50');}),_0xd99aa6[_0x474c6e(0x74c)]['remove']('opacity-50');let _0x27aa60=![];if(_0x39c374===_0x474c6e(0x153))_0x27aa60=parseInt(_0xd99aa6[_0x474c6e(0x4ae)][_0x474c6e(0x9a8)])===_0x34caed[_0x474c6e(0x7d9)];else{if(_0x39c374===_0x474c6e(0x275))_0x27aa60=_0xd99aa6[_0x474c6e(0x4ae)][_0x474c6e(0x23c)]===_0x474c6e(0x2b8)===_0x34caed[_0x474c6e(0x980)];else _0x39c374===_0x474c6e(0x6cc)&&(_0x27aa60=_0xd99aa6[_0x474c6e(0x64c)][_0x474c6e(0x168)]()===_0x34caed[_0x474c6e(0x2c2)]);}!_0x27aa60&&_0xd99aa6[_0x474c6e(0x74c)][_0x474c6e(0x1c0)](_0x474c6e(0x61b),_0x474c6e(0x3b0),_0x474c6e(0x596)),document[_0x474c6e(0x26b)](_0x474c6e(0x7fa))[_0x474c6e(0x74c)]['remove']('hidden');}function startWholeQuizTimer(_0x49f436){const _0x4e54fd=_0x3de37b,_0x5dbe2=document[_0x4e54fd(0x26b)](_0x4e54fd(0x359));if(!_0x5dbe2)return;const _0x3d37c9=Date['now']()+_0x49f436*0x3c*0x3e8;_0x5dbe2[_0x4e54fd(0x9ba)]=_0x4e54fd(0x72e);const _0x1e07f9=document[_0x4e54fd(0x26b)](_0x4e54fd(0x784));quizTimerInterval=setInterval(()=>{const _0x1ef939=_0x4e54fd,_0x918af3=_0x3d37c9-Date[_0x1ef939(0x504)]();if(_0x918af3<=0x0)clearInterval(quizTimerInterval),_0x1e07f9[_0x1ef939(0x64c)]='00:00',showMessage(_0x1ef939(0x1a6)),handleSubmitQuiz(null);else{const _0x2b9dcb=Math[_0x1ef939(0x48a)](_0x918af3/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x58fc63=Math['floor'](_0x918af3/0x3e8%0x3c)[_0x1ef939(0x400)]()[_0x1ef939(0x3f4)](0x2,'0');_0x1e07f9[_0x1ef939(0x64c)]=_0x2b9dcb+':'+_0x58fc63;}},0x3e8);}function renderPerQuestionView(){const _0x4fe656=_0x3de37b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2deb4b=currentDisplayedQuiz[_0x4fe656(0x6ba)][currentQuestionIndex],_0x325eb9=_0x2deb4b[_0x4fe656(0x14b)]||currentDisplayedQuiz['quizType'];let _0x465dae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x4fe656(0x6ba)][_0x4fe656(0x579)]+_0x4fe656(0x4b2)+(currentMode===_0x4fe656(0x41c)?_0x4fe656(0x671):'')+_0x4fe656(0x5c4)+currentDisplayedQuiz[_0x4fe656(0x680)]+_0x4fe656(0x699)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x4fe656(0x579)]-0x1?_0x4fe656(0x562):_0x4fe656(0x446))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea[_0x4fe656(0x9ba)]=_0x465dae;let _0x51d736='',_0x140de8='';switch(_0x325eb9){case _0x4fe656(0x6cc):_0x51d736=currentQuestionIndex+0x1+'.\x20'+_0x2deb4b[_0x4fe656(0x622)],_0x140de8=_0x4fe656(0x8d4)+_0x2deb4b[_0x4fe656(0x330)][_0x4fe656(0x7bf)](_0x59bb75=>_0x4fe656(0x2ac)+_0x59bb75+'\x22>'+_0x59bb75+_0x4fe656(0x7a5))[_0x4fe656(0xa17)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4fe656(0x275):_0x51d736=currentQuestionIndex+0x1+'.\x20'+_0x2deb4b['questionText'],_0x140de8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4fe656(0x1c1):case _0x4fe656(0x110):_0x51d736=currentQuestionIndex+0x1+'.\x20'+_0x2deb4b['questionText'],_0x140de8=_0x4fe656(0x4a3);break;case _0x4fe656(0x153):case'fill_in_with_choices':default:_0x51d736=currentQuestionIndex+0x1+'.\x20'+_0x2deb4b[_0x4fe656(0x19b)],_0x140de8=_0x2deb4b['options']['map']((_0x14f7b9,_0x51d3bc)=>_0x4fe656(0x4bf)+_0x51d3bc+_0x4fe656(0xfe)+_0x51d3bc+_0x4fe656(0x4a5)+_0x51d3bc+'\x22>'+_0x14f7b9+_0x4fe656(0x5ae))['join']('');break;}_0x2deb4b[_0x4fe656(0x594)]&&(_0x51d736+=_0x4fe656(0x91b)+_0x2deb4b[_0x4fe656(0x594)]+'</div>');document[_0x4fe656(0x26b)](_0x4fe656(0x8d8))[_0x4fe656(0x9ba)]=_0x51d736,document[_0x4fe656(0x26b)](_0x4fe656(0x310))[_0x4fe656(0x9ba)]=_0x140de8;if(currentMode===_0x4fe656(0x41c)){const _0x1ccc44=document['getElementById'](_0x4fe656(0x71e));if(_0x1ccc44)_0x1ccc44[_0x4fe656(0x813)](_0x4fe656(0x8c2),cancelAdminTest);}document[_0x4fe656(0x26b)](_0x4fe656(0x723))[_0x4fe656(0x813)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x4fe656(0x7c9)])window[_0x4fe656(0x7c9)][_0x4fe656(0x281)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x135a83=_0x3de37b,_0x2d0855=currentDisplayedQuiz[_0x135a83(0x81e)][_0x135a83(0x834)],_0x1d6773=document['getElementById'](_0x135a83(0x96f));if(!_0x1d6773)return;let _0x189561=_0x2d0855;_0x1d6773[_0x135a83(0x9ba)]=_0x135a83(0x507)+_0x189561+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x43f995=document[_0x135a83(0x26b)]('timer-bar'),_0x51a2c8=document['getElementById'](_0x135a83(0x375));perQuestionTimerInterval=setInterval(()=>{const _0x3389e1=_0x135a83;_0x189561--;const _0x142002=_0x189561/_0x2d0855*0x64;_0x43f995['style']['width']=_0x142002+'%',_0x51a2c8[_0x3389e1(0x64c)]=_0x189561,_0x189561<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3389e1(0x313)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x51f6f9=![]){const _0x2789d1=_0x3de37b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4f0f2e=null;if(!_0x51f6f9){const _0x1c4e56=currentDisplayedQuiz[_0x2789d1(0x6ba)][currentQuestionIndex],_0x29bdf7=_0x1c4e56[_0x2789d1(0x14b)]||currentDisplayedQuiz[_0x2789d1(0xa11)];if(_0x29bdf7===_0x2789d1(0x1c1)||_0x29bdf7===_0x2789d1(0x110)){const _0x2b0d07=document['querySelector'](_0x2789d1(0x52e));_0x4f0f2e=_0x2b0d07?_0x2b0d07[_0x2789d1(0x884)][_0x2789d1(0x168)]():'';}else{if(_0x29bdf7===_0x2789d1(0x6cc)){const _0x2295c4=document['querySelector'](_0x2789d1(0x634));_0x4f0f2e=_0x2295c4?_0x2295c4['value']:'';}else{const _0x933790=document[_0x2789d1(0x8f1)]('input[name=\x22question_single\x22]:checked');if(_0x933790){const _0x324750=_0x933790[_0x2789d1(0x884)];_0x4f0f2e=!isNaN(parseInt(_0x324750,0xa))&&_0x324750[_0x2789d1(0x168)]()!==''?parseInt(_0x324750,0xa):_0x324750;}}}}studentAnswersPerQuestion[_0x2789d1(0x8b7)](_0x4f0f2e),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2789d1(0x6ba)][_0x2789d1(0x579)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x37e03a=_0x3de37b,_0x369461=currentDisplayedQuiz[_0x37e03a(0x6ba)][_0x37e03a(0x164)](_0x4e525d=>_0x4e525d['questionType']===_0x37e03a(0x1c1));_0x369461?showMessage(_0x37e03a(0x802)):showMessage(_0x37e03a(0x79d));const _0x1c4d33=currentQuizData['id'],_0x559580=doc(db,_0x37e03a(0x573)+appId+_0x37e03a(0x447)+_0x1c4d33+_0x37e03a(0x693),currentStudentName),_0x25f7d7=await getDoc(_0x559580),_0x3f7980=_0x25f7d7[_0x37e03a(0x42d)]()?_0x25f7d7[_0x37e03a(0x51a)]():{},_0x5daf30=_0x3f7980[_0x37e03a(0x456)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5daf30);}function getResultsFilename(){const _0x517485=_0x3de37b,_0x5d2adb=document[_0x517485(0x26b)](_0x517485(0x63f))[_0x517485(0x64c)][_0x517485(0xa16)](/[^a-z0-9]/gi,'_')[_0x517485(0x82b)]();return _0x517485(0x5e3)+(_0x5d2adb||_0x517485(0x663));}function exportResultsAsImage(){const _0x3f58d1=_0x3de37b,_0x5adaf0=document[_0x3f58d1(0x26b)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x5adaf0)[_0x3f58d1(0x233)](_0x34e0ae=>{const _0x1ed3a0=_0x3f58d1,_0x2ecf64=document['createElement']('a');_0x2ecf64['download']=getResultsFilename()+'.png',_0x2ecf64[_0x1ed3a0(0x70e)]=_0x34e0ae[_0x1ed3a0(0x192)](_0x1ed3a0(0x45d)),_0x2ecf64[_0x1ed3a0(0x8c2)](),messageModal['classList'][_0x1ed3a0(0x1c0)](_0x1ed3a0(0x2d5));});}function exportResultsAsPDF(){const _0x3cdd94=_0x3de37b,{jsPDF:_0x454fbf}=window['jspdf'],_0x309b2d=new _0x454fbf();_0x309b2d[_0x3cdd94(0x7d1)]('helvetica',_0x3cdd94(0x60b)),_0x309b2d[_0x3cdd94(0x427)]({'html':_0x3cdd94(0x6b4)}),_0x309b2d[_0x3cdd94(0x286)](getResultsFilename()+_0x3cdd94(0x58d));}function exportResultsAsWord(){const _0x5e3b2d=_0x3de37b,_0xc9253a=_0x5e3b2d(0x53a)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x5e3b2d(0x66e)+_0x5e3b2d(0x236),_0x32eb03=_0x5e3b2d(0x358),_0x4a748b=_0xc9253a+document[_0x5e3b2d(0x26b)](_0x5e3b2d(0x223))[_0x5e3b2d(0x9ba)]+_0x32eb03,_0x91e65='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x4a748b),_0x48ddc2=document[_0x5e3b2d(0x496)]('a');document[_0x5e3b2d(0x531)][_0x5e3b2d(0x4c1)](_0x48ddc2),_0x48ddc2[_0x5e3b2d(0x70e)]=_0x91e65,_0x48ddc2[_0x5e3b2d(0x882)]=getResultsFilename()+_0x5e3b2d(0x457),_0x48ddc2[_0x5e3b2d(0x8c2)](),document[_0x5e3b2d(0x531)][_0x5e3b2d(0x9ff)](_0x48ddc2);}function exportResultsAsExcel(){const _0x354645=_0x3de37b,_0x23c7ba=document[_0x354645(0x26b)](_0x354645(0x6e4));let _0x187eaf=[];for(let _0x50f576=0x0;_0x50f576<_0x23c7ba[_0x354645(0xa0d)]['length'];_0x50f576++){let _0x4d03ed=[],_0x2fd67e=_0x23c7ba['rows'][_0x50f576][_0x354645(0x303)](_0x354645(0x603));for(let _0x208c04=0x0;_0x208c04<_0x2fd67e[_0x354645(0x579)];_0x208c04++){_0x4d03ed['push']('\x22'+_0x2fd67e[_0x208c04]['innerText'][_0x354645(0xa16)](/"/g,'\x22\x22')+'\x22');}_0x187eaf['push'](_0x4d03ed[_0x354645(0xa17)](','));}const _0x3e475d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x187eaf['join']('\x0a')],{'type':_0x354645(0x5d3)}),_0x3521b0=document[_0x354645(0x496)]('a');_0x3521b0[_0x354645(0x70e)]=URL[_0x354645(0x93b)](_0x3e475d),_0x3521b0[_0x354645(0x882)]=getResultsFilename()+'.csv',_0x3521b0[_0x354645(0x8c2)]();}function exportTableAsImage(_0x464726,_0x2cbd1e){const _0x107cf5=_0x3de37b,_0x5d4afa=document[_0x107cf5(0x26b)](_0x464726);if(!_0x5d4afa){showMessage(_0x107cf5(0x933));return;}showMessage(_0x107cf5(0x36a)),html2canvas(_0x5d4afa)[_0x107cf5(0x233)](_0x1ed746=>{const _0x325fec=_0x107cf5,_0x5864ed=document['createElement']('a');_0x5864ed['download']=_0x2cbd1e+_0x325fec(0x39a),_0x5864ed[_0x325fec(0x70e)]=_0x1ed746['toDataURL'](_0x325fec(0x45d)),_0x5864ed[_0x325fec(0x8c2)](),messageModal[_0x325fec(0x74c)][_0x325fec(0x1c0)](_0x325fec(0x2d5));});}function exportTableAsPDF(_0x4aa509,_0x42b9d1){const _0x2619e6=_0x3de37b,{jsPDF:_0x2e3dd3}=window[_0x2619e6(0x9f2)],_0x1ffe50=new _0x2e3dd3();_0x1ffe50['setFont'](_0x2619e6(0x51d),'normal'),_0x1ffe50[_0x2619e6(0x427)]({'html':'#'+_0x4aa509}),_0x1ffe50[_0x2619e6(0x286)](_0x42b9d1+_0x2619e6(0x58d));}function exportTableAsWord(_0x4e76d7,_0x3ecd63){const _0x4a86fd=_0x3de37b,_0x15ad4d=document[_0x4a86fd(0x26b)](_0x4e76d7);if(!_0x15ad4d){showMessage(_0x4a86fd(0x933));return;}const _0x3a054f=_0x4a86fd(0x53a)+_0x4a86fd(0x47a)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x4a86fd(0x236),_0x5712cb='</body></html>',_0x5853ee=_0x3a054f+_0x15ad4d['innerHTML']+_0x5712cb,_0x35d364=_0x4a86fd(0x755)+encodeURIComponent(_0x5853ee),_0x4056ab=document[_0x4a86fd(0x496)]('a');document[_0x4a86fd(0x531)]['appendChild'](_0x4056ab),_0x4056ab[_0x4a86fd(0x70e)]=_0x35d364,_0x4056ab[_0x4a86fd(0x882)]=_0x3ecd63+_0x4a86fd(0x457),_0x4056ab['click'](),document['body'][_0x4a86fd(0x9ff)](_0x4056ab);}function exportTableAsExcel(_0x517473,_0x5bcfd8){const _0x26b53a=_0x3de37b,_0x441d70=document[_0x26b53a(0x26b)](_0x517473);if(!_0x441d70){showMessage(_0x26b53a(0x933));return;}let _0x31eeed=[];for(let _0x4693d8=0x0;_0x4693d8<_0x441d70['rows'][_0x26b53a(0x579)];_0x4693d8++){let _0x9b856f=[],_0xf311a4=_0x441d70[_0x26b53a(0xa0d)][_0x4693d8][_0x26b53a(0x303)]('td,\x20th');for(let _0x5ea256=0x0;_0x5ea256<_0xf311a4['length'];_0x5ea256++){_0x9b856f[_0x26b53a(0x8b7)]('\x22'+_0xf311a4[_0x5ea256][_0x26b53a(0x7fd)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x31eeed['push'](_0x9b856f[_0x26b53a(0xa17)](','));}const _0x12ad59=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x31eeed[_0x26b53a(0xa17)]('\x0a')],{'type':_0x26b53a(0x5d3)}),_0x4e1367=document['createElement']('a');_0x4e1367['href']=URL[_0x26b53a(0x93b)](_0x12ad59),_0x4e1367['download']=_0x5bcfd8+_0x26b53a(0x5d5),_0x4e1367[_0x26b53a(0x8c2)]();}function renderAnalytics(_0x512e44,_0x13245a){const _0x11995c=_0x3de37b,_0x1bf07a=_0x13245a[_0x11995c(0x2bf)](_0x3b2132=>_0x3b2132[_0x11995c(0x2ad)]!==undefined),_0xeb87bc=currentProjectData[_0x11995c(0x337)]['length'],_0x551a19=_0x1bf07a[_0x11995c(0x579)],_0x2db802=_0xeb87bc-_0x551a19,_0x29eb96=_0xeb87bc>0x0?_0x551a19/_0xeb87bc*0x64:0x0,_0x3e7198=_0x1bf07a[_0x11995c(0x7bf)](_0x12d456=>_0x12d456[_0x11995c(0x2ad)]),_0x1b63d4=_0x3e7198[_0x11995c(0x579)]>0x0?_0x3e7198[_0x11995c(0x5f2)]((_0x3acffe,_0x5539cc)=>_0x3acffe+_0x5539cc,0x0)/_0x3e7198[_0x11995c(0x579)]:0x0,_0x41adf2=_0x512e44[_0x11995c(0x6ba)][_0x11995c(0x579)],_0x2b8776=_0x41adf2>0x0?_0x1b63d4/_0x41adf2*0x64:0x0,_0x4fef20=calculateItemAnalysis(_0x512e44,_0x1bf07a),_0x269675=calculateReliabilityKR20(_0x512e44,_0x1bf07a,_0x4fef20[_0x11995c(0xa4c)]);let _0x554360='';if(_0x269675!==null){let _0x42cb90='';if(_0x269675>=0.9)_0x42cb90='ยอดเยี่ยม';else{if(_0x269675>=0.8)_0x42cb90='ดีมาก';else{if(_0x269675>=0.7)_0x42cb90='ดี';else{if(_0x269675>=0.6)_0x42cb90=_0x11995c(0x126);else _0x42cb90='ควรปรับปรุง';}}}_0x554360='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x269675[_0x11995c(0x283)](0x2)+_0x11995c(0x3f7)+_0x42cb90+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x1b464f=document[_0x11995c(0x26b)](_0x11995c(0x35a));_0x1b464f[_0x11995c(0x9ba)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x29eb96['toFixed'](0x0)+_0x11995c(0x7f6)+_0x551a19+'/'+_0xeb87bc+_0x11995c(0x2f1)+_0x1b63d4['toFixed'](0x2)+_0x11995c(0x681)+_0x2b8776[_0x11995c(0x283)](0x0)+_0x11995c(0x809)+(_0x3e7198['length']>0x0?Math[_0x11995c(0x104)](..._0x3e7198):_0x11995c(0x4e2))+_0x11995c(0x5de)+(_0x3e7198[_0x11995c(0x579)]>0x0?Math[_0x11995c(0x6df)](..._0x3e7198):_0x11995c(0x4e2))+_0x11995c(0x793)+_0x554360+_0x11995c(0x5b1);const _0x5da0b9=document['getElementById'](_0x11995c(0x2e2));_0x5da0b9&&_0x5da0b9[_0x11995c(0x953)]();const _0x4718e5=_0x11995c(0x412);_0x1b464f[_0x11995c(0x800)]('afterend',_0x4718e5);const _0x61b799=currentProjectData[_0x11995c(0x337)]||[];renderSubmissionChart(_0x551a19,_0x2db802,_0x1bf07a,_0x61b799),renderScoreDistributionChart(_0x1bf07a,_0x41adf2),renderQuestionAnalytics(_0x512e44,_0x1bf07a,_0x61b799),renderInterestingStats(_0x512e44,_0x1bf07a);}async function handleExportLessonPDF(){const _0x1ae803=_0x3de37b,_0x19614b=document[_0x1ae803(0x26b)]('lesson-plan-content'),_0x3df6b1=document[_0x1ae803(0x26b)](_0x1ae803(0x35e))[_0x1ae803(0x64c)],_0x43fa55=window[_0x1ae803(0x12b)]('',_0x1ae803(0x9c3)),_0x34bfaf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x3df6b1+_0x1ae803(0x5f0)+_0x19614b['innerHTML']+_0x1ae803(0x3bb);_0x43fa55[_0x1ae803(0x5c7)][_0x1ae803(0x4dd)](_0x34bfaf),_0x43fa55[_0x1ae803(0x5c7)][_0x1ae803(0x545)](),_0x43fa55[_0x1ae803(0x2db)]=function(){setTimeout(()=>{const _0xfe6c=_0x4a4b;_0x43fa55[_0xfe6c(0x896)]();},0x5dc);};}function renderInterestingStats(_0x16bd4a,_0x539699){const _0x51b345=_0x3de37b,_0x461898=document[_0x51b345(0x26b)](_0x51b345(0x86b));if(!_0x461898)return;if(_0x539699['length']===0x0){_0x461898[_0x51b345(0x9ba)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x586b74=_0x16bd4a[_0x51b345(0x6ba)][_0x51b345(0x7bf)]((_0xafa7aa,_0x24cfce)=>({'index':_0x24cfce+0x1,'text':_0xafa7aa[_0x51b345(0x19b)]||_0xafa7aa[_0x51b345(0x622)],'correct':0x0}));_0x539699['forEach'](_0x138393=>{const _0x409b0a=_0x51b345,_0x1c7d86=_0x138393['attempts'][_0x138393[_0x409b0a(0x456)][_0x409b0a(0x579)]-0x1];_0x1c7d86&&_0x1c7d86['answers']&&_0x1c7d86['answers']['forEach'](_0x2b6fa3=>{const _0x597542=_0x409b0a,_0xcf03fe=_0x586b74[_0x597542(0x1da)](_0x317348=>_0x317348[_0x597542(0x3fd)]===_0x2b6fa3[_0x597542(0x93e)]);_0x2b6fa3['isCorrect']&&_0xcf03fe&&_0xcf03fe[_0x597542(0x914)]++;});});const _0x3ee958=_0x539699['length'],_0x3c59f2=Math[_0x51b345(0x104)](..._0x586b74['map'](_0x560030=>_0x560030['correct'])),_0x57118b=Math[_0x51b345(0x6df)](..._0x586b74['map'](_0x1477aa=>_0x1477aa[_0x51b345(0x914)])),_0x5581c2=_0x586b74['filter'](_0x2409e5=>_0x2409e5['correct']===_0x3c59f2)['map'](_0x34c359=>_0x51b345(0x7eb)+_0x34c359[_0x51b345(0x9a8)]),_0x2df655=_0x586b74[_0x51b345(0x2bf)](_0x175247=>_0x175247['correct']===_0x57118b)[_0x51b345(0x7bf)](_0x5b049d=>_0x51b345(0x7eb)+_0x5b049d[_0x51b345(0x9a8)]),_0x26c204=_0x539699[_0x51b345(0x9c4)]((_0x19fab9,_0x2d3c83)=>_0x2d3c83[_0x51b345(0x2ad)]-_0x19fab9['latestScore'])[_0x51b345(0x2bf)]((_0x3c4870,_0x573ebb,_0x7f3bae)=>_0x3c4870['latestScore']===_0x7f3bae[0x0][_0x51b345(0x2ad)]),_0x250816=_0x539699[_0x51b345(0x9c4)]((_0x465a82,_0x3e1519)=>_0x465a82[_0x51b345(0x2ad)]-_0x3e1519[_0x51b345(0x2ad)])['filter']((_0x41ee2e,_0x209841,_0x163cd7)=>_0x41ee2e[_0x51b345(0x2ad)]===_0x163cd7[0x0][_0x51b345(0x2ad)]),_0x136a22=_0x51b345(0x29c)+_0x5581c2[_0x51b345(0xa17)](',\x20')+_0x51b345(0x81a)+_0x3c59f2+_0x51b345(0x119)+_0x3ee958+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x2df655[_0x51b345(0xa17)](',\x20')+_0x51b345(0x81a)+(_0x3ee958-_0x57118b)+_0x51b345(0x119)+_0x3ee958+_0x51b345(0x6f5)+_0x26c204['map'](_0x1e34ac=>_0x1e34ac[_0x51b345(0xfd)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x26c204[0x0]['latestScore']+_0x51b345(0x7f3)+_0x250816[_0x51b345(0x7bf)](_0x44af39=>_0x44af39[_0x51b345(0xfd)])[_0x51b345(0xa17)](',\x20')+_0x51b345(0x1a9)+_0x250816[0x0][_0x51b345(0x2ad)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x461898['innerHTML']=_0x136a22;}function renderSubmissionChart(_0x1230cd,_0x16c7fd,_0x17ef91,_0x11951b){const _0x493e41=_0x3de37b,_0x3d9590=document[_0x493e41(0x26b)](_0x493e41(0x746))['getContext']('2d'),_0x201c12=_0x17ef91[_0x493e41(0x7bf)](_0x5b6a60=>_0x5b6a60[_0x493e41(0xfd)]),_0x5e5ade=_0x11951b[_0x493e41(0x2bf)](_0x498458=>!_0x201c12[_0x493e41(0x15f)](_0x498458));chartInstances[_0x493e41(0x2f8)]&&chartInstances['submission']['destroy'](),chartInstances['submission']=new Chart(_0x3d9590,{'type':_0x493e41(0x9b6),'data':{'labels':[_0x493e41(0x1e5),_0x493e41(0x16f)],'datasets':[{'data':[_0x1230cd,_0x16c7fd],'backgroundColor':['#10B981',_0x493e41(0x2a4)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x493e41(0x7cd)},'tooltip':{'callbacks':{'label':function(_0x6b6fc5){const _0x18bd51=_0x493e41;let _0x47ac72=_0x6b6fc5[_0x18bd51(0x940)]||'';return _0x47ac72&&(_0x47ac72+=':\x20'),_0x47ac72+=_0x6b6fc5[_0x18bd51(0x8df)],_0x47ac72;},'afterLabel':function(_0x38428d){const _0x37af6f=_0x493e41;let _0x5eec11;return _0x38428d[_0x37af6f(0x354)]===0x0?_0x5eec11=_0x201c12:_0x5eec11=_0x5e5ade,_0x5eec11[_0x37af6f(0x579)]>0x0?_0x5eec11['join']('\x0a'):_0x37af6f(0x8d5);}}}}}});}function renderScoreDistributionChart(_0x4adf62,_0x2eb90c){const _0x8bde7b=_0x3de37b,_0xa98137=document['getElementById']('score-distribution-chart')[_0x8bde7b(0x67b)]('2d'),_0x5deed1={};for(let _0x5bc01a=0x0;_0x5bc01a<=_0x2eb90c;_0x5bc01a++){_0x5deed1[_0x5bc01a]=0x0;}_0x4adf62[_0x8bde7b(0x597)](_0x4c62f3=>{const _0x207c38=_0x8bde7b;_0x5deed1[_0x4c62f3[_0x207c38(0x2ad)]]!==undefined&&_0x5deed1[_0x4c62f3[_0x207c38(0x2ad)]]++;}),chartInstances['score']&&chartInstances['score'][_0x8bde7b(0x64d)](),chartInstances[_0x8bde7b(0x5aa)]=new Chart(_0xa98137,{'type':_0x8bde7b(0x131),'data':{'labels':Object[_0x8bde7b(0xa3b)](_0x5deed1),'datasets':[{'label':_0x8bde7b(0x410),'data':Object[_0x8bde7b(0x4bb)](_0x5deed1),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x8bde7b(0x57f),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x8bde7b(0x887)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x477756){const _0x2bbe09=_0x8bde7b,_0x315f98=_0x477756[_0x2bbe09(0x940)],_0x14b06a=_0x4adf62[_0x2bbe09(0x2bf)](_0x296376=>_0x296376[_0x2bbe09(0x2ad)]==_0x315f98)[_0x2bbe09(0x7bf)](_0x22348d=>_0x22348d['studentName']);return _0x14b06a[_0x2bbe09(0x579)]>0x0?_0x14b06a[_0x2bbe09(0xa17)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x443ded,_0x2e874a,_0xbdeec5){const _0x586866=_0x3de37b,_0x3ddc5d=document['getElementById']('question-analytics-container');if(_0xbdeec5['length']===0x0){_0x3ddc5d[_0x586866(0x9ba)]=_0x586866(0x109);return;}const _0x584be3=calculateItemAnalysis(_0x443ded,_0x2e874a),_0x1ed083=calculateDistractorAnalysis(_0x443ded,_0x2e874a);let _0x5d4d90='';_0x584be3['overallGroups']&&(_0x5d4d90=_0x586866(0x3a2)+_0x584be3[_0x586866(0x1ae)]['upperGroupNames'][_0x586866(0x579)]+_0x586866(0xa41)+_0x584be3[_0x586866(0x1ae)][_0x586866(0x3cc)][_0x586866(0x7bf)](_0x36cd8e=>_0x586866(0x3fb)+_0x36cd8e+_0x586866(0x524))[_0x586866(0xa17)]('')+_0x586866(0x664)+_0x584be3['overallGroups'][_0x586866(0x36f)]['length']+_0x586866(0xa41)+_0x584be3[_0x586866(0x1ae)][_0x586866(0x36f)][_0x586866(0x7bf)](_0x5ce16f=>_0x586866(0x3fb)+_0x5ce16f+_0x586866(0x524))[_0x586866(0xa17)]('')+_0x586866(0x72f));let _0x50eb6a='';const _0x1fe95b=_0x2e874a[_0x586866(0x7bf)](_0x3f2094=>_0x3f2094[_0x586866(0xfd)]),_0x5dfb19=_0x4782b4=>{const _0x110b05=_0x586866;if(_0x4782b4>=0.8)return _0x110b05(0x1d1);if(_0x4782b4>=0.6)return _0x110b05(0x8a2);if(_0x4782b4>=0.4)return _0x110b05(0x2fe);if(_0x4782b4>=0.2)return _0x110b05(0x26c);return _0x110b05(0x46b);},_0x53a5c1=_0x1dd399=>{const _0x8c321f=_0x586866;if(_0x1dd399<0x0)return _0x8c321f(0x2ae);if(_0x1dd399>=0.4)return _0x8c321f(0x704);if(_0x1dd399>=0.3)return _0x8c321f(0x3e7);if(_0x1dd399>=0.2)return _0x8c321f(0x86a);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x42fbe7=_0x274e89=>{const _0x592a04=_0x586866,_0x783879=_0x274e89['toFixed'](0x0);if(parseFloat(_0x783879)===0x64)return _0x592a04(0x5c2)+_0x783879+_0x592a04(0x7ef);if(_0x274e89>=0x32)return _0x592a04(0xa26)+_0x783879+_0x592a04(0x7ef);return _0x592a04(0x2bb)+_0x783879+_0x592a04(0x7ef);};_0x443ded[_0x586866(0x6ba)][_0x586866(0x597)]((_0x33cd0c,_0x512450)=>{const _0x476b65=_0x586866,_0x26cabc=_0x584be3[_0x476b65(0xa4c)][_0x512450],_0xad8ea9=_0x1ed083[_0x512450],_0x18d963=_0x33cd0c[_0x476b65(0x622)]||_0x33cd0c[_0x476b65(0x19b)]||_0x33cd0c[_0x476b65(0x481)];let _0x262bfd=0x0;const _0x45dc59=[],_0x395a70=[];_0x2e874a[_0x476b65(0x597)](_0x2dcdee=>{const _0x3549e1=_0x476b65,_0x3dec91=_0x2dcdee[_0x3549e1(0x456)][_0x2dcdee[_0x3549e1(0x456)]['length']-0x1];if(_0x3dec91&&_0x3dec91[_0x3549e1(0x1a1)]){const _0xf5b9e3=_0x3dec91['answers'][_0x3549e1(0x1da)](_0x5bbfd4=>_0x5bbfd4[_0x3549e1(0x93e)]===_0x18d963)??_0x3dec91['answers'][_0x512450]??null;_0xf5b9e3&&(_0xf5b9e3[_0x3549e1(0x516)]?(_0x262bfd++,_0x45dc59['push'](_0x2dcdee['studentName'])):_0x395a70['push'](_0x2dcdee[_0x3549e1(0xfd)]));}});const _0x2f1c34=_0x2e874a[_0x476b65(0x579)]>0x0?_0x262bfd/_0x2e874a['length']*0x64:0x0,_0x3a4831=_0xbdeec5[_0x476b65(0x2bf)](_0xa4e486=>!_0x1fe95b[_0x476b65(0x15f)](_0xa4e486)),_0x5b7e48=_0x26cabc?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x26cabc['p'][_0x476b65(0x283)](0x2)+_0x476b65(0x398)+_0x5dfb19(_0x26cabc['p'])+_0x476b65(0x5e6)+_0x26cabc['r'][_0x476b65(0x283)](0x2)+'</p><div>'+_0x53a5c1(_0x26cabc['r'])+_0x476b65(0x9b9)+_0x42fbe7(_0x2f1c34)+_0x476b65(0x80e):'';let _0x1f23ca='';_0xad8ea9&&(_0x1f23ca=_0x476b65(0x521)+Object['keys'](_0xad8ea9)[_0x476b65(0x7bf)](_0x2e6f23=>{const _0x5a056a=_0x476b65,_0x5c20f8=_0xad8ea9[_0x2e6f23],_0x560847=parseInt(_0x2e6f23)===_0x33cd0c[_0x5a056a(0x7d9)],_0x3eb125=!_0x560847&&_0x5c20f8[_0x5a056a(0xa4d)]>_0x5c20f8[_0x5a056a(0x239)];return _0x5a056a(0x8b4)+(_0x560847?_0x5a056a(0x292):'')+_0x5a056a(0x5fd)+(_0x560847?'✔\x20':'')+_0x5c20f8['text']+_0x5a056a(0x34c)+_0x5c20f8[_0x5a056a(0x239)]+_0x5a056a(0x34c)+_0x5c20f8['lower_group_count']+'\x20'+(_0x3eb125?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x5c20f8[_0x5a056a(0x7e0)]+_0x5a056a(0x5d0);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x4e00d4='';_0x26cabc&&_0x26cabc['upperGroupResponders']&&(_0x4e00d4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x26cabc[_0x476b65(0x467)][_0x476b65(0x579)]+_0x476b65(0x1a8)+_0x26cabc[_0x476b65(0x467)][_0x476b65(0x7bf)](_0x1018ba=>_0x476b65(0x3fb)+(_0x1018ba[_0x476b65(0x516)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x476b65(0x3b9))+'\x20'+_0x1018ba['name']+_0x476b65(0x524))[_0x476b65(0xa17)]('')+_0x476b65(0x44c)+_0x26cabc[_0x476b65(0x99e)]['length']+_0x476b65(0x1a8)+_0x26cabc['lowerGroupResponders'][_0x476b65(0x7bf)](_0x392da2=>_0x476b65(0x3fb)+(_0x392da2[_0x476b65(0x516)]?_0x476b65(0x287):_0x476b65(0x3b9))+'\x20'+_0x392da2[_0x476b65(0x234)]+_0x476b65(0x524))[_0x476b65(0xa17)]('')+_0x476b65(0x65b)),_0x50eb6a+=_0x476b65(0x6d2)+(_0x512450+0x1)+':\x20'+_0x18d963+_0x476b65(0x997)+_0x5b7e48+_0x476b65(0x79f)+_0x18d963+_0x476b65(0x861)+_0x262bfd+_0x476b65(0x5b8)+_0x2e874a[_0x476b65(0x579)]+_0x476b65(0x151)+_0x2f1c34[_0x476b65(0x283)](0x0)+_0x476b65(0x713)+_0x45dc59[_0x476b65(0x579)]+_0x476b65(0x832)+(_0x45dc59['length']>0x0?_0x45dc59[_0x476b65(0xa17)](',\x20'):_0x476b65(0x8d5))+_0x476b65(0x9e1)+_0x395a70[_0x476b65(0x579)]+_0x476b65(0x832)+(_0x395a70[_0x476b65(0x579)]>0x0?_0x395a70[_0x476b65(0xa17)](',\x20'):_0x476b65(0x8d5))+_0x476b65(0x599)+_0x3a4831[_0x476b65(0x579)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3a4831[_0x476b65(0x579)]>0x0?_0x3a4831['join'](',\x20'):_0x476b65(0x8d5))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f23ca+_0x476b65(0x1d9)+_0x4e00d4+_0x476b65(0x62d);}),_0x3ddc5d['innerHTML']=_0x5d4d90+_0x50eb6a;try{window[_0x586866(0x7c9)]&&MathJax[_0x586866(0x281)]&&MathJax['typesetPromise']([_0x3ddc5d]);}catch(_0x7a3513){console[_0x586866(0x2a8)](_0x586866(0x806),_0x7a3513);}}function calculateDistractorAnalysis(_0x563005,_0x1e67cf){const _0x55c9cf=_0x3de37b,_0xaf7225={};if(_0x1e67cf[_0x55c9cf(0x579)]<0x2)return _0xaf7225;const _0x41e16a=[..._0x1e67cf][_0x55c9cf(0x9c4)]((_0x465245,_0x386a96)=>{const _0x7e5e78=_0x55c9cf,_0x1222af=_0x386a96[_0x7e5e78(0x2ad)]-_0x465245[_0x7e5e78(0x2ad)];if(_0x1222af!==0x0)return _0x1222af;const _0x39005d=_0x465245[_0x7e5e78(0x456)]?.[_0x7e5e78(0x579)]||0x1,_0x693305=_0x386a96[_0x7e5e78(0x456)]?.[_0x7e5e78(0x579)]||0x1,_0x24e9b7=_0x39005d-_0x693305;if(_0x24e9b7!==0x0)return _0x24e9b7;const _0x456901=new Date(_0x465245[_0x7e5e78(0x4e6)]),_0x319fcb=new Date(_0x386a96['latestSubmittedAt']),_0x452984=_0x456901-_0x319fcb;if(_0x452984!==0x0)return _0x452984;return _0x465245[_0x7e5e78(0xfd)]['localeCompare'](_0x386a96[_0x7e5e78(0xfd)],'th');}),_0x8ffbc5=_0x41e16a[_0x55c9cf(0x579)],_0x5b935=Math[_0x55c9cf(0x104)](0x1,Math[_0x55c9cf(0x48a)](_0x8ffbc5*0.33)),_0x5c3de3=_0x41e16a['slice'](0x0,_0x5b935),_0x3435fb=_0x41e16a[_0x55c9cf(0x285)](-_0x5b935);return _0x563005['questions']['forEach']((_0x53c756,_0x5f5660)=>{const _0x1cd58b=_0x55c9cf;if(_0x53c756[_0x1cd58b(0x14b)]!==_0x1cd58b(0x153)||!_0x53c756[_0x1cd58b(0x8e3)])return;const _0x95f044=_0x53c756[_0x1cd58b(0x19b)],_0x46b742={};_0x53c756[_0x1cd58b(0x8e3)][_0x1cd58b(0x597)]((_0x4bf78e,_0x4a481f)=>{_0x46b742[_0x4a481f]={'text':_0x4bf78e,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x41e16a['forEach'](_0x2755d5=>{const _0x387f7c=_0x1cd58b,_0x412e1b=_0x2755d5[_0x387f7c(0x456)][_0x2755d5['attempts'][_0x387f7c(0x579)]-0x1],_0x59e6d9=_0x412e1b[_0x387f7c(0x1a1)][_0x387f7c(0x1da)](_0x35803c=>_0x35803c['originalQuestionText']===_0x95f044);if(_0x59e6d9&&_0x59e6d9['answer']!==null){const _0x1a1f63=_0x53c756[_0x387f7c(0x8e3)][_0x387f7c(0x4f1)](_0x5432eb=>_0x5432eb===_0x59e6d9[_0x387f7c(0x644)]);_0x1a1f63!==-0x1&&_0x46b742[_0x1a1f63]&&(_0x46b742[_0x1a1f63][_0x387f7c(0x7e0)]++,_0x5c3de3['includes'](_0x2755d5)&&_0x46b742[_0x1a1f63][_0x387f7c(0x239)]++,_0x3435fb[_0x387f7c(0x15f)](_0x2755d5)&&_0x46b742[_0x1a1f63][_0x387f7c(0xa4d)]++);}}),_0xaf7225[_0x5f5660]=_0x46b742;}),_0xaf7225;}function calculateReliabilityKR20(_0x53674f,_0x2ff1bd,_0x1beeac){const _0x33afd1=_0x3de37b,_0x128a8c=_0x53674f[_0x33afd1(0x6ba)][_0x33afd1(0x579)];if(_0x128a8c<0x2||_0x2ff1bd['length']<0x2)return null;const _0x546f43=_0x2ff1bd[_0x33afd1(0x7bf)](_0x5e3d16=>_0x5e3d16[_0x33afd1(0x2ad)]),_0x4a13f8=_0x546f43[_0x33afd1(0x5f2)]((_0x4897aa,_0x204bcc)=>_0x4897aa+_0x204bcc,0x0)/_0x546f43['length'],_0x2f142f=_0x546f43['map'](_0x312f6a=>Math[_0x33afd1(0x1b1)](_0x312f6a-_0x4a13f8,0x2))[_0x33afd1(0x5f2)]((_0x4860c6,_0x484fa4)=>_0x4860c6+_0x484fa4,0x0)/_0x546f43['length'];if(_0x2f142f===0x0)return null;let _0x4d8ea7=0x0;for(let _0x39e167=0x0;_0x39e167<_0x128a8c;_0x39e167++){const _0x39e119=_0x1beeac[_0x39e167]?.['p'];if(_0x39e119===undefined)continue;const _0x401dac=0x1-_0x39e119;_0x4d8ea7+=_0x39e119*_0x401dac;}if(_0x4d8ea7===0x0)return null;const _0xd581e5=_0x128a8c/(_0x128a8c-0x1)*(0x1-_0x4d8ea7/_0x2f142f);if(_0xd581e5>0x1)return null;return _0xd581e5;}async function handleAnalyzeClass(){const _0x3a0721=_0x3de37b;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3a0721(0x64f));return;}const _0x5d396c=collection(db,'artifacts/'+appId+_0x3a0721(0x447)+currentQuizData['id']+'/submissions'),_0x35961a=await getDocs(_0x5d396c),_0x233dbd=_0x35961a[_0x3a0721(0x7c4)]['map'](_0xfa4384=>_0xfa4384['data']());if(_0x233dbd[_0x3a0721(0x579)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x19dcef=document[_0x3a0721(0x26b)](_0x3a0721(0x306));_0x19dcef['innerHTML']=_0x3a0721(0x9e9),document[_0x3a0721(0x26b)](_0x3a0721(0x753))[_0x3a0721(0x865)]=!![];const _0x5bd574=_0x233dbd['map']((_0x1831ae,_0x3c9e8f)=>{const _0x2d2882=_0x3a0721,_0x1c4af5=_0x1831ae[_0x2d2882(0x456)][_0x1831ae[_0x2d2882(0x456)]['length']-0x1];if(!_0x1c4af5)return'';return _0x2d2882(0xa48)+(_0x3c9e8f+0x1)+'\x20('+_0x1831ae[_0x2d2882(0xfd)]+_0x2d2882(0x9b5)+_0x1c4af5[_0x2d2882(0x5aa)]+'/'+_0x1831ae[_0x2d2882(0x54f)]+_0x2d2882(0x191)+JSON['stringify'](_0x1c4af5[_0x2d2882(0x1a1)])+_0x2d2882(0x294);})[_0x3a0721(0xa17)]('\x0a---\x0a'),_0x52ab9d=_0x3a0721(0x2d4)+currentQuizData[_0x3a0721(0x680)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData['questions'])+_0x3a0721(0x2dc)+_0x5bd574+_0x3a0721(0x8ca),_0x282e1f={'type':_0x3a0721(0x1e7),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x3a0721(0x205)}},'classWeaknesses':{'type':_0x3a0721(0x3a6),'items':{'type':_0x3a0721(0x205)}},'teacherSuggestions':{'type':_0x3a0721(0x3a6),'items':{'type':'STRING'}}},'required':[_0x3a0721(0x2e9),'classWeaknesses',_0x3a0721(0x604)]};try{const _0x144cbf=await callAnalysisApi(_0x52ab9d,_0x282e1f);displayClassAnalysis(_0x144cbf);}catch(_0x57dea8){console[_0x3a0721(0x2a8)](_0x3a0721(0x5c5),_0x57dea8),_0x19dcef['innerHTML']='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x57dea8['message']+'</p></div>';}finally{document[_0x3a0721(0x26b)](_0x3a0721(0x753))[_0x3a0721(0x865)]=![];}}function displayClassAnalysis(_0x260ff0){const _0x295599=_0x3de37b,_0x3de0be=document['getElementById'](_0x295599(0x306));if(!_0x260ff0){_0x3de0be[_0x295599(0x9ba)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x3de0be[_0x295599(0x9ba)]=_0x295599(0x11d)+_0x260ff0[_0x295599(0x2e9)][_0x295599(0x7bf)](_0x4ef374=>_0x295599(0x3fb)+_0x4ef374+_0x295599(0x524))[_0x295599(0xa17)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x260ff0[_0x295599(0x1e4)][_0x295599(0x7bf)](_0x17df3d=>'<li>'+_0x17df3d+_0x295599(0x524))[_0x295599(0xa17)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x260ff0['teacherSuggestions'][_0x295599(0x7bf)](_0x30064a=>_0x295599(0x3fb)+_0x30064a+_0x295599(0x524))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x471a6d,_0x4b4013){const _0x2dff8c=_0x3de37b,_0x1460f9=_0x2dff8c(0x85f)+_0x471a6d[_0x2dff8c(0x680)]+_0x2dff8c(0x7ac)+_0x471a6d['topic']+_0x2dff8c(0x95d)+_0x471a6d[_0x2dff8c(0x6ba)][_0x2dff8c(0x7bf)]((_0x15bad3,_0x35e003)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x35e003+0x1)+'.\x20'+_0x15bad3[_0x2dff8c(0x19b)]+_0x2dff8c(0x528)+(_0x15bad3['imageCode']?_0x2dff8c(0x463)+_0x15bad3['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2dff8c(0xa17)]('')+_0x2dff8c(0x85c);_0x4b4013['document'][_0x2dff8c(0x4dd)](_0x1460f9),_0x4b4013[_0x2dff8c(0x5c7)][_0x2dff8c(0x545)](),_0x4b4013[_0x2dff8c(0x2db)]=function(){setTimeout(()=>{const _0x469a62=_0x4a4b;_0x4b4013[_0x469a62(0x896)]();},0x3e8);};}async function generateWorksheet(){const _0x47abf8=_0x3de37b,_0x4bdf63=document[_0x47abf8(0x26b)](_0x47abf8(0x34b))[_0x47abf8(0x884)][_0x47abf8(0x168)]();if(!_0x4bdf63){showMessage(_0x47abf8(0x84e));return;}const _0x269f29=document[_0x47abf8(0x26b)](_0x47abf8(0x350))[_0x47abf8(0x268)],_0x40f06c=_0x269f29?'':_0x47abf8(0x32c),_0x3fbac0=window[_0x47abf8(0x12b)]('',_0x47abf8(0x9c3));_0x3fbac0['document'][_0x47abf8(0x4dd)]('<h1></h1>');const _0x28c5ba=parseInt(document[_0x47abf8(0x26b)](_0x47abf8(0x18c))[_0x47abf8(0x884)]),_0x2d66ca=document[_0x47abf8(0x26b)](_0x47abf8(0x75d))[_0x47abf8(0x268)],_0x227098=_0x2d66ca?_0x47abf8(0x2cb):'',_0x4bf9b9=_0x47abf8(0x23b)+_0x40f06c+_0x47abf8(0x4ed)+_0x28c5ba+_0x47abf8(0xa25)+_0x4bdf63+_0x47abf8(0x20f)+_0x227098+_0x47abf8(0x198)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x1ef119={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x47abf8(0x3a6),'items':{'type':_0x47abf8(0x1e7),'properties':{'questionText':{'type':_0x47abf8(0x205)},'imageCode':{'type':_0x47abf8(0x205)}},'required':[_0x47abf8(0x19b)]}}},'required':['topic','questions']};document[_0x47abf8(0x26b)](_0x47abf8(0x750))[_0x47abf8(0x64c)]='',document[_0x47abf8(0x26b)]('loader')[_0x47abf8(0x74c)][_0x47abf8(0x953)](_0x47abf8(0x2d5)),document[_0x47abf8(0x26b)](_0x47abf8(0x114))[_0x47abf8(0x74c)][_0x47abf8(0x953)]('hidden'),generateWorksheetBtn[_0x47abf8(0x865)]=!![];try{const _0xe526d4=await callAnalysisApi(_0x4bf9b9,_0x1ef119);formatAndPrintWorksheet(_0xe526d4,_0x3fbac0);}catch(_0x15270c){console[_0x47abf8(0x2a8)](_0x47abf8(0x90d),_0x15270c);if(_0x3fbac0)_0x3fbac0['close']();showMessage(_0x47abf8(0x5a8));}finally{document[_0x47abf8(0x26b)](_0x47abf8(0x902))[_0x47abf8(0x74c)]['add'](_0x47abf8(0x2d5)),document['getElementById'](_0x47abf8(0x114))[_0x47abf8(0x74c)][_0x47abf8(0x1c0)](_0x47abf8(0x2d5)),generateWorksheetBtn[_0x47abf8(0x865)]=![];}}async function callAnalysisApi(_0x433190,_0x3994e6){const _0x35d119=_0x3de37b,_0x34c75f={'contents':[{'role':'user','parts':[{'text':_0x433190}]}],'generationConfig':{'responseMimeType':_0x35d119(0x37c),'responseSchema':_0x3994e6}},_0x123a88=_0x35d119(0x998),_0xdefefa=_0x35d119(0xa55)+_0x123a88,_0x39b610=await fetch(_0xdefefa,{'method':_0x35d119(0x947),'headers':{'Content-Type':_0x35d119(0x37c)},'body':JSON[_0x35d119(0x670)](_0x34c75f)});if(!_0x39b610['ok'])throw new Error(_0x35d119(0x3c8)+_0x39b610[_0x35d119(0x921)]);const _0x16cf25=await _0x39b610[_0x35d119(0x6a8)]();if(_0x16cf25[_0x35d119(0x1ad)]?.[0x0]?.[_0x35d119(0x8db)]?.['parts']?.[0x0])return JSON['parse'](_0x16cf25[_0x35d119(0x1ad)][0x0][_0x35d119(0x8db)][_0x35d119(0x230)][0x0]['text']);else{let _0x44db2a=_0x35d119(0x3a9);if(_0x16cf25[_0x35d119(0x4a0)]?.[_0x35d119(0x221)])_0x44db2a='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x16cf25[_0x35d119(0x4a0)][_0x35d119(0x221)]+'.';else _0x16cf25[_0x35d119(0x1ad)]?.[0x0]?.['finishReason']&&_0x16cf25[_0x35d119(0x1ad)][0x0][_0x35d119(0xa57)]!=='STOP'&&(_0x44db2a=_0x35d119(0x6c4)+_0x16cf25[_0x35d119(0x1ad)][0x0][_0x35d119(0xa57)]+'.');console[_0x35d119(0x2a8)](_0x44db2a,JSON[_0x35d119(0x670)](_0x16cf25));throw new Error(_0x44db2a);}}async function handleStartSyncMode(_0x44dc8c,_0x5e27a7=![]){const _0x26843d=_0x3de37b,_0x3bc098=allQuizzes[_0x26843d(0x1da)](_0x4dfa8d=>_0x4dfa8d['id']===_0x44dc8c)||allQuizzesGlobal[_0x26843d(0x1da)](_0x2a12cd=>_0x2a12cd['id']===_0x44dc8c);if(!_0x3bc098){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x3bc098);const _0x52b344=Math[_0x26843d(0x48a)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x7b98f5=await addDoc(collection(db,_0x26843d(0x573)+appId+_0x26843d(0x96d)),{'quizId':_0x3bc098['id'],'pin':_0x52b344,'status':_0x26843d(0x621),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5e27a7,'players':{}});currentLiveGameId=_0x7b98f5['id'],showView(_0x26843d(0x449)),renderSyncLobbyView(_0x52b344,_0x3bc098[_0x26843d(0x680)]),listenForSyncGameUpdates();}catch(_0x4b77ba){console[_0x26843d(0x2a8)](_0x26843d(0x635),_0x4b77ba),showMessage(_0x26843d(0x4fb));}}function calculateFinalPodiumScores(_0xbbd756){const _0x5ef265=_0x3de37b;if(!_0xbbd756||!_0xbbd756['shuffledQuiz']||!_0xbbd756[_0x5ef265(0x4bc)])return _0xbbd756[_0x5ef265(0x4bc)]||{};const _0x17ce89=_0xbbd756[_0x5ef265(0x7a9)][_0x5ef265(0x6ba)][_0x5ef265(0x579)],_0xd2c4dc=JSON['parse'](JSON[_0x5ef265(0x670)](_0xbbd756[_0x5ef265(0x4bc)]));return Object[_0x5ef265(0x4bb)](_0xd2c4dc)[_0x5ef265(0x597)](_0x2e2bc1=>{const _0x377d6e=_0x5ef265,_0x259bfa=_0x2e2bc1[_0x377d6e(0x5aa)];let _0x268b6c=0x0;_0xbbd756[_0x377d6e(0x208)]&&_0x2e2bc1[_0x377d6e(0x1a1)]&&_0x2e2bc1[_0x377d6e(0x1a1)]['forEach'](_0x521e80=>{const _0x3669ea=_0x377d6e;if(_0x521e80[_0x3669ea(0x516)]&&_0x521e80[_0x3669ea(0x625)])_0x268b6c+=0x1;else!_0x521e80[_0x3669ea(0x516)]&&_0x521e80[_0x3669ea(0x625)]&&(_0x268b6c-=0x1);}),_0x2e2bc1[_0x377d6e(0x5aa)]=_0x259bfa+_0x268b6c,_0x17ce89>0x0&&_0x259bfa===_0x17ce89&&(_0x2e2bc1[_0x377d6e(0x5aa)]+=0x1,_0x2e2bc1[_0x377d6e(0x5fc)]=!![]);}),_0xd2c4dc;}function listenForSyncGameUpdates(){const _0xc6bf71=_0x3de37b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x649579=doc(db,_0xc6bf71(0x573)+appId+_0xc6bf71(0x96d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x649579,_0x2e7065=>{const _0x38bf74=_0xc6bf71;if(!_0x2e7065['exists']()){sessionStorage[_0x38bf74(0x345)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x38bf74(0x98e)),showView(currentMode===_0x38bf74(0x9ca)?_0x38bf74(0x133):'student');return;}const _0xa52aa1=_0x2e7065['data']();currentMode===_0x38bf74(0x9ca)?updateAdminSyncView(_0xa52aa1):updateStudentSyncView(_0xa52aa1);});}function renderSyncLobbyView(_0x32c73d,_0x42207d){const _0x4746e2=_0x3de37b;liveGameView['innerHTML']=_0x4746e2(0x650)+_0x42207d+_0x4746e2(0x627)+_0x32c73d+_0x4746e2(0x4b6);const _0x5a06e9=document[_0x4746e2(0x26b)](_0x4746e2(0x3e3)),_0x15639f=document[_0x4746e2(0x26b)](_0x4746e2(0x710));_0x5a06e9[_0x4746e2(0x813)]('change',()=>{const _0x24feb0=_0x4746e2;_0x15639f['style'][_0x24feb0(0x82e)]=_0x5a06e9['checked']?_0x24feb0(0x57b):_0x24feb0(0x6ec);}),document['getElementById'](_0x4746e2(0xa30))[_0x4746e2(0x813)](_0x4746e2(0x8c2),async()=>{const _0x3c8e93=_0x4746e2,_0x4ace8c=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x4eb438=document['getElementById']('confidence-scoring-toggle')[_0x3c8e93(0x268)];await updateDoc(_0x4ace8c,{'status':_0x3c8e93(0x6d0),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x4eb438});});}function updateAdminSyncView(_0x17244b){const _0x508ce1=_0x3de37b;switch(_0x17244b[_0x508ce1(0x921)]){case _0x508ce1(0x621):renderSyncLobbyView(_0x17244b[_0x508ce1(0x2ed)],_0x17244b[_0x508ce1(0x7a9)][_0x508ce1(0x680)]);const _0x50ca1e=Object[_0x508ce1(0x1ee)](_0x17244b[_0x508ce1(0x4bc)]||{})[_0x508ce1(0x2bf)](([_0x2d6808,_0x38952b])=>_0x38952b[_0x508ce1(0x921)]!=='inactive');document['getElementById'](_0x508ce1(0x334))[_0x508ce1(0x64c)]=_0x50ca1e['length'],document[_0x508ce1(0x26b)](_0x508ce1(0x419))[_0x508ce1(0x9ba)]=_0x50ca1e['map'](([_0x2c68ac,_0x358f4b])=>_0x508ce1(0x2bd)+_0x2c68ac+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x2c68ac+_0x508ce1(0x893))[_0x508ce1(0xa17)]('')||_0x508ce1(0x844),document[_0x508ce1(0x26b)](_0x508ce1(0xa30))[_0x508ce1(0x865)]=_0x50ca1e[_0x508ce1(0x579)]===0x0;break;case _0x508ce1(0x6d0):const _0x339948=Object[_0x508ce1(0x4bb)](_0x17244b[_0x508ce1(0x4bc)]||{})['filter'](_0xc73687=>_0xc73687[_0x508ce1(0x921)]!==_0x508ce1(0x5f6)),_0x59a600=_0x339948[_0x508ce1(0x2bf)](_0xe383b3=>_0xe383b3[_0x508ce1(0x9cf)])['length'],_0x5017cd=_0x59a600===_0x339948[_0x508ce1(0x579)]&&_0x339948['length']>0x0;if(_0x5017cd&&_0x17244b['status']===_0x508ce1(0x6d0)){const _0x4f79e8=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x4f79e8,{'status':_0x508ce1(0x963)});}else{if(document[_0x508ce1(0x26b)](_0x508ce1(0x4de))===null)renderAdminSyncQuestionView(_0x17244b);else{const _0x5e46b0=document[_0x508ce1(0x26b)](_0x508ce1(0x5f1));_0x5e46b0&&(_0x5e46b0[_0x508ce1(0x64c)]=_0x59a600+'/'+_0x339948[_0x508ce1(0x579)]);const _0x459fd4=document[_0x508ce1(0x26b)](_0x508ce1(0x29f));_0x459fd4&&(_0x459fd4[_0x508ce1(0x9ba)]=_0x339948[_0x508ce1(0x7bf)](_0x514d36=>{const _0x1422f4=_0x508ce1,_0x4ce52a=_0x514d36['answered']?_0x1422f4(0x405):_0x1422f4(0x8cf),_0xa85363=_0x514d36[_0x1422f4(0x9cf)]?_0x1422f4(0x25e):_0x1422f4(0xa2d);return _0x1422f4(0x759)+_0x4ce52a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa85363+_0x1422f4(0x393)+_0x514d36['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x514d36[_0x1422f4(0x234)]+_0x1422f4(0x69b);})['join'](''));}}break;case _0x508ce1(0x963):const _0xbf8c2c=_0x17244b['currentQuestionIndex'],_0x2e865e=_0x17244b['shuffledQuiz']['questions'][_0xbf8c2c];renderSyncSummaryView(_0x17244b,_0x2e865e,!![]);break;case _0x508ce1(0x9bd):renderAdminSyncDashboard(_0x17244b,!![]);break;case _0x508ce1(0x53b):_0x17244b['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x17244b);sessionStorage[_0x508ce1(0x345)]('activeGameSession');const _0x27e212=calculateFinalPodiumScores(_0x17244b);showPodiumView(_0x27e212,_0x508ce1(0xa33));break;}}function renderAdminSyncQuestionView(_0x467dbd){const _0x3a4e37=_0x3de37b,_0x537b26=_0x467dbd['currentQuestionIndex'],_0x3d0a95=_0x467dbd['shuffledQuiz']['questions'][_0x537b26],_0x3da7f4=_0x467dbd[_0x3a4e37(0x7a9)]['questions'][_0x3a4e37(0x579)],_0x17312c=Object[_0x3a4e37(0x4bb)](_0x467dbd[_0x3a4e37(0x4bc)]||{})[_0x3a4e37(0x2bf)](_0x3e236b=>_0x3e236b[_0x3a4e37(0x921)]!==_0x3a4e37(0x5f6)),_0x4a8b80=_0x17312c[_0x3a4e37(0x2bf)](_0x5abc21=>_0x5abc21['answered'])['length'],_0x2a2cd0=_0x4a8b80===_0x17312c[_0x3a4e37(0x579)]&&_0x17312c['length']>0x0,_0x4047cd=(_0x3d0a95[_0x3a4e37(0x8e3)]||[])[_0x3a4e37(0x7bf)](_0x2fbe02=>_0x3a4e37(0x5ef)+_0x2fbe02+_0x3a4e37(0x7d8))[_0x3a4e37(0xa17)]('');liveGameView[_0x3a4e37(0x9ba)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x537b26+0x1)+_0x3a4e37(0x119)+_0x3da7f4+_0x3a4e37(0x553)+_0x4a8b80+'/'+_0x17312c['length']+_0x3a4e37(0x16b)+_0x3d0a95[_0x3a4e37(0x19b)]+_0x3a4e37(0x6ae)+_0x4047cd+_0x3a4e37(0x678)+(!_0x2a2cd0?_0x3a4e37(0x865):'')+_0x3a4e37(0x1d6);if(window[_0x3a4e37(0x7c9)])MathJax['typesetPromise']();document[_0x3a4e37(0x26b)](_0x3a4e37(0x440))[_0x3a4e37(0x813)](_0x3a4e37(0x8c2),async()=>{const _0x3b32e6=_0x3a4e37,_0x47c126=doc(db,'artifacts/'+appId+_0x3b32e6(0x96d),currentLiveGameId);await updateDoc(_0x47c126,{'status':_0x3b32e6(0x9bd)});}),document[_0x3a4e37(0x26b)](_0x3a4e37(0x629))['onclick']=()=>{const _0x2a2d18=_0x3a4e37;openScratchpad(_0x3d0a95,_0x3d0a95[_0x2a2d18(0x8e3)]||[]);},document[_0x3a4e37(0x26b)](_0x3a4e37(0x25f))[_0x3a4e37(0x813)](_0x3a4e37(0x8c2),()=>{const _0x43869a=_0x3a4e37;document['getElementById'](_0x43869a(0x4de))['classList'][_0x43869a(0x430)](_0x43869a(0x2d5));});}function renderSyncLeaderboardView(_0x195426,_0x51a3de){const _0x5b72c9=_0x3de37b,_0x33bad0=Object[_0x5b72c9(0x4bb)](_0x195426[_0x5b72c9(0x4bc)]||{});_0x33bad0['sort']((_0x144c2e,_0x4a6c34)=>_0x4a6c34['score']-_0x144c2e[_0x5b72c9(0x5aa)]);const _0x4adc9c=_0x33bad0['slice'](0x0,0x5);let _0x238766='';if(_0x51a3de){const _0x318862=_0x195426[_0x5b72c9(0x9ab)]>=_0x195426[_0x5b72c9(0x7a9)][_0x5b72c9(0x6ba)][_0x5b72c9(0x579)]-0x1;_0x238766=_0x5b72c9(0x11b)+(_0x318862?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+_0x5b72c9(0x739);}else _0x238766=_0x5b72c9(0x9d3);liveGameView[_0x5b72c9(0x9ba)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x4adc9c[_0x5b72c9(0x7bf)]((_0x2d5d0b,_0x46424c)=>_0x5b72c9(0x885)+(_0x46424c+0x1)+'.\x20'+_0x2d5d0b[_0x5b72c9(0x234)]+_0x5b72c9(0x41d)+_0x2d5d0b[_0x5b72c9(0x5aa)]+_0x5b72c9(0x87a))[_0x5b72c9(0xa17)]('')+_0x5b72c9(0xa0c)+_0x238766+_0x5b72c9(0x2a7),_0x51a3de&&document[_0x5b72c9(0x26b)]('next-sync-question-btn')[_0x5b72c9(0x813)](_0x5b72c9(0x8c2),async()=>{const _0x35fa95=_0x5b72c9,_0x29860d=doc(db,_0x35fa95(0x573)+appId+_0x35fa95(0x96d),currentLiveGameId),_0x37f9b2=_0x195426[_0x35fa95(0x9ab)]+0x1;if(_0x37f9b2<_0x195426[_0x35fa95(0x7a9)][_0x35fa95(0x6ba)][_0x35fa95(0x579)]){const _0x5ba10b={};Object[_0x35fa95(0xa3b)](_0x195426[_0x35fa95(0x4bc)])[_0x35fa95(0x597)](_0xe65267=>{const _0x35758a=_0x35fa95;_0x5ba10b[_0x35758a(0x742)+_0xe65267+_0x35758a(0x86e)]=![];}),await updateDoc(_0x29860d,{..._0x5ba10b,'status':_0x35fa95(0x6d0),'currentQuestionIndex':_0x37f9b2,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x29860d,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x47fff1=_0x3de37b,_0x47c518=prompt(_0x47fff1(0x6f1));if(!_0x47c518||_0x47c518[_0x47fff1(0x168)]()[_0x47fff1(0x579)]!==0x2){showMessage(_0x47fff1(0x22b));return;}try{const _0x18a2b2=collection(db,_0x47fff1(0x573)+appId+_0x47fff1(0x96d)),_0x5a6a2f=query(_0x18a2b2,where(_0x47fff1(0x2ed),'==',_0x47c518[_0x47fff1(0x168)]()),where(_0x47fff1(0x921),'==','lobby')),_0x49115f=await getDocs(_0x5a6a2f);if(_0x49115f['empty']){showMessage(_0x47fff1(0x4e8));return;}const _0xae0fd=_0x49115f[_0x47fff1(0x7c4)][0x0];currentLiveGameId=_0xae0fd['id'];const _0x97c8ef=_0xae0fd[_0x47fff1(0x51a)](),_0x5ead01=doc(db,_0x47fff1(0x573)+appId+'/public/data/quizzes',_0x97c8ef[_0x47fff1(0x994)]),_0x38204a=await getDoc(_0x5ead01);if(!_0x38204a[_0x47fff1(0x42d)]())throw new Error(_0x47fff1(0x4ad));const _0x1ab77b=_0x38204a['data'](),_0x8d8a51=doc(db,'artifacts/'+appId+_0x47fff1(0x72b),_0x1ab77b[_0x47fff1(0x551)]),_0x233a5b=await getDoc(_0x8d8a51);if(!_0x233a5b['exists']())throw new Error(_0x47fff1(0x70c));currentQuizData=_0x97c8ef[_0x47fff1(0x7a9)];const _0x52533c=_0x233a5b[_0x47fff1(0x51a)]();showView('student-team-join'),showTeamPlayerSelection(_0x52533c[_0x47fff1(0x337)],_0x1ab77b[_0x47fff1(0x680)]);const _0x28000a=document['getElementById']('confirm-team-players-btn');_0x28000a[_0x47fff1(0x49a)]=confirmAndJoinSyncGame;}catch(_0x34f17f){console[_0x47fff1(0x2a8)]('Error\x20joining\x20sync\x20game:',_0x34f17f),showMessage(_0x47fff1(0x607)+_0x34f17f[_0x47fff1(0x216)]);}}function updateStudentSyncView(_0x456168){const _0xf39a6=_0x3de37b,_0x292694=_0x456168[_0xf39a6(0x4bc)][localTeamPlayers[0x0]];switch(_0x456168[_0xf39a6(0x921)]){case _0xf39a6(0x621):showView(_0xf39a6(0x449)),liveGameView[_0xf39a6(0x9ba)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0xf39a6(0x6d0):const _0x556783=localTeamPlayers[_0xf39a6(0xa35)](_0x2aaf33=>_0x456168['players'][_0x2aaf33]?.[_0xf39a6(0x9cf)]===!![]);_0x556783?liveGameView[_0xf39a6(0x9ba)]=_0xf39a6(0x79b):renderStudentSyncQuestionView(_0x456168);break;case _0xf39a6(0x963):liveGameView['innerHTML']=_0xf39a6(0x1f7);break;case _0xf39a6(0x9bd):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x456168);break;case _0xf39a6(0x53b):sessionStorage[_0xf39a6(0x345)](_0xf39a6(0x962));const _0x295c7a=calculateFinalPodiumScores(_0x456168);showPodiumView(_0x295c7a,_0xf39a6(0xa33));break;}}function _0x4a4b(_0x361d5e,_0xfaf924){const _0x1cd690=_0x1cd6();return _0x4a4b=function(_0x4a4b1d,_0x48984f){_0x4a4b1d=_0x4a4b1d-0xfc;let _0x52848d=_0x1cd690[_0x4a4b1d];return _0x52848d;},_0x4a4b(_0x361d5e,_0xfaf924);}function renderStudentSyncResultsView(_0xc9262f){const _0x2e2717=_0x3de37b,_0x436fd6=localTeamPlayers[_0x2e2717(0x7bf)](_0x17227f=>_0xc9262f[_0x2e2717(0x4bc)][_0x17227f])['filter'](Boolean);_0x436fd6[_0x2e2717(0x9c4)]((_0x1ab7c5,_0x159472)=>(_0x159472['score']||0x0)-(_0x1ab7c5[_0x2e2717(0x5aa)]||0x0));const _0x1ecdbc=_0xc9262f[_0x2e2717(0x9ab)]>=_0xc9262f[_0x2e2717(0x7a9)]['questions'][_0x2e2717(0x579)]-0x1;let _0x4c14f7='';_0x1ecdbc?_0x4c14f7=_0x2e2717(0x340):_0x4c14f7='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x3fdeac=_0x2e2717(0x69c)+_0x436fd6[_0x2e2717(0x7bf)]((_0x4e4c13,_0x40e1f3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x40e1f3+0x1)+_0x2e2717(0x8fd)+_0x4e4c13[_0x2e2717(0x234)]+_0x2e2717(0x8ae)+_0x4e4c13['score']+_0x2e2717(0x229))[_0x2e2717(0xa17)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c14f7+_0x2e2717(0x77d);liveGameView[_0x2e2717(0x9ba)]=_0x3fdeac;}function renderStudentSyncQuestionView(_0x5c6045){const _0x10be16=_0x3de37b;while(localPlayerTurnIndex<localTeamPlayers[_0x10be16(0x579)]&&_0x5c6045[_0x10be16(0x4bc)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x10be16(0x9cf)]===!![]){localPlayerTurnIndex++;}const _0x22dad2=localTeamPlayers[localPlayerTurnIndex];if(!_0x22dad2)return;const _0x258046=_0x5c6045[_0x10be16(0x9ab)],_0x4e0c97=_0x5c6045[_0x10be16(0x7a9)][_0x10be16(0x6ba)]['length'],_0xed3fe0=_0x5c6045[_0x10be16(0x7a9)][_0x10be16(0x6ba)][_0x258046],_0xc3e5a7=_0xed3fe0[_0x10be16(0x14b)]||_0x5c6045[_0x10be16(0x7a9)]['quizType'];let _0x47530b='',_0x161aa9=![];switch(_0xc3e5a7){case _0x10be16(0x275):_0x47530b=_0x10be16(0x605);break;case'short_answer':case _0x10be16(0x110):_0x161aa9=!![],_0x47530b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x10be16(0x6cc):_0x161aa9=!![],_0x47530b=_0x10be16(0x304)+(_0xed3fe0['allResponses']||[])[_0x10be16(0x7bf)](_0xda4987=>_0x10be16(0x2ac)+_0xda4987+'\x22>'+_0xda4987+'</option>')[_0x10be16(0xa17)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'multiple_choice':default:_0x47530b=(_0xed3fe0['options']||[])[_0x10be16(0x7bf)]((_0x129963,_0x409ec5)=>'<button\x20data-value=\x22'+_0x409ec5+_0x10be16(0x657)+_0x129963+'</button>')['join']('');break;}liveGameView['innerHTML']=_0x10be16(0x538)+(_0x258046+0x1)+_0x10be16(0x119)+_0x4e0c97+_0x10be16(0x35d)+_0x22dad2+_0x10be16(0x819)+(_0xed3fe0[_0x10be16(0x19b)]||_0xed3fe0[_0x10be16(0x622)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x47530b+_0x10be16(0x1f8);if(window[_0x10be16(0x7c9)])MathJax[_0x10be16(0x281)]();const _0x4b6fcb=_0x5dd5f5=>{const _0x41a38a=_0x10be16;_0x5c6045[_0x41a38a(0x208)]?(document[_0x41a38a(0x26b)]('selected-answer-index-hidden')[_0x41a38a(0x884)]=_0x5dd5f5,document[_0x41a38a(0x26b)](_0x41a38a(0x3c6))[_0x41a38a(0x74c)]['remove'](_0x41a38a(0x2d5))):handleSyncAnswerSubmit(_0x5dd5f5,_0xed3fe0,_0x5c6045,_0x22dad2,![]);};_0x161aa9?document[_0x10be16(0x26b)]('sync-submit-btn')['addEventListener'](_0x10be16(0x8c2),()=>{const _0x461865=_0x10be16,_0x419c70=document[_0x461865(0x26b)](_0x461865(0x7dd))||document['getElementById'](_0x461865(0x818));if(_0x419c70[_0x461865(0x884)]['trim']()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x4b6fcb(_0x419c70['value']);}):document[_0x10be16(0x303)](_0x10be16(0x1cd))[_0x10be16(0x597)](_0x183d90=>{const _0x573ad8=_0x10be16;_0x183d90[_0x573ad8(0x813)](_0x573ad8(0x8c2),()=>{const _0x771e9f=_0x573ad8;_0x4b6fcb(_0x183d90[_0x771e9f(0x4ae)][_0x771e9f(0x884)]);});});}async function handleSyncAnswerSubmit(_0x28b2d4,_0x341a4e,_0x143b21,_0x4671ce,_0x36cfdb){const _0x3cf354=_0x3de37b;document[_0x3cf354(0x303)](_0x3cf354(0x92b))[_0x3cf354(0x597)](_0x370c72=>_0x370c72[_0x3cf354(0x865)]=!![]);const _0xf2388f=_0x341a4e['questionType']||_0x143b21[_0x3cf354(0x7a9)][_0x3cf354(0xa11)];let _0x145ff9=![],_0xc04bc9=_0x28b2d4;switch(_0xf2388f){case _0x3cf354(0x275):const _0x4c3263=_0x28b2d4===_0x3cf354(0x2b8);_0x145ff9=_0x4c3263===_0x341a4e['correctAnswer'],_0xc04bc9=_0x4c3263?_0x3cf354(0x348):_0x3cf354(0x31d);break;case _0x3cf354(0x1c1):case _0x3cf354(0x110):_0x145ff9=await gradeShortAnswer(_0x28b2d4,_0x341a4e);break;case _0x3cf354(0x6cc):_0x145ff9=_0x28b2d4===_0x341a4e[_0x3cf354(0x2c2)];break;case _0x3cf354(0x153):default:const _0x5b41c4=parseInt(_0x28b2d4);_0x145ff9=_0x5b41c4===_0x341a4e[_0x3cf354(0x7d9)];_0x341a4e[_0x3cf354(0x8e3)]&&_0x341a4e[_0x3cf354(0x8e3)][_0x5b41c4]&&(_0xc04bc9=_0x341a4e['options'][_0x5b41c4]);break;}const _0x4b3895=_0x145ff9?0x1:0x0,_0x58dbe1=doc(db,_0x3cf354(0x573)+appId+_0x3cf354(0x96d),currentLiveGameId),_0x1d4ffc={};_0x1d4ffc['players.'+_0x4671ce+_0x3cf354(0x213)]=increment(_0x4b3895),_0x1d4ffc[_0x3cf354(0x742)+_0x4671ce+'.answered']=!![],_0x1d4ffc[_0x3cf354(0x742)+_0x4671ce+'.lastAnswerIndex']=_0xf2388f===_0x3cf354(0x153)?parseInt(_0x28b2d4):null;const _0x1e9812={'questionIndex':_0x143b21[_0x3cf354(0x9ab)],'questionId':_0x341a4e['id'],'answer':_0x28b2d4,'answerText':_0xc04bc9,'isCorrect':_0x145ff9,'originalQuestionText':_0x341a4e[_0x3cf354(0x19b)]||_0x341a4e[_0x3cf354(0x622)],'wasConfident':_0x36cfdb};_0x1d4ffc[_0x3cf354(0x742)+_0x4671ce+'.answers']=arrayUnion(_0x1e9812),await updateDoc(_0x58dbe1,_0x1d4ffc);}initialize();
