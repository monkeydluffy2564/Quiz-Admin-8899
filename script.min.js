const _0x7550fe=_0x393b;(function(_0x4759a8,_0xd620bb){const _0x5b43d7=_0x393b,_0x354bbe=_0x4759a8();while(!![]){try{const _0x1bba80=parseInt(_0x5b43d7(0x4c7))/0x1*(-parseInt(_0x5b43d7(0x563))/0x2)+-parseInt(_0x5b43d7(0x946))/0x3*(parseInt(_0x5b43d7(0x69a))/0x4)+-parseInt(_0x5b43d7(0x7d7))/0x5*(-parseInt(_0x5b43d7(0x535))/0x6)+parseInt(_0x5b43d7(0x7b6))/0x7+-parseInt(_0x5b43d7(0xb11))/0x8*(parseInt(_0x5b43d7(0x985))/0x9)+-parseInt(_0x5b43d7(0xbcd))/0xa+parseInt(_0x5b43d7(0x8c2))/0xb;if(_0x1bba80===_0xd620bb)break;else _0x354bbe['push'](_0x354bbe['shift']());}catch(_0x2261fe){_0x354bbe['push'](_0x354bbe['shift']());}}}(_0x2577,0x1da61));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x253679=_0x393b;if(_0x253679(0x7a2)in navigator)try{wakeLock=await navigator['wakeLock']['request'](_0x253679(0x9cf)),console[_0x253679(0xbf7)](_0x253679(0x968)),wakeLock[_0x253679(0x52b)](_0x253679(0xabb),()=>{const _0xa86ee2=_0x253679;console[_0xa86ee2(0xbf7)](_0xa86ee2(0x819));});}catch(_0x351943){console[_0x253679(0x930)](_0x253679(0x841)+_0x351943['name']+',\x20'+_0x351943['message']);}else console[_0x253679(0x619)](_0x253679(0x6b9));},releaseWakeLock=async()=>{const _0x2ef8a1=_0x393b;wakeLock!==null&&(await wakeLock[_0x2ef8a1(0xabb)](),wakeLock=null,console[_0x2ef8a1(0xbf7)](_0x2ef8a1(0xa4d)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4559f0=_0x393b;if(dimTimer)clearTimeout(dimTimer);document['body']['classList'][_0x4559f0(0x309)]('dimmed'),dimTimer=setTimeout(()=>{const _0x13c42f=_0x4559f0;document[_0x13c42f(0x218)][_0x13c42f(0x5f6)][_0x13c42f(0x314)](_0x13c42f(0x5a1)),console[_0x13c42f(0xbf7)](_0x13c42f(0x758));},inactivityTime);}function stopDimTimer(){const _0x3d0bf2=_0x393b;if(dimTimer)clearTimeout(dimTimer);document[_0x3d0bf2(0x218)][_0x3d0bf2(0x5f6)]['remove'](_0x3d0bf2(0x5a1)),window[_0x3d0bf2(0xb5f)](_0x3d0bf2(0x4f4),resetDimTimer),window[_0x3d0bf2(0xb5f)](_0x3d0bf2(0x88c),resetDimTimer),window[_0x3d0bf2(0xb5f)](_0x3d0bf2(0x6e9),resetDimTimer),window[_0x3d0bf2(0xb5f)](_0x3d0bf2(0x507),resetDimTimer),console[_0x3d0bf2(0xbf7)](_0x3d0bf2(0x1e2));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x4f764d,_0x479276=![]){const _0x1b09b4=_0x393b,_0x398343=allQuizzes['find'](_0x942cae=>_0x942cae['id']===_0x4f764d)||allQuizzesGlobal[_0x1b09b4(0x3de)](_0x19990e=>_0x19990e['id']===_0x4f764d);if(!_0x398343){showMessage(_0x1b09b4(0x2f0));return;}currentQuizData=getShuffledQuiz(_0x398343);const _0x41aef3=Math[_0x1b09b4(0xa02)](0x3e8+Math[_0x1b09b4(0x5b4)]()*0x2328)[_0x1b09b4(0xba9)]();try{const _0x1bf6b8=await addDoc(collection(db,'artifacts/'+appId+_0x1b09b4(0x80e)),{'quizId':_0x398343['id'],'projectId':_0x398343[_0x1b09b4(0x176)],'status':_0x1b09b4(0x179),'pin':_0x41aef3,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x479276});currentTeamQuizId=_0x1bf6b8['id'],showView(_0x1b09b4(0x9ae)),renderAdminTeamQuizDashboard(_0x41aef3,_0x398343[_0x1b09b4(0xb1c)]),listenForTeamQuizUpdates();}catch(_0x42a2bc){console[_0x1b09b4(0x930)](_0x1b09b4(0x88a),_0x42a2bc),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x48207a,_0x4566bd,_0xaa8447='team'){const _0xef922c=_0x393b,_0x17f84f=_0xaa8447==='group'?_0xef922c(0x557):_0xef922c(0xb9b);liveGameView[_0xef922c(0x215)]=_0xef922c(0xaef)+_0x17f84f+':\x20'+_0x4566bd+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x48207a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0xef922c(0xb9f)](_0xef922c(0x280))[_0xef922c(0x52b)](_0xef922c(0x909),async()=>{const _0x2c1fdc=_0xef922c;showConfirmation(_0x2c1fdc(0x827),async()=>{const _0x244136=_0x2c1fdc;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x244136(0x3dc)+appId+_0x244136(0x80e),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x38440d=_0x393b;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xf88367=doc(db,'artifacts/'+appId+_0x38440d(0x80e),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xf88367,_0x538067=>{const _0x405d9c=_0x38440d;if(!_0x538067[_0x405d9c(0x7be)]()){sessionStorage[_0x405d9c(0x30c)](_0x405d9c(0x3db));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x405d9c(0x89d));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x405d9c(0x67e)?showView(_0x405d9c(0x6fc)):showView(_0x405d9c(0x581));return;}const _0x5a5586=_0x538067[_0x405d9c(0xaf1)]();if(currentMode===_0x405d9c(0x67e)){if(_0x5a5586[_0x405d9c(0x5b2)]===_0x405d9c(0x6da)&&_0x5a5586['status']!==_0x405d9c(0x245)&&_0x5a5586[_0x405d9c(0x78a)]!==_0x405d9c(0x9fc)){const _0x9bb6f1=Object[_0x405d9c(0x713)](_0x5a5586[_0x405d9c(0xb1b)]||{});if(_0x9bb6f1[_0x405d9c(0x384)]>0x0){const _0xb20f5e=_0x9bb6f1[_0x405d9c(0x90e)](_0x51ed36=>_0x51ed36['isFinished']===!![]);_0xb20f5e&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5a5586);}else{if(_0x5a5586[_0x405d9c(0x78a)]===_0x405d9c(0x245)||_0x5a5586[_0x405d9c(0x78a)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5a5586[_0x405d9c(0x5b2)]==='group'){const _0x412ff7=_0x5a5586['groups'][userId];(!_0x412ff7||!_0x412ff7['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x525d7d){const _0x5cb07c=_0x393b;console[_0x5cb07c(0xbf7)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x3d0a5d=doc(db,_0x5cb07c(0x3dc)+appId+_0x5cb07c(0x80e),_0x525d7d);try{const _0x1316da=await getDoc(_0x3d0a5d);if(_0x1316da['exists']()){const _0x4c04a5=_0x1316da[_0x5cb07c(0xaf1)]();_0x4c04a5[_0x5cb07c(0xa6d)]&&await saveGameResultsAsSubmissions(_0x4c04a5);}await updateDoc(_0x3d0a5d,{'status':_0x5cb07c(0x245)});}catch(_0x219700){console[_0x5cb07c(0x930)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x219700);}}function updateAdminTeamDashboard(_0x3cc50a){const _0x2d1592=_0x393b,_0x42c152=document[_0x2d1592(0xb9f)](_0x2d1592(0x56e));if(!_0x42c152)return;const _0x4a7657=_0x3cc50a[_0x2d1592(0x5b2)]||_0x2d1592(0xbe9),_0x543e65=currentQuizData[_0x2d1592(0x5c2)][_0x2d1592(0x384)];if(_0x4a7657==='group'){const _0x293baa=Object[_0x2d1592(0x713)](_0x3cc50a['groups']||{});if(_0x293baa['length']===0x0){_0x42c152[_0x2d1592(0x215)]=_0x2d1592(0x7d2);return;}const _0x12add3=[..._0x293baa]['sort']((_0xdccb27,_0x4b8559)=>_0x4b8559[_0x2d1592(0x5e9)]-_0xdccb27['score']),_0x23addb=_0x12add3[_0x2d1592(0x25d)]((_0x57a3d7,_0xfb780f)=>{const _0x1d5d42=_0x2d1592,_0x2c66cd=_0x57a3d7['answers']?.[_0x1d5d42(0x384)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0xfb780f+0x1)+_0x1d5d42(0xaa0)+_0x57a3d7['members'][_0x1d5d42(0x7fa)](',\x20')+_0x1d5d42(0x912)+_0x2c66cd+'/'+_0x543e65+_0x1d5d42(0x597)+_0x57a3d7['score']+_0x1d5d42(0x6e3);})[_0x2d1592(0x7fa)](''),_0xa9b8fd=currentQuizData['questions'][_0x2d1592(0x25d)]((_0x207f58,_0x438db5)=>{const _0x3ee438=_0x2d1592;let _0x52b785=0x0,_0x47061b=0x0;_0x293baa['forEach'](_0x3795e4=>{const _0x3f9b4a=_0x393b,_0x255a62=_0x3795e4[_0x3f9b4a(0x3b5)]?.[_0x3f9b4a(0x3de)](_0x2d0764=>_0x2d0764[_0x3f9b4a(0x591)]===_0x438db5);if(_0x255a62){_0x47061b++;if(_0x255a62[_0x3f9b4a(0x8c1)])_0x52b785++;}});const _0x28731e=_0x47061b>0x0&&_0x47061b===_0x293baa[_0x3ee438(0x384)],_0x31e32d=_0x28731e?_0x3ee438(0x8b8):_0x3ee438(0x37d),_0x1e794a=_0x28731e?_0x3ee438(0xb07):'';return _0x3ee438(0x8b4)+_0x31e32d+_0x3ee438(0x14f)+(_0x438db5+0x1)+_0x3ee438(0x410)+_0x1e794a+_0x3ee438(0x9e4)+_0x52b785+'/'+_0x293baa['length']+_0x3ee438(0x66a);})[_0x2d1592(0x7fa)]('');_0x42c152[_0x2d1592(0x215)]=_0x2d1592(0x631)+_0x23addb+_0x2d1592(0x4b0)+_0xa9b8fd+_0x2d1592(0xbf8);return;}const _0x1b8aff=_0x3cc50a[_0x2d1592(0x266)]||{},_0x5647b7=Object[_0x2d1592(0xaa6)](_0x1b8aff);if(_0x5647b7['length']===0x0){_0x42c152['innerHTML']=_0x2d1592(0x61b);return;}const _0xc83d2b=_0x5647b7[_0x2d1592(0x25d)](_0x346c1f=>({'name':_0x346c1f,'score':_0x1b8aff[_0x346c1f][_0x2d1592(0x5e9)]||0x0}))['sort']((_0x46fb73,_0x550264)=>_0x550264[_0x2d1592(0x5e9)]-_0x46fb73[_0x2d1592(0x5e9)]),_0x268ab0=_0xc83d2b['map'](_0x4f0c77=>{const _0xe16f6f=_0x2d1592,_0x5a7135=_0x1b8aff[_0x4f0c77[_0xe16f6f(0x47f)]]?.['answers']?.[_0xe16f6f(0x384)]||0x0,_0x286d08=Math['ceil'](_0x543e65/_0x5647b7[_0xe16f6f(0x384)]);return _0xe16f6f(0x214)+_0x4f0c77[_0xe16f6f(0x47f)]+_0xe16f6f(0xbb8)+_0x5a7135+'/'+_0x286d08+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x4f0c77[_0xe16f6f(0x5e9)]+_0xe16f6f(0xb2f);})[_0x2d1592(0x7fa)](''),_0x517e06=_0x5647b7[_0x2d1592(0x59c)]((_0x5be933,_0x2cf8ef)=>_0x5be933+(_0x1b8aff[_0x2cf8ef]['answers']?.[_0x2d1592(0x384)]||0x0),0x0),_0x3aa94e=currentQuizData[_0x2d1592(0x5c2)][_0x2d1592(0x25d)]((_0x55ceab,_0x44a830)=>{const _0x30c455=_0x2d1592;let _0x270ec2=null,_0x5c019e=null;for(const _0x275ed7 of _0x5647b7){const _0x52813e=_0x1b8aff[_0x275ed7][_0x30c455(0x3b5)]?.['find'](_0xa79d38=>_0xa79d38[_0x30c455(0x591)]===_0x44a830);if(_0x52813e){_0x270ec2=_0x52813e,_0x5c019e=_0x275ed7;break;}}const _0x427439=!!_0x270ec2,_0x5d9b01=_0x427439&&_0x270ec2['isCorrect'],_0x165e7d=(Math[_0x30c455(0xa02)](_0x44a830/_0x5647b7[_0x30c455(0x384)])+0x1)*_0x5647b7[_0x30c455(0x384)],_0x1aaf5a=_0x517e06>=_0x165e7d,_0x272c83=_0x1aaf5a?_0x30c455(0x2f9):_0x30c455(0x37d),_0x1e196e=_0x1aaf5a?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x320dfc=_0x30c455(0x54d);return _0x427439&&(_0x320dfc=_0x5c019e+_0x30c455(0x2cd)+(_0x5d9b01?'ถูก':'ผิด')),_0x30c455(0x8b4)+_0x272c83+_0x30c455(0x14f)+(_0x44a830+0x1)+':</span><span>'+_0x1e196e+_0x30c455(0x15e)+_0x320dfc+_0x30c455(0x979);})['join']('');_0x42c152[_0x2d1592(0x215)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x268ab0+_0x2d1592(0x162)+_0x3aa94e+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0xeeffdd=_0x393b,_0x38981a=prompt(_0xeeffdd(0x974));if(!_0x38981a||_0x38981a[_0xeeffdd(0x9f3)]()[_0xeeffdd(0x384)]!==0x4){showMessage(_0xeeffdd(0xbe3));return;}try{const _0x460f8c=collection(db,_0xeeffdd(0x3dc)+appId+'/public/data/teamQuizzes'),_0x2dee21=query(_0x460f8c,where(_0xeeffdd(0x898),'==',_0x38981a['trim']()),where(_0xeeffdd(0x78a),'==','lobby')),_0x382907=await getDocs(_0x2dee21);if(_0x382907[_0xeeffdd(0x8d2)]){showMessage(_0xeeffdd(0x623));return;}const _0x17e492=_0x382907[_0xeeffdd(0x68e)][0x0];currentTeamQuizId=_0x17e492['id'];const _0x3a9a3f=_0x17e492['data'](),_0x10ee9e=doc(db,_0xeeffdd(0x3dc)+appId+'/public/data/projects',_0x3a9a3f[_0xeeffdd(0x176)]),_0x59700f=doc(db,_0xeeffdd(0x3dc)+appId+_0xeeffdd(0x7a5),_0x3a9a3f['quizId']),[_0x52d8b0,_0x204e02]=await Promise[_0xeeffdd(0xa9e)]([getDoc(_0x10ee9e),getDoc(_0x59700f)]);if(!_0x52d8b0[_0xeeffdd(0x7be)]()||!_0x204e02['exists']())throw new Error(_0xeeffdd(0x52a));currentQuizData=getShuffledQuiz({'id':_0x204e02['id'],..._0x204e02['data']()});const _0x4acec3=_0x52d8b0['data']();showTeamPlayerSelection(_0x4acec3[_0xeeffdd(0x80f)],currentQuizData[_0xeeffdd(0xb1c)]);}catch(_0x4fabbe){console[_0xeeffdd(0x930)]('Error\x20joining\x20team\x20quiz:',_0x4fabbe),showMessage(_0xeeffdd(0x773)+_0x4fabbe[_0xeeffdd(0xa4c)]);}}async function handleJoinGroupActivity(){const _0xb80264=_0x393b,_0x1ce0f7=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x1ce0f7||_0x1ce0f7[_0xb80264(0x9f3)]()[_0xb80264(0x384)]!==0x4){showMessage(_0xb80264(0x76e));return;}const _0x5e2683=_0x1ce0f7['trim']();showMessage(_0xb80264(0x4c9));try{const _0x1e6745=collection(db,_0xb80264(0x3dc)+appId+_0xb80264(0x80e)),_0x1392e4=query(_0x1e6745,where(_0xb80264(0x898),'==',_0x5e2683),where(_0xb80264(0x78a),'==',_0xb80264(0x179))),_0x424e59=await getDocs(_0x1392e4);if(!_0x424e59[_0xb80264(0x8d2)]){console['log'](_0xb80264(0x6d1)),await proceedWithTeamQuizJoin(_0x424e59['docs'][0x0]);return;}const _0x1c00cd=collection(db,'artifacts/'+appId+_0xb80264(0xa36)),_0x1f2fff=query(_0x1c00cd,where(_0xb80264(0x898),'==',_0x5e2683),where('status','==',_0xb80264(0x179))),_0xcd9c3f=await getDocs(_0x1f2fff);if(!_0xcd9c3f[_0xb80264(0x8d2)]){console[_0xb80264(0xbf7)](_0xb80264(0xad7)),await proceedWithSyncQuizJoin(_0xcd9c3f[_0xb80264(0x68e)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x16eeaf){console[_0xb80264(0x930)](_0xb80264(0x529),_0x16eeaf),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x16eeaf[_0xb80264(0xa4c)]);}}async function proceedWithTeamQuizJoin(_0x5004bf){const _0x45774f=_0x393b;currentTeamQuizId=_0x5004bf['id'];const _0x5e8113=_0x5004bf['data'](),_0x5578fa=doc(db,'artifacts/'+appId+_0x45774f(0x466),_0x5e8113[_0x45774f(0x176)]),_0x5ad673=doc(db,_0x45774f(0x3dc)+appId+_0x45774f(0x7a5),_0x5e8113[_0x45774f(0xbe5)]),[_0x266f73,_0x361502]=await Promise[_0x45774f(0xa9e)]([getDoc(_0x5578fa),getDoc(_0x5ad673)]);if(!_0x266f73[_0x45774f(0x7be)]()||!_0x361502[_0x45774f(0x7be)]())throw new Error(_0x45774f(0x52a));currentQuizData=getShuffledQuiz({'id':_0x361502['id'],..._0x361502[_0x45774f(0xaf1)]()}),showTeamPlayerSelection(_0x266f73[_0x45774f(0xaf1)]()[_0x45774f(0x80f)],currentQuizData['topic'],_0x5e8113['mode']||_0x45774f(0xbe9)),messageModal[_0x45774f(0x5f6)][_0x45774f(0x314)](_0x45774f(0x3c0));}async function proceedWithSyncQuizJoin(_0x2184af){const _0x3760dd=_0x393b;currentLiveGameId=_0x2184af['id'];const _0x2ae9bb=_0x2184af[_0x3760dd(0xaf1)](),_0x496608=doc(db,_0x3760dd(0x3dc)+appId+'/public/data/quizzes',_0x2ae9bb[_0x3760dd(0xbe5)]),_0x11eb82=await getDoc(_0x496608);if(!_0x11eb82[_0x3760dd(0x7be)]())throw new Error(_0x3760dd(0x2f0));const _0x18e18c=_0x11eb82[_0x3760dd(0xaf1)](),_0x527d84=doc(db,_0x3760dd(0x3dc)+appId+_0x3760dd(0x466),_0x18e18c[_0x3760dd(0x176)]),_0x44b3ac=await getDoc(_0x527d84);if(!_0x44b3ac[_0x3760dd(0x7be)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x2ae9bb[_0x3760dd(0xb6b)],showView(_0x3760dd(0x743)),showTeamPlayerSelection(_0x44b3ac[_0x3760dd(0xaf1)]()[_0x3760dd(0x80f)],_0x18e18c[_0x3760dd(0xb1c)],_0x3760dd(0x630)),document[_0x3760dd(0xb9f)]('confirm-team-players-btn')[_0x3760dd(0x6ff)]=confirmAndJoinSyncGame,messageModal['classList'][_0x3760dd(0x314)](_0x3760dd(0x3c0));}function getCleanApplicationHTML(){const _0x4011f9=_0x393b,_0x514def=document[_0x4011f9(0xb9f)](_0x4011f9(0x733));if(!_0x514def)return'';const _0x30c67a=_0x514def[_0x4011f9(0x596)](!![]);return _0x30c67a[_0x4011f9(0xb3b)](_0x4011f9(0xb4f))[_0x4011f9(0x94f)](_0x51402b=>{const _0x20ff4a=_0x4011f9;_0x51402b['classList'][_0x20ff4a(0x309)](_0x20ff4a(0xb0c),_0x20ff4a(0x603)),_0x51402b[_0x20ff4a(0xa75)]=![];}),_0x30c67a['innerHTML'];}function showTeamPlayerSelection(_0x587843,_0x172eff,_0x2adc6d=_0x7550fe(0xbe9)){const _0x4527d6=_0x7550fe;studentInitialView[_0x4527d6(0x5f6)][_0x4527d6(0x314)](_0x4527d6(0x3c0)),studentJoinGameView[_0x4527d6(0x5f6)][_0x4527d6(0x314)](_0x4527d6(0x3c0)),document['getElementById'](_0x4527d6(0xb7d))['classList'][_0x4527d6(0x309)](_0x4527d6(0x3c0));let _0x2828db='Team\x20Quiz';if(_0x2adc6d===_0x4527d6(0x6da))_0x2828db='Group\x20Mode';else _0x2adc6d===_0x4527d6(0x630)&&(_0x2828db=_0x4527d6(0x8ba));document[_0x4527d6(0xb9f)](_0x4527d6(0x79c))[_0x4527d6(0x33f)]=_0x2828db+':\x20'+_0x172eff;const _0xc02c02=document[_0x4527d6(0xb9f)]('team-student-list');if(!_0x587843||_0x587843[_0x4527d6(0x384)]===0x0){_0xc02c02[_0x4527d6(0x215)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x4527d6(0xb9f)]('confirm-team-players-btn')[_0x4527d6(0xa75)]=!![];return;}_0xc02c02[_0x4527d6(0x215)]=_0x587843[_0x4527d6(0x25d)](_0x3fb889=>_0x4527d6(0x49d)+_0x3fb889+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x3fb889+_0x4527d6(0xa90))[_0x4527d6(0x7fa)](''),document['getElementById']('confirm-team-players-btn')[_0x4527d6(0xa75)]=![];}async function confirmAndStartTeamQuiz(){const _0x526a11=_0x7550fe,_0x3773bb=Array[_0x526a11(0x850)](document[_0x526a11(0xb3b)](_0x526a11(0xaaa)))[_0x526a11(0x25d)](_0x39c3c3=>_0x39c3c3[_0x526a11(0x6b0)]);if(_0x3773bb[_0x526a11(0x384)]===0x0){showMessage(_0x526a11(0xab0));return;}localTeamPlayers=_0x3773bb,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x56df22=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0xab94bd=await getDoc(_0x56df22);if(!_0xab94bd[_0x526a11(0x7be)]())throw new Error('ไม่พบข้อมูลเกม');const _0x5629f6=_0xab94bd[_0x526a11(0xaf1)]();if(_0x5629f6['mode']===_0x526a11(0x6da)){const _0x476393={[_0x526a11(0x93f)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x56df22,_0x476393);}else{const _0x5aa0b6=_0x5629f6[_0x526a11(0x266)]||{};localTeamPlayers[_0x526a11(0x94f)](_0x546e6c=>{!_0x5aa0b6[_0x546e6c]&&(_0x5aa0b6[_0x546e6c]={'score':0x0,'answers':[]});}),await updateDoc(_0x56df22,{'responses':_0x5aa0b6});}document[_0x526a11(0xb9f)](_0x526a11(0xb7d))[_0x526a11(0x5f6)][_0x526a11(0x314)](_0x526a11(0x3c0)),renderTeamQuizQuestion();const _0x4b9975={'gameId':currentTeamQuizId,'mode':_0x5629f6[_0x526a11(0x5b2)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x526a11(0x1cd)](_0x526a11(0x3db),JSON[_0x526a11(0x356)](_0x4b9975)),listenForTeamQuizUpdates();}catch(_0x383587){console[_0x526a11(0x930)](_0x526a11(0xa6f),_0x383587),showMessage(_0x526a11(0x186));}}async function renderTeamQuizQuestion(){const _0x248707=_0x7550fe;if(localQuestionIndex>=currentQuizData[_0x248707(0x5c2)]['length']){displayTeamQuizFinalResults();return;}const _0x42d3cb=currentQuizData[_0x248707(0x5c2)][localQuestionIndex],_0x5c233c=localTeamPlayers[localPlayerIndex],_0x318aa0=_0x42d3cb['questionType']||currentQuizData['quizType'];let _0x7edcf7=_0x42d3cb[_0x248707(0x4b6)]||_0x42d3cb['questionText'],_0x2adf0e='';switch(_0x318aa0){case'multiple_choice':case _0x248707(0x361):_0x2adf0e=_0x42d3cb['options']['map']((_0x5eaeb9,_0x246d77)=>_0x248707(0xb61)+_0x246d77+_0x248707(0x58b)+_0x246d77+_0x248707(0x11d)+_0x246d77+'\x22>'+_0x5eaeb9+_0x248707(0x857))['join']('');break;case _0x248707(0x728):_0x2adf0e=_0x248707(0x5c8);break;case'short_answer':case _0x248707(0xa9f):_0x2adf0e=_0x248707(0x4ad);break;case _0x248707(0x370):_0x2adf0e=_0x248707(0xb8b)+_0x42d3cb[_0x248707(0x11a)][_0x248707(0x25d)](_0x4ef550=>_0x248707(0x93a)+_0x4ef550+'\x22>'+_0x4ef550+_0x248707(0xb9e))[_0x248707(0x7fa)]('')+_0x248707(0xad8);break;default:_0x2adf0e=_0x248707(0xa71);break;}studentQuizArea[_0x248707(0x215)]=_0x248707(0x5eb)+(localQuestionIndex+0x1)+_0x248707(0x649)+currentQuizData['questions'][_0x248707(0x384)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x5c233c+_0x248707(0x9f7)+(localQuestionIndex+0x1)+'.\x20'+_0x7edcf7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42d3cb['imageCode']?_0x248707(0x287)+_0x42d3cb[_0x248707(0xa0a)]+_0x248707(0xa2b):'')+_0x248707(0x1eb)+_0x2adf0e+_0x248707(0x602),studentQuizArea[_0x248707(0x5f6)][_0x248707(0x309)](_0x248707(0x3c0));if(window[_0x248707(0xa27)])MathJax[_0x248707(0x806)]([studentQuizArea]);document[_0x248707(0xb9f)](_0x248707(0x8fe))[_0x248707(0x52b)](_0x248707(0x909),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x166864=_0x7550fe,_0x905cbe=currentQuizData[_0x166864(0x5c2)][localQuestionIndex],_0x4fb09e=_0x905cbe[_0x166864(0x92a)]||currentQuizData['quizType'];let _0x3480fd=null,_0x11144a=![];if(_0x4fb09e==='short_answer'||_0x4fb09e===_0x166864(0xa9f)){const _0x530cec=document[_0x166864(0x2e7)](_0x166864(0x1e4));if(!_0x530cec||!_0x530cec['value'][_0x166864(0x9f3)]()){showMessage(_0x166864(0xb80));return;}_0x3480fd=_0x530cec['value'][_0x166864(0x9f3)](),_0x11144a=await gradeShortAnswer(_0x3480fd,_0x905cbe);}else{const _0x190691=document[_0x166864(0x2e7)](_0x166864(0x71b));if(!_0x190691||_0x190691[_0x166864(0x6b0)]===''){showMessage(_0x166864(0x784));return;}_0x3480fd=_0x190691['value'];switch(_0x4fb09e){case _0x166864(0x728):_0x11144a=_0x3480fd==='true'===_0x905cbe[_0x166864(0x9f8)];break;case _0x166864(0x370):_0x11144a=_0x3480fd===_0x905cbe[_0x166864(0xa8d)];break;default:_0x11144a=parseInt(_0x3480fd)===_0x905cbe[_0x166864(0x30b)];break;}}const _0xc4e728={'questionIndex':localQuestionIndex,'isCorrect':_0x11144a},_0x41dca0=userId,_0xaaa01a={[_0x166864(0x93f)+_0x41dca0+_0x166864(0x426)]:arrayUnion(_0xc4e728)};_0x11144a&&(_0xaaa01a[_0x166864(0x93f)+_0x41dca0+_0x166864(0xb75)]=increment(0x1));try{await updateDoc(doc(db,_0x166864(0x3dc)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0xaaa01a),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x166864(0x5c2)][_0x166864(0x384)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x519480){console[_0x166864(0x930)](_0x166864(0x2ee),_0x519480),showMessage(_0x166864(0x97f));}}async function handleTeamAnswerSubmit(){const _0x8d0323=_0x7550fe,_0x41eb9f=await getDoc(doc(db,_0x8d0323(0x3dc)+appId+_0x8d0323(0x80e),currentTeamQuizId));if(!_0x41eb9f[_0x8d0323(0x7be)]())return;const _0x58b0a1=_0x41eb9f[_0x8d0323(0xaf1)]();if(_0x58b0a1[_0x8d0323(0x5b2)]==='group'){handleGroupAnswerSubmit();return;}const _0x31d7e3=localTeamPlayers[localPlayerIndex],_0x454811=currentQuizData[_0x8d0323(0x5c2)][localQuestionIndex],_0x5b70dd=_0x454811[_0x8d0323(0x92a)]||currentQuizData[_0x8d0323(0x874)];let _0x263ddb=null,_0x7c46ba=![];if(_0x5b70dd===_0x8d0323(0xaf9)||_0x5b70dd==='fill_in_no_choices'){const _0x29f3e4=document[_0x8d0323(0x2e7)]('textarea[name=\x22team_answer\x22]');if(!_0x29f3e4||!_0x29f3e4['value'][_0x8d0323(0x9f3)]()){showMessage(_0x8d0323(0x294));return;}_0x263ddb=_0x29f3e4[_0x8d0323(0x6b0)]['trim'](),_0x7c46ba=await gradeShortAnswer(_0x263ddb,_0x454811);}else{const _0x4a0267=document[_0x8d0323(0x2e7)](_0x8d0323(0x71b));if(!_0x4a0267||_0x4a0267[_0x8d0323(0x6b0)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x263ddb=_0x4a0267[_0x8d0323(0x6b0)];switch(_0x5b70dd){case _0x8d0323(0x728):_0x7c46ba=_0x263ddb===_0x8d0323(0xb66)===_0x454811[_0x8d0323(0x9f8)];break;case _0x8d0323(0x370):_0x7c46ba=_0x263ddb===_0x454811[_0x8d0323(0xa8d)];break;default:_0x7c46ba=parseInt(_0x263ddb)===_0x454811[_0x8d0323(0x30b)];break;}}const _0x5a83b6={'questionIndex':localQuestionIndex,'isCorrect':_0x7c46ba,'answerValue':_0x263ddb},_0x4b8a8a={['responses.'+_0x31d7e3+'.answers']:arrayUnion(_0x5a83b6)};_0x7c46ba&&(_0x4b8a8a[_0x8d0323(0x5fe)+_0x31d7e3+_0x8d0323(0xb75)]=increment(0x1));try{await updateDoc(doc(db,_0x8d0323(0x3dc)+appId+_0x8d0323(0x80e),currentTeamQuizId),_0x4b8a8a),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x8d0323(0x384)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x2fa13d){console['error'](_0x8d0323(0x42a),_0x2fa13d),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x9b4d77=_0x7550fe;studentQuizArea[_0x9b4d77(0x5f6)]['add'](_0x9b4d77(0x3c0)),studentResultArea[_0x9b4d77(0x5f6)]['remove'](_0x9b4d77(0x3c0));const _0x436962=doc(db,_0x9b4d77(0x3dc)+appId+_0x9b4d77(0x80e),currentTeamQuizId),_0xf939e3=await getDoc(_0x436962);if(!_0xf939e3[_0x9b4d77(0x7be)]()){studentResultArea[_0x9b4d77(0x215)]=_0x9b4d77(0x540);return;}const _0x5e9fb7=_0xf939e3['data']();let _0x56945a=[];const _0x297566=_0x5e9fb7['mode']||'team';if(_0x297566==='group'){const _0x36dd5a=_0x5e9fb7['groups'][userId];_0x36dd5a?_0x56945a=[{'name':_0x9b4d77(0x336)+localTeamPlayers[_0x9b4d77(0x7fa)](',\x20'),'score':_0x36dd5a[_0x9b4d77(0x5e9)]||0x0}]:_0x56945a=[{'name':_0x9b4d77(0x845),'score':_0x9b4d77(0x629)}];}else _0x56945a=localTeamPlayers[_0x9b4d77(0x25d)](_0x501fe2=>({'name':_0x501fe2,'score':_0x5e9fb7['responses'][_0x501fe2]?.['score']||0x0}))['sort']((_0x2c0494,_0x37016b)=>_0x37016b[_0x9b4d77(0x5e9)]-_0x2c0494[_0x9b4d77(0x5e9)]);studentResultArea[_0x9b4d77(0x215)]=_0x9b4d77(0x5be)+_0x56945a[_0x9b4d77(0x25d)](_0x17c7c7=>_0x9b4d77(0x3f3)+_0x17c7c7[_0x9b4d77(0x47f)]+_0x9b4d77(0x7b9)+_0x17c7c7[_0x9b4d77(0x5e9)]+_0x9b4d77(0x9f9))[_0x9b4d77(0x7fa)]('')+_0x9b4d77(0x772),sessionStorage[_0x9b4d77(0x30c)]('activeGameSession'),currentMode===_0x9b4d77(0x67e)&&currentTeamQuizId&&setTimeout(()=>{const _0x4b45b5=_0x9b4d77;deleteDoc(doc(db,_0x4b45b5(0x3dc)+appId+_0x4b45b5(0x80e),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x7550fe(0x3d7)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x243)},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x800)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x2dc)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0xb64)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x34a)},{'category':_0x7550fe(0x37c),'name':'การลบ'},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x477)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x82d)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x15c)},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x63a)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x6ee)},{'category':_0x7550fe(0x37c),'name':'ค่าสัมบูรณ์'},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x320)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x3cf)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x544)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x899)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x6f9)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0xa93)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x4c0)},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x129)},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x37a)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x7ed)},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x3b4)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x388)},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0xb09)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x79a)},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x2d7)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x525)},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x22c)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x7e2)},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x7550fe(0x4c2)},{'category':'จำนวนและการดำเนินการ','name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x7550fe(0x37c),'name':'รากที่สองและที่สาม'},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0xb0d)},{'category':_0x7550fe(0x37c),'name':_0x7550fe(0x3ad)},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0x38b)},{'category':_0x7550fe(0x5bd),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0x158)},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0xbf6)},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0x34d)},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0x749)},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0x6fa)},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0x489)},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0x926)},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x7550fe(0x5bd),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':_0x7550fe(0x222)},{'category':_0x7550fe(0x5bd),'name':'สเกลและแผนที่'},{'category':_0x7550fe(0x5bd),'name':_0x7550fe(0x9ff)},{'category':_0x7550fe(0x592),'name':_0x7550fe(0x702)},{'category':'เรขาคณิต','name':_0x7550fe(0x353)},{'category':_0x7550fe(0x592),'name':_0x7550fe(0x51a)},{'category':_0x7550fe(0x592),'name':_0x7550fe(0x489)},{'category':_0x7550fe(0x592),'name':_0x7550fe(0xa51)},{'category':'เรขาคณิต','name':'ความคล้ายของรูป'},{'category':_0x7550fe(0x592),'name':_0x7550fe(0x4cb)},{'category':_0x7550fe(0x592),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':'เรขาคณิต','name':_0x7550fe(0x9af)},{'category':_0x7550fe(0x592),'name':_0x7550fe(0x549)},{'category':_0x7550fe(0x592),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x7550fe(0x592),'name':_0x7550fe(0x8e6)},{'category':_0x7550fe(0x592),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x7550fe(0x592),'name':_0x7550fe(0x744)},{'category':_0x7550fe(0x592),'name':_0x7550fe(0x642)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x7550fe(0x774)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x273)},{'category':_0x7550fe(0x263),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x5d5)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x704)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x267)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x233)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x531)},{'category':_0x7550fe(0x263),'name':'สมการค่าสัมบูรณ์'},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x19c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x7550fe(0x156)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x836)},{'category':_0x7550fe(0x263),'name':'สมการลอการิทึม'},{'category':_0x7550fe(0x263),'name':_0x7550fe(0xba8)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x821)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x7550fe(0x530)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0xbd8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x7550fe(0x729)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x99a)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x4a1)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x27e)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x75e)},{'category':_0x7550fe(0x263),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x7550fe(0x263),'name':_0x7550fe(0xa2e)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x71e)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x8d8)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x2df)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x7550fe(0x41d)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0xbc4)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x228)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x20b)},{'category':_0x7550fe(0x263),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x7550fe(0x522)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0xa79)},{'category':_0x7550fe(0x263),'name':_0x7550fe(0x2d5)},{'category':_0x7550fe(0xb72),'name':_0x7550fe(0x9ce)},{'category':_0x7550fe(0xb72),'name':_0x7550fe(0x5dc)},{'category':_0x7550fe(0xb72),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x7550fe(0xb72),'name':_0x7550fe(0x882)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x7550fe(0xb72),'name':_0x7550fe(0xbf2)},{'category':'เรขาคณิตวิเคราะห์','name':_0x7550fe(0x738)},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x7550fe(0xb72),'name':_0x7550fe(0x7c4)},{'category':_0x7550fe(0x760),'name':_0x7550fe(0x44c)},{'category':_0x7550fe(0x760),'name':_0x7550fe(0x40c)},{'category':_0x7550fe(0x760),'name':_0x7550fe(0x727)},{'category':_0x7550fe(0x760),'name':_0x7550fe(0x5de)},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':_0x7550fe(0x760),'name':'กฎของโคไซน์'},{'category':_0x7550fe(0x760),'name':_0x7550fe(0x175)},{'category':'ตรีโกณมิติ','name':_0x7550fe(0x63f)},{'category':'ตรีโกณมิติ','name':_0x7550fe(0xbd9)},{'category':'ตรีโกณมิติ','name':_0x7550fe(0x6e4)},{'category':_0x7550fe(0x760),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x6e8)},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x955)},{'category':'สถิติและความน่าจะเป็น','name':_0x7550fe(0xa62)},{'category':_0x7550fe(0x412),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x1b7)},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x9d6)},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x9ee)},{'category':'สถิติและความน่าจะเป็น','name':_0x7550fe(0x4e2)},{'category':_0x7550fe(0x412),'name':'ฐานนิยม'},{'category':_0x7550fe(0x412),'name':_0x7550fe(0xa18)},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x855)},{'category':'สถิติและความน่าจะเป็น','name':_0x7550fe(0x927)},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x401)},{'category':'สถิติและความน่าจะเป็น','name':_0x7550fe(0xbf5)},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x1a1)},{'category':_0x7550fe(0x412),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':'กฎบวกและกฎคูณ'},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x506)},{'category':_0x7550fe(0x412),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x709)},{'category':'สถิติและความน่าจะเป็น','name':_0x7550fe(0x1ea)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดหมู่\x20(Combination)'},{'category':_0x7550fe(0x412),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x7550fe(0x412),'name':_0x7550fe(0x53a)},{'category':'แคลคูลัสเบื้องต้น','name':_0x7550fe(0x866)},{'category':_0x7550fe(0x915),'name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':'แคลคูลัสเบื้องต้น','name':_0x7550fe(0x85a)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x7550fe(0x332)},{'category':_0x7550fe(0x915),'name':_0x7550fe(0x32d)},{'category':_0x7550fe(0x915),'name':_0x7550fe(0x769)},{'category':'แคลคูลัสเบื้องต้น','name':_0x7550fe(0x89a)},{'category':_0x7550fe(0x915),'name':_0x7550fe(0x723)},{'category':_0x7550fe(0x915),'name':_0x7550fe(0x65c)},{'category':_0x7550fe(0x915),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x7550fe(0x915),'name':_0x7550fe(0x641)},{'category':_0x7550fe(0x6a0),'name':_0x7550fe(0x7d0)},{'category':_0x7550fe(0x6a0),'name':_0x7550fe(0x17d)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x7550fe(0x6a0),'name':_0x7550fe(0x39e)},{'category':_0x7550fe(0x6a0),'name':'ดีเทอร์มิแนนต์'},{'category':_0x7550fe(0x6a0),'name':_0x7550fe(0x53d)},{'category':_0x7550fe(0xa69),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x7550fe(0xa69),'name':_0x7550fe(0x606)},{'category':_0x7550fe(0xa69),'name':_0x7550fe(0x431)},{'category':'คณิตการเงิน/บูรณาการ','name':'ค่าเสื่อมราคา'},{'category':_0x7550fe(0xa69),'name':'ร้อยละประยุกต์'},{'category':_0x7550fe(0x2b1),'name':_0x7550fe(0x618)},{'category':_0x7550fe(0x2b1),'name':_0x7550fe(0x6ce)},{'category':_0x7550fe(0x2b1),'name':_0x7550fe(0x18c)}];function renderTopicCheckboxes(){const _0x524d37=_0x7550fe,_0x392b11=document['getElementById'](_0x524d37(0x184));if(!_0x392b11)return;const _0x3379ea=allMathTopics,_0x44aa2f=customMathTopics[_0x524d37(0x25d)](_0x3cee04=>({'id':_0x3cee04['id'],'category':_0x524d37(0x5e5),'name':_0x3cee04['name']})),_0x2b8e02=[..._0x3379ea,..._0x44aa2f],_0x409af5=_0x2b8e02['reduce']((_0x1f5c0e,_0x3bb2d7)=>{const _0x1c6f3b=_0x524d37;return!_0x1f5c0e[_0x3bb2d7[_0x1c6f3b(0x281)]]&&(_0x1f5c0e[_0x3bb2d7[_0x1c6f3b(0x281)]]=[]),_0x1f5c0e[_0x3bb2d7[_0x1c6f3b(0x281)]][_0x1c6f3b(0x5ca)](_0x3bb2d7),_0x1f5c0e;},{});let _0x58ef4a='';const _0x4be6e6=[_0x524d37(0x5e5),...Object[_0x524d37(0xaa6)](_0x409af5)['filter'](_0x5cd68b=>_0x5cd68b!==_0x524d37(0x5e5))];for(const _0x110378 of _0x4be6e6){if(_0x409af5[_0x110378]){const _0x5b63f6=_0x110378===_0x524d37(0x5e5),_0x3c7d89=_0x5b63f6?'fas\x20fa-user-edit':_0x524d37(0x46b),_0x3740e6=_0x5b63f6?_0x524d37(0x811):_0x524d37(0x1d8);_0x58ef4a+=_0x524d37(0x9a0),_0x58ef4a+=_0x524d37(0x135)+_0x3740e6+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x3c7d89+'\x20mr-2\x22></i>'+_0x110378+_0x524d37(0x658),_0x409af5[_0x110378]['forEach'](_0x54c4a6=>{const _0x2f4add=_0x524d37,_0x27ec76=!!_0x54c4a6['id'],_0x463ce6=_0x27ec76?_0x2f4add(0x1ad)+_0x54c4a6['id']+_0x2f4add(0x666)+_0x54c4a6['id']+_0x2f4add(0x652)+_0x54c4a6['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x54c4a6['id']+_0x2f4add(0x82e):'';_0x58ef4a+=_0x2f4add(0x554)+(_0x54c4a6['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x54c4a6[_0x2f4add(0x47f)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x54c4a6[_0x2f4add(0x47f)]+_0x2f4add(0x8f1)+(_0x27ec76?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x54c4a6['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x463ce6+_0x2f4add(0x764);}),_0x58ef4a+=_0x524d37(0xa2b);}}_0x392b11[_0x524d37(0x215)]=_0x58ef4a||_0x524d37(0x846),_0x392b11['removeEventListener'](_0x524d37(0x81e),updateSelectedTopicsCount),_0x392b11[_0x524d37(0x52b)](_0x524d37(0x81e),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2ccbb4,_0x4b6455){const _0x579d7d=_0x7550fe;if(!_0x2ccbb4||!_0x4b6455[_0x579d7d(0x9f3)]()){showMessage(_0x579d7d(0x1e6));return;}try{const _0x4ae081=doc(db,_0x579d7d(0x3dc)+appId+_0x579d7d(0xa5f),_0x2ccbb4);await updateDoc(_0x4ae081,{'name':_0x4b6455[_0x579d7d(0x9f3)]()}),showMessage(_0x579d7d(0x5bb));}catch(_0x1b184c){console[_0x579d7d(0x930)](_0x579d7d(0x789),_0x1b184c),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x268357,_0x1c17ad){const _0x2a5b92=_0x7550fe;if(!_0x268357)return;const _0x4d3c7f=_0x268357['querySelector'](_0x2a5b92(0x524)),_0x1929f5=_0x268357[_0x2a5b92(0x2e7)]('.topic-name-input'),_0x48aca9=_0x268357['querySelector'](_0x2a5b92(0x7db)),_0x27b261=_0x268357[_0x2a5b92(0x2e7)](_0x2a5b92(0x6ec));_0x4d3c7f[_0x2a5b92(0x5f6)][_0x2a5b92(0x937)](_0x2a5b92(0x3c0),_0x1c17ad),_0x1929f5[_0x2a5b92(0x5f6)][_0x2a5b92(0x937)](_0x2a5b92(0x3c0),!_0x1c17ad),_0x48aca9['classList'][_0x2a5b92(0x937)](_0x2a5b92(0x3c0),_0x1c17ad),_0x27b261[_0x2a5b92(0x5f6)][_0x2a5b92(0x937)](_0x2a5b92(0x3c0),!_0x1c17ad),_0x1c17ad&&(_0x1929f5['focus'](),_0x1929f5[_0x2a5b92(0x3df)]());}async function handleStartLiveRace(_0x2379dc){const _0x16b962=_0x7550fe;let _0x362a5c=allQuizzes[_0x16b962(0x3de)](_0x2ff9c7=>_0x2ff9c7['id']===_0x2379dc);if(!_0x362a5c){const _0x3c1104=doc(db,_0x16b962(0x3dc)+appId+'/public/data/quizzes',_0x2379dc),_0x3c1836=await getDoc(_0x3c1104);if(!_0x3c1836[_0x16b962(0x7be)]()){showMessage(_0x16b962(0x2f0));return;}_0x362a5c={'id':_0x3c1836['id'],..._0x3c1836[_0x16b962(0xaf1)]()};}const _0x460417=getShuffledQuiz(_0x362a5c);currentQuizData=_0x460417;const _0x17fca6=_0x362a5c[_0x16b962(0x176)]||currentProjectId||null,_0x2f74d6=Math[_0x16b962(0xa02)](0x3e8+Math['random']()*0x2328)['toString']();currentLiveGamePin=_0x2f74d6;try{const _0x7d77c8=await addDoc(collection(db,_0x16b962(0x3dc)+appId+'/public/data/liveGames'),{'quizId':_0x2379dc,'projectId':_0x17fca6,'status':_0x16b962(0x179),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2f74d6,'createdAt':serverTimestamp(),'shuffledQuiz':_0x460417});currentLiveGameId=_0x7d77c8['id'],showAdminLobbyView(_0x2f74d6,_0x362a5c[_0x16b962(0xb1c)]),listenForLiveGameUpdates();}catch(_0x507550){console['error'](_0x16b962(0xbfa),_0x507550),showMessage(_0x16b962(0x4b2));}}function updateSelectedTopicsCount(){const _0x2d5e9c=_0x7550fe,_0x9e9e8e=document[_0x2d5e9c(0xb9f)](_0x2d5e9c(0x184)),_0x73f6d8=_0x9e9e8e[_0x2d5e9c(0xb3b)](_0x2d5e9c(0x55a))[_0x2d5e9c(0x384)],_0x1d0fa3=document[_0x2d5e9c(0xb9f)](_0x2d5e9c(0xafa));_0x73f6d8>0x0?_0x1d0fa3[_0x2d5e9c(0x33f)]='(เลือกแล้ว\x20'+_0x73f6d8+_0x2d5e9c(0x575):_0x1d0fa3[_0x2d5e9c(0x33f)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x7550fe(0x976),quizLeaderboardSortOrder=_0x7550fe(0x146),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x7550fe(0x2fa),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x7550fe(0x482),scratchpadPenColor=_0x7550fe(0xab2),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x29f672,_0x2e6fbb){const _0x1bc7b5=_0x7550fe;return Math[_0x1bc7b5(0x1a0)](Math[_0x1bc7b5(0x54c)](_0x29f672['x']-_0x2e6fbb['x'],0x2)+Math['pow'](_0x29f672['y']-_0x2e6fbb['y'],0x2));}function getMidpoint(_0x3d6bff,_0x1470fa){return{'x':(_0x3d6bff['x']+_0x1470fa['x'])/0x2,'y':(_0x3d6bff['y']+_0x1470fa['y'])/0x2};}function getTransformedPoint(_0x2facdc,_0x2fb750){return{'x':(_0x2facdc-scratchpadOffset['x'])/scratchpadScale,'y':(_0x2fb750-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x56d4ca=_0x7550fe;if(!scratchpadCtx)return;const _0x56a75a=scratchpadCtx[_0x56d4ca(0x43d)],_0x4bf54f=window['devicePixelRatio']||0x1,_0x54619=document[_0x56d4ca(0xb9f)](_0x56d4ca(0x9c6));_0x54619&&(_0x54619['style']['transformOrigin']=_0x56d4ca(0x211),_0x54619[_0x56d4ca(0x2a3)][_0x56d4ca(0x3a8)]='translate('+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x56d4ca(0xbca)+scratchpadScale+')'),scratchpadCtx[_0x56d4ca(0xa0b)](),scratchpadCtx[_0x56d4ca(0x5e4)](_0x4bf54f,0x0,0x0,_0x4bf54f,0x0,0x0),scratchpadCtx[_0x56d4ca(0x1b1)](0x0,0x0,_0x56a75a[_0x56d4ca(0x40b)],_0x56a75a[_0x56d4ca(0xad0)]),scratchpadCtx[_0x56d4ca(0xb4d)](),scratchpadCtx['save'](),scratchpadCtx[_0x56d4ca(0x798)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x56d4ca(0x2d8)](scratchpadScale,scratchpadScale),strokes[_0x56d4ca(0x94f)](_0x34a391=>{drawStroke(_0x34a391);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x56d4ca(0xb4d)]();}function renderGroupModeQuestion(){const _0x5f4212=_0x7550fe;if(localQuestionIndex>=currentQuizData[_0x5f4212(0x5c2)][_0x5f4212(0x384)]){displayTeamQuizFinalResults();return;}const _0x1c79ab=currentQuizData['questions'][localQuestionIndex],_0x4e7d7f=_0x1c79ab['questionType']||currentQuizData[_0x5f4212(0x874)];let _0xde962f=_0x1c79ab['stem']||_0x1c79ab[_0x5f4212(0x653)],_0x34cce0='';switch(_0x4e7d7f){case'multiple_choice':case _0x5f4212(0x361):_0x34cce0=_0x1c79ab[_0x5f4212(0xbe2)][_0x5f4212(0x25d)]((_0x2abdf2,_0x4dedb1)=>_0x5f4212(0xb61)+_0x4dedb1+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x4dedb1+_0x5f4212(0x11d)+_0x4dedb1+'\x22>'+_0x2abdf2+_0x5f4212(0x857))[_0x5f4212(0x7fa)]('');break;case'true_false':_0x34cce0='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x5f4212(0xaf9):case _0x5f4212(0xa9f):_0x34cce0=_0x5f4212(0x3ec);break;case _0x5f4212(0x370):_0x34cce0=_0x5f4212(0xb8b)+_0x1c79ab[_0x5f4212(0x11a)]['map'](_0x3d1745=>_0x5f4212(0x93a)+_0x3d1745+'\x22>'+_0x3d1745+'</option>')[_0x5f4212(0x7fa)]('')+_0x5f4212(0xad8);break;default:_0x34cce0=_0x5f4212(0xa71);break;}studentQuizArea[_0x5f4212(0x215)]=_0x5f4212(0x5eb)+(localQuestionIndex+0x1)+_0x5f4212(0x649)+currentQuizData[_0x5f4212(0x5c2)][_0x5f4212(0x384)]+_0x5f4212(0xba7)+localTeamPlayers[_0x5f4212(0x7fa)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0xde962f+_0x5f4212(0x2c5)+(_0x1c79ab[_0x5f4212(0xa0a)]?_0x5f4212(0x287)+_0x1c79ab['imageCode']+_0x5f4212(0xa2b):'')+_0x5f4212(0x1eb)+_0x34cce0+_0x5f4212(0x6c9),studentQuizArea['classList'][_0x5f4212(0x309)]('hidden');if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document['getElementById']('submit-group-answer-btn')['addEventListener'](_0x5f4212(0x909),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x54111f,_0x35fa80=null,_0x4e9ea5,_0xd71c8b=null,_0x78c789=![]){const _0x42811d=_0x7550fe,_0x449732=document['getElementById']('quiz-generation-area');_0x449732&&_0x449732[_0x42811d(0x61f)]({'behavior':_0x42811d(0x187),'block':_0x42811d(0xb29)}),generateQuiz(_0x54111f,_0x35fa80,null,null,!![],_0x4e9ea5,_0xd71c8b,_0x78c789);}function handleGenerateAndShowLesson(_0x13d8e3,_0x193957){const _0x50cd5b=_0x7550fe,_0x20f75e=document['getElementById'](_0x50cd5b(0x7a1)),_0x4ceada=document[_0x50cd5b(0xb9f)](_0x50cd5b(0x9bc)),_0xdfa54f=document[_0x50cd5b(0xb9f)](_0x50cd5b(0xa52)),_0x139fea=document[_0x50cd5b(0xb9f)](_0x50cd5b(0x6a2));[_0x50cd5b(0x42c),'memoryContent',_0x50cd5b(0x733),'summaryContent'][_0x50cd5b(0x94f)](_0x2dc04b=>{const _0x44be21=_0x50cd5b,_0x122f45=document[_0x44be21(0xb9f)](_0x2dc04b)[_0x44be21(0x12a)];_0x122f45&&(_0x122f45[_0x44be21(0x2a3)][_0x44be21(0x9d2)]=_0x44be21(0x323));}),_0x4ceada[_0x50cd5b(0x33f)]=_0x50cd5b(0x55f)+_0x13d8e3,_0x139fea[_0x50cd5b(0x5f6)][_0x50cd5b(0x314)](_0x50cd5b(0x3c0)),_0xdfa54f[_0x50cd5b(0x5f6)][_0x50cd5b(0x309)](_0x50cd5b(0x3c0)),_0x20f75e['classList']['remove'](_0x50cd5b(0x3c0)),generateLesson(_0x13d8e3,_0x193957)[_0x50cd5b(0x45b)](_0x35acae=>{const _0x16500c=_0x50cd5b;console[_0x16500c(0x930)](_0x16500c(0x96a),_0x35acae),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x20f75e[_0x16500c(0x5f6)][_0x16500c(0x314)](_0x16500c(0x3c0));});}function handlePointerDown(_0x522022){const _0x38f46f=_0x7550fe;_0x522022['preventDefault']();const _0x18625b=scratchpadCtx[_0x38f46f(0x43d)],_0x5616fb=_0x18625b['getBoundingClientRect'](),_0x5c3e58=_0x522022[_0x38f46f(0x8b9)]||(_0x522022['touches']?_0x38f46f(0x6e5):'mouse');if(_0x5c3e58===_0x38f46f(0x482)||_0x5c3e58===_0x38f46f(0x282)){if(_0x522022[_0x38f46f(0x8b9)]===_0x38f46f(0x282)&&_0x522022[_0x38f46f(0x326)]!==0x0){_0x522022[_0x38f46f(0x326)]===0x1&&(isMousePanning=!![],panStart={'x':_0x522022[_0x38f46f(0xa83)],'y':_0x522022[_0x38f46f(0x328)]},_0x18625b[_0x38f46f(0x2a3)]['cursor']=_0x38f46f(0x130));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x8683a3=getTransformedPoint(_0x522022['clientX']-_0x5616fb[_0x38f46f(0x132)],_0x522022[_0x38f46f(0x328)]-_0x5616fb['top']);let _0x4ce57e={'tool':activeTool,'points':[_0x8683a3]};if(activeTool===_0x38f46f(0xa7c))_0x4ce57e[_0x38f46f(0xa8b)]=scratchpadHighlighterColor,_0x4ce57e['size']=scratchpadHighlighterSize;else activeTool==='trail'?(_0x4ce57e[_0x38f46f(0xa8b)]=scratchpadPenColor,_0x4ce57e[_0x38f46f(0xac5)]=scratchpadPenSize):(_0x4ce57e['color']=scratchpadPenColor,_0x4ce57e[_0x38f46f(0xac5)]=scratchpadPenSize);currentStroke=_0x4ce57e;}else _0x522022[_0x38f46f(0x893)]&&(_0x522022[_0x38f46f(0x893)][_0x38f46f(0x384)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x522022['touches'][0x0][_0x38f46f(0xa83)],'y':_0x522022[_0x38f46f(0x893)][0x0][_0x38f46f(0x328)]},{'x':_0x522022['touches'][0x1][_0x38f46f(0xa83)],'y':_0x522022['touches'][0x1][_0x38f46f(0x328)]}),initialPinchDistance=getDistance({'x':_0x522022[_0x38f46f(0x893)][0x0][_0x38f46f(0xa83)],'y':_0x522022[_0x38f46f(0x893)][0x0][_0x38f46f(0x328)]},{'x':_0x522022['touches'][0x1][_0x38f46f(0xa83)],'y':_0x522022['touches'][0x1]['clientY']})));}function animateTrail(){const _0x33daf6=_0x7550fe,_0x46975f=Date[_0x33daf6(0x711)]();let _0x49271a=![];for(let _0x43e683=strokes['length']-0x1;_0x43e683>=0x0;_0x43e683--){const _0x2e78ac=strokes[_0x43e683];if(_0x2e78ac[_0x33daf6(0x257)]===_0x33daf6(0x12e)&&_0x2e78ac[_0x33daf6(0x9bb)]){const _0x80823d=_0x46975f-_0x2e78ac[_0x33daf6(0x9bb)];_0x80823d>=TRAIL_DURATION?strokes[_0x33daf6(0x6cd)](_0x43e683,0x1):(_0x2e78ac['opacity']=0x1-_0x80823d/TRAIL_DURATION,_0x49271a=!![]);}}redrawScratchpad(),_0x49271a?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2f5c5c){const _0x525fae=_0x7550fe;if(!_0x2f5c5c||_0x2f5c5c[_0x525fae(0x4d6)][_0x525fae(0x384)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']='round',scratchpadCtx['lineCap']=_0x525fae(0x8dd);if(_0x2f5c5c[_0x525fae(0x257)]===_0x525fae(0x12e)){const _0x43637b=_0x2f5c5c['size']/scratchpadScale;scratchpadCtx['globalAlpha']=_0x2f5c5c[_0x525fae(0x6cf)]??0x1,scratchpadCtx['shadowColor']=_0x525fae(0x6b8),scratchpadCtx[_0x525fae(0xb31)]=_0x43637b*0x3,scratchpadCtx[_0x525fae(0xabd)]=_0x525fae(0x648),scratchpadCtx[_0x525fae(0xa5e)]=_0x43637b*2.5,scratchpadCtx[_0x525fae(0x640)](),scratchpadCtx['moveTo'](_0x2f5c5c['points'][0x0]['x'],_0x2f5c5c[_0x525fae(0x4d6)][0x0]['y']);for(let _0x89118=0x1;_0x89118<_0x2f5c5c['points'][_0x525fae(0x384)]-0x1;_0x89118++){const _0x3f8c2f=getMidpoint(_0x2f5c5c[_0x525fae(0x4d6)][_0x89118],_0x2f5c5c[_0x525fae(0x4d6)][_0x89118+0x1]);scratchpadCtx[_0x525fae(0x389)](_0x2f5c5c['points'][_0x89118]['x'],_0x2f5c5c['points'][_0x89118]['y'],_0x3f8c2f['x'],_0x3f8c2f['y']);}scratchpadCtx[_0x525fae(0xb03)](),scratchpadCtx[_0x525fae(0x45f)]='transparent',scratchpadCtx[_0x525fae(0xb31)]=0x0,scratchpadCtx[_0x525fae(0xabd)]='#FFFFFF',scratchpadCtx[_0x525fae(0xa5e)]=_0x43637b,scratchpadCtx[_0x525fae(0xb03)](),scratchpadCtx[_0x525fae(0x83c)]();}else{if(_0x2f5c5c[_0x525fae(0x257)]===_0x525fae(0xa7c)){scratchpadCtx['globalCompositeOperation']=_0x525fae(0xbb0),scratchpadCtx['strokeStyle']=_0x2f5c5c[_0x525fae(0xa8b)],scratchpadCtx[_0x525fae(0xa5e)]=_0x2f5c5c[_0x525fae(0xac5)],scratchpadCtx[_0x525fae(0x640)](),scratchpadCtx[_0x525fae(0xbac)](_0x2f5c5c['points'][0x0]['x'],_0x2f5c5c[_0x525fae(0x4d6)][0x0]['y']);for(let _0x2b3cc1=0x1;_0x2b3cc1<_0x2f5c5c[_0x525fae(0x4d6)][_0x525fae(0x384)]-0x1;_0x2b3cc1++){const _0x191770=getMidpoint(_0x2f5c5c[_0x525fae(0x4d6)][_0x2b3cc1],_0x2f5c5c[_0x525fae(0x4d6)][_0x2b3cc1+0x1]);scratchpadCtx[_0x525fae(0x389)](_0x2f5c5c[_0x525fae(0x4d6)][_0x2b3cc1]['x'],_0x2f5c5c[_0x525fae(0x4d6)][_0x2b3cc1]['y'],_0x191770['x'],_0x191770['y']);}scratchpadCtx[_0x525fae(0xb03)](),scratchpadCtx[_0x525fae(0x83c)]();}else{scratchpadCtx[_0x525fae(0x4e1)]=_0x2f5c5c[_0x525fae(0x257)]==='eraser'?'destination-out':_0x525fae(0x3c9),scratchpadCtx[_0x525fae(0xabd)]=_0x2f5c5c['color'],scratchpadCtx[_0x525fae(0xa5e)]=_0x2f5c5c[_0x525fae(0xac5)],scratchpadCtx[_0x525fae(0x640)](),scratchpadCtx[_0x525fae(0xbac)](_0x2f5c5c[_0x525fae(0x4d6)][0x0]['x'],_0x2f5c5c[_0x525fae(0x4d6)][0x0]['y']);for(let _0x561891=0x1;_0x561891<_0x2f5c5c[_0x525fae(0x4d6)][_0x525fae(0x384)]-0x1;_0x561891++){const _0x324ca4=getMidpoint(_0x2f5c5c[_0x525fae(0x4d6)][_0x561891],_0x2f5c5c[_0x525fae(0x4d6)][_0x561891+0x1]);scratchpadCtx[_0x525fae(0x389)](_0x2f5c5c['points'][_0x561891]['x'],_0x2f5c5c[_0x525fae(0x4d6)][_0x561891]['y'],_0x324ca4['x'],_0x324ca4['y']);}scratchpadCtx[_0x525fae(0xb03)](),scratchpadCtx[_0x525fae(0x83c)]();}}scratchpadCtx[_0x525fae(0xb4d)]();}function handlePointerMove(_0x5c4b20){const _0x526689=_0x7550fe;_0x5c4b20[_0x526689(0xa38)]();const _0xccc86c=scratchpadCtx[_0x526689(0x43d)],_0x3b1ca7=_0xccc86c[_0x526689(0x684)]();if(_0x5c4b20[_0x526689(0x893)]){if(_0x5c4b20[_0x526689(0x893)][_0x526689(0x384)]===0x1&&isDrawingOnScratchpad){const _0x2f97a3=getTransformedPoint(_0x5c4b20['touches'][0x0][_0x526689(0xa83)]-_0x3b1ca7['left'],_0x5c4b20['touches'][0x0][_0x526689(0x328)]-_0x3b1ca7['top']);currentStroke[_0x526689(0x4d6)][_0x526689(0x5ca)](_0x2f97a3),redrawScratchpad();}else{if(_0x5c4b20[_0x526689(0x893)]['length']===0x2&&isPanning){const _0x5aac96=getDistance({'x':_0x5c4b20[_0x526689(0x893)][0x0][_0x526689(0xa83)],'y':_0x5c4b20['touches'][0x0][_0x526689(0x328)]},{'x':_0x5c4b20[_0x526689(0x893)][0x1][_0x526689(0xa83)],'y':_0x5c4b20[_0x526689(0x893)][0x1]['clientY']}),_0x53f98d=getMidpoint({'x':_0x5c4b20['touches'][0x0]['clientX'],'y':_0x5c4b20[_0x526689(0x893)][0x0]['clientY']},{'x':_0x5c4b20[_0x526689(0x893)][0x1][_0x526689(0xa83)],'y':_0x5c4b20['touches'][0x1][_0x526689(0x328)]}),_0x4b52aa=_0x5aac96/ initialPinchDistance,_0x1af030=Math[_0x526689(0x959)](Math['max'](scratchpadScale*_0x4b52aa,MIN_SCALE),MAX_SCALE),_0x4b15fe=_0x53f98d['x']-panStart['x'],_0x1bbf58=_0x53f98d['y']-panStart['y'];scratchpadOffset['x']=_0x53f98d['x']-(_0x53f98d['x']-scratchpadOffset['x'])*(_0x1af030/scratchpadScale),scratchpadOffset['y']=_0x53f98d['y']-(_0x53f98d['y']-scratchpadOffset['y'])*(_0x1af030/scratchpadScale),scratchpadOffset['x']+=_0x4b15fe,scratchpadOffset['y']+=_0x1bbf58,scratchpadScale=_0x1af030,initialPinchDistance=_0x5aac96,panStart=_0x53f98d,redrawScratchpad();}}}else{if(isMousePanning){const _0x42e429=_0x5c4b20['clientX']-panStart['x'],_0x224942=_0x5c4b20[_0x526689(0x328)]-panStart['y'];scratchpadOffset['x']+=_0x42e429,scratchpadOffset['y']+=_0x224942,panStart={'x':_0x5c4b20[_0x526689(0xa83)],'y':_0x5c4b20[_0x526689(0x328)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x3383a4=getTransformedPoint(_0x5c4b20[_0x526689(0xa83)]-_0x3b1ca7[_0x526689(0x132)],_0x5c4b20[_0x526689(0x328)]-_0x3b1ca7[_0x526689(0x865)]);currentStroke[_0x526689(0x4d6)][_0x526689(0x5ca)](_0x3383a4),redrawScratchpad();}}}}function handlePointerUp(_0x2aebbb){const _0x7f4cc6=_0x7550fe;_0x2aebbb['preventDefault']();const _0x415f2b=scratchpadCtx[_0x7f4cc6(0x43d)];isMousePanning&&(isMousePanning=![],_0x415f2b[_0x7f4cc6(0x2a3)][_0x7f4cc6(0x226)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x7f4cc6(0x4d6)][_0x7f4cc6(0x384)]>0x1&&(strokes[_0x7f4cc6(0x5ca)](currentStroke),currentStroke['tool']===_0x7f4cc6(0x12e)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xdcce5b=_0x7f4cc6,_0x22f0f2=strokes[_0xdcce5b(0x67f)](_0xb5dbf6=>_0xb5dbf6[_0xdcce5b(0x257)]===_0xdcce5b(0x12e)&&!_0xb5dbf6[_0xdcce5b(0x9bb)]);if(_0x22f0f2[_0xdcce5b(0x384)]>0x0){const _0x474989=Date[_0xdcce5b(0x711)]();_0x22f0f2[_0xdcce5b(0x94f)](_0x202aad=>_0x202aad[_0xdcce5b(0x9bb)]=_0x474989),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x2d5c1b){const _0x597544=_0x7550fe;_0x2d5c1b[_0x597544(0xa38)]();const _0x3e23d9=_0x2d5c1b['deltaY']*-0.005,_0x198194=Math[_0x597544(0x959)](Math['max'](scratchpadScale+_0x3e23d9,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x2d5c1b[_0x597544(0xa83)]-(_0x2d5c1b[_0x597544(0xa83)]-scratchpadOffset['x'])*(_0x198194/scratchpadScale),scratchpadOffset['y']=_0x2d5c1b[_0x597544(0x328)]-(_0x2d5c1b[_0x597544(0x328)]-scratchpadOffset['y'])*(_0x198194/scratchpadScale),scratchpadScale=_0x198194,redrawScratchpad();}function undo(){const _0x33f94f=_0x7550fe;strokes[_0x33f94f(0x384)]>0x0&&(redoStrokes[_0x33f94f(0x5ca)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x53353d=_0x7550fe;redoStrokes['length']>0x0&&(strokes[_0x53353d(0x5ca)](redoStrokes[_0x53353d(0x43a)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x1e8ebe=_0x7550fe;document[_0x1e8ebe(0xb9f)]('undo-btn')[_0x1e8ebe(0xa75)]=strokes['length']===0x0,document[_0x1e8ebe(0xb9f)](_0x1e8ebe(0x99b))['disabled']=redoStrokes['length']===0x0;}function openScratchpad(_0x44b4f8,_0x4cb3d8){const _0x4ba8b9=_0x7550fe,_0x4abccb=document[_0x4ba8b9(0xb9f)]('scratchpad-modal'),_0x91e5ef=document[_0x4ba8b9(0xb9f)](_0x4ba8b9(0x20d)),_0xf69437=document[_0x4ba8b9(0xb9f)](_0x4ba8b9(0x197)),_0x4d4ac8=document[_0x4ba8b9(0xb9f)](_0x4ba8b9(0x667));_0x91e5ef[_0x4ba8b9(0x215)]=_0x44b4f8['stem']||_0x44b4f8[_0x4ba8b9(0x653)],_0xf69437['innerHTML']=_0x4cb3d8['map']((_0xd27d74,_0x470e4c)=>_0x4ba8b9(0xbc9)+String['fromCharCode'](0x41+_0x470e4c)+'.\x20'+_0xd27d74+_0x4ba8b9(0xa2b))[_0x4ba8b9(0x7fa)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4abccb['classList'][_0x4ba8b9(0x309)](_0x4ba8b9(0x3c0)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x4ba8b9(0xa27)])MathJax[_0x4ba8b9(0x806)]([_0x91e5ef,_0xf69437]);}function openBlueprintQuizSettings(){const _0x4d0839=_0x7550fe,_0xcd7d19=document[_0x4d0839(0xb9f)](_0x4d0839(0x3ff)),_0xd5796e=blueprintPageSettings||(currentProjectData?currentProjectData[_0x4d0839(0x996)]:{})||{};document[_0x4d0839(0xb9f)](_0x4d0839(0x443))[_0x4d0839(0x6b0)]=_0xd5796e[_0x4d0839(0x874)]||document[_0x4d0839(0xb9f)](_0x4d0839(0x3b9))[_0x4d0839(0x6b0)],document[_0x4d0839(0xb9f)]('bp-modal-difficulty-level-select')[_0x4d0839(0x215)]=document['getElementById'](_0x4d0839(0x541))[_0x4d0839(0x215)],document['getElementById'](_0x4d0839(0x1f2))[_0x4d0839(0x6b0)]=_0xd5796e[_0x4d0839(0x627)]||document[_0x4d0839(0xb9f)](_0x4d0839(0x541))['value'],document[_0x4d0839(0xb9f)](_0x4d0839(0x46e))[_0x4d0839(0x215)]=document[_0x4d0839(0xb9f)]('question-complexity-select')[_0x4d0839(0x215)],document[_0x4d0839(0xb9f)](_0x4d0839(0x46e))[_0x4d0839(0x6b0)]=_0xd5796e['complexityValue']||document[_0x4d0839(0xb9f)](_0x4d0839(0x2a7))['value'],document['getElementById'](_0x4d0839(0xabc))[_0x4d0839(0x6b0)]=_0xd5796e[_0x4d0839(0x121)]||document[_0x4d0839(0xb9f)](_0x4d0839(0x678))[_0x4d0839(0x6b0)],document['getElementById'](_0x4d0839(0x292))[_0x4d0839(0x6b0)]=_0xd5796e[_0x4d0839(0x5e0)]||document[_0x4d0839(0xb9f)](_0x4d0839(0x7a8))['value'],document[_0x4d0839(0xb9f)](_0x4d0839(0x731))[_0x4d0839(0x6b0)]=_0xd5796e['numChoices']||document[_0x4d0839(0xb9f)](_0x4d0839(0x56c))[_0x4d0839(0x6b0)],document[_0x4d0839(0xb9f)]('bp-modal-shuffle-setting-select')[_0x4d0839(0x6b0)]=_0xd5796e['shuffle']||document[_0x4d0839(0xb9f)]('shuffle-setting-select')[_0x4d0839(0x6b0)],document['getElementById'](_0x4d0839(0x4b4))['checked']=_0xd5796e[_0x4d0839(0x301)]||document[_0x4d0839(0xb9f)](_0x4d0839(0x552))[_0x4d0839(0x20e)],_0xcd7d19[_0x4d0839(0x5f6)][_0x4d0839(0x309)](_0x4d0839(0x3c0));}function handleSaveBlueprintPageSettings(){const _0x50302c=_0x7550fe;blueprintPageSettings={'quizType':document[_0x50302c(0xb9f)](_0x50302c(0x443))[_0x50302c(0x6b0)],'difficultyValue':document['getElementById'](_0x50302c(0x1f2))['value'],'complexityValue':document[_0x50302c(0xb9f)](_0x50302c(0x46e))[_0x50302c(0x6b0)],'numQuestions':document['getElementById']('bp-modal-num-questions')['value'],'passingScore':document[_0x50302c(0xb9f)](_0x50302c(0x292))[_0x50302c(0x6b0)],'numChoices':document[_0x50302c(0xb9f)](_0x50302c(0x731))[_0x50302c(0x6b0)],'shuffle':document[_0x50302c(0xb9f)]('bp-modal-shuffle-setting-select')[_0x50302c(0x6b0)],'includeImages':document[_0x50302c(0xb9f)](_0x50302c(0x4b4))[_0x50302c(0x20e)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x50302c(0xb9f)](_0x50302c(0x3ff))['classList']['add'](_0x50302c(0x3c0));}function initializeScratchpadCanvas(){const _0x3ce183=_0x7550fe,_0xcc5803=document[_0x3ce183(0xb9f)](_0x3ce183(0x160)),_0x41f744=document[_0x3ce183(0x2e7)](_0x3ce183(0x30a));if(!_0xcc5803||!_0x41f744)return;scratchpadCtx=_0xcc5803[_0x3ce183(0xb7c)]('2d',{'willReadFrequently':!![]});const _0x12a194=window['devicePixelRatio']||0x1,_0x4b1667=_0x41f744[_0x3ce183(0x684)]();_0xcc5803['width']=_0x4b1667['width']*_0x12a194,_0xcc5803[_0x3ce183(0xad0)]=_0x4b1667['height']*_0x12a194,_0xcc5803[_0x3ce183(0x2a3)]['width']=_0x4b1667[_0x3ce183(0x40b)]+'px',_0xcc5803['style']['height']=_0x4b1667[_0x3ce183(0xad0)]+'px',scratchpadCtx[_0x3ce183(0x2d8)](_0x12a194,_0x12a194),scratchpadCtx[_0x3ce183(0x18e)]=_0x3ce183(0x8dd),scratchpadCtx[_0x3ce183(0x23b)]=_0x3ce183(0x8dd),_0xcc5803[_0x3ce183(0xb5f)]('pointerdown',handlePointerDown),_0xcc5803['removeEventListener'](_0x3ce183(0xbc8),handlePointerMove),_0xcc5803[_0x3ce183(0xb5f)](_0x3ce183(0x446),handlePointerUp),_0xcc5803[_0x3ce183(0xb5f)]('pointercancel',handlePointerUp),_0xcc5803[_0x3ce183(0xb5f)](_0x3ce183(0x4ba),handleWheel),_0xcc5803[_0x3ce183(0xb5f)]('touchstart',handlePointerDown),_0xcc5803['removeEventListener'](_0x3ce183(0x3fa),handlePointerMove),_0xcc5803[_0x3ce183(0xb5f)](_0x3ce183(0x665),handlePointerUp),_0xcc5803[_0x3ce183(0x52b)](_0x3ce183(0x360),handlePointerDown),_0xcc5803[_0x3ce183(0x52b)](_0x3ce183(0xbc8),handlePointerMove),_0xcc5803[_0x3ce183(0x52b)](_0x3ce183(0x446),handlePointerUp),_0xcc5803[_0x3ce183(0x52b)](_0x3ce183(0x75c),handlePointerUp),_0xcc5803[_0x3ce183(0x52b)](_0x3ce183(0x4ba),handleWheel,{'passive':![]}),_0xcc5803[_0x3ce183(0x52b)](_0x3ce183(0x6e9),handlePointerDown,{'passive':![]}),_0xcc5803[_0x3ce183(0x52b)](_0x3ce183(0x3fa),handlePointerMove,{'passive':![]}),_0xcc5803[_0x3ce183(0x52b)](_0x3ce183(0x665),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x471f88=_0x7550fe,_0x6a19a7=document[_0x471f88(0xb9f)](_0x471f88(0x90c)),_0x1fdd49=document[_0x471f88(0xb9f)]('scratchpad-controls');_0x1fdd49[_0x471f88(0x215)]=_0x471f88(0x355)+scratchpadHighlighterSize+_0x471f88(0x6f1);const _0x5ba145=document[_0x471f88(0xb9f)](_0x471f88(0x41f)),_0x16e122=document[_0x471f88(0xb9f)]('eraser-tool-btn'),_0x164c1f=document[_0x471f88(0xb9f)](_0x471f88(0x26a)),_0x58808e=document[_0x471f88(0xb9f)](_0x471f88(0x939)),_0x2633de=document[_0x471f88(0xb9f)](_0x471f88(0x2ec)),_0xbc9db0=document['getElementById'](_0x471f88(0x398)),_0x4af569=[_0x5ba145,_0x16e122,_0x164c1f,_0x58808e];document[_0x471f88(0xb9f)]('scratchpad-close-btn')[_0x471f88(0x52b)](_0x471f88(0x909),()=>_0x6a19a7[_0x471f88(0x5f6)][_0x471f88(0x314)]('hidden')),document[_0x471f88(0xb9f)](_0x471f88(0x9b7))[_0x471f88(0x52b)](_0x471f88(0x909),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x471f88(0xb9f)]('scratchpad-clear-btn')[_0x471f88(0x52b)](_0x471f88(0x909),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x471f88(0xb9f)](_0x471f88(0x4fe))[_0x471f88(0x52b)](_0x471f88(0x909),undo),document[_0x471f88(0xb9f)](_0x471f88(0x99b))[_0x471f88(0x52b)](_0x471f88(0x909),redo);const _0xd6c17e=_0x372ef1=>{const _0x22c915=_0x471f88;_0x4af569[_0x22c915(0x94f)](_0x256ff0=>_0x256ff0['classList']['remove']('active')),_0x372ef1[_0x22c915(0x5f6)][_0x22c915(0x314)]('active');const _0x2aae6e=_0x372ef1===_0x58808e;_0x2633de[_0x22c915(0x5f6)]['toggle'](_0x22c915(0x3c0),_0x2aae6e),_0xbc9db0[_0x22c915(0x5f6)][_0x22c915(0x937)](_0x22c915(0x3c0),!_0x2aae6e);};_0x5ba145[_0x471f88(0x52b)](_0x471f88(0x909),()=>{const _0x4cfcbb=_0x471f88;activeTool=_0x4cfcbb(0x482),_0xd6c17e(_0x5ba145);}),_0x16e122['addEventListener'](_0x471f88(0x909),()=>{activeTool='eraser',_0xd6c17e(_0x16e122);}),_0x164c1f[_0x471f88(0x52b)](_0x471f88(0x909),()=>{const _0x17ae69=_0x471f88;activeTool=_0x17ae69(0x12e),_0xd6c17e(_0x164c1f);}),_0x58808e['addEventListener']('click',()=>{const _0x4e483a=_0x471f88;activeTool=_0x4e483a(0xa7c),_0xd6c17e(_0x58808e);}),_0x2633de[_0x471f88(0xb3b)](_0x471f88(0xaee))[_0x471f88(0x94f)](_0x635db4=>{const _0x268748=_0x471f88;_0x635db4[_0x268748(0x52b)](_0x268748(0x909),_0x4b2f0b=>{const _0x4dc5be=_0x268748;scratchpadPenSize=parseInt(_0x4b2f0b[_0x4dc5be(0x2de)][_0x4dc5be(0xb7f)][_0x4dc5be(0xac5)],0xa),_0x2633de[_0x4dc5be(0xb3b)](_0x4dc5be(0xaee))['forEach'](_0x79b94c=>_0x79b94c[_0x4dc5be(0x5f6)][_0x4dc5be(0x309)]('active')),_0x4b2f0b['target'][_0x4dc5be(0x5f6)][_0x4dc5be(0x314)](_0x4dc5be(0x97e));});}),_0x2633de[_0x471f88(0xb3b)]('.pen-color-btn')[_0x471f88(0x94f)](_0x30ee20=>{const _0x3656f2=_0x471f88;_0x30ee20[_0x3656f2(0x52b)]('click',_0x2aeb78=>{const _0x1696d8=_0x3656f2;scratchpadPenColor=_0x2aeb78[_0x1696d8(0x2de)][_0x1696d8(0xb7f)]['color'],_0x2633de[_0x1696d8(0xb3b)](_0x1696d8(0x76c))[_0x1696d8(0x94f)](_0x252c73=>_0x252c73[_0x1696d8(0x5f6)][_0x1696d8(0x309)](_0x1696d8(0x97e))),_0x2aeb78[_0x1696d8(0x2de)]['classList'][_0x1696d8(0x314)]('active');});}),_0xbc9db0['querySelectorAll'](_0x471f88(0x547))[_0x471f88(0x94f)](_0x4791e2=>{const _0x1a35a9=_0x471f88;_0x4791e2[_0x1a35a9(0x52b)](_0x1a35a9(0x909),_0x51ded7=>{const _0x5eeda1=_0x1a35a9;scratchpadHighlighterColor=_0x51ded7[_0x5eeda1(0x2de)][_0x5eeda1(0xb7f)][_0x5eeda1(0xa8b)],_0xbc9db0[_0x5eeda1(0xb3b)](_0x5eeda1(0x547))['forEach'](_0x3161b4=>_0x3161b4[_0x5eeda1(0x5f6)]['remove'](_0x5eeda1(0x97e))),_0x51ded7[_0x5eeda1(0x2de)]['classList'][_0x5eeda1(0x314)](_0x5eeda1(0x97e));});});const _0x2e08b8=document['getElementById'](_0x471f88(0x457)),_0x29b20e=document[_0x471f88(0xb9f)](_0x471f88(0x435));_0x2e08b8[_0x471f88(0x52b)]('input',_0x55c388=>{const _0x325f0c=_0x471f88,_0x25f2b3=parseInt(_0x55c388['target'][_0x325f0c(0x6b0)],0xa);scratchpadHighlighterSize=_0x25f2b3,_0x29b20e[_0x325f0c(0x33f)]=_0x25f2b3;}),window[_0x471f88(0x52b)](_0x471f88(0x358),()=>{const _0x56078a=_0x471f88;!_0x6a19a7[_0x56078a(0x5f6)][_0x56078a(0x4d3)](_0x56078a(0x3c0))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x7550fe(0x204),'name':_0x7550fe(0x61c),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x7550fe(0x977)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x7550fe(0x207)},'ON_FIRE':{'id':_0x7550fe(0x832),'name':_0x7550fe(0x7c8),'description':_0x7550fe(0x781),'icon':_0x7550fe(0xa2c)},'FIRST_TRY_ACE':{'id':_0x7550fe(0x56a),'name':_0x7550fe(0x779),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x7550fe(0x91a)},'COMEBACK_KING':{'id':_0x7550fe(0xab7),'name':_0x7550fe(0x394),'description':_0x7550fe(0x925),'icon':_0x7550fe(0x19b)},'SPECIALIST':{'id':_0x7550fe(0x8ec),'name':_0x7550fe(0xaf4),'description':_0x7550fe(0x37f),'icon':_0x7550fe(0x5a2)},'PERSEVERANCE':{'id':'perseverance','name':_0x7550fe(0x327),'description':_0x7550fe(0xad6),'icon':_0x7550fe(0xb63)}},firebaseConfig={'apiKey':_0x7550fe(0x66f),'authDomain':_0x7550fe(0x536),'projectId':'ai-quiz-app-aefee','storageBucket':_0x7550fe(0x478),'messagingSenderId':'274192258111','appId':_0x7550fe(0x1c7),'measurementId':_0x7550fe(0xb16)},appId=typeof __app_id!==_0x7550fe(0x838)?__app_id:_0x7550fe(0x935),adminView=document[_0x7550fe(0xb9f)](_0x7550fe(0x13a)),studentView=document['getElementById'](_0x7550fe(0xb39)),projectDashboardView=document['getElementById'](_0x7550fe(0xa49)),projectDetailView=document[_0x7550fe(0xb9f)](_0x7550fe(0x9e3)),quizResultsView=document['getElementById'](_0x7550fe(0x52c)),projectList=document['getElementById'](_0x7550fe(0x1bd)),noProjectsMsg=document['getElementById']('no-projects-msg'),projectTitle=document[_0x7550fe(0xb9f)]('project-title'),projectIdDisplay=document['getElementById'](_0x7550fe(0xa39)),studentList=document[_0x7550fe(0xb9f)](_0x7550fe(0xb92)),messageModal=document[_0x7550fe(0xb9f)](_0x7550fe(0x89c)),modalMessage=document[_0x7550fe(0xb9f)](_0x7550fe(0x5fc)),createProjectModal=document['getElementById'](_0x7550fe(0xa12)),adminPasswordModal=document[_0x7550fe(0xb9f)](_0x7550fe(0xbe8)),confirmationModal=document['getElementById']('confirmation-modal'),userIdDisplay=document['getElementById'](_0x7550fe(0x139)),topicTab=document['getElementById'](_0x7550fe(0x9e9)),textTab=document['getElementById'](_0x7550fe(0x5cd)),topicInputArea=document[_0x7550fe(0xb9f)](_0x7550fe(0x87d)),textInputArea=document['getElementById'](_0x7550fe(0x261)),manageTab=document[_0x7550fe(0xb9f)]('manage-tab'),resultsTab=document[_0x7550fe(0xb9f)](_0x7550fe(0x93d)),leaderboardTab=document[_0x7550fe(0xb9f)](_0x7550fe(0x85e)),manageTabContent=document[_0x7550fe(0xb9f)](_0x7550fe(0x375)),resultsTabContent=document[_0x7550fe(0xb9f)](_0x7550fe(0x645)),leaderboardTabContent=document[_0x7550fe(0xb9f)](_0x7550fe(0x276)),projectQuizzesList=document['getElementById'](_0x7550fe(0x6bf)),fileTab=document[_0x7550fe(0xb9f)](_0x7550fe(0x4a8)),fileInputArea=document[_0x7550fe(0xb9f)](_0x7550fe(0xb32)),fileUploadInput=document['getElementById'](_0x7550fe(0x341)),worksheetTab=document['getElementById'](_0x7550fe(0x3ba)),worksheetInputArea=document[_0x7550fe(0xb9f)](_0x7550fe(0x1e7)),generateWorksheetBtn=document[_0x7550fe(0xb9f)](_0x7550fe(0x8a6)),studentInitialView=document[_0x7550fe(0xb9f)](_0x7550fe(0x5fb)),studentNameSelectionView=document[_0x7550fe(0xb9f)]('student-name-selection-view'),studentQuizArea=document[_0x7550fe(0xb9f)](_0x7550fe(0xaf6)),studentResultArea=document[_0x7550fe(0xb9f)](_0x7550fe(0x904)),studentReadingArea=document[_0x7550fe(0xb9f)]('student-reading-area'),loadQuizBtn=document[_0x7550fe(0xb9f)](_0x7550fe(0x6d0)),startQuizBtn=document[_0x7550fe(0xb9f)](_0x7550fe(0x823)),studentJoinGameView=document[_0x7550fe(0xb9f)]('student-join-game-view'),presentationModal=document[_0x7550fe(0xb9f)](_0x7550fe(0x901)),renameQuizModal=document['getElementById'](_0x7550fe(0x58f)),moveQuizModal=document[_0x7550fe(0xb9f)](_0x7550fe(0xa58)),quizSettingsModal=document[_0x7550fe(0xb9f)](_0x7550fe(0x12f)),quizStatusModal=document['getElementById']('quiz-status-modal'),liveGameView=document[_0x7550fe(0xb9f)](_0x7550fe(0x237));function handleFixLessonLatex(){const _0x54b4a4=_0x7550fe,_0x30db1f=document[_0x54b4a4(0xb9f)]('lesson-view-content');if(!_0x30db1f){showMessage(_0x54b4a4(0x3cb));return;}const _0x238283=_0x30db1f[_0x54b4a4(0xb3b)]([_0x54b4a4(0x902),_0x54b4a4(0x3c8),_0x54b4a4(0x706),_0x54b4a4(0x908),_0x54b4a4(0x236)][_0x54b4a4(0x7fa)](','));let _0x16da03=0x0;const _0x2b8af0=_0x307995=>_0x307995[_0x54b4a4(0x33f)]||'',_0x360a25=(_0x33f949,_0xaa671a)=>{const _0x1961a3=_0x54b4a4;if(_0x33f949[_0x1961a3(0x2e7)]&&_0x33f949[_0x1961a3(0x2e7)](_0x1961a3(0x837)))return;_0x33f949[_0x1961a3(0x33f)]=_0xaa671a;},_0x115e18=_0x50dd01=>_0x50dd01[_0x54b4a4(0x38e)](/\u00A0/g,'\x20')[_0x54b4a4(0x38e)](/\u200B/g,'')[_0x54b4a4(0x38e)](/\r\n?/g,'\x0a'),_0x4ea2a3=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x182d8c=_0x1d8a95=>{const _0x8baca8=_0x54b4a4;let _0x2166d1=_0x1d8a95[_0x8baca8(0x9f3)]();const _0x3d0f83=[_0x8baca8(0x4ea),'dfrac',_0x8baca8(0x7bb),'sqrt',_0x8baca8(0x965),_0x8baca8(0x347),_0x8baca8(0xb05),_0x8baca8(0x93c),_0x8baca8(0x712),'geq','le','ge',_0x8baca8(0x7ae),'pm','approx','sin',_0x8baca8(0x153),_0x8baca8(0x3f6),'log','ln',_0x8baca8(0x64e),'prod',_0x8baca8(0x9de),'left',_0x8baca8(0x6f7),_0x8baca8(0x8f8),_0x8baca8(0x859),_0x8baca8(0x8c5),_0x8baca8(0xbc0)];_0x3d0f83[_0x8baca8(0x94f)](_0x18742e=>{const _0x2303b6=_0x8baca8;_0x2166d1=_0x2166d1['replace'](new RegExp(_0x2303b6(0x48f)+_0x18742e+'\x5cb','g'),(_0x43d874,_0x703b04)=>_0x703b04+'\x5c'+_0x18742e);});const _0x1207a1=[[/×/g,_0x8baca8(0x2d6)],[/·/g,_0x8baca8(0x767)],[/÷/g,_0x8baca8(0x5f3)],[/≤/g,_0x8baca8(0x2fe)],[/≥/g,_0x8baca8(0x378)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,_0x8baca8(0x7e4)],[/−/g,'-']];return _0x1207a1[_0x8baca8(0x94f)](([_0x490370,_0x2e1908])=>{_0x2166d1=_0x2166d1['replace'](_0x490370,_0x2e1908);}),_0x2166d1=_0x2166d1[_0x8baca8(0x38e)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x2166d1=_0x2166d1[_0x8baca8(0x38e)](/(\d+)\s*%/g,_0x8baca8(0x421)),_0x2166d1;},_0x2035be=_0x401fa5=>{const _0xdc62e4=_0x54b4a4;if(/\$|\\\(|\\\[/[_0xdc62e4(0x92d)](_0x401fa5))return _0x401fa5;if(!_0x4ea2a3['test'](_0x401fa5))return _0x401fa5;const _0x55939c=_0x401fa5[_0xdc62e4(0x897)](/^\s*/)[0x0],_0x1d5642=_0x401fa5[_0xdc62e4(0x897)](/\s*$/)[0x0],_0x5821a0=_0x401fa5[_0xdc62e4(0x9f3)]();return _0x55939c+'$'+_0x182d8c(_0x5821a0)+'$'+_0x1d5642;};_0x238283['forEach'](_0x26311c=>{const _0x366067=_0x54b4a4,_0x3e9c8b=_0x2b8af0(_0x26311c);let _0x552ff2=_0x115e18(_0x3e9c8b);_0x552ff2=_0x552ff2[_0x366067(0x38e)](/\$([^$]*?)\$/g,(_0x4a85fe,_0x19bb23)=>'$'+_0x182d8c(_0x19bb23)+'$');const _0x1d50a6=_0x552ff2['split'](/(\s+)/),_0x1bc96d=_0x1d50a6[_0x366067(0x25d)](_0x217c26=>{const _0x58d19f=_0x366067;if(/\s+/[_0x58d19f(0x92d)](_0x217c26))return _0x217c26;return _0x2035be(_0x217c26);});_0x552ff2=_0x1bc96d[_0x366067(0x7fa)](''),_0x552ff2!==_0x3e9c8b&&(_0x360a25(_0x26311c,_0x552ff2),_0x16da03++);});if(_0x16da03>0x0){showMessage(_0x54b4a4(0x163)+_0x16da03+_0x54b4a4(0x5d2));try{window[_0x54b4a4(0xa27)]&&MathJax[_0x54b4a4(0x806)]&&MathJax[_0x54b4a4(0x806)]([_0x30db1f]);}catch(_0xe6ede3){console[_0x54b4a4(0x930)]('MathJax\x20re-render\x20failed:',_0xe6ede3);}}else showMessage(_0x54b4a4(0x69e));}function handleAutoFixLatex(){const _0xdbb884=_0x7550fe,_0x1a7826=document[_0xdbb884(0xb9f)](_0xdbb884(0x9ed))||document,_0x14f8c6=_0x1a7826[_0xdbb884(0xb3b)](_0xdbb884(0x147));let _0x42e804=0x0;const _0x5b1f2f=_0x4cdcac=>_0xdbb884(0x6b0)in _0x4cdcac?String(_0x4cdcac[_0xdbb884(0x6b0)]):_0x4cdcac[_0xdbb884(0x94b)]!==undefined?_0x4cdcac['innerText']:_0x4cdcac[_0xdbb884(0x33f)]||'',_0x3866a9=(_0x14aea7,_0x2c93e8)=>{const _0x2309a1=_0xdbb884;if(_0x2309a1(0x6b0)in _0x14aea7){_0x14aea7[_0x2309a1(0x6b0)]=_0x2c93e8;return;}if(_0x14aea7[_0x2309a1(0x2e7)]&&_0x14aea7[_0x2309a1(0x2e7)](_0x2309a1(0x837)))return;if(_0x14aea7[_0x2309a1(0x94b)]!==undefined)_0x14aea7[_0x2309a1(0x94b)]=_0x2c93e8;else _0x14aea7[_0x2309a1(0x33f)]=_0x2c93e8;},_0x24bae5=_0x3ade64=>_0x3ade64[_0xdbb884(0x38e)](/\u00A0/g,'\x20')[_0xdbb884(0x38e)](/\u200B/g,'')[_0xdbb884(0x38e)](/\r\n?/g,'\x0a'),_0x5575ed=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x248636=_0x273182=>{const _0x145035=_0xdbb884;let _0x5deaba=_0x273182[_0x145035(0x9f3)]();_0x5deaba=_0x5deaba[_0x145035(0x38e)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x5deaba=_0x5deaba[_0x145035(0x38e)](/\bfrac(\d)(\d)/g,_0x145035(0x654));const _0x2e7e72=[_0x145035(0x4ea),'sqrt',_0x145035(0x347),'cdot','div','leq','geq',_0x145035(0x7ae),'pm',_0x145035(0x9a7),'cos',_0x145035(0x3f6),'log','ln'];_0x2e7e72['forEach'](_0x13de2d=>{const _0x701121=_0x145035;_0x5deaba=_0x5deaba[_0x701121(0x38e)](new RegExp(_0x701121(0x48f)+_0x13de2d+'\x5cb','g'),(_0x2f4cd9,_0xcc5732)=>_0xcc5732+'\x5c'+_0x13de2d);});const _0x58b4e3=[[/×/g,_0x145035(0x2d6)],[/·/g,_0x145035(0x767)],[/÷/g,'\x5cdiv'],[/≤/g,_0x145035(0x2fe)],[/≥/g,_0x145035(0x378)],[/≠/g,'\x5cneq'],[/±/g,_0x145035(0x28c)]];return _0x58b4e3[_0x145035(0x94f)](([_0x10ecbe,_0x2c861])=>{const _0x267725=_0x145035;_0x5deaba=_0x5deaba[_0x267725(0x38e)](_0x10ecbe,_0x2c861);}),_0x5deaba;},_0x3705d2=_0x4704f2=>{const _0x36423e=_0xdbb884;if(/\$|\\\(|\\\[/[_0x36423e(0x92d)](_0x4704f2))return _0x4704f2;if(!_0x5575ed[_0x36423e(0x92d)](_0x4704f2))return _0x4704f2;const _0x57a029=_0x4704f2[_0x36423e(0x897)](/^\s*/)[0x0],_0x3dec2f=_0x4704f2[_0x36423e(0x897)](/\s*$/)[0x0],_0x1263ff=_0x4704f2[_0x36423e(0x9f3)]();return _0x57a029+'$'+_0x248636(_0x1263ff)+'$'+_0x3dec2f;};_0x14f8c6[_0xdbb884(0x94f)](_0x225adf=>{const _0x32783a=_0xdbb884,_0x4ee19c=_0x5b1f2f(_0x225adf);let _0x3b621e=_0x24bae5(_0x4ee19c);_0x3b621e=_0x3b621e[_0x32783a(0x38e)](/\$([^$]*?)\$/g,(_0x295136,_0x48a50a)=>'$'+_0x248636(_0x48a50a)+'$');const _0x31b325=_0x3b621e[_0x32783a(0x735)](/(\s+)/),_0x415926=_0x31b325['map'](_0x5bc7d0=>/\s+/[_0x32783a(0x92d)](_0x5bc7d0)?_0x5bc7d0:_0x3705d2(_0x5bc7d0));_0x3b621e=_0x415926['join'](''),_0x3b621e!==_0x4ee19c&&(_0x3866a9(_0x225adf,_0x3b621e),_0x42e804++);});if(_0x42e804>0x0){showMessage(_0xdbb884(0x8cc)+_0x42e804+_0xdbb884(0x21a));try{if(window['MathJax']&&MathJax[_0xdbb884(0x806)])MathJax[_0xdbb884(0x806)]();}catch(_0x37cfde){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x531eb0=_0x7550fe,_0x5cbd7c=collection(db,_0x531eb0(0x3dc)+appId+_0x531eb0(0xa5f));onSnapshot(_0x5cbd7c,_0x43ed6a=>{const _0x3127ef=_0x531eb0;customMathTopics=_0x43ed6a[_0x3127ef(0x68e)]['map'](_0x407c8f=>({'id':_0x407c8f['id'],..._0x407c8f['data']()})),renderTopicCheckboxes();},_0x2ed822=>{console['error']('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x2ed822);});}function handleSelectAllTopics(){const _0x506c3a=_0x7550fe,_0x5ec836=document[_0x506c3a(0xb9f)](_0x506c3a(0x184)),_0x2db20b=_0x5ec836[_0x506c3a(0xb3b)](_0x506c3a(0x3ef));_0x2db20b[_0x506c3a(0x94f)](_0x28cd50=>{const _0x285c94=_0x506c3a;_0x28cd50[_0x285c94(0x20e)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4b386c=_0x7550fe,_0x247c94=document['getElementById'](_0x4b386c(0x184)),_0x5b9e72=_0x247c94[_0x4b386c(0xb3b)]('input[type=\x22checkbox\x22]');_0x5b9e72[_0x4b386c(0x94f)](_0x502b1d=>{const _0x123f44=_0x4b386c;_0x502b1d[_0x123f44(0x20e)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x22cf89){const _0xbfeec=_0x7550fe;if(!_0x22cf89)return;try{const _0x15588f=doc(db,_0xbfeec(0x3dc)+appId+_0xbfeec(0xa5f),_0x22cf89);await deleteDoc(_0x15588f),showMessage(_0xbfeec(0xaf8));}catch(_0x412743){console[_0xbfeec(0x930)](_0xbfeec(0xbb5),_0x412743),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x47d21f=_0x7550fe,_0x4765cb=document[_0x47d21f(0xb9f)](_0x47d21f(0x239)),_0x3bb2df=_0x4765cb[_0x47d21f(0x6b0)][_0x47d21f(0x9f3)]();if(!_0x3bb2df){showMessage(_0x47d21f(0x580));return;}if(!userId){showMessage(_0x47d21f(0x576));return;}try{const _0x2982e2=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');await addDoc(_0x2982e2,{'name':_0x3bb2df,'createdAt':serverTimestamp()}),_0x4765cb[_0x47d21f(0x6b0)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x3bb2df+'\x22\x20สำเร็จ');}catch(_0x36d1b3){console[_0x47d21f(0x930)](_0x47d21f(0x4f7),_0x36d1b3),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x52f1e4=_0x7550fe;showConfirmation(_0x52f1e4(0x8ea),async()=>{const _0x2f1713=_0x52f1e4,_0x8abc6c=document[_0x2f1713(0xb9f)]('loader'),_0x1f8ac1=document['getElementById'](_0x2f1713(0x58c)),_0x557069=_0x1f8ac1['textContent'];_0x8abc6c[_0x2f1713(0x5f6)][_0x2f1713(0x309)](_0x2f1713(0x3c0)),_0x1f8ac1[_0x2f1713(0x33f)]=_0x2f1713(0x256);try{const _0x2e6094=collection(db,'artifacts/'+appId+_0x2f1713(0x7a5)),_0x231791=await getDocs(_0x2e6094);if(_0x231791[_0x2f1713(0x8d2)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x58f5f8=writeBatch(db);let _0x36acec=0x0;_0x231791[_0x2f1713(0x94f)](_0x2e198e=>{const _0x1ef404=_0x2f1713,_0xd2c711=_0x2e198e['data'](),_0x37be3c=_0x2e198e['id'];if(_0xd2c711['questions']&&_0xd2c711[_0x1ef404(0x5c2)][_0x1ef404(0x384)]>0x0&&!_0xd2c711[_0x1ef404(0x5c2)][0x0][_0x1ef404(0x5ab)]('id')){console[_0x1ef404(0xbf7)](_0x1ef404(0xbce)+_0x37be3c+'\x20('+_0xd2c711[_0x1ef404(0xb1c)]+')'),_0x36acec++;const _0x36c1ae=_0xd2c711[_0x1ef404(0x5c2)]['map']((_0x555575,_0x58e738)=>{const _0x319c01=_0x1ef404;return{..._0x555575,'id':_0x555575['id']||'q_'+Date[_0x319c01(0x711)]()+'_'+_0x37be3c+'_'+_0x58e738};}),_0xc3e0b5=doc(db,_0x1ef404(0x3dc)+appId+_0x1ef404(0x7a5),_0x37be3c);_0x58f5f8[_0x1ef404(0x533)](_0xc3e0b5,{'questions':_0x36c1ae});}}),_0x36acec>0x0?(_0x1f8ac1['textContent']=_0x2f1713(0x5b5)+_0x36acec+'\x20รายการ...',await _0x58f5f8[_0x2f1713(0x24d)](),showMessage(_0x2f1713(0x19d)+_0x36acec+_0x2f1713(0xb71))):showMessage(_0x2f1713(0x95a));}catch(_0x33fa6f){console[_0x2f1713(0x930)](_0x2f1713(0xbec),_0x33fa6f),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x33fa6f['message']);}finally{_0x8abc6c['classList'][_0x2f1713(0x314)]('hidden'),_0x1f8ac1[_0x2f1713(0x33f)]=_0x557069;}});}async function handleBulkUpdateQuizSettings(){const _0x2f42fa=_0x7550fe,_0x18ee9b={'shuffle':document[_0x2f42fa(0xb9f)](_0x2f42fa(0x60f))[_0x2f42fa(0x6b0)],'resultsDisplay':document[_0x2f42fa(0xb9f)](_0x2f42fa(0xb58))[_0x2f42fa(0x6b0)],'loopUntilPass':document['getElementById'](_0x2f42fa(0x6c2))[_0x2f42fa(0x20e)],'isConfidenceScoringEnabled':document['getElementById']('bulk-confidence-scoring-checkbox')[_0x2f42fa(0x20e)],'confidenceMode':document[_0x2f42fa(0xb9f)](_0x2f42fa(0xb84))[_0x2f42fa(0x6b0)]};try{showMessage(_0x2f42fa(0x3b8));const _0xdb4329=await getDocs(collection(db,_0x2f42fa(0x3dc)+appId+_0x2f42fa(0x7a5))),_0x30376f=_0xdb4329[_0x2f42fa(0x68e)][_0x2f42fa(0x25d)](_0x156f06=>({'id':_0x156f06['id'],'data':_0x156f06[_0x2f42fa(0xaf1)]()})),_0x588b93=_0x30376f[_0x2f42fa(0x384)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x588b93+_0x2f42fa(0x600),async()=>{const _0x2b1eca=_0x2f42fa,_0x525100=document[_0x2b1eca(0xb9f)](_0x2b1eca(0x91b));_0x525100[_0x2b1eca(0xa75)]=!![],_0x525100[_0x2b1eca(0x215)]=_0x2b1eca(0x99d);try{const _0x388212=writeBatch(db);_0x30376f[_0x2b1eca(0x94f)](_0x86c2d=>{const _0x4fced7=_0x2b1eca,_0x235915=doc(db,_0x4fced7(0x3dc)+appId+_0x4fced7(0x7a5),_0x86c2d['id']),_0x508925={..._0x86c2d['data']['settings']||{},..._0x18ee9b};_0x388212[_0x4fced7(0x533)](_0x235915,{'settings':_0x508925});}),await _0x388212[_0x2b1eca(0x24d)](),document['getElementById']('bulk-quiz-settings-modal')[_0x2b1eca(0x5f6)]['add'](_0x2b1eca(0x3c0)),showMessage(_0x2b1eca(0x883)+_0x588b93+_0x2b1eca(0xbe1));}catch(_0x1a7e87){console[_0x2b1eca(0x930)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x1a7e87),showMessage(_0x2b1eca(0x6b1));}finally{_0x525100[_0x2b1eca(0xa75)]=![],_0x525100['innerHTML']=_0x2b1eca(0x975);}});}catch(_0x3fe091){console[_0x2f42fa(0x930)](_0x2f42fa(0x5ea),_0x3fe091),showMessage(_0x2f42fa(0xbab));}}async function handleSaveProjectName(){const _0x318942=_0x7550fe,_0x572c29=document['getElementById'](_0x318942(0x58e)),_0x524571=document[_0x318942(0xb9f)](_0x318942(0xa84)),_0x500dba=_0x572c29['textContent'][_0x318942(0x9f3)]();if(!_0x500dba||!currentProjectId){showMessage(_0x318942(0x958)),_0x572c29[_0x318942(0x33f)]=currentProjectData[_0x318942(0x7aa)];return;}_0x524571[_0x318942(0xa75)]=!![],_0x524571[_0x318942(0x215)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x40c2ee=doc(db,_0x318942(0x3dc)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x40c2ee,{'projectName':_0x500dba}),currentProjectData&&(currentProjectData[_0x318942(0x7aa)]=_0x500dba),showMessage(_0x318942(0x1e9));}catch(_0x23c7f0){console[_0x318942(0x930)](_0x318942(0x479),_0x23c7f0),showMessage(_0x318942(0xac8)),_0x572c29[_0x318942(0x33f)]=currentProjectData[_0x318942(0x7aa)];}finally{_0x524571[_0x318942(0x5f6)]['add']('hidden'),_0x524571[_0x318942(0xa75)]=![],_0x524571['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x3221bc,_0xb063f4){const _0x2e4707=_0x7550fe,_0x2a2cac=document['getElementById'](_0x2e4707(0x7a1)),_0x3d8b4d=document[_0x2e4707(0xb9f)](_0x2e4707(0x9bc)),_0x325564=document['getElementById'](_0x2e4707(0xa52)),_0x1bbb82=document[_0x2e4707(0xb9f)](_0x2e4707(0x6a2));_0x3d8b4d[_0x2e4707(0x33f)]=_0x2e4707(0x511)+_0x3221bc,_0x1bbb82[_0x2e4707(0x5f6)][_0x2e4707(0x314)](_0x2e4707(0x3c0)),_0x325564['classList'][_0x2e4707(0x309)](_0x2e4707(0x3c0)),_0x2a2cac[_0x2e4707(0x5f6)][_0x2e4707(0x309)](_0x2e4707(0x3c0)),generatePracticeTest(_0x3221bc,_0xb063f4)['catch'](_0x4e4a49=>{const _0x3f1298=_0x2e4707;console[_0x3f1298(0x930)](_0x3f1298(0x8f6),_0x4e4a49),showMessage(_0x3f1298(0x255)),_0x2a2cac[_0x3f1298(0x5f6)]['add'](_0x3f1298(0x3c0));});}async function generatePracticeTest(_0x591c8c,_0x1f745b){const _0x31d503=_0x7550fe;[_0x31d503(0x42c),_0x31d503(0x35a),_0x31d503(0x733),_0x31d503(0x64b)]['forEach'](_0x1e8d1a=>{const _0x1c9d12=_0x31d503,_0x304670=document[_0x1c9d12(0xb9f)](_0x1e8d1a)['parentElement'];_0x304670&&(_0x304670[_0x1c9d12(0x2a3)][_0x1c9d12(0x9d2)]=_0x1c9d12(0x30f));});try{const _0x23c16a=_0x31d503(0x6af),_0x1aa6a1=_0x31d503(0x7cc)+_0x1f745b+'\x27\x20ในหัวข้อ\x20\x27'+_0x591c8c+_0x31d503(0x7df),_0x456e36=await callGemini(_0x1aa6a1,!![]),_0x10cc16=document[_0x31d503(0xb9f)](_0x31d503(0x9bc)),_0x3ad523=document[_0x31d503(0xb9f)](_0x31d503(0xa52)),_0x565fd6=document['getElementById'](_0x31d503(0x6a2)),_0x1512dd=document['getElementById'](_0x31d503(0x733))[_0x31d503(0x12a)];_0x10cc16['innerText']=_0x31d503(0x36a)+_0x591c8c[_0x31d503(0x38e)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x1f745b+')',currentApplicationData=JSON[_0x31d503(0x59b)](_0x456e36);const _0x2d410c=document[_0x31d503(0xb9f)](_0x31d503(0x733));_0x2d410c[_0x31d503(0x215)]=currentApplicationData[_0x31d503(0x25d)]((_0x2e960a,_0x4ba133)=>_0x31d503(0xa64)+(_0x4ba133+0x1)+'.\x20'+marked[_0x31d503(0xacd)](_0x2e960a['question'])+_0x31d503(0xa43)+_0x4ba133+_0x31d503(0xbc5)+_0x2e960a[_0x31d503(0xbe2)][_0x31d503(0x25d)]((_0x166099,_0x511f08)=>_0x31d503(0xacc)+_0x4ba133+',\x20'+_0x511f08+_0x31d503(0xadf)+String[_0x31d503(0x1f7)](0x61+_0x511f08)+'.\x20'+marked[_0x31d503(0xacd)](_0x166099)+_0x31d503(0x246))['join']('')+_0x31d503(0x4d9))[_0x31d503(0x7fa)](''),window[_0x31d503(0xa27)]&&MathJax[_0x31d503(0x806)]([_0x2d410c]),_0x1512dd&&(_0x1512dd[_0x31d503(0x2a3)]['display']=_0x31d503(0x323)),_0x3ad523['classList'][_0x31d503(0x314)](_0x31d503(0x3c0)),_0x565fd6[_0x31d503(0x5f6)][_0x31d503(0x309)](_0x31d503(0x3c0));}catch(_0x4a00e0){console['error'](_0x4a00e0);throw _0x4a00e0;}}async function callGemini(_0xe23bfd,_0x43a3b5=![]){const _0x1a01aa=_0x7550fe,_0x123133=_0x1a01aa(0xab8),_0x522be7=_0x1a01aa(0xb2c)+_0x123133,_0x4171cf={'contents':[{'parts':[{'text':_0xe23bfd}]}]};_0x43a3b5&&(_0x4171cf[_0x1a01aa(0x89e)]={'responseMimeType':_0x1a01aa(0x9dc)},_0xe23bfd[_0x1a01aa(0x6b7)](_0x1a01aa(0x705))?_0x4171cf[_0x1a01aa(0x89e)][_0x1a01aa(0xb2e)]={'type':_0x1a01aa(0xa05),'properties':{'gradeLevel':{'type':_0x1a01aa(0x9c9)},'curriculum':{'type':_0x1a01aa(0x5fd),'items':{'type':_0x1a01aa(0xa05),'properties':{'sara':{'type':_0x1a01aa(0x9c9)},'mainTopics':{'type':'ARRAY','items':{'type':_0x1a01aa(0xa05),'properties':{'topicName':{'type':_0x1a01aa(0x9c9)},'subTopics':{'type':_0x1a01aa(0x5fd),'items':{'type':_0x1a01aa(0x9c9)}}},'required':[_0x1a01aa(0xa70),_0x1a01aa(0xb43)]}}},'required':[_0x1a01aa(0x5ee),_0x1a01aa(0x61d)]}}},'required':['gradeLevel',_0x1a01aa(0x36f)]}:_0x4171cf[_0x1a01aa(0x89e)][_0x1a01aa(0xb2e)]={'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x1a01aa(0x9c9)},'options':{'type':_0x1a01aa(0x5fd),'items':{'type':_0x1a01aa(0x9c9)}},'answer':{'type':'NUMBER'}},'required':[_0x1a01aa(0x8f0),_0x1a01aa(0xbe2),_0x1a01aa(0x929)]}});try{const _0x3ac73b=await fetch(_0x522be7,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x4171cf)});if(!_0x3ac73b['ok']){const _0x494f5d=await _0x3ac73b['text']();console['error'](_0x1a01aa(0x143),_0x494f5d);throw new Error(_0x1a01aa(0x1d1)+_0x3ac73b[_0x1a01aa(0x78a)]);}const _0x5443dd=await _0x3ac73b[_0x1a01aa(0x21c)]();if(_0x5443dd[_0x1a01aa(0x6ef)]&&_0x5443dd['candidates'][0x0]['content']&&_0x5443dd[_0x1a01aa(0x6ef)][0x0]['content'][_0x1a01aa(0xbef)][0x0])return _0x5443dd[_0x1a01aa(0x6ef)][0x0]['content'][_0x1a01aa(0xbef)][0x0][_0x1a01aa(0x965)];else{console['error'](_0x1a01aa(0xb24),_0x5443dd);if(_0x5443dd[_0x1a01aa(0x6ef)]&&_0x5443dd[_0x1a01aa(0x6ef)][0x0]['finishReason']==='SAFETY')return JSON[_0x1a01aa(0x356)]({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error(_0x1a01aa(0x5cf));}}catch(_0x3ae024){console[_0x1a01aa(0x930)](_0x1a01aa(0xbbe),_0x3ae024);throw _0x3ae024;}}async function generateLesson(_0x30981c=null,_0x29dfa3=null){const _0x433e2b=_0x7550fe,_0x346aea=_0x30981c,_0x4dff09=_0x29dfa3||'ไม่ระบุ',_0x5b46b9=document['getElementById'](_0x433e2b(0xa52)),_0x40bd8b=document[_0x433e2b(0xb9f)](_0x433e2b(0x494));_0x40bd8b['textContent']=_0x433e2b(0xbe7)+_0x346aea+_0x433e2b(0x9ef);try{const _0x4c9ddb=_0x433e2b(0xbdf),_0x3515b6=_0x433e2b(0x367)+_0x4dff09+_0x433e2b(0xae7)+_0x346aea+_0x433e2b(0xbcb)+_0x4c9ddb+_0x433e2b(0x4fb),_0x360f41='สำหรับหัวข้อ\x20\x27'+_0x346aea+_0x433e2b(0x2ef)+_0x4dff09+_0x433e2b(0x828)+_0x4c9ddb+_0x433e2b(0xa81),_0x48faff=_0x433e2b(0x7cc)+_0x4dff09+_0x433e2b(0xae7)+_0x346aea+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0xbca360=_0x433e2b(0x5ff)+_0x346aea+_0x433e2b(0x1f4)+_0x4dff09+_0x433e2b(0x4c1)+_0x4c9ddb+_0x433e2b(0xade),[_0x3831af,_0xad90aa,_0x589ecb,_0x546bf5]=await Promise[_0x433e2b(0xa9e)]([callGemini(_0x3515b6),callGemini(_0x360f41),callGemini(_0x48faff,!![]),callGemini(_0xbca360)]),_0x8b88f0=document['getElementById'](_0x433e2b(0x9bc)),_0x4d698d=document[_0x433e2b(0xb9f)]('lesson-sections-container');_0x8b88f0[_0x433e2b(0x94b)]='บทเรียนเรื่อง:\x20'+_0x346aea[_0x433e2b(0x38e)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x4dff09+')',['pointContent',_0x433e2b(0x35a),_0x433e2b(0x64b)][_0x433e2b(0x94f)](_0x50d611=>{const _0x3532e7=_0x433e2b;document[_0x3532e7(0xb9f)](_0x50d611)[_0x3532e7(0x215)]='';}),document[_0x433e2b(0xb9f)](_0x433e2b(0x42c))[_0x433e2b(0x215)]=marked[_0x433e2b(0x59b)](_0x3831af),document[_0x433e2b(0xb9f)](_0x433e2b(0x35a))['innerHTML']=marked[_0x433e2b(0x59b)](_0xad90aa),document[_0x433e2b(0xb9f)](_0x433e2b(0x64b))[_0x433e2b(0x215)]=marked[_0x433e2b(0x59b)](_0x546bf5),currentApplicationData=JSON[_0x433e2b(0x59b)](_0x589ecb);const _0x5a02a9=document[_0x433e2b(0xb9f)]('applicationContent');_0x5a02a9[_0x433e2b(0x215)]=currentApplicationData[_0x433e2b(0x25d)]((_0x48f028,_0x459202)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x459202+0x1)+'.\x20'+marked['parseInline'](_0x48f028[_0x433e2b(0x8f0)])+_0x433e2b(0xa43)+_0x459202+_0x433e2b(0xbc5)+_0x48f028[_0x433e2b(0xbe2)][_0x433e2b(0x25d)]((_0x440855,_0x168c3a)=>_0x433e2b(0xacc)+_0x459202+',\x20'+_0x168c3a+')\x22>'+String[_0x433e2b(0x1f7)](0x61+_0x168c3a)+'.\x20'+marked[_0x433e2b(0xacd)](_0x440855)+_0x433e2b(0x246))[_0x433e2b(0x7fa)]('')+_0x433e2b(0x4d9))[_0x433e2b(0x7fa)](''),window['MathJax']&&MathJax[_0x433e2b(0x806)]([_0x4d698d]),_0x5b46b9[_0x433e2b(0x5f6)][_0x433e2b(0x314)](_0x433e2b(0x3c0)),_0x4d698d[_0x433e2b(0x5f6)][_0x433e2b(0x309)](_0x433e2b(0x3c0));}catch(_0x3cbf89){console[_0x433e2b(0x930)](_0x3cbf89);throw _0x3cbf89;}finally{}}function checkAnswer(_0x47cba5,_0x44de71){const _0x34a6e3=_0x7550fe,_0x499482=currentApplicationData[_0x47cba5],_0x196925=document[_0x34a6e3(0xb9f)]('q'+_0x47cba5+_0x34a6e3(0x714)),_0x54bbef=_0x196925[_0x34a6e3(0x5ad)](_0x34a6e3(0x326));for(let _0x2e365f of _0x54bbef){_0x2e365f[_0x34a6e3(0xa75)]=!![];}_0x44de71===_0x499482[_0x34a6e3(0x929)]?_0x54bbef[_0x44de71]['classList'][_0x34a6e3(0x314)](_0x34a6e3(0xb0c)):(_0x54bbef[_0x44de71]['classList'][_0x34a6e3(0x314)](_0x34a6e3(0x603)),_0x54bbef[_0x499482[_0x34a6e3(0x929)]]['classList'][_0x34a6e3(0x314)]('correct'));}window[_0x7550fe(0x963)]=handleGenerateAndShowLesson,window[_0x7550fe(0x69b)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window[_0x7550fe(0x251)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x2ceebf=_0x7550fe;try{const _0x112b4d=initializeApp(firebaseConfig);db=getFirestore(_0x112b4d),auth=getAuth(_0x112b4d),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x92ea5a){console[_0x2ceebf(0x930)]('Firebase\x20initialization\x20failed:',_0x92ea5a),showMessage(_0x2ceebf(0x2f6));}}async function handleVerifyAnswersInEditor(){const _0x33283b=_0x7550fe,_0x135bbf=document[_0x33283b(0xb9f)](_0x33283b(0x69d));if(!_0x135bbf)return;const _0x4decd7=document[_0x33283b(0xb9f)](_0x33283b(0x4e4));_0x4decd7[_0x33283b(0xa75)]=!![],_0x4decd7['innerHTML']=_0x33283b(0xb67);try{const _0x299d7c=_0x135bbf[_0x33283b(0xb3b)](_0x33283b(0x80c)),_0x38fce7=Array[_0x33283b(0x850)](_0x299d7c)['map']((_0x1c1ce1,_0x83787c)=>{const _0x13e403=_0x33283b,_0xc60a28=_0x1c1ce1[_0x13e403(0xb7f)]['qType'],_0x29cd31=_0x1c1ce1['querySelector']('textarea')['value'];let _0x2bdcd4=null,_0x5d122c='';switch(_0xc60a28){case _0x13e403(0x81c):const _0x407ff2=_0x1c1ce1[_0x13e403(0xb3b)]('input[type=\x22text\x22]');_0x2bdcd4=Array[_0x13e403(0x850)](_0x407ff2)['map'](_0xf0548b=>_0xf0548b[_0x13e403(0x6b0)]);const _0xac39bb=_0x1c1ce1[_0x13e403(0x2e7)](_0x13e403(0x217));_0xac39bb&&(_0x5d122c=_0x2bdcd4[parseInt(_0xac39bb[_0x13e403(0x6b0)])]);break;case _0x13e403(0xaf9):_0x5d122c=_0x1c1ce1[_0x13e403(0x2e7)](_0x13e403(0x193))[_0x13e403(0x6b0)];break;case'true_false':const _0x21f581=_0x1c1ce1['querySelector'](_0x13e403(0x217));_0x5d122c=_0x21f581?_0x21f581[_0x13e403(0x6b0)]:'';break;case'matching_item':_0x5d122c=_0x1c1ce1[_0x13e403(0x2e7)](_0x13e403(0x32f))[_0x13e403(0x6b0)];break;}return{'question':_0x29cd31,'options':_0x2bdcd4,'proposedAnswer':_0x5d122c};}),_0x30b388='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x33283b(0x356)](_0x38fce7)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x186cde={'type':'ARRAY','items':{'type':_0x33283b(0xa05),'properties':{'questionIndex':{'type':_0x33283b(0x234)},'isCorrect':{'type':_0x33283b(0x97c)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x33283b(0x9c9)}},'required':[_0x33283b(0x591),_0x33283b(0x8c1),_0x33283b(0x54f)]}},_0x23b5b1=await callAnalysisApi(_0x30b388,{'type':_0x33283b(0xa05),'properties':{'result':_0x186cde},'required':[_0x33283b(0x7e3)]});displayVerificationResultsInEditor(_0x23b5b1['result']);}catch(_0x51a126){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x51a126),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x4decd7[_0x33283b(0xa75)]=![],_0x4decd7[_0x33283b(0x215)]=_0x33283b(0x5c3);}}function displayVerificationResultsInEditor(_0x52cd46){const _0x579932=_0x7550fe;_0x52cd46[_0x579932(0x94f)](_0x26a4fc=>{const _0x3e70d7=_0x579932,_0x3a9895=document[_0x3e70d7(0x2e7)](_0x3e70d7(0x57f)+_0x26a4fc['questionIndex']+'\x22]');if(!_0x3a9895)return;const _0x15d618=_0x3a9895[_0x3e70d7(0x2e7)](_0x3e70d7(0x436));if(_0x15d618)_0x15d618['remove']();let _0x1f8efc='';if(_0x26a4fc['isCorrect'])_0x1f8efc=_0x3e70d7(0x235);else{const _0x5b6f88=_0x26a4fc[_0x3e70d7(0x6bc)]?_0x3e70d7(0x72f):'';_0x1f8efc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x5b6f88+_0x3e70d7(0x635)+_0x26a4fc[_0x3e70d7(0x54f)]+_0x3e70d7(0x854)+(_0x26a4fc['suggestedAnswer']?_0x3e70d7(0x19e)+_0x26a4fc[_0x3e70d7(0x6bc)]+_0x3e70d7(0x658):'')+_0x3e70d7(0x42b);}_0x3a9895[_0x3e70d7(0x6db)](_0x3e70d7(0x40e),_0x1f8efc);if(!_0x26a4fc['isCorrect']&&_0x26a4fc[_0x3e70d7(0x6bc)]){const _0x2df816=_0x3a9895['dataset']['qType'],_0x3fda4f=_0x9cdf82=>{const _0x206706=_0x3e70d7;if(!_0x9cdf82)return;_0x9cdf82[_0x206706(0x5f6)]['add'](_0x206706(0x9a9),_0x206706(0x3f0),_0x206706(0x6ae)),setTimeout(()=>{const _0x32042f=_0x206706;_0x9cdf82[_0x32042f(0x5f6)][_0x32042f(0x309)](_0x32042f(0x9a9));},0x9c4);};if(_0x2df816===_0x3e70d7(0x81c)){const _0xde9842=Array[_0x3e70d7(0x850)](_0x3a9895[_0x3e70d7(0xb3b)](_0x3e70d7(0x65f))),_0xc2c21e=_0xde9842[_0x3e70d7(0x878)](_0x21120c=>_0x21120c[_0x3e70d7(0x6b0)]['trim']()[_0x3e70d7(0x402)]()===_0x26a4fc[_0x3e70d7(0x6bc)]['trim']()[_0x3e70d7(0x402)]());if(_0xc2c21e!==-0x1){const _0xb1d825=_0x3a9895[_0x3e70d7(0x2e7)](_0x3e70d7(0x8b7)+_0xc2c21e+'\x22]');_0xb1d825&&(_0xb1d825[_0x3e70d7(0x20e)]=!![],_0x3fda4f(_0xb1d825['closest'](_0x3e70d7(0x93c))));}}else{if(_0x2df816===_0x3e70d7(0xaf9)||_0x2df816===_0x3e70d7(0x370)){const _0x9f02f0=_0x3a9895[_0x3e70d7(0x2e7)](_0x3e70d7(0x673));_0x9f02f0&&(_0x9f02f0[_0x3e70d7(0x6b0)]=_0x26a4fc[_0x3e70d7(0x6bc)],_0x3fda4f(_0x9f02f0));}else{if(_0x2df816===_0x3e70d7(0x728)){const _0x422355=_0x26a4fc[_0x3e70d7(0x6bc)][_0x3e70d7(0x9f3)]()['toLowerCase'](),_0x20cae4=_0x3a9895[_0x3e70d7(0x2e7)](_0x3e70d7(0x8b7)+_0x422355+'\x22]');_0x20cae4&&(_0x20cae4[_0x3e70d7(0x20e)]=!![],_0x3fda4f(_0x20cae4[_0x3e70d7(0x849)]('div')));}}}}}),showMessage(_0x579932(0xb65));}async function handleVerifyAnswers(){const _0x230143=_0x7550fe;if(!currentQuizData||!currentQuizData[_0x230143(0x5c2)]){showMessage(_0x230143(0x677));return;}const _0x13f45d=document[_0x230143(0xb9f)]('verify-answers-btn');_0x13f45d[_0x230143(0xa75)]=!![],_0x13f45d[_0x230143(0x215)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0xcfa522=currentQuizData['questions'][_0x230143(0x25d)]((_0x3afbaa,_0x2d8148)=>{const _0x1496a4=_0x230143;let _0xc20a6e='';const _0xb66c9a=_0x3afbaa[_0x1496a4(0x92a)]||currentQuizData[_0x1496a4(0x874)];switch(_0xb66c9a){case'multiple_choice':_0xc20a6e=_0x3afbaa['options'][_0x3afbaa[_0x1496a4(0x30b)]];break;case _0x1496a4(0xaf9):_0xc20a6e=_0x3afbaa[_0x1496a4(0xa33)];break;case'true_false':_0xc20a6e=_0x3afbaa['correctAnswer']['toString']();break;case _0x1496a4(0x370):_0xc20a6e=_0x3afbaa[_0x1496a4(0xa8d)];break;}return{'question':_0x3afbaa[_0x1496a4(0x4b6)]||_0x3afbaa[_0x1496a4(0x653)],'options':_0x3afbaa[_0x1496a4(0xbe2)]||null,'proposedAnswer':_0xc20a6e};}),_0x11088e=_0x230143(0xb7b)+JSON[_0x230143(0x356)](_0xcfa522)+_0x230143(0x28a),_0x22c9cb={'type':'ARRAY','items':{'type':_0x230143(0xa05),'properties':{'questionIndex':{'type':_0x230143(0x234)},'isCorrect':{'type':_0x230143(0x97c)},'justification':{'type':_0x230143(0x9c9)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex','isCorrect','justification']}},_0x140235=await callAnalysisApi(_0x11088e,{'type':_0x230143(0xa05),'properties':{'result':_0x22c9cb},'required':[_0x230143(0x7e3)]});displayVerificationResults(_0x140235['result']);}catch(_0xb56dc1){console['error'](_0x230143(0xa97),_0xb56dc1),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x13f45d['disabled']=![],_0x13f45d[_0x230143(0x215)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x5411fc){const _0x481576=_0x7550fe;_0x5411fc[_0x481576(0x94f)](_0x29ab9a=>{const _0x3a489b=_0x481576,_0x2b94fd=document['querySelector']('div[data-question-index=\x22'+_0x29ab9a[_0x3a489b(0x591)]+'\x22]');if(_0x2b94fd){const _0x2230d0=_0x2b94fd['querySelector']('.verification-result');if(_0x2230d0)_0x2230d0[_0x3a489b(0x309)]();let _0x53949f='';_0x29ab9a['isCorrect']?_0x53949f=_0x3a489b(0x4b1):_0x53949f=_0x3a489b(0x892)+_0x29ab9a[_0x3a489b(0x54f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x29ab9a[_0x3a489b(0x6bc)]?_0x3a489b(0x19e)+_0x29ab9a['suggestedAnswer']+_0x3a489b(0x658):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2b94fd['insertAdjacentHTML'](_0x3a489b(0x40e),_0x53949f);}}),showMessage(_0x481576(0xb65));}function compareNumericalAnswers(_0x29e6c8,_0x55870d){const _0x461033=_0x7550fe,_0x5f1251=String(_0x29e6c8)[_0x461033(0x38e)](',','.')[_0x461033(0x38e)](/[^\d.-]/g,'')['trim'](),_0x326252=String(_0x55870d)[_0x461033(0x38e)](',','.')['replace'](/[^\d.-]/g,'')[_0x461033(0x9f3)]();if(_0x5f1251===''||_0x326252==='')return![];const _0x182677=parseFloat(_0x5f1251),_0x45c078=parseFloat(_0x326252);if(isNaN(_0x182677)||isNaN(_0x45c078))return![];return Math[_0x461033(0x5d0)](_0x182677-_0x45c078)<0.001;}function isPotentiallyNumeric(_0x21a25d){const _0x349aeb=_0x7550fe;if(typeof _0x21a25d!=='string'&&typeof _0x21a25d!==_0x349aeb(0x474))return![];const _0x5a87b2=String(_0x21a25d)['replace'](',','.')[_0x349aeb(0x9f3)]();return _0x5a87b2!==''&&!isNaN(parseFloat(_0x5a87b2))&&isFinite(_0x5a87b2);}async function gradeShortAnswer(_0xb4e51e,_0x3ea567){const _0x2c7906=_0x7550fe,_0x5cc2dc=_0x3ea567[_0x2c7906(0xa33)],_0x15b358=String(_0xb4e51e)[_0x2c7906(0x38e)](/\$/g,'')[_0x2c7906(0x9f3)](),_0x40c952=String(_0x5cc2dc)[_0x2c7906(0x38e)](/\$/g,'')[_0x2c7906(0x9f3)]();if(_0x15b358[_0x2c7906(0x402)]()===_0x40c952[_0x2c7906(0x402)]())return!![];if(isPotentiallyNumeric(_0x15b358)&&isPotentiallyNumeric(_0x40c952)){if(compareNumericalAnswers(_0x15b358,_0x40c952))return!![];}return console[_0x2c7906(0xbf7)](_0x2c7906(0x608)),await gradeShortAnswerWithAI(_0xb4e51e,_0x5cc2dc);}async function revealAnswerForAdmin(_0xb3cd3b,_0x23fa9b){const _0x5637a1=_0x7550fe,_0x204653=doc(db,_0x5637a1(0x3dc)+appId+_0x5637a1(0x4bc),currentLiveGameId);await updateDoc(_0x204653,{'questionStatus':_0x5637a1(0x6d5)});}function showTop5LeaderboardView(_0x99ef81){const _0xca327f=_0x7550fe,_0x1b7eb5=Object[_0xca327f(0x713)](_0x99ef81[_0xca327f(0x340)]||{})[_0xca327f(0x67f)](_0x56f0be=>_0x56f0be[_0xca327f(0x78a)]==='active');_0x1b7eb5[_0xca327f(0xa30)]((_0x1c65e4,_0x5db821)=>_0x5db821[_0xca327f(0x5e9)]-_0x1c65e4[_0xca327f(0x5e9)]);const _0x181f16=_0x1b7eb5[_0xca327f(0x31e)](0x0,0x5),_0x40dd7e=_0xca327f(0x4f5)+_0x181f16[_0xca327f(0x25d)]((_0x4ca2b3,_0x36ccb4)=>_0xca327f(0x49e)+(_0x36ccb4+0x1)+'.\x20'+(_0x4ca2b3[_0xca327f(0x47f)]||Object[_0xca327f(0xaa6)](_0x99ef81[_0xca327f(0x340)])[_0xca327f(0x3de)](_0x4c14a4=>_0x99ef81['players'][_0x4c14a4]===_0x4ca2b3))+_0xca327f(0x74c)+_0x4ca2b3[_0xca327f(0x5e9)]+_0xca327f(0x601))[_0xca327f(0x7fa)]('')+_0xca327f(0x78c)+(_0x99ef81[_0xca327f(0x1bc)]+0x1===currentQuizData['questions']['length']?_0xca327f(0xa50):_0xca327f(0xb20))+_0xca327f(0x2fc);liveGameView[_0xca327f(0x215)]=_0x40dd7e,document[_0xca327f(0xb9f)]('goto-next-question-btn')[_0xca327f(0x52b)](_0xca327f(0x909),async()=>{const _0x16f828=_0xca327f,_0x25ee46=doc(db,_0x16f828(0x3dc)+appId+_0x16f828(0x4bc),currentLiveGameId),_0x3b095e=_0x99ef81[_0x16f828(0x1bc)]+0x1;if(_0x3b095e<currentQuizData[_0x16f828(0x5c2)][_0x16f828(0x384)]){const _0x6e943={'currentQuestionIndex':_0x3b095e,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x16f828(0x4ae)};Object[_0x16f828(0xaa6)](_0x99ef81['players'])[_0x16f828(0x94f)](_0x3b691b=>{const _0x2eb03f=_0x16f828;_0x6e943['players.'+_0x3b691b+_0x2eb03f(0x8a0)]=![];}),await updateDoc(_0x25ee46,_0x6e943);}else await updateDoc(_0x25ee46,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x575a8a=>{const _0x1bb30d=_0x393b;if(_0x575a8a){userId=_0x575a8a[_0x1bb30d(0xa92)],userIdDisplay[_0x1bb30d(0x33f)]=userId;const _0x595bd9=await loadUserPreferences();_0x595bd9[_0x1bb30d(0x957)]&&(document[_0x1bb30d(0xb9f)](_0x1bb30d(0x81a))[_0x1bb30d(0x6b0)]=_0x595bd9[_0x1bb30d(0x957)]);globalDashboardSettings[_0x1bb30d(0x3d1)]=_0x595bd9['projectView']||_0x1bb30d(0x3d7);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x326642,_0x1fced0){const _0x296743=_0x7550fe;if(!userId)return;try{const _0x473557=doc(db,_0x296743(0x3dc)+appId+_0x296743(0x3bc)+userId+_0x296743(0xba4)),_0x9b3fc1={};_0x9b3fc1[_0x326642]=_0x1fced0,await setDoc(_0x473557,_0x9b3fc1,{'merge':!![]});}catch(_0x39404d){console[_0x296743(0x930)]('Error\x20saving\x20user\x20preference:',_0x39404d);}}async function loadUserPreferences(){const _0x2976f7=_0x7550fe;if(!userId)return{};try{const _0x128881=doc(db,'artifacts/'+appId+_0x2976f7(0x3bc)+userId+_0x2976f7(0xba4)),_0xb9e9a3=await getDoc(_0x128881);if(_0xb9e9a3['exists']())return _0xb9e9a3[_0x2976f7(0xaf1)]();return{};}catch(_0x2af366){return console[_0x2976f7(0x930)](_0x2976f7(0x31f),_0x2af366),{};}}function parseIndentedBlueprint(_0x65d247){const _0x2cd93f=_0x7550fe,_0x32ecb7=_0x65d247[_0x2cd93f(0x735)]('\x0a')[_0x2cd93f(0x67f)](_0x2af511=>_0x2af511[_0x2cd93f(0x9f3)]()!==''),_0x591410=[];let _0x74d659=null,_0x16a589=null;return _0x32ecb7[_0x2cd93f(0x94f)](_0x173deb=>{const _0x297118=_0x2cd93f,_0x121680=_0x173deb[_0x297118(0x897)](/^\s*/)[0x0]['length'],_0x4f5bc4=_0x173deb[_0x297118(0x9f3)]();if(_0x121680===0x0)_0x74d659={'sara':_0x4f5bc4,'mainTopics':[]},_0x591410[_0x297118(0x5ca)](_0x74d659),_0x16a589=null;else{if(_0x121680>0x0&&_0x121680<0x8&&_0x74d659)_0x16a589={'topicName':_0x4f5bc4,'subTopics':[]},_0x74d659['mainTopics'][_0x297118(0x5ca)](_0x16a589);else _0x121680>=0x8&&_0x16a589&&_0x16a589[_0x297118(0xb43)]['push'](_0x4f5bc4);}}),{'curriculum':_0x591410};}async function handleManualBlueprintSave(){const _0x587c6a=_0x7550fe,_0x468c1b=document[_0x587c6a(0xb9f)](_0x587c6a(0x3af))[_0x587c6a(0x6b0)][_0x587c6a(0x9f3)](),_0x393511=document[_0x587c6a(0xb9f)](_0x587c6a(0x428))[_0x587c6a(0x6b0)][_0x587c6a(0x9f3)](),_0x571003=document['getElementById']('manual-bp-content')[_0x587c6a(0x6b0)];if(!_0x468c1b||!_0x393511||!_0x571003){showMessage(_0x587c6a(0x2e0));return;}const _0x5e9ab2=parseIndentedBlueprint(_0x571003);if(!_0x5e9ab2[_0x587c6a(0x36f)]||_0x5e9ab2[_0x587c6a(0x36f)][_0x587c6a(0x384)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x4ed56c={};_0x5e9ab2[_0x587c6a(0x36f)][_0x587c6a(0x94f)](_0x26f796=>{const _0x3e5ec2=_0x587c6a;_0x26f796[_0x3e5ec2(0x61d)][_0x3e5ec2(0x94f)](_0xa6c993=>{const _0x23199c=_0x3e5ec2;_0xa6c993[_0x23199c(0xb43)]['forEach'](_0x366cca=>{const _0x217623=_0x23199c,_0x5c7fd8=_0x217623(0x1c3)+Date['now']()+Math[_0x217623(0x5b4)]()['toString'](0x24)[_0x217623(0x131)](0x2,0x9);_0x4ed56c[_0x5c7fd8]={'sara':_0x26f796[_0x217623(0x5ee)],'mainTopic':_0xa6c993[_0x217623(0xa70)],'subTopic':_0x366cca,'status':_0x217623(0x11f),'lessonContent':null};});});});try{const _0x49bf1a=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x49bf1a,{'projectName':_0x468c1b,'gradeLevel':_0x393511,'topics':_0x4ed56c,'createdAt':serverTimestamp()}),showMessage(_0x587c6a(0x15f)+_0x468c1b+_0x587c6a(0x1c1)),document[_0x587c6a(0xb9f)](_0x587c6a(0x94d))[_0x587c6a(0x5f6)]['add']('hidden');}catch(_0x57bde9){console['error']('Error\x20saving\x20manual\x20blueprint\x20project:',_0x57bde9),showMessage(_0x587c6a(0x889));}}function handleClearAllLinksForTopic(_0x3c56fc){const _0x51060f=_0x7550fe;showConfirmation(_0x51060f(0x7d6),async()=>{const _0x5bbd58=_0x51060f;try{const _0x49a3f3=doc(db,_0x5bbd58(0x3dc)+appId+_0x5bbd58(0x312),currentBlueprintProjectId);await updateDoc(_0x49a3f3,{[_0x5bbd58(0x553)+_0x3c56fc+_0x5bbd58(0x89f)]:[]}),showMessage(_0x5bbd58(0x1ab)),openTopicQuizBank(_0x3c56fc),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x15e090){console[_0x5bbd58(0x930)]('Error\x20clearing\x20all\x20links:',_0x15e090),showMessage(_0x5bbd58(0x258));}});}function showPodiumView(_0xb80185,_0x2dfdab='live-race'){const _0x1e237b=_0x7550fe,_0x4d201c=Object[_0x1e237b(0x8f3)](_0xb80185)[_0x1e237b(0x25d)](([_0x2baeb2,_0x131aff])=>({'name':_0x2baeb2,'score':_0x131aff[_0x1e237b(0x5e9)]||0x0,'badges':_0x131aff['badges']||[],'hasPerfectScoreBonus':_0x131aff[_0x1e237b(0x4fc)]||![]}));_0x4d201c[_0x1e237b(0xa30)]((_0x1b3a1a,_0x3fae5e)=>{const _0x271e9c=_0x1e237b,_0x2e1fcc=_0x3fae5e[_0x271e9c(0x5e9)]-_0x1b3a1a['score'];if(_0x2e1fcc!==0x0)return _0x2e1fcc;return(_0x3fae5e['badges'][_0x271e9c(0x384)]||0x0)-(_0x1b3a1a['badges'][_0x271e9c(0x384)]||0x0);});const _0x392d7d=_0x2b95c9=>{const _0x47b0f2=_0x1e237b;if(!_0x2b95c9||_0x2b95c9[_0x47b0f2(0x384)]===0x0)return'';const _0x4d85b6={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x47b0f2(0x1f8)+_0x2b95c9[_0x47b0f2(0x25d)](_0x4ec4b7=>_0x4d85b6[_0x4ec4b7]||'')['join']('')+_0x47b0f2(0xa2b);},_0x348d55=_0x4d201c[_0x1e237b(0x31e)](0x3),_0x37c796=_0x348d55[_0x1e237b(0x384)]>0x0?_0x1e237b(0x372)+_0x348d55[_0x1e237b(0x25d)]((_0x5b2722,_0x28bf09)=>{const _0x1154e6=_0x1e237b,_0x4ba0e8=_0x5b2722[_0x1154e6(0x4fc)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x1154e6(0x264)+(_0x28bf09+0x4)+_0x1154e6(0x4a0)+_0x5b2722[_0x1154e6(0x47f)]+_0x1154e6(0x505)+_0x5b2722['score']+'\x20คะแนน\x20'+_0x4ba0e8+_0x1154e6(0x8fa);})[_0x1e237b(0x7fa)]('')+_0x1e237b(0x3ab):'',_0x2bb2ec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4d201c[0x1]?_0x1e237b(0x21d)+_0x4d201c[0x1]['name']+_0x1e237b(0x658)+_0x392d7d(_0x4d201c[0x1][_0x1e237b(0x5d3)])+'<p\x20class=\x22text-xl\x22>'+_0x4d201c[0x1][_0x1e237b(0x5e9)]+_0x1e237b(0x8b0)+(_0x4d201c[0x1][_0x1e237b(0x4fc)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x1e237b(0x589))+_0x1e237b(0xb1f)+(_0x4d201c[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x4d201c[0x0][_0x1e237b(0x47f)]+_0x1e237b(0x658)+_0x392d7d(_0x4d201c[0x0][_0x1e237b(0x5d3)])+_0x1e237b(0x31c)+_0x4d201c[0x0][_0x1e237b(0x5e9)]+_0x1e237b(0x8b0)+(_0x4d201c[0x0][_0x1e237b(0x4fc)]?_0x1e237b(0x612):'')+_0x1e237b(0x430):_0x1e237b(0x589))+_0x1e237b(0xb1f)+(_0x4d201c[0x2]?_0x1e237b(0xa86)+_0x4d201c[0x2][_0x1e237b(0x47f)]+_0x1e237b(0x658)+_0x392d7d(_0x4d201c[0x2][_0x1e237b(0x5d3)])+_0x1e237b(0xaae)+_0x4d201c[0x2][_0x1e237b(0x5e9)]+_0x1e237b(0x8b0)+(_0x4d201c[0x2][_0x1e237b(0x4fc)]?_0x1e237b(0x612):'')+_0x1e237b(0x944):_0x1e237b(0x589))+_0x1e237b(0x393)+_0x37c796+_0x1e237b(0x961)+(currentMode===_0x1e237b(0x67e)?_0x1e237b(0x4e5):_0x1e237b(0x3c3))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x1e237b(0x215)]=_0x2bb2ec,currentMode==='admin'&&document['getElementById'](_0x1e237b(0x5a6))[_0x1e237b(0x52b)](_0x1e237b(0x909),async()=>{const _0x3fb19e=_0x1e237b;let _0x3cb8ec;_0x2dfdab===_0x3fb19e(0x630)?_0x3cb8ec=doc(db,_0x3fb19e(0x3dc)+appId+_0x3fb19e(0xa36),currentLiveGameId):_0x3cb8ec=doc(db,'artifacts/'+appId+_0x3fb19e(0x4bc),currentLiveGameId),await deleteDoc(_0x3cb8ec);});}function renderSyncSummaryView(_0x5caef2,_0x5b6830,_0x2c7598){const _0xf23826=_0x7550fe,_0x44d028=Object[_0xf23826(0x713)](_0x5caef2['players']||{}),_0x2f791d=_0x5b6830['questionType']||_0x5caef2[_0xf23826(0xb6b)][_0xf23826(0x874)];let _0x1f5774=[];_0x2f791d===_0xf23826(0x728)?_0x1f5774=[_0xf23826(0x6d6),_0xf23826(0x75a)]:_0x1f5774=_0x5b6830[_0xf23826(0xbe2)]||[];const _0x348f7d=new Array(_0x1f5774[_0xf23826(0x384)])['fill'](0x0),_0x4983cf={};_0x1f5774['forEach']((_0x264470,_0x4c49b9)=>{_0x4983cf[_0x4c49b9]=[];}),Object[_0xf23826(0x8f3)](_0x5caef2[_0xf23826(0x340)]||{})[_0xf23826(0x94f)](([_0x47e073,_0x46a7bf])=>{const _0x568885=_0xf23826;if(_0x46a7bf[_0x568885(0x78a)]!==_0x568885(0xa8a)&&_0x46a7bf['lastAnswerIndex']!==undefined&&_0x46a7bf[_0x568885(0x853)]!==null){const _0x46caef=_0x46a7bf[_0x568885(0x853)];_0x4983cf[_0x46caef]!==undefined&&(_0x4983cf[_0x46caef]['push'](_0x47e073),_0x348f7d[_0x46caef]++);}});let _0x390c40='';_0x2c7598?_0x390c40=_0xf23826(0xacf):_0x390c40=_0xf23826(0x2ab);const _0x70f41b=_0xf23826(0x8c4)+_0x5b6830[_0xf23826(0x653)]+_0xf23826(0x409)+_0x348f7d[_0xf23826(0x25d)]((_0x311e00,_0x497787)=>{const _0x44272a=_0xf23826,_0x25039e=_0x4983cf[_0x497787]['length']>0x0?_0x4983cf[_0x497787][_0x44272a(0x7fa)](',\x20'):_0x44272a(0x79d),_0x3089fb=_0x44272a(0x1cf);return _0x44272a(0xbe4)+_0x311e00+_0x44272a(0x1c6)+_0x3089fb+_0x44272a(0x862)+_0x497787+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x1f5774[_0x497787]+_0x44272a(0x3c6)+_0x497787+_0x44272a(0x890)+_0x25039e+_0x44272a(0x8ed);})[_0xf23826(0x7fa)]('')+_0xf23826(0x3c1)+_0x390c40+_0xf23826(0xbed);liveGameView[_0xf23826(0x215)]=_0x70f41b;if(window[_0xf23826(0xa27)])MathJax[_0xf23826(0x806)]();_0x2c7598&&(document['getElementById'](_0xf23826(0x945))[_0xf23826(0x52b)](_0xf23826(0x909),async()=>{const _0x12a277=_0xf23826,_0x5c7b8b=doc(db,_0x12a277(0x3dc)+appId+_0x12a277(0xa36),currentLiveGameId);await updateDoc(_0x5c7b8b,{'status':'results'});}),document[_0xf23826(0xb9f)](_0xf23826(0x740))[_0xf23826(0x6ff)]=()=>{openScratchpad(_0x5b6830,_0x1f5774);});}async function handleShowStudentRankings(){const _0x74f2a5=_0x7550fe,_0x275e70=document[_0x74f2a5(0x2e7)](_0x74f2a5(0x3c7));_0x275e70&&(_0x275e70['innerHTML']=_0x74f2a5(0x783));const _0x831d01=document['querySelector']('#student-project-leaderboard-content\x20thead');_0x831d01&&(_0x831d01[_0x74f2a5(0x215)]=_0x74f2a5(0x64c));const _0x16791b=document[_0x74f2a5(0xb9f)]('student-rankings-modal');_0x16791b[_0x74f2a5(0x5f6)][_0x74f2a5(0x309)](_0x74f2a5(0x3c0)),document[_0x74f2a5(0xb9f)](_0x74f2a5(0x1e0))[_0x74f2a5(0x6ff)]=()=>_0x16791b[_0x74f2a5(0x5f6)]['add']('hidden');const _0x5e1111=document[_0x74f2a5(0xb9f)](_0x74f2a5(0x872)),_0x539db5=document['getElementById'](_0x74f2a5(0x4a4)),_0x581b5e=document[_0x74f2a5(0xb9f)](_0x74f2a5(0x194)),_0x52c227=document[_0x74f2a5(0xb9f)](_0x74f2a5(0x95e));_0x5e1111[_0x74f2a5(0x6ff)]=()=>{const _0x1aaeda=_0x74f2a5;_0x5e1111[_0x1aaeda(0x5f6)][_0x1aaeda(0x314)](_0x1aaeda(0x97e)),_0x539db5[_0x1aaeda(0x5f6)]['remove'](_0x1aaeda(0x97e)),_0x581b5e[_0x1aaeda(0x5f6)]['remove'](_0x1aaeda(0x3c0)),_0x52c227[_0x1aaeda(0x5f6)][_0x1aaeda(0x314)]('hidden');},_0x539db5[_0x74f2a5(0x6ff)]=()=>{const _0x44a65c=_0x74f2a5;_0x539db5[_0x44a65c(0x5f6)][_0x44a65c(0x314)](_0x44a65c(0x97e)),_0x5e1111['classList']['remove'](_0x44a65c(0x97e)),_0x52c227[_0x44a65c(0x5f6)][_0x44a65c(0x309)](_0x44a65c(0x3c0)),_0x581b5e['classList'][_0x44a65c(0x314)](_0x44a65c(0x3c0));};try{const _0x42188b=collection(db,'artifacts/'+appId+_0x74f2a5(0x315)+currentQuizData['id']+_0x74f2a5(0x6dd)),_0x5091fc=await getDocs(_0x42188b),_0x173d1e=_0x5091fc[_0x74f2a5(0x68e)][_0x74f2a5(0x25d)](_0x3769f8=>_0x3769f8[_0x74f2a5(0xaf1)]());renderQuizLeaderboard(_0x173d1e,currentQuizData,_0x74f2a5(0xb1e));const _0x204e03=collection(db,_0x74f2a5(0x3dc)+appId+_0x74f2a5(0xa60)+currentQuizData[_0x74f2a5(0x176)]+_0x74f2a5(0xaf7)),_0x43bd7c=await getDocs(_0x204e03),_0x48834c=_0x43bd7c['docs']['map'](_0x4b1177=>_0x4b1177[_0x74f2a5(0xaf1)]());renderLeaderboard(_0x48834c,'student-project-leaderboard-table-body');}catch(_0x49fe18){console['error'](_0x74f2a5(0x7ad),_0x49fe18),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x4204ec){const _0x533ac0=_0x7550fe,_0x5d5f9b=_0x4204ec[_0x533ac0(0xa73)],_0x3d833b=_0x5d5f9b[_0x533ac0(0xb7f)]['index'],_0x3ce919=currentQuizData[_0x533ac0(0x5c2)][_0x3d833b];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x23d034={..._0x3ce919,'originalTopic':currentQuizData[_0x533ac0(0xb1c)],'savedAt':serverTimestamp()},_0x428dde=collection(db,_0x533ac0(0x3dc)+appId+'/users/'+userId+_0x533ac0(0x64a));await addDoc(_0x428dde,_0x23d034),showMessage(_0x533ac0(0x3e5)),_0x5d5f9b[_0x533ac0(0x5f6)][_0x533ac0(0x309)]('text-purple-600'),_0x5d5f9b[_0x533ac0(0x5f6)][_0x533ac0(0x314)]('text-green-600'),_0x5d5f9b['disabled']=!![];}catch(_0xa045a5){console[_0x533ac0(0x930)](_0x533ac0(0x3cd),_0xa045a5),showMessage(_0x533ac0(0xac8));}}function selectProjectAndGenerateBlueprintQuiz(_0x88a45d,_0x3cdf4c=null,_0xf699e7=null,_0x17edd=![]){const _0x190048=_0x7550fe;cameFromBlueprint=!![];const _0x54621e=document['getElementById'](_0x190048(0xa58)),_0x10e93e=document[_0x190048(0xb9f)](_0x190048(0x730)),_0x41e012=_0x54621e[_0x190048(0x2e7)]('h3'),_0x2264ca=document[_0x190048(0xb9f)](_0x190048(0x2ed)),_0xbb0a9a=document['getElementById']('cancel-move-quiz-btn');_0x41e012[_0x190048(0x33f)]=_0x190048(0x203),_0x2264ca[_0x190048(0x33f)]=_0x190048(0x5a8),_0x2264ca[_0x190048(0xa75)]=!![];allProjects[_0x190048(0x384)]===0x0?_0x10e93e['innerHTML']='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x10e93e[_0x190048(0x215)]=_0x190048(0xb25)+allProjects[_0x190048(0x25d)](_0x3d8e17=>_0x190048(0x93a)+_0x3d8e17['id']+'\x22>'+_0x3d8e17[_0x190048(0x7aa)]+_0x190048(0xb9e))['join'](''),_0x2264ca[_0x190048(0xa75)]=![]);_0x54621e['classList'][_0x190048(0x309)](_0x190048(0x3c0));const _0x33f8ef=async()=>{const _0xea57b=_0x190048,_0x56b015=_0x10e93e['value'];if(!_0x56b015){showMessage(_0xea57b(0x8bf));return;}_0x54621e[_0xea57b(0x5f6)][_0xea57b(0x314)](_0xea57b(0x3c0)),document[_0xea57b(0xb9f)](_0xea57b(0xb3e))[_0xea57b(0x5f6)]['add']('hidden'),await loadProjectDetails(_0x56b015),showView(_0xea57b(0x6fc)),handleGenerateQuizFromBlueprintTopic(_0x88a45d,_0x3cdf4c,_0x56b015,_0xf699e7,_0x17edd),_0x36eeaa();},_0x36eeaa=()=>{const _0x2b5c42=_0x190048;_0x41e012[_0x2b5c42(0x33f)]=_0x2b5c42(0x8f7),_0x2264ca['textContent']=_0x2b5c42(0x12d),_0x2264ca[_0x2b5c42(0xb5f)](_0x2b5c42(0x909),_0x33f8ef),_0xbb0a9a['removeEventListener'](_0x2b5c42(0x909),_0x36eeaa),_0x2264ca[_0x2b5c42(0x52b)](_0x2b5c42(0x909),confirmMoveQuiz);};_0x2264ca[_0x190048(0xb5f)](_0x190048(0x909),confirmMoveQuiz),_0x2264ca['addEventListener'](_0x190048(0x909),_0x33f8ef),_0xbb0a9a[_0x190048(0x52b)](_0x190048(0x909),_0x36eeaa);}function listenForStarredQuizzes(){const _0x3e5280=_0x7550fe;if(!userId)return;const _0xffe1f3=collection(db,_0x3e5280(0x3dc)+appId+_0x3e5280(0x7a5)),_0x564591=query(_0xffe1f3,where(_0x3e5280(0x337),'==',!![]));onSnapshot(_0x564591,_0x120b6f=>{const _0x57dbcd=_0x3e5280;starredQuizzes=_0x120b6f[_0x57dbcd(0x68e)][_0x57dbcd(0x25d)](_0x3cbafa=>({'id':_0x3cbafa['id'],..._0x3cbafa[_0x57dbcd(0xaf1)]()})),currentProjectId===_0x57dbcd(0x33a)?renderQuizzes():renderProjects();},_0x50008d=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x50008d);});}async function ensureGlobalQuizzesLoaded(){const _0x56d747=_0x7550fe;if(allQuizzesGlobal[_0x56d747(0x384)]>0x0)return;console[_0x56d747(0xbf7)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x56d747(0x605));try{const _0x4bd0ce=await getDocs(collection(db,_0x56d747(0x3dc)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x4bd0ce[_0x56d747(0x68e)][_0x56d747(0x25d)](_0x11e195=>({'id':_0x11e195['id'],..._0x11e195[_0x56d747(0xaf1)]()})),console[_0x56d747(0xbf7)](_0x56d747(0xa6e)+allQuizzesGlobal[_0x56d747(0x384)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x56d747(0x5f6)][_0x56d747(0x314)]('hidden');}catch(_0x513228){console[_0x56d747(0x930)]('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x513228),messageModal['classList']['add'](_0x56d747(0x3c0));throw new Error(_0x56d747(0xa8e));}}function exportQuizAsWorksheetPDF(){const _0x16a435=_0x7550fe;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x16a435(0x992));return;}const _0x57a305=currentQuizData,_0x5223b5=window[_0x16a435(0x620)]('',_0x16a435(0x75d)),_0x5021e1=_0x188548=>String[_0x16a435(0x1f7)](0x41+_0x188548),_0x41fb41=_0x16a435(0xb4e)+_0x57a305[_0x16a435(0xb1c)]+_0x16a435(0xb78)+_0x57a305[_0x16a435(0xb1c)]+_0x16a435(0x7c6)+_0x57a305[_0x16a435(0x5c2)]['map']((_0x55b58a,_0x560850)=>{const _0xd979b8=_0x16a435;let _0x4c2114='';const _0x5b296f=_0x55b58a[_0xd979b8(0x92a)]||_0x57a305[_0xd979b8(0x874)];switch(_0x5b296f){case _0xd979b8(0x81c):case _0xd979b8(0x361):_0x4c2114='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x55b58a['options'][_0xd979b8(0x25d)]((_0x5e472e,_0x5bb6a5)=>_0xd979b8(0x72d)+_0x5021e1(_0x5bb6a5)+'.\x20'+_0x5e472e+_0xd979b8(0xa8f))[_0xd979b8(0x7fa)](_0xd979b8(0x151))+'</div>';break;case _0xd979b8(0x728):_0x4c2114='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x4c2114=_0xd979b8(0x887);break;}return _0xd979b8(0x1e3)+(_0x560850+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x55b58a['stem']||_0x55b58a[_0xd979b8(0x653)])+_0xd979b8(0x96f)+(_0x55b58a[_0xd979b8(0xa0a)]?'<div\x20class=\x22my-2\x22>'+_0x55b58a[_0xd979b8(0xa0a)]+_0xd979b8(0xa2b):'')+_0xd979b8(0xb94)+_0x4c2114+_0xd979b8(0x826);})[_0x16a435(0x7fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5223b5['document'][_0x16a435(0x81b)](_0x41fb41),_0x5223b5['document'][_0x16a435(0x383)](),_0x5223b5[_0x16a435(0x33e)]=function(){setTimeout(()=>{const _0x8b9128=_0x393b;_0x5223b5[_0x8b9128(0x5a9)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1e8190=_0x7550fe;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x1e8190(0x992));return;}const _0x319101=currentQuizData,_0x57a49d=window['open']('','_blank'),_0x4e1d71=_0x558a43=>String[_0x1e8190(0x1f7)](0x41+_0x558a43),_0x4df507='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x319101[_0x1e8190(0xb1c)]+_0x1e8190(0x8e0)+_0x319101[_0x1e8190(0x5c2)]['map']((_0x400d42,_0x65c95e)=>{const _0x533d36=_0x1e8190;let _0x5ce215='';const _0x4d48ee=_0x400d42[_0x533d36(0x92a)]||_0x319101[_0x533d36(0x874)];switch(_0x4d48ee){case _0x533d36(0x81c):case'fill_in_with_choices':_0x5ce215=_0x533d36(0x1b0)+_0x400d42[_0x533d36(0xbe2)][_0x533d36(0x25d)]((_0x2e14b3,_0x15f3e1)=>_0x533d36(0x6d2)+_0x4e1d71(_0x15f3e1)+'.\x20'+_0x2e14b3+_0x533d36(0xa57))[_0x533d36(0x7fa)]('<br>')+_0x533d36(0x42b);break;case _0x533d36(0x728):_0x5ce215=_0x533d36(0x462);break;default:_0x5ce215='';break;}return _0x533d36(0x6bb)+_0x319101[_0x533d36(0xb1c)]+_0x533d36(0x475)+(_0x65c95e+0x1)+_0x533d36(0x63c)+(_0x400d42[_0x533d36(0x4b6)]||_0x400d42[_0x533d36(0x653)])+_0x533d36(0x96f)+(_0x400d42[_0x533d36(0xa0a)]?_0x533d36(0x141)+_0x400d42[_0x533d36(0xa0a)]+_0x533d36(0xa2b):'')+_0x533d36(0xb94)+_0x5ce215+_0x533d36(0x13b);})[_0x1e8190(0x7fa)]('')+_0x1e8190(0xa4e);_0x57a49d[_0x1e8190(0x66e)][_0x1e8190(0x81b)](_0x4df507),_0x57a49d['document'][_0x1e8190(0x383)](),_0x57a49d[_0x1e8190(0x33e)]=function(){setTimeout(()=>{_0x57a49d['print']();},0x5dc);};}async function handleToggleStarQuiz(_0xda6301){const _0x3b740b=_0x7550fe,_0x56215d=doc(db,'artifacts/'+appId+_0x3b740b(0x7a5),_0xda6301);try{const _0x47f041=await getDoc(_0x56215d);if(_0x47f041[_0x3b740b(0x7be)]()){const _0x4ef136=_0x47f041[_0x3b740b(0xaf1)]()[_0x3b740b(0x337)]||![];await updateDoc(_0x56215d,{'isStarred':!_0x4ef136});}}catch(_0xd23a44){console[_0x3b740b(0x930)]('Error\x20toggling\x20star\x20status:',_0xd23a44),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x1e8e0d=_0x7550fe,_0x2d07c8=document[_0x1e8e0d(0xb9f)]('bank-input-area');_0x2d07c8[_0x1e8e0d(0x215)]=_0x1e8e0d(0x81f);try{const _0x238ae3=collection(db,'artifacts/'+appId+_0x1e8e0d(0x3bc)+userId+'/questionBank'),_0x40fbfa=query(_0x238ae3),_0x1de12e=await getDocs(_0x40fbfa);if(_0x1de12e[_0x1e8e0d(0x8d2)]){_0x2d07c8[_0x1e8e0d(0x215)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x423fc7=_0x1de12e['docs'][_0x1e8e0d(0x25d)](_0x2b119d=>{const _0x28676a=_0x1e8e0d,_0x48b506=_0x2b119d[_0x28676a(0xaf1)](),_0x1cf263=_0x2b119d['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x28676a(0x356)](_0x48b506)+_0x28676a(0xb2a)+(_0x48b506[_0x28676a(0x653)]||_0x48b506[_0x28676a(0x4b6)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x48b506[_0x28676a(0x626)]+_0x28676a(0x787);})[_0x1e8e0d(0x7fa)]('');_0x2d07c8[_0x1e8e0d(0x215)]=_0x1e8e0d(0x7f2)+_0x423fc7+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x1e8e0d(0xb9f)](_0x1e8e0d(0xa54))[_0x1e8e0d(0x52b)](_0x1e8e0d(0x909),createQuizFromBank);}catch(_0x416ea3){console[_0x1e8e0d(0x930)]('Error\x20displaying\x20question\x20bank:',_0x416ea3),_0x2d07c8[_0x1e8e0d(0x215)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x5ad351=_0x7550fe,_0x45d635=document[_0x5ad351(0xb9f)](_0x5ad351(0x6a2)),_0x3cc06a=document[_0x5ad351(0xb9f)](_0x5ad351(0x9bc))[_0x5ad351(0x33f)]||_0x5ad351(0x50b);if(!_0x45d635){showMessage(_0x5ad351(0x79f));return;}const _0x4f906f=window[_0x5ad351(0x620)]('',_0x5ad351(0x75d)),_0x32874c=_0x5ad351(0x698)+_0x3cc06a+_0x5ad351(0x76d)+_0x3cc06a+_0x5ad351(0x73b)+_0x45d635[_0x5ad351(0x215)]+_0x5ad351(0xa4b);_0x4f906f[_0x5ad351(0x66e)]['write'](_0x32874c),_0x4f906f[_0x5ad351(0x66e)][_0x5ad351(0x383)](),_0x4f906f[_0x5ad351(0x33e)]=function(){setTimeout(()=>{_0x4f906f['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x4dff2e,_0x40260b,_0x13c792){const _0x3caa40=_0x7550fe,_0x42cb94=_0x4dff2e[_0x3caa40(0x92a)]||currentQuizData[_0x3caa40(0x874)];let _0x27b0ef='';if(_0x42cb94===_0x3caa40(0x81c)||_0x42cb94==='true_false'){const _0x4641b7=_0x42cb94==='true_false'?[_0x3caa40(0x9df),_0x3caa40(0x201)]:_0x4dff2e[_0x3caa40(0xbe2)],_0xead7de=_0x42cb94===_0x3caa40(0x728)?_0x4dff2e[_0x3caa40(0x9f8)]?0x0:0x1:_0x4dff2e[_0x3caa40(0x30b)];_0x27b0ef=_0x4641b7[_0x3caa40(0x25d)]((_0x57f519,_0x4d1b30)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x4d1b30===_0xead7de)+_0x3caa40(0x47c)+_0x57f519+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3caa40(0x7fa)]('');}else{if(_0x42cb94===_0x3caa40(0x370)){const _0x41d813=_0x4dff2e[_0x3caa40(0x11a)]||[];_0x27b0ef=_0x41d813[_0x3caa40(0x25d)](_0x5b51c9=>_0x3caa40(0x62f)+(_0x5b51c9===_0x4dff2e[_0x3caa40(0xa8d)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b51c9+_0x3caa40(0x9b8))[_0x3caa40(0x7fa)]('');}}const _0x1325e7=_0x4dff2e[_0x3caa40(0x4b6)]||_0x4dff2e[_0x3caa40(0x653)],_0x3416df=_0x3caa40(0x36e)+(_0x40260b+0x1)+_0x3caa40(0x649)+_0x13c792+_0x3caa40(0x791)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1325e7+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27b0ef+_0x3caa40(0xb57);liveGameView[_0x3caa40(0x215)]=_0x3416df,window[_0x3caa40(0xa27)]&&MathJax[_0x3caa40(0x806)]&&MathJax[_0x3caa40(0x806)]([liveGameView]),document[_0x3caa40(0xb9f)](_0x3caa40(0x289))[_0x3caa40(0x52b)](_0x3caa40(0x909),()=>revealAnswerForAdmin(_0x40260b,_0x13c792)),document['getElementById']('end-game-btn')[_0x3caa40(0x52b)](_0x3caa40(0x909),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x145619=_0x393b,_0xfbb531=doc(db,_0x145619(0x3dc)+appId+_0x145619(0x4bc),currentLiveGameId);await updateDoc(_0xfbb531,{'status':_0x145619(0x245)});});}),document[_0x3caa40(0xb9f)](_0x3caa40(0xbd5))[_0x3caa40(0x52b)](_0x3caa40(0x909),()=>{const _0x451917=_0x3caa40;document[_0x451917(0xb9f)](_0x451917(0x2f4))['classList'][_0x451917(0x937)](_0x451917(0x3c0));});}function promptForProjectBeforeGenerating(_0x458601){const _0xb47371=_0x7550fe,_0x324738=document[_0xb47371(0xb9f)]('move-quiz-modal'),_0x2e122b=document[_0xb47371(0xb9f)](_0xb47371(0x730)),_0x2a8839=_0x324738[_0xb47371(0x2e7)]('h3'),_0x573b85=document[_0xb47371(0xb9f)]('confirm-move-quiz-btn'),_0x2daead=document[_0xb47371(0xb9f)](_0xb47371(0x223));_0x2a8839[_0xb47371(0x33f)]=_0xb47371(0x203),_0x573b85[_0xb47371(0x33f)]='เลือกและเริ่มสร้าง',_0x573b85['disabled']=!![];allProjects[_0xb47371(0x384)]===0x0?_0x2e122b[_0xb47371(0x215)]=_0xb47371(0x3ae):(_0x2e122b['innerHTML']=_0xb47371(0xb25)+allProjects[_0xb47371(0x25d)](_0x18a60f=>_0xb47371(0x93a)+_0x18a60f['id']+'\x22>'+_0x18a60f[_0xb47371(0x7aa)]+_0xb47371(0xb9e))['join'](''),_0x573b85[_0xb47371(0xa75)]=![]);_0x324738[_0xb47371(0x5f6)][_0xb47371(0x309)](_0xb47371(0x3c0));const _0x10aeb0=async()=>{const _0x18cce0=_0xb47371,_0x17a15a=_0x2e122b[_0x18cce0(0x6b0)];if(!_0x17a15a){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x324738[_0x18cce0(0x5f6)][_0x18cce0(0x314)](_0x18cce0(0x3c0)),await loadProjectDetails(_0x17a15a),showView(_0x18cce0(0x6fc)),handleGenerateQuizFromBlueprintTopic(_0x458601),_0x457570();},_0x457570=()=>{const _0x93685e=_0xb47371;_0x2a8839['textContent']=_0x93685e(0x8f7),_0x573b85[_0x93685e(0x33f)]='ย้าย',_0x573b85[_0x93685e(0xb5f)](_0x93685e(0x909),_0x10aeb0),_0x2daead[_0x93685e(0xb5f)](_0x93685e(0x909),_0x457570),_0x573b85[_0x93685e(0x52b)](_0x93685e(0x909),confirmMoveQuiz);};_0x573b85[_0xb47371(0xb5f)](_0xb47371(0x909),confirmMoveQuiz),_0x573b85[_0xb47371(0x52b)](_0xb47371(0x909),_0x10aeb0),_0x2daead[_0xb47371(0x52b)](_0xb47371(0x909),_0x457570);}function showStudentLiveQuestionView(_0x173efe,_0x34dd54,_0x2ea135){const _0x13b44d=_0x7550fe,_0x34e0d2=_0x173efe['questionType']||currentQuizData[_0x13b44d(0x874)];let _0x21d566='';if(_0x34e0d2===_0x13b44d(0x81c)||_0x34e0d2===_0x13b44d(0x728)){const _0x2d9785=_0x34e0d2===_0x13b44d(0x728)?['ใช่',_0x13b44d(0x201)]:_0x173efe[_0x13b44d(0xbe2)];_0x21d566=_0x2d9785[_0x13b44d(0x25d)]((_0x231478,_0x17a93e)=>_0x13b44d(0x1ff)+_0x17a93e+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x231478+_0x13b44d(0x11b))[_0x13b44d(0x7fa)]('');}else{if(_0x34e0d2===_0x13b44d(0x370)){const _0x17cfc7=_0x173efe[_0x13b44d(0x11a)]||[];_0x21d566=_0x17cfc7['map']((_0x50e060,_0x96d59)=>_0x13b44d(0x1ff)+_0x96d59+_0x13b44d(0x3b6)+_0x50e060+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x13b44d(0x7fa)]('');}else _0x34e0d2===_0x13b44d(0xaf9)&&(_0x21d566=_0x13b44d(0x1be));}const _0x251d8a=_0x173efe[_0x13b44d(0x4b6)]||_0x173efe[_0x13b44d(0x653)],_0x361ac1=_0x13b44d(0x62b)+(_0x34dd54+0x1)+_0x13b44d(0x649)+_0x2ea135+_0x13b44d(0x8d9)+_0x251d8a+_0x13b44d(0x445)+_0x21d566+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x13b44d(0x215)]=_0x361ac1;window[_0x13b44d(0xa27)]&&MathJax['typesetPromise']&&MathJax[_0x13b44d(0x806)]([liveGameView]);const _0x43793c=document[_0x13b44d(0xb9f)](_0x13b44d(0x736));_0x43793c&&_0x43793c[_0x13b44d(0x52b)]('click',()=>{const _0x213d1e=_0x13b44d,_0x5afd18=document[_0x213d1e(0xb9f)](_0x213d1e(0x1d2))['value'];handleLiveAnswer(_0x5afd18,_0x173efe);}),document[_0x13b44d(0xb9f)](_0x13b44d(0x5ec))[_0x13b44d(0x52b)](_0x13b44d(0x909),_0x284077=>{const _0x5d7b10=_0x13b44d,_0x58284b=_0x284077['target']['closest'](_0x5d7b10(0x844));if(_0x58284b){const _0x324881=parseInt(_0x58284b[_0x5d7b10(0xb7f)][_0x5d7b10(0x60c)]);handleLiveAnswer(_0x324881,_0x173efe);}});}function listenForBlueprintShortcuts(){const _0x197a03=_0x7550fe,_0x2df8a3=doc(db,_0x197a03(0x9c0),'dashboardConfig');onSnapshot(_0x2df8a3,_0x338898=>{const _0x5646a9=_0x197a03;let _0x1a8caa=[];_0x338898['exists']()&&_0x338898[_0x5646a9(0xaf1)]()[_0x5646a9(0x598)]&&(_0x1a8caa=_0x338898['data']()['blueprintShortcuts']),!_0x1a8caa['find'](_0x5448e2=>_0x5448e2['id']==='default-1')&&_0x1a8caa[_0x5646a9(0x810)]({'id':'default-1','name':_0x5646a9(0x732),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x1a8caa[_0x5646a9(0x3de)](_0x5d82fb=>_0x5d82fb['id']===_0x5646a9(0x220))&&_0x1a8caa[_0x5646a9(0x810)]({'id':_0x5646a9(0x220),'name':_0x5646a9(0x3a1),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x1a8caa,renderBlueprintShortcuts();});}function renderBlueprintShortcuts(){const _0x5c438c=_0x7550fe,_0x38e819=document[_0x5c438c(0xb9f)]('blueprint-shortcut-container'),_0x5beb81=document[_0x5c438c(0xb9f)](_0x5c438c(0x293)),_0x22a17c=document[_0x5c438c(0xb9f)](_0x5c438c(0x16a));_0x22a17c&&_0x22a17c[_0x5c438c(0x5f6)][_0x5c438c(0x314)]('hidden');if(!_0x38e819||!_0x5beb81)return;const _0x4a313c=blueprintShortcuts['slice'](0x0,0x4),_0xab91d2=blueprintShortcuts[_0x5c438c(0x31e)](0x4);_0x38e819[_0x5c438c(0x215)]=_0x4a313c[_0x5c438c(0x25d)](_0x506139=>{const _0xad843e=_0x5c438c;let _0x42b156=_0xad843e(0x67d),_0x59987c='🧩';if(_0x506139[_0xad843e(0xbe0)]&&_0x506139[_0xad843e(0x18d)])_0x42b156=_0xad843e(0xa42),_0x59987c='📗';else _0x506139[_0xad843e(0xbe0)]&&(_0x42b156=_0xad843e(0x2bd),_0x59987c='📘');const _0x1cc219=!_0x506139[_0xad843e(0x6d4)]?'<button\x20data-id=\x22'+_0x506139['id']+_0xad843e(0x1a3):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x506139['id']+_0xad843e(0xaf3)+_0x42b156+_0xad843e(0xb54)+_0x59987c+'\x20'+_0x506139['name']+_0xad843e(0x9a2)+_0x506139['id']+_0xad843e(0x1c9)+_0x1cc219+_0xad843e(0x9b8);})[_0x5c438c(0x7fa)](''),_0xab91d2[_0x5c438c(0x384)]>0x0&&(_0x38e819[_0x5c438c(0x215)]+=_0x5c438c(0x1fe)),_0xab91d2['length']>0x0?_0x5beb81['innerHTML']=_0xab91d2['map'](_0x4572ef=>{const _0x15d2fc=_0x5c438c;let _0x1326df='🧩';if(_0x4572ef['blueprintUrl']&&_0x4572ef[_0x15d2fc(0x18d)])_0x1326df='📗';else _0x4572ef[_0x15d2fc(0xbe0)]&&(_0x1326df='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x1326df+'\x20'+_0x4572ef['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4572ef['id']+_0x15d2fc(0xa40)+_0x4572ef['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4572ef[_0x15d2fc(0x6d4)]?_0x15d2fc(0xb35)+_0x4572ef['id']+_0x15d2fc(0x4d8):'')+_0x15d2fc(0x928);})[_0x5c438c(0x7fa)](''):_0x5beb81[_0x5c438c(0x215)]=_0x5c438c(0x92f);}function getMimeTypeFromFilename(_0x56c34b){const _0x3a1cb5=_0x7550fe,_0x4f2b62=_0x56c34b[_0x3a1cb5(0x735)]('.')[_0x3a1cb5(0x43a)]()[_0x3a1cb5(0x402)]();switch(_0x4f2b62){case'pdf':return _0x3a1cb5(0x8df);case _0x3a1cb5(0x374):return _0x3a1cb5(0x55d);default:return _0x3a1cb5(0x8df);}}function openShortcutEditor(_0x5a9729=null){const _0x51840e=_0x7550fe,_0x223a34=document[_0x51840e(0xb9f)](_0x51840e(0xb97)),_0x343269=document[_0x51840e(0xb9f)]('shortcut-modal-title'),_0x28662b=document[_0x51840e(0xb9f)](_0x51840e(0xbb4)),_0x1b0086=document[_0x51840e(0xb9f)](_0x51840e(0x51f)),_0x5ca2b1=document[_0x51840e(0xb9f)](_0x51840e(0x8b6)),_0x2c731f=document[_0x51840e(0xb9f)](_0x51840e(0x277));if(_0x5a9729){const _0x5be453=blueprintShortcuts['find'](_0x521848=>_0x521848['id']===_0x5a9729);if(!_0x5be453)return;_0x343269[_0x51840e(0x33f)]=_0x51840e(0x62c),_0x28662b[_0x51840e(0x6b0)]=_0x5be453['id'],_0x1b0086[_0x51840e(0x6b0)]=_0x5be453[_0x51840e(0x47f)],_0x5ca2b1[_0x51840e(0x6b0)]=_0x5be453[_0x51840e(0xbe0)]||'',_0x2c731f[_0x51840e(0x6b0)]=_0x5be453[_0x51840e(0x18d)]||'';}else _0x343269[_0x51840e(0x33f)]=_0x51840e(0x949),_0x28662b['value']='',_0x1b0086['value']='',_0x5ca2b1[_0x51840e(0x6b0)]='',_0x2c731f['value']='';_0x223a34[_0x51840e(0x5f6)][_0x51840e(0x309)](_0x51840e(0x3c0));}async function saveShortcutChanges(){const _0x5d0b95=_0x7550fe,_0x5c489c=document['getElementById'](_0x5d0b95(0xbb4))['value'],_0x3083ac=document[_0x5d0b95(0xb9f)](_0x5d0b95(0x51f))[_0x5d0b95(0x6b0)][_0x5d0b95(0x9f3)](),_0x31c55c=document['getElementById']('shortcut-blueprint-url-input')[_0x5d0b95(0x6b0)][_0x5d0b95(0x9f3)]();if(!_0x3083ac||!_0x31c55c){showMessage(_0x5d0b95(0x3fb));return;}const _0x5564bb={'id':_0x5c489c||_0x5d0b95(0x8a4)+Date[_0x5d0b95(0x711)](),'name':_0x3083ac,'blueprintUrl':_0x31c55c,'referenceUrl':document[_0x5d0b95(0xb9f)](_0x5d0b95(0x277))[_0x5d0b95(0x6b0)]['trim'](),'isDefault':_0x5c489c['startsWith'](_0x5d0b95(0x124))};let _0x11ddb0;_0x5c489c?_0x11ddb0=blueprintShortcuts['map'](_0x573835=>_0x573835['id']===_0x5c489c?_0x5564bb:_0x573835):_0x11ddb0=[...blueprintShortcuts,_0x5564bb];try{const _0x1c426b=doc(db,_0x5d0b95(0x9c0),_0x5d0b95(0x351));await setDoc(_0x1c426b,{'blueprintShortcuts':_0x11ddb0},{'merge':!![]}),document[_0x5d0b95(0xb9f)](_0x5d0b95(0xb97))[_0x5d0b95(0x5f6)][_0x5d0b95(0x314)](_0x5d0b95(0x3c0));}catch(_0x1d251c){console[_0x5d0b95(0x930)](_0x5d0b95(0x7a9),_0x1d251c),showMessage(_0x5d0b95(0xac8));}}async function handleShortcutClick(_0x2b0aa1){const _0xe1c537=_0x7550fe,_0x69964c=blueprintShortcuts[_0xe1c537(0x3de)](_0x144f95=>_0x144f95['id']===_0x2b0aa1);if(!_0x69964c||!_0x69964c[_0xe1c537(0xbe0)])return;document[_0xe1c537(0xb9f)](_0xe1c537(0x918))['classList'][_0xe1c537(0x314)](_0xe1c537(0x3c0)),document[_0xe1c537(0xb9f)](_0xe1c537(0x686))[_0xe1c537(0xa75)]=!![];const _0x4124d3=document['getElementById']('loader'),_0xaedbb6=document[_0xe1c537(0xb9f)]('loader-text');document[_0xe1c537(0xb9f)](_0xe1c537(0x177))[_0xe1c537(0x5f6)][_0xe1c537(0x309)](_0xe1c537(0x3c0)),document['getElementById']('generated-quiz-container')['innerHTML']='',_0x4124d3[_0xe1c537(0x5f6)][_0xe1c537(0x309)](_0xe1c537(0x3c0));try{_0xaedbb6['textContent']=_0xe1c537(0x464);const _0x2d6d9e=await fetchFileFromUrl(_0x69964c[_0xe1c537(0xbe0)],'blueprint.pdf');let _0x3a26df=null;if(_0x69964c[_0xe1c537(0x18d)]){_0xaedbb6['textContent']=_0xe1c537(0x2c9);const _0x65add8=_0x69964c[_0xe1c537(0x18d)][_0xe1c537(0x402)]()[_0xe1c537(0xafb)](_0xe1c537(0xb18))?_0xe1c537(0x2f3):_0xe1c537(0x8e3);_0x3a26df=await fetchFileFromUrl(_0x69964c['referenceUrl'],_0x65add8);}await handleGenerateFromBlueprintWithFiles(_0x2d6d9e,_0x3a26df);}catch(_0x5b92d9){console[_0xe1c537(0x930)](_0xe1c537(0x697),_0x5b92d9),showMessage(_0xe1c537(0x773)+_0x5b92d9[_0xe1c537(0xa4c)]),_0x4124d3[_0xe1c537(0x5f6)][_0xe1c537(0x314)](_0xe1c537(0x3c0));}}function getDirectDownloadUrl(_0x4a9282){const _0x174595=_0x7550fe,_0x186e06=_0x4a9282[_0x174595(0x897)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x186e06&&_0x186e06[0x1])return _0x174595(0x4bf)+_0x186e06[0x1];return _0x4a9282;}async function fetchFileFromUrl(_0x5566d1,_0x6e9b91){const _0x40fc88=_0x7550fe,_0x3e873c=getDirectDownloadUrl(_0x5566d1),_0x1e0b05='https://corsproxy.io/?'+encodeURIComponent(_0x3e873c),_0x3366e3=await fetch(_0x1e0b05);if(!_0x3366e3['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x3366e3[_0x40fc88(0x78a)]+')');const _0x50aae0=await _0x3366e3[_0x40fc88(0xaa3)](),_0x8c16c2=getMimeTypeFromFilename(_0x6e9b91);return console['log'](_0x40fc88(0x913)+_0x6e9b91+_0x40fc88(0x34f)+_0x8c16c2),new File([_0x50aae0],_0x6e9b91,{'type':_0x8c16c2});}async function handleGenerateFromBlueprintWithFiles(_0x18dc57,_0x2ac608=null){const _0x4cef53=_0x7550fe;if(!_0x18dc57){showMessage(_0x4cef53(0x545));return;}const _0x4ca61f=document[_0x4cef53(0xb9f)](_0x4cef53(0x8cd)),_0x38ca95=document[_0x4cef53(0xb9f)](_0x4cef53(0x58c));_0x4ca61f[_0x4cef53(0x5f6)][_0x4cef53(0x309)](_0x4cef53(0x3c0)),document[_0x4cef53(0xb9f)]('quiz-generation-area')[_0x4cef53(0x5f6)]['remove']('hidden'),document['getElementById'](_0x4cef53(0x224))[_0x4cef53(0x215)]='';try{_0x38ca95[_0x4cef53(0x33f)]=_0x4cef53(0xa3c);const _0x2e707a=await new Promise((_0x19e555,_0x366e62)=>{const _0x57a8b4=_0x4cef53,_0x88fa43=new FileReader();_0x88fa43['readAsDataURL'](_0x18dc57),_0x88fa43[_0x57a8b4(0x33e)]=()=>_0x19e555(_0x88fa43[_0x57a8b4(0x7e3)][_0x57a8b4(0x735)](',')[0x1]),_0x88fa43['onerror']=_0x366e62;}),_0x269e86=[];if(_0x2ac608){_0x38ca95[_0x4cef53(0x33f)]=_0x4cef53(0x95f);const _0x47e8e6=await _0x2ac608[_0x4cef53(0x965)]();_0x269e86[_0x4cef53(0x5ca)]({'text':_0x4cef53(0x1d4)+_0x47e8e6});}const _0x5ae75b=[{'text':'...'},{'inlineData':{'mimeType':_0x18dc57[_0x4cef53(0x741)],'data':_0x2e707a}},..._0x269e86];await handleGenerateFromBlueprint(_0x5ae75b);}catch(_0xcf2b2e){console[_0x4cef53(0x930)]('Error\x20in\x20generating\x20from\x20files:',_0xcf2b2e),showMessage(_0x4cef53(0x773)+_0xcf2b2e['message']),_0x4ca61f[_0x4cef53(0x5f6)][_0x4cef53(0x314)](_0x4cef53(0x3c0));}}async function handleLiveAnswer(_0x23a65b,_0x28b1f7){const _0x174486=_0x7550fe;document[_0x174486(0xb3b)]('.live-answer-btn,\x20#live-submit-short-answer-btn')['forEach'](_0x5753a3=>_0x5753a3[_0x174486(0xa75)]=!![]);const _0x15b19b=_0x28b1f7['questionType']||currentQuizData['quizType'];let _0x53ce6f=![],_0x31f26e=_0x23a65b;if(_0x15b19b===_0x174486(0xaf9)){const _0x1daa35=(_0x23a65b||'')[_0x174486(0xba9)]();_0x53ce6f=await gradeShortAnswer(_0x1daa35,_0x28b1f7);}else{if(_0x15b19b===_0x174486(0x81c))_0x53ce6f=_0x23a65b===_0x28b1f7['correctAnswerIndex'];else{if(_0x15b19b==='true_false'){const _0x25f3ad=_0x28b1f7[_0x174486(0x9f8)];_0x53ce6f=_0x23a65b===0x0&&_0x25f3ad||_0x23a65b===0x1&&!_0x25f3ad;}else{if(_0x15b19b===_0x174486(0x370)){const _0x324a26=_0x28b1f7[_0x174486(0x11a)][_0x23a65b];_0x53ce6f=_0x324a26===_0x28b1f7[_0x174486(0xa8d)],_0x31f26e=_0x324a26;}}}}const _0x50e795=doc(db,_0x174486(0x3dc)+appId+_0x174486(0x4bc),currentLiveGameId),_0x129668={};_0x129668[_0x174486(0x406)+currentStudentName+_0x174486(0x8a0)]=!![],_0x129668['players.'+currentStudentName+_0x174486(0x7a0)]=_0x53ce6f,_0x129668[_0x174486(0x406)+currentStudentName+'.lastAnswerIndex']=_0x15b19b===_0x174486(0xaf9)||_0x15b19b===_0x174486(0x370)?null:_0x23a65b,_0x129668[_0x174486(0x406)+currentStudentName+_0x174486(0x75f)]=_0x31f26e,_0x129668[_0x174486(0x406)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x129668[_0x174486(0x406)+currentStudentName+'.isScored']=![],await updateDoc(_0x50e795,_0x129668),liveGameView[_0x174486(0x215)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x2db48b,_0x1235f9){const _0x3d52fa=_0x7550fe,_0x1680c6=Object['values'](_0x2db48b[_0x3d52fa(0x340)]||{}),_0x254381=_0x1235f9['questionType']||currentQuizData[_0x3d52fa(0x874)],_0x49a6b5=_0x254381==='true_false'?[_0x3d52fa(0x9df),'ไม่ใช่']:_0x1235f9[_0x3d52fa(0xbe2)]||_0x1235f9[_0x3d52fa(0x11a)]||[],_0xdd67a7={},_0xb32d34=new Array(_0x49a6b5['length'])[_0x3d52fa(0xbd1)](0x0);_0x49a6b5[_0x3d52fa(0x94f)]((_0x13c491,_0x582e45)=>{_0xdd67a7[_0x582e45]=[];}),Object[_0x3d52fa(0x8f3)](_0x2db48b[_0x3d52fa(0x340)]||{})[_0x3d52fa(0x94f)](([_0x5221ed,_0xcd1cd2])=>{const _0x20f346=_0x3d52fa;if(_0xcd1cd2[_0x20f346(0x78a)]===_0x20f346(0x97e)&&_0xcd1cd2['lastAnswerIndex']!==undefined){const _0x2d2a57=_0xcd1cd2[_0x20f346(0x853)];_0xdd67a7[_0x2d2a57]&&(_0xdd67a7[_0x2d2a57][_0x20f346(0x5ca)](_0x5221ed),_0xb32d34[_0x2d2a57]++);}});const _0x376db0=Math[_0x3d52fa(0x2b7)](..._0xb32d34,0x1),_0xca01f9=_0x3d52fa(0x227)+(_0x1235f9[_0x3d52fa(0x4b6)]||_0x1235f9[_0x3d52fa(0x653)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb32d34[_0x3d52fa(0x25d)]((_0x27d550,_0xb43a11)=>{const _0x3618a5=_0x3d52fa,_0x25c056=_0xdd67a7[_0xb43a11][_0x3618a5(0x384)]>0x0?_0xdd67a7[_0xb43a11][_0x3618a5(0x7fa)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x39888d=![];if(_0x254381===_0x3618a5(0x81c))_0x39888d=_0xb43a11===_0x1235f9[_0x3618a5(0x30b)];else{if(_0x254381===_0x3618a5(0x728)){const _0x6a0a24=_0x1235f9[_0x3618a5(0x9f8)];_0x39888d=_0x6a0a24&&_0xb43a11===0x0||!_0x6a0a24&&_0xb43a11===0x1;}else _0x254381===_0x3618a5(0x370)&&(_0x39888d=_0x49a6b5[_0xb43a11]===_0x1235f9[_0x3618a5(0xa8d)]);}const _0x5dfe40=_0x39888d?_0x3618a5(0x317):'#e21b3c';return _0x3618a5(0xb96)+_0x27d550+_0x3618a5(0x5bf)+_0x5dfe40+_0x3618a5(0x862)+_0xb43a11+_0x3618a5(0x8e9)+_0x49a6b5[_0xb43a11]+_0x3618a5(0x3c6)+_0xb43a11+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25c056+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3d52fa(0x7fa)]('')+_0x3d52fa(0x4a5);liveGameView[_0x3d52fa(0x215)]=_0xca01f9;if(window['MathJax'])MathJax[_0x3d52fa(0x806)]();document['getElementById']('show-leaderboard-btn')['addEventListener'](_0x3d52fa(0x909),async()=>{const _0x45fc1d=_0x3d52fa,_0xc318ad=doc(db,_0x45fc1d(0x3dc)+appId+_0x45fc1d(0x4bc),currentLiveGameId);await updateDoc(_0xc318ad,{'questionStatus':_0x45fc1d(0x8d0)});}),document['getElementById']('open-scratchpad-btn')['addEventListener'](_0x3d52fa(0x909),()=>{openScratchpad(_0x1235f9,_0x49a6b5);});}function showPlayerSummaryView(_0x368ea5,_0xec7723){const _0x1714c7=_0x7550fe,_0x939e51=Object['values'](_0x368ea5[_0x1714c7(0x340)]||{}),_0x2fe729=_0x368ea5[_0x1714c7(0x340)][_0xec7723],_0x2961e2=_0x939e51['filter'](_0x53da7e=>_0x53da7e[_0x1714c7(0x78a)]===_0x1714c7(0x97e))[_0x1714c7(0xa30)]((_0x487f19,_0x3930bc)=>_0x3930bc[_0x1714c7(0x5e9)]-_0x487f19[_0x1714c7(0x5e9)]),_0xbd8287=_0x2961e2['findIndex'](_0x38aae6=>_0x38aae6===_0x2fe729)+0x1,_0x5e1e05=_0x2fe729[_0x1714c7(0x71a)]?'ถูกต้อง!':_0x1714c7(0x424),_0x5f120d=_0x2fe729['lastAnswerCorrect']?_0x1714c7(0x16d):_0x1714c7(0x140),_0x12021f=_0x2fe729[_0x1714c7(0x9b9)]||0x0,_0x1e88a0=_0x1714c7(0x26d),_0x506c6a=_0x1714c7(0x4a7)+_0x1e88a0+_0x1714c7(0x38d)+_0x5f120d+_0x1714c7(0x585)+_0x5e1e05+_0x1714c7(0x444)+_0x12021f+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0xbd8287>0x0?_0xbd8287:'-')+_0x1714c7(0x980);liveGameView[_0x1714c7(0x215)]=_0x506c6a;}function createQuizFromBank(){const _0x2bc2e7=_0x7550fe,_0x3bc3d7=document[_0x2bc2e7(0xb3b)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x3bc3d7[_0x2bc2e7(0x384)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x1d70a9=[];_0x3bc3d7['forEach'](_0x1e3f53=>{const _0x3dcc39=_0x2bc2e7;_0x1d70a9[_0x3dcc39(0x5ca)](JSON['parse'](_0x1e3f53['value']));});const _0x18eae1={'topic':_0x2bc2e7(0xb22),'questions':_0x1d70a9};displayGeneratedQuiz(_0x18eae1);}function showAdminLobbyView(_0x499a7d,_0x4808cc){const _0x2f53ae=_0x7550fe;showView(_0x2f53ae(0x9ae));const _0x275d91=_0x2f53ae(0x5f5)+_0x4808cc+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x499a7d+_0x2f53ae(0x2a6);liveGameView[_0x2f53ae(0x215)]=_0x275d91,document[_0x2f53ae(0xb9f)]('start-game-btn')['addEventListener'](_0x2f53ae(0x909),async()=>{const _0x28d2ee=_0x2f53ae;if(!currentQuizData||!currentQuizData[_0x28d2ee(0x5c2)]||currentQuizData[_0x28d2ee(0x5c2)][_0x28d2ee(0x384)]===0x0){showMessage(_0x28d2ee(0xb4b));return;}try{const _0x4e69de=doc(db,_0x28d2ee(0x3dc)+appId+_0x28d2ee(0x4bc),currentLiveGameId);await updateDoc(_0x4e69de,{'status':_0x28d2ee(0x8f0),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x32f1de=currentQuizData[_0x28d2ee(0x5c2)][0x0],_0x5b3bb2=currentQuizData[_0x28d2ee(0x5c2)][_0x28d2ee(0x384)];showAdminLiveQuestionView(_0x32f1de,0x0,_0x5b3bb2);}catch(_0x4851bc){console[_0x28d2ee(0x930)](_0x28d2ee(0x9f6),_0x4851bc),showMessage(_0x28d2ee(0x814));}});}async function openGlobalLiveModal(){const _0xb0718f=_0x7550fe;if(allQuizzesGlobal[_0xb0718f(0x384)]===0x0){const _0x6e13d9=await getDocs(collection(db,_0xb0718f(0x3dc)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x6e13d9[_0xb0718f(0x68e)][_0xb0718f(0x25d)](_0x252b29=>({'id':_0x252b29['id'],..._0x252b29[_0xb0718f(0xaf1)]()}));}renderGlobalQuizList(''),document['getElementById'](_0xb0718f(0xa9a))[_0xb0718f(0x5f6)][_0xb0718f(0x309)](_0xb0718f(0x3c0));}async function openQuizBankModal(){const _0x3f8685=_0x7550fe;if(allQuizzesGlobal[_0x3f8685(0x384)]===0x0){const _0x57099c=await getDocs(collection(db,_0x3f8685(0x3dc)+appId+_0x3f8685(0x7a5)));allQuizzesGlobal=_0x57099c[_0x3f8685(0x68e)][_0x3f8685(0x25d)](_0x43fcf0=>({'id':_0x43fcf0['id'],..._0x43fcf0[_0x3f8685(0xaf1)]()}));}renderQuizBankList(''),document[_0x3f8685(0xb9f)]('quiz-bank-modal')['classList'][_0x3f8685(0x309)](_0x3f8685(0x3c0));}function renderQuizBankList(_0xda3929='',_0x1e430b=![]){const _0x5deacf=_0x7550fe,_0x278dec=document['getElementById'](_0x5deacf(0x573)),_0x5c9358=_0xda3929[_0x5deacf(0x402)]()[_0x5deacf(0x9f3)](),_0x1956ec=allQuizzesGlobal[_0x5deacf(0x25d)](_0x5ba8a7=>({..._0x5ba8a7,'projectName':allProjects[_0x5deacf(0x3de)](_0xc43577=>_0xc43577['id']===_0x5ba8a7[_0x5deacf(0x176)])?.['projectName']||_0x5deacf(0x629)}))[_0x5deacf(0x67f)](_0x747a6c=>(_0x747a6c[_0x5deacf(0xb1c)]||'')[_0x5deacf(0x402)]()[_0x5deacf(0x6b7)](_0x5c9358)||(_0x747a6c[_0x5deacf(0x7aa)]||'')[_0x5deacf(0x402)]()[_0x5deacf(0x6b7)](_0x5c9358)||_0x747a6c['id'][_0x5deacf(0xba9)]()[_0x5deacf(0x6b7)](_0x5c9358));document[_0x5deacf(0xb9f)](_0x5deacf(0xb93))[_0x5deacf(0x33f)]='('+_0x1956ec['length']+_0x5deacf(0x5ef),_0x278dec[_0x5deacf(0x215)]=_0x1956ec[_0x5deacf(0x384)]?_0x1956ec['map'](_0x4f8714=>{const _0xc7e377=_0x5deacf,_0x330f10=!_0x1e430b?_0xc7e377(0x4ca)+_0x4f8714['id']+_0xc7e377(0xa22)+_0x4f8714['id']+_0xc7e377(0x7b4)+_0x4f8714['id']+_0xc7e377(0x941)+_0x4f8714['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f8714['id']+_0xc7e377(0x6c6)+_0x4f8714['id']+_0xc7e377(0x634)+_0x4f8714[_0xc7e377(0xb1c)]+_0xc7e377(0x9f2):'';return _0xc7e377(0x229)+_0x4f8714['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x4f8714['topic']||_0xc7e377(0x701))+_0xc7e377(0x49a)+(_0x4f8714[_0xc7e377(0x5c2)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x4f8714[_0xc7e377(0x7aa)]+_0xc7e377(0x8c7)+_0x4f8714['id']+_0xc7e377(0xb46)+_0x330f10+_0xc7e377(0x70b);})[_0x5deacf(0x7fa)](''):_0x5deacf(0xa87),!_0x1e430b&&(_0x278dec['querySelectorAll']('.quiz-bank-item')[_0x5deacf(0x94f)](_0x22bd70=>{const _0x571f3c=_0x5deacf;_0x22bd70[_0x571f3c(0x52b)](_0x571f3c(0x909),()=>{const _0x2f88de=_0x571f3c,_0x55bde8=_0x22bd70[_0x2f88de(0xb7f)]['id'];document[_0x2f88de(0xb9f)]('quiz-bank-modal')[_0x2f88de(0x5f6)][_0x2f88de(0x314)](_0x2f88de(0x3c0)),showQuizDetailView(_0x55bde8);});}),_0x278dec['querySelectorAll'](_0x5deacf(0x3c2))[_0x5deacf(0x94f)](_0xb13c46=>{const _0x510cc6=_0x5deacf;_0xb13c46['addEventListener'](_0x510cc6(0x909),_0x563196=>{const _0x1a6572=_0x510cc6;_0x563196[_0x1a6572(0x663)]();const _0x5cf26b=_0xb13c46[_0x1a6572(0xb7f)]['id'],_0x2b3294=allQuizzesGlobal['find'](_0x5afefd=>_0x5afefd['id']===_0x5cf26b);_0x2b3294?(currentQuizData=_0x2b3294,document[_0x1a6572(0xb9f)]('quiz-bank-modal')[_0x1a6572(0x5f6)][_0x1a6572(0x314)](_0x1a6572(0x3c0)),startAdminTest()):showMessage(_0x1a6572(0x2f0));});}),_0x278dec['querySelectorAll'](_0x5deacf(0x651))[_0x5deacf(0x94f)](_0x561159=>{const _0x109b37=_0x5deacf;_0x561159[_0x109b37(0x52b)]('click',_0x57658e=>{const _0x392517=_0x109b37;_0x57658e['stopPropagation']();const _0x3a28c7=_0x561159['dataset']['id'],_0x33ae39=allQuizzesGlobal[_0x392517(0x3de)](_0x162405=>_0x162405['id']===_0x3a28c7);_0x33ae39?(document['getElementById'](_0x392517(0x216))[_0x392517(0x5f6)][_0x392517(0x314)](_0x392517(0x3c0)),handleGenerateParallelFromBank(_0x33ae39)):showMessage(_0x392517(0x2f0));});}),_0x278dec[_0x5deacf(0xb3b)](_0x5deacf(0x3ed))['forEach'](_0xc877d8=>{const _0x4b2af9=_0x5deacf;_0xc877d8['addEventListener'](_0x4b2af9(0x909),_0x3ce055=>{const _0x11ad7d=_0x4b2af9;_0x3ce055[_0x11ad7d(0x663)]();const _0x2311bc=_0xc877d8[_0x11ad7d(0xb7f)]['id'],_0x4225bc=allQuizzesGlobal[_0x11ad7d(0x3de)](_0x39c27f=>_0x39c27f['id']===_0x2311bc);_0x4225bc?(document[_0x11ad7d(0xb9f)](_0x11ad7d(0x216))[_0x11ad7d(0x5f6)]['add'](_0x11ad7d(0x3c0)),startPresentation(_0x4225bc)):showMessage(_0x11ad7d(0x2f0));});}),_0x278dec[_0x5deacf(0xb3b)](_0x5deacf(0x34e))[_0x5deacf(0x94f)](_0x40979f=>{const _0x16d685=_0x5deacf;_0x40979f[_0x16d685(0x52b)]('click',_0x5ad1d2=>{const _0x44335d=_0x16d685;_0x5ad1d2[_0x44335d(0x663)]();const _0x1dbb57=_0x40979f[_0x44335d(0xb7f)]['id'];document[_0x44335d(0xb9f)]('quiz-bank-modal')[_0x44335d(0x5f6)][_0x44335d(0x314)]('hidden'),handleMoveQuiz(_0x1dbb57);});}),_0x278dec['querySelectorAll'](_0x5deacf(0xbc3))[_0x5deacf(0x94f)](_0x46fb77=>{const _0x39528a=_0x5deacf;_0x46fb77[_0x39528a(0x52b)]('click',_0x1b2c69=>{const _0xedb32d=_0x39528a;_0x1b2c69[_0xedb32d(0x663)]();const _0x23255c=_0x46fb77[_0xedb32d(0xb7f)]['id'];document[_0xedb32d(0xb9f)](_0xedb32d(0x216))[_0xedb32d(0x5f6)]['add'](_0xedb32d(0x3c0)),handleQuizSettings(_0x23255c);});}),_0x278dec[_0x5deacf(0xb3b)](_0x5deacf(0x3a3))[_0x5deacf(0x94f)](_0x24ef8f=>{const _0x8bfbb3=_0x5deacf;_0x24ef8f[_0x8bfbb3(0x52b)]('click',_0x6475b7=>{const _0x5c4e29=_0x8bfbb3;_0x6475b7['stopPropagation']();const _0xb59d6e=_0x24ef8f[_0x5c4e29(0xb7f)]['id'],_0x519f65=_0x24ef8f[_0x5c4e29(0xb7f)][_0x5c4e29(0xb1c)];showConfirmation(_0x5c4e29(0x517)+_0x519f65+_0x5c4e29(0x6bd),()=>handleDeleteQuiz(_0xb59d6e));});}));}async function handleCompareResults(_0x39e0b8,_0x34fe7f){const _0x2a6739=_0x7550fe,_0x348b12=document[_0x2a6739(0xb9f)](_0x2a6739(0x2ff)),_0x1bcb5f=document[_0x2a6739(0xb9f)]('comparison-overall-content'),_0x25156b=document[_0x2a6739(0xb9f)](_0x2a6739(0xa1f));document[_0x2a6739(0xb9f)]('comparison-overall-tab')[_0x2a6739(0x5f6)][_0x2a6739(0x314)](_0x2a6739(0x97e)),document[_0x2a6739(0xb9f)](_0x2a6739(0x3f8))[_0x2a6739(0x5f6)]['remove']('active'),_0x1bcb5f[_0x2a6739(0x5f6)][_0x2a6739(0x309)](_0x2a6739(0x3c0)),_0x25156b[_0x2a6739(0x5f6)][_0x2a6739(0x314)](_0x2a6739(0x3c0)),_0x1bcb5f[_0x2a6739(0x215)]=_0x2a6739(0x81f),_0x25156b[_0x2a6739(0x215)]='',_0x348b12[_0x2a6739(0x5f6)]['remove'](_0x2a6739(0x3c0));try{const _0x7052a=doc(db,_0x2a6739(0x3dc)+appId+'/public/data/quizzes',_0x39e0b8),_0x13ebe5=await getDoc(_0x7052a);if(!_0x13ebe5[_0x2a6739(0x7be)]())throw new Error(_0x2a6739(0x6e7));const _0x2489c9=_0x13ebe5[_0x2a6739(0xaf1)](),_0x15bb3d=_0x2489c9[_0x2a6739(0x5c2)][_0x2a6739(0x384)],_0x53ae36=collection(db,_0x2a6739(0x3dc)+appId+_0x2a6739(0x315)+_0x34fe7f+_0x2a6739(0x6dd)),_0x42b17c=collection(db,_0x2a6739(0x3dc)+appId+_0x2a6739(0x315)+_0x39e0b8+_0x2a6739(0x6dd)),[_0xa8e06e,_0x5177ee]=await Promise[_0x2a6739(0xa9e)]([getDocs(_0x53ae36),getDocs(_0x42b17c)]),_0x2e5549=_0xa8e06e[_0x2a6739(0x68e)][_0x2a6739(0x25d)](_0x4dd6f2=>_0x4dd6f2[_0x2a6739(0xaf1)]()),_0x2f2dcc=_0x5177ee['docs'][_0x2a6739(0x25d)](_0x1e901e=>_0x1e901e[_0x2a6739(0xaf1)]()),_0x19a86e=_0x2e5549['map'](_0x3a8dd1=>_0x3a8dd1[_0x2a6739(0xb08)]),_0x232917=_0x2f2dcc[_0x2a6739(0x25d)](_0x57ba37=>_0x57ba37['latestScore']),_0x204c62=calculateMeanAndStdDev(_0x19a86e),_0x8b721b=calculateMeanAndStdDev(_0x232917),_0x54562e=_0x204c62[_0x2a6739(0x299)],_0x25aa38=_0x8b721b[_0x2a6739(0x299)],_0x5d4b03=_0x25aa38-_0x54562e;let _0xc9bd16=_0x2a6739(0x2be)+_0x54562e[_0x2a6739(0x8f2)](0x2)+_0x2a6739(0x54b)+_0x25aa38[_0x2a6739(0x8f2)](0x2)+_0x2a6739(0x335)+(_0x5d4b03>=0x0?_0x2a6739(0x4cc):_0x2a6739(0x4e6))+_0x2a6739(0xab5)+(_0x5d4b03>=0x0?_0x2a6739(0x984):'text-red-800')+_0x2a6739(0x4db)+(_0x5d4b03>=0x0?'text-emerald-900':_0x2a6739(0xbf9))+'\x22>'+(_0x5d4b03>=0x0?'+':'')+_0x5d4b03['toFixed'](0x2)+_0x2a6739(0x4f3);_0x1bcb5f[_0x2a6739(0x215)]=_0xc9bd16;const _0x46e07b=document['getElementById'](_0x2a6739(0x31d))[_0x2a6739(0xb7c)]('2d');if(chartInstances[_0x2a6739(0x17a)])chartInstances['comparison'][_0x2a6739(0x6f8)]();chartInstances[_0x2a6739(0x17a)]=new Chart(_0x46e07b,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x2a6739(0x1d9),'data':[_0x54562e],'backgroundColor':_0x2a6739(0x304)},{'label':_0x2a6739(0x724),'data':[_0x25aa38],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x15bb3d}}}});const _0x5145d8=currentProjectData[_0x2a6739(0x80f)]||[],_0x13275b=_0x5145d8['map'](_0xd2ba75=>{const _0x443ae9=_0x2a6739,_0x3042ec=_0x2e5549['find'](_0x390bf5=>_0x390bf5[_0x443ae9(0x884)]===_0xd2ba75),_0x46efac=_0x2f2dcc[_0x443ae9(0x3de)](_0x315733=>_0x315733['studentName']===_0xd2ba75),_0x3a3627=_0x3042ec?_0x3042ec[_0x443ae9(0xb08)]:null,_0x562fd9=_0x46efac?_0x46efac[_0x443ae9(0xb08)]:null,_0x3360d2=_0x3a3627!==null&&_0x562fd9!==null?_0x562fd9-_0x3a3627:null,_0x5d3304=_0x3a3627!==null?calculateZScore(_0x3a3627,_0x204c62[_0x443ae9(0x299)],_0x204c62[_0x443ae9(0x7d5)]):null,_0xfd01d9=_0x562fd9!==null?calculateZScore(_0x562fd9,_0x8b721b[_0x443ae9(0x299)],_0x8b721b['stdDev']):null,_0x24e829=_0x5d3304!==null?calculateTScore(_0x5d3304):null,_0x5acc92=_0xfd01d9!==null?calculateTScore(_0xfd01d9):null,_0x6cba31=_0x24e829!==null&&_0x5acc92!==null?_0x5acc92-_0x24e829:null;return{'name':_0xd2ba75,'preScore':_0x3a3627,'postScore':_0x562fd9,'gain':_0x3360d2,'preTScore':_0x24e829,'postTScore':_0x5acc92,'tGain':_0x6cba31};});renderIndividualComparisonTable(_0x13275b,_0x25156b);}catch(_0x42c820){console[_0x2a6739(0x930)](_0x2a6739(0x1a2),_0x42c820),_0x1bcb5f[_0x2a6739(0x215)]=_0x2a6739(0x68d);}}async function saveBlueprintProject(){const _0x4d76fe=_0x7550fe;if(!extractedBlueprintData||!extractedBlueprintData[_0x4d76fe(0x36f)]){showMessage(_0x4d76fe(0x7bf));return;}const _0x410bdf=prompt(_0x4d76fe(0x1a9),_0x4d76fe(0x27b));if(!_0x410bdf||_0x410bdf['trim']()==='')return;const _0x341b85={};extractedBlueprintData['curriculum'][_0x4d76fe(0x94f)](_0x500643=>{const _0x261bf8=_0x4d76fe;_0x500643[_0x261bf8(0x61d)][_0x261bf8(0x94f)](_0xdb5dad=>{const _0x326696=_0x261bf8;_0xdb5dad[_0x326696(0xb43)][_0x326696(0x94f)](_0x23423f=>{const _0x5be76d=_0x326696,_0x295fd7=_0x5be76d(0x1c3)+Date[_0x5be76d(0x711)]()+Math[_0x5be76d(0x5b4)]()[_0x5be76d(0xba9)](0x24)[_0x5be76d(0x131)](0x2,0x9);_0x341b85[_0x295fd7]={'sara':_0x500643[_0x5be76d(0x5ee)],'mainTopic':_0xdb5dad[_0x5be76d(0xa70)],'subTopic':_0x23423f,'status':_0x5be76d(0x11f),'lessonContent':null};});});});try{const _0x4e72a2=collection(db,_0x4d76fe(0x3dc)+appId+'/public/data/blueprintProjects');await addDoc(_0x4e72a2,{'projectName':_0x410bdf[_0x4d76fe(0x9f3)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x341b85,'createdAt':serverTimestamp()}),showMessage(_0x4d76fe(0x15f)+_0x410bdf[_0x4d76fe(0x9f3)]()+_0x4d76fe(0x1c1)),document[_0x4d76fe(0xb9f)](_0x4d76fe(0x660))[_0x4d76fe(0x5f6)][_0x4d76fe(0x314)]('hidden');}catch(_0x11fbe8){console[_0x4d76fe(0x930)]('Error\x20saving\x20blueprint\x20project:',_0x11fbe8),showMessage(_0x4d76fe(0x889));}}async function showBlueprintProjects(){const _0x306ed0=_0x7550fe,_0x24a0ba=document[_0x306ed0(0xb9f)](_0x306ed0(0xa6c)),_0x26b0a5=document[_0x306ed0(0xb9f)](_0x306ed0(0x95d));_0x26b0a5[_0x306ed0(0x215)]=_0x306ed0(0x1b4),_0x24a0ba['classList'][_0x306ed0(0x309)](_0x306ed0(0x3c0));try{const _0x51e306=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects'),_0x25cbc8=await getDocs(_0x51e306);if(_0x25cbc8[_0x306ed0(0x8d2)]){_0x26b0a5[_0x306ed0(0x215)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x171722=_0x25cbc8[_0x306ed0(0x68e)][_0x306ed0(0x25d)](_0x11fa6f=>({'id':_0x11fa6f['id'],..._0x11fa6f[_0x306ed0(0xaf1)]()}));_0x171722[_0x306ed0(0xa30)]((_0x1959d2,_0xc5a93b)=>_0x1959d2[_0x306ed0(0x7aa)][_0x306ed0(0x45d)](_0xc5a93b[_0x306ed0(0x7aa)],'th')),_0x26b0a5['innerHTML']=_0x171722[_0x306ed0(0x25d)](_0x11f1ce=>_0x306ed0(0x788)+_0x11f1ce['projectName']+_0x306ed0(0x5d1)+_0x11f1ce[_0x306ed0(0xae4)]+_0x306ed0(0x6f3)+Object[_0x306ed0(0xaa6)](_0x11f1ce['topics'])[_0x306ed0(0x384)]+_0x306ed0(0x4fa)+_0x11f1ce['id']+_0x306ed0(0x864)+_0x11f1ce['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}catch(_0x55ba6a){console[_0x306ed0(0x930)](_0x306ed0(0x578),_0x55ba6a),_0x26b0a5['innerHTML']=_0x306ed0(0x586);}}async function displayBlueprintProjectManager(_0x140793){const _0x5a8de8=_0x7550fe;currentBlueprintProjectId=_0x140793,document['getElementById'](_0x5a8de8(0xa6c))[_0x5a8de8(0x5f6)][_0x5a8de8(0x314)](_0x5a8de8(0x3c0)),showView(_0x5a8de8(0x452)),projectDashboardView['classList']['add'](_0x5a8de8(0x3c0));const _0x5b1a20=document[_0x5a8de8(0xb9f)](_0x5a8de8(0xb3e));_0x5b1a20[_0x5a8de8(0x5f6)][_0x5a8de8(0x309)]('hidden'),document[_0x5a8de8(0xb9f)](_0x5a8de8(0xa46))[_0x5a8de8(0x215)]=_0x5a8de8(0x81f);try{const _0x1a1de4=doc(db,_0x5a8de8(0x3dc)+appId+_0x5a8de8(0x312),_0x140793),_0x3eac54=await getDoc(_0x1a1de4);if(!_0x3eac54[_0x5a8de8(0x7be)]())throw new Error(_0x5a8de8(0x51e));const _0x25d8bb={'id':_0x3eac54['id'],..._0x3eac54[_0x5a8de8(0xaf1)]()};document[_0x5a8de8(0xb9f)]('bp-project-title')[_0x5a8de8(0x33f)]=_0x25d8bb['projectName'],renderBlueprintTopicManager(_0x25d8bb);}catch(_0x4088f4){console[_0x5a8de8(0x930)]('Error\x20displaying\x20blueprint\x20project:',_0x4088f4),showMessage(_0x4088f4['message']),showView(_0x5a8de8(0x452));}}function renderBlueprintTopicManager(_0x44584c){const _0x20f5c4=_0x7550fe,_0x4e438f=document[_0x20f5c4(0xb9f)](_0x20f5c4(0xa46)),_0x39f906=_0x44584c[_0x20f5c4(0x90d)]||{};if(Object[_0x20f5c4(0xaa6)](_0x39f906)[_0x20f5c4(0x384)]===0x0){_0x4e438f[_0x20f5c4(0x215)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x209a49={};for(const _0x2428ab in _0x39f906){const _0x28ce12={'id':_0x2428ab,..._0x39f906[_0x2428ab]};_0x209a49[_0x28ce12[_0x20f5c4(0x5ee)]]=_0x209a49[_0x28ce12[_0x20f5c4(0x5ee)]]||{},_0x209a49[_0x28ce12[_0x20f5c4(0x5ee)]][_0x28ce12[_0x20f5c4(0x419)]]=_0x209a49[_0x28ce12[_0x20f5c4(0x5ee)]][_0x28ce12[_0x20f5c4(0x419)]]||[],_0x209a49[_0x28ce12[_0x20f5c4(0x5ee)]][_0x28ce12[_0x20f5c4(0x419)]][_0x20f5c4(0x5ca)](_0x28ce12);}let _0x574bf5='';const _0x44270a=Object[_0x20f5c4(0xaa6)](_0x209a49)[_0x20f5c4(0xa30)]((_0x181cae,_0x2cf321)=>_0x181cae[_0x20f5c4(0x45d)](_0x2cf321,'th'));for(const _0x3acd67 of _0x44270a){_0x574bf5+=_0x20f5c4(0x247)+_0x3acd67+_0x20f5c4(0xb10);const _0x241ed1=Object[_0x20f5c4(0xaa6)](_0x209a49[_0x3acd67])[_0x20f5c4(0xa30)]((_0x537997,_0x355804)=>_0x537997['localeCompare'](_0x355804,'th'));for(const _0x17b501 of _0x241ed1){_0x574bf5+=_0x20f5c4(0x192)+_0x17b501+_0x20f5c4(0x27a),_0x209a49[_0x3acd67][_0x17b501][_0x20f5c4(0xa30)]((_0x592c01,_0x540118)=>_0x592c01[_0x20f5c4(0x4e0)][_0x20f5c4(0x45d)](_0x540118[_0x20f5c4(0x4e0)],'th')),_0x209a49[_0x3acd67][_0x17b501][_0x20f5c4(0x94f)](_0x35939f=>{const _0x1f4290=_0x20f5c4,_0x13f4f1=_0x35939f['id'],_0x5b58c6=_0x35939f['linkedQuizIds']||[],_0xd3caf2=_0x5b58c6[_0x1f4290(0x384)]>0x0,_0x2eecdb=_0x35939f[_0x1f4290(0x78a)]===_0x1f4290(0x497);let _0xbb8629='';_0xd3caf2?_0xbb8629=_0x1f4290(0x441)+_0x5b58c6[_0x1f4290(0x384)]+_0x1f4290(0x3eb):_0xbb8629='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x2eecdb?_0x1f4290(0x755):_0x1f4290(0x86e))+'\x22>'+(_0x2eecdb?'สร้างแล้ว':_0x1f4290(0x594))+_0x1f4290(0xa57);const _0xeb4497=!_0x2eecdb?_0x1f4290(0x6c0):'',_0x429125=!_0x2eecdb?_0x1f4290(0x46a):'';let _0x199271=_0x2eecdb?_0x1f4290(0xa28):_0x1f4290(0x3c4);_0x574bf5+=_0x1f4290(0x650)+_0x13f4f1+_0x1f4290(0x28f)+_0x35939f[_0x1f4290(0x4e0)]+_0x1f4290(0x700)+_0xbb8629+_0x1f4290(0x472)+_0xeb4497+_0x1f4290(0x1ca)+_0x429125+_0x1f4290(0x76f)+_0x199271+_0x1f4290(0x8ac);}),_0x574bf5+=_0x20f5c4(0x956);}_0x574bf5+=_0x20f5c4(0xa2b);}_0x4e438f[_0x20f5c4(0x215)]=_0x574bf5;}async function openTopicQuizBank(_0x29e9ff){const _0x2ccc2f=_0x7550fe,_0x33a648=document['getElementById'](_0x2ccc2f(0x877)),_0x30970b=document[_0x2ccc2f(0xb9f)](_0x2ccc2f(0x2a1)),_0x3b6b70=document[_0x2ccc2f(0xb9f)](_0x2ccc2f(0x4a6));try{await ensureGlobalQuizzesLoaded();const _0x4235e2=doc(db,'artifacts/'+appId+_0x2ccc2f(0x312),currentBlueprintProjectId),_0x3c57da=await getDoc(_0x4235e2);if(!_0x3c57da['exists']())return;const _0x57a8cc=_0x3c57da[_0x2ccc2f(0xaf1)](),_0x314ede=_0x57a8cc['topics'][_0x29e9ff];document[_0x2ccc2f(0xb9f)](_0x2ccc2f(0xad4))[_0x2ccc2f(0x33f)]=_0x314ede[_0x2ccc2f(0x4e0)];const _0x3a0925=_0x314ede[_0x2ccc2f(0xb2b)]||[];_0x3b6b70['classList']['toggle'](_0x2ccc2f(0x3c0),_0x3a0925['length']===0x0),_0x3b6b70[_0x2ccc2f(0x6ff)]=()=>handleClearAllLinksForTopic(_0x29e9ff);if(_0x3a0925[_0x2ccc2f(0x384)]===0x0)_0x30970b['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0xe5b617=allQuizzesGlobal['filter'](_0x55de05=>_0x3a0925[_0x2ccc2f(0x6b7)](_0x55de05['id']));_0x30970b[_0x2ccc2f(0x215)]=_0xe5b617[_0x2ccc2f(0x25d)](_0x3e5c77=>_0x2ccc2f(0xbc1)+_0x3e5c77['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x3e5c77['topic']+_0x2ccc2f(0x843)+_0x3e5c77['id']+'\x20|\x20'+_0x3e5c77[_0x2ccc2f(0x5c2)][_0x2ccc2f(0x384)]+_0x2ccc2f(0x27c)+_0x3e5c77['id']+_0x2ccc2f(0x4fd)+_0x3e5c77['id']+_0x2ccc2f(0xb04)+_0x3e5c77['id']+_0x2ccc2f(0x9cb)+_0x3e5c77['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3e5c77['id']+_0x2ccc2f(0x75b)+_0x3e5c77['id']+_0x2ccc2f(0x249)+_0x29e9ff+_0x2ccc2f(0x4c6)+_0x3e5c77['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2ccc2f(0x7fa)]('');}document[_0x2ccc2f(0xb9f)](_0x2ccc2f(0xb89))[_0x2ccc2f(0x6ff)]=()=>{openQuizSelectorForBlueprint(_0x29e9ff);},document[_0x2ccc2f(0xb9f)](_0x2ccc2f(0xae0))[_0x2ccc2f(0x6ff)]=()=>_0x33a648[_0x2ccc2f(0x5f6)][_0x2ccc2f(0x314)](_0x2ccc2f(0x3c0)),_0x33a648[_0x2ccc2f(0x5f6)]['remove'](_0x2ccc2f(0x3c0));}catch(_0x5dcf60){showMessage(_0x5dcf60[_0x2ccc2f(0xa4c)]);}}async function openQuizSelectorForBlueprint(_0x3628a4){const _0x5b4a70=_0x7550fe,_0x4bdfab=document[_0x5b4a70(0xb9f)]('quiz-bank-modal'),_0x3cd8a8=document[_0x5b4a70(0xb9f)](_0x5b4a70(0x877));_0x3cd8a8[_0x5b4a70(0x5f6)][_0x5b4a70(0x314)](_0x5b4a70(0x3c0)),document[_0x5b4a70(0xb9f)](_0x5b4a70(0x1f5))?.[_0x5b4a70(0x309)]();const _0x3be7c8=document[_0x5b4a70(0x51b)]('button');_0x3be7c8['id']='confirm-link-quiz-btn',_0x3be7c8['className']=_0x5b4a70(0x972),_0x3be7c8[_0x5b4a70(0x33f)]=_0x5b4a70(0x3f5),_0x3be7c8[_0x5b4a70(0xa75)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x4bdfab[_0x5b4a70(0x5f6)]['remove']('hidden'),renderQuizBankListForMultiSelect(''),document[_0x5b4a70(0xb9f)](_0x5b4a70(0x891))['style'][_0x5b4a70(0x9d2)]=_0x5b4a70(0x30f),_0x4bdfab[_0x5b4a70(0x2e7)](_0x5b4a70(0x4ec))[_0x5b4a70(0xa04)](_0x3be7c8);const _0x814f9d=(_0x381b9a=![])=>{const _0x1f1565=_0x5b4a70;_0x4bdfab[_0x1f1565(0x5f6)]['add'](_0x1f1565(0x3c0)),document['getElementById'](_0x1f1565(0x891))[_0x1f1565(0x2a3)][_0x1f1565(0x9d2)]=_0x1f1565(0x9b1),_0x3be7c8[_0x1f1565(0x309)](),_0x381b9a&&openTopicQuizBank(_0x3628a4);};_0x3be7c8[_0x5b4a70(0x6ff)]=async()=>{const _0x4192f5=_0x5b4a70,_0x24245c=Array[_0x4192f5(0x850)](document[_0x4192f5(0xb3b)](_0x4192f5(0x87c)))[_0x4192f5(0x25d)](_0x16b4d8=>_0x16b4d8[_0x4192f5(0x6b0)]);if(_0x24245c[_0x4192f5(0x384)]===0x0)return;try{const _0x4cb074=doc(db,_0x4192f5(0x3dc)+appId+_0x4192f5(0x312),currentBlueprintProjectId),_0x3bdd05=(await getDoc(_0x4cb074))[_0x4192f5(0xaf1)](),_0x4659d5=_0x3bdd05[_0x4192f5(0x90d)][_0x3628a4][_0x4192f5(0xb2b)]||[],_0x5284b0=[...new Set([..._0x4659d5,..._0x24245c])];await updateDoc(_0x4cb074,{[_0x4192f5(0x553)+_0x3628a4+'.linkedQuizIds']:_0x5284b0}),showMessage('เพิ่ม\x20'+_0x24245c[_0x4192f5(0x384)]+_0x4192f5(0x920)),_0x814f9d(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x293921){console['error']('Error\x20linking\x20quizzes:',_0x293921);}},document[_0x5b4a70(0xb9f)](_0x5b4a70(0x57e))['onclick']=()=>_0x814f9d(!![]);}catch(_0x2a7090){showMessage(_0x2a7090[_0x5b4a70(0xa4c)]),_0x3cd8a8[_0x5b4a70(0x5f6)][_0x5b4a70(0x309)]('hidden');}}function handleClearLinkedQuiz(_0x450553){const _0xbcc37e=_0x7550fe;showConfirmation(_0xbcc37e(0x290),async()=>{const _0x55707d=_0xbcc37e;try{const _0x1e97ea=doc(db,_0x55707d(0x3dc)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1e97ea,{[_0x55707d(0x553)+_0x450553+_0x55707d(0x3da)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2ef51d){console[_0x55707d(0x930)](_0x55707d(0x498),_0x2ef51d),showMessage(_0x55707d(0x55b));}});}async function addTopicToProject(){const _0x5afa3c=_0x7550fe,_0x195ab7=prompt(_0x5afa3c(0x822));if(!_0x195ab7||_0x195ab7[_0x5afa3c(0x9f3)]()==='')return;const _0x43f9b6=prompt(_0x5afa3c(0x329),'สาระที่\x201'),_0x4db498=prompt('อยู่ในหัวข้อหลักใด:',_0x5afa3c(0x1c4)),_0x3b75a8=_0x5afa3c(0x1c3)+Date[_0x5afa3c(0x711)]()+Math[_0x5afa3c(0x5b4)]()[_0x5afa3c(0xba9)](0x24)[_0x5afa3c(0x131)](0x2,0x9),_0x5dda52={'sara':_0x43f9b6,'mainTopic':_0x4db498,'subTopic':_0x195ab7[_0x5afa3c(0x9f3)](),'status':'not_generated','lessonContent':null};try{const _0x2ddcbd=doc(db,_0x5afa3c(0x3dc)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2ddcbd,{['topics.'+_0x3b75a8]:_0x5dda52}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x46eb1e){console['error'](_0x5afa3c(0x8bb),_0x46eb1e),showMessage(_0x5afa3c(0x50f));}}async function editTopicInProject(_0x4b9354){const _0x14577e=_0x7550fe,_0x3858ac=document[_0x14577e(0x2e7)](_0x14577e(0x632)+_0x4b9354+'\x22]'),_0x4f2ce3=_0x3858ac[_0x14577e(0x2e7)](_0x14577e(0x2ea)),_0x173ff3=_0x4f2ce3[_0x14577e(0x33f)],_0x35d58b=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x173ff3);if(!_0x35d58b||_0x35d58b[_0x14577e(0x9f3)]()===''||_0x35d58b[_0x14577e(0x9f3)]()===_0x173ff3)return;try{const _0x49078b=doc(db,_0x14577e(0x3dc)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x49078b,{['topics.'+_0x4b9354+_0x14577e(0x4ee)]:_0x35d58b[_0x14577e(0x9f3)]()}),_0x4f2ce3['textContent']=_0x35d58b['trim'](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x136c33){console[_0x14577e(0x930)]('Error\x20editing\x20topic:',_0x136c33),showMessage(_0x14577e(0x56d));}}async function deleteTopicFromProject(_0x2d806f){const _0x20cc60=_0x7550fe;if(!confirm(_0x20cc60(0x880)))return;try{const _0x34dd35=doc(db,_0x20cc60(0x3dc)+appId+_0x20cc60(0x312),currentBlueprintProjectId);await updateDoc(_0x34dd35,{['topics.'+_0x2d806f]:deleteField()}),document[_0x20cc60(0x2e7)](_0x20cc60(0x632)+_0x2d806f+'\x22]')['remove'](),showMessage(_0x20cc60(0xaf8));}catch(_0xff41ff){console['error'](_0x20cc60(0x5e1),_0xff41ff),showMessage(_0x20cc60(0x8d1));}}async function generateAndSaveLessonForBlueprint(_0x2922a6,_0x4e6306,_0x5da685){handleGenerateAndShowLesson(_0x4e6306,_0x5da685);const _0x5215c3=setInterval(async()=>{const _0x13755b=_0x393b,_0x1b52fc=document[_0x13755b(0xb9f)](_0x13755b(0x7a1)),_0xaf6fd0=_0x1b52fc['classList'][_0x13755b(0x4d3)]('hidden');if(_0xaf6fd0){clearInterval(_0x5215c3);if(currentApplicationData&&currentApplicationData[_0x13755b(0x384)]>0x0){const _0x42be32={'point':document[_0x13755b(0xb9f)](_0x13755b(0x42c))[_0x13755b(0x215)],'memory':document[_0x13755b(0xb9f)](_0x13755b(0x35a))[_0x13755b(0x215)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x13755b(0x64b))[_0x13755b(0x215)]};try{const _0x4485b1=doc(db,_0x13755b(0x3dc)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4485b1,{[_0x13755b(0x553)+_0x2922a6+'.lessonContent']:_0x42be32,[_0x13755b(0x553)+_0x2922a6+_0x13755b(0x46d)]:_0x13755b(0x497)}),console[_0x13755b(0xbf7)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x2922a6+_0x13755b(0xb34)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x549f59){console['error']('Error\x20saving\x20lesson\x20to\x20project:',_0x549f59);}}}},0x3e8);}function displayHalfMarkResult(_0xbe67,_0x98b0b3){const _0x457754=_0x7550fe,_0x3db295=_0xbe67>=_0x98b0b3/0x2,_0x3c7bd5=_0x3db295?'bg-green-100':_0x457754(0x4e6),_0x397ca7=_0x3db295?_0x457754(0x934):_0x457754(0x3d8),_0x50dcca=_0x3db295?'text-green-800':_0x457754(0x221),_0x37f2a3=_0x3db295?_0x457754(0x286):_0x457754(0x5c9),_0x5dcb1f=_0x3db295?_0x457754(0x50e):_0x457754(0x796);let _0x113542=_0x457754(0x198)+_0x3c7bd5+_0x457754(0x92b)+_0x397ca7+_0x457754(0xb30)+_0x50dcca+_0x457754(0x4d2)+_0x37f2a3+_0x457754(0x9b0)+_0x5dcb1f+_0x457754(0x149);studentResultArea[_0x457754(0x215)]=_0x113542,studentResultArea[_0x457754(0x5f6)][_0x457754(0x309)](_0x457754(0x3c0)),studentQuizArea['classList'][_0x457754(0x314)](_0x457754(0x3c0)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3db295});}function displayPerfectScoreResult(_0x5f31b9,_0x527080){const _0x1a1ea8=_0x7550fe,_0x5ae46a=_0x5f31b9===_0x527080,_0x18b11d=_0x5ae46a?_0x1a1ea8(0x434):'bg-blue-100',_0x35d62e=_0x5ae46a?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x1a1ea8(0x39c),_0x562d64=_0x5ae46a?'text-yellow-800':_0x1a1ea8(0x1cb),_0x7d9e9=_0x5ae46a?_0x1a1ea8(0xb33):_0x1a1ea8(0xb7e),_0x560360=_0x5ae46a?_0x1a1ea8(0x954):_0x1a1ea8(0x6d9);let _0x4b8cb4=_0x1a1ea8(0x198)+_0x18b11d+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35d62e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x562d64+'\x20mb-2\x22>'+_0x7d9e9+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x560360+_0x1a1ea8(0x149);studentResultArea[_0x1a1ea8(0x215)]=_0x4b8cb4,studentResultArea[_0x1a1ea8(0x5f6)]['remove'](_0x1a1ea8(0x3c0)),studentQuizArea['classList'][_0x1a1ea8(0x314)](_0x1a1ea8(0x3c0)),setupResultScreenBackButton({'showRankings':![],'score':_0x5f31b9,'totalQuestions':_0x527080});}function renderIndividualComparisonTable(_0x10f1e4,_0x2d0173){const _0x552649=_0x7550fe;_0x10f1e4[_0x552649(0xa30)]((_0x41e1b8,_0x4d8036)=>(_0x4d8036[_0x552649(0xa53)]??-Infinity)-(_0x41e1b8[_0x552649(0xa53)]??-Infinity));let _0x2e68db=_0x552649(0x62a);_0x10f1e4[_0x552649(0x384)]===0x0?_0x2e68db+=_0x552649(0x1dd):_0x10f1e4['forEach']((_0x4e561c,_0x598c41)=>{const _0x18bbc0=_0x552649;let _0x49688a='-',_0x50005c='';if(_0x4e561c['gain']!==null){const _0x503de5=_0x4e561c[_0x18bbc0(0x2c3)]>0x0?_0x18bbc0(0x754):_0x4e561c['gain']<0x0?'text-red-600':_0x18bbc0(0x503),_0x290f3e=_0x4e561c[_0x18bbc0(0x2c3)]>0x0?'+':'';_0x49688a=_0x18bbc0(0x25e)+_0x503de5+'\x22>'+_0x290f3e+_0x4e561c[_0x18bbc0(0x2c3)]+_0x18bbc0(0xa57);if(_0x4e561c['gain']>0x0)_0x50005c=_0x18bbc0(0xa67);else _0x4e561c[_0x18bbc0(0x2c3)]<0x0?_0x50005c='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x50005c='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x3c5051='-';if(_0x4e561c['tGain']!==null){const _0x101ae7=_0x4e561c[_0x18bbc0(0xa53)]>0x0?_0x18bbc0(0x754):_0x4e561c[_0x18bbc0(0xa53)]<0x0?_0x18bbc0(0xa74):'text-gray-500',_0x52613e=_0x4e561c[_0x18bbc0(0xa53)]>0x0?'+':'';_0x3c5051=_0x18bbc0(0x25e)+_0x101ae7+'\x22>'+_0x52613e+_0x4e561c[_0x18bbc0(0xa53)][_0x18bbc0(0x8f2)](0x2)+_0x18bbc0(0xa57);}_0x2e68db+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x598c41+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x4e561c[_0x18bbc0(0x47f)]+_0x18bbc0(0x852)+(_0x4e561c[_0x18bbc0(0x835)]??'-')+_0x18bbc0(0x5b0)+(_0x4e561c[_0x18bbc0(0xaa9)]??'-')+_0x18bbc0(0x852)+_0x49688a+_0x18bbc0(0x137)+_0x50005c+_0x18bbc0(0x2c8)+(_0x4e561c['preTScore']?.[_0x18bbc0(0x8f2)](0x2)??'-')+_0x18bbc0(0x2c4)+(_0x4e561c[_0x18bbc0(0x467)]?.[_0x18bbc0(0x8f2)](0x2)??'-')+_0x18bbc0(0x852)+_0x3c5051+_0x18bbc0(0x31b);}),_0x2e68db+='</tbody></table></div>',_0x2d0173['innerHTML']=_0x2e68db;}function handleRenameQuiz(_0x1d6fb4,_0x2c2b3d){const _0x4c545f=_0x7550fe;actionTargetId=_0x1d6fb4,document[_0x4c545f(0xb9f)](_0x4c545f(0x2a9))['value']=_0x2c2b3d,renameQuizModal[_0x4c545f(0x5f6)]['remove'](_0x4c545f(0x3c0));}function setupComparisonModalTabs(){const _0x556db6=_0x7550fe,_0x55b6b4=document[_0x556db6(0xb9f)]('comparison-overall-tab'),_0x51b806=document[_0x556db6(0xb9f)](_0x556db6(0x3f8)),_0x2440cf=document['getElementById'](_0x556db6(0x4bb)),_0x3bf74c=document[_0x556db6(0xb9f)](_0x556db6(0xa1f));_0x55b6b4['addEventListener']('click',()=>{const _0x5ac0f4=_0x556db6;_0x55b6b4[_0x5ac0f4(0x5f6)][_0x5ac0f4(0x314)]('active'),_0x51b806['classList'][_0x5ac0f4(0x309)](_0x5ac0f4(0x97e)),_0x2440cf[_0x5ac0f4(0x5f6)][_0x5ac0f4(0x309)](_0x5ac0f4(0x3c0)),_0x3bf74c[_0x5ac0f4(0x5f6)][_0x5ac0f4(0x314)](_0x5ac0f4(0x3c0));}),_0x51b806[_0x556db6(0x52b)](_0x556db6(0x909),()=>{const _0x51e9ec=_0x556db6;_0x51b806[_0x51e9ec(0x5f6)]['add'](_0x51e9ec(0x97e)),_0x55b6b4[_0x51e9ec(0x5f6)][_0x51e9ec(0x309)](_0x51e9ec(0x97e)),_0x3bf74c['classList'][_0x51e9ec(0x309)]('hidden'),_0x2440cf[_0x51e9ec(0x5f6)]['add'](_0x51e9ec(0x3c0));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x2c71c1=''){const _0x58b43a=_0x7550fe,_0x5d8a53=document[_0x58b43a(0xb9f)](_0x58b43a(0x73d)),_0x4e5226=_0x2c71c1[_0x58b43a(0x402)]()[_0x58b43a(0x9f3)](),_0x72818f=allQuizzesGlobal[_0x58b43a(0x25d)](_0xcc2b3e=>({..._0xcc2b3e,'projectName':allProjects['find'](_0x5c31fe=>_0x5c31fe['id']===_0xcc2b3e['projectId'])?.[_0x58b43a(0x7aa)]||_0xcc2b3e[_0x58b43a(0x176)]}))[_0x58b43a(0x67f)](_0x2cb35d=>(_0x2cb35d[_0x58b43a(0xb1c)]||'')['toLowerCase']()['includes'](_0x4e5226)||(_0x2cb35d[_0x58b43a(0x7aa)]||'')['toLowerCase']()[_0x58b43a(0x6b7)](_0x4e5226));document[_0x58b43a(0xb9f)](_0x58b43a(0x9c3))[_0x58b43a(0x33f)]='('+_0x72818f[_0x58b43a(0x384)]+_0x58b43a(0x5ef),_0x5d8a53['innerHTML']=_0x72818f[_0x58b43a(0x384)]?_0x72818f['map'](_0x13c0e0=>_0x58b43a(0x238)+_0x13c0e0['id']+_0x58b43a(0xb74)+(_0x13c0e0[_0x58b43a(0xb1c)]||_0x58b43a(0x701))+_0x58b43a(0x9a8)+(_0x13c0e0[_0x58b43a(0x5c2)]?.[_0x58b43a(0x384)]||0x0)+_0x58b43a(0x6de)+_0x13c0e0[_0x58b43a(0x7aa)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x58b43a(0x7fa)](''):_0x58b43a(0x5bc),selectedGlobalQuizId=null,document['getElementById'](_0x58b43a(0xb3d))[_0x58b43a(0xa75)]=!![],_0x5d8a53[_0x58b43a(0xb3b)]('button[data-id]')[_0x58b43a(0x94f)](_0x126232=>{const _0x10fd29=_0x58b43a;_0x126232[_0x10fd29(0x52b)](_0x10fd29(0x909),()=>{const _0x1b1fa4=_0x10fd29;selectedGlobalQuizId=_0x126232[_0x1b1fa4(0xb7f)]['id'],_0x5d8a53[_0x1b1fa4(0xb3b)](_0x1b1fa4(0x326))['forEach'](_0x27ebcc=>_0x27ebcc[_0x1b1fa4(0x5f6)][_0x1b1fa4(0x309)](_0x1b1fa4(0x647),_0x1b1fa4(0x209),_0x1b1fa4(0x690))),_0x126232[_0x1b1fa4(0x5f6)]['add'](_0x1b1fa4(0x647),_0x1b1fa4(0x209),_0x1b1fa4(0x690)),document[_0x1b1fa4(0xb9f)](_0x1b1fa4(0xb3d))[_0x1b1fa4(0xa75)]=![];});});}function listenForLiveGameUpdates(){const _0xe12920=_0x7550fe;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x523012=doc(db,_0xe12920(0x3dc)+appId+_0xe12920(0x4bc),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x523012,_0xd3e909=>{const _0x2110b7=_0xe12920;if(!_0xd3e909[_0x2110b7(0x7be)]()){showMessage(_0x2110b7(0x1b5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x2110b7(0x6fc)):showView(_0x2110b7(0x581));return;}const _0x35007a=_0xd3e909[_0x2110b7(0xaf1)]();_0x35007a[_0x2110b7(0xb6b)]&&(currentQuizData=_0x35007a[_0x2110b7(0xb6b)]);!currentQuizData&&_0x35007a[_0x2110b7(0xbe5)]&&((async()=>{const _0x4f20da=_0x2110b7;try{const _0x5905fe=doc(db,_0x4f20da(0x3dc)+appId+_0x4f20da(0x7a5),_0x35007a[_0x4f20da(0xbe5)]),_0x1fc730=await getDoc(_0x5905fe);_0x1fc730[_0x4f20da(0x7be)]()&&(currentQuizData={'id':_0x1fc730['id'],..._0x1fc730[_0x4f20da(0xaf1)]()});}catch(_0x2644b7){console[_0x4f20da(0x930)](_0x4f20da(0xad1),_0x2644b7);}})());switch(_0x35007a['status']){case _0x2110b7(0x179):if(currentMode===_0x2110b7(0x67e)){const _0x119033=_0x35007a[_0x2110b7(0x340)]?Object[_0x2110b7(0x8f3)](_0x35007a[_0x2110b7(0x340)]):[],_0x27eb7f=_0x119033['filter'](([_0x3e19b5,_0x1223fe])=>_0x1223fe[_0x2110b7(0x78a)]==='active'),_0x2baa2e=document[_0x2110b7(0xb9f)](_0x2110b7(0x6fe));if(_0x2baa2e)_0x2baa2e[_0x2110b7(0x33f)]=_0x27eb7f[_0x2110b7(0x384)];const _0x284a42=document[_0x2110b7(0xb9f)](_0x2110b7(0xa19));_0x284a42&&(_0x284a42['innerHTML']=_0x27eb7f[_0x2110b7(0x25d)](([_0x319a8f,_0x26f510])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x319a8f+_0x2110b7(0x84d)+_0x319a8f+_0x2110b7(0x763))[_0x2110b7(0x7fa)](''));const _0x5e2142=document[_0x2110b7(0xb9f)]('start-game-btn');_0x5e2142&&(_0x5e2142['disabled']=_0x27eb7f[_0x2110b7(0x384)]===0x0);}else showView(_0x2110b7(0x9ae)),liveGameView[_0x2110b7(0x215)]=_0x2110b7(0x1ec)+currentStudentName+_0x2110b7(0xa6b);break;case _0x2110b7(0x8f0):const _0x59dc45=_0x35007a['currentQuestionIndex'];if(currentQuizData&&currentQuizData['questions'][_0x59dc45]){const _0x14bada=currentQuizData[_0x2110b7(0x5c2)][_0x59dc45],_0xa998c2=_0x35007a['questionStatus']||_0x2110b7(0x4ae);switch(_0xa998c2){case _0x2110b7(0x6d5):currentMode==='admin'?showAdminSummaryView(_0x35007a,_0x14bada):showPlayerSummaryView(_0x35007a,currentStudentName);break;case _0x2110b7(0x8d0):currentMode===_0x2110b7(0x67e)&&showTop5LeaderboardView(_0x35007a);break;case _0x2110b7(0x4ae):default:if(currentMode==='admin'){const _0x29dbc6=writeBatch(db);let _0x49f08f=![];Object[_0x2110b7(0x8f3)](_0x35007a[_0x2110b7(0x340)])[_0x2110b7(0x94f)](([_0x322f00,_0x5535a9])=>{const _0x5c8c6d=_0x2110b7;if(_0x5535a9[_0x5c8c6d(0x78a)]===_0x5c8c6d(0x97e)&&_0x5535a9[_0x5c8c6d(0xa37)]&&!_0x5535a9[_0x5c8c6d(0x671)]){_0x49f08f=!![];const _0x35cb06=_0x5535a9[_0x5c8c6d(0xa37)][_0x5c8c6d(0x21f)]()-_0x35007a[_0x5c8c6d(0x9d0)][_0x5c8c6d(0x21f)]();let _0xee803a=0x0;if(_0x5535a9[_0x5c8c6d(0x71a)]){const _0x35f895=0x3e8,_0x1e8ed1=0x1f4,_0x21acfe=0x4e20;let _0x4dfc68=_0x35cb06/_0x21acfe;if(_0x4dfc68>0x1)_0x4dfc68=0x1;const _0x2d8190=Math[_0x5c8c6d(0x8dd)](_0x4dfc68*_0x1e8ed1);_0xee803a=_0x35f895-_0x2d8190;}const _0x4c3094=doc(db,_0x5c8c6d(0x3dc)+appId+_0x5c8c6d(0x4bc),currentLiveGameId);_0x29dbc6[_0x5c8c6d(0x533)](_0x4c3094,{[_0x5c8c6d(0x406)+_0x322f00+_0x5c8c6d(0xb75)]:increment(_0xee803a),[_0x5c8c6d(0x406)+_0x322f00+'.pointsLastQuestion']:_0xee803a,['players.'+_0x322f00+_0x5c8c6d(0xbfb)]:!![]});}});_0x49f08f&&_0x29dbc6[_0x2110b7(0x24d)]()[_0x2110b7(0x45b)](_0x592b3a=>console['error']('Error\x20committing\x20score\x20updates:',_0x592b3a));lastRenderedAdminQuestionIndex!==_0x59dc45&&(showAdminLiveQuestionView(_0x14bada,_0x59dc45,currentQuizData['questions']['length']),lastRenderedAdminQuestionIndex=_0x59dc45);const _0x5ee188=_0x35007a['players']||{},_0x43d789=Object[_0x2110b7(0x713)](_0x5ee188)['filter'](_0x41c861=>_0x41c861[_0x2110b7(0x78a)]===_0x2110b7(0x97e)),_0x49b017=_0x43d789[_0x2110b7(0x384)],_0x1c2e51=_0x43d789[_0x2110b7(0x67f)](_0x57f9a8=>_0x57f9a8['answeredCurrentQuestion']===!![])[_0x2110b7(0x384)],_0x2ee962=document[_0x2110b7(0xb9f)](_0x2110b7(0x13f));if(_0x2ee962)_0x2ee962['textContent']=_0x1c2e51+'/'+_0x49b017;const _0x3728aa=document[_0x2110b7(0xb9f)](_0x2110b7(0xa4f));if(_0x3728aa){let _0x26f519=Object[_0x2110b7(0x8f3)](_0x5ee188)['filter'](([_0x250b3f,_0x5aff0b])=>_0x5aff0b['status']===_0x2110b7(0x97e))[_0x2110b7(0x25d)](([_0x477eb4,_0x1d6790])=>{const _0x135582=_0x2110b7,_0x23e334=_0x1d6790[_0x135582(0x7d9)]===!![],_0x6cce02=_0x23e334?_0x135582(0x16d):_0x135582(0x7e9),_0x4f01e0=_0x23e334?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x135582(0x824);return _0x135582(0xa34)+_0x6cce02+_0x135582(0x906)+_0x4f01e0+_0x135582(0x851)+_0x477eb4+_0x135582(0x21e)+_0x477eb4+_0x135582(0x2c1);})[_0x2110b7(0x7fa)]('');_0x3728aa[_0x2110b7(0x215)]=_0x26f519||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x49b017>0x0&&_0x1c2e51===_0x49b017&&revealAnswerForAdmin(_0x59dc45,currentQuizData[_0x2110b7(0x5c2)]['length']);}else{const _0x97035b=_0x35007a['players'][currentStudentName];_0x97035b&&!_0x97035b[_0x2110b7(0x7d9)]&&showStudentLiveQuestionView(_0x14bada,_0x59dc45,currentQuizData[_0x2110b7(0x5c2)]['length']);}break;}}break;case _0x2110b7(0x245):showPodiumView(_0x35007a[_0x2110b7(0x340)],_0x2110b7(0x4de));break;}});}async function handleKickPlayer(_0x116133){const _0x236af=_0x7550fe;if(!currentLiveGameId||!_0x116133)return;const _0x168c4b=doc(db,_0x236af(0x3dc)+appId+_0x236af(0x4bc),currentLiveGameId),_0x399b16={};_0x399b16[_0x236af(0x406)+_0x116133+_0x236af(0x46d)]=_0x236af(0xa8a);try{await updateDoc(_0x168c4b,_0x399b16);}catch(_0x3a079d){console['error'](_0x236af(0x8e2)+_0x116133+':',_0x3a079d),showMessage(_0x236af(0x321));}}async function authenticateUser(){const _0x47f6e2=_0x7550fe;try{typeof __initial_auth_token!==_0x47f6e2(0x838)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x56c6db){console[_0x47f6e2(0x930)]('Authentication\x20failed:',_0x56c6db),showMessage(_0x47f6e2(0xbc6));}}function showView(_0x18b85a){const _0x3dcdcd=_0x7550fe;adminView[_0x3dcdcd(0x5f6)]['add'](_0x3dcdcd(0x3c0)),studentView[_0x3dcdcd(0x5f6)]['add'](_0x3dcdcd(0x3c0)),projectDashboardView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0)),projectDetailView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0)),quizResultsView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0)),liveGameView['classList'][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0)),document[_0x3dcdcd(0xb9f)]('blueprint-project-manager-view')[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)]('hidden'),studentInitialView[_0x3dcdcd(0x5f6)]['add'](_0x3dcdcd(0x3c0)),studentJoinGameView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0)),studentNameSelectionView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0)),studentQuizArea[_0x3dcdcd(0x5f6)]['add']('hidden'),studentResultArea[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)]('hidden'),studentReadingArea[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0));const _0x357394=document['getElementById']('student-team-selection-view'),_0x5f5deb=document[_0x3dcdcd(0xb9f)](_0x3dcdcd(0x6fb));if(_0x357394)_0x357394[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0));if(_0x5f5deb)_0x5f5deb[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x314)](_0x3dcdcd(0x3c0));switch(_0x18b85a){case'admin-dashboard':adminView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)](_0x3dcdcd(0x3c0)),projectDashboardView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)](_0x3dcdcd(0x3c0));break;case'project-detail':adminView['classList'][_0x3dcdcd(0x309)](_0x3dcdcd(0x3c0)),projectDetailView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)](_0x3dcdcd(0x3c0));break;case'quiz-results':adminView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)]('hidden'),quizResultsView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)](_0x3dcdcd(0x3c0));break;case _0x3dcdcd(0x581):studentView['classList']['remove'](_0x3dcdcd(0x3c0)),studentInitialView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)](_0x3dcdcd(0x3c0));break;case _0x3dcdcd(0x9ae):liveGameView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)](_0x3dcdcd(0x3c0));break;case _0x3dcdcd(0x743):studentView[_0x3dcdcd(0x5f6)]['remove'](_0x3dcdcd(0x3c0));if(_0x357394)_0x357394['classList'][_0x3dcdcd(0x309)](_0x3dcdcd(0x3c0));break;case _0x3dcdcd(0x1e8):studentView[_0x3dcdcd(0x5f6)]['remove'](_0x3dcdcd(0x3c0));if(_0x5f5deb)_0x5f5deb[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)]('hidden');break;default:studentView[_0x3dcdcd(0x5f6)][_0x3dcdcd(0x309)]('hidden'),studentInitialView['classList']['remove'](_0x3dcdcd(0x3c0));break;}}function showJoinGameView(){const _0x568ad3=_0x7550fe;studentInitialView[_0x568ad3(0x5f6)]['add'](_0x568ad3(0x3c0)),studentJoinGameView[_0x568ad3(0x5f6)]['remove'](_0x568ad3(0x3c0));}async function handleSaveVisibilitySettings(){const _0x268994=_0x7550fe;if(!currentProjectId)return;const _0x20e166=doc(db,_0x268994(0x3dc)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x20e166,{'settings.showInStudentDashboard':document[_0x268994(0xb9f)](_0x268994(0x8a5))[_0x268994(0x20e)],'settings.isPasscodeEnabled':document[_0x268994(0xb9f)](_0x268994(0x54a))['checked'],'settings.passcode':document[_0x268994(0xb9f)](_0x268994(0xba2))[_0x268994(0x6b0)][_0x268994(0x9f3)]()}),showMessage(_0x268994(0x2d4));}catch(_0x52fb3e){console['error']('Error\x20saving\x20visibility\x20settings:',_0x52fb3e),showMessage(_0x268994(0xac8));}}function setupEventListeners(){const _0x123edd=_0x7550fe;document['getElementById'](_0x123edd(0x570))[_0x123edd(0x52b)](_0x123edd(0x909),_0x2646fb=>{const _0x1283c4=_0x123edd;_0x2646fb[_0x1283c4(0x2de)][_0x1283c4(0x849)](_0x1283c4(0x538))&&document[_0x1283c4(0xb9f)](_0x1283c4(0x72b))[_0x1283c4(0x5f6)][_0x1283c4(0x309)](_0x1283c4(0x3c0));}),document[_0x123edd(0xb9f)](_0x123edd(0xb6e))['addEventListener'](_0x123edd(0x909),()=>{const _0x450b4e=_0x123edd;document['getElementById']('additional-shortcuts-modal')[_0x450b4e(0x5f6)][_0x450b4e(0x314)](_0x450b4e(0x3c0));}),document[_0x123edd(0xb9f)](_0x123edd(0x293))['addEventListener'](_0x123edd(0x909),_0x9b4a6f=>{const _0x2df3bd=_0x123edd,_0x3af074=_0x9b4a6f[_0x2df3bd(0x2de)][_0x2df3bd(0x849)]('.use-hidden-shortcut-btn'),_0x2d1a0f=_0x9b4a6f[_0x2df3bd(0x2de)][_0x2df3bd(0x849)](_0x2df3bd(0x766)),_0x11aaab=_0x9b4a6f[_0x2df3bd(0x2de)][_0x2df3bd(0x849)](_0x2df3bd(0x395)),_0xfdf1ad=document[_0x2df3bd(0xb9f)]('additional-shortcuts-modal');if(_0x3af074)_0xfdf1ad[_0x2df3bd(0x5f6)][_0x2df3bd(0x314)](_0x2df3bd(0x3c0)),handleShortcutClick(_0x3af074['dataset']['id']);else{if(_0x2d1a0f)_0xfdf1ad[_0x2df3bd(0x5f6)][_0x2df3bd(0x314)]('hidden'),openShortcutEditor(_0x2d1a0f['dataset']['id']);else{if(_0x11aaab){const _0x4dba27=_0x11aaab[_0x2df3bd(0xb7f)]['id'],_0x1f31b1=blueprintShortcuts[_0x2df3bd(0x3de)](_0x5c558c=>_0x5c558c['id']===_0x4dba27)?.[_0x2df3bd(0x47f)];showConfirmation(_0x2df3bd(0x22a)+_0x1f31b1+'\x22?',async()=>{const _0x112c54=_0x2df3bd,_0x88df8c=blueprintShortcuts[_0x112c54(0x67f)](_0x4911b8=>_0x4911b8['id']!==_0x4dba27);try{const _0x519833=doc(db,_0x112c54(0x9c0),_0x112c54(0x351));await setDoc(_0x519833,{'blueprintShortcuts':_0x88df8c},{'merge':!![]});}catch(_0x3069db){console['error'](_0x112c54(0x16c),_0x3069db);}});}}}}),document['getElementById'](_0x123edd(0x8af))['addEventListener'](_0x123edd(0x909),_0x448607=>{const _0x30ead4=_0x123edd,_0x5b655c=_0x448607[_0x30ead4(0x2de)][_0x30ead4(0x849)](_0x30ead4(0xb8c)),_0x2d4051=_0x448607[_0x30ead4(0x2de)]['closest']('.edit-shortcut-btn'),_0x171724=_0x448607[_0x30ead4(0x2de)]['closest'](_0x30ead4(0x8a2));if(_0x2d4051)openShortcutEditor(_0x2d4051[_0x30ead4(0xb7f)]['id']);else{if(_0x171724){const _0x453555=_0x171724[_0x30ead4(0xb7f)]['id'],_0x2efe49=blueprintShortcuts[_0x30ead4(0x3de)](_0xfb5cea=>_0xfb5cea['id']===_0x453555)?.[_0x30ead4(0x47f)];showConfirmation(_0x30ead4(0x22a)+_0x2efe49+'\x22?',async()=>{const _0x4e3602=_0x30ead4,_0x2f4493=blueprintShortcuts[_0x4e3602(0x67f)](_0x5848fa=>_0x5848fa['id']!==_0x453555);try{const _0x32b6f5=doc(db,'globalSettings',_0x4e3602(0x351));await setDoc(_0x32b6f5,{'blueprintShortcuts':_0x2f4493},{'merge':!![]});}catch(_0x3fbb59){console[_0x4e3602(0x930)](_0x4e3602(0x16c),_0x3fbb59);}});}else _0x5b655c&&handleShortcutClick(_0x5b655c[_0x30ead4(0xb7f)]['id']);}}),document[_0x123edd(0xb9f)](_0x123edd(0x3a5))[_0x123edd(0x52b)](_0x123edd(0x909),()=>openShortcutEditor(null)),document[_0x123edd(0xb9f)](_0x123edd(0x57a))[_0x123edd(0x52b)]('click',()=>{const _0x2b2114=_0x123edd;document[_0x2b2114(0xb9f)](_0x2b2114(0xb97))['classList'][_0x2b2114(0x314)]('hidden');}),document[_0x123edd(0xb9f)]('save-shortcut-btn')[_0x123edd(0x52b)](_0x123edd(0x909),saveShortcutChanges),document[_0x123edd(0xb9f)](_0x123edd(0x686))['addEventListener']('click',async()=>{const _0x578d70=_0x123edd,_0x20d32d=document[_0x578d70(0xb9f)](_0x578d70(0x78b)),_0x33118a=document[_0x578d70(0xb9f)](_0x578d70(0x746));_0x20d32d[_0x578d70(0xa99)][_0x578d70(0x384)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x20d32d[_0x578d70(0xa99)][0x0],_0x33118a[_0x578d70(0xa99)][0x0]||null):showMessage(_0x578d70(0x8c8));}),document['getElementById'](_0x123edd(0x877))[_0x123edd(0x52b)](_0x123edd(0x909),async _0x5ae917=>{const _0x5a5c0c=_0x123edd,_0x89bd74=document['getElementById']('topic-quiz-bank-modal'),_0x440ee4=_0x5ae917[_0x5a5c0c(0x2de)]['closest'](_0x5a5c0c(0x943)),_0x3aa087=_0x5ae917[_0x5a5c0c(0x2de)][_0x5a5c0c(0x849)](_0x5a5c0c(0x593)),_0x5cec9a=_0x5ae917[_0x5a5c0c(0x2de)]['closest'](_0x5a5c0c(0xb0e)),_0xa92087=_0x5ae917[_0x5a5c0c(0x2de)][_0x5a5c0c(0x849)](_0x5a5c0c(0x59f)),_0x264dbb=_0x5ae917[_0x5a5c0c(0x2de)][_0x5a5c0c(0x849)](_0x5a5c0c(0x2fd)),_0x3f6fa9=_0x5ae917[_0x5a5c0c(0x2de)][_0x5a5c0c(0x849)](_0x5a5c0c(0xbb3));if(_0x440ee4){cameFromBlueprint=!![];const _0xcf4238=_0x440ee4[_0x5a5c0c(0xb7f)][_0x5a5c0c(0xbe5)];showQuizDetailView(_0xcf4238),_0x89bd74[_0x5a5c0c(0x5f6)][_0x5a5c0c(0x314)]('hidden');}else{if(_0x3aa087){const _0x5a7155=_0x3aa087[_0x5a5c0c(0xb7f)][_0x5a5c0c(0xb26)],_0x269f67=_0x3aa087[_0x5a5c0c(0xb7f)]['quizId'],_0x19bf31=allQuizzesGlobal[_0x5a5c0c(0x3de)](_0x53b7de=>_0x53b7de['id']===_0x269f67),_0x342d23=_0x19bf31?_0x19bf31[_0x5a5c0c(0xb1c)]:'รายการนี้';showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x342d23+_0x5a5c0c(0xacb),async()=>{const _0x1ccc2a=_0x5a5c0c;try{const _0x2418e2=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2418e2,{['topics.'+_0x5a7155+'.linkedQuizIds']:arrayRemove(_0x269f67)}),showMessage(_0x1ccc2a(0x953)),openTopicQuizBank(_0x5a7155),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4daf27){console[_0x1ccc2a(0x930)]('Error\x20unlinking\x20quiz:',_0x4daf27),showMessage(_0x1ccc2a(0x324));}});}else{if(_0x5cec9a){cameFromBlueprint=!![];const _0x2853fb=_0x5cec9a['dataset'][_0x5a5c0c(0xbe5)],_0x435639=allQuizzesGlobal['find'](_0x13ea38=>_0x13ea38['id']===_0x2853fb);_0x435639&&(startPresentation(_0x435639),_0x89bd74[_0x5a5c0c(0x5f6)]['add']('hidden'));}else{if(_0xa92087){cameFromBlueprint=!![];const _0x18d685=_0xa92087[_0x5a5c0c(0xb7f)][_0x5a5c0c(0xbe5)],_0x1e3d48=allQuizzesGlobal[_0x5a5c0c(0x3de)](_0x2addc4=>_0x2addc4['id']===_0x18d685);_0x1e3d48&&(currentQuizData=_0x1e3d48,startAdminTest(),_0x89bd74['classList'][_0x5a5c0c(0x314)]('hidden'));}else{if(_0x264dbb)cameFromBlueprint=!![],handleStartLiveRace(_0x264dbb[_0x5a5c0c(0xb7f)][_0x5a5c0c(0xbe5)]),_0x89bd74[_0x5a5c0c(0x5f6)][_0x5a5c0c(0x314)](_0x5a5c0c(0x3c0));else{if(_0x3f6fa9){cameFromBlueprint=!![];const _0x4f2fd6=_0x3f6fa9[_0x5a5c0c(0xb7f)]['quizId'],_0x45eddb=_0x3f6fa9[_0x5a5c0c(0xb7f)][_0x5a5c0c(0x5b2)],_0x2ad0ef=allQuizzesGlobal[_0x5a5c0c(0x3de)](_0x53531a=>_0x53531a['id']===_0x4f2fd6);_0x2ad0ef&&(showGameStartConfirmationModal(_0x4f2fd6,_0x45eddb,_0x2ad0ef['topic']),_0x89bd74[_0x5a5c0c(0x5f6)][_0x5a5c0c(0x314)](_0x5a5c0c(0x3c0)));}}}}}}}),document[_0x123edd(0xb9f)](_0x123edd(0x8b5))['addEventListener'](_0x123edd(0x909),()=>{const _0x1b0044=_0x123edd;document['getElementById'](_0x1b0044(0x94d))[_0x1b0044(0x5f6)][_0x1b0044(0x309)](_0x1b0044(0x3c0)),document[_0x1b0044(0xb9f)](_0x1b0044(0x3af))[_0x1b0044(0x6b0)]='',document[_0x1b0044(0xb9f)]('manual-bp-grade-level')[_0x1b0044(0x6b0)]='',document[_0x1b0044(0xb9f)]('manual-bp-content')[_0x1b0044(0x6b0)]='';}),document['getElementById']('cancel-manual-bp-btn')['addEventListener'](_0x123edd(0x909),()=>{const _0x18763a=_0x123edd;document['getElementById'](_0x18763a(0x94d))[_0x18763a(0x5f6)][_0x18763a(0x314)](_0x18763a(0x3c0));}),document[_0x123edd(0xb9f)]('confirm-manual-bp-btn')[_0x123edd(0x52b)](_0x123edd(0x909),handleManualBlueprintSave),document['getElementById'](_0x123edd(0x7a4))[_0x123edd(0x52b)](_0x123edd(0x909),()=>document['getElementById']('blueprint-settings-modal')[_0x123edd(0x5f6)][_0x123edd(0x314)](_0x123edd(0x3c0))),document[_0x123edd(0xb9f)](_0x123edd(0x492))['addEventListener'](_0x123edd(0x909),handleSaveBlueprintPageSettings),document[_0x123edd(0xb9f)](_0x123edd(0x18a))['addEventListener'](_0x123edd(0x909),openBlueprintQuizSettings),document['getElementById'](_0x123edd(0x660))[_0x123edd(0x52b)](_0x123edd(0x909),saveBlueprintProject),document['getElementById'](_0x123edd(0x20c))[_0x123edd(0x52b)](_0x123edd(0x909),showBlueprintProjects),document[_0x123edd(0xb9f)](_0x123edd(0xb70))[_0x123edd(0x52b)]('click',()=>{const _0x174f7e=_0x123edd;document[_0x174f7e(0xb9f)]('blueprint-projects-modal')[_0x174f7e(0x5f6)][_0x174f7e(0x314)]('hidden');}),document[_0x123edd(0xb9f)]('blueprint-project-list')[_0x123edd(0x52b)]('click',_0x14d127=>{const _0x3beab8=_0x123edd,_0x3fe64b=_0x14d127[_0x3beab8(0x2de)][_0x3beab8(0x849)](_0x3beab8(0xb91)),_0x58ad7b=_0x14d127[_0x3beab8(0x2de)][_0x3beab8(0x849)]('.delete-bp-project-btn');if(_0x3fe64b)displayBlueprintProjectManager(_0x3fe64b[_0x3beab8(0xb7f)]['id']);else{if(_0x58ad7b){if(confirm(_0x3beab8(0x2b2))){const _0x51a1f2=doc(db,_0x3beab8(0x3dc)+appId+_0x3beab8(0x312),_0x58ad7b[_0x3beab8(0xb7f)]['id']);deleteDoc(_0x51a1f2)['then'](()=>{showMessage('ลบโปรเจคสำเร็จ'),showBlueprintProjects();});}}}}),document[_0x123edd(0xb9f)](_0x123edd(0x14d))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x5aefc1=_0x123edd;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x5aefc1(0xb3e))[_0x5aefc1(0x5f6)]['add'](_0x5aefc1(0x3c0)),showView(_0x5aefc1(0x452));}),document[_0x123edd(0xb9f)](_0x123edd(0xb15))[_0x123edd(0x52b)](_0x123edd(0x909),addTopicToProject),document['getElementById'](_0x123edd(0xa46))[_0x123edd(0x52b)](_0x123edd(0x909),async _0x131bc0=>{const _0x3355c7=_0x123edd,_0x545fbb=_0x131bc0['target'][_0x3355c7(0x849)](_0x3355c7(0xad5));if(!_0x545fbb)return;const _0x74a89b=_0x545fbb[_0x3355c7(0xb7f)]['topicId'],_0x18a8d9=_0x131bc0[_0x3355c7(0x2de)][_0x3355c7(0x849)](_0x3355c7(0x5e3)),_0x154b82=_0x131bc0[_0x3355c7(0x2de)][_0x3355c7(0x849)]('.bp-create-content-quiz-btn'),_0x17ec55=_0x131bc0[_0x3355c7(0x2de)][_0x3355c7(0x849)]('.bp-create-topic-quiz-btn'),_0x1840ef=_0x131bc0[_0x3355c7(0x2de)][_0x3355c7(0x849)](_0x3355c7(0x683)),_0x3fe22e=_0x131bc0[_0x3355c7(0x2de)][_0x3355c7(0x849)](_0x3355c7(0x86c)),_0x267d2b=_0x131bc0[_0x3355c7(0x2de)][_0x3355c7(0x849)](_0x3355c7(0x93b)),_0xfd66f0=_0x131bc0['target'][_0x3355c7(0x849)]('.bp-edit-topic-btn'),_0x2661de=_0x131bc0[_0x3355c7(0x2de)]['closest'](_0x3355c7(0x922));if(_0x1840ef)openTopicQuizBank(_0x74a89b);else{if(_0x18a8d9){console[_0x3355c7(0xbf7)](_0x3355c7(0x24e));const _0x201469=_0x545fbb[_0x3355c7(0x2e7)](_0x3355c7(0x2ea))['textContent'];selectProjectAndGenerateBlueprintQuiz(_0x201469,null,_0x74a89b,!![]);}else{if(_0x154b82){console['log']('Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.');try{const _0x360c3e=doc(db,'artifacts/'+appId+_0x3355c7(0x312),currentBlueprintProjectId),_0x40dcaf=await getDoc(_0x360c3e);if(_0x40dcaf['exists']()){const _0xf32804=_0x40dcaf[_0x3355c7(0xaf1)](),_0x4f5050=_0xf32804[_0x3355c7(0x90d)][_0x74a89b],_0x2a30f5=_0x4f5050['lessonContent'],_0xc15747=document[_0x3355c7(0x51b)](_0x3355c7(0x93c)),_0x27ab5c=_0x224de5=>{const _0x29d032=_0x3355c7;if(!_0x224de5)return'';return _0xc15747['innerHTML']=_0x224de5,_0xc15747[_0x29d032(0x33f)]||_0xc15747[_0x29d032(0x94b)]||'';},_0x453b03=(_0x27ab5c(_0x2a30f5['point'])+'\x20'+_0x27ab5c(_0x2a30f5['memory'])+'\x20'+_0x27ab5c(_0x2a30f5[_0x3355c7(0x70c)]))[_0x3355c7(0x9f3)]();selectProjectAndGenerateBlueprintQuiz(_0x4f5050[_0x3355c7(0x4e0)],_0x453b03,_0x74a89b,![]);}}catch(_0x461d19){console[_0x3355c7(0x930)](_0x3355c7(0xbb9),_0x461d19);}}else{if(_0x17ec55){console[_0x3355c7(0xbf7)](_0x3355c7(0xaa5));const _0x35b0f6=_0x545fbb[_0x3355c7(0x2e7)](_0x3355c7(0x2ea))['textContent'];selectProjectAndGenerateBlueprintQuiz(_0x35b0f6,null,_0x74a89b,![]);}else{if(_0x3fe22e){console[_0x3355c7(0xbf7)]('Action:\x20View\x20existing\x20lesson.');const _0x27e484=doc(db,'artifacts/'+appId+_0x3355c7(0x312),currentBlueprintProjectId),_0xadae6e=await getDoc(_0x27e484);if(_0xadae6e['exists']()){const _0x3c23f6=_0xadae6e[_0x3355c7(0xaf1)](),_0x587f6a=_0x3c23f6[_0x3355c7(0x90d)][_0x74a89b];if(_0x587f6a&&_0x587f6a[_0x3355c7(0xbf0)]){document['getElementById'](_0x3355c7(0x9bc))[_0x3355c7(0x33f)]=_0x3355c7(0x307)+_0x587f6a[_0x3355c7(0x4e0)],document['getElementById']('pointContent')[_0x3355c7(0x215)]=_0x587f6a[_0x3355c7(0xbf0)][_0x3355c7(0x9bd)],document[_0x3355c7(0xb9f)]('memoryContent')[_0x3355c7(0x215)]=_0x587f6a['lessonContent'][_0x3355c7(0x8a3)],document[_0x3355c7(0xb9f)](_0x3355c7(0x64b))[_0x3355c7(0x215)]=_0x587f6a[_0x3355c7(0xbf0)]['summary'];const _0x16de44=document[_0x3355c7(0xb9f)](_0x3355c7(0x733));_0x587f6a['lessonContent']['applicationData']?(currentApplicationData=_0x587f6a['lessonContent']['applicationData'],_0x16de44[_0x3355c7(0x215)]=currentApplicationData[_0x3355c7(0x25d)]((_0x4f810d,_0x12b990)=>_0x3355c7(0xa1c)+(_0x12b990+0x1)+'.\x20'+marked[_0x3355c7(0xacd)](_0x4f810d[_0x3355c7(0x8f0)])+_0x3355c7(0x911)+_0x12b990+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f810d[_0x3355c7(0xbe2)][_0x3355c7(0x25d)]((_0x10b8ae,_0x5af0d1)=>_0x3355c7(0x38c)+_0x12b990+',\x20'+_0x5af0d1+')\x22>'+String['fromCharCode'](0x61+_0x5af0d1)+'.\x20'+marked[_0x3355c7(0xacd)](_0x10b8ae)+_0x3355c7(0xb8e))[_0x3355c7(0x7fa)]('')+_0x3355c7(0x6b4))[_0x3355c7(0x7fa)]('')):(currentApplicationData=[],_0x16de44[_0x3355c7(0x215)]=_0x587f6a[_0x3355c7(0xbf0)][_0x3355c7(0x68c)]||_0x587f6a['lessonContent'][_0x3355c7(0x1aa)]),document[_0x3355c7(0xb9f)](_0x3355c7(0xa52))[_0x3355c7(0x5f6)][_0x3355c7(0x314)]('hidden'),document[_0x3355c7(0xb9f)](_0x3355c7(0x6a2))['classList'][_0x3355c7(0x309)](_0x3355c7(0x3c0)),document['getElementById']('lesson-view-modal')[_0x3355c7(0x5f6)][_0x3355c7(0x309)](_0x3355c7(0x3c0)),window[_0x3355c7(0xa27)]&&MathJax[_0x3355c7(0x806)]([document[_0x3355c7(0xb9f)](_0x3355c7(0x66d))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x267d2b){console['log'](_0x3355c7(0xbd0));const _0x43e0ff=doc(db,_0x3355c7(0x3dc)+appId+_0x3355c7(0x312),currentBlueprintProjectId),_0x1e7c1e=await getDoc(_0x43e0ff);if(_0x1e7c1e['exists']()){const _0x253546=_0x1e7c1e[_0x3355c7(0xaf1)](),_0x2cc145=_0x253546[_0x3355c7(0x90d)][_0x74a89b];generateAndSaveLessonForBlueprint(_0x74a89b,_0x2cc145[_0x3355c7(0x4e0)],_0x253546[_0x3355c7(0xae4)]);}}else{if(_0xfd66f0)editTopicInProject(_0x74a89b);else _0x2661de&&deleteTopicFromProject(_0x74a89b);}}}}}}}),document[_0x123edd(0xb9f)](_0x123edd(0x19a))[_0x123edd(0x52b)](_0x123edd(0x909),handleFixLessonLatex),document[_0x123edd(0xb9f)](_0x123edd(0x7fe))[_0x123edd(0x52b)](_0x123edd(0x909),handleExportLessonToPDF),document[_0x123edd(0xb9f)](_0x123edd(0x9d8))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0xd5e760=_0x123edd;document[_0xd5e760(0xb9f)](_0xd5e760(0x7a1))['classList']['add'](_0xd5e760(0x3c0));});const _0x482c80=document[_0x123edd(0xb9f)](_0x123edd(0x70d)),_0xf01b83=document[_0x123edd(0xb9f)]('bulk-confidence-mode-container');_0x482c80[_0x123edd(0x52b)](_0x123edd(0x81e),()=>{const _0x23a7aa=_0x123edd;_0xf01b83['classList'][_0x23a7aa(0x937)]('hidden',!_0x482c80['checked']);});const _0x4a5026=document['getElementById']('confidence-scoring-checkbox'),_0x235939=document['getElementById'](_0x123edd(0x7b5));_0x4a5026[_0x123edd(0x52b)](_0x123edd(0x81e),()=>{const _0x2f5a3e=_0x123edd;_0x235939[_0x2f5a3e(0x5f6)][_0x2f5a3e(0x937)](_0x2f5a3e(0x3c0),!_0x4a5026[_0x2f5a3e(0x20e)]);});const _0xb237d1=document['getElementById'](_0x123edd(0xb73)),_0x10f2cc=document[_0x123edd(0xb9f)](_0x123edd(0x71c));_0xb237d1[_0x123edd(0x52b)](_0x123edd(0x81e),()=>{const _0x11b7ed=_0x123edd;_0x10f2cc['classList']['toggle'](_0x11b7ed(0x3c0),!_0xb237d1[_0x11b7ed(0x20e)]);});const _0x4ba8af=document[_0x123edd(0xb9f)](_0x123edd(0x7b1)),_0x2ac214=async _0x27f4bf=>{const _0x12f3a9=_0x123edd,_0x215884=document[_0x12f3a9(0xb9f)](_0x12f3a9(0x7b1)),_0x3fc992=_0x215884[_0x12f3a9(0xb7f)][_0x12f3a9(0x77c)],_0x4cdc12=document[_0x12f3a9(0xb9f)]('selected-answer-index-hidden');_0x215884[_0x12f3a9(0x5f6)][_0x12f3a9(0x314)](_0x12f3a9(0x3c0));if(_0x3fc992===_0x12f3a9(0x3dd)){const _0x88f675=_0x4cdc12['value'],_0x3d8c8c={'answer':_0x88f675,'wasConfident':_0x27f4bf};proceedToNextQuestion(_0x3d8c8c);}else{if(_0x3fc992==='sync'){const _0x36d5f6=_0x4cdc12['dataset']['answerValue'],_0x5687eb=JSON['parse'](_0x4cdc12['dataset'][_0x12f3a9(0x8f0)]),_0x47264b=JSON['parse'](_0x4cdc12[_0x12f3a9(0xb7f)][_0x12f3a9(0x61e)]),_0x1ec576=_0x4cdc12[_0x12f3a9(0xb7f)][_0x12f3a9(0x7c5)];handleSyncAnswerSubmit(_0x36d5f6,_0x5687eb,_0x47264b,_0x1ec576,_0x27f4bf);}}_0x215884[_0x12f3a9(0xb7f)][_0x12f3a9(0x77c)]='';};document[_0x123edd(0xb9f)](_0x123edd(0x881))['addEventListener'](_0x123edd(0x909),()=>_0x2ac214(!![])),document[_0x123edd(0xb9f)](_0x123edd(0xb3c))[_0x123edd(0x52b)](_0x123edd(0x909),()=>_0x2ac214(![])),liveGameView['addEventListener']('click',_0x2e5faa=>{const _0x6128fe=_0x123edd,_0x4b236a=_0x2e5faa[_0x6128fe(0x2de)]['closest'](_0x6128fe(0x8bd));if(_0x4b236a){const _0x58662e=_0x4b236a['dataset'][_0x6128fe(0x7c5)];_0x58662e&&handleKickPlayerSync(_0x58662e);}});const _0x391ded=document['getElementById'](_0x123edd(0xa5c)),_0xfb1acd=document[_0x123edd(0xb9f)](_0x123edd(0xb40));_0xfb1acd[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x226d57=_0x123edd;document['getElementById']('confirm-game-start-modal')['classList'][_0x226d57(0x314)](_0x226d57(0x3c0));}),_0x391ded['addEventListener'](_0x123edd(0x909),()=>{const _0x5174d9=_0x123edd,_0x60897b=document[_0x5174d9(0xb9f)](_0x5174d9(0xbd6))[_0x5174d9(0x6b0)],_0x4cf790=document[_0x5174d9(0xb9f)](_0x5174d9(0x47b))[_0x5174d9(0x6b0)],_0x231fbd=document[_0x5174d9(0xb9f)]('save-game-results-checkbox')['checked'];document[_0x5174d9(0xb9f)](_0x5174d9(0x319))[_0x5174d9(0x5f6)][_0x5174d9(0x314)](_0x5174d9(0x3c0));switch(_0x4cf790){case'live-race':handleStartLiveRace(_0x60897b,_0x231fbd);break;case _0x5174d9(0xbe9):handleStartTeamQuiz(_0x60897b,_0x231fbd);break;case _0x5174d9(0x6da):handleStartGroupMode(_0x60897b,_0x231fbd);break;case _0x5174d9(0x630):handleStartSyncMode(_0x60897b,_0x231fbd);break;}}),document[_0x123edd(0xb9f)](_0x123edd(0x8eb))[_0x123edd(0x52b)](_0x123edd(0x909),handleJoinGroupActivity),liveGameView['addEventListener']('click',_0x67dc70=>{const _0x2743b3=_0x123edd,_0x173416=_0x67dc70[_0x2743b3(0x2de)]['closest']('.summary-bar-item');document[_0x2743b3(0xb3b)]('.live-summary-tooltip.visible')[_0x2743b3(0x94f)](_0x250d78=>{const _0x39da4e=_0x2743b3;(!_0x173416||_0x250d78['id']!==_0x173416['dataset'][_0x39da4e(0x1ae)])&&_0x250d78[_0x39da4e(0x5f6)][_0x39da4e(0x309)]('visible');});if(!_0x173416)return;const _0x244e1c=_0x173416[_0x2743b3(0xb7f)][_0x2743b3(0x1ae)],_0x29e205=document['getElementById'](_0x244e1c);_0x29e205&&_0x29e205[_0x2743b3(0x5f6)][_0x2743b3(0x937)](_0x2743b3(0x894));}),liveGameView[_0x123edd(0x52b)](_0x123edd(0x909),_0x4dacc3=>{const _0x5f072f=_0x123edd;if(_0x4dacc3[_0x5f072f(0x2de)][_0x5f072f(0x5f6)][_0x5f072f(0x4d3)](_0x5f072f(0x994))){const _0x216cac=_0x4dacc3[_0x5f072f(0x2de)][_0x5f072f(0xb7f)]['playerName'];_0x216cac&&handleKickPlayer(_0x216cac);}}),document['getElementById'](_0x123edd(0x58e))[_0x123edd(0x52b)]('focus',()=>document[_0x123edd(0xb9f)]('save-project-name-btn')[_0x123edd(0x5f6)][_0x123edd(0x309)](_0x123edd(0x3c0))),document['getElementById'](_0x123edd(0xa84))['addEventListener'](_0x123edd(0x909),handleSaveProjectName),document[_0x123edd(0xb9f)](_0x123edd(0x58e))[_0x123edd(0x52b)](_0x123edd(0x507),_0x1ed0e4=>{const _0xbc8b03=_0x123edd;_0x1ed0e4[_0xbc8b03(0x868)]===_0xbc8b03(0x7c7)&&(_0x1ed0e4[_0xbc8b03(0xa38)](),_0x1ed0e4['target'][_0xbc8b03(0x17c)](),handleSaveProjectName());}),document[_0x123edd(0xb9f)](_0x123edd(0x891))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x10090b=_0x123edd;document[_0x10090b(0xb9f)](_0x10090b(0x491))['classList'][_0x10090b(0x309)](_0x10090b(0x3c0));}),document[_0x123edd(0xb9f)](_0x123edd(0x2fb))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x21cfc0=_0x123edd;document['getElementById'](_0x21cfc0(0x491))[_0x21cfc0(0x5f6)][_0x21cfc0(0x314)](_0x21cfc0(0x3c0));}),document[_0x123edd(0xb9f)](_0x123edd(0x91b))['addEventListener'](_0x123edd(0x909),handleBulkUpdateQuizSettings),document[_0x123edd(0xb9f)](_0x123edd(0x643))['addEventListener']('click',handleModeSwitch),document['getElementById'](_0x123edd(0x1b2))[_0x123edd(0x52b)](_0x123edd(0x909),handleUpdateOldQuizzes),document['getElementById'](_0x123edd(0x9e2))['addEventListener']('click',handleResetProjectOrder),document[_0x123edd(0xb9f)](_0x123edd(0x8a9))[_0x123edd(0x52b)](_0x123edd(0x909),handleSaveVisibilitySettings),document[_0x123edd(0xb9f)]('add-custom-math-topic-btn')[_0x123edd(0x52b)](_0x123edd(0x909),handleAddCustomMathTopic),document['getElementById'](_0x123edd(0x40a))['addEventListener'](_0x123edd(0x909),handleSelectAllTopics),document['getElementById'](_0x123edd(0x54e))[_0x123edd(0x52b)](_0x123edd(0x909),handleDeselectAllTopics),document['getElementById']('back-to-dashboard-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x5b34b0=_0x123edd;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5b34b0(0x452));}}),document[_0x123edd(0xb9f)]('back-to-project-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x123edd(0xb9f)](_0x123edd(0xbdd))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{showView('admin-dashboard');}),document[_0x123edd(0xb9f)]('modal-close-btn')['addEventListener']('click',()=>{const _0x5a5198=_0x123edd;messageModal[_0x5a5198(0x5f6)][_0x5a5198(0x314)](_0x5a5198(0x3c0)),typeof modalConfirmAction===_0x5a5198(0x73a)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x123edd(0xb9f)](_0x123edd(0x22f))[_0x123edd(0x52b)]('click',()=>createProjectModal[_0x123edd(0x5f6)]['remove'](_0x123edd(0x3c0))),document[_0x123edd(0xb9f)](_0x123edd(0x1ee))[_0x123edd(0x52b)](_0x123edd(0x909),()=>createProjectModal[_0x123edd(0x5f6)][_0x123edd(0x314)](_0x123edd(0x3c0))),document[_0x123edd(0xb9f)](_0x123edd(0x539))[_0x123edd(0x52b)](_0x123edd(0x909),()=>adminPasswordModal[_0x123edd(0x5f6)][_0x123edd(0x314)](_0x123edd(0x3c0))),document[_0x123edd(0xb9f)]('confirm-admin-login-btn')[_0x123edd(0x52b)](_0x123edd(0x909),handleAdminLogin),document[_0x123edd(0xb9f)](_0x123edd(0x1a8))[_0x123edd(0x52b)]('keyup',_0x25de2f=>{const _0x5d1f70=_0x123edd;if(_0x25de2f[_0x5d1f70(0x868)]===_0x5d1f70(0x7c7))handleAdminLogin();}),document[_0x123edd(0xb9f)](_0x123edd(0x9bf))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x3d06e9=_0x123edd;confirmationModal[_0x3d06e9(0x5f6)][_0x3d06e9(0x314)](_0x3d06e9(0x3c0)),confirmAction=null;}),document[_0x123edd(0xb9f)]('confirm-delete-btn')[_0x123edd(0x52b)]('click',()=>{const _0x2792ea=_0x123edd;confirmAction&&confirmAction(),confirmationModal['classList'][_0x2792ea(0x314)]('hidden'),confirmAction=null;}),document[_0x123edd(0xb9f)](_0x123edd(0x2bc))[_0x123edd(0x52b)](_0x123edd(0x909),()=>renameQuizModal['classList']['add'](_0x123edd(0x3c0))),document[_0x123edd(0xb9f)](_0x123edd(0x178))[_0x123edd(0x52b)](_0x123edd(0x909),confirmRenameQuiz),document['getElementById'](_0x123edd(0x223))[_0x123edd(0x52b)]('click',()=>moveQuizModal[_0x123edd(0x5f6)]['add'](_0x123edd(0x3c0))),document['getElementById']('confirm-move-quiz-btn')[_0x123edd(0x52b)](_0x123edd(0x909),confirmMoveQuiz),document[_0x123edd(0xb9f)](_0x123edd(0xa17))[_0x123edd(0x52b)]('click',()=>quizSettingsModal[_0x123edd(0x5f6)][_0x123edd(0x314)]('hidden')),document['getElementById'](_0x123edd(0x232))[_0x123edd(0x52b)](_0x123edd(0x909),confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')[_0x123edd(0x52b)]('click',()=>quizStatusModal[_0x123edd(0x5f6)][_0x123edd(0x314)](_0x123edd(0x3c0))),document[_0x123edd(0xb9f)](_0x123edd(0x64f))[_0x123edd(0x52b)](_0x123edd(0x909),confirmQuizStatus);const _0x2e6f22=document[_0x123edd(0xb9f)](_0x123edd(0xaa4));document[_0x123edd(0xb9f)]('cancel-export-pdf-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x43524e=_0x123edd;_0x2e6f22[_0x43524e(0x5f6)][_0x43524e(0x314)]('hidden');}),document['getElementById'](_0x123edd(0x29c))[_0x123edd(0x52b)](_0x123edd(0x909),async()=>{const _0x3e356c=_0x123edd,_0xf55573=allQuizzes[_0x3e356c(0x3de)](_0x1289b8=>_0x1289b8['id']===actionTargetId);_0xf55573?(currentQuizData=_0xf55573,exportQuizAsWorksheetPDF()):showMessage(_0x3e356c(0x2f0)),_0x2e6f22[_0x3e356c(0x5f6)][_0x3e356c(0x314)](_0x3e356c(0x3c0));}),document[_0x123edd(0xb9f)](_0x123edd(0x577))['addEventListener'](_0x123edd(0x909),async()=>{const _0x5895d2=_0x123edd,_0x51133d=allQuizzes['find'](_0x7e0eb6=>_0x7e0eb6['id']===actionTargetId);_0x51133d?(currentQuizData=_0x51133d,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x2e6f22['classList']['add'](_0x5895d2(0x3c0));}),document[_0x123edd(0xb9f)](_0x123edd(0xb88))[_0x123edd(0x52b)](_0x123edd(0x909),openGlobalLiveModal),document[_0x123edd(0xb9f)](_0x123edd(0x37e))[_0x123edd(0x52b)]('click',()=>{const _0x1704a3=_0x123edd;document[_0x1704a3(0xb9f)](_0x1704a3(0xa9a))[_0x1704a3(0x5f6)]['add'](_0x1704a3(0x3c0)),selectedGlobalQuizId=null;}),document['getElementById']('global-quiz-search-input')[_0x123edd(0x52b)](_0x123edd(0x8aa),_0x59aee9=>renderGlobalQuizList(_0x59aee9[_0x123edd(0x2de)]['value'])),document[_0x123edd(0xb9f)]('confirm-global-live-btn')['addEventListener'](_0x123edd(0x909),()=>{const _0x382d60=_0x123edd,_0x40db44=selectedGlobalQuizId;if(!_0x40db44)return;document[_0x382d60(0xb9f)](_0x382d60(0xa9a))[_0x382d60(0x5f6)][_0x382d60(0x314)](_0x382d60(0x3c0)),handleStartLiveRace(_0x40db44);}),document[_0x123edd(0xb9f)]('project-search-input')[_0x123edd(0x52b)](_0x123edd(0x8aa),renderProjects),document[_0x123edd(0xb9f)]('project-sort-select')[_0x123edd(0x52b)](_0x123edd(0x81e),async()=>{const _0x3968b6=_0x123edd,_0x53dd76=document['getElementById'](_0x3968b6(0x81a))['value'],_0x2176a5=doc(db,_0x3968b6(0x9c0),_0x3968b6(0x351));try{await setDoc(_0x2176a5,{'projectSort':_0x53dd76},{'merge':!![]});}catch(_0x3c8a48){console['error'](_0x3968b6(0xa07),_0x3c8a48),showMessage(_0x3968b6(0x8e5));}}),document['getElementById'](_0x123edd(0x476))['addEventListener'](_0x123edd(0x8aa),renderQuizzes),document[_0x123edd(0xb9f)](_0x123edd(0x2b6))[_0x123edd(0x52b)]('click',()=>{const _0x4cb493=_0x123edd;globalDashboardSettings[_0x4cb493(0x3d1)]=_0x4cb493(0x3d7),saveUserPreference('projectView',_0x4cb493(0x3d7)),renderProjects();}),document[_0x123edd(0xb9f)](_0x123edd(0x9b3))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x3a6b1b=_0x123edd;globalDashboardSettings[_0x3a6b1b(0x3d1)]=_0x3a6b1b(0xbbd),saveUserPreference(_0x3a6b1b(0x3d1),_0x3a6b1b(0xbbd)),renderProjects();}),manageTab[_0x123edd(0x52b)](_0x123edd(0x909),()=>switchProjectTab(_0x123edd(0x82a))),resultsTab[_0x123edd(0x52b)](_0x123edd(0x909),()=>switchProjectTab('results')),leaderboardTab[_0x123edd(0x52b)](_0x123edd(0x909),()=>switchProjectTab('leaderboard')),document[_0x123edd(0xb9f)]('analytics-tab-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>switchQuizDetailTab(_0x123edd(0xa66))),document[_0x123edd(0xb9f)]('scores-tab-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>switchQuizDetailTab(_0x123edd(0x1f0))),document[_0x123edd(0xb9f)](_0x123edd(0x6c8))['addEventListener'](_0x123edd(0x909),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x123edd(0xb9f)](_0x123edd(0x7c0))['addEventListener'](_0x123edd(0x909),()=>switchQuizDetailTab(_0x123edd(0x5e6))),document[_0x123edd(0xb9f)]('analyze-strengths-btn')[_0x123edd(0x52b)](_0x123edd(0x909),handleAnalyzeClass),generateWorksheetBtn[_0x123edd(0x52b)](_0x123edd(0x909),generateWorksheet);const _0x54df4b=document[_0x123edd(0xb9f)](_0x123edd(0x456)),_0x303ac8=document[_0x123edd(0xb9f)](_0x123edd(0x74e)),_0x4c58f5=document[_0x123edd(0xb9f)](_0x123edd(0x5b1)),_0x7f7508=document['getElementById']('blueprint-input-area'),_0x5c0a15=document[_0x123edd(0xb9f)](_0x123edd(0x387)),_0x32dd34=document[_0x123edd(0xb9f)](_0x123edd(0x9a3));topicTab[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x43d150=_0x123edd;topicTab[_0x43d150(0x5f6)][_0x43d150(0x314)]('active'),textTab['classList'][_0x43d150(0x309)](_0x43d150(0x97e)),fileTab['classList'][_0x43d150(0x309)](_0x43d150(0x97e)),worksheetTab[_0x43d150(0x5f6)][_0x43d150(0x309)](_0x43d150(0x97e));if(_0x54df4b)_0x54df4b[_0x43d150(0x5f6)][_0x43d150(0x309)]('active');if(_0x4c58f5)_0x4c58f5[_0x43d150(0x5f6)][_0x43d150(0x309)](_0x43d150(0x97e));if(_0x5c0a15)_0x5c0a15[_0x43d150(0x5f6)][_0x43d150(0x309)](_0x43d150(0x97e));topicInputArea[_0x43d150(0x5f6)][_0x43d150(0x309)](_0x43d150(0x3c0)),textInputArea[_0x43d150(0x5f6)][_0x43d150(0x314)]('hidden'),fileInputArea[_0x43d150(0x5f6)][_0x43d150(0x314)]('hidden'),worksheetInputArea[_0x43d150(0x5f6)][_0x43d150(0x314)](_0x43d150(0x3c0));if(_0x303ac8)_0x303ac8[_0x43d150(0x5f6)][_0x43d150(0x314)](_0x43d150(0x3c0));if(_0x7f7508)_0x7f7508[_0x43d150(0x5f6)][_0x43d150(0x314)](_0x43d150(0x3c0));if(_0x32dd34)_0x32dd34[_0x43d150(0x5f6)][_0x43d150(0x314)](_0x43d150(0x3c0));}),textTab['addEventListener'](_0x123edd(0x909),()=>{const _0x3698d5=_0x123edd;textTab[_0x3698d5(0x5f6)][_0x3698d5(0x314)](_0x3698d5(0x97e)),topicTab[_0x3698d5(0x5f6)][_0x3698d5(0x309)](_0x3698d5(0x97e)),fileTab[_0x3698d5(0x5f6)][_0x3698d5(0x309)](_0x3698d5(0x97e)),worksheetTab['classList'][_0x3698d5(0x309)](_0x3698d5(0x97e));if(_0x54df4b)_0x54df4b['classList'][_0x3698d5(0x309)](_0x3698d5(0x97e));if(_0x4c58f5)_0x4c58f5[_0x3698d5(0x5f6)][_0x3698d5(0x309)](_0x3698d5(0x97e));if(_0x5c0a15)_0x5c0a15['classList'][_0x3698d5(0x309)](_0x3698d5(0x97e));textInputArea[_0x3698d5(0x5f6)]['remove'](_0x3698d5(0x3c0)),topicInputArea['classList']['add']('hidden'),fileInputArea[_0x3698d5(0x5f6)][_0x3698d5(0x314)](_0x3698d5(0x3c0)),worksheetInputArea[_0x3698d5(0x5f6)][_0x3698d5(0x314)](_0x3698d5(0x3c0));if(_0x303ac8)_0x303ac8[_0x3698d5(0x5f6)][_0x3698d5(0x314)](_0x3698d5(0x3c0));if(_0x7f7508)_0x7f7508[_0x3698d5(0x5f6)][_0x3698d5(0x314)](_0x3698d5(0x3c0));if(_0x32dd34)_0x32dd34[_0x3698d5(0x5f6)][_0x3698d5(0x314)](_0x3698d5(0x3c0));}),fileTab['addEventListener'](_0x123edd(0x909),()=>{const _0x3c35b8=_0x123edd;fileTab['classList']['add']('active'),topicTab[_0x3c35b8(0x5f6)][_0x3c35b8(0x309)](_0x3c35b8(0x97e)),textTab[_0x3c35b8(0x5f6)][_0x3c35b8(0x309)]('active'),worksheetTab[_0x3c35b8(0x5f6)][_0x3c35b8(0x309)](_0x3c35b8(0x97e));if(_0x54df4b)_0x54df4b['classList'][_0x3c35b8(0x309)]('active');if(_0x4c58f5)_0x4c58f5[_0x3c35b8(0x5f6)][_0x3c35b8(0x309)](_0x3c35b8(0x97e));if(_0x5c0a15)_0x5c0a15[_0x3c35b8(0x5f6)][_0x3c35b8(0x309)](_0x3c35b8(0x97e));fileInputArea[_0x3c35b8(0x5f6)][_0x3c35b8(0x309)](_0x3c35b8(0x3c0)),topicInputArea[_0x3c35b8(0x5f6)][_0x3c35b8(0x314)](_0x3c35b8(0x3c0)),textInputArea[_0x3c35b8(0x5f6)][_0x3c35b8(0x314)]('hidden'),worksheetInputArea[_0x3c35b8(0x5f6)]['add'](_0x3c35b8(0x3c0));if(_0x303ac8)_0x303ac8['classList']['add'](_0x3c35b8(0x3c0));if(_0x7f7508)_0x7f7508[_0x3c35b8(0x5f6)][_0x3c35b8(0x314)](_0x3c35b8(0x3c0));if(_0x32dd34)_0x32dd34[_0x3c35b8(0x5f6)][_0x3c35b8(0x314)](_0x3c35b8(0x3c0));}),worksheetTab[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x3780e1=_0x123edd;worksheetTab[_0x3780e1(0x5f6)][_0x3780e1(0x314)](_0x3780e1(0x97e)),topicTab['classList'][_0x3780e1(0x309)](_0x3780e1(0x97e)),textTab[_0x3780e1(0x5f6)][_0x3780e1(0x309)]('active'),fileTab[_0x3780e1(0x5f6)]['remove'](_0x3780e1(0x97e));if(_0x54df4b)_0x54df4b[_0x3780e1(0x5f6)][_0x3780e1(0x309)](_0x3780e1(0x97e));if(_0x4c58f5)_0x4c58f5['classList'][_0x3780e1(0x309)](_0x3780e1(0x97e));if(_0x5c0a15)_0x5c0a15['classList'][_0x3780e1(0x309)](_0x3780e1(0x97e));worksheetInputArea[_0x3780e1(0x5f6)][_0x3780e1(0x309)](_0x3780e1(0x3c0)),topicInputArea[_0x3780e1(0x5f6)]['add'](_0x3780e1(0x3c0)),textInputArea[_0x3780e1(0x5f6)][_0x3780e1(0x314)](_0x3780e1(0x3c0)),fileInputArea[_0x3780e1(0x5f6)][_0x3780e1(0x314)](_0x3780e1(0x3c0));if(_0x303ac8)_0x303ac8[_0x3780e1(0x5f6)][_0x3780e1(0x314)](_0x3780e1(0x3c0));if(_0x7f7508)_0x7f7508['classList'][_0x3780e1(0x314)]('hidden');if(_0x32dd34)_0x32dd34['classList'][_0x3780e1(0x314)](_0x3780e1(0x3c0));});const _0x3fdc6=document['getElementById'](_0x123edd(0x820)),_0x50fe17=document[_0x123edd(0xb9f)](_0x123edd(0x8e1));_0x3fdc6&&_0x3fdc6[_0x123edd(0x52b)]('click',()=>{const _0x2dfebd=_0x123edd;topicTab[_0x2dfebd(0x5f6)][_0x2dfebd(0x309)](_0x2dfebd(0x97e)),textTab['classList'][_0x2dfebd(0x309)](_0x2dfebd(0x97e)),fileTab[_0x2dfebd(0x5f6)][_0x2dfebd(0x309)](_0x2dfebd(0x97e)),worksheetTab[_0x2dfebd(0x5f6)][_0x2dfebd(0x309)](_0x2dfebd(0x97e));if(_0x54df4b)_0x54df4b[_0x2dfebd(0x5f6)][_0x2dfebd(0x309)](_0x2dfebd(0x97e));if(_0x4c58f5)_0x4c58f5['classList']['remove'](_0x2dfebd(0x97e));if(_0x5c0a15)_0x5c0a15['classList'][_0x2dfebd(0x309)](_0x2dfebd(0x97e));_0x3fdc6[_0x2dfebd(0x5f6)][_0x2dfebd(0x314)]('active'),topicInputArea[_0x2dfebd(0x5f6)][_0x2dfebd(0x314)](_0x2dfebd(0x3c0)),textInputArea[_0x2dfebd(0x5f6)][_0x2dfebd(0x314)](_0x2dfebd(0x3c0)),fileInputArea['classList'][_0x2dfebd(0x314)](_0x2dfebd(0x3c0)),worksheetInputArea[_0x2dfebd(0x5f6)][_0x2dfebd(0x314)](_0x2dfebd(0x3c0));if(_0x303ac8)_0x303ac8['classList']['add'](_0x2dfebd(0x3c0));if(_0x7f7508)_0x7f7508[_0x2dfebd(0x5f6)][_0x2dfebd(0x314)](_0x2dfebd(0x3c0));if(_0x32dd34)_0x32dd34[_0x2dfebd(0x5f6)]['add'](_0x2dfebd(0x3c0));_0x50fe17[_0x2dfebd(0x5f6)][_0x2dfebd(0x309)](_0x2dfebd(0x3c0)),displayQuestionBank();});_0x54df4b&&(_0x54df4b['addEventListener'](_0x123edd(0x909),()=>{const _0x2285ff=_0x123edd;_0x54df4b[_0x2285ff(0x5f6)]['add']('active'),topicTab[_0x2285ff(0x5f6)][_0x2285ff(0x309)](_0x2285ff(0x97e)),textTab[_0x2285ff(0x5f6)][_0x2285ff(0x309)](_0x2285ff(0x97e)),fileTab['classList'][_0x2285ff(0x309)](_0x2285ff(0x97e)),worksheetTab[_0x2285ff(0x5f6)]['remove'](_0x2285ff(0x97e));if(_0x4c58f5)_0x4c58f5[_0x2285ff(0x5f6)][_0x2285ff(0x309)]('active');if(_0x5c0a15)_0x5c0a15[_0x2285ff(0x5f6)]['remove'](_0x2285ff(0x97e));_0x303ac8[_0x2285ff(0x5f6)][_0x2285ff(0x309)](_0x2285ff(0x3c0)),topicInputArea[_0x2285ff(0x5f6)]['add'](_0x2285ff(0x3c0)),textInputArea['classList'][_0x2285ff(0x314)](_0x2285ff(0x3c0)),fileInputArea['classList']['add'](_0x2285ff(0x3c0)),worksheetInputArea['classList'][_0x2285ff(0x314)](_0x2285ff(0x3c0));if(_0x7f7508)_0x7f7508[_0x2285ff(0x5f6)]['add'](_0x2285ff(0x3c0));if(_0x32dd34)_0x32dd34[_0x2285ff(0x5f6)]['add']('hidden');}),document['getElementById'](_0x123edd(0x8d6))['addEventListener'](_0x123edd(0x909),handleGenerateFromLink));_0x4c58f5&&_0x4c58f5[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x50b5e8=_0x123edd;_0x4c58f5['classList'][_0x50b5e8(0x314)](_0x50b5e8(0x97e)),topicTab[_0x50b5e8(0x5f6)][_0x50b5e8(0x309)](_0x50b5e8(0x97e)),textTab[_0x50b5e8(0x5f6)][_0x50b5e8(0x309)]('active'),fileTab[_0x50b5e8(0x5f6)]['remove'](_0x50b5e8(0x97e)),worksheetTab[_0x50b5e8(0x5f6)][_0x50b5e8(0x309)](_0x50b5e8(0x97e));if(_0x54df4b)_0x54df4b['classList'][_0x50b5e8(0x309)](_0x50b5e8(0x97e));if(_0x3fdc6)_0x3fdc6[_0x50b5e8(0x5f6)]['remove'](_0x50b5e8(0x97e));if(_0x5c0a15)_0x5c0a15[_0x50b5e8(0x5f6)][_0x50b5e8(0x309)](_0x50b5e8(0x97e));_0x7f7508[_0x50b5e8(0x5f6)][_0x50b5e8(0x309)](_0x50b5e8(0x3c0)),topicInputArea[_0x50b5e8(0x5f6)]['add'](_0x50b5e8(0x3c0)),textInputArea['classList'][_0x50b5e8(0x314)]('hidden'),fileInputArea[_0x50b5e8(0x5f6)][_0x50b5e8(0x314)](_0x50b5e8(0x3c0)),worksheetInputArea[_0x50b5e8(0x5f6)]['add'](_0x50b5e8(0x3c0));if(_0x303ac8)_0x303ac8[_0x50b5e8(0x5f6)][_0x50b5e8(0x314)]('hidden');if(_0x50fe17)_0x50fe17[_0x50b5e8(0x5f6)][_0x50b5e8(0x314)](_0x50b5e8(0x3c0));if(_0x32dd34)_0x32dd34[_0x50b5e8(0x5f6)][_0x50b5e8(0x314)](_0x50b5e8(0x3c0));});_0x5c0a15&&_0x5c0a15[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x342d4c=_0x123edd;_0x5c0a15[_0x342d4c(0x5f6)][_0x342d4c(0x314)]('active'),topicTab[_0x342d4c(0x5f6)][_0x342d4c(0x309)](_0x342d4c(0x97e)),textTab[_0x342d4c(0x5f6)][_0x342d4c(0x309)](_0x342d4c(0x97e)),fileTab[_0x342d4c(0x5f6)][_0x342d4c(0x309)](_0x342d4c(0x97e)),worksheetTab[_0x342d4c(0x5f6)]['remove'](_0x342d4c(0x97e));if(_0x54df4b)_0x54df4b[_0x342d4c(0x5f6)][_0x342d4c(0x309)](_0x342d4c(0x97e));if(_0x4c58f5)_0x4c58f5[_0x342d4c(0x5f6)][_0x342d4c(0x309)](_0x342d4c(0x97e));if(_0x3fdc6)_0x3fdc6[_0x342d4c(0x5f6)][_0x342d4c(0x309)](_0x342d4c(0x97e));_0x32dd34[_0x342d4c(0x5f6)][_0x342d4c(0x309)]('hidden'),topicInputArea['classList']['add'](_0x342d4c(0x3c0)),textInputArea[_0x342d4c(0x5f6)]['add'](_0x342d4c(0x3c0)),fileInputArea[_0x342d4c(0x5f6)][_0x342d4c(0x314)](_0x342d4c(0x3c0)),worksheetInputArea[_0x342d4c(0x5f6)][_0x342d4c(0x314)]('hidden');if(_0x303ac8)_0x303ac8[_0x342d4c(0x5f6)][_0x342d4c(0x314)](_0x342d4c(0x3c0));if(_0x7f7508)_0x7f7508[_0x342d4c(0x5f6)][_0x342d4c(0x314)](_0x342d4c(0x3c0));if(_0x50fe17)_0x50fe17[_0x342d4c(0x5f6)]['add'](_0x342d4c(0x3c0));});const _0x42edb5=document[_0x123edd(0xb9f)]('blueprint-upload-input'),_0x8ac16e=document[_0x123edd(0xb9f)](_0x123edd(0x686));if(_0x42edb5){const _0x444b70=document[_0x123edd(0xb9f)]('blueprint-upload-input'),_0x4c2b4e=document['getElementById'](_0x123edd(0x686)),_0x15fb24=document['getElementById'](_0x123edd(0x918)),_0x1e7f9d=document[_0x123edd(0xb9f)](_0x123edd(0x364)),_0x4195bc=document[_0x123edd(0xb9f)]('blueprint-topics-list-container'),_0xc12fab=document[_0x123edd(0xb9f)](_0x123edd(0xa95));_0x444b70&&_0x444b70[_0x123edd(0x52b)]('change',async _0xb4b60c=>{const _0x59e691=_0x123edd;_0x15fb24[_0x59e691(0x5f6)][_0x59e691(0x314)]('hidden'),_0x4195bc[_0x59e691(0x5f6)][_0x59e691(0x314)](_0x59e691(0x3c0)),_0x1e7f9d['checked']=![],_0x4c2b4e[_0x59e691(0xa75)]=!![];const _0x10c239=_0xb4b60c[_0x59e691(0x2de)][_0x59e691(0xa99)][0x0];if(_0x10c239){_0x4c2b4e[_0x59e691(0xa75)]=![];try{const _0x1fe18c=await extractTextFromPdf(_0x10c239);await analyzeBlueprintForTopics(_0x1fe18c);}catch(_0x3d9ba6){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x15fb24[_0x59e691(0x5f6)][_0x59e691(0x314)](_0x59e691(0x3c0));}}}),_0x1e7f9d&&_0x1e7f9d[_0x123edd(0x52b)]('change',_0x4da846=>{const _0x442f7f=_0x123edd,_0x451f40=_0x4da846[_0x442f7f(0x2de)][_0x442f7f(0x20e)];_0x4195bc[_0x442f7f(0x5f6)][_0x442f7f(0x937)](_0x442f7f(0x3c0),!_0x451f40),_0x4c2b4e['disabled']=_0x451f40;}),_0xc12fab&&(_0xc12fab&&_0xc12fab[_0x123edd(0x52b)](_0x123edd(0x909),_0x2b586d=>{const _0x673c4c=_0x123edd,_0x2f9bb4=_0x2b586d[_0x673c4c(0x2de)][_0x673c4c(0x849)](_0x673c4c(0x4a3)),_0x3b085b=_0x2b586d[_0x673c4c(0x2de)][_0x673c4c(0x849)](_0x673c4c(0x9b4));if(_0x2f9bb4){const _0x560bbf=unescape(_0x2f9bb4[_0x673c4c(0xb7f)]['topic']);generateQuizForSingleTopic(_0x560bbf);}else{if(_0x3b085b){const _0x30a888=unescape(_0x3b085b[_0x673c4c(0xb7f)]['topic']);handleGenerateTeachingContent(_0x30a888);}}}));}_0x8ac16e&&_0x8ac16e['addEventListener'](_0x123edd(0x909),handleGenerateFromBlueprint);const _0x40aacf=document[_0x123edd(0xb9f)]('parallel-test-upload-input'),_0x4d79c7=document[_0x123edd(0xb9f)](_0x123edd(0xbde));_0x40aacf&&_0x40aacf[_0x123edd(0x52b)]('change',_0x168efc=>{const _0xce9246=_0x123edd;_0x4d79c7[_0xce9246(0xa75)]=_0x168efc['target']['files'][_0xce9246(0x384)]===0x0;});_0x4d79c7&&_0x4d79c7[_0x123edd(0x52b)](_0x123edd(0x909),handleGenerateParallelTest);loadQuizBtn[_0x123edd(0x52b)]('click',handleLoadQuiz),startQuizBtn[_0x123edd(0x52b)](_0x123edd(0x909),async()=>{const _0x506853=_0x123edd,_0x2a32db=document[_0x506853(0xb9f)]('student-name-select');currentStudentName=_0x2a32db[_0x506853(0x6b0)];if(!currentStudentName){showMessage(_0x506853(0x50d));return;}try{const _0xeac09d=currentQuizData['id'],_0xa10792=doc(db,_0x506853(0x3dc)+appId+_0x506853(0x315)+_0xeac09d+'/submissions',currentStudentName),_0x46b862=await getDoc(_0xa10792);!_0x46b862[_0x506853(0x7be)]()?await setDoc(_0xa10792,{'studentName':currentStudentName,'startedAt':new Date()[_0x506853(0x170)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0xa10792,{'startedAt':new Date()[_0x506853(0x170)]()});}catch(_0x14c9d5){console[_0x506853(0x930)](_0x506853(0x2db),_0x14c9d5),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x506853(0x5f6)][_0x506853(0x314)](_0x506853(0x3c0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x123edd(0xb9f)](_0x123edd(0xbd2))[_0x123edd(0x52b)](_0x123edd(0x909),showJoinGameView),document[_0x123edd(0xb9f)](_0x123edd(0x3a0))['addEventListener'](_0x123edd(0x909),handleJoinLiveGame),document['getElementById'](_0x123edd(0x81d))[_0x123edd(0x52b)](_0x123edd(0x909),()=>showView(_0x123edd(0x581)));const _0x478d4b=()=>{const _0x4a66c8=_0x123edd,_0x4e3e6f=document['getElementById']('results-quiz-title')[_0x4a66c8(0x33f)][_0x4a66c8(0x38e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x4a66c8(0x39f)+(_0x4e3e6f||'quiz');},_0x2920ab=document[_0x123edd(0xb9f)](_0x123edd(0x692));_0x2920ab&&_0x2920ab['addEventListener'](_0x123edd(0x8aa),_0x18a540=>{const _0x21f5eb=_0x123edd,_0x1a190e=_0x18a540[_0x21f5eb(0x2de)][_0x21f5eb(0x6b0)][_0x21f5eb(0x402)]()[_0x21f5eb(0x9f3)](),_0x357462=document[_0x21f5eb(0xb9f)](_0x21f5eb(0x184)),_0x1e0485=_0x357462[_0x21f5eb(0xb3b)](_0x21f5eb(0x931));_0x1e0485[_0x21f5eb(0x94f)](_0x293f3e=>{const _0x2c393d=_0x21f5eb;let _0x1589db=![];const _0x3cc7fe=_0x293f3e[_0x2c393d(0xb3b)]('.topic-row');_0x3cc7fe[_0x2c393d(0x94f)](_0x4b9a7e=>{const _0x26be41=_0x2c393d,_0x41a4ae=_0x4b9a7e[_0x26be41(0x2e7)](_0x26be41(0x524))[_0x26be41(0x33f)]['toLowerCase']();_0x41a4ae['includes'](_0x1a190e)?(_0x4b9a7e['style']['display']='flex',_0x1589db=!![]):_0x4b9a7e[_0x26be41(0x2a3)][_0x26be41(0x9d2)]='none';}),_0x1589db?_0x293f3e[_0x2c393d(0x2a3)][_0x2c393d(0x9d2)]=_0x2c393d(0x323):_0x293f3e['style'][_0x2c393d(0x9d2)]=_0x2c393d(0x30f);});});document[_0x123edd(0xb9f)]('export-image-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>exportTableAsImage(_0x123edd(0x6b2),_0x478d4b())),document[_0x123edd(0xb9f)](_0x123edd(0x775))[_0x123edd(0x52b)](_0x123edd(0x909),()=>exportTableAsPDF(_0x123edd(0x8d5),_0x478d4b())),document[_0x123edd(0xb9f)](_0x123edd(0x92e))[_0x123edd(0x52b)]('click',()=>exportTableAsWord(_0x123edd(0x6b2),_0x478d4b())),document['getElementById'](_0x123edd(0x508))[_0x123edd(0x52b)]('click',()=>exportTableAsExcel(_0x123edd(0x8d5),_0x478d4b()));const _0x2c5037=()=>{const _0x360777=_0x123edd,_0x853e0=document['getElementById'](_0x360777(0x9fb))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x360777(0x402)]();return'leaderboard_'+(_0x853e0||_0x360777(0x997));};document['getElementById'](_0x123edd(0xb85))[_0x123edd(0x52b)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x2c5037())),document[_0x123edd(0xb9f)](_0x123edd(0xa8c))[_0x123edd(0x52b)]('click',()=>exportTableAsPDF(_0x123edd(0x42f),_0x2c5037())),document[_0x123edd(0xb9f)]('export-leaderboard-word-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>exportTableAsWord(_0x123edd(0x839),_0x2c5037())),document[_0x123edd(0xb9f)]('export-leaderboard-excel-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>exportTableAsExcel(_0x123edd(0x42f),_0x2c5037())),projectQuizzesList[_0x123edd(0x52b)](_0x123edd(0x909),async _0xd7319f=>{const _0x18aa29=_0x123edd,_0x121556=_0xd7319f[_0x18aa29(0x2de)]['closest'](_0x18aa29(0x120)),_0x1a506b=_0xd7319f[_0x18aa29(0x2de)]['closest'](_0x18aa29(0x510)),_0x41e73e=_0xd7319f[_0x18aa29(0x2de)]['closest'](_0x18aa29(0x1a5)),_0x47b113=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)]('.generate-lesson-btn'),_0x3d2e6b=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)]('.star-quiz-btn'),_0x390de6=_0xd7319f[_0x18aa29(0x2de)]['closest'](_0x18aa29(0x942)),_0x54521f=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)](_0x18aa29(0x20a)),_0x2000d0=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)]('.quiz-settings-btn'),_0x5506c3=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)](_0x18aa29(0x363)),_0x400556=_0xd7319f[_0x18aa29(0x2de)]['closest'](_0x18aa29(0x2e8)),_0x382a70=_0xd7319f[_0x18aa29(0x2de)]['closest'](_0x18aa29(0x572)),_0x30bf03=_0xd7319f['target'][_0x18aa29(0x849)]('.move-quiz-btn'),_0x1b7215=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)]('.pair-quiz-btn'),_0x378da0=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)](_0x18aa29(0x607)),_0x191d4d=_0xd7319f['target'][_0x18aa29(0x849)](_0x18aa29(0x22b)),_0x34cabe=_0xd7319f[_0x18aa29(0x2de)]['closest'](_0x18aa29(0x9b5)),_0x599873=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)]('.export-pdf-list-btn'),_0xc21011=_0xd7319f['target'][_0x18aa29(0x849)](_0x18aa29(0x718)),_0x2dbaef=_0xd7319f[_0x18aa29(0x2de)]['closest'](_0x18aa29(0x7f7)),_0x3cc2f0=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)](_0x18aa29(0x35c)),_0x5db99b=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)]('.generate-easy-version-btn'),_0x1c8a2d=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)](_0x18aa29(0xa4a)),_0x111c78=_0xd7319f[_0x18aa29(0x2de)][_0x18aa29(0x849)](_0x18aa29(0x9aa));if(_0x1c8a2d){const _0x492df8=_0x1c8a2d[_0x18aa29(0xb7f)]['quizId'],_0x26dafe=_0x1c8a2d[_0x18aa29(0xb7f)][_0x18aa29(0x5b2)],_0x363db6=allQuizzes[_0x18aa29(0x3de)](_0x14548d=>_0x14548d['id']===_0x492df8);_0x363db6&&showGameStartConfirmationModal(_0x492df8,_0x26dafe,_0x363db6['topic']);}else{if(_0x111c78){const _0x3b0018=_0x111c78['dataset'][_0x18aa29(0xbe5)];handleStartLiveRace(_0x3b0018);}else{if(_0x3cc2f0){const _0x5f20d3=_0x3cc2f0['dataset'][_0x18aa29(0xbe5)],_0x45aafe=document[_0x18aa29(0xb9f)](_0x18aa29(0x16f)+_0x5f20d3);_0x45aafe&&_0x45aafe[_0x18aa29(0x5f6)][_0x18aa29(0x937)](_0x18aa29(0x3c0));}else{if(_0x1a506b){const _0x88047f=_0x1a506b['dataset'][_0x18aa29(0xbe5)],_0x4a00bb=allQuizzes['find'](_0x535e24=>_0x535e24['id']===_0x88047f);_0x4a00bb&&handleGenerateParallelPostTest(_0x4a00bb);}else{if(_0x41e73e)handleCompareResults(_0x41e73e[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)],_0x41e73e['dataset'][_0x18aa29(0x84c)]);else{if(_0x47b113){const _0x74f230=_0x47b113[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)],_0x1b1618=allQuizzes['find'](_0x305625=>_0x305625['id']===_0x74f230);_0x1b1618&&_0x1b1618[_0x18aa29(0x484)]?(displayLessonPlan(_0x1b1618[_0x18aa29(0x484)],_0x1b1618),showConfirmation(_0x18aa29(0x36c),()=>handleGenerateLessonPlan(_0x74f230)),document['getElementById'](_0x18aa29(0x4d7))[_0x18aa29(0x2e7)]('h3')[_0x18aa29(0x33f)]=_0x18aa29(0x210),document[_0x18aa29(0xb9f)](_0x18aa29(0x87e))[_0x18aa29(0x33f)]=_0x18aa29(0x5ac)):handleGenerateLessonPlan(_0x74f230);}else{if(_0x3d2e6b)handleToggleStarQuiz(_0x3d2e6b['dataset'][_0x18aa29(0xbe5)]);else{if(_0x390de6)copyTextToClipboard(_0x390de6['dataset'][_0x18aa29(0xbe5)],_0x18aa29(0x670));else{if(_0x54521f)handleOpenQuizEditor(_0x54521f[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)]);else{if(_0x2000d0)handleQuizSettings(_0x2000d0[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)]);else{if(_0x5506c3)handleDuplicateQuiz(_0x5506c3[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)]);else{if(_0x400556)handleRenameQuiz(_0x400556[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)],_0x400556[_0x18aa29(0xb7f)][_0x18aa29(0xb1c)]);else{if(_0x382a70){const _0x2a58d3=_0x382a70['dataset'][_0x18aa29(0xbe5)],_0x21bd1c=allQuizzes[_0x18aa29(0x3de)](_0x373b51=>_0x373b51['id']===_0x2a58d3);_0x21bd1c&&handleGenerateParallelFromBank(_0x21bd1c);}else{if(_0x30bf03)handleMoveQuiz(_0x30bf03['dataset'][_0x18aa29(0xbe5)]);else{if(_0x1b7215)handleManualQuizPairing(_0x1b7215[_0x18aa29(0xb7f)]['quizId']);else{if(_0x378da0)handleUnpairQuiz(_0x378da0['dataset'][_0x18aa29(0xbe5)]);else{if(_0x191d4d){const _0x58d9d6=_0x191d4d[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)],_0x586750=allQuizzes[_0x18aa29(0x3de)](_0x33a94e=>_0x33a94e['id']===_0x58d9d6);if(_0x586750)startPresentation(_0x586750);}else{if(_0x34cabe){const _0x32f3d3=_0x34cabe[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)],_0x1a56ab=allQuizzes['find'](_0xb9ec74=>_0xb9ec74['id']===_0x32f3d3);_0x1a56ab&&(currentQuizData=_0x1a56ab,startAdminTest());}else{if(_0x599873)actionTargetId=_0x599873['dataset'][_0x18aa29(0xbe5)],document['getElementById']('export-pdf-modal')[_0x18aa29(0x5f6)][_0x18aa29(0x309)](_0x18aa29(0x3c0));else{if(_0xc21011)showConfirmation(_0x18aa29(0x517)+_0xc21011[_0x18aa29(0xb7f)]['topic']+_0x18aa29(0x423),()=>handleDeleteQuiz(_0xc21011['dataset'][_0x18aa29(0xbe5)]));else{if(_0x2dbaef)handleQuizStatus(_0x2dbaef[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)]);else{if(_0x5db99b)handleGenerateEasyVersionQuiz(_0x5db99b[_0x18aa29(0xb7f)][_0x18aa29(0xbe5)]);else _0x121556&&showQuizDetailView(_0x121556['dataset'][_0x18aa29(0xbe5)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x123edd(0x371))[_0x123edd(0x52b)](_0x123edd(0x909),()=>showView(_0x123edd(0x581))),document[_0x123edd(0xb9f)](_0x123edd(0x173))[_0x123edd(0x52b)](_0x123edd(0x909),confirmAndStartTeamQuiz),document['getElementById'](_0x123edd(0x42f))[_0x123edd(0x2e7)](_0x123edd(0x414))[_0x123edd(0x52b)](_0x123edd(0x909),_0x1eded0=>{const _0x1491b0=_0x123edd,_0x2d1fac=_0x1eded0[_0x1491b0(0x2de)][_0x1491b0(0x849)](_0x1491b0(0x365));if(!_0x2d1fac||!_0x2d1fac[_0x1491b0(0xb7f)][_0x1491b0(0xa30)])return;const _0x39cba2=_0x2d1fac[_0x1491b0(0xb7f)][_0x1491b0(0xa30)];if(quizLeaderboardSortBy===_0x39cba2)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1491b0(0x6c4)?'desc':_0x1491b0(0x6c4);else{quizLeaderboardSortBy=_0x39cba2;const _0x561ad5=[_0x1491b0(0x884)];quizLeaderboardSortOrder=_0x561ad5[_0x1491b0(0x6b7)](_0x39cba2)?_0x1491b0(0x6c4):_0x1491b0(0x146);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0x123edd(0x734))['addEventListener'](_0x123edd(0x909),closePresentation),document[_0x123edd(0xb9f)]('prev-question-btn')['addEventListener'](_0x123edd(0x909),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x123edd(0xb9f)]('next-question-btn')['addEventListener'](_0x123edd(0x909),()=>{const _0x537a8f=_0x123edd;currentQuizData[_0x537a8f(0x5c2)]&&currentPresentationSlide<currentQuizData['questions'][_0x537a8f(0x384)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x123edd(0x52b)](_0x123edd(0x1fb),()=>{const _0x3f4797=_0x123edd;!document[_0x3f4797(0x708)]&&(presentationModal[_0x3f4797(0x2a3)]['display']='none');}),document[_0x123edd(0xb9f)](_0x123edd(0x18f))[_0x123edd(0x52b)]('click',handleDeleteAllStudents),studentList[_0x123edd(0x52b)]('click',_0x40f4ca=>{const _0x19be1d=_0x123edd,_0x389692=_0x40f4ca[_0x19be1d(0x2de)][_0x19be1d(0x849)](_0x19be1d(0x454));if(_0x389692){const _0x1aed4b=_0x389692[_0x19be1d(0xb7f)][_0x19be1d(0x884)];handleDeleteStudent(_0x1aed4b);}}),document[_0x123edd(0xb9f)](_0x123edd(0x17f))[_0x123edd(0x52b)](_0x123edd(0x909),handleGenerateFromFileClick),fileUploadInput[_0x123edd(0x52b)](_0x123edd(0x81e),_0x2ff8b8=>{const _0x5241b5=_0x123edd,_0x23678b=_0x2ff8b8[_0x5241b5(0x2de)][_0x5241b5(0xa99)][0x0],_0x1b508d=document[_0x5241b5(0xb9f)](_0x5241b5(0x17f)),_0x32232e=document[_0x5241b5(0xb9f)](_0x5241b5(0x471)),_0x5ae370=document['getElementById'](_0x5241b5(0xb9d));_0x23678b?(selectedFile=_0x23678b,_0x5ae370[_0x5241b5(0x20e)]?(_0x1b508d[_0x5241b5(0xa75)]=!![],analyzeFileForTopics(_0x23678b)):(_0x1b508d[_0x5241b5(0xa75)]=![],_0x32232e[_0x5241b5(0x5f6)][_0x5241b5(0x314)](_0x5241b5(0x3c0)))):(selectedFile=null,_0x1b508d[_0x5241b5(0xa75)]=!![],_0x32232e[_0x5241b5(0x5f6)][_0x5241b5(0x314)](_0x5241b5(0x3c0)));}),document[_0x123edd(0xb9f)](_0x123edd(0xb9d))[_0x123edd(0x52b)]('change',_0x5784b3=>{const _0xf81de=_0x123edd,_0x1bc766=_0x5784b3[_0xf81de(0x2de)][_0xf81de(0x20e)],_0x1c4ca1=document[_0xf81de(0xb9f)](_0xf81de(0x17f)),_0x588fea=document[_0xf81de(0xb9f)](_0xf81de(0x471));_0x1bc766?(_0x1c4ca1[_0xf81de(0xa75)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x588fea['classList']['remove']('hidden'),document[_0xf81de(0xb9f)](_0xf81de(0xb53))[_0xf81de(0x215)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x588fea[_0xf81de(0x5f6)][_0xf81de(0x314)](_0xf81de(0x3c0)),_0x1c4ca1[_0xf81de(0xa75)]=!selectedFile);}),document[_0x123edd(0xb9f)](_0x123edd(0x471))[_0x123edd(0x52b)](_0x123edd(0x909),_0x22a8a8=>{const _0x2f2610=_0x123edd,_0x5a2ca2=_0x22a8a8['target'][_0x2f2610(0x849)](_0x2f2610(0xa9c)),_0x19b9ea=_0x22a8a8[_0x2f2610(0x2de)][_0x2f2610(0x849)](_0x2f2610(0x9b4));if(_0x5a2ca2){const _0x37b223=unescape(_0x5a2ca2['dataset']['topic']);generateHybridQuizForTopic(_0x37b223);}else{if(_0x19b9ea){const _0x417ff3=unescape(_0x19b9ea[_0x2f2610(0xb7f)][_0x2f2610(0xb1c)]),_0x3a8ba7=document[_0x2f2610(0xb9f)]('difficulty-level-select')[_0x2f2610(0x6b0)];handleGenerateAndShowLesson(_0x417ff3,_0x3a8ba7);}}}),document[_0x123edd(0xb9f)](_0x123edd(0xa5d))[_0x123edd(0x52b)](_0x123edd(0x81e),_0x34d718=>{const _0x30fda6=_0x123edd,_0x25aaee=document[_0x30fda6(0xb9f)]('timer-duration-container'),_0x3b9182=document[_0x30fda6(0xb9f)](_0x30fda6(0x7e0)),_0xb48761=document[_0x30fda6(0xb9f)](_0x30fda6(0x615));_0x34d718['target']['value']===_0x30fda6(0x30f)?_0x25aaee[_0x30fda6(0x5f6)][_0x30fda6(0x314)](_0x30fda6(0x3c0)):(_0x25aaee[_0x30fda6(0x5f6)]['remove'](_0x30fda6(0x3c0)),_0x34d718[_0x30fda6(0x2de)][_0x30fda6(0x6b0)]==='whole_quiz'?(_0x3b9182[_0x30fda6(0x33f)]=_0x30fda6(0x32c),_0xb48761[_0x30fda6(0x6b0)]='10'):(_0x3b9182[_0x30fda6(0x33f)]='ระยะเวลา\x20(วินาที):',_0xb48761[_0x30fda6(0x6b0)]='30'));}),document[_0x123edd(0xb9f)]('quiz-type-select')[_0x123edd(0x52b)](_0x123edd(0x81e),_0x47a0fa=>{const _0x48f490=_0x123edd,_0x2e38c6=document[_0x48f490(0xb9f)](_0x48f490(0x7cf)),_0x341881=_0x47a0fa[_0x48f490(0x2de)][_0x48f490(0x6b0)],_0x46c44f=document['querySelector'](_0x48f490(0x657)),_0x539bf0=document['getElementById'](_0x48f490(0x7a8)),_0x4d2391=document[_0x48f490(0xb9f)](_0x48f490(0x678));_0x341881===_0x48f490(0x157)?_0x46c44f[_0x48f490(0x33f)]=_0x48f490(0xa55):_0x46c44f[_0x48f490(0x33f)]=_0x48f490(0x183),_0x341881===_0x48f490(0x81c)||_0x341881===_0x48f490(0x361)||_0x341881==='mixed'?_0x2e38c6['classList'][_0x48f490(0x309)](_0x48f490(0x3c0)):_0x2e38c6[_0x48f490(0x5f6)][_0x48f490(0x314)]('hidden'),_0x539bf0[_0x48f490(0x2b7)]=_0x4d2391[_0x48f490(0x6b0)];}),document[_0x123edd(0xb9f)](_0x123edd(0x678))[_0x123edd(0x52b)](_0x123edd(0x8aa),_0x54b1e8=>{const _0x57ef6e=_0x123edd;document[_0x57ef6e(0xb9f)](_0x57ef6e(0x7a8))[_0x57ef6e(0x2b7)]=_0x54b1e8[_0x57ef6e(0x2de)]['value'];}),document[_0x123edd(0xb9f)](_0x123edd(0x6e0))[_0x123edd(0x52b)](_0x123edd(0x81e),_0x5accf4=>{const _0x3d1772=_0x123edd,_0x99d0a=document[_0x3d1772(0xb9f)]('modal-timer-duration-container'),_0x28ec17=document[_0x3d1772(0xb9f)](_0x3d1772(0x4ef)),_0x17ba63=document[_0x3d1772(0xb9f)]('modal-timer-duration-input');_0x5accf4[_0x3d1772(0x2de)]['value']===_0x3d1772(0x30f)?_0x99d0a[_0x3d1772(0x5f6)][_0x3d1772(0x314)]('hidden'):(_0x99d0a['classList'][_0x3d1772(0x309)](_0x3d1772(0x3c0)),_0x5accf4[_0x3d1772(0x2de)][_0x3d1772(0x6b0)]===_0x3d1772(0x609)?_0x28ec17[_0x3d1772(0x33f)]=_0x3d1772(0x32c):_0x28ec17['textContent']='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0x123edd(0x24c))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x4f18ed=_0x123edd;document['getElementById'](_0x4f18ed(0x69d))[_0x4f18ed(0x5f6)]['add'](_0x4f18ed(0x3c0));}),document[_0x123edd(0xb9f)](_0x123edd(0x259))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x4c0ca4=_0x123edd;document[_0x4c0ca4(0xb9f)](_0x4c0ca4(0x69d))[_0x4c0ca4(0x5f6)][_0x4c0ca4(0x314)](_0x4c0ca4(0x3c0));}),document[_0x123edd(0xb9f)](_0x123edd(0x4e4))['addEventListener'](_0x123edd(0x909),handleVerifyAnswersInEditor),document[_0x123edd(0xb9f)](_0x123edd(0xa3f))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x53697b=_0x123edd;document[_0x53697b(0xb9f)](_0x53697b(0x69d))[_0x53697b(0x5f6)]['add'](_0x53697b(0x3c0)),showConfirmation(_0x53697b(0x900),handleSaveChanges);}),document[_0x123edd(0xb9f)](_0x123edd(0x122))['addEventListener'](_0x123edd(0x909),handleAutoFixLatex);const _0x1f28db=document[_0x123edd(0xb9f)](_0x123edd(0x9ed));_0x1f28db&&_0x1f28db[_0x123edd(0x52b)](_0x123edd(0x909),_0x2ae1ee=>{const _0x4b6e7c=_0x123edd,_0x270afc=_0x2ae1ee[_0x4b6e7c(0x2de)][_0x4b6e7c(0x849)](_0x4b6e7c(0xb7a)),_0x440a15=_0x2ae1ee['target'][_0x4b6e7c(0x849)](_0x4b6e7c(0xa5a));if(_0x270afc){const _0x108873=_0x270afc[_0x4b6e7c(0x849)](_0x4b6e7c(0x80c)),_0x34b51b=parseInt(_0x108873[_0x4b6e7c(0xb7f)][_0x4b6e7c(0xa61)],0xa);handleRegenerateQuestionInEditor(_0x34b51b);}else{if(_0x440a15){const _0x2b7b20=_0x440a15[_0x4b6e7c(0x849)]('.question-editor-item'),_0x4b4697=parseInt(_0x2b7b20['dataset'][_0x4b6e7c(0xa61)],0xa);handleAiFixFormula(_0x4b4697);}}});document[_0x123edd(0xb9f)](_0x123edd(0x86f))[_0x123edd(0x52b)](_0x123edd(0x909),openQuizBankModal),document[_0x123edd(0xb9f)](_0x123edd(0x57e))[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x304af8=_0x123edd;document['getElementById'](_0x304af8(0x216))[_0x304af8(0x5f6)][_0x304af8(0x314)]('hidden');}),document[_0x123edd(0xb9f)]('bank-quiz-search-input')[_0x123edd(0x52b)](_0x123edd(0x8aa),_0x464e67=>renderQuizBankList(_0x464e67[_0x123edd(0x2de)][_0x123edd(0x6b0)]));const _0x51e9a7=document[_0x123edd(0xb9f)]('math-topics-checkbox-container');if(_0x51e9a7){let _0x2c6aea=null;_0x51e9a7[_0x123edd(0x52b)](_0x123edd(0x909),_0x480818=>{const _0x9aea=_0x123edd,_0xaaab85=_0x480818[_0x9aea(0x2de)],_0x553fb1=_0xaaab85[_0x9aea(0x849)](_0x9aea(0x6b5)),_0x13c2b0=_0xaaab85['closest'](_0x9aea(0xbb7)),_0x193066=_0xaaab85[_0x9aea(0x849)]('.save-custom-topic-btn'),_0x1ac799=_0xaaab85[_0x9aea(0x849)](_0x9aea(0x8fd));if(_0x13c2b0){_0x480818['preventDefault']();const _0x3c321b=_0x13c2b0[_0x9aea(0xb7f)]['id'],_0xe8d71b=_0x13c2b0[_0x9aea(0x849)](_0x9aea(0x1a6))[_0x9aea(0x2e7)]('.topic-name-display')[_0x9aea(0x33f)];showConfirmation(_0x9aea(0xaac)+_0xe8d71b+'\x22?',()=>handleDeleteCustomTopic(_0x3c321b));}else{if(_0x553fb1){_0x480818[_0x9aea(0xa38)]();_0x2c6aea&&toggleTopicEditMode(_0x2c6aea,![]);const _0x3a2009=_0x553fb1[_0x9aea(0x849)](_0x9aea(0xafd));_0x2c6aea=_0x3a2009,toggleTopicEditMode(_0x3a2009,!![]);}else{if(_0x193066){_0x480818['preventDefault']();const _0x1a99ea=_0x193066['dataset']['id'],_0x5e5757=_0x193066[_0x9aea(0x849)](_0x9aea(0xafd)),_0x3190a0=_0x5e5757[_0x9aea(0x2e7)](_0x9aea(0xa88))['value'];handleUpdateCustomTopic(_0x1a99ea,_0x3190a0),_0x2c6aea=null;}else{if(_0x1ac799){_0x480818[_0x9aea(0xa38)]();const _0x4be391=_0x1ac799['closest'](_0x9aea(0xafd));toggleTopicEditMode(_0x4be391,![]),_0x2c6aea=null;}}}}}),document[_0x123edd(0xb9f)]('close-lesson-plan-modal-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x474ea1=_0x123edd;document[_0x474ea1(0xb9f)](_0x474ea1(0x565))[_0x474ea1(0x5f6)][_0x474ea1(0x314)](_0x474ea1(0x3c0));}),document[_0x123edd(0xb9f)]('close-lesson-plan-modal-footer-btn')['addEventListener']('click',()=>{const _0x235409=_0x123edd;document['getElementById'](_0x235409(0x565))['classList'][_0x235409(0x314)](_0x235409(0x3c0));}),document[_0x123edd(0xb9f)]('export-lesson-pdf-btn')[_0x123edd(0x52b)](_0x123edd(0x909),handleExportLessonPDF);}document['getElementById']('close-comparison-modal-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x3c7d34=_0x123edd;document[_0x3c7d34(0xb9f)](_0x3c7d34(0x2ff))[_0x3c7d34(0x5f6)]['add'](_0x3c7d34(0x3c0));}),document[_0x123edd(0xb9f)]('close-comparison-modal-footer-btn')[_0x123edd(0x52b)](_0x123edd(0x909),()=>{const _0x49d542=_0x123edd;document['getElementById'](_0x49d542(0x2ff))[_0x49d542(0x5f6)][_0x49d542(0x314)](_0x49d542(0x3c0));}),setupComparisonModalTabs(),document['body'][_0x123edd(0x52b)](_0x123edd(0x909),function(_0x4afa66){const _0x466281=_0x123edd;if(_0x4afa66['target'][_0x466281(0x5f6)][_0x466281(0x4d3)](_0x466281(0x1b8))){const _0x27d58a=unescape(_0x4afa66[_0x466281(0x2de)][_0x466281(0xb7f)][_0x466281(0xb1c)]);startSkillPractice(_0x27d58a);}}),document[_0x123edd(0xb9f)](_0x123edd(0x43c))['addEventListener'](_0x123edd(0x909),_0x3684aa=>{const _0x2218bb=_0x123edd,_0x58937c=_0x3684aa[_0x2218bb(0x2de)]['closest'](_0x2218bb(0xaf2));if(_0x58937c){const _0x171a6d=_0x58937c[_0x2218bb(0xb7f)][_0x2218bb(0x884)];handleDeleteSubmission(_0x171a6d);}});}async function handleStartGroupMode(_0x1ea9ed,_0x136899=![]){const _0x4bc02c=_0x7550fe,_0x219936=allQuizzes['find'](_0x5e7df6=>_0x5e7df6['id']===_0x1ea9ed)||allQuizzesGlobal[_0x4bc02c(0x3de)](_0x59313a=>_0x59313a['id']===_0x1ea9ed);if(!_0x219936){showMessage(_0x4bc02c(0x2f0));return;}currentQuizData=getShuffledQuiz(_0x219936);const _0x52f38d=Math[_0x4bc02c(0xa02)](0x3e8+Math[_0x4bc02c(0x5b4)]()*0x2328)[_0x4bc02c(0xba9)]();try{const _0xac74a9=await addDoc(collection(db,_0x4bc02c(0x3dc)+appId+_0x4bc02c(0x80e)),{'quizId':_0x219936['id'],'projectId':_0x219936[_0x4bc02c(0x176)],'status':_0x4bc02c(0x179),'pin':_0x52f38d,'mode':_0x4bc02c(0x6da),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x136899});currentTeamQuizId=_0xac74a9['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x52f38d,_0x219936['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x2d661a){console[_0x4bc02c(0x930)](_0x4bc02c(0xa89),_0x2d661a),showMessage(_0x4bc02c(0x562));}}async function showStudentProgressView(){const _0xbb7710=_0x7550fe;studentInitialView[_0xbb7710(0x5f6)][_0xbb7710(0x314)]('hidden'),document[_0xbb7710(0xb9f)]('student-progress-view')[_0xbb7710(0x5f6)][_0xbb7710(0x309)](_0xbb7710(0x3c0));const _0x2f2767=document[_0xbb7710(0xb9f)](_0xbb7710(0x447)),_0xbcff2a=document['getElementById']('progress-student-select'),_0x5ac216=document[_0xbb7710(0xb9f)](_0xbb7710(0xbeb));_0x5ac216[_0xbb7710(0x215)]=_0xbb7710(0x65b),_0xbcff2a[_0xbb7710(0x215)]=_0xbb7710(0xa25),_0xbcff2a[_0xbb7710(0xa75)]=!![],_0x2f2767[_0xbb7710(0x215)]=_0xbb7710(0x7f9);if(allProjects[_0xbb7710(0x384)]===0x0){const _0x6abb58=collection(db,'artifacts/'+appId+_0xbb7710(0x466)),_0x3910f6=await getDocs(_0x6abb58);allProjects=_0x3910f6['docs'][_0xbb7710(0x25d)](_0x19fb29=>({'id':_0x19fb29['id'],..._0x19fb29[_0xbb7710(0xaf1)]()}));}const _0x3d6ee8=allProjects[_0xbb7710(0x67f)](_0x243529=>_0x243529[_0xbb7710(0x996)]?.[_0xbb7710(0x6e1)]!==![]);_0x3d6ee8['sort']((_0x1d1fbe,_0x4121b5)=>_0x1d1fbe[_0xbb7710(0x7aa)][_0xbb7710(0x45d)](_0x4121b5[_0xbb7710(0x7aa)],'th')),_0x2f2767[_0xbb7710(0x215)]=_0xbb7710(0xb25)+_0x3d6ee8['map'](_0x2d0474=>_0xbb7710(0x93a)+_0x2d0474['id']+'\x22>'+_0x2d0474[_0xbb7710(0x7aa)]+_0xbb7710(0xb9e))[_0xbb7710(0x7fa)](''),_0x2f2767[_0xbb7710(0x67c)]=()=>{const _0x43a8a6=_0xbb7710,_0x3bff92=_0xbcff2a[_0x43a8a6(0x6b0)],_0x4a0651=_0x2f2767[_0x43a8a6(0x6b0)];_0xbcff2a[_0x43a8a6(0xa75)]=!![],_0xbcff2a[_0x43a8a6(0x215)]=_0x43a8a6(0xa25),_0x5ac216[_0x43a8a6(0x215)]=_0x43a8a6(0x950);if(!_0x4a0651)return;const _0xd93626=allProjects[_0x43a8a6(0x3de)](_0x2d5e7f=>_0x2d5e7f['id']===_0x4a0651);if(!_0xd93626||!_0xd93626[_0x43a8a6(0x80f)])return;const _0x167654=()=>{const _0x14f76c=_0x43a8a6;_0xbcff2a[_0x14f76c(0x215)]=_0x14f76c(0xa25)+_0xd93626['students']['map'](_0x2e9fb5=>_0x14f76c(0x93a)+_0x2e9fb5+'\x22>'+_0x2e9fb5+_0x14f76c(0xb9e))[_0x14f76c(0x7fa)](''),_0xbcff2a[_0x14f76c(0xa75)]=![];const _0x3f81ac=Array[_0x14f76c(0x850)](_0xbcff2a[_0x14f76c(0xbe2)])[_0x14f76c(0x25d)](_0x55e71d=>_0x55e71d['value']);if(_0x3bff92&&_0x3f81ac[_0x14f76c(0x6b7)](_0x3bff92))_0xbcff2a[_0x14f76c(0x6b0)]=_0x3bff92,_0xbcff2a['dispatchEvent'](new Event(_0x14f76c(0x81e)));else _0xd93626[_0x14f76c(0x80f)][_0x14f76c(0x384)]===0x1&&(_0xbcff2a[_0x14f76c(0x6b0)]=_0xd93626[_0x14f76c(0x80f)][0x0],_0xbcff2a[_0x14f76c(0x74b)](new Event('change')));};if(_0xd93626['settings']?.[_0x43a8a6(0xbcf)]){if(sessionStorage['getItem'](_0x43a8a6(0x970)+_0x4a0651)==='true'){_0x167654();return;}const _0x23756f=document[_0x43a8a6(0xb9f)](_0x43a8a6(0x790)),_0x41f630=document[_0x43a8a6(0xb9f)](_0x43a8a6(0x71f)),_0x13c252=document['getElementById'](_0x43a8a6(0x7c2)),_0xce39b2=document[_0x43a8a6(0xb9f)](_0x43a8a6(0x125)),_0x4b8b9d=document[_0x43a8a6(0xb9f)](_0x43a8a6(0xa00));document[_0x43a8a6(0xb9f)]('passcode-prompt-message')[_0x43a8a6(0x33f)]=_0x43a8a6(0xa3e)+_0xd93626[_0x43a8a6(0x7aa)],_0xce39b2[_0x43a8a6(0x6b0)]='',_0x4b8b9d[_0x43a8a6(0x5f6)]['add'](_0x43a8a6(0x3c0)),_0x23756f['classList'][_0x43a8a6(0x309)](_0x43a8a6(0x3c0));const _0x5a6b92=()=>{const _0x5a3fcd=_0x43a8a6,_0x250721=_0xce39b2[_0x5a3fcd(0x6b0)]['trim']();_0x250721===_0xd93626['settings'][_0x5a3fcd(0x3d4)]?(sessionStorage['setItem'](_0x5a3fcd(0x970)+_0x4a0651,_0x5a3fcd(0xb66)),_0x23756f['classList'][_0x5a3fcd(0x314)](_0x5a3fcd(0x3c0)),_0x167654(),_0x41f630[_0x5a3fcd(0xb5f)](_0x5a3fcd(0x909),_0x5a6b92)):_0x4b8b9d[_0x5a3fcd(0x5f6)][_0x5a3fcd(0x309)](_0x5a3fcd(0x3c0));};_0x41f630[_0x43a8a6(0x6ff)]=_0x5a6b92,_0x13c252['onclick']=()=>{const _0x52e90c=_0x43a8a6;_0x23756f[_0x52e90c(0x5f6)][_0x52e90c(0x314)](_0x52e90c(0x3c0)),_0x2f2767['value']='',_0x41f630[_0x52e90c(0xb5f)](_0x52e90c(0x909),_0x5a6b92);};}else _0x167654();},_0xbcff2a[_0xbb7710(0x67c)]=()=>{const _0x133467=_0xbb7710,_0x49d26e=_0x2f2767[_0x133467(0x6b0)],_0x44d95f=_0xbcff2a['value'];_0x49d26e&&_0x44d95f&&renderStudentProgressDashboard(_0x49d26e,_0x44d95f);};}async function confirmAndJoinSyncGame(){const _0x268978=_0x7550fe,_0x1bea7d=Array[_0x268978(0x850)](document[_0x268978(0xb3b)](_0x268978(0xaaa)))[_0x268978(0x25d)](_0x5f033e=>_0x5f033e['value']);if(_0x1bea7d[_0x268978(0x384)]===0x0){showMessage(_0x268978(0xab0));return;}localTeamPlayers=_0x1bea7d,localPlayerTurnIndex=0x0;const _0x511d20=doc(db,_0x268978(0x3dc)+appId+_0x268978(0xa36),currentLiveGameId);try{const _0x4eb0bb=await getDoc(_0x511d20);if(!_0x4eb0bb[_0x268978(0x7be)]())throw new Error(_0x268978(0x189));const _0x1c02b8=_0x4eb0bb[_0x268978(0xaf1)]()[_0x268978(0x340)]||{};_0x1bea7d['forEach'](_0x324f8f=>{!_0x1c02b8[_0x324f8f]&&(_0x1c02b8[_0x324f8f]={'name':_0x324f8f,'score':0x0,'answered':![],'status':'active'});}),await updateDoc(_0x511d20,{'players':_0x1c02b8}),document[_0x268978(0xb9f)]('student-team-selection-view')['classList'][_0x268978(0x314)]('hidden'),currentStudentName=_0x1bea7d[0x0],listenForSyncGameUpdates();const _0x351d27={'gameId':currentLiveGameId,'mode':_0x268978(0x630),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x268978(0x3db),JSON[_0x268978(0x356)](_0x351d27));}catch(_0x15cd08){console[_0x268978(0x930)](_0x268978(0x154),_0x15cd08),showMessage(_0x268978(0x186));}}async function resumeActiveGameSession(){const _0x93071f=_0x7550fe,_0x5d4689=sessionStorage[_0x93071f(0x123)](_0x93071f(0x3db));if(!_0x5d4689)return;const _0x3c6773=JSON['parse'](_0x5d4689),{gameId:_0x46624f,mode:_0x2e018e,players:_0x5e2f1c,turnIndex:_0x241051}=_0x3c6773;try{let _0x6d9927,_0x4aae09;_0x2e018e===_0x93071f(0x630)?_0x6d9927=doc(db,'artifacts/'+appId+_0x93071f(0xa36),_0x46624f):_0x6d9927=doc(db,_0x93071f(0x3dc)+appId+'/public/data/teamQuizzes',_0x46624f);_0x4aae09=await getDoc(_0x6d9927);if(!_0x4aae09[_0x93071f(0x7be)]()||_0x4aae09[_0x93071f(0xaf1)]()['status']==='finished'||_0x4aae09[_0x93071f(0xaf1)]()['status']===_0x93071f(0x245)){sessionStorage[_0x93071f(0x30c)](_0x93071f(0x3db));return;}console['log'](_0x93071f(0x9fd)+_0x2e018e+_0x93071f(0x44d)+_0x46624f+')'),localTeamPlayers=_0x5e2f1c,localPlayerTurnIndex=_0x241051;if(_0x2e018e===_0x93071f(0x630))currentLiveGameId=_0x46624f,currentStudentName=_0x5e2f1c[0x0],showView(_0x93071f(0x9ae)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x46624f;const _0x496ce3=_0x4aae09['data'](),_0x49a17a=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x496ce3[_0x93071f(0xbe5)]),_0x3dfe9f=await getDoc(_0x49a17a);_0x3dfe9f[_0x93071f(0x7be)]()&&(currentQuizData=getShuffledQuiz({'id':_0x3dfe9f['id'],..._0x3dfe9f[_0x93071f(0xaf1)]()}),showView('student'),studentInitialView[_0x93071f(0x5f6)][_0x93071f(0x314)](_0x93071f(0x3c0)),renderTeamQuizQuestion());}}catch(_0x4b048d){console[_0x93071f(0x930)](_0x93071f(0x795),_0x4b048d),sessionStorage[_0x93071f(0x30c)](_0x93071f(0x3db));}}async function handleKickPlayerSync(_0x3c71f9){const _0x3059fa=_0x7550fe;if(!currentLiveGameId||!_0x3c71f9)return;const _0x175909=doc(db,_0x3059fa(0x3dc)+appId+_0x3059fa(0xa36),currentLiveGameId),_0x51ea85={};_0x51ea85[_0x3059fa(0x406)+_0x3c71f9+_0x3059fa(0x46d)]=_0x3059fa(0xa8a);try{await updateDoc(_0x175909,_0x51ea85);}catch(_0x131161){console[_0x3059fa(0x930)](_0x3059fa(0x8e2)+_0x3c71f9+'\x20from\x20sync\x20game:',_0x131161),showMessage(_0x3059fa(0x321));}}async function renderStudentProgressDashboard(_0x3f13e7,_0x4ed72b){const _0x13c73c=_0x7550fe,_0x1188e4=document[_0x13c73c(0xb9f)](_0x13c73c(0xbeb));_0x1188e4[_0x13c73c(0x215)]=_0x13c73c(0x81f);try{const _0x2e0763=collection(db,'artifacts/'+appId+_0x13c73c(0x7a5)),_0x2bae5a=query(_0x2e0763,where(_0x13c73c(0x176),'==',_0x3f13e7)),_0x49ffb7=await getDocs(_0x2bae5a),_0x3a9b08=_0x49ffb7[_0x13c73c(0x68e)][_0x13c73c(0x25d)](_0x5ef6b6=>({'id':_0x5ef6b6['id'],..._0x5ef6b6['data']()})),_0x516149=_0x3a9b08[_0x13c73c(0x25d)](_0x18456b=>getDoc(doc(db,'artifacts/'+appId+_0x13c73c(0x315)+_0x18456b['id']+_0x13c73c(0x6dd),_0x4ed72b))),_0x254613=await Promise[_0x13c73c(0xa9e)](_0x516149),_0x1fa7d8=_0x254613[_0x13c73c(0x67f)](_0x2d436e=>_0x2d436e[_0x13c73c(0x7be)]())['map'](_0x2ac478=>({'quizId':_0x2ac478[_0x13c73c(0x885)][_0x13c73c(0x833)][_0x13c73c(0x833)]['id'],..._0x2ac478[_0x13c73c(0xaf1)]()}));if(_0x1fa7d8[_0x13c73c(0x384)]===0x0){_0x1188e4[_0x13c73c(0x215)]=_0x13c73c(0x385);return;}let _0x1c309d=_0x13c73c(0x225);_0x1fa7d8[_0x13c73c(0x94f)](_0x3dbb15=>{const _0x41e27f=_0x13c73c,_0x1ee263=_0x3a9b08['find'](_0x3a4756=>_0x3a4756['id']===_0x3dbb15[_0x41e27f(0xbe5)]),_0x3c2176=_0x1ee263['settings']?.[_0x41e27f(0x799)]||_0x41e27f(0x7fd),_0xc38dd9=_0x1ee263[_0x41e27f(0x996)]?.[_0x41e27f(0x5e0)]??0x0,_0x1f7ed9=_0x3dbb15[_0x41e27f(0x976)]>=_0xc38dd9;let _0x49da99='',_0xb1bb04='bg-gray-50';switch(_0x3c2176){case _0x41e27f(0x7fd):case _0x41e27f(0x502):_0xb1bb04=_0x1f7ed9?_0x41e27f(0x515):_0x41e27f(0x381),_0x49da99=_0x41e27f(0x501)+(_0x1f7ed9?'text-green-700':_0x41e27f(0x9da))+'\x22>'+_0x3dbb15[_0x41e27f(0x976)]+_0x41e27f(0x649)+_0x3dbb15[_0x41e27f(0xb45)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x1f7ed9?_0x41e27f(0x755):_0x41e27f(0xb21))+'\x22>'+(_0x1f7ed9?_0x41e27f(0x856):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x41e27f(0x27d):_0xb1bb04=_0x1f7ed9?'bg-green-50':_0x41e27f(0x381),_0x49da99='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x1f7ed9?_0x41e27f(0x755):_0x41e27f(0xb21))+'\x22>'+(_0x1f7ed9?'ผ่าน':_0x41e27f(0x5d4))+_0x41e27f(0x2c5);break;case'manual_release':_0xb1bb04=_0x41e27f(0x8ef),_0x49da99=_0x41e27f(0x676);break;}_0x1c309d+=_0x41e27f(0x2f8)+_0xb1bb04+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x1ee263[_0x41e27f(0xb1c)]+_0x41e27f(0xbd7)+_0x3dbb15[_0x41e27f(0x9ba)][_0x41e27f(0x384)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x3dbb15[_0x41e27f(0x8a7)])[_0x41e27f(0x333)](_0x41e27f(0x2b8))+_0x41e27f(0xaea)+_0x49da99+_0x41e27f(0x99c);}),_0x1c309d+=_0x13c73c(0xa2b),_0x1188e4[_0x13c73c(0x215)]=_0x1c309d;}catch(_0x21b0c9){console[_0x13c73c(0x930)](_0x13c73c(0x230),_0x21b0c9),_0x1188e4[_0x13c73c(0x215)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x460cd4=''){const _0x350af3=_0x7550fe,_0x490630=document[_0x350af3(0xb9f)](_0x350af3(0x573)),_0xfab130=_0x460cd4[_0x350af3(0x402)]()['trim'](),_0x235d2a=allQuizzesGlobal['map'](_0x5e7111=>({..._0x5e7111,'projectName':allProjects['find'](_0x437c0a=>_0x437c0a['id']===_0x5e7111[_0x350af3(0x176)])?.['projectName']||_0x350af3(0x629)}))[_0x350af3(0x67f)](_0x4b17cf=>(_0x4b17cf[_0x350af3(0xb1c)]||'')[_0x350af3(0x402)]()[_0x350af3(0x6b7)](_0xfab130)||(_0x4b17cf[_0x350af3(0x7aa)]||'')[_0x350af3(0x402)]()[_0x350af3(0x6b7)](_0xfab130)||_0x4b17cf['id'][_0x350af3(0xba9)]()['includes'](_0xfab130));_0x490630[_0x350af3(0x215)]=_0x235d2a[_0x350af3(0x384)]?_0x235d2a[_0x350af3(0x25d)](_0x4ec4a0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x4ec4a0['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x4ec4a0['topic']||_0x350af3(0x701))+_0x350af3(0x274)+_0x4ec4a0[_0x350af3(0x7aa)]+_0x350af3(0x817)+_0x4ec4a0['id']+_0x350af3(0xb13))['join'](''):_0x350af3(0xa87),_0x490630[_0x350af3(0x67c)]=()=>{const _0x3aabd7=_0x350af3,_0x57ce62=document[_0x3aabd7(0x2e7)]('.quiz-bank-checkbox:checked');document[_0x3aabd7(0xb9f)]('confirm-link-quiz-btn')[_0x3aabd7(0xa75)]=!_0x57ce62;};}function setupStudentProgressListeners(){const _0x211176=_0x7550fe;document[_0x211176(0xb9f)]('view-my-progress-btn')['addEventListener']('click',showStudentProgressView),document[_0x211176(0xb9f)](_0x211176(0x4a2))[_0x211176(0x52b)]('click',()=>{const _0x531bde=_0x211176;document[_0x531bde(0xb9f)](_0x531bde(0x6fb))[_0x531bde(0x5f6)]['add'](_0x531bde(0x3c0)),document[_0x531bde(0xb9f)](_0x531bde(0x5fb))[_0x531bde(0x5f6)][_0x531bde(0x309)]('hidden');});}async function startSkillPractice(_0x5cee38){const _0xa31914=_0x7550fe;studentResultArea[_0xa31914(0x5f6)]['add']('hidden'),studentQuizArea[_0xa31914(0x215)]=_0xa31914(0x495),studentQuizArea[_0xa31914(0x5f6)]['remove']('hidden');try{const _0x499b1a=await getStandardizedTopic(_0x5cee38);console[_0xa31914(0xbf7)](_0xa31914(0xbdc)+_0x5cee38+_0xa31914(0x512)+_0x499b1a+'\x22'),studentQuizArea['querySelector']('p')[_0xa31914(0x33f)]=_0xa31914(0x675)+_0x499b1a+_0xa31914(0x9ef);const _0x341695=collection(db,_0xa31914(0x3dc)+appId+_0xa31914(0x174)),_0x14fa5a=query(_0x341695,where(_0xa31914(0xb1c),'==',_0x499b1a)),_0x44257c=await getDocs(_0x14fa5a);if(_0x44257c[_0xa31914(0x68e)]['length']>=0x3){console[_0xa31914(0xbf7)](_0xa31914(0x3d3)+_0x44257c['docs'][_0xa31914(0x384)]+_0xa31914(0xb83)+_0x499b1a+_0xa31914(0x831));let _0x403652=_0x44257c[_0xa31914(0x68e)][_0xa31914(0x25d)](_0x52a078=>_0x52a078[_0xa31914(0xaf1)]());shuffleArray(_0x403652);const _0x10cb28={'topic':_0x499b1a,'questions':_0x403652[_0xa31914(0x31e)](0x0,0x3)};displaySkillPracticeDrill(_0x10cb28);}else{console[_0xa31914(0xbf7)](_0xa31914(0x29a)+_0x499b1a+_0xa31914(0x271));const _0x541bf1=await generatePracticeQuestions(_0x499b1a);await saveDrillToPracticeBank(_0x541bf1,_0x499b1a),displaySkillPracticeDrill(_0x541bf1);}}catch(_0x28f951){console[_0xa31914(0x930)](_0xa31914(0x2e6),_0x28f951),showMessage(_0xa31914(0xb6d)),studentQuizArea[_0xa31914(0x5f6)][_0xa31914(0x314)](_0xa31914(0x3c0)),studentResultArea[_0xa31914(0x5f6)][_0xa31914(0x309)]('hidden');}}async function saveDrillToPracticeBank(_0x13c5ce,_0x230e18){const _0xfaa415=_0x7550fe,_0x22aa00=collection(db,_0xfaa415(0x3dc)+appId+_0xfaa415(0x174)),_0x46de51=writeBatch(db);_0x13c5ce['questions']['forEach'](_0x3feb7=>{const _0x581738=_0xfaa415,_0x4810d3=doc(_0x22aa00);_0x46de51['set'](_0x4810d3,{'topic':_0x230e18,'questionText':_0x3feb7[_0x581738(0x653)],'options':_0x3feb7['options'],'correctAnswerIndex':_0x3feb7[_0x581738(0x30b)],'explanation':_0x3feb7['explanation'],'createdAt':serverTimestamp()});});try{await _0x46de51[_0xfaa415(0x24d)](),console['log']('บันทึกคำถามใหม่\x20'+_0x13c5ce['questions'][_0xfaa415(0x384)]+_0xfaa415(0x9a4));}catch(_0x3cffcb){console[_0xfaa415(0x930)](_0xfaa415(0x439),_0x3cffcb);}}async function getStandardizedTopic(_0x467e87){const _0x23d362=_0x7550fe,_0x40df9f=_0x23d362(0x302)+_0x467e87+_0x23d362(0x7ef),_0x760ab7={'type':'OBJECT','properties':{'standardTopic':{'type':_0x23d362(0x9c9)}},'required':[_0x23d362(0x7e7)]};try{const _0x5de156=await callAnalysisApi(_0x40df9f,_0x760ab7);return _0x5de156[_0x23d362(0x7e7)];}catch(_0x85a036){return console[_0x23d362(0x930)](_0x23d362(0x442),_0x85a036),_0x467e87;}}async function handleGenerateEasyVersionQuiz(_0x47bf28){const _0x58e693=_0x7550fe,_0x133340=document[_0x58e693(0xb9f)](_0x58e693(0x645)),_0x2cbffe=document['getElementById'](_0x58e693(0x6bf));_0x2cbffe[_0x58e693(0x5f6)][_0x58e693(0x314)]('hidden');const _0x4b3298='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x133340['insertAdjacentHTML'](_0x58e693(0x40e),_0x4b3298);try{const _0x2560e2=allQuizzes[_0x58e693(0x3de)](_0xb01c06=>_0xb01c06['id']===_0x47bf28);if(!_0x2560e2)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x12689c=_0x58e693(0x7b3)+JSON['stringify'](_0x2560e2[_0x58e693(0x5c2)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x536169={'type':_0x58e693(0xa05),'properties':{'questionText':{'type':_0x58e693(0x9c9)},'questionType':{'type':_0x58e693(0x9c9)},'options':{'type':_0x58e693(0x5fd),'items':{'type':_0x58e693(0x9c9)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x58e693(0x9c9)},'imageCode':{'type':_0x58e693(0x9c9)}},'required':[_0x58e693(0x653),_0x58e693(0x92a),_0x58e693(0x9c7)]},_0x25e52a={'type':'OBJECT','properties':{'questions':{'type':_0x58e693(0x5fd),'items':_0x536169}},'required':['questions']},_0x527170=await callAnalysisApi(_0x12689c,_0x25e52a);_0x527170&&_0x527170['questions']&&_0x527170[_0x58e693(0x5c2)][_0x58e693(0x94f)](_0x9c3509=>{const _0x1a10f3=_0x58e693;if(_0x9c3509[_0x1a10f3(0x5ab)](_0x1a10f3(0xa0a))){const _0x45d13c=String(_0x9c3509[_0x1a10f3(0xa0a)])[_0x1a10f3(0x9f3)]();(_0x45d13c===''||_0x45d13c['toLowerCase']()==='null'||!_0x45d13c[_0x1a10f3(0x85c)](_0x1a10f3(0xa3b)))&&delete _0x9c3509[_0x1a10f3(0xa0a)];}});if(!_0x527170||!_0x527170[_0x58e693(0x5c2)]||_0x527170[_0x58e693(0x5c2)][_0x58e693(0x384)]===0x0)throw new Error(_0x58e693(0x1c2));const _0x295769=_0x527170[_0x58e693(0x5c2)][_0x58e693(0x25d)]((_0x566767,_0xc748be)=>({..._0x566767,'id':'q_'+Date[_0x58e693(0x711)]()+'_'+_0xc748be})),_0x15c7c0={'projectId':_0x2560e2[_0x58e693(0x176)],'quizType':_0x2560e2[_0x58e693(0x874)],'settings':_0x2560e2[_0x58e693(0x996)],'createdBy':_0x2560e2[_0x58e693(0xbf1)],'status':_0x58e693(0x97e),'topic':_0x58e693(0x923)+_0x2560e2[_0x58e693(0xb1c)],'questions':_0x295769,'createdAt':new Date()[_0x58e693(0x170)](),'quizMode':'standard','pairedQuizId':null};let _0x22839c;while(!![]){_0x22839c=Math[_0x58e693(0xa02)](0x3e8+Math['random']()*0x2328)[_0x58e693(0xba9)]();const _0x4f38ed=await getDoc(doc(db,_0x58e693(0x3dc)+appId+'/public/data/quizzes',_0x22839c));if(!_0x4f38ed[_0x58e693(0x7be)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x58e693(0x7a5),_0x22839c),_0x15c7c0),showMessage(_0x58e693(0x520));}catch(_0x12a169){console['error'](_0x58e693(0x6cc),_0x12a169),showMessage(_0x58e693(0x773)+_0x12a169[_0x58e693(0xa4c)]);}finally{const _0x281cae=document[_0x58e693(0xb9f)]('temp-loader-results');_0x281cae&&_0x281cae[_0x58e693(0x309)](),_0x2cbffe[_0x58e693(0x5f6)][_0x58e693(0x309)](_0x58e693(0x3c0));}}async function generatePracticeQuestions(_0x4277fb){const _0x2cb730=_0x7550fe,_0xc08ce7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x4277fb+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2cb730(0x7ab),_0x591fcc={'type':'OBJECT','properties':{'questionText':{'type':_0x2cb730(0x9c9)},'options':{'type':'ARRAY','items':{'type':_0x2cb730(0x9c9)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2cb730(0x9c9)}},'required':[_0x2cb730(0x653),'options',_0x2cb730(0x30b),_0x2cb730(0x9c7)]},_0x485cc4={'type':_0x2cb730(0xa05),'properties':{'topic':{'type':_0x2cb730(0x9c9)},'questions':{'type':_0x2cb730(0x5fd),'items':_0x591fcc}},'required':[_0x2cb730(0xb1c),'questions']};return await callAnalysisApi(_0xc08ce7,_0x485cc4);}function displayLessonPlan(_0x42dab2,_0x12edc5){const _0x6151c0=_0x7550fe,_0xcecaf5=_0x6151c0(0x804)+_0x12edc5['topic']+_0x6151c0(0xba5)+_0x42dab2[_0x6151c0(0xa13)][_0x6151c0(0x25d)](_0x9fc60=>_0x6151c0(0x6a8)+_0x9fc60+_0x6151c0(0x30d))['join']('')+_0x6151c0(0x87f)+_0x42dab2[_0x6151c0(0x715)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x42dab2[_0x6151c0(0x295)][_0x6151c0(0x25d)](_0x51a958=>_0x6151c0(0xb6f)+_0x51a958[_0x6151c0(0x8f0)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x51a958[_0x6151c0(0x4ab)]+_0x6151c0(0x979))[_0x6151c0(0x7fa)]('')+_0x6151c0(0x9fa);document[_0x6151c0(0xb9f)](_0x6151c0(0x41b))[_0x6151c0(0x33f)]=_0x6151c0(0x188)+_0x12edc5[_0x6151c0(0xb1c)],document['getElementById'](_0x6151c0(0x7d1))['innerHTML']=_0xcecaf5,document['getElementById'](_0x6151c0(0x565))['classList'][_0x6151c0(0x309)](_0x6151c0(0x3c0));if(window['MathJax'])MathJax[_0x6151c0(0x806)]();}function displaySkillPracticeDrill(_0xdaade1){let _0x41fe2f=0x0;const _0x5a8ed4=_0xdaade1['questions'],_0x128108=()=>{const _0x6c20b7=_0x393b,_0x1b7cb1=_0x5a8ed4[_0x41fe2f],_0x517c65=_0x6c20b7(0xb14)+(_0x41fe2f+0x1)+_0x6c20b7(0x649)+_0x5a8ed4[_0x6c20b7(0x384)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x1b7cb1[_0x6c20b7(0x653)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b7cb1[_0x6c20b7(0xbe2)][_0x6c20b7(0x25d)]((_0x191031,_0x31bdd6)=>_0x6c20b7(0x65e)+_0x31bdd6+_0x6c20b7(0x43f)+_0x31bdd6+_0x6c20b7(0x25b)+_0x31bdd6+'\x22>'+_0x191031+_0x6c20b7(0x52d))[_0x6c20b7(0x7fa)]('')+_0x6c20b7(0x8ab);studentQuizArea[_0x6c20b7(0x215)]=_0x517c65;if(window[_0x6c20b7(0xa27)])MathJax[_0x6c20b7(0x806)]([studentQuizArea]);document['getElementById'](_0x6c20b7(0x761))[_0x6c20b7(0x52b)](_0x6c20b7(0x909),async()=>{const _0x23bb9d=_0x6c20b7,_0x15cd39=await getHintForQuestion(_0x1b7cb1[_0x23bb9d(0x653)]);showMessage(_0x15cd39);}),document[_0x6c20b7(0xb9f)](_0x6c20b7(0x5c7))[_0x6c20b7(0x52b)](_0x6c20b7(0x909),()=>{const _0x42917b=_0x6c20b7,_0x3d0b63=document[_0x42917b(0x2e7)]('input[name=\x22drill_answer\x22]:checked');if(!_0x3d0b63){showMessage(_0x42917b(0x812));return;}const _0x4b8f8c=document[_0x42917b(0xb9f)](_0x42917b(0x3e9)),_0x137fc9=parseInt(_0x3d0b63[_0x42917b(0x6b0)])===_0x1b7cb1[_0x42917b(0x30b)];_0x137fc9?(_0x4b8f8c[_0x42917b(0x416)]=_0x42917b(0xb38),_0x4b8f8c[_0x42917b(0x215)]=_0x42917b(0x3e6)+_0x1b7cb1['explanation']):(_0x4b8f8c['className']=_0x42917b(0x77a),_0x4b8f8c[_0x42917b(0x215)]=_0x42917b(0x8d3)+_0x1b7cb1['explanation']);_0x4b8f8c[_0x42917b(0x5f6)][_0x42917b(0x309)](_0x42917b(0x3c0));if(window[_0x42917b(0xa27)])MathJax[_0x42917b(0x806)]([_0x4b8f8c]);document[_0x42917b(0xb9f)]('check-answer-btn')[_0x42917b(0x5f6)]['add']('hidden'),document[_0x42917b(0xb9f)](_0x42917b(0x761))[_0x42917b(0x5f6)]['add'](_0x42917b(0x3c0)),document[_0x42917b(0xb9f)](_0x42917b(0x938))[_0x42917b(0x5f6)][_0x42917b(0x309)](_0x42917b(0x3c0));}),document['getElementById']('next-drill-btn')[_0x6c20b7(0x52b)]('click',()=>{const _0x49bd51=_0x6c20b7;_0x41fe2f++,_0x41fe2f<_0x5a8ed4[_0x49bd51(0x384)]?_0x128108():(studentQuizArea[_0x49bd51(0x215)]=_0x49bd51(0xbc2),document[_0x49bd51(0xb9f)](_0x49bd51(0xbdb))[_0x49bd51(0x52b)](_0x49bd51(0x909),()=>{const _0xddea0f=_0x49bd51;studentQuizArea[_0xddea0f(0x5f6)][_0xddea0f(0x314)](_0xddea0f(0x3c0)),studentResultArea[_0xddea0f(0x5f6)][_0xddea0f(0x309)](_0xddea0f(0x3c0));}));});};_0x128108();}async function getHintForQuestion(_0x56edfc){const _0x5c72a5=_0x7550fe,_0x3f3e68=_0x5c72a5(0x962)+_0x56edfc+_0x5c72a5(0x672),_0x79a5c={'type':_0x5c72a5(0xa05),'properties':{'hint':{'type':_0x5c72a5(0x9c9)}},'required':['hint']};try{const _0x21847d=await callAnalysisApi(_0x3f3e68,_0x79a5c);return _0x21847d[_0x5c72a5(0x190)];}catch(_0x12ed0e){return console[_0x5c72a5(0x930)]('Failed\x20to\x20get\x20hint:',_0x12ed0e),_0x5c72a5(0x751);}}async function extractTextFromPdf(_0x2d39c8){const _0x36a443=_0x7550fe;pdfjsLib['GlobalWorkerOptions'][_0x36a443(0x867)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x49d465=await _0x2d39c8['arrayBuffer'](),_0x1ac9d6=await pdfjsLib[_0x36a443(0x680)](_0x49d465)[_0x36a443(0x504)],_0x4f2b65=_0x1ac9d6['numPages'];let _0x1016a3='';for(let _0x171667=0x1;_0x171667<=_0x4f2b65;_0x171667++){const _0x4fab79=await _0x1ac9d6[_0x36a443(0x2e5)](_0x171667),_0x15f288=await _0x4fab79[_0x36a443(0x4c5)](),_0x3114e9=_0x15f288['items'][_0x36a443(0x25d)](_0x4a8158=>_0x4a8158[_0x36a443(0x134)])[_0x36a443(0x7fa)]('\x20');_0x1016a3+=_0x3114e9+'\x0a\x0a';}return _0x1016a3;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x186191){const _0x5c4db6=_0x7550fe,_0xbeeaf1=document[_0x5c4db6(0xb9f)]('blueprint-options-container'),_0x552070=document[_0x5c4db6(0xb9f)](_0x5c4db6(0xa95)),_0x50fde5=document[_0x5c4db6(0xb9f)](_0x5c4db6(0x660));_0xbeeaf1[_0x5c4db6(0x5f6)][_0x5c4db6(0x309)](_0x5c4db6(0x3c0)),_0x552070['innerHTML']='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x50fde5['classList'][_0x5c4db6(0x314)](_0x5c4db6(0x3c0));try{const _0xde41b8=_0x5c4db6(0x3a2)+_0x186191+_0x5c4db6(0x3be),_0x4847da={'type':_0x5c4db6(0xa05),'properties':{'gradeLevel':{'type':_0x5c4db6(0x9c9)},'curriculum':{'type':'ARRAY','items':{'type':_0x5c4db6(0xa05),'properties':{'sara':{'type':_0x5c4db6(0x9c9)},'mainTopics':{'type':_0x5c4db6(0x5fd),'items':{'type':_0x5c4db6(0xa05),'properties':{'topicName':{'type':_0x5c4db6(0x9c9)},'subTopics':{'type':_0x5c4db6(0x5fd),'items':{'type':_0x5c4db6(0x9c9)}}},'required':['topicName',_0x5c4db6(0xb43)]}}},'required':[_0x5c4db6(0x5ee),'mainTopics']}}},'required':[_0x5c4db6(0xae4),_0x5c4db6(0x36f)]},_0x1b23c0=await callAnalysisApi(_0xde41b8,_0x4847da);if(_0x1b23c0&&_0x1b23c0['curriculum'])extractedBlueprintData=_0x1b23c0,renderBlueprintTopics(_0x1b23c0),_0x50fde5['classList'][_0x5c4db6(0x309)]('hidden');else throw new Error(_0x5c4db6(0x32b));}catch(_0x4342f3){console['error']('Error\x20analyzing\x20blueprint\x20topics:',_0x4342f3),_0x552070[_0x5c4db6(0x215)]=_0x5c4db6(0x8a8);}}function renderBlueprintTopics(_0x525d0b){const _0x480e84=_0x7550fe,_0x151e85=document[_0x480e84(0xb9f)](_0x480e84(0xa95)),_0x5dd593=_0x525d0b[_0x480e84(0xae4)],_0x449817=_0x480e84(0x53c)+_0x5dd593+_0x480e84(0x386);let _0x5bfba2='';_0x525d0b[_0x480e84(0x36f)][_0x480e84(0x94f)](_0x319e11=>{const _0x34abd8=_0x480e84;_0x5bfba2+=_0x34abd8(0x543)+_0x319e11['sara']+_0x34abd8(0xb10),_0x319e11[_0x34abd8(0x61d)][_0x34abd8(0x94f)](_0x27d1ee=>{const _0x573775=_0x34abd8;_0x5bfba2+=_0x573775(0x136)+_0x27d1ee[_0x573775(0xa70)]+_0x573775(0x582),_0x27d1ee[_0x573775(0xb43)][_0x573775(0x94f)](_0x1e3cf9=>{const _0xcbd9=_0x573775;_0x5bfba2+=_0xcbd9(0x2ad)+_0x1e3cf9['replace'](/'/g,'\x5c\x27')+_0xcbd9(0x622)+_0x5dd593['replace'](/'/g,'\x5c\x27')+_0xcbd9(0x468)+_0x1e3cf9+_0xcbd9(0xa21)+_0x1e3cf9['replace'](/'/g,'\x5c\x27')+_0xcbd9(0x863);}),_0x5bfba2+=_0x573775(0x956);}),_0x5bfba2+=_0x34abd8(0xa2b);}),_0x151e85[_0x480e84(0x215)]=_0x449817+_0x5bfba2;}async function handleGenerateTeachingContent(_0x347705){const _0x98ad4=_0x7550fe,_0x5f299a=document[_0x98ad4(0xb9f)](_0x98ad4(0x565)),_0x30ad36=document[_0x98ad4(0xb9f)](_0x98ad4(0x7d1));document[_0x98ad4(0xb9f)](_0x98ad4(0x41b))['textContent']=_0x98ad4(0x753)+_0x347705,_0x30ad36[_0x98ad4(0x215)]=_0x98ad4(0x9ea),_0x5f299a[_0x98ad4(0x5f6)][_0x98ad4(0x309)](_0x98ad4(0x3c0));try{const _0x3b0b1e=_0x98ad4(0x2af)+_0x347705+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x539092={'type':_0x98ad4(0xa05),'properties':{'keyConcepts':{'type':_0x98ad4(0x5fd),'items':{'type':_0x98ad4(0x9c9)}},'commonMistakes':{'type':_0x98ad4(0x5fd),'items':{'type':_0x98ad4(0x9c9)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x98ad4(0xa05),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x98ad4(0x9c9)}},'required':[_0x98ad4(0x8f0),_0x98ad4(0x4ab)]}},'teacherTips':{'type':_0x98ad4(0x5fd),'items':{'type':'STRING'}}},'required':[_0x98ad4(0x68b),_0x98ad4(0x6f4),_0x98ad4(0x411),_0x98ad4(0x2b4)]},_0x4a9724=await callAnalysisApi(_0x3b0b1e,_0x539092);displayTeachingContent(_0x4a9724,_0x347705);}catch(_0x55324c){console[_0x98ad4(0x930)](_0x98ad4(0x5da),_0x55324c),_0x30ad36['innerHTML']=_0x98ad4(0x5c4)+_0x55324c['message']+_0x98ad4(0x658);}}function displayTeachingContent(_0x2d5972,_0x4f41b1){const _0x47d812=_0x7550fe,_0x50c2f7=document[_0x47d812(0xb9f)]('lesson-plan-content');document['getElementById']('lesson-plan-title')[_0x47d812(0x33f)]=_0x47d812(0x2d0)+_0x4f41b1;const _0x3a40a5=_0x47d812(0x4bd)+_0x2d5972[_0x47d812(0x68b)][_0x47d812(0x25d)](_0xe2f342=>_0x47d812(0x6a8)+_0xe2f342+_0x47d812(0x30d))[_0x47d812(0x7fa)]('')+_0x47d812(0x36d)+_0x2d5972[_0x47d812(0x6f4)][_0x47d812(0x25d)](_0x457451=>'<li>'+_0x457451+_0x47d812(0x30d))[_0x47d812(0x7fa)]('')+_0x47d812(0xa76)+_0x2d5972[_0x47d812(0x411)][_0x47d812(0x25d)](_0x2f27bb=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x2f27bb[_0x47d812(0x8f0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x2f27bb[_0x47d812(0x4ab)]+_0x47d812(0x9cc))[_0x47d812(0x7fa)]('')+_0x47d812(0x5d7)+_0x2d5972[_0x47d812(0x2b4)]['map'](_0x14364e=>'<li>'+_0x14364e+_0x47d812(0x30d))[_0x47d812(0x7fa)]('')+_0x47d812(0x418);_0x50c2f7['innerHTML']=_0x3a40a5;if(window[_0x47d812(0xa27)])MathJax[_0x47d812(0x806)]([_0x50c2f7]);}async function generateQuizForSingleTopic(_0x223820){const _0x3401a7=_0x7550fe;console['log']('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x223820+'\x22');const _0x29b498=document[_0x3401a7(0xb9f)](_0x3401a7(0x746)),_0x4a035d=_0x29b498['files'][_0x3401a7(0x384)]>0x0?_0x29b498[_0x3401a7(0xa99)][0x0]:null;let _0x485fbb=null;if(_0x4a035d)try{const _0x31424f=new FileReader();_0x31424f[_0x3401a7(0x369)](_0x4a035d);const _0x5e908c=await new Promise((_0x2c9578,_0x42423f)=>{const _0xe9adad=_0x3401a7;_0x31424f[_0xe9adad(0x33e)]=()=>_0x2c9578(_0x31424f[_0xe9adad(0x7e3)][_0xe9adad(0x735)](',')[0x1]),_0x31424f[_0xe9adad(0xb5b)]=_0x4c562a=>_0x42423f(_0x4c562a);});_0x485fbb=[{'inlineData':{'mimeType':_0x4a035d[_0x3401a7(0x741)],'data':_0x5e908c}}];}catch(_0x209c2b){console['error'](_0x3401a7(0x88b),_0x209c2b),showMessage(_0x3401a7(0xaeb));return;}generateQuiz(_0x223820,null,null,_0x485fbb,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x2f5753=null){const _0x1d4eda=_0x7550fe,_0xe7afc2=document['getElementById'](_0x1d4eda(0x8cd)),_0x10617b=document[_0x1d4eda(0xb9f)](_0x1d4eda(0x58c));let _0x56a15e;if(_0x2f5753)_0x56a15e=_0x2f5753;else{const _0x377551=document[_0x1d4eda(0xb9f)](_0x1d4eda(0x78b)),_0x54e8ea=_0x377551[_0x1d4eda(0xa99)][0x0];if(!_0x54e8ea){showMessage(_0x1d4eda(0x35e));return;}_0x10617b[_0x1d4eda(0x33f)]=_0x1d4eda(0x56f);const _0x48005f=await new Promise((_0x5e1825,_0x2e535e)=>{const _0x6f4ce0=_0x1d4eda,_0x52bb4e=new FileReader();_0x52bb4e[_0x6f4ce0(0x369)](_0x54e8ea),_0x52bb4e[_0x6f4ce0(0x33e)]=()=>_0x5e1825(_0x52bb4e[_0x6f4ce0(0x7e3)][_0x6f4ce0(0x735)](',')[0x1]),_0x52bb4e[_0x6f4ce0(0xb5b)]=_0x2e535e;});_0x56a15e=[{'text':_0x1d4eda(0x4b7)},{'inlineData':{'mimeType':_0x54e8ea['type'],'data':_0x48005f}}];}const _0x175d3b=_0x1d4eda(0x41e),_0x8f74b7=_0x1d4eda(0x47d),_0x4b4956=_0x1d4eda(0x2bf),_0x9f0b20={'type':'OBJECT','properties':{'questionText':{'type':_0x1d4eda(0x9c9)},'questionType':{'type':_0x1d4eda(0x9c9),'enum':[_0x1d4eda(0x81c),_0x1d4eda(0xaf9),_0x1d4eda(0x728),'matching_item']},'options':{'type':_0x1d4eda(0x5fd),'items':{'type':_0x1d4eda(0x9c9)}},'correctAnswerIndex':{'type':_0x1d4eda(0x234)},'idealAnswer':{'type':_0x1d4eda(0x9c9)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x1d4eda(0x9c9)},'imageCode':{'type':'STRING'}},'required':[_0x1d4eda(0x92a),'explanation']},_0xc1dce8={'type':_0x1d4eda(0xa05),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1d4eda(0x5fd),'items':_0x9f0b20}},'required':[_0x1d4eda(0xb1c),'questions']};_0x56a15e[0x0][_0x1d4eda(0x965)]=_0x4b4956,await handleApiCall(_0x56a15e,_0x1d4eda(0xa01),_0xc1dce8);}function proceedToNextQuestion(_0x505f62){const _0x57b4b8=_0x7550fe;studentAnswersPerQuestion[_0x57b4b8(0x5ca)](_0x505f62),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x57b4b8(0x5c2)][_0x57b4b8(0x384)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x2321a0,_0x349d05){const _0x4883bc=_0x7550fe,_0x3d27d2=Object[_0x4883bc(0x713)](_0x2321a0[_0x4883bc(0x340)]||{}),_0x17fa08=_0x3d27d2['length'],_0x1c4690=[..._0x3d27d2][_0x4883bc(0xa30)]((_0xd2e4bc,_0x21c0b3)=>_0x21c0b3[_0x4883bc(0x5e9)]-_0xd2e4bc[_0x4883bc(0x5e9)]),_0x127662=_0x2321a0[_0x4883bc(0x1bc)];let _0x418b83='';const _0x1e29ed=_0x2321a0[_0x4883bc(0xb6b)][_0x4883bc(0x5c2)],_0x595fdd=_0x1e29ed[_0x127662],_0x586505=_0x3530e1=>String[_0x4883bc(0x1f7)](0x41+_0x3530e1);let _0x52600f='',_0x4b3f0b='';if(_0x595fdd){const _0x201174=_0x595fdd[_0x4883bc(0x92a)]||_0x2321a0['shuffledQuiz']['quizType'];if(_0x201174==='multiple_choice'&&_0x595fdd['options']&&_0x595fdd[_0x4883bc(0x30b)]!==undefined){const _0x5e535b=_0x595fdd[_0x4883bc(0x30b)];_0x52600f=_0x595fdd[_0x4883bc(0xbe2)][_0x5e535b],_0x4b3f0b=_0x586505(_0x5e535b)+'.';}else{if(_0x201174===_0x4883bc(0x728)){const _0x25d961=_0x595fdd['correctAnswer']===!![]||String(_0x595fdd[_0x4883bc(0x9f8)])[_0x4883bc(0x402)]()===_0x4883bc(0xb66);_0x25d961?(_0x52600f=_0x4883bc(0x6d6),_0x4b3f0b='ก.'):(_0x52600f=_0x4883bc(0x75a),_0x4b3f0b='ข.');}else{if(_0x201174==='matching_item')_0x52600f=_0x595fdd[_0x4883bc(0xa8d)]||'-',_0x4b3f0b='';else _0x201174===_0x4883bc(0xaf9)&&(_0x52600f=_0x595fdd['idealAnswer']||'-',_0x4b3f0b='');}}}_0x52600f&&(_0x418b83=_0x4883bc(0x126)+(_0x127662+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x4b3f0b+'\x20'+_0x52600f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');const _0x3136b1=_0x1c4690[_0x4883bc(0x25d)](_0x999f14=>{const _0x384fe5=_0x4883bc;let _0x13930e=![];if(_0x999f14['answers']&&_0x127662!==-0x1){const _0x22776a=_0x999f14['answers'][_0x384fe5(0x3de)](_0x3a09ef=>_0x3a09ef[_0x384fe5(0x591)]===_0x127662);_0x22776a&&_0x22776a['isCorrect']&&(_0x13930e=!![]);}const _0x1daacd=_0x13930e?_0x384fe5(0x903):_0x384fe5(0x1ce);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x1daacd+'\x22><span>'+_0x999f14[_0x384fe5(0x47f)]+_0x384fe5(0x4e7)+_0x999f14[_0x384fe5(0x5e9)]+_0x384fe5(0xb2f);})[_0x4883bc(0x7fa)](''),_0x3c717a=_0x1e29ed['map']((_0x51f596,_0x5ad161)=>{const _0x232614=_0x4883bc,_0x4908e4=_0x3d27d2[_0x232614(0x67f)](_0x1e8b5a=>_0x1e8b5a[_0x232614(0x3b5)]&&_0x1e8b5a[_0x232614(0x3b5)][_0x232614(0x3de)](_0x4aa212=>_0x4aa212[_0x232614(0x591)]===_0x5ad161&&_0x4aa212[_0x232614(0x8c1)]))[_0x232614(0x384)],_0x153e73=_0x5ad161===_0x127662,_0x2cc403=_0x153e73?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x232614(0x948);return _0x232614(0x473)+_0x2cc403+_0x232614(0x4c3)+(_0x5ad161+0x1)+_0x232614(0xb79)+_0x4908e4+'\x20/\x20'+_0x17fa08+_0x232614(0x9c4);})[_0x4883bc(0x7fa)]('');let _0x3418fa='',_0x5d0c59='';if(_0x349d05){const _0x58140c=_0x2321a0[_0x4883bc(0x1bc)]>=_0x1e29ed[_0x4883bc(0x384)]-0x1;_0x3418fa=_0x4883bc(0x604)+(_0x58140c?_0x4883bc(0xbf4):_0x4883bc(0xb20))+_0x4883bc(0x2a2),_0x5d0c59='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0xa1fe50=_0x4883bc(0x3a6)+_0x2321a0['shuffledQuiz'][_0x4883bc(0xb1c)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d0c59+_0x4883bc(0x7c1)+_0x418b83+_0x4883bc(0x331)+(_0x3136b1||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x4883bc(0xa78)+_0x3c717a+_0x4883bc(0x9ac)+(_0x349d05?_0x4883bc(0x7ac)+_0x3418fa+'</div>':'')+_0x4883bc(0x7bd);liveGameView['innerHTML']=_0xa1fe50;if(window[_0x4883bc(0xa27)]){const _0x5373b5=document[_0x4883bc(0xb9f)](_0x4883bc(0x240));_0x5373b5&&MathJax[_0x4883bc(0x806)]([_0x5373b5]);}if(_0x349d05){document[_0x4883bc(0xb9f)](_0x4883bc(0x344))['onclick']=async()=>{const _0x1af56e=_0x4883bc,_0xed6511=doc(db,_0x1af56e(0x3dc)+appId+'/public/data/syncGames',currentLiveGameId),_0x249d1e=_0x2321a0[_0x1af56e(0x1bc)]+0x1;if(_0x249d1e<_0x1e29ed[_0x1af56e(0x384)]){const _0xc7de4f={};Object[_0x1af56e(0xaa6)](_0x2321a0['players'])[_0x1af56e(0x94f)](_0x28e02e=>{const _0x1c988a=_0x1af56e;_0xc7de4f[_0x1c988a(0x406)+_0x28e02e+_0x1c988a(0xa06)]=![],_0xc7de4f[_0x1c988a(0x406)+_0x28e02e+'.lastAnswerIndex']=null;}),await updateDoc(_0xed6511,{..._0xc7de4f,'status':'question','currentQuestionIndex':_0x249d1e,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xed6511,{'status':_0x1af56e(0x245)});};const _0x4b0dd2=document[_0x4883bc(0xb9f)](_0x4883bc(0x1c0));_0x4b0dd2&&(_0x4b0dd2[_0x4883bc(0x6ff)]=()=>{const _0x1bf034=_0x4883bc;showConfirmation(_0x1bf034(0x57b),async()=>{const _0x34a21f=_0x1bf034,_0x9a303c=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x9a303c,{'status':_0x34a21f(0x245)});});});}}async function handleGenerateParallelFromBank(_0x134190){const _0xbc0203=_0x7550fe,_0x2c20cf=document[_0xbc0203(0xb9f)]('results-tab-content'),_0x5e0213=document[_0xbc0203(0xb9f)](_0xbc0203(0x6bf));_0x5e0213[_0xbc0203(0x5f6)][_0xbc0203(0x314)](_0xbc0203(0x3c0));const _0x3d6f67=_0xbc0203(0xae3)+_0x134190[_0xbc0203(0xb1c)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2c20cf[_0xbc0203(0x6db)]('beforeend',_0x3d6f67);const _0x4ba86f=document[_0xbc0203(0xb9f)](_0xbc0203(0x5cc));try{const _0x994b07=_0x134190[_0xbc0203(0x5c2)][_0xbc0203(0x25d)]((_0x47885a,_0x682a5d)=>{const _0xc66ff2=_0xbc0203;let _0x37000f=_0x682a5d+0x1+'.\x20'+(_0x47885a['questionText']||_0x47885a[_0xc66ff2(0x4b6)])+'\x0a';if(_0x47885a[_0xc66ff2(0xbe2)])_0x37000f+=_0x47885a['options'][_0xc66ff2(0x25d)]((_0x5b4898,_0x254498)=>_0xc66ff2(0x888)+(_0x254498===_0x47885a[_0xc66ff2(0x30b)]?_0xc66ff2(0xad9):'')+'\x20'+_0x5b4898)[_0xc66ff2(0x7fa)]('\x0a');else _0x47885a[_0xc66ff2(0xa33)]&&(_0x37000f+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x47885a[_0xc66ff2(0xa33)]);return _0x37000f;})[_0xbc0203(0x7fa)]('\x0a\x0a');_0x4ba86f[_0xbc0203(0x33f)]=_0xbc0203(0x98a);const _0x186f26=_0xbc0203(0x3ee)+_0x134190[_0xbc0203(0xb1c)]+_0xbc0203(0xa47)+_0x994b07+_0xbc0203(0x98b)+simpleMathPrompt+_0xbc0203(0x7f3),_0x1edbf2={'type':_0xbc0203(0xa05),'properties':{'questionText':{'type':_0xbc0203(0x9c9)},'questionType':{'type':_0xbc0203(0x9c9),'enum':[_0xbc0203(0x81c),_0xbc0203(0xaf9),_0xbc0203(0x728),_0xbc0203(0x370)]},'options':{'type':_0xbc0203(0x5fd),'items':{'type':_0xbc0203(0x9c9)}},'correctAnswerIndex':{'type':_0xbc0203(0x234)},'idealAnswer':{'type':_0xbc0203(0x9c9)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0xbc0203(0x9c9)},'allResponses':{'type':_0xbc0203(0x5fd),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0xbc0203(0x9c9)}},'required':['questionType','explanation']},_0x1feb7f={'type':'OBJECT','properties':{'topic':{'type':_0xbc0203(0x9c9)},'questions':{'type':'ARRAY','items':_0x1edbf2}},'required':[_0xbc0203(0xb1c),_0xbc0203(0x5c2)]},_0x26a5f0=await callAnalysisApi(_0x186f26,_0x1feb7f),_0x3cffc8=_0x26a5f0[_0xbc0203(0x5c2)][_0xbc0203(0x25d)]((_0x1c83b6,_0x2d1cd4)=>({..._0x1c83b6,'id':'q_'+Date[_0xbc0203(0x711)]()+'_'+_0x2d1cd4})),_0x52bbb5=_0xbc0203(0x20f)+_0x134190[_0xbc0203(0xb1c)],_0x5b072d={'topic':_0x52bbb5,'questions':_0x3cffc8,'quizType':_0x134190[_0xbc0203(0x874)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xbc0203(0x170)](),'status':'active','settings':_0x134190['settings'],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x83fade;while(!![]){_0x83fade=Math['floor'](0x3e8+Math[_0xbc0203(0x5b4)]()*0x2328)['toString']();const _0xee2315=await getDoc(doc(db,_0xbc0203(0x3dc)+appId+_0xbc0203(0x7a5),_0x83fade));if(!_0xee2315[_0xbc0203(0x7be)]())break;}await setDoc(doc(db,_0xbc0203(0x3dc)+appId+'/public/data/quizzes',_0x83fade),_0x5b072d),showMessage(_0xbc0203(0x40d));}catch(_0x1975c1){console[_0xbc0203(0x930)](_0xbc0203(0x159),_0x1975c1),showMessage(_0xbc0203(0x773)+_0x1975c1[_0xbc0203(0xa4c)]);}finally{const _0x43a187=document[_0xbc0203(0xb9f)](_0xbc0203(0x39d));_0x43a187&&_0x43a187[_0xbc0203(0x309)](),_0x5e0213['classList']['remove']('hidden');}}async function handleGenerateParallelPostTest(_0x3e5584){const _0xe520e8=_0x7550fe,_0x1a0ca2=document[_0xe520e8(0xb9f)](_0xe520e8(0x645)),_0x3eac5c=document[_0xe520e8(0xb9f)](_0xe520e8(0x6bf));_0x3eac5c[_0xe520e8(0x5f6)][_0xe520e8(0x314)](_0xe520e8(0x3c0));const _0x228784=_0xe520e8(0x5b9);_0x1a0ca2[_0xe520e8(0x6db)](_0xe520e8(0x40e),_0x228784);try{const _0x11e007=_0x3e5584['questions'][_0xe520e8(0x25d)]((_0x240292,_0x257093)=>{const _0x4a4872=_0xe520e8;let _0x5e2404=_0x257093+0x1+'.\x20'+(_0x240292[_0x4a4872(0x653)]||_0x240292['stem']);if(_0x240292[_0x4a4872(0xbe2)])_0x5e2404+=_0x4a4872(0x7f0)+_0x240292['options'][_0x4a4872(0x7fa)](',\x20');return _0x5e2404;})['join']('\x0a\x0a'),_0x2a220f=_0xe520e8(0x397)+_0x3e5584['topic']+_0xe520e8(0x25a)+_0x11e007+_0xe520e8(0x3b2)+simpleMathPrompt+_0xe520e8(0x7f3),_0x1150eb={'type':_0xe520e8(0xa05),'properties':{'topic':{'type':_0xe520e8(0x9c9)},'questions':{'type':_0xe520e8(0x5fd),'items':{'type':_0xe520e8(0xa05),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xe520e8(0x9c9)},'options':{'type':'ARRAY','items':{'type':_0xe520e8(0x9c9)}},'correctAnswerIndex':{'type':_0xe520e8(0x234)},'idealAnswer':{'type':_0xe520e8(0x9c9)},'explanation':{'type':_0xe520e8(0x9c9)}},'required':[_0xe520e8(0x653),_0xe520e8(0x9c7)]}}},'required':['topic',_0xe520e8(0x5c2)]},_0x2ad6f1=await callAnalysisApi(_0x2a220f,_0x1150eb),_0xccfba8=_0x3e5584['topic'][_0xe520e8(0x38e)](_0xe520e8(0xabe),'')[_0xe520e8(0x9f3)](),_0x41c945=_0xe520e8(0x2a8)+_0xccfba8,_0x2c185c={..._0x2ad6f1,'topic':_0x41c945,'quizType':_0x3e5584[_0xe520e8(0x874)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xe520e8(0x170)](),'status':_0xe520e8(0x97e),'settings':_0x3e5584[_0xe520e8(0x996)],'quizMode':_0xe520e8(0xa3a),'pairedQuizId':_0x3e5584['id']};let _0x5e3487;while(!![]){_0x5e3487=Math[_0xe520e8(0xa02)](0x3e8+Math['random']()*0x2328)[_0xe520e8(0xba9)]();const _0x2c4f14=await getDoc(doc(db,_0xe520e8(0x3dc)+appId+_0xe520e8(0x7a5),_0x5e3487));if(!_0x2c4f14['exists']())break;}await setDoc(doc(db,_0xe520e8(0x3dc)+appId+_0xe520e8(0x7a5),_0x5e3487),_0x2c185c);const _0x383112=doc(db,'artifacts/'+appId+_0xe520e8(0x7a5),_0x3e5584['id']);await updateDoc(_0x383112,{'pairedQuizId':_0x5e3487}),showMessage(_0xe520e8(0xbbc));}catch(_0x4dbb15){console[_0xe520e8(0x930)](_0xe520e8(0xa1d),_0x4dbb15),showMessage(_0xe520e8(0x773)+_0x4dbb15[_0xe520e8(0xa4c)]);}finally{const _0x7d7122=document[_0xe520e8(0xb9f)](_0xe520e8(0x39d));if(_0x7d7122)_0x7d7122[_0xe520e8(0x309)]();_0x3eac5c['classList']['remove'](_0xe520e8(0x3c0));}}async function handleGenerateParallelTest(){const _0x50e643=_0x7550fe,_0x36762e=document[_0x50e643(0xb9f)](_0x50e643(0x876)),_0x18a8ce=_0x36762e[_0x50e643(0xa99)][0x0];if(!_0x18a8ce){showMessage(_0x50e643(0xae1));return;}const _0x2d0dc5=document[_0x50e643(0xb9f)](_0x50e643(0x8cd)),_0x316eab=document[_0x50e643(0xb9f)](_0x50e643(0x58c)),_0x483e63=document['getElementById'](_0x50e643(0x224)),_0x22f90d=document[_0x50e643(0xb9f)](_0x50e643(0xbde));_0x22f90d['disabled']=!![],document[_0x50e643(0xb9f)](_0x50e643(0x177))['classList'][_0x50e643(0x309)](_0x50e643(0x3c0)),_0x483e63[_0x50e643(0x215)]='',_0x2d0dc5['classList'][_0x50e643(0x309)]('hidden'),_0x316eab[_0x50e643(0x33f)]=_0x50e643(0x1ef);const _0x3cfd4a=new FileReader();_0x3cfd4a[_0x50e643(0x369)](_0x18a8ce),_0x3cfd4a[_0x50e643(0x33e)]=async()=>{const _0x327b8c=_0x50e643;try{const _0x3262a1=_0x3cfd4a['result'][_0x327b8c(0x735)](',')[0x1],_0x4c25ba=_0x18a8ce[_0x327b8c(0x741)];_0x316eab[_0x327b8c(0x33f)]=_0x327b8c(0x1f9);const _0x30cb3d=document[_0x327b8c(0xb9f)](_0x327b8c(0x552))[_0x327b8c(0x20e)],_0x2679d9=_0x30cb3d?_0x327b8c(0xb27):'',_0x160f0b=_0x327b8c(0x432)+_0x2679d9+_0x327b8c(0xb1f)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2721ae={'type':'OBJECT','properties':{'questionText':{'type':_0x327b8c(0x9c9)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x327b8c(0xaf9)]},'options':{'type':_0x327b8c(0x5fd),'items':{'type':_0x327b8c(0x9c9)}},'correctAnswerIndex':{'type':_0x327b8c(0x234)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x327b8c(0x9c9)},'imageCode':{'type':_0x327b8c(0x9c9)}},'required':[_0x327b8c(0x653),'questionType',_0x327b8c(0x9c7)]},_0x367942={'type':_0x327b8c(0xa05),'properties':{'topic':{'type':_0x327b8c(0x9c9)},'questions':{'type':_0x327b8c(0x5fd),'items':_0x2721ae}},'required':['topic','questions']},_0x1bb599=[{'text':_0x160f0b},{'inlineData':{'mimeType':_0x4c25ba,'data':_0x3262a1}}];await handleApiCall(_0x1bb599,_0x327b8c(0x537),_0x367942);}catch(_0x232c8c){console[_0x327b8c(0x930)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x232c8c),showMessage(_0x327b8c(0x773)+_0x232c8c['message']),_0x483e63[_0x327b8c(0x215)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x2d0dc5[_0x327b8c(0x5f6)][_0x327b8c(0x314)]('hidden'),_0x22f90d['disabled']=![];}},_0x3cfd4a['onerror']=_0x38f3bc=>{const _0x56e43a=_0x50e643;console[_0x56e43a(0x930)](_0x56e43a(0x932),_0x38f3bc),showMessage(_0x56e43a(0x4d0)),_0x2d0dc5['classList'][_0x56e43a(0x314)](_0x56e43a(0x3c0)),_0x22f90d[_0x56e43a(0xa75)]=![];};}async function handleRegenerateQuestionInEditor(_0x3d4b49){const _0x3cf50d=_0x7550fe;if(currentEditingQuizData===null)return;const _0x5ed860=document['querySelector'](_0x3cf50d(0x57f)+_0x3d4b49+'\x22]');_0x5ed860&&(_0x5ed860[_0x3cf50d(0x215)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x154e00=currentEditingQuizData[_0x3cf50d(0x5c2)][_0x3d4b49],_0x8ea270=currentEditingQuizData[_0x3cf50d(0xb1c)],_0x9cfa3c=_0x154e00[_0x3cf50d(0x92a)],_0x10d384={'type':'OBJECT','properties':{'questionText':{'type':_0x3cf50d(0x9c9)},'options':{'type':_0x3cf50d(0x5fd),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3cf50d(0x234)},'explanation':{'type':_0x3cf50d(0x9c9)}},'required':[_0x3cf50d(0x653),_0x3cf50d(0xbe2),_0x3cf50d(0x30b),_0x3cf50d(0x9c7)]},_0x8bad69={'type':'OBJECT','properties':{'questionText':{'type':_0x3cf50d(0x9c9)},'idealAnswer':{'type':_0x3cf50d(0x9c9)},'explanation':{'type':_0x3cf50d(0x9c9)}},'required':['questionText',_0x3cf50d(0xa33),_0x3cf50d(0x9c7)]};let _0xf02ce2,_0x45047b='';_0x9cfa3c===_0x3cf50d(0x81c)?(_0xf02ce2=_0x10d384,_0x45047b='แบบปรนัย\x204\x20ตัวเลือก'):(_0xf02ce2=_0x8bad69,_0x45047b=_0x3cf50d(0x717));const _0x4c5a82=_0x3cf50d(0x6eb)+_0x8ea270+_0x3cf50d(0x9b6)+_0x45047b+_0x3cf50d(0x61a)+(_0x154e00[_0x3cf50d(0x653)]||_0x154e00[_0x3cf50d(0x4b6)])+_0x3cf50d(0x180)+simpleMathPrompt;try{const _0x287db5=await callAnalysisApi(_0x4c5a82,_0xf02ce2);currentEditingQuizData[_0x3cf50d(0x5c2)][_0x3d4b49]={..._0x154e00,..._0x287db5},renderQuizEditor(currentEditingQuizData);}catch(_0x5a2143){console[_0x3cf50d(0x930)](_0x3cf50d(0x6ad),_0x5a2143),showMessage(_0x3cf50d(0x991)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x127c15=_0x7550fe,_0x5674a2=document['getElementById'](_0x127c15(0x643));currentMode==='student'?(currentMode='admin',_0x5674a2[_0x127c15(0x215)]=_0x127c15(0x82f),_0x5674a2['title']=_0x127c15(0x782),showView(_0x127c15(0x452))):(currentMode=_0x127c15(0x581),_0x5674a2[_0x127c15(0x215)]=_0x127c15(0x583),_0x5674a2['title']='สลับไปโหมดผู้ควบคุม',showView(_0x127c15(0x581)));}function handleAdminLogin(){const _0x4a2f80=_0x7550fe,_0x475550=document[_0x4a2f80(0xb9f)]('admin-password-input'),_0x2fe8ad=document[_0x4a2f80(0xb9f)](_0x4a2f80(0xb51));if(_0x475550['value']===_0x4a2f80(0x3f1)){adminPasswordModal['classList'][_0x4a2f80(0x314)]('hidden'),_0x475550[_0x4a2f80(0x6b0)]='',_0x2fe8ad['classList']['add'](_0x4a2f80(0x3c0)),currentMode=_0x4a2f80(0x67e);const _0x368e08=document[_0x4a2f80(0xb9f)](_0x4a2f80(0x643));_0x368e08['innerHTML']=_0x4a2f80(0x82f),_0x368e08[_0x4a2f80(0x561)]=_0x4a2f80(0x782),showView(_0x4a2f80(0x452));}else _0x2fe8ad[_0x4a2f80(0x5f6)][_0x4a2f80(0x309)](_0x4a2f80(0x3c0)),_0x475550[_0x4a2f80(0x6b0)]='';}function switchProjectTab(_0x1c43a0){const _0x47c454=_0x7550fe;['manage',_0x47c454(0x5c0),_0x47c454(0x8d0)][_0x47c454(0x94f)](_0x3a01c7=>{const _0x195a7e=_0x47c454;document[_0x195a7e(0xb9f)](_0x3a01c7+_0x195a7e(0x4df))[_0x195a7e(0x5f6)][_0x195a7e(0x309)](_0x195a7e(0x97e)),document[_0x195a7e(0xb9f)](_0x3a01c7+_0x195a7e(0xa45))[_0x195a7e(0x5f6)][_0x195a7e(0x314)](_0x195a7e(0x3c0));}),document[_0x47c454(0xb9f)](_0x1c43a0+'-tab')['classList']['add'](_0x47c454(0x97e)),document[_0x47c454(0xb9f)](_0x1c43a0+_0x47c454(0xa45))[_0x47c454(0x5f6)][_0x47c454(0x309)](_0x47c454(0x3c0));}function switchQuizDetailTab(_0x3817fe){const _0x4aa9ad=_0x7550fe,_0x524a95={'analytics':{'btn':_0x4aa9ad(0x848),'content':_0x4aa9ad(0x48e)},'scores':{'btn':_0x4aa9ad(0xa29),'content':_0x4aa9ad(0x43c)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x4aa9ad(0xa56)},'behavior-log':{'btn':_0x4aa9ad(0x7c0),'content':_0x4aa9ad(0xa7f)}};for(const _0x8671b9 in _0x524a95){document['getElementById'](_0x524a95[_0x8671b9][_0x4aa9ad(0x50c)])['classList']['remove'](_0x4aa9ad(0x97e)),document['getElementById'](_0x524a95[_0x8671b9][_0x4aa9ad(0x403)])[_0x4aa9ad(0x5f6)][_0x4aa9ad(0x314)](_0x4aa9ad(0x3c0));}document[_0x4aa9ad(0xb9f)](_0x524a95[_0x3817fe][_0x4aa9ad(0x50c)])[_0x4aa9ad(0x5f6)][_0x4aa9ad(0x314)](_0x4aa9ad(0x97e)),document[_0x4aa9ad(0xb9f)](_0x524a95[_0x3817fe][_0x4aa9ad(0x403)])[_0x4aa9ad(0x5f6)][_0x4aa9ad(0x309)](_0x4aa9ad(0x3c0));}function showMessage(_0x4bb3e1,_0x1e084e=null){const _0x230700=_0x7550fe;modalMessage[_0x230700(0x33f)]=_0x4bb3e1,modalConfirmAction=_0x1e084e,messageModal['classList'][_0x230700(0x309)]('hidden');}function showConfirmation(_0x5b22e3,_0x3d4d37){const _0x3a2e58=_0x7550fe;document[_0x3a2e58(0xb9f)](_0x3a2e58(0x260))[_0x3a2e58(0x33f)]=_0x5b22e3,document['getElementById']('confirmation-modal')[_0x3a2e58(0x2e7)]('h3')['textContent']=_0x3a2e58(0x429),confirmAction=_0x3d4d37,confirmationModal[_0x3a2e58(0x5f6)][_0x3a2e58(0x309)](_0x3a2e58(0x3c0));}function listenForProjects(){const _0x51eca0=_0x7550fe,_0x420197=doc(db,_0x51eca0(0x9c0),'dashboardConfig');onSnapshot(_0x420197,_0x1d8705=>{const _0x2cc0fd=_0x51eca0;if(_0x1d8705[_0x2cc0fd(0x7be)]()){const _0xa48c2c=_0x1d8705[_0x2cc0fd(0xaf1)]();globalDashboardSettings['projectSort']=_0xa48c2c[_0x2cc0fd(0x171)]||'date_desc',globalDashboardSettings['pinnedProjects']=_0xa48c2c[_0x2cc0fd(0x99f)]||[],globalDashboardSettings[_0x2cc0fd(0x4b5)]=_0xa48c2c['projectOrder']||[];}allProjects[_0x2cc0fd(0x384)]>0x0&&renderProjects();});const _0x5e37be=collection(db,_0x51eca0(0x3dc)+appId+_0x51eca0(0x466));unsubscribeProjectsListener=onSnapshot(_0x5e37be,_0x49b881=>{const _0x3e1869=_0x51eca0;allProjects=_0x49b881[_0x3e1869(0x68e)]['map'](_0x359c0c=>({'id':_0x359c0c['id'],..._0x359c0c['data']()})),renderProjects();},_0x1df62e=>{const _0x38803b=_0x51eca0;console[_0x38803b(0x930)](_0x38803b(0x6ea),_0x1df62e),showMessage(_0x38803b(0x9a5));});}function showColorPalette(_0x4df5b9,_0x3a2c93){const _0x51b663=_0x7550fe;document[_0x51b663(0xb3b)](_0x51b663(0x588))[_0x51b663(0x94f)](_0x48e712=>_0x48e712[_0x51b663(0x309)]());const _0xe22778=[_0x51b663(0x6ba),_0x51b663(0x6dc),_0x51b663(0x7b8),_0x51b663(0x830),_0x51b663(0x213),_0x51b663(0x65d),_0x51b663(0x8fb),_0x51b663(0x6e6),_0x51b663(0xbaa)],_0x297208=document[_0x51b663(0x51b)](_0x51b663(0x93c));_0x297208['className']='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0xe22778[_0x51b663(0x94f)](_0x90579f=>{const _0x4d7369=_0x51b663,_0x39ec58=document[_0x4d7369(0x51b)]('div');_0x39ec58[_0x4d7369(0x416)]=_0x4d7369(0x9c5),_0x39ec58['style']['backgroundColor']=_0x90579f,_0x39ec58[_0x4d7369(0x52b)](_0x4d7369(0x909),()=>{const _0x476e28=_0x4d7369;handleProjectColorChange(_0x3a2c93,_0x90579f),_0x297208[_0x476e28(0x309)]();}),_0x297208[_0x4d7369(0xa04)](_0x39ec58);}),document[_0x51b663(0x218)][_0x51b663(0xa04)](_0x297208);const _0x2ca420=_0x4df5b9['getBoundingClientRect']();_0x297208['style'][_0x51b663(0x865)]=_0x2ca420[_0x51b663(0x51c)]+window['scrollY']+'px',_0x297208[_0x51b663(0x2a3)]['left']=_0x2ca420['left']+window['scrollX']-_0x297208[_0x51b663(0x166)]/0x2+'px';}async function handleProjectColorChange(_0x4755f8,_0x45acbe){const _0x513368=_0x7550fe,_0x3c707c=doc(db,_0x513368(0x3dc)+appId+'/public/data/projects',_0x4755f8);try{await updateDoc(_0x3c707c,{'color':_0x45acbe});}catch(_0x1ee36d){console['error'](_0x513368(0x14e),_0x1ee36d),showMessage(_0x513368(0x691));}}async function renderProjects(){const _0x2b859d=_0x7550fe,_0x5a9487=globalDashboardSettings[_0x2b859d(0x171)]||'date_desc',_0x208f77=new Set(globalDashboardSettings[_0x2b859d(0x99f)]||[]),_0x26e1e4=globalDashboardSettings[_0x2b859d(0x3d1)]||_0x2b859d(0x3d7),_0xcf7ccf=document['getElementById'](_0x2b859d(0x2b6)),_0x50fa9d=document[_0x2b859d(0xb9f)](_0x2b859d(0x9b3));_0xcf7ccf[_0x2b859d(0x5f6)][_0x2b859d(0x937)]('active',_0x26e1e4==='grid'),_0x50fa9d[_0x2b859d(0x5f6)][_0x2b859d(0x937)](_0x2b859d(0x97e),_0x26e1e4===_0x2b859d(0xbbd)),document['getElementById'](_0x2b859d(0x81a))[_0x2b859d(0x6b0)]=_0x5a9487;const _0x4d5005=document[_0x2b859d(0xb9f)](_0x2b859d(0x646))[_0x2b859d(0x6b0)][_0x2b859d(0x402)]();let _0x86c6d5=allProjects[_0x2b859d(0x67f)](_0x3d96bf=>_0x3d96bf[_0x2b859d(0x7aa)]['toLowerCase']()[_0x2b859d(0x6b7)](_0x4d5005));const _0x26f62e=_0x86c6d5['filter'](_0x2bddea=>_0x208f77['has'](_0x2bddea['id'])),_0x416e0e=_0x86c6d5[_0x2b859d(0x67f)](_0x214e5c=>!_0x208f77[_0x2b859d(0x23c)](_0x214e5c['id'])),_0x1f99b8=(_0x3321dc,_0x50ef95)=>{const _0x4024f1=_0x2b859d;switch(_0x5a9487){case'name_asc':return _0x3321dc[_0x4024f1(0x7aa)][_0x4024f1(0x45d)](_0x50ef95[_0x4024f1(0x7aa)],'th');case _0x4024f1(0xb9a):return _0x50ef95['projectName']['localeCompare'](_0x3321dc[_0x4024f1(0x7aa)],'th');case _0x4024f1(0x628):return new Date(_0x3321dc[_0x4024f1(0x1d3)])-new Date(_0x50ef95[_0x4024f1(0x1d3)]);default:return new Date(_0x50ef95['createdAt'])-new Date(_0x3321dc[_0x4024f1(0x1d3)]);}};_0x26f62e[_0x2b859d(0xa30)](_0x1f99b8),_0x416e0e['sort'](_0x1f99b8);const _0x2c039b=[..._0x26f62e,..._0x416e0e],_0x957770=globalDashboardSettings[_0x2b859d(0x4b5)]||[];_0x957770[_0x2b859d(0x384)]>0x0&&_0x26e1e4==='grid'&&_0x2c039b[_0x2b859d(0xa30)]((_0x54488c,_0x47fbf6)=>{const _0xc95da7=_0x2b859d,_0x152fa2=_0x957770['indexOf'](_0x54488c['id']),_0x3640ff=_0x957770[_0xc95da7(0x379)](_0x47fbf6['id']);if(_0x152fa2===-0x1)return 0x1;if(_0x3640ff===-0x1)return-0x1;return _0x152fa2-_0x3640ff;});const _0x4b7360={};await Promise[_0x2b859d(0xa9e)](_0x2c039b[_0x2b859d(0x25d)](async _0x5145a8=>{const _0x3152b4=_0x2b859d,_0x553a79=query(collection(db,_0x3152b4(0x3dc)+appId+_0x3152b4(0x7a5)),where(_0x3152b4(0x176),'==',_0x5145a8['id'])),_0x3e3932=await getDocs(_0x553a79);_0x4b7360[_0x5145a8['id']]=_0x3e3932[_0x3152b4(0xac5)];}));const _0x1f4f38=document[_0x2b859d(0xb9f)](_0x2b859d(0x1bd));let _0x3249f8='';if(_0x26e1e4==='grid'){_0x1f4f38[_0x2b859d(0x416)]=_0x2b859d(0xb77);if(starredQuizzes[_0x2b859d(0x384)]>0x0&&_0x4d5005===''){const _0x19e1f4=starredQuizzes[_0x2b859d(0x25d)](_0x21e5ae=>{const _0x3da01b=_0x2b859d,_0x4bf76e=allProjects['find'](_0x10827d=>_0x10827d['id']===_0x21e5ae[_0x3da01b(0x176)]);return{..._0x21e5ae,'projectName':_0x4bf76e?_0x4bf76e['projectName']:_0x3da01b(0x629)};});_0x3249f8+=_0x2b859d(0x4d4)+_0x19e1f4[_0x2b859d(0x25d)](_0x2a2a22=>_0x2b859d(0xa85)+_0x2a2a22[_0x2b859d(0xb1c)]+'\x22>'+_0x2a2a22[_0x2b859d(0xb1c)]+_0x2b859d(0x921)+_0x2a2a22[_0x2b859d(0x7aa)]+_0x2b859d(0x4f2)+_0x2a2a22[_0x2b859d(0x7aa)]+_0x2b859d(0x29f))[_0x2b859d(0x7fa)]('')+_0x2b859d(0x910)+starredQuizzes[_0x2b859d(0x384)]+_0x2b859d(0xbd3);}_0x2c039b[_0x2b859d(0x94f)](_0x2e0cda=>{const _0x4de619=_0x2b859d,_0x26e387=_0x4b7360[_0x2e0cda['id']]??0x0,_0x5d8614=_0x208f77[_0x4de619(0x23c)](_0x2e0cda['id']),_0x1ecf8f=_0x2e0cda[_0x4de619(0xa8b)]||'#FFFFFF',_0x3217ab=parseInt(_0x1ecf8f['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x1ecf8f[_0x4de619(0x12c)](0x3,0x5),0x10)*0.587+parseInt(_0x1ecf8f[_0x4de619(0x12c)](0x5,0x7),0x10)*0.114<0xba,_0x24cae0=_0x3217ab?_0x4de619(0x310):_0x4de619(0x1d7),_0x2dc9d5=_0x3217ab?_0x4de619(0x4cd):'text-gray-500';_0x3249f8+=_0x4de619(0xb0f)+(_0x5d8614?_0x4de619(0x59e):_0x4de619(0x6d8))+_0x4de619(0x318)+_0x1ecf8f+';\x22\x20data-id=\x22'+_0x2e0cda['id']+_0x4de619(0x346)+_0x2e0cda['id']+_0x4de619(0x695)+(_0x3217ab?_0x4de619(0x964):_0x4de619(0x886))+_0x4de619(0x23e)+_0x2e0cda['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x3217ab?'text-gray-300\x20hover:text-white':_0x4de619(0x886))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5d8614?_0x3217ab?'text-yellow-300':_0x4de619(0x44a):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x2e0cda['id']+_0x4de619(0x316)+_0x24cae0+'\x20pointer-events-none\x22>'+_0x2e0cda[_0x4de619(0x7aa)]+_0x4de619(0x212)+_0x2dc9d5+_0x4de619(0xa41)+new Date(_0x2e0cda[_0x4de619(0x1d3)])[_0x4de619(0x333)]('th-TH')+_0x4de619(0x51d)+(_0x3217ab?_0x4de619(0x5af):'text-gray-700')+_0x4de619(0xa15)+_0x26e387+_0x4de619(0x726)+_0x2e0cda['id']+_0x4de619(0x8b1)+_0x2e0cda[_0x4de619(0x7aa)]+_0x4de619(0xb81)+(_0x3217ab?_0x4de619(0x44f):'text-red-500\x20hover:text-red-700')+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x1f4f38['className']='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x4d5005===''&&(_0x3249f8+=_0x2b859d(0x659)+starredQuizzes[_0x2b859d(0x384)]+_0x2b859d(0x9d1)),_0x3249f8+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2c039b['forEach'](_0x1c6a15=>{const _0x58a6da=_0x2b859d,_0x1fe5df=_0x4b7360[_0x1c6a15['id']]??0x0,_0x4a77a6=_0x208f77[_0x58a6da(0x23c)](_0x1c6a15['id']);_0x3249f8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x1c6a15[_0x58a6da(0xa8b)]||_0x58a6da(0xbaa))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x1c6a15['id']+_0x58a6da(0x681)+_0x1c6a15[_0x58a6da(0x7aa)]+_0x58a6da(0x5a0)+_0x1fe5df+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1c6a15[_0x58a6da(0x1d3)])[_0x58a6da(0x687)](_0x58a6da(0x2b8))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1c6a15['id']+_0x58a6da(0x6a3)+(_0x4a77a6?_0x58a6da(0x44a):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1c6a15['id']+_0x58a6da(0x8b1)+_0x1c6a15[_0x58a6da(0x7aa)]+_0x58a6da(0xa2a);});projectList['innerHTML']=_0x3249f8,noProjectsMsg['classList'][_0x2b859d(0x937)](_0x2b859d(0x3c0),_0x3249f8[_0x2b859d(0x384)]>0x0);}document[_0x7550fe(0xb9f)](_0x7550fe(0x595))[_0x7550fe(0x52b)]('click',async()=>{const _0x2d1125=_0x7550fe,_0x454709=document[_0x2d1125(0xb9f)]('project-name-input'),_0x46b59f=_0x454709['value']['trim']();if(!_0x46b59f){showMessage(_0x2d1125(0x35b));return;}try{const _0x3399cb=doc(collection(db,_0x2d1125(0x3dc)+appId+_0x2d1125(0x466)));await setDoc(_0x3399cb,{'projectName':_0x46b59f,'students':[],'settings':{'resultsDisplay':_0x2d1125(0x7fd),'shuffleSetting':_0x2d1125(0x30f),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x2d1125(0x30f),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x2d1125(0x170)]()}),_0x454709[_0x2d1125(0x6b0)]='',createProjectModal[_0x2d1125(0x5f6)][_0x2d1125(0x314)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x4c0e67){console[_0x2d1125(0x930)](_0x2d1125(0x745),_0x4c0e67),showMessage(_0x2d1125(0x669));}}),projectList[_0x7550fe(0x52b)](_0x7550fe(0x909),async _0xaf5c93=>{const _0x2b16b9=_0x7550fe,_0x2d5783=_0xaf5c93['target'][_0x2b16b9(0x849)](_0x2b16b9(0xb8f)),_0x1c5dcf=_0xaf5c93[_0x2b16b9(0x2de)][_0x2b16b9(0x849)](_0x2b16b9(0xa11)),_0x4048f1=_0xaf5c93[_0x2b16b9(0x2de)][_0x2b16b9(0x849)](_0x2b16b9(0xa7d)),_0xc55c5f=_0xaf5c93['target']['closest'](_0x2b16b9(0x638));if(_0x4048f1){const _0x57109e=_0x4048f1[_0x2b16b9(0xb7f)]['id'],_0x310562=doc(db,_0x2b16b9(0x9c0),'dashboardConfig'),_0x85cdcf=globalDashboardSettings[_0x2b16b9(0x99f)];let _0x25b87c;_0x85cdcf[_0x2b16b9(0x6b7)](_0x57109e)?_0x25b87c=_0x85cdcf[_0x2b16b9(0x67f)](_0x368746=>_0x368746!==_0x57109e):_0x25b87c=[..._0x85cdcf,_0x57109e];try{await setDoc(_0x310562,{'pinnedProjects':_0x25b87c},{'merge':!![]});}catch(_0xed4aac){console['error']('Error\x20updating\x20pin\x20status:',_0xed4aac),showMessage(_0x2b16b9(0x465));}}else{if(_0xc55c5f){const _0x36cfa4=_0xc55c5f['dataset']['id'];showColorPalette(_0xc55c5f,_0x36cfa4);}else{if(_0x2d5783){const _0x5b63e9=_0x2d5783[_0x2b16b9(0xb7f)]['id'];_0x5b63e9===_0x2b16b9(0x172)?showStarredProjectView():(currentProjectId=_0x5b63e9,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x1c5dcf){const _0x3bb7d6=_0x1c5dcf[_0x2b16b9(0xb7f)]['id'],_0x416bf2=_0x1c5dcf[_0x2b16b9(0xb7f)][_0x2b16b9(0x47f)];showConfirmation(_0x2b16b9(0x916)+_0x416bf2+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x3bb7d6));}}}}}),projectList[_0x7550fe(0x52b)]('dragstart',_0x3ddd8c=>{const _0x38c261=_0x7550fe,_0x3dbdad=_0x3ddd8c[_0x38c261(0x2de)][_0x38c261(0x849)](_0x38c261(0x9eb));_0x3dbdad&&_0x3dbdad['classList'][_0x38c261(0x314)]('opacity-50');}),projectList[_0x7550fe(0x52b)](_0x7550fe(0xb87),_0x367d56=>{const _0x352e16=_0x7550fe,_0x40e0cf=_0x367d56[_0x352e16(0x2de)][_0x352e16(0x849)](_0x352e16(0x9eb));_0x40e0cf&&_0x40e0cf[_0x352e16(0x5f6)]['remove'](_0x352e16(0x8cb));}),projectList[_0x7550fe(0x52b)](_0x7550fe(0x480),_0x2fdbe1=>{const _0x5f0217=_0x7550fe;_0x2fdbe1[_0x5f0217(0xa38)]();const _0xc27cf4=document[_0x5f0217(0x2e7)](_0x5f0217(0xb28));if(!_0xc27cf4)return;const _0x92f98d=getDragAfterElement(projectList,_0x2fdbe1[_0x5f0217(0x328)]);_0x92f98d==null?projectList[_0x5f0217(0xa04)](_0xc27cf4):projectList[_0x5f0217(0x42e)](_0xc27cf4,_0x92f98d);}),projectList[_0x7550fe(0x52b)]('drop',_0x2bad31=>{const _0x4a7212=_0x7550fe;_0x2bad31['preventDefault']();const _0x333356=[...projectList[_0x4a7212(0xb3b)](_0x4a7212(0x2d3))]['map'](_0x14b6ee=>_0x14b6ee[_0x4a7212(0xb7f)]['id']);saveProjectOrder(_0x333356);});function renderBehaviorLog(_0x20740e){const _0x22a822=_0x7550fe,_0x7dad35=document[_0x22a822(0xb9f)](_0x22a822(0x83d));if(!_0x7dad35)return;const _0x230734=_0x20740e[_0x22a822(0x67f)](_0x44a37f=>_0x44a37f[_0x22a822(0xae9)]&&_0x44a37f[_0x22a822(0xae9)][_0x22a822(0x384)]>0x0);if(_0x230734[_0x22a822(0x384)]===0x0){_0x7dad35[_0x22a822(0x215)]=_0x22a822(0xbf3);return;}let _0x14daa5='';_0x230734[_0x22a822(0x94f)](_0x4fd3f3=>{const _0x1cc876=_0x22a822;_0x14daa5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x4fd3f3[_0x1cc876(0x884)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4fd3f3[_0x1cc876(0xae9)][_0x1cc876(0xa30)]((_0x505c7e,_0x1f6b9e)=>new Date(_0x1f6b9e[_0x1cc876(0x703)])-new Date(_0x505c7e[_0x1cc876(0x703)]))[_0x1cc876(0x94f)](_0x1d63ea=>{const _0x50d5ff=_0x1cc876,_0xc98491=new Date(_0x1d63ea[_0x50d5ff(0x703)])['toLocaleString'](_0x50d5ff(0x2b8),{'dateStyle':_0x50d5ff(0x248),'timeStyle':_0x50d5ff(0x2a5)});_0x14daa5+=_0x50d5ff(0x1df)+_0x1d63ea[_0x50d5ff(0x8d4)]+_0x50d5ff(0xaf5)+_0xc98491+_0x50d5ff(0x470);}),_0x14daa5+=_0x1cc876(0x4d9);}),_0x7dad35['innerHTML']=_0x14daa5;}function getDragAfterElement(_0x28d040,_0x52ede2){const _0x51aade=_0x7550fe,_0x319766=[..._0x28d040['querySelectorAll'](_0x51aade(0x27f))];return _0x319766['reduce']((_0x56f4d8,_0x1ab208)=>{const _0x3f58b9=_0x51aade,_0x4fb5bb=_0x1ab208['getBoundingClientRect'](),_0x12a3e3=_0x52ede2-_0x4fb5bb[_0x3f58b9(0x865)]-_0x4fb5bb[_0x3f58b9(0xad0)]/0x2;return _0x12a3e3<0x0&&_0x12a3e3>_0x56f4d8[_0x3f58b9(0x15a)]?{'offset':_0x12a3e3,'element':_0x1ab208}:_0x56f4d8;},{'offset':Number[_0x51aade(0x127)]})[_0x51aade(0x3a9)];}async function saveProjectOrder(_0xa87e8c){const _0x2a646e=_0x7550fe,_0x22f489=doc(db,_0x2a646e(0x9c0),_0x2a646e(0x351));try{await setDoc(_0x22f489,{'projectOrder':_0xa87e8c},{'merge':!![]});}catch(_0x389672){console[_0x2a646e(0x930)](_0x2a646e(0x28b),_0x389672),showMessage(_0x2a646e(0x78d));}}async function logBehaviorEvent(_0x51144c,_0x3f8ec2={}){const _0x17c00d=_0x7550fe;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x17c00d(0x619)](_0x17c00d(0xa68));return;}const _0x59a571=doc(db,'artifacts/'+appId+_0x17c00d(0x315)+currentQuizData['id']+_0x17c00d(0x6dd),currentStudentName),_0x43e616={'event':_0x51144c,'timestamp':new Date()[_0x17c00d(0x170)](),..._0x3f8ec2};try{await updateDoc(_0x59a571,{'behaviorLog':arrayUnion(_0x43e616)}),console[_0x17c00d(0xbf7)](_0x17c00d(0x3fe)+currentStudentName+'\x20สำเร็จ');}catch(_0x31a49b){_0x31a49b[_0x17c00d(0x4f1)]===_0x17c00d(0x161)?console[_0x17c00d(0x619)](_0x17c00d(0x6a1)+currentStudentName+_0x17c00d(0x3bf)):console[_0x17c00d(0x930)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x31a49b);}}function calculateMeanAndStdDev(_0x16edf4){const _0x2e3687=_0x7550fe;if(_0x16edf4[_0x2e3687(0x384)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x5b1eba=_0x16edf4['reduce']((_0x4f501e,_0x404bbb)=>_0x4f501e+_0x404bbb,0x0)/_0x16edf4[_0x2e3687(0x384)];if(_0x16edf4['length']===0x1)return{'mean':_0x5b1eba,'stdDev':0x0};const _0x2a6ea1=Math[_0x2e3687(0x1a0)](_0x16edf4[_0x2e3687(0x25d)](_0x123cc5=>Math[_0x2e3687(0x54c)](_0x123cc5-_0x5b1eba,0x2))[_0x2e3687(0x59c)]((_0x15b329,_0x1143c5)=>_0x15b329+_0x1143c5,0x0)/(_0x16edf4[_0x2e3687(0x384)]-0x1));return{'mean':_0x5b1eba,'stdDev':_0x2a6ea1};}function calculateZScore(_0x2c486c,_0x43f622,_0x3a9e34){if(_0x3a9e34===0x0)return 0x0;return(_0x2c486c-_0x43f622)/_0x3a9e34;}function calculateTScore(_0x5853d3){return 0xa*_0x5853d3+0x32;}function showStarredProjectView(){const _0x447184=_0x7550fe;currentProjectId=_0x447184(0x33a),currentProjectData=null,projectTitle[_0x447184(0x33f)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x447184(0x33f)]=_0x447184(0x986),showView(_0x447184(0x6fc)),manageTab['classList'][_0x447184(0x314)]('hidden'),leaderboardTab[_0x447184(0x5f6)]['add'](_0x447184(0x3c0)),switchProjectTab(_0x447184(0x5c0)),renderQuizzes();}async function loadProjectDetails(_0x100109){const _0xb1b31c=_0x7550fe,_0x39615f=doc(db,'artifacts/'+appId+_0xb1b31c(0x466),_0x100109),_0x2c49c6=await getDoc(_0x39615f);if(_0x2c49c6['exists']()){manageTab[_0xb1b31c(0x5f6)][_0xb1b31c(0x309)](_0xb1b31c(0x3c0)),leaderboardTab[_0xb1b31c(0x5f6)][_0xb1b31c(0x309)](_0xb1b31c(0x3c0)),currentProjectData=_0x2c49c6[_0xb1b31c(0xaf1)](),projectTitle['textContent']=currentProjectData[_0xb1b31c(0x7aa)],projectIdDisplay[_0xb1b31c(0x33f)]=_0x100109;const _0x3b453d=currentProjectData[_0xb1b31c(0x996)]||{};document[_0xb1b31c(0xb9f)]('shuffle-setting-select')[_0xb1b31c(0x6b0)]=_0x3b453d[_0xb1b31c(0x3f7)]||_0xb1b31c(0x30f);const _0x15f5da=document['getElementById'](_0xb1b31c(0x8a5));_0x15f5da['checked']=_0x3b453d[_0xb1b31c(0x6e1)]!==![];const _0x3228ac=document[_0xb1b31c(0xb9f)](_0xb1b31c(0x54a)),_0x35975f=document['getElementById'](_0xb1b31c(0x8a1)),_0x520262=document[_0xb1b31c(0xb9f)](_0xb1b31c(0xba2)),_0x459bd9=_0x3b453d[_0xb1b31c(0xbcf)]||![];_0x3228ac[_0xb1b31c(0x20e)]=_0x459bd9,_0x520262[_0xb1b31c(0x6b0)]=_0x3b453d['passcode']||'',_0x35975f[_0xb1b31c(0x5f6)][_0xb1b31c(0x937)](_0xb1b31c(0x3c0),!_0x459bd9),_0x3228ac[_0xb1b31c(0x67c)]=()=>{const _0x5a4c84=_0xb1b31c;_0x35975f[_0x5a4c84(0x5f6)][_0x5a4c84(0x937)](_0x5a4c84(0x3c0),!_0x3228ac[_0x5a4c84(0x20e)]);},document['getElementById']('confidence-scoring-checkbox')[_0xb1b31c(0x20e)]=_0x3b453d[_0xb1b31c(0xb00)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x100109),listenForProjectQuizzes(_0x100109),listenForStudentProfiles(_0x100109);}else showMessage(_0xb1b31c(0x51e)),showView(_0xb1b31c(0x452));}async function handleResetProjectOrder(){const _0x33e694=_0x7550fe,_0x14143c=doc(db,_0x33e694(0x9c0),_0x33e694(0x351));try{await setDoc(_0x14143c,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x33e694(0x86b));}catch(_0x35c9f0){console['error'](_0x33e694(0x558),_0x35c9f0),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x2f0734){const _0x4d7c17=_0x7550fe;if(!_0x2f0734)return;const _0x1c7d7a=doc(db,_0x4d7c17(0x3dc)+appId+_0x4d7c17(0x466),_0x2f0734);try{const _0x36ce4e=await getDoc(_0x1c7d7a);if(_0x36ce4e[_0x4d7c17(0x7be)]()){const _0x2a7213=_0x36ce4e[_0x4d7c17(0xaf1)]()[_0x4d7c17(0x450)]||![];await updateDoc(_0x1c7d7a,{'isPinned':!_0x2a7213});}}catch(_0x35a61a){console['error'](_0x4d7c17(0xaff),_0x35a61a),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x4f894f){const _0x26b5b7=_0x7550fe;try{const _0x34d022=writeBatch(db),_0x759b5e=collection(db,_0x26b5b7(0x3dc)+appId+_0x26b5b7(0x7a5)),_0x47dd0d=query(_0x759b5e,where(_0x26b5b7(0x176),'==',_0x4f894f)),_0x159f9a=await getDocs(_0x47dd0d);for(const _0x252f4f of _0x159f9a[_0x26b5b7(0x68e)]){const _0x3bbf6c=collection(db,'artifacts/'+appId+_0x26b5b7(0x315)+_0x252f4f['id']+'/submissions'),_0x471f0a=await getDocs(_0x3bbf6c);_0x471f0a[_0x26b5b7(0x94f)](_0x561fff=>{_0x34d022['delete'](_0x561fff['ref']);}),_0x34d022[_0x26b5b7(0x685)](_0x252f4f[_0x26b5b7(0x885)]);}const _0x49ddc2=collection(db,_0x26b5b7(0x3dc)+appId+_0x26b5b7(0xa60)+_0x4f894f+'/studentProfiles'),_0x1a1386=await getDocs(_0x49ddc2);_0x1a1386['forEach'](_0x5004ce=>{const _0x2c97e1=_0x26b5b7;_0x34d022[_0x2c97e1(0x685)](_0x5004ce[_0x2c97e1(0x885)]);});const _0x2c7036=doc(db,_0x26b5b7(0x3dc)+appId+_0x26b5b7(0x466),_0x4f894f);_0x34d022[_0x26b5b7(0x685)](_0x2c7036),await _0x34d022['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x26b5b7(0x452));}catch(_0x18a025){console['error'](_0x26b5b7(0xaa1),_0x18a025),showMessage(_0x26b5b7(0x167));}}document['getElementById'](_0x7550fe(0x275))[_0x7550fe(0x52b)](_0x7550fe(0x909),async()=>{const _0x4dee0e=_0x7550fe;if(!currentProjectId)return;const _0x1358f8={'defaultNumQuestions':parseInt(document[_0x4dee0e(0xb9f)]('num-questions')[_0x4dee0e(0x6b0)]),'defaultNumChoices':parseInt(document[_0x4dee0e(0xb9f)](_0x4dee0e(0x56c))[_0x4dee0e(0x6b0)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')['value']),'resultsDisplay':document[_0x4dee0e(0xb9f)]('results-display-select')['value'],'shuffleSetting':document['getElementById'](_0x4dee0e(0x716))[_0x4dee0e(0x6b0)],'timerMode':document[_0x4dee0e(0xb9f)](_0x4dee0e(0xa5d))[_0x4dee0e(0x6b0)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x4dee0e(0x6b0)]),'isConfidenceScoringEnabled':document[_0x4dee0e(0xb9f)](_0x4dee0e(0x9d5))[_0x4dee0e(0x20e)],'confidenceMode':document['getElementById'](_0x4dee0e(0xbb6))['value']};try{const _0x3808f8=doc(db,_0x4dee0e(0x3dc)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x3808f8,{'settings':_0x1358f8}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x25b8eb){console[_0x4dee0e(0x930)](_0x4dee0e(0x4dd),_0x25b8eb),showMessage(_0x4dee0e(0x499));}});function listenForStudents(_0x3211ed){const _0x46eb65=doc(db,'artifacts/'+appId+'/public/data/projects',_0x3211ed);unsubscribeStudentsListener=onSnapshot(_0x46eb65,_0x4dcaa8=>{const _0x4e2dc8=_0x393b;if(_0x4dcaa8['exists']()){const _0x394514=_0x4dcaa8[_0x4e2dc8(0xaf1)]();currentProjectData=_0x394514,renderStudentList(_0x394514[_0x4e2dc8(0x80f)]||[]);}});}function renderStudentList(_0x4efd12){const _0x47921f=_0x7550fe,_0x30804e=document[_0x47921f(0xb9f)](_0x47921f(0x18f));_0x4efd12[_0x47921f(0x384)]===0x0?(studentList[_0x47921f(0x215)]=_0x47921f(0x834),_0x30804e['classList'][_0x47921f(0x314)](_0x47921f(0x3c0))):(studentList[_0x47921f(0x215)]=_0x4efd12[_0x47921f(0x25d)](_0x51567c=>_0x47921f(0x84b)+_0x51567c+_0x47921f(0xbbb)+_0x51567c+_0x47921f(0x39b))[_0x47921f(0x7fa)](''),_0x30804e[_0x47921f(0x5f6)][_0x47921f(0x309)]('hidden'));}document['getElementById'](_0x7550fe(0xbba))['addEventListener'](_0x7550fe(0x909),async()=>{const _0x552621=_0x7550fe;if(!currentProjectId)return;const _0x31d9bc=document[_0x552621(0xb9f)](_0x552621(0x917)),_0x1a0dfa=_0x31d9bc[_0x552621(0x6b0)]['trim']();if(!_0x1a0dfa){showMessage(_0x552621(0x8ff));return;}const _0x564bd0=_0x1a0dfa[_0x552621(0x735)]('\x0a')[_0x552621(0x25d)](_0xf5d550=>_0xf5d550[_0x552621(0x9f3)]())[_0x552621(0x67f)](_0x1a59b8=>_0x1a59b8);if(_0x564bd0[_0x552621(0x384)]===0x0)return;try{const _0x1b0ea2=doc(db,_0x552621(0x3dc)+appId+_0x552621(0x466),currentProjectId),_0x478ef4=await getDoc(_0x1b0ea2);if(_0x478ef4[_0x552621(0x7be)]()){const _0x54bce0=_0x478ef4[_0x552621(0xaf1)]()['students']||[],_0x525642=[...new Set([..._0x54bce0,..._0x564bd0])];await updateDoc(_0x1b0ea2,{'students':_0x525642}),_0x31d9bc[_0x552621(0x6b0)]='';}}catch(_0x27e834){console[_0x552621(0x930)](_0x552621(0xa80),_0x27e834),showMessage(_0x552621(0x655));}});async function handleManualQuizPairing(_0x4d8d57){const _0x75068b=_0x7550fe,_0x3c9333=document[_0x75068b(0xb9f)](_0x75068b(0xa58)),_0x190a1d=document[_0x75068b(0xb9f)](_0x75068b(0x730)),_0x2f7765=_0x3c9333[_0x75068b(0x2e7)]('h3'),_0x49e257=document['getElementById']('confirm-move-quiz-btn'),_0x52149d=document[_0x75068b(0xb9f)](_0x75068b(0x223));_0x2f7765['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x190a1d[_0x75068b(0x215)]=_0x75068b(0x200),_0x49e257[_0x75068b(0x33f)]=_0x75068b(0x2e2),_0x3c9333[_0x75068b(0x5f6)]['remove'](_0x75068b(0x3c0));const _0x5322d7=allQuizzes[_0x75068b(0x67f)](_0x57b5b9=>_0x57b5b9['id']!==_0x4d8d57);_0x5322d7[_0x75068b(0x384)]===0x0?(_0x190a1d[_0x75068b(0x215)]=_0x75068b(0x9be),_0x49e257['disabled']=!![]):(_0x190a1d['innerHTML']=_0x75068b(0x995)+_0x5322d7['map'](_0x281ba7=>_0x75068b(0x93a)+_0x281ba7['id']+'\x22>'+_0x281ba7['topic']+_0x75068b(0xb9e))[_0x75068b(0x7fa)](''),_0x49e257['disabled']=![]);const _0x2fc5aa=async()=>{const _0x28d1a8=_0x75068b,_0x1fe7ec=_0x190a1d[_0x28d1a8(0x6b0)];if(!_0x1fe7ec){showMessage(_0x28d1a8(0x345));return;}_0x49e257[_0x28d1a8(0xa75)]=!![],_0x49e257[_0x28d1a8(0x33f)]=_0x28d1a8(0xb36);try{const _0x118298=doc(db,_0x28d1a8(0x3dc)+appId+'/public/data/quizzes',_0x4d8d57),_0x5eae5d=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1fe7ec),_0x18ef13=writeBatch(db);_0x18ef13['update'](_0x118298,{'pairedQuizId':_0x1fe7ec}),_0x18ef13[_0x28d1a8(0x533)](_0x5eae5d,{'pairedQuizId':_0x4d8d57}),await _0x18ef13[_0x28d1a8(0x24d)](),showMessage(_0x28d1a8(0x2e4)),_0x3c9333[_0x28d1a8(0x5f6)][_0x28d1a8(0x314)](_0x28d1a8(0x3c0));}catch(_0x4d3458){console[_0x28d1a8(0x930)]('Error\x20pairing\x20quizzes:',_0x4d3458),showMessage(_0x28d1a8(0x98e));}finally{_0x2f7765[_0x28d1a8(0x33f)]=_0x28d1a8(0x8f7),_0x49e257[_0x28d1a8(0x33f)]=_0x28d1a8(0x12d),_0x49e257[_0x28d1a8(0xa75)]=![],_0x49e257[_0x28d1a8(0xb5f)](_0x28d1a8(0x909),_0x2fc5aa),_0x52149d[_0x28d1a8(0xb5f)](_0x28d1a8(0x909),_0x240ec8);}},_0x240ec8=()=>{const _0x172403=_0x75068b;_0x3c9333[_0x172403(0x5f6)][_0x172403(0x314)]('hidden'),_0x2f7765[_0x172403(0x33f)]=_0x172403(0x8f7),_0x49e257[_0x172403(0x33f)]=_0x172403(0x12d),_0x49e257[_0x172403(0xb5f)](_0x172403(0x909),_0x2fc5aa),_0x52149d[_0x172403(0xb5f)](_0x172403(0x909),_0x240ec8);};_0x49e257[_0x75068b(0x52b)](_0x75068b(0x909),_0x2fc5aa),_0x52149d[_0x75068b(0x52b)]('click',_0x240ec8);}function handleDeleteStudent(_0x149d20){const _0x339496=_0x7550fe;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x149d20+_0x339496(0x65a),async()=>{const _0x2e522f=_0x339496;if(!currentProjectId||!currentProjectData)return;const _0x348501=currentProjectData[_0x2e522f(0x80f)][_0x2e522f(0x67f)](_0x5a497a=>_0x5a497a!==_0x149d20);try{const _0xe6d791=doc(db,_0x2e522f(0x3dc)+appId+_0x2e522f(0x466),currentProjectId),_0x4d376d=doc(db,'artifacts/'+appId+_0x2e522f(0xa60)+currentProjectId+_0x2e522f(0xaf7),_0x149d20),_0x4070b5=writeBatch(db);_0x4070b5[_0x2e522f(0x533)](_0xe6d791,{'students':_0x348501}),_0x4070b5[_0x2e522f(0x685)](_0x4d376d),await _0x4070b5[_0x2e522f(0x24d)]();}catch(_0x24c176){console[_0x2e522f(0x930)](_0x2e522f(0x560),_0x24c176),showMessage(_0x2e522f(0x2d2));}});}function handleDeleteAllStudents(){const _0x36939a=_0x7550fe;showConfirmation(_0x36939a(0x22d),async()=>{const _0x30252b=_0x36939a;if(!currentProjectId)return;try{const _0x4a672b=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x573b06=collection(db,_0x30252b(0x3dc)+appId+'/public/data/projects/'+currentProjectId+_0x30252b(0xaf7)),_0x2f1b31=await getDocs(_0x573b06),_0xebca23=writeBatch(db);_0xebca23[_0x30252b(0x533)](_0x4a672b,{'students':[]}),_0x2f1b31[_0x30252b(0x94f)](_0x492b82=>_0xebca23['delete'](_0x492b82[_0x30252b(0x885)])),await _0xebca23['commit']();}catch(_0x1057ce){console['error']('Error\x20deleting\x20all\x20students:',_0x1057ce),showMessage(_0x30252b(0x1d0));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x313946){const _0x362c58=_0x7550fe,_0x1b4f7e=document['getElementById']('file-topics-list-container'),_0x3d9501=document[_0x362c58(0xb9f)](_0x362c58(0xb53));_0x1b4f7e[_0x362c58(0x5f6)][_0x362c58(0x309)](_0x362c58(0x3c0)),_0x3d9501[_0x362c58(0x215)]=_0x362c58(0xb6a);try{const _0x50e77e=new FileReader();_0x50e77e[_0x362c58(0x369)](_0x313946),await new Promise((_0x2ff572,_0xbba783)=>{const _0x590740=_0x362c58;_0x50e77e[_0x590740(0x33e)]=()=>{const _0x47922b=_0x590740;fileDataBase64=_0x50e77e[_0x47922b(0x7e3)]['split'](',')[0x1],fileMimeType=_0x313946[_0x47922b(0x741)],_0x2ff572();},_0x50e77e[_0x590740(0xb5b)]=_0x2b2f72=>_0xbba783(_0x2b2f72);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x17cf36=_0x362c58(0xa5b),_0x24ecc6={'type':'OBJECT','properties':{'topics':{'type':_0x362c58(0x5fd),'items':{'type':_0x362c58(0x9c9)}}},'required':[_0x362c58(0x90d)]},_0x5c04dd=[{'text':_0x17cf36},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x2fb6d2=await handleApiCall(_0x5c04dd,_0x362c58(0xaa8),_0x24ecc6,null,![]);if(_0x2fb6d2&&_0x2fb6d2[_0x362c58(0x90d)])extractedFileTopics=_0x2fb6d2['topics'],renderFileTopics();else throw new Error(_0x362c58(0x587));}catch(_0x357e99){console[_0x362c58(0x930)](_0x362c58(0xa3d),_0x357e99),_0x3d9501[_0x362c58(0x215)]=_0x362c58(0x84a)+_0x357e99[_0x362c58(0xa4c)]+'</p>';}}function renderFileTopics(){const _0x2ce873=_0x7550fe,_0x31b822=document['getElementById']('file-topics-list');if(extractedFileTopics[_0x2ce873(0x384)]===0x0){_0x31b822[_0x2ce873(0x215)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x31b822[_0x2ce873(0x215)]=extractedFileTopics[_0x2ce873(0x25d)](_0x451216=>_0x2ce873(0x2e1)+_0x451216+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x451216)+_0x2ce873(0x79e)+escape(_0x451216)+_0x2ce873(0x49f))['join']('');}async function generateHybridQuizForTopic(_0x9c19db){const _0xe45226=_0x7550fe,_0x56b13f=parseInt(document[_0xe45226(0xb9f)](_0xe45226(0x678))['value'],0xa),_0x483186=document['getElementById'](_0xe45226(0x3b9))[_0xe45226(0x6b0)],_0x20d04b=document['getElementById'](_0xe45226(0x56c))[_0xe45226(0x6b0)],_0x47e3c3=document[_0xe45226(0xb9f)]('include-images-checkbox')['checked'],_0x456a1a=_0x47e3c3?_0xe45226(0xab4):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x2bf215='',_0x377bee;const _0x16e258={'type':'OBJECT','properties':{'questionText':{'type':_0xe45226(0x9c9)},'options':{'type':_0xe45226(0x5fd),'items':{'type':_0xe45226(0x9c9)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xe45226(0x9c9)},'imageCode':{'type':_0xe45226(0x9c9)}},'required':[_0xe45226(0x653),'options','correctAnswerIndex',_0xe45226(0x9c7)]},_0x1a5824={'type':_0xe45226(0xa05),'properties':{'questionText':{'type':_0xe45226(0x9c9)},'correctAnswer':{'type':_0xe45226(0x97c)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xe45226(0x9c9)}},'required':[_0xe45226(0x653),'correctAnswer','explanation']},_0x5ec6e1={'type':_0xe45226(0xa05),'properties':{'questionText':{'type':_0xe45226(0x9c9)},'idealAnswer':{'type':_0xe45226(0x9c9)},'explanation':{'type':_0xe45226(0x9c9)},'imageCode':{'type':_0xe45226(0x9c9)}},'required':[_0xe45226(0x653),_0xe45226(0xa33),_0xe45226(0x9c7)]},_0x4080f7={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0xe45226(0x370)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xe45226(0x5fd),'items':{'type':_0xe45226(0x9c9)}},'explanation':{'type':_0xe45226(0x9c9)},'imageCode':{'type':'STRING'}},'required':['questionType',_0xe45226(0x4b6),_0xe45226(0xa8d),_0xe45226(0x11a),_0xe45226(0x9c7)]};switch(_0x483186){case _0xe45226(0x81c):_0x2bf215=_0xe45226(0x2e9)+_0x20d04b+_0xe45226(0x771),_0x377bee=_0x16e258;break;case _0xe45226(0x728):_0x2bf215=_0xe45226(0x244),_0x377bee=_0x1a5824;break;case'fill_in_no_choices':_0x2bf215=_0xe45226(0x70e),_0x377bee=_0x5ec6e1;break;case _0xe45226(0x157):_0x2bf215=_0xe45226(0x36b),_0x377bee=_0x4080f7;break;case _0xe45226(0x361):_0x2bf215=_0xe45226(0x73f)+_0x20d04b+'\x20ตัวเลือก)',_0x377bee=_0x16e258;break;default:_0x2bf215=_0xe45226(0x2e9)+_0x20d04b+_0xe45226(0x771),_0x377bee=_0x16e258;break;}const _0x36344c='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x5e6fe8=document[_0xe45226(0xb9f)](_0xe45226(0x8cd)),_0x4a5e68=document['getElementById'](_0xe45226(0x58c)),_0x5f23b6=document[_0xe45226(0xb9f)]('generated-quiz-container');document[_0xe45226(0xb9f)]('quiz-generation-area')[_0xe45226(0x5f6)][_0xe45226(0x309)](_0xe45226(0x3c0)),_0x5f23b6[_0xe45226(0x215)]='',_0x5e6fe8[_0xe45226(0x5f6)][_0xe45226(0x309)](_0xe45226(0x3c0)),_0x4a5e68[_0xe45226(0x33f)]=_0xe45226(0x278)+_0x9c19db+'\x22\x20จำนวน\x20'+_0x56b13f+_0xe45226(0x6c3);try{const _0x3dae7e=_0xe45226(0x28e),_0x140d1d=_0xe45226(0x1fd)+_0x9c19db+_0xe45226(0x2ca)+_0x56b13f+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x9c19db+_0xe45226(0x768)+_0x56b13f+_0xe45226(0x60d)+_0x456a1a+_0xe45226(0xba0)+_0x2bf215+_0xe45226(0x5f8)+_0x36344c+_0xe45226(0x35f)+_0x3dae7e+_0xe45226(0x969)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3c6483={'type':_0xe45226(0xa05),'properties':{'topic':{'type':_0xe45226(0x9c9)},'questions':{'type':_0xe45226(0x5fd),'items':_0x377bee}},'required':['topic','questions']},_0x5d2ffd=[{'text':_0x140d1d},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x5d2ffd,_0xe45226(0x4f0)+_0x9c19db+_0xe45226(0x9ef),_0x3c6483);}catch(_0x2dfe29){console[_0xe45226(0x930)](_0xe45226(0x566),_0x2dfe29),showMessage(_0xe45226(0x773)+_0x2dfe29[_0xe45226(0xa4c)]),_0x5f23b6[_0xe45226(0x215)]=_0xe45226(0xadc);}finally{_0x5e6fe8[_0xe45226(0x5f6)][_0xe45226(0x314)](_0xe45226(0x3c0));}}async function handleGenerateFromFileClick(){const _0x297176=_0x7550fe;if(!selectedFile){showMessage(_0x297176(0x952));return;}const _0x475ca1=document['getElementById'](_0x297176(0x8cd)),_0x2b34f0=document[_0x297176(0xb9f)](_0x297176(0x58c)),_0x4155d6=document[_0x297176(0xb9f)](_0x297176(0x224)),_0x493ae3=document[_0x297176(0xb9f)](_0x297176(0x17f));_0x493ae3[_0x297176(0xa75)]=!![],document[_0x297176(0xb9f)]('quiz-generation-area')[_0x297176(0x5f6)][_0x297176(0x309)](_0x297176(0x3c0)),_0x4155d6['innerHTML']='',_0x475ca1[_0x297176(0x5f6)][_0x297176(0x309)]('hidden'),_0x2b34f0[_0x297176(0x33f)]=_0x297176(0x981);const _0x557a07=new FileReader();_0x557a07['readAsDataURL'](selectedFile),_0x557a07['onload']=async()=>{const _0x3768fa=_0x297176;try{const _0x447c07=_0x557a07[_0x3768fa(0x7e3)][_0x3768fa(0x735)](',')[0x1],_0x45202a=selectedFile[_0x3768fa(0x741)];await generateQuizFromFile(_0x45202a,_0x447c07);}catch(_0xc4adf3){console[_0x3768fa(0x930)]('Error\x20processing\x20file\x20for\x20AI:',_0xc4adf3),showMessage(_0x3768fa(0x74d)+_0xc4adf3['message']),_0x475ca1[_0x3768fa(0x5f6)]['add'](_0x3768fa(0x3c0));}finally{}},_0x557a07[_0x297176(0xb5b)]=_0x3e128b=>{const _0x5e55d1=_0x297176;console[_0x5e55d1(0x930)](_0x5e55d1(0x932),_0x3e128b),showMessage(_0x5e55d1(0x4d0)),_0x475ca1[_0x5e55d1(0x5f6)][_0x5e55d1(0x314)]('hidden'),_0x493ae3[_0x5e55d1(0xa75)]=![];};}function autoFormatMath(_0x51cb5d){const _0x14ef7e=_0x7550fe;if(typeof _0x51cb5d!==_0x14ef7e(0x95b)||!_0x51cb5d)return _0x51cb5d;const _0x5634f0=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x53a213=_0x51cb5d[_0x14ef7e(0x38e)](_0x5634f0,_0x178b47=>{const _0x380174=_0x14ef7e;return'$'+_0x178b47[_0x380174(0x9f3)]()+'$';});return _0x53a213;}function sanitizeQuizData(_0x5ec95f){const _0xe77507=_0x7550fe;if(!_0x5ec95f||!_0x5ec95f[_0xe77507(0x5c2)])return _0x5ec95f;const _0x2023df={'imes':_0xe77507(0x2d6),'div':_0xe77507(0x5f3)},_0x1ceb8c=_0x2059fe=>{const _0x4c530e=_0xe77507;if(typeof _0x2059fe!==_0x4c530e(0x95b))return _0x2059fe;let _0x49b9=_0x2059fe;for(const [_0x558138,_0x6a6ab9]of Object['entries'](_0x2023df)){const _0x5f022e=new RegExp('\x5cb'+_0x558138+'\x5cb','g');_0x49b9=_0x49b9[_0x4c530e(0x38e)](_0x5f022e,_0x6a6ab9);}return _0x49b9=_0x49b9['replace'](/\\\//g,'\x5cdiv'),_0x49b9=_0x49b9[_0x4c530e(0x38e)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4c530e(0x5f3))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x4c530e(0x38e)](/÷/g,_0x4c530e(0x5f3))[_0x4c530e(0x38e)](/×/g,_0x4c530e(0x2d6)),_0x49b9=_0x49b9['replace'](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x49b9=autoFormatMath(_0x49b9),_0x49b9;};return _0x5ec95f['topic']&&(_0x5ec95f[_0xe77507(0xb1c)]=_0x1ceb8c(_0x5ec95f[_0xe77507(0xb1c)])),_0x5ec95f[_0xe77507(0x5c2)][_0xe77507(0x94f)](_0x504958=>{const _0x58390e=_0xe77507;_0x504958[_0x58390e(0x653)]=_0x1ceb8c(_0x504958[_0x58390e(0x653)]),_0x504958[_0x58390e(0xbe2)]&&(_0x504958['options']=_0x504958[_0x58390e(0xbe2)][_0x58390e(0x25d)](_0x1ceb8c)),_0x504958['explanation']&&(_0x504958[_0x58390e(0x9c7)]=_0x1ceb8c(_0x504958['explanation'])),_0x504958[_0x58390e(0x4b6)]&&(_0x504958[_0x58390e(0x4b6)]=_0x1ceb8c(_0x504958[_0x58390e(0x4b6)])),_0x504958[_0x58390e(0xa8d)]&&(_0x504958[_0x58390e(0xa8d)]=_0x1ceb8c(_0x504958[_0x58390e(0xa8d)])),_0x504958[_0x58390e(0x11a)]&&(_0x504958[_0x58390e(0x11a)]=_0x504958[_0x58390e(0x11a)][_0x58390e(0x25d)](_0x1ceb8c));}),_0x5ec95f;}const simpleMathPrompt=_0x7550fe(0x291);async function handleGenerateFromLink(){const _0xdcc0f4=_0x7550fe,_0x38c3f0=document['getElementById'](_0xdcc0f4(0x967)),_0x2d35ad=document[_0xdcc0f4(0xb9f)](_0xdcc0f4(0x546)),_0x56653c=_0x38c3f0['value'][_0xdcc0f4(0x9f3)](),_0x136b69=_0x2d35ad[_0xdcc0f4(0x6b0)][_0xdcc0f4(0x9f3)]();if(!_0x56653c){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0xf1f4bf=document[_0xdcc0f4(0xb9f)](_0xdcc0f4(0x8cd)),_0x7a3201=document['getElementById'](_0xdcc0f4(0x58c)),_0x1d2a02=document[_0xdcc0f4(0xb9f)](_0xdcc0f4(0x224)),_0x4362ef=document[_0xdcc0f4(0xb9f)]('generate-from-link-btn');document[_0xdcc0f4(0xb9f)](_0xdcc0f4(0x177))[_0xdcc0f4(0x5f6)][_0xdcc0f4(0x309)](_0xdcc0f4(0x3c0)),_0x1d2a02[_0xdcc0f4(0x215)]='',_0xf1f4bf[_0xdcc0f4(0x5f6)][_0xdcc0f4(0x309)](_0xdcc0f4(0x3c0)),_0x7a3201['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x4362ef[_0xdcc0f4(0xa75)]=!![];try{const _0x1822a3='https://corsproxy.io/?'+encodeURIComponent(_0x56653c),_0x1a6cc5=await fetch(_0x1822a3);if(!_0x1a6cc5['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x1a6cc5[_0xdcc0f4(0x78a)]+')');const _0x13d062=await _0x1a6cc5[_0xdcc0f4(0x965)](),_0x42ce79=extractTextFromHtml(_0x13d062);if(!_0x42ce79||_0x42ce79['length']<0x64)throw new Error(_0xdcc0f4(0x2b0));await generateQuiz(_0x136b69,_0x42ce79);}catch(_0x220f17){console[_0xdcc0f4(0x930)](_0xdcc0f4(0x3c5),_0x220f17),showMessage('เกิดข้อผิดพลาด:\x20'+_0x220f17['message']),_0x1d2a02[_0xdcc0f4(0x215)]=_0xdcc0f4(0x14c);}finally{_0xf1f4bf[_0xdcc0f4(0x5f6)][_0xdcc0f4(0x314)]('hidden'),_0x4362ef[_0xdcc0f4(0xa75)]=![];}}function extractTextFromHtml(_0x2f0d84){const _0x162e46=_0x7550fe,_0x243df1=new DOMParser()[_0x162e46(0xa65)](_0x2f0d84,_0x162e46(0xb42));return _0x243df1[_0x162e46(0xb3b)](_0x162e46(0x30e))[_0x162e46(0x94f)](_0xfc93bc=>_0xfc93bc[_0x162e46(0x309)]()),_0x243df1[_0x162e46(0x218)][_0x162e46(0x33f)]||'';}document[_0x7550fe(0xb9f)](_0x7550fe(0x74a))[_0x7550fe(0x52b)](_0x7550fe(0x909),()=>{const _0x55ef7a=_0x7550fe,_0x48da5e=document[_0x55ef7a(0xb9f)](_0x55ef7a(0x752))[_0x55ef7a(0x6b0)]['trim']();generateQuiz(_0x48da5e,null);}),document['getElementById'](_0x7550fe(0x4dc))[_0x7550fe(0x52b)](_0x7550fe(0x909),()=>{const _0x2e3a31=_0x7550fe,_0x1d75ef=document['getElementById']('text-content-input')[_0x2e3a31(0x6b0)]['trim']();if(!_0x1d75ef){showMessage(_0x2e3a31(0x759));return;}const _0xdf28f1=document['getElementById'](_0x2e3a31(0x752))[_0x2e3a31(0x6b0)][_0x2e3a31(0x9f3)]();generateQuiz(_0xdf28f1,_0x1d75ef);});async function generateQuiz(_0x38cbc3,_0x41ad4c,_0x382d77=null,_0x26ddb2=null,_0x2daf0e=![],_0x13c420=null,_0x15d3ab=null,_0x2e3a3b=![]){const _0x206b49=_0x7550fe;let _0xe15be4={};if(_0x2daf0e&&blueprintPageSettings)console[_0x206b49(0xbf7)]('Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.'),_0xe15be4=blueprintPageSettings;else{console[_0x206b49(0xbf7)](_0x206b49(0xb60));const _0x509482=document[_0x206b49(0xb3b)](_0x206b49(0x4b8));_0xe15be4={'quizType':document[_0x206b49(0xb9f)](_0x206b49(0x3b9))[_0x206b49(0x6b0)],'numQuestions':document[_0x206b49(0xb9f)]('num-questions')[_0x206b49(0x6b0)],'numChoices':document[_0x206b49(0xb9f)]('num-choices')[_0x206b49(0x6b0)],'includeImages':document['getElementById'](_0x206b49(0x552))[_0x206b49(0x20e)],'isNormalTopic':document[_0x206b49(0xb9f)](_0x206b49(0xa82))[_0x206b49(0x20e)],'difficultyValue':document['getElementById'](_0x206b49(0x541))[_0x206b49(0x6b0)],'complexityValue':document[_0x206b49(0xb9f)](_0x206b49(0x2a7))[_0x206b49(0x6b0)],'selectedTopicNames':Array[_0x206b49(0x850)](_0x509482)[_0x206b49(0x25d)](_0x2ef5bf=>_0x2ef5bf['value'])};}const _0x116d85=_0xe15be4[_0x206b49(0x7f4)]?'':_0x206b49(0x5ba),_0x5b4c5f=_0xe15be4[_0x206b49(0x627)]!==_0x206b49(0x342)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0xe15be4[_0x206b49(0x627)]+'\x22':'',_0x58ff6b=_0xe15be4[_0x206b49(0x71d)]!==_0x206b49(0x3f4)?_0x206b49(0x83b)+_0xe15be4['complexityValue']+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x103766='';_0xe15be4[_0x206b49(0x933)]&&_0xe15be4['selectedTopicNames'][_0x206b49(0x384)]>0x0&&(_0x103766=_0x206b49(0x461)+_0xe15be4[_0x206b49(0x933)][_0x206b49(0x7fa)](',\x20')+'.');let _0x1e7088='';_0x26ddb2&&(_0x1e7088=_0x206b49(0x710));let _0x4b94fd='',_0xf2a69='',_0x46bf4b,_0x5609b8='เกี่ยวกับหัวข้อ\x20\x22'+_0x38cbc3+'\x22';if(!_0x38cbc3&&_0x41ad4c)_0x5609b8=_0x206b49(0x6d7);else!_0x38cbc3&&!_0x41ad4c&&(_0x5609b8=_0x206b49(0x433));const _0x2b651b={'type':'OBJECT','properties':{'questionText':{'type':_0x206b49(0x9c9)},'options':{'type':_0x206b49(0x5fd),'items':{'type':_0x206b49(0x9c9)}},'correctAnswerIndex':{'type':_0x206b49(0x234)},'explanation':{'type':_0x206b49(0x9c9)},'imageCode':{'type':_0x206b49(0x9c9)}},'required':[_0x206b49(0x653),_0x206b49(0xbe2),_0x206b49(0x30b),_0x206b49(0x9c7)]},_0x4ed29c={'type':_0x206b49(0xa05),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x206b49(0x9c9)},'explanation':{'type':_0x206b49(0x9c9)},'imageCode':{'type':'STRING'}},'required':[_0x206b49(0x653),'idealAnswer',_0x206b49(0x9c7)]},_0x26842f={'type':_0x206b49(0xa05),'properties':{'questionText':{'type':_0x206b49(0x9c9)},'questionType':{'type':_0x206b49(0x9c9),'enum':['multiple_choice',_0x206b49(0xaf9)]},'options':{'type':_0x206b49(0x5fd),'items':{'type':_0x206b49(0x9c9)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x206b49(0x9c9)},'explanation':{'type':_0x206b49(0x9c9)},'imageCode':{'type':_0x206b49(0x9c9)}},'required':[_0x206b49(0x653),'questionType',_0x206b49(0x9c7)]},_0x12cf6e={'type':_0x206b49(0xa05),'properties':{'questionText':{'type':_0x206b49(0x9c9)},'correctAnswer':{'type':_0x206b49(0x97c)},'explanation':{'type':_0x206b49(0x9c9)},'imageCode':{'type':'STRING'}},'required':[_0x206b49(0x653),_0x206b49(0x9f8),_0x206b49(0x9c7)]},_0x532a35={'type':_0x206b49(0xa05),'properties':{'questionType':{'type':_0x206b49(0x9c9),'enum':[_0x206b49(0x370)]},'stem':{'type':_0x206b49(0x9c9)},'correctResponse':{'type':_0x206b49(0x9c9)},'allResponses':{'type':_0x206b49(0x5fd),'items':{'type':_0x206b49(0x9c9)}},'explanation':{'type':_0x206b49(0x9c9)},'imageCode':{'type':_0x206b49(0x9c9)}},'required':[_0x206b49(0x92a),_0x206b49(0x4b6),'correctResponse',_0x206b49(0x11a),_0x206b49(0x9c7)]};let _0x277af5;if(_0x382d77!==null){const _0x355c16=currentQuizData[_0x206b49(0x5c2)][_0x382d77][_0x206b49(0x92a)],_0x45fd86=_0xe15be4['includeImages']?_0x206b49(0xb2d):'';_0x4b94fd=_0x206b49(0x636)+_0x5609b8+'\x20'+_0x103766+'\x20'+_0x5b4c5f+_0x206b49(0x23d)+_0x45fd86+'\x20'+simpleMathPrompt;if(_0x355c16===_0x206b49(0x81c))_0x46bf4b=_0x2b651b;else{if(_0x355c16===_0x206b49(0x370))_0x46bf4b={'type':_0x206b49(0xa05),'properties':{'questionType':{'type':_0x206b49(0x9c9),'enum':[_0x206b49(0x370)]},'stem':{'type':_0x206b49(0x9c9)},'correctResponse':{'type':_0x206b49(0x9c9)},'explanation':{'type':_0x206b49(0x9c9)},'imageCode':{'type':_0x206b49(0x9c9)}},'required':[_0x206b49(0x92a),_0x206b49(0x4b6),_0x206b49(0xa8d),_0x206b49(0x9c7)]};else _0x46bf4b=_0x4ed29c;}_0x277af5=_0x46bf4b;}else{const _0xd7f796=_0xe15be4[_0x206b49(0x301)]?_0x206b49(0x5df):'';switch(_0xe15be4[_0x206b49(0x874)]){case _0x206b49(0x81c):_0x4b94fd='สร้างแบบทดสอบปรนัย'+_0x116d85+'\x20'+_0xe15be4['numQuestions']+_0x206b49(0xa91)+_0x5609b8+'\x20'+_0x103766+'\x20'+_0x5b4c5f+'\x20'+_0x58ff6b+'\x20'+_0x1e7088+'.\x20แต่ละข้อมี\x20'+_0xe15be4[_0x206b49(0x97d)]+_0x206b49(0x550)+_0xd7f796+'\x20'+simpleMathPrompt,_0x46bf4b=_0x2b651b;break;case _0x206b49(0x361):_0x4b94fd=_0x206b49(0x90a)+_0x116d85+'\x20'+_0xe15be4[_0x206b49(0x121)]+'\x20ข้อ\x20'+_0x5609b8+'\x20'+_0x103766+'\x20'+_0x5b4c5f+'\x20'+_0x58ff6b+'\x20'+_0x1e7088+_0x206b49(0x69c)+_0xe15be4[_0x206b49(0x97d)]+_0x206b49(0xb98)+_0xd7f796+'\x20'+simpleMathPrompt,_0x46bf4b=_0x2b651b;break;case _0x206b49(0xa9f):_0x4b94fd='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x116d85+'\x20'+_0xe15be4[_0x206b49(0x121)]+_0x206b49(0xa91)+_0x5609b8+'\x20'+_0x103766+'\x20'+_0x5b4c5f+'\x20'+_0x58ff6b+'\x20'+_0x1e7088+_0x206b49(0x17e)+_0xd7f796+'\x20'+simpleMathPrompt,_0x46bf4b=_0x4ed29c;break;case _0x206b49(0x3f4):_0x4b94fd=_0x206b49(0x366)+_0x116d85+'\x20'+_0xe15be4[_0x206b49(0x121)]+_0x206b49(0xa91)+_0x5609b8+'\x20'+_0x103766+'\x20'+_0x5b4c5f+'\x20'+_0x58ff6b+'\x20'+_0x1e7088+_0x206b49(0xb62)+_0xe15be4['numChoices']+_0x206b49(0x400)+_0xd7f796+'\x20'+simpleMathPrompt+'.',_0x46bf4b=_0x26842f;break;case'true_false':_0x4b94fd=_0x206b49(0x662)+_0x116d85+'\x20'+_0xe15be4[_0x206b49(0x121)]+_0x206b49(0xa91)+_0x5609b8+'\x20'+_0x103766+'\x20'+_0x5b4c5f+'\x20'+_0x58ff6b+'\x20'+_0x1e7088+_0x206b49(0x67a)+_0xd7f796+'\x20'+simpleMathPrompt,_0x46bf4b=_0x12cf6e;break;case'matching':_0x4b94fd='สร้างชุดคำถามจับคู่'+_0x116d85+'\x20'+_0xe15be4[_0x206b49(0x121)]+'\x20คู่\x20'+_0x5609b8+'\x20'+_0x103766+'\x20'+_0x5b4c5f+'\x20'+_0x58ff6b+'\x20'+_0x1e7088+_0x206b49(0xa0c)+_0xd7f796+'\x20'+simpleMathPrompt,_0x46bf4b=_0x532a35;break;}_0x277af5={'type':_0x206b49(0xa05),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x206b49(0x5fd),'items':_0x46bf4b}},'required':[_0x206b49(0xb1c),_0x206b49(0x5c2)]};}const _0x27a149=_0x206b49(0x9c8);_0x41ad4c?(_0x2e3a3b?_0x4b94fd=_0x206b49(0x4ff)+_0x41ad4c+_0x206b49(0x1de)+_0x4b94fd+_0x27a149:_0x4b94fd='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x41ad4c+_0x206b49(0x1de)+_0x4b94fd,_0xf2a69=_0x206b49(0x313)):(_0x2e3a3b&&(_0x4b94fd+=_0x27a149),_0xf2a69=_0x206b49(0x7ce));let _0x3bcae1;return _0x26ddb2?_0x3bcae1=[{'text':_0x4b94fd},..._0x26ddb2]:_0x3bcae1=_0x4b94fd,handleApiCall(_0x3bcae1,_0xf2a69,_0x277af5,_0x382d77,!![],_0x13c420,_0x15d3ab);}async function generateQuizFromFile(_0x39bc7b,_0x3dd518){const _0x24b005=_0x7550fe,_0x29ee9a=document[_0x24b005(0xb9f)](_0x24b005(0x7da))[_0x24b005(0x6b0)][_0x24b005(0x9f3)](),_0x3af563=document[_0x24b005(0xb9f)](_0x24b005(0x3b9))[_0x24b005(0x6b0)],_0x31a0c0=document[_0x24b005(0xb9f)]('num-questions')[_0x24b005(0x6b0)],_0x51ffb1=document['getElementById']('num-choices')[_0x24b005(0x6b0)],_0x5a9705=document['getElementById'](_0x24b005(0x552))[_0x24b005(0x20e)],_0x580519=document[_0x24b005(0xb9f)]('force-math-checkbox')[_0x24b005(0x20e)],_0x350c84=_0x580519?'':'คณิตศาสตร์',_0x17b231=document[_0x24b005(0xb9f)](_0x24b005(0x368))[_0x24b005(0x20e)];let _0x408426='',_0x1f7339;const _0x51b938=_0x5a9705?_0x24b005(0x5df):'';if(_0x17b231)_0x408426='\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20'+_0x51b938+'\x0a\x20\x20\x20\x20'+simpleMathPrompt+'\x0a',_0x1f7339={'type':_0x24b005(0xa05),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x24b005(0x9c9),'enum':['multiple_choice',_0x24b005(0xaf9),'true_false',_0x24b005(0x370)]},'options':{'type':_0x24b005(0x5fd),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x24b005(0x234)},'idealAnswer':{'type':_0x24b005(0x9c9)},'correctAnswer':{'type':_0x24b005(0x97c)},'stem':{'type':_0x24b005(0x9c9)},'correctResponse':{'type':_0x24b005(0x9c9)},'allResponses':{'type':_0x24b005(0x5fd),'items':{'type':_0x24b005(0x9c9)}},'explanation':{'type':_0x24b005(0x9c9)},'imageCode':{'type':_0x24b005(0x9c9)}},'required':['questionType',_0x24b005(0x9c7)]};else{let _0x409b40=_0x24b005(0x739)+_0x29ee9a+'\x22';!_0x29ee9a&&(_0x409b40=_0x24b005(0x1ed));switch(_0x3af563){case'multiple_choice':_0x408426=_0x24b005(0x219)+_0x350c84+'\x20'+_0x31a0c0+_0x24b005(0xa91)+_0x409b40+_0x24b005(0x98f)+_0x51ffb1+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x51b938+'\x20'+simpleMathPrompt,_0x1f7339={'type':_0x24b005(0xa05),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x24b005(0x5fd),'items':{'type':_0x24b005(0x9c9)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x24b005(0x9c9)},'imageCode':{'type':_0x24b005(0x9c9)}},'required':[_0x24b005(0x653),_0x24b005(0xbe2),'correctAnswerIndex',_0x24b005(0x9c7)]};break;case'fill_in_with_choices':_0x408426='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x350c84+'\x20'+_0x31a0c0+_0x24b005(0xa91)+_0x409b40+_0x24b005(0x69c)+_0x51ffb1+_0x24b005(0xb98)+_0x51b938+'\x20'+simpleMathPrompt,_0x1f7339={'type':_0x24b005(0xa05),'properties':{'questionText':{'type':_0x24b005(0x9c9)},'options':{'type':_0x24b005(0x5fd),'items':{'type':_0x24b005(0x9c9)}},'correctAnswerIndex':{'type':_0x24b005(0x234)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x24b005(0x9c9)}},'required':[_0x24b005(0x653),_0x24b005(0xbe2),_0x24b005(0x30b),_0x24b005(0x9c7)]};break;case _0x24b005(0xa9f):_0x408426=_0x24b005(0x90a)+_0x350c84+'\x20'+_0x31a0c0+_0x24b005(0xa91)+_0x409b40+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x51b938+'\x20'+simpleMathPrompt,_0x1f7339={'type':'OBJECT','properties':{'questionText':{'type':_0x24b005(0x9c9)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x24b005(0x9c9)}},'required':['questionText',_0x24b005(0xa33),_0x24b005(0x9c7)]};break;case _0x24b005(0x3f4):_0x408426=_0x24b005(0x366)+_0x350c84+'\x20'+_0x31a0c0+_0x24b005(0xa91)+_0x409b40+_0x24b005(0x514)+_0x51ffb1+'\x20ตัวเลือก.\x20'+_0x51b938+'\x20'+simpleMathPrompt+_0x24b005(0x7c9),_0x1f7339={'type':_0x24b005(0xa05),'properties':{'questionText':{'type':_0x24b005(0x9c9)},'questionType':{'type':_0x24b005(0x9c9),'enum':[_0x24b005(0x81c),_0x24b005(0xaf9)]},'options':{'type':'ARRAY','items':{'type':_0x24b005(0x9c9)}},'correctAnswerIndex':{'type':_0x24b005(0x234)},'idealAnswer':{'type':_0x24b005(0x9c9)},'explanation':{'type':_0x24b005(0x9c9)},'imageCode':{'type':_0x24b005(0x9c9)}},'required':[_0x24b005(0x653),_0x24b005(0x92a),_0x24b005(0x9c7)]};break;case _0x24b005(0x728):_0x408426=_0x24b005(0x662)+_0x350c84+'\x20'+_0x31a0c0+'\x20ข้อ\x20'+_0x409b40+_0x24b005(0x674)+_0x51b938+'\x20'+simpleMathPrompt,_0x1f7339={'type':'OBJECT','properties':{'questionText':{'type':_0x24b005(0x9c9)},'correctAnswer':{'type':_0x24b005(0x97c)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x24b005(0x9c9)}},'required':['questionText',_0x24b005(0x9f8),_0x24b005(0x9c7)]};break;case'matching':_0x408426=_0x24b005(0x905)+_0x350c84+'\x20'+_0x31a0c0+_0x24b005(0x998)+_0x409b40+_0x24b005(0xac2)+_0x31a0c0+_0x24b005(0x96e)+_0x51b938+'\x20'+simpleMathPrompt,_0x1f7339={'type':_0x24b005(0xa05),'properties':{'questionType':{'type':_0x24b005(0x9c9),'enum':[_0x24b005(0x370)]},'stem':{'type':_0x24b005(0x9c9)},'correctResponse':{'type':_0x24b005(0x9c9)},'allResponses':{'type':_0x24b005(0x5fd),'items':{'type':_0x24b005(0x9c9)}},'explanation':{'type':_0x24b005(0x9c9)},'imageCode':{'type':_0x24b005(0x9c9)}},'required':[_0x24b005(0x92a),_0x24b005(0x4b6),_0x24b005(0xa8d),_0x24b005(0x11a),_0x24b005(0x9c7)]};break;}}const _0x215f02={'type':'OBJECT','properties':{'topic':{'type':_0x24b005(0x9c9)},'questions':{'type':_0x24b005(0x5fd),'items':_0x1f7339}},'required':['topic',_0x24b005(0x5c2)]},_0x502835=_0x24b005(0x306)+_0x408426,_0x183881={'contents':[{'parts':[{'text':_0x502835},{'inlineData':{'mimeType':_0x39bc7b,'data':_0x3dd518}}]}],'generationConfig':{'responseMimeType':_0x24b005(0x9dc),'responseSchema':_0x215f02}};return handleApiCall(_0x183881[_0x24b005(0x3bd)][0x0]['parts'],_0x24b005(0x23a),_0x215f02);}async function handleApiCall(_0x4c3000,_0x7e142,_0x5d5cd9,_0x36e548=null,_0x545d76=!![],_0x263a10=null,_0x1090b2=null){const _0x7d8b1b=_0x7550fe,_0x4da3a7=document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x177)),_0x8cb0a5=document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x8cd)),_0x111389=document[_0x7d8b1b(0xb9f)]('loader-text'),_0xda77a=document['getElementById'](_0x7d8b1b(0x224));_0x4da3a7['classList'][_0x7d8b1b(0x309)]('hidden');_0x36e548===null&&_0x545d76&&(_0xda77a['innerHTML']='');_0x8cb0a5['classList'][_0x7d8b1b(0x309)](_0x7d8b1b(0x3c0)),_0x111389[_0x7d8b1b(0x33f)]=_0x7e142,document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x74a))['disabled']=!![],document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x4dc))[_0x7d8b1b(0xa75)]=!![],document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x8d6))['disabled']=!![];const _0x40eace=document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x17f));if(_0x40eace)_0x40eace[_0x7d8b1b(0xa75)]=!![];const _0x4ad1ce=document['getElementById'](_0x7d8b1b(0x686));if(_0x4ad1ce)_0x4ad1ce['disabled']=!![];const _0x131d44=document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0xbde));if(_0x131d44)_0x131d44[_0x7d8b1b(0xa75)]=!![];try{const _0x1af077={'responseMimeType':_0x7d8b1b(0x9dc),'responseSchema':_0x5d5cd9},_0xc28322=Array[_0x7d8b1b(0x380)](_0x4c3000)?_0x4c3000:[{'text':_0x4c3000}],_0x234efc={'contents':[{'role':'user','parts':_0xc28322}],'generationConfig':_0x1af077},_0x3bad57='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x2794cf=_0x7d8b1b(0xb2c)+_0x3bad57,_0x149b9e=await fetch(_0x2794cf,{'method':_0x7d8b1b(0xa1e),'headers':{'Content-Type':_0x7d8b1b(0x9dc)},'body':JSON[_0x7d8b1b(0x356)](_0x234efc)});if(!_0x149b9e['ok']){const _0x3749ac=await _0x149b9e[_0x7d8b1b(0x965)]();console[_0x7d8b1b(0x930)]('API\x20Error\x20Response:',_0x3749ac);throw new Error(_0x7d8b1b(0x1d1)+_0x149b9e[_0x7d8b1b(0x78a)]);}const _0x5fc858=await _0x149b9e[_0x7d8b1b(0x21c)]();if(_0x5fc858['candidates']?.[0x0]?.['content']?.[_0x7d8b1b(0xbef)]?.[0x0]){let _0x367bd8=_0x5fc858[_0x7d8b1b(0x6ef)][0x0][_0x7d8b1b(0x403)]['parts'][0x0][_0x7d8b1b(0x965)];if(_0x367bd8[_0x7d8b1b(0x85c)](_0x7d8b1b(0x96d)))_0x367bd8=_0x367bd8[_0x7d8b1b(0x12c)](0x7,_0x367bd8['length']-0x3)['trim']();else _0x367bd8[_0x7d8b1b(0x85c)](_0x7d8b1b(0x742))&&(_0x367bd8=_0x367bd8['substring'](0x3,_0x367bd8[_0x7d8b1b(0x384)]-0x3)[_0x7d8b1b(0x9f3)]());let _0x956e23=JSON[_0x7d8b1b(0x59b)](_0x367bd8);if(_0x545d76){if(_0x36e548!==null){if(_0x956e23['questionType']==='matching_item'){const _0x62a364=currentQuizData[_0x7d8b1b(0x5c2)][_0x7d8b1b(0x25d)](_0x51ff80=>_0x51ff80[_0x7d8b1b(0xa8d)]);_0x956e23[_0x7d8b1b(0x11a)]=_0x62a364;const _0x9e6443=currentQuizData[_0x7d8b1b(0x5c2)][_0x36e548]['correctResponse'],_0x5e1471=_0x62a364['indexOf'](_0x9e6443);_0x5e1471>-0x1&&(_0x62a364[_0x5e1471]=_0x956e23[_0x7d8b1b(0xa8d)]),currentQuizData[_0x7d8b1b(0x5c2)][_0x7d8b1b(0x94f)](_0x70d455=>{const _0x37221c=_0x7d8b1b;if(_0x70d455['questionType']===_0x37221c(0x370))_0x70d455['allResponses']=_0x62a364;});}currentQuizData[_0x7d8b1b(0x5c2)][_0x36e548]=_0x956e23,displayGeneratedQuiz(currentQuizData,_0x263a10,_0x1090b2);}else{currentQuizData=_0x956e23;const _0x1b1c59=document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x3b9))[_0x7d8b1b(0x6b0)];currentQuizData[_0x7d8b1b(0x874)]=_0x1b1c59,currentQuizData[_0x7d8b1b(0x5c2)]&&currentQuizData[_0x7d8b1b(0x5c2)]['forEach'](_0x5152c8=>{const _0x33dadc=_0x7d8b1b;if(!_0x5152c8[_0x33dadc(0x92a)]){if(_0x1b1c59===_0x33dadc(0x361))_0x5152c8[_0x33dadc(0x92a)]=_0x33dadc(0x81c);else{if(_0x1b1c59==='fill_in_no_choices')_0x5152c8[_0x33dadc(0x92a)]=_0x33dadc(0xaf9);else _0x5152c8['questionType']=_0x1b1c59;}}}),displayGeneratedQuiz(currentQuizData,_0x263a10,_0x1090b2);}}return _0x956e23;}else{let _0x5e5dbb=_0x7d8b1b(0xa59);if(_0x5fc858[_0x7d8b1b(0x1d5)]?.[_0x7d8b1b(0x7eb)])_0x5e5dbb='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x5fc858[_0x7d8b1b(0x1d5)][_0x7d8b1b(0x7eb)]+'.';else _0x5fc858[_0x7d8b1b(0x6ef)]?.[0x0]?.[_0x7d8b1b(0x7d4)]&&_0x5fc858[_0x7d8b1b(0x6ef)][0x0][_0x7d8b1b(0x7d4)]!=='STOP'&&(_0x5e5dbb=_0x7d8b1b(0x1cc)+_0x5fc858[_0x7d8b1b(0x6ef)][0x0][_0x7d8b1b(0x7d4)]+'.');console[_0x7d8b1b(0x930)](_0x5e5dbb,JSON['stringify'](_0x5fc858));throw new Error(_0x5e5dbb);}}catch(_0x44b805){console[_0x7d8b1b(0x930)](_0x7d8b1b(0x425),_0x44b805),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20'+_0x44b805['message']);_0x36e548===null&&_0x545d76&&(_0xda77a[_0x7d8b1b(0x215)]=_0x7d8b1b(0xadc));throw _0x44b805;}finally{_0x8cb0a5['classList'][_0x7d8b1b(0x314)](_0x7d8b1b(0x3c0)),document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x74a))[_0x7d8b1b(0xa75)]=![],document[_0x7d8b1b(0xb9f)]('generate-from-text-btn')[_0x7d8b1b(0xa75)]=![],document[_0x7d8b1b(0xb9f)](_0x7d8b1b(0x8d6))[_0x7d8b1b(0xa75)]=![];if(_0x40eace)_0x40eace[_0x7d8b1b(0xa75)]=![];if(_0x4ad1ce)_0x4ad1ce[_0x7d8b1b(0xa75)]=![];if(_0x131d44)_0x131d44[_0x7d8b1b(0xa75)]=![];}}function exitFullscreen(){const _0x384f36=_0x7550fe;if(document[_0x384f36(0xa0f)])document['exitFullscreen']()['catch'](_0x45b18a=>console[_0x384f36(0x930)](_0x45b18a));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document[_0x384f36(0x53f)]();}}function enterFullscreen(){const _0x268bf1=_0x7550fe,_0x248214=document[_0x268bf1(0x614)];if(_0x248214['requestFullscreen'])_0x248214['requestFullscreen']()[_0x268bf1(0x45b)](_0xc7825a=>{const _0x334210=_0x268bf1;console[_0x334210(0x930)](_0x334210(0x407)+_0xc7825a[_0x334210(0xa4c)]+'\x20('+_0xc7825a[_0x334210(0x47f)]+')');});else{if(_0x248214[_0x268bf1(0x76a)])_0x248214[_0x268bf1(0x76a)]();else _0x248214[_0x268bf1(0x621)]&&_0x248214[_0x268bf1(0x621)]();}}function handleCheatingEvent(){const _0x59a475=_0x7550fe;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x59a475(0x89b),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x59a475(0xb9f)](_0x59a475(0x989))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x59a475(0x1fa),handleVisibilityChange),document[_0x59a475(0xb5f)](_0x59a475(0x1fb),handleFullscreenChange)):showMessage(_0x59a475(0x348)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4d47e4=_0x7550fe;if(currentMode===_0x4d47e4(0x311)||!isQuizActive)return;if(document[_0x4d47e4(0x3e0)]===_0x4d47e4(0x3c0))handleCheatingEvent();else document[_0x4d47e4(0x3e0)]===_0x4d47e4(0x894)&&(console['log'](_0x4d47e4(0x815)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x450fd9=_0x7550fe;if(currentMode===_0x450fd9(0x311)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x3cf7ee,_0x33196c=null,_0x4bdb88=null){const _0x3bb3c6=_0x7550fe,_0x925812=document[_0x3bb3c6(0xb9f)]('generated-quiz-container');let _0x1b94be=_0x3bb3c6(0x7ff)+_0x3cf7ee[_0x3bb3c6(0xb1c)]+_0x3bb3c6(0x386);_0x3cf7ee['questions']['forEach']((_0x7ff83a,_0xe0365c)=>{const _0x4a1918=_0x3bb3c6;!_0x7ff83a['id']&&(_0x7ff83a['id']='q_'+Date[_0x4a1918(0x711)]()+'_'+_0xe0365c);const _0x5e985f=_0x7ff83a[_0x4a1918(0x92a)]||_0x3cf7ee[_0x4a1918(0x874)];_0x1b94be+=_0x4a1918(0x283)+_0xe0365c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xe0365c+_0x4a1918(0x5f7)+_0xe0365c+_0x4a1918(0x617);switch(_0x5e985f){case'matching_item':_0x1b94be+=_0x4a1918(0x5dd)+_0xe0365c+'\x22>'+(_0xe0365c+0x1)+'.\x20'+_0x7ff83a['stem']+_0x4a1918(0x658);_0x7ff83a[_0x4a1918(0xa0a)]&&(_0x1b94be+='<div\x20id=\x22q-image-container-'+_0xe0365c+_0x4a1918(0x786)+_0x7ff83a[_0x4a1918(0xa0a)]+_0x4a1918(0xa2b));_0x1b94be+=_0x4a1918(0x303)+_0xe0365c+'\x22>'+_0x7ff83a[_0x4a1918(0xa8d)]+_0x4a1918(0x3fc),_0x1b94be+=_0x4a1918(0x924)+_0xe0365c+'\x22>'+_0x7ff83a['explanation']+_0x4a1918(0x3fc);break;case _0x4a1918(0xaf9):_0x1b94be+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xe0365c+'\x22>'+(_0xe0365c+0x1)+'.\x20'+_0x7ff83a[_0x4a1918(0x653)]+'</p>';_0x7ff83a['imageCode']&&(_0x1b94be+=_0x4a1918(0x8de)+_0xe0365c+_0x4a1918(0x786)+_0x7ff83a['imageCode']+'</div>');_0x1b94be+=_0x4a1918(0x33c)+_0xe0365c+'\x22>'+_0x7ff83a[_0x4a1918(0xa33)]+'</span></div>',_0x1b94be+=_0x4a1918(0x924)+_0xe0365c+'\x22>'+_0x7ff83a[_0x4a1918(0x9c7)]+'</span></div>';break;case'true_false':_0x1b94be+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xe0365c+'\x22>'+(_0xe0365c+0x1)+'.\x20'+_0x7ff83a[_0x4a1918(0x653)]+'</p>';_0x7ff83a[_0x4a1918(0xa0a)]&&(_0x1b94be+=_0x4a1918(0x8de)+_0xe0365c+_0x4a1918(0x786)+_0x7ff83a[_0x4a1918(0xa0a)]+_0x4a1918(0xa2b));_0x1b94be+=_0x4a1918(0x92c)+(_0x7ff83a[_0x4a1918(0x9f8)]===!![]?_0x4a1918(0xa48):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x7ff83a[_0x4a1918(0x9f8)]===![]?_0x4a1918(0xa48):'')+_0x4a1918(0x6c7),_0x1b94be+=_0x4a1918(0x924)+_0xe0365c+'\x22>'+_0x7ff83a[_0x4a1918(0x9c7)]+'</span></div>';break;case _0x4a1918(0x399):case _0x4a1918(0x81c):default:_0x1b94be+=_0x4a1918(0x5dd)+_0xe0365c+'\x22>'+(_0xe0365c+0x1)+'.\x20'+_0x7ff83a[_0x4a1918(0x653)]+_0x4a1918(0x658);_0x7ff83a['imageCode']&&(_0x1b94be+=_0x4a1918(0x8de)+_0xe0365c+_0x4a1918(0x786)+_0x7ff83a[_0x4a1918(0xa0a)]+_0x4a1918(0xa2b));_0x1b94be+=_0x4a1918(0x487)+_0xe0365c+_0x4a1918(0xb55)+(_0x7ff83a[_0x4a1918(0xbe2)]||[])[_0x4a1918(0x25d)]((_0x2bc524,_0x29a738)=>_0x4a1918(0x661)+(_0x29a738===_0x7ff83a[_0x4a1918(0x30b)]?_0x4a1918(0xa48):'')+'\x22>'+_0x2bc524+_0x4a1918(0x30d))[_0x4a1918(0x7fa)]('')+_0x4a1918(0x77e),_0x1b94be+=_0x4a1918(0x924)+_0xe0365c+'\x22>'+_0x7ff83a[_0x4a1918(0x9c7)]+_0x4a1918(0x3fc);break;}_0x1b94be+=_0x4a1918(0xa2b);}),_0x1b94be+=_0x3bb3c6(0x39a),_0x925812[_0x3bb3c6(0x215)]=_0x1b94be,document['querySelectorAll']('.edit-question-btn')[_0x3bb3c6(0x94f)](_0x2c065c=>_0x2c065c[_0x3bb3c6(0x52b)](_0x3bb3c6(0x909),handleEditQuestion)),document[_0x3bb3c6(0xb3b)](_0x3bb3c6(0x91e))[_0x3bb3c6(0x94f)](_0x181a0f=>_0x181a0f[_0x3bb3c6(0x52b)](_0x3bb3c6(0x909),handleRegenerateQuestion)),document[_0x3bb3c6(0xb9f)](_0x3bb3c6(0xa24))[_0x3bb3c6(0x52b)]('click',exportQuizAsWorksheetPDF),document['getElementById'](_0x3bb3c6(0xb82))[_0x3bb3c6(0x52b)]('click',handleVerifyAnswers);const _0x1daf25=document[_0x3bb3c6(0xb9f)](_0x3bb3c6(0xb47));if(_0x1daf25){const _0x2a6375=_0x33196c||currentProjectId;_0x1daf25[_0x3bb3c6(0x52b)]('click',()=>saveQuiz(_0x2a6375,_0x4bdb88));}if(window[_0x3bb3c6(0xa27)])window[_0x3bb3c6(0xa27)]['typesetPromise']([_0x925812]);}function handleRegenerateQuestion(_0x15e0ba){const _0x3ea7d6=_0x7550fe,_0x46e28a=_0x15e0ba[_0x3ea7d6(0xa73)]['dataset'][_0x3ea7d6(0x60c)],_0x5e900e=currentQuizData[_0x3ea7d6(0xb1c)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x46e28a)+0x1)+_0x3ea7d6(0x17b)),generateQuiz(_0x5e900e,null,parseInt(_0x46e28a));}function getPointerPosition(_0x33649d,_0x501d86){const _0x2a44af=_0x7550fe,_0xe531c1=_0x33649d[_0x2a44af(0xb1d)]();let _0x448d2a,_0x774814;return _0x501d86['touches']&&_0x501d86['touches'][_0x2a44af(0x384)]>0x0?(_0x448d2a=_0x501d86['touches'][0x0][_0x2a44af(0xa83)],_0x774814=_0x501d86['touches'][0x0][_0x2a44af(0x328)]):(_0x448d2a=_0x501d86[_0x2a44af(0xa83)],_0x774814=_0x501d86['clientY']),{'x':(_0x448d2a-_0xe531c1['e'])/_0xe531c1['a'],'y':(_0x774814-_0xe531c1['f'])/_0xe531c1['d']};}function startDrag(_0xa244d7){const _0x1c53d5=_0x7550fe;_0xa244d7[_0x1c53d5(0x741)]==='touchstart'&&_0xa244d7['preventDefault']();const _0x3b98ec=_0xa244d7['target'][_0x1c53d5(0x849)](_0x1c53d5(0x6e2));if(_0x3b98ec){draggedSvgElement=_0x3b98ec;const _0x58d29b=draggedSvgElement[_0x1c53d5(0x45e)],_0x227165=getPointerPosition(_0x58d29b,_0xa244d7);svgOffset['x']=_0x227165['x']-parseFloat(draggedSvgElement[_0x1c53d5(0x4af)](null,'x')),svgOffset['y']=_0x227165['y']-parseFloat(draggedSvgElement[_0x1c53d5(0x4af)](null,'y'));}}function calculateItemAnalysis(_0x302067,_0x55d051){const _0x26a753=_0x7550fe,_0x3bb2de={};if(_0x55d051[_0x26a753(0x384)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x58704a=[..._0x55d051][_0x26a753(0xa30)]((_0x4876fb,_0x3c2bc2)=>{const _0x1e537a=_0x26a753,_0x8d70c0=_0x3c2bc2[_0x1e537a(0xb08)]-_0x4876fb[_0x1e537a(0xb08)];if(_0x8d70c0!==0x0)return _0x8d70c0;const _0x47eca6=_0x4876fb[_0x1e537a(0x9ba)]?.[_0x1e537a(0x384)]||0x1,_0x1c7023=_0x3c2bc2['attempts']?.[_0x1e537a(0x384)]||0x1,_0x2fc1ad=_0x47eca6-_0x1c7023;if(_0x2fc1ad!==0x0)return _0x2fc1ad;const _0x2757e0=new Date(_0x4876fb[_0x1e537a(0x8a7)]),_0x3e35f4=new Date(_0x3c2bc2['latestSubmittedAt']),_0x5c23bc=_0x2757e0-_0x3e35f4;if(_0x5c23bc!==0x0)return _0x5c23bc;return _0x4876fb['studentName'][_0x1e537a(0x45d)](_0x3c2bc2[_0x1e537a(0x884)],'th');}),_0x2818a5=_0x58704a[_0x26a753(0x384)],_0x5718cb=Math['max'](0x1,Math[_0x26a753(0xa02)](_0x2818a5*0.33));if(_0x5718cb===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x86ff1b=_0x58704a['slice'](0x0,_0x5718cb),_0x1ce97b=_0x58704a['slice'](-_0x5718cb),_0x1c946d=_0x86ff1b[_0x26a753(0x25d)](_0x4c1f03=>_0x4c1f03['studentName']),_0x2df1ab=_0x1ce97b['map'](_0x740f79=>_0x740f79[_0x26a753(0x884)]);return _0x302067[_0x26a753(0x5c2)][_0x26a753(0x94f)]((_0x4abcca,_0x2160dc)=>{const _0xeb010f=_0x26a753,_0x2eacaf=_0x4abcca['stem']||_0x4abcca[_0xeb010f(0x653)];let _0x2332f0=0x0,_0x4bf82a=0x0,_0x37ceb9=0x0;const _0x599a90=[],_0x4fc1de=[];_0x86ff1b[_0xeb010f(0x94f)](_0x43812e=>{const _0x349727=_0xeb010f,_0x41a2c3=_0x43812e['attempts'][_0x43812e['attempts']['length']-0x1],_0x330b87=_0x41a2c3[_0x349727(0x3b5)]['find'](_0x3bb293=>_0x3bb293[_0x349727(0xb59)]===_0x2eacaf);_0x599a90[_0x349727(0x5ca)]({'name':_0x43812e['studentName'],'isCorrect':_0x330b87?_0x330b87['isCorrect']:![]}),_0x330b87&&_0x330b87['isCorrect']&&_0x4bf82a++;}),_0x1ce97b['forEach'](_0x3b82f0=>{const _0x40636c=_0xeb010f,_0x313159=_0x3b82f0['attempts'][_0x3b82f0['attempts'][_0x40636c(0x384)]-0x1],_0x21b94e=_0x313159['answers'][_0x40636c(0x3de)](_0x342832=>_0x342832['originalQuestionText']===_0x2eacaf);_0x4fc1de[_0x40636c(0x5ca)]({'name':_0x3b82f0[_0x40636c(0x884)],'isCorrect':_0x21b94e?_0x21b94e[_0x40636c(0x8c1)]:![]}),_0x21b94e&&_0x21b94e['isCorrect']&&_0x37ceb9++;}),_0x55d051[_0xeb010f(0x94f)](_0x49cefe=>{const _0x6fbe4e=_0xeb010f,_0x5641fe=_0x49cefe[_0x6fbe4e(0x9ba)][_0x49cefe[_0x6fbe4e(0x9ba)][_0x6fbe4e(0x384)]-0x1],_0x1844f2=_0x5641fe[_0x6fbe4e(0x3b5)][_0x6fbe4e(0x3de)](_0x3ca767=>_0x3ca767['originalQuestionText']===_0x2eacaf);_0x1844f2&&_0x1844f2[_0x6fbe4e(0x8c1)]&&_0x2332f0++;});const _0x70281c=_0x2818a5>0x0?_0x2332f0/_0x2818a5:0x0,_0x199dad=_0x5718cb>0x0?_0x4bf82a/_0x5718cb-_0x37ceb9/_0x5718cb:0x0;_0x3bb2de[_0x2160dc]={'p':_0x70281c,'r':_0x199dad,'upperGroupResponders':_0x599a90,'lowerGroupResponders':_0x4fc1de};}),{'perQuestionStats':_0x3bb2de,'overallGroups':{'upperGroupNames':_0x1c946d,'lowerGroupNames':_0x2df1ab}};}function drag(_0x1e2d88){const _0x36e06a=_0x7550fe;if(draggedSvgElement){_0x1e2d88['preventDefault']();const _0x445741=draggedSvgElement['ownerSVGElement'],_0x1a4fe7=getPointerPosition(_0x445741,_0x1e2d88),_0x3e55fd=_0x445741[_0x36e06a(0xbc7)]['baseVal'];let _0x480ab4=_0x1a4fe7['x']-svgOffset['x'],_0x26338a=_0x1a4fe7['y']-svgOffset['y'];const _0xe65717=draggedSvgElement[_0x36e06a(0x1f3)]();_0x480ab4=Math['max'](_0x3e55fd['x'],Math['min'](_0x480ab4,_0x3e55fd['x']+_0x3e55fd['width']-_0xe65717[_0x36e06a(0x40b)])),_0x26338a=Math[_0x36e06a(0x2b7)](_0x3e55fd['y'],Math[_0x36e06a(0x959)](_0x26338a,_0x3e55fd['y']+_0x3e55fd['height']-_0xe65717[_0x36e06a(0xad0)])),draggedSvgElement[_0x36e06a(0x88d)](null,'x',_0x480ab4),draggedSvgElement[_0x36e06a(0x88d)](null,'y',_0x26338a);}}function endDrag(_0xeaa88){draggedSvgElement=null;}function _0x2577(){const _0x4d708b=['focus','questionId','\x22\x20ออกจากคลังนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','parseInline','select[name=\x22question_single\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','height','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','Copy\x20command\x20failed','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-bank-subtopic-name','[data-topic-id]','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','พบ\x20Sync\x20Game!','</select>','[*]','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',')\x22>','close-topic-bank-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','gradeLevel','Error\x20during\x20blueprint\x20link\x20cleanup:','save-game-results-checkbox','\x27\x20ในหัวข้อ\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','behaviorLog','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','option','.pen-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','red','data','.delete-submission-btn','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','ผู้เชี่ยวชาญ',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','student-quiz-area','/studentProfiles','ลบหัวข้อสำเร็จ','short_answer','selected-topics-count','endsWith','\x20link(s)\x20for\x20quiz\x20ID:\x20','[data-topic-container-id]','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','Error\x20toggling\x20pin\x20status:','isConfidenceScoringEnabled','position','<span\x20class=\x22sort-indicator\x20ml-2\x22>','stroke','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cdot','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','latestScore','การบวกทศนิยม','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','แบบทดสอบนี้หมดเวลาแล้ว','correct','รูปสแควร์รูท\x20(surd)','.bp-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','</h4>','11840pfNVem','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','bp-add-topic-btn','G-V90KRM0L63','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','.txt','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','<p>','groups','topic','getScreenCTM','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','bg-red-200\x20text-red-800','แบบทดสอบจากคลังส่วนตัว','removeChild','Unexpected\x20API\x20response\x20structure:','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','topicId','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.project-card-container.opacity-50','center','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','linkedQuizIds','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','responseSchema','\x20คะแนน</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','shadowBlur','file-input-area','คะแนนเต็ม!','\x20สำเร็จ','<button\x20data-id=\x22','กำลังจับคู่...','textarea','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','student-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','querySelectorAll','confirm-not-confident','confirm-global-live-btn','blueprint-project-manager-view','ON_FIRE','cancel-game-start-btn','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','text/html','subTopics','bar','totalQuestions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.application-options\x20button','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','password-error-msg','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','file-topics-list','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bulk-results-display-select','originalQuestionText','MathJax\x20typeset\x20error\x20(analytics):','onerror','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','removeEventListener','Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','fa-dumbbell\x20text-gray-700','ลำดับการดำเนินการ\x20(PEMDAS)','ตรวจทานเฉลยเสร็จสิ้น!','true','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','lower_group_count','gamePin','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','shuffledQuiz','image/png','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','close-additional-shortcuts-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','cancel-blueprint-projects-btn','\x20รายการสำเร็จ!','เรขาคณิตวิเคราะห์','modal-confidence-scoring-checkbox','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','.score','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','.regenerate-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','getContext','student-team-selection-view','ยังไม่เต็มนะ','dataset','กรุณาพิมพ์คำตอบของกลุ่ม','\x22\x20class=\x22delete-project-btn\x20','verify-answers-btn','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','bulk-confidence-mode-select','export-leaderboard-image-btn','s;\x22\x20title=\x22','dragend','open-global-live-btn','add-from-global-bank-btn','ไม่พบตารางสำหรับ\x20Export','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','.shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.open-bp-project-btn','student-list','quiz-bank-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','shortcut-editor-modal','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','Successfully\x20removed\x20','name_desc','Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','separate-by-content-from-file-checkbox','</option>','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','project-passcode-input','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/preferences/main','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','อสมการเชิงเส้น','toString','#E5E7EB','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','moveTo','<i\x20class=\x22fas\x20fa-magic\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','multiply','createElementNS','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','.bp-game-btn','shortcut-id-input','Error\x20deleting\x20custom\x20topic:','confidence-mode-select','.delete-custom-topic-btn','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','Error\x20preparing\x20content\x20quiz:','add-student-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','list','Error\x20calling\x20Gemini\x20API:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','deg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-settings-btn','ฟังก์ชันยกกำลัง','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การยืนยันตัวตนล้มเหลว','viewBox','pointermove','<div>','px)\x20scale(','\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','2372250cgKFQt','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','isPasscodeEnabled','Action:\x20Generate\x20new\x20lesson.','fill','join-live-game-btn','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','manage-players-btn','game-start-quiz-id','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','สมการตรีโกณมิติ','lowerGroupResponders','back-to-results-btn','คำถามดิบ:\x20\x22','back-to-dashboard-from-results-btn','generate-from-parallel-test-btn','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','blueprintUrl','\x20ชุดสำเร็จ!','options','รหัสไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','quizId','presentation-scratchpad-btn','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','admin-password-modal','team','quizMode','student-progress-content','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','afterend','parts','lessonContent','createdBy','วงกลม:\x20สมการและสมบัติ','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ดูผลสรุปสุดท้าย','การแจกแจงปกติและ\x20z-score','ปริมาตร/ความจุและการแปลง','log','</div></div></div>','text-red-900','Error\x20starting\x20live\x20race:','.isScored','next-question-timed-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','q-image-container-','not_generated','.quiz-result-card','numQuestions','auto-fix-latex-btn','getItem','default-','student-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','NEGATIVE_INFINITY','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','การลบเศษส่วน','parentElement','แบบทดสอบซ่อมเสริม','substring','ย้าย','trail','quiz-settings-modal','grabbing','substr','left','draggable-text','str','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','user-id-display','admin-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answer-counter','bg-red-500','<div\x20class=\x22my-6\x22>','scheduled','API\x20Error\x20Body:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','mandatory','desc','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','normal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','choices_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','back-to-dashboard-from-bp-btn','Error\x20updating\x20project\x20color:','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','editor-quiz-topic','<br>','scheduled_pending','cos','Error\x20confirming\x20players\x20for\x20sync\x20game:','บันทึกการแก้ไข','สมการราก\x20(radical)','matching','หน่วยเวลาและการคำนวณเวลา','Error\x20generating\x20parallel\x20test\x20from\x20bank:','offset','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','จำนวนเต็มบวก','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','บันทึกโปรเจค\x20\x22','scratchpad-canvas','not-found','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','แก้ไขสูตรคณิตศาสตร์\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','offsetWidth','เกิดข้อผิดพลาดในการลบโปรเจค','เกิดข้อผิดพลาดในการลบผลสอบ','ดีมาก','shortcuts-loading-msg','Error\x20joining\x20live\x20game:','Error\x20deleting\x20shortcut:','bg-green-500','modal-results-display-select','actions-container-','toISOString','projectSort','starred-project','confirm-team-players-btn','/public/data/practiceBank','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','projectId','quiz-generation-area','confirm-rename-quiz-btn','lobby','comparison','\x20ใหม่...','blur','ดอทโปรดักต์\x20(dot)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','generate-from-file-btn','\x22.\x20','กรุณาเลือกโปรเจคที่ต้องการบันทึก','PERSEVERANCE','จำนวนข้อ:','math-topics-checkbox-container','quiz-start-time','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','smooth','แผนการสอน:\x20','ไม่พบข้อมูลเกม','bp-quiz-settings-btn','\x20ครั้ง)</span></td>','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','referenceUrl','lineJoin','delete-all-students-btn','hint','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','.ideal-answer-input','student-quiz-leaderboard-content','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','padStart','scratchpad-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fix-lesson-latex-btn','fa-shield-alt\x20text-gray-600','สมการเหตุผล\x20(rational)','อัปเดตแบบทดสอบเก่า\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','sqrt','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','Error\x20comparing\x20results:','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','สรุปผลการวิเคราะห์:\x5cn','.compare-results-btn','.group','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','admin-password-input','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','application','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','tooltipTarget','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','clearRect','update-old-quizzes-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','เกมสิ้นสุดลงแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','ฮิสโตแกรม','practice-topic-btn','results-quiz-id-display','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','currentQuestionIndex','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','end-sync-game-btn','\x22\x20สำเร็จ!','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','topic_','หัวข้อหลักใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','1:274192258111:web:4120c9118229b5644dd48a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','text-blue-800','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','setItem','bg-black/20','#6366F1','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','API\x20call\x20failed\x20with\x20status:\x20','live-short-answer-input','createdAt','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','promptFeedback','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','text-indigo-800','text-indigo-700','ก่อนเรียน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','close-student-rankings-btn','sync-short-answer-input','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','textarea[name=\x22team_answer\x22]','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ชื่อหัวข้อห้ามว่าง','worksheet-input-area','student-progress','เปลี่ยนชื่อโปรเจคสำเร็จ','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','cancel-create-project-btn','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','scores','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','bp-modal-difficulty-level-select','getBBox','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','confirm-link-quiz-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','fromCharCode','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','visibilitychange','fullscreenchange','sync-manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ไม่ใช่','_opt','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','perfect_score','presentation-explanation','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ring-2','.edit-quiz-btn','ลำดับเลขคณิต\x20(AP)','open-blueprint-projects-btn','scratchpad-question','checked','(คู่ขนาน)\x20','แผนการสอน','0\x200','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','#DBEAFE','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','innerHTML','quiz-bank-modal','input[type=\x22radio\x22]:checked','body','สร้างแบบทดสอบปรนัย','\x20จุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','json','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','toDate','default-2','text-red-800','มุมและการวัดมุม','cancel-move-quiz-btn','generated-quiz-container','<div\x20class=\x22space-y-4\x22>','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','ฟังก์ชันลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','.start-presentation-list-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','pairedQuizId','create-project-btn','Error\x20rendering\x20student\x20progress:','API\x20call\x20failed','confirm-quiz-settings-btn','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.ai-content\x20h3','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','custom-math-topic-input','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','lineCap','has','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.sort-indicator','main-correct-answer-display','AI\x20Formula\x20Fix\x20Error:','timerDuration','การนับ','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','podium','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','short','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','set','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-quiz-edits-btn','commit','Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.','กรุณาป้อนรหัสแบบทดสอบ','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','handleGenerateQuizFromBlueprintTopic','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-red-100\x20text-red-800','createObjectURL','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','กำลังสแกนหาแบบทดสอบเก่า...','tool','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','cancel-quiz-edits-btn-footer','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','-\x20ข้อ\x20','map','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-message','text-input-area','instructions','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','responses','ระบบสมการเชิงเส้นสองตัวแปร','Error\x20unpairing\x20quizzes:','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','trail-tool-btn','Leaderboard\x20update\x20transaction\x20failed:\x20','contentEditable','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','บันทึกการตั้งค่าสำเร็จ','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','กรุณาเลือกสถานะ','การกระจายและการจัดหมู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','save-settings-btn','leaderboard-tab-content','shortcut-reference-url-input','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','input[name=\x22status-option\x22]:checked','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Blueprint\x20O-NET\x20ป.6','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','show_pass_fail_only','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','.project-card-container:not(.opacity-50)','end-team-quiz-btn','category','mouse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','เปิดใช้งาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ทำคะแนนได้เกินครึ่ง','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','reveal-answer-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20project\x20order:','\x5cpm','bg-green-100\x20text-green-800','\x20**[กฎเพิ่มเติมที่สำคัญที่สุด]:**\x20ต้องเน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','bp-modal-passing-score-input','additional-shortcuts-list','กรุณาพิมพ์คำตอบ','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','mean','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','export-compact-pdf-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-actions','topic-bank-list','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','style','เกิดข้อผิดพลาดในการเข้าร่วมเกม','medium','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','question-complexity-select','(หลังเรียน)\x20','rename-quiz-input','\x20รายการ\x20สำเร็จ!','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','teacherTips','delete-svg-btn','grid-view-btn','max','th-TH','startedAt','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','#results-table\x20thead\x20tr','cancel-rename-quiz-btn','bg-blue-500\x20hover:bg-blue-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$.**\x0a','line-through\x20text-red-700','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isLooping','gain','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x5cn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x20ตอบ','ไม่พบข้อมูลโปรเจค','q-text-','เนื้อหาสำหรับสอน:\x20','firstScore','เกิดข้อผิดพลาดในการลบนักเรียน','.project-card-container[data-id]','บันทึกการตั้งค่าการแสดงผลสำเร็จ','จำนวนเชิงซ้อน\x20(เสริม)','\x5ctimes','การคูณทศนิยม','scale','text-green-700\x20bg-green-100','(คัดลอก)\x20','Failed\x20to\x20create/update\x20submission\x20record:','การปัดเศษและประมาณค่า','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','target','ฟังก์ชันค่าสัมบูรณ์','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','ยืนยันการจับคู่','lowerGroupNames','จับคู่แบบทดสอบสำเร็จ!','getPage','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','querySelector','.rename-quiz-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','[data-field=\x22subTopic\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','pen-tools-group','confirm-move-quiz-btn','Error\x20submitting\x20group\x20answer:','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','ไม่พบข้อมูลแบบทดสอบ','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference.txt','live-player-management','Error\x20saving\x20quiz\x20edits:','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','bg-green-200\x20text-green-900','rgba(255,\x20255,\x200,\x200.5)','cancel-bulk-quiz-settings-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-live-btn','\x5cle','comparison-modal','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','includeImages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','rgba(59,\x20130,\x20246,\x200.7)','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','จากไฟล์ที่แนบมานี้,\x20','บทเรียนเรื่อง:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','remove','.scratchpad-content-wrapper','correctAnswerIndex','removeItem','</li>','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','none','text-white','admin-testing','/public/data/blueprintProjects','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','add','/public/data/quizzes/','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','#26890c','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','confirm-game-start-modal','\x20mx-1\x20text-lg\x22></i></span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>','comparison-chart','slice','Error\x20loading\x20user\x20preferences:','เส้นจำนวน','เกิดข้อผิดพลาดในการนำผู้เล่นออก','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','block','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','button','ผู้ไม่ยอมแพ้','clientY','อยู่ในสาระการเรียนรู้ใด:','<p><strong>คำตอบของคุณ:</strong>\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','ระยะเวลา\x20(นาที):','ความชันเส้นสัมผัส','false','.correct-response-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','toLocaleDateString','per_question','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','กลุ่ม:\x20','isStarred','modal-adaptive-quiz-checkbox','ยังไม่มีนักเรียนส่งงาน','starred','quiz-results-table-body','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','onload','textContent','players','file-upload-input','auto','presentation-ai-result','next-sync-question-btn','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','times','คำเตือน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','การบวก','upperGroupResponders','interesting-stats-container','อุณหภูมิและการแปลง','.quiz-bank-move-btn',',\x20Forced\x20MIME\x20Type:\x20','AI\x20grading\x20failed:','dashboardConfig','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','ความสัมพันธ์ของมุม','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','stringify','ตั้งเวลา\x20(เปิด)','resize','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','memoryContent','กรุณาใส่ชื่อโปรเจค','.toggle-actions-btn','<tr>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerdown','fill_in_with_choices','หมดเวลาสำหรับข้อนี้!','.duplicate-quiz-btn','separate-by-content-checkbox','.sortable-header','สร้างแบบทดสอบ','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','original-mode-checkbox','readAsDataURL','แบบทดสอบฝึกฝนเรื่อง:\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','curriculum','matching_item','cancel-team-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','txt','manage-tab-content','#results-table','<div\x20class=\x22','\x5cge','indexOf','การคูณเศษส่วน','retake-quiz-loop-btn','จำนวนและการดำเนินการ','bg-black/10','cancel-global-live-btn','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','isArray','bg-red-50','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close','length','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','</h3>','parallel-test-tab','ทศนิยม\x20(ค่าประจำหลัก)','quadraticCurveTo','\x22\x20value=\x22','หน่วยความยาวและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','replace','q-explanation-','แบบทดสอบนี้ปิดใช้งานอยู่','answered','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ราชาคัมแบ็ก','.delete-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','highlighter-tools-group','fill_in_the_blank','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','temp-loader-results','อินเวอร์สของเมทริกซ์','results_','confirm-join-game-btn','Blueprint\x202','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','.quiz-bank-delete-btn','Error\x20deleting\x20submission:','add-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','transform','element','</div>\x0a</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','สัญกรณ์วิทยาศาสตร์','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','manual-bp-project-name','endTime','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','จำนวนคละ','answers','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','helvetica','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','quiz-type-select','worksheet-tab','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','/users/','contents','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-try-btn','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','Error\x20generating\x20from\x20link:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','#student-quiz-leaderboard-content\x20thead','.ai-content\x20li','source-over','คัดลอกไม่สำเร็จ','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','Error\x20saving\x20to\x20question\x20bank:','doughnut','ตัวประกอบและตัวประกอบเฉพาะ','isRemedial','projectView','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','พบข้อสอบ\x20','passcode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','grid','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.linkedQuizId','activeGameSession','artifacts/','timed','find','select','visibilityState','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</th>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','editable-quiz-topic','drill-feedback','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x20ชุด)</span>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','input[type=\x22checkbox\x22]','transition-all','27411472','สอบซ่อม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','mixed','เพิ่มรายการที่เลือก','tan','shuffleSetting','comparison-individual-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','touchmove','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','</span></div>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','อัปเดตพฤติกรรมสำหรับ\x20','blueprint-settings-modal','\x20ตัวเลือก.\x20','ส่วนเบี่ยงเบนมาตรฐาน','toLowerCase','content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','players.','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','width','มุมพิเศษ\x2030°-60°-90°','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','beforeend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',':</span><span>','stepByStepExamples','สถิติและความน่าจะเป็น','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','thead','AI\x20ไม่สามารถประมวลผลข้อมูลได้','className','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mainTopic','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','lesson-plan-title','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันแบบชิ้นส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','pen-tool-btn','td,\x20th','$1\x5c%','border-green-300\x20bg-green-50','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','ผิด','Error\x20in\x20handleApiCall:','.answers','showImproveButton','manual-bp-grade-level','ยืนยันการกระทำ','Error\x20submitting\x20team\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pointContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','quiz-leaderboard-table','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','เงินงวด\x20(อนุกรมเงินงวด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','bg-yellow-100','highlighter-size-value','.verification-result-editor','ตรวจคะแนนใหม่\x20','.png','Error\x20saving\x20questions\x20to\x20practice\x20bank:','pop','confidence_single','scores-tab-content','canvas','thead\x20.sortable-header','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','Failed\x20to\x20get\x20standardized\x20topic:','bp-modal-quiz-type-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerup','progress-project-select','กรุณาใส่ชื่อใหม่','border-red-300\x20bg-red-50','text-indigo-600','input[name=\x22question_single\x22]:checked','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-300\x20hover:text-red-100','isPinned','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','admin-dashboard','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-student-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','link-tab','highlighter-size-slider','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20updating\x20quiz\x20status:','catch','user','localeCompare','ownerSVGElement','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.delete-svg-btn','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','เกิดข้อผิดพลาดในการปักหมุด','/public/data/projects','postTScore','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','2-digit','กรุณาสร้างบทเรียนก่อน','fas\x20fa-bookmark','submissions','.status','bp-modal-question-complexity-select','แบบทดสอบ:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','number','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','quiz-search-input','การคูณ','ai-quiz-app-aefee.firebasestorage.app','Error\x20updating\x20project\x20name:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','game-start-mode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name','dragover','answerText','pen','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','lessonPlan','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','modal-confidence-mode-select','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','เปลี่ยนชื่อแบบทดสอบสำเร็จ','fa-pen','\x20in\x20all\x20blueprint\x20projects.','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','analytics-tab-content','(^|[^\x5c\x5c])\x5cb','totalPoints','bulk-quiz-settings-modal','save-bp-settings-btn','wasConfident','lesson-loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generated','Error\x20clearing\x20linked\x20quiz:','ไม่สามารถบันทึกการตั้งค่าได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ฟังก์ชันผกผัน','back-to-student-home-btn','.topic-selection-btn','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','clear-all-links-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','file-tab','fixed','sync-player-management','solution','\x0a---\x0a','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','answering','getAttributeNS','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','pre-test','bp-modal-include-images-checkbox','projectOrder','stem','PROMPT_PLACEHOLDER','#math-topics-checkbox-container\x20input:checked','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wheel','comparison-overall-content','/public/data/liveGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','https://drive.google.com/uc?export=download&id=','การบวกเศษส่วน','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','shuffle','getTextContent','\x22\x20data-quiz-id=\x22','4373NnyrjM','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','กำลังค้นหากิจกรรม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','รูปสี่เหลี่ยมและสมบัติ','bg-emerald-100','text-gray-200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','\x20mb-2\x22>','contains','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','points','confirmation-modal','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-star\x20text-yellow-500','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','generate-from-text-btn','Error\x20saving\x20settings:','live-race','-tab','subTopic','globalCompositeOperation','มัธยฐาน','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','verify-answers-editor-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','bg-red-100','</span><span\x20class=\x22font-bold\x22>','presentation-slide-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.flex.justify-between.items-center','STOP','.subTopic','modal-timer-duration-label','กำลังสร้างแบบทดสอบ\x20\x22','code','\x22>จาก:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','Error\x20adding\x20custom\x20topic:','กรุณาป้อนหัวข้อสำหรับใบงาน','href','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','hasPerfectScoreBonus','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','undo-btn','จากเนื้อหาต่อไปนี้:\x20\x22','Error\x20starting\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','show_results_only','text-gray-500','promise','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','แผนภาพเวนน์','keydown','export-excel-btn','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','บทเรียน','btn','กรุณาเลือกชื่อของคุณ','ยอดเยี่ยม!','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','.generate-post-test-btn','กำลังสร้างแบบทดสอบ:\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','bg-green-50','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','</span></p>','startTime','สามเหลี่ยม\x20(ชนิด/สมบัติ)','createElement','bottom','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ไม่พบโปรเจค','shortcut-name-input','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','เกิดข้อผิดพลาดในการสร้างใบงาน','ผลรวมอนุกรม\x20(Σ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','.topic-name-display','การหารทศนิยม','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','analytics-summary-cards','Error\x20joining\x20activity:','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','addEventListener','quiz-results-view','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ระบบอสมการ','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','update','svg','294sDGFgY','ai-quiz-app-aefee.firebaseapp.com','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','#open-additional-shortcuts-btn','cancel-admin-login-btn','ความคาดหมาย\x20(Expected\x20value)','submission','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','แก้ระบบสมการด้วยเมทริกซ์','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','msExitFullscreen','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','difficulty-level-select','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','ห.ร.ม.\x20(GCD)','ไม่พบไฟล์\x20Test\x20Blueprint','link-topic-input','.highlighter-color-btn','ปิดใช้งาน','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','enable-passcode-checkbox','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','pow','รอ...','deselect-all-topics-btn','justification','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x22\x20name=\x22confidence','include-images-checkbox','topics.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','fix\x20the\x20option','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Group\x20Mode','Error\x20resetting\x20project\x20order:','autoTable','input[type=\x22checkbox\x22]:checked','เกิดข้อผิดพลาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','text/plain','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างบทเรียน:\x20','Error\x20deleting\x20student:','title','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','74yGuTbz','Remedial\x20quiz\x20generation\x20failed:','lesson-plan-modal','Error\x20generating\x20hybrid\x20quiz:','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','_opt1\x22\x20name=\x22question','ผู้ควบคุม\x20(ทดสอบ)','first_try_ace','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','num-choices','เกิดข้อผิดพลาดในการแก้ไข','team-player-status-grid','กำลังเตรียมไฟล์...','blueprint-input-area','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','.parallel-quiz-btn','bank-quiz-list','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20หัวข้อ)','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','export-tutor-pdf-btn','Error\x20loading\x20blueprint\x20projects:','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','cancel-shortcut-edit-btn','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ควรปรับปรุง','cancel-quiz-bank-btn','.question-editor-item[data-q-index=\x22','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','student','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','ไม่มีคำอธิบาย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','.color-palette-popup','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22\x20name=\x22team_answer\x22\x20value=\x22','loader-text','download','project-title','rename-quiz-modal','both','questionIndex','เรขาคณิต','.bp-unlink-quiz-btn','ยังไม่สร้าง','confirm-create-project-btn','cloneNode','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','blueprintShortcuts','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</tr>','parse','reduce','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','.bp-try-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','dimmed','fa-user-astronaut\x20text-blue-700','Error\x20loading\x20quiz\x20for\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','close-game-final-btn','perQuestionStats','เลือกและเริ่มสร้าง','print','confidence-input-','hasOwnProperty','สร้างใหม่','getElementsByTagName','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','blueprint-tab','mode','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','กำลังอัปเดตแบบทดสอบ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','confidence-scoring-toggle','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คณิตศาสตร์','แก้ไขหัวข้อสำเร็จ','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','results','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','questions','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','quiz-leaderboard-table-body','countdown-display','check-answer-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','คะแนนยังไม่ถึงครึ่ง','push','.mb-6.p-4','temp-loader-text-results','text-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20API.','abs','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','\x20จุดเรียบร้อยแล้ว','badges','ไม่ผ่าน','การแยกตัวประกอบ','move','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<i\x20class=\x22fas\x20fa-pen\x22></i>','Error\x20generating\x20teaching\x20content:','เปิด\x20(จับเวลา)','ความชันและเส้นตรง','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','เรเดียนและการแปลงหน่วย','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','passingScore','Error\x20deleting\x20topic:','ไม่พบข้อมูลการจับคู่','.bp-create-onet-quiz-btn','setTransform','หัวข้อที่สร้างเอง','behavior-log','badgesCount','per-question-text','score','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','live-options-container','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','sara','\x20ชุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','default','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x5cdiv','PERFECT_SCORE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','classList','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','answer-grid-container','</button>','student-initial-view','modal-message','ARRAY','responses.','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','incorrect','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','กำลังโหลดคลังข้อสอบทั้งหมด...','ดอกเบี้ยทบต้น','.unpair-quiz-btn','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','whole_quiz','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','):\x20','index','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','back-from-results-btn','documentElement','timer-duration-input','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','warn','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','คะแนนเต็ม','mainTopics','gameData','scrollIntoView','open','msRequestFullscreen','\x27,\x20\x27','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','earned-badges-container','originalTopic','difficultyValue','date_asc','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','แก้ไขปุ่มลัด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','sync','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','[data-topic-id=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22\x20data-topic=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','targetId','.color-palette-btn','modal-loop-until-pass-checkbox','จำนวนเต็มลบ','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','get','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงรูปอัตลักษณ์','beginPath','พื้นที่ใต้กราฟ/ระหว่างกราฟ','ทฤษฎีบทพีทาโกรัสและการประยุกต์','mode-switcher-btn','\x20(p=','results-tab-content','project-search-input','bg-purple-50','rgba(239,\x2068,\x2068,\x200.7)','\x20/\x20','/questionBank','summaryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','touchcancel','sum','confirm-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','.quiz-bank-parallel-btn','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','questionText','\x5cfrac{$1}{$2}','ไม่สามารถเพิ่มนักเรียนได้','ข้อที่\x20','label[for=\x22num-questions\x22]','</p>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ปริพันธ์จำกัด','#E0E7FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','input[type=\x22text\x22]','save-blueprint-as-project-btn','<li\x20class=\x22','สร้างคำถามแบบใช่/ไม่ใช่','stopPropagation','.presentation-option','touchend','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-controls','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ไม่สามารถสร้างโปรเจคได้','\x20กลุ่ม</p></div>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','outerHTML','lesson-view-content','document','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','คัดลอกรหัสแล้ว!','isScored','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','.ideal-answer-input,\x20.correct-response-input','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','num-questions','numeric','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','check-presentation-answer-btn','onchange','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','admin','filter','getDocument','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','student-quiz-topic','.bp-open-topic-bank-btn','getBoundingClientRect','delete','generate-from-blueprint-btn','toLocaleString','teacherSuggestions','removeAttribute','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','keyConcepts','applicationHTML','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','docs','%</span>','ring-purple-400','เกิดข้อผิดพลาดในการเปลี่ยนสี','math-topic-search-input','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','ที่พิมพ์ได้\x20จำนวน\x20','\x22\x20class=\x22color-palette-btn\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','Error\x20processing\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','136qAHmac','checkAnswer','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','quiz-editor-modal','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','#view-rankings-btn','เวกเตอร์และเมทริกซ์\x20(เสริม)','ไม่พบเอกสารการส่งงานของ\x20','lesson-sections-container','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','worksheet-topic-input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<li>','quick_thinker','<span\x20title=\x22','setAttribute','bg-amber-100\x20text-amber-800','Error\x20regenerating\x20question\x20in\x20editor:','duration-300','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','value','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','results-table-container','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-custom-topic-btn','not_confident','includes','rgba(239,\x2068,\x2068,\x200.9)','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','#FFFFFF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','suggestedAnswer','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','project-quizzes-list','disabled\x20bg-gray-400\x20cursor-not-allowed','modal-timer-duration-input','bulk-loop-until-pass-checkbox','\x20ข้อ...','asc','<h1></h1>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','leaderboard-quiz-tab-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','jspdf','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','Error\x20generating\x20easy\x20version\x20quiz:','splice','รูปแบบการให้เหตุผล','opacity','load-quiz-btn','พบ\x20Team\x20Quiz!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20\x0a\x20\x20\x20\x20','isDefault','summary_chart','ใช่\x20/\x20ถูก','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','border-gray-200','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','group','insertAdjacentHTML','#FEE2E2','/submissions','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','ย้ายแบบทดสอบสำเร็จ','modal-timer-mode-select','showInStudentDashboard','.draggable-text','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กราฟฟังก์ชันตรีโกณ','touch','#FCE7F3','ไม่พบข้อมูลข้อสอบหลังเรียน','ชนิดของข้อมูลและการเก็บข้อมูล','touchstart','Error\x20listening\x20for\x20projects:','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','.topic-actions-edit','<button\x20id=\x22','ศูนย์','candidates','setFont','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results-display-select','\x20|\x20','commonMistakes','<tr><td\x20colspan=\x22','Auto-linking\x20new\x20quiz\x20','right','destroy','อัตราและอัตราหน่วย','พื้นที่สี่เหลี่ยม','student-progress-view','project-detail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','player-count','onclick','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่มีชื่อ)','จุด\x20เส้น\x20ระนาบ','timestamp','สมการเชิงเส้นตัวแปรเดียว','Test\x20Blueprint','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','fullscreenElement','ความเป็นอิสระของเหตุการณ์','แก้ไขข้อนี้','\x0a\x20\x20\x20\x20\x20\x20</div>','summary','bulk-confidence-scoring-checkbox','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','confident','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','now','leq','values','-options','teachingContent','shuffle-setting-select','แบบเติมคำตอบ','.delete-quiz-btn','classWeaknesses','lastAnswerCorrect','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','modal-confidence-mode-container','complexityValue','ฟังก์ชันสัมพัทธ์\x20(rational)','confirm-passcode-btn','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','description','Error\x20duplicating\x20quiz:','ปริพันธ์ไม่จำกัด','หลังเรียน','bg-red-500\x20text-white\x20font-bold','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','มุมพิเศษ\x2045°-45°-90°','true_false','โดเมนและเรนจ์','\x20</div>\x0a\x20\x20\x20\x20','additional-shortcuts-modal','interesting-stats-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','move-quiz-project-select','bp-modal-num-choices','Blueprint\x201','applicationContent','close-presentation-btn','split','live-submit-short-answer-btn','คำถามถัดไป','พาราโบลา','เกี่ยวกับหัวข้อ\x20\x22','function','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','global-quiz-list','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','open-sync-scratchpad-btn','type','```','student-team-join','การสร้างรูปด้วยวงเวียน–สันตรง','Error\x20creating\x20project:','reference-pdf-upload','confidence','perfect_score_status','เส้นรอบรูป','generate-from-topic-btn','dispatchEvent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','link-input-area','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','topic-input','กำลังสร้างเนื้อหา:\x20','text-green-600','bg-green-200\x20text-green-800','sync-submit-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','ไม่ใช่\x20/\x20ผิด','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pointercancel','_blank','ฟังก์ชันเชิงเส้นและกราฟ','.lastAnswerValue','ตรีโกณมิติ','hint-btn','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>','.edit-hidden-shortcut-btn','\x5ccdot','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','อัตราการเปลี่ยนแปลงทันที','webkitRequestFullscreen','prev-question-btn','.pen-color-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','ตัวแปรและนิพจน์','export-pdf-btn','\x22\x20data-pre-test-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ผ่านฉลุย','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','bg-blue-100\x20text-blue-800','currentMode','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','rgba(79,\x2070,\x20229,\x200.8)','\x22>ใช่</p>','ตอบถูก\x203\x20ข้อติดต่อกัน','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบของกลุ่ม','mouseup','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','Error\x20updating\x20custom\x20topic:','status','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','some','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','project-passcode-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Failed\x20to\x20resume\x20game\x20session:','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20','translate','resultsDisplay','การลบทศนิยม','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','team-quiz-topic','ไม่มีผู้ตอบตัวเลือกนี้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','.lastAnswerCorrect','lesson-view-modal','wakeLock','กำลังสร้างรูปภาพ...','cancel-bp-settings-btn','/public/data/quizzes','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','modal-shuffle-select','passing-score-input','Error\x20saving\x20shortcut:','projectName','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','Error\x20fetching\x20student\x20rankings:','neq','\x20คนที่ส่ง\x20ตอบถูก\x20(','Error\x20generating\x20worksheet:','confidence-modal','/public/data/learnedFixes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confidence-mode-container','377979oTiEMY','<tr\x20class=\x22','#FEF3C7','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20opening\x20quiz\x20editor:','tfrac','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','exists','ไม่พบข้อมูลหัวข้อที่จะบันทึก','behavior-log-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ไฮเพอร์โบลา','playerName','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Enter','ท็อปฟอร์ม','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','ลบแบบทดสอบสำเร็จแล้ว','กำลังสร้างแบบทดสอบจากหัวข้อ...','num-choices-container','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','lesson-plan-content','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','finishReason','stdDev','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','2090FQeDRx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','answeredCurrentQuestion','file-topic-input','.topic-actions-view','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','(ก่อนเรียน)\x20','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','timer-duration-label','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','ร้อยละพื้นฐาน','result','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','standardTopic','.doc','bg-gray-500','พิมพ์ตอบ','blockReason','font-bold\x20text-green-700','การหารเศษส่วน','start-live-race-generated-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isNormalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','.quiz-status-btn','isAdaptive','<option\x20value=\x22\x22>กำลังโหลด...</option>','join','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดรายการโปรเจคได้','show_results_and_answers','export-lesson-to-pdf-btn','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','ระบบเลขและค่าประจำหลัก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','data:application/vnd.ms-word;charset=utf-8,','typesetPromise','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','_opt0\x22\x20name=\x22question','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','sync-player-list','.question-editor-item','rgba(79,\x2070,\x20229,\x201)','/public/data/teamQuizzes','students','unshift','text-blue-700','กรุณาเลือกคำตอบก่อนครับ','</tbody></table>','ไม่สามารถเริ่มเกมได้','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20|\x20ID:\x20','label','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','project-sort-select','write','multiple_choice','back-to-student-initial-btn','change','<div\x20class=\x22loader\x20mx-auto\x22></div>','bank-tab','อสมการค่าสัมบูรณ์','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','start-quiz-btn','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x27\x20ในส่วน\x20\x27MEMORY\x27\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','manage','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Error\x20moving\x20quiz:','การหาร','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','#D1FAE5','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','on_fire','parent','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','preScore','สมการยกกำลัง','mjx-container','undefined','quiz-leaderboard-table-container','</td></tr>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','closePath','behavior-log-container','คัดลอกแบบทดสอบสำเร็จ','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','icon','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','.live-answer-btn','กลุ่มของคุณ','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','analytics-tab-btn','closest','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','preTestId','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','members','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','lastAnswerIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนเฉลี่ย','ผ่าน','</label></div>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','underline','อนุพันธ์:\x20กฎลูกโซ่','เลือกและบันทึก','startsWith','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','leaderboard-tab','fixedData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','top','ลิมิต','workerSrc','key','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','รีเซ็ตลำดับโปรเจคแล้ว','.view-bp-lesson-btn','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','bg-gray-200\x20text-gray-700','open-quiz-bank-btn','\x20to\x20blueprint\x20topic\x20','next-question-btn','student-quiz-leaderboard-tab','strength-weakness-analysis-container','quizType','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','parallel-test-upload-input','topic-quiz-bank-modal','findIndex','quiz-results','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','.quiz-bank-checkbox:checked','topic-input-area','confirm-delete-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','confirm-confident','เส้นตรง:\x20ขนาน/ตั้งฉาก','อัปเดตการตั้งค่าของแบบทดสอบ\x20','studentName','ref','text-gray-400\x20hover:text-indigo-600','<div\x20class=\x22answer-space\x22></div>','\x20\x20\x20-\x20','เกิดข้อผิดพลาดในการบันทึกโปรเจค','Error\x20starting\x20team\x20quiz:','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','mousedown','setAttributeNS','confidenceMode','</td>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','touches','visible','confidence-choice-btn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','match','pin','อัตราส่วนและสัดส่วน','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','screen_exit','message-modal','กิจกรรมสิ้นสุดลงแล้ว','generationConfig','.linkedQuizIds','.answeredCurrentQuestion','passcode-input-container','.delete-shortcut-btn','memory','shortcut_','show-in-student-dashboard-checkbox','generate-worksheet-btn','latestSubmittedAt','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','save-visibility-settings-btn','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ไม่พบแบบทดสอบ','blueprint-shortcut-container','\x20คะแนน\x20','\x22\x20data-name=\x22','half_mark_status','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<div\x20class=\x22p-2\x20rounded-md\x20','manual-create-blueprint-btn','shortcut-blueprint-url-input','input[type=\x22radio\x22][value=\x22','bg-green-200\x20text-green-900\x20font-bold','pointerType','Sync\x20Mode','Error\x20adding\x20topic:','bg-green-100','.kick-player-btn-sync','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','กรุณาเลือกโปรเจคก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','isCorrect','5485854nGignM','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','circ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity-50','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','loader','hover:bg-indigo-100','analyze-strengths-btn','leaderboard','เกิดข้อผิดพลาดในการลบ','empty','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','attemptNumber','results-table','generate-from-link-btn','Error\x20fetching\x20quiz\x20settings:','ฟังก์ชันราก\x20(root)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','round','<div\x20id=\x22q-image-container-','application/pdf','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-input-area','Failed\x20to\x20kick\x20player\x20','reference.pdf','circle','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','game-start-modal-title','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','join-group-activity-btn','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20fetching\x20projects\x20for\x20move:','bg-yellow-50','question','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','entries','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Failed\x20to\x20generate\x20practice\x20test:','ย้ายแบบทดสอบไปโปรเจคอื่น','overline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F3E8FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.cancel-edit-topic-btn','submit-team-answer-btn','กรุณาใส่ชื่อนักเรียน','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','presentation-modal','.ai-content\x20p','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','student-result-area','สร้างชุดคำถามจับคู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overallGroups','.ai-content\x20td','click','สร้างคำถามแบบเติมคำในช่องว่าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-modal','topics','every','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','Fetching\x20','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','แคลคูลัสเบื้องต้น','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','student-name-input','blueprint-options-container','text-red-700\x20bg-red-100','fa-rocket\x20text-purple-500','confirm-bulk-quiz-settings-btn','standard','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.regenerate-question-btn','presentation-short-answer-input','\x20แบบทดสอบลงในคลังสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','.bp-delete-topic-btn','(ฉบับง่าย)\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','พื้นที่วงกลม/ส่วนของวงกลม','ความแปรปรวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','questionType','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','test','export-word-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','error','.topic-category','FileReader\x20error:','selectedTopicNames','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','ai-quiz-generator-v3','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','next-drill-btn','highlighter-tool-btn','<option\x20value=\x22','.bp-generate-lesson-btn','div','results-tab','timerMode','groups.','per-question-timer-container','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.copy-quiz-id-list-btn','.bp-view-analysis-btn','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','show-results-btn','1257WjmjYi','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','p-2\x20bg-black/10\x20rounded-md','เพิ่มปุ่มลัดใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerText','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-blueprint-modal','checkbox','forEach','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ก่อน','นำแบบทดสอบออกจากคลังนี้แล้ว','สุดยอด!\x20ตอบถูกทุกข้อ','การจัดกลุ่มข้อมูล','</div></div>','projectSortOrder','ชื่อโปรเจคห้ามว่าง','min','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','string','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','blueprint-project-list','student-project-leaderboard-content','กำลังอ่านไฟล์อ้างอิง...','\x22\x20data-q-type=\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','handleGenerateAndShowLesson','text-gray-300\x20hover:text-white','text','copy','link-url-input','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20generate\x20lesson:','then','#10B981','```json','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','authed_project_','.live-answer-btn,\x20#sync-submit-btn','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','<button\x20data-value=\x22','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','ยืนยันและอัปเดตทั้งหมด','bestScore','fa-crown\x20text-yellow-500','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','</p></div>','Error\x20listening\x20for\x20student\x20profiles:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','BOOLEAN','numChoices','active','เกิดข้อผิดพลาดในการส่งคำตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์...','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','text-emerald-800','234cIigBk','pinned-items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-form','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','เกิดข้อผิดพลาดในการจับคู่','.\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','kick-player-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','settings','quiz','\x20คู่\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','กรุณาเลือกโปรเจคปลายทาง','pinnedProjects','<div\x20class=\x22mb-3\x20topic-category\x22>','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-test-input-area','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','sin','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','bg-green-200','.start-live-race-btn','leaderboard-table-body','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-try-quiz-btn','live-game','วงกลม:\x20คอร์ดและเส้นสัมผัส','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','flex','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','list-view-btn','.generate-content-btn','.admin-try-quiz-list-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','reset-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastQuestion','attempts','fadeStartTime','lesson-view-title','point','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','cancel-delete-btn','globalSettings','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','global-live-game-count','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','scratchpad-header','explanation','\x20**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ระยะทางและจุดกึ่งกลาง','screen','questionDisplayedAt','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','display','after','จัดการ','confidence-scoring-checkbox','แผนภาพกล่อง\x20(box\x20plot)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','close-lesson-view-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','text-red-700','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','application/json','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','binom','ใช่','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x20จาก\x20','reset-project-order-btn','project-detail-view','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','qType','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','upperGroupNames','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.project-card-container','text/csv;charset=utf-8;','quiz-editor-questions-container','ค่าเฉลี่ย','\x22...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','trim','classStrengths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20starting\x20game:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','correctAnswer','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','results-quiz-title','finished','กำลังกลับเข้าสู่เกม\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ค่าคลาดเคลื่อนของการวัด','passcode-error-msg','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','floor','\x22\x20name=\x22question_single\x22\x20value=\x22','appendChild','OBJECT','.answered','Error\x20updating\x20sort\x20preference:','total','upper_group_count','imageCode','save','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','.delete-project-btn','create-project-modal','learningGaps','<p\x20class=\x22','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','bg-green-100\x20font-bold','cancel-quiz-settings-btn','พิสัย','player-list-lobby','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20generating\x20parallel\x20post-test:','POST','comparison-individual-content','No\x20player\x20data\x20to\x20save.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','export-worksheet-pdf-btn','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','scores-tab-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันพหุนาม','showRankings','sort','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','student-name-select','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','slide-counter','/public/data/syncGames','submittedAt','preventDefault','project-id-display','post-test','<svg','กำลังอ่านไฟล์\x20Test\x20Blueprint...','Error\x20analyzing\x20file\x20for\x20topics:','สำหรับโปรเจค:\x20','save-quiz-edits-btn','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','bg-green-500\x20hover:bg-green-600\x20text-white','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q',',\x20r=','-tab-content','bp-topic-list-container','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','project-dashboard-view','.start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','message','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','live-player-list','สรุปผลสุดท้าย','ความเท่ากันทุกประการของสามเหลี่ยม','lesson-loader','tGain','create-from-bank-btn','จำนวนคู่:','leaderboard-quiz-tab-content','</span>','move-quiz-modal','Invalid\x20response\x20structure\x20from\x20AI.','.ai-fix-formula-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-game-start-btn','timer-mode-select','lineWidth','/public/data/customMathTopics','/public/data/projects/','qIndex','ตารางความถี่','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','parseFromString','analytics','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','คณิตการเงิน/บูรณาการ','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprint-projects-modal','shouldSaveResults','Loaded\x20','Error\x20confirming\x20players:','topicName','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','currentTarget','text-red-600','disabled','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','timer-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter','.pin-project-btn','ไม่ได้ตอบ','behavior-log-tab-content','Error\x20adding\x20students:','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','force-math-checkbox','clientX','save-project-name-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','.topic-name-input','Error\x20starting\x20group\x20quiz:','inactive','color','export-leaderboard-pdf-btn','correctResponse','ไม่สามารถโหลดคลังข้อสอบได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x20ข้อ\x20','uid','เศษส่วน\x20(ย่อ/ขยาย)','\x22\x20value=\x22false\x22\x20','blueprint-topics-list','พอใช้','Error\x20verifying\x20answers:','ยังไม่ส่ง','files','global-live-game-modal','quiz-end-time','.file-topic-selection-btn','toDataURL','all','fill_in_no_choices','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','Error\x20deleting\x20project:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blob','export-pdf-modal','Action:\x20Create\x20topic-based\x20Quiz.','keys','ยกเลิกการจับคู่สำเร็จ','กำลังวิเคราะห์หัวข้อ...','postScore','input[name=\x22team_player\x22]:checked','mouseleave','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','</body></html>','<p\x20class=\x22text-xl\x22>','.lastAnswerIndex','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','selected-answer-index-hidden','#000000','http://www.w3.org/2000/svg','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','Re-grade\x20process\x20failed:','comeback_king','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','start-sync-game-btn','release','bp-modal-num-questions','strokeStyle','(ก่อนเรียน)','nickname-input','บันทึกผลการเล่นเกมของ\x20','timer-bar','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','manual_release','.pdf','size','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20','เกิดข้อผิดพลาดในการบันทึก'];_0x2577=function(){return _0x4d708b;};return _0x2577();}function handleSvgEditClick(_0x242a45){const _0x191e49=_0x7550fe;if(_0x242a45[_0x191e49(0x2de)][_0x191e49(0x5f6)][_0x191e49(0x4d3)](_0x191e49(0x2b5))){const _0x107102=_0x242a45[_0x191e49(0x2de)][_0x191e49(0xb7f)][_0x191e49(0x637)],_0x3269af=_0x242a45['currentTarget'],_0xf8f17d=_0x3269af[_0x191e49(0x2e7)]('#'+_0x107102);_0xf8f17d&&_0xf8f17d['remove'](),_0x242a45[_0x191e49(0x2de)][_0x191e49(0x309)]();}}function handleEditQuestion(_0x434573){const _0x53cf73=_0x7550fe,_0x1f8956=_0x434573[_0x53cf73(0xa73)],_0x24bb59=_0x1f8956[_0x53cf73(0xb7f)]['index'],_0x4479c4=currentQuizData[_0x53cf73(0x5c2)][_0x24bb59],_0x30131a=document['getElementById'](_0x53cf73(0x2cf)+_0x24bb59),_0x49af23=document[_0x53cf73(0xb9f)](_0x53cf73(0x38f)+_0x24bb59),_0x46e986=document[_0x53cf73(0xb9f)](_0x53cf73(0x11e)+_0x24bb59);if(_0x1f8956['innerHTML'][_0x53cf73(0x6b7)](_0x53cf73(0x48b))){_0x1f8956[_0x53cf73(0x215)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x1f8956[_0x53cf73(0x561)]=_0x53cf73(0x155);if(_0x30131a)_0x30131a[_0x53cf73(0x26c)]=!![];if(_0x49af23)_0x49af23['contentEditable']=!![];if(_0x46e986){const _0x5f0e0a=_0x46e986[_0x53cf73(0x2e7)]('svg');if(_0x5f0e0a){const _0x24a9e5=_0x5f0e0a[_0x53cf73(0xb3b)](_0x53cf73(0x965));_0x24a9e5[_0x53cf73(0x94f)]((_0x37dc7a,_0x4d311f)=>{const _0x1c354d=_0x53cf73,_0xc28c77='editable-text-'+_0x24bb59+'-'+_0x4d311f;_0x37dc7a['id']=_0xc28c77,_0x37dc7a[_0x1c354d(0x5f6)]['add'](_0x1c354d(0x133)),_0x37dc7a[_0x1c354d(0x2a3)][_0x1c354d(0x226)]=_0x1c354d(0x5d6);const _0x46625a=document[_0x1c354d(0xbb1)](_0x1c354d(0xab3),_0x1c354d(0x8e4)),_0x538631=_0x37dc7a[_0x1c354d(0x1f3)]();_0x46625a[_0x1c354d(0x6ab)]('cx',String(_0x538631['x']+_0x538631['width']+0x5)),_0x46625a[_0x1c354d(0x6ab)]('cy',String(_0x538631['y']+_0x538631[_0x1c354d(0xad0)]/0x2-0x5)),_0x46625a[_0x1c354d(0x6ab)]('r','5'),_0x46625a[_0x1c354d(0x6ab)]('fill',_0x1c354d(0xaf0)),_0x46625a['setAttribute']('class','delete-svg-btn'),_0x46625a[_0x1c354d(0xb7f)]['targetId']=_0xc28c77,_0x37dc7a[_0x1c354d(0x9d3)](_0x46625a);}),_0x5f0e0a[_0x53cf73(0x52b)](_0x53cf73(0x88c),startDrag),_0x5f0e0a[_0x53cf73(0x52b)](_0x53cf73(0x4f4),drag),_0x5f0e0a[_0x53cf73(0x52b)](_0x53cf73(0x785),endDrag),_0x5f0e0a['addEventListener'](_0x53cf73(0xaab),endDrag),_0x5f0e0a[_0x53cf73(0x52b)](_0x53cf73(0x6e9),startDrag,{'passive':![]}),_0x5f0e0a[_0x53cf73(0x52b)](_0x53cf73(0x3fa),drag,{'passive':![]}),_0x5f0e0a[_0x53cf73(0x52b)](_0x53cf73(0x665),endDrag),_0x5f0e0a[_0x53cf73(0x52b)](_0x53cf73(0x64d),endDrag),_0x5f0e0a['addEventListener']('click',handleSvgEditClick);}}if(_0x30131a)_0x30131a[_0x53cf73(0xac9)]();}else{_0x1f8956['innerHTML']=_0x53cf73(0x5d9),_0x1f8956[_0x53cf73(0x561)]=_0x53cf73(0x70a);if(_0x30131a){_0x30131a[_0x53cf73(0x26c)]=![];const _0x5a016c=_0x4479c4[_0x53cf73(0x92a)]||currentQuizData[_0x53cf73(0x874)];_0x5a016c===_0x53cf73(0x370)?_0x4479c4['stem']=_0x30131a[_0x53cf73(0x94b)]['substring'](_0x30131a[_0x53cf73(0x94b)]['indexOf']('.')+0x2)[_0x53cf73(0x9f3)]():_0x4479c4[_0x53cf73(0x653)]=_0x30131a['innerText'][_0x53cf73(0x12c)](_0x30131a[_0x53cf73(0x94b)]['indexOf']('.')+0x2)[_0x53cf73(0x9f3)]();}_0x49af23&&(_0x49af23['contentEditable']=![],_0x4479c4[_0x53cf73(0x9c7)]=_0x49af23[_0x53cf73(0x94b)]);if(_0x46e986){const _0x14d04a=_0x46e986[_0x53cf73(0x2e7)](_0x53cf73(0x534));if(_0x14d04a){const _0x5114f4=_0x14d04a[_0x53cf73(0x596)](!![]);_0x5114f4[_0x53cf73(0xb3b)](_0x53cf73(0x463))[_0x53cf73(0x94f)](_0x2f0e59=>_0x2f0e59[_0x53cf73(0x309)]()),_0x5114f4[_0x53cf73(0xb3b)](_0x53cf73(0x6e2))[_0x53cf73(0x94f)](_0x6ada51=>{const _0x3b057e=_0x53cf73;_0x6ada51[_0x3b057e(0x5f6)][_0x3b057e(0x309)]('draggable-text'),_0x6ada51[_0x3b057e(0x2a3)]['cursor']=_0x3b057e(0x5f1),_0x6ada51[_0x3b057e(0x689)]('id');}),_0x4479c4[_0x53cf73(0xa0a)]=_0x5114f4[_0x53cf73(0x66c)],_0x14d04a['removeEventListener'](_0x53cf73(0x88c),startDrag),_0x14d04a[_0x53cf73(0xb5f)](_0x53cf73(0x4f4),drag),_0x14d04a[_0x53cf73(0xb5f)](_0x53cf73(0x785),endDrag),_0x14d04a[_0x53cf73(0xb5f)](_0x53cf73(0xaab),endDrag),_0x14d04a['removeEventListener'](_0x53cf73(0x6e9),startDrag),_0x14d04a[_0x53cf73(0xb5f)]('touchmove',drag),_0x14d04a[_0x53cf73(0xb5f)](_0x53cf73(0x665),endDrag),_0x14d04a[_0x53cf73(0xb5f)](_0x53cf73(0x64d),endDrag),_0x14d04a[_0x53cf73(0xb5f)](_0x53cf73(0x909),handleSvgEditClick),_0x14d04a['querySelectorAll']('.delete-svg-btn')[_0x53cf73(0x94f)](_0xb6281e=>_0xb6281e[_0x53cf73(0x309)]()),_0x14d04a[_0x53cf73(0xb3b)]('.draggable-text')['forEach'](_0x41b722=>{const _0x57b815=_0x53cf73;_0x41b722[_0x57b815(0x5f6)][_0x57b815(0x309)](_0x57b815(0x133)),_0x41b722[_0x57b815(0x2a3)]['cursor']=_0x57b815(0x5f1);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x7c0d8){const _0x182afb=_0x7550fe,_0x4c907f=document[_0x182afb(0xb9f)](_0x182afb(0x69d)),_0x36c357=document[_0x182afb(0xb9f)](_0x182afb(0x9ed));_0x36c357[_0x182afb(0x215)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x4c907f[_0x182afb(0x5f6)]['remove'](_0x182afb(0x3c0));try{const _0x45ba06=doc(db,_0x182afb(0x3dc)+appId+'/public/data/quizzes',_0x7c0d8),_0x32e85e=await getDoc(_0x45ba06);if(!_0x32e85e[_0x182afb(0x7be)]())throw new Error(_0x182afb(0x8ae));currentEditingQuizData={'id':_0x7c0d8,..._0x32e85e['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x3619ba){console[_0x182afb(0x930)](_0x182afb(0x7ba),_0x3619ba),showMessage(_0x182afb(0x1af)),_0x4c907f['classList'][_0x182afb(0x314)]('hidden');}}function renderQuizEditor(_0x2cfbd0){const _0x35d27b=_0x7550fe;document[_0x35d27b(0xb9f)](_0x35d27b(0x150))[_0x35d27b(0x6b0)]=_0x2cfbd0[_0x35d27b(0xb1c)];const _0x17c2f0=document[_0x35d27b(0xb9f)](_0x35d27b(0x9ed));let _0x368708=_0x2cfbd0[_0x35d27b(0x5c2)][_0x35d27b(0x25d)]((_0x5ad307,_0x3f59dd)=>{const _0x2f7869=_0x35d27b;let _0x24a283='';const _0x36994e=_0x5ad307[_0x2f7869(0x92a)]||_0x2cfbd0[_0x2f7869(0x874)];switch(_0x36994e){case _0x2f7869(0x81c):const _0x508673=(_0x5ad307['options']||[])[_0x2f7869(0x25d)]((_0x3291cb,_0x1217d7)=>_0x2f7869(0x58a)+_0x3f59dd+_0x2f7869(0x38a)+_0x1217d7+'\x22\x20'+(_0x1217d7===_0x5ad307[_0x2f7869(0x30b)]?_0x2f7869(0x20e):'')+_0x2f7869(0x9fe)+_0x3291cb+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x24a283='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x508673+_0x2f7869(0xa26);break;case _0x2f7869(0xaf9):_0x24a283=_0x2f7869(0xb9c)+(_0x5ad307['idealAnswer']||'')+_0x2f7869(0x816);break;case _0x2f7869(0x728):_0x24a283=_0x2f7869(0x9f1)+_0x3f59dd+_0x2f7869(0xac7)+(_0x5ad307[_0x2f7869(0x9f8)]===!![]?'checked':'')+_0x2f7869(0x6a7)+_0x3f59dd+_0x2f7869(0xa94)+(_0x5ad307[_0x2f7869(0x9f8)]===![]?_0x2f7869(0x20e):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2f7869(0x370):_0x24a283='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x5ad307[_0x2f7869(0xa8d)]||'')+_0x2f7869(0x4b9);break;}const _0x5c8892=_0x5ad307[_0x2f7869(0x653)]||_0x5ad307['stem']||'';return _0x2f7869(0xb0a)+_0x3f59dd+_0x2f7869(0x960)+_0x36994e+_0x2f7869(0x87b)+(_0x3f59dd+0x1)+'\x20('+_0x36994e+_0x2f7869(0x451)+_0x5c8892+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x24a283+_0x2f7869(0x3aa);})[_0x35d27b(0x7fa)]('');_0x17c2f0[_0x35d27b(0x215)]=_0x368708,_0x17c2f0[_0x35d27b(0xb3b)]('.ai-fix-question-btn')[_0x35d27b(0x94f)](_0x19699a=>{_0x19699a['addEventListener']('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x117547){const _0x13c8ba=_0x7550fe,_0x550d01=_0x117547['currentTarget'],_0xe22d6e=_0x550d01['closest'](_0x13c8ba(0x80c));if(!_0xe22d6e)return;const _0x3ba51b=parseInt(_0xe22d6e[_0x13c8ba(0xb7f)]['qIndex'],0xa);if(isNaN(_0x3ba51b)||!currentEditingQuizData[_0x13c8ba(0x5c2)][_0x3ba51b]){showMessage(_0x13c8ba(0x1f1));return;}const _0x175a95=currentEditingQuizData[_0x13c8ba(0x5c2)][_0x3ba51b];_0x550d01['innerHTML']=_0x13c8ba(0x7e1),_0x550d01['disabled']=!![];const _0x4c68d1=_0x13c8ba(0x2eb)+JSON['stringify'](_0x175a95)+_0x13c8ba(0x8f9);let _0xf99e90;const _0x5c1377=_0x175a95[_0x13c8ba(0x92a)]||currentEditingQuizData['quizType'];switch(_0x5c1377){case _0x13c8ba(0xaf9):_0xf99e90={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x13c8ba(0x9c9)},'imageCode':{'type':_0x13c8ba(0x9c9)}},'required':['questionText','idealAnswer',_0x13c8ba(0x9c7)]};break;case'multiple_choice':default:_0xf99e90={'type':_0x13c8ba(0xa05),'properties':{'questionText':{'type':_0x13c8ba(0x9c9)},'options':{'type':_0x13c8ba(0x5fd),'items':{'type':_0x13c8ba(0x9c9)}},'correctAnswerIndex':{'type':_0x13c8ba(0x234)},'explanation':{'type':_0x13c8ba(0x9c9)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x13c8ba(0xbe2),_0x13c8ba(0x30b),'explanation']};break;}try{let _0x352cfd=await callAnalysisApi(_0x4c68d1,_0xf99e90);_0x352cfd[_0x13c8ba(0xbe2)]&&Array['isArray'](_0x352cfd[_0x13c8ba(0xbe2)])&&(_0x352cfd[_0x13c8ba(0xbe2)]=_0x352cfd[_0x13c8ba(0xbe2)][_0x13c8ba(0x25d)](_0x4bfce7=>typeof _0x4bfce7===_0x13c8ba(0x95b)?_0x4bfce7[_0x13c8ba(0x38e)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x4bfce7)),_0x175a95[_0x13c8ba(0xa0a)]&&_0x175a95['imageCode'][_0x13c8ba(0x6b7)](_0x13c8ba(0x555))&&(_0x352cfd[_0x13c8ba(0xa0a)]=''),currentEditingQuizData[_0x13c8ba(0x5c2)][_0x3ba51b]={..._0x175a95,..._0x352cfd},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x25ffbd){console[_0x13c8ba(0x930)](_0x13c8ba(0xb95),_0x25ffbd),showMessage(_0x13c8ba(0x60e)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x28531b=_0x7550fe,_0x1d88d9=document[_0x28531b(0xb9f)](_0x28531b(0xa3f));_0x1d88d9['disabled']=!![],_0x1d88d9[_0x28531b(0x215)]=_0x28531b(0x9d7);try{const _0xcc53d1=document[_0x28531b(0xb9f)]('editor-quiz-topic')[_0x28531b(0x6b0)],_0x82f7f7=document['querySelectorAll'](_0x28531b(0x80c));let _0x3da58c=[];const _0x22f157=Array[_0x28531b(0x850)](_0x82f7f7)['map']((_0x372071,_0x5e4c24)=>{const _0x4f83d6=_0x28531b,_0x397397=_0x372071[_0x4f83d6(0xb7f)][_0x4f83d6(0x9e5)],_0x1c462d=_0x372071['querySelector']('textarea')[_0x4f83d6(0x6b0)][_0x4f83d6(0x38e)](/\n/g,_0x4f83d6(0x151));let _0x4a2b1d={'questionType':_0x397397};const _0x4885d6=currentEditingQuizData[_0x4f83d6(0x5c2)][_0x5e4c24];switch(_0x397397){case _0x4f83d6(0x81c):_0x4a2b1d['questionText']=_0x1c462d;const _0x7ddb82=_0x372071['querySelectorAll'](_0x4f83d6(0x65f));_0x4a2b1d[_0x4f83d6(0xbe2)]=Array[_0x4f83d6(0x850)](_0x7ddb82)[_0x4f83d6(0x25d)](_0x48c746=>_0x48c746['value']);const _0x268ddc=_0x372071[_0x4f83d6(0x2e7)]('input[type=\x22radio\x22]:checked');_0x4a2b1d[_0x4f83d6(0x30b)]=_0x268ddc?parseInt(_0x268ddc['value']):0x0;break;case _0x4f83d6(0xaf9):_0x4a2b1d['questionText']=_0x1c462d,_0x4a2b1d['idealAnswer']=_0x372071[_0x4f83d6(0x2e7)]('.ideal-answer-input')[_0x4f83d6(0x6b0)];break;case'true_false':_0x4a2b1d[_0x4f83d6(0x653)]=_0x1c462d;const _0x6c7ce9=_0x372071[_0x4f83d6(0x2e7)](_0x4f83d6(0x217));_0x4a2b1d[_0x4f83d6(0x9f8)]=_0x6c7ce9?_0x6c7ce9['value']===_0x4f83d6(0xb66):!![];break;case _0x4f83d6(0x370):_0x4a2b1d[_0x4f83d6(0x4b6)]=_0x1c462d;const _0x124a86=_0x372071[_0x4f83d6(0x2e7)](_0x4f83d6(0x32f));_0x4a2b1d[_0x4f83d6(0xa8d)]=_0x124a86?_0x124a86['value']:'',_0x3da58c[_0x4f83d6(0x5ca)](_0x4a2b1d[_0x4f83d6(0xa8d)]);break;default:_0x4a2b1d['questionText']=_0x1c462d;break;}return{..._0x4885d6,..._0x4a2b1d};});_0x3da58c[_0x28531b(0x384)]>0x0&&_0x22f157['forEach'](_0xa67a1b=>{const _0x3b8bec=_0x28531b;_0xa67a1b[_0x3b8bec(0x92a)]===_0x3b8bec(0x370)&&(_0xa67a1b['allResponses']=_0x3da58c);});const _0x4c0d2f=currentEditingQuizData['id'],_0x4db01b=doc(db,_0x28531b(0x3dc)+appId+_0x28531b(0x7a5),_0x4c0d2f);await updateDoc(_0x4db01b,{'topic':_0xcc53d1,'questions':_0x22f157}),document['getElementById']('quiz-editor-modal')['classList'][_0x28531b(0x314)]('hidden'),showMessage(_0x28531b(0x15d),()=>initiateReGradeProcess(_0x4c0d2f));}catch(_0x25c397){console['error'](_0x28531b(0x2f5),_0x25c397),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x1d88d9[_0x28531b(0xa75)]=![],_0x1d88d9[_0x28531b(0x215)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x343502){const _0xf54e48=_0x7550fe;showMessage(_0xf54e48(0x2cc));try{const _0x32a181=doc(db,_0xf54e48(0x3dc)+appId+_0xf54e48(0x7a5),_0x343502),_0x29299b=await getDoc(_0x32a181);if(!_0x29299b[_0xf54e48(0x7be)]())throw new Error(_0xf54e48(0x2f0));const _0x5aebb0={'id':_0x343502,..._0x29299b[_0xf54e48(0xaf1)]()},_0x59e281=collection(db,_0xf54e48(0x3dc)+appId+_0xf54e48(0x7a5),_0x343502,_0xf54e48(0x46c)),_0x5934c8=await getDocs(_0x59e281);if(_0x5934c8[_0xf54e48(0x8d2)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x229828=_0x5934c8[_0xf54e48(0x68e)][_0xf54e48(0x25d)](_0x4dcc1c=>reGradeSingleSubmission(_0x4dcc1c,_0x5aebb0));await Promise[_0xf54e48(0xa9e)](_0x229828);if(_0x5aebb0[_0xf54e48(0x176)]){const _0x36a88c=doc(db,_0xf54e48(0x3dc)+appId+_0xf54e48(0x466),_0x5aebb0[_0xf54e48(0x176)]),_0x5a2ceb=await getDoc(_0x36a88c);if(_0x5a2ceb[_0xf54e48(0x7be)]()&&_0x5a2ceb[_0xf54e48(0xaf1)]()[_0xf54e48(0x80f)]){const _0x49972e=_0x5a2ceb[_0xf54e48(0xaf1)]()[_0xf54e48(0x80f)][_0xf54e48(0x25d)](_0x267ceb=>updateStudentProfile(_0x5aebb0[_0xf54e48(0x176)],_0x267ceb));await Promise['all'](_0x49972e);}}showMessage(_0xf54e48(0x437)+_0x5934c8['size']+_0xf54e48(0x1db));}catch(_0x39d0ba){console[_0xf54e48(0x930)](_0xf54e48(0xab6),_0x39d0ba),showMessage(_0xf54e48(0x993)+_0x39d0ba[_0xf54e48(0xa4c)]);}}async function reGradeSingleSubmission(_0x57db01,_0x11a537){const _0x32afcf=_0x7550fe,_0x4720ca=_0x57db01[_0x32afcf(0xaf1)](),_0x3a32af=_0x4720ca[_0x32afcf(0x884)],_0xb88533=_0x4720ca[_0x32afcf(0x9ba)]||[],_0x17ef7a=[];for(const _0x167aee of _0xb88533){let _0xa54db2=0x0,_0x1a9476=[],_0x32dade=0x0;const _0x4e0aa0=[];for(const _0x149e95 of _0x167aee[_0x32afcf(0x3b5)]){let _0x326c79;_0x149e95['questionId']&&(_0x326c79=_0x11a537[_0x32afcf(0x5c2)][_0x32afcf(0x3de)](_0x107376=>_0x107376['id']===_0x149e95[_0x32afcf(0xaca)]));!_0x326c79&&_0x149e95[_0x32afcf(0xb59)]&&(_0x326c79=_0x11a537[_0x32afcf(0x5c2)][_0x32afcf(0x3de)](_0x502818=>(_0x502818['stem']||_0x502818[_0x32afcf(0x653)])===_0x149e95[_0x32afcf(0xb59)]));let _0xe0ece8=![];if(_0x326c79){const _0x6225f3=_0x326c79['questionType']||_0x11a537[_0x32afcf(0x874)];switch(_0x6225f3){case _0x32afcf(0x81c):if(_0x326c79[_0x32afcf(0xbe2)]&&_0x326c79['correctAnswerIndex']<_0x326c79[_0x32afcf(0xbe2)]['length']){const _0x28fb36=_0x326c79[_0x32afcf(0xbe2)][_0x326c79[_0x32afcf(0x30b)]];_0xe0ece8=_0x149e95[_0x32afcf(0x481)]===_0x28fb36;}break;case _0x32afcf(0x728):const _0x58af45=_0x149e95[_0x32afcf(0x929)]===!![]||_0x149e95[_0x32afcf(0x929)]===_0x32afcf(0xb66);_0xe0ece8=_0x58af45===_0x326c79['correctAnswer'];break;case _0x32afcf(0x370):_0xe0ece8=_0x149e95[_0x32afcf(0x929)]===_0x326c79[_0x32afcf(0xa8d)];break;case _0x32afcf(0xaf9):_0xe0ece8=await gradeShortAnswer(_0x149e95[_0x32afcf(0x929)],_0x326c79);break;default:_0xe0ece8=_0x149e95[_0x32afcf(0x8c1)];break;}}if(_0xe0ece8){_0xa54db2++,_0x32dade++;if(_0x32dade===0x3)_0x1a9476[_0x32afcf(0x5ca)](BADGES[_0x32afcf(0xb3f)]['id']);}else _0x32dade=0x0;_0x4e0aa0[_0x32afcf(0x5ca)]({..._0x149e95,'isCorrect':_0xe0ece8});}let _0x3289b8=_0xa54db2*0xa;_0xa54db2===_0x11a537[_0x32afcf(0x5c2)][_0x32afcf(0x384)]&&(_0x3289b8+=0x32,_0x1a9476['push'](BADGES[_0x32afcf(0x5f4)]['id'])),_0x17ef7a[_0x32afcf(0x5ca)]({..._0x167aee,'score':_0xa54db2,'points':_0x3289b8,'badges':Array[_0x32afcf(0x850)](new Set(_0x1a9476)),'answers':_0x4e0aa0});}const _0x596fe9=_0x17ef7a[_0x32afcf(0x384)]>0x0?_0x17ef7a[0x0][_0x32afcf(0x5e9)]:0x0,_0x4f1a61=Math['max'](..._0x17ef7a['map'](_0x524fc6=>_0x524fc6['score'])),_0x4c66d0=_0x17ef7a[_0x32afcf(0x384)]>0x0?_0x17ef7a[_0x17ef7a[_0x32afcf(0x384)]-0x1][_0x32afcf(0x5e9)]:0x0,_0xfb1e43=_0x17ef7a['length']>0x0?_0x17ef7a[_0x17ef7a[_0x32afcf(0x384)]-0x1][_0x32afcf(0x4d6)]:0x0,_0xb0a999=doc(db,_0x32afcf(0x3dc)+appId+'/public/data/quizzes/'+_0x11a537['id']+'/submissions',_0x3a32af);await updateDoc(_0xb0a999,{'attempts':_0x17ef7a,'firstScore':_0x596fe9,'bestScore':_0x4f1a61,'latestScore':_0x4c66d0,'points':_0xfb1e43});}function cleanupQuizOptions(_0x3486dd){const _0x309c40=_0x7550fe,_0x3b30aa=(_0x3305f6,_0x5e2b78)=>_0x5e2b78===0x0?_0x3305f6:_0x3b30aa(_0x5e2b78,_0x3305f6%_0x5e2b78),_0x43c9f1=_0x3f3cd2=>{const _0x4f633b=_0x393b;if(typeof _0x3f3cd2!==_0x4f633b(0x95b))return null;_0x3f3cd2=_0x3f3cd2[_0x4f633b(0x9f3)]();const _0x31629d=_0x3f3cd2[_0x4f633b(0x735)](/[ /]/)[_0x4f633b(0x67f)](_0x52aa5d=>_0x52aa5d!=='');if(_0x31629d[_0x4f633b(0x384)]===0x3)return parseInt(_0x31629d[0x0])+parseInt(_0x31629d[0x1])/parseInt(_0x31629d[0x2]);else{if(_0x31629d[_0x4f633b(0x384)]===0x2)return parseInt(_0x31629d[0x0])/parseInt(_0x31629d[0x1]);else{if(_0x31629d[_0x4f633b(0x384)]===0x1&&!isNaN(_0x31629d[0x0]))return parseFloat(_0x31629d[0x0]);}}return null;},_0x20bbee=_0x607330=>{const _0x47c2ba=_0x393b;if(typeof _0x607330!=='string')return _0x607330;const _0x3cc78e=_0x607330['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3cc78e){const _0x1f07d=parseInt(_0x3cc78e[0x1]);let _0x233b55=parseInt(_0x3cc78e[0x2]),_0x4cbb9e=parseInt(_0x3cc78e[0x3]);const _0x5210d0=_0x3b30aa(_0x233b55,_0x4cbb9e);_0x233b55/=_0x5210d0,_0x4cbb9e/=_0x5210d0;if(_0x4cbb9e===0x1)return(_0x1f07d+_0x233b55)[_0x47c2ba(0xba9)]();return _0x1f07d+'\x20'+_0x233b55+'/'+_0x4cbb9e;}return _0x607330;};return _0x3486dd&&_0x3486dd[_0x309c40(0x5c2)]&&_0x3486dd['questions']['forEach'](_0x481519=>{const _0x30ea85=_0x309c40;if(_0x481519[_0x30ea85(0x92a)]===_0x30ea85(0x81c)&&_0x481519[_0x30ea85(0xbe2)]){const _0x34451d=new Map(),_0x454b3b=_0x481519['options'][_0x481519[_0x30ea85(0x30b)]];_0x481519['options'][_0x30ea85(0x94f)](_0x227b45=>{const _0x38c729=_0x30ea85,_0x4dc042=_0x20bbee(_0x227b45),_0x59dd9c=_0x43c9f1(_0x4dc042);_0x59dd9c!==null&&!_0x34451d[_0x38c729(0x23c)](_0x59dd9c)&&_0x34451d[_0x38c729(0x24a)](_0x59dd9c,_0x4dc042);}),_0x481519[_0x30ea85(0xbe2)]=Array[_0x30ea85(0x850)](_0x34451d[_0x30ea85(0x713)]());const _0x58c65d=_0x481519[_0x30ea85(0xbe2)][_0x30ea85(0x878)](_0x5cd295=>_0x5cd295===_0x20bbee(_0x454b3b));_0x481519['correctAnswerIndex']=_0x58c65d!==-0x1?_0x58c65d:0x0;}}),_0x3486dd;}function showGameStartConfirmationModal(_0x2060e5,_0x54825a,_0x1a8550){const _0x5a6215=_0x7550fe,_0x29e1b6=document[_0x5a6215(0xb9f)](_0x5a6215(0x319));document[_0x5a6215(0xb9f)](_0x5a6215(0x8e7))[_0x5a6215(0x33f)]='เริ่มกิจกรรม:\x20'+_0x1a8550,document[_0x5a6215(0xb9f)]('game-start-quiz-id')['value']=_0x2060e5,document[_0x5a6215(0xb9f)](_0x5a6215(0x47b))['value']=_0x54825a,document['getElementById'](_0x5a6215(0xae6))[_0x5a6215(0x20e)]=!![],_0x29e1b6[_0x5a6215(0x5f6)][_0x5a6215(0x309)]('hidden');}async function saveGameResultsAsSubmissions(_0x3c14e0){const _0x46d3f4=_0x7550fe;console[_0x46d3f4(0xbf7)]('Attempting\x20to\x20save\x20game\x20results...',_0x3c14e0);const _0x3787a3=_0x3c14e0[_0x46d3f4(0xbe5)];let _0x511455=[];if(_0x3c14e0['players'])_0x511455=Object[_0x46d3f4(0x8f3)](_0x3c14e0[_0x46d3f4(0x340)])[_0x46d3f4(0x25d)](([_0x48aa00,_0x3a72e3])=>({'name':_0x48aa00,..._0x3a72e3}));else{if(_0x3c14e0[_0x46d3f4(0xb1b)])Object[_0x46d3f4(0x713)](_0x3c14e0[_0x46d3f4(0xb1b)])[_0x46d3f4(0x94f)](_0x128171=>{const _0x183447=_0x46d3f4;_0x128171[_0x183447(0x84f)][_0x183447(0x94f)](_0x4af902=>{const _0x234487=_0x183447;_0x511455[_0x234487(0x5ca)]({'name':_0x4af902,'score':_0x128171['score']});});});else _0x3c14e0['responses']&&Object[_0x46d3f4(0x8f3)](_0x3c14e0[_0x46d3f4(0x266)])[_0x46d3f4(0x94f)](([_0xaa6a90,_0x20295d])=>{_0x511455['push']({'name':_0xaa6a90,..._0x20295d});});}if(_0x511455[_0x46d3f4(0x384)]===0x0){console[_0x46d3f4(0xbf7)](_0x46d3f4(0xa20));return;}const _0x91df6f=_0x3c14e0[_0x46d3f4(0xb6b)]?.[_0x46d3f4(0x5c2)][_0x46d3f4(0x384)]||currentQuizData[_0x46d3f4(0x5c2)][_0x46d3f4(0x384)],_0x33f477=writeBatch(db);for(const _0x43fc3e of _0x511455){const _0x2bd2ef=_0x43fc3e['score']||0x0,_0x350a13=doc(db,_0x46d3f4(0x3dc)+appId+_0x46d3f4(0x315)+_0x3787a3+_0x46d3f4(0x6dd),_0x43fc3e[_0x46d3f4(0x47f)]),_0x8a0bf1=(_0x43fc3e[_0x46d3f4(0x3b5)]||[])[_0x46d3f4(0x67f)](_0x1aa778=>_0x1aa778[_0x46d3f4(0x8c1)])[_0x46d3f4(0x384)],_0x8eec40={'score':_0x8a0bf1,'points':_0x2bd2ef,'badges':_0x43fc3e['badges']||[],'submittedAt':new Date()[_0x46d3f4(0x170)](),'answers':(_0x43fc3e[_0x46d3f4(0x3b5)]||[])['map'](_0x2454ab=>({'questionId':_0x2454ab[_0x46d3f4(0xaca)],'answer':_0x2454ab[_0x46d3f4(0x929)],'answerText':_0x2454ab['answerText'],'isCorrect':_0x2454ab[_0x46d3f4(0x8c1)],'originalQuestionText':_0x2454ab['originalQuestionText'],'wasConfident':_0x2454ab['wasConfident']}))},_0x230333=await getDoc(_0x350a13),_0x3f04eb=_0x230333[_0x46d3f4(0x7be)]()?_0x230333[_0x46d3f4(0xaf1)]():{},_0x91f0c2=_0x3f04eb[_0x46d3f4(0x976)]||0x0,_0xc7816e=_0x3f04eb[_0x46d3f4(0x9ba)]||[],_0x43443c={'studentName':_0x43fc3e[_0x46d3f4(0x47f)],'totalQuestions':_0x91df6f,'attempts':arrayUnion(_0x8eec40),'latestScore':_0x8a0bf1,'points':_0x2bd2ef,'latestSubmittedAt':_0x8eec40[_0x46d3f4(0xa37)],'bestScore':Math[_0x46d3f4(0x2b7)](_0x91f0c2,_0x8a0bf1),'firstScore':_0xc7816e[_0x46d3f4(0x384)]===0x0?_0x8a0bf1:_0x3f04eb[_0x46d3f4(0x2d1)]||0x0};_0x33f477[_0x46d3f4(0x24a)](_0x350a13,_0x43443c,{'merge':!![]});}try{await _0x33f477[_0x46d3f4(0x24d)](),showMessage(_0x46d3f4(0xac0)+_0x511455[_0x46d3f4(0x384)]+_0x46d3f4(0x2aa));const _0x4eca58=_0x3c14e0[_0x46d3f4(0xb6b)]?.[_0x46d3f4(0x176)]||currentQuizData?.[_0x46d3f4(0x176)]||currentProjectId;if(_0x4eca58){const _0x388ce5=[...new Set(_0x511455[_0x46d3f4(0x25d)](_0x383d7a=>_0x383d7a[_0x46d3f4(0x47f)]))];for(const _0xaee58c of _0x388ce5){await updateStudentProfile(_0x4eca58,_0xaee58c);}}}catch(_0xd0ae52){console[_0x46d3f4(0x930)]('Error\x20saving\x20game\x20results:',_0xd0ae52),showMessage(_0x46d3f4(0x2b3));}}async function saveQuiz(_0x5379e8=null,_0x161495=null){const _0x3616b6=_0x7550fe,_0x58a9d8=_0x5379e8||currentProjectId;if(!_0x58a9d8){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3616b6(0x5c2)]||!userId){showMessage(_0x3616b6(0x63b));return;}const _0x5221c9=document[_0x3616b6(0xb9f)](_0x3616b6(0xb47));_0x5221c9[_0x3616b6(0xa75)]=!![],_0x5221c9[_0x3616b6(0x215)]=_0x3616b6(0x9d7);const _0x2a1017=document[_0x3616b6(0xb9f)]('pre-test-checkbox')['checked'];let _0x29ee26=document['getElementById'](_0x3616b6(0x3e8))[_0x3616b6(0x94b)][_0x3616b6(0x9f3)]();_0x2a1017&&!_0x29ee26[_0x3616b6(0x85c)](_0x3616b6(0xabe))&&(_0x29ee26=_0x3616b6(0x7de)+_0x29ee26);try{const _0x5eb135={'resultsDisplay':document[_0x3616b6(0xb9f)](_0x3616b6(0x6f2))[_0x3616b6(0x6b0)],'shuffle':document[_0x3616b6(0xb9f)]('shuffle-setting-select')[_0x3616b6(0x6b0)],'timerMode':document[_0x3616b6(0xb9f)](_0x3616b6(0xa5d))['value'],'timerDuration':parseInt(document[_0x3616b6(0xb9f)](_0x3616b6(0x615))['value'])||0xa,'passingScore':parseInt(document[_0x3616b6(0xb9f)](_0x3616b6(0x7a8))[_0x3616b6(0x6b0)])||0x0,'isAdaptive':document[_0x3616b6(0xb9f)]('adaptive-quiz-checkbox')[_0x3616b6(0x20e)],'loopUntilPass':document[_0x3616b6(0xb9f)]('loop-until-pass-checkbox')['checked']},_0x4c7227=(currentQuizData[_0x3616b6(0x5c2)]||[])[_0x3616b6(0x25d)]((_0x5c04be,_0x3f26c7)=>{const _0x2b8573=_0x3616b6,_0x319f1f=document[_0x2b8573(0xb9f)](_0x2b8573(0x3b9))[_0x2b8573(0x6b0)],_0x415029={'id':'q_'+Date[_0x2b8573(0x711)]()+'_'+_0x3f26c7,'questionText':_0x5c04be[_0x2b8573(0x653)]||'','explanation':_0x5c04be[_0x2b8573(0x9c7)]||'ไม่มีคำอธิบาย','questionType':_0x5c04be[_0x2b8573(0x92a)]||_0x319f1f,'imageCode':_0x5c04be[_0x2b8573(0xa0a)]||null};return(_0x415029[_0x2b8573(0x92a)]===_0x2b8573(0x81c)||_0x415029[_0x2b8573(0x92a)]===_0x2b8573(0x361)||_0x415029[_0x2b8573(0x92a)]===_0x2b8573(0x3f4)&&_0x5c04be[_0x2b8573(0xbe2)])&&(_0x415029['options']=_0x5c04be['options']||[],_0x415029[_0x2b8573(0x30b)]=_0x5c04be[_0x2b8573(0x30b)]!==undefined?_0x5c04be['correctAnswerIndex']:0x0),(_0x415029[_0x2b8573(0x92a)]===_0x2b8573(0xaf9)||_0x415029[_0x2b8573(0x92a)]===_0x2b8573(0xa9f)||_0x415029[_0x2b8573(0x92a)]==='mixed'&&_0x5c04be[_0x2b8573(0xa33)])&&(_0x415029[_0x2b8573(0xa33)]=_0x5c04be['idealAnswer']||''),_0x415029[_0x2b8573(0x92a)]===_0x2b8573(0x728)&&(_0x415029[_0x2b8573(0x9f8)]=_0x5c04be[_0x2b8573(0x9f8)]===!![]),_0x415029[_0x2b8573(0x92a)]===_0x2b8573(0x370)&&(_0x415029[_0x2b8573(0x4b6)]=_0x5c04be[_0x2b8573(0x4b6)]||'',_0x415029[_0x2b8573(0xa8d)]=_0x5c04be[_0x2b8573(0xa8d)]||'',_0x415029[_0x2b8573(0x11a)]=_0x5c04be['allResponses']||[]),_0x415029;}),_0x437e43={'topic':_0x29ee26,'quizType':currentQuizData[_0x3616b6(0x874)]||_0x3616b6(0x81c),'questions':_0x4c7227,'projectId':_0x58a9d8,'createdBy':userId,'createdAt':new Date()[_0x3616b6(0x170)](),'status':_0x3616b6(0x97e),'settings':_0x5eb135,'quizMode':_0x2a1017?'pre-test':_0x3616b6(0x91c),'pairedQuizId':null,'lessonPlan':null};let _0x167634;while(!![]){_0x167634=Math[_0x3616b6(0xa02)](0x3e8+Math[_0x3616b6(0x5b4)]()*0x2328)[_0x3616b6(0xba9)]();const _0x57dadf=await getDoc(doc(db,'artifacts/'+appId+_0x3616b6(0x7a5),_0x167634));if(!_0x57dadf[_0x3616b6(0x7be)]())break;}await setDoc(doc(db,_0x3616b6(0x3dc)+appId+_0x3616b6(0x7a5),_0x167634),_0x437e43);if(_0x161495&&currentBlueprintProjectId){console[_0x3616b6(0xbf7)](_0x3616b6(0x6f6)+_0x167634+_0x3616b6(0x870)+_0x161495);try{const _0x326c68=doc(db,_0x3616b6(0x3dc)+appId+_0x3616b6(0x312),currentBlueprintProjectId);await updateDoc(_0x326c68,{['topics.'+_0x161495+'.linkedQuizIds']:arrayUnion(_0x167634)});}catch(_0x36bdb4){console['error']('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x36bdb4);}}currentQuizData[_0x3616b6(0x996)]=_0x5eb135,currentQuizData['id']=_0x167634;const _0x37baa1=document[_0x3616b6(0xb9f)](_0x3616b6(0x2a0));_0x37baa1[_0x3616b6(0x215)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x167634+_0x3616b6(0x199),document[_0x3616b6(0xb9f)](_0x3616b6(0x6b3))[_0x3616b6(0x52b)](_0x3616b6(0x909),()=>copyTextToClipboard(_0x167634,_0x3616b6(0x670))),document['getElementById'](_0x3616b6(0x7ee))[_0x3616b6(0x52b)]('click',()=>handleStartLiveRace(_0x167634)),document[_0x3616b6(0xb9f)]('start-presentation-btn')[_0x3616b6(0x52b)]('click',()=>startPresentation(currentQuizData)),document[_0x3616b6(0xb9f)](_0x3616b6(0x9ad))[_0x3616b6(0x52b)](_0x3616b6(0x909),startAdminTest),showMessage(_0x3616b6(0xadb));}catch(_0x32bb3e){console[_0x3616b6(0x930)](_0x3616b6(0x458),_0x32bb3e),showMessage(_0x3616b6(0x982));}finally{_0x5221c9['disabled']=![],_0x5221c9[_0x3616b6(0x215)]=_0x3616b6(0x7bc);}}function promptForProjectAndSave(){const _0x104745=_0x7550fe,_0x1280ab=document[_0x104745(0xb9f)](_0x104745(0xa58)),_0x464d39=document[_0x104745(0xb9f)](_0x104745(0x730)),_0x37d10a=_0x1280ab[_0x104745(0x2e7)]('h3'),_0x256714=document['getElementById'](_0x104745(0x2ed));_0x37d10a[_0x104745(0x33f)]='เลือกโปรเจคเพื่อบันทึก',_0x256714['textContent']=_0x104745(0x85b);allProjects[_0x104745(0x384)]===0x0?(_0x464d39[_0x104745(0x215)]=_0x104745(0x9a1),_0x256714[_0x104745(0xa75)]=!![]):(_0x464d39[_0x104745(0x215)]=allProjects[_0x104745(0x25d)](_0x3f00a2=>_0x104745(0x93a)+_0x3f00a2['id']+'\x22>'+_0x3f00a2[_0x104745(0x7aa)]+_0x104745(0xb9e))[_0x104745(0x7fa)](''),_0x256714['disabled']=![]);_0x1280ab[_0x104745(0x5f6)]['remove'](_0x104745(0x3c0));const _0x4031fe=()=>{const _0x1678f3=_0x104745,_0x4aa839=_0x464d39[_0x1678f3(0x6b0)];_0x4aa839?(currentProjectId=_0x4aa839,_0x1280ab[_0x1678f3(0x5f6)][_0x1678f3(0x314)](_0x1678f3(0x3c0)),saveQuiz(),_0x37d10a[_0x1678f3(0x33f)]=_0x1678f3(0x8f7),_0x256714['textContent']='ย้าย',_0x256714['removeEventListener'](_0x1678f3(0x909),_0x4031fe),_0x256714[_0x1678f3(0x52b)](_0x1678f3(0x909),confirmMoveQuiz)):showMessage(_0x1678f3(0x181));};_0x256714['removeEventListener']('click',confirmMoveQuiz),_0x256714[_0x104745(0x52b)](_0x104745(0x909),_0x4031fe);}function copyTextToClipboard(_0x4a16d1,_0x1c406c){const _0x2db1d3=_0x7550fe,_0x14b7da=document[_0x2db1d3(0x51b)](_0x2db1d3(0xb37));_0x14b7da['value']=_0x4a16d1,_0x14b7da[_0x2db1d3(0x2a3)][_0x2db1d3(0xb01)]=_0x2db1d3(0x4a9),_0x14b7da[_0x2db1d3(0x2a3)][_0x2db1d3(0x6cf)]='0',document[_0x2db1d3(0x218)]['appendChild'](_0x14b7da),_0x14b7da[_0x2db1d3(0xac9)](),_0x14b7da[_0x2db1d3(0x3df)]();try{const _0x32bbff=document['execCommand'](_0x2db1d3(0x966));showMessage(_0x32bbff?_0x1c406c:'คัดลอกไม่สำเร็จ');}catch(_0xde4220){showMessage(_0x2db1d3(0x3ca)),console['error'](_0x2db1d3(0xad2),_0xde4220);}document[_0x2db1d3(0x218)]['removeChild'](_0x14b7da);}function listenForProjectQuizzes(_0x292592){const _0x3d71ab=_0x7550fe,_0x4c3e7c=collection(db,_0x3d71ab(0x3dc)+appId+_0x3d71ab(0x7a5)),_0x2ceb10=query(_0x4c3e7c,where(_0x3d71ab(0x176),'==',_0x292592));unsubscribeQuizzesListener=onSnapshot(_0x2ceb10,async _0x1f67f8=>{const _0x56fe8a=_0x3d71ab;allQuizzes=_0x1f67f8[_0x56fe8a(0x68e)][_0x56fe8a(0x25d)](_0x1661b0=>({'id':_0x1661b0['id'],..._0x1661b0[_0x56fe8a(0xaf1)]()})),renderQuizzes();},_0x3855a5=>{const _0x14e63d=_0x3d71ab;console['error']('Error\x20fetching\x20project\x20quizzes:',_0x3855a5),document[_0x14e63d(0xb9f)](_0x14e63d(0x6bf))[_0x14e63d(0x215)]=_0x14e63d(0xba1);});}async function renderQuizzes(){const _0x53c0d7=_0x7550fe,_0xa1d826=document[_0x53c0d7(0xb9f)](_0x53c0d7(0x6bf)),_0x337685=document[_0x53c0d7(0xb9f)]('quiz-search-input')[_0x53c0d7(0x6b0)][_0x53c0d7(0x402)]();let _0x23dffc;currentProjectId===_0x53c0d7(0x33a)?_0x23dffc=starredQuizzes:_0x23dffc=allQuizzes;let _0x4f0c63=_0x23dffc[_0x53c0d7(0x67f)](_0x5f42d2=>_0x5f42d2[_0x53c0d7(0xb1c)][_0x53c0d7(0x402)]()[_0x53c0d7(0x6b7)](_0x337685));_0x4f0c63[_0x53c0d7(0xa30)]((_0xebc624,_0xc5145)=>new Date(_0xc5145[_0x53c0d7(0x1d3)])-new Date(_0xebc624[_0x53c0d7(0x1d3)]));if(_0x4f0c63[_0x53c0d7(0x384)]===0x0){_0xa1d826[_0x53c0d7(0x215)]=_0x53c0d7(0x3fd);return;}const _0xdfb73={},_0x32193b=_0x4f0c63[_0x53c0d7(0x25d)](async _0x31d95c=>{const _0x3aad49=_0x53c0d7,_0x20fc6e=collection(db,_0x3aad49(0x3dc)+appId+'/public/data/quizzes/'+_0x31d95c['id']+_0x3aad49(0x6dd)),_0x5ea781=await getDocs(_0x20fc6e);_0xdfb73[_0x31d95c['id']]=_0x5ea781[_0x3aad49(0xac5)];});await Promise[_0x53c0d7(0xa9e)](_0x32193b);let _0xa1e279='';_0x4f0c63[_0x53c0d7(0x94f)](_0x532ba4=>{const _0x53eeed=_0x53c0d7,_0x3045e1=_0xdfb73[_0x532ba4['id']]||0x0,_0x2404ee=_0x532ba4[_0x53eeed(0x78a)]||_0x53eeed(0x97e),_0x22f8ae=_0x532ba4[_0x53eeed(0x996)]?.[_0x53eeed(0x93e)]||_0x53eeed(0x30f);let _0x13bdb3='',_0x33385e='';const _0x5ebf7f=new Date();let _0x3c54a0=_0x2404ee;if(_0x2404ee===_0x53eeed(0x142)){const _0x291c69=_0x532ba4['startTime']?new Date(_0x532ba4[_0x53eeed(0x519)]):null,_0x1e6bb7=_0x532ba4[_0x53eeed(0x3b0)]?new Date(_0x532ba4[_0x53eeed(0x3b0)]):null;if(_0x1e6bb7&&_0x5ebf7f>_0x1e6bb7)_0x3c54a0=_0x53eeed(0xa8a);else _0x291c69&&_0x5ebf7f<_0x291c69?_0x3c54a0=_0x53eeed(0x152):_0x3c54a0=_0x53eeed(0x97e);}switch(_0x3c54a0){case _0x53eeed(0xa8a):_0x13bdb3=_0x53eeed(0x548),_0x33385e=_0x53eeed(0x919);break;case'scheduled_pending':_0x13bdb3='รอเปิด',_0x33385e='text-blue-700\x20bg-blue-100';break;case _0x53eeed(0x97e):_0x13bdb3=_0x22f8ae!=='none'?_0x53eeed(0x5db):_0x53eeed(0x284),_0x33385e=_0x53eeed(0x2d9);break;default:_0x13bdb3=_0x53eeed(0x357),_0x33385e=_0x53eeed(0x2d9);break;}let _0xe77928='';const _0x2d3107={'day':_0x53eeed(0x469),'month':'2-digit','year':_0x53eeed(0x679),'hour':_0x53eeed(0x469),'minute':'2-digit','hour12':![]};if(_0x2404ee===_0x53eeed(0x142)){if(_0x532ba4[_0x53eeed(0x519)])_0xe77928+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x532ba4[_0x53eeed(0x519)])['toLocaleString'](_0x53eeed(0x2b8),_0x2d3107)+'</p>';if(_0x532ba4[_0x53eeed(0x3b0)])_0xe77928+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x532ba4[_0x53eeed(0x3b0)])['toLocaleString']('th-TH',_0x2d3107)+'</p>';}let _0x4dbc68='';if(_0x532ba4[_0x53eeed(0x22e)]){const _0x2a16a3=allQuizzes[_0x53eeed(0x3de)](_0x12e4c0=>_0x12e4c0['id']===_0x532ba4[_0x53eeed(0x22e)]);if(_0x2a16a3){let _0xe1971c,_0xc6f34c;new Date(_0x532ba4['createdAt'])<new Date(_0x2a16a3[_0x53eeed(0x1d3)])?(_0xe1971c=_0x532ba4['id'],_0xc6f34c=_0x2a16a3['id']):(_0xe1971c=_0x2a16a3['id'],_0xc6f34c=_0x532ba4['id']),_0x4dbc68+=_0x53eeed(0xb4a)+_0xc6f34c+_0x53eeed(0x776)+_0xe1971c+_0x53eeed(0x5b3);}}else _0x532ba4['quizMode']===_0x53eeed(0x4b3)&&(_0x4dbc68+=_0x53eeed(0xbbf)+_0x532ba4['id']+_0x53eeed(0xa63));if(_0x532ba4[_0x53eeed(0xbea)]===_0x53eeed(0x4b3)&&_0x3045e1>0x0)_0x4dbc68+=_0x53eeed(0xbbf)+_0x532ba4['id']+_0x53eeed(0x999);else!_0x532ba4['pairedQuizId']&&_0x532ba4[_0x53eeed(0xbea)]!==_0x53eeed(0x4b3)&&_0x3045e1>0x0&&(_0x4dbc68+=_0x53eeed(0xbbf)+_0x532ba4['id']+_0x53eeed(0x556));let _0x4262f1='';_0x532ba4[_0x53eeed(0x22e)]?_0x4262f1='<button\x20data-quiz-id=\x22'+_0x532ba4['id']+_0x53eeed(0x265):_0x4262f1=_0x53eeed(0x5b8)+_0x532ba4['id']+_0x53eeed(0x5c1),_0xa1e279+=_0x53eeed(0x7f5)+_0x532ba4['id']+_0x53eeed(0xaec)+_0x532ba4[_0x53eeed(0xb1c)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x532ba4[_0x53eeed(0x5c2)]['length']+_0x53eeed(0x762)+new Date(_0x532ba4['createdAt'])[_0x53eeed(0x687)](_0x53eeed(0x2b8))+_0x53eeed(0x1b6)+_0x3045e1+_0x53eeed(0x809)+_0xe77928+_0x53eeed(0x532)+_0x33385e+'\x22>'+_0x13bdb3+_0x53eeed(0x41c)+_0x532ba4['id']+_0x53eeed(0x496)+_0x532ba4['id']+_0x53eeed(0x417)+(_0x532ba4['isStarred']?_0x53eeed(0x4da):'far\x20fa-star')+_0x53eeed(0x2f2)+_0x4dbc68+_0x53eeed(0x296)+_0x532ba4['id']+_0x53eeed(0x5ed)+_0x532ba4['id']+_0x53eeed(0x1ba)+_0x532ba4['id']+_0x53eeed(0x1bf)+_0x532ba4['id']+_0x53eeed(0xb90)+_0x532ba4['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x532ba4['id']+_0x53eeed(0x83f)+_0x532ba4['id']+_0x53eeed(0x634)+_0x532ba4['topic']+_0x53eeed(0x453)+_0x532ba4['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x532ba4['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4262f1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x532ba4['id']+_0x53eeed(0x52e)+_0x532ba4['id']+_0x53eeed(0x73c)+_0x532ba4['id']+_0x53eeed(0x252)+_0x532ba4['id']+_0x53eeed(0x599)+_0x532ba4['id']+_0x53eeed(0x29b)+_0x532ba4['id']+_0x53eeed(0x85d)+_0x532ba4['id']+_0x53eeed(0x382)+_0x532ba4['id']+'\x22\x20data-topic=\x22'+_0x532ba4[_0x53eeed(0xb1c)]+_0x53eeed(0x829)+_0x532ba4['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xa1d826[_0x53c0d7(0x215)]=_0xa1e279,document[_0x53c0d7(0xb3b)](_0x53c0d7(0x120))[_0x53c0d7(0x94f)](_0x53748e=>{const _0x57b225=_0x53c0d7;_0x53748e[_0x57b225(0x52b)](_0x57b225(0x909),()=>{const _0x111133=_0x57b225,_0x1b86f3=_0x53748e[_0x111133(0xb7f)][_0x111133(0xbe5)];showQuizDetailView(_0x1b86f3);});});}async function handleUnpairQuiz(_0x36b824){const _0x213196=_0x7550fe,_0x149560=allQuizzes[_0x213196(0x3de)](_0x361355=>_0x361355['id']===_0x36b824);if(!_0x149560||!_0x149560[_0x213196(0x22e)]){showMessage(_0x213196(0x5e2));return;}showConfirmation(_0x213196(0x8be),async()=>{const _0x27a391=_0x213196;try{const _0x1c5a71=doc(db,_0x27a391(0x3dc)+appId+_0x27a391(0x7a5),_0x36b824),_0xaa8e11=doc(db,_0x27a391(0x3dc)+appId+_0x27a391(0x7a5),_0x149560[_0x27a391(0x22e)]),_0x4b7b29=writeBatch(db);_0x4b7b29[_0x27a391(0x533)](_0x1c5a71,{'pairedQuizId':null}),_0x4b7b29[_0x27a391(0x533)](_0xaa8e11,{'pairedQuizId':null}),await _0x4b7b29[_0x27a391(0x24d)](),showMessage(_0x27a391(0xaa7));}catch(_0x2d2d4b){console['error'](_0x27a391(0x268),_0x2d2d4b),showMessage(_0x27a391(0x720));}});}function formatAndPrintLessonPlan(_0x28ef00,_0x29d6ab){const _0x166640=_0x7550fe,_0x4803c7=window['open']('','_blank'),_0x46ac3d=_0x166640(0x5f0)+_0x29d6ab['topic']+_0x166640(0x41a)+_0x29d6ab[_0x166640(0xb1c)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28ef00[_0x166640(0xa13)][_0x166640(0x25d)](_0x2424ba=>_0x166640(0x6a8)+_0x2424ba+_0x166640(0x30d))[_0x166640(0x7fa)]('')+_0x166640(0x707)+_0x28ef00['teachingContent']+_0x166640(0x4ce)+_0x28ef00[_0x166640(0x295)][_0x166640(0x25d)](_0x4ebf93=>_0x166640(0x3b3)+_0x4ebf93[_0x166640(0x8f0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x4ebf93[_0x166640(0x4ab)]+_0x166640(0x90b))['join']('')+_0x166640(0x459);_0x4803c7[_0x166640(0x66e)][_0x166640(0x81b)](_0x46ac3d),_0x4803c7['document']['close'](),_0x4803c7[_0x166640(0x33e)]=function(){setTimeout(()=>{const _0x4ec058=_0x393b;_0x4803c7[_0x4ec058(0x5a9)]();},0x3e8);};}async function handleAiFixFormula(_0x21b1da){const _0x36bd38=_0x7550fe,_0xee1a2c=document[_0x36bd38(0x2e7)]('.question-editor-item[data-q-index=\x22'+_0x21b1da+'\x22]');if(!_0xee1a2c)return;const _0x52401b=_0xee1a2c['dataset'][_0x36bd38(0x9e5)],_0x192eb9=_0xee1a2c['querySelector'](_0x36bd38(0xa5a));let _0xa2a94f={'question':_0xee1a2c[_0x36bd38(0x2e7)](_0x36bd38(0xb37))[_0x36bd38(0x6b0)]};switch(_0x52401b){case _0x36bd38(0x81c):_0xa2a94f[_0x36bd38(0xbe2)]=Array[_0x36bd38(0x850)](_0xee1a2c[_0x36bd38(0xb3b)](_0x36bd38(0x65f)))[_0x36bd38(0x25d)](_0x1b3be2=>_0x1b3be2['value']);break;case _0x36bd38(0xaf9):_0xa2a94f[_0x36bd38(0xa33)]=_0xee1a2c[_0x36bd38(0x2e7)](_0x36bd38(0x193))['value'];break;case _0x36bd38(0x370):_0xa2a94f['correctResponse']=_0xee1a2c[_0x36bd38(0x2e7)](_0x36bd38(0x32f))[_0x36bd38(0x6b0)];break;}_0x192eb9[_0x36bd38(0x215)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x192eb9[_0x36bd38(0xa75)]=!![];try{const _0x28dafb=_0x36bd38(0xa23)+JSON[_0x36bd38(0x356)](_0xa2a94f)+_0x36bd38(0x1da),_0x32f188={'type':_0x36bd38(0xa05),'properties':{'fixedData':{'type':_0x36bd38(0xa05),'properties':{'question':{'type':'STRING'},'options':{'type':_0x36bd38(0x5fd),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x36bd38(0x9c9)}},'required':[_0x36bd38(0x8f0)]}},'required':[_0x36bd38(0x85f)]},_0x1bf1f7=await callAnalysisApi(_0x28dafb,_0x32f188);if(_0x1bf1f7&&_0x1bf1f7[_0x36bd38(0x85f)]){const _0x207afe=_0x1bf1f7['fixedData'];_0xee1a2c[_0x36bd38(0x2e7)](_0x36bd38(0xb37))[_0x36bd38(0x6b0)]=_0x207afe[_0x36bd38(0x8f0)]||_0xa2a94f[_0x36bd38(0x8f0)];switch(_0x52401b){case _0x36bd38(0x81c):_0x207afe[_0x36bd38(0xbe2)]&&_0x207afe[_0x36bd38(0xbe2)]['length']>0x0&&_0xee1a2c[_0x36bd38(0xb3b)](_0x36bd38(0x65f))['forEach']((_0x325e13,_0x585982)=>{const _0x528c34=_0x36bd38;_0x325e13[_0x528c34(0x6b0)]=_0x207afe[_0x528c34(0xbe2)][_0x585982]||_0xa2a94f[_0x528c34(0xbe2)][_0x585982];});break;case _0x36bd38(0xaf9):_0xee1a2c[_0x36bd38(0x2e7)]('.ideal-answer-input')[_0x36bd38(0x6b0)]=_0x207afe[_0x36bd38(0xa33)]||_0xa2a94f['idealAnswer'];break;case _0x36bd38(0x370):_0xee1a2c[_0x36bd38(0x2e7)](_0x36bd38(0x32f))[_0x36bd38(0x6b0)]=_0x207afe[_0x36bd38(0xa8d)]||_0xa2a94f[_0x36bd38(0xa8d)];break;}if(_0xa2a94f[_0x36bd38(0x8f0)]!==_0x207afe[_0x36bd38(0x8f0)])try{const _0x5b9bb6=collection(db,_0x36bd38(0x3dc)+appId+_0x36bd38(0x7b2));await addDoc(_0x5b9bb6,{'broken':_0xa2a94f['question'],'fixed':_0x207afe[_0x36bd38(0x8f0)],'createdAt':serverTimestamp()});}catch(_0x5ed9ce){console[_0x36bd38(0x930)](_0x36bd38(0x914),_0x5ed9ce);}showMessage(_0x36bd38(0xb41));}else throw new Error(_0x36bd38(0x415));}catch(_0x250dda){console[_0x36bd38(0x930)](_0x36bd38(0x241),_0x250dda),showMessage(_0x36bd38(0x2f1));}finally{_0x192eb9[_0x36bd38(0x215)]=_0x36bd38(0xbad),_0x192eb9[_0x36bd38(0xa75)]=![];}}async function handleGenerateLessonPlan(_0x1208ca){const _0x226da5=_0x7550fe;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x451d4f=doc(db,_0x226da5(0x3dc)+appId+_0x226da5(0x7a5),_0x1208ca),_0xa20f3a=await getDoc(_0x451d4f);if(!_0xa20f3a[_0x226da5(0x7be)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x303cf8={'id':_0x1208ca,..._0xa20f3a[_0x226da5(0xaf1)]()},_0x5bb3aa=collection(db,_0x226da5(0x3dc)+appId+_0x226da5(0x7a5),_0x1208ca,'submissions'),_0x34e19e=await getDocs(_0x5bb3aa),_0x573b96=_0x34e19e[_0x226da5(0x68e)]['map'](_0x4df0d9=>_0x4df0d9[_0x226da5(0xaf1)]());if(_0x573b96[_0x226da5(0x384)]===0x0)throw new Error(_0x226da5(0x339));const _0xcd31f8=calculateItemAnalysis(_0x303cf8,_0x573b96)[_0x226da5(0x5a7)],_0x394a6e=calculateDistractorAnalysis(_0x303cf8,_0x573b96),_0x4cec2f=_0xc066da=>{const _0x3d2408=_0x226da5;if(!_0xc066da)return'';return _0xc066da[_0x3d2408(0x38e)](/\\/g,'\x5c\x5c')[_0x3d2408(0x38e)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x661543=_0x226da5(0x1a4);_0x303cf8[_0x226da5(0x5c2)][_0x226da5(0x94f)]((_0x3c8ff6,_0x1b488d)=>{const _0x51b318=_0x226da5,_0xd98f3a=_0xcd31f8[_0x1b488d]?.['p'][_0x51b318(0x8f2)](0x2)||_0x51b318(0x629),_0x24e8bc=_0xcd31f8[_0x1b488d]?.['r'][_0x51b318(0x8f2)](0x2)||_0x51b318(0x629),_0x9ede1f=_0x4cec2f(_0x3c8ff6[_0x51b318(0x653)]||_0x3c8ff6[_0x51b318(0x4b6)]);_0x661543+=_0x51b318(0x25c)+(_0x1b488d+0x1)+_0x51b318(0x644)+_0xd98f3a+_0x51b318(0xa44)+_0x24e8bc+_0x51b318(0x60b)+_0x9ede1f+'\x5cn';if(_0x3c8ff6[_0x51b318(0x92a)]===_0x51b318(0x81c)&&_0x394a6e[_0x1b488d]){const _0x17fa90=_0x394a6e[_0x1b488d],_0x1a2a20=Object[_0x51b318(0xaa6)](_0x17fa90)['filter'](_0x641cc1=>parseInt(_0x641cc1)!==_0x3c8ff6[_0x51b318(0x30b)])[_0x51b318(0xa30)]((_0x38b3c8,_0x4a30c5)=>_0x17fa90[_0x4a30c5][_0x51b318(0xa08)]-_0x17fa90[_0x38b3c8][_0x51b318(0xa08)])[0x0];if(_0x1a2a20&&_0x17fa90[_0x1a2a20][_0x51b318(0xa08)]>0x0){const _0x14f86d=_0x4cec2f(_0x17fa90[_0x1a2a20]['text']);_0x661543+=_0x51b318(0x7d3)+_0x14f86d+_0x51b318(0x2c7);}}});const _0x2f275a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x303cf8['topic']+_0x226da5(0xa1a)+_0x661543+_0x226da5(0x25f),_0xc5e417={'type':'OBJECT','properties':{'learningGaps':{'type':_0x226da5(0x5fd),'items':{'type':_0x226da5(0x9c9)}},'teachingContent':{'type':_0x226da5(0x9c9)},'practiceProblems':{'type':_0x226da5(0x5fd),'items':{'type':'OBJECT','properties':{'question':{'type':_0x226da5(0x9c9)},'solution':{'type':_0x226da5(0x9c9)}}}}},'required':[_0x226da5(0xa13),'teachingContent',_0x226da5(0x295)]},_0x3a79f3=await callAnalysisApi(_0x2f275a,_0xc5e417);await updateDoc(_0x451d4f,{'lessonPlan':_0x3a79f3});const _0x4a10ec=_0x226da5(0x288)+_0x303cf8[_0x226da5(0xb1c)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3a79f3[_0x226da5(0xa13)][_0x226da5(0x25d)](_0x53d194=>_0x226da5(0x6a8)+_0x53d194+_0x226da5(0x30d))[_0x226da5(0x7fa)]('')+_0x226da5(0x405)+_0x3a79f3[_0x226da5(0x715)]+_0x226da5(0x91d)+_0x3a79f3[_0x226da5(0x295)][_0x226da5(0x25d)](_0x5c0227=>_0x226da5(0xb6f)+_0x5c0227[_0x226da5(0x8f0)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x5c0227[_0x226da5(0x4ab)]+'</p></div>')[_0x226da5(0x7fa)]('')+_0x226da5(0xba3);document['getElementById']('lesson-plan-title')[_0x226da5(0x33f)]=_0x226da5(0x188)+_0x303cf8[_0x226da5(0xb1c)],document[_0x226da5(0xb9f)](_0x226da5(0x7d1))[_0x226da5(0x215)]=_0x4a10ec,document[_0x226da5(0xb9f)]('lesson-plan-modal')[_0x226da5(0x5f6)][_0x226da5(0x309)](_0x226da5(0x3c0));if(window[_0x226da5(0xa27)])MathJax[_0x226da5(0x806)]();messageModal[_0x226da5(0x5f6)][_0x226da5(0x314)](_0x226da5(0x3c0));}catch(_0x5f4494){console[_0x226da5(0x930)](_0x226da5(0x90f),_0x5f4494),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5f4494[_0x226da5(0xa4c)]);}}async function handleDuplicateQuiz(_0x3c1ff0){const _0x1ff8ff=_0x7550fe;try{const _0xe89304=doc(db,_0x1ff8ff(0x3dc)+appId+'/public/data/quizzes',_0x3c1ff0),_0x21dd6b=await getDoc(_0xe89304);if(_0x21dd6b[_0x1ff8ff(0x7be)]()){const _0x3158f5=_0x21dd6b['data']();let _0x4c8a3d='',_0x1ed8fc=_0x1ff8ff(0x91c),_0x2c6652=null;if(_0x3158f5['quizMode']===_0x1ff8ff(0x4b3)){let _0xf53d5c=_0x3158f5[_0x1ff8ff(0xb1c)][_0x1ff8ff(0x38e)]('(ก่อนเรียน)','')[_0x1ff8ff(0x9f3)]();_0x4c8a3d=_0x1ff8ff(0x2a8)+_0xf53d5c,_0x1ed8fc=_0x1ff8ff(0xa3a),_0x2c6652=_0x3c1ff0;}else _0x4c8a3d=_0x1ff8ff(0x2da)+_0x3158f5[_0x1ff8ff(0xb1c)];const _0x16441d={..._0x3158f5,'topic':_0x4c8a3d,'createdAt':new Date()[_0x1ff8ff(0x170)](),'quizMode':_0x1ed8fc,'pairedQuizId':_0x2c6652};let _0xede4e1;while(!![]){_0xede4e1=Math['floor'](0x3e8+Math[_0x1ff8ff(0x5b4)]()*0x2328)[_0x1ff8ff(0xba9)]();const _0x46b486=await getDoc(doc(db,_0x1ff8ff(0x3dc)+appId+_0x1ff8ff(0x7a5),_0xede4e1));if(!_0x46b486[_0x1ff8ff(0x7be)]())break;}const _0x1df25e=doc(db,_0x1ff8ff(0x3dc)+appId+_0x1ff8ff(0x7a5),_0xede4e1);await setDoc(_0x1df25e,_0x16441d),_0x16441d[_0x1ff8ff(0xbea)]===_0x1ff8ff(0xa3a)&&await updateDoc(_0xe89304,{'pairedQuizId':_0xede4e1}),showMessage(_0x1ff8ff(0x83e));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x1af8b3){console['error'](_0x1ff8ff(0x722),_0x1af8b3),showMessage(_0x1ff8ff(0xa0e));}}async function handleDeleteQuiz(_0x5ec20c,_0x54bb19=!![]){const _0xa2e9da=_0x7550fe;try{const _0x8abccb=writeBatch(db),_0x27cc86=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x5ec20c+'/submissions'),_0x4e3862=await getDocs(_0x27cc86);_0x4e3862[_0xa2e9da(0x94f)](_0x23084a=>{const _0x55e98b=_0xa2e9da;_0x8abccb[_0x55e98b(0x685)](doc(_0x27cc86,_0x23084a['id']));});const _0x7d3e19=doc(db,_0xa2e9da(0x3dc)+appId+_0xa2e9da(0x7a5),_0x5ec20c);_0x8abccb[_0xa2e9da(0x685)](_0x7d3e19),await _0x8abccb['commit']();try{console[_0xa2e9da(0xbf7)](_0xa2e9da(0x59d)+_0x5ec20c+_0xa2e9da(0x48c));const _0x1a3b01=collection(db,'artifacts/'+appId+_0xa2e9da(0x312)),_0x4d7012=await getDocs(_0x1a3b01),_0x59a331=[];_0x4d7012[_0xa2e9da(0x94f)](_0x1b7a7a=>{const _0x298356=_0xa2e9da,_0x3beb97=_0x1b7a7a[_0x298356(0xaf1)](),_0x4424b1=_0x3beb97[_0x298356(0x90d)]||{};let _0x293cf0=![];for(const _0x4bacc8 in _0x4424b1){const _0xa0f36=_0x4424b1[_0x4bacc8];if(_0xa0f36[_0x298356(0xb2b)]&&_0xa0f36['linkedQuizIds'][_0x298356(0x6b7)](_0x5ec20c)){_0x293cf0=!![];const _0x48a673=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x1b7a7a['id']),_0x2b29c2=updateDoc(_0x48a673,{['topics.'+_0x4bacc8+_0x298356(0x89f)]:arrayRemove(_0x5ec20c)});_0x59a331['push'](_0x2b29c2);}}}),_0x59a331['length']>0x0&&(await Promise[_0xa2e9da(0xa9e)](_0x59a331),console[_0xa2e9da(0xbf7)](_0xa2e9da(0xb99)+_0x59a331[_0xa2e9da(0x384)]+_0xa2e9da(0xafc)+_0x5ec20c+'.'));}catch(_0x427ad1){console['error'](_0xa2e9da(0xae5),_0x427ad1);}_0x54bb19&&showMessage(_0xa2e9da(0x7cd));}catch(_0x3ac34c){console['error']('Error\x20deleting\x20quiz:',_0x3ac34c),_0x54bb19&&showMessage(_0xa2e9da(0x118));}}async function showQuizDetailView(_0xe0b44a){const _0x5e7d9d=_0x7550fe;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x5e7d9d(0xa66));try{const _0x3a637a=doc(db,_0x5e7d9d(0x3dc)+appId+'/public/data/quizzes',_0xe0b44a),_0x49c4fc=await getDoc(_0x3a637a);if(!_0x49c4fc['exists']()){showMessage(_0x5e7d9d(0x2f0));return;}const _0x1142b3={'id':_0x49c4fc['id'],..._0x49c4fc['data']()};currentQuizData=_0x1142b3;const _0x14fbd2=doc(db,_0x5e7d9d(0x3dc)+appId+_0x5e7d9d(0x466),_0x1142b3[_0x5e7d9d(0x176)]),_0x3cc3e7=await getDoc(_0x14fbd2);_0x3cc3e7[_0x5e7d9d(0x7be)]()?(currentProjectData=_0x3cc3e7[_0x5e7d9d(0xaf1)](),currentProjectId=_0x1142b3[_0x5e7d9d(0x176)]):(currentProjectData={'students':[]},currentProjectId=_0x1142b3[_0x5e7d9d(0x176)]);document[_0x5e7d9d(0xb9f)]('results-quiz-title')[_0x5e7d9d(0x33f)]=_0x1142b3['topic'],document[_0x5e7d9d(0xb9f)](_0x5e7d9d(0x1b9))[_0x5e7d9d(0x33f)]=_0xe0b44a;const _0x22ed44=collection(db,_0x5e7d9d(0x3dc)+appId+_0x5e7d9d(0x7a5),_0xe0b44a,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x22ed44,_0x5b11c7=>{const _0x412bde=_0x5e7d9d,_0x7ff0d0=_0x5b11c7['docs']['map'](_0x30f67b=>({'id':_0x30f67b['id'],..._0x30f67b[_0x412bde(0xaf1)]()}));currentSubmissions=_0x7ff0d0;const _0x2c779d=_0x7ff0d0['filter'](_0x50480c=>_0x50480c[_0x412bde(0x9ba)]&&_0x50480c[_0x412bde(0x9ba)][_0x412bde(0x384)]>0x0);renderBehaviorLog(_0x7ff0d0),renderAnswerGrid(currentProjectData['students'],_0x2c779d,_0x1142b3),renderAnalytics(_0x1142b3,_0x2c779d),renderQuizResultsTable(currentProjectData[_0x412bde(0x80f)],_0x7ff0d0,_0x1142b3),renderQuizLeaderboard(_0x2c779d,_0x1142b3,_0x412bde(0x5c5));}),showView(_0x5e7d9d(0x879));}catch(_0x351a6a){console[_0x5e7d9d(0x930)](_0x5e7d9d(0x5a5),_0x351a6a),showMessage(_0x5e7d9d(0x616));}}function renderAnswerGrid(_0x31b5a7,_0x32a20d,_0xaa45b0){const _0xbcad8f=_0x7550fe,_0x213d71=document[_0xbcad8f(0xb9f)](_0xbcad8f(0x5f9));if(!_0x213d71)return;if(!_0x31b5a7||_0x31b5a7['length']===0x0){_0x213d71['innerHTML']=_0xbcad8f(0x567);return;}const _0xfef6ff=_0xaa45b0[_0xbcad8f(0x5c2)],_0x11969b=_0x32a20d[_0xbcad8f(0x59c)]((_0x4d1c19,_0xaf5644)=>{const _0x3f7c5a=_0xbcad8f;return _0x4d1c19[_0xaf5644[_0x3f7c5a(0x884)]]=_0xaf5644,_0x4d1c19;},{}),_0x22c14d=_0x4bb53a=>String[_0xbcad8f(0x1f7)](0x41+_0x4bb53a),_0x280c03=_0x54e9f8=>{const _0x44e567=_0xbcad8f,_0xe87d5=_0x54e9f8['questionType']||_0xaa45b0[_0x44e567(0x874)];switch(_0xe87d5){case _0x44e567(0x81c):return _0x54e9f8['options']&&_0x54e9f8[_0x44e567(0xbe2)][_0x44e567(0x384)]>_0x54e9f8['correctAnswerIndex']?_0x22c14d(_0x54e9f8['correctAnswerIndex']):'-';case'true_false':const _0x4266e2=_0x54e9f8[_0x44e567(0x9f8)]===!![]||String(_0x54e9f8['correctAnswer'])[_0x44e567(0x402)]()==='true';return _0x4266e2?'ใช่':_0x44e567(0x201);case'matching_item':return _0x54e9f8[_0x44e567(0xa8d)]||'-';case _0x44e567(0xaf9):return _0x44e567(0x7ea);default:return'-';}},_0x27329a=(_0x1caece,_0x2eabd5)=>{const _0x336ca5=_0xbcad8f;if(_0x2eabd5['answer']===null||_0x2eabd5[_0x336ca5(0x929)]===undefined)return'-';const _0x3f54f1=_0x1caece['questionType']||_0xaa45b0[_0x336ca5(0x874)];switch(_0x3f54f1){case _0x336ca5(0x81c):const _0x10f7c0=_0x1caece[_0x336ca5(0xbe2)]['findIndex'](_0x7e884b=>_0x7e884b===_0x2eabd5[_0x336ca5(0x481)]);return _0x10f7c0!==-0x1?_0x22c14d(_0x10f7c0):_0x2eabd5[_0x336ca5(0x481)]||'-';case _0x336ca5(0x728):if(_0x2eabd5['answer']=='0'||_0x2eabd5[_0x336ca5(0x929)]===!![]||_0x2eabd5['answer']==='true')return _0x336ca5(0x9df);return _0x336ca5(0x201);default:return _0x2eabd5[_0x336ca5(0x929)];}};let _0x33a9d3=_0xbcad8f(0xa1b)+_0xfef6ff[_0xbcad8f(0x25d)]((_0x4f2c57,_0x4bef15)=>_0xbcad8f(0x947)+(_0x4bef15+0x1)+_0xbcad8f(0x3e4))[_0xbcad8f(0x7fa)]('')+_0xbcad8f(0x7cb)+_0xfef6ff['map'](_0x3db947=>_0xbcad8f(0x359)+_0x280c03(_0x3db947)+'</td>')[_0xbcad8f(0x7fa)]('')+_0xbcad8f(0x86a);_0x31b5a7[_0xbcad8f(0x94f)](_0x39a474=>{const _0x135fdd=_0xbcad8f;_0x33a9d3+=_0x135fdd(0x35d),_0x33a9d3+=_0x135fdd(0x633)+_0x39a474+_0x135fdd(0x88f);const _0x243c16=_0x11969b[_0x39a474];if(_0x243c16){const _0x297a5e=_0x243c16[_0x135fdd(0x9ba)][_0x243c16[_0x135fdd(0x9ba)]['length']-0x1];_0xfef6ff[_0x135fdd(0x94f)]((_0x1f7750,_0x2780e8)=>{const _0x19e59e=_0x135fdd,_0x1c3e68=_0x297a5e[_0x19e59e(0x3b5)]['find'](_0x210458=>_0x210458[_0x19e59e(0xaca)]===_0x1f7750['id']);if(_0x1c3e68){let _0x2a20f7='';const _0x12c217=_0x1c3e68['isCorrect']===!![],_0x82ed10=_0x1c3e68[_0x19e59e(0x493)]===!![]||_0x1c3e68[_0x19e59e(0x493)]===_0x19e59e(0x70f);_0x82ed10?_0x2a20f7=_0x12c217?'bg-green-400\x20text-white\x20font-bold':_0x19e59e(0x725):_0x2a20f7=_0x12c217?_0x19e59e(0x8bc):_0x19e59e(0x4e6),_0x33a9d3+=_0x19e59e(0x3cc)+_0x2a20f7+'\x22>'+_0x27329a(_0x1f7750,_0x1c3e68)+_0x19e59e(0x88f);}else _0x33a9d3+=_0x19e59e(0x95c);});}else _0x33a9d3+=_0xfef6ff[_0x135fdd(0x25d)](()=>_0x135fdd(0x7a6))[_0x135fdd(0x7fa)]('');_0x33a9d3+=_0x135fdd(0x59a);}),_0x33a9d3+=_0xbcad8f(0x813),_0x213d71[_0xbcad8f(0x215)]=_0x33a9d3;}function renderQuizResultsTable(_0x4294b8,_0x27b73e,_0xc06a77){const _0x134e53=_0x7550fe,_0x5526e0=_0x27b73e[_0x134e53(0x59c)]((_0x48bd9f,_0x113070)=>{return _0x48bd9f[_0x113070['studentName']]=_0x113070,_0x48bd9f;},{}),_0x318998=document[_0x134e53(0x2e7)](_0x134e53(0x2bb));_0x318998&&!_0x318998[_0x134e53(0x215)][_0x134e53(0x6b7)](_0x134e53(0x9d4))&&(_0x318998[_0x134e53(0x215)]+=_0x134e53(0x15b));const _0x207274=document['getElementById'](_0x134e53(0x33b));if(!_0x4294b8||_0x4294b8[_0x134e53(0x384)]===0x0){_0x207274[_0x134e53(0x215)]=_0x134e53(0x119);return;}const _0x23cb1=_0xc06a77[_0x134e53(0x3d0)]===!![],_0x37f3cc=_0xc06a77[_0x134e53(0x996)]?.[_0x134e53(0x5e0)]??-0x1;let _0x4507b3='';_0x4294b8[_0x134e53(0x94f)](_0x5ea903=>{const _0x1958fd=_0x134e53,_0x357e68=_0x5526e0[_0x5ea903];let _0x35cfa2=_0x1958fd(0x2ba)+(_0x23cb1?_0x1958fd(0x6ac):_0x1958fd(0x77b))+'\x22>'+(_0x23cb1?_0x1958fd(0x3f2):'สอบปกติ')+_0x1958fd(0x3d6);if(_0x357e68){if(_0x357e68[_0x1958fd(0x9ba)]&&_0x357e68[_0x1958fd(0x9ba)][_0x1958fd(0x384)]>0x0){let _0x9410a9=_0x23cb1?_0x357e68['bestScore']===_0x357e68[_0x1958fd(0xb45)]:_0x37f3cc!==-0x1&&_0x357e68['bestScore']>=_0x37f3cc;const _0x706994=_0x9410a9?'bg-green-100\x20text-green-800':_0x1958fd(0x253),_0x1c9483=_0x9410a9?_0x1958fd(0x856):_0x1958fd(0x5d4),_0x12b86f=_0x1958fd(0xa31)+_0x706994+'\x22>'+_0x1c9483+_0x1958fd(0x3d6),_0x532c78='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x357e68[_0x1958fd(0x9ba)]?.[_0x1958fd(0x384)]||0x1)+_0x1958fd(0x18b);_0x4507b3+=_0x1958fd(0x610)+_0x5ea903+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x357e68[_0x1958fd(0x976)]+_0x1958fd(0x649)+_0x357e68[_0x1958fd(0xb45)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12b86f+_0x1958fd(0x2cb)+_0x35cfa2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x357e68[_0x1958fd(0x2d1)]+_0x1958fd(0x649)+_0x357e68[_0x1958fd(0xb45)]+_0x1958fd(0x62d)+_0x357e68[_0x1958fd(0xb08)]+'\x20/\x20'+_0x357e68[_0x1958fd(0xb45)]+_0x1958fd(0x330)+(_0x357e68[_0x1958fd(0x4d6)]||0x0)+_0x1958fd(0x98c)+_0x532c78+_0x1958fd(0xb4c)+new Date(_0x357e68[_0x1958fd(0x8a7)])['toLocaleString'](_0x1958fd(0x2b8))+_0x1958fd(0x9d9)+_0x5ea903+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x1d6249=_0x1958fd(0x6be);_0x4507b3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5ea903+_0x1958fd(0x8ca)+_0x35cfa2+_0x1958fd(0xb48)+_0x1d6249+_0x1958fd(0xb4c)+new Date(_0x357e68[_0x1958fd(0x2b9)])['toLocaleString']('th-TH')+_0x1958fd(0x3ac)+_0x5ea903+_0x1958fd(0x3e3);}}else{const _0x3ee240=_0x1958fd(0x1d6);_0x4507b3+=_0x1958fd(0x847)+_0x5ea903+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35cfa2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ee240+_0x1958fd(0x14b);}}),_0x207274[_0x134e53(0x215)]=_0x4507b3;}async function confirmRenameQuiz(){const _0x5e8859=_0x7550fe,_0x35232a=document[_0x5e8859(0xb9f)](_0x5e8859(0x2a9))[_0x5e8859(0x6b0)][_0x5e8859(0x9f3)]();if(!_0x35232a){showMessage(_0x5e8859(0x448));return;}if(!actionTargetId)return;const _0x4c810f=doc(db,'artifacts/'+appId+_0x5e8859(0x7a5),actionTargetId);try{await updateDoc(_0x4c810f,{'topic':_0x35232a}),showMessage(_0x5e8859(0x48a)),renameQuizModal['classList'][_0x5e8859(0x314)](_0x5e8859(0x3c0)),actionTargetId=null;}catch(_0x2292a8){console[_0x5e8859(0x930)]('Error\x20renaming\x20quiz:',_0x2292a8),showMessage(_0x5e8859(0x78f));}}async function handleMoveQuiz(_0x484f93){const _0x3fc8f1=_0x7550fe;actionTargetId=_0x484f93;const _0x7da491=document['getElementById'](_0x3fc8f1(0x730));_0x7da491[_0x3fc8f1(0x215)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x3fc8f1(0x5f6)][_0x3fc8f1(0x309)](_0x3fc8f1(0x3c0));try{const _0x179f3a=collection(db,_0x3fc8f1(0x3dc)+appId+_0x3fc8f1(0x466)),_0x1fd93e=await getDocs(_0x179f3a),_0x552b31=_0x1fd93e[_0x3fc8f1(0x68e)][_0x3fc8f1(0x25d)](_0x57074f=>({'id':_0x57074f['id'],..._0x57074f[_0x3fc8f1(0xaf1)]()})),_0xc5aa09=_0x552b31[_0x3fc8f1(0x67f)](_0x1deee4=>_0x1deee4['id']!==currentProjectId);if(_0xc5aa09[_0x3fc8f1(0x384)]===0x0){_0x7da491['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x3fc8f1(0xb9f)](_0x3fc8f1(0x2ed))['disabled']=!![];return;}_0x7da491[_0x3fc8f1(0x215)]=_0xc5aa09['map'](_0x3cc5e0=>'<option\x20value=\x22'+_0x3cc5e0['id']+'\x22>'+_0x3cc5e0['projectName']+_0x3fc8f1(0xb9e))[_0x3fc8f1(0x7fa)](''),document[_0x3fc8f1(0xb9f)](_0x3fc8f1(0x2ed))['disabled']=![];}catch(_0x4897de){console['error'](_0x3fc8f1(0x8ee),_0x4897de),showMessage(_0x3fc8f1(0x7fc)),moveQuizModal[_0x3fc8f1(0x5f6)][_0x3fc8f1(0x314)](_0x3fc8f1(0x3c0));}}async function confirmMoveQuiz(){const _0xb83b18=_0x7550fe,_0x34bf07=document['getElementById'](_0xb83b18(0x730))[_0xb83b18(0x6b0)];if(!_0x34bf07){showMessage(_0xb83b18(0x99e));return;}if(!actionTargetId)return;const _0x5d776a=doc(db,_0xb83b18(0x3dc)+appId+_0xb83b18(0x7a5),actionTargetId);try{await updateDoc(_0x5d776a,{'projectId':_0x34bf07}),showMessage(_0xb83b18(0x6df)),moveQuizModal['classList']['add'](_0xb83b18(0x3c0)),actionTargetId=null;}catch(_0x37bbe8){console[_0xb83b18(0x930)](_0xb83b18(0x82c),_0x37bbe8),showMessage(_0xb83b18(0x1ac));}}async function handleQuizSettings(_0x2d289c){const _0x1b5dfb=_0x7550fe;actionTargetId=_0x2d289c;const _0x1aa7b4=doc(db,_0x1b5dfb(0x3dc)+appId+_0x1b5dfb(0x7a5),_0x2d289c);try{const _0x4881d3=await getDoc(_0x1aa7b4);if(_0x4881d3[_0x1b5dfb(0x7be)]()){const _0x25005b=_0x4881d3[_0x1b5dfb(0xaf1)](),_0x3a08d4=_0x25005b[_0x1b5dfb(0x996)]||{},_0x198e91=_0x25005b[_0x1b5dfb(0x5c2)]['length'];document['getElementById'](_0x1b5dfb(0x7a7))[_0x1b5dfb(0x6b0)]=_0x3a08d4[_0x1b5dfb(0x4c4)]||'none',document[_0x1b5dfb(0xb9f)](_0x1b5dfb(0x16e))[_0x1b5dfb(0x6b0)]=_0x3a08d4[_0x1b5dfb(0x799)]||_0x1b5dfb(0x7fd),document[_0x1b5dfb(0xb9f)](_0x1b5dfb(0x6e0))['value']=_0x3a08d4[_0x1b5dfb(0x93e)]||_0x1b5dfb(0x30f),document[_0x1b5dfb(0xb9f)](_0x1b5dfb(0x6c1))[_0x1b5dfb(0x6b0)]=_0x3a08d4[_0x1b5dfb(0x242)]||0xa,document[_0x1b5dfb(0xb9f)](_0x1b5dfb(0x542))['value']=_0x3a08d4[_0x1b5dfb(0x5e0)]||Math[_0x1b5dfb(0xa02)](_0x198e91/0x2),document[_0x1b5dfb(0xb9f)]('modal-passing-score-input')['max']=_0x198e91,document[_0x1b5dfb(0xb9f)](_0x1b5dfb(0x338))[_0x1b5dfb(0x20e)]=_0x3a08d4[_0x1b5dfb(0x7f8)]||![],document[_0x1b5dfb(0xb9f)](_0x1b5dfb(0x639))[_0x1b5dfb(0x20e)]=_0x3a08d4[_0x1b5dfb(0x77d)]||![];const _0x277233=_0x3a08d4[_0x1b5dfb(0xb00)]||![];document[_0x1b5dfb(0xb9f)](_0x1b5dfb(0xb73))[_0x1b5dfb(0x20e)]=_0x277233,document['getElementById'](_0x1b5dfb(0x486))[_0x1b5dfb(0x6b0)]=_0x3a08d4[_0x1b5dfb(0x88e)]||_0x1b5dfb(0x94e);const _0x43959a=document['getElementById']('modal-confidence-mode-container');_0x43959a[_0x1b5dfb(0x5f6)][_0x1b5dfb(0x937)](_0x1b5dfb(0x3c0),!_0x277233),document[_0x1b5dfb(0xb9f)]('modal-timer-mode-select')[_0x1b5dfb(0x74b)](new Event('change')),quizSettingsModal[_0x1b5dfb(0x5f6)][_0x1b5dfb(0x309)](_0x1b5dfb(0x3c0));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x599664){console['error'](_0x1b5dfb(0x8d7),_0x599664),showMessage(_0x1b5dfb(0x3bb));}}async function confirmQuizSettings(){const _0x3d064d=_0x7550fe;if(!actionTargetId)return;const _0x17f1f6=doc(db,_0x3d064d(0x3dc)+appId+_0x3d064d(0x7a5),actionTargetId),_0x4d0f7b={'shuffle':document[_0x3d064d(0xb9f)](_0x3d064d(0x7a7))['value'],'resultsDisplay':document[_0x3d064d(0xb9f)]('modal-results-display-select')[_0x3d064d(0x6b0)],'timerMode':document[_0x3d064d(0xb9f)]('modal-timer-mode-select')[_0x3d064d(0x6b0)],'timerDuration':parseInt(document[_0x3d064d(0xb9f)](_0x3d064d(0x6c1))[_0x3d064d(0x6b0)])||0xa,'passingScore':parseInt(document[_0x3d064d(0xb9f)](_0x3d064d(0x542))[_0x3d064d(0x6b0)])||0x0,'isAdaptive':document[_0x3d064d(0xb9f)](_0x3d064d(0x338))[_0x3d064d(0x20e)],'loopUntilPass':document[_0x3d064d(0xb9f)](_0x3d064d(0x639))[_0x3d064d(0x20e)],'isConfidenceScoringEnabled':document['getElementById'](_0x3d064d(0xb73))[_0x3d064d(0x20e)],'confidenceMode':document[_0x3d064d(0xb9f)]('modal-confidence-mode-select')[_0x3d064d(0x6b0)]};try{await updateDoc(_0x17f1f6,{'settings':_0x4d0f7b}),showMessage(_0x3d064d(0x26e)),quizSettingsModal[_0x3d064d(0x5f6)][_0x3d064d(0x314)](_0x3d064d(0x3c0)),actionTargetId=null;}catch(_0x21526e){console['error']('Error\x20updating\x20quiz\x20settings:',_0x21526e),showMessage(_0x3d064d(0xac8));}}async function confirmQuizStatus(){const _0x302bcf=_0x7550fe;if(!actionTargetId)return;const _0x5731a7=doc(db,_0x302bcf(0x3dc)+appId+'/public/data/quizzes',actionTargetId),_0x59da57=document[_0x302bcf(0x2e7)](_0x302bcf(0x279));if(!_0x59da57){showMessage(_0x302bcf(0x272));return;}const _0x366b8d=_0x59da57[_0x302bcf(0x6b0)];let _0x273561={};if(_0x366b8d===_0x302bcf(0x97e)||_0x366b8d==='inactive')_0x273561={'status':_0x366b8d,'startTime':null,'endTime':null};else{if(_0x366b8d==='schedule'){const _0x34f948=document[_0x302bcf(0xb9f)](_0x302bcf(0x185))[_0x302bcf(0x6b0)],_0x378729=document[_0x302bcf(0xb9f)](_0x302bcf(0xa9b))[_0x302bcf(0x6b0)];if(!_0x34f948&&!_0x378729){showMessage(_0x302bcf(0x7dc));return;}_0x273561={'status':_0x302bcf(0x142),'startTime':_0x34f948?new Date(_0x34f948)[_0x302bcf(0x170)]():null,'endTime':_0x378729?new Date(_0x378729)[_0x302bcf(0x170)]():null};}}try{await updateDoc(_0x5731a7,_0x273561),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x302bcf(0x5f6)][_0x302bcf(0x314)]('hidden'),actionTargetId=null;}catch(_0x135c24){console[_0x302bcf(0x930)](_0x302bcf(0x45a),_0x135c24),showMessage(_0x302bcf(0x3ea));}}function listenForStudentProfiles(_0x2d0bca){const _0x5edc27=_0x7550fe,_0x4b8ba3=collection(db,_0x5edc27(0x3dc)+appId+_0x5edc27(0xa60)+_0x2d0bca+_0x5edc27(0xaf7));unsubscribeStudentProfilesListener=onSnapshot(_0x4b8ba3,_0x56236f=>{const _0x1f1e28=_0x5edc27,_0x13fedd=_0x56236f[_0x1f1e28(0x68e)][_0x1f1e28(0x25d)](_0x278ad2=>_0x278ad2[_0x1f1e28(0xaf1)]());renderLeaderboard(_0x13fedd,_0x1f1e28(0x9ab));},_0x4072a8=>{const _0x2edda1=_0x5edc27;console['error'](_0x2edda1(0x97a),_0x4072a8),document[_0x2edda1(0xb9f)]('leaderboard-table-body')[_0x2edda1(0x215)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x3e35b7,_0x78c30){const _0x501520=_0x7550fe,_0x41f639=document[_0x501520(0xb9f)](_0x78c30);if(!_0x3e35b7||_0x3e35b7[_0x501520(0x384)]===0x0){_0x41f639[_0x501520(0x215)]=_0x501520(0xab9);return;}_0x3e35b7[_0x501520(0xa30)]((_0x58727c,_0x3a327b)=>{const _0x5173b7=_0x501520,_0x46a898=(_0x3a327b[_0x5173b7(0x490)]||0x0)-(_0x58727c['totalPoints']||0x0);if(_0x46a898!==0x0)return _0x46a898;const _0x5f2987=(_0x3a327b[_0x5173b7(0x5e7)]?.['specialist']||0x0)-(_0x58727c[_0x5173b7(0x5e7)]?.[_0x5173b7(0x8ec)]||0x0);if(_0x5f2987!==0x0)return _0x5f2987;const _0x5a2d72=(_0x3a327b[_0x5173b7(0x5e7)]?.[_0x5173b7(0x56a)]||0x0)-(_0x58727c[_0x5173b7(0x5e7)]?.[_0x5173b7(0x56a)]||0x0);if(_0x5a2d72!==0x0)return _0x5a2d72;const _0xc753e4=(_0x3a327b[_0x5173b7(0x5e7)]?.[_0x5173b7(0x204)]||0x0)-(_0x58727c[_0x5173b7(0x5e7)]?.[_0x5173b7(0x204)]||0x0);if(_0xc753e4!==0x0)return _0xc753e4;const _0x512b48=(_0x3a327b['badgesCount']?.['quick_thinker']||0x0)-(_0x58727c['badgesCount']?.[_0x5173b7(0x6a9)]||0x0);if(_0x512b48!==0x0)return _0x512b48;return _0x58727c[_0x5173b7(0x884)][_0x5173b7(0x45d)](_0x3a327b[_0x5173b7(0x884)],'th');});let _0x984530='';_0x3e35b7[_0x501520(0x94f)]((_0x31bf73,_0x4ee1fe)=>{const _0x3ed682=_0x501520,_0x354d6f=_0x4ee1fe+0x1,_0x6e9429=_0x31bf73[_0x3ed682(0x5e7)]||{};let _0x4da0a4='';const _0x22d794=[_0x3ed682(0x8ec),_0x3ed682(0x204),_0x3ed682(0x56a),'quick_thinker'];_0x22d794[_0x3ed682(0x94f)](_0x4c60d0=>{const _0x2a5ad0=_0x3ed682;if(_0x6e9429[_0x4c60d0]>0x0){const _0x2e34ae=Object[_0x2a5ad0(0x713)](BADGES)[_0x2a5ad0(0x3de)](_0x451e55=>_0x451e55['id']===_0x4c60d0);_0x2e34ae&&(_0x4c60d0===_0x2a5ad0(0x8ec)?_0x4da0a4+=_0x2a5ad0(0x84e)+_0x2e34ae[_0x2a5ad0(0x47f)]+_0x2a5ad0(0x29d)+_0x2e34ae[_0x2a5ad0(0x842)]+_0x2a5ad0(0x770):_0x4da0a4+=_0x2a5ad0(0x84e)+_0x2e34ae[_0x2a5ad0(0x47f)]+'\x20('+_0x6e9429[_0x4c60d0]+_0x2a5ad0(0x73e)+_0x2e34ae[_0x2a5ad0(0x842)]+_0x2a5ad0(0x2ac)+_0x6e9429[_0x4c60d0]+_0x2a5ad0(0x488));}}),_0x984530+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x354d6f+_0x3ed682(0x13c)+_0x31bf73['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x31bf73[_0x3ed682(0x490)]||0x0)+_0x3ed682(0x13c)+(_0x4da0a4||'-')+_0x3ed682(0x988);}),_0x41f639[_0x501520(0x215)]=_0x984530;}function displayLoopScreen(_0x1120ea,_0x3d6863,_0x297c1e){const _0x3c5142=_0x7550fe;let _0x12a31f='';_0x297c1e!==_0x3c5142(0x27d)&&(_0x12a31f=_0x3c5142(0x8e8)+_0x1120ea+_0x3c5142(0x649)+_0x3d6863+_0x3c5142(0x765));const _0xd70e92=_0x3c5142(0x44e)+_0x12a31f+_0x3c5142(0x527);studentResultArea[_0x3c5142(0x215)]=_0xd70e92,studentResultArea[_0x3c5142(0x5f6)][_0x3c5142(0x309)](_0x3c5142(0x3c0)),studentQuizArea[_0x3c5142(0x5f6)][_0x3c5142(0x314)](_0x3c5142(0x3c0)),document[_0x3c5142(0xb9f)](_0x3c5142(0x37b))[_0x3c5142(0x52b)](_0x3c5142(0x909),()=>{const _0x24b008=_0x3c5142;studentResultArea[_0x24b008(0x5f6)][_0x24b008(0x314)](_0x24b008(0x3c0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x2fff52,_0x733343,_0x77bf44){const _0x338df8=_0x7550fe,_0x1640a1=document[_0x338df8(0xb9f)](_0x77bf44),_0xe4af5b=_0x77bf44===_0x338df8(0xb1e),_0x265ff4=_0x733343[_0x338df8(0x5c2)][_0x338df8(0x384)],_0x9de215=document['getElementById'](_0x77bf44)[_0x338df8(0x849)](_0x338df8(0x792));if(_0x9de215&&!_0xe4af5b){const _0x58d396=_0x9de215[_0x338df8(0x2e7)](_0x338df8(0x414));_0x58d396['innerHTML']=_0x338df8(0x5a4);}if(!_0x2fff52||_0x2fff52['length']===0x0){_0x1640a1[_0x338df8(0x215)]=_0x338df8(0x6f5)+(_0xe4af5b?0x6:0x8)+_0x338df8(0x858);return;}const _0x1ba4f7=[..._0x2fff52];_0x1ba4f7[_0x338df8(0xa30)]((_0x5f3c79,_0x599169)=>{const _0x160fc1=_0x338df8;let _0x1d85c2,_0x8b5aed;switch(quizLeaderboardSortBy){case _0x160fc1(0x884):_0x1d85c2=_0x5f3c79[_0x160fc1(0x884)]||'',_0x8b5aed=_0x599169[_0x160fc1(0x884)]||'';return quizLeaderboardSortOrder===_0x160fc1(0x6c4)?_0x1d85c2[_0x160fc1(0x45d)](_0x8b5aed,'th'):_0x8b5aed[_0x160fc1(0x45d)](_0x1d85c2,'th');case _0x160fc1(0x4d6):_0x1d85c2=_0x5f3c79[_0x160fc1(0x4d6)]||0x0,_0x8b5aed=_0x599169[_0x160fc1(0x4d6)]||0x0;break;case _0x160fc1(0x9ba):_0x1d85c2=_0x5f3c79[_0x160fc1(0x9ba)]?.[_0x160fc1(0x384)]||0x1,_0x8b5aed=_0x599169[_0x160fc1(0x9ba)]?.[_0x160fc1(0x384)]||0x1;break;case _0x160fc1(0x8a7):_0x1d85c2=new Date(_0x5f3c79[_0x160fc1(0x8a7)]),_0x8b5aed=new Date(_0x599169['latestSubmittedAt']);break;case _0x160fc1(0x976):default:_0x1d85c2=_0x5f3c79[_0x160fc1(0x976)],_0x8b5aed=_0x599169['bestScore'];break;}if(_0x1d85c2<_0x8b5aed)return quizLeaderboardSortOrder===_0x160fc1(0x6c4)?-0x1:0x1;if(_0x1d85c2>_0x8b5aed)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x3f45cd=_0x733343[_0x338df8(0x3d0)]===!![],_0x1935de=_0x733343[_0x338df8(0x996)]?.[_0x338df8(0x5e0)]??-0x1;let _0x11da6e='';_0x1ba4f7[_0x338df8(0x94f)]((_0x33bd3e,_0xcc0570)=>{const _0x1eb23c=_0x338df8,_0x1e00fd=_0xcc0570+0x1;let _0x394182='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x3f45cd||_0x1935de!==-0x1){let _0x207fdb=_0x3f45cd?_0x33bd3e['bestScore']===_0x265ff4:_0x33bd3e[_0x1eb23c(0x976)]>=_0x1935de;const _0x2cb2d0=_0x207fdb?_0x1eb23c(0x28d):_0x1eb23c(0x253),_0x149979=_0x207fdb?_0x1eb23c(0x856):_0x1eb23c(0x5d4);_0x394182=_0x1eb23c(0x6a4)+_0x2cb2d0+'\x22>'+_0x149979+'</span></td>';}const _0x37764f=_0x33bd3e[_0x1eb23c(0x9ba)][_0x33bd3e[_0x1eb23c(0x9ba)][_0x1eb23c(0x384)]-0x1],_0x245e5c=(_0x37764f[_0x1eb23c(0x5d3)]||[])[_0x1eb23c(0x25d)](_0x181c8a=>{const _0x394734=_0x1eb23c,_0x571b72=Object['values'](BADGES)['find'](_0x2ef1d5=>_0x2ef1d5['id']===_0x181c8a);return _0x571b72?_0x394734(0x6aa)+_0x571b72[_0x394734(0x47f)]+'\x22><i\x20class=\x22fas\x20'+_0x571b72[_0x394734(0x842)]+_0x394734(0x31a):'';})[_0x1eb23c(0x7fa)]('');_0x11da6e+=_0x1eb23c(0x3f9)+_0x1e00fd+_0x1eb23c(0x777)+_0x33bd3e[_0x1eb23c(0x884)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x33bd3e[_0x1eb23c(0x976)]+_0x1eb23c(0x649)+_0x265ff4+_0x1eb23c(0x936)+_0x394182+_0x1eb23c(0x9f0)+(_0x33bd3e[_0x1eb23c(0x4d6)]||0x0)+_0x1eb23c(0x936)+(_0xe4af5b?'':_0x1eb23c(0x8c9)+(_0x33bd3e['attempts']?.[_0x1eb23c(0x384)]||0x1)+_0x1eb23c(0x88f))+_0x1eb23c(0xb1f)+(_0xe4af5b?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x33bd3e['latestSubmittedAt'])[_0x1eb23c(0x687)](_0x1eb23c(0x2b8))+_0x1eb23c(0x88f))+_0x1eb23c(0xae8)+(_0x245e5c||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1640a1[_0x338df8(0x215)]=_0x11da6e,_0x9de215&&!_0xe4af5b&&_0x9de215[_0x338df8(0xb3b)](_0x338df8(0x43e))[_0x338df8(0x94f)](_0x2f97cb=>{const _0x4bbef2=_0x338df8,_0x3e6d86=_0x2f97cb[_0x4bbef2(0x2e7)](_0x4bbef2(0x23f));if(_0x3e6d86)_0x3e6d86[_0x4bbef2(0x309)]();_0x2f97cb[_0x4bbef2(0xb7f)][_0x4bbef2(0xa30)]===quizLeaderboardSortBy&&(_0x2f97cb['innerHTML']+=_0x4bbef2(0xb02)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x4bbef2(0xa57));});}async function handleDeleteSubmission(_0x18c064){const _0x4ed0e6=_0x7550fe;if(!currentQuizData||!currentQuizData['id']||!_0x18c064){showMessage(_0x4ed0e6(0xbb2));return;}showConfirmation(_0x4ed0e6(0x896)+_0x18c064+_0x4ed0e6(0x9e8),async()=>{const _0x515e42=_0x4ed0e6,_0x1431ee=currentQuizData['id'],_0x4daf5d=doc(db,_0x515e42(0x3dc)+appId+_0x515e42(0x315)+_0x1431ee+_0x515e42(0x6dd),_0x18c064);try{await deleteDoc(_0x4daf5d),showMessage('ลบผลสอบของ\x20'+_0x18c064+_0x515e42(0xb34));}catch(_0x4c13bc){console[_0x515e42(0x930)](_0x515e42(0x3a4),_0x4c13bc),showMessage(_0x515e42(0x168));}});}async function handleLoadQuiz(){const _0x411962=_0x7550fe,_0x4c8a99=document['getElementById'](_0x411962(0x509)),_0x1bf197=_0x4c8a99[_0x411962(0x6b0)][_0x411962(0x9f3)]();if(!_0x1bf197){showMessage(_0x411962(0x24f));return;}loadQuizBtn[_0x411962(0xa75)]=!![],loadQuizBtn[_0x411962(0x215)]=_0x411962(0x322);try{const _0x193eaf=doc(db,_0x411962(0x3dc)+appId+_0x411962(0x7a5),_0x1bf197),_0xc2414=await getDoc(_0x193eaf);if(!_0xc2414[_0x411962(0x7be)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0xc2414['id'],..._0xc2414[_0x411962(0xaf1)]()};const _0x28bfbc=currentQuizData[_0x411962(0x78a)]||_0x411962(0x97e),_0x43d816=new Date();if(_0x28bfbc===_0x411962(0xa8a)){showMessage(_0x411962(0x390));return;}if(_0x28bfbc===_0x411962(0x142)){const _0x21f808=currentQuizData[_0x411962(0x519)]?new Date(currentQuizData[_0x411962(0x519)]):null,_0x21c596=currentQuizData[_0x411962(0x3b0)]?new Date(currentQuizData[_0x411962(0x3b0)]):null;if(_0x21f808&&_0x43d816<_0x21f808){showMessage(_0x411962(0x9c2)+_0x21f808[_0x411962(0x687)](_0x411962(0x2b8),{'hour12':![]}));return;}if(_0x21c596&&_0x43d816>_0x21c596){showMessage(_0x411962(0xb0b));return;}}const _0x1b40d8=currentQuizData[_0x411962(0x176)];currentProjectId=_0x1b40d8;const _0x31c235=doc(db,'artifacts/'+appId+_0x411962(0x466),_0x1b40d8),_0x5a77be=await getDoc(_0x31c235);if(!_0x5a77be[_0x411962(0x7be)]()){showMessage(_0x411962(0x516));return;}const _0x37cf90=_0x5a77be[_0x411962(0xaf1)]();currentStudentProjectData=_0x37cf90,displayStudentNameSelector(_0x37cf90['students'],currentQuizData['topic']);}catch(_0x2e9131){console[_0x411962(0x930)](_0x411962(0x5a3),_0x2e9131),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x411962(0x215)]=_0x411962(0xb5c);}}async function handleJoinLiveGame(){const _0x415a40=_0x7550fe,_0x539c3c=document['getElementById']('game-pin-input'),_0x2a84a4=document['getElementById'](_0x415a40(0xabf)),_0x4a5c8e=document[_0x415a40(0xb9f)]('confirm-join-game-btn'),_0x253687=_0x539c3c[_0x415a40(0x6b0)][_0x415a40(0x9f3)](),_0x540eb2=_0x2a84a4[_0x415a40(0x6b0)][_0x415a40(0x9f3)]();if(!_0x253687||!_0x540eb2){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x4a5c8e['disabled']=!![],_0x4a5c8e[_0x415a40(0x215)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x4f9c82=collection(db,_0x415a40(0x3dc)+appId+'/public/data/liveGames'),_0x139a7e=query(_0x4f9c82,where(_0x415a40(0xb69),'==',_0x253687),where(_0x415a40(0x78a),'in',[_0x415a40(0x179),_0x415a40(0x8f0)])),_0x3476f4=await getDocs(_0x139a7e);if(_0x3476f4[_0x415a40(0x8d2)]){showMessage(_0x415a40(0xa72));return;}const _0x60a5eb=_0x3476f4[_0x415a40(0x68e)][0x0],_0x1d8887=_0x60a5eb[_0x415a40(0xaf1)]();currentLiveGameId=_0x60a5eb['id'];const _0x5c50ca=_0x1d8887[_0x415a40(0xbe5)],_0x59d580=doc(db,_0x415a40(0x3dc)+appId+_0x415a40(0x7a5),_0x5c50ca),_0x50af2b=await getDoc(_0x59d580);if(!_0x50af2b['exists']()){showMessage(_0x415a40(0x9cd));return;}currentQuizData={'id':_0x50af2b['id'],..._0x50af2b['data']()};if(_0x1d8887[_0x415a40(0x340)]&&_0x1d8887[_0x415a40(0x340)][_0x540eb2]){const _0x3e2df6=_0x1d8887['players'][_0x540eb2];if(_0x3e2df6[_0x415a40(0x78a)]==='inactive'){_0x4a5c8e[_0x415a40(0x215)]=_0x415a40(0x1dc);const _0x442875={};_0x442875[_0x415a40(0x406)+_0x540eb2+_0x415a40(0x46d)]=_0x415a40(0x97e),await updateDoc(doc(db,_0x415a40(0x3dc)+appId+_0x415a40(0x4bc),currentLiveGameId),_0x442875),showView(_0x415a40(0x9ae)),currentStudentName=_0x540eb2,listenForLiveGameUpdates();return;}else{showMessage(_0x415a40(0x526));return;}}if(_0x1d8887[_0x415a40(0x78a)]!==_0x415a40(0x179)){showMessage(_0x415a40(0x86d));return;}_0x4a5c8e[_0x415a40(0x215)]=_0x415a40(0xb17);const _0x57adcd={};_0x57adcd[_0x415a40(0x406)+_0x540eb2]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x415a40(0x97e)},await updateDoc(doc(db,_0x415a40(0x3dc)+appId+_0x415a40(0x4bc),currentLiveGameId),_0x57adcd),currentStudentName=_0x540eb2,listenForLiveGameUpdates();}catch(_0x1897f5){console[_0x415a40(0x930)](_0x415a40(0x16b),_0x1897f5),showMessage(_0x415a40(0x2a4));}finally{_0x4a5c8e[_0x415a40(0xa75)]=![],_0x4a5c8e[_0x415a40(0x215)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0xee3fe2,_0x123b87){const _0x258aea=_0x7550fe,_0x31a882=document[_0x258aea(0xb9f)](_0x258aea(0xa32));document[_0x258aea(0xb9f)](_0x258aea(0x682))[_0x258aea(0x33f)]=_0x258aea(0x46f)+_0x123b87,!_0xee3fe2||_0xee3fe2[_0x258aea(0x384)]===0x0?(_0x31a882[_0x258aea(0x215)]=_0x258aea(0xbaf),startQuizBtn['disabled']=!![]):(_0x31a882[_0x258aea(0x215)]=_0x258aea(0x79b),_0xee3fe2[_0x258aea(0x94f)](_0x41a679=>{const _0x58479c=_0x258aea,_0xab44d6=document[_0x58479c(0x51b)](_0x58479c(0xaed));_0xab44d6[_0x58479c(0x6b0)]=_0x41a679,_0xab44d6['textContent']=_0x41a679,_0x31a882['appendChild'](_0xab44d6);}),startQuizBtn['disabled']=![]),studentInitialView['classList']['add']('hidden'),studentNameSelectionView[_0x258aea(0x5f6)][_0x258aea(0x309)](_0x258aea(0x3c0));}function shuffleArray(_0x2c8c44){const _0x27cee6=_0x7550fe;for(let _0x4756b4=_0x2c8c44[_0x27cee6(0x384)]-0x1;_0x4756b4>0x0;_0x4756b4--){const _0x54cdb7=Math['floor'](Math[_0x27cee6(0x5b4)]()*(_0x4756b4+0x1));[_0x2c8c44[_0x4756b4],_0x2c8c44[_0x54cdb7]]=[_0x2c8c44[_0x54cdb7],_0x2c8c44[_0x4756b4]];}}function getShuffledQuiz(_0x294bfe){const _0x12e841=_0x7550fe;let _0x5ce17f=JSON[_0x12e841(0x59b)](JSON[_0x12e841(0x356)](_0x294bfe));const _0x10a942=_0x5ce17f[_0x12e841(0x996)]?.[_0x12e841(0x4c4)]||_0x12e841(0x30f);if(_0x10a942===_0x12e841(0x30f))return _0x5ce17f;return(_0x10a942==='questions_only'||_0x10a942===_0x12e841(0x590))&&shuffleArray(_0x5ce17f[_0x12e841(0x5c2)]),(_0x10a942===_0x12e841(0x14a)||_0x10a942==='both')&&_0x5ce17f[_0x12e841(0x5c2)][_0x12e841(0x94f)](_0x390ee6=>{const _0x10b675=_0x12e841,_0x2ad0a6=_0x390ee6[_0x10b675(0x92a)]||_0x5ce17f['quizType'];if(_0x390ee6[_0x10b675(0xbe2)]){let _0x3ff7e2=_0x390ee6[_0x10b675(0xbe2)][_0x10b675(0x25d)]((_0x525ccb,_0x19dca6)=>({'text':_0x525ccb,'isCorrect':_0x19dca6===_0x390ee6['correctAnswerIndex']}));shuffleArray(_0x3ff7e2),_0x390ee6['options']=_0x3ff7e2[_0x10b675(0x25d)](_0x2074c6=>_0x2074c6['text']),_0x390ee6[_0x10b675(0x30b)]=_0x3ff7e2['findIndex'](_0x32f191=>_0x32f191['isCorrect']);}_0x2ad0a6===_0x10b675(0x370)&&_0x390ee6[_0x10b675(0x11a)]&&shuffleArray(_0x390ee6[_0x10b675(0x11a)]);}),_0x5ce17f;}function displayQuizForStudent(_0x33817e){const _0x118edb=_0x7550fe;studentQuizArea[_0x118edb(0x5f6)][_0x118edb(0x309)](_0x118edb(0x3c0)),currentDisplayedQuiz=getShuffledQuiz(_0x33817e);currentMode!==_0x118edb(0x311)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x118edb(0x52b)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x118edb(0x52b)]('mousemove',resetDimTimer),window['addEventListener'](_0x118edb(0x88c),resetDimTimer),window[_0x118edb(0x52b)](_0x118edb(0x6e9),resetDimTimer),window[_0x118edb(0x52b)]('keydown',resetDimTimer),resetDimTimer());const _0x32bb47=currentDisplayedQuiz[_0x118edb(0x996)]?.[_0x118edb(0x93e)]||_0x118edb(0x30f);if(_0x32bb47===_0x118edb(0x609))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x118edb(0x996)][_0x118edb(0x242)]);else _0x32bb47===_0x118edb(0x334)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x251848=_0x7550fe,_0x356e7f=currentDisplayedQuiz['settings']?.[_0x251848(0xb00)]===!![],_0x573b41=currentDisplayedQuiz[_0x251848(0x996)]?.['confidenceMode']||_0x251848(0x94e);let _0x7b05af=_0x251848(0x860)+currentDisplayedQuiz[_0x251848(0xb1c)]+_0x251848(0xba6)+(currentMode==='admin-testing'?_0x251848(0x5d8):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x251848(0x5c2)]['forEach']((_0x469465,_0x472da3)=>{const _0x1a13ba=_0x251848,_0x11899d=_0x469465[_0x1a13ba(0x92a)]||currentDisplayedQuiz[_0x1a13ba(0x874)];_0x7b05af+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x11899d==='matching_item'){}else _0x7b05af+=_0x1a13ba(0xb1a)+(_0x472da3+0x1)+'.\x20'+(_0x469465[_0x1a13ba(0x262)]||_0x469465[_0x1a13ba(0x653)])+_0x1a13ba(0x658),_0x469465['imageCode']&&(_0x7b05af+=_0x1a13ba(0x287)+_0x469465[_0x1a13ba(0xa0a)]+'</div>');_0x7b05af+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x11899d){case _0x1a13ba(0xaf9):_0x7b05af+=_0x1a13ba(0xb49)+_0x472da3+_0x1a13ba(0x696);break;case _0x1a13ba(0x728):_0x7b05af+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x472da3+_0x1a13ba(0x808)+_0x472da3+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x472da3+_0x1a13ba(0x7e6),_0x7b05af+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x472da3+_0x1a13ba(0x568)+_0x472da3+_0x1a13ba(0x9a6)+_0x472da3+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x1a13ba(0x370):_0x7b05af+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x469465[_0x1a13ba(0x4b6)]+_0x1a13ba(0x1e5)+_0x472da3+_0x1a13ba(0x3d9)+_0x469465['allResponses'][_0x1a13ba(0x25d)](_0x26d098=>_0x1a13ba(0x93a)+_0x26d098+'\x22>'+_0x26d098+'</option>')[_0x1a13ba(0x7fa)]('')+_0x1a13ba(0x513);break;default:_0x7b05af+=_0x469465['options']['map']((_0x436fcc,_0x4dcece)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x472da3+_0x1a13ba(0x202)+_0x4dcece+_0x1a13ba(0x62e)+_0x472da3+_0x1a13ba(0x38a)+_0x4dcece+_0x1a13ba(0x1f6)+_0x472da3+_0x1a13ba(0x202)+_0x4dcece+'\x22>'+_0x436fcc+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x7b05af+=_0x1a13ba(0xa2b),_0x356e7f&&(_0x7b05af+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x573b41==='mandatory'?_0x7b05af+=_0x1a13ba(0x802)+_0x472da3+_0x1a13ba(0x551)+_0x472da3+_0x1a13ba(0xb76)+_0x472da3+_0x1a13ba(0x440)+_0x472da3+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x7b05af+=_0x1a13ba(0xa10)+_0x472da3+'\x22\x20name=\x22confidence'+_0x472da3+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x472da3+_0x1a13ba(0x55e),_0x7b05af+=_0x1a13ba(0xa2b)),_0x7b05af+=_0x1a13ba(0xa2b);}),_0x7b05af+=_0x251848(0x305),_0x7b05af+='</form>',studentQuizArea[_0x251848(0x215)]=_0x7b05af;if(currentMode==='admin-testing'){const _0x56c8d1=document[_0x251848(0xb9f)]('cancel-test-btn');if(_0x56c8d1)_0x56c8d1[_0x251848(0x52b)](_0x251848(0x909),cancelAdminTest);}const _0x1af6a9=document[_0x251848(0xb9f)]('quiz-form');_0x1af6a9&&(_0x1af6a9[_0x251848(0x52b)]('submit',handleSubmitQuiz),_0x1af6a9['addEventListener'](_0x251848(0x909),_0x5f02c2=>{const _0x169b78=_0x251848;if(_0x5f02c2[_0x169b78(0x2de)][_0x169b78(0x5f6)][_0x169b78(0x4d3)](_0x169b78(0x895))){const _0x106827=_0x5f02c2[_0x169b78(0x2de)],_0x5a0b0f=_0x106827[_0x169b78(0xb7f)][_0x169b78(0x591)],_0x3be7f4=_0x106827['dataset'][_0x169b78(0x6b0)];document['getElementById'](_0x169b78(0x5aa)+_0x5a0b0f)['value']=_0x3be7f4;const _0x537145=_0x106827['parentElement'];_0x537145[_0x169b78(0xb3b)]('.confidence-choice-btn')[_0x169b78(0x94f)](_0x412432=>_0x412432['classList']['remove']('active')),_0x106827[_0x169b78(0x5f6)][_0x169b78(0x314)](_0x169b78(0x97e));}}));if(window[_0x251848(0xa27)])window[_0x251848(0xa27)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x40aafd){const _0x2a92aa=_0x7550fe;if(_0x40aafd)_0x40aafd[_0x2a92aa(0xa38)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x143412=document[_0x2a92aa(0xb9f)](_0x2a92aa(0x989));if(!_0x143412)return;const _0x314ed2=currentDisplayedQuiz[_0x2a92aa(0x996)]?.[_0x2a92aa(0xb00)]===!![],_0x17eb47=currentDisplayedQuiz[_0x2a92aa(0x996)]?.[_0x2a92aa(0x88e)]||_0x2a92aa(0x94e);if(_0x314ed2&&_0x17eb47===_0x2a92aa(0x145)){let _0x262eae=!![];for(let _0x577892=0x0;_0x577892<currentDisplayedQuiz[_0x2a92aa(0x5c2)][_0x2a92aa(0x384)];_0x577892++){const _0x2b6413=_0x143412[_0x2a92aa(0x2e7)]('#confidence-input-'+_0x577892);if(!_0x2b6413||_0x2b6413[_0x2a92aa(0x6b0)]===''){_0x262eae=![];break;}}if(!_0x262eae){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x32e15c=_0x143412[_0x2a92aa(0x2e7)]('button[type=\x22submit\x22]'),_0x151cb8=currentDisplayedQuiz['questions'][_0x2a92aa(0x78e)](_0x1efff8=>_0x1efff8['questionType']===_0x2a92aa(0xaf9));_0x32e15c&&(_0x32e15c[_0x2a92aa(0xa75)]=!![],_0x32e15c[_0x2a92aa(0x215)]=_0x151cb8?_0x2a92aa(0x206):_0x2a92aa(0x1a7));const _0x490f08=new FormData(_0x143412),_0x2d7bc1=currentDisplayedQuiz[_0x2a92aa(0x5c2)]['map']((_0x2f1b34,_0x35f351)=>{const _0x258873=_0x2a92aa,_0x403470=_0x490f08[_0x258873(0x63d)]('question'+_0x35f351);let _0x42d9ed;_0x17eb47===_0x258873(0x145)?_0x42d9ed=_0x490f08[_0x258873(0x63d)](_0x258873(0x747)+_0x35f351):_0x42d9ed=_0x490f08[_0x258873(0x63d)](_0x258873(0x747)+_0x35f351)==='on';let _0x1a54b1=null;if(_0x403470!==null&&_0x403470!==undefined){const _0x28375e=_0x2f1b34['questionType']||currentDisplayedQuiz[_0x258873(0x874)];_0x28375e===_0x258873(0x81c)||_0x28375e==='fill_in_the_blank'?_0x1a54b1=parseInt(_0x403470):_0x1a54b1=_0x403470;}return{'answer':_0x1a54b1,'wasConfident':_0x42d9ed};}),_0x4453f2=currentQuizData['id'],_0xf91060=doc(db,_0x2a92aa(0x3dc)+appId+_0x2a92aa(0x315)+_0x4453f2+_0x2a92aa(0x6dd),currentStudentName),_0x57ca19=await getDoc(_0xf91060),_0x48e708=_0x57ca19['exists']()?_0x57ca19['data']():{},_0x242c37=_0x48e708[_0x2a92aa(0x9ba)]||[];await processAndSubmitAnswers(_0x2d7bc1,_0x242c37);}async function gradeShortAnswerWithAI(_0x12fb3c,_0x3c27c9){const _0x46391e=_0x7550fe;if(!_0x12fb3c||!_0x3c27c9)return![];try{const _0x40a987=_0x46391e(0x354)+_0x12fb3c+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x3c27c9+_0x46391e(0x4c8),_0x72df2={'contents':[{'role':'user','parts':[{'text':_0x40a987}]}]},_0x180833=_0x46391e(0xab8),_0x1e40e8=_0x46391e(0xb2c)+_0x180833,_0x158844=await fetch(_0x1e40e8,{'method':_0x46391e(0xa1e),'headers':{'Content-Type':_0x46391e(0x9dc)},'body':JSON['stringify'](_0x72df2)});if(!_0x158844['ok'])throw new Error(_0x46391e(0x231));const _0x177789=await _0x158844[_0x46391e(0x21c)](),_0xd9a2a8=_0x177789['candidates'][0x0][_0x46391e(0x403)]['parts'][0x0][_0x46391e(0x965)][_0x46391e(0x9f3)]()[_0x46391e(0x402)]();return _0xd9a2a8===_0x46391e(0xb66);}catch(_0x2c2710){return console[_0x46391e(0x930)](_0x46391e(0x350),_0x2c2710),![];}}async function processAndSubmitAnswers(_0xfaddfd,_0x2cb564){const _0x8cdc53=_0x7550fe;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x8cdc53(0xb5f)](_0x8cdc53(0x1fa),handleVisibilityChange);let _0x45b9a8=0x0;const _0x3c164f=[],_0x30a74f=currentDisplayedQuiz[_0x8cdc53(0x5c2)][_0x8cdc53(0x384)];let _0x11257f=0x0,_0x2052f5=[];const _0xb6381a=currentDisplayedQuiz[_0x8cdc53(0x5c2)];for(let _0x4e7d74=0x0;_0x4e7d74<_0xb6381a[_0x8cdc53(0x384)];_0x4e7d74++){const _0x2d37a1=_0xb6381a[_0x4e7d74],_0xe13e50=_0xfaddfd[_0x4e7d74],_0x45f2f1=_0xe13e50?_0xe13e50[_0x8cdc53(0x929)]:null,_0x1b2efa=_0xe13e50?_0xe13e50[_0x8cdc53(0x493)]:null;let _0x469c2d=![],_0x45835e=0x0;if(_0x45f2f1!==null&&_0x45f2f1!==''){const _0x2c15b2=_0x2d37a1[_0x8cdc53(0x92a)]||currentDisplayedQuiz[_0x8cdc53(0x874)];switch(_0x2c15b2){case _0x8cdc53(0x370):_0x469c2d=_0x45f2f1===_0x2d37a1['correctResponse'];break;case'true_false':const _0x26cf6d=_0x45f2f1===!![]||_0x45f2f1===_0x8cdc53(0xb66);_0x469c2d=_0x26cf6d===_0x2d37a1[_0x8cdc53(0x9f8)];break;case _0x8cdc53(0xaf9):_0x469c2d=await gradeShortAnswer(_0x45f2f1,_0x2d37a1);break;case'multiple_choice':default:_0x469c2d=Number(_0x45f2f1)===_0x2d37a1[_0x8cdc53(0x30b)];break;}}if(currentDisplayedQuiz['settings']?.[_0x8cdc53(0xb00)]){const _0x48f1fc=_0xe13e50?_0xe13e50[_0x8cdc53(0x493)]:null;if(_0x469c2d&&(_0x48f1fc===!![]||_0x48f1fc===_0x8cdc53(0x70f)))_0x45835e=0x2;else{if(_0x469c2d)_0x45835e=0x1;else{if(!_0x469c2d&&(_0x48f1fc===![]||_0x48f1fc===_0x8cdc53(0x6b6)||_0x48f1fc===null))_0x45835e=0x0;else!_0x469c2d&&(_0x48f1fc===!![]||_0x48f1fc===_0x8cdc53(0x70f))&&(_0x45835e=-0x1);}}}else _0x45835e=_0x469c2d?0x1:0x0;_0x45b9a8+=_0x45835e;if(_0x469c2d){_0x11257f++;if(_0x11257f===0x3)_0x2052f5[_0x8cdc53(0x5ca)](BADGES[_0x8cdc53(0xb3f)]['id']);}else _0x11257f=0x0;let _0x1c8ab9=null;_0x2d37a1[_0x8cdc53(0xbe2)]&&_0x45f2f1!==null&&(_0x1c8ab9=_0x2d37a1['options'][_0x45f2f1]),_0x3c164f[_0x8cdc53(0x5ca)]({'questionId':_0x2d37a1['id'],'answer':_0x45f2f1,'answerText':_0x1c8ab9,'isCorrect':_0x469c2d,'wasConfident':_0x1b2efa,'pointsAwarded':_0x45835e,'originalQuestionText':_0x2d37a1[_0x8cdc53(0x4b6)]||_0x2d37a1[_0x8cdc53(0x653)]});}const _0x526760=_0x3c164f[_0x8cdc53(0x67f)](_0x2ec6e1=>_0x2ec6e1['isCorrect'])['length'],_0x4601a1=currentDisplayedQuiz['settings']?.[_0x8cdc53(0x5e0)]??Math[_0x8cdc53(0xa02)](_0x30a74f/0x2);_0x526760===_0x30a74f&&_0x30a74f>0x0&&!currentDisplayedQuiz[_0x8cdc53(0x3d0)]&&_0x2052f5[_0x8cdc53(0x5ca)](BADGES['PERFECT_SCORE']['id']);const _0x2fddda=currentDisplayedQuiz['settings']?.[_0x8cdc53(0x93e)];if(_0x2fddda===_0x8cdc53(0x609)&&quizStartTime){const _0xabba27=(new Date()-quizStartTime)/0x3e8,_0x26ff5f=currentDisplayedQuiz[_0x8cdc53(0x996)][_0x8cdc53(0x242)]*0x3c;_0x526760>=_0x4601a1&&_0xabba27<_0x26ff5f/0x2&&_0x2052f5[_0x8cdc53(0x5ca)](BADGES['QUICK_THINKER']['id']);}_0x2cb564[_0x8cdc53(0x384)]===0x0&&_0x526760===_0x30a74f&&_0x30a74f>0x0&&_0x2052f5[_0x8cdc53(0x5ca)](BADGES['FIRST_TRY_ACE']['id']);if(_0x2cb564[_0x8cdc53(0x384)]>0x0){const _0x13bf00=_0x2cb564[0x0][_0x8cdc53(0x5e9)];if(_0x13bf00<_0x4601a1&&_0x526760>=_0x4601a1){const _0x3d62b6=_0x2cb564[_0x8cdc53(0x78e)](_0x73b37e=>(_0x73b37e[_0x8cdc53(0x5d3)]||[])[_0x8cdc53(0x6b7)](BADGES['COMEBACK_KING']['id']));!_0x3d62b6&&_0x2052f5[_0x8cdc53(0x5ca)](BADGES['COMEBACK_KING']['id']);}}_0x2cb564[_0x8cdc53(0x384)]===0x4&&_0x2052f5[_0x8cdc53(0x5ca)](BADGES[_0x8cdc53(0x182)]['id']);const _0x448ff8=currentDisplayedQuiz['settings'][_0x8cdc53(0x799)];if(currentMode==='admin-testing'){handleResultDisplay(_0x448ff8,_0x526760,_0x45b9a8,_0x2052f5,_0x3c164f,_0x30a74f);return;}const _0x5dba9b=currentQuizData['id'],_0x54b0db=doc(db,_0x8cdc53(0x3dc)+appId+_0x8cdc53(0x315)+_0x5dba9b+_0x8cdc53(0x6dd),currentStudentName);try{const _0x3eebe6=[..._0x2cb564],_0x599324={'score':_0x526760,'points':_0x45b9a8,'badges':Array[_0x8cdc53(0x850)](new Set(_0x2052f5)),'submittedAt':new Date()[_0x8cdc53(0x170)](),'answers':_0x3c164f};_0x3eebe6[_0x8cdc53(0x5ca)](_0x599324);const _0x56aabf=_0x2cb564[_0x8cdc53(0x384)]===0x0?_0x526760:_0x2cb564[0x0][_0x8cdc53(0x5e9)]||0x0,_0x4cb68f=Math[_0x8cdc53(0x2b7)](..._0x3eebe6[_0x8cdc53(0x25d)](_0x4d2558=>_0x4d2558['score']));await setDoc(_0x54b0db,{'studentName':currentStudentName,'totalQuestions':_0x30a74f,'attempts':_0x3eebe6,'firstScore':_0x56aabf,'bestScore':_0x4cb68f,'latestScore':_0x526760,'points':_0x45b9a8,'latestSubmittedAt':_0x599324['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x8cdc53(0x176)],currentStudentName),handleResultDisplay(_0x448ff8,_0x526760,_0x45b9a8,_0x2052f5,_0x3c164f,_0x30a74f);}catch(_0x4c6564){console[_0x8cdc53(0x930)]('Error\x20saving\x20submission:',_0x4c6564),showMessage(_0x8cdc53(0x3e7));}}async function updateStudentProfile(_0x30898d,_0x43da33){const _0x207943=_0x7550fe,_0x4aad42=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x30898d+_0x207943(0xaf7),_0x43da33);try{const _0x70dc4b=query(collection(db,_0x207943(0x3dc)+appId+_0x207943(0x7a5)),where(_0x207943(0x176),'==',_0x30898d)),_0x1c3629=await getDocs(_0x70dc4b),_0xef2aba=new Map(_0x1c3629[_0x207943(0x68e)][_0x207943(0x25d)](_0x15a754=>[_0x15a754['id'],_0x15a754['data']()])),_0x4b71c7=Array[_0x207943(0x850)](_0xef2aba[_0x207943(0xaa6)]());await runTransaction(db,async _0x529e20=>{const _0x4715af=_0x207943;let _0x1fa0ec=0x0;const _0x119fde={};let _0x48bc2c=!![],_0x106e7e=0x0,_0x602f5c=0x0;for(const _0xd1180e of _0x4b71c7){const _0xbea2db=_0xef2aba['get'](_0xd1180e),_0x2cd9c0=doc(db,_0x4715af(0x3dc)+appId+'/public/data/quizzes/'+_0xd1180e+_0x4715af(0x6dd),_0x43da33),_0x31537a=await _0x529e20[_0x4715af(0x63d)](_0x2cd9c0);if(_0x31537a['exists']()){const _0x3658d9=_0x31537a[_0x4715af(0xaf1)](),_0x343ec6=_0x3658d9['attempts']||[];if(_0x343ec6['length']>0x0){const _0x2c15d1=_0x343ec6['reduce']((_0x36e67c,_0x264798)=>{const _0x483184=_0x4715af;if(_0x264798['score']>_0x36e67c['score'])return _0x264798;if(_0x264798[_0x483184(0x5e9)]===_0x36e67c['score'])return(_0x264798['points']||0x0)>(_0x36e67c['points']||0x0)?_0x264798:_0x36e67c;return _0x36e67c;},{'score':-0x1,'points':-0x1});_0x2c15d1[_0x4715af(0x5e9)]>-0x1&&(_0x1fa0ec+=_0x2c15d1[_0x4715af(0x4d6)]||0x0,(_0x2c15d1[_0x4715af(0x5d3)]||[])['forEach'](_0x9b50a=>{_0x119fde[_0x9b50a]=(_0x119fde[_0x9b50a]||0x0)+0x1;}));}}if(_0xbea2db[_0x4715af(0xb1c)]!==_0x4715af(0x12b)){_0x602f5c++;if(_0x31537a[_0x4715af(0x7be)]()){_0x106e7e++;const _0x57ba32=_0x31537a[_0x4715af(0xaf1)]();_0x57ba32[_0x4715af(0x976)]!==_0x57ba32['totalQuestions']&&(_0x48bc2c=![]);}else _0x48bc2c=![];}}_0x602f5c>0x0&&_0x106e7e===_0x602f5c&&_0x48bc2c?_0x119fde[_0x4715af(0x8ec)]=0x1:_0x119fde[_0x4715af(0x8ec)]=0x0,_0x529e20[_0x4715af(0x24a)](_0x4aad42,{'studentName':_0x43da33,'totalPoints':_0x1fa0ec,'unlockedBadges':Object['keys'](_0x119fde)[_0x4715af(0x67f)](_0x462cad=>_0x119fde[_0x462cad]>0x0),'badgesCount':_0x119fde},{'merge':!![]});});}catch(_0x3a8386){console['error'](_0x207943(0x26b),_0x3a8386),showMessage(_0x207943(0x571));}}function startAdminTest(){const _0x382311=_0x7550fe;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x12bb7a=JSON[_0x382311(0x59b)](JSON[_0x382311(0x356)](currentQuizData));currentMode=_0x382311(0x311),currentStudentName=_0x382311(0x569),adminView[_0x382311(0x5f6)][_0x382311(0x314)](_0x382311(0x3c0)),studentView[_0x382311(0x5f6)]['remove'](_0x382311(0x3c0)),studentInitialView['classList'][_0x382311(0x314)]('hidden'),studentNameSelectionView[_0x382311(0x5f6)]['add'](_0x382311(0x3c0)),studentResultArea['classList'][_0x382311(0x314)](_0x382311(0x3c0)),studentQuizArea['classList']['remove'](_0x382311(0x3c0)),quizStartTime=new Date(),displayQuizForStudent(_0x12bb7a);}function handleResultDisplay(_0x1e1dc9,_0x3bdeaf,_0x12077d,_0x629a6f,_0xb1bb3c,_0x3c1546){const _0x17ebb3=_0x7550fe;if(_0x1e1dc9===_0x17ebb3(0xac3)){displaySubmissionConfirmation();return;}const _0x290843=currentDisplayedQuiz['settings']?.[_0x17ebb3(0x5e0)]??Math[_0x17ebb3(0xa02)](_0x3c1546/0x2),_0x2f5f3f=currentDisplayedQuiz[_0x17ebb3(0x996)]?.['isAdaptive']??![],_0x5050f6=currentDisplayedQuiz[_0x17ebb3(0x996)]?.[_0x17ebb3(0x77d)]===!![],_0x35bf34=_0x3bdeaf<_0x290843,_0x387433=_0x1e1dc9===_0x17ebb3(0x8b2)||_0x1e1dc9===_0x17ebb3(0x748);if(_0x5050f6&&_0x35bf34&&!_0x387433){_0x1e1dc9===_0x17ebb3(0x7fd)?displayResultsWithAnswers(_0x3bdeaf,_0x12077d,_0x629a6f,_0xb1bb3c,_0x3c1546,!![]):displayLoopScreen(_0x3bdeaf,_0x3c1546,_0x1e1dc9);return;}if(_0x2f5f3f&&_0x35bf34){startAdaptiveFlow(_0xb1bb3c,_0x3bdeaf,_0x3c1546);return;}switch(_0x1e1dc9){case'show_results_and_answers':displayResultsWithAnswers(_0x3bdeaf,_0x12077d,_0x629a6f,_0xb1bb3c,_0x3c1546);break;case _0x17ebb3(0x502):displayResultsScoreOnly(_0x3bdeaf,_0x12077d,_0x629a6f,_0x3c1546);break;case'show_pass_fail_only':displayPassFailOnly(_0x3bdeaf,_0x3c1546);break;case _0x17ebb3(0x8b2):displayHalfMarkResult(_0x3bdeaf,_0x3c1546);break;case _0x17ebb3(0x748):displayPerfectScoreResult(_0x3bdeaf,_0x3c1546);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2c29e6){const _0x4da359=_0x7550fe;studentReadingArea[_0x4da359(0x215)]=_0x4da359(0x52f);const _0x1b3d6c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c29e6+_0x4da359(0x3d2)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x56e726={'type':_0x4da359(0xa05),'properties':{'questionText':{'type':_0x4da359(0x9c9)},'options':{'type':_0x4da359(0x5fd),'items':{'type':_0x4da359(0x9c9)}},'correctAnswerIndex':{'type':_0x4da359(0x234)},'explanation':{'type':'STRING'}},'required':['questionText',_0x4da359(0xbe2),_0x4da359(0x30b),_0x4da359(0x9c7)]},_0x265c80={'type':_0x4da359(0xa05),'properties':{'topic':{'type':_0x4da359(0x9c9)},'questions':{'type':_0x4da359(0x5fd),'items':_0x56e726}},'required':[_0x4da359(0xb1c),_0x4da359(0x5c2)]};try{const _0x5b98be=await callAnalysisApi(_0x1b3d6c,_0x265c80);_0x5b98be[_0x4da359(0x3d0)]=!![],studentReadingArea[_0x4da359(0x5f6)][_0x4da359(0x314)](_0x4da359(0x3c0));const _0x1f1c66={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x4da359(0x7fd)};_0x5b98be[_0x4da359(0x996)]=_0x1f1c66,displayQuizForStudent(_0x5b98be);}catch(_0x49a272){console['error'](_0x4da359(0x564),_0x49a272),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x4da359(0x581));}}function displayPassFailOnly(_0x4386ec,_0x1bf872){const _0x2371e2=_0x7550fe,_0xe4e066=currentDisplayedQuiz[_0x2371e2(0x996)]?.[_0x2371e2(0x5e0)]??-0x1,_0x23ccdc=currentDisplayedQuiz[_0x2371e2(0x3d0)]===!![];let _0x3c4621='',_0x268298=![];if(_0x23ccdc||_0xe4e066!==-0x1){_0x268298=_0x23ccdc?_0x4386ec===_0x1bf872:_0x4386ec>=_0xe4e066;const _0x340090=_0x268298?_0x2371e2(0x28d):_0x2371e2(0x253),_0x302673=_0x268298?_0x2371e2(0x856):_0x2371e2(0x5d4);_0x3c4621=_0x2371e2(0x875)+_0x340090+'\x22>'+_0x302673+_0x2371e2(0x3fc);}else _0x3c4621=_0x2371e2(0x485);let _0x406c8a=_0x2371e2(0x1c8)+currentStudentName+_0x2371e2(0xad3)+_0x3c4621+_0x2371e2(0x7bd);studentResultArea['innerHTML']=_0x406c8a,studentResultArea[_0x2371e2(0x5f6)][_0x2371e2(0x309)](_0x2371e2(0x3c0)),studentQuizArea[_0x2371e2(0x5f6)][_0x2371e2(0x314)](_0x2371e2(0x3c0)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x268298});}function cancelAdminTest(){const _0x4ed299=_0x7550fe;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4ed299(0xb5f)](_0x4ed299(0x1fb),handleFullscreenChange),document[_0x4ed299(0xb5f)](_0x4ed299(0x1fa),handleVisibilityChange),currentMode='admin',studentView[_0x4ed299(0x5f6)]['add'](_0x4ed299(0x3c0)),adminView[_0x4ed299(0x5f6)][_0x4ed299(0x309)](_0x4ed299(0x3c0)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x4ed299(0x6fc));}function setupResultScreenBackButton(_0x47bccb){const _0xb4d233=_0x7550fe,_0x210d52={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x47bccb};if(_0x210d52[_0xb4d233(0x2c2)]){const _0x14625e=_0xb4d233(0x1c5);studentResultArea[_0xb4d233(0x6db)](_0xb4d233(0x40e),_0x14625e),document[_0xb4d233(0xb9f)](_0xb4d233(0x37b))[_0xb4d233(0x52b)](_0xb4d233(0x909),()=>{const _0x46e0a7=_0xb4d233;studentResultArea[_0x46e0a7(0x5f6)][_0x46e0a7(0x314)](_0x46e0a7(0x3c0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x33d2a8=_0xb4d233(0x613),_0x4e6b1c=currentMode==='admin-testing',_0x58e412=_0x4e6b1c?_0xb4d233(0x269):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x591121='';_0x210d52[_0xb4d233(0xa2f)]&&(_0x591121+=_0xb4d233(0x668));let _0x20bc58=_0x210d52[_0xb4d233(0x427)];_0x20bc58===undefined&&(_0x20bc58=_0x210d52[_0xb4d233(0x5e9)]<_0x210d52[_0xb4d233(0xb45)]);_0x20bc58&&(_0x591121+=_0xb4d233(0x7f6));_0x591121+=_0xb4d233(0x6ed)+_0x33d2a8+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x58e412+_0xb4d233(0x5fa);const _0x59e9eb=_0xb4d233(0x138)+_0x591121+_0xb4d233(0xa2b);studentResultArea['insertAdjacentHTML'](_0xb4d233(0x40e),_0x59e9eb),studentResultArea[_0xb4d233(0x2e7)](_0xb4d233(0x69f))?.[_0xb4d233(0x52b)](_0xb4d233(0x909),handleShowStudentRankings);const _0x1a4bdc=studentResultArea[_0xb4d233(0x2e7)]('#retake-for-improvement-btn');_0x1a4bdc&&_0x1a4bdc[_0xb4d233(0x52b)](_0xb4d233(0x909),()=>{const _0x446e03=_0xb4d233;studentResultArea['classList'][_0x446e03(0x314)](_0x446e03(0x3c0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xb4d233(0xb9f)](_0x33d2a8)[_0xb4d233(0x52b)]('click',()=>{const _0x50af75=_0xb4d233;_0x4e6b1c?(currentMode=_0x50af75(0x67e),studentView[_0x50af75(0x5f6)][_0x50af75(0x314)](_0x50af75(0x3c0)),adminView['classList'][_0x50af75(0x309)]('hidden'),showView(_0x50af75(0x6fc))):(showView('student'),document[_0x50af75(0xb9f)](_0x50af75(0x509))['value']='');});}function displayResultsWithAnswers(_0x17f261,_0x932f7,_0x5f51c9,_0x430fc4,_0x316621,_0xa7293d=![]){const _0x1a0580=_0x7550fe,_0x26b099=_0x316621>0x0?_0x17f261/_0x316621*0x64:0x0,_0x7ca776=currentDisplayedQuiz['settings']?.[_0x1a0580(0x5e0)]??-0x1,_0x2ef74d=currentDisplayedQuiz[_0x1a0580(0x3d0)]===!![];let _0x5ecf98='';if(_0x2ef74d||_0x7ca776!==-0x1){let _0x436323=_0x2ef74d?_0x17f261===_0x316621:_0x17f261>=_0x7ca776;const _0x32f21a=_0x436323?_0x1a0580(0x28d):'bg-red-100\x20text-red-800',_0x351087=_0x436323?_0x1a0580(0x856):_0x1a0580(0x5d4);_0x5ecf98=_0x1a0580(0x66b)+_0x32f21a+'\x22>'+_0x351087+'</p>';}let _0x4d9142='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x17f261+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x316621+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ecf98+_0x1a0580(0x396)+_0x932f7+_0x1a0580(0x693)+_0x26b099['toFixed'](0x0)+_0x1a0580(0x56b);currentDisplayedQuiz[_0x1a0580(0x5c2)]['forEach']((_0x22ff2d,_0x4b919a)=>{const _0x17539a=_0x1a0580,_0x3ab3ae=_0x430fc4[_0x4b919a],_0x32658a=_0x3ab3ae[_0x17539a(0x929)],_0x22ff1d=_0x3ab3ae[_0x17539a(0x8c1)],_0x53ded1=_0x22ff2d[_0x17539a(0x92a)]||currentDisplayedQuiz['quizType'];_0x4d9142+=_0x17539a(0x19f)+(_0x22ff1d?_0x17539a(0x422):_0x17539a(0x449))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x4b919a+0x1)+'.\x20'+(_0x22ff2d[_0x17539a(0x4b6)]||_0x22ff2d['questionText'])+_0x17539a(0xa6a);switch(_0x53ded1){case _0x17539a(0x370):const _0x5c2f72=_0x32658a||_0x17539a(0xa7e),_0x338ca6=_0x22ff2d[_0x17539a(0xa8d)];_0x4d9142+=_0x17539a(0x3e2)+(!_0x22ff1d?_0x17539a(0x2c0):'')+'\x22>'+_0x5c2f72+_0x17539a(0x518);!_0x22ff1d&&(_0x4d9142+=_0x17539a(0x87a)+_0x338ca6+_0x17539a(0x658));break;case _0x17539a(0xaf9):_0x4d9142+=_0x17539a(0x32a)+(_0x32658a||_0x17539a(0xa7e))+'</p>',_0x4d9142+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x22ff2d[_0x17539a(0xa33)]+'</p>';break;case _0x17539a(0x728):_0x4d9142+=_0x17539a(0xa14)+(_0x22ff2d['correctAnswer']===!![]?_0x17539a(0x7ec):'')+'\x20'+(_0x32658a==='true'&&!_0x22ff1d?_0x17539a(0x2c0):'')+_0x17539a(0x780),_0x4d9142+='<p\x20class=\x22'+(_0x22ff2d[_0x17539a(0x9f8)]===![]?_0x17539a(0x7ec):'')+'\x20'+(_0x32658a===_0x17539a(0x32e)&&!_0x22ff1d?_0x17539a(0x2c0):'')+'\x22>ไม่ใช่</p>';break;default:_0x4d9142+=_0x22ff2d[_0x17539a(0xbe2)][_0x17539a(0x25d)]((_0xcd9862,_0x26ac36)=>{const _0x4b595b=_0x17539a;let _0x46c2ac='',_0x4abc06='';if(_0x26ac36===_0x22ff2d[_0x4b595b(0x30b)])_0x46c2ac=_0x4b595b(0x7ec),_0x4abc06=_0x4b595b(0x48d);else _0x26ac36===_0x32658a&&(_0x46c2ac='font-bold\x20text-red-700\x20line-through',_0x4abc06=_0x4b595b(0x9b2));return _0x4b595b(0x377)+_0x46c2ac+'\x22>'+_0x4abc06+_0xcd9862+'</div>';})['join']('');break;}_0x4d9142+=_0x17539a(0x3e1)+(_0x22ff2d[_0x17539a(0x9c7)]||'ไม่มีคำอธิบาย')+'</div>';if(!_0x22ff1d){const _0x2e4fcd=_0x22ff2d[_0x17539a(0x4b6)]||_0x22ff2d[_0x17539a(0x653)];_0x4d9142+=_0x17539a(0x53e)+escape(_0x2e4fcd)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x4d9142+=_0x17539a(0xa2b);}),studentResultArea[_0x1a0580(0x215)]=_0x4d9142,renderEarnedBadges(_0x5f51c9,_0x1a0580(0x625)),studentResultArea[_0x1a0580(0x5f6)]['remove'](_0x1a0580(0x3c0)),studentQuizArea[_0x1a0580(0x5f6)][_0x1a0580(0x314)](_0x1a0580(0x3c0)),setupResultScreenBackButton({'isLooping':_0xa7293d,'score':_0x17f261,'totalQuestions':_0x316621,'showRankings':!![]});if(window[_0x1a0580(0xa27)])window[_0x1a0580(0xa27)][_0x1a0580(0x806)]([studentResultArea]);}function displayResultsScoreOnly(_0xb6b115,_0x4e8777,_0x3dc506,_0x50b153){const _0x247ded=_0x7550fe,_0x6700de=_0x50b153>0x0?_0xb6b115/_0x50b153*0x64:0x0,_0x3c979d=currentDisplayedQuiz[_0x247ded(0x996)]?.[_0x247ded(0x5e0)]??-0x1,_0x2d4134=currentDisplayedQuiz[_0x247ded(0x3d0)]===!![];let _0x3b6d44='';if(_0x2d4134||_0x3c979d!==-0x1){let _0x226324=_0x2d4134?_0xb6b115===_0x50b153:_0xb6b115>=_0x3c979d;const _0x10cf75=_0x226324?_0x247ded(0x28d):_0x247ded(0x253),_0x457d6b=_0x226324?_0x247ded(0x856):_0x247ded(0x5d4);_0x3b6d44=_0x247ded(0x66b)+_0x10cf75+'\x22>'+_0x457d6b+_0x247ded(0x658);}let _0x2ad284=_0x247ded(0x1c8)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0xb6b115+_0x247ded(0x33d)+_0x50b153+_0x247ded(0xa7b)+_0x3b6d44+_0x247ded(0x396)+_0x4e8777+_0x247ded(0xb52)+_0x6700de['toFixed'](0x0)+_0x247ded(0x1b3);studentResultArea[_0x247ded(0x215)]=_0x2ad284,renderEarnedBadges(_0x3dc506,_0x247ded(0x625)),studentResultArea[_0x247ded(0x5f6)][_0x247ded(0x309)]('hidden'),studentQuizArea[_0x247ded(0x5f6)][_0x247ded(0x314)](_0x247ded(0x3c0)),setupResultScreenBackButton({'score':_0xb6b115,'totalQuestions':_0x50b153,'showRankings':!![]});}function _0x393b(_0x7639a2,_0x37fdb){const _0x25778a=_0x2577();return _0x393b=function(_0x393bc1,_0x18f292){_0x393bc1=_0x393bc1-0x118;let _0x192d0c=_0x25778a[_0x393bc1];return _0x192d0c;},_0x393b(_0x7639a2,_0x37fdb);}function displaySubmissionConfirmation(){const _0x48b070=_0x7550fe;let _0x334c0c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x48b070(0x13e);studentResultArea[_0x48b070(0x215)]=_0x334c0c,studentResultArea[_0x48b070(0x5f6)][_0x48b070(0x309)]('hidden'),studentQuizArea['classList']['add']('hidden'),document[_0x48b070(0xb9f)]('back-to-home-manual-release')[_0x48b070(0x52b)](_0x48b070(0x909),()=>{const _0x320ba6=_0x48b070;showView(_0x320ba6(0x581)),document[_0x320ba6(0xb9f)](_0x320ba6(0x509))['value']='';});}function renderEarnedBadges(_0x6ea003,_0x263132){const _0x178901=_0x7550fe,_0x271eb9=document[_0x178901(0xb9f)](_0x263132);if(!_0x271eb9||!_0x6ea003||_0x6ea003[_0x178901(0x384)]===0x0)return;let _0x241539='';_0x6ea003[_0x178901(0x94f)]((_0x3af606,_0x30c472)=>{const _0x1314cb=_0x178901,_0x5498a7=Object['values'](BADGES)[_0x1314cb(0x3de)](_0x48038b=>_0x48038b['id']===_0x3af606);_0x5498a7&&(_0x241539+=_0x1314cb(0x144)+_0x30c472*0.2+_0x1314cb(0xb86)+_0x5498a7[_0x1314cb(0x721)]+_0x1314cb(0x574)+_0x5498a7['icon']+_0x1314cb(0x98d)+_0x5498a7['name']+_0x1314cb(0xb50));}),_0x271eb9[_0x178901(0x215)]=_0x241539;}function startPresentation(_0x44adb1){const _0x2f455d=_0x7550fe;currentQuizData=getShuffledQuiz(_0x44adb1),currentPresentationSlide=0x0,presentationModal[_0x2f455d(0x2a3)][_0x2f455d(0x9d2)]=_0x2f455d(0x9b1),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x475bd6=_0x7550fe;document[_0x475bd6(0x708)]&&document['exitFullscreen'](),presentationModal['style'][_0x475bd6(0x9d2)]='none';}function renderPresentationSlide(_0x33570d){const _0x1fd1d5=_0x7550fe,_0xf780d8=document[_0x1fd1d5(0xb9f)](_0x1fd1d5(0x4e8));if(!currentQuizData||!currentQuizData[_0x1fd1d5(0x5c2)]||!currentQuizData[_0x1fd1d5(0x5c2)][_0x33570d]){_0xf780d8['innerHTML']=_0x1fd1d5(0xb5d);return;}const _0x1e289e=currentQuizData[_0x1fd1d5(0x5c2)][_0x33570d],_0x249aea=_0x1e289e[_0x1fd1d5(0x92a)]||currentQuizData[_0x1fd1d5(0x874)];_0xf780d8['innerHTML']='';let _0x53df6e=_0x1fd1d5(0x72e)+(_0x1e289e['imageCode']?_0x1fd1d5(0x287)+_0x1e289e[_0x1fd1d5(0xa0a)]+_0x1fd1d5(0xa2b):'')+_0x1fd1d5(0x4d1)+(_0x33570d+0x1)+'.\x20'+(_0x1e289e[_0x1fd1d5(0x4b6)]||_0x1e289e[_0x1fd1d5(0x653)])+_0x1fd1d5(0xbae);switch(_0x249aea){case _0x1fd1d5(0x370):_0x53df6e+=_0x1e289e[_0x1fd1d5(0x11a)]['map'](_0x35c99b=>_0x1fd1d5(0x990)+_0x35c99b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1fd1d5(0x7fa)]('');break;case _0x1fd1d5(0x728):_0x53df6e+=_0x1fd1d5(0x68a),_0x53df6e+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x1fd1d5(0xa9f):case _0x1fd1d5(0xaf9):_0x53df6e+=_0x1fd1d5(0xa0d);break;case'fill_in_the_blank':case _0x1fd1d5(0x81c):default:_0x53df6e+=_0x1e289e[_0x1fd1d5(0xbe2)][_0x1fd1d5(0x25d)]((_0xf21c91,_0x342883)=>_0x1fd1d5(0x983)+_0x342883+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf21c91+_0x1fd1d5(0x9ca))[_0x1fd1d5(0x7fa)]('');break;}_0x53df6e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x1e289e['explanation']||_0x1fd1d5(0x584))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xf780d8[_0x1fd1d5(0x215)]=_0x53df6e;if(window['MathJax'])window[_0x1fd1d5(0xa27)][_0x1fd1d5(0x806)]([_0xf780d8]);let _0x333421=[];switch(_0x249aea){case'matching_item':_0x333421=_0x1e289e[_0x1fd1d5(0x11a)]||[];break;case _0x1fd1d5(0x728):_0x333421=[_0x1fd1d5(0x9df),_0x1fd1d5(0x201)];break;default:_0x333421=_0x1e289e[_0x1fd1d5(0xbe2)]||[];break;}const _0x47cb65=document[_0x1fd1d5(0xb9f)](_0x1fd1d5(0xbe6));_0x47cb65&&(_0x47cb65[_0x1fd1d5(0x6ff)]=()=>{openScratchpad(_0x1e289e,_0x333421);});document['querySelectorAll']('.presentation-option')[_0x1fd1d5(0x94f)](_0x55d13d=>{const _0x1544ad=_0x1fd1d5;_0x55d13d[_0x1544ad(0x52b)]('click',_0x54637b=>revealAnswerForPresentation(_0x33570d,_0x54637b[_0x1544ad(0xa73)]));});const _0x4d0b06=document[_0x1fd1d5(0xb9f)](_0x1fd1d5(0x67b));_0x4d0b06&&_0x4d0b06['addEventListener'](_0x1fd1d5(0x909),()=>checkShortAnswerForPresentation(_0x33570d)),document['getElementById'](_0x1fd1d5(0xa35))['textContent']=_0x1fd1d5(0x656)+(_0x33570d+0x1)+_0x1fd1d5(0x649)+currentQuizData['questions']['length'],document['getElementById'](_0x1fd1d5(0x76b))[_0x1fd1d5(0xa75)]=_0x33570d===0x0,document['getElementById'](_0x1fd1d5(0x871))[_0x1fd1d5(0xa75)]=_0x33570d===currentQuizData['questions'][_0x1fd1d5(0x384)]-0x1;}async function checkShortAnswerForPresentation(_0x4435c2){const _0x5d8aee=_0x7550fe,_0x2295a6=currentQuizData[_0x5d8aee(0x5c2)][_0x4435c2],_0x162a68=document[_0x5d8aee(0xb9f)](_0x5d8aee(0x91f)),_0x123341=document[_0x5d8aee(0xb9f)](_0x5d8aee(0x67b)),_0x340bd3=document[_0x5d8aee(0xb9f)](_0x5d8aee(0x343)),_0x5670b8=document[_0x5d8aee(0xb9f)](_0x5d8aee(0x205));if(!_0x162a68||!_0x123341||!_0x340bd3||!_0x5670b8)return;const _0x2f1727=_0x162a68[_0x5d8aee(0x6b0)][_0x5d8aee(0x9f3)]();if(_0x2f1727==='')return;_0x123341[_0x5d8aee(0xa75)]=!![],_0x123341['innerHTML']=_0x5d8aee(0x9e6),_0x162a68[_0x5d8aee(0xa75)]=!![];const _0x5ec755=await gradeShortAnswer(_0x2f1727,_0x2295a6);_0x5ec755?_0x340bd3[_0x5d8aee(0x215)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x340bd3[_0x5d8aee(0x215)]=_0x5d8aee(0x861)+_0x2295a6[_0x5d8aee(0xa33)]+')',_0x340bd3[_0x5d8aee(0x5f6)][_0x5d8aee(0x309)]('hidden'),_0x5670b8[_0x5d8aee(0x5f6)][_0x5d8aee(0x309)](_0x5d8aee(0x3c0)),_0x123341[_0x5d8aee(0x5f6)][_0x5d8aee(0x314)](_0x5d8aee(0x3c0));}function revealAnswerForPresentation(_0x2e962e,_0x57f59d){const _0xc909a8=_0x7550fe,_0x269808=currentQuizData[_0xc909a8(0x5c2)][_0x2e962e],_0x507116=_0x269808[_0xc909a8(0x92a)]||currentQuizData[_0xc909a8(0x874)];document[_0xc909a8(0xb3b)](_0xc909a8(0x664))[_0xc909a8(0x94f)](_0x461946=>{const _0x201ba9=_0xc909a8;_0x461946[_0x201ba9(0xa75)]=!![],_0x461946[_0x201ba9(0x5f6)][_0x201ba9(0x309)](_0x201ba9(0x8ce));let _0x4ce9d1=![];if(_0x507116===_0x201ba9(0x81c)||_0x507116===_0x201ba9(0x399)){const _0x17fc41=parseInt(_0x461946[_0x201ba9(0xb7f)][_0x201ba9(0x60c)]);_0x4ce9d1=_0x17fc41===_0x269808[_0x201ba9(0x30b)];}else{if(_0x507116===_0x201ba9(0x728)){const _0x47ea84=_0x461946[_0x201ba9(0xb7f)][_0x201ba9(0x929)]===_0x201ba9(0xb66);_0x4ce9d1=_0x47ea84===_0x269808[_0x201ba9(0x9f8)];}else _0x507116===_0x201ba9(0x370)&&(_0x4ce9d1=_0x461946[_0x201ba9(0x33f)][_0x201ba9(0x9f3)]()===_0x269808[_0x201ba9(0xa8d)]);}_0x4ce9d1?_0x461946['classList'][_0x201ba9(0x314)](_0x201ba9(0x16d),_0x201ba9(0x310),'border-green-700'):_0x461946[_0x201ba9(0x5f6)][_0x201ba9(0x314)](_0x201ba9(0x8cb));}),_0x57f59d['classList']['remove'](_0xc909a8(0x8cb));let _0x575982=![];if(_0x507116===_0xc909a8(0x81c))_0x575982=parseInt(_0x57f59d['dataset'][_0xc909a8(0x60c)])===_0x269808[_0xc909a8(0x30b)];else{if(_0x507116===_0xc909a8(0x728))_0x575982=_0x57f59d['dataset']['answer']===_0xc909a8(0xb66)===_0x269808[_0xc909a8(0x9f8)];else _0x507116===_0xc909a8(0x370)&&(_0x575982=_0x57f59d[_0xc909a8(0x33f)][_0xc909a8(0x9f3)]()===_0x269808[_0xc909a8(0xa8d)]);}!_0x575982&&_0x57f59d[_0xc909a8(0x5f6)][_0xc909a8(0x314)](_0xc909a8(0x140),_0xc909a8(0x310),'border-red-700'),document[_0xc909a8(0xb9f)](_0xc909a8(0x205))[_0xc909a8(0x5f6)][_0xc909a8(0x309)](_0xc909a8(0x3c0));}function startWholeQuizTimer(_0x4c6044){const _0x2ceb6b=_0x7550fe,_0x138b9a=document[_0x2ceb6b(0xb9f)](_0x2ceb6b(0xa77));if(!_0x138b9a)return;const _0xd20127=Date[_0x2ceb6b(0x711)]()+_0x4c6044*0x3c*0x3e8;_0x138b9a[_0x2ceb6b(0x215)]=_0x2ceb6b(0x94a);const _0x144c76=document[_0x2ceb6b(0xb9f)](_0x2ceb6b(0x5c6));quizTimerInterval=setInterval(()=>{const _0xa6ed98=_0x2ceb6b,_0xa016=_0xd20127-Date[_0xa6ed98(0x711)]();if(_0xa016<=0x0)clearInterval(quizTimerInterval),_0x144c76[_0xa6ed98(0x33f)]='00:00',showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x55eed9=Math[_0xa6ed98(0xa02)](_0xa016/0x3e8/0x3c%0x3c)['toString']()[_0xa6ed98(0x196)](0x2,'0'),_0x4ef762=Math[_0xa6ed98(0xa02)](_0xa016/0x3e8%0x3c)[_0xa6ed98(0xba9)]()[_0xa6ed98(0x196)](0x2,'0');_0x144c76[_0xa6ed98(0x33f)]=_0x55eed9+':'+_0x4ef762;}},0x3e8);}function renderPerQuestionView(){const _0x285996=_0x7550fe;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x50ce28=currentDisplayedQuiz[_0x285996(0x5c2)][currentQuestionIndex],_0x5e221e=_0x50ce28[_0x285996(0x92a)]||currentDisplayedQuiz[_0x285996(0x874)],_0x11e62a=currentDisplayedQuiz[_0x285996(0x996)]?.['isConfidenceScoringEnabled']===!![];let _0x2c05b6=_0x285996(0x523)+(currentQuestionIndex+0x1)+_0x285996(0x9e1)+currentDisplayedQuiz[_0x285996(0x5c2)][_0x285996(0x384)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x285996(0x311)?_0x285996(0x5d8):'')+_0x285996(0x460)+currentDisplayedQuiz[_0x285996(0xb1c)]+_0x285996(0x825);studentQuizArea[_0x285996(0x215)]=_0x2c05b6;let _0x7c783c=_0x50ce28[_0x285996(0x4b6)]||_0x50ce28[_0x285996(0x653)];_0x50ce28[_0x285996(0xa0a)]&&(_0x7c783c+=_0x285996(0x287)+_0x50ce28[_0x285996(0xa0a)]+_0x285996(0xa2b));let _0x348ecb='';switch(_0x5e221e){case _0x285996(0xaf9):case _0x285996(0xa9f):_0x348ecb=_0x285996(0x128);break;case _0x285996(0x728):_0x348ecb='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x285996(0x370):_0x348ecb='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x50ce28[_0x285996(0x11a)]||[])[_0x285996(0x25d)](_0x24912e=>_0x285996(0x93a)+_0x24912e+'\x22>'+_0x24912e+_0x285996(0xb9e))[_0x285996(0x7fa)]('')+_0x285996(0xbd4);break;default:_0x50ce28[_0x285996(0xbe2)]&&(_0x348ecb=_0x50ce28[_0x285996(0xbe2)][_0x285996(0x25d)]((_0x15a209,_0x5cf43d)=>_0x285996(0x9db)+_0x5cf43d+_0x285996(0xa03)+_0x5cf43d+_0x285996(0x1bb)+_0x5cf43d+'\x22>'+_0x15a209+_0x285996(0x857))[_0x285996(0x7fa)](''));break;}document['getElementById'](_0x285996(0x5e8))[_0x285996(0x215)]=_0x7c783c,document[_0x285996(0xb9f)](_0x285996(0x7ca))['innerHTML']=_0x348ecb;const _0x53cd15=currentDisplayedQuiz['settings']?.[_0x285996(0xb00)]===!![],_0x17fd0e=currentDisplayedQuiz[_0x285996(0x996)]?.[_0x285996(0x88e)]||_0x285996(0x94e);if(_0x53cd15&&_0x17fd0e===_0x285996(0x94e)){const _0x3ecc37=_0x285996(0x8fc);studentQuizArea[_0x285996(0x2e7)](_0x285996(0x5cb))[_0x285996(0x6db)](_0x285996(0x40e),_0x3ecc37);}studentQuizArea[_0x285996(0x6db)](_0x285996(0x40e),_0x285996(0xb8d)+(currentQuestionIndex===currentDisplayedQuiz[_0x285996(0x5c2)][_0x285996(0x384)]-0x1?_0x285996(0x869):_0x285996(0x737))+_0x285996(0x270));currentMode===_0x285996(0x311)&&document[_0x285996(0xb9f)]('cancel-test-btn')?.[_0x285996(0x52b)](_0x285996(0x909),cancelAdminTest);document['getElementById'](_0x285996(0xbfc))[_0x285996(0x52b)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x285996(0xa27)])window['MathJax'][_0x285996(0x806)]([studentQuizArea]);currentDisplayedQuiz[_0x285996(0x996)]?.[_0x285996(0x93e)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2db290=_0x7550fe,_0x4ecc8f=currentDisplayedQuiz[_0x2db290(0x996)][_0x2db290(0x242)],_0x5667c3=document[_0x2db290(0xb9f)](_0x2db290(0x940));if(!_0x5667c3)return;let _0x565ad8=_0x4ecc8f;_0x5667c3[_0x2db290(0x215)]=_0x2db290(0xadd)+_0x565ad8+_0x2db290(0x5ae);const _0x13a010=document['getElementById'](_0x2db290(0xac1)),_0x3676bf=document[_0x2db290(0xb9f)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x18f454=_0x2db290;_0x565ad8--;const _0x185e28=_0x565ad8/_0x4ecc8f*0x64;_0x13a010[_0x18f454(0x2a3)][_0x18f454(0x40b)]=_0x185e28+'%',_0x3676bf[_0x18f454(0x33f)]=_0x565ad8,_0x565ad8<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x18f454(0x362)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x17a556=![]){const _0x538b86=_0x7550fe;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x143861=null,_0x181011=![];if(!_0x17a556){const _0x27671d=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4b480a=_0x27671d[_0x538b86(0x92a)]||currentDisplayedQuiz[_0x538b86(0x874)];if(_0x4b480a===_0x538b86(0xaf9)||_0x4b480a===_0x538b86(0xa9f))_0x143861=document[_0x538b86(0x2e7)]('textarea[name=\x22question_single\x22]')?.[_0x538b86(0x6b0)][_0x538b86(0x9f3)]()??'';else{if(_0x4b480a===_0x538b86(0x370))_0x143861=document[_0x538b86(0x2e7)](_0x538b86(0xace))?.[_0x538b86(0x6b0)]??'';else{const _0x36b7d8=document[_0x538b86(0x2e7)](_0x538b86(0x44b));_0x36b7d8&&(_0x143861=_0x36b7d8[_0x538b86(0x6b0)]);}}if(_0x143861===null||_0x143861===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x4aadc6=currentDisplayedQuiz['settings']?.[_0x538b86(0xb00)]===!![],_0x1604f1=currentDisplayedQuiz[_0x538b86(0x996)]?.['confidenceMode']||_0x538b86(0x94e);if(_0x4aadc6&&_0x1604f1===_0x538b86(0x145)){document[_0x538b86(0xb9f)]('confidence-modal')['dataset'][_0x538b86(0x77c)]=_0x538b86(0x3dd),document['getElementById'](_0x538b86(0xab1))[_0x538b86(0x6b0)]=_0x143861,document[_0x538b86(0xb9f)](_0x538b86(0x7b1))['classList'][_0x538b86(0x309)](_0x538b86(0x3c0));return;}const _0x489d17=document[_0x538b86(0xb9f)](_0x538b86(0x43b));_0x489d17&&(_0x181011=_0x489d17['checked']);}const _0xe8d992={'answer':_0x143861,'wasConfident':_0x181011};proceedToNextQuestion(_0xe8d992);}async function finalizePerQuestionQuiz(){const _0x5f13ea=_0x7550fe,_0x1cba55=currentDisplayedQuiz[_0x5f13ea(0x5c2)]['some'](_0x487ec0=>_0x487ec0['questionType']===_0x5f13ea(0xaf9));_0x1cba55?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x5f13ea(0x297));const _0x547251=currentQuizData['id'],_0x124e0c=doc(db,_0x5f13ea(0x3dc)+appId+'/public/data/quizzes/'+_0x547251+'/submissions',currentStudentName),_0x14038d=await getDoc(_0x124e0c),_0x5947a3=_0x14038d[_0x5f13ea(0x7be)]()?_0x14038d[_0x5f13ea(0xaf1)]():{},_0x4cda3f=_0x5947a3[_0x5f13ea(0x9ba)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4cda3f);}function getResultsFilename(){const _0x3f1a0e=_0x7550fe,_0x4a5cf1=document[_0x3f1a0e(0xb9f)](_0x3f1a0e(0x9fb))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x3f1a0e(0x402)]();return _0x3f1a0e(0x39f)+(_0x4a5cf1||'quiz');}function exportResultsAsImage(){const _0x45fdaf=_0x7550fe,_0x382fc8=document[_0x45fdaf(0xb9f)]('results-table-container');showMessage(_0x45fdaf(0x7a3)),html2canvas(_0x382fc8)[_0x45fdaf(0x96b)](_0x2f1212=>{const _0x1ab1c1=_0x45fdaf,_0x5a448e=document[_0x1ab1c1(0x51b)]('a');_0x5a448e['download']=getResultsFilename()+_0x1ab1c1(0x438),_0x5a448e[_0x1ab1c1(0x4f9)]=_0x2f1212[_0x1ab1c1(0xa9d)](_0x1ab1c1(0xb6c)),_0x5a448e[_0x1ab1c1(0x909)](),messageModal[_0x1ab1c1(0x5f6)][_0x1ab1c1(0x314)](_0x1ab1c1(0x3c0));});}function exportResultsAsPDF(){const _0x21c61=_0x7550fe,{jsPDF:_0x17844e}=window[_0x21c61(0x6ca)],_0x3bbbe7=new _0x17844e();_0x3bbbe7[_0x21c61(0x6f0)](_0x21c61(0x3b7),_0x21c61(0x148)),_0x3bbbe7['autoTable']({'html':_0x21c61(0x376)}),_0x3bbbe7[_0x21c61(0xa0b)](getResultsFilename()+_0x21c61(0xac4));}function exportResultsAsWord(){const _0x329f47=_0x7550fe,_0x1c0861=_0x329f47(0x325)+_0x329f47(0x8ad)+_0x329f47(0x579)+_0x329f47(0xbcc),_0x143516=_0x329f47(0xaad),_0x5b8e66=_0x1c0861+document[_0x329f47(0xb9f)]('results-table-container')['innerHTML']+_0x143516,_0x36a421=_0x329f47(0x805)+encodeURIComponent(_0x5b8e66),_0x54a3c7=document['createElement']('a');document[_0x329f47(0x218)][_0x329f47(0xa04)](_0x54a3c7),_0x54a3c7['href']=_0x36a421,_0x54a3c7[_0x329f47(0x58d)]=getResultsFilename()+_0x329f47(0x7e8),_0x54a3c7[_0x329f47(0x909)](),document[_0x329f47(0x218)][_0x329f47(0xb23)](_0x54a3c7);}function exportResultsAsExcel(){const _0x251202=_0x7550fe,_0xbcf4d7=document[_0x251202(0xb9f)]('results-table');let _0x2d9299=[];for(let _0x19cbed=0x0;_0x19cbed<_0xbcf4d7['rows'][_0x251202(0x384)];_0x19cbed++){let _0x50a22f=[],_0x1dd61d=_0xbcf4d7[_0x251202(0x7f1)][_0x19cbed][_0x251202(0xb3b)](_0x251202(0x420));for(let _0x875f77=0x0;_0x875f77<_0x1dd61d[_0x251202(0x384)];_0x875f77++){_0x50a22f[_0x251202(0x5ca)]('\x22'+_0x1dd61d[_0x875f77]['innerText'][_0x251202(0x38e)](/"/g,'\x22\x22')+'\x22');}_0x2d9299[_0x251202(0x5ca)](_0x50a22f['join'](','));}const _0x33d8e1=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2d9299[_0x251202(0x7fa)]('\x0a')],{'type':_0x251202(0x9ec)}),_0x2944eb=document['createElement']('a');_0x2944eb[_0x251202(0x4f9)]=URL[_0x251202(0x254)](_0x33d8e1),_0x2944eb[_0x251202(0x58d)]=getResultsFilename()+'.csv',_0x2944eb[_0x251202(0x909)]();}function exportTableAsImage(_0x5105c9,_0x17bed0){const _0xd22a99=_0x7550fe,_0x55db5c=document['getElementById'](_0x5105c9);if(!_0x55db5c){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0xd22a99(0x7a3)),html2canvas(_0x55db5c)['then'](_0x59cb7f=>{const _0x3708b2=_0xd22a99,_0x141e92=document[_0x3708b2(0x51b)]('a');_0x141e92['download']=_0x17bed0+'.png',_0x141e92['href']=_0x59cb7f[_0x3708b2(0xa9d)](_0x3708b2(0xb6c)),_0x141e92[_0x3708b2(0x909)](),messageModal[_0x3708b2(0x5f6)][_0x3708b2(0x314)]('hidden');});}function exportTableAsPDF(_0x219fb7,_0x20c751){const _0x7160dc=_0x7550fe,{jsPDF:_0x208978}=window['jspdf'],_0x260672=new _0x208978();_0x260672[_0x7160dc(0x6f0)]('helvetica',_0x7160dc(0x148)),_0x260672[_0x7160dc(0x559)]({'html':'#'+_0x219fb7}),_0x260672[_0x7160dc(0xa0b)](_0x20c751+_0x7160dc(0xac4));}function exportTableAsWord(_0x421282,_0x54a1fb){const _0xe806c2=_0x7550fe,_0x10b9a6=document['getElementById'](_0x421282);if(!_0x10b9a6){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x3f6c10=_0xe806c2(0x325)+_0xe806c2(0x8ad)+_0xe806c2(0x579)+_0xe806c2(0xbcc),_0x46e44e=_0xe806c2(0xaad),_0x18a4a7=_0x3f6c10+_0x10b9a6[_0xe806c2(0x215)]+_0x46e44e,_0x213016=_0xe806c2(0x805)+encodeURIComponent(_0x18a4a7),_0x51d6f0=document['createElement']('a');document[_0xe806c2(0x218)][_0xe806c2(0xa04)](_0x51d6f0),_0x51d6f0[_0xe806c2(0x4f9)]=_0x213016,_0x51d6f0[_0xe806c2(0x58d)]=_0x54a1fb+_0xe806c2(0x7e8),_0x51d6f0[_0xe806c2(0x909)](),document[_0xe806c2(0x218)][_0xe806c2(0xb23)](_0x51d6f0);}function exportTableAsExcel(_0x1bcfda,_0x2cb597){const _0x6350bb=_0x7550fe,_0x200dbc=document['getElementById'](_0x1bcfda);if(!_0x200dbc){showMessage(_0x6350bb(0xb8a));return;}let _0x279b22=[];for(let _0x2aea67=0x0;_0x2aea67<_0x200dbc[_0x6350bb(0x7f1)]['length'];_0x2aea67++){let _0x2e5120=[],_0x44730d=_0x200dbc[_0x6350bb(0x7f1)][_0x2aea67][_0x6350bb(0xb3b)](_0x6350bb(0x420));for(let _0x84b451=0x0;_0x84b451<_0x44730d[_0x6350bb(0x384)];_0x84b451++){_0x2e5120[_0x6350bb(0x5ca)]('\x22'+_0x44730d[_0x84b451][_0x6350bb(0x94b)][_0x6350bb(0x38e)](/"/g,'\x22\x22')+'\x22');}_0x279b22['push'](_0x2e5120[_0x6350bb(0x7fa)](','));}const _0x46aee0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x279b22[_0x6350bb(0x7fa)]('\x0a')],{'type':_0x6350bb(0x9ec)}),_0x1f9a61=document['createElement']('a');_0x1f9a61[_0x6350bb(0x4f9)]=URL[_0x6350bb(0x254)](_0x46aee0),_0x1f9a61[_0x6350bb(0x58d)]=_0x2cb597+_0x6350bb(0x26f),_0x1f9a61[_0x6350bb(0x909)]();}function renderAnalytics(_0x2f17c0,_0x1cba60){const _0x54fdb9=_0x7550fe,_0x34222d=_0x1cba60[_0x54fdb9(0x67f)](_0x32e40b=>_0x32e40b[_0x54fdb9(0xb08)]!==undefined),_0x2f5707=currentProjectData[_0x54fdb9(0x80f)]['length'],_0x4cd7bf=_0x34222d[_0x54fdb9(0x384)],_0x5d6527=_0x2f5707-_0x4cd7bf,_0x4ac3b3=_0x2f5707>0x0?_0x4cd7bf/_0x2f5707*0x64:0x0,_0x445573=_0x34222d[_0x54fdb9(0x25d)](_0x38d7a4=>_0x38d7a4[_0x54fdb9(0xb08)]),_0x5f1edc=_0x445573[_0x54fdb9(0x384)]>0x0?_0x445573[_0x54fdb9(0x59c)]((_0x1374ca,_0xda0ee2)=>_0x1374ca+_0xda0ee2,0x0)/_0x445573[_0x54fdb9(0x384)]:0x0,_0x3ffb4d=_0x2f17c0[_0x54fdb9(0x5c2)]['length'],_0x27719b=_0x3ffb4d>0x0?_0x5f1edc/_0x3ffb4d*0x64:0x0,_0x590c55=calculateItemAnalysis(_0x2f17c0,_0x34222d),_0x543b7e=calculateReliabilityKR20(_0x2f17c0,_0x34222d,_0x590c55['perQuestionStats']);let _0x283d38='';if(_0x543b7e!==null){let _0x5a6e68='';if(_0x543b7e>=0.9)_0x5a6e68='ยอดเยี่ยม';else{if(_0x543b7e>=0.8)_0x5a6e68=_0x54fdb9(0x169);else{if(_0x543b7e>=0.7)_0x5a6e68='ดี';else{if(_0x543b7e>=0.6)_0x5a6e68=_0x54fdb9(0xa96);else _0x5a6e68=_0x54fdb9(0x57d);}}}_0x283d38=_0x54fdb9(0x349)+_0x543b7e[_0x54fdb9(0x8f2)](0x2)+_0x54fdb9(0x13d)+_0x5a6e68+_0x54fdb9(0xac6);}const _0x5ee5bb=document[_0x54fdb9(0xb9f)](_0x54fdb9(0x528));_0x5ee5bb[_0x54fdb9(0x215)]=_0x54fdb9(0x793)+_0x4ac3b3['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x4cd7bf+'/'+_0x2f5707+_0x54fdb9(0x7dd)+_0x5f1edc['toFixed'](0x2)+_0x54fdb9(0x8dc)+_0x27719b['toFixed'](0x0)+_0x54fdb9(0x49c)+(_0x445573[_0x54fdb9(0x384)]>0x0?Math[_0x54fdb9(0x2b7)](..._0x445573):'N/A')+_0x54fdb9(0x285)+(_0x445573[_0x54fdb9(0x384)]>0x0?Math[_0x54fdb9(0x959)](..._0x445573):_0x54fdb9(0x629))+_0x54fdb9(0xb46)+_0x283d38+_0x54fdb9(0x797);const _0x43f9de=document[_0x54fdb9(0xb9f)](_0x54fdb9(0x72c));_0x43f9de&&_0x43f9de[_0x54fdb9(0x309)]();const _0x22da83='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5ee5bb['insertAdjacentHTML'](_0x54fdb9(0xbee),_0x22da83);const _0x4dfaf1=currentProjectData[_0x54fdb9(0x80f)]||[];renderSubmissionChart(_0x4cd7bf,_0x5d6527,_0x34222d,_0x4dfaf1),renderScoreDistributionChart(_0x34222d,_0x3ffb4d),renderQuestionAnalytics(_0x2f17c0,_0x34222d,_0x4dfaf1),renderInterestingStats(_0x2f17c0,_0x34222d);}async function handleExportLessonPDF(){const _0x4616cc=_0x7550fe,_0xa4dee2=document[_0x4616cc(0xb9f)](_0x4616cc(0x7d1)),_0x383f36=document['getElementById'](_0x4616cc(0x41b))[_0x4616cc(0x33f)],_0x51ecd2=window[_0x4616cc(0x620)]('',_0x4616cc(0x75d)),_0x4839f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x383f36+_0x4616cc(0x7fb)+_0xa4dee2[_0x4616cc(0x215)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x51ecd2[_0x4616cc(0x66e)]['write'](_0x4839f0),_0x51ecd2['document'][_0x4616cc(0x383)](),_0x51ecd2[_0x4616cc(0x33e)]=function(){setTimeout(()=>{const _0x3f8d39=_0x393b;_0x51ecd2[_0x3f8d39(0x5a9)]();},0x5dc);};}function renderInterestingStats(_0x4ccbeb,_0x28bae2){const _0x59a6b2=_0x7550fe,_0x30e9ef=document[_0x59a6b2(0xb9f)](_0x59a6b2(0x34c));if(!_0x30e9ef)return;if(_0x28bae2[_0x59a6b2(0x384)]===0x0){_0x30e9ef[_0x59a6b2(0x215)]=_0x59a6b2(0x807);return;}const _0x3af44c=_0x4ccbeb['questions'][_0x59a6b2(0x25d)]((_0x251228,_0xd646ec)=>({'index':_0xd646ec+0x1,'text':_0x251228[_0x59a6b2(0x653)]||_0x251228[_0x59a6b2(0x4b6)],'correct':0x0}));_0x28bae2[_0x59a6b2(0x94f)](_0xfe9eae=>{const _0x223007=_0x59a6b2,_0x4b3e52=_0xfe9eae[_0x223007(0x9ba)][_0xfe9eae[_0x223007(0x9ba)][_0x223007(0x384)]-0x1];_0x4b3e52&&_0x4b3e52['answers']&&_0x4b3e52[_0x223007(0x3b5)][_0x223007(0x94f)](_0x1cb59e=>{const _0x3e089a=_0x223007,_0x3e42e4=_0x3af44c['find'](_0x4b11a0=>_0x4b11a0['text']===_0x1cb59e[_0x3e089a(0xb59)]);_0x1cb59e[_0x3e089a(0x8c1)]&&_0x3e42e4&&_0x3e42e4['correct']++;});});const _0x35f18a=_0x28bae2['length'],_0x4ff03f=Math[_0x59a6b2(0x2b7)](..._0x3af44c[_0x59a6b2(0x25d)](_0x408590=>_0x408590[_0x59a6b2(0xb0c)])),_0x1c9834=Math['min'](..._0x3af44c[_0x59a6b2(0x25d)](_0x38fba9=>_0x38fba9[_0x59a6b2(0xb0c)])),_0x3b1cf0=_0x3af44c[_0x59a6b2(0x67f)](_0x47ed9a=>_0x47ed9a[_0x59a6b2(0xb0c)]===_0x4ff03f)['map'](_0x5aede8=>'ข้อ\x20'+_0x5aede8[_0x59a6b2(0x60c)]),_0x333074=_0x3af44c[_0x59a6b2(0x67f)](_0x1dd386=>_0x1dd386['correct']===_0x1c9834)[_0x59a6b2(0x25d)](_0x19aed3=>'ข้อ\x20'+_0x19aed3[_0x59a6b2(0x60c)]),_0x18190f=_0x28bae2[_0x59a6b2(0xa30)]((_0x7a3c2c,_0x3cdffc)=>_0x3cdffc['latestScore']-_0x7a3c2c['latestScore'])[_0x59a6b2(0x67f)]((_0x3fba06,_0xb087fb,_0x42814c)=>_0x3fba06[_0x59a6b2(0xb08)]===_0x42814c[0x0][_0x59a6b2(0xb08)]),_0x1d2288=_0x28bae2[_0x59a6b2(0xa30)]((_0x1758c2,_0x262ef7)=>_0x1758c2[_0x59a6b2(0xb08)]-_0x262ef7[_0x59a6b2(0xb08)])[_0x59a6b2(0x67f)]((_0x5d0389,_0x48a18e,_0x3604e0)=>_0x5d0389[_0x59a6b2(0xb08)]===_0x3604e0[0x0][_0x59a6b2(0xb08)]),_0x27214e=_0x59a6b2(0x4eb)+_0x3b1cf0[_0x59a6b2(0x7fa)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x4ff03f+_0x59a6b2(0x649)+_0x35f18a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x333074[_0x59a6b2(0x7fa)](',\x20')+_0x59a6b2(0x404)+(_0x35f18a-_0x1c9834)+_0x59a6b2(0x649)+_0x35f18a+_0x59a6b2(0x308)+_0x18190f[_0x59a6b2(0x25d)](_0x3f9062=>_0x3f9062[_0x59a6b2(0x884)])[_0x59a6b2(0x7fa)](',\x20')+_0x59a6b2(0x165)+_0x18190f[0x0]['latestScore']+_0x59a6b2(0x191)+_0x1d2288[_0x59a6b2(0x25d)](_0x3f1ca5=>_0x3f1ca5[_0x59a6b2(0x884)])[_0x59a6b2(0x7fa)](',\x20')+_0x59a6b2(0x165)+_0x1d2288[0x0][_0x59a6b2(0xb08)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x30e9ef[_0x59a6b2(0x215)]=_0x27214e;}function renderSubmissionChart(_0x161c99,_0x3db412,_0x33a9f0,_0x2af785){const _0x10f41b=_0x7550fe,_0x3a8d45=document[_0x10f41b(0xb9f)]('submission-status-chart')[_0x10f41b(0xb7c)]('2d'),_0x3c4591=_0x33a9f0['map'](_0x52f66c=>_0x52f66c[_0x10f41b(0x884)]),_0x37ea75=_0x2af785[_0x10f41b(0x67f)](_0x52e13c=>!_0x3c4591[_0x10f41b(0x6b7)](_0x52e13c));chartInstances[_0x10f41b(0x53b)]&&chartInstances[_0x10f41b(0x53b)][_0x10f41b(0x6f8)](),chartInstances[_0x10f41b(0x53b)]=new Chart(_0x3a8d45,{'type':_0x10f41b(0x3ce),'data':{'labels':['ส่งแล้ว',_0x10f41b(0xa98)],'datasets':[{'data':[_0x161c99,_0x3db412],'backgroundColor':[_0x10f41b(0x96c),'#F59E0B'],'borderColor':[_0x10f41b(0x8f4),_0x10f41b(0x8f4)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x10f41b(0x51c)},'tooltip':{'callbacks':{'label':function(_0x1dae16){const _0x1a1db0=_0x10f41b;let _0x1abd3b=_0x1dae16[_0x1a1db0(0x818)]||'';return _0x1abd3b&&(_0x1abd3b+=':\x20'),_0x1abd3b+=_0x1dae16['raw'],_0x1abd3b;},'afterLabel':function(_0xe97332){const _0x53584b=_0x10f41b;let _0x56f60d;return _0xe97332['dataIndex']===0x0?_0x56f60d=_0x3c4591:_0x56f60d=_0x37ea75,_0x56f60d[_0x53584b(0x384)]>0x0?_0x56f60d[_0x53584b(0x7fa)]('\x0a'):_0x53584b(0x2ae);}}}}}});}function renderScoreDistributionChart(_0x38df1a,_0x571673){const _0x287434=_0x7550fe,_0x1a23ca=document[_0x287434(0xb9f)]('score-distribution-chart')[_0x287434(0xb7c)]('2d'),_0x5f33ed={};for(let _0x1ada31=0x0;_0x1ada31<=_0x571673;_0x1ada31++){_0x5f33ed[_0x1ada31]=0x0;}_0x38df1a['forEach'](_0x40b06a=>{const _0x1e7c62=_0x287434;_0x5f33ed[_0x40b06a[_0x1e7c62(0xb08)]]!==undefined&&_0x5f33ed[_0x40b06a[_0x1e7c62(0xb08)]]++;}),chartInstances[_0x287434(0x5e9)]&&chartInstances[_0x287434(0x5e9)]['destroy'](),chartInstances[_0x287434(0x5e9)]=new Chart(_0x1a23ca,{'type':_0x287434(0xb44),'data':{'labels':Object[_0x287434(0xaa6)](_0x5f33ed),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x287434(0x713)](_0x5f33ed),'backgroundColor':_0x287434(0x77f),'borderColor':_0x287434(0x80d),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x44d894){const _0x599da3=_0x287434,_0x1bfceb=_0x44d894[_0x599da3(0x818)],_0x70f8cd=_0x38df1a[_0x599da3(0x67f)](_0x2b054c=>_0x2b054c[_0x599da3(0xb08)]==_0x1bfceb)[_0x599da3(0x25d)](_0x511df0=>_0x511df0['studentName']);return _0x70f8cd['length']>0x0?_0x70f8cd['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x3b91e4,_0x206349,_0x164427){const _0x8215c7=_0x7550fe,_0x57e16f=document[_0x8215c7(0xb9f)]('question-analytics-container');if(_0x164427['length']===0x0){_0x57e16f[_0x8215c7(0x215)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x62807c=calculateItemAnalysis(_0x3b91e4,_0x206349),_0x194f18=calculateDistractorAnalysis(_0x3b91e4,_0x206349);let _0x49e826='';_0x62807c['overallGroups']&&(_0x49e826='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x62807c[_0x8215c7(0x907)][_0x8215c7(0x9e7)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x62807c['overallGroups'][_0x8215c7(0x9e7)]['map'](_0x4ea52a=>_0x8215c7(0x6a8)+_0x4ea52a+'</li>')[_0x8215c7(0x7fa)]('')+_0x8215c7(0x47a)+_0x62807c[_0x8215c7(0x907)]['lowerGroupNames']['length']+_0x8215c7(0x49b)+_0x62807c[_0x8215c7(0x907)][_0x8215c7(0x2e3)][_0x8215c7(0x25d)](_0x218ec3=>_0x8215c7(0x6a8)+_0x218ec3+'</li>')[_0x8215c7(0x7fa)]('')+_0x8215c7(0x750));let _0x1fd906='';const _0x4a8fef=_0x206349[_0x8215c7(0x25d)](_0x393b84=>_0x393b84[_0x8215c7(0x884)]),_0x2d46ef=_0x14b966=>{const _0x4f707a=_0x8215c7;if(_0x14b966>=0.8)return _0x4f707a(0xb5e);if(_0x14b966>=0.6)return _0x4f707a(0xafe);if(_0x14b966>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x14b966>=0.2)return _0x4f707a(0x413);return _0x4f707a(0x298);},_0x393a1d=_0x1be5cf=>{const _0x513edf=_0x8215c7;if(_0x1be5cf<0x0)return _0x513edf(0xb19);if(_0x1be5cf>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x1be5cf>=0.3)return _0x513edf(0x3a7);if(_0x1be5cf>=0.2)return _0x513edf(0xae2);return _0x513edf(0x373);},_0x8776f0=_0x123dbc=>{const _0x37b7b1=_0x8215c7,_0x11dff2=_0x123dbc[_0x37b7b1(0x8f2)](0x0);if(parseFloat(_0x11dff2)===0x64)return _0x37b7b1(0x699)+_0x11dff2+_0x37b7b1(0x68f);if(_0x123dbc>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x11dff2+_0x37b7b1(0x68f);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x11dff2+_0x37b7b1(0x68f);};_0x3b91e4[_0x8215c7(0x5c2)]['forEach']((_0x5def3f,_0x8c71d2)=>{const _0x1b6b79=_0x8215c7,_0x1f6656=_0x62807c[_0x1b6b79(0x5a7)][_0x8c71d2],_0x2d9ca7=_0x194f18[_0x8c71d2],_0x3b97e3=_0x5def3f[_0x1b6b79(0x4b6)]||_0x5def3f[_0x1b6b79(0x653)]||_0x5def3f[_0x1b6b79(0x262)];let _0x1cd9f9=0x0;const _0x3ed48b=[],_0x403528=[];_0x206349[_0x1b6b79(0x94f)](_0x20127c=>{const _0xeede34=_0x1b6b79,_0x5f0fe1=_0x20127c[_0xeede34(0x9ba)][_0x20127c[_0xeede34(0x9ba)][_0xeede34(0x384)]-0x1];if(_0x5f0fe1&&_0x5f0fe1[_0xeede34(0x3b5)]){const _0x436b5f=_0x5f0fe1['answers'][_0xeede34(0x3de)](_0x1ad3f4=>_0x1ad3f4[_0xeede34(0xb59)]===_0x3b97e3)??_0x5f0fe1[_0xeede34(0x3b5)][_0x8c71d2]??null;_0x436b5f&&(_0x436b5f[_0xeede34(0x8c1)]?(_0x1cd9f9++,_0x3ed48b[_0xeede34(0x5ca)](_0x20127c[_0xeede34(0x884)])):_0x403528[_0xeede34(0x5ca)](_0x20127c[_0xeede34(0x884)]));}});const _0x571848=_0x206349[_0x1b6b79(0x384)]>0x0?_0x1cd9f9/_0x206349[_0x1b6b79(0x384)]*0x64:0x0,_0x443412=_0x164427['filter'](_0x42f83e=>!_0x4a8fef['includes'](_0x42f83e)),_0x324c8e=_0x1f6656?_0x1b6b79(0x164)+_0x1f6656['p'][_0x1b6b79(0x8f2)](0x2)+'</p><div>'+_0x2d46ef(_0x1f6656['p'])+_0x1b6b79(0x483)+_0x1f6656['r'][_0x1b6b79(0x8f2)](0x2)+'</p><div>'+_0x393a1d(_0x1f6656['r'])+_0x1b6b79(0x951)+_0x8776f0(_0x571848)+_0x1b6b79(0x8c0):'';let _0x12f462='';_0x2d9ca7&&(_0x12f462=_0x1b6b79(0xb3a)+Object[_0x1b6b79(0xaa6)](_0x2d9ca7)['map'](_0x1db983=>{const _0x1b5efc=_0x1b6b79,_0x310659=_0x2d9ca7[_0x1db983],_0x5105d6=parseInt(_0x1db983)===_0x5def3f[_0x1b5efc(0x30b)],_0x50a5af=!_0x5105d6&&_0x310659[_0x1b5efc(0xb68)]>_0x310659[_0x1b5efc(0xa09)];return _0x1b5efc(0x7b7)+(_0x5105d6?_0x1b5efc(0xa16):'')+_0x1b5efc(0x978)+(_0x5105d6?'✔\x20':'')+_0x310659[_0x1b5efc(0x965)]+_0x1b5efc(0x455)+_0x310659[_0x1b5efc(0xa09)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x310659['lower_group_count']+'\x20'+(_0x50a5af?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x310659[_0x1b5efc(0xa08)]+_0x1b5efc(0x83a);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x548720='';_0x1f6656&&_0x1f6656[_0x1b6b79(0x34b)]&&(_0x548720=_0x1b6b79(0x794)+_0x1f6656[_0x1b6b79(0x34b)][_0x1b6b79(0x384)]+_0x1b6b79(0x250)+_0x1f6656['upperGroupResponders'][_0x1b6b79(0x25d)](_0x4c616b=>_0x1b6b79(0x6a8)+(_0x4c616b[_0x1b6b79(0x8c1)]?_0x1b6b79(0x82b):_0x1b6b79(0x74f))+'\x20'+_0x4c616b[_0x1b6b79(0x47f)]+'</li>')[_0x1b6b79(0x7fa)]('')+_0x1b6b79(0x4d5)+_0x1f6656[_0x1b6b79(0xbda)][_0x1b6b79(0x384)]+_0x1b6b79(0x250)+_0x1f6656[_0x1b6b79(0xbda)][_0x1b6b79(0x25d)](_0x31b416=>'<li>'+(_0x31b416[_0x1b6b79(0x8c1)]?_0x1b6b79(0x82b):_0x1b6b79(0x74f))+'\x20'+_0x31b416[_0x1b6b79(0x47f)]+_0x1b6b79(0x30d))[_0x1b6b79(0x7fa)]('')+_0x1b6b79(0xb06)),_0x1fd906+=_0x1b6b79(0x8db)+(_0x8c71d2+0x1)+':\x20'+_0x3b97e3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x324c8e+_0x1b6b79(0x11c)+_0x3b97e3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x1cd9f9+_0x1b6b79(0x9e1)+_0x206349[_0x1b6b79(0x384)]+_0x1b6b79(0x7af)+_0x571848[_0x1b6b79(0x8f2)](0x0)+_0x1b6b79(0x352)+_0x3ed48b[_0x1b6b79(0x384)]+_0x1b6b79(0x757)+(_0x3ed48b[_0x1b6b79(0x384)]>0x0?_0x3ed48b[_0x1b6b79(0x7fa)](',\x20'):_0x1b6b79(0x2ae))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x403528[_0x1b6b79(0x384)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x403528[_0x1b6b79(0x384)]>0x0?_0x403528[_0x1b6b79(0x7fa)](',\x20'):_0x1b6b79(0x2ae))+_0x1b6b79(0x2c6)+_0x443412[_0x1b6b79(0x384)]+_0x1b6b79(0x757)+(_0x443412[_0x1b6b79(0x384)]>0x0?_0x443412[_0x1b6b79(0x7fa)](',\x20'):_0x1b6b79(0x2ae))+_0x1b6b79(0xaa2)+_0x12f462+_0x1b6b79(0x7e5)+_0x548720+_0x1b6b79(0x6fd);}),_0x57e16f[_0x8215c7(0x215)]=_0x49e826+_0x1fd906;try{window[_0x8215c7(0xa27)]&&MathJax['typesetPromise']&&MathJax[_0x8215c7(0x806)]([_0x57e16f]);}catch(_0xd6d4f7){console['error'](_0x8215c7(0xb5a),_0xd6d4f7);}}function calculateDistractorAnalysis(_0x16099c,_0x34a8ef){const _0x314f43=_0x7550fe,_0x11d46c={};if(_0x34a8ef[_0x314f43(0x384)]<0x2)return _0x11d46c;const _0x2e87f0=[..._0x34a8ef][_0x314f43(0xa30)]((_0x41e104,_0x2e1ae7)=>{const _0x2cbbab=_0x314f43,_0x520405=_0x2e1ae7[_0x2cbbab(0xb08)]-_0x41e104[_0x2cbbab(0xb08)];if(_0x520405!==0x0)return _0x520405;const _0x3af32f=_0x41e104[_0x2cbbab(0x9ba)]?.['length']||0x1,_0x459fca=_0x2e1ae7[_0x2cbbab(0x9ba)]?.['length']||0x1,_0x320a21=_0x3af32f-_0x459fca;if(_0x320a21!==0x0)return _0x320a21;const _0x4adcbb=new Date(_0x41e104[_0x2cbbab(0x8a7)]),_0x45c21e=new Date(_0x2e1ae7[_0x2cbbab(0x8a7)]),_0x3e9f4c=_0x4adcbb-_0x45c21e;if(_0x3e9f4c!==0x0)return _0x3e9f4c;return _0x41e104[_0x2cbbab(0x884)][_0x2cbbab(0x45d)](_0x2e1ae7['studentName'],'th');}),_0x788885=_0x2e87f0['length'],_0x3e54b2=Math[_0x314f43(0x2b7)](0x1,Math[_0x314f43(0xa02)](_0x788885*0.33)),_0x1b0582=_0x2e87f0[_0x314f43(0x31e)](0x0,_0x3e54b2),_0x3fda6f=_0x2e87f0[_0x314f43(0x31e)](-_0x3e54b2);return _0x16099c[_0x314f43(0x5c2)]['forEach']((_0x22753d,_0xdf1e06)=>{const _0x1dba67=_0x314f43;if(_0x22753d[_0x1dba67(0x92a)]!==_0x1dba67(0x81c)||!_0x22753d[_0x1dba67(0xbe2)])return;const _0x4ea0d5=_0x22753d[_0x1dba67(0x653)],_0x2fe7fb={};_0x22753d['options'][_0x1dba67(0x94f)]((_0x348a22,_0x4d29b3)=>{_0x2fe7fb[_0x4d29b3]={'text':_0x348a22,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2e87f0[_0x1dba67(0x94f)](_0x145d2b=>{const _0x4f6847=_0x1dba67,_0x5ac40f=_0x145d2b[_0x4f6847(0x9ba)][_0x145d2b[_0x4f6847(0x9ba)][_0x4f6847(0x384)]-0x1],_0x285aa6=_0x5ac40f[_0x4f6847(0x3b5)][_0x4f6847(0x3de)](_0x38be7d=>_0x38be7d[_0x4f6847(0xb59)]===_0x4ea0d5);if(_0x285aa6&&_0x285aa6['answer']!==null){const _0x1989d5=_0x22753d[_0x4f6847(0xbe2)]['findIndex'](_0xbc6aa2=>_0xbc6aa2===_0x285aa6[_0x4f6847(0x481)]);_0x1989d5!==-0x1&&_0x2fe7fb[_0x1989d5]&&(_0x2fe7fb[_0x1989d5][_0x4f6847(0xa08)]++,_0x1b0582[_0x4f6847(0x6b7)](_0x145d2b)&&_0x2fe7fb[_0x1989d5][_0x4f6847(0xa09)]++,_0x3fda6f[_0x4f6847(0x6b7)](_0x145d2b)&&_0x2fe7fb[_0x1989d5]['lower_group_count']++);}}),_0x11d46c[_0xdf1e06]=_0x2fe7fb;}),_0x11d46c;}function calculateReliabilityKR20(_0x3f2029,_0x52be8c,_0x4edd76){const _0x5493f9=_0x7550fe,_0x5f8763=_0x3f2029[_0x5493f9(0x5c2)]['length'];if(_0x5f8763<0x2||_0x52be8c[_0x5493f9(0x384)]<0x2)return null;const _0x2836d8=_0x52be8c['map'](_0x1f133a=>_0x1f133a[_0x5493f9(0xb08)]),_0x3903f0=_0x2836d8[_0x5493f9(0x59c)]((_0xc1aace,_0x5bd503)=>_0xc1aace+_0x5bd503,0x0)/_0x2836d8[_0x5493f9(0x384)],_0x471592=_0x2836d8[_0x5493f9(0x25d)](_0x526f29=>Math[_0x5493f9(0x54c)](_0x526f29-_0x3903f0,0x2))['reduce']((_0x4d44aa,_0x478fcb)=>_0x4d44aa+_0x478fcb,0x0)/_0x2836d8[_0x5493f9(0x384)];if(_0x471592===0x0)return null;let _0x159f42=0x0;for(let _0x3adaa0=0x0;_0x3adaa0<_0x5f8763;_0x3adaa0++){const _0x49aac3=_0x4edd76[_0x3adaa0]?.['p'];if(_0x49aac3===undefined)continue;const _0x20074a=0x1-_0x49aac3;_0x159f42+=_0x49aac3*_0x20074a;}if(_0x159f42===0x0)return null;const _0x2a2aa3=_0x5f8763/(_0x5f8763-0x1)*(0x1-_0x159f42/_0x471592);if(_0x2a2aa3>0x1)return null;return _0x2a2aa3;}async function handleAnalyzeClass(){const _0x3779bb=_0x7550fe;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3779bb(0x9e0));return;}const _0xa1aa2c=collection(db,_0x3779bb(0x3dc)+appId+_0x3779bb(0x315)+currentQuizData['id']+_0x3779bb(0x6dd)),_0x214415=await getDocs(_0xa1aa2c),_0x12140f=_0x214415[_0x3779bb(0x68e)][_0x3779bb(0x25d)](_0x3ed0cf=>_0x3ed0cf['data']());if(_0x12140f[_0x3779bb(0x384)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x546ba3=document[_0x3779bb(0xb9f)](_0x3779bb(0x873));_0x546ba3[_0x3779bb(0x215)]=_0x3779bb(0x8f5),document[_0x3779bb(0xb9f)](_0x3779bb(0x8cf))[_0x3779bb(0xa75)]=!![];const _0x572799=_0x12140f['map']((_0x3fa3ff,_0x538862)=>{const _0x3f2030=_0x3779bb,_0x3851fe=_0x3fa3ff[_0x3f2030(0x9ba)][_0x3fa3ff[_0x3f2030(0x9ba)][_0x3f2030(0x384)]-0x1];if(!_0x3851fe)return'';return _0x3f2030(0x7d8)+(_0x538862+0x1)+'\x20('+_0x3fa3ff['studentName']+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x3851fe[_0x3f2030(0x5e9)]+'/'+_0x3fa3ff[_0x3f2030(0xb45)]+_0x3f2030(0x50a)+JSON[_0x3f2030(0x356)](_0x3851fe['answers'])+_0x3f2030(0x7f3);})[_0x3779bb(0x7fa)](_0x3779bb(0x4ac)),_0x1c1b8e=_0x3779bb(0x21b)+currentQuizData[_0x3779bb(0xb1c)]+_0x3779bb(0x6a6)+JSON[_0x3779bb(0x356)](currentQuizData[_0x3779bb(0x5c2)])+_0x3779bb(0xbfd)+_0x572799+_0x3779bb(0x4cf),_0x366493={'type':_0x3779bb(0xa05),'properties':{'classStrengths':{'type':_0x3779bb(0x5fd),'items':{'type':_0x3779bb(0x9c9)}},'classWeaknesses':{'type':_0x3779bb(0x5fd),'items':{'type':_0x3779bb(0x9c9)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x3779bb(0x9c9)}}},'required':[_0x3779bb(0x9f4),_0x3779bb(0x719),_0x3779bb(0x688)]};try{const _0xa2f5c4=await callAnalysisApi(_0x1c1b8e,_0x366493);displayClassAnalysis(_0xa2f5c4);}catch(_0x5a89d2){console[_0x3779bb(0x930)]('Error\x20during\x20class\x20analysis:',_0x5a89d2),_0x546ba3[_0x3779bb(0x215)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x5a89d2[_0x3779bb(0xa4c)]+_0x3779bb(0x979);}finally{document[_0x3779bb(0xb9f)](_0x3779bb(0x8cf))[_0x3779bb(0xa75)]=![];}}function displayClassAnalysis(_0x443515){const _0xd82ae=_0x7550fe,_0x56350b=document[_0xd82ae(0xb9f)](_0xd82ae(0x873));if(!_0x443515){_0x56350b[_0xd82ae(0x215)]=_0xd82ae(0x195);return;}_0x56350b['innerHTML']=_0xd82ae(0xa2d)+_0x443515[_0xd82ae(0x9f4)][_0xd82ae(0x25d)](_0x31fe84=>_0xd82ae(0x6a8)+_0x31fe84+_0xd82ae(0x30d))[_0xd82ae(0x7fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x443515['classWeaknesses']['map'](_0x4650e8=>_0xd82ae(0x6a8)+_0x4650e8+_0xd82ae(0x30d))[_0xd82ae(0x7fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x443515[_0xd82ae(0x688)][_0xd82ae(0x25d)](_0x56fcca=>_0xd82ae(0x6a8)+_0x56fcca+_0xd82ae(0x30d))[_0xd82ae(0x7fa)]('')+_0xd82ae(0x987);}function formatAndPrintWorksheet(_0x412a66,_0x1c6311){const _0x52351a=_0x7550fe,_0x590b3b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x412a66[_0x52351a(0xb1c)]+_0x52351a(0x57c)+_0x412a66['topic']+_0x52351a(0x803)+_0x412a66['questions']['map']((_0x26225b,_0x565c90)=>_0x52351a(0x97b)+(_0x565c90+0x1)+'.\x20'+_0x26225b[_0x52351a(0x653)]+_0x52351a(0x4e9)+(_0x26225b[_0x52351a(0xa0a)]?_0x52351a(0x840)+_0x26225b[_0x52351a(0xa0a)]+_0x52351a(0xa2b):'')+_0x52351a(0x47e))[_0x52351a(0x7fa)]('')+_0x52351a(0xa4b);_0x1c6311['document'][_0x52351a(0x81b)](_0x590b3b),_0x1c6311[_0x52351a(0x66e)]['close'](),_0x1c6311['onload']=function(){setTimeout(()=>{const _0x4c9955=_0x393b;_0x1c6311[_0x4c9955(0x5a9)]();},0x3e8);};}async function generateWorksheet(){const _0x1ed38f=_0x7550fe,_0xde4fc3=document[_0x1ed38f(0xb9f)](_0x1ed38f(0x6a5))['value'][_0x1ed38f(0x9f3)]();if(!_0xde4fc3){showMessage(_0x1ed38f(0x4f8));return;}const _0x215de3=document[_0x1ed38f(0xb9f)](_0x1ed38f(0xa82))['checked'],_0x44dfe6=_0x215de3?'':_0x1ed38f(0x5ba),_0x41805d=window['open']('',_0x1ed38f(0x75d));_0x41805d[_0x1ed38f(0x66e)][_0x1ed38f(0x81b)](_0x1ed38f(0x6c5));const _0x112706=parseInt(document[_0x1ed38f(0xb9f)](_0x1ed38f(0x678))['value']),_0x3aa1b1=document[_0x1ed38f(0xb9f)](_0x1ed38f(0x552))[_0x1ed38f(0x20e)],_0x5d2540=_0x3aa1b1?_0x1ed38f(0x8c3):'',_0xcd81db='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x44dfe6+_0x1ed38f(0x694)+_0x112706+_0x1ed38f(0x5f2)+_0xde4fc3+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d2540+_0x1ed38f(0x778)+simpleMathPrompt+_0x1ed38f(0x6d3),_0x2b9c98={'type':'OBJECT','properties':{'topic':{'type':_0x1ed38f(0x9c9)},'questions':{'type':_0x1ed38f(0x5fd),'items':{'type':_0x1ed38f(0xa05),'properties':{'questionText':{'type':_0x1ed38f(0x9c9)},'imageCode':{'type':_0x1ed38f(0x9c9)}},'required':[_0x1ed38f(0x653)]}}},'required':[_0x1ed38f(0xb1c),_0x1ed38f(0x5c2)]};document[_0x1ed38f(0xb9f)](_0x1ed38f(0x58c))['textContent']='',document['getElementById'](_0x1ed38f(0x8cd))[_0x1ed38f(0x5f6)][_0x1ed38f(0x309)]('hidden'),document[_0x1ed38f(0xb9f)](_0x1ed38f(0x177))['classList']['remove'](_0x1ed38f(0x3c0)),generateWorksheetBtn['disabled']=!![];try{const _0xbe134=await callAnalysisApi(_0xcd81db,_0x2b9c98);formatAndPrintWorksheet(_0xbe134,_0x41805d);}catch(_0x438699){console['error'](_0x1ed38f(0x7b0),_0x438699);if(_0x41805d)_0x41805d['close']();showMessage(_0x1ed38f(0x521));}finally{document[_0x1ed38f(0xb9f)](_0x1ed38f(0x8cd))[_0x1ed38f(0x5f6)]['add'](_0x1ed38f(0x3c0)),document[_0x1ed38f(0xb9f)](_0x1ed38f(0x177))[_0x1ed38f(0x5f6)][_0x1ed38f(0x314)](_0x1ed38f(0x3c0)),generateWorksheetBtn[_0x1ed38f(0xa75)]=![];}}async function callAnalysisApi(_0x10e59a,_0x2e8b49){const _0x12583e=_0x7550fe,_0x41481={'contents':[{'role':_0x12583e(0x45c),'parts':[{'text':_0x10e59a}]}],'generationConfig':{'responseMimeType':_0x12583e(0x9dc),'responseSchema':_0x2e8b49}},_0x2ab167=_0x12583e(0xab8),_0x1ca1dd=_0x12583e(0xb2c)+_0x2ab167,_0x5c7bd3=await fetch(_0x1ca1dd,{'method':'POST','headers':{'Content-Type':_0x12583e(0x9dc)},'body':JSON[_0x12583e(0x356)](_0x41481)});if(!_0x5c7bd3['ok'])throw new Error(_0x12583e(0x1d1)+_0x5c7bd3[_0x12583e(0x78a)]);const _0x4a9634=await _0x5c7bd3[_0x12583e(0x21c)]();if(_0x4a9634[_0x12583e(0x6ef)]?.[0x0]?.[_0x12583e(0x403)]?.[_0x12583e(0xbef)]?.[0x0])return JSON[_0x12583e(0x59b)](_0x4a9634['candidates'][0x0][_0x12583e(0x403)][_0x12583e(0xbef)][0x0][_0x12583e(0x965)]);else{let _0x14170b='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x4a9634[_0x12583e(0x1d5)]?.[_0x12583e(0x7eb)])_0x14170b=_0x12583e(0x8b3)+_0x4a9634[_0x12583e(0x1d5)]['blockReason']+'.';else _0x4a9634['candidates']?.[0x0]?.[_0x12583e(0x7d4)]&&_0x4a9634[_0x12583e(0x6ef)][0x0]['finishReason']!==_0x12583e(0x4ed)&&(_0x14170b='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x4a9634[_0x12583e(0x6ef)][0x0]['finishReason']+'.');console[_0x12583e(0x930)](_0x14170b,JSON[_0x12583e(0x356)](_0x4a9634));throw new Error(_0x14170b);}}async function handleStartSyncMode(_0x33c481,_0x1b89e1=![]){const _0x1ac968=_0x7550fe,_0x23742e=allQuizzes[_0x1ac968(0x3de)](_0x1263c0=>_0x1263c0['id']===_0x33c481)||allQuizzesGlobal[_0x1ac968(0x3de)](_0x1a8b6d=>_0x1a8b6d['id']===_0x33c481);if(!_0x23742e){showMessage(_0x1ac968(0x2f0));return;}currentQuizData=getShuffledQuiz(_0x23742e);const _0x364958=Math[_0x1ac968(0xa02)](0x3e8+Math[_0x1ac968(0x5b4)]()*0x2328)[_0x1ac968(0xba9)]();try{const _0x566149=await addDoc(collection(db,_0x1ac968(0x3dc)+appId+_0x1ac968(0xa36)),{'quizId':_0x23742e['id'],'pin':_0x364958,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1b89e1,'players':{}});currentLiveGameId=_0x566149['id'],showView(_0x1ac968(0x9ae)),renderSyncLobbyView(_0x364958,_0x23742e['topic']),listenForSyncGameUpdates();}catch(_0x2427a1){console[_0x1ac968(0x930)](_0x1ac968(0x500),_0x2427a1),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x464675){const _0x1df4a0=_0x7550fe;if(!_0x464675||!_0x464675[_0x1df4a0(0xb6b)]||!_0x464675[_0x1df4a0(0x340)])return _0x464675[_0x1df4a0(0x340)]||{};const _0x341949=_0x464675[_0x1df4a0(0xb6b)]['questions'][_0x1df4a0(0x384)],_0x3cba70=JSON[_0x1df4a0(0x59b)](JSON[_0x1df4a0(0x356)](_0x464675[_0x1df4a0(0x340)]));return Object[_0x1df4a0(0x713)](_0x3cba70)[_0x1df4a0(0x94f)](_0x1bdcfc=>{const _0x146e17=_0x1df4a0,_0x314299=_0x1bdcfc[_0x146e17(0x5e9)];let _0x48df54=0x0;_0x464675[_0x146e17(0xb00)]&&_0x1bdcfc[_0x146e17(0x3b5)]&&_0x1bdcfc[_0x146e17(0x3b5)][_0x146e17(0x94f)](_0x2974be=>{const _0x2ddea0=_0x146e17;if(_0x2974be[_0x2ddea0(0x8c1)]&&_0x2974be[_0x2ddea0(0x493)])_0x48df54+=0x1;else!_0x2974be[_0x2ddea0(0x8c1)]&&_0x2974be[_0x2ddea0(0x493)]&&(_0x48df54-=0x1);}),_0x1bdcfc[_0x146e17(0x5e9)]=_0x314299+_0x48df54,_0x341949>0x0&&_0x314299===_0x341949&&(_0x1bdcfc[_0x146e17(0x5e9)]+=0x1,_0x1bdcfc[_0x146e17(0x4fc)]=!![]);}),_0x3cba70;}function listenForSyncGameUpdates(){const _0x2dbff5=_0x7550fe;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2870c8=doc(db,_0x2dbff5(0x3dc)+appId+_0x2dbff5(0xa36),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2870c8,_0x41fda1=>{const _0x367b5a=_0x2dbff5;if(!_0x41fda1['exists']()){sessionStorage[_0x367b5a(0x30c)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x367b5a(0x89d));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x367b5a(0x6fc)):showView(_0x367b5a(0x581));return;}const _0x1e31fa=_0x41fda1[_0x367b5a(0xaf1)]();currentMode===_0x367b5a(0x67e)?updateAdminSyncView(_0x1e31fa):updateStudentSyncView(_0x1e31fa);});}function renderSyncLobbyView(_0x4ea609,_0x302a59){const _0x3d1948=_0x7550fe;liveGameView[_0x3d1948(0x215)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x302a59+_0x3d1948(0xb12)+_0x4ea609+_0x3d1948(0x40f);const _0x41cad1=document[_0x3d1948(0xb9f)](_0x3d1948(0x5b7)),_0x34767f=document[_0x3d1948(0xb9f)]('confidence-scoring-description');_0x41cad1[_0x3d1948(0x52b)](_0x3d1948(0x81e),()=>{const _0x355f74=_0x3d1948;_0x34767f[_0x355f74(0x2a3)][_0x355f74(0x9d2)]=_0x41cad1[_0x355f74(0x20e)]?'block':_0x355f74(0x30f);}),document['getElementById'](_0x3d1948(0xaba))[_0x3d1948(0x52b)]('click',async()=>{const _0x1b5bec=_0x3d1948,_0x4be75b=doc(db,_0x1b5bec(0x3dc)+appId+_0x1b5bec(0xa36),currentLiveGameId),_0x90e4d2=document[_0x1b5bec(0xb9f)](_0x1b5bec(0x5b7))[_0x1b5bec(0x20e)];await updateDoc(_0x4be75b,{'status':_0x1b5bec(0x8f0),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x90e4d2});});}function updateAdminSyncView(_0xb441ff){const _0x493871=_0x7550fe;switch(_0xb441ff[_0x493871(0x78a)]){case'lobby':renderSyncLobbyView(_0xb441ff['pin'],_0xb441ff[_0x493871(0xb6b)][_0x493871(0xb1c)]);const _0x4f71a5=Object['entries'](_0xb441ff['players']||{})[_0x493871(0x67f)](([_0x1d3c2e,_0xc3fda4])=>_0xc3fda4[_0x493871(0x78a)]!==_0x493871(0xa8a));document[_0x493871(0xb9f)](_0x493871(0x6fe))[_0x493871(0x33f)]=_0x4f71a5[_0x493871(0x384)],document['getElementById'](_0x493871(0xa19))[_0x493871(0x215)]=_0x4f71a5[_0x493871(0x25d)](([_0x22e0ef,_0x2a564a])=>_0x493871(0x9f5)+_0x22e0ef+_0x493871(0x60a)+_0x22e0ef+_0x493871(0x94c))[_0x493871(0x7fa)]('')||_0x493871(0x300),document['getElementById'](_0x493871(0xaba))[_0x493871(0xa75)]=_0x4f71a5[_0x493871(0x384)]===0x0;break;case _0x493871(0x8f0):const _0xfd9900=Object[_0x493871(0x713)](_0xb441ff[_0x493871(0x340)]||{})[_0x493871(0x67f)](_0x3f4d99=>_0x3f4d99[_0x493871(0x78a)]!=='inactive'),_0x1d028f=_0xfd9900['filter'](_0x1bfc86=>_0x1bfc86['answered'])[_0x493871(0x384)],_0x4748b3=_0x1d028f===_0xfd9900[_0x493871(0x384)]&&_0xfd9900[_0x493871(0x384)]>0x0;if(_0x4748b3&&_0xb441ff[_0x493871(0x78a)]==='question'){const _0x472c3b=doc(db,_0x493871(0x3dc)+appId+_0x493871(0xa36),currentLiveGameId);updateDoc(_0x472c3b,{'status':_0x493871(0x70c)});}else{if(document[_0x493871(0xb9f)]('sync-player-management')===null)renderAdminSyncQuestionView(_0xb441ff);else{const _0x36bbc9=document[_0x493871(0xb9f)]('answer-counter');_0x36bbc9&&(_0x36bbc9['textContent']=_0x1d028f+'/'+_0xfd9900['length']);const _0xba55ce=document[_0x493871(0xb9f)](_0x493871(0x80b));_0xba55ce&&(_0xba55ce[_0x493871(0x215)]=_0xfd9900[_0x493871(0x25d)](_0x3778d4=>{const _0x1ffdf6=_0x493871,_0x1dc860=_0x3778d4[_0x1ffdf6(0x391)]?_0x1ffdf6(0x16d):'bg-gray-500',_0x3af9b8=_0x3778d4[_0x1ffdf6(0x391)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x1ffdf6(0x824);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x1dc860+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3af9b8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3778d4[_0x1ffdf6(0x47f)]+_0x1ffdf6(0x801)+_0x3778d4['name']+_0x1ffdf6(0x63e);})[_0x493871(0x7fa)](''));}}break;case _0x493871(0x70c):const _0x574b09=_0xb441ff[_0x493871(0x1bc)],_0xe07b95=_0xb441ff[_0x493871(0xb6b)][_0x493871(0x5c2)][_0x574b09];renderSyncSummaryView(_0xb441ff,_0xe07b95,!![]);break;case _0x493871(0x5c0):renderAdminSyncDashboard(_0xb441ff,!![]);break;case'podium':_0xb441ff[_0x493871(0xa6d)]&&saveGameResultsAsSubmissions(_0xb441ff);sessionStorage['removeItem'](_0x493871(0x3db));const _0x397a0c=calculateFinalPodiumScores(_0xb441ff);showPodiumView(_0x397a0c,_0x493871(0x630));break;}}function renderAdminSyncQuestionView(_0x1492e8){const _0x525e25=_0x7550fe,_0x1534b7=_0x1492e8[_0x525e25(0x1bc)],_0x72737c=_0x1492e8['shuffledQuiz'][_0x525e25(0x5c2)][_0x1534b7],_0x6755fa=_0x1492e8['shuffledQuiz'][_0x525e25(0x5c2)][_0x525e25(0x384)],_0x450d10=Object[_0x525e25(0x713)](_0x1492e8[_0x525e25(0x340)]||{})['filter'](_0x3b0ae7=>_0x3b0ae7[_0x525e25(0x78a)]!==_0x525e25(0xa8a)),_0x33dec6=_0x450d10[_0x525e25(0x67f)](_0xff030d=>_0xff030d['answered'])[_0x525e25(0x384)],_0x2a7bb9=_0x33dec6===_0x450d10[_0x525e25(0x384)]&&_0x450d10['length']>0x0,_0x37173f=(_0x72737c[_0x525e25(0xbe2)]||[])[_0x525e25(0x25d)](_0x3932d9=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x3932d9+_0x525e25(0xa2b))[_0x525e25(0x7fa)]('');liveGameView['innerHTML']=_0x525e25(0x55c)+(_0x1534b7+0x1)+'\x20/\x20'+_0x6755fa+_0x525e25(0x8c6)+_0x33dec6+'/'+_0x450d10['length']+_0x525e25(0xb56)+_0x72737c['questionText']+_0x525e25(0x9dd)+_0x37173f+_0x525e25(0x8da)+(!_0x2a7bb9?'disabled':'')+_0x525e25(0x24b);if(window[_0x525e25(0xa27)])MathJax[_0x525e25(0x806)]();document[_0x525e25(0xb9f)](_0x525e25(0x945))[_0x525e25(0x52b)]('click',async()=>{const _0x3c6337=_0x525e25,_0x560a31=doc(db,_0x3c6337(0x3dc)+appId+_0x3c6337(0xa36),currentLiveGameId);await updateDoc(_0x560a31,{'status':_0x3c6337(0x5c0)});}),document['getElementById'](_0x525e25(0x740))[_0x525e25(0x6ff)]=()=>{const _0x3c5bee=_0x525e25;openScratchpad(_0x72737c,_0x72737c[_0x3c5bee(0xbe2)]||[]);},document[_0x525e25(0xb9f)](_0x525e25(0x1fc))['addEventListener'](_0x525e25(0x909),()=>{const _0x57e4be=_0x525e25;document[_0x57e4be(0xb9f)](_0x57e4be(0x4aa))[_0x57e4be(0x5f6)][_0x57e4be(0x937)]('hidden');});}function renderSyncLeaderboardView(_0x177cd4,_0x3753db){const _0x2d1f97=_0x7550fe,_0xa679e=Object[_0x2d1f97(0x713)](_0x177cd4[_0x2d1f97(0x340)]||{});_0xa679e['sort']((_0x19658a,_0x9f4123)=>_0x9f4123[_0x2d1f97(0x5e9)]-_0x19658a[_0x2d1f97(0x5e9)]);const _0x361bdb=_0xa679e[_0x2d1f97(0x31e)](0x0,0x5);let _0x3f31d7='';if(_0x3753db){const _0x469f3d=_0x177cd4[_0x2d1f97(0x1bc)]>=_0x177cd4['shuffledQuiz'][_0x2d1f97(0x5c2)]['length']-0x1;_0x3f31d7=_0x2d1f97(0x624)+(_0x469f3d?_0x2d1f97(0xbf4):_0x2d1f97(0xb20))+_0x2d1f97(0x2a2);}else _0x3f31d7=_0x2d1f97(0x611);liveGameView[_0x2d1f97(0x215)]=_0x2d1f97(0x4f6)+_0x361bdb[_0x2d1f97(0x25d)]((_0x48e44d,_0xb10c76)=>_0x2d1f97(0x2f7)+(_0xb10c76+0x1)+'.\x20'+_0x48e44d[_0x2d1f97(0x47f)]+'</span><span\x20class=\x22font-bold\x22>'+_0x48e44d[_0x2d1f97(0x5e9)]+_0x2d1f97(0x3fc))[_0x2d1f97(0x7fa)]('')+_0x2d1f97(0xada)+_0x3f31d7+_0x2d1f97(0x7bd),_0x3753db&&document[_0x2d1f97(0xb9f)](_0x2d1f97(0x344))[_0x2d1f97(0x52b)]('click',async()=>{const _0x42e875=_0x2d1f97,_0x1d8f91=doc(db,_0x42e875(0x3dc)+appId+_0x42e875(0xa36),currentLiveGameId),_0x2689ae=_0x177cd4[_0x42e875(0x1bc)]+0x1;if(_0x2689ae<_0x177cd4[_0x42e875(0xb6b)][_0x42e875(0x5c2)][_0x42e875(0x384)]){const _0x58a55a={};Object[_0x42e875(0xaa6)](_0x177cd4[_0x42e875(0x340)])[_0x42e875(0x94f)](_0x935118=>{const _0xf93efd=_0x42e875;_0x58a55a[_0xf93efd(0x406)+_0x935118+_0xf93efd(0xa06)]=![];}),await updateDoc(_0x1d8f91,{..._0x58a55a,'status':'question','currentQuestionIndex':_0x2689ae,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1d8f91,{'status':_0x42e875(0x245)});});}async function handleJoinSyncGame(){const _0x41bcc9=_0x7550fe,_0x312ae0=prompt(_0x41bcc9(0x408));if(!_0x312ae0||_0x312ae0[_0x41bcc9(0x9f3)]()[_0x41bcc9(0x384)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x47e8d9=collection(db,_0x41bcc9(0x3dc)+appId+_0x41bcc9(0xa36)),_0x577687=query(_0x47e8d9,where(_0x41bcc9(0x898),'==',_0x312ae0[_0x41bcc9(0x9f3)]()),where('status','==',_0x41bcc9(0x179))),_0x269e61=await getDocs(_0x577687);if(_0x269e61[_0x41bcc9(0x8d2)]){showMessage(_0x41bcc9(0x2dd));return;}const _0x395755=_0x269e61[_0x41bcc9(0x68e)][0x0];currentLiveGameId=_0x395755['id'];const _0x28340b=_0x395755[_0x41bcc9(0xaf1)](),_0x2843c8=doc(db,_0x41bcc9(0x3dc)+appId+'/public/data/quizzes',_0x28340b[_0x41bcc9(0xbe5)]),_0x46cbd6=await getDoc(_0x2843c8);if(!_0x46cbd6['exists']())throw new Error(_0x41bcc9(0x6cb));const _0x5832a4=_0x46cbd6[_0x41bcc9(0xaf1)](),_0x44232a=doc(db,_0x41bcc9(0x3dc)+appId+_0x41bcc9(0x466),_0x5832a4['projectId']),_0xb98613=await getDoc(_0x44232a);if(!_0xb98613[_0x41bcc9(0x7be)]())throw new Error(_0x41bcc9(0x2ce));currentQuizData=_0x28340b[_0x41bcc9(0xb6b)];const _0x28d647=_0xb98613['data']();showView(_0x41bcc9(0x743)),showTeamPlayerSelection(_0x28d647[_0x41bcc9(0x80f)],_0x5832a4['topic']);const _0x558038=document[_0x41bcc9(0xb9f)](_0x41bcc9(0x173));_0x558038[_0x41bcc9(0x6ff)]=confirmAndJoinSyncGame;}catch(_0x4c67b0){console[_0x41bcc9(0x930)]('Error\x20joining\x20sync\x20game:',_0x4c67b0),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4c67b0[_0x41bcc9(0xa4c)]);}}function updateStudentSyncView(_0x2afb6b){const _0x599361=_0x7550fe,_0x16ea87=_0x2afb6b[_0x599361(0x340)][localTeamPlayers[0x0]];switch(_0x2afb6b[_0x599361(0x78a)]){case _0x599361(0x179):showView('live-game'),liveGameView[_0x599361(0x215)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x599361(0x8f0):const _0x12e959=localTeamPlayers[_0x599361(0x90e)](_0x3cf571=>_0x2afb6b[_0x599361(0x340)][_0x3cf571]?.[_0x599361(0x391)]===!![]);_0x12e959?liveGameView[_0x599361(0x215)]=_0x599361(0x392):renderStudentSyncQuestionView(_0x2afb6b);break;case _0x599361(0x70c):liveGameView[_0x599361(0x215)]=_0x599361(0x42d);break;case _0x599361(0x5c0):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x2afb6b);break;case _0x599361(0x245):sessionStorage['removeItem'](_0x599361(0x3db));const _0x26ebee=calculateFinalPodiumScores(_0x2afb6b);showPodiumView(_0x26ebee,_0x599361(0x630));break;}}function renderStudentSyncResultsView(_0x59059f){const _0x594105=_0x7550fe,_0x1b291b=localTeamPlayers[_0x594105(0x25d)](_0xf4b467=>_0x59059f['players'][_0xf4b467])['filter'](Boolean);_0x1b291b[_0x594105(0xa30)]((_0x5e5d1d,_0x51c8cc)=>(_0x51c8cc['score']||0x0)-(_0x5e5d1d[_0x594105(0x5e9)]||0x0));const _0x119342=_0x59059f[_0x594105(0x1bc)]>=_0x59059f['shuffledQuiz']['questions'][_0x594105(0x384)]-0x1;let _0xed16aa='';_0x119342?_0xed16aa=_0x594105(0x9c1):_0xed16aa='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x4a052e=_0x594105(0x3d5)+_0x1b291b[_0x594105(0x25d)]((_0x16452a,_0x6e78f4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x6e78f4+0x1)+_0x594105(0x80a)+_0x16452a['name']+_0x594105(0x505)+_0x16452a[_0x594105(0x5e9)]+_0x594105(0x9f9))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xed16aa+_0x594105(0x72a);liveGameView[_0x594105(0x215)]=_0x4a052e;}function renderStudentSyncQuestionView(_0x568032){const _0x193bac=_0x7550fe;while(localPlayerTurnIndex<localTeamPlayers[_0x193bac(0x384)]&&_0x568032[_0x193bac(0x340)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x193bac(0x391)]===!![]){localPlayerTurnIndex++;}const _0x411744=localTeamPlayers[localPlayerTurnIndex];if(!_0x411744)return;const _0x245239=_0x568032[_0x193bac(0x1bc)],_0x3f417e=_0x568032['shuffledQuiz'][_0x193bac(0x5c2)][_0x193bac(0x384)],_0x1bd8d9=_0x568032['shuffledQuiz'][_0x193bac(0x5c2)][_0x245239],_0x11ec25=_0x1bd8d9[_0x193bac(0x92a)]||_0x568032['shuffledQuiz']['quizType'];let _0x1f3104='',_0x506ded=![];switch(_0x11ec25){case _0x193bac(0x728):_0x1f3104=_0x193bac(0x5ce);break;case _0x193bac(0xaf9):case'fill_in_no_choices':_0x506ded=!![],_0x1f3104=_0x193bac(0x208);break;case _0x193bac(0x370):_0x506ded=!![],_0x1f3104='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1bd8d9[_0x193bac(0x11a)]||[])[_0x193bac(0x25d)](_0x4a5215=>_0x193bac(0x93a)+_0x4a5215+'\x22>'+_0x4a5215+_0x193bac(0xb9e))[_0x193bac(0x7fa)]('')+_0x193bac(0xa7a);break;case'multiple_choice':default:_0x1f3104=(_0x1bd8d9[_0x193bac(0xbe2)]||[])['map']((_0x243cca,_0x455fdc)=>_0x193bac(0x973)+_0x455fdc+_0x193bac(0x4be)+_0x243cca+'</button>')[_0x193bac(0x7fa)]('');break;}liveGameView['innerHTML']=_0x193bac(0x7c3)+(_0x245239+0x1)+_0x193bac(0x649)+_0x3f417e+_0x193bac(0x3b1)+_0x411744+_0x193bac(0x5b6)+(_0x1bd8d9[_0x193bac(0x653)]||_0x1bd8d9[_0x193bac(0x4b6)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x1f3104+_0x193bac(0x29e);if(window[_0x193bac(0xa27)])MathJax['typesetPromise']();function _0x334ba3(_0x309d08,_0x6f7209,_0xb06ae1,_0x37e241){const _0x5f1c32=_0x193bac,_0x1ab200=_0xb06ae1['isConfidenceScoringEnabled']===!![];if(_0x1ab200){document[_0x5f1c32(0xb9f)](_0x5f1c32(0x7b1))[_0x5f1c32(0xb7f)][_0x5f1c32(0x77c)]=_0x5f1c32(0x630);const _0x29d675=document[_0x5f1c32(0xb9f)](_0x5f1c32(0xab1));_0x29d675[_0x5f1c32(0xb7f)]['answerValue']=_0x309d08,_0x29d675[_0x5f1c32(0xb7f)][_0x5f1c32(0x8f0)]=JSON[_0x5f1c32(0x356)](_0x6f7209),_0x29d675['dataset'][_0x5f1c32(0x61e)]=JSON[_0x5f1c32(0x356)](_0xb06ae1),_0x29d675[_0x5f1c32(0xb7f)]['playerName']=_0x37e241,document['getElementById'](_0x5f1c32(0x7b1))[_0x5f1c32(0x5f6)][_0x5f1c32(0x309)](_0x5f1c32(0x3c0));}else handleSyncAnswerSubmit(_0x309d08,_0x6f7209,_0xb06ae1,_0x37e241,![]);}_0x506ded?document[_0x193bac(0xb9f)](_0x193bac(0x756))['addEventListener'](_0x193bac(0x909),()=>{const _0x5bb27a=_0x193bac,_0x2d5564=document[_0x5bb27a(0xb9f)](_0x5bb27a(0x1e1))||document[_0x5bb27a(0xb9f)]('sync-matching-select');if(_0x2d5564['value'][_0x5bb27a(0x9f3)]()===''){showMessage(_0x5bb27a(0x4e3));return;}_0x334ba3(_0x2d5564[_0x5bb27a(0x6b0)],_0x1bd8d9,_0x568032,_0x411744);}):document[_0x193bac(0xb3b)](_0x193bac(0x844))[_0x193bac(0x94f)](_0xb8ac7e=>{const _0x2cf7f1=_0x193bac;_0xb8ac7e[_0x2cf7f1(0x52b)]('click',()=>{const _0x22df99=_0x2cf7f1;_0x334ba3(_0xb8ac7e[_0x22df99(0xb7f)][_0x22df99(0x6b0)],_0x1bd8d9,_0x568032,_0x411744);});});}async function handleSyncAnswerSubmit(_0x1acb52,_0xbf3fee,_0x5e698b,_0x5d6af9,_0x25ee04){const _0x153d8b=_0x7550fe;document[_0x153d8b(0xb3b)](_0x153d8b(0x971))[_0x153d8b(0x94f)](_0x17de4a=>_0x17de4a['disabled']=!![]);const _0xf870dd=_0xbf3fee['questionType']||_0x5e698b['shuffledQuiz'][_0x153d8b(0x874)];let _0xc9ae14=![],_0x2b5288=_0x1acb52;switch(_0xf870dd){case'true_false':const _0x218c73=parseInt(_0x1acb52),_0x361eba=_0xbf3fee[_0x153d8b(0x9f8)]===!![]||String(_0xbf3fee[_0x153d8b(0x9f8)])[_0x153d8b(0x402)]()===_0x153d8b(0xb66);_0xc9ae14=_0x218c73===0x0&&_0x361eba||_0x218c73===0x1&&!_0x361eba,_0x2b5288=_0x218c73===0x0?_0x153d8b(0x6d6):_0x153d8b(0x75a);break;case _0x153d8b(0xaf9):case'fill_in_no_choices':_0xc9ae14=await gradeShortAnswer(_0x1acb52,_0xbf3fee);break;case _0x153d8b(0x370):_0xc9ae14=_0x1acb52===_0xbf3fee[_0x153d8b(0xa8d)];break;case _0x153d8b(0x81c):default:const _0x55b7da=parseInt(_0x1acb52);_0xc9ae14=_0x55b7da===_0xbf3fee[_0x153d8b(0x30b)];_0xbf3fee['options']&&_0xbf3fee[_0x153d8b(0xbe2)][_0x55b7da]&&(_0x2b5288=_0xbf3fee[_0x153d8b(0xbe2)][_0x55b7da]);break;}let _0x2ac12e=0x0;if(_0xc9ae14&&_0x25ee04)_0x2ac12e=0x2;else{if(_0xc9ae14)_0x2ac12e=0x1;else!_0xc9ae14&&_0x25ee04&&(_0x2ac12e=-0x1);}const _0x304a1b=doc(db,_0x153d8b(0x3dc)+appId+_0x153d8b(0xa36),currentLiveGameId),_0x179d89={};_0x179d89['players.'+_0x5d6af9+_0x153d8b(0xb75)]=increment(_0x2ac12e),_0x179d89['players.'+_0x5d6af9+'.answered']=!![];let _0x1eb904=null;(_0xf870dd===_0x153d8b(0x81c)||_0xf870dd==='true_false'||_0xf870dd===_0x153d8b(0x361))&&(_0x1eb904=parseInt(_0x1acb52));_0x179d89[_0x153d8b(0x406)+_0x5d6af9+_0x153d8b(0xaaf)]=_0x1eb904;const _0x22fad6={'questionIndex':_0x5e698b[_0x153d8b(0x1bc)],'questionId':_0xbf3fee['id'],'answer':_0x1acb52,'answerText':_0x2b5288,'isCorrect':_0xc9ae14,'originalQuestionText':_0xbf3fee[_0x153d8b(0x653)]||_0xbf3fee['stem'],'wasConfident':_0x25ee04};_0x179d89['players.'+_0x5d6af9+_0x153d8b(0x426)]=arrayUnion(_0x22fad6),await updateDoc(_0x304a1b,_0x179d89);}initialize();
