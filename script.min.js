const _0x5e6fd0=_0x3740;(function(_0x5c98a5,_0x181211){const _0x4141f7=_0x3740,_0x262db0=_0x5c98a5();while(!![]){try{const _0x4d79d9=parseInt(_0x4141f7(0x335))/0x1+-parseInt(_0x4141f7(0x629))/0x2+parseInt(_0x4141f7(0x55d))/0x3*(parseInt(_0x4141f7(0x1bd))/0x4)+parseInt(_0x4141f7(0x368))/0x5*(parseInt(_0x4141f7(0x42b))/0x6)+parseInt(_0x4141f7(0x621))/0x7+parseInt(_0x4141f7(0xf5))/0x8+parseInt(_0x4141f7(0x444))/0x9*(-parseInt(_0x4141f7(0x1d8))/0xa);if(_0x4d79d9===_0x181211)break;else _0x262db0['push'](_0x262db0['shift']());}catch(_0x2fa946){_0x262db0['push'](_0x262db0['shift']());}}}(_0x572d,0xed730));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x5e6fd0(0xa8)},{'category':'จำนวนและการดำเนินการ','name':_0x5e6fd0(0x5b3)},{'category':'จำนวนและการดำเนินการ','name':_0x5e6fd0(0x5d8)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x3b3)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x318)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x160)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x19c)},{'category':'จำนวนและการดำเนินการ','name':_0x5e6fd0(0x1a6)},{'category':_0x5e6fd0(0x4c7),'name':'จำนวนเต็มบวก'},{'category':_0x5e6fd0(0x4c7),'name':'จำนวนเต็มลบ'},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x58c)},{'category':'จำนวนและการดำเนินการ','name':_0x5e6fd0(0x208)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x39b)},{'category':_0x5e6fd0(0x4c7),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x279)},{'category':'จำนวนและการดำเนินการ','name':_0x5e6fd0(0x570)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x327)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0xf6)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0xb4)},{'category':_0x5e6fd0(0x4c7),'name':'การบวกเศษส่วน'},{'category':_0x5e6fd0(0x4c7),'name':'การลบเศษส่วน'},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0xa5)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x513)},{'category':'จำนวนและการดำเนินการ','name':_0x5e6fd0(0x479)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x62d)},{'category':'จำนวนและการดำเนินการ','name':_0x5e6fd0(0x3e6)},{'category':_0x5e6fd0(0x4c7),'name':'การลบทศนิยม'},{'category':_0x5e6fd0(0x4c7),'name':'การคูณทศนิยม'},{'category':_0x5e6fd0(0x4c7),'name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x410)},{'category':_0x5e6fd0(0x4c7),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x451)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x434)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x303)},{'category':_0x5e6fd0(0x4c7),'name':_0x5e6fd0(0x1f2)},{'category':_0x5e6fd0(0x4c7),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':'การวัด','name':'หน่วยความยาวและการแปลง'},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x581)},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x522)},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x34f)},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x4ff)},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x315)},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x51d)},{'category':'การวัด','name':_0x5e6fd0(0x295)},{'category':_0x5e6fd0(0x4e4),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x329)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x583)},{'category':'การวัด','name':_0x5e6fd0(0x3f1)},{'category':_0x5e6fd0(0x4e4),'name':_0x5e6fd0(0x28a)},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x297)},{'category':'เรขาคณิต','name':_0x5e6fd0(0x342)},{'category':'เรขาคณิต','name':_0x5e6fd0(0xc8)},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x295)},{'category':'เรขาคณิต','name':_0x5e6fd0(0x35d)},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x44f)},{'category':_0x5e6fd0(0x282),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x568)},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x1d5)},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x1ab)},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x4f6)},{'category':_0x5e6fd0(0x282),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x40e)},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x334)},{'category':_0x5e6fd0(0x282),'name':_0x5e6fd0(0x468)},{'category':_0x5e6fd0(0x4bf),'name':'ตัวแปรและนิพจน์'},{'category':_0x5e6fd0(0x4bf),'name':'การกระจายและการจัดหมู่'},{'category':'พีชคณิตและฟังก์ชัน','name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x56d)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x34c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x4a8)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x5a6)},{'category':_0x5e6fd0(0x4bf),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x63a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x3f5)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x506)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x1a7)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x371)},{'category':_0x5e6fd0(0x4bf),'name':'อสมการเชิงเส้น'},{'category':_0x5e6fd0(0x4bf),'name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x43b)},{'category':_0x5e6fd0(0x4bf),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x235)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x139)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x2b8)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x136)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x9d)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x3fd)},{'category':_0x5e6fd0(0x4bf),'name':'ฟังก์ชันพหุนาม'},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x487)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x57e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x16c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x2ac)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e6fd0(0x161)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x5ea)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x258)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x612)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x3e1)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x41a)},{'category':_0x5e6fd0(0x4bf),'name':_0x5e6fd0(0x4ed)},{'category':_0x5e6fd0(0x118),'name':_0x5e6fd0(0x449)},{'category':_0x5e6fd0(0x118),'name':_0x5e6fd0(0x419)},{'category':_0x5e6fd0(0x118),'name':_0x5e6fd0(0x3b2)},{'category':'เรขาคณิตวิเคราะห์','name':_0x5e6fd0(0x2f6)},{'category':_0x5e6fd0(0x118),'name':_0x5e6fd0(0x142)},{'category':_0x5e6fd0(0x118),'name':_0x5e6fd0(0x26c)},{'category':_0x5e6fd0(0x118),'name':_0x5e6fd0(0x599)},{'category':_0x5e6fd0(0x118),'name':_0x5e6fd0(0x537)},{'category':_0x5e6fd0(0x118),'name':_0x5e6fd0(0x61a)},{'category':_0x5e6fd0(0x49e),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x5e6fd0(0x49e),'name':_0x5e6fd0(0x119)},{'category':_0x5e6fd0(0x49e),'name':_0x5e6fd0(0x620)},{'category':_0x5e6fd0(0x49e),'name':_0x5e6fd0(0x597)},{'category':_0x5e6fd0(0x49e),'name':_0x5e6fd0(0xfe)},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x5e6fd0(0x49e),'name':_0x5e6fd0(0x366)},{'category':_0x5e6fd0(0x49e),'name':'การแปลงรูปอัตลักษณ์'},{'category':'ตรีโกณมิติ','name':_0x5e6fd0(0x394)},{'category':_0x5e6fd0(0x49e),'name':_0x5e6fd0(0x5ee)},{'category':_0x5e6fd0(0x49e),'name':_0x5e6fd0(0x558)},{'category':_0x5e6fd0(0x212),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x414)},{'category':_0x5e6fd0(0x212),'name':'ตารางความถี่'},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x56f)},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x173)},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x5df)},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x5e6fd0(0x212),'name':'มัธยฐาน'},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0xa3)},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x14e)},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x5af)},{'category':'สถิติและความน่าจะเป็น','name':_0x5e6fd0(0x8d)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x5e6fd0(0x212),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x5e6fd0(0x212),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x5e6fd0(0x2f9)},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x3c1)},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x1b7)},{'category':_0x5e6fd0(0x212),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x40d)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดหมู่\x20(Combination)'},{'category':_0x5e6fd0(0x212),'name':_0x5e6fd0(0x3e7)},{'category':_0x5e6fd0(0x212),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x3a5)},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x5d2)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5e6fd0(0xeb)},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x520)},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x57b)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x503)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5e6fd0(0x170)},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x1ea)},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x4a1)},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x2e4)},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x304)},{'category':_0x5e6fd0(0x23c),'name':_0x5e6fd0(0x614)},{'category':_0x5e6fd0(0x247),'name':_0x5e6fd0(0x1df)},{'category':_0x5e6fd0(0x247),'name':_0x5e6fd0(0x46f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x5e6fd0(0x326)},{'category':_0x5e6fd0(0x247),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x5e6fd0(0x247),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x5e6fd0(0x247),'name':_0x5e6fd0(0x48e)},{'category':_0x5e6fd0(0x247),'name':_0x5e6fd0(0x554)},{'category':_0x5e6fd0(0x3fa),'name':_0x5e6fd0(0x39e)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยทบต้น'},{'category':_0x5e6fd0(0x3fa),'name':_0x5e6fd0(0x117)},{'category':_0x5e6fd0(0x3fa),'name':_0x5e6fd0(0x124)},{'category':_0x5e6fd0(0x3fa),'name':_0x5e6fd0(0x485)},{'category':_0x5e6fd0(0x49c),'name':_0x5e6fd0(0x1be)},{'category':_0x5e6fd0(0x49c),'name':_0x5e6fd0(0x2ff)},{'category':_0x5e6fd0(0x49c),'name':_0x5e6fd0(0x490)}];function renderTopicCheckboxes(){const _0x244012=_0x5e6fd0,_0x39fc4e=document[_0x244012(0x62a)]('math-topics-checkbox-container');if(!_0x39fc4e)return;const _0x1a0d92=allMathTopics,_0x122daa=customMathTopics[_0x244012(0x3a4)](_0xaeb8b0=>({'category':_0x244012(0x3ea),'name':_0xaeb8b0[_0x244012(0x1c3)]})),_0x389252=[..._0x1a0d92,..._0x122daa],_0x169438=_0x389252[_0x244012(0x1b4)]((_0x3ec6cc,_0x370e7f)=>{const _0x156969=_0x244012;return!_0x3ec6cc[_0x370e7f[_0x156969(0x482)]]&&(_0x3ec6cc[_0x370e7f[_0x156969(0x482)]]=[]),_0x3ec6cc[_0x370e7f['category']][_0x156969(0x18d)](_0x370e7f),_0x3ec6cc;},{});let _0x444bcf='';const _0x4ed4ea=[_0x244012(0x3ea),...Object['keys'](_0x169438)[_0x244012(0x2e2)](_0x2a958d=>_0x2a958d!==_0x244012(0x3ea))];for(const _0x37089c of _0x4ed4ea){if(_0x169438[_0x37089c]){const _0x9a7a1f=_0x37089c===_0x244012(0x3ea)?'fas\x20fa-user-edit':_0x244012(0x2ed),_0x591c3d=_0x37089c===_0x244012(0x3ea)?_0x244012(0x155):_0x244012(0x42a);_0x444bcf+='<div\x20class=\x22mb-3\x22>',_0x444bcf+=_0x244012(0x5ec)+_0x591c3d+_0x244012(0x205)+_0x9a7a1f+_0x244012(0x4be)+_0x37089c+_0x244012(0x5b2),_0x169438[_0x37089c]['forEach'](_0xd0818=>{const _0x3fb4b6=_0x244012;_0x444bcf+=_0x3fb4b6(0x1e7)+_0xd0818['name']+_0x3fb4b6(0x598)+_0xd0818[_0x3fb4b6(0x1c3)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x444bcf+=_0x244012(0x4bb);}}_0x39fc4e[_0x244012(0x2ee)]=_0x444bcf||_0x244012(0x287),_0x39fc4e['removeEventListener'](_0x244012(0x3d7),updateSelectedTopicsCount),_0x39fc4e['addEventListener']('change',updateSelectedTopicsCount);}function updateSelectedTopicsCount(){const _0x17ed56=_0x5e6fd0,_0x5571e7=document[_0x17ed56(0x62a)](_0x17ed56(0x3d9)),_0x1019fc=_0x5571e7[_0x17ed56(0x447)]('input[type=\x22checkbox\x22]:checked')['length'],_0x5980b0=document[_0x17ed56(0x62a)](_0x17ed56(0x1a4));_0x1019fc>0x0?_0x5980b0[_0x17ed56(0x31f)]=_0x17ed56(0x601)+_0x1019fc+'\x20หัวข้อ)':_0x5980b0[_0x17ed56(0x31f)]='';}let db,auth,userId,customMathTopics=[],currentMode=_0x5e6fd0(0x373),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x5e6fd0(0x4ba),quizLeaderboardSortOrder=_0x5e6fd0(0x9f),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x5e6fd0(0xa1),'name':_0x5e6fd0(0x552),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x5e6fd0(0x486)},'QUICK_THINKER':{'id':_0x5e6fd0(0x333),'name':_0x5e6fd0(0x29e),'description':_0x5e6fd0(0x5d0),'icon':_0x5e6fd0(0x92)},'ON_FIRE':{'id':_0x5e6fd0(0x5d9),'name':_0x5e6fd0(0x626),'description':_0x5e6fd0(0x159),'icon':_0x5e6fd0(0x58d)},'FIRST_TRY_ACE':{'id':_0x5e6fd0(0x3ec),'name':_0x5e6fd0(0x2f0),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x5e6fd0(0x88)},'COMEBACK_KING':{'id':_0x5e6fd0(0x103),'name':_0x5e6fd0(0x87),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x5e6fd0(0x3a6),'name':_0x5e6fd0(0x94),'description':_0x5e6fd0(0x192),'icon':_0x5e6fd0(0x105)},'PERSEVERANCE':{'id':_0x5e6fd0(0x5e0),'name':_0x5e6fd0(0x1c7),'description':_0x5e6fd0(0x132),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x5e6fd0(0x5ab),'authDomain':_0x5e6fd0(0x393),'projectId':_0x5e6fd0(0x1da),'storageBucket':_0x5e6fd0(0x1e5),'messagingSenderId':_0x5e6fd0(0x5dc),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x5e6fd0(0x2af)},appId=typeof __app_id!==_0x5e6fd0(0xdd)?__app_id:_0x5e6fd0(0x5a2),adminView=document['getElementById']('admin-view'),studentView=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x8b)),projectDashboardView=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x2f5)),projectDetailView=document[_0x5e6fd0(0x62a)]('project-detail-view'),quizResultsView=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x586)),projectList=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x3d5)),noProjectsMsg=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x245)),projectTitle=document['getElementById'](_0x5e6fd0(0x634)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x4d7)),messageModal=document[_0x5e6fd0(0x62a)]('message-modal'),modalMessage=document['getElementById'](_0x5e6fd0(0x34b)),createProjectModal=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x166)),adminPasswordModal=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x20b)),confirmationModal=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x5e4)),userIdDisplay=document['getElementById'](_0x5e6fd0(0x4df)),topicTab=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x3cf)),textTab=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x217)),topicInputArea=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x5d3)),textInputArea=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x616)),manageTab=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x1c5)),resultsTab=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0xfb)),leaderboardTab=document[_0x5e6fd0(0x62a)]('leaderboard-tab'),manageTabContent=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x47e)),resultsTabContent=document['getElementById'](_0x5e6fd0(0x5f5)),leaderboardTabContent=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0xdb)),projectQuizzesList=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x45a)),fileTab=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x472)),fileInputArea=document['getElementById'](_0x5e6fd0(0x504)),fileUploadInput=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x168)),worksheetTab=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x456)),worksheetInputArea=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x33a)),generateWorksheetBtn=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x151)),studentInitialView=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x29f)),studentNameSelectionView=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x1dd)),studentQuizArea=document['getElementById'](_0x5e6fd0(0x13c)),studentResultArea=document[_0x5e6fd0(0x62a)]('student-result-area'),studentReadingArea=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x189)),loadQuizBtn=document['getElementById'](_0x5e6fd0(0xfa)),startQuizBtn=document[_0x5e6fd0(0x62a)]('start-quiz-btn'),studentJoinGameView=document[_0x5e6fd0(0x62a)]('student-join-game-view'),presentationModal=document[_0x5e6fd0(0x62a)]('presentation-modal'),renameQuizModal=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x140)),moveQuizModal=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x5f0)),quizSettingsModal=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x2a4)),quizStatusModal=document[_0x5e6fd0(0x62a)]('quiz-status-modal'),liveGameView=document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x3d3));function handleAutoFixLatex(){const _0x1d205a=_0x5e6fd0,_0x502a5d=document[_0x1d205a(0x62a)](_0x1d205a(0x467))||document,_0x1cce38=_0x502a5d[_0x1d205a(0x447)]([_0x1d205a(0x5a8),_0x1d205a(0x4ca),'[contenteditable=\x22true\x22]',_0x1d205a(0x1e9),_0x1d205a(0x1d9),'label','.choice-text','.option-text',_0x1d205a(0x5db)]['join'](','));let _0x4c669b=0x0;const _0x7de21=_0x160fe1=>_0x1d205a(0x412)in _0x160fe1?String(_0x160fe1['value']):_0x160fe1['innerText']!==undefined?_0x160fe1[_0x1d205a(0x26f)]:_0x160fe1['textContent']||'',_0x1511b4=(_0x20d44c,_0x148de6)=>{const _0x451b60=_0x1d205a;if(_0x451b60(0x412)in _0x20d44c){_0x20d44c['value']=_0x148de6;return;}if(_0x20d44c[_0x451b60(0x4a0)]&&_0x20d44c[_0x451b60(0x4a0)](_0x451b60(0x349)))return;if(_0x20d44c[_0x451b60(0x26f)]!==undefined)_0x20d44c[_0x451b60(0x26f)]=_0x148de6;else _0x20d44c[_0x451b60(0x31f)]=_0x148de6;},_0x345a86=_0x537f7a=>_0x537f7a[_0x1d205a(0xa7)](/\u00A0/g,'\x20')[_0x1d205a(0xa7)](/\u200B/g,'')[_0x1d205a(0xa7)](/\r\n?/g,'\x0a'),_0x2aec82=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x57172c=_0x33315c=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x1d205a(0x49d)](_0x33315c),_0x1512ef=_0x1494d1=>{const _0x1edf2b=_0x1d205a,_0x57999=(_0x1494d1[_0x1edf2b(0x1a3)](/\{/g)||[])[_0x1edf2b(0x15b)],_0x3947f6=(_0x1494d1[_0x1edf2b(0x1a3)](/\}/g)||[])[_0x1edf2b(0x15b)];if(_0x57999>_0x3947f6)_0x1494d1=_0x1494d1+'}'[_0x1edf2b(0x5d7)](_0x57999-_0x3947f6);return _0x1494d1;},_0x4c87e5=_0x4777bb=>{const _0x402c67=_0x1d205a;let _0x49aad7=_0x4777bb['trim']();const _0x1873b6=[_0x402c67(0x229),_0x402c67(0x387),_0x402c67(0x53a),_0x402c67(0x3ca),_0x402c67(0x2dd),_0x402c67(0x37c),_0x402c67(0x442),_0x402c67(0x5b5),'leq',_0x402c67(0x43e),'le','ge',_0x402c67(0x328),'pm',_0x402c67(0x42f),_0x402c67(0xcc),_0x402c67(0x5b1),'tan',_0x402c67(0x411),'ln',_0x402c67(0xad),_0x402c67(0x1de),_0x402c67(0x2b9),'left',_0x402c67(0x1d4),_0x402c67(0x3fb),_0x402c67(0x5cd),_0x402c67(0x403),_0x402c67(0x61f)];_0x49aad7=_0x49aad7[_0x402c67(0xa7)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x1873b6[_0x402c67(0x1b3)]('|')+_0x402c67(0x3be),'g'),'\x5c'),_0x1873b6[_0x402c67(0x5c5)](_0x2a0cd6=>{const _0x2baab3=_0x402c67;_0x49aad7=_0x49aad7[_0x2baab3(0xa7)](new RegExp(_0x2baab3(0x5f3)+_0x2a0cd6+'\x5cb','g'),(_0x111492,_0x3090dc)=>_0x3090dc+'\x5c'+_0x2a0cd6);});const _0x3fd7ba=[[/×/g,_0x402c67(0x292)],[/·/g,_0x402c67(0x1db)],[/÷/g,'\x5cdiv'],[/≤/g,_0x402c67(0xfd)],[/≥/g,_0x402c67(0x424)],[/≠/g,_0x402c67(0x63d)],[/±/g,_0x402c67(0x3b9)],[/∑/g,_0x402c67(0x416)],[/−/g,'-']];_0x3fd7ba[_0x402c67(0x5c5)](([_0x3b7040,_0x5ccb6b])=>{const _0x33944e=_0x402c67;_0x49aad7=_0x49aad7[_0x33944e(0xa7)](_0x3b7040,_0x5ccb6b);}),_0x49aad7=_0x49aad7[_0x402c67(0xa7)](/√\s*\(([^)]*)\)/g,_0x402c67(0x1b5)),_0x49aad7=_0x49aad7['replace'](/√\s*([A-Za-z0-9]+)/g,_0x402c67(0x1b5)),_0x49aad7=_0x49aad7[_0x402c67(0xa7)](/(^|[^\\])\bimes\b/g,_0x402c67(0x5f4))[_0x402c67(0xa7)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x402c67(0xa7)](/(^|[^\\])ext\{/g,_0x402c67(0x89))[_0x402c67(0xa7)](/(^|[^\\])ext\(/g,_0x402c67(0x284))[_0x402c67(0xa7)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')['replace'](/\s\\frac/g,_0x402c67(0x290)),_0x49aad7=_0x49aad7[_0x402c67(0xa7)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x42e6a6,_0x2038a7,_0x151949,_0xb14a12)=>_0x2038a7+_0x402c67(0xba)+_0x151949+'}{'+_0xb14a12+'}'),_0x49aad7=_0x49aad7[_0x402c67(0xa7)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x402c67(0x494))[_0x402c67(0xa7)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x402c67(0x494))[_0x402c67(0xa7)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x402c67(0x494)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x402c67(0x4b3)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x402c67(0x4b3)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x402c67(0x4b3)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x402c67(0x4b3)],[/(\d+)\s*°\s*C/g,_0x402c67(0x4b3)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x402c67(0x1ae)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x402c67(0x4b3)]][_0x402c67(0x5c5)](([_0x4fb176,_0x214e07])=>{_0x49aad7=_0x49aad7['replace'](_0x4fb176,_0x214e07);}),_0x49aad7=_0x49aad7['replace'](/(\d+)\s*%/g,_0x402c67(0x536)),_0x49aad7=_0x49aad7['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x402c67(0x321))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x402c67(0x432))[_0x402c67(0xa7)](/\{\{([^\{\}]+)\}\}/g,_0x402c67(0x134)),[_0x402c67(0xcc),'cos',_0x402c67(0x3f3),_0x402c67(0x411),'ln']['forEach'](_0xee7a7=>{const _0xa23583=_0x402c67;_0x49aad7=_0x49aad7[_0xa23583(0xa7)](new RegExp(_0xa23583(0x5f3)+_0xee7a7+_0xa23583(0x239),'g'),(_0x487f51,_0x5edc71)=>_0x5edc71+'\x5c'+_0xee7a7+'(');});const _0x328aa0=(_0x49aad7['match'](/\\left\b/g)||[])['length'],_0x3d5ee5=(_0x49aad7[_0x402c67(0x1a3)](/\\right\b/g)||[])[_0x402c67(0x15b)];if(_0x328aa0!==_0x3d5ee5)_0x49aad7=_0x49aad7['replace'](/\\left\b/g,'')[_0x402c67(0xa7)](/\\right\b/g,'');return _0x49aad7=_0x1512ef(_0x49aad7),_0x49aad7;},_0x467c3a=_0x21e197=>{const _0x21b9f3=_0x1d205a;if(/\$|\\\(|\\\[/[_0x21b9f3(0x49d)](_0x21e197))return _0x21e197;if(!_0x2aec82[_0x21b9f3(0x49d)](_0x21e197))return _0x21e197;const _0x984cbb=_0x21e197[_0x21b9f3(0x1a3)](/^\s*/)[0x0],_0xf46186=_0x21e197[_0x21b9f3(0x1a3)](/\s*$/)[0x0],_0x11aa12=_0x21e197['trim']();return _0x984cbb+'$'+_0x4c87e5(_0x11aa12)+'$'+_0xf46186;},_0x1713f3=_0x45e0d8=>_0x45e0d8['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x1cce38[_0x1d205a(0x5c5)](_0xf4bff8=>{const _0x3f0158=_0x1d205a;if(_0xf4bff8[_0x3f0158(0x4a0)]&&_0xf4bff8[_0x3f0158(0x4a0)](_0x3f0158(0x349)))return;const _0x4b07d7=_0x7de21(_0xf4bff8);let _0x398417=_0x345a86(_0x4b07d7);_0x398417=_0x398417['replace'](/\$\$([\s\S]*?)\$\$/g,(_0xad5bae,_0x3691fe)=>'$$'+_0x4c87e5(_0x3691fe)+'$$')[_0x3f0158(0xa7)](/\$([^$]*?)\$/g,(_0x38c262,_0x25e623)=>'$'+_0x4c87e5(_0x25e623)+'$')[_0x3f0158(0xa7)](/\\\(([\s\S]*?)\\\)/g,(_0x1112ef,_0xf11676)=>'\x5c('+_0x4c87e5(_0xf11676)+'\x5c)')[_0x3f0158(0xa7)](/\\\[([\s\S]*?)\\\]/g,(_0x77da54,_0x48515c)=>'\x5c['+_0x4c87e5(_0x48515c)+'\x5c]');let _0x2bf601=_0x398417,_0x66f925=0x0;const _0x560901=_0x218296=>_0x218296[_0x3f0158(0xa7)](/S([^S]{0,2000}?)S/g,(_0x4e5837,_0x638a7c)=>_0x2aec82[_0x3f0158(0x49d)](_0x638a7c)?'$'+_0x4c87e5(_0x638a7c)+'$':_0x4e5837);while(_0x66f925++<0x14){const _0x778651=_0x560901(_0x2bf601);if(_0x778651===_0x2bf601)break;_0x2bf601=_0x778651;}_0x398417=_0x2bf601,_0x398417=_0x398417[_0x3f0158(0x38d)]('\x0a')['map'](_0x4dd3ec=>{const _0x4c2a5e=_0x3f0158;if(!(/[,\u3001，;；]/[_0x4c2a5e(0x49d)](_0x4dd3ec)||/\s(?:และ|หรือ)\s/[_0x4c2a5e(0x49d)](_0x4dd3ec))||!_0x2aec82[_0x4c2a5e(0x49d)](_0x4dd3ec))return _0x4dd3ec;return _0x1713f3(_0x4dd3ec)[_0x4c2a5e(0x3a4)](_0x42e041=>{const _0x3f7f66=_0x4c2a5e;if(/^\s(?:และ|หรือ)\s$/[_0x3f7f66(0x49d)](_0x42e041)||/^[,\u3001，;；]$/[_0x3f7f66(0x49d)](_0x42e041))return _0x42e041;return _0x467c3a(_0x42e041);})['join']('');})[_0x3f0158(0x1b3)]('\x0a'),_0x398417=_0x398417[_0x3f0158(0x38d)]('\x0a')[_0x3f0158(0x3a4)](_0xa970cb=>{const _0x496d29=_0x3f0158,_0x3170e5=_0xa970cb[_0x496d29(0x2fc)]();if(!_0x3170e5)return _0xa970cb;const _0x6605c6=/\$|\\\(|\\\[/['test'](_0x3170e5),_0x725639=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x496d29(0x49d)](_0x3170e5);if(_0x6605c6||!_0x725639||_0x57172c(_0x3170e5))return _0xa970cb;return _0xa970cb[_0x496d29(0xa7)](_0x3170e5,'$'+_0x4c87e5(_0x3170e5)+'$');})['join']('\x0a'),_0x398417=_0x398417[_0x3f0158(0xa7)](/(\d+)\s*°\s*C\b/g,(_0x33628d,_0x240f74,_0x121a4f,_0x7710e3)=>{const _0x29acd9=_0x3f0158,_0x7ac270=_0x7710e3[_0x121a4f-0x1];if(_0x7ac270==='$'||_0x7ac270==='S'||_0x7ac270==='\x5c')return _0x33628d;return'$'+_0x240f74+_0x29acd9(0x54e);})[_0x3f0158(0xa7)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5c2c61,_0x25f2af,_0x3b849f,_0x470871)=>{const _0x34e7ee=_0x3f0158,_0x28526d=_0x470871[_0x3b849f-0x1];if(_0x28526d==='$'||_0x28526d==='S'||_0x28526d==='\x5c')return _0x5c2c61;return'$'+_0x25f2af+_0x34e7ee(0x54e);})[_0x3f0158(0xa7)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x34e402,_0x1b10c7,_0x1d0d11,_0x84ce8e)=>{const _0x5efa16=_0x84ce8e[_0x1d0d11-0x1];if(_0x5efa16==='$'||_0x5efa16==='S'||_0x5efa16==='\x5c')return _0x34e402;return'$'+_0x1b10c7+'^{\x5ccirc}\x5ctext{C}$';}),_0x398417=_0x398417[_0x3f0158(0xa7)](/\$\s*\$/g,'$$'),_0x398417!==_0x4b07d7&&(_0x1511b4(_0xf4bff8,_0x398417),_0x4c669b++);});if(_0x4c669b>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x4c669b+_0x1d205a(0x1d6));try{if(window[_0x1d205a(0x1c1)]&&MathJax['typesetPromise'])MathJax['typesetPromise']();window[_0x1d205a(0x5c4)]&&typeof renderMathInElement===_0x1d205a(0x345)&&renderMathInElement(_0x502a5d,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x2126e8){}}else showMessage(_0x1d205a(0x3ac));}async function listenForCustomMathTopics(){const _0x568d9f=_0x5e6fd0,_0x3954ca=collection(db,_0x568d9f(0x3c0)+appId+_0x568d9f(0x425));onSnapshot(_0x3954ca,_0x351cc1=>{const _0x22bed6=_0x568d9f;customMathTopics=_0x351cc1[_0x22bed6(0x3a9)][_0x22bed6(0x3a4)](_0x1ab60f=>({'id':_0x1ab60f['id'],..._0x1ab60f[_0x22bed6(0x386)]()})),renderTopicCheckboxes();},_0x37b5a1=>{const _0x34a66d=_0x568d9f;console[_0x34a66d(0x5cf)](_0x34a66d(0x3c4),_0x37b5a1);});}function handleSelectAllTopics(){const _0x53304c=_0x5e6fd0,_0x2a5b20=document[_0x53304c(0x62a)](_0x53304c(0x3d9)),_0x5197cc=_0x2a5b20[_0x53304c(0x447)](_0x53304c(0x274));_0x5197cc[_0x53304c(0x5c5)](_0x9fb3dc=>{_0x9fb3dc['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x509d6c=_0x5e6fd0,_0x5ad814=document[_0x509d6c(0x62a)](_0x509d6c(0x3d9)),_0x5b5096=_0x5ad814[_0x509d6c(0x447)](_0x509d6c(0x274));_0x5b5096[_0x509d6c(0x5c5)](_0x425fd0=>{_0x425fd0['checked']=![];}),updateSelectedTopicsCount();}async function handleAddCustomMathTopic(){const _0x25561e=_0x5e6fd0,_0x29c002=document[_0x25561e(0x62a)](_0x25561e(0x4e1)),_0x5a0243=_0x29c002[_0x25561e(0x412)][_0x25561e(0x2fc)]();if(!_0x5a0243){showMessage(_0x25561e(0x26e));return;}if(!userId){showMessage(_0x25561e(0x4fd));return;}try{const _0x23fa9a=collection(db,_0x25561e(0x3c0)+appId+_0x25561e(0x425));await addDoc(_0x23fa9a,{'name':_0x5a0243,'createdAt':serverTimestamp()}),_0x29c002[_0x25561e(0x412)]='',showMessage(_0x25561e(0x2cf)+_0x5a0243+_0x25561e(0x4f1));}catch(_0x2c412e){console[_0x25561e(0x5cf)](_0x25561e(0x5bf),_0x2c412e),showMessage(_0x25561e(0x465));}}async function initialize(){const _0x402755=_0x5e6fd0;try{const _0x44b914=initializeApp(firebaseConfig);db=getFirestore(_0x44b914),auth=getAuth(_0x44b914),setupAuthListener(),setupEventListeners(),showView(_0x402755(0x373)),renderTopicCheckboxes();}catch(_0x4208ca){console[_0x402755(0x5cf)](_0x402755(0xb1),_0x4208ca),showMessage(_0x402755(0x362));}}function compareNumericalAnswers(_0x2c635a,_0x3f507e){const _0x5c50af=_0x5e6fd0,_0x1914cb=String(_0x2c635a)[_0x5c50af(0xa7)](',','.')[_0x5c50af(0xa7)](/[^\d.-]/g,'')[_0x5c50af(0x2fc)](),_0x3b7300=String(_0x3f507e)['replace'](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x1914cb===''||_0x3b7300==='')return![];const _0x150073=parseFloat(_0x1914cb),_0x4266eb=parseFloat(_0x3b7300);if(isNaN(_0x150073)||isNaN(_0x4266eb))return![];return Math[_0x5c50af(0x519)](_0x150073-_0x4266eb)<0.001;}async function gradeShortAnswer(_0x1c2389,_0x3cb4fd){const _0x13e93b=_0x5e6fd0,_0x2090de=_0x3cb4fd[_0x13e93b(0x604)];if(String(_0x1c2389)[_0x13e93b(0x2fc)]()[_0x13e93b(0x306)]()===String(_0x2090de)[_0x13e93b(0x2fc)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x1c2389,_0x2090de))return!![];return console[_0x13e93b(0x411)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x1c2389,_0x2090de);}async function revealAnswerForAdmin(_0x4ca3ed,_0x350896){const _0x5667b3=_0x5e6fd0;if(document[_0x5667b3(0x62a)]('next-live-question-btn'))return;const _0x4e05b9=doc(db,_0x5667b3(0x3c0)+appId+_0x5667b3(0x580),currentLiveGameId);await updateDoc(_0x4e05b9,{'questionStatus':'revealed'});const _0x35717c=liveGameView[_0x5667b3(0x4a0)](_0x5667b3(0x62b));_0x35717c&&(_0x35717c[_0x5667b3(0x48f)]['remove'](_0x5667b3(0x547)),_0x35717c['classList'][_0x5667b3(0x462)](_0x5667b3(0xaa),'text-green-900',_0x5667b3(0x22c),_0x5667b3(0x1a2),_0x5667b3(0x4a4)),_0x35717c[_0x5667b3(0x2ee)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x35717c[_0x5667b3(0x2ee)]);const _0x16b27e=document['getElementById'](_0x5667b3(0x251));_0x16b27e&&(_0x16b27e[_0x5667b3(0x2ee)]=_0x5667b3(0x30a)+(_0x4ca3ed+0x1===_0x350896?_0x5667b3(0x357):_0x5667b3(0x2b1))+_0x5667b3(0x5aa),document[_0x5667b3(0x62a)](_0x5667b3(0x202))[_0x5667b3(0x199)](_0x5667b3(0x15d),async()=>{const _0x11f725=_0x5667b3,_0x553f25=doc(db,'artifacts/'+appId+_0x11f725(0x580),currentLiveGameId),_0x48953d=await getDoc(_0x553f25);if(!_0x48953d[_0x11f725(0x5a0)]())return;const _0x166f9a=_0x48953d[_0x11f725(0x386)](),_0x44b2a8={};if(_0x166f9a['players'])for(const _0x5a0db5 in _0x166f9a[_0x11f725(0x19f)]){_0x44b2a8[_0x11f725(0x95)+_0x5a0db5+_0x11f725(0x32b)]=![];}const _0x19348b=_0x4ca3ed+0x1;_0x19348b<_0x350896?(_0x44b2a8[_0x11f725(0x106)]=_0x19348b,_0x44b2a8[_0x11f725(0x4ec)]=serverTimestamp(),_0x44b2a8[_0x11f725(0x13a)]=_0x11f725(0x623),await updateDoc(_0x553f25,_0x44b2a8)):await updateDoc(_0x553f25,{'status':_0x11f725(0x453)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x4f8b38=>{const _0x4a18ee=_0x3740;if(_0x4f8b38){userId=_0x4f8b38['uid'],userIdDisplay[_0x4a18ee(0x31f)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0x4553de){const _0x1cb9b0=_0x5e6fd0,_0x1da0e6=Object[_0x1cb9b0(0x5f1)](_0x4553de)[_0x1cb9b0(0x3a4)](([_0x16a780,_0x12d28a])=>({'name':_0x16a780,'score':_0x12d28a['score']||0x0,'badges':_0x12d28a[_0x1cb9b0(0x264)]||[]}));_0x1da0e6[_0x1cb9b0(0x8c)]((_0x3a266e,_0x518e1a)=>{const _0x138791=_0x1cb9b0,_0x496ab1=_0x518e1a[_0x138791(0x58a)]-_0x3a266e['score'];if(_0x496ab1!==0x0)return _0x496ab1;return(_0x518e1a['badges'][_0x138791(0x15b)]||0x0)-(_0x3a266e['badges'][_0x138791(0x15b)]||0x0);});const _0x36d99a=_0x379696=>{const _0x3efaef=_0x1cb9b0;if(!_0x379696||_0x379696['length']===0x0)return'';const _0x3dbf4a={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3efaef(0x2f2)+_0x379696[_0x3efaef(0x3a4)](_0x204235=>_0x3dbf4a[_0x204235]||'')[_0x3efaef(0x1b3)]('')+_0x3efaef(0x4bb);},_0x125d20=_0x1da0e6[_0x1cb9b0(0xd4)](0x3),_0x3411dc=_0x125d20[_0x1cb9b0(0x15b)]>0x0?_0x1cb9b0(0x2be)+_0x125d20[_0x1cb9b0(0x3a4)]((_0x48f0fb,_0x375a20)=>_0x1cb9b0(0x209)+(_0x375a20+0x4)+_0x1cb9b0(0x2c4)+_0x48f0fb[_0x1cb9b0(0x1c3)]+_0x1cb9b0(0x5f2)+_0x48f0fb['score']+_0x1cb9b0(0x188))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x2679a8=_0x1cb9b0(0x285)+(_0x1da0e6[0x1]?_0x1cb9b0(0x302)+_0x1da0e6[0x1][_0x1cb9b0(0x1c3)]+_0x1cb9b0(0xb3)+_0x36d99a(_0x1da0e6[0x1]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x1da0e6[0x1][_0x1cb9b0(0x58a)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1da0e6[0x0]?_0x1cb9b0(0x22e)+_0x1da0e6[0x0]['name']+_0x1cb9b0(0xb3)+_0x36d99a(_0x1da0e6[0x0]['badges'])+_0x1cb9b0(0x4b5)+_0x1da0e6[0x0][_0x1cb9b0(0x58a)]+_0x1cb9b0(0x602):_0x1cb9b0(0x41c))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1da0e6[0x2]?_0x1cb9b0(0x35b)+_0x1da0e6[0x2][_0x1cb9b0(0x1c3)]+_0x1cb9b0(0xb3)+_0x36d99a(_0x1da0e6[0x2]['badges'])+_0x1cb9b0(0xed)+_0x1da0e6[0x2][_0x1cb9b0(0x58a)]+_0x1cb9b0(0x561):_0x1cb9b0(0x41c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3411dc+_0x1cb9b0(0x423)+(currentMode===_0x1cb9b0(0x42c)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1cb9b0(0x4d0))+_0x1cb9b0(0x3c2);liveGameView['innerHTML']=_0x2679a8,currentMode==='admin'&&document[_0x1cb9b0(0x62a)](_0x1cb9b0(0x26d))[_0x1cb9b0(0x199)](_0x1cb9b0(0x15d),async()=>{const _0x5a3a5f=_0x1cb9b0,_0x112236=doc(db,_0x5a3a5f(0x3c0)+appId+_0x5a3a5f(0x580),currentLiveGameId);await deleteDoc(_0x112236),showView(_0x5a3a5f(0x2ce));});}async function handleStartLiveRace(_0x5f548c){const _0x72e623=_0x5e6fd0;let _0x4a0ecc=allQuizzes['find'](_0x38ad0e=>_0x38ad0e['id']===_0x5f548c);if(!_0x4a0ecc){const _0x2ec300=doc(db,_0x72e623(0x3c0)+appId+'/public/data/quizzes',_0x5f548c),_0x482c07=await getDoc(_0x2ec300);if(!_0x482c07[_0x72e623(0x5a0)]()){showMessage(_0x72e623(0x1e2));return;}_0x4a0ecc={'id':_0x482c07['id'],..._0x482c07[_0x72e623(0x386)]()};}currentQuizData=getShuffledQuiz(_0x4a0ecc);const _0x4a006d=_0x4a0ecc[_0x72e623(0x8e)]||currentProjectId||null,_0x411a62=Math[_0x72e623(0x5ac)](0x3e8+Math[_0x72e623(0x4e2)]()*0x2328)[_0x72e623(0x256)]();currentLiveGamePin=_0x411a62;try{const _0xc990df=await addDoc(collection(db,_0x72e623(0x3c0)+appId+'/public/data/liveGames'),{'quizId':_0x5f548c,'projectId':_0x4a006d,'status':_0x72e623(0x3a3),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x411a62,'createdAt':serverTimestamp()});currentLiveGameId=_0xc990df['id'],showAdminLobbyView(_0x411a62,_0x4a0ecc[_0x72e623(0x10e)]),listenForLiveGameUpdates();}catch(_0x1fb045){console[_0x72e623(0x5cf)](_0x72e623(0x32a),_0x1fb045),showMessage(_0x72e623(0x35f));}}async function handleShowStudentRankings(){const _0x2621c1=_0x5e6fd0,_0x5e1b09=document[_0x2621c1(0x4a0)](_0x2621c1(0x1a8));_0x5e1b09&&(_0x5e1b09['innerHTML']=_0x2621c1(0x600));const _0x2c8a6e=document[_0x2621c1(0x4a0)]('#student-project-leaderboard-content\x20thead');_0x2c8a6e&&(_0x2c8a6e[_0x2621c1(0x2ee)]=_0x2621c1(0x39f));const _0x20b9a0=document['getElementById'](_0x2621c1(0x5de));_0x20b9a0[_0x2621c1(0x48f)][_0x2621c1(0x2ba)](_0x2621c1(0x20a)),document[_0x2621c1(0x62a)]('close-student-rankings-btn')['onclick']=()=>_0x20b9a0[_0x2621c1(0x48f)][_0x2621c1(0x462)]('hidden');const _0x41204c=document[_0x2621c1(0x62a)](_0x2621c1(0x540)),_0x44270a=document[_0x2621c1(0x62a)](_0x2621c1(0x29a)),_0x1a9a69=document[_0x2621c1(0x62a)]('student-quiz-leaderboard-content'),_0x5e94bf=document[_0x2621c1(0x62a)](_0x2621c1(0x218));_0x41204c[_0x2621c1(0x1c6)]=()=>{const _0x4d250d=_0x2621c1;_0x41204c[_0x4d250d(0x48f)][_0x4d250d(0x462)](_0x4d250d(0x415)),_0x44270a[_0x4d250d(0x48f)][_0x4d250d(0x2ba)](_0x4d250d(0x415)),_0x1a9a69[_0x4d250d(0x48f)][_0x4d250d(0x2ba)]('hidden'),_0x5e94bf[_0x4d250d(0x48f)][_0x4d250d(0x462)](_0x4d250d(0x20a));},_0x44270a['onclick']=()=>{const _0x3dcd65=_0x2621c1;_0x44270a[_0x3dcd65(0x48f)][_0x3dcd65(0x462)](_0x3dcd65(0x415)),_0x41204c[_0x3dcd65(0x48f)][_0x3dcd65(0x2ba)](_0x3dcd65(0x415)),_0x5e94bf[_0x3dcd65(0x48f)][_0x3dcd65(0x2ba)](_0x3dcd65(0x20a)),_0x1a9a69[_0x3dcd65(0x48f)]['add'](_0x3dcd65(0x20a));};try{const _0x5b7842=collection(db,_0x2621c1(0x3c0)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x2621c1(0x4eb)),_0x506d1f=await getDocs(_0x5b7842),_0x2f3493=_0x506d1f[_0x2621c1(0x3a9)][_0x2621c1(0x3a4)](_0x42293e=>_0x42293e['data']());renderQuizLeaderboard(_0x2f3493,currentQuizData,'student-quiz-leaderboard-table-body');const _0x77ad10=collection(db,_0x2621c1(0x3c0)+appId+'/public/data/projects/'+currentQuizData[_0x2621c1(0x8e)]+'/studentProfiles'),_0x5e10d5=await getDocs(_0x77ad10),_0x13e10e=_0x5e10d5[_0x2621c1(0x3a9)][_0x2621c1(0x3a4)](_0x384dac=>_0x384dac[_0x2621c1(0x386)]());renderLeaderboard(_0x13e10e,_0x2621c1(0x51f));}catch(_0x2049f3){console[_0x2621c1(0x5cf)](_0x2621c1(0x24e),_0x2049f3),showMessage(_0x2621c1(0x3d0));}}async function handleSaveToBank(_0x3b8f28){const _0x47d737=_0x5e6fd0,_0x24e1fc=_0x3b8f28[_0x47d737(0x1c8)],_0x57fca2=_0x24e1fc[_0x47d737(0xb8)]['index'],_0x458b05=currentQuizData['questions'][_0x57fca2];if(!userId){showMessage(_0x47d737(0x163));return;}try{const _0x5ecbae={..._0x458b05,'originalTopic':currentQuizData[_0x47d737(0x10e)],'savedAt':serverTimestamp()},_0x2e25c6=collection(db,_0x47d737(0x3c0)+appId+'/users/'+userId+_0x47d737(0x2d9));await addDoc(_0x2e25c6,_0x5ecbae),showMessage(_0x47d737(0x5e9)),_0x24e1fc[_0x47d737(0x48f)]['remove'](_0x47d737(0x585)),_0x24e1fc[_0x47d737(0x48f)][_0x47d737(0x462)](_0x47d737(0x1e4)),_0x24e1fc[_0x47d737(0x50f)]=!![];}catch(_0x4f9e8b){console[_0x47d737(0x5cf)](_0x47d737(0x4bc),_0x4f9e8b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0xb9e4be=_0x5e6fd0;if(!userId)return;const _0x4fa3fc=collection(db,_0xb9e4be(0x3c0)+appId+_0xb9e4be(0x3d8)),_0x413aef=query(_0x4fa3fc,where(_0xb9e4be(0x16e),'==',!![]));onSnapshot(_0x413aef,_0x49d7f1=>{const _0x74e9df=_0xb9e4be;starredQuizzes=_0x49d7f1[_0x74e9df(0x3a9)][_0x74e9df(0x3a4)](_0x145e06=>({'id':_0x145e06['id'],..._0x145e06[_0x74e9df(0x386)]()})),renderProjects();},_0x16f404=>{const _0x2097cd=_0xb9e4be;console[_0x2097cd(0x5cf)](_0x2097cd(0x1e6),_0x16f404);});}async function handleToggleStarQuiz(_0xf4ef01){const _0x5a9576=_0x5e6fd0,_0x10c33b=doc(db,'artifacts/'+appId+_0x5a9576(0x3d8),_0xf4ef01);try{const _0x191eff=await getDoc(_0x10c33b);if(_0x191eff[_0x5a9576(0x5a0)]()){const _0x2e5a52=_0x191eff[_0x5a9576(0x386)]()[_0x5a9576(0x16e)]||![];await updateDoc(_0x10c33b,{'isStarred':!_0x2e5a52});}}catch(_0x29c017){console['error'](_0x5a9576(0x498),_0x29c017),showMessage(_0x5a9576(0x478));}}async function displayQuestionBank(){const _0x382038=_0x5e6fd0,_0x1c28a8=document[_0x382038(0x62a)]('bank-input-area');_0x1c28a8[_0x382038(0x2ee)]=_0x382038(0x3bc);try{const _0x20450f=collection(db,_0x382038(0x3c0)+appId+_0x382038(0x5e1)+userId+'/questionBank'),_0x4fcf6a=query(_0x20450f),_0x4ce87a=await getDocs(_0x4fcf6a);if(_0x4ce87a[_0x382038(0xe2)]){_0x1c28a8[_0x382038(0x2ee)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0xc51a0=_0x4ce87a[_0x382038(0x3a9)][_0x382038(0x3a4)](_0x417930=>{const _0x2e6156=_0x382038,_0x463e70=_0x417930[_0x2e6156(0x386)](),_0x4652aa=_0x417930['id'];return _0x2e6156(0x59d)+JSON[_0x2e6156(0x1d0)](_0x463e70)+_0x2e6156(0xce)+(_0x463e70[_0x2e6156(0x375)]||_0x463e70['stem'])+_0x2e6156(0x372)+_0x463e70[_0x2e6156(0x261)]+_0x2e6156(0x36d);})[_0x382038(0x1b3)]('');_0x1c28a8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0xc51a0+_0x382038(0x1b8),document[_0x382038(0x62a)]('create-from-bank-btn')['addEventListener'](_0x382038(0x15d),createQuizFromBank);}catch(_0x4dfc9f){console[_0x382038(0x5cf)]('Error\x20displaying\x20question\x20bank:',_0x4dfc9f),_0x1c28a8[_0x382038(0x2ee)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x2be660,_0x4b03ef,_0x3ffa3a){const _0x27343b=_0x5e6fd0,_0x18ae00=_0x2be660['questionType']||currentQuizData['quizType'];let _0xcdf1b8='';if(_0x18ae00===_0x27343b(0x250)||_0x18ae00===_0x27343b(0x278)){const _0x4cad3c=_0x18ae00===_0x27343b(0x278)?[_0x27343b(0x360),_0x27343b(0x116)]:_0x2be660['options'],_0x425ab4=_0x18ae00===_0x27343b(0x278)?_0x2be660[_0x27343b(0x196)]?0x0:0x1:_0x2be660[_0x27343b(0x30e)];_0xcdf1b8=_0x4cad3c[_0x27343b(0x3a4)]((_0x21fe05,_0xbf7bf1)=>_0x27343b(0x19e)+(_0xbf7bf1===_0x425ab4)+_0x27343b(0x3bd)+_0x21fe05+_0x27343b(0x11c))[_0x27343b(0x1b3)]('');}else{if(_0x18ae00===_0x27343b(0x2a1)){const _0x442f21=_0x2be660[_0x27343b(0x17e)]||[];_0xcdf1b8=_0x442f21[_0x27343b(0x3a4)](_0x514e91=>_0x27343b(0x19e)+(_0x514e91===_0x2be660[_0x27343b(0x50b)])+_0x27343b(0x3bd)+_0x514e91+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x27343b(0x1b3)]('');}}const _0x3a2857=_0x2be660['stem']||_0x2be660[_0x27343b(0x375)],_0x2c89b9=_0x27343b(0x57a)+(_0x4b03ef+0x1)+_0x27343b(0x10a)+_0x3ffa3a+_0x27343b(0x3c3)+_0x3a2857+_0x27343b(0xd0)+_0xcdf1b8+_0x27343b(0x341);liveGameView[_0x27343b(0x2ee)]=_0x2c89b9;window[_0x27343b(0x1c1)]&&MathJax[_0x27343b(0x331)]&&MathJax[_0x27343b(0x331)]([liveGameView]);const _0x5b3359=document[_0x27343b(0x62a)](_0x27343b(0x251));document[_0x27343b(0x62a)](_0x27343b(0x435))[_0x27343b(0x199)](_0x27343b(0x15d),async()=>{const _0x265640=_0x27343b,_0x162d7b=doc(db,_0x265640(0x3c0)+appId+_0x265640(0x580),currentLiveGameId);await updateDoc(_0x162d7b,{'questionStatus':_0x265640(0x97)});const _0x429ca0=liveGameView[_0x265640(0x4a0)](_0x265640(0x62b));_0x429ca0&&(_0x429ca0['classList'][_0x265640(0x2ba)](_0x265640(0x547)),_0x429ca0[_0x265640(0x48f)][_0x265640(0x462)](_0x265640(0xaa),'text-green-900','font-bold',_0x265640(0x1a2),_0x265640(0x4a4)),_0x429ca0[_0x265640(0x2ee)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x429ca0[_0x265640(0x2ee)]),_0x5b3359[_0x265640(0x2ee)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4b03ef+0x1===_0x3ffa3a?'ดูสรุปผล':_0x265640(0x2b1))+_0x265640(0x5aa),document['getElementById']('next-live-question-btn')[_0x265640(0x199)]('click',async()=>{const _0x358f25=_0x265640,_0x1e3743=doc(db,'artifacts/'+appId+_0x358f25(0x580),currentLiveGameId),_0x590de3=await getDoc(_0x1e3743);if(!_0x590de3['exists']())return;const _0x2f706e=_0x590de3[_0x358f25(0x386)](),_0x264e29={};if(_0x2f706e[_0x358f25(0x19f)])for(const _0x1df968 in _0x2f706e[_0x358f25(0x19f)]){_0x264e29[_0x358f25(0x95)+_0x1df968+_0x358f25(0x32b)]=![];}const _0x3b63df=_0x4b03ef+0x1;_0x3b63df<_0x3ffa3a?(_0x264e29[_0x358f25(0x106)]=_0x3b63df,_0x264e29[_0x358f25(0x4ec)]=serverTimestamp(),_0x264e29[_0x358f25(0x13a)]=_0x358f25(0x623),await updateDoc(_0x1e3743,_0x264e29)):await updateDoc(_0x1e3743,{'status':_0x358f25(0x453)});});}),document['getElementById'](_0x27343b(0xc6))[_0x27343b(0x199)](_0x27343b(0x15d),async()=>{const _0x563824=_0x27343b,_0x5949eb=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x5949eb),showView(_0x563824(0x2ce));});}function showStudentLiveQuestionView(_0x2c3447,_0x81e869,_0x6fb54a){const _0x1f59a4=_0x5e6fd0,_0x3d9d5d=_0x2c3447[_0x1f59a4(0x2fb)]||currentQuizData[_0x1f59a4(0x129)];let _0x54710b='';if(_0x3d9d5d===_0x1f59a4(0x250)||_0x3d9d5d==='true_false'){const _0x5a0e9d=_0x3d9d5d===_0x1f59a4(0x278)?[_0x1f59a4(0x360),_0x1f59a4(0x116)]:_0x2c3447['options'];_0x54710b=_0x5a0e9d[_0x1f59a4(0x3a4)]((_0x56e167,_0x326749)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x326749+_0x1f59a4(0x24b)+_0x56e167+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1f59a4(0x1b3)]('');}else{if(_0x3d9d5d===_0x1f59a4(0x2a1)){const _0x5ecba8=_0x2c3447['allResponses']||[];_0x54710b=_0x5ecba8['map']((_0x116146,_0x344383)=>_0x1f59a4(0x5fd)+_0x344383+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x116146+_0x1f59a4(0xee))[_0x1f59a4(0x1b3)]('');}else _0x3d9d5d==='short_answer'&&(_0x54710b=_0x1f59a4(0x422));}const _0x49ea5b=_0x2c3447[_0x1f59a4(0x541)]||_0x2c3447[_0x1f59a4(0x375)],_0x5ba347=_0x1f59a4(0xe8)+(_0x81e869+0x1)+_0x1f59a4(0x10a)+_0x6fb54a+_0x1f59a4(0x500)+_0x49ea5b+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54710b+_0x1f59a4(0x4d5);liveGameView['innerHTML']=_0x5ba347;window[_0x1f59a4(0x1c1)]&&MathJax['typesetPromise']&&MathJax[_0x1f59a4(0x331)]([liveGameView]);const _0x5aa0a5=document[_0x1f59a4(0x62a)](_0x1f59a4(0x45c));_0x5aa0a5&&_0x5aa0a5['addEventListener'](_0x1f59a4(0x15d),()=>{const _0x382cd6=_0x1f59a4,_0x2cb129=document[_0x382cd6(0x62a)](_0x382cd6(0x1fe))[_0x382cd6(0x412)];handleLiveAnswer(_0x2cb129,_0x2c3447);}),document[_0x1f59a4(0x62a)](_0x1f59a4(0x288))[_0x1f59a4(0x199)](_0x1f59a4(0x15d),_0x16b189=>{const _0x269012=_0x1f59a4,_0xab593a=_0x16b189['target'][_0x269012(0xc3)]('.live-answer-btn');if(_0xab593a){const _0x34348a=parseInt(_0xab593a[_0x269012(0xb8)][_0x269012(0x421)]);handleLiveAnswer(_0x34348a,_0x2c3447);}});}async function handleLiveAnswer(_0x29b6b8,_0x4e07d6){const _0x3e1785=_0x5e6fd0;document['querySelectorAll'](_0x3e1785(0x3da))[_0x3e1785(0x5c5)](_0x571a28=>_0x571a28[_0x3e1785(0x50f)]=!![]);const _0x470cad=_0x4e07d6[_0x3e1785(0x2fb)]||currentQuizData[_0x3e1785(0x129)];let _0x55af70=![];if(_0x470cad==='short_answer'){const _0x1c9631=(_0x29b6b8||'')['toString']();_0x55af70=await gradeShortAnswer(_0x1c9631,_0x4e07d6);}else{if(_0x470cad===_0x3e1785(0x250))_0x55af70=_0x29b6b8===_0x4e07d6[_0x3e1785(0x30e)];else{if(_0x470cad===_0x3e1785(0x278)){const _0x3049fe=_0x4e07d6['correctAnswer'];_0x55af70=_0x29b6b8===0x0&&_0x3049fe||_0x29b6b8===0x1&&!_0x3049fe;}else{if(_0x470cad==='matching_item'){const _0x83dec9=_0x4e07d6[_0x3e1785(0x17e)][_0x29b6b8];_0x55af70=_0x83dec9===_0x4e07d6[_0x3e1785(0x50b)];}}}}const _0x4e4b84=doc(db,_0x3e1785(0x3c0)+appId+_0x3e1785(0x580),currentLiveGameId),_0x4c9724=await getDoc(_0x4e4b84);if(!_0x4c9724[_0x3e1785(0x5a0)]())return;const _0x2821e3=_0x4c9724[_0x3e1785(0x386)](),_0x2c0bbc=_0x2821e3[_0x3e1785(0x19f)][currentStudentName];let _0x2abbf2=_0x2c0bbc[_0x3e1785(0x264)]||[],_0x1ce150=_0x2c0bbc['correctStreak']||0x0;const _0x42c800={};let _0x10951a=0x0;if(_0x2821e3['questionDisplayedAt']){const _0x559f35=_0x2821e3['questionDisplayedAt'][_0x3e1785(0x224)](),_0x24bbdf=new Date()-_0x559f35;if(_0x55af70){const _0x5cc1e9=0x3e8,_0xd786dd=0x1f4,_0xd97ccf=0x4e20;let _0x47a1d1=_0x24bbdf/_0xd97ccf;if(_0x47a1d1>0x1)_0x47a1d1=0x1;const _0x17cf42=Math['round'](_0x47a1d1*_0xd786dd);_0x10951a=_0x5cc1e9-_0x17cf42,_0x24bbdf<=0x1388&&!_0x2abbf2[_0x3e1785(0x33d)]('quick_thinker')&&_0x2abbf2['push'](_0x3e1785(0x333));}}_0x55af70?(_0x1ce150++,_0x1ce150===0x3&&!_0x2abbf2['includes'](_0x3e1785(0x5d9))&&(_0x2abbf2[_0x3e1785(0x18d)]('on_fire'),_0x1ce150=0x0)):_0x1ce150=0x0,_0x55af70&&(_0x42c800[_0x3e1785(0x95)+currentStudentName+'.score']=increment(_0x10951a)),_0x42c800[_0x3e1785(0x95)+currentStudentName+'.badges']=_0x2abbf2,_0x42c800[_0x3e1785(0x95)+currentStudentName+_0x3e1785(0x3db)]=_0x1ce150,_0x42c800[_0x3e1785(0x95)+currentStudentName+_0x3e1785(0x32b)]=!![],_0x42c800[_0x3e1785(0x95)+currentStudentName+_0x3e1785(0x18b)]=_0x55af70,_0x42c800[_0x3e1785(0x95)+currentStudentName+_0x3e1785(0x185)]=_0x10951a,await updateDoc(_0x4e4b84,_0x42c800),liveGameView[_0x3e1785(0x2ee)]=_0x3e1785(0x493);}function createQuizFromBank(){const _0x4aaae2=_0x5e6fd0,_0x161513=document['querySelectorAll'](_0x4aaae2(0x252));if(_0x161513[_0x4aaae2(0x15b)]===0x0){showMessage(_0x4aaae2(0x1bf));return;}const _0x206c37=[];_0x161513[_0x4aaae2(0x5c5)](_0x31bd84=>{const _0x331a86=_0x4aaae2;_0x206c37[_0x331a86(0x18d)](JSON[_0x331a86(0xc7)](_0x31bd84['value']));});const _0x1c6151={'topic':_0x4aaae2(0x31d),'questions':_0x206c37};displayGeneratedQuiz(_0x1c6151);}function showAdminLobbyView(_0x539fe0,_0x512189){const _0x4be241=_0x5e6fd0;showView(_0x4be241(0x4fa));const _0x460108='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x512189+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x539fe0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4be241(0x2ee)]=_0x460108,document[_0x4be241(0x62a)](_0x4be241(0x2ad))[_0x4be241(0x199)](_0x4be241(0x15d),async()=>{const _0x265094=_0x4be241;if(!currentQuizData||!currentQuizData[_0x265094(0x286)]||currentQuizData['questions'][_0x265094(0x15b)]===0x0){showMessage(_0x265094(0x36f));return;}try{const _0x7ebc08=doc(db,_0x265094(0x3c0)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x7ebc08,{'status':_0x265094(0x276),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x264161=currentQuizData[_0x265094(0x286)][0x0],_0x1110ef=currentQuizData[_0x265094(0x286)][_0x265094(0x15b)];showAdminLiveQuestionView(_0x264161,0x0,_0x1110ef);}catch(_0x2d4faa){console[_0x265094(0x5cf)](_0x265094(0x48d),_0x2d4faa),showMessage(_0x265094(0x631));}});}async function openGlobalLiveModal(){const _0x22f962=_0x5e6fd0;if(allQuizzesGlobal[_0x22f962(0x15b)]===0x0){const _0x46bb79=await getDocs(collection(db,_0x22f962(0x3c0)+appId+_0x22f962(0x3d8)));allQuizzesGlobal=_0x46bb79[_0x22f962(0x3a9)]['map'](_0x1e61e5=>({'id':_0x1e61e5['id'],..._0x1e61e5[_0x22f962(0x386)]()}));}renderGlobalQuizList(''),document[_0x22f962(0x62a)]('global-live-game-modal')['classList'][_0x22f962(0x2ba)](_0x22f962(0x20a));}async function openQuizBankModal(){const _0x4b879b=_0x5e6fd0;if(allQuizzesGlobal[_0x4b879b(0x15b)]===0x0){const _0x58dd1f=await getDocs(collection(db,_0x4b879b(0x3c0)+appId+_0x4b879b(0x3d8)));allQuizzesGlobal=_0x58dd1f[_0x4b879b(0x3a9)][_0x4b879b(0x3a4)](_0xec2510=>({'id':_0xec2510['id'],..._0xec2510[_0x4b879b(0x386)]()}));}renderQuizBankList(''),document[_0x4b879b(0x62a)](_0x4b879b(0x572))['classList']['remove'](_0x4b879b(0x20a));}function renderQuizBankList(_0xd83852=''){const _0x2a8302=_0x5e6fd0,_0x691652=document['getElementById'](_0x2a8302(0x452)),_0x4ae878=_0xd83852[_0x2a8302(0x306)]()['trim'](),_0x3a4618=allQuizzesGlobal[_0x2a8302(0x3a4)](_0x4f5d6a=>({..._0x4f5d6a,'projectName':allProjects[_0x2a8302(0x1c2)](_0x51067c=>_0x51067c['id']===_0x4f5d6a[_0x2a8302(0x8e)])?.[_0x2a8302(0x609)]||'N/A'}))[_0x2a8302(0x2e2)](_0x2d2aaf=>(_0x2d2aaf[_0x2a8302(0x10e)]||'')[_0x2a8302(0x306)]()[_0x2a8302(0x33d)](_0x4ae878)||(_0x2d2aaf[_0x2a8302(0x609)]||'')[_0x2a8302(0x306)]()[_0x2a8302(0x33d)](_0x4ae878)||_0x2d2aaf['id'][_0x2a8302(0x256)]()[_0x2a8302(0x33d)](_0x4ae878));document[_0x2a8302(0x62a)](_0x2a8302(0x277))[_0x2a8302(0x31f)]='('+_0x3a4618[_0x2a8302(0x15b)]+_0x2a8302(0xa6),_0x691652[_0x2a8302(0x2ee)]=_0x3a4618['length']?_0x3a4618[_0x2a8302(0x3a4)](_0x2f6c1c=>_0x2a8302(0x2f3)+_0x2f6c1c['id']+_0x2a8302(0x263)+(_0x2f6c1c['topic']||'(ไม่มีชื่อ)')+_0x2a8302(0x1fb)+(_0x2f6c1c['questions']?.[_0x2a8302(0x15b)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x2f6c1c[_0x2a8302(0x609)]+_0x2a8302(0x259)+_0x2f6c1c['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2f6c1c['id']+_0x2a8302(0xd3)+_0x2f6c1c['id']+_0x2a8302(0x2a9)+_0x2f6c1c['id']+_0x2a8302(0x575))['join'](''):_0x2a8302(0x528),_0x691652[_0x2a8302(0x447)](_0x2a8302(0x379))[_0x2a8302(0x5c5)](_0x479488=>{const _0x261579=_0x2a8302;_0x479488[_0x261579(0x199)](_0x261579(0x15d),()=>{const _0x563a7c=_0x261579,_0xfd3614=_0x479488[_0x563a7c(0xb8)]['id'];document[_0x563a7c(0x62a)]('quiz-bank-modal')['classList'][_0x563a7c(0x462)](_0x563a7c(0x20a)),showQuizDetailView(_0xfd3614);});}),_0x691652[_0x2a8302(0x447)](_0x2a8302(0x47c))[_0x2a8302(0x5c5)](_0x176abc=>{_0x176abc['addEventListener']('click',_0x4aef6b=>{const _0x4bf6d8=_0x3740;_0x4aef6b[_0x4bf6d8(0x14c)]();const _0xa5df10=_0x176abc[_0x4bf6d8(0xb8)]['id'],_0x20c1a7=allQuizzesGlobal[_0x4bf6d8(0x1c2)](_0x3ec2a6=>_0x3ec2a6['id']===_0xa5df10);_0x20c1a7?(currentQuizData=_0x20c1a7,document[_0x4bf6d8(0x62a)](_0x4bf6d8(0x572))[_0x4bf6d8(0x48f)][_0x4bf6d8(0x462)](_0x4bf6d8(0x20a)),startAdminTest()):showMessage(_0x4bf6d8(0x1e2));});}),_0x691652[_0x2a8302(0x447)]('.quiz-bank-parallel-btn')[_0x2a8302(0x5c5)](_0x29718c=>{const _0x2bad44=_0x2a8302;_0x29718c[_0x2bad44(0x199)](_0x2bad44(0x15d),_0x788d2=>{const _0x52f8f2=_0x2bad44;_0x788d2[_0x52f8f2(0x14c)]();const _0x2b1238=_0x29718c[_0x52f8f2(0xb8)]['id'],_0x386ae1=allQuizzesGlobal[_0x52f8f2(0x1c2)](_0x5d080e=>_0x5d080e['id']===_0x2b1238);_0x386ae1?(document['getElementById'](_0x52f8f2(0x572))[_0x52f8f2(0x48f)][_0x52f8f2(0x462)](_0x52f8f2(0x20a)),handleGenerateParallelFromBank(_0x386ae1)):showMessage(_0x52f8f2(0x1e2));});}),_0x691652[_0x2a8302(0x447)](_0x2a8302(0x2df))[_0x2a8302(0x5c5)](_0x59313b=>{const _0xd56a68=_0x2a8302;_0x59313b[_0xd56a68(0x199)](_0xd56a68(0x15d),_0x2e282f=>{const _0x4465ef=_0xd56a68;_0x2e282f[_0x4465ef(0x14c)]();const _0xbe0f9b=_0x59313b[_0x4465ef(0xb8)]['id'],_0x3eac1c=allQuizzesGlobal[_0x4465ef(0x1c2)](_0x4e1a87=>_0x4e1a87['id']===_0xbe0f9b);_0x3eac1c?(document[_0x4465ef(0x62a)](_0x4465ef(0x572))['classList'][_0x4465ef(0x462)](_0x4465ef(0x20a)),startPresentation(_0x3eac1c)):showMessage(_0x4465ef(0x1e2));});});}function renderGlobalQuizList(_0x2a8b58=''){const _0x31dde2=_0x5e6fd0,_0x3140e7=document[_0x31dde2(0x62a)]('global-quiz-list'),_0x52630e=_0x2a8b58[_0x31dde2(0x306)]()[_0x31dde2(0x2fc)](),_0x27d59c=allQuizzesGlobal[_0x31dde2(0x3a4)](_0x2662d4=>({..._0x2662d4,'projectName':allProjects[_0x31dde2(0x1c2)](_0x232cd1=>_0x232cd1['id']===_0x2662d4[_0x31dde2(0x8e)])?.[_0x31dde2(0x609)]||_0x2662d4[_0x31dde2(0x8e)]}))['filter'](_0x8fb0a1=>(_0x8fb0a1['topic']||'')[_0x31dde2(0x306)]()['includes'](_0x52630e)||(_0x8fb0a1['projectName']||'')[_0x31dde2(0x306)]()[_0x31dde2(0x33d)](_0x52630e));document[_0x31dde2(0x62a)](_0x31dde2(0x538))['textContent']='('+_0x27d59c['length']+'\x20ชุด)',_0x3140e7[_0x31dde2(0x2ee)]=_0x27d59c['length']?_0x27d59c[_0x31dde2(0x3a4)](_0x4a4d6c=>_0x31dde2(0x3eb)+_0x4a4d6c['id']+_0x31dde2(0x461)+(_0x4a4d6c['topic']||_0x31dde2(0x3e8))+_0x31dde2(0x244)+(_0x4a4d6c[_0x31dde2(0x286)]?.[_0x31dde2(0x15b)]||0x0)+_0x31dde2(0x471)+_0x4a4d6c[_0x31dde2(0x609)]+_0x31dde2(0x21c))[_0x31dde2(0x1b3)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x31dde2(0x62a)](_0x31dde2(0x5ce))[_0x31dde2(0x50f)]=!![],_0x3140e7[_0x31dde2(0x447)]('button[data-id]')['forEach'](_0x119306=>{const _0x53db4a=_0x31dde2;_0x119306[_0x53db4a(0x199)](_0x53db4a(0x15d),()=>{const _0x1846d2=_0x53db4a;selectedGlobalQuizId=_0x119306[_0x1846d2(0xb8)]['id'],_0x3140e7[_0x1846d2(0x447)](_0x1846d2(0x19d))[_0x1846d2(0x5c5)](_0x244440=>_0x244440['classList'][_0x1846d2(0x2ba)]('bg-purple-50',_0x1846d2(0x29b),_0x1846d2(0x2ab))),_0x119306[_0x1846d2(0x48f)][_0x1846d2(0x462)](_0x1846d2(0x54f),_0x1846d2(0x29b),_0x1846d2(0x2ab)),document[_0x1846d2(0x62a)]('confirm-global-live-btn')[_0x1846d2(0x50f)]=![];});});}function listenForLiveGameUpdates(){const _0x175be3=_0x5e6fd0;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x593a2c=doc(db,_0x175be3(0x3c0)+appId+_0x175be3(0x580),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x593a2c,_0x3b9062=>{const _0x4e2470=_0x175be3;if(!_0x3b9062['exists']()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x422725=_0x3b9062[_0x4e2470(0x386)]();!currentQuizData&&_0x422725[_0x4e2470(0x2e9)]&&((async()=>{const _0xba0435=_0x4e2470;try{const _0x3a4e3a=doc(db,_0xba0435(0x3c0)+appId+_0xba0435(0x3d8),_0x422725[_0xba0435(0x2e9)]),_0x134fa1=await getDoc(_0x3a4e3a);_0x134fa1['exists']()&&(currentQuizData={'id':_0x134fa1['id'],..._0x134fa1[_0xba0435(0x386)]()});}catch(_0x25432d){console[_0xba0435(0x5cf)](_0xba0435(0x108),_0x25432d);}})());switch(_0x422725[_0x4e2470(0x143)]){case _0x4e2470(0x3a3):if(currentMode==='admin'){const _0x6ce638=_0x422725[_0x4e2470(0x19f)]?Object[_0x4e2470(0x3c6)](_0x422725[_0x4e2470(0x19f)]):[];document['getElementById'](_0x4e2470(0x14d))[_0x4e2470(0x31f)]=_0x6ce638[_0x4e2470(0x15b)],document[_0x4e2470(0x62a)](_0x4e2470(0xfc))[_0x4e2470(0x2ee)]=_0x6ce638[_0x4e2470(0x3a4)](_0x53f81f=>_0x4e2470(0x560)+_0x53f81f+_0x4e2470(0x5eb))[_0x4e2470(0x1b3)]('');const _0x272c8e=document['getElementById']('start-game-btn');_0x272c8e&&(_0x272c8e[_0x4e2470(0x50f)]=_0x6ce638['length']===0x0);}else showView('live-game'),liveGameView[_0x4e2470(0x2ee)]=_0x4e2470(0x50e)+currentStudentName+_0x4e2470(0x5ca);break;case _0x4e2470(0x276):const _0x436273=_0x422725[_0x4e2470(0x106)];if(currentQuizData&&currentQuizData[_0x4e2470(0x286)][_0x436273]){const _0x4444f4=currentQuizData[_0x4e2470(0x286)][_0x436273],_0x15a050=currentQuizData[_0x4e2470(0x286)][_0x4e2470(0x15b)];if(currentMode===_0x4e2470(0x42c)){lastRenderedAdminQuestionIndex!==_0x436273&&(showAdminLiveQuestionView(_0x4444f4,_0x436273,_0x15a050),lastRenderedAdminQuestionIndex=_0x436273);const _0x1af0ae=document[_0x4e2470(0x62a)](_0x4e2470(0x22b));if(_0x1af0ae&&_0x422725[_0x4e2470(0x19f)]){const _0x81ff87=Object[_0x4e2470(0x3c6)](_0x422725[_0x4e2470(0x19f)])['length'],_0x576cc4=Object[_0x4e2470(0x2bf)](_0x422725[_0x4e2470(0x19f)])['filter'](_0x3255ba=>_0x3255ba[_0x4e2470(0x1d2)]===!![])[_0x4e2470(0x15b)];_0x1af0ae['textContent']=_0x576cc4+'/'+_0x81ff87,_0x81ff87>0x0&&_0x576cc4===_0x81ff87&&_0x422725[_0x4e2470(0x13a)]!=='revealed'&&revealAnswerForAdmin(_0x436273,_0x15a050);}}else{const _0xfb1a95=_0x422725[_0x4e2470(0x19f)][currentStudentName];if(_0x422725[_0x4e2470(0x13a)]==='revealed'){if(_0xfb1a95[_0x4e2470(0x1d2)]){const _0x4d372d=_0xfb1a95[_0x4e2470(0x240)],_0x3385d8=_0xfb1a95['pointsLastQuestion']||0x0,_0x4d3250=_0x4d372d?_0x4e2470(0x305)+_0x3385d8+'\x20คะแนน':_0x4e2470(0x61e);liveGameView[_0x4e2470(0x2ee)]=_0x4e2470(0xb2)+_0x4d3250+_0x4e2470(0x232);}else liveGameView[_0x4e2470(0x2ee)]=_0x4e2470(0x1a1);}else!_0xfb1a95[_0x4e2470(0x1d2)]&&showStudentLiveQuestionView(_0x4444f4,_0x436273,_0x15a050);}}break;case _0x4e2470(0x453):showPodiumView(_0x422725['players']);break;}});}async function authenticateUser(){const _0x4ebc84=_0x5e6fd0;try{typeof __initial_auth_token!==_0x4ebc84(0xdd)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xa5e995){console[_0x4ebc84(0x5cf)](_0x4ebc84(0xb7),_0xa5e995),showMessage(_0x4ebc84(0x9b));}}function showView(_0x58304a){const _0x388e83=_0x5e6fd0,_0x474da5=[_0x388e83(0x4c4),_0x388e83(0x8b),_0x388e83(0x2f5),_0x388e83(0x535),'quiz-results-view','live-game-view'];_0x474da5['forEach'](_0x1f24f6=>document['getElementById'](_0x1f24f6)?.[_0x388e83(0x48f)][_0x388e83(0x462)](_0x388e83(0x20a)));if(_0x58304a==='admin-dashboard')adminView[_0x388e83(0x48f)][_0x388e83(0x2ba)](_0x388e83(0x20a)),projectDashboardView[_0x388e83(0x48f)][_0x388e83(0x2ba)](_0x388e83(0x20a));else{if(_0x58304a===_0x388e83(0x373))studentView[_0x388e83(0x48f)][_0x388e83(0x2ba)](_0x388e83(0x20a)),studentInitialView[_0x388e83(0x48f)][_0x388e83(0x2ba)](_0x388e83(0x20a)),studentNameSelectionView[_0x388e83(0x48f)]['add'](_0x388e83(0x20a)),studentQuizArea['classList']['add'](_0x388e83(0x20a)),studentResultArea[_0x388e83(0x48f)][_0x388e83(0x462)]('hidden'),studentReadingArea[_0x388e83(0x48f)]['add'](_0x388e83(0x20a)),studentJoinGameView[_0x388e83(0x48f)][_0x388e83(0x462)](_0x388e83(0x20a));else{if(_0x58304a==='project-detail')adminView[_0x388e83(0x48f)][_0x388e83(0x2ba)](_0x388e83(0x20a)),projectDetailView[_0x388e83(0x48f)]['remove']('hidden');else{if(_0x58304a===_0x388e83(0x59f))adminView[_0x388e83(0x48f)][_0x388e83(0x2ba)]('hidden'),quizResultsView[_0x388e83(0x48f)][_0x388e83(0x2ba)](_0x388e83(0x20a));else _0x58304a===_0x388e83(0x4fa)&&liveGameView[_0x388e83(0x48f)][_0x388e83(0x2ba)](_0x388e83(0x20a));}}}}function showJoinGameView(){const _0x196c83=_0x5e6fd0;studentInitialView[_0x196c83(0x48f)]['add'](_0x196c83(0x20a)),studentJoinGameView['classList'][_0x196c83(0x2ba)](_0x196c83(0x20a));}function setupEventListeners(){const _0x29a81c=_0x5e6fd0;document[_0x29a81c(0x62a)](_0x29a81c(0x5ef))[_0x29a81c(0x199)](_0x29a81c(0x15d),handleModeSwitch),document['getElementById'](_0x29a81c(0x30b))[_0x29a81c(0x199)](_0x29a81c(0x15d),handleAddCustomMathTopic),document['getElementById'](_0x29a81c(0x101))[_0x29a81c(0x199)]('click',handleSelectAllTopics),document[_0x29a81c(0x62a)](_0x29a81c(0x4aa))[_0x29a81c(0x199)](_0x29a81c(0x15d),handleDeselectAllTopics),document[_0x29a81c(0x62a)](_0x29a81c(0x546))['addEventListener'](_0x29a81c(0x15d),()=>{const _0xf3eb07=_0x29a81c;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0xf3eb07(0x2ce));}),document['getElementById'](_0x29a81c(0x18c))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x29a81c(0x62a)]('back-to-dashboard-from-results-btn')[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{showView('admin-dashboard');}),document[_0x29a81c(0x62a)](_0x29a81c(0x4e9))[_0x29a81c(0x199)]('click',()=>messageModal[_0x29a81c(0x48f)]['add'](_0x29a81c(0x20a))),document[_0x29a81c(0x62a)](_0x29a81c(0x233))['addEventListener'](_0x29a81c(0x15d),()=>createProjectModal[_0x29a81c(0x48f)]['remove'](_0x29a81c(0x20a))),document['getElementById'](_0x29a81c(0x330))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>createProjectModal[_0x29a81c(0x48f)][_0x29a81c(0x462)](_0x29a81c(0x20a))),document[_0x29a81c(0x62a)](_0x29a81c(0x559))['addEventListener'](_0x29a81c(0x15d),()=>adminPasswordModal[_0x29a81c(0x48f)][_0x29a81c(0x462)](_0x29a81c(0x20a))),document[_0x29a81c(0x62a)](_0x29a81c(0x469))[_0x29a81c(0x199)](_0x29a81c(0x15d),handleAdminLogin),document[_0x29a81c(0x62a)](_0x29a81c(0x630))['addEventListener'](_0x29a81c(0x574),_0x46596a=>{const _0x489fdc=_0x29a81c;if(_0x46596a[_0x489fdc(0x59b)]===_0x489fdc(0x2cd))handleAdminLogin();}),document[_0x29a81c(0x62a)](_0x29a81c(0x556))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x475e24=_0x29a81c;confirmationModal[_0x475e24(0x48f)][_0x475e24(0x462)](_0x475e24(0x20a)),confirmAction=null;}),document[_0x29a81c(0x62a)](_0x29a81c(0x4c0))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x2a33d5=_0x29a81c;confirmAction&&confirmAction(),confirmationModal[_0x2a33d5(0x48f)][_0x2a33d5(0x462)](_0x2a33d5(0x20a)),confirmAction=null;}),document[_0x29a81c(0x62a)](_0x29a81c(0x450))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>renameQuizModal[_0x29a81c(0x48f)][_0x29a81c(0x462)](_0x29a81c(0x20a))),document[_0x29a81c(0x62a)]('confirm-rename-quiz-btn')[_0x29a81c(0x199)]('click',confirmRenameQuiz),document[_0x29a81c(0x62a)](_0x29a81c(0x29c))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>moveQuizModal[_0x29a81c(0x48f)]['add'](_0x29a81c(0x20a))),document['getElementById'](_0x29a81c(0x242))[_0x29a81c(0x199)]('click',confirmMoveQuiz),document[_0x29a81c(0x62a)]('cancel-quiz-settings-btn')['addEventListener']('click',()=>quizSettingsModal[_0x29a81c(0x48f)][_0x29a81c(0x462)](_0x29a81c(0x20a))),document[_0x29a81c(0x62a)](_0x29a81c(0x307))[_0x29a81c(0x199)](_0x29a81c(0x15d),confirmQuizSettings),document[_0x29a81c(0x62a)](_0x29a81c(0x25f))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>quizStatusModal[_0x29a81c(0x48f)]['add'](_0x29a81c(0x20a))),document[_0x29a81c(0x62a)](_0x29a81c(0x15a))['addEventListener'](_0x29a81c(0x15d),confirmQuizStatus),document[_0x29a81c(0x62a)](_0x29a81c(0x1ff))[_0x29a81c(0x199)](_0x29a81c(0x15d),openGlobalLiveModal),document[_0x29a81c(0x62a)](_0x29a81c(0x584))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x3d75db=_0x29a81c;document['getElementById'](_0x3d75db(0x23d))['classList'][_0x3d75db(0x462)](_0x3d75db(0x20a)),selectedGlobalQuizId=null;}),document[_0x29a81c(0x62a)](_0x29a81c(0x402))[_0x29a81c(0x199)]('input',_0xc9eb01=>renderGlobalQuizList(_0xc9eb01[_0x29a81c(0x180)][_0x29a81c(0x412)])),document[_0x29a81c(0x62a)](_0x29a81c(0x5ce))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x157263=_0x29a81c,_0x43943d=selectedGlobalQuizId;if(!_0x43943d)return;document['getElementById'](_0x157263(0x23d))[_0x157263(0x48f)][_0x157263(0x462)](_0x157263(0x20a)),handleStartLiveRace(_0x43943d);}),document[_0x29a81c(0x62a)](_0x29a81c(0x3f7))[_0x29a81c(0x199)](_0x29a81c(0x3e3),renderProjects),document[_0x29a81c(0x62a)](_0x29a81c(0x376))['addEventListener'](_0x29a81c(0x3d7),renderProjects),document[_0x29a81c(0x62a)](_0x29a81c(0x3f8))[_0x29a81c(0x199)]('input',renderQuizzes),manageTab[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>switchProjectTab(_0x29a81c(0x2dc))),resultsTab[_0x29a81c(0x199)]('click',()=>switchProjectTab(_0x29a81c(0x2c0))),leaderboardTab['addEventListener'](_0x29a81c(0x15d),()=>switchProjectTab(_0x29a81c(0x176))),document[_0x29a81c(0x62a)](_0x29a81c(0x15f))['addEventListener'](_0x29a81c(0x15d),()=>switchQuizDetailTab(_0x29a81c(0x5cc))),document[_0x29a81c(0x62a)](_0x29a81c(0x55e))['addEventListener']('click',()=>switchQuizDetailTab('scores')),document[_0x29a81c(0x62a)](_0x29a81c(0x3e5))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x29a81c(0x62a)](_0x29a81c(0x270))[_0x29a81c(0x199)](_0x29a81c(0x15d),handleAnalyzeClass),generateWorksheetBtn[_0x29a81c(0x199)](_0x29a81c(0x15d),generateWorksheet);const _0x30d81c=document[_0x29a81c(0x62a)](_0x29a81c(0x309)),_0x5bd325=document[_0x29a81c(0x62a)](_0x29a81c(0x48a)),_0xecc132=document[_0x29a81c(0x62a)](_0x29a81c(0x607)),_0x24895c=document['getElementById'](_0x29a81c(0x2ae)),_0x6ee937=document[_0x29a81c(0x62a)](_0x29a81c(0x404)),_0x3cb7ba=document[_0x29a81c(0x62a)](_0x29a81c(0x44a));topicTab[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x31976f=_0x29a81c;topicTab[_0x31976f(0x48f)][_0x31976f(0x462)](_0x31976f(0x415)),textTab['classList']['remove'](_0x31976f(0x415)),fileTab[_0x31976f(0x48f)]['remove'](_0x31976f(0x415)),worksheetTab[_0x31976f(0x48f)][_0x31976f(0x2ba)](_0x31976f(0x415));if(_0x30d81c)_0x30d81c[_0x31976f(0x48f)][_0x31976f(0x2ba)]('active');if(_0xecc132)_0xecc132['classList'][_0x31976f(0x2ba)]('active');topicInputArea[_0x31976f(0x48f)][_0x31976f(0x2ba)](_0x31976f(0x20a)),textInputArea['classList']['add']('hidden'),fileInputArea[_0x31976f(0x48f)]['add']('hidden'),worksheetInputArea[_0x31976f(0x48f)]['add'](_0x31976f(0x20a));if(_0x5bd325)_0x5bd325['classList'][_0x31976f(0x462)](_0x31976f(0x20a));if(_0x24895c)_0x24895c[_0x31976f(0x48f)]['add'](_0x31976f(0x20a));}),textTab['addEventListener'](_0x29a81c(0x15d),()=>{const _0x5cfbc9=_0x29a81c;textTab['classList']['add'](_0x5cfbc9(0x415)),topicTab['classList'][_0x5cfbc9(0x2ba)](_0x5cfbc9(0x415)),fileTab['classList'][_0x5cfbc9(0x2ba)](_0x5cfbc9(0x415)),worksheetTab[_0x5cfbc9(0x48f)][_0x5cfbc9(0x2ba)](_0x5cfbc9(0x415));if(_0x30d81c)_0x30d81c['classList'][_0x5cfbc9(0x2ba)](_0x5cfbc9(0x415));if(_0xecc132)_0xecc132['classList'][_0x5cfbc9(0x2ba)](_0x5cfbc9(0x415));textInputArea['classList'][_0x5cfbc9(0x2ba)](_0x5cfbc9(0x20a)),topicInputArea[_0x5cfbc9(0x48f)][_0x5cfbc9(0x462)]('hidden'),fileInputArea[_0x5cfbc9(0x48f)][_0x5cfbc9(0x462)](_0x5cfbc9(0x20a)),worksheetInputArea['classList'][_0x5cfbc9(0x462)](_0x5cfbc9(0x20a));if(_0x5bd325)_0x5bd325[_0x5cfbc9(0x48f)][_0x5cfbc9(0x462)]('hidden');if(_0x24895c)_0x24895c[_0x5cfbc9(0x48f)][_0x5cfbc9(0x462)]('hidden');}),fileTab[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x48e546=_0x29a81c;fileTab[_0x48e546(0x48f)][_0x48e546(0x462)](_0x48e546(0x415)),topicTab[_0x48e546(0x48f)][_0x48e546(0x2ba)]('active'),textTab[_0x48e546(0x48f)]['remove']('active'),worksheetTab[_0x48e546(0x48f)][_0x48e546(0x2ba)](_0x48e546(0x415));if(_0x30d81c)_0x30d81c['classList']['remove']('active');if(_0xecc132)_0xecc132[_0x48e546(0x48f)][_0x48e546(0x2ba)]('active');fileInputArea[_0x48e546(0x48f)][_0x48e546(0x2ba)](_0x48e546(0x20a)),topicInputArea['classList'][_0x48e546(0x462)](_0x48e546(0x20a)),textInputArea['classList'][_0x48e546(0x462)](_0x48e546(0x20a)),worksheetInputArea[_0x48e546(0x48f)]['add'](_0x48e546(0x20a));if(_0x5bd325)_0x5bd325['classList'][_0x48e546(0x462)](_0x48e546(0x20a));if(_0x24895c)_0x24895c[_0x48e546(0x48f)][_0x48e546(0x462)](_0x48e546(0x20a));}),worksheetTab[_0x29a81c(0x199)]('click',()=>{const _0x2d69bb=_0x29a81c;worksheetTab[_0x2d69bb(0x48f)][_0x2d69bb(0x462)](_0x2d69bb(0x415)),topicTab['classList']['remove'](_0x2d69bb(0x415)),textTab['classList'][_0x2d69bb(0x2ba)](_0x2d69bb(0x415)),fileTab[_0x2d69bb(0x48f)][_0x2d69bb(0x2ba)](_0x2d69bb(0x415));if(_0x30d81c)_0x30d81c['classList']['remove']('active');if(_0xecc132)_0xecc132[_0x2d69bb(0x48f)][_0x2d69bb(0x2ba)](_0x2d69bb(0x415));worksheetInputArea[_0x2d69bb(0x48f)][_0x2d69bb(0x2ba)](_0x2d69bb(0x20a)),topicInputArea['classList'][_0x2d69bb(0x462)]('hidden'),textInputArea['classList'][_0x2d69bb(0x462)]('hidden'),fileInputArea[_0x2d69bb(0x48f)][_0x2d69bb(0x462)](_0x2d69bb(0x20a));if(_0x5bd325)_0x5bd325[_0x2d69bb(0x48f)][_0x2d69bb(0x462)](_0x2d69bb(0x20a));if(_0x24895c)_0x24895c[_0x2d69bb(0x48f)][_0x2d69bb(0x462)](_0x2d69bb(0x20a));});const _0x3eecf9=document['getElementById'](_0x29a81c(0x34d)),_0x2265eb=document[_0x29a81c(0x62a)](_0x29a81c(0x60f));_0x3eecf9&&_0x3eecf9['addEventListener'](_0x29a81c(0x15d),()=>{const _0x31fd39=_0x29a81c;topicTab[_0x31fd39(0x48f)][_0x31fd39(0x2ba)](_0x31fd39(0x415)),textTab['classList'][_0x31fd39(0x2ba)](_0x31fd39(0x415)),fileTab['classList']['remove'](_0x31fd39(0x415)),worksheetTab[_0x31fd39(0x48f)]['remove'](_0x31fd39(0x415));if(_0x30d81c)_0x30d81c[_0x31fd39(0x48f)]['remove']('active');if(_0xecc132)_0xecc132[_0x31fd39(0x48f)]['remove']('active');_0x3eecf9[_0x31fd39(0x48f)][_0x31fd39(0x462)](_0x31fd39(0x415)),topicInputArea[_0x31fd39(0x48f)]['add']('hidden'),textInputArea['classList']['add'](_0x31fd39(0x20a)),fileInputArea['classList'][_0x31fd39(0x462)](_0x31fd39(0x20a)),worksheetInputArea[_0x31fd39(0x48f)][_0x31fd39(0x462)]('hidden');if(_0x5bd325)_0x5bd325[_0x31fd39(0x48f)][_0x31fd39(0x462)]('hidden');if(_0x24895c)_0x24895c[_0x31fd39(0x48f)][_0x31fd39(0x462)](_0x31fd39(0x20a));_0x2265eb['classList'][_0x31fd39(0x2ba)](_0x31fd39(0x20a)),displayQuestionBank();});_0x30d81c&&(_0x30d81c['addEventListener']('click',()=>{const _0x30c7a3=_0x29a81c;topicTab[_0x30c7a3(0x48f)][_0x30c7a3(0x2ba)]('active'),textTab[_0x30c7a3(0x48f)][_0x30c7a3(0x2ba)](_0x30c7a3(0x415)),fileTab['classList'][_0x30c7a3(0x2ba)](_0x30c7a3(0x415)),worksheetTab[_0x30c7a3(0x48f)][_0x30c7a3(0x2ba)]('active'),_0x30d81c[_0x30c7a3(0x48f)][_0x30c7a3(0x462)](_0x30c7a3(0x415));if(_0xecc132)_0xecc132[_0x30c7a3(0x48f)][_0x30c7a3(0x2ba)]('active');topicInputArea['classList'][_0x30c7a3(0x462)](_0x30c7a3(0x20a)),textInputArea[_0x30c7a3(0x48f)][_0x30c7a3(0x462)](_0x30c7a3(0x20a)),fileInputArea[_0x30c7a3(0x48f)][_0x30c7a3(0x462)]('hidden'),worksheetInputArea[_0x30c7a3(0x48f)][_0x30c7a3(0x462)](_0x30c7a3(0x20a)),_0x5bd325[_0x30c7a3(0x48f)][_0x30c7a3(0x2ba)](_0x30c7a3(0x20a));if(_0x24895c)_0x24895c[_0x30c7a3(0x48f)][_0x30c7a3(0x462)](_0x30c7a3(0x20a));}),document[_0x29a81c(0x62a)](_0x29a81c(0x8f))[_0x29a81c(0x199)](_0x29a81c(0x15d),handleGenerateFromLink));_0xecc132&&_0xecc132[_0x29a81c(0x199)]('click',()=>{const _0x33f14d=_0x29a81c;topicTab[_0x33f14d(0x48f)]['remove'](_0x33f14d(0x415)),textTab[_0x33f14d(0x48f)][_0x33f14d(0x2ba)]('active'),fileTab[_0x33f14d(0x48f)][_0x33f14d(0x2ba)]('active'),worksheetTab[_0x33f14d(0x48f)]['remove'](_0x33f14d(0x415));if(_0x30d81c)_0x30d81c['classList'][_0x33f14d(0x2ba)]('active');if(_0x3eecf9)_0x3eecf9['classList'][_0x33f14d(0x2ba)](_0x33f14d(0x415));_0xecc132[_0x33f14d(0x48f)][_0x33f14d(0x462)](_0x33f14d(0x415)),topicInputArea[_0x33f14d(0x48f)][_0x33f14d(0x462)]('hidden'),textInputArea[_0x33f14d(0x48f)][_0x33f14d(0x462)](_0x33f14d(0x20a)),fileInputArea[_0x33f14d(0x48f)][_0x33f14d(0x462)](_0x33f14d(0x20a)),worksheetInputArea[_0x33f14d(0x48f)][_0x33f14d(0x462)]('hidden');if(_0x5bd325)_0x5bd325[_0x33f14d(0x48f)]['add'](_0x33f14d(0x20a));if(_0x2265eb)_0x2265eb[_0x33f14d(0x48f)][_0x33f14d(0x462)](_0x33f14d(0x20a));_0x24895c['classList'][_0x33f14d(0x2ba)](_0x33f14d(0x20a));});_0x6ee937&&_0x6ee937[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x3ecf63=_0x29a81c;topicTab[_0x3ecf63(0x48f)][_0x3ecf63(0x2ba)]('active'),textTab[_0x3ecf63(0x48f)]['remove'](_0x3ecf63(0x415)),fileTab['classList'][_0x3ecf63(0x2ba)](_0x3ecf63(0x415)),worksheetTab[_0x3ecf63(0x48f)][_0x3ecf63(0x2ba)](_0x3ecf63(0x415));if(_0x30d81c)_0x30d81c[_0x3ecf63(0x48f)][_0x3ecf63(0x2ba)](_0x3ecf63(0x415));if(_0xecc132)_0xecc132[_0x3ecf63(0x48f)][_0x3ecf63(0x2ba)](_0x3ecf63(0x415));_0x6ee937[_0x3ecf63(0x48f)][_0x3ecf63(0x462)](_0x3ecf63(0x415)),topicInputArea['classList'][_0x3ecf63(0x462)](_0x3ecf63(0x20a)),textInputArea['classList'][_0x3ecf63(0x462)](_0x3ecf63(0x20a)),fileInputArea[_0x3ecf63(0x48f)]['add'](_0x3ecf63(0x20a)),worksheetInputArea['classList'][_0x3ecf63(0x462)](_0x3ecf63(0x20a));if(_0x5bd325)_0x5bd325[_0x3ecf63(0x48f)][_0x3ecf63(0x462)](_0x3ecf63(0x20a));if(_0x24895c)_0x24895c[_0x3ecf63(0x48f)]['add'](_0x3ecf63(0x20a));_0x3cb7ba[_0x3ecf63(0x48f)]['remove'](_0x3ecf63(0x20a));});const _0x26e475=document[_0x29a81c(0x62a)](_0x29a81c(0x1cd)),_0x35c36b=document[_0x29a81c(0x62a)](_0x29a81c(0x4d2));_0x26e475&&_0x26e475[_0x29a81c(0x199)]('change',_0x2ee889=>{const _0x52c914=_0x29a81c;_0x2ee889['target'][_0x52c914(0x4f4)][_0x52c914(0x15b)]>0x0?_0x35c36b[_0x52c914(0x50f)]=![]:_0x35c36b['disabled']=!![];});_0x35c36b&&_0x35c36b[_0x29a81c(0x199)](_0x29a81c(0x15d),handleGenerateFromBlueprint);const _0x3ef3ee=document['getElementById'](_0x29a81c(0x23b)),_0x218d91=document[_0x29a81c(0x62a)](_0x29a81c(0x1b9));_0x3ef3ee&&_0x3ef3ee[_0x29a81c(0x199)]('change',_0x139330=>{const _0x4c6768=_0x29a81c;_0x218d91[_0x4c6768(0x50f)]=_0x139330[_0x4c6768(0x180)][_0x4c6768(0x4f4)][_0x4c6768(0x15b)]===0x0;});_0x218d91&&_0x218d91[_0x29a81c(0x199)]('click',handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x29a81c(0x15d),handleLoadQuiz),startQuizBtn[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x4d7f70=_0x29a81c,_0x5799a2=document[_0x4d7f70(0x62a)](_0x4d7f70(0x2d4));currentStudentName=_0x5799a2[_0x4d7f70(0x412)];if(!currentStudentName){showMessage(_0x4d7f70(0x2d0));return;}studentNameSelectionView['classList'][_0x4d7f70(0x462)](_0x4d7f70(0x20a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x29a81c(0x2b0))['addEventListener'](_0x29a81c(0x15d),showJoinGameView),document[_0x29a81c(0x62a)](_0x29a81c(0x2c1))[_0x29a81c(0x199)](_0x29a81c(0x15d),handleJoinLiveGame),document[_0x29a81c(0x62a)]('back-to-student-initial-btn')[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>showView('student'));const _0x2d08c3=()=>{const _0x4c7cc9=_0x29a81c,_0x21b71e=document[_0x4c7cc9(0x62a)](_0x4c7cc9(0x1ed))[_0x4c7cc9(0x31f)][_0x4c7cc9(0xa7)](/[^a-z0-9]/gi,'_')[_0x4c7cc9(0x306)]();return'results_'+(_0x21b71e||_0x4c7cc9(0x1cf));},_0x50afd3=document['getElementById'](_0x29a81c(0x1d1));_0x50afd3&&_0x50afd3[_0x29a81c(0x199)](_0x29a81c(0x3e3),_0xabfeb=>{const _0x5f2aa6=_0x29a81c,_0x3fb6ec=_0xabfeb[_0x5f2aa6(0x180)][_0x5f2aa6(0x412)][_0x5f2aa6(0x306)]()[_0x5f2aa6(0x2fc)](),_0x3b8685=document['getElementById'](_0x5f2aa6(0x3d9)),_0x352541=_0x3b8685[_0x5f2aa6(0x447)]('.mb-3');_0x352541['forEach'](_0x514a70=>{const _0x14fbf3=_0x5f2aa6;let _0x99440a=![];const _0x126c1d=_0x514a70[_0x14fbf3(0x447)](_0x14fbf3(0x1ce));_0x126c1d[_0x14fbf3(0x5c5)](_0x5dc5d3=>{const _0x591bcc=_0x14fbf3,_0x41a078=_0x5dc5d3[_0x591bcc(0x31f)]['toLowerCase']();_0x41a078[_0x591bcc(0x33d)](_0x3fb6ec)?(_0x5dc5d3[_0x591bcc(0x56c)][_0x591bcc(0x636)]='flex',_0x99440a=!![]):_0x5dc5d3['style'][_0x591bcc(0x636)]='none';}),_0x99440a?_0x514a70[_0x14fbf3(0x56c)]['display']=_0x14fbf3(0x319):_0x514a70[_0x14fbf3(0x56c)][_0x14fbf3(0x636)]='none';});});document[_0x29a81c(0x62a)](_0x29a81c(0x2f8))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>exportTableAsImage('results-table-container',_0x2d08c3())),document[_0x29a81c(0x62a)](_0x29a81c(0x4c8))['addEventListener']('click',()=>exportTableAsPDF(_0x29a81c(0x4bd),_0x2d08c3())),document[_0x29a81c(0x62a)](_0x29a81c(0x14f))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>exportTableAsWord(_0x29a81c(0x5a3),_0x2d08c3())),document[_0x29a81c(0x62a)]('export-excel-btn')['addEventListener'](_0x29a81c(0x15d),()=>exportTableAsExcel(_0x29a81c(0x4bd),_0x2d08c3()));const _0x1ceb4d=()=>{const _0x1c29bd=_0x29a81c,_0xa73553=document[_0x1c29bd(0x62a)](_0x1c29bd(0x1ed))[_0x1c29bd(0x31f)][_0x1c29bd(0xa7)](/[^a-z0-9]/gi,'_')[_0x1c29bd(0x306)]();return _0x1c29bd(0x99)+(_0xa73553||_0x1c29bd(0x1cf));};document[_0x29a81c(0x62a)]('export-leaderboard-image-btn')[_0x29a81c(0x199)]('click',()=>exportTableAsImage(_0x29a81c(0x507),_0x1ceb4d())),document[_0x29a81c(0x62a)](_0x29a81c(0x3b8))[_0x29a81c(0x199)]('click',()=>exportTableAsPDF(_0x29a81c(0xe3),_0x1ceb4d())),document[_0x29a81c(0x62a)](_0x29a81c(0x3e9))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>exportTableAsWord(_0x29a81c(0x507),_0x1ceb4d())),document[_0x29a81c(0x62a)](_0x29a81c(0x632))[_0x29a81c(0x199)]('click',()=>exportTableAsExcel(_0x29a81c(0xe3),_0x1ceb4d())),projectQuizzesList['addEventListener'](_0x29a81c(0x15d),async _0x42b262=>{const _0x4f022d=_0x29a81c,_0xd18147=_0x42b262[_0x4f022d(0x180)]['closest']('.star-quiz-btn'),_0x1d3046=_0x42b262[_0x4f022d(0x180)][_0x4f022d(0xc3)](_0x4f022d(0xd1)),_0x1a92bb=_0x42b262[_0x4f022d(0x180)][_0x4f022d(0xc3)](_0x4f022d(0x32d)),_0x514b0a=_0x42b262['target'][_0x4f022d(0xc3)]('.start-presentation-list-btn'),_0x1c7ecc=_0x42b262[_0x4f022d(0x180)][_0x4f022d(0xc3)](_0x4f022d(0x3ef)),_0x39353c=_0x42b262['target']['closest'](_0x4f022d(0x273)),_0x4d2683=_0x42b262['target'][_0x4f022d(0xc3)](_0x4f022d(0x340)),_0xc40d6d=_0x42b262[_0x4f022d(0x180)]['closest']('.quiz-settings-btn'),_0x5bec98=_0x42b262[_0x4f022d(0x180)][_0x4f022d(0xc3)](_0x4f022d(0x179)),_0x242dbe=_0x42b262[_0x4f022d(0x180)][_0x4f022d(0xc3)]('.duplicate-quiz-btn'),_0x1316e9=_0x42b262[_0x4f022d(0x180)][_0x4f022d(0xc3)](_0x4f022d(0x2c7)),_0xfa6e67=_0x42b262[_0x4f022d(0x180)][_0x4f022d(0xc3)](_0x4f022d(0x9c)),_0x158372=_0x42b262[_0x4f022d(0x180)][_0x4f022d(0xc3)](_0x4f022d(0x2fd));if(_0xfa6e67){const _0x4a61f1=_0xfa6e67[_0x4f022d(0xb8)]['quizId'];handleOpenQuizEditor(_0x4a61f1);}else{if(_0x158372){const _0x696b67=_0x158372[_0x4f022d(0xb8)][_0x4f022d(0x2e9)],_0x5613c7=allQuizzes[_0x4f022d(0x1c2)](_0x4cfe73=>_0x4cfe73['id']===_0x696b67);_0x5613c7?handleGenerateParallelFromBank(_0x5613c7):showMessage(_0x4f022d(0x1e2));}else{if(_0xd18147){const _0x17077d=_0xd18147[_0x4f022d(0xb8)][_0x4f022d(0x2e9)];handleToggleStarQuiz(_0x17077d);}else{if(_0x1316e9){const _0x15d7b4=_0x1316e9[_0x4f022d(0xb8)]['quizId'];handleStartLiveRace(_0x15d7b4);}else{if(_0x1d3046){const _0x4e269a=_0x1d3046[_0x4f022d(0xb8)][_0x4f022d(0x2e9)],_0x3a4baf=_0x1d3046[_0x4f022d(0xb8)][_0x4f022d(0x10e)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x3a4baf+'\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x4e269a));}else{if(_0x1a92bb){const _0x5aaea6=_0x1a92bb[_0x4f022d(0xb8)]['quizId'];copyTextToClipboard(_0x5aaea6,_0x4f022d(0xac));}else{if(_0x514b0a){const _0x426694=_0x514b0a[_0x4f022d(0xb8)][_0x4f022d(0x2e9)],_0x66c273=doc(db,_0x4f022d(0x3c0)+appId+'/public/data/quizzes',_0x426694),_0x4a7089=await getDoc(_0x66c273);if(_0x4a7089['exists']()){const _0x3a41c8={'id':_0x4a7089['id'],..._0x4a7089['data']()};startPresentation(_0x3a41c8);}else showMessage(_0x4f022d(0x1e2));}else{if(_0x1c7ecc){const _0x126fd3=_0x1c7ecc[_0x4f022d(0xb8)][_0x4f022d(0x2e9)],_0x44db94=doc(db,'artifacts/'+appId+_0x4f022d(0x3d8),_0x126fd3),_0x5378fe=await getDoc(_0x44db94);_0x5378fe[_0x4f022d(0x5a0)]()?(currentQuizData={'id':_0x5378fe['id'],..._0x5378fe[_0x4f022d(0x386)]()},startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x39353c){const _0x2cd27d=_0x39353c[_0x4f022d(0xb8)][_0x4f022d(0x2e9)],_0x1040bd=_0x39353c[_0x4f022d(0xb8)][_0x4f022d(0x10e)];handleRenameQuiz(_0x2cd27d,_0x1040bd);}else{if(_0x4d2683){const _0x29745d=_0x4d2683[_0x4f022d(0xb8)][_0x4f022d(0x2e9)];handleMoveQuiz(_0x29745d);}else{if(_0xc40d6d){const _0x1b4f61=_0xc40d6d[_0x4f022d(0xb8)][_0x4f022d(0x2e9)];handleQuizSettings(_0x1b4f61);}else{if(_0x5bec98){const _0xa4bee3=_0x5bec98[_0x4f022d(0xb8)][_0x4f022d(0x2e9)];handleQuizStatus(_0xa4bee3);}else{if(_0x242dbe){const _0x36fd9b=_0x242dbe['dataset'][_0x4f022d(0x2e9)];handleDuplicateQuiz(_0x36fd9b);}}}}}}}}}}}}}}),document[_0x29a81c(0x62a)](_0x29a81c(0xe3))[_0x29a81c(0x4a0)]('thead')[_0x29a81c(0x199)]('click',_0x537350=>{const _0x14dc82=_0x29a81c,_0x2d263b=_0x537350[_0x14dc82(0x180)][_0x14dc82(0xc3)](_0x14dc82(0x1a5));if(!_0x2d263b||!_0x2d263b[_0x14dc82(0xb8)]['sort'])return;const _0x2903f5=_0x2d263b[_0x14dc82(0xb8)]['sort'];if(quizLeaderboardSortBy===_0x2903f5)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x14dc82(0x9f):'asc';else{quizLeaderboardSortBy=_0x2903f5;const _0x1d6430=[_0x14dc82(0x588)];quizLeaderboardSortOrder=_0x1d6430[_0x14dc82(0x33d)](_0x2903f5)?_0x14dc82(0x470):_0x14dc82(0x9f);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x14dc82(0x50c));}),document[_0x29a81c(0x62a)](_0x29a81c(0x24f))[_0x29a81c(0x199)](_0x29a81c(0x15d),closePresentation),document[_0x29a81c(0x62a)](_0x29a81c(0x466))['addEventListener'](_0x29a81c(0x15d),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x29a81c(0x62a)](_0x29a81c(0x187))['addEventListener'](_0x29a81c(0x15d),()=>{const _0x4da121=_0x29a81c;currentQuizData[_0x4da121(0x286)]&&currentPresentationSlide<currentQuizData['questions'][_0x4da121(0x15b)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x4028bf=_0x29a81c;!document[_0x4028bf(0x11b)]&&(presentationModal[_0x4028bf(0x56c)][_0x4028bf(0x636)]=_0x4028bf(0x36c));}),document['getElementById']('delete-all-students-btn')[_0x29a81c(0x199)](_0x29a81c(0x15d),handleDeleteAllStudents),studentList[_0x29a81c(0x199)](_0x29a81c(0x15d),_0x1c1ee1=>{const _0x40b3d5=_0x29a81c,_0x3c3365=_0x1c1ee1[_0x40b3d5(0x180)][_0x40b3d5(0xc3)](_0x40b3d5(0x44c));if(_0x3c3365){const _0x3f9253=_0x3c3365[_0x40b3d5(0xb8)]['studentName'];handleDeleteStudent(_0x3f9253);}}),document[_0x29a81c(0x62a)](_0x29a81c(0x19a))['addEventListener'](_0x29a81c(0x15d),handleGenerateFromFileClick),fileUploadInput['addEventListener']('change',_0x2c3fa7=>{const _0xdf8f90=_0x29a81c,_0x40f3ec=_0x2c3fa7[_0xdf8f90(0x180)][_0xdf8f90(0x4f4)][0x0],_0x56d979=document[_0xdf8f90(0x62a)](_0xdf8f90(0x19a));_0x40f3ec?(selectedFile=_0x40f3ec,_0x56d979['disabled']=![]):(selectedFile=null,_0x56d979['disabled']=!![]);}),document[_0x29a81c(0x62a)](_0x29a81c(0x388))[_0x29a81c(0x199)](_0x29a81c(0x3d7),_0x58699d=>{const _0x4fd8fb=_0x29a81c,_0x547c6f=document[_0x4fd8fb(0x62a)]('timer-duration-container'),_0x447e39=document[_0x4fd8fb(0x62a)](_0x4fd8fb(0x195)),_0x27477d=document['getElementById']('timer-duration-input');_0x58699d['target']['value']==='none'?_0x547c6f[_0x4fd8fb(0x48f)]['add']('hidden'):(_0x547c6f['classList'][_0x4fd8fb(0x2ba)]('hidden'),_0x58699d[_0x4fd8fb(0x180)][_0x4fd8fb(0x412)]===_0x4fd8fb(0x102)?(_0x447e39[_0x4fd8fb(0x31f)]='ระยะเวลา\x20(นาที):',_0x27477d[_0x4fd8fb(0x412)]='10'):(_0x447e39[_0x4fd8fb(0x31f)]=_0x4fd8fb(0x426),_0x27477d[_0x4fd8fb(0x412)]='30'));}),document[_0x29a81c(0x62a)](_0x29a81c(0x157))[_0x29a81c(0x199)](_0x29a81c(0x3d7),_0x27cdad=>{const _0xfe9e61=_0x29a81c,_0x2d16b7=document[_0xfe9e61(0x62a)]('num-choices-container'),_0x173529=_0x27cdad[_0xfe9e61(0x180)][_0xfe9e61(0x412)],_0x52bfc9=document[_0xfe9e61(0x4a0)](_0xfe9e61(0x25e)),_0xd36575=document[_0xfe9e61(0x62a)](_0xfe9e61(0x150)),_0x5a04c9=document[_0xfe9e61(0x62a)](_0xfe9e61(0x5ed));_0x173529===_0xfe9e61(0x501)?_0x52bfc9['textContent']=_0xfe9e61(0x39a):_0x52bfc9[_0xfe9e61(0x31f)]='จำนวนข้อ:',_0x173529===_0xfe9e61(0x250)||_0x173529===_0xfe9e61(0x30f)||_0x173529===_0xfe9e61(0x4db)?_0x2d16b7[_0xfe9e61(0x48f)][_0xfe9e61(0x2ba)](_0xfe9e61(0x20a)):_0x2d16b7['classList'][_0xfe9e61(0x462)](_0xfe9e61(0x20a)),_0xd36575[_0xfe9e61(0x4ae)]=_0x5a04c9[_0xfe9e61(0x412)];}),document[_0x29a81c(0x62a)](_0x29a81c(0x5ed))[_0x29a81c(0x199)](_0x29a81c(0x3e3),_0x5c9626=>{const _0x9b990e=_0x29a81c;document['getElementById'](_0x9b990e(0x150))[_0x9b990e(0x4ae)]=_0x5c9626[_0x9b990e(0x180)]['value'];}),document[_0x29a81c(0x62a)](_0x29a81c(0x4ab))[_0x29a81c(0x199)](_0x29a81c(0x3d7),_0x10f92a=>{const _0x199809=_0x29a81c,_0x3f6c28=document[_0x199809(0x62a)](_0x199809(0xef)),_0x4e38e4=document['getElementById'](_0x199809(0x5a9)),_0x16ae49=document[_0x199809(0x62a)]('modal-timer-duration-input');_0x10f92a['target'][_0x199809(0x412)]===_0x199809(0x36c)?_0x3f6c28[_0x199809(0x48f)]['add'](_0x199809(0x20a)):(_0x3f6c28[_0x199809(0x48f)][_0x199809(0x2ba)](_0x199809(0x20a)),_0x10f92a['target']['value']===_0x199809(0x102)?_0x4e38e4[_0x199809(0x31f)]=_0x199809(0x85):_0x4e38e4['textContent']=_0x199809(0x426));}),document[_0x29a81c(0x62a)](_0x29a81c(0x9a))[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x43f171=_0x29a81c;document['getElementById'](_0x43f171(0x389))[_0x43f171(0x48f)]['add'](_0x43f171(0x20a));}),document['getElementById']('cancel-quiz-edits-btn-footer')[_0x29a81c(0x199)](_0x29a81c(0x15d),()=>{const _0x1be106=_0x29a81c;document[_0x1be106(0x62a)](_0x1be106(0x389))[_0x1be106(0x48f)][_0x1be106(0x462)](_0x1be106(0x20a));}),document[_0x29a81c(0x62a)](_0x29a81c(0x5a7))['addEventListener'](_0x29a81c(0x15d),()=>{const _0x1571c5=_0x29a81c;document['getElementById']('quiz-editor-modal')[_0x1571c5(0x48f)][_0x1571c5(0x462)](_0x1571c5(0x20a)),showConfirmation(_0x1571c5(0x320),handleSaveChanges);}),document[_0x29a81c(0x62a)](_0x29a81c(0x4a9))[_0x29a81c(0x199)](_0x29a81c(0x15d),handleAutoFixLatex);const _0x15f863=document[_0x29a81c(0x62a)](_0x29a81c(0x467));_0x15f863&&_0x15f863[_0x29a81c(0x199)]('click',_0x62e575=>{const _0x48ef14=_0x29a81c,_0x226b27=_0x62e575[_0x48ef14(0x180)][_0x48ef14(0xc3)](_0x48ef14(0x323));if(_0x226b27){const _0x2cc55a=_0x226b27['closest'](_0x48ef14(0x4c3)),_0x2a8141=parseInt(_0x2cc55a[_0x48ef14(0xb8)][_0x48ef14(0x339)],0xa);handleRegenerateQuestionInEditor(_0x2a8141);}}),document[_0x29a81c(0x62a)]('open-quiz-bank-btn')[_0x29a81c(0x199)](_0x29a81c(0x15d),openQuizBankModal),document[_0x29a81c(0x62a)](_0x29a81c(0x28e))[_0x29a81c(0x199)]('click',()=>{const _0x3ae21d=_0x29a81c;document[_0x3ae21d(0x62a)](_0x3ae21d(0x572))[_0x3ae21d(0x48f)][_0x3ae21d(0x462)]('hidden');}),document[_0x29a81c(0x62a)](_0x29a81c(0x194))[_0x29a81c(0x199)]('input',_0x24ac28=>renderQuizBankList(_0x24ac28[_0x29a81c(0x180)][_0x29a81c(0x412)]));}async function extractTextFromPdf(_0x1c441c){const _0x1027e1=_0x5e6fd0;pdfjsLib['GlobalWorkerOptions'][_0x1027e1(0x353)]=_0x1027e1(0x4ee);const _0xad6150=await _0x1c441c['arrayBuffer'](),_0x2f73fb=await pdfjsLib[_0x1027e1(0x5b8)](_0xad6150)['promise'],_0x72c01=_0x2f73fb[_0x1027e1(0x517)];let _0x24531a='';for(let _0x2edab5=0x1;_0x2edab5<=_0x72c01;_0x2edab5++){const _0x1d6c0e=await _0x2f73fb[_0x1027e1(0x31a)](_0x2edab5),_0x1c6f02=await _0x1d6c0e[_0x1027e1(0x4c9)](),_0x7563d3=_0x1c6f02[_0x1027e1(0x113)][_0x1027e1(0x3a4)](_0x5b5375=>_0x5b5375[_0x1027e1(0x1fc)])[_0x1027e1(0x1b3)]('\x20');_0x24531a+=_0x7563d3+'\x0a\x0a';}return _0x24531a;}async function handleGenerateFromBlueprint(){const _0xc77874=_0x5e6fd0,_0x4e61a3=document[_0xc77874(0x62a)](_0xc77874(0x1cd)),_0x4a694f=_0x4e61a3[_0xc77874(0x4f4)][0x0];if(!_0x4a694f){showMessage(_0xc77874(0x43d));return;}const _0x1b5bc5=document[_0xc77874(0x62a)]('loader'),_0x409512=document[_0xc77874(0x62a)](_0xc77874(0x138)),_0x4c5f03=document['getElementById']('generated-quiz-container'),_0x41df12=document[_0xc77874(0x62a)](_0xc77874(0x4d2));_0x41df12[_0xc77874(0x50f)]=!![],document[_0xc77874(0x62a)]('quiz-generation-area')['classList']['remove']('hidden'),_0x4c5f03['innerHTML']='',_0x1b5bc5[_0xc77874(0x48f)][_0xc77874(0x2ba)](_0xc77874(0x20a)),_0x409512['textContent']=_0xc77874(0x183);try{const _0x5d8a8a=await extractTextFromPdf(_0x4a694f);if(!_0x5d8a8a['trim']())throw new Error(_0xc77874(0x197));_0x409512[_0xc77874(0x31f)]='Blueprint\x20วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x46d8b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสารผังการสร้างข้อสอบ\x20(Test\x20Blueprint)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาจากไฟล์\x20Test\x20Blueprint:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d8a8a+_0xc77874(0x525)+simpleMathPrompt+_0xc77874(0x293),_0x204cd3={'type':_0xc77874(0xe6),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xc77874(0x253),'enum':[_0xc77874(0x250),_0xc77874(0x514)]},'options':{'type':_0xc77874(0x1f7),'items':{'type':_0xc77874(0x253)}},'correctAnswerIndex':{'type':_0xc77874(0x56b)},'idealAnswer':{'type':_0xc77874(0x253)},'explanation':{'type':_0xc77874(0x253)},'imageCode':{'type':'STRING'}},'required':[_0xc77874(0x375),_0xc77874(0x2fb),'explanation']},_0x7168b5={'type':'OBJECT','properties':{'topic':{'type':_0xc77874(0x253)},'questions':{'type':_0xc77874(0x1f7),'items':_0x204cd3}},'required':[_0xc77874(0x10e),'questions']};await handleApiCall(_0x46d8b4,_0xc77874(0x268),_0x7168b5);}catch(_0x58d1ab){console[_0xc77874(0x5cf)]('Error\x20generating\x20from\x20blueprint:',_0x58d1ab),showMessage(_0xc77874(0x1d7)+_0x58d1ab['message']),_0x4c5f03[_0xc77874(0x2ee)]=_0xc77874(0x5b0);}finally{_0x1b5bc5['classList'][_0xc77874(0x462)](_0xc77874(0x20a)),_0x41df12[_0xc77874(0x50f)]=![];}}async function handleGenerateParallelFromBank(_0x1f8f8f){const _0x2195cf=_0x5e6fd0,_0x19a525=document['getElementById'](_0x2195cf(0x207)),_0xd4cc88=document[_0x2195cf(0x62a)]('loader-text'),_0x1806f5=document[_0x2195cf(0x62a)]('generated-quiz-container'),_0x3c15f3=document[_0x2195cf(0x62a)](_0x2195cf(0x354));showView(_0x2195cf(0x392)),switchProjectTab(_0x2195cf(0x2dc)),_0x3c15f3[_0x2195cf(0x48f)]['remove'](_0x2195cf(0x20a)),_0x1806f5['innerHTML']='',_0x19a525['classList'][_0x2195cf(0x2ba)]('hidden'),_0xd4cc88[_0x2195cf(0x31f)]='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x1f8f8f[_0x2195cf(0x10e)]+_0x2195cf(0x531);try{const _0x268382=_0x1f8f8f[_0x2195cf(0x286)][_0x2195cf(0x3a4)]((_0x3581b0,_0x3d7080)=>{const _0x70f747=_0x2195cf;let _0x34f296=_0x3d7080+0x1+'.\x20'+(_0x3581b0['questionText']||_0x3581b0[_0x70f747(0x541)])+'\x0a';if(_0x3581b0['options'])_0x34f296+=_0x3581b0[_0x70f747(0xf2)][_0x70f747(0x3a4)]((_0x38be02,_0x2d8e84)=>_0x70f747(0x260)+(_0x2d8e84===_0x3581b0[_0x70f747(0x30e)]?_0x70f747(0x361):'')+'\x20'+_0x38be02)[_0x70f747(0x1b3)]('\x0a');else{if(_0x3581b0[_0x70f747(0x604)])_0x34f296+=_0x70f747(0x59e)+_0x3581b0[_0x70f747(0x604)];else _0x3581b0['correctResponse']&&(_0x34f296+=_0x70f747(0x59e)+_0x3581b0[_0x70f747(0x50b)]);}return _0x34f296;})[_0x2195cf(0x1b3)]('\x0a\x0a');_0xd4cc88[_0x2195cf(0x31f)]=_0x2195cf(0x4c1);const _0x1b2403=_0x2195cf(0x407)+_0x1f8f8f[_0x2195cf(0x10e)]+_0x2195cf(0x4d9)+_0x268382+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20('+_0x1f8f8f[_0x2195cf(0x129)]+_0x2195cf(0x43a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x111379={'type':_0x2195cf(0xe6),'properties':{'questionText':{'type':_0x2195cf(0x253)},'questionType':{'type':_0x2195cf(0x253),'enum':[_0x2195cf(0x250),_0x2195cf(0x514),'true_false',_0x2195cf(0x2a1)]},'options':{'type':_0x2195cf(0x1f7),'items':{'type':_0x2195cf(0x253)}},'correctAnswerIndex':{'type':_0x2195cf(0x56b)},'idealAnswer':{'type':_0x2195cf(0x253)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x2195cf(0x253)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x2195cf(0x253)},'imageCode':{'type':_0x2195cf(0x253)}},'required':['questionType',_0x2195cf(0x5d5)]},_0x409e3f={'type':_0x2195cf(0xe6),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2195cf(0x1f7),'items':_0x111379}},'required':[_0x2195cf(0x10e),'questions']};await handleApiCall(_0x1b2403,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x409e3f);}catch(_0x2c4b51){console['error'](_0x2195cf(0x512),_0x2c4b51),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2c4b51[_0x2195cf(0x2c8)]),_0x1806f5[_0x2195cf(0x2ee)]=_0x2195cf(0x1f3);}finally{_0x19a525['classList']['add'](_0x2195cf(0x20a));}}async function handleGenerateParallelTest(){const _0x1e8afe=_0x5e6fd0,_0x31de93=document[_0x1e8afe(0x62a)](_0x1e8afe(0x23b)),_0x283990=_0x31de93[_0x1e8afe(0x4f4)][0x0];if(!_0x283990){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0xcba4e3=document['getElementById']('loader'),_0x388423=document[_0x1e8afe(0x62a)](_0x1e8afe(0x138)),_0x256e71=document[_0x1e8afe(0x62a)](_0x1e8afe(0x123)),_0x121ad7=document['getElementById'](_0x1e8afe(0x1b9));_0x121ad7[_0x1e8afe(0x50f)]=!![],document['getElementById'](_0x1e8afe(0x354))[_0x1e8afe(0x48f)][_0x1e8afe(0x2ba)](_0x1e8afe(0x20a)),_0x256e71[_0x1e8afe(0x2ee)]='',_0xcba4e3[_0x1e8afe(0x48f)]['remove']('hidden'),_0x388423[_0x1e8afe(0x31f)]=_0x1e8afe(0x5fe);try{const _0x316103=await extractTextFromPdf(_0x283990);if(!_0x316103[_0x1e8afe(0x2fc)]())throw new Error(_0x1e8afe(0x197));_0x388423[_0x1e8afe(0x31f)]=_0x1e8afe(0x4c1);const _0x4510a6=_0x1e8afe(0x475)+_0x316103+_0x1e8afe(0x4e8)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x57d4a6={'type':_0x1e8afe(0xe6),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x1e8afe(0x250),'short_answer']},'options':{'type':_0x1e8afe(0x1f7),'items':{'type':_0x1e8afe(0x253)}},'correctAnswerIndex':{'type':_0x1e8afe(0x56b)},'idealAnswer':{'type':_0x1e8afe(0x253)},'explanation':{'type':_0x1e8afe(0x253)},'imageCode':{'type':'STRING'}},'required':[_0x1e8afe(0x375),_0x1e8afe(0x2fb),'explanation']},_0x269b4a={'type':_0x1e8afe(0xe6),'properties':{'topic':{'type':_0x1e8afe(0x253)},'questions':{'type':_0x1e8afe(0x1f7),'items':_0x57d4a6}},'required':[_0x1e8afe(0x10e),_0x1e8afe(0x286)]};await handleApiCall(_0x4510a6,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x269b4a);}catch(_0xe6c347){console[_0x1e8afe(0x5cf)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0xe6c347),showMessage('เกิดข้อผิดพลาด:\x20'+_0xe6c347[_0x1e8afe(0x2c8)]),_0x256e71['innerHTML']=_0x1e8afe(0x1f3);}finally{_0xcba4e3[_0x1e8afe(0x48f)][_0x1e8afe(0x462)](_0x1e8afe(0x20a)),_0x121ad7['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x5e6bb9){const _0x4c9e80=_0x5e6fd0;if(currentEditingQuizData===null)return;const _0x2b74ed=document[_0x4c9e80(0x4a0)](_0x4c9e80(0x60c)+_0x5e6bb9+'\x22]');_0x2b74ed&&(_0x2b74ed[_0x4c9e80(0x2ee)]=_0x4c9e80(0x40b));const _0x2e3ea5=currentEditingQuizData[_0x4c9e80(0x286)][_0x5e6bb9],_0x10721a=currentEditingQuizData[_0x4c9e80(0x10e)],_0x42b4d6=_0x2e3ea5[_0x4c9e80(0x2fb)],_0x22d92e={'type':_0x4c9e80(0xe6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4c9e80(0x1f7),'items':{'type':_0x4c9e80(0x253)}},'correctAnswerIndex':{'type':_0x4c9e80(0x56b)},'explanation':{'type':_0x4c9e80(0x253)}},'required':[_0x4c9e80(0x375),_0x4c9e80(0xf2),_0x4c9e80(0x30e),_0x4c9e80(0x5d5)]},_0x5322d5={'type':_0x4c9e80(0xe6),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4c9e80(0x253)},'explanation':{'type':_0x4c9e80(0x253)}},'required':[_0x4c9e80(0x375),'idealAnswer','explanation']};let _0x3cf49b,_0x37a601='';_0x42b4d6==='multiple_choice'?(_0x3cf49b=_0x22d92e,_0x37a601=_0x4c9e80(0x633)):(_0x3cf49b=_0x5322d5,_0x37a601=_0x4c9e80(0x477));const _0xd87c89='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x10721a+_0x4c9e80(0x272)+_0x37a601+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x2e3ea5[_0x4c9e80(0x375)]||_0x2e3ea5[_0x4c9e80(0x541)])+_0x4c9e80(0xf1)+simpleMathPrompt;try{const _0x51b28f=await callAnalysisApi(_0xd87c89,_0x3cf49b);currentEditingQuizData[_0x4c9e80(0x286)][_0x5e6bb9]={..._0x2e3ea5,..._0x51b28f},renderQuizEditor(currentEditingQuizData);}catch(_0x3a057f){console[_0x4c9e80(0x5cf)](_0x4c9e80(0xd8),_0x3a057f),showMessage(_0x4c9e80(0x2de)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x177168=_0x5e6fd0,_0x407830=document[_0x177168(0x62a)](_0x177168(0x5ef));currentMode===_0x177168(0x373)?(currentMode=_0x177168(0x42c),_0x407830[_0x177168(0x2ee)]=_0x177168(0x3ba),_0x407830[_0x177168(0x2aa)]='สลับไปโหมดนักเรียน',showView('admin-dashboard')):(currentMode=_0x177168(0x373),_0x407830[_0x177168(0x2ee)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x407830['title']='สลับไปโหมดผู้ควบคุม',showView(_0x177168(0x373)));}function handleAdminLogin(){const _0x13534a=_0x5e6fd0,_0x190189=document[_0x13534a(0x62a)](_0x13534a(0x630)),_0x3fe901=document[_0x13534a(0x62a)](_0x13534a(0x374));if(_0x190189['value']===_0x13534a(0x336)){adminPasswordModal['classList'][_0x13534a(0x462)](_0x13534a(0x20a)),_0x190189[_0x13534a(0x412)]='',_0x3fe901[_0x13534a(0x48f)][_0x13534a(0x462)]('hidden'),currentMode=_0x13534a(0x42c);const _0x157614=document['getElementById'](_0x13534a(0x5ef));_0x157614[_0x13534a(0x2ee)]=_0x13534a(0x3ba),_0x157614[_0x13534a(0x2aa)]=_0x13534a(0x231),showView(_0x13534a(0x2ce));}else _0x3fe901[_0x13534a(0x48f)][_0x13534a(0x2ba)](_0x13534a(0x20a)),_0x190189[_0x13534a(0x412)]='';}function switchProjectTab(_0x344ccc){const _0x3873ef=_0x5e6fd0;[_0x3873ef(0x2dc),_0x3873ef(0x2c0),'leaderboard']['forEach'](_0x38a205=>{const _0x35fa50=_0x3873ef;document['getElementById'](_0x38a205+_0x35fa50(0x4cc))[_0x35fa50(0x48f)]['remove'](_0x35fa50(0x415)),document['getElementById'](_0x38a205+_0x35fa50(0x141))[_0x35fa50(0x48f)][_0x35fa50(0x462)]('hidden');}),document['getElementById'](_0x344ccc+_0x3873ef(0x4cc))[_0x3873ef(0x48f)][_0x3873ef(0x462)](_0x3873ef(0x415)),document['getElementById'](_0x344ccc+_0x3873ef(0x141))[_0x3873ef(0x48f)][_0x3873ef(0x2ba)](_0x3873ef(0x20a));}function switchQuizDetailTab(_0x4acb6d){const _0x12c3ad=_0x5e6fd0,_0x305827={'analytics':{'btn':_0x12c3ad(0x15f),'content':_0x12c3ad(0x31e)},'scores':{'btn':'scores-tab-btn','content':_0x12c3ad(0x181)},'leaderboard-quiz':{'btn':_0x12c3ad(0x3e5),'content':_0x12c3ad(0x52e)}};for(const _0xe2e4ea in _0x305827){document[_0x12c3ad(0x62a)](_0x305827[_0xe2e4ea][_0x12c3ad(0x55f)])[_0x12c3ad(0x48f)]['remove'](_0x12c3ad(0x415)),document[_0x12c3ad(0x62a)](_0x305827[_0xe2e4ea][_0x12c3ad(0x367)])['classList'][_0x12c3ad(0x462)]('hidden');}document['getElementById'](_0x305827[_0x4acb6d]['btn'])[_0x12c3ad(0x48f)][_0x12c3ad(0x462)]('active'),document['getElementById'](_0x305827[_0x4acb6d][_0x12c3ad(0x367)])['classList']['remove'](_0x12c3ad(0x20a));}function showMessage(_0xbc059b){const _0x1a15f0=_0x5e6fd0;modalMessage[_0x1a15f0(0x31f)]=_0xbc059b,messageModal[_0x1a15f0(0x48f)][_0x1a15f0(0x2ba)](_0x1a15f0(0x20a));}function showConfirmation(_0x489295,_0x31d6d5){const _0x20afbe=_0x5e6fd0;document[_0x20afbe(0x62a)](_0x20afbe(0x10f))['textContent']=_0x489295,document['getElementById'](_0x20afbe(0x5e4))[_0x20afbe(0x4a0)]('h3')[_0x20afbe(0x31f)]=_0x20afbe(0x31b),confirmAction=_0x31d6d5,confirmationModal[_0x20afbe(0x48f)][_0x20afbe(0x2ba)]('hidden');}function listenForProjects(){const _0xed9ea5=_0x5e6fd0,_0x1314db=collection(db,_0xed9ea5(0x3c0)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x1314db,_0x317298=>{const _0x26b626=_0xed9ea5;allProjects=_0x317298[_0x26b626(0x3a9)][_0x26b626(0x3a4)](_0x5b0161=>({'id':_0x5b0161['id'],..._0x5b0161['data']()})),renderProjects();},_0x4a4599=>{const _0x411844=_0xed9ea5;console[_0x411844(0x5cf)](_0x411844(0x16b),_0x4a4599),showMessage(_0x411844(0x1c0));});}async function renderProjects(){const _0x36b435=_0x5e6fd0,_0x2b7e78=document['getElementById'](_0x36b435(0x3f7))[_0x36b435(0x412)]['toLowerCase'](),_0x25ee57=document[_0x36b435(0x62a)]('project-sort-select')[_0x36b435(0x412)];let _0x19ef9d=allProjects[_0x36b435(0x2e2)](_0x2f4e6e=>_0x2f4e6e[_0x36b435(0x609)][_0x36b435(0x306)]()[_0x36b435(0x33d)](_0x2b7e78));_0x19ef9d[_0x36b435(0x8c)]((_0x5660ff,_0x559470)=>{const _0x4a1a16=_0x36b435;switch(_0x25ee57){case'name_asc':return _0x5660ff['projectName'][_0x4a1a16(0x365)](_0x559470[_0x4a1a16(0x609)],'th');case'name_desc':return _0x559470[_0x4a1a16(0x609)]['localeCompare'](_0x5660ff[_0x4a1a16(0x609)],'th');case _0x4a1a16(0x5e7):return new Date(_0x5660ff['createdAt'])-new Date(_0x559470['createdAt']);case _0x4a1a16(0x165):default:return new Date(_0x559470[_0x4a1a16(0x1b6)])-new Date(_0x5660ff[_0x4a1a16(0x1b6)]);}});const _0x33a9f1={};await Promise[_0x36b435(0x539)](_0x19ef9d[_0x36b435(0x3a4)](async _0x21eae5=>{const _0x3b49db=_0x36b435,_0x3c4c27=query(collection(db,_0x3b49db(0x3c0)+appId+_0x3b49db(0x3d8)),where(_0x3b49db(0x8e),'==',_0x21eae5['id'])),_0x26109e=await getDocs(_0x3c4c27);_0x33a9f1[_0x21eae5['id']]=_0x26109e['size'];}));let _0x4395af='';starredQuizzes[_0x36b435(0x15b)]>0x0&&(_0x4395af+=_0x36b435(0x492)+starredQuizzes[_0x36b435(0x15b)]+_0x36b435(0x23e)),_0x19ef9d[_0x36b435(0x5c5)](_0x578894=>{const _0x1846e2=_0x36b435,_0x4646aa=_0x33a9f1[_0x578894['id']]??0x0;_0x4395af+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22'+_0x578894['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>'+_0x578894[_0x1846e2(0x609)]+_0x1846e2(0xc4)+new Date(_0x578894[_0x1846e2(0x1b6)])['toLocaleDateString'](_0x1846e2(0x1e3))+_0x1846e2(0x126)+_0x4646aa+_0x1846e2(0x198)+_0x578894['id']+'\x22\x20data-name=\x22'+_0x578894[_0x1846e2(0x609)]+_0x1846e2(0x63e);}),projectList[_0x36b435(0x2ee)]=_0x4395af,noProjectsMsg['classList'][_0x36b435(0x39d)](_0x36b435(0x20a),_0x4395af['length']>0x0);}document['getElementById'](_0x5e6fd0(0x518))[_0x5e6fd0(0x199)](_0x5e6fd0(0x15d),async()=>{const _0x3dc1c9=_0x5e6fd0,_0x1efccf=document['getElementById'](_0x3dc1c9(0x54c)),_0x131da3=_0x1efccf[_0x3dc1c9(0x412)][_0x3dc1c9(0x2fc)]();if(!_0x131da3){showMessage(_0x3dc1c9(0x1bb));return;}try{const _0x423a53=doc(collection(db,_0x3dc1c9(0x3c0)+appId+'/public/data/projects'));await setDoc(_0x423a53,{'projectName':_0x131da3,'students':[],'settings':{'resultsDisplay':_0x3dc1c9(0x5e8),'shuffleSetting':_0x3dc1c9(0x36c),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3dc1c9(0x36c),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x3dc1c9(0x28d)]()}),_0x1efccf[_0x3dc1c9(0x412)]='',createProjectModal['classList']['add'](_0x3dc1c9(0x20a)),showMessage(_0x3dc1c9(0x595));}catch(_0x5d58d1){console[_0x3dc1c9(0x5cf)](_0x3dc1c9(0x37e),_0x5d58d1),showMessage(_0x3dc1c9(0x2c5));}}),projectList[_0x5e6fd0(0x199)](_0x5e6fd0(0x15d),async _0x2baa94=>{const _0x43655f=_0x5e6fd0,_0x48acef=_0x2baa94[_0x43655f(0x180)][_0x43655f(0xc3)](_0x43655f(0x175)),_0x27efe6=_0x2baa94['target'][_0x43655f(0xc3)]('.delete-project-btn');if(_0x48acef){const _0x5c281f=_0x48acef[_0x43655f(0xb8)]['id'];_0x5c281f===_0x43655f(0x3c8)?showStarredProjectView():(currentProjectId=_0x5c281f,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x27efe6){const _0x5121e8=_0x27efe6[_0x43655f(0xb8)]['id'],_0x513430=_0x27efe6[_0x43655f(0xb8)][_0x43655f(0x1c3)];showConfirmation(_0x43655f(0x443)+_0x513430+_0x43655f(0x2db),()=>handleDeleteProject(_0x5121e8));}}});function showStarredProjectView(){const _0x756f59=_0x5e6fd0;currentProjectId=_0x756f59(0x343),currentProjectData=null,projectTitle[_0x756f59(0x31f)]=_0x756f59(0x41f),projectIdDisplay[_0x756f59(0x31f)]=_0x756f59(0x3fc),showView(_0x756f59(0x392)),manageTab[_0x756f59(0x48f)][_0x756f59(0x462)](_0x756f59(0x20a)),leaderboardTab[_0x756f59(0x48f)][_0x756f59(0x462)](_0x756f59(0x20a)),switchProjectTab(_0x756f59(0x2c0)),renderQuizzes();}async function loadProjectDetails(_0x171c5b){const _0x38a6e3=_0x5e6fd0,_0x575179=doc(db,_0x38a6e3(0x3c0)+appId+_0x38a6e3(0x162),_0x171c5b),_0x294244=await getDoc(_0x575179);if(_0x294244[_0x38a6e3(0x5a0)]()){manageTab[_0x38a6e3(0x48f)]['remove'](_0x38a6e3(0x20a)),leaderboardTab['classList']['remove'](_0x38a6e3(0x20a)),currentProjectData=_0x294244[_0x38a6e3(0x386)](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay[_0x38a6e3(0x31f)]=_0x171c5b;const _0x1ea25a=currentProjectData[_0x38a6e3(0x3de)]||{};document[_0x38a6e3(0x62a)](_0x38a6e3(0x5ed))[_0x38a6e3(0x412)]=_0x1ea25a[_0x38a6e3(0x21a)]||0x5,document[_0x38a6e3(0x62a)](_0x38a6e3(0x131))[_0x38a6e3(0x412)]=_0x1ea25a[_0x38a6e3(0x4cb)]||0x4,document['getElementById']('passing-score-input')[_0x38a6e3(0x412)]=_0x1ea25a[_0x38a6e3(0x390)]||Math[_0x38a6e3(0x5ac)]((_0x1ea25a[_0x38a6e3(0x21a)]||0x5)/0x2),document[_0x38a6e3(0x62a)](_0x38a6e3(0x150))[_0x38a6e3(0x4ae)]=_0x1ea25a[_0x38a6e3(0x21a)]||0x5,document[_0x38a6e3(0x62a)](_0x38a6e3(0x46a))[_0x38a6e3(0x412)]=_0x1ea25a['resultsDisplay']||'show_results_and_answers',document[_0x38a6e3(0x62a)]('shuffle-setting-select')[_0x38a6e3(0x412)]=_0x1ea25a[_0x38a6e3(0x2a2)]||_0x38a6e3(0x36c);const _0x227eb0=_0x1ea25a[_0x38a6e3(0x5b6)]||_0x38a6e3(0x36c),_0x27347c=_0x1ea25a[_0x38a6e3(0x2cb)]||0xa,_0x4e7f97=document[_0x38a6e3(0x62a)](_0x38a6e3(0x388)),_0x579b6b=document[_0x38a6e3(0x62a)](_0x38a6e3(0x397)),_0x485c4a=document[_0x38a6e3(0x62a)](_0x38a6e3(0x2a8));_0x4e7f97[_0x38a6e3(0x412)]=_0x227eb0,_0x485c4a[_0x38a6e3(0x412)]=_0x27347c;_0x227eb0===_0x38a6e3(0x36c)?_0x579b6b[_0x38a6e3(0x48f)][_0x38a6e3(0x462)](_0x38a6e3(0x20a)):_0x579b6b[_0x38a6e3(0x48f)][_0x38a6e3(0x2ba)](_0x38a6e3(0x20a));_0x4e7f97[_0x38a6e3(0x563)](new Event(_0x38a6e3(0x3d7)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x171c5b),listenForProjectQuizzes(_0x171c5b),listenForStudentProfiles(_0x171c5b);}else showMessage('ไม่พบโปรเจค'),showView(_0x38a6e3(0x2ce));}async function handleDeleteProject(_0x2e294e){const _0x3fb368=_0x5e6fd0;try{const _0x370a15=writeBatch(db),_0x1ad048=collection(db,_0x3fb368(0x3c0)+appId+_0x3fb368(0x3d8)),_0x53f94c=query(_0x1ad048,where(_0x3fb368(0x8e),'==',_0x2e294e)),_0x13cb0c=await getDocs(_0x53f94c);for(const _0x3184d6 of _0x13cb0c['docs']){const _0x565e55=collection(db,_0x3fb368(0x3c0)+appId+_0x3fb368(0x352)+_0x3184d6['id']+'/submissions'),_0x291972=await getDocs(_0x565e55);_0x291972[_0x3fb368(0x5c5)](_0x3a0383=>{const _0x3c6e77=_0x3fb368;_0x370a15[_0x3c6e77(0x484)](_0x3a0383[_0x3c6e77(0x27e)]);}),_0x370a15[_0x3fb368(0x484)](_0x3184d6[_0x3fb368(0x27e)]);}const _0x521959=collection(db,_0x3fb368(0x3c0)+appId+_0x3fb368(0x495)+_0x2e294e+_0x3fb368(0x509)),_0x1f0faf=await getDocs(_0x521959);_0x1f0faf['forEach'](_0x26d106=>{const _0x588a6a=_0x3fb368;_0x370a15[_0x588a6a(0x484)](_0x26d106[_0x588a6a(0x27e)]);});const _0x412e26=doc(db,_0x3fb368(0x3c0)+appId+'/public/data/projects',_0x2e294e);_0x370a15[_0x3fb368(0x484)](_0x412e26),await _0x370a15['commit'](),showMessage(_0x3fb368(0xc1)),showView(_0x3fb368(0x2ce));}catch(_0x59593c){console[_0x3fb368(0x5cf)]('Error\x20deleting\x20project:',_0x59593c),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x436))[_0x5e6fd0(0x199)]('click',async()=>{const _0x29220a=_0x5e6fd0;if(!currentProjectId)return;const _0x4c12a3={'defaultNumQuestions':parseInt(document[_0x29220a(0x62a)](_0x29220a(0x5ed))['value']),'defaultNumChoices':parseInt(document[_0x29220a(0x62a)](_0x29220a(0x131))[_0x29220a(0x412)]),'defaultPassingScore':parseInt(document[_0x29220a(0x62a)](_0x29220a(0x150))[_0x29220a(0x412)]),'resultsDisplay':document['getElementById']('results-display-select')[_0x29220a(0x412)],'shuffleSetting':document['getElementById'](_0x29220a(0x5bc))[_0x29220a(0x412)],'timerMode':document['getElementById']('timer-mode-select')[_0x29220a(0x412)],'timerDuration':parseInt(document[_0x29220a(0x62a)](_0x29220a(0x2a8))[_0x29220a(0x412)])};try{const _0xce5497=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0xce5497,{'settings':_0x4c12a3}),showMessage(_0x29220a(0x603));}catch(_0x226c60){console[_0x29220a(0x5cf)](_0x29220a(0x96),_0x226c60),showMessage(_0x29220a(0x2e5));}});function listenForStudents(_0x5e23a1){const _0x379e1f=_0x5e6fd0,_0x495f3e=doc(db,_0x379e1f(0x3c0)+appId+_0x379e1f(0x162),_0x5e23a1);unsubscribeStudentsListener=onSnapshot(_0x495f3e,_0x738a8=>{const _0x4cbac5=_0x379e1f;if(_0x738a8[_0x4cbac5(0x5a0)]()){const _0x487e90=_0x738a8['data']();currentProjectData=_0x487e90,renderStudentList(_0x487e90[_0x4cbac5(0x12f)]||[]);}});}function renderStudentList(_0x1d7fd7){const _0x4ef723=_0x5e6fd0,_0x1269c9=document[_0x4ef723(0x62a)]('delete-all-students-btn');_0x1d7fd7[_0x4ef723(0x15b)]===0x0?(studentList['innerHTML']=_0x4ef723(0x28b),_0x1269c9[_0x4ef723(0x48f)][_0x4ef723(0x462)](_0x4ef723(0x20a))):(studentList[_0x4ef723(0x2ee)]=_0x1d7fd7[_0x4ef723(0x3a4)](_0x589145=>_0x4ef723(0x3e4)+_0x589145+_0x4ef723(0x120)+_0x589145+_0x4ef723(0x12b))[_0x4ef723(0x1b3)](''),_0x1269c9['classList'][_0x4ef723(0x2ba)](_0x4ef723(0x20a)));}document['getElementById']('add-student-btn')['addEventListener'](_0x5e6fd0(0x15d),async()=>{const _0x27d198=_0x5e6fd0;if(!currentProjectId)return;const _0xe023a9=document[_0x27d198(0x62a)](_0x27d198(0x1a9)),_0x46f4f1=_0xe023a9[_0x27d198(0x412)][_0x27d198(0x2fc)]();if(!_0x46f4f1){showMessage(_0x27d198(0x1cc));return;}const _0xf8c8c3=_0x46f4f1[_0x27d198(0x38d)]('\x0a')['map'](_0x363c85=>_0x363c85[_0x27d198(0x2fc)]())[_0x27d198(0x2e2)](_0x4a2b18=>_0x4a2b18);if(_0xf8c8c3[_0x27d198(0x15b)]===0x0)return;try{const _0xd96a01=doc(db,_0x27d198(0x3c0)+appId+'/public/data/projects',currentProjectId),_0x3d5316=await getDoc(_0xd96a01);if(_0x3d5316[_0x27d198(0x5a0)]()){const _0x196bd9=_0x3d5316[_0x27d198(0x386)]()[_0x27d198(0x12f)]||[],_0x42af69=[...new Set([..._0x196bd9,..._0xf8c8c3])];await updateDoc(_0xd96a01,{'students':_0x42af69}),_0xe023a9[_0x27d198(0x412)]='';}}catch(_0x47a29c){console[_0x27d198(0x5cf)](_0x27d198(0x1ca),_0x47a29c),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});function handleDeleteStudent(_0x4fc7e6){const _0x1f011d=_0x5e6fd0;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x4fc7e6+_0x1f011d(0x3ff),async()=>{const _0x3d26b6=_0x1f011d;if(!currentProjectId||!currentProjectData)return;const _0x31275a=currentProjectData['students'][_0x3d26b6(0x2e2)](_0xe8ac25=>_0xe8ac25!==_0x4fc7e6);try{const _0x38ea60=doc(db,_0x3d26b6(0x3c0)+appId+_0x3d26b6(0x162),currentProjectId),_0x460580=doc(db,'artifacts/'+appId+_0x3d26b6(0x495)+currentProjectId+_0x3d26b6(0x509),_0x4fc7e6),_0x579a30=writeBatch(db);_0x579a30[_0x3d26b6(0x27c)](_0x38ea60,{'students':_0x31275a}),_0x579a30['delete'](_0x460580),await _0x579a30[_0x3d26b6(0x445)]();}catch(_0x5d235f){console['error'](_0x3d26b6(0x3af),_0x5d235f),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x1d1291=_0x5e6fd0;showConfirmation(_0x1d1291(0x90),async()=>{const _0x4bb953=_0x1d1291;if(!currentProjectId)return;try{const _0x579ce5=doc(db,_0x4bb953(0x3c0)+appId+_0x4bb953(0x162),currentProjectId),_0x180c6f=collection(db,_0x4bb953(0x3c0)+appId+_0x4bb953(0x495)+currentProjectId+'/studentProfiles'),_0x4da21d=await getDocs(_0x180c6f),_0x4b5689=writeBatch(db);_0x4b5689['update'](_0x579ce5,{'students':[]}),_0x4da21d[_0x4bb953(0x5c5)](_0xd3e766=>_0x4b5689[_0x4bb953(0x484)](_0xd3e766[_0x4bb953(0x27e)])),await _0x4b5689['commit']();}catch(_0x3e1759){console[_0x4bb953(0x5cf)]('Error\x20deleting\x20all\x20students:',_0x3e1759),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x1dde12=_0x5e6fd0;if(!selectedFile){showMessage(_0x1dde12(0x337));return;}const _0x1125cb=document[_0x1dde12(0x62a)](_0x1dde12(0x207)),_0x4d95c9=document['getElementById'](_0x1dde12(0x138)),_0x49d29e=document[_0x1dde12(0x62a)](_0x1dde12(0x123)),_0x59d049=document[_0x1dde12(0x62a)]('generate-from-file-btn');_0x59d049[_0x1dde12(0x50f)]=!![],document[_0x1dde12(0x62a)](_0x1dde12(0x354))[_0x1dde12(0x48f)][_0x1dde12(0x2ba)](_0x1dde12(0x20a)),_0x49d29e['innerHTML']='',_0x1125cb[_0x1dde12(0x48f)][_0x1dde12(0x2ba)](_0x1dde12(0x20a)),_0x4d95c9[_0x1dde12(0x31f)]=_0x1dde12(0x4d4);const _0x4848d8=new FileReader();_0x4848d8[_0x1dde12(0x37a)](selectedFile),_0x4848d8[_0x1dde12(0x3b7)]=async()=>{const _0x121f31=_0x1dde12;try{const _0x29763f=_0x4848d8[_0x121f31(0x11a)][_0x121f31(0x38d)](',')[0x1],_0x514218=selectedFile['type'];await generateQuizFromFile(_0x514218,_0x29763f);}catch(_0x30e70e){console[_0x121f31(0x5cf)](_0x121f31(0x234),_0x30e70e),showMessage(_0x121f31(0x5e6)+_0x30e70e[_0x121f31(0x2c8)]),_0x1125cb[_0x121f31(0x48f)][_0x121f31(0x462)]('hidden');}finally{}},_0x4848d8[_0x1dde12(0x38b)]=_0x10a41f=>{const _0x59dcb6=_0x1dde12;console[_0x59dcb6(0x5cf)](_0x59dcb6(0x2f1),_0x10a41f),showMessage(_0x59dcb6(0x43f)),_0x1125cb['classList'][_0x59dcb6(0x462)](_0x59dcb6(0x20a)),_0x59d049['disabled']=![];};}function autoFormatMath(_0x5c3f48){const _0x12dc0f=_0x5e6fd0;if(typeof _0x5c3f48!==_0x12dc0f(0x298)||!_0x5c3f48)return _0x5c3f48;const _0x38979c=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x55eedc=_0x5c3f48[_0x12dc0f(0xa7)](_0x38979c,_0xa46375=>{const _0xbf45bb=_0x12dc0f;return'$'+_0xa46375[_0xbf45bb(0x2fc)]()+'$';});return _0x55eedc;}function sanitizeQuizData(_0x58c719){const _0x43cb04=_0x5e6fd0;if(!_0x58c719||!_0x58c719[_0x43cb04(0x286)])return _0x58c719;const _0x5d862e={'imes':_0x43cb04(0x292),'div':_0x43cb04(0x17a)},_0x1aab06=_0x465592=>{const _0x3e9dfc=_0x43cb04;if(typeof _0x465592!==_0x3e9dfc(0x298))return _0x465592;let _0x271585=_0x465592;for(const [_0x354556,_0x5e862c]of Object[_0x3e9dfc(0x5f1)](_0x5d862e)){const _0x5564df=new RegExp('\x5cb'+_0x354556+'\x5cb','g');_0x271585=_0x271585[_0x3e9dfc(0xa7)](_0x5564df,_0x5e862c);}return _0x271585=_0x271585['replace'](/\\\//g,_0x3e9dfc(0x17a)),_0x271585=_0x271585['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x3e9dfc(0x17a))[_0x3e9dfc(0xa7)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x3e9dfc(0x292))[_0x3e9dfc(0xa7)](/÷/g,'\x5cdiv')[_0x3e9dfc(0xa7)](/×/g,_0x3e9dfc(0x292)),_0x271585=_0x271585[_0x3e9dfc(0xa7)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x271585=autoFormatMath(_0x271585),_0x271585;};return _0x58c719['topic']&&(_0x58c719['topic']=_0x1aab06(_0x58c719['topic'])),_0x58c719[_0x43cb04(0x286)][_0x43cb04(0x5c5)](_0x4c5d23=>{const _0x5f19a2=_0x43cb04;_0x4c5d23[_0x5f19a2(0x375)]=_0x1aab06(_0x4c5d23[_0x5f19a2(0x375)]),_0x4c5d23[_0x5f19a2(0xf2)]&&(_0x4c5d23[_0x5f19a2(0xf2)]=_0x4c5d23[_0x5f19a2(0xf2)]['map'](_0x1aab06)),_0x4c5d23[_0x5f19a2(0x5d5)]&&(_0x4c5d23[_0x5f19a2(0x5d5)]=_0x1aab06(_0x4c5d23[_0x5f19a2(0x5d5)])),_0x4c5d23['stem']&&(_0x4c5d23[_0x5f19a2(0x541)]=_0x1aab06(_0x4c5d23['stem'])),_0x4c5d23['correctResponse']&&(_0x4c5d23[_0x5f19a2(0x50b)]=_0x1aab06(_0x4c5d23[_0x5f19a2(0x50b)])),_0x4c5d23['allResponses']&&(_0x4c5d23['allResponses']=_0x4c5d23['allResponses'][_0x5f19a2(0x3a4)](_0x1aab06));}),_0x58c719;}const simpleMathPrompt=_0x5e6fd0(0x18f);async function handleGenerateFromLink(){const _0x128045=_0x5e6fd0,_0x46c370=document['getElementById']('link-url-input'),_0x43455a=document[_0x128045(0x62a)]('link-topic-input'),_0x11b8dd=_0x46c370[_0x128045(0x412)][_0x128045(0x2fc)](),_0xe54f8b=_0x43455a[_0x128045(0x412)][_0x128045(0x2fc)]();if(!_0x11b8dd){showMessage(_0x128045(0x5be));return;}const _0x5c304f=document[_0x128045(0x62a)](_0x128045(0x207)),_0x10f38b=document[_0x128045(0x62a)](_0x128045(0x138)),_0x22d5a2=document[_0x128045(0x62a)](_0x128045(0x123)),_0xf3db27=document[_0x128045(0x62a)]('generate-from-link-btn');document[_0x128045(0x62a)](_0x128045(0x354))[_0x128045(0x48f)]['remove'](_0x128045(0x20a)),_0x22d5a2[_0x128045(0x2ee)]='',_0x5c304f[_0x128045(0x48f)][_0x128045(0x2ba)]('hidden'),_0x10f38b[_0x128045(0x31f)]=_0x128045(0x52b),_0xf3db27[_0x128045(0x50f)]=!![];try{const _0x280756=_0x128045(0x18e)+encodeURIComponent(_0x11b8dd),_0x229c48=await fetch(_0x280756);if(!_0x229c48['ok'])throw new Error(_0x128045(0x8a)+_0x229c48[_0x128045(0x143)]+')');const _0x4a0f87=await _0x229c48[_0x128045(0x2dd)](),_0x3a5d3e=extractTextFromHtml(_0x4a0f87);if(!_0x3a5d3e||_0x3a5d3e['length']<0x64)throw new Error(_0x128045(0x148));await generateQuiz(_0xe54f8b,_0x3a5d3e);}catch(_0x55dd53){console[_0x128045(0x5cf)]('Error\x20generating\x20from\x20link:',_0x55dd53),showMessage(_0x128045(0x1d7)+_0x55dd53[_0x128045(0x2c8)]),_0x22d5a2['innerHTML']=_0x128045(0x24d);}finally{_0x5c304f[_0x128045(0x48f)][_0x128045(0x462)](_0x128045(0x20a)),_0xf3db27[_0x128045(0x50f)]=![];}}function extractTextFromHtml(_0x44e62a){const _0x480259=_0x5e6fd0,_0x2e5205=new DOMParser()[_0x480259(0x2e1)](_0x44e62a,'text/html');return _0x2e5205[_0x480259(0x447)](_0x480259(0xb9))[_0x480259(0x5c5)](_0x10f777=>_0x10f777[_0x480259(0x2ba)]()),_0x2e5205['body'][_0x480259(0x31f)]||'';}document[_0x5e6fd0(0x62a)](_0x5e6fd0(0x5f6))[_0x5e6fd0(0x199)](_0x5e6fd0(0x15d),()=>{const _0x1d2124=_0x5e6fd0,_0x514e5d=document[_0x1d2124(0x62a)](_0x1d2124(0xd7))[_0x1d2124(0x412)][_0x1d2124(0x2fc)]();generateQuiz(_0x514e5d,null);});async function generateQuiz(_0x4c0e82,_0x400d3b,_0x471143=null){const _0x427d48=_0x5e6fd0,_0xcb884=document[_0x427d48(0x62a)](_0x427d48(0x532))[_0x427d48(0x473)],_0x31d807=document['getElementById']('quiz-type-select')[_0x427d48(0x412)],_0x2643f1=document[_0x427d48(0x62a)](_0x427d48(0x5ed))['value'],_0x36ea07=document[_0x427d48(0x62a)](_0x427d48(0x131))[_0x427d48(0x412)],_0x3bbe6a=document[_0x427d48(0x62a)]('force-math-checkbox')[_0x427d48(0x473)],_0x8a1277=_0x3bbe6a?'':'คณิตศาสตร์',_0x4533ab=document[_0x427d48(0x62a)](_0x427d48(0x433)),_0x2ca1d4=_0x4533ab['value'];let _0x1bc939='';_0x2ca1d4!==_0x427d48(0x344)&&(_0x1bc939=_0x427d48(0x4e7)+_0x2ca1d4+'\x22');const _0xddd1c2=document[_0x427d48(0x62a)](_0x427d48(0x5dd)),_0x57c4d3=_0xddd1c2[_0x427d48(0x412)];let _0x8d4d8b='';_0x57c4d3!=='mixed'&&(_0x8d4d8b='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x57c4d3+_0x427d48(0x617));const _0x41a876=document['querySelectorAll'](_0x427d48(0x438)),_0x2e33ce=Array[_0x427d48(0x26a)](_0x41a876)['map'](_0x47947e=>_0x47947e[_0x427d48(0x412)]);let _0x234ad7='';_0x2e33ce['length']>0x0&&(_0x234ad7=_0x427d48(0x3a0)+_0x2e33ce[_0x427d48(0x1b3)](',\x20')+_0x427d48(0x17f));let _0x113d1b='',_0x3ae742='',_0x30565d,_0x48c28f=_0x427d48(0x38f)+_0x4c0e82+'\x22';if(!_0x4c0e82&&_0x400d3b)_0x48c28f=_0x427d48(0x41d);else!_0x4c0e82&&!_0x400d3b&&(_0x48c28f=_0x427d48(0x2c9));const _0x5b6350={'type':_0x427d48(0xe6),'properties':{'questionText':{'type':_0x427d48(0x253)},'options':{'type':_0x427d48(0x1f7),'items':{'type':_0x427d48(0x253)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x427d48(0x253)},'imageCode':{'type':_0x427d48(0x253)}},'required':[_0x427d48(0x375),_0x427d48(0xf2),_0x427d48(0x30e),_0x427d48(0x5d5)]},_0x5dd82b={'type':_0x427d48(0xe6),'properties':{'questionText':{'type':_0x427d48(0x253)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x427d48(0x253)},'imageCode':{'type':_0x427d48(0x253)}},'required':[_0x427d48(0x375),_0x427d48(0x604),_0x427d48(0x5d5)]},_0x52880b={'type':_0x427d48(0xe6),'properties':{'questionText':{'type':_0x427d48(0x253)},'questionType':{'type':'STRING','enum':[_0x427d48(0x250),_0x427d48(0x514)]},'options':{'type':_0x427d48(0x1f7),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x427d48(0x56b)},'idealAnswer':{'type':_0x427d48(0x253)},'explanation':{'type':_0x427d48(0x253)},'imageCode':{'type':_0x427d48(0x253)}},'required':['questionText',_0x427d48(0x2fb),'explanation']},_0x3a4f58={'type':'OBJECT','properties':{'questionText':{'type':_0x427d48(0x253)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x427d48(0x253)},'imageCode':{'type':'STRING'}},'required':[_0x427d48(0x375),_0x427d48(0x196),_0x427d48(0x5d5)]},_0x2c84b4={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x427d48(0x2a1)]},'stem':{'type':_0x427d48(0x253)},'correctResponse':{'type':_0x427d48(0x253)},'allResponses':{'type':_0x427d48(0x1f7),'items':{'type':_0x427d48(0x253)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x427d48(0x2fb),_0x427d48(0x541),_0x427d48(0x50b),_0x427d48(0x17e),_0x427d48(0x5d5)]};let _0x36357d;if(_0x471143!==null){const _0x1c89ae=currentQuizData[_0x427d48(0x286)][_0x471143][_0x427d48(0x2fb)],_0x451cf9=_0xcb884?_0x427d48(0x220):'';_0x113d1b=_0x427d48(0xc5)+_0x48c28f+'\x20'+_0x234ad7+'\x20'+_0x1bc939+_0x427d48(0x638)+_0x451cf9+'\x20'+simpleMathPrompt;if(_0x1c89ae===_0x427d48(0x250))_0x30565d=_0x5b6350;else{if(_0x1c89ae==='matching_item')_0x30565d={'type':'OBJECT','properties':{'questionType':{'type':_0x427d48(0x253),'enum':[_0x427d48(0x2a1)]},'stem':{'type':_0x427d48(0x253)},'correctResponse':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x427d48(0x253)}},'required':[_0x427d48(0x2fb),_0x427d48(0x541),'correctResponse',_0x427d48(0x5d5)]};else _0x30565d=_0x5dd82b;}_0x36357d=_0x30565d;}else{const _0x11bd1e=_0xcb884?_0x427d48(0x3a7):'';switch(_0x31d807){case'multiple_choice':_0x113d1b='สร้างแบบทดสอบปรนัย'+_0x8a1277+'\x20'+_0x2643f1+_0x427d48(0x2b3)+_0x48c28f+'\x20'+_0x234ad7+'\x20'+_0x1bc939+'\x20'+_0x8d4d8b+'.\x20แต่ละข้อมี\x20'+_0x36ea07+_0x427d48(0x301)+_0x11bd1e+'\x20'+simpleMathPrompt,_0x30565d=_0x5b6350;break;case'fill_in_with_choices':_0x113d1b=_0x427d48(0x91)+_0x8a1277+'\x20'+_0x2643f1+_0x427d48(0x2b3)+_0x48c28f+'\x20'+_0x234ad7+'\x20'+_0x1bc939+'\x20'+_0x8d4d8b+_0x427d48(0x463)+_0x36ea07+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x11bd1e+'\x20'+simpleMathPrompt,_0x30565d=_0x5b6350;break;case _0x427d48(0x36e):_0x113d1b=_0x427d48(0x91)+_0x8a1277+'\x20'+_0x2643f1+_0x427d48(0x2b3)+_0x48c28f+'\x20'+_0x234ad7+'\x20'+_0x1bc939+'\x20'+_0x8d4d8b+_0x427d48(0x346)+_0x11bd1e+'\x20'+simpleMathPrompt,_0x30565d=_0x5dd82b;break;case _0x427d48(0x4db):_0x113d1b=_0x427d48(0x3b1)+_0x8a1277+'\x20'+_0x2643f1+'\x20ข้อ\x20'+_0x48c28f+'\x20'+_0x234ad7+'\x20'+_0x1bc939+'\x20'+_0x8d4d8b+_0x427d48(0x534)+_0x36ea07+_0x427d48(0x237)+_0x11bd1e+'\x20'+simpleMathPrompt+'.',_0x30565d=_0x52880b;break;case _0x427d48(0x278):_0x113d1b='สร้างคำถามแบบใช่/ไม่ใช่'+_0x8a1277+'\x20'+_0x2643f1+_0x427d48(0x2b3)+_0x48c28f+'\x20'+_0x234ad7+'\x20'+_0x1bc939+'\x20'+_0x8d4d8b+_0x427d48(0x54a)+_0x11bd1e+'\x20'+simpleMathPrompt,_0x30565d=_0x3a4f58;break;case _0x427d48(0x501):_0x113d1b=_0x427d48(0x4f8)+_0x8a1277+'\x20'+_0x2643f1+_0x427d48(0x516)+_0x48c28f+'\x20'+_0x234ad7+'\x20'+_0x1bc939+'\x20'+_0x8d4d8b+_0x427d48(0x128)+_0x11bd1e+'\x20'+simpleMathPrompt,_0x30565d=_0x2c84b4;break;}_0x36357d={'type':_0x427d48(0xe6),'properties':{'topic':{'type':_0x427d48(0x253)},'questions':{'type':_0x427d48(0x1f7),'items':_0x30565d}},'required':[_0x427d48(0x10e),_0x427d48(0x286)]};}return _0x400d3b?(_0x113d1b='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x400d3b+'\x22,\x20'+_0x113d1b,_0x3ae742='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x3ae742=_0x427d48(0x216),handleApiCall(_0x113d1b,_0x3ae742,_0x36357d,_0x471143);}async function generateQuizFromFile(_0x205547,_0xee7500){const _0x572c4d=_0x5e6fd0,_0x4fb85a=document['getElementById']('file-topic-input')[_0x572c4d(0x412)][_0x572c4d(0x2fc)](),_0x5a6db9=document[_0x572c4d(0x62a)](_0x572c4d(0x157))['value'],_0x47c3ea=document[_0x572c4d(0x62a)](_0x572c4d(0x5ed))[_0x572c4d(0x412)],_0x591559=document['getElementById'](_0x572c4d(0x131))[_0x572c4d(0x412)],_0x2f2f47=document[_0x572c4d(0x62a)](_0x572c4d(0x532))['checked'],_0x5ea254=document['getElementById'](_0x572c4d(0x255))[_0x572c4d(0x473)],_0x5b3de6=_0x5ea254?'':'คณิตศาสตร์';let _0xddb3ea='',_0x4e85ef,_0x21941a=_0x572c4d(0x38f)+_0x4fb85a+'\x22';!_0x4fb85a&&(_0x21941a='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x54df64=_0x2f2f47?_0x572c4d(0x3a7):'';switch(_0x5a6db9){case _0x572c4d(0x250):_0xddb3ea=_0x572c4d(0x266)+_0x5b3de6+'\x20'+_0x47c3ea+'\x20ข้อ\x20'+_0x21941a+_0x572c4d(0x45e)+_0x591559+_0x572c4d(0x301)+_0x54df64+'\x20'+simpleMathPrompt,_0x4e85ef={'type':_0x572c4d(0xe6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x572c4d(0x1f7),'items':{'type':_0x572c4d(0x253)}},'correctAnswerIndex':{'type':_0x572c4d(0x56b)},'explanation':{'type':_0x572c4d(0x253)},'imageCode':{'type':_0x572c4d(0x253)}},'required':[_0x572c4d(0x375),_0x572c4d(0xf2),'correctAnswerIndex','explanation']};break;case _0x572c4d(0x30f):_0xddb3ea=_0x572c4d(0x91)+_0x5b3de6+'\x20'+_0x47c3ea+_0x572c4d(0x2b3)+_0x21941a+_0x572c4d(0x463)+_0x591559+_0x572c4d(0x3ed)+_0x54df64+'\x20'+simpleMathPrompt,_0x4e85ef={'type':_0x572c4d(0xe6),'properties':{'questionText':{'type':_0x572c4d(0x253)},'options':{'type':'ARRAY','items':{'type':_0x572c4d(0x253)}},'correctAnswerIndex':{'type':_0x572c4d(0x56b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x572c4d(0x253)}},'required':['questionText',_0x572c4d(0xf2),_0x572c4d(0x30e),_0x572c4d(0x5d5)]};break;case'fill_in_no_choices':_0xddb3ea=_0x572c4d(0x91)+_0x5b3de6+'\x20'+_0x47c3ea+_0x572c4d(0x2b3)+_0x21941a+_0x572c4d(0x346)+_0x54df64+'\x20'+simpleMathPrompt,_0x4e85ef={'type':_0x572c4d(0xe6),'properties':{'questionText':{'type':_0x572c4d(0x253)},'idealAnswer':{'type':_0x572c4d(0x253)},'explanation':{'type':_0x572c4d(0x253)},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer','explanation']};break;case _0x572c4d(0x4db):_0xddb3ea=_0x572c4d(0x3b1)+_0x5b3de6+'\x20'+_0x47c3ea+_0x572c4d(0x2b3)+_0x21941a+_0x572c4d(0x530)+_0x591559+'\x20ตัวเลือก.\x20'+_0x54df64+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x4e85ef={'type':_0x572c4d(0xe6),'properties':{'questionText':{'type':_0x572c4d(0x253)},'questionType':{'type':_0x572c4d(0x253),'enum':[_0x572c4d(0x250),_0x572c4d(0x514)]},'options':{'type':_0x572c4d(0x1f7),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x572c4d(0x56b)},'idealAnswer':{'type':_0x572c4d(0x253)},'explanation':{'type':_0x572c4d(0x253)},'imageCode':{'type':_0x572c4d(0x253)}},'required':[_0x572c4d(0x375),_0x572c4d(0x2fb),_0x572c4d(0x5d5)]};break;case _0x572c4d(0x278):_0xddb3ea=_0x572c4d(0x52f)+_0x5b3de6+'\x20'+_0x47c3ea+_0x572c4d(0x2b3)+_0x21941a+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x54df64+'\x20'+simpleMathPrompt,_0x4e85ef={'type':_0x572c4d(0xe6),'properties':{'questionText':{'type':_0x572c4d(0x253)},'correctAnswer':{'type':_0x572c4d(0xe9)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x572c4d(0x253)}},'required':[_0x572c4d(0x375),_0x572c4d(0x196),_0x572c4d(0x5d5)]};break;case _0x572c4d(0x501):_0xddb3ea='สร้างชุดคำถามจับคู่'+_0x5b3de6+'\x20'+_0x47c3ea+'\x20คู่\x20'+_0x21941a+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x47c3ea+_0x572c4d(0x61b)+_0x54df64+'\x20'+simpleMathPrompt,_0x4e85ef={'type':_0x572c4d(0xe6),'properties':{'questionType':{'type':_0x572c4d(0x253),'enum':[_0x572c4d(0x2a1)]},'stem':{'type':_0x572c4d(0x253)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x572c4d(0x1f7),'items':{'type':_0x572c4d(0x253)}},'explanation':{'type':_0x572c4d(0x253)},'imageCode':{'type':_0x572c4d(0x253)}},'required':[_0x572c4d(0x2fb),_0x572c4d(0x541),'correctResponse','allResponses','explanation']};break;}const _0xf2806={'type':_0x572c4d(0xe6),'properties':{'topic':{'type':_0x572c4d(0x253)},'questions':{'type':_0x572c4d(0x1f7),'items':_0x4e85ef}},'required':[_0x572c4d(0x10e),_0x572c4d(0x286)]},_0x152e5c=_0x572c4d(0xb5)+_0xddb3ea,_0x4b4b75={'contents':[{'parts':[{'text':_0x152e5c},{'inlineData':{'mimeType':_0x205547,'data':_0xee7500}}]}],'generationConfig':{'responseMimeType':_0x572c4d(0x557),'responseSchema':_0xf2806}};return handleApiCall(_0x4b4b75[_0x572c4d(0x3ab)][0x0][_0x572c4d(0x27a)],_0x572c4d(0x265),_0xf2806);}async function handleApiCall(_0x553457,_0x4994b7,_0x176b6b,_0xf775a4=null){const _0x465e21=_0x5e6fd0,_0x5cc9a5=document[_0x465e21(0x62a)](_0x465e21(0x354)),_0x4cdcc1=document[_0x465e21(0x62a)](_0x465e21(0x207)),_0x1e838d=document[_0x465e21(0x62a)](_0x465e21(0x138)),_0x6208a0=document[_0x465e21(0x62a)](_0x465e21(0x123));_0x5cc9a5[_0x465e21(0x48f)][_0x465e21(0x2ba)](_0x465e21(0x20a));_0xf775a4===null&&(_0x6208a0[_0x465e21(0x2ee)]='');_0x4cdcc1[_0x465e21(0x48f)][_0x465e21(0x2ba)](_0x465e21(0x20a)),_0x1e838d[_0x465e21(0x31f)]=_0x4994b7,document['getElementById'](_0x465e21(0x5f6))[_0x465e21(0x50f)]=!![],document[_0x465e21(0x62a)](_0x465e21(0x53f))['disabled']=!![],document['getElementById'](_0x465e21(0x8f))['disabled']=!![];try{const _0x2844f9={'responseMimeType':_0x465e21(0x557),'responseSchema':_0x176b6b},_0xc523d4=Array[_0x465e21(0x3dd)](_0x553457)?_0x553457:[{'text':_0x553457}],_0xf29017={'contents':[{'role':'user','parts':_0xc523d4}],'generationConfig':_0x2844f9},_0x1820fb=_0x465e21(0x4af),_0x12a39a=_0x465e21(0xcb)+_0x1820fb,_0x7aecf0=await fetch(_0x12a39a,{'method':_0x465e21(0x589),'headers':{'Content-Type':_0x465e21(0x557)},'body':JSON[_0x465e21(0x1d0)](_0xf29017)});if(!_0x7aecf0['ok'])throw new Error(_0x465e21(0x54b)+_0x7aecf0[_0x465e21(0x143)]);const _0x14b795=await _0x7aecf0['json']();if(_0x14b795[_0x465e21(0x193)]?.[0x0]?.['content']?.[_0x465e21(0x27a)]?.[0x0]){let _0x366dc8=_0x14b795['candidates'][0x0][_0x465e21(0x367)]['parts'][0x0][_0x465e21(0x2dd)],_0x2d5907;try{if(_0x366dc8[_0x465e21(0x2e3)](_0x465e21(0x2b6)))_0x366dc8=_0x366dc8[_0x465e21(0x14b)](0x7,_0x366dc8[_0x465e21(0x15b)]-0x3)[_0x465e21(0x2fc)]();else _0x366dc8[_0x465e21(0x2e3)](_0x465e21(0x480))&&(_0x366dc8=_0x366dc8[_0x465e21(0x14b)](0x3,_0x366dc8['length']-0x3)[_0x465e21(0x2fc)]());_0x2d5907=JSON[_0x465e21(0xc7)](_0x366dc8);}catch(_0x512478){console[_0x465e21(0x5cf)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x512478,_0x366dc8);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0xf775a4!==null){if(_0x2d5907[_0x465e21(0x2fb)]==='matching_item'){const _0x3c208d=currentQuizData[_0x465e21(0x286)][_0x465e21(0x3a4)](_0x3cade8=>_0x3cade8[_0x465e21(0x50b)]);_0x2d5907[_0x465e21(0x17e)]=_0x3c208d;const _0x482ba4=currentQuizData[_0x465e21(0x286)][_0xf775a4][_0x465e21(0x50b)],_0x332fa3=_0x3c208d[_0x465e21(0x573)](_0x482ba4);_0x332fa3>-0x1&&(_0x3c208d[_0x332fa3]=_0x2d5907['correctResponse']),currentQuizData[_0x465e21(0x286)]['forEach'](_0x1b139d=>{const _0x381f95=_0x465e21;if(_0x1b139d['questionType']===_0x381f95(0x2a1))_0x1b139d['allResponses']=_0x3c208d;});}currentQuizData['questions'][_0xf775a4]=_0x2d5907,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x2d5907;const _0x306eac=document[_0x465e21(0x62a)](_0x465e21(0x157))['value'];currentQuizData['quizType']=_0x306eac,currentQuizData['questions']&&currentQuizData['questions'][_0x465e21(0x5c5)](_0x56219a=>{const _0x219f9d=_0x465e21;if(!_0x56219a[_0x219f9d(0x2fb)]){if(_0x306eac===_0x219f9d(0x30f))_0x56219a[_0x219f9d(0x2fb)]=_0x219f9d(0x250);else _0x306eac==='fill_in_no_choices'?_0x56219a[_0x219f9d(0x2fb)]=_0x219f9d(0x514):_0x56219a['questionType']=_0x306eac;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x465e21(0x5cf)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON[_0x465e21(0x1d0)](_0x14b795));throw new Error(_0x465e21(0x3dc));}}catch(_0x5f1ffe){console[_0x465e21(0x5cf)](_0x465e21(0x227),_0x5f1ffe),showMessage(_0x465e21(0x529)),_0xf775a4===null&&(_0x6208a0[_0x465e21(0x2ee)]=_0x465e21(0x11e));}finally{_0x4cdcc1[_0x465e21(0x48f)][_0x465e21(0x462)](_0x465e21(0x20a)),document['getElementById'](_0x465e21(0x5f6))[_0x465e21(0x50f)]=![],document[_0x465e21(0x62a)]('generate-from-text-btn')[_0x465e21(0x50f)]=![],document[_0x465e21(0x62a)](_0x465e21(0x8f))[_0x465e21(0x50f)]=![];const _0x54dff3=document[_0x465e21(0x62a)](_0x465e21(0x19a));_0x54dff3&&(_0x54dff3[_0x465e21(0x50f)]=![]);}}function displayGeneratedQuiz(_0x5df716){const _0x5bf749=_0x5e6fd0,_0x322646=document[_0x5bf749(0x62a)](_0x5bf749(0x123));let _0x435302=_0x5bf749(0x36a)+_0x5df716[_0x5bf749(0x10e)]+'</h3>';_0x5df716[_0x5bf749(0x286)][_0x5bf749(0x5c5)]((_0x594518,_0x2e14d1)=>{const _0x3acb3e=_0x5bf749,_0x4572a9=_0x594518[_0x3acb3e(0x2fb)]||_0x5df716[_0x3acb3e(0x129)];_0x435302+=_0x3acb3e(0x369)+_0x2e14d1+_0x3acb3e(0x55b)+_0x2e14d1+_0x3acb3e(0x269)+_0x2e14d1+_0x3acb3e(0x4d6);switch(_0x4572a9){case _0x3acb3e(0x2a1):_0x435302+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2e14d1+'\x22>'+(_0x2e14d1+0x1)+'.\x20'+_0x594518['stem']+'</p>';_0x594518[_0x3acb3e(0x2d3)]&&(_0x435302+=_0x3acb3e(0x615)+_0x2e14d1+_0x3acb3e(0x40c)+_0x594518[_0x3acb3e(0x2d3)]+_0x3acb3e(0x4bb));_0x435302+=_0x3acb3e(0x49f)+_0x2e14d1+'\x22>'+_0x594518[_0x3acb3e(0x50b)]+_0x3acb3e(0x52c),_0x435302+=_0x3acb3e(0x5b4)+_0x2e14d1+'\x22>'+_0x594518[_0x3acb3e(0x5d5)]+_0x3acb3e(0x52c);break;case _0x3acb3e(0x514):_0x435302+=_0x3acb3e(0x545)+_0x2e14d1+'\x22>'+(_0x2e14d1+0x1)+'.\x20'+_0x594518['questionText']+'</p>';_0x594518[_0x3acb3e(0x2d3)]&&(_0x435302+='<div\x20id=\x22q-image-container-'+_0x2e14d1+_0x3acb3e(0x40c)+_0x594518[_0x3acb3e(0x2d3)]+_0x3acb3e(0x4bb));_0x435302+=_0x3acb3e(0x243)+_0x2e14d1+'\x22>'+_0x594518[_0x3acb3e(0x604)]+_0x3acb3e(0x52c),_0x435302+=_0x3acb3e(0x5b4)+_0x2e14d1+'\x22>'+_0x594518[_0x3acb3e(0x5d5)]+_0x3acb3e(0x52c);break;case'true_false':_0x435302+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2e14d1+'\x22>'+(_0x2e14d1+0x1)+'.\x20'+_0x594518[_0x3acb3e(0x375)]+_0x3acb3e(0x5b2);_0x594518[_0x3acb3e(0x2d3)]&&(_0x435302+=_0x3acb3e(0x615)+_0x2e14d1+_0x3acb3e(0x40c)+_0x594518['imageCode']+_0x3acb3e(0x4bb));_0x435302+=_0x3acb3e(0x3ad)+(_0x594518[_0x3acb3e(0x196)]===!![]?_0x3acb3e(0x182):'')+_0x3acb3e(0x5ae)+(_0x594518[_0x3acb3e(0x196)]===![]?_0x3acb3e(0x182):'')+_0x3acb3e(0x608),_0x435302+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2e14d1+'\x22>'+_0x594518[_0x3acb3e(0x5d5)]+_0x3acb3e(0x52c);break;case _0x3acb3e(0x5d4):case _0x3acb3e(0x250):default:_0x435302+=_0x3acb3e(0x545)+_0x2e14d1+'\x22>'+(_0x2e14d1+0x1)+'.\x20'+_0x594518[_0x3acb3e(0x375)]+'</p>';_0x594518[_0x3acb3e(0x2d3)]&&(_0x435302+='<div\x20id=\x22q-image-container-'+_0x2e14d1+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x594518[_0x3acb3e(0x2d3)]+'</div>');_0x435302+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x2e14d1+_0x3acb3e(0x50d)+_0x594518['options'][_0x3acb3e(0x3a4)]((_0x45928f,_0x4055ef)=>_0x3acb3e(0x3b4)+(_0x4055ef===_0x594518[_0x3acb3e(0x30e)]?_0x3acb3e(0x182):'')+'\x22>'+_0x45928f+_0x3acb3e(0xbc))[_0x3acb3e(0x1b3)]('')+_0x3acb3e(0x24c),_0x435302+=_0x3acb3e(0x5b4)+_0x2e14d1+'\x22>'+_0x594518[_0x3acb3e(0x5d5)]+'</span></div>';break;}_0x435302+=_0x3acb3e(0x4bb);}),_0x435302+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x322646[_0x5bf749(0x2ee)]=_0x435302,document[_0x5bf749(0x447)]('.edit-question-btn')[_0x5bf749(0x5c5)](_0x71d7cd=>_0x71d7cd['addEventListener'](_0x5bf749(0x15d),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x5bf749(0x5c5)](_0x4a109f=>_0x4a109f['addEventListener'](_0x5bf749(0x15d),handleRegenerateQuestion)),document[_0x5bf749(0x447)](_0x5bf749(0x184))[_0x5bf749(0x5c5)](_0x17c856=>_0x17c856[_0x5bf749(0x199)]('click',handleSaveToBank)),document['getElementById'](_0x5bf749(0x5e2))['addEventListener']('click',saveQuiz);if(window['MathJax'])window[_0x5bf749(0x1c1)][_0x5bf749(0x331)]([_0x322646]);}function handleRegenerateQuestion(_0x4c8583){const _0xb60082=_0x5e6fd0,_0x4709d8=_0x4c8583['currentTarget'][_0xb60082(0xb8)][_0xb60082(0x421)],_0x523493=currentQuizData[_0xb60082(0x10e)];showMessage(_0xb60082(0xb6)+(parseInt(_0x4709d8)+0x1)+_0xb60082(0x35e)),generateQuiz(_0x523493,null,parseInt(_0x4709d8));}function getPointerPosition(_0x4d2e9b,_0x1df4a0){const _0x5b91eb=_0x5e6fd0,_0x4a353f=_0x4d2e9b[_0x5b91eb(0x549)]();let _0x1169ca,_0x107f01;return _0x1df4a0[_0x5b91eb(0x1ee)]&&_0x1df4a0[_0x5b91eb(0x1ee)][_0x5b91eb(0x15b)]>0x0?(_0x1169ca=_0x1df4a0[_0x5b91eb(0x1ee)][0x0]['clientX'],_0x107f01=_0x1df4a0['touches'][0x0][_0x5b91eb(0x5bb)]):(_0x1169ca=_0x1df4a0['clientX'],_0x107f01=_0x1df4a0[_0x5b91eb(0x5bb)]),{'x':(_0x1169ca-_0x4a353f['e'])/_0x4a353f['a'],'y':(_0x107f01-_0x4a353f['f'])/_0x4a353f['d']};}function startDrag(_0x54069b){const _0x294f3e=_0x5e6fd0;_0x54069b['type']===_0x294f3e(0x488)&&_0x54069b[_0x294f3e(0x2f4)]();const _0x460ff9=_0x54069b[_0x294f3e(0x180)]['closest'](_0x294f3e(0x33c));if(_0x460ff9){draggedSvgElement=_0x460ff9;const _0x12018d=draggedSvgElement[_0x294f3e(0x19b)],_0xb98e44=getPointerPosition(_0x12018d,_0x54069b);svgOffset['x']=_0xb98e44['x']-parseFloat(draggedSvgElement[_0x294f3e(0x241)](null,'x')),svgOffset['y']=_0xb98e44['y']-parseFloat(draggedSvgElement[_0x294f3e(0x241)](null,'y'));}}function drag(_0x22776f){const _0x44b42c=_0x5e6fd0;if(draggedSvgElement){_0x22776f[_0x44b42c(0x2f4)]();const _0x6158d4=draggedSvgElement[_0x44b42c(0x19b)],_0xd9d316=getPointerPosition(_0x6158d4,_0x22776f),_0x2a0eed=_0x6158d4[_0x44b42c(0x15e)]['baseVal'];let _0x12a7b9=_0xd9d316['x']-svgOffset['x'],_0x548ac6=_0xd9d316['y']-svgOffset['y'];const _0x2058f6=draggedSvgElement['getBBox']();_0x12a7b9=Math['max'](_0x2a0eed['x'],Math[_0x44b42c(0x53d)](_0x12a7b9,_0x2a0eed['x']+_0x2a0eed['width']-_0x2058f6[_0x44b42c(0x100)])),_0x548ac6=Math[_0x44b42c(0x4ae)](_0x2a0eed['y'],Math[_0x44b42c(0x53d)](_0x548ac6,_0x2a0eed['y']+_0x2a0eed[_0x44b42c(0x10b)]-_0x2058f6[_0x44b42c(0x10b)])),draggedSvgElement[_0x44b42c(0x51b)](null,'x',_0x12a7b9),draggedSvgElement[_0x44b42c(0x51b)](null,'y',_0x548ac6);}}function endDrag(_0x175bec){draggedSvgElement=null;}function handleSvgEditClick(_0x52c3bf){const _0x52e9f5=_0x5e6fd0;if(_0x52c3bf[_0x52e9f5(0x180)][_0x52e9f5(0x48f)]['contains'](_0x52e9f5(0x565))){const _0x562c08=_0x52c3bf[_0x52e9f5(0x180)]['dataset'][_0x52e9f5(0x41b)],_0x423a3b=_0x52c3bf[_0x52e9f5(0x1c8)],_0x31f507=_0x423a3b[_0x52e9f5(0x4a0)]('#'+_0x562c08);_0x31f507&&_0x31f507[_0x52e9f5(0x2ba)](),_0x52c3bf[_0x52e9f5(0x180)][_0x52e9f5(0x2ba)]();}}function handleEditQuestion(_0x18f385){const _0x26db23=_0x5e6fd0,_0x2d2fc9=_0x18f385[_0x26db23(0x1c8)],_0x12ea58=_0x2d2fc9[_0x26db23(0xb8)][_0x26db23(0x421)],_0x23dd4f=currentQuizData[_0x26db23(0x286)][_0x12ea58],_0x5deff=document[_0x26db23(0x62a)](_0x26db23(0x38e)+_0x12ea58),_0x16aaa0=document[_0x26db23(0x62a)]('q-explanation-'+_0x12ea58),_0x52807e=document[_0x26db23(0x62a)](_0x26db23(0x2a0)+_0x12ea58);if(_0x2d2fc9[_0x26db23(0x2ee)][_0x26db23(0x33d)](_0x26db23(0x12e))){_0x2d2fc9[_0x26db23(0x2ee)]=_0x26db23(0x364),_0x2d2fc9[_0x26db23(0x2aa)]=_0x26db23(0x221);if(_0x5deff)_0x5deff[_0x26db23(0x491)]=!![];if(_0x16aaa0)_0x16aaa0['contentEditable']=!![];if(_0x52807e){const _0x38aabe=_0x52807e[_0x26db23(0x4a0)](_0x26db23(0x4e5));if(_0x38aabe){const _0x5d7f65=_0x38aabe['querySelectorAll'](_0x26db23(0x2dd));_0x5d7f65[_0x26db23(0x5c5)]((_0x39371e,_0x34b22f)=>{const _0x3fe8e1=_0x26db23,_0x8b4b91=_0x3fe8e1(0x5da)+_0x12ea58+'-'+_0x34b22f;_0x39371e['id']=_0x8b4b91,_0x39371e['classList']['add'](_0x3fe8e1(0x58e)),_0x39371e[_0x3fe8e1(0x56c)]['cursor']='move';const _0x370925=document['createElementNS']('http://www.w3.org/2000/svg',_0x3fe8e1(0x10d)),_0x29f159=_0x39371e[_0x3fe8e1(0x57f)]();_0x370925['setAttribute']('cx',String(_0x29f159['x']+_0x29f159[_0x3fe8e1(0x100)]+0x5)),_0x370925['setAttribute']('cy',String(_0x29f159['y']+_0x29f159[_0x3fe8e1(0x10b)]/0x2-0x5)),_0x370925[_0x3fe8e1(0x283)]('r','5'),_0x370925[_0x3fe8e1(0x283)](_0x3fe8e1(0x5e3),_0x3fe8e1(0x3ce)),_0x370925[_0x3fe8e1(0x283)](_0x3fe8e1(0x12d),_0x3fe8e1(0x565)),_0x370925[_0x3fe8e1(0xb8)][_0x3fe8e1(0x41b)]=_0x8b4b91,_0x39371e[_0x3fe8e1(0x4f7)](_0x370925);}),_0x38aabe[_0x26db23(0x199)](_0x26db23(0x431),startDrag),_0x38aabe[_0x26db23(0x199)](_0x26db23(0x2da),drag),_0x38aabe[_0x26db23(0x199)]('mouseup',endDrag),_0x38aabe[_0x26db23(0x199)](_0x26db23(0x2c6),endDrag),_0x38aabe[_0x26db23(0x199)](_0x26db23(0x488),startDrag,{'passive':![]}),_0x38aabe['addEventListener'](_0x26db23(0x625),drag,{'passive':![]}),_0x38aabe[_0x26db23(0x199)](_0x26db23(0x4fe),endDrag),_0x38aabe['addEventListener'](_0x26db23(0x4a2),endDrag),_0x38aabe[_0x26db23(0x199)]('click',handleSvgEditClick);}}if(_0x5deff)_0x5deff[_0x26db23(0x29d)]();}else{_0x2d2fc9[_0x26db23(0x2ee)]=_0x26db23(0x39c),_0x2d2fc9[_0x26db23(0x2aa)]=_0x26db23(0x578);if(_0x5deff){_0x5deff['contentEditable']=![];const _0xfcdabf=_0x23dd4f[_0x26db23(0x2fb)]||currentQuizData[_0x26db23(0x129)];_0xfcdabf===_0x26db23(0x2a1)?_0x23dd4f[_0x26db23(0x541)]=_0x5deff[_0x26db23(0x26f)][_0x26db23(0x14b)](_0x5deff[_0x26db23(0x26f)][_0x26db23(0x573)]('.')+0x2)['trim']():_0x23dd4f[_0x26db23(0x375)]=_0x5deff[_0x26db23(0x26f)][_0x26db23(0x14b)](_0x5deff[_0x26db23(0x26f)][_0x26db23(0x573)]('.')+0x2)[_0x26db23(0x2fc)]();}_0x16aaa0&&(_0x16aaa0[_0x26db23(0x491)]=![],_0x23dd4f['explanation']=_0x16aaa0['innerText']);if(_0x52807e){const _0x2fb56a=_0x52807e[_0x26db23(0x4a0)](_0x26db23(0x4e5));if(_0x2fb56a){const _0x216ce3=_0x2fb56a['cloneNode'](!![]);_0x216ce3[_0x26db23(0x447)]('.delete-svg-btn')[_0x26db23(0x5c5)](_0x3aba87=>_0x3aba87[_0x26db23(0x2ba)]()),_0x216ce3[_0x26db23(0x447)]('.draggable-text')[_0x26db23(0x5c5)](_0x24a199=>{const _0x55bdb0=_0x26db23;_0x24a199[_0x55bdb0(0x48f)][_0x55bdb0(0x2ba)](_0x55bdb0(0x58e)),_0x24a199[_0x55bdb0(0x56c)][_0x55bdb0(0x502)]=_0x55bdb0(0x1b0),_0x24a199['removeAttribute']('id');}),_0x23dd4f[_0x26db23(0x2d3)]=_0x216ce3[_0x26db23(0xd2)],_0x2fb56a[_0x26db23(0x1b1)](_0x26db23(0x431),startDrag),_0x2fb56a[_0x26db23(0x1b1)]('mousemove',drag),_0x2fb56a['removeEventListener'](_0x26db23(0x109),endDrag),_0x2fb56a[_0x26db23(0x1b1)]('mouseleave',endDrag),_0x2fb56a[_0x26db23(0x1b1)](_0x26db23(0x488),startDrag),_0x2fb56a[_0x26db23(0x1b1)]('touchmove',drag),_0x2fb56a[_0x26db23(0x1b1)](_0x26db23(0x4fe),endDrag),_0x2fb56a[_0x26db23(0x1b1)](_0x26db23(0x4a2),endDrag),_0x2fb56a[_0x26db23(0x1b1)](_0x26db23(0x15d),handleSvgEditClick),_0x2fb56a[_0x26db23(0x447)](_0x26db23(0x4e6))[_0x26db23(0x5c5)](_0x1277ac=>_0x1277ac['remove']()),_0x2fb56a[_0x26db23(0x447)](_0x26db23(0x33c))[_0x26db23(0x5c5)](_0x3672b2=>{const _0x4bd0cf=_0x26db23;_0x3672b2[_0x4bd0cf(0x48f)][_0x4bd0cf(0x2ba)](_0x4bd0cf(0x58e)),_0x3672b2[_0x4bd0cf(0x56c)][_0x4bd0cf(0x502)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3f213a){const _0x8c5666=_0x5e6fd0,_0x7d48b0=document[_0x8c5666(0x62a)](_0x8c5666(0x389)),_0xbaf282=document[_0x8c5666(0x62a)]('quiz-editor-questions-container');_0xbaf282['innerHTML']=_0x8c5666(0x3bc),_0x7d48b0[_0x8c5666(0x48f)]['remove'](_0x8c5666(0x20a));try{const _0x1c1168=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3f213a),_0x1d0881=await getDoc(_0x1c1168);if(!_0x1d0881[_0x8c5666(0x5a0)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x3f213a,..._0x1d0881[_0x8c5666(0x386)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4ed89b){console[_0x8c5666(0x5cf)](_0x8c5666(0x48b),_0x4ed89b),showMessage(_0x8c5666(0x60d)),_0x7d48b0[_0x8c5666(0x48f)][_0x8c5666(0x462)](_0x8c5666(0x20a));}}function renderQuizEditor(_0x48e162){const _0x6593e6=_0x5e6fd0;document[_0x6593e6(0x62a)](_0x6593e6(0x474))['value']=_0x48e162[_0x6593e6(0x10e)];const _0x9cc9aa=document[_0x6593e6(0x62a)](_0x6593e6(0x467));let _0x3d8379=_0x48e162[_0x6593e6(0x286)][_0x6593e6(0x3a4)]((_0x74ae7c,_0x452ca9)=>{const _0x322bc=_0x6593e6;let _0xb2953c='';const _0x132c99=_0x74ae7c[_0x322bc(0x2fb)]||_0x48e162[_0x322bc(0x129)];switch(_0x132c99){case'multiple_choice':const _0x3e66e9=(_0x74ae7c[_0x322bc(0xf2)]||[])[_0x322bc(0x3a4)]((_0x1d570e,_0x543220)=>_0x322bc(0x21d)+_0x452ca9+_0x322bc(0x3d2)+_0x543220+'\x22\x20'+(_0x543220===_0x74ae7c[_0x322bc(0x30e)]?'checked':'')+_0x322bc(0x408)+_0x1d570e+_0x322bc(0x4ad))[_0x322bc(0x1b3)]('');_0xb2953c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x3e66e9+_0x322bc(0x4b8);break;case _0x322bc(0x514):_0xb2953c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x74ae7c[_0x322bc(0x604)]||'')+_0x322bc(0x210);break;case _0x322bc(0x278):_0xb2953c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x452ca9+_0x322bc(0x61d)+(_0x74ae7c['correctAnswer']===!![]?_0x322bc(0x473):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x452ca9+_0x322bc(0xbd)+(_0x74ae7c[_0x322bc(0x196)]===![]?_0x322bc(0x473):'')+_0x322bc(0x3fe);break;case _0x322bc(0x2a1):_0xb2953c=_0x322bc(0x448)+(_0x74ae7c[_0x322bc(0x50b)]||'')+_0x322bc(0x55c);break;}const _0x3a8565=_0x74ae7c[_0x322bc(0x375)]||_0x74ae7c[_0x322bc(0x541)]||'';return _0x322bc(0x153)+_0x452ca9+_0x322bc(0x3f9)+_0x132c99+_0x322bc(0x496)+(_0x452ca9+0x1)+'\x20('+_0x132c99+_0x322bc(0x22f)+_0x3a8565+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0xb2953c+_0x322bc(0x582);})[_0x6593e6(0x1b3)]('');_0x9cc9aa[_0x6593e6(0x2ee)]=_0x3d8379;}async function handleSaveChanges(){const _0x2850c7=_0x5e6fd0,_0x5aef11=document[_0x2850c7(0x62a)](_0x2850c7(0x5a7));_0x5aef11[_0x2850c7(0x50f)]=!![],_0x5aef11[_0x2850c7(0x2ee)]=_0x2850c7(0x47d);try{const _0x322930=document[_0x2850c7(0x62a)](_0x2850c7(0x474))['value'],_0x1d9688=document[_0x2850c7(0x447)](_0x2850c7(0x4c3));let _0x5ce2b7=[];const _0x508dca=Array['from'](_0x1d9688)['map']((_0x57eedd,_0xba4559)=>{const _0x4eb984=_0x2850c7,_0x5610c4=_0x57eedd[_0x4eb984(0xb8)][_0x4eb984(0x37f)],_0xcbaddb=_0x57eedd['querySelector'](_0x4eb984(0x5a8))[_0x4eb984(0x412)];let _0x3487e4={'questionType':_0x5610c4};const _0x3ec2ff=currentEditingQuizData[_0x4eb984(0x286)][_0xba4559];switch(_0x5610c4){case _0x4eb984(0x250):_0x3487e4['questionText']=_0xcbaddb;const _0x5868f3=_0x57eedd[_0x4eb984(0x447)]('input[type=\x22text\x22]');_0x3487e4[_0x4eb984(0xf2)]=Array[_0x4eb984(0x26a)](_0x5868f3)[_0x4eb984(0x3a4)](_0x376331=>_0x376331[_0x4eb984(0x412)]);const _0x565056=_0x57eedd[_0x4eb984(0x4a0)](_0x4eb984(0x154));_0x3487e4['correctAnswerIndex']=_0x565056?parseInt(_0x565056[_0x4eb984(0x412)]):0x0;break;case _0x4eb984(0x514):_0x3487e4['questionText']=_0xcbaddb,_0x3487e4[_0x4eb984(0x604)]=_0x57eedd[_0x4eb984(0x4a0)](_0x4eb984(0x1f0))[_0x4eb984(0x412)];break;case'true_false':_0x3487e4[_0x4eb984(0x375)]=_0xcbaddb;const _0x40409f=_0x57eedd[_0x4eb984(0x4a0)]('input[type=\x22radio\x22]:checked');_0x3487e4[_0x4eb984(0x196)]=_0x40409f?_0x40409f[_0x4eb984(0x412)]===_0x4eb984(0x358):!![];break;case'matching_item':_0x3487e4[_0x4eb984(0x541)]=_0xcbaddb;const _0x3510ea=_0x57eedd['querySelector'](_0x4eb984(0x51e));_0x3487e4['correctResponse']=_0x3510ea?_0x3510ea['value']:'',_0x5ce2b7[_0x4eb984(0x18d)](_0x3487e4['correctResponse']);break;default:_0x3487e4[_0x4eb984(0x375)]=_0xcbaddb;break;}return{..._0x3ec2ff,..._0x3487e4};});_0x5ce2b7['length']>0x0&&_0x508dca[_0x2850c7(0x5c5)](_0x1b831c=>{const _0x2ea2e4=_0x2850c7;_0x1b831c['questionType']===_0x2ea2e4(0x2a1)&&(_0x1b831c['allResponses']=_0x5ce2b7);});const _0x319b30=doc(db,_0x2850c7(0x3c0)+appId+_0x2850c7(0x3d8),currentEditingQuizData['id']);await updateDoc(_0x319b30,{'topic':_0x322930,'questions':_0x508dca}),showMessage(_0x2850c7(0x31c)),document[_0x2850c7(0x62a)](_0x2850c7(0x389))[_0x2850c7(0x48f)][_0x2850c7(0x462)]('hidden');}catch(_0x36e5b2){console[_0x2850c7(0x5cf)](_0x2850c7(0x553),_0x36e5b2),showMessage(_0x2850c7(0x289));}finally{_0x5aef11[_0x2850c7(0x50f)]=![],_0x5aef11[_0x2850c7(0x2ee)]=_0x2850c7(0x4ef);}}async function saveQuiz(){const _0x1c852b=_0x5e6fd0;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1c852b(0x286)]||!userId){showMessage(_0x1c852b(0x22a));return;}const _0x2a2279=document[_0x1c852b(0x62a)](_0x1c852b(0x5e2));_0x2a2279[_0x1c852b(0x50f)]=!![],_0x2a2279[_0x1c852b(0x2ee)]=_0x1c852b(0x47d),currentQuizData['topic']=document[_0x1c852b(0x62a)](_0x1c852b(0x152))[_0x1c852b(0x26f)];try{const _0xc56a8c={'resultsDisplay':document['getElementById'](_0x1c852b(0x46a))[_0x1c852b(0x412)],'shuffle':document[_0x1c852b(0x62a)]('shuffle-setting-select')[_0x1c852b(0x412)],'timerMode':document[_0x1c852b(0x62a)](_0x1c852b(0x388))[_0x1c852b(0x412)],'timerDuration':parseInt(document[_0x1c852b(0x62a)](_0x1c852b(0x2a8))[_0x1c852b(0x412)])||0xa,'passingScore':parseInt(document[_0x1c852b(0x62a)](_0x1c852b(0x150))['value'])||0x0,'isAdaptive':document[_0x1c852b(0x62a)](_0x1c852b(0x3cd))[_0x1c852b(0x473)]},_0x1904b2=(currentQuizData[_0x1c852b(0x286)]||[])['map'](_0x32085a=>{const _0x50845c=_0x1c852b,_0x41ecae=document[_0x50845c(0x62a)](_0x50845c(0x157))['value'],_0x3a1ac8={'questionText':_0x32085a['questionText']||'','explanation':_0x32085a[_0x50845c(0x5d5)]||_0x50845c(0x1f6),'questionType':_0x32085a[_0x50845c(0x2fb)]||_0x41ecae,'imageCode':_0x32085a[_0x50845c(0x2d3)]||null};return(_0x3a1ac8[_0x50845c(0x2fb)]===_0x50845c(0x250)||_0x3a1ac8[_0x50845c(0x2fb)]===_0x50845c(0x30f)||_0x3a1ac8['questionType']===_0x50845c(0x4db)&&_0x32085a[_0x50845c(0xf2)])&&(_0x3a1ac8[_0x50845c(0xf2)]=_0x32085a[_0x50845c(0xf2)]||[],_0x3a1ac8[_0x50845c(0x30e)]=_0x32085a[_0x50845c(0x30e)]!==undefined?_0x32085a['correctAnswerIndex']:0x0),(_0x3a1ac8['questionType']===_0x50845c(0x514)||_0x3a1ac8[_0x50845c(0x2fb)]===_0x50845c(0x36e)||_0x3a1ac8[_0x50845c(0x2fb)]==='mixed'&&_0x32085a[_0x50845c(0x604)])&&(_0x3a1ac8[_0x50845c(0x604)]=_0x32085a['idealAnswer']||''),_0x3a1ac8[_0x50845c(0x2fb)]==='true_false'&&(_0x3a1ac8[_0x50845c(0x196)]=_0x32085a[_0x50845c(0x196)]===!![]),_0x3a1ac8[_0x50845c(0x2fb)]==='matching_item'&&(_0x3a1ac8[_0x50845c(0x541)]=_0x32085a[_0x50845c(0x541)]||'',_0x3a1ac8['correctResponse']=_0x32085a[_0x50845c(0x50b)]||'',_0x3a1ac8['allResponses']=_0x32085a[_0x50845c(0x17e)]||[]),_0x3a1ac8;}),_0x57071d={'topic':currentQuizData[_0x1c852b(0x10e)]||_0x1c852b(0x441),'quizType':currentQuizData[_0x1c852b(0x129)]||_0x1c852b(0x250),'questions':_0x1904b2,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1c852b(0x28d)](),'status':_0x1c852b(0x415),'settings':_0xc56a8c};let _0x507b7b;while(!![]){_0x507b7b=Math[_0x1c852b(0x5ac)](0x3e8+Math['random']()*0x2328)[_0x1c852b(0x256)]();const _0x3a5ef0=await getDoc(doc(db,'artifacts/'+appId+_0x1c852b(0x3d8),_0x507b7b));if(!_0x3a5ef0[_0x1c852b(0x5a0)]())break;}await setDoc(doc(db,_0x1c852b(0x3c0)+appId+_0x1c852b(0x3d8),_0x507b7b),_0x57071d),currentQuizData[_0x1c852b(0x3de)]=_0xc56a8c,currentQuizData['id']=_0x507b7b;const _0xd61b7=document['getElementById'](_0x1c852b(0x20c));_0xd61b7['innerHTML']=_0x1c852b(0x30d)+_0x507b7b+_0x1c852b(0x1f1),document[_0x1c852b(0x62a)](_0x1c852b(0x2e0))[_0x1c852b(0x199)](_0x1c852b(0x15d),()=>copyTextToClipboard(_0x507b7b,_0x1c852b(0xac))),document['getElementById'](_0x1c852b(0x42d))['addEventListener'](_0x1c852b(0x15d),()=>handleStartLiveRace(_0x507b7b)),document[_0x1c852b(0x62a)](_0x1c852b(0x114))[_0x1c852b(0x199)](_0x1c852b(0x15d),()=>startPresentation(currentQuizData)),document['getElementById']('admin-try-quiz-btn')['addEventListener'](_0x1c852b(0x15d),startAdminTest),showMessage(_0x1c852b(0x43c));}catch(_0x3756fe){console[_0x1c852b(0x5cf)]('Error\x20saving\x20quiz:',_0x3756fe),showMessage(_0x1c852b(0x3e0)),_0x2a2279[_0x1c852b(0x50f)]=![],_0x2a2279['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x3d3ac1=_0x5e6fd0,_0x1f51d6=document[_0x3d3ac1(0x62a)](_0x3d3ac1(0x5f0)),_0x20b087=document[_0x3d3ac1(0x62a)](_0x3d3ac1(0x555)),_0x3c9de3=_0x1f51d6['querySelector']('h3'),_0x203ad7=document[_0x3d3ac1(0x62a)](_0x3d3ac1(0x242));_0x3c9de3[_0x3d3ac1(0x31f)]='เลือกโปรเจคเพื่อบันทึก',_0x203ad7[_0x3d3ac1(0x31f)]=_0x3d3ac1(0x3aa);allProjects[_0x3d3ac1(0x15b)]===0x0?(_0x20b087['innerHTML']=_0x3d3ac1(0xe5),_0x203ad7[_0x3d3ac1(0x50f)]=!![]):(_0x20b087[_0x3d3ac1(0x2ee)]=allProjects[_0x3d3ac1(0x3a4)](_0x2a1200=>_0x3d3ac1(0x1e8)+_0x2a1200['id']+'\x22>'+_0x2a1200['projectName']+_0x3d3ac1(0x596))[_0x3d3ac1(0x1b3)](''),_0x203ad7[_0x3d3ac1(0x50f)]=![]);_0x1f51d6[_0x3d3ac1(0x48f)][_0x3d3ac1(0x2ba)](_0x3d3ac1(0x20a));const _0x26ceb7=()=>{const _0x361e67=_0x3d3ac1,_0x198946=_0x20b087['value'];_0x198946?(currentProjectId=_0x198946,_0x1f51d6[_0x361e67(0x48f)][_0x361e67(0x462)](_0x361e67(0x20a)),saveQuiz(),_0x3c9de3[_0x361e67(0x31f)]=_0x361e67(0x4f5),_0x203ad7['textContent']=_0x361e67(0xf0),_0x203ad7[_0x361e67(0x1b1)](_0x361e67(0x15d),_0x26ceb7),_0x203ad7[_0x361e67(0x199)](_0x361e67(0x15d),confirmMoveQuiz)):showMessage(_0x361e67(0x9e));};_0x203ad7[_0x3d3ac1(0x1b1)](_0x3d3ac1(0x15d),confirmMoveQuiz),_0x203ad7['addEventListener'](_0x3d3ac1(0x15d),_0x26ceb7);}function copyTextToClipboard(_0x378169,_0x1a03d2){const _0x5e464f=_0x5e6fd0,_0x551570=document[_0x5e464f(0x562)](_0x5e464f(0x5a8));_0x551570[_0x5e464f(0x412)]=_0x378169,_0x551570[_0x5e464f(0x56c)][_0x5e464f(0x2bc)]=_0x5e464f(0x238),_0x551570[_0x5e464f(0x56c)][_0x5e464f(0x409)]='0',document[_0x5e464f(0x4c6)][_0x5e464f(0x476)](_0x551570),_0x551570['focus'](),_0x551570[_0x5e464f(0x4a6)]();try{const _0x3d0e5b=document[_0x5e464f(0x497)](_0x5e464f(0x1af));showMessage(_0x3d0e5b?_0x1a03d2:_0x5e464f(0x63b));}catch(_0x459aa7){showMessage(_0x5e464f(0x63b)),console['error']('Copy\x20command\x20failed',_0x459aa7);}document[_0x5e464f(0x4c6)]['removeChild'](_0x551570);}function listenForProjectQuizzes(_0x1d3f3c){const _0x270241=_0x5e6fd0,_0x280444=collection(db,'artifacts/'+appId+_0x270241(0x3d8)),_0x22223f=query(_0x280444,where(_0x270241(0x8e),'==',_0x1d3f3c));unsubscribeQuizzesListener=onSnapshot(_0x22223f,async _0x2e0701=>{const _0x45e6fb=_0x270241;allQuizzes=_0x2e0701[_0x45e6fb(0x3a9)][_0x45e6fb(0x3a4)](_0x534bf0=>({'id':_0x534bf0['id'],..._0x534bf0[_0x45e6fb(0x386)]()})),renderQuizzes();},_0x50ce6a=>{const _0x211af4=_0x270241;console['error'](_0x211af4(0x593),_0x50ce6a),document[_0x211af4(0x62a)](_0x211af4(0x45a))['innerHTML']=_0x211af4(0x385);});}async function renderQuizzes(){const _0x5dd5ae=_0x5e6fd0,_0x520024=document['getElementById'](_0x5dd5ae(0x45a)),_0x3ee2de=document[_0x5dd5ae(0x62a)](_0x5dd5ae(0x3f8))[_0x5dd5ae(0x412)][_0x5dd5ae(0x306)]();let _0x1e69af;currentProjectId===_0x5dd5ae(0x343)?_0x1e69af=starredQuizzes:_0x1e69af=allQuizzes;let _0x32c102=_0x1e69af[_0x5dd5ae(0x2e2)](_0x27d045=>_0x27d045[_0x5dd5ae(0x10e)]['toLowerCase']()[_0x5dd5ae(0x33d)](_0x3ee2de));_0x32c102[_0x5dd5ae(0x8c)]((_0x4e5896,_0x2b6015)=>new Date(_0x2b6015[_0x5dd5ae(0x1b6)])-new Date(_0x4e5896['createdAt']));if(_0x32c102[_0x5dd5ae(0x15b)]===0x0){_0x520024[_0x5dd5ae(0x2ee)]=_0x5dd5ae(0x2d1);return;}const _0x4b4af5={},_0x1224ad=_0x32c102[_0x5dd5ae(0x3a4)](async _0x351a8e=>{const _0x460c5c=_0x5dd5ae,_0x11701c=collection(db,_0x460c5c(0x3c0)+appId+_0x460c5c(0x352)+_0x351a8e['id']+_0x460c5c(0x4eb)),_0x3605d1=await getDocs(_0x11701c);_0x4b4af5[_0x351a8e['id']]=_0x3605d1['size'];});await Promise[_0x5dd5ae(0x539)](_0x1224ad);let _0x4e667a='';_0x32c102[_0x5dd5ae(0x5c5)](_0x3a6332=>{const _0x41dd36=_0x5dd5ae,_0x4ab03a=_0x4b4af5[_0x3a6332['id']]||0x0,_0x16b0cc=_0x3a6332[_0x41dd36(0x143)]||_0x41dd36(0x415),_0x178b79=_0x3a6332[_0x41dd36(0x3de)]?.[_0x41dd36(0x5b6)]||_0x41dd36(0x36c);let _0x56f59e='',_0x1058e7='';const _0xbadf49=new Date();let _0x73bf30=_0x16b0cc;if(_0x16b0cc===_0x41dd36(0x57c)){const _0x405b71=_0x3a6332['startTime']?new Date(_0x3a6332[_0x41dd36(0x206)]):null,_0x47cf61=_0x3a6332['endTime']?new Date(_0x3a6332['endTime']):null;if(_0x47cf61&&_0xbadf49>_0x47cf61)_0x73bf30=_0x41dd36(0x417);else _0x405b71&&_0xbadf49<_0x405b71?_0x73bf30=_0x41dd36(0xc0):_0x73bf30=_0x41dd36(0x415);}switch(_0x73bf30){case _0x41dd36(0x417):_0x56f59e=_0x41dd36(0x56e),_0x1058e7=_0x41dd36(0x3c5);break;case _0x41dd36(0xc0):_0x56f59e=_0x41dd36(0x542),_0x1058e7=_0x41dd36(0x1ba);break;case _0x41dd36(0x415):_0x56f59e=_0x178b79!==_0x41dd36(0x36c)?'เปิด\x20(จับเวลา)':_0x41dd36(0x5c2),_0x1058e7=_0x41dd36(0x2b2);break;default:_0x56f59e='ตั้งเวลา\x20(เปิด)',_0x1058e7='text-green-700\x20bg-green-100';}let _0x1a3923='';const _0x4274f6={'day':_0x41dd36(0x310),'month':_0x41dd36(0x310),'year':'numeric','hour':_0x41dd36(0x310),'minute':_0x41dd36(0x310),'hour12':![]};_0x16b0cc===_0x41dd36(0x57c)&&(_0x3a6332[_0x41dd36(0x206)]&&(_0x1a3923+=_0x41dd36(0x52a)+new Date(_0x3a6332[_0x41dd36(0x206)])[_0x41dd36(0x125)](_0x41dd36(0x1e3),_0x4274f6)+'</p>'),_0x3a6332[_0x41dd36(0x60b)]&&(_0x1a3923+=_0x41dd36(0x446)+new Date(_0x3a6332['endTime'])['toLocaleString'](_0x41dd36(0x1e3),_0x4274f6)+'</p>')),_0x4e667a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x3a6332['id']+_0x41dd36(0x191)+_0x3a6332['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x3a6332[_0x41dd36(0x286)][_0x41dd36(0x15b)]+_0x41dd36(0x576)+new Date(_0x3a6332[_0x41dd36(0x1b6)])[_0x41dd36(0x125)](_0x41dd36(0x1e3))+_0x41dd36(0x281)+_0x4ab03a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a3923+_0x41dd36(0x4a7)+_0x1058e7+'\x22>'+_0x56f59e+_0x41dd36(0xdf)+_0x3a6332['id']+_0x41dd36(0x49b)+_0x3a6332['id']+_0x41dd36(0x3d6)+(_0x3a6332['isStarred']?_0x41dd36(0x533):_0x41dd36(0x5ad))+_0x41dd36(0x257)+_0x3a6332['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3a6332['id']+_0x41dd36(0x527)+_0x3a6332[_0x41dd36(0x10e)]+_0x41dd36(0x47f)+_0x3a6332['id']+_0x41dd36(0x324)+_0x3a6332['id']+_0x41dd36(0x44b)+_0x3a6332['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3a6332['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3a6332['id']+_0x41dd36(0x348)+_0x3a6332['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3a6332['id']+_0x41dd36(0x2bb)+_0x3a6332['id']+_0x41dd36(0x2eb)+_0x3a6332['id']+_0x41dd36(0x527)+_0x3a6332['topic']+_0x41dd36(0x4da);}),_0x520024[_0x5dd5ae(0x2ee)]=_0x4e667a,document[_0x5dd5ae(0x447)](_0x5dd5ae(0x226))[_0x5dd5ae(0x5c5)](_0x391f36=>{const _0x59eee1=_0x5dd5ae;_0x391f36[_0x59eee1(0x199)](_0x59eee1(0x15d),()=>{const _0x2921a4=_0x59eee1,_0x54c038=_0x391f36[_0x2921a4(0xb8)]['quizId'];showQuizDetailView(_0x54c038);});});}async function handleDuplicateQuiz(_0x472e09){const _0x20cb8f=_0x5e6fd0;try{const _0x581d99=doc(db,_0x20cb8f(0x3c0)+appId+_0x20cb8f(0x3d8),_0x472e09),_0x5c19eb=await getDoc(_0x581d99);if(_0x5c19eb['exists']()){const _0x4139f8=_0x5c19eb[_0x20cb8f(0x386)](),_0x1dd01b={..._0x4139f8,'topic':_0x20cb8f(0x171)+_0x4139f8[_0x20cb8f(0x10e)],'createdAt':new Date()[_0x20cb8f(0x28d)]()};await addDoc(collection(db,_0x20cb8f(0x3c0)+appId+_0x20cb8f(0x3d8)),_0x1dd01b),showMessage(_0x20cb8f(0x21e));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x5f0bb2){console[_0x20cb8f(0x5cf)]('Error\x20duplicating\x20quiz:',_0x5f0bb2),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x434e57,_0x16d32f=!![]){const _0x4ff854=_0x5e6fd0;try{const _0x2c2ee5=writeBatch(db),_0x66484f=collection(db,'artifacts/'+appId+_0x4ff854(0x352)+_0x434e57+_0x4ff854(0x4eb)),_0x77a211=await getDocs(_0x66484f);_0x77a211[_0x4ff854(0x5c5)](_0xbd0d49=>{const _0x5e0f3b=_0x4ff854;_0x2c2ee5[_0x5e0f3b(0x484)](doc(_0x66484f,_0xbd0d49['id']));});const _0x6ee60b=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x434e57);_0x2c2ee5['delete'](_0x6ee60b),await _0x2c2ee5['commit'](),_0x16d32f&&showMessage(_0x4ff854(0x627));}catch(_0x258330){console[_0x4ff854(0x5cf)](_0x4ff854(0x637),_0x258330),_0x16d32f&&showMessage(_0x4ff854(0x521));}}async function showQuizDetailView(_0x581ae2){const _0x4af7ca=_0x5e6fd0;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4af7ca(0x5cc));try{const _0x4bf119=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x581ae2),_0x3295a3=await getDoc(_0x4bf119);if(!_0x3295a3[_0x4af7ca(0x5a0)]()){showMessage(_0x4af7ca(0x1e2));return;}const _0x538bbe={'id':_0x3295a3['id'],..._0x3295a3[_0x4af7ca(0x386)]()};currentQuizData=_0x538bbe;const _0x45ed46=doc(db,'artifacts/'+appId+_0x4af7ca(0x162),_0x538bbe[_0x4af7ca(0x8e)]),_0x2883e0=await getDoc(_0x45ed46);_0x2883e0[_0x4af7ca(0x5a0)]()?(currentProjectData=_0x2883e0['data'](),currentProjectId=_0x538bbe[_0x4af7ca(0x8e)]):(currentProjectData={'students':[]},currentProjectId=_0x538bbe[_0x4af7ca(0x8e)]);document[_0x4af7ca(0x62a)](_0x4af7ca(0x1ed))['textContent']=_0x538bbe[_0x4af7ca(0x10e)],document[_0x4af7ca(0x62a)]('results-quiz-id-display')[_0x4af7ca(0x31f)]=_0x581ae2;const _0x5c03c8=collection(db,_0x4af7ca(0x3c0)+appId+_0x4af7ca(0x3d8),_0x581ae2,_0x4af7ca(0x62c));unsubscribeSubmissionsListener=onSnapshot(_0x5c03c8,_0x463348=>{const _0x1444ae=_0x4af7ca,_0x43731d=_0x463348[_0x1444ae(0x3a9)]['map'](_0x10a204=>({'id':_0x10a204['id'],..._0x10a204[_0x1444ae(0x386)]()}));currentSubmissions=_0x43731d,renderAnalytics(_0x538bbe,_0x43731d),renderQuizResultsTable(currentProjectData[_0x1444ae(0x12f)],_0x43731d,_0x538bbe),renderQuizLeaderboard(_0x43731d,_0x538bbe,_0x1444ae(0x50c));}),showView(_0x4af7ca(0x59f));}catch(_0x129191){console[_0x4af7ca(0x5cf)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x129191),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function _0x3740(_0x3be7dd,_0xf8b5f){const _0x572de9=_0x572d();return _0x3740=function(_0x37400f,_0x58eeca){_0x37400f=_0x37400f-0x85;let _0x357431=_0x572de9[_0x37400f];return _0x357431;},_0x3740(_0x3be7dd,_0xf8b5f);}function renderQuizResultsTable(_0x19fd44,_0xe7801f,_0x487f0b){const _0x1dc86d=_0x5e6fd0,_0x1b6d5a=_0xe7801f[_0x1dc86d(0x1b4)]((_0x4ea914,_0x36f348)=>{return _0x4ea914[_0x36f348['studentName']]=_0x36f348,_0x4ea914;},{}),_0x21a1f6=document[_0x1dc86d(0x62a)](_0x1dc86d(0x5b9));if(!_0x19fd44||_0x19fd44[_0x1dc86d(0x15b)]===0x0){_0x21a1f6[_0x1dc86d(0x2ee)]=_0x1dc86d(0x104);return;}const _0x3192a7=_0x487f0b[_0x1dc86d(0x564)]===!![],_0x29219e=_0x487f0b[_0x1dc86d(0x3de)]?.['passingScore']??-0x1;let _0x1ba767='';_0x19fd44[_0x1dc86d(0x5c5)](_0x3f63c9=>{const _0x2987f5=_0x1dc86d,_0x2eb160=_0x1b6d5a[_0x3f63c9];let _0x4984a4=_0x2987f5(0x395),_0x55f6fb=_0x2987f5(0x347)+(_0x3192a7?'bg-amber-100\x20text-amber-800':_0x2987f5(0x40f))+'\x22>'+(_0x3192a7?_0x2987f5(0x2a6):_0x2987f5(0x359))+'</span></td>';if(_0x2eb160){let _0x4de6f6;_0x3192a7?_0x4de6f6=_0x2eb160[_0x2987f5(0x4ba)]===_0x2eb160[_0x2987f5(0x2ef)]:_0x4de6f6=_0x29219e!==-0x1&&_0x2eb160[_0x2987f5(0x4ba)]>=_0x29219e;if(_0x3192a7||_0x29219e!==-0x1){const _0x31e901=_0x4de6f6?_0x2987f5(0x38c):_0x2987f5(0xa2),_0x59471b=_0x4de6f6?'ผ่าน':'ไม่ผ่าน';_0x4984a4=_0x2987f5(0x5fa)+_0x31e901+'\x22>'+_0x59471b+_0x2987f5(0x351);}const _0x3a9b32='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x2eb160['attempts']?.[_0x2987f5(0x15b)]||0x1)+'\x20ครั้ง)</span></td>';_0x1ba767+=_0x2987f5(0xf9)+_0x3f63c9+_0x2987f5(0x58b)+_0x2eb160[_0x2987f5(0x4ba)]+'\x20/\x20'+_0x2eb160['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4984a4+_0x2987f5(0x133)+_0x55f6fb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x2eb160[_0x2987f5(0x5ba)]+'\x20/\x20'+_0x2eb160[_0x2987f5(0x2ef)]+_0x2987f5(0x3f4)+_0x2eb160[_0x2987f5(0x275)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x2eb160[_0x2987f5(0x398)]||0x0)+_0x2987f5(0x591)+_0x3a9b32+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x2eb160[_0x2987f5(0x45b)])[_0x2987f5(0x125)](_0x2987f5(0x1e3))+_0x2987f5(0x613);}else{const _0x299287=_0x2987f5(0x3a8);_0x1ba767+=_0x2987f5(0xf9)+_0x3f63c9+_0x2987f5(0x61c)+_0x55f6fb+_0x2987f5(0xe7)+_0x299287+_0x2987f5(0xc9);}}),_0x21a1f6['innerHTML']=_0x1ba767;}function handleRenameQuiz(_0x1c150d,_0x5c04c5){const _0x429bed=_0x5e6fd0;actionTargetId=_0x1c150d,document['getElementById'](_0x429bed(0x511))['value']=_0x5c04c5,renameQuizModal[_0x429bed(0x48f)]['remove'](_0x429bed(0x20a));}async function confirmRenameQuiz(){const _0x14cb68=_0x5e6fd0,_0x1c752b=document[_0x14cb68(0x62a)](_0x14cb68(0x511))[_0x14cb68(0x412)][_0x14cb68(0x2fc)]();if(!_0x1c752b){showMessage(_0x14cb68(0x107));return;}if(!actionTargetId)return;const _0x1b3ac4=doc(db,'artifacts/'+appId+_0x14cb68(0x3d8),actionTargetId);try{await updateDoc(_0x1b3ac4,{'topic':_0x1c752b}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x14cb68(0x48f)][_0x14cb68(0x462)](_0x14cb68(0x20a)),actionTargetId=null;}catch(_0x1a00f7){console['error']('Error\x20renaming\x20quiz:',_0x1a00f7),showMessage(_0x14cb68(0x112));}}async function handleMoveQuiz(_0x5e768e){const _0x19d043=_0x5e6fd0;actionTargetId=_0x5e768e;const _0xe3d289=document[_0x19d043(0x62a)](_0x19d043(0x555));_0xe3d289[_0x19d043(0x2ee)]=_0x19d043(0x587),moveQuizModal[_0x19d043(0x48f)]['remove'](_0x19d043(0x20a));try{const _0x3e8f68=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x216dd2=await getDocs(_0x3e8f68),_0x4aaf85=_0x216dd2[_0x19d043(0x3a9)][_0x19d043(0x3a4)](_0x4be14e=>({'id':_0x4be14e['id'],..._0x4be14e['data']()})),_0x586b3d=_0x4aaf85[_0x19d043(0x2e2)](_0x5ebfee=>_0x5ebfee['id']!==currentProjectId);if(_0x586b3d[_0x19d043(0x15b)]===0x0){_0xe3d289[_0x19d043(0x2ee)]=_0x19d043(0x98),document[_0x19d043(0x62a)](_0x19d043(0x242))['disabled']=!![];return;}_0xe3d289[_0x19d043(0x2ee)]=_0x586b3d['map'](_0xc987c8=>_0x19d043(0x1e8)+_0xc987c8['id']+'\x22>'+_0xc987c8[_0x19d043(0x609)]+_0x19d043(0x596))['join'](''),document[_0x19d043(0x62a)](_0x19d043(0x242))['disabled']=![];}catch(_0x55ab76){console[_0x19d043(0x5cf)](_0x19d043(0xcd),_0x55ab76),showMessage(_0x19d043(0x5a1)),moveQuizModal[_0x19d043(0x48f)]['add'](_0x19d043(0x20a));}}async function confirmMoveQuiz(){const _0x2ad855=_0x5e6fd0,_0x155029=document[_0x2ad855(0x62a)]('move-quiz-project-select')[_0x2ad855(0x412)];if(!_0x155029){showMessage(_0x2ad855(0x20f));return;}if(!actionTargetId)return;const _0x176507=doc(db,'artifacts/'+appId+_0x2ad855(0x3d8),actionTargetId);try{await updateDoc(_0x176507,{'projectId':_0x155029}),showMessage(_0x2ad855(0x38a)),moveQuizModal[_0x2ad855(0x48f)][_0x2ad855(0x462)]('hidden'),actionTargetId=null;}catch(_0x240c9c){console[_0x2ad855(0x5cf)]('Error\x20moving\x20quiz:',_0x240c9c),showMessage(_0x2ad855(0xf3));}}async function handleQuizSettings(_0x3dea68){const _0x239688=_0x5e6fd0;actionTargetId=_0x3dea68;const _0x255c01=doc(db,_0x239688(0x3c0)+appId+_0x239688(0x3d8),_0x3dea68);try{const _0x1c7a93=await getDoc(_0x255c01);if(_0x1c7a93['exists']()){const _0x12806d=_0x1c7a93[_0x239688(0x386)](),_0x43287e=_0x12806d['settings']||{},_0x4aa621=_0x12806d[_0x239688(0x286)]['length'];document[_0x239688(0x62a)](_0x239688(0x45d))[_0x239688(0x412)]=_0x43287e[_0x239688(0x146)]||'none',document['getElementById'](_0x239688(0x122))['value']=_0x43287e['resultsDisplay']||_0x239688(0x5e8),document[_0x239688(0x62a)](_0x239688(0x4ab))[_0x239688(0x412)]=_0x43287e[_0x239688(0x5b6)]||_0x239688(0x36c),document[_0x239688(0x62a)](_0x239688(0x149))[_0x239688(0x412)]=_0x43287e[_0x239688(0x2cb)]||0xa,document[_0x239688(0x62a)](_0x239688(0x23f))[_0x239688(0x412)]=_0x43287e['passingScore']||Math[_0x239688(0x5ac)](_0x4aa621/0x2),document[_0x239688(0x62a)](_0x239688(0x23f))[_0x239688(0x4ae)]=_0x4aa621,document['getElementById'](_0x239688(0x2fa))[_0x239688(0x473)]=_0x43287e[_0x239688(0x86)]||![],document[_0x239688(0x62a)](_0x239688(0x4ab))[_0x239688(0x563)](new Event(_0x239688(0x3d7))),quizSettingsModal[_0x239688(0x48f)][_0x239688(0x2ba)](_0x239688(0x20a));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x251281){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x251281),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x484b6f=_0x5e6fd0;if(!actionTargetId)return;const _0x3714a5=doc(db,'artifacts/'+appId+_0x484b6f(0x3d8),actionTargetId),_0x12bb75={'shuffle':document[_0x484b6f(0x62a)](_0x484b6f(0x45d))[_0x484b6f(0x412)],'resultsDisplay':document[_0x484b6f(0x62a)]('modal-results-display-select')[_0x484b6f(0x412)],'timerMode':document[_0x484b6f(0x62a)](_0x484b6f(0x4ab))[_0x484b6f(0x412)],'timerDuration':parseInt(document[_0x484b6f(0x62a)](_0x484b6f(0x149))[_0x484b6f(0x412)])||0xa,'passingScore':parseInt(document[_0x484b6f(0x62a)](_0x484b6f(0x23f))['value'])||0x0,'passingScore':parseInt(document[_0x484b6f(0x62a)](_0x484b6f(0x23f))[_0x484b6f(0x412)])||0x0,'isAdaptive':document[_0x484b6f(0x62a)](_0x484b6f(0x2fa))[_0x484b6f(0x473)]};try{await updateDoc(_0x3714a5,{'settings':_0x12bb75}),showMessage(_0x484b6f(0x1dc)),quizSettingsModal[_0x484b6f(0x48f)][_0x484b6f(0x462)](_0x484b6f(0x20a)),actionTargetId=null;}catch(_0x2d07a7){console[_0x484b6f(0x5cf)]('Error\x20updating\x20quiz\x20settings:',_0x2d07a7),showMessage(_0x484b6f(0x289));}}async function handleQuizStatus(_0x495ef9){const _0x5cf101=_0x5e6fd0;actionTargetId=_0x495ef9;const _0x22ce3c=doc(db,_0x5cf101(0x3c0)+appId+_0x5cf101(0x3d8),_0x495ef9);try{const _0x5f216b=await getDoc(_0x22ce3c);if(_0x5f216b['exists']()){const _0x4ee732=_0x5f216b[_0x5cf101(0x386)](),_0x495011=_0x4ee732['status']||'active',_0xdf088e=document[_0x5cf101(0x62a)](_0x5cf101(0x2d5)),_0x253ff8=document[_0x5cf101(0x62a)](_0x5cf101(0x5c6)),_0x370d64=document[_0x5cf101(0x62a)](_0x5cf101(0x483));let _0x502ad3=_0x5cf101(0x406)+(_0x495011==='active'?'checked':'')+_0x5cf101(0x53e)+(_0x495011===_0x5cf101(0x417)?_0x5cf101(0x473):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x495011===_0x5cf101(0x57c)?_0x5cf101(0x473):'')+_0x5cf101(0x14a);_0xdf088e[_0x5cf101(0x2ee)]=_0x502ad3;const _0x52bda7=_0x495011==='scheduled';_0x253ff8['classList'][_0x5cf101(0x39d)]('hidden',!_0x52bda7),_0x370d64[_0x5cf101(0x48f)][_0x5cf101(0x39d)](_0x5cf101(0x20a),!_0x52bda7),document[_0x5cf101(0x62a)](_0x5cf101(0x60e))[_0x5cf101(0x412)]=_0x4ee732[_0x5cf101(0x206)]?_0x4ee732[_0x5cf101(0x206)][_0x5cf101(0x14b)](0x0,0x10):'',document[_0x5cf101(0x62a)]('quiz-end-time')[_0x5cf101(0x412)]=_0x4ee732[_0x5cf101(0x60b)]?_0x4ee732[_0x5cf101(0x60b)][_0x5cf101(0x14b)](0x0,0x10):'',_0xdf088e[_0x5cf101(0x447)](_0x5cf101(0x5c0))['forEach'](_0x2ca12d=>{const _0x14586e=_0x5cf101;_0x2ca12d[_0x14586e(0x199)](_0x14586e(0x3d7),_0x537b01=>{const _0x41d30c=_0x14586e,_0x54bb77=_0x537b01[_0x41d30c(0x180)][_0x41d30c(0x412)]===_0x41d30c(0x203);_0x253ff8[_0x41d30c(0x48f)][_0x41d30c(0x39d)](_0x41d30c(0x20a),!_0x54bb77),_0x370d64[_0x41d30c(0x48f)][_0x41d30c(0x39d)](_0x41d30c(0x20a),!_0x54bb77);});}),quizStatusModal['classList'][_0x5cf101(0x2ba)](_0x5cf101(0x20a));}}catch(_0x4b5f7f){console[_0x5cf101(0x5cf)](_0x5cf101(0x45f),_0x4b5f7f),showMessage(_0x5cf101(0x4d8));}}async function confirmQuizStatus(){const _0x2622c0=_0x5e6fd0;if(!actionTargetId)return;const _0x33cb54=doc(db,_0x2622c0(0x3c0)+appId+_0x2622c0(0x3d8),actionTargetId),_0x41323e=document[_0x2622c0(0x4a0)](_0x2622c0(0x1a0));if(!_0x41323e){showMessage(_0x2622c0(0x4a5));return;}const _0x577d55=_0x41323e[_0x2622c0(0x412)];let _0x36ce2a={};if(_0x577d55===_0x2622c0(0x415)||_0x577d55===_0x2622c0(0x417))_0x36ce2a={'status':_0x577d55,'startTime':null,'endTime':null};else{if(_0x577d55==='schedule'){const _0x4e79f6=document[_0x2622c0(0x62a)]('quiz-start-time')[_0x2622c0(0x412)],_0x118507=document[_0x2622c0(0x62a)]('quiz-end-time')['value'];if(!_0x4e79f6&&!_0x118507){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x36ce2a={'status':_0x2622c0(0x57c),'startTime':_0x4e79f6?new Date(_0x4e79f6)['toISOString']():null,'endTime':_0x118507?new Date(_0x118507)[_0x2622c0(0x28d)]():null};}}try{await updateDoc(_0x33cb54,_0x36ce2a),showMessage(_0x2622c0(0x25c)),quizStatusModal[_0x2622c0(0x48f)][_0x2622c0(0x462)](_0x2622c0(0x20a)),actionTargetId=null;}catch(_0x51e6f9){console[_0x2622c0(0x5cf)]('Error\x20updating\x20quiz\x20status:',_0x51e6f9),showMessage(_0x2622c0(0x27f));}}function listenForStudentProfiles(_0x44f424){const _0x477c82=_0x5e6fd0,_0x13da8f=collection(db,_0x477c82(0x3c0)+appId+'/public/data/projects/'+_0x44f424+_0x477c82(0x509));unsubscribeStudentProfilesListener=onSnapshot(_0x13da8f,_0x587016=>{const _0x414ffe=_0x477c82,_0x381e13=_0x587016[_0x414ffe(0x3a9)]['map'](_0x5e2d60=>_0x5e2d60[_0x414ffe(0x386)]());renderLeaderboard(_0x381e13,_0x414ffe(0x271));},_0x3be90d=>{const _0x5f1db3=_0x477c82;console[_0x5f1db3(0x5cf)](_0x5f1db3(0x566),_0x3be90d),document[_0x5f1db3(0x62a)](_0x5f1db3(0x271))['innerHTML']=_0x5f1db3(0x611);});}function renderLeaderboard(_0x1c7794,_0x3bf271){const _0x183d61=_0x5e6fd0,_0x489bd6=document['getElementById'](_0x3bf271);if(!_0x1c7794||_0x1c7794[_0x183d61(0x15b)]===0x0){_0x489bd6[_0x183d61(0x2ee)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x1c7794[_0x183d61(0x8c)]((_0x29a8d7,_0x632d7)=>{const _0x4bf2d7=_0x183d61,_0x4a6977=(_0x632d7[_0x4bf2d7(0x548)]||0x0)-(_0x29a8d7[_0x4bf2d7(0x548)]||0x0);if(_0x4a6977!==0x0)return _0x4a6977;const _0x542786=(_0x632d7[_0x4bf2d7(0x17c)]?.['specialist']||0x0)-(_0x29a8d7['badgesCount']?.['specialist']||0x0);if(_0x542786!==0x0)return _0x542786;const _0x4d670d=(_0x632d7[_0x4bf2d7(0x17c)]?.['first_try_ace']||0x0)-(_0x29a8d7[_0x4bf2d7(0x17c)]?.[_0x4bf2d7(0x3ec)]||0x0);if(_0x4d670d!==0x0)return _0x4d670d;const _0x1cbdba=(_0x632d7[_0x4bf2d7(0x17c)]?.[_0x4bf2d7(0xa1)]||0x0)-(_0x29a8d7['badgesCount']?.[_0x4bf2d7(0xa1)]||0x0);if(_0x1cbdba!==0x0)return _0x1cbdba;const _0x133fc3=(_0x632d7[_0x4bf2d7(0x17c)]?.[_0x4bf2d7(0x333)]||0x0)-(_0x29a8d7[_0x4bf2d7(0x17c)]?.['quick_thinker']||0x0);if(_0x133fc3!==0x0)return _0x133fc3;return _0x29a8d7['studentName'][_0x4bf2d7(0x365)](_0x632d7[_0x4bf2d7(0x588)],'th');});let _0x5037e7='';_0x1c7794[_0x183d61(0x5c5)]((_0x52cfca,_0x9ed92d)=>{const _0x33e7ea=_0x183d61,_0x32354a=_0x9ed92d+0x1,_0x70b12c=_0x52cfca[_0x33e7ea(0x17c)]||{};let _0x41c2d3='';const _0x34e660=[_0x33e7ea(0x3a6),'perfect_score',_0x33e7ea(0x3ec),_0x33e7ea(0x333)];_0x34e660[_0x33e7ea(0x5c5)](_0xdd59ad=>{const _0x139c3d=_0x33e7ea;if(_0x70b12c[_0xdd59ad]>0x0){const _0x5ede70=Object[_0x139c3d(0x2bf)](BADGES)[_0x139c3d(0x1c2)](_0x5b5e4b=>_0x5b5e4b['id']===_0xdd59ad);_0x5ede70&&(_0xdd59ad===_0x139c3d(0x3a6)?_0x41c2d3+=_0x139c3d(0x635)+_0x5ede70[_0x139c3d(0x1c3)]+_0x139c3d(0x2b5)+_0x5ede70[_0x139c3d(0x396)]+_0x139c3d(0x610):_0x41c2d3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x5ede70[_0x139c3d(0x1c3)]+'\x20('+_0x70b12c[_0xdd59ad]+_0x139c3d(0x25d)+_0x5ede70[_0x139c3d(0x396)]+_0x139c3d(0x12a)+_0x70b12c[_0xdd59ad]+_0x139c3d(0x619));}}),_0x5037e7+=_0x33e7ea(0x62e)+_0x32354a+_0x33e7ea(0x3e2)+_0x52cfca['studentName']+_0x33e7ea(0x1e1)+(_0x52cfca[_0x33e7ea(0x548)]||0x0)+_0x33e7ea(0x3e2)+(_0x41c2d3||'-')+_0x33e7ea(0x5e5);}),_0x489bd6[_0x183d61(0x2ee)]=_0x5037e7;}function renderQuizLeaderboard(_0x1496a9,_0x1835d9,_0x34ad2b){const _0x199685=_0x5e6fd0,_0x4d4c5b=document[_0x199685(0x62a)](_0x34ad2b),_0x5887cc=_0x34ad2b==='student-quiz-leaderboard-table-body',_0x291a6a=_0x1835d9['questions'][_0x199685(0x15b)],_0xb70826=document[_0x199685(0x62a)](_0x34ad2b)[_0x199685(0xc3)](_0x199685(0x3c7));if(_0xb70826&&!_0x5887cc){const _0x11d7ca=_0xb70826[_0x199685(0x4a0)](_0x199685(0x16f));_0x11d7ca[_0x199685(0x2ee)]=_0x199685(0x4dd);}if(!_0x1496a9||_0x1496a9[_0x199685(0x15b)]===0x0){_0x4d4c5b[_0x199685(0x2ee)]=_0x199685(0x186)+(_0x5887cc?0x6:0x8)+_0x199685(0x5f9);return;}const _0x7bd98a=[..._0x1496a9];_0x7bd98a[_0x199685(0x8c)]((_0x46db18,_0x5b3fa6)=>{const _0xa2417b=_0x199685;let _0x5650c9,_0xf0a64b;switch(quizLeaderboardSortBy){case _0xa2417b(0x588):_0x5650c9=_0x46db18['studentName']||'',_0xf0a64b=_0x5b3fa6[_0xa2417b(0x588)]||'';return quizLeaderboardSortOrder===_0xa2417b(0x470)?_0x5650c9[_0xa2417b(0x365)](_0xf0a64b,'th'):_0xf0a64b[_0xa2417b(0x365)](_0x5650c9,'th');case _0xa2417b(0x398):_0x5650c9=_0x46db18[_0xa2417b(0x398)]||0x0,_0xf0a64b=_0x5b3fa6['points']||0x0;break;case _0xa2417b(0x21b):_0x5650c9=_0x46db18[_0xa2417b(0x21b)]?.[_0xa2417b(0x15b)]||0x1,_0xf0a64b=_0x5b3fa6['attempts']?.[_0xa2417b(0x15b)]||0x1;break;case'latestSubmittedAt':_0x5650c9=new Date(_0x46db18[_0xa2417b(0x45b)]),_0xf0a64b=new Date(_0x5b3fa6[_0xa2417b(0x45b)]);break;case _0xa2417b(0x4ba):default:_0x5650c9=_0x46db18[_0xa2417b(0x4ba)],_0xf0a64b=_0x5b3fa6['bestScore'];break;}if(_0x5650c9<_0xf0a64b)return quizLeaderboardSortOrder===_0xa2417b(0x470)?-0x1:0x1;if(_0x5650c9>_0xf0a64b)return quizLeaderboardSortOrder===_0xa2417b(0x470)?0x1:-0x1;return 0x0;});const _0x1ae99a=_0x1835d9['isRemedial']===!![],_0x275b46=_0x1835d9[_0x199685(0x3de)]?.[_0x199685(0x458)]??-0x1;let _0x14b535='';_0x7bd98a['forEach']((_0x328a66,_0x4bfe02)=>{const _0x2d73bf=_0x199685,_0xfe02f9=_0x4bfe02+0x1;let _0x5b6be3=_0x2d73bf(0x55a);if(_0x1ae99a||_0x275b46!==-0x1){let _0x3466a1=_0x1ae99a?_0x328a66[_0x2d73bf(0x4ba)]===_0x291a6a:_0x328a66[_0x2d73bf(0x4ba)]>=_0x275b46;const _0x38ee14=_0x3466a1?_0x2d73bf(0x38c):_0x2d73bf(0xa2),_0x1c7b41=_0x3466a1?_0x2d73bf(0x25b):_0x2d73bf(0x440);_0x5b6be3='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x38ee14+'\x22>'+_0x1c7b41+_0x2d73bf(0x351);}const _0x217bf7=_0x328a66[_0x2d73bf(0x21b)][_0x328a66[_0x2d73bf(0x21b)][_0x2d73bf(0x15b)]-0x1],_0x3c824a=(_0x217bf7['badges']||[])['map'](_0x1548c7=>{const _0x5a6aa0=_0x2d73bf,_0x2db46d=Object[_0x5a6aa0(0x2bf)](BADGES)[_0x5a6aa0(0x1c2)](_0x11a82b=>_0x11a82b['id']===_0x1548c7);return _0x2db46d?_0x5a6aa0(0x526)+_0x2db46d['name']+_0x5a6aa0(0xf7)+_0x2db46d[_0x5a6aa0(0x396)]+_0x5a6aa0(0x420):'';})['join']('');_0x14b535+=_0x2d73bf(0x33f)+_0xfe02f9+_0x2d73bf(0xca)+_0x328a66[_0x2d73bf(0x588)]+_0x2d73bf(0x2a3)+_0x328a66[_0x2d73bf(0x4ba)]+_0x2d73bf(0x10a)+_0x291a6a+_0x2d73bf(0x377)+_0x5b6be3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x328a66[_0x2d73bf(0x398)]||0x0)+_0x2d73bf(0x377)+(_0x5887cc?'':_0x2d73bf(0x1f4)+(_0x328a66[_0x2d73bf(0x21b)]?.[_0x2d73bf(0x15b)]||0x1)+_0x2d73bf(0x551))+_0x2d73bf(0xab)+(_0x5887cc?'':_0x2d73bf(0x300)+new Date(_0x328a66[_0x2d73bf(0x45b)])[_0x2d73bf(0x125)](_0x2d73bf(0x1e3))+_0x2d73bf(0x551))+_0x2d73bf(0x1ec)+(_0x3c824a||'-')+_0x2d73bf(0x1ad);}),_0x4d4c5b[_0x199685(0x2ee)]=_0x14b535,_0xb70826&&!_0x5887cc&&_0xb70826['querySelectorAll'](_0x199685(0xbe))[_0x199685(0x5c5)](_0x1f892f=>{const _0x3f1ae1=_0x199685,_0x1c5213=_0x1f892f[_0x3f1ae1(0x4a0)](_0x3f1ae1(0x20e));if(_0x1c5213)_0x1c5213[_0x3f1ae1(0x2ba)]();_0x1f892f[_0x3f1ae1(0xb8)][_0x3f1ae1(0x8c)]===quizLeaderboardSortBy&&(_0x1f892f[_0x3f1ae1(0x2ee)]+=_0x3f1ae1(0x225)+(quizLeaderboardSortOrder===_0x3f1ae1(0x470)?'▲':'▼')+'</span>');});}async function handleLoadQuiz(){const _0x1c055d=_0x5e6fd0,_0x2329dd=document['getElementById'](_0x1c055d(0xbf)),_0x33699c=_0x2329dd[_0x1c055d(0x412)][_0x1c055d(0x2fc)]();if(!_0x33699c){showMessage(_0x1c055d(0x56a));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']=_0x1c055d(0x1f8);try{const _0x36c72b=doc(db,_0x1c055d(0x3c0)+appId+_0x1c055d(0x3d8),_0x33699c),_0xe3a839=await getDoc(_0x36c72b);if(!_0xe3a839[_0x1c055d(0x5a0)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0xe3a839['id'],..._0xe3a839['data']()};const _0x987b4c=currentQuizData[_0x1c055d(0x143)]||_0x1c055d(0x415),_0x5b8dfa=new Date();if(_0x987b4c===_0x1c055d(0x417)){showMessage(_0x1c055d(0x427));return;}if(_0x987b4c===_0x1c055d(0x57c)){const _0x2bec82=currentQuizData['startTime']?new Date(currentQuizData[_0x1c055d(0x206)]):null,_0x3969f6=currentQuizData[_0x1c055d(0x60b)]?new Date(currentQuizData[_0x1c055d(0x60b)]):null;if(_0x2bec82&&_0x5b8dfa<_0x2bec82){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x2bec82['toLocaleString'](_0x1c055d(0x1e3),{'hour12':![]}));return;}if(_0x3969f6&&_0x5b8dfa>_0x3969f6){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x3a3387=currentQuizData['projectId'];currentProjectId=_0x3a3387;const _0x881be5=doc(db,_0x1c055d(0x3c0)+appId+'/public/data/projects',_0x3a3387),_0x397e14=await getDoc(_0x881be5);if(!_0x397e14[_0x1c055d(0x5a0)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x430d01=_0x397e14['data']();currentStudentProjectData=_0x430d01,displayStudentNameSelector(_0x430d01[_0x1c055d(0x12f)],currentQuizData[_0x1c055d(0x10e)]);}catch(_0x34e516){console['error'](_0x1c055d(0xd9),_0x34e516),showMessage(_0x1c055d(0x429));}finally{loadQuizBtn[_0x1c055d(0x50f)]=![],loadQuizBtn[_0x1c055d(0x2ee)]=_0x1c055d(0x4dc);}}async function handleJoinLiveGame(){const _0x8dc839=_0x5e6fd0,_0x562e7f=document[_0x8dc839(0x62a)]('game-pin-input'),_0x321ba6=document['getElementById'](_0x8dc839(0x5fb)),_0x4ca1ed=document[_0x8dc839(0x62a)](_0x8dc839(0x2c1)),_0x6003df=_0x562e7f['value'][_0x8dc839(0x2fc)](),_0x86a20f=_0x321ba6[_0x8dc839(0x412)][_0x8dc839(0x2fc)]();if(!_0x6003df||!_0x86a20f){showMessage(_0x8dc839(0x201));return;}_0x4ca1ed['disabled']=!![],_0x4ca1ed[_0x8dc839(0x2ee)]=_0x8dc839(0x63c);try{const _0x51396f=collection(db,'artifacts/'+appId+_0x8dc839(0x580)),_0x557531=query(_0x51396f,where(_0x8dc839(0x382),'==',_0x6003df),where(_0x8dc839(0x143),'==',_0x8dc839(0x3a3))),_0x5230c6=await getDocs(_0x557531);if(_0x5230c6[_0x8dc839(0xe2)]){showMessage(_0x8dc839(0x144));return;}const _0xf65181=_0x5230c6[_0x8dc839(0x3a9)][0x0],_0x2f2daa=_0xf65181[_0x8dc839(0x386)]();currentLiveGameId=_0xf65181['id'];const _0x1d91cc=_0x2f2daa[_0x8dc839(0x2e9)],_0x454f98=doc(db,_0x8dc839(0x3c0)+appId+_0x8dc839(0x3d8),_0x1d91cc),_0x18dabf=await getDoc(_0x454f98);if(!_0x18dabf[_0x8dc839(0x5a0)]()){showMessage(_0x8dc839(0x137));return;}currentQuizData={'id':_0x18dabf['id'],..._0x18dabf[_0x8dc839(0x386)]()};if(_0x2f2daa[_0x8dc839(0x19f)]&&_0x2f2daa[_0x8dc839(0x19f)][_0x86a20f]){showMessage(_0x8dc839(0x523));return;}const _0x471633={};_0x471633[_0x8dc839(0x95)+_0x86a20f]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x8dc839(0x3c0)+appId+_0x8dc839(0x580),currentLiveGameId),_0x471633),currentStudentName=_0x86a20f,listenForLiveGameUpdates();}catch(_0x41e2e3){console[_0x8dc839(0x5cf)]('Error\x20joining\x20live\x20game:',_0x41e2e3),showMessage(_0x8dc839(0x158));}finally{_0x4ca1ed[_0x8dc839(0x50f)]=![],_0x4ca1ed[_0x8dc839(0x2ee)]=_0x8dc839(0xde);}}function displayStudentNameSelector(_0x113a3b,_0x234f4a){const _0x4bed1a=_0x5e6fd0,_0x589195=document[_0x4bed1a(0x62a)](_0x4bed1a(0x2d4));document[_0x4bed1a(0x62a)](_0x4bed1a(0x569))[_0x4bed1a(0x31f)]=_0x4bed1a(0x1ac)+_0x234f4a,!_0x113a3b||_0x113a3b[_0x4bed1a(0x15b)]===0x0?(_0x589195[_0x4bed1a(0x2ee)]=_0x4bed1a(0x314),startQuizBtn[_0x4bed1a(0x50f)]=!![]):(_0x589195[_0x4bed1a(0x2ee)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x113a3b[_0x4bed1a(0x5c5)](_0x4a9796=>{const _0x4bfa91=_0x4bed1a,_0x1ca030=document[_0x4bfa91(0x562)](_0x4bfa91(0xda));_0x1ca030[_0x4bfa91(0x412)]=_0x4a9796,_0x1ca030[_0x4bfa91(0x31f)]=_0x4a9796,_0x589195[_0x4bfa91(0x476)](_0x1ca030);}),startQuizBtn[_0x4bed1a(0x50f)]=![]),studentInitialView[_0x4bed1a(0x48f)][_0x4bed1a(0x462)]('hidden'),studentNameSelectionView[_0x4bed1a(0x48f)][_0x4bed1a(0x2ba)]('hidden');}function shuffleArray(_0x2f77d7){const _0x424e81=_0x5e6fd0;for(let _0x4835bb=_0x2f77d7[_0x424e81(0x15b)]-0x1;_0x4835bb>0x0;_0x4835bb--){const _0x20f5d7=Math[_0x424e81(0x5ac)](Math[_0x424e81(0x4e2)]()*(_0x4835bb+0x1));[_0x2f77d7[_0x4835bb],_0x2f77d7[_0x20f5d7]]=[_0x2f77d7[_0x20f5d7],_0x2f77d7[_0x4835bb]];}}function getShuffledQuiz(_0xb14595){const _0x3796d5=_0x5e6fd0;let _0x46740e=JSON['parse'](JSON[_0x3796d5(0x1d0)](_0xb14595));const _0x5cc23b=_0x46740e[_0x3796d5(0x3de)]?.[_0x3796d5(0x146)]||_0x3796d5(0x36c);if(_0x5cc23b==='none')return _0x46740e;return(_0x5cc23b===_0x3796d5(0x32c)||_0x5cc23b===_0x3796d5(0x13d))&&shuffleArray(_0x46740e[_0x3796d5(0x286)]),(_0x5cc23b===_0x3796d5(0x3a2)||_0x5cc23b===_0x3796d5(0x13d))&&_0x46740e[_0x3796d5(0x286)]['forEach'](_0x45feb6=>{const _0x346630=_0x3796d5,_0x2e7db2=_0x45feb6[_0x346630(0x2fb)]||_0x46740e['quizType'];if(_0x45feb6[_0x346630(0xf2)]){let _0x3b26c3=_0x45feb6[_0x346630(0xf2)][_0x346630(0x3a4)]((_0x2c470e,_0x3e04e1)=>({'text':_0x2c470e,'isCorrect':_0x3e04e1===_0x45feb6[_0x346630(0x30e)]}));shuffleArray(_0x3b26c3),_0x45feb6['options']=_0x3b26c3[_0x346630(0x3a4)](_0x510119=>_0x510119[_0x346630(0x2dd)]),_0x45feb6[_0x346630(0x30e)]=_0x3b26c3[_0x346630(0x5a4)](_0x29b90d=>_0x29b90d[_0x346630(0x4ce)]);}_0x2e7db2===_0x346630(0x2a1)&&_0x45feb6['allResponses']&&shuffleArray(_0x45feb6[_0x346630(0x17e)]);}),_0x46740e;}function displayQuizForStudent(_0x543fdd){const _0x55a322=_0x5e6fd0;studentQuizArea['classList'][_0x55a322(0x2ba)](_0x55a322(0x20a)),currentDisplayedQuiz=getShuffledQuiz(_0x543fdd);const _0x4961fc=currentDisplayedQuiz['settings']?.['timerMode']||_0x55a322(0x36c);if(_0x4961fc==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x55a322(0x3de)][_0x55a322(0x2cb)]);else _0x4961fc===_0x55a322(0x4b2)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x26e7a9=_0x5e6fd0;let _0x395d34='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x26e7a9(0x10e)]+_0x26e7a9(0x5d1)+(currentMode===_0x26e7a9(0x27d)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x26e7a9(0x605);currentDisplayedQuiz[_0x26e7a9(0x286)][_0x26e7a9(0x5c5)]((_0x5343ce,_0x49b114)=>{const _0x5380d2=_0x26e7a9,_0x31b5ee=_0x5343ce[_0x5380d2(0x2fb)]||currentDisplayedQuiz[_0x5380d2(0x129)];_0x395d34+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x31b5ee===_0x5380d2(0x2a1)?_0x395d34+=_0x5380d2(0x3c9)+(_0x49b114+0x1)+'.\x20'+_0x5343ce[_0x5380d2(0x541)]+_0x5380d2(0x3df)+_0x49b114+_0x5380d2(0x380)+_0x5343ce[_0x5380d2(0x17e)][_0x5380d2(0x3a4)](_0x3182a6=>'<option\x20value=\x22'+_0x3182a6+'\x22>'+_0x3182a6+_0x5380d2(0x596))['join']('')+_0x5380d2(0x1fd):(_0x395d34+=_0x5380d2(0x4e0)+(_0x49b114+0x1)+'.\x20'+(_0x5343ce[_0x5380d2(0x428)]||_0x5343ce[_0x5380d2(0x375)])+_0x5380d2(0x5b2),_0x5343ce[_0x5380d2(0x2d3)]&&(_0x395d34+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5343ce['imageCode']+_0x5380d2(0x4bb)));_0x395d34+=_0x5380d2(0xff);switch(_0x31b5ee){case _0x5380d2(0x514):_0x395d34+=_0x5380d2(0x4a3)+_0x49b114+_0x5380d2(0x16a);break;case _0x5380d2(0x278):_0x395d34+=_0x5380d2(0x16d)+_0x49b114+'_opt0\x22\x20name=\x22question'+_0x49b114+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x49b114+_0x5380d2(0x44e),_0x395d34+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x49b114+_0x5380d2(0x13e)+_0x49b114+_0x5380d2(0x350)+_0x49b114+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x5380d2(0x2a1):break;case'fill_in_the_blank':case _0x5380d2(0x250):default:_0x395d34+=_0x5343ce[_0x5380d2(0xf2)][_0x5380d2(0x3a4)]((_0xf3b611,_0x257987)=>_0x5380d2(0xc2)+_0x49b114+_0x5380d2(0x622)+_0x257987+_0x5380d2(0x312)+_0x49b114+_0x5380d2(0x3d2)+_0x257987+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x49b114+_0x5380d2(0x622)+_0x257987+'\x22>'+_0xf3b611+'</label>\x0a\x20\x20\x20\x20</div>\x0a')[_0x5380d2(0x1b3)]('');break;}_0x395d34+=_0x5380d2(0x4d1);}),_0x395d34+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x395d34+=_0x26e7a9(0x624),studentQuizArea[_0x26e7a9(0x2ee)]=_0x395d34;if(currentMode===_0x26e7a9(0x27d)){const _0x549864=document['getElementById']('cancel-test-btn');if(_0x549864)_0x549864[_0x26e7a9(0x199)](_0x26e7a9(0x15d),cancelAdminTest);}document[_0x26e7a9(0x62a)]('quiz-form')['addEventListener'](_0x26e7a9(0x10c),handleSubmitQuiz);if(window['MathJax'])window[_0x26e7a9(0x1c1)][_0x26e7a9(0x331)]([studentQuizArea]);}async function handleSubmitQuiz(_0x3f7f30){const _0x5a0887=_0x5e6fd0;if(_0x3f7f30)_0x3f7f30['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x20522a=document['getElementById'](_0x5a0887(0xe1));if(!_0x20522a)return;const _0x1b8d60=_0x20522a[_0x5a0887(0x4a0)](_0x5a0887(0xf4)),_0x10e1f7=currentDisplayedQuiz[_0x5a0887(0x286)][_0x5a0887(0x230)](_0xde7955=>_0xde7955['questionType']===_0x5a0887(0x514));_0x1b8d60&&(_0x1b8d60[_0x5a0887(0x50f)]=!![],_0x10e1f7?_0x1b8d60[_0x5a0887(0x2ee)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x1b8d60['innerHTML']=_0x5a0887(0x5f8));const _0x4938ca=new FormData(_0x20522a),_0x45522c=currentDisplayedQuiz[_0x5a0887(0x286)]['map']((_0x6e5075,_0x5c494b)=>{const _0x4dd4ec=_0x5a0887,_0x16a25b=_0x6e5075[_0x4dd4ec(0x2fb)]||currentDisplayedQuiz[_0x4dd4ec(0x129)],_0x58fed2=_0x4938ca[_0x4dd4ec(0x325)](_0x4dd4ec(0x276)+_0x5c494b);if(_0x58fed2!==null&&_0x58fed2!==undefined){if(_0x16a25b===_0x4dd4ec(0x250)||_0x16a25b===_0x4dd4ec(0x5d4))return parseInt(_0x58fed2);return _0x58fed2;}return null;}),_0x969155=currentQuizData['id'],_0x5482b8=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x969155+_0x5a0887(0x4eb),currentStudentName),_0x5e2b07=await getDoc(_0x5482b8),_0x4e487a=_0x5e2b07[_0x5a0887(0x5a0)]()?_0x5e2b07['data']():{},_0x20adcf=_0x4e487a[_0x5a0887(0x21b)]||[];await processAndSubmitAnswers(_0x45522c,_0x20adcf);}async function gradeShortAnswerWithAI(_0x9c2f6d,_0x54f6bd){const _0x4b2316=_0x5e6fd0;if(!_0x9c2f6d||!_0x54f6bd)return![];try{const _0x3aef75='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x9c2f6d+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x54f6bd+_0x4b2316(0x2d8),_0x27dd53={'contents':[{'role':'user','parts':[{'text':_0x3aef75}]}]},_0x2532fe='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x58414e=_0x4b2316(0xcb)+_0x2532fe,_0x47e854=await fetch(_0x58414e,{'method':_0x4b2316(0x589),'headers':{'Content-Type':_0x4b2316(0x557)},'body':JSON[_0x4b2316(0x1d0)](_0x27dd53)});if(!_0x47e854['ok'])throw new Error(_0x4b2316(0x3d4));const _0xd37790=await _0x47e854['json'](),_0x469665=_0xd37790[_0x4b2316(0x193)][0x0][_0x4b2316(0x367)][_0x4b2316(0x27a)][0x0][_0x4b2316(0x2dd)][_0x4b2316(0x2fc)]()[_0x4b2316(0x306)]();return _0x469665==='true';}catch(_0x4a9781){return console[_0x4b2316(0x5cf)](_0x4b2316(0x579),_0x4a9781),![];}}async function processAndSubmitAnswers(_0x40ad11,_0x15c70b){const _0x2c3914=_0x5e6fd0;let _0x5c7bb1=0x0,_0xba221=0x0,_0x25ab15=[];const _0x33a213=[],_0x2bbedf=currentDisplayedQuiz[_0x2c3914(0x286)][_0x2c3914(0x15b)];let _0x5a30b1=0x0;const _0x59e209=currentDisplayedQuiz[_0x2c3914(0x286)];for(let _0x1a2d5d=0x0;_0x1a2d5d<_0x59e209[_0x2c3914(0x15b)];_0x1a2d5d++){const _0x19b3f6=_0x59e209[_0x1a2d5d],_0x2340dc=_0x40ad11[_0x1a2d5d],_0x1251f3=_0x19b3f6[_0x2c3914(0x2fb)]||currentDisplayedQuiz[_0x2c3914(0x129)];let _0x428ed6=![];if(_0x2340dc!==null&&_0x2340dc!=='')switch(_0x1251f3){case _0x2c3914(0x2a1):_0x428ed6=_0x2340dc===_0x19b3f6['correctResponse'];break;case _0x2c3914(0x278):const _0x2ead91=_0x2340dc===!![]||_0x2340dc===_0x2c3914(0x358);_0x428ed6=_0x2ead91===_0x19b3f6['correctAnswer'];break;case _0x2c3914(0x5d4):case _0x2c3914(0x250):default:_0x428ed6=Number(_0x2340dc)===_0x19b3f6['correctAnswerIndex'];break;case _0x2c3914(0x514):_0x428ed6=await gradeShortAnswer(_0x2340dc,_0x19b3f6);break;}_0x428ed6?(_0x5c7bb1++,_0x5a30b1++,_0x5a30b1===0x3&&(_0x25ab15[_0x2c3914(0x18d)](BADGES['ON_FIRE']['id']),_0x5a30b1=0x0)):_0x5a30b1=0x0,_0x33a213[_0x2c3914(0x18d)]({'answer':_0x2340dc,'isCorrect':_0x428ed6,'originalQuestionText':_0x19b3f6[_0x2c3914(0x541)]||_0x19b3f6[_0x2c3914(0x375)]});}_0xba221=_0x5c7bb1*0xa;_0x5c7bb1===_0x2bbedf&&_0x2bbedf>0x0&&!currentDisplayedQuiz[_0x2c3914(0x564)]&&(_0xba221+=0x32,_0x25ab15['push'](BADGES[_0x2c3914(0x20d)]['id']));const _0x537b58=currentDisplayedQuiz[_0x2c3914(0x3de)]?.[_0x2c3914(0x458)]??Math[_0x2c3914(0x5ac)](_0x2bbedf/0x2),_0x2a8278=currentDisplayedQuiz[_0x2c3914(0x3de)]?.[_0x2c3914(0x5b6)];if(_0x2a8278===_0x2c3914(0x102)&&quizStartTime){const _0x4f7297=(new Date()-quizStartTime)/0x3e8,_0x10e028=currentDisplayedQuiz['settings'][_0x2c3914(0x2cb)]*0x3c;_0x5c7bb1>=_0x537b58&&_0x4f7297<_0x10e028/0x2&&(_0xba221+=0x14,_0x25ab15[_0x2c3914(0x18d)](BADGES[_0x2c3914(0x2a7)]['id']));}_0x15c70b[_0x2c3914(0x15b)]===0x0&&_0x5c7bb1===_0x2bbedf&&_0x2bbedf>0x0&&_0x25ab15[_0x2c3914(0x18d)](BADGES[_0x2c3914(0x228)]['id']);if(_0x15c70b[_0x2c3914(0x15b)]>0x0){const _0x2cf48b=_0x15c70b[0x0][_0x2c3914(0x58a)];if(_0x2cf48b<_0x537b58&&_0x5c7bb1>=_0x537b58){const _0x5b2d62=_0x15c70b['some'](_0x17875f=>(_0x17875f['badges']||[])[_0x2c3914(0x33d)](BADGES['COMEBACK_KING']['id']));!_0x5b2d62&&_0x25ab15[_0x2c3914(0x18d)](BADGES[_0x2c3914(0x1fa)]['id']);}}_0x15c70b[_0x2c3914(0x15b)]===0x4&&_0x25ab15[_0x2c3914(0x18d)](BADGES[_0x2c3914(0x378)]['id']);const _0x616930=currentDisplayedQuiz['settings']['resultsDisplay'];if(currentMode===_0x2c3914(0x27d)){handleResultDisplay(_0x616930,_0x5c7bb1,_0xba221,_0x25ab15,_0x33a213,_0x2bbedf);return;}const _0x53e2b2=currentQuizData['id'],_0x1a370f=doc(db,'artifacts/'+appId+_0x2c3914(0x352)+_0x53e2b2+_0x2c3914(0x4eb),currentStudentName);try{const _0xa5da2f=[..._0x15c70b],_0x393b06={'score':_0x5c7bb1,'points':_0xba221,'badges':_0x25ab15,'submittedAt':new Date()[_0x2c3914(0x28d)](),'answers':_0x33a213};_0xa5da2f[_0x2c3914(0x18d)](_0x393b06);const _0x155939=_0xa5da2f[0x0][_0x2c3914(0x58a)],_0x8c4580=Math['max'](..._0xa5da2f[_0x2c3914(0x3a4)](_0x48c183=>_0x48c183[_0x2c3914(0x58a)])),_0x553f72=_0x5c7bb1,_0x324fac=_0x393b06[_0x2c3914(0x13f)];await setDoc(_0x1a370f,{'studentName':currentStudentName,'totalQuestions':_0x2bbedf,'attempts':_0xa5da2f,'firstScore':_0x155939,'bestScore':_0x8c4580,'latestScore':_0x553f72,'points':_0xba221,'latestSubmittedAt':_0x324fac}),await updateStudentProfile(currentQuizData[_0x2c3914(0x8e)],currentStudentName),handleResultDisplay(_0x616930,_0x5c7bb1,_0xba221,_0x25ab15,_0x33a213,_0x2bbedf);}catch(_0x1a2569){console[_0x2c3914(0x5cf)](_0x2c3914(0x35c),_0x1a2569),showMessage(_0x2c3914(0x3b5));}}async function updateStudentProfile(_0x54a220,_0x545b37){const _0x1db311=_0x5e6fd0,_0x1c3f9d=doc(db,_0x1db311(0x3c0)+appId+_0x1db311(0x495)+_0x54a220+_0x1db311(0x509),_0x545b37);try{const _0x3ee7e9=query(collection(db,'artifacts/'+appId+_0x1db311(0x3d8)),where('projectId','==',_0x54a220)),_0x2e28db=await getDocs(_0x3ee7e9),_0x1b5d32=new Map(_0x2e28db[_0x1db311(0x3a9)][_0x1db311(0x3a4)](_0x17d7da=>[_0x17d7da['id'],_0x17d7da[_0x1db311(0x386)]()])),_0x1a6af5=Array[_0x1db311(0x26a)](_0x1b5d32[_0x1db311(0x3c6)]());await runTransaction(db,async _0x19a581=>{const _0x215958=_0x1db311;let _0x505143=0x0;const _0x33bc7d={};let _0x5ae13d=!![],_0x942344=0x0,_0xc635aa=0x0;for(const _0x55a9a4 of _0x1a6af5){const _0x403c79=_0x1b5d32[_0x215958(0x325)](_0x55a9a4),_0x360cbb=doc(db,_0x215958(0x3c0)+appId+_0x215958(0x352)+_0x55a9a4+_0x215958(0x4eb),_0x545b37),_0x2cf0fe=await _0x19a581[_0x215958(0x325)](_0x360cbb);if(_0x2cf0fe[_0x215958(0x5a0)]()){const _0x31cad7=_0x2cf0fe['data'](),_0x2374e1=_0x31cad7[_0x215958(0x21b)]||[];if(_0x2374e1[_0x215958(0x15b)]>0x0){const _0x4073c6=_0x2374e1[_0x215958(0x1b4)]((_0x5cd98d,_0x22d4f6)=>{const _0x3a2bb2=_0x215958;if(_0x22d4f6[_0x3a2bb2(0x58a)]>_0x5cd98d['score'])return _0x22d4f6;if(_0x22d4f6['score']===_0x5cd98d['score'])return(_0x22d4f6[_0x3a2bb2(0x398)]||0x0)>(_0x5cd98d[_0x3a2bb2(0x398)]||0x0)?_0x22d4f6:_0x5cd98d;return _0x5cd98d;},{'score':-0x1,'points':-0x1});_0x4073c6['score']>-0x1&&(_0x505143+=_0x4073c6['points']||0x0,(_0x4073c6[_0x215958(0x264)]||[])[_0x215958(0x5c5)](_0x2953d7=>{_0x33bc7d[_0x2953d7]=(_0x33bc7d[_0x2953d7]||0x0)+0x1;}));}}if(_0x403c79[_0x215958(0x10e)]!=='แบบทดสอบซ่อมเสริม'){_0xc635aa++;if(_0x2cf0fe[_0x215958(0x5a0)]()){_0x942344++;const _0x1ea6cd=_0x2cf0fe[_0x215958(0x386)]();_0x1ea6cd[_0x215958(0x4ba)]!==_0x1ea6cd['totalQuestions']&&(_0x5ae13d=![]);}else _0x5ae13d=![];}}_0xc635aa>0x0&&_0x942344===_0xc635aa&&_0x5ae13d?_0x33bc7d[_0x215958(0x3a6)]=0x1:_0x33bc7d[_0x215958(0x3a6)]=0x0,_0x19a581[_0x215958(0x280)](_0x1c3f9d,{'studentName':_0x545b37,'totalPoints':_0x505143,'unlockedBadges':Object['keys'](_0x33bc7d)['filter'](_0x5cf217=>_0x33bc7d[_0x5cf217]>0x0),'badgesCount':_0x33bc7d},{'merge':!![]});});}catch(_0x16dabf){console[_0x1db311(0x5cf)](_0x1db311(0xa9),_0x16dabf),showMessage(_0x1db311(0x4fb));}}function startAdminTest(){const _0x22a956=_0x5e6fd0;if(!currentQuizData){showMessage(_0x22a956(0x51c));return;}let _0x2be499=JSON[_0x22a956(0xc7)](JSON[_0x22a956(0x1d0)](currentQuizData));currentMode=_0x22a956(0x27d),currentStudentName=_0x22a956(0x11d),adminView[_0x22a956(0x48f)]['add'](_0x22a956(0x20a)),studentView[_0x22a956(0x48f)][_0x22a956(0x2ba)]('hidden'),studentInitialView[_0x22a956(0x48f)][_0x22a956(0x462)](_0x22a956(0x20a)),studentNameSelectionView['classList'][_0x22a956(0x462)](_0x22a956(0x20a)),studentResultArea[_0x22a956(0x48f)][_0x22a956(0x462)](_0x22a956(0x20a)),studentQuizArea[_0x22a956(0x48f)][_0x22a956(0x2ba)](_0x22a956(0x20a)),quizStartTime=new Date(),displayQuizForStudent(_0x2be499);}function handleResultDisplay(_0x39dace,_0x5ccf1e,_0x5d8363,_0x1a2c2d,_0x3b5dae,_0x4cfbd1){const _0x444671=_0x5e6fd0,_0x41b301=currentDisplayedQuiz[_0x444671(0x3de)]?.['passingScore']??Math['floor'](_0x4cfbd1/0x2),_0x39fe7b=currentDisplayedQuiz[_0x444671(0x3de)]?.[_0x444671(0x86)]??![];if(_0x39fe7b&&_0x5ccf1e<_0x41b301){startAdaptiveFlow(_0x3b5dae,_0x5ccf1e,_0x4cfbd1);return;}switch(_0x39dace){case _0x444671(0x5e8):displayResultsWithAnswers(_0x5ccf1e,_0x5d8363,_0x1a2c2d,_0x3b5dae,_0x4cfbd1);break;case _0x444671(0x2ca):displayResultsScoreOnly(_0x5ccf1e,_0x5d8363,_0x1a2c2d,_0x4cfbd1);break;case _0x444671(0x2ea):displayPassFailOnly(_0x5ccf1e,_0x4cfbd1);break;case'manual_release':default:displaySubmissionConfirmation();break;}}function _0x572d(){const _0x22e72d=['passingScore','originalQuestion','project-quizzes-list','latestSubmittedAt','live-submit-short-answer-btn','modal-shuffle-select','.\x20แต่ละข้อมี\x20','Error\x20fetching\x20quiz\x20status:','border-green-700','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','add','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','prev-question-btn','quiz-editor-questions-container','ทฤษฎีบทพีทาโกรัสและการประยุกต์','confirm-admin-login-btn','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','check-presentation-answer-btn','ดอทโปรดักต์\x20(dot)','asc','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','file-tab','checked','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','แบบเติมคำตอบ','เกิดข้อผิดพลาดในการติดดาว','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','timer-bar','.quiz-bank-try-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','manage-tab-content','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','category','quiz-schedule-end-container','delete','ร้อยละประยุกต์','fa-crown\x20text-yellow-500','ฟังก์ชันสัมพัทธ์\x20(rational)','touchstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-input-area','Error\x20opening\x20quiz\x20editor:','#results-table','Error\x20starting\x20game:','ดีเทอร์มิแนนต์','classList','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','contentEditable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x5cfrac{$1}{$2}','/public/data/projects/','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','execCommand','Error\x20toggling\x20star\x20status:','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','test','ตรีโกณมิติ','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','querySelector','ปริพันธ์ไม่จำกัด','touchcancel','<textarea\x20name=\x22question','border-green-500','กรุณาเลือกสถานะ','select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ระบบสมการเชิงเส้นสองตัวแปร','auto-fix-latex-btn','deselect-all-topics-btn','modal-timer-mode-select','doughnut','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','ไม่ได้ตอบ','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','per_question','$1^{\x5ccirc}\x5ctext{C}','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#view-rankings-btn','bestScore','</div>','Error\x20saving\x20to\x20question\x20bank:','results-table','\x20mr-2\x22></i>','พีชคณิตและฟังก์ชัน','confirm-delete-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.question-editor-item','admin-view','จำนวนนักเรียน','body','จำนวนและการดำเนินการ','export-pdf-btn','getTextContent','input[type=\x22text\x22]','defaultNumChoices','-tab','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','isCorrect','border-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-blueprint-btn','padStart','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-list','เกิดข้อผิดพลาดในการโหลดสถานะ','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-green-700','user-id-display','<p>','custom-math-topic-input','random','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','การวัด','svg','.delete-svg-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','/submissions','questionDisplayedAt','จำนวนเชิงซ้อน\x20(เสริม)','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','submission','\x22\x20สำเร็จ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','files','ย้ายแบบทดสอบไปโปรเจคอื่น','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','after','สร้างชุดคำถามจับคู่','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','live-game','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','save','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','touchend','อุณหภูมิและการแปลง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','matching','cursor','ความชันเส้นสัมผัส','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการราก\x20(radical)','quiz-leaderboard-table-container','<h1></h1>','/studentProfiles','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','correctResponse','quiz-leaderboard-table-body','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','disabled','finishReason','rename-quiz-input','Error\x20generating\x20parallel\x20test\x20from\x20bank:','การหารเศษส่วน','short_answer','border-green-300\x20bg-green-50','\x20คู่\x20','numPages','confirm-create-project-btn','abs','now','setAttributeNS','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','พื้นที่สี่เหลี่ยม','.correct-response-input','student-project-leaderboard-table-body','อนุพันธ์:\x20กฎลูกโซ่','เกิดข้อผิดพลาดในการลบแบบทดสอบ','หน่วยเวลาและการคำนวณเวลา','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์เอกสารนี้อย่างละเอียดเพื่อทำความเข้าใจโครงสร้างทั้งหมด:\x20สาระการเรียนรู้,\x20จำนวนข้อสอบทั้งหมด,\x20การแบ่งประเภทข้อสอบ\x20(เช่น\x20ปรนัย\x204\x20ตัวเลือก,\x20ระบายตัวเลข),\x20และหัวข้อเฉพาะของแต่ละส่วน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้างแบบทดสอบที่สมบูรณ์\x201\x20ชุด\x20โดยต้องเป็นไปตามข้อกำหนดใน\x20Blueprint\x20อย่างเคร่งครัด\x20**ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer\x20สำหรับระบายตัวเลข)\x20ต้องตรงกับที่ระบุใน\x20Blueprint\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20เนื้อหาของคำถามต้องสอดคล้องกับ\x20\x22สาระการเรียนรู้แกนกลาง\x22\x20และ\x20\x22ตัวชี้วัด\x22\x20ที่กำหนดไว้ในแต่ละส่วน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22','\x22\x20data-topic=\x22','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','กำลังดึงข้อมูลจากลิงก์...','</span></div>','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-content','สร้างคำถามแบบใช่/ไม่ใช่',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22...','include-images-checkbox','fas\x20fa-star\x20text-yellow-500',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','project-detail-view','$1\x5c%','วงรี','global-live-game-count','all','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','min','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','generate-from-text-btn','student-quiz-leaderboard-tab','stem','รอเปิด','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','presentation-short-answer-input','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','back-to-dashboard-btn','bg-white/30','totalPoints','getScreenCTM','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','API\x20call\x20failed\x20with\x20status:\x20','project-name-input','question-analytics-container','^{\x5ccirc}\x5ctext{C}$','bg-purple-50','คะแนน','</td>','คะแนนเต็ม','Error\x20saving\x20quiz\x20edits:','แก้ระบบสมการด้วยเมทริกซ์','move-quiz-project-select','cancel-delete-btn','application/json','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','cancel-admin-login-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','159qxhMCu','scores-tab-btn','btn','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','dispatchEvent','isRemedial','delete-svg-btn','Error\x20listening\x20for\x20student\x20profiles:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','student-quiz-topic','กรุณาป้อนรหัสแบบทดสอบ','NUMBER','style','การแยกตัวประกอบ','ปิดใช้งาน','กราฟแท่ง\x20กราฟเส้น','ค.ร.น.\x20(LCM)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','quiz-bank-modal','indexOf','keyup','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','แก้ไขข้อนี้','AI\x20grading\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','scheduled','หมดเวลาสำหรับข้อนี้!','ฟังก์ชันราก\x20(root)','getBBox','/public/data/liveGames','หน่วยมวล/น้ำหนักและการแปลง','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมและการวัดมุม','cancel-global-live-btn','text-purple-600','quiz-results-view','<option>กำลังโหลดโปรเจค...</option>','studentName','POST','score','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','ศูนย์','fa-fire\x20text-orange-500','draggable-text','Remedial\x20quiz\x20generation\x20failed:','\x22>ใช่</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งคำตอบ','Error\x20fetching\x20project\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','</option>','เรเดียนและการแปลงหน่วย','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','พาราโบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','key','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x20\x20\x20-\x20คำตอบ:\x20','quiz-results','exists','ไม่สามารถโหลดรายการโปรเจคได้','ai-quiz-generator-v3','results-table-container','findIndex','_blank','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','save-quiz-edits-btn','textarea','modal-timer-duration-label','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','floor','far\x20fa-star','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ส่วนเบี่ยงเบนเฉลี่ย','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','cos','</p>','ระบบเลขและค่าประจำหลัก','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','div','timerMode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','getDocument','quiz-results-table-body','firstScore','clientY','shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','กรุณาวาง\x20URL\x20ของบทความก่อน','Error\x20adding\x20custom\x20topic:','input[name=\x22status-option\x22]','createObjectURL','เปิดใช้งาน','originalQuestionText','katex','forEach','quiz-schedule-start-container','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','ที่พิมพ์ได้\x20จำนวน\x20','analytics-summary-cards','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','analytics','underline','confirm-global-live-btn','error','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','topic-input-area','fill_in_the_blank','explanation','description','repeat','การปัดเศษและประมาณค่า','on_fire','editable-text-','.answer-text','274192258111','question-complexity-select','student-rankings-modal','แผนภาพกล่อง\x20(box\x20plot)','perseverance','/users/','save-quiz-btn','fill','confirmation-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','date_asc','show_results_and_answers','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ฟังก์ชันลอการิทึม','</span>','<p\x20class=\x22font-bold\x20text-sm\x20','num-questions','กราฟฟังก์ชันตรีโกณ','mode-switcher-btn','move-quiz-modal','entries','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','(^|[^\x5c\x5c])\x5cb','$1\x5ctimes','results-tab-content','generate-from-topic-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','nickname-input','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','(เลือกแล้ว\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าแล้ว','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remedialContent','blueprint-tab','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','endTime','.question-editor-item[data-q-index=\x22','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','quiz-start-time','bank-input-area','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','ลำดับเรขาคณิต\x20(GP)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<div\x20id=\x22q-image-container-','text-input-area','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','หมดเวลา!\x20กำลังส่งคำตอบ...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฮเพอร์โบลา','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20','คำตอบผิด','deg','มุมพิเศษ\x2045°-45°-90°','4826556HjZNbE','_opt','answering','</form>','touchmove','ท็อปฟอร์ม','ลบแบบทดสอบสำเร็จแล้ว','ส่งแล้ว','2164192HXYdAk','getElementById','[data-is-correct=\x22true\x22]','submissions','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','per-question-timer-container','admin-password-input','ไม่สามารถเริ่มเกมได้','export-leaderboard-excel-btn','แบบปรนัย\x204\x20ตัวเลือก','project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','display','Error\x20deleting\x20quiz:','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','สมการค่าสัมบูรณ์','คัดลอกไม่สำเร็จ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x5cneq','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','isAdaptive','ราชาคัมแบ็ก','fa-rocket\x20text-purple-500','$1\x5ctext{','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','student-view','sort','ความแปรปรวน','projectId','generate-from-link-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','สร้างคำถามแบบเติมคำในช่องว่าง','fa-bolt\x20text-blue-500','href','ผู้เชี่ยวชาญ','players.','Error\x20saving\x20settings:','revealed','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','leaderboard_','cancel-quiz-edits-btn','การยืนยันตัวตนล้มเหลว','.edit-quiz-btn','ฟังก์ชันเชิงเส้นและกราฟ','กรุณาเลือกโปรเจคที่ต้องการบันทึก','desc','results_','perfect_score','bg-red-100\x20text-red-800','ฐานนิยม','score-distribution-chart','การคูณเศษส่วน','\x20ชุด)','replace','การนับ','Leaderboard\x20update\x20transaction\x20failed:\x20','bg-green-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','sum','hover:bg-indigo-100','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Firebase\x20initialization\x20failed:','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เศษส่วน\x20(ย่อ/ขยาย)','จากไฟล์ที่แนบมานี้,\x20','กำลังสร้างคำถามข้อ\x20','Authentication\x20failed:','dataset','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x5cfrac{','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</li>','\x22\x20value=\x22false\x22\x20','thead\x20.sortable-header','quiz-id-input','scheduled_pending','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','closest','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','end-game-btn','parse','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','sin','Error\x20fetching\x20projects\x20for\x20move:','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','autoTable','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-quiz-btn','outerHTML','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','slice','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strength-weakness-analysis-container','topic-input','Error\x20regenerating\x20question\x20in\x20editor:','Error\x20loading\x20quiz\x20for\x20student:','option','leaderboard-tab-content','line-through\x20text-red-700','undefined','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','quiz-form','empty','quiz-leaderboard-table','.csv','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','BOOLEAN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','ย้าย','\x22.\x20','options','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','button[type=\x22submit\x22]','13808008LeKhXN','อัตราและอัตราหน่วย','\x22><i\x20class=\x22fas\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','load-quiz-btn','results-tab','player-list-lobby','\x5cle','กฎของไซน์','</div><div\x20class=\x22space-y-2\x22>','width','select-all-topics-btn','whole_quiz','comeback_king','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','fa-user-astronaut\x20text-blue-700','currentQuestionIndex','กรุณาใส่ชื่อใหม่','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','mouseup','\x20/\x20','height','submit','circle','topic','confirmation-message','Error\x20generating\x20worksheet:','answers','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','items','start-presentation-btn','.png','ไม่ใช่','เงินงวด\x20(อนุกรมเงินงวด)','เรขาคณิตวิเคราะห์','มุมพิเศษ\x2030°-60°-90°','result','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ควบคุม\x20(ทดสอบ)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','.pdf','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','modal-results-display-select','generated-quiz-container','ค่าเสื่อมราคา','toLocaleString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','classStrengths','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','quizType','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','class','fa-pen','students','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','{$1}','close','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','loader-text','องค์ประกอบของฟังก์ชัน','questionStatus','bg-green-500','student-quiz-area','both','_opt1\x22\x20name=\x22question','submittedAt','rename-quiz-modal','-tab-content','ระยะจากจุดถึงเส้นตรง','status','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','shuffle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','modal-timer-duration-input','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','stopPropagation','player-count','พิสัย','export-word-btn','passing-score-input','generate-worksheet-btn','editable-quiz-topic','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','input[type=\x22radio\x22]:checked','text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','เกิดข้อผิดพลาดในการเข้าร่วมเกม','ตอบถูก\x203\x20ข้อติดต่อกัน','confirm-quiz-status-btn','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','click','viewBox','analytics-tab-btn','การลบ','ฟังก์ชันยกกำลัง','/public/data/projects','ไม่พบข้อมูลผู้ใช้','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','date_desc','create-project-modal','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','Error\x20listening\x20for\x20projects:','ฟังก์ชันค่าสัมบูรณ์','<div><input\x20type=\x22radio\x22\x20id=\x22q','isStarred','thead','อัตราการเปลี่ยนแปลงทันที','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','ฮิสโตแกรม','insertAdjacentHTML','.project-card-content','leaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','jspdf','.quiz-status-btn','\x5cdiv','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','badgesCount','<p><strong>คำตอบของคุณ:</strong>\x20','allResponses','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','target','scores-tab-content','text-green-600\x20font-bold','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','.save-to-bank-btn','.pointsLastQuestion','<tr><td\x20colspan=\x22','next-question-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-reading-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerCorrect','back-to-project-btn','push','https://corsproxy.io/?','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','STOP','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','candidates','bank-quiz-search-input','timer-duration-label','correctAnswer','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','addEventListener','generate-from-file-btn','ownerSVGElement','การคูณ','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','players','input[name=\x22status-option\x22]:checked','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','border-4','match','selected-topics-count','.sortable-header','การหาร','สมการยกกำลัง','#student-quiz-leaderboard-content\x20thead','student-name-input','ยังไม่ส่ง','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','แบบทดสอบ:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','$1^{\x5ccirc}','copy','default','removeEventListener','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','join','reduce','\x5csqrt{$1}','createdAt','ความน่าจะเป็นแบบมีเงื่อนไข','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-parallel-test-btn','text-blue-700\x20bg-blue-100','กรุณาใส่ชื่อโปรเจค','worksheet-topic-input','145916KUOdoW','ค่าความจริง/ตารางค่าความจริง','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','เกิดข้อผิดพลาดในการโหลดโปรเจค','MathJax','find','name','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','manage-tab','onclick','ผู้ไม่ยอมแพ้','currentTarget','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','กรุณาใส่ชื่อนักเรียน','blueprint-upload-input','label','quiz','stringify','math-topic-search-input','answeredCurrentQuestion','then','right','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x20ช่อง','เกิดข้อผิดพลาด:\x20','5274440IdJPEi','.ql-editor','ai-quiz-app-aefee','\x5ccdot','บันทึกการตั้งค่าสำเร็จ','student-name-selection-view','prod','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','#F59E0B','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','ไม่พบข้อมูลแบบทดสอบ','th-TH','text-green-600','ai-quiz-app-aefee.appspot.com','Error\x20listening\x20for\x20starred\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<option\x20value=\x22','[role=\x22textbox\x22]','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','results-quiz-title','touches','start-remedial-quiz-btn','.ideal-answer-input','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','ไม่มีคำอธิบาย','ARRAY','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','live-short-answer-input','open-global-live-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','next-live-question-btn','schedule','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','startTime','loader','ค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','hidden','admin-password-modal','generated-quiz-actions','PERFECT_SCORE','.sort-indicator','กรุณาเลือกโปรเจคปลายทาง','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','สถิติและความน่าจะเป็น','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','download','กำลังสร้างแบบทดสอบจากหัวข้อ...','text-tab','student-project-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','defaultNumQuestions','attempts','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','คัดลอกแบบทดสอบสำเร็จ','promptFeedback','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','บันทึกการแก้ไข','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','toDate','<span\x20class=\x22sort-indicator\x20ml-2\x22>','.quiz-result-card','Error\x20generating\x20quiz:','FIRST_TRY_ACE','frac','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','answer-counter','font-bold','<li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','some','สลับไปโหมดนักเรียน','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','create-project-btn','Error\x20processing\x20file\x20for\x20AI:','โดเมนและเรนจ์','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x20ตัวเลือก.\x20','fixed','\x5cs*\x5c(','\x20จาก\x20','parallel-test-upload-input','แคลคูลัสเบื้องต้น','global-live-game-modal','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-passing-score-input','lastAnswerCorrect','getAttributeNS','confirm-move-quiz-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','no-projects-msg','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','เวกเตอร์และเมทริกซ์\x20(เสริม)','กรุณาป้อนหัวข้อสำหรับใบงาน','beforeend','<p\x20class=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','Error\x20fetching\x20student\x20rankings:','close-presentation-btn','multiple_choice','admin-action-buttons','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','STRING','.doc','force-math-checkbox','toString','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ลำดับเลขคณิต\x20(AP)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','<br>','ผ่าน','อัปเดตสถานะสำเร็จ','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','label[for=\x22num-questions\x22]','cancel-quiz-status-btn','\x20\x20\x20-\x20','originalTopic','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','badges','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','สร้างแบบทดสอบปรนัย','per-q-countdown','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','from','td,\x20th','วงกลม:\x20สมการและสมบัติ','close-game-final-btn','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','innerText','analyze-strengths-btn','leaderboard-table-body','\x22\x20ให้เป็นคำถามประเภท\x20\x22','.rename-quiz-btn','input[type=\x22checkbox\x22]','latestScore','question','quiz-bank-count','true_false','ห.ร.ม.\x20(GCD)','parts','normal','update','admin-testing','ref','เกิดข้อผิดพลาดในการอัปเดตสถานะ','set','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','เรขาคณิต','setAttribute','$1\x5ctext(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questions','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','live-options-container','เกิดข้อผิดพลาดในการบันทึก','ค่าคลาดเคลื่อนของการวัด','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','text-white','toISOString','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x5cfrac','per-question-text','\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','00:00','พื้นที่สามเหลี่ยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','จุด\x20เส้น\x20ระนาบ','string','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','student-project-leaderboard-tab','ring-2','cancel-move-quiz-btn','focus','เซียนสมองไว','student-initial-view','q-image-container-','matching_item','shuffleSetting','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','quiz-settings-modal','opacity-50','สอบซ่อม','QUICK_THINKER','timer-duration-input','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','title','ring-purple-400','ฟังก์ชันแบบชิ้นส่วน','start-game-btn','blueprint-input-area','G-V90KRM0L63','join-live-game-btn','ข้อต่อไป','text-green-700\x20bg-green-100','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','```json','#ffffff','ฟังก์ชันผกผัน','binom','remove','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','position','</body></html>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','values','results','confirm-join-game-btn','dataIndex','write','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่สามารถสร้างโปรเจคได้','mouseleave','.start-live-race-btn','message','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','show_results_only','timerDuration','data:application/vnd.ms-word;charset=utf-8,','Enter','admin-dashboard','เพิ่มหัวข้อ\x20\x22','กรุณาเลือกชื่อของคุณ','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','imageCode','student-name-select','quiz-status-options','destroy','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','/questionBank','mousemove','\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร','manage','text','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','.quiz-bank-present-btn','copy-quiz-id-btn','parseFromString','filter','startsWith','ปริพันธ์จำกัด','ไม่สามารถบันทึกการตั้งค่าได้','json','toDataURL','คำถามถัดไป','quizId','show_pass_fail_only','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','fas\x20fa-bookmark','innerHTML','totalQuestions','ผ่านฉลุย','FileReader\x20error:','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','preventDefault','project-dashboard-view','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','export-image-btn','กฎบวกและกฎคูณ','modal-adaptive-quiz-checkbox','questionType','trim','.parallel-quiz-btn','document','รูปแบบการให้เหตุผล','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','รากที่สองและที่สาม','ทฤษฎีบทพื้นฐานของแคลคูลัส','คำตอบถูกต้อง!\x20+','toLowerCase','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-custom-math-topic-btn','s;\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','correctAnswerIndex','fill_in_with_choices','2-digit','back-to-home-manual-release','\x22\x20name=\x22question','presentation-slide-container','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','เส้นรอบรูป','คณิตศาสตร์','\x22>ไม่ใช่</p>','การบวก','block','getPage','ยืนยันการกระทำ','บันทึกการแก้ไขสำเร็จ','แบบทดสอบจากคลังส่วนตัว','analytics-tab-content','textContent','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','$1^{$2}','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','.regenerate-question-editor-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','get','การประยุกต์เวกเตอร์พื้นฐาน','อัตราส่วนและสัดส่วน','neq','พื้นที่ผิวรูปทรงสามมิติ','Error\x20starting\x20live\x20race:','.answeredCurrentQuestion','questions_only','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','cancel-create-project-btn','typesetPromise','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','quick_thinker','การสร้างรูปด้วยวงเวียน–สันตรง','907516BqAJpR','2741','กรุณาเลือกไฟล์ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','qIndex','worksheet-input-area','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','.draggable-text','includes','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความสัมพันธ์ของมุม','starred','auto','function','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','mjx-container','<div\x20class=\x22','modal-message','สมการเชิงเส้นตัวแปรเดียว','bank-tab','ไม่มี','ปริมาตร/ความจุและการแปลง','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</span></td>','/public/data/quizzes/','workerSrc','quiz-generation-area','ไม่พบตารางสำหรับ\x20Export','rows','ดูสรุปผล','true','สอบปกติ','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','Error\x20saving\x20submission:','ความเท่ากันทุกประการของสามเหลี่ยม','\x20ใหม่...','เกิดข้อผิดพลาดในการสร้างห้องเกม','ใช่','[*]','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','print','<i\x20class=\x22fas\x20fa-save\x22></i>','localeCompare','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','content','5XaKzfu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','slide-counter','none','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_no_choices','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','classWeaknesses','สมการลอการิทึม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','student','password-error-msg','questionText','project-sort-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERSEVERANCE','.quiz-bank-item','readAsDataURL','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','times','timer-container','Error\x20creating\x20project:','qType','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','gamePin','กำลังสร้างรูปภาพ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','data','dfrac','timer-mode-select','quiz-editor-modal','ย้ายแบบทดสอบสำเร็จ','onerror','bg-green-100\x20text-green-800','split','q-text-','เกี่ยวกับหัวข้อ\x20\x22','defaultPassingScore','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-detail','ai-quiz-app-aefee.firebaseapp.com','สมการตรีโกณมิติ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','icon','timer-duration-container','points','image/png','จำนวนคู่:','เส้นจำนวน','<i\x20class=\x22fas\x20fa-pen\x22></i>','toggle','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','presentation-ai-result','choices_only','lobby','map','ลิมิต','specialist','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','docs','เลือกและบันทึก','contents','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','เส้นตรง:\x20รูปแบบสมการ','ลำดับการดำเนินการ\x20(PEMDAS)','<li\x20class=\x22','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','onload','export-leaderboard-pdf-btn','\x5cpm','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x5cb)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','แผนภาพเวนน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Error\x20listening\x20for\x20custom\x20math\x20topics:','text-red-700\x20bg-red-100','keys','table','starred-project','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','sqrt','#per-question-options\x20textarea','answer','adaptive-quiz-checkbox','red','topic-tab','ไม่สามารถโหลดข้อมูลอันดับได้','bg-red-500','\x22\x20value=\x22','live-game-view','API\x20call\x20failed','project-list','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','change','/public/data/quizzes','math-topics-checkbox-container','.live-answer-btn,\x20#live-submit-short-answer-btn','.correctStreak','Invalid\x20response\x20structure\x20from\x20AI.','isArray','settings','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','ผลรวมอนุกรม\x20(Σ)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','leaderboard-quiz-tab-btn','การบวกทศนิยม','การแจกแจงทวินาม\x20(พื้นฐาน)','(ไม่มีชื่อ)','export-leaderboard-word-btn','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','first_try_ace','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','text/csv;charset=utf-8;','.admin-try-quiz-list-btn','flex','สเกลและแผนที่','raw','tan','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','สมการเหตุผล\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-search-input','quiz-search-input','\x22\x20data-q-type=\x22','คณิตการเงิน/บูรณาการ','overline','pinned-items','ฟังก์ชันกำลังสองและกราฟ','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','.presentation-option','bottom','global-quiz-search-input','circ','parallel-test-tab','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','opacity','#10B981','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','สมมาตร\x20(แกน/จุด)','bg-blue-100\x20text-blue-800','ร้อยละพื้นฐาน','log','value','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','การจัดกลุ่มข้อมูล','active','\x5csum','inactive','false','ความชันและเส้นตรง','ทฤษฎีทวินาม\x20(เบื้องต้น)','targetId','<div\x20class=\x22flex-1\x22></div>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','border-red-300\x20bg-red-50','แบบทดสอบที่ติดดาว','\x20mx-1\x20text-lg\x22></i></span>','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cge','/public/data/customMathTopics','ระยะเวลา\x20(วินาที):','แบบทดสอบนี้ปิดใช้งานอยู่','instructions','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','text-indigo-700','9271632jOiWPP','admin','start-live-race-generated-btn','rgba(79,\x2070,\x20229,\x201)','approx','</p></div>','mousedown','$1_{$2}','difficulty-level-select','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','reveal-answer-btn','save-settings-btn','removeChild','#math-topics-checkbox-container\x20input:checked','blockReason','),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบอสมการ','บันทึกแบบทดสอบสำเร็จแล้ว!','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','geq','เกิดข้อผิดพลาดในการอ่านไฟล์','ไม่ผ่าน','แบบทดสอบไม่มีชื่อ','cdot','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','81dJLZwD','commit','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ระยะทางและจุดกึ่งกลาง','parallel-test-input-area','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-student-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','_opt0\x22>ใช่</label></div>','ความคล้ายของรูป','cancel-rename-quiz-btn','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','bank-quiz-list','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','worksheet-tab','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>'];_0x572d=function(){return _0x22e72d;};return _0x572d();}async function startAdaptiveFlow(_0x18dd68,_0xaaceaa,_0x35fa1f){const _0xed6ba5=_0x5e6fd0,_0x2a26dd=_0x18dd68['map']((_0x1ad81a,_0x3581f0)=>({..._0x1ad81a,'originalQuestion':currentDisplayedQuiz['questions'][_0x3581f0]}))['filter'](_0x48040f=>!_0x48040f['isCorrect']&&_0x48040f[_0xed6ba5(0x459)][_0xed6ba5(0x5d5)])[_0xed6ba5(0x3a4)](_0x10d2f7=>'-\x20'+_0x10d2f7[_0xed6ba5(0x459)]['explanation'])[_0xed6ba5(0x1b3)]('\x0a');if(!_0x2a26dd){displayResultsScoreOnly(_0xaaceaa,0x0,[],_0x35fa1f);return;}studentQuizArea[_0xed6ba5(0x48f)][_0xed6ba5(0x462)](_0xed6ba5(0x20a)),studentReadingArea[_0xed6ba5(0x48f)][_0xed6ba5(0x2ba)](_0xed6ba5(0x20a)),studentReadingArea[_0xed6ba5(0x2ee)]=_0xed6ba5(0x3f6);const _0x5d5e56=_0xed6ba5(0x639)+currentDisplayedQuiz[_0xed6ba5(0x10e)]+'\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a26dd+_0xed6ba5(0x200),_0x5cf578={'type':_0xed6ba5(0xe6),'properties':{'remedialContent':{'type':_0xed6ba5(0x253)}},'required':[_0xed6ba5(0x606)]};try{const _0x2ed6b8=await callAnalysisApi(_0x5d5e56,_0x5cf578),_0x130caa=_0x2ed6b8[_0xed6ba5(0x606)];studentReadingArea[_0xed6ba5(0x2ee)]=_0xed6ba5(0x454)+_0x130caa[_0xed6ba5(0xa7)](/\n/g,_0xed6ba5(0x25a))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0xed6ba5(0x1ef))[_0xed6ba5(0x199)]('click',()=>generateRemedialQuiz(_0x2a26dd));}catch(_0x1f9765){console[_0xed6ba5(0x5cf)]('Adaptive\x20flow\x20failed:',_0x1f9765),showMessage(_0xed6ba5(0x4ea)),displayResultsScoreOnly(_0xaaceaa,0x0,[],_0x35fa1f);}}async function generateRemedialQuiz(_0x54f222){const _0x1eabba=_0x5e6fd0;studentReadingArea['innerHTML']=_0x1eabba(0x177);const _0x362997='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54f222+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x1eabba(0x308),_0x5b620d={'type':_0x1eabba(0xe6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1eabba(0x1f7),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1eabba(0x253)}},'required':[_0x1eabba(0x375),_0x1eabba(0xf2),_0x1eabba(0x30e),_0x1eabba(0x5d5)]},_0x44827b={'type':_0x1eabba(0xe6),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x5b620d}},'required':[_0x1eabba(0x10e),'questions']};try{const _0xdfa23=await callAnalysisApi(_0x362997,_0x44827b);_0xdfa23[_0x1eabba(0x564)]=!![],studentReadingArea[_0x1eabba(0x48f)]['add'](_0x1eabba(0x20a));const _0x2e87d8={...currentDisplayedQuiz[_0x1eabba(0x3de)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0xdfa23[_0x1eabba(0x3de)]=_0x2e87d8,displayQuizForStudent(_0xdfa23);}catch(_0x5bc89b){console[_0x1eabba(0x5cf)](_0x1eabba(0x58f),_0x5bc89b),showMessage(_0x1eabba(0x236)),showView(_0x1eabba(0x373));}}function displayPassFailOnly(_0x470e0c,_0x16049c){const _0x3d4572=_0x5e6fd0,_0x65847e=currentDisplayedQuiz[_0x3d4572(0x3de)]?.['passingScore']??-0x1,_0x18c8e1=currentDisplayedQuiz['isRemedial']===!![];let _0x2b2d8e='';if(_0x18c8e1||_0x65847e!==-0x1){let _0x5d52c5;_0x18c8e1?_0x5d52c5=_0x470e0c===_0x16049c:_0x5d52c5=_0x470e0c>=_0x65847e;const _0xfe74c1=_0x5d52c5?_0x3d4572(0x38c):'bg-red-100\x20text-red-800',_0x413ba9=_0x5d52c5?_0x3d4572(0x25b):_0x3d4572(0x440);_0x2b2d8e=_0x3d4572(0x35a)+_0xfe74c1+'\x22>'+_0x413ba9+'</span></div>';}else _0x2b2d8e=_0x3d4572(0x1eb);let _0x57461f=_0x3d4572(0x481)+currentStudentName+_0x3d4572(0x262)+_0x2b2d8e+_0x3d4572(0x3c2);studentResultArea[_0x3d4572(0x2ee)]=_0x57461f,studentResultArea[_0x3d4572(0x48f)][_0x3d4572(0x2ba)](_0x3d4572(0x20a)),studentQuizArea[_0x3d4572(0x48f)]['add'](_0x3d4572(0x20a));const _0x19bdbe=_0x3d4572(0x405),_0x3b6a2a=currentMode==='admin-testing',_0x1089a0=_0x3b6a2a?_0x3d4572(0x5cb):_0x3d4572(0x5fc),_0x392bff=_0x3d4572(0x5bd)+_0x19bdbe+_0x3d4572(0x52d)+_0x1089a0+_0x3d4572(0x46b);studentResultArea['insertAdjacentHTML']('beforeend',_0x392bff),document['getElementById'](_0x19bdbe)[_0x3d4572(0x199)](_0x3d4572(0x15d),()=>{const _0x1b2607=_0x3d4572;_0x3b6a2a?(currentMode=_0x1b2607(0x42c),studentView['classList'][_0x1b2607(0x462)](_0x1b2607(0x20a)),adminView[_0x1b2607(0x48f)][_0x1b2607(0x2ba)]('hidden'),showView(_0x1b2607(0x392))):(showView(_0x1b2607(0x373)),document['getElementById'](_0x1b2607(0xbf))['value']='');});}function cancelAdminTest(){const _0xa3c3a1=_0x5e6fd0;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0xa3c3a1(0x42c),studentView[_0xa3c3a1(0x48f)][_0xa3c3a1(0x462)](_0xa3c3a1(0x20a)),adminView['classList'][_0xa3c3a1(0x2ba)](_0xa3c3a1(0x20a)),showView(_0xa3c3a1(0x392));}function setupResultScreenBackButton(){const _0x1537ab=_0x5e6fd0,_0x5c23d1=_0x1537ab(0x405),_0x11b8e9=currentMode===_0x1537ab(0x27d),_0x2502ce=_0x11b8e9?_0x1537ab(0x5cb):_0x1537ab(0x5fc),_0x47f6e1=_0x1537ab(0x223)+_0x5c23d1+_0x1537ab(0x130)+_0x2502ce+_0x1537ab(0x15c);studentResultArea[_0x1537ab(0x174)](_0x1537ab(0x249),_0x47f6e1),studentResultArea[_0x1537ab(0x4a0)](_0x1537ab(0x4b9))[_0x1537ab(0x199)](_0x1537ab(0x15d),handleShowStudentRankings),document['getElementById'](_0x5c23d1)[_0x1537ab(0x199)](_0x1537ab(0x15d),()=>{const _0x23ec63=_0x1537ab;_0x11b8e9?(currentMode=_0x23ec63(0x42c),studentView[_0x23ec63(0x48f)][_0x23ec63(0x462)]('hidden'),adminView['classList'][_0x23ec63(0x2ba)](_0x23ec63(0x20a)),showView(_0x23ec63(0x392))):(showView('student'),document[_0x23ec63(0x62a)]('quiz-id-input')[_0x23ec63(0x412)]='');});}function displayResultsWithAnswers(_0x581d9f,_0x87205f,_0x3509fb,_0xebbec5,_0xff3dc3){const _0x2f32b5=_0x5e6fd0,_0x9d46d4=_0xff3dc3>0x0?_0x581d9f/_0xff3dc3*0x64:0x0,_0x30241f=currentDisplayedQuiz['settings']?.[_0x2f32b5(0x458)]??-0x1,_0x405722=currentDisplayedQuiz[_0x2f32b5(0x564)]===!![];let _0xd50829='';if(_0x405722||_0x30241f!==-0x1){let _0x543ff1=_0x405722?_0x581d9f===_0xff3dc3:_0x581d9f>=_0x30241f;const _0x3a0e1b=_0x543ff1?_0x2f32b5(0x38c):_0x2f32b5(0xa2),_0x1520b3=_0x543ff1?_0x2f32b5(0x25b):'ไม่ผ่าน';_0xd50829=_0x2f32b5(0x32f)+_0x3a0e1b+'\x22>'+_0x1520b3+_0x2f32b5(0x5b2);}let _0x367b0f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x2f32b5(0x246)+_0x581d9f+_0x2f32b5(0x164)+_0xff3dc3+_0x2f32b5(0xd5)+_0xd50829+_0x2f32b5(0x338)+_0x87205f+_0x2f32b5(0x381)+_0x9d46d4[_0x2f32b5(0x213)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x2f32b5(0x286)][_0x2f32b5(0x5c5)]((_0x512a64,_0x41cd0e)=>{const _0x2ca463=_0x2f32b5,_0x20ee13=_0xebbec5[_0x41cd0e],_0x2a9d81=_0x20ee13[_0x2ca463(0x3cc)],_0x6f7a66=_0x20ee13[_0x2ca463(0x4ce)],_0x3cbb0c=_0x512a64[_0x2ca463(0x2fb)]||currentDisplayedQuiz[_0x2ca463(0x129)];_0x367b0f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x6f7a66?_0x2ca463(0x515):_0x2ca463(0x41e))+_0x2ca463(0x571)+(_0x41cd0e+0x1)+'.\x20'+(_0x512a64[_0x2ca463(0x541)]||_0x512a64['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3cbb0c){case _0x2ca463(0x2a1):const _0x8e0fe9=_0x2a9d81||'ไม่ได้ตอบ',_0x485d82=_0x512a64['correctResponse'];_0x367b0f+=_0x2ca463(0x1c4)+(!_0x6f7a66?_0x2ca463(0xdc):'')+'\x22>'+_0x8e0fe9+'</span></p>';!_0x6f7a66&&(_0x367b0f+=_0x2ca463(0x2d7)+_0x485d82+_0x2ca463(0x5b2));break;case _0x2ca463(0x514):_0x367b0f+=_0x2ca463(0x17d)+(_0x2a9d81||_0x2ca463(0x4b0))+_0x2ca463(0x5b2),_0x367b0f+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x512a64[_0x2ca463(0x604)]+'</p>';break;case _0x2ca463(0x278):_0x367b0f+=_0x2ca463(0x24a)+(_0x512a64[_0x2ca463(0x196)]===!![]?_0x2ca463(0x4de):'')+'\x20'+(_0x2a9d81===_0x2ca463(0x358)&&!_0x6f7a66?_0x2ca463(0xdc):'')+_0x2ca463(0x590),_0x367b0f+=_0x2ca463(0x24a)+(_0x512a64['correctAnswer']===![]?_0x2ca463(0x4de):'')+'\x20'+(_0x2a9d81===_0x2ca463(0x418)&&!_0x6f7a66?'line-through\x20text-red-700':'')+_0x2ca463(0x317);break;case _0x2ca463(0x5d4):case'multiple_choice':default:_0x367b0f+=_0x512a64[_0x2ca463(0xf2)][_0x2ca463(0x3a4)]((_0x5c5cf1,_0x54a47e)=>{const _0x2dfc6a=_0x2ca463;let _0x1df25b='',_0x3c8592='';if(_0x54a47e===_0x512a64['correctAnswerIndex'])_0x1df25b=_0x2dfc6a(0x4de),_0x3c8592=_0x2dfc6a(0x37b);else _0x54a47e===_0x2a9d81&&(_0x1df25b='font-bold\x20text-red-700\x20line-through',_0x3c8592=_0x2dfc6a(0x457));return _0x2dfc6a(0x34a)+_0x1df25b+'\x22>'+_0x3c8592+_0x5c5cf1+_0x2dfc6a(0x4bb);})[_0x2ca463(0x1b3)]('');break;}_0x367b0f+=_0x2ca463(0x28f)+(_0x512a64[_0x2ca463(0x5d5)]||_0x2ca463(0x1f6))+_0x2ca463(0x53c);}),studentResultArea[_0x2f32b5(0x2ee)]=_0x367b0f,renderEarnedBadges(_0x3509fb,_0x2f32b5(0x524)),studentResultArea[_0x2f32b5(0x48f)][_0x2f32b5(0x2ba)](_0x2f32b5(0x20a)),studentQuizArea[_0x2f32b5(0x48f)]['add'](_0x2f32b5(0x20a)),setupResultScreenBackButton();if(window['MathJax'])window[_0x2f32b5(0x1c1)][_0x2f32b5(0x331)]([studentResultArea]);}function displayResultsScoreOnly(_0x5c22dc,_0x1e804c,_0x229291,_0x328093){const _0x3bb9b4=_0x5e6fd0,_0x16a079=_0x328093>0x0?_0x5c22dc/_0x328093*0x64:0x0,_0x5102b5=currentDisplayedQuiz['settings']?.[_0x3bb9b4(0x458)]??-0x1,_0x58f6b7=currentDisplayedQuiz[_0x3bb9b4(0x564)]===!![];let _0x8535f5='';if(_0x58f6b7||_0x5102b5!==-0x1){let _0x1c874e;_0x58f6b7?_0x1c874e=_0x5c22dc===_0x328093:_0x1c874e=_0x5c22dc>=_0x5102b5;const _0x244e47=_0x1c874e?_0x3bb9b4(0x38c):_0x3bb9b4(0xa2),_0x1bf50a=_0x1c874e?_0x3bb9b4(0x25b):_0x3bb9b4(0x440);_0x8535f5='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x244e47+'\x22>'+_0x1bf50a+'</p>';}let _0x7d414b=_0x3bb9b4(0x4c2)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x5c22dc+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x328093+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8535f5+_0x3bb9b4(0x338)+_0x1e804c+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x16a079[_0x3bb9b4(0x213)](0x0)+_0x3bb9b4(0x4f9);studentResultArea[_0x3bb9b4(0x2ee)]=_0x7d414b,renderEarnedBadges(_0x229291,_0x3bb9b4(0x524)),studentResultArea[_0x3bb9b4(0x48f)][_0x3bb9b4(0x2ba)](_0x3bb9b4(0x20a)),studentQuizArea[_0x3bb9b4(0x48f)][_0x3bb9b4(0x462)](_0x3bb9b4(0x20a)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x95c03c=_0x5e6fd0;let _0x3fe506=_0x95c03c(0x47a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x95c03c(0x2ee)]=_0x3fe506,studentResultArea[_0x95c03c(0x48f)][_0x95c03c(0x2ba)](_0x95c03c(0x20a)),studentQuizArea[_0x95c03c(0x48f)][_0x95c03c(0x462)](_0x95c03c(0x20a)),document['getElementById'](_0x95c03c(0x311))['addEventListener'](_0x95c03c(0x15d),()=>{const _0xeee1f9=_0x95c03c;showView(_0xeee1f9(0x373)),document[_0xeee1f9(0x62a)]('quiz-id-input')[_0xeee1f9(0x412)]='';});}function renderEarnedBadges(_0x2cf497,_0xf53b51){const _0x41983f=_0x5e6fd0,_0x2cbaf1=document[_0x41983f(0x62a)](_0xf53b51);if(!_0x2cbaf1||!_0x2cf497||_0x2cf497[_0x41983f(0x15b)]===0x0)return;let _0x5125bc='';_0x2cf497[_0x41983f(0x5c5)]((_0x1d7a3a,_0x2624bd)=>{const _0x1bc035=_0x41983f,_0x446c74=Object[_0x1bc035(0x2bf)](BADGES)[_0x1bc035(0x1c2)](_0x242b05=>_0x242b05['id']===_0x1d7a3a);_0x446c74&&(_0x5125bc+=_0x1bc035(0x1cb)+_0x2624bd*0.2+_0x1bc035(0x30c)+_0x446c74[_0x1bc035(0x5d6)]+_0x1bc035(0x4e3)+_0x446c74['icon']+_0x1bc035(0xaf)+_0x446c74['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x2cbaf1[_0x41983f(0x2ee)]=_0x5125bc;}function startPresentation(_0xbc7621){const _0x353e55=_0x5e6fd0;currentQuizData=getShuffledQuiz(_0xbc7621),currentPresentationSlide=0x0,presentationModal[_0x353e55(0x56c)]['display']=_0x353e55(0x3f0),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2369b9=_0x5e6fd0;document[_0x2369b9(0x11b)]&&document['exitFullscreen'](),presentationModal[_0x2369b9(0x56c)][_0x2369b9(0x636)]=_0x2369b9(0x36c);}function renderPresentationSlide(_0x749a2d){const _0x4822b5=_0x5e6fd0,_0x4317ff=document[_0x4822b5(0x62a)](_0x4822b5(0x313));if(!currentQuizData||!currentQuizData[_0x4822b5(0x286)]||!currentQuizData[_0x4822b5(0x286)][_0x749a2d]){_0x4317ff[_0x4822b5(0x2ee)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x265683=currentQuizData[_0x4822b5(0x286)][_0x749a2d],_0x4e22e8=_0x265683[_0x4822b5(0x2fb)]||currentQuizData[_0x4822b5(0x129)];_0x4317ff[_0x4822b5(0x2ee)]='';let _0x2ca015=_0x4822b5(0x567)+(_0x265683[_0x4822b5(0x2d3)]?_0x4822b5(0x299)+_0x265683[_0x4822b5(0x2d3)]+_0x4822b5(0x4bb):'')+_0x4822b5(0x2f7)+(_0x749a2d+0x1)+'.\x20'+(_0x265683[_0x4822b5(0x541)]||_0x265683['questionText'])+_0x4822b5(0x147);switch(_0x4e22e8){case'matching_item':_0x2ca015+=_0x265683[_0x4822b5(0x17e)]['map'](_0x18afa6=>_0x4822b5(0x505)+_0x18afa6+_0x4822b5(0x3b0))['join']('');break;case'true_false':_0x2ca015+=_0x4822b5(0x413),_0x2ca015+=_0x4822b5(0x4b1);break;case _0x4822b5(0x36e):case _0x4822b5(0x514):_0x2ca015+=_0x4822b5(0xea);break;case _0x4822b5(0x5d4):case _0x4822b5(0x250):default:_0x2ca015+=_0x265683[_0x4822b5(0xf2)][_0x4822b5(0x3a4)]((_0xca9964,_0x3faa4f)=>_0x4822b5(0x121)+_0x3faa4f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xca9964+_0x4822b5(0x3b0))[_0x4822b5(0x1b3)]('');break;}_0x2ca015+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x265683[_0x4822b5(0x5d5)]||_0x4822b5(0x1f6))+_0x4822b5(0x4b6),_0x4317ff[_0x4822b5(0x2ee)]=_0x2ca015;if(window[_0x4822b5(0x1c1)])window['MathJax'][_0x4822b5(0x331)]([_0x4317ff]);document['querySelectorAll'](_0x4822b5(0x400))[_0x4822b5(0x5c5)](_0x1cc21f=>{const _0x519620=_0x4822b5;_0x1cc21f[_0x519620(0x199)]('click',_0x3b7de2=>revealAnswerForPresentation(_0x749a2d,_0x3b7de2[_0x519620(0x1c8)]));});const _0xd9a307=document[_0x4822b5(0x62a)]('check-presentation-answer-btn');_0xd9a307&&_0xd9a307['addEventListener'](_0x4822b5(0x15d),()=>checkShortAnswerForPresentation(_0x749a2d)),document[_0x4822b5(0x62a)](_0x4822b5(0x36b))[_0x4822b5(0x31f)]=_0x4822b5(0x33e)+(_0x749a2d+0x1)+_0x4822b5(0x10a)+currentQuizData['questions'][_0x4822b5(0x15b)],document[_0x4822b5(0x62a)](_0x4822b5(0x466))['disabled']=_0x749a2d===0x0,document[_0x4822b5(0x62a)](_0x4822b5(0x187))[_0x4822b5(0x50f)]=_0x749a2d===currentQuizData[_0x4822b5(0x286)][_0x4822b5(0x15b)]-0x1;}async function checkShortAnswerForPresentation(_0x5f15a9){const _0x17fc95=_0x5e6fd0,_0x2ec14c=currentQuizData[_0x17fc95(0x286)][_0x5f15a9],_0x8a8bb9=document[_0x17fc95(0x62a)](_0x17fc95(0x544)),_0x574b65=document[_0x17fc95(0x62a)](_0x17fc95(0x46e)),_0xc0ee48=document[_0x17fc95(0x62a)](_0x17fc95(0x3a1)),_0xd52361=document[_0x17fc95(0x62a)]('presentation-explanation');if(!_0x8a8bb9||!_0x574b65||!_0xc0ee48||!_0xd52361)return;const _0x86d6c6=_0x8a8bb9[_0x17fc95(0x412)]['trim']();if(_0x86d6c6==='')return;_0x574b65[_0x17fc95(0x50f)]=!![],_0x574b65[_0x17fc95(0x2ee)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x8a8bb9[_0x17fc95(0x50f)]=!![];const _0x70798=await gradeShortAnswer(_0x86d6c6,_0x2ec14c);_0x70798?_0xc0ee48[_0x17fc95(0x2ee)]=_0x17fc95(0x332):_0xc0ee48[_0x17fc95(0x2ee)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x2ec14c[_0x17fc95(0x604)]+')',_0xc0ee48[_0x17fc95(0x48f)][_0x17fc95(0x2ba)]('hidden'),_0xd52361[_0x17fc95(0x48f)]['remove'](_0x17fc95(0x20a)),_0x574b65['classList'][_0x17fc95(0x462)](_0x17fc95(0x20a));}function revealAnswerForPresentation(_0x186f59,_0x35219d){const _0x54f515=_0x5e6fd0,_0x1f1b3b=currentQuizData[_0x54f515(0x286)][_0x186f59],_0x230413=_0x1f1b3b[_0x54f515(0x2fb)]||currentQuizData[_0x54f515(0x129)];document[_0x54f515(0x447)](_0x54f515(0x400))[_0x54f515(0x5c5)](_0x36ea02=>{const _0x20c6c9=_0x54f515;_0x36ea02['disabled']=!![],_0x36ea02[_0x20c6c9(0x48f)][_0x20c6c9(0x2ba)](_0x20c6c9(0xae));let _0x4f7ca5=![];if(_0x230413===_0x20c6c9(0x250)||_0x230413===_0x20c6c9(0x5d4)){const _0x16db94=parseInt(_0x36ea02[_0x20c6c9(0xb8)][_0x20c6c9(0x421)]);_0x4f7ca5=_0x16db94===_0x1f1b3b['correctAnswerIndex'];}else{if(_0x230413===_0x20c6c9(0x278)){const _0x13ce45=_0x36ea02[_0x20c6c9(0xb8)][_0x20c6c9(0x3cc)]===_0x20c6c9(0x358);_0x4f7ca5=_0x13ce45===_0x1f1b3b[_0x20c6c9(0x196)];}else _0x230413==='matching_item'&&(_0x4f7ca5=_0x36ea02[_0x20c6c9(0x31f)][_0x20c6c9(0x2fc)]()===_0x1f1b3b[_0x20c6c9(0x50b)]);}_0x4f7ca5?_0x36ea02[_0x20c6c9(0x48f)][_0x20c6c9(0x462)](_0x20c6c9(0x13b),'text-white',_0x20c6c9(0x460)):_0x36ea02[_0x20c6c9(0x48f)][_0x20c6c9(0x462)](_0x20c6c9(0x2a5));}),_0x35219d[_0x54f515(0x48f)][_0x54f515(0x2ba)]('opacity-50');let _0x21549e=![];if(_0x230413===_0x54f515(0x250))_0x21549e=parseInt(_0x35219d['dataset']['index'])===_0x1f1b3b[_0x54f515(0x30e)];else{if(_0x230413===_0x54f515(0x278))_0x21549e=_0x35219d[_0x54f515(0xb8)][_0x54f515(0x3cc)]===_0x54f515(0x358)===_0x1f1b3b['correctAnswer'];else _0x230413===_0x54f515(0x2a1)&&(_0x21549e=_0x35219d[_0x54f515(0x31f)][_0x54f515(0x2fc)]()===_0x1f1b3b[_0x54f515(0x50b)]);}!_0x21549e&&_0x35219d[_0x54f515(0x48f)][_0x54f515(0x462)](_0x54f515(0x3d1),_0x54f515(0x28c),_0x54f515(0x4cf)),document['getElementById']('presentation-explanation')[_0x54f515(0x48f)][_0x54f515(0x2ba)]('hidden');}function startWholeQuizTimer(_0x2ce782){const _0x3b6248=_0x5e6fd0,_0x527438=document[_0x3b6248(0x62a)](_0x3b6248(0x37d));if(!_0x527438)return;const _0xd75af=Date['now']()+_0x2ce782*0x3c*0x3e8;_0x527438['innerHTML']=_0x3b6248(0x46c);const _0x537a10=document[_0x3b6248(0x62a)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x4734c5=_0x3b6248,_0x50751b=_0xd75af-Date[_0x4734c5(0x51a)]();if(_0x50751b<=0x0)clearInterval(quizTimerInterval),_0x537a10[_0x4734c5(0x31f)]=_0x4734c5(0x294),showMessage(_0x4734c5(0x618)),handleSubmitQuiz(null);else{const _0x454d39=Math['floor'](_0x50751b/0x3e8/0x3c%0x3c)[_0x4734c5(0x256)]()[_0x4734c5(0x4d3)](0x2,'0'),_0x7f46b0=Math['floor'](_0x50751b/0x3e8%0x3c)['toString']()[_0x4734c5(0x4d3)](0x2,'0');_0x537a10[_0x4734c5(0x31f)]=_0x454d39+':'+_0x7f46b0;}},0x3e8);}function renderPerQuestionView(){const _0x280051=_0x5e6fd0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x5f089d=currentDisplayedQuiz[_0x280051(0x286)][currentQuestionIndex],_0x589a02=_0x5f089d[_0x280051(0x2fb)]||currentDisplayedQuiz[_0x280051(0x129)];let _0x46157d=_0x280051(0x214)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x280051(0x286)]['length']+_0x280051(0x1c9)+(currentMode===_0x280051(0x27d)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x280051(0x10e)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x280051(0x286)]['length']-0x1?_0x280051(0x592):_0x280051(0x2e8))+_0x280051(0x60a);studentQuizArea[_0x280051(0x2ee)]=_0x46157d;let _0x158f41='',_0x23a1c5='';switch(_0x589a02){case _0x280051(0x2a1):_0x158f41=currentQuestionIndex+0x1+'.\x20'+_0x5f089d['stem'],_0x23a1c5=_0x280051(0xb0)+_0x5f089d[_0x280051(0x17e)][_0x280051(0x3a4)](_0x411067=>_0x280051(0x1e8)+_0x411067+'\x22>'+_0x411067+_0x280051(0x596))[_0x280051(0x1b3)]('')+_0x280051(0x489);break;case _0x280051(0x278):_0x158f41=currentQuestionIndex+0x1+'.\x20'+_0x5f089d[_0x280051(0x375)],_0x23a1c5=_0x280051(0x156);break;case'short_answer':case _0x280051(0x36e):_0x158f41=currentQuestionIndex+0x1+'.\x20'+_0x5f089d[_0x280051(0x375)],_0x23a1c5=_0x280051(0x322);break;case _0x280051(0x250):case _0x280051(0x30f):default:_0x158f41=currentQuestionIndex+0x1+'.\x20'+_0x5f089d[_0x280051(0x375)],_0x23a1c5=_0x5f089d[_0x280051(0xf2)][_0x280051(0x3a4)]((_0x14f406,_0x11c9eb)=>_0x280051(0x219)+_0x11c9eb+_0x280051(0xf8)+_0x11c9eb+_0x280051(0x5f7)+_0x11c9eb+'\x22>'+_0x14f406+_0x280051(0x391))[_0x280051(0x1b3)]('');break;}_0x5f089d[_0x280051(0x2d3)]&&(_0x158f41+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5f089d[_0x280051(0x2d3)]+_0x280051(0x4bb));document[_0x280051(0x62a)](_0x280051(0x291))['innerHTML']=_0x158f41,document[_0x280051(0x62a)]('per-question-options')[_0x280051(0x2ee)]=_0x23a1c5;if(currentMode===_0x280051(0x27d)){const _0x32bfe3=document[_0x280051(0x62a)]('cancel-test-btn');if(_0x32bfe3)_0x32bfe3[_0x280051(0x199)](_0x280051(0x15d),cancelAdminTest);}document['getElementById']('next-question-timed-btn')[_0x280051(0x199)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x280051(0x1c1)])window[_0x280051(0x1c1)][_0x280051(0x331)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x576fd2=_0x5e6fd0,_0x1c1fff=currentDisplayedQuiz[_0x576fd2(0x3de)][_0x576fd2(0x2cb)],_0x7328ba=document[_0x576fd2(0x62a)](_0x576fd2(0x62f));if(!_0x7328ba)return;let _0x10bd51=_0x1c1fff;_0x7328ba[_0x576fd2(0x2ee)]=_0x576fd2(0x49a)+_0x10bd51+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x3280d7=document[_0x576fd2(0x62a)](_0x576fd2(0x47b)),_0xaaa91b=document['getElementById'](_0x576fd2(0x267));perQuestionTimerInterval=setInterval(()=>{const _0x214aaf=_0x576fd2;_0x10bd51--;const _0x32a231=_0x10bd51/_0x1c1fff*0x64;_0x3280d7[_0x214aaf(0x56c)][_0x214aaf(0x100)]=_0x32a231+'%',_0xaaa91b[_0x214aaf(0x31f)]=_0x10bd51,_0x10bd51<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x214aaf(0x57d)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x28f047=![]){const _0x5022fb=_0x5e6fd0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x39d527=null;if(!_0x28f047){const _0x5e10c3=currentDisplayedQuiz[_0x5022fb(0x286)][currentQuestionIndex],_0x1949a2=_0x5e10c3['questionType']||currentDisplayedQuiz['quizType'];if(_0x1949a2===_0x5022fb(0x514)||_0x1949a2===_0x5022fb(0x36e)){const _0x1da4e9=document[_0x5022fb(0x4a0)](_0x5022fb(0x3cb));_0x39d527=_0x1da4e9?_0x1da4e9['value'][_0x5022fb(0x2fc)]():'';}else{if(_0x1949a2==='matching_item'){const _0x3c4ed6=document[_0x5022fb(0x4a0)]('#per-question-options\x20select');_0x39d527=_0x3c4ed6?_0x3c4ed6[_0x5022fb(0x412)]:'';}else{const _0x5c1390=document[_0x5022fb(0x4a0)]('input[name=\x22question_single\x22]:checked');if(_0x5c1390){const _0x52b8e2=_0x5c1390[_0x5022fb(0x412)];_0x39d527=!isNaN(parseInt(_0x52b8e2,0xa))&&_0x52b8e2[_0x5022fb(0x2fc)]()!==''?parseInt(_0x52b8e2,0xa):_0x52b8e2;}}}}studentAnswersPerQuestion[_0x5022fb(0x18d)](_0x39d527),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x5022fb(0x286)][_0x5022fb(0x15b)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x28f156=_0x5e6fd0,_0x1bbd5e=currentDisplayedQuiz[_0x28f156(0x286)]['some'](_0xc15cf8=>_0xc15cf8[_0x28f156(0x2fb)]==='short_answer');_0x1bbd5e?showMessage(_0x28f156(0x2ec)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x1a1dcf=currentQuizData['id'],_0x2ac8e4=doc(db,'artifacts/'+appId+_0x28f156(0x352)+_0x1a1dcf+_0x28f156(0x4eb),currentStudentName),_0x84ae79=await getDoc(_0x2ac8e4),_0x5922b4=_0x84ae79['exists']()?_0x84ae79[_0x28f156(0x386)]():{},_0x45598d=_0x5922b4[_0x28f156(0x21b)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x45598d);}function getResultsFilename(){const _0x34b42f=_0x5e6fd0,_0x3b12a8=document[_0x34b42f(0x62a)](_0x34b42f(0x1ed))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x34b42f(0x306)]();return _0x34b42f(0xa0)+(_0x3b12a8||_0x34b42f(0x1cf));}function exportResultsAsImage(){const _0x1ef6e9=_0x5e6fd0,_0x29f7aa=document['getElementById'](_0x1ef6e9(0x5a3));showMessage(_0x1ef6e9(0x383)),html2canvas(_0x29f7aa)[_0x1ef6e9(0x1d3)](_0x55a13c=>{const _0x5932f8=_0x1ef6e9,_0x588926=document[_0x5932f8(0x562)]('a');_0x588926['download']=getResultsFilename()+_0x5932f8(0x115),_0x588926[_0x5932f8(0x93)]=_0x55a13c[_0x5932f8(0x2e7)](_0x5932f8(0x399)),_0x588926[_0x5932f8(0x15d)](),messageModal[_0x5932f8(0x48f)][_0x5932f8(0x462)]('hidden');});}function exportResultsAsPDF(){const _0x20fe9b=_0x5e6fd0,{jsPDF:_0x36b95d}=window[_0x20fe9b(0x178)],_0x31324b=new _0x36b95d();_0x31324b['setFont']('helvetica','normal'),_0x31324b['autoTable']({'html':_0x20fe9b(0x48c)}),_0x31324b[_0x20fe9b(0x4fc)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x50a40f=_0x5e6fd0,_0x22b875=_0x50a40f(0x4b4)+_0x50a40f(0x2d2)+_0x50a40f(0x44d)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x3a9579=_0x50a40f(0x2bd),_0x30d9a9=_0x22b875+document[_0x50a40f(0x62a)](_0x50a40f(0x5a3))[_0x50a40f(0x2ee)]+_0x3a9579,_0x1f472b=_0x50a40f(0x2cc)+encodeURIComponent(_0x30d9a9),_0x58bd6e=document[_0x50a40f(0x562)]('a');document[_0x50a40f(0x4c6)][_0x50a40f(0x476)](_0x58bd6e),_0x58bd6e['href']=_0x1f472b,_0x58bd6e[_0x50a40f(0x215)]=getResultsFilename()+_0x50a40f(0x254),_0x58bd6e['click'](),document['body'][_0x50a40f(0x437)](_0x58bd6e);}function exportResultsAsExcel(){const _0x1fee65=_0x5e6fd0,_0x4dc6a4=document[_0x1fee65(0x62a)](_0x1fee65(0x4bd));let _0x10d414=[];for(let _0x5ced55=0x0;_0x5ced55<_0x4dc6a4[_0x1fee65(0x356)][_0x1fee65(0x15b)];_0x5ced55++){let _0x93b244=[],_0x1d5459=_0x4dc6a4[_0x1fee65(0x356)][_0x5ced55][_0x1fee65(0x447)](_0x1fee65(0x26b));for(let _0x16f0d8=0x0;_0x16f0d8<_0x1d5459['length'];_0x16f0d8++){_0x93b244['push']('\x22'+_0x1d5459[_0x16f0d8][_0x1fee65(0x26f)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x10d414[_0x1fee65(0x18d)](_0x93b244['join'](','));}const _0x38c66b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x10d414['join']('\x0a')],{'type':_0x1fee65(0x3ee)}),_0x29de49=document[_0x1fee65(0x562)]('a');_0x29de49['href']=URL['createObjectURL'](_0x38c66b),_0x29de49[_0x1fee65(0x215)]=getResultsFilename()+_0x1fee65(0xe4),_0x29de49[_0x1fee65(0x15d)]();}function exportTableAsImage(_0x52cbea,_0xceccaa){const _0x2be94c=_0x5e6fd0,_0x282101=document[_0x2be94c(0x62a)](_0x52cbea);if(!_0x282101){showMessage(_0x2be94c(0x355));return;}showMessage(_0x2be94c(0x383)),html2canvas(_0x282101)[_0x2be94c(0x1d3)](_0x97fb99=>{const _0x14d7b7=_0x2be94c,_0x2e5376=document[_0x14d7b7(0x562)]('a');_0x2e5376['download']=_0xceccaa+_0x14d7b7(0x115),_0x2e5376[_0x14d7b7(0x93)]=_0x97fb99['toDataURL']('image/png'),_0x2e5376[_0x14d7b7(0x15d)](),messageModal[_0x14d7b7(0x48f)][_0x14d7b7(0x462)](_0x14d7b7(0x20a));});}function exportTableAsPDF(_0x311bf6,_0x164bfa){const _0x533a17=_0x5e6fd0,{jsPDF:_0x3ab201}=window['jspdf'],_0x4e774a=new _0x3ab201();_0x4e774a['setFont']('helvetica',_0x533a17(0x27b)),_0x4e774a[_0x533a17(0xcf)]({'html':'#'+_0x311bf6}),_0x4e774a[_0x533a17(0x4fc)](_0x164bfa+_0x533a17(0x11f));}function exportTableAsWord(_0x11aee1,_0x418c7f){const _0x503db2=_0x5e6fd0,_0xd73c7d=document[_0x503db2(0x62a)](_0x11aee1);if(!_0xd73c7d){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x54f572='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x503db2(0x2d2)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x42c80d=_0x503db2(0x2bd),_0x4a0ec1=_0x54f572+_0xd73c7d[_0x503db2(0x2ee)]+_0x42c80d,_0x4e3ad4=_0x503db2(0x2cc)+encodeURIComponent(_0x4a0ec1),_0x5a9492=document['createElement']('a');document[_0x503db2(0x4c6)][_0x503db2(0x476)](_0x5a9492),_0x5a9492[_0x503db2(0x93)]=_0x4e3ad4,_0x5a9492['download']=_0x418c7f+'.doc',_0x5a9492[_0x503db2(0x15d)](),document[_0x503db2(0x4c6)][_0x503db2(0x437)](_0x5a9492);}function exportTableAsExcel(_0x4ddb4d,_0x16f04c){const _0x56262b=_0x5e6fd0,_0x5351c9=document[_0x56262b(0x62a)](_0x4ddb4d);if(!_0x5351c9){showMessage(_0x56262b(0x355));return;}let _0x24d674=[];for(let _0xfe5cfc=0x0;_0xfe5cfc<_0x5351c9[_0x56262b(0x356)][_0x56262b(0x15b)];_0xfe5cfc++){let _0x13b157=[],_0x465676=_0x5351c9['rows'][_0xfe5cfc][_0x56262b(0x447)](_0x56262b(0x26b));for(let _0x41bc29=0x0;_0x41bc29<_0x465676['length'];_0x41bc29++){_0x13b157['push']('\x22'+_0x465676[_0x41bc29][_0x56262b(0x26f)][_0x56262b(0xa7)](/"/g,'\x22\x22')+'\x22');}_0x24d674[_0x56262b(0x18d)](_0x13b157[_0x56262b(0x1b3)](','));}const _0x3c8636=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x24d674[_0x56262b(0x1b3)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x29920c=document['createElement']('a');_0x29920c['href']=URL[_0x56262b(0x5c1)](_0x3c8636),_0x29920c[_0x56262b(0x215)]=_0x16f04c+_0x56262b(0xe4),_0x29920c[_0x56262b(0x15d)]();}function renderAnalytics(_0x43a1b5,_0x34e129){const _0x15e449=_0x5e6fd0,_0x457d95=currentProjectData['students'][_0x15e449(0x15b)],_0x11b3f2=_0x34e129['length'],_0x4fcb54=_0x457d95-_0x11b3f2,_0x30e439=_0x457d95>0x0?_0x11b3f2/_0x457d95*0x64:0x0,_0x408c92=_0x34e129[_0x15e449(0x3a4)](_0x3bfbf0=>_0x3bfbf0[_0x15e449(0x275)]),_0x6cea05=_0x408c92[_0x15e449(0x15b)]>0x0?_0x408c92[_0x15e449(0x1b4)]((_0x5b077b,_0x2850e2)=>_0x5b077b+_0x2850e2,0x0)/_0x408c92['length']:0x0,_0x2288de=_0x43a1b5['questions']['length'],_0x5bc97b=_0x2288de>0x0?_0x6cea05/_0x2288de*0x64:0x0,_0x29fd63=document[_0x15e449(0x62a)](_0x15e449(0x5c9));_0x29fd63[_0x15e449(0x2ee)]=_0x15e449(0x59a)+_0x30e439['toFixed'](0x0)+_0x15e449(0x4f2)+_0x11b3f2+'/'+_0x457d95+_0x15e449(0x5c7)+_0x6cea05[_0x15e449(0x213)](0x2)+_0x15e449(0x464)+_0x5bc97b[_0x15e449(0x213)](0x0)+_0x15e449(0x33b)+(_0x408c92[_0x15e449(0x15b)]>0x0?Math[_0x15e449(0x4ae)](..._0x408c92):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x408c92['length']>0x0?Math[_0x15e449(0x53d)](..._0x408c92):'N/A')+_0x15e449(0x384);const _0x4efdd5=currentProjectData['students']||[];renderSubmissionChart(_0x11b3f2,_0x4fcb54,_0x34e129,_0x4efdd5),renderScoreDistributionChart(_0x34e129,_0x2288de),renderQuestionAnalytics(_0x43a1b5,_0x34e129,_0x4efdd5);}function renderSubmissionChart(_0x45a892,_0x1d96c8,_0x5f2695,_0x52d311){const _0x4f9260=_0x5e6fd0,_0x1c3de1=document['getElementById']('submission-status-chart')[_0x4f9260(0x222)]('2d'),_0x2f4247=_0x5f2695[_0x4f9260(0x3a4)](_0x31a00c=>_0x31a00c[_0x4f9260(0x588)]),_0x24c957=_0x52d311[_0x4f9260(0x2e2)](_0x49a3d8=>!_0x2f4247['includes'](_0x49a3d8));chartInstances[_0x4f9260(0x4f0)]&&chartInstances['submission'][_0x4f9260(0x2d6)](),chartInstances[_0x4f9260(0x4f0)]=new Chart(_0x1c3de1,{'type':_0x4f9260(0x4ac),'data':{'labels':[_0x4f9260(0x628),_0x4f9260(0x1aa)],'datasets':[{'data':[_0x45a892,_0x1d96c8],'backgroundColor':[_0x4f9260(0x40a),_0x4f9260(0x1e0)],'borderColor':[_0x4f9260(0x2b7),_0x4f9260(0x2b7)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4f9260(0x401)},'tooltip':{'callbacks':{'label':function(_0x365917){const _0x57cb98=_0x4f9260;let _0x51a31d=_0x365917[_0x57cb98(0x1ce)]||'';return _0x51a31d&&(_0x51a31d+=':\x20'),_0x51a31d+=_0x365917[_0x57cb98(0x3f2)],_0x51a31d;},'afterLabel':function(_0x50ad62){const _0x1ae75d=_0x4f9260;let _0x28c0c8;return _0x50ad62[_0x1ae75d(0x2c2)]===0x0?_0x28c0c8=_0x2f4247:_0x28c0c8=_0x24c957,_0x28c0c8[_0x1ae75d(0x15b)]>0x0?_0x28c0c8['join']('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x517a24,_0x5a1e86){const _0x25bd73=_0x5e6fd0,_0xedb7ce=document[_0x25bd73(0x62a)](_0x25bd73(0xa4))[_0x25bd73(0x222)]('2d'),_0x23a272={};for(let _0x359039=0x0;_0x359039<=_0x5a1e86;_0x359039++){_0x23a272[_0x359039]=0x0;}_0x517a24[_0x25bd73(0x5c5)](_0xc5906b=>{const _0x2b873e=_0x25bd73;_0x23a272[_0xc5906b[_0x2b873e(0x275)]]!==undefined&&_0x23a272[_0xc5906b['latestScore']]++;}),chartInstances['score']&&chartInstances[_0x25bd73(0x58a)]['destroy'](),chartInstances[_0x25bd73(0x58a)]=new Chart(_0xedb7ce,{'type':'bar','data':{'labels':Object[_0x25bd73(0x3c6)](_0x23a272),'datasets':[{'label':_0x25bd73(0x4c5),'data':Object[_0x25bd73(0x2bf)](_0x23a272),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x25bd73(0x42e),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x25bd73(0x550)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x30727f){const _0x4ddc4c=_0x25bd73,_0x471dfd=_0x30727f['label'],_0x23134c=_0x517a24[_0x4ddc4c(0x2e2)](_0x52c16c=>_0x52c16c[_0x4ddc4c(0x275)]==_0x471dfd)[_0x4ddc4c(0x3a4)](_0x32d874=>_0x32d874[_0x4ddc4c(0x588)]);return _0x23134c[_0x4ddc4c(0x15b)]>0x0?_0x23134c['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x22b77e,_0x5bb555,_0x4c2e20){const _0x3d8441=_0x5e6fd0,_0x494d9a=document['getElementById'](_0x3d8441(0x54d));if(_0x4c2e20['length']===0x0){_0x494d9a[_0x3d8441(0x2ee)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}let _0xb44f5='';const _0x5699bb=_0x5bb555[_0x3d8441(0x3a4)](_0x369098=>_0x369098['studentName']);_0x22b77e[_0x3d8441(0x286)][_0x3d8441(0x5c5)]((_0x247bae,_0x1d1607)=>{const _0x3edfb9=_0x3d8441;let _0x33aa00=0x0;const _0x3ee93c=[],_0x36dde7=[],_0x557aa9=_0x247bae['stem']||_0x247bae[_0x3edfb9(0x375)]||_0x247bae[_0x3edfb9(0x428)];_0x5bb555[_0x3edfb9(0x5c5)](_0x344aac=>{const _0x19fb61=_0x3edfb9,_0x24e589=_0x344aac[_0x19fb61(0x21b)][_0x344aac[_0x19fb61(0x21b)][_0x19fb61(0x15b)]-0x1];if(_0x24e589&&_0x24e589['answers']){const _0x2c74df=_0x24e589[_0x19fb61(0x111)][_0x19fb61(0x1c2)](_0xb4bbfc=>_0xb4bbfc[_0x19fb61(0x5c3)]===_0x557aa9)??_0x24e589['answers'][_0x1d1607]??null;_0x2c74df&&(_0x2c74df['isCorrect']?(_0x33aa00++,_0x3ee93c['push'](_0x344aac[_0x19fb61(0x588)])):_0x36dde7[_0x19fb61(0x18d)](_0x344aac['studentName']));}});const _0x40c021=_0x4c2e20[_0x3edfb9(0x2e2)](_0x5c3ad6=>!_0x5699bb[_0x3edfb9(0x33d)](_0x5c3ad6)),_0x54ac23=_0x5bb555['length']>0x0?_0x33aa00/_0x5bb555[_0x3edfb9(0x15b)]*0x64:0x0;_0xb44f5+=_0x3edfb9(0x4f3)+(_0x1d1607+0x1)+':\x20'+_0x557aa9+_0x3edfb9(0x1f5)+(_0x54ac23>=0x46?'bg-green-200\x20text-green-800':_0x54ac23>=0x28?'bg-yellow-200\x20text-yellow-800':'bg-red-200\x20text-red-800')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20'+_0x54ac23[_0x3edfb9(0x213)](0x0)+_0x3edfb9(0x50a)+_0x557aa9+_0x3edfb9(0x12c)+_0x33aa00+_0x3edfb9(0x23a)+_0x5bb555[_0x3edfb9(0x15b)]+'\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x3ee93c['length']+_0x3edfb9(0x1b2)+(_0x3ee93c[_0x3edfb9(0x15b)]>0x0?_0x3ee93c[_0x3edfb9(0x1b3)](',\x20'):_0x3edfb9(0x34e))+_0x3edfb9(0x296)+_0x36dde7[_0x3edfb9(0x15b)]+_0x3edfb9(0x1b2)+(_0x36dde7[_0x3edfb9(0x15b)]>0x0?_0x36dde7['join'](',\x20'):'ไม่มี')+_0x3edfb9(0x5b7)+_0x40c021[_0x3edfb9(0x15b)]+'\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x40c021[_0x3edfb9(0x15b)]>0x0?_0x40c021[_0x3edfb9(0x1b3)](',\x20'):_0x3edfb9(0x34e))+_0x3edfb9(0x18a);}),_0x494d9a['innerHTML']=_0xb44f5;try{window[_0x3d8441(0x1c1)]&&MathJax[_0x3d8441(0x331)]&&MathJax[_0x3d8441(0x331)]([_0x494d9a]);}catch(_0x4ccce8){console['error'](_0x3d8441(0x5ff),_0x4ccce8);}}async function handleAnalyzeClass(){const _0x57819b=_0x5e6fd0;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x57819b(0x4cd));return;}const _0x2d15a4=collection(db,_0x57819b(0x3c0)+appId+_0x57819b(0x352)+currentQuizData['id']+_0x57819b(0x4eb)),_0x5a2632=await getDocs(_0x2d15a4),_0x25da77=_0x5a2632[_0x57819b(0x3a9)]['map'](_0x328cf4=>_0x328cf4[_0x57819b(0x386)]());if(_0x25da77['length']<0x2){showMessage(_0x57819b(0x3ae));return;}const _0x3cad80=document[_0x57819b(0x62a)](_0x57819b(0xd6));_0x3cad80[_0x57819b(0x2ee)]=_0x57819b(0x53b),document[_0x57819b(0x62a)](_0x57819b(0x270))['disabled']=!![];const _0x448ace=_0x25da77[_0x57819b(0x3a4)]((_0xae48e0,_0x4f3a39)=>{const _0x163798=_0x57819b,_0x16d528=_0xae48e0[_0x163798(0x21b)][_0xae48e0[_0x163798(0x21b)][_0x163798(0x15b)]-0x1];if(!_0x16d528)return'';return _0x163798(0x4b7)+(_0x4f3a39+0x1)+'\x20('+_0xae48e0['studentName']+_0x163798(0x17b)+_0x16d528[_0x163798(0x58a)]+'/'+_0xae48e0[_0x163798(0x2ef)]+_0x163798(0x169)+JSON['stringify'](_0x16d528[_0x163798(0x111)])+_0x163798(0x293);})[_0x57819b(0x1b3)]('\x0a---\x0a'),_0x494b2a=_0x57819b(0x455)+currentQuizData[_0x57819b(0x10e)]+_0x57819b(0x211)+JSON['stringify'](currentQuizData[_0x57819b(0x286)])+_0x57819b(0xec)+_0x448ace+_0x57819b(0x46d),_0x13534b={'type':_0x57819b(0xe6),'properties':{'classStrengths':{'type':_0x57819b(0x1f7),'items':{'type':_0x57819b(0x253)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x57819b(0x253)}},'teacherSuggestions':{'type':_0x57819b(0x1f7),'items':{'type':_0x57819b(0x253)}}},'required':[_0x57819b(0x127),_0x57819b(0x370),'teacherSuggestions']};try{const _0x33db82=await callAnalysisApi(_0x494b2a,_0x13534b);displayClassAnalysis(_0x33db82);}catch(_0x195993){console[_0x57819b(0x5cf)]('Error\x20during\x20class\x20analysis:',_0x195993),_0x3cad80['innerHTML']=_0x57819b(0x3b6)+_0x195993[_0x57819b(0x2c8)]+_0x57819b(0x430);}finally{document[_0x57819b(0x62a)]('analyze-strengths-btn')[_0x57819b(0x50f)]=![];}}function displayClassAnalysis(_0x1aed77){const _0x25817e=_0x5e6fd0,_0x508745=document['getElementById'](_0x25817e(0xd6));if(!_0x1aed77){_0x508745[_0x25817e(0x2ee)]=_0x25817e(0x59c);return;}_0x508745['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1aed77[_0x25817e(0x127)][_0x25817e(0x3a4)](_0xaf7a5d=>_0x25817e(0x22d)+_0xaf7a5d+_0x25817e(0xbc))['join']('')+_0x25817e(0x594)+_0x1aed77[_0x25817e(0x370)][_0x25817e(0x3a4)](_0x2148fb=>'<li>'+_0x2148fb+_0x25817e(0xbc))[_0x25817e(0x1b3)]('')+_0x25817e(0x2b4)+_0x1aed77['teacherSuggestions'][_0x25817e(0x3a4)](_0x490cc7=>_0x25817e(0x22d)+_0x490cc7+_0x25817e(0xbc))[_0x25817e(0x1b3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x1e9951,_0xc4bc15){const _0x43fc75=_0x5e6fd0,_0x10b7f4=_0x43fc75(0x32e)+_0x1e9951[_0x43fc75(0x10e)]+_0x43fc75(0x145)+_0x1e9951[_0x43fc75(0x10e)]+_0x43fc75(0x167)+_0x1e9951[_0x43fc75(0x286)][_0x43fc75(0x3a4)]((_0x48d6ee,_0x2dc6ea)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x2dc6ea+0x1)+'.\x20'+_0x48d6ee[_0x43fc75(0x375)]+_0x43fc75(0x3bf)+(_0x48d6ee[_0x43fc75(0x2d3)]?_0x43fc75(0x577)+_0x48d6ee[_0x43fc75(0x2d3)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x43fc75(0x1b3)]('')+_0x43fc75(0xe0);_0xc4bc15[_0x43fc75(0x2fe)][_0x43fc75(0x2c3)](_0x10b7f4),_0xc4bc15[_0x43fc75(0x2fe)][_0x43fc75(0x135)](),_0xc4bc15[_0x43fc75(0x3b7)]=function(){const _0x2c3c1b=_0x43fc75;_0xc4bc15[_0x2c3c1b(0x363)]();};}async function generateWorksheet(){const _0x13f749=_0x5e6fd0,_0x712014=document[_0x13f749(0x62a)](_0x13f749(0x1bc))['value'][_0x13f749(0x2fc)]();if(!_0x712014){showMessage(_0x13f749(0x248));return;}const _0x4525de=document[_0x13f749(0x62a)](_0x13f749(0x255))[_0x13f749(0x473)],_0x21a3b6=_0x4525de?'':_0x13f749(0x316),_0x433719=window['open']('',_0x13f749(0x5a5));_0x433719['document'][_0x13f749(0x2c3)](_0x13f749(0x508));const _0x4fec69=parseInt(document[_0x13f749(0x62a)]('num-questions')['value']),_0x1f99a6=document['getElementById'](_0x13f749(0x532))[_0x13f749(0x473)],_0x290d60=_0x1f99a6?_0x13f749(0x543):'',_0x24dabb=_0x13f749(0x172)+_0x21a3b6+_0x13f749(0x5c8)+_0x4fec69+_0x13f749(0x1f9)+_0x712014+_0x13f749(0xbb)+_0x290d60+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20',_0x32626b={'type':'OBJECT','properties':{'topic':{'type':_0x13f749(0x253)},'questions':{'type':_0x13f749(0x1f7),'items':{'type':_0x13f749(0xe6),'properties':{'questionText':{'type':_0x13f749(0x253)},'imageCode':{'type':_0x13f749(0x253)}},'required':[_0x13f749(0x375)]}}},'required':['topic',_0x13f749(0x286)]};document[_0x13f749(0x62a)]('loader-text')['textContent']='',document[_0x13f749(0x62a)](_0x13f749(0x207))[_0x13f749(0x48f)][_0x13f749(0x2ba)](_0x13f749(0x20a)),document[_0x13f749(0x62a)](_0x13f749(0x354))[_0x13f749(0x48f)]['remove']('hidden'),generateWorksheetBtn['disabled']=!![];try{const _0x81b821=await callAnalysisApi(_0x24dabb,_0x32626b);formatAndPrintWorksheet(_0x81b821,_0x433719);}catch(_0x24e367){console['error'](_0x13f749(0x110),_0x24e367);if(_0x433719)_0x433719[_0x13f749(0x135)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document['getElementById'](_0x13f749(0x207))[_0x13f749(0x48f)][_0x13f749(0x462)](_0x13f749(0x20a)),document['getElementById'](_0x13f749(0x354))['classList']['add'](_0x13f749(0x20a)),generateWorksheetBtn[_0x13f749(0x50f)]=![];}}async function callAnalysisApi(_0x52b5f8,_0x5a5166){const _0x58279a=_0x5e6fd0,_0x295f38={'contents':[{'role':_0x58279a(0x499),'parts':[{'text':_0x52b5f8}]}],'generationConfig':{'responseMimeType':_0x58279a(0x557),'responseSchema':_0x5a5166}},_0x3c455f='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0xb3df3c='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3c455f,_0x2f1340=await fetch(_0xb3df3c,{'method':_0x58279a(0x589),'headers':{'Content-Type':_0x58279a(0x557)},'body':JSON[_0x58279a(0x1d0)](_0x295f38)});if(!_0x2f1340['ok'])throw new Error(_0x58279a(0x54b)+_0x2f1340[_0x58279a(0x143)]);const _0x592a9a=await _0x2f1340[_0x58279a(0x2e6)]();if(_0x592a9a[_0x58279a(0x193)]?.[0x0]?.[_0x58279a(0x367)]?.['parts']?.[0x0])return JSON[_0x58279a(0xc7)](_0x592a9a[_0x58279a(0x193)][0x0][_0x58279a(0x367)][_0x58279a(0x27a)][0x0][_0x58279a(0x2dd)]);else{let _0x53b228='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x592a9a[_0x58279a(0x21f)]?.['blockReason'])_0x53b228=_0x58279a(0x3bb)+_0x592a9a[_0x58279a(0x21f)][_0x58279a(0x439)]+'.';else _0x592a9a[_0x58279a(0x193)]?.[0x0]?.[_0x58279a(0x510)]&&_0x592a9a['candidates'][0x0][_0x58279a(0x510)]!==_0x58279a(0x190)&&(_0x53b228=_0x58279a(0x204)+_0x592a9a[_0x58279a(0x193)][0x0][_0x58279a(0x510)]+'.');console[_0x58279a(0x5cf)](_0x53b228,JSON['stringify'](_0x592a9a));throw new Error(_0x53b228);}}initialize();