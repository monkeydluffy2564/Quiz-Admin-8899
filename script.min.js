const _0xa29d1b=_0xaf0f;(function(_0x424136,_0x38b9ed){const _0x33fc9c=_0xaf0f,_0x20b5ad=_0x424136();while(!![]){try{const _0x5e1870=parseInt(_0x33fc9c(0x3e0))/0x1*(parseInt(_0x33fc9c(0x314))/0x2)+-parseInt(_0x33fc9c(0x6ce))/0x3*(parseInt(_0x33fc9c(0x541))/0x4)+-parseInt(_0x33fc9c(0x1a1))/0x5*(parseInt(_0x33fc9c(0x571))/0x6)+parseInt(_0x33fc9c(0x3c6))/0x7*(-parseInt(_0x33fc9c(0x219))/0x8)+-parseInt(_0x33fc9c(0x397))/0x9*(-parseInt(_0x33fc9c(0x173))/0xa)+parseInt(_0x33fc9c(0x141))/0xb+-parseInt(_0x33fc9c(0x46e))/0xc;if(_0x5e1870===_0x38b9ed)break;else _0x20b5ad['push'](_0x20b5ad['shift']());}catch(_0x156511){_0x20b5ad['push'](_0x20b5ad['shift']());}}}(_0x4003,0xa627a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x4b2)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x2aa)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x308)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x664)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x5fa)},{'category':_0xa29d1b(0x60d),'name':'การลบ'},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x337)},{'category':'จำนวนและการดำเนินการ','name':_0xa29d1b(0x5b5)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x4f5)},{'category':'จำนวนและการดำเนินการ','name':_0xa29d1b(0x373)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x30c)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x6a2)},{'category':_0xa29d1b(0x60d),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':'จำนวนและการดำเนินการ','name':_0xa29d1b(0x30b)},{'category':'จำนวนและการดำเนินการ','name':_0xa29d1b(0x30a)},{'category':'จำนวนและการดำเนินการ','name':_0xa29d1b(0x5e8)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x6e3)},{'category':'จำนวนและการดำเนินการ','name':_0xa29d1b(0x6be)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x57c)},{'category':_0xa29d1b(0x60d),'name':'การลบเศษส่วน'},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x154)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x63d)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x35e)},{'category':_0xa29d1b(0x60d),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x5ee)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x575)},{'category':'จำนวนและการดำเนินการ','name':_0xa29d1b(0x1ea)},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x4a4)},{'category':_0xa29d1b(0x60d),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x2a4)},{'category':'จำนวนและการดำเนินการ','name':_0xa29d1b(0x239)},{'category':_0xa29d1b(0x60d),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0xa29d1b(0x60d),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x612)},{'category':_0xa29d1b(0x60d),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0xa29d1b(0x60d),'name':_0xa29d1b(0x1fc)},{'category':_0xa29d1b(0x24f),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0xa29d1b(0x24f),'name':_0xa29d1b(0x309)},{'category':_0xa29d1b(0x24f),'name':_0xa29d1b(0x26c)},{'category':_0xa29d1b(0x24f),'name':'อุณหภูมิและการแปลง'},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':'การวัด','name':_0xa29d1b(0x31e)},{'category':_0xa29d1b(0x24f),'name':_0xa29d1b(0x243)},{'category':_0xa29d1b(0x24f),'name':_0xa29d1b(0x48b)},{'category':_0xa29d1b(0x24f),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0xa29d1b(0x24f),'name':_0xa29d1b(0x3b6)},{'category':_0xa29d1b(0x24f),'name':_0xa29d1b(0x31a)},{'category':_0xa29d1b(0x24f),'name':_0xa29d1b(0x14b)},{'category':_0xa29d1b(0x24f),'name':_0xa29d1b(0x53b)},{'category':'เรขาคณิต','name':_0xa29d1b(0x4bf)},{'category':_0xa29d1b(0x165),'name':'ความสัมพันธ์ของมุม'},{'category':'เรขาคณิต','name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0xa29d1b(0x165),'name':_0xa29d1b(0x243)},{'category':_0xa29d1b(0x165),'name':_0xa29d1b(0x57a)},{'category':_0xa29d1b(0x165),'name':'ความคล้ายของรูป'},{'category':_0xa29d1b(0x165),'name':_0xa29d1b(0x421)},{'category':_0xa29d1b(0x165),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0xa29d1b(0x165),'name':_0xa29d1b(0x5c1)},{'category':'เรขาคณิต','name':_0xa29d1b(0x3d2)},{'category':_0xa29d1b(0x165),'name':_0xa29d1b(0x303)},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0xa29d1b(0x65d)},{'category':_0xa29d1b(0x165),'name':_0xa29d1b(0x6cf)},{'category':_0xa29d1b(0x165),'name':_0xa29d1b(0x3ec)},{'category':_0xa29d1b(0x236),'name':'ตัวแปรและนิพจน์'},{'category':_0xa29d1b(0x236),'name':'การกระจายและการจัดหมู่'},{'category':'พีชคณิตและฟังก์ชัน','name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x3e7)},{'category':_0xa29d1b(0x236),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa29d1b(0x39c)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x5bd)},{'category':_0xa29d1b(0x236),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0xa29d1b(0x236),'name':'สมการค่าสัมบูรณ์'},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x5cd)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x47a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa29d1b(0x2e5)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x37f)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x34e)},{'category':_0xa29d1b(0x236),'name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa29d1b(0x1e0)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x343)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x183)},{'category':_0xa29d1b(0x236),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0xa29d1b(0x236),'name':'ฟังก์ชันผกผัน'},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x400)},{'category':_0xa29d1b(0x236),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0xa29d1b(0x236),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x3a4)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x1b8)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x18a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa29d1b(0x250)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x36f)},{'category':_0xa29d1b(0x236),'name':'ฟังก์ชันยกกำลัง'},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x5a4)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x344)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x434)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x37a)},{'category':_0xa29d1b(0x236),'name':_0xa29d1b(0x4d8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa29d1b(0x1e2)},{'category':_0xa29d1b(0x47c),'name':_0xa29d1b(0x5d9)},{'category':'เรขาคณิตวิเคราะห์','name':'ความชันและเส้นตรง'},{'category':_0xa29d1b(0x47c),'name':_0xa29d1b(0x46b)},{'category':_0xa29d1b(0x47c),'name':_0xa29d1b(0x325)},{'category':_0xa29d1b(0x47c),'name':_0xa29d1b(0x208)},{'category':_0xa29d1b(0x47c),'name':_0xa29d1b(0x3d8)},{'category':_0xa29d1b(0x47c),'name':_0xa29d1b(0x5ba)},{'category':_0xa29d1b(0x47c),'name':_0xa29d1b(0x438)},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0xa29d1b(0x203),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x6df)},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x458)},{'category':_0xa29d1b(0x203),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x36e)},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x3dd)},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x46d)},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x4dc)},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x252)},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x4db)},{'category':_0xa29d1b(0x203),'name':_0xa29d1b(0x472)},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x5c0)},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x660)},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x1ff)},{'category':'สถิติและความน่าจะเป็น','name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0xa29d1b(0x403),'name':'ฮิสโตแกรม'},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x27c)},{'category':'สถิติและความน่าจะเป็น','name':_0xa29d1b(0x1e1)},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x6ab)},{'category':'สถิติและความน่าจะเป็น','name':_0xa29d1b(0x4d2)},{'category':'สถิติและความน่าจะเป็น','name':'พิสัย'},{'category':_0xa29d1b(0x403),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x3c9)},{'category':_0xa29d1b(0x403),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x352)},{'category':'สถิติและความน่าจะเป็น','name':_0xa29d1b(0x3fd)},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x667)},{'category':'สถิติและความน่าจะเป็น','name':_0xa29d1b(0x4fd)},{'category':'สถิติและความน่าจะเป็น','name':_0xa29d1b(0x39a)},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x402)},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x335)},{'category':_0xa29d1b(0x403),'name':_0xa29d1b(0x1ce)},{'category':_0xa29d1b(0x403),'name':'การจัดหมู่\x20(Combination)'},{'category':'สถิติและความน่าจะเป็น','name':_0xa29d1b(0x676)},{'category':_0xa29d1b(0x403),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x4c1)},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x3ef)},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x489)},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x1d3)},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x29f)},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x629)},{'category':_0xa29d1b(0x2a6),'name':'ความชันเส้นสัมผัส'},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x45a)},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x292)},{'category':'แคลคูลัสเบื้องต้น','name':_0xa29d1b(0x600)},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x64d)},{'category':_0xa29d1b(0x2a6),'name':_0xa29d1b(0x4aa)},{'category':_0xa29d1b(0x2a6),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0xa29d1b(0x4de),'name':_0xa29d1b(0x1a8)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xa29d1b(0x6a9)},{'category':_0xa29d1b(0x4de),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0xa29d1b(0x4de),'name':_0xa29d1b(0x530)},{'category':_0xa29d1b(0x4de),'name':_0xa29d1b(0x626)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xa29d1b(0x52e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0xa29d1b(0x394),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0xa29d1b(0x394),'name':_0xa29d1b(0x658)},{'category':_0xa29d1b(0x394),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0xa29d1b(0x394),'name':_0xa29d1b(0x607)},{'category':_0xa29d1b(0x394),'name':_0xa29d1b(0x169)},{'category':_0xa29d1b(0x3c0),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0xa29d1b(0x3c0),'name':_0xa29d1b(0x201)},{'category':_0xa29d1b(0x3c0),'name':_0xa29d1b(0x52c)}];function renderTopicCheckboxes(){const _0x39288c=_0xa29d1b,_0xdafe88=document[_0x39288c(0x185)]('math-topics-checkbox-container');if(!_0xdafe88)return;const _0x46c3e4=allMathTopics,_0x573261=customMathTopics[_0x39288c(0x5b1)](_0x1ee2cb=>({'category':_0x39288c(0x681),'name':_0x1ee2cb[_0x39288c(0x2bc)]})),_0xf653ac=[..._0x46c3e4,..._0x573261],_0x57f08a=_0xf653ac['reduce']((_0x4deeb5,_0x9a325d)=>{const _0x5c78f0=_0x39288c;return!_0x4deeb5[_0x9a325d[_0x5c78f0(0x153)]]&&(_0x4deeb5[_0x9a325d['category']]=[]),_0x4deeb5[_0x9a325d[_0x5c78f0(0x153)]][_0x5c78f0(0x2f8)](_0x9a325d),_0x4deeb5;},{});let _0x316c8f='';const _0xe5253d=['หัวข้อที่สร้างเอง',...Object[_0x39288c(0x465)](_0x57f08a)[_0x39288c(0x4d4)](_0x393cc8=>_0x393cc8!=='หัวข้อที่สร้างเอง')];for(const _0x1d8330 of _0xe5253d){if(_0x57f08a[_0x1d8330]){const _0x1f9b29=_0x1d8330===_0x39288c(0x681)?_0x39288c(0x246):_0x39288c(0x1f8),_0x463341=_0x1d8330===_0x39288c(0x681)?_0x39288c(0x6e9):_0x39288c(0x3e1);_0x316c8f+='<div\x20class=\x22mb-3\x22>',_0x316c8f+=_0x39288c(0x195)+_0x463341+_0x39288c(0x47d)+_0x1f9b29+_0x39288c(0x175)+_0x1d8330+_0x39288c(0x500),_0x57f08a[_0x1d8330][_0x39288c(0x497)](_0x23f0b1=>{const _0x1f15a2=_0x39288c;_0x316c8f+=_0x1f15a2(0x6d7)+_0x23f0b1[_0x1f15a2(0x2bc)]+_0x1f15a2(0x52a)+_0x23f0b1[_0x1f15a2(0x2bc)]+_0x1f15a2(0x33a);}),_0x316c8f+='</div>';}}_0xdafe88['innerHTML']=_0x316c8f||_0x39288c(0x6ba),_0xdafe88['removeEventListener'](_0x39288c(0x382),updateSelectedTopicsCount),_0xdafe88['addEventListener'](_0x39288c(0x382),updateSelectedTopicsCount);}function updateSelectedTopicsCount(){const _0x298f2d=_0xa29d1b,_0x1dfd94=document[_0x298f2d(0x185)](_0x298f2d(0x15f)),_0x470163=_0x1dfd94[_0x298f2d(0x620)](_0x298f2d(0x566))[_0x298f2d(0x2d0)],_0x1cefca=document[_0x298f2d(0x185)](_0x298f2d(0x3cd));_0x470163>0x0?_0x1cefca['textContent']=_0x298f2d(0x24a)+_0x470163+_0x298f2d(0x694):_0x1cefca[_0x298f2d(0x65e)]='';}let db,auth,userId,customMathTopics=[],currentMode=_0xa29d1b(0x4a6),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0xa29d1b(0x3d1),quizLeaderboardSortOrder=_0xa29d1b(0x5ca),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0xa29d1b(0x305),'name':_0xa29d1b(0x51f),'description':_0xa29d1b(0x69e),'icon':_0xa29d1b(0x617)},'QUICK_THINKER':{'id':_0xa29d1b(0x64a),'name':'เซียนสมองไว','description':_0xa29d1b(0x3f1),'icon':_0xa29d1b(0x4e1)},'ON_FIRE':{'id':'on_fire','name':_0xa29d1b(0x6d2),'description':_0xa29d1b(0x1dd),'icon':_0xa29d1b(0x143)},'FIRST_TRY_ACE':{'id':_0xa29d1b(0x36a),'name':_0xa29d1b(0x466),'description':_0xa29d1b(0x2a7),'icon':_0xa29d1b(0x436)},'COMEBACK_KING':{'id':_0xa29d1b(0x680),'name':_0xa29d1b(0x156),'description':_0xa29d1b(0x1cc),'icon':_0xa29d1b(0x496)},'SPECIALIST':{'id':'specialist','name':_0xa29d1b(0x1aa),'description':_0xa29d1b(0x349),'icon':_0xa29d1b(0x602)},'PERSEVERANCE':{'id':_0xa29d1b(0x293),'name':_0xa29d1b(0x2ea),'description':_0xa29d1b(0x25b),'icon':_0xa29d1b(0x399)}},firebaseConfig={'apiKey':_0xa29d1b(0x263),'authDomain':_0xa29d1b(0x5e1),'projectId':_0xa29d1b(0x234),'storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':_0xa29d1b(0x6c4),'appId':_0xa29d1b(0x5de),'measurementId':_0xa29d1b(0x409)},appId=typeof __app_id!==_0xa29d1b(0x18d)?__app_id:_0xa29d1b(0x2b5),adminView=document[_0xa29d1b(0x185)](_0xa29d1b(0x586)),studentView=document['getElementById']('student-view'),projectDashboardView=document['getElementById'](_0xa29d1b(0x1a3)),projectDetailView=document[_0xa29d1b(0x185)]('project-detail-view'),quizResultsView=document[_0xa29d1b(0x185)]('quiz-results-view'),projectList=document[_0xa29d1b(0x185)](_0xa29d1b(0x675)),noProjectsMsg=document['getElementById'](_0xa29d1b(0x502)),projectTitle=document['getElementById'](_0xa29d1b(0x6c0)),projectIdDisplay=document[_0xa29d1b(0x185)](_0xa29d1b(0x385)),studentList=document[_0xa29d1b(0x185)](_0xa29d1b(0x608)),messageModal=document[_0xa29d1b(0x185)](_0xa29d1b(0x511)),modalMessage=document[_0xa29d1b(0x185)](_0xa29d1b(0x5e4)),createProjectModal=document[_0xa29d1b(0x185)]('create-project-modal'),adminPasswordModal=document['getElementById'](_0xa29d1b(0x418)),confirmationModal=document[_0xa29d1b(0x185)](_0xa29d1b(0x1e4)),userIdDisplay=document[_0xa29d1b(0x185)]('user-id-display'),topicTab=document[_0xa29d1b(0x185)](_0xa29d1b(0x18f)),textTab=document[_0xa29d1b(0x185)](_0xa29d1b(0x142)),topicInputArea=document[_0xa29d1b(0x185)](_0xa29d1b(0x2d2)),textInputArea=document[_0xa29d1b(0x185)]('text-input-area'),manageTab=document[_0xa29d1b(0x185)](_0xa29d1b(0x3f6)),resultsTab=document[_0xa29d1b(0x185)](_0xa29d1b(0x422)),leaderboardTab=document[_0xa29d1b(0x185)](_0xa29d1b(0x5b7)),manageTabContent=document['getElementById'](_0xa29d1b(0x6ed)),resultsTabContent=document[_0xa29d1b(0x185)](_0xa29d1b(0x35d)),leaderboardTabContent=document[_0xa29d1b(0x185)](_0xa29d1b(0x4c9)),projectQuizzesList=document['getElementById'](_0xa29d1b(0x66e)),fileTab=document['getElementById']('file-tab'),fileInputArea=document[_0xa29d1b(0x185)](_0xa29d1b(0x1fd)),fileUploadInput=document[_0xa29d1b(0x185)]('file-upload-input'),worksheetTab=document[_0xa29d1b(0x185)](_0xa29d1b(0x1b7)),worksheetInputArea=document['getElementById'](_0xa29d1b(0x58a)),generateWorksheetBtn=document[_0xa29d1b(0x185)](_0xa29d1b(0x2f3)),studentInitialView=document[_0xa29d1b(0x185)](_0xa29d1b(0x631)),studentNameSelectionView=document['getElementById'](_0xa29d1b(0x430)),studentQuizArea=document[_0xa29d1b(0x185)](_0xa29d1b(0x441)),studentResultArea=document[_0xa29d1b(0x185)](_0xa29d1b(0x2e1)),studentReadingArea=document[_0xa29d1b(0x185)](_0xa29d1b(0x23e)),loadQuizBtn=document[_0xa29d1b(0x185)]('load-quiz-btn'),startQuizBtn=document[_0xa29d1b(0x185)](_0xa29d1b(0x3ab)),studentJoinGameView=document['getElementById'](_0xa29d1b(0x670)),presentationModal=document[_0xa29d1b(0x185)]('presentation-modal'),renameQuizModal=document[_0xa29d1b(0x185)](_0xa29d1b(0x198)),moveQuizModal=document[_0xa29d1b(0x185)](_0xa29d1b(0x4dd)),quizSettingsModal=document[_0xa29d1b(0x185)]('quiz-settings-modal'),quizStatusModal=document[_0xa29d1b(0x185)](_0xa29d1b(0x2ff)),liveGameView=document['getElementById']('live-game-view');function handleAutoFixLatex(){const _0x1011c8=_0xa29d1b,_0x3f5d9c=document[_0x1011c8(0x185)](_0x1011c8(0x1b0))||document,_0x5b3672=_0x3f5d9c['querySelectorAll']([_0x1011c8(0x413),_0x1011c8(0x517),_0x1011c8(0x494),_0x1011c8(0x3bc),_0x1011c8(0x30f),_0x1011c8(0x657),_0x1011c8(0x3fb),_0x1011c8(0x2c8),_0x1011c8(0x354)][_0x1011c8(0x1ed)](','));let _0xfa1717=0x0;const _0xb64f7e=_0x25b577=>'value'in _0x25b577?String(_0x25b577['value']):_0x25b577['innerText']!==undefined?_0x25b577['innerText']:_0x25b577[_0x1011c8(0x65e)]||'',_0x18a651=(_0xdc3dd6,_0x434676)=>{const _0xbf618b=_0x1011c8;if(_0xbf618b(0x261)in _0xdc3dd6){_0xdc3dd6['value']=_0x434676;return;}if(_0xdc3dd6[_0xbf618b(0x61b)]&&_0xdc3dd6[_0xbf618b(0x61b)]('mjx-container'))return;if(_0xdc3dd6['innerText']!==undefined)_0xdc3dd6[_0xbf618b(0x6f6)]=_0x434676;else _0xdc3dd6['textContent']=_0x434676;},_0x5afe4d=_0x3b4ab1=>_0x3b4ab1[_0x1011c8(0x160)](/\u00A0/g,'\x20')[_0x1011c8(0x160)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x4507c0=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x1f130f=_0x5b92f2=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x1011c8(0x6cc)](_0x5b92f2),_0x4c27f9=_0x10babe=>{const _0x29e0b3=_0x1011c8,_0x21859e=(_0x10babe[_0x29e0b3(0x4ce)](/\{/g)||[])['length'],_0x388ffe=(_0x10babe['match'](/\}/g)||[])['length'];if(_0x21859e>_0x388ffe)_0x10babe=_0x10babe+'}'[_0x29e0b3(0x178)](_0x21859e-_0x388ffe);return _0x10babe;},_0x4cb911=_0x5f491e=>{const _0x305b42=_0x1011c8;let _0x43f834=_0x5f491e[_0x305b42(0x5cc)]();const _0x219d02=[_0x305b42(0x540),_0x305b42(0x59c),'tfrac',_0x305b42(0x5ab),_0x305b42(0x50d),'times',_0x305b42(0x3ad),_0x305b42(0x2fd),_0x305b42(0x1ef),_0x305b42(0x503),'le','ge',_0x305b42(0x2f5),'pm',_0x305b42(0x193),'sin',_0x305b42(0x14e),_0x305b42(0x3e8),_0x305b42(0x65a),'ln',_0x305b42(0x3b3),_0x305b42(0x220),_0x305b42(0x45f),_0x305b42(0x4cc),_0x305b42(0x6c5),_0x305b42(0x1d0),'underline',_0x305b42(0x4f2),_0x305b42(0x6e1)];_0x43f834=_0x43f834[_0x305b42(0x160)](new RegExp(_0x305b42(0x557)+_0x219d02[_0x305b42(0x1ed)]('|')+_0x305b42(0x5c6),'g'),'\x5c'),_0x219d02[_0x305b42(0x497)](_0x3376e9=>{const _0x463260=_0x305b42;_0x43f834=_0x43f834[_0x463260(0x160)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3376e9+'\x5cb','g'),(_0x55e8d8,_0x173c09)=>_0x173c09+'\x5c'+_0x3376e9);});const _0x3a08d0=[[/×/g,_0x305b42(0x6bf)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x305b42(0x50b)],[/≥/g,'\x5cge'],[/≠/g,_0x305b42(0x1ac)],[/±/g,_0x305b42(0x50c)],[/∑/g,_0x305b42(0x66a)],[/−/g,'-']];_0x3a08d0[_0x305b42(0x497)](([_0x5e4c87,_0x18340e])=>{const _0xa6077e=_0x305b42;_0x43f834=_0x43f834[_0xa6077e(0x160)](_0x5e4c87,_0x18340e);}),_0x43f834=_0x43f834[_0x305b42(0x160)](/√\s*\(([^)]*)\)/g,_0x305b42(0x150)),_0x43f834=_0x43f834[_0x305b42(0x160)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x43f834=_0x43f834[_0x305b42(0x160)](/(^|[^\\])\bimes\b/g,_0x305b42(0x520))[_0x305b42(0x160)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x305b42(0x3f0))['replace'](/(^|[^\\])ext\{/g,_0x305b42(0x5f7))['replace'](/(^|[^\\])ext\(/g,_0x305b42(0x477))['replace'](/\\text\(([^)]*)\)/g,_0x305b42(0x54a))[_0x305b42(0x160)](/\s\\frac/g,_0x305b42(0x499)),_0x43f834=_0x43f834[_0x305b42(0x160)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x1f7801,_0x352cd0,_0x289adb,_0x816b5b)=>_0x352cd0+_0x305b42(0x2b8)+_0x289adb+'}{'+_0x816b5b+'}'),_0x43f834=_0x43f834[_0x305b42(0x160)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x305b42(0x54e))[_0x305b42(0x160)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x305b42(0x54e))[_0x305b42(0x160)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x305b42(0x68b)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x305b42(0x68b)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x305b42(0x68b)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x305b42(0x68b)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x305b42(0x68b)],[/(\d+)\s*°\s*C/g,_0x305b42(0x68b)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x305b42(0x2c1)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x305b42(0x68b)]][_0x305b42(0x497)](([_0x370169,_0x201f96])=>{_0x43f834=_0x43f834['replace'](_0x370169,_0x201f96);}),_0x43f834=_0x43f834[_0x305b42(0x160)](/(\d+)\s*%/g,_0x305b42(0x348)),_0x43f834=_0x43f834[_0x305b42(0x160)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x305b42(0x41f))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x305b42(0x26b))[_0x305b42(0x160)](/\{\{([^\{\}]+)\}\}/g,_0x305b42(0x163)),[_0x305b42(0x544),_0x305b42(0x14e),'tan','log','ln'][_0x305b42(0x497)](_0x2d656e=>{const _0x2bf573=_0x305b42;_0x43f834=_0x43f834[_0x2bf573(0x160)](new RegExp(_0x2bf573(0x38f)+_0x2d656e+_0x2bf573(0x257),'g'),(_0x338f33,_0x42fed2)=>_0x42fed2+'\x5c'+_0x2d656e+'(');});const _0x5e692a=(_0x43f834['match'](/\\left\b/g)||[])[_0x305b42(0x2d0)],_0x87cfe5=(_0x43f834['match'](/\\right\b/g)||[])[_0x305b42(0x2d0)];if(_0x5e692a!==_0x87cfe5)_0x43f834=_0x43f834[_0x305b42(0x160)](/\\left\b/g,'')[_0x305b42(0x160)](/\\right\b/g,'');return _0x43f834=_0x4c27f9(_0x43f834),_0x43f834;},_0x399a15=_0x739ab7=>{const _0x325ff2=_0x1011c8;if(/\$|\\\(|\\\[/[_0x325ff2(0x6cc)](_0x739ab7))return _0x739ab7;if(!_0x4507c0[_0x325ff2(0x6cc)](_0x739ab7))return _0x739ab7;const _0x373bd1=_0x739ab7[_0x325ff2(0x4ce)](/^\s*/)[0x0],_0x9f57e9=_0x739ab7[_0x325ff2(0x4ce)](/\s*$/)[0x0],_0x19d7e0=_0x739ab7[_0x325ff2(0x5cc)]();return _0x373bd1+'$'+_0x4cb911(_0x19d7e0)+'$'+_0x9f57e9;},_0x24a094=_0x1a2f82=>_0x1a2f82['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x5b3672[_0x1011c8(0x497)](_0x286e5f=>{const _0x4ed20b=_0x1011c8;if(_0x286e5f[_0x4ed20b(0x61b)]&&_0x286e5f[_0x4ed20b(0x61b)](_0x4ed20b(0x6bd)))return;const _0x127a22=_0xb64f7e(_0x286e5f);let _0x3b2fa7=_0x5afe4d(_0x127a22);_0x3b2fa7=_0x3b2fa7[_0x4ed20b(0x160)](/\$\$([\s\S]*?)\$\$/g,(_0x21e94a,_0x94497c)=>'$$'+_0x4cb911(_0x94497c)+'$$')[_0x4ed20b(0x160)](/\$([^$]*?)\$/g,(_0x2e1c54,_0x1f4522)=>'$'+_0x4cb911(_0x1f4522)+'$')[_0x4ed20b(0x160)](/\\\(([\s\S]*?)\\\)/g,(_0x33a77e,_0x28ab1c)=>'\x5c('+_0x4cb911(_0x28ab1c)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x358465,_0x3897a3)=>'\x5c['+_0x4cb911(_0x3897a3)+'\x5c]');let _0x57a18c=_0x3b2fa7,_0x5895ff=0x0;const _0x45a2df=_0x36695e=>_0x36695e[_0x4ed20b(0x160)](/S([^S]{0,2000}?)S/g,(_0x5b3e19,_0x2f368f)=>_0x4507c0[_0x4ed20b(0x6cc)](_0x2f368f)?'$'+_0x4cb911(_0x2f368f)+'$':_0x5b3e19);while(_0x5895ff++<0x14){const _0x2190a2=_0x45a2df(_0x57a18c);if(_0x2190a2===_0x57a18c)break;_0x57a18c=_0x2190a2;}_0x3b2fa7=_0x57a18c,_0x3b2fa7=_0x3b2fa7[_0x4ed20b(0x67f)]('\x0a')[_0x4ed20b(0x5b1)](_0x44a04e=>{const _0x1dbc5d=_0x4ed20b;if(!(/[,\u3001，;；]/[_0x1dbc5d(0x6cc)](_0x44a04e)||/\s(?:และ|หรือ)\s/[_0x1dbc5d(0x6cc)](_0x44a04e))||!_0x4507c0[_0x1dbc5d(0x6cc)](_0x44a04e))return _0x44a04e;return _0x24a094(_0x44a04e)[_0x1dbc5d(0x5b1)](_0x51f557=>{const _0x29e2e4=_0x1dbc5d;if(/^\s(?:และ|หรือ)\s$/[_0x29e2e4(0x6cc)](_0x51f557)||/^[,\u3001，;；]$/[_0x29e2e4(0x6cc)](_0x51f557))return _0x51f557;return _0x399a15(_0x51f557);})['join']('');})[_0x4ed20b(0x1ed)]('\x0a'),_0x3b2fa7=_0x3b2fa7['split']('\x0a')['map'](_0x151624=>{const _0x5866ca=_0x4ed20b,_0x4efe8d=_0x151624['trim']();if(!_0x4efe8d)return _0x151624;const _0x4132ff=/\$|\\\(|\\\[/[_0x5866ca(0x6cc)](_0x4efe8d),_0x12facd=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x5866ca(0x6cc)](_0x4efe8d);if(_0x4132ff||!_0x12facd||_0x1f130f(_0x4efe8d))return _0x151624;return _0x151624['replace'](_0x4efe8d,'$'+_0x4cb911(_0x4efe8d)+'$');})['join']('\x0a'),_0x3b2fa7=_0x3b2fa7[_0x4ed20b(0x160)](/(\d+)\s*°\s*C\b/g,(_0x5f1f5d,_0x468328,_0x32c7a1,_0x412272)=>{const _0x398c71=_0x412272[_0x32c7a1-0x1];if(_0x398c71==='$'||_0x398c71==='S'||_0x398c71==='\x5c')return _0x5f1f5d;return'$'+_0x468328+'^{\x5ccirc}\x5ctext{C}$';})[_0x4ed20b(0x160)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x1681ec,_0x2fba96,_0x2f9f38,_0x1bb472)=>{const _0xca28c8=_0x4ed20b,_0x275680=_0x1bb472[_0x2f9f38-0x1];if(_0x275680==='$'||_0x275680==='S'||_0x275680==='\x5c')return _0x1681ec;return'$'+_0x2fba96+_0xca28c8(0x1cb);})[_0x4ed20b(0x160)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5c31f6,_0x266b7a,_0x34b5fc,_0x19a1b4)=>{const _0x3a4bce=_0x4ed20b,_0x1d34b9=_0x19a1b4[_0x34b5fc-0x1];if(_0x1d34b9==='$'||_0x1d34b9==='S'||_0x1d34b9==='\x5c')return _0x5c31f6;return'$'+_0x266b7a+_0x3a4bce(0x1cb);}),_0x3b2fa7=_0x3b2fa7[_0x4ed20b(0x160)](/\$\s*\$/g,'$$'),_0x3b2fa7!==_0x127a22&&(_0x18a651(_0x286e5f,_0x3b2fa7),_0xfa1717++);});if(_0xfa1717>0x0){showMessage(_0x1011c8(0x379)+_0xfa1717+'\x20ช่อง');try{if(window[_0x1011c8(0x4ca)]&&MathJax['typesetPromise'])MathJax[_0x1011c8(0x34c)]();window['katex']&&typeof renderMathInElement===_0x1011c8(0x2df)&&renderMathInElement(_0x3f5d9c,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x394790){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x47986f=_0xa29d1b,_0x3462df=collection(db,_0x47986f(0x14d)+appId+_0x47986f(0x1d2));onSnapshot(_0x3462df,_0x3c9805=>{const _0x1e4430=_0x47986f;customMathTopics=_0x3c9805[_0x1e4430(0x643)][_0x1e4430(0x5b1)](_0x1e2d19=>({'id':_0x1e2d19['id'],..._0x1e2d19[_0x1e4430(0x585)]()})),renderTopicCheckboxes();},_0x1441f2=>{const _0x4b2961=_0x47986f;console['error'](_0x4b2961(0x5fb),_0x1441f2);});}function handleSelectAllTopics(){const _0x138277=_0xa29d1b,_0x11f501=document['getElementById'](_0x138277(0x15f)),_0x516baa=_0x11f501[_0x138277(0x620)]('input[type=\x22checkbox\x22]');_0x516baa[_0x138277(0x497)](_0x5de809=>{_0x5de809['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x3d15f1=_0xa29d1b,_0x477cc9=document['getElementById']('math-topics-checkbox-container'),_0x52857f=_0x477cc9[_0x3d15f1(0x620)](_0x3d15f1(0x187));_0x52857f[_0x3d15f1(0x497)](_0x52124f=>{const _0xe7abb0=_0x3d15f1;_0x52124f[_0xe7abb0(0x67b)]=![];}),updateSelectedTopicsCount();}async function handleAddCustomMathTopic(){const _0x2126f9=_0xa29d1b,_0x4a9a31=document[_0x2126f9(0x185)](_0x2126f9(0x221)),_0x12bfba=_0x4a9a31['value'][_0x2126f9(0x5cc)]();if(!_0x12bfba){showMessage(_0x2126f9(0x17b));return;}if(!userId){showMessage(_0x2126f9(0x4ed));return;}try{const _0x52f048=collection(db,_0x2126f9(0x14d)+appId+_0x2126f9(0x1d2));await addDoc(_0x52f048,{'name':_0x12bfba,'createdAt':serverTimestamp()}),_0x4a9a31['value']='',showMessage(_0x2126f9(0x53e)+_0x12bfba+_0x2126f9(0x5f6));}catch(_0x1887be){console[_0x2126f9(0x2f7)](_0x2126f9(0x376),_0x1887be),showMessage(_0x2126f9(0x22a));}}async function initialize(){const _0x100fd8=_0xa29d1b;try{const _0x3a7e05=initializeApp(firebaseConfig);db=getFirestore(_0x3a7e05),auth=getAuth(_0x3a7e05),setupAuthListener(),setupEventListeners(),showView(_0x100fd8(0x4a6)),renderTopicCheckboxes();}catch(_0x42001e){console[_0x100fd8(0x2f7)](_0x100fd8(0x51c),_0x42001e),showMessage(_0x100fd8(0x41d));}}function compareNumericalAnswers(_0x9be4ca,_0x4a70c1){const _0x3b855f=_0xa29d1b,_0x4bf55a=String(_0x9be4ca)[_0x3b855f(0x160)](',','.')[_0x3b855f(0x160)](/[^\d.-]/g,'')[_0x3b855f(0x5cc)](),_0x18d5fa=String(_0x4a70c1)['replace'](',','.')[_0x3b855f(0x160)](/[^\d.-]/g,'')[_0x3b855f(0x5cc)]();if(_0x4bf55a===''||_0x18d5fa==='')return![];const _0x1b71e6=parseFloat(_0x4bf55a),_0x2ea0c5=parseFloat(_0x18d5fa);if(isNaN(_0x1b71e6)||isNaN(_0x2ea0c5))return![];return Math['abs'](_0x1b71e6-_0x2ea0c5)<0.001;}async function gradeShortAnswer(_0x2b6a00,_0x1cf36c){const _0x26129a=_0xa29d1b,_0x12c95f=_0x1cf36c['idealAnswer'];if(String(_0x2b6a00)['trim']()[_0x26129a(0x1de)]()===String(_0x12c95f)[_0x26129a(0x5cc)]()[_0x26129a(0x1de)]())return!![];if(compareNumericalAnswers(_0x2b6a00,_0x12c95f))return!![];return console['log'](_0x26129a(0x327)),await gradeShortAnswerWithAI(_0x2b6a00,_0x12c95f);}async function revealAnswerForAdmin(_0x4f512c,_0x497b80){const _0x5f5bf0=_0xa29d1b;if(document[_0x5f5bf0(0x185)](_0x5f5bf0(0x27b)))return;const _0x4ea2c2=doc(db,_0x5f5bf0(0x14d)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4ea2c2,{'questionStatus':'revealed'});const _0x5226d2=liveGameView['querySelector'](_0x5f5bf0(0x56b));_0x5226d2&&(_0x5226d2[_0x5f5bf0(0x5a6)][_0x5f5bf0(0x640)](_0x5f5bf0(0x481)),_0x5226d2[_0x5f5bf0(0x5a6)][_0x5f5bf0(0x4d7)](_0x5f5bf0(0x2a1),_0x5f5bf0(0x5b0),_0x5f5bf0(0x28f),_0x5f5bf0(0x698),_0x5f5bf0(0x1f4)),_0x5226d2['innerHTML']=_0x5f5bf0(0x5ae)+_0x5226d2[_0x5f5bf0(0x21c)]);const _0x181a05=document[_0x5f5bf0(0x185)]('admin-action-buttons');_0x181a05&&(_0x181a05[_0x5f5bf0(0x21c)]=_0x5f5bf0(0x1e8)+(_0x4f512c+0x1===_0x497b80?'ดูสรุปผล':_0x5f5bf0(0x248))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5f5bf0(0x185)]('next-live-question-btn')['addEventListener'](_0x5f5bf0(0x599),async()=>{const _0x1cbdc2=_0x5f5bf0,_0x1e2a6c=doc(db,_0x1cbdc2(0x14d)+appId+_0x1cbdc2(0x4c8),currentLiveGameId),_0x33a0d1=await getDoc(_0x1e2a6c);if(!_0x33a0d1[_0x1cbdc2(0x228)]())return;const _0x4de956=_0x33a0d1[_0x1cbdc2(0x585)](),_0x1de152={};if(_0x4de956[_0x1cbdc2(0x281)])for(const _0x4f6732 in _0x4de956['players']){_0x1de152[_0x1cbdc2(0x653)+_0x4f6732+_0x1cbdc2(0x513)]=![];}const _0x22ba2b=_0x4f512c+0x1;_0x22ba2b<_0x497b80?(_0x1de152[_0x1cbdc2(0x14a)]=_0x22ba2b,_0x1de152[_0x1cbdc2(0x58b)]=serverTimestamp(),_0x1de152[_0x1cbdc2(0x2ef)]=_0x1cbdc2(0x3f7),await updateDoc(_0x1e2a6c,_0x1de152)):await updateDoc(_0x1e2a6c,{'status':_0x1cbdc2(0x523)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x5e3224=>{const _0x4a5dbe=_0xaf0f;if(_0x5e3224){userId=_0x5e3224[_0x4a5dbe(0x562)],userIdDisplay[_0x4a5dbe(0x65e)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0x5f0b1f){const _0x37c75e=_0xa29d1b,_0x1be4ce=Object[_0x37c75e(0x58c)](_0x5f0b1f)[_0x37c75e(0x5b1)](([_0x1e2913,_0x1563e8])=>({'name':_0x1e2913,'score':_0x1563e8['score']||0x0,'badges':_0x1563e8[_0x37c75e(0x69f)]||[]}));_0x1be4ce['sort']((_0x4c0664,_0x5bce15)=>{const _0x349252=_0x37c75e,_0x97a005=_0x5bce15[_0x349252(0x1f2)]-_0x4c0664[_0x349252(0x1f2)];if(_0x97a005!==0x0)return _0x97a005;return(_0x5bce15[_0x349252(0x69f)][_0x349252(0x2d0)]||0x0)-(_0x4c0664[_0x349252(0x69f)][_0x349252(0x2d0)]||0x0);});const _0x335bd5=_0x1cd54f=>{const _0x499a94=_0x37c75e;if(!_0x1cd54f||_0x1cd54f[_0x499a94(0x2d0)]===0x0)return'';const _0x57c68e={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x499a94(0x4a9)+_0x1cd54f[_0x499a94(0x5b1)](_0x5a3f3a=>_0x57c68e[_0x5a3f3a]||'')[_0x499a94(0x1ed)]('')+_0x499a94(0x3f8);},_0x3f2332=_0x1be4ce[_0x37c75e(0x463)](0x3),_0x48a6a=_0x3f2332['length']>0x0?_0x37c75e(0x19d)+_0x3f2332[_0x37c75e(0x5b1)]((_0x304b4c,_0x5bf70a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x5bf70a+0x4)+_0x37c75e(0x4f8)+_0x304b4c['name']+_0x37c75e(0x572)+_0x304b4c[_0x37c75e(0x1f2)]+_0x37c75e(0x5d1))['join']('')+_0x37c75e(0x6c2):'',_0x3cebab=_0x37c75e(0x311)+(_0x1be4ce[0x1]?_0x37c75e(0x177)+_0x1be4ce[0x1]['name']+_0x37c75e(0x3d5)+_0x335bd5(_0x1be4ce[0x1][_0x37c75e(0x69f)])+_0x37c75e(0x26d)+_0x1be4ce[0x1]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x37c75e(0x5b9))+_0x37c75e(0x516)+(_0x1be4ce[0x0]?_0x37c75e(0x355)+_0x1be4ce[0x0][_0x37c75e(0x2bc)]+_0x37c75e(0x3d5)+_0x335bd5(_0x1be4ce[0x0][_0x37c75e(0x69f)])+_0x37c75e(0x1d8)+_0x1be4ce[0x0]['score']+_0x37c75e(0x2c9):_0x37c75e(0x5b9))+_0x37c75e(0x516)+(_0x1be4ce[0x2]?_0x37c75e(0x3c1)+_0x1be4ce[0x2][_0x37c75e(0x2bc)]+_0x37c75e(0x3d5)+_0x335bd5(_0x1be4ce[0x2]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x1be4ce[0x2][_0x37c75e(0x1f2)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x37c75e(0x5b9))+_0x37c75e(0x3b9)+_0x48a6a+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x37c75e(0x2e8)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x37c75e(0x39b))+_0x37c75e(0x53d);liveGameView['innerHTML']=_0x3cebab,currentMode===_0x37c75e(0x2e8)&&document[_0x37c75e(0x185)]('close-game-final-btn')[_0x37c75e(0x581)]('click',async()=>{const _0x5f171e=_0x37c75e,_0x145620=doc(db,'artifacts/'+appId+_0x5f171e(0x4c8),currentLiveGameId);await deleteDoc(_0x145620),showView(_0x5f171e(0x188));});}async function handleStartLiveRace(_0x15a312){const _0x4fc1ad=_0xa29d1b;let _0x1ffa09=allQuizzes[_0x4fc1ad(0x1e6)](_0x2c0223=>_0x2c0223['id']===_0x15a312);if(!_0x1ffa09){const _0x54b34b=doc(db,_0x4fc1ad(0x14d)+appId+'/public/data/quizzes',_0x15a312),_0x20a522=await getDoc(_0x54b34b);if(!_0x20a522['exists']()){showMessage(_0x4fc1ad(0x225));return;}_0x1ffa09={'id':_0x20a522['id'],..._0x20a522['data']()};}currentQuizData=getShuffledQuiz(_0x1ffa09);const _0x346e05=_0x1ffa09['projectId']||currentProjectId||null,_0x2befe8=Math[_0x4fc1ad(0x350)](0x3e8+Math[_0x4fc1ad(0x5f5)]()*0x2328)[_0x4fc1ad(0x1b2)]();currentLiveGamePin=_0x2befe8;try{const _0x588685=await addDoc(collection(db,'artifacts/'+appId+_0x4fc1ad(0x4c8)),{'quizId':_0x15a312,'projectId':_0x346e05,'status':_0x4fc1ad(0x4be),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2befe8,'createdAt':serverTimestamp()});currentLiveGameId=_0x588685['id'],showAdminLobbyView(_0x2befe8,_0x1ffa09[_0x4fc1ad(0x1d1)]),listenForLiveGameUpdates();}catch(_0x3e8aaa){console[_0x4fc1ad(0x2f7)](_0x4fc1ad(0x21b),_0x3e8aaa),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x2cfa37=_0xa29d1b,_0x25eef5=document[_0x2cfa37(0x61b)]('#student-quiz-leaderboard-content\x20thead');_0x25eef5&&(_0x25eef5[_0x2cfa37(0x21c)]=_0x2cfa37(0x330));const _0x20d765=document[_0x2cfa37(0x61b)]('#student-project-leaderboard-content\x20thead');_0x20d765&&(_0x20d765[_0x2cfa37(0x21c)]=_0x2cfa37(0x507));const _0x405fde=document[_0x2cfa37(0x185)]('student-rankings-modal');_0x405fde[_0x2cfa37(0x5a6)]['remove']('hidden'),document[_0x2cfa37(0x185)]('close-student-rankings-btn')[_0x2cfa37(0x3d7)]=()=>_0x405fde['classList'][_0x2cfa37(0x4d7)](_0x2cfa37(0x6d1));const _0x5f0c08=document[_0x2cfa37(0x185)](_0x2cfa37(0x3ea)),_0x17fe4c=document[_0x2cfa37(0x185)](_0x2cfa37(0x6b7)),_0x154bd5=document[_0x2cfa37(0x185)](_0x2cfa37(0x59e)),_0x558011=document[_0x2cfa37(0x185)](_0x2cfa37(0x5ff));_0x5f0c08['onclick']=()=>{const _0x5f3b13=_0x2cfa37;_0x5f0c08[_0x5f3b13(0x5a6)][_0x5f3b13(0x4d7)](_0x5f3b13(0x60c)),_0x17fe4c[_0x5f3b13(0x5a6)]['remove'](_0x5f3b13(0x60c)),_0x154bd5['classList'][_0x5f3b13(0x640)](_0x5f3b13(0x6d1)),_0x558011[_0x5f3b13(0x5a6)][_0x5f3b13(0x4d7)](_0x5f3b13(0x6d1));},_0x17fe4c[_0x2cfa37(0x3d7)]=()=>{const _0x20089e=_0x2cfa37;_0x17fe4c['classList'][_0x20089e(0x4d7)](_0x20089e(0x60c)),_0x5f0c08[_0x20089e(0x5a6)][_0x20089e(0x640)](_0x20089e(0x60c)),_0x558011[_0x20089e(0x5a6)][_0x20089e(0x640)](_0x20089e(0x6d1)),_0x154bd5[_0x20089e(0x5a6)][_0x20089e(0x4d7)](_0x20089e(0x6d1));};try{const _0x59de46=collection(db,_0x2cfa37(0x14d)+appId+_0x2cfa37(0x2b3)+currentQuizData['id']+_0x2cfa37(0x35a)),_0x268935=await getDocs(_0x59de46),_0x47c97e=_0x268935[_0x2cfa37(0x643)]['map'](_0xf1470c=>_0xf1470c[_0x2cfa37(0x585)]());renderQuizLeaderboard(_0x47c97e,currentQuizData,_0x2cfa37(0x1ca));const _0x5b2ec6=collection(db,_0x2cfa37(0x14d)+appId+_0x2cfa37(0x3b1)+currentQuizData['projectId']+_0x2cfa37(0x437)),_0x2fa756=await getDocs(_0x5b2ec6),_0x439d34=_0x2fa756[_0x2cfa37(0x643)]['map'](_0x5b29cf=>_0x5b29cf['data']());renderLeaderboard(_0x439d34,_0x2cfa37(0x3f4));}catch(_0x529aeb){console[_0x2cfa37(0x2f7)](_0x2cfa37(0x6d5),_0x529aeb),showMessage(_0x2cfa37(0x199));}}async function handleSaveToBank(_0x3c68c1){const _0x10c88e=_0xa29d1b,_0x4f84c0=_0x3c68c1[_0x10c88e(0x43a)],_0x5092bf=_0x4f84c0[_0x10c88e(0x411)][_0x10c88e(0x6bb)],_0x5d7d84=currentQuizData[_0x10c88e(0x64e)][_0x5092bf];if(!userId){showMessage(_0x10c88e(0x1d4));return;}try{const _0x135b5c={..._0x5d7d84,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x51eca4=collection(db,'artifacts/'+appId+_0x10c88e(0x5d4)+userId+_0x10c88e(0x37d));await addDoc(_0x51eca4,_0x135b5c),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x4f84c0[_0x10c88e(0x5a6)][_0x10c88e(0x640)](_0x10c88e(0x54b)),_0x4f84c0[_0x10c88e(0x5a6)][_0x10c88e(0x4d7)](_0x10c88e(0x699)),_0x4f84c0[_0x10c88e(0x16a)]=!![];}catch(_0x3aabbe){console['error'](_0x10c88e(0x630),_0x3aabbe),showMessage(_0x10c88e(0x695));}}function listenForStarredQuizzes(){const _0x3c1a68=_0xa29d1b;if(!userId)return;const _0xb9750d=collection(db,_0x3c1a68(0x14d)+appId+_0x3c1a68(0x577)),_0x2de2f7=query(_0xb9750d,where(_0x3c1a68(0x6d9),'==',!![]));onSnapshot(_0x2de2f7,_0x2cdf5a=>{const _0x46a2a4=_0x3c1a68;starredQuizzes=_0x2cdf5a[_0x46a2a4(0x643)]['map'](_0x10ab55=>({'id':_0x10ab55['id'],..._0x10ab55[_0x46a2a4(0x585)]()})),renderProjects();},_0x571eec=>{const _0x3bf287=_0x3c1a68;console[_0x3bf287(0x2f7)](_0x3bf287(0x57f),_0x571eec);});}async function handleToggleStarQuiz(_0x195aa9){const _0x35274e=_0xa29d1b,_0x58c0f5=doc(db,'artifacts/'+appId+_0x35274e(0x577),_0x195aa9);try{const _0x44cc29=await getDoc(_0x58c0f5);if(_0x44cc29[_0x35274e(0x228)]()){const _0x572b22=_0x44cc29[_0x35274e(0x585)]()[_0x35274e(0x6d9)]||![];await updateDoc(_0x58c0f5,{'isStarred':!_0x572b22});}}catch(_0x2418cb){console['error']('Error\x20toggling\x20star\x20status:',_0x2418cb),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x4369b7=_0xa29d1b,_0x5378cf=document[_0x4369b7(0x185)](_0x4369b7(0x5ef));_0x5378cf[_0x4369b7(0x21c)]=_0x4369b7(0x2f4);try{const _0x5864bf=collection(db,_0x4369b7(0x14d)+appId+_0x4369b7(0x5d4)+userId+_0x4369b7(0x37d)),_0x19fff9=query(_0x5864bf),_0x43d3a7=await getDocs(_0x19fff9);if(_0x43d3a7['empty']){_0x5378cf[_0x4369b7(0x21c)]=_0x4369b7(0x44f);return;}let _0x48424c=_0x43d3a7[_0x4369b7(0x643)]['map'](_0x1ecf91=>{const _0x149f5d=_0x4369b7,_0x3ec9e8=_0x1ecf91['data'](),_0x10f6f4=_0x1ecf91['id'];return _0x149f5d(0x35f)+JSON[_0x149f5d(0x56e)](_0x3ec9e8)+_0x149f5d(0x64c)+(_0x3ec9e8[_0x149f5d(0x6f2)]||_0x3ec9e8[_0x149f5d(0x18e)])+_0x149f5d(0x320)+_0x3ec9e8[_0x149f5d(0x595)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4369b7(0x1ed)]('');_0x5378cf[_0x4369b7(0x21c)]=_0x4369b7(0x62b)+_0x48424c+_0x4369b7(0x69d),document[_0x4369b7(0x185)]('create-from-bank-btn')[_0x4369b7(0x581)](_0x4369b7(0x599),createQuizFromBank);}catch(_0x503518){console[_0x4369b7(0x2f7)]('Error\x20displaying\x20question\x20bank:',_0x503518),_0x5378cf[_0x4369b7(0x21c)]=_0x4369b7(0x408);}}function showAdminLiveQuestionView(_0x5e1ede,_0x5413c9,_0x59267a){const _0x202ae5=_0xa29d1b,_0x36657d=_0x5e1ede[_0x202ae5(0x1f0)]||currentQuizData['quizType'];let _0x620f8e='';if(_0x36657d===_0x202ae5(0x145)||_0x36657d==='true_false'){const _0xc58256=_0x36657d===_0x202ae5(0x1c4)?[_0x202ae5(0x639),_0x202ae5(0x60b)]:_0x5e1ede[_0x202ae5(0x186)],_0x4609fc=_0x36657d===_0x202ae5(0x1c4)?_0x5e1ede[_0x202ae5(0x5d7)]?0x0:0x1:_0x5e1ede[_0x202ae5(0x6c3)];_0x620f8e=_0xc58256[_0x202ae5(0x5b1)]((_0x821836,_0x2ae7a5)=>_0x202ae5(0x318)+(_0x2ae7a5===_0x4609fc)+_0x202ae5(0x31c)+_0x821836+_0x202ae5(0x29e))[_0x202ae5(0x1ed)]('');}else{if(_0x36657d===_0x202ae5(0x362)){const _0x5342c9=_0x5e1ede['allResponses']||[];_0x620f8e=_0x5342c9[_0x202ae5(0x5b1)](_0x209d4f=>_0x202ae5(0x318)+(_0x209d4f===_0x5e1ede[_0x202ae5(0x49f)])+_0x202ae5(0x31c)+_0x209d4f+_0x202ae5(0x29e))[_0x202ae5(0x1ed)]('');}}const _0x39e0d6=_0x5e1ede['stem']||_0x5e1ede[_0x202ae5(0x6f2)],_0x3fea9c=_0x202ae5(0x356)+(_0x5413c9+0x1)+_0x202ae5(0x550)+_0x59267a+_0x202ae5(0x66d)+_0x39e0d6+_0x202ae5(0x1b1)+_0x620f8e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x202ae5(0x21c)]=_0x3fea9c;window[_0x202ae5(0x4ca)]&&MathJax[_0x202ae5(0x34c)]&&MathJax[_0x202ae5(0x34c)]([liveGameView]);const _0x3d1217=document[_0x202ae5(0x185)]('admin-action-buttons');document['getElementById'](_0x202ae5(0x319))[_0x202ae5(0x581)](_0x202ae5(0x599),async()=>{const _0x4ac27b=_0x202ae5,_0x372f15=doc(db,_0x4ac27b(0x14d)+appId+_0x4ac27b(0x4c8),currentLiveGameId);await updateDoc(_0x372f15,{'questionStatus':_0x4ac27b(0x245)});const _0x45241d=liveGameView['querySelector'](_0x4ac27b(0x56b));_0x45241d&&(_0x45241d[_0x4ac27b(0x5a6)][_0x4ac27b(0x640)](_0x4ac27b(0x481)),_0x45241d[_0x4ac27b(0x5a6)][_0x4ac27b(0x4d7)](_0x4ac27b(0x2a1),'text-green-900',_0x4ac27b(0x28f),_0x4ac27b(0x698),_0x4ac27b(0x1f4)),_0x45241d['innerHTML']=_0x4ac27b(0x5ae)+_0x45241d['innerHTML']),_0x3d1217[_0x4ac27b(0x21c)]=_0x4ac27b(0x1e8)+(_0x5413c9+0x1===_0x59267a?_0x4ac27b(0x2b9):_0x4ac27b(0x248))+_0x4ac27b(0x307),document[_0x4ac27b(0x185)](_0x4ac27b(0x27b))[_0x4ac27b(0x581)](_0x4ac27b(0x599),async()=>{const _0x1b21db=_0x4ac27b,_0x531891=doc(db,_0x1b21db(0x14d)+appId+_0x1b21db(0x4c8),currentLiveGameId),_0x59af06=await getDoc(_0x531891);if(!_0x59af06[_0x1b21db(0x228)]())return;const _0x54d15=_0x59af06['data'](),_0x58b5dd={};if(_0x54d15['players'])for(const _0x33b5cd in _0x54d15['players']){_0x58b5dd[_0x1b21db(0x653)+_0x33b5cd+_0x1b21db(0x513)]=![];}const _0x1a2714=_0x5413c9+0x1;_0x1a2714<_0x59267a?(_0x58b5dd[_0x1b21db(0x14a)]=_0x1a2714,_0x58b5dd[_0x1b21db(0x58b)]=serverTimestamp(),_0x58b5dd['questionStatus']='answering',await updateDoc(_0x531891,_0x58b5dd)):await updateDoc(_0x531891,{'status':_0x1b21db(0x523)});});}),document[_0x202ae5(0x185)](_0x202ae5(0x4cf))['addEventListener'](_0x202ae5(0x599),async()=>{const _0xb2bb64=_0x202ae5,_0x136e10=doc(db,_0xb2bb64(0x14d)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x136e10),showView(_0xb2bb64(0x188));});}function showStudentLiveQuestionView(_0x53f33e,_0x2393f7,_0x2335e0){const _0xdc425f=_0xa29d1b,_0x11595e=_0x53f33e['questionType']||currentQuizData['quizType'];let _0x317627='';if(_0x11595e===_0xdc425f(0x145)||_0x11595e===_0xdc425f(0x1c4)){const _0x7e7908=_0x11595e===_0xdc425f(0x1c4)?['ใช่',_0xdc425f(0x60b)]:_0x53f33e[_0xdc425f(0x186)];_0x317627=_0x7e7908[_0xdc425f(0x5b1)]((_0x517de8,_0x2b637d)=>_0xdc425f(0x2da)+_0x2b637d+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x517de8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xdc425f(0x1ed)]('');}else{if(_0x11595e===_0xdc425f(0x362)){const _0x5f0652=_0x53f33e['allResponses']||[];_0x317627=_0x5f0652['map']((_0x4290f5,_0x56de1b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x56de1b+_0xdc425f(0x41a)+_0x4290f5+_0xdc425f(0x359))['join']('');}else _0x11595e===_0xdc425f(0x3ba)&&(_0x317627=_0xdc425f(0x3ca));}const _0x12deaf=_0x53f33e[_0xdc425f(0x18e)]||_0x53f33e['questionText'],_0x2af8ea=_0xdc425f(0x634)+(_0x2393f7+0x1)+_0xdc425f(0x550)+_0x2335e0+_0xdc425f(0x365)+_0x12deaf+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x317627+_0xdc425f(0x2e0);liveGameView[_0xdc425f(0x21c)]=_0x2af8ea;window[_0xdc425f(0x4ca)]&&MathJax['typesetPromise']&&MathJax[_0xdc425f(0x34c)]([liveGameView]);const _0x2bdcd3=document['getElementById'](_0xdc425f(0x482));_0x2bdcd3&&_0x2bdcd3[_0xdc425f(0x581)]('click',()=>{const _0x4111e9=_0xdc425f,_0x2423d2=document[_0x4111e9(0x185)](_0x4111e9(0x49a))[_0x4111e9(0x261)];handleLiveAnswer(_0x2423d2,_0x53f33e);}),document[_0xdc425f(0x185)](_0xdc425f(0x433))[_0xdc425f(0x581)](_0xdc425f(0x599),_0x2b4613=>{const _0x1b51d7=_0xdc425f,_0x441bca=_0x2b4613[_0x1b51d7(0x6dd)][_0x1b51d7(0x16f)](_0x1b51d7(0x64b));if(_0x441bca){const _0x3bc615=parseInt(_0x441bca[_0x1b51d7(0x411)][_0x1b51d7(0x6bb)]);handleLiveAnswer(_0x3bc615,_0x53f33e);}});}async function handleLiveAnswer(_0x404ea2,_0x356abf){const _0x332af1=_0xa29d1b;document[_0x332af1(0x620)](_0x332af1(0x21e))[_0x332af1(0x497)](_0x526e63=>_0x526e63[_0x332af1(0x16a)]=!![]);const _0x5bbca8=_0x356abf[_0x332af1(0x1f0)]||currentQuizData[_0x332af1(0x40b)];let _0x109e28=![];if(_0x5bbca8==='short_answer'){const _0x458a87=(_0x404ea2||'')[_0x332af1(0x1b2)]();_0x109e28=await gradeShortAnswer(_0x458a87,_0x356abf);}else{if(_0x5bbca8==='multiple_choice')_0x109e28=_0x404ea2===_0x356abf[_0x332af1(0x6c3)];else{if(_0x5bbca8===_0x332af1(0x1c4)){const _0x649213=_0x356abf[_0x332af1(0x5d7)];_0x109e28=_0x404ea2===0x0&&_0x649213||_0x404ea2===0x1&&!_0x649213;}else{if(_0x5bbca8==='matching_item'){const _0x3da234=_0x356abf['allResponses'][_0x404ea2];_0x109e28=_0x3da234===_0x356abf[_0x332af1(0x49f)];}}}}const _0x50d22b=doc(db,_0x332af1(0x14d)+appId+_0x332af1(0x4c8),currentLiveGameId),_0x505905=await getDoc(_0x50d22b);if(!_0x505905[_0x332af1(0x228)]())return;const _0xb8338b=_0x505905['data'](),_0xc6f1ec=_0xb8338b['players'][currentStudentName];let _0x1f3153=_0xc6f1ec['badges']||[],_0x4b834a=_0xc6f1ec[_0x332af1(0x3b5)]||0x0;const _0x1eccca={};let _0x38619a=0x0;if(_0xb8338b[_0x332af1(0x58b)]){const _0x5a6b65=_0xb8338b['questionDisplayedAt']['toDate'](),_0x3eec09=new Date()-_0x5a6b65;if(_0x109e28){const _0x56b21f=0x3e8,_0x639b8d=0x1f4,_0x1ada77=0x4e20;let _0x52ed12=_0x3eec09/_0x1ada77;if(_0x52ed12>0x1)_0x52ed12=0x1;const _0x2e743f=Math['round'](_0x52ed12*_0x639b8d);_0x38619a=_0x56b21f-_0x2e743f,_0x3eec09<=0x1388&&!_0x1f3153[_0x332af1(0x40d)](_0x332af1(0x64a))&&_0x1f3153[_0x332af1(0x2f8)]('quick_thinker');}}_0x109e28?(_0x4b834a++,_0x4b834a===0x3&&!_0x1f3153[_0x332af1(0x40d)](_0x332af1(0x1d5))&&(_0x1f3153[_0x332af1(0x2f8)](_0x332af1(0x1d5)),_0x4b834a=0x0)):_0x4b834a=0x0,_0x109e28&&(_0x1eccca[_0x332af1(0x653)+currentStudentName+_0x332af1(0x6e6)]=increment(_0x38619a)),_0x1eccca[_0x332af1(0x653)+currentStudentName+_0x332af1(0x38b)]=_0x1f3153,_0x1eccca[_0x332af1(0x653)+currentStudentName+'.correctStreak']=_0x4b834a,_0x1eccca['players.'+currentStudentName+_0x332af1(0x513)]=!![],_0x1eccca['players.'+currentStudentName+'.lastAnswerCorrect']=_0x109e28,_0x1eccca[_0x332af1(0x653)+currentStudentName+_0x332af1(0x1a7)]=_0x38619a,await updateDoc(_0x50d22b,_0x1eccca),liveGameView['innerHTML']=_0x332af1(0x368);}function createQuizFromBank(){const _0x501431=_0xa29d1b,_0x59e8b9=document['querySelectorAll'](_0x501431(0x59f));if(_0x59e8b9['length']===0x0){showMessage(_0x501431(0x209));return;}const _0xcb9492=[];_0x59e8b9[_0x501431(0x497)](_0x532653=>{const _0x1f6a1e=_0x501431;_0xcb9492[_0x1f6a1e(0x2f8)](JSON[_0x1f6a1e(0x4a0)](_0x532653[_0x1f6a1e(0x261)]));});const _0x12d4e4={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0xcb9492};displayGeneratedQuiz(_0x12d4e4);}function showAdminLobbyView(_0x63ac98,_0x3f0b16){const _0x51f85e=_0xa29d1b;showView(_0x51f85e(0x181));const _0x5ac998=_0x51f85e(0x22c)+_0x3f0b16+_0x51f85e(0x35c)+_0x63ac98+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x51f85e(0x21c)]=_0x5ac998,document[_0x51f85e(0x185)](_0x51f85e(0x4fe))[_0x51f85e(0x581)](_0x51f85e(0x599),async()=>{const _0x8a93b3=_0x51f85e;if(!currentQuizData||!currentQuizData[_0x8a93b3(0x64e)]||currentQuizData[_0x8a93b3(0x64e)][_0x8a93b3(0x2d0)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0xeda0b8=doc(db,'artifacts/'+appId+_0x8a93b3(0x4c8),currentLiveGameId);await updateDoc(_0xeda0b8,{'status':_0x8a93b3(0x19e),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x6a63ba=currentQuizData['questions'][0x0],_0x573fcd=currentQuizData['questions'][_0x8a93b3(0x2d0)];showAdminLiveQuestionView(_0x6a63ba,0x0,_0x573fcd);}catch(_0x51b9e2){console[_0x8a93b3(0x2f7)]('Error\x20starting\x20game:',_0x51b9e2),showMessage(_0x8a93b3(0x4da));}});}async function openGlobalLiveModal(){const _0xc66132=_0xa29d1b;if(allQuizzesGlobal[_0xc66132(0x2d0)]===0x0){const _0x537661=await getDocs(collection(db,'artifacts/'+appId+_0xc66132(0x577)));allQuizzesGlobal=_0x537661[_0xc66132(0x643)][_0xc66132(0x5b1)](_0x53d146=>({'id':_0x53d146['id'],..._0x53d146[_0xc66132(0x585)]()}));}renderGlobalQuizList(''),document[_0xc66132(0x185)](_0xc66132(0x6cb))[_0xc66132(0x5a6)][_0xc66132(0x640)](_0xc66132(0x6d1));}async function openQuizBankModal(){const _0x7cd94f=_0xa29d1b;if(allQuizzesGlobal[_0x7cd94f(0x2d0)]===0x0){const _0x470fd6=await getDocs(collection(db,_0x7cd94f(0x14d)+appId+_0x7cd94f(0x577)));allQuizzesGlobal=_0x470fd6['docs']['map'](_0xf5676d=>({'id':_0xf5676d['id'],..._0xf5676d[_0x7cd94f(0x585)]()}));}renderQuizBankList(''),document['getElementById'](_0x7cd94f(0x67d))[_0x7cd94f(0x5a6)][_0x7cd94f(0x640)](_0x7cd94f(0x6d1));}function renderQuizBankList(_0x150bfd=''){const _0x14d9d5=_0xa29d1b,_0x281f12=document[_0x14d9d5(0x185)](_0x14d9d5(0x3b7)),_0x149764=_0x150bfd['toLowerCase']()[_0x14d9d5(0x5cc)](),_0x46be59=allQuizzesGlobal[_0x14d9d5(0x5b1)](_0x4cbd4e=>({..._0x4cbd4e,'projectName':allProjects[_0x14d9d5(0x1e6)](_0x14c15a=>_0x14c15a['id']===_0x4cbd4e[_0x14d9d5(0x240)])?.[_0x14d9d5(0x46f)]||_0x14d9d5(0x14c)}))[_0x14d9d5(0x4d4)](_0x3b1617=>(_0x3b1617['topic']||'')['toLowerCase']()[_0x14d9d5(0x40d)](_0x149764)||(_0x3b1617[_0x14d9d5(0x46f)]||'')[_0x14d9d5(0x1de)]()[_0x14d9d5(0x40d)](_0x149764)||_0x3b1617['id'][_0x14d9d5(0x1b2)]()[_0x14d9d5(0x40d)](_0x149764));document[_0x14d9d5(0x185)](_0x14d9d5(0x592))[_0x14d9d5(0x65e)]='('+_0x46be59[_0x14d9d5(0x2d0)]+_0x14d9d5(0x1e9),_0x281f12[_0x14d9d5(0x21c)]=_0x46be59[_0x14d9d5(0x2d0)]?_0x46be59[_0x14d9d5(0x5b1)](_0x21c217=>_0x14d9d5(0x6ca)+_0x21c217['id']+_0x14d9d5(0x5d6)+(_0x21c217[_0x14d9d5(0x1d1)]||_0x14d9d5(0x3b4))+_0x14d9d5(0x2d7)+(_0x21c217['questions']?.['length']||0x0)+_0x14d9d5(0x34d)+_0x21c217[_0x14d9d5(0x46f)]+_0x14d9d5(0x420)+_0x21c217['id']+_0x14d9d5(0x68d)+_0x21c217['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x21c217['id']+_0x14d9d5(0x38a)+_0x21c217['id']+_0x14d9d5(0x673))[_0x14d9d5(0x1ed)](''):_0x14d9d5(0x4af),_0x281f12[_0x14d9d5(0x620)](_0x14d9d5(0x313))[_0x14d9d5(0x497)](_0x4e6367=>{const _0x4df8e3=_0x14d9d5;_0x4e6367[_0x4df8e3(0x581)](_0x4df8e3(0x599),()=>{const _0x30f72e=_0x4df8e3,_0x1b1495=_0x4e6367[_0x30f72e(0x411)]['id'];document[_0x30f72e(0x185)](_0x30f72e(0x67d))[_0x30f72e(0x5a6)][_0x30f72e(0x4d7)](_0x30f72e(0x6d1)),showQuizDetailView(_0x1b1495);});}),_0x281f12[_0x14d9d5(0x620)]('.quiz-bank-try-btn')['forEach'](_0x2098df=>{const _0x2acfa9=_0x14d9d5;_0x2098df[_0x2acfa9(0x581)]('click',_0x354010=>{const _0xac9bd7=_0x2acfa9;_0x354010[_0xac9bd7(0x28e)]();const _0x5ad441=_0x2098df[_0xac9bd7(0x411)]['id'],_0x2df033=allQuizzesGlobal[_0xac9bd7(0x1e6)](_0x47d827=>_0x47d827['id']===_0x5ad441);_0x2df033?(currentQuizData=_0x2df033,document['getElementById']('quiz-bank-modal')[_0xac9bd7(0x5a6)][_0xac9bd7(0x4d7)](_0xac9bd7(0x6d1)),startAdminTest()):showMessage(_0xac9bd7(0x225));});}),_0x281f12[_0x14d9d5(0x620)](_0x14d9d5(0x3e2))['forEach'](_0x2a616b=>{const _0x5dae32=_0x14d9d5;_0x2a616b[_0x5dae32(0x581)](_0x5dae32(0x599),_0x1ce802=>{const _0x33102d=_0x5dae32;_0x1ce802['stopPropagation']();const _0x30be63=_0x2a616b[_0x33102d(0x411)]['id'],_0xa62564=allQuizzesGlobal[_0x33102d(0x1e6)](_0x5c25db=>_0x5c25db['id']===_0x30be63);_0xa62564?(document[_0x33102d(0x185)](_0x33102d(0x67d))['classList'][_0x33102d(0x4d7)]('hidden'),handleGenerateParallelFromBank(_0xa62564)):showMessage(_0x33102d(0x225));});}),_0x281f12['querySelectorAll']('.quiz-bank-present-btn')[_0x14d9d5(0x497)](_0x21d00c=>{const _0x3b8c9b=_0x14d9d5;_0x21d00c[_0x3b8c9b(0x581)](_0x3b8c9b(0x599),_0xb28895=>{const _0x30a0fb=_0x3b8c9b;_0xb28895[_0x30a0fb(0x28e)]();const _0xd72ead=_0x21d00c[_0x30a0fb(0x411)]['id'],_0xff3f27=allQuizzesGlobal[_0x30a0fb(0x1e6)](_0x146d7d=>_0x146d7d['id']===_0xd72ead);_0xff3f27?(document[_0x30a0fb(0x185)](_0x30a0fb(0x67d))[_0x30a0fb(0x5a6)][_0x30a0fb(0x4d7)](_0x30a0fb(0x6d1)),startPresentation(_0xff3f27)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});});}function renderGlobalQuizList(_0x53e2c6=''){const _0x13a454=_0xa29d1b,_0x45fe3a=document['getElementById'](_0x13a454(0x30d)),_0x285c18=_0x53e2c6[_0x13a454(0x1de)]()[_0x13a454(0x5cc)](),_0x2938bd=allQuizzesGlobal[_0x13a454(0x5b1)](_0x4a9c98=>({..._0x4a9c98,'projectName':allProjects[_0x13a454(0x1e6)](_0x57de75=>_0x57de75['id']===_0x4a9c98[_0x13a454(0x240)])?.['projectName']||_0x4a9c98[_0x13a454(0x240)]}))[_0x13a454(0x4d4)](_0x327276=>(_0x327276[_0x13a454(0x1d1)]||'')[_0x13a454(0x1de)]()[_0x13a454(0x40d)](_0x285c18)||(_0x327276[_0x13a454(0x46f)]||'')['toLowerCase']()[_0x13a454(0x40d)](_0x285c18));document[_0x13a454(0x185)](_0x13a454(0x1f3))[_0x13a454(0x65e)]='('+_0x2938bd[_0x13a454(0x2d0)]+'\x20ชุด)',_0x45fe3a[_0x13a454(0x21c)]=_0x2938bd[_0x13a454(0x2d0)]?_0x2938bd[_0x13a454(0x5b1)](_0x47ce53=>_0x13a454(0x176)+_0x47ce53['id']+_0x13a454(0x4e2)+(_0x47ce53[_0x13a454(0x1d1)]||_0x13a454(0x3b4))+_0x13a454(0x548)+(_0x47ce53[_0x13a454(0x64e)]?.['length']||0x0)+_0x13a454(0x1ad)+_0x47ce53[_0x13a454(0x46f)]+_0x13a454(0x528))[_0x13a454(0x1ed)](''):_0x13a454(0x366),selectedGlobalQuizId=null,document[_0x13a454(0x185)](_0x13a454(0x152))[_0x13a454(0x16a)]=!![],_0x45fe3a[_0x13a454(0x620)](_0x13a454(0x5a9))[_0x13a454(0x497)](_0x53a8b9=>{const _0x50fa2e=_0x13a454;_0x53a8b9[_0x50fa2e(0x581)](_0x50fa2e(0x599),()=>{const _0x3cacde=_0x50fa2e;selectedGlobalQuizId=_0x53a8b9['dataset']['id'],_0x45fe3a[_0x3cacde(0x620)]('button')[_0x3cacde(0x497)](_0x339a38=>_0x339a38[_0x3cacde(0x5a6)][_0x3cacde(0x640)](_0x3cacde(0x24c),'ring-2',_0x3cacde(0x289))),_0x53a8b9[_0x3cacde(0x5a6)][_0x3cacde(0x4d7)](_0x3cacde(0x24c),_0x3cacde(0x380),_0x3cacde(0x289)),document[_0x3cacde(0x185)](_0x3cacde(0x152))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x522d80=_0xa29d1b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x484569=doc(db,_0x522d80(0x14d)+appId+_0x522d80(0x4c8),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x484569,_0x2954d2=>{const _0x200b74=_0x522d80;if(!_0x2954d2[_0x200b74(0x228)]()){showMessage(_0x200b74(0x553)),showView(currentMode);return;}const _0x43b977=_0x2954d2[_0x200b74(0x585)]();!currentQuizData&&_0x43b977[_0x200b74(0x2ec)]&&((async()=>{const _0x50ab4b=_0x200b74;try{const _0x2b045a=doc(db,_0x50ab4b(0x14d)+appId+_0x50ab4b(0x577),_0x43b977[_0x50ab4b(0x2ec)]),_0x5a9756=await getDoc(_0x2b045a);_0x5a9756[_0x50ab4b(0x228)]()&&(currentQuizData={'id':_0x5a9756['id'],..._0x5a9756['data']()});}catch(_0x4c6173){console[_0x50ab4b(0x2f7)](_0x50ab4b(0x6f4),_0x4c6173);}})());switch(_0x43b977[_0x200b74(0x1f6)]){case _0x200b74(0x4be):if(currentMode===_0x200b74(0x2e8)){const _0x4a263a=_0x43b977[_0x200b74(0x281)]?Object[_0x200b74(0x465)](_0x43b977[_0x200b74(0x281)]):[];document[_0x200b74(0x185)](_0x200b74(0x49e))[_0x200b74(0x65e)]=_0x4a263a[_0x200b74(0x2d0)],document['getElementById'](_0x200b74(0x2a2))[_0x200b74(0x21c)]=_0x4a263a[_0x200b74(0x5b1)](_0x59e1b2=>_0x200b74(0x6f7)+_0x59e1b2+_0x200b74(0x41b))[_0x200b74(0x1ed)]('');const _0x23c77c=document[_0x200b74(0x185)](_0x200b74(0x4fe));_0x23c77c&&(_0x23c77c[_0x200b74(0x16a)]=_0x4a263a[_0x200b74(0x2d0)]===0x0);}else showView(_0x200b74(0x181)),liveGameView[_0x200b74(0x21c)]=_0x200b74(0x16c)+currentStudentName+_0x200b74(0x60a);break;case _0x200b74(0x19e):const _0x3ca43b=_0x43b977[_0x200b74(0x14a)];if(currentQuizData&&currentQuizData[_0x200b74(0x64e)][_0x3ca43b]){const _0x448302=currentQuizData[_0x200b74(0x64e)][_0x3ca43b],_0x4bb7c9=currentQuizData[_0x200b74(0x64e)]['length'];if(currentMode===_0x200b74(0x2e8)){lastRenderedAdminQuestionIndex!==_0x3ca43b&&(showAdminLiveQuestionView(_0x448302,_0x3ca43b,_0x4bb7c9),lastRenderedAdminQuestionIndex=_0x3ca43b);const _0x111ae5=document['getElementById'](_0x200b74(0x43e));if(_0x111ae5&&_0x43b977[_0x200b74(0x281)]){const _0x5cd3fc=Object['keys'](_0x43b977['players'])['length'],_0x39d4b1=Object[_0x200b74(0x38d)](_0x43b977[_0x200b74(0x281)])[_0x200b74(0x4d4)](_0x4f9a04=>_0x4f9a04[_0x200b74(0x63c)]===!![])['length'];_0x111ae5[_0x200b74(0x65e)]=_0x39d4b1+'/'+_0x5cd3fc,_0x5cd3fc>0x0&&_0x39d4b1===_0x5cd3fc&&_0x43b977[_0x200b74(0x2ef)]!==_0x200b74(0x245)&&revealAnswerForAdmin(_0x3ca43b,_0x4bb7c9);}}else{const _0x3758ed=_0x43b977[_0x200b74(0x281)][currentStudentName];if(_0x43b977['questionStatus']===_0x200b74(0x245)){if(_0x3758ed[_0x200b74(0x63c)]){const _0x1d421f=_0x3758ed['lastAnswerCorrect'],_0x173b63=_0x3758ed[_0x200b74(0x62f)]||0x0,_0x39c6d7=_0x1d421f?_0x200b74(0x3f2)+_0x173b63+_0x200b74(0x549):_0x200b74(0x696);liveGameView[_0x200b74(0x21c)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>'+_0x39c6d7+'</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else liveGameView[_0x200b74(0x21c)]=_0x200b74(0x5b8);}else!_0x3758ed[_0x200b74(0x63c)]&&showStudentLiveQuestionView(_0x448302,_0x3ca43b,_0x4bb7c9);}}break;case _0x200b74(0x523):showPodiumView(_0x43b977[_0x200b74(0x281)]);break;}});}async function authenticateUser(){const _0x33cf0a=_0xa29d1b;try{typeof __initial_auth_token!==_0x33cf0a(0x18d)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x19b64a){console[_0x33cf0a(0x2f7)](_0x33cf0a(0x54c),_0x19b64a),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x57d901){const _0x3d346e=_0xa29d1b,_0x1ad85d=[_0x3d346e(0x586),'student-view',_0x3d346e(0x1a3),_0x3d346e(0x49b),_0x3d346e(0x32b),'live-game-view'];_0x1ad85d[_0x3d346e(0x497)](_0x4ba2b4=>document[_0x3d346e(0x185)](_0x4ba2b4)?.[_0x3d346e(0x5a6)][_0x3d346e(0x4d7)](_0x3d346e(0x6d1)));if(_0x57d901===_0x3d346e(0x188))adminView['classList']['remove']('hidden'),projectDashboardView[_0x3d346e(0x5a6)][_0x3d346e(0x640)](_0x3d346e(0x6d1));else{if(_0x57d901===_0x3d346e(0x4a6))studentView[_0x3d346e(0x5a6)][_0x3d346e(0x640)]('hidden'),studentInitialView['classList'][_0x3d346e(0x640)](_0x3d346e(0x6d1)),studentNameSelectionView['classList']['add'](_0x3d346e(0x6d1)),studentQuizArea[_0x3d346e(0x5a6)][_0x3d346e(0x4d7)](_0x3d346e(0x6d1)),studentResultArea[_0x3d346e(0x5a6)][_0x3d346e(0x4d7)](_0x3d346e(0x6d1)),studentReadingArea[_0x3d346e(0x5a6)][_0x3d346e(0x4d7)]('hidden'),studentJoinGameView[_0x3d346e(0x5a6)]['add'](_0x3d346e(0x6d1));else{if(_0x57d901===_0x3d346e(0x18b))adminView['classList'][_0x3d346e(0x640)](_0x3d346e(0x6d1)),projectDetailView[_0x3d346e(0x5a6)]['remove']('hidden');else{if(_0x57d901===_0x3d346e(0x256))adminView['classList'][_0x3d346e(0x640)](_0x3d346e(0x6d1)),quizResultsView['classList'][_0x3d346e(0x640)](_0x3d346e(0x6d1));else _0x57d901===_0x3d346e(0x181)&&liveGameView[_0x3d346e(0x5a6)][_0x3d346e(0x640)]('hidden');}}}}function showJoinGameView(){const _0x3d4252=_0xa29d1b;studentInitialView['classList'][_0x3d4252(0x4d7)]('hidden'),studentJoinGameView['classList']['remove'](_0x3d4252(0x6d1));}function setupEventListeners(){const _0x559c77=_0xa29d1b;document[_0x559c77(0x185)](_0x559c77(0x3c8))[_0x559c77(0x581)](_0x559c77(0x599),handleModeSwitch),document[_0x559c77(0x185)](_0x559c77(0x5bf))['addEventListener'](_0x559c77(0x599),handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')[_0x559c77(0x581)]('click',handleSelectAllTopics),document[_0x559c77(0x185)](_0x559c77(0x3fa))[_0x559c77(0x581)](_0x559c77(0x599),handleDeselectAllTopics),document[_0x559c77(0x185)](_0x559c77(0x647))[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x3a2062=_0x559c77;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x3a2062(0x188));}),document[_0x559c77(0x185)](_0x559c77(0x6cd))['addEventListener'](_0x559c77(0x599),()=>{const _0x12ce48=_0x559c77;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x12ce48(0x18b));}),document['getElementById'](_0x559c77(0x4a8))[_0x559c77(0x581)](_0x559c77(0x599),()=>{showView('admin-dashboard');}),document[_0x559c77(0x185)](_0x559c77(0x3a6))['addEventListener']('click',()=>messageModal[_0x559c77(0x5a6)][_0x559c77(0x4d7)](_0x559c77(0x6d1))),document[_0x559c77(0x185)](_0x559c77(0x5e6))['addEventListener'](_0x559c77(0x599),()=>createProjectModal['classList'][_0x559c77(0x640)](_0x559c77(0x6d1))),document['getElementById']('cancel-create-project-btn')[_0x559c77(0x581)](_0x559c77(0x599),()=>createProjectModal[_0x559c77(0x5a6)][_0x559c77(0x4d7)](_0x559c77(0x6d1))),document[_0x559c77(0x185)](_0x559c77(0x4ba))[_0x559c77(0x581)](_0x559c77(0x599),()=>adminPasswordModal[_0x559c77(0x5a6)][_0x559c77(0x4d7)](_0x559c77(0x6d1))),document[_0x559c77(0x185)](_0x559c77(0x5cf))[_0x559c77(0x581)](_0x559c77(0x599),handleAdminLogin),document[_0x559c77(0x185)]('admin-password-input')[_0x559c77(0x581)](_0x559c77(0x237),_0x5cc731=>{const _0x524f0d=_0x559c77;if(_0x5cc731[_0x524f0d(0x29c)]==='Enter')handleAdminLogin();}),document[_0x559c77(0x185)]('cancel-delete-btn')[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x3520fd=_0x559c77;confirmationModal[_0x3520fd(0x5a6)][_0x3520fd(0x4d7)](_0x3520fd(0x6d1)),confirmAction=null;}),document[_0x559c77(0x185)]('confirm-delete-btn')['addEventListener'](_0x559c77(0x599),()=>{const _0x11d951=_0x559c77;confirmAction&&confirmAction(),confirmationModal[_0x11d951(0x5a6)][_0x11d951(0x4d7)](_0x11d951(0x6d1)),confirmAction=null;}),document['getElementById'](_0x559c77(0x1af))[_0x559c77(0x581)](_0x559c77(0x599),()=>renameQuizModal[_0x559c77(0x5a6)][_0x559c77(0x4d7)](_0x559c77(0x6d1))),document[_0x559c77(0x185)](_0x559c77(0x625))[_0x559c77(0x581)](_0x559c77(0x599),confirmRenameQuiz),document[_0x559c77(0x185)](_0x559c77(0x3d3))[_0x559c77(0x581)](_0x559c77(0x599),()=>moveQuizModal[_0x559c77(0x5a6)][_0x559c77(0x4d7)](_0x559c77(0x6d1))),document['getElementById'](_0x559c77(0x610))['addEventListener'](_0x559c77(0x599),confirmMoveQuiz),document[_0x559c77(0x185)](_0x559c77(0x23d))[_0x559c77(0x581)](_0x559c77(0x599),()=>quizSettingsModal['classList']['add'](_0x559c77(0x6d1))),document[_0x559c77(0x185)]('confirm-quiz-settings-btn')[_0x559c77(0x581)](_0x559c77(0x599),confirmQuizSettings),document[_0x559c77(0x185)](_0x559c77(0x306))[_0x559c77(0x581)](_0x559c77(0x599),()=>quizStatusModal[_0x559c77(0x5a6)][_0x559c77(0x4d7)](_0x559c77(0x6d1))),document[_0x559c77(0x185)](_0x559c77(0x50e))[_0x559c77(0x581)](_0x559c77(0x599),confirmQuizStatus),document[_0x559c77(0x185)]('open-global-live-btn')[_0x559c77(0x581)](_0x559c77(0x599),openGlobalLiveModal),document[_0x559c77(0x185)](_0x559c77(0x621))['addEventListener'](_0x559c77(0x599),()=>{const _0x4e3343=_0x559c77;document[_0x4e3343(0x185)](_0x4e3343(0x6cb))['classList'][_0x4e3343(0x4d7)](_0x4e3343(0x6d1)),selectedGlobalQuizId=null;}),document[_0x559c77(0x185)](_0x559c77(0x4c5))[_0x559c77(0x581)](_0x559c77(0x5b4),_0x455510=>renderGlobalQuizList(_0x455510[_0x559c77(0x6dd)][_0x559c77(0x261)])),document['getElementById'](_0x559c77(0x152))[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x407a4e=_0x559c77,_0x36d22d=selectedGlobalQuizId;if(!_0x36d22d)return;document['getElementById'](_0x407a4e(0x6cb))['classList'][_0x407a4e(0x4d7)]('hidden'),handleStartLiveRace(_0x36d22d);}),document['getElementById'](_0x559c77(0x414))[_0x559c77(0x581)]('input',renderProjects),document['getElementById'](_0x559c77(0x272))[_0x559c77(0x581)](_0x559c77(0x382),renderProjects),document[_0x559c77(0x185)](_0x559c77(0x3b8))[_0x559c77(0x581)](_0x559c77(0x5b4),renderQuizzes),manageTab[_0x559c77(0x581)](_0x559c77(0x599),()=>switchProjectTab(_0x559c77(0x360))),resultsTab[_0x559c77(0x581)](_0x559c77(0x599),()=>switchProjectTab(_0x559c77(0x21d))),leaderboardTab[_0x559c77(0x581)](_0x559c77(0x599),()=>switchProjectTab(_0x559c77(0x1b3))),document[_0x559c77(0x185)]('analytics-tab-btn')[_0x559c77(0x581)]('click',()=>switchQuizDetailTab(_0x559c77(0x35b))),document[_0x559c77(0x185)](_0x559c77(0x1ee))['addEventListener'](_0x559c77(0x599),()=>switchQuizDetailTab(_0x559c77(0x410))),document['getElementById'](_0x559c77(0x642))[_0x559c77(0x581)](_0x559c77(0x599),()=>switchQuizDetailTab(_0x559c77(0x692))),document[_0x559c77(0x185)](_0x559c77(0x5f9))[_0x559c77(0x581)](_0x559c77(0x599),handleAnalyzeClass),generateWorksheetBtn[_0x559c77(0x581)](_0x559c77(0x599),generateWorksheet);const _0x5cb5ba=document[_0x559c77(0x185)](_0x559c77(0x596)),_0x31d0be=document[_0x559c77(0x185)]('link-input-area'),_0x3c3345=document[_0x559c77(0x185)](_0x559c77(0x646)),_0x41208d=document[_0x559c77(0x185)](_0x559c77(0x1cf)),_0x6c5951=document[_0x559c77(0x185)](_0x559c77(0x1f7)),_0x1d6b07=document['getElementById'](_0x559c77(0x338));topicTab[_0x559c77(0x581)]('click',()=>{const _0x547985=_0x559c77;topicTab[_0x547985(0x5a6)][_0x547985(0x4d7)]('active'),textTab[_0x547985(0x5a6)]['remove'](_0x547985(0x60c)),fileTab[_0x547985(0x5a6)][_0x547985(0x640)](_0x547985(0x60c)),worksheetTab[_0x547985(0x5a6)][_0x547985(0x640)](_0x547985(0x60c));if(_0x5cb5ba)_0x5cb5ba[_0x547985(0x5a6)]['remove']('active');if(_0x3c3345)_0x3c3345['classList']['remove'](_0x547985(0x60c));if(_0x6c5951)_0x6c5951[_0x547985(0x5a6)][_0x547985(0x640)](_0x547985(0x60c));topicInputArea['classList'][_0x547985(0x640)](_0x547985(0x6d1)),textInputArea[_0x547985(0x5a6)][_0x547985(0x4d7)]('hidden'),fileInputArea[_0x547985(0x5a6)][_0x547985(0x4d7)](_0x547985(0x6d1)),worksheetInputArea['classList'][_0x547985(0x4d7)]('hidden');if(_0x31d0be)_0x31d0be[_0x547985(0x5a6)][_0x547985(0x4d7)](_0x547985(0x6d1));if(_0x41208d)_0x41208d[_0x547985(0x5a6)][_0x547985(0x4d7)](_0x547985(0x6d1));if(_0x1d6b07)_0x1d6b07['classList']['add'](_0x547985(0x6d1));}),textTab['addEventListener'](_0x559c77(0x599),()=>{const _0x4f9cf8=_0x559c77;textTab['classList'][_0x4f9cf8(0x4d7)](_0x4f9cf8(0x60c)),topicTab[_0x4f9cf8(0x5a6)]['remove'](_0x4f9cf8(0x60c)),fileTab[_0x4f9cf8(0x5a6)]['remove'](_0x4f9cf8(0x60c)),worksheetTab[_0x4f9cf8(0x5a6)][_0x4f9cf8(0x640)](_0x4f9cf8(0x60c));if(_0x5cb5ba)_0x5cb5ba[_0x4f9cf8(0x5a6)]['remove'](_0x4f9cf8(0x60c));if(_0x3c3345)_0x3c3345[_0x4f9cf8(0x5a6)][_0x4f9cf8(0x640)]('active');if(_0x6c5951)_0x6c5951[_0x4f9cf8(0x5a6)]['remove'](_0x4f9cf8(0x60c));textInputArea[_0x4f9cf8(0x5a6)][_0x4f9cf8(0x640)](_0x4f9cf8(0x6d1)),topicInputArea[_0x4f9cf8(0x5a6)]['add']('hidden'),fileInputArea['classList']['add']('hidden'),worksheetInputArea[_0x4f9cf8(0x5a6)][_0x4f9cf8(0x4d7)]('hidden');if(_0x31d0be)_0x31d0be[_0x4f9cf8(0x5a6)][_0x4f9cf8(0x4d7)](_0x4f9cf8(0x6d1));if(_0x41208d)_0x41208d[_0x4f9cf8(0x5a6)][_0x4f9cf8(0x4d7)](_0x4f9cf8(0x6d1));if(_0x1d6b07)_0x1d6b07[_0x4f9cf8(0x5a6)]['add'](_0x4f9cf8(0x6d1));}),fileTab[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x1fbc40=_0x559c77;fileTab[_0x1fbc40(0x5a6)]['add']('active'),topicTab[_0x1fbc40(0x5a6)]['remove']('active'),textTab['classList'][_0x1fbc40(0x640)]('active'),worksheetTab['classList'][_0x1fbc40(0x640)](_0x1fbc40(0x60c));if(_0x5cb5ba)_0x5cb5ba[_0x1fbc40(0x5a6)]['remove'](_0x1fbc40(0x60c));if(_0x3c3345)_0x3c3345['classList']['remove'](_0x1fbc40(0x60c));if(_0x6c5951)_0x6c5951['classList'][_0x1fbc40(0x640)](_0x1fbc40(0x60c));fileInputArea['classList']['remove'](_0x1fbc40(0x6d1)),topicInputArea[_0x1fbc40(0x5a6)]['add']('hidden'),textInputArea[_0x1fbc40(0x5a6)][_0x1fbc40(0x4d7)](_0x1fbc40(0x6d1)),worksheetInputArea[_0x1fbc40(0x5a6)]['add']('hidden');if(_0x31d0be)_0x31d0be[_0x1fbc40(0x5a6)]['add'](_0x1fbc40(0x6d1));if(_0x41208d)_0x41208d['classList']['add'](_0x1fbc40(0x6d1));if(_0x1d6b07)_0x1d6b07[_0x1fbc40(0x5a6)][_0x1fbc40(0x4d7)](_0x1fbc40(0x6d1));}),worksheetTab[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x1368e7=_0x559c77;worksheetTab[_0x1368e7(0x5a6)]['add'](_0x1368e7(0x60c)),topicTab['classList'][_0x1368e7(0x640)]('active'),textTab['classList'][_0x1368e7(0x640)]('active'),fileTab[_0x1368e7(0x5a6)]['remove'](_0x1368e7(0x60c));if(_0x5cb5ba)_0x5cb5ba[_0x1368e7(0x5a6)][_0x1368e7(0x640)](_0x1368e7(0x60c));if(_0x3c3345)_0x3c3345[_0x1368e7(0x5a6)][_0x1368e7(0x640)]('active');if(_0x6c5951)_0x6c5951[_0x1368e7(0x5a6)][_0x1368e7(0x640)](_0x1368e7(0x60c));worksheetInputArea[_0x1368e7(0x5a6)][_0x1368e7(0x640)]('hidden'),topicInputArea[_0x1368e7(0x5a6)][_0x1368e7(0x4d7)](_0x1368e7(0x6d1)),textInputArea[_0x1368e7(0x5a6)][_0x1368e7(0x4d7)]('hidden'),fileInputArea[_0x1368e7(0x5a6)][_0x1368e7(0x4d7)]('hidden');if(_0x31d0be)_0x31d0be['classList']['add'](_0x1368e7(0x6d1));if(_0x41208d)_0x41208d['classList'][_0x1368e7(0x4d7)](_0x1368e7(0x6d1));if(_0x1d6b07)_0x1d6b07[_0x1368e7(0x5a6)][_0x1368e7(0x4d7)](_0x1368e7(0x6d1));});const _0x52a2b1=document[_0x559c77(0x185)](_0x559c77(0x43c)),_0x57c483=document[_0x559c77(0x185)]('bank-input-area');_0x52a2b1&&_0x52a2b1[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x215e06=_0x559c77;topicTab[_0x215e06(0x5a6)][_0x215e06(0x640)]('active'),textTab[_0x215e06(0x5a6)][_0x215e06(0x640)](_0x215e06(0x60c)),fileTab['classList'][_0x215e06(0x640)](_0x215e06(0x60c)),worksheetTab[_0x215e06(0x5a6)][_0x215e06(0x640)](_0x215e06(0x60c));if(_0x5cb5ba)_0x5cb5ba['classList']['remove']('active');if(_0x3c3345)_0x3c3345['classList']['remove']('active');if(_0x6c5951)_0x6c5951['classList'][_0x215e06(0x640)](_0x215e06(0x60c));_0x52a2b1[_0x215e06(0x5a6)][_0x215e06(0x4d7)](_0x215e06(0x60c)),topicInputArea[_0x215e06(0x5a6)][_0x215e06(0x4d7)]('hidden'),textInputArea['classList']['add'](_0x215e06(0x6d1)),fileInputArea[_0x215e06(0x5a6)]['add'](_0x215e06(0x6d1)),worksheetInputArea[_0x215e06(0x5a6)][_0x215e06(0x4d7)](_0x215e06(0x6d1));if(_0x31d0be)_0x31d0be[_0x215e06(0x5a6)][_0x215e06(0x4d7)](_0x215e06(0x6d1));if(_0x41208d)_0x41208d['classList'][_0x215e06(0x4d7)](_0x215e06(0x6d1));if(_0x1d6b07)_0x1d6b07['classList'][_0x215e06(0x4d7)](_0x215e06(0x6d1));_0x57c483['classList']['remove'](_0x215e06(0x6d1)),displayQuestionBank();});_0x5cb5ba&&(_0x5cb5ba['addEventListener'](_0x559c77(0x599),()=>{const _0x2bda64=_0x559c77;_0x5cb5ba[_0x2bda64(0x5a6)][_0x2bda64(0x4d7)](_0x2bda64(0x60c)),topicTab[_0x2bda64(0x5a6)][_0x2bda64(0x640)](_0x2bda64(0x60c)),textTab[_0x2bda64(0x5a6)][_0x2bda64(0x640)](_0x2bda64(0x60c)),fileTab[_0x2bda64(0x5a6)]['remove']('active'),worksheetTab[_0x2bda64(0x5a6)]['remove'](_0x2bda64(0x60c));if(_0x3c3345)_0x3c3345[_0x2bda64(0x5a6)][_0x2bda64(0x640)](_0x2bda64(0x60c));if(_0x6c5951)_0x6c5951[_0x2bda64(0x5a6)][_0x2bda64(0x640)](_0x2bda64(0x60c));_0x31d0be[_0x2bda64(0x5a6)][_0x2bda64(0x640)]('hidden'),topicInputArea[_0x2bda64(0x5a6)]['add']('hidden'),textInputArea[_0x2bda64(0x5a6)][_0x2bda64(0x4d7)]('hidden'),fileInputArea[_0x2bda64(0x5a6)][_0x2bda64(0x4d7)](_0x2bda64(0x6d1)),worksheetInputArea[_0x2bda64(0x5a6)][_0x2bda64(0x4d7)]('hidden');if(_0x41208d)_0x41208d[_0x2bda64(0x5a6)][_0x2bda64(0x4d7)](_0x2bda64(0x6d1));if(_0x1d6b07)_0x1d6b07[_0x2bda64(0x5a6)][_0x2bda64(0x4d7)](_0x2bda64(0x6d1));}),document[_0x559c77(0x185)]('generate-from-link-btn')[_0x559c77(0x581)]('click',handleGenerateFromLink));_0x3c3345&&_0x3c3345[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0xa04726=_0x559c77;_0x3c3345[_0xa04726(0x5a6)]['add'](_0xa04726(0x60c)),topicTab[_0xa04726(0x5a6)][_0xa04726(0x640)](_0xa04726(0x60c)),textTab['classList'][_0xa04726(0x640)](_0xa04726(0x60c)),fileTab[_0xa04726(0x5a6)]['remove'](_0xa04726(0x60c)),worksheetTab[_0xa04726(0x5a6)][_0xa04726(0x640)]('active');if(_0x5cb5ba)_0x5cb5ba[_0xa04726(0x5a6)][_0xa04726(0x640)](_0xa04726(0x60c));if(_0x52a2b1)_0x52a2b1['classList'][_0xa04726(0x640)]('active');if(_0x6c5951)_0x6c5951['classList'][_0xa04726(0x640)](_0xa04726(0x60c));_0x41208d[_0xa04726(0x5a6)][_0xa04726(0x640)](_0xa04726(0x6d1)),topicInputArea[_0xa04726(0x5a6)][_0xa04726(0x4d7)]('hidden'),textInputArea[_0xa04726(0x5a6)]['add'](_0xa04726(0x6d1)),fileInputArea['classList'][_0xa04726(0x4d7)]('hidden'),worksheetInputArea[_0xa04726(0x5a6)][_0xa04726(0x4d7)](_0xa04726(0x6d1));if(_0x31d0be)_0x31d0be['classList'][_0xa04726(0x4d7)](_0xa04726(0x6d1));if(_0x57c483)_0x57c483[_0xa04726(0x5a6)][_0xa04726(0x4d7)](_0xa04726(0x6d1));if(_0x1d6b07)_0x1d6b07[_0xa04726(0x5a6)]['add'](_0xa04726(0x6d1));});_0x6c5951&&_0x6c5951[_0x559c77(0x581)]('click',()=>{const _0x4cd17b=_0x559c77;_0x6c5951[_0x4cd17b(0x5a6)][_0x4cd17b(0x4d7)](_0x4cd17b(0x60c)),topicTab['classList'][_0x4cd17b(0x640)]('active'),textTab[_0x4cd17b(0x5a6)][_0x4cd17b(0x640)](_0x4cd17b(0x60c)),fileTab[_0x4cd17b(0x5a6)]['remove']('active'),worksheetTab[_0x4cd17b(0x5a6)][_0x4cd17b(0x640)](_0x4cd17b(0x60c));if(_0x5cb5ba)_0x5cb5ba[_0x4cd17b(0x5a6)][_0x4cd17b(0x640)]('active');if(_0x3c3345)_0x3c3345['classList']['remove'](_0x4cd17b(0x60c));if(_0x52a2b1)_0x52a2b1[_0x4cd17b(0x5a6)][_0x4cd17b(0x640)](_0x4cd17b(0x60c));_0x1d6b07['classList'][_0x4cd17b(0x640)](_0x4cd17b(0x6d1)),topicInputArea['classList']['add']('hidden'),textInputArea[_0x4cd17b(0x5a6)][_0x4cd17b(0x4d7)](_0x4cd17b(0x6d1)),fileInputArea['classList'][_0x4cd17b(0x4d7)](_0x4cd17b(0x6d1)),worksheetInputArea[_0x4cd17b(0x5a6)][_0x4cd17b(0x4d7)](_0x4cd17b(0x6d1));if(_0x31d0be)_0x31d0be[_0x4cd17b(0x5a6)][_0x4cd17b(0x4d7)](_0x4cd17b(0x6d1));if(_0x41208d)_0x41208d['classList'][_0x4cd17b(0x4d7)](_0x4cd17b(0x6d1));if(_0x57c483)_0x57c483['classList'][_0x4cd17b(0x4d7)]('hidden');});const _0x598c21=document['getElementById'](_0x559c77(0x3ed)),_0x45dc0d=document[_0x559c77(0x185)](_0x559c77(0x5a7));_0x598c21&&_0x598c21[_0x559c77(0x581)](_0x559c77(0x382),_0xf79676=>{const _0x5c66ee=_0x559c77;_0xf79676[_0x5c66ee(0x6dd)][_0x5c66ee(0x388)][_0x5c66ee(0x2d0)]>0x0?_0x45dc0d[_0x5c66ee(0x16a)]=![]:_0x45dc0d[_0x5c66ee(0x16a)]=!![];});_0x45dc0d&&_0x45dc0d['addEventListener'](_0x559c77(0x599),handleGenerateFromBlueprint);const _0x104569=document[_0x559c77(0x185)](_0x559c77(0x326)),_0x536122=document[_0x559c77(0x185)](_0x559c77(0x15a));_0x104569&&_0x104569[_0x559c77(0x581)](_0x559c77(0x382),_0x4901b0=>{const _0x19dbd1=_0x559c77;_0x536122[_0x19dbd1(0x16a)]=_0x4901b0[_0x19dbd1(0x6dd)][_0x19dbd1(0x388)]['length']===0x0;});_0x536122&&_0x536122['addEventListener'](_0x559c77(0x599),handleGenerateParallelTest);loadQuizBtn[_0x559c77(0x581)](_0x559c77(0x599),handleLoadQuiz),startQuizBtn[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x56d6d7=_0x559c77,_0x2d9f4f=document[_0x56d6d7(0x185)](_0x56d6d7(0x4c4));currentStudentName=_0x2d9f4f['value'];if(!currentStudentName){showMessage(_0x56d6d7(0x6f5));return;}studentNameSelectionView[_0x56d6d7(0x5a6)][_0x56d6d7(0x4d7)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x559c77(0x185)](_0x559c77(0x1a4))[_0x559c77(0x581)](_0x559c77(0x599),showJoinGameView),document['getElementById'](_0x559c77(0x682))[_0x559c77(0x581)](_0x559c77(0x599),handleJoinLiveGame),document[_0x559c77(0x185)]('back-to-student-initial-btn')[_0x559c77(0x581)]('click',()=>showView(_0x559c77(0x4a6)));const _0x397176=()=>{const _0xed6326=_0x559c77,_0x44c912=document[_0xed6326(0x185)](_0xed6326(0x212))[_0xed6326(0x65e)][_0xed6326(0x160)](/[^a-z0-9]/gi,'_')[_0xed6326(0x1de)]();return'results_'+(_0x44c912||'quiz');},_0x174d95=document[_0x559c77(0x185)](_0x559c77(0x405));_0x174d95&&_0x174d95[_0x559c77(0x581)](_0x559c77(0x5b4),_0x1ad556=>{const _0x4cdc3e=_0x559c77,_0x48a3c9=_0x1ad556[_0x4cdc3e(0x6dd)][_0x4cdc3e(0x261)]['toLowerCase']()[_0x4cdc3e(0x5cc)](),_0x1520ea=document[_0x4cdc3e(0x185)]('math-topics-checkbox-container'),_0x46c087=_0x1520ea[_0x4cdc3e(0x620)]('.mb-3');_0x46c087[_0x4cdc3e(0x497)](_0x287c13=>{const _0x1f2de6=_0x4cdc3e;let _0x2c4ac7=![];const _0x3a3bf6=_0x287c13['querySelectorAll'](_0x1f2de6(0x657));_0x3a3bf6[_0x1f2de6(0x497)](_0x5a2536=>{const _0x5c167d=_0x1f2de6,_0x124256=_0x5a2536['textContent'][_0x5c167d(0x1de)]();_0x124256['includes'](_0x48a3c9)?(_0x5a2536[_0x5c167d(0x487)][_0x5c167d(0x214)]=_0x5c167d(0x401),_0x2c4ac7=!![]):_0x5a2536['style'][_0x5c167d(0x214)]='none';}),_0x2c4ac7?_0x287c13[_0x1f2de6(0x487)]['display']=_0x1f2de6(0x48c):_0x287c13['style'][_0x1f2de6(0x214)]='none';});});document[_0x559c77(0x185)](_0x559c77(0x498))[_0x559c77(0x581)]('click',()=>exportTableAsImage(_0x559c77(0x42d),_0x397176())),document[_0x559c77(0x185)](_0x559c77(0x5df))['addEventListener'](_0x559c77(0x599),()=>exportTableAsPDF(_0x559c77(0x45b),_0x397176())),document[_0x559c77(0x185)]('export-word-btn')[_0x559c77(0x581)](_0x559c77(0x599),()=>exportTableAsWord(_0x559c77(0x42d),_0x397176())),document[_0x559c77(0x185)]('export-excel-btn')[_0x559c77(0x581)](_0x559c77(0x599),()=>exportTableAsExcel(_0x559c77(0x45b),_0x397176()));const _0x4c86e2=()=>{const _0x578046=_0x559c77,_0x1b5811=document[_0x578046(0x185)](_0x578046(0x212))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x578046(0x1de)]();return'leaderboard_'+(_0x1b5811||_0x578046(0x162));};document[_0x559c77(0x185)](_0x559c77(0x442))[_0x559c77(0x581)](_0x559c77(0x599),()=>exportTableAsImage(_0x559c77(0x4b0),_0x4c86e2())),document[_0x559c77(0x185)]('export-leaderboard-pdf-btn')[_0x559c77(0x581)]('click',()=>exportTableAsPDF(_0x559c77(0x371),_0x4c86e2())),document[_0x559c77(0x185)](_0x559c77(0x1b6))[_0x559c77(0x581)](_0x559c77(0x599),()=>exportTableAsWord(_0x559c77(0x4b0),_0x4c86e2())),document['getElementById']('export-leaderboard-excel-btn')['addEventListener'](_0x559c77(0x599),()=>exportTableAsExcel(_0x559c77(0x371),_0x4c86e2())),projectQuizzesList[_0x559c77(0x581)]('click',async _0x5c070f=>{const _0x2f9312=_0x559c77,_0x3e5a12=_0x5c070f[_0x2f9312(0x6dd)]['closest'](_0x2f9312(0x4f1)),_0x4771da=_0x5c070f['target'][_0x2f9312(0x16f)](_0x2f9312(0x2c7)),_0x354145=_0x5c070f['target']['closest']('.copy-quiz-id-list-btn'),_0x492906=_0x5c070f[_0x2f9312(0x6dd)]['closest']('.start-presentation-list-btn'),_0x1a5e06=_0x5c070f[_0x2f9312(0x6dd)]['closest'](_0x2f9312(0x269)),_0x37cda5=_0x5c070f[_0x2f9312(0x6dd)][_0x2f9312(0x16f)]('.rename-quiz-btn'),_0x5733b9=_0x5c070f['target']['closest'](_0x2f9312(0x672)),_0x134d99=_0x5c070f[_0x2f9312(0x6dd)][_0x2f9312(0x16f)](_0x2f9312(0x3fc)),_0x46970d=_0x5c070f['target'][_0x2f9312(0x16f)](_0x2f9312(0x3d4)),_0x38455d=_0x5c070f['target'][_0x2f9312(0x16f)](_0x2f9312(0x529)),_0x3e2d14=_0x5c070f[_0x2f9312(0x6dd)][_0x2f9312(0x16f)](_0x2f9312(0x3db)),_0x5bb014=_0x5c070f[_0x2f9312(0x6dd)]['closest'](_0x2f9312(0x537)),_0x2bdf23=_0x5c070f[_0x2f9312(0x6dd)][_0x2f9312(0x16f)](_0x2f9312(0x6d8));if(_0x5bb014){const _0x3667c0=_0x5bb014[_0x2f9312(0x411)]['quizId'];handleOpenQuizEditor(_0x3667c0);}else{if(_0x2bdf23){const _0x5a7645=_0x2bdf23[_0x2f9312(0x411)][_0x2f9312(0x2ec)],_0x3e94a6=allQuizzes['find'](_0x4ae25c=>_0x4ae25c['id']===_0x5a7645);_0x3e94a6?handleGenerateParallelFromBank(_0x3e94a6):showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x3e5a12){const _0x5bdd32=_0x3e5a12[_0x2f9312(0x411)][_0x2f9312(0x2ec)];handleToggleStarQuiz(_0x5bdd32);}else{if(_0x3e2d14){const _0x285480=_0x3e2d14[_0x2f9312(0x411)][_0x2f9312(0x2ec)];handleStartLiveRace(_0x285480);}else{if(_0x4771da){const _0x2bc690=_0x4771da[_0x2f9312(0x411)][_0x2f9312(0x2ec)],_0x74f7e0=_0x4771da[_0x2f9312(0x411)][_0x2f9312(0x1d1)];showConfirmation(_0x2f9312(0x666)+_0x74f7e0+_0x2f9312(0x2ba),()=>handleDeleteQuiz(_0x2bc690));}else{if(_0x354145){const _0x130d24=_0x354145[_0x2f9312(0x411)][_0x2f9312(0x2ec)];copyTextToClipboard(_0x130d24,_0x2f9312(0x656));}else{if(_0x492906){const _0xe1e943=_0x492906[_0x2f9312(0x411)][_0x2f9312(0x2ec)],_0x38b191=doc(db,_0x2f9312(0x14d)+appId+_0x2f9312(0x577),_0xe1e943),_0x28f27f=await getDoc(_0x38b191);if(_0x28f27f[_0x2f9312(0x228)]()){const _0x3aa77={'id':_0x28f27f['id'],..._0x28f27f[_0x2f9312(0x585)]()};startPresentation(_0x3aa77);}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x1a5e06){const _0x4e58f3=_0x1a5e06[_0x2f9312(0x411)][_0x2f9312(0x2ec)],_0x103f46=doc(db,_0x2f9312(0x14d)+appId+'/public/data/quizzes',_0x4e58f3),_0x55c7cd=await getDoc(_0x103f46);_0x55c7cd[_0x2f9312(0x228)]()?(currentQuizData={'id':_0x55c7cd['id'],..._0x55c7cd[_0x2f9312(0x585)]()},startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x37cda5){const _0x383fe4=_0x37cda5[_0x2f9312(0x411)]['quizId'],_0x297598=_0x37cda5['dataset'][_0x2f9312(0x1d1)];handleRenameQuiz(_0x383fe4,_0x297598);}else{if(_0x5733b9){const _0x2d58fb=_0x5733b9['dataset'][_0x2f9312(0x2ec)];handleMoveQuiz(_0x2d58fb);}else{if(_0x134d99){const _0x66580b=_0x134d99[_0x2f9312(0x411)]['quizId'];handleQuizSettings(_0x66580b);}else{if(_0x46970d){const _0x3cd0a5=_0x46970d[_0x2f9312(0x411)]['quizId'];handleQuizStatus(_0x3cd0a5);}else{if(_0x38455d){const _0x2ef258=_0x38455d[_0x2f9312(0x411)]['quizId'];handleDuplicateQuiz(_0x2ef258);}}}}}}}}}}}}}}),document[_0x559c77(0x185)](_0x559c77(0x371))[_0x559c77(0x61b)]('thead')[_0x559c77(0x581)](_0x559c77(0x599),_0x42831f=>{const _0x334075=_0x559c77,_0x305ce2=_0x42831f[_0x334075(0x6dd)][_0x334075(0x16f)](_0x334075(0x398));if(!_0x305ce2||!_0x305ce2[_0x334075(0x411)][_0x334075(0x5d0)])return;const _0x544bcc=_0x305ce2['dataset']['sort'];if(quizLeaderboardSortBy===_0x544bcc)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x334075(0x44e)?_0x334075(0x5ca):_0x334075(0x44e);else{quizLeaderboardSortBy=_0x544bcc;const _0x582c4b=[_0x334075(0x210)];quizLeaderboardSortOrder=_0x582c4b[_0x334075(0x40d)](_0x544bcc)?_0x334075(0x44e):_0x334075(0x5ca);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x334075(0x3cc));}),document[_0x559c77(0x185)](_0x559c77(0x300))[_0x559c77(0x581)](_0x559c77(0x599),closePresentation),document[_0x559c77(0x185)]('prev-question-btn')[_0x559c77(0x581)](_0x559c77(0x599),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x559c77(0x185)](_0x559c77(0x42f))[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0xad5a4f=_0x559c77;currentQuizData[_0xad5a4f(0x64e)]&&currentPresentationSlide<currentQuizData[_0xad5a4f(0x64e)][_0xad5a4f(0x2d0)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x559c77(0x581)](_0x559c77(0x4df),()=>{const _0x4b1548=_0x559c77;!document[_0x4b1548(0x3e6)]&&(presentationModal['style'][_0x4b1548(0x214)]=_0x4b1548(0x543));}),document[_0x559c77(0x185)]('delete-all-students-btn')[_0x559c77(0x581)](_0x559c77(0x599),handleDeleteAllStudents),studentList['addEventListener']('click',_0x2e30a2=>{const _0x417973=_0x559c77,_0x1324fa=_0x2e30a2[_0x417973(0x6dd)][_0x417973(0x16f)]('.delete-student-btn');if(_0x1324fa){const _0x410d30=_0x1324fa[_0x417973(0x411)]['studentName'];handleDeleteStudent(_0x410d30);}}),document[_0x559c77(0x185)]('generate-from-file-btn')[_0x559c77(0x581)]('click',handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x559c77(0x382),_0x4bef3c=>{const _0x18263e=_0x559c77,_0x54258a=_0x4bef3c['target'][_0x18263e(0x388)][0x0],_0x4d21da=document[_0x18263e(0x185)](_0x18263e(0x1ae));_0x54258a?(selectedFile=_0x54258a,_0x4d21da[_0x18263e(0x16a)]=![]):(selectedFile=null,_0x4d21da['disabled']=!![]);}),document['getElementById'](_0x559c77(0x167))[_0x559c77(0x581)](_0x559c77(0x382),_0x10c2bf=>{const _0x752719=_0x559c77,_0x228533=document[_0x752719(0x185)](_0x752719(0x6d6)),_0x158205=document[_0x752719(0x185)]('timer-duration-label'),_0x230b0a=document[_0x752719(0x185)](_0x752719(0x390));_0x10c2bf['target'][_0x752719(0x261)]===_0x752719(0x543)?_0x228533[_0x752719(0x5a6)][_0x752719(0x4d7)](_0x752719(0x6d1)):(_0x228533['classList'][_0x752719(0x640)](_0x752719(0x6d1)),_0x10c2bf['target'][_0x752719(0x261)]===_0x752719(0x378)?(_0x158205['textContent']=_0x752719(0x205),_0x230b0a[_0x752719(0x261)]='10'):(_0x158205[_0x752719(0x65e)]='ระยะเวลา\x20(วินาที):',_0x230b0a[_0x752719(0x261)]='30'));}),document[_0x559c77(0x185)](_0x559c77(0x275))[_0x559c77(0x581)](_0x559c77(0x382),_0x56815d=>{const _0x34c442=_0x559c77,_0xb1db0c=document[_0x34c442(0x185)](_0x34c442(0x53f)),_0x3a617b=_0x56815d['target'][_0x34c442(0x261)],_0x23c174=document[_0x34c442(0x61b)](_0x34c442(0x6c8)),_0x3726a1=document[_0x34c442(0x185)](_0x34c442(0x4fa)),_0x2eec8d=document[_0x34c442(0x185)](_0x34c442(0x65f));_0x3a617b===_0x34c442(0x55c)?_0x23c174[_0x34c442(0x65e)]=_0x34c442(0x62e):_0x23c174['textContent']=_0x34c442(0x387),_0x3a617b===_0x34c442(0x145)||_0x3a617b===_0x34c442(0x1ec)||_0x3a617b===_0x34c442(0x3d6)?_0xb1db0c[_0x34c442(0x5a6)]['remove'](_0x34c442(0x6d1)):_0xb1db0c[_0x34c442(0x5a6)][_0x34c442(0x4d7)](_0x34c442(0x6d1)),_0x3726a1[_0x34c442(0x5a0)]=_0x2eec8d['value'];}),document[_0x559c77(0x185)](_0x559c77(0x65f))[_0x559c77(0x581)](_0x559c77(0x5b4),_0x260e1f=>{const _0x4b97af=_0x559c77;document['getElementById']('passing-score-input')['max']=_0x260e1f[_0x4b97af(0x6dd)][_0x4b97af(0x261)];}),document[_0x559c77(0x185)]('modal-timer-mode-select')['addEventListener'](_0x559c77(0x382),_0x1bf1b7=>{const _0x220805=_0x559c77,_0x337efd=document[_0x220805(0x185)](_0x220805(0x447)),_0x1b634c=document[_0x220805(0x185)]('modal-timer-duration-label'),_0x486270=document[_0x220805(0x185)](_0x220805(0x48d));_0x1bf1b7[_0x220805(0x6dd)][_0x220805(0x261)]===_0x220805(0x543)?_0x337efd['classList'][_0x220805(0x4d7)](_0x220805(0x6d1)):(_0x337efd['classList'][_0x220805(0x640)]('hidden'),_0x1bf1b7[_0x220805(0x6dd)][_0x220805(0x261)]==='whole_quiz'?_0x1b634c[_0x220805(0x65e)]=_0x220805(0x205):_0x1b634c['textContent']=_0x220805(0x1be));}),document['getElementById'](_0x559c77(0x5d5))[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x3c1ff6=_0x559c77;document[_0x3c1ff6(0x185)](_0x3c1ff6(0x45e))[_0x3c1ff6(0x5a6)][_0x3c1ff6(0x4d7)]('hidden');}),document[_0x559c77(0x185)](_0x559c77(0x168))['addEventListener'](_0x559c77(0x599),()=>{const _0x5da0dd=_0x559c77;document['getElementById'](_0x5da0dd(0x45e))['classList'][_0x5da0dd(0x4d7)](_0x5da0dd(0x6d1));}),document[_0x559c77(0x185)](_0x559c77(0x578))[_0x559c77(0x581)](_0x559c77(0x599),()=>{const _0x376798=_0x559c77;document['getElementById'](_0x376798(0x45e))[_0x376798(0x5a6)][_0x376798(0x4d7)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x559c77(0x185)](_0x559c77(0x479))[_0x559c77(0x581)]('click',handleAutoFixLatex);const _0x5b80bd=document[_0x559c77(0x185)](_0x559c77(0x1b0));_0x5b80bd&&_0x5b80bd[_0x559c77(0x581)](_0x559c77(0x599),_0x39b646=>{const _0x549c07=_0x559c77,_0x4ae6d4=_0x39b646[_0x549c07(0x6dd)]['closest'](_0x549c07(0x57b));if(_0x4ae6d4){const _0x444561=_0x4ae6d4[_0x549c07(0x16f)]('.question-editor-item'),_0x3910d2=parseInt(_0x444561['dataset'][_0x549c07(0x3ee)],0xa);handleRegenerateQuestionInEditor(_0x3910d2);}}),document[_0x559c77(0x185)](_0x559c77(0x2fc))[_0x559c77(0x581)]('click',openQuizBankModal),document[_0x559c77(0x185)](_0x559c77(0x432))['addEventListener'](_0x559c77(0x599),()=>{const _0x48337f=_0x559c77;document['getElementById'](_0x48337f(0x67d))['classList'][_0x48337f(0x4d7)](_0x48337f(0x6d1));}),document[_0x559c77(0x185)](_0x559c77(0x527))['addEventListener']('input',_0x2c57ec=>renderQuizBankList(_0x2c57ec[_0x559c77(0x6dd)][_0x559c77(0x261)]));}async function extractTextFromPdf(_0x5af812){const _0x2fc59f=_0xa29d1b;pdfjsLib['GlobalWorkerOptions'][_0x2fc59f(0x62a)]=_0x2fc59f(0x624);const _0x2ff9dc=await _0x5af812['arrayBuffer'](),_0x20a037=await pdfjsLib['getDocument'](_0x2ff9dc)[_0x2fc59f(0x267)],_0x1365e8=_0x20a037[_0x2fc59f(0x589)];let _0x40a4dc='';for(let _0x46e4b9=0x1;_0x46e4b9<=_0x1365e8;_0x46e4b9++){const _0x3dbf1b=await _0x20a037[_0x2fc59f(0x457)](_0x46e4b9),_0x21cef3=await _0x3dbf1b[_0x2fc59f(0x6b6)](),_0x469269=_0x21cef3[_0x2fc59f(0x3fe)][_0x2fc59f(0x5b1)](_0x3b22fa=>_0x3b22fa[_0x2fc59f(0x17a)])['join']('\x20');_0x40a4dc+=_0x469269+'\x0a\x0a';}return _0x40a4dc;}async function handleGenerateFromBlueprint(){const _0x20b6b9=_0xa29d1b,_0x250cda=document[_0x20b6b9(0x185)](_0x20b6b9(0x3ed)),_0x2c45f2=document['getElementById'](_0x20b6b9(0x54f)),_0x1f6ebe=_0x250cda[_0x20b6b9(0x388)][0x0],_0x5b75ca=_0x2c45f2[_0x20b6b9(0x388)][_0x20b6b9(0x2d0)]>0x0?_0x2c45f2['files'][0x0]:null;if(!_0x1f6ebe){showMessage(_0x20b6b9(0x5d3));return;}const _0x2bc132=document['getElementById'](_0x20b6b9(0x2c6)),_0xf90ff5=document[_0x20b6b9(0x185)](_0x20b6b9(0x322)),_0x20bd57=document[_0x20b6b9(0x185)]('generated-quiz-container'),_0x2a3cc6=document[_0x20b6b9(0x185)]('generate-from-blueprint-btn');_0x2a3cc6[_0x20b6b9(0x16a)]=!![],document[_0x20b6b9(0x185)](_0x20b6b9(0x2bb))['classList'][_0x20b6b9(0x640)](_0x20b6b9(0x6d1)),_0x20bd57[_0x20b6b9(0x21c)]='',_0x2bc132['classList'][_0x20b6b9(0x640)](_0x20b6b9(0x6d1));try{_0xf90ff5[_0x20b6b9(0x65e)]=_0x20b6b9(0x144);const _0x830839=await extractTextFromPdf(_0x1f6ebe);if(!_0x830839[_0x20b6b9(0x5cc)]())throw new Error(_0x20b6b9(0x20f));let _0x188dbf='';_0x5b75ca&&(_0xf90ff5['textContent']=_0x20b6b9(0x6e5),_0x188dbf=await extractTextFromPdf(_0x5b75ca));_0xf90ff5[_0x20b6b9(0x65e)]=_0x20b6b9(0x258);const _0x1e3cf7=document[_0x20b6b9(0x185)](_0x20b6b9(0x587))[_0x20b6b9(0x67b)],_0x513eb5=_0x1e3cf7?_0x20b6b9(0x638):'',_0x4511a8=_0x188dbf?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x188dbf+_0x20b6b9(0x377):'',_0x15ecde=_0x20b6b9(0x6db)+(_0x188dbf?_0x20b6b9(0x39f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x830839+_0x20b6b9(0x377)+_0x4511a8+_0x20b6b9(0x361)+_0x513eb5+_0x20b6b9(0x456)+simpleMathPrompt+_0x20b6b9(0x148),_0x467477={'type':_0x20b6b9(0x5b3),'properties':{'questionText':{'type':_0x20b6b9(0x3c3)},'questionType':{'type':_0x20b6b9(0x3c3),'enum':[_0x20b6b9(0x145),'short_answer']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x20b6b9(0x1f1)},'idealAnswer':{'type':_0x20b6b9(0x3c3)},'explanation':{'type':_0x20b6b9(0x3c3)},'imageCode':{'type':_0x20b6b9(0x3c3)}},'required':[_0x20b6b9(0x6f2),_0x20b6b9(0x1f0),_0x20b6b9(0x4bb)]},_0x1b82f0={'type':_0x20b6b9(0x5b3),'properties':{'topic':{'type':_0x20b6b9(0x3c3)},'questions':{'type':_0x20b6b9(0x6d3),'items':_0x467477}},'required':[_0x20b6b9(0x1d1),_0x20b6b9(0x64e)]};await handleApiCall(_0x15ecde,_0x20b6b9(0x6ac),_0x1b82f0);}catch(_0x33db5e){console[_0x20b6b9(0x2f7)]('Error\x20generating\x20from\x20blueprint:',_0x33db5e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x33db5e[_0x20b6b9(0x6aa)]),_0x20bd57['innerHTML']=_0x20b6b9(0x393);}finally{_0x2bc132[_0x20b6b9(0x5a6)][_0x20b6b9(0x4d7)]('hidden'),_0x2a3cc6[_0x20b6b9(0x16a)]=![];}}async function handleGenerateParallelFromBank(_0xb24c37){const _0x4b5991=_0xa29d1b,_0x5edc93=document['getElementById'](_0x4b5991(0x2c6)),_0x1fb261=document[_0x4b5991(0x185)](_0x4b5991(0x322)),_0x566915=document[_0x4b5991(0x185)](_0x4b5991(0x2e7)),_0x49680c=document['getElementById'](_0x4b5991(0x2bb));showView(_0x4b5991(0x18b)),switchProjectTab('manage'),_0x49680c[_0x4b5991(0x5a6)][_0x4b5991(0x640)](_0x4b5991(0x6d1)),_0x566915['innerHTML']='',_0x5edc93[_0x4b5991(0x5a6)][_0x4b5991(0x640)](_0x4b5991(0x6d1)),_0x1fb261['textContent']=_0x4b5991(0x4d9)+_0xb24c37[_0x4b5991(0x1d1)]+_0x4b5991(0x4e6);try{const _0x18a0c2=_0xb24c37['questions'][_0x4b5991(0x5b1)]((_0x3891b6,_0x323860)=>{const _0x4b49e2=_0x4b5991;let _0x41b1c1=_0x323860+0x1+'.\x20'+(_0x3891b6['questionText']||_0x3891b6[_0x4b49e2(0x18e)])+'\x0a';if(_0x3891b6[_0x4b49e2(0x186)])_0x41b1c1+=_0x3891b6[_0x4b49e2(0x186)][_0x4b49e2(0x5b1)]((_0x122483,_0x4e5a23)=>_0x4b49e2(0x1db)+(_0x4e5a23===_0x3891b6[_0x4b49e2(0x6c3)]?'[*]':'')+'\x20'+_0x122483)[_0x4b49e2(0x1ed)]('\x0a');else{if(_0x3891b6[_0x4b49e2(0x217)])_0x41b1c1+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x3891b6[_0x4b49e2(0x217)];else _0x3891b6[_0x4b49e2(0x49f)]&&(_0x41b1c1+=_0x4b49e2(0x18c)+_0x3891b6[_0x4b49e2(0x49f)]);}return _0x41b1c1;})[_0x4b5991(0x1ed)]('\x0a\x0a');_0x1fb261[_0x4b5991(0x65e)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x44a694=_0x4b5991(0x4a2)+_0xb24c37[_0x4b5991(0x1d1)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18a0c2+_0x4b5991(0x4d5)+_0xb24c37[_0x4b5991(0x40b)]+'),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x4b5991(0x148),_0x403191={'type':_0x4b5991(0x5b3),'properties':{'questionText':{'type':_0x4b5991(0x3c3)},'questionType':{'type':_0x4b5991(0x3c3),'enum':['multiple_choice','short_answer','true_false','matching_item']},'options':{'type':'ARRAY','items':{'type':_0x4b5991(0x3c3)}},'correctAnswerIndex':{'type':_0x4b5991(0x1f1)},'idealAnswer':{'type':_0x4b5991(0x3c3)},'correctAnswer':{'type':_0x4b5991(0x558)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4b5991(0x3c3)},'allResponses':{'type':_0x4b5991(0x6d3),'items':{'type':_0x4b5991(0x3c3)}},'explanation':{'type':_0x4b5991(0x3c3)},'imageCode':{'type':_0x4b5991(0x3c3)}},'required':[_0x4b5991(0x1f0),_0x4b5991(0x4bb)]},_0x14c8df={'type':'OBJECT','properties':{'topic':{'type':_0x4b5991(0x3c3)},'questions':{'type':'ARRAY','items':_0x403191}},'required':[_0x4b5991(0x1d1),'questions']};await handleApiCall(_0x44a694,_0x4b5991(0x404),_0x14c8df);}catch(_0x5e31f8){console[_0x4b5991(0x2f7)](_0x4b5991(0x51b),_0x5e31f8),showMessage(_0x4b5991(0x4c0)+_0x5e31f8['message']),_0x566915[_0x4b5991(0x21c)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x5edc93[_0x4b5991(0x5a6)]['add']('hidden');}}async function handleGenerateParallelTest(){const _0x31234a=_0xa29d1b,_0x293b9d=document[_0x31234a(0x185)](_0x31234a(0x326)),_0x9b2f9b=_0x293b9d['files'][0x0];if(!_0x9b2f9b){showMessage(_0x31234a(0x1c5));return;}const _0x4ea706=document['getElementById']('loader'),_0x2a13ec=document[_0x31234a(0x185)]('loader-text'),_0x457063=document['getElementById']('generated-quiz-container'),_0x271b1f=document['getElementById'](_0x31234a(0x15a));_0x271b1f[_0x31234a(0x16a)]=!![],document[_0x31234a(0x185)](_0x31234a(0x2bb))[_0x31234a(0x5a6)][_0x31234a(0x640)](_0x31234a(0x6d1)),_0x457063[_0x31234a(0x21c)]='',_0x4ea706[_0x31234a(0x5a6)]['remove'](_0x31234a(0x6d1)),_0x2a13ec[_0x31234a(0x65e)]=_0x31234a(0x545);try{const _0x5560cb=await extractTextFromPdf(_0x9b2f9b);if(!_0x5560cb[_0x31234a(0x5cc)]())throw new Error(_0x31234a(0x364));_0x2a13ec[_0x31234a(0x65e)]=_0x31234a(0x224);const _0x84f3d8=document[_0x31234a(0x185)](_0x31234a(0x587))['checked'],_0xc37234=_0x84f3d8?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x2c4045=_0x31234a(0x1eb)+_0x5560cb+_0x31234a(0x603)+_0xc37234+_0x31234a(0x456)+simpleMathPrompt+_0x31234a(0x148),_0x76706e={'type':_0x31234a(0x5b3),'properties':{'questionText':{'type':_0x31234a(0x3c3)},'questionType':{'type':_0x31234a(0x3c3),'enum':['multiple_choice','short_answer']},'options':{'type':'ARRAY','items':{'type':_0x31234a(0x3c3)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x31234a(0x3c3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x31234a(0x3c3)}},'required':[_0x31234a(0x6f2),_0x31234a(0x1f0),_0x31234a(0x4bb)]},_0x20492b={'type':_0x31234a(0x5b3),'properties':{'topic':{'type':_0x31234a(0x3c3)},'questions':{'type':'ARRAY','items':_0x76706e}},'required':['topic','questions']};await handleApiCall(_0x2c4045,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x20492b);}catch(_0x3aa49f){console[_0x31234a(0x2f7)](_0x31234a(0x1ab),_0x3aa49f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3aa49f[_0x31234a(0x6aa)]),_0x457063[_0x31234a(0x21c)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x4ea706[_0x31234a(0x5a6)]['add'](_0x31234a(0x6d1)),_0x271b1f['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x471f66){const _0x483376=_0xa29d1b;if(currentEditingQuizData===null)return;const _0x14e9ce=document[_0x483376(0x61b)](_0x483376(0x294)+_0x471f66+'\x22]');_0x14e9ce&&(_0x14e9ce['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x36e783=currentEditingQuizData[_0x483376(0x64e)][_0x471f66],_0x14dbfa=currentEditingQuizData['topic'],_0x91805f=_0x36e783[_0x483376(0x1f0)],_0x502a3c={'type':_0x483376(0x5b3),'properties':{'questionText':{'type':_0x483376(0x3c3)},'options':{'type':_0x483376(0x6d3),'items':{'type':_0x483376(0x3c3)}},'correctAnswerIndex':{'type':_0x483376(0x1f1)},'explanation':{'type':'STRING'}},'required':[_0x483376(0x6f2),_0x483376(0x186),'correctAnswerIndex',_0x483376(0x4bb)]},_0x554289={'type':'OBJECT','properties':{'questionText':{'type':_0x483376(0x3c3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x483376(0x3c3)}},'required':['questionText','idealAnswer',_0x483376(0x4bb)]};let _0x26753d,_0x526554='';_0x91805f===_0x483376(0x145)?(_0x26753d=_0x502a3c,_0x526554='แบบปรนัย\x204\x20ตัวเลือก'):(_0x26753d=_0x554289,_0x526554=_0x483376(0x6c6));const _0x5277e8='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x14dbfa+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x526554+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x36e783['questionText']||_0x36e783[_0x483376(0x18e)])+_0x483376(0x415)+simpleMathPrompt;try{const _0x5cb259=await callAnalysisApi(_0x5277e8,_0x26753d);currentEditingQuizData[_0x483376(0x64e)][_0x471f66]={..._0x36e783,..._0x5cb259},renderQuizEditor(currentEditingQuizData);}catch(_0x2e2784){console[_0x483376(0x2f7)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x2e2784),showMessage(_0x483376(0x4ae)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x40be2d=_0xa29d1b,_0x1678d2=document[_0x40be2d(0x185)](_0x40be2d(0x3c8));currentMode===_0x40be2d(0x4a6)?(currentMode='admin',_0x1678d2['innerHTML']=_0x40be2d(0x546),_0x1678d2[_0x40be2d(0x25c)]=_0x40be2d(0x2ca),showView(_0x40be2d(0x188))):(currentMode='student',_0x1678d2[_0x40be2d(0x21c)]=_0x40be2d(0x381),_0x1678d2[_0x40be2d(0x25c)]='สลับไปโหมดผู้ควบคุม',showView(_0x40be2d(0x4a6)));}function _0x4003(){const _0x5d6b4f=['\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','draggable-text','#results-table','bank-quiz-search-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','.duplicate-quiz-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','parseFromString','ดีเทอร์มิแนนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','เมทริกซ์:\x20บวก/คูณ','_opt','question-complexity-select','/public/data/projects','file-topic-input','QUICK_THINKER','POST','.edit-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','ค่าคลาดเคลื่อนของการวัด','defaultNumQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','num-choices-container','frac','36NqnjSt','text-green-600\x20font-bold','none','sin','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','คณิตศาสตร์','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x20คะแนน','\x5ctext{$1}','text-purple-600','Authentication\x20failed:','ไม่พบแบบทดสอบ','\x5cfrac{$1}{$2}','reference-pdf-upload','\x20/\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x22>ไม่ใช่</p>','เกมสิ้นสุดลงแล้ว','createdAt','บันทึกแบบทดสอบสำเร็จแล้ว!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x5c\x5c\x5c\x5c(?=(','BOOLEAN','</label>\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','totalQuestions','matching','rgba(79,\x2070,\x20229,\x200.8)','reduce','quiz-status-options','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','setAttribute','uid','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','ไม่มี','rgba(79,\x2070,\x20229,\x201)','input[type=\x22checkbox\x22]:checked','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','[data-is-correct=\x22true\x22]','true','answers','stringify','bg-yellow-200\x20text-yellow-800','Error\x20generating\x20from\x20link:','966geTbQN','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x22\x20data-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','/public/data/quizzes','save-quiz-edits-btn','\x22\x20data-topic=\x22','ความเท่ากันทุกประการของสามเหลี่ยม','.regenerate-question-editor-btn','การบวกเศษส่วน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','delete-svg-btn','Error\x20listening\x20for\x20starred\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','addEventListener','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','admin-view','include-images-checkbox','q-image-container-','numPages','worksheet-input-area','questionDisplayedAt','entries','createObjectURL','#10B981','btn','clientY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-count','</form>','touchmove','originalTopic','link-tab','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20projects\x20for\x20move:','dfrac','preventDefault','student-quiz-leaderboard-content','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','max','instructions','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','settings','classList','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','button[data-id]','ไม่ได้ตอบ','sqrt','เกิดข้อผิดพลาดในการอัปเดตสถานะ','Remedial\x20quiz\x20generation\x20failed:','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','text-green-900','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','input','การหาร','touchend','leaderboard-tab','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','<div\x20class=\x22flex-1\x22></div>','พาราโบลา','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','circle','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','add-custom-math-topic-btn','ชนิดของข้อมูลและการเก็บข้อมูล','วงกลม:\x20คอร์ดและเส้นสัมผัส','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','leaderboard-quiz-tab-content','touches','border-green-300\x20bg-green-50',')\x5cb)','body','เกิดข้อผิดพลาดในการลบนักเรียน','ไม่พบแบบทดสอบสำหรับรหัสนี้','desc','quiz-end-time','trim','สมการเหตุผล\x20(rational)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','confirm-admin-login-btn','sort','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','/users/','cancel-quiz-edits-btn','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','correctAnswer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','ระยะทางและจุดกึ่งกลาง','back-from-results-btn','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','defaultPassingScore','สร้างคำถามแบบใช่/ไม่ใช่','1:274192258111:web:4120c9118229b5644dd48a','export-pdf-btn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','ai-quiz-app-aefee.firebaseapp.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','Error\x20saving\x20quiz:','modal-message','.presentation-option','create-project-btn','generate-from-link-btn','อัตราส่วนและสัดส่วน','student-quiz-topic','<div\x20class=\x22','topic-input','Copy\x20command\x20failed','กรุณาวาง\x20URL\x20ของบทความก่อน','การบวกทศนิยม','bank-input-area','ย้าย','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','เกิดข้อผิดพลาดในการโหลดสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onload','random','\x22\x20สำเร็จ','$1\x5ctext{','all','analyze-strengths-btn','การบวก','Error\x20listening\x20for\x20custom\x20math\x20topics:','getAttributeNS','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','student-project-leaderboard-content','ปริพันธ์ไม่จำกัด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','fa-user-astronaut\x20text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','Failed\x20to\x20parse\x20JSON\x20from\x20AI','AI\x20grading\x20failed:','ค่าเสื่อมราคา','student-list','</option>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่ใช่','active','จำนวนและการดำเนินการ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์...','confirm-move-quiz-btn','<div\x20id=\x22q-image-container-','รากที่สองและที่สาม','badgesCount','_blank','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','contentEditable','fa-crown\x20text-yellow-500','now','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20','targetId','คำถามถัดไป','querySelectorAll','cancel-global-live-btn','หมดเวลาสำหรับข้อนี้!','totalPoints','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','confirm-rename-quiz-btn','อินเวอร์สของเมทริกซ์','inactive','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','workerSrc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','show_pass_fail_only','จำนวนคู่:','pointsLastQuestion','Error\x20saving\x20to\x20question\x20bank:','student-initial-view','select','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','ใช่','<p><strong>คำตอบของคุณ:</strong>\x20','q-explanation-','answeredCurrentQuestion','การหารเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','remove','results-quiz-id-display','leaderboard-quiz-tab-btn','docs','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ไม่พบโปรเจค','blueprint-tab','back-to-dashboard-btn','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','svg','quick_thinker','.live-answer-btn','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ปริพันธ์จำกัด','questions','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','อัปเดตสถานะสำเร็จ','option','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','players.','ไม่สามารถเพิ่มนักเรียนได้','modal-shuffle-select','คัดลอกรหัสแล้ว!','label','ดอกเบี้ยทบต้น','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','log','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','getScreenCTM','สมมาตร\x20(แกน/จุด)','textContent','num-questions','การจัดกลุ่มข้อมูล','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','attempts','ลำดับการดำเนินการ\x20(PEMDAS)','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','resultsDisplay','\x5csum','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','project-quizzes-list','_opt0\x22>ใช่</label></div>','student-join-game-view','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','.move-quiz-btn','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','project-list','การแจกแจงทวินาม\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','then','Error\x20joining\x20live\x20game:','บันทึกการแก้ไขสำเร็จ','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','copy','split','comeback_king','หัวข้อที่สร้างเอง','confirm-join-game-btn','blockReason','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','focus','opacity','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','แบบทดสอบนี้ปิดใช้งานอยู่','$1^{\x5ccirc}\x5ctext{C}','สอบซ่อม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','generated-quiz-actions','per-question-timer-container','leaderboard-quiz','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20หัวข้อ)','เกิดข้อผิดพลาดในการบันทึก','คำตอบผิด','เลือกและบันทึก','border-4','text-green-600','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','isCorrect','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','badges','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','passingScore','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','Error\x20updating\x20quiz\x20status:','Original\x20quiz\x20not\x20found','```json','Error\x20listening\x20for\x20projects:','ดอทโปรดักต์\x20(dot)','message','มัธยฐาน','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','_opt0\x22\x20name=\x22question','earned-badges-container','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','.pdf','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x20ใหม่...','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','getTextContent','student-project-leaderboard-tab','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','text-white','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','index','```','mjx-container','เศษส่วน\x20(ย่อ/ขยาย)','\x5ctimes','project-title','cloneNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswerIndex','274192258111','right','แบบเติมคำตอบ','starred','label[for=\x22num-questions\x22]','Error\x20deleting\x20all\x20students:','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','global-live-game-modal','test','back-to-project-btn','106047DfGJEo','การสร้างรูปด้วยวงเวียน–สันตรง','set','hidden','ท็อปฟอร์ม','ARRAY','rename-quiz-input','Error\x20fetching\x20student\x20rankings:','timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','.parallel-quiz-btn','isStarred','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','target','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2030°-60°-90°','กรุณาใส่ชื่อนักเรียน','deg','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','อัตราและอัตราหน่วย',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','.score','Error\x20during\x20class\x20analysis:','icon','text-blue-700','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','FIRST_TRY_ACE','manage-tab-content','project-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','delete','questionText','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','กรุณาเลือกชื่อของคุณ','innerText','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','11050798vVeoqm','text-tab','fa-fire\x20text-orange-500','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','multiple_choice','ผู้ควบคุม\x20(ทดสอบ)','worksheet-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22\x20name=\x22question','currentQuestionIndex','สเกลและแผนที่','N/A','artifacts/','cos','insertAdjacentHTML','\x5csqrt{$1}','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','confirm-global-live-btn','category','การคูณเศษส่วน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ราชาคัมแบ็ก','type','input[name=\x22status-option\x22]','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','generate-from-parallel-test-btn','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','answer','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','math-topics-checkbox-container','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz','{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','เรขาคณิต','<p>','timer-mode-select','cancel-quiz-edits-btn-footer','ร้อยละประยุกต์','disabled','generate-from-text-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x20mx-1\x20text-lg\x22></i></span>','</span></div>','closest','Error\x20processing\x20file\x20for\x20AI:','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','10ibvUWA','th-TH','\x20mr-2\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','repeat','#ffffff','str','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','isRemedial','bg-green-100\x20text-green-800','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','toggle','live-game','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','โดเมนและเรนจ์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','options','input[type=\x22checkbox\x22]','admin-dashboard','<option>กำลังโหลดโปรเจค...</option>','ฟังก์ชันราก\x20(root)','project-detail','\x20\x20\x20-\x20คำตอบ:\x20','undefined','stem','topic-tab','submit','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','00:00','approx','admin-testing','<p\x20class=\x22font-bold\x20text-sm\x20','presentation-explanation','td,\x20th','rename-quiz-modal','ไม่สามารถโหลดข้อมูลอันดับได้','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.doc','คะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','5870NMqNoS','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-dashboard-view','join-live-game-btn','ส่งคำตอบ','content','.pointsLastQuestion','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','กำลังสร้างรูปภาพ...','ผู้เชี่ยวชาญ','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x5cneq','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','generate-from-file-btn','cancel-rename-quiz-btn','quiz-editor-questions-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toString','leaderboard','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','ยืนยันการกระทำ','export-leaderboard-word-btn','worksheet-tab','ฟังก์ชันสัมพัทธ์\x20(rational)','outerHTML','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','href','countdown-display','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','ระยะเวลา\x20(วินาที):','per_question','\x22\x20data-q-type=\x22','specialist','\x22\x20value=\x22true\x22\x20','สอบปกติ','true_false','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x5cdiv','originalQuestion','toISOString','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','student-quiz-leaderboard-table-body','^{\x5ccirc}\x5ctext{C}$','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','blueprint-input-area','overline','topic','/public/data/customMathTopics','อนุพันธ์:\x20กฎลูกโซ่','ไม่พบข้อมูลผู้ใช้','on_fire','-tab','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','.sort-indicator','game-pin-input','\x20\x20\x20-\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','ตอบถูก\x203\x20ข้อติดต่อกัน','toLowerCase','points','ระบบอสมการ','ค่าเฉลี่ย','จำนวนเชิงซ้อน\x20(เสริม)','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','confirmation-modal','json','find','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','การคูณทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','join','scores-tab-btn','leq','questionType','NUMBER','score','global-live-game-count','border-green-500','per-q-countdown','status','parallel-test-tab','fas\x20fa-bookmark','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','prev-question-btn','สัญกรณ์วิทยาศาสตร์','file-input-area','ลบแบบทดสอบสำเร็จแล้ว','ตารางความถี่','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','รูปแบบการให้เหตุผล','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','ตรีโกณมิติ','text-green-700\x20bg-green-100','ระยะเวลา\x20(นาที):','ผ่าน','ไม่สามารถบันทึกการตั้งค่าได้','ระยะจากจุดถึงเส้นตรง','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','touchstart','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','shuffle','hover:bg-indigo-100','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','studentName','http://www.w3.org/2000/svg','results-quiz-title','rows','display','.delete-svg-btn','editor-quiz-topic','idealAnswer','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','16AdClNA','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','Error\x20starting\x20live\x20race:','innerHTML','results','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','prod','custom-math-topic-input','print','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','ไม่พบข้อมูลแบบทดสอบ','เปิดใช้งาน','font-bold\x20text-red-700\x20line-through','exists','originalQuestionText','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','classWeaknesses','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-text-','choices_only','เกี่ยวกับหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ai-quiz-app-aefee','indexOf','พีชคณิตและฟังก์ชัน','keyup','destroy','ปรับเพิ่ม/ลดเป็นร้อยละ','ไม่สามารถสร้างโปรเจคได้','createElement','mouseup','cancel-quiz-settings-btn','student-reading-area','\x22>ใช่</p>','projectId','Error\x20showing\x20quiz\x20detail\x20view:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','พื้นที่สามเหลี่ยม','button[type=\x22submit\x22]','revealed','fas\x20fa-user-edit','findIndex','ข้อต่อไป','bg-green-500','(เลือกแล้ว\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','bg-purple-50','ไม่สามารถโหลดรายการโปรเจคได้','<h1></h1>','การวัด','ฟังก์ชันค่าสัมบูรณ์','ปิดใช้งาน','สมการตรีโกณมิติ','quiz-results-table-body','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','2-digit','quiz-results','\x5cs*\x5c(','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','getContext','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','title','quiz-id-input','document','fill_in_no_choices','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','value','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','</td>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','promise','แก้ไขข้อนี้','.admin-try-quiz-list-btn','.\x20แต่ละข้อมี\x20','$1_{$2}','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','font-bold\x20text-green-700','score-distribution-chart','imageCode','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','project-sort-select','candidates','startTime','quiz-type-select','schedule','quiz-start-time','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','timerMode','ไม่มีคำอธิบาย','next-live-question-btn','แผนภาพกล่อง\x20(box\x20plot)','data:application/vnd.ms-word;charset=utf-8,','ข้อที่\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x20ครั้ง)</span></td>','players','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กรุณาเลือกไฟล์ก่อน','submission-status-chart','position','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','line-through\x20text-red-700','ring-purple-400','Error\x20moving\x20quiz:','Error\x20deleting\x20project:','firstScore','.draggable-text','stopPropagation','font-bold','close','submission','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','perseverance','.question-editor-item[data-q-index=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-create-project-btn','timerDuration','กำลังสร้างแบบทดสอบจากหัวข้อ...','Error\x20deleting\x20student:','.ideal-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','key','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','fill_in_the_blank','bg-green-300','player-list-lobby','delete-all-students-btn','ร้อยละพื้นฐาน','ON_FIRE','แคลคูลัสเบื้องต้น','ทำคะแนนเต็มในการทำครั้งแรก','API\x20call\x20failed','กรุณาป้อนหัวข้อสำหรับใบงาน','ระบบเลขและค่าประจำหลัก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','Error\x20saving\x20submission:','สร้างแบบทดสอบปรนัย','บันทึกการตั้งค่าแล้ว','helvetica','/public/data/quizzes/','-tab-content','ai-quiz-generator-v3','copy-quiz-id-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x5cfrac{','ดูสรุปผล','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','quiz-generation-area','name','dispatchEvent','execCommand','auto','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','$1^{\x5ccirc}','defaultNumChoices','สร้างแบบทดสอบ','parts','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','loader','.delete-quiz-btn','.option-text','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดนักเรียน','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','\x22><i\x20class=\x22fas\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generate-from-topic-btn','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','length','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','topic-input-area','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','COMEBACK_KING','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','after','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','function','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-result-area','fas\x20fa-star\x20text-yellow-500','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x22\x20value=\x22false\x22\x20','สมการยกกำลัง','สร้างคำถามแบบเติมคำในช่องว่าง','generated-quiz-container','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','ผู้ไม่ยอมแพ้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizId','appendChild','doughnut','questionStatus','finishReason','กรุณาเลือกโปรเจคปลายทาง','API\x20call\x20failed\x20with\x20status:\x20','generate-worksheet-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','neq','Invalid\x20response\x20structure\x20from\x20AI:','error','push','เกิดข้อผิดพลาดในการลบแบบทดสอบ','scheduled_pending','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-quiz-bank-btn','div','สร้างโปรเจคสำเร็จ!','quiz-status-modal','close-presentation-btn','กรุณาเลือกสถานะ','mouseleave','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','<li>','perfect_score','cancel-quiz-status-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','หน่วยเวลาและการคำนวณเวลา','ค.ร.น.\x20(LCM)','ห.ร.ม.\x20(GCD)','ศูนย์','global-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ql-editor','เกิดข้อผิดพลาดในการลบโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-short-answer-input','.quiz-bank-item','618980zdHOUL','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','commit','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','reveal-answer-btn','มุมและการวัดมุม','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAdaptive','พื้นที่สี่เหลี่ยม','localeCompare','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','loader-text','</p></div>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','เส้นตรง:\x20ขนาน/ตั้งฉาก','parallel-test-upload-input','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-results-view','<i\x20class=\x22fas\x20fa-pen\x22></i>','fa-pen','</h3>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a---\x0a','isArray','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเป็นอิสระของเหตุการณ์','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การคูณ','parallel-test-input-area','mousemove','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classStrengths','remedialContent','#view-rankings-btn','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','presentation-ai-result','cursor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','ลำดับเลขคณิต\x20(AP)','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','</div><div\x20class=\x22space-y-2\x22>','$1\x5c%','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x22\x20name=\x22question_single\x22\x20value=\x22','students','typesetPromise','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','อสมการเชิงเส้น','.png','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','การแจกแจงปกติและ\x20z-score','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.answer-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','manual_release','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/submissions','analytics','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','results-tab-content','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','manage','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','matching_item','toLocaleString','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','_opt1\x22>ไม่ใช่</label></div>','first_try_ace','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','กฎของไซน์','ฟังก์ชันแบบชิ้นส่วน','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','quiz-leaderboard-table','Error\x20fetching\x20project\x20quizzes:','จำนวนเต็มลบ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','get','Error\x20adding\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','whole_quiz','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','ผลรวมอนุกรม\x20(Σ)','Error\x20saving\x20quiz\x20edits:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','/questionBank','onerror','สมการลอการิทึม','ring-2','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','change','Error\x20creating\x20project:','ส่งแล้ว','project-id-display','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','จำนวนข้อ:','files','false','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','values','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','(^|[^\x5c\x5c])\x5cb','timer-duration-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','toDataURL','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','คณิตการเงิน/บูรณาการ','password-error-msg','\x20ตัวเลือก.\x20','11070261XkLhUd','.sortable-header','fa-dumbbell\x20text-gray-700','แผนภาพเวนน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบสมการเชิงเส้นสองตัวแปร','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','add-student-btn','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','จำนวนนักเรียน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','ฟังก์ชันพหุนาม','input[type=\x22radio\x22]:checked','modal-close-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-quiz-btn','scheduled','cdot','contents','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','both','/public/data/projects/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sum','(ไม่มีชื่อ)','correctStreak','ปริมาตรรูปทรงสามมิติ','bank-quiz-list','quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','[role=\x22textbox\x22]','admin-password-input','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','beforeend','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<span\x20title=\x22','STRING','2741','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','38129hbJyJL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','mode-switcher-btn','ความแปรปรวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','quiz-leaderboard-table-body','selected-topics-count','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bestScore','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','cancel-move-quiz-btn','.quiz-status-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','onclick','วงกลม:\x20สมการและสมบัติ','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎของโคไซน์','some','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','4LOcdge','text-indigo-700','.quiz-bank-parallel-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','#F59E0B','download','fullscreenElement','การแยกตัวประกอบ','tan','Error\x20adding\x20students:','student-quiz-leaderboard-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ทฤษฎีบทพีทาโกรัสและการประยุกต์','blueprint-upload-input','qIndex','ความต่อเนื่อง','$1\x5cfrac','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','คำตอบถูกต้อง!\x20+','<br>','student-project-leaderboard-table-body','normal','manage-tab','answering','</div>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','deselect-all-topics-btn','.choice-text','.quiz-settings-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','items','คัดลอกไม่สำเร็จ','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','flex','ความน่าจะเป็นแบบมีเงื่อนไข','สถิติและความน่าจะเป็น','กำลังสร้างแบบทดสอบคู่ขนาน...','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-content','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','G-V90KRM0L63','qType','quizType','setFont','includes','teacherSuggestions','jspdf','scores','dataset','nickname-input','textarea','project-search-input','\x22.\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','admin-password-modal','\x22\x20name=\x22question','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>','PERFECT_SCORE','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','.save-to-bank-btn','$1^{$2}','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','รูปสี่เหลี่ยมและสมบัติ','results-tab','gamePin','admin-try-quiz-btn','back-to-home-manual-release','toFixed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','Error\x20generating\x20quiz:','แบบทดสอบ:\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','quiz-form','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','results-table-container','application/json','next-question-btn','student-name-selection-view','start-presentation-btn','cancel-quiz-bank-btn','live-options-container','ลำดับเรขาคณิต\x20(GP)','start-remedial-quiz-btn','fa-rocket\x20text-purple-500','/studentProfiles','วงรี','height','currentTarget','timer-container','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','answer-counter','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','<textarea\x20name=\x22question','student-quiz-area','export-leaderboard-image-btn','from','class','viewBox','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','modal-timer-duration-container','ref','FileReader\x20error:','quiz-schedule-end-container','bg-red-100\x20text-red-800','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','thead\x20.sortable-header','asc','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','ไม่ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','Invalid\x20response\x20structure\x20from\x20AI.','bar','analytics-summary-cards','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getPage','มุมพิเศษ\x2045°-45°-90°','numeric','อัตราการเปลี่ยนแปลงทันที','results-table','contains','ตั้งเวลา\x20(เปิด)','quiz-editor-modal','binom','Error\x20renaming\x20quiz:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','allResponses','slice','\x22.\x20Ideal\x20Answer:\x20\x22','keys','ผ่านฉลุย','modal-timer-mode-select','<p\x20class=\x22','PERSEVERANCE','baseVal','เส้นตรง:\x20รูปแบบสมการ','.project-card-content','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','27287856sYLnqB','projectName','กรุณาป้อนรหัสแบบทดสอบ','force-math-checkbox','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','mousedown','</span></td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','s;\x22\x20title=\x22','$1\x5ctext(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','auto-fix-latex-btn','สมการราก\x20(radical)','bg-red-500','เรขาคณิตวิเคราะห์','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','removeEventListener','modal-passing-score-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-white/30','live-submit-short-answer-btn','default','num-choices','result','endTime','style','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','อนุพันธ์:\x20กฎพื้นฐาน','text/html','พื้นที่วงกลม/ส่วนของวงกลม','block','modal-timer-duration-input','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','</body></html>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','สร้างชุดคำถามจับคู่','แบบทดสอบที่ติดดาว','[contenteditable=\x22true\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','fa-shield-alt\x20text-gray-600','forEach','export-image-btn','\x5cfrac','live-short-answer-input','project-detail-view','description','results-display-select','player-count','correctResponse','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','save','การหารทศนิยม','table','student','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','back-to-dashboard-from-results-btn','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','ทฤษฎีบทพื้นฐานของแคลคูลัส','promptFeedback','user','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','quiz-leaderboard-table-container','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','การนับ','strength-weakness-analysis-container','<tr><td\x20colspan=\x22','(คัดลอก)\x20','pinned-items','border-red-700','<li\x20class=\x22','latestScore','cancel-admin-login-btn','explanation','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','lobby','จุด\x20เส้น\x20ระนาบ','เกิดข้อผิดพลาด:\x20','ลิมิต','save-quiz-btn','ownerSVGElement','student-name-select','global-quiz-search-input','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','Error\x20saving\x20settings:','/public/data/liveGames','leaderboard-tab-content','MathJax','shuffle-setting-select','left','autoTable','match','end-game-btn','text-red-700\x20bg-red-100','Error\x20deleting\x20quiz:','ฐานนิยม','editable-quiz-topic','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','add','ทฤษฎีทวินาม\x20(เบื้องต้น)','กำลังวิเคราะห์ข้อสอบ\x20\x22','ไม่สามารถเริ่มเกมได้','กราฟฟังก์ชันตรีโกณ','การแปลงรูปอัตลักษณ์','move-quiz-modal','เวกเตอร์และเมทริกซ์\x20(เสริม)','fullscreenchange','image/png','fa-bolt\x20text-blue-500','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','text/csv;charset=utf-8;','แบบทดสอบนี้หมดเวลาแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x22...','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','padStart','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20ข้อ\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','raw','จากไฟล์ที่แนบมานี้,\x20','show_results_only','.star-quiz-btn','circ','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','modal-results-display-select','จำนวนเต็มบวก','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','substring','passing-score-input','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎบวกและกฎคูณ','start-game-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','</p>','</span></p>','no-projects-msg','geq','min','move-quiz-project-select','modal-adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','removeChild','\x5cle','\x5cpm','text','confirm-quiz-status-btn','setAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','message-modal','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','.answeredCurrentQuestion','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22text\x22]','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','border-red-300\x20bg-red-50','กรุณาใส่ชื่อใหม่','Error\x20generating\x20parallel\x20test\x20from\x20bank:','Firebase\x20initialization\x20failed:','Error\x20loading\x20quiz\x20for\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเต็ม','$1\x5ctimes','กำลังดึงข้อมูลจากลิงก์...','latestSubmittedAt','podium'];_0x4003=function(){return _0x5d6b4f;};return _0x4003();}function handleAdminLogin(){const _0x159832=_0xa29d1b,_0x4fcba6=document[_0x159832(0x185)](_0x159832(0x3bd)),_0xcfed69=document[_0x159832(0x185)](_0x159832(0x395));if(_0x4fcba6['value']===_0x159832(0x3c4)){adminPasswordModal[_0x159832(0x5a6)][_0x159832(0x4d7)](_0x159832(0x6d1)),_0x4fcba6[_0x159832(0x261)]='',_0xcfed69[_0x159832(0x5a6)][_0x159832(0x4d7)](_0x159832(0x6d1)),currentMode=_0x159832(0x2e8);const _0xa3901=document['getElementById'](_0x159832(0x3c8));_0xa3901[_0x159832(0x21c)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0xa3901['title']=_0x159832(0x2ca),showView(_0x159832(0x188));}else _0xcfed69['classList'][_0x159832(0x640)](_0x159832(0x6d1)),_0x4fcba6[_0x159832(0x261)]='';}function switchProjectTab(_0x3ba191){const _0x3f1d3a=_0xa29d1b;['manage',_0x3f1d3a(0x21d),'leaderboard'][_0x3f1d3a(0x497)](_0x413996=>{const _0x742aa5=_0x3f1d3a;document[_0x742aa5(0x185)](_0x413996+_0x742aa5(0x1d6))[_0x742aa5(0x5a6)][_0x742aa5(0x640)](_0x742aa5(0x60c)),document[_0x742aa5(0x185)](_0x413996+'-tab-content')[_0x742aa5(0x5a6)]['add']('hidden');}),document[_0x3f1d3a(0x185)](_0x3ba191+_0x3f1d3a(0x1d6))[_0x3f1d3a(0x5a6)]['add'](_0x3f1d3a(0x60c)),document[_0x3f1d3a(0x185)](_0x3ba191+_0x3f1d3a(0x2b4))[_0x3f1d3a(0x5a6)]['remove'](_0x3f1d3a(0x6d1));}function switchQuizDetailTab(_0x1f7aab){const _0x321c74=_0xa29d1b,_0x443a2f={'analytics':{'btn':'analytics-tab-btn','content':_0x321c74(0x407)},'scores':{'btn':_0x321c74(0x1ee),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x321c74(0x642),'content':_0x321c74(0x5c3)}};for(const _0xeffd36 in _0x443a2f){document['getElementById'](_0x443a2f[_0xeffd36][_0x321c74(0x58f)])[_0x321c74(0x5a6)][_0x321c74(0x640)](_0x321c74(0x60c)),document[_0x321c74(0x185)](_0x443a2f[_0xeffd36][_0x321c74(0x1a6)])[_0x321c74(0x5a6)]['add'](_0x321c74(0x6d1));}document[_0x321c74(0x185)](_0x443a2f[_0x1f7aab]['btn'])[_0x321c74(0x5a6)][_0x321c74(0x4d7)](_0x321c74(0x60c)),document[_0x321c74(0x185)](_0x443a2f[_0x1f7aab]['content'])[_0x321c74(0x5a6)][_0x321c74(0x640)](_0x321c74(0x6d1));}function showMessage(_0x2465f7){const _0x102502=_0xa29d1b;modalMessage[_0x102502(0x65e)]=_0x2465f7,messageModal[_0x102502(0x5a6)][_0x102502(0x640)](_0x102502(0x6d1));}function showConfirmation(_0x4402ae,_0x144a85){const _0x3497cb=_0xa29d1b;document['getElementById']('confirmation-message')['textContent']=_0x4402ae,document[_0x3497cb(0x185)](_0x3497cb(0x1e4))[_0x3497cb(0x61b)]('h3')['textContent']=_0x3497cb(0x1b5),confirmAction=_0x144a85,confirmationModal[_0x3497cb(0x5a6)][_0x3497cb(0x640)](_0x3497cb(0x6d1));}function listenForProjects(){const _0x2e9963=_0xa29d1b,_0x3b7b76=collection(db,_0x2e9963(0x14d)+appId+_0x2e9963(0x533));unsubscribeProjectsListener=onSnapshot(_0x3b7b76,_0x1e70d9=>{const _0x2fcefd=_0x2e9963;allProjects=_0x1e70d9[_0x2fcefd(0x643)]['map'](_0x5759ff=>({'id':_0x5759ff['id'],..._0x5759ff[_0x2fcefd(0x585)]()})),renderProjects();},_0x15cc5a=>{const _0x405eee=_0x2e9963;console[_0x405eee(0x2f7)](_0x405eee(0x6a8),_0x15cc5a),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0x212103=_0xa29d1b,_0x3657a0=document[_0x212103(0x185)](_0x212103(0x414))['value'][_0x212103(0x1de)](),_0x4b443d=document[_0x212103(0x185)]('project-sort-select')[_0x212103(0x261)];let _0x66194e=allProjects[_0x212103(0x4d4)](_0x22fc3=>_0x22fc3[_0x212103(0x46f)][_0x212103(0x1de)]()[_0x212103(0x40d)](_0x3657a0));_0x66194e[_0x212103(0x5d0)]((_0x72510d,_0x465f54)=>{const _0x29c917=_0x212103;switch(_0x4b443d){case'name_asc':return _0x72510d['projectName'][_0x29c917(0x31f)](_0x465f54[_0x29c917(0x46f)],'th');case'name_desc':return _0x465f54[_0x29c917(0x46f)][_0x29c917(0x31f)](_0x72510d[_0x29c917(0x46f)],'th');case'date_asc':return new Date(_0x72510d[_0x29c917(0x554)])-new Date(_0x465f54[_0x29c917(0x554)]);case'date_desc':default:return new Date(_0x465f54[_0x29c917(0x554)])-new Date(_0x72510d[_0x29c917(0x554)]);}});const _0x51f57e={};await Promise[_0x212103(0x5f8)](_0x66194e[_0x212103(0x5b1)](async _0x4b539e=>{const _0x401eef=_0x212103,_0x39fa83=query(collection(db,_0x401eef(0x14d)+appId+'/public/data/quizzes'),where(_0x401eef(0x240),'==',_0x4b539e['id'])),_0x79e91=await getDocs(_0x39fa83);_0x51f57e[_0x4b539e['id']]=_0x79e91['size'];}));let _0x570d57='';starredQuizzes[_0x212103(0x2d0)]>0x0&&(_0x570d57+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+starredQuizzes[_0x212103(0x2d0)]+_0x212103(0x635)),_0x66194e[_0x212103(0x497)](_0xd45231=>{const _0xbc8b12=_0x212103,_0x2dc70c=_0x51f57e[_0xd45231['id']]??0x0;_0x570d57+=_0xbc8b12(0x2d4)+_0xd45231['id']+_0xbc8b12(0x5d8)+_0xd45231[_0xbc8b12(0x46f)]+_0xbc8b12(0x39d)+new Date(_0xd45231[_0xbc8b12(0x554)])['toLocaleDateString'](_0xbc8b12(0x174))+_0xbc8b12(0x21a)+_0x2dc70c+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd45231['id']+_0xbc8b12(0x573)+_0xd45231['projectName']+_0xbc8b12(0x567);}),projectList['innerHTML']=_0x570d57,noProjectsMsg[_0x212103(0x5a6)]['toggle']('hidden',_0x570d57['length']>0x0);}document[_0xa29d1b(0x185)](_0xa29d1b(0x296))[_0xa29d1b(0x581)](_0xa29d1b(0x599),async()=>{const _0x12008b=_0xa29d1b,_0x573719=document['getElementById'](_0x12008b(0x6ee)),_0x3c602d=_0x573719[_0x12008b(0x261)]['trim']();if(!_0x3c602d){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x54e10e=doc(collection(db,_0x12008b(0x14d)+appId+_0x12008b(0x533)));await setDoc(_0x54e10e,{'projectName':_0x3c602d,'students':[],'settings':{'resultsDisplay':_0x12008b(0x22b),'shuffleSetting':_0x12008b(0x543),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x12008b(0x1c8)]()}),_0x573719['value']='',createProjectModal['classList'][_0x12008b(0x4d7)](_0x12008b(0x6d1)),showMessage(_0x12008b(0x2fe));}catch(_0x423d8c){console[_0x12008b(0x2f7)](_0x12008b(0x383),_0x423d8c),showMessage(_0x12008b(0x23a));}}),projectList[_0xa29d1b(0x581)](_0xa29d1b(0x599),async _0x3c492a=>{const _0x46738c=_0xa29d1b,_0x22b62e=_0x3c492a['target'][_0x46738c(0x16f)](_0x46738c(0x46c)),_0x23cb6e=_0x3c492a['target'][_0x46738c(0x16f)]('.delete-project-btn');if(_0x22b62e){const _0xa54b75=_0x22b62e[_0x46738c(0x411)]['id'];_0xa54b75===_0x46738c(0x1fa)?showStarredProjectView():(currentProjectId=_0xa54b75,await loadProjectDetails(currentProjectId),showView(_0x46738c(0x18b)));}else{if(_0x23cb6e){const _0x3c3734=_0x23cb6e[_0x46738c(0x411)]['id'],_0x39a3cc=_0x23cb6e[_0x46738c(0x411)][_0x46738c(0x2bc)];showConfirmation(_0x46738c(0x597)+_0x39a3cc+'\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x3c3734));}}});function showStarredProjectView(){const _0x3f7cd3=_0xa29d1b;currentProjectId=_0x3f7cd3(0x6c7),currentProjectData=null,projectTitle['textContent']=_0x3f7cd3(0x493),projectIdDisplay['textContent']=_0x3f7cd3(0x4b6),showView(_0x3f7cd3(0x18b)),manageTab[_0x3f7cd3(0x5a6)][_0x3f7cd3(0x4d7)](_0x3f7cd3(0x6d1)),leaderboardTab[_0x3f7cd3(0x5a6)][_0x3f7cd3(0x4d7)](_0x3f7cd3(0x6d1)),switchProjectTab(_0x3f7cd3(0x21d)),renderQuizzes();}async function loadProjectDetails(_0x3cc30f){const _0x30462f=_0xa29d1b,_0x2858ca=doc(db,_0x30462f(0x14d)+appId+_0x30462f(0x533),_0x3cc30f),_0x3ac644=await getDoc(_0x2858ca);if(_0x3ac644[_0x30462f(0x228)]()){manageTab[_0x30462f(0x5a6)]['remove']('hidden'),leaderboardTab[_0x30462f(0x5a6)][_0x30462f(0x640)](_0x30462f(0x6d1)),currentProjectData=_0x3ac644[_0x30462f(0x585)](),projectTitle[_0x30462f(0x65e)]=currentProjectData[_0x30462f(0x46f)],projectIdDisplay[_0x30462f(0x65e)]=_0x3cc30f;const _0x402f5b=currentProjectData[_0x30462f(0x5a5)]||{};document[_0x30462f(0x185)]('num-questions')[_0x30462f(0x261)]=_0x402f5b['defaultNumQuestions']||0x5,document[_0x30462f(0x185)](_0x30462f(0x484))[_0x30462f(0x261)]=_0x402f5b[_0x30462f(0x2c2)]||0x4,document[_0x30462f(0x185)]('passing-score-input')[_0x30462f(0x261)]=_0x402f5b[_0x30462f(0x5dc)]||Math['floor']((_0x402f5b[_0x30462f(0x53c)]||0x5)/0x2),document[_0x30462f(0x185)](_0x30462f(0x4fa))[_0x30462f(0x5a0)]=_0x402f5b['defaultNumQuestions']||0x5,document[_0x30462f(0x185)](_0x30462f(0x49d))[_0x30462f(0x261)]=_0x402f5b[_0x30462f(0x669)]||_0x30462f(0x22b),document[_0x30462f(0x185)](_0x30462f(0x4cb))[_0x30462f(0x261)]=_0x402f5b['shuffleSetting']||'none';const _0x2a2a6b=_0x402f5b['timerMode']||_0x30462f(0x543),_0x5bb294=_0x402f5b[_0x30462f(0x297)]||0xa,_0x5bf44c=document[_0x30462f(0x185)]('timer-mode-select'),_0x4426b0=document[_0x30462f(0x185)]('timer-duration-container'),_0x3c392c=document[_0x30462f(0x185)](_0x30462f(0x390));_0x5bf44c['value']=_0x2a2a6b,_0x3c392c['value']=_0x5bb294;_0x2a2a6b===_0x30462f(0x543)?_0x4426b0[_0x30462f(0x5a6)][_0x30462f(0x4d7)](_0x30462f(0x6d1)):_0x4426b0['classList'][_0x30462f(0x640)](_0x30462f(0x6d1));_0x5bf44c[_0x30462f(0x2bd)](new Event(_0x30462f(0x382)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x3cc30f),listenForProjectQuizzes(_0x3cc30f),listenForStudentProfiles(_0x3cc30f);}else showMessage(_0x30462f(0x645)),showView(_0x30462f(0x188));}async function handleDeleteProject(_0x45cd50){const _0x240218=_0xa29d1b;try{const _0x4cd5ab=writeBatch(db),_0x3edb1a=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x9823cf=query(_0x3edb1a,where(_0x240218(0x240),'==',_0x45cd50)),_0x15afa5=await getDocs(_0x9823cf);for(const _0x3265db of _0x15afa5[_0x240218(0x643)]){const _0x4fd3c0=collection(db,_0x240218(0x14d)+appId+_0x240218(0x2b3)+_0x3265db['id']+_0x240218(0x35a)),_0x2dcdce=await getDocs(_0x4fd3c0);_0x2dcdce[_0x240218(0x497)](_0x19df97=>{const _0x1ebec4=_0x240218;_0x4cd5ab[_0x1ebec4(0x6f1)](_0x19df97[_0x1ebec4(0x448)]);}),_0x4cd5ab[_0x240218(0x6f1)](_0x3265db[_0x240218(0x448)]);}const _0x335d72=collection(db,_0x240218(0x14d)+appId+'/public/data/projects/'+_0x45cd50+_0x240218(0x437)),_0x48fe67=await getDocs(_0x335d72);_0x48fe67[_0x240218(0x497)](_0x30cfcc=>{const _0x23282c=_0x240218;_0x4cd5ab[_0x23282c(0x6f1)](_0x30cfcc['ref']);});const _0x42fa1c=doc(db,'artifacts/'+appId+_0x240218(0x533),_0x45cd50);_0x4cd5ab['delete'](_0x42fa1c),await _0x4cd5ab[_0x240218(0x316)](),showMessage(_0x240218(0x4f6)),showView(_0x240218(0x188));}catch(_0x400756){console[_0x240218(0x2f7)](_0x240218(0x28b),_0x400756),showMessage(_0x240218(0x310));}}document[_0xa29d1b(0x185)]('save-settings-btn')['addEventListener'](_0xa29d1b(0x599),async()=>{const _0x353202=_0xa29d1b;if(!currentProjectId)return;const _0x53b588={'defaultNumQuestions':parseInt(document[_0x353202(0x185)]('num-questions')[_0x353202(0x261)]),'defaultNumChoices':parseInt(document[_0x353202(0x185)]('num-choices')[_0x353202(0x261)]),'defaultPassingScore':parseInt(document[_0x353202(0x185)]('passing-score-input')[_0x353202(0x261)]),'resultsDisplay':document[_0x353202(0x185)](_0x353202(0x49d))[_0x353202(0x261)],'shuffleSetting':document[_0x353202(0x185)](_0x353202(0x4cb))[_0x353202(0x261)],'timerMode':document[_0x353202(0x185)]('timer-mode-select')[_0x353202(0x261)],'timerDuration':parseInt(document['getElementById'](_0x353202(0x390))[_0x353202(0x261)])};try{const _0x5bce16=doc(db,_0x353202(0x14d)+appId+_0x353202(0x533),currentProjectId);await updateDoc(_0x5bce16,{'settings':_0x53b588}),showMessage(_0x353202(0x2b1));}catch(_0x46ea45){console[_0x353202(0x2f7)](_0x353202(0x4c7),_0x46ea45),showMessage(_0x353202(0x207));}});function listenForStudents(_0x1f69be){const _0x1f4e5a=_0xa29d1b,_0x58672a=doc(db,_0x1f4e5a(0x14d)+appId+_0x1f4e5a(0x533),_0x1f69be);unsubscribeStudentsListener=onSnapshot(_0x58672a,_0x36b2a1=>{const _0x2a55b5=_0x1f4e5a;if(_0x36b2a1[_0x2a55b5(0x228)]()){const _0x5bf8f8=_0x36b2a1[_0x2a55b5(0x585)]();currentProjectData=_0x5bf8f8,renderStudentList(_0x5bf8f8[_0x2a55b5(0x34b)]||[]);}});}function renderStudentList(_0x3d26e2){const _0x4faf1c=_0xa29d1b,_0x556e5e=document['getElementById'](_0x4faf1c(0x2a3));_0x3d26e2[_0x4faf1c(0x2d0)]===0x0?(studentList[_0x4faf1c(0x21c)]=_0x4faf1c(0x2c5),_0x556e5e['classList'][_0x4faf1c(0x4d7)](_0x4faf1c(0x6d1))):(studentList[_0x4faf1c(0x21c)]=_0x3d26e2['map'](_0x5e6426=>_0x4faf1c(0x510)+_0x5e6426+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5e6426+_0x4faf1c(0x19a))[_0x4faf1c(0x1ed)](''),_0x556e5e[_0x4faf1c(0x5a6)][_0x4faf1c(0x640)](_0x4faf1c(0x6d1)));}document[_0xa29d1b(0x185)](_0xa29d1b(0x39e))[_0xa29d1b(0x581)](_0xa29d1b(0x599),async()=>{const _0x511002=_0xa29d1b;if(!currentProjectId)return;const _0x3636ac=document[_0x511002(0x185)]('student-name-input'),_0x1f04f5=_0x3636ac['value'][_0x511002(0x5cc)]();if(!_0x1f04f5){showMessage(_0x511002(0x6e0));return;}const _0x5da169=_0x1f04f5[_0x511002(0x67f)]('\x0a')[_0x511002(0x5b1)](_0x28a5a8=>_0x28a5a8['trim']())[_0x511002(0x4d4)](_0x2ac033=>_0x2ac033);if(_0x5da169[_0x511002(0x2d0)]===0x0)return;try{const _0x2138d4=doc(db,_0x511002(0x14d)+appId+_0x511002(0x533),currentProjectId),_0x3a49c2=await getDoc(_0x2138d4);if(_0x3a49c2[_0x511002(0x228)]()){const _0x45687d=_0x3a49c2['data']()[_0x511002(0x34b)]||[],_0x287297=[...new Set([..._0x45687d,..._0x5da169])];await updateDoc(_0x2138d4,{'students':_0x287297}),_0x3636ac[_0x511002(0x261)]='';}}catch(_0x2c9a16){console[_0x511002(0x2f7)](_0x511002(0x3e9),_0x2c9a16),showMessage(_0x511002(0x654));}});function handleDeleteStudent(_0x1171e8){const _0x1cd226=_0xa29d1b;showConfirmation(_0x1cd226(0x671)+_0x1171e8+_0x1cd226(0x5be),async()=>{const _0x50089a=_0x1cd226;if(!currentProjectId||!currentProjectData)return;const _0x11fd37=currentProjectData[_0x50089a(0x34b)][_0x50089a(0x4d4)](_0x2366af=>_0x2366af!==_0x1171e8);try{const _0x1ba436=doc(db,_0x50089a(0x14d)+appId+_0x50089a(0x533),currentProjectId),_0x1f5e13=doc(db,'artifacts/'+appId+_0x50089a(0x3b1)+currentProjectId+_0x50089a(0x437),_0x1171e8),_0x1d741e=writeBatch(db);_0x1d741e['update'](_0x1ba436,{'students':_0x11fd37}),_0x1d741e[_0x50089a(0x6f1)](_0x1f5e13),await _0x1d741e[_0x50089a(0x316)]();}catch(_0x517d33){console[_0x50089a(0x2f7)](_0x50089a(0x299),_0x517d33),showMessage(_0x50089a(0x5c8));}});}function handleDeleteAllStudents(){const _0x55edd8=_0xa29d1b;showConfirmation(_0x55edd8(0x693),async()=>{const _0x1e8eda=_0x55edd8;if(!currentProjectId)return;try{const _0x15e0ca=doc(db,_0x1e8eda(0x14d)+appId+_0x1e8eda(0x533),currentProjectId),_0x4bdb41=collection(db,_0x1e8eda(0x14d)+appId+'/public/data/projects/'+currentProjectId+_0x1e8eda(0x437)),_0x38ebb2=await getDocs(_0x4bdb41),_0xd6c1cf=writeBatch(db);_0xd6c1cf['update'](_0x15e0ca,{'students':[]}),_0x38ebb2[_0x1e8eda(0x497)](_0x35bdca=>_0xd6c1cf[_0x1e8eda(0x6f1)](_0x35bdca[_0x1e8eda(0x448)])),await _0xd6c1cf[_0x1e8eda(0x316)]();}catch(_0x103249){console[_0x1e8eda(0x2f7)](_0x1e8eda(0x6c9),_0x103249),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x3e0b80=_0xa29d1b;if(!selectedFile){showMessage(_0x3e0b80(0x283));return;}const _0x12d4fc=document[_0x3e0b80(0x185)](_0x3e0b80(0x2c6)),_0x1764a6=document[_0x3e0b80(0x185)](_0x3e0b80(0x322)),_0x53bcd4=document[_0x3e0b80(0x185)](_0x3e0b80(0x2e7)),_0x36ae47=document[_0x3e0b80(0x185)](_0x3e0b80(0x1ae));_0x36ae47['disabled']=!![],document['getElementById'](_0x3e0b80(0x2bb))[_0x3e0b80(0x5a6)]['remove'](_0x3e0b80(0x6d1)),_0x53bcd4[_0x3e0b80(0x21c)]='',_0x12d4fc[_0x3e0b80(0x5a6)][_0x3e0b80(0x640)](_0x3e0b80(0x6d1)),_0x1764a6[_0x3e0b80(0x65e)]=_0x3e0b80(0x60f);const _0x5686fe=new FileReader();_0x5686fe['readAsDataURL'](selectedFile),_0x5686fe[_0x3e0b80(0x5f4)]=async()=>{const _0x49ef70=_0x3e0b80;try{const _0x3a954b=_0x5686fe[_0x49ef70(0x485)]['split'](',')[0x1],_0x3428a6=selectedFile[_0x49ef70(0x157)];await generateQuizFromFile(_0x3428a6,_0x3a954b);}catch(_0x45c1ff){console[_0x49ef70(0x2f7)](_0x49ef70(0x170),_0x45c1ff),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x45c1ff[_0x49ef70(0x6aa)]),_0x12d4fc['classList'][_0x49ef70(0x4d7)]('hidden');}finally{}},_0x5686fe[_0x3e0b80(0x37e)]=_0x146ff0=>{const _0x1d085d=_0x3e0b80;console[_0x1d085d(0x2f7)](_0x1d085d(0x449),_0x146ff0),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x12d4fc[_0x1d085d(0x5a6)][_0x1d085d(0x4d7)](_0x1d085d(0x6d1)),_0x36ae47[_0x1d085d(0x16a)]=![];};}function autoFormatMath(_0x58b084){const _0x4e61bd=_0xa29d1b;if(typeof _0x58b084!=='string'||!_0x58b084)return _0x58b084;const _0x471b16=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x553339=_0x58b084[_0x4e61bd(0x160)](_0x471b16,_0x1e824d=>{const _0x14e149=_0x4e61bd;return'$'+_0x1e824d[_0x14e149(0x5cc)]()+'$';});return _0x553339;}function sanitizeQuizData(_0x5222c5){const _0x442b50=_0xa29d1b;if(!_0x5222c5||!_0x5222c5[_0x442b50(0x64e)])return _0x5222c5;const _0x2eff25={'imes':_0x442b50(0x6bf),'div':_0x442b50(0x1c6)},_0x205ca3=_0x334086=>{const _0x3f0c48=_0x442b50;if(typeof _0x334086!=='string')return _0x334086;let _0x14777a=_0x334086;for(const [_0x575a5a,_0xd3f7bb]of Object['entries'](_0x2eff25)){const _0x4179a5=new RegExp('\x5cb'+_0x575a5a+'\x5cb','g');_0x14777a=_0x14777a[_0x3f0c48(0x160)](_0x4179a5,_0xd3f7bb);}return _0x14777a=_0x14777a[_0x3f0c48(0x160)](/\\\//g,_0x3f0c48(0x1c6)),_0x14777a=_0x14777a['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x3f0c48(0x1c6))[_0x3f0c48(0x160)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x3f0c48(0x6bf))['replace'](/÷/g,_0x3f0c48(0x1c6))[_0x3f0c48(0x160)](/×/g,'\x5ctimes'),_0x14777a=_0x14777a[_0x3f0c48(0x160)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x14777a=autoFormatMath(_0x14777a),_0x14777a;};return _0x5222c5['topic']&&(_0x5222c5[_0x442b50(0x1d1)]=_0x205ca3(_0x5222c5['topic'])),_0x5222c5['questions'][_0x442b50(0x497)](_0x5eb8fc=>{const _0x17629c=_0x442b50;_0x5eb8fc[_0x17629c(0x6f2)]=_0x205ca3(_0x5eb8fc[_0x17629c(0x6f2)]),_0x5eb8fc[_0x17629c(0x186)]&&(_0x5eb8fc['options']=_0x5eb8fc[_0x17629c(0x186)][_0x17629c(0x5b1)](_0x205ca3)),_0x5eb8fc['explanation']&&(_0x5eb8fc[_0x17629c(0x4bb)]=_0x205ca3(_0x5eb8fc[_0x17629c(0x4bb)])),_0x5eb8fc[_0x17629c(0x18e)]&&(_0x5eb8fc['stem']=_0x205ca3(_0x5eb8fc['stem'])),_0x5eb8fc[_0x17629c(0x49f)]&&(_0x5eb8fc[_0x17629c(0x49f)]=_0x205ca3(_0x5eb8fc[_0x17629c(0x49f)])),_0x5eb8fc[_0x17629c(0x462)]&&(_0x5eb8fc[_0x17629c(0x462)]=_0x5eb8fc[_0x17629c(0x462)]['map'](_0x205ca3));}),_0x5222c5;}const simpleMathPrompt=_0xa29d1b(0x2ae);async function handleGenerateFromLink(){const _0x15f297=_0xa29d1b,_0x5f41c7=document[_0x15f297(0x185)](_0x15f297(0x2d5)),_0x415fc7=document['getElementById']('link-topic-input'),_0x37d0bc=_0x5f41c7[_0x15f297(0x261)]['trim'](),_0x3dd02a=_0x415fc7['value']['trim']();if(!_0x37d0bc){showMessage(_0x15f297(0x5ed));return;}const _0x3a85eb=document[_0x15f297(0x185)]('loader'),_0x503660=document[_0x15f297(0x185)](_0x15f297(0x322)),_0x7cb204=document[_0x15f297(0x185)]('generated-quiz-container'),_0x35850e=document[_0x15f297(0x185)](_0x15f297(0x5e7));document['getElementById'](_0x15f297(0x2bb))['classList'][_0x15f297(0x640)](_0x15f297(0x6d1)),_0x7cb204[_0x15f297(0x21c)]='',_0x3a85eb[_0x15f297(0x5a6)][_0x15f297(0x640)](_0x15f297(0x6d1)),_0x503660[_0x15f297(0x65e)]=_0x15f297(0x521),_0x35850e[_0x15f297(0x16a)]=!![];try{const _0x274403=_0x15f297(0x29d)+encodeURIComponent(_0x37d0bc),_0x4ef720=await fetch(_0x274403);if(!_0x4ef720['ok'])throw new Error(_0x15f297(0x560)+_0x4ef720[_0x15f297(0x1f6)]+')');const _0x3410d2=await _0x4ef720[_0x15f297(0x50d)](),_0x5e4462=extractTextFromHtml(_0x3410d2);if(!_0x5e4462||_0x5e4462['length']<0x64)throw new Error(_0x15f297(0x370));await generateQuiz(_0x3dd02a,_0x5e4462);}catch(_0x516f39){console[_0x15f297(0x2f7)](_0x15f297(0x570),_0x516f39),showMessage(_0x15f297(0x4c0)+_0x516f39[_0x15f297(0x6aa)]),_0x7cb204[_0x15f297(0x21c)]=_0x15f297(0x598);}finally{_0x3a85eb[_0x15f297(0x5a6)][_0x15f297(0x4d7)](_0x15f297(0x6d1)),_0x35850e[_0x15f297(0x16a)]=![];}}function extractTextFromHtml(_0x1a0f6f){const _0x30a8aa=_0xa29d1b,_0x261bdf=new DOMParser()[_0x30a8aa(0x52d)](_0x1a0f6f,_0x30a8aa(0x48a));return _0x261bdf[_0x30a8aa(0x620)](_0x30a8aa(0x2e3))['forEach'](_0x2c658b=>_0x2c658b['remove']()),_0x261bdf[_0x30a8aa(0x5c7)]['textContent']||'';}document[_0xa29d1b(0x185)](_0xa29d1b(0x2ce))['addEventListener'](_0xa29d1b(0x599),()=>{const _0x12a8b2=_0xa29d1b,_0x4ba236=document[_0x12a8b2(0x185)](_0x12a8b2(0x5eb))[_0x12a8b2(0x261)][_0x12a8b2(0x5cc)]();generateQuiz(_0x4ba236,null);});async function generateQuiz(_0x2bcf71,_0x5e9e78,_0x1b2ef1=null){const _0x2c1e4c=_0xa29d1b,_0x15a476=document[_0x2c1e4c(0x185)](_0x2c1e4c(0x587))['checked'],_0x2a7afe=document[_0x2c1e4c(0x185)](_0x2c1e4c(0x275))[_0x2c1e4c(0x261)],_0x1bf961=document[_0x2c1e4c(0x185)](_0x2c1e4c(0x65f))[_0x2c1e4c(0x261)],_0x28dba6=document[_0x2c1e4c(0x185)](_0x2c1e4c(0x484))['value'],_0x3f7051=document[_0x2c1e4c(0x185)]('force-math-checkbox')[_0x2c1e4c(0x67b)],_0x27089d=_0x3f7051?'':_0x2c1e4c(0x547),_0x4df7cb=document[_0x2c1e4c(0x185)]('difficulty-level-select'),_0x2f9a8d=_0x4df7cb[_0x2c1e4c(0x261)];let _0x55cc6f='';_0x2f9a8d!==_0x2c1e4c(0x2bf)&&(_0x55cc6f=_0x2c1e4c(0x687)+_0x2f9a8d+'\x22');const _0x21e11c=document[_0x2c1e4c(0x185)](_0x2c1e4c(0x532)),_0x45313c=_0x21e11c[_0x2c1e4c(0x261)];let _0x530d0c='';_0x45313c!=='mixed'&&(_0x530d0c='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x45313c+_0x2c1e4c(0x4c6));const _0x5d9063=document[_0x2c1e4c(0x620)]('#math-topics-checkbox-container\x20input:checked'),_0x59a3b6=Array['from'](_0x5d9063)[_0x2c1e4c(0x5b1)](_0x113b57=>_0x113b57[_0x2c1e4c(0x261)]);let _0xee29d1='';_0x59a3b6[_0x2c1e4c(0x2d0)]>0x0&&(_0xee29d1=_0x2c1e4c(0x287)+_0x59a3b6[_0x2c1e4c(0x1ed)](',\x20')+_0x2c1e4c(0x264));let _0x1b91ea='',_0x192440='',_0x56b62d,_0x1d04a=_0x2c1e4c(0x232)+_0x2bcf71+'\x22';if(!_0x2bcf71&&_0x5e9e78)_0x1d04a=_0x2c1e4c(0x652);else!_0x2bcf71&&!_0x5e9e78&&(_0x1d04a=_0x2c1e4c(0x583));const _0x37846e={'type':_0x2c1e4c(0x5b3),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2c1e4c(0x6d3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c1e4c(0x1f1)},'explanation':{'type':_0x2c1e4c(0x3c3)},'imageCode':{'type':'STRING'}},'required':[_0x2c1e4c(0x6f2),_0x2c1e4c(0x186),_0x2c1e4c(0x6c3),_0x2c1e4c(0x4bb)]},_0x301fb7={'type':'OBJECT','properties':{'questionText':{'type':_0x2c1e4c(0x3c3)},'idealAnswer':{'type':_0x2c1e4c(0x3c3)},'explanation':{'type':_0x2c1e4c(0x3c3)},'imageCode':{'type':_0x2c1e4c(0x3c3)}},'required':[_0x2c1e4c(0x6f2),_0x2c1e4c(0x217),_0x2c1e4c(0x4bb)]},_0x53583b={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2c1e4c(0x3c3),'enum':[_0x2c1e4c(0x145),_0x2c1e4c(0x3ba)]},'options':{'type':'ARRAY','items':{'type':_0x2c1e4c(0x3c3)}},'correctAnswerIndex':{'type':_0x2c1e4c(0x1f1)},'idealAnswer':{'type':_0x2c1e4c(0x3c3)},'explanation':{'type':_0x2c1e4c(0x3c3)},'imageCode':{'type':_0x2c1e4c(0x3c3)}},'required':[_0x2c1e4c(0x6f2),_0x2c1e4c(0x1f0),'explanation']},_0x5ae9f0={'type':'OBJECT','properties':{'questionText':{'type':_0x2c1e4c(0x3c3)},'correctAnswer':{'type':_0x2c1e4c(0x558)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c1e4c(0x3c3)}},'required':[_0x2c1e4c(0x6f2),_0x2c1e4c(0x5d7),_0x2c1e4c(0x4bb)]},_0x2d9fbf={'type':_0x2c1e4c(0x5b3),'properties':{'questionType':{'type':_0x2c1e4c(0x3c3),'enum':['matching_item']},'stem':{'type':_0x2c1e4c(0x3c3)},'correctResponse':{'type':_0x2c1e4c(0x3c3)},'allResponses':{'type':_0x2c1e4c(0x6d3),'items':{'type':_0x2c1e4c(0x3c3)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c1e4c(0x3c3)}},'required':[_0x2c1e4c(0x1f0),_0x2c1e4c(0x18e),_0x2c1e4c(0x49f),_0x2c1e4c(0x462),_0x2c1e4c(0x4bb)]};let _0x3e66ec;if(_0x1b2ef1!==null){const _0x1582dd=currentQuizData[_0x2c1e4c(0x64e)][_0x1b2ef1][_0x2c1e4c(0x1f0)],_0x44812b=_0x15a476?_0x2c1e4c(0x665):'';_0x1b91ea=_0x2c1e4c(0x3a9)+_0x1d04a+'\x20'+_0xee29d1+'\x20'+_0x55cc6f+_0x2c1e4c(0x515)+_0x44812b+'\x20'+simpleMathPrompt;if(_0x1582dd==='multiple_choice')_0x56b62d=_0x37846e;else{if(_0x1582dd===_0x2c1e4c(0x362))_0x56b62d={'type':'OBJECT','properties':{'questionType':{'type':_0x2c1e4c(0x3c3),'enum':[_0x2c1e4c(0x362)]},'stem':{'type':_0x2c1e4c(0x3c3)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x2c1e4c(0x3c3)},'imageCode':{'type':_0x2c1e4c(0x3c3)}},'required':[_0x2c1e4c(0x1f0),'stem',_0x2c1e4c(0x49f),'explanation']};else _0x56b62d=_0x301fb7;}_0x3e66ec=_0x56b62d;}else{const _0x5d7ade=_0x15a476?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x2a7afe){case _0x2c1e4c(0x145):_0x1b91ea='สร้างแบบทดสอบปรนัย'+_0x27089d+'\x20'+_0x1bf961+_0x2c1e4c(0x4eb)+_0x1d04a+'\x20'+_0xee29d1+'\x20'+_0x55cc6f+'\x20'+_0x530d0c+_0x2c1e4c(0x26a)+_0x28dba6+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5d7ade+'\x20'+simpleMathPrompt,_0x56b62d=_0x37846e;break;case _0x2c1e4c(0x1ec):_0x1b91ea=_0x2c1e4c(0x2e6)+_0x27089d+'\x20'+_0x1bf961+_0x2c1e4c(0x4eb)+_0x1d04a+'\x20'+_0xee29d1+'\x20'+_0x55cc6f+'\x20'+_0x530d0c+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x28dba6+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5d7ade+'\x20'+simpleMathPrompt,_0x56b62d=_0x37846e;break;case _0x2c1e4c(0x25f):_0x1b91ea=_0x2c1e4c(0x2e6)+_0x27089d+'\x20'+_0x1bf961+_0x2c1e4c(0x4eb)+_0x1d04a+'\x20'+_0xee29d1+'\x20'+_0x55cc6f+'\x20'+_0x530d0c+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5d7ade+'\x20'+simpleMathPrompt,_0x56b62d=_0x301fb7;break;case _0x2c1e4c(0x3d6):_0x1b91ea=_0x2c1e4c(0x2c3)+_0x27089d+'\x20'+_0x1bf961+'\x20ข้อ\x20'+_0x1d04a+'\x20'+_0xee29d1+'\x20'+_0x55cc6f+'\x20'+_0x530d0c+_0x2c1e4c(0x6e4)+_0x28dba6+'\x20ตัวเลือก.\x20'+_0x5d7ade+'\x20'+simpleMathPrompt+'.',_0x56b62d=_0x53583b;break;case _0x2c1e4c(0x1c4):_0x1b91ea=_0x2c1e4c(0x5dd)+_0x27089d+'\x20'+_0x1bf961+_0x2c1e4c(0x4eb)+_0x1d04a+'\x20'+_0xee29d1+'\x20'+_0x55cc6f+'\x20'+_0x530d0c+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x5d7ade+'\x20'+simpleMathPrompt,_0x56b62d=_0x5ae9f0;break;case _0x2c1e4c(0x55c):_0x1b91ea='สร้างชุดคำถามจับคู่'+_0x27089d+'\x20'+_0x1bf961+'\x20คู่\x20'+_0x1d04a+'\x20'+_0xee29d1+'\x20'+_0x55cc6f+'\x20'+_0x530d0c+_0x2c1e4c(0x151)+_0x5d7ade+'\x20'+simpleMathPrompt,_0x56b62d=_0x2d9fbf;break;}_0x3e66ec={'type':_0x2c1e4c(0x5b3),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2c1e4c(0x6d3),'items':_0x56b62d}},'required':[_0x2c1e4c(0x1d1),'questions']};}return _0x5e9e78?(_0x1b91ea='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x5e9e78+'\x22,\x20'+_0x1b91ea,_0x192440='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x192440=_0x2c1e4c(0x298),handleApiCall(_0x1b91ea,_0x192440,_0x3e66ec,_0x1b2ef1);}async function generateQuizFromFile(_0xbe7ba6,_0x582a88){const _0x3f3592=_0xa29d1b,_0x211a63=document[_0x3f3592(0x185)](_0x3f3592(0x534))[_0x3f3592(0x261)][_0x3f3592(0x5cc)](),_0x2b400c=document[_0x3f3592(0x185)]('quiz-type-select')[_0x3f3592(0x261)],_0x5431da=document[_0x3f3592(0x185)](_0x3f3592(0x65f))[_0x3f3592(0x261)],_0xd67adb=document[_0x3f3592(0x185)](_0x3f3592(0x484))['value'],_0x340545=document[_0x3f3592(0x185)]('include-images-checkbox')[_0x3f3592(0x67b)],_0x4a9de4=document['getElementById'](_0x3f3592(0x471))[_0x3f3592(0x67b)],_0x39cd98=_0x4a9de4?'':_0x3f3592(0x547);let _0x26d6f2='',_0x5ab715,_0x169779='เกี่ยวกับหัวข้อ\x20\x22'+_0x211a63+'\x22';!_0x211a63&&(_0x169779=_0x3f3592(0x68e));const _0x2a7bd4=_0x340545?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x2b400c){case _0x3f3592(0x145):_0x26d6f2=_0x3f3592(0x2b0)+_0x39cd98+'\x20'+_0x5431da+_0x3f3592(0x4eb)+_0x169779+'.\x20แต่ละข้อมี\x20'+_0xd67adb+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2a7bd4+'\x20'+simpleMathPrompt,_0x5ab715={'type':_0x3f3592(0x5b3),'properties':{'questionText':{'type':_0x3f3592(0x3c3)},'options':{'type':_0x3f3592(0x6d3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3f3592(0x3c3)},'imageCode':{'type':_0x3f3592(0x3c3)}},'required':[_0x3f3592(0x6f2),'options',_0x3f3592(0x6c3),'explanation']};break;case'fill_in_with_choices':_0x26d6f2=_0x3f3592(0x2e6)+_0x39cd98+'\x20'+_0x5431da+_0x3f3592(0x4eb)+_0x169779+_0x3f3592(0x367)+_0xd67adb+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2a7bd4+'\x20'+simpleMathPrompt,_0x5ab715={'type':'OBJECT','properties':{'questionText':{'type':_0x3f3592(0x3c3)},'options':{'type':_0x3f3592(0x6d3),'items':{'type':_0x3f3592(0x3c3)}},'correctAnswerIndex':{'type':_0x3f3592(0x1f1)},'explanation':{'type':_0x3f3592(0x3c3)},'imageCode':{'type':_0x3f3592(0x3c3)}},'required':[_0x3f3592(0x6f2),_0x3f3592(0x186),_0x3f3592(0x6c3),_0x3f3592(0x4bb)]};break;case _0x3f3592(0x25f):_0x26d6f2=_0x3f3592(0x2e6)+_0x39cd98+'\x20'+_0x5431da+'\x20ข้อ\x20'+_0x169779+_0x3f3592(0x1bd)+_0x2a7bd4+'\x20'+simpleMathPrompt,_0x5ab715={'type':_0x3f3592(0x5b3),'properties':{'questionText':{'type':_0x3f3592(0x3c3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3f3592(0x3c3)},'imageCode':{'type':'STRING'}},'required':[_0x3f3592(0x6f2),'idealAnswer','explanation']};break;case'mixed':_0x26d6f2=_0x3f3592(0x2c3)+_0x39cd98+'\x20'+_0x5431da+_0x3f3592(0x4eb)+_0x169779+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0xd67adb+_0x3f3592(0x396)+_0x2a7bd4+'\x20'+simpleMathPrompt+_0x3f3592(0x2d3),_0x5ab715={'type':_0x3f3592(0x5b3),'properties':{'questionText':{'type':_0x3f3592(0x3c3)},'questionType':{'type':_0x3f3592(0x3c3),'enum':[_0x3f3592(0x145),_0x3f3592(0x3ba)]},'options':{'type':_0x3f3592(0x6d3),'items':{'type':_0x3f3592(0x3c3)}},'correctAnswerIndex':{'type':_0x3f3592(0x1f1)},'idealAnswer':{'type':_0x3f3592(0x3c3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3f3592(0x3c3)}},'required':[_0x3f3592(0x6f2),'questionType',_0x3f3592(0x4bb)]};break;case _0x3f3592(0x1c4):_0x26d6f2=_0x3f3592(0x5dd)+_0x39cd98+'\x20'+_0x5431da+'\x20ข้อ\x20'+_0x169779+_0x3f3592(0x286)+_0x2a7bd4+'\x20'+simpleMathPrompt,_0x5ab715={'type':_0x3f3592(0x5b3),'properties':{'questionText':{'type':_0x3f3592(0x3c3)},'correctAnswer':{'type':_0x3f3592(0x558)},'explanation':{'type':_0x3f3592(0x3c3)},'imageCode':{'type':_0x3f3592(0x3c3)}},'required':['questionText',_0x3f3592(0x5d7),_0x3f3592(0x4bb)]};break;case _0x3f3592(0x55c):_0x26d6f2=_0x3f3592(0x492)+_0x39cd98+'\x20'+_0x5431da+_0x3f3592(0x637)+_0x169779+_0x3f3592(0x260)+_0x5431da+_0x3f3592(0x6da)+_0x2a7bd4+'\x20'+simpleMathPrompt,_0x5ab715={'type':_0x3f3592(0x5b3),'properties':{'questionType':{'type':_0x3f3592(0x3c3),'enum':[_0x3f3592(0x362)]},'stem':{'type':_0x3f3592(0x3c3)},'correctResponse':{'type':_0x3f3592(0x3c3)},'allResponses':{'type':_0x3f3592(0x6d3),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3f3592(0x3c3)}},'required':[_0x3f3592(0x1f0),'stem',_0x3f3592(0x49f),'allResponses',_0x3f3592(0x4bb)]};break;}const _0x4d1505={'type':_0x3f3592(0x5b3),'properties':{'topic':{'type':_0x3f3592(0x3c3)},'questions':{'type':_0x3f3592(0x6d3),'items':_0x5ab715}},'required':[_0x3f3592(0x1d1),_0x3f3592(0x64e)]},_0x53fe25=_0x3f3592(0x4ef)+_0x26d6f2,_0x4ca2c8={'contents':[{'parts':[{'text':_0x53fe25},{'inlineData':{'mimeType':_0xbe7ba6,'data':_0x582a88}}]}],'generationConfig':{'responseMimeType':_0x3f3592(0x42e),'responseSchema':_0x4d1505}};return handleApiCall(_0x4ca2c8[_0x3f3592(0x3ae)][0x0][_0x3f3592(0x2c4)],_0x3f3592(0x2ad),_0x4d1505);}async function handleApiCall(_0x42e474,_0x315d52,_0x3b2b09,_0x30611d=null){const _0xbb623a=_0xa29d1b,_0x1c5597=document[_0xbb623a(0x185)](_0xbb623a(0x2bb)),_0x29ca4a=document[_0xbb623a(0x185)](_0xbb623a(0x2c6)),_0x11ca58=document[_0xbb623a(0x185)](_0xbb623a(0x322)),_0x1889c1=document[_0xbb623a(0x185)](_0xbb623a(0x2e7));_0x1c5597[_0xbb623a(0x5a6)][_0xbb623a(0x640)]('hidden');_0x30611d===null&&(_0x1889c1[_0xbb623a(0x21c)]='');_0x29ca4a[_0xbb623a(0x5a6)][_0xbb623a(0x640)](_0xbb623a(0x6d1)),_0x11ca58[_0xbb623a(0x65e)]=_0x315d52,document[_0xbb623a(0x185)](_0xbb623a(0x2ce))[_0xbb623a(0x16a)]=!![],document[_0xbb623a(0x185)]('generate-from-text-btn')[_0xbb623a(0x16a)]=!![],document[_0xbb623a(0x185)](_0xbb623a(0x5e7))[_0xbb623a(0x16a)]=!![];try{const _0x41f8d5={'responseMimeType':_0xbb623a(0x42e),'responseSchema':_0x3b2b09},_0x1418b3=Array[_0xbb623a(0x332)](_0x42e474)?_0x42e474:[{'text':_0x42e474}],_0x521995={'contents':[{'role':_0xbb623a(0x4ac),'parts':_0x1418b3}],'generationConfig':_0x41f8d5},_0xa7d97b=_0xbb623a(0x200),_0x26453e=_0xbb623a(0x1e3)+_0xa7d97b,_0x15e3d6=await fetch(_0x26453e,{'method':'POST','headers':{'Content-Type':_0xbb623a(0x42e)},'body':JSON['stringify'](_0x521995)});if(!_0x15e3d6['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x15e3d6['status']);const _0x2aa1ae=await _0x15e3d6[_0xbb623a(0x1e5)]();if(_0x2aa1ae[_0xbb623a(0x273)]?.[0x0]?.[_0xbb623a(0x1a6)]?.[_0xbb623a(0x2c4)]?.[0x0]){let _0x568004=_0x2aa1ae['candidates'][0x0][_0xbb623a(0x1a6)][_0xbb623a(0x2c4)][0x0][_0xbb623a(0x50d)],_0x1460f1;try{if(_0x568004['startsWith'](_0xbb623a(0x6a7)))_0x568004=_0x568004[_0xbb623a(0x4f9)](0x7,_0x568004[_0xbb623a(0x2d0)]-0x3)[_0xbb623a(0x5cc)]();else _0x568004['startsWith'](_0xbb623a(0x6bc))&&(_0x568004=_0x568004[_0xbb623a(0x4f9)](0x3,_0x568004['length']-0x3)[_0xbb623a(0x5cc)]());_0x1460f1=JSON[_0xbb623a(0x4a0)](_0x568004);}catch(_0x27ea00){console[_0xbb623a(0x2f7)](_0xbb623a(0x605),_0x27ea00,_0x568004);throw new Error(_0xbb623a(0x453));}if(_0x30611d!==null){if(_0x1460f1[_0xbb623a(0x1f0)]==='matching_item'){const _0x2706f4=currentQuizData[_0xbb623a(0x64e)][_0xbb623a(0x5b1)](_0x40a7ec=>_0x40a7ec[_0xbb623a(0x49f)]);_0x1460f1[_0xbb623a(0x462)]=_0x2706f4;const _0x4676a5=currentQuizData[_0xbb623a(0x64e)][_0x30611d]['correctResponse'],_0x3844d1=_0x2706f4['indexOf'](_0x4676a5);_0x3844d1>-0x1&&(_0x2706f4[_0x3844d1]=_0x1460f1[_0xbb623a(0x49f)]),currentQuizData[_0xbb623a(0x64e)]['forEach'](_0x44f27f=>{const _0x9b286d=_0xbb623a;if(_0x44f27f[_0x9b286d(0x1f0)]===_0x9b286d(0x362))_0x44f27f[_0x9b286d(0x462)]=_0x2706f4;});}currentQuizData[_0xbb623a(0x64e)][_0x30611d]=_0x1460f1,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x1460f1;const _0x153338=document['getElementById']('quiz-type-select')['value'];currentQuizData[_0xbb623a(0x40b)]=_0x153338,currentQuizData[_0xbb623a(0x64e)]&&currentQuizData['questions'][_0xbb623a(0x497)](_0x21b3b2=>{const _0x5e202f=_0xbb623a;if(!_0x21b3b2[_0x5e202f(0x1f0)]){if(_0x153338===_0x5e202f(0x1ec))_0x21b3b2[_0x5e202f(0x1f0)]=_0x5e202f(0x145);else _0x153338===_0x5e202f(0x25f)?_0x21b3b2[_0x5e202f(0x1f0)]='short_answer':_0x21b3b2[_0x5e202f(0x1f0)]=_0x153338;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0xbb623a(0x2f6),JSON[_0xbb623a(0x56e)](_0x2aa1ae));throw new Error(_0xbb623a(0x453));}}catch(_0x1f620f){console[_0xbb623a(0x2f7)](_0xbb623a(0x428),_0x1f620f),showMessage(_0xbb623a(0x1c9)),_0x30611d===null&&(_0x1889c1[_0xbb623a(0x21c)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x29ca4a['classList'][_0xbb623a(0x4d7)](_0xbb623a(0x6d1)),document[_0xbb623a(0x185)]('generate-from-topic-btn')[_0xbb623a(0x16a)]=![],document[_0xbb623a(0x185)](_0xbb623a(0x16b))[_0xbb623a(0x16a)]=![],document[_0xbb623a(0x185)]('generate-from-link-btn')[_0xbb623a(0x16a)]=![];const _0x18f96f=document[_0xbb623a(0x185)](_0xbb623a(0x1ae));_0x18f96f&&(_0x18f96f['disabled']=![]);}}function displayGeneratedQuiz(_0x2600e3){const _0xd0ae64=_0xa29d1b,_0x2cdf13=document[_0xd0ae64(0x185)](_0xd0ae64(0x2e7));let _0x265eff=_0xd0ae64(0x345)+_0x2600e3[_0xd0ae64(0x1d1)]+_0xd0ae64(0x32e);_0x2600e3[_0xd0ae64(0x64e)]['forEach']((_0x329dd9,_0x4d249a)=>{const _0x3a4659=_0xd0ae64,_0x3e5472=_0x329dd9[_0x3a4659(0x1f0)]||_0x2600e3[_0x3a4659(0x40b)];_0x265eff+=_0x3a4659(0x3bb)+_0x4d249a+_0x3a4659(0x684)+_0x4d249a+_0x3a4659(0x56a)+_0x4d249a+_0x3a4659(0x336);switch(_0x3e5472){case _0x3a4659(0x362):_0x265eff+=_0x3a4659(0x324)+_0x4d249a+'\x22>'+(_0x4d249a+0x1)+'.\x20'+_0x329dd9[_0x3a4659(0x18e)]+_0x3a4659(0x500);_0x329dd9[_0x3a4659(0x270)]&&(_0x265eff+=_0x3a4659(0x611)+_0x4d249a+_0x3a4659(0x262)+_0x329dd9[_0x3a4659(0x270)]+'</div>');_0x265eff+=_0x3a4659(0x27f)+_0x4d249a+'\x22>'+_0x329dd9['correctResponse']+'</span></div>',_0x265eff+=_0x3a4659(0x53a)+_0x4d249a+'\x22>'+_0x329dd9[_0x3a4659(0x4bb)]+_0x3a4659(0x16e);break;case _0x3a4659(0x3ba):_0x265eff+=_0x3a4659(0x324)+_0x4d249a+'\x22>'+(_0x4d249a+0x1)+'.\x20'+_0x329dd9[_0x3a4659(0x6f2)]+'</p>';_0x329dd9[_0x3a4659(0x270)]&&(_0x265eff+=_0x3a4659(0x611)+_0x4d249a+_0x3a4659(0x262)+_0x329dd9['imageCode']+'</div>');_0x265eff+=_0x3a4659(0x6e2)+_0x4d249a+'\x22>'+_0x329dd9['idealAnswer']+_0x3a4659(0x16e),_0x265eff+=_0x3a4659(0x53a)+_0x4d249a+'\x22>'+_0x329dd9[_0x3a4659(0x4bb)]+_0x3a4659(0x16e);break;case _0x3a4659(0x1c4):_0x265eff+=_0x3a4659(0x324)+_0x4d249a+'\x22>'+(_0x4d249a+0x1)+'.\x20'+_0x329dd9[_0x3a4659(0x6f2)]+'</p>';_0x329dd9[_0x3a4659(0x270)]&&(_0x265eff+=_0x3a4659(0x611)+_0x4d249a+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x329dd9[_0x3a4659(0x270)]+'</div>');_0x265eff+=_0x3a4659(0x254)+(_0x329dd9['correctAnswer']===!![]?_0x3a4659(0x542):'')+_0x3a4659(0x62c)+(_0x329dd9[_0x3a4659(0x5d7)]===![]?'text-green-600\x20font-bold':'')+_0x3a4659(0x1a2),_0x265eff+=_0x3a4659(0x53a)+_0x4d249a+'\x22>'+_0x329dd9[_0x3a4659(0x4bb)]+_0x3a4659(0x16e);break;case _0x3a4659(0x2a0):case'multiple_choice':default:_0x265eff+=_0x3a4659(0x324)+_0x4d249a+'\x22>'+(_0x4d249a+0x1)+'.\x20'+_0x329dd9[_0x3a4659(0x6f2)]+_0x3a4659(0x500);_0x329dd9[_0x3a4659(0x270)]&&(_0x265eff+=_0x3a4659(0x611)+_0x4d249a+_0x3a4659(0x262)+_0x329dd9[_0x3a4659(0x270)]+_0x3a4659(0x3f8));_0x265eff+=_0x3a4659(0x5e0)+_0x4d249a+_0x3a4659(0x184)+_0x329dd9['options'][_0x3a4659(0x5b1)]((_0x553de2,_0x1c4be4)=>_0x3a4659(0x4b8)+(_0x1c4be4===_0x329dd9[_0x3a4659(0x6c3)]?_0x3a4659(0x542):'')+'\x22>'+_0x553de2+'</li>')[_0x3a4659(0x1ed)]('')+_0x3a4659(0x508),_0x265eff+=_0x3a4659(0x53a)+_0x4d249a+'\x22>'+_0x329dd9['explanation']+_0x3a4659(0x16e);break;}_0x265eff+='</div>';}),_0x265eff+=_0xd0ae64(0x417),_0x2cdf13[_0xd0ae64(0x21c)]=_0x265eff,document[_0xd0ae64(0x620)]('.edit-question-btn')[_0xd0ae64(0x497)](_0x474d9f=>_0x474d9f[_0xd0ae64(0x581)](_0xd0ae64(0x599),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0xd0ae64(0x497)](_0x59961d=>_0x59961d['addEventListener'](_0xd0ae64(0x599),handleRegenerateQuestion)),document[_0xd0ae64(0x620)](_0xd0ae64(0x41e))[_0xd0ae64(0x497)](_0x5f40a6=>_0x5f40a6[_0xd0ae64(0x581)](_0xd0ae64(0x599),handleSaveToBank)),document['getElementById']('save-quiz-btn')['addEventListener'](_0xd0ae64(0x599),saveQuiz);if(window[_0xd0ae64(0x4ca)])window[_0xd0ae64(0x4ca)][_0xd0ae64(0x34c)]([_0x2cdf13]);}function handleRegenerateQuestion(_0x5a5c31){const _0x11b67a=_0xa29d1b,_0x95aa26=_0x5a5c31[_0x11b67a(0x43a)][_0x11b67a(0x411)][_0x11b67a(0x6bb)],_0x25f946=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x95aa26)+0x1)+_0x11b67a(0x6b2)),generateQuiz(_0x25f946,null,parseInt(_0x95aa26));}function getPointerPosition(_0x740fce,_0x219447){const _0x480922=_0xa29d1b,_0xac1077=_0x740fce[_0x480922(0x65c)]();let _0x401bbf,_0x1bedad;return _0x219447['touches']&&_0x219447[_0x480922(0x5c4)]['length']>0x0?(_0x401bbf=_0x219447[_0x480922(0x5c4)][0x0]['clientX'],_0x1bedad=_0x219447[_0x480922(0x5c4)][0x0][_0x480922(0x590)]):(_0x401bbf=_0x219447['clientX'],_0x1bedad=_0x219447['clientY']),{'x':(_0x401bbf-_0xac1077['e'])/_0xac1077['a'],'y':(_0x1bedad-_0xac1077['f'])/_0xac1077['d']};}function startDrag(_0x5e316e){const _0x1dd151=_0xa29d1b;_0x5e316e[_0x1dd151(0x157)]===_0x1dd151(0x20a)&&_0x5e316e['preventDefault']();const _0x1498f2=_0x5e316e['target'][_0x1dd151(0x16f)](_0x1dd151(0x28d));if(_0x1498f2){draggedSvgElement=_0x1498f2;const _0x4b8d46=draggedSvgElement['ownerSVGElement'],_0x596507=getPointerPosition(_0x4b8d46,_0x5e316e);svgOffset['x']=_0x596507['x']-parseFloat(draggedSvgElement[_0x1dd151(0x5fc)](null,'x')),svgOffset['y']=_0x596507['y']-parseFloat(draggedSvgElement[_0x1dd151(0x5fc)](null,'y'));}}function drag(_0x316322){const _0x24acde=_0xa29d1b;if(draggedSvgElement){_0x316322[_0x24acde(0x59d)]();const _0x5b058b=draggedSvgElement[_0x24acde(0x4c3)],_0x4bb2b3=getPointerPosition(_0x5b058b,_0x316322),_0x2a3ed9=_0x5b058b[_0x24acde(0x445)][_0x24acde(0x46a)];let _0x116cf9=_0x4bb2b3['x']-svgOffset['x'],_0x3644e8=_0x4bb2b3['y']-svgOffset['y'];const _0x1c011d=draggedSvgElement['getBBox']();_0x116cf9=Math[_0x24acde(0x5a0)](_0x2a3ed9['x'],Math[_0x24acde(0x504)](_0x116cf9,_0x2a3ed9['x']+_0x2a3ed9[_0x24acde(0x5a2)]-_0x1c011d[_0x24acde(0x5a2)])),_0x3644e8=Math[_0x24acde(0x5a0)](_0x2a3ed9['y'],Math[_0x24acde(0x504)](_0x3644e8,_0x2a3ed9['y']+_0x2a3ed9[_0x24acde(0x439)]-_0x1c011d[_0x24acde(0x439)])),draggedSvgElement[_0x24acde(0x50f)](null,'x',_0x116cf9),draggedSvgElement[_0x24acde(0x50f)](null,'y',_0x3644e8);}}function endDrag(_0x2676cf){draggedSvgElement=null;}function handleSvgEditClick(_0x5b4391){const _0x19cb7a=_0xa29d1b;if(_0x5b4391[_0x19cb7a(0x6dd)][_0x19cb7a(0x5a6)][_0x19cb7a(0x45c)](_0x19cb7a(0x57e))){const _0x47729e=_0x5b4391[_0x19cb7a(0x6dd)]['dataset'][_0x19cb7a(0x61e)],_0x1bb6c1=_0x5b4391[_0x19cb7a(0x43a)],_0x2fa573=_0x1bb6c1['querySelector']('#'+_0x47729e);_0x2fa573&&_0x2fa573[_0x19cb7a(0x640)](),_0x5b4391[_0x19cb7a(0x6dd)][_0x19cb7a(0x640)]();}}function handleEditQuestion(_0x1085c2){const _0x448a32=_0xa29d1b,_0x1281ac=_0x1085c2['currentTarget'],_0x2743a3=_0x1281ac[_0x448a32(0x411)]['index'],_0x14b58b=currentQuizData[_0x448a32(0x64e)][_0x2743a3],_0x345cc5=document[_0x448a32(0x185)](_0x448a32(0x230)+_0x2743a3),_0x534b63=document['getElementById'](_0x448a32(0x63b)+_0x2743a3),_0x1ce718=document[_0x448a32(0x185)](_0x448a32(0x588)+_0x2743a3);if(_0x1281ac[_0x448a32(0x21c)][_0x448a32(0x40d)](_0x448a32(0x32d))){_0x1281ac[_0x448a32(0x21c)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x1281ac[_0x448a32(0x25c)]='บันทึกการแก้ไข';if(_0x345cc5)_0x345cc5[_0x448a32(0x616)]=!![];if(_0x534b63)_0x534b63['contentEditable']=!![];if(_0x1ce718){const _0x5752f7=_0x1ce718[_0x448a32(0x61b)](_0x448a32(0x649));if(_0x5752f7){const _0x2eedaf=_0x5752f7[_0x448a32(0x620)](_0x448a32(0x50d));_0x2eedaf['forEach']((_0x1d1e6a,_0xf69757)=>{const _0x339e01=_0x448a32,_0x4bc877='editable-text-'+_0x2743a3+'-'+_0xf69757;_0x1d1e6a['id']=_0x4bc877,_0x1d1e6a['classList'][_0x339e01(0x4d7)](_0x339e01(0x525)),_0x1d1e6a['style']['cursor']='move';const _0x48a112=document['createElementNS'](_0x339e01(0x211),_0x339e01(0x5bc)),_0x41d3c6=_0x1d1e6a['getBBox']();_0x48a112[_0x339e01(0x561)]('cx',String(_0x41d3c6['x']+_0x41d3c6[_0x339e01(0x5a2)]+0x5)),_0x48a112[_0x339e01(0x561)]('cy',String(_0x41d3c6['y']+_0x41d3c6[_0x339e01(0x439)]/0x2-0x5)),_0x48a112[_0x339e01(0x561)]('r','5'),_0x48a112[_0x339e01(0x561)]('fill','red'),_0x48a112[_0x339e01(0x561)](_0x339e01(0x444),'delete-svg-btn'),_0x48a112[_0x339e01(0x411)]['targetId']=_0x4bc877,_0x1d1e6a[_0x339e01(0x2db)](_0x48a112);}),_0x5752f7[_0x448a32(0x581)](_0x448a32(0x473),startDrag),_0x5752f7[_0x448a32(0x581)]('mousemove',drag),_0x5752f7[_0x448a32(0x581)](_0x448a32(0x23c),endDrag),_0x5752f7[_0x448a32(0x581)](_0x448a32(0x302),endDrag),_0x5752f7[_0x448a32(0x581)](_0x448a32(0x20a),startDrag,{'passive':![]}),_0x5752f7[_0x448a32(0x581)](_0x448a32(0x594),drag,{'passive':![]}),_0x5752f7['addEventListener'](_0x448a32(0x5b6),endDrag),_0x5752f7[_0x448a32(0x581)]('touchcancel',endDrag),_0x5752f7['addEventListener']('click',handleSvgEditClick);}}if(_0x345cc5)_0x345cc5[_0x448a32(0x685)]();}else{_0x1281ac['innerHTML']=_0x448a32(0x32c),_0x1281ac['title']=_0x448a32(0x268);if(_0x345cc5){_0x345cc5[_0x448a32(0x616)]=![];const _0x136ef2=_0x14b58b['questionType']||currentQuizData[_0x448a32(0x40b)];_0x136ef2===_0x448a32(0x362)?_0x14b58b[_0x448a32(0x18e)]=_0x345cc5[_0x448a32(0x6f6)][_0x448a32(0x4f9)](_0x345cc5['innerText']['indexOf']('.')+0x2)[_0x448a32(0x5cc)]():_0x14b58b[_0x448a32(0x6f2)]=_0x345cc5[_0x448a32(0x6f6)]['substring'](_0x345cc5[_0x448a32(0x6f6)][_0x448a32(0x235)]('.')+0x2)[_0x448a32(0x5cc)]();}_0x534b63&&(_0x534b63[_0x448a32(0x616)]=![],_0x14b58b[_0x448a32(0x4bb)]=_0x534b63[_0x448a32(0x6f6)]);if(_0x1ce718){const _0x35262c=_0x1ce718[_0x448a32(0x61b)](_0x448a32(0x649));if(_0x35262c){const _0x3edb57=_0x35262c[_0x448a32(0x6c1)](!![]);_0x3edb57[_0x448a32(0x620)](_0x448a32(0x215))[_0x448a32(0x497)](_0xb4c5cf=>_0xb4c5cf[_0x448a32(0x640)]()),_0x3edb57['querySelectorAll'](_0x448a32(0x28d))[_0x448a32(0x497)](_0xa3e183=>{const _0x281829=_0x448a32;_0xa3e183[_0x281829(0x5a6)][_0x281829(0x640)](_0x281829(0x525)),_0xa3e183[_0x281829(0x487)]['cursor']='default',_0xa3e183['removeAttribute']('id');}),_0x14b58b[_0x448a32(0x270)]=_0x3edb57[_0x448a32(0x1b9)],_0x35262c[_0x448a32(0x47e)]('mousedown',startDrag),_0x35262c[_0x448a32(0x47e)](_0x448a32(0x339),drag),_0x35262c[_0x448a32(0x47e)](_0x448a32(0x23c),endDrag),_0x35262c[_0x448a32(0x47e)]('mouseleave',endDrag),_0x35262c[_0x448a32(0x47e)]('touchstart',startDrag),_0x35262c[_0x448a32(0x47e)](_0x448a32(0x594),drag),_0x35262c[_0x448a32(0x47e)]('touchend',endDrag),_0x35262c[_0x448a32(0x47e)]('touchcancel',endDrag),_0x35262c[_0x448a32(0x47e)]('click',handleSvgEditClick),_0x35262c[_0x448a32(0x620)](_0x448a32(0x215))['forEach'](_0x23bcf8=>_0x23bcf8[_0x448a32(0x640)]()),_0x35262c[_0x448a32(0x620)](_0x448a32(0x28d))[_0x448a32(0x497)](_0x579b18=>{const _0x217be1=_0x448a32;_0x579b18[_0x217be1(0x5a6)][_0x217be1(0x640)](_0x217be1(0x525)),_0x579b18[_0x217be1(0x487)][_0x217be1(0x341)]=_0x217be1(0x483);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x21c298){const _0x1081f7=_0xa29d1b,_0x5d5b97=document[_0x1081f7(0x185)](_0x1081f7(0x45e)),_0x26346e=document[_0x1081f7(0x185)](_0x1081f7(0x1b0));_0x26346e[_0x1081f7(0x21c)]=_0x1081f7(0x2f4),_0x5d5b97[_0x1081f7(0x5a6)][_0x1081f7(0x640)](_0x1081f7(0x6d1));try{const _0x261a2b=doc(db,'artifacts/'+appId+_0x1081f7(0x577),_0x21c298),_0x3da2c5=await getDoc(_0x261a2b);if(!_0x3da2c5[_0x1081f7(0x228)]())throw new Error(_0x1081f7(0x54d));currentEditingQuizData={'id':_0x21c298,..._0x3da2c5[_0x1081f7(0x585)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x1ec571){console[_0x1081f7(0x2f7)]('Error\x20opening\x20quiz\x20editor:',_0x1ec571),showMessage(_0x1081f7(0x648)),_0x5d5b97[_0x1081f7(0x5a6)]['add']('hidden');}}function renderQuizEditor(_0x380a32){const _0x27b876=_0xa29d1b;document['getElementById'](_0x27b876(0x216))[_0x27b876(0x261)]=_0x380a32[_0x27b876(0x1d1)];const _0x5222ff=document[_0x27b876(0x185)]('quiz-editor-questions-container');let _0x22e847=_0x380a32[_0x27b876(0x64e)][_0x27b876(0x5b1)]((_0x24b483,_0x50d757)=>{const _0x38a185=_0x27b876;let _0x27f4d2='';const _0x2a6a16=_0x24b483[_0x38a185(0x1f0)]||_0x380a32[_0x38a185(0x40b)];switch(_0x2a6a16){case _0x38a185(0x145):const _0x2cac99=(_0x24b483[_0x38a185(0x186)]||[])[_0x38a185(0x5b1)]((_0x5143d8,_0x23d22c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x50d757+'\x22\x20value=\x22'+_0x23d22c+'\x22\x20'+(_0x23d22c===_0x24b483[_0x38a185(0x6c3)]?_0x38a185(0x67b):'')+_0x38a185(0x282)+_0x5143d8+_0x38a185(0x295))[_0x38a185(0x1ed)]('');_0x27f4d2=_0x38a185(0x321)+_0x2cac99+_0x38a185(0x619);break;case _0x38a185(0x3ba):_0x27f4d2=_0x38a185(0x4ea)+(_0x24b483[_0x38a185(0x217)]||'')+_0x38a185(0x60e);break;case'true_false':_0x27f4d2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x50d757+_0x38a185(0x1c2)+(_0x24b483[_0x38a185(0x5d7)]===!![]?_0x38a185(0x67b):'')+_0x38a185(0x42c)+_0x50d757+_0x38a185(0x2e4)+(_0x24b483[_0x38a185(0x5d7)]===![]?_0x38a185(0x67b):'')+_0x38a185(0x3dc);break;case _0x38a185(0x362):_0x27f4d2=_0x38a185(0x66c)+(_0x24b483[_0x38a185(0x49f)]||'')+_0x38a185(0x524);break;}const _0x1508e0=_0x24b483[_0x38a185(0x6f2)]||_0x24b483[_0x38a185(0x18e)]||'';return'\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x50d757+_0x38a185(0x1c0)+_0x2a6a16+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x50d757+0x1)+'\x20('+_0x2a6a16+_0x38a185(0x5c2)+_0x1508e0+_0x38a185(0x48f)+_0x27f4d2+'</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x27b876(0x1ed)]('');_0x5222ff['innerHTML']=_0x22e847;}async function handleSaveChanges(){const _0x18df11=_0xa29d1b,_0x149ba6=document['getElementById'](_0x18df11(0x578));_0x149ba6[_0x18df11(0x16a)]=!![],_0x149ba6[_0x18df11(0x21c)]=_0x18df11(0x514);try{const _0x290674=document['getElementById'](_0x18df11(0x216))['value'],_0x4e0010=document['querySelectorAll']('.question-editor-item');let _0xb4ac7a=[];const _0x2b0427=Array[_0x18df11(0x443)](_0x4e0010)[_0x18df11(0x5b1)]((_0x452cd2,_0x1d1fc5)=>{const _0x2a9664=_0x18df11,_0x52c0a7=_0x452cd2[_0x2a9664(0x411)][_0x2a9664(0x40a)],_0x433f89=_0x452cd2[_0x2a9664(0x61b)](_0x2a9664(0x413))['value'];let _0xe082fc={'questionType':_0x52c0a7};const _0x38f9d4=currentEditingQuizData[_0x2a9664(0x64e)][_0x1d1fc5];switch(_0x52c0a7){case _0x2a9664(0x145):_0xe082fc[_0x2a9664(0x6f2)]=_0x433f89;const _0x1524e1=_0x452cd2[_0x2a9664(0x620)]('input[type=\x22text\x22]');_0xe082fc[_0x2a9664(0x186)]=Array['from'](_0x1524e1)[_0x2a9664(0x5b1)](_0xe5388d=>_0xe5388d[_0x2a9664(0x261)]);const _0x215869=_0x452cd2['querySelector'](_0x2a9664(0x3a5));_0xe082fc[_0x2a9664(0x6c3)]=_0x215869?parseInt(_0x215869[_0x2a9664(0x261)]):0x0;break;case _0x2a9664(0x3ba):_0xe082fc[_0x2a9664(0x6f2)]=_0x433f89,_0xe082fc[_0x2a9664(0x217)]=_0x452cd2[_0x2a9664(0x61b)](_0x2a9664(0x29a))[_0x2a9664(0x261)];break;case _0x2a9664(0x1c4):_0xe082fc['questionText']=_0x433f89;const _0x53dbcd=_0x452cd2['querySelector'](_0x2a9664(0x3a5));_0xe082fc[_0x2a9664(0x5d7)]=_0x53dbcd?_0x53dbcd[_0x2a9664(0x261)]===_0x2a9664(0x56c):!![];break;case _0x2a9664(0x362):_0xe082fc[_0x2a9664(0x18e)]=_0x433f89;const _0x253a53=_0x452cd2[_0x2a9664(0x61b)]('.correct-response-input');_0xe082fc['correctResponse']=_0x253a53?_0x253a53[_0x2a9664(0x261)]:'',_0xb4ac7a[_0x2a9664(0x2f8)](_0xe082fc[_0x2a9664(0x49f)]);break;default:_0xe082fc['questionText']=_0x433f89;break;}return{..._0x38f9d4,..._0xe082fc};});_0xb4ac7a['length']>0x0&&_0x2b0427['forEach'](_0x5143ed=>{const _0x24c6a4=_0x18df11;_0x5143ed[_0x24c6a4(0x1f0)]===_0x24c6a4(0x362)&&(_0x5143ed['allResponses']=_0xb4ac7a);});const _0x59fd09=doc(db,_0x18df11(0x14d)+appId+_0x18df11(0x577),currentEditingQuizData['id']);await updateDoc(_0x59fd09,{'topic':_0x290674,'questions':_0x2b0427}),showMessage(_0x18df11(0x67a)),document[_0x18df11(0x185)](_0x18df11(0x45e))[_0x18df11(0x5a6)][_0x18df11(0x4d7)](_0x18df11(0x6d1));}catch(_0x25119d){console[_0x18df11(0x2f7)](_0x18df11(0x37b),_0x25119d),showMessage(_0x18df11(0x695));}finally{_0x149ba6['disabled']=![],_0x149ba6[_0x18df11(0x21c)]=_0x18df11(0x662);}}async function saveQuiz(){const _0x1c75ec=_0xa29d1b;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1c75ec(0x64e)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x5ec3a4=document['getElementById'](_0x1c75ec(0x4c2));_0x5ec3a4['disabled']=!![],_0x5ec3a4[_0x1c75ec(0x21c)]=_0x1c75ec(0x514),currentQuizData[_0x1c75ec(0x1d1)]=document['getElementById'](_0x1c75ec(0x4d3))['innerText'];try{const _0x41e2a3={'resultsDisplay':document[_0x1c75ec(0x185)](_0x1c75ec(0x49d))['value'],'shuffle':document[_0x1c75ec(0x185)](_0x1c75ec(0x4cb))[_0x1c75ec(0x261)],'timerMode':document[_0x1c75ec(0x185)](_0x1c75ec(0x167))[_0x1c75ec(0x261)],'timerDuration':parseInt(document[_0x1c75ec(0x185)](_0x1c75ec(0x390))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x1c75ec(0x4fa))[_0x1c75ec(0x261)])||0x0,'isAdaptive':document[_0x1c75ec(0x185)]('adaptive-quiz-checkbox')['checked']},_0x3f2d87=(currentQuizData[_0x1c75ec(0x64e)]||[])[_0x1c75ec(0x5b1)](_0x4c8139=>{const _0x4eb5bc=_0x1c75ec,_0x6f96e2=document[_0x4eb5bc(0x185)](_0x4eb5bc(0x275))[_0x4eb5bc(0x261)],_0x18eb32={'questionText':_0x4c8139[_0x4eb5bc(0x6f2)]||'','explanation':_0x4c8139['explanation']||_0x4eb5bc(0x27a),'questionType':_0x4c8139[_0x4eb5bc(0x1f0)]||_0x6f96e2,'imageCode':_0x4c8139['imageCode']||null};return(_0x18eb32[_0x4eb5bc(0x1f0)]==='multiple_choice'||_0x18eb32[_0x4eb5bc(0x1f0)]==='fill_in_with_choices'||_0x18eb32['questionType']==='mixed'&&_0x4c8139['options'])&&(_0x18eb32['options']=_0x4c8139['options']||[],_0x18eb32[_0x4eb5bc(0x6c3)]=_0x4c8139[_0x4eb5bc(0x6c3)]!==undefined?_0x4c8139[_0x4eb5bc(0x6c3)]:0x0),(_0x18eb32['questionType']===_0x4eb5bc(0x3ba)||_0x18eb32[_0x4eb5bc(0x1f0)]===_0x4eb5bc(0x25f)||_0x18eb32[_0x4eb5bc(0x1f0)]===_0x4eb5bc(0x3d6)&&_0x4c8139['idealAnswer'])&&(_0x18eb32[_0x4eb5bc(0x217)]=_0x4c8139[_0x4eb5bc(0x217)]||''),_0x18eb32[_0x4eb5bc(0x1f0)]===_0x4eb5bc(0x1c4)&&(_0x18eb32[_0x4eb5bc(0x5d7)]=_0x4c8139[_0x4eb5bc(0x5d7)]===!![]),_0x18eb32['questionType']===_0x4eb5bc(0x362)&&(_0x18eb32[_0x4eb5bc(0x18e)]=_0x4c8139['stem']||'',_0x18eb32[_0x4eb5bc(0x49f)]=_0x4c8139['correctResponse']||'',_0x18eb32['allResponses']=_0x4c8139[_0x4eb5bc(0x462)]||[]),_0x18eb32;}),_0x36a818={'topic':currentQuizData[_0x1c75ec(0x1d1)]||'แบบทดสอบไม่มีชื่อ','quizType':currentQuizData['quizType']||_0x1c75ec(0x145),'questions':_0x3f2d87,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1c75ec(0x1c8)](),'status':_0x1c75ec(0x60c),'settings':_0x41e2a3};let _0x154fca;while(!![]){_0x154fca=Math['floor'](0x3e8+Math[_0x1c75ec(0x5f5)]()*0x2328)[_0x1c75ec(0x1b2)]();const _0x597246=await getDoc(doc(db,_0x1c75ec(0x14d)+appId+'/public/data/quizzes',_0x154fca));if(!_0x597246[_0x1c75ec(0x228)]())break;}await setDoc(doc(db,_0x1c75ec(0x14d)+appId+_0x1c75ec(0x577),_0x154fca),_0x36a818),currentQuizData[_0x1c75ec(0x5a5)]=_0x41e2a3,currentQuizData['id']=_0x154fca;const _0x3b8812=document[_0x1c75ec(0x185)](_0x1c75ec(0x690));_0x3b8812[_0x1c75ec(0x21c)]=_0x1c75ec(0x4a1)+_0x154fca+_0x1c75ec(0x353),document[_0x1c75ec(0x185)](_0x1c75ec(0x2b6))['addEventListener'](_0x1c75ec(0x599),()=>copyTextToClipboard(_0x154fca,_0x1c75ec(0x656))),document[_0x1c75ec(0x185)]('start-live-race-generated-btn')[_0x1c75ec(0x581)]('click',()=>handleStartLiveRace(_0x154fca)),document['getElementById'](_0x1c75ec(0x431))[_0x1c75ec(0x581)](_0x1c75ec(0x599),()=>startPresentation(currentQuizData)),document[_0x1c75ec(0x185)](_0x1c75ec(0x424))[_0x1c75ec(0x581)]('click',startAdminTest),showMessage(_0x1c75ec(0x555));}catch(_0x57f12f){console[_0x1c75ec(0x2f7)](_0x1c75ec(0x5e3),_0x57f12f),showMessage(_0x1c75ec(0x315)),_0x5ec3a4['disabled']=![],_0x5ec3a4[_0x1c75ec(0x21c)]=_0x1c75ec(0x4bd);}}function promptForProjectAndSave(){const _0x699176=_0xa29d1b,_0x82b928=document[_0x699176(0x185)](_0x699176(0x4dd)),_0x39eb55=document['getElementById'](_0x699176(0x505)),_0x351e06=_0x82b928[_0x699176(0x61b)]('h3'),_0x18ef23=document['getElementById'](_0x699176(0x610));_0x351e06['textContent']='เลือกโปรเจคเพื่อบันทึก',_0x18ef23[_0x699176(0x65e)]=_0x699176(0x697);allProjects[_0x699176(0x2d0)]===0x0?(_0x39eb55[_0x699176(0x21c)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x18ef23[_0x699176(0x16a)]=!![]):(_0x39eb55['innerHTML']=allProjects[_0x699176(0x5b1)](_0x34e89c=>_0x699176(0x6b5)+_0x34e89c['id']+'\x22>'+_0x34e89c[_0x699176(0x46f)]+_0x699176(0x609))['join'](''),_0x18ef23['disabled']=![]);_0x82b928['classList']['remove'](_0x699176(0x6d1));const _0x5b68a4=()=>{const _0x2de2b2=_0x699176,_0x102dae=_0x39eb55['value'];_0x102dae?(currentProjectId=_0x102dae,_0x82b928[_0x2de2b2(0x5a6)][_0x2de2b2(0x4d7)]('hidden'),saveQuiz(),_0x351e06[_0x2de2b2(0x65e)]=_0x2de2b2(0x416),_0x18ef23[_0x2de2b2(0x65e)]=_0x2de2b2(0x5f0),_0x18ef23[_0x2de2b2(0x47e)](_0x2de2b2(0x599),_0x5b68a4),_0x18ef23['addEventListener'](_0x2de2b2(0x599),confirmMoveQuiz)):showMessage(_0x2de2b2(0x333));};_0x18ef23[_0x699176(0x47e)](_0x699176(0x599),confirmMoveQuiz),_0x18ef23[_0x699176(0x581)](_0x699176(0x599),_0x5b68a4);}function copyTextToClipboard(_0x512466,_0x4f79e1){const _0x1bd56=_0xa29d1b,_0x4fe73d=document['createElement'](_0x1bd56(0x413));_0x4fe73d[_0x1bd56(0x261)]=_0x512466,_0x4fe73d[_0x1bd56(0x487)][_0x1bd56(0x285)]='fixed',_0x4fe73d[_0x1bd56(0x487)][_0x1bd56(0x686)]='0',document[_0x1bd56(0x5c7)][_0x1bd56(0x2ed)](_0x4fe73d),_0x4fe73d['focus'](),_0x4fe73d[_0x1bd56(0x632)]();try{const _0x401793=document[_0x1bd56(0x2be)](_0x1bd56(0x67e));showMessage(_0x401793?_0x4f79e1:'คัดลอกไม่สำเร็จ');}catch(_0xf5aa75){showMessage(_0x1bd56(0x3ff)),console[_0x1bd56(0x2f7)](_0x1bd56(0x5ec),_0xf5aa75);}document[_0x1bd56(0x5c7)][_0x1bd56(0x50a)](_0x4fe73d);}function listenForProjectQuizzes(_0x5f2174){const _0x5ee5e5=_0xa29d1b,_0x3064af=collection(db,_0x5ee5e5(0x14d)+appId+_0x5ee5e5(0x577)),_0x4da7b4=query(_0x3064af,where(_0x5ee5e5(0x240),'==',_0x5f2174));unsubscribeQuizzesListener=onSnapshot(_0x4da7b4,async _0x1eb8d2=>{const _0x3eeeb8=_0x5ee5e5;allQuizzes=_0x1eb8d2[_0x3eeeb8(0x643)]['map'](_0x1cf2cd=>({'id':_0x1cf2cd['id'],..._0x1cf2cd[_0x3eeeb8(0x585)]()})),renderQuizzes();},_0x4d124c=>{const _0x28a690=_0x5ee5e5;console['error'](_0x28a690(0x372),_0x4d124c),document[_0x28a690(0x185)](_0x28a690(0x66e))[_0x28a690(0x21c)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x4bbde8=_0xa29d1b,_0x5e5cc4=document[_0x4bbde8(0x185)](_0x4bbde8(0x66e)),_0x582c07=document['getElementById'](_0x4bbde8(0x3b8))[_0x4bbde8(0x261)][_0x4bbde8(0x1de)]();let _0xb2e9e9;currentProjectId==='starred'?_0xb2e9e9=starredQuizzes:_0xb2e9e9=allQuizzes;let _0x38b7c5=_0xb2e9e9[_0x4bbde8(0x4d4)](_0x1387b6=>_0x1387b6[_0x4bbde8(0x1d1)]['toLowerCase']()[_0x4bbde8(0x40d)](_0x582c07));_0x38b7c5[_0x4bbde8(0x5d0)]((_0x577bbf,_0x3309de)=>new Date(_0x3309de['createdAt'])-new Date(_0x577bbf[_0x4bbde8(0x554)]));if(_0x38b7c5[_0x4bbde8(0x2d0)]===0x0){_0x5e5cc4[_0x4bbde8(0x21c)]=_0x4bbde8(0x6b8);return;}const _0x2ca6e6={},_0x32121b=_0x38b7c5[_0x4bbde8(0x5b1)](async _0x4f33d2=>{const _0x26e8aa=_0x4bbde8,_0x44e6a4=collection(db,_0x26e8aa(0x14d)+appId+'/public/data/quizzes/'+_0x4f33d2['id']+'/submissions'),_0x451b3e=await getDocs(_0x44e6a4);_0x2ca6e6[_0x4f33d2['id']]=_0x451b3e['size'];});await Promise[_0x4bbde8(0x5f8)](_0x32121b);let _0x598692='';_0x38b7c5[_0x4bbde8(0x497)](_0x4fa9fb=>{const _0x25bb2f=_0x4bbde8,_0x4e1782=_0x2ca6e6[_0x4fa9fb['id']]||0x0,_0x5a70a5=_0x4fa9fb[_0x25bb2f(0x1f6)]||_0x25bb2f(0x60c),_0x4058dd=_0x4fa9fb[_0x25bb2f(0x5a5)]?.[_0x25bb2f(0x279)]||_0x25bb2f(0x543);let _0x324a93='',_0x5a1267='';const _0x206fad=new Date();let _0x279822=_0x5a70a5;if(_0x5a70a5===_0x25bb2f(0x3ac)){const _0x5bf717=_0x4fa9fb[_0x25bb2f(0x274)]?new Date(_0x4fa9fb['startTime']):null,_0x52017b=_0x4fa9fb[_0x25bb2f(0x486)]?new Date(_0x4fa9fb['endTime']):null;if(_0x52017b&&_0x206fad>_0x52017b)_0x279822='inactive';else _0x5bf717&&_0x206fad<_0x5bf717?_0x279822=_0x25bb2f(0x2fa):_0x279822=_0x25bb2f(0x60c);}switch(_0x279822){case _0x25bb2f(0x627):_0x324a93=_0x25bb2f(0x251),_0x5a1267=_0x25bb2f(0x4d0);break;case _0x25bb2f(0x2fa):_0x324a93='รอเปิด',_0x5a1267='text-blue-700\x20bg-blue-100';break;case _0x25bb2f(0x60c):_0x324a93=_0x4058dd!=='none'?'เปิด\x20(จับเวลา)':_0x25bb2f(0x226),_0x5a1267='text-green-700\x20bg-green-100';break;default:_0x324a93=_0x25bb2f(0x45d),_0x5a1267=_0x25bb2f(0x204);}let _0x5b08e3='';const _0x4c5e45={'day':_0x25bb2f(0x255),'month':_0x25bb2f(0x255),'year':_0x25bb2f(0x459),'hour':_0x25bb2f(0x255),'minute':_0x25bb2f(0x255),'hour12':![]};_0x5a70a5===_0x25bb2f(0x3ac)&&(_0x4fa9fb[_0x25bb2f(0x274)]&&(_0x5b08e3+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x4fa9fb[_0x25bb2f(0x274)])[_0x25bb2f(0x363)](_0x25bb2f(0x174),_0x4c5e45)+'</p>'),_0x4fa9fb[_0x25bb2f(0x486)]&&(_0x5b08e3+=_0x25bb2f(0x604)+new Date(_0x4fa9fb[_0x25bb2f(0x486)])[_0x25bb2f(0x363)](_0x25bb2f(0x174),_0x4c5e45)+_0x25bb2f(0x500))),_0x598692+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x4fa9fb['id']+_0x25bb2f(0x538)+_0x4fa9fb[_0x25bb2f(0x1d1)]+_0x25bb2f(0x386)+_0x4fa9fb['questions'][_0x25bb2f(0x2d0)]+_0x25bb2f(0x68f)+new Date(_0x4fa9fb[_0x25bb2f(0x554)])[_0x25bb2f(0x363)]('th-TH')+_0x25bb2f(0x5af)+_0x4e1782+_0x25bb2f(0x3a1)+_0x5b08e3+_0x25bb2f(0x52b)+_0x5a1267+'\x22>'+_0x324a93+_0x25bb2f(0x44c)+_0x4fa9fb['id']+_0x25bb2f(0x271)+_0x4fa9fb['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22'+(_0x4fa9fb[_0x25bb2f(0x6d9)]?_0x25bb2f(0x2e2):'far\x20fa-star')+_0x25bb2f(0x3d0)+_0x4fa9fb['id']+_0x25bb2f(0x633)+_0x4fa9fb['id']+'\x22\x20data-topic=\x22'+_0x4fa9fb[_0x25bb2f(0x1d1)]+_0x25bb2f(0x159)+_0x4fa9fb['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22'+_0x4fa9fb['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4fa9fb['id']+_0x25bb2f(0x32a)+_0x4fa9fb['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4fa9fb['id']+_0x25bb2f(0x2cd)+_0x4fa9fb['id']+_0x25bb2f(0x1ba)+_0x4fa9fb['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4fa9fb['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4fa9fb['id']+_0x25bb2f(0x579)+_0x4fa9fb[_0x25bb2f(0x1d1)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5e5cc4[_0x4bbde8(0x21c)]=_0x598692,document[_0x4bbde8(0x620)]('.quiz-result-card')[_0x4bbde8(0x497)](_0xc601fe=>{const _0x5f5a06=_0x4bbde8;_0xc601fe[_0x5f5a06(0x581)]('click',()=>{const _0x5badf1=_0x5f5a06,_0x51291a=_0xc601fe[_0x5badf1(0x411)]['quizId'];showQuizDetailView(_0x51291a);});});}async function handleDuplicateQuiz(_0xd39fe){const _0x76d97=_0xa29d1b;try{const _0x3475c9=doc(db,_0x76d97(0x14d)+appId+_0x76d97(0x577),_0xd39fe),_0x50baa3=await getDoc(_0x3475c9);if(_0x50baa3[_0x76d97(0x228)]()){const _0x27195c=_0x50baa3['data'](),_0x355a9a={..._0x27195c,'topic':_0x76d97(0x4b5)+_0x27195c[_0x76d97(0x1d1)],'createdAt':new Date()[_0x76d97(0x1c8)]()};await addDoc(collection(db,_0x76d97(0x14d)+appId+_0x76d97(0x577)),_0x355a9a),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x76d97(0x6a6));}catch(_0x1528db){console['error']('Error\x20duplicating\x20quiz:',_0x1528db),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x2e9e0b,_0x46b1fd=!![]){const _0x1453bb=_0xa29d1b;try{const _0x470c9f=writeBatch(db),_0xe73dfc=collection(db,_0x1453bb(0x14d)+appId+_0x1453bb(0x2b3)+_0x2e9e0b+'/submissions'),_0x13fdd5=await getDocs(_0xe73dfc);_0x13fdd5['forEach'](_0x18cbdc=>{const _0x4b9766=_0x1453bb;_0x470c9f[_0x4b9766(0x6f1)](doc(_0xe73dfc,_0x18cbdc['id']));});const _0x13ae84=doc(db,_0x1453bb(0x14d)+appId+_0x1453bb(0x577),_0x2e9e0b);_0x470c9f['delete'](_0x13ae84),await _0x470c9f[_0x1453bb(0x316)](),_0x46b1fd&&showMessage(_0x1453bb(0x1fe));}catch(_0x69e8f2){console[_0x1453bb(0x2f7)](_0x1453bb(0x4d1),_0x69e8f2),_0x46b1fd&&showMessage(_0x1453bb(0x2f9));}}async function showQuizDetailView(_0xd118ff){const _0x41e865=_0xa29d1b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x41e865(0x35b));try{const _0x35ef6a=doc(db,_0x41e865(0x14d)+appId+_0x41e865(0x577),_0xd118ff),_0x22eff8=await getDoc(_0x35ef6a);if(!_0x22eff8[_0x41e865(0x228)]()){showMessage(_0x41e865(0x225));return;}const _0x422278={'id':_0x22eff8['id'],..._0x22eff8[_0x41e865(0x585)]()};currentQuizData=_0x422278;const _0x740be5=doc(db,_0x41e865(0x14d)+appId+_0x41e865(0x533),_0x422278[_0x41e865(0x240)]),_0x404911=await getDoc(_0x740be5);_0x404911[_0x41e865(0x228)]()?(currentProjectData=_0x404911['data'](),currentProjectId=_0x422278[_0x41e865(0x240)]):(currentProjectData={'students':[]},currentProjectId=_0x422278['projectId']);document[_0x41e865(0x185)](_0x41e865(0x212))[_0x41e865(0x65e)]=_0x422278[_0x41e865(0x1d1)],document[_0x41e865(0x185)](_0x41e865(0x641))[_0x41e865(0x65e)]=_0xd118ff;const _0x5c9a47=collection(db,_0x41e865(0x14d)+appId+_0x41e865(0x577),_0xd118ff,_0x41e865(0x3d9));unsubscribeSubmissionsListener=onSnapshot(_0x5c9a47,_0x300979=>{const _0x3a57ea=_0x41e865,_0x165f8f=_0x300979[_0x3a57ea(0x643)][_0x3a57ea(0x5b1)](_0x2c5055=>({'id':_0x2c5055['id'],..._0x2c5055[_0x3a57ea(0x585)]()}));currentSubmissions=_0x165f8f,renderAnalytics(_0x422278,_0x165f8f),renderQuizResultsTable(currentProjectData[_0x3a57ea(0x34b)],_0x165f8f,_0x422278),renderQuizLeaderboard(_0x165f8f,_0x422278,_0x3a57ea(0x3cc));}),showView('quiz-results');}catch(_0x5d2e4d){console[_0x41e865(0x2f7)](_0x41e865(0x241),_0x5d2e4d),showMessage(_0x41e865(0x674));}}function renderQuizResultsTable(_0x4baf25,_0x1e80eb,_0x3e3b21){const _0x4a48f8=_0xa29d1b,_0x106341=_0x1e80eb[_0x4a48f8(0x55e)]((_0x97e6fb,_0x55959f)=>{const _0x402291=_0x4a48f8;return _0x97e6fb[_0x55959f[_0x402291(0x210)]]=_0x55959f,_0x97e6fb;},{}),_0x54c7eb=document['getElementById'](_0x4a48f8(0x253));if(!_0x4baf25||_0x4baf25[_0x4a48f8(0x2d0)]===0x0){_0x54c7eb[_0x4a48f8(0x21c)]=_0x4a48f8(0x64f);return;}const _0x48d907=_0x3e3b21[_0x4a48f8(0x17d)]===!![],_0x31b5b7=_0x3e3b21[_0x4a48f8(0x5a5)]?.[_0x4a48f8(0x6a1)]??-0x1;let _0x307527='';_0x4baf25[_0x4a48f8(0x497)](_0x2c51f1=>{const _0x4c8fe3=_0x4a48f8,_0x2b0679=_0x106341[_0x2c51f1];let _0x5bcc8b='<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>',_0x59451f='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x48d907?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x48d907?_0x4c8fe3(0x68c):_0x4c8fe3(0x1c3))+_0x4c8fe3(0x474);if(_0x2b0679){let _0x220dd9;_0x48d907?_0x220dd9=_0x2b0679[_0x4c8fe3(0x3d1)]===_0x2b0679[_0x4c8fe3(0x55b)]:_0x220dd9=_0x31b5b7!==-0x1&&_0x2b0679[_0x4c8fe3(0x3d1)]>=_0x31b5b7;if(_0x48d907||_0x31b5b7!==-0x1){const _0x1029df=_0x220dd9?'bg-green-100\x20text-green-800':_0x4c8fe3(0x44b),_0x1a6a0f=_0x220dd9?_0x4c8fe3(0x206):_0x4c8fe3(0x450);_0x5bcc8b=_0x4c8fe3(0x6f3)+_0x1029df+'\x22>'+_0x1a6a0f+_0x4c8fe3(0x474);}const _0x3024a2='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x2b0679['attempts']?.['length']||0x1)+_0x4c8fe3(0x280);_0x307527+=_0x4c8fe3(0x580)+_0x2c51f1+_0x4c8fe3(0x478)+_0x2b0679[_0x4c8fe3(0x3d1)]+_0x4c8fe3(0x550)+_0x2b0679['totalQuestions']+_0x4c8fe3(0x582)+_0x5bcc8b+_0x4c8fe3(0x3da)+_0x59451f+_0x4c8fe3(0x164)+_0x2b0679[_0x4c8fe3(0x28c)]+'\x20/\x20'+_0x2b0679[_0x4c8fe3(0x55b)]+_0x4c8fe3(0x2ab)+_0x2b0679['latestScore']+_0x4c8fe3(0x43f)+(_0x2b0679[_0x4c8fe3(0x1df)]||0x0)+_0x4c8fe3(0x582)+_0x3024a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x2b0679[_0x4c8fe3(0x522)])[_0x4c8fe3(0x363)](_0x4c8fe3(0x174))+_0x4c8fe3(0x475);}else{const _0x46efd3=_0x4c8fe3(0x5f1);_0x307527+=_0x4c8fe3(0x580)+_0x2c51f1+_0x4c8fe3(0x3b2)+_0x59451f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46efd3+_0x4c8fe3(0x6b4);}}),_0x54c7eb[_0x4a48f8(0x21c)]=_0x307527;}function handleRenameQuiz(_0x1eaa10,_0x103301){const _0x928699=_0xa29d1b;actionTargetId=_0x1eaa10,document['getElementById'](_0x928699(0x6d4))[_0x928699(0x261)]=_0x103301,renameQuizModal[_0x928699(0x5a6)][_0x928699(0x640)](_0x928699(0x6d1));}async function confirmRenameQuiz(){const _0x3855d7=_0xa29d1b,_0xa30f72=document[_0x3855d7(0x185)]('rename-quiz-input')[_0x3855d7(0x261)][_0x3855d7(0x5cc)]();if(!_0xa30f72){showMessage(_0x3855d7(0x51a));return;}if(!actionTargetId)return;const _0x226977=doc(db,_0x3855d7(0x14d)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x226977,{'topic':_0xa30f72}),showMessage(_0x3855d7(0x4fb)),renameQuizModal[_0x3855d7(0x5a6)][_0x3855d7(0x4d7)]('hidden'),actionTargetId=null;}catch(_0x139698){console['error'](_0x3855d7(0x460),_0x139698),showMessage(_0x3855d7(0x2dc));}}async function handleMoveQuiz(_0x1d9924){const _0x41eef3=_0xa29d1b;actionTargetId=_0x1d9924;const _0x4fa091=document[_0x41eef3(0x185)](_0x41eef3(0x505));_0x4fa091[_0x41eef3(0x21c)]=_0x41eef3(0x189),moveQuizModal[_0x41eef3(0x5a6)]['remove'](_0x41eef3(0x6d1));try{const _0x272939=collection(db,'artifacts/'+appId+_0x41eef3(0x533)),_0x253f28=await getDocs(_0x272939),_0xf73c15=_0x253f28[_0x41eef3(0x643)][_0x41eef3(0x5b1)](_0x44b7d7=>({'id':_0x44b7d7['id'],..._0x44b7d7['data']()})),_0xef0aba=_0xf73c15[_0x41eef3(0x4d4)](_0x1748d8=>_0x1748d8['id']!==currentProjectId);if(_0xef0aba['length']===0x0){_0x4fa091[_0x41eef3(0x21c)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x41eef3(0x185)](_0x41eef3(0x610))[_0x41eef3(0x16a)]=!![];return;}_0x4fa091[_0x41eef3(0x21c)]=_0xef0aba['map'](_0x1ed4f5=>_0x41eef3(0x6b5)+_0x1ed4f5['id']+'\x22>'+_0x1ed4f5[_0x41eef3(0x46f)]+_0x41eef3(0x609))[_0x41eef3(0x1ed)](''),document[_0x41eef3(0x185)](_0x41eef3(0x610))[_0x41eef3(0x16a)]=![];}catch(_0x13884f){console[_0x41eef3(0x2f7)](_0x41eef3(0x59b),_0x13884f),showMessage(_0x41eef3(0x24d)),moveQuizModal[_0x41eef3(0x5a6)][_0x41eef3(0x4d7)](_0x41eef3(0x6d1));}}async function confirmMoveQuiz(){const _0x34baaf=_0xa29d1b,_0x482e9c=document[_0x34baaf(0x185)](_0x34baaf(0x505))[_0x34baaf(0x261)];if(!_0x482e9c){showMessage(_0x34baaf(0x2f1));return;}if(!actionTargetId)return;const _0x1c77a7=doc(db,'artifacts/'+appId+_0x34baaf(0x577),actionTargetId);try{await updateDoc(_0x1c77a7,{'projectId':_0x482e9c}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x34baaf(0x5a6)][_0x34baaf(0x4d7)](_0x34baaf(0x6d1)),actionTargetId=null;}catch(_0x5ea28a){console[_0x34baaf(0x2f7)](_0x34baaf(0x28a),_0x5ea28a),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x1d8e17){const _0x332a64=_0xa29d1b;actionTargetId=_0x1d8e17;const _0xda7989=doc(db,_0x332a64(0x14d)+appId+_0x332a64(0x577),_0x1d8e17);try{const _0x2340c0=await getDoc(_0xda7989);if(_0x2340c0['exists']()){const _0x569ab4=_0x2340c0[_0x332a64(0x585)](),_0x92e49c=_0x569ab4[_0x332a64(0x5a5)]||{},_0x4c6b34=_0x569ab4['questions'][_0x332a64(0x2d0)];document[_0x332a64(0x185)](_0x332a64(0x655))[_0x332a64(0x261)]=_0x92e49c[_0x332a64(0x20c)]||_0x332a64(0x543),document[_0x332a64(0x185)](_0x332a64(0x4f4))['value']=_0x92e49c[_0x332a64(0x669)]||_0x332a64(0x22b),document[_0x332a64(0x185)](_0x332a64(0x467))[_0x332a64(0x261)]=_0x92e49c[_0x332a64(0x279)]||_0x332a64(0x543),document[_0x332a64(0x185)](_0x332a64(0x48d))[_0x332a64(0x261)]=_0x92e49c[_0x332a64(0x297)]||0xa,document['getElementById'](_0x332a64(0x47f))[_0x332a64(0x261)]=_0x92e49c['passingScore']||Math[_0x332a64(0x350)](_0x4c6b34/0x2),document[_0x332a64(0x185)](_0x332a64(0x47f))[_0x332a64(0x5a0)]=_0x4c6b34,document[_0x332a64(0x185)](_0x332a64(0x506))[_0x332a64(0x67b)]=_0x92e49c['isAdaptive']||![],document[_0x332a64(0x185)](_0x332a64(0x467))[_0x332a64(0x2bd)](new Event(_0x332a64(0x382))),quizSettingsModal[_0x332a64(0x5a6)]['remove'](_0x332a64(0x6d1));}else showMessage(_0x332a64(0x225));}catch(_0xb9557d){console[_0x332a64(0x2f7)]('Error\x20fetching\x20quiz\x20settings:',_0xb9557d),showMessage(_0x332a64(0x346));}}async function confirmQuizSettings(){const _0x49d5d1=_0xa29d1b;if(!actionTargetId)return;const _0x423c31=doc(db,'artifacts/'+appId+_0x49d5d1(0x577),actionTargetId),_0x2a43e0={'shuffle':document[_0x49d5d1(0x185)]('modal-shuffle-select')[_0x49d5d1(0x261)],'resultsDisplay':document[_0x49d5d1(0x185)](_0x49d5d1(0x4f4))['value'],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x49d5d1(0x261)],'timerDuration':parseInt(document[_0x49d5d1(0x185)](_0x49d5d1(0x48d))[_0x49d5d1(0x261)])||0xa,'passingScore':parseInt(document[_0x49d5d1(0x185)](_0x49d5d1(0x47f))['value'])||0x0,'passingScore':parseInt(document[_0x49d5d1(0x185)](_0x49d5d1(0x47f))[_0x49d5d1(0x261)])||0x0,'isAdaptive':document['getElementById'](_0x49d5d1(0x506))[_0x49d5d1(0x67b)]};try{await updateDoc(_0x423c31,{'settings':_0x2a43e0}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x49d5d1(0x5a6)][_0x49d5d1(0x4d7)]('hidden'),actionTargetId=null;}catch(_0x416eb6){console[_0x49d5d1(0x2f7)]('Error\x20updating\x20quiz\x20settings:',_0x416eb6),showMessage(_0x49d5d1(0x695));}}async function handleQuizStatus(_0x4e7891){const _0x141d8e=_0xa29d1b;actionTargetId=_0x4e7891;const _0x5d3129=doc(db,'artifacts/'+appId+_0x141d8e(0x577),_0x4e7891);try{const _0x37dee4=await getDoc(_0x5d3129);if(_0x37dee4['exists']()){const _0x27c623=_0x37dee4[_0x141d8e(0x585)](),_0x5d47e1=_0x27c623[_0x141d8e(0x1f6)]||_0x141d8e(0x60c),_0x4d7a32=document[_0x141d8e(0x185)](_0x141d8e(0x55f)),_0x1ce570=document[_0x141d8e(0x185)]('quiz-schedule-start-container'),_0x2c006c=document[_0x141d8e(0x185)](_0x141d8e(0x44a));let _0x50d67b=_0x141d8e(0x6ef)+(_0x5d47e1===_0x141d8e(0x60c)?_0x141d8e(0x67b):'')+_0x141d8e(0x66b)+(_0x5d47e1===_0x141d8e(0x627)?'checked':'')+_0x141d8e(0x2c0)+(_0x5d47e1===_0x141d8e(0x3ac)?'checked':'')+_0x141d8e(0x568);_0x4d7a32[_0x141d8e(0x21c)]=_0x50d67b;const _0xd2ba40=_0x5d47e1===_0x141d8e(0x3ac);_0x1ce570['classList'][_0x141d8e(0x180)]('hidden',!_0xd2ba40),_0x2c006c['classList'][_0x141d8e(0x180)](_0x141d8e(0x6d1),!_0xd2ba40),document[_0x141d8e(0x185)](_0x141d8e(0x277))['value']=_0x27c623['startTime']?_0x27c623[_0x141d8e(0x274)][_0x141d8e(0x4f9)](0x0,0x10):'',document[_0x141d8e(0x185)]('quiz-end-time')[_0x141d8e(0x261)]=_0x27c623[_0x141d8e(0x486)]?_0x27c623['endTime'][_0x141d8e(0x4f9)](0x0,0x10):'',_0x4d7a32[_0x141d8e(0x620)](_0x141d8e(0x158))['forEach'](_0x2c0183=>{const _0x5f85ab=_0x141d8e;_0x2c0183['addEventListener'](_0x5f85ab(0x382),_0x2586bf=>{const _0x43a56b=_0x5f85ab,_0x16c65b=_0x2586bf[_0x43a56b(0x6dd)][_0x43a56b(0x261)]===_0x43a56b(0x276);_0x1ce570[_0x43a56b(0x5a6)][_0x43a56b(0x180)](_0x43a56b(0x6d1),!_0x16c65b),_0x2c006c[_0x43a56b(0x5a6)][_0x43a56b(0x180)]('hidden',!_0x16c65b);});}),quizStatusModal['classList'][_0x141d8e(0x640)](_0x141d8e(0x6d1));}}catch(_0x54a7ef){console['error']('Error\x20fetching\x20quiz\x20status:',_0x54a7ef),showMessage(_0x141d8e(0x5f2));}}async function confirmQuizStatus(){const _0x381772=_0xa29d1b;if(!actionTargetId)return;const _0x50f4e1=doc(db,_0x381772(0x14d)+appId+'/public/data/quizzes',actionTargetId),_0x3db467=document[_0x381772(0x61b)]('input[name=\x22status-option\x22]:checked');if(!_0x3db467){showMessage(_0x381772(0x301));return;}const _0x4842f6=_0x3db467[_0x381772(0x261)];let _0x33e8c6={};if(_0x4842f6===_0x381772(0x60c)||_0x4842f6===_0x381772(0x627))_0x33e8c6={'status':_0x4842f6,'startTime':null,'endTime':null};else{if(_0x4842f6===_0x381772(0x276)){const _0x128991=document[_0x381772(0x185)](_0x381772(0x277))[_0x381772(0x261)],_0x4af554=document[_0x381772(0x185)](_0x381772(0x5cb))[_0x381772(0x261)];if(!_0x128991&&!_0x4af554){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x33e8c6={'status':'scheduled','startTime':_0x128991?new Date(_0x128991)['toISOString']():null,'endTime':_0x4af554?new Date(_0x4af554)[_0x381772(0x1c8)]():null};}}try{await updateDoc(_0x50f4e1,_0x33e8c6),showMessage(_0x381772(0x650)),quizStatusModal[_0x381772(0x5a6)][_0x381772(0x4d7)](_0x381772(0x6d1)),actionTargetId=null;}catch(_0x980824){console['error'](_0x381772(0x6a5),_0x980824),showMessage(_0x381772(0x5ac));}}function listenForStudentProfiles(_0x4c4704){const _0x405af4=_0xa29d1b,_0x302bcf=collection(db,_0x405af4(0x14d)+appId+'/public/data/projects/'+_0x4c4704+_0x405af4(0x437));unsubscribeStudentProfilesListener=onSnapshot(_0x302bcf,_0x40d6ab=>{const _0x3def0c=_0x405af4,_0x500908=_0x40d6ab['docs'][_0x3def0c(0x5b1)](_0xbcae9c=>_0xbcae9c[_0x3def0c(0x585)]());renderLeaderboard(_0x500908,'leaderboard-table-body');},_0x2f0891=>{const _0x536ea6=_0x405af4;console[_0x536ea6(0x2f7)]('Error\x20listening\x20for\x20student\x20profiles:',_0x2f0891),document[_0x536ea6(0x185)]('leaderboard-table-body')[_0x536ea6(0x21c)]=_0x536ea6(0x563);});}function renderLeaderboard(_0x579a56,_0x29a7b8){const _0x3877b9=_0xa29d1b,_0x5082ce=document['getElementById'](_0x29a7b8);if(!_0x579a56||_0x579a56[_0x3877b9(0x2d0)]===0x0){_0x5082ce['innerHTML']=_0x3877b9(0x518);return;}_0x579a56['sort']((_0x5ace7e,_0x1ba871)=>{const _0x256e5f=_0x3877b9,_0x47ff83=(_0x1ba871[_0x256e5f(0x623)]||0x0)-(_0x5ace7e['totalPoints']||0x0);if(_0x47ff83!==0x0)return _0x47ff83;const _0x58c69f=(_0x1ba871[_0x256e5f(0x613)]?.[_0x256e5f(0x1c1)]||0x0)-(_0x5ace7e[_0x256e5f(0x613)]?.['specialist']||0x0);if(_0x58c69f!==0x0)return _0x58c69f;const _0x243781=(_0x1ba871['badgesCount']?.[_0x256e5f(0x36a)]||0x0)-(_0x5ace7e[_0x256e5f(0x613)]?.['first_try_ace']||0x0);if(_0x243781!==0x0)return _0x243781;const _0x5b311b=(_0x1ba871[_0x256e5f(0x613)]?.[_0x256e5f(0x305)]||0x0)-(_0x5ace7e[_0x256e5f(0x613)]?.[_0x256e5f(0x305)]||0x0);if(_0x5b311b!==0x0)return _0x5b311b;const _0x20fc7=(_0x1ba871[_0x256e5f(0x613)]?.['quick_thinker']||0x0)-(_0x5ace7e[_0x256e5f(0x613)]?.[_0x256e5f(0x64a)]||0x0);if(_0x20fc7!==0x0)return _0x20fc7;return _0x5ace7e[_0x256e5f(0x210)]['localeCompare'](_0x1ba871[_0x256e5f(0x210)],'th');});let _0x57aa42='';_0x579a56[_0x3877b9(0x497)]((_0x3883c9,_0x132400)=>{const _0x31ac8b=_0x3877b9,_0x355a68=_0x132400+0x1,_0x86f9f9=_0x3883c9[_0x31ac8b(0x613)]||{};let _0x2c0025='';const _0x5ca72f=['specialist','perfect_score',_0x31ac8b(0x36a),_0x31ac8b(0x64a)];_0x5ca72f[_0x31ac8b(0x497)](_0x2c40d1=>{const _0x3786a5=_0x31ac8b;if(_0x86f9f9[_0x2c40d1]>0x0){const _0x4cfa01=Object[_0x3786a5(0x38d)](BADGES)[_0x3786a5(0x1e6)](_0x1d6b0c=>_0x1d6b0c['id']===_0x2c40d1);_0x4cfa01&&(_0x2c40d1===_0x3786a5(0x1c1)?_0x2c0025+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x4cfa01['name']+_0x3786a5(0x57d)+_0x4cfa01[_0x3786a5(0x6e8)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2c0025+=_0x3786a5(0x38c)+_0x4cfa01[_0x3786a5(0x2bc)]+'\x20('+_0x86f9f9[_0x2c40d1]+_0x3786a5(0x15e)+_0x4cfa01['icon']+_0x3786a5(0x4b1)+_0x86f9f9[_0x2c40d1]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x57aa42+=_0x31ac8b(0x5e2)+_0x355a68+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3883c9[_0x31ac8b(0x210)]+_0x31ac8b(0x461)+(_0x3883c9[_0x31ac8b(0x623)]||0x0)+_0x31ac8b(0x2d1)+(_0x2c0025||'-')+_0x31ac8b(0x3aa);}),_0x5082ce[_0x3877b9(0x21c)]=_0x57aa42;}function renderQuizLeaderboard(_0x218ff4,_0x573052,_0x203896){const _0x36fb94=_0xa29d1b,_0x4b51a2=document[_0x36fb94(0x185)](_0x203896),_0x2800a4=_0x203896==='student-quiz-leaderboard-table-body',_0xea4e98=_0x573052[_0x36fb94(0x64e)][_0x36fb94(0x2d0)],_0xa953f7=document['getElementById'](_0x203896)['closest'](_0x36fb94(0x4a5));if(_0xa953f7&&!_0x2800a4){const _0x2c0ee2=_0xa953f7[_0x36fb94(0x61b)]('thead');_0x2c0ee2[_0x36fb94(0x21c)]=_0x36fb94(0x5d2);}if(!_0x218ff4||_0x218ff4[_0x36fb94(0x2d0)]===0x0){_0x4b51a2[_0x36fb94(0x21c)]=_0x36fb94(0x4b4)+(_0x2800a4?0x6:0x8)+_0x36fb94(0x48e);return;}const _0xd3759a=[..._0x218ff4];_0xd3759a[_0x36fb94(0x5d0)]((_0x28fc08,_0x43d54b)=>{const _0x14cfb0=_0x36fb94;let _0xf8f588,_0x2ff711;switch(quizLeaderboardSortBy){case _0x14cfb0(0x210):_0xf8f588=_0x28fc08[_0x14cfb0(0x210)]||'',_0x2ff711=_0x43d54b[_0x14cfb0(0x210)]||'';return quizLeaderboardSortOrder===_0x14cfb0(0x44e)?_0xf8f588['localeCompare'](_0x2ff711,'th'):_0x2ff711[_0x14cfb0(0x31f)](_0xf8f588,'th');case _0x14cfb0(0x1df):_0xf8f588=_0x28fc08[_0x14cfb0(0x1df)]||0x0,_0x2ff711=_0x43d54b[_0x14cfb0(0x1df)]||0x0;break;case _0x14cfb0(0x663):_0xf8f588=_0x28fc08['attempts']?.[_0x14cfb0(0x2d0)]||0x1,_0x2ff711=_0x43d54b[_0x14cfb0(0x663)]?.[_0x14cfb0(0x2d0)]||0x1;break;case _0x14cfb0(0x522):_0xf8f588=new Date(_0x28fc08[_0x14cfb0(0x522)]),_0x2ff711=new Date(_0x43d54b['latestSubmittedAt']);break;case _0x14cfb0(0x3d1):default:_0xf8f588=_0x28fc08[_0x14cfb0(0x3d1)],_0x2ff711=_0x43d54b[_0x14cfb0(0x3d1)];break;}if(_0xf8f588<_0x2ff711)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0xf8f588>_0x2ff711)return quizLeaderboardSortOrder===_0x14cfb0(0x44e)?0x1:-0x1;return 0x0;});const _0x56eed8=_0x573052['isRemedial']===!![],_0x29d8fd=_0x573052[_0x36fb94(0x5a5)]?.[_0x36fb94(0x6a1)]??-0x1;let _0x48ad73='';_0xd3759a[_0x36fb94(0x497)]((_0x3cce4b,_0x9a2bb)=>{const _0xb900b2=_0x36fb94,_0x25ce52=_0x9a2bb+0x1;let _0x633ae3='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x56eed8||_0x29d8fd!==-0x1){let _0x12c4fa=_0x56eed8?_0x3cce4b[_0xb900b2(0x3d1)]===_0xea4e98:_0x3cce4b[_0xb900b2(0x3d1)]>=_0x29d8fd;const _0x982761=_0x12c4fa?_0xb900b2(0x17e):_0xb900b2(0x44b),_0x544e73=_0x12c4fa?_0xb900b2(0x206):'ไม่ผ่าน';_0x633ae3='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x982761+'\x22>'+_0x544e73+_0xb900b2(0x474);}const _0x1d38f9=_0x3cce4b[_0xb900b2(0x663)][_0x3cce4b[_0xb900b2(0x663)]['length']-0x1],_0xd3601b=(_0x1d38f9[_0xb900b2(0x69f)]||[])[_0xb900b2(0x5b1)](_0x26dec1=>{const _0x56acd8=_0xb900b2,_0x1f6eb2=Object[_0x56acd8(0x38d)](BADGES)[_0x56acd8(0x1e6)](_0x23be4c=>_0x23be4c['id']===_0x26dec1);return _0x1f6eb2?_0x56acd8(0x3c2)+_0x1f6eb2[_0x56acd8(0x2bc)]+_0x56acd8(0x2cc)+_0x1f6eb2['icon']+_0x56acd8(0x16d):'';})[_0xb900b2(0x1ed)]('');_0x48ad73+=_0xb900b2(0x576)+_0x25ce52+_0xb900b2(0x233)+_0x3cce4b[_0xb900b2(0x210)]+_0xb900b2(0x556)+_0x3cce4b[_0xb900b2(0x3d1)]+_0xb900b2(0x550)+_0xea4e98+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x633ae3+_0xb900b2(0x329)+(_0x3cce4b['points']||0x0)+_0xb900b2(0x3a8)+(_0x2800a4?'':_0xb900b2(0x5ce)+(_0x3cce4b[_0xb900b2(0x663)]?.[_0xb900b2(0x2d0)]||0x1)+_0xb900b2(0x265))+_0xb900b2(0x4f7)+(_0x2800a4?'':_0xb900b2(0x20b)+new Date(_0x3cce4b[_0xb900b2(0x522)])[_0xb900b2(0x363)](_0xb900b2(0x174))+_0xb900b2(0x265))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0xd3601b||'-')+_0xb900b2(0x591);}),_0x4b51a2[_0x36fb94(0x21c)]=_0x48ad73,_0xa953f7&&!_0x2800a4&&_0xa953f7[_0x36fb94(0x620)](_0x36fb94(0x44d))[_0x36fb94(0x497)](_0x8fb7f5=>{const _0x26c50e=_0x36fb94,_0x3949aa=_0x8fb7f5['querySelector'](_0x26c50e(0x1d9));if(_0x3949aa)_0x3949aa[_0x26c50e(0x640)]();_0x8fb7f5['dataset'][_0x26c50e(0x5d0)]===quizLeaderboardSortBy&&(_0x8fb7f5[_0x26c50e(0x21c)]+=_0x26c50e(0x317)+(quizLeaderboardSortOrder===_0x26c50e(0x44e)?'▲':'▼')+'</span>');});}async function handleLoadQuiz(){const _0x43922a=_0xa29d1b,_0x233f42=document[_0x43922a(0x185)]('quiz-id-input'),_0x2f0d4b=_0x233f42[_0x43922a(0x261)][_0x43922a(0x5cc)]();if(!_0x2f0d4b){showMessage(_0x43922a(0x470));return;}loadQuizBtn[_0x43922a(0x16a)]=!![],loadQuizBtn[_0x43922a(0x21c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x3fc3c3=doc(db,_0x43922a(0x14d)+appId+_0x43922a(0x577),_0x2f0d4b),_0x4fc44c=await getDoc(_0x3fc3c3);if(!_0x4fc44c[_0x43922a(0x228)]()){showMessage(_0x43922a(0x5c9));return;}currentQuizData={'id':_0x4fc44c['id'],..._0x4fc44c['data']()};const _0x5a115b=currentQuizData[_0x43922a(0x1f6)]||_0x43922a(0x60c),_0xbef11a=new Date();if(_0x5a115b===_0x43922a(0x627)){showMessage(_0x43922a(0x68a));return;}if(_0x5a115b==='scheduled'){const _0x2a2bb6=currentQuizData['startTime']?new Date(currentQuizData[_0x43922a(0x274)]):null,_0x252708=currentQuizData[_0x43922a(0x486)]?new Date(currentQuizData['endTime']):null;if(_0x2a2bb6&&_0xbef11a<_0x2a2bb6){showMessage(_0x43922a(0x488)+_0x2a2bb6['toLocaleString'](_0x43922a(0x174),{'hour12':![]}));return;}if(_0x252708&&_0xbef11a>_0x252708){showMessage(_0x43922a(0x4e4));return;}}const _0x2201d4=currentQuizData[_0x43922a(0x240)];currentProjectId=_0x2201d4;const _0x24a562=doc(db,_0x43922a(0x14d)+appId+'/public/data/projects',_0x2201d4),_0x145a37=await getDoc(_0x24a562);if(!_0x145a37[_0x43922a(0x228)]()){showMessage(_0x43922a(0x38e));return;}const _0x494712=_0x145a37['data']();currentStudentProjectData=_0x494712,displayStudentNameSelector(_0x494712[_0x43922a(0x34b)],currentQuizData['topic']);}catch(_0x17aad8){console[_0x43922a(0x2f7)](_0x43922a(0x51d),_0x17aad8),showMessage(_0x43922a(0x20e));}finally{loadQuizBtn[_0x43922a(0x16a)]=![],loadQuizBtn[_0x43922a(0x21c)]=_0x43922a(0x6a4);}}async function handleJoinLiveGame(){const _0x56fbfa=_0xa29d1b,_0x55acad=document[_0x56fbfa(0x185)](_0x56fbfa(0x1da)),_0x1580e2=document[_0x56fbfa(0x185)](_0x56fbfa(0x412)),_0x51449e=document[_0x56fbfa(0x185)]('confirm-join-game-btn'),_0x40e732=_0x55acad[_0x56fbfa(0x261)][_0x56fbfa(0x5cc)](),_0x390cfe=_0x1580e2[_0x56fbfa(0x261)][_0x56fbfa(0x5cc)]();if(!_0x40e732||!_0x390cfe){showMessage(_0x56fbfa(0x659));return;}_0x51449e[_0x56fbfa(0x16a)]=!![],_0x51449e[_0x56fbfa(0x21c)]=_0x56fbfa(0x374);try{const _0x5944bc=collection(db,_0x56fbfa(0x14d)+appId+_0x56fbfa(0x4c8)),_0x5ae605=query(_0x5944bc,where(_0x56fbfa(0x423),'==',_0x40e732),where(_0x56fbfa(0x1f6),'==',_0x56fbfa(0x4be))),_0x1407c5=await getDocs(_0x5ae605);if(_0x1407c5['empty']){showMessage(_0x56fbfa(0x2cb));return;}const _0x3d21fd=_0x1407c5[_0x56fbfa(0x643)][0x0],_0x42bf2e=_0x3d21fd[_0x56fbfa(0x585)]();currentLiveGameId=_0x3d21fd['id'];const _0x34f6da=_0x42bf2e[_0x56fbfa(0x2ec)],_0x4d22b3=doc(db,_0x56fbfa(0x14d)+appId+_0x56fbfa(0x577),_0x34f6da),_0x5a5256=await getDoc(_0x4d22b3);if(!_0x5a5256[_0x56fbfa(0x228)]()){showMessage(_0x56fbfa(0x644));return;}currentQuizData={'id':_0x5a5256['id'],..._0x5a5256['data']()};if(_0x42bf2e[_0x56fbfa(0x281)]&&_0x42bf2e[_0x56fbfa(0x281)][_0x390cfe]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x459f22={};_0x459f22['players.'+_0x390cfe]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0x56fbfa(0x4c8),currentLiveGameId),_0x459f22),currentStudentName=_0x390cfe,listenForLiveGameUpdates();}catch(_0x205952){console[_0x56fbfa(0x2f7)](_0x56fbfa(0x679),_0x205952),showMessage(_0x56fbfa(0x6f0));}finally{_0x51449e[_0x56fbfa(0x16a)]=![],_0x51449e[_0x56fbfa(0x21c)]=_0x56fbfa(0x3af);}}function displayStudentNameSelector(_0x4c9187,_0x21f961){const _0x35bc12=_0xa29d1b,_0x33579c=document['getElementById']('student-name-select');document[_0x35bc12(0x185)](_0x35bc12(0x5e9))['textContent']=_0x35bc12(0x429)+_0x21f961,!_0x4c9187||_0x4c9187[_0x35bc12(0x2d0)]===0x0?(_0x33579c['innerHTML']=_0x35bc12(0x4e7),startQuizBtn[_0x35bc12(0x16a)]=!![]):(_0x33579c['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x4c9187[_0x35bc12(0x497)](_0x5147fb=>{const _0x3333f7=_0x35bc12,_0xbced0c=document['createElement'](_0x3333f7(0x651));_0xbced0c[_0x3333f7(0x261)]=_0x5147fb,_0xbced0c[_0x3333f7(0x65e)]=_0x5147fb,_0x33579c['appendChild'](_0xbced0c);}),startQuizBtn[_0x35bc12(0x16a)]=![]),studentInitialView[_0x35bc12(0x5a6)]['add'](_0x35bc12(0x6d1)),studentNameSelectionView[_0x35bc12(0x5a6)]['remove'](_0x35bc12(0x6d1));}function shuffleArray(_0x383553){const _0x4bfa26=_0xa29d1b;for(let _0x490169=_0x383553[_0x4bfa26(0x2d0)]-0x1;_0x490169>0x0;_0x490169--){const _0x116755=Math[_0x4bfa26(0x350)](Math['random']()*(_0x490169+0x1));[_0x383553[_0x490169],_0x383553[_0x116755]]=[_0x383553[_0x116755],_0x383553[_0x490169]];}}function getShuffledQuiz(_0x499008){const _0x163b69=_0xa29d1b;let _0x3e8576=JSON[_0x163b69(0x4a0)](JSON['stringify'](_0x499008));const _0x5ebb84=_0x3e8576[_0x163b69(0x5a5)]?.[_0x163b69(0x20c)]||_0x163b69(0x543);if(_0x5ebb84==='none')return _0x3e8576;return(_0x5ebb84==='questions_only'||_0x5ebb84===_0x163b69(0x3b0))&&shuffleArray(_0x3e8576['questions']),(_0x5ebb84===_0x163b69(0x231)||_0x5ebb84==='both')&&_0x3e8576[_0x163b69(0x64e)][_0x163b69(0x497)](_0x5297ca=>{const _0x269176=_0x163b69,_0xeb9510=_0x5297ca[_0x269176(0x1f0)]||_0x3e8576[_0x269176(0x40b)];if(_0x5297ca[_0x269176(0x186)]){let _0x83eeed=_0x5297ca[_0x269176(0x186)]['map']((_0x136e29,_0x322cb7)=>({'text':_0x136e29,'isCorrect':_0x322cb7===_0x5297ca['correctAnswerIndex']}));shuffleArray(_0x83eeed),_0x5297ca['options']=_0x83eeed[_0x269176(0x5b1)](_0x133182=>_0x133182['text']),_0x5297ca[_0x269176(0x6c3)]=_0x83eeed[_0x269176(0x247)](_0xa7a9e9=>_0xa7a9e9[_0x269176(0x69b)]);}_0xeb9510===_0x269176(0x362)&&_0x5297ca['allResponses']&&shuffleArray(_0x5297ca['allResponses']);}),_0x3e8576;}function displayQuizForStudent(_0x37891a){const _0x582eb9=_0xa29d1b;studentQuizArea['classList']['remove'](_0x582eb9(0x6d1)),currentDisplayedQuiz=getShuffledQuiz(_0x37891a);const _0x103cf4=currentDisplayedQuiz[_0x582eb9(0x5a5)]?.[_0x582eb9(0x279)]||'none';if(_0x103cf4==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x582eb9(0x5a5)][_0x582eb9(0x297)]);else _0x103cf4===_0x582eb9(0x1bf)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5a7fb6=_0xa29d1b;let _0x4a041b=_0x5a7fb6(0x29b)+currentDisplayedQuiz[_0x5a7fb6(0x1d1)]+_0x5a7fb6(0x31b)+(currentMode===_0x5a7fb6(0x194)?_0x5a7fb6(0x6b1):'')+_0x5a7fb6(0x51e);currentDisplayedQuiz[_0x5a7fb6(0x64e)][_0x5a7fb6(0x497)]((_0x375427,_0x3e1eb3)=>{const _0x12e190=_0x5a7fb6,_0x194f17=_0x375427[_0x12e190(0x1f0)]||currentDisplayedQuiz[_0x12e190(0x40b)];_0x4a041b+=_0x12e190(0x584);_0x194f17===_0x12e190(0x362)?_0x4a041b+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x3e1eb3+0x1)+'.\x20'+_0x375427[_0x12e190(0x18e)]+_0x12e190(0x3eb)+_0x3e1eb3+_0x12e190(0x328)+_0x375427[_0x12e190(0x462)][_0x12e190(0x5b1)](_0x15d931=>_0x12e190(0x6b5)+_0x15d931+'\x22>'+_0x15d931+_0x12e190(0x609))['join']('')+_0x12e190(0x5a8):(_0x4a041b+=_0x12e190(0x166)+(_0x3e1eb3+0x1)+'.\x20'+(_0x375427[_0x12e190(0x5a1)]||_0x375427['questionText'])+_0x12e190(0x500),_0x375427['imageCode']&&(_0x4a041b+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x375427[_0x12e190(0x270)]+'</div>'));_0x4a041b+=_0x12e190(0x347);switch(_0x194f17){case _0x12e190(0x3ba):_0x4a041b+=_0x12e190(0x440)+_0x3e1eb3+_0x12e190(0x3a7);break;case _0x12e190(0x1c4):_0x4a041b+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x3e1eb3+_0x12e190(0x6ad)+_0x3e1eb3+_0x12e190(0x2cf)+_0x3e1eb3+_0x12e190(0x66f),_0x4a041b+=_0x12e190(0x688)+_0x3e1eb3+_0x12e190(0x149)+_0x3e1eb3+_0x12e190(0x32f)+_0x3e1eb3+_0x12e190(0x369);break;case _0x12e190(0x362):break;case _0x12e190(0x2a0):case _0x12e190(0x145):default:_0x4a041b+=_0x375427[_0x12e190(0x186)]['map']((_0x398a2b,_0x530628)=>_0x12e190(0x512)+_0x3e1eb3+_0x12e190(0x531)+_0x530628+_0x12e190(0x419)+_0x3e1eb3+'\x22\x20value=\x22'+_0x530628+_0x12e190(0x69a)+_0x3e1eb3+'_opt'+_0x530628+'\x22>'+_0x398a2b+_0x12e190(0x559))[_0x12e190(0x1ed)]('');break;}_0x4a041b+=_0x12e190(0x67c);}),_0x4a041b+=_0x5a7fb6(0x69c),_0x4a041b+=_0x5a7fb6(0x593),studentQuizArea[_0x5a7fb6(0x21c)]=_0x4a041b;if(currentMode===_0x5a7fb6(0x194)){const _0x404f82=document[_0x5a7fb6(0x185)]('cancel-test-btn');if(_0x404f82)_0x404f82[_0x5a7fb6(0x581)](_0x5a7fb6(0x599),cancelAdminTest);}document['getElementById'](_0x5a7fb6(0x42b))[_0x5a7fb6(0x581)](_0x5a7fb6(0x190),handleSubmitQuiz);if(window[_0x5a7fb6(0x4ca)])window[_0x5a7fb6(0x4ca)][_0x5a7fb6(0x34c)]([studentQuizArea]);}async function handleSubmitQuiz(_0x302a2f){const _0x801003=_0xa29d1b;if(_0x302a2f)_0x302a2f[_0x801003(0x59d)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x989152=document[_0x801003(0x185)](_0x801003(0x42b));if(!_0x989152)return;const _0x5b3ca0=_0x989152[_0x801003(0x61b)](_0x801003(0x244)),_0xf59733=currentDisplayedQuiz[_0x801003(0x64e)][_0x801003(0x3de)](_0x38dcb5=>_0x38dcb5[_0x801003(0x1f0)]==='short_answer');_0x5b3ca0&&(_0x5b3ca0['disabled']=!![],_0xf59733?_0x5b3ca0[_0x801003(0x21c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x5b3ca0['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x395687=new FormData(_0x989152),_0x2a0f28=currentDisplayedQuiz[_0x801003(0x64e)][_0x801003(0x5b1)]((_0x3a8706,_0x4ec0d9)=>{const _0x4ed5eb=_0x801003,_0x12ff4d=_0x3a8706[_0x4ed5eb(0x1f0)]||currentDisplayedQuiz[_0x4ed5eb(0x40b)],_0x4f5ce7=_0x395687[_0x4ed5eb(0x375)](_0x4ed5eb(0x19e)+_0x4ec0d9);if(_0x4f5ce7!==null&&_0x4f5ce7!==undefined){if(_0x12ff4d===_0x4ed5eb(0x145)||_0x12ff4d===_0x4ed5eb(0x2a0))return parseInt(_0x4f5ce7);return _0x4f5ce7;}return null;}),_0x9272d1=currentQuizData['id'],_0x393282=doc(db,_0x801003(0x14d)+appId+'/public/data/quizzes/'+_0x9272d1+'/submissions',currentStudentName),_0x11cd47=await getDoc(_0x393282),_0x457f0b=_0x11cd47[_0x801003(0x228)]()?_0x11cd47[_0x801003(0x585)]():{},_0x49da2d=_0x457f0b[_0x801003(0x663)]||[];await processAndSubmitAnswers(_0x2a0f28,_0x49da2d);}async function gradeShortAnswerWithAI(_0x28235c,_0x3fe81a){const _0x56b066=_0xa29d1b;if(!_0x28235c||!_0x3fe81a)return![];try{const _0x4bfde1=_0x56b066(0x202)+_0x28235c+_0x56b066(0x464)+_0x3fe81a+_0x56b066(0x5fe),_0x4d9f49={'contents':[{'role':_0x56b066(0x4ac),'parts':[{'text':_0x4bfde1}]}]},_0x1b38cc=_0x56b066(0x200),_0x3d8671=_0x56b066(0x1e3)+_0x1b38cc,_0x165dff=await fetch(_0x3d8671,{'method':_0x56b066(0x536),'headers':{'Content-Type':_0x56b066(0x42e)},'body':JSON[_0x56b066(0x56e)](_0x4d9f49)});if(!_0x165dff['ok'])throw new Error(_0x56b066(0x2a8));const _0x34a1bf=await _0x165dff['json'](),_0x338ef1=_0x34a1bf[_0x56b066(0x273)][0x0][_0x56b066(0x1a6)][_0x56b066(0x2c4)][0x0]['text'][_0x56b066(0x5cc)]()[_0x56b066(0x1de)]();return _0x338ef1==='true';}catch(_0x4fe8a6){return console[_0x56b066(0x2f7)](_0x56b066(0x606),_0x4fe8a6),![];}}async function processAndSubmitAnswers(_0x2d7305,_0x23847a){const _0x1f0a19=_0xa29d1b;let _0xa7e720=0x0,_0xd60e49=0x0,_0x3f516a=[];const _0x2669e6=[],_0x567a5d=currentDisplayedQuiz[_0x1f0a19(0x64e)][_0x1f0a19(0x2d0)];let _0x429945=0x0;const _0x1887f3=currentDisplayedQuiz['questions'];for(let _0x269e80=0x0;_0x269e80<_0x1887f3[_0x1f0a19(0x2d0)];_0x269e80++){const _0x2a3472=_0x1887f3[_0x269e80],_0x502f20=_0x2d7305[_0x269e80],_0x1df225=_0x2a3472['questionType']||currentDisplayedQuiz[_0x1f0a19(0x40b)];let _0x5dd6fb=![];if(_0x502f20!==null&&_0x502f20!=='')switch(_0x1df225){case _0x1f0a19(0x362):_0x5dd6fb=_0x502f20===_0x2a3472['correctResponse'];break;case _0x1f0a19(0x1c4):const _0x46aaa6=_0x502f20===!![]||_0x502f20==='true';_0x5dd6fb=_0x46aaa6===_0x2a3472[_0x1f0a19(0x5d7)];break;case _0x1f0a19(0x2a0):case _0x1f0a19(0x145):default:_0x5dd6fb=Number(_0x502f20)===_0x2a3472['correctAnswerIndex'];break;case'short_answer':_0x5dd6fb=await gradeShortAnswer(_0x502f20,_0x2a3472);break;}_0x5dd6fb?(_0xa7e720++,_0x429945++,_0x429945===0x3&&(_0x3f516a['push'](BADGES[_0x1f0a19(0x2a5)]['id']),_0x429945=0x0)):_0x429945=0x0,_0x2669e6[_0x1f0a19(0x2f8)]({'answer':_0x502f20,'isCorrect':_0x5dd6fb,'originalQuestionText':_0x2a3472['stem']||_0x2a3472[_0x1f0a19(0x6f2)]});}_0xd60e49=_0xa7e720*0xa;_0xa7e720===_0x567a5d&&_0x567a5d>0x0&&!currentDisplayedQuiz[_0x1f0a19(0x17d)]&&(_0xd60e49+=0x32,_0x3f516a[_0x1f0a19(0x2f8)](BADGES[_0x1f0a19(0x41c)]['id']));const _0x1396b4=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x1f0a19(0x350)](_0x567a5d/0x2),_0x426cfc=currentDisplayedQuiz[_0x1f0a19(0x5a5)]?.[_0x1f0a19(0x279)];if(_0x426cfc===_0x1f0a19(0x378)&&quizStartTime){const _0x47ba48=(new Date()-quizStartTime)/0x3e8,_0x3b1efd=currentDisplayedQuiz[_0x1f0a19(0x5a5)][_0x1f0a19(0x297)]*0x3c;_0xa7e720>=_0x1396b4&&_0x47ba48<_0x3b1efd/0x2&&(_0xd60e49+=0x14,_0x3f516a[_0x1f0a19(0x2f8)](BADGES[_0x1f0a19(0x535)]['id']));}_0x23847a['length']===0x0&&_0xa7e720===_0x567a5d&&_0x567a5d>0x0&&_0x3f516a[_0x1f0a19(0x2f8)](BADGES[_0x1f0a19(0x6ec)]['id']);if(_0x23847a[_0x1f0a19(0x2d0)]>0x0){const _0x5a36cd=_0x23847a[0x0][_0x1f0a19(0x1f2)];if(_0x5a36cd<_0x1396b4&&_0xa7e720>=_0x1396b4){const _0x3239bf=_0x23847a['some'](_0x3512f7=>(_0x3512f7['badges']||[])['includes'](BADGES['COMEBACK_KING']['id']));!_0x3239bf&&_0x3f516a['push'](BADGES[_0x1f0a19(0x2d8)]['id']);}}_0x23847a[_0x1f0a19(0x2d0)]===0x4&&_0x3f516a[_0x1f0a19(0x2f8)](BADGES[_0x1f0a19(0x469)]['id']);const _0x418719=currentDisplayedQuiz[_0x1f0a19(0x5a5)][_0x1f0a19(0x669)];if(currentMode===_0x1f0a19(0x194)){handleResultDisplay(_0x418719,_0xa7e720,_0xd60e49,_0x3f516a,_0x2669e6,_0x567a5d);return;}const _0x35830f=currentQuizData['id'],_0x540058=doc(db,'artifacts/'+appId+_0x1f0a19(0x2b3)+_0x35830f+_0x1f0a19(0x35a),currentStudentName);try{const _0x252e6c=[..._0x23847a],_0x5d9cd1={'score':_0xa7e720,'points':_0xd60e49,'badges':_0x3f516a,'submittedAt':new Date()[_0x1f0a19(0x1c8)](),'answers':_0x2669e6};_0x252e6c[_0x1f0a19(0x2f8)](_0x5d9cd1);const _0x45ea62=_0x252e6c[0x0][_0x1f0a19(0x1f2)],_0x3b9d4d=Math['max'](..._0x252e6c[_0x1f0a19(0x5b1)](_0x470475=>_0x470475[_0x1f0a19(0x1f2)])),_0xd84a54=_0xa7e720,_0x1bb509=_0x5d9cd1['submittedAt'];await setDoc(_0x540058,{'studentName':currentStudentName,'totalQuestions':_0x567a5d,'attempts':_0x252e6c,'firstScore':_0x45ea62,'bestScore':_0x3b9d4d,'latestScore':_0xd84a54,'points':_0xd60e49,'latestSubmittedAt':_0x1bb509}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x418719,_0xa7e720,_0xd60e49,_0x3f516a,_0x2669e6,_0x567a5d);}catch(_0x49dec){console['error'](_0x1f0a19(0x2af),_0x49dec),showMessage(_0x1f0a19(0x278));}}async function updateStudentProfile(_0x2cfdbf,_0x31c430){const _0x56c562=_0xa29d1b,_0x5608cb=doc(db,_0x56c562(0x14d)+appId+_0x56c562(0x3b1)+_0x2cfdbf+'/studentProfiles',_0x31c430);try{const _0x28a662=query(collection(db,_0x56c562(0x14d)+appId+_0x56c562(0x577)),where(_0x56c562(0x240),'==',_0x2cfdbf)),_0x2dee0e=await getDocs(_0x28a662),_0x276010=new Map(_0x2dee0e['docs'][_0x56c562(0x5b1)](_0x567a39=>[_0x567a39['id'],_0x567a39[_0x56c562(0x585)]()])),_0x270927=Array['from'](_0x276010[_0x56c562(0x465)]());await runTransaction(db,async _0x31e86f=>{const _0x4e12c2=_0x56c562;let _0x4acfd6=0x0;const _0x7eb730={};let _0x1b6b2f=!![],_0x5c89d1=0x0,_0x2cb4fd=0x0;for(const _0x435eed of _0x270927){const _0xb2a288=_0x276010[_0x4e12c2(0x375)](_0x435eed),_0x399ba1=doc(db,_0x4e12c2(0x14d)+appId+_0x4e12c2(0x2b3)+_0x435eed+_0x4e12c2(0x35a),_0x31c430),_0x30858b=await _0x31e86f[_0x4e12c2(0x375)](_0x399ba1);if(_0x30858b[_0x4e12c2(0x228)]()){const _0x6b7bc9=_0x30858b['data'](),_0x453050=_0x6b7bc9['attempts']||[];if(_0x453050[_0x4e12c2(0x2d0)]>0x0){const _0x271204=_0x453050[_0x4e12c2(0x55e)]((_0x4ed208,_0x23d7d8)=>{const _0x3fd08c=_0x4e12c2;if(_0x23d7d8[_0x3fd08c(0x1f2)]>_0x4ed208[_0x3fd08c(0x1f2)])return _0x23d7d8;if(_0x23d7d8[_0x3fd08c(0x1f2)]===_0x4ed208[_0x3fd08c(0x1f2)])return(_0x23d7d8[_0x3fd08c(0x1df)]||0x0)>(_0x4ed208[_0x3fd08c(0x1df)]||0x0)?_0x23d7d8:_0x4ed208;return _0x4ed208;},{'score':-0x1,'points':-0x1});_0x271204['score']>-0x1&&(_0x4acfd6+=_0x271204[_0x4e12c2(0x1df)]||0x0,(_0x271204[_0x4e12c2(0x69f)]||[])[_0x4e12c2(0x497)](_0x1b2786=>{_0x7eb730[_0x1b2786]=(_0x7eb730[_0x1b2786]||0x0)+0x1;}));}}if(_0xb2a288[_0x4e12c2(0x1d1)]!=='แบบทดสอบซ่อมเสริม'){_0x2cb4fd++;if(_0x30858b[_0x4e12c2(0x228)]()){_0x5c89d1++;const _0x5bc5c2=_0x30858b[_0x4e12c2(0x585)]();_0x5bc5c2[_0x4e12c2(0x3d1)]!==_0x5bc5c2[_0x4e12c2(0x55b)]&&(_0x1b6b2f=![]);}else _0x1b6b2f=![];}}_0x2cb4fd>0x0&&_0x5c89d1===_0x2cb4fd&&_0x1b6b2f?_0x7eb730[_0x4e12c2(0x1c1)]=0x1:_0x7eb730['specialist']=0x0,_0x31e86f[_0x4e12c2(0x6d0)](_0x5608cb,{'studentName':_0x31c430,'totalPoints':_0x4acfd6,'unlockedBadges':Object[_0x4e12c2(0x465)](_0x7eb730)[_0x4e12c2(0x4d4)](_0x1b692c=>_0x7eb730[_0x1b692c]>0x0),'badgesCount':_0x7eb730},{'merge':!![]});});}catch(_0x488a10){console[_0x56c562(0x2f7)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x488a10),showMessage(_0x56c562(0x5bb));}}function startAdminTest(){const _0x17cb94=_0xa29d1b;if(!currentQuizData){showMessage(_0x17cb94(0x2de));return;}let _0x289afd=JSON[_0x17cb94(0x4a0)](JSON[_0x17cb94(0x56e)](currentQuizData));currentMode=_0x17cb94(0x194),currentStudentName=_0x17cb94(0x146),adminView[_0x17cb94(0x5a6)]['add']('hidden'),studentView[_0x17cb94(0x5a6)][_0x17cb94(0x640)](_0x17cb94(0x6d1)),studentInitialView['classList']['add']('hidden'),studentNameSelectionView[_0x17cb94(0x5a6)]['add'](_0x17cb94(0x6d1)),studentResultArea[_0x17cb94(0x5a6)]['add'](_0x17cb94(0x6d1)),studentQuizArea['classList'][_0x17cb94(0x640)](_0x17cb94(0x6d1)),quizStartTime=new Date(),displayQuizForStudent(_0x289afd);}function handleResultDisplay(_0x71e04b,_0x17e943,_0x5c9b25,_0x49cf6a,_0x3ca268,_0x284908){const _0x5bdad8=_0xa29d1b,_0x12bebe=currentDisplayedQuiz[_0x5bdad8(0x5a5)]?.['passingScore']??Math[_0x5bdad8(0x350)](_0x284908/0x2),_0x68f57f=currentDisplayedQuiz[_0x5bdad8(0x5a5)]?.[_0x5bdad8(0x31d)]??![];if(_0x68f57f&&_0x17e943<_0x12bebe){startAdaptiveFlow(_0x3ca268,_0x17e943,_0x284908);return;}switch(_0x71e04b){case _0x5bdad8(0x22b):displayResultsWithAnswers(_0x17e943,_0x5c9b25,_0x49cf6a,_0x3ca268,_0x284908);break;case _0x5bdad8(0x4f0):displayResultsScoreOnly(_0x17e943,_0x5c9b25,_0x49cf6a,_0x284908);break;case _0x5bdad8(0x62d):displayPassFailOnly(_0x17e943,_0x284908);break;case _0x5bdad8(0x357):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x4a2d61,_0x5802c5,_0x253222){const _0xe4b3a3=_0xa29d1b,_0x308c3=_0x4a2d61[_0xe4b3a3(0x5b1)]((_0x22bc2a,_0x19eb5a)=>({..._0x22bc2a,'originalQuestion':currentDisplayedQuiz[_0xe4b3a3(0x64e)][_0x19eb5a]}))['filter'](_0x5c8961=>!_0x5c8961[_0xe4b3a3(0x69b)]&&_0x5c8961[_0xe4b3a3(0x1c7)][_0xe4b3a3(0x4bb)])[_0xe4b3a3(0x5b1)](_0x2aac60=>'-\x20'+_0x2aac60[_0xe4b3a3(0x1c7)][_0xe4b3a3(0x4bb)])['join']('\x0a');if(!_0x308c3){displayResultsScoreOnly(_0x5802c5,0x0,[],_0x253222);return;}studentQuizArea[_0xe4b3a3(0x5a6)][_0xe4b3a3(0x4d7)]('hidden'),studentReadingArea[_0xe4b3a3(0x5a6)]['remove'](_0xe4b3a3(0x6d1)),studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2e271d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22'+currentDisplayedQuiz['topic']+_0xe4b3a3(0x25a)+_0x308c3+_0xe4b3a3(0x551),_0x5f096d={'type':_0xe4b3a3(0x5b3),'properties':{'remedialContent':{'type':_0xe4b3a3(0x3c3)}},'required':[_0xe4b3a3(0x33c)]};try{const _0x507652=await callAnalysisApi(_0x2e271d,_0x5f096d),_0x368cb1=_0x507652['remedialContent'];studentReadingArea['innerHTML']=_0xe4b3a3(0x3a2)+_0x368cb1[_0xe4b3a3(0x160)](/\n/g,_0xe4b3a3(0x3f3))+_0xe4b3a3(0x4bc),document[_0xe4b3a3(0x185)](_0xe4b3a3(0x435))['addEventListener'](_0xe4b3a3(0x599),()=>generateRemedialQuiz(_0x308c3));}catch(_0x1f53a8){console['error']('Adaptive\x20flow\x20failed:',_0x1f53a8),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x5802c5,0x0,[],_0x253222);}}async function generateRemedialQuiz(_0x5474d8){const _0x1506f2=_0xa29d1b;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x462029=_0x1506f2(0x3c5)+_0x5474d8+_0x1506f2(0x242)+simpleMathPrompt+_0x1506f2(0x61d),_0x12032d={'type':'OBJECT','properties':{'questionText':{'type':_0x1506f2(0x3c3)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1506f2(0x3c3)}},'required':[_0x1506f2(0x6f2),_0x1506f2(0x186),_0x1506f2(0x6c3),_0x1506f2(0x4bb)]},_0x8cb951={'type':_0x1506f2(0x5b3),'properties':{'topic':{'type':_0x1506f2(0x3c3)},'questions':{'type':_0x1506f2(0x6d3),'items':_0x12032d}},'required':[_0x1506f2(0x1d1),'questions']};try{const _0x350e4b=await callAnalysisApi(_0x462029,_0x8cb951);_0x350e4b[_0x1506f2(0x17d)]=!![],studentReadingArea[_0x1506f2(0x5a6)][_0x1506f2(0x4d7)]('hidden');const _0x359466={...currentDisplayedQuiz[_0x1506f2(0x5a5)],'isAdaptive':![],'resultsDisplay':_0x1506f2(0x22b)};_0x350e4b[_0x1506f2(0x5a5)]=_0x359466,displayQuizForStudent(_0x350e4b);}catch(_0x439b44){console[_0x1506f2(0x2f7)](_0x1506f2(0x5ad),_0x439b44),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x1506f2(0x4a6));}}function displayPassFailOnly(_0x5c3d5e,_0x5d1be9){const _0x54efdc=_0xa29d1b,_0x1b5edf=currentDisplayedQuiz[_0x54efdc(0x5a5)]?.[_0x54efdc(0x6a1)]??-0x1,_0x1f9f21=currentDisplayedQuiz[_0x54efdc(0x17d)]===!![];let _0x4be278='';if(_0x1f9f21||_0x1b5edf!==-0x1){let _0x326ae9;_0x1f9f21?_0x326ae9=_0x5c3d5e===_0x5d1be9:_0x326ae9=_0x5c3d5e>=_0x1b5edf;const _0x163a5c=_0x326ae9?_0x54efdc(0x17e):_0x54efdc(0x44b),_0x3ae890=_0x326ae9?_0x54efdc(0x206):_0x54efdc(0x450);_0x4be278=_0x54efdc(0x63f)+_0x163a5c+'\x22>'+_0x3ae890+_0x54efdc(0x16e);}else _0x4be278=_0x54efdc(0x509);let _0x2770d2=_0x54efdc(0x4d6)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4be278+_0x54efdc(0x53d);studentResultArea[_0x54efdc(0x21c)]=_0x2770d2,studentResultArea[_0x54efdc(0x5a6)]['remove']('hidden'),studentQuizArea[_0x54efdc(0x5a6)][_0x54efdc(0x4d7)]('hidden');const _0x5480a1=_0x54efdc(0x5da),_0x50ab1e=currentMode==='admin-testing',_0x3f9463=_0x50ab1e?_0x54efdc(0x182):_0x54efdc(0x1dc),_0x33205a=_0x54efdc(0x6eb)+_0x5480a1+_0x54efdc(0x636)+_0x3f9463+_0x54efdc(0x5b2);studentResultArea[_0x54efdc(0x14f)](_0x54efdc(0x3bf),_0x33205a),document[_0x54efdc(0x185)](_0x5480a1)[_0x54efdc(0x581)]('click',()=>{const _0x3c16dc=_0x54efdc;_0x50ab1e?(currentMode=_0x3c16dc(0x2e8),studentView[_0x3c16dc(0x5a6)][_0x3c16dc(0x4d7)](_0x3c16dc(0x6d1)),adminView[_0x3c16dc(0x5a6)][_0x3c16dc(0x640)](_0x3c16dc(0x6d1)),showView(_0x3c16dc(0x18b))):(showView(_0x3c16dc(0x4a6)),document[_0x3c16dc(0x185)](_0x3c16dc(0x25d))[_0x3c16dc(0x261)]='');});}function cancelAdminTest(){const _0x54da7e=_0xa29d1b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x54da7e(0x2e8),studentView[_0x54da7e(0x5a6)]['add']('hidden'),adminView[_0x54da7e(0x5a6)][_0x54da7e(0x640)](_0x54da7e(0x6d1)),showView(_0x54da7e(0x18b));}function setupResultScreenBackButton(){const _0x27dbca=_0xa29d1b,_0x49073b=_0x27dbca(0x5da),_0x3e2a2a=currentMode===_0x27dbca(0x194),_0x34bc35=_0x3e2a2a?_0x27dbca(0x182):_0x27dbca(0x1dc),_0x56bbb4=_0x27dbca(0x2d6)+_0x49073b+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34bc35+_0x27dbca(0x59a);studentResultArea[_0x27dbca(0x14f)]('beforeend',_0x56bbb4),studentResultArea['querySelector'](_0x27dbca(0x33d))[_0x27dbca(0x581)](_0x27dbca(0x599),handleShowStudentRankings),document[_0x27dbca(0x185)](_0x49073b)[_0x27dbca(0x581)](_0x27dbca(0x599),()=>{const _0x495fc6=_0x27dbca;_0x3e2a2a?(currentMode=_0x495fc6(0x2e8),studentView['classList'][_0x495fc6(0x4d7)](_0x495fc6(0x6d1)),adminView['classList'][_0x495fc6(0x640)](_0x495fc6(0x6d1)),showView(_0x495fc6(0x18b))):(showView(_0x495fc6(0x4a6)),document[_0x495fc6(0x185)](_0x495fc6(0x25d))[_0x495fc6(0x261)]='');});}function displayResultsWithAnswers(_0x5813b8,_0x3dc2a0,_0x1737a4,_0x21a069,_0x21d569){const _0x6d4b7a=_0xa29d1b,_0x5c7913=_0x21d569>0x0?_0x5813b8/_0x21d569*0x64:0x0,_0x564fb2=currentDisplayedQuiz[_0x6d4b7a(0x5a5)]?.[_0x6d4b7a(0x6a1)]??-0x1,_0x45a79f=currentDisplayedQuiz[_0x6d4b7a(0x17d)]===!![];let _0x5ecbde='';if(_0x45a79f||_0x564fb2!==-0x1){let _0x5374eb=_0x45a79f?_0x5813b8===_0x21d569:_0x5813b8>=_0x564fb2;const _0x58ba8d=_0x5374eb?_0x6d4b7a(0x17e):_0x6d4b7a(0x44b),_0x29bc33=_0x5374eb?'ผ่าน':_0x6d4b7a(0x450);_0x5ecbde=_0x6d4b7a(0x539)+_0x58ba8d+'\x22>'+_0x29bc33+_0x6d4b7a(0x500);}let _0x261e19=_0x6d4b7a(0x43d)+currentStudentName+_0x6d4b7a(0x3a3)+_0x5813b8+_0x6d4b7a(0x65b)+_0x21d569+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ecbde+_0x6d4b7a(0x63e)+_0x3dc2a0+_0x6d4b7a(0x4ff)+_0x5c7913[_0x6d4b7a(0x426)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x6d4b7a(0x64e)][_0x6d4b7a(0x497)]((_0x2bd701,_0x11c5c3)=>{const _0x36a566=_0x6d4b7a,_0x2b169b=_0x21a069[_0x11c5c3],_0x275178=_0x2b169b[_0x36a566(0x15d)],_0x156f24=_0x2b169b[_0x36a566(0x69b)],_0x20231a=_0x2bd701[_0x36a566(0x1f0)]||currentDisplayedQuiz[_0x36a566(0x40b)];_0x261e19+=_0x36a566(0x6a3)+(_0x156f24?_0x36a566(0x5c5):_0x36a566(0x519))+_0x36a566(0x37c)+(_0x11c5c3+0x1)+'.\x20'+(_0x2bd701['stem']||_0x2bd701[_0x36a566(0x6f2)])+_0x36a566(0x6de);switch(_0x20231a){case _0x36a566(0x362):const _0x8a2975=_0x275178||_0x36a566(0x5aa),_0x327fb5=_0x2bd701['correctResponse'];_0x261e19+=_0x36a566(0x491)+(!_0x156f24?_0x36a566(0x288):'')+'\x22>'+_0x8a2975+_0x36a566(0x501);!_0x156f24&&(_0x261e19+=_0x36a566(0x5fd)+_0x327fb5+'</p>');break;case _0x36a566(0x3ba):_0x261e19+=_0x36a566(0x63a)+(_0x275178||_0x36a566(0x5aa))+'</p>',_0x261e19+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x2bd701[_0x36a566(0x217)]+_0x36a566(0x500);break;case _0x36a566(0x1c4):_0x261e19+=_0x36a566(0x468)+(_0x2bd701[_0x36a566(0x5d7)]===!![]?_0x36a566(0x26e):'')+'\x20'+(_0x275178==='true'&&!_0x156f24?'line-through\x20text-red-700':'')+_0x36a566(0x23f),_0x261e19+=_0x36a566(0x468)+(_0x2bd701['correctAnswer']===![]?_0x36a566(0x26e):'')+'\x20'+(_0x275178===_0x36a566(0x389)&&!_0x156f24?_0x36a566(0x288):'')+_0x36a566(0x552);break;case _0x36a566(0x2a0):case _0x36a566(0x145):default:_0x261e19+=_0x2bd701[_0x36a566(0x186)][_0x36a566(0x5b1)]((_0x18fd27,_0x2d6138)=>{const _0x433944=_0x36a566;let _0x51da31='',_0x3ce081='';if(_0x2d6138===_0x2bd701[_0x433944(0x6c3)])_0x51da31='font-bold\x20text-green-700',_0x3ce081=_0x433944(0x3f9);else _0x2d6138===_0x275178&&(_0x51da31=_0x433944(0x227),_0x3ce081=_0x433944(0x6a0));return _0x433944(0x5ea)+_0x51da31+'\x22>'+_0x3ce081+_0x18fd27+_0x433944(0x3f8);})[_0x36a566(0x1ed)]('');break;}_0x261e19+=_0x36a566(0x495)+(_0x2bd701[_0x36a566(0x4bb)]||'ไม่มีคำอธิบาย')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),studentResultArea[_0x6d4b7a(0x21c)]=_0x261e19,renderEarnedBadges(_0x1737a4,_0x6d4b7a(0x6ae)),studentResultArea[_0x6d4b7a(0x5a6)][_0x6d4b7a(0x640)](_0x6d4b7a(0x6d1)),studentQuizArea[_0x6d4b7a(0x5a6)][_0x6d4b7a(0x4d7)](_0x6d4b7a(0x6d1)),setupResultScreenBackButton();if(window['MathJax'])window[_0x6d4b7a(0x4ca)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x44636a,_0xde3ff9,_0x488b2d,_0xd74511){const _0x29056d=_0xa29d1b,_0x505983=_0xd74511>0x0?_0x44636a/_0xd74511*0x64:0x0,_0x28f608=currentDisplayedQuiz[_0x29056d(0x5a5)]?.[_0x29056d(0x6a1)]??-0x1,_0x49516d=currentDisplayedQuiz[_0x29056d(0x17d)]===!![];let _0x3c3e43='';if(_0x49516d||_0x28f608!==-0x1){let _0x24953e;_0x49516d?_0x24953e=_0x44636a===_0xd74511:_0x24953e=_0x44636a>=_0x28f608;const _0x1ff185=_0x24953e?_0x29056d(0x17e):_0x29056d(0x44b),_0x1c716b=_0x24953e?'ผ่าน':_0x29056d(0x450);_0x3c3e43=_0x29056d(0x539)+_0x1ff185+'\x22>'+_0x1c716b+'</p>';}let _0x24d2f2=_0x29056d(0x351)+currentStudentName+_0x29056d(0x1cd)+_0x44636a+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0xd74511+_0x29056d(0x61a)+_0x3c3e43+_0x29056d(0x63e)+_0xde3ff9+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x505983[_0x29056d(0x426)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x29056d(0x21c)]=_0x24d2f2,renderEarnedBadges(_0x488b2d,_0x29056d(0x6ae)),studentResultArea[_0x29056d(0x5a6)][_0x29056d(0x640)]('hidden'),studentQuizArea[_0x29056d(0x5a6)][_0x29056d(0x4d7)](_0x29056d(0x6d1)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x198646=_0xa29d1b;let _0x331b60=_0x198646(0x2e9)+currentStudentName+_0x198646(0x480);studentResultArea[_0x198646(0x21c)]=_0x331b60,studentResultArea['classList'][_0x198646(0x640)](_0x198646(0x6d1)),studentQuizArea['classList'][_0x198646(0x4d7)](_0x198646(0x6d1)),document[_0x198646(0x185)](_0x198646(0x425))[_0x198646(0x581)](_0x198646(0x599),()=>{const _0x24a160=_0x198646;showView('student'),document[_0x24a160(0x185)](_0x24a160(0x25d))['value']='';});}function renderEarnedBadges(_0x4ac93d,_0x45f5d5){const _0x41d0bc=_0xa29d1b,_0x3dcbc0=document[_0x41d0bc(0x185)](_0x45f5d5);if(!_0x3dcbc0||!_0x4ac93d||_0x4ac93d[_0x41d0bc(0x2d0)]===0x0)return;let _0x72582d='';_0x4ac93d[_0x41d0bc(0x497)]((_0x320102,_0x4cc9bd)=>{const _0x1660b4=_0x41d0bc,_0x15e1fb=Object[_0x1660b4(0x38d)](BADGES)[_0x1660b4(0x1e6)](_0x5bd197=>_0x5bd197['id']===_0x320102);_0x15e1fb&&(_0x72582d+=_0x1660b4(0x689)+_0x4cc9bd*0.2+_0x1660b4(0x476)+_0x15e1fb[_0x1660b4(0x49c)]+_0x1660b4(0x601)+_0x15e1fb['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x15e1fb[_0x1660b4(0x2bc)]+_0x1660b4(0x342));}),_0x3dcbc0['innerHTML']=_0x72582d;}function startPresentation(_0x3af25a){const _0x26088d=_0xa29d1b;currentQuizData=getShuffledQuiz(_0x3af25a),currentPresentationSlide=0x0,presentationModal['style'][_0x26088d(0x214)]=_0x26088d(0x401),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2862ce=_0xa29d1b;document[_0x2862ce(0x3e6)]&&document['exitFullscreen'](),presentationModal[_0x2862ce(0x487)][_0x2862ce(0x214)]=_0x2862ce(0x543);}function renderPresentationSlide(_0x1ddc99){const _0x3f9694=_0xa29d1b,_0x1f9ba0=document[_0x3f9694(0x185)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x3f9694(0x64e)]||!currentQuizData[_0x3f9694(0x64e)][_0x1ddc99]){_0x1f9ba0[_0x3f9694(0x21c)]=_0x3f9694(0x33e);return;}const _0x60c4c3=currentQuizData[_0x3f9694(0x64e)][_0x1ddc99],_0x15bac4=_0x60c4c3[_0x3f9694(0x1f0)]||currentQuizData[_0x3f9694(0x40b)];_0x1f9ba0[_0x3f9694(0x21c)]='';let _0x53f099=_0x3f9694(0x5a3)+(_0x60c4c3['imageCode']?_0x3f9694(0x191)+_0x60c4c3[_0x3f9694(0x270)]+_0x3f9694(0x3f8):'')+_0x3f9694(0x172)+(_0x1ddc99+0x1)+'.\x20'+(_0x60c4c3[_0x3f9694(0x18e)]||_0x60c4c3[_0x3f9694(0x6f2)])+_0x3f9694(0x155);switch(_0x15bac4){case _0x3f9694(0x362):_0x53f099+=_0x60c4c3[_0x3f9694(0x462)][_0x3f9694(0x5b1)](_0x217800=>_0x3f9694(0x6dc)+_0x217800+_0x3f9694(0x30e))[_0x3f9694(0x1ed)]('');break;case'true_false':_0x53f099+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x53f099+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case'fill_in_no_choices':case'short_answer':_0x53f099+=_0x3f9694(0x406);break;case'fill_in_the_blank':case _0x3f9694(0x145):default:_0x53f099+=_0x60c4c3[_0x3f9694(0x186)][_0x3f9694(0x5b1)]((_0x2d3c0e,_0x5bc84b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x5bc84b+_0x3f9694(0x1a0)+_0x2d3c0e+_0x3f9694(0x30e))[_0x3f9694(0x1ed)]('');break;}_0x53f099+=_0x3f9694(0x55a)+(_0x60c4c3[_0x3f9694(0x4bb)]||_0x3f9694(0x27a))+_0x3f9694(0x6c2),_0x1f9ba0[_0x3f9694(0x21c)]=_0x53f099;if(window[_0x3f9694(0x4ca)])window['MathJax'][_0x3f9694(0x34c)]([_0x1f9ba0]);document[_0x3f9694(0x620)](_0x3f9694(0x5e5))[_0x3f9694(0x497)](_0x4638e2=>{const _0x936107=_0x3f9694;_0x4638e2[_0x936107(0x581)](_0x936107(0x599),_0x2a7874=>revealAnswerForPresentation(_0x1ddc99,_0x2a7874[_0x936107(0x43a)]));});const _0x2a566f=document['getElementById']('check-presentation-answer-btn');_0x2a566f&&_0x2a566f[_0x3f9694(0x581)]('click',()=>checkShortAnswerForPresentation(_0x1ddc99)),document[_0x3f9694(0x185)]('slide-counter')[_0x3f9694(0x65e)]=_0x3f9694(0x27e)+(_0x1ddc99+0x1)+_0x3f9694(0x550)+currentQuizData[_0x3f9694(0x64e)][_0x3f9694(0x2d0)],document[_0x3f9694(0x185)](_0x3f9694(0x1fb))[_0x3f9694(0x16a)]=_0x1ddc99===0x0,document['getElementById'](_0x3f9694(0x42f))[_0x3f9694(0x16a)]=_0x1ddc99===currentQuizData[_0x3f9694(0x64e)][_0x3f9694(0x2d0)]-0x1;}async function checkShortAnswerForPresentation(_0xc0c68d){const _0x539e56=_0xa29d1b,_0xc65b91=currentQuizData[_0x539e56(0x64e)][_0xc0c68d],_0x536261=document[_0x539e56(0x185)](_0x539e56(0x312)),_0x1f0367=document['getElementById']('check-presentation-answer-btn'),_0x4fd844=document[_0x539e56(0x185)](_0x539e56(0x340)),_0x295c22=document[_0x539e56(0x185)](_0x539e56(0x196));if(!_0x536261||!_0x1f0367||!_0x4fd844||!_0x295c22)return;const _0x39f64c=_0x536261[_0x539e56(0x261)][_0x539e56(0x5cc)]();if(_0x39f64c==='')return;_0x1f0367[_0x539e56(0x16a)]=!![],_0x1f0367[_0x539e56(0x21c)]=_0x539e56(0x17c),_0x536261[_0x539e56(0x16a)]=!![];const _0x200d1c=await gradeShortAnswer(_0x39f64c,_0xc65b91);_0x200d1c?_0x4fd844[_0x539e56(0x21c)]=_0x539e56(0x5db):_0x4fd844['innerHTML']='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0xc65b91[_0x539e56(0x217)]+')',_0x4fd844['classList']['remove'](_0x539e56(0x6d1)),_0x295c22[_0x539e56(0x5a6)][_0x539e56(0x640)]('hidden'),_0x1f0367[_0x539e56(0x5a6)][_0x539e56(0x4d7)]('hidden');}function revealAnswerForPresentation(_0x5d25b0,_0x51a022){const _0x1570e1=_0xa29d1b,_0x4a68a4=currentQuizData['questions'][_0x5d25b0],_0x161283=_0x4a68a4[_0x1570e1(0x1f0)]||currentQuizData[_0x1570e1(0x40b)];document[_0x1570e1(0x620)](_0x1570e1(0x5e5))['forEach'](_0x177d17=>{const _0x53ca11=_0x1570e1;_0x177d17[_0x53ca11(0x16a)]=!![],_0x177d17[_0x53ca11(0x5a6)][_0x53ca11(0x640)](_0x53ca11(0x20d));let _0x11ad13=![];if(_0x161283===_0x53ca11(0x145)||_0x161283===_0x53ca11(0x2a0)){const _0x261075=parseInt(_0x177d17['dataset']['index']);_0x11ad13=_0x261075===_0x4a68a4[_0x53ca11(0x6c3)];}else{if(_0x161283===_0x53ca11(0x1c4)){const _0x5bfbd4=_0x177d17[_0x53ca11(0x411)]['answer']===_0x53ca11(0x56c);_0x11ad13=_0x5bfbd4===_0x4a68a4[_0x53ca11(0x5d7)];}else _0x161283===_0x53ca11(0x362)&&(_0x11ad13=_0x177d17[_0x53ca11(0x65e)][_0x53ca11(0x5cc)]()===_0x4a68a4[_0x53ca11(0x49f)]);}_0x11ad13?_0x177d17['classList']['add'](_0x53ca11(0x249),'text-white','border-green-700'):_0x177d17[_0x53ca11(0x5a6)]['add']('opacity-50');}),_0x51a022['classList']['remove'](_0x1570e1(0x3ce));let _0x3243e4=![];if(_0x161283===_0x1570e1(0x145))_0x3243e4=parseInt(_0x51a022[_0x1570e1(0x411)]['index'])===_0x4a68a4['correctAnswerIndex'];else{if(_0x161283===_0x1570e1(0x1c4))_0x3243e4=_0x51a022[_0x1570e1(0x411)]['answer']===_0x1570e1(0x56c)===_0x4a68a4[_0x1570e1(0x5d7)];else _0x161283===_0x1570e1(0x362)&&(_0x3243e4=_0x51a022[_0x1570e1(0x65e)][_0x1570e1(0x5cc)]()===_0x4a68a4[_0x1570e1(0x49f)]);}!_0x3243e4&&_0x51a022[_0x1570e1(0x5a6)][_0x1570e1(0x4d7)](_0x1570e1(0x47b),_0x1570e1(0x6b9),_0x1570e1(0x4b7)),document[_0x1570e1(0x185)](_0x1570e1(0x196))[_0x1570e1(0x5a6)]['remove']('hidden');}function startWholeQuizTimer(_0x1317f9){const _0x57a444=_0xa29d1b,_0x36b771=document[_0x57a444(0x185)](_0x57a444(0x43b));if(!_0x36b771)return;const _0x5e1ef9=Date['now']()+_0x1317f9*0x3c*0x3e8;_0x36b771[_0x57a444(0x21c)]=_0x57a444(0x334);const _0x227d14=document[_0x57a444(0x185)](_0x57a444(0x1bc));quizTimerInterval=setInterval(()=>{const _0x1e4ef5=_0x57a444,_0x556ab3=_0x5e1ef9-Date[_0x1e4ef5(0x618)]();if(_0x556ab3<=0x0)clearInterval(quizTimerInterval),_0x227d14[_0x1e4ef5(0x65e)]=_0x1e4ef5(0x192),showMessage(_0x1e4ef5(0x452)),handleSubmitQuiz(null);else{const _0x10f995=Math[_0x1e4ef5(0x350)](_0x556ab3/0x3e8/0x3c%0x3c)[_0x1e4ef5(0x1b2)]()[_0x1e4ef5(0x4e8)](0x2,'0'),_0x33e109=Math['floor'](_0x556ab3/0x3e8%0x3c)[_0x1e4ef5(0x1b2)]()[_0x1e4ef5(0x4e8)](0x2,'0');_0x227d14['textContent']=_0x10f995+':'+_0x33e109;}},0x3e8);}function renderPerQuestionView(){const _0x58652e=_0xa29d1b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x30ae11=currentDisplayedQuiz[_0x58652e(0x64e)][currentQuestionIndex],_0x2cfc79=_0x30ae11[_0x58652e(0x1f0)]||currentDisplayedQuiz['quizType'];let _0x41cf7c=_0x58652e(0x33f)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x58652e(0x64e)][_0x58652e(0x2d0)]+_0x58652e(0x2eb)+(currentMode===_0x58652e(0x194)?_0x58652e(0x6b1):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x58652e(0x1d1)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x58652e(0x64e)]['length']-0x1?_0x58652e(0x1a5):_0x58652e(0x61f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x41cf7c;let _0x5dfaa7='',_0x5cbe05='';switch(_0x2cfc79){case _0x58652e(0x362):_0x5dfaa7=currentQuestionIndex+0x1+'.\x20'+_0x30ae11['stem'],_0x5cbe05=_0x58652e(0x22f)+_0x30ae11['allResponses'][_0x58652e(0x5b1)](_0x1a7ce7=>_0x58652e(0x6b5)+_0x1a7ce7+'\x22>'+_0x1a7ce7+_0x58652e(0x609))[_0x58652e(0x1ed)]('')+_0x58652e(0x4fc);break;case _0x58652e(0x1c4):_0x5dfaa7=currentQuestionIndex+0x1+'.\x20'+_0x30ae11[_0x58652e(0x6f2)],_0x5cbe05=_0x58652e(0x161);break;case _0x58652e(0x3ba):case _0x58652e(0x25f):_0x5dfaa7=currentQuestionIndex+0x1+'.\x20'+_0x30ae11['questionText'],_0x5cbe05=_0x58652e(0x3df);break;case _0x58652e(0x145):case'fill_in_with_choices':default:_0x5dfaa7=currentQuestionIndex+0x1+'.\x20'+_0x30ae11[_0x58652e(0x6f2)],_0x5cbe05=_0x30ae11[_0x58652e(0x186)]['map']((_0x32b601,_0x4b5afe)=>_0x58652e(0x677)+_0x4b5afe+_0x58652e(0x34a)+_0x4b5afe+_0x58652e(0x4e9)+_0x4b5afe+'\x22>'+_0x32b601+_0x58652e(0x2fb))['join']('');break;}_0x30ae11['imageCode']&&(_0x5dfaa7+=_0x58652e(0x191)+_0x30ae11[_0x58652e(0x270)]+'</div>');document[_0x58652e(0x185)]('per-question-text')[_0x58652e(0x21c)]=_0x5dfaa7,document[_0x58652e(0x185)]('per-question-options')[_0x58652e(0x21c)]=_0x5cbe05;if(currentMode===_0x58652e(0x194)){const _0x572d5f=document['getElementById']('cancel-test-btn');if(_0x572d5f)_0x572d5f[_0x58652e(0x581)](_0x58652e(0x599),cancelAdminTest);}document[_0x58652e(0x185)](_0x58652e(0x2d9))[_0x58652e(0x581)](_0x58652e(0x599),()=>handleNextQuestionInTimedMode(![]));if(window[_0x58652e(0x4ca)])window['MathJax'][_0x58652e(0x34c)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x292e13=_0xa29d1b,_0x1adbfe=currentDisplayedQuiz[_0x292e13(0x5a5)][_0x292e13(0x297)],_0xa19100=document[_0x292e13(0x185)](_0x292e13(0x691));if(!_0xa19100)return;let _0x5a9fd4=_0x1adbfe;_0xa19100[_0x292e13(0x21c)]=_0x292e13(0x24b)+_0x5a9fd4+_0x292e13(0x4ec);const _0x1da202=document[_0x292e13(0x185)](_0x292e13(0x3cb)),_0x34c051=document[_0x292e13(0x185)](_0x292e13(0x1f5));perQuestionTimerInterval=setInterval(()=>{const _0x378961=_0x292e13;_0x5a9fd4--;const _0x527903=_0x5a9fd4/_0x1adbfe*0x64;_0x1da202['style'][_0x378961(0x5a2)]=_0x527903+'%',_0x34c051[_0x378961(0x65e)]=_0x5a9fd4,_0x5a9fd4<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x378961(0x622)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x79fa60=![]){const _0x2ffcd4=_0xa29d1b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5ef3b8=null;if(!_0x79fa60){const _0xad6683=currentDisplayedQuiz[_0x2ffcd4(0x64e)][currentQuestionIndex],_0x4f30d5=_0xad6683[_0x2ffcd4(0x1f0)]||currentDisplayedQuiz[_0x2ffcd4(0x40b)];if(_0x4f30d5===_0x2ffcd4(0x3ba)||_0x4f30d5==='fill_in_no_choices'){const _0x458326=document[_0x2ffcd4(0x61b)]('#per-question-options\x20textarea');_0x5ef3b8=_0x458326?_0x458326[_0x2ffcd4(0x261)]['trim']():'';}else{if(_0x4f30d5===_0x2ffcd4(0x362)){const _0x19a000=document[_0x2ffcd4(0x61b)]('#per-question-options\x20select');_0x5ef3b8=_0x19a000?_0x19a000['value']:'';}else{const _0x51ad66=document[_0x2ffcd4(0x61b)]('input[name=\x22question_single\x22]:checked');if(_0x51ad66){const _0xe39ed3=_0x51ad66[_0x2ffcd4(0x261)];_0x5ef3b8=!isNaN(parseInt(_0xe39ed3,0xa))&&_0xe39ed3[_0x2ffcd4(0x5cc)]()!==''?parseInt(_0xe39ed3,0xa):_0xe39ed3;}}}}studentAnswersPerQuestion[_0x2ffcd4(0x2f8)](_0x5ef3b8),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2ffcd4(0x2d0)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x4c0c69=_0xa29d1b,_0x12a8ae=currentDisplayedQuiz[_0x4c0c69(0x64e)][_0x4c0c69(0x3de)](_0x639915=>_0x639915['questionType']===_0x4c0c69(0x3ba));_0x12a8ae?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x145e40=currentQuizData['id'],_0x757d4a=doc(db,'artifacts/'+appId+_0x4c0c69(0x2b3)+_0x145e40+_0x4c0c69(0x35a),currentStudentName),_0x2a69e2=await getDoc(_0x757d4a),_0xbd18fa=_0x2a69e2[_0x4c0c69(0x228)]()?_0x2a69e2[_0x4c0c69(0x585)]():{},_0x13eab9=_0xbd18fa[_0x4c0c69(0x663)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x13eab9);}function getResultsFilename(){const _0x4b9b61=_0xa29d1b,_0x534ca5=document[_0x4b9b61(0x185)](_0x4b9b61(0x212))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x4b9b61(0x1de)]();return'results_'+(_0x534ca5||_0x4b9b61(0x162));}function exportResultsAsImage(){const _0x3bd857=_0xa29d1b,_0x393c9c=document[_0x3bd857(0x185)](_0x3bd857(0x42d));showMessage(_0x3bd857(0x1a9)),html2canvas(_0x393c9c)['then'](_0x343a75=>{const _0x137fcd=_0x3bd857,_0x43fbbc=document[_0x137fcd(0x23b)]('a');_0x43fbbc[_0x137fcd(0x3e5)]=getResultsFilename()+'.png',_0x43fbbc[_0x137fcd(0x1bb)]=_0x343a75[_0x137fcd(0x392)](_0x137fcd(0x4e0)),_0x43fbbc[_0x137fcd(0x599)](),messageModal[_0x137fcd(0x5a6)][_0x137fcd(0x4d7)](_0x137fcd(0x6d1));});}function exportResultsAsPDF(){const _0x6a98cc=_0xa29d1b,{jsPDF:_0x110b3f}=window[_0x6a98cc(0x40f)],_0x2f9193=new _0x110b3f();_0x2f9193[_0x6a98cc(0x40c)]('helvetica','normal'),_0x2f9193[_0x6a98cc(0x4cd)]({'html':_0x6a98cc(0x526)}),_0x2f9193['save'](getResultsFilename()+_0x6a98cc(0x6b0));}function exportResultsAsWord(){const _0x319859=_0xa29d1b,_0x23d293='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x319859(0x15b),_0x961449=_0x319859(0x490),_0x243c32=_0x23d293+document['getElementById']('results-table-container')[_0x319859(0x21c)]+_0x961449,_0xeea55b=_0x319859(0x27d)+encodeURIComponent(_0x243c32),_0x44b44=document['createElement']('a');document[_0x319859(0x5c7)][_0x319859(0x2ed)](_0x44b44),_0x44b44['href']=_0xeea55b,_0x44b44[_0x319859(0x3e5)]=getResultsFilename()+_0x319859(0x19b),_0x44b44[_0x319859(0x599)](),document['body'][_0x319859(0x50a)](_0x44b44);}function exportResultsAsExcel(){const _0x3e49a8=_0xa29d1b,_0x22ab80=document[_0x3e49a8(0x185)](_0x3e49a8(0x45b));let _0x56ce85=[];for(let _0x524d53=0x0;_0x524d53<_0x22ab80[_0x3e49a8(0x213)][_0x3e49a8(0x2d0)];_0x524d53++){let _0x14ec64=[],_0x5af62e=_0x22ab80[_0x3e49a8(0x213)][_0x524d53]['querySelectorAll'](_0x3e49a8(0x197));for(let _0xb9743a=0x0;_0xb9743a<_0x5af62e['length'];_0xb9743a++){_0x14ec64[_0x3e49a8(0x2f8)]('\x22'+_0x5af62e[_0xb9743a]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x56ce85[_0x3e49a8(0x2f8)](_0x14ec64[_0x3e49a8(0x1ed)](','));}const _0x2ec21e=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x56ce85[_0x3e49a8(0x1ed)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x129dd1=document[_0x3e49a8(0x23b)]('a');_0x129dd1[_0x3e49a8(0x1bb)]=URL[_0x3e49a8(0x58d)](_0x2ec21e),_0x129dd1[_0x3e49a8(0x3e5)]=getResultsFilename()+_0x3e49a8(0x22e),_0x129dd1[_0x3e49a8(0x599)]();}function exportTableAsImage(_0x406dc5,_0x1be7e1){const _0x1b019d=_0xa29d1b,_0x4b5a06=document[_0x1b019d(0x185)](_0x406dc5);if(!_0x4b5a06){showMessage(_0x1b019d(0x171));return;}showMessage(_0x1b019d(0x1a9)),html2canvas(_0x4b5a06)[_0x1b019d(0x678)](_0x32b0b1=>{const _0x22807d=_0x1b019d,_0x3c0126=document[_0x22807d(0x23b)]('a');_0x3c0126[_0x22807d(0x3e5)]=_0x1be7e1+_0x22807d(0x34f),_0x3c0126[_0x22807d(0x1bb)]=_0x32b0b1[_0x22807d(0x392)](_0x22807d(0x4e0)),_0x3c0126[_0x22807d(0x599)](),messageModal[_0x22807d(0x5a6)][_0x22807d(0x4d7)](_0x22807d(0x6d1));});}function exportTableAsPDF(_0x454a5f,_0x426752){const _0x3786c1=_0xa29d1b,{jsPDF:_0x3aa4f1}=window[_0x3786c1(0x40f)],_0x55c435=new _0x3aa4f1();_0x55c435[_0x3786c1(0x40c)](_0x3786c1(0x2b2),_0x3786c1(0x3f5)),_0x55c435[_0x3786c1(0x4cd)]({'html':'#'+_0x454a5f}),_0x55c435[_0x3786c1(0x4a3)](_0x426752+_0x3786c1(0x6b0));}function exportTableAsWord(_0x58dea5,_0x15dc5a){const _0x42a1f3=_0xa29d1b,_0x19cac5=document['getElementById'](_0x58dea5);if(!_0x19cac5){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x49ee7c=_0x42a1f3(0x4a7)+_0x42a1f3(0x1d7)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0xda975b=_0x42a1f3(0x490),_0x4d6d70=_0x49ee7c+_0x19cac5['innerHTML']+_0xda975b,_0x21d434=_0x42a1f3(0x27d)+encodeURIComponent(_0x4d6d70),_0x77c40e=document[_0x42a1f3(0x23b)]('a');document[_0x42a1f3(0x5c7)][_0x42a1f3(0x2ed)](_0x77c40e),_0x77c40e[_0x42a1f3(0x1bb)]=_0x21d434,_0x77c40e[_0x42a1f3(0x3e5)]=_0x15dc5a+_0x42a1f3(0x19b),_0x77c40e[_0x42a1f3(0x599)](),document[_0x42a1f3(0x5c7)][_0x42a1f3(0x50a)](_0x77c40e);}function exportTableAsExcel(_0x5d40dd,_0x2db3fc){const _0x5ebea1=_0xa29d1b,_0x4c540e=document['getElementById'](_0x5d40dd);if(!_0x4c540e){showMessage(_0x5ebea1(0x171));return;}let _0x3079e5=[];for(let _0x5deaad=0x0;_0x5deaad<_0x4c540e[_0x5ebea1(0x213)]['length'];_0x5deaad++){let _0x1dc87a=[],_0x1f8395=_0x4c540e[_0x5ebea1(0x213)][_0x5deaad][_0x5ebea1(0x620)](_0x5ebea1(0x197));for(let _0x229e80=0x0;_0x229e80<_0x1f8395['length'];_0x229e80++){_0x1dc87a['push']('\x22'+_0x1f8395[_0x229e80]['innerText'][_0x5ebea1(0x160)](/"/g,'\x22\x22')+'\x22');}_0x3079e5[_0x5ebea1(0x2f8)](_0x1dc87a[_0x5ebea1(0x1ed)](','));}const _0x5838df=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3079e5['join']('\x0a')],{'type':_0x5ebea1(0x4e3)}),_0x4de41d=document['createElement']('a');_0x4de41d[_0x5ebea1(0x1bb)]=URL[_0x5ebea1(0x58d)](_0x5838df),_0x4de41d['download']=_0x2db3fc+_0x5ebea1(0x22e),_0x4de41d[_0x5ebea1(0x599)]();}function renderAnalytics(_0x1a7036,_0x57c686){const _0x4a264e=_0xa29d1b,_0x32ab48=currentProjectData[_0x4a264e(0x34b)]['length'],_0x205fb1=_0x57c686[_0x4a264e(0x2d0)],_0x568ec4=_0x32ab48-_0x205fb1,_0x2e8614=_0x32ab48>0x0?_0x205fb1/_0x32ab48*0x64:0x0,_0x201160=_0x57c686[_0x4a264e(0x5b1)](_0x5402c3=>_0x5402c3[_0x4a264e(0x4b9)]),_0x4dffbe=_0x201160[_0x4a264e(0x2d0)]>0x0?_0x201160['reduce']((_0x33a22f,_0x28840d)=>_0x33a22f+_0x28840d,0x0)/_0x201160[_0x4a264e(0x2d0)]:0x0,_0x22abd5=_0x1a7036[_0x4a264e(0x64e)][_0x4a264e(0x2d0)],_0x29aaa3=_0x22abd5>0x0?_0x4dffbe/_0x22abd5*0x64:0x0,_0xa9016b=document[_0x4a264e(0x185)](_0x4a264e(0x455));_0xa9016b[_0x4a264e(0x21c)]=_0x4a264e(0x3cf)+_0x2e8614[_0x4a264e(0x426)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x205fb1+'/'+_0x32ab48+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x4dffbe[_0x4a264e(0x426)](0x2)+_0x4a264e(0x391)+_0x29aaa3[_0x4a264e(0x426)](0x0)+_0x4a264e(0x61c)+(_0x201160['length']>0x0?Math[_0x4a264e(0x5a0)](..._0x201160):_0x4a264e(0x14c))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x201160[_0x4a264e(0x2d0)]>0x0?Math[_0x4a264e(0x504)](..._0x201160):_0x4a264e(0x14c))+_0x4a264e(0x2ac);const _0x4f78fd=currentProjectData[_0x4a264e(0x34b)]||[];renderSubmissionChart(_0x205fb1,_0x568ec4,_0x57c686,_0x4f78fd),renderScoreDistributionChart(_0x57c686,_0x22abd5),renderQuestionAnalytics(_0x1a7036,_0x57c686,_0x4f78fd);}function _0xaf0f(_0x3e4102,_0x287a5e){const _0x400379=_0x4003();return _0xaf0f=function(_0xaf0f2,_0x7ea4b8){_0xaf0f2=_0xaf0f2-0x141;let _0x510f7b=_0x400379[_0xaf0f2];return _0x510f7b;},_0xaf0f(_0x3e4102,_0x287a5e);}function renderSubmissionChart(_0xd49710,_0x44c107,_0x48260d,_0x4c4452){const _0x18cf5d=_0xa29d1b,_0x5aa87d=document[_0x18cf5d(0x185)](_0x18cf5d(0x284))[_0x18cf5d(0x259)]('2d'),_0x8a6610=_0x48260d[_0x18cf5d(0x5b1)](_0x1c187b=>_0x1c187b[_0x18cf5d(0x210)]),_0x1503e2=_0x4c4452[_0x18cf5d(0x4d4)](_0x2f5cad=>!_0x8a6610[_0x18cf5d(0x40d)](_0x2f5cad));chartInstances[_0x18cf5d(0x291)]&&chartInstances[_0x18cf5d(0x291)]['destroy'](),chartInstances['submission']=new Chart(_0x5aa87d,{'type':_0x18cf5d(0x2ee),'data':{'labels':[_0x18cf5d(0x384),'ยังไม่ส่ง'],'datasets':[{'data':[_0xd49710,_0x44c107],'backgroundColor':[_0x18cf5d(0x58e),_0x18cf5d(0x3e4)],'borderColor':[_0x18cf5d(0x179),_0x18cf5d(0x179)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x18cf5d(0x36d)},'tooltip':{'callbacks':{'label':function(_0x5a298d){const _0x4cf61d=_0x18cf5d;let _0x1b8a83=_0x5a298d['label']||'';return _0x1b8a83&&(_0x1b8a83+=':\x20'),_0x1b8a83+=_0x5a298d[_0x4cf61d(0x4ee)],_0x1b8a83;},'afterLabel':function(_0x10a5dc){const _0x57bdfc=_0x18cf5d;let _0xd22509;return _0x10a5dc['dataIndex']===0x0?_0xd22509=_0x8a6610:_0xd22509=_0x1503e2,_0xd22509['length']>0x0?_0xd22509[_0x57bdfc(0x1ed)]('\x0a'):_0x57bdfc(0x564);}}}}}});}function renderScoreDistributionChart(_0x456c42,_0x190766){const _0x491a51=_0xa29d1b,_0x51d57b=document[_0x491a51(0x185)](_0x491a51(0x26f))['getContext']('2d'),_0x1daa54={};for(let _0x352631=0x0;_0x352631<=_0x190766;_0x352631++){_0x1daa54[_0x352631]=0x0;}_0x456c42['forEach'](_0x1d1df4=>{const _0x27dfd7=_0x491a51;_0x1daa54[_0x1d1df4[_0x27dfd7(0x4b9)]]!==undefined&&_0x1daa54[_0x1d1df4[_0x27dfd7(0x4b9)]]++;}),chartInstances[_0x491a51(0x1f2)]&&chartInstances['score'][_0x491a51(0x238)](),chartInstances[_0x491a51(0x1f2)]=new Chart(_0x51d57b,{'type':_0x491a51(0x454),'data':{'labels':Object['keys'](_0x1daa54),'datasets':[{'label':_0x491a51(0x3a0),'data':Object[_0x491a51(0x38d)](_0x1daa54),'backgroundColor':_0x491a51(0x55d),'borderColor':_0x491a51(0x565),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x491a51(0x19c)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0xf3a522){const _0x165592=_0x491a51,_0x2c1c8f=_0xf3a522['label'],_0x38a7ab=_0x456c42[_0x165592(0x4d4)](_0x3b80b3=>_0x3b80b3['latestScore']==_0x2c1c8f)[_0x165592(0x5b1)](_0x53499e=>_0x53499e['studentName']);return _0x38a7ab['length']>0x0?_0x38a7ab['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x16205b,_0x3767ab,_0x14fbfd){const _0x2543d0=_0xa29d1b,_0x3b9b80=document[_0x2543d0(0x185)]('question-analytics-container');if(_0x14fbfd[_0x2543d0(0x2d0)]===0x0){_0x3b9b80['innerHTML']=_0x2543d0(0x4f3);return;}let _0x270a25='';const _0x1e276c=_0x3767ab[_0x2543d0(0x5b1)](_0x5bfec8=>_0x5bfec8['studentName']);_0x16205b[_0x2543d0(0x64e)]['forEach']((_0x3e7ab4,_0x1525a1)=>{const _0x878d59=_0x2543d0;let _0x3a8e30=0x0;const _0x3dd476=[],_0x5961c7=[],_0x34ac3a=_0x3e7ab4['stem']||_0x3e7ab4[_0x878d59(0x6f2)]||_0x3e7ab4[_0x878d59(0x5a1)];_0x3767ab[_0x878d59(0x497)](_0x4fbd37=>{const _0x2c0b43=_0x878d59,_0xe7bf0=_0x4fbd37[_0x2c0b43(0x663)][_0x4fbd37[_0x2c0b43(0x663)]['length']-0x1];if(_0xe7bf0&&_0xe7bf0['answers']){const _0x40c1e5=_0xe7bf0[_0x2c0b43(0x56d)][_0x2c0b43(0x1e6)](_0x5bbcf4=>_0x5bbcf4[_0x2c0b43(0x229)]===_0x34ac3a)??_0xe7bf0['answers'][_0x1525a1]??null;_0x40c1e5&&(_0x40c1e5[_0x2c0b43(0x69b)]?(_0x3a8e30++,_0x3dd476[_0x2c0b43(0x2f8)](_0x4fbd37[_0x2c0b43(0x210)])):_0x5961c7['push'](_0x4fbd37['studentName']));}});const _0x17bc72=_0x14fbfd[_0x878d59(0x4d4)](_0x25e03d=>!_0x1e276c['includes'](_0x25e03d)),_0x1b1178=_0x3767ab['length']>0x0?_0x3a8e30/_0x3767ab[_0x878d59(0x2d0)]*0x64:0x0;_0x270a25+=_0x878d59(0x3c7)+(_0x1525a1+0x1)+':\x20'+_0x34ac3a+_0x878d59(0x3e3)+(_0x1b1178>=0x46?_0x878d59(0x569):_0x1b1178>=0x28?_0x878d59(0x56f):_0x878d59(0x358))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20'+_0x1b1178['toFixed'](0x0)+_0x878d59(0x36b)+_0x34ac3a+_0x878d59(0x427)+_0x3a8e30+'\x20จาก\x20'+_0x3767ab[_0x878d59(0x2d0)]+_0x878d59(0x223)+_0x3dd476[_0x878d59(0x2d0)]+'\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3dd476['length']>0x0?_0x3dd476['join'](',\x20'):_0x878d59(0x564))+_0x878d59(0x628)+_0x5961c7[_0x878d59(0x2d0)]+'\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5961c7[_0x878d59(0x2d0)]>0x0?_0x5961c7['join'](',\x20'):'ไม่มี')+_0x878d59(0x15c)+_0x17bc72[_0x878d59(0x2d0)]+'\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x17bc72[_0x878d59(0x2d0)]>0x0?_0x17bc72[_0x878d59(0x1ed)](',\x20'):_0x878d59(0x564))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3b9b80['innerHTML']=_0x270a25;try{window[_0x2543d0(0x4ca)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x3b9b80]);}catch(_0x4b1924){console[_0x2543d0(0x2f7)]('MathJax\x20typeset\x20error\x20(analytics):',_0x4b1924);}}async function handleAnalyzeClass(){const _0x127590=_0xa29d1b;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x127590(0x615));return;}const _0x1c7b1f=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x127590(0x35a)),_0x58770d=await getDocs(_0x1c7b1f),_0x41277a=_0x58770d[_0x127590(0x643)][_0x127590(0x5b1)](_0xb287e6=>_0xb287e6[_0x127590(0x585)]());if(_0x41277a['length']<0x2){showMessage(_0x127590(0x218));return;}const _0x219269=document['getElementById']('strength-weakness-analysis-container');_0x219269[_0x127590(0x21c)]=_0x127590(0x668),document[_0x127590(0x185)](_0x127590(0x5f9))[_0x127590(0x16a)]=!![];const _0x2999d3=_0x41277a[_0x127590(0x5b1)]((_0x435a38,_0x119d18)=>{const _0x145056=_0x127590,_0x505e6b=_0x435a38[_0x145056(0x663)][_0x435a38[_0x145056(0x663)][_0x145056(0x2d0)]-0x1];if(!_0x505e6b)return'';return _0x145056(0x4e5)+(_0x119d18+0x1)+'\x20('+_0x435a38[_0x145056(0x210)]+_0x145056(0x17f)+_0x505e6b[_0x145056(0x1f2)]+'/'+_0x435a38['totalQuestions']+_0x145056(0x451)+JSON[_0x145056(0x56e)](_0x505e6b['answers'])+_0x145056(0x148);})[_0x127590(0x1ed)](_0x127590(0x331)),_0x32cf64='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x127590(0x1d1)]+_0x127590(0x2b7)+JSON[_0x127590(0x56e)](currentQuizData['questions'])+_0x127590(0x661)+_0x2999d3+_0x127590(0x1b4),_0x26a3ff={'type':_0x127590(0x5b3),'properties':{'classStrengths':{'type':_0x127590(0x6d3),'items':{'type':_0x127590(0x3c3)}},'classWeaknesses':{'type':_0x127590(0x6d3),'items':{'type':_0x127590(0x3c3)}},'teacherSuggestions':{'type':_0x127590(0x6d3),'items':{'type':_0x127590(0x3c3)}}},'required':[_0x127590(0x33b),_0x127590(0x22d),_0x127590(0x40e)]};try{const _0x38ce41=await callAnalysisApi(_0x32cf64,_0x26a3ff);displayClassAnalysis(_0x38ce41);}catch(_0x5c99f2){console[_0x127590(0x2f7)](_0x127590(0x6e7),_0x5c99f2),_0x219269['innerHTML']=_0x127590(0x4ad)+_0x5c99f2[_0x127590(0x6aa)]+_0x127590(0x323);}finally{document[_0x127590(0x185)](_0x127590(0x5f9))[_0x127590(0x16a)]=![];}}function displayClassAnalysis(_0x12b334){const _0x228679=_0xa29d1b,_0x4dd78c=document[_0x228679(0x185)](_0x228679(0x4b3));if(!_0x12b334){_0x4dd78c[_0x228679(0x21c)]=_0x228679(0x6b3);return;}_0x4dd78c[_0x228679(0x21c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12b334[_0x228679(0x33b)]['map'](_0x1e1dae=>_0x228679(0x304)+_0x1e1dae+'</li>')[_0x228679(0x1ed)]('')+_0x228679(0x36c)+_0x12b334['classWeaknesses'][_0x228679(0x5b1)](_0x43b038=>'<li>'+_0x43b038+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12b334[_0x228679(0x40e)]['map'](_0x3fda52=>'<li>'+_0x3fda52+'</li>')[_0x228679(0x1ed)]('')+_0x228679(0x19f);}function formatAndPrintWorksheet(_0x37b1e2,_0x1085ce){const _0x1fe8ce=_0xa29d1b,_0x2f06cd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x37b1e2[_0x1fe8ce(0x1d1)]+_0x1fe8ce(0x446)+_0x37b1e2[_0x1fe8ce(0x1d1)]+_0x1fe8ce(0x1f9)+_0x37b1e2[_0x1fe8ce(0x64e)][_0x1fe8ce(0x5b1)]((_0x2a3649,_0x138f64)=>_0x1fe8ce(0x52f)+(_0x138f64+0x1)+'.\x20'+_0x2a3649[_0x1fe8ce(0x6f2)]+_0x1fe8ce(0x574)+(_0x2a3649['imageCode']?_0x1fe8ce(0x6af)+_0x2a3649[_0x1fe8ce(0x270)]+_0x1fe8ce(0x3f8):'')+_0x1fe8ce(0x5f3))['join']('')+_0x1fe8ce(0x2dd);_0x1085ce['document']['write'](_0x2f06cd),_0x1085ce[_0x1fe8ce(0x25e)][_0x1fe8ce(0x290)](),_0x1085ce[_0x1fe8ce(0x5f4)]=function(){const _0x25c388=_0x1fe8ce;_0x1085ce[_0x25c388(0x222)]();};}async function generateWorksheet(){const _0x50e19e=_0xa29d1b,_0x2ecba7=document[_0x50e19e(0x185)](_0x50e19e(0x147))['value'][_0x50e19e(0x5cc)]();if(!_0x2ecba7){showMessage(_0x50e19e(0x2a9));return;}const _0x10f2b6=document['getElementById'](_0x50e19e(0x471))['checked'],_0x5f0f09=_0x10f2b6?'':_0x50e19e(0x547),_0x2e83ef=window['open']('',_0x50e19e(0x614));_0x2e83ef[_0x50e19e(0x25e)]['write'](_0x50e19e(0x24e));const _0x1d370a=parseInt(document['getElementById'](_0x50e19e(0x65f))['value']),_0xe06d7d=document['getElementById']('include-images-checkbox')[_0x50e19e(0x67b)],_0x4d0189=_0xe06d7d?_0x50e19e(0x3be):'',_0x21a9b9=_0x50e19e(0x21f)+_0x5f0f09+_0x50e19e(0x6ea)+_0x1d370a+_0x50e19e(0x266)+_0x2ecba7+_0x50e19e(0x1e7)+_0x4d0189+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20',_0x2875cc={'type':_0x50e19e(0x5b3),'properties':{'topic':{'type':_0x50e19e(0x3c3)},'questions':{'type':_0x50e19e(0x6d3),'items':{'type':_0x50e19e(0x5b3),'properties':{'questionText':{'type':_0x50e19e(0x3c3)},'imageCode':{'type':_0x50e19e(0x3c3)}},'required':[_0x50e19e(0x6f2)]}}},'required':['topic',_0x50e19e(0x64e)]};document[_0x50e19e(0x185)](_0x50e19e(0x322))[_0x50e19e(0x65e)]='',document[_0x50e19e(0x185)](_0x50e19e(0x2c6))['classList'][_0x50e19e(0x640)]('hidden'),document[_0x50e19e(0x185)](_0x50e19e(0x2bb))[_0x50e19e(0x5a6)]['remove'](_0x50e19e(0x6d1)),generateWorksheetBtn['disabled']=!![];try{const _0x335306=await callAnalysisApi(_0x21a9b9,_0x2875cc);formatAndPrintWorksheet(_0x335306,_0x2e83ef);}catch(_0x58377e){console[_0x50e19e(0x2f7)]('Error\x20generating\x20worksheet:',_0x58377e);if(_0x2e83ef)_0x2e83ef['close']();showMessage(_0x50e19e(0x42a));}finally{document[_0x50e19e(0x185)](_0x50e19e(0x2c6))[_0x50e19e(0x5a6)]['add']('hidden'),document[_0x50e19e(0x185)](_0x50e19e(0x2bb))[_0x50e19e(0x5a6)]['add'](_0x50e19e(0x6d1)),generateWorksheetBtn[_0x50e19e(0x16a)]=![];}}async function callAnalysisApi(_0x22ef16,_0xfd10ce){const _0x26ee0d=_0xa29d1b,_0xea1692={'contents':[{'role':'user','parts':[{'text':_0x22ef16}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0xfd10ce}},_0x539c35=_0x26ee0d(0x200),_0xc286d1=_0x26ee0d(0x1e3)+_0x539c35,_0x144889=await fetch(_0xc286d1,{'method':_0x26ee0d(0x536),'headers':{'Content-Type':_0x26ee0d(0x42e)},'body':JSON[_0x26ee0d(0x56e)](_0xea1692)});if(!_0x144889['ok'])throw new Error(_0x26ee0d(0x2f2)+_0x144889['status']);const _0x57983e=await _0x144889[_0x26ee0d(0x1e5)]();if(_0x57983e[_0x26ee0d(0x273)]?.[0x0]?.['content']?.[_0x26ee0d(0x2c4)]?.[0x0])return JSON[_0x26ee0d(0x4a0)](_0x57983e[_0x26ee0d(0x273)][0x0]['content'][_0x26ee0d(0x2c4)][0x0]['text']);else{let _0x41ea8a=_0x26ee0d(0x453);if(_0x57983e[_0x26ee0d(0x4ab)]?.[_0x26ee0d(0x683)])_0x41ea8a='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x57983e[_0x26ee0d(0x4ab)][_0x26ee0d(0x683)]+'.';else _0x57983e['candidates']?.[0x0]?.[_0x26ee0d(0x2f0)]&&_0x57983e[_0x26ee0d(0x273)][0x0]['finishReason']!=='STOP'&&(_0x41ea8a='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x57983e[_0x26ee0d(0x273)][0x0][_0x26ee0d(0x2f0)]+'.');console[_0x26ee0d(0x2f7)](_0x41ea8a,JSON[_0x26ee0d(0x56e)](_0x57983e));throw new Error(_0x41ea8a);}}initialize();
