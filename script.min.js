const _0x45baa4=_0x2960;(function(_0x303a2b,_0x1000b7){const _0x3d1590=_0x2960,_0x702096=_0x303a2b();while(!![]){try{const _0x3fa86b=-parseInt(_0x3d1590(0x921))/0x1*(parseInt(_0x3d1590(0x533))/0x2)+parseInt(_0x3d1590(0xa9e))/0x3*(parseInt(_0x3d1590(0x62a))/0x4)+parseInt(_0x3d1590(0x31d))/0x5*(parseInt(_0x3d1590(0x8c9))/0x6)+parseInt(_0x3d1590(0x829))/0x7+parseInt(_0x3d1590(0x737))/0x8+parseInt(_0x3d1590(0xc93))/0x9+-parseInt(_0x3d1590(0x203))/0xa;if(_0x3fa86b===_0x1000b7)break;else _0x702096['push'](_0x702096['shift']());}catch(_0x5c7c31){_0x702096['push'](_0x702096['shift']());}}}(_0x5602,0xeef36));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x45baa4(0x765),_0x45baa4(0x406),_0x45baa4(0xb66),_0x45baa4(0x764),_0x45baa4(0x58d),'เต่าสายฟ้า',_0x45baa4(0x1d1),_0x45baa4(0x9eb),_0x45baa4(0xbfd),_0x45baa4(0xbff),'ผู้พิชิตดาว',_0x45baa4(0x3f1),'เงาปริศนา',_0x45baa4(0x3c1),_0x45baa4(0x8b9),_0x45baa4(0x5ad),_0x45baa4(0x216),_0x45baa4(0x1a5),_0x45baa4(0x968),_0x45baa4(0xb5e),_0x45baa4(0xca4),_0x45baa4(0x6c9),'ปลาทูคะนอง',_0x45baa4(0x484),_0x45baa4(0x3d4),'หมาป่าเดียวดาย',_0x45baa4(0x8dc),'เสือซ่อนเล็บ','ม้าดีดกะโหลก',_0x45baa4(0x383),'ยอดนักสืบ',_0x45baa4(0x583),_0x45baa4(0xc14),'ดาวTikTok',_0x45baa4(0x314),'CEOพันล้าน','เศรษฐีดูไบ',_0x45baa4(0x19a),_0x45baa4(0x247),_0x45baa4(0x926),_0x45baa4(0x80e),_0x45baa4(0x73f),_0x45baa4(0xd26),_0x45baa4(0xc89),'ไอติมทอด','ข้าวมันไก่พิเศษ',_0x45baa4(0x83e),_0x45baa4(0x3a5),_0x45baa4(0x139),_0x45baa4(0x648),_0x45baa4(0x7a7),'ปวดหลัง','ออฟฟิศซินโดรม',_0x45baa4(0xa96),_0x45baa4(0x9e9),_0x45baa4(0x561),_0x45baa4(0x7c8),_0x45baa4(0x2a1),_0x45baa4(0x35c),_0x45baa4(0x655),_0x45baa4(0x729),_0x45baa4(0xbf1),_0x45baa4(0x62f),_0x45baa4(0xc8a),'ดวงดาว',_0x45baa4(0x3bc),_0x45baa4(0x44b),_0x45baa4(0xa19),'ป่าไม้',_0x45baa4(0x2fa),_0x45baa4(0x235),_0x45baa4(0xcec),_0x45baa4(0x14a),_0x45baa4(0xbd9),_0x45baa4(0x5d2),_0x45baa4(0x542),_0x45baa4(0x56b),'นักประดิษฐ์',_0x45baa4(0x8a4),_0x45baa4(0x5a6),_0x45baa4(0xd5b),'ปล่อยพลัง','แปลงร่าง',_0x45baa4(0xc1f),_0x45baa4(0x939),_0x45baa4(0xb2d),_0x45baa4(0x23b),'ไอรอนแมน','กัปตัน',_0x45baa4(0x4d9),_0x45baa4(0xd04),_0x45baa4(0x26f),'แอบชอบ',_0x45baa4(0x7f0),'เพื่อนสนิท',_0x45baa4(0x5d3),'แฟนทิพย์',_0x45baa4(0xc25),_0x45baa4(0x6e0),'มูเตลู'];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x45baa4(0xd4e),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x45baa4(0xd4e),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x45baa4(0xd4e),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x48a419=_0x45baa4;if(_0x48a419(0x868)in navigator)try{wakeLock=await navigator[_0x48a419(0x868)][_0x48a419(0x84e)](_0x48a419(0x146)),console[_0x48a419(0x161)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x48a419(0x21f)](_0x48a419(0x49e),()=>{const _0x33e185=_0x48a419;console['log'](_0x33e185(0x286));});}catch(_0x4a2c99){console[_0x48a419(0xab1)](_0x48a419(0x20d)+_0x4a2c99['name']+',\x20'+_0x4a2c99[_0x48a419(0x776)]);}else console['warn'](_0x48a419(0x77a));},releaseWakeLock=async()=>{const _0x231554=_0x45baa4;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x231554(0x161)](_0x231554(0x325)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x256d2b=_0x45baa4;if(!document[_0x256d2b(0xc91)][_0x256d2b(0x246)]['contains'](_0x256d2b(0x4aa))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4d9cc4=_0x256d2b;document['body']['classList'][_0x4d9cc4(0x329)]('dimmed'),console[_0x4d9cc4(0x161)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x4247a1){const _0x2e3ab7=_0x45baa4;_0x4247a1&&(_0x4247a1[_0x2e3ab7(0x5c2)](),_0x4247a1[_0x2e3ab7(0xcd0)]());document[_0x2e3ab7(0xc91)][_0x2e3ab7(0x246)][_0x2e3ab7(0x142)](_0x2e3ab7(0x4aa));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x34e400=_0x2e3ab7;document[_0x34e400(0xc91)][_0x34e400(0x246)][_0x34e400(0x329)](_0x34e400(0x4aa));},inactivityTime);}function stopDimTimer(){const _0x59377d=_0x45baa4;if(dimTimer)clearTimeout(dimTimer);document[_0x59377d(0xc91)][_0x59377d(0x246)][_0x59377d(0x142)](_0x59377d(0x4aa)),window['removeEventListener']('mousemove',resetDimTimer),window['removeEventListener'](_0x59377d(0x9a5),resetDimTimer),window[_0x59377d(0xc0e)](_0x59377d(0x4a9),resetDimTimer),window[_0x59377d(0xc0e)]('keydown',resetDimTimer),console[_0x59377d(0x161)](_0x59377d(0x3ff));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x2c62b0,_0x2a0793=![]){const _0x4f1a77=_0x45baa4,_0x3bf6d6=allQuizzes[_0x4f1a77(0x5f4)](_0x84381=>_0x84381['id']===_0x2c62b0)||allQuizzesGlobal['find'](_0x56df95=>_0x56df95['id']===_0x2c62b0);if(!_0x3bf6d6){showMessage(_0x4f1a77(0x6cb));return;}currentQuizData=getShuffledQuiz(_0x3bf6d6);const _0x4b4ee5=Math[_0x4f1a77(0x864)](0x3e8+Math[_0x4f1a77(0x293)]()*0x2328)['toString']();try{const _0x4d52fb=await addDoc(collection(db,_0x4f1a77(0xb73)+appId+_0x4f1a77(0x408)),{'quizId':_0x3bf6d6['id'],'projectId':_0x3bf6d6[_0x4f1a77(0xb2f)],'status':_0x4f1a77(0x36b),'pin':_0x4b4ee5,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2a0793});currentTeamQuizId=_0x4d52fb['id'],showView(_0x4f1a77(0x9d9)),renderAdminTeamQuizDashboard(_0x4b4ee5,_0x3bf6d6[_0x4f1a77(0x613)]),listenForTeamQuizUpdates();}catch(_0x47b3f1){console[_0x4f1a77(0xab1)](_0x4f1a77(0xb89),_0x47b3f1),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x3e3704,_0x3b9921,_0x4ed3a0='team'){const _0x53d111=_0x45baa4,_0x47c0a3=_0x4ed3a0===_0x53d111(0x3ab)?_0x53d111(0x852):_0x53d111(0x88e);liveGameView[_0x53d111(0x9be)]=_0x53d111(0xa1f)+_0x47c0a3+':\x20'+_0x3b9921+_0x53d111(0x3a0)+_0x3e3704+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById']('end-team-quiz-btn')[_0x53d111(0x21f)](_0x53d111(0xb10),async()=>{const _0x486ae8=_0x53d111;showConfirmation(_0x486ae8(0x81f),async()=>{const _0x483a27=_0x486ae8;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x483a27(0xb73)+appId+_0x483a27(0x408),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x512510=_0x45baa4;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4f3cc5=doc(db,'artifacts/'+appId+_0x512510(0x408),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4f3cc5,_0x3f5f03=>{const _0x1c5a66=_0x512510;if(!_0x3f5f03[_0x1c5a66(0xb1f)]()){sessionStorage[_0x1c5a66(0xbce)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x1c5a66(0x300));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1c5a66(0x1af)?showView(_0x1c5a66(0x848)):showView(_0x1c5a66(0x568));return;}const _0x2594da=_0x3f5f03[_0x1c5a66(0x4da)]();if(currentMode==='admin'){if(_0x2594da[_0x1c5a66(0x2a4)]==='group'&&_0x2594da[_0x1c5a66(0x264)]!==_0x1c5a66(0x951)&&_0x2594da[_0x1c5a66(0x264)]!==_0x1c5a66(0x1d0)){const _0x15c771=Object[_0x1c5a66(0x548)](_0x2594da[_0x1c5a66(0xd0e)]||{});if(_0x15c771[_0x1c5a66(0xa33)]>0x0){const _0x51ed30=_0x15c771[_0x1c5a66(0x311)](_0x514f12=>_0x514f12['isFinished']===!![]);_0x51ed30&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x2594da);}else{if(_0x2594da['status']===_0x1c5a66(0x951)||_0x2594da[_0x1c5a66(0x264)]===_0x1c5a66(0x1d0)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x2594da[_0x1c5a66(0x2a4)]===_0x1c5a66(0x3ab)){const _0x2df828=_0x2594da[_0x1c5a66(0xd0e)][userId];(!_0x2df828||!_0x2df828['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x17e87e){const _0x15ed99=_0x45baa4;console[_0x15ed99(0x161)](_0x15ed99(0x287));const _0x575cfd=doc(db,_0x15ed99(0xb73)+appId+'/public/data/teamQuizzes',_0x17e87e);try{const _0x3337ec=await getDoc(_0x575cfd);if(_0x3337ec[_0x15ed99(0xb1f)]()){const _0x2b3745=_0x3337ec[_0x15ed99(0x4da)]();_0x2b3745[_0x15ed99(0xc6b)]&&await saveGameResultsAsSubmissions(_0x2b3745);}await updateDoc(_0x575cfd,{'status':'podium'});}catch(_0x1f3232){console['error'](_0x15ed99(0x219),_0x1f3232);}}function updateAdminTeamDashboard(_0x156f87){const _0x4736b8=_0x45baa4,_0x34ea43=document[_0x4736b8(0xc7b)](_0x4736b8(0x94f));if(!_0x34ea43)return;const _0x11fb9d=_0x156f87[_0x4736b8(0x2a4)]||_0x4736b8(0x5b5),_0x8806cb=currentQuizData[_0x4736b8(0x92e)][_0x4736b8(0xa33)];if(_0x11fb9d===_0x4736b8(0x3ab)){const _0x36e677=Object[_0x4736b8(0x548)](_0x156f87[_0x4736b8(0xd0e)]||{});if(_0x36e677[_0x4736b8(0xa33)]===0x0){_0x34ea43[_0x4736b8(0x9be)]=_0x4736b8(0x3d3);return;}const _0x4e57ef=[..._0x36e677][_0x4736b8(0x835)]((_0x30a835,_0x22926a)=>_0x22926a[_0x4736b8(0xbf3)]-_0x30a835['score']),_0xff193f=_0x4e57ef[_0x4736b8(0x327)]((_0x58cd07,_0x47924f)=>{const _0x417913=_0x4736b8,_0x11c057=_0x58cd07[_0x417913(0x7b4)]?.[_0x417913(0xa33)]||0x0;return _0x417913(0x4c6)+(_0x47924f+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x58cd07[_0x417913(0x5bf)][_0x417913(0x7a0)](',\x20')+_0x417913(0x42f)+_0x11c057+'/'+_0x8806cb+_0x417913(0x745)+_0x58cd07['score']+_0x417913(0x6b2);})[_0x4736b8(0x7a0)](''),_0x21dc0e=currentQuizData[_0x4736b8(0x92e)]['map']((_0x43049c,_0x123475)=>{const _0x9288cb=_0x4736b8;let _0x5c20f7=0x0,_0x2cd433=0x0;_0x36e677[_0x9288cb(0x808)](_0x1e3f82=>{const _0x5598ff=_0x9288cb,_0x44e649=_0x1e3f82[_0x5598ff(0x7b4)]?.['find'](_0x456276=>_0x456276[_0x5598ff(0x586)]===_0x123475);if(_0x44e649){_0x2cd433++;if(_0x44e649[_0x5598ff(0xcf5)])_0x5c20f7++;}});const _0x25ba3d=_0x2cd433>0x0&&_0x2cd433===_0x36e677[_0x9288cb(0xa33)],_0x46cb96=_0x25ba3d?_0x9288cb(0x236):_0x9288cb(0x22f),_0x5f174a=_0x25ba3d?_0x9288cb(0xc03):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x46cb96+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x123475+0x1)+_0x9288cb(0x9dc)+_0x5f174a+_0x9288cb(0xb82)+_0x5c20f7+'/'+_0x36e677[_0x9288cb(0xa33)]+_0x9288cb(0x269);})[_0x4736b8(0x7a0)]('');_0x34ea43[_0x4736b8(0x9be)]=_0x4736b8(0x26c)+_0xff193f+_0x4736b8(0x651)+_0x21dc0e+_0x4736b8(0xac1);return;}const _0x4734cd=_0x156f87[_0x4736b8(0x6c5)]||{},_0x17bf31=Object['keys'](_0x4734cd);if(_0x17bf31[_0x4736b8(0xa33)]===0x0){_0x34ea43['innerHTML']=_0x4736b8(0x523);return;}const _0x26d70b=_0x17bf31['map'](_0x2a8cff=>({'name':_0x2a8cff,'score':_0x4734cd[_0x2a8cff][_0x4736b8(0xbf3)]||0x0}))[_0x4736b8(0x835)]((_0x4bf29a,_0x4d2ebf)=>_0x4d2ebf['score']-_0x4bf29a[_0x4736b8(0xbf3)]),_0x4e75ec=_0x26d70b['map'](_0x8d2dea=>{const _0x35bea9=_0x4736b8,_0x323601=_0x4734cd[_0x8d2dea[_0x35bea9(0xb4c)]]?.[_0x35bea9(0x7b4)]?.[_0x35bea9(0xa33)]||0x0,_0x284141=Math[_0x35bea9(0xa8b)](_0x8806cb/_0x17bf31['length']);return _0x35bea9(0x307)+_0x8d2dea['name']+_0x35bea9(0x3bb)+_0x323601+'/'+_0x284141+_0x35bea9(0x87d)+_0x8d2dea[_0x35bea9(0xbf3)]+_0x35bea9(0x709);})[_0x4736b8(0x7a0)](''),_0x5240ec=_0x17bf31[_0x4736b8(0x9ac)]((_0x599b79,_0x50810e)=>_0x599b79+(_0x4734cd[_0x50810e][_0x4736b8(0x7b4)]?.[_0x4736b8(0xa33)]||0x0),0x0),_0x4ed3ee=currentQuizData[_0x4736b8(0x92e)]['map']((_0x403664,_0x5b5930)=>{const _0x232d97=_0x4736b8;let _0x1c384a=null,_0x96d8ca=null;for(const _0x5de906 of _0x17bf31){const _0x2c1548=_0x4734cd[_0x5de906][_0x232d97(0x7b4)]?.['find'](_0x50c71f=>_0x50c71f[_0x232d97(0x586)]===_0x5b5930);if(_0x2c1548){_0x1c384a=_0x2c1548,_0x96d8ca=_0x5de906;break;}}const _0x27c464=!!_0x1c384a,_0x569c97=_0x27c464&&_0x1c384a['isCorrect'],_0x414717=(Math[_0x232d97(0x864)](_0x5b5930/_0x17bf31[_0x232d97(0xa33)])+0x1)*_0x17bf31['length'],_0x371a35=_0x5240ec>=_0x414717,_0x24bd7d=_0x371a35?_0x232d97(0x1a3):_0x232d97(0x22f),_0x508d80=_0x371a35?_0x232d97(0xc03):'';let _0x54a557=_0x232d97(0x969);return _0x27c464&&(_0x54a557=_0x96d8ca+'\x20ตอบ'+(_0x569c97?_0x232d97(0x1ed):_0x232d97(0xd5a))),_0x232d97(0x701)+_0x24bd7d+_0x232d97(0xb7f)+(_0x5b5930+0x1)+_0x232d97(0x9dc)+_0x508d80+_0x232d97(0x474)+_0x54a557+_0x232d97(0xc17);})[_0x4736b8(0x7a0)]('');_0x34ea43[_0x4736b8(0x9be)]=_0x4736b8(0x55a)+_0x4e75ec+_0x4736b8(0x789)+_0x4ed3ee+_0x4736b8(0xac1);}async function handleJoinTeamQuiz(){const _0x52f801=_0x45baa4,_0x386c5c=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x386c5c||_0x386c5c['trim']()[_0x52f801(0xa33)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x249407=collection(db,_0x52f801(0xb73)+appId+_0x52f801(0x408)),_0x5ea950=query(_0x249407,where('pin','==',_0x386c5c['trim']()),where(_0x52f801(0x264),'==',_0x52f801(0x36b))),_0x30fa81=await getDocs(_0x5ea950);if(_0x30fa81[_0x52f801(0x1cd)]){showMessage(_0x52f801(0x6dc));return;}const _0x38f793=_0x30fa81[_0x52f801(0xb39)][0x0];currentTeamQuizId=_0x38f793['id'];const _0x5a187b=_0x38f793[_0x52f801(0x4da)](),_0x458705=doc(db,_0x52f801(0xb73)+appId+_0x52f801(0xafc),_0x5a187b[_0x52f801(0xb2f)]),_0x2ab015=doc(db,_0x52f801(0xb73)+appId+_0x52f801(0xca0),_0x5a187b[_0x52f801(0x25d)]),[_0x5121fa,_0x45e74f]=await Promise['all']([getDoc(_0x458705),getDoc(_0x2ab015)]);if(!_0x5121fa[_0x52f801(0xb1f)]()||!_0x45e74f[_0x52f801(0xb1f)]())throw new Error(_0x52f801(0x52f));currentQuizData=getShuffledQuiz({'id':_0x45e74f['id'],..._0x45e74f[_0x52f801(0x4da)]()});const _0x35be37=_0x5121fa[_0x52f801(0x4da)]();showTeamPlayerSelection(_0x35be37['students'],currentQuizData['topic']);}catch(_0xc3bc0d){console[_0x52f801(0xab1)](_0x52f801(0x160),_0xc3bc0d),showMessage(_0x52f801(0x1e6)+_0xc3bc0d[_0x52f801(0x776)]);}}async function handleJoinGroupActivity(){const _0x550ce3=_0x45baa4,_0x83c4f6=prompt(_0x550ce3(0x2cb));if(!_0x83c4f6||_0x83c4f6['trim']()[_0x550ce3(0xa33)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0xfcabfc=_0x83c4f6['trim']();showMessage(_0x550ce3(0x131));try{const _0x23e0e7=collection(db,_0x550ce3(0xb73)+appId+_0x550ce3(0x408)),_0x1df695=query(_0x23e0e7,where(_0x550ce3(0xb9f),'==',_0xfcabfc),where('status','==',_0x550ce3(0x36b))),_0x5ef35d=await getDocs(_0x1df695);if(!_0x5ef35d[_0x550ce3(0x1cd)]){console[_0x550ce3(0x161)](_0x550ce3(0x6a7)),await proceedWithTeamQuizJoin(_0x5ef35d['docs'][0x0]);return;}const _0x41bcc8=collection(db,'artifacts/'+appId+_0x550ce3(0x740)),_0x3162f1=query(_0x41bcc8,where(_0x550ce3(0xb9f),'==',_0xfcabfc),where('status','==',_0x550ce3(0x36b))),_0x1c101a=await getDocs(_0x3162f1);if(!_0x1c101a[_0x550ce3(0x1cd)]){console[_0x550ce3(0x161)](_0x550ce3(0x2f9)),await proceedWithSyncQuizJoin(_0x1c101a[_0x550ce3(0xb39)][0x0]);return;}showMessage(_0x550ce3(0x91f));}catch(_0x3c68e7){console[_0x550ce3(0xab1)](_0x550ce3(0xbf8),_0x3c68e7),showMessage(_0x550ce3(0x9f6)+_0x3c68e7['message']);}}async function proceedWithTeamQuizJoin(_0x11b52e){const _0x103e4e=_0x45baa4;currentTeamQuizId=_0x11b52e['id'];const _0x24bef7=_0x11b52e[_0x103e4e(0x4da)](),_0x294c27=doc(db,'artifacts/'+appId+'/public/data/projects',_0x24bef7[_0x103e4e(0xb2f)]),_0x3b8269=doc(db,_0x103e4e(0xb73)+appId+_0x103e4e(0xca0),_0x24bef7[_0x103e4e(0x25d)]),[_0x2f2bcd,_0xf0e533]=await Promise['all']([getDoc(_0x294c27),getDoc(_0x3b8269)]);if(!_0x2f2bcd[_0x103e4e(0xb1f)]()||!_0xf0e533['exists']())throw new Error(_0x103e4e(0x52f));currentQuizData=getShuffledQuiz({'id':_0xf0e533['id'],..._0xf0e533['data']()}),showTeamPlayerSelection(_0x2f2bcd[_0x103e4e(0x4da)]()[_0x103e4e(0x89e)],currentQuizData['topic'],_0x24bef7[_0x103e4e(0x2a4)]||_0x103e4e(0x5b5)),messageModal[_0x103e4e(0x246)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x131b5d){const _0x2d9cf6=_0x45baa4;currentLiveGameId=_0x131b5d['id'];const _0xe4d2a0=_0x131b5d[_0x2d9cf6(0x4da)](),_0x2328b7=doc(db,_0x2d9cf6(0xb73)+appId+'/public/data/quizzes',_0xe4d2a0[_0x2d9cf6(0x25d)]),_0x1c4184=await getDoc(_0x2328b7);if(!_0x1c4184[_0x2d9cf6(0xb1f)]())throw new Error(_0x2d9cf6(0x6cb));const _0x1a1ecb=_0x1c4184[_0x2d9cf6(0x4da)](),_0x5a017f=doc(db,'artifacts/'+appId+_0x2d9cf6(0xafc),_0x1a1ecb[_0x2d9cf6(0xb2f)]),_0x2b3aad=await getDoc(_0x5a017f);if(!_0x2b3aad[_0x2d9cf6(0xb1f)]())throw new Error(_0x2d9cf6(0xcdc));currentQuizData=_0xe4d2a0[_0x2d9cf6(0x2e4)],showView(_0x2d9cf6(0x345)),showTeamPlayerSelection(_0x2b3aad[_0x2d9cf6(0x4da)]()[_0x2d9cf6(0x89e)],_0x1a1ecb[_0x2d9cf6(0x613)],'sync'),document['getElementById']('confirm-team-players-btn')['onclick']=confirmAndJoinSyncGame,messageModal[_0x2d9cf6(0x246)][_0x2d9cf6(0x329)](_0x2d9cf6(0x35d));}function getCleanApplicationHTML(){const _0x20b97c=_0x45baa4,_0x5cc745=document[_0x20b97c(0xc7b)](_0x20b97c(0x5b0));if(!_0x5cc745)return'';const _0x2cbf1a=_0x5cc745['cloneNode'](!![]);return _0x2cbf1a[_0x20b97c(0x336)](_0x20b97c(0x7ea))[_0x20b97c(0x808)](_0x275231=>{const _0x459ce1=_0x20b97c;_0x275231[_0x459ce1(0x246)][_0x459ce1(0x142)](_0x459ce1(0x291),_0x459ce1(0x363)),_0x275231[_0x459ce1(0x514)]=![];}),_0x2cbf1a[_0x20b97c(0x9be)];}function showTeamPlayerSelection(_0x21da8a,_0x301896,_0x4e10ef='team'){const _0x40398f=_0x45baa4;studentInitialView[_0x40398f(0x246)][_0x40398f(0x329)](_0x40398f(0x35d)),studentJoinGameView[_0x40398f(0x246)][_0x40398f(0x329)](_0x40398f(0x35d)),document[_0x40398f(0xc7b)]('student-team-selection-view')['classList']['remove'](_0x40398f(0x35d));let _0x31814c='Team\x20Quiz';if(_0x4e10ef===_0x40398f(0x3ab))_0x31814c=_0x40398f(0x852);else _0x4e10ef==='sync'&&(_0x31814c=_0x40398f(0xc9f));document[_0x40398f(0xc7b)](_0x40398f(0xc71))[_0x40398f(0x448)]=_0x31814c+':\x20'+_0x301896;const _0x3a7d66=document[_0x40398f(0xc7b)]('team-student-list');if(!_0x21da8a||_0x21da8a[_0x40398f(0xa33)]===0x0){_0x3a7d66[_0x40398f(0x9be)]=_0x40398f(0x36a),document[_0x40398f(0xc7b)]('confirm-team-players-btn')[_0x40398f(0x514)]=!![];return;}_0x3a7d66[_0x40398f(0x9be)]=_0x21da8a[_0x40398f(0x327)](_0x49fbd1=>_0x40398f(0xc01)+_0x49fbd1+_0x40398f(0x908)+_0x49fbd1+_0x40398f(0x1bc))['join'](''),document[_0x40398f(0xc7b)](_0x40398f(0x2d3))[_0x40398f(0x514)]=![];}async function confirmAndStartTeamQuiz(){const _0x5def6e=_0x45baa4,_0x585a6a=Array[_0x5def6e(0x36f)](document[_0x5def6e(0x336)]('input[name=\x22team_player\x22]:checked'))[_0x5def6e(0x327)](_0x32ea58=>_0x32ea58[_0x5def6e(0xab9)]);if(_0x585a6a[_0x5def6e(0xa33)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x585a6a,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x33f7dd=doc(db,'artifacts/'+appId+_0x5def6e(0x408),currentTeamQuizId);try{const _0x312dbb=await getDoc(_0x33f7dd);if(!_0x312dbb['exists']())throw new Error(_0x5def6e(0x1a8));const _0x34a942=_0x312dbb['data']();if(_0x34a942[_0x5def6e(0x2a4)]===_0x5def6e(0x3ab)){const _0x42984c={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x33f7dd,_0x42984c);}else{const _0x271e57=_0x34a942[_0x5def6e(0x6c5)]||{};localTeamPlayers['forEach'](_0x2fd36e=>{!_0x271e57[_0x2fd36e]&&(_0x271e57[_0x2fd36e]={'score':0x0,'answers':[]});}),await updateDoc(_0x33f7dd,{'responses':_0x271e57});}document['getElementById'](_0x5def6e(0x508))[_0x5def6e(0x246)][_0x5def6e(0x329)](_0x5def6e(0x35d)),renderTeamQuizQuestion();const _0x6b825d={'gameId':currentTeamQuizId,'mode':_0x34a942[_0x5def6e(0x2a4)]||_0x5def6e(0x5b5),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x5def6e(0xd0f),JSON[_0x5def6e(0x4cb)](_0x6b825d)),listenForTeamQuizUpdates();}catch(_0x3caea8){console[_0x5def6e(0xab1)](_0x5def6e(0xc59),_0x3caea8),showMessage(_0x5def6e(0xc86));}}async function renderTeamQuizQuestion(){const _0x112480=_0x45baa4;if(localQuestionIndex>=currentQuizData[_0x112480(0x92e)][_0x112480(0xa33)]){displayTeamQuizFinalResults();return;}const _0x160cd7=currentQuizData[_0x112480(0x92e)][localQuestionIndex],_0x4a7fbd=localTeamPlayers[localPlayerIndex],_0x2a06cf=_0x160cd7[_0x112480(0x34f)]||currentQuizData[_0x112480(0x9f7)];let _0x1f346f=_0x160cd7[_0x112480(0x6ea)]||_0x160cd7[_0x112480(0x24b)],_0x3e39bc='';switch(_0x2a06cf){case _0x112480(0x35a):case'fill_in_with_choices':_0x3e39bc=_0x160cd7[_0x112480(0x929)][_0x112480(0x327)]((_0x156d8c,_0x130525)=>_0x112480(0x28e)+_0x130525+_0x112480(0x471)+_0x130525+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x130525+'\x22>'+_0x156d8c+'</label></div>')[_0x112480(0x7a0)]('');break;case _0x112480(0x3f8):_0x3e39bc='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case _0x112480(0x6d6):_0x3e39bc=_0x112480(0x8dd);break;case _0x112480(0xafa):_0x3e39bc=_0x112480(0x97e)+_0x160cd7[_0x112480(0x416)][_0x112480(0x327)](_0x2e1099=>_0x112480(0x490)+_0x2e1099+'\x22>'+_0x2e1099+_0x112480(0xaff))[_0x112480(0x7a0)]('')+'</select>';break;default:_0x3e39bc=_0x112480(0xd10);break;}studentQuizArea['innerHTML']=_0x112480(0x9b9)+(localQuestionIndex+0x1)+_0x112480(0xc6c)+currentQuizData[_0x112480(0x92e)][_0x112480(0xa33)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x4a7fbd+_0x112480(0x86e)+(localQuestionIndex+0x1)+'.\x20'+_0x1f346f+_0x112480(0x657)+(_0x160cd7['imageCode']?_0x112480(0x554)+_0x160cd7['imageCode']+_0x112480(0x418):'')+_0x112480(0x322)+_0x3e39bc+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x112480(0x246)]['remove']('hidden');if(window[_0x112480(0x8a3)])MathJax[_0x112480(0x91c)]([studentQuizArea]);document['getElementById'](_0x112480(0x4f6))[_0x112480(0x21f)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0xf0feac=_0x45baa4,_0x26f8d6=currentQuizData['questions'][localQuestionIndex],_0x43ec96=_0x26f8d6[_0xf0feac(0x34f)]||currentQuizData[_0xf0feac(0x9f7)];let _0x266efc=null,_0x3dfd8b=![];if(_0x43ec96===_0xf0feac(0x19e)||_0x43ec96===_0xf0feac(0x6d6)){const _0x2a89fa=document[_0xf0feac(0x452)](_0xf0feac(0x8b8));if(!_0x2a89fa||!_0x2a89fa[_0xf0feac(0xab9)]['trim']()){showMessage(_0xf0feac(0xb43));return;}_0x266efc=_0x2a89fa[_0xf0feac(0xab9)][_0xf0feac(0x958)](),_0x3dfd8b=await gradeShortAnswer(_0x266efc,_0x26f8d6);}else{const _0x14e1df=document[_0xf0feac(0x452)](_0xf0feac(0x198));if(!_0x14e1df||_0x14e1df[_0xf0feac(0xab9)]===''){showMessage(_0xf0feac(0x54f));return;}_0x266efc=_0x14e1df['value'];switch(_0x43ec96){case _0xf0feac(0x3f8):_0x3dfd8b=_0x266efc==='true'===_0x26f8d6['correctAnswer'];break;case _0xf0feac(0xafa):_0x3dfd8b=_0x266efc===_0x26f8d6[_0xf0feac(0x492)];break;default:_0x3dfd8b=parseInt(_0x266efc)===_0x26f8d6[_0xf0feac(0xbfe)];break;}}const _0x5a9e50={'questionIndex':localQuestionIndex,'isCorrect':_0x3dfd8b},_0x44306d=userId,_0x4d7eeb={['groups.'+_0x44306d+_0xf0feac(0xb83)]:arrayUnion(_0x5a9e50)};_0x3dfd8b&&(_0x4d7eeb[_0xf0feac(0x386)+_0x44306d+_0xf0feac(0x2b8)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4d7eeb),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0xf0feac(0x92e)][_0xf0feac(0xa33)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x542748){console[_0xf0feac(0xab1)](_0xf0feac(0x34b),_0x542748),showMessage(_0xf0feac(0x5c4));}}async function handleTeamAnswerSubmit(){const _0x4495f4=_0x45baa4,_0x3c3e1a=await getDoc(doc(db,_0x4495f4(0xb73)+appId+_0x4495f4(0x408),currentTeamQuizId));if(!_0x3c3e1a[_0x4495f4(0xb1f)]())return;const _0x203397=_0x3c3e1a['data']();if(_0x203397[_0x4495f4(0x2a4)]==='group'){handleGroupAnswerSubmit();return;}const _0x3a34e3=localTeamPlayers[localPlayerIndex],_0x2cc440=currentQuizData[_0x4495f4(0x92e)][localQuestionIndex],_0x31f0d0=_0x2cc440[_0x4495f4(0x34f)]||currentQuizData[_0x4495f4(0x9f7)];let _0xf08ecb=null,_0x673dd0=![];if(_0x31f0d0===_0x4495f4(0x19e)||_0x31f0d0===_0x4495f4(0x6d6)){const _0xb4cb5a=document[_0x4495f4(0x452)]('textarea[name=\x22team_answer\x22]');if(!_0xb4cb5a||!_0xb4cb5a[_0x4495f4(0xab9)][_0x4495f4(0x958)]()){showMessage(_0x4495f4(0x9d3));return;}_0xf08ecb=_0xb4cb5a[_0x4495f4(0xab9)]['trim'](),_0x673dd0=await gradeShortAnswer(_0xf08ecb,_0x2cc440);}else{const _0x203123=document[_0x4495f4(0x452)](_0x4495f4(0x198));if(!_0x203123||_0x203123[_0x4495f4(0xab9)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0xf08ecb=_0x203123[_0x4495f4(0xab9)];switch(_0x31f0d0){case _0x4495f4(0x3f8):_0x673dd0=_0xf08ecb===_0x4495f4(0xaa7)===_0x2cc440[_0x4495f4(0x4cc)];break;case'matching_item':_0x673dd0=_0xf08ecb===_0x2cc440['correctResponse'];break;default:_0x673dd0=parseInt(_0xf08ecb)===_0x2cc440['correctAnswerIndex'];break;}}const _0x1d46e5={'questionIndex':localQuestionIndex,'isCorrect':_0x673dd0,'answerValue':_0xf08ecb},_0x136875={['responses.'+_0x3a34e3+_0x4495f4(0xb83)]:arrayUnion(_0x1d46e5)};_0x673dd0&&(_0x136875['responses.'+_0x3a34e3+_0x4495f4(0x2b8)]=increment(0x1));try{await updateDoc(doc(db,_0x4495f4(0xb73)+appId+_0x4495f4(0x408),currentTeamQuizId),_0x136875),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x4495f4(0xa33)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x32a65c){console[_0x4495f4(0xab1)](_0x4495f4(0x823),_0x32a65c),showMessage(_0x4495f4(0x5c4));}}async function displayTeamQuizFinalResults(){const _0x2e11e5=_0x45baa4;studentQuizArea['classList']['add'](_0x2e11e5(0x35d)),studentResultArea[_0x2e11e5(0x246)]['remove']('hidden');const _0x2d63ea=doc(db,_0x2e11e5(0xb73)+appId+_0x2e11e5(0x408),currentTeamQuizId),_0x45facf=await getDoc(_0x2d63ea);if(!_0x45facf['exists']()){studentResultArea[_0x2e11e5(0x9be)]=_0x2e11e5(0x43e);return;}const _0x25b5fe=_0x45facf['data']();let _0x4edade=[];const _0x395883=_0x25b5fe[_0x2e11e5(0x2a4)]||'team';if(_0x395883===_0x2e11e5(0x3ab)){const _0x5b4cb0=_0x25b5fe[_0x2e11e5(0xd0e)][userId];_0x5b4cb0?_0x4edade=[{'name':_0x2e11e5(0xb15)+localTeamPlayers[_0x2e11e5(0x7a0)](',\x20'),'score':_0x5b4cb0[_0x2e11e5(0xbf3)]||0x0}]:_0x4edade=[{'name':_0x2e11e5(0xbdb),'score':_0x2e11e5(0xabf)}];}else _0x4edade=localTeamPlayers['map'](_0x1feb4b=>({'name':_0x1feb4b,'score':_0x25b5fe['responses'][_0x1feb4b]?.['score']||0x0}))['sort']((_0x155e35,_0x328a04)=>_0x328a04[_0x2e11e5(0xbf3)]-_0x155e35[_0x2e11e5(0xbf3)]);studentResultArea[_0x2e11e5(0x9be)]=_0x2e11e5(0x400)+_0x4edade[_0x2e11e5(0x327)](_0x49a433=>_0x2e11e5(0x8d6)+_0x49a433[_0x2e11e5(0xb4c)]+_0x2e11e5(0x261)+_0x49a433[_0x2e11e5(0xbf3)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x2e11e5(0xbce)](_0x2e11e5(0xd0f)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x15e8c9=_0x2e11e5;deleteDoc(doc(db,'artifacts/'+appId+_0x15e8c9(0x408),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x45baa4(0x894)};const allMathTopics=[{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x9b2)},{'category':_0x45baa4(0xb59),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0xd2f)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0xb19)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0xbb0)},{'category':_0x45baa4(0xb59),'name':'การลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0x937)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0xcb9)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x208)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x906)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0xc24)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x9dd)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x1e9)},{'category':_0x45baa4(0xb59),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0x1df)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0xaaf)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0xa16)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0x84b)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x1c3)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x185)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0xa13)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x4ef)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0xce7)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0x6d5)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x9ff)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0x78f)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x397)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0x9db)},{'category':'จำนวนและการดำเนินการ','name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0xaeb)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0x153)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0x14f)},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x54d)},{'category':'จำนวนและการดำเนินการ','name':_0x45baa4(0xcc0)},{'category':_0x45baa4(0xb59),'name':'รากที่สองและที่สาม'},{'category':_0x45baa4(0xb59),'name':_0x45baa4(0x5ab)},{'category':_0x45baa4(0xb59),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x773)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x747)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x8db)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x1ad)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0xbe5)},{'category':'การวัด','name':_0x45baa4(0x2f1)},{'category':_0x45baa4(0x942),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x544)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x64c)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x449)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x29e)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0xbc4)},{'category':'การวัด','name':_0x45baa4(0x238)},{'category':_0x45baa4(0x942),'name':_0x45baa4(0x877)},{'category':_0x45baa4(0xbca),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':'เรขาคณิต','name':_0x45baa4(0xaa1)},{'category':_0x45baa4(0xbca),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x45baa4(0xbca),'name':_0x45baa4(0x544)},{'category':_0x45baa4(0xbca),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x45baa4(0xbca),'name':_0x45baa4(0x92c)},{'category':_0x45baa4(0xbca),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':'เรขาคณิต','name':_0x45baa4(0x50f)},{'category':_0x45baa4(0xbca),'name':_0x45baa4(0x193)},{'category':'เรขาคณิต','name':_0x45baa4(0xb78)},{'category':'เรขาคณิต','name':_0x45baa4(0x3e4)},{'category':_0x45baa4(0xbca),'name':_0x45baa4(0x831)},{'category':'เรขาคณิต','name':_0x45baa4(0x265)},{'category':'เรขาคณิต','name':_0x45baa4(0xd43)},{'category':_0x45baa4(0xbca),'name':_0x45baa4(0xb38)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0xd16)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x274)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x45baa4(0x156)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x1e1)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x4de)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x197)},{'category':_0x45baa4(0x564),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x45baa4(0x564),'name':_0x45baa4(0xd07)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x3a1)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x4d3)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0xaf0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x45baa4(0x7b7)},{'category':_0x45baa4(0x564),'name':'สมการลอการิทึม'},{'category':_0x45baa4(0x564),'name':_0x45baa4(0xbb6)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x84f)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x506)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x2b2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x45baa4(0x3f9)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x5ff)},{'category':_0x45baa4(0x564),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x45baa4(0x87e)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x3ea)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x5d7)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x438)},{'category':_0x45baa4(0x564),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x5e2)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x52a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x45baa4(0xc75)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x45baa4(0x769)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x45baa4(0x6bb)},{'category':_0x45baa4(0x564),'name':_0x45baa4(0xcde)},{'category':'พีชคณิตและฟังก์ชัน','name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x45baa4(0x564),'name':_0x45baa4(0x3fa)},{'category':'เรขาคณิตวิเคราะห์','name':_0x45baa4(0x45b)},{'category':'เรขาคณิตวิเคราะห์','name':_0x45baa4(0x445)},{'category':_0x45baa4(0x5a8),'name':_0x45baa4(0x48b)},{'category':_0x45baa4(0x5a8),'name':_0x45baa4(0x86c)},{'category':_0x45baa4(0x5a8),'name':_0x45baa4(0x5f7)},{'category':'เรขาคณิตวิเคราะห์','name':_0x45baa4(0xbf2)},{'category':_0x45baa4(0x5a8),'name':_0x45baa4(0xd31)},{'category':_0x45baa4(0x5a8),'name':'วงรี'},{'category':_0x45baa4(0x5a8),'name':_0x45baa4(0x641)},{'category':'ตรีโกณมิติ','name':_0x45baa4(0x71a)},{'category':_0x45baa4(0x66a),'name':_0x45baa4(0x914)},{'category':_0x45baa4(0x66a),'name':_0x45baa4(0x7fe)},{'category':'ตรีโกณมิติ','name':'เรเดียนและการแปลงหน่วย'},{'category':_0x45baa4(0x66a),'name':'กฎของไซน์'},{'category':_0x45baa4(0x66a),'name':'กฎของโคไซน์'},{'category':_0x45baa4(0x66a),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x45baa4(0x66a),'name':_0x45baa4(0x4b4)},{'category':_0x45baa4(0x66a),'name':_0x45baa4(0x159)},{'category':_0x45baa4(0x66a),'name':_0x45baa4(0xa4a)},{'category':_0x45baa4(0x66a),'name':_0x45baa4(0x1b5)},{'category':'สถิติและความน่าจะเป็น','name':_0x45baa4(0x8cb)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x9b1)},{'category':_0x45baa4(0xc1d),'name':'ตารางความถี่'},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x93f)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x9c8)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x45baa4(0xc1d),'name':'ค่าเฉลี่ย'},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x6fe)},{'category':'สถิติและความน่าจะเป็น','name':_0x45baa4(0x313)},{'category':'สถิติและความน่าจะเป็น','name':_0x45baa4(0xc66)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x8b3)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x7f1)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0xafd)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x656)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x458)},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0xb36)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x962)},{'category':'สถิติและความน่าจะเป็น','name':_0x45baa4(0xc8d)},{'category':_0x45baa4(0xc1d),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0xcc3)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0x693)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0xa2e)},{'category':_0x45baa4(0xc1d),'name':_0x45baa4(0xc58)},{'category':_0x45baa4(0x539),'name':_0x45baa4(0x949)},{'category':_0x45baa4(0x539),'name':_0x45baa4(0x907)},{'category':_0x45baa4(0x539),'name':_0x45baa4(0x5cd)},{'category':_0x45baa4(0x539),'name':_0x45baa4(0x839)},{'category':'แคลคูลัสเบื้องต้น','name':_0x45baa4(0x896)},{'category':'แคลคูลัสเบื้องต้น','name':_0x45baa4(0xbb1)},{'category':_0x45baa4(0x539),'name':_0x45baa4(0x56a)},{'category':_0x45baa4(0x539),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x45baa4(0x539),'name':_0x45baa4(0xcba)},{'category':_0x45baa4(0x539),'name':_0x45baa4(0x209)},{'category':_0x45baa4(0x539),'name':'ปริพันธ์จำกัด'},{'category':_0x45baa4(0x539),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x45baa4(0x539),'name':_0x45baa4(0xb33)},{'category':_0x45baa4(0x33e),'name':_0x45baa4(0xd1a)},{'category':_0x45baa4(0x33e),'name':_0x45baa4(0xadb)},{'category':_0x45baa4(0x33e),'name':_0x45baa4(0x9fa)},{'category':_0x45baa4(0x33e),'name':_0x45baa4(0x51f)},{'category':_0x45baa4(0x33e),'name':_0x45baa4(0x9d6)},{'category':_0x45baa4(0x33e),'name':_0x45baa4(0x735)},{'category':_0x45baa4(0x33e),'name':_0x45baa4(0xccc)},{'category':_0x45baa4(0x65e),'name':_0x45baa4(0x13a)},{'category':_0x45baa4(0x65e),'name':_0x45baa4(0xa86)},{'category':_0x45baa4(0x65e),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x45baa4(0x65e),'name':_0x45baa4(0x7dd)},{'category':_0x45baa4(0x65e),'name':'ร้อยละประยุกต์'},{'category':_0x45baa4(0xcc4),'name':_0x45baa4(0x61d)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x45baa4(0xcc4),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x2525ef=_0x45baa4,_0x47f890=document[_0x2525ef(0xc7b)](_0x2525ef(0x267));if(!_0x47f890)return;const _0x3bf107=allMathTopics,_0x43e18c=customMathTopics[_0x2525ef(0x327)](_0xff7e1=>({'id':_0xff7e1['id'],'category':_0x2525ef(0xb42),'name':_0xff7e1[_0x2525ef(0xb4c)]})),_0x602945=[..._0x3bf107,..._0x43e18c],_0x4713cf=_0x602945[_0x2525ef(0x9ac)]((_0x2aa2be,_0x497077)=>{const _0x55413e=_0x2525ef;return!_0x2aa2be[_0x497077[_0x55413e(0x581)]]&&(_0x2aa2be[_0x497077[_0x55413e(0x581)]]=[]),_0x2aa2be[_0x497077[_0x55413e(0x581)]][_0x55413e(0xd01)](_0x497077),_0x2aa2be;},{});let _0x11e240='';const _0x1a5e5a=[_0x2525ef(0xb42),...Object['keys'](_0x4713cf)[_0x2525ef(0x6d0)](_0x5dee0b=>_0x5dee0b!=='หัวข้อที่สร้างเอง')];for(const _0x3baf8e of _0x1a5e5a){if(_0x4713cf[_0x3baf8e]){const _0x101209=_0x3baf8e==='หัวข้อที่สร้างเอง',_0x4a5063=_0x101209?_0x2525ef(0xa22):'fas\x20fa-bookmark',_0x37f7fc=_0x101209?_0x2525ef(0x986):_0x2525ef(0xacb);_0x11e240+=_0x2525ef(0x93c),_0x11e240+=_0x2525ef(0x332)+_0x37f7fc+_0x2525ef(0x7fc)+_0x4a5063+'\x20mr-2\x22></i>'+_0x3baf8e+_0x2525ef(0x4fa),_0x4713cf[_0x3baf8e][_0x2525ef(0x808)](_0xe898f6=>{const _0x265975=_0x2525ef,_0x11241e=!!_0xe898f6['id'],_0x4dd3ee=_0x11241e?_0x265975(0x803)+_0xe898f6['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xe898f6['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xe898f6['id']+_0x265975(0x256)+_0xe898f6['id']+_0x265975(0xc47):'';_0x11e240+=_0x265975(0x3c2)+(_0xe898f6['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0xe898f6['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0xe898f6[_0x265975(0xb4c)]+_0x265975(0x2c4)+(_0x11241e?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0xe898f6['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dd3ee+_0x265975(0x88c);}),_0x11e240+=_0x2525ef(0x418);}}_0x47f890[_0x2525ef(0x9be)]=_0x11e240||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x47f890['removeEventListener'](_0x2525ef(0x946),updateSelectedTopicsCount),_0x47f890[_0x2525ef(0x21f)](_0x2525ef(0x946),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x1cad3f,_0x2eb676){const _0x38150b=_0x45baa4;if(!_0x1cad3f||!_0x2eb676['trim']()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x1b0dae=doc(db,_0x38150b(0xb73)+appId+_0x38150b(0x32c),_0x1cad3f);await updateDoc(_0x1b0dae,{'name':_0x2eb676[_0x38150b(0x958)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x371c1f){console[_0x38150b(0xab1)]('Error\x20updating\x20custom\x20topic:',_0x371c1f),showMessage(_0x38150b(0x9f1));}}function toggleTopicEditMode(_0x1c2f7c,_0x48a6ee){const _0x2ad1c9=_0x45baa4;if(!_0x1c2f7c)return;const _0x2bb6c5=_0x1c2f7c[_0x2ad1c9(0x452)](_0x2ad1c9(0x742)),_0x3730bd=_0x1c2f7c[_0x2ad1c9(0x452)]('.topic-name-input'),_0x2fa31b=_0x1c2f7c[_0x2ad1c9(0x452)](_0x2ad1c9(0x365)),_0x6cac04=_0x1c2f7c[_0x2ad1c9(0x452)]('.topic-actions-edit');_0x2bb6c5[_0x2ad1c9(0x246)][_0x2ad1c9(0x650)](_0x2ad1c9(0x35d),_0x48a6ee),_0x3730bd[_0x2ad1c9(0x246)][_0x2ad1c9(0x650)](_0x2ad1c9(0x35d),!_0x48a6ee),_0x2fa31b[_0x2ad1c9(0x246)]['toggle'](_0x2ad1c9(0x35d),_0x48a6ee),_0x6cac04[_0x2ad1c9(0x246)]['toggle']('hidden',!_0x48a6ee),_0x48a6ee&&(_0x3730bd[_0x2ad1c9(0x283)](),_0x3730bd[_0x2ad1c9(0xa39)]());}async function handleStartLiveRace(_0x40527a){const _0x303d01=_0x45baa4;let _0x124d9a=allQuizzes[_0x303d01(0x5f4)](_0x5bb2d5=>_0x5bb2d5['id']===_0x40527a);if(!_0x124d9a){const _0x410628=doc(db,_0x303d01(0xb73)+appId+_0x303d01(0xca0),_0x40527a),_0x8c26ec=await getDoc(_0x410628);if(!_0x8c26ec[_0x303d01(0xb1f)]()){showMessage(_0x303d01(0x6cb));return;}_0x124d9a={'id':_0x8c26ec['id'],..._0x8c26ec[_0x303d01(0x4da)]()};}const _0x4113ac=getShuffledQuiz(_0x124d9a);currentQuizData=_0x4113ac;const _0x1ab452=_0x124d9a['projectId']||currentProjectId||null,_0x288b94=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();currentLiveGamePin=_0x288b94;try{const _0x26626f=await addDoc(collection(db,_0x303d01(0xb73)+appId+'/public/data/liveGames'),{'quizId':_0x40527a,'projectId':_0x1ab452,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x288b94,'createdAt':serverTimestamp(),'shuffledQuiz':_0x4113ac});currentLiveGameId=_0x26626f['id'],showAdminLobbyView(_0x288b94,_0x124d9a[_0x303d01(0x613)]),listenForLiveGameUpdates();}catch(_0x103349){console[_0x303d01(0xab1)](_0x303d01(0x40a),_0x103349),showMessage(_0x303d01(0xbaa));}}function updateSelectedTopicsCount(){const _0x4fc38c=_0x45baa4,_0x606d66=document['getElementById']('math-topics-checkbox-container'),_0x302b9d=_0x606d66['querySelectorAll'](_0x4fc38c(0x685))[_0x4fc38c(0xa33)],_0x5e1bc3=document['getElementById'](_0x4fc38c(0x3f6));_0x302b9d>0x0?_0x5e1bc3['textContent']='(เลือกแล้ว\x20'+_0x302b9d+_0x4fc38c(0x1bd):_0x5e1bc3[_0x4fc38c(0x448)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x45baa4(0x82e),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x45baa4(0x72f),scratchpadPenColor=_0x45baa4(0x5bc),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5b45a2,_0x1a7f31){const _0x180865=_0x45baa4;return Math[_0x180865(0x3a6)](Math['pow'](_0x5b45a2['x']-_0x1a7f31['x'],0x2)+Math[_0x180865(0x2b7)](_0x5b45a2['y']-_0x1a7f31['y'],0x2));}function getMidpoint(_0x523ef0,_0x11901e){return{'x':(_0x523ef0['x']+_0x11901e['x'])/0x2,'y':(_0x523ef0['y']+_0x11901e['y'])/0x2};}function getTransformedPoint(_0x5ceac1,_0xa8dac1){return{'x':(_0x5ceac1-scratchpadOffset['x'])/scratchpadScale,'y':(_0xa8dac1-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x37d7d9=_0x45baa4;if(!scratchpadCtx)return;const _0x58c790=scratchpadCtx[_0x37d7d9(0x2b9)],_0x11fc9e=window['devicePixelRatio']||0x1,_0x4fac51=document['getElementById']('scratchpad-header');_0x4fac51&&(_0x4fac51[_0x37d7d9(0x59f)]['transformOrigin']=_0x37d7d9(0x3d6),_0x4fac51[_0x37d7d9(0x59f)][_0x37d7d9(0x282)]=_0x37d7d9(0xd48)+scratchpadOffset['x']+_0x37d7d9(0xb08)+scratchpadOffset['y']+_0x37d7d9(0x9e3)+scratchpadScale+')'),scratchpadCtx[_0x37d7d9(0x275)](),scratchpadCtx[_0x37d7d9(0x5bd)](_0x11fc9e,0x0,0x0,_0x11fc9e,0x0,0x0),scratchpadCtx[_0x37d7d9(0x482)](0x0,0x0,_0x58c790[_0x37d7d9(0x189)],_0x58c790[_0x37d7d9(0x2dd)]),scratchpadCtx[_0x37d7d9(0x7e3)](),scratchpadCtx[_0x37d7d9(0x275)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x37d7d9(0x610)](scratchpadScale,scratchpadScale),strokes[_0x37d7d9(0x808)](_0x4f3ca1=>{drawStroke(_0x4f3ca1);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x37d7d9(0x7e3)]();}function renderGroupModeQuestion(){const _0x2f963e=_0x45baa4;if(localQuestionIndex>=currentQuizData[_0x2f963e(0x92e)][_0x2f963e(0xa33)]){displayTeamQuizFinalResults();return;}const _0x3a77f1=currentQuizData[_0x2f963e(0x92e)][localQuestionIndex],_0x286260=_0x3a77f1[_0x2f963e(0x34f)]||currentQuizData['quizType'];let _0x34b6f8=_0x3a77f1[_0x2f963e(0x6ea)]||_0x3a77f1[_0x2f963e(0x24b)],_0x4162a1='';switch(_0x286260){case'multiple_choice':case _0x2f963e(0x8e8):_0x4162a1=_0x3a77f1[_0x2f963e(0x929)][_0x2f963e(0x327)]((_0x4fd0ce,_0xb1586b)=>_0x2f963e(0x28e)+_0xb1586b+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0xb1586b+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0xb1586b+'\x22>'+_0x4fd0ce+'</label></div>')[_0x2f963e(0x7a0)]('');break;case _0x2f963e(0x3f8):_0x4162a1=_0x2f963e(0x56f);break;case'short_answer':case _0x2f963e(0x6d6):_0x4162a1='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case'matching_item':_0x4162a1=_0x2f963e(0x97e)+_0x3a77f1[_0x2f963e(0x416)][_0x2f963e(0x327)](_0x1cf510=>_0x2f963e(0x490)+_0x1cf510+'\x22>'+_0x1cf510+_0x2f963e(0xaff))[_0x2f963e(0x7a0)]('')+_0x2f963e(0x7a1);break;default:_0x4162a1=_0x2f963e(0xd10);break;}studentQuizArea[_0x2f963e(0x9be)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x2f963e(0xc6c)+currentQuizData['questions'][_0x2f963e(0xa33)]+_0x2f963e(0x165)+localTeamPlayers['join'](',\x20')+_0x2f963e(0x86e)+(localQuestionIndex+0x1)+'.\x20'+_0x34b6f8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3a77f1[_0x2f963e(0x76d)]?_0x2f963e(0x554)+_0x3a77f1[_0x2f963e(0x76d)]+'</div>':'')+_0x2f963e(0x322)+_0x4162a1+_0x2f963e(0x9d8),studentQuizArea[_0x2f963e(0x246)][_0x2f963e(0x142)](_0x2f963e(0x35d));if(window['MathJax'])MathJax[_0x2f963e(0x91c)]([studentQuizArea]);document['getElementById'](_0x2f963e(0x346))[_0x2f963e(0x21f)](_0x2f963e(0xb10),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x4c3cca,_0x1f72a2=null,_0xdc94b5,_0x2a3384=null,_0x55a974=![],_0x54ef50=null){const _0x14d7b0=_0x45baa4,_0x84b637=document[_0x14d7b0(0xc7b)](_0x14d7b0(0x9e2));_0x84b637&&_0x84b637[_0x14d7b0(0x4ed)]({'behavior':_0x14d7b0(0x2d9),'block':'center'}),generateQuiz(_0x4c3cca,_0x1f72a2,null,_0x54ef50,!![],_0xdc94b5,_0x2a3384,_0x55a974);}function handleGenerateAndShowLesson(_0x5a258e,_0x3ae2f5){const _0x1ef71d=_0x45baa4,_0x4251fd=document['getElementById'](_0x1ef71d(0x8d9)),_0x197e4e=document['getElementById'](_0x1ef71d(0x72a)),_0x20e6aa=document[_0x1ef71d(0xc7b)](_0x1ef71d(0x4f1)),_0x25b711=document['getElementById'](_0x1ef71d(0x37d));[_0x1ef71d(0x3ca),_0x1ef71d(0x1b6),'applicationContent',_0x1ef71d(0x1ba)][_0x1ef71d(0x808)](_0x167ae1=>{const _0x10d210=_0x1ef71d,_0x29a19c=document[_0x10d210(0xc7b)](_0x167ae1)[_0x10d210(0x7d1)];_0x29a19c&&(_0x29a19c[_0x10d210(0x59f)][_0x10d210(0x18e)]=_0x10d210(0xae6));}),_0x197e4e[_0x1ef71d(0x448)]=_0x1ef71d(0x4c1)+_0x5a258e,_0x25b711['classList'][_0x1ef71d(0x329)]('hidden'),_0x20e6aa['classList'][_0x1ef71d(0x142)](_0x1ef71d(0x35d)),_0x4251fd[_0x1ef71d(0x246)][_0x1ef71d(0x142)](_0x1ef71d(0x35d)),generateLesson(_0x5a258e,_0x3ae2f5)[_0x1ef71d(0x299)](_0x4f6b20=>{const _0x34c06e=_0x1ef71d;console[_0x34c06e(0xab1)](_0x34c06e(0x577),_0x4f6b20),showMessage(_0x34c06e(0x5de)),_0x4251fd[_0x34c06e(0x246)][_0x34c06e(0x329)](_0x34c06e(0x35d));});}function handlePointerDown(_0x5f288b){const _0x48606d=_0x45baa4;_0x5f288b['preventDefault']();const _0x604aa6=scratchpadCtx[_0x48606d(0x2b9)],_0x41fd58=_0x604aa6[_0x48606d(0xb13)](),_0x4a432f=_0x5f288b[_0x48606d(0x3f7)]||(_0x5f288b[_0x48606d(0x375)]?_0x48606d(0x83b):_0x48606d(0xb51));if(_0x4a432f===_0x48606d(0x72f)||_0x4a432f===_0x48606d(0xb51)){if(_0x5f288b[_0x48606d(0x3f7)]===_0x48606d(0xb51)&&_0x5f288b[_0x48606d(0x9e8)]!==0x0){_0x5f288b[_0x48606d(0x9e8)]===0x1&&(isMousePanning=!![],panStart={'x':_0x5f288b['clientX'],'y':_0x5f288b[_0x48606d(0x50d)]},_0x604aa6[_0x48606d(0x59f)]['cursor']=_0x48606d(0x42b));return;}activeTool===_0x48606d(0xc9b)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x56b624=getTransformedPoint(_0x5f288b['clientX']-_0x41fd58[_0x48606d(0xb4e)],_0x5f288b[_0x48606d(0x50d)]-_0x41fd58[_0x48606d(0x994)]);let _0x347910={'tool':activeTool,'points':[_0x56b624]};if(activeTool==='pen')_0x347910[_0x48606d(0x8ae)]=scratchpadPenColor,_0x347910[_0x48606d(0xd20)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x347910[_0x48606d(0x8ae)]=scratchpadPenColor,_0x347910[_0x48606d(0xd20)]=scratchpadEraserSize;else{if(activeTool==='highlighter')_0x347910[_0x48606d(0x8ae)]=scratchpadHighlighterColor,_0x347910['size']=scratchpadHighlighterSize;else activeTool===_0x48606d(0xc9b)&&(_0x347910[_0x48606d(0x8ae)]=scratchpadPenColor,_0x347910[_0x48606d(0xd20)]=scratchpadPenSize);}}currentStroke=_0x347910;}else _0x5f288b[_0x48606d(0x375)]&&(_0x5f288b[_0x48606d(0x375)][_0x48606d(0xa33)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x5f288b[_0x48606d(0x375)][0x0][_0x48606d(0x17a)],'y':_0x5f288b['touches'][0x0]['clientY']},{'x':_0x5f288b['touches'][0x1][_0x48606d(0x17a)],'y':_0x5f288b[_0x48606d(0x375)][0x1][_0x48606d(0x50d)]}),initialPinchDistance=getDistance({'x':_0x5f288b['touches'][0x0][_0x48606d(0x17a)],'y':_0x5f288b[_0x48606d(0x375)][0x0][_0x48606d(0x50d)]},{'x':_0x5f288b[_0x48606d(0x375)][0x1][_0x48606d(0x17a)],'y':_0x5f288b['touches'][0x1][_0x48606d(0x50d)]})));}function animateTrail(){const _0x3cb9f9=_0x45baa4,_0x523dec=Date[_0x3cb9f9(0xcb8)]();let _0x22758b=![];for(let _0x3aaeed=strokes['length']-0x1;_0x3aaeed>=0x0;_0x3aaeed--){const _0x34d8cd=strokes[_0x3aaeed];if(_0x34d8cd[_0x3cb9f9(0xc6f)]==='trail'&&_0x34d8cd[_0x3cb9f9(0x8ff)]){const _0x31d465=_0x523dec-_0x34d8cd['fadeStartTime'];_0x31d465>=TRAIL_DURATION?strokes['splice'](_0x3aaeed,0x1):(_0x34d8cd[_0x3cb9f9(0x961)]=0x1-_0x31d465/TRAIL_DURATION,_0x22758b=!![]);}}redrawScratchpad(),_0x22758b?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x3822c5){const _0x11c158=_0x45baa4;if(!_0x3822c5||_0x3822c5[_0x11c158(0xba9)][_0x11c158(0xa33)]<0x1)return;scratchpadCtx[_0x11c158(0x275)](),scratchpadCtx[_0x11c158(0xa58)]=_0x11c158(0xa65),scratchpadCtx['lineCap']='round';if(_0x3822c5[_0x11c158(0xc6f)]==='trail'){const _0x334773=_0x3822c5[_0x11c158(0xd20)]/scratchpadScale;scratchpadCtx[_0x11c158(0x76f)]=_0x3822c5[_0x11c158(0x961)]??0x1,scratchpadCtx[_0x11c158(0x6b0)]=_0x11c158(0x6cf),scratchpadCtx['shadowBlur']=_0x334773*0x3,scratchpadCtx[_0x11c158(0x18c)]=_0x11c158(0x2f3),scratchpadCtx[_0x11c158(0x377)]=_0x334773*2.5,scratchpadCtx[_0x11c158(0x580)](),scratchpadCtx[_0x11c158(0x8b4)](_0x3822c5[_0x11c158(0xba9)][0x0]['x'],_0x3822c5[_0x11c158(0xba9)][0x0]['y']);for(let _0x39b467=0x1;_0x39b467<_0x3822c5[_0x11c158(0xba9)][_0x11c158(0xa33)]-0x1;_0x39b467++){const _0x18f0e2=getMidpoint(_0x3822c5[_0x11c158(0xba9)][_0x39b467],_0x3822c5[_0x11c158(0xba9)][_0x39b467+0x1]);scratchpadCtx[_0x11c158(0x638)](_0x3822c5[_0x11c158(0xba9)][_0x39b467]['x'],_0x3822c5[_0x11c158(0xba9)][_0x39b467]['y'],_0x18f0e2['x'],_0x18f0e2['y']);}scratchpadCtx[_0x11c158(0x315)](),scratchpadCtx['shadowColor']='transparent',scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x11c158(0x18c)]=_0x11c158(0x94b),scratchpadCtx[_0x11c158(0x377)]=_0x334773,scratchpadCtx[_0x11c158(0x315)](),scratchpadCtx['closePath']();}else{if(_0x3822c5[_0x11c158(0xc6f)]===_0x11c158(0xbe9)){scratchpadCtx[_0x11c158(0x560)]=_0x11c158(0x296),scratchpadCtx[_0x11c158(0x18c)]=_0x3822c5[_0x11c158(0x8ae)],scratchpadCtx['lineWidth']=_0x3822c5[_0x11c158(0xd20)],scratchpadCtx[_0x11c158(0x580)](),scratchpadCtx[_0x11c158(0x8b4)](_0x3822c5['points'][0x0]['x'],_0x3822c5[_0x11c158(0xba9)][0x0]['y']);for(let _0xdff335=0x1;_0xdff335<_0x3822c5[_0x11c158(0xba9)][_0x11c158(0xa33)]-0x1;_0xdff335++){const _0x5df7ae=getMidpoint(_0x3822c5['points'][_0xdff335],_0x3822c5[_0x11c158(0xba9)][_0xdff335+0x1]);scratchpadCtx['quadraticCurveTo'](_0x3822c5['points'][_0xdff335]['x'],_0x3822c5['points'][_0xdff335]['y'],_0x5df7ae['x'],_0x5df7ae['y']);}scratchpadCtx[_0x11c158(0x315)](),scratchpadCtx[_0x11c158(0x1a9)]();}else{scratchpadCtx[_0x11c158(0x560)]=_0x3822c5[_0x11c158(0xc6f)]===_0x11c158(0x3de)?_0x11c158(0x73e):_0x11c158(0xac7),scratchpadCtx[_0x11c158(0x18c)]=_0x3822c5[_0x11c158(0x8ae)],scratchpadCtx[_0x11c158(0x377)]=_0x3822c5[_0x11c158(0xd20)],scratchpadCtx[_0x11c158(0x580)](),scratchpadCtx[_0x11c158(0x8b4)](_0x3822c5[_0x11c158(0xba9)][0x0]['x'],_0x3822c5[_0x11c158(0xba9)][0x0]['y']);for(let _0x383176=0x1;_0x383176<_0x3822c5[_0x11c158(0xba9)][_0x11c158(0xa33)]-0x1;_0x383176++){const _0x13593f=getMidpoint(_0x3822c5[_0x11c158(0xba9)][_0x383176],_0x3822c5[_0x11c158(0xba9)][_0x383176+0x1]);scratchpadCtx[_0x11c158(0x638)](_0x3822c5['points'][_0x383176]['x'],_0x3822c5[_0x11c158(0xba9)][_0x383176]['y'],_0x13593f['x'],_0x13593f['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x11c158(0x1a9)]();}}scratchpadCtx[_0x11c158(0x7e3)]();}function handlePointerMove(_0x7005da){const _0x2ed65f=_0x45baa4;_0x7005da[_0x2ed65f(0xcd0)]();const _0x36699c=scratchpadCtx[_0x2ed65f(0x2b9)],_0x49c105=_0x36699c['getBoundingClientRect']();if(_0x7005da[_0x2ed65f(0x375)]){if(_0x7005da[_0x2ed65f(0x375)][_0x2ed65f(0xa33)]===0x1&&isDrawingOnScratchpad){const _0x59b5f8=getTransformedPoint(_0x7005da[_0x2ed65f(0x375)][0x0]['clientX']-_0x49c105[_0x2ed65f(0xb4e)],_0x7005da[_0x2ed65f(0x375)][0x0][_0x2ed65f(0x50d)]-_0x49c105[_0x2ed65f(0x994)]);currentStroke[_0x2ed65f(0xba9)][_0x2ed65f(0xd01)](_0x59b5f8),redrawScratchpad();}else{if(_0x7005da[_0x2ed65f(0x375)][_0x2ed65f(0xa33)]===0x2&&isPanning){const _0xa0d567=getDistance({'x':_0x7005da['touches'][0x0]['clientX'],'y':_0x7005da[_0x2ed65f(0x375)][0x0][_0x2ed65f(0x50d)]},{'x':_0x7005da[_0x2ed65f(0x375)][0x1]['clientX'],'y':_0x7005da['touches'][0x1][_0x2ed65f(0x50d)]}),_0xccd907=getMidpoint({'x':_0x7005da[_0x2ed65f(0x375)][0x0][_0x2ed65f(0x17a)],'y':_0x7005da[_0x2ed65f(0x375)][0x0]['clientY']},{'x':_0x7005da[_0x2ed65f(0x375)][0x1]['clientX'],'y':_0x7005da[_0x2ed65f(0x375)][0x1]['clientY']}),_0x14334d=_0xa0d567/ initialPinchDistance,_0x499da6=Math['min'](Math[_0x2ed65f(0x573)](scratchpadScale*_0x14334d,MIN_SCALE),MAX_SCALE),_0x1029ce=_0xccd907['x']-panStart['x'],_0x579ffb=_0xccd907['y']-panStart['y'];scratchpadOffset['x']=_0xccd907['x']-(_0xccd907['x']-scratchpadOffset['x'])*(_0x499da6/scratchpadScale),scratchpadOffset['y']=_0xccd907['y']-(_0xccd907['y']-scratchpadOffset['y'])*(_0x499da6/scratchpadScale),scratchpadOffset['x']+=_0x1029ce,scratchpadOffset['y']+=_0x579ffb,scratchpadScale=_0x499da6,initialPinchDistance=_0xa0d567,panStart=_0xccd907,redrawScratchpad();}}}else{if(isMousePanning){const _0x468e99=_0x7005da[_0x2ed65f(0x17a)]-panStart['x'],_0xc88cdb=_0x7005da[_0x2ed65f(0x50d)]-panStart['y'];scratchpadOffset['x']+=_0x468e99,scratchpadOffset['y']+=_0xc88cdb,panStart={'x':_0x7005da[_0x2ed65f(0x17a)],'y':_0x7005da[_0x2ed65f(0x50d)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x55d65c=getTransformedPoint(_0x7005da[_0x2ed65f(0x17a)]-_0x49c105[_0x2ed65f(0xb4e)],_0x7005da['clientY']-_0x49c105[_0x2ed65f(0x994)]);currentStroke[_0x2ed65f(0xba9)][_0x2ed65f(0xd01)](_0x55d65c),redrawScratchpad();}}}}function handlePointerUp(_0x318f66){const _0x519d9d=_0x45baa4;_0x318f66[_0x519d9d(0xcd0)]();const _0x174ba9=scratchpadCtx[_0x519d9d(0x2b9)];isMousePanning&&(isMousePanning=![],_0x174ba9[_0x519d9d(0x59f)][_0x519d9d(0x9ee)]=_0x519d9d(0xc4b)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x519d9d(0xba9)]['length']>0x1&&(strokes[_0x519d9d(0xd01)](currentStroke),currentStroke['tool']==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xb0611d=_0x519d9d,_0x1b7910=strokes['filter'](_0x14d59a=>_0x14d59a['tool']==='trail'&&!_0x14d59a['fadeStartTime']);if(_0x1b7910[_0xb0611d(0xa33)]>0x0){const _0x546c86=Date[_0xb0611d(0xcb8)]();_0x1b7910[_0xb0611d(0x808)](_0x3af1ff=>_0x3af1ff[_0xb0611d(0x8ff)]=_0x546c86),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x29d115){const _0xce9083=_0x45baa4;_0x29d115[_0xce9083(0xcd0)]();const _0x29c26d=_0x29d115[_0xce9083(0x80d)]*-0.005,_0x547d16=Math[_0xce9083(0x807)](Math[_0xce9083(0x573)](scratchpadScale+_0x29c26d,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x29d115[_0xce9083(0x17a)]-(_0x29d115[_0xce9083(0x17a)]-scratchpadOffset['x'])*(_0x547d16/scratchpadScale),scratchpadOffset['y']=_0x29d115[_0xce9083(0x50d)]-(_0x29d115[_0xce9083(0x50d)]-scratchpadOffset['y'])*(_0x547d16/scratchpadScale),scratchpadScale=_0x547d16,redrawScratchpad();}function undo(){const _0x56f54c=_0x45baa4;strokes[_0x56f54c(0xa33)]>0x0&&(redoStrokes[_0x56f54c(0xd01)](strokes[_0x56f54c(0x211)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5ce26f=_0x45baa4;redoStrokes[_0x5ce26f(0xa33)]>0x0&&(strokes[_0x5ce26f(0xd01)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x410c01=_0x45baa4;document[_0x410c01(0xc7b)](_0x410c01(0x4b8))['disabled']=strokes[_0x410c01(0xa33)]===0x0,document[_0x410c01(0xc7b)](_0x410c01(0x78d))['disabled']=redoStrokes[_0x410c01(0xa33)]===0x0;}function openScratchpad(_0xda26e3,_0x5f015e){const _0x262dfd=_0x45baa4,_0x4888ab=document[_0x262dfd(0xc7b)](_0x262dfd(0x948)),_0x2d1df2=document[_0x262dfd(0xc7b)](_0x262dfd(0xd27)),_0x4b021d=document['getElementById'](_0x262dfd(0x3d9)),_0x3e7c7f=document['getElementById'](_0x262dfd(0x342));_0x2d1df2[_0x262dfd(0x9be)]=_0xda26e3[_0x262dfd(0x6ea)]||_0xda26e3[_0x262dfd(0x24b)],_0x4b021d[_0x262dfd(0x9be)]=_0x5f015e['map']((_0x51b8a5,_0x4eac37)=>_0x262dfd(0x2c1)+String[_0x262dfd(0xa56)](0x41+_0x4eac37)+'.\x20'+_0x51b8a5+_0x262dfd(0x418))[_0x262dfd(0x7a0)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4888ab['classList']['remove'](_0x262dfd(0x35d)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x262dfd(0x8a3)])MathJax[_0x262dfd(0x91c)]([_0x2d1df2,_0x4b021d]);}function openBlueprintQuizSettings(){const _0x577f36=_0x45baa4,_0x48d192=document['getElementById']('blueprint-settings-modal'),_0x177f0c=blueprintPageSettings||(currentProjectData?currentProjectData[_0x577f36(0xd09)]:{})||{};document['getElementById'](_0x577f36(0x718))['value']=_0x177f0c['quizType']||document[_0x577f36(0xc7b)]('quiz-type-select')[_0x577f36(0xab9)],document[_0x577f36(0xc7b)](_0x577f36(0xaaa))[_0x577f36(0x9be)]=document[_0x577f36(0xc7b)](_0x577f36(0x964))['innerHTML'],document[_0x577f36(0xc7b)](_0x577f36(0xaaa))['value']=_0x177f0c['difficultyValue']||document['getElementById']('difficulty-level-select')['value'],document[_0x577f36(0xc7b)]('bp-modal-question-complexity-select')[_0x577f36(0x9be)]=document[_0x577f36(0xc7b)]('question-complexity-select')[_0x577f36(0x9be)],document[_0x577f36(0xc7b)](_0x577f36(0x74f))[_0x577f36(0xab9)]=_0x177f0c[_0x577f36(0x42a)]||document['getElementById']('question-complexity-select')[_0x577f36(0xab9)],document[_0x577f36(0xc7b)]('bp-modal-num-questions')[_0x577f36(0xab9)]=_0x177f0c[_0x577f36(0x86b)]||document[_0x577f36(0xc7b)](_0x577f36(0x4fb))[_0x577f36(0xab9)],document['getElementById'](_0x577f36(0xb87))[_0x577f36(0xab9)]=_0x177f0c['passingScore']||document[_0x577f36(0xc7b)]('passing-score-input')['value'],document['getElementById'](_0x577f36(0x850))['value']=_0x177f0c[_0x577f36(0x5ba)]||document['getElementById'](_0x577f36(0xa25))[_0x577f36(0xab9)],document[_0x577f36(0xc7b)](_0x577f36(0x3b9))[_0x577f36(0xab9)]=_0x177f0c[_0x577f36(0x721)]||document[_0x577f36(0xc7b)](_0x577f36(0xb8a))[_0x577f36(0xab9)],document[_0x577f36(0xc7b)]('bp-modal-include-images-checkbox')[_0x577f36(0xa1c)]=_0x177f0c[_0x577f36(0x781)]||document['getElementById'](_0x577f36(0x364))['checked'],_0x48d192[_0x577f36(0x246)][_0x577f36(0x142)](_0x577f36(0x35d));}function handleSaveBlueprintPageSettings(){const _0x554956=_0x45baa4;blueprintPageSettings={'quizType':document[_0x554956(0xc7b)](_0x554956(0x718))['value'],'difficultyValue':document['getElementById'](_0x554956(0xaaa))[_0x554956(0xab9)],'complexityValue':document[_0x554956(0xc7b)](_0x554956(0x74f))['value'],'numQuestions':document[_0x554956(0xc7b)]('bp-modal-num-questions')['value'],'passingScore':document[_0x554956(0xc7b)](_0x554956(0xb87))[_0x554956(0xab9)],'numChoices':document['getElementById'](_0x554956(0x850))[_0x554956(0xab9)],'shuffle':document[_0x554956(0xc7b)](_0x554956(0x3b9))[_0x554956(0xab9)],'includeImages':document[_0x554956(0xc7b)](_0x554956(0x4f9))[_0x554956(0xa1c)]},showMessage(_0x554956(0xcf6)),document[_0x554956(0xc7b)](_0x554956(0x553))['classList'][_0x554956(0x329)]('hidden');}function listenForParallelTestShortcuts(){const _0x3e5541=_0x45baa4,_0x4075c0=doc(db,_0x3e5541(0xc9d),_0x3e5541(0x257));onSnapshot(_0x4075c0,_0x3f5527=>{const _0x400e87=_0x3e5541;let _0x274e0d=[],_0x3f591f=[],_0x557d53={};if(_0x3f5527[_0x400e87(0xb1f)]()){const _0x7e196=_0x3f5527['data']();_0x274e0d=_0x7e196[_0x400e87(0xce3)]||[],_0x3f591f=_0x7e196['parallelShortcutTabs']||[],_0x557d53=_0x7e196['parallelShortcutOrder']||{};}!_0x3f591f['find'](_0x568415=>_0x568415['id']===_0x400e87(0xd4e))&&_0x3f591f[_0x400e87(0x4a2)]({'id':_0x400e87(0xd4e),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x274e0d[_0x400e87(0x5f4)](_0x23aed2=>_0x23aed2['id']==='parallel-default-1')&&_0x274e0d[_0x400e87(0x4a2)]({'id':'parallel-default-1','name':_0x400e87(0xd22),'url':'','isDefault':!![]}),!_0x274e0d[_0x400e87(0x5f4)](_0x1092fd=>_0x1092fd['id']==='parallel-default-2')&&_0x274e0d[_0x400e87(0x4a2)]({'id':_0x400e87(0x461),'name':_0x400e87(0x974),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x274e0d,parallelShortcutTabs=_0x3f591f,parallelShortcutOrder=_0x557d53,renderParallelTestShortcuts(),!document[_0x400e87(0xc7b)](_0x400e87(0x2ea))[_0x400e87(0x246)][_0x400e87(0x543)](_0x400e87(0x35d))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0xc477dd=_0x45baa4,_0x545cad=doc(db,_0xc477dd(0xc9d),_0xc477dd(0x257));try{await setDoc(_0x545cad,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0xf43ff9){console[_0xc477dd(0xab1)](_0xc477dd(0x46b),_0xf43ff9);}}function renderAdditionalParallelShortcutsModal(){const _0x1bee51=_0x45baa4,_0x2d0b82=document['getElementById'](_0x1bee51(0x5cf)),_0x4e645a=document['getElementById'](_0x1bee51(0x9ea));if(!_0x2d0b82||!_0x4e645a)return;_0x2d0b82[_0x1bee51(0x9be)]=parallelShortcutTabs[_0x1bee51(0x327)](_0x588a29=>{const _0x374f22=_0x1bee51,_0x4f8819=_0x588a29['id']===activeParallelShortcutTabId;return _0x374f22(0x54c)+_0x588a29['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x4f8819?_0x374f22(0xae2):_0x374f22(0xaa5))+_0x374f22(0x210)+_0x588a29[_0x374f22(0xb4c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x588a29[_0x374f22(0xb4c)]+_0x374f22(0xcd1)+(!_0x588a29['isDefault']?_0x374f22(0x7ed)+_0x588a29['id']+_0x374f22(0x57d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1bee51(0x7a0)]('');const _0x5360e2=parallelShortcutTabs[_0x1bee51(0x5f4)](_0x1e729d=>_0x1e729d['id']===activeParallelShortcutTabId);let _0x49e00d=_0x5360e2?.[_0x1bee51(0x97a)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x1bee51(0x6d0)](_0x438efe=>(_0x5360e2?.[_0x1bee51(0xcaa)]||[])['includes'](_0x438efe['id']));const _0x2e2941=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x49e00d[_0x1bee51(0x835)]((_0x5763de,_0x334546)=>{const _0xad18ef=_0x1bee51,_0x1cb3cf=_0x2e2941[_0xad18ef(0x762)](_0x5763de['id']),_0xacad13=_0x2e2941[_0xad18ef(0x762)](_0x334546['id']);return(_0x1cb3cf===-0x1?Infinity:_0x1cb3cf)-(_0xacad13===-0x1?Infinity:_0xacad13);}),_0x4e645a[_0x1bee51(0x9be)]=_0x49e00d[_0x1bee51(0x327)](_0x914dd8=>{const _0x59bbd2=_0x1bee51,_0x587760=_0x914dd8['url']?'🔁':'🔗',_0x4e1185=parallelShortcutTabs['filter'](_0x4a5789=>!_0x4a5789['isDefault']),_0x24ebec=_0x5360e2[_0x59bbd2(0x97a)]&&_0x4e1185[_0x59bbd2(0xa33)]>0x0?_0x59bbd2(0xc53)+_0x4e1185['map'](_0x55ba5c=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x914dd8['id']+'\x22\x20data-target-tab-id=\x22'+_0x55ba5c['id']+'\x22>'+_0x55ba5c[_0x59bbd2(0xb4c)]+_0x59bbd2(0x6b4))[_0x59bbd2(0x7a0)]('')+_0x59bbd2(0x413):'';return _0x59bbd2(0x1ac)+_0x914dd8['id']+_0x59bbd2(0x41e)+_0x587760+'\x20'+_0x914dd8[_0x59bbd2(0xb4c)]+_0x59bbd2(0x552)+_0x914dd8['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x914dd8['id']+_0x59bbd2(0x741)+(!_0x914dd8[_0x59bbd2(0x97a)]?_0x59bbd2(0x75f)+_0x914dd8['id']+_0x59bbd2(0xa35):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5360e2[_0x59bbd2(0x97a)]?_0x59bbd2(0x2d2)+_0x914dd8['id']+_0x59bbd2(0x88b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24ebec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1bee51(0x7a0)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x1a68ce=_0x45baa4;document[_0x1a68ce(0x336)](_0x1a68ce(0x7ac))[_0x1a68ce(0x808)](_0x4ffdf3=>{const _0x2370b7=_0x1a68ce;_0x4ffdf3[_0x2370b7(0x2e6)]=_0x4b1739=>{const _0x213a02=_0x2370b7;activeParallelShortcutTabId=_0x4b1739[_0x213a02(0x827)][_0x213a02(0xaf8)][_0x213a02(0x9f4)],renderAdditionalParallelShortcutsModal();},_0x4ffdf3[_0x2370b7(0x546)]=_0x3f9bf7=>{const _0x5c0d9f=_0x2370b7,_0x1578af=_0x3f9bf7[_0x5c0d9f(0x827)][_0x5c0d9f(0x452)]('.tab-name-input');_0x3f9bf7[_0x5c0d9f(0x827)]['querySelector']('.tab-name-display')[_0x5c0d9f(0x246)][_0x5c0d9f(0x329)](_0x5c0d9f(0x35d)),_0x1578af[_0x5c0d9f(0x246)]['remove'](_0x5c0d9f(0x35d)),_0x1578af[_0x5c0d9f(0x283)](),_0x1578af['select']();};}),document[_0x1a68ce(0x336)](_0x1a68ce(0x6ee))[_0x1a68ce(0x808)](_0xd30dbe=>{const _0x321956=_0x1a68ce,_0xf23f64=()=>{const _0x5b6905=_0x2960,_0x140421=_0xd30dbe[_0x5b6905(0x2ec)](_0x5b6905(0x7ac))[_0x5b6905(0xaf8)]['tabId'],_0x3def03=parallelShortcutTabs[_0x5b6905(0x5f4)](_0x3e3258=>_0x3e3258['id']===_0x140421);_0x3def03&&(_0x3def03[_0x5b6905(0xb4c)]=_0xd30dbe[_0x5b6905(0xab9)][_0x5b6905(0x958)]()||_0x3def03[_0x5b6905(0xb4c)],saveParallelShortcutConfig());};_0xd30dbe[_0x321956(0xa7e)]=_0xf23f64,_0xd30dbe['onkeydown']=_0x4743be=>{const _0x463e59=_0x321956;if(_0x4743be[_0x463e59(0x15a)]===_0x463e59(0xabd))_0xd30dbe[_0x463e59(0x279)]();};}),document['querySelectorAll'](_0x1a68ce(0x3e1))['forEach'](_0x352058=>_0x352058[_0x1a68ce(0x2e6)]=_0x959e85=>{const _0x22dd01=_0x1a68ce,_0x18cf3c=_0x959e85[_0x22dd01(0x827)][_0x22dd01(0xaf8)]['tabId'];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x25ff7f=_0x22dd01;parallelShortcutTabs=parallelShortcutTabs[_0x25ff7f(0x6d0)](_0x80faec=>_0x80faec['id']!==_0x18cf3c),delete parallelShortcutOrder[_0x18cf3c];if(activeParallelShortcutTabId===_0x18cf3c)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x1a68ce(0x437))[_0x1a68ce(0x808)](_0x45fb1d=>_0x45fb1d[_0x1a68ce(0x2e6)]=_0x4af93f=>{const _0x5697aa=_0x1a68ce;_0x4af93f[_0x5697aa(0xcd0)]();const {shortcutId:_0x540e88,targetTabId:_0x3c62c4}=_0x4af93f[_0x5697aa(0x827)]['dataset'],_0x4927c3=parallelShortcutTabs[_0x5697aa(0x5f4)](_0x422245=>_0x422245['id']===_0x3c62c4);_0x4927c3&&!_0x4927c3['shortcutIds'][_0x5697aa(0xc04)](_0x540e88)&&(_0x4927c3[_0x5697aa(0xcaa)]['push'](_0x540e88),saveParallelShortcutConfig());}),document[_0x1a68ce(0x336)](_0x1a68ce(0x820))[_0x1a68ce(0x808)](_0x2ba6b0=>_0x2ba6b0[_0x1a68ce(0x2e6)]=_0x1af659=>{const _0x59ad22=_0x1a68ce,_0x2a59f5=_0x1af659[_0x59ad22(0x827)][_0x59ad22(0xaf8)][_0x59ad22(0xce6)],_0x516ef6=parallelShortcutTabs[_0x59ad22(0x5f4)](_0x1bd942=>_0x1bd942['id']===activeParallelShortcutTabId);_0x516ef6&&!_0x516ef6[_0x59ad22(0x97a)]&&(_0x516ef6[_0x59ad22(0xcaa)]=_0x516ef6[_0x59ad22(0xcaa)]['filter'](_0x25a10c=>_0x25a10c!==_0x2a59f5),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x1a68ce(0x672))['forEach'](_0x386d15=>_0x386d15['onclick']=_0x237437=>{const _0x3cd545=_0x1a68ce;_0x237437[_0x3cd545(0x5c2)]();const _0x2a6f7f=_0x237437[_0x3cd545(0x827)][_0x3cd545(0x1bf)];document[_0x3cd545(0x336)](_0x3cd545(0xbd1))[_0x3cd545(0x808)](_0x587165=>_0x587165['classList']['add'](_0x3cd545(0x35d))),_0x2a6f7f[_0x3cd545(0x246)][_0x3cd545(0x142)]('hidden');});const _0x4be4cc=document['getElementById']('additional-parallel-shortcuts-list');let _0x1111a4=null;_0x4be4cc[_0x1a68ce(0x250)]=_0x3f418b=>{const _0x5b5eef=_0x1a68ce;_0x1111a4=_0x3f418b['target'][_0x5b5eef(0x2ec)](_0x5b5eef(0x3b6));if(_0x1111a4)setTimeout(()=>_0x1111a4['classList'][_0x5b5eef(0x329)]('opacity-50'),0x0);},_0x4be4cc[_0x1a68ce(0xa79)]=()=>{const _0x12044b=_0x1a68ce;_0x1111a4&&(_0x1111a4['classList']['remove'](_0x12044b(0x987)),_0x1111a4=null);},_0x4be4cc[_0x1a68ce(0x90b)]=_0x4f9a2f=>{const _0x54a90d=_0x1a68ce;_0x4f9a2f[_0x54a90d(0xcd0)]();},_0x4be4cc[_0x1a68ce(0x60a)]=_0x1f0b24=>{const _0x3921e3=_0x1a68ce;_0x1f0b24['preventDefault']();if(_0x1111a4){const _0x4766de=[..._0x4be4cc['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x4053f0,_0x3b7eb6)=>{const _0x2914fe=_0x2960,_0x519bb0=_0x3b7eb6[_0x2914fe(0xb13)](),_0x380c9f=_0x1f0b24[_0x2914fe(0x50d)]-_0x519bb0['top']-_0x519bb0['height']/0x2;return _0x380c9f<0x0&&_0x380c9f>_0x4053f0['offset']?{'offset':_0x380c9f,'element':_0x3b7eb6}:_0x4053f0;},{'offset':Number[_0x3921e3(0x429)]})['element'];_0x4766de==null?_0x4be4cc[_0x3921e3(0xcd3)](_0x1111a4):_0x4be4cc[_0x3921e3(0x1f7)](_0x1111a4,_0x4766de);const _0x27bb24=[..._0x4be4cc[_0x3921e3(0x336)](_0x3921e3(0x3b6))][_0x3921e3(0x327)](_0x5a08d3=>_0x5a08d3[_0x3921e3(0xaf8)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x27bb24,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x1fedee=_0x45baa4,_0x3a5be1=prompt(_0x1fedee(0x689),'แท็บใหม่');_0x3a5be1&&_0x3a5be1[_0x1fedee(0x958)]()&&(parallelShortcutTabs[_0x1fedee(0xd01)]({'id':'tab_'+Date[_0x1fedee(0xcb8)](),'name':_0x3a5be1['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x53c14c=_0x45baa4,_0x9a1226=document[_0x53c14c(0xc7b)]('parallel-shortcut-container'),_0x327e78=document[_0x53c14c(0xc7b)](_0x53c14c(0x9ea)),_0x3b6989=document[_0x53c14c(0xc7b)](_0x53c14c(0x48f));if(_0x3b6989)_0x3b6989[_0x53c14c(0x246)][_0x53c14c(0x329)]('hidden');if(!_0x9a1226||!_0x327e78)return;const _0x31a01f=parallelTestShortcuts[_0x53c14c(0x5d9)](0x0,0x4),_0x31794f=parallelTestShortcuts[_0x53c14c(0x5d9)](0x4);_0x9a1226[_0x53c14c(0x9be)]=_0x31a01f[_0x53c14c(0x327)](_0x48f5ff=>{const _0x9ab359=_0x53c14c,_0x435e16=_0x48f5ff[_0x9ab359(0x991)]&&_0x48f5ff[_0x9ab359(0x991)][_0x9ab359(0x958)]()!=='',_0x274cc8=_0x435e16?_0x9ab359(0x226):'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0xe471f1=_0x435e16?'🔁':'🔗',_0x5d272f=!_0x48f5ff[_0x9ab359(0x97a)]?_0x9ab359(0x75f)+_0x48f5ff['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x9ab359(0x240)+_0x48f5ff['id']+_0x9ab359(0x8f7)+_0x274cc8+_0x9ab359(0x28d)+_0xe471f1+'\x20'+_0x48f5ff['name']+_0x9ab359(0xbe1)+_0x48f5ff['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d272f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x31794f[_0x53c14c(0xa33)]>0x0&&(_0x9a1226[_0x53c14c(0x9be)]+=_0x53c14c(0x822)),_0x31794f['length']>0x0?_0x327e78['innerHTML']=_0x31794f[_0x53c14c(0x327)](_0x233f11=>_0x53c14c(0x93a)+(_0x233f11[_0x53c14c(0x991)]?'🔁':'🔗')+'\x20'+_0x233f11[_0x53c14c(0xb4c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x233f11['id']+_0x53c14c(0xd42)+_0x233f11['id']+_0x53c14c(0xc54)+(!_0x233f11['isDefault']?_0x53c14c(0x75f)+_0x233f11['id']+_0x53c14c(0xa35):'')+_0x53c14c(0x89b))[_0x53c14c(0x7a0)](''):_0x327e78[_0x53c14c(0x9be)]=_0x53c14c(0x4b0);}function openParallelTestShortcutEditor(_0x205882=null){const _0x5ca821=_0x45baa4,_0x53e3c1=document[_0x5ca821(0xc7b)](_0x5ca821(0x5a5)),_0x2387df=document[_0x5ca821(0xc7b)](_0x5ca821(0x8e5)),_0x4a8f0f=document['getElementById'](_0x5ca821(0x836)),_0x5d031f=document[_0x5ca821(0xc7b)]('parallel-shortcut-name-input'),_0x1558e7=document[_0x5ca821(0xc7b)](_0x5ca821(0xc20));if(_0x205882){const _0x1b65c9=parallelTestShortcuts['find'](_0x1ccf57=>_0x1ccf57['id']===_0x205882);if(!_0x1b65c9)return;_0x2387df[_0x5ca821(0x448)]=_0x5ca821(0xa42),_0x4a8f0f[_0x5ca821(0xab9)]=_0x1b65c9['id'],_0x5d031f[_0x5ca821(0xab9)]=_0x1b65c9[_0x5ca821(0xb4c)],_0x1558e7[_0x5ca821(0xab9)]=_0x1b65c9[_0x5ca821(0x991)]||'';}else _0x2387df[_0x5ca821(0x448)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x4a8f0f[_0x5ca821(0xab9)]='',_0x5d031f[_0x5ca821(0xab9)]='',_0x1558e7[_0x5ca821(0xab9)]='';_0x53e3c1[_0x5ca821(0x246)][_0x5ca821(0x142)](_0x5ca821(0x35d));}async function saveParallelTestShortcutChanges(){const _0x570b5b=_0x45baa4,_0x121047=document[_0x570b5b(0xc7b)](_0x570b5b(0x836))['value'],_0x5f250e=document[_0x570b5b(0xc7b)]('parallel-shortcut-name-input')[_0x570b5b(0xab9)][_0x570b5b(0x958)](),_0x546cd2=document[_0x570b5b(0xc7b)](_0x570b5b(0xc20))[_0x570b5b(0xab9)][_0x570b5b(0x958)]();if(!_0x5f250e){showMessage(_0x570b5b(0x54b));return;}const _0x725ea0={'id':_0x121047||'parallel-shortcut_'+Date[_0x570b5b(0xcb8)](),'name':_0x5f250e,'url':_0x546cd2,'isDefault':_0x121047[_0x570b5b(0xc3a)](_0x570b5b(0x130))};let _0x33aa02;_0x121047?_0x33aa02=parallelTestShortcuts[_0x570b5b(0x327)](_0x198636=>_0x198636['id']===_0x121047?_0x725ea0:_0x198636):_0x33aa02=[...parallelTestShortcuts,_0x725ea0];try{const _0x170fd2=doc(db,_0x570b5b(0xc9d),_0x570b5b(0x257));await setDoc(_0x170fd2,{'shortcuts':_0x33aa02},{'merge':!![]}),document[_0x570b5b(0xc7b)](_0x570b5b(0x5a5))['classList']['add'](_0x570b5b(0x35d));}catch(_0x3a5d67){console[_0x570b5b(0xab1)](_0x570b5b(0x33c),_0x3a5d67),showMessage(_0x570b5b(0x1d6));}}async function handleParallelTestShortcutClick(_0x44bbb7){const _0x556b1c=_0x45baa4,_0x1fd8b2=parallelTestShortcuts[_0x556b1c(0x5f4)](_0x3238d4=>_0x3238d4['id']===_0x44bbb7);if(!_0x1fd8b2)return;if(!_0x1fd8b2['url']||_0x1fd8b2[_0x556b1c(0x991)][_0x556b1c(0x958)]()===''){openParallelTestShortcutEditor(_0x44bbb7);return;}const _0x31d86c=document['getElementById']('loader'),_0x2ff605=document[_0x556b1c(0xc7b)](_0x556b1c(0x31a));document[_0x556b1c(0xc7b)](_0x556b1c(0x9e2))[_0x556b1c(0x246)]['remove'](_0x556b1c(0x35d)),document[_0x556b1c(0xc7b)]('generated-quiz-container')[_0x556b1c(0x9be)]='',_0x31d86c[_0x556b1c(0x246)][_0x556b1c(0x142)](_0x556b1c(0x35d)),_0x2ff605[_0x556b1c(0x448)]='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x3be144;_0x1fd8b2[_0x556b1c(0x991)]['toLowerCase']()[_0x556b1c(0xc04)](_0x556b1c(0x4db))?_0x3be144='source_document.txt':_0x3be144=_0x556b1c(0x44e);const _0x2911ee=await fetchFileFromUrl(_0x1fd8b2[_0x556b1c(0x991)],_0x3be144);await handleGenerateParallelTest(_0x2911ee);}catch(_0x245e19){console[_0x556b1c(0xab1)](_0x556b1c(0x13c),_0x245e19),showMessage(_0x556b1c(0x1e6)+_0x245e19['message']),_0x31d86c['classList'][_0x556b1c(0x329)](_0x556b1c(0x35d));}}function initializeScratchpadCanvas(){const _0x565e62=_0x45baa4,_0x31056a=document[_0x565e62(0xc7b)](_0x565e62(0x957)),_0xe4b9dd=document[_0x565e62(0x452)](_0x565e62(0x7b9));if(!_0x31056a||!_0xe4b9dd)return;scratchpadCtx=_0x31056a[_0x565e62(0xa62)]('2d',{'willReadFrequently':!![]});const _0x13466d=window[_0x565e62(0x6d3)]||0x1,_0x45c1b9=_0xe4b9dd['getBoundingClientRect']();_0x31056a[_0x565e62(0x189)]=_0x45c1b9[_0x565e62(0x189)]*_0x13466d,_0x31056a[_0x565e62(0x2dd)]=_0x45c1b9['height']*_0x13466d,_0x31056a['style'][_0x565e62(0x189)]=_0x45c1b9[_0x565e62(0x189)]+'px',_0x31056a['style'][_0x565e62(0x2dd)]=_0x45c1b9[_0x565e62(0x2dd)]+'px',scratchpadCtx[_0x565e62(0x610)](_0x13466d,_0x13466d),scratchpadCtx['lineJoin']=_0x565e62(0xa65),scratchpadCtx[_0x565e62(0x43a)]=_0x565e62(0xa65),_0x31056a[_0x565e62(0xc0e)](_0x565e62(0xd41),handlePointerDown),_0x31056a[_0x565e62(0xc0e)](_0x565e62(0x480),handlePointerMove),_0x31056a[_0x565e62(0xc0e)](_0x565e62(0x869),handlePointerUp),_0x31056a[_0x565e62(0xc0e)](_0x565e62(0xa70),handlePointerUp),_0x31056a['removeEventListener'](_0x565e62(0x7cf),handleWheel),_0x31056a[_0x565e62(0xc0e)](_0x565e62(0x4a9),handlePointerDown),_0x31056a[_0x565e62(0xc0e)](_0x565e62(0x6e6),handlePointerMove),_0x31056a[_0x565e62(0xc0e)](_0x565e62(0x7aa),handlePointerUp),_0x31056a[_0x565e62(0x21f)](_0x565e62(0xd41),handlePointerDown),_0x31056a['addEventListener'](_0x565e62(0x480),handlePointerMove),_0x31056a['addEventListener'](_0x565e62(0x869),handlePointerUp),_0x31056a[_0x565e62(0x21f)](_0x565e62(0xa70),handlePointerUp),_0x31056a[_0x565e62(0x21f)](_0x565e62(0x7cf),handleWheel,{'passive':![]}),_0x31056a[_0x565e62(0x21f)](_0x565e62(0x4a9),handlePointerDown,{'passive':![]}),_0x31056a[_0x565e62(0x21f)](_0x565e62(0x6e6),handlePointerMove,{'passive':![]}),_0x31056a['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0xb7cba1=_0x45baa4,_0xc9ccc6=document[_0xb7cba1(0xc7b)](_0xb7cba1(0x948)),_0x3c9f17=document[_0xb7cba1(0xc7b)]('scratchpad-controls');_0x3c9f17[_0xb7cba1(0x9be)]=_0xb7cba1(0x409)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0xa71f80=document[_0xb7cba1(0xc7b)](_0xb7cba1(0x591)),_0x22c910=document['getElementById'](_0xb7cba1(0x791)),_0x59ae6d=document['getElementById']('trail-tool-btn'),_0x21be2d=document[_0xb7cba1(0xc7b)]('highlighter-tool-btn'),_0x20a385=document[_0xb7cba1(0xc7b)](_0xb7cba1(0x15b)),_0x5a20d4=document[_0xb7cba1(0xc7b)]('highlighter-tools-group'),_0x58cd23=document[_0xb7cba1(0xc7b)](_0xb7cba1(0x3ce)),_0x1f6676=[_0xa71f80,_0x22c910,_0x59ae6d,_0x21be2d];document[_0xb7cba1(0xc7b)](_0xb7cba1(0x537))[_0xb7cba1(0x21f)]('click',()=>_0xc9ccc6['classList'][_0xb7cba1(0x329)](_0xb7cba1(0x35d))),document['getElementById'](_0xb7cba1(0x5bb))[_0xb7cba1(0x21f)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0xb7cba1(0x230))[_0xb7cba1(0x21f)](_0xb7cba1(0xb10),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0xb7cba1(0xc7b)](_0xb7cba1(0x4b8))[_0xb7cba1(0x21f)](_0xb7cba1(0xb10),undo),document[_0xb7cba1(0xc7b)](_0xb7cba1(0x78d))[_0xb7cba1(0x21f)](_0xb7cba1(0xb10),redo);const _0x3caaab=_0x357cd5=>{const _0x39990d=_0xb7cba1;_0x1f6676[_0x39990d(0x808)](_0x3fc0b5=>_0x3fc0b5['classList']['remove']('active')),_0x357cd5['classList']['add'](_0x39990d(0x870)),_0x20a385['classList'][_0x39990d(0x329)](_0x39990d(0x35d)),_0x5a20d4[_0x39990d(0x246)][_0x39990d(0x329)](_0x39990d(0x35d)),_0x58cd23[_0x39990d(0x246)][_0x39990d(0x329)](_0x39990d(0x35d));if(activeTool===_0x39990d(0x72f)||activeTool==='trail')_0x20a385[_0x39990d(0x246)][_0x39990d(0x142)]('hidden');else{if(activeTool==='highlighter')_0x5a20d4[_0x39990d(0x246)]['remove'](_0x39990d(0x35d));else activeTool===_0x39990d(0x3de)&&_0x58cd23[_0x39990d(0x246)][_0x39990d(0x142)](_0x39990d(0x35d));}};_0xa71f80['addEventListener'](_0xb7cba1(0xb10),()=>{const _0x33a303=_0xb7cba1;activeTool=_0x33a303(0x72f),_0x3caaab(_0xa71f80);}),_0x22c910[_0xb7cba1(0x21f)](_0xb7cba1(0xb10),()=>{const _0x1f82eb=_0xb7cba1;activeTool=_0x1f82eb(0x3de),_0x3caaab(_0x22c910);}),_0x59ae6d[_0xb7cba1(0x21f)](_0xb7cba1(0xb10),()=>{activeTool='trail',_0x3caaab(_0x59ae6d);}),_0x21be2d['addEventListener'](_0xb7cba1(0xb10),()=>{activeTool='highlighter',_0x3caaab(_0x21be2d);}),_0x20a385[_0xb7cba1(0x336)](_0xb7cba1(0x200))[_0xb7cba1(0x808)](_0x3aba65=>{const _0x1a3361=_0xb7cba1;_0x3aba65[_0x1a3361(0x21f)]('click',_0x312d34=>{const _0x4a3c1d=_0x1a3361;scratchpadPenSize=parseInt(_0x312d34[_0x4a3c1d(0x796)]['dataset'][_0x4a3c1d(0xd20)],0xa),_0x20a385['querySelectorAll'](_0x4a3c1d(0x200))[_0x4a3c1d(0x808)](_0xc7e92a=>_0xc7e92a[_0x4a3c1d(0x246)][_0x4a3c1d(0x142)](_0x4a3c1d(0x870))),_0x312d34['target'][_0x4a3c1d(0x246)][_0x4a3c1d(0x329)](_0x4a3c1d(0x870));});}),_0x58cd23[_0xb7cba1(0x336)]('.eraser-size-btn')['forEach'](_0x5208eb=>{const _0x125abe=_0xb7cba1;_0x5208eb[_0x125abe(0x21f)](_0x125abe(0xb10),_0xdce7f2=>{const _0x46684a=_0x125abe,_0x24b20b=_0xdce7f2[_0x46684a(0x827)];scratchpadEraserSize=parseInt(_0x24b20b[_0x46684a(0xaf8)][_0x46684a(0xd20)],0xa),_0x58cd23['querySelectorAll']('.eraser-size-btn')['forEach'](_0xb46391=>_0xb46391[_0x46684a(0x246)][_0x46684a(0x142)](_0x46684a(0x870))),_0x24b20b['classList']['add']('active');});}),_0x20a385[_0xb7cba1(0x336)](_0xb7cba1(0x9a1))[_0xb7cba1(0x808)](_0x46fea8=>{const _0x59e192=_0xb7cba1;_0x46fea8[_0x59e192(0x21f)](_0x59e192(0xb10),_0x5db8f5=>{const _0x54c3ac=_0x59e192;scratchpadPenColor=_0x5db8f5[_0x54c3ac(0x796)][_0x54c3ac(0xaf8)][_0x54c3ac(0x8ae)],_0x20a385['querySelectorAll']('.pen-color-btn')[_0x54c3ac(0x808)](_0x2e8743=>_0x2e8743[_0x54c3ac(0x246)][_0x54c3ac(0x142)](_0x54c3ac(0x870))),_0x5db8f5['target'][_0x54c3ac(0x246)][_0x54c3ac(0x329)](_0x54c3ac(0x870));});}),_0x5a20d4['querySelectorAll'](_0xb7cba1(0x321))[_0xb7cba1(0x808)](_0x22ce5f=>{const _0x51615d=_0xb7cba1;_0x22ce5f['addEventListener'](_0x51615d(0xb10),_0x1bd84a=>{const _0x548a93=_0x51615d;scratchpadHighlighterColor=_0x1bd84a[_0x548a93(0x796)][_0x548a93(0xaf8)]['color'],_0x5a20d4[_0x548a93(0x336)]('.highlighter-color-btn')[_0x548a93(0x808)](_0x462471=>_0x462471['classList'][_0x548a93(0x142)](_0x548a93(0x870))),_0x1bd84a['target'][_0x548a93(0x246)]['add'](_0x548a93(0x870));});});const _0x2f869f=document[_0xb7cba1(0xc7b)](_0xb7cba1(0x206)),_0x5481e2=document[_0xb7cba1(0xc7b)]('highlighter-size-value');_0x2f869f['addEventListener'](_0xb7cba1(0x316),_0x288a2b=>{const _0x54bde0=_0xb7cba1,_0x16291a=parseInt(_0x288a2b[_0x54bde0(0x796)]['value'],0xa);scratchpadHighlighterSize=_0x16291a,_0x5481e2[_0x54bde0(0x448)]=_0x16291a;}),window[_0xb7cba1(0x21f)](_0xb7cba1(0x842),()=>{const _0x3ecae3=_0xb7cba1;!_0xc9ccc6[_0x3ecae3(0x246)][_0x3ecae3(0x543)](_0x3ecae3(0x35d))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x45baa4(0x384),'name':_0x45baa4(0x73a),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x45baa4(0x6d7)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x45baa4(0x30f),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x45baa4(0x8a0),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x45baa4(0xb77)},'FIRST_TRY_ACE':{'id':_0x45baa4(0x8a2),'name':_0x45baa4(0x8b1),'description':_0x45baa4(0x75e),'icon':_0x45baa4(0x367)},'COMEBACK_KING':{'id':_0x45baa4(0xd2a),'name':_0x45baa4(0x143),'description':_0x45baa4(0xbde),'icon':_0x45baa4(0x281)},'SPECIALIST':{'id':_0x45baa4(0xb70),'name':_0x45baa4(0x463),'description':_0x45baa4(0x647),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x45baa4(0x1d5),'name':_0x45baa4(0x9ed),'description':_0x45baa4(0x23e),'icon':_0x45baa4(0xbdd)}},firebaseConfig={'apiKey':_0x45baa4(0xb79),'authDomain':_0x45baa4(0x425),'projectId':_0x45baa4(0xba6),'storageBucket':_0x45baa4(0xae1),'messagingSenderId':_0x45baa4(0x96f),'appId':'1:516499432840:web:7b2a9a571fad2e3d68463d','measurementId':'G-JGJ3WNEQP3'},appId=typeof __app_id!==_0x45baa4(0x8e9)?__app_id:_0x45baa4(0xb9a),adminView=document[_0x45baa4(0xc7b)](_0x45baa4(0x645)),studentView=document[_0x45baa4(0xc7b)](_0x45baa4(0x513)),projectDashboardView=document[_0x45baa4(0xc7b)](_0x45baa4(0x814)),projectDetailView=document['getElementById'](_0x45baa4(0x893)),quizResultsView=document['getElementById'](_0x45baa4(0x598)),projectList=document[_0x45baa4(0xc7b)]('project-list'),noProjectsMsg=document[_0x45baa4(0xc7b)](_0x45baa4(0x4e1)),projectTitle=document[_0x45baa4(0xc7b)]('project-title'),projectIdDisplay=document[_0x45baa4(0xc7b)](_0x45baa4(0x97d)),studentList=document[_0x45baa4(0xc7b)]('student-list'),messageModal=document['getElementById'](_0x45baa4(0xb29)),modalMessage=document['getElementById'](_0x45baa4(0x5aa)),createProjectModal=document[_0x45baa4(0xc7b)](_0x45baa4(0x2df)),adminPasswordModal=document['getElementById'](_0x45baa4(0x47d)),confirmationModal=document[_0x45baa4(0xc7b)]('confirmation-modal'),userIdDisplay=document['getElementById'](_0x45baa4(0x1a7)),topicTab=document[_0x45baa4(0xc7b)](_0x45baa4(0x60c)),textTab=document[_0x45baa4(0xc7b)](_0x45baa4(0x3ba)),topicInputArea=document[_0x45baa4(0xc7b)]('topic-input-area'),textInputArea=document[_0x45baa4(0xc7b)](_0x45baa4(0x178)),manageTab=document['getElementById'](_0x45baa4(0xce2)),resultsTab=document[_0x45baa4(0xc7b)](_0x45baa4(0xd28)),leaderboardTab=document[_0x45baa4(0xc7b)](_0x45baa4(0xa37)),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document[_0x45baa4(0xc7b)](_0x45baa4(0xc46)),leaderboardTabContent=document[_0x45baa4(0xc7b)](_0x45baa4(0xaee)),projectQuizzesList=document[_0x45baa4(0xc7b)](_0x45baa4(0x5e5)),fileTab=document['getElementById']('file-tab'),fileInputArea=document[_0x45baa4(0xc7b)](_0x45baa4(0x900)),fileUploadInput=document['getElementById'](_0x45baa4(0x6e5)),worksheetTab=document[_0x45baa4(0xc7b)](_0x45baa4(0x15c)),worksheetInputArea=document[_0x45baa4(0xc7b)](_0x45baa4(0x4ca)),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document[_0x45baa4(0xc7b)](_0x45baa4(0x304)),studentNameSelectionView=document['getElementById'](_0x45baa4(0x147)),studentQuizArea=document['getElementById'](_0x45baa4(0xbf4)),studentResultArea=document['getElementById'](_0x45baa4(0x617)),studentReadingArea=document[_0x45baa4(0xc7b)](_0x45baa4(0x9b8)),loadQuizBtn=document[_0x45baa4(0xc7b)](_0x45baa4(0xa85)),startQuizBtn=document[_0x45baa4(0xc7b)](_0x45baa4(0xa3b)),studentJoinGameView=document[_0x45baa4(0xc7b)](_0x45baa4(0x149)),presentationModal=document[_0x45baa4(0xc7b)](_0x45baa4(0xc28)),renameQuizModal=document[_0x45baa4(0xc7b)](_0x45baa4(0x4f0)),moveQuizModal=document['getElementById'](_0x45baa4(0xa02)),quizSettingsModal=document['getElementById'](_0x45baa4(0x6e1)),quizStatusModal=document['getElementById'](_0x45baa4(0x430)),liveGameView=document['getElementById']('live-game-view');function handleFixLessonLatex(){const _0x565141=_0x45baa4,_0x346b31=document['getElementById']('lesson-view-content');if(!_0x346b31){showMessage(_0x565141(0xad3));return;}const _0x33aaef=_0x346b31[_0x565141(0x336)]([_0x565141(0x8bd),_0x565141(0x565),_0x565141(0x824),_0x565141(0x2f5),_0x565141(0x950)][_0x565141(0x7a0)](','));let _0x1dbc9d=0x0;const _0x472550=_0x56e731=>_0x56e731[_0x565141(0x448)]||'',_0x145d18=(_0x1a6ec3,_0x1f77aa)=>{const _0x420cfc=_0x565141;if(_0x1a6ec3[_0x420cfc(0x452)]&&_0x1a6ec3['querySelector'](_0x420cfc(0xca1)))return;_0x1a6ec3['textContent']=_0x1f77aa;},_0x4ff222=_0x58bf6a=>_0x58bf6a[_0x565141(0x715)](/\u00A0/g,'\x20')[_0x565141(0x715)](/\u200B/g,'')[_0x565141(0x715)](/\r\n?/g,'\x0a'),_0xe08001=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4b2105=_0x3a668f=>{const _0x1714b9=_0x565141;let _0xbe4d71=_0x3a668f[_0x1714b9(0x958)]();const _0x2d1316=['frac','dfrac',_0x1714b9(0x69f),_0x1714b9(0x3a6),_0x1714b9(0x26e),_0x1714b9(0x4ab),_0x1714b9(0x38e),_0x1714b9(0x15f),_0x1714b9(0x809),_0x1714b9(0xaca),'le','ge',_0x1714b9(0x8ab),'pm',_0x1714b9(0xb23),_0x1714b9(0xb4d),'cos',_0x1714b9(0x133),_0x1714b9(0x161),'ln',_0x1714b9(0xb22),_0x1714b9(0x6b6),_0x1714b9(0xb31),_0x1714b9(0xb4e),_0x1714b9(0x57b),_0x1714b9(0x712),_0x1714b9(0xc2f),_0x1714b9(0x39e),_0x1714b9(0x840)];_0x2d1316[_0x1714b9(0x808)](_0xffaddf=>{const _0x5342bc=_0x1714b9;_0xbe4d71=_0xbe4d71[_0x5342bc(0x715)](new RegExp(_0x5342bc(0x1fa)+_0xffaddf+'\x5cb','g'),(_0x482c2c,_0x39f38e)=>_0x39f38e+'\x5c'+_0xffaddf);});const _0x3cae57=[[/×/g,_0x1714b9(0x9af)],[/·/g,_0x1714b9(0xce8)],[/÷/g,_0x1714b9(0xb03)],[/≤/g,'\x5cle'],[/≥/g,_0x1714b9(0x310)],[/≠/g,'\x5cneq'],[/±/g,_0x1714b9(0xc36)],[/∑/g,_0x1714b9(0x372)],[/−/g,'-']];return _0x3cae57[_0x1714b9(0x808)](([_0x192ecc,_0x19a1b6])=>{const _0x2e7289=_0x1714b9;_0xbe4d71=_0xbe4d71[_0x2e7289(0x715)](_0x192ecc,_0x19a1b6);}),_0xbe4d71=_0xbe4d71[_0x1714b9(0x715)](/√\s*([A-Za-z0-9]+)/g,_0x1714b9(0xca9)),_0xbe4d71=_0xbe4d71['replace'](/(\d+)\s*%/g,_0x1714b9(0x2bc)),_0xbe4d71;},_0x1d4f2d=_0x2ba196=>{const _0x4a1ff1=_0x565141;if(/\$|\\\(|\\\[/['test'](_0x2ba196))return _0x2ba196;if(!_0xe08001[_0x4a1ff1(0xb05)](_0x2ba196))return _0x2ba196;const _0x508671=_0x2ba196[_0x4a1ff1(0x589)](/^\s*/)[0x0],_0x52971e=_0x2ba196['match'](/\s*$/)[0x0],_0x4543ff=_0x2ba196[_0x4a1ff1(0x958)]();return _0x508671+'$'+_0x4b2105(_0x4543ff)+'$'+_0x52971e;};_0x33aaef['forEach'](_0x3e1c73=>{const _0x1a4748=_0x565141,_0x2631a4=_0x472550(_0x3e1c73);let _0x3f3ed3=_0x4ff222(_0x2631a4);_0x3f3ed3=_0x3f3ed3['replace'](/\$([^$]*?)\$/g,(_0x483b31,_0x2906e8)=>'$'+_0x4b2105(_0x2906e8)+'$');const _0x41bb0b=_0x3f3ed3['split'](/(\s+)/),_0x4364bc=_0x41bb0b['map'](_0x385a4c=>{if(/\s+/['test'](_0x385a4c))return _0x385a4c;return _0x1d4f2d(_0x385a4c);});_0x3f3ed3=_0x4364bc[_0x1a4748(0x7a0)](''),_0x3f3ed3!==_0x2631a4&&(_0x145d18(_0x3e1c73,_0x3f3ed3),_0x1dbc9d++);});if(_0x1dbc9d>0x0){showMessage(_0x565141(0x312)+_0x1dbc9d+_0x565141(0x526));try{window[_0x565141(0x8a3)]&&MathJax[_0x565141(0x91c)]&&MathJax[_0x565141(0x91c)]([_0x346b31]);}catch(_0x2a8308){console[_0x565141(0xab1)]('MathJax\x20re-render\x20failed:',_0x2a8308);}}else showMessage(_0x565141(0x489));}function handleAutoFixLatex(){const _0x281aa0=_0x45baa4,_0x2e65b8=document[_0x281aa0(0xc7b)]('quiz-editor-questions-container')||document,_0x98bb48=_0x2e65b8[_0x281aa0(0x336)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x36be77=0x0;const _0x4cfeb1=_0x39f647=>_0x281aa0(0xab9)in _0x39f647?String(_0x39f647[_0x281aa0(0xab9)]):_0x39f647['innerText']!==undefined?_0x39f647[_0x281aa0(0xa55)]:_0x39f647['textContent']||'',_0x3cf8c7=(_0x218888,_0x59cd30)=>{const _0x344b60=_0x281aa0;if(_0x344b60(0xab9)in _0x218888){_0x218888[_0x344b60(0xab9)]=_0x59cd30;return;}if(_0x218888[_0x344b60(0x452)]&&_0x218888[_0x344b60(0x452)]('mjx-container'))return;if(_0x218888[_0x344b60(0xa55)]!==undefined)_0x218888['innerText']=_0x59cd30;else _0x218888[_0x344b60(0x448)]=_0x59cd30;},_0x3f89b2=_0x1c1974=>_0x1c1974[_0x281aa0(0x715)](/\u00A0/g,'\x20')[_0x281aa0(0x715)](/\u200B/g,'')[_0x281aa0(0x715)](/\r\n?/g,'\x0a'),_0x2e1148=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x5d1d6e=_0x3a6a26=>{const _0x35b412=_0x281aa0;let _0x1e01bc=_0x3a6a26[_0x35b412(0x958)]();_0x1e01bc=_0x1e01bc[_0x35b412(0x715)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x35b412(0x49c)),_0x1e01bc=_0x1e01bc[_0x35b412(0x715)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x1f496d=[_0x35b412(0xd47),_0x35b412(0x3a6),'times',_0x35b412(0x38e),_0x35b412(0x15f),_0x35b412(0x809),_0x35b412(0xaca),_0x35b412(0x8ab),'pm','sin','cos',_0x35b412(0x133),'log','ln'];_0x1f496d[_0x35b412(0x808)](_0x28ac6e=>{const _0x45060e=_0x35b412;_0x1e01bc=_0x1e01bc[_0x45060e(0x715)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x28ac6e+'\x5cb','g'),(_0x23d6d5,_0x3a2aac)=>_0x3a2aac+'\x5c'+_0x28ac6e);});const _0x5155b9=[[/×/g,_0x35b412(0x9af)],[/·/g,_0x35b412(0xce8)],[/÷/g,_0x35b412(0xb03)],[/≤/g,_0x35b412(0xb7a)],[/≥/g,_0x35b412(0x310)],[/≠/g,_0x35b412(0x5c9)],[/±/g,_0x35b412(0xc36)]];return _0x5155b9[_0x35b412(0x808)](([_0x14e2de,_0x307bc5])=>{_0x1e01bc=_0x1e01bc['replace'](_0x14e2de,_0x307bc5);}),_0x1e01bc;},_0x392ed1=_0x5564f4=>{const _0x48087e=_0x281aa0;if(/\$|\\\(|\\\[/[_0x48087e(0xb05)](_0x5564f4))return _0x5564f4;if(!_0x2e1148[_0x48087e(0xb05)](_0x5564f4))return _0x5564f4;const _0x1c4d5b=_0x5564f4[_0x48087e(0x589)](/^\s*/)[0x0],_0x4dc4fd=_0x5564f4['match'](/\s*$/)[0x0],_0x4b62c4=_0x5564f4[_0x48087e(0x958)]();return _0x1c4d5b+'$'+_0x5d1d6e(_0x4b62c4)+'$'+_0x4dc4fd;};_0x98bb48[_0x281aa0(0x808)](_0x5e7d50=>{const _0x2e3217=_0x281aa0,_0x61aa6c=_0x4cfeb1(_0x5e7d50);let _0x1db82c=_0x3f89b2(_0x61aa6c);_0x1db82c=_0x1db82c['replace'](/\$([^$]*?)\$/g,(_0x123e26,_0x4b88da)=>'$'+_0x5d1d6e(_0x4b88da)+'$');const _0x23477d=_0x1db82c['split'](/(\s+)/),_0x4f6ba6=_0x23477d[_0x2e3217(0x327)](_0xd18563=>/\s+/[_0x2e3217(0xb05)](_0xd18563)?_0xd18563:_0x392ed1(_0xd18563));_0x1db82c=_0x4f6ba6[_0x2e3217(0x7a0)](''),_0x1db82c!==_0x61aa6c&&(_0x3cf8c7(_0x5e7d50,_0x1db82c),_0x36be77++);});if(_0x36be77>0x0){showMessage(_0x281aa0(0x9b4)+_0x36be77+_0x281aa0(0xcc2));try{if(window[_0x281aa0(0x8a3)]&&MathJax['typesetPromise'])MathJax[_0x281aa0(0x91c)]();}catch(_0x172aa2){}}else showMessage(_0x281aa0(0xd2d));}async function listenForCustomMathTopics(){const _0x30da24=_0x45baa4,_0x17b8cd=collection(db,_0x30da24(0xb73)+appId+_0x30da24(0x32c));onSnapshot(_0x17b8cd,_0x285811=>{const _0x425de7=_0x30da24;customMathTopics=_0x285811[_0x425de7(0xb39)][_0x425de7(0x327)](_0x1aa3b2=>({'id':_0x1aa3b2['id'],..._0x1aa3b2[_0x425de7(0x4da)]()})),renderTopicCheckboxes();},_0x2e4f86=>{const _0x546a29=_0x30da24;console[_0x546a29(0xab1)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x2e4f86);});}function handleSelectAllTopics(){const _0x190cf7=_0x45baa4,_0x110102=document[_0x190cf7(0xc7b)]('math-topics-checkbox-container'),_0x4de6b3=_0x110102['querySelectorAll'](_0x190cf7(0xc70));_0x4de6b3[_0x190cf7(0x808)](_0x1f504d=>{const _0x1f1ed7=_0x190cf7;_0x1f504d[_0x1f1ed7(0xa1c)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x567b56=_0x45baa4,_0x2e9721=document[_0x567b56(0xc7b)](_0x567b56(0x267)),_0x32e8af=_0x2e9721[_0x567b56(0x336)](_0x567b56(0xc70));_0x32e8af[_0x567b56(0x808)](_0x234907=>{const _0xe42bb6=_0x567b56;_0x234907[_0xe42bb6(0xa1c)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x2555b7){const _0x4d52fe=_0x45baa4;if(!_0x2555b7)return;try{const _0x2497f7=doc(db,_0x4d52fe(0xb73)+appId+'/public/data/customMathTopics',_0x2555b7);await deleteDoc(_0x2497f7),showMessage(_0x4d52fe(0xcf4));}catch(_0x3c4ca0){console[_0x4d52fe(0xab1)](_0x4d52fe(0x690),_0x3c4ca0),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x53ea68=_0x45baa4,_0x469b4b=document[_0x53ea68(0xc7b)]('custom-math-topic-input'),_0x34e042=_0x469b4b[_0x53ea68(0xab9)][_0x53ea68(0x958)]();if(!_0x34e042){showMessage(_0x53ea68(0x1e3));return;}if(!userId){showMessage(_0x53ea68(0x174));return;}try{const _0x5a36fb=collection(db,_0x53ea68(0xb73)+appId+_0x53ea68(0x32c));await addDoc(_0x5a36fb,{'name':_0x34e042,'createdAt':serverTimestamp()}),_0x469b4b['value']='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x34e042+_0x53ea68(0x2ae));}catch(_0x55922f){console[_0x53ea68(0xab1)](_0x53ea68(0xa9d),_0x55922f),showMessage(_0x53ea68(0xa4b));}}async function handleUpdateOldQuizzes(){const _0x1a79c3=_0x45baa4;showConfirmation(_0x1a79c3(0xc12),async()=>{const _0x4450e2=_0x1a79c3,_0x3e14ec=document['getElementById'](_0x4450e2(0x531)),_0x4ad8ef=document[_0x4450e2(0xc7b)]('loader-text'),_0xfa5fb1=_0x4ad8ef[_0x4450e2(0x448)];_0x3e14ec[_0x4450e2(0x246)][_0x4450e2(0x142)](_0x4450e2(0x35d)),_0x4ad8ef[_0x4450e2(0x448)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x4ed0e0=collection(db,_0x4450e2(0xb73)+appId+_0x4450e2(0xca0)),_0x1bc1b9=await getDocs(_0x4ed0e0);if(_0x1bc1b9[_0x4450e2(0x1cd)]){showMessage(_0x4450e2(0x619));return;}const _0x38e8f2=writeBatch(db);let _0xe9348c=0x0;_0x1bc1b9['forEach'](_0x3388b5=>{const _0x5150a1=_0x4450e2,_0x27b5aa=_0x3388b5[_0x5150a1(0x4da)](),_0x5b2819=_0x3388b5['id'];if(_0x27b5aa[_0x5150a1(0x92e)]&&_0x27b5aa['questions'][_0x5150a1(0xa33)]>0x0&&!_0x27b5aa['questions'][0x0][_0x5150a1(0xc39)]('id')){console['log'](_0x5150a1(0x4d5)+_0x5b2819+'\x20('+_0x27b5aa[_0x5150a1(0x613)]+')'),_0xe9348c++;const _0x3ffa2c=_0x27b5aa[_0x5150a1(0x92e)][_0x5150a1(0x327)]((_0x4b62ec,_0xe55c54)=>{const _0x195be3=_0x5150a1;return{..._0x4b62ec,'id':_0x4b62ec['id']||'q_'+Date[_0x195be3(0xcb8)]()+'_'+_0x5b2819+'_'+_0xe55c54};}),_0x3469e5=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5b2819);_0x38e8f2[_0x5150a1(0x621)](_0x3469e5,{'questions':_0x3ffa2c});}}),_0xe9348c>0x0?(_0x4ad8ef[_0x4450e2(0x448)]='กำลังอัปเดตแบบทดสอบ\x20'+_0xe9348c+_0x4450e2(0x7ab),await _0x38e8f2[_0x4450e2(0xc1a)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0xe9348c+'\x20รายการสำเร็จ!')):showMessage(_0x4450e2(0xce0));}catch(_0x2e6ec5){console[_0x4450e2(0xab1)](_0x4450e2(0x5fa),_0x2e6ec5),showMessage(_0x4450e2(0x64f)+_0x2e6ec5[_0x4450e2(0x776)]);}finally{_0x3e14ec[_0x4450e2(0x246)][_0x4450e2(0x329)](_0x4450e2(0x35d)),_0x4ad8ef[_0x4450e2(0x448)]=_0xfa5fb1;}});}async function handleBulkUpdateQuizSettings(){const _0x1be085=_0x45baa4,_0x5b061e={'shuffle':document['getElementById'](_0x1be085(0x818))[_0x1be085(0xab9)],'resultsDisplay':document[_0x1be085(0xc7b)](_0x1be085(0x16f))[_0x1be085(0xab9)],'loopUntilPass':document[_0x1be085(0xc7b)](_0x1be085(0xb99))['checked'],'isConfidenceScoringEnabled':document[_0x1be085(0xc7b)](_0x1be085(0xa84))[_0x1be085(0xa1c)],'confidenceMode':document['getElementById'](_0x1be085(0x497))[_0x1be085(0xab9)]};try{showMessage(_0x1be085(0x909));const _0x2b3641=await getDocs(collection(db,'artifacts/'+appId+_0x1be085(0xca0))),_0x5b20f3=_0x2b3641['docs'][_0x1be085(0x327)](_0xb28c5e=>({'id':_0xb28c5e['id'],'data':_0xb28c5e[_0x1be085(0x4da)]()})),_0x56b5d3=_0x5b20f3['length'];showConfirmation(_0x1be085(0xa08)+_0x56b5d3+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x41b000=_0x1be085,_0x2270d9=document[_0x41b000(0xc7b)]('confirm-bulk-quiz-settings-btn');_0x2270d9['disabled']=!![],_0x2270d9[_0x41b000(0x9be)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x7deca1=writeBatch(db);_0x5b20f3[_0x41b000(0x808)](_0x56e0a6=>{const _0xa4242f=_0x41b000,_0x4105b6=doc(db,_0xa4242f(0xb73)+appId+_0xa4242f(0xca0),_0x56e0a6['id']),_0x361fb2={..._0x56e0a6['data'][_0xa4242f(0xd09)]||{},..._0x5b061e};_0x7deca1['update'](_0x4105b6,{'settings':_0x361fb2});}),await _0x7deca1[_0x41b000(0xc1a)](),document[_0x41b000(0xc7b)](_0x41b000(0xc3e))['classList'][_0x41b000(0x329)](_0x41b000(0x35d)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x56b5d3+_0x41b000(0x6fd));}catch(_0x36e0e0){console['error'](_0x41b000(0x81d),_0x36e0e0),showMessage(_0x41b000(0xb00));}finally{_0x2270d9[_0x41b000(0x514)]=![],_0x2270d9[_0x41b000(0x9be)]=_0x41b000(0xaf2);}});}catch(_0x59fb40){console[_0x1be085(0xab1)](_0x1be085(0x932),_0x59fb40),showMessage(_0x1be085(0x88d));}}async function handleSaveProjectName(){const _0x4bf1fc=_0x45baa4,_0x359bd1=document[_0x4bf1fc(0xc7b)](_0x4bf1fc(0xc77)),_0x5647ce=document[_0x4bf1fc(0xc7b)](_0x4bf1fc(0x7ee)),_0x5c429f=_0x359bd1[_0x4bf1fc(0x448)][_0x4bf1fc(0x958)]();if(!_0x5c429f||!currentProjectId){showMessage(_0x4bf1fc(0x1cf)),_0x359bd1[_0x4bf1fc(0x448)]=currentProjectData[_0x4bf1fc(0x39b)];return;}_0x5647ce[_0x4bf1fc(0x514)]=!![],_0x5647ce[_0x4bf1fc(0x9be)]=_0x4bf1fc(0xa0b);try{const _0x37cb4e=doc(db,_0x4bf1fc(0xb73)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x37cb4e,{'projectName':_0x5c429f}),currentProjectData&&(currentProjectData['projectName']=_0x5c429f),showMessage(_0x4bf1fc(0x609));}catch(_0x26a893){console[_0x4bf1fc(0xab1)]('Error\x20updating\x20project\x20name:',_0x26a893),showMessage(_0x4bf1fc(0x1d6)),_0x359bd1[_0x4bf1fc(0x448)]=currentProjectData['projectName'];}finally{_0x5647ce[_0x4bf1fc(0x246)][_0x4bf1fc(0x329)](_0x4bf1fc(0x35d)),_0x5647ce['disabled']=![],_0x5647ce[_0x4bf1fc(0x9be)]=_0x4bf1fc(0x401);}}function handleGeneratePracticeTest(_0xde8d3f,_0x58778b){const _0x325928=_0x45baa4,_0x1f20b4=document['getElementById'](_0x325928(0x8d9)),_0x1f0940=document[_0x325928(0xc7b)](_0x325928(0x72a)),_0x326c91=document[_0x325928(0xc7b)](_0x325928(0x4f1)),_0x53e7ee=document['getElementById']('lesson-sections-container');_0x1f0940[_0x325928(0x448)]='กำลังสร้างแบบทดสอบ:\x20'+_0xde8d3f,_0x53e7ee[_0x325928(0x246)][_0x325928(0x329)](_0x325928(0x35d)),_0x326c91['classList'][_0x325928(0x142)](_0x325928(0x35d)),_0x1f20b4['classList'][_0x325928(0x142)](_0x325928(0x35d)),generatePracticeTest(_0xde8d3f,_0x58778b)['catch'](_0x468348=>{const _0x282d13=_0x325928;console['error'](_0x282d13(0x1ce),_0x468348),showMessage(_0x282d13(0x525)),_0x1f20b4[_0x282d13(0x246)][_0x282d13(0x329)](_0x282d13(0x35d));});}async function generatePracticeTest(_0x83a168,_0x3bc470){const _0x2ff08b=_0x45baa4;[_0x2ff08b(0x3ca),_0x2ff08b(0x1b6),'applicationContent',_0x2ff08b(0x1ba)]['forEach'](_0xd769c8=>{const _0x90dac3=_0x2ff08b,_0x2579cb=document['getElementById'](_0xd769c8)[_0x90dac3(0x7d1)];_0x2579cb&&(_0x2579cb[_0x90dac3(0x59f)][_0x90dac3(0x18e)]=_0x90dac3(0xada));});try{const _0x3b9bf3=_0x2ff08b(0xcbf),_0xbac5e7='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x3bc470+'\x27\x20ในหัวข้อ\x20\x27'+_0x83a168+_0x2ff08b(0x388),_0x17a7fb=await callGemini(_0xbac5e7,!![]),_0x5b33a1=document[_0x2ff08b(0xc7b)]('lesson-view-title'),_0x3604c4=document[_0x2ff08b(0xc7b)](_0x2ff08b(0x4f1)),_0x1a5826=document[_0x2ff08b(0xc7b)]('lesson-sections-container'),_0x43c427=document[_0x2ff08b(0xc7b)](_0x2ff08b(0x5b0))[_0x2ff08b(0x7d1)];_0x5b33a1[_0x2ff08b(0xa55)]=_0x2ff08b(0xa74)+_0x83a168[_0x2ff08b(0x715)](/•\s/g,'')+_0x2ff08b(0x138)+_0x3bc470+')',currentApplicationData=JSON['parse'](_0x17a7fb);const _0x49803e=document[_0x2ff08b(0xc7b)](_0x2ff08b(0x5b0));_0x49803e[_0x2ff08b(0x9be)]=currentApplicationData[_0x2ff08b(0x327)]((_0x2bccba,_0x1afef5)=>_0x2ff08b(0x873)+(_0x1afef5+0x1)+'.\x20'+marked['parseInline'](_0x2bccba[_0x2ff08b(0xa76)])+_0x2ff08b(0xaae)+_0x1afef5+_0x2ff08b(0x2a5)+_0x2bccba['options'][_0x2ff08b(0x327)]((_0x9ed68e,_0xaf1ad1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x1afef5+',\x20'+_0xaf1ad1+_0x2ff08b(0xa88)+String[_0x2ff08b(0xa56)](0x61+_0xaf1ad1)+'.\x20'+marked['parseInline'](_0x9ed68e)+_0x2ff08b(0x1f1))[_0x2ff08b(0x7a0)]('')+_0x2ff08b(0x89b))[_0x2ff08b(0x7a0)](''),window[_0x2ff08b(0x8a3)]&&MathJax[_0x2ff08b(0x91c)]([_0x49803e]),_0x43c427&&(_0x43c427['style'][_0x2ff08b(0x18e)]='block'),_0x3604c4[_0x2ff08b(0x246)]['add'](_0x2ff08b(0x35d)),_0x1a5826[_0x2ff08b(0x246)][_0x2ff08b(0x142)](_0x2ff08b(0x35d));}catch(_0x57decf){console[_0x2ff08b(0xab1)](_0x57decf);throw _0x57decf;}}async function callGemini(_0x3ab8fc,_0x179bf6=![]){const _0x4554f4=_0x45baa4,_0x536e54=_0x4554f4(0x23c),_0x3cc3d7='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x536e54,_0x210bbd={'contents':[{'parts':[{'text':_0x3ab8fc}]}]};_0x179bf6&&(_0x210bbd['generationConfig']={'responseMimeType':_0x4554f4(0xaf5)},_0x3ab8fc[_0x4554f4(0xc04)](_0x4554f4(0x76c))?_0x210bbd[_0x4554f4(0x528)][_0x4554f4(0x627)]={'type':_0x4554f4(0x1c8),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x4554f4(0x559),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x4554f4(0x3ed)},'mainTopics':{'type':_0x4554f4(0x559),'items':{'type':_0x4554f4(0x1c8),'properties':{'topicName':{'type':_0x4554f4(0x3ed)},'subTopics':{'type':_0x4554f4(0x559),'items':{'type':'STRING'}}},'required':['topicName',_0x4554f4(0x391)]}}},'required':[_0x4554f4(0x93e),_0x4554f4(0x9c6)]}}},'required':['gradeLevel',_0x4554f4(0x8c1)]}:_0x210bbd[_0x4554f4(0x528)][_0x4554f4(0x627)]={'type':'ARRAY','items':{'type':_0x4554f4(0x1c8),'properties':{'question':{'type':_0x4554f4(0x3ed)},'options':{'type':'ARRAY','items':{'type':_0x4554f4(0x3ed)}},'answer':{'type':_0x4554f4(0x366)}},'required':[_0x4554f4(0xa76),_0x4554f4(0x929),_0x4554f4(0x694)]}});try{const _0x3d2369=await fetch(_0x3cc3d7,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x210bbd)});if(!_0x3d2369['ok']){const _0x34efbb=await _0x3d2369[_0x4554f4(0x26e)]();console['error'](_0x4554f4(0x8b6),_0x34efbb);throw new Error(_0x4554f4(0xc45)+_0x3d2369[_0x4554f4(0x264)]);}const _0x42764e=await _0x3d2369[_0x4554f4(0x29f)]();if(_0x42764e['candidates']&&_0x42764e['candidates'][0x0][_0x4554f4(0x16d)]&&_0x42764e['candidates'][0x0][_0x4554f4(0x16d)][_0x4554f4(0x3eb)][0x0])return _0x42764e[_0x4554f4(0xb69)][0x0]['content']['parts'][0x0][_0x4554f4(0x26e)];else{console['error']('Unexpected\x20API\x20response\x20structure:',_0x42764e);if(_0x42764e[_0x4554f4(0xb69)]&&_0x42764e[_0x4554f4(0xb69)][0x0]['finishReason']===_0x4554f4(0x303))return JSON[_0x4554f4(0x4cb)]({'error':_0x4554f4(0x60b)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0xc5467){console[_0x4554f4(0xab1)](_0x4554f4(0x4ba),_0xc5467);throw _0xc5467;}}async function generateLesson(_0x337f2c=null,_0x4ff446=null){const _0x32a9fe=_0x45baa4,_0x1eee6f=_0x337f2c,_0x396580=_0x4ff446||'ไม่ระบุ',_0x4e8996=document['getElementById']('lesson-loader'),_0x3ac914=document['getElementById']('lesson-loader-text');_0x3ac914[_0x32a9fe(0x448)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x1eee6f+_0x32a9fe(0x660);try{let _0x6fd85d=[];const _0x9749b4=document['getElementById'](_0x32a9fe(0xa05))?.[_0x32a9fe(0xab9)][_0x32a9fe(0x958)]();if(_0x9749b4)try{_0x3ac914[_0x32a9fe(0x448)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x2fbe7b=await fetchFileFromUrl(_0x9749b4,_0x32a9fe(0x507)),_0x176824=await new Promise((_0x1464b5,_0x252297)=>{const _0x382784=_0x32a9fe,_0x5a27aa=new FileReader();_0x5a27aa[_0x382784(0xbef)](_0x2fbe7b),_0x5a27aa[_0x382784(0x33a)]=()=>_0x1464b5(_0x5a27aa[_0x382784(0x370)][_0x382784(0x392)](',')[0x1]),_0x5a27aa[_0x382784(0xace)]=_0x252297;});_0x6fd85d[_0x32a9fe(0xd01)]({'inlineData':{'mimeType':_0x2fbe7b['type'],'data':_0x176824}});}catch(_0xe36ffe){console[_0x32a9fe(0xab1)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0xe36ffe),showMessage(_0x32a9fe(0x719));}const _0x6cdec1=_0x32a9fe(0x1d7)+_0x1eee6f+_0x32a9fe(0x527)+_0x1eee6f+_0x32a9fe(0x8e6);_0x3ac914[_0x32a9fe(0x448)]=_0x32a9fe(0x3b0)+_0x1eee6f+_0x32a9fe(0x660);const _0x59b533=_0x32a9fe(0xbbe)+_0x396580+_0x32a9fe(0x7bb)+_0x1eee6f+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x6cdec1+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x182b75=_0x32a9fe(0xc1e)+_0x1eee6f+_0x32a9fe(0x574)+_0x396580+_0x32a9fe(0x7e6)+_0x6cdec1+_0x32a9fe(0x9a8),_0x4a2e42='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x396580+'\x27\x20ในหัวข้อ\x20\x27'+_0x1eee6f+_0x32a9fe(0x30c)+_0x6cdec1+_0x32a9fe(0x9a9),_0x46b1a7=_0x32a9fe(0x71c)+_0x1eee6f+_0x32a9fe(0x966)+_0x396580+_0x32a9fe(0x965)+_0x6cdec1+_0x32a9fe(0x640),_0x34db06={'type':_0x32a9fe(0x559),'items':{'type':_0x32a9fe(0x1c8),'properties':{'question':{'type':_0x32a9fe(0x3ed)},'options':{'type':_0x32a9fe(0x559),'items':{'type':_0x32a9fe(0x3ed)}},'answer':{'type':_0x32a9fe(0x366)}},'required':['question',_0x32a9fe(0x929),_0x32a9fe(0x694)]}},[_0xb0ceda,_0xe8e241,_0x5ae4b1,_0x42bd2b]=await Promise[_0x32a9fe(0xd4e)]([handleApiCall([{'text':_0x59b533},..._0x6fd85d],_0x32a9fe(0xae0),null,null,![]),handleApiCall([{'text':_0x182b75},..._0x6fd85d],'...',null,null,![]),handleApiCall([{'text':_0x4a2e42},..._0x6fd85d],'...',_0x34db06,null,![]),handleApiCall([{'text':_0x46b1a7},..._0x6fd85d],_0x32a9fe(0xae0),null,null,![])]),_0x2b26f8=JSON['stringify'](_0x5ae4b1||[]),_0x5346e4=document[_0x32a9fe(0xc7b)](_0x32a9fe(0x72a)),_0x776de7=document[_0x32a9fe(0xc7b)]('lesson-sections-container');_0x5346e4['innerText']=_0x32a9fe(0x723)+_0x1eee6f[_0x32a9fe(0x715)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x396580+')',[_0x32a9fe(0x3ca),_0x32a9fe(0x1b6),_0x32a9fe(0x1ba)][_0x32a9fe(0x808)](_0x6e9313=>{const _0x305334=_0x32a9fe;document[_0x305334(0xc7b)](_0x6e9313)[_0x305334(0x9be)]='';}),document[_0x32a9fe(0xc7b)](_0x32a9fe(0x3ca))[_0x32a9fe(0x9be)]=_0xb0ceda?marked[_0x32a9fe(0xad4)](_0xb0ceda):_0x32a9fe(0x378),document[_0x32a9fe(0xc7b)](_0x32a9fe(0x1b6))['innerHTML']=_0xe8e241?marked[_0x32a9fe(0xad4)](_0xe8e241):_0x32a9fe(0x378),document[_0x32a9fe(0xc7b)](_0x32a9fe(0x1ba))[_0x32a9fe(0x9be)]=_0x42bd2b?marked[_0x32a9fe(0xad4)](_0x42bd2b):_0x32a9fe(0x378),currentApplicationData=JSON[_0x32a9fe(0xad4)](_0x2b26f8);const _0x38f645=document[_0x32a9fe(0xc7b)](_0x32a9fe(0x5b0));_0x38f645['innerHTML']=(currentApplicationData||[])['map']((_0x4b60ea,_0x4c2bb6)=>_0x32a9fe(0x873)+(_0x4c2bb6+0x1)+'.\x20'+marked[_0x32a9fe(0x631)](_0x4b60ea['question']||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x4c2bb6+_0x32a9fe(0x2a5)+(_0x4b60ea['options']||[])['map']((_0x165a19,_0x4a6573)=>_0x32a9fe(0x87c)+_0x4c2bb6+',\x20'+_0x4a6573+_0x32a9fe(0xa88)+String[_0x32a9fe(0xa56)](0x61+_0x4a6573)+'.\x20'+marked[_0x32a9fe(0x631)](_0x165a19||'')+_0x32a9fe(0x1f1))[_0x32a9fe(0x7a0)]('')+_0x32a9fe(0x89b))[_0x32a9fe(0x7a0)]('')||_0x32a9fe(0x971),window[_0x32a9fe(0x8a3)]&&MathJax[_0x32a9fe(0x91c)]([_0x776de7]),_0x4e8996[_0x32a9fe(0x246)][_0x32a9fe(0x329)](_0x32a9fe(0x35d)),_0x776de7[_0x32a9fe(0x246)][_0x32a9fe(0x142)](_0x32a9fe(0x35d));}catch(_0x20e112){console[_0x32a9fe(0xab1)](_0x20e112);throw _0x20e112;}}function checkAnswer(_0x487944,_0x312184){const _0x461d53=_0x45baa4,_0x707856=currentApplicationData[_0x487944],_0x2d5409=document[_0x461d53(0xc7b)]('q'+_0x487944+_0x461d53(0x8f5)),_0x43beff=_0x2d5409[_0x461d53(0x4d7)](_0x461d53(0x9e8));for(let _0x31e273 of _0x43beff){_0x31e273['disabled']=!![];}_0x312184===_0x707856[_0x461d53(0x694)]?_0x43beff[_0x312184][_0x461d53(0x246)][_0x461d53(0x329)](_0x461d53(0x291)):(_0x43beff[_0x312184]['classList'][_0x461d53(0x329)](_0x461d53(0x363)),_0x43beff[_0x707856['answer']]['classList'][_0x461d53(0x329)]('correct'));}window[_0x45baa4(0x82a)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x45baa4(0x9bf)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x5c4a7d=_0x45baa4;try{const _0x6789e0=initializeApp(firebaseConfig);db=getFirestore(_0x6789e0),auth=getAuth(_0x6789e0),setupAuthListener(),setupEventListeners(),showView(_0x5c4a7d(0x568)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x1cea9d){console[_0x5c4a7d(0xab1)](_0x5c4a7d(0x70b),_0x1cea9d),showMessage(_0x5c4a7d(0xa2f));}}async function handleVerifyAnswersInEditor(){const _0x26a453=_0x45baa4,_0x5565f9=document[_0x26a453(0xc7b)](_0x26a453(0x7e9));if(!_0x5565f9)return;const _0x56f46d=document['getElementById'](_0x26a453(0x43f));_0x56f46d['disabled']=!![],_0x56f46d[_0x26a453(0x9be)]=_0x26a453(0x97c);try{const _0x2bb500=_0x5565f9[_0x26a453(0x336)](_0x26a453(0x752)),_0x2cc75a=Array[_0x26a453(0x36f)](_0x2bb500)[_0x26a453(0x327)]((_0x4f6145,_0x1134d9)=>{const _0x25b62b=_0x26a453,_0x8c7f07=_0x4f6145[_0x25b62b(0xaf8)][_0x25b62b(0x91d)],_0x2f4286=_0x4f6145[_0x25b62b(0x452)](_0x25b62b(0x1d2))['value'];let _0x5c7d18=null,_0x4dd83a='';switch(_0x8c7f07){case'multiple_choice':const _0x3e57f7=_0x4f6145[_0x25b62b(0x336)](_0x25b62b(0x65f));_0x5c7d18=Array[_0x25b62b(0x36f)](_0x3e57f7)[_0x25b62b(0x327)](_0x2f7a41=>_0x2f7a41['value']);const _0x5b8e3e=_0x4f6145[_0x25b62b(0x452)](_0x25b62b(0xa6e));_0x5b8e3e&&(_0x4dd83a=_0x5c7d18[parseInt(_0x5b8e3e[_0x25b62b(0xab9)])]);break;case'short_answer':_0x5c7d18=[],_0x4dd83a=_0x4f6145['querySelector'](_0x25b62b(0x451))[_0x25b62b(0xab9)];break;case _0x25b62b(0x3f8):_0x5c7d18=['true',_0x25b62b(0x602)];const _0x347671=_0x4f6145[_0x25b62b(0x452)](_0x25b62b(0xa6e));_0x4dd83a=_0x347671?_0x347671[_0x25b62b(0xab9)]:'';break;case _0x25b62b(0xafa):_0x5c7d18=[],_0x4dd83a=_0x4f6145[_0x25b62b(0x452)](_0x25b62b(0x9e4))[_0x25b62b(0xab9)];break;}return{'question':_0x2f4286,'options':_0x5c7d18,'proposedAnswer':_0x4dd83a};}),_0x1eed18=_0x26a453(0xb40)+JSON[_0x26a453(0x4cb)](_0x2cc75a)+_0x26a453(0x748),_0x321913={'type':_0x26a453(0x559),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x26a453(0x366)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x26a453(0x3ed)},'correctOptionExists':{'type':_0x26a453(0xb1a)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x26a453(0x1c8),'properties':{'newOptions':{'type':_0x26a453(0x559),'items':{'type':'STRING'}},'newCorrectIndex':{'type':_0x26a453(0x366)}}}},'required':[_0x26a453(0x586),_0x26a453(0xcf5),_0x26a453(0x58a)]}},_0x88d851=await callAnalysisApi(_0x1eed18,{'type':'OBJECT','properties':{'result':_0x321913},'required':[_0x26a453(0x370)]});displayVerificationResultsInEditor(_0x88d851[_0x26a453(0x370)]);}catch(_0x167270){console[_0x26a453(0xab1)](_0x26a453(0xcbc),_0x167270),showMessage(_0x26a453(0x1b8));}finally{_0x56f46d[_0x26a453(0x514)]=![],_0x56f46d[_0x26a453(0x9be)]=_0x26a453(0x67f);}}function displayVerificationResultsInEditor(_0x586390){const _0x4632c4=_0x45baa4;_0x586390['forEach'](_0x120a1d=>{const _0x348489=_0x2960,_0x10ef2f=document['querySelector'](_0x348489(0x98a)+_0x120a1d[_0x348489(0x586)]+'\x22]');if(!_0x10ef2f)return;const _0x32be1a=_0x10ef2f[_0x348489(0x452)](_0x348489(0x24c));if(_0x32be1a)_0x32be1a[_0x348489(0x142)]();let _0x4424aa='';if(_0x120a1d[_0x348489(0x7af)]&&_0x120a1d[_0x348489(0x7af)][_0x348489(0x7d2)]){const _0x1e8c6b=_0x120a1d[_0x348489(0x7af)][_0x348489(0x7d2)],_0x57ed87=_0x120a1d[_0x348489(0x7af)][_0x348489(0x284)],_0x59e88b=_0x10ef2f['dataset'][_0x348489(0x91d)];if(_0x59e88b===_0x348489(0x35a)){const _0x359eb4=_0x10ef2f[_0x348489(0x336)]('input[type=\x22text\x22]');_0x359eb4['forEach']((_0x2d5f51,_0x5a4f1e)=>{const _0x8ef34e=_0x348489;_0x1e8c6b[_0x5a4f1e]?_0x2d5f51[_0x8ef34e(0xab9)]=_0x1e8c6b[_0x5a4f1e]:_0x2d5f51[_0x8ef34e(0xab9)]=_0x8ef34e(0x9e0);});const _0x457910=_0x10ef2f['querySelector'](_0x348489(0x77f)+_0x57ed87+'\x22]');_0x457910&&(_0x457910[_0x348489(0xa1c)]=!![]),_0x4424aa=_0x348489(0x59b),_0x10ef2f['classList'][_0x348489(0x329)](_0x348489(0x65c),_0x348489(0x396),_0x348489(0x353)),setTimeout(()=>{const _0x2d2dae=_0x348489;_0x10ef2f[_0x2d2dae(0x246)][_0x2d2dae(0x142)](_0x2d2dae(0x65c));},0x9c4);}}else{if(!_0x120a1d[_0x348489(0xcf5)]&&_0x120a1d[_0x348489(0x9ad)]){const _0x142cf2=_0x120a1d[_0x348489(0x9ad)]?_0x348489(0x9d0):'';_0x4424aa=_0x348489(0x4a8)+_0x142cf2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x120a1d[_0x348489(0x58a)]+_0x348489(0x85c)+(_0x120a1d[_0x348489(0x9ad)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x120a1d[_0x348489(0x9ad)]+_0x348489(0x4fa):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x1edd03=_0x10ef2f[_0x348489(0xaf8)]['qType'],_0x1132df=_0xae89e9=>{const _0x4b7a10=_0x348489;if(!_0xae89e9)return;_0xae89e9[_0x4b7a10(0x246)][_0x4b7a10(0x329)](_0x4b7a10(0x45a),_0x4b7a10(0x396),_0x4b7a10(0x353)),setTimeout(()=>{const _0xa08e13=_0x4b7a10;_0xae89e9[_0xa08e13(0x246)][_0xa08e13(0x142)]('bg-green-200');},0x9c4);};if(_0x1edd03==='multiple_choice'){const _0x4a7ffb=Array[_0x348489(0x36f)](_0x10ef2f[_0x348489(0x336)](_0x348489(0x65f))),_0x6fe8d5=_0x4a7ffb[_0x348489(0x960)](_0x17b0ec=>_0x17b0ec[_0x348489(0xab9)][_0x348489(0x958)]()[_0x348489(0xd4a)]()===_0x120a1d[_0x348489(0x9ad)]['trim']()['toLowerCase']());if(_0x6fe8d5!==-0x1){const _0x52812b=_0x10ef2f[_0x348489(0x452)](_0x348489(0x77f)+_0x6fe8d5+'\x22]');_0x52812b&&(_0x52812b['checked']=!![],_0x1132df(_0x52812b['closest'](_0x348489(0x15f))));}}else{if(_0x1edd03===_0x348489(0x19e)||_0x1edd03===_0x348489(0xafa)){const _0x14408e=_0x10ef2f[_0x348489(0x452)](_0x348489(0xd18));_0x14408e&&(_0x14408e[_0x348489(0xab9)]=_0x120a1d['suggestedAnswer'],_0x1132df(_0x14408e));}else{if(_0x1edd03===_0x348489(0x3f8)){const _0x12de39=_0x120a1d[_0x348489(0x9ad)][_0x348489(0x958)]()[_0x348489(0xd4a)](),_0x1a9f9f=_0x10ef2f[_0x348489(0x452)]('input[type=\x22radio\x22][value=\x22'+_0x12de39+'\x22]');_0x1a9f9f&&(_0x1a9f9f['checked']=!![],_0x1132df(_0x1a9f9f[_0x348489(0x2ec)](_0x348489(0x15f))));}}}}else _0x120a1d[_0x348489(0xcf5)]&&(_0x4424aa=_0x348489(0x266));}_0x10ef2f[_0x348489(0x751)](_0x348489(0xad7),_0x4424aa);}),showMessage(_0x4632c4(0x5c8));}async function handleVerifyAnswers(){const _0x4289ae=_0x45baa4;if(!currentQuizData||!currentQuizData[_0x4289ae(0x92e)]){showMessage(_0x4289ae(0x85b));return;}const _0xb3afbb=document[_0x4289ae(0xc7b)](_0x4289ae(0x8cf));_0xb3afbb[_0x4289ae(0x514)]=!![],_0xb3afbb[_0x4289ae(0x9be)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x41ef7a=currentQuizData[_0x4289ae(0x92e)][_0x4289ae(0x327)]((_0x3cc3de,_0x5abc0e)=>{const _0x3c4d75=_0x4289ae;let _0x55d46c='';const _0x50e46e=_0x3cc3de[_0x3c4d75(0x34f)]||currentQuizData[_0x3c4d75(0x9f7)];switch(_0x50e46e){case _0x3c4d75(0x35a):_0x55d46c=_0x3cc3de['options'][_0x3cc3de[_0x3c4d75(0xbfe)]];break;case _0x3c4d75(0x19e):_0x55d46c=_0x3cc3de[_0x3c4d75(0xc96)];break;case _0x3c4d75(0x3f8):_0x55d46c=_0x3cc3de['correctAnswer'][_0x3c4d75(0x626)]();break;case _0x3c4d75(0xafa):_0x55d46c=_0x3cc3de[_0x3c4d75(0x492)];break;}return{'question':_0x3cc3de[_0x3c4d75(0x6ea)]||_0x3cc3de[_0x3c4d75(0x24b)],'options':_0x3cc3de['options']||null,'proposedAnswer':_0x55d46c};}),_0x5bf824=_0x4289ae(0x33f)+JSON[_0x4289ae(0x4cb)](_0x41ef7a)+_0x4289ae(0x89a),_0x4bc783={'type':_0x4289ae(0x559),'items':{'type':_0x4289ae(0x1c8),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x4289ae(0xb1a)},'justification':{'type':_0x4289ae(0x3ed)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0x4289ae(0xcf5),_0x4289ae(0x58a)]}},_0x21b14e=await callAnalysisApi(_0x5bf824,{'type':_0x4289ae(0x1c8),'properties':{'result':_0x4bc783},'required':[_0x4289ae(0x370)]});displayVerificationResults(_0x21b14e[_0x4289ae(0x370)]);}catch(_0x147f01){console[_0x4289ae(0xab1)](_0x4289ae(0x99b),_0x147f01),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0xb3afbb[_0x4289ae(0x514)]=![],_0xb3afbb[_0x4289ae(0x9be)]=_0x4289ae(0x57a);}}function displayVerificationResults(_0x5be892){const _0x38e669=_0x45baa4;_0x5be892[_0x38e669(0x808)](_0x318d3f=>{const _0x38b9b5=_0x38e669,_0x5938b9=document[_0x38b9b5(0x452)](_0x38b9b5(0xb68)+_0x318d3f[_0x38b9b5(0x586)]+'\x22]');if(_0x5938b9){const _0x3319a4=_0x5938b9[_0x38b9b5(0x452)](_0x38b9b5(0xd24));if(_0x3319a4)_0x3319a4[_0x38b9b5(0x142)]();let _0x5d78c1='';_0x318d3f[_0x38b9b5(0xcf5)]?_0x5d78c1=_0x38b9b5(0xc8b):_0x5d78c1=_0x38b9b5(0x9c3)+_0x318d3f[_0x38b9b5(0x58a)]+_0x38b9b5(0x191)+(_0x318d3f[_0x38b9b5(0x9ad)]?_0x38b9b5(0x81b)+_0x318d3f[_0x38b9b5(0x9ad)]+_0x38b9b5(0x4fa):'')+_0x38b9b5(0x182),_0x5938b9['insertAdjacentHTML'](_0x38b9b5(0xad7),_0x5d78c1);}}),showMessage(_0x38e669(0x5c8));}function compareNumericalAnswers(_0x4d59cb,_0x855718){const _0x252138=_0x45baa4,_0x1ab87f=String(_0x4d59cb)[_0x252138(0x715)](',','.')[_0x252138(0x715)](/[^\d.-]/g,'')[_0x252138(0x958)](),_0x5bc943=String(_0x855718)['replace'](',','.')[_0x252138(0x715)](/[^\d.-]/g,'')[_0x252138(0x958)]();if(_0x1ab87f===''||_0x5bc943==='')return![];const _0x112b9b=parseFloat(_0x1ab87f),_0x50058e=parseFloat(_0x5bc943);if(isNaN(_0x112b9b)||isNaN(_0x50058e))return![];return Math['abs'](_0x112b9b-_0x50058e)<0.001;}function isPotentiallyNumeric(_0x27e4e5){const _0x37e403=_0x45baa4;if(typeof _0x27e4e5!==_0x37e403(0x8c5)&&typeof _0x27e4e5!=='number')return![];const _0x4807d7=String(_0x27e4e5)[_0x37e403(0x715)](',','.')[_0x37e403(0x958)]();return _0x4807d7!==''&&!isNaN(parseFloat(_0x4807d7))&&isFinite(_0x4807d7);}async function gradeShortAnswer(_0x24da45,_0x2f172e){const _0xae32f3=_0x45baa4,_0x3131d7=_0x2f172e['idealAnswer'],_0x4d6a5b=String(_0x24da45)[_0xae32f3(0x715)](/\$/g,'')[_0xae32f3(0x958)](),_0x2e5982=String(_0x3131d7)['replace'](/\$/g,'')[_0xae32f3(0x958)]();if(_0x4d6a5b['toLowerCase']()===_0x2e5982[_0xae32f3(0xd4a)]())return!![];if(isPotentiallyNumeric(_0x4d6a5b)&&isPotentiallyNumeric(_0x2e5982)){if(compareNumericalAnswers(_0x4d6a5b,_0x2e5982))return!![];}return console[_0xae32f3(0x161)](_0xae32f3(0x3e5)),await gradeShortAnswerWithAI(_0x24da45,_0x3131d7);}async function revealAnswerForAdmin(_0x207b4c,_0x563faf){const _0x20bdfd=_0x45baa4,_0x4c54f4=doc(db,_0x20bdfd(0xb73)+appId+_0x20bdfd(0xd2b),currentLiveGameId);await updateDoc(_0x4c54f4,{'questionStatus':_0x20bdfd(0xc63)});}function showTop5LeaderboardView(_0x39f59){const _0x5e51d2=_0x45baa4,_0x2fa572=Object[_0x5e51d2(0x548)](_0x39f59['players']||{})[_0x5e51d2(0x6d0)](_0x30301d=>_0x30301d['status']==='active');_0x2fa572[_0x5e51d2(0x835)]((_0xcd4e62,_0x1796e1)=>_0x1796e1['score']-_0xcd4e62['score']);const _0xeb4252=_0x2fa572[_0x5e51d2(0x5d9)](0x0,0x5),_0x2c076a=_0x5e51d2(0x19f)+_0xeb4252[_0x5e51d2(0x327)]((_0x148a68,_0x33c0b6)=>_0x5e51d2(0xa10)+(_0x33c0b6+0x1)+'.\x20'+(_0x148a68[_0x5e51d2(0xb4c)]||Object[_0x5e51d2(0x7a9)](_0x39f59[_0x5e51d2(0x1c4)])[_0x5e51d2(0x5f4)](_0x58995c=>_0x39f59[_0x5e51d2(0x1c4)][_0x58995c]===_0x148a68))+_0x5e51d2(0xc90)+_0x148a68[_0x5e51d2(0xbf3)]+_0x5e51d2(0x249))[_0x5e51d2(0x7a0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x39f59['currentQuestionIndex']+0x1===currentQuizData[_0x5e51d2(0x92e)][_0x5e51d2(0xa33)]?_0x5e51d2(0x8fe):_0x5e51d2(0x4ae))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x2c076a,document[_0x5e51d2(0xc7b)](_0x5e51d2(0x3db))[_0x5e51d2(0x21f)](_0x5e51d2(0xb10),async()=>{const _0x1832df=_0x5e51d2,_0x44465b=doc(db,_0x1832df(0xb73)+appId+_0x1832df(0xd2b),currentLiveGameId),_0x68282a=_0x39f59[_0x1832df(0x43c)]+0x1;if(_0x68282a<currentQuizData[_0x1832df(0x92e)][_0x1832df(0xa33)]){const _0x3f43ab={'currentQuestionIndex':_0x68282a,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x1832df(0x882)};Object[_0x1832df(0x7a9)](_0x39f59['players'])[_0x1832df(0x808)](_0x1a4745=>{const _0x97cae6=_0x1832df;_0x3f43ab[_0x97cae6(0x2cd)+_0x1a4745+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x44465b,_0x3f43ab);}else await updateDoc(_0x44465b,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x274ab2=>{const _0xfa08ee=_0x2960;if(_0x274ab2){userId=_0x274ab2[_0xfa08ee(0x5f0)],userIdDisplay[_0xfa08ee(0x448)]=userId;const _0x4a55b6=await loadUserPreferences();_0x4a55b6[_0xfa08ee(0x8ed)]&&(document[_0xfa08ee(0xc7b)](_0xfa08ee(0xb3f))[_0xfa08ee(0xab9)]=_0x4a55b6[_0xfa08ee(0x8ed)]);globalDashboardSettings[_0xfa08ee(0x351)]=_0x4a55b6[_0xfa08ee(0x351)]||_0xfa08ee(0x894);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x1c5b1d,_0x47fd72){const _0x32d959=_0x45baa4;if(!userId)return;try{const _0x11d686=doc(db,_0x32d959(0xb73)+appId+_0x32d959(0xa3f)+userId+_0x32d959(0xbac)),_0x58e440={};_0x58e440[_0x1c5b1d]=_0x47fd72,await setDoc(_0x11d686,_0x58e440,{'merge':!![]});}catch(_0x264b63){console[_0x32d959(0xab1)](_0x32d959(0x49b),_0x264b63);}}async function loadUserPreferences(){const _0x4848e5=_0x45baa4;if(!userId)return{};try{const _0x23fcb7=doc(db,_0x4848e5(0xb73)+appId+_0x4848e5(0xa3f)+userId+_0x4848e5(0xbac)),_0x3722e4=await getDoc(_0x23fcb7);if(_0x3722e4['exists']())return _0x3722e4['data']();return{};}catch(_0x97ba4e){return console[_0x4848e5(0xab1)]('Error\x20loading\x20user\x20preferences:',_0x97ba4e),{};}}function parseIndentedBlueprint(_0x5cddb0){const _0x30f9ca=_0x45baa4,_0x62ba8f=_0x5cddb0['split']('\x0a')[_0x30f9ca(0x6d0)](_0x25476e=>_0x25476e[_0x30f9ca(0x958)]()!==''),_0x781ff2=[];let _0x6ac5d6=null,_0x503343=null;return _0x62ba8f[_0x30f9ca(0x808)](_0x52b2f1=>{const _0x1a7450=_0x30f9ca,_0x5d54a1=_0x52b2f1[_0x1a7450(0x589)](/^\s*/)[0x0][_0x1a7450(0xa33)],_0x57270f=_0x52b2f1[_0x1a7450(0x958)]();if(_0x5d54a1===0x0)_0x6ac5d6={'sara':_0x57270f,'mainTopics':[]},_0x781ff2['push'](_0x6ac5d6),_0x503343=null;else{if(_0x5d54a1>0x0&&_0x5d54a1<0x8&&_0x6ac5d6)_0x503343={'topicName':_0x57270f,'subTopics':[]},_0x6ac5d6[_0x1a7450(0x9c6)][_0x1a7450(0xd01)](_0x503343);else _0x5d54a1>=0x8&&_0x503343&&_0x503343['subTopics'][_0x1a7450(0xd01)](_0x57270f);}}),{'curriculum':_0x781ff2};}async function handleManualBlueprintSave(){const _0x1c6b6f=_0x45baa4,_0x227339=document['getElementById'](_0x1c6b6f(0x49d))[_0x1c6b6f(0xab9)][_0x1c6b6f(0x958)](),_0xab847e=document[_0x1c6b6f(0xc7b)](_0x1c6b6f(0xae5))[_0x1c6b6f(0xab9)][_0x1c6b6f(0x958)](),_0x22dc2c=document['getElementById']('manual-bp-content')[_0x1c6b6f(0xab9)];if(!_0x227339||!_0xab847e||!_0x22dc2c){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x26e55f=parseIndentedBlueprint(_0x22dc2c);if(!_0x26e55f['curriculum']||_0x26e55f[_0x1c6b6f(0x8c1)][_0x1c6b6f(0xa33)]===0x0){showMessage(_0x1c6b6f(0x9cf));return;}const _0x529d61={};let _0x173cf7=0x0;_0x26e55f[_0x1c6b6f(0x8c1)][_0x1c6b6f(0x808)](_0x432099=>{_0x432099['mainTopics']['forEach'](_0x1b8368=>{const _0x57329d=_0x2960;_0x1b8368[_0x57329d(0x391)][_0x57329d(0x808)](_0x35e99b=>{const _0x4c9825=_0x57329d,_0x55b213=_0x4c9825(0x96e)+Date[_0x4c9825(0xcb8)]()+Math[_0x4c9825(0x293)]()['toString'](0x24)[_0x4c9825(0xbb7)](0x2,0x9);_0x529d61[_0x55b213]={'sara':_0x432099[_0x4c9825(0x93e)],'mainTopic':_0x1b8368[_0x4c9825(0x3e2)],'subTopic':_0x35e99b,'status':_0x4c9825(0x976),'lessonContent':null,'order':_0x173cf7++};});});});try{const _0x11d79f=collection(db,_0x1c6b6f(0xb73)+appId+'/public/data/blueprintProjects');await addDoc(_0x11d79f,{'projectName':_0x227339,'gradeLevel':_0xab847e,'topics':_0x529d61,'createdAt':serverTimestamp()}),showMessage(_0x1c6b6f(0x928)+_0x227339+_0x1c6b6f(0x4fe)),document['getElementById'](_0x1c6b6f(0x389))[_0x1c6b6f(0x246)][_0x1c6b6f(0x329)](_0x1c6b6f(0x35d));}catch(_0x25bb57){console[_0x1c6b6f(0xab1)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x25bb57),showMessage(_0x1c6b6f(0xb6d));}}function handleClearAllLinksForTopic(_0x10a8f7){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x3983a7=_0x2960;try{const _0x1e5f2b=doc(db,_0x3983a7(0xb73)+appId+_0x3983a7(0x6f3),currentBlueprintProjectId);await updateDoc(_0x1e5f2b,{[_0x3983a7(0x22e)+_0x10a8f7+_0x3983a7(0x618)]:[]}),showMessage(_0x3983a7(0x6b9)),openTopicQuizBank(_0x10a8f7),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x56cc4d){console[_0x3983a7(0xab1)]('Error\x20clearing\x20all\x20links:',_0x56cc4d),showMessage(_0x3983a7(0x62c));}});}function showPodiumView(_0x239b94,_0x28805c=_0x45baa4(0x812)){const _0x10b059=_0x45baa4,_0x2a01f5=Object['entries'](_0x239b94)['map'](([_0x203cc1,_0x254b22])=>({'name':_0x203cc1,'score':_0x254b22['score']||0x0,'badges':_0x254b22[_0x10b059(0xa51)]||[],'hasPerfectScoreBonus':_0x254b22[_0x10b059(0x8eb)]||![]}));_0x2a01f5[_0x10b059(0x835)]((_0x3f08b2,_0x22d73b)=>{const _0x47a3bb=_0x10b059,_0x1ce781=_0x22d73b[_0x47a3bb(0xbf3)]-_0x3f08b2[_0x47a3bb(0xbf3)];if(_0x1ce781!==0x0)return _0x1ce781;return(_0x22d73b[_0x47a3bb(0xa51)]['length']||0x0)-(_0x3f08b2[_0x47a3bb(0xa51)][_0x47a3bb(0xa33)]||0x0);});const _0x53bcfa=_0x1f867f=>{const _0x3938ff=_0x10b059;if(!_0x1f867f||_0x1f867f[_0x3938ff(0xa33)]===0x0)return'';const _0x5d545c={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3938ff(0x977)+_0x1f867f['map'](_0xcd801f=>_0x5d545c[_0xcd801f]||'')[_0x3938ff(0x7a0)]('')+'</div>';},_0x4f47d8=_0x2a01f5[_0x10b059(0x5d9)](0x3),_0x1a60d8=_0x4f47d8['length']>0x0?_0x10b059(0x412)+_0x4f47d8[_0x10b059(0x327)]((_0x287993,_0x982b95)=>{const _0xaed058=_0x10b059,_0x51a85=_0x287993[_0xaed058(0x8eb)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0xaed058(0x1a2)+(_0x982b95+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x287993['name']+_0xaed058(0xc2c)+_0x287993['score']+_0xaed058(0x3e9)+_0x51a85+_0xaed058(0x847);})[_0x10b059(0x7a0)]('')+_0x10b059(0x2bd):'',_0x33fb2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2a01f5[0x1]?_0x10b059(0xb4f)+_0x2a01f5[0x1]['name']+_0x10b059(0x4fa)+_0x53bcfa(_0x2a01f5[0x1]['badges'])+_0x10b059(0xbfa)+_0x2a01f5[0x1][_0x10b059(0xbf3)]+_0x10b059(0x3e9)+(_0x2a01f5[0x1][_0x10b059(0x8eb)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x10b059(0x813))+_0x10b059(0x748)+(_0x2a01f5[0x0]?_0x10b059(0x23d)+_0x2a01f5[0x0][_0x10b059(0xb4c)]+_0x10b059(0x4fa)+_0x53bcfa(_0x2a01f5[0x0][_0x10b059(0xa51)])+_0x10b059(0xbe3)+_0x2a01f5[0x0]['score']+_0x10b059(0x3e9)+(_0x2a01f5[0x0][_0x10b059(0x8eb)]?_0x10b059(0xb74):'')+_0x10b059(0x2f4):'<div\x20class=\x22flex-1\x22></div>')+_0x10b059(0x748)+(_0x2a01f5[0x2]?_0x10b059(0xc69)+_0x2a01f5[0x2][_0x10b059(0xb4c)]+_0x10b059(0x4fa)+_0x53bcfa(_0x2a01f5[0x2][_0x10b059(0xa51)])+_0x10b059(0xbfa)+_0x2a01f5[0x2]['score']+'\x20คะแนน\x20'+(_0x2a01f5[0x2][_0x10b059(0x8eb)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x10b059(0x6f7):_0x10b059(0x813))+_0x10b059(0xadf)+_0x1a60d8+_0x10b059(0x76e)+(currentMode===_0x10b059(0x1af)?_0x10b059(0x6ec):'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x10b059(0x4b6);liveGameView[_0x10b059(0x9be)]=_0x33fb2f,currentMode===_0x10b059(0x1af)&&document['getElementById'](_0x10b059(0x488))['addEventListener'](_0x10b059(0xb10),async()=>{const _0x47110a=_0x10b059;let _0x3386a2;_0x28805c===_0x47110a(0x3f4)?_0x3386a2=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId):_0x3386a2=doc(db,'artifacts/'+appId+_0x47110a(0xd2b),currentLiveGameId),await deleteDoc(_0x3386a2);});}function renderSyncSummaryView(_0x58b904,_0xbe6d1f,_0x397056){const _0x4f5895=_0x45baa4,_0x24718a=_0x58b904[_0x4f5895(0x5ec)]||_0x4f5895(0x70c),_0x52be5f=_0x24718a===_0x4f5895(0x3b7)&&_0x58b904['isAnonymousRevealed']===![],_0x36af93=Object[_0x4f5895(0x548)](_0x58b904[_0x4f5895(0x1c4)]||{}),_0x67e995=_0x58b904[_0x4f5895(0x2e4)][_0x4f5895(0x92e)],_0x1d861e=_0xbe6d1f[_0x4f5895(0x34f)]||_0x58b904[_0x4f5895(0x2e4)][_0x4f5895(0x9f7)];let _0x2c4140=[];_0x1d861e===_0x4f5895(0x3f8)?_0x2c4140=[_0x4f5895(0x440),'ไม่ใช่\x20/\x20ผิด']:_0x2c4140=_0xbe6d1f[_0x4f5895(0x929)]||[];const _0xffa6d6=new Array(_0x2c4140[_0x4f5895(0xa33)])[_0x4f5895(0x13e)](0x0),_0x5c067d={};_0x2c4140[_0x4f5895(0x808)]((_0x27e2a6,_0x24b9c0)=>{_0x5c067d[_0x24b9c0]=[];}),Object[_0x4f5895(0x1da)](_0x58b904[_0x4f5895(0x1c4)]||{})[_0x4f5895(0x808)](([_0x252e47,_0x34524e])=>{const _0x19bee9=_0x4f5895;if(_0x34524e[_0x19bee9(0x264)]!==_0x19bee9(0x3fe)&&_0x34524e[_0x19bee9(0x18b)]!==undefined&&_0x34524e['lastAnswerIndex']!==null){const _0x48999c=_0x34524e[_0x19bee9(0x18b)];if(_0x5c067d[_0x48999c]!==undefined){const _0x514bd0=_0x52be5f?_0x58b904[_0x19bee9(0x7c6)][_0x252e47]||_0x19bee9(0x774):_0x252e47;_0x5c067d[_0x48999c]['push'](_0x514bd0),_0xffa6d6[_0x48999c]++;}}});let _0x58ff66='';const _0x5b4f31=_0x58b904[_0x4f5895(0x43c)]>=_0x67e995[_0x4f5895(0xa33)]-0x1;_0x397056?_0x24718a===_0x4f5895(0xb37)?_0x5b4f31?_0x58ff66=_0x4f5895(0x794):_0x58ff66='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':_0x58ff66=_0x4f5895(0x22a):_0x24718a==='reveal_at_end'?_0x58ff66='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x58ff66=_0x4f5895(0x652);const _0x3895f0=_0x4f5895(0x1bb)+_0xbe6d1f[_0x4f5895(0x24b)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xffa6d6['map']((_0x325404,_0x7f83f1)=>{const _0x500b0c=_0x4f5895,_0x8a2114=_0x5c067d[_0x7f83f1][_0x500b0c(0xa33)]>0x0?_0x5c067d[_0x7f83f1][_0x500b0c(0x7a0)](',\x20'):_0x500b0c(0x55d),_0x4d70d0=_0x500b0c(0x84a);return _0x500b0c(0x65d)+_0x325404+_0x500b0c(0x674)+_0x4d70d0+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x7f83f1+_0x500b0c(0x779)+_0x2c4140[_0x7f83f1]+_0x500b0c(0x93b)+_0x7f83f1+_0x500b0c(0x4b5)+_0x8a2114+_0x500b0c(0xcee);})[_0x4f5895(0x7a0)]('')+_0x4f5895(0x3d8)+_0x58ff66+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4f5895(0x9be)]=_0x3895f0;if(window[_0x4f5895(0x8a3)])MathJax[_0x4f5895(0x91c)]();if(_0x397056){const _0x27afc0=doc(db,_0x4f5895(0xb73)+appId+_0x4f5895(0x740),currentLiveGameId);document[_0x4f5895(0xc7b)]('show-results-btn')?.['addEventListener'](_0x4f5895(0xb10),async()=>{const _0x20932f=_0x4f5895;await updateDoc(_0x27afc0,{'status':_0x20932f(0xb84)});}),document[_0x4f5895(0xc7b)](_0x4f5895(0x1ab))?.['addEventListener'](_0x4f5895(0xb10),()=>{openScratchpad(_0xbe6d1f,_0x2c4140);}),document[_0x4f5895(0xc7b)](_0x4f5895(0xa47))?.[_0x4f5895(0x21f)](_0x4f5895(0xb10),async()=>{const _0x3911b7=_0x4f5895,_0x51390c=_0x58b904[_0x3911b7(0x43c)]+0x1,_0xbfcdd1={};Object['keys'](_0x58b904[_0x3911b7(0x1c4)])['forEach'](_0x1eee61=>{const _0x410bbb=_0x3911b7;_0xbfcdd1[_0x410bbb(0x2cd)+_0x1eee61+_0x410bbb(0xb32)]=![],_0xbfcdd1[_0x410bbb(0x2cd)+_0x1eee61+_0x410bbb(0x9fc)]=null;}),await updateDoc(_0x27afc0,{..._0xbfcdd1,'status':_0x3911b7(0xa76),'currentQuestionIndex':_0x51390c,'questionDisplayedAt':serverTimestamp()});}),document[_0x4f5895(0xc7b)](_0x4f5895(0xa49))?.[_0x4f5895(0x21f)]('click',async()=>{const _0x2d0678=_0x4f5895;await updateDoc(_0x27afc0,{'status':_0x2d0678(0xb84),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x561793){const _0x25bbdb=_0x45baa4,_0x3c59e9=_0x561793['currentQuestionIndex']>=_0x561793[_0x25bbdb(0x2e4)]['questions'][_0x25bbdb(0xa33)]-0x1;let _0x88e141='';if(_0x561793[_0x25bbdb(0x515)]===!![]){const _0x32077c=_0x561793['players'][localTeamPlayers[0x0]],_0x193329=_0x32077c[_0x25bbdb(0xb4c)],_0x2752bd=_0x32077c[_0x25bbdb(0xbf3)];_0x88e141=_0x25bbdb(0x97b)+_0x193329+_0x25bbdb(0x727)+_0x2752bd+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x88e141='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3c59e9?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x25bbdb(0x268))+_0x25bbdb(0xd02);const _0x1f53d2=_0x25bbdb(0x502)+_0x88e141+_0x25bbdb(0xc7d);liveGameView[_0x25bbdb(0x9be)]=_0x1f53d2;}async function handleShowStudentRankings(){const _0x346483=_0x45baa4,_0x3dcdd2=document[_0x346483(0x452)](_0x346483(0x85d));_0x3dcdd2&&(_0x3dcdd2['innerHTML']=_0x346483(0xa75));const _0x3162de=document[_0x346483(0x452)]('#student-project-leaderboard-content\x20thead');_0x3162de&&(_0x3162de['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x2f8b95=document['getElementById'](_0x346483(0x9a2));_0x2f8b95['classList'][_0x346483(0x142)](_0x346483(0x35d)),document[_0x346483(0xc7b)](_0x346483(0x898))[_0x346483(0x2e6)]=()=>_0x2f8b95[_0x346483(0x246)][_0x346483(0x329)](_0x346483(0x35d));const _0x52851d=document['getElementById'](_0x346483(0xc40)),_0x218efa=document[_0x346483(0xc7b)](_0x346483(0x94c)),_0x52d2ce=document[_0x346483(0xc7b)]('student-quiz-leaderboard-content'),_0x603f55=document['getElementById'](_0x346483(0x8da));_0x52851d[_0x346483(0x2e6)]=()=>{const _0x15ee5a=_0x346483;_0x52851d[_0x15ee5a(0x246)][_0x15ee5a(0x329)](_0x15ee5a(0x870)),_0x218efa[_0x15ee5a(0x246)][_0x15ee5a(0x142)](_0x15ee5a(0x870)),_0x52d2ce['classList'][_0x15ee5a(0x142)](_0x15ee5a(0x35d)),_0x603f55['classList'][_0x15ee5a(0x329)](_0x15ee5a(0x35d));},_0x218efa['onclick']=()=>{const _0x172264=_0x346483;_0x218efa['classList']['add'](_0x172264(0x870)),_0x52851d[_0x172264(0x246)][_0x172264(0x142)]('active'),_0x603f55[_0x172264(0x246)][_0x172264(0x142)](_0x172264(0x35d)),_0x52d2ce[_0x172264(0x246)]['add'](_0x172264(0x35d));};try{const _0x4816f8=collection(db,_0x346483(0xb73)+appId+_0x346483(0x444)+currentQuizData['id']+_0x346483(0xc11)),_0x11195b=await getDocs(_0x4816f8),_0x2aab11=_0x11195b[_0x346483(0xb39)][_0x346483(0x327)](_0xfc79cd=>_0xfc79cd['data']());renderQuizLeaderboard(_0x2aab11,currentQuizData,_0x346483(0x7a8));const _0x4e0c7c=collection(db,_0x346483(0xb73)+appId+_0x346483(0x326)+currentQuizData[_0x346483(0xb2f)]+_0x346483(0x992)),_0x5a87b7=await getDocs(_0x4e0c7c),_0x507a22=_0x5a87b7[_0x346483(0xb39)]['map'](_0x2017a7=>_0x2017a7[_0x346483(0x4da)]());renderLeaderboard(_0x507a22,_0x346483(0x398));}catch(_0x529bac){console[_0x346483(0xab1)]('Error\x20fetching\x20student\x20rankings:',_0x529bac),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x25f606){const _0x56eea3=_0x45baa4,_0x4713b0=_0x25f606['currentTarget'],_0x11a196=_0x4713b0[_0x56eea3(0xaf8)][_0x56eea3(0x79d)],_0x51f4e3=currentQuizData['questions'][_0x11a196];if(!userId){showMessage(_0x56eea3(0x7da));return;}try{const _0x1b65af={..._0x51f4e3,'originalTopic':currentQuizData[_0x56eea3(0x613)],'savedAt':serverTimestamp()},_0x50eaa7=collection(db,'artifacts/'+appId+'/users/'+userId+_0x56eea3(0x90e));await addDoc(_0x50eaa7,_0x1b65af),showMessage(_0x56eea3(0x2ac)),_0x4713b0[_0x56eea3(0x246)][_0x56eea3(0x142)](_0x56eea3(0x38c)),_0x4713b0[_0x56eea3(0x246)][_0x56eea3(0x329)](_0x56eea3(0xa18)),_0x4713b0[_0x56eea3(0x514)]=!![];}catch(_0x46dd99){console['error'](_0x56eea3(0xb35),_0x46dd99),showMessage(_0x56eea3(0x1d6));}}async function selectProjectAndGenerateBlueprintQuiz(_0xd91821,_0x163671=null,_0x26e9ef=null,_0x4393a9=![]){const _0xd24aaf=_0x45baa4;cameFromBlueprint=!![];const _0x4e5c8e=document[_0xd24aaf(0xc7b)](_0xd24aaf(0xa05))?.[_0xd24aaf(0xab9)]['trim']();let _0x2d7608=null;if(_0x4e5c8e){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0x313982=await fetchFileFromUrl(_0x4e5c8e,_0xd24aaf(0x507)),_0x14afef=await new Promise((_0x160998,_0x18e721)=>{const _0x171997=_0xd24aaf,_0x2c5b5e=new FileReader();_0x2c5b5e[_0x171997(0xbef)](_0x313982),_0x2c5b5e['onload']=()=>_0x160998(_0x2c5b5e[_0x171997(0x370)][_0x171997(0x392)](',')[0x1]),_0x2c5b5e['onerror']=_0x18e721;});_0x2d7608=[{'inlineData':{'mimeType':_0x313982[_0xd24aaf(0x6ad)],'data':_0x14afef}}],messageModal[_0xd24aaf(0x246)][_0xd24aaf(0x329)](_0xd24aaf(0x35d));}catch(_0x41bf25){console[_0xd24aaf(0xab1)](_0xd24aaf(0xad9),_0x41bf25),showMessage(_0xd24aaf(0x26b));}}const _0xc9f9c8=document['getElementById']('move-quiz-modal'),_0x187b14=document['getElementById'](_0xd24aaf(0x930)),_0x271b0b=_0xc9f9c8['querySelector']('h3'),_0xd85835=document['getElementById']('confirm-move-quiz-btn'),_0x248781=document[_0xd24aaf(0xc7b)]('cancel-move-quiz-btn');_0x271b0b[_0xd24aaf(0x448)]=_0xd24aaf(0xa4f),_0xd85835[_0xd24aaf(0x448)]=_0xd24aaf(0x637),_0xd85835['disabled']=!![];allProjects['length']===0x0?_0x187b14[_0xd24aaf(0x9be)]=_0xd24aaf(0x25e):(_0x187b14[_0xd24aaf(0x9be)]=_0xd24aaf(0x7d5)+allProjects['map'](_0x3f3e39=>_0xd24aaf(0x490)+_0x3f3e39['id']+'\x22>'+_0x3f3e39[_0xd24aaf(0x39b)]+_0xd24aaf(0xaff))[_0xd24aaf(0x7a0)](''),_0xd85835['disabled']=![]);_0xc9f9c8[_0xd24aaf(0x246)]['remove'](_0xd24aaf(0x35d));const _0x3012b6=async()=>{const _0x436479=_0xd24aaf,_0x523970=_0x187b14[_0x436479(0xab9)];if(!_0x523970){showMessage(_0x436479(0xb0d));return;}_0xc9f9c8['classList'][_0x436479(0x329)](_0x436479(0x35d)),document['getElementById'](_0x436479(0x424))['classList'][_0x436479(0x329)](_0x436479(0x35d)),await loadProjectDetails(_0x523970),showView(_0x436479(0x848)),handleGenerateQuizFromBlueprintTopic(_0xd91821,_0x163671,_0x523970,_0x26e9ef,_0x4393a9,_0x2d7608),_0x829396();},_0x829396=()=>{const _0x5d4fce=_0xd24aaf;_0x271b0b[_0x5d4fce(0x448)]=_0x5d4fce(0x53d),_0xd85835[_0x5d4fce(0x448)]=_0x5d4fce(0x31e),_0xd85835[_0x5d4fce(0xc0e)](_0x5d4fce(0xb10),_0x3012b6),_0x248781[_0x5d4fce(0xc0e)](_0x5d4fce(0xb10),_0x829396),_0xd85835[_0x5d4fce(0x21f)](_0x5d4fce(0xb10),confirmMoveQuiz);};_0xd85835[_0xd24aaf(0xc0e)](_0xd24aaf(0xb10),confirmMoveQuiz),_0xd85835['addEventListener']('click',_0x3012b6),_0x248781[_0xd24aaf(0x21f)](_0xd24aaf(0xb10),_0x829396);}function listenForStarredQuizzes(){const _0x1cbc6a=_0x45baa4;if(!userId)return;const _0x4514fe=collection(db,_0x1cbc6a(0xb73)+appId+_0x1cbc6a(0xca0)),_0x33ca79=query(_0x4514fe,where('isStarred','==',!![]));onSnapshot(_0x33ca79,_0x3c609b=>{const _0x594a41=_0x1cbc6a;starredQuizzes=_0x3c609b[_0x594a41(0xb39)][_0x594a41(0x327)](_0x48532a=>({'id':_0x48532a['id'],..._0x48532a[_0x594a41(0x4da)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x246ef6=>{const _0x520169=_0x1cbc6a;console[_0x520169(0xab1)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x246ef6);});}function listenForFileShortcuts(){const _0xda7d25=doc(db,'globalSettings','fileShortcutsConfig');onSnapshot(_0xda7d25,_0x5bb1cc=>{const _0x4a2583=_0x2960;let _0xc709e0=[],_0x24fa38=[],_0x5de2c7={};if(_0x5bb1cc[_0x4a2583(0xb1f)]()){const _0x1e4890=_0x5bb1cc[_0x4a2583(0x4da)]();_0xc709e0=_0x1e4890[_0x4a2583(0xce3)]||[],_0x24fa38=_0x1e4890[_0x4a2583(0x859)]||[],_0x5de2c7=_0x1e4890[_0x4a2583(0x338)]||{};}!_0x24fa38['find'](_0x4d132a=>_0x4d132a['id']===_0x4a2583(0xd4e))&&_0x24fa38['unshift']({'id':'all','name':_0x4a2583(0xc51),'isDefault':!![]}),!_0xc709e0['find'](_0x24f935=>_0x24f935['id']===_0x4a2583(0x563))&&_0xc709e0[_0x4a2583(0x4a2)]({'id':_0x4a2583(0x563),'name':_0x4a2583(0x13f),'url':'','isDefault':!![]}),!_0xc709e0[_0x4a2583(0x5f4)](_0x4b2dc5=>_0x4b2dc5['id']===_0x4a2583(0x3c9))&&_0xc709e0[_0x4a2583(0x4a2)]({'id':_0x4a2583(0x3c9),'name':_0x4a2583(0x6ed),'url':'','isDefault':!![]}),fileShortcuts=_0xc709e0,fileShortcutTabs=_0x24fa38,fileShortcutOrder=_0x5de2c7,renderFileShortcuts(),!document[_0x4a2583(0xc7b)](_0x4a2583(0xad8))[_0x4a2583(0x246)][_0x4a2583(0x543)](_0x4a2583(0x35d))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x200f82=_0x45baa4,_0x374ad7=doc(db,_0x200f82(0xc9d),_0x200f82(0x69e));try{await setDoc(_0x374ad7,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x15b6ce){console[_0x200f82(0xab1)](_0x200f82(0xca2),_0x15b6ce);}}function renderAdditionalFileShortcutsModal(){const _0x474005=_0x45baa4,_0x250a21=document[_0x474005(0xc7b)]('file-shortcut-tabs-nav'),_0x44ae8d=document[_0x474005(0xc7b)](_0x474005(0x1c9));if(!_0x250a21||!_0x44ae8d)return;_0x250a21[_0x474005(0x9be)]=fileShortcutTabs[_0x474005(0x327)](_0xec83a8=>{const _0x4913a5=_0x474005,_0x41ca1b=_0xec83a8['id']===activeFileShortcutTabId;return _0x4913a5(0x54c)+_0xec83a8['id']+_0x4913a5(0x555)+(_0x41ca1b?_0x4913a5(0xae2):_0x4913a5(0xaa5))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0xec83a8[_0x4913a5(0xb4c)]+_0x4913a5(0x62b)+_0xec83a8['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xec83a8[_0x4913a5(0x97a)]?_0x4913a5(0x7ed)+_0xec83a8['id']+_0x4913a5(0x8d2):'')+_0x4913a5(0x4ff);})[_0x474005(0x7a0)]('');const _0x28b1cd=fileShortcutTabs[_0x474005(0x5f4)](_0x53ee9a=>_0x53ee9a['id']===activeFileShortcutTabId);let _0x3dee3b=_0x28b1cd?.[_0x474005(0x97a)]?[...fileShortcuts]:fileShortcuts[_0x474005(0x6d0)](_0x4bd16b=>(_0x28b1cd?.[_0x474005(0xcaa)]||[])['includes'](_0x4bd16b['id']));const _0x2aacbf=fileShortcutOrder[activeFileShortcutTabId]||[];_0x3dee3b['sort']((_0x3db220,_0x6a151c)=>{const _0x37776e=_0x474005,_0x2320c6=_0x2aacbf['indexOf'](_0x3db220['id']),_0x228790=_0x2aacbf[_0x37776e(0x762)](_0x6a151c['id']);return(_0x2320c6===-0x1?Infinity:_0x2320c6)-(_0x228790===-0x1?Infinity:_0x228790);}),_0x44ae8d[_0x474005(0x9be)]=_0x3dee3b[_0x474005(0x327)](_0x5f2517=>{const _0x3a7316=_0x474005,_0x4f69c7=_0x5f2517['url']?'📄':'🔗',_0x55f5c4=fileShortcutTabs[_0x3a7316(0x6d0)](_0x35dd2b=>!_0x35dd2b[_0x3a7316(0x97a)]),_0xf7cff8=_0x28b1cd[_0x3a7316(0x97a)]&&_0x55f5c4[_0x3a7316(0xa33)]>0x0?_0x3a7316(0x511)+_0x55f5c4[_0x3a7316(0x327)](_0x2a02da=>'<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x5f2517['id']+_0x3a7316(0x886)+_0x2a02da['id']+'\x22>'+_0x2a02da[_0x3a7316(0xb4c)]+_0x3a7316(0x6b4))[_0x3a7316(0x7a0)]('')+_0x3a7316(0x413):'';return _0x3a7316(0x1ac)+_0x5f2517['id']+_0x3a7316(0x5b2)+_0x4f69c7+'\x20'+_0x5f2517[_0x3a7316(0xb4c)]+_0x3a7316(0x552)+_0x5f2517['id']+_0x3a7316(0xc61)+_0x5f2517['id']+_0x3a7316(0x1ef)+(!_0x5f2517[_0x3a7316(0x97a)]?_0x3a7316(0x75f)+_0x5f2517['id']+_0x3a7316(0x3c7):'')+_0x3a7316(0x1de)+(!_0x28b1cd[_0x3a7316(0x97a)]?_0x3a7316(0x2d2)+_0x5f2517['id']+_0x3a7316(0x5dd):'')+_0x3a7316(0x1de)+_0xf7cff8+_0x3a7316(0xc4a);})[_0x474005(0x7a0)]('')||_0x474005(0x71b),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x3a6e4f=_0x45baa4;document[_0x3a6e4f(0x336)](_0x3a6e4f(0xa78))[_0x3a6e4f(0x808)](_0x37bf67=>{const _0x304a7a=_0x3a6e4f;_0x37bf67[_0x304a7a(0x2e6)]=_0x14b43e=>{const _0x4f8bb8=_0x304a7a;activeFileShortcutTabId=_0x14b43e[_0x4f8bb8(0x827)][_0x4f8bb8(0xaf8)][_0x4f8bb8(0x9f4)],renderAdditionalFileShortcutsModal();},_0x37bf67[_0x304a7a(0x546)]=_0x38e0b0=>{const _0xce3a5d=_0x304a7a,_0x184164=_0x38e0b0[_0xce3a5d(0x827)][_0xce3a5d(0x452)](_0xce3a5d(0x5e1));_0x38e0b0['currentTarget']['querySelector']('.tab-name-display')['classList'][_0xce3a5d(0x329)](_0xce3a5d(0x35d)),_0x184164[_0xce3a5d(0x246)][_0xce3a5d(0x142)]('hidden'),_0x184164[_0xce3a5d(0x283)](),_0x184164[_0xce3a5d(0xa39)]();};}),document[_0x3a6e4f(0x336)](_0x3a6e4f(0x87a))['forEach'](_0xdb9376=>{const _0x8ed090=_0x3a6e4f,_0x95833d=()=>{const _0xfa2ef1=_0x2960,_0x1850f1=_0xdb9376[_0xfa2ef1(0x2ec)](_0xfa2ef1(0xa78))['dataset'][_0xfa2ef1(0x9f4)],_0x1ef963=fileShortcutTabs[_0xfa2ef1(0x5f4)](_0x4a1b58=>_0x4a1b58['id']===_0x1850f1);_0x1ef963&&(_0x1ef963[_0xfa2ef1(0xb4c)]=_0xdb9376['value'][_0xfa2ef1(0x958)]()||_0x1ef963[_0xfa2ef1(0xb4c)],saveFileShortcutConfig());};_0xdb9376[_0x8ed090(0xa7e)]=_0x95833d,_0xdb9376[_0x8ed090(0x6bc)]=_0x47b493=>{const _0x2c373c=_0x8ed090;if(_0x47b493['key']===_0x2c373c(0xabd))_0xdb9376['blur']();};}),document[_0x3a6e4f(0x336)]('.delete-file-shortcut-tab-btn')[_0x3a6e4f(0x808)](_0x47369d=>_0x47369d['onclick']=_0x4d19e6=>{const _0x5d85a6=_0x3a6e4f,_0x49188=_0x4d19e6[_0x5d85a6(0x827)][_0x5d85a6(0xaf8)][_0x5d85a6(0x9f4)];showConfirmation(_0x5d85a6(0x810),()=>{const _0x15c5c7=_0x5d85a6;fileShortcutTabs=fileShortcutTabs[_0x15c5c7(0x6d0)](_0x406a2e=>_0x406a2e['id']!==_0x49188),delete fileShortcutOrder[_0x49188];if(activeFileShortcutTabId===_0x49188)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document['querySelectorAll']('.move-file-shortcut-item')[_0x3a6e4f(0x808)](_0xc3f7dc=>_0xc3f7dc[_0x3a6e4f(0x2e6)]=_0x60e41b=>{const _0x1f02e8=_0x3a6e4f;_0x60e41b[_0x1f02e8(0xcd0)]();const {shortcutId:_0x421020,targetTabId:_0x50682c}=_0x60e41b['currentTarget'][_0x1f02e8(0xaf8)],_0x5605d6=fileShortcutTabs[_0x1f02e8(0x5f4)](_0x3d2f9e=>_0x3d2f9e['id']===_0x50682c);_0x5605d6&&!_0x5605d6[_0x1f02e8(0xcaa)][_0x1f02e8(0xc04)](_0x421020)&&(_0x5605d6['shortcutIds'][_0x1f02e8(0xd01)](_0x421020),saveFileShortcutConfig());}),document[_0x3a6e4f(0x336)](_0x3a6e4f(0xb28))[_0x3a6e4f(0x808)](_0x1acf0f=>_0x1acf0f['onclick']=_0x1d233a=>{const _0x2eb9ee=_0x3a6e4f,_0x272d47=_0x1d233a['currentTarget'][_0x2eb9ee(0xaf8)][_0x2eb9ee(0xce6)],_0xd700a6=fileShortcutTabs[_0x2eb9ee(0x5f4)](_0x23e859=>_0x23e859['id']===activeFileShortcutTabId);_0xd700a6&&!_0xd700a6[_0x2eb9ee(0x97a)]&&(_0xd700a6[_0x2eb9ee(0xcaa)]=_0xd700a6['shortcutIds'][_0x2eb9ee(0x6d0)](_0x3031a4=>_0x3031a4!==_0x272d47),saveFileShortcutConfig());}),document[_0x3a6e4f(0x336)](_0x3a6e4f(0xbc2))[_0x3a6e4f(0x808)](_0x41638d=>_0x41638d[_0x3a6e4f(0x2e6)]=_0x21d095=>{const _0x43098f=_0x3a6e4f;_0x21d095['stopPropagation']();const _0x453ba7=_0x21d095['currentTarget']['nextElementSibling'];document[_0x43098f(0x336)](_0x43098f(0x661))['forEach'](_0x5652c1=>_0x5652c1['classList'][_0x43098f(0x329)](_0x43098f(0x35d))),_0x453ba7['classList'][_0x43098f(0x142)](_0x43098f(0x35d));});const _0xe2442d=document[_0x3a6e4f(0xc7b)](_0x3a6e4f(0x1c9));let _0x3c9525=null;_0xe2442d[_0x3a6e4f(0x250)]=_0x4e8528=>{const _0xb25c5f=_0x3a6e4f;_0x3c9525=_0x4e8528[_0xb25c5f(0x796)][_0xb25c5f(0x2ec)](_0xb25c5f(0x3b6));if(_0x3c9525)setTimeout(()=>_0x3c9525['classList']['add'](_0xb25c5f(0x987)),0x0);},_0xe2442d[_0x3a6e4f(0xa79)]=()=>{const _0x17b959=_0x3a6e4f;_0x3c9525&&(_0x3c9525[_0x17b959(0x246)][_0x17b959(0x142)](_0x17b959(0x987)),_0x3c9525=null);},_0xe2442d[_0x3a6e4f(0x90b)]=_0x3ccf5c=>{const _0xc8bf8d=_0x3a6e4f;_0x3ccf5c[_0xc8bf8d(0xcd0)]();},_0xe2442d[_0x3a6e4f(0x60a)]=_0x2c3fdd=>{const _0x297121=_0x3a6e4f;_0x2c3fdd['preventDefault']();if(_0x3c9525){const _0x749e46=[..._0xe2442d[_0x297121(0x336)]('.shortcut-list-item:not(.opacity-50)')][_0x297121(0x9ac)]((_0x5f5582,_0x24ded4)=>{const _0x1930d0=_0x297121,_0x5a01f9=_0x24ded4['getBoundingClientRect'](),_0x3ad6d7=_0x2c3fdd[_0x1930d0(0x50d)]-_0x5a01f9[_0x1930d0(0x994)]-_0x5a01f9[_0x1930d0(0x2dd)]/0x2;return _0x3ad6d7<0x0&&_0x3ad6d7>_0x5f5582[_0x1930d0(0x54e)]?{'offset':_0x3ad6d7,'element':_0x24ded4}:_0x5f5582;},{'offset':Number[_0x297121(0x429)]})[_0x297121(0xb97)];_0x749e46==null?_0xe2442d[_0x297121(0xcd3)](_0x3c9525):_0xe2442d[_0x297121(0x1f7)](_0x3c9525,_0x749e46);const _0x2524c5=[..._0xe2442d[_0x297121(0x336)](_0x297121(0x3b6))][_0x297121(0x327)](_0xeaae03=>_0xeaae03[_0x297121(0xaf8)][_0x297121(0xce6)]);fileShortcutOrder[activeFileShortcutTabId]=_0x2524c5,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x2b9bae=_0x45baa4,_0xf41822=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0xf41822&&_0xf41822['trim']()&&(fileShortcutTabs[_0x2b9bae(0xd01)]({'id':_0x2b9bae(0x479)+Date[_0x2b9bae(0xcb8)](),'name':_0xf41822[_0x2b9bae(0x958)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x268efd=_0x45baa4,_0x50ff9b=document[_0x268efd(0xc7b)]('file-shortcut-container'),_0xe7f126=document[_0x268efd(0xc7b)](_0x268efd(0x1c9)),_0x2f7f8a=document[_0x268efd(0xc7b)]('file-shortcuts-loading-msg');if(_0x2f7f8a)_0x2f7f8a['classList'][_0x268efd(0x329)](_0x268efd(0x35d));if(!_0x50ff9b||!_0xe7f126)return;const _0x33a85e=fileShortcuts[_0x268efd(0x5d9)](0x0,0x4),_0x1bcdec=fileShortcuts[_0x268efd(0x5d9)](0x4);_0x50ff9b['innerHTML']=_0x33a85e[_0x268efd(0x327)](_0x58faa6=>{const _0x301d75=_0x268efd,_0x43fe69=_0x58faa6[_0x301d75(0x991)]&&_0x58faa6[_0x301d75(0x991)]['trim']()!=='',_0x1c9050=selectedFile&&selectedFile['shortcutId']===_0x58faa6['id'];let _0x2bee7c=_0x301d75(0x8f1),_0x5b00b9='🔗';if(_0x1c9050)_0x2bee7c=_0x301d75(0x6dd),_0x5b00b9=_0x301d75(0x40c);else _0x43fe69&&(_0x2bee7c=_0x301d75(0x4c0),_0x5b00b9='📄');const _0x433524=!_0x58faa6[_0x301d75(0x97a)]?_0x301d75(0x75f)+_0x58faa6['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x301d75(0x240)+_0x58faa6['id']+_0x301d75(0x5ca)+_0x2bee7c+_0x301d75(0x1fd)+_0x5b00b9+_0x301d75(0x163)+_0x58faa6[_0x301d75(0xb4c)]+_0x301d75(0xd49)+_0x58faa6['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x433524+_0x301d75(0xc3d);})['join'](''),_0x1bcdec[_0x268efd(0xa33)]>0x0&&(_0x50ff9b[_0x268efd(0x9be)]+=_0x268efd(0x9cd)),_0x1bcdec[_0x268efd(0xa33)]>0x0?_0xe7f126[_0x268efd(0x9be)]=_0x1bcdec[_0x268efd(0x327)](_0x3c7846=>_0x268efd(0xb6f)+(_0x3c7846[_0x268efd(0x991)]?'📄':'🔗')+'\x20'+_0x3c7846[_0x268efd(0xb4c)]+_0x268efd(0xc3b)+_0x3c7846['id']+_0x268efd(0xc9a)+_0x3c7846['id']+_0x268efd(0x5fc)+(!_0x3c7846['isDefault']?_0x268efd(0x75f)+_0x3c7846['id']+_0x268efd(0x3c7):'')+_0x268efd(0x89b))['join'](''):_0xe7f126['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x433c25=null){const _0x51076f=_0x45baa4,_0x413d12=document[_0x51076f(0xc7b)](_0x51076f(0xccb)),_0x24e92c=document['getElementById'](_0x51076f(0xc30)),_0x43a639=document[_0x51076f(0xc7b)](_0x51076f(0xa90)),_0x36baaf=document[_0x51076f(0xc7b)](_0x51076f(0x8f4)),_0x3ad3d5=document[_0x51076f(0xc7b)](_0x51076f(0xa59));if(_0x433c25){const _0x251b9a=fileShortcuts[_0x51076f(0x5f4)](_0x2b9a58=>_0x2b9a58['id']===_0x433c25);if(!_0x251b9a)return;_0x24e92c[_0x51076f(0x448)]='แก้ไขปุ่มลัดจากไฟล์',_0x43a639['value']=_0x251b9a['id'],_0x36baaf[_0x51076f(0xab9)]=_0x251b9a[_0x51076f(0xb4c)],_0x3ad3d5[_0x51076f(0xab9)]=_0x251b9a[_0x51076f(0x991)]||'';}else _0x24e92c[_0x51076f(0x448)]='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0x43a639[_0x51076f(0xab9)]='',_0x36baaf[_0x51076f(0xab9)]='',_0x3ad3d5[_0x51076f(0xab9)]='';_0x413d12[_0x51076f(0x246)][_0x51076f(0x142)](_0x51076f(0x35d));}async function saveFileShortcutChanges(){const _0x28fadf=_0x45baa4,_0xdb2dd8=document['getElementById'](_0x28fadf(0xa90))[_0x28fadf(0xab9)],_0x1e7cbb=document['getElementById']('file-shortcut-name-input')[_0x28fadf(0xab9)][_0x28fadf(0x958)](),_0x9294=document[_0x28fadf(0xc7b)](_0x28fadf(0xa59))[_0x28fadf(0xab9)][_0x28fadf(0x958)]();if(!_0x1e7cbb){showMessage(_0x28fadf(0x54b));return;}const _0x378294={'id':_0xdb2dd8||_0x28fadf(0x2eb)+Date[_0x28fadf(0xcb8)](),'name':_0x1e7cbb,'url':_0x9294,'isDefault':_0xdb2dd8[_0x28fadf(0xc3a)]('file-default-')};let _0x4997b7;_0xdb2dd8?_0x4997b7=fileShortcuts[_0x28fadf(0x327)](_0x58a058=>_0x58a058['id']===_0xdb2dd8?_0x378294:_0x58a058):_0x4997b7=[...fileShortcuts,_0x378294];try{const _0x597cd1=doc(db,_0x28fadf(0xc9d),'fileShortcutsConfig');await setDoc(_0x597cd1,{'shortcuts':_0x4997b7},{'merge':!![]}),document['getElementById'](_0x28fadf(0xccb))[_0x28fadf(0x246)][_0x28fadf(0x329)](_0x28fadf(0x35d));}catch(_0x8a31c9){console['error'](_0x28fadf(0xd3d),_0x8a31c9),showMessage(_0x28fadf(0x1d6));}}async function handleFileShortcutClick(_0x4abe5b){const _0x272895=_0x45baa4,_0x38751c=fileShortcuts[_0x272895(0x5f4)](_0x5d228c=>_0x5d228c['id']===_0x4abe5b);if(!_0x38751c)return;if(!_0x38751c[_0x272895(0x991)]||_0x38751c[_0x272895(0x991)][_0x272895(0x958)]()===''){openFileShortcutEditor(_0x4abe5b);return;}const _0x404ee5=document[_0x272895(0x452)](_0x272895(0x357)+_0x4abe5b+'\x22]');if(_0x404ee5){const _0x46a564=_0x404ee5[_0x272895(0x9be)];_0x404ee5['innerHTML']=_0x272895(0x271),_0x404ee5[_0x272895(0x514)]=!![];}document['querySelectorAll'](_0x272895(0x248))[_0x272895(0x808)](_0x30f41e=>{const _0x43f204=_0x272895;if(_0x30f41e['dataset']['id']!==_0x4abe5b)_0x30f41e[_0x43f204(0x246)][_0x43f204(0x329)]('opacity-50',_0x43f204(0xbf9));});try{const _0x54e0a4=new URL(_0x38751c['url'])[_0x272895(0x1f3)],_0x79b739=_0x54e0a4[_0x272895(0xa44)](_0x54e0a4['lastIndexOf']('/')+0x1)||(_0x38751c[_0x272895(0x991)][_0x272895(0xc04)](_0x272895(0x4db))?_0x272895(0x95f):_0x272895(0xa30)),_0x1dcbe1=await fetchFileFromUrl(_0x38751c[_0x272895(0x991)],_0x79b739);_0x1dcbe1['shortcutId']=_0x4abe5b,selectedFile=_0x1dcbe1,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x272895(0xc7b)](_0x272895(0x900))['scrollIntoView']({'behavior':_0x272895(0x2d9),'block':_0x272895(0x2c6)});}catch(_0x43ac77){console[_0x272895(0xab1)](_0x272895(0x434),_0x43ac77),showMessage(_0x272895(0x955)+_0x43ac77[_0x272895(0x776)]),renderFileShortcuts();}finally{document[_0x272895(0x336)](_0x272895(0x248))['forEach'](_0x5359de=>{const _0x3d1b43=_0x272895;_0x5359de[_0x3d1b43(0x246)]['remove'](_0x3d1b43(0x987),_0x3d1b43(0xbf9)),_0x5359de[_0x3d1b43(0x514)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2448c7=_0x45baa4;if(allQuizzesGlobal[_0x2448c7(0xa33)]>0x0)return;console[_0x2448c7(0x161)](_0x2448c7(0x31b)),showMessage(_0x2448c7(0xc0a));try{const _0x5f04b5=await getDocs(collection(db,'artifacts/'+appId+_0x2448c7(0xca0)));allQuizzesGlobal=_0x5f04b5[_0x2448c7(0xb39)][_0x2448c7(0x327)](_0x4c99ac=>({'id':_0x4c99ac['id'],..._0x4c99ac['data']()})),console[_0x2448c7(0x161)]('Loaded\x20'+allQuizzesGlobal['length']+_0x2448c7(0x4ee)),messageModal[_0x2448c7(0x246)][_0x2448c7(0x329)](_0x2448c7(0x35d));}catch(_0x2af2ec){console['error']('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x2af2ec),messageModal[_0x2448c7(0x246)][_0x2448c7(0x329)]('hidden');throw new Error(_0x2448c7(0x3fd));}}function exportQuizAsWorksheetPDF(){const _0x2dc27b=_0x45baa4;if(!currentQuizData||!currentQuizData[_0x2dc27b(0x92e)]){showMessage(_0x2dc27b(0xac0));return;}const _0x1ab46f=currentQuizData,_0x40788f=window[_0x2dc27b(0x4b7)]('',_0x2dc27b(0xabe)),_0x339223=_0x4025a1=>String[_0x2dc27b(0xa56)](0x41+_0x4025a1),_0x53c323='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x1ab46f[_0x2dc27b(0x613)]+_0x2dc27b(0xacc)+_0x1ab46f[_0x2dc27b(0x613)]+_0x2dc27b(0xa81)+_0x1ab46f[_0x2dc27b(0x92e)][_0x2dc27b(0x327)]((_0x31e5a5,_0x20c7e8)=>{const _0x3fcae6=_0x2dc27b;let _0x1e15cf='';const _0x4ffffc=_0x31e5a5[_0x3fcae6(0x34f)]||_0x1ab46f[_0x3fcae6(0x9f7)];switch(_0x4ffffc){case _0x3fcae6(0x35a):case _0x3fcae6(0x8e8):_0x1e15cf='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x31e5a5[_0x3fcae6(0x929)][_0x3fcae6(0x327)]((_0x2d4d03,_0x1a59dd)=>_0x3fcae6(0x704)+_0x339223(_0x1a59dd)+'.\x20'+_0x2d4d03+_0x3fcae6(0x538))[_0x3fcae6(0x7a0)]('<br>')+_0x3fcae6(0x418);break;case'true_false':_0x1e15cf=_0x3fcae6(0x943);break;default:_0x1e15cf=_0x3fcae6(0x5db);break;}return _0x3fcae6(0xc4c)+(_0x20c7e8+0x1)+_0x3fcae6(0x881)+(_0x31e5a5['stem']||_0x31e5a5[_0x3fcae6(0x24b)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x31e5a5[_0x3fcae6(0x76d)]?'<div\x20class=\x22my-2\x22>'+_0x31e5a5[_0x3fcae6(0x76d)]+'</div>':'')+_0x3fcae6(0x653)+_0x1e15cf+_0x3fcae6(0x71f);})[_0x2dc27b(0x7a0)]('')+_0x2dc27b(0x85a);_0x40788f[_0x2dc27b(0x439)][_0x2dc27b(0xc97)](_0x53c323),_0x40788f['document'][_0x2dc27b(0xb01)](),_0x40788f['onload']=function(){setTimeout(()=>{const _0x440a75=_0x2960;_0x40788f[_0x440a75(0x99e)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x347e55=_0x45baa4;if(!currentQuizData||!currentQuizData[_0x347e55(0x92e)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x23a63b=currentQuizData,_0x3306f6=window[_0x347e55(0x4b7)]('',_0x347e55(0xabe)),_0x2fb39a=_0x408455=>String[_0x347e55(0xa56)](0x41+_0x408455),_0x7212a6=_0x347e55(0x608)+_0x23a63b[_0x347e55(0x613)]+_0x347e55(0x48a)+_0x23a63b[_0x347e55(0x92e)][_0x347e55(0x327)]((_0x2c58c4,_0x58150a)=>{const _0x3aae88=_0x347e55;let _0x228593='';const _0x365d73=_0x2c58c4['questionType']||_0x23a63b[_0x3aae88(0x9f7)];switch(_0x365d73){case _0x3aae88(0x35a):case _0x3aae88(0x8e8):_0x228593=_0x3aae88(0xc4d)+_0x2c58c4['options']['map']((_0x3773f7,_0xc025fd)=>_0x3aae88(0x3cd)+_0x2fb39a(_0xc025fd)+'.\x20'+_0x3773f7+_0x3aae88(0xa1a))['join'](_0x3aae88(0x93d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x228593=_0x3aae88(0x918);break;default:_0x228593='';break;}return _0x3aae88(0x2e8)+_0x23a63b[_0x3aae88(0x613)]+_0x3aae88(0x341)+(_0x58150a+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x2c58c4[_0x3aae88(0x6ea)]||_0x2c58c4[_0x3aae88(0x24b)])+_0x3aae88(0x456)+(_0x2c58c4[_0x3aae88(0x76d)]?_0x3aae88(0xb0b)+_0x2c58c4[_0x3aae88(0x76d)]+'</div>':'')+_0x3aae88(0x653)+_0x228593+_0x3aae88(0x9a7);})[_0x347e55(0x7a0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3306f6[_0x347e55(0x439)][_0x347e55(0xc97)](_0x7212a6),_0x3306f6[_0x347e55(0x439)]['close'](),_0x3306f6[_0x347e55(0x33a)]=function(){setTimeout(()=>{_0x3306f6['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x1de6f5){const _0xacab4b=_0x45baa4,_0x134f5e=doc(db,'artifacts/'+appId+_0xacab4b(0xca0),_0x1de6f5);try{const _0x1d0eec=await getDoc(_0x134f5e);if(_0x1d0eec[_0xacab4b(0xb1f)]()){const _0x53ea0a=_0x1d0eec[_0xacab4b(0x4da)]()[_0xacab4b(0x738)]||![];await updateDoc(_0x134f5e,{'isStarred':!_0x53ea0a});}}catch(_0x5b583e){console[_0xacab4b(0xab1)]('Error\x20toggling\x20star\x20status:',_0x5b583e),showMessage(_0xacab4b(0x2ef));}}async function displayQuestionBank(){const _0x386afc=_0x45baa4,_0x48ece2=document['getElementById']('bank-input-area');_0x48ece2[_0x386afc(0x9be)]=_0x386afc(0xd4b);try{const _0x2d971f=collection(db,'artifacts/'+appId+'/users/'+userId+'/questionBank'),_0x38b52a=query(_0x2d971f),_0xe47c9c=await getDocs(_0x38b52a);if(_0xe47c9c['empty']){_0x48ece2[_0x386afc(0x9be)]=_0x386afc(0x732);return;}let _0x1d4795=_0xe47c9c['docs']['map'](_0x430998=>{const _0xddf5d8=_0x386afc,_0x4323fb=_0x430998['data'](),_0x98768=_0x430998['id'];return _0xddf5d8(0x17f)+JSON[_0xddf5d8(0x4cb)](_0x4323fb)+_0xddf5d8(0x6e7)+(_0x4323fb[_0xddf5d8(0x24b)]||_0x4323fb['stem'])+_0xddf5d8(0x91a)+_0x4323fb[_0xddf5d8(0xa6a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x386afc(0x7a0)]('');_0x48ece2['innerHTML']=_0x386afc(0x9c2)+_0x1d4795+_0x386afc(0x466),document[_0x386afc(0xc7b)]('create-from-bank-btn')[_0x386afc(0x21f)](_0x386afc(0xb10),createQuizFromBank);}catch(_0x4b2a8e){console['error'](_0x386afc(0x71e),_0x4b2a8e),_0x48ece2[_0x386afc(0x9be)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x63e1b=_0x45baa4,_0x1581c1=document['getElementById'](_0x63e1b(0x37d)),_0x271369=document[_0x63e1b(0xc7b)]('lesson-view-title')[_0x63e1b(0x448)]||_0x63e1b(0x5e3);if(!_0x1581c1){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0xbd797a=window[_0x63e1b(0x4b7)]('','_blank'),_0x483ffe=_0x63e1b(0x2d5)+_0x271369+_0x63e1b(0xc87)+_0x271369+_0x63e1b(0x347)+_0x1581c1[_0x63e1b(0x9be)]+_0x63e1b(0x85a);_0xbd797a['document'][_0x63e1b(0xc97)](_0x483ffe),_0xbd797a[_0x63e1b(0x439)]['close'](),_0xbd797a[_0x63e1b(0x33a)]=function(){setTimeout(()=>{const _0x22037=_0x2960;_0xbd797a[_0x22037(0x99e)]();},0x7d0);};}function showAdminLiveQuestionView(_0x37c844,_0x4a9344,_0x5cb7f5){const _0x1139c5=_0x45baa4,_0x59a362=_0x37c844[_0x1139c5(0x34f)]||currentQuizData[_0x1139c5(0x9f7)];let _0x2e7093='';if(_0x59a362===_0x1139c5(0x35a)||_0x59a362===_0x1139c5(0x3f8)){const _0x4876f2=_0x59a362==='true_false'?['ใช่',_0x1139c5(0xadd)]:_0x37c844[_0x1139c5(0x929)],_0x216795=_0x59a362===_0x1139c5(0x3f8)?_0x37c844[_0x1139c5(0x4cc)]?0x0:0x1:_0x37c844['correctAnswerIndex'];_0x2e7093=_0x4876f2[_0x1139c5(0x327)]((_0x5b70a5,_0xe7f2e0)=>_0x1139c5(0x6bd)+(_0xe7f2e0===_0x216795)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b70a5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1139c5(0x7a0)]('');}else{if(_0x59a362===_0x1139c5(0xafa)){const _0xe87839=_0x37c844['allResponses']||[];_0x2e7093=_0xe87839[_0x1139c5(0x327)](_0xc9e53d=>_0x1139c5(0x6bd)+(_0xc9e53d===_0x37c844['correctResponse'])+_0x1139c5(0xb30)+_0xc9e53d+_0x1139c5(0xc3d))[_0x1139c5(0x7a0)]('');}}const _0x4afab7=_0x37c844[_0x1139c5(0x6ea)]||_0x37c844[_0x1139c5(0x24b)],_0x2f3a89=_0x1139c5(0x1ea)+(_0x4a9344+0x1)+'\x20/\x20'+_0x5cb7f5+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x1139c5(0x777)+_0x4afab7+_0x1139c5(0x37e)+_0x2e7093+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x2f3a89,window[_0x1139c5(0x8a3)]&&MathJax[_0x1139c5(0x91c)]&&MathJax[_0x1139c5(0x91c)]([liveGameView]),document[_0x1139c5(0xc7b)]('reveal-answer-btn')[_0x1139c5(0x21f)](_0x1139c5(0xb10),()=>revealAnswerForAdmin(_0x4a9344,_0x5cb7f5)),document['getElementById'](_0x1139c5(0x80a))[_0x1139c5(0x21f)](_0x1139c5(0xb10),async()=>{const _0xd8f4a8=_0x1139c5;showConfirmation(_0xd8f4a8(0xc5b),async()=>{const _0x8b33a8=_0xd8f4a8,_0x16c162=doc(db,_0x8b33a8(0xb73)+appId+_0x8b33a8(0xd2b),currentLiveGameId);await updateDoc(_0x16c162,{'status':_0x8b33a8(0x951)});});}),document[_0x1139c5(0xc7b)](_0x1139c5(0xb16))[_0x1139c5(0x21f)](_0x1139c5(0xb10),()=>{const _0x277c95=_0x1139c5;document[_0x277c95(0xc7b)](_0x277c95(0x720))[_0x277c95(0x246)][_0x277c95(0x650)](_0x277c95(0x35d));});}function promptForProjectBeforeGenerating(_0x2160df){const _0x262e1a=_0x45baa4,_0x3d3c3f=document[_0x262e1a(0xc7b)](_0x262e1a(0xa02)),_0x30d904=document[_0x262e1a(0xc7b)]('move-quiz-project-select'),_0x1ad940=_0x3d3c3f['querySelector']('h3'),_0x1bcc0a=document['getElementById'](_0x262e1a(0xbcb)),_0x2cfa10=document['getElementById'](_0x262e1a(0x6fb));_0x1ad940[_0x262e1a(0x448)]=_0x262e1a(0xa4f),_0x1bcc0a['textContent']='เลือกและเริ่มสร้าง',_0x1bcc0a[_0x262e1a(0x514)]=!![];allProjects[_0x262e1a(0xa33)]===0x0?_0x30d904[_0x262e1a(0x9be)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x30d904[_0x262e1a(0x9be)]=_0x262e1a(0x7d5)+allProjects[_0x262e1a(0x327)](_0x4df71c=>_0x262e1a(0x490)+_0x4df71c['id']+'\x22>'+_0x4df71c[_0x262e1a(0x39b)]+_0x262e1a(0xaff))['join'](''),_0x1bcc0a[_0x262e1a(0x514)]=![]);_0x3d3c3f[_0x262e1a(0x246)][_0x262e1a(0x142)](_0x262e1a(0x35d));const _0x56ad39=async()=>{const _0x3fb502=_0x262e1a,_0x58eb3d=_0x30d904[_0x3fb502(0xab9)];if(!_0x58eb3d){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x3d3c3f['classList'][_0x3fb502(0x329)](_0x3fb502(0x35d)),await loadProjectDetails(_0x58eb3d),showView(_0x3fb502(0x848)),handleGenerateQuizFromBlueprintTopic(_0x2160df),_0x3b2188();},_0x3b2188=()=>{const _0x3015ff=_0x262e1a;_0x1ad940['textContent']=_0x3015ff(0x53d),_0x1bcc0a[_0x3015ff(0x448)]=_0x3015ff(0x31e),_0x1bcc0a[_0x3015ff(0xc0e)](_0x3015ff(0xb10),_0x56ad39),_0x2cfa10[_0x3015ff(0xc0e)](_0x3015ff(0xb10),_0x3b2188),_0x1bcc0a[_0x3015ff(0x21f)](_0x3015ff(0xb10),confirmMoveQuiz);};_0x1bcc0a[_0x262e1a(0xc0e)]('click',confirmMoveQuiz),_0x1bcc0a[_0x262e1a(0x21f)](_0x262e1a(0xb10),_0x56ad39),_0x2cfa10[_0x262e1a(0x21f)](_0x262e1a(0xb10),_0x3b2188);}function showStudentLiveQuestionView(_0x369471,_0x2c1246,_0x41b6f3){const _0x3f65a4=_0x45baa4,_0x3482d4=_0x369471[_0x3f65a4(0x34f)]||currentQuizData[_0x3f65a4(0x9f7)];let _0xb11477='';if(_0x3482d4==='multiple_choice'||_0x3482d4==='true_false'){const _0x3cf680=_0x3482d4===_0x3f65a4(0x3f8)?[_0x3f65a4(0xc72),_0x3f65a4(0xadd)]:_0x369471[_0x3f65a4(0x929)];_0xb11477=_0x3cf680['map']((_0x483cf6,_0x15b5f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x15b5f+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x483cf6+_0x3f65a4(0x8c2))[_0x3f65a4(0x7a0)]('');}else{if(_0x3482d4===_0x3f65a4(0xafa)){const _0x2f9afe=_0x369471[_0x3f65a4(0x416)]||[];_0xb11477=_0x2f9afe[_0x3f65a4(0x327)]((_0x146aca,_0x207204)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x207204+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x146aca+_0x3f65a4(0x8c2))[_0x3f65a4(0x7a0)]('');}else _0x3482d4===_0x3f65a4(0x19e)&&(_0xb11477=_0x3f65a4(0x5b3));}const _0x4851c7=_0x369471[_0x3f65a4(0x6ea)]||_0x369471['questionText'],_0x3d5be7=_0x3f65a4(0x454)+(_0x2c1246+0x1)+_0x3f65a4(0xc6c)+_0x41b6f3+_0x3f65a4(0x7eb)+_0x4851c7+_0x3f65a4(0x9bd)+_0xb11477+_0x3f65a4(0x7bd);liveGameView['innerHTML']=_0x3d5be7;window['MathJax']&&MathJax[_0x3f65a4(0x91c)]&&MathJax[_0x3f65a4(0x91c)]([liveGameView]);const _0x5318d5=document[_0x3f65a4(0xc7b)](_0x3f65a4(0x1b9));_0x5318d5&&_0x5318d5[_0x3f65a4(0x21f)](_0x3f65a4(0xb10),()=>{const _0x15852c=_0x3f65a4,_0x5843a3=document[_0x15852c(0xc7b)](_0x15852c(0xccd))[_0x15852c(0xab9)];handleLiveAnswer(_0x5843a3,_0x369471);}),document[_0x3f65a4(0xc7b)](_0x3f65a4(0x2af))[_0x3f65a4(0x21f)]('click',_0x51e7af=>{const _0x5d56e6=_0x3f65a4,_0x544252=_0x51e7af[_0x5d56e6(0x796)]['closest'](_0x5d56e6(0x853));if(_0x544252){const _0x51d933=parseInt(_0x544252['dataset'][_0x5d56e6(0x79d)]);handleLiveAnswer(_0x51d933,_0x369471);}});}function listenForBlueprintShortcuts(){const _0x18a049=_0x45baa4,_0x33b6ee=doc(db,_0x18a049(0xc9d),_0x18a049(0x44a));onSnapshot(_0x33b6ee,_0x589715=>{const _0x47e106=_0x18a049;let _0x22a9b6=[],_0x2fe13d=[],_0x348b77={};if(_0x589715[_0x47e106(0xb1f)]()){const _0x43ed52=_0x589715[_0x47e106(0x4da)]();_0x22a9b6=_0x43ed52[_0x47e106(0x39f)]||[],_0x2fe13d=_0x43ed52[_0x47e106(0xc6d)]||[],_0x348b77=_0x43ed52[_0x47e106(0xab6)]||{};}!_0x2fe13d[_0x47e106(0x5f4)](_0x4d7b9d=>_0x4d7b9d['id']===_0x47e106(0xd4e))&&_0x2fe13d[_0x47e106(0x4a2)]({'id':_0x47e106(0xd4e),'name':_0x47e106(0xd39),'isDefault':!![]}),!_0x22a9b6[_0x47e106(0x5f4)](_0x2e66d7=>_0x2e66d7['id']==='default-1')&&_0x22a9b6[_0x47e106(0x4a2)]({'id':_0x47e106(0x4c3),'name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x22a9b6[_0x47e106(0x5f4)](_0x164016=>_0x164016['id']===_0x47e106(0x679))&&_0x22a9b6[_0x47e106(0x4a2)]({'id':_0x47e106(0x679),'name':'Blueprint\x202','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x22a9b6,shortcutTabs=_0x2fe13d,shortcutOrder=_0x348b77,renderBlueprintShortcuts(),!document[_0x47e106(0xc7b)]('additional-shortcuts-modal')['classList'][_0x47e106(0x543)](_0x47e106(0x35d))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x4566f5=_0x45baa4,_0x5f600f=document[_0x4566f5(0xc7b)]('shortcut-tabs-nav'),_0x3c3e7a=document[_0x4566f5(0xc7b)]('additional-shortcuts-list');if(!_0x5f600f||!_0x3c3e7a)return;_0x5f600f[_0x4566f5(0x9be)]=shortcutTabs[_0x4566f5(0x327)](_0x2ffec9=>{const _0x41151c=_0x4566f5,_0x241626=_0x2ffec9['id']===activeShortcutTabId,_0x462a7b='border-indigo-500\x20text-indigo-600',_0x30977a=_0x41151c(0xaa5);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x2ffec9['id']+_0x41151c(0xa53)+(_0x241626?_0x462a7b:_0x30977a)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x2ffec9['name']+_0x41151c(0x927)+_0x2ffec9[_0x41151c(0xb4c)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2ffec9[_0x41151c(0x97a)]?_0x41151c(0x2ff)+_0x2ffec9['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4566f5(0x7a0)]('');const _0xc5db4e=shortcutTabs['find'](_0x565fba=>_0x565fba['id']===activeShortcutTabId);let _0x5414f4=[];if(_0xc5db4e){if(_0xc5db4e[_0x4566f5(0x97a)])_0x5414f4=[...blueprintShortcuts];else{const _0x5ecf39=_0xc5db4e[_0x4566f5(0xcaa)]||[];_0x5414f4=blueprintShortcuts[_0x4566f5(0x6d0)](_0x2294f4=>_0x5ecf39[_0x4566f5(0xc04)](_0x2294f4['id']));}}const _0x7a5f46=shortcutOrder[activeShortcutTabId]||[];_0x5414f4[_0x4566f5(0x835)]((_0x58c288,_0x1593ca)=>{const _0x94bbf=_0x4566f5,_0x5a7063=_0x7a5f46['indexOf'](_0x58c288['id']),_0x3f53ce=_0x7a5f46[_0x94bbf(0x762)](_0x1593ca['id']);if(_0x5a7063===-0x1)return 0x1;if(_0x3f53ce===-0x1)return-0x1;return _0x5a7063-_0x3f53ce;}),_0x3c3e7a['innerHTML']=_0x5414f4[_0x4566f5(0xa33)]>0x0?_0x5414f4['map'](_0x8604a5=>{const _0x5a2690=_0x4566f5;let _0x4c6949='🧩';if(_0x8604a5[_0x5a2690(0x199)]&&_0x8604a5[_0x5a2690(0x844)])_0x4c6949='📗';else{if(_0x8604a5[_0x5a2690(0x199)])_0x4c6949='📘';}const _0x3b2879=shortcutTabs[_0x5a2690(0x6d0)](_0x1ead59=>!_0x1ead59[_0x5a2690(0x97a)]),_0xf89458=_0xc5db4e[_0x5a2690(0x97a)]&&_0x3b2879['length']>0x0?_0x5a2690(0x550)+_0x3b2879[_0x5a2690(0x327)](_0xbbe936=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x8604a5['id']+_0x5a2690(0x886)+_0xbbe936['id']+'\x22>'+_0xbbe936[_0x5a2690(0xb4c)]+_0x5a2690(0x2d4))[_0x5a2690(0x7a0)]('')+_0x5a2690(0xcc5):'';return _0x5a2690(0xab3)+_0x8604a5['id']+_0x5a2690(0x64d)+_0x4c6949+'\x20'+_0x8604a5[_0x5a2690(0xb4c)]+_0x5a2690(0xc5e)+_0x8604a5['id']+_0x5a2690(0xb34)+_0x8604a5['id']+_0x5a2690(0x1f8)+(!_0x8604a5[_0x5a2690(0x97a)]?_0x5a2690(0x75f)+_0x8604a5['id']+_0x5a2690(0x491):'')+_0x5a2690(0x4ec)+(!_0xc5db4e['isDefault']?_0x5a2690(0x2d2)+_0x8604a5['id']+_0x5a2690(0x162):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf89458+_0x5a2690(0xb57);})['join'](''):_0x4566f5(0x71b),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x381492=_0x45baa4;document[_0x381492(0x336)]('.shortcut-tab-btn')['forEach'](_0xdb93a6=>{const _0x2489a0=_0x381492;_0xdb93a6['addEventListener']('click',_0x587fb3=>{const _0x127a03=_0x2960;activeShortcutTabId=_0x587fb3[_0x127a03(0x827)][_0x127a03(0xaf8)][_0x127a03(0x9f4)],renderAdditionalShortcutsModal();}),_0xdb93a6['addEventListener'](_0x2489a0(0x215),_0x406f38=>{const _0x129dc5=_0x2489a0,_0x4dd61b=_0x406f38[_0x129dc5(0x827)];_0x4dd61b[_0x129dc5(0x452)](_0x129dc5(0x676))[_0x129dc5(0x246)][_0x129dc5(0x329)]('hidden');const _0xc76445=_0x4dd61b[_0x129dc5(0x452)](_0x129dc5(0x5e1));_0xc76445[_0x129dc5(0x246)][_0x129dc5(0x142)](_0x129dc5(0x35d)),_0xc76445[_0x129dc5(0x283)](),_0xc76445[_0x129dc5(0xa39)]();});}),document[_0x381492(0x336)](_0x381492(0x5e1))[_0x381492(0x808)](_0x4d8ce4=>{const _0x194e16=_0x381492,_0x4a104e=()=>{const _0x4eca0e=_0x2960,_0x3ab7a0=_0x4d8ce4[_0x4eca0e(0x2ec)](_0x4eca0e(0x421))[_0x4eca0e(0xaf8)][_0x4eca0e(0x9f4)];handleRenameShortcutTab(_0x3ab7a0,_0x4d8ce4[_0x4eca0e(0xab9)]);};_0x4d8ce4[_0x194e16(0x21f)](_0x194e16(0x279),_0x4a104e),_0x4d8ce4['addEventListener'](_0x194e16(0x328),_0x16888a=>{const _0x5f0cfc=_0x194e16;if(_0x16888a[_0x5f0cfc(0x15a)]==='Enter')_0x4d8ce4['blur']();});}),document[_0x381492(0x336)](_0x381492(0x2a0))[_0x381492(0x808)](_0x217b0d=>{const _0x5da232=_0x381492;_0x217b0d[_0x5da232(0x21f)]('click',_0x1d1342=>handleDeleteShortcutTab(_0x1d1342[_0x5da232(0x827)][_0x5da232(0xaf8)][_0x5da232(0x9f4)]));}),document[_0x381492(0x336)](_0x381492(0x1d8))[_0x381492(0x808)](_0x4df978=>{const _0x533424=_0x381492;_0x4df978[_0x533424(0x21f)](_0x533424(0xb10),_0x282907=>{const _0x417b6a=_0x533424;_0x282907[_0x417b6a(0xcd0)]();const {shortcutId:_0x26dcfc,targetTabId:_0x4ba8b9}=_0x282907['currentTarget']['dataset'];handleMoveShortcutToTab(_0x26dcfc,_0x4ba8b9);});}),document[_0x381492(0x336)]('.remove-shortcut-from-tab-btn')[_0x381492(0x808)](_0x5d9ac7=>{_0x5d9ac7['addEventListener']('click',_0x4c4fed=>{const _0x1aed09=_0x2960;handleRemoveShortcutFromTab(_0x4c4fed['currentTarget']['dataset'][_0x1aed09(0xce6)],activeShortcutTabId);});});const _0x554a6e=document['getElementById']('additional-shortcuts-list');_0x554a6e[_0x381492(0x336)](_0x381492(0xbe8))[_0x381492(0x808)](_0x3b5a43=>{const _0x3a7569=_0x381492;_0x3b5a43[_0x3a7569(0x21f)]('click',()=>{const _0x3c9caa=_0x3a7569;document[_0x3c9caa(0xc7b)](_0x3c9caa(0x8a9))[_0x3c9caa(0x246)][_0x3c9caa(0x329)](_0x3c9caa(0x35d)),handleShortcutClick(_0x3b5a43[_0x3c9caa(0xaf8)]['id']);});});let _0x47773b=null;_0x554a6e['addEventListener'](_0x381492(0x61f),_0x5f0473=>{const _0x1a14c9=_0x381492;_0x47773b=_0x5f0473[_0x1a14c9(0x796)]['closest'](_0x1a14c9(0x3b6)),_0x47773b&&setTimeout(()=>_0x47773b[_0x1a14c9(0x246)][_0x1a14c9(0x329)](_0x1a14c9(0x987)),0x0);}),_0x554a6e[_0x381492(0x21f)]('dragend',()=>{const _0x2fd69c=_0x381492;_0x47773b&&(_0x47773b[_0x2fd69c(0x246)]['remove'](_0x2fd69c(0x987)),_0x47773b=null);}),_0x554a6e[_0x381492(0x21f)](_0x381492(0x5a0),_0x59a2ab=>{const _0x3106b5=_0x381492;_0x59a2ab[_0x3106b5(0xcd0)]();const _0x3a5d71=[..._0x554a6e[_0x3106b5(0x336)](_0x3106b5(0xcbb))]['reduce']((_0xb88ae5,_0x3d9eac)=>{const _0x56230e=_0x3106b5,_0x509305=_0x3d9eac[_0x56230e(0xb13)](),_0x430bbb=_0x59a2ab['clientY']-_0x509305[_0x56230e(0x994)]-_0x509305['height']/0x2;return _0x430bbb<0x0&&_0x430bbb>_0xb88ae5['offset']?{'offset':_0x430bbb,'element':_0x3d9eac}:_0xb88ae5;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3106b5(0xb97)];_0x3a5d71==null?_0x554a6e[_0x3106b5(0xcd3)](_0x47773b):_0x554a6e[_0x3106b5(0x1f7)](_0x47773b,_0x3a5d71);}),_0x554a6e[_0x381492(0x21f)]('drop',_0x43eb8c=>{const _0x4f3028=_0x381492;_0x43eb8c[_0x4f3028(0xcd0)]();if(_0x47773b){const _0x4722cd=[..._0x554a6e['querySelectorAll'](_0x4f3028(0x3b6))][_0x4f3028(0x327)](_0x2d1a9f=>_0x2d1a9f[_0x4f3028(0xaf8)][_0x4f3028(0xce6)]);handleShortcutOrderChange(activeShortcutTabId,_0x4722cd);}}),document['querySelectorAll']('.move-shortcut-menu-btn')[_0x381492(0x808)](_0x22b4a7=>{const _0x3ea367=_0x381492;_0x22b4a7[_0x3ea367(0x21f)](_0x3ea367(0xb10),_0xdb5bf2=>{const _0x49ebba=_0x3ea367;_0xdb5bf2[_0x49ebba(0x5c2)]();const _0x1381b5=_0xdb5bf2[_0x49ebba(0x827)][_0x49ebba(0x1bf)],_0xf5ac1=_0x1381b5[_0x49ebba(0x246)]['contains']('hidden');document[_0x49ebba(0x336)](_0x49ebba(0x5af))[_0x49ebba(0x808)](_0x108157=>_0x108157[_0x49ebba(0x246)][_0x49ebba(0x329)]('hidden')),_0xf5ac1&&_0x1381b5['classList'][_0x49ebba(0x142)](_0x49ebba(0x35d));});});}document[_0x45baa4(0x21f)](_0x45baa4(0xb10),_0x39beb4=>{const _0xba6034=_0x45baa4;!_0x39beb4[_0xba6034(0x796)][_0xba6034(0x2ec)](_0xba6034(0xd30))&&document['querySelectorAll'](_0xba6034(0x5af))['forEach'](_0x37ebdb=>_0x37ebdb[_0xba6034(0x246)][_0xba6034(0x329)](_0xba6034(0x35d)));});async function saveShortcutConfig(){const _0xe07085=_0x45baa4,_0x50e0a2=doc(db,_0xe07085(0xc9d),_0xe07085(0x44a));try{await setDoc(_0x50e0a2,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x18934b){console[_0xe07085(0xab1)](_0xe07085(0xd58),_0x18934b);}}async function handleAddShortcutTab(){const _0x3b5f2a=_0x45baa4,_0x2342cc=prompt(_0x3b5f2a(0x689),_0x3b5f2a(0x4f2));if(!_0x2342cc||_0x2342cc[_0x3b5f2a(0x958)]()==='')return;shortcutTabs[_0x3b5f2a(0xd01)]({'id':_0x3b5f2a(0x479)+Date[_0x3b5f2a(0xcb8)](),'name':_0x2342cc[_0x3b5f2a(0x958)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x598ea6,_0x13c8ea){const _0x436a8c=_0x45baa4,_0x2bc93d=shortcutTabs[_0x436a8c(0x5f4)](_0x1ec451=>_0x1ec451['id']===_0x598ea6);_0x2bc93d&&_0x13c8ea[_0x436a8c(0x958)]()!==''&&(_0x2bc93d[_0x436a8c(0xb4c)]=_0x13c8ea[_0x436a8c(0x958)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0xa82288){const _0x143549=_0x45baa4,_0x471989=shortcutTabs[_0x143549(0x5f4)](_0x12724e=>_0x12724e['id']===_0xa82288);_0x471989&&!_0x471989['isDefault']&&showConfirmation(_0x143549(0x5eb)+_0x471989[_0x143549(0xb4c)]+_0x143549(0xafe),async()=>{const _0x231908=_0x143549;shortcutTabs=shortcutTabs['filter'](_0x3f0280=>_0x3f0280['id']!==_0xa82288),delete shortcutOrder[_0xa82288];if(activeShortcutTabId===_0xa82288)activeShortcutTabId=_0x231908(0xd4e);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x4de6c5,_0x1fa266){const _0x67d7c1=_0x45baa4,_0x1384f2=shortcutTabs[_0x67d7c1(0x5f4)](_0x58bb23=>_0x58bb23['id']===_0x1fa266);_0x1384f2&&!_0x1384f2[_0x67d7c1(0xcaa)][_0x67d7c1(0xc04)](_0x4de6c5)&&(_0x1384f2[_0x67d7c1(0xcaa)][_0x67d7c1(0xd01)](_0x4de6c5),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x4e5639,_0x169014){const _0x1851d6=_0x45baa4,_0x58baf0=shortcutTabs[_0x1851d6(0x5f4)](_0x42cecd=>_0x42cecd['id']===_0x169014);_0x58baf0&&!_0x58baf0[_0x1851d6(0x97a)]&&(_0x58baf0[_0x1851d6(0xcaa)]=_0x58baf0[_0x1851d6(0xcaa)][_0x1851d6(0x6d0)](_0x4816b8=>_0x4816b8!==_0x4e5639),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x51d320,_0x444132){shortcutOrder[_0x51d320]=_0x444132,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x765a88=_0x45baa4,_0x3b6582=document[_0x765a88(0xc7b)]('blueprint-shortcut-container'),_0x543f4e=document[_0x765a88(0xc7b)](_0x765a88(0xcb0)),_0x33bce8=document['getElementById'](_0x765a88(0x697));_0x33bce8&&_0x33bce8[_0x765a88(0x246)]['add'](_0x765a88(0x35d));if(!_0x3b6582||!_0x543f4e)return;const _0x17b202=blueprintShortcuts[_0x765a88(0x5d9)](0x0,0x4),_0x45e9de=blueprintShortcuts[_0x765a88(0x5d9)](0x4);_0x3b6582['innerHTML']=_0x17b202['map'](_0x342085=>{const _0x57855e=_0x765a88;let _0x4c00b1=_0x57855e(0x8f1),_0x433af8='🧩';if(_0x342085[_0x57855e(0x199)]&&_0x342085[_0x57855e(0x844)])_0x4c00b1=_0x57855e(0x9c1),_0x433af8='📗';else _0x342085[_0x57855e(0x199)]&&(_0x4c00b1='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x433af8='📘');const _0x2fd6b1=!_0x342085[_0x57855e(0x97a)]?_0x57855e(0x75f)+_0x342085['id']+_0x57855e(0xa40):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x342085['id']+_0x57855e(0x6ce)+_0x4c00b1+_0x57855e(0x28d)+_0x433af8+'\x20'+_0x342085[_0x57855e(0xb4c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x342085['id']+_0x57855e(0x862)+_0x2fd6b1+_0x57855e(0xc3d);})[_0x765a88(0x7a0)](''),_0x45e9de[_0x765a88(0xa33)]>0x0&&(_0x3b6582['innerHTML']+=_0x765a88(0x144)),_0x45e9de[_0x765a88(0xa33)]>0x0?_0x543f4e['innerHTML']=_0x45e9de[_0x765a88(0x327)](_0x836422=>{const _0x5d7ebb=_0x765a88;let _0x20fbd2='🧩';if(_0x836422[_0x5d7ebb(0x199)]&&_0x836422['referenceUrl'])_0x20fbd2='📗';else _0x836422['blueprintUrl']&&(_0x20fbd2='📘');return _0x5d7ebb(0x17e)+_0x20fbd2+'\x20'+_0x836422[_0x5d7ebb(0xb4c)]+_0x5d7ebb(0xc5e)+_0x836422['id']+_0x5d7ebb(0xb34)+_0x836422['id']+_0x5d7ebb(0x1f8)+(!_0x836422[_0x5d7ebb(0x97a)]?'<button\x20data-id=\x22'+_0x836422['id']+_0x5d7ebb(0x491):'')+_0x5d7ebb(0x833);})[_0x765a88(0x7a0)](''):_0x543f4e[_0x765a88(0x9be)]=_0x765a88(0x4b0);}function getMimeTypeFromFilename(_0x24b89f){const _0x4cd26b=_0x45baa4,_0x429b7a=_0x24b89f[_0x4cd26b(0x392)]('.')[_0x4cd26b(0x211)]()[_0x4cd26b(0xd4a)]();switch(_0x429b7a){case _0x4cd26b(0xb9b):return _0x4cd26b(0x8a8);case _0x4cd26b(0x99a):return _0x4cd26b(0x8a5);default:return _0x4cd26b(0x8a8);}}function openShortcutEditor(_0x54b9ad=null){const _0x2c596a=_0x45baa4,_0x197660=document['getElementById'](_0x2c596a(0x5a2)),_0x302d9d=document[_0x2c596a(0xc7b)](_0x2c596a(0x1b7)),_0x397172=document[_0x2c596a(0xc7b)](_0x2c596a(0xc06)),_0x36e589=document[_0x2c596a(0xc7b)]('shortcut-name-input'),_0x4ed392=document['getElementById'](_0x2c596a(0x910)),_0x4f09b0=document['getElementById'](_0x2c596a(0x935));if(_0x54b9ad){const _0x374302=blueprintShortcuts['find'](_0x57547b=>_0x57547b['id']===_0x54b9ad);if(!_0x374302)return;_0x302d9d[_0x2c596a(0x448)]='แก้ไขปุ่มลัด',_0x397172['value']=_0x374302['id'],_0x36e589[_0x2c596a(0xab9)]=_0x374302[_0x2c596a(0xb4c)],_0x4ed392['value']=_0x374302['blueprintUrl']||'',_0x4f09b0['value']=_0x374302[_0x2c596a(0x844)]||'';}else _0x302d9d['textContent']=_0x2c596a(0x195),_0x397172[_0x2c596a(0xab9)]='',_0x36e589[_0x2c596a(0xab9)]='',_0x4ed392['value']='',_0x4f09b0[_0x2c596a(0xab9)]='';_0x197660[_0x2c596a(0x246)][_0x2c596a(0x142)](_0x2c596a(0x35d));}async function saveShortcutChanges(){const _0x2b1f98=_0x45baa4,_0x541afc=document[_0x2b1f98(0xc7b)](_0x2b1f98(0xc06))['value'],_0x246255=document['getElementById']('shortcut-name-input')[_0x2b1f98(0xab9)][_0x2b1f98(0x958)](),_0x54ae79=document['getElementById'](_0x2b1f98(0x910))[_0x2b1f98(0xab9)]['trim']();if(!_0x246255||!_0x54ae79){showMessage(_0x2b1f98(0x29a));return;}const _0x76486e={'id':_0x541afc||_0x2b1f98(0x786)+Date[_0x2b1f98(0xcb8)](),'name':_0x246255,'blueprintUrl':_0x54ae79,'referenceUrl':document[_0x2b1f98(0xc7b)](_0x2b1f98(0x935))[_0x2b1f98(0xab9)][_0x2b1f98(0x958)](),'isDefault':_0x541afc[_0x2b1f98(0xc3a)](_0x2b1f98(0xa07))};let _0x40db3b;_0x541afc?_0x40db3b=blueprintShortcuts['map'](_0x43d2c4=>_0x43d2c4['id']===_0x541afc?_0x76486e:_0x43d2c4):_0x40db3b=[...blueprintShortcuts,_0x76486e];try{const _0x4cc59a=doc(db,'globalSettings',_0x2b1f98(0x44a));await setDoc(_0x4cc59a,{'blueprintShortcuts':_0x40db3b},{'merge':!![]}),document[_0x2b1f98(0xc7b)](_0x2b1f98(0x5a2))[_0x2b1f98(0x246)]['add'](_0x2b1f98(0x35d));}catch(_0x47a1ab){console[_0x2b1f98(0xab1)](_0x2b1f98(0x63e),_0x47a1ab),showMessage(_0x2b1f98(0x1d6));}}async function handleShortcutClick(_0x5e1d7a){const _0x6acfa2=_0x45baa4,_0x1ba8b8=blueprintShortcuts['find'](_0xdf74ec=>_0xdf74ec['id']===_0x5e1d7a);if(!_0x1ba8b8||!_0x1ba8b8['blueprintUrl'])return;document[_0x6acfa2(0xc7b)](_0x6acfa2(0xa6d))[_0x6acfa2(0x246)]['add'](_0x6acfa2(0x35d)),document['getElementById'](_0x6acfa2(0x317))[_0x6acfa2(0x514)]=!![];const _0x2f4c66=document[_0x6acfa2(0xc7b)](_0x6acfa2(0x531)),_0x9d171e=document[_0x6acfa2(0xc7b)]('loader-text');document[_0x6acfa2(0xc7b)](_0x6acfa2(0x9e2))[_0x6acfa2(0x246)][_0x6acfa2(0x142)](_0x6acfa2(0x35d)),document[_0x6acfa2(0xc7b)]('generated-quiz-container')['innerHTML']='',_0x2f4c66['classList'][_0x6acfa2(0x142)](_0x6acfa2(0x35d));try{_0x9d171e[_0x6acfa2(0x448)]=_0x6acfa2(0x495);const _0x85d27=await fetchFileFromUrl(_0x1ba8b8['blueprintUrl'],_0x6acfa2(0xcdf));let _0x5c1729=null;if(_0x1ba8b8[_0x6acfa2(0x844)]){_0x9d171e[_0x6acfa2(0x448)]=_0x6acfa2(0x60e);const _0x381683=_0x1ba8b8[_0x6acfa2(0x844)][_0x6acfa2(0xd4a)]()[_0x6acfa2(0x460)](_0x6acfa2(0x4db))?_0x6acfa2(0x9f8):'reference.pdf';_0x5c1729=await fetchFileFromUrl(_0x1ba8b8[_0x6acfa2(0x844)],_0x381683);}await handleGenerateFromBlueprintWithFiles(_0x85d27,_0x5c1729);}catch(_0x47378a){console[_0x6acfa2(0xab1)]('Error\x20processing\x20shortcut\x20click:',_0x47378a),showMessage(_0x6acfa2(0x1e6)+_0x47378a[_0x6acfa2(0x776)]),_0x2f4c66['classList'][_0x6acfa2(0x329)](_0x6acfa2(0x35d));}}function getDirectDownloadUrl(_0x29bc01){const _0x30d5c7=_0x45baa4,_0x21061b=_0x29bc01[_0x30d5c7(0x589)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x21061b&&_0x21061b[0x1])return'https://drive.google.com/uc?export=download&id='+_0x21061b[0x1];return _0x29bc01;}async function fetchFileFromUrl(_0x5258d5,_0x257b5d){const _0x3c3c5b=_0x45baa4,_0x20790d=getDirectDownloadUrl(_0x5258d5),_0x3c49b4=_0x3c3c5b(0xcbd)+encodeURIComponent(_0x20790d),_0x42b2a1=await fetch(_0x3c49b4);if(!_0x42b2a1['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x42b2a1[_0x3c3c5b(0x264)]+')');const _0x2a7653=await _0x42b2a1['blob'](),_0x5c4e04=await new Promise((_0x427da5,_0xf7af13)=>{const _0x230753=_0x3c3c5b,_0x3c75f1=new FileReader();_0x3c75f1[_0x230753(0x227)]=()=>_0x427da5(new Uint8Array(_0x3c75f1[_0x230753(0x370)])),_0x3c75f1[_0x230753(0xace)]=_0xf7af13,_0x3c75f1[_0x230753(0x772)](_0x2a7653[_0x230753(0x5d9)](0x0,0x4));});let _0x3c8a54='';const _0x964de5=new TextDecoder()[_0x3c3c5b(0x297)](_0x5c4e04);return _0x964de5===_0x3c3c5b(0xb2e)?(_0x3c8a54=_0x3c3c5b(0x8a8),console[_0x3c3c5b(0x161)](_0x3c3c5b(0x87f))):(_0x3c8a54='text/plain',console[_0x3c3c5b(0x161)](_0x3c3c5b(0x57f))),new File([_0x2a7653],_0x257b5d,{'type':_0x3c8a54});}async function handleGenerateFromBlueprintWithFiles(_0x3200fa,_0x2d2597=null){const _0x4a9259=_0x45baa4;if(!_0x3200fa){showMessage(_0x4a9259(0x45d));return;}const _0x398c69=document[_0x4a9259(0xc7b)](_0x4a9259(0x531)),_0x213a10=document[_0x4a9259(0xc7b)](_0x4a9259(0x31a));_0x398c69[_0x4a9259(0x246)]['remove'](_0x4a9259(0x35d)),document['getElementById']('quiz-generation-area')[_0x4a9259(0x246)]['remove'](_0x4a9259(0x35d)),document[_0x4a9259(0xc7b)]('generated-quiz-container')[_0x4a9259(0x9be)]='';try{_0x213a10['textContent']=_0x4a9259(0xcbe);const _0x2f0e0e=await new Promise((_0xf01d74,_0x88ff94)=>{const _0xb0a493=_0x4a9259,_0x1bf0f0=new FileReader();_0x1bf0f0[_0xb0a493(0xbef)](_0x3200fa),_0x1bf0f0[_0xb0a493(0x33a)]=()=>_0xf01d74(_0x1bf0f0[_0xb0a493(0x370)][_0xb0a493(0x392)](',')[0x1]),_0x1bf0f0[_0xb0a493(0xace)]=_0x88ff94;}),_0x5a6ef9=[];if(_0x2d2597){_0x213a10['textContent']=_0x4a9259(0x887);const _0x1f8749=await _0x2d2597['text']();_0x5a6ef9[_0x4a9259(0xd01)]({'text':_0x4a9259(0x4f7)+_0x1f8749});}const _0x2b5047=[{'text':_0x4a9259(0xae0)},{'inlineData':{'mimeType':_0x3200fa[_0x4a9259(0x6ad)],'data':_0x2f0e0e}},..._0x5a6ef9];await handleGenerateFromBlueprint(_0x2b5047);}catch(_0x5d1407){console[_0x4a9259(0xab1)](_0x4a9259(0xabb),_0x5d1407),showMessage(_0x4a9259(0x1e6)+_0x5d1407[_0x4a9259(0x776)]),_0x398c69[_0x4a9259(0x246)][_0x4a9259(0x329)]('hidden');}}async function handleLiveAnswer(_0x1a225a,_0x43e33d){const _0x47498c=_0x45baa4;document['querySelectorAll'](_0x47498c(0x4e2))[_0x47498c(0x808)](_0x3993fc=>_0x3993fc[_0x47498c(0x514)]=!![]);const _0x48c98c=_0x43e33d[_0x47498c(0x34f)]||currentQuizData[_0x47498c(0x9f7)];let _0x109773=![],_0x2b1930=_0x1a225a;if(_0x48c98c===_0x47498c(0x19e)){const _0x36f14a=(_0x1a225a||'')['toString']();_0x109773=await gradeShortAnswer(_0x36f14a,_0x43e33d);}else{if(_0x48c98c===_0x47498c(0x35a))_0x109773=_0x1a225a===_0x43e33d[_0x47498c(0xbfe)];else{if(_0x48c98c===_0x47498c(0x3f8)){const _0x2a6a98=_0x43e33d[_0x47498c(0x4cc)];_0x109773=_0x1a225a===0x0&&_0x2a6a98||_0x1a225a===0x1&&!_0x2a6a98;}else{if(_0x48c98c==='matching_item'){const _0xac655e=_0x43e33d[_0x47498c(0x416)][_0x1a225a];_0x109773=_0xac655e===_0x43e33d[_0x47498c(0x492)],_0x2b1930=_0xac655e;}}}}const _0x5d750b=doc(db,_0x47498c(0xb73)+appId+_0x47498c(0xd2b),currentLiveGameId),_0x2c2eb8={};_0x2c2eb8[_0x47498c(0x2cd)+currentStudentName+_0x47498c(0x478)]=!![],_0x2c2eb8[_0x47498c(0x2cd)+currentStudentName+_0x47498c(0x2b1)]=_0x109773,_0x2c2eb8[_0x47498c(0x2cd)+currentStudentName+_0x47498c(0x9fc)]=_0x48c98c===_0x47498c(0x19e)||_0x48c98c===_0x47498c(0xafa)?null:_0x1a225a,_0x2c2eb8[_0x47498c(0x2cd)+currentStudentName+_0x47498c(0x63c)]=_0x2b1930,_0x2c2eb8[_0x47498c(0x2cd)+currentStudentName+_0x47498c(0x7b2)]=serverTimestamp(),_0x2c2eb8[_0x47498c(0x2cd)+currentStudentName+'.isScored']=![],await updateDoc(_0x5d750b,_0x2c2eb8),liveGameView[_0x47498c(0x9be)]=_0x47498c(0x7df);}function showAdminSummaryView(_0x2f9db4,_0x199cf1){const _0x5114b5=_0x45baa4,_0xe82e0d=Object[_0x5114b5(0x548)](_0x2f9db4[_0x5114b5(0x1c4)]||{}),_0x3bfd75=_0x199cf1['questionType']||currentQuizData['quizType'],_0x500f5a=_0x3bfd75==='true_false'?['ใช่',_0x5114b5(0xadd)]:_0x199cf1[_0x5114b5(0x929)]||_0x199cf1[_0x5114b5(0x416)]||[],_0x3fcb64={},_0x3b31c2=new Array(_0x500f5a['length'])[_0x5114b5(0x13e)](0x0);_0x500f5a[_0x5114b5(0x808)]((_0x5895c9,_0x144f2b)=>{_0x3fcb64[_0x144f2b]=[];}),Object[_0x5114b5(0x1da)](_0x2f9db4[_0x5114b5(0x1c4)]||{})[_0x5114b5(0x808)](([_0x570724,_0x521542])=>{const _0x592a78=_0x5114b5;if(_0x521542[_0x592a78(0x264)]===_0x592a78(0x870)&&_0x521542[_0x592a78(0x18b)]!==undefined){const _0x5c5a8a=_0x521542[_0x592a78(0x18b)];_0x3fcb64[_0x5c5a8a]&&(_0x3fcb64[_0x5c5a8a][_0x592a78(0xd01)](_0x570724),_0x3b31c2[_0x5c5a8a]++);}});const _0x1be415=Math['max'](..._0x3b31c2,0x1),_0x38d350=_0x5114b5(0x6a5)+(_0x199cf1[_0x5114b5(0x6ea)]||_0x199cf1[_0x5114b5(0x24b)])+_0x5114b5(0x63d)+_0x3b31c2[_0x5114b5(0x327)]((_0x576956,_0x20d379)=>{const _0x26a3ee=_0x5114b5,_0x58bb16=_0x3fcb64[_0x20d379][_0x26a3ee(0xa33)]>0x0?_0x3fcb64[_0x20d379][_0x26a3ee(0x7a0)](',\x20'):_0x26a3ee(0x55d);let _0x182a5d=![];if(_0x3bfd75===_0x26a3ee(0x35a))_0x182a5d=_0x20d379===_0x199cf1[_0x26a3ee(0xbfe)];else{if(_0x3bfd75===_0x26a3ee(0x3f8)){const _0x38b885=_0x199cf1['correctAnswer'];_0x182a5d=_0x38b885&&_0x20d379===0x0||!_0x38b885&&_0x20d379===0x1;}else _0x3bfd75===_0x26a3ee(0xafa)&&(_0x182a5d=_0x500f5a[_0x20d379]===_0x199cf1['correctResponse']);}const _0x48b222=_0x182a5d?_0x26a3ee(0x92b):'#e21b3c';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x576956+_0x26a3ee(0x48c)+_0x48b222+_0x26a3ee(0x6ca)+_0x20d379+_0x26a3ee(0xd56)+_0x500f5a[_0x20d379]+_0x26a3ee(0x93b)+_0x20d379+_0x26a3ee(0x4b5)+_0x58bb16+_0x26a3ee(0xcee);})[_0x5114b5(0x7a0)]('')+_0x5114b5(0x5f3);liveGameView[_0x5114b5(0x9be)]=_0x38d350;if(window[_0x5114b5(0x8a3)])MathJax[_0x5114b5(0x91c)]();document[_0x5114b5(0xc7b)]('show-leaderboard-btn')[_0x5114b5(0x21f)](_0x5114b5(0xb10),async()=>{const _0x48c435=_0x5114b5,_0x14b9b8=doc(db,'artifacts/'+appId+_0x48c435(0xd2b),currentLiveGameId);await updateDoc(_0x14b9b8,{'questionStatus':_0x48c435(0xcef)});}),document[_0x5114b5(0xc7b)]('open-scratchpad-btn')['addEventListener'](_0x5114b5(0xb10),()=>{openScratchpad(_0x199cf1,_0x500f5a);});}function showPlayerSummaryView(_0x1f4706,_0x4d5d72){const _0x207b21=_0x45baa4,_0x3485b3=Object[_0x207b21(0x548)](_0x1f4706['players']||{}),_0x2bbb4b=_0x1f4706[_0x207b21(0x1c4)][_0x4d5d72],_0xec1c6d=_0x3485b3['filter'](_0x1bc24a=>_0x1bc24a[_0x207b21(0x264)]==='active')[_0x207b21(0x835)]((_0x1f84b1,_0x458636)=>_0x458636[_0x207b21(0xbf3)]-_0x1f84b1[_0x207b21(0xbf3)]),_0x3cf7c0=_0xec1c6d[_0x207b21(0x960)](_0x63d5c3=>_0x63d5c3===_0x2bbb4b)+0x1,_0x2b860b=_0x2bbb4b[_0x207b21(0x15d)]?'ถูกต้อง!':_0x207b21(0xd5a),_0x513dac=_0x2bbb4b['lastAnswerCorrect']?'bg-green-500':_0x207b21(0x72e),_0x1fdcc3=_0x2bbb4b['pointsLastQuestion']||0x0,_0x1ac6d9='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x560fa0=_0x207b21(0x7f5)+_0x1ac6d9+_0x207b21(0xade)+_0x513dac+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x2b860b+_0x207b21(0x3dd)+_0x1fdcc3+_0x207b21(0x925)+(_0x3cf7c0>0x0?_0x3cf7c0:'-')+_0x207b21(0x989);liveGameView[_0x207b21(0x9be)]=_0x560fa0;}function createQuizFromBank(){const _0x5eba9c=_0x45baa4,_0x28eb87=document[_0x5eba9c(0x336)](_0x5eba9c(0xb26));if(_0x28eb87[_0x5eba9c(0xa33)]===0x0){showMessage(_0x5eba9c(0xb9d));return;}const _0x295dd1=[];_0x28eb87[_0x5eba9c(0x808)](_0x9e2d65=>{const _0x15edaa=_0x5eba9c;_0x295dd1[_0x15edaa(0xd01)](JSON['parse'](_0x9e2d65[_0x15edaa(0xab9)]));});const _0x50939e={'topic':_0x5eba9c(0x79a),'questions':_0x295dd1};displayGeneratedQuiz(_0x50939e);}function showAdminLobbyView(_0x3bd7ad,_0xb9e376){const _0x4bde4d=_0x45baa4;showView(_0x4bde4d(0x9d9));const _0x4dbd5c=_0x4bde4d(0x516)+_0xb9e376+_0x4bde4d(0x3a0)+_0x3bd7ad+_0x4bde4d(0x1a6);liveGameView[_0x4bde4d(0x9be)]=_0x4dbd5c,document['getElementById'](_0x4bde4d(0xbe0))[_0x4bde4d(0x21f)](_0x4bde4d(0xb10),async()=>{const _0x775881=_0x4bde4d;if(!currentQuizData||!currentQuizData['questions']||currentQuizData['questions'][_0x775881(0xa33)]===0x0){showMessage(_0x775881(0x9ae));return;}try{const _0x48030d=doc(db,_0x775881(0xb73)+appId+_0x775881(0xd2b),currentLiveGameId);await updateDoc(_0x48030d,{'status':_0x775881(0xa76),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1ca0b2=currentQuizData[_0x775881(0x92e)][0x0],_0x146985=currentQuizData[_0x775881(0x92e)][_0x775881(0xa33)];showAdminLiveQuestionView(_0x1ca0b2,0x0,_0x146985);}catch(_0x43dc7d){console[_0x775881(0xab1)](_0x775881(0x595),_0x43dc7d),showMessage(_0x775881(0xac3));}});}async function openQuizBankModal(){const _0x27622b=_0x45baa4;if(allQuizzesGlobal['length']===0x0){const _0xce07a1=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xce07a1['docs'][_0x27622b(0x327)](_0x30b5ad=>({'id':_0x30b5ad['id'],..._0x30b5ad[_0x27622b(0x4da)]()}));}renderQuizBankList(''),document[_0x27622b(0xc7b)]('quiz-bank-modal')['classList'][_0x27622b(0x142)]('hidden');}function renderQuizBankList(_0x5b6f7a='',_0x45938f=![]){const _0x2f95e7=_0x45baa4,_0x394024=document['getElementById']('bank-quiz-list'),_0xa838c3=_0x5b6f7a['toLowerCase']()[_0x2f95e7(0x958)](),_0x18980d=allQuizzesGlobal[_0x2f95e7(0x327)](_0x21ba6a=>({..._0x21ba6a,'projectName':allProjects[_0x2f95e7(0x5f4)](_0x3ea4e3=>_0x3ea4e3['id']===_0x21ba6a['projectId'])?.[_0x2f95e7(0x39b)]||_0x2f95e7(0xabf)}))['filter'](_0x4cdd17=>(_0x4cdd17['topic']||'')['toLowerCase']()[_0x2f95e7(0xc04)](_0xa838c3)||(_0x4cdd17[_0x2f95e7(0x39b)]||'')[_0x2f95e7(0xd4a)]()[_0x2f95e7(0xc04)](_0xa838c3)||_0x4cdd17['id'][_0x2f95e7(0x626)]()[_0x2f95e7(0xc04)](_0xa838c3));document[_0x2f95e7(0xc7b)](_0x2f95e7(0xa8a))['textContent']='('+_0x18980d[_0x2f95e7(0xa33)]+_0x2f95e7(0xb25),_0x394024[_0x2f95e7(0x9be)]=_0x18980d[_0x2f95e7(0xa33)]?_0x18980d['map'](_0x44882e=>{const _0x2559d4=_0x2f95e7,_0x432bd7=!_0x45938f?_0x2559d4(0x9ec)+_0x44882e['id']+_0x2559d4(0xbd2)+_0x44882e['id']+_0x2559d4(0xb56)+_0x44882e['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x44882e['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x44882e['id']+_0x2559d4(0x30b)+_0x44882e['id']+_0x2559d4(0xd32)+_0x44882e[_0x2559d4(0x613)]+_0x2559d4(0x441):'';return _0x2559d4(0xa3e)+_0x44882e['id']+_0x2559d4(0x903)+(_0x44882e['topic']||_0x2559d4(0x4ce))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x44882e[_0x2559d4(0x92e)]?.[_0x2559d4(0xa33)]||0x0)+_0x2559d4(0xd05)+_0x44882e[_0x2559d4(0x39b)]+_0x2559d4(0x49f)+_0x44882e['id']+_0x2559d4(0x7b0)+_0x432bd7+_0x2559d4(0x319);})['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x45938f&&(_0x394024['querySelectorAll'](_0x2f95e7(0x4a4))[_0x2f95e7(0x808)](_0x11a3af=>{const _0x4da40d=_0x2f95e7;_0x11a3af['addEventListener'](_0x4da40d(0xb10),()=>{const _0x49067f=_0x4da40d,_0x404723=_0x11a3af[_0x49067f(0xaf8)]['id'];document['getElementById'](_0x49067f(0xb12))[_0x49067f(0x246)][_0x49067f(0x329)](_0x49067f(0x35d)),showQuizDetailView(_0x404723);});}),_0x394024[_0x2f95e7(0x336)](_0x2f95e7(0x3da))['forEach'](_0xac6c8f=>{const _0x246ebb=_0x2f95e7;_0xac6c8f[_0x246ebb(0x21f)](_0x246ebb(0xb10),_0xf345b0=>{const _0x3f222d=_0x246ebb;_0xf345b0['stopPropagation']();const _0x1a9e6c=_0xac6c8f['dataset']['id'],_0x5a3c19=allQuizzesGlobal[_0x3f222d(0x5f4)](_0x3bfe19=>_0x3bfe19['id']===_0x1a9e6c);_0x5a3c19?(currentQuizData=_0x5a3c19,document[_0x3f222d(0xc7b)](_0x3f222d(0xb12))['classList']['add'](_0x3f222d(0x35d)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x394024[_0x2f95e7(0x336)](_0x2f95e7(0x952))[_0x2f95e7(0x808)](_0x19c57a=>{const _0x5bb655=_0x2f95e7;_0x19c57a[_0x5bb655(0x21f)](_0x5bb655(0xb10),_0x2228a7=>{const _0x2c909c=_0x5bb655;_0x2228a7[_0x2c909c(0x5c2)]();const _0x486ba6=_0x19c57a[_0x2c909c(0xaf8)]['id'],_0x253349=allQuizzesGlobal['find'](_0x40e055=>_0x40e055['id']===_0x486ba6);_0x253349?(document[_0x2c909c(0xc7b)](_0x2c909c(0xb12))[_0x2c909c(0x246)]['add'](_0x2c909c(0x35d)),handleGenerateParallelFromBank(_0x253349)):showMessage(_0x2c909c(0x6cb));});}),_0x394024['querySelectorAll'](_0x2f95e7(0xcc1))['forEach'](_0x5c81eb=>{const _0x2f3657=_0x2f95e7;_0x5c81eb[_0x2f3657(0x21f)](_0x2f3657(0xb10),_0x27606f=>{const _0x1290ba=_0x2f3657;_0x27606f[_0x1290ba(0x5c2)]();const _0x57cc8a=_0x5c81eb[_0x1290ba(0xaf8)]['id'],_0x1edc80=allQuizzesGlobal['find'](_0x5cf06b=>_0x5cf06b['id']===_0x57cc8a);_0x1edc80?(document['getElementById'](_0x1290ba(0xb12))[_0x1290ba(0x246)][_0x1290ba(0x329)](_0x1290ba(0x35d)),startPresentation(_0x1edc80)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x394024['querySelectorAll'](_0x2f95e7(0x2f0))[_0x2f95e7(0x808)](_0x56c26b=>{const _0x98efe6=_0x2f95e7;_0x56c26b['addEventListener'](_0x98efe6(0xb10),_0x2dee3b=>{const _0xec338f=_0x98efe6;_0x2dee3b[_0xec338f(0x5c2)]();const _0x4e1d0e=_0x56c26b[_0xec338f(0xaf8)]['id'];document[_0xec338f(0xc7b)](_0xec338f(0xb12))[_0xec338f(0x246)][_0xec338f(0x329)](_0xec338f(0x35d)),handleMoveQuiz(_0x4e1d0e);});}),_0x394024[_0x2f95e7(0x336)](_0x2f95e7(0xa27))['forEach'](_0x1eea90=>{const _0x578b55=_0x2f95e7;_0x1eea90[_0x578b55(0x21f)](_0x578b55(0xb10),_0x482277=>{const _0x596cbe=_0x578b55;_0x482277[_0x596cbe(0x5c2)]();const _0x4d5289=_0x1eea90[_0x596cbe(0xaf8)]['id'];document[_0x596cbe(0xc7b)](_0x596cbe(0xb12))['classList'][_0x596cbe(0x329)](_0x596cbe(0x35d)),handleQuizSettings(_0x4d5289);});}),_0x394024[_0x2f95e7(0x336)](_0x2f95e7(0xa5f))['forEach'](_0x30ced6=>{const _0x538448=_0x2f95e7;_0x30ced6[_0x538448(0x21f)]('click',_0x4d27df=>{const _0x38a411=_0x538448;_0x4d27df[_0x38a411(0x5c2)]();const _0x52ca27=_0x30ced6[_0x38a411(0xaf8)]['id'],_0x58840a=_0x30ced6[_0x38a411(0xaf8)]['topic'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x58840a+_0x38a411(0x667),()=>handleDeleteQuiz(_0x52ca27));});}));}async function handleCompareResults(_0x25e340,_0xc9bbf1){const _0x2a80fb=_0x45baa4,_0x2f76da=document['getElementById'](_0x2a80fb(0x5e4)),_0x3e5545=document['getElementById']('comparison-overall-content'),_0x386503=document[_0x2a80fb(0xc7b)]('comparison-individual-content');document['getElementById']('comparison-overall-tab')[_0x2a80fb(0x246)]['add'](_0x2a80fb(0x870)),document['getElementById'](_0x2a80fb(0xc92))[_0x2a80fb(0x246)][_0x2a80fb(0x142)]('active'),_0x3e5545[_0x2a80fb(0x246)][_0x2a80fb(0x142)](_0x2a80fb(0x35d)),_0x386503[_0x2a80fb(0x246)]['add'](_0x2a80fb(0x35d)),_0x3e5545[_0x2a80fb(0x9be)]=_0x2a80fb(0xd4b),_0x386503[_0x2a80fb(0x9be)]='',_0x2f76da['classList'][_0x2a80fb(0x142)]('hidden');try{const _0x243d0b=doc(db,_0x2a80fb(0xb73)+appId+_0x2a80fb(0xca0),_0x25e340),_0x5ca1ef=await getDoc(_0x243d0b);if(!_0x5ca1ef[_0x2a80fb(0xb1f)]())throw new Error(_0x2a80fb(0xa63));const _0x5c0837=_0x5ca1ef[_0x2a80fb(0x4da)](),_0xf31205=_0x5c0837[_0x2a80fb(0x92e)][_0x2a80fb(0xa33)],_0x2ee916=collection(db,_0x2a80fb(0xb73)+appId+_0x2a80fb(0x444)+_0xc9bbf1+_0x2a80fb(0xc11)),_0x36008f=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x25e340+_0x2a80fb(0xc11)),[_0x511102,_0x5b259d]=await Promise[_0x2a80fb(0xd4e)]([getDocs(_0x2ee916),getDocs(_0x36008f)]),_0x1c26ae=_0x511102[_0x2a80fb(0xb39)][_0x2a80fb(0x327)](_0x189996=>_0x189996[_0x2a80fb(0x4da)]()),_0x59aaea=_0x5b259d[_0x2a80fb(0xb39)][_0x2a80fb(0x327)](_0x55d715=>_0x55d715['data']()),_0x304a4a=_0x1c26ae[_0x2a80fb(0x327)](_0x589eca=>_0x589eca['latestScore']),_0x1f5bb8=_0x59aaea[_0x2a80fb(0x327)](_0x2bcbf8=>_0x2bcbf8[_0x2a80fb(0x140)]),_0x216929=calculateMeanAndStdDev(_0x304a4a),_0x28a8aa=calculateMeanAndStdDev(_0x1f5bb8),_0x3626ff=_0x216929[_0x2a80fb(0x6be)],_0x12b321=_0x28a8aa['mean'],_0x5a9d0d=_0x12b321-_0x3626ff;let _0x636cce=_0x2a80fb(0x7c0)+_0x3626ff[_0x2a80fb(0xa97)](0x2)+_0x2a80fb(0x4c8)+_0x12b321[_0x2a80fb(0xa97)](0x2)+_0x2a80fb(0xbbd)+(_0x5a9d0d>=0x0?_0x2a80fb(0x428):'bg-red-100')+_0x2a80fb(0xb04)+(_0x5a9d0d>=0x0?_0x2a80fb(0x405):'text-red-800')+_0x2a80fb(0xa12)+(_0x5a9d0d>=0x0?_0x2a80fb(0x636):'text-red-900')+'\x22>'+(_0x5a9d0d>=0x0?'+':'')+_0x5a9d0d['toFixed'](0x2)+_0x2a80fb(0x828);_0x3e5545[_0x2a80fb(0x9be)]=_0x636cce;const _0x520a71=document['getElementById'](_0x2a80fb(0x541))[_0x2a80fb(0xa62)]('2d');if(chartInstances[_0x2a80fb(0x374)])chartInstances[_0x2a80fb(0x374)]['destroy']();chartInstances[_0x2a80fb(0x374)]=new Chart(_0x520a71,{'type':_0x2a80fb(0x658),'data':{'labels':[_0x2a80fb(0x8d7)],'datasets':[{'label':_0x2a80fb(0x493),'data':[_0x3626ff],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x2a80fb(0x414),'data':[_0x12b321],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xf31205}}}});const _0x570bea=currentProjectData['students']||[],_0x46a3de=_0x570bea[_0x2a80fb(0x327)](_0x594131=>{const _0x2d8dbf=_0x2a80fb,_0x1c68f2=_0x1c26ae[_0x2d8dbf(0x5f4)](_0x3ca5a6=>_0x3ca5a6[_0x2d8dbf(0x2f7)]===_0x594131),_0x244248=_0x59aaea['find'](_0x501a8e=>_0x501a8e['studentName']===_0x594131),_0x3731aa=_0x1c68f2?_0x1c68f2['latestScore']:null,_0x437ede=_0x244248?_0x244248[_0x2d8dbf(0x140)]:null,_0x1baea5=_0x3731aa!==null&&_0x437ede!==null?_0x437ede-_0x3731aa:null,_0x43e83b=_0x3731aa!==null?calculateZScore(_0x3731aa,_0x216929[_0x2d8dbf(0x6be)],_0x216929[_0x2d8dbf(0xc49)]):null,_0xb55b85=_0x437ede!==null?calculateZScore(_0x437ede,_0x28a8aa[_0x2d8dbf(0x6be)],_0x28a8aa[_0x2d8dbf(0xc49)]):null,_0x8a56c5=_0x43e83b!==null?calculateTScore(_0x43e83b):null,_0x3c06ec=_0xb55b85!==null?calculateTScore(_0xb55b85):null,_0x255a53=_0x8a56c5!==null&&_0x3c06ec!==null?_0x3c06ec-_0x8a56c5:null;return{'name':_0x594131,'preScore':_0x3731aa,'postScore':_0x437ede,'gain':_0x1baea5,'preTScore':_0x8a56c5,'postTScore':_0x3c06ec,'tGain':_0x255a53};});renderIndividualComparisonTable(_0x46a3de,_0x386503);}catch(_0x238143){console[_0x2a80fb(0xab1)]('Error\x20comparing\x20results:',_0x238143),_0x3e5545[_0x2a80fb(0x9be)]=_0x2a80fb(0x67d);}}async function saveBlueprintProject(){const _0x36bc04=_0x45baa4;if(!extractedBlueprintData||!extractedBlueprintData[_0x36bc04(0x8c1)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x33fea9=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','Blueprint\x20O-NET\x20ป.6');if(!_0x33fea9||_0x33fea9['trim']()==='')return;const _0x35f760={};extractedBlueprintData[_0x36bc04(0x8c1)][_0x36bc04(0x808)](_0x21b43b=>{const _0xa71171=_0x36bc04;_0x21b43b[_0xa71171(0x9c6)][_0xa71171(0x808)](_0xb5bb5e=>{const _0x479492=_0xa71171;_0xb5bb5e[_0x479492(0x391)][_0x479492(0x808)](_0x3e4df0=>{const _0x5673cf=_0x479492,_0xa89895=_0x5673cf(0x96e)+Date[_0x5673cf(0xcb8)]()+Math['random']()['toString'](0x24)[_0x5673cf(0xbb7)](0x2,0x9);_0x35f760[_0xa89895]={'sara':_0x21b43b[_0x5673cf(0x93e)],'mainTopic':_0xb5bb5e[_0x5673cf(0x3e2)],'subTopic':_0x3e4df0,'status':_0x5673cf(0x976),'lessonContent':null};});});});try{const _0xabc9=collection(db,_0x36bc04(0xb73)+appId+_0x36bc04(0x6f3));await addDoc(_0xabc9,{'projectName':_0x33fea9['trim'](),'gradeLevel':extractedBlueprintData[_0x36bc04(0x262)],'topics':_0x35f760,'createdAt':serverTimestamp()}),showMessage(_0x36bc04(0x928)+_0x33fea9['trim']()+'\x22\x20สำเร็จ!'),document[_0x36bc04(0xc7b)](_0x36bc04(0xcfb))[_0x36bc04(0x246)][_0x36bc04(0x329)](_0x36bc04(0x35d));}catch(_0x3375f1){console[_0x36bc04(0xab1)](_0x36bc04(0xab8),_0x3375f1),showMessage(_0x36bc04(0xb6d));}}async function showBlueprintProjects(){const _0x163a9d=_0x45baa4,_0x3a3f0d=document[_0x163a9d(0xc7b)]('blueprint-projects-modal'),_0x1cc508=document[_0x163a9d(0xc7b)](_0x163a9d(0x866));_0x1cc508[_0x163a9d(0x9be)]=_0x163a9d(0x5ed),_0x3a3f0d[_0x163a9d(0x246)][_0x163a9d(0x142)](_0x163a9d(0x35d));try{const _0x3e159a=collection(db,'artifacts/'+appId+_0x163a9d(0x6f3)),_0x6a01f2=await getDocs(_0x3e159a);if(_0x6a01f2['empty']){_0x1cc508[_0x163a9d(0x9be)]=_0x163a9d(0x76a);return;}const _0x46ca83=_0x6a01f2[_0x163a9d(0xb39)]['map'](_0x782f4=>({'id':_0x782f4['id'],..._0x782f4['data']()}));_0x46ca83[_0x163a9d(0x835)]((_0x14c6d1,_0x1135c4)=>_0x14c6d1[_0x163a9d(0x39b)][_0x163a9d(0xc3c)](_0x1135c4[_0x163a9d(0x39b)],'th')),_0x1cc508[_0x163a9d(0x9be)]=_0x46ca83[_0x163a9d(0x327)](_0x3c5254=>_0x163a9d(0x799)+_0x3c5254[_0x163a9d(0x39b)]+_0x163a9d(0x323)+_0x3c5254[_0x163a9d(0x262)]+_0x163a9d(0x53b)+Object[_0x163a9d(0x7a9)](_0x3c5254['topics'])[_0x163a9d(0xa33)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3c5254['id']+_0x163a9d(0x6f8)+_0x3c5254['id']+_0x163a9d(0x4e3))[_0x163a9d(0x7a0)]('');}catch(_0x47f127){console['error'](_0x163a9d(0x462),_0x47f127),_0x1cc508['innerHTML']=_0x163a9d(0x646);}}async function displayBlueprintProjectManager(_0x3bbc70){const _0x5993d3=_0x45baa4;currentBlueprintProjectId=_0x3bbc70,document['getElementById'](_0x5993d3(0xa72))[_0x5993d3(0x246)]['add']('hidden'),showView(_0x5993d3(0x9bc)),projectDashboardView[_0x5993d3(0x246)][_0x5993d3(0x329)](_0x5993d3(0x35d));const _0x869915=document[_0x5993d3(0xc7b)]('blueprint-project-manager-view');_0x869915['classList']['remove']('hidden'),document[_0x5993d3(0xc7b)](_0x5993d3(0xb52))['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x113b21=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x3bbc70),_0x50d30a=await getDoc(_0x113b21);if(!_0x50d30a['exists']())throw new Error(_0x5993d3(0xa4d));const _0x2d3cc6={'id':_0x50d30a['id'],..._0x50d30a['data']()};document[_0x5993d3(0xc7b)]('bp-project-title')[_0x5993d3(0x448)]=_0x2d3cc6[_0x5993d3(0x39b)],document['getElementById'](_0x5993d3(0xa05))[_0x5993d3(0xab9)]=_0x2d3cc6[_0x5993d3(0xb49)]||'',renderBlueprintTopicManager(_0x2d3cc6);}catch(_0x351263){console[_0x5993d3(0xab1)](_0x5993d3(0x6c6),_0x351263),showMessage(_0x351263[_0x5993d3(0x776)]),showView(_0x5993d3(0x9bc));}}function renderBlueprintTopicManager(_0x2e741f){const _0x1fbd02=_0x45baa4,_0x46f076=document['getElementById']('bp-topic-list-container'),_0x55a072=_0x2e741f[_0x1fbd02(0xd19)]||{};if(Object[_0x1fbd02(0x7a9)](_0x55a072)[_0x1fbd02(0xa33)]===0x0){_0x46f076['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x37d2b9=Object['entries'](_0x55a072)[_0x1fbd02(0x327)](([_0x52e8a1,_0x21fb16])=>({'id':_0x52e8a1,..._0x21fb16}))['sort']((_0x3604a8,_0x248958)=>(_0x3604a8[_0x1fbd02(0x5c3)]??Infinity)-(_0x248958[_0x1fbd02(0x5c3)]??Infinity)),_0x2cc9a6={};_0x37d2b9[_0x1fbd02(0x808)](_0x3c8bd3=>{const _0x278ce8=_0x1fbd02,{sara:_0x43bd3f,mainTopic:_0xa1f875}=_0x3c8bd3;!_0x2cc9a6[_0x43bd3f]&&(_0x2cc9a6[_0x43bd3f]={}),!_0x2cc9a6[_0x43bd3f][_0xa1f875]&&(_0x2cc9a6[_0x43bd3f][_0xa1f875]=[]),_0x2cc9a6[_0x43bd3f][_0xa1f875][_0x278ce8(0xd01)](_0x3c8bd3);});let _0x461e44='';for(const _0x1e3b3a in _0x2cc9a6){_0x461e44+=_0x1fbd02(0x166)+_0x1e3b3a+_0x1fbd02(0x4b2);for(const _0x44b3ba in _0x2cc9a6[_0x1e3b3a]){_0x461e44+=_0x1fbd02(0x6af)+_0x44b3ba+_0x1fbd02(0xbf5),_0x2cc9a6[_0x1e3b3a][_0x44b3ba][_0x1fbd02(0x808)](_0x8ce81b=>{const _0x54edd4=_0x1fbd02,_0x1909c2=_0x8ce81b['id'],_0x31d73e=_0x8ce81b[_0x54edd4(0xc15)]||[],_0xfab846=_0x31d73e[_0x54edd4(0xa33)]>0x0,_0x271cf0=_0x8ce81b[_0x54edd4(0x264)]===_0x54edd4(0x6a6);let _0x1c1926='';_0xfab846?_0x1c1926=_0x54edd4(0x38f)+_0x31d73e[_0x54edd4(0xa33)]+_0x54edd4(0x2c7):_0x1c1926=_0x54edd4(0x34d)+(_0x271cf0?_0x54edd4(0x229):_0x54edd4(0x913))+'\x22>'+(_0x271cf0?_0x54edd4(0xd0c):'ยังไม่สร้าง')+_0x54edd4(0xa1a);const _0x12a3ee=!_0x271cf0?_0x54edd4(0x95d):'',_0x54e7b3=!_0x271cf0?_0x54edd4(0x52b):'';let _0x48f2c3=_0x271cf0?_0x54edd4(0x611):_0x54edd4(0x51c);_0x461e44+=_0x54edd4(0x2ba)+_0x1909c2+_0x54edd4(0xbc7)+_0x8ce81b[_0x54edd4(0x4df)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c1926+_0x54edd4(0x4d0)+_0x12a3ee+_0x54edd4(0x2a3)+_0x54e7b3+_0x54edd4(0xa2b)+_0x48f2c3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x461e44+='</div></div>';}_0x461e44+=_0x1fbd02(0x418);}_0x46f076[_0x1fbd02(0x9be)]=_0x461e44;}async function handleDeepDeleteBlueprintProject(_0x4ce1f8){const _0x516fff=_0x45baa4,_0x4d0ae4=doc(db,_0x516fff(0xb73)+appId+'/public/data/blueprintProjects',_0x4ce1f8),_0x5b1848=await getDoc(_0x4d0ae4);if(!_0x5b1848['exists']()){showMessage(_0x516fff(0x79c));return;}const _0x171c48=_0x5b1848[_0x516fff(0x4da)]()[_0x516fff(0x39b)];showConfirmation(_0x516fff(0xd14)+_0x171c48+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x5dd7ed=_0x516fff;showMessage(_0x5dd7ed(0xcd7));try{const _0x429d84=writeBatch(db),_0x2afcfd=_0x5b1848[_0x5dd7ed(0x4da)](),_0x44b731=_0x2afcfd[_0x5dd7ed(0xd19)]||{};for(const _0x3421d4 in _0x44b731){const _0x58f153=doc(db,_0x5dd7ed(0xb73)+appId+_0x5dd7ed(0x856)+_0x4ce1f8+_0x5dd7ed(0x8ad),_0x3421d4);_0x429d84['delete'](_0x58f153);}const _0x4b40b3=new Set();for(const _0x20d210 in _0x44b731){_0x44b731[_0x20d210][_0x5dd7ed(0xc15)]&&_0x44b731[_0x20d210]['linkedQuizIds'][_0x5dd7ed(0x808)](_0x4bd9c9=>_0x4b40b3['add'](_0x4bd9c9));}for(const _0x14ddc2 of _0x4b40b3){await handleDeleteQuiz(_0x14ddc2,![]);}_0x429d84['delete'](_0x4d0ae4),await _0x429d84[_0x5dd7ed(0xc1a)](),showMessage('ลบโปรเจค\x20\x22'+_0x171c48+_0x5dd7ed(0x44f)),showBlueprintProjects();}catch(_0xabab92){console[_0x5dd7ed(0xab1)](_0x5dd7ed(0xc52),_0xabab92),showMessage(_0x5dd7ed(0x89d));}});}async function openTopicQuizBank(_0x36a808){const _0x1ec032=_0x45baa4,_0xe75d47=document[_0x1ec032(0xc7b)](_0x1ec032(0x8ea)),_0x10dda6=document[_0x1ec032(0xc7b)](_0x1ec032(0x150)),_0x8aa112=document[_0x1ec032(0xc7b)](_0x1ec032(0x7e1));try{await ensureGlobalQuizzesLoaded();const _0x4c722e=doc(db,_0x1ec032(0xb73)+appId+_0x1ec032(0x6f3),currentBlueprintProjectId),_0x574e6e=await getDoc(_0x4c722e);if(!_0x574e6e[_0x1ec032(0xb1f)]())return;const _0x562588=_0x574e6e[_0x1ec032(0x4da)](),_0x4e4a76=_0x562588[_0x1ec032(0xd19)][_0x36a808];document[_0x1ec032(0xc7b)](_0x1ec032(0x450))['textContent']=_0x4e4a76[_0x1ec032(0x4df)];const _0x32474e=_0x4e4a76[_0x1ec032(0xc15)]||[];_0x8aa112['classList']['toggle']('hidden',_0x32474e[_0x1ec032(0xa33)]===0x0),_0x8aa112[_0x1ec032(0x2e6)]=()=>handleClearAllLinksForTopic(_0x36a808);if(_0x32474e[_0x1ec032(0xa33)]===0x0)_0x10dda6['innerHTML']=_0x1ec032(0xb5f);else{const _0x466b8e=allQuizzesGlobal['filter'](_0x435c1f=>_0x32474e[_0x1ec032(0xc04)](_0x435c1f['id']));_0x10dda6[_0x1ec032(0x9be)]=_0x466b8e[_0x1ec032(0x327)](_0x66221e=>_0x1ec032(0x714)+_0x66221e['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x66221e[_0x1ec032(0x613)]+_0x1ec032(0x878)+_0x66221e['id']+_0x1ec032(0x53b)+_0x66221e[_0x1ec032(0x92e)][_0x1ec032(0xa33)]+_0x1ec032(0x572)+_0x66221e['id']+_0x1ec032(0x811)+_0x66221e['id']+_0x1ec032(0x902)+_0x66221e['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x66221e['id']+_0x1ec032(0xbe4)+_0x66221e['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x66221e['id']+_0x1ec032(0x1b0)+_0x36a808+'\x22\x20data-quiz-id=\x22'+_0x66221e['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1ec032(0x7a0)]('');}document['getElementById']('add-from-global-bank-btn')['onclick']=()=>{openQuizSelectorForBlueprint(_0x36a808);},document['getElementById']('close-topic-bank-btn')['onclick']=()=>_0xe75d47['classList']['add'](_0x1ec032(0x35d)),_0xe75d47[_0x1ec032(0x246)][_0x1ec032(0x142)](_0x1ec032(0x35d));}catch(_0x3424c8){showMessage(_0x3424c8[_0x1ec032(0x776)]);}}async function openQuizSelectorForBlueprint(_0x17cd55){const _0x282719=_0x45baa4,_0x4c0926=document[_0x282719(0xc7b)]('quiz-bank-modal'),_0x4db149=document[_0x282719(0xc7b)]('topic-quiz-bank-modal');_0x4db149[_0x282719(0x246)][_0x282719(0x329)](_0x282719(0x35d)),document[_0x282719(0xc7b)]('confirm-link-quiz-btn')?.[_0x282719(0x142)]();const _0x3c7be1=document['createElement'](_0x282719(0x9e8));_0x3c7be1['id']=_0x282719(0x500),_0x3c7be1[_0x282719(0x3c8)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x3c7be1[_0x282719(0x448)]=_0x282719(0xc85),_0x3c7be1[_0x282719(0x514)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x4c0926[_0x282719(0x246)]['remove'](_0x282719(0x35d)),renderQuizBankListForMultiSelect(''),document[_0x282719(0xc7b)](_0x282719(0x9fd))[_0x282719(0x59f)][_0x282719(0x18e)]=_0x282719(0xada),_0x4c0926['querySelector'](_0x282719(0x846))[_0x282719(0xcd3)](_0x3c7be1);const _0x132a67=(_0x455e7c=![])=>{const _0x26cf5c=_0x282719;_0x4c0926['classList'][_0x26cf5c(0x329)](_0x26cf5c(0x35d)),document[_0x26cf5c(0xc7b)](_0x26cf5c(0x9fd))[_0x26cf5c(0x59f)][_0x26cf5c(0x18e)]=_0x26cf5c(0x6e3),_0x3c7be1['remove'](),_0x455e7c&&openTopicQuizBank(_0x17cd55);};_0x3c7be1['onclick']=async()=>{const _0x23186c=_0x282719,_0x19d75c=Array[_0x23186c(0x36f)](document['querySelectorAll'](_0x23186c(0x68b)))['map'](_0x312b61=>_0x312b61[_0x23186c(0xab9)]);if(_0x19d75c['length']===0x0)return;try{const _0x20ae3a=doc(db,_0x23186c(0xb73)+appId+_0x23186c(0x6f3),currentBlueprintProjectId),_0x594013=(await getDoc(_0x20ae3a))['data'](),_0x551329=_0x594013['topics'][_0x17cd55][_0x23186c(0xc15)]||[],_0x3c569c=[...new Set([..._0x551329,..._0x19d75c])];await updateDoc(_0x20ae3a,{[_0x23186c(0x22e)+_0x17cd55+'.linkedQuizIds']:_0x3c569c}),showMessage(_0x23186c(0x5c1)+_0x19d75c['length']+_0x23186c(0x2b4)),_0x132a67(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1ff9e7){console[_0x23186c(0xab1)]('Error\x20linking\x20quizzes:',_0x1ff9e7);}},document['getElementById']('cancel-quiz-bank-btn')['onclick']=()=>_0x132a67(!![]);}catch(_0x4b2b55){showMessage(_0x4b2b55[_0x282719(0x776)]),_0x4db149[_0x282719(0x246)][_0x282719(0x142)](_0x282719(0x35d));}}function handleClearLinkedQuiz(_0x4123a6){const _0x208662=_0x45baa4;showConfirmation(_0x208662(0xc68),async()=>{const _0x2f72cb=_0x208662;try{const _0x3e995c=doc(db,_0x2f72cb(0xb73)+appId+_0x2f72cb(0x6f3),currentBlueprintProjectId);await updateDoc(_0x3e995c,{['topics.'+_0x4123a6+_0x2f72cb(0x4d6)]:deleteField()}),showMessage(_0x2f72cb(0x19d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x11a922){console['error'](_0x2f72cb(0xc21),_0x11a922),showMessage(_0x2f72cb(0x3ae));}});}async function addTopicToProject(){const _0x2aa454=_0x45baa4,_0xea6a1d=prompt(_0x2aa454(0x358));if(!_0xea6a1d||_0xea6a1d[_0x2aa454(0x958)]()==='')return;const _0xb1b38b=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x2aa454(0x19c)),_0xd9a29b=prompt(_0x2aa454(0x259),'หัวข้อหลักใหม่'),_0x4293b5=_0x2aa454(0x96e)+Date[_0x2aa454(0xcb8)]()+Math['random']()[_0x2aa454(0x626)](0x24)[_0x2aa454(0xbb7)](0x2,0x9),_0x243b0f={'sara':_0xb1b38b,'mainTopic':_0xd9a29b,'subTopic':_0xea6a1d['trim'](),'status':_0x2aa454(0x976),'lessonContent':null};try{const _0x4f2f5e=doc(db,_0x2aa454(0xb73)+appId+_0x2aa454(0x6f3),currentBlueprintProjectId);await updateDoc(_0x4f2f5e,{[_0x2aa454(0x22e)+_0x4293b5]:_0x243b0f}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x433c62){console[_0x2aa454(0xab1)](_0x2aa454(0x177),_0x433c62),showMessage(_0x2aa454(0xd3e));}}async function editTopicInProject(_0x517980){const _0x527441=_0x45baa4,_0x384d98=document[_0x527441(0x452)](_0x527441(0xaa4)+_0x517980+'\x22]'),_0xc4b591=_0x384d98['querySelector']('[data-field=\x22subTopic\x22]'),_0x4fba02=_0xc4b591[_0x527441(0x448)],_0x4b40df=prompt(_0x527441(0x8aa),_0x4fba02);if(!_0x4b40df||_0x4b40df[_0x527441(0x958)]()===''||_0x4b40df[_0x527441(0x958)]()===_0x4fba02)return;try{const _0x1a191f=doc(db,_0x527441(0xb73)+appId+_0x527441(0x6f3),currentBlueprintProjectId);await updateDoc(_0x1a191f,{[_0x527441(0x22e)+_0x517980+_0x527441(0x4cd)]:_0x4b40df[_0x527441(0x958)]()}),_0xc4b591['textContent']=_0x4b40df[_0x527441(0x958)](),showMessage(_0x527441(0x6c3));}catch(_0x344166){console[_0x527441(0xab1)](_0x527441(0x4e0),_0x344166),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x5b668a){const _0x520908=_0x45baa4;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x12e095=doc(db,_0x520908(0xb73)+appId+_0x520908(0x6f3),currentBlueprintProjectId);await updateDoc(_0x12e095,{[_0x520908(0x22e)+_0x5b668a]:deleteField()}),document[_0x520908(0x452)](_0x520908(0xaa4)+_0x5b668a+'\x22]')[_0x520908(0x142)](),showMessage(_0x520908(0xcf4));}catch(_0xbb7341){console[_0x520908(0xab1)](_0x520908(0x604),_0xbb7341),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x4d6842,_0x1f91a8,_0x53dbf9){handleGenerateAndShowLesson(_0x1f91a8,_0x53dbf9);const _0x28d4ed=setInterval(async()=>{const _0x6bb971=_0x2960,_0x61cb9a=document[_0x6bb971(0xc7b)](_0x6bb971(0x8d9)),_0x160316=_0x61cb9a[_0x6bb971(0x246)][_0x6bb971(0x543)](_0x6bb971(0x35d));if(_0x160316){clearInterval(_0x28d4ed);if(currentApplicationData&&currentApplicationData[_0x6bb971(0xa33)]>0x0){const _0x5aa637={'point':document[_0x6bb971(0xc7b)]('pointContent')['innerHTML'],'memory':document[_0x6bb971(0xc7b)](_0x6bb971(0x1b6))[_0x6bb971(0x9be)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x6bb971(0x1ba))[_0x6bb971(0x9be)]};try{const _0x6dfc02=doc(db,'artifacts/'+appId+_0x6bb971(0x6f3),currentBlueprintProjectId),_0x30dfc1=doc(db,_0x6bb971(0xb73)+appId+_0x6bb971(0x856)+currentBlueprintProjectId+_0x6bb971(0x8ad),_0x4d6842),_0x4fef05=writeBatch(db);_0x4fef05[_0x6bb971(0x2b6)](_0x30dfc1,{'content':_0x5aa637}),_0x4fef05[_0x6bb971(0x621)](_0x6dfc02,{[_0x6bb971(0x22e)+_0x4d6842+_0x6bb971(0x44c)]:_0x6bb971(0x6a6)}),await _0x4fef05[_0x6bb971(0xc1a)](),console[_0x6bb971(0x161)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x4d6842+_0x6bb971(0xcd4)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4c4a60){console[_0x6bb971(0xab1)](_0x6bb971(0xcf8),_0x4c4a60);}}}},0x3e8);}function displayHalfMarkResult(_0x34fbbb,_0x5a7443){const _0x23e416=_0x45baa4,_0x7ec341=_0x34fbbb>=_0x5a7443/0x2,_0x43b0b5=_0x7ec341?_0x23e416(0x5c6):_0x23e416(0x3c3),_0x1ea36e=_0x7ec341?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x23e416(0x4bf),_0x1d7143=_0x7ec341?_0x23e416(0x192):_0x23e416(0x494),_0x3a05fc=_0x7ec341?_0x23e416(0x6c1):_0x23e416(0x68e),_0x4fc4e9=_0x7ec341?_0x23e416(0xad2):_0x23e416(0x5b6);let _0x17a188=_0x23e416(0xb3a)+_0x43b0b5+_0x23e416(0x855)+_0x1ea36e+_0x23e416(0x17c)+_0x1d7143+'\x20mb-2\x22>'+_0x3a05fc+_0x23e416(0x5d4)+_0x4fc4e9+_0x23e416(0x874);studentResultArea[_0x23e416(0x9be)]=_0x17a188,studentResultArea[_0x23e416(0x246)][_0x23e416(0x142)](_0x23e416(0x35d)),studentQuizArea[_0x23e416(0x246)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x7ec341});}function displayPerfectScoreResult(_0x1d98ee,_0x4fb39f){const _0x3771c6=_0x45baa4,_0x5baa39=_0x1d98ee===_0x4fb39f,_0x4ebf8b=_0x5baa39?_0x3771c6(0xbb3):_0x3771c6(0x978),_0x5197e2=_0x5baa39?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x3771c6(0x6d2),_0x6344b8=_0x5baa39?'text-yellow-800':_0x3771c6(0x4e7),_0x513cab=_0x5baa39?_0x3771c6(0x37c):_0x3771c6(0x1f9),_0x13ad68=_0x5baa39?_0x3771c6(0x2d1):_0x3771c6(0xaa3);let _0x55787f=_0x3771c6(0xb3a)+_0x4ebf8b+_0x3771c6(0x855)+_0x5197e2+_0x3771c6(0x17c)+_0x6344b8+'\x20mb-2\x22>'+_0x513cab+_0x3771c6(0x5d4)+_0x13ad68+_0x3771c6(0x874);studentResultArea[_0x3771c6(0x9be)]=_0x55787f,studentResultArea[_0x3771c6(0x246)]['remove'](_0x3771c6(0x35d)),studentQuizArea[_0x3771c6(0x246)]['add'](_0x3771c6(0x35d)),setupResultScreenBackButton({'showRankings':![],'score':_0x1d98ee,'totalQuestions':_0x4fb39f});}function renderIndividualComparisonTable(_0x173994,_0x56f57a){const _0x1ae12c=_0x45baa4;_0x173994[_0x1ae12c(0x835)]((_0x326aab,_0xd84b53)=>(_0xd84b53[_0x1ae12c(0xb3b)]??-Infinity)-(_0x326aab[_0x1ae12c(0xb3b)]??-Infinity));let _0x2bfcb5=_0x1ae12c(0x7bf);_0x173994[_0x1ae12c(0xa33)]===0x0?_0x2bfcb5+=_0x1ae12c(0x6e4):_0x173994[_0x1ae12c(0x808)]((_0x2d14b6,_0x50c02d)=>{const _0x31d2c9=_0x1ae12c;let _0x349db9='-',_0x52493b='';if(_0x2d14b6[_0x31d2c9(0x483)]!==null){const _0x5e48e1=_0x2d14b6[_0x31d2c9(0x483)]>0x0?_0x31d2c9(0xa18):_0x2d14b6[_0x31d2c9(0x483)]<0x0?_0x31d2c9(0xa9a):'text-gray-500',_0x393892=_0x2d14b6['gain']>0x0?'+':'';_0x349db9=_0x31d2c9(0x919)+_0x5e48e1+'\x22>'+_0x393892+_0x2d14b6[_0x31d2c9(0x483)]+'</span>';if(_0x2d14b6[_0x31d2c9(0x483)]>0x0)_0x52493b=_0x31d2c9(0x678);else _0x2d14b6[_0x31d2c9(0x483)]<0x0?_0x52493b=_0x31d2c9(0x4e8):_0x52493b=_0x31d2c9(0x92f);}let _0x2fd76b='-';if(_0x2d14b6[_0x31d2c9(0xb3b)]!==null){const _0x1c45ea=_0x2d14b6[_0x31d2c9(0xb3b)]>0x0?'text-green-600':_0x2d14b6['tGain']<0x0?'text-red-600':_0x31d2c9(0xa29),_0x3be569=_0x2d14b6[_0x31d2c9(0xb3b)]>0x0?'+':'';_0x2fd76b=_0x31d2c9(0x919)+_0x1c45ea+'\x22>'+_0x3be569+_0x2d14b6['tGain']['toFixed'](0x2)+_0x31d2c9(0xa1a);}_0x2bfcb5+=_0x31d2c9(0x692)+(_0x50c02d+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x2d14b6[_0x31d2c9(0xb4c)]+_0x31d2c9(0x55c)+(_0x2d14b6[_0x31d2c9(0x368)]??'-')+_0x31d2c9(0x98e)+(_0x2d14b6[_0x31d2c9(0x2c9)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x349db9+_0x31d2c9(0x944)+_0x52493b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x2d14b6[_0x31d2c9(0x41c)]?.[_0x31d2c9(0xa97)](0x2)??'-')+_0x31d2c9(0xa94)+(_0x2d14b6[_0x31d2c9(0xa21)]?.[_0x31d2c9(0xa97)](0x2)??'-')+_0x31d2c9(0x55c)+_0x2fd76b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2bfcb5+='</tbody></table></div>',_0x56f57a[_0x1ae12c(0x9be)]=_0x2bfcb5;}function handleRenameQuiz(_0x2aeccb,_0x2a375c){const _0x177e30=_0x45baa4;actionTargetId=_0x2aeccb,document[_0x177e30(0xc7b)](_0x177e30(0xd21))[_0x177e30(0xab9)]=_0x2a375c,renameQuizModal[_0x177e30(0x246)][_0x177e30(0x142)](_0x177e30(0x35d));}function setupComparisonModalTabs(){const _0x213e80=_0x45baa4,_0x300dd9=document[_0x213e80(0xc7b)](_0x213e80(0xb3c)),_0x6703a9=document[_0x213e80(0xc7b)](_0x213e80(0xc92)),_0x9ac3f4=document[_0x213e80(0xc7b)](_0x213e80(0x469)),_0x4628e3=document[_0x213e80(0xc7b)](_0x213e80(0x703));_0x300dd9['addEventListener']('click',()=>{const _0x184f7c=_0x213e80;_0x300dd9[_0x184f7c(0x246)][_0x184f7c(0x329)](_0x184f7c(0x870)),_0x6703a9['classList'][_0x184f7c(0x142)](_0x184f7c(0x870)),_0x9ac3f4[_0x184f7c(0x246)][_0x184f7c(0x142)]('hidden'),_0x4628e3[_0x184f7c(0x246)][_0x184f7c(0x329)](_0x184f7c(0x35d));}),_0x6703a9[_0x213e80(0x21f)]('click',()=>{const _0x5caace=_0x213e80;_0x6703a9['classList'][_0x5caace(0x329)]('active'),_0x300dd9[_0x5caace(0x246)]['remove'](_0x5caace(0x870)),_0x4628e3[_0x5caace(0x246)][_0x5caace(0x142)]('hidden'),_0x9ac3f4[_0x5caace(0x246)]['add'](_0x5caace(0x35d));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x1addaf=_0x45baa4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x9d115b=doc(db,_0x1addaf(0xb73)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x9d115b,_0x4b2efe=>{const _0x41df98=_0x1addaf;if(!_0x4b2efe[_0x41df98(0xb1f)]()){showMessage(_0x41df98(0xac8));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x41df98(0x1af)?showView(_0x41df98(0x848)):showView(_0x41df98(0x568));return;}const _0xe91618=_0x4b2efe[_0x41df98(0x4da)]();_0xe91618[_0x41df98(0x2e4)]&&(currentQuizData=_0xe91618[_0x41df98(0x2e4)]);!currentQuizData&&_0xe91618[_0x41df98(0x25d)]&&((async()=>{const _0x589fb1=_0x41df98;try{const _0x31514c=doc(db,_0x589fb1(0xb73)+appId+'/public/data/quizzes',_0xe91618[_0x589fb1(0x25d)]),_0x25e4f8=await getDoc(_0x31514c);_0x25e4f8['exists']()&&(currentQuizData={'id':_0x25e4f8['id'],..._0x25e4f8[_0x589fb1(0x4da)]()});}catch(_0x1bd03d){console['error'](_0x589fb1(0x47b),_0x1bd03d);}})());switch(_0xe91618[_0x41df98(0x264)]){case _0x41df98(0x36b):if(currentMode===_0x41df98(0x1af)){const _0x1c74ea=_0xe91618['players']?Object[_0x41df98(0x1da)](_0xe91618[_0x41df98(0x1c4)]):[],_0x35b21b=_0x1c74ea[_0x41df98(0x6d0)](([_0x56a148,_0x49be0a])=>_0x49be0a[_0x41df98(0x264)]===_0x41df98(0x870)),_0x3dbcf3=document[_0x41df98(0xc7b)]('player-count');if(_0x3dbcf3)_0x3dbcf3[_0x41df98(0x448)]=_0x35b21b[_0x41df98(0xa33)];const _0x4e63fa=document['getElementById'](_0x41df98(0x9f0));_0x4e63fa&&(_0x4e63fa[_0x41df98(0x9be)]=_0x35b21b[_0x41df98(0x327)](([_0x615d21,_0x56b13a])=>_0x41df98(0x6c0)+_0x615d21+_0x41df98(0x9a3)+_0x615d21+_0x41df98(0x75b))['join'](''));const _0x3334ef=document[_0x41df98(0xc7b)](_0x41df98(0xbe0));_0x3334ef&&(_0x3334ef[_0x41df98(0x514)]=_0x35b21b[_0x41df98(0xa33)]===0x0);}else showView(_0x41df98(0x9d9)),liveGameView[_0x41df98(0x9be)]=_0x41df98(0x8af)+currentStudentName+_0x41df98(0x8cc);break;case _0x41df98(0xa76):const _0x3c83a1=_0xe91618['currentQuestionIndex'];if(currentQuizData&&currentQuizData['questions'][_0x3c83a1]){const _0x5d7b02=currentQuizData[_0x41df98(0x92e)][_0x3c83a1],_0x413d2c=_0xe91618['questionStatus']||'answering';switch(_0x413d2c){case _0x41df98(0xc63):currentMode===_0x41df98(0x1af)?showAdminSummaryView(_0xe91618,_0x5d7b02):showPlayerSummaryView(_0xe91618,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0xe91618);break;case _0x41df98(0x882):default:if(currentMode==='admin'){const _0x41e621=writeBatch(db);let _0x49e4fc=![];Object[_0x41df98(0x1da)](_0xe91618[_0x41df98(0x1c4)])[_0x41df98(0x808)](([_0x1203d2,_0x2c8a95])=>{const _0x1957aa=_0x41df98;if(_0x2c8a95[_0x1957aa(0x264)]===_0x1957aa(0x870)&&_0x2c8a95[_0x1957aa(0xbf7)]&&!_0x2c8a95[_0x1957aa(0x354)]){_0x49e4fc=!![];const _0xbe6dd4=_0x2c8a95['submittedAt']['toDate']()-_0xe91618[_0x1957aa(0x7bc)][_0x1957aa(0x2d0)]();let _0x370df2=0x0;if(_0x2c8a95[_0x1957aa(0x15d)]){const _0x7fef82=0x3e8,_0x111f0b=0x1f4,_0x387a0b=0x4e20;let _0x2bff04=_0xbe6dd4/_0x387a0b;if(_0x2bff04>0x1)_0x2bff04=0x1;const _0x27c712=Math['round'](_0x2bff04*_0x111f0b);_0x370df2=_0x7fef82-_0x27c712;}const _0x412788=doc(db,_0x1957aa(0xb73)+appId+_0x1957aa(0xd2b),currentLiveGameId);_0x41e621['update'](_0x412788,{[_0x1957aa(0x2cd)+_0x1203d2+'.score']:increment(_0x370df2),[_0x1957aa(0x2cd)+_0x1203d2+_0x1957aa(0xc9c)]:_0x370df2,[_0x1957aa(0x2cd)+_0x1203d2+_0x1957aa(0xaad)]:!![]});}});_0x49e4fc&&_0x41e621['commit']()[_0x41df98(0x299)](_0x6233fd=>console['error'](_0x41df98(0x979),_0x6233fd));lastRenderedAdminQuestionIndex!==_0x3c83a1&&(showAdminLiveQuestionView(_0x5d7b02,_0x3c83a1,currentQuizData[_0x41df98(0x92e)]['length']),lastRenderedAdminQuestionIndex=_0x3c83a1);const _0x2766c1=_0xe91618[_0x41df98(0x1c4)]||{},_0x3b770f=Object['values'](_0x2766c1)[_0x41df98(0x6d0)](_0x3da68a=>_0x3da68a[_0x41df98(0x264)]==='active'),_0x39c4ce=_0x3b770f['length'],_0x164dd7=_0x3b770f[_0x41df98(0x6d0)](_0x53137c=>_0x53137c[_0x41df98(0xcb3)]===!![])[_0x41df98(0xa33)],_0x20ccb5=document[_0x41df98(0xc7b)](_0x41df98(0x8f2));if(_0x20ccb5)_0x20ccb5[_0x41df98(0x448)]=_0x164dd7+'/'+_0x39c4ce;const _0xa4bc60=document['getElementById']('live-player-list');if(_0xa4bc60){let _0x141a7c=Object[_0x41df98(0x1da)](_0x2766c1)[_0x41df98(0x6d0)](([_0x1068a4,_0x5d108a])=>_0x5d108a[_0x41df98(0x264)]==='active')['map'](([_0x265a31,_0x286fc3])=>{const _0x7caadc=_0x41df98,_0x5c3a4a=_0x286fc3[_0x7caadc(0xcb3)]===!![],_0x22174a=_0x5c3a4a?_0x7caadc(0x4b1):_0x7caadc(0x184),_0x514a1c=_0x5c3a4a?_0x7caadc(0x40c):_0x7caadc(0x24a);return _0x7caadc(0x212)+_0x22174a+_0x7caadc(0xa89)+_0x514a1c+_0x7caadc(0x3d7)+_0x265a31+_0x7caadc(0xc42)+_0x265a31+_0x7caadc(0x51a);})[_0x41df98(0x7a0)]('');_0xa4bc60[_0x41df98(0x9be)]=_0x141a7c||_0x41df98(0x4cf);}_0x39c4ce>0x0&&_0x164dd7===_0x39c4ce&&revealAnswerForAdmin(_0x3c83a1,currentQuizData[_0x41df98(0x92e)][_0x41df98(0xa33)]);}else{const _0x3b40c5=_0xe91618['players'][currentStudentName];_0x3b40c5&&!_0x3b40c5[_0x41df98(0xcb3)]&&showStudentLiveQuestionView(_0x5d7b02,_0x3c83a1,currentQuizData['questions'][_0x41df98(0xa33)]);}break;}}break;case _0x41df98(0x951):showPodiumView(_0xe91618['players'],_0x41df98(0x812));break;}});}async function openGlobalActivityModal(){const _0x4e865f=_0x45baa4;if(allQuizzesGlobal[_0x4e865f(0xa33)]===0x0){const _0x3c6e35=await getDocs(collection(db,_0x4e865f(0xb73)+appId+_0x4e865f(0xca0)));allQuizzesGlobal=_0x3c6e35[_0x4e865f(0xb39)][_0x4e865f(0x327)](_0x4118f3=>({'id':_0x4118f3['id'],..._0x4118f3['data']()}));}renderGlobalActivityList(''),document[_0x4e865f(0xc7b)](_0x4e865f(0x556))['classList']['remove'](_0x4e865f(0x35d));}function renderGlobalActivityList(_0x126592=''){const _0x6fdcc0=_0x45baa4,_0x5230a7=document[_0x6fdcc0(0xc7b)](_0x6fdcc0(0x8b0)),_0x136d63=_0x126592[_0x6fdcc0(0xd4a)]()[_0x6fdcc0(0x958)](),_0x565ed3=allQuizzesGlobal[_0x6fdcc0(0x327)](_0x388c28=>({..._0x388c28,'projectName':allProjects[_0x6fdcc0(0x5f4)](_0x56f2f7=>_0x56f2f7['id']===_0x388c28['projectId'])?.['projectName']||_0x6fdcc0(0xabf)}))['filter'](_0x3ea1b6=>(_0x3ea1b6['topic']||'')[_0x6fdcc0(0xd4a)]()[_0x6fdcc0(0xc04)](_0x136d63)||(_0x3ea1b6['projectName']||'')['toLowerCase']()[_0x6fdcc0(0xc04)](_0x136d63));document[_0x6fdcc0(0xc7b)](_0x6fdcc0(0x879))['textContent']='('+_0x565ed3[_0x6fdcc0(0xa33)]+_0x6fdcc0(0xb25),_0x5230a7['innerHTML']=_0x565ed3['length']?_0x565ed3[_0x6fdcc0(0x327)](_0x28f4ed=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x28f4ed[_0x6fdcc0(0x613)]||_0x6fdcc0(0x4ce))+_0x6fdcc0(0x81e)+(_0x28f4ed[_0x6fdcc0(0x92e)]?.[_0x6fdcc0(0xa33)]||0x0)+_0x6fdcc0(0x7c1)+_0x28f4ed[_0x6fdcc0(0x39b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x28f4ed['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x28f4ed['id']+_0x6fdcc0(0x8e1)+_0x28f4ed['id']+_0x6fdcc0(0x594)+_0x28f4ed['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x6fdcc0(0x7a0)](''):_0x6fdcc0(0x53c);}async function handleKickPlayer(_0x58cbab){const _0x56d0c8=_0x45baa4;if(!currentLiveGameId||!_0x58cbab)return;const _0x5d98d2=doc(db,_0x56d0c8(0xb73)+appId+_0x56d0c8(0xd2b),currentLiveGameId),_0x4228e3={};_0x4228e3['players.'+_0x58cbab+_0x56d0c8(0x44c)]='inactive';try{await updateDoc(_0x5d98d2,_0x4228e3);}catch(_0x2e761b){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x58cbab+':',_0x2e761b),showMessage(_0x56d0c8(0xd35));}}async function authenticateUser(){const _0x188698=_0x45baa4;try{typeof __initial_auth_token!==_0x188698(0x8e9)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x436f3c){console[_0x188698(0xab1)]('Authentication\x20failed:',_0x436f3c),showMessage(_0x188698(0x9c4));}}function showView(_0x60024b){const _0xe52b87=_0x45baa4;adminView[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),studentView[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),projectDashboardView[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),projectDetailView[_0xe52b87(0x246)][_0xe52b87(0x329)]('hidden'),quizResultsView[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),liveGameView[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),document[_0xe52b87(0xc7b)](_0xe52b87(0x424))[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),studentInitialView['classList']['add'](_0xe52b87(0x35d)),studentJoinGameView[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),studentNameSelectionView[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),studentQuizArea[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d)),studentResultArea[_0xe52b87(0x246)][_0xe52b87(0x329)]('hidden'),studentReadingArea[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d));const _0x5999c6=document['getElementById'](_0xe52b87(0x508)),_0x282c61=document['getElementById']('student-progress-view');if(_0x5999c6)_0x5999c6[_0xe52b87(0x246)]['add']('hidden');if(_0x282c61)_0x282c61[_0xe52b87(0x246)][_0xe52b87(0x329)](_0xe52b87(0x35d));switch(_0x60024b){case _0xe52b87(0x9bc):adminView[_0xe52b87(0x246)][_0xe52b87(0x142)](_0xe52b87(0x35d)),projectDashboardView[_0xe52b87(0x246)]['remove'](_0xe52b87(0x35d));break;case _0xe52b87(0x848):adminView[_0xe52b87(0x246)][_0xe52b87(0x142)](_0xe52b87(0x35d)),projectDetailView['classList'][_0xe52b87(0x142)](_0xe52b87(0x35d));break;case'quiz-results':adminView[_0xe52b87(0x246)][_0xe52b87(0x142)](_0xe52b87(0x35d)),quizResultsView[_0xe52b87(0x246)][_0xe52b87(0x142)](_0xe52b87(0x35d));break;case _0xe52b87(0x568):studentView[_0xe52b87(0x246)][_0xe52b87(0x142)]('hidden'),studentInitialView['classList'][_0xe52b87(0x142)](_0xe52b87(0x35d));break;case _0xe52b87(0x9d9):liveGameView[_0xe52b87(0x246)]['remove']('hidden');break;case'student-team-join':studentView[_0xe52b87(0x246)][_0xe52b87(0x142)](_0xe52b87(0x35d));if(_0x5999c6)_0x5999c6[_0xe52b87(0x246)]['remove'](_0xe52b87(0x35d));break;case _0xe52b87(0xbc5):studentView[_0xe52b87(0x246)]['remove']('hidden');if(_0x282c61)_0x282c61[_0xe52b87(0x246)][_0xe52b87(0x142)](_0xe52b87(0x35d));break;default:studentView[_0xe52b87(0x246)][_0xe52b87(0x142)](_0xe52b87(0x35d)),studentInitialView[_0xe52b87(0x246)][_0xe52b87(0x142)](_0xe52b87(0x35d));break;}}function showJoinGameView(){const _0x5b60f9=_0x45baa4;studentInitialView[_0x5b60f9(0x246)]['add'](_0x5b60f9(0x35d)),studentJoinGameView['classList'][_0x5b60f9(0x142)](_0x5b60f9(0x35d));}async function handleSaveVisibilitySettings(){const _0x42bd9b=_0x45baa4;if(!currentProjectId)return;const _0x46e8ef=doc(db,_0x42bd9b(0xb73)+appId+_0x42bd9b(0xafc),currentProjectId);try{await updateDoc(_0x46e8ef,{'settings.showInStudentDashboard':document['getElementById'](_0x42bd9b(0x6cd))['checked'],'settings.isPasscodeEnabled':document[_0x42bd9b(0xc7b)](_0x42bd9b(0x443))[_0x42bd9b(0xa1c)],'settings.passcode':document[_0x42bd9b(0xc7b)]('project-passcode-input')[_0x42bd9b(0xab9)]['trim']()}),showMessage(_0x42bd9b(0x2b3));}catch(_0x22e05f){console['error'](_0x42bd9b(0x73c),_0x22e05f),showMessage(_0x42bd9b(0x1d6));}}function setupEventListeners(){const _0x4d621a=_0x45baa4,_0x1eed6a=document['getElementById'](_0x4d621a(0xa43));_0x1eed6a&&(_0x1eed6a[_0x4d621a(0x21f)](_0x4d621a(0x9a5),wakeUpScreen),_0x1eed6a[_0x4d621a(0x21f)](_0x4d621a(0x4a9),wakeUpScreen));document[_0x4d621a(0xc7b)]('save-bp-reference-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),async()=>{const _0x2e8fea=_0x4d621a;if(!currentBlueprintProjectId)return;const _0x5999e1=document[_0x2e8fea(0xc7b)](_0x2e8fea(0xa05))['value']['trim'](),_0x54777e=doc(db,'artifacts/'+appId+_0x2e8fea(0x6f3),currentBlueprintProjectId);try{await updateDoc(_0x54777e,{'referenceFileUrl':_0x5999e1}),showMessage(_0x2e8fea(0xb65));}catch(_0x387f64){console[_0x2e8fea(0xab1)](_0x2e8fea(0xd3c),_0x387f64),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x4d621a(0xc7b)]('add-parallel-shortcut-tab-btn')[_0x4d621a(0x21f)]('click',handleAddParallelShortcutTab),document[_0x4d621a(0xc7b)]('parallel-test-input-area')[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x3f85d9=>{const _0x3eff56=_0x4d621a;_0x3f85d9[_0x3eff56(0x796)]['closest'](_0x3eff56(0xb2c))&&(activeParallelShortcutTabId=_0x3eff56(0xd4e),renderAdditionalParallelShortcutsModal(),document[_0x3eff56(0xc7b)](_0x3eff56(0x2ea))[_0x3eff56(0x246)][_0x3eff56(0x142)]('hidden'));}),document[_0x4d621a(0xc7b)](_0x4d621a(0xa66))['addEventListener'](_0x4d621a(0xb10),()=>{const _0x1c7fe4=_0x4d621a;document[_0x1c7fe4(0xc7b)](_0x1c7fe4(0x2ea))[_0x1c7fe4(0x246)][_0x1c7fe4(0x329)](_0x1c7fe4(0x35d));}),document[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x1249a1=>{const _0x5e6621=_0x4d621a;!_0x1249a1['target'][_0x5e6621(0x2ec)](_0x5e6621(0x7d4))&&document['querySelectorAll'](_0x5e6621(0xbd1))[_0x5e6621(0x808)](_0x5a0e6a=>_0x5a0e6a['classList'][_0x5e6621(0x329)](_0x5e6621(0x35d)));}),document['getElementById'](_0x4d621a(0xa0d))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleAddFileShortcutTab),document[_0x4d621a(0xc7b)](_0x4d621a(0x900))[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x540123=>{const _0x30e0f6=_0x4d621a;_0x540123[_0x30e0f6(0x796)][_0x30e0f6(0x2ec)](_0x30e0f6(0x8e3))&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document['getElementById'](_0x30e0f6(0xad8))[_0x30e0f6(0x246)][_0x30e0f6(0x142)](_0x30e0f6(0x35d)));}),document[_0x4d621a(0xc7b)]('close-additional-file-shortcuts-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x77a31f=_0x4d621a;document[_0x77a31f(0xc7b)](_0x77a31f(0xad8))[_0x77a31f(0x246)][_0x77a31f(0x329)](_0x77a31f(0x35d));}),document[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x397380=>{const _0x46bb8a=_0x4d621a;!_0x397380[_0x46bb8a(0x796)][_0x46bb8a(0x2ec)](_0x46bb8a(0x4f5))&&document[_0x46bb8a(0x336)]('.move-file-shortcut-dropdown')['forEach'](_0x5ba93e=>_0x5ba93e[_0x46bb8a(0x246)][_0x46bb8a(0x329)](_0x46bb8a(0x35d)));}),document['getElementById']('add-shortcut-tab-btn')['addEventListener'](_0x4d621a(0xb10),handleAddShortcutTab),document[_0x4d621a(0xc7b)](_0x4d621a(0x7d0))[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x2b0833=>{const _0x193e37=_0x4d621a,_0x186974=_0x2b0833[_0x193e37(0x796)]['closest'](_0x193e37(0x771)),_0x4b2279=_0x2b0833['target'][_0x193e37(0x2ec)]('.edit-parallel-shortcut-btn'),_0x1c00e7=_0x2b0833[_0x193e37(0x796)]['closest'](_0x193e37(0xa31));if(_0x4b2279)openParallelTestShortcutEditor(_0x4b2279[_0x193e37(0xaf8)]['id']);else{if(_0x1c00e7){const _0x910e79=_0x1c00e7[_0x193e37(0xaf8)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x3b8690=_0x193e37,_0x1b2698=parallelTestShortcuts[_0x3b8690(0x6d0)](_0xd4a4a5=>_0xd4a4a5['id']!==_0x910e79),_0x34db19=doc(db,_0x3b8690(0xc9d),_0x3b8690(0x257));await setDoc(_0x34db19,{'shortcuts':_0x1b2698},{'merge':!![]});});}else _0x186974&&handleParallelTestShortcutClick(_0x186974[_0x193e37(0xaf8)]['id']);}}),document[_0x4d621a(0xc7b)](_0x4d621a(0x7b6))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>openParallelTestShortcutEditor(null)),document['getElementById']('cancel-parallel-shortcut-edit-btn')[_0x4d621a(0x21f)]('click',()=>{const _0x2cb742=_0x4d621a;document['getElementById'](_0x2cb742(0x5a5))[_0x2cb742(0x246)][_0x2cb742(0x329)](_0x2cb742(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x29d))[_0x4d621a(0x21f)]('click',saveParallelTestShortcutChanges),document['getElementById'](_0x4d621a(0xc48))[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x69d7ac=>{const _0x4c5dc1=_0x4d621a;_0x69d7ac[_0x4c5dc1(0x796)]['closest'](_0x4c5dc1(0xb2c))&&document[_0x4c5dc1(0xc7b)](_0x4c5dc1(0x2ea))[_0x4c5dc1(0x246)][_0x4c5dc1(0x142)](_0x4c5dc1(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0xa66))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x3b796c=_0x4d621a;document['getElementById'](_0x3b796c(0x2ea))[_0x3b796c(0x246)]['add'](_0x3b796c(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x9ea))[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x10721c=>{const _0x3b8844=_0x4d621a,_0x5571d0=document[_0x3b8844(0xc7b)](_0x3b8844(0x2ea)),_0xa28a32=_0x10721c['target']['closest'](_0x3b8844(0x728)),_0x5e43c2=_0x10721c[_0x3b8844(0x796)]['closest'](_0x3b8844(0x9df)),_0x5668ed=_0x10721c[_0x3b8844(0x796)][_0x3b8844(0x2ec)](_0x3b8844(0x616));if(_0xa28a32)_0x5571d0[_0x3b8844(0x246)]['add'](_0x3b8844(0x35d)),handleParallelTestShortcutClick(_0xa28a32[_0x3b8844(0xaf8)]['id']);else{if(_0x5e43c2)_0x5571d0['classList'][_0x3b8844(0x329)]('hidden'),openParallelTestShortcutEditor(_0x5e43c2['dataset']['id']);else{if(_0x5668ed){const _0x12d611=_0x5668ed['dataset']['id'];showConfirmation(_0x3b8844(0x3fc),async()=>{const _0x572b86=_0x3b8844,_0x1fcc3a=parallelTestShortcuts['filter'](_0x28f2ee=>_0x28f2ee['id']!==_0x12d611),_0xad8832=doc(db,_0x572b86(0xc9d),'parallelTestShortcutsConfig');await setDoc(_0xad8832,{'shortcuts':_0x1fcc3a},{'merge':!![]});});}}}}),document[_0x4d621a(0xc7b)](_0x4d621a(0x46f))['addEventListener']('click',_0x28553a=>{const _0x38bdda=_0x4d621a,_0x7e5edc=_0x28553a['target'][_0x38bdda(0x2ec)](_0x38bdda(0x248)),_0x1e8ec0=_0x28553a[_0x38bdda(0x796)][_0x38bdda(0x2ec)](_0x38bdda(0xc02)),_0x300eab=_0x28553a[_0x38bdda(0x796)][_0x38bdda(0x2ec)](_0x38bdda(0xc50));if(_0x1e8ec0)openFileShortcutEditor(_0x1e8ec0[_0x38bdda(0xaf8)]['id']);else{if(_0x300eab){const _0x39537b=_0x300eab['dataset']['id'];showConfirmation(_0x38bdda(0x3fc),async()=>{const _0x2dbf09=fileShortcuts['filter'](_0x250021=>_0x250021['id']!==_0x39537b),_0x181ef6=doc(db,'globalSettings','fileShortcutsConfig');await setDoc(_0x181ef6,{'shortcuts':_0x2dbf09},{'merge':!![]});});}else _0x7e5edc&&handleFileShortcutClick(_0x7e5edc[_0x38bdda(0xaf8)]['id']);}}),document[_0x4d621a(0xc7b)](_0x4d621a(0x575))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>openFileShortcutEditor(null)),document[_0x4d621a(0xc7b)]('cancel-file-shortcut-edit-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x24e045=_0x4d621a;document[_0x24e045(0xc7b)](_0x24e045(0xccb))['classList'][_0x24e045(0x329)](_0x24e045(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x404))[_0x4d621a(0x21f)]('click',saveFileShortcutChanges),document[_0x4d621a(0xc7b)](_0x4d621a(0x900))[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x2fed30=>{const _0xfc6672=_0x4d621a;_0x2fed30[_0xfc6672(0x796)][_0xfc6672(0x2ec)](_0xfc6672(0x8e3))&&document[_0xfc6672(0xc7b)](_0xfc6672(0xad8))[_0xfc6672(0x246)][_0xfc6672(0x142)](_0xfc6672(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0xcfc))['addEventListener']('click',()=>{const _0x3cd9d1=_0x4d621a;document[_0x3cd9d1(0xc7b)](_0x3cd9d1(0xad8))[_0x3cd9d1(0x246)]['add']('hidden');}),document[_0x4d621a(0xc7b)]('additional-file-shortcuts-list')['addEventListener'](_0x4d621a(0xb10),_0x39232b=>{const _0x49350d=_0x4d621a,_0x27dd5c=document[_0x49350d(0xc7b)](_0x49350d(0xad8)),_0xdfa5f0=_0x39232b[_0x49350d(0x796)]['closest']('.use-hidden-file-shortcut-btn'),_0x439fb6=_0x39232b[_0x49350d(0x796)][_0x49350d(0x2ec)](_0x49350d(0x6f4)),_0x3036b1=_0x39232b['target'][_0x49350d(0x2ec)](_0x49350d(0x407));if(_0xdfa5f0)_0x27dd5c[_0x49350d(0x246)][_0x49350d(0x329)](_0x49350d(0x35d)),handleFileShortcutClick(_0xdfa5f0['dataset']['id']);else{if(_0x439fb6)_0x27dd5c[_0x49350d(0x246)][_0x49350d(0x329)]('hidden'),openFileShortcutEditor(_0x439fb6[_0x49350d(0xaf8)]['id']);else{if(_0x3036b1){const _0x3894d7=_0x3036b1[_0x49350d(0xaf8)]['id'];showConfirmation(_0x49350d(0x3fc),async()=>{const _0x940b9c=_0x49350d,_0x4449e0=fileShortcuts[_0x940b9c(0x6d0)](_0x1d54fb=>_0x1d54fb['id']!==_0x3894d7),_0x29984a=doc(db,_0x940b9c(0xc9d),_0x940b9c(0x69e));await setDoc(_0x29984a,{'shortcuts':_0x4449e0},{'merge':!![]});});}}}}),document[_0x4d621a(0xc7b)]('blueprint-input-area')[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x45af2a=>{const _0x47a02b=_0x4d621a;_0x45af2a[_0x47a02b(0x796)][_0x47a02b(0x2ec)](_0x47a02b(0xa41))&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document['getElementById'](_0x47a02b(0x8a9))[_0x47a02b(0x246)][_0x47a02b(0x142)]('hidden'));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x9b3))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x3b712e=_0x4d621a;document['getElementById'](_0x3b712e(0x8a9))[_0x3b712e(0x246)]['add']('hidden');}),document[_0x4d621a(0xc7b)]('additional-shortcuts-list')['addEventListener'](_0x4d621a(0xb10),_0x32b826=>{const _0x1ddd9c=_0x4d621a,_0x16cccd=_0x32b826[_0x1ddd9c(0x796)][_0x1ddd9c(0x2ec)]('.use-hidden-shortcut-btn'),_0x22d12b=_0x32b826[_0x1ddd9c(0x796)][_0x1ddd9c(0x2ec)](_0x1ddd9c(0xd0a)),_0x31388f=_0x32b826[_0x1ddd9c(0x796)]['closest']('.delete-hidden-shortcut-btn'),_0x35902a=document[_0x1ddd9c(0xc7b)](_0x1ddd9c(0x8a9));if(_0x16cccd)_0x35902a[_0x1ddd9c(0x246)]['add'](_0x1ddd9c(0x35d)),handleShortcutClick(_0x16cccd['dataset']['id']);else{if(_0x22d12b)_0x35902a[_0x1ddd9c(0x246)][_0x1ddd9c(0x329)]('hidden'),openShortcutEditor(_0x22d12b[_0x1ddd9c(0xaf8)]['id']);else{if(_0x31388f){const _0xfdc965=_0x31388f['dataset']['id'],_0x3252fa=blueprintShortcuts['find'](_0x5cc73c=>_0x5cc73c['id']===_0xfdc965)?.[_0x1ddd9c(0xb4c)];showConfirmation(_0x1ddd9c(0x6aa)+_0x3252fa+'\x22?',async()=>{const _0x3bcfab=_0x1ddd9c,_0xf7858=blueprintShortcuts[_0x3bcfab(0x6d0)](_0x4225cf=>_0x4225cf['id']!==_0xfdc965);try{const _0x546707=doc(db,'globalSettings',_0x3bcfab(0x44a));await setDoc(_0x546707,{'blueprintShortcuts':_0xf7858},{'merge':!![]});}catch(_0x635d9a){console[_0x3bcfab(0xab1)](_0x3bcfab(0x135),_0x635d9a);}});}}}}),document['getElementById'](_0x4d621a(0xa8f))[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x36462a=>{const _0x402c0e=_0x4d621a,_0x3fe2cf=_0x36462a[_0x402c0e(0x796)][_0x402c0e(0x2ec)](_0x402c0e(0x6c2)),_0x409ac7=_0x36462a['target'][_0x402c0e(0x2ec)]('.edit-shortcut-btn'),_0x5cf517=_0x36462a[_0x402c0e(0x796)][_0x402c0e(0x2ec)](_0x402c0e(0x4be));if(_0x409ac7)openShortcutEditor(_0x409ac7[_0x402c0e(0xaf8)]['id']);else{if(_0x5cf517){const _0x1b8a4a=_0x5cf517['dataset']['id'],_0x17ba83=blueprintShortcuts[_0x402c0e(0x5f4)](_0x4fb5ac=>_0x4fb5ac['id']===_0x1b8a4a)?.[_0x402c0e(0xb4c)];showConfirmation(_0x402c0e(0x6aa)+_0x17ba83+'\x22?',async()=>{const _0x2670aa=_0x402c0e,_0xb7034b=blueprintShortcuts['filter'](_0x10e58=>_0x10e58['id']!==_0x1b8a4a);try{const _0x2339c9=doc(db,_0x2670aa(0xc9d),_0x2670aa(0x44a));await setDoc(_0x2339c9,{'blueprintShortcuts':_0xb7034b},{'merge':!![]});}catch(_0x1db5e0){console[_0x2670aa(0xab1)]('Error\x20deleting\x20shortcut:',_0x1db5e0);}});}else _0x3fe2cf&&handleShortcutClick(_0x3fe2cf[_0x402c0e(0xaf8)]['id']);}}),document['getElementById'](_0x4d621a(0x664))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>openShortcutEditor(null)),document['getElementById'](_0x4d621a(0x596))[_0x4d621a(0x21f)]('click',()=>{const _0xe66fc8=_0x4d621a;document[_0xe66fc8(0xc7b)](_0xe66fc8(0x5a2))['classList']['add']('hidden');}),document[_0x4d621a(0xc7b)](_0x4d621a(0x2a7))[_0x4d621a(0x21f)]('click',saveShortcutChanges),document[_0x4d621a(0xc7b)]('generate-from-blueprint-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),async()=>{const _0xe2b6e0=_0x4d621a,_0x4fac8c=document[_0xe2b6e0(0xc7b)]('blueprint-upload-input'),_0x2fdcac=document[_0xe2b6e0(0xc7b)](_0xe2b6e0(0xa6f));_0x4fac8c[_0xe2b6e0(0x26a)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x4fac8c['files'][0x0],_0x2fdcac[_0xe2b6e0(0x26a)][0x0]||null):showMessage(_0xe2b6e0(0x94a));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x8ea))[_0x4d621a(0x21f)](_0x4d621a(0xb10),async _0x4504a5=>{const _0x184362=_0x4d621a,_0x1141ad=document[_0x184362(0xc7b)](_0x184362(0x8ea)),_0x3bfdd5=_0x4504a5[_0x184362(0x796)][_0x184362(0x2ec)]('.bp-view-analysis-btn'),_0x5928d4=_0x4504a5[_0x184362(0x796)]['closest'](_0x184362(0x5b4)),_0x5a3017=_0x4504a5[_0x184362(0x796)][_0x184362(0x2ec)](_0x184362(0x3c5)),_0x19477d=_0x4504a5[_0x184362(0x796)][_0x184362(0x2ec)]('.bp-try-btn'),_0x3a914f=_0x4504a5['target']['closest'](_0x184362(0x7e2)),_0x1bc509=_0x4504a5[_0x184362(0x796)][_0x184362(0x2ec)](_0x184362(0xbee));if(_0x3bfdd5){cameFromBlueprint=!![];const _0x1adae6=_0x3bfdd5[_0x184362(0xaf8)][_0x184362(0x25d)];showQuizDetailView(_0x1adae6),_0x1141ad[_0x184362(0x246)][_0x184362(0x329)](_0x184362(0x35d));}else{if(_0x5928d4){const _0x52bb57=_0x5928d4[_0x184362(0xaf8)][_0x184362(0x280)],_0x5769f2=_0x5928d4[_0x184362(0xaf8)][_0x184362(0x25d)],_0x567b83=allQuizzesGlobal[_0x184362(0x5f4)](_0x32466e=>_0x32466e['id']===_0x5769f2),_0x4b9ebc=_0x567b83?_0x567b83['topic']:_0x184362(0x496);showConfirmation(_0x184362(0x214)+_0x4b9ebc+_0x184362(0xc60),async()=>{const _0x231d8e=_0x184362;try{const _0x4ad7d1=doc(db,_0x231d8e(0xb73)+appId+_0x231d8e(0x6f3),currentBlueprintProjectId);await updateDoc(_0x4ad7d1,{['topics.'+_0x52bb57+'.linkedQuizIds']:arrayRemove(_0x5769f2)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x52bb57),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3b9d71){console['error'](_0x231d8e(0x872),_0x3b9d71),showMessage(_0x231d8e(0x8c3));}});}else{if(_0x5a3017){cameFromBlueprint=!![];const _0x2a17c4=_0x5a3017[_0x184362(0xaf8)][_0x184362(0x25d)],_0x557f94=allQuizzesGlobal[_0x184362(0x5f4)](_0x4ead30=>_0x4ead30['id']===_0x2a17c4);_0x557f94&&(startPresentation(_0x557f94),_0x1141ad[_0x184362(0x246)]['add'](_0x184362(0x35d)));}else{if(_0x19477d){cameFromBlueprint=!![];const _0x30c51b=_0x19477d[_0x184362(0xaf8)]['quizId'],_0x7c4768=allQuizzesGlobal[_0x184362(0x5f4)](_0x2a3053=>_0x2a3053['id']===_0x30c51b);_0x7c4768&&(currentQuizData=_0x7c4768,startAdminTest(),_0x1141ad[_0x184362(0x246)][_0x184362(0x329)]('hidden'));}else{if(_0x3a914f)cameFromBlueprint=!![],handleStartLiveRace(_0x3a914f['dataset'][_0x184362(0x25d)]),_0x1141ad[_0x184362(0x246)][_0x184362(0x329)](_0x184362(0x35d));else{if(_0x1bc509){cameFromBlueprint=!![];const _0x2c7d72=_0x1bc509['dataset']['quizId'],_0x2966a4=_0x1bc509[_0x184362(0xaf8)][_0x184362(0x2a4)],_0x12e471=allQuizzesGlobal['find'](_0x81bd2=>_0x81bd2['id']===_0x2c7d72);_0x12e471&&(showGameStartConfirmationModal(_0x2c7d72,_0x2966a4,_0x12e471['topic']),_0x1141ad[_0x184362(0x246)]['add']('hidden'));}}}}}}}),document[_0x4d621a(0xc7b)](_0x4d621a(0x826))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x24ed56=_0x4d621a;document[_0x24ed56(0xc7b)](_0x24ed56(0x389))[_0x24ed56(0x246)][_0x24ed56(0x142)](_0x24ed56(0x35d)),document[_0x24ed56(0xc7b)](_0x24ed56(0x49d))[_0x24ed56(0xab9)]='',document['getElementById']('manual-bp-grade-level')[_0x24ed56(0xab9)]='',document[_0x24ed56(0xc7b)](_0x24ed56(0x35e))[_0x24ed56(0xab9)]='';}),document['getElementById'](_0x4d621a(0x696))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x4bb1d9=_0x4d621a;document[_0x4bb1d9(0xc7b)]('manual-blueprint-modal')[_0x4bb1d9(0x246)][_0x4bb1d9(0x329)]('hidden');}),document[_0x4d621a(0xc7b)]('confirm-manual-bp-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleManualBlueprintSave),document[_0x4d621a(0xc7b)](_0x4d621a(0x4a3))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>document[_0x4d621a(0xc7b)]('blueprint-settings-modal')[_0x4d621a(0x246)][_0x4d621a(0x329)]('hidden')),document['getElementById'](_0x4d621a(0x343))[_0x4d621a(0x21f)]('click',handleSaveBlueprintPageSettings),document[_0x4d621a(0xc7b)](_0x4d621a(0xc5c))['addEventListener'](_0x4d621a(0xb10),openBlueprintQuizSettings),document[_0x4d621a(0xc7b)](_0x4d621a(0xcfb))[_0x4d621a(0x21f)](_0x4d621a(0xb10),saveBlueprintProject),document[_0x4d621a(0xc7b)](_0x4d621a(0x447))['addEventListener']('click',showBlueprintProjects),document[_0x4d621a(0xc7b)]('cancel-blueprint-projects-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x504f2c=_0x4d621a;document[_0x504f2c(0xc7b)]('blueprint-projects-modal')[_0x504f2c(0x246)][_0x504f2c(0x329)](_0x504f2c(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x866))['addEventListener'](_0x4d621a(0xb10),_0x575fe3=>{const _0x55cb1a=_0x4d621a,_0x5bfdca=_0x575fe3[_0x55cb1a(0x796)][_0x55cb1a(0x2ec)](_0x55cb1a(0x8c7)),_0x4f8e42=_0x575fe3[_0x55cb1a(0x796)]['closest'](_0x55cb1a(0xbb8));if(_0x5bfdca)displayBlueprintProjectManager(_0x5bfdca[_0x55cb1a(0xaf8)]['id']);else _0x4f8e42&&handleDeepDeleteBlueprintProject(_0x4f8e42[_0x55cb1a(0xaf8)]['id']);}),document['getElementById'](_0x4d621a(0x80c))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x465732=_0x4d621a;currentBlueprintProjectId=null,currentProjectId=null,document[_0x465732(0xc7b)](_0x465732(0x424))[_0x465732(0x246)][_0x465732(0x329)](_0x465732(0x35d)),showView(_0x465732(0x9bc));}),document['getElementById']('bp-add-topic-btn')[_0x4d621a(0x21f)]('click',addTopicToProject),document[_0x4d621a(0xc7b)](_0x4d621a(0xb52))[_0x4d621a(0x21f)]('click',async _0x2ce682=>{const _0x26c593=_0x4d621a,_0x522a78=_0x2ce682[_0x26c593(0x796)]['closest']('[data-topic-id]');if(!_0x522a78)return;const _0x427e23=_0x522a78[_0x26c593(0xaf8)][_0x26c593(0x280)],_0x48c2af=_0x2ce682[_0x26c593(0x796)]['closest']('.bp-create-onet-quiz-btn'),_0x78e2f7=_0x2ce682[_0x26c593(0x796)]['closest'](_0x26c593(0x2de)),_0x4b60b2=_0x2ce682[_0x26c593(0x796)][_0x26c593(0x2ec)](_0x26c593(0x749)),_0x1ff6a3=_0x2ce682[_0x26c593(0x796)][_0x26c593(0x2ec)]('.bp-open-topic-bank-btn'),_0x567274=_0x2ce682[_0x26c593(0x796)][_0x26c593(0x2ec)](_0x26c593(0x8b5)),_0x48be7b=_0x2ce682[_0x26c593(0x796)][_0x26c593(0x2ec)](_0x26c593(0x7f7)),_0x1a654e=_0x2ce682[_0x26c593(0x796)][_0x26c593(0x2ec)](_0x26c593(0xcaf)),_0x1be285=_0x2ce682[_0x26c593(0x796)][_0x26c593(0x2ec)](_0x26c593(0xa6c)),_0x394ac8=_0x1198ad=>{const _0x16bed5=_0x26c593,_0x4f0d5a=_0x1198ad['querySelector'](_0x16bed5(0x599))['textContent'][_0x16bed5(0x958)](),_0x3c6d02=_0x1198ad[_0x16bed5(0x2ec)](_0x16bed5(0x600))[_0x16bed5(0x899)],_0x2482cc=_0x3c6d02?_0x3c6d02['textContent']['trim']():'';return _0x2482cc+':\x20'+_0x4f0d5a;};if(_0x1ff6a3)openTopicQuizBank(_0x427e23);else{if(_0x48c2af){const _0x554b77=_0x394ac8(_0x522a78);selectProjectAndGenerateBlueprintQuiz(_0x554b77,null,_0x427e23,!![]);}else{if(_0x78e2f7){const _0x4ea2b6=_0x394ac8(_0x522a78);try{const _0xcf8583=doc(db,_0x26c593(0xb73)+appId+_0x26c593(0x856)+currentBlueprintProjectId+'/lessons',_0x427e23),_0x537b28=await getDoc(_0xcf8583);if(_0x537b28[_0x26c593(0xb1f)]()){const _0x2ae64e=_0x537b28[_0x26c593(0x4da)]()[_0x26c593(0x16d)],_0x47034e=document[_0x26c593(0xb4b)](_0x26c593(0x15f)),_0x50c02e=_0x498f13=>{if(!_0x498f13)return'';return _0x47034e['innerHTML']=_0x498f13,_0x47034e['textContent']||_0x47034e['innerText']||'';},_0x3366f0=(_0x50c02e(_0x2ae64e[_0x26c593(0x644)])+'\x20'+_0x50c02e(_0x2ae64e['memory'])+'\x20'+_0x50c02e(_0x2ae64e[_0x26c593(0x792)]))[_0x26c593(0x958)]();selectProjectAndGenerateBlueprintQuiz(_0x4ea2b6,_0x3366f0,_0x427e23,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x61678a){console[_0x26c593(0xab1)](_0x26c593(0x754),_0x61678a),showMessage(_0x26c593(0x242));}}else{if(_0x4b60b2){const _0x5c71d6=_0x394ac8(_0x522a78);selectProjectAndGenerateBlueprintQuiz(_0x5c71d6,null,_0x427e23,![]);}else{if(_0x567274){const _0x552b9f=doc(db,_0x26c593(0xb73)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x30fd61=await getDoc(_0x552b9f);if(_0x30fd61[_0x26c593(0xb1f)]()){const _0x58ea68=_0x30fd61[_0x26c593(0x4da)](),_0x28542d=_0x58ea68[_0x26c593(0xd19)][_0x427e23];if(_0x28542d&&_0x28542d['status']===_0x26c593(0x6a6))try{const _0x3654d1=doc(db,'artifacts/'+appId+_0x26c593(0x856)+currentBlueprintProjectId+_0x26c593(0x8ad),_0x427e23),_0x42a140=await getDoc(_0x3654d1);if(_0x42a140[_0x26c593(0xb1f)]()){const _0x331f17=_0x42a140[_0x26c593(0x4da)]()[_0x26c593(0x16d)];document['getElementById'](_0x26c593(0x72a))[_0x26c593(0x448)]=_0x26c593(0x723)+_0x394ac8(_0x522a78),document[_0x26c593(0xc7b)](_0x26c593(0x3ca))[_0x26c593(0x9be)]=_0x331f17[_0x26c593(0x644)],document['getElementById'](_0x26c593(0x1b6))['innerHTML']=_0x331f17[_0x26c593(0x2f2)],document[_0x26c593(0xc7b)](_0x26c593(0x1ba))['innerHTML']=_0x331f17[_0x26c593(0x792)];const _0x2630cf=document[_0x26c593(0xc7b)](_0x26c593(0x5b0));_0x331f17[_0x26c593(0x86f)]?(currentApplicationData=_0x331f17['applicationData'],_0x2630cf[_0x26c593(0x9be)]=currentApplicationData[_0x26c593(0x327)]((_0x35b1fa,_0x3c9984)=>_0x26c593(0x498)+(_0x3c9984+0x1)+'.\x20'+marked[_0x26c593(0x631)](_0x35b1fa[_0x26c593(0xa76)])+_0x26c593(0xd57)+_0x3c9984+_0x26c593(0x455)+_0x35b1fa[_0x26c593(0x929)][_0x26c593(0x327)]((_0x19239e,_0x4da302)=>_0x26c593(0xba4)+_0x3c9984+',\x20'+_0x4da302+_0x26c593(0xa88)+String[_0x26c593(0xa56)](0x61+_0x4da302)+'.\x20'+marked[_0x26c593(0x631)](_0x19239e)+_0x26c593(0x710))['join']('')+'</div></div>')[_0x26c593(0x7a0)]('')):(currentApplicationData=[],_0x2630cf[_0x26c593(0x9be)]=_0x331f17[_0x26c593(0xa95)]||_0x331f17[_0x26c593(0x464)]),document[_0x26c593(0xc7b)](_0x26c593(0x4f1))[_0x26c593(0x246)][_0x26c593(0x329)]('hidden'),document[_0x26c593(0xc7b)](_0x26c593(0x37d))[_0x26c593(0x246)][_0x26c593(0x142)]('hidden'),document[_0x26c593(0xc7b)](_0x26c593(0x8d9))[_0x26c593(0x246)]['remove'](_0x26c593(0x35d)),window[_0x26c593(0x8a3)]&&MathJax[_0x26c593(0x91c)]([document[_0x26c593(0xc7b)](_0x26c593(0x95e))]);}else showMessage(_0x26c593(0x26d));}catch(_0x4e9adc){console[_0x26c593(0xab1)](_0x26c593(0x901),_0x4e9adc),showMessage(_0x26c593(0x92d));}else showMessage(_0x26c593(0xb92));}}else{if(_0x48be7b){const _0x22d276=_0x394ac8(_0x522a78),_0x20dbcd=doc(db,_0x26c593(0xb73)+appId+_0x26c593(0x6f3),currentBlueprintProjectId),_0x19adc0=await getDoc(_0x20dbcd);if(_0x19adc0[_0x26c593(0xb1f)]()){const _0x41eed1=_0x19adc0[_0x26c593(0x4da)]();generateAndSaveLessonForBlueprint(_0x427e23,_0x22d276,_0x41eed1[_0x26c593(0x262)]);}}else{if(_0x1a654e)editTopicInProject(_0x427e23);else _0x1be285&&deleteTopicFromProject(_0x427e23);}}}}}}}),document[_0x4d621a(0xc7b)]('fix-lesson-latex-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleFixLessonLatex),document[_0x4d621a(0xc7b)](_0x4d621a(0xaa9))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleExportLessonToPDF),document[_0x4d621a(0xc7b)](_0x4d621a(0x80f))['addEventListener']('click',()=>{const _0x56ecb8=_0x4d621a;document[_0x56ecb8(0xc7b)](_0x56ecb8(0x8d9))[_0x56ecb8(0x246)][_0x56ecb8(0x329)](_0x56ecb8(0x35d));});const _0x369aaa=document[_0x4d621a(0xc7b)]('bulk-confidence-scoring-checkbox'),_0x1dbda9=document[_0x4d621a(0xc7b)]('bulk-confidence-mode-container');_0x369aaa[_0x4d621a(0x21f)](_0x4d621a(0x946),()=>{const _0x4e4ef8=_0x4d621a;_0x1dbda9[_0x4e4ef8(0x246)][_0x4e4ef8(0x650)](_0x4e4ef8(0x35d),!_0x369aaa[_0x4e4ef8(0xa1c)]);});const _0x2a51fc=document['getElementById'](_0x4d621a(0x6ef)),_0x231a03=document[_0x4d621a(0xc7b)]('confidence-mode-container');_0x2a51fc['addEventListener']('change',()=>{const _0x24f01c=_0x4d621a;_0x231a03[_0x24f01c(0x246)][_0x24f01c(0x650)](_0x24f01c(0x35d),!_0x2a51fc['checked']);});const _0x581473=document[_0x4d621a(0xc7b)](_0x4d621a(0xc1b)),_0x2d4d51=document[_0x4d621a(0xc7b)](_0x4d621a(0x15e));_0x581473[_0x4d621a(0x21f)](_0x4d621a(0x946),()=>{const _0x4621a8=_0x4d621a;_0x2d4d51[_0x4621a8(0x246)][_0x4621a8(0x650)](_0x4621a8(0x35d),!_0x581473[_0x4621a8(0xa1c)]);});const _0x1aae1a=document[_0x4d621a(0xc7b)](_0x4d621a(0x8ac)),_0x1a452c=async _0x49be2b=>{const _0xbcd66=_0x4d621a,_0x45ddcf=document['getElementById'](_0xbcd66(0x8ac)),_0x52125d=_0x45ddcf[_0xbcd66(0xaf8)][_0xbcd66(0x8ec)],_0x42aed3=document[_0xbcd66(0xc7b)](_0xbcd66(0xa0c));_0x45ddcf[_0xbcd66(0x246)][_0xbcd66(0x329)](_0xbcd66(0x35d));if(_0x52125d==='timed'){const _0x46ebf7=_0x42aed3[_0xbcd66(0xab9)],_0xa3644c={'answer':_0x46ebf7,'wasConfident':_0x49be2b};proceedToNextQuestion(_0xa3644c);}else{if(_0x52125d===_0xbcd66(0x3f4)){const _0x4dc3f1=_0x42aed3['dataset']['answerValue'],_0x42182a=JSON['parse'](_0x42aed3[_0xbcd66(0xaf8)][_0xbcd66(0xa76)]),_0x51d6e3=JSON['parse'](_0x42aed3[_0xbcd66(0xaf8)][_0xbcd66(0x980)]),_0x6c7cb3=_0x42aed3[_0xbcd66(0xaf8)][_0xbcd66(0xc41)];handleSyncAnswerSubmit(_0x4dc3f1,_0x42182a,_0x51d6e3,_0x6c7cb3,_0x49be2b);}}_0x45ddcf[_0xbcd66(0xaf8)][_0xbcd66(0x8ec)]='';};document[_0x4d621a(0xc7b)](_0x4d621a(0x3cf))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>_0x1a452c(!![])),document['getElementById'](_0x4d621a(0x16c))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>_0x1a452c(![])),liveGameView[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x5af7c3=>{const _0x2343e1=_0x4d621a,_0x96b6d1=_0x5af7c3[_0x2343e1(0x796)]['closest'](_0x2343e1(0x861));if(_0x96b6d1){const _0x11acaa=_0x96b6d1['dataset'][_0x2343e1(0xc41)];_0x11acaa&&handleKickPlayerSync(_0x11acaa);}});const _0x1cc09b=document[_0x4d621a(0xc7b)](_0x4d621a(0x6eb)),_0x314cfb=document[_0x4d621a(0xc7b)](_0x4d621a(0x436));_0x314cfb[_0x4d621a(0x21f)]('click',()=>{const _0x5e9fc4=_0x4d621a;document[_0x5e9fc4(0xc7b)](_0x5e9fc4(0x9c5))[_0x5e9fc4(0x246)][_0x5e9fc4(0x329)](_0x5e9fc4(0x35d));}),_0x1cc09b[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x392561=_0x4d621a,_0x1d899a=document[_0x392561(0xc7b)]('game-start-quiz-id')[_0x392561(0xab9)],_0x2dc2c5=document[_0x392561(0xc7b)](_0x392561(0x677))[_0x392561(0xab9)],_0x2091fd=document[_0x392561(0xc7b)]('save-game-results-checkbox')[_0x392561(0xa1c)];document[_0x392561(0xc7b)]('confirm-game-start-modal')[_0x392561(0x246)][_0x392561(0x329)]('hidden');switch(_0x2dc2c5){case _0x392561(0x812):handleStartLiveRace(_0x1d899a,_0x2091fd);break;case _0x392561(0x5b5):handleStartTeamQuiz(_0x1d899a,_0x2091fd);break;case _0x392561(0x3ab):handleStartGroupMode(_0x1d899a,_0x2091fd);break;case'sync':const _0x48df18=document[_0x392561(0x452)](_0x392561(0x630))[_0x392561(0xab9)]||_0x392561(0x70c);handleStartSyncMode(_0x1d899a,_0x2091fd,_0x48df18);break;}}),document[_0x4d621a(0xc7b)](_0x4d621a(0x730))['addEventListener']('click',handleJoinGroupActivity),liveGameView[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0xdbf357=>{const _0x5c9cb0=_0x4d621a,_0x55216f=_0xdbf357[_0x5c9cb0(0x796)][_0x5c9cb0(0x2ec)](_0x5c9cb0(0x2b5));document['querySelectorAll']('.live-summary-tooltip.visible')[_0x5c9cb0(0x808)](_0x30ab1d=>{const _0x48f2fc=_0x5c9cb0;(!_0x55216f||_0x30ab1d['id']!==_0x55216f[_0x48f2fc(0xaf8)][_0x48f2fc(0xc8c)])&&_0x30ab1d[_0x48f2fc(0x246)][_0x48f2fc(0x142)](_0x48f2fc(0xa46));});if(!_0x55216f)return;const _0x57b2eb=_0x55216f[_0x5c9cb0(0xaf8)][_0x5c9cb0(0xc8c)],_0x3b0d58=document[_0x5c9cb0(0xc7b)](_0x57b2eb);_0x3b0d58&&_0x3b0d58[_0x5c9cb0(0x246)][_0x5c9cb0(0x650)](_0x5c9cb0(0xa46));}),liveGameView[_0x4d621a(0x21f)]('click',_0x581777=>{const _0x1b3b57=_0x4d621a;if(_0x581777[_0x1b3b57(0x796)][_0x1b3b57(0x246)][_0x1b3b57(0x543)](_0x1b3b57(0x98b))){const _0x5689c1=_0x581777[_0x1b3b57(0x796)]['dataset'][_0x1b3b57(0xc41)];_0x5689c1&&handleKickPlayer(_0x5689c1);}}),document[_0x4d621a(0xc7b)]('project-title')[_0x4d621a(0x21f)](_0x4d621a(0x283),()=>document[_0x4d621a(0xc7b)](_0x4d621a(0x7ee))['classList'][_0x4d621a(0x142)]('hidden')),document[_0x4d621a(0xc7b)](_0x4d621a(0x7ee))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleSaveProjectName),document['getElementById'](_0x4d621a(0xc77))[_0x4d621a(0x21f)](_0x4d621a(0x328),_0x1802a4=>{const _0x1ae286=_0x4d621a;_0x1802a4['key']===_0x1ae286(0xabd)&&(_0x1802a4[_0x1ae286(0xcd0)](),_0x1802a4[_0x1ae286(0x796)]['blur'](),handleSaveProjectName());}),document[_0x4d621a(0xc7b)](_0x4d621a(0x9fd))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x23054d=_0x4d621a;document[_0x23054d(0xc7b)](_0x23054d(0xc3e))[_0x23054d(0x246)]['remove'](_0x23054d(0x35d));}),document[_0x4d621a(0xc7b)]('cancel-bulk-quiz-settings-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x5db24e=_0x4d621a;document['getElementById'](_0x5db24e(0xc3e))[_0x5db24e(0x246)][_0x5db24e(0x329)](_0x5db24e(0x35d));}),document['getElementById'](_0x4d621a(0x30a))['addEventListener'](_0x4d621a(0xb10),handleBulkUpdateQuizSettings),document[_0x4d621a(0xc7b)](_0x4d621a(0xd46))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleModeSwitch),document[_0x4d621a(0xc7b)]('update-old-quizzes-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleUpdateOldQuizzes),document[_0x4d621a(0xc7b)](_0x4d621a(0xae7))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleResetProjectOrder),document[_0x4d621a(0xc7b)]('save-visibility-settings-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleSaveVisibilitySettings),document[_0x4d621a(0xc7b)](_0x4d621a(0x9cb))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleAddCustomMathTopic),document[_0x4d621a(0xc7b)]('select-all-topics-btn')['addEventListener']('click',handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')['addEventListener'](_0x4d621a(0xb10),handleDeselectAllTopics),document[_0x4d621a(0xc7b)]('back-to-dashboard-btn')['addEventListener'](_0x4d621a(0xb10),()=>{const _0x42bf7f=_0x4d621a;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x42bf7f(0x9bc));}}),document[_0x4d621a(0xc7b)](_0x4d621a(0xd1f))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x3922d1=_0x4d621a;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3922d1(0x848));}}),document['getElementById'](_0x4d621a(0xa3a))['addEventListener'](_0x4d621a(0xb10),()=>{showView('admin-dashboard');}),document[_0x4d621a(0xc7b)](_0x4d621a(0x768))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x10ca97=_0x4d621a;messageModal[_0x10ca97(0x246)][_0x10ca97(0x329)](_0x10ca97(0x35d)),typeof modalConfirmAction===_0x10ca97(0x897)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x4d621a(0xc7b)](_0x4d621a(0x1f4))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>createProjectModal[_0x4d621a(0x246)][_0x4d621a(0x142)](_0x4d621a(0x35d))),document[_0x4d621a(0xc7b)](_0x4d621a(0x8e7))['addEventListener'](_0x4d621a(0xb10),()=>createProjectModal['classList'][_0x4d621a(0x329)](_0x4d621a(0x35d))),document[_0x4d621a(0xc7b)](_0x4d621a(0x702))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>adminPasswordModal[_0x4d621a(0x246)][_0x4d621a(0x329)](_0x4d621a(0x35d))),document[_0x4d621a(0xc7b)](_0x4d621a(0x5ee))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleAdminLogin),document[_0x4d621a(0xc7b)](_0x4d621a(0x7ae))[_0x4d621a(0x21f)]('keyup',_0x19bdfb=>{if(_0x19bdfb['key']==='Enter')handleAdminLogin();}),document[_0x4d621a(0xc7b)]('cancel-delete-btn')['addEventListener'](_0x4d621a(0xb10),()=>{const _0x2e6f67=_0x4d621a;confirmationModal[_0x2e6f67(0x246)][_0x2e6f67(0x329)]('hidden'),confirmAction=null;}),document[_0x4d621a(0xc7b)](_0x4d621a(0x532))['addEventListener'](_0x4d621a(0xb10),()=>{const _0x8304d2=_0x4d621a;confirmAction&&confirmAction(),confirmationModal['classList'][_0x8304d2(0x329)](_0x8304d2(0x35d)),confirmAction=null;}),document['getElementById'](_0x4d621a(0x3df))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>renameQuizModal[_0x4d621a(0x246)][_0x4d621a(0x329)](_0x4d621a(0x35d))),document[_0x4d621a(0xc7b)]('confirm-rename-quiz-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),confirmRenameQuiz),document['getElementById'](_0x4d621a(0x6fb))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>moveQuizModal['classList'][_0x4d621a(0x329)](_0x4d621a(0x35d))),document[_0x4d621a(0xc7b)](_0x4d621a(0xbcb))[_0x4d621a(0x21f)](_0x4d621a(0xb10),confirmMoveQuiz),document['getElementById'](_0x4d621a(0x78b))['addEventListener'](_0x4d621a(0xb10),()=>quizSettingsModal['classList'][_0x4d621a(0x329)](_0x4d621a(0x35d))),document['getElementById']('confirm-quiz-settings-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),confirmQuizSettings),document[_0x4d621a(0xc7b)]('cancel-quiz-status-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>quizStatusModal[_0x4d621a(0x246)][_0x4d621a(0x329)](_0x4d621a(0x35d))),document[_0x4d621a(0xc7b)]('confirm-quiz-status-btn')['addEventListener']('click',confirmQuizStatus);const _0xada723=document[_0x4d621a(0xc7b)]('export-pdf-modal');document[_0x4d621a(0xc7b)](_0x4d621a(0x91e))['addEventListener'](_0x4d621a(0xb10),()=>{const _0x37fa24=_0x4d621a;_0xada723[_0x37fa24(0x246)][_0x37fa24(0x329)]('hidden');}),document['getElementById']('export-compact-pdf-btn')['addEventListener'](_0x4d621a(0xb10),async()=>{const _0x540111=_0x4d621a,_0x5827b3=allQuizzes['find'](_0x43f74f=>_0x43f74f['id']===actionTargetId);_0x5827b3?(currentQuizData=_0x5827b3,exportQuizAsWorksheetPDF()):showMessage(_0x540111(0x6cb)),_0xada723[_0x540111(0x246)][_0x540111(0x329)](_0x540111(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x5b1))[_0x4d621a(0x21f)](_0x4d621a(0xb10),async()=>{const _0x1b1662=_0x4d621a,_0x62823b=allQuizzes['find'](_0x33a397=>_0x33a397['id']===actionTargetId);_0x62823b?(currentQuizData=_0x62823b,exportQuizAsTutorPDF()):showMessage(_0x1b1662(0x6cb)),_0xada723[_0x1b1662(0x246)]['add'](_0x1b1662(0x35d));});const _0x514bcf=document[_0x4d621a(0xc7b)]('open-global-live-btn');_0x514bcf[_0x4d621a(0x9be)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x514bcf[_0x4d621a(0x21f)](_0x4d621a(0xb10),openGlobalActivityModal),document[_0x4d621a(0xc7b)](_0x4d621a(0x761))[_0x4d621a(0x21f)]('click',()=>{const _0x85b6ab=_0x4d621a;document[_0x85b6ab(0xc7b)]('global-activity-modal')[_0x85b6ab(0x246)][_0x85b6ab(0x329)](_0x85b6ab(0x35d));}),document['getElementById']('global-quiz-search-input')[_0x4d621a(0x21f)](_0x4d621a(0x316),_0x528a92=>{const _0x389c9e=_0x4d621a;renderGlobalActivityList(_0x528a92[_0x389c9e(0x796)][_0x389c9e(0xab9)]);}),document[_0x4d621a(0xc7b)](_0x4d621a(0x8b0))[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x5094d4=>{const _0x50b698=_0x4d621a,_0x142973=_0x5094d4[_0x50b698(0x796)][_0x50b698(0x2ec)](_0x50b698(0xc0f));if(!_0x142973)return;const _0x2fdd55=_0x142973['dataset']['id'],_0xa0999=_0x142973[_0x50b698(0xaf8)][_0x50b698(0x2a4)],_0x3909db=allQuizzesGlobal[_0x50b698(0x5f4)](_0x150676=>_0x150676['id']===_0x2fdd55);_0x3909db&&(document[_0x50b698(0xc7b)](_0x50b698(0x556))[_0x50b698(0x246)][_0x50b698(0x329)](_0x50b698(0x35d)),_0xa0999===_0x50b698(0x812)?handleStartLiveRace(_0x2fdd55):showGameStartConfirmationModal(_0x2fdd55,_0xa0999,_0x3909db[_0x50b698(0x613)]));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x201))['addEventListener']('input',renderProjects),document[_0x4d621a(0xc7b)](_0x4d621a(0xb3f))[_0x4d621a(0x21f)](_0x4d621a(0x946),async()=>{const _0xa58abf=_0x4d621a,_0x164ff3=document[_0xa58abf(0xc7b)]('project-sort-select')['value'],_0x238ab7=doc(db,'globalSettings',_0xa58abf(0x44a));try{await setDoc(_0x238ab7,{'projectSort':_0x164ff3},{'merge':!![]});}catch(_0x5abfcb){console[_0xa58abf(0xab1)](_0xa58abf(0x22d),_0x5abfcb),showMessage(_0xa58abf(0x6b8));}}),document['getElementById'](_0x4d621a(0x4af))[_0x4d621a(0x21f)](_0x4d621a(0x316),renderQuizzes),document[_0x4d621a(0xc7b)](_0x4d621a(0x614))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x56c43c=_0x4d621a;globalDashboardSettings[_0x56c43c(0x351)]=_0x56c43c(0x894),saveUserPreference(_0x56c43c(0x351),'grid'),renderProjects();}),document[_0x4d621a(0xc7b)](_0x4d621a(0x744))['addEventListener']('click',()=>{const _0x116650=_0x4d621a;globalDashboardSettings[_0x116650(0x351)]=_0x116650(0x2d7),saveUserPreference(_0x116650(0x351),_0x116650(0x2d7)),renderProjects();}),manageTab[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>switchProjectTab(_0x4d621a(0xc2a))),resultsTab[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>switchProjectTab(_0x4d621a(0xb84))),leaderboardTab[_0x4d621a(0x21f)]('click',()=>switchProjectTab('leaderboard')),document[_0x4d621a(0xc7b)]('analytics-tab-btn')['addEventListener'](_0x4d621a(0xb10),()=>switchQuizDetailTab('analytics')),document[_0x4d621a(0xc7b)](_0x4d621a(0x1b4))['addEventListener'](_0x4d621a(0xb10),()=>switchQuizDetailTab(_0x4d621a(0xbab))),document[_0x4d621a(0xc7b)](_0x4d621a(0x3e6))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>switchQuizDetailTab(_0x4d621a(0x3b4))),document[_0x4d621a(0xc7b)](_0x4d621a(0xcce))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>switchQuizDetailTab('behavior-log')),document['getElementById'](_0x4d621a(0x258))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleAnalyzeClass),generateWorksheetBtn[_0x4d621a(0x21f)](_0x4d621a(0xb10),generateWorksheet);const _0x5285b6=document[_0x4d621a(0xc7b)](_0x4d621a(0xb48)),_0x582c9c=document['getElementById'](_0x4d621a(0xcf0)),_0x4373fe=document[_0x4d621a(0xc7b)]('blueprint-tab'),_0x13e992=document['getElementById'](_0x4d621a(0x9ce)),_0x221c9e=document[_0x4d621a(0xc7b)](_0x4d621a(0xb55)),_0x1d4075=document['getElementById']('parallel-test-input-area');topicTab[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x3ea6a8=_0x4d621a;topicTab[_0x3ea6a8(0x246)][_0x3ea6a8(0x329)](_0x3ea6a8(0x870)),textTab[_0x3ea6a8(0x246)][_0x3ea6a8(0x142)](_0x3ea6a8(0x870)),fileTab[_0x3ea6a8(0x246)][_0x3ea6a8(0x142)](_0x3ea6a8(0x870)),worksheetTab[_0x3ea6a8(0x246)][_0x3ea6a8(0x142)](_0x3ea6a8(0x870));if(_0x5285b6)_0x5285b6[_0x3ea6a8(0x246)][_0x3ea6a8(0x142)](_0x3ea6a8(0x870));if(_0x4373fe)_0x4373fe['classList'][_0x3ea6a8(0x142)](_0x3ea6a8(0x870));if(_0x221c9e)_0x221c9e['classList']['remove'](_0x3ea6a8(0x870));topicInputArea['classList'][_0x3ea6a8(0x142)](_0x3ea6a8(0x35d)),textInputArea[_0x3ea6a8(0x246)]['add'](_0x3ea6a8(0x35d)),fileInputArea['classList'][_0x3ea6a8(0x329)](_0x3ea6a8(0x35d)),worksheetInputArea['classList'][_0x3ea6a8(0x329)](_0x3ea6a8(0x35d));if(_0x582c9c)_0x582c9c[_0x3ea6a8(0x246)]['add'](_0x3ea6a8(0x35d));if(_0x13e992)_0x13e992[_0x3ea6a8(0x246)][_0x3ea6a8(0x329)](_0x3ea6a8(0x35d));if(_0x1d4075)_0x1d4075[_0x3ea6a8(0x246)]['add'](_0x3ea6a8(0x35d));}),textTab[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x42cc6b=_0x4d621a;textTab['classList'][_0x42cc6b(0x329)](_0x42cc6b(0x870)),topicTab[_0x42cc6b(0x246)]['remove'](_0x42cc6b(0x870)),fileTab[_0x42cc6b(0x246)][_0x42cc6b(0x142)](_0x42cc6b(0x870)),worksheetTab[_0x42cc6b(0x246)][_0x42cc6b(0x142)](_0x42cc6b(0x870));if(_0x5285b6)_0x5285b6[_0x42cc6b(0x246)]['remove'](_0x42cc6b(0x870));if(_0x4373fe)_0x4373fe[_0x42cc6b(0x246)][_0x42cc6b(0x142)]('active');if(_0x221c9e)_0x221c9e[_0x42cc6b(0x246)][_0x42cc6b(0x142)](_0x42cc6b(0x870));textInputArea['classList'][_0x42cc6b(0x142)]('hidden'),topicInputArea['classList']['add'](_0x42cc6b(0x35d)),fileInputArea[_0x42cc6b(0x246)][_0x42cc6b(0x329)](_0x42cc6b(0x35d)),worksheetInputArea[_0x42cc6b(0x246)]['add']('hidden');if(_0x582c9c)_0x582c9c[_0x42cc6b(0x246)][_0x42cc6b(0x329)]('hidden');if(_0x13e992)_0x13e992[_0x42cc6b(0x246)][_0x42cc6b(0x329)]('hidden');if(_0x1d4075)_0x1d4075[_0x42cc6b(0x246)][_0x42cc6b(0x329)](_0x42cc6b(0x35d));}),fileTab[_0x4d621a(0x21f)]('click',()=>{const _0x5d7d1e=_0x4d621a;fileTab[_0x5d7d1e(0x246)]['add']('active'),topicTab[_0x5d7d1e(0x246)][_0x5d7d1e(0x142)](_0x5d7d1e(0x870)),textTab[_0x5d7d1e(0x246)][_0x5d7d1e(0x142)](_0x5d7d1e(0x870)),worksheetTab[_0x5d7d1e(0x246)][_0x5d7d1e(0x142)](_0x5d7d1e(0x870));if(_0x5285b6)_0x5285b6[_0x5d7d1e(0x246)][_0x5d7d1e(0x142)](_0x5d7d1e(0x870));if(_0x4373fe)_0x4373fe[_0x5d7d1e(0x246)][_0x5d7d1e(0x142)](_0x5d7d1e(0x870));if(_0x221c9e)_0x221c9e[_0x5d7d1e(0x246)][_0x5d7d1e(0x142)](_0x5d7d1e(0x870));fileInputArea[_0x5d7d1e(0x246)][_0x5d7d1e(0x142)](_0x5d7d1e(0x35d)),topicInputArea[_0x5d7d1e(0x246)]['add']('hidden'),textInputArea[_0x5d7d1e(0x246)][_0x5d7d1e(0x329)](_0x5d7d1e(0x35d)),worksheetInputArea[_0x5d7d1e(0x246)][_0x5d7d1e(0x329)]('hidden');if(_0x582c9c)_0x582c9c[_0x5d7d1e(0x246)][_0x5d7d1e(0x329)](_0x5d7d1e(0x35d));if(_0x13e992)_0x13e992[_0x5d7d1e(0x246)]['add'](_0x5d7d1e(0x35d));if(_0x1d4075)_0x1d4075[_0x5d7d1e(0x246)][_0x5d7d1e(0x329)](_0x5d7d1e(0x35d));}),worksheetTab[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x4aa667=_0x4d621a;worksheetTab[_0x4aa667(0x246)][_0x4aa667(0x329)](_0x4aa667(0x870)),topicTab[_0x4aa667(0x246)][_0x4aa667(0x142)](_0x4aa667(0x870)),textTab[_0x4aa667(0x246)]['remove'](_0x4aa667(0x870)),fileTab['classList'][_0x4aa667(0x142)](_0x4aa667(0x870));if(_0x5285b6)_0x5285b6[_0x4aa667(0x246)]['remove'](_0x4aa667(0x870));if(_0x4373fe)_0x4373fe[_0x4aa667(0x246)][_0x4aa667(0x142)](_0x4aa667(0x870));if(_0x221c9e)_0x221c9e['classList'][_0x4aa667(0x142)](_0x4aa667(0x870));worksheetInputArea[_0x4aa667(0x246)][_0x4aa667(0x142)](_0x4aa667(0x35d)),topicInputArea[_0x4aa667(0x246)][_0x4aa667(0x329)](_0x4aa667(0x35d)),textInputArea[_0x4aa667(0x246)][_0x4aa667(0x329)](_0x4aa667(0x35d)),fileInputArea[_0x4aa667(0x246)][_0x4aa667(0x329)](_0x4aa667(0x35d));if(_0x582c9c)_0x582c9c[_0x4aa667(0x246)][_0x4aa667(0x329)](_0x4aa667(0x35d));if(_0x13e992)_0x13e992[_0x4aa667(0x246)]['add'](_0x4aa667(0x35d));if(_0x1d4075)_0x1d4075[_0x4aa667(0x246)][_0x4aa667(0x329)](_0x4aa667(0x35d));});const _0x324f83=document[_0x4d621a(0xc7b)]('bank-tab'),_0x7d1c74=document['getElementById'](_0x4d621a(0x344));_0x324f83&&_0x324f83[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x680ba1=_0x4d621a;topicTab[_0x680ba1(0x246)]['remove'](_0x680ba1(0x870)),textTab['classList'][_0x680ba1(0x142)](_0x680ba1(0x870)),fileTab[_0x680ba1(0x246)][_0x680ba1(0x142)]('active'),worksheetTab[_0x680ba1(0x246)][_0x680ba1(0x142)](_0x680ba1(0x870));if(_0x5285b6)_0x5285b6['classList'][_0x680ba1(0x142)](_0x680ba1(0x870));if(_0x4373fe)_0x4373fe['classList'][_0x680ba1(0x142)](_0x680ba1(0x870));if(_0x221c9e)_0x221c9e[_0x680ba1(0x246)][_0x680ba1(0x142)]('active');_0x324f83[_0x680ba1(0x246)][_0x680ba1(0x329)](_0x680ba1(0x870)),topicInputArea[_0x680ba1(0x246)]['add']('hidden'),textInputArea[_0x680ba1(0x246)][_0x680ba1(0x329)]('hidden'),fileInputArea['classList'][_0x680ba1(0x329)](_0x680ba1(0x35d)),worksheetInputArea['classList'][_0x680ba1(0x329)]('hidden');if(_0x582c9c)_0x582c9c['classList'][_0x680ba1(0x329)]('hidden');if(_0x13e992)_0x13e992[_0x680ba1(0x246)][_0x680ba1(0x329)](_0x680ba1(0x35d));if(_0x1d4075)_0x1d4075[_0x680ba1(0x246)][_0x680ba1(0x329)]('hidden');_0x7d1c74['classList'][_0x680ba1(0x142)](_0x680ba1(0x35d)),displayQuestionBank();});_0x5285b6&&(_0x5285b6['addEventListener'](_0x4d621a(0xb10),()=>{const _0x3551c4=_0x4d621a;_0x5285b6['classList'][_0x3551c4(0x329)](_0x3551c4(0x870)),topicTab['classList'][_0x3551c4(0x142)](_0x3551c4(0x870)),textTab['classList'][_0x3551c4(0x142)](_0x3551c4(0x870)),fileTab['classList'][_0x3551c4(0x142)]('active'),worksheetTab['classList'][_0x3551c4(0x142)]('active');if(_0x4373fe)_0x4373fe[_0x3551c4(0x246)][_0x3551c4(0x142)]('active');if(_0x221c9e)_0x221c9e[_0x3551c4(0x246)][_0x3551c4(0x142)](_0x3551c4(0x870));_0x582c9c[_0x3551c4(0x246)][_0x3551c4(0x142)](_0x3551c4(0x35d)),topicInputArea[_0x3551c4(0x246)]['add']('hidden'),textInputArea[_0x3551c4(0x246)][_0x3551c4(0x329)](_0x3551c4(0x35d)),fileInputArea[_0x3551c4(0x246)][_0x3551c4(0x329)](_0x3551c4(0x35d)),worksheetInputArea[_0x3551c4(0x246)][_0x3551c4(0x329)]('hidden');if(_0x13e992)_0x13e992[_0x3551c4(0x246)]['add'](_0x3551c4(0x35d));if(_0x1d4075)_0x1d4075[_0x3551c4(0x246)]['add'](_0x3551c4(0x35d));}),document[_0x4d621a(0xc7b)]('generate-from-link-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleGenerateFromLink));_0x4373fe&&_0x4373fe['addEventListener'](_0x4d621a(0xb10),()=>{const _0x12ab87=_0x4d621a;_0x4373fe[_0x12ab87(0x246)]['add'](_0x12ab87(0x870)),topicTab[_0x12ab87(0x246)][_0x12ab87(0x142)]('active'),textTab['classList'][_0x12ab87(0x142)]('active'),fileTab[_0x12ab87(0x246)][_0x12ab87(0x142)]('active'),worksheetTab[_0x12ab87(0x246)][_0x12ab87(0x142)](_0x12ab87(0x870));if(_0x5285b6)_0x5285b6[_0x12ab87(0x246)][_0x12ab87(0x142)](_0x12ab87(0x870));if(_0x324f83)_0x324f83[_0x12ab87(0x246)][_0x12ab87(0x142)](_0x12ab87(0x870));if(_0x221c9e)_0x221c9e[_0x12ab87(0x246)][_0x12ab87(0x142)](_0x12ab87(0x870));_0x13e992[_0x12ab87(0x246)][_0x12ab87(0x142)](_0x12ab87(0x35d)),topicInputArea[_0x12ab87(0x246)]['add'](_0x12ab87(0x35d)),textInputArea['classList'][_0x12ab87(0x329)](_0x12ab87(0x35d)),fileInputArea['classList'][_0x12ab87(0x329)](_0x12ab87(0x35d)),worksheetInputArea['classList'][_0x12ab87(0x329)]('hidden');if(_0x582c9c)_0x582c9c[_0x12ab87(0x246)][_0x12ab87(0x329)](_0x12ab87(0x35d));if(_0x7d1c74)_0x7d1c74[_0x12ab87(0x246)]['add'](_0x12ab87(0x35d));if(_0x1d4075)_0x1d4075['classList']['add'](_0x12ab87(0x35d));});_0x221c9e&&_0x221c9e[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x538225=_0x4d621a;_0x221c9e['classList'][_0x538225(0x329)](_0x538225(0x870)),topicTab[_0x538225(0x246)]['remove'](_0x538225(0x870)),textTab['classList'][_0x538225(0x142)](_0x538225(0x870)),fileTab[_0x538225(0x246)]['remove'](_0x538225(0x870)),worksheetTab[_0x538225(0x246)]['remove'](_0x538225(0x870));if(_0x5285b6)_0x5285b6['classList'][_0x538225(0x142)]('active');if(_0x4373fe)_0x4373fe[_0x538225(0x246)][_0x538225(0x142)](_0x538225(0x870));if(_0x324f83)_0x324f83['classList']['remove'](_0x538225(0x870));_0x1d4075[_0x538225(0x246)]['remove'](_0x538225(0x35d)),topicInputArea['classList']['add'](_0x538225(0x35d)),textInputArea[_0x538225(0x246)][_0x538225(0x329)]('hidden'),fileInputArea[_0x538225(0x246)][_0x538225(0x329)](_0x538225(0x35d)),worksheetInputArea[_0x538225(0x246)][_0x538225(0x329)](_0x538225(0x35d));if(_0x582c9c)_0x582c9c[_0x538225(0x246)]['add'](_0x538225(0x35d));if(_0x13e992)_0x13e992[_0x538225(0x246)][_0x538225(0x329)](_0x538225(0x35d));if(_0x7d1c74)_0x7d1c74[_0x538225(0x246)]['add'](_0x538225(0x35d));});const _0x16dae3=document['getElementById']('blueprint-upload-input'),_0x2e3be4=document['getElementById'](_0x4d621a(0x317));if(_0x16dae3){const _0x3e664f=document['getElementById'](_0x4d621a(0xac2)),_0x17041c=document[_0x4d621a(0xc7b)](_0x4d621a(0x317)),_0x3211f0=document[_0x4d621a(0xc7b)](_0x4d621a(0xa6d)),_0x6f39a5=document['getElementById'](_0x4d621a(0x838)),_0x1355c4=document[_0x4d621a(0xc7b)](_0x4d621a(0xd15)),_0x31125b=document[_0x4d621a(0xc7b)]('blueprint-topics-list');_0x3e664f&&_0x3e664f[_0x4d621a(0x21f)](_0x4d621a(0x946),async _0x120f9e=>{const _0x2ae556=_0x4d621a;_0x3211f0[_0x2ae556(0x246)][_0x2ae556(0x329)](_0x2ae556(0x35d)),_0x1355c4[_0x2ae556(0x246)][_0x2ae556(0x329)]('hidden'),_0x6f39a5[_0x2ae556(0xa1c)]=![],_0x17041c[_0x2ae556(0x514)]=!![];const _0x2b8e75=_0x120f9e['target'][_0x2ae556(0x26a)][0x0];if(_0x2b8e75){_0x17041c[_0x2ae556(0x514)]=![];try{const _0x9ecee1=await extractTextFromPdf(_0x2b8e75);await analyzeBlueprintForTopics(_0x9ecee1);}catch(_0x2d924d){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x3211f0['classList'][_0x2ae556(0x329)](_0x2ae556(0x35d));}}}),_0x6f39a5&&_0x6f39a5[_0x4d621a(0x21f)]('change',_0x277833=>{const _0x4ead36=_0x4d621a,_0x1ff9bd=_0x277833[_0x4ead36(0x796)][_0x4ead36(0xa1c)];_0x1355c4['classList'][_0x4ead36(0x650)](_0x4ead36(0x35d),!_0x1ff9bd),_0x17041c[_0x4ead36(0x514)]=_0x1ff9bd;}),_0x31125b&&(_0x31125b&&_0x31125b[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x271f84=>{const _0x587391=_0x4d621a,_0x4f57ac=_0x271f84['target'][_0x587391(0x2ec)]('.topic-selection-btn'),_0x4a0eb4=_0x271f84[_0x587391(0x796)][_0x587391(0x2ec)]('.generate-content-btn');if(_0x4f57ac){const _0x572383=unescape(_0x4f57ac[_0x587391(0xaf8)][_0x587391(0x613)]);generateQuizForSingleTopic(_0x572383);}else{if(_0x4a0eb4){const _0x222cc5=unescape(_0x4a0eb4[_0x587391(0xaf8)]['topic']);handleGenerateTeachingContent(_0x222cc5);}}}));}_0x2e3be4&&_0x2e3be4[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleGenerateFromBlueprint);const _0x475e9b=document[_0x4d621a(0xc7b)](_0x4d621a(0x975)),_0x566810=document[_0x4d621a(0xc7b)](_0x4d621a(0x562));_0x475e9b&&_0x475e9b[_0x4d621a(0x21f)](_0x4d621a(0x946),_0x1dc3e5=>{const _0x51de5b=_0x4d621a;_0x566810[_0x51de5b(0x514)]=_0x1dc3e5[_0x51de5b(0x796)][_0x51de5b(0x26a)][_0x51de5b(0xa33)]===0x0;});_0x566810&&_0x566810[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleLoadQuiz),startQuizBtn[_0x4d621a(0x21f)](_0x4d621a(0xb10),async()=>{const _0x4d6557=_0x4d621a,_0x242191=document['getElementById'](_0x4d6557(0xa17));currentStudentName=_0x242191[_0x4d6557(0xab9)];if(!currentStudentName){showMessage(_0x4d6557(0x867));return;}try{const _0x7b1e7=currentQuizData['id'],_0x106482=doc(db,_0x4d6557(0xb73)+appId+'/public/data/quizzes/'+_0x7b1e7+'/submissions',currentStudentName),_0x41a2b8=await getDoc(_0x106482);!_0x41a2b8[_0x4d6557(0xb1f)]()?await setDoc(_0x106482,{'studentName':currentStudentName,'startedAt':new Date()[_0x4d6557(0x67e)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x106482,{'startedAt':new Date()[_0x4d6557(0x67e)]()});}catch(_0x536a51){console['error'](_0x4d6557(0xa45),_0x536a51),showMessage(_0x4d6557(0x7e5));return;}studentNameSelectionView[_0x4d6557(0x246)][_0x4d6557(0x329)](_0x4d6557(0x35d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById']('join-live-game-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x4d621a(0x21f)]('click',handleJoinLiveGame),document['getElementById'](_0x4d621a(0x841))['addEventListener'](_0x4d621a(0xb10),()=>showView(_0x4d621a(0x568)));const _0x439f33=()=>{const _0x3e2a43=_0x4d621a,_0x1a4461=document[_0x3e2a43(0xc7b)](_0x3e2a43(0x36d))[_0x3e2a43(0x448)][_0x3e2a43(0x715)](/[^a-z0-9]/gi,'_')[_0x3e2a43(0xd4a)]();return _0x3e2a43(0xaa8)+(_0x1a4461||_0x3e2a43(0xb6a));},_0x3962bd=document[_0x4d621a(0xc7b)](_0x4d621a(0x31f));_0x3962bd&&_0x3962bd['addEventListener'](_0x4d621a(0x316),_0x310830=>{const _0xeda212=_0x4d621a,_0x6481c0=_0x310830[_0xeda212(0x796)][_0xeda212(0xab9)][_0xeda212(0xd4a)]()[_0xeda212(0x958)](),_0xc8f1f7=document[_0xeda212(0xc7b)](_0xeda212(0x267)),_0x265225=_0xc8f1f7[_0xeda212(0x336)](_0xeda212(0x4b9));_0x265225['forEach'](_0x43e0d7=>{const _0x49b86c=_0xeda212;let _0x3306a=![];const _0x881e49=_0x43e0d7[_0x49b86c(0x336)](_0x49b86c(0x504));_0x881e49[_0x49b86c(0x808)](_0x1e3c73=>{const _0x39658f=_0x49b86c,_0x4a7306=_0x1e3c73['querySelector']('.topic-name-display')['textContent'][_0x39658f(0xd4a)]();_0x4a7306[_0x39658f(0xc04)](_0x6481c0)?(_0x1e3c73[_0x39658f(0x59f)][_0x39658f(0x18e)]=_0x39658f(0x6e3),_0x3306a=!![]):_0x1e3c73[_0x39658f(0x59f)][_0x39658f(0x18e)]='none';}),_0x3306a?_0x43e0d7['style'][_0x49b86c(0x18e)]='block':_0x43e0d7[_0x49b86c(0x59f)][_0x49b86c(0x18e)]='none';});});document[_0x4d621a(0xc7b)](_0x4d621a(0x2a8))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>exportTableAsImage('results-table-container',_0x439f33())),document['getElementById']('export-pdf-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>exportTableAsPDF(_0x4d621a(0xa69),_0x439f33())),document['getElementById'](_0x4d621a(0x237))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>exportTableAsWord(_0x4d621a(0x132),_0x439f33())),document['getElementById'](_0x4d621a(0xc31))['addEventListener'](_0x4d621a(0xb10),()=>exportTableAsExcel(_0x4d621a(0xa69),_0x439f33()));const _0x571d5e=()=>{const _0x15b75e=_0x4d621a,_0x59c6fa=document['getElementById'](_0x15b75e(0x36d))['textContent'][_0x15b75e(0x715)](/[^a-z0-9]/gi,'_')[_0x15b75e(0xd4a)]();return _0x15b75e(0x2e3)+(_0x59c6fa||_0x15b75e(0xb6a));};document[_0x4d621a(0xc7b)]('export-leaderboard-image-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x571d5e())),document[_0x4d621a(0xc7b)]('export-leaderboard-pdf-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>exportTableAsPDF('quiz-leaderboard-table',_0x571d5e())),document[_0x4d621a(0xc7b)](_0x4d621a(0x2da))['addEventListener']('click',()=>exportTableAsWord(_0x4d621a(0xd08),_0x571d5e())),document[_0x4d621a(0xc7b)](_0x4d621a(0x72c))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>exportTableAsExcel(_0x4d621a(0x58c),_0x571d5e())),projectQuizzesList['addEventListener'](_0x4d621a(0xb10),async _0x4aa229=>{const _0x18f651=_0x4d621a,_0x3e2911=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0x435)),_0x186921=_0x4aa229[_0x18f651(0x796)]['closest'](_0x18f651(0x278)),_0x4628c2=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0x9da)),_0x41ede4=_0x4aa229[_0x18f651(0x796)]['closest'](_0x18f651(0x8f6)),_0x3da0d4=_0x4aa229[_0x18f651(0x796)]['closest'](_0x18f651(0x34e)),_0x28e882=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0xaf6)),_0x16909a=_0x4aa229[_0x18f651(0x796)]['closest']('.edit-quiz-btn'),_0x4d6b21=_0x4aa229[_0x18f651(0x796)]['closest'](_0x18f651(0x9b0)),_0x42d4bb=_0x4aa229['target'][_0x18f651(0x2ec)](_0x18f651(0xd4d)),_0x3dfb2f=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0x9d5)),_0x42431d=_0x4aa229[_0x18f651(0x796)]['closest'](_0x18f651(0x22b)),_0x4bb59f=_0x4aa229['target'][_0x18f651(0x2ec)](_0x18f651(0x876)),_0x209350=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0xb72)),_0x9e50fd=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)]('.unpair-quiz-btn'),_0x338e49=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0x4a6)),_0x13036a=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0x642)),_0x26ae0a=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)]('.export-pdf-list-btn'),_0x327b69=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)]('.delete-quiz-btn'),_0x13d2ca=_0x4aa229[_0x18f651(0x796)]['closest'](_0x18f651(0x788)),_0x101dd3=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0x534)),_0x2abba0=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0x819)),_0x1c81f7=_0x4aa229['target'][_0x18f651(0x2ec)]('.start-game-btn'),_0x14dc96=_0x4aa229[_0x18f651(0x796)][_0x18f651(0x2ec)](_0x18f651(0x51e));if(_0x1c81f7){const _0x5c6bc3=_0x1c81f7['dataset']['quizId'],_0x368d55=_0x1c81f7[_0x18f651(0xaf8)][_0x18f651(0x2a4)],_0x1263e2=allQuizzes[_0x18f651(0x5f4)](_0xdfe15=>_0xdfe15['id']===_0x5c6bc3);_0x1263e2&&showGameStartConfirmationModal(_0x5c6bc3,_0x368d55,_0x1263e2['topic']);}else{if(_0x14dc96){const _0x22a5da=_0x14dc96['dataset'][_0x18f651(0x25d)];handleStartLiveRace(_0x22a5da);}else{if(_0x101dd3){const _0x8794e1=_0x101dd3[_0x18f651(0xaf8)][_0x18f651(0x25d)],_0x451850=document[_0x18f651(0xc7b)]('actions-container-'+_0x8794e1);_0x451850&&_0x451850[_0x18f651(0x246)][_0x18f651(0x650)](_0x18f651(0x35d));}else{if(_0x186921){const _0x1f5e99=_0x186921['dataset'][_0x18f651(0x25d)],_0x45b125=allQuizzes[_0x18f651(0x5f4)](_0x470b2a=>_0x470b2a['id']===_0x1f5e99);_0x45b125&&handleGenerateParallelPostTest(_0x45b125);}else{if(_0x4628c2)handleCompareResults(_0x4628c2[_0x18f651(0xaf8)][_0x18f651(0x25d)],_0x4628c2[_0x18f651(0xaf8)][_0x18f651(0x1ff)]);else{if(_0x41ede4){const _0x7ca401=_0x41ede4['dataset'][_0x18f651(0x25d)],_0x46da02=allQuizzes[_0x18f651(0x5f4)](_0x5d2029=>_0x5d2029['id']===_0x7ca401);_0x46da02&&_0x46da02['lessonPlan']?(displayLessonPlan(_0x46da02['lessonPlan'],_0x46da02),showConfirmation(_0x18f651(0x14e),()=>handleGenerateLessonPlan(_0x7ca401)),document[_0x18f651(0xc7b)](_0x18f651(0xbc6))[_0x18f651(0x452)]('h3')[_0x18f651(0x448)]='แผนการสอน',document[_0x18f651(0xc7b)](_0x18f651(0x532))[_0x18f651(0x448)]='สร้างใหม่'):handleGenerateLessonPlan(_0x7ca401);}else{if(_0x3da0d4)handleToggleStarQuiz(_0x3da0d4[_0x18f651(0xaf8)][_0x18f651(0x25d)]);else{if(_0x28e882)copyTextToClipboard(_0x28e882[_0x18f651(0xaf8)][_0x18f651(0x25d)],_0x18f651(0x750));else{if(_0x16909a)handleOpenQuizEditor(_0x16909a[_0x18f651(0xaf8)][_0x18f651(0x25d)]);else{if(_0x4d6b21)handleQuizSettings(_0x4d6b21[_0x18f651(0xaf8)]['quizId']);else{if(_0x42d4bb)handleDuplicateQuiz(_0x42d4bb[_0x18f651(0xaf8)]['quizId']);else{if(_0x3dfb2f)handleRenameQuiz(_0x3dfb2f[_0x18f651(0xaf8)]['quizId'],_0x3dfb2f[_0x18f651(0xaf8)][_0x18f651(0x613)]);else{if(_0x42431d){const _0x2b26d4=_0x42431d[_0x18f651(0xaf8)]['quizId'],_0x3ba73b=allQuizzes[_0x18f651(0x5f4)](_0x3f1528=>_0x3f1528['id']===_0x2b26d4);_0x3ba73b&&handleGenerateParallelFromBank(_0x3ba73b);}else{if(_0x4bb59f)handleMoveQuiz(_0x4bb59f[_0x18f651(0xaf8)][_0x18f651(0x25d)]);else{if(_0x209350)handleManualQuizPairing(_0x209350[_0x18f651(0xaf8)][_0x18f651(0x25d)]);else{if(_0x9e50fd)handleUnpairQuiz(_0x9e50fd[_0x18f651(0xaf8)][_0x18f651(0x25d)]);else{if(_0x338e49){const _0x2df5af=_0x338e49[_0x18f651(0xaf8)][_0x18f651(0x25d)],_0x3b7962=allQuizzes[_0x18f651(0x5f4)](_0x13d9fc=>_0x13d9fc['id']===_0x2df5af);if(_0x3b7962)startPresentation(_0x3b7962);}else{if(_0x13036a){const _0x55a9c8=_0x13036a[_0x18f651(0xaf8)]['quizId'],_0x14b394=allQuizzes[_0x18f651(0x5f4)](_0xb2e6dd=>_0xb2e6dd['id']===_0x55a9c8);_0x14b394&&(currentQuizData=_0x14b394,startAdminTest());}else{if(_0x26ae0a)actionTargetId=_0x26ae0a[_0x18f651(0xaf8)][_0x18f651(0x25d)],document['getElementById'](_0x18f651(0x970))[_0x18f651(0x246)]['remove'](_0x18f651(0x35d));else{if(_0x327b69)showConfirmation(_0x18f651(0xbdc)+_0x327b69[_0x18f651(0xaf8)][_0x18f651(0x613)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x327b69[_0x18f651(0xaf8)][_0x18f651(0x25d)]));else{if(_0x13d2ca)handleQuizStatus(_0x13d2ca[_0x18f651(0xaf8)]['quizId']);else{if(_0x2abba0)handleGenerateEasyVersionQuiz(_0x2abba0[_0x18f651(0xaf8)][_0x18f651(0x25d)]);else _0x3e2911&&showQuizDetailView(_0x3e2911[_0x18f651(0xaf8)][_0x18f651(0x25d)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x4d621a(0xc7b)](_0x4d621a(0x87b))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>showView('student')),document[_0x4d621a(0xc7b)](_0x4d621a(0x2d3))['addEventListener'](_0x4d621a(0xb10),confirmAndStartTeamQuiz),document['getElementById'](_0x4d621a(0x58c))[_0x4d621a(0x452)](_0x4d621a(0xc1c))['addEventListener'](_0x4d621a(0xb10),_0x21021c=>{const _0x5bec98=_0x4d621a,_0x111a65=_0x21021c[_0x5bec98(0x796)]['closest']('.sortable-header');if(!_0x111a65||!_0x111a65[_0x5bec98(0xaf8)][_0x5bec98(0x835)])return;const _0x5e014b=_0x111a65[_0x5bec98(0xaf8)][_0x5bec98(0x835)];if(quizLeaderboardSortBy===_0x5e014b)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5bec98(0xad6)?_0x5bec98(0x18d):_0x5bec98(0xad6);else{quizLeaderboardSortBy=_0x5e014b;const _0x9b233b=[_0x5bec98(0x2f7)];quizLeaderboardSortOrder=_0x9b233b[_0x5bec98(0xc04)](_0x5e014b)?_0x5bec98(0xad6):_0x5bec98(0x18d);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x5bec98(0x24f));}),document['getElementById'](_0x4d621a(0x73b))[_0x4d621a(0x21f)](_0x4d621a(0xb10),closePresentation),document[_0x4d621a(0xc7b)]('prev-question-btn')['addEventListener']('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x4d621a(0xc7b)](_0x4d621a(0xcd9))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x21c4f4=_0x4d621a;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x21c4f4(0x92e)][_0x21c4f4(0xa33)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4d621a(0x21f)](_0x4d621a(0xa11),()=>{const _0x1080d6=_0x4d621a;!document[_0x1080d6(0xb62)]&&(presentationModal[_0x1080d6(0x59f)][_0x1080d6(0x18e)]=_0x1080d6(0xada));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x52d))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleDeleteAllStudents),studentList[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x58814f=>{const _0x4fcd2d=_0x4d621a,_0x5219c6=_0x58814f[_0x4fcd2d(0x796)][_0x4fcd2d(0x2ec)](_0x4fcd2d(0x912));if(_0x5219c6){const _0x3b28d2=_0x5219c6[_0x4fcd2d(0xaf8)][_0x4fcd2d(0x2f7)];handleDeleteStudent(_0x3b28d2);}}),document[_0x4d621a(0xc7b)]('generate-from-file-btn')[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x4d621a(0x946),_0x527f1a=>{const _0x3a5ada=_0x4d621a,_0x1f146b=_0x527f1a[_0x3a5ada(0x796)]['files'][0x0],_0x11a112=document[_0x3a5ada(0xc7b)](_0x3a5ada(0x3cb)),_0xf91df8=document['getElementById'](_0x3a5ada(0x635)),_0x290fda=document['getElementById']('separate-by-content-from-file-checkbox');_0x1f146b?(selectedFile=_0x1f146b,_0x290fda[_0x3a5ada(0xa1c)]?(_0x11a112[_0x3a5ada(0x514)]=!![],analyzeFileForTopics(_0x1f146b)):(_0x11a112[_0x3a5ada(0x514)]=![],_0xf91df8[_0x3a5ada(0x246)][_0x3a5ada(0x329)]('hidden'))):(selectedFile=null,_0x11a112[_0x3a5ada(0x514)]=!![],_0xf91df8[_0x3a5ada(0x246)]['add'](_0x3a5ada(0x35d)));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x956))[_0x4d621a(0x21f)](_0x4d621a(0x946),_0x140218=>{const _0x3d83c6=_0x4d621a,_0x4ea025=_0x140218[_0x3d83c6(0x796)][_0x3d83c6(0xa1c)],_0x21ed13=document[_0x3d83c6(0xc7b)](_0x3d83c6(0x3cb)),_0x5bd342=document['getElementById'](_0x3d83c6(0x635));_0x4ea025?(_0x21ed13[_0x3d83c6(0x514)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x5bd342[_0x3d83c6(0x246)][_0x3d83c6(0x142)](_0x3d83c6(0x35d)),document[_0x3d83c6(0xc7b)](_0x3d83c6(0x355))[_0x3d83c6(0x9be)]=_0x3d83c6(0x8d4))):(_0x5bd342[_0x3d83c6(0x246)][_0x3d83c6(0x329)](_0x3d83c6(0x35d)),_0x21ed13[_0x3d83c6(0x514)]=!selectedFile);}),document[_0x4d621a(0xc7b)](_0x4d621a(0x635))['addEventListener'](_0x4d621a(0xb10),_0x477d9e=>{const _0x486fef=_0x4d621a,_0x82637a=_0x477d9e[_0x486fef(0x796)]['closest'](_0x486fef(0x884)),_0x240034=_0x477d9e[_0x486fef(0x796)]['closest'](_0x486fef(0x382));if(_0x82637a){const _0x530e28=unescape(_0x82637a['dataset']['topic']);generateHybridQuizForTopic(_0x530e28);}else{if(_0x240034){const _0x3c43bd=unescape(_0x240034[_0x486fef(0xaf8)][_0x486fef(0x613)]),_0x308eda=document[_0x486fef(0xc7b)](_0x486fef(0x964))[_0x486fef(0xab9)];handleGenerateAndShowLesson(_0x3c43bd,_0x308eda);}}}),document[_0x4d621a(0xc7b)](_0x4d621a(0x1c0))[_0x4d621a(0x21f)](_0x4d621a(0x946),_0x3a23a5=>{const _0x4ea41b=_0x4d621a,_0x5b6e2a=document[_0x4ea41b(0xc7b)](_0x4ea41b(0xc26)),_0x3cb141=document[_0x4ea41b(0xc7b)](_0x4ea41b(0x72b)),_0x5229d4=document[_0x4ea41b(0xc7b)]('timer-duration-input');_0x3a23a5[_0x4ea41b(0x796)]['value']===_0x4ea41b(0xada)?_0x5b6e2a[_0x4ea41b(0x246)][_0x4ea41b(0x329)](_0x4ea41b(0x35d)):(_0x5b6e2a[_0x4ea41b(0x246)][_0x4ea41b(0x142)]('hidden'),_0x3a23a5['target'][_0x4ea41b(0xab9)]==='whole_quiz'?(_0x3cb141[_0x4ea41b(0x448)]=_0x4ea41b(0xc62),_0x5229d4[_0x4ea41b(0xab9)]='10'):(_0x3cb141[_0x4ea41b(0x448)]=_0x4ea41b(0x56c),_0x5229d4[_0x4ea41b(0xab9)]='30'));}),document['getElementById'](_0x4d621a(0xbad))[_0x4d621a(0x21f)](_0x4d621a(0x946),_0x5f15d8=>{const _0x30171c=_0x4d621a,_0x621cf5=document[_0x30171c(0xc7b)]('num-choices-container'),_0x3a55c1=_0x5f15d8['target']['value'],_0x385c60=document[_0x30171c(0x452)]('label[for=\x22num-questions\x22]'),_0x12ef03=document['getElementById'](_0x30171c(0x3d0)),_0x228949=document[_0x30171c(0xc7b)](_0x30171c(0x4fb));_0x3a55c1===_0x30171c(0x883)?_0x385c60[_0x30171c(0x448)]='จำนวนคู่:':_0x385c60['textContent']=_0x30171c(0x41b),_0x3a55c1===_0x30171c(0x35a)||_0x3a55c1===_0x30171c(0x8e8)||_0x3a55c1===_0x30171c(0x481)?_0x621cf5[_0x30171c(0x246)][_0x30171c(0x142)]('hidden'):_0x621cf5[_0x30171c(0x246)][_0x30171c(0x329)]('hidden'),_0x12ef03[_0x30171c(0x573)]=_0x228949[_0x30171c(0xab9)];}),document['getElementById'](_0x4d621a(0x4fb))[_0x4d621a(0x21f)](_0x4d621a(0x316),_0xd702fa=>{const _0x12301b=_0x4d621a;document[_0x12301b(0xc7b)](_0x12301b(0x3d0))[_0x12301b(0x573)]=_0xd702fa['target']['value'];}),document[_0x4d621a(0xc7b)](_0x4d621a(0x757))[_0x4d621a(0x21f)](_0x4d621a(0x946),_0x2dcd1e=>{const _0x397685=_0x4d621a,_0x513eda=document[_0x397685(0xc7b)](_0x397685(0x66e)),_0x511990=document[_0x397685(0xc7b)](_0x397685(0x204)),_0x3973bb=document['getElementById'](_0x397685(0x821));_0x2dcd1e[_0x397685(0x796)][_0x397685(0xab9)]===_0x397685(0xada)?_0x513eda['classList']['add']('hidden'):(_0x513eda[_0x397685(0x246)][_0x397685(0x142)](_0x397685(0x35d)),_0x2dcd1e[_0x397685(0x796)][_0x397685(0xab9)]===_0x397685(0x5e9)?_0x511990[_0x397685(0x448)]=_0x397685(0xc62):_0x511990[_0x397685(0x448)]=_0x397685(0x56c));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x42e))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x1a717f=_0x4d621a;document[_0x1a717f(0xc7b)](_0x1a717f(0x7e9))[_0x1a717f(0x246)]['add'](_0x1a717f(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0xc08))['addEventListener']('click',()=>{const _0x1492cf=_0x4d621a;document[_0x1492cf(0xc7b)](_0x1492cf(0x7e9))[_0x1492cf(0x246)][_0x1492cf(0x329)](_0x1492cf(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x43f))['addEventListener'](_0x4d621a(0xb10),handleVerifyAnswersInEditor),document[_0x4d621a(0xc7b)](_0x4d621a(0xc98))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x1b00ab=_0x4d621a;document['getElementById']('quiz-editor-modal')[_0x1b00ab(0x246)][_0x1b00ab(0x329)]('hidden'),showConfirmation(_0x1b00ab(0x8d5),handleSaveChanges);}),document[_0x4d621a(0xc7b)](_0x4d621a(0xb8f))['addEventListener']('click',handleAutoFixLatex);const _0xb7dfd5=document['getElementById'](_0x4d621a(0x371));_0xb7dfd5&&_0xb7dfd5['addEventListener'](_0x4d621a(0xb10),_0x3a8ca9=>{const _0x3b4d75=_0x4d621a,_0x564c9c=_0x3a8ca9[_0x3b4d75(0x796)][_0x3b4d75(0x2ec)](_0x3b4d75(0xa7d));if(_0x564c9c){const _0x5e336e=_0x564c9c[_0x3b4d75(0x2ec)](_0x3b4d75(0x752)),_0x42817c=parseInt(_0x5e336e[_0x3b4d75(0xaf8)][_0x3b4d75(0xad1)],0xa);handleRegenerateQuestionInEditor(_0x42817c);return;}const _0x26d727=_0x3a8ca9[_0x3b4d75(0x796)][_0x3b4d75(0x2ec)](_0x3b4d75(0x362));if(_0x26d727){const _0x3e962a=_0x26d727[_0x3b4d75(0x2ec)](_0x3b4d75(0x752)),_0x49be1f=parseInt(_0x3e962a[_0x3b4d75(0xaf8)][_0x3b4d75(0xad1)],0xa);handleDeleteQuestionInEditor(_0x49be1f);return;}const _0x10408f=_0x3a8ca9[_0x3b4d75(0x796)]['closest'](_0x3b4d75(0x77c));if(_0x10408f){handleAddQuestionInEditor();return;}});document[_0x4d621a(0xc7b)](_0x4d621a(0x5a7))[_0x4d621a(0x21f)](_0x4d621a(0xb10),openQuizBankModal),document[_0x4d621a(0xc7b)](_0x4d621a(0x981))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x4bf349=_0x4d621a;document[_0x4bf349(0xc7b)]('quiz-bank-modal')[_0x4bf349(0x246)][_0x4bf349(0x329)]('hidden');}),document[_0x4d621a(0xc7b)]('bank-quiz-search-input')[_0x4d621a(0x21f)](_0x4d621a(0x316),_0x50b667=>renderQuizBankList(_0x50b667[_0x4d621a(0x796)][_0x4d621a(0xab9)]));const _0x24f884=document[_0x4d621a(0xc7b)](_0x4d621a(0x267));if(_0x24f884){let _0x588cb5=null;_0x24f884['addEventListener'](_0x4d621a(0xb10),_0x5e9438=>{const _0x5e255d=_0x4d621a,_0x551533=_0x5e9438[_0x5e255d(0x796)],_0x206b6b=_0x551533[_0x5e255d(0x2ec)](_0x5e255d(0x706)),_0x19eac2=_0x551533[_0x5e255d(0x2ec)]('.delete-custom-topic-btn'),_0x179420=_0x551533['closest'](_0x5e255d(0xadc)),_0x4b1a4b=_0x551533['closest'](_0x5e255d(0x28c));if(_0x19eac2){_0x5e9438[_0x5e255d(0xcd0)]();const _0x2fd7aa=_0x19eac2[_0x5e255d(0xaf8)]['id'],_0x45c0d0=_0x19eac2[_0x5e255d(0x2ec)](_0x5e255d(0x922))[_0x5e255d(0x452)](_0x5e255d(0x742))[_0x5e255d(0x448)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x45c0d0+'\x22?',()=>handleDeleteCustomTopic(_0x2fd7aa));}else{if(_0x206b6b){_0x5e9438[_0x5e255d(0xcd0)]();_0x588cb5&&toggleTopicEditMode(_0x588cb5,![]);const _0x1efdca=_0x206b6b['closest']('[data-topic-container-id]');_0x588cb5=_0x1efdca,toggleTopicEditMode(_0x1efdca,!![]);}else{if(_0x179420){_0x5e9438[_0x5e255d(0xcd0)]();const _0x6bcb28=_0x179420[_0x5e255d(0xaf8)]['id'],_0x50c73c=_0x179420['closest']('[data-topic-container-id]'),_0x3fadd0=_0x50c73c[_0x5e255d(0x452)](_0x5e255d(0x7c2))[_0x5e255d(0xab9)];handleUpdateCustomTopic(_0x6bcb28,_0x3fadd0),_0x588cb5=null;}else{if(_0x4b1a4b){_0x5e9438[_0x5e255d(0xcd0)]();const _0x1c554c=_0x4b1a4b['closest'](_0x5e255d(0x800));toggleTopicEditMode(_0x1c554c,![]),_0x588cb5=null;}}}}}),document[_0x4d621a(0xc7b)](_0x4d621a(0xbd5))['addEventListener'](_0x4d621a(0xb10),()=>{const _0x309d94=_0x4d621a;document[_0x309d94(0xc7b)](_0x309d94(0x659))[_0x309d94(0x246)][_0x309d94(0x329)](_0x309d94(0x35d));}),document[_0x4d621a(0xc7b)]('close-lesson-plan-modal-footer-btn')[_0x4d621a(0x21f)]('click',()=>{const _0x45327a=_0x4d621a;document['getElementById']('lesson-plan-modal')[_0x45327a(0x246)]['add'](_0x45327a(0x35d));}),document[_0x4d621a(0xc7b)](_0x4d621a(0x767))[_0x4d621a(0x21f)](_0x4d621a(0xb10),handleExportLessonPDF);}document['getElementById'](_0x4d621a(0x2d6))[_0x4d621a(0x21f)](_0x4d621a(0xb10),()=>{const _0x3bbd13=_0x4d621a;document[_0x3bbd13(0xc7b)]('comparison-modal')['classList'][_0x3bbd13(0x329)]('hidden');}),document[_0x4d621a(0xc7b)](_0x4d621a(0xaec))[_0x4d621a(0x21f)]('click',()=>{const _0x33fdcc=_0x4d621a;document[_0x33fdcc(0xc7b)](_0x33fdcc(0x5e4))['classList'][_0x33fdcc(0x329)](_0x33fdcc(0x35d));}),setupComparisonModalTabs(),document[_0x4d621a(0xc91)][_0x4d621a(0x21f)](_0x4d621a(0xb10),function(_0x1091eb){const _0x8d26d8=_0x4d621a;if(_0x1091eb[_0x8d26d8(0x796)][_0x8d26d8(0x246)]['contains'](_0x8d26d8(0x8ef))){const _0x3ff405=unescape(_0x1091eb['target']['dataset'][_0x8d26d8(0x613)]);startSkillPractice(_0x3ff405);}}),document['getElementById']('scores-tab-content')[_0x4d621a(0x21f)](_0x4d621a(0xb10),_0x3d4058=>{const _0x2288d8=_0x4d621a,_0x552773=_0x3d4058[_0x2288d8(0x796)][_0x2288d8(0x2ec)](_0x2288d8(0xc7f));if(_0x552773){const _0x275cdd=_0x552773[_0x2288d8(0xaf8)]['studentName'];handleDeleteSubmission(_0x275cdd);}});}async function handleStartGroupMode(_0x22dfc6,_0x5f18c0=![]){const _0x543695=_0x45baa4,_0xdd382=allQuizzes[_0x543695(0x5f4)](_0x71247e=>_0x71247e['id']===_0x22dfc6)||allQuizzesGlobal[_0x543695(0x5f4)](_0x277c92=>_0x277c92['id']===_0x22dfc6);if(!_0xdd382){showMessage(_0x543695(0x6cb));return;}currentQuizData=getShuffledQuiz(_0xdd382);const _0x1bdb5b=Math[_0x543695(0x864)](0x3e8+Math[_0x543695(0x293)]()*0x2328)[_0x543695(0x626)]();try{const _0x1fe467=await addDoc(collection(db,'artifacts/'+appId+_0x543695(0x408)),{'quizId':_0xdd382['id'],'projectId':_0xdd382['projectId'],'status':'lobby','pin':_0x1bdb5b,'mode':_0x543695(0x3ab),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5f18c0});currentTeamQuizId=_0x1fe467['id'],showView(_0x543695(0x9d9)),renderAdminTeamQuizDashboard(_0x1bdb5b,_0xdd382[_0x543695(0x613)],_0x543695(0x3ab)),listenForTeamQuizUpdates();}catch(_0x5108f1){console[_0x543695(0xab1)](_0x543695(0x2f8),_0x5108f1),showMessage(_0x543695(0x170));}}async function showStudentProgressView(){const _0x58ee12=_0x45baa4;studentInitialView[_0x58ee12(0x246)][_0x58ee12(0x329)](_0x58ee12(0x35d)),document[_0x58ee12(0xc7b)](_0x58ee12(0x9d7))['classList'][_0x58ee12(0x142)](_0x58ee12(0x35d));const _0x26ac30=document[_0x58ee12(0xc7b)](_0x58ee12(0x569)),_0x5c79b2=document[_0x58ee12(0xc7b)]('progress-student-select'),_0x46349a=document[_0x58ee12(0xc7b)](_0x58ee12(0xd0b));_0x46349a[_0x58ee12(0x9be)]=_0x58ee12(0x207),_0x5c79b2['innerHTML']=_0x58ee12(0x7f6),_0x5c79b2[_0x58ee12(0x514)]=!![],_0x26ac30[_0x58ee12(0x9be)]=_0x58ee12(0x7a6);if(allProjects[_0x58ee12(0xa33)]===0x0){const _0x1fc4c=collection(db,_0x58ee12(0xb73)+appId+_0x58ee12(0xafc)),_0x38ab6e=await getDocs(_0x1fc4c);allProjects=_0x38ab6e[_0x58ee12(0xb39)][_0x58ee12(0x327)](_0x2d4ab5=>({'id':_0x2d4ab5['id'],..._0x2d4ab5[_0x58ee12(0x4da)]()}));}const _0x4f8272=allProjects[_0x58ee12(0x6d0)](_0x12a773=>_0x12a773[_0x58ee12(0xd09)]?.[_0x58ee12(0x89c)]!==![]);_0x4f8272['sort']((_0x21ab74,_0x3dea57)=>_0x21ab74[_0x58ee12(0x39b)][_0x58ee12(0xc3c)](_0x3dea57[_0x58ee12(0x39b)],'th')),_0x26ac30[_0x58ee12(0x9be)]=_0x58ee12(0x7d5)+_0x4f8272['map'](_0x267dfd=>_0x58ee12(0x490)+_0x267dfd['id']+'\x22>'+_0x267dfd[_0x58ee12(0x39b)]+_0x58ee12(0xaff))[_0x58ee12(0x7a0)](''),_0x26ac30['onchange']=()=>{const _0xbc9f5d=_0x58ee12,_0x4df615=_0x5c79b2[_0xbc9f5d(0xab9)],_0x3e17ad=_0x26ac30['value'];_0x5c79b2['disabled']=!![],_0x5c79b2[_0xbc9f5d(0x9be)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x46349a[_0xbc9f5d(0x9be)]=_0xbc9f5d(0xbcc);if(!_0x3e17ad)return;const _0x40215c=allProjects[_0xbc9f5d(0x5f4)](_0x3ab27f=>_0x3ab27f['id']===_0x3e17ad);if(!_0x40215c||!_0x40215c[_0xbc9f5d(0x89e)])return;const _0xca5a02=()=>{const _0x1c6b70=_0xbc9f5d;_0x5c79b2[_0x1c6b70(0x9be)]=_0x1c6b70(0x7f6)+_0x40215c[_0x1c6b70(0x89e)][_0x1c6b70(0x327)](_0x56b7be=>_0x1c6b70(0x490)+_0x56b7be+'\x22>'+_0x56b7be+_0x1c6b70(0xaff))['join'](''),_0x5c79b2[_0x1c6b70(0x514)]=![];const _0xe95950=Array['from'](_0x5c79b2[_0x1c6b70(0x929)])[_0x1c6b70(0x327)](_0x4de343=>_0x4de343[_0x1c6b70(0xab9)]);if(_0x4df615&&_0xe95950[_0x1c6b70(0xc04)](_0x4df615))_0x5c79b2[_0x1c6b70(0xab9)]=_0x4df615,_0x5c79b2[_0x1c6b70(0x46a)](new Event(_0x1c6b70(0x946)));else _0x40215c[_0x1c6b70(0x89e)][_0x1c6b70(0xa33)]===0x1&&(_0x5c79b2['value']=_0x40215c[_0x1c6b70(0x89e)][0x0],_0x5c79b2['dispatchEvent'](new Event(_0x1c6b70(0x946))));};if(_0x40215c[_0xbc9f5d(0xd09)]?.[_0xbc9f5d(0xd55)]){if(sessionStorage[_0xbc9f5d(0x857)](_0xbc9f5d(0x783)+_0x3e17ad)===_0xbc9f5d(0xaa7)){_0xca5a02();return;}const _0x17e5fa=document[_0xbc9f5d(0xc7b)]('project-passcode-modal'),_0x30a31b=document['getElementById'](_0xbc9f5d(0xd53)),_0x341240=document[_0xbc9f5d(0xc7b)](_0xbc9f5d(0xb8b)),_0x33ea79=document[_0xbc9f5d(0xc7b)](_0xbc9f5d(0x6b5)),_0x3eeae4=document[_0xbc9f5d(0xc7b)](_0xbc9f5d(0x4c5));document[_0xbc9f5d(0xc7b)](_0xbc9f5d(0x3b2))['textContent']=_0xbc9f5d(0x47a)+_0x40215c[_0xbc9f5d(0x39b)],_0x33ea79[_0xbc9f5d(0xab9)]='',_0x3eeae4[_0xbc9f5d(0x246)][_0xbc9f5d(0x329)](_0xbc9f5d(0x35d)),_0x17e5fa['classList'][_0xbc9f5d(0x142)]('hidden');const _0x3c5cb4=()=>{const _0x5c7fb8=_0xbc9f5d,_0x1de098=_0x33ea79[_0x5c7fb8(0xab9)][_0x5c7fb8(0x958)]();_0x1de098===_0x40215c['settings']['passcode']?(sessionStorage[_0x5c7fb8(0xb1e)](_0x5c7fb8(0x783)+_0x3e17ad,_0x5c7fb8(0xaa7)),_0x17e5fa['classList'][_0x5c7fb8(0x329)]('hidden'),_0xca5a02(),_0x30a31b[_0x5c7fb8(0xc0e)](_0x5c7fb8(0xb10),_0x3c5cb4)):_0x3eeae4['classList']['remove'](_0x5c7fb8(0x35d));};_0x30a31b[_0xbc9f5d(0x2e6)]=_0x3c5cb4,_0x341240[_0xbc9f5d(0x2e6)]=()=>{const _0x423923=_0xbc9f5d;_0x17e5fa[_0x423923(0x246)][_0x423923(0x329)](_0x423923(0x35d)),_0x26ac30[_0x423923(0xab9)]='',_0x30a31b[_0x423923(0xc0e)]('click',_0x3c5cb4);};}else _0xca5a02();},_0x5c79b2[_0x58ee12(0x475)]=()=>{const _0x24f226=_0x58ee12,_0x563849=_0x26ac30[_0x24f226(0xab9)],_0x261cde=_0x5c79b2[_0x24f226(0xab9)];_0x563849&&_0x261cde&&renderStudentProgressDashboard(_0x563849,_0x261cde);};}async function confirmAndJoinSyncGame(){const _0x274408=_0x45baa4,_0x3cf418=Array[_0x274408(0x36f)](document[_0x274408(0x336)]('input[name=\x22team_player\x22]:checked'))['map'](_0x418a23=>_0x418a23[_0x274408(0xab9)]);if(_0x3cf418['length']===0x0){showMessage(_0x274408(0xbfb));return;}localTeamPlayers=_0x3cf418,localPlayerTurnIndex=0x0;const _0x3290d0=doc(db,'artifacts/'+appId+_0x274408(0x740),currentLiveGameId);try{const _0x4b46ac={};_0x3cf418[_0x274408(0x808)](_0x595838=>{const _0x26f06b=_0x274408;_0x4b46ac[_0x26f06b(0x2cd)+_0x595838]={'name':_0x595838,'score':0x0,'answered':![],'status':_0x26f06b(0x870)};}),await updateDoc(_0x3290d0,_0x4b46ac),document['getElementById'](_0x274408(0x508))[_0x274408(0x246)][_0x274408(0x329)](_0x274408(0x35d)),currentStudentName=_0x3cf418[0x0],listenForSyncGameUpdates();const _0x5ef296={'gameId':currentLiveGameId,'mode':_0x274408(0x3f4),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x274408(0xb1e)](_0x274408(0xd0f),JSON[_0x274408(0x4cb)](_0x5ef296)),currentMode!==_0x274408(0x622)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x274408(0x21f)]('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x274408(0x763),handleVisibilityChange),enterFullscreen(),window[_0x274408(0x21f)](_0x274408(0x671),resetDimTimer),window['addEventListener'](_0x274408(0x9a5),resetDimTimer),window[_0x274408(0x21f)](_0x274408(0x4a9),resetDimTimer),window[_0x274408(0x21f)](_0x274408(0x328),resetDimTimer),resetDimTimer());}catch(_0xd8bace){console[_0x274408(0xab1)](_0x274408(0x58b),_0xd8bace),showMessage(_0x274408(0xc86));}}async function resumeActiveGameSession(){const _0x2b3f94=_0x45baa4,_0x35501a=sessionStorage[_0x2b3f94(0x857)](_0x2b3f94(0xd0f));if(!_0x35501a)return;const _0x4c5a9d=JSON['parse'](_0x35501a),{gameId:_0x433827,mode:_0x522936,players:_0x2ad4d8,turnIndex:_0x4d0f90}=_0x4c5a9d;try{let _0x417c22,_0x170641;_0x522936===_0x2b3f94(0x3f4)?_0x417c22=doc(db,_0x2b3f94(0xb73)+appId+_0x2b3f94(0x740),_0x433827):_0x417c22=doc(db,_0x2b3f94(0xb73)+appId+_0x2b3f94(0x408),_0x433827);_0x170641=await getDoc(_0x417c22);if(!_0x170641['exists']()||_0x170641[_0x2b3f94(0x4da)]()[_0x2b3f94(0x264)]==='finished'||_0x170641[_0x2b3f94(0x4da)]()[_0x2b3f94(0x264)]==='podium'){sessionStorage[_0x2b3f94(0xbce)]('activeGameSession');return;}console[_0x2b3f94(0x161)]('กำลังกลับเข้าสู่เกม\x20'+_0x522936+'\x20(ID:\x20'+_0x433827+')'),localTeamPlayers=_0x2ad4d8,localPlayerTurnIndex=_0x4d0f90;if(_0x522936==='sync')currentLiveGameId=_0x433827,currentStudentName=_0x2ad4d8[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x433827;const _0x56a8ca=_0x170641[_0x2b3f94(0x4da)](),_0xc1c88=doc(db,_0x2b3f94(0xb73)+appId+'/public/data/quizzes',_0x56a8ca[_0x2b3f94(0x25d)]),_0x20bf0a=await getDoc(_0xc1c88);_0x20bf0a[_0x2b3f94(0xb1f)]()&&(currentQuizData=getShuffledQuiz({'id':_0x20bf0a['id'],..._0x20bf0a[_0x2b3f94(0x4da)]()}),showView(_0x2b3f94(0x568)),studentInitialView[_0x2b3f94(0x246)]['add']('hidden'),renderTeamQuizQuestion());}}catch(_0x46caaa){console[_0x2b3f94(0xab1)]('Failed\x20to\x20resume\x20game\x20session:',_0x46caaa),sessionStorage['removeItem'](_0x2b3f94(0xd0f));}}function activateFileInputAreaWithLoadedFile(){const _0x513473=_0x45baa4,_0x12f339=document[_0x513473(0xc7b)](_0x513473(0x3cb)),_0x4a8e5f=document[_0x513473(0xc7b)](_0x513473(0x635)),_0xc0559b=document[_0x513473(0xc7b)]('separate-by-content-from-file-checkbox');selectedFile?_0xc0559b[_0x513473(0xa1c)]?(_0x12f339['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x12f339[_0x513473(0x514)]=![],_0x4a8e5f['classList']['add']('hidden')):(_0x12f339[_0x513473(0x514)]=!![],_0x4a8e5f[_0x513473(0x246)]['add']('hidden'));}async function handleKickPlayerSync(_0x71e821){const _0x2838f6=_0x45baa4;if(!currentLiveGameId||!_0x71e821)return;const _0x1edb1e=doc(db,_0x2838f6(0xb73)+appId+_0x2838f6(0x740),currentLiveGameId),_0x528fa4={};_0x528fa4[_0x2838f6(0x2cd)+_0x71e821+'.status']='inactive';try{await updateDoc(_0x1edb1e,_0x528fa4);}catch(_0x42732d){console[_0x2838f6(0xab1)]('Failed\x20to\x20kick\x20player\x20'+_0x71e821+'\x20from\x20sync\x20game:',_0x42732d),showMessage(_0x2838f6(0xd35));}}async function renderStudentProgressDashboard(_0x4507a6,_0x1e922b){const _0x552fad=_0x45baa4,_0x1daf11=document['getElementById']('student-progress-content');_0x1daf11[_0x552fad(0x9be)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x27ab25=collection(db,'artifacts/'+appId+_0x552fad(0xca0)),_0x57d43a=query(_0x27ab25,where(_0x552fad(0xb2f),'==',_0x4507a6)),_0x54bff7=await getDocs(_0x57d43a),_0x271ef1=_0x54bff7[_0x552fad(0xb39)]['map'](_0x538cc5=>({'id':_0x538cc5['id'],..._0x538cc5['data']()})),_0x290914=_0x271ef1['map'](_0x595dd7=>getDoc(doc(db,_0x552fad(0xb73)+appId+'/public/data/quizzes/'+_0x595dd7['id']+_0x552fad(0xc11),_0x1e922b))),_0x1e14ac=await Promise[_0x552fad(0xd4e)](_0x290914),_0x59bc98=_0x1e14ac[_0x552fad(0x6d0)](_0x3268c0=>_0x3268c0[_0x552fad(0xb1f)]())['map'](_0x998bd5=>({'quizId':_0x998bd5[_0x552fad(0x785)][_0x552fad(0x395)][_0x552fad(0x395)]['id'],..._0x998bd5[_0x552fad(0x4da)]()}));if(_0x59bc98[_0x552fad(0xa33)]===0x0){_0x1daf11['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x1a7ddd=_0x552fad(0xd23);_0x59bc98[_0x552fad(0x808)](_0x43dfd2=>{const _0x4f2092=_0x552fad,_0x6e0da9=_0x271ef1[_0x4f2092(0x5f4)](_0xf8bd9c=>_0xf8bd9c['id']===_0x43dfd2[_0x4f2092(0x25d)]),_0x302beb=_0x6e0da9['settings']?.[_0x4f2092(0x25f)]||_0x4f2092(0xb98),_0x4553c8=_0x6e0da9[_0x4f2092(0xd09)]?.['passingScore']??0x0,_0x25a755=_0x43dfd2['bestScore']>=_0x4553c8;let _0x5b99a8='',_0x25d1d7=_0x4f2092(0x3e8);switch(_0x302beb){case'show_results_and_answers':case'show_results_only':_0x25d1d7=_0x25a755?_0x4f2092(0x2ab):_0x4f2092(0x1db),_0x5b99a8=_0x4f2092(0xac6)+(_0x25a755?_0x4f2092(0xa8c):_0x4f2092(0x169))+'\x22>'+_0x43dfd2[_0x4f2092(0x82e)]+_0x4f2092(0xc6c)+_0x43dfd2[_0x4f2092(0x176)]+_0x4f2092(0x5ea)+(_0x25a755?_0x4f2092(0x229):'bg-red-200\x20text-red-800')+'\x22>'+(_0x25a755?_0x4f2092(0xbd4):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4f2092(0x7cc):_0x25d1d7=_0x25a755?_0x4f2092(0x2ab):_0x4f2092(0x1db),_0x5b99a8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x25a755?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x25a755?_0x4f2092(0xbd4):'ไม่ผ่าน')+_0x4f2092(0x657);break;case _0x4f2092(0xc65):_0x25d1d7=_0x4f2092(0x141),_0x5b99a8=_0x4f2092(0x7ff);break;}_0x1a7ddd+=_0x4f2092(0xb47)+_0x25d1d7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x6e0da9[_0x4f2092(0x613)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x43dfd2[_0x4f2092(0x39d)][_0x4f2092(0xa33)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x43dfd2[_0x4f2092(0x530)])['toLocaleDateString'](_0x4f2092(0x499))+_0x4f2092(0x25c)+_0x5b99a8+_0x4f2092(0x320);}),_0x1a7ddd+='</div>',_0x1daf11['innerHTML']=_0x1a7ddd;}catch(_0x2faaac){console[_0x552fad(0xab1)]('Error\x20rendering\x20student\x20progress:',_0x2faaac),_0x1daf11['innerHTML']=_0x552fad(0x35f);}}function renderQuizBankListForMultiSelect(_0x2fabcf=''){const _0x4dced2=_0x45baa4,_0x4650cb=document[_0x4dced2(0xc7b)](_0x4dced2(0x7b1)),_0x2404b9=_0x2fabcf[_0x4dced2(0xd4a)]()[_0x4dced2(0x958)](),_0x576a33=allQuizzesGlobal[_0x4dced2(0x327)](_0x1fa57b=>({..._0x1fa57b,'projectName':allProjects[_0x4dced2(0x5f4)](_0x13bb11=>_0x13bb11['id']===_0x1fa57b['projectId'])?.[_0x4dced2(0x39b)]||'N/A'}))['filter'](_0x4fa7c1=>(_0x4fa7c1[_0x4dced2(0x613)]||'')[_0x4dced2(0xd4a)]()[_0x4dced2(0xc04)](_0x2404b9)||(_0x4fa7c1[_0x4dced2(0x39b)]||'')[_0x4dced2(0xd4a)]()[_0x4dced2(0xc04)](_0x2404b9)||_0x4fa7c1['id']['toString']()['includes'](_0x2404b9));_0x4650cb['innerHTML']=_0x576a33[_0x4dced2(0xa33)]?_0x576a33[_0x4dced2(0x327)](_0xe04115=>_0x4dced2(0x2e5)+_0xe04115['id']+_0x4dced2(0xd03)+(_0xe04115['topic']||_0x4dced2(0x4ce))+_0x4dced2(0x3f0)+_0xe04115['projectName']+_0x4dced2(0x3c6)+_0xe04115['id']+_0x4dced2(0x164))['join'](''):_0x4dced2(0x53c),_0x4650cb['onchange']=()=>{const _0x2ffa7e=_0x4dced2,_0x3b268f=document[_0x2ffa7e(0x452)](_0x2ffa7e(0x68b));document['getElementById'](_0x2ffa7e(0x500))[_0x2ffa7e(0x514)]=!_0x3b268f;};}function setupStudentProgressListeners(){const _0x22b445=_0x45baa4;document[_0x22b445(0xc7b)](_0x22b445(0x933))['addEventListener']('click',showStudentProgressView),document[_0x22b445(0xc7b)](_0x22b445(0xd40))[_0x22b445(0x21f)](_0x22b445(0xb10),()=>{const _0x3c5637=_0x22b445;document[_0x3c5637(0xc7b)](_0x3c5637(0x9d7))[_0x3c5637(0x246)][_0x3c5637(0x329)](_0x3c5637(0x35d)),document['getElementById'](_0x3c5637(0x304))[_0x3c5637(0x246)]['remove'](_0x3c5637(0x35d));});}async function startSkillPractice(_0x14224d){const _0x16885f=_0x45baa4;studentResultArea[_0x16885f(0x246)][_0x16885f(0x329)](_0x16885f(0x35d)),studentQuizArea['innerHTML']=_0x16885f(0x6a9),studentQuizArea[_0x16885f(0x246)][_0x16885f(0x142)]('hidden');try{const _0x41097a=await getStandardizedTopic(_0x14224d);console[_0x16885f(0x161)](_0x16885f(0x6b3)+_0x14224d+_0x16885f(0x50c)+_0x41097a+'\x22'),studentQuizArea[_0x16885f(0x452)]('p')[_0x16885f(0x448)]=_0x16885f(0xcf1)+_0x41097a+_0x16885f(0x660);const _0x1ef043=collection(db,_0x16885f(0xb73)+appId+_0x16885f(0x2a6)),_0xd7be07=query(_0x1ef043,where(_0x16885f(0x613),'==',_0x41097a)),_0xdb02a2=await getDocs(_0xd7be07);if(_0xdb02a2[_0x16885f(0xb39)][_0x16885f(0xa33)]>=0x3){console[_0x16885f(0x161)]('พบข้อสอบ\x20'+_0xdb02a2[_0x16885f(0xb39)][_0x16885f(0xa33)]+_0x16885f(0xa57)+_0x41097a+_0x16885f(0x95b));let _0x3c8ea4=_0xdb02a2[_0x16885f(0xb39)]['map'](_0x2a739f=>_0x2a739f[_0x16885f(0x4da)]());shuffleArray(_0x3c8ea4);const _0x13b7d6={'topic':_0x41097a,'questions':_0x3c8ea4['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x13b7d6);}else{console[_0x16885f(0x161)](_0x16885f(0x84d)+_0x41097a+_0x16885f(0x23f));const _0x153b47=await generatePracticeQuestions(_0x41097a);await saveDrillToPracticeBank(_0x153b47,_0x41097a),displaySkillPracticeDrill(_0x153b47);}}catch(_0x35576f){console[_0x16885f(0xab1)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x35576f),showMessage(_0x16885f(0x380)),studentQuizArea['classList']['add'](_0x16885f(0x35d)),studentResultArea['classList'][_0x16885f(0x142)](_0x16885f(0x35d));}}async function saveDrillToPracticeBank(_0x303000,_0x4641a4){const _0x4a4e10=_0x45baa4,_0x1d06e3=collection(db,'artifacts/'+appId+_0x4a4e10(0x2a6)),_0x172aae=writeBatch(db);_0x303000[_0x4a4e10(0x92e)][_0x4a4e10(0x808)](_0x495e98=>{const _0x32ab63=_0x4a4e10,_0xb45089=doc(_0x1d06e3);_0x172aae[_0x32ab63(0x2b6)](_0xb45089,{'topic':_0x4641a4,'questionText':_0x495e98['questionText'],'options':_0x495e98['options'],'correctAnswerIndex':_0x495e98[_0x32ab63(0xbfe)],'explanation':_0x495e98['explanation'],'createdAt':serverTimestamp()});});try{await _0x172aae[_0x4a4e10(0xc1a)](),console['log'](_0x4a4e10(0x7f2)+_0x303000[_0x4a4e10(0x92e)][_0x4a4e10(0xa33)]+_0x4a4e10(0x2ad));}catch(_0x5417cb){console['error'](_0x4a4e10(0x46d),_0x5417cb);}}async function getStandardizedTopic(_0x17fddb){const _0x8a7535=_0x45baa4,_0x2c98e7=_0x8a7535(0x47c)+_0x17fddb+_0x8a7535(0x540),_0x2b8305={'type':_0x8a7535(0x1c8),'properties':{'standardTopic':{'type':_0x8a7535(0x3ed)}},'required':[_0x8a7535(0x860)]};try{const _0x588635=await callAnalysisApi(_0x2c98e7,_0x2b8305);return _0x588635['standardTopic'];}catch(_0x2fe336){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x2fe336),_0x17fddb;}}async function handleGenerateEasyVersionQuiz(_0x43d77e){const _0x2a447c=_0x45baa4,_0x381cc9=document[_0x2a447c(0xc7b)](_0x2a447c(0xc46)),_0x2f2714=document[_0x2a447c(0xc7b)](_0x2a447c(0x5e5));_0x2f2714['classList'][_0x2a447c(0x329)](_0x2a447c(0x35d));const _0x3ae521=_0x2a447c(0x5b8);_0x381cc9[_0x2a447c(0x751)](_0x2a447c(0xad7),_0x3ae521);try{const _0x24e0cf=allQuizzes['find'](_0x69f60b=>_0x69f60b['id']===_0x43d77e);if(!_0x24e0cf)throw new Error(_0x2a447c(0x292));const _0x2c067b=_0x2a447c(0x790)+JSON[_0x2a447c(0x4cb)](_0x24e0cf[_0x2a447c(0x92e)])+_0x2a447c(0x5c0),_0x4402dd={'type':_0x2a447c(0x1c8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2a447c(0x3ed)},'options':{'type':_0x2a447c(0x559),'items':{'type':_0x2a447c(0x3ed)}},'correctAnswerIndex':{'type':_0x2a447c(0x366)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2a447c(0x3ed)},'imageCode':{'type':_0x2a447c(0x3ed)}},'required':[_0x2a447c(0x24b),'questionType',_0x2a447c(0xd36)]},_0x235ee4={'type':_0x2a447c(0x1c8),'properties':{'questions':{'type':_0x2a447c(0x559),'items':_0x4402dd}},'required':[_0x2a447c(0x92e)]},_0x48d54c=await callAnalysisApi(_0x2c067b,_0x235ee4);_0x48d54c&&_0x48d54c[_0x2a447c(0x92e)]&&_0x48d54c[_0x2a447c(0x92e)][_0x2a447c(0x808)](_0xce39b4=>{const _0x1f08df=_0x2a447c;if(_0xce39b4[_0x1f08df(0xc39)](_0x1f08df(0x76d))){const _0x4e5443=String(_0xce39b4[_0x1f08df(0x76d)])[_0x1f08df(0x958)]();(_0x4e5443===''||_0x4e5443['toLowerCase']()===_0x1f08df(0x340)||!_0x4e5443[_0x1f08df(0xc3a)]('<svg'))&&delete _0xce39b4['imageCode'];}});if(!_0x48d54c||!_0x48d54c['questions']||_0x48d54c[_0x2a447c(0x92e)][_0x2a447c(0xa33)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x5831ab=_0x48d54c[_0x2a447c(0x92e)][_0x2a447c(0x327)]((_0x26ebfb,_0x3973bf)=>({..._0x26ebfb,'id':'q_'+Date['now']()+'_'+_0x3973bf})),_0x298e40={'projectId':_0x24e0cf[_0x2a447c(0xb2f)],'quizType':_0x24e0cf[_0x2a447c(0x9f7)],'settings':_0x24e0cf[_0x2a447c(0xd09)],'createdBy':_0x24e0cf['createdBy'],'status':_0x2a447c(0x870),'topic':'(ฉบับง่าย)\x20'+_0x24e0cf[_0x2a447c(0x613)],'questions':_0x5831ab,'createdAt':new Date()[_0x2a447c(0x67e)](),'quizMode':_0x2a447c(0x2fd),'pairedQuizId':null};let _0x455a99;while(!![]){_0x455a99=Math[_0x2a447c(0x864)](0x3e8+Math[_0x2a447c(0x293)]()*0x2328)[_0x2a447c(0x626)]();const _0x5deb8d=await getDoc(doc(db,_0x2a447c(0xb73)+appId+_0x2a447c(0xca0),_0x455a99));if(!_0x5deb8d[_0x2a447c(0xb1f)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x2a447c(0xca0),_0x455a99),_0x298e40),showMessage(_0x2a447c(0xb6e));}catch(_0x277f13){console[_0x2a447c(0xab1)](_0x2a447c(0xc81),_0x277f13),showMessage('เกิดข้อผิดพลาด:\x20'+_0x277f13[_0x2a447c(0x776)]);}finally{const _0x2f753d=document[_0x2a447c(0xc7b)](_0x2a447c(0xbe7));_0x2f753d&&_0x2f753d['remove'](),_0x2f2714[_0x2a447c(0x246)][_0x2a447c(0x142)](_0x2a447c(0x35d));}}async function generatePracticeQuestions(_0x1c9ade){const _0x885dd3=_0x45baa4,_0x54b56f=_0x885dd3(0x9a0)+_0x1c9ade+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x885dd3(0x6d1),_0x5d9ff4={'type':_0x885dd3(0x1c8),'properties':{'questionText':{'type':_0x885dd3(0x3ed)},'options':{'type':_0x885dd3(0x559),'items':{'type':_0x885dd3(0x3ed)}},'correctAnswerIndex':{'type':_0x885dd3(0x366)},'explanation':{'type':_0x885dd3(0x3ed)}},'required':['questionText',_0x885dd3(0x929),_0x885dd3(0xbfe),_0x885dd3(0xd36)]},_0xc56c63={'type':_0x885dd3(0x1c8),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x885dd3(0x559),'items':_0x5d9ff4}},'required':[_0x885dd3(0x613),_0x885dd3(0x92e)]};return await callAnalysisApi(_0x54b56f,_0xc56c63);}function displayLessonPlan(_0x4ffafc,_0x511e6e){const _0x4c5680=_0x45baa4,_0x1bbefd=_0x4c5680(0xbbc)+_0x511e6e['topic']+_0x4c5680(0x3f2)+_0x4ffafc[_0x4c5680(0x68c)][_0x4c5680(0x327)](_0x11e904=>_0x4c5680(0x188)+_0x11e904+_0x4c5680(0xd3f))[_0x4c5680(0x7a0)]('')+_0x4c5680(0x6fc)+_0x4ffafc[_0x4c5680(0x8c4)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x4ffafc[_0x4c5680(0x45c)][_0x4c5680(0x327)](_0x4f21a5=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4f21a5[_0x4c5680(0xa76)]+_0x4c5680(0x5be)+_0x4f21a5[_0x4c5680(0xb9c)]+_0x4c5680(0xc17))[_0x4c5680(0x7a0)]('')+_0x4c5680(0x83c);document[_0x4c5680(0xc7b)](_0x4c5680(0x4ea))[_0x4c5680(0x448)]=_0x4c5680(0x8ee)+_0x511e6e[_0x4c5680(0x613)],document[_0x4c5680(0xc7b)](_0x4c5680(0x22c))['innerHTML']=_0x1bbefd,document[_0x4c5680(0xc7b)](_0x4c5680(0x659))[_0x4c5680(0x246)][_0x4c5680(0x142)](_0x4c5680(0x35d));if(window[_0x4c5680(0x8a3)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x2bc7a6){const _0x3879da=_0x45baa4;let _0x28b996=0x0;const _0x3e5326=_0x2bc7a6[_0x3879da(0x92e)],_0x3e2895=()=>{const _0x572ffe=_0x3879da,_0x11c368=_0x3e5326[_0x28b996],_0x26e50f=_0x572ffe(0x48d)+(_0x28b996+0x1)+_0x572ffe(0xc6c)+_0x3e5326[_0x572ffe(0xa33)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x11c368['questionText']+_0x572ffe(0x2dc)+_0x11c368[_0x572ffe(0x929)][_0x572ffe(0x327)]((_0x2f17c3,_0x3b0015)=>_0x572ffe(0x285)+_0x3b0015+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x3b0015+_0x572ffe(0xa04)+_0x3b0015+'\x22>'+_0x2f17c3+_0x572ffe(0x5da))[_0x572ffe(0x7a0)]('')+_0x572ffe(0x50a);studentQuizArea[_0x572ffe(0x9be)]=_0x26e50f;if(window[_0x572ffe(0x8a3)])MathJax['typesetPromise']([studentQuizArea]);document[_0x572ffe(0xc7b)](_0x572ffe(0xbd6))['addEventListener'](_0x572ffe(0xb10),async()=>{const _0x376c8d=await getHintForQuestion(_0x11c368['questionText']);showMessage(_0x376c8d);}),document[_0x572ffe(0xc7b)](_0x572ffe(0x639))[_0x572ffe(0x21f)](_0x572ffe(0xb10),()=>{const _0x291647=_0x572ffe,_0x4f81c8=document['querySelector'](_0x291647(0xacd));if(!_0x4f81c8){showMessage(_0x291647(0x4fc));return;}const _0x3b78a1=document[_0x291647(0xc7b)](_0x291647(0xcf9)),_0x2d6082=parseInt(_0x4f81c8[_0x291647(0xab9)])===_0x11c368[_0x291647(0xbfe)];_0x2d6082?(_0x3b78a1[_0x291647(0x3c8)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x3b78a1[_0x291647(0x9be)]=_0x291647(0x3ac)+_0x11c368['explanation']):(_0x3b78a1[_0x291647(0x3c8)]=_0x291647(0xa82),_0x3b78a1[_0x291647(0x9be)]=_0x291647(0x782)+_0x11c368[_0x291647(0xd36)]);_0x3b78a1[_0x291647(0x246)]['remove']('hidden');if(window[_0x291647(0x8a3)])MathJax[_0x291647(0x91c)]([_0x3b78a1]);document[_0x291647(0xc7b)](_0x291647(0x639))[_0x291647(0x246)][_0x291647(0x329)](_0x291647(0x35d)),document[_0x291647(0xc7b)]('hint-btn')[_0x291647(0x246)][_0x291647(0x329)](_0x291647(0x35d)),document[_0x291647(0xc7b)](_0x291647(0x399))[_0x291647(0x246)][_0x291647(0x142)](_0x291647(0x35d));}),document[_0x572ffe(0xc7b)](_0x572ffe(0x399))[_0x572ffe(0x21f)]('click',()=>{const _0x43a3eb=_0x572ffe;_0x28b996++,_0x28b996<_0x3e5326[_0x43a3eb(0xa33)]?_0x3e2895():(studentQuizArea[_0x43a3eb(0x9be)]=_0x43a3eb(0xd3a),document[_0x43a3eb(0xc7b)](_0x43a3eb(0x6da))['addEventListener']('click',()=>{const _0x46034c=_0x43a3eb;studentQuizArea[_0x46034c(0x246)]['add'](_0x46034c(0x35d)),studentResultArea[_0x46034c(0x246)][_0x46034c(0x142)]('hidden');}));});};_0x3e2895();}async function getHintForQuestion(_0x59f896){const _0x5315a4=_0x45baa4,_0x26cea1=_0x5315a4(0xc22)+_0x59f896+_0x5315a4(0xbb4),_0x3b85f0={'type':_0x5315a4(0x1c8),'properties':{'hint':{'type':'STRING'}},'required':[_0x5315a4(0x352)]};try{const _0x34ee38=await callAnalysisApi(_0x26cea1,_0x3b85f0);return _0x34ee38[_0x5315a4(0x352)];}catch(_0x24ad8e){return console[_0x5315a4(0xab1)]('Failed\x20to\x20get\x20hint:',_0x24ad8e),_0x5315a4(0xa20);}}async function extractTextFromPdf(_0x58ec88){const _0x2886fb=_0x45baa4;pdfjsLib[_0x2886fb(0x3c0)]['workerSrc']=_0x2886fb(0x7ca);const _0x408db3=await _0x58ec88[_0x2886fb(0x830)](),_0x12c813=await pdfjsLib['getDocument'](_0x408db3)['promise'],_0x943b4d=_0x12c813['numPages'];let _0x4b203a='';for(let _0x5efa13=0x1;_0x5efa13<=_0x943b4d;_0x5efa13++){const _0x3f3710=await _0x12c813[_0x2886fb(0x477)](_0x5efa13),_0x3ea1c5=await _0x3f3710[_0x2886fb(0xad5)](),_0x3ed126=_0x3ea1c5[_0x2886fb(0xcfd)]['map'](_0x2be44e=>_0x2be44e['str'])[_0x2886fb(0x7a0)]('\x20');_0x4b203a+=_0x3ed126+'\x0a\x0a';}return _0x4b203a;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x3b7510){const _0x4f7ab5=_0x45baa4,_0x770317=document[_0x4f7ab5(0xc7b)]('blueprint-options-container'),_0x5778fc=document[_0x4f7ab5(0xc7b)]('blueprint-topics-list'),_0x32df01=document[_0x4f7ab5(0xc7b)](_0x4f7ab5(0xcfb));_0x770317[_0x4f7ab5(0x246)]['remove'](_0x4f7ab5(0x35d)),_0x5778fc['innerHTML']=_0x4f7ab5(0xc07),_0x32df01[_0x4f7ab5(0x246)][_0x4f7ab5(0x329)](_0x4f7ab5(0x35d));try{const _0x29eed6=_0x4f7ab5(0x7a5)+_0x3b7510+_0x4f7ab5(0x858),_0x46ade1={'type':_0x4f7ab5(0x1c8),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x4f7ab5(0x559),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x4f7ab5(0x3ed)},'mainTopics':{'type':_0x4f7ab5(0x559),'items':{'type':_0x4f7ab5(0x1c8),'properties':{'topicName':{'type':_0x4f7ab5(0x3ed)},'subTopics':{'type':'ARRAY','items':{'type':_0x4f7ab5(0x3ed)}}},'required':['topicName',_0x4f7ab5(0x391)]}}},'required':['sara','mainTopics']}}},'required':[_0x4f7ab5(0x262),_0x4f7ab5(0x8c1)]},_0x3335f1=await callAnalysisApi(_0x29eed6,_0x46ade1);if(_0x3335f1&&_0x3335f1[_0x4f7ab5(0x8c1)])extractedBlueprintData=_0x3335f1,renderBlueprintTopics(_0x3335f1),_0x32df01[_0x4f7ab5(0x246)][_0x4f7ab5(0x142)]('hidden');else throw new Error(_0x4f7ab5(0x5b9));}catch(_0x2762db){console[_0x4f7ab5(0xab1)](_0x4f7ab5(0x854),_0x2762db),_0x5778fc[_0x4f7ab5(0x9be)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x4666d3){const _0x31665a=_0x45baa4,_0x36902c=document[_0x31665a(0xc7b)]('blueprint-topics-list'),_0x208f50=_0x4666d3[_0x31665a(0x262)],_0x228611=_0x31665a(0x38a)+_0x208f50+_0x31665a(0x350);let _0x476a2d='';_0x4666d3[_0x31665a(0x8c1)][_0x31665a(0x808)](_0x545201=>{const _0x21503b=_0x31665a;_0x476a2d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x545201[_0x21503b(0x93e)]+_0x21503b(0x4b2),_0x545201[_0x21503b(0x9c6)][_0x21503b(0x808)](_0x4f4637=>{const _0x10a1c8=_0x21503b;_0x476a2d+=_0x10a1c8(0xcab)+_0x4f4637['topicName']+_0x10a1c8(0x891),_0x4f4637[_0x10a1c8(0x391)][_0x10a1c8(0x808)](_0x2dd6b5=>{const _0x234604=_0x10a1c8;_0x476a2d+=_0x234604(0xd4f)+_0x2dd6b5[_0x234604(0x715)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x208f50[_0x234604(0x715)](/'/g,'\x5c\x27')+_0x234604(0x4a5)+_0x2dd6b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x2dd6b5[_0x234604(0x715)](/'/g,'\x5c\x27')+_0x234604(0x3a8);}),_0x476a2d+=_0x10a1c8(0x32d);}),_0x476a2d+=_0x21503b(0x418);}),_0x36902c[_0x31665a(0x9be)]=_0x228611+_0x476a2d;}async function handleGenerateTeachingContent(_0x27b3b3){const _0x229666=_0x45baa4,_0x159299=document[_0x229666(0xc7b)](_0x229666(0x659)),_0x31686d=document[_0x229666(0xc7b)](_0x229666(0x22c));document['getElementById'](_0x229666(0x4ea))[_0x229666(0x448)]=_0x229666(0x486)+_0x27b3b3,_0x31686d[_0x229666(0x9be)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x159299[_0x229666(0x246)][_0x229666(0x142)](_0x229666(0x35d));try{const _0x458dfe=_0x229666(0x331)+_0x27b3b3+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1babac={'type':_0x229666(0x1c8),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':'STRING'}},'commonMistakes':{'type':_0x229666(0x559),'items':{'type':_0x229666(0x3ed)}},'stepByStepExamples':{'type':_0x229666(0x559),'items':{'type':'OBJECT','properties':{'question':{'type':_0x229666(0x3ed)},'solution':{'type':_0x229666(0x3ed)}},'required':[_0x229666(0xa76),_0x229666(0xb9c)]}},'teacherTips':{'type':_0x229666(0x559),'items':{'type':_0x229666(0x3ed)}}},'required':[_0x229666(0x6f9),_0x229666(0x74d),'stepByStepExamples',_0x229666(0xb8c)]},_0x3461b9=await callAnalysisApi(_0x458dfe,_0x1babac);displayTeachingContent(_0x3461b9,_0x27b3b3);}catch(_0x419a17){console['error'](_0x229666(0x457),_0x419a17),_0x31686d[_0x229666(0x9be)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x419a17[_0x229666(0x776)]+'</p>';}}function displayTeachingContent(_0x498bec,_0x125b10){const _0x3f4ec5=_0x45baa4,_0x55b812=document[_0x3f4ec5(0xc7b)](_0x3f4ec5(0x22c));document[_0x3f4ec5(0xc7b)]('lesson-plan-title')[_0x3f4ec5(0x448)]=_0x3f4ec5(0xbc9)+_0x125b10;const _0x237b59=_0x3f4ec5(0x3fb)+_0x498bec['keyConcepts'][_0x3f4ec5(0x327)](_0x2b8e4d=>_0x3f4ec5(0x188)+_0x2b8e4d+_0x3f4ec5(0xd3f))[_0x3f4ec5(0x7a0)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x498bec[_0x3f4ec5(0x74d)][_0x3f4ec5(0x327)](_0x5e8bc7=>_0x3f4ec5(0x188)+_0x5e8bc7+_0x3f4ec5(0xd3f))['join']('')+_0x3f4ec5(0xc2b)+_0x498bec[_0x3f4ec5(0xac5)][_0x3f4ec5(0x327)](_0x20a87d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x20a87d[_0x3f4ec5(0xa76)]+_0x3f4ec5(0x27a)+_0x20a87d[_0x3f4ec5(0xb9c)]+_0x3f4ec5(0x649))[_0x3f4ec5(0x7a0)]('')+_0x3f4ec5(0x982)+_0x498bec['teacherTips'][_0x3f4ec5(0x327)](_0x49e7c3=>_0x3f4ec5(0x188)+_0x49e7c3+_0x3f4ec5(0xd3f))[_0x3f4ec5(0x7a0)]('')+_0x3f4ec5(0x3e7);_0x55b812[_0x3f4ec5(0x9be)]=_0x237b59;if(window[_0x3f4ec5(0x8a3)])MathJax['typesetPromise']([_0x55b812]);}async function generateQuizForSingleTopic(_0x17017d){const _0x5b6ec3=_0x45baa4;console[_0x5b6ec3(0x161)](_0x5b6ec3(0x51d)+_0x17017d+'\x22');const _0x76e757=document[_0x5b6ec3(0xc7b)]('reference-pdf-upload'),_0xd37627=_0x76e757[_0x5b6ec3(0x26a)]['length']>0x0?_0x76e757[_0x5b6ec3(0x26a)][0x0]:null;let _0x43cb10=null;if(_0xd37627)try{const _0x51332d=new FileReader();_0x51332d[_0x5b6ec3(0xbef)](_0xd37627);const _0x2ab974=await new Promise((_0x2aeeba,_0x2e5da6)=>{const _0x447e8c=_0x5b6ec3;_0x51332d['onload']=()=>_0x2aeeba(_0x51332d[_0x447e8c(0x370)]['split'](',')[0x1]),_0x51332d[_0x447e8c(0xace)]=_0x10fea7=>_0x2e5da6(_0x10fea7);});_0x43cb10=[{'inlineData':{'mimeType':_0xd37627[_0x5b6ec3(0x6ad)],'data':_0x2ab974}}];}catch(_0x2312e8){console[_0x5b6ec3(0xab1)](_0x5b6ec3(0xc5a),_0x2312e8),showMessage(_0x5b6ec3(0x5fb));return;}generateQuiz(_0x17017d,null,null,_0x43cb10,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x448dc5=null){const _0x32b17d=_0x45baa4,_0x34880d=document[_0x32b17d(0xc7b)](_0x32b17d(0x531)),_0x30131d=document[_0x32b17d(0xc7b)](_0x32b17d(0x31a));let _0x367ad1,_0x295cf1=[];if(_0x448dc5)_0x367ad1=_0x448dc5,_0x295cf1=_0x367ad1[_0x32b17d(0x5d9)](0x2);else{const _0x1efecf=document['getElementById']('blueprint-upload-input'),_0xbe34ca=document[_0x32b17d(0xc7b)](_0x32b17d(0xa6f)),_0x27cf2e=_0x1efecf[_0x32b17d(0x26a)][0x0];if(!_0x27cf2e){showMessage(_0x32b17d(0x1dd));return;}_0x30131d['textContent']=_0x32b17d(0x277);const _0x2122f1=await new Promise((_0x368100,_0x13c94d)=>{const _0x44131e=_0x32b17d,_0x2944f7=new FileReader();_0x2944f7[_0x44131e(0xbef)](_0x27cf2e),_0x2944f7[_0x44131e(0x33a)]=()=>_0x368100(_0x2944f7[_0x44131e(0x370)][_0x44131e(0x392)](',')[0x1]),_0x2944f7[_0x44131e(0xace)]=_0x13c94d;});_0x367ad1=[{'text':_0x32b17d(0x7a3)},{'inlineData':{'mimeType':_0x27cf2e[_0x32b17d(0x6ad)],'data':_0x2122f1}}];if(_0xbe34ca['files'][_0x32b17d(0xa33)]>0x0){const _0x3076cb=_0xbe34ca['files'][0x0];_0x30131d['textContent']='กำลังเตรียมไฟล์อ้างอิง...';const _0x49101e=await new Promise((_0x29f1d3,_0xa6acb3)=>{const _0xd73822=_0x32b17d,_0x2c1187=new FileReader();_0x2c1187['readAsDataURL'](_0x3076cb),_0x2c1187['onload']=()=>_0x29f1d3(_0x2c1187[_0xd73822(0x370)][_0xd73822(0x392)](',')[0x1]),_0x2c1187[_0xd73822(0xace)]=_0xa6acb3;}),_0x4e6322={'inlineData':{'mimeType':_0x3076cb[_0x32b17d(0x6ad)],'data':_0x49101e}};_0x367ad1[_0x32b17d(0xd01)](_0x4e6322),_0x295cf1['push'](_0x4e6322);}}const _0x1f3805=_0x32b17d(0xcac),_0x226be0=_0x32b17d(0xc78);let _0x52f79a='';_0x295cf1&&_0x295cf1[_0x32b17d(0xa33)]>0x0?_0x52f79a=_0x1f3805:_0x52f79a=_0x226be0;const _0x3c8ab8=_0x32b17d(0xbc1)+_0x52f79a+_0x32b17d(0xa0f),_0x395fdd={'type':_0x32b17d(0x1c8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x32b17d(0x3ed),'enum':['multiple_choice','short_answer',_0x32b17d(0x3f8),_0x32b17d(0xafa)]},'options':{'type':_0x32b17d(0x559),'items':{'type':_0x32b17d(0x3ed)}},'correctAnswerIndex':{'type':_0x32b17d(0x366)},'idealAnswer':{'type':_0x32b17d(0x3ed)},'correctAnswer':{'type':_0x32b17d(0xb1a)},'explanation':{'type':_0x32b17d(0x3ed)},'imageCode':{'type':'STRING'}},'required':[_0x32b17d(0x34f),_0x32b17d(0xd36)]},_0x101744={'type':'OBJECT','properties':{'topic':{'type':_0x32b17d(0x3ed)},'questions':{'type':'ARRAY','items':_0x395fdd}},'required':['topic',_0x32b17d(0x92e)]};_0x367ad1[0x0][_0x32b17d(0x26e)]=_0x3c8ab8,await handleApiCall(_0x367ad1,_0x32b17d(0xb20),_0x101744);}function proceedToNextQuestion(_0x35bee9){const _0x32ff44=_0x45baa4;studentAnswersPerQuestion[_0x32ff44(0xd01)](_0x35bee9),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x32ff44(0xa33)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x5058a4,_0x47b160,_0x389065){const _0x3dbe11=_0x45baa4,_0x1ceafb=Object['values'](_0x5058a4[_0x3dbe11(0x1c4)]||{}),_0x5c2892=_0x1ceafb[_0x3dbe11(0xa33)],_0x1737ff=[..._0x1ceafb][_0x3dbe11(0x835)]((_0x4b823c,_0x214170)=>_0x214170['score']-_0x4b823c['score']),_0x75b049=_0x389065,_0x30bd1c=_0x5058a4[_0x3dbe11(0x5ec)]||_0x3dbe11(0x70c),_0x4f630f=_0x30bd1c==='anonymous'&&_0x5058a4[_0x3dbe11(0x515)]===![];let _0x48e9ac='';const _0xa8500d=_0x5058a4['shuffledQuiz'][_0x3dbe11(0x92e)],_0x531215=_0xa8500d[_0x75b049],_0x5614f7=_0x4987de=>String['fromCharCode'](0x41+_0x4987de);let _0x418d16='',_0x19ff30='';if(_0x531215){const _0x5534ac=_0x531215['questionType']||_0x5058a4['shuffledQuiz']['quizType'];if(_0x5534ac===_0x3dbe11(0x35a)&&_0x531215[_0x3dbe11(0x929)]&&_0x531215[_0x3dbe11(0xbfe)]!==undefined){const _0x20622e=_0x531215[_0x3dbe11(0xbfe)];_0x418d16=_0x531215[_0x3dbe11(0x929)][_0x20622e],_0x19ff30=_0x5614f7(_0x20622e)+'.';}else{if(_0x5534ac===_0x3dbe11(0x3f8)){const _0x4abda9=_0x531215[_0x3dbe11(0x4cc)]===!![]||String(_0x531215['correctAnswer'])['toLowerCase']()===_0x3dbe11(0xaa7);_0x4abda9?(_0x418d16=_0x3dbe11(0x440),_0x19ff30='ก.'):(_0x418d16=_0x3dbe11(0x603),_0x19ff30='ข.');}else{if(_0x5534ac===_0x3dbe11(0xafa))_0x418d16=_0x531215[_0x3dbe11(0x492)]||'-',_0x19ff30='';else _0x5534ac===_0x3dbe11(0x19e)&&(_0x418d16=_0x531215[_0x3dbe11(0xc96)]||'-',_0x19ff30='');}}}_0x418d16&&(_0x48e9ac=_0x3dbe11(0x578)+(_0x75b049+0x1)+_0x3dbe11(0x954)+_0x19ff30+'\x20'+_0x418d16+_0x3dbe11(0x3b3));const _0x308ecc=_0x1737ff[_0x3dbe11(0x327)](_0x524268=>{const _0x247a60=_0x3dbe11;let _0x2c02cc=_0x524268[_0x247a60(0xbf3)];if(_0x30bd1c===_0x247a60(0xb37)){const _0x120b62=(_0x524268[_0x247a60(0x7b4)]||[])[_0x247a60(0x6d0)](_0x5a051f=>_0x5a051f[_0x247a60(0x586)]<=_0x75b049);_0x2c02cc=_0x120b62[_0x247a60(0x6d0)](_0x379dff=>_0x379dff[_0x247a60(0xcf5)])[_0x247a60(0xa33)];}const _0x4efb79=(_0x524268['answers']||[])['find'](_0x49fcd2=>_0x49fcd2[_0x247a60(0x586)]===_0x75b049),_0x3bbd42=_0x4efb79?_0x4efb79[_0x247a60(0xcf5)]:![],_0x4c0d3d=_0x4efb79?_0x4efb79[_0x247a60(0x8f3)]===!![]||_0x4efb79[_0x247a60(0x8f3)]===_0x247a60(0x45e):![];let _0x546e22='';if(_0x4c0d3d&&_0x3bbd42)_0x546e22=_0x247a60(0x75a);else{if(_0x4c0d3d&&!_0x3bbd42)_0x546e22=_0x247a60(0x272);else!_0x4c0d3d&&_0x3bbd42?_0x546e22=_0x247a60(0x6f6):_0x546e22=_0x247a60(0x6e8);}const _0x2847a6=_0x4f630f?_0x5058a4[_0x247a60(0x7c6)][_0x524268[_0x247a60(0xb4c)]]||_0x247a60(0x774):_0x524268[_0x247a60(0xb4c)];return _0x247a60(0x29b)+_0x546e22+_0x247a60(0x3ee)+_0x2847a6+_0x247a60(0xbf6)+_0x2c02cc+_0x247a60(0x709);})[_0x3dbe11(0x7a0)](''),_0x4c2577=_0xa8500d[_0x3dbe11(0x327)]((_0x1a6214,_0x47b04e)=>{const _0x2db86c=_0x3dbe11;if(_0x30bd1c===_0x2db86c(0xb37)&&_0x47b04e>_0x75b049)return'';const _0x4a0f58=_0x1ceafb[_0x2db86c(0x6d0)](_0x33e98e=>_0x33e98e[_0x2db86c(0x7b4)]&&_0x33e98e[_0x2db86c(0x7b4)][_0x2db86c(0x5f4)](_0x3e1a14=>_0x3e1a14[_0x2db86c(0x586)]===_0x47b04e&&_0x3e1a14[_0x2db86c(0xcf5)]))[_0x2db86c(0xa33)],_0x23b881=_0x47b04e===_0x75b049,_0x278ad0=_0x23b881?_0x2db86c(0x2f6):_0x2db86c(0x55f);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x278ad0+_0x2db86c(0x567)+(_0x47b04e+0x1)+_0x2db86c(0xcc6)+_0x4a0f58+_0x2db86c(0xc6c)+_0x5c2892+_0x2db86c(0x7a4);})[_0x3dbe11(0x7a0)]('');let _0x1733e8='',_0xd07729='';if(_0x47b160){const _0x10d60e=_0x30bd1c===_0x3dbe11(0x70c)&&_0x5058a4['currentQuestionIndex']>=_0xa8500d[_0x3dbe11(0xa33)]-0x1,_0x4f72e3=_0x30bd1c==='reveal_at_end'&&_0x5058a4[_0x3dbe11(0x9f2)]>=_0xa8500d[_0x3dbe11(0xa33)]-0x1,_0x2e4b44=_0x30bd1c===_0x3dbe11(0x3b7)&&_0x5058a4[_0x3dbe11(0x43c)]>=_0xa8500d[_0x3dbe11(0xa33)]-0x1;_0x10d60e||_0x4f72e3||_0x2e4b44?_0x30bd1c===_0x3dbe11(0x3b7)&&_0x5058a4[_0x3dbe11(0x515)]===![]?_0x1733e8=_0x3dbe11(0x69b):_0x1733e8=_0x3dbe11(0x793):_0x1733e8=_0x3dbe11(0x753),_0xd07729=_0x3dbe11(0x973);}const _0xfcb69b=_0x3dbe11(0xb5a)+_0x5058a4['shuffledQuiz']['topic']+_0x3dbe11(0xbc8)+_0xd07729+_0x3dbe11(0xadf)+_0x48e9ac+_0x3dbe11(0xd0d)+(_0x308ecc||_0x3dbe11(0x558))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x4c2577+_0x3dbe11(0x3a7)+(_0x47b160?_0x3dbe11(0x1c2)+_0x1733e8+_0x3dbe11(0x418):'')+_0x3dbe11(0xc7d);liveGameView[_0x3dbe11(0x9be)]=_0xfcb69b;if(window['MathJax']){const _0x1ec7dc=document[_0x3dbe11(0xc7b)](_0x3dbe11(0x420));_0x1ec7dc&&MathJax[_0x3dbe11(0x91c)]([_0x1ec7dc]);}if(_0x47b160){document[_0x3dbe11(0xc7b)](_0x3dbe11(0xa47))[_0x3dbe11(0x2e6)]=async()=>{const _0x58d23d=_0x3dbe11,_0x9ee454=doc(db,_0x58d23d(0xb73)+appId+'/public/data/syncGames',currentLiveGameId),_0x1f31ce=_0x30bd1c===_0x58d23d(0x70c)&&_0x5058a4['currentQuestionIndex']>=_0xa8500d[_0x58d23d(0xa33)]-0x1,_0x5303aa=_0x30bd1c==='reveal_at_end'&&_0x5058a4[_0x58d23d(0x9f2)]>=_0xa8500d[_0x58d23d(0xa33)]-0x1,_0x3b49eb=_0x30bd1c===_0x58d23d(0x3b7)&&_0x5058a4[_0x58d23d(0x43c)]>=_0xa8500d['length']-0x1;if(_0x30bd1c===_0x58d23d(0xb37))!_0x5303aa?await updateDoc(_0x9ee454,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x9ee454,{'status':_0x58d23d(0x951)});else{if(!_0x1f31ce&&!_0x3b49eb){const _0x454be3=_0x5058a4[_0x58d23d(0x43c)]+0x1,_0x164cc9={};Object[_0x58d23d(0x7a9)](_0x5058a4['players'])[_0x58d23d(0x808)](_0x10c662=>{const _0x3a2d1b=_0x58d23d;_0x164cc9['players.'+_0x10c662+_0x3a2d1b(0xb32)]=![],_0x164cc9[_0x3a2d1b(0x2cd)+_0x10c662+_0x3a2d1b(0x9fc)]=null;}),await updateDoc(_0x9ee454,{..._0x164cc9,'status':'question','currentQuestionIndex':_0x454be3,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x9ee454,{'status':_0x58d23d(0x951)});}},document[_0x3dbe11(0xc7b)](_0x3dbe11(0xa5b))?.[_0x3dbe11(0x21f)](_0x3dbe11(0xb10),async()=>{const _0x1a3d99=_0x3dbe11,_0x4c5755=doc(db,_0x1a3d99(0xb73)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4c5755,{'isAnonymousRevealed':!![]});});const _0x5a6ebe=document['getElementById'](_0x3dbe11(0xb61));_0x5a6ebe&&(_0x5a6ebe['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x553c71=_0x2960,_0x19f18a=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x19f18a,{'status':_0x553c71(0x951)});});});}}async function handleGenerateParallelFromBank(_0x3110ba){const _0x5d6c9e=_0x45baa4,_0x2016a5=document[_0x5d6c9e(0xc7b)](_0x5d6c9e(0xc46)),_0xccc110=document[_0x5d6c9e(0xc7b)](_0x5d6c9e(0x5e5));_0xccc110[_0x5d6c9e(0x246)][_0x5d6c9e(0x329)]('hidden');const _0x1290b0=_0x5d6c9e(0xd4c)+_0x3110ba[_0x5d6c9e(0x613)]+_0x5d6c9e(0x410);_0x2016a5['insertAdjacentHTML'](_0x5d6c9e(0xad7),_0x1290b0);const _0x3cb498=document[_0x5d6c9e(0xc7b)](_0x5d6c9e(0x71d));try{const _0x177c1b=_0x3110ba[_0x5d6c9e(0x92e)]['map']((_0xcead80,_0x26482a)=>{const _0x51a75d=_0x5d6c9e;let _0x243229=_0x26482a+0x1+'.\x20'+(_0xcead80[_0x51a75d(0x24b)]||_0xcead80[_0x51a75d(0x6ea)])+'\x0a';if(_0xcead80['options'])_0x243229+=_0xcead80['options']['map']((_0x2eb050,_0x2d72fc)=>_0x51a75d(0x837)+(_0x2d72fc===_0xcead80['correctAnswerIndex']?_0x51a75d(0x825):'')+'\x20'+_0x2eb050)['join']('\x0a');else _0xcead80['idealAnswer']&&(_0x243229+='\x20\x20\x20-\x20คำตอบ:\x20'+_0xcead80['idealAnswer']);return _0x243229;})[_0x5d6c9e(0x7a0)]('\x0a\x0a');_0x3cb498[_0x5d6c9e(0x448)]=_0x5d6c9e(0xb27);const _0x118601=_0x5d6c9e(0x700)+_0x3110ba[_0x5d6c9e(0x613)]+_0x5d6c9e(0x8fa)+_0x177c1b+_0x5d6c9e(0x90c)+simpleMathPrompt+_0x5d6c9e(0x593),_0x542948={'type':_0x5d6c9e(0x1c8),'properties':{'questionText':{'type':_0x5d6c9e(0x3ed)},'questionType':{'type':'STRING','enum':[_0x5d6c9e(0x35a),_0x5d6c9e(0x19e),'true_false','matching_item']},'options':{'type':_0x5d6c9e(0x559),'items':{'type':_0x5d6c9e(0x3ed)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5d6c9e(0x3ed)},'correctAnswer':{'type':_0x5d6c9e(0xb1a)},'stem':{'type':_0x5d6c9e(0x3ed)},'correctResponse':{'type':_0x5d6c9e(0x3ed)},'allResponses':{'type':'ARRAY','items':{'type':_0x5d6c9e(0x3ed)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5d6c9e(0x3ed)}},'required':[_0x5d6c9e(0x34f),_0x5d6c9e(0xd36)]},_0x2e8074={'type':_0x5d6c9e(0x1c8),'properties':{'topic':{'type':_0x5d6c9e(0x3ed)},'questions':{'type':_0x5d6c9e(0x559),'items':_0x542948}},'required':[_0x5d6c9e(0x613),_0x5d6c9e(0x92e)]},_0xcd5612=await callAnalysisApi(_0x118601,_0x2e8074),_0x42ef98=_0xcd5612[_0x5d6c9e(0x92e)]['map']((_0x33458f,_0x53a67f)=>({..._0x33458f,'id':'q_'+Date[_0x5d6c9e(0xcb8)]()+'_'+_0x53a67f})),_0x64623=_0x5d6c9e(0x217)+_0x3110ba[_0x5d6c9e(0x613)],_0x3e56d6={'topic':_0x64623,'questions':_0x42ef98,'quizType':_0x3110ba[_0x5d6c9e(0x9f7)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x3110ba[_0x5d6c9e(0xd09)],'quizMode':_0x5d6c9e(0x2fd),'pairedQuizId':null,'lessonPlan':null};let _0x2faa51;while(!![]){_0x2faa51=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x5d6c9e(0x626)]();const _0x5f32e9=await getDoc(doc(db,_0x5d6c9e(0xb73)+appId+_0x5d6c9e(0xca0),_0x2faa51));if(!_0x5f32e9[_0x5d6c9e(0xb1f)]())break;}await setDoc(doc(db,_0x5d6c9e(0xb73)+appId+_0x5d6c9e(0xca0),_0x2faa51),_0x3e56d6),showMessage(_0x5d6c9e(0x8c8));}catch(_0x1f415a){console[_0x5d6c9e(0xab1)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x1f415a),showMessage(_0x5d6c9e(0x1e6)+_0x1f415a[_0x5d6c9e(0x776)]);}finally{const _0x220fc7=document[_0x5d6c9e(0xc7b)](_0x5d6c9e(0xbe7));_0x220fc7&&_0x220fc7[_0x5d6c9e(0x142)](),_0xccc110[_0x5d6c9e(0x246)][_0x5d6c9e(0x142)](_0x5d6c9e(0x35d));}}async function handleGenerateParallelPostTest(_0x3b56da){const _0x38c101=_0x45baa4,_0xf193c8=document[_0x38c101(0xc7b)](_0x38c101(0xc46)),_0x4782f6=document[_0x38c101(0xc7b)]('project-quizzes-list');_0x4782f6[_0x38c101(0x246)][_0x38c101(0x329)](_0x38c101(0x35d));const _0x5b531f=_0x38c101(0x465);_0xf193c8[_0x38c101(0x751)](_0x38c101(0xad7),_0x5b531f);try{const _0x5185f0=_0x3b56da['questions'][_0x38c101(0x327)]((_0x8350b8,_0x5c9a81)=>{const _0x2cc519=_0x38c101;let _0x20525b=_0x5c9a81+0x1+'.\x20'+(_0x8350b8[_0x2cc519(0x24b)]||_0x8350b8[_0x2cc519(0x6ea)]);if(_0x8350b8[_0x2cc519(0x929)])_0x20525b+=_0x2cc519(0x724)+_0x8350b8['options']['join'](',\x20');return _0x20525b;})[_0x38c101(0x7a0)]('\x0a\x0a'),_0x5cb886=_0x38c101(0x687)+_0x3b56da['topic']+_0x38c101(0xbe6)+_0x5185f0+_0x38c101(0x13d)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1be76a={'type':_0x38c101(0x1c8),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x38c101(0x559),'items':{'type':_0x38c101(0x1c8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x38c101(0x3ed)}},'correctAnswerIndex':{'type':_0x38c101(0x366)},'idealAnswer':{'type':_0x38c101(0x3ed)},'explanation':{'type':_0x38c101(0x3ed)}},'required':[_0x38c101(0x24b),_0x38c101(0xd36)]}}},'required':['topic','questions']},_0x2cb3d0=await callAnalysisApi(_0x5cb886,_0x1be76a),_0x2cbc23=_0x3b56da[_0x38c101(0x613)][_0x38c101(0x715)](_0x38c101(0x7c5),'')[_0x38c101(0x958)](),_0x278564=_0x38c101(0x432)+_0x2cbc23,_0x2df31d={..._0x2cb3d0,'topic':_0x278564,'quizType':_0x3b56da[_0x38c101(0x9f7)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x3b56da[_0x38c101(0xd09)],'quizMode':'post-test','pairedQuizId':_0x3b56da['id']};let _0x1ca58;while(!![]){_0x1ca58=Math[_0x38c101(0x864)](0x3e8+Math[_0x38c101(0x293)]()*0x2328)[_0x38c101(0x626)]();const _0x195653=await getDoc(doc(db,_0x38c101(0xb73)+appId+_0x38c101(0xca0),_0x1ca58));if(!_0x195653['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x38c101(0xca0),_0x1ca58),_0x2df31d);const _0x4a3d8c=doc(db,_0x38c101(0xb73)+appId+_0x38c101(0xca0),_0x3b56da['id']);await updateDoc(_0x4a3d8c,{'pairedQuizId':_0x1ca58}),showMessage(_0x38c101(0x73d));}catch(_0x4b49a1){console[_0x38c101(0xab1)]('Error\x20generating\x20parallel\x20post-test:',_0x4b49a1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4b49a1[_0x38c101(0x776)]);}finally{const _0x39055c=document[_0x38c101(0xc7b)](_0x38c101(0xbe7));if(_0x39055c)_0x39055c[_0x38c101(0x142)]();_0x4782f6[_0x38c101(0x246)][_0x38c101(0x142)](_0x38c101(0x35d));}}async function handleGenerateParallelTest(_0x5a5c6d=null){const _0x145117=_0x45baa4;let _0x5cc860=_0x5a5c6d;if(!_0x5cc860){const _0xc2b962=document['getElementById'](_0x145117(0x975));_0xc2b962['files'][_0x145117(0xa33)]>0x0&&(_0x5cc860=_0xc2b962[_0x145117(0x26a)][0x0]);}if(!_0x5cc860){showMessage(_0x145117(0x59e));return;}const _0x5d21dd=document[_0x145117(0xc7b)]('loader'),_0x3d62ec=document[_0x145117(0xc7b)](_0x145117(0x31a)),_0x22fdaf=document['getElementById']('generated-quiz-container'),_0x3957fb=document['getElementById'](_0x145117(0x562));_0x3957fb[_0x145117(0x514)]=!![],document[_0x145117(0xc7b)](_0x145117(0x9e2))['classList']['remove'](_0x145117(0x35d)),_0x22fdaf['innerHTML']='',_0x5d21dd['classList'][_0x145117(0x142)](_0x145117(0x35d)),_0x3d62ec['textContent']=_0x145117(0x3c4);const _0x3ea8d5=new FileReader();_0x3ea8d5[_0x145117(0xbef)](_0x5cc860),_0x3ea8d5[_0x145117(0x33a)]=async()=>{const _0x2bc82a=_0x145117;try{const _0x5f48b6=_0x3ea8d5[_0x2bc82a(0x370)]['split'](',')[0x1],_0x521a15=_0x5cc860['type'];_0x3d62ec['textContent']=_0x2bc82a(0x402);const _0x5314fb=document[_0x2bc82a(0xc7b)](_0x2bc82a(0x364))[_0x2bc82a(0xa1c)],_0x370c93=_0x5314fb?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0xd56ef0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x17fe6={'type':'OBJECT','properties':{'questionText':{'type':_0x2bc82a(0x3ed)},'questionType':{'type':_0x2bc82a(0x3ed),'enum':['multiple_choice','short_answer']},'options':{'type':_0x2bc82a(0x559),'items':{'type':_0x2bc82a(0x3ed)}},'correctAnswerIndex':{'type':_0x2bc82a(0x366)},'idealAnswer':{'type':_0x2bc82a(0x3ed)},'explanation':{'type':_0x2bc82a(0x3ed)},'imageCode':{'type':_0x2bc82a(0x3ed)}},'required':[_0x2bc82a(0x24b),_0x2bc82a(0x34f),_0x2bc82a(0xd36)]},_0x47bbb6={'type':_0x2bc82a(0x1c8),'properties':{'topic':{'type':_0x2bc82a(0x3ed)},'questions':{'type':'ARRAY','items':_0x17fe6}},'required':[_0x2bc82a(0x613),_0x2bc82a(0x92e)]},_0x148c57=[{'text':_0xd56ef0},{'inlineData':{'mimeType':_0x521a15,'data':_0x5f48b6}}];await handleApiCall(_0x148c57,_0x2bc82a(0x947),_0x47bbb6);}catch(_0x565041){console[_0x2bc82a(0xab1)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x565041),showMessage(_0x2bc82a(0x1e6)+_0x565041[_0x2bc82a(0x776)]),_0x22fdaf['innerHTML']=_0x2bc82a(0x20a);}finally{_0x5d21dd['classList'][_0x2bc82a(0x329)]('hidden'),_0x3957fb[_0x2bc82a(0x514)]=![];}},_0x3ea8d5[_0x145117(0xace)]=_0x538183=>{const _0x2f36fd=_0x145117;console[_0x2f36fd(0xab1)](_0x2f36fd(0x79f),_0x538183),showMessage(_0x2f36fd(0xac9)),_0x5d21dd[_0x2f36fd(0x246)][_0x2f36fd(0x329)](_0x2f36fd(0x35d)),_0x3957fb['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x4e3c5b){const _0x3c2765=_0x45baa4;if(currentEditingQuizData===null)return;const _0x14bf71=document[_0x3c2765(0x452)](_0x3c2765(0x98a)+_0x4e3c5b+'\x22]');_0x14bf71&&(_0x14bf71['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x54a1ac=currentEditingQuizData[_0x3c2765(0x92e)][_0x4e3c5b],_0x80d40d=currentEditingQuizData[_0x3c2765(0x613)],_0x2e0cb5=_0x54a1ac[_0x3c2765(0x34f)],_0x4591f5={'type':_0x3c2765(0x1c8),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3c2765(0x559),'items':{'type':_0x3c2765(0x3ed)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x3c2765(0x929),'correctAnswerIndex',_0x3c2765(0xd36)]},_0x6d86ff={'type':'OBJECT','properties':{'questionText':{'type':_0x3c2765(0x3ed)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3c2765(0x3ed)}},'required':['questionText',_0x3c2765(0xc96),_0x3c2765(0xd36)]};let _0x4b4ae3,_0x2f177b='';_0x2e0cb5===_0x3c2765(0x35a)?(_0x4b4ae3=_0x4591f5,_0x2f177b=_0x3c2765(0x223)):(_0x4b4ae3=_0x6d86ff,_0x2f177b=_0x3c2765(0x4dd));const _0x11e203='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x80d40d+_0x3c2765(0x4ac)+_0x2f177b+_0x3c2765(0x905)+(_0x54a1ac[_0x3c2765(0x24b)]||_0x54a1ac[_0x3c2765(0x6ea)])+'\x22.\x20'+simpleMathPrompt;try{const _0x1b7649=await callAnalysisApi(_0x11e203,_0x4b4ae3);currentEditingQuizData[_0x3c2765(0x92e)][_0x4e3c5b]={..._0x54a1ac,..._0x1b7649},renderQuizEditor(currentEditingQuizData);}catch(_0x1be0cb){console[_0x3c2765(0xab1)](_0x3c2765(0xcd5),_0x1be0cb),showMessage(_0x3c2765(0x77b)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xd788ef=_0x45baa4,_0x303df2=document[_0xd788ef(0xc7b)](_0xd788ef(0xd46));currentMode===_0xd788ef(0x568)?(currentMode=_0xd788ef(0x1af),_0x303df2[_0xd788ef(0x9be)]=_0xd788ef(0x88a),_0x303df2[_0xd788ef(0xd1e)]=_0xd788ef(0x5d6),showView(_0xd788ef(0x9bc))):(currentMode=_0xd788ef(0x568),_0x303df2[_0xd788ef(0x9be)]=_0xd788ef(0x79b),_0x303df2['title']=_0xd788ef(0xc76),showView('student'));}function handleAdminLogin(){const _0x2bd09e=_0x45baa4,_0x5782b5=document[_0x2bd09e(0xc7b)](_0x2bd09e(0x7ae)),_0x3a30eb=document['getElementById'](_0x2bd09e(0x5ef));if(_0x5782b5[_0x2bd09e(0xab9)]===_0x2bd09e(0x28b)){adminPasswordModal[_0x2bd09e(0x246)][_0x2bd09e(0x329)](_0x2bd09e(0x35d)),_0x5782b5[_0x2bd09e(0xab9)]='',_0x3a30eb[_0x2bd09e(0x246)]['add'](_0x2bd09e(0x35d)),currentMode='admin';const _0x3df3c4=document['getElementById'](_0x2bd09e(0xd46));_0x3df3c4[_0x2bd09e(0x9be)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x3df3c4['title']=_0x2bd09e(0x5d6),showView(_0x2bd09e(0x9bc));}else _0x3a30eb[_0x2bd09e(0x246)][_0x2bd09e(0x142)](_0x2bd09e(0x35d)),_0x5782b5[_0x2bd09e(0xab9)]='';}function switchProjectTab(_0x255aa0){const _0x2bf125=_0x45baa4;['manage',_0x2bf125(0xb84),_0x2bf125(0xcef)][_0x2bf125(0x808)](_0x53186c=>{const _0x44a38c=_0x2bf125;document[_0x44a38c(0xc7b)](_0x53186c+_0x44a38c(0x4e4))[_0x44a38c(0x246)][_0x44a38c(0x142)](_0x44a38c(0x870)),document[_0x44a38c(0xc7b)](_0x53186c+_0x44a38c(0x2ed))['classList'][_0x44a38c(0x329)](_0x44a38c(0x35d));}),document[_0x2bf125(0xc7b)](_0x255aa0+_0x2bf125(0x4e4))[_0x2bf125(0x246)][_0x2bf125(0x329)](_0x2bf125(0x870)),document[_0x2bf125(0xc7b)](_0x255aa0+_0x2bf125(0x2ed))[_0x2bf125(0x246)][_0x2bf125(0x142)]('hidden');}function switchQuizDetailTab(_0x2d1d8a){const _0x30c27a=_0x45baa4,_0x70df23={'analytics':{'btn':'analytics-tab-btn','content':_0x30c27a(0xcae)},'scores':{'btn':_0x30c27a(0x1b4),'content':_0x30c27a(0x5f6)},'leaderboard-quiz':{'btn':_0x30c27a(0x3e6),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x30c27a(0xcce),'content':_0x30c27a(0xc95)}};for(const _0x28797c in _0x70df23){document['getElementById'](_0x70df23[_0x28797c]['btn'])[_0x30c27a(0x246)][_0x30c27a(0x142)]('active'),document[_0x30c27a(0xc7b)](_0x70df23[_0x28797c][_0x30c27a(0x16d)])[_0x30c27a(0x246)]['add']('hidden');}document[_0x30c27a(0xc7b)](_0x70df23[_0x2d1d8a][_0x30c27a(0x6f0)])[_0x30c27a(0x246)][_0x30c27a(0x329)]('active'),document[_0x30c27a(0xc7b)](_0x70df23[_0x2d1d8a][_0x30c27a(0x16d)])[_0x30c27a(0x246)][_0x30c27a(0x142)](_0x30c27a(0x35d));}function showMessage(_0x23d07d,_0x115d6c=null){const _0x3fa9a8=_0x45baa4;modalMessage['textContent']=_0x23d07d,modalConfirmAction=_0x115d6c,messageModal['classList'][_0x3fa9a8(0x142)](_0x3fa9a8(0x35d));}function showConfirmation(_0x5ca3ed,_0x312007){const _0x4cd484=_0x45baa4;document[_0x4cd484(0xc7b)](_0x4cd484(0xb76))['textContent']=_0x5ca3ed,document[_0x4cd484(0xc7b)](_0x4cd484(0xbc6))[_0x4cd484(0x452)]('h3')[_0x4cd484(0x448)]=_0x4cd484(0x4e9),confirmAction=_0x312007,confirmationModal[_0x4cd484(0x246)]['remove'](_0x4cd484(0x35d));}function listenForProjects(){const _0x3c7fb4=_0x45baa4,_0x249b8e=doc(db,_0x3c7fb4(0xc9d),'dashboardConfig');onSnapshot(_0x249b8e,_0x170867=>{const _0x17d05b=_0x3c7fb4;if(_0x170867[_0x17d05b(0xb1f)]()){const _0x28de90=_0x170867['data']();globalDashboardSettings['projectSort']=_0x28de90[_0x17d05b(0x9d2)]||_0x17d05b(0x16b),globalDashboardSettings[_0x17d05b(0x984)]=_0x28de90[_0x17d05b(0x984)]||[],globalDashboardSettings['projectOrder']=_0x28de90[_0x17d05b(0x802)]||[];}allProjects[_0x17d05b(0xa33)]>0x0&&renderProjects();});const _0x1ac6f0=collection(db,_0x3c7fb4(0xb73)+appId+_0x3c7fb4(0xafc));unsubscribeProjectsListener=onSnapshot(_0x1ac6f0,_0x3aca2f=>{const _0x1c3824=_0x3c7fb4;allProjects=_0x3aca2f[_0x1c3824(0xb39)][_0x1c3824(0x327)](_0x1cc08a=>({'id':_0x1cc08a['id'],..._0x1cc08a[_0x1c3824(0x4da)]()})),renderProjects();},_0x466492=>{const _0x12c380=_0x3c7fb4;console[_0x12c380(0xab1)]('Error\x20listening\x20for\x20projects:',_0x466492),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x25c0a4,_0x528b96){const _0x90218f=_0x45baa4;document[_0x90218f(0x336)](_0x90218f(0xc4f))['forEach'](_0x277e4d=>_0x277e4d[_0x90218f(0x142)]());const _0x367468=[_0x90218f(0x94b),_0x90218f(0xa34),'#FEF3C7',_0x90218f(0x28f),_0x90218f(0xc43),'#E0E7FF',_0x90218f(0x2fb),_0x90218f(0xd12),_0x90218f(0xcb5)],_0x82c71d=document[_0x90218f(0xb4b)](_0x90218f(0x15f));_0x82c71d[_0x90218f(0x3c8)]=_0x90218f(0x90d),_0x367468[_0x90218f(0x808)](_0x52089=>{const _0x11c9a4=_0x90218f,_0x3eeb41=document[_0x11c9a4(0xb4b)](_0x11c9a4(0x15f));_0x3eeb41[_0x11c9a4(0x3c8)]=_0x11c9a4(0x2e0),_0x3eeb41[_0x11c9a4(0x59f)][_0x11c9a4(0xd3b)]=_0x52089,_0x3eeb41[_0x11c9a4(0x21f)](_0x11c9a4(0xb10),()=>{const _0x232ffd=_0x11c9a4;handleProjectColorChange(_0x528b96,_0x52089),_0x82c71d[_0x232ffd(0x142)]();}),_0x82c71d['appendChild'](_0x3eeb41);}),document['body'][_0x90218f(0xcd3)](_0x82c71d);const _0x55968b=_0x25c0a4[_0x90218f(0xb13)]();_0x82c71d[_0x90218f(0x59f)]['top']=_0x55968b['bottom']+window[_0x90218f(0x422)]+'px',_0x82c71d[_0x90218f(0x59f)][_0x90218f(0xb4e)]=_0x55968b[_0x90218f(0xb4e)]+window[_0x90218f(0x82d)]-_0x82c71d[_0x90218f(0x6df)]/0x2+'px';}async function handleProjectColorChange(_0x132a64,_0x4ea81f){const _0x4e0476=_0x45baa4,_0x44a1ef=doc(db,_0x4e0476(0xb73)+appId+_0x4e0476(0xafc),_0x132a64);try{await updateDoc(_0x44a1ef,{'color':_0x4ea81f});}catch(_0x4cd0e0){console[_0x4e0476(0xab1)](_0x4e0476(0x7ec),_0x4cd0e0),showMessage(_0x4e0476(0x705));}}async function renderProjects(){const _0x8391b7=_0x45baa4,_0x4cf5f3=globalDashboardSettings['projectSort']||'date_desc',_0x297f79=new Set(globalDashboardSettings[_0x8391b7(0x984)]||[]),_0x33f29b=globalDashboardSettings['projectView']||_0x8391b7(0x894),_0x1d2f0d=document['getElementById'](_0x8391b7(0x614)),_0x5a3cde=document[_0x8391b7(0xc7b)]('list-view-btn');_0x1d2f0d[_0x8391b7(0x246)][_0x8391b7(0x650)]('active',_0x33f29b===_0x8391b7(0x894)),_0x5a3cde['classList'][_0x8391b7(0x650)]('active',_0x33f29b==='list'),document[_0x8391b7(0xc7b)](_0x8391b7(0xb3f))['value']=_0x4cf5f3;const _0x78bdbb=document[_0x8391b7(0xc7b)](_0x8391b7(0x201))['value']['toLowerCase']();let _0x42d550=allProjects['filter'](_0x55a4a0=>_0x55a4a0[_0x8391b7(0x39b)][_0x8391b7(0xd4a)]()[_0x8391b7(0xc04)](_0x78bdbb));const _0x2227e0=_0x42d550['filter'](_0xf173af=>_0x297f79[_0x8391b7(0x7d8)](_0xf173af['id'])),_0x4125dc=_0x42d550[_0x8391b7(0x6d0)](_0x1e11a0=>!_0x297f79[_0x8391b7(0x7d8)](_0x1e11a0['id'])),_0x127a4b=(_0x2b5bfa,_0x5aa7ad)=>{const _0x5de29b=_0x8391b7;switch(_0x4cf5f3){case _0x5de29b(0x7e7):return _0x2b5bfa[_0x5de29b(0x39b)]['localeCompare'](_0x5aa7ad[_0x5de29b(0x39b)],'th');case _0x5de29b(0xa0a):return _0x5aa7ad[_0x5de29b(0x39b)]['localeCompare'](_0x2b5bfa[_0x5de29b(0x39b)],'th');case'date_asc':return new Date(_0x2b5bfa[_0x5de29b(0x9a4)])-new Date(_0x5aa7ad[_0x5de29b(0x9a4)]);default:return new Date(_0x5aa7ad[_0x5de29b(0x9a4)])-new Date(_0x2b5bfa[_0x5de29b(0x9a4)]);}};_0x2227e0[_0x8391b7(0x835)](_0x127a4b),_0x4125dc[_0x8391b7(0x835)](_0x127a4b);const _0x5a596d=[..._0x2227e0,..._0x4125dc],_0x492463=globalDashboardSettings[_0x8391b7(0x802)]||[];_0x492463['length']>0x0&&_0x33f29b==='grid'&&_0x5a596d[_0x8391b7(0x835)]((_0x3405cf,_0x1c6e3c)=>{const _0x820a7c=_0x8391b7,_0x3c88fe=_0x492463[_0x820a7c(0x762)](_0x3405cf['id']),_0x156af4=_0x492463[_0x820a7c(0x762)](_0x1c6e3c['id']);if(_0x3c88fe===-0x1)return 0x1;if(_0x156af4===-0x1)return-0x1;return _0x3c88fe-_0x156af4;});const _0x32ff6b={};await Promise[_0x8391b7(0xd4e)](_0x5a596d[_0x8391b7(0x327)](async _0x49ba9b=>{const _0x42807d=_0x8391b7,_0x4dcfa0=query(collection(db,_0x42807d(0xb73)+appId+_0x42807d(0xca0)),where('projectId','==',_0x49ba9b['id'])),_0x5e1a65=await getDocs(_0x4dcfa0);_0x32ff6b[_0x49ba9b['id']]=_0x5e1a65['size'];}));const _0x35940b=document[_0x8391b7(0xc7b)](_0x8391b7(0x83f));let _0x367ecd='';if(_0x33f29b===_0x8391b7(0x894)){_0x35940b[_0x8391b7(0x3c8)]=_0x8391b7(0x607);if(starredQuizzes[_0x8391b7(0xa33)]>0x0&&_0x78bdbb===''){const _0x53e1e8=starredQuizzes[_0x8391b7(0x327)](_0x5e869d=>{const _0x5b54b1=_0x8391b7,_0x19ac60=allProjects[_0x5b54b1(0x5f4)](_0x54a7a3=>_0x54a7a3['id']===_0x5e869d[_0x5b54b1(0xb2f)]);return{..._0x5e869d,'projectName':_0x19ac60?_0x19ac60[_0x5b54b1(0x39b)]:_0x5b54b1(0xabf)};});_0x367ecd+=_0x8391b7(0x387)+_0x53e1e8[_0x8391b7(0x327)](_0x20cb68=>_0x8391b7(0x529)+_0x20cb68[_0x8391b7(0x613)]+'\x22>'+_0x20cb68[_0x8391b7(0x613)]+_0x8391b7(0x446)+_0x20cb68['projectName']+_0x8391b7(0x3b5)+_0x20cb68[_0x8391b7(0x39b)]+_0x8391b7(0x5f8))[_0x8391b7(0x7a0)]('')+_0x8391b7(0x5e0)+starredQuizzes[_0x8391b7(0xa33)]+_0x8391b7(0x82f);}_0x5a596d[_0x8391b7(0x808)](_0x1dd8a7=>{const _0x3bf48c=_0x8391b7,_0xcbda9=_0x32ff6b[_0x1dd8a7['id']]??0x0,_0x1efb13=_0x297f79[_0x3bf48c(0x7d8)](_0x1dd8a7['id']),_0x229e50=_0x1dd8a7[_0x3bf48c(0x8ae)]||_0x3bf48c(0x94b),_0x100e1d=parseInt(_0x229e50[_0x3bf48c(0xa44)](0x1,0x3),0x10)*0.299+parseInt(_0x229e50[_0x3bf48c(0xa44)](0x3,0x5),0x10)*0.587+parseInt(_0x229e50['substring'](0x5,0x7),0x10)*0.114<0xba,_0x2f212e=_0x100e1d?_0x3bf48c(0xd25):'text-indigo-800',_0x10a8f6=_0x100e1d?_0x3bf48c(0x55e):_0x3bf48c(0xa29);_0x367ecd+=_0x3bf48c(0x4c9)+(_0x1efb13?_0x3bf48c(0x157):_0x3bf48c(0x35b))+_0x3bf48c(0x8b2)+_0x229e50+_0x3bf48c(0x4bb)+_0x1dd8a7['id']+_0x3bf48c(0x186)+_0x1dd8a7['id']+_0x3bf48c(0x711)+(_0x100e1d?_0x3bf48c(0x48e):'text-gray-400\x20hover:text-indigo-600')+_0x3bf48c(0x476)+_0x1dd8a7['id']+_0x3bf48c(0xb71)+(_0x100e1d?_0x3bf48c(0x48e):'text-gray-400\x20hover:text-indigo-600')+_0x3bf48c(0x675)+(_0x1efb13?_0x100e1d?_0x3bf48c(0x17d):_0x3bf48c(0xab4):'')+_0x3bf48c(0x86d)+_0x1dd8a7['id']+_0x3bf48c(0x50e)+_0x2f212e+'\x20pointer-events-none\x22>'+_0x1dd8a7['projectName']+_0x3bf48c(0x36e)+_0x10a8f6+_0x3bf48c(0x62e)+new Date(_0x1dd8a7['createdAt'])['toLocaleDateString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x100e1d?'text-gray-100':_0x3bf48c(0x1ca))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0xcbda9+_0x3bf48c(0x24d)+_0x1dd8a7['id']+'\x22\x20data-name=\x22'+_0x1dd8a7[_0x3bf48c(0x39b)]+_0x3bf48c(0x58f)+(_0x100e1d?_0x3bf48c(0xcb1):_0x3bf48c(0x972))+_0x3bf48c(0x70f);});}else _0x35940b[_0x8391b7(0x3c8)]=_0x8391b7(0xa7b),starredQuizzes[_0x8391b7(0xa33)]>0x0&&_0x78bdbb===''&&(_0x367ecd+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x8391b7(0xa33)]+_0x8391b7(0xce9)),_0x367ecd+=_0x8391b7(0x1ec),_0x5a596d['forEach'](_0x105389=>{const _0x132e38=_0x8391b7,_0x36e739=_0x32ff6b[_0x105389['id']]??0x0,_0x297eec=_0x297f79['has'](_0x105389['id']);_0x367ecd+=_0x132e38(0x66c)+(_0x105389[_0x132e38(0x8ae)]||_0x132e38(0xcb5))+_0x132e38(0x579)+_0x105389['id']+_0x132e38(0xc37)+_0x105389[_0x132e38(0x39b)]+_0x132e38(0xa8d)+_0x36e739+_0x132e38(0xc6a)+new Date(_0x105389[_0x132e38(0x9a4)])[_0x132e38(0x318)](_0x132e38(0x499))+_0x132e38(0xa2d)+_0x105389['id']+_0x132e38(0x6de)+(_0x297eec?_0x132e38(0xab4):'')+_0x132e38(0x205)+_0x105389['id']+'\x22\x20data-name=\x22'+_0x105389[_0x132e38(0x39b)]+_0x132e38(0x7ce);});projectList[_0x8391b7(0x9be)]=_0x367ecd,noProjectsMsg[_0x8391b7(0x246)]['toggle'](_0x8391b7(0x35d),_0x367ecd[_0x8391b7(0xa33)]>0x0);}document[_0x45baa4(0xc7b)](_0x45baa4(0x7b5))['addEventListener']('click',async()=>{const _0x4f7ece=_0x45baa4,_0x1afeff=document[_0x4f7ece(0xc7b)]('project-name-input'),_0x1ac32c=_0x1afeff[_0x4f7ece(0xab9)][_0x4f7ece(0x958)]();if(!_0x1ac32c){showMessage(_0x4f7ece(0xa77));return;}try{const _0x3d4fa9=doc(collection(db,_0x4f7ece(0xb73)+appId+_0x4f7ece(0xafc)));await setDoc(_0x3d4fa9,{'projectName':_0x1ac32c,'students':[],'settings':{'resultsDisplay':_0x4f7ece(0xb98),'shuffleSetting':_0x4f7ece(0xada),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x1afeff[_0x4f7ece(0xab9)]='',createProjectModal[_0x4f7ece(0x246)][_0x4f7ece(0x329)](_0x4f7ece(0x35d)),showMessage(_0x4f7ece(0x6c8));}catch(_0x50cefd){console[_0x4f7ece(0xab1)]('Error\x20creating\x20project:',_0x50cefd),showMessage(_0x4f7ece(0x431));}}),projectList[_0x45baa4(0x21f)](_0x45baa4(0xb10),async _0x3d8911=>{const _0x58600a=_0x45baa4,_0x8f1b84=_0x3d8911[_0x58600a(0x796)][_0x58600a(0x2ec)](_0x58600a(0xa52)),_0x5a35b3=_0x3d8911[_0x58600a(0x796)][_0x58600a(0x2ec)](_0x58600a(0xa2a)),_0x338b5f=_0x3d8911[_0x58600a(0x796)][_0x58600a(0x2ec)](_0x58600a(0x224)),_0xf04d20=_0x3d8911['target']['closest'](_0x58600a(0x885));if(_0x338b5f){const _0x4882d8=_0x338b5f['dataset']['id'],_0x473b6e=doc(db,_0x58600a(0xc9d),_0x58600a(0x44a)),_0x4d8c2b=globalDashboardSettings[_0x58600a(0x984)];let _0x55bfc3;_0x4d8c2b['includes'](_0x4882d8)?_0x55bfc3=_0x4d8c2b['filter'](_0x379123=>_0x379123!==_0x4882d8):_0x55bfc3=[..._0x4d8c2b,_0x4882d8];try{await setDoc(_0x473b6e,{'pinnedProjects':_0x55bfc3},{'merge':!![]});}catch(_0x201216){console[_0x58600a(0xab1)](_0x58600a(0x37a),_0x201216),showMessage(_0x58600a(0xc2d));}}else{if(_0xf04d20){const _0x18d266=_0xf04d20[_0x58600a(0xaf8)]['id'];showColorPalette(_0xf04d20,_0x18d266);}else{if(_0x8f1b84){const _0x2fa86f=_0x8f1b84[_0x58600a(0xaf8)]['id'];_0x2fa86f===_0x58600a(0xa06)?showStarredProjectView():(currentProjectId=_0x2fa86f,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x5a35b3){const _0x54f084=_0x5a35b3[_0x58600a(0xaf8)]['id'],_0x4d6bf4=_0x5a35b3[_0x58600a(0xaf8)]['name'];showConfirmation(_0x58600a(0x931)+_0x4d6bf4+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x54f084));}}}}}),projectList[_0x45baa4(0x21f)]('dragstart',_0xa8319f=>{const _0x3157a5=_0x45baa4,_0x2af3ea=_0xa8319f['target'][_0x3157a5(0x2ec)](_0x3157a5(0xb90));_0x2af3ea&&_0x2af3ea[_0x3157a5(0x246)][_0x3157a5(0x329)](_0x3157a5(0x987));}),projectList['addEventListener'](_0x45baa4(0xcb2),_0x5d6b02=>{const _0x41eedb=_0x45baa4,_0x3a9a80=_0x5d6b02[_0x41eedb(0x796)]['closest'](_0x41eedb(0xb90));_0x3a9a80&&_0x3a9a80[_0x41eedb(0x246)]['remove']('opacity-50');}),projectList[_0x45baa4(0x21f)](_0x45baa4(0x5a0),_0x5bba2b=>{const _0x514b4f=_0x45baa4;_0x5bba2b['preventDefault']();const _0x2393d0=document[_0x514b4f(0x452)](_0x514b4f(0x245));if(!_0x2393d0)return;const _0x1a7523=getDragAfterElement(projectList,_0x5bba2b[_0x514b4f(0x50d)]);_0x1a7523==null?projectList[_0x514b4f(0xcd3)](_0x2393d0):projectList['insertBefore'](_0x2393d0,_0x1a7523);}),projectList[_0x45baa4(0x21f)](_0x45baa4(0x8d3),_0xf523db=>{const _0x301fab=_0x45baa4;_0xf523db[_0x301fab(0xcd0)]();const _0x4a8eb2=[...projectList[_0x301fab(0x336)](_0x301fab(0xabc))][_0x301fab(0x327)](_0x1d3e16=>_0x1d3e16['dataset']['id']);saveProjectOrder(_0x4a8eb2);});function renderBehaviorLog(_0x2dc364){const _0x1276d9=_0x45baa4,_0x5cd677=document[_0x1276d9(0xc7b)](_0x1276d9(0x58e));if(!_0x5cd677)return;const _0x1a60e0=_0x2dc364[_0x1276d9(0x6d0)](_0x3b7d04=>_0x3b7d04['behaviorLog']&&_0x3b7d04[_0x1276d9(0x5a1)][_0x1276d9(0xa33)]>0x0);if(_0x1a60e0[_0x1276d9(0xa33)]===0x0){_0x5cd677[_0x1276d9(0x9be)]=_0x1276d9(0x6e9);return;}let _0x13a5f9='';_0x1a60e0[_0x1276d9(0x808)](_0x3bddfd=>{const _0x173034=_0x1276d9;_0x13a5f9+=_0x173034(0x97f)+_0x3bddfd[_0x173034(0x2f7)]+_0x173034(0x7f3),_0x3bddfd[_0x173034(0x5a1)]['sort']((_0x40af93,_0x4e5489)=>new Date(_0x4e5489[_0x173034(0x7d7)])-new Date(_0x40af93['timestamp']))[_0x173034(0x808)](_0x10133c=>{const _0x385930=_0x173034,_0x2117c3=new Date(_0x10133c[_0x385930(0x7d7)])[_0x385930(0x318)](_0x385930(0x499),{'dateStyle':'short','timeStyle':_0x385930(0x243)});_0x13a5f9+=_0x385930(0x851)+_0x10133c[_0x385930(0xa99)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x2117c3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x13a5f9+=_0x173034(0x89b);}),_0x5cd677['innerHTML']=_0x13a5f9;}function getDragAfterElement(_0x12703d,_0xa239e1){const _0x1154f8=_0x45baa4,_0x4b94a0=[..._0x12703d[_0x1154f8(0x336)](_0x1154f8(0x75d))];return _0x4b94a0['reduce']((_0xd46f7e,_0xbeebf5)=>{const _0x8af279=_0x1154f8,_0xf206a7=_0xbeebf5[_0x8af279(0xb13)](),_0x12001e=_0xa239e1-_0xf206a7[_0x8af279(0x994)]-_0xf206a7['height']/0x2;return _0x12001e<0x0&&_0x12001e>_0xd46f7e[_0x8af279(0x54e)]?{'offset':_0x12001e,'element':_0xbeebf5}:_0xd46f7e;},{'offset':Number[_0x1154f8(0x429)]})[_0x1154f8(0xb97)];}async function saveProjectOrder(_0x316e2b){const _0x23af11=_0x45baa4,_0x5e7410=doc(db,'globalSettings',_0x23af11(0x44a));try{await setDoc(_0x5e7410,{'projectOrder':_0x316e2b},{'merge':!![]});}catch(_0x1626bf){console[_0x23af11(0xab1)](_0x23af11(0x39a),_0x1626bf),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0xad94a3,_0x49742a={}){const _0x251617=_0x45baa4;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x251617(0xc33)](_0x251617(0x1dc));return;}const _0x591f76=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions',currentStudentName),_0x20937f={'event':_0xad94a3,'timestamp':new Date()['toISOString'](),..._0x49742a};try{await updateDoc(_0x591f76,{'behaviorLog':arrayUnion(_0x20937f)}),console['log'](_0x251617(0x6d8)+currentStudentName+'\x20สำเร็จ');}catch(_0x167016){_0x167016['code']===_0x251617(0xc9e)?console['warn'](_0x251617(0xd33)+currentStudentName+_0x251617(0x1b1)):console[_0x251617(0xab1)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x167016);}}function calculateMeanAndStdDev(_0x3c0b2b){const _0x51840a=_0x45baa4;if(_0x3c0b2b[_0x51840a(0xa33)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x5ea495=_0x3c0b2b[_0x51840a(0x9ac)]((_0x214879,_0x39cf73)=>_0x214879+_0x39cf73,0x0)/_0x3c0b2b['length'];if(_0x3c0b2b[_0x51840a(0xa33)]===0x1)return{'mean':_0x5ea495,'stdDev':0x0};const _0x972764=Math[_0x51840a(0x3a6)](_0x3c0b2b[_0x51840a(0x327)](_0x19feed=>Math[_0x51840a(0x2b7)](_0x19feed-_0x5ea495,0x2))[_0x51840a(0x9ac)]((_0x3a1a44,_0x4bdbf4)=>_0x3a1a44+_0x4bdbf4,0x0)/(_0x3c0b2b[_0x51840a(0xa33)]-0x1));return{'mean':_0x5ea495,'stdDev':_0x972764};}function calculateZScore(_0x3903b5,_0x1cde10,_0x15a71c){if(_0x15a71c===0x0)return 0x0;return(_0x3903b5-_0x1cde10)/_0x15a71c;}function calculateTScore(_0x5747e2){return 0xa*_0x5747e2+0x32;}function showStarredProjectView(){const _0x3e45ca=_0x45baa4;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x3e45ca(0x448)]=_0x3e45ca(0x551),showView('project-detail'),manageTab[_0x3e45ca(0x246)][_0x3e45ca(0x329)](_0x3e45ca(0x35d)),leaderboardTab[_0x3e45ca(0x246)]['add'](_0x3e45ca(0x35d)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x1ed0ad){const _0x28d042=_0x45baa4,_0x2e8d30=doc(db,_0x28d042(0xb73)+appId+_0x28d042(0xafc),_0x1ed0ad),_0x39c725=await getDoc(_0x2e8d30);if(_0x39c725[_0x28d042(0xb1f)]()){manageTab[_0x28d042(0x246)][_0x28d042(0x142)]('hidden'),leaderboardTab[_0x28d042(0x246)][_0x28d042(0x142)](_0x28d042(0x35d)),currentProjectData=_0x39c725['data'](),projectTitle[_0x28d042(0x448)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x1ed0ad;const _0x1d8b96=currentProjectData['settings']||{};document['getElementById'](_0x28d042(0xb8a))[_0x28d042(0xab9)]=_0x1d8b96['shuffleSetting']||_0x28d042(0xada);const _0x28330e=document[_0x28d042(0xc7b)](_0x28d042(0x6cd));_0x28330e[_0x28d042(0xa1c)]=_0x1d8b96['showInStudentDashboard']!==![];const _0x4d8d31=document[_0x28d042(0xc7b)](_0x28d042(0x443)),_0x195e26=document[_0x28d042(0xc7b)]('passcode-input-container'),_0x558320=document['getElementById'](_0x28d042(0x8ca)),_0x1c50f9=_0x1d8b96[_0x28d042(0xd55)]||![];_0x4d8d31[_0x28d042(0xa1c)]=_0x1c50f9,_0x558320['value']=_0x1d8b96[_0x28d042(0xb93)]||'',_0x195e26[_0x28d042(0x246)][_0x28d042(0x650)]('hidden',!_0x1c50f9),_0x4d8d31[_0x28d042(0x475)]=()=>{const _0xb21a7=_0x28d042;_0x195e26[_0xb21a7(0x246)][_0xb21a7(0x650)]('hidden',!_0x4d8d31['checked']);},document[_0x28d042(0xc7b)](_0x28d042(0x6ef))[_0x28d042(0xa1c)]=_0x1d8b96[_0x28d042(0xc16)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1ed0ad),listenForProjectQuizzes(_0x1ed0ad),listenForStudentProfiles(_0x1ed0ad);}else showMessage(_0x28d042(0xa4d)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x3fa4c5=_0x45baa4,_0x2ace46=doc(db,_0x3fa4c5(0xc9d),_0x3fa4c5(0x44a));try{await setDoc(_0x2ace46,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x3fa4c5(0x61a));}catch(_0x4a78fd){console['error']('Error\x20resetting\x20project\x20order:',_0x4a78fd),showMessage(_0x3fa4c5(0xbd0));}}async function handleTogglePinProject(_0x278c1b){const _0x43bc03=_0x45baa4;if(!_0x278c1b)return;const _0x27f8d6=doc(db,_0x43bc03(0xb73)+appId+'/public/data/projects',_0x278c1b);try{const _0x51d96a=await getDoc(_0x27f8d6);if(_0x51d96a[_0x43bc03(0xb1f)]()){const _0x4e309b=_0x51d96a[_0x43bc03(0x4da)]()['isPinned']||![];await updateDoc(_0x27f8d6,{'isPinned':!_0x4e309b});}}catch(_0x547fa0){console[_0x43bc03(0xab1)]('Error\x20toggling\x20pin\x20status:',_0x547fa0),showMessage(_0x43bc03(0xc2d));}}async function handleDeleteProject(_0x4ba0cc){const _0x950917=_0x45baa4;try{const _0x211b28=writeBatch(db),_0x5d2197=collection(db,_0x950917(0xb73)+appId+'/public/data/quizzes'),_0x42d82c=query(_0x5d2197,where('projectId','==',_0x4ba0cc)),_0x1ccd56=await getDocs(_0x42d82c);for(const _0x3bbf50 of _0x1ccd56[_0x950917(0xb39)]){const _0x247e13=collection(db,_0x950917(0xb73)+appId+_0x950917(0x444)+_0x3bbf50['id']+_0x950917(0xc11)),_0x1e0315=await getDocs(_0x247e13);_0x1e0315[_0x950917(0x808)](_0x43d034=>{const _0x540eb5=_0x950917;_0x211b28['delete'](_0x43d034[_0x540eb5(0x785)]);}),_0x211b28[_0x950917(0x5b7)](_0x3bbf50[_0x950917(0x785)]);}const _0x427143=collection(db,_0x950917(0xb73)+appId+_0x950917(0x326)+_0x4ba0cc+_0x950917(0x992)),_0x254f2b=await getDocs(_0x427143);_0x254f2b['forEach'](_0xbb15c3=>{const _0x1132fd=_0x950917;_0x211b28['delete'](_0xbb15c3[_0x1132fd(0x785)]);});const _0x5ac7ab=doc(db,_0x950917(0xb73)+appId+'/public/data/projects',_0x4ba0cc);_0x211b28[_0x950917(0x5b7)](_0x5ac7ab),await _0x211b28[_0x950917(0xc1a)](),showMessage(_0x950917(0xa7f)),showView('admin-dashboard');}catch(_0xbbf517){console[_0x950917(0xab1)](_0x950917(0x545),_0xbbf517),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x45baa4(0xc7b)]('save-settings-btn')[_0x45baa4(0x21f)](_0x45baa4(0xb10),async()=>{const _0x10defe=_0x45baa4;if(!currentProjectId)return;const _0xf5812d={'defaultNumQuestions':parseInt(document[_0x10defe(0xc7b)](_0x10defe(0x4fb))['value']),'defaultNumChoices':parseInt(document[_0x10defe(0xc7b)](_0x10defe(0xa25))[_0x10defe(0xab9)]),'defaultPassingScore':parseInt(document[_0x10defe(0xc7b)]('passing-score-input')['value']),'resultsDisplay':document[_0x10defe(0xc7b)](_0x10defe(0x53a))[_0x10defe(0xab9)],'shuffleSetting':document[_0x10defe(0xc7b)](_0x10defe(0xb8a))['value'],'timerMode':document[_0x10defe(0xc7b)](_0x10defe(0x1c0))[_0x10defe(0xab9)],'timerDuration':parseInt(document[_0x10defe(0xc7b)](_0x10defe(0x521))[_0x10defe(0xab9)]),'isConfidenceScoringEnabled':document[_0x10defe(0xc7b)](_0x10defe(0x6ef))[_0x10defe(0xa1c)],'confidenceMode':document[_0x10defe(0xc7b)](_0x10defe(0x29c))[_0x10defe(0xab9)]};try{const _0x1537cc=doc(db,_0x10defe(0xb73)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x1537cc,{'settings':_0xf5812d}),showMessage(_0x10defe(0x8df));}catch(_0x16ac68){console[_0x10defe(0xab1)](_0x10defe(0x260),_0x16ac68),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x3b9da9){const _0x2e2e38=_0x45baa4,_0xc4766c=doc(db,_0x2e2e38(0xb73)+appId+_0x2e2e38(0xafc),_0x3b9da9);unsubscribeStudentsListener=onSnapshot(_0xc4766c,_0x39aa36=>{if(_0x39aa36['exists']()){const _0x3e8945=_0x39aa36['data']();currentProjectData=_0x3e8945,renderStudentList(_0x3e8945['students']||[]);}});}function renderStudentList(_0x4a44da){const _0x3d4021=_0x45baa4,_0x551b23=document[_0x3d4021(0xc7b)](_0x3d4021(0x52d));_0x4a44da[_0x3d4021(0xa33)]===0x0?(studentList[_0x3d4021(0x9be)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x551b23[_0x3d4021(0x246)][_0x3d4021(0x329)](_0x3d4021(0x35d))):(studentList[_0x3d4021(0x9be)]=_0x4a44da['map'](_0x36adb7=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x36adb7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x36adb7+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x551b23[_0x3d4021(0x246)]['remove'](_0x3d4021(0x35d)));}document[_0x45baa4(0xc7b)](_0x45baa4(0xb7b))['addEventListener'](_0x45baa4(0xb10),async()=>{const _0x183fac=_0x45baa4;if(!currentProjectId)return;const _0x6b2176=document[_0x183fac(0xc7b)]('student-name-input'),_0x4a0f31=_0x6b2176['value'][_0x183fac(0x958)]();if(!_0x4a0f31){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x4fb013=_0x4a0f31[_0x183fac(0x392)]('\x0a')['map'](_0xcc1f42=>_0xcc1f42[_0x183fac(0x958)]())[_0x183fac(0x6d0)](_0x3745e1=>_0x3745e1);if(_0x4fb013[_0x183fac(0xa33)]===0x0)return;try{const _0x4a9215=doc(db,_0x183fac(0xb73)+appId+_0x183fac(0xafc),currentProjectId),_0x40fe9b=await getDoc(_0x4a9215);if(_0x40fe9b[_0x183fac(0xb1f)]()){const _0xd5d3d9=_0x40fe9b[_0x183fac(0x4da)]()['students']||[],_0x54996e=[...new Set([..._0xd5d3d9,..._0x4fb013])];await updateDoc(_0x4a9215,{'students':_0x54996e}),_0x6b2176[_0x183fac(0xab9)]='';}}catch(_0x55dcea){console['error']('Error\x20adding\x20students:',_0x55dcea),showMessage(_0x183fac(0x85e));}});async function handleManualQuizPairing(_0x431014){const _0xa0a7=_0x45baa4,_0x913900=document[_0xa0a7(0xc7b)](_0xa0a7(0xa02)),_0x3d848=document[_0xa0a7(0xc7b)]('move-quiz-project-select'),_0x38a642=_0x913900[_0xa0a7(0x452)]('h3'),_0x56c141=document['getElementById'](_0xa0a7(0xbcb)),_0x458a11=document['getElementById']('cancel-move-quiz-btn');_0x38a642['textContent']=_0xa0a7(0x4d1),_0x3d848[_0xa0a7(0x9be)]=_0xa0a7(0xb3e),_0x56c141['textContent']='ยืนยันการจับคู่',_0x913900[_0xa0a7(0x246)][_0xa0a7(0x142)]('hidden');const _0x3fa0ab=allQuizzes[_0xa0a7(0x6d0)](_0x484d28=>_0x484d28['id']!==_0x431014);_0x3fa0ab[_0xa0a7(0xa33)]===0x0?(_0x3d848[_0xa0a7(0x9be)]=_0xa0a7(0x501),_0x56c141[_0xa0a7(0x514)]=!![]):(_0x3d848[_0xa0a7(0x9be)]=_0xa0a7(0x14d)+_0x3fa0ab[_0xa0a7(0x327)](_0x421d81=>_0xa0a7(0x490)+_0x421d81['id']+'\x22>'+_0x421d81[_0xa0a7(0x613)]+_0xa0a7(0xaff))['join'](''),_0x56c141[_0xa0a7(0x514)]=![]);const _0x186c7e=async()=>{const _0x345423=_0xa0a7,_0x49272e=_0x3d848['value'];if(!_0x49272e){showMessage(_0x345423(0xa7c));return;}_0x56c141[_0x345423(0x514)]=!![],_0x56c141[_0x345423(0x448)]=_0x345423(0x270);try{const _0x3120e4=doc(db,_0x345423(0xb73)+appId+_0x345423(0xca0),_0x431014),_0x411d1b=doc(db,_0x345423(0xb73)+appId+'/public/data/quizzes',_0x49272e),_0x2c88f3=writeBatch(db);_0x2c88f3['update'](_0x3120e4,{'pairedQuizId':_0x49272e}),_0x2c88f3[_0x345423(0x621)](_0x411d1b,{'pairedQuizId':_0x431014}),await _0x2c88f3[_0x345423(0xc1a)](),showMessage(_0x345423(0x42c)),_0x913900[_0x345423(0x246)][_0x345423(0x329)](_0x345423(0x35d));}catch(_0x9663ac){console[_0x345423(0xab1)](_0x345423(0xc5f),_0x9663ac),showMessage(_0x345423(0xcea));}finally{_0x38a642[_0x345423(0x448)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x56c141[_0x345423(0x448)]=_0x345423(0x31e),_0x56c141[_0x345423(0x514)]=![],_0x56c141[_0x345423(0xc0e)]('click',_0x186c7e),_0x458a11[_0x345423(0xc0e)](_0x345423(0xb10),_0x3e77aa);}},_0x3e77aa=()=>{const _0x1b8c1d=_0xa0a7;_0x913900[_0x1b8c1d(0x246)][_0x1b8c1d(0x329)](_0x1b8c1d(0x35d)),_0x38a642[_0x1b8c1d(0x448)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x56c141[_0x1b8c1d(0x448)]=_0x1b8c1d(0x31e),_0x56c141[_0x1b8c1d(0xc0e)](_0x1b8c1d(0xb10),_0x186c7e),_0x458a11['removeEventListener'](_0x1b8c1d(0xb10),_0x3e77aa);};_0x56c141[_0xa0a7(0x21f)](_0xa0a7(0xb10),_0x186c7e),_0x458a11[_0xa0a7(0x21f)](_0xa0a7(0xb10),_0x3e77aa);}function handleDeleteStudent(_0x180454){const _0x4bc15e=_0x45baa4;showConfirmation(_0x4bc15e(0x43b)+_0x180454+_0x4bc15e(0xac4),async()=>{const _0x5bd639=_0x4bc15e;if(!currentProjectId||!currentProjectData)return;const _0xd22089=currentProjectData['students'][_0x5bd639(0x6d0)](_0x4e5cfc=>_0x4e5cfc!==_0x180454);try{const _0xaa4efc=doc(db,'artifacts/'+appId+_0x5bd639(0xafc),currentProjectId),_0x327ac9=doc(db,_0x5bd639(0xb73)+appId+_0x5bd639(0x326)+currentProjectId+'/studentProfiles',_0x180454),_0x162ff6=writeBatch(db);_0x162ff6['update'](_0xaa4efc,{'students':_0xd22089}),_0x162ff6[_0x5bd639(0x5b7)](_0x327ac9),await _0x162ff6[_0x5bd639(0xc1a)]();}catch(_0x545ca0){console[_0x5bd639(0xab1)](_0x5bd639(0xaf7),_0x545ca0),showMessage(_0x5bd639(0xbc3));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x3618b7=_0x2960;if(!currentProjectId)return;try{const _0x3f5361=doc(db,_0x3618b7(0xb73)+appId+'/public/data/projects',currentProjectId),_0x11c3c3=collection(db,_0x3618b7(0xb73)+appId+_0x3618b7(0x326)+currentProjectId+_0x3618b7(0x992)),_0x5e11ac=await getDocs(_0x11c3c3),_0x103114=writeBatch(db);_0x103114[_0x3618b7(0x621)](_0x3f5361,{'students':[]}),_0x5e11ac[_0x3618b7(0x808)](_0x47a630=>_0x103114[_0x3618b7(0x5b7)](_0x47a630[_0x3618b7(0x785)])),await _0x103114['commit']();}catch(_0x36482a){console['error'](_0x3618b7(0x32f),_0x36482a),showMessage(_0x3618b7(0x6a8));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x26e1a5){const _0x53ad26=_0x45baa4,_0xa49f3a=document['getElementById'](_0x53ad26(0x635)),_0x34952b=document[_0x53ad26(0xc7b)](_0x53ad26(0x355));_0xa49f3a[_0x53ad26(0x246)][_0x53ad26(0x142)](_0x53ad26(0x35d)),_0x34952b['innerHTML']=_0x53ad26(0x9f9);try{const _0x3dbb96=new FileReader();_0x3dbb96[_0x53ad26(0xbef)](_0x26e1a5),await new Promise((_0x5130b5,_0x452ed2)=>{const _0x26f188=_0x53ad26;_0x3dbb96[_0x26f188(0x33a)]=()=>{const _0x91ed63=_0x26f188;fileDataBase64=_0x3dbb96[_0x91ed63(0x370)][_0x91ed63(0x392)](',')[0x1],fileMimeType=_0x26e1a5[_0x91ed63(0x6ad)],_0x5130b5();},_0x3dbb96['onerror']=_0xe3e5f6=>_0x452ed2(_0xe3e5f6);});if(!fileDataBase64)throw new Error(_0x53ad26(0x41f));const _0x1d3b7d=_0x53ad26(0xd06),_0x2c5ed0={'type':_0x53ad26(0x1c8),'properties':{'topics':{'type':_0x53ad26(0x559),'items':{'type':_0x53ad26(0x3ed)}}},'required':[_0x53ad26(0xd19)]},_0x2aae80=[{'text':_0x1d3b7d},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x182d60=await handleApiCall(_0x2aae80,'กำลังวิเคราะห์หัวข้อ...',_0x2c5ed0,null,![]);if(_0x182d60&&_0x182d60['topics'])extractedFileTopics=_0x182d60[_0x53ad26(0xd19)],renderFileTopics();else throw new Error(_0x53ad26(0x234));}catch(_0xd6a5b1){console[_0x53ad26(0xab1)](_0x53ad26(0xca3),_0xd6a5b1),_0x34952b['innerHTML']=_0x53ad26(0x50b)+_0xd6a5b1['message']+_0x53ad26(0x4fa);}}function renderFileTopics(){const _0x1e40a4=_0x45baa4,_0x89c648=document[_0x1e40a4(0xc7b)](_0x1e40a4(0x355));if(extractedFileTopics[_0x1e40a4(0xa33)]===0x0){_0x89c648['innerHTML']=_0x1e40a4(0xcd6);return;}_0x89c648['innerHTML']=extractedFileTopics[_0x1e40a4(0x327)](_0x4658b9=>_0x1e40a4(0x39c)+_0x4658b9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x4658b9)+_0x1e40a4(0xc10)+escape(_0x4658b9)+_0x1e40a4(0x865))[_0x1e40a4(0x7a0)]('');}async function generateHybridQuizForTopic(_0xe7b97){const _0x4c5885=_0x45baa4,_0xcbee6c=parseInt(document[_0x4c5885(0xc7b)]('num-questions')['value'],0xa),_0x35941e=document[_0x4c5885(0xc7b)](_0x4c5885(0xbad))[_0x4c5885(0xab9)],_0x534c22=document[_0x4c5885(0xc7b)](_0x4c5885(0xa25))['value'],_0x5261fa=document['getElementById'](_0x4c5885(0x364))[_0x4c5885(0xa1c)],_0x22a5f0=_0x5261fa?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x4c5885(0x6db);let _0x1331c3='',_0x2e283f;const _0x230bd3={'type':_0x4c5885(0x1c8),'properties':{'questionText':{'type':_0x4c5885(0x3ed)},'options':{'type':_0x4c5885(0x559),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4c5885(0x366)},'explanation':{'type':_0x4c5885(0x3ed)},'imageCode':{'type':_0x4c5885(0x3ed)}},'required':[_0x4c5885(0x24b),'options','correctAnswerIndex',_0x4c5885(0xd36)]},_0x26f8ec={'type':_0x4c5885(0x1c8),'properties':{'questionText':{'type':_0x4c5885(0x3ed)},'correctAnswer':{'type':_0x4c5885(0xb1a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4c5885(0x3ed)}},'required':['questionText',_0x4c5885(0x4cc),_0x4c5885(0xd36)]},_0x492751={'type':_0x4c5885(0x1c8),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4c5885(0x3ed)},'explanation':{'type':_0x4c5885(0x3ed)},'imageCode':{'type':'STRING'}},'required':[_0x4c5885(0x24b),_0x4c5885(0xc96),'explanation']},_0x5996fb={'type':_0x4c5885(0x1c8),'properties':{'questionType':{'type':_0x4c5885(0x3ed),'enum':[_0x4c5885(0xafa)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4c5885(0x559),'items':{'type':_0x4c5885(0x3ed)}},'explanation':{'type':_0x4c5885(0x3ed)},'imageCode':{'type':_0x4c5885(0x3ed)}},'required':['questionType',_0x4c5885(0x6ea),_0x4c5885(0x492),_0x4c5885(0x416),_0x4c5885(0xd36)]};switch(_0x35941e){case _0x4c5885(0x35a):_0x1331c3=_0x4c5885(0xc80)+_0x534c22+_0x4c5885(0xc44),_0x2e283f=_0x230bd3;break;case _0x4c5885(0x3f8):_0x1331c3=_0x4c5885(0x155),_0x2e283f=_0x26f8ec;break;case _0x4c5885(0x6d6):_0x1331c3=_0x4c5885(0x337),_0x2e283f=_0x492751;break;case'matching':_0x1331c3='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x2e283f=_0x5996fb;break;case _0x4c5885(0x8e8):_0x1331c3=_0x4c5885(0x9b6)+_0x534c22+_0x4c5885(0xc44),_0x2e283f=_0x230bd3;break;default:_0x1331c3='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x534c22+_0x4c5885(0xc44),_0x2e283f=_0x230bd3;break;}const _0x42d87b=_0x4c5885(0xaef),_0x4a985b=document[_0x4c5885(0xc7b)](_0x4c5885(0x531)),_0x34a52d=document[_0x4c5885(0xc7b)](_0x4c5885(0x31a)),_0x3f1868=document[_0x4c5885(0xc7b)](_0x4c5885(0x9fe));document[_0x4c5885(0xc7b)](_0x4c5885(0x9e2))[_0x4c5885(0x246)][_0x4c5885(0x142)]('hidden'),_0x3f1868['innerHTML']='',_0x4a985b[_0x4c5885(0x246)][_0x4c5885(0x142)]('hidden'),_0x34a52d[_0x4c5885(0x448)]=_0x4c5885(0x179)+_0xe7b97+_0x4c5885(0x54a)+_0xcbee6c+_0x4c5885(0x758);try{const _0x114ab5='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x4e9c6c=_0x4c5885(0x509)+_0xe7b97+_0x4c5885(0x7c7)+_0xcbee6c+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0xe7b97+_0x4c5885(0xc74)+_0xcbee6c+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x22a5f0+_0x4c5885(0x473)+_0x1331c3+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x42d87b+_0x4c5885(0x8bb)+_0x114ab5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x4c5885(0x593),_0x51fca5={'type':_0x4c5885(0x1c8),'properties':{'topic':{'type':_0x4c5885(0x3ed)},'questions':{'type':_0x4c5885(0x559),'items':_0x2e283f}},'required':['topic','questions']},_0x44ef68=[{'text':_0x4e9c6c},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x44ef68,'กำลังสร้างแบบทดสอบ\x20\x22'+_0xe7b97+'\x22...',_0x51fca5);}catch(_0x57ac5f){console[_0x4c5885(0xab1)](_0x4c5885(0xcdd),_0x57ac5f),showMessage(_0x4c5885(0x1e6)+_0x57ac5f[_0x4c5885(0x776)]),_0x3f1868[_0x4c5885(0x9be)]=_0x4c5885(0xd52);}finally{_0x4a985b[_0x4c5885(0x246)][_0x4c5885(0x329)](_0x4c5885(0x35d));}}async function handleGenerateFromFileClick(){const _0x1d84ce=_0x45baa4;if(!selectedFile){showMessage(_0x1d84ce(0x7fa));return;}const _0x32accd=document[_0x1d84ce(0xc7b)]('loader'),_0x2258ee=document[_0x1d84ce(0xc7b)](_0x1d84ce(0x31a)),_0x4b42d5=document[_0x1d84ce(0xc7b)](_0x1d84ce(0x9fe)),_0xb14820=document[_0x1d84ce(0xc7b)](_0x1d84ce(0x3cb));_0xb14820[_0x1d84ce(0x514)]=!![],document[_0x1d84ce(0xc7b)]('quiz-generation-area')[_0x1d84ce(0x246)]['remove']('hidden'),_0x4b42d5['innerHTML']='',_0x32accd[_0x1d84ce(0x246)]['remove'](_0x1d84ce(0x35d)),_0x2258ee[_0x1d84ce(0x448)]=_0x1d84ce(0xa23);try{const _0x2371ae=await new Promise((_0x257b45,_0x2fc8e2)=>{const _0x622164=_0x1d84ce,_0x39ba87=new FileReader();_0x39ba87[_0x622164(0xbef)](selectedFile),_0x39ba87[_0x622164(0x33a)]=()=>_0x257b45(_0x39ba87[_0x622164(0x370)]['split'](',')[0x1]),_0x39ba87[_0x622164(0xace)]=_0x29c8d3=>_0x2fc8e2(_0x29c8d3);});await generateQuizFromFile(selectedFile[_0x1d84ce(0x6ad)],_0x2371ae);}catch(_0x5dd46b){console[_0x1d84ce(0xab1)](_0x1d84ce(0xb7e),_0x5dd46b),showMessage(_0x1d84ce(0x56d)+_0x5dd46b[_0x1d84ce(0x776)]),_0x32accd[_0x1d84ce(0x246)]['add']('hidden'),_0xb14820['disabled']=![];}}function autoFormatMath(_0x36d300){const _0x2b7a80=_0x45baa4;if(typeof _0x36d300!==_0x2b7a80(0x8c5)||!_0x36d300)return _0x36d300;const _0x3c7387=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x8bb130=_0x36d300['replace'](_0x3c7387,_0x2bb172=>{const _0x39f3ed=_0x2b7a80;return'$'+_0x2bb172[_0x39f3ed(0x958)]()+'$';});return _0x8bb130;}function sanitizeQuizData(_0x3e9480){const _0x30c92e=_0x45baa4;if(!_0x3e9480||!_0x3e9480[_0x30c92e(0x92e)])return _0x3e9480;const _0xb38815={'imes':'\x5ctimes','div':_0x30c92e(0xb03)},_0x1745c8=_0x26d903=>{const _0x228467=_0x30c92e;if(typeof _0x26d903!==_0x228467(0x8c5))return _0x26d903;let _0x1cd539=_0x26d903;for(const [_0x538aee,_0x181787]of Object[_0x228467(0x1da)](_0xb38815)){const _0x4c7dfe=new RegExp('\x5cb'+_0x538aee+'\x5cb','g');_0x1cd539=_0x1cd539['replace'](_0x4c7dfe,_0x181787);}return _0x1cd539=_0x1cd539['replace'](/\\\//g,'\x5cdiv'),_0x1cd539=_0x1cd539[_0x228467(0x715)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x228467(0x715)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x228467(0x9af))['replace'](/÷/g,_0x228467(0xb03))[_0x228467(0x715)](/×/g,'\x5ctimes'),_0x1cd539=_0x1cd539[_0x228467(0x715)](/(\d)(\\frac)/g,_0x228467(0xca5)),_0x1cd539=autoFormatMath(_0x1cd539),_0x1cd539;};return _0x3e9480['topic']&&(_0x3e9480[_0x30c92e(0x613)]=_0x1745c8(_0x3e9480['topic'])),_0x3e9480[_0x30c92e(0x92e)][_0x30c92e(0x808)](_0x162899=>{const _0x11901b=_0x30c92e;_0x162899[_0x11901b(0x24b)]=_0x1745c8(_0x162899[_0x11901b(0x24b)]),_0x162899[_0x11901b(0x929)]&&(_0x162899[_0x11901b(0x929)]=_0x162899['options'][_0x11901b(0x327)](_0x1745c8)),_0x162899[_0x11901b(0xd36)]&&(_0x162899[_0x11901b(0xd36)]=_0x1745c8(_0x162899[_0x11901b(0xd36)])),_0x162899[_0x11901b(0x6ea)]&&(_0x162899[_0x11901b(0x6ea)]=_0x1745c8(_0x162899[_0x11901b(0x6ea)])),_0x162899[_0x11901b(0x492)]&&(_0x162899[_0x11901b(0x492)]=_0x1745c8(_0x162899[_0x11901b(0x492)])),_0x162899[_0x11901b(0x416)]&&(_0x162899[_0x11901b(0x416)]=_0x162899[_0x11901b(0x416)][_0x11901b(0x327)](_0x1745c8));}),_0x3e9480;}const simpleMathPrompt=_0x45baa4(0x33d);async function handleGenerateFromLink(){const _0x5d1675=_0x45baa4,_0x1b7c05=document[_0x5d1675(0xc7b)](_0x5d1675(0x70e)),_0x4d11f6=document[_0x5d1675(0xc7b)](_0x5d1675(0x1e5)),_0x283f7f=_0x1b7c05[_0x5d1675(0xab9)][_0x5d1675(0x958)](),_0x3d24bf=_0x4d11f6[_0x5d1675(0xab9)][_0x5d1675(0x958)]();if(!_0x283f7f){showMessage(_0x5d1675(0x330));return;}const _0x3ab738=document[_0x5d1675(0xc7b)](_0x5d1675(0x531)),_0x2c55ab=document[_0x5d1675(0xc7b)](_0x5d1675(0x31a)),_0x32efe5=document['getElementById']('generated-quiz-container'),_0x34b618=document['getElementById']('generate-from-link-btn');document[_0x5d1675(0xc7b)]('quiz-generation-area')[_0x5d1675(0x246)][_0x5d1675(0x142)](_0x5d1675(0x35d)),_0x32efe5['innerHTML']='',_0x3ab738[_0x5d1675(0x246)][_0x5d1675(0x142)](_0x5d1675(0x35d)),_0x2c55ab[_0x5d1675(0x448)]='กำลังดึงข้อมูลจากลิงก์...',_0x34b618['disabled']=!![];try{const _0x2461df=_0x5d1675(0xcbd)+encodeURIComponent(_0x283f7f),_0x4538d4=await fetch(_0x2461df);if(!_0x4538d4['ok'])throw new Error(_0x5d1675(0xd38)+_0x4538d4[_0x5d1675(0x264)]+')');const _0x3f1c63=await _0x4538d4[_0x5d1675(0x26e)](),_0x273e34=extractTextFromHtml(_0x3f1c63);if(!_0x273e34||_0x273e34[_0x5d1675(0xa33)]<0x64)throw new Error(_0x5d1675(0xa3d));await generateQuiz(_0x3d24bf,_0x273e34);}catch(_0x1610c0){console['error'](_0x5d1675(0x9b7),_0x1610c0),showMessage(_0x5d1675(0x1e6)+_0x1610c0['message']),_0x32efe5[_0x5d1675(0x9be)]=_0x5d1675(0x8be);}finally{_0x3ab738[_0x5d1675(0x246)]['add'](_0x5d1675(0x35d)),_0x34b618[_0x5d1675(0x514)]=![];}}function extractTextFromHtml(_0x5eb8e5){const _0x3c3582=_0x45baa4,_0x33a6c5=new DOMParser()['parseFromString'](_0x5eb8e5,_0x3c3582(0xb6c));return _0x33a6c5[_0x3c3582(0x336)](_0x3c3582(0x832))[_0x3c3582(0x808)](_0x1b8419=>_0x1b8419[_0x3c3582(0x142)]()),_0x33a6c5[_0x3c3582(0xc91)][_0x3c3582(0x448)]||'';}document[_0x45baa4(0xc7b)](_0x45baa4(0x7f4))[_0x45baa4(0x21f)]('click',()=>{const _0x13dd1f=_0x45baa4,_0x55bada=document[_0x13dd1f(0xc7b)](_0x13dd1f(0x686))[_0x13dd1f(0xab9)][_0x13dd1f(0x958)]();generateQuiz(_0x55bada,null);}),document[_0x45baa4(0xc7b)](_0x45baa4(0x136))[_0x45baa4(0x21f)](_0x45baa4(0xb10),()=>{const _0xc02c24=_0x45baa4,_0x2f441b=document[_0xc02c24(0xc7b)](_0xc02c24(0x3a2))['value']['trim']();if(!_0x2f441b){showMessage(_0xc02c24(0x4e6));return;}const _0x5c90c5=document[_0xc02c24(0xc7b)](_0xc02c24(0x686))['value']['trim']();generateQuiz(_0x5c90c5,_0x2f441b);});async function generateQuiz(_0x30684f,_0x2cf653,_0x47fe49=null,_0x20c190=null,_0x2ab764=![],_0x3a6c27=null,_0x558547=null,_0x5283bf=![]){const _0x1ef7dc=_0x45baa4;let _0x266f66={};if(_0x2ab764&&blueprintPageSettings)_0x266f66=blueprintPageSettings;else{const _0x332127=document[_0x1ef7dc(0x336)](_0x1ef7dc(0xb63));_0x266f66={'quizType':document[_0x1ef7dc(0xc7b)](_0x1ef7dc(0xbad))[_0x1ef7dc(0xab9)],'numQuestions':document[_0x1ef7dc(0xc7b)](_0x1ef7dc(0x4fb))[_0x1ef7dc(0xab9)],'numChoices':document['getElementById'](_0x1ef7dc(0xa25))[_0x1ef7dc(0xab9)],'includeImages':document[_0x1ef7dc(0xc7b)](_0x1ef7dc(0x364))[_0x1ef7dc(0xa1c)],'isNormalTopic':document[_0x1ef7dc(0xc7b)](_0x1ef7dc(0x2cc))[_0x1ef7dc(0xa1c)],'difficultyValue':document[_0x1ef7dc(0xc7b)](_0x1ef7dc(0x964))[_0x1ef7dc(0xab9)],'complexityValue':document[_0x1ef7dc(0xc7b)](_0x1ef7dc(0xafb))[_0x1ef7dc(0xab9)],'selectedTopicNames':Array[_0x1ef7dc(0x36f)](_0x332127)[_0x1ef7dc(0x327)](_0x181c4b=>_0x181c4b[_0x1ef7dc(0xab9)])};}const _0x2aa74d=_0x266f66[_0x1ef7dc(0x1c5)]?'':_0x1ef7dc(0x895),_0x961f6c=_0x266f66['difficultyValue']!=='auto'?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x266f66[_0x1ef7dc(0x21c)]+'\x22':'',_0x157e06=_0x266f66[_0x1ef7dc(0x42a)]!==_0x1ef7dc(0x481)?_0x1ef7dc(0x487)+_0x266f66['complexityValue']+_0x1ef7dc(0x7fd):'';let _0x4977ea='';_0x266f66[_0x1ef7dc(0x403)]&&_0x266f66[_0x1ef7dc(0x403)][_0x1ef7dc(0xa33)]>0x0&&(_0x4977ea=_0x1ef7dc(0xb7c)+_0x266f66['selectedTopicNames'][_0x1ef7dc(0x7a0)](',\x20')+'.');let _0x48e4b7='';_0x20c190&&(_0x48e4b7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x3732f9='',_0x29a02b='',_0x542c25,_0x11a252=_0x1ef7dc(0x1a1)+_0x30684f+'\x22';if(!_0x30684f&&_0x2cf653)_0x11a252='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x30684f&&!_0x2cf653&&(_0x11a252=_0x1ef7dc(0x5f9));const _0x44936c={'type':_0x1ef7dc(0x1c8),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1ef7dc(0x559),'items':{'type':_0x1ef7dc(0x3ed)}},'correctAnswerIndex':{'type':_0x1ef7dc(0x366)},'explanation':{'type':_0x1ef7dc(0x3ed)},'imageCode':{'type':_0x1ef7dc(0x3ed)}},'required':[_0x1ef7dc(0x24b),'options','correctAnswerIndex',_0x1ef7dc(0xd36)]},_0x376c88={'type':_0x1ef7dc(0x1c8),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1ef7dc(0x3ed)},'explanation':{'type':_0x1ef7dc(0x3ed)},'imageCode':{'type':_0x1ef7dc(0x3ed)}},'required':['questionText',_0x1ef7dc(0xc96),_0x1ef7dc(0xd36)]},_0x407027={'type':'OBJECT','properties':{'questionText':{'type':_0x1ef7dc(0x3ed)},'questionType':{'type':_0x1ef7dc(0x3ed),'enum':[_0x1ef7dc(0x35a),_0x1ef7dc(0x19e)]},'options':{'type':_0x1ef7dc(0x559),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1ef7dc(0x3ed)},'explanation':{'type':_0x1ef7dc(0x3ed)},'imageCode':{'type':_0x1ef7dc(0x3ed)}},'required':[_0x1ef7dc(0x24b),_0x1ef7dc(0x34f),'explanation']},_0x1f5618={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x1ef7dc(0xb1a)},'explanation':{'type':_0x1ef7dc(0x3ed)},'imageCode':{'type':'STRING'}},'required':[_0x1ef7dc(0x24b),'correctAnswer',_0x1ef7dc(0xd36)]},_0x263a25={'type':_0x1ef7dc(0x1c8),'properties':{'questionType':{'type':_0x1ef7dc(0x3ed),'enum':['matching_item']},'stem':{'type':_0x1ef7dc(0x3ed)},'correctResponse':{'type':_0x1ef7dc(0x3ed)},'allResponses':{'type':_0x1ef7dc(0x559),'items':{'type':_0x1ef7dc(0x3ed)}},'explanation':{'type':_0x1ef7dc(0x3ed)},'imageCode':{'type':_0x1ef7dc(0x3ed)}},'required':[_0x1ef7dc(0x34f),'stem',_0x1ef7dc(0x492),_0x1ef7dc(0x416),_0x1ef7dc(0xd36)]};let _0x23dec3;if(_0x47fe49!==null){const _0x3c9b09=currentQuizData[_0x1ef7dc(0x92e)][_0x47fe49][_0x1ef7dc(0x34f)],_0x202a57=_0x266f66['includeImages']?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x3732f9='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x11a252+'\x20'+_0x4977ea+'\x20'+_0x961f6c+_0x1ef7dc(0x4f4)+_0x202a57+'\x20'+simpleMathPrompt;if(_0x3c9b09===_0x1ef7dc(0x35a))_0x542c25=_0x44936c;else{if(_0x3c9b09==='matching_item')_0x542c25={'type':_0x1ef7dc(0x1c8),'properties':{'questionType':{'type':_0x1ef7dc(0x3ed),'enum':['matching_item']},'stem':{'type':_0x1ef7dc(0x3ed)},'correctResponse':{'type':_0x1ef7dc(0x3ed)},'explanation':{'type':_0x1ef7dc(0x3ed)},'imageCode':{'type':_0x1ef7dc(0x3ed)}},'required':[_0x1ef7dc(0x34f),_0x1ef7dc(0x6ea),_0x1ef7dc(0x492),_0x1ef7dc(0xd36)]};else _0x542c25=_0x376c88;}_0x23dec3=_0x542c25;}else{const _0x451765=_0x266f66[_0x1ef7dc(0x781)]?_0x1ef7dc(0x547):'';switch(_0x266f66[_0x1ef7dc(0x9f7)]){case'multiple_choice':_0x3732f9=_0x1ef7dc(0xb14)+_0x2aa74d+'\x20'+_0x266f66[_0x1ef7dc(0x86b)]+_0x1ef7dc(0x21a)+_0x11a252+'\x20'+_0x4977ea+'\x20'+_0x961f6c+'\x20'+_0x157e06+'\x20'+_0x48e4b7+_0x1ef7dc(0x920)+_0x266f66['numChoices']+_0x1ef7dc(0xceb)+_0x451765+'\x20'+simpleMathPrompt,_0x542c25=_0x44936c;break;case _0x1ef7dc(0x8e8):_0x3732f9='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2aa74d+'\x20'+_0x266f66[_0x1ef7dc(0x86b)]+_0x1ef7dc(0x21a)+_0x11a252+'\x20'+_0x4977ea+'\x20'+_0x961f6c+'\x20'+_0x157e06+'\x20'+_0x48e4b7+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x266f66[_0x1ef7dc(0x5ba)]+_0x1ef7dc(0xb60)+_0x451765+'\x20'+simpleMathPrompt,_0x542c25=_0x44936c;break;case _0x1ef7dc(0x6d6):_0x3732f9='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2aa74d+'\x20'+_0x266f66[_0x1ef7dc(0x86b)]+_0x1ef7dc(0x21a)+_0x11a252+'\x20'+_0x4977ea+'\x20'+_0x961f6c+'\x20'+_0x157e06+'\x20'+_0x48e4b7+_0x1ef7dc(0x739)+_0x451765+'\x20'+simpleMathPrompt,_0x542c25=_0x376c88;break;case _0x1ef7dc(0x481):_0x3732f9='สร้างแบบทดสอบ'+_0x2aa74d+'\x20'+_0x266f66[_0x1ef7dc(0x86b)]+_0x1ef7dc(0x21a)+_0x11a252+'\x20'+_0x4977ea+'\x20'+_0x961f6c+'\x20'+_0x157e06+'\x20'+_0x48e4b7+_0x1ef7dc(0x4a7)+_0x266f66[_0x1ef7dc(0x5ba)]+'\x20ตัวเลือก.\x20'+_0x451765+'\x20'+simpleMathPrompt+'.',_0x542c25=_0x407027;break;case _0x1ef7dc(0x3f8):_0x3732f9='สร้างคำถามแบบใช่/ไม่ใช่'+_0x2aa74d+'\x20'+_0x266f66[_0x1ef7dc(0x86b)]+_0x1ef7dc(0x21a)+_0x11a252+'\x20'+_0x4977ea+'\x20'+_0x961f6c+'\x20'+_0x157e06+'\x20'+_0x48e4b7+_0x1ef7dc(0xa3c)+_0x451765+'\x20'+simpleMathPrompt,_0x542c25=_0x1f5618;break;case _0x1ef7dc(0x883):_0x3732f9='สร้างชุดคำถามจับคู่'+_0x2aa74d+'\x20'+_0x266f66[_0x1ef7dc(0x86b)]+'\x20คู่\x20'+_0x11a252+'\x20'+_0x4977ea+'\x20'+_0x961f6c+'\x20'+_0x157e06+'\x20'+_0x48e4b7+_0x1ef7dc(0xa6b)+_0x451765+'\x20'+simpleMathPrompt,_0x542c25=_0x263a25;break;}_0x23dec3={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x542c25}},'required':[_0x1ef7dc(0x613),_0x1ef7dc(0x92e)]};}const _0x8d047c='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0x2cf653?(_0x5283bf?_0x3732f9=_0x1ef7dc(0x90a)+_0x2cf653+_0x1ef7dc(0x361)+_0x3732f9+_0x8d047c:_0x3732f9=_0x1ef7dc(0x90a)+_0x2cf653+_0x1ef7dc(0x361)+_0x3732f9,_0x29a02b='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x5283bf&&(_0x3732f9+=_0x8d047c),_0x29a02b='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x3f2e27;return _0x20c190?(_0x3f2e27=[{'text':_0x3732f9},..._0x20c190],_0x29a02b=_0x1ef7dc(0xc84)):_0x3f2e27=_0x3732f9,handleApiCall(_0x3f2e27,_0x29a02b,_0x23dec3,_0x47fe49,!![],_0x3a6c27,_0x558547);}async function generateQuizFromFile(_0x46e3ba,_0x241bdd){const _0x1a0580=_0x45baa4,_0xf41b3b=document[_0x1a0580(0xc7b)](_0x1a0580(0xb0f))[_0x1a0580(0xab9)][_0x1a0580(0x958)](),_0x5bfff5=document['getElementById'](_0x1a0580(0xbad))['value'],_0x40e0f4=document[_0x1a0580(0xc7b)](_0x1a0580(0x4fb))[_0x1a0580(0xab9)],_0xb972a0=document[_0x1a0580(0xc7b)](_0x1a0580(0xa25))[_0x1a0580(0xab9)],_0x8e5b2b=document['getElementById'](_0x1a0580(0x364))['checked'],_0x259c18=document['getElementById'](_0x1a0580(0x2cc))['checked'],_0x513df8=_0x259c18?'':_0x1a0580(0x895),_0x2307b4=document[_0x1a0580(0xc7b)](_0x1a0580(0xc32))[_0x1a0580(0xa1c)];let _0x54ba02='',_0x3b42d0;const _0x2159bd=_0x8e5b2b?_0x1a0580(0x547):'';if(_0x2307b4)_0x54ba02='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x2159bd+'\x0a'+simpleMathPrompt+'\x0a',_0x3b42d0={'type':_0x1a0580(0x1c8),'properties':{'questionText':{'type':_0x1a0580(0x3ed)},'questionType':{'type':'STRING','enum':[_0x1a0580(0x35a),_0x1a0580(0x19e),_0x1a0580(0x3f8),_0x1a0580(0xafa)]},'options':{'type':_0x1a0580(0x559),'items':{'type':_0x1a0580(0x3ed)}},'correctAnswerIndex':{'type':_0x1a0580(0x366)},'idealAnswer':{'type':_0x1a0580(0x3ed)},'correctAnswer':{'type':_0x1a0580(0xb1a)},'stem':{'type':_0x1a0580(0x3ed)},'correctResponse':{'type':_0x1a0580(0x3ed)},'allResponses':{'type':'ARRAY','items':{'type':_0x1a0580(0x3ed)}},'explanation':{'type':_0x1a0580(0x3ed)},'imageCode':{'type':'STRING'}},'required':[_0x1a0580(0x34f),_0x1a0580(0xd36)]};else{let _0x2ce471=_0x1a0580(0x1a1)+_0xf41b3b+'\x22';!_0xf41b3b&&(_0x2ce471='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x5bfff5){case _0x1a0580(0x35a):_0x54ba02=_0x1a0580(0xb14)+_0x513df8+'\x20'+_0x40e0f4+'\x20ข้อ\x20'+_0x2ce471+_0x1a0580(0x920)+_0xb972a0+_0x1a0580(0xceb)+_0x2159bd+'\x20'+simpleMathPrompt,_0x3b42d0={'type':'OBJECT','properties':{'questionText':{'type':_0x1a0580(0x3ed)},'options':{'type':_0x1a0580(0x559),'items':{'type':_0x1a0580(0x3ed)}},'correctAnswerIndex':{'type':_0x1a0580(0x366)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1a0580(0x3ed)}},'required':[_0x1a0580(0x24b),_0x1a0580(0x929),'correctAnswerIndex',_0x1a0580(0xd36)]};break;case _0x1a0580(0x8e8):_0x54ba02=_0x1a0580(0x75c)+_0x513df8+'\x20'+_0x40e0f4+_0x1a0580(0x21a)+_0x2ce471+_0x1a0580(0x183)+_0xb972a0+_0x1a0580(0xb60)+_0x2159bd+'\x20'+simpleMathPrompt,_0x3b42d0={'type':_0x1a0580(0x1c8),'properties':{'questionText':{'type':_0x1a0580(0x3ed)},'options':{'type':_0x1a0580(0x559),'items':{'type':_0x1a0580(0x3ed)}},'correctAnswerIndex':{'type':_0x1a0580(0x366)},'explanation':{'type':_0x1a0580(0x3ed)},'imageCode':{'type':_0x1a0580(0x3ed)}},'required':[_0x1a0580(0x24b),_0x1a0580(0x929),_0x1a0580(0xbfe),_0x1a0580(0xd36)]};break;case'fill_in_no_choices':_0x54ba02=_0x1a0580(0x75c)+_0x513df8+'\x20'+_0x40e0f4+_0x1a0580(0x21a)+_0x2ce471+_0x1a0580(0xbed)+_0x2159bd+'\x20'+simpleMathPrompt,_0x3b42d0={'type':_0x1a0580(0x1c8),'properties':{'questionText':{'type':_0x1a0580(0x3ed)},'idealAnswer':{'type':_0x1a0580(0x3ed)},'explanation':{'type':_0x1a0580(0x3ed)},'imageCode':{'type':_0x1a0580(0x3ed)}},'required':[_0x1a0580(0x24b),_0x1a0580(0xc96),_0x1a0580(0xd36)]};break;case _0x1a0580(0x481):_0x54ba02=_0x1a0580(0x6c7)+_0x513df8+'\x20'+_0x40e0f4+_0x1a0580(0x21a)+_0x2ce471+_0x1a0580(0x3d2)+_0xb972a0+_0x1a0580(0x16a)+_0x2159bd+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x3b42d0={'type':_0x1a0580(0x1c8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x1a0580(0x35a),_0x1a0580(0x19e)]},'options':{'type':'ARRAY','items':{'type':_0x1a0580(0x3ed)}},'correctAnswerIndex':{'type':_0x1a0580(0x366)},'idealAnswer':{'type':_0x1a0580(0x3ed)},'explanation':{'type':_0x1a0580(0x3ed)},'imageCode':{'type':_0x1a0580(0x3ed)}},'required':['questionText',_0x1a0580(0x34f),_0x1a0580(0xd36)]};break;case _0x1a0580(0x3f8):_0x54ba02=_0x1a0580(0xd2c)+_0x513df8+'\x20'+_0x40e0f4+_0x1a0580(0x21a)+_0x2ce471+_0x1a0580(0xb06)+_0x2159bd+'\x20'+simpleMathPrompt,_0x3b42d0={'type':_0x1a0580(0x1c8),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x1a0580(0xb1a)},'explanation':{'type':_0x1a0580(0x3ed)},'imageCode':{'type':_0x1a0580(0x3ed)}},'required':[_0x1a0580(0x24b),_0x1a0580(0x4cc),'explanation']};break;case _0x1a0580(0x883):_0x54ba02='สร้างชุดคำถามจับคู่'+_0x513df8+'\x20'+_0x40e0f4+'\x20คู่\x20'+_0x2ce471+_0x1a0580(0xb5c)+_0x40e0f4+_0x1a0580(0x3e0)+_0x2159bd+'\x20'+simpleMathPrompt,_0x3b42d0={'type':_0x1a0580(0x1c8),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x1a0580(0x3ed)},'correctResponse':{'type':_0x1a0580(0x3ed)},'allResponses':{'type':_0x1a0580(0x559),'items':{'type':_0x1a0580(0x3ed)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1a0580(0x3ed)}},'required':['questionType',_0x1a0580(0x6ea),_0x1a0580(0x492),'allResponses',_0x1a0580(0xd36)]};break;}}const _0x47782e={'type':'OBJECT','properties':{'topic':{'type':_0x1a0580(0x3ed)},'questions':{'type':_0x1a0580(0x559),'items':_0x3b42d0}},'required':[_0x1a0580(0x613),'questions']},_0x18a7eb=_0x1a0580(0x21d)+_0x54ba02,_0x3d4218={'contents':[{'parts':[{'text':_0x18a7eb},{'inlineData':{'mimeType':_0x46e3ba,'data':_0x241bdd}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x47782e}};return handleApiCall(_0x3d4218['contents'][0x0][_0x1a0580(0x3eb)],_0x1a0580(0x3aa),_0x47782e);}async function handleApiCall(_0x1ac8c1,_0x431a17,_0x3546fa,_0x793854=null,_0x56174d=!![],_0xbb2acb=null,_0x180645=null){const _0x543538=_0x45baa4,_0x440d05=document[_0x543538(0xc7b)]('quiz-generation-area'),_0x1e6cc6=document[_0x543538(0xc7b)](_0x543538(0x531)),_0x33365d=document[_0x543538(0xc7b)](_0x543538(0x31a)),_0x4b15c4=document[_0x543538(0xc7b)]('generated-quiz-container');_0x440d05['classList'][_0x543538(0x142)](_0x543538(0x35d));_0x793854===null&&_0x56174d&&(_0x4b15c4[_0x543538(0x9be)]='');_0x1e6cc6[_0x543538(0x246)][_0x543538(0x142)](_0x543538(0x35d)),_0x33365d[_0x543538(0x448)]=_0x431a17,document['getElementById'](_0x543538(0x7f4))[_0x543538(0x514)]=!![],document['getElementById'](_0x543538(0x136))[_0x543538(0x514)]=!![],document[_0x543538(0xc7b)](_0x543538(0x5dc))[_0x543538(0x514)]=!![];const _0x3996f4=document[_0x543538(0xc7b)](_0x543538(0x3cb));if(_0x3996f4)_0x3996f4[_0x543538(0x514)]=!![];const _0x41dd71=document[_0x543538(0xc7b)](_0x543538(0x317));if(_0x41dd71)_0x41dd71[_0x543538(0x514)]=!![];const _0x473499=document['getElementById']('generate-from-parallel-test-btn');if(_0x473499)_0x473499[_0x543538(0x514)]=!![];try{const _0x141a98=Array[_0x543538(0x6a4)](_0x1ac8c1)?_0x1ac8c1:[{'text':_0x1ac8c1}],_0x1620f4={'contents':[{'role':_0x543538(0x9ca),'parts':_0x141a98}]};_0x3546fa&&(_0x1620f4['generationConfig']={'responseMimeType':_0x543538(0xaf5),'responseSchema':_0x3546fa});const _0x194f6e=_0x543538(0x23c),_0x32796d=_0x543538(0xc7c)+_0x194f6e,_0x4aa84b=await fetch(_0x32796d,{'method':_0x543538(0x628),'headers':{'Content-Type':_0x543538(0xaf5)},'body':JSON[_0x543538(0x4cb)](_0x1620f4)});if(!_0x4aa84b['ok']){const _0x2b13ce=await _0x4aa84b[_0x543538(0x26e)]();console[_0x543538(0xab1)](_0x543538(0x3dc),_0x2b13ce);throw new Error(_0x543538(0xc45)+_0x4aa84b[_0x543538(0x264)]);}const _0x541bd8=await _0x4aa84b[_0x543538(0x29f)]();if(!_0x541bd8['candidates']||_0x541bd8[_0x543538(0xb69)][_0x543538(0xa33)]===0x0){let _0x39d8fa=_0x543538(0x59d);return _0x541bd8[_0x543538(0xb44)]?.[_0x543538(0x775)]&&(_0x39d8fa='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x541bd8['promptFeedback'][_0x543538(0x775)]+'.'),console[_0x543538(0xab1)](_0x39d8fa,JSON[_0x543538(0x4cb)](_0x541bd8)),null;}const _0x2e7213=_0x541bd8['candidates'][0x0][_0x543538(0x16d)][_0x543538(0x3eb)][0x0][_0x543538(0x26e)];if(_0x3546fa){let _0x5023c2=_0x2e7213;if(_0x5023c2[_0x543538(0xc3a)](_0x543538(0x2c0)))_0x5023c2=_0x5023c2[_0x543538(0xa44)](0x7,_0x5023c2[_0x543538(0xa33)]-0x3)[_0x543538(0x958)]();else _0x5023c2[_0x543538(0xc3a)](_0x543538(0xb45))&&(_0x5023c2=_0x5023c2[_0x543538(0xa44)](0x3,_0x5023c2[_0x543538(0xa33)]-0x3)[_0x543538(0x958)]());let _0x2cd9e1=JSON['parse'](_0x5023c2);if(_0x56174d){if(_0x793854!==null){}else currentQuizData=_0x2cd9e1,displayGeneratedQuiz(currentQuizData,_0xbb2acb,_0x180645);}return _0x2cd9e1;}else return _0x2e7213;}catch(_0x59a720){console[_0x543538(0xab1)](_0x543538(0x5c7),_0x59a720),showMessage(_0x543538(0xae3)+_0x59a720['message']);_0x56174d&&(_0x4b15c4[_0x543538(0x9be)]=_0x543538(0x680));throw _0x59a720;}finally{_0x1e6cc6['classList'][_0x543538(0x329)](_0x543538(0x35d)),document[_0x543538(0xc7b)]('generate-from-topic-btn')[_0x543538(0x514)]=![],document['getElementById'](_0x543538(0x136))[_0x543538(0x514)]=![],document[_0x543538(0xc7b)](_0x543538(0x5dc))['disabled']=![];if(_0x3996f4)_0x3996f4[_0x543538(0x514)]=![];if(_0x41dd71)_0x41dd71[_0x543538(0x514)]=![];if(_0x473499)_0x473499[_0x543538(0x514)]=![];}}function exitFullscreen(){const _0x17967e=_0x45baa4;if(document[_0x17967e(0xc29)])document[_0x17967e(0xc29)]()[_0x17967e(0x299)](_0x3724eb=>console['error'](_0x3724eb));else{if(document[_0x17967e(0x43d)])document[_0x17967e(0x43d)]();else document['msExitFullscreen']&&document[_0x17967e(0xa2c)]();}}function enterFullscreen(){const _0xf8be7a=_0x45baa4,_0x246ed8=document['documentElement'];if(_0x246ed8['requestFullscreen'])_0x246ed8[_0xf8be7a(0x5df)]()[_0xf8be7a(0x299)](_0x350d9d=>{const _0x31c9ea=_0xf8be7a;console[_0x31c9ea(0xab1)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x350d9d[_0x31c9ea(0x776)]+'\x20('+_0x350d9d['name']+')');});else{if(_0x246ed8[_0xf8be7a(0x7dc)])_0x246ed8[_0xf8be7a(0x7dc)]();else _0x246ed8[_0xf8be7a(0xba7)]&&_0x246ed8['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x5651bb=_0x45baa4;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x5651bb(0x2e1)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x5651bb(0xc7b)](_0x5651bb(0x8d8))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5651bb(0xc0e)](_0x5651bb(0x763),handleVisibilityChange),document[_0x5651bb(0xc0e)](_0x5651bb(0xa11),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x5651bb(0x787),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x181a79=_0x45baa4;if(currentMode==='admin-testing'||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document[_0x181a79(0x605)]===_0x181a79(0xa46)&&(console[_0x181a79(0x161)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x199828=_0x45baa4;if(currentMode===_0x199828(0x622)||!isQuizActive)return;!document[_0x199828(0xb62)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0xe0cf6a,_0x1d4eb4=null,_0xce036c=null){const _0x3bcb2b=_0x45baa4,_0x4e576b=document['getElementById'](_0x3bcb2b(0x9fe));let _0x148f11=_0x3bcb2b(0x2e7)+_0xe0cf6a[_0x3bcb2b(0x613)]+'</h3>';_0xe0cf6a[_0x3bcb2b(0x92e)][_0x3bcb2b(0x808)]((_0x6f42e5,_0x255118)=>{const _0x3aea3d=_0x3bcb2b;!_0x6f42e5['id']&&(_0x6f42e5['id']='q_'+Date[_0x3aea3d(0xcb8)]()+'_'+_0x255118);const _0x538a99=_0x6f42e5[_0x3aea3d(0x34f)]||_0xe0cf6a[_0x3aea3d(0x9f7)];_0x148f11+=_0x3aea3d(0x904)+_0x255118+_0x3aea3d(0x746)+_0x255118+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x255118+_0x3aea3d(0x1eb);switch(_0x538a99){case _0x3aea3d(0xafa):_0x148f11+=_0x3aea3d(0xb09)+_0x255118+'\x22>'+(_0x255118+0x1)+'.\x20'+_0x6f42e5[_0x3aea3d(0x6ea)]+_0x3aea3d(0x4fa);_0x6f42e5[_0x3aea3d(0x76d)]&&(_0x148f11+=_0x3aea3d(0xab0)+_0x255118+_0x3aea3d(0xb0c)+_0x6f42e5[_0x3aea3d(0x76d)]+_0x3aea3d(0x418));_0x148f11+=_0x3aea3d(0x8ba)+_0x255118+'\x22>'+_0x6f42e5[_0x3aea3d(0x492)]+_0x3aea3d(0xb24),_0x148f11+=_0x3aea3d(0x46e)+_0x255118+'\x22>'+_0x6f42e5[_0x3aea3d(0xd36)]+_0x3aea3d(0xb24);break;case _0x3aea3d(0x19e):_0x148f11+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x255118+'\x22>'+(_0x255118+0x1)+'.\x20'+_0x6f42e5[_0x3aea3d(0x24b)]+_0x3aea3d(0x4fa);_0x6f42e5[_0x3aea3d(0x76d)]&&(_0x148f11+=_0x3aea3d(0xab0)+_0x255118+_0x3aea3d(0xb0c)+_0x6f42e5[_0x3aea3d(0x76d)]+_0x3aea3d(0x418));_0x148f11+=_0x3aea3d(0xa87)+_0x255118+'\x22>'+_0x6f42e5[_0x3aea3d(0xc96)]+_0x3aea3d(0xb24),_0x148f11+=_0x3aea3d(0x46e)+_0x255118+'\x22>'+_0x6f42e5[_0x3aea3d(0xd36)]+_0x3aea3d(0xb24);break;case _0x3aea3d(0x3f8):_0x148f11+=_0x3aea3d(0xb09)+_0x255118+'\x22>'+(_0x255118+0x1)+'.\x20'+_0x6f42e5['questionText']+_0x3aea3d(0x4fa);_0x6f42e5[_0x3aea3d(0x76d)]&&(_0x148f11+=_0x3aea3d(0xab0)+_0x255118+_0x3aea3d(0xb0c)+_0x6f42e5[_0x3aea3d(0x76d)]+_0x3aea3d(0x418));_0x148f11+=_0x3aea3d(0x2c5)+(_0x6f42e5['correctAnswer']===!![]?_0x3aea3d(0x2a2):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x6f42e5[_0x3aea3d(0x4cc)]===![]?_0x3aea3d(0x2a2):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x148f11+=_0x3aea3d(0x46e)+_0x255118+'\x22>'+_0x6f42e5[_0x3aea3d(0xd36)]+'</span></div>';break;case _0x3aea3d(0x66d):case _0x3aea3d(0x35a):default:_0x148f11+=_0x3aea3d(0xb09)+_0x255118+'\x22>'+(_0x255118+0x1)+'.\x20'+_0x6f42e5[_0x3aea3d(0x24b)]+_0x3aea3d(0x4fa);_0x6f42e5[_0x3aea3d(0x76d)]&&(_0x148f11+=_0x3aea3d(0xab0)+_0x255118+_0x3aea3d(0xb0c)+_0x6f42e5[_0x3aea3d(0x76d)]+'</div>');_0x148f11+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x255118+_0x3aea3d(0xcda)+(_0x6f42e5[_0x3aea3d(0x929)]||[])[_0x3aea3d(0x327)]((_0x2ecd04,_0x257d43)=>'<li\x20class=\x22'+(_0x257d43===_0x6f42e5[_0x3aea3d(0xbfe)]?_0x3aea3d(0x2a2):'')+'\x22>'+_0x2ecd04+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x148f11+=_0x3aea3d(0x46e)+_0x255118+'\x22>'+_0x6f42e5[_0x3aea3d(0xd36)]+_0x3aea3d(0xb24);break;}_0x148f11+='</div>';}),_0x148f11+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x4e576b[_0x3bcb2b(0x9be)]=_0x148f11,document[_0x3bcb2b(0x336)](_0x3bcb2b(0xa4c))[_0x3bcb2b(0x808)](_0x698462=>_0x698462['addEventListener'](_0x3bcb2b(0xb10),handleEditQuestion)),document[_0x3bcb2b(0x336)](_0x3bcb2b(0x8e2))['forEach'](_0x3daa9a=>_0x3daa9a[_0x3bcb2b(0x21f)]('click',handleRegenerateQuestion)),document[_0x3bcb2b(0xc7b)](_0x3bcb2b(0x373))['addEventListener'](_0x3bcb2b(0xb10),exportQuizAsWorksheetPDF),document[_0x3bcb2b(0xc7b)](_0x3bcb2b(0x8cf))[_0x3bcb2b(0x21f)](_0x3bcb2b(0xb10),handleVerifyAnswers);const _0x363263=document[_0x3bcb2b(0xc7b)](_0x3bcb2b(0x324));if(_0x363263){const _0x333775=_0x1d4eb4||currentProjectId;_0x363263[_0x3bcb2b(0x21f)](_0x3bcb2b(0xb10),()=>saveQuiz(_0x333775,_0xce036c));}if(window[_0x3bcb2b(0x8a3)])window[_0x3bcb2b(0x8a3)]['typesetPromise']([_0x4e576b]);}function handleRegenerateQuestion(_0x1cef5d){const _0x6f0836=_0x45baa4,_0x7452fc=_0x1cef5d[_0x6f0836(0x827)][_0x6f0836(0xaf8)][_0x6f0836(0x79d)],_0x51c284=currentQuizData[_0x6f0836(0x613)];showMessage(_0x6f0836(0xaea)+(parseInt(_0x7452fc)+0x1)+'\x20ใหม่...'),generateQuiz(_0x51c284,null,parseInt(_0x7452fc));}function getPointerPosition(_0x3ea201,_0x2c24e3){const _0x1330f7=_0x45baa4,_0x338a9a=_0x3ea201[_0x1330f7(0x41d)]();let _0x314435,_0x5a7cd2;return _0x2c24e3[_0x1330f7(0x375)]&&_0x2c24e3[_0x1330f7(0x375)]['length']>0x0?(_0x314435=_0x2c24e3[_0x1330f7(0x375)][0x0][_0x1330f7(0x17a)],_0x5a7cd2=_0x2c24e3[_0x1330f7(0x375)][0x0][_0x1330f7(0x50d)]):(_0x314435=_0x2c24e3[_0x1330f7(0x17a)],_0x5a7cd2=_0x2c24e3['clientY']),{'x':(_0x314435-_0x338a9a['e'])/_0x338a9a['a'],'y':(_0x5a7cd2-_0x338a9a['f'])/_0x338a9a['d']};}function startDrag(_0xd86e09){const _0x221a48=_0x45baa4;_0xd86e09[_0x221a48(0x6ad)]===_0x221a48(0x4a9)&&_0xd86e09[_0x221a48(0xcd0)]();const _0x445522=_0xd86e09[_0x221a48(0x796)]['closest'](_0x221a48(0x9d4));if(_0x445522){draggedSvgElement=_0x445522;const _0x3e34eb=draggedSvgElement[_0x221a48(0xacf)],_0x30506e=getPointerPosition(_0x3e34eb,_0xd86e09);svgOffset['x']=_0x30506e['x']-parseFloat(draggedSvgElement[_0x221a48(0x18a)](null,'x')),svgOffset['y']=_0x30506e['y']-parseFloat(draggedSvgElement[_0x221a48(0x18a)](null,'y'));}}function calculateItemAnalysis(_0x164a74,_0x199408){const _0x30b3ad=_0x45baa4,_0x2b1d12={};if(_0x199408[_0x30b3ad(0xa33)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1b1936=[..._0x199408][_0x30b3ad(0x835)]((_0x479fbf,_0x110ef1)=>{const _0x22ec32=_0x30b3ad,_0x337b5c=_0x110ef1[_0x22ec32(0x140)]-_0x479fbf[_0x22ec32(0x140)];if(_0x337b5c!==0x0)return _0x337b5c;const _0x19f85c=_0x479fbf[_0x22ec32(0x39d)]?.['length']||0x1,_0x40a437=_0x110ef1[_0x22ec32(0x39d)]?.[_0x22ec32(0xa33)]||0x1,_0x1a81f4=_0x19f85c-_0x40a437;if(_0x1a81f4!==0x0)return _0x1a81f4;const _0x55813e=new Date(_0x479fbf[_0x22ec32(0x530)]),_0x3f3a92=new Date(_0x110ef1['latestSubmittedAt']),_0x3f2fe2=_0x55813e-_0x3f3a92;if(_0x3f2fe2!==0x0)return _0x3f2fe2;return _0x479fbf[_0x22ec32(0x2f7)][_0x22ec32(0xc3c)](_0x110ef1[_0x22ec32(0x2f7)],'th');}),_0x4fdcd3=_0x1b1936['length'],_0x5dcedf=Math[_0x30b3ad(0x573)](0x1,Math['floor'](_0x4fdcd3*0.33));if(_0x5dcedf===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x574dcb=_0x1b1936['slice'](0x0,_0x5dcedf),_0x419d26=_0x1b1936[_0x30b3ad(0x5d9)](-_0x5dcedf),_0x49c37e=_0x574dcb[_0x30b3ad(0x327)](_0x53fc9e=>_0x53fc9e[_0x30b3ad(0x2f7)]),_0x5c9c5c=_0x419d26['map'](_0x145369=>_0x145369[_0x30b3ad(0x2f7)]);return _0x164a74[_0x30b3ad(0x92e)][_0x30b3ad(0x808)]((_0x47407c,_0x975c87)=>{const _0x4732de=_0x30b3ad,_0x33e9ef=_0x47407c['stem']||_0x47407c[_0x4732de(0x24b)];let _0x1e12b1=0x0,_0x37e582=0x0,_0x2395ea=0x0;const _0x3f8940=[],_0x486428=[];_0x574dcb['forEach'](_0x88d8ea=>{const _0x56d988=_0x4732de,_0xe8eacc=_0x88d8ea[_0x56d988(0x39d)][_0x88d8ea[_0x56d988(0x39d)]['length']-0x1],_0x27fc3a=_0xe8eacc[_0x56d988(0x7b4)][_0x56d988(0x5f4)](_0x268562=>_0x268562['originalQuestionText']===_0x33e9ef);_0x3f8940[_0x56d988(0xd01)]({'name':_0x88d8ea[_0x56d988(0x2f7)],'isCorrect':_0x27fc3a?_0x27fc3a[_0x56d988(0xcf5)]:![]}),_0x27fc3a&&_0x27fc3a[_0x56d988(0xcf5)]&&_0x37e582++;}),_0x419d26[_0x4732de(0x808)](_0x74324c=>{const _0x2a5900=_0x4732de,_0xd00dae=_0x74324c[_0x2a5900(0x39d)][_0x74324c['attempts'][_0x2a5900(0xa33)]-0x1],_0x301ecf=_0xd00dae[_0x2a5900(0x7b4)][_0x2a5900(0x5f4)](_0x1a1c92=>_0x1a1c92[_0x2a5900(0x699)]===_0x33e9ef);_0x486428[_0x2a5900(0xd01)]({'name':_0x74324c['studentName'],'isCorrect':_0x301ecf?_0x301ecf[_0x2a5900(0xcf5)]:![]}),_0x301ecf&&_0x301ecf[_0x2a5900(0xcf5)]&&_0x2395ea++;}),_0x199408['forEach'](_0x5d3b20=>{const _0x16530e=_0x4732de,_0x1959d3=_0x5d3b20[_0x16530e(0x39d)][_0x5d3b20['attempts'][_0x16530e(0xa33)]-0x1],_0x1c0846=_0x1959d3['answers'][_0x16530e(0x5f4)](_0x19c4e9=>_0x19c4e9['originalQuestionText']===_0x33e9ef);_0x1c0846&&_0x1c0846['isCorrect']&&_0x1e12b1++;});const _0xe2f094=_0x4fdcd3>0x0?_0x1e12b1/_0x4fdcd3:0x0,_0x1b480e=_0x5dcedf>0x0?_0x37e582/_0x5dcedf-_0x2395ea/_0x5dcedf:0x0;_0x2b1d12[_0x975c87]={'p':_0xe2f094,'r':_0x1b480e,'upperGroupResponders':_0x3f8940,'lowerGroupResponders':_0x486428};}),{'perQuestionStats':_0x2b1d12,'overallGroups':{'upperGroupNames':_0x49c37e,'lowerGroupNames':_0x5c9c5c}};}function drag(_0x338a43){const _0x58650d=_0x45baa4;if(draggedSvgElement){_0x338a43[_0x58650d(0xcd0)]();const _0x189524=draggedSvgElement[_0x58650d(0xacf)],_0x1c1ca5=getPointerPosition(_0x189524,_0x338a43),_0x47ed89=_0x189524[_0x58650d(0xa5d)][_0x58650d(0xcc8)];let _0x2ba297=_0x1c1ca5['x']-svgOffset['x'],_0x5388ce=_0x1c1ca5['y']-svgOffset['y'];const _0x572f88=draggedSvgElement['getBBox']();_0x2ba297=Math['max'](_0x47ed89['x'],Math[_0x58650d(0x807)](_0x2ba297,_0x47ed89['x']+_0x47ed89[_0x58650d(0x189)]-_0x572f88[_0x58650d(0x189)])),_0x5388ce=Math['max'](_0x47ed89['y'],Math[_0x58650d(0x807)](_0x5388ce,_0x47ed89['y']+_0x47ed89[_0x58650d(0x2dd)]-_0x572f88[_0x58650d(0x2dd)])),draggedSvgElement[_0x58650d(0xc55)](null,'x',_0x2ba297),draggedSvgElement[_0x58650d(0xc55)](null,'y',_0x5388ce);}}function endDrag(_0x2514c1){draggedSvgElement=null;}function handleSvgEditClick(_0xdd4d3){const _0x19de72=_0x45baa4;if(_0xdd4d3[_0x19de72(0x796)][_0x19de72(0x246)][_0x19de72(0x543)](_0x19de72(0x38b))){const _0x3e1962=_0xdd4d3[_0x19de72(0x796)][_0x19de72(0xaf8)][_0x19de72(0x713)],_0x19b0cd=_0xdd4d3[_0x19de72(0x827)],_0x5d6fb5=_0x19b0cd['querySelector']('#'+_0x3e1962);_0x5d6fb5&&_0x5d6fb5[_0x19de72(0x142)](),_0xdd4d3[_0x19de72(0x796)][_0x19de72(0x142)]();}}function handleEditQuestion(_0x9abee3){const _0x2b3f70=_0x45baa4,_0x3a0036=_0x9abee3['currentTarget'],_0x50329a=_0x3a0036['dataset']['index'],_0x482088=currentQuizData[_0x2b3f70(0x92e)][_0x50329a],_0x1e7a78=document[_0x2b3f70(0xc7b)](_0x2b3f70(0x875)+_0x50329a),_0x32c492=document[_0x2b3f70(0xc7b)]('q-explanation-'+_0x50329a),_0x5c7b69=document[_0x2b3f70(0xc7b)](_0x2b3f70(0x7b8)+_0x50329a);if(_0x3a0036[_0x2b3f70(0x9be)][_0x2b3f70(0xc04)]('fa-pen')){_0x3a0036[_0x2b3f70(0x9be)]=_0x2b3f70(0xd54),_0x3a0036[_0x2b3f70(0xd1e)]=_0x2b3f70(0x348);if(_0x1e7a78)_0x1e7a78[_0x2b3f70(0x9a6)]=!![];if(_0x32c492)_0x32c492[_0x2b3f70(0x9a6)]=!![];if(_0x5c7b69){const _0x2629da=_0x5c7b69['querySelector'](_0x2b3f70(0x171));if(_0x2629da){const _0x513c62=_0x2629da[_0x2b3f70(0x336)]('text');_0x513c62[_0x2b3f70(0x808)]((_0x2d8bc4,_0x49df98)=>{const _0xc726fa=_0x2b3f70,_0x208e77=_0xc726fa(0xa1d)+_0x50329a+'-'+_0x49df98;_0x2d8bc4['id']=_0x208e77,_0x2d8bc4['classList']['add'](_0xc726fa(0x625)),_0x2d8bc4[_0xc726fa(0x59f)][_0xc726fa(0x9ee)]=_0xc726fa(0x34a);const _0x10c2e9=document[_0xc726fa(0x145)]('http://www.w3.org/2000/svg','circle'),_0x33a314=_0x2d8bc4[_0xc726fa(0x7cb)]();_0x10c2e9[_0xc726fa(0x27e)]('cx',String(_0x33a314['x']+_0x33a314[_0xc726fa(0x189)]+0x5)),_0x10c2e9['setAttribute']('cy',String(_0x33a314['y']+_0x33a314['height']/0x2-0x5)),_0x10c2e9[_0xc726fa(0x27e)]('r','5'),_0x10c2e9[_0xc726fa(0x27e)](_0xc726fa(0x13e),'red'),_0x10c2e9[_0xc726fa(0x27e)](_0xc726fa(0x995),_0xc726fa(0x38b)),_0x10c2e9[_0xc726fa(0xaf8)][_0xc726fa(0x713)]=_0x208e77,_0x2d8bc4[_0xc726fa(0x9e7)](_0x10c2e9);}),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0x9a5),startDrag),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0x671),drag),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0x4d8),endDrag),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0xa60),endDrag),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0x4a9),startDrag,{'passive':![]}),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0x6e6),drag,{'passive':![]}),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0x7aa),endDrag),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0x953),endDrag),_0x2629da[_0x2b3f70(0x21f)](_0x2b3f70(0xb10),handleSvgEditClick);}}if(_0x1e7a78)_0x1e7a78[_0x2b3f70(0x283)]();}else{_0x3a0036[_0x2b3f70(0x9be)]=_0x2b3f70(0xb4a),_0x3a0036[_0x2b3f70(0xd1e)]='แก้ไขข้อนี้';if(_0x1e7a78){_0x1e7a78[_0x2b3f70(0x9a6)]=![];const _0x530e91=_0x482088[_0x2b3f70(0x34f)]||currentQuizData[_0x2b3f70(0x9f7)];_0x530e91===_0x2b3f70(0xafa)?_0x482088['stem']=_0x1e7a78[_0x2b3f70(0xa55)][_0x2b3f70(0xa44)](_0x1e7a78[_0x2b3f70(0xa55)]['indexOf']('.')+0x2)[_0x2b3f70(0x958)]():_0x482088[_0x2b3f70(0x24b)]=_0x1e7a78[_0x2b3f70(0xa55)]['substring'](_0x1e7a78[_0x2b3f70(0xa55)][_0x2b3f70(0x762)]('.')+0x2)[_0x2b3f70(0x958)]();}_0x32c492&&(_0x32c492[_0x2b3f70(0x9a6)]=![],_0x482088[_0x2b3f70(0xd36)]=_0x32c492['innerText']);if(_0x5c7b69){const _0x5ca110=_0x5c7b69[_0x2b3f70(0x452)](_0x2b3f70(0x171));if(_0x5ca110){const _0x349325=_0x5ca110[_0x2b3f70(0x423)](!![]);_0x349325[_0x2b3f70(0x336)]('.delete-svg-btn')[_0x2b3f70(0x808)](_0x3ddea0=>_0x3ddea0[_0x2b3f70(0x142)]()),_0x349325[_0x2b3f70(0x336)](_0x2b3f70(0x9d4))['forEach'](_0x2fc527=>{const _0x4c9f52=_0x2b3f70;_0x2fc527['classList']['remove'](_0x4c9f52(0x625)),_0x2fc527[_0x4c9f52(0x59f)][_0x4c9f52(0x9ee)]=_0x4c9f52(0xc4b),_0x2fc527[_0x4c9f52(0x557)]('id');}),_0x482088[_0x2b3f70(0x76d)]=_0x349325[_0x2b3f70(0x158)],_0x5ca110['removeEventListener'](_0x2b3f70(0x9a5),startDrag),_0x5ca110[_0x2b3f70(0xc0e)](_0x2b3f70(0x671),drag),_0x5ca110[_0x2b3f70(0xc0e)]('mouseup',endDrag),_0x5ca110[_0x2b3f70(0xc0e)]('mouseleave',endDrag),_0x5ca110[_0x2b3f70(0xc0e)](_0x2b3f70(0x4a9),startDrag),_0x5ca110[_0x2b3f70(0xc0e)](_0x2b3f70(0x6e6),drag),_0x5ca110[_0x2b3f70(0xc0e)](_0x2b3f70(0x7aa),endDrag),_0x5ca110[_0x2b3f70(0xc0e)](_0x2b3f70(0x953),endDrag),_0x5ca110[_0x2b3f70(0xc0e)](_0x2b3f70(0xb10),handleSvgEditClick),_0x5ca110['querySelectorAll'](_0x2b3f70(0x518))[_0x2b3f70(0x808)](_0x2dc604=>_0x2dc604[_0x2b3f70(0x142)]()),_0x5ca110[_0x2b3f70(0x336)](_0x2b3f70(0x9d4))['forEach'](_0x55c71c=>{const _0x56fbd2=_0x2b3f70;_0x55c71c[_0x56fbd2(0x246)][_0x56fbd2(0x142)](_0x56fbd2(0x625)),_0x55c71c[_0x56fbd2(0x59f)][_0x56fbd2(0x9ee)]=_0x56fbd2(0xc4b);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x380c3a){const _0x2898dd=_0x45baa4,_0x14fc4e=document[_0x2898dd(0xc7b)](_0x2898dd(0x7e9)),_0x241b52=document[_0x2898dd(0xc7b)]('quiz-editor-questions-container');_0x241b52['innerHTML']=_0x2898dd(0xd4b),_0x14fc4e[_0x2898dd(0x246)][_0x2898dd(0x142)](_0x2898dd(0x35d));try{const _0xd86cab=doc(db,'artifacts/'+appId+_0x2898dd(0xca0),_0x380c3a),_0x4b0143=await getDoc(_0xd86cab);if(!_0x4b0143['exists']())throw new Error(_0x2898dd(0xb8d));currentEditingQuizData={'id':_0x380c3a,..._0x4b0143[_0x2898dd(0x4da)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xaef9f6){console[_0x2898dd(0xab1)](_0x2898dd(0x16e),_0xaef9f6),showMessage(_0x2898dd(0x433)),_0x14fc4e[_0x2898dd(0x246)]['add'](_0x2898dd(0x35d));}}function renderQuizEditor(_0x4dfef6){const _0x3a0389=_0x45baa4;document['getElementById']('editor-quiz-topic')[_0x3a0389(0xab9)]=_0x4dfef6['topic'];const _0x3fec61=document[_0x3a0389(0xc7b)](_0x3a0389(0x371));let _0x24ae0b=_0x4dfef6[_0x3a0389(0x92e)]['map']((_0x57df92,_0x5b5534)=>{const _0x25aba7=_0x3a0389;let _0x8a585='';const _0x1b49e9=_0x57df92[_0x25aba7(0x34f)]||_0x4dfef6[_0x25aba7(0x9f7)];switch(_0x1b49e9){case _0x25aba7(0x35a):const _0x4f12cb=(_0x57df92[_0x25aba7(0x929)]||[])['map']((_0x4b52f8,_0x4320f8)=>_0x25aba7(0x83d)+_0x5b5534+_0x25aba7(0x3be)+_0x4320f8+'\x22\x20'+(_0x4320f8===_0x57df92[_0x25aba7(0xbfe)]?'checked':'')+_0x25aba7(0x520)+_0x4b52f8+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x25aba7(0x7a0)]('');_0x8a585=_0x25aba7(0x707)+_0x4f12cb+_0x25aba7(0x381);break;case _0x25aba7(0x19e):_0x8a585='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x57df92[_0x25aba7(0xc96)]||'')+_0x25aba7(0x698);break;case'true_false':_0x8a585=_0x25aba7(0x941)+_0x5b5534+'\x22\x20value=\x22true\x22\x20'+(_0x57df92[_0x25aba7(0x4cc)]===!![]?_0x25aba7(0xa1c):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x5b5534+'\x22\x20value=\x22false\x22\x20'+(_0x57df92['correctAnswer']===![]?_0x25aba7(0xa1c):'')+_0x25aba7(0x797);break;case _0x25aba7(0xafa):_0x8a585='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x57df92[_0x25aba7(0x492)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x22aac8=_0x57df92[_0x25aba7(0x24b)]||_0x57df92[_0x25aba7(0x6ea)]||'';return _0x22aac8=_0x22aac8['replace'](/<br\s*\/?>/gi,'\x0a'),_0x25aba7(0x8fb)+_0x5b5534+_0x25aba7(0x592)+_0x1b49e9+_0x25aba7(0x4c4)+(_0x5b5534+0x1)+'\x20('+_0x1b49e9+'):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x22aac8+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x8a585+'</div>\x0a</div>\x0a';})[_0x3a0389(0x7a0)]('');_0x3fec61['innerHTML']=_0x24ae0b;const _0x13b61e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x3fec61[_0x3a0389(0x751)](_0x3a0389(0xad7),_0x13b61e),_0x3fec61[_0x3a0389(0x336)](_0x3a0389(0x9c9))['forEach'](_0x360eb7=>{const _0x5c8a0b=_0x3a0389;_0x360eb7[_0x5c8a0b(0x59f)][_0x5c8a0b(0x99d)]='hidden',_0x360eb7[_0x5c8a0b(0x59f)][_0x5c8a0b(0x606)]=_0x5c8a0b(0x9e6),_0x360eb7[_0x5c8a0b(0x32b)]=0x4;const _0x5d8893=()=>{const _0xe32cfd=_0x5c8a0b;_0x360eb7[_0xe32cfd(0x59f)][_0xe32cfd(0x2dd)]='auto',_0x360eb7[_0xe32cfd(0x59f)]['height']=_0x360eb7['scrollHeight']+'px';};_0x360eb7[_0x5c8a0b(0x21f)]('input',_0x5d8893),_0x5d8893();}),_0x3fec61['querySelectorAll']('.ai-fix-question-btn')[_0x3a0389(0x808)](_0x1bde0f=>{const _0x217745=_0x3a0389;_0x1bde0f['addEventListener'](_0x217745(0xb10),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x247311){const _0x3083e4=_0x45baa4;if(!currentEditingQuizData||!currentEditingQuizData[_0x3083e4(0x92e)][_0x247311])return;const _0x5c14ac=currentEditingQuizData[_0x3083e4(0x92e)][_0x247311][_0x3083e4(0x24b)]||currentEditingQuizData[_0x3083e4(0x92e)][_0x247311][_0x3083e4(0x6ea)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x247311+0x1)+'\x20(\x22'+_0x5c14ac['substring'](0x0,0x14)+'...\x22)?',()=>{const _0xf2dae2=_0x3083e4;currentEditingQuizData[_0xf2dae2(0x92e)][_0xf2dae2(0x688)](_0x247311,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0xf2dae2(0x53e));});}function handleAddQuestionInEditor(){const _0x4e5aaa=_0x45baa4;if(!currentEditingQuizData)return;const _0x30c8d1={'id':'q_'+Date[_0x4e5aaa(0xcb8)]()+_0x4e5aaa(0x96a),'questionType':_0x4e5aaa(0x35a),'questionText':_0x4e5aaa(0x983),'options':[_0x4e5aaa(0x5d8),_0x4e5aaa(0x736),'ตัวเลือก\x20ค',_0x4e5aaa(0x27f)],'correctAnswerIndex':0x0,'explanation':_0x4e5aaa(0x37f)};currentEditingQuizData[_0x4e5aaa(0x92e)][_0x4e5aaa(0xd01)](_0x30c8d1),renderQuizEditor(currentEditingQuizData);const _0x262d17=document[_0x4e5aaa(0x452)](_0x4e5aaa(0x40b));_0x262d17&&(_0x262d17[_0x4e5aaa(0x4ed)]({'behavior':_0x4e5aaa(0x2d9),'block':'center'}),_0x262d17[_0x4e5aaa(0x452)](_0x4e5aaa(0x1d2))[_0x4e5aaa(0x283)]());}async function handleAiFixQuestion(_0x571966){const _0x23b42b=_0x45baa4,_0x581ec5=_0x571966[_0x23b42b(0x827)],_0x5a67a9=_0x581ec5[_0x23b42b(0x2ec)](_0x23b42b(0x752));if(!_0x5a67a9)return;const _0x20ba41=parseInt(_0x5a67a9[_0x23b42b(0xaf8)][_0x23b42b(0xad1)],0xa);if(isNaN(_0x20ba41)||!currentEditingQuizData[_0x23b42b(0x92e)][_0x20ba41]){showMessage(_0x23b42b(0x3a9));return;}const _0x589205=currentEditingQuizData['questions'][_0x20ba41];_0x581ec5[_0x23b42b(0x9be)]=_0x23b42b(0xa0b),_0x581ec5[_0x23b42b(0x514)]=!![];const _0x5c5814=_0x23b42b(0x84c)+JSON['stringify'](_0x589205)+_0x23b42b(0xcfa);let _0x44cb9e;const _0x56a539=_0x589205[_0x23b42b(0x34f)]||currentEditingQuizData[_0x23b42b(0x9f7)];switch(_0x56a539){case _0x23b42b(0x19e):_0x44cb9e={'type':'OBJECT','properties':{'questionText':{'type':_0x23b42b(0x3ed)},'idealAnswer':{'type':_0x23b42b(0x3ed)},'explanation':{'type':_0x23b42b(0x3ed)},'imageCode':{'type':_0x23b42b(0x3ed)}},'required':['questionText',_0x23b42b(0xc96),_0x23b42b(0xd36)]};break;case'multiple_choice':default:_0x44cb9e={'type':_0x23b42b(0x1c8),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x23b42b(0x559),'items':{'type':_0x23b42b(0x3ed)}},'correctAnswerIndex':{'type':_0x23b42b(0x366)},'explanation':{'type':_0x23b42b(0x3ed)},'imageCode':{'type':_0x23b42b(0x3ed)}},'required':[_0x23b42b(0x24b),_0x23b42b(0x929),_0x23b42b(0xbfe),_0x23b42b(0xd36)]};break;}try{let _0x3296c9=await callAnalysisApi(_0x5c5814,_0x44cb9e);_0x3296c9[_0x23b42b(0x929)]&&Array[_0x23b42b(0x6a4)](_0x3296c9[_0x23b42b(0x929)])&&(_0x3296c9[_0x23b42b(0x929)]=_0x3296c9[_0x23b42b(0x929)][_0x23b42b(0x327)](_0x16c133=>typeof _0x16c133===_0x23b42b(0x8c5)?_0x16c133[_0x23b42b(0x715)](/S(\s*[\d_]+?\s*)S/g,_0x23b42b(0x221)):_0x16c133)),_0x589205['imageCode']&&_0x589205[_0x23b42b(0x76d)][_0x23b42b(0xc04)](_0x23b42b(0x5a3))&&(_0x3296c9[_0x23b42b(0x76d)]=''),currentEditingQuizData[_0x23b42b(0x92e)][_0x20ba41]={..._0x589205,..._0x3296c9},renderQuizEditor(currentEditingQuizData),showMessage(_0x23b42b(0x14b));}catch(_0x3a507d){console['error'](_0x23b42b(0x8ce),_0x3a507d),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x5df834=_0x45baa4,_0x5cb93e=document[_0x5df834(0xc7b)](_0x5df834(0xc98));_0x5cb93e[_0x5df834(0x514)]=!![],_0x5cb93e['innerHTML']=_0x5df834(0x9f5);try{const _0x2b93ca=document[_0x5df834(0xc7b)](_0x5df834(0x5e7))[_0x5df834(0xab9)],_0x115530=document[_0x5df834(0x336)](_0x5df834(0x752));let _0x58d2cf=[];const _0x431e13=Array[_0x5df834(0x36f)](_0x115530)['map']((_0x361467,_0x266da8)=>{const _0x23ef12=_0x5df834,_0x1d792a=_0x361467['dataset'][_0x23ef12(0x91d)],_0x5f6ccb=_0x361467[_0x23ef12(0x452)](_0x23ef12(0x1d2))[_0x23ef12(0xab9)]['replace'](/\n/g,_0x23ef12(0x93d));let _0x3ef79d={'questionType':_0x1d792a};const _0x5151f1=currentEditingQuizData['questions'][_0x266da8];switch(_0x1d792a){case _0x23ef12(0x35a):_0x3ef79d[_0x23ef12(0x24b)]=_0x5f6ccb;const _0x15f6a9=_0x361467[_0x23ef12(0x336)]('input[type=\x22text\x22]');_0x3ef79d[_0x23ef12(0x929)]=Array[_0x23ef12(0x36f)](_0x15f6a9)['map'](_0x13783=>_0x13783[_0x23ef12(0xab9)]);const _0x498698=_0x361467[_0x23ef12(0x452)](_0x23ef12(0xa6e));_0x3ef79d[_0x23ef12(0xbfe)]=_0x498698?parseInt(_0x498698['value']):0x0;break;case'short_answer':_0x3ef79d[_0x23ef12(0x24b)]=_0x5f6ccb,_0x3ef79d[_0x23ef12(0xc96)]=_0x361467[_0x23ef12(0x452)](_0x23ef12(0x451))[_0x23ef12(0xab9)];break;case _0x23ef12(0x3f8):_0x3ef79d[_0x23ef12(0x24b)]=_0x5f6ccb;const _0x551b77=_0x361467[_0x23ef12(0x452)](_0x23ef12(0xa6e));_0x3ef79d[_0x23ef12(0x4cc)]=_0x551b77?_0x551b77[_0x23ef12(0xab9)]===_0x23ef12(0xaa7):!![];break;case _0x23ef12(0xafa):_0x3ef79d['stem']=_0x5f6ccb;const _0xe2118d=_0x361467[_0x23ef12(0x452)]('.correct-response-input');_0x3ef79d[_0x23ef12(0x492)]=_0xe2118d?_0xe2118d['value']:'',_0x58d2cf[_0x23ef12(0xd01)](_0x3ef79d[_0x23ef12(0x492)]);break;default:_0x3ef79d[_0x23ef12(0x24b)]=_0x5f6ccb;break;}return{..._0x5151f1,..._0x3ef79d};});_0x58d2cf[_0x5df834(0xa33)]>0x0&&_0x431e13[_0x5df834(0x808)](_0x139836=>{const _0x2c1a4c=_0x5df834;_0x139836[_0x2c1a4c(0x34f)]===_0x2c1a4c(0xafa)&&(_0x139836[_0x2c1a4c(0x416)]=_0x58d2cf);});const _0x39fa8f=currentEditingQuizData['id'],_0x4a3e71=doc(db,_0x5df834(0xb73)+appId+'/public/data/quizzes',_0x39fa8f);await updateDoc(_0x4a3e71,{'topic':_0x2b93ca,'questions':_0x431e13}),document[_0x5df834(0xc7b)]('quiz-editor-modal')[_0x5df834(0x246)][_0x5df834(0x329)](_0x5df834(0x35d)),showMessage(_0x5df834(0x9e5),()=>initiateReGradeProcess(_0x39fa8f));}catch(_0x4cfbfc){console[_0x5df834(0xab1)](_0x5df834(0x5d0),_0x4cfbfc),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x5cb93e[_0x5df834(0x514)]=![],_0x5cb93e[_0x5df834(0x9be)]=_0x5df834(0x5f5);}}async function initiateReGradeProcess(_0x29914e){const _0x58417d=_0x45baa4;showMessage(_0x58417d(0x6fa));try{const _0x457f93=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x29914e),_0x4161bc=await getDoc(_0x457f93);if(!_0x4161bc[_0x58417d(0xb1f)]())throw new Error(_0x58417d(0x6cb));const _0xce00ec={'id':_0x29914e,..._0x4161bc['data']()},_0x418c70=collection(db,_0x58417d(0xb73)+appId+'/public/data/quizzes',_0x29914e,_0x58417d(0xaa0)),_0x3ce8c6=await getDocs(_0x418c70);if(_0x3ce8c6[_0x58417d(0x1cd)]){showMessage(_0x58417d(0x892));return;}const _0x914473=_0x3ce8c6['docs'][_0x58417d(0x327)](_0x5b8090=>reGradeSingleSubmission(_0x5b8090,_0xce00ec));await Promise[_0x58417d(0xd4e)](_0x914473);if(_0xce00ec[_0x58417d(0xb2f)]){const _0x25f159=doc(db,_0x58417d(0xb73)+appId+_0x58417d(0xafc),_0xce00ec[_0x58417d(0xb2f)]),_0x26798d=await getDoc(_0x25f159);if(_0x26798d[_0x58417d(0xb1f)]()&&_0x26798d[_0x58417d(0x4da)]()['students']){const _0x44f176=_0x26798d['data']()['students'][_0x58417d(0x327)](_0xd4a8b5=>updateStudentProfile(_0xce00ec[_0x58417d(0xb2f)],_0xd4a8b5));await Promise[_0x58417d(0xd4e)](_0x44f176);}}showMessage(_0x58417d(0x663)+_0x3ce8c6['size']+_0x58417d(0x390));}catch(_0x3f8330){console[_0x58417d(0xab1)](_0x58417d(0x20e),_0x3f8330),showMessage(_0x58417d(0xc88)+_0x3f8330[_0x58417d(0x776)]);}}async function reGradeSingleSubmission(_0x3cc6fc,_0x4e0eb3){const _0xb63049=_0x45baa4,_0xc91ae6=_0x3cc6fc[_0xb63049(0x4da)](),_0x407382=_0xc91ae6['studentName'],_0x32a802=_0xc91ae6[_0xb63049(0x39d)]||[],_0x260a5b=[];for(const _0x107d05 of _0x32a802){let _0x4162e1=0x0,_0x225238=[],_0x494caf=0x0;const _0x99876e=[];for(const _0xf2ef33 of _0x107d05[_0xb63049(0x7b4)]){let _0x5ae27d;_0xf2ef33[_0xb63049(0x784)]&&(_0x5ae27d=_0x4e0eb3['questions']['find'](_0x153f7f=>_0x153f7f['id']===_0xf2ef33['questionId']));!_0x5ae27d&&_0xf2ef33[_0xb63049(0x699)]&&(_0x5ae27d=_0x4e0eb3[_0xb63049(0x92e)]['find'](_0x2f961a=>(_0x2f961a[_0xb63049(0x6ea)]||_0x2f961a[_0xb63049(0x24b)])===_0xf2ef33['originalQuestionText']));let _0x158047=![];if(_0x5ae27d){const _0x4b4388=_0x5ae27d[_0xb63049(0x34f)]||_0x4e0eb3[_0xb63049(0x9f7)];switch(_0x4b4388){case _0xb63049(0x35a):if(_0x5ae27d['options']&&_0x5ae27d[_0xb63049(0xbfe)]<_0x5ae27d[_0xb63049(0x929)]['length']){const _0x11eefa=_0x5ae27d[_0xb63049(0x929)][_0x5ae27d['correctAnswerIndex']];_0x158047=_0xf2ef33[_0xb63049(0x69d)]===_0x11eefa;}break;case _0xb63049(0x3f8):const _0x35ce4d=_0xf2ef33[_0xb63049(0x694)]===!![]||_0xf2ef33[_0xb63049(0x694)]===_0xb63049(0xaa7);_0x158047=_0x35ce4d===_0x5ae27d[_0xb63049(0x4cc)];break;case _0xb63049(0xafa):_0x158047=_0xf2ef33[_0xb63049(0x694)]===_0x5ae27d['correctResponse'];break;case _0xb63049(0x19e):_0x158047=await gradeShortAnswer(_0xf2ef33[_0xb63049(0x694)],_0x5ae27d);break;default:_0x158047=_0xf2ef33[_0xb63049(0xcf5)];break;}}if(_0x158047){_0x4162e1++,_0x494caf++;if(_0x494caf===0x3)_0x225238['push'](BADGES['ON_FIRE']['id']);}else _0x494caf=0x0;_0x99876e[_0xb63049(0xd01)]({..._0xf2ef33,'isCorrect':_0x158047});}let _0x1ca89f=_0x4162e1*0xa;_0x4162e1===_0x4e0eb3['questions'][_0xb63049(0xa33)]&&(_0x1ca89f+=0x32,_0x225238[_0xb63049(0xd01)](BADGES[_0xb63049(0x37b)]['id'])),_0x260a5b['push']({..._0x107d05,'score':_0x4162e1,'points':_0x1ca89f,'badges':Array[_0xb63049(0x36f)](new Set(_0x225238)),'answers':_0x99876e});}const _0x34b208=_0x260a5b['length']>0x0?_0x260a5b[0x0][_0xb63049(0xbf3)]:0x0,_0x3aa763=Math[_0xb63049(0x573)](..._0x260a5b[_0xb63049(0x327)](_0x36edc1=>_0x36edc1[_0xb63049(0xbf3)])),_0x2ecf64=_0x260a5b[_0xb63049(0xa33)]>0x0?_0x260a5b[_0x260a5b[_0xb63049(0xa33)]-0x1][_0xb63049(0xbf3)]:0x0,_0x30399f=_0x260a5b[_0xb63049(0xa33)]>0x0?_0x260a5b[_0x260a5b[_0xb63049(0xa33)]-0x1][_0xb63049(0xba9)]:0x0,_0x13ddc8=doc(db,_0xb63049(0xb73)+appId+_0xb63049(0x444)+_0x4e0eb3['id']+_0xb63049(0xc11),_0x407382);await updateDoc(_0x13ddc8,{'attempts':_0x260a5b,'firstScore':_0x34b208,'bestScore':_0x3aa763,'latestScore':_0x2ecf64,'points':_0x30399f});}function cleanupQuizOptions(_0x7f1c75){const _0x1b9b3a=_0x45baa4,_0x34cdd2=(_0x48dd9c,_0x2d9ae2)=>_0x2d9ae2===0x0?_0x48dd9c:_0x34cdd2(_0x2d9ae2,_0x48dd9c%_0x2d9ae2),_0x497085=_0x3bcc84=>{const _0x1f0cf7=_0x2960;if(typeof _0x3bcc84!==_0x1f0cf7(0x8c5))return null;_0x3bcc84=_0x3bcc84[_0x1f0cf7(0x958)]();const _0x4cbcb7=_0x3bcc84[_0x1f0cf7(0x392)](/[ /]/)[_0x1f0cf7(0x6d0)](_0x5d5be4=>_0x5d5be4!=='');if(_0x4cbcb7[_0x1f0cf7(0xa33)]===0x3)return parseInt(_0x4cbcb7[0x0])+parseInt(_0x4cbcb7[0x1])/parseInt(_0x4cbcb7[0x2]);else{if(_0x4cbcb7[_0x1f0cf7(0xa33)]===0x2)return parseInt(_0x4cbcb7[0x0])/parseInt(_0x4cbcb7[0x1]);else{if(_0x4cbcb7[_0x1f0cf7(0xa33)]===0x1&&!isNaN(_0x4cbcb7[0x0]))return parseFloat(_0x4cbcb7[0x0]);}}return null;},_0x338af0=_0x35906a=>{const _0x1c27ab=_0x2960;if(typeof _0x35906a!==_0x1c27ab(0x8c5))return _0x35906a;const _0x4e2415=_0x35906a['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4e2415){const _0xf4cdf7=parseInt(_0x4e2415[0x1]);let _0x4db4da=parseInt(_0x4e2415[0x2]),_0x3ff4f4=parseInt(_0x4e2415[0x3]);const _0xfe80de=_0x34cdd2(_0x4db4da,_0x3ff4f4);_0x4db4da/=_0xfe80de,_0x3ff4f4/=_0xfe80de;if(_0x3ff4f4===0x1)return(_0xf4cdf7+_0x4db4da)[_0x1c27ab(0x626)]();return _0xf4cdf7+'\x20'+_0x4db4da+'/'+_0x3ff4f4;}return _0x35906a;};return _0x7f1c75&&_0x7f1c75['questions']&&_0x7f1c75[_0x1b9b3a(0x92e)][_0x1b9b3a(0x808)](_0x1ba2c1=>{const _0x265c38=_0x1b9b3a;if(_0x1ba2c1[_0x265c38(0x34f)]==='multiple_choice'&&_0x1ba2c1[_0x265c38(0x929)]){const _0x4246bf=new Map(),_0x280139=_0x1ba2c1[_0x265c38(0x929)][_0x1ba2c1['correctAnswerIndex']];_0x1ba2c1['options'][_0x265c38(0x808)](_0x5736b8=>{const _0xed00b6=_0x265c38,_0x5659e6=_0x338af0(_0x5736b8),_0x5598c8=_0x497085(_0x5659e6);_0x5598c8!==null&&!_0x4246bf[_0xed00b6(0x7d8)](_0x5598c8)&&_0x4246bf[_0xed00b6(0x2b6)](_0x5598c8,_0x5659e6);}),_0x1ba2c1[_0x265c38(0x929)]=Array[_0x265c38(0x36f)](_0x4246bf[_0x265c38(0x548)]());const _0x147400=_0x1ba2c1[_0x265c38(0x929)][_0x265c38(0x960)](_0x5ff6d4=>_0x5ff6d4===_0x338af0(_0x280139));_0x1ba2c1[_0x265c38(0xbfe)]=_0x147400!==-0x1?_0x147400:0x0;}}),_0x7f1c75;}function showGameStartConfirmationModal(_0x2af9f1,_0x2c6ebb,_0x29e03b){const _0xc830d6=_0x45baa4,_0x582503=document[_0xc830d6(0xc7b)](_0xc830d6(0x9c5));document['getElementById'](_0xc830d6(0xd11))['textContent']=_0xc830d6(0x78a)+_0x29e03b,document['getElementById'](_0xc830d6(0x1f0))['value']=_0x2af9f1,document[_0xc830d6(0xc7b)](_0xc830d6(0x677))[_0xc830d6(0xab9)]=_0x2c6ebb,document[_0xc830d6(0xc7b)](_0xc830d6(0xb58))[_0xc830d6(0xa1c)]=!![];const _0x4c10d4=document[_0xc830d6(0xc7b)]('sync-variant-selector');_0x2c6ebb===_0xc830d6(0x3f4)?(_0x4c10d4['classList'][_0xc830d6(0x142)](_0xc830d6(0x35d)),document['querySelector'](_0xc830d6(0x570))['checked']=!![]):_0x4c10d4['classList']['add'](_0xc830d6(0x35d)),_0x582503[_0xc830d6(0x246)][_0xc830d6(0x142)](_0xc830d6(0x35d));}async function saveGameResultsAsSubmissions(_0x11a448){const _0x21e353=_0x45baa4;console[_0x21e353(0x161)](_0x21e353(0x1e2),_0x11a448);const _0xc5a419=_0x11a448[_0x21e353(0x25d)];let _0x1ff745=[];if(_0x11a448[_0x21e353(0x1c4)])_0x1ff745=Object[_0x21e353(0x1da)](_0x11a448[_0x21e353(0x1c4)])['map'](([_0x32dce7,_0x50d32e])=>({'name':_0x32dce7,..._0x50d32e}));else{if(_0x11a448[_0x21e353(0xd0e)])Object['values'](_0x11a448['groups'])[_0x21e353(0x808)](_0x1c1958=>{const _0x20cf16=_0x21e353;_0x1c1958[_0x20cf16(0x5bf)][_0x20cf16(0x808)](_0x5d876f=>{const _0x21e591=_0x20cf16;_0x1ff745['push']({'name':_0x5d876f,'score':_0x1c1958['score'],'answers':_0x1c1958[_0x21e591(0x7b4)]});});});else _0x11a448[_0x21e353(0x6c5)]&&Object[_0x21e353(0x1da)](_0x11a448[_0x21e353(0x6c5)])[_0x21e353(0x808)](([_0x3ebc35,_0x584f04])=>{const _0x53c0ee=_0x21e353;_0x1ff745[_0x53c0ee(0xd01)]({'name':_0x3ebc35,..._0x584f04});});}if(_0x1ff745[_0x21e353(0xa33)]===0x0){console[_0x21e353(0x161)]('No\x20player\x20data\x20to\x20save.');return;}const _0x4642c4=_0x11a448[_0x21e353(0x2e4)]?.['questions'][_0x21e353(0xa33)]||currentQuizData['questions'][_0x21e353(0xa33)],_0x2270cc=writeBatch(db);for(const _0x174fc4 of _0x1ff745){const _0x15767b=doc(db,_0x21e353(0xb73)+appId+'/public/data/quizzes/'+_0xc5a419+'/submissions',_0x174fc4[_0x21e353(0xb4c)]),_0xf4f8d6=(_0x174fc4[_0x21e353(0x7b4)]||[])[_0x21e353(0x6d0)](_0x27139c=>_0x27139c[_0x21e353(0xcf5)])[_0x21e353(0xa33)];let _0x37ab6c=_0xf4f8d6;_0x11a448['isConfidenceScoringEnabled']&&_0x174fc4[_0x21e353(0x7b4)]&&_0x174fc4[_0x21e353(0x7b4)][_0x21e353(0x808)](_0x539f97=>{const _0x3d88ea=_0x21e353;if(_0x539f97[_0x3d88ea(0xcf5)]&&(_0x539f97[_0x3d88ea(0x8f3)]===!![]||_0x539f97['wasConfident']===_0x3d88ea(0x45e)))_0x37ab6c+=0x1;else!_0x539f97[_0x3d88ea(0xcf5)]&&(_0x539f97[_0x3d88ea(0x8f3)]===!![]||_0x539f97[_0x3d88ea(0x8f3)]===_0x3d88ea(0x45e))&&(_0x37ab6c-=0x1);});_0x4642c4>0x0&&_0xf4f8d6===_0x4642c4&&(_0x37ab6c+=0x1);const _0x37b4cf={'score':_0xf4f8d6,'points':_0x37ab6c,'badges':_0x174fc4[_0x21e353(0xa51)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x174fc4[_0x21e353(0x7b4)]||[])['map'](_0x335729=>({'questionId':_0x335729[_0x21e353(0x784)],'answer':_0x335729[_0x21e353(0x694)],'answerText':_0x335729[_0x21e353(0x69d)],'isCorrect':_0x335729[_0x21e353(0xcf5)],'originalQuestionText':_0x335729[_0x21e353(0x699)],'wasConfident':_0x335729[_0x21e353(0x8f3)]}))},_0x57225c=await getDoc(_0x15767b),_0x30a59f=_0x57225c[_0x21e353(0xb1f)]()?_0x57225c['data']():{},_0x30dbd7=_0x30a59f[_0x21e353(0x82e)]||0x0,_0x35a97e=_0x30a59f['attempts']||[],_0x5daa64={'studentName':_0x174fc4[_0x21e353(0xb4c)],'totalQuestions':_0x4642c4,'attempts':arrayUnion(_0x37b4cf),'latestScore':_0xf4f8d6,'points':_0x37ab6c,'latestSubmittedAt':_0x37b4cf['submittedAt'],'bestScore':Math[_0x21e353(0x573)](_0x30dbd7,_0xf4f8d6),'firstScore':_0x35a97e[_0x21e353(0xa33)]===0x0?_0xf4f8d6:_0x30a59f['firstScore']||0x0};_0x2270cc['set'](_0x15767b,_0x5daa64,{'merge':!![]});}try{await _0x2270cc['commit'](),showMessage(_0x21e353(0x801)+_0x1ff745[_0x21e353(0xa33)]+'\x20รายการ\x20สำเร็จ!');const _0x214fd4=_0x11a448[_0x21e353(0x2e4)]?.['projectId']||currentQuizData?.[_0x21e353(0xb2f)]||currentProjectId;if(_0x214fd4){const _0x423e99=[...new Set(_0x1ff745['map'](_0xf90b7a=>_0xf90b7a[_0x21e353(0xb4c)]))];for(const _0x5448e8 of _0x423e99){await updateStudentProfile(_0x214fd4,_0x5448e8);}}}catch(_0x5d93a4){console['error'](_0x21e353(0x289),_0x5d93a4),showMessage(_0x21e353(0x6ba));}}async function saveQuiz(_0x20331d=null,_0x14a666=null){const _0x158d8f=_0x45baa4,_0x216168=_0x20331d||currentProjectId;if(!_0x216168){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x158d8f(0x92e)]||!userId){showMessage(_0x158d8f(0x1b2));return;}const _0x379aaf=document[_0x158d8f(0xc7b)](_0x158d8f(0x324));_0x379aaf['disabled']=!![],_0x379aaf[_0x158d8f(0x9be)]=_0x158d8f(0x9f5);const _0x3cd867=document['getElementById'](_0x158d8f(0xa09))['checked'];let _0x63c8fd=document[_0x158d8f(0xc7b)](_0x158d8f(0xcf2))['innerText'][_0x158d8f(0x958)]();_0x3cd867&&!_0x63c8fd[_0x158d8f(0xc3a)](_0x158d8f(0x7c5))&&(_0x63c8fd=_0x158d8f(0xc0d)+_0x63c8fd);try{const _0x283cfb={'resultsDisplay':document[_0x158d8f(0xc7b)](_0x158d8f(0x53a))['value'],'shuffle':document[_0x158d8f(0xc7b)]('shuffle-setting-select')[_0x158d8f(0xab9)],'timerMode':document['getElementById'](_0x158d8f(0x1c0))[_0x158d8f(0xab9)],'timerDuration':parseInt(document[_0x158d8f(0xc7b)](_0x158d8f(0x521))[_0x158d8f(0xab9)])||0xa,'passingScore':parseInt(document[_0x158d8f(0xc7b)](_0x158d8f(0x3d0))[_0x158d8f(0xab9)])||0x0,'isAdaptive':document[_0x158d8f(0xc7b)](_0x158d8f(0x522))[_0x158d8f(0xa1c)],'loopUntilPass':document[_0x158d8f(0xc7b)](_0x158d8f(0x2cf))['checked']},_0x224dc3=(currentQuizData['questions']||[])[_0x158d8f(0x327)]((_0x59b8de,_0x3a8873)=>{const _0x434035=_0x158d8f,_0x4f412b=document[_0x434035(0xc7b)](_0x434035(0xbad))[_0x434035(0xab9)],_0x480c36={'id':'q_'+Date[_0x434035(0xcb8)]()+'_'+_0x3a8873,'questionText':_0x59b8de['questionText']||'','explanation':_0x59b8de['explanation']||_0x434035(0x6f1),'questionType':_0x59b8de['questionType']||_0x4f412b,'imageCode':_0x59b8de[_0x434035(0x76d)]||null};return(_0x480c36[_0x434035(0x34f)]===_0x434035(0x35a)||_0x480c36[_0x434035(0x34f)]===_0x434035(0x8e8)||_0x480c36['questionType']===_0x434035(0x481)&&_0x59b8de[_0x434035(0x929)])&&(_0x480c36[_0x434035(0x929)]=_0x59b8de[_0x434035(0x929)]||[],_0x480c36[_0x434035(0xbfe)]=_0x59b8de[_0x434035(0xbfe)]!==undefined?_0x59b8de[_0x434035(0xbfe)]:0x0),(_0x480c36['questionType']===_0x434035(0x19e)||_0x480c36[_0x434035(0x34f)]===_0x434035(0x6d6)||_0x480c36['questionType']===_0x434035(0x481)&&_0x59b8de[_0x434035(0xc96)])&&(_0x480c36[_0x434035(0xc96)]=_0x59b8de[_0x434035(0xc96)]||''),_0x480c36[_0x434035(0x34f)]===_0x434035(0x3f8)&&(_0x480c36[_0x434035(0x4cc)]=_0x59b8de[_0x434035(0x4cc)]===!![]),_0x480c36[_0x434035(0x34f)]===_0x434035(0xafa)&&(_0x480c36[_0x434035(0x6ea)]=_0x59b8de['stem']||'',_0x480c36['correctResponse']=_0x59b8de['correctResponse']||'',_0x480c36['allResponses']=_0x59b8de[_0x434035(0x416)]||[]),_0x480c36;}),_0x4aeedd={'topic':_0x63c8fd,'quizType':currentQuizData[_0x158d8f(0x9f7)]||_0x158d8f(0x35a),'questions':_0x224dc3,'projectId':_0x216168,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x283cfb,'quizMode':_0x3cd867?_0x158d8f(0x40d):'standard','pairedQuizId':null,'lessonPlan':null};let _0x1d0da4;while(!![]){_0x1d0da4=Math[_0x158d8f(0x864)](0x3e8+Math[_0x158d8f(0x293)]()*0x2328)['toString']();const _0x50341a=await getDoc(doc(db,'artifacts/'+appId+_0x158d8f(0xca0),_0x1d0da4));if(!_0x50341a[_0x158d8f(0xb1f)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x158d8f(0xca0),_0x1d0da4),_0x4aeedd);if(_0x14a666&&currentBlueprintProjectId){console['log'](_0x158d8f(0x863)+_0x1d0da4+_0x158d8f(0xab2)+_0x14a666);try{const _0x7ab9ba=doc(db,_0x158d8f(0xb73)+appId+_0x158d8f(0x6f3),currentBlueprintProjectId);await updateDoc(_0x7ab9ba,{['topics.'+_0x14a666+_0x158d8f(0x618)]:arrayUnion(_0x1d0da4)});}catch(_0x18c2d0){console['error'](_0x158d8f(0x2d8),_0x18c2d0);}}currentQuizData[_0x158d8f(0xd09)]=_0x283cfb,currentQuizData['id']=_0x1d0da4;const _0x44ceca=document[_0x158d8f(0xc7b)](_0x158d8f(0x722));_0x44ceca[_0x158d8f(0x9be)]=_0x158d8f(0x1fb)+_0x1d0da4+_0x158d8f(0x167),document[_0x158d8f(0xc7b)]('copy-quiz-id-btn')[_0x158d8f(0x21f)](_0x158d8f(0xb10),()=>copyTextToClipboard(_0x1d0da4,_0x158d8f(0x750))),document[_0x158d8f(0xc7b)]('start-live-race-generated-btn')[_0x158d8f(0x21f)]('click',()=>handleStartLiveRace(_0x1d0da4)),document[_0x158d8f(0xc7b)](_0x158d8f(0x92a))[_0x158d8f(0x21f)](_0x158d8f(0xb10),()=>startPresentation(currentQuizData)),document[_0x158d8f(0xc7b)](_0x158d8f(0x9ab))[_0x158d8f(0x21f)](_0x158d8f(0xb10),startAdminTest),showMessage(_0x158d8f(0xa64));}catch(_0xe93252){console['error'](_0x158d8f(0x298),_0xe93252),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x379aaf[_0x158d8f(0x514)]=![],_0x379aaf[_0x158d8f(0x9be)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x66eaa0=_0x45baa4,_0x1b295b=document[_0x66eaa0(0xc7b)](_0x66eaa0(0xa02)),_0x1e0bfa=document[_0x66eaa0(0xc7b)]('move-quiz-project-select'),_0x119f60=_0x1b295b[_0x66eaa0(0x452)]('h3'),_0x454851=document[_0x66eaa0(0xc7b)](_0x66eaa0(0xbcb));_0x119f60[_0x66eaa0(0x448)]=_0x66eaa0(0x726),_0x454851[_0x66eaa0(0x448)]=_0x66eaa0(0x86a);allProjects[_0x66eaa0(0xa33)]===0x0?(_0x1e0bfa[_0x66eaa0(0x9be)]=_0x66eaa0(0xa9c),_0x454851[_0x66eaa0(0x514)]=!![]):(_0x1e0bfa[_0x66eaa0(0x9be)]=allProjects['map'](_0x4fead7=>_0x66eaa0(0x490)+_0x4fead7['id']+'\x22>'+_0x4fead7[_0x66eaa0(0x39b)]+_0x66eaa0(0xaff))[_0x66eaa0(0x7a0)](''),_0x454851['disabled']=![]);_0x1b295b['classList']['remove'](_0x66eaa0(0x35d));const _0x2856ec=()=>{const _0x4d9b1e=_0x66eaa0,_0x4041dd=_0x1e0bfa[_0x4d9b1e(0xab9)];_0x4041dd?(currentProjectId=_0x4041dd,_0x1b295b[_0x4d9b1e(0x246)][_0x4d9b1e(0x329)](_0x4d9b1e(0x35d)),saveQuiz(),_0x119f60['textContent']=_0x4d9b1e(0x53d),_0x454851[_0x4d9b1e(0x448)]='ย้าย',_0x454851[_0x4d9b1e(0xc0e)](_0x4d9b1e(0xb10),_0x2856ec),_0x454851['addEventListener'](_0x4d9b1e(0xb10),confirmMoveQuiz)):showMessage(_0x4d9b1e(0x3af));};_0x454851[_0x66eaa0(0xc0e)]('click',confirmMoveQuiz),_0x454851['addEventListener'](_0x66eaa0(0xb10),_0x2856ec);}function copyTextToClipboard(_0x4e664c,_0x4b5751){const _0x11839a=_0x45baa4,_0x6e1895=document[_0x11839a(0xb4b)](_0x11839a(0x1d2));_0x6e1895[_0x11839a(0xab9)]=_0x4e664c,_0x6e1895[_0x11839a(0x59f)][_0x11839a(0xaab)]='fixed',_0x6e1895['style'][_0x11839a(0x961)]='0',document[_0x11839a(0xc91)][_0x11839a(0xcd3)](_0x6e1895),_0x6e1895[_0x11839a(0x283)](),_0x6e1895[_0x11839a(0xa39)]();try{const _0x4fe6a8=document[_0x11839a(0x7e8)]('copy');showMessage(_0x4fe6a8?_0x4b5751:_0x11839a(0x9ba));}catch(_0x27afbb){showMessage('คัดลอกไม่สำเร็จ'),console[_0x11839a(0xab1)]('Copy\x20command\x20failed',_0x27afbb);}document['body'][_0x11839a(0x6ac)](_0x6e1895);}function listenForProjectQuizzes(_0x39d340){const _0x707564=_0x45baa4,_0x565fa3=collection(db,_0x707564(0xb73)+appId+_0x707564(0xca0)),_0x5783d1=query(_0x565fa3,where(_0x707564(0xb2f),'==',_0x39d340));unsubscribeQuizzesListener=onSnapshot(_0x5783d1,async _0x33bf3=>{const _0x42f495=_0x707564;allQuizzes=_0x33bf3[_0x42f495(0xb39)][_0x42f495(0x327)](_0x3ca781=>({'id':_0x3ca781['id'],..._0x3ca781[_0x42f495(0x4da)]()})),renderQuizzes();},_0x1f68bf=>{const _0xcf6898=_0x707564;console[_0xcf6898(0xab1)]('Error\x20fetching\x20project\x20quizzes:',_0x1f68bf),document[_0xcf6898(0xc7b)]('project-quizzes-list')[_0xcf6898(0x9be)]=_0xcf6898(0x94e);});}async function renderQuizzes(){const _0x4084e2=_0x45baa4,_0x545ae2=document['getElementById'](_0x4084e2(0x5e5)),_0x541b22=document[_0x4084e2(0xc7b)](_0x4084e2(0x4af))['value'][_0x4084e2(0xd4a)]();let _0x575aa7;currentProjectId===_0x4084e2(0x662)?_0x575aa7=starredQuizzes:_0x575aa7=allQuizzes;let _0x23825b=_0x575aa7[_0x4084e2(0x6d0)](_0x5ab05e=>_0x5ab05e[_0x4084e2(0x613)][_0x4084e2(0xd4a)]()['includes'](_0x541b22));_0x23825b[_0x4084e2(0x835)]((_0x42a25c,_0xb42d1f)=>new Date(_0xb42d1f['createdAt'])-new Date(_0x42a25c[_0x4084e2(0x9a4)]));if(_0x23825b[_0x4084e2(0xa33)]===0x0){_0x545ae2[_0x4084e2(0x9be)]=_0x4084e2(0xcf7);return;}const _0x355e3d={},_0x256c3e=_0x23825b[_0x4084e2(0x327)](async _0x36fbf7=>{const _0x5d2b3d=_0x4084e2,_0xad441b=collection(db,_0x5d2b3d(0xb73)+appId+'/public/data/quizzes/'+_0x36fbf7['id']+'/submissions'),_0x2b51c4=await getDocs(_0xad441b);_0x355e3d[_0x36fbf7['id']]=_0x2b51c4[_0x5d2b3d(0xd20)];});await Promise[_0x4084e2(0xd4e)](_0x256c3e);let _0x42bf45='';_0x23825b[_0x4084e2(0x808)](_0x489807=>{const _0x3de0f4=_0x4084e2,_0x511f40=_0x355e3d[_0x489807['id']]||0x0,_0xc5503d=_0x489807[_0x3de0f4(0x264)]||_0x3de0f4(0x870),_0xe503cc=_0x489807[_0x3de0f4(0xd09)]?.[_0x3de0f4(0x988)]||_0x3de0f4(0xada);let _0xa05a0e='',_0x189b60='';const _0x5d582c=new Date();let _0x2cb32b=_0xc5503d;if(_0xc5503d===_0x3de0f4(0xb11)){const _0xdff5ef=_0x489807['startTime']?new Date(_0x489807[_0x3de0f4(0x519)]):null,_0x1e9846=_0x489807[_0x3de0f4(0x1f5)]?new Date(_0x489807[_0x3de0f4(0x1f5)]):null;if(_0x1e9846&&_0x5d582c>_0x1e9846)_0x2cb32b=_0x3de0f4(0x3fe);else _0xdff5ef&&_0x5d582c<_0xdff5ef?_0x2cb32b=_0x3de0f4(0xc35):_0x2cb32b=_0x3de0f4(0x870);}switch(_0x2cb32b){case _0x3de0f4(0x3fe):_0xa05a0e=_0x3de0f4(0x485),_0x189b60=_0x3de0f4(0x95c);break;case'scheduled_pending':_0xa05a0e=_0x3de0f4(0xba3),_0x189b60=_0x3de0f4(0x673);break;case _0x3de0f4(0x870):_0xa05a0e=_0xe503cc!=='none'?_0x3de0f4(0xaba):_0x3de0f4(0x6ab),_0x189b60='text-green-700\x20bg-green-100';break;default:_0xa05a0e='ตั้งเวลา\x20(เปิด)',_0x189b60='text-green-700\x20bg-green-100';break;}let _0x2cb4e4='';const _0x720784={'day':_0x3de0f4(0x666),'month':'2-digit','year':_0x3de0f4(0x77e),'hour':_0x3de0f4(0x666),'minute':'2-digit','hour12':![]};if(_0xc5503d==='scheduled'){if(_0x489807[_0x3de0f4(0x519)])_0x2cb4e4+=_0x3de0f4(0xa54)+new Date(_0x489807[_0x3de0f4(0x519)])['toLocaleString']('th-TH',_0x720784)+'</p>';if(_0x489807['endTime'])_0x2cb4e4+=_0x3de0f4(0x8a7)+new Date(_0x489807[_0x3de0f4(0x1f5)])[_0x3de0f4(0x318)](_0x3de0f4(0x499),_0x720784)+_0x3de0f4(0x4fa);}let _0x2f8850='';if(_0x489807[_0x3de0f4(0x731)]){const _0x323315=allQuizzes[_0x3de0f4(0x5f4)](_0x3ba68c=>_0x3ba68c['id']===_0x489807[_0x3de0f4(0x731)]);if(_0x323315){let _0x31d82e,_0xa32bfc;new Date(_0x489807[_0x3de0f4(0x9a4)])<new Date(_0x323315[_0x3de0f4(0x9a4)])?(_0x31d82e=_0x489807['id'],_0xa32bfc=_0x323315['id']):(_0x31d82e=_0x323315['id'],_0xa32bfc=_0x489807['id']),_0x2f8850+=_0x3de0f4(0xc83)+_0xa32bfc+_0x3de0f4(0xc56)+_0x31d82e+_0x3de0f4(0x41a);}}else _0x489807[_0x3de0f4(0xce5)]===_0x3de0f4(0x40d)&&(_0x2f8850+=_0x3de0f4(0x8a6)+_0x489807['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x489807[_0x3de0f4(0xce5)]===_0x3de0f4(0x40d)&&_0x511f40>0x0)_0x2f8850+=_0x3de0f4(0x8a6)+_0x489807['id']+_0x3de0f4(0x66f);else!_0x489807[_0x3de0f4(0x731)]&&_0x489807['quizMode']!==_0x3de0f4(0x40d)&&_0x511f40>0x0&&(_0x2f8850+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x489807['id']+_0x3de0f4(0x1f6));let _0x11dc9f='';_0x489807[_0x3de0f4(0x731)]?_0x11dc9f=_0x3de0f4(0x80b)+_0x489807['id']+_0x3de0f4(0x426):_0x11dc9f='<button\x20data-quiz-id=\x22'+_0x489807['id']+_0x3de0f4(0xbfc),_0x42bf45+=_0x3de0f4(0x4e5)+_0x489807['id']+_0x3de0f4(0xc27)+_0x489807['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x489807[_0x3de0f4(0x92e)]['length']+_0x3de0f4(0x32e)+new Date(_0x489807['createdAt'])[_0x3de0f4(0x318)](_0x3de0f4(0x499))+_0x3de0f4(0x3ad)+_0x511f40+_0x3de0f4(0xba2)+_0x2cb4e4+_0x3de0f4(0x936)+_0x189b60+'\x22>'+_0xa05a0e+_0x3de0f4(0x2ca)+_0x489807['id']+_0x3de0f4(0x68d)+_0x489807['id']+_0x3de0f4(0x417)+(_0x489807[_0x3de0f4(0x738)]?'fas\x20fa-star\x20text-yellow-500':_0x3de0f4(0x924))+_0x3de0f4(0x620)+_0x2f8850+_0x3de0f4(0xa0e)+_0x489807['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x489807['id']+_0x3de0f4(0x7d9)+_0x489807['id']+_0x3de0f4(0x69c)+_0x489807['id']+_0x3de0f4(0xa38)+_0x489807['id']+_0x3de0f4(0x4d4)+_0x489807['id']+_0x3de0f4(0xb1c)+_0x489807['id']+_0x3de0f4(0xd32)+_0x489807[_0x3de0f4(0x613)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x489807['id']+_0x3de0f4(0x2aa)+_0x489807['id']+_0x3de0f4(0xb1d)+_0x11dc9f+_0x3de0f4(0xa93)+_0x489807['id']+_0x3de0f4(0x40f)+_0x489807['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x489807['id']+_0x3de0f4(0x45f)+_0x489807['id']+_0x3de0f4(0x524)+_0x489807['id']+_0x3de0f4(0x7ad)+_0x489807['id']+_0x3de0f4(0x3a4)+_0x489807['id']+_0x3de0f4(0x6e2)+_0x489807['id']+_0x3de0f4(0xd32)+_0x489807[_0x3de0f4(0x613)]+_0x3de0f4(0x633)+_0x489807['id']+_0x3de0f4(0xcff);}),_0x545ae2[_0x4084e2(0x9be)]=_0x42bf45,document[_0x4084e2(0x336)](_0x4084e2(0x435))[_0x4084e2(0x808)](_0x1938c1=>{const _0x42039f=_0x4084e2;_0x1938c1['addEventListener'](_0x42039f(0xb10),()=>{const _0x6a12b8=_0x42039f,_0x24e6fb=_0x1938c1[_0x6a12b8(0xaf8)][_0x6a12b8(0x25d)];showQuizDetailView(_0x24e6fb);});});}function _0x5602(){const _0xe00802=['original-mode-checkbox','warn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','scheduled_pending','\x5cpm','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','hasOwnProperty','startsWith','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','localeCompare','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','student-quiz-leaderboard-tab','playerName','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','#DBEAFE','\x20ตัวเลือก)','API\x20call\x20failed\x20with\x20status:\x20','results-tab-content','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','stdDev','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','.color-palette-popup','.delete-file-shortcut-btn','ไฟล์ทั้งหมด','Error\x20during\x20deep\x20delete:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','\x22\x20data-pre-test-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความคาดหมาย\x20(Expected\x20value)','Error\x20confirming\x20players:','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','bp-quiz-settings-btn','Error\x20updating\x20quiz\x20status:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20pairing\x20quizzes:','\x22\x20ออกจากคลังนี้?','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ระยะเวลา\x20(นาที):','summary_chart','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','manual_release','พิสัย','_opt1\x22>ไม่ใช่</label></div>','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','shouldSaveResults','\x20/\x20','shortcutTabs','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','tool','input[type=\x22checkbox\x22]','team-quiz-topic','ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','ฟังก์ชันลอการิทึม','สลับไปโหมดผู้ควบคุม','project-title','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','getElementById','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-submission-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','เพิ่มรายการที่เลือก','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','พิซซ่าหน้าทุเรียน','ก้อนเมฆ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tooltipTarget','ความน่าจะเป็นแบบมีเงื่อนไข','checkbox','</tr>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','body','comparison-individual-tab','8246628QkUYsF','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','behavior-log-tab-content','idealAnswer','write','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','trail','.pointsLastQuestion','globalSettings','not-found','Sync\x20Mode','/public/data/quizzes','mjx-container','Error\x20saving\x20file\x20shortcut\x20config:','Error\x20analyzing\x20file\x20for\x20topics:','หมีขั้วโลกใต้','$1\x20\x5cfrac','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x5csqrt{$1}','shortcutIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','analytics-tab-content','.bp-edit-topic-btn','additional-shortcuts-list','text-red-300\x20hover:text-red-100','dragend','answeredCurrentQuestion','Error\x20moving\x20quiz:','#E5E7EB','_opt1\x22\x20name=\x22question','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','now','การหาร','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','.shortcut-list-item:not(.opacity-50)','Error\x20verifying\x20answers\x20in\x20editor:','https://corsproxy.io/?','กำลังอ่านไฟล์\x20Test\x20Blueprint...','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','.quiz-bank-present-btn','\x20จุด','การเรียงสับเปลี่ยน\x20(Permutation)','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','ยังไม่มีนักเรียนส่งงาน','baseVal','_opt0\x22\x20name=\x22question','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','file-shortcut-editor-modal','แก้ระบบสมการด้วยเมทริกซ์','live-short-answer-input','behavior-log-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startedAt','appendChild','\x20สำเร็จ','Error\x20regenerating\x20question\x20in\x20editor:','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','next-question-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','ไม่พบข้อมูลโปรเจค','Error\x20generating\x20hybrid\x20quiz:','ผลรวมอนุกรม\x20(Σ)','blueprint.pdf','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','player-count','manage-tab','shortcuts','interesting-stats-wrapper','quizMode','shortcutId','การหารเศษส่วน','\x5ccdot','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการจับคู่','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ช่างภาพ','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','leaderboard','link-input-area','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','editable-quiz-topic','gamePin','ลบหัวข้อสำเร็จ','isCorrect','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','Error\x20saving\x20lesson\x20to\x20project:','drill-feedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','save-blueprint-as-project-btn','close-additional-file-shortcuts-btn','items','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จัดการ','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','รักแรกพบ','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','quiz-leaderboard-table-container','settings','.edit-hidden-shortcut-btn','student-progress-content','สร้างแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','groups','activeGameSession','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','game-start-modal-title','#FCE7F3','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','blueprint-topics-list-container','ตัวแปรและนิพจน์','font-bold\x20text-green-700','.ideal-answer-input,\x20.correct-response-input','topics','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','Error\x20deleting\x20quiz:','ไม่ผ่าน','modal-results-display-select','title','back-to-project-btn','size','rename-quiz-input','ต้นฉบับ\x201','<div\x20class=\x22space-y-4\x22>','.verification-result','text-white','ส้มตำปูปลาร้า','scratchpad-question','results-tab','ย้ายแบบทดสอบสำเร็จ','comeback_king','/public/data/liveGames','สร้างคำถามแบบใช่/ไม่ใช่','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','answered','การปัดเศษและประมาณค่า','.group\x5c/dropdown','พาราโบลา','\x22\x20data-topic=\x22','ไม่พบเอกสารการส่งงานของ\x20','ผู้ควบคุม\x20(ทดสอบ)','เกิดข้อผิดพลาดในการนำผู้เล่นออก','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','ปุ่มลัดทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','Error\x20saving\x20reference\x20URL:','Error\x20saving\x20file\x20shortcut:','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','</li>','back-to-student-home-btn','pointerdown','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การสร้างรูปด้วยวงเวียน–สันตรง','ไม่พบตารางสำหรับ\x20Export','lowerGroupNames','mode-switcher-btn','frac','translate(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','toLowerCase','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','.duplicate-quiz-btn','all','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','confirm-passcode-btn','<i\x20class=\x22fas\x20fa-save\x22></i>','isPasscodeEnabled','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','Error\x20saving\x20shortcut\x20config:','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ผิด','พลังคลื่นเต่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','isAdaptive','parallel-default-','กำลังค้นหากิจกรรม...','results-table-container','tan','teacherSuggestions','Error\x20deleting\x20shortcut:','generate-from-text-btn','ยังไม่ส่ง','\x20(สำหรับ\x20','ชีสเค้ก','ดอกเบี้ยอย่างง่าย','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','Error\x20processing\x20parallel\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','ไฟล์ลัด\x201','latestScore','bg-yellow-50','remove','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','createElementNS','screen','student-name-selection-view','\x20จาก\x20','student-join-game-view','เกมเมอร์','AI\x20แก้ไขคำถามสำเร็จ!','lower_group_count','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ปรับเพิ่ม/ลดเป็นร้อยละ','topic-bank-list','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','border-indigo-400\x20ring-2\x20ring-indigo-200','outerHTML','สมการตรีโกณมิติ','key','pen-tools-group','worksheet-tab','lastAnswerCorrect','modal-confidence-mode-container','div','Error\x20joining\x20team\x20quiz:','log','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','date_desc','confirm-not-confident','content','Error\x20opening\x20quiz\x20editor:','bulk-results-display-select','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','svg','Invalid\x20response\x20structure\x20from\x20AI.','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','confidence_single','totalQuestions','Error\x20adding\x20topic:','text-input-area','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','clientX','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','text-yellow-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','answer-grid-container','bottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','bg-gray-500','การบวกเศษส่วน','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','<li>','width','getAttributeNS','lastAnswerIndex','strokeStyle','desc','display','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','</strong></p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-800','วงกลม:\x20คอร์ดและเส้นสัมผัส','สรุปผลการวิเคราะห์:\x5cn','เพิ่มปุ่มลัดใหม่','</p><div>','ระบบสมการเชิงเส้นสองตัวแปร','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','blueprintUrl','อินฟลูเอนเซอร์','<tr><td\x20colspan=\x22','สาระที่\x201','ยกเลิกการเชื่อมโยงสำเร็จ','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','bg-green-200\x20text-green-900','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ซามูไรสายเดี่ยว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','user-id-display','ไม่พบข้อมูลเกม','closePath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','open-sync-scratchpad-btn','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','admin','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','scores-tab-btn','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','memoryContent','shortcut-modal-title','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','live-submit-short-answer-btn','summaryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x20หัวข้อ)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','nextElementSibling','timer-mode-select','quiz-start-time','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','เศษส่วน\x20(ย่อ/ขยาย)','players','isNormalTopic','rgba(79,\x2070,\x20229,\x200.8)','<div><input\x20type=\x22radio\x22\x20id=\x22q','OBJECT','additional-file-shortcuts-list','text-gray-700','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','createObjectURL','empty','Failed\x20to\x20generate\x20practice\x20test:','ชื่อโปรเจคห้ามว่าง','finished','โลมาบิน','textarea','schedule','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','perseverance','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','.move-shortcut-item','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','entries','bg-red-50','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','การแยกตัวประกอบ','Attempting\x20to\x20save\x20game\x20results...','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','Successfully\x20removed\x20','link-topic-input','เกิดข้อผิดพลาด:\x20','quiz-results','per_question','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ถูก','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-quiz-id','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pathname','create-project-btn','endTime','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่เต็มนะ','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','some','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','preTestId','.pen-size-btn','project-search-input','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','32736640Buzmmq','modal-timer-duration-label','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','highlighter-size-slider','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','จำนวนเต็มบวก','ปริพันธ์ไม่จำกัด','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','หมดเวลา!\x20กำลังส่งคำตอบ...','Error\x20updating\x20quiz\x20settings:','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','Re-grade\x20process\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','pop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','.live-answer-btn,\x20#sync-submit-btn','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','dblclick','นินจาชาเขียว','(คู่ขนาน)\x20','bg-red-100\x20text-red-800','Failed\x20to\x20end\x20group\x20mode\x20game:','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','difficultyValue','จากไฟล์ที่แนบมานี้,\x20','icon','addEventListener','Error\x20listening\x20for\x20student\x20profiles:','$$$1$','.presentation-option','แบบปรนัย\x204\x20ตัวเลือก','.pin-project-btn','<textarea\x20name=\x22question','bg-teal-500\x20hover:bg-teal-600\x20text-white','onloadend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-quiz-btn','lesson-plan-content','Error\x20updating\x20sort\x20preference:','topics.','bg-black/10','scratchpad-clear-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','นักเดินทาง','bg-green-200\x20text-green-900\x20font-bold','export-word-btn','สเกลและแผนที่','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','ธอร์ค้อนบิน','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','<div\x20class=\x22','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','medium','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','.project-card-container.opacity-50','classList','เน็ตไอดอล','.file-shortcut-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','questionText','.verification-result-editor','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','ondragstart','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','game-pin-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallelTestShortcutsConfig','analyze-strengths-btn','อยู่ในหัวข้อหลักใด:','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','instructions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizId','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','resultsDisplay','Error\x20saving\x20settings:','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','gradeLevel','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','status','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','math-topics-checkbox-container','รอผู้ควบคุมไปข้อต่อไป...','\x20กลุ่ม</p></div>','files','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','text','คนโสด','กำลังจับคู่...','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','bg-[#EF4444]\x20text-white\x20font-bold','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','การกระจายและการจัดหมู่','save','lowerGroupResponders','กำลังเตรียมไฟล์...','.generate-post-test-btn','blur','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classStrengths','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','setAttribute','ตัวเลือก\x20ง','topicId','fa-shield-alt\x20text-gray-600','transform','focus','newCorrectIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','All\x20groups\x20have\x20finished.\x20Ending\x20game.','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','Error\x20saving\x20game\x20results:','confidence-scoring-description','27411472','.cancel-edit-topic-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','#D1FAE5','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','correct','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','random','Error\x20during\x20class\x20analysis:','doughnut','multiply','decode','Error\x20saving\x20quiz:','catch','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','confidence-mode-select','save-parallel-shortcut-btn','ปริมาตรรูปทรงสามมิติ','json','.delete-shortcut-tab-btn','โหลดนาน','text-green-600\x20font-bold','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','mode','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','save-shortcut-btn','export-image-btn','quick_thinker','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-green-50','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x22\x20สำเร็จ','live-options-container','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','.lastAnswerCorrect','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x20แบบทดสอบลงในคลังสำเร็จ!','.summary-bar-item','set','pow','.score','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','```json','<div>','sync-manage-players-btn','confidence-choice-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','center','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','postScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','force-math-checkbox','players.','พอใช้','loop-until-pass-checkbox','toDate','สุดยอด!\x20ตอบถูกทุกข้อ','<button\x20data-shortcut-id=\x22','confirm-team-players-btn','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','close-comparison-modal-btn','list','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','smooth','export-leaderboard-word-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','height','.bp-create-content-quiz-btn','create-project-modal','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','ตรวจพบการออกจากหน้าจอครบ\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','leaderboard_','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','onclick','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','additional-parallel-shortcuts-modal','file-shortcut_','closest','-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการติดดาว','.quiz-bank-move-btn','เส้นรอบรูป','memory','rgba(239,\x2068,\x2068,\x200.7)','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','.ai-content\x20td','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','studentName','Error\x20starting\x20group\x20quiz:','พบ\x20Sync\x20Game!','แม่น้ำ','#F3E8FF','setFont','standard','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','กิจกรรมสิ้นสุดลงแล้ว','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x22.\x20Ideal\x20Answer:\x20\x22','SAFETY','student-initial-view','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','กำลังสร้างรูปภาพ...','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-bulk-quiz-settings-btn','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','QUICK_THINKER','Error\x20joining\x20live\x20game:','เซียนสมองไว','\x5cge','every','แก้ไขสูตรคณิตศาสตร์\x20','ฐานนิยม','ยูทูปเบอร์ฝึกหัด','stroke','input','generate-from-blueprint-btn','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20</div>','loader-text','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','103765LtCpiS','ย้าย','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.highlighter-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','save-quiz-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','/public/data/projects/','map','keydown','add','student-quiz-topic','rows','/public/data/customMathTopics','</div></div>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','Error\x20deleting\x20all\x20students:','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','<p\x20class=\x22font-bold\x20text-sm\x20','text/csv;charset=utf-8;','\x20in\x20all\x20blueprint\x20projects.','</div><div\x20class=\x22space-y-2\x22>','querySelectorAll','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','fileShortcutOrder','s;\x22\x20title=\x22','onload','สอบซ่อม','Error\x20saving\x20parallel\x20shortcut:','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','null','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','scratchpad-controls','save-bp-settings-btn','bank-input-area','student-team-join','submit-group-answer-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการแก้ไข','STOP','move','Error\x20submitting\x20group\x20answer:','</td>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.star-quiz-btn','questionType','</h3>','projectView','hint','duration-300','isScored','file-topics-list','showRankings','.file-shortcut-btn[data-id=\x22','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','multiple_choice','border-gray-200','404\x20Not\x20Found','hidden','manual-bp-content','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x0a\x20\x20\x20\x20','\x22,\x20','.delete-question-editor-btn','incorrect','include-images-checkbox','.topic-actions-view','NUMBER','fa-rocket\x20text-purple-500','preScore','.doc','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','results-quiz-title','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','from','result','quiz-editor-questions-container','\x5csum','export-worksheet-pdf-btn','comparison','touches','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','lineWidth','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','บันทึกการตั้งค่าสำเร็จ','Error\x20updating\x20pin\x20status:','PERFECT_SCORE','คะแนนเต็ม!','lesson-sections-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำอธิบาย...','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-content-btn','หนอนหนังสือ','perfect_score','ลบผลสอบของ\x20','groups.','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','manual-blueprint-modal','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','delete-svg-btn','text-purple-600','COMEBACK_KING','cdot','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','subTopics','split','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','parent','transition-all','การลบทศนิยม','student-project-leaderboard-table-body','next-drill-btn','Error\x20saving\x20project\x20order:','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','attempts','circ','blueprintShortcuts','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','สมการค่าสัมบูรณ์','text-content-input','ที่พิมพ์ได้\x20จำนวน\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ครัวซองต์','sqrt','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','group','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','เกิดข้อผิดพลาด','กรุณาเลือกโปรเจคที่ต้องการบันทึก','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-prompt-message','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz','\x22>จาก:\x20','.shortcut-list-item','anonymous','-\x20ข้อ\x20','bp-modal-shuffle-setting-select','text-tab','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','ท้องฟ้า','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x22\x20value=\x22','badgesCount','GlobalWorkerOptions','สายลมแห่งโชคชะตา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','bg-red-100','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','.bp-present-btn','\x20|\x20ID:\x20','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','className','file-default-2','pointContent','generate-from-file-btn','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','eraser-tools-group','confirm-confident','passing-score-input','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','กุ้งเต้นแร้งกา','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-options','.quiz-bank-try-btn','goto-next-question-btn','API\x20Error\x20Response:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','eraser','cancel-rename-quiz-btn','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','.delete-parallel-shortcut-tab-btn','topicName','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','leaderboard-quiz-tab-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-50','\x20คะแนน\x20','ฟังก์ชันพหุนาม','parts','presentation-explanation','STRING','\x22><span>','not_confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','มือปราบสายรุ้ง','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<span\x20class=\x22sort-indicator\x20ml-2\x22>','sync','เกิดข้อผิดพลาดในการลบแบบทดสอบ','selected-topics-count','pointerType','true_false','โดเมนและเรนจ์','จำนวนเชิงซ้อน\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','ไม่สามารถโหลดคลังข้อสอบได้','inactive','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','selectedTopicNames','save-file-shortcut-btn','text-emerald-800','บักแตงโม','.delete-hidden-file-shortcut-btn','/public/data/teamQuizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','Error\x20starting\x20live\x20race:','.question-editor-item:last-of-type','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','pre-test','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','หลังเรียน','padStart','allResponses','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','</div>','td,\x20th','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนข้อ:','preTScore','getScreenCTM','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','main-correct-answer-display','.shortcut-tab-btn','scrollY','cloneNode','blueprint-project-manager-view','newappai.firebaseapp.com','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','jspdf','bg-emerald-100','NEGATIVE_INFINITY','complexityValue','grabbing','จับคู่แบบทดสอบสำเร็จ!','<span\x20title=\x22','cancel-quiz-edits-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','quiz-status-modal','ไม่สามารถสร้างโปรเจคได้','(หลังเรียน)\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','Error\x20processing\x20file\x20shortcut\x20click:','.quiz-result-card','cancel-game-start-btn','.move-parallel-shortcut-item','ฟังก์ชันราก\x20(root)','document','lineCap','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','currentQuestionIndex','webkitExitFullscreen','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','verify-answers-editor-btn','ใช่\x20/\x20ถูก','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','passingScore','enable-passcode-checkbox','/public/data/quizzes/','ความชันและเส้นตรง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','open-blueprint-projects-btn','textContent','พื้นที่ผิวรูปทรงสามมิติ','dashboardConfig','ทะเล','.status','timerDuration','source_document.pdf','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','topic-bank-subtopic-name','.ideal-answer-input','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','-options\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20teaching\x20content:','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','แบบทดสอบนี้หมดเวลาแล้ว','bg-green-200','ระยะทางและจุดกึ่งกลาง','practiceProblems','ไม่พบไฟล์\x20Test\x20Blueprint','confident','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','endsWith','parallel-default-2','Error\x20loading\x20blueprint\x20projects:','ผู้เชี่ยวชาญ','application','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','dispatchEvent','Error\x20saving\x20parallel\x20shortcut\x20config:','quiz-id-input','Error\x20saving\x20questions\x20to\x20practice\x20bank:','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','file-shortcut-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','onchange','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','getPage','.answeredCurrentQuestion','tab_','สำหรับโปรเจค:\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','admin-password-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','pointermove','mixed','clearRect','gain','ไก่ฟ้าพญาลอ','ปิดใช้งาน','กำลังสร้างเนื้อหา:\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','close-game-final-btn','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นตรง:\x20รูปแบบสมการ','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','text-gray-300\x20hover:text-white','parallel-shortcuts-loading-msg','<option\x20value=\x22','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','correctResponse','ก่อนเรียน','text-red-800','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','รายการนี้','bulk-confidence-mode-select','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','th-TH','confidence','Error\x20saving\x20user\x20preference:','\x5cfrac{$1}{$2}','manual-bp-project-name','release','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','unshift','cancel-bp-settings-btn','.quiz-bank-item','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','.start-presentation-list-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','touchstart','dimmed','times','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','ข้อต่อไป','quiz-search-input','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','bg-green-500','</h4>','input[name=\x22status-option\x22]:checked','การแปลงรูปอัตลักษณ์','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','open','undo-btn','.topic-category','Error\x20calling\x20Gemini\x20API:',';\x22\x20data-id=\x22','#retake-for-improvement-btn','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','.delete-shortcut-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','bg-blue-500\x20hover:bg-blue-600\x20text-white','กำลังสร้างบทเรียน:\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default-1','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','Error\x20generating\x20lesson\x20plan:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','worksheet-input-area','stringify','correctAnswer','.subTopic','(ไม่มีชื่อ)','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','จับคู่เพื่อเปรียบเทียบผล','option','สมการเหตุผล\x20(rational)','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','.linkedQuizId','getElementsByTagName','mouseup','ฮัลค์','data','.txt','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','แบบเติมคำตอบ','สมการเชิงเส้นตัวแปรเดียว','subTopic','Error\x20editing\x20topic:','no-projects-msg','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','text-blue-800','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','ยืนยันการกระทำ','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollIntoView','\x20quizzes\x20into\x20global\x20cache.','การคูณเศษส่วน','rename-quiz-modal','lesson-loader','แท็บใหม่','เกิดข้อผิดพลาดในการสร้างใบงาน','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.group\x5c/dropdown-file','submit-team-answer-btn','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','bp-modal-include-images-checkbox','</p>','num-questions','กรุณาเลือกคำตอบก่อนครับ','/public/data/learnedFixes','\x22\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-link-quiz-btn','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-row','FIRST_TRY_ACE','ระบบอสมการ','reference_onet.pdf','student-team-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','clientY','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','รูปหลายเหลี่ยมและมุมภายใน','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','student-view','disabled','isAnonymousRevealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','.delete-svg-btn','startTime','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','.start-live-race-btn','เมทริกซ์:\x20บวก/คูณ','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','timer-duration-input','adaptive-quiz-checkbox','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x20จุดเรียบร้อยแล้ว','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','generationConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','ฟังก์ชันยกกำลัง','กรุณาสร้างบทเรียนก่อน','สอบปกติ','delete-all-students-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','latestSubmittedAt','loader','confirm-delete-btn','5606bKXESz','.toggle-actions-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-from-results-btn','scratchpad-close-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แคลคูลัสเบื้องต้น','results-display-select','\x20|\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ย้ายแบบทดสอบไปโปรเจคอื่น','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','ดีมาก','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','comparison-chart','นักเขียน','contains','พื้นที่สามเหลี่ยม','Error\x20deleting\x20project:','ondblclick','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','values','.csv','\x22\x20จำนวน\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','offset','กรุณาเลือกคำตอบของกลุ่ม','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinned-items','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blueprint-settings-modal','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','global-activity-modal','removeAttribute','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','ARRAY','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','ไม่มีผู้ตอบตัวเลือกนี้','text-gray-200','p-2\x20bg-black/10\x20rounded-md','globalCompositeOperation','แบตหมด','generate-from-parallel-test-btn','file-default-1','พีชคณิตและฟังก์ชัน','.ai-content\x20li','<p\x20class=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','student','progress-project-select','ความชันเส้นสัมผัส','นักวิทยาศาสตร์','ระยะเวลา\x20(วินาที):','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','fixedData','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','input[name=\x22syncVariant\x22][value=\x22classic\x22]','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','max','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','add-file-shortcut-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','Failed\x20to\x20generate\x20lesson:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','right','loopUntilPass','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','Error\x20starting\x20sync\x20game:','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','beginPath','category','results-quiz-id-display','สายลับจับบ้านเล็ก','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','font-bold\x20text-red-700\x20line-through','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','match','justification','Error\x20confirming\x20players\x20for\x20sync\x20game:','quiz-leaderboard-table','นกฮูกกลางวัน','behavior-log-container','\x22\x20class=\x22delete-project-btn\x20','autoTable','pen-tool-btn','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20starting\x20game:','cancel-shortcut-edit-btn','%</span>','quiz-results-view','[data-field=\x22subTopic\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','AI\x20did\x20not\x20return\x20any\x20content.','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','style','dragover','behaviorLog','shortcut-editor-modal','fix\x20the\x20option','กรุณาป้อนรหัสแบบทดสอบ','parallel-shortcut-editor-modal','ครูใหญ่','open-quiz-bank-btn','เรขาคณิตวิเคราะห์','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','modal-message','รูปสแควร์รูท\x20(surd)','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','จอมเวทย์ขนมหวาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.move-shortcut-dropdown','applicationContent','export-tutor-pdf-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-unlink-quiz-btn','team','สู้ๆ\x20ลองอีกครั้งนะ','delete','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','numChoices','reset-view-btn','#000000','setTransform','</p><p><strong>เฉลย:</strong>\x20','members','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่ม\x20','stopPropagation','order','เกิดข้อผิดพลาดในการส่งคำตอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100','Error\x20in\x20handleApiCall:','ตรวจทานเฉลยเสร็จสิ้น!','\x5cneq','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','หมดเวลาสำหรับข้อนี้!','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','อนุพันธ์:\x20กฎพื้นฐาน','กรุณาเลือกสถานะ','parallel-shortcut-tabs-nav','Error\x20saving\x20quiz\x20edits:','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','นักดนตรี','คู่จิ้น','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','href','สลับไปโหมดนักเรียน','ฟังก์ชันสัมพัทธ์\x20(rational)','ตัวเลือก\x20ก','slice','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22answer-space\x22></div>','generate-from-link-btn','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','requestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','.tab-name-input','ฟังก์ชันแบบชิ้นส่วน','บทเรียน','comparison-modal','project-quizzes-list','ON_FIRE','editor-quiz-topic','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','whole_quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','gameVariant','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','confirm-admin-login-btn','password-error-msg','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.ai-fix-formula-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','find','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','scores-tab-content','ระยะจากจุดถึงเส้นตรง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','Error\x20updating\x20old\x20quizzes:','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','องค์ประกอบของฟังก์ชัน','.space-y-1.pl-4','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','false','ไม่ใช่\x20/\x20ผิด','Error\x20deleting\x20topic:','visibilityState','minHeight','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','เปลี่ยนชื่อโปรเจคสำเร็จ','ondrop','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','topic-tab','raw','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','scale','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','worksheet-topic-input','topic','grid-view-btn','presentation-short-answer-input','.delete-hidden-parallel-shortcut-btn','student-result-area','.linkedQuizIds','ไม่พบแบบทดสอบในระบบเลย','รีเซ็ตลำดับโปรเจคแล้ว','\x20(p=','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','classWeaknesses','dragstart','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','admin-testing','bg-green-100\x20text-green-800','show-results-btn','draggable-text','toString','responseSchema','POST','เกิดข้อผิดพลาดในการลบผลสอบ','3269576koudCM','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สายหมอก','input[name=\x22syncVariant\x22]:checked','parseInline','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','file-topics-list-container','text-emerald-900','เลือกและเริ่มสร้าง','quadraticCurveTo','check-answer-btn','</span></td>','prev-question-btn','.lastAnswerValue','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','ไฮเพอร์โบลา','.admin-try-quiz-list-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','point','admin-view','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','ลาเต้ไม่หวาน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','per-question-text','พื้นที่วงกลม/ส่วนของวงกลม','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','เกิดข้อผิดพลาดในการอัปเดต:\x20','toggle','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','กองดอง','การแจกแจงปกติและ\x20z-score','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar','lesson-plan-modal','sync-player-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','bg-yellow-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','คณิตการเงิน/บูรณาการ','input[type=\x22text\x22]','\x22...','.move-file-shortcut-dropdown','starred','ตรวจคะแนนใหม่\x20','add-shortcut-btn','modal-loop-until-pass-checkbox','2-digit','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','answerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ตรีโกณมิติ','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','fill_in_the_blank','modal-timer-duration-container','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','mousemove','.move-parallel-shortcut-menu-btn','text-blue-700\x20bg-blue-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.tab-name-display','game-start-mode','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','default-2','get','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','toISOString','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x20</div>\x0a\x20\x20\x20\x20','</label></div>','ส่งคำตอบ','cancel-test-btn','input[type=\x22checkbox\x22]:checked','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','splice','กรุณาตั้งชื่อแท็บใหม่:','sync-player-management','.quiz-bank-checkbox:checked','learningGaps','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คะแนนยังไม่ถึงครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20deleting\x20custom\x20topic:','dataIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','การจัดหมู่\x20(Combination)','answer','post-test','cancel-manual-bp-btn','shortcuts-loading-msg','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','originalQuestionText','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','answerText','fileShortcutsConfig','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','กรุณาเลือกโปรเจคปลายทาง','mandatory','submit','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','generated','พบ\x20Team\x20Quiz!','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','เปิดใช้งาน','removeChild','type','ไม่ได้ตอบ','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','shadowColor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามดิบ:\x20\x22','</a>','student-passcode-input','prod','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','ลำดับเรขาคณิต\x20(GP)','onkeydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','mean','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ทำคะแนนได้เกินครึ่ง','.shortcut-btn','แก้ไขหัวข้อสำเร็จ','border-red-700','responses','Error\x20displaying\x20blueprint\x20project:','สร้างแบบทดสอบ','สร้างโปรเจคสำเร็จ!','แมวเก้าชีวิต',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','show-in-student-dashboard-checkbox','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','rgba(239,\x2068,\x2068,\x200.9)','filter','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','devicePixelRatio','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','จำนวนคละ','fill_in_no_choices','fa-crown\x20text-yellow-500','อัปเดตพฤติกรรมสำหรับ\x20','nickname-input','back-to-results-btn','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','offsetWidth','สถานะไม่ชัดเจน','quiz-settings-modal','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','flex','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','file-upload-input','touchmove','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','bg-black/20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','stem','confirm-game-start-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','ไฟล์ลัด\x202','#parallel-shortcut-tabs-nav\x20.tab-name-input','confidence-scoring-checkbox','btn','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','/public/data/blueprintProjects','.edit-hidden-file-shortcut-btn','<button\x20id=\x22','bg-[#DCFCE7]\x20text-green-900','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','keyConcepts','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','cancel-move-quiz-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20ชุดสำเร็จ!','มัธยฐาน','ไม่สามารถโหลดรายการโปรเจคได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','<div\x20class=\x22p-2\x20rounded-md\x20','cancel-admin-login-btn','comparison-individual-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการเปลี่ยนสี','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','afterend','\x20คะแนน</span></div>','Error\x20showing\x20quiz\x20detail\x20view:','Firebase\x20initialization\x20failed:','classic','isLooping','link-url-input','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</button>','\x22\x20class=\x22color-palette-btn\x20','overline','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','replace','</body></html>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-quiz-type-select','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','temp-loader-text-results','Error\x20displaying\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-player-management','shuffle','generated-quiz-actions','บทเรียนเรื่อง:\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','confidenceMode','เลือกโปรเจคเพื่อบันทึก','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','.use-hidden-parallel-shortcut-btn','จันทร์เจ้า','lesson-view-title','timer-duration-label','export-leaderboard-excel-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','bg-red-500','pen','join-group-activity-btn','pairedQuizId','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','perfect_score_status','ดีเทอร์มิแนนต์','ตัวเลือก\x20ข','5975472Xtddtd','isStarred','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','คะแนนเต็ม','close-presentation-btn','Error\x20saving\x20visibility\x20settings:','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','destination-out','ชาไข่มุก','/public/data/syncGames','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','list-view-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-create-topic-quiz-btn','.pdf','submission-status-chart','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','commonMistakes','Error\x20fetching\x20projects\x20for\x20move:','bp-modal-question-complexity-select','คัดลอกรหัสแล้ว!','insertAdjacentHTML','.question-editor-item','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','Error\x20preparing\x20content\x20quiz:','modal-shuffle-select','<tr\x20class=\x22','modal-timer-mode-select','\x20ข้อ...','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','.project-card-container:not(.opacity-50)','ทำคะแนนเต็มในการทำครั้งแรก','<button\x20data-id=\x22','แบบทดสอบนี้ปิดใช้งานอยู่','cancel-global-activity-btn','indexOf','visibilitychange','เหมียวขี้เซา','นักล่าฝัน','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','export-lesson-pdf-btn','modal-close-btn','ลำดับเลขคณิต\x20(AP)','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','select[name=\x22question_single\x22]','Test\x20Blueprint','imageCode','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalAlpha','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','.parallel-shortcut-btn','readAsArrayBuffer','หน่วยความยาวและการแปลง','???','blockReason','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','#add-question-editor-btn','totalPoints','numeric','input[type=\x22radio\x22][value=\x22','bg-green-100\x20font-bold','includeImages','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','authed_project_','questionId','ref','shortcut_','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','.quiz-status-btn','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','เริ่มกิจกรรม:\x20','cancel-quiz-settings-btn','Error\x20fetching\x20quiz\x20settings:','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','eraser-tool-btn','summary','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','รหัสไม่ถูกต้อง','target','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','แบบทดสอบจากคลังส่วนตัว','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','ไม่พบโปรเจคที่ต้องการลบ','index','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','FileReader\x20error:','join','</select>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','PROMPT_PLACEHOLDER','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','<option\x20value=\x22\x22>กำลังโหลด...</option>','สายตาสั้น','student-quiz-leaderboard-table-body','keys','touchend','\x20รายการ...','.parallel-shortcut-tab-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','admin-password-input','newOptionsPayload','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-list','.submittedAt','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','answers','confirm-create-project-btn','add-parallel-shortcut-btn','สมการยกกำลัง','q-image-container-','.scratchpad-content-wrapper','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x27\x20ในหัวข้อ\x20\x27','questionDisplayedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','.topic-name-input','presentation-ai-result','sync-matching-select','(ก่อนเรียน)','playerNicknames','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','เน็ตช้า','</form>','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','getBBox','show_pass_fail_only','border-green-700','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wheel','parallel-shortcut-container','parentElement','newOptions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','.group\x5c/dropdown-parallel','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','timestamp','has','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลผู้ใช้','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','webkitRequestFullscreen','ค่าเสื่อมราคา','.mb-6.p-4','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','presentation-slide-container','clear-all-links-btn','.bp-live-btn','restore','เกิดข้อผิดพลาดในการอัปเดตสถานะ','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','name_asc','execCommand','quiz-editor-modal','.application-options\x20button','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Error\x20updating\x20project\x20color:','<button\x20data-tab-id=\x22','save-project-name-btn','upperGroupNames','อกหัก','ความแปรปรวน','บันทึกคำถามใหม่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','.bp-generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','กรุณาเลือกไฟล์ก่อน','คำถามถัดไป','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','มุมพิเศษ\x2045°-45°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-container-id]','บันทึกผลการเล่นเกมของ\x20','projectOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาใส่ชื่อใหม่','\x20คนที่ส่ง\x20ตอบถูก\x20(','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','min','forEach','leq','end-game-btn','<button\x20data-quiz-id=\x22','back-to-dashboard-from-bp-btn','deltaY','กาแฟขม','close-lesson-view-btn','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','live-race','<div\x20class=\x22flex-1\x22></div>','project-dashboard-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-analytics-container','bulk-shuffle-select','.generate-easy-version-btn','ลบแบบทดสอบสำเร็จแล้ว','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','.remove-parallel-shortcut-from-tab-btn','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20submitting\x20team\x20answer:','.ai-content\x20blockquote','[*]','manual-create-blueprint-btn','currentTarget','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','811384PHALhG','handleGenerateAndShowLesson','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>','scrollX','bestScore','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','arrayBuffer','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sort','parallel-shortcut-id-input','\x20\x20\x20-\x20','separate-by-content-checkbox','อนุพันธ์:\x20กฎลูกโซ่','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','touch','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','หมูกระทะจะเยียวยาทุกสิ่ง','project-list','deg','back-to-student-initial-btn','resize','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','referenceUrl','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.flex.justify-between.items-center','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-detail','confirm-join-game-btn','#6366F1','อัตราและอัตราหน่วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','request','อสมการค่าสัมบูรณ์','bp-modal-num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','Group\x20Mode','.live-answer-btn','Error\x20analyzing\x20blueprint\x20topics:','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/blueprintProjects/','getItem','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','fileShortcutTabs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-quiz-leaderboard-content\x20thead','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','standardTopic','.kick-player-btn-sync','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Auto-linking\x20new\x20quiz\x20','floor','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','blueprint-project-list','กรุณาเลือกชื่อของคุณ','wakeLock','pointerup','เลือกและบันทึก','numQuestions','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','applicationData','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','Error\x20unlinking\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','q-text-','.move-quiz-btn','ค่าคลาดเคลื่อนของการวัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','global-quiz-count','#file-shortcut-tabs-nav\x20.tab-name-input','cancel-team-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ฟังก์ชันเชิงเส้นและกราฟ','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','submission','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','answering','matching','.file-topic-selection-btn','.color-palette-btn','\x22\x20data-target-tab-id=\x22','กำลังอ่านไฟล์อ้างอิง...','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','ข้อ\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','Team\x20Quiz','label','<h1></h1>','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','project-detail-view','grid','คณิตศาสตร์','อนุพันธ์:\x20ผลคูณ/ผลหาร','function','close-student-rankings-btn','previousElementSibling','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','showInStudentDashboard','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','students','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','on_fire','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','first_try_ace','MathJax','นักกีฬา','text/plain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','application/pdf','additional-shortcuts-modal','แก้ไขชื่อหัวข้อย่อย:','neq','confidence-modal','/lessons','color','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','global-activity-quiz-list','ผ่านฉลุย','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','ส่วนเบี่ยงเบนเฉลี่ย','moveTo','.view-bp-lesson-btn','API\x20Error\x20Body:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','textarea[name=\x22team_answer\x22]','อัศวินรัตติกาล','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','.ai-content\x20p','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','presentation-scratchpad-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','curriculum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','teachingContent','string','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.open-bp-project-btn','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','546yMmiKp','project-passcode-input','ชนิดของข้อมูลและการเก็บข้อมูล','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','AI\x20Fix\x20Error:','verify-answers-btn','Error\x20during\x20blueprint\x20link\x20cleanup:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','drop','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','คะแนนเฉลี่ย','quiz-form','lesson-view-modal','student-project-leaderboard-content','หน่วยเวลาและการคำนวณเวลา','กระต่ายตื่นตูม','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','sync-submit-btn','บันทึกการตั้งค่าแล้ว','modal-confidence-mode-select','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.regenerate-question-btn','#open-additional-file-shortcuts-btn','total','parallel-shortcut-modal-title','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-create-project-btn','fill_in_with_choices','undefined','topic-quiz-bank-modal','hasPerfectScoreBonus','currentMode','projectSortOrder','แผนการสอน:\x20','practice-topic-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','answer-counter','wasConfident','file-shortcut-name-input','-options','.generate-lesson-btn','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','isRemedial','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','per-q-countdown','#F59E0B','สรุปผลสุดท้าย','fadeStartTime','file-input-area','Error\x20fetching\x20lesson\x20content:','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','จำนวนเต็มลบ','ความต่อเนื่อง','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','จากเนื้อหาต่อไปนี้:\x20\x22','ondragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','/questionBank','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-blueprint-url-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.delete-student-btn','bg-gray-200\x20text-gray-700','มุมพิเศษ\x2030°-60°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','overallGroups','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22font-bold\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','typesetPromise','qType','cancel-export-pdf-btn','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','.\x20แต่ละข้อมี\x20','83oJpgvF','.group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','far\x20fa-star','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','ดาวสภา','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','บันทึกโปรเจค\x20\x22','options','start-presentation-btn','#26890c','ความคล้ายของรูป','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','questions','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','move-quiz-project-select','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','view-my-progress-btn','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','shortcut-reference-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','การคูณ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ดาบพิฆาตอสูร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','<div\x20class=\x22mb-3\x20topic-category\x22>','<br>','sara','กราฟแท่ง\x20กราฟเส้น','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','การวัด','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','คัดลอกแบบทดสอบสำเร็จ','change','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','scratchpad-modal','ลิมิต','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','#FFFFFF','student-project-leaderboard-tab','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','team-player-status-grid','.ai-content\x20h3','podium','.quiz-bank-parallel-btn','touchcancel','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','separate-by-content-from-file-checkbox','scratchpad-canvas','trim','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','next-question-timed-btn','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','text-red-700\x20bg-red-100','disabled\x20bg-gray-400\x20cursor-not-allowed','lesson-view-content','file.txt','findIndex','opacity','แผนภาพเวนน์','ยกเลิกการจับคู่สำเร็จ','difficulty-level-select','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','modal-adaptive-quiz-checkbox','โจรสลัดอวกาศ','รอ...','_new','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','topic_','516499432840','export-pdf-modal','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','text-red-500\x20hover:text-red-700','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','ต้นฉบับ\x202','parallel-test-upload-input','not_generated','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','bg-blue-100','Error\x20committing\x20score\x20updates:','isDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','project-id-display','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','gameData','cancel-quiz-bank-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','---\x20[คำถามใหม่]\x20---','pinnedProjects','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','text-blue-700','opacity-50','timerMode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','kick-player-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','perQuestionStats','url','/studentProfiles','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','top','class','\x0a---\x0a','#results-table','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','txt','Error\x20verifying\x20answers:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overflowY','print','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','.pen-color-btn','student-rankings-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','createdAt','mousedown','contentEditable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','.png','admin-try-quiz-btn','reduce','suggestedAnswer','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x5ctimes','.quiz-settings-btn','การจัดกลุ่มข้อมูล','การนับ','close-additional-shortcuts-btn','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','Error\x20generating\x20from\x20link:','student-reading-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','คัดลอกไม่สำเร็จ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','admin-dashboard','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','handleGeneratePracticeTest','ผู้เล่น\x20','bg-green-500\x20hover:bg-green-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','การยืนยันตัวตนล้มเหลว','confirm-game-start-modal','mainTopics','เปลี่ยนชื่อแบบทดสอบสำเร็จ','ฮิสโตแกรม','.auto-resize-textarea','user','add-custom-math-topic-btn','timed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-input-area','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','Original\x20quiz\x20not\x20found','projectSort','กรุณาพิมพ์คำตอบ','.draggable-text','.rename-quiz-btn','อินเวอร์สของเมทริกซ์','student-progress-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','live-game','.compare-results-btn','การคูณทศนิยม',':</span><span>','ค่าสัมบูรณ์','back-to-home-manual-release','.edit-hidden-parallel-shortcut-btn','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x22\x20name=\x22confidence','quiz-generation-area','px)\x20scale(','.correct-response-input','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','100px','after','button','ติดซีรีส์','additional-parallel-shortcuts-list','สิงโตยิ้ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ผู้ไม่ยอมแพ้','cursor','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','player-list-lobby','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','reviewQuestionIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','tabId','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','quizType','reference.txt','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','การประยุกต์เวกเตอร์พื้นฐาน','ไม่พบข้อมูลการจับคู่','.lastAnswerIndex','bulk-quiz-settings-btn','generated-quiz-container','ทศนิยม\x20(ค่าประจำหลัก)','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','move-quiz-modal','confidence-input-','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','bp-reference-file-url','starred-project','default-','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','pre-test-checkbox','name_desc','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','selected-answer-index-hidden','add-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','fullscreenchange','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','การลบเศษส่วน','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนและสัดส่วน','student-name-select','text-green-600','ภูเขา','</span>','ข้อที่\x20','checked','editable-text-','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','postTScore','fas\x20fa-user-edit','กำลังอ่านและเตรียมไฟล์...','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','num-choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-settings-btn','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','text-gray-500','.delete-project-btn','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msExitFullscreen','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การแจกแจงทวินาม\x20(พื้นฐาน)','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','file.pdf','.delete-parallel-shortcut-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','length','#FEE2E2','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','leaderboard-tab','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','select','back-to-dashboard-from-results-btn','start-quiz-btn','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','/users/','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','#open-additional-shortcuts-btn','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','dim-overlay','substring','Failed\x20to\x20create/update\x20submission\x20record:','visible','next-sync-question-btn','_opt0\x22>ใช่</label></div>','show-final-results-btn','กราฟฟังก์ชันตรีโกณ','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','.edit-question-btn','ไม่พบโปรเจค','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','_opt','badges','.project-card-content','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','innerText','fromCharCode','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','lineJoin','file-shortcut-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal-names-btn',',\x20r=','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','.quiz-bank-delete-btn','mouseleave','data:application/vnd.ms-word;charset=utf-8,','getContext','ไม่พบข้อมูลข้อสอบหลังเรียน','บันทึกแบบทดสอบสำเร็จแล้ว!','round','close-additional-parallel-shortcuts-btn','upperGroupResponders','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','results-table','originalTopic','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','.bp-delete-topic-btn','blueprint-options-container','input[type=\x22radio\x22]:checked','reference-pdf-upload','pointercancel','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','blueprint-projects-modal','.sort-indicator','แบบทดสอบฝึกฝนเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','question','กรุณาใส่ชื่อโปรเจค','.file-shortcut-tab-btn','ondragend','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','flex\x20flex-col\x20gap-2','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','.regenerate-question-editor-btn','onblur','ลบโปรเจคสำเร็จแล้ว','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','bulk-confidence-scoring-checkbox','load-quiz-btn','ดอกเบี้ยทบต้น','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-',')\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-count','ceil','text-green-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','blueprint-shortcut-container','file-shortcut-id-input','Error\x20loading\x20quiz\x20for\x20student:','PERSEVERANCE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','applicationHTML','นอนไม่พอ','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attemptNumber','text-red-600','finishReason','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20adding\x20custom\x20topic:','3PctUcF','line-through\x20text-red-700','submissions','ความสัมพันธ์ของมุม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','[data-topic-id=\x22','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','border-green-300\x20bg-green-50','true','results_','export-lesson-to-pdf-btn','bp-modal-difficulty-level-select','position','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.isScored','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','ค.ร.น.\x20(LCM)','<div\x20id=\x22q-image-container-','error','\x20to\x20blueprint\x20topic\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','shortcutOrder','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','Error\x20saving\x20blueprint\x20project:','value','เปิด\x20(จับเวลา)','Error\x20in\x20generating\x20from\x20files:','.project-card-container[data-id]','Enter','_blank','N/A','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','</div></div></div>','blueprint-upload-input','ไม่สามารถเริ่มเกมได้','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','stepByStepExamples','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','source-over','เกมสิ้นสุดลงแล้ว','เกิดข้อผิดพลาดในการอ่านไฟล์','geq','text-indigo-700','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','input[name=\x22drill_answer\x22]:checked','onerror','ownerSVGElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','qIndex','ยอดเยี่ยม!','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','parse','getTextContent','asc','beforeend','additional-file-shortcuts-modal','Could\x20not\x20fetch\x20reference\x20file:','none','ดอทโปรดักต์\x20(dot)','.save-custom-topic-btn','ไม่ใช่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','...','newappai.firebasestorage.app','border-indigo-500\x20text-indigo-600','เกิดข้อผิดพลาดในการสร้าง:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-grade-level','block','reset-project-order-btn','showImproveButton','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','กำลังสร้างคำถามข้อ\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','close-comparison-modal-footer-btn','(คัดลอก)\x20','leaderboard-tab-content','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','สมการราก\x20(radical)','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','ยืนยันและอัปเดตทั้งหมด','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','application/json','.copy-quiz-id-list-btn','Error\x20deleting\x20student:','dataset','Error\x20generating\x20worksheet:','matching_item','question-complexity-select','/public/data/projects','ส่วนเบี่ยงเบนมาตรฐาน','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','</option>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','close','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cdiv','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','test','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','leaderboard-table-body','px,\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<div\x20class=\x22my-6\x22>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','กรุณาเลือกโปรเจคก่อน','interesting-stats-container','file-topic-input','click','scheduled','quiz-bank-modal','getBoundingClientRect','สร้างแบบทดสอบปรนัย','กลุ่ม:\x20','manage-players-btn','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ลำดับการดำเนินการ\x20(PEMDAS)','BOOLEAN','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','exists','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sum','approx','</span></div>','\x20ชุด)','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','.remove-file-shortcut-from-tab-btn','message-modal','bg-red-500\x20text-white\x20font-bold','description','#open-additional-parallel-shortcuts-btn','คาถาแยกเงาพันร่าง','%PDF','projectId','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','binom','.answered','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20to\x20question\x20bank:','กฎบวกและกฎคูณ','reveal_at_end','ทฤษฎีบทพีทาโกรัสและการประยุกต์','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','tGain','comparison-overall-tab','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','#ffffff','หัวข้อที่สร้างเอง','กรุณาพิมพ์คำตอบของกลุ่ม','promptFeedback','```','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','link-tab','referenceFileUrl','<i\x20class=\x22fas\x20fa-pen\x22></i>','createElement','name','sin','left','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouse','bp-topic-list-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','parallel-test-tab','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-game-results-checkbox','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','per-question-options','มังกรกินจุ','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','end-sync-game-btn','fullscreenElement','#math-topics-checkbox-container\x20input:checked','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','เทพทรู','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','div[data-question-index=\x22','candidates','quiz','earned-badges-container','text/html','เกิดข้อผิดพลาดในการบันทึกโปรเจค','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','specialist','\x22\x20class=\x22pin-project-btn\x20','.pair-quiz-btn','artifacts/','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','confirmation-message','fa-fire\x20text-orange-500','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','\x5cle','add-student-btn','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','Error\x20processing\x20file\x20for\x20AI:','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','timer-bar','ยอดเยี่ยม','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','.answers','results','download','เกิดข้อผิดพลาดในการเข้าร่วมเกม','bp-modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','Error\x20starting\x20team\x20quiz:','shuffle-setting-select','cancel-passcode-btn','teacherTips','ไม่พบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto-fix-latex-btn','.project-card-container','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','passcode','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','AI\x20grading\x20failed:','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','show_results_and_answers','bulk-loop-until-pass-checkbox','ai-quiz-generator-v3','pdf','solution','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','timer-container','pin','<option>กำลังโหลดโปรเจค...</option>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอเปิด','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','half_mark_status','newappai','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','points','เกิดข้อผิดพลาดในการสร้างห้องเกม','scores','/preferences/main','quiz-type-select','<button\x20data-value=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','การบวก','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','bg-yellow-100','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','อสมการเชิงเส้น','substr','.delete-bp-project-btn','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','sync-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','.move-file-shortcut-menu-btn','เกิดข้อผิดพลาดในการลบนักเรียน','มุมและการวัดมุม','student-progress','confirmation-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เนื้อหาสำหรับสอน:\x20','เรขาคณิต','confirm-move-quiz-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','คะแนน','removeItem','Leaderboard\x20update\x20transaction\x20failed:\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','.move-parallel-shortcut-dropdown','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','countdown-display','ผ่าน','close-lesson-plan-modal-btn','hint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','ศิลปิน','start-sync-game-btn','กลุ่มของคุณ','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','fa-dumbbell\x20text-gray-700','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','กรุณาป้อนหัวข้อสำหรับใบงาน','start-game-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','slide-counter','<p\x20class=\x22text-2xl\x22>','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อุณหภูมิและการแปลง','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','temp-loader-results','.use-hidden-shortcut-btn','highlighter','\x20link(s)\x20for\x20quiz\x20ID:\x20','#view-rankings-btn','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','.bp-game-btn','readAsDataURL','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ตะวันฉาย','วงกลม:\x20สมการและสมบัติ','score','student-quiz-area','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','</span><span\x20class=\x22font-bold\x22>','submittedAt','Error\x20joining\x20activity:','pointer-events-none','<p\x20class=\x22text-xl\x22>','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','เพนกวินไฟ','correctAnswerIndex','จิงโจ้สโลว์ไลฟ์','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','.edit-file-shortcut-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','includes','Error\x20deleting\x20submission:','shortcut-id-input','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','cancel-quiz-edits-btn-footer','upper_group_count','กำลังโหลดคลังข้อสอบทั้งหมด...','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x20mx-1\x20text-lg\x22></i></span>','(ก่อนเรียน)\x20','removeEventListener','.game-start-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','/submissions','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','คนดีศรีสยาม','linkedQuizIds','isConfidenceScoringEnabled','</p></div>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','commit','modal-confidence-scoring-checkbox','thead','สถิติและความน่าจะเป็น','สำหรับหัวข้อ\x20\x27','ตัวแทนแห่งดวงจันทร์','parallel-shortcut-url-input','Error\x20clearing\x20linked\x20quiz:','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<p>','ศูนย์','คนคุย','timer-duration-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','presentation-modal','exitFullscreen','manage','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','underline','file-shortcut-modal-title','export-excel-btn'];_0x5602=function(){return _0xe00802;};return _0x5602();}async function handleUnpairQuiz(_0x481e07){const _0x4f84c0=_0x45baa4,_0x4cd3f8=allQuizzes[_0x4f84c0(0x5f4)](_0x580a8d=>_0x580a8d['id']===_0x481e07);if(!_0x4cd3f8||!_0x4cd3f8[_0x4f84c0(0x731)]){showMessage(_0x4f84c0(0x9fb));return;}showConfirmation(_0x4f84c0(0xa68),async()=>{const _0x370a6c=_0x4f84c0;try{const _0x21322f=doc(db,_0x370a6c(0xb73)+appId+_0x370a6c(0xca0),_0x481e07),_0x30a267=doc(db,_0x370a6c(0xb73)+appId+_0x370a6c(0xca0),_0x4cd3f8['pairedQuizId']),_0x1af480=writeBatch(db);_0x1af480[_0x370a6c(0x621)](_0x21322f,{'pairedQuizId':null}),_0x1af480[_0x370a6c(0x621)](_0x30a267,{'pairedQuizId':null}),await _0x1af480['commit'](),showMessage(_0x370a6c(0x963));}catch(_0x364645){console[_0x370a6c(0xab1)]('Error\x20unpairing\x20quizzes:',_0x364645),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x3dc4ca,_0x71c910){const _0x2161c8=_0x45baa4,_0x414f77=window[_0x2161c8(0x4b7)]('','_blank'),_0x2379cb=_0x2161c8(0xb88)+_0x71c910['topic']+_0x2161c8(0xa83)+_0x71c910[_0x2161c8(0x613)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3dc4ca[_0x2161c8(0x68c)]['map'](_0x354cfe=>_0x2161c8(0x188)+_0x354cfe+'</li>')['join']('')+_0x2161c8(0xc38)+_0x3dc4ca['teachingContent']+_0x2161c8(0x468)+_0x3dc4ca[_0x2161c8(0x45c)][_0x2161c8(0x327)](_0x172481=>_0x2161c8(0x152)+_0x172481[_0x2161c8(0xa76)]+_0x2161c8(0x65b)+_0x172481['solution']+_0x2161c8(0x6b1))[_0x2161c8(0x7a0)]('')+_0x2161c8(0x63f);_0x414f77['document'][_0x2161c8(0xc97)](_0x2379cb),_0x414f77[_0x2161c8(0x439)][_0x2161c8(0xb01)](),_0x414f77[_0x2161c8(0x33a)]=function(){setTimeout(()=>{const _0x416c74=_0x2960;_0x414f77[_0x416c74(0x99e)]();},0x3e8);};}async function handleAiFixFormula(_0x36161e){const _0x4e0cc5=_0x45baa4,_0x4e9d5c=document['querySelector'](_0x4e0cc5(0x98a)+_0x36161e+'\x22]');if(!_0x4e9d5c)return;const _0xcf1169=_0x4e9d5c['dataset'][_0x4e0cc5(0x91d)],_0x4a4af7=_0x4e9d5c['querySelector'](_0x4e0cc5(0x5f2));let _0x2e1146={'question':_0x4e9d5c[_0x4e0cc5(0x452)](_0x4e0cc5(0x1d2))[_0x4e0cc5(0xab9)]};switch(_0xcf1169){case _0x4e0cc5(0x35a):_0x2e1146['options']=Array[_0x4e0cc5(0x36f)](_0x4e9d5c[_0x4e0cc5(0x336)](_0x4e0cc5(0x65f)))[_0x4e0cc5(0x327)](_0x91d753=>_0x91d753['value']);break;case'short_answer':_0x2e1146['idealAnswer']=_0x4e9d5c[_0x4e0cc5(0x452)](_0x4e0cc5(0x451))[_0x4e0cc5(0xab9)];break;case _0x4e0cc5(0xafa):_0x2e1146[_0x4e0cc5(0x492)]=_0x4e9d5c[_0x4e0cc5(0x452)](_0x4e0cc5(0x9e4))[_0x4e0cc5(0xab9)];break;}_0x4a4af7[_0x4e0cc5(0x9be)]=_0x4e0cc5(0xa0b),_0x4a4af7[_0x4e0cc5(0x514)]=!![];try{const _0x14a88b=_0x4e0cc5(0x6a0)+JSON[_0x4e0cc5(0x4cb)](_0x2e1146)+_0x4e0cc5(0x470),_0x11f61a={'type':_0x4e0cc5(0x1c8),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x4e0cc5(0x3ed)},'options':{'type':_0x4e0cc5(0x559),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x4e0cc5(0x3ed)},'correctResponse':{'type':'STRING'}},'required':[_0x4e0cc5(0xa76)]}},'required':[_0x4e0cc5(0x56e)]},_0x5e744a=await callAnalysisApi(_0x14a88b,_0x11f61a);if(_0x5e744a&&_0x5e744a[_0x4e0cc5(0x56e)]){const _0x12b30f=_0x5e744a[_0x4e0cc5(0x56e)];_0x4e9d5c[_0x4e0cc5(0x452)](_0x4e0cc5(0x1d2))[_0x4e0cc5(0xab9)]=_0x12b30f['question']||_0x2e1146[_0x4e0cc5(0xa76)];switch(_0xcf1169){case _0x4e0cc5(0x35a):_0x12b30f['options']&&_0x12b30f[_0x4e0cc5(0x929)][_0x4e0cc5(0xa33)]>0x0&&_0x4e9d5c[_0x4e0cc5(0x336)](_0x4e0cc5(0x65f))['forEach']((_0x507e10,_0x410109)=>{const _0x53a4fd=_0x4e0cc5;_0x507e10[_0x53a4fd(0xab9)]=_0x12b30f[_0x53a4fd(0x929)][_0x410109]||_0x2e1146[_0x53a4fd(0x929)][_0x410109];});break;case _0x4e0cc5(0x19e):_0x4e9d5c[_0x4e0cc5(0x452)](_0x4e0cc5(0x451))['value']=_0x12b30f[_0x4e0cc5(0xc96)]||_0x2e1146[_0x4e0cc5(0xc96)];break;case'matching_item':_0x4e9d5c[_0x4e0cc5(0x452)](_0x4e0cc5(0x9e4))[_0x4e0cc5(0xab9)]=_0x12b30f['correctResponse']||_0x2e1146['correctResponse'];break;}if(_0x2e1146['question']!==_0x12b30f[_0x4e0cc5(0xa76)])try{const _0x3ba209=collection(db,_0x4e0cc5(0xb73)+appId+_0x4e0cc5(0x4fd));await addDoc(_0x3ba209,{'broken':_0x2e1146['question'],'fixed':_0x12b30f['question'],'createdAt':serverTimestamp()});}catch(_0x885867){console[_0x4e0cc5(0xab1)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x885867);}showMessage(_0x4e0cc5(0x239));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x5515ff){console[_0x4e0cc5(0xab1)]('AI\x20Formula\x20Fix\x20Error:',_0x5515ff),showMessage(_0x4e0cc5(0x4dc));}finally{_0x4a4af7['innerHTML']=_0x4e0cc5(0xbd8),_0x4a4af7[_0x4e0cc5(0x514)]=![];}}async function handleGenerateLessonPlan(_0x17bb24){const _0x1e33cc=_0x45baa4;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x126e64=doc(db,_0x1e33cc(0xb73)+appId+_0x1e33cc(0xca0),_0x17bb24),_0x3c79d4=await getDoc(_0x126e64);if(!_0x3c79d4[_0x1e33cc(0xb1f)]())throw new Error(_0x1e33cc(0x6cb));const _0x57fc39={'id':_0x17bb24,..._0x3c79d4[_0x1e33cc(0x4da)]()},_0x51d02f=collection(db,_0x1e33cc(0xb73)+appId+'/public/data/quizzes',_0x17bb24,_0x1e33cc(0xaa0)),_0xc2f9eb=await getDocs(_0x51d02f),_0xa6435f=_0xc2f9eb['docs'][_0x1e33cc(0x327)](_0x4751c2=>_0x4751c2[_0x1e33cc(0x4da)]());if(_0xa6435f[_0x1e33cc(0xa33)]===0x0)throw new Error(_0x1e33cc(0xcc7));const _0x4c5d59=calculateItemAnalysis(_0x57fc39,_0xa6435f)['perQuestionStats'],_0x3b1181=calculateDistractorAnalysis(_0x57fc39,_0xa6435f),_0x3115d0=_0x53728e=>{const _0x4f1677=_0x1e33cc;if(!_0x53728e)return'';return _0x53728e['replace'](/\\/g,'\x5c\x5c')[_0x4f1677(0x715)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x411ec3=_0x1e33cc(0x194);_0x57fc39[_0x1e33cc(0x92e)][_0x1e33cc(0x808)]((_0x42bef7,_0x2e1d1)=>{const _0x381c21=_0x1e33cc,_0x30b2a0=_0x4c5d59[_0x2e1d1]?.['p'][_0x381c21(0xa97)](0x2)||_0x381c21(0xabf),_0x9558cd=_0x4c5d59[_0x2e1d1]?.['r'][_0x381c21(0xa97)](0x2)||'N/A',_0x229cb5=_0x3115d0(_0x42bef7[_0x381c21(0x24b)]||_0x42bef7['stem']);_0x411ec3+=_0x381c21(0x3b8)+(_0x2e1d1+0x1)+_0x381c21(0x61b)+_0x30b2a0+_0x381c21(0xa5c)+_0x9558cd+'):\x20'+_0x229cb5+'\x5cn';if(_0x42bef7['questionType']==='multiple_choice'&&_0x3b1181[_0x2e1d1]){const _0x56f783=_0x3b1181[_0x2e1d1],_0x347b21=Object[_0x381c21(0x7a9)](_0x56f783)[_0x381c21(0x6d0)](_0x50f2f3=>parseInt(_0x50f2f3)!==_0x42bef7[_0x381c21(0xbfe)])[_0x381c21(0x835)]((_0x583bf7,_0x423d53)=>_0x56f783[_0x423d53]['total']-_0x56f783[_0x583bf7]['total'])[0x0];if(_0x347b21&&_0x56f783[_0x347b21][_0x381c21(0x8e4)]>0x0){const _0x104996=_0x3115d0(_0x56f783[_0x347b21][_0x381c21(0x26e)]);_0x411ec3+=_0x381c21(0xc7a)+_0x104996+'\x22\x5cn';}}});const _0x221f4a=_0x1e33cc(0x4eb)+_0x57fc39['topic']+_0x1e33cc(0x62d)+_0x411ec3+_0x1e33cc(0xc57),_0x86c033={'type':_0x1e33cc(0x1c8),'properties':{'learningGaps':{'type':_0x1e33cc(0x559),'items':{'type':_0x1e33cc(0x3ed)}},'teachingContent':{'type':_0x1e33cc(0x3ed)},'practiceProblems':{'type':_0x1e33cc(0x559),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':_0x1e33cc(0x3ed)}}}}},'required':['learningGaps',_0x1e33cc(0x8c4),_0x1e33cc(0x45c)]},_0x5b1bfc=await callAnalysisApi(_0x221f4a,_0x86c033);await updateDoc(_0x126e64,{'lessonPlan':_0x5b1bfc});const _0x45a8c1=_0x1e33cc(0x7f9)+_0x57fc39['topic']+_0x1e33cc(0xcd8)+_0x5b1bfc[_0x1e33cc(0x68c)][_0x1e33cc(0x327)](_0x505faf=>_0x1e33cc(0x188)+_0x505faf+_0x1e33cc(0xd3f))[_0x1e33cc(0x7a0)]('')+_0x1e33cc(0x643)+_0x5b1bfc[_0x1e33cc(0x8c4)]+_0x1e33cc(0xb5b)+_0x5b1bfc[_0x1e33cc(0x45c)][_0x1e33cc(0x327)](_0x1c671f=>_0x1e33cc(0xb54)+_0x1c671f[_0x1e33cc(0xa76)]+_0x1e33cc(0x5be)+_0x1c671f[_0x1e33cc(0xb9c)]+_0x1e33cc(0xc17))['join']('')+_0x1e33cc(0x309);document[_0x1e33cc(0xc7b)](_0x1e33cc(0x4ea))[_0x1e33cc(0x448)]='แผนการสอน:\x20'+_0x57fc39['topic'],document[_0x1e33cc(0xc7b)](_0x1e33cc(0x22c))[_0x1e33cc(0x9be)]=_0x45a8c1,document[_0x1e33cc(0xc7b)](_0x1e33cc(0x659))[_0x1e33cc(0x246)][_0x1e33cc(0x142)](_0x1e33cc(0x35d));if(window[_0x1e33cc(0x8a3)])MathJax[_0x1e33cc(0x91c)]();messageModal[_0x1e33cc(0x246)][_0x1e33cc(0x329)](_0x1e33cc(0x35d));}catch(_0x21295a){console['error'](_0x1e33cc(0x4c7),_0x21295a),showMessage(_0x1e33cc(0x1e6)+_0x21295a['message']);}}async function handleDuplicateQuiz(_0xb6ebdf){const _0x116e12=_0x45baa4;try{const _0x31e007=doc(db,_0x116e12(0xb73)+appId+'/public/data/quizzes',_0xb6ebdf),_0x1b095d=await getDoc(_0x31e007);if(_0x1b095d[_0x116e12(0xb1f)]()){const _0x4c1bb3=_0x1b095d['data']();let _0x49870c='',_0x4737a0=_0x116e12(0x2fd),_0x43b4c7=null;if(_0x4c1bb3['quizMode']===_0x116e12(0x40d)){let _0x377f28=_0x4c1bb3['topic'][_0x116e12(0x715)](_0x116e12(0x7c5),'')[_0x116e12(0x958)]();_0x49870c=_0x116e12(0x432)+_0x377f28,_0x4737a0=_0x116e12(0x695),_0x43b4c7=_0xb6ebdf;}else _0x49870c=_0x116e12(0xaed)+_0x4c1bb3[_0x116e12(0x613)];const _0x1357f7={..._0x4c1bb3,'topic':_0x49870c,'createdAt':new Date()['toISOString'](),'quizMode':_0x4737a0,'pairedQuizId':_0x43b4c7};let _0x20b838;while(!![]){_0x20b838=Math[_0x116e12(0x864)](0x3e8+Math[_0x116e12(0x293)]()*0x2328)[_0x116e12(0x626)]();const _0x2c3e9c=await getDoc(doc(db,_0x116e12(0xb73)+appId+_0x116e12(0xca0),_0x20b838));if(!_0x2c3e9c[_0x116e12(0xb1f)]())break;}const _0x1f7362=doc(db,_0x116e12(0xb73)+appId+_0x116e12(0xca0),_0x20b838);await setDoc(_0x1f7362,_0x1357f7),_0x1357f7[_0x116e12(0xce5)]==='post-test'&&await updateDoc(_0x31e007,{'pairedQuizId':_0x20b838}),showMessage(_0x116e12(0x945));}else throw new Error(_0x116e12(0x9d1));}catch(_0x1e5b09){console['error']('Error\x20duplicating\x20quiz:',_0x1e5b09),showMessage(_0x116e12(0x5ac));}}async function handleDeleteQuiz(_0x4eae73,_0x39eef7=!![]){const _0x1f8296=_0x45baa4;try{const _0x1de70f=writeBatch(db),_0x45e383=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4eae73+_0x1f8296(0xc11)),_0x1ab514=await getDocs(_0x45e383);_0x1ab514[_0x1f8296(0x808)](_0x97845f=>{const _0x1d34ec=_0x1f8296;_0x1de70f[_0x1d34ec(0x5b7)](doc(_0x45e383,_0x97845f['id']));});const _0x58f300=doc(db,_0x1f8296(0xb73)+appId+'/public/data/quizzes',_0x4eae73);_0x1de70f[_0x1f8296(0x5b7)](_0x58f300),await _0x1de70f[_0x1f8296(0xc1a)]();try{console['log'](_0x1f8296(0x5d1)+_0x4eae73+_0x1f8296(0x334));const _0x1f7954=collection(db,'artifacts/'+appId+_0x1f8296(0x6f3)),_0x2c81fe=await getDocs(_0x1f7954),_0x4fd0b7=[];_0x2c81fe[_0x1f8296(0x808)](_0x5bb6a5=>{const _0x3e5515=_0x1f8296,_0x572a41=_0x5bb6a5[_0x3e5515(0x4da)](),_0x29b6ac=_0x572a41[_0x3e5515(0xd19)]||{};let _0x19c988=![];for(const _0x1a5b63 in _0x29b6ac){const _0x2a4cc8=_0x29b6ac[_0x1a5b63];if(_0x2a4cc8[_0x3e5515(0xc15)]&&_0x2a4cc8[_0x3e5515(0xc15)][_0x3e5515(0xc04)](_0x4eae73)){_0x19c988=!![];const _0x28bf12=doc(db,_0x3e5515(0xb73)+appId+_0x3e5515(0x6f3),_0x5bb6a5['id']),_0x3d840f=updateDoc(_0x28bf12,{['topics.'+_0x1a5b63+_0x3e5515(0x618)]:arrayRemove(_0x4eae73)});_0x4fd0b7['push'](_0x3d840f);}}}),_0x4fd0b7['length']>0x0&&(await Promise['all'](_0x4fd0b7),console[_0x1f8296(0x161)](_0x1f8296(0x1e4)+_0x4fd0b7['length']+_0x1f8296(0xbea)+_0x4eae73+'.'));}catch(_0x381c04){console['error'](_0x1f8296(0x8d0),_0x381c04);}_0x39eef7&&showMessage(_0x1f8296(0x81a));}catch(_0x4569d2){console[_0x1f8296(0xab1)](_0x1f8296(0xd1b),_0x4569d2),_0x39eef7&&showMessage(_0x1f8296(0x3f5));}}async function showQuizDetailView(_0x5420f4){const _0x70b3a6=_0x45baa4;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x26d5f2=doc(db,_0x70b3a6(0xb73)+appId+'/public/data/quizzes',_0x5420f4),_0x600f5d=await getDoc(_0x26d5f2);if(!_0x600f5d[_0x70b3a6(0xb1f)]()){showMessage(_0x70b3a6(0x6cb));return;}const _0x1e2458={'id':_0x600f5d['id'],..._0x600f5d[_0x70b3a6(0x4da)]()};currentQuizData=_0x1e2458;const _0x5a2ebb=doc(db,_0x70b3a6(0xb73)+appId+_0x70b3a6(0xafc),_0x1e2458[_0x70b3a6(0xb2f)]),_0x1f80cd=await getDoc(_0x5a2ebb);_0x1f80cd[_0x70b3a6(0xb1f)]()?(currentProjectData=_0x1f80cd['data'](),currentProjectId=_0x1e2458[_0x70b3a6(0xb2f)]):(currentProjectData={'students':[]},currentProjectId=_0x1e2458[_0x70b3a6(0xb2f)]);document[_0x70b3a6(0xc7b)](_0x70b3a6(0x36d))[_0x70b3a6(0x448)]=_0x1e2458['topic'],document[_0x70b3a6(0xc7b)](_0x70b3a6(0x582))[_0x70b3a6(0x448)]=_0x5420f4;const _0x25c28d=collection(db,_0x70b3a6(0xb73)+appId+_0x70b3a6(0xca0),_0x5420f4,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x25c28d,_0x21b2de=>{const _0x35f66d=_0x70b3a6,_0x3e01a6=_0x21b2de[_0x35f66d(0xb39)][_0x35f66d(0x327)](_0x165914=>({'id':_0x165914['id'],..._0x165914[_0x35f66d(0x4da)]()}));currentSubmissions=_0x3e01a6;const _0x5d9d02=_0x3e01a6['filter'](_0x3e8e43=>_0x3e8e43[_0x35f66d(0x39d)]&&_0x3e8e43['attempts']['length']>0x0);renderBehaviorLog(_0x3e01a6),renderAnswerGrid(currentProjectData[_0x35f66d(0x89e)],_0x5d9d02,_0x1e2458),renderAnalytics(_0x1e2458,_0x5d9d02),renderQuizResultsTable(currentProjectData[_0x35f66d(0x89e)],_0x3e01a6,_0x1e2458),renderQuizLeaderboard(_0x5d9d02,_0x1e2458,'quiz-leaderboard-table-body');}),showView(_0x70b3a6(0x1e7));}catch(_0x29ecd8){console['error'](_0x70b3a6(0x70a),_0x29ecd8),showMessage(_0x70b3a6(0xbec));}}function renderAnswerGrid(_0x144687,_0x716cb9,_0x96542f){const _0x7f64d3=_0x45baa4,_0x283136=document[_0x7f64d3(0xc7b)](_0x7f64d3(0x180));if(!_0x283136)return;if(!_0x144687||_0x144687[_0x7f64d3(0xa33)]===0x0){_0x283136[_0x7f64d3(0x9be)]=_0x7f64d3(0xca8);return;}const _0x4742c0=_0x96542f[_0x7f64d3(0x92e)],_0x42b0a1=_0x716cb9[_0x7f64d3(0x9ac)]((_0x469edc,_0x35d6ad)=>{const _0x126d41=_0x7f64d3;return _0x469edc[_0x35d6ad[_0x126d41(0x2f7)]]=_0x35d6ad,_0x469edc;},{}),_0x13b72b=_0x5185b3=>String[_0x7f64d3(0xa56)](0x41+_0x5185b3),_0x3cd041=_0x58010a=>{const _0x15bbca=_0x7f64d3,_0x3aca22=_0x58010a['questionType']||_0x96542f[_0x15bbca(0x9f7)];switch(_0x3aca22){case _0x15bbca(0x35a):return _0x58010a[_0x15bbca(0x929)]&&_0x58010a[_0x15bbca(0x929)]['length']>_0x58010a[_0x15bbca(0xbfe)]?_0x13b72b(_0x58010a[_0x15bbca(0xbfe)]):'-';case'true_false':const _0x5786d8=_0x58010a[_0x15bbca(0x4cc)]===!![]||String(_0x58010a[_0x15bbca(0x4cc)])[_0x15bbca(0xd4a)]()==='true';return _0x5786d8?_0x15bbca(0xc72):_0x15bbca(0xadd);case _0x15bbca(0xafa):return _0x58010a['correctResponse']||'-';case _0x15bbca(0x19e):return'พิมพ์ตอบ';default:return'-';}},_0x2e3cec=(_0x12115a,_0x3911fd)=>{const _0x2dbc29=_0x7f64d3;if(_0x3911fd[_0x2dbc29(0x694)]===null||_0x3911fd[_0x2dbc29(0x694)]===undefined)return'-';const _0xcd623c=_0x12115a[_0x2dbc29(0x34f)]||_0x96542f[_0x2dbc29(0x9f7)];switch(_0xcd623c){case _0x2dbc29(0x35a):const _0x593508=_0x12115a['options'][_0x2dbc29(0x960)](_0x51e75a=>_0x51e75a===_0x3911fd['answerText']);return _0x593508!==-0x1?_0x13b72b(_0x593508):_0x3911fd[_0x2dbc29(0x69d)]||'-';case _0x2dbc29(0x3f8):if(_0x3911fd[_0x2dbc29(0x694)]=='0'||_0x3911fd[_0x2dbc29(0x694)]===!![]||_0x3911fd['answer']==='true')return _0x2dbc29(0xc72);return _0x2dbc29(0xadd);default:return _0x3911fd[_0x2dbc29(0x694)];}};let _0x54ecec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4742c0[_0x7f64d3(0x327)]((_0x11318e,_0x34c506)=>_0x7f64d3(0x917)+(_0x34c506+0x1)+_0x7f64d3(0x411))[_0x7f64d3(0x7a0)]('')+_0x7f64d3(0x816)+_0x4742c0[_0x7f64d3(0x327)](_0x45262c=>_0x7f64d3(0x9ef)+_0x3cd041(_0x45262c)+_0x7f64d3(0x34c))['join']('')+_0x7f64d3(0x233);_0x144687[_0x7f64d3(0x808)](_0x290323=>{const _0x3a2565=_0x7f64d3;_0x54ecec+=_0x3a2565(0x798),_0x54ecec+=_0x3a2565(0x766)+_0x290323+'</td>';const _0x1b6bca=_0x42b0a1[_0x290323];if(_0x1b6bca){const _0x3737d0=_0x1b6bca[_0x3a2565(0x39d)][_0x1b6bca['attempts']['length']-0x1];_0x4742c0[_0x3a2565(0x808)]((_0x444064,_0x2941f9)=>{const _0x296c12=_0x3a2565,_0xb9b531=_0x3737d0[_0x296c12(0x7b4)][_0x296c12(0x5f4)](_0x15db34=>_0x15db34['questionId']===_0x444064['id']);if(_0xb9b531){let _0x1a09b1='';const _0x3cfbe8=_0xb9b531[_0x296c12(0xcf5)]===!![],_0x243589=_0xb9b531[_0x296c12(0x8f3)]===!![]||_0xb9b531[_0x296c12(0x8f3)]===_0x296c12(0x45e);_0x243589?_0x1a09b1=_0x3cfbe8?'bg-green-400\x20text-white\x20font-bold':_0x296c12(0xb2a):_0x1a09b1=_0x3cfbe8?_0x296c12(0x5c6):_0x296c12(0x3c3),_0x54ecec+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x1a09b1+'\x22>'+_0x2e3cec(_0x444064,_0xb9b531)+_0x296c12(0x34c);}else _0x54ecec+=_0x296c12(0x232);});}else _0x54ecec+=_0x4742c0[_0x3a2565(0x327)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x3a2565(0x7a0)]('');_0x54ecec+=_0x3a2565(0xc8f);}),_0x54ecec+='</tbody></table>',_0x283136[_0x7f64d3(0x9be)]=_0x54ecec;}function renderQuizResultsTable(_0x419546,_0x3f48bf,_0x44e9e5){const _0x1ac5f7=_0x45baa4,_0xeae39d=_0x3f48bf['reduce']((_0x1f0186,_0x2a28ca)=>{const _0x483854=_0x2960;return _0x1f0186[_0x2a28ca[_0x483854(0x2f7)]]=_0x2a28ca,_0x1f0186;},{}),_0xb659ef=document[_0x1ac5f7(0x452)]('#results-table\x20thead\x20tr');_0xb659ef&&!_0xb659ef['innerHTML']['includes'](_0x1ac5f7(0xd00))&&(_0xb659ef['innerHTML']+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x18c276=document[_0x1ac5f7(0xc7b)]('quiz-results-table-body');if(!_0x419546||_0x419546[_0x1ac5f7(0xa33)]===0x0){_0x18c276[_0x1ac5f7(0x9be)]=_0x1ac5f7(0xa36);return;}const _0x338feb=_0x44e9e5[_0x1ac5f7(0x8f9)]===!![],_0x59c5f9=_0x44e9e5[_0x1ac5f7(0xd09)]?.[_0x1ac5f7(0x442)]??-0x1;let _0x408c38='';_0x419546[_0x1ac5f7(0x808)](_0x36a7c0=>{const _0x502572=_0x1ac5f7,_0x450d64=_0xeae39d[_0x36a7c0];let _0x75c03e=_0x502572(0x1a4)+(_0x338feb?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x338feb?_0x502572(0x33b):_0x502572(0x52c))+_0x502572(0x63a);if(_0x450d64){if(_0x450d64['attempts']&&_0x450d64['attempts'][_0x502572(0xa33)]>0x0){let _0xbb39a9=_0x338feb?_0x450d64['bestScore']===_0x450d64[_0x502572(0x176)]:_0x59c5f9!==-0x1&&_0x450d64[_0x502572(0x82e)]>=_0x59c5f9;const _0x583113=_0xbb39a9?_0x502572(0x623):'bg-red-100\x20text-red-800',_0x260a23=_0xbb39a9?_0x502572(0xbd4):_0x502572(0xd1c),_0x5b4f49=_0x502572(0x1cb)+_0x583113+'\x22>'+_0x260a23+'</span></td>',_0x28c323=_0x502572(0xc94)+(_0x450d64[_0x502572(0x39d)]?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x408c38+=_0x502572(0x453)+_0x36a7c0+_0x502572(0x7d3)+_0x450d64[_0x502572(0x82e)]+_0x502572(0xc6c)+_0x450d64['totalQuestions']+_0x502572(0x5c5)+_0x5b4f49+_0x502572(0xba8)+_0x75c03e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x450d64[_0x502572(0xc19)]+'\x20/\x20'+_0x450d64[_0x502572(0x176)]+_0x502572(0x670)+_0x450d64[_0x502572(0x140)]+_0x502572(0xc6c)+_0x450d64[_0x502572(0x176)]+_0x502572(0x938)+(_0x450d64[_0x502572(0xba9)]||0x0)+_0x502572(0x5c5)+_0x28c323+_0x502572(0x6f2)+new Date(_0x450d64[_0x502572(0x530)])[_0x502572(0x318)](_0x502572(0x499))+_0x502572(0x231)+_0x36a7c0+_0x502572(0x1f2);}else{const _0x413918=_0x502572(0xc3f);_0x408c38+=_0x502572(0x2ee)+_0x36a7c0+_0x502572(0x90f)+_0x75c03e+_0x502572(0x20f)+_0x413918+_0x502572(0x6f2)+new Date(_0x450d64[_0x502572(0xcd2)])['toLocaleString'](_0x502572(0x499))+_0x502572(0xc64)+_0x36a7c0+_0x502572(0x1f2);}}else{const _0x3cbf00=_0x502572(0x55b);_0x408c38+=_0x502572(0xc73)+_0x36a7c0+_0x502572(0xb02)+_0x75c03e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cbf00+_0x502572(0x27b);}}),_0x18c276[_0x1ac5f7(0x9be)]=_0x408c38;}async function confirmRenameQuiz(){const _0x4c7398=_0x45baa4,_0x137341=document['getElementById']('rename-quiz-input')[_0x4c7398(0xab9)][_0x4c7398(0x958)]();if(!_0x137341){showMessage(_0x4c7398(0x804));return;}if(!actionTargetId)return;const _0x55c193=doc(db,_0x4c7398(0xb73)+appId+_0x4c7398(0xca0),actionTargetId);try{await updateDoc(_0x55c193,{'topic':_0x137341}),showMessage(_0x4c7398(0x9c7)),renameQuizModal[_0x4c7398(0x246)][_0x4c7398(0x329)](_0x4c7398(0x35d)),actionTargetId=null;}catch(_0x29fdbf){console[_0x4c7398(0xab1)]('Error\x20renaming\x20quiz:',_0x29fdbf),showMessage(_0x4c7398(0x806));}}async function handleMoveQuiz(_0x5e440d){const _0x416339=_0x45baa4;actionTargetId=_0x5e440d;const _0x426c63=document[_0x416339(0xc7b)](_0x416339(0x930));_0x426c63['innerHTML']=_0x416339(0xba0),moveQuizModal[_0x416339(0x246)][_0x416339(0x142)](_0x416339(0x35d));try{const _0x512ca3=collection(db,'artifacts/'+appId+_0x416339(0xafc)),_0x5dcee4=await getDocs(_0x512ca3),_0x94abde=_0x5dcee4[_0x416339(0xb39)][_0x416339(0x327)](_0x3c26df=>({'id':_0x3c26df['id'],..._0x3c26df[_0x416339(0x4da)]()})),_0x64651c=_0x94abde[_0x416339(0x6d0)](_0x2c2c90=>_0x2c2c90['id']!==currentProjectId);if(_0x64651c[_0x416339(0xa33)]===0x0){_0x426c63[_0x416339(0x9be)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById']('confirm-move-quiz-btn')[_0x416339(0x514)]=!![];return;}_0x426c63[_0x416339(0x9be)]=_0x64651c['map'](_0x473ea9=>_0x416339(0x490)+_0x473ea9['id']+'\x22>'+_0x473ea9['projectName']+_0x416339(0xaff))[_0x416339(0x7a0)](''),document['getElementById']('confirm-move-quiz-btn')['disabled']=![];}catch(_0x26460f){console[_0x416339(0xab1)](_0x416339(0x74e),_0x26460f),showMessage(_0x416339(0x6ff)),moveQuizModal[_0x416339(0x246)]['add']('hidden');}}async function confirmMoveQuiz(){const _0x1118e9=_0x45baa4,_0x323668=document['getElementById'](_0x1118e9(0x930))[_0x1118e9(0xab9)];if(!_0x323668){showMessage(_0x1118e9(0x6a1));return;}if(!actionTargetId)return;const _0x19d578=doc(db,_0x1118e9(0xb73)+appId+_0x1118e9(0xca0),actionTargetId);try{await updateDoc(_0x19d578,{'projectId':_0x323668}),showMessage(_0x1118e9(0xd29)),moveQuizModal[_0x1118e9(0x246)][_0x1118e9(0x329)](_0x1118e9(0x35d)),actionTargetId=null;}catch(_0x67d1d8){console[_0x1118e9(0xab1)](_0x1118e9(0xcb4),_0x67d1d8),showMessage(_0x1118e9(0x759));}}async function handleQuizSettings(_0x462dca){const _0x4128a7=_0x45baa4;actionTargetId=_0x462dca;const _0x33c7af=doc(db,'artifacts/'+appId+_0x4128a7(0xca0),_0x462dca);try{const _0x53c39a=await getDoc(_0x33c7af);if(_0x53c39a[_0x4128a7(0xb1f)]()){const _0x29d76a=_0x53c39a[_0x4128a7(0x4da)](),_0x53a458=_0x29d76a[_0x4128a7(0xd09)]||{},_0x4b1c2d=_0x29d76a['questions'][_0x4128a7(0xa33)];document[_0x4128a7(0xc7b)](_0x4128a7(0x755))['value']=_0x53a458[_0x4128a7(0x721)]||'none',document[_0x4128a7(0xc7b)](_0x4128a7(0xd1d))[_0x4128a7(0xab9)]=_0x53a458[_0x4128a7(0x25f)]||_0x4128a7(0xb98),document[_0x4128a7(0xc7b)](_0x4128a7(0x757))['value']=_0x53a458[_0x4128a7(0x988)]||'none',document[_0x4128a7(0xc7b)](_0x4128a7(0x821))[_0x4128a7(0xab9)]=_0x53a458['timerDuration']||0xa,document[_0x4128a7(0xc7b)]('modal-passing-score-input')[_0x4128a7(0xab9)]=_0x53a458['passingScore']||Math[_0x4128a7(0x864)](_0x4b1c2d/0x2),document[_0x4128a7(0xc7b)]('modal-passing-score-input')['max']=_0x4b1c2d,document['getElementById'](_0x4128a7(0x967))['checked']=_0x53a458[_0x4128a7(0xd5d)]||![],document['getElementById'](_0x4128a7(0x665))['checked']=_0x53a458[_0x4128a7(0x57c)]||![];const _0x7b0fdf=_0x53a458[_0x4128a7(0xc16)]||![];document[_0x4128a7(0xc7b)]('modal-confidence-scoring-checkbox')[_0x4128a7(0xa1c)]=_0x7b0fdf,document[_0x4128a7(0xc7b)]('modal-confidence-mode-select')[_0x4128a7(0xab9)]=_0x53a458['confidenceMode']||_0x4128a7(0xc8e);const _0x31f26b=document[_0x4128a7(0xc7b)](_0x4128a7(0x15e));_0x31f26b['classList'][_0x4128a7(0x650)](_0x4128a7(0x35d),!_0x7b0fdf),document['getElementById'](_0x4128a7(0x757))[_0x4128a7(0x46a)](new Event('change')),quizSettingsModal['classList']['remove'](_0x4128a7(0x35d));}else showMessage(_0x4128a7(0x6cb));}catch(_0x558c6f){console[_0x4128a7(0xab1)](_0x4128a7(0x78c),_0x558c6f),showMessage(_0x4128a7(0x959));}}async function confirmQuizSettings(){const _0xae95b1=_0x45baa4;if(!actionTargetId)return;const _0x1a6287=doc(db,_0xae95b1(0xb73)+appId+_0xae95b1(0xca0),actionTargetId),_0x4f9623={'shuffle':document[_0xae95b1(0xc7b)](_0xae95b1(0x755))[_0xae95b1(0xab9)],'resultsDisplay':document[_0xae95b1(0xc7b)](_0xae95b1(0xd1d))['value'],'timerMode':document[_0xae95b1(0xc7b)](_0xae95b1(0x757))[_0xae95b1(0xab9)],'timerDuration':parseInt(document['getElementById'](_0xae95b1(0x821))[_0xae95b1(0xab9)])||0xa,'passingScore':parseInt(document[_0xae95b1(0xc7b)]('modal-passing-score-input')[_0xae95b1(0xab9)])||0x0,'isAdaptive':document[_0xae95b1(0xc7b)](_0xae95b1(0x967))[_0xae95b1(0xa1c)],'loopUntilPass':document[_0xae95b1(0xc7b)](_0xae95b1(0x665))[_0xae95b1(0xa1c)],'isConfidenceScoringEnabled':document['getElementById'](_0xae95b1(0xc1b))[_0xae95b1(0xa1c)],'confidenceMode':document['getElementById'](_0xae95b1(0x8e0))[_0xae95b1(0xab9)]};try{await updateDoc(_0x1a6287,{'settings':_0x4f9623}),showMessage(_0xae95b1(0x379)),quizSettingsModal[_0xae95b1(0x246)][_0xae95b1(0x329)](_0xae95b1(0x35d)),actionTargetId=null;}catch(_0x28d9b4){console['error'](_0xae95b1(0x20c),_0x28d9b4),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x2134ec=_0x45baa4;if(!actionTargetId)return;const _0x334005=doc(db,_0x2134ec(0xb73)+appId+_0x2134ec(0xca0),actionTargetId),_0x4f6f40=document['querySelector'](_0x2134ec(0x4b3));if(!_0x4f6f40){showMessage(_0x2134ec(0x5ce));return;}const _0x339629=_0x4f6f40[_0x2134ec(0xab9)];let _0x111ba5={};if(_0x339629===_0x2134ec(0x870)||_0x339629==='inactive')_0x111ba5={'status':_0x339629,'startTime':null,'endTime':null};else{if(_0x339629===_0x2134ec(0x1d3)){const _0x538542=document[_0x2134ec(0xc7b)](_0x2134ec(0x1c1))[_0x2134ec(0xab9)],_0x3c3de9=document['getElementById']('quiz-end-time')[_0x2134ec(0xab9)];if(!_0x538542&&!_0x3c3de9){showMessage(_0x2134ec(0xcb7));return;}_0x111ba5={'status':_0x2134ec(0xb11),'startTime':_0x538542?new Date(_0x538542)[_0x2134ec(0x67e)]():null,'endTime':_0x3c3de9?new Date(_0x3c3de9)['toISOString']():null};}}try{await updateDoc(_0x334005,_0x111ba5),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x2134ec(0x246)][_0x2134ec(0x329)](_0x2134ec(0x35d)),actionTargetId=null;}catch(_0x3baa6b){console[_0x2134ec(0xab1)](_0x2134ec(0xc5d),_0x3baa6b),showMessage(_0x2134ec(0x7e4));}}function listenForStudentProfiles(_0x3d4302){const _0x4c3532=_0x45baa4,_0x3f0961=collection(db,'artifacts/'+appId+_0x4c3532(0x326)+_0x3d4302+_0x4c3532(0x992));unsubscribeStudentProfilesListener=onSnapshot(_0x3f0961,_0x5bf558=>{const _0xdd9eb0=_0x4c3532,_0x4e631a=_0x5bf558[_0xdd9eb0(0xb39)][_0xdd9eb0(0x327)](_0x2c9d6c=>_0x2c9d6c[_0xdd9eb0(0x4da)]());renderLeaderboard(_0x4e631a,_0xdd9eb0(0xb07));},_0x4c2e48=>{const _0x3136db=_0x4c3532;console[_0x3136db(0xab1)](_0x3136db(0x220),_0x4c2e48),document['getElementById'](_0x3136db(0xb07))[_0x3136db(0x9be)]=_0x3136db(0x517);});}function renderLeaderboard(_0x532b96,_0x551cd1){const _0x3b44da=_0x45baa4,_0x337661=document[_0x3b44da(0xc7b)](_0x551cd1);if(!_0x532b96||_0x532b96[_0x3b44da(0xa33)]===0x0){_0x337661['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x532b96[_0x3b44da(0x835)]((_0x2174cd,_0x141664)=>{const _0x5b6e2c=_0x3b44da,_0x1e9eb5=(_0x141664[_0x5b6e2c(0x77d)]||0x0)-(_0x2174cd[_0x5b6e2c(0x77d)]||0x0);if(_0x1e9eb5!==0x0)return _0x1e9eb5;const _0x13b80e=(_0x141664['badgesCount']?.['specialist']||0x0)-(_0x2174cd[_0x5b6e2c(0x3bf)]?.[_0x5b6e2c(0xb70)]||0x0);if(_0x13b80e!==0x0)return _0x13b80e;const _0x281198=(_0x141664[_0x5b6e2c(0x3bf)]?.['first_try_ace']||0x0)-(_0x2174cd[_0x5b6e2c(0x3bf)]?.[_0x5b6e2c(0x8a2)]||0x0);if(_0x281198!==0x0)return _0x281198;const _0x406805=(_0x141664[_0x5b6e2c(0x3bf)]?.[_0x5b6e2c(0x384)]||0x0)-(_0x2174cd[_0x5b6e2c(0x3bf)]?.[_0x5b6e2c(0x384)]||0x0);if(_0x406805!==0x0)return _0x406805;const _0x203772=(_0x141664['badgesCount']?.[_0x5b6e2c(0x2a9)]||0x0)-(_0x2174cd[_0x5b6e2c(0x3bf)]?.[_0x5b6e2c(0x2a9)]||0x0);if(_0x203772!==0x0)return _0x203772;return _0x2174cd[_0x5b6e2c(0x2f7)]['localeCompare'](_0x141664['studentName'],'th');});let _0x30c62a='';_0x532b96[_0x3b44da(0x808)]((_0x4c85a8,_0xcb67f7)=>{const _0x8f2b28=_0x3b44da,_0x1c8af3=_0xcb67f7+0x1,_0x1aefdf=_0x4c85a8[_0x8f2b28(0x3bf)]||{};let _0x4812f8='';const _0x57d2cf=[_0x8f2b28(0xb70),'perfect_score',_0x8f2b28(0x8a2),_0x8f2b28(0x2a9)];_0x57d2cf['forEach'](_0x2e90a5=>{const _0x2dbc1e=_0x8f2b28;if(_0x1aefdf[_0x2e90a5]>0x0){const _0xed56a8=Object[_0x2dbc1e(0x548)](BADGES)[_0x2dbc1e(0x5f4)](_0x56b698=>_0x56b698['id']===_0x2e90a5);_0xed56a8&&(_0x2e90a5===_0x2dbc1e(0xb70)?_0x4812f8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0xed56a8['name']+_0x2dbc1e(0x993)+_0xed56a8[_0x2dbc1e(0x21e)]+_0x2dbc1e(0x94d):_0x4812f8+=_0x2dbc1e(0x154)+_0xed56a8[_0x2dbc1e(0xb4c)]+'\x20('+_0x1aefdf[_0x2e90a5]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0xed56a8['icon']+_0x2dbc1e(0x571)+_0x1aefdf[_0x2e90a5]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x30c62a+=_0x8f2b28(0x871)+_0x1c8af3+_0x8f2b28(0x733)+_0x4c85a8[_0x8f2b28(0x2f7)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x4c85a8[_0x8f2b28(0x77d)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x4812f8||'-')+_0x8f2b28(0x472);}),_0x337661[_0x3b44da(0x9be)]=_0x30c62a;}function displayLoopScreen(_0x22a75d,_0x3aab9a,_0x455d8a){const _0x490184=_0x45baa4;let _0x3c6e5a='';_0x455d8a!==_0x490184(0x7cc)&&(_0x3c6e5a=_0x490184(0x25a)+_0x22a75d+_0x490184(0xc6c)+_0x3aab9a+_0x490184(0x190));const _0x4b0187=_0x490184(0xc82)+_0x3c6e5a+_0x490184(0x7be);studentResultArea[_0x490184(0x9be)]=_0x4b0187,studentResultArea[_0x490184(0x246)][_0x490184(0x142)](_0x490184(0x35d)),studentQuizArea[_0x490184(0x246)][_0x490184(0x329)](_0x490184(0x35d)),document[_0x490184(0xc7b)](_0x490184(0x3cc))[_0x490184(0x21f)]('click',()=>{const _0x1b8cb2=_0x490184;studentResultArea[_0x1b8cb2(0x246)][_0x1b8cb2(0x329)](_0x1b8cb2(0x35d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x1a3044,_0x12a537,_0x550921){const _0x5e5695=_0x45baa4,_0x1941a2=document['getElementById'](_0x550921),_0x4eed34=_0x550921===_0x5e5695(0x7a8),_0x558ca0=_0x12a537[_0x5e5695(0x92e)][_0x5e5695(0xa33)],_0x360342=document[_0x5e5695(0xc7b)](_0x550921)[_0x5e5695(0x2ec)]('table');if(_0x360342&&!_0x4eed34){const _0x642100=_0x360342['querySelector'](_0x5e5695(0xc1c));_0x642100['innerHTML']=_0x5e5695(0x51b);}if(!_0x1a3044||_0x1a3044[_0x5e5695(0xa33)]===0x0){_0x1941a2['innerHTML']=_0x5e5695(0x19b)+(_0x4eed34?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x170727=[..._0x1a3044];_0x170727[_0x5e5695(0x835)]((_0x126eff,_0x4cc667)=>{const _0x26a923=_0x5e5695;let _0x5b1ba4,_0x171339;switch(quizLeaderboardSortBy){case _0x26a923(0x2f7):_0x5b1ba4=_0x126eff[_0x26a923(0x2f7)]||'',_0x171339=_0x4cc667['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x5b1ba4[_0x26a923(0xc3c)](_0x171339,'th'):_0x171339[_0x26a923(0xc3c)](_0x5b1ba4,'th');case _0x26a923(0xba9):_0x5b1ba4=_0x126eff[_0x26a923(0xba9)]||0x0,_0x171339=_0x4cc667[_0x26a923(0xba9)]||0x0;break;case'attempts':_0x5b1ba4=_0x126eff[_0x26a923(0x39d)]?.[_0x26a923(0xa33)]||0x1,_0x171339=_0x4cc667[_0x26a923(0x39d)]?.[_0x26a923(0xa33)]||0x1;break;case _0x26a923(0x530):_0x5b1ba4=new Date(_0x126eff[_0x26a923(0x530)]),_0x171339=new Date(_0x4cc667[_0x26a923(0x530)]);break;case _0x26a923(0x82e):default:_0x5b1ba4=_0x126eff['bestScore'],_0x171339=_0x4cc667['bestScore'];break;}if(_0x5b1ba4<_0x171339)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x5b1ba4>_0x171339)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x3ea301=_0x12a537[_0x5e5695(0x8f9)]===!![],_0x1d531d=_0x12a537[_0x5e5695(0xd09)]?.[_0x5e5695(0x442)]??-0x1;let _0x25618e='';_0x170727['forEach']((_0x364efe,_0x5c809d)=>{const _0x57575f=_0x5e5695,_0x4e4d95=_0x5c809d+0x1;let _0x39bc95=_0x57575f(0xa8e);if(_0x3ea301||_0x1d531d!==-0x1){let _0x287e05=_0x3ea301?_0x364efe[_0x57575f(0x82e)]===_0x558ca0:_0x364efe[_0x57575f(0x82e)]>=_0x1d531d;const _0x4c4f28=_0x287e05?_0x57575f(0x623):_0x57575f(0x218),_0x51795b=_0x287e05?_0x57575f(0xbd4):_0x57575f(0xd1c);_0x39bc95=_0x57575f(0xc6e)+_0x4c4f28+'\x22>'+_0x51795b+'</span></td>';}const _0x29fd5b=_0x364efe[_0x57575f(0x39d)][_0x364efe[_0x57575f(0x39d)]['length']-0x1],_0x472bef=(_0x29fd5b['badges']||[])[_0x57575f(0x327)](_0x12452c=>{const _0x558428=_0x57575f,_0x54daef=Object['values'](BADGES)['find'](_0x6fa9c=>_0x6fa9c['id']===_0x12452c);return _0x54daef?_0x558428(0x42d)+_0x54daef[_0x558428(0xb4c)]+'\x22><i\x20class=\x22fas\x20'+_0x54daef['icon']+_0x558428(0xc0c):'';})[_0x57575f(0x7a0)]('');_0x25618e+=_0x57575f(0xc99)+_0x4e4d95+_0x57575f(0x845)+_0x364efe['studentName']+_0x57575f(0x9f3)+_0x364efe[_0x57575f(0x82e)]+_0x57575f(0xc6c)+_0x558ca0+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39bc95+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x364efe[_0x57575f(0xba9)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4eed34?'':_0x57575f(0x770)+(_0x364efe['attempts']?.[_0x57575f(0xa33)]||0x1)+_0x57575f(0x34c))+_0x57575f(0x748)+(_0x4eed34?'':_0x57575f(0x69a)+new Date(_0x364efe[_0x57575f(0x530)])[_0x57575f(0x318)](_0x57575f(0x499))+_0x57575f(0x34c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x472bef||'-')+_0x57575f(0x24e);}),_0x1941a2[_0x5e5695(0x9be)]=_0x25618e,_0x360342&&!_0x4eed34&&_0x360342['querySelectorAll']('thead\x20.sortable-header')[_0x5e5695(0x808)](_0x23d9e8=>{const _0x217a0f=_0x5e5695,_0x1ab485=_0x23d9e8[_0x217a0f(0x452)](_0x217a0f(0xa73));if(_0x1ab485)_0x1ab485[_0x217a0f(0x142)]();_0x23d9e8[_0x217a0f(0xaf8)][_0x217a0f(0x835)]===quizLeaderboardSortBy&&(_0x23d9e8['innerHTML']+=_0x217a0f(0x3f3)+(quizLeaderboardSortOrder===_0x217a0f(0xad6)?'▲':'▼')+_0x217a0f(0xa1a));});}async function handleDeleteSubmission(_0x1cb2b6){const _0x14d187=_0x45baa4;if(!currentQuizData||!currentQuizData['id']||!_0x1cb2b6){showMessage(_0x14d187(0x2bf));return;}showConfirmation(_0x14d187(0x7ba)+_0x1cb2b6+_0x14d187(0x3d1),async()=>{const _0xe78f02=_0x14d187,_0xd831f2=currentQuizData['id'],_0x29817d=doc(db,_0xe78f02(0xb73)+appId+_0xe78f02(0x444)+_0xd831f2+_0xe78f02(0xc11),_0x1cb2b6);try{await deleteDoc(_0x29817d),showMessage(_0xe78f02(0x385)+_0x1cb2b6+_0xe78f02(0xcd4));}catch(_0x31f011){console[_0xe78f02(0xab1)](_0xe78f02(0xc05),_0x31f011),showMessage(_0xe78f02(0x629));}});}async function handleLoadQuiz(){const _0x4e7be2=_0x45baa4,_0x162746=document[_0x4e7be2(0xc7b)](_0x4e7be2(0x46c)),_0x43cc18=_0x162746[_0x4e7be2(0xab9)][_0x4e7be2(0x958)]();if(!_0x43cc18){showMessage(_0x4e7be2(0x5a4));return;}loadQuizBtn[_0x4e7be2(0x514)]=!![],loadQuizBtn['innerHTML']=_0x4e7be2(0x79e);try{const _0x671b3d=doc(db,_0x4e7be2(0xb73)+appId+_0x4e7be2(0xca0),_0x43cc18),_0x4a409e=await getDoc(_0x671b3d);if(!_0x4a409e['exists']()){showMessage(_0x4e7be2(0x654));return;}currentQuizData={'id':_0x4a409e['id'],..._0x4a409e[_0x4e7be2(0x4da)]()};const _0x11ed3b=currentQuizData[_0x4e7be2(0x264)]||'active',_0x1139dc=new Date();if(_0x11ed3b===_0x4e7be2(0x3fe)){showMessage(_0x4e7be2(0x760));return;}if(_0x11ed3b===_0x4e7be2(0xb11)){const _0x26429d=currentQuizData[_0x4e7be2(0x519)]?new Date(currentQuizData[_0x4e7be2(0x519)]):null,_0x1867b5=currentQuizData[_0x4e7be2(0x1f5)]?new Date(currentQuizData[_0x4e7be2(0x1f5)]):null;if(_0x26429d&&_0x1139dc<_0x26429d){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x26429d[_0x4e7be2(0x318)](_0x4e7be2(0x499),{'hour12':![]}));return;}if(_0x1867b5&&_0x1139dc>_0x1867b5){showMessage(_0x4e7be2(0x459));return;}}const _0x42d872=currentQuizData[_0x4e7be2(0xb2f)];currentProjectId=_0x42d872;const _0x56bca0=doc(db,_0x4e7be2(0xb73)+appId+_0x4e7be2(0xafc),_0x42d872),_0x1dfea3=await getDoc(_0x56bca0);if(!_0x1dfea3[_0x4e7be2(0xb1f)]()){showMessage(_0x4e7be2(0xca7));return;}const _0x55a655=_0x1dfea3[_0x4e7be2(0x4da)]();currentStudentProjectData=_0x55a655,displayStudentNameSelector(_0x55a655[_0x4e7be2(0x89e)],currentQuizData[_0x4e7be2(0x613)]);}catch(_0x386b95){console[_0x4e7be2(0xab1)](_0x4e7be2(0xa91),_0x386b95),showMessage(_0x4e7be2(0xca6));}finally{loadQuizBtn[_0x4e7be2(0x514)]=![],loadQuizBtn[_0x4e7be2(0x9be)]=_0x4e7be2(0x2db);}}async function handleJoinLiveGame(){const _0x5d82f7=_0x45baa4,_0x16ff9d=document[_0x5d82f7(0xc7b)](_0x5d82f7(0x253)),_0x37332e=document[_0x5d82f7(0xc7b)](_0x5d82f7(0x6d9)),_0x52ed59=document[_0x5d82f7(0xc7b)](_0x5d82f7(0x849)),_0x39295b=_0x16ff9d[_0x5d82f7(0xab9)][_0x5d82f7(0x958)](),_0x415bbd=_0x37332e[_0x5d82f7(0xab9)]['trim']();if(!_0x39295b||!_0x415bbd){showMessage(_0x5d82f7(0xae9));return;}_0x52ed59[_0x5d82f7(0x514)]=!![],_0x52ed59[_0x5d82f7(0x9be)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x1d5373=collection(db,_0x5d82f7(0xb73)+appId+'/public/data/liveGames'),_0x31c2d8=query(_0x1d5373,where(_0x5d82f7(0xcf3),'==',_0x39295b),where(_0x5d82f7(0x264),'in',[_0x5d82f7(0x36b),'question'])),_0x3083cb=await getDocs(_0x31c2d8);if(_0x3083cb[_0x5d82f7(0x1cd)]){showMessage(_0x5d82f7(0x2be));return;}const _0x270f72=_0x3083cb[_0x5d82f7(0xb39)][0x0],_0x4f9df6=_0x270f72['data']();currentLiveGameId=_0x270f72['id'];const _0x1cd3df=_0x4f9df6['quizId'],_0x1681fa=doc(db,_0x5d82f7(0xb73)+appId+'/public/data/quizzes',_0x1cd3df),_0x6beb35=await getDoc(_0x1681fa);if(!_0x6beb35[_0x5d82f7(0xb1f)]()){showMessage(_0x5d82f7(0x576));return;}currentQuizData={'id':_0x6beb35['id'],..._0x6beb35['data']()};if(_0x4f9df6[_0x5d82f7(0x1c4)]&&_0x4f9df6[_0x5d82f7(0x1c4)][_0x415bbd]){const _0x33e07c=_0x4f9df6['players'][_0x415bbd];if(_0x33e07c[_0x5d82f7(0x264)]==='inactive'){_0x52ed59[_0x5d82f7(0x9be)]=_0x5d82f7(0x273);const _0x445abd={};_0x445abd[_0x5d82f7(0x2cd)+_0x415bbd+'.status']=_0x5d82f7(0x870),await updateDoc(doc(db,_0x5d82f7(0xb73)+appId+_0x5d82f7(0xd2b),currentLiveGameId),_0x445abd),showView(_0x5d82f7(0x9d9)),currentStudentName=_0x415bbd,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x4f9df6['status']!==_0x5d82f7(0x36b)){showMessage(_0x5d82f7(0x8cd));return;}_0x52ed59[_0x5d82f7(0x9be)]=_0x5d82f7(0x31c);const _0x302cb6={};_0x302cb6[_0x5d82f7(0x2cd)+_0x415bbd]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x5d82f7(0x870)},await updateDoc(doc(db,_0x5d82f7(0xb73)+appId+_0x5d82f7(0xd2b),currentLiveGameId),_0x302cb6),currentStudentName=_0x415bbd,listenForLiveGameUpdates();}catch(_0x3dff7c){console[_0x5d82f7(0xab1)](_0x5d82f7(0x30e),_0x3dff7c),showMessage(_0x5d82f7(0xb86));}finally{_0x52ed59[_0x5d82f7(0x514)]=![],_0x52ed59[_0x5d82f7(0x9be)]=_0x5d82f7(0x7b3);}}function displayStudentNameSelector(_0x1a84de,_0x3025d6){const _0x3733b6=_0x45baa4,_0x54f131=document['getElementById'](_0x3733b6(0xa17));document[_0x3733b6(0xc7b)](_0x3733b6(0x32a))[_0x3733b6(0x448)]=_0x3733b6(0xb17)+_0x3025d6,!_0x1a84de||_0x1a84de[_0x3733b6(0xa33)]===0x0?(_0x54f131['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0x54f131['innerHTML']=_0x3733b6(0x5a9),_0x1a84de[_0x3733b6(0x808)](_0x1dfcf5=>{const _0x263d3f=_0x3733b6,_0x4135e0=document[_0x263d3f(0xb4b)](_0x263d3f(0x4d2));_0x4135e0[_0x263d3f(0xab9)]=_0x1dfcf5,_0x4135e0[_0x263d3f(0x448)]=_0x1dfcf5,_0x54f131[_0x263d3f(0xcd3)](_0x4135e0);}),startQuizBtn['disabled']=![]),studentInitialView[_0x3733b6(0x246)]['add']('hidden'),studentNameSelectionView[_0x3733b6(0x246)]['remove'](_0x3733b6(0x35d));}function shuffleArray(_0x10ce27){const _0x5510a1=_0x45baa4;for(let _0xcdfdb9=_0x10ce27[_0x5510a1(0xa33)]-0x1;_0xcdfdb9>0x0;_0xcdfdb9--){const _0x4365a6=Math[_0x5510a1(0x864)](Math[_0x5510a1(0x293)]()*(_0xcdfdb9+0x1));[_0x10ce27[_0xcdfdb9],_0x10ce27[_0x4365a6]]=[_0x10ce27[_0x4365a6],_0x10ce27[_0xcdfdb9]];}}function getShuffledQuiz(_0x204b93){const _0x29cd63=_0x45baa4;let _0x1512f3=JSON[_0x29cd63(0xad4)](JSON['stringify'](_0x204b93));const _0x901c46=_0x1512f3[_0x29cd63(0xd09)]?.[_0x29cd63(0x721)]||_0x29cd63(0xada);if(_0x901c46===_0x29cd63(0xada))return _0x1512f3;return(_0x901c46===_0x29cd63(0xc00)||_0x901c46===_0x29cd63(0x940))&&shuffleArray(_0x1512f3[_0x29cd63(0x92e)]),(_0x901c46==='choices_only'||_0x901c46===_0x29cd63(0x940))&&_0x1512f3[_0x29cd63(0x92e)]['forEach'](_0x576db5=>{const _0xf0082d=_0x29cd63,_0x4625fa=_0x576db5[_0xf0082d(0x34f)]||_0x1512f3[_0xf0082d(0x9f7)];if(_0x576db5[_0xf0082d(0x929)]){let _0x1a3516=_0x576db5[_0xf0082d(0x929)]['map']((_0x7cb70c,_0x4033c0)=>({'text':_0x7cb70c,'isCorrect':_0x4033c0===_0x576db5[_0xf0082d(0xbfe)]}));shuffleArray(_0x1a3516),_0x576db5[_0xf0082d(0x929)]=_0x1a3516[_0xf0082d(0x327)](_0x271781=>_0x271781[_0xf0082d(0x26e)]),_0x576db5['correctAnswerIndex']=_0x1a3516['findIndex'](_0x23570c=>_0x23570c['isCorrect']);}_0x4625fa==='matching_item'&&_0x576db5[_0xf0082d(0x416)]&&shuffleArray(_0x576db5[_0xf0082d(0x416)]);}),_0x1512f3;}function displayQuizForStudent(_0x61503f){const _0x5cc44e=_0x45baa4;studentQuizArea[_0x5cc44e(0x246)][_0x5cc44e(0x142)](_0x5cc44e(0x35d)),currentDisplayedQuiz=getShuffledQuiz(_0x61503f);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5cc44e(0x21f)]('fullscreenchange',handleFullscreenChange),document[_0x5cc44e(0x21f)](_0x5cc44e(0x763),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x5cc44e(0x671),resetDimTimer),window['addEventListener'](_0x5cc44e(0x9a5),resetDimTimer),window[_0x5cc44e(0x21f)]('touchstart',resetDimTimer),window[_0x5cc44e(0x21f)]('keydown',resetDimTimer),resetDimTimer());const _0xce33f1=currentDisplayedQuiz['settings']?.[_0x5cc44e(0x988)]||_0x5cc44e(0xada);if(_0xce33f1==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0xce33f1===_0x5cc44e(0x1e8)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x4d0746=_0x45baa4,_0x46793b=currentDisplayedQuiz[_0x4d0746(0xd09)]?.['isConfidenceScoringEnabled']===!![],_0x5ad277=currentDisplayedQuiz[_0x4d0746(0xd09)]?.['confidenceMode']||_0x4d0746(0xc8e);let _0x49b128=_0x4d0746(0xa5e)+currentDisplayedQuiz[_0x4d0746(0x613)]+_0x4d0746(0xa4e)+(currentMode===_0x4d0746(0x622)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x4d0746(0x923);currentDisplayedQuiz['questions']['forEach']((_0x427e7e,_0x2a0f35)=>{const _0x24d95e=_0x4d0746,_0x321539=_0x427e7e[_0x24d95e(0x34f)]||currentDisplayedQuiz['quizType'];_0x49b128+=_0x24d95e(0x168);if(_0x321539==='matching_item'){}else _0x49b128+=_0x24d95e(0xc23)+(_0x2a0f35+0x1)+'.\x20'+(_0x427e7e['instructions']||_0x427e7e['questionText'])+'</p>',_0x427e7e[_0x24d95e(0x76d)]&&(_0x49b128+=_0x24d95e(0x554)+_0x427e7e[_0x24d95e(0x76d)]+_0x24d95e(0x418));_0x49b128+=_0x24d95e(0x335);switch(_0x321539){case _0x24d95e(0x19e):_0x49b128+=_0x24d95e(0x225)+_0x2a0f35+_0x24d95e(0x3d5);break;case _0x24d95e(0x3f8):_0x49b128+=_0x24d95e(0x1c7)+_0x2a0f35+_0x24d95e(0xcc9)+_0x2a0f35+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2a0f35+_0x24d95e(0xa48),_0x49b128+=_0x24d95e(0x1c7)+_0x2a0f35+_0x24d95e(0xcb6)+_0x2a0f35+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2a0f35+_0x24d95e(0xc67);break;case _0x24d95e(0xafa):_0x49b128+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x427e7e[_0x24d95e(0x6ea)]+_0x24d95e(0x7a2)+_0x2a0f35+_0x24d95e(0xc18)+_0x427e7e[_0x24d95e(0x416)][_0x24d95e(0x327)](_0x4cb4de=>_0x24d95e(0x490)+_0x4cb4de+'\x22>'+_0x4cb4de+'</option>')[_0x24d95e(0x7a0)]('')+_0x24d95e(0x81c);break;default:_0x49b128+=_0x427e7e[_0x24d95e(0x929)][_0x24d95e(0x327)]((_0x370eb0,_0x10899e)=>_0x24d95e(0xb18)+_0x2a0f35+'_opt'+_0x10899e+'\x22\x20name=\x22question'+_0x2a0f35+_0x24d95e(0x3be)+_0x10899e+_0x24d95e(0x173)+_0x2a0f35+_0x24d95e(0xa50)+_0x10899e+'\x22>'+_0x370eb0+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x24d95e(0x7a0)]('');break;}_0x49b128+=_0x24d95e(0x418),_0x46793b&&(_0x49b128+=_0x24d95e(0x23a),_0x5ad277===_0x24d95e(0x6a2)?_0x49b128+=_0x24d95e(0x36c)+_0x2a0f35+_0x24d95e(0x9e1)+_0x2a0f35+_0x24d95e(0xc79)+_0x2a0f35+_0x24d95e(0xb91)+_0x2a0f35+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x49b128+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x2a0f35+_0x24d95e(0x9e1)+_0x2a0f35+_0x24d95e(0x4ad)+_0x2a0f35+_0x24d95e(0xb96),_0x49b128+=_0x24d95e(0x418)),_0x49b128+=_0x24d95e(0x418);}),_0x49b128+=_0x4d0746(0x7d6),_0x49b128+=_0x4d0746(0x7c9),studentQuizArea[_0x4d0746(0x9be)]=_0x49b128;if(currentMode===_0x4d0746(0x622)){const _0x48c084=document['getElementById'](_0x4d0746(0x684));if(_0x48c084)_0x48c084[_0x4d0746(0x21f)](_0x4d0746(0xb10),cancelAdminTest);}const _0x4b1e12=document['getElementById'](_0x4d0746(0x8d8));_0x4b1e12&&(_0x4b1e12[_0x4d0746(0x21f)](_0x4d0746(0x6a3),handleSubmitQuiz),_0x4b1e12['addEventListener'](_0x4d0746(0xb10),_0x5cef3b=>{const _0x35f6d2=_0x4d0746;if(_0x5cef3b['target']['classList'][_0x35f6d2(0x543)](_0x35f6d2(0x2c3))){const _0x139e90=_0x5cef3b[_0x35f6d2(0x796)],_0x1897d6=_0x139e90['dataset']['questionIndex'],_0x39d437=_0x139e90[_0x35f6d2(0xaf8)][_0x35f6d2(0xab9)];document['getElementById'](_0x35f6d2(0xa03)+_0x1897d6)[_0x35f6d2(0xab9)]=_0x39d437;const _0x12e033=_0x139e90['parentElement'];_0x12e033[_0x35f6d2(0x336)]('.confidence-choice-btn')[_0x35f6d2(0x808)](_0x20f156=>_0x20f156[_0x35f6d2(0x246)][_0x35f6d2(0x142)](_0x35f6d2(0x870))),_0x139e90[_0x35f6d2(0x246)][_0x35f6d2(0x329)](_0x35f6d2(0x870));}}));if(window['MathJax'])window[_0x4d0746(0x8a3)][_0x4d0746(0x91c)]([studentQuizArea]);}async function handleSubmitQuiz(_0x45070c){const _0x1e1db4=_0x45baa4;if(_0x45070c)_0x45070c[_0x1e1db4(0xcd0)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x536b87=document[_0x1e1db4(0xc7b)](_0x1e1db4(0x8d8));if(!_0x536b87)return;const _0x2fe94b=currentDisplayedQuiz[_0x1e1db4(0xd09)]?.['isConfidenceScoringEnabled']===!![],_0x43f2fc=currentDisplayedQuiz[_0x1e1db4(0xd09)]?.[_0x1e1db4(0x725)]||_0x1e1db4(0xc8e);if(_0x2fe94b&&_0x43f2fc==='mandatory'){let _0x32b255=!![];for(let _0x297e64=0x0;_0x297e64<currentDisplayedQuiz[_0x1e1db4(0x92e)][_0x1e1db4(0xa33)];_0x297e64++){const _0x1c8ff7=_0x536b87[_0x1e1db4(0x452)]('#confidence-input-'+_0x297e64);if(!_0x1c8ff7||_0x1c8ff7[_0x1e1db4(0xab9)]===''){_0x32b255=![];break;}}if(!_0x32b255){showMessage(_0x1e1db4(0x288));return;}}const _0x575c82=_0x536b87[_0x1e1db4(0x452)]('button[type=\x22submit\x22]'),_0x8b79a7=currentDisplayedQuiz[_0x1e1db4(0x92e)][_0x1e1db4(0x1fc)](_0x2da9af=>_0x2da9af[_0x1e1db4(0x34f)]===_0x1e1db4(0x19e));_0x575c82&&(_0x575c82[_0x1e1db4(0x514)]=!![],_0x575c82[_0x1e1db4(0x9be)]=_0x8b79a7?_0x1e1db4(0x1be):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x51d164=new FormData(_0x536b87),_0x8fae67=currentDisplayedQuiz[_0x1e1db4(0x92e)][_0x1e1db4(0x327)]((_0x2b5d06,_0x174671)=>{const _0x3dfca5=_0x1e1db4,_0x51ca8e=_0x51d164[_0x3dfca5(0x67a)](_0x3dfca5(0xa76)+_0x174671);let _0x2da755;_0x43f2fc===_0x3dfca5(0x6a2)?_0x2da755=_0x51d164[_0x3dfca5(0x67a)](_0x3dfca5(0x49a)+_0x174671):_0x2da755=_0x51d164[_0x3dfca5(0x67a)]('confidence'+_0x174671)==='on';let _0x41e80a=null;if(_0x51ca8e!==null&&_0x51ca8e!==undefined){const _0x2589df=_0x2b5d06[_0x3dfca5(0x34f)]||currentDisplayedQuiz['quizType'];_0x2589df===_0x3dfca5(0x35a)||_0x2589df===_0x3dfca5(0x66d)?_0x41e80a=parseInt(_0x51ca8e):_0x41e80a=_0x51ca8e;}return{'answer':_0x41e80a,'wasConfident':_0x2da755};}),_0x349b50=currentQuizData['id'],_0x3abe5e=doc(db,'artifacts/'+appId+_0x1e1db4(0x444)+_0x349b50+_0x1e1db4(0xc11),currentStudentName),_0x4c081d=await getDoc(_0x3abe5e),_0x442070=_0x4c081d[_0x1e1db4(0xb1f)]()?_0x4c081d[_0x1e1db4(0x4da)]():{},_0x44e5d1=_0x442070[_0x1e1db4(0x39d)]||[];await processAndSubmitAnswers(_0x8fae67,_0x44e5d1);}async function gradeShortAnswerWithAI(_0x35742b,_0x500274){const _0x4851b8=_0x45baa4;if(!_0x35742b||!_0x500274)return![];try{const _0x142d27='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x35742b+_0x4851b8(0x302)+_0x500274+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x4eb460={'contents':[{'role':_0x4851b8(0x9ca),'parts':[{'text':_0x142d27}]}]},_0x5b3330=_0x4851b8(0x23c),_0xbf6702=_0x4851b8(0xc7c)+_0x5b3330,_0x3b15e8=await fetch(_0xbf6702,{'method':_0x4851b8(0x628),'headers':{'Content-Type':_0x4851b8(0xaf5)},'body':JSON[_0x4851b8(0x4cb)](_0x4eb460)});if(!_0x3b15e8['ok'])throw new Error('API\x20call\x20failed');const _0x535e3f=await _0x3b15e8['json'](),_0x53f176=_0x535e3f[_0x4851b8(0xb69)][0x0]['content'][_0x4851b8(0x3eb)][0x0][_0x4851b8(0x26e)][_0x4851b8(0x958)]()['toLowerCase']();return _0x53f176===_0x4851b8(0xaa7);}catch(_0xd03435){return console[_0x4851b8(0xab1)](_0x4851b8(0xb95),_0xd03435),![];}}async function processAndSubmitAnswers(_0x4db06c,_0x2252f2){const _0x21f28d=_0x45baa4;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x21f28d(0xc0e)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x21f28d(0x763),handleVisibilityChange);let _0x1cd088=0x0;const _0x49af7b=[],_0x1c9511=currentDisplayedQuiz[_0x21f28d(0x92e)][_0x21f28d(0xa33)];let _0x5dfa9b=0x0,_0x78ae37=[];const _0x215a29=currentDisplayedQuiz['questions'];for(let _0x530eaf=0x0;_0x530eaf<_0x215a29['length'];_0x530eaf++){const _0x3d0eb2=_0x215a29[_0x530eaf],_0x12f89e=_0x4db06c[_0x530eaf],_0x3184bf=_0x12f89e?_0x12f89e['answer']:null,_0x1370e4=_0x12f89e?_0x12f89e[_0x21f28d(0x8f3)]:null;let _0x1c3941=![],_0x26e92c=0x0;if(_0x3184bf!==null&&_0x3184bf!==''){const _0x32d335=_0x3d0eb2[_0x21f28d(0x34f)]||currentDisplayedQuiz[_0x21f28d(0x9f7)];switch(_0x32d335){case _0x21f28d(0xafa):_0x1c3941=_0x3184bf===_0x3d0eb2[_0x21f28d(0x492)];break;case _0x21f28d(0x3f8):const _0x53657f=_0x3184bf===!![]||_0x3184bf==='true';_0x1c3941=_0x53657f===_0x3d0eb2[_0x21f28d(0x4cc)];break;case _0x21f28d(0x19e):_0x1c3941=await gradeShortAnswer(_0x3184bf,_0x3d0eb2);break;case'multiple_choice':default:_0x1c3941=Number(_0x3184bf)===_0x3d0eb2[_0x21f28d(0xbfe)];break;}}if(currentDisplayedQuiz[_0x21f28d(0xd09)]?.[_0x21f28d(0xc16)]){const _0xa6490b=_0x12f89e?_0x12f89e[_0x21f28d(0x8f3)]:null;if(_0x1c3941&&(_0xa6490b===!![]||_0xa6490b===_0x21f28d(0x45e)))_0x26e92c=0x2;else{if(_0x1c3941)_0x26e92c=0x1;else{if(!_0x1c3941&&(_0xa6490b===![]||_0xa6490b===_0x21f28d(0x3ef)||_0xa6490b===null))_0x26e92c=0x0;else!_0x1c3941&&(_0xa6490b===!![]||_0xa6490b===_0x21f28d(0x45e))&&(_0x26e92c=-0x1);}}}else _0x26e92c=_0x1c3941?0x1:0x0;_0x1cd088+=_0x26e92c;if(_0x1c3941){_0x5dfa9b++;if(_0x5dfa9b===0x3)_0x78ae37[_0x21f28d(0xd01)](BADGES[_0x21f28d(0x5e6)]['id']);}else _0x5dfa9b=0x0;let _0x48dcce=null;_0x3d0eb2[_0x21f28d(0x929)]&&_0x3184bf!==null&&(_0x48dcce=_0x3d0eb2['options'][_0x3184bf]),_0x49af7b[_0x21f28d(0xd01)]({'questionId':_0x3d0eb2['id'],'answer':_0x3184bf,'answerText':_0x48dcce,'isCorrect':_0x1c3941,'wasConfident':_0x1370e4,'pointsAwarded':_0x26e92c,'originalQuestionText':_0x3d0eb2['stem']||_0x3d0eb2[_0x21f28d(0x24b)]});}const _0x574c9f=_0x49af7b[_0x21f28d(0x6d0)](_0x113676=>_0x113676[_0x21f28d(0xcf5)])['length'],_0x8c483c=currentDisplayedQuiz[_0x21f28d(0xd09)]?.['passingScore']??Math[_0x21f28d(0x864)](_0x1c9511/0x2);_0x574c9f===_0x1c9511&&_0x1c9511>0x0&&!currentDisplayedQuiz[_0x21f28d(0x8f9)]&&_0x78ae37['push'](BADGES[_0x21f28d(0x37b)]['id']);const _0x372087=currentDisplayedQuiz[_0x21f28d(0xd09)]?.[_0x21f28d(0x988)];if(_0x372087==='whole_quiz'&&quizStartTime){const _0x9f49e6=(new Date()-quizStartTime)/0x3e8,_0x807b81=currentDisplayedQuiz[_0x21f28d(0xd09)][_0x21f28d(0x44d)]*0x3c;_0x574c9f>=_0x8c483c&&_0x9f49e6<_0x807b81/0x2&&_0x78ae37[_0x21f28d(0xd01)](BADGES[_0x21f28d(0x30d)]['id']);}_0x2252f2[_0x21f28d(0xa33)]===0x0&&_0x574c9f===_0x1c9511&&_0x1c9511>0x0&&_0x78ae37[_0x21f28d(0xd01)](BADGES[_0x21f28d(0x505)]['id']);if(_0x2252f2['length']>0x0){const _0x26c64c=_0x2252f2[0x0]['score'];if(_0x26c64c<_0x8c483c&&_0x574c9f>=_0x8c483c){const _0x4372b6=_0x2252f2[_0x21f28d(0x1fc)](_0x3b4210=>(_0x3b4210['badges']||[])[_0x21f28d(0xc04)](BADGES[_0x21f28d(0x38d)]['id']));!_0x4372b6&&_0x78ae37[_0x21f28d(0xd01)](BADGES['COMEBACK_KING']['id']);}}_0x2252f2[_0x21f28d(0xa33)]===0x4&&_0x78ae37[_0x21f28d(0xd01)](BADGES[_0x21f28d(0xa92)]['id']);const _0x5d5400=currentDisplayedQuiz[_0x21f28d(0xd09)][_0x21f28d(0x25f)];if(currentMode===_0x21f28d(0x622)){handleResultDisplay(_0x5d5400,_0x574c9f,_0x1cd088,_0x78ae37,_0x49af7b,_0x1c9511);return;}const _0x22f856=currentQuizData['id'],_0x43ecdc=doc(db,_0x21f28d(0xb73)+appId+_0x21f28d(0x444)+_0x22f856+_0x21f28d(0xc11),currentStudentName);try{const _0x12f4dc=[..._0x2252f2],_0x14d8b7={'score':_0x574c9f,'points':_0x1cd088,'badges':Array['from'](new Set(_0x78ae37)),'submittedAt':new Date()[_0x21f28d(0x67e)](),'answers':_0x49af7b};_0x12f4dc['push'](_0x14d8b7);const _0xa2d9a4=_0x2252f2[_0x21f28d(0xa33)]===0x0?_0x574c9f:_0x2252f2[0x0]['score']||0x0,_0x59a1d8=Math[_0x21f28d(0x573)](..._0x12f4dc[_0x21f28d(0x327)](_0x1e26c2=>_0x1e26c2['score']));await setDoc(_0x43ecdc,{'studentName':currentStudentName,'totalQuestions':_0x1c9511,'attempts':_0x12f4dc,'firstScore':_0xa2d9a4,'bestScore':_0x59a1d8,'latestScore':_0x574c9f,'points':_0x1cd088,'latestSubmittedAt':_0x14d8b7[_0x21f28d(0xbf7)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x21f28d(0xb2f)],currentStudentName),handleResultDisplay(_0x5d5400,_0x574c9f,_0x1cd088,_0x78ae37,_0x49af7b,_0x1c9511);}catch(_0x375f6c){console[_0x21f28d(0xab1)](_0x21f28d(0x6bf),_0x375f6c),showMessage(_0x21f28d(0xa01));}}async function updateStudentProfile(_0x1db658,_0x4e86d4){const _0x395cbe=_0x45baa4,_0x427251=doc(db,_0x395cbe(0xb73)+appId+_0x395cbe(0x326)+_0x1db658+_0x395cbe(0x992),_0x4e86d4);try{const _0x5550d5=query(collection(db,_0x395cbe(0xb73)+appId+_0x395cbe(0xca0)),where(_0x395cbe(0xb2f),'==',_0x1db658)),_0x5b08a5=await getDocs(_0x5550d5),_0x502f0d=new Map(_0x5b08a5[_0x395cbe(0xb39)][_0x395cbe(0x327)](_0x4e3846=>[_0x4e3846['id'],_0x4e3846[_0x395cbe(0x4da)]()])),_0x664043=Array[_0x395cbe(0x36f)](_0x502f0d[_0x395cbe(0x7a9)]());await runTransaction(db,async _0x4c92bc=>{const _0x1379e8=_0x395cbe;let _0x387aac=0x0;const _0x14b342={};let _0x18f68e=!![],_0xcc72ee=0x0,_0x404250=0x0;for(const _0x256538 of _0x664043){const _0x2798f0=_0x502f0d[_0x1379e8(0x67a)](_0x256538),_0x49af67=doc(db,_0x1379e8(0xb73)+appId+'/public/data/quizzes/'+_0x256538+_0x1379e8(0xc11),_0x4e86d4),_0x2dd04f=await _0x4c92bc[_0x1379e8(0x67a)](_0x49af67);if(_0x2dd04f[_0x1379e8(0xb1f)]()){const _0x29d3ed=_0x2dd04f[_0x1379e8(0x4da)](),_0xed81e=_0x29d3ed[_0x1379e8(0x39d)]||[];if(_0xed81e[_0x1379e8(0xa33)]>0x0){const _0x32b2d4=_0xed81e[_0x1379e8(0x9ac)]((_0x43eb17,_0x1c4c9f)=>{const _0x52da9a=_0x1379e8;if(_0x1c4c9f[_0x52da9a(0xbf3)]>_0x43eb17[_0x52da9a(0xbf3)])return _0x1c4c9f;if(_0x1c4c9f[_0x52da9a(0xbf3)]===_0x43eb17['score'])return(_0x1c4c9f[_0x52da9a(0xba9)]||0x0)>(_0x43eb17[_0x52da9a(0xba9)]||0x0)?_0x1c4c9f:_0x43eb17;return _0x43eb17;},{'score':-0x1,'points':-0x1});_0x32b2d4[_0x1379e8(0xbf3)]>-0x1&&(_0x387aac+=_0x32b2d4['points']||0x0,(_0x32b2d4[_0x1379e8(0xa51)]||[])[_0x1379e8(0x808)](_0xdae9e1=>{_0x14b342[_0xdae9e1]=(_0x14b342[_0xdae9e1]||0x0)+0x1;}));}}if(_0x2798f0[_0x1379e8(0x613)]!=='แบบทดสอบซ่อมเสริม'){_0x404250++;if(_0x2dd04f['exists']()){_0xcc72ee++;const _0x112a7b=_0x2dd04f['data']();_0x112a7b['bestScore']!==_0x112a7b['totalQuestions']&&(_0x18f68e=![]);}else _0x18f68e=![];}}_0x404250>0x0&&_0xcc72ee===_0x404250&&_0x18f68e?_0x14b342[_0x1379e8(0xb70)]=0x1:_0x14b342[_0x1379e8(0xb70)]=0x0,_0x4c92bc['set'](_0x427251,{'studentName':_0x4e86d4,'totalPoints':_0x387aac,'unlockedBadges':Object[_0x1379e8(0x7a9)](_0x14b342)[_0x1379e8(0x6d0)](_0x20c421=>_0x14b342[_0x20c421]>0x0),'badgesCount':_0x14b342},{'merge':!![]});});}catch(_0x3892a9){console['error'](_0x395cbe(0xbcf),_0x3892a9),showMessage(_0x395cbe(0x4f8));}}function startAdminTest(){const _0x35ad61=_0x45baa4;if(!currentQuizData){showMessage(_0x35ad61(0xd59));return;}let _0x353878=JSON[_0x35ad61(0xad4)](JSON['stringify'](currentQuizData));currentMode=_0x35ad61(0x622),currentStudentName=_0x35ad61(0xd34),adminView[_0x35ad61(0x246)][_0x35ad61(0x329)](_0x35ad61(0x35d)),studentView[_0x35ad61(0x246)][_0x35ad61(0x142)]('hidden'),studentInitialView[_0x35ad61(0x246)]['add'](_0x35ad61(0x35d)),studentNameSelectionView[_0x35ad61(0x246)][_0x35ad61(0x329)](_0x35ad61(0x35d)),studentResultArea['classList'][_0x35ad61(0x329)](_0x35ad61(0x35d)),studentQuizArea['classList']['remove'](_0x35ad61(0x35d)),quizStartTime=new Date(),displayQuizForStudent(_0x353878);}function handleResultDisplay(_0xadbd69,_0x470b8a,_0x37e16e,_0x10a3e3,_0x474ea7,_0x3539b7){const _0x3a8330=_0x45baa4;if(_0xadbd69===_0x3a8330(0xc65)){displaySubmissionConfirmation();return;}const _0x47702f=currentDisplayedQuiz[_0x3a8330(0xd09)]?.[_0x3a8330(0x442)]??Math[_0x3a8330(0x864)](_0x3539b7/0x2),_0x5a1d23=currentDisplayedQuiz[_0x3a8330(0xd09)]?.[_0x3a8330(0xd5d)]??![],_0x13d2bf=currentDisplayedQuiz['settings']?.[_0x3a8330(0x57c)]===!![],_0x22f97b=_0x470b8a<_0x47702f,_0xbf0a8f=_0xadbd69===_0x3a8330(0xba5)||_0xadbd69===_0x3a8330(0x734);if(_0x13d2bf&&_0x22f97b&&!_0xbf0a8f){_0xadbd69===_0x3a8330(0xb98)?displayResultsWithAnswers(_0x470b8a,_0x37e16e,_0x10a3e3,_0x474ea7,_0x3539b7,!![]):displayLoopScreen(_0x470b8a,_0x3539b7,_0xadbd69);return;}if(_0x5a1d23&&_0x22f97b){startAdaptiveFlow(_0x474ea7,_0x470b8a,_0x3539b7);return;}switch(_0xadbd69){case _0x3a8330(0xb98):displayResultsWithAnswers(_0x470b8a,_0x37e16e,_0x10a3e3,_0x474ea7,_0x3539b7);break;case'show_results_only':displayResultsScoreOnly(_0x470b8a,_0x37e16e,_0x10a3e3,_0x3539b7);break;case _0x3a8330(0x7cc):displayPassFailOnly(_0x470b8a,_0x3539b7);break;case'half_mark_status':displayHalfMarkResult(_0x470b8a,_0x3539b7);break;case _0x3a8330(0x734):displayPerfectScoreResult(_0x470b8a,_0x3539b7);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x7047d4){const _0x4c0781=_0x45baa4;studentReadingArea[_0x4c0781(0x9be)]=_0x4c0781(0xc2e);const _0x3c3112=_0x4c0781(0x91b)+_0x7047d4+_0x4c0781(0x72d)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x388d83={'type':_0x4c0781(0x1c8),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4c0781(0x559),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4c0781(0x366)},'explanation':{'type':_0x4c0781(0x3ed)}},'required':[_0x4c0781(0x24b),'options',_0x4c0781(0xbfe),'explanation']},_0x128100={'type':_0x4c0781(0x1c8),'properties':{'topic':{'type':_0x4c0781(0x3ed)},'questions':{'type':_0x4c0781(0x559),'items':_0x388d83}},'required':[_0x4c0781(0x613),_0x4c0781(0x92e)]};try{const _0xa26bf2=await callAnalysisApi(_0x3c3112,_0x128100);_0xa26bf2[_0x4c0781(0x8f9)]=!![],studentReadingArea[_0x4c0781(0x246)][_0x4c0781(0x329)]('hidden');const _0x1a410a={...currentDisplayedQuiz[_0x4c0781(0xd09)],'isAdaptive':![],'resultsDisplay':_0x4c0781(0xb98)};_0xa26bf2[_0x4c0781(0xd09)]=_0x1a410a,displayQuizForStudent(_0xa26bf2);}catch(_0x32630f){console[_0x4c0781(0xab1)](_0x4c0781(0x5fd),_0x32630f),showMessage(_0x4c0781(0x255)),showView('student');}}function displayPassFailOnly(_0xdc0a2a,_0x10a8a1){const _0x14092e=_0x45baa4,_0x205eb7=currentDisplayedQuiz['settings']?.[_0x14092e(0x442)]??-0x1,_0x415e87=currentDisplayedQuiz['isRemedial']===!![];let _0x582bf0='',_0x18c554=![];if(_0x415e87||_0x205eb7!==-0x1){_0x18c554=_0x415e87?_0xdc0a2a===_0x10a8a1:_0xdc0a2a>=_0x205eb7;const _0x58030a=_0x18c554?_0x14092e(0x623):_0x14092e(0x218),_0x2293ac=_0x18c554?'ผ่าน':_0x14092e(0xd1c);_0x582bf0=_0x14092e(0xb94)+_0x58030a+'\x22>'+_0x2293ac+'</span></div>';}else _0x582bf0=_0x14092e(0xb1b);let _0x442948=_0x14092e(0x8f8)+currentStudentName+_0x14092e(0x503)+_0x582bf0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x14092e(0x9be)]=_0x442948,studentResultArea[_0x14092e(0x246)][_0x14092e(0x142)](_0x14092e(0x35d)),studentQuizArea['classList'][_0x14092e(0x329)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x18c554});}function cancelAdminTest(){const _0x16bcab=_0x45baa4;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x16bcab(0xc0e)](_0x16bcab(0xa11),handleFullscreenChange),document[_0x16bcab(0xc0e)]('visibilitychange',handleVisibilityChange),currentMode='admin',studentView[_0x16bcab(0x246)][_0x16bcab(0x329)](_0x16bcab(0x35d)),adminView[_0x16bcab(0x246)][_0x16bcab(0x142)](_0x16bcab(0x35d)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x16bcab(0x848));}function setupResultScreenBackButton(_0xf5a204){const _0x15839e=_0x45baa4,_0xc6faf5={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0xf5a204};if(_0xc6faf5[_0x15839e(0x70d)]){const _0x58172a=_0x15839e(0xbd7);studentResultArea[_0x15839e(0x751)](_0x15839e(0xad7),_0x58172a),document[_0x15839e(0xc7b)](_0x15839e(0x3cc))['addEventListener'](_0x15839e(0xb10),()=>{const _0x2f5360=_0x15839e;studentResultArea[_0x2f5360(0x246)][_0x2f5360(0x329)](_0x2f5360(0x35d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x44f75b=_0x15839e(0x536),_0x5ac559=currentMode===_0x15839e(0x622),_0x361d9f=_0x5ac559?_0x15839e(0x8a1):_0x15839e(0x89f);let _0x20826c='';_0xc6faf5[_0x15839e(0x356)]&&(_0x20826c+=_0x15839e(0x4bd));let _0x22d3cd=_0xc6faf5[_0x15839e(0xae8)];_0x22d3cd===undefined&&(_0x22d3cd=_0xc6faf5[_0x15839e(0xbf3)]<_0xc6faf5['totalQuestions']);_0x22d3cd&&(_0x20826c+=_0x15839e(0xbb5));_0x20826c+=_0x15839e(0x6f5)+_0x44f75b+_0x15839e(0x96d)+_0x361d9f+_0x15839e(0x710);const _0x4959af='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x20826c+'</div>';studentResultArea[_0x15839e(0x751)](_0x15839e(0xad7),_0x4959af),studentResultArea['querySelector'](_0x15839e(0xbeb))?.['addEventListener']('click',handleShowStudentRankings);const _0x16f9ab=studentResultArea[_0x15839e(0x452)](_0x15839e(0x4bc));_0x16f9ab&&_0x16f9ab[_0x15839e(0x21f)](_0x15839e(0xb10),()=>{const _0xec3394=_0x15839e;studentResultArea[_0xec3394(0x246)][_0xec3394(0x329)](_0xec3394(0x35d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x15839e(0xc7b)](_0x44f75b)[_0x15839e(0x21f)](_0x15839e(0xb10),()=>{const _0x5f3d5e=_0x15839e;_0x5ac559?(currentMode='admin',studentView[_0x5f3d5e(0x246)][_0x5f3d5e(0x329)](_0x5f3d5e(0x35d)),adminView[_0x5f3d5e(0x246)][_0x5f3d5e(0x142)](_0x5f3d5e(0x35d)),showView(_0x5f3d5e(0x848))):(showView(_0x5f3d5e(0x568)),document[_0x5f3d5e(0xc7b)](_0x5f3d5e(0x46c))[_0x5f3d5e(0xab9)]='');});}function displayResultsWithAnswers(_0x257d86,_0x55936f,_0x28152a,_0x46265e,_0x4c084f,_0x1ae6b1=![]){const _0x1973fa=_0x45baa4,_0x2abed0=_0x4c084f>0x0?_0x257d86/_0x4c084f*0x64:0x0,_0x22e01f=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x1b9c65=currentDisplayedQuiz['isRemedial']===!![];let _0x3ca1b4='';if(_0x1b9c65||_0x22e01f!==-0x1){let _0x4ad6e4=_0x1b9c65?_0x257d86===_0x4c084f:_0x257d86>=_0x22e01f;const _0x32dd1d=_0x4ad6e4?_0x1973fa(0x623):_0x1973fa(0x218),_0x27ccbf=_0x4ad6e4?_0x1973fa(0xbd4):'ไม่ผ่าน';_0x3ca1b4='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x32dd1d+'\x22>'+_0x27ccbf+'</p>';}let _0x3f5775='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x257d86+_0x1973fa(0x393)+_0x4c084f+_0x1973fa(0x47e)+_0x3ca1b4+_0x1973fa(0x306)+_0x55936f+_0x1973fa(0xa24)+_0x2abed0[_0x1973fa(0xa97)](0x0)+_0x1973fa(0x27d);currentDisplayedQuiz[_0x1973fa(0x92e)]['forEach']((_0x506482,_0x56d123)=>{const _0x244d1d=_0x1973fa,_0x2a2f04=_0x46265e[_0x56d123],_0x58a0b9=_0x2a2f04[_0x244d1d(0x694)],_0x4c3400=_0x2a2f04[_0x244d1d(0xcf5)],_0x4dede4=_0x506482[_0x244d1d(0x34f)]||currentDisplayedQuiz[_0x244d1d(0x9f7)];_0x3f5775+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x4c3400?_0x244d1d(0xaa6):'border-red-300\x20bg-red-50')+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x56d123+0x1)+'.\x20'+(_0x506482['stem']||_0x506482[_0x244d1d(0x24b)])+_0x244d1d(0x67c);switch(_0x4dede4){case _0x244d1d(0xafa):const _0x2543a7=_0x58a0b9||_0x244d1d(0x6ae),_0x14608f=_0x506482[_0x244d1d(0x492)];_0x3f5775+=_0x244d1d(0x98d)+(!_0x4c3400?_0x244d1d(0xa9f):'')+'\x22>'+_0x2543a7+_0x244d1d(0x82c);!_0x4c3400&&(_0x3f5775+=_0x244d1d(0x244)+_0x14608f+_0x244d1d(0x4fa));break;case _0x244d1d(0x19e):_0x3f5775+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x58a0b9||'ไม่ได้ตอบ')+'</p>',_0x3f5775+=_0x244d1d(0x934)+_0x506482[_0x244d1d(0xc96)]+_0x244d1d(0x4fa);break;case _0x244d1d(0x3f8):_0x3f5775+=_0x244d1d(0x566)+(_0x506482[_0x244d1d(0x4cc)]===!![]?_0x244d1d(0xd17):'')+'\x20'+(_0x58a0b9==='true'&&!_0x4c3400?_0x244d1d(0xa9f):'')+'\x22>ใช่</p>',_0x3f5775+=_0x244d1d(0x566)+(_0x506482[_0x244d1d(0x4cc)]===![]?_0x244d1d(0xd17):'')+'\x20'+(_0x58a0b9===_0x244d1d(0x602)&&!_0x4c3400?_0x244d1d(0xa9f):'')+'\x22>ไม่ใช่</p>';break;default:_0x3f5775+=_0x506482['options'][_0x244d1d(0x327)]((_0x30ebd4,_0x5f105d)=>{const _0x2de541=_0x244d1d;let _0x4e2f75='',_0x4b66bf='';if(_0x5f105d===_0x506482[_0x2de541(0xbfe)])_0x4e2f75=_0x2de541(0xd17),_0x4b66bf=_0x2de541(0x843);else _0x5f105d===_0x58a0b9&&(_0x4e2f75=_0x2de541(0x585),_0x4b66bf=_0x2de541(0xbb9));return _0x2de541(0x241)+_0x4e2f75+'\x22>'+_0x4b66bf+_0x30ebd4+_0x2de541(0x418);})[_0x244d1d(0x7a0)]('');break;}_0x3f5775+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x506482[_0x244d1d(0xd36)]||_0x244d1d(0x6f1))+_0x244d1d(0x418);if(!_0x4c3400){const _0x43d660=_0x506482[_0x244d1d(0x6ea)]||_0x506482[_0x244d1d(0x24b)];_0x3f5775+=_0x244d1d(0x1fe)+escape(_0x43d660)+_0x244d1d(0x290);}_0x3f5775+=_0x244d1d(0x418);}),studentResultArea[_0x1973fa(0x9be)]=_0x3f5775,renderEarnedBadges(_0x28152a,_0x1973fa(0xb6b)),studentResultArea['classList'][_0x1973fa(0x142)](_0x1973fa(0x35d)),studentQuizArea[_0x1973fa(0x246)][_0x1973fa(0x329)](_0x1973fa(0x35d)),setupResultScreenBackButton({'isLooping':_0x1ae6b1,'score':_0x257d86,'totalQuestions':_0x4c084f,'showRankings':!![]});if(window[_0x1973fa(0x8a3)])window[_0x1973fa(0x8a3)][_0x1973fa(0x91c)]([studentResultArea]);}function displayResultsScoreOnly(_0x47f35b,_0x5d9454,_0xe0427e,_0x5f0373){const _0x1bc46f=_0x45baa4,_0x177996=_0x5f0373>0x0?_0x47f35b/_0x5f0373*0x64:0x0,_0xf95132=currentDisplayedQuiz[_0x1bc46f(0xd09)]?.[_0x1bc46f(0x442)]??-0x1,_0x1db0ef=currentDisplayedQuiz[_0x1bc46f(0x8f9)]===!![];let _0x1ff0af='';if(_0x1db0ef||_0xf95132!==-0x1){let _0x4c8e7d=_0x1db0ef?_0x47f35b===_0x5f0373:_0x47f35b>=_0xf95132;const _0x2c14be=_0x4c8e7d?_0x1bc46f(0x623):'bg-red-100\x20text-red-800',_0x4701de=_0x4c8e7d?_0x1bc46f(0xbd4):'ไม่ผ่าน';_0x1ff0af='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x2c14be+'\x22>'+_0x4701de+_0x1bc46f(0x4fa);}let _0x119972=_0x1bc46f(0x8f8)+currentStudentName+_0x1bc46f(0xbaf)+_0x47f35b+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5f0373+_0x1bc46f(0x47e)+_0x1ff0af+_0x1bc46f(0x306)+_0x5d9454+_0x1bc46f(0x187)+_0x177996['toFixed'](0x0)+_0x1bc46f(0x4a0);studentResultArea[_0x1bc46f(0x9be)]=_0x119972,renderEarnedBadges(_0xe0427e,_0x1bc46f(0xb6b)),studentResultArea[_0x1bc46f(0x246)][_0x1bc46f(0x142)](_0x1bc46f(0x35d)),studentQuizArea[_0x1bc46f(0x246)][_0x1bc46f(0x329)](_0x1bc46f(0x35d)),setupResultScreenBackButton({'score':_0x47f35b,'totalQuestions':_0x5f0373,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3ff96a=_0x45baa4;let _0x538ef9=_0x3ff96a(0x21b)+currentStudentName+_0x3ff96a(0x2e9);studentResultArea[_0x3ff96a(0x9be)]=_0x538ef9,studentResultArea[_0x3ff96a(0x246)]['remove'](_0x3ff96a(0x35d)),studentQuizArea[_0x3ff96a(0x246)][_0x3ff96a(0x329)]('hidden'),document[_0x3ff96a(0xc7b)](_0x3ff96a(0x9de))[_0x3ff96a(0x21f)](_0x3ff96a(0xb10),()=>{const _0x10741c=_0x3ff96a;showView(_0x10741c(0x568)),document['getElementById'](_0x10741c(0x46c))[_0x10741c(0xab9)]='';});}function renderEarnedBadges(_0x6f6313,_0x299290){const _0x5f1a60=_0x45baa4,_0x5cb8a9=document[_0x5f1a60(0xc7b)](_0x299290);if(!_0x5cb8a9||!_0x6f6313||_0x6f6313[_0x5f1a60(0xa33)]===0x0)return;let _0x5ea51c='';_0x6f6313[_0x5f1a60(0x808)]((_0x13689e,_0x56f181)=>{const _0x2a8083=_0x5f1a60,_0x9865bb=Object[_0x2a8083(0x548)](BADGES)[_0x2a8083(0x5f4)](_0x18cab6=>_0x18cab6['id']===_0x13689e);_0x9865bb&&(_0x5ea51c+=_0x2a8083(0x78e)+_0x56f181*0.2+_0x2a8083(0x339)+_0x9865bb[_0x2a8083(0xb2b)]+_0x2a8083(0x5fe)+_0x9865bb[_0x2a8083(0x21e)]+_0x2a8083(0xd13)+_0x9865bb[_0x2a8083(0xb4c)]+_0x2a8083(0xa26));}),_0x5cb8a9[_0x5f1a60(0x9be)]=_0x5ea51c;}function startPresentation(_0xcb0097){const _0x4bc09a=_0x45baa4;currentQuizData=getShuffledQuiz(_0xcb0097),currentPresentationSlide=0x0,presentationModal['style'][_0x4bc09a(0x18e)]=_0x4bc09a(0x6e3),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x59cfab=_0x45baa4;document[_0x59cfab(0xb62)]&&document['exitFullscreen'](),presentationModal['style']['display']=_0x59cfab(0xada);}function renderPresentationSlide(_0x38dd0b){const _0x56256e=_0x45baa4,_0x29820a=document[_0x56256e(0xc7b)](_0x56256e(0x7e0));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x38dd0b]){_0x29820a[_0x56256e(0x9be)]=_0x56256e(0x99f);return;}const _0x5e6ac6=currentQuizData[_0x56256e(0x92e)][_0x38dd0b],_0x2a00f2=_0x5e6ac6[_0x56256e(0x34f)]||currentQuizData[_0x56256e(0x9f7)];_0x29820a[_0x56256e(0x9be)]='';let _0x465713=_0x56256e(0xc7e)+(_0x5e6ac6['imageCode']?_0x56256e(0x554)+_0x5e6ac6[_0x56256e(0x76d)]+_0x56256e(0x418):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x38dd0b+0x1)+'.\x20'+(_0x5e6ac6[_0x56256e(0x6ea)]||_0x5e6ac6['questionText'])+_0x56256e(0x40e);switch(_0x2a00f2){case _0x56256e(0xafa):_0x465713+=_0x5e6ac6[_0x56256e(0x416)][_0x56256e(0x327)](_0x43a54c=>_0x56256e(0xb21)+_0x43a54c+_0x56256e(0xa5a))[_0x56256e(0x7a0)]('');break;case _0x56256e(0x3f8):_0x465713+=_0x56256e(0x47f),_0x465713+=_0x56256e(0xaf3);break;case _0x56256e(0x6d6):case _0x56256e(0x19e):_0x465713+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x56256e(0x66d):case'multiple_choice':default:_0x465713+=_0x5e6ac6[_0x56256e(0x929)][_0x56256e(0x327)]((_0x14e91b,_0x29de18)=>_0x56256e(0xbc0)+_0x29de18+_0x56256e(0x588)+_0x14e91b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x56256e(0x7a0)]('');break;}_0x465713+=_0x56256e(0x85f)+(_0x5e6ac6[_0x56256e(0xd36)]||_0x56256e(0x6f1))+_0x56256e(0x320),_0x29820a[_0x56256e(0x9be)]=_0x465713;if(window[_0x56256e(0x8a3)])window[_0x56256e(0x8a3)]['typesetPromise']([_0x29820a]);let _0x5d31ad=[];switch(_0x2a00f2){case _0x56256e(0xafa):_0x5d31ad=_0x5e6ac6[_0x56256e(0x416)]||[];break;case'true_false':_0x5d31ad=['ใช่',_0x56256e(0xadd)];break;default:_0x5d31ad=_0x5e6ac6[_0x56256e(0x929)]||[];break;}const _0x33da5c=document['getElementById'](_0x56256e(0x8bf));_0x33da5c&&(_0x33da5c[_0x56256e(0x2e6)]=()=>{openScratchpad(_0x5e6ac6,_0x5d31ad);});document['querySelectorAll']('.presentation-option')['forEach'](_0xc29006=>{const _0x3c8013=_0x56256e;_0xc29006['addEventListener'](_0x3c8013(0xb10),_0x583afc=>revealAnswerForPresentation(_0x38dd0b,_0x583afc[_0x3c8013(0x827)]));});const _0x10652a=document[_0x56256e(0xc7b)]('check-presentation-answer-btn');_0x10652a&&_0x10652a[_0x56256e(0x21f)](_0x56256e(0xb10),()=>checkShortAnswerForPresentation(_0x38dd0b)),document[_0x56256e(0xc7b)](_0x56256e(0xbe2))[_0x56256e(0x448)]=_0x56256e(0xa1b)+(_0x38dd0b+0x1)+_0x56256e(0xc6c)+currentQuizData[_0x56256e(0x92e)][_0x56256e(0xa33)],document[_0x56256e(0xc7b)](_0x56256e(0x63b))[_0x56256e(0x514)]=_0x38dd0b===0x0,document[_0x56256e(0xc7b)](_0x56256e(0xcd9))['disabled']=_0x38dd0b===currentQuizData[_0x56256e(0x92e)][_0x56256e(0xa33)]-0x1;}async function checkShortAnswerForPresentation(_0x99c1bf){const _0x593331=_0x45baa4,_0x2be103=currentQuizData['questions'][_0x99c1bf],_0x5ddb89=document[_0x593331(0xc7b)](_0x593331(0x615)),_0xfbe145=document[_0x593331(0xc7b)](_0x593331(0xcdb)),_0x45f00f=document[_0x593331(0xc7b)](_0x593331(0x7c3)),_0x33b14e=document[_0x593331(0xc7b)](_0x593331(0x3ec));if(!_0x5ddb89||!_0xfbe145||!_0x45f00f||!_0x33b14e)return;const _0x5e4ad8=_0x5ddb89[_0x593331(0xab9)]['trim']();if(_0x5e4ad8==='')return;_0xfbe145['disabled']=!![],_0xfbe145[_0x593331(0x9be)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x5ddb89[_0x593331(0x514)]=!![];const _0x595e85=await gradeShortAnswer(_0x5e4ad8,_0x2be103);_0x595e85?_0x45f00f['innerHTML']=_0x593331(0x601):_0x45f00f[_0x593331(0x9be)]=_0x593331(0x632)+_0x2be103[_0x593331(0xc96)]+')',_0x45f00f['classList'][_0x593331(0x142)](_0x593331(0x35d)),_0x33b14e[_0x593331(0x246)][_0x593331(0x142)]('hidden'),_0xfbe145['classList'][_0x593331(0x329)](_0x593331(0x35d));}function revealAnswerForPresentation(_0x31daac,_0x661b9){const _0x523c94=_0x45baa4,_0x4d7d4c=currentQuizData[_0x523c94(0x92e)][_0x31daac],_0x5d2b6e=_0x4d7d4c[_0x523c94(0x34f)]||currentQuizData['quizType'];document[_0x523c94(0x336)](_0x523c94(0x222))[_0x523c94(0x808)](_0x5eb0bb=>{const _0x3019cf=_0x523c94;_0x5eb0bb[_0x3019cf(0x514)]=!![],_0x5eb0bb[_0x3019cf(0x246)][_0x3019cf(0x142)]('hover:bg-indigo-100');let _0xeb125f=![];if(_0x5d2b6e===_0x3019cf(0x35a)||_0x5d2b6e==='fill_in_the_blank'){const _0x45f59d=parseInt(_0x5eb0bb['dataset']['index']);_0xeb125f=_0x45f59d===_0x4d7d4c[_0x3019cf(0xbfe)];}else{if(_0x5d2b6e===_0x3019cf(0x3f8)){const _0x32a94d=_0x5eb0bb[_0x3019cf(0xaf8)][_0x3019cf(0x694)]===_0x3019cf(0xaa7);_0xeb125f=_0x32a94d===_0x4d7d4c['correctAnswer'];}else _0x5d2b6e===_0x3019cf(0xafa)&&(_0xeb125f=_0x5eb0bb['textContent']['trim']()===_0x4d7d4c['correctResponse']);}_0xeb125f?_0x5eb0bb[_0x3019cf(0x246)][_0x3019cf(0x329)](_0x3019cf(0x4b1),'text-white',_0x3019cf(0x7cd)):_0x5eb0bb[_0x3019cf(0x246)][_0x3019cf(0x329)](_0x3019cf(0x987));}),_0x661b9[_0x523c94(0x246)][_0x523c94(0x142)](_0x523c94(0x987));let _0x3543aa=![];if(_0x5d2b6e===_0x523c94(0x35a))_0x3543aa=parseInt(_0x661b9[_0x523c94(0xaf8)][_0x523c94(0x79d)])===_0x4d7d4c[_0x523c94(0xbfe)];else{if(_0x5d2b6e===_0x523c94(0x3f8))_0x3543aa=_0x661b9['dataset'][_0x523c94(0x694)]===_0x523c94(0xaa7)===_0x4d7d4c['correctAnswer'];else _0x5d2b6e===_0x523c94(0xafa)&&(_0x3543aa=_0x661b9[_0x523c94(0x448)][_0x523c94(0x958)]()===_0x4d7d4c['correctResponse']);}!_0x3543aa&&_0x661b9[_0x523c94(0x246)][_0x523c94(0x329)]('bg-red-500',_0x523c94(0xd25),_0x523c94(0x6c4)),document['getElementById']('presentation-explanation')[_0x523c94(0x246)]['remove'](_0x523c94(0x35d));}function startWholeQuizTimer(_0x5eae2c){const _0x3781f9=_0x45baa4,_0x3e9385=document[_0x3781f9(0xc7b)](_0x3781f9(0xb9e));if(!_0x3e9385)return;const _0x153e6d=Date[_0x3781f9(0xcb8)]()+_0x5eae2c*0x3c*0x3e8;_0x3e9385[_0x3781f9(0x9be)]=_0x3781f9(0xd37);const _0x2ecb0c=document[_0x3781f9(0xc7b)](_0x3781f9(0xbd3));quizTimerInterval=setInterval(()=>{const _0x348919=_0x3781f9,_0x1221da=_0x153e6d-Date['now']();if(_0x1221da<=0x0)clearInterval(quizTimerInterval),_0x2ecb0c[_0x348919(0x448)]='00:00',showMessage(_0x348919(0x20b)),handleSubmitQuiz(null);else{const _0x123dac=Math['floor'](_0x1221da/0x3e8/0x3c%0x3c)['toString']()[_0x348919(0x415)](0x2,'0'),_0x56456a=Math[_0x348919(0x864)](_0x1221da/0x3e8%0x3c)[_0x348919(0x626)]()['padStart'](0x2,'0');_0x2ecb0c[_0x348919(0x448)]=_0x123dac+':'+_0x56456a;}},0x3e8);}function renderPerQuestionView(){const _0x44bdb0=_0x45baa4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x55a660=currentDisplayedQuiz[_0x44bdb0(0x92e)][currentQuestionIndex],_0x325b50=_0x55a660['questionType']||currentDisplayedQuiz[_0x44bdb0(0x9f7)],_0x5ddd08=currentDisplayedQuiz[_0x44bdb0(0xd09)]?.[_0x44bdb0(0xc16)]===!![];let _0x4090eb=_0x44bdb0(0xb0a)+(currentQuestionIndex+0x1)+_0x44bdb0(0x148)+currentDisplayedQuiz[_0x44bdb0(0x92e)][_0x44bdb0(0xa33)]+_0x44bdb0(0xaa2)+(currentMode===_0x44bdb0(0x622)?_0x44bdb0(0x98c):'')+_0x44bdb0(0xab5)+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x44bdb0(0x9be)]=_0x4090eb;let _0xee5496=_0x55a660[_0x44bdb0(0x6ea)]||_0x55a660[_0x44bdb0(0x24b)];_0x55a660[_0x44bdb0(0x76d)]&&(_0xee5496+=_0x44bdb0(0x554)+_0x55a660[_0x44bdb0(0x76d)]+_0x44bdb0(0x418));let _0x22e69a='';switch(_0x325b50){case _0x44bdb0(0x19e):case _0x44bdb0(0x6d6):_0x22e69a='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x44bdb0(0x3f8):_0x22e69a=_0x44bdb0(0xab7);break;case _0x44bdb0(0xafa):_0x22e69a='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x55a660[_0x44bdb0(0x416)]||[])[_0x44bdb0(0x327)](_0x1503ad=>'<option\x20value=\x22'+_0x1503ad+'\x22>'+_0x1503ad+_0x44bdb0(0xaff))[_0x44bdb0(0x7a0)]('')+_0x44bdb0(0x59c);break;default:_0x55a660['options']&&(_0x22e69a=_0x55a660[_0x44bdb0(0x929)][_0x44bdb0(0x327)]((_0x509c6c,_0x33b4b8)=>_0x44bdb0(0x8f0)+_0x33b4b8+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x33b4b8+_0x44bdb0(0x9bb)+_0x33b4b8+'\x22>'+_0x509c6c+_0x44bdb0(0x682))[_0x44bdb0(0x7a0)](''));break;}document[_0x44bdb0(0xc7b)](_0x44bdb0(0x64b))[_0x44bdb0(0x9be)]=_0xee5496,document[_0x44bdb0(0xc7b)](_0x44bdb0(0xb5d))[_0x44bdb0(0x9be)]=_0x22e69a;const _0x3df3fa=currentDisplayedQuiz[_0x44bdb0(0xd09)]?.['isConfidenceScoringEnabled']===!![],_0x34ca60=currentDisplayedQuiz[_0x44bdb0(0xd09)]?.[_0x44bdb0(0x725)]||_0x44bdb0(0xc8e);if(_0x3df3fa&&_0x34ca60===_0x44bdb0(0xc8e)){const _0x4daaf5=_0x44bdb0(0x587);studentQuizArea['querySelector'](_0x44bdb0(0x7de))[_0x44bdb0(0x751)](_0x44bdb0(0xad7),_0x4daaf5);}studentQuizArea[_0x44bdb0(0x751)](_0x44bdb0(0xad7),_0x44bdb0(0x8c6)+(currentQuestionIndex===currentDisplayedQuiz[_0x44bdb0(0x92e)][_0x44bdb0(0xa33)]-0x1?_0x44bdb0(0x683):_0x44bdb0(0x7fb))+_0x44bdb0(0x59a));currentMode===_0x44bdb0(0x622)&&document['getElementById'](_0x44bdb0(0x684))?.['addEventListener'](_0x44bdb0(0xb10),cancelAdminTest);document[_0x44bdb0(0xc7b)](_0x44bdb0(0x95a))['addEventListener'](_0x44bdb0(0xb10),()=>handleNextQuestionInTimedMode(![]));if(window[_0x44bdb0(0x8a3)])window[_0x44bdb0(0x8a3)][_0x44bdb0(0x91c)]([studentQuizArea]);currentDisplayedQuiz[_0x44bdb0(0xd09)]?.[_0x44bdb0(0x988)]===_0x44bdb0(0x1e8)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2f2375=_0x45baa4,_0x1aa739=currentDisplayedQuiz['settings'][_0x2f2375(0x44d)],_0x2d381f=document[_0x2f2375(0xc7b)]('per-question-timer-container');if(!_0x2d381f)return;let _0x4925d1=_0x1aa739;_0x2d381f[_0x2f2375(0x9be)]=_0x2f2375(0x60f)+_0x4925d1+_0x2f2375(0x4c2);const _0x47a094=document[_0x2f2375(0xc7b)](_0x2f2375(0xb80)),_0x230ba1=document[_0x2f2375(0xc7b)](_0x2f2375(0x8fc));perQuestionTimerInterval=setInterval(()=>{const _0x1be69d=_0x2f2375;_0x4925d1--;const _0xb34243=_0x4925d1/_0x1aa739*0x64;_0x47a094[_0x1be69d(0x59f)][_0x1be69d(0x189)]=_0xb34243+'%',_0x230ba1[_0x1be69d(0x448)]=_0x4925d1,_0x4925d1<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x1be69d(0x5cb)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x203e7d=![]){const _0x16eaec=_0x45baa4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x34bdc5=null,_0x2644ec=![];if(!_0x203e7d){const _0xd560b1=currentDisplayedQuiz[_0x16eaec(0x92e)][currentQuestionIndex],_0x2509dc=_0xd560b1['questionType']||currentDisplayedQuiz[_0x16eaec(0x9f7)];if(_0x2509dc===_0x16eaec(0x19e)||_0x2509dc==='fill_in_no_choices')_0x34bdc5=document[_0x16eaec(0x452)]('textarea[name=\x22question_single\x22]')?.[_0x16eaec(0xab9)][_0x16eaec(0x958)]()??'';else{if(_0x2509dc===_0x16eaec(0xafa))_0x34bdc5=document[_0x16eaec(0x452)](_0x16eaec(0x76b))?.[_0x16eaec(0xab9)]??'';else{const _0x5d8b9e=document[_0x16eaec(0x452)](_0x16eaec(0x251));_0x5d8b9e&&(_0x34bdc5=_0x5d8b9e[_0x16eaec(0xab9)]);}}if(_0x34bdc5===null||_0x34bdc5===''){showMessage(_0x16eaec(0xa80)),startPerQuestionTimer();return;}const _0x54be03=currentDisplayedQuiz[_0x16eaec(0xd09)]?.[_0x16eaec(0xc16)]===!![],_0x9daafc=currentDisplayedQuiz['settings']?.[_0x16eaec(0x725)]||_0x16eaec(0xc8e);if(_0x54be03&&_0x9daafc===_0x16eaec(0x6a2)){document[_0x16eaec(0xc7b)](_0x16eaec(0x8ac))[_0x16eaec(0xaf8)]['currentMode']=_0x16eaec(0x9cc),document[_0x16eaec(0xc7b)](_0x16eaec(0xa0c))[_0x16eaec(0xab9)]=_0x34bdc5,document[_0x16eaec(0xc7b)](_0x16eaec(0x8ac))[_0x16eaec(0x246)][_0x16eaec(0x142)]('hidden');return;}const _0x3ef9f0=document[_0x16eaec(0xc7b)](_0x16eaec(0x175));_0x3ef9f0&&(_0x2644ec=_0x3ef9f0[_0x16eaec(0xa1c)]);}const _0x11bbff={'answer':_0x34bdc5,'wasConfident':_0x2644ec};proceedToNextQuestion(_0x11bbff);}async function finalizePerQuestionQuiz(){const _0x5aec0b=_0x45baa4,_0x4db317=currentDisplayedQuiz[_0x5aec0b(0x92e)][_0x5aec0b(0x1fc)](_0x2a4a5e=>_0x2a4a5e[_0x5aec0b(0x34f)]==='short_answer');_0x4db317?showMessage(_0x5aec0b(0xcfe)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x2eaada=currentQuizData['id'],_0x5688d5=doc(db,_0x5aec0b(0xb73)+appId+_0x5aec0b(0x444)+_0x2eaada+'/submissions',currentStudentName),_0x21c630=await getDoc(_0x5688d5),_0x55e16f=_0x21c630[_0x5aec0b(0xb1f)]()?_0x21c630[_0x5aec0b(0x4da)]():{},_0x156eb4=_0x55e16f['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x156eb4);}function getResultsFilename(){const _0x2a2e66=_0x45baa4,_0x15a5f3=document['getElementById'](_0x2a2e66(0x36d))[_0x2a2e66(0x448)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x15a5f3||'quiz');}function exportResultsAsImage(){const _0x399296=_0x45baa4,_0x527429=document[_0x399296(0xc7b)](_0x399296(0x132));showMessage(_0x399296(0x308)),html2canvas(_0x527429)['then'](_0x2c5f50=>{const _0xf3db63=_0x399296,_0x3a6678=document[_0xf3db63(0xb4b)]('a');_0x3a6678[_0xf3db63(0xb85)]=getResultsFilename()+_0xf3db63(0x9aa),_0x3a6678[_0xf3db63(0x5d5)]=_0x2c5f50['toDataURL']('image/png'),_0x3a6678['click'](),messageModal['classList'][_0xf3db63(0x329)](_0xf3db63(0x35d));});}function exportResultsAsPDF(){const _0x591ba0=_0x45baa4,{jsPDF:_0x31aeff}=window[_0x591ba0(0x427)],_0x519206=new _0x31aeff();_0x519206[_0x591ba0(0x2fc)](_0x591ba0(0xb46),_0x591ba0(0x2fe)),_0x519206[_0x591ba0(0x590)]({'html':_0x591ba0(0x997)}),_0x519206['save'](getResultsFilename()+_0x591ba0(0x74a));}function exportResultsAsWord(){const _0x29d064=_0x45baa4,_0x2380fa=_0x29d064(0xa28)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x29d064(0x394)+_0x29d064(0x743),_0x197354='</body></html>',_0x44a182=_0x2380fa+document[_0x29d064(0xc7b)](_0x29d064(0x132))[_0x29d064(0x9be)]+_0x197354,_0x3b7f29=_0x29d064(0xa61)+encodeURIComponent(_0x44a182),_0x48d79b=document[_0x29d064(0xb4b)]('a');document['body'][_0x29d064(0xcd3)](_0x48d79b),_0x48d79b[_0x29d064(0x5d5)]=_0x3b7f29,_0x48d79b[_0x29d064(0xb85)]=getResultsFilename()+_0x29d064(0x369),_0x48d79b[_0x29d064(0xb10)](),document[_0x29d064(0xc91)][_0x29d064(0x6ac)](_0x48d79b);}function exportResultsAsExcel(){const _0xa0ee68=_0x45baa4,_0x416b8c=document[_0xa0ee68(0xc7b)](_0xa0ee68(0xa69));let _0xee935b=[];for(let _0x1e9177=0x0;_0x1e9177<_0x416b8c[_0xa0ee68(0x32b)][_0xa0ee68(0xa33)];_0x1e9177++){let _0xdc89a=[],_0x503957=_0x416b8c['rows'][_0x1e9177][_0xa0ee68(0x336)](_0xa0ee68(0x419));for(let _0x215a08=0x0;_0x215a08<_0x503957[_0xa0ee68(0xa33)];_0x215a08++){_0xdc89a['push']('\x22'+_0x503957[_0x215a08]['innerText'][_0xa0ee68(0x715)](/"/g,'\x22\x22')+'\x22');}_0xee935b[_0xa0ee68(0xd01)](_0xdc89a[_0xa0ee68(0x7a0)](','));}const _0x303e3b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xee935b[_0xa0ee68(0x7a0)]('\x0a')],{'type':_0xa0ee68(0x333)}),_0x3e89a7=document[_0xa0ee68(0xb4b)]('a');_0x3e89a7[_0xa0ee68(0x5d5)]=URL['createObjectURL'](_0x303e3b),_0x3e89a7[_0xa0ee68(0xb85)]=getResultsFilename()+_0xa0ee68(0x549),_0x3e89a7[_0xa0ee68(0xb10)]();}function exportTableAsImage(_0x13e26d,_0x56f93f){const _0x472d34=_0x45baa4,_0x4e635c=document[_0x472d34(0xc7b)](_0x13e26d);if(!_0x4e635c){showMessage(_0x472d34(0xd44));return;}showMessage(_0x472d34(0x308)),html2canvas(_0x4e635c)['then'](_0x10d5b1=>{const _0x6197a5=_0x472d34,_0xf4fdc0=document[_0x6197a5(0xb4b)]('a');_0xf4fdc0[_0x6197a5(0xb85)]=_0x56f93f+'.png',_0xf4fdc0[_0x6197a5(0x5d5)]=_0x10d5b1['toDataURL']('image/png'),_0xf4fdc0[_0x6197a5(0xb10)](),messageModal['classList']['add'](_0x6197a5(0x35d));});}function exportTableAsPDF(_0x552a6f,_0x514675){const _0x280a1e=_0x45baa4,{jsPDF:_0x21d043}=window[_0x280a1e(0x427)],_0x13ef0a=new _0x21d043();_0x13ef0a[_0x280a1e(0x2fc)](_0x280a1e(0xb46),_0x280a1e(0x2fe)),_0x13ef0a[_0x280a1e(0x590)]({'html':'#'+_0x552a6f}),_0x13ef0a['save'](_0x514675+'.pdf');}function exportTableAsWord(_0x246ae8,_0x588172){const _0x7665db=_0x45baa4,_0x2f91b2=document[_0x7665db(0xc7b)](_0x246ae8);if(!_0x2f91b2){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x4c49ad=_0x7665db(0xa28)+_0x7665db(0xa71)+_0x7665db(0x394)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x554cd2=_0x7665db(0x716),_0x815169=_0x4c49ad+_0x2f91b2[_0x7665db(0x9be)]+_0x554cd2,_0x4172f5='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x815169),_0x1c58bd=document['createElement']('a');document['body'][_0x7665db(0xcd3)](_0x1c58bd),_0x1c58bd['href']=_0x4172f5,_0x1c58bd[_0x7665db(0xb85)]=_0x588172+_0x7665db(0x369),_0x1c58bd[_0x7665db(0xb10)](),document[_0x7665db(0xc91)]['removeChild'](_0x1c58bd);}function exportTableAsExcel(_0x320fe8,_0x46d876){const _0x1477f1=_0x45baa4,_0x2eb00e=document[_0x1477f1(0xc7b)](_0x320fe8);if(!_0x2eb00e){showMessage(_0x1477f1(0xd44));return;}let _0x549938=[];for(let _0x5d5507=0x0;_0x5d5507<_0x2eb00e[_0x1477f1(0x32b)][_0x1477f1(0xa33)];_0x5d5507++){let _0x300f97=[],_0x4daabb=_0x2eb00e[_0x1477f1(0x32b)][_0x5d5507]['querySelectorAll'](_0x1477f1(0x419));for(let _0x284880=0x0;_0x284880<_0x4daabb[_0x1477f1(0xa33)];_0x284880++){_0x300f97['push']('\x22'+_0x4daabb[_0x284880]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x549938[_0x1477f1(0xd01)](_0x300f97[_0x1477f1(0x7a0)](','));}const _0x13212a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x549938[_0x1477f1(0x7a0)]('\x0a')],{'type':_0x1477f1(0x333)}),_0x10d54d=document[_0x1477f1(0xb4b)]('a');_0x10d54d[_0x1477f1(0x5d5)]=URL[_0x1477f1(0x1cc)](_0x13212a),_0x10d54d['download']=_0x46d876+_0x1477f1(0x549),_0x10d54d[_0x1477f1(0xb10)]();}function renderAnalytics(_0x232aa7,_0x5dbde4){const _0x572ea6=_0x45baa4,_0x428a44=_0x5dbde4['filter'](_0x1f2c53=>_0x1f2c53[_0x572ea6(0x140)]!==undefined),_0x3e5a6f=currentProjectData[_0x572ea6(0x89e)][_0x572ea6(0xa33)],_0x3642fb=_0x428a44[_0x572ea6(0xa33)],_0x2c1513=_0x3e5a6f-_0x3642fb,_0x1a2c42=_0x3e5a6f>0x0?_0x3642fb/_0x3e5a6f*0x64:0x0,_0x192e7a=_0x428a44[_0x572ea6(0x327)](_0x21840a=>_0x21840a['latestScore']),_0x3846d9=_0x192e7a[_0x572ea6(0xa33)]>0x0?_0x192e7a[_0x572ea6(0x9ac)]((_0x54749e,_0x437934)=>_0x54749e+_0x437934,0x0)/_0x192e7a[_0x572ea6(0xa33)]:0x0,_0x2887a3=_0x232aa7['questions'][_0x572ea6(0xa33)],_0x49e299=_0x2887a3>0x0?_0x3846d9/_0x2887a3*0x64:0x0,_0x124dff=calculateItemAnalysis(_0x232aa7,_0x428a44),_0x162269=calculateReliabilityKR20(_0x232aa7,_0x428a44,_0x124dff[_0x572ea6(0x990)]);let _0x1be2ab='';if(_0x162269!==null){let _0x12cd8d='';if(_0x162269>=0.9)_0x12cd8d=_0x572ea6(0xb81);else{if(_0x162269>=0.8)_0x12cd8d=_0x572ea6(0x53f);else{if(_0x162269>=0.7)_0x12cd8d='ดี';else{if(_0x162269>=0.6)_0x12cd8d=_0x572ea6(0x2ce);else _0x12cd8d=_0x572ea6(0x66b);}}}_0x1be2ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x162269[_0x572ea6(0xa97)](0x2)+_0x572ea6(0x98f)+_0x12cd8d+_0x572ea6(0x82b);}const _0x2173f3=document[_0x572ea6(0xc7b)]('analytics-summary-cards');_0x2173f3[_0x572ea6(0x9be)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x1a2c42[_0x572ea6(0xa97)](0x0)+_0x572ea6(0x1a0)+_0x3642fb+'/'+_0x3e5a6f+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x3846d9['toFixed'](0x2)+_0x572ea6(0x263)+_0x49e299[_0x572ea6(0xa97)](0x0)+_0x572ea6(0xaf1)+(_0x192e7a[_0x572ea6(0xa33)]>0x0?Math[_0x572ea6(0x573)](..._0x192e7a):_0x572ea6(0xabf))+_0x572ea6(0xad0)+(_0x192e7a[_0x572ea6(0xa33)]>0x0?Math[_0x572ea6(0x807)](..._0x192e7a):_0x572ea6(0xabf))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1be2ab+_0x572ea6(0x360);const _0x3a21f9=document[_0x572ea6(0xc7b)](_0x572ea6(0xce4));_0x3a21f9&&_0x3a21f9['remove']();const _0x384d21=_0x572ea6(0x915);_0x2173f3[_0x572ea6(0x751)](_0x572ea6(0x708),_0x384d21);const _0x463b3f=currentProjectData[_0x572ea6(0x89e)]||[];renderSubmissionChart(_0x3642fb,_0x2c1513,_0x428a44,_0x463b3f),renderScoreDistributionChart(_0x428a44,_0x2887a3),renderQuestionAnalytics(_0x232aa7,_0x428a44,_0x463b3f),renderInterestingStats(_0x232aa7,_0x428a44);}async function handleExportLessonPDF(){const _0x565cb2=_0x45baa4,_0x45bdc0=document['getElementById']('lesson-plan-content'),_0x594fbd=document[_0x565cb2(0xc7b)](_0x565cb2(0x4ea))[_0x565cb2(0x448)],_0x4532ba=window['open']('',_0x565cb2(0xabe)),_0x306b8f=_0x565cb2(0x2d5)+_0x594fbd+_0x565cb2(0x717)+_0x45bdc0['innerHTML']+_0x565cb2(0x5e8);_0x4532ba[_0x565cb2(0x439)]['write'](_0x306b8f),_0x4532ba[_0x565cb2(0x439)][_0x565cb2(0xb01)](),_0x4532ba[_0x565cb2(0x33a)]=function(){setTimeout(()=>{const _0x33c29c=_0x2960;_0x4532ba[_0x33c29c(0x99e)]();},0x5dc);};}function renderInterestingStats(_0x48bebf,_0x3bd23e){const _0xddcafe=_0x45baa4,_0x3156fb=document[_0xddcafe(0xc7b)](_0xddcafe(0xb0e));if(!_0x3156fb)return;if(_0x3bd23e[_0xddcafe(0xa33)]===0x0){_0x3156fb[_0xddcafe(0x9be)]=_0xddcafe(0x305);return;}const _0x2b1c39=_0x48bebf['questions'][_0xddcafe(0x327)]((_0x3f2813,_0x2ca2fa)=>({'index':_0x2ca2fa+0x1,'text':_0x3f2813[_0xddcafe(0x24b)]||_0x3f2813[_0xddcafe(0x6ea)],'correct':0x0}));_0x3bd23e[_0xddcafe(0x808)](_0x3f100d=>{const _0x5671fe=_0xddcafe,_0x2c6263=_0x3f100d['attempts'][_0x3f100d[_0x5671fe(0x39d)][_0x5671fe(0xa33)]-0x1];_0x2c6263&&_0x2c6263[_0x5671fe(0x7b4)]&&_0x2c6263['answers'][_0x5671fe(0x808)](_0x1715f2=>{const _0x1ec41e=_0x5671fe,_0x489d27=_0x2b1c39['find'](_0x2d97dd=>_0x2d97dd['text']===_0x1715f2[_0x1ec41e(0x699)]);_0x1715f2[_0x1ec41e(0xcf5)]&&_0x489d27&&_0x489d27['correct']++;});});const _0x420b52=_0x3bd23e[_0xddcafe(0xa33)],_0x4ec5e6=Math[_0xddcafe(0x573)](..._0x2b1c39[_0xddcafe(0x327)](_0x41fa5b=>_0x41fa5b[_0xddcafe(0x291)])),_0x2ed00a=Math['min'](..._0x2b1c39[_0xddcafe(0x327)](_0x3487a6=>_0x3487a6[_0xddcafe(0x291)])),_0x47caf3=_0x2b1c39[_0xddcafe(0x6d0)](_0x422caf=>_0x422caf[_0xddcafe(0x291)]===_0x4ec5e6)[_0xddcafe(0x327)](_0x2b2ed0=>_0xddcafe(0x889)+_0x2b2ed0[_0xddcafe(0x79d)]),_0x580c11=_0x2b1c39[_0xddcafe(0x6d0)](_0x45c224=>_0x45c224[_0xddcafe(0x291)]===_0x2ed00a)[_0xddcafe(0x327)](_0x2bf750=>_0xddcafe(0x889)+_0x2bf750['index']),_0x4eac35=_0x3bd23e['sort']((_0x4e3ee7,_0x359761)=>_0x359761[_0xddcafe(0x140)]-_0x4e3ee7['latestScore'])['filter']((_0x2e8a7e,_0x445609,_0x554ac4)=>_0x2e8a7e[_0xddcafe(0x140)]===_0x554ac4[0x0][_0xddcafe(0x140)]),_0x2fd936=_0x3bd23e[_0xddcafe(0x835)]((_0x550abb,_0x2c4103)=>_0x550abb[_0xddcafe(0x140)]-_0x2c4103[_0xddcafe(0x140)])[_0xddcafe(0x6d0)]((_0x9d00c0,_0x5f09fd,_0x2c1c27)=>_0x9d00c0[_0xddcafe(0x140)]===_0x2c1c27[0x0][_0xddcafe(0x140)]),_0x3d07d8=_0xddcafe(0x6d4)+_0x47caf3[_0xddcafe(0x7a0)](',\x20')+_0xddcafe(0xb75)+_0x4ec5e6+_0xddcafe(0xc6c)+_0x420b52+_0xddcafe(0x634)+_0x580c11[_0xddcafe(0x7a0)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x420b52-_0x2ed00a)+_0xddcafe(0xc6c)+_0x420b52+_0xddcafe(0x3e3)+_0x4eac35[_0xddcafe(0x327)](_0x36e5ce=>_0x36e5ce[_0xddcafe(0x2f7)])[_0xddcafe(0x7a0)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x4eac35[0x0][_0xddcafe(0x140)]+_0xddcafe(0x7db)+_0x2fd936['map'](_0x414ab4=>_0x414ab4[_0xddcafe(0x2f7)])[_0xddcafe(0x7a0)](',\x20')+_0xddcafe(0xbf0)+_0x2fd936[0x0][_0xddcafe(0x140)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3156fb[_0xddcafe(0x9be)]=_0x3d07d8;}function renderSubmissionChart(_0x4afdd2,_0x39ce05,_0x59661c,_0x38fb87){const _0x320071=_0x45baa4,_0x200175=document[_0x320071(0xc7b)](_0x320071(0x74b))['getContext']('2d'),_0x417146=_0x59661c[_0x320071(0x327)](_0x2b8c51=>_0x2b8c51[_0x320071(0x2f7)]),_0x96b3d1=_0x38fb87[_0x320071(0x6d0)](_0x18ff96=>!_0x417146[_0x320071(0xc04)](_0x18ff96));chartInstances[_0x320071(0x880)]&&chartInstances[_0x320071(0x880)]['destroy'](),chartInstances[_0x320071(0x880)]=new Chart(_0x200175,{'type':_0x320071(0x295),'data':{'labels':['ส่งแล้ว',_0x320071(0x137)],'datasets':[{'data':[_0x4afdd2,_0x39ce05],'backgroundColor':['#10B981',_0x320071(0x8fd)],'borderColor':[_0x320071(0xb41),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x320071(0x181)},'tooltip':{'callbacks':{'label':function(_0x4c63a2){const _0x1ccce5=_0x320071;let _0x35783c=_0x4c63a2[_0x1ccce5(0x88f)]||'';return _0x35783c&&(_0x35783c+=':\x20'),_0x35783c+=_0x4c63a2[_0x1ccce5(0x60d)],_0x35783c;},'afterLabel':function(_0x2e30a0){const _0x290ac0=_0x320071;let _0x7b366e;return _0x2e30a0[_0x290ac0(0x691)]===0x0?_0x7b366e=_0x417146:_0x7b366e=_0x96b3d1,_0x7b366e[_0x290ac0(0xa33)]>0x0?_0x7b366e[_0x290ac0(0x7a0)]('\x0a'):_0x290ac0(0x17b);}}}}}});}function renderScoreDistributionChart(_0x321967,_0x4fcd9d){const _0x148205=_0x45baa4,_0x1dfad0=document['getElementById'](_0x148205(0x96b))[_0x148205(0xa62)]('2d'),_0x1fcc45={};for(let _0x28eb39=0x0;_0x28eb39<=_0x4fcd9d;_0x28eb39++){_0x1fcc45[_0x28eb39]=0x0;}_0x321967['forEach'](_0x1e6cb1=>{const _0x43893b=_0x148205;_0x1fcc45[_0x1e6cb1[_0x43893b(0x140)]]!==undefined&&_0x1fcc45[_0x1e6cb1[_0x43893b(0x140)]]++;}),chartInstances[_0x148205(0xbf3)]&&chartInstances['score']['destroy'](),chartInstances['score']=new Chart(_0x1dfad0,{'type':'bar','data':{'labels':Object[_0x148205(0x7a9)](_0x1fcc45),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x1fcc45),'backgroundColor':_0x148205(0x1c6),'borderColor':_0x148205(0xa1e),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x148205(0xbcd)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x3f9513){const _0xa48de4=_0x148205,_0x6b2468=_0x3f9513[_0xa48de4(0x88f)],_0x576244=_0x321967[_0xa48de4(0x6d0)](_0x2077aa=>_0x2077aa['latestScore']==_0x6b2468)[_0xa48de4(0x327)](_0x40fe70=>_0x40fe70['studentName']);return _0x576244[_0xa48de4(0xa33)]>0x0?_0x576244[_0xa48de4(0x7a0)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2501d9,_0x349ab7,_0x4fcd5f){const _0x333772=_0x45baa4,_0x2a0cdb=document[_0x333772(0xc7b)](_0x333772(0x817));if(_0x4fcd5f[_0x333772(0xa33)]===0x0){_0x2a0cdb[_0x333772(0x9be)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x281aef=calculateItemAnalysis(_0x2501d9,_0x349ab7),_0xf5fec2=calculateDistractorAnalysis(_0x2501d9,_0x349ab7);let _0x54ff1f='';_0x281aef[_0x333772(0x916)]&&(_0x54ff1f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x281aef[_0x333772(0x916)][_0x333772(0x7ef)][_0x333772(0xa33)]+_0x333772(0xae4)+_0x281aef['overallGroups']['upperGroupNames'][_0x333772(0x327)](_0x42bd63=>_0x333772(0x188)+_0x42bd63+_0x333772(0xd3f))[_0x333772(0x7a0)]('')+_0x333772(0x1e0)+_0x281aef['overallGroups'][_0x333772(0xd45)]['length']+_0x333772(0xae4)+_0x281aef[_0x333772(0x916)][_0x333772(0xd45)][_0x333772(0x327)](_0x3ca8c4=>_0x333772(0x188)+_0x3ca8c4+'</li>')[_0x333772(0x7a0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x138aed='';const _0x1b4f22=_0x349ab7[_0x333772(0x327)](_0x3dceda=>_0x3dceda[_0x333772(0x2f7)]),_0x53baa4=_0x5be5a3=>{const _0x5009a9=_0x333772;if(_0x5be5a3>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x5be5a3>=0.6)return _0x5009a9(0x13b);if(_0x5be5a3>=0.4)return _0x5009a9(0x1d4);if(_0x5be5a3>=0.2)return _0x5009a9(0xa32);return _0x5009a9(0x6b7);},_0x2759ee=_0x5830e1=>{const _0x268864=_0x333772;if(_0x5830e1<0x0)return _0x268864(0xc4e);if(_0x5830e1>=0.4)return _0x268864(0xba1);if(_0x5830e1>=0.3)return _0x268864(0x888);if(_0x5830e1>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x268864(0xcad);},_0x2580fe=_0x541103=>{const _0x14cd93=_0x333772,_0x27d6e4=_0x541103[_0x14cd93(0xa97)](0x0);if(parseFloat(_0x27d6e4)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x27d6e4+_0x14cd93(0x597);if(_0x541103>=0x32)return _0x14cd93(0x510)+_0x27d6e4+_0x14cd93(0x597);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x27d6e4+_0x14cd93(0x597);};_0x2501d9[_0x333772(0x92e)][_0x333772(0x808)]((_0x4607e8,_0xf61975)=>{const _0x2036c8=_0x333772,_0xacb7fc=_0x281aef[_0x2036c8(0x990)][_0xf61975],_0x2292dd=_0xf5fec2[_0xf61975],_0x279383=_0x4607e8['stem']||_0x4607e8[_0x2036c8(0x24b)]||_0x4607e8[_0x2036c8(0x25b)];let _0xb527ff=0x0;const _0x48ca7e=[],_0x5003b5=[];_0x349ab7[_0x2036c8(0x808)](_0x1776e7=>{const _0xc67eaa=_0x2036c8,_0x28eb02=_0x1776e7['attempts'][_0x1776e7[_0xc67eaa(0x39d)][_0xc67eaa(0xa33)]-0x1];if(_0x28eb02&&_0x28eb02[_0xc67eaa(0x7b4)]){const _0x5919c5=_0x28eb02[_0xc67eaa(0x7b4)][_0xc67eaa(0x5f4)](_0x3d1437=>_0x3d1437[_0xc67eaa(0x699)]===_0x279383)??_0x28eb02[_0xc67eaa(0x7b4)][_0xf61975]??null;_0x5919c5&&(_0x5919c5[_0xc67eaa(0xcf5)]?(_0xb527ff++,_0x48ca7e[_0xc67eaa(0xd01)](_0x1776e7['studentName'])):_0x5003b5[_0xc67eaa(0xd01)](_0x1776e7[_0xc67eaa(0x2f7)]));}});const _0x39c418=_0x349ab7[_0x2036c8(0xa33)]>0x0?_0xb527ff/_0x349ab7[_0x2036c8(0xa33)]*0x64:0x0,_0x526d65=_0x4fcd5f['filter'](_0x301a30=>!_0x1b4f22['includes'](_0x301a30)),_0x4807c8=_0xacb7fc?_0x2036c8(0x96c)+_0xacb7fc['p'][_0x2036c8(0xa97)](0x2)+_0x2036c8(0x196)+_0x53baa4(_0xacb7fc['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0xacb7fc['r']['toFixed'](0x2)+'</p><div>'+_0x2759ee(_0xacb7fc['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2580fe(_0x39c418)+_0x2036c8(0x68f):'';let _0x5a8d01='';_0x2292dd&&(_0x5a8d01=_0x2036c8(0x8bc)+Object[_0x2036c8(0x7a9)](_0x2292dd)[_0x2036c8(0x327)](_0x52cf43=>{const _0x3b4b99=_0x2036c8,_0x216dd8=_0x2292dd[_0x52cf43],_0x5a318f=parseInt(_0x52cf43)===_0x4607e8[_0x3b4b99(0xbfe)],_0x40909b=!_0x5a318f&&_0x216dd8[_0x3b4b99(0x14c)]>_0x216dd8[_0x3b4b99(0xc09)];return _0x3b4b99(0x756)+(_0x5a318f?_0x3b4b99(0x780):'')+_0x3b4b99(0x301)+(_0x5a318f?'✔\x20':'')+_0x216dd8[_0x3b4b99(0x26e)]+_0x3b4b99(0x1d9)+_0x216dd8[_0x3b4b99(0xc09)]+_0x3b4b99(0x1d9)+_0x216dd8[_0x3b4b99(0x14c)]+'\x20'+(_0x40909b?'👍':'')+_0x3b4b99(0x1d9)+_0x216dd8[_0x3b4b99(0x8e4)]+'</td></tr>';})[_0x2036c8(0x7a0)]('')+_0x2036c8(0x1aa));let _0x558ba3='';_0xacb7fc&&_0xacb7fc[_0x2036c8(0xa67)]&&(_0x558ba3=_0x2036c8(0x5f1)+_0xacb7fc['upperGroupResponders'][_0x2036c8(0xa33)]+_0x2036c8(0x64e)+_0xacb7fc[_0x2036c8(0xa67)]['map'](_0x2f2991=>'<li>'+(_0x2f2991[_0x2036c8(0xcf5)]?_0x2036c8(0xaf4):_0x2036c8(0xb7d))+'\x20'+_0x2f2991[_0x2036c8(0xb4c)]+_0x2036c8(0xd3f))[_0x2036c8(0x7a0)]('')+_0x2036c8(0x52e)+_0xacb7fc['lowerGroupResponders'][_0x2036c8(0xa33)]+_0x2036c8(0x64e)+_0xacb7fc[_0x2036c8(0x276)][_0x2036c8(0x327)](_0x38b064=>'<li>'+(_0x38b064['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x38b064[_0x2036c8(0xb4c)]+_0x2036c8(0xd3f))[_0x2036c8(0x7a0)]('')+_0x2036c8(0x5cc)),_0x138aed+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0xf61975+0x1)+':\x20'+_0x279383+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x4807c8+_0x2036c8(0x1ee)+_0x279383+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0xb527ff+_0x2036c8(0x148)+_0x349ab7[_0x2036c8(0xa33)]+_0x2036c8(0x805)+_0x39c418['toFixed'](0x0)+_0x2036c8(0x74c)+_0x48ca7e['length']+_0x2036c8(0x584)+(_0x48ca7e[_0x2036c8(0xa33)]>0x0?_0x48ca7e[_0x2036c8(0x7a0)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x5003b5[_0x2036c8(0xa33)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5003b5[_0x2036c8(0xa33)]>0x0?_0x5003b5['join'](',\x20'):_0x2036c8(0x17b))+_0x2036c8(0xd50)+_0x526d65[_0x2036c8(0xa33)]+_0x2036c8(0x584)+(_0x526d65[_0x2036c8(0xa33)]>0x0?_0x526d65[_0x2036c8(0x7a0)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a8d01+_0x2036c8(0x4ec)+_0x558ba3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2a0cdb[_0x333772(0x9be)]=_0x54ff1f+_0x138aed;try{window[_0x333772(0x8a3)]&&MathJax[_0x333772(0x91c)]&&MathJax[_0x333772(0x91c)]([_0x2a0cdb]);}catch(_0x58499a){console[_0x333772(0xab1)]('MathJax\x20typeset\x20error\x20(analytics):',_0x58499a);}}function calculateDistractorAnalysis(_0x4cfa89,_0x2fad48){const _0x59a11c=_0x45baa4,_0x2b150c={};if(_0x2fad48[_0x59a11c(0xa33)]<0x2)return _0x2b150c;const _0x9adb87=[..._0x2fad48][_0x59a11c(0x835)]((_0x53f9d6,_0x4a6630)=>{const _0x1af25f=_0x59a11c,_0x384905=_0x4a6630[_0x1af25f(0x140)]-_0x53f9d6[_0x1af25f(0x140)];if(_0x384905!==0x0)return _0x384905;const _0x105da0=_0x53f9d6['attempts']?.[_0x1af25f(0xa33)]||0x1,_0xd80f0=_0x4a6630[_0x1af25f(0x39d)]?.['length']||0x1,_0x5d4e0a=_0x105da0-_0xd80f0;if(_0x5d4e0a!==0x0)return _0x5d4e0a;const _0x72f147=new Date(_0x53f9d6[_0x1af25f(0x530)]),_0xcc19c9=new Date(_0x4a6630[_0x1af25f(0x530)]),_0x1d852b=_0x72f147-_0xcc19c9;if(_0x1d852b!==0x0)return _0x1d852b;return _0x53f9d6[_0x1af25f(0x2f7)]['localeCompare'](_0x4a6630['studentName'],'th');}),_0x530393=_0x9adb87['length'],_0x56b2fd=Math[_0x59a11c(0x573)](0x1,Math[_0x59a11c(0x864)](_0x530393*0.33)),_0x2079e1=_0x9adb87[_0x59a11c(0x5d9)](0x0,_0x56b2fd),_0x4ce772=_0x9adb87[_0x59a11c(0x5d9)](-_0x56b2fd);return _0x4cfa89['questions'][_0x59a11c(0x808)]((_0x3e0665,_0x5b9d11)=>{const _0x1b981d=_0x59a11c;if(_0x3e0665[_0x1b981d(0x34f)]!==_0x1b981d(0x35a)||!_0x3e0665[_0x1b981d(0x929)])return;const _0x4348ad=_0x3e0665['questionText'],_0x2bb911={};_0x3e0665[_0x1b981d(0x929)][_0x1b981d(0x808)]((_0x587456,_0x34b0f5)=>{_0x2bb911[_0x34b0f5]={'text':_0x587456,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x9adb87[_0x1b981d(0x808)](_0x538f6b=>{const _0x21bb3c=_0x1b981d,_0x4f8f67=_0x538f6b[_0x21bb3c(0x39d)][_0x538f6b[_0x21bb3c(0x39d)]['length']-0x1],_0x4e05ef=_0x4f8f67[_0x21bb3c(0x7b4)][_0x21bb3c(0x5f4)](_0x50daba=>_0x50daba['originalQuestionText']===_0x4348ad);if(_0x4e05ef&&_0x4e05ef[_0x21bb3c(0x694)]!==null){const _0x50c2f3=_0x3e0665['options'][_0x21bb3c(0x960)](_0x4ac609=>_0x4ac609===_0x4e05ef[_0x21bb3c(0x69d)]);_0x50c2f3!==-0x1&&_0x2bb911[_0x50c2f3]&&(_0x2bb911[_0x50c2f3][_0x21bb3c(0x8e4)]++,_0x2079e1[_0x21bb3c(0xc04)](_0x538f6b)&&_0x2bb911[_0x50c2f3]['upper_group_count']++,_0x4ce772['includes'](_0x538f6b)&&_0x2bb911[_0x50c2f3]['lower_group_count']++);}}),_0x2b150c[_0x5b9d11]=_0x2bb911;}),_0x2b150c;}function calculateReliabilityKR20(_0x10bffa,_0x1452e4,_0x26549){const _0x28ce2a=_0x45baa4,_0x4c2aad=_0x10bffa[_0x28ce2a(0x92e)][_0x28ce2a(0xa33)];if(_0x4c2aad<0x2||_0x1452e4['length']<0x2)return null;const _0x3899c4=_0x1452e4[_0x28ce2a(0x327)](_0x22826b=>_0x22826b[_0x28ce2a(0x140)]),_0x599d74=_0x3899c4['reduce']((_0x4580f2,_0x2d87f1)=>_0x4580f2+_0x2d87f1,0x0)/_0x3899c4[_0x28ce2a(0xa33)],_0x182d36=_0x3899c4[_0x28ce2a(0x327)](_0x47b037=>Math[_0x28ce2a(0x2b7)](_0x47b037-_0x599d74,0x2))[_0x28ce2a(0x9ac)]((_0x583b58,_0x2cd3f2)=>_0x583b58+_0x2cd3f2,0x0)/_0x3899c4['length'];if(_0x182d36===0x0)return null;let _0x203fde=0x0;for(let _0x455dbc=0x0;_0x455dbc<_0x4c2aad;_0x455dbc++){const _0x18d559=_0x26549[_0x455dbc]?.['p'];if(_0x18d559===undefined)continue;const _0x40fc0f=0x1-_0x18d559;_0x203fde+=_0x18d559*_0x40fc0f;}if(_0x203fde===0x0)return null;const _0x445e36=_0x4c2aad/(_0x4c2aad-0x1)*(0x1-_0x203fde/_0x182d36);if(_0x445e36>0x1)return null;return _0x445e36;}async function handleAnalyzeClass(){const _0x16daca=_0x45baa4;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x16daca(0x64a));return;}const _0x35bf7e=collection(db,_0x16daca(0xb73)+appId+_0x16daca(0x444)+currentQuizData['id']+_0x16daca(0xc11)),_0xd75a67=await getDocs(_0x35bf7e),_0x5ef508=_0xd75a67[_0x16daca(0xb39)]['map'](_0x17ff42=>_0x17ff42[_0x16daca(0x4da)]());if(_0x5ef508['length']<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x509bd3=document[_0x16daca(0xc7b)]('strength-weakness-analysis-container');_0x509bd3[_0x16daca(0x9be)]=_0x16daca(0x2c8),document['getElementById']('analyze-strengths-btn')[_0x16daca(0x514)]=!![];const _0x66b86c=_0x5ef508[_0x16daca(0x327)]((_0x33e674,_0x5c9097)=>{const _0x11556a=_0x16daca,_0x1620dd=_0x33e674[_0x11556a(0x39d)][_0x33e674['attempts']['length']-0x1];if(!_0x1620dd)return'';return _0x11556a(0xc13)+(_0x5c9097+0x1)+'\x20('+_0x33e674[_0x11556a(0x2f7)]+_0x11556a(0x2b0)+_0x1620dd[_0x11556a(0xbf3)]+'/'+_0x33e674['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON['stringify'](_0x1620dd['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x16daca(0x7a0)](_0x16daca(0x996)),_0x547646=_0x16daca(0x669)+currentQuizData[_0x16daca(0x613)]+_0x16daca(0xcca)+JSON['stringify'](currentQuizData['questions'])+_0x16daca(0x61c)+_0x66b86c+_0x16daca(0x8c0),_0x52d67e={'type':_0x16daca(0x1c8),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x16daca(0x3ed)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x16daca(0x3ed)}}},'required':[_0x16daca(0x27c),_0x16daca(0x61e),_0x16daca(0x134)]};try{const _0x332914=await callAnalysisApi(_0x547646,_0x52d67e);displayClassAnalysis(_0x332914);}catch(_0x28498d){console[_0x16daca(0xab1)](_0x16daca(0x294),_0x28498d),_0x509bd3[_0x16daca(0x9be)]=_0x16daca(0x2e2)+_0x28498d[_0x16daca(0x776)]+_0x16daca(0xc17);}finally{document[_0x16daca(0xc7b)](_0x16daca(0x258))['disabled']=![];}}function displayClassAnalysis(_0x241008){const _0x3a42e3=_0x45baa4,_0x3ac19b=document[_0x3a42e3(0xc7b)]('strength-weakness-analysis-container');if(!_0x241008){_0x3ac19b[_0x3a42e3(0x9be)]=_0x3a42e3(0x985);return;}_0x3ac19b[_0x3a42e3(0x9be)]=_0x3a42e3(0x4a1)+_0x241008[_0x3a42e3(0x27c)][_0x3a42e3(0x327)](_0x58008a=>'<li>'+_0x58008a+_0x3a42e3(0xd3f))[_0x3a42e3(0x7a0)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x241008['classWeaknesses'][_0x3a42e3(0x327)](_0x30aced=>_0x3a42e3(0x188)+_0x30aced+'</li>')[_0x3a42e3(0x7a0)]('')+_0x3a42e3(0xb8e)+_0x241008[_0x3a42e3(0x134)][_0x3a42e3(0x327)](_0x2bd285=>_0x3a42e3(0x188)+_0x2bd285+'</li>')[_0x3a42e3(0x7a0)]('')+_0x3a42e3(0x252);}function formatAndPrintWorksheet(_0x5332ee,_0x328876){const _0x5ba00b=_0x45baa4,_0x3608bf=_0x5ba00b(0xd5c)+_0x5332ee[_0x5ba00b(0x613)]+_0x5ba00b(0xaac)+_0x5332ee['topic']+_0x5ba00b(0x67b)+_0x5332ee[_0x5ba00b(0x92e)]['map']((_0x1f34d5,_0x55bc89)=>_0x5ba00b(0x8d1)+(_0x55bc89+0x1)+'.\x20'+_0x1f34d5[_0x5ba00b(0x24b)]+_0x5ba00b(0xb53)+(_0x1f34d5['imageCode']?_0x5ba00b(0x83a)+_0x1f34d5[_0x5ba00b(0x76d)]+'</div>':'')+_0x5ba00b(0x834))[_0x5ba00b(0x7a0)]('')+_0x5ba00b(0x85a);_0x328876['document'][_0x5ba00b(0xc97)](_0x3608bf),_0x328876['document'][_0x5ba00b(0xb01)](),_0x328876[_0x5ba00b(0x33a)]=function(){setTimeout(()=>{const _0x4ccd63=_0x2960;_0x328876[_0x4ccd63(0x99e)]();},0x3e8);};}async function generateWorksheet(){const _0x25e94e=_0x45baa4,_0x13a862=document['getElementById'](_0x25e94e(0x612))[_0x25e94e(0xab9)][_0x25e94e(0x958)]();if(!_0x13a862){showMessage(_0x25e94e(0xbdf));return;}const _0x1c07ce=document[_0x25e94e(0xc7b)]('force-math-checkbox')[_0x25e94e(0xa1c)],_0x34e987=_0x1c07ce?'':'คณิตศาสตร์',_0x23aba5=window[_0x25e94e(0x4b7)]('',_0x25e94e(0xabe));_0x23aba5[_0x25e94e(0x439)][_0x25e94e(0xc97)](_0x25e94e(0x890));const _0x467e32=parseInt(document['getElementById'](_0x25e94e(0x4fb))[_0x25e94e(0xab9)]),_0x1bed0=document[_0x25e94e(0xc7b)]('include-images-checkbox')[_0x25e94e(0xa1c)],_0x3bdedf=_0x1bed0?_0x25e94e(0xc0b):'',_0x39e23c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x34e987+_0x25e94e(0x3a3)+_0x467e32+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x13a862+_0x25e94e(0xb64)+_0x3bdedf+_0x25e94e(0x151)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x43ed61={'type':_0x25e94e(0x1c8),'properties':{'topic':{'type':_0x25e94e(0x3ed)},'questions':{'type':_0x25e94e(0x559),'items':{'type':_0x25e94e(0x1c8),'properties':{'questionText':{'type':_0x25e94e(0x3ed)},'imageCode':{'type':_0x25e94e(0x3ed)}},'required':[_0x25e94e(0x24b)]}}},'required':[_0x25e94e(0x613),_0x25e94e(0x92e)]};document[_0x25e94e(0xc7b)]('loader-text')[_0x25e94e(0x448)]='',document[_0x25e94e(0xc7b)]('loader')[_0x25e94e(0x246)][_0x25e94e(0x142)]('hidden'),document['getElementById'](_0x25e94e(0x9e2))[_0x25e94e(0x246)]['remove'](_0x25e94e(0x35d)),generateWorksheetBtn['disabled']=!![];try{const _0x1a8daf=await callAnalysisApi(_0x39e23c,_0x43ed61);formatAndPrintWorksheet(_0x1a8daf,_0x23aba5);}catch(_0x153580){console['error'](_0x25e94e(0xaf9),_0x153580);if(_0x23aba5)_0x23aba5[_0x25e94e(0xb01)]();showMessage(_0x25e94e(0x4f3));}finally{document[_0x25e94e(0xc7b)](_0x25e94e(0x531))['classList'][_0x25e94e(0x329)](_0x25e94e(0x35d)),document[_0x25e94e(0xc7b)](_0x25e94e(0x9e2))[_0x25e94e(0x246)][_0x25e94e(0x329)](_0x25e94e(0x35d)),generateWorksheetBtn[_0x25e94e(0x514)]=![];}}async function callAnalysisApi(_0x44058e,_0x1194fb){const _0x478a14=_0x45baa4,_0x4b2b13={'contents':[{'role':'user','parts':[{'text':_0x44058e}]}],'generationConfig':{'responseMimeType':_0x478a14(0xaf5),'responseSchema':_0x1194fb}},_0x13e6a2=_0x478a14(0x23c),_0x5a18a3=_0x478a14(0xc7c)+_0x13e6a2,_0x3ffd9c=await fetch(_0x5a18a3,{'method':_0x478a14(0x628),'headers':{'Content-Type':_0x478a14(0xaf5)},'body':JSON[_0x478a14(0x4cb)](_0x4b2b13)});if(!_0x3ffd9c['ok'])throw new Error(_0x478a14(0xc45)+_0x3ffd9c[_0x478a14(0x264)]);const _0x5b522c=await _0x3ffd9c[_0x478a14(0x29f)]();if(_0x5b522c[_0x478a14(0xb69)]?.[0x0]?.[_0x478a14(0x16d)]?.[_0x478a14(0x3eb)]?.[0x0])return JSON[_0x478a14(0xad4)](_0x5b522c[_0x478a14(0xb69)][0x0]['content'][_0x478a14(0x3eb)][0x0]['text']);else{let _0x15e0aa=_0x478a14(0x172);if(_0x5b522c[_0x478a14(0xb44)]?.[_0x478a14(0x775)])_0x15e0aa='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x5b522c[_0x478a14(0xb44)][_0x478a14(0x775)]+'.';else _0x5b522c[_0x478a14(0xb69)]?.[0x0]?.[_0x478a14(0xa9b)]&&_0x5b522c['candidates'][0x0][_0x478a14(0xa9b)]!==_0x478a14(0x349)&&(_0x15e0aa=_0x478a14(0xa7a)+_0x5b522c[_0x478a14(0xb69)][0x0][_0x478a14(0xa9b)]+'.');console[_0x478a14(0xab1)](_0x15e0aa,JSON[_0x478a14(0x4cb)](_0x5b522c));throw new Error(_0x15e0aa);}}function _0x2960(_0x3f89de,_0x5f46a1){const _0x56028d=_0x5602();return _0x2960=function(_0x2960e4,_0x2da94a){_0x2960e4=_0x2960e4-0x130;let _0x4fefa9=_0x56028d[_0x2960e4];return _0x4fefa9;},_0x2960(_0x3f89de,_0x5f46a1);}async function handleStartSyncMode(_0x555b01,_0x5058ec=![],_0x49f021='classic'){const _0x58a11d=_0x45baa4,_0x3ec096=allQuizzes[_0x58a11d(0x5f4)](_0x5ced71=>_0x5ced71['id']===_0x555b01)||allQuizzesGlobal[_0x58a11d(0x5f4)](_0x406d5f=>_0x406d5f['id']===_0x555b01);if(!_0x3ec096){showMessage(_0x58a11d(0x6cb));return;}currentQuizData=getShuffledQuiz(_0x3ec096);const _0x1b8cfd=Math[_0x58a11d(0x864)](0x3e8+Math[_0x58a11d(0x293)]()*0x2328)[_0x58a11d(0x626)](),_0x5e3115=doc(db,_0x58a11d(0xb73)+appId+_0x58a11d(0xafc),_0x3ec096['projectId']),_0x25e761=await getDoc(_0x5e3115);if(!_0x25e761['exists']()){showMessage(_0x58a11d(0x2bb));return;}const _0x322dd8=_0x25e761['data']()[_0x58a11d(0x89e)]||[],_0x40bbc9={};if(_0x49f021==='anonymous'){const _0x527d94=[...ANONYMOUS_NAMES][_0x58a11d(0x835)](()=>0.5-Math[_0x58a11d(0x293)]());_0x322dd8['forEach']((_0x222a77,_0x42692d)=>{const _0x1ed702=_0x58a11d;_0x40bbc9[_0x222a77]=_0x527d94[_0x42692d]||_0x1ed702(0x9c0)+(_0x42692d+0x1);});}try{const _0x449056=await addDoc(collection(db,_0x58a11d(0xb73)+appId+'/public/data/syncGames'),{'quizId':_0x3ec096['id'],'pin':_0x1b8cfd,'status':_0x58a11d(0x36b),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5058ec,'players':{},'gameVariant':_0x49f021,'reviewQuestionIndex':0x0,'playerNicknames':_0x40bbc9,'isAnonymousRevealed':![]});currentLiveGameId=_0x449056['id'],showView('live-game'),renderSyncLobbyView(_0x1b8cfd,_0x3ec096[_0x58a11d(0x613)]),listenForSyncGameUpdates();}catch(_0xad00a0){console[_0x58a11d(0xab1)](_0x58a11d(0x57e),_0xad00a0),showMessage(_0x58a11d(0xbbf));}}function calculateFinalPodiumScores(_0x5af736){const _0x1cf3f0=_0x45baa4;if(!_0x5af736||!_0x5af736['shuffledQuiz']||!_0x5af736[_0x1cf3f0(0x1c4)])return _0x5af736[_0x1cf3f0(0x1c4)]||{};const _0x41cb78=_0x5af736[_0x1cf3f0(0x2e4)][_0x1cf3f0(0x92e)][_0x1cf3f0(0xa33)],_0x402b99=JSON[_0x1cf3f0(0xad4)](JSON[_0x1cf3f0(0x4cb)](_0x5af736[_0x1cf3f0(0x1c4)]));return Object['values'](_0x402b99)[_0x1cf3f0(0x808)](_0xdb0400=>{const _0x473eba=_0x1cf3f0,_0x471df3=_0xdb0400[_0x473eba(0xbf3)];let _0x3e177c=_0x471df3,_0x52b6d8=0x0;_0x5af736[_0x473eba(0xc16)]&&_0xdb0400['answers']&&_0xdb0400[_0x473eba(0x7b4)]['forEach'](_0xbc9a08=>{const _0x3a8e57=_0x473eba;if(_0xbc9a08[_0x3a8e57(0xcf5)]&&(_0xbc9a08[_0x3a8e57(0x8f3)]===!![]||_0xbc9a08[_0x3a8e57(0x8f3)]===_0x3a8e57(0x45e)))_0x52b6d8+=0x1;else!_0xbc9a08[_0x3a8e57(0xcf5)]&&(_0xbc9a08[_0x3a8e57(0x8f3)]===!![]||_0xbc9a08['wasConfident']==='confident')&&(_0x52b6d8-=0x1);}),_0x3e177c+=_0x52b6d8,_0x41cb78>0x0&&_0x471df3===_0x41cb78&&(_0x3e177c+=0x1,_0xdb0400['hasPerfectScoreBonus']=!![]),_0xdb0400[_0x473eba(0xbf3)]=_0x3e177c;}),_0x402b99;}function listenForSyncGameUpdates(){const _0x24d092=_0x45baa4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xebeef1=doc(db,'artifacts/'+appId+_0x24d092(0x740),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xebeef1,_0x351948=>{const _0x20fc82=_0x24d092;if(!_0x351948[_0x20fc82(0xb1f)]()){sessionStorage['removeItem'](_0x20fc82(0xd0f));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x20fc82(0x300));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x20fc82(0x1af)?showView(_0x20fc82(0x848)):showView('student');return;}const _0x3a7d38=_0x351948[_0x20fc82(0x4da)]();currentMode===_0x20fc82(0x1af)?updateAdminSyncView(_0x3a7d38):updateStudentSyncView(_0x3a7d38);});}function renderSyncLobbyView(_0x43c2b7,_0x49371b){const _0x47693a=_0x45baa4;liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x49371b+_0x47693a(0x3a0)+_0x43c2b7+_0x47693a(0x5ae);const _0x1ebf71=document[_0x47693a(0xc7b)]('confidence-scoring-toggle'),_0x19bab4=document['getElementById'](_0x47693a(0x28a));_0x1ebf71['addEventListener']('change',()=>{const _0x549d85=_0x47693a;_0x19bab4[_0x549d85(0x59f)][_0x549d85(0x18e)]=_0x1ebf71['checked']?'block':_0x549d85(0xada);}),document['getElementById'](_0x47693a(0xbda))['addEventListener'](_0x47693a(0xb10),async()=>{const _0xe19f06=_0x47693a,_0x246b37=doc(db,_0xe19f06(0xb73)+appId+_0xe19f06(0x740),currentLiveGameId),_0x25ed8e=document['getElementById']('confidence-scoring-toggle')[_0xe19f06(0xa1c)];await updateDoc(_0x246b37,{'status':_0xe19f06(0xa76),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x25ed8e});});}function updateAdminSyncView(_0x56aa35){const _0x435cdb=_0x45baa4;switch(_0x56aa35[_0x435cdb(0x264)]){case _0x435cdb(0x36b):renderSyncLobbyView(_0x56aa35[_0x435cdb(0xb9f)],_0x56aa35[_0x435cdb(0x2e4)][_0x435cdb(0x613)]);const _0x3d0319=Object[_0x435cdb(0x1da)](_0x56aa35[_0x435cdb(0x1c4)]||{})['filter'](([_0x3e22b5,_0xd1d19d])=>_0xd1d19d[_0x435cdb(0x264)]!=='inactive');document[_0x435cdb(0xc7b)](_0x435cdb(0xce1))['textContent']=_0x3d0319['length'],document[_0x435cdb(0xc7b)]('player-list-lobby')['innerHTML']=_0x3d0319[_0x435cdb(0x327)](([_0x4732b6,_0x21b048])=>_0x435cdb(0x7f8)+_0x4732b6+_0x435cdb(0x8b7)+_0x4732b6+_0x435cdb(0xa15))[_0x435cdb(0x7a0)]('')||_0x435cdb(0x3bd),document[_0x435cdb(0xc7b)](_0x435cdb(0xbda))['disabled']=_0x3d0319['length']===0x0;break;case _0x435cdb(0xa76):const _0x17eacb=Object[_0x435cdb(0x548)](_0x56aa35[_0x435cdb(0x1c4)]||{})[_0x435cdb(0x6d0)](_0x13e87e=>_0x13e87e[_0x435cdb(0x264)]!==_0x435cdb(0x3fe)),_0x3d04d3=_0x17eacb[_0x435cdb(0x6d0)](_0xc4f50c=>_0xc4f50c[_0x435cdb(0xd2e)])[_0x435cdb(0xa33)],_0x2a8db6=_0x3d04d3===_0x17eacb['length']&&_0x17eacb[_0x435cdb(0xa33)]>0x0;if(_0x2a8db6&&_0x56aa35[_0x435cdb(0x264)]===_0x435cdb(0xa76)){const _0x15bcd9=doc(db,_0x435cdb(0xb73)+appId+_0x435cdb(0x740),currentLiveGameId);updateDoc(_0x15bcd9,{'status':_0x435cdb(0x792)});}else{if(document[_0x435cdb(0xc7b)](_0x435cdb(0x68a))===null)renderAdminSyncQuestionView(_0x56aa35);else{const _0x1271de=document[_0x435cdb(0xc7b)](_0x435cdb(0x8f2));_0x1271de&&(_0x1271de['textContent']=_0x3d04d3+'/'+_0x17eacb[_0x435cdb(0xa33)]);const _0x574307=document[_0x435cdb(0xc7b)](_0x435cdb(0x65a));_0x574307&&(_0x574307['innerHTML']=_0x17eacb[_0x435cdb(0x327)](_0x3e55ea=>{const _0x1470ac=_0x435cdb,_0x659e51=_0x3e55ea['answered']?_0x1470ac(0x4b1):_0x1470ac(0x184),_0x3ebfdd=_0x3e55ea[_0x1470ac(0xd2e)]?_0x1470ac(0x40c):_0x1470ac(0x24a);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x659e51+_0x1470ac(0xb50)+_0x3ebfdd+_0x1470ac(0x512)+_0x3e55ea[_0x1470ac(0xb4c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x3e55ea[_0x1470ac(0xb4c)]+_0x1470ac(0x535);})[_0x435cdb(0x7a0)](''));}}break;case _0x435cdb(0x792):const _0x594711=_0x56aa35['currentQuestionIndex'],_0xa18c5c=_0x56aa35[_0x435cdb(0x2e4)]['questions'][_0x594711];renderSyncSummaryView(_0x56aa35,_0xa18c5c,!![]);break;case _0x435cdb(0xb84):const _0xae5218=_0x56aa35['gameVariant']||_0x435cdb(0x70c);_0xae5218===_0x435cdb(0xb37)?renderAdminSyncDashboard(_0x56aa35,!![],_0x56aa35[_0x435cdb(0x9f2)]):renderAdminSyncDashboard(_0x56aa35,!![],_0x56aa35[_0x435cdb(0x43c)]);break;case'podium':_0x56aa35[_0x435cdb(0xc6b)]&&saveGameResultsAsSubmissions(_0x56aa35);sessionStorage[_0x435cdb(0xbce)]('activeGameSession');const _0x46a2b1=calculateFinalPodiumScores(_0x56aa35);showPodiumView(_0x46a2b1,_0x435cdb(0x3f4));break;}}function renderAdminSyncQuestionView(_0x31fb99){const _0x228543=_0x45baa4,_0x2c87c7=_0x31fb99[_0x228543(0x43c)],_0x53f31c=_0x31fb99[_0x228543(0x2e4)][_0x228543(0x92e)][_0x2c87c7],_0x49355b=_0x31fb99[_0x228543(0x2e4)]['questions'][_0x228543(0xa33)],_0x25ecf2=Object[_0x228543(0x548)](_0x31fb99[_0x228543(0x1c4)]||{})[_0x228543(0x6d0)](_0x5a44fc=>_0x5a44fc[_0x228543(0x264)]!==_0x228543(0x3fe)),_0xd31a43=_0x25ecf2[_0x228543(0x6d0)](_0x8e34ad=>_0x8e34ad['answered'])['length'],_0x1acaac=_0xd31a43===_0x25ecf2[_0x228543(0xa33)]&&_0x25ecf2[_0x228543(0xa33)]>0x0,_0x28c037=(_0x53f31c[_0x228543(0x929)]||[])[_0x228543(0x327)](_0x444958=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x444958+_0x228543(0x418))['join']('');liveGameView[_0x228543(0x9be)]=_0x228543(0x999)+(_0x2c87c7+0x1)+'\x20/\x20'+_0x49355b+_0x228543(0x359)+_0xd31a43+'/'+_0x25ecf2[_0x228543(0xa33)]+_0x228543(0xbb2)+_0x53f31c['questionText']+_0x228543(0x911)+_0x28c037+_0x228543(0x18f)+(!_0x1acaac?'disabled':'')+_0x228543(0x202);if(window[_0x228543(0x8a3)])MathJax[_0x228543(0x91c)]();document['getElementById'](_0x228543(0x624))[_0x228543(0x21f)]('click',async()=>{const _0x243951=_0x228543,_0x2b9a6b=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x2b9a6b,{'status':_0x243951(0xb84)});}),document[_0x228543(0xc7b)](_0x228543(0x1ab))[_0x228543(0x2e6)]=()=>{openScratchpad(_0x53f31c,_0x53f31c['options']||[]);},document[_0x228543(0xc7b)](_0x228543(0x2c2))['addEventListener'](_0x228543(0xb10),()=>{const _0xf17d93=_0x228543;document[_0xf17d93(0xc7b)]('sync-player-management')[_0xf17d93(0x246)]['toggle']('hidden');});}function renderSyncLeaderboardView(_0x1a5c8c,_0x44c29e){const _0x90f7f6=_0x45baa4,_0x2eb168=Object[_0x90f7f6(0x548)](_0x1a5c8c['players']||{});_0x2eb168[_0x90f7f6(0x835)]((_0x11c306,_0x15d8e6)=>_0x15d8e6['score']-_0x11c306[_0x90f7f6(0xbf3)]);const _0x10d0b8=_0x2eb168[_0x90f7f6(0x5d9)](0x0,0x5);let _0x3a78b2='';if(_0x44c29e){const _0x245071=_0x1a5c8c[_0x90f7f6(0x43c)]>=_0x1a5c8c['shuffledQuiz']['questions'][_0x90f7f6(0xa33)]-0x1;_0x3a78b2='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x245071?'ดูผลสรุปสุดท้าย':_0x90f7f6(0x4ae))+_0x90f7f6(0xced);}else _0x3a78b2=_0x90f7f6(0xb3d);liveGameView['innerHTML']=_0x90f7f6(0x9b5)+_0x10d0b8[_0x90f7f6(0x327)]((_0x337d5a,_0x19bb04)=>_0x90f7f6(0xa14)+(_0x19bb04+0x1)+'.\x20'+_0x337d5a[_0x90f7f6(0xb4c)]+_0x90f7f6(0xbf6)+_0x337d5a[_0x90f7f6(0xbf3)]+_0x90f7f6(0xb24))[_0x90f7f6(0x7a0)]('')+_0x90f7f6(0x815)+_0x3a78b2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x44c29e&&document[_0x90f7f6(0xc7b)](_0x90f7f6(0xa47))[_0x90f7f6(0x21f)](_0x90f7f6(0xb10),async()=>{const _0x3b87e0=_0x90f7f6,_0x477da3=doc(db,_0x3b87e0(0xb73)+appId+_0x3b87e0(0x740),currentLiveGameId),_0x375cd9=_0x1a5c8c[_0x3b87e0(0x43c)]+0x1;if(_0x375cd9<_0x1a5c8c['shuffledQuiz']['questions'][_0x3b87e0(0xa33)]){const _0x41e6f1={};Object['keys'](_0x1a5c8c['players'])[_0x3b87e0(0x808)](_0x39dff1=>{const _0x10a0cb=_0x3b87e0;_0x41e6f1[_0x10a0cb(0x2cd)+_0x39dff1+_0x10a0cb(0xb32)]=![];}),await updateDoc(_0x477da3,{..._0x41e6f1,'status':_0x3b87e0(0xa76),'currentQuestionIndex':_0x375cd9,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x477da3,{'status':_0x3b87e0(0x951)});});}async function handleJoinSyncGame(){const _0x58fac6=_0x45baa4,_0x12b49f=prompt(_0x58fac6(0x467));if(!_0x12b49f||_0x12b49f[_0x58fac6(0x958)]()['length']!==0x2){showMessage(_0x58fac6(0x795));return;}try{const _0x46f5ec=collection(db,_0x58fac6(0xb73)+appId+_0x58fac6(0x740)),_0x2056e1=query(_0x46f5ec,where(_0x58fac6(0xb9f),'==',_0x12b49f['trim']()),where(_0x58fac6(0x264),'==',_0x58fac6(0x36b))),_0x3a8421=await getDocs(_0x2056e1);if(_0x3a8421[_0x58fac6(0x1cd)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x1f1a13=_0x3a8421['docs'][0x0];currentLiveGameId=_0x1f1a13['id'];const _0x66ff69=_0x1f1a13[_0x58fac6(0x4da)](),_0x31b43e=doc(db,_0x58fac6(0xb73)+appId+'/public/data/quizzes',_0x66ff69[_0x58fac6(0x25d)]),_0xcd1c68=await getDoc(_0x31b43e);if(!_0xcd1c68['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x3a0a48=_0xcd1c68[_0x58fac6(0x4da)](),_0x1b0bd9=doc(db,_0x58fac6(0xb73)+appId+_0x58fac6(0xafc),_0x3a0a48['projectId']),_0x339be2=await getDoc(_0x1b0bd9);if(!_0x339be2[_0x58fac6(0xb1f)]())throw new Error(_0x58fac6(0xcdc));currentQuizData=_0x66ff69['shuffledQuiz'];const _0x5cde25=_0x339be2[_0x58fac6(0x4da)]();showView(_0x58fac6(0x345)),showTeamPlayerSelection(_0x5cde25['students'],_0x3a0a48[_0x58fac6(0x613)]);const _0x2ccb2d=document[_0x58fac6(0xc7b)]('confirm-team-players-btn');_0x2ccb2d[_0x58fac6(0x2e6)]=confirmAndJoinSyncGame;}catch(_0x603e15){console[_0x58fac6(0xab1)]('Error\x20joining\x20sync\x20game:',_0x603e15),showMessage(_0x58fac6(0x1e6)+_0x603e15[_0x58fac6(0x776)]);}}function updateStudentSyncView(_0x355755){const _0x191ffb=_0x45baa4,_0xf8f973=_0x355755[_0x191ffb(0x1c4)][localTeamPlayers[0x0]];switch(_0x355755[_0x191ffb(0x264)]){case'lobby':showView(_0x191ffb(0x9d9)),liveGameView[_0x191ffb(0x9be)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x191ffb(0xa76):localPlayerTurnIndex=0x0;const _0x228401=localTeamPlayers[_0x191ffb(0x311)](_0xd1c243=>_0x355755[_0x191ffb(0x1c4)][_0xd1c243]?.[_0x191ffb(0xd2e)]===!![]);_0x228401?liveGameView[_0x191ffb(0x9be)]=_0x191ffb(0x998):renderStudentSyncQuestionView(_0x355755);break;case _0x191ffb(0x792):liveGameView[_0x191ffb(0x9be)]=_0x191ffb(0xa98);break;case _0x191ffb(0xb84):localPlayerTurnIndex=0x0;const _0x41b504=_0x355755[_0x191ffb(0x5ec)]||_0x191ffb(0x70c);if(_0x41b504==='reveal_at_end')renderAdminSyncDashboard(_0x355755,![],_0x355755[_0x191ffb(0x9f2)]);else _0x41b504===_0x191ffb(0x3b7)?renderAnonymousStudentResultsView(_0x355755):renderStudentSyncResultsView(_0x355755);break;case _0x191ffb(0x951):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x191ffb(0xc0e)]('fullscreenchange',handleFullscreenChange),document[_0x191ffb(0xc0e)](_0x191ffb(0x763),handleVisibilityChange),sessionStorage[_0x191ffb(0xbce)](_0x191ffb(0xd0f));const _0x4b2d3a=calculateFinalPodiumScores(_0x355755);showPodiumView(_0x4b2d3a,_0x191ffb(0x3f4));break;}}function renderStudentSyncResultsView(_0x2fd078){const _0x1199d9=_0x45baa4,_0x2d1244=localTeamPlayers['map'](_0x318bfa=>_0x2fd078[_0x1199d9(0x1c4)][_0x318bfa])['filter'](Boolean);_0x2d1244[_0x1199d9(0x835)]((_0xf3b0f7,_0x3724cc)=>(_0x3724cc[_0x1199d9(0xbf3)]||0x0)-(_0xf3b0f7[_0x1199d9(0xbf3)]||0x0));const _0x3a2cb4=_0x2fd078[_0x1199d9(0x5ec)]||_0x1199d9(0x70c),_0x408888=_0x2fd078[_0x1199d9(0x2e4)][_0x1199d9(0x92e)];let _0x2cc9b7='';if(_0x3a2cb4===_0x1199d9(0xb37)){const _0x18f351=_0x2fd078[_0x1199d9(0x9f2)]>=_0x408888[_0x1199d9(0xa33)]-0x1;_0x18f351?_0x2cc9b7=_0x1199d9(0xa00):_0x2cc9b7=_0x1199d9(0x376);}else{const _0xdb9260=_0x2fd078[_0x1199d9(0x43c)]>=_0x408888['length']-0x1;_0xdb9260?_0x2cc9b7=_0x1199d9(0xa00):_0x2cc9b7='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';}const _0x4be4c1=_0x1199d9(0xd51)+_0x2d1244['map']((_0x34fdb0,_0x251160)=>_0x1199d9(0x6cc)+(_0x251160+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x34fdb0[_0x1199d9(0xb4c)]+_0x1199d9(0xc2c)+_0x34fdb0[_0x1199d9(0xbf3)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1199d9(0x7a0)]('')+_0x1199d9(0xadf)+_0x2cc9b7+_0x1199d9(0x681);liveGameView[_0x1199d9(0x9be)]=_0x4be4c1;}function renderStudentSyncQuestionView(_0x15b8ff){const _0x48c2d4=_0x45baa4,_0x551b5e=localTeamPlayers[_0x48c2d4(0x5f4)](_0x26f790=>_0x15b8ff['players'][_0x26f790]&&_0x15b8ff[_0x48c2d4(0x1c4)][_0x26f790]['answered']===![]);if(!_0x551b5e){console[_0x48c2d4(0x161)](_0x48c2d4(0xb67));return;}const _0x3d0532=_0x15b8ff[_0x48c2d4(0x43c)],_0x209101=_0x15b8ff[_0x48c2d4(0x2e4)]['questions'][_0x48c2d4(0xa33)],_0x4c76fa=_0x15b8ff[_0x48c2d4(0x2e4)]['questions'][_0x3d0532],_0x276f6e=_0x4c76fa[_0x48c2d4(0x34f)]||_0x15b8ff['shuffledQuiz']['quizType'];let _0x396001='',_0x457f68=![];switch(_0x276f6e){case _0x48c2d4(0x3f8):_0x396001=_0x48c2d4(0x99c);break;case _0x48c2d4(0x19e):case'fill_in_no_choices':_0x457f68=!![],_0x396001=_0x48c2d4(0x254);break;case _0x48c2d4(0xafa):_0x457f68=!![],_0x396001=_0x48c2d4(0xccf)+(_0x4c76fa[_0x48c2d4(0x416)]||[])[_0x48c2d4(0x327)](_0x5ae2fa=>_0x48c2d4(0x490)+_0x5ae2fa+'\x22>'+_0x5ae2fa+_0x48c2d4(0xaff))['join']('')+_0x48c2d4(0x3b1);break;case _0x48c2d4(0x35a):default:_0x396001=(_0x4c76fa[_0x48c2d4(0x929)]||[])[_0x48c2d4(0x327)]((_0x3ad975,_0x19b069)=>_0x48c2d4(0xbae)+_0x19b069+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x3ad975+'</button>')[_0x48c2d4(0x7a0)]('');break;}liveGameView[_0x48c2d4(0x9be)]=_0x48c2d4(0x1ae)+(_0x3d0532+0x1)+_0x48c2d4(0xc6c)+_0x209101+_0x48c2d4(0x228)+_0x551b5e+_0x48c2d4(0xc34)+(_0x4c76fa[_0x48c2d4(0x24b)]||_0x4c76fa[_0x48c2d4(0x6ea)])+_0x48c2d4(0x1b3)+_0x396001+_0x48c2d4(0x778);if(window['MathJax'])MathJax[_0x48c2d4(0x91c)]();function _0x3bcafb(_0x508c72,_0x3343fd,_0x9b5a88,_0x18a1db){const _0x13b083=_0x48c2d4,_0x579842=_0x9b5a88[_0x13b083(0xc16)]===!![];if(_0x579842){document[_0x13b083(0xc7b)](_0x13b083(0x8ac))[_0x13b083(0xaf8)][_0x13b083(0x8ec)]='sync';const _0x132bff=document[_0x13b083(0xc7b)]('selected-answer-index-hidden');_0x132bff[_0x13b083(0xaf8)][_0x13b083(0x668)]=_0x508c72,_0x132bff[_0x13b083(0xaf8)]['question']=JSON['stringify'](_0x3343fd),_0x132bff[_0x13b083(0xaf8)]['gameData']=JSON[_0x13b083(0x4cb)](_0x9b5a88),_0x132bff[_0x13b083(0xaf8)]['playerName']=_0x18a1db,document[_0x13b083(0xc7b)]('confidence-modal')[_0x13b083(0x246)]['remove']('hidden');}else handleSyncAnswerSubmit(_0x508c72,_0x3343fd,_0x9b5a88,_0x18a1db,![]);}_0x457f68?document['getElementById'](_0x48c2d4(0x8de))[_0x48c2d4(0x21f)]('click',()=>{const _0x5690c8=_0x48c2d4,_0x141675=document[_0x5690c8(0xc7b)](_0x5690c8(0xbbb))||document[_0x5690c8(0xc7b)](_0x5690c8(0x7c4));if(_0x141675[_0x5690c8(0xab9)][_0x5690c8(0x958)]()===''){showMessage(_0x5690c8(0xbba));return;}_0x3bcafb(_0x141675[_0x5690c8(0xab9)],_0x4c76fa,_0x15b8ff,_0x551b5e);}):document['querySelectorAll'](_0x48c2d4(0x853))[_0x48c2d4(0x808)](_0x316723=>{const _0xea1d76=_0x48c2d4;_0x316723[_0xea1d76(0x21f)](_0xea1d76(0xb10),()=>{const _0x5b31d9=_0xea1d76;_0x3bcafb(_0x316723[_0x5b31d9(0xaf8)][_0x5b31d9(0xab9)],_0x4c76fa,_0x15b8ff,_0x551b5e);});});}async function handleSyncAnswerSubmit(_0x2378e4,_0x1193db,_0x179172,_0x5663c1,_0xfaeb7b){const _0x35c721=_0x45baa4;document[_0x35c721(0x336)](_0x35c721(0x213))[_0x35c721(0x808)](_0x52379b=>_0x52379b[_0x35c721(0x514)]=!![]);const _0x29f655=_0x1193db[_0x35c721(0x34f)]||_0x179172['shuffledQuiz']['quizType'];let _0x26252b=![],_0x1f9367=_0x2378e4;switch(_0x29f655){case'true_false':const _0x23124f=parseInt(_0x2378e4),_0xc29445=_0x1193db[_0x35c721(0x4cc)]===!![]||String(_0x1193db['correctAnswer'])[_0x35c721(0xd4a)]()==='true';_0x26252b=_0x23124f===0x0&&_0xc29445||_0x23124f===0x1&&!_0xc29445,_0x1f9367=_0x23124f===0x0?_0x35c721(0x440):_0x35c721(0x603);break;case _0x35c721(0x19e):case _0x35c721(0x6d6):_0x26252b=await gradeShortAnswer(_0x2378e4,_0x1193db);break;case _0x35c721(0xafa):_0x26252b=_0x2378e4===_0x1193db['correctResponse'];break;case _0x35c721(0x35a):default:const _0x4e0ae5=parseInt(_0x2378e4);_0x26252b=_0x4e0ae5===_0x1193db[_0x35c721(0xbfe)];_0x1193db['options']&&_0x1193db[_0x35c721(0x929)][_0x4e0ae5]&&(_0x1f9367=_0x1193db[_0x35c721(0x929)][_0x4e0ae5]);break;}const _0x59f029=_0x26252b?0x1:0x0,_0x4d717e=doc(db,_0x35c721(0xb73)+appId+_0x35c721(0x740),currentLiveGameId),_0x36b259={};_0x36b259[_0x35c721(0x2cd)+_0x5663c1+_0x35c721(0x2b8)]=increment(_0x59f029),_0x36b259[_0x35c721(0x2cd)+_0x5663c1+_0x35c721(0xb32)]=!![];let _0x3dab1f=null;(_0x29f655==='multiple_choice'||_0x29f655===_0x35c721(0x3f8)||_0x29f655==='fill_in_with_choices')&&(_0x3dab1f=parseInt(_0x2378e4));_0x36b259[_0x35c721(0x2cd)+_0x5663c1+_0x35c721(0x9fc)]=_0x3dab1f;const _0x35a965={'questionIndex':_0x179172['currentQuestionIndex'],'questionId':_0x1193db['id'],'answer':_0x2378e4,'answerText':_0x1f9367,'isCorrect':_0x26252b,'originalQuestionText':_0x1193db[_0x35c721(0x24b)]||_0x1193db[_0x35c721(0x6ea)],'wasConfident':_0xfaeb7b};_0x36b259[_0x35c721(0x2cd)+_0x5663c1+_0x35c721(0xb83)]=arrayUnion(_0x35a965),await updateDoc(_0x4d717e,_0x36b259);}initialize();
